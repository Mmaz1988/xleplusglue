(self.webpackChunkgswb_client=self.webpackChunkgswb_client||[]).push([[179],{3629:(Y,se,D)=>{"use strict";function T(t){return"function"==typeof t}function P(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const O=P(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function I(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class C{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(T(r))try{r()}catch(s){n=s instanceof O?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{A(s)}catch(d){n=n??[],d instanceof O?n=[...n,...d.errors]:n.push(d)}}if(n)throw new O(n)}}add(n){var e;if(n&&n!==this)if(this.closed)A(n);else{if(n instanceof C){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&I(e,n)}remove(n){const{_finalizers:e}=this;e&&I(e,n),n instanceof C&&n._removeParent(this)}}C.EMPTY=(()=>{const t=new C;return t.closed=!0,t})();const S=C.EMPTY;function N(t){return t instanceof C||t&&"closed"in t&&T(t.remove)&&T(t.add)&&T(t.unsubscribe)}function A(t){T(t)?t():t.unsubscribe()}const V={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},L={setTimeout(t,n,...e){const{delegate:r}=L;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=L;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function k(t){L.setTimeout(()=>{const{onUnhandledError:n}=V;if(!n)throw t;n(t)})}function H(){}const $=ne("C",void 0,void 0);function ne(t,n,e){return{kind:t,value:n,error:e}}let le=null;function ae(t){if(V.useDeprecatedSynchronousErrorHandling){const n=!le;if(n&&(le={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=le;if(le=null,e)throw r}}else t()}class te extends C{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,N(n)&&n.add(this)):this.destination=De}static create(n,e,r){return new ie(n,e,r)}next(n){this.isStopped?Se(function ue(t){return ne("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Se(function Q(t){return ne("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Se($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pe=Function.prototype.bind;function q(t,n){return pe.call(t,n)}class oe{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){me(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){me(r)}else me(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){me(e)}}}class ie extends te{constructor(n,e,r){let i;if(super(),T(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let s;this&&V.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&q(n.next,s),error:n.error&&q(n.error,s),complete:n.complete&&q(n.complete,s)}):i=n}this.destination=new oe(i)}}function me(t){V.useDeprecatedSynchronousErrorHandling?function de(t){V.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=t)}(t):k(t)}function Se(t,n){const{onStoppedNotification:e}=V;e&&L.setTimeout(()=>e(t,n))}const De={closed:!0,next:H,error:function we(t){throw t},complete:H},ze="function"==typeof Symbol&&Symbol.observable||"@@observable";function Be(t){return t}function ht(t){return 0===t.length?Be:1===t.length?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}let Ke=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){const s=function qt(t){return t&&t instanceof te||function qe(t){return t&&T(t.next)&&T(t.error)&&T(t.complete)}(t)&&N(t)}(e)?e:new ie(e,r,i);return ae(()=>{const{operator:d,source:m}=this;s.add(d?d.call(s,m):m?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Ct(r))((i,s)=>{const d=new ie({next:m=>{try{e(m)}catch(w){s(w),d.unsubscribe()}},error:s,complete:i});this.subscribe(d)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[ze](){return this}pipe(...e){return ht(e)(this)}toPromise(e){return new(e=Ct(e))((r,i)=>{let s;this.subscribe(d=>s=d,d=>i(d),()=>r(s))})}}return t.create=n=>new t(n),t})();function Ct(t){var n;return null!==(n=t??V.Promise)&&void 0!==n?n:Promise}const Ht=P(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let It=(()=>{class t extends Ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new vn(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Ht}next(e){ae(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){ae(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){ae(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:s}=this;return r||i?S:(this.currentObservers=null,s.push(e),new C(()=>{this.currentObservers=null,I(s,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:s}=this;r?e.error(i):s&&e.complete()}asObservable(){const e=new Ke;return e.source=this,e}}return t.create=(n,e)=>new vn(n,e),t})();class vn extends It{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:S}}class cn extends It{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function ut(t){return T(t?.lift)}function it(t){return n=>{if(ut(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pt(t,n,e,r,i){return new Ft(t,n,e,r,i)}class Ft extends te{constructor(n,e,r,i,s,d){super(n),this.onFinalize=s,this.shouldUnsubscribe=d,this._next=e?function(m){try{e(m)}catch(w){n.error(w)}}:super._next,this._error=i?function(m){try{i(m)}catch(w){n.error(w)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(m){n.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function St(t,n){return it((e,r)=>{let i=0;e.subscribe(pt(r,s=>{r.next(t.call(n,s,i++))}))})}function Xo(t){return this instanceof Xo?(this.v=t,this):new Xo(t)}function Ms(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function ja(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(s){e[s]=t[s]&&function(d){return new Promise(function(m,w){!function i(s,d,m,w){Promise.resolve(w).then(function(R){s({value:R,done:m})},d)}(m,w,(d=t[s](d)).done,d.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ia=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function qs(t){return T(t?.then)}function ed(t){return T(t[ze])}function as(t){return Symbol.asyncIterator&&T(t?.[Symbol.asyncIterator])}function Aa(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ss=function dh(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function td(t){return T(t?.[ss])}function vu(t){return function dl(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(t,n||[]),s=[];return i={},d("next"),d("throw"),d("return"),i[Symbol.asyncIterator]=function(){return this},i;function d(ge){r[ge]&&(i[ge]=function(ve){return new Promise(function(Ie,Fe){s.push([ge,ve,Ie,Fe])>1||m(ge,ve)})})}function m(ge,ve){try{!function w(ge){ge.value instanceof Xo?Promise.resolve(ge.value.v).then(R,z):X(s[0][2],ge)}(r[ge](ve))}catch(Ie){X(s[0][3],Ie)}}function R(ge){m("next",ge)}function z(ge){m("throw",ge)}function X(ge,ve){ge(ve),s.shift(),s.length&&m(s[0][0],s[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:i}=yield Xo(e.read());if(i)return yield Xo(void 0);yield yield Xo(r)}}finally{e.releaseLock()}})}function ec(t){return T(t?.getReader)}function No(t){if(t instanceof Ke)return t;if(null!=t){if(ed(t))return function nd(t){return new Ke(n=>{const e=t[ze]();if(T(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Ia(t))return function tc(t){return new Ke(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(qs(t))return function nc(t){return new Ke(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,k)})}(t);if(as(t))return rc(t);if(td(t))return function Is(t){return new Ke(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(ec(t))return function rd(t){return rc(vu(t))}(t)}throw Aa(t)}function rc(t){return new Ke(n=>{(function ri(t,n){var e,r,i,s;return function Fi(t,n,e,r){return new(e||(e=Promise))(function(s,d){function m(z){try{R(r.next(z))}catch(X){d(X)}}function w(z){try{R(r.throw(z))}catch(X){d(X)}}function R(z){z.done?s(z.value):function i(s){return s instanceof e?s:new e(function(d){d(s)})}(z.value).then(m,w)}R((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Ms(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(d){i={error:d}}finally{try{r&&!r.done&&(s=e.return)&&(yield s.call(e))}finally{if(i)throw i.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Oa(t,n,e,r=0,i=!1){const s=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Zi(t,n,e=1/0){return T(n)?Zi((r,i)=>St((s,d)=>n(r,s,i,d))(No(t(r,i))),e):("number"==typeof n&&(e=n),it((r,i)=>function Tr(t,n,e,r,i,s,d,m){const w=[];let R=0,z=0,X=!1;const ge=()=>{X&&!w.length&&!R&&n.complete()},ve=Fe=>R<r?Ie(Fe):w.push(Fe),Ie=Fe=>{s&&n.next(Fe),R++;let Qe=!1;No(e(Fe,z++)).subscribe(pt(n,lt=>{i?.(lt),s?ve(lt):n.next(lt)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(R--;w.length&&R<r;){const lt=w.shift();d?Oa(n,d,()=>Ie(lt)):Ie(lt)}ge()}catch(lt){n.error(lt)}}))};return t.subscribe(pt(n,ve,()=>{X=!0,ge()})),()=>{m?.()}}(r,i,t,e)))}function ki(t=1/0){return Zi(Be,t)}const oa=new Ke(t=>t.complete());function xn(t){return t&&T(t.schedule)}function li(t){return t[t.length-1]}function $a(t){return T(li(t))?t.pop():void 0}function Ro(t){return xn(li(t))?t.pop():void 0}function Qi(t,n=0){return it((e,r)=>{e.subscribe(pt(r,i=>Oa(r,t,()=>r.next(i),n),()=>Oa(r,t,()=>r.complete(),n),i=>Oa(r,t,()=>r.error(i),n)))})}function ko(t,n=0){return it((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function As(t,n){if(!t)throw new Error("Iterable cannot be null");return new Ke(e=>{Oa(e,n,()=>{const r=t[Symbol.asyncIterator]();Oa(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Ve(t,n){return n?function Re(t,n){if(null!=t){if(ed(t))return function id(t,n){return No(t).pipe(ko(n),Qi(n))}(t,n);if(Ia(t))return function Yn(t,n){return new Ke(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(qs(t))return function Tt(t,n){return No(t).pipe(ko(n),Qi(n))}(t,n);if(as(t))return As(t,n);if(td(t))return function od(t,n){return new Ke(e=>{let r;return Oa(e,n,()=>{r=t[ss](),Oa(e,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(d){return void e.error(d)}s?e.complete():e.next(i)},0,!0)}),()=>T(r?.return)&&r.return()})}(t,n);if(ec(t))return function Oe(t,n){return As(vu(t),n)}(t,n)}throw Aa(t)}(t,n):No(t)}function rt(...t){const n=Ro(t),e=function Pr(t,n){return"number"==typeof li(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?No(r[0]):ki(e)(Ve(r,n)):oa}function tt(...t){return Ve(t,Ro(t))}function Zt(t={}){const{connector:n=(()=>new It),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let d,m,w,R=0,z=!1,X=!1;const ge=()=>{m?.unsubscribe(),m=void 0},ve=()=>{ge(),d=w=void 0,z=X=!1},Ie=()=>{const Fe=d;ve(),Fe?.unsubscribe()};return it((Fe,Qe)=>{R++,!X&&!z&&ge();const lt=w=w??n();Qe.add(()=>{R--,0===R&&!X&&!z&&(m=mn(Ie,i))}),lt.subscribe(Qe),!d&&R>0&&(d=new ie({next:Ze=>lt.next(Ze),error:Ze=>{X=!0,ge(),m=mn(ve,e,Ze),lt.error(Ze)},complete:()=>{z=!0,ge(),m=mn(ve,r),lt.complete()}}),No(Fe).subscribe(d))})(s)}}function mn(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new ie({next:()=>{r.unsubscribe(),t()}});return No(n(...e)).subscribe(r)}function Vt(t,n){return it((e,r)=>{let i=null,s=0,d=!1;const m=()=>d&&!i&&r.complete();e.subscribe(pt(r,w=>{i?.unsubscribe();let R=0;const z=s++;No(t(w,z)).subscribe(i=pt(r,X=>r.next(n?n(w,X,z,R++):X),()=>{i=null,m()}))},()=>{d=!0,m()}))})}function en(t,n=Be){return t=t??Un,it((e,r)=>{let i,s=!0;e.subscribe(pt(r,d=>{const m=n(d);(s||!t(i,m))&&(s=!1,i=m,r.next(d))}))})}function Un(t,n){return t===n}function Bt(t){for(let n in t)if(t[n]===Bt)return n;throw Error("Could not find renamed property on target object.")}function Ar(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function er(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(er).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function or(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ii=Bt({__forward_ref__:Bt});function An(t){return t.__forward_ref__=An,t.toString=function(){return er(this())},t}function on(t){return Lr(t)?t():t}function Lr(t){return"function"==typeof t&&t.hasOwnProperty(ii)&&t.__forward_ref__===An}function gi(t){return t&&!!t.\u0275providers}const mr="https://g.co/ng/security#xss";class et extends Error{constructor(n,e){super(function Fr(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function yn(t){return"string"==typeof t?t:null==t?"":String(t)}function zi(t,n){throw new et(-201,!1)}function io(t,n){null==t&&function tr(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function an(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ra(t){return yu(t,ka)||yu(t,Ul)}function yu(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ko(t){return t&&(t.hasOwnProperty(Ns)||t.hasOwnProperty(sc))?t[Ns]:null}const ka=Bt({\u0275prov:Bt}),Ns=Bt({\u0275inj:Bt}),Ul=Bt({ngInjectableDef:Bt}),sc=Bt({ngInjectorDef:Bt});var Fn=(()=>((Fn=Fn||{})[Fn.Default=0]="Default",Fn[Fn.Host=1]="Host",Fn[Fn.Self=2]="Self",Fn[Fn.SkipSelf=4]="SkipSelf",Fn[Fn.Optional=8]="Optional",Fn))();let Xa;function yo(t){const n=Xa;return Xa=t,n}function ls(t,n,e){const r=Ra(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Fn.Optional?null:void 0!==n?n:void zi(er(t))}const mi=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),bu={},_u="__NG_DI_FLAG__",uc="ngTempTokenPath",bo=/\n/gm,hh="__source";let Js;function Pa(t){const n=Js;return Js=t,n}function Mp(t,n=Fn.Default){if(void 0===Js)throw new et(-203,!1);return null===Js?ls(t,void 0,n):Js.get(t,n&Fn.Optional?null:void 0,n)}function Pt(t,n=Fn.Default){return(function pl(){return Xa}()||Mp)(on(t),n)}function nn(t,n=Fn.Default){return Pt(t,gf(n))}function gf(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mf(t){const n=[];for(let e=0;e<t.length;e++){const r=on(t[e]);if(Array.isArray(r)){if(0===r.length)throw new et(900,!1);let i,s=Fn.Default;for(let d=0;d<r.length;d++){const m=r[d],w=um(m);"number"==typeof w?-1===w?i=m.token:s|=w:i=m}n.push(Pt(i,s))}else n.push(Pt(r))}return n}function dc(t,n){return t[_u]=n,t.prototype[_u]=n,t}function um(t){return t[_u]}function us(t){return{toString:t}.toString()}var cs=(()=>((cs=cs||{})[cs.OnPush=0]="OnPush",cs[cs.Default=1]="Default",cs))(),ya=(()=>{return(t=ya||(ya={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",ya;var t})();const _o={},xr=[],hc=Bt({\u0275cmp:Bt}),vf=Bt({\u0275dir:Bt}),yf=Bt({\u0275pipe:Bt}),Ip=Bt({\u0275mod:Bt}),Rs=Bt({\u0275fac:Bt}),jl=Bt({__NG_ELEMENT_ID__:Bt}),Wl=Bt({__NG_ENV_ID__:Bt});function ks(t,n,e){let r=t.length;for(;;){const i=t.indexOf(n,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=n.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}e=i+1}}function bf(t,n,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const s=e[r++],d=e[r++],m=e[r++];t.setAttribute(n,d,m,s)}else{const s=i,d=e[++r];Cu(s)?t.setProperty(n,s,d):t.setAttribute(n,s,d),r++}}return r}function wu(t){return 3===t||4===t||6===t}function Cu(t){return 64===t.charCodeAt(0)}function $l(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?e=i:0===e||Ap(t,e,i,null,-1===e||2===e?n[++r]:null)}}return t}function Ap(t,n,e,r,i){let s=0,d=t.length;if(-1===n)d=-1;else for(;s<t.length;){const m=t[s++];if("number"==typeof m){if(m===n){d=-1;break}if(m>n){d=s-1;break}}}for(;s<t.length;){const m=t[s];if("number"==typeof m)break;if(m===e){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==d&&(t.splice(d,0,n),s=d+1),t.splice(s++,0,e),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const sd="ng-template";function ld(t,n,e){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const d=t[r++];if(e&&"class"===s&&-1!==ks(d.toLowerCase(),n,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===n)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Yl(t){return 4===t.type&&t.value!==sd}function gh(t,n,e){return n===(4!==t.type||e?t.value:sd)}function mh(t,n,e){let r=4;const i=t.attrs||[],s=function ds(t){for(let n=0;n<t.length;n++)if(wu(t[n]))return n;return t.length}(i);let d=!1;for(let m=0;m<n.length;m++){const w=n[m];if("number"!=typeof w){if(!d)if(4&r){if(r=2|1&r,""!==w&&!gh(t,w,e)||""===w&&1===n.length){if(Ka(r))return!1;d=!0}}else{const R=8&r?w:n[++m];if(8&r&&null!==t.attrs){if(!ld(t.attrs,R,e)){if(Ka(r))return!1;d=!0}continue}const X=_f(8&r?"class":w,i,Yl(t),e);if(-1===X){if(Ka(r))return!1;d=!0;continue}if(""!==R){let ge;ge=X>s?"":i[X+1].toLowerCase();const ve=8&r?ge:null;if(ve&&-1!==ks(ve,R,0)||2&r&&R!==ge){if(Ka(r))return!1;d=!0}}}}else{if(!d&&!Ka(r)&&!Ka(w))return!1;if(d&&Ka(w))continue;d=!1,r=w|1&r}}return Ka(r)||d}function Ka(t){return 0==(1&t)}function _f(t,n,e,r){if(null===n)return-1;let i=0;if(r||!e){let s=!1;for(;i<n.length;){const d=n[i];if(d===t)return i;if(3===d||6===d)s=!0;else{if(1===d||2===d){let m=n[++i];for(;"string"==typeof m;)m=n[++i];continue}if(4===d)break;if(0===d){i+=4;continue}}i+=s?1:2}return-1}return function Op(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function vh(t,n,e=!1){for(let r=0;r<n.length;r++)if(mh(t,n[r],e))return!0;return!1}function yh(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function wf(t,n){return t?":not("+n.trim()+")":n}function Np(t){let n=t[0],e=1,r=2,i="",s=!1;for(;e<t.length;){let d=t[e];if("string"==typeof d)if(2&r){const m=t[++e];i+="["+d+(m.length>0?'="'+m+'"':"")+"]"}else 8&r?i+="."+d:4&r&&(i+=" "+d);else""!==i&&!Ka(d)&&(n+=wf(s,i),i=""),r=d,s=s||!Ka(r);e++}return""!==i&&(n+=wf(s,i)),n}function dr(t){return us(()=>{const n=vl(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===cs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ya.Emulated,styles:t.styles||xr,_:null,schemas:t.schemas||null,tView:null,id:""};pc(e);const r=t.dependencies;return e.directiveDefs=Ef(r,!1),e.pipeDefs=Ef(r,!0),e.id=function cd(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of e)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(e),e})}function dm(t){return Br(t)||Ui(t)}function xu(t){return null!==t}function ei(t){return us(()=>({type:t.type,bootstrap:t.bootstrap||xr,declarations:t.declarations||xr,imports:t.imports||xr,exports:t.exports||xr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function xf(t,n){if(null==t)return _o;const e={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),e[i]=r,n&&(n[i]=s)}return e}function ln(t){return us(()=>{const n=vl(t);return pc(n),n})}function Br(t){return t[hc]||null}function Ui(t){return t[vf]||null}function oo(t){return t[yf]||null}function so(t,n){const e=t[Ip]||null;if(!e&&!0===n)throw new Error(`Type ${er(t)} does not have '\u0275mod' property.`);return e}function vl(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||_o,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||xr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xf(t.inputs,n),outputs:xf(t.outputs)}}function pc(t){t.features?.forEach(n=>n(t))}function Ef(t,n){if(!t)return null;const e=n?oo:dm;return()=>("function"==typeof t?t():t).map(r=>e(r)).filter(xu)}const lo=0,fn=1,Wn=2,Li=3,sa=4,gc=5,wo=6,yl=7,vi=8,el=9,la=10,qn=11,mc=12,_h=13,Eu=14,Gi=15,fs=16,qa=17,uo=18,dd=19,fd=20,bl=21,ur=22,hd=23,Za=24,hn=25,pn=1,_l=2,Ps=7,Du=9,oi=11;function Qa(t){return Array.isArray(t)&&"object"==typeof t[pn]}function La(t){return Array.isArray(t)&&!0===t[pn]}function wh(t){return 0!=(4&t.flags)}function Su(t){return t.componentOffset>-1}function Df(t){return 1==(1&t.flags)}function hs(t){return!!t.template}function ua(t){return 0!=(512&t[Wn])}function co(t,n){return t.hasOwnProperty(Rs)?t[Rs]:null}let ca=mi.WeakRef??class Wr{constructor(n){this.ref=n}deref(){return this.ref}},ps=0,Bo=null,Cl=!1;function eo(t){const n=Bo;return Bo=t,n}class vc{constructor(){this.id=ps++,this.ref=function _a(t){return new ca(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,e]of this.producers){const r=e.producerNode.deref();if(void 0!==r&&e.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(e.seenValueVersion))return!0}else this.producers.delete(n),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=Cl;Cl=!0;try{for(const[e,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(e),i?.producers.delete(this.id))}}finally{Cl=n}}producerAccessed(){if(Cl)throw new Error("");if(null===Bo)return;let n=Bo.producers.get(this.id);void 0===n?(n={consumerNode:Bo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Bo.trackingVersion},Bo.producers.set(this.id,n),this.consumers.set(Bo.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=Bo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Bo?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let Dh=null;const bd=()=>{};class Bp extends vc{constructor(n,e,r){super(),this.watch=n,this.schedule=e,this.dirty=!1,this.cleanupFn=bd,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=eo(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=bd,this.watch(this.registerOnCleanup)}finally{eo(n)}}cleanup(){this.cleanupFn()}}class gm{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function wa(){return Sh}function Sh(t){return t.type.prototype.ngOnChanges&&(t.setInput=Af),wc}function wc(){const t=Th(this),n=t?.current;if(n){const e=t.previous;if(e===_o)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function Af(t,n,e,r){const i=this.declaredInputs[e],s=Th(t)||function Mh(t,n){return t[_d]=n}(t,{previous:_o,current:null}),d=s.current||(s.current={}),m=s.previous,w=m[i];d[i]=new gm(w&&w.currentValue,n,m===_o),t[r]=n}wa.ngInherit=!0;const _d="__ngSimpleChanges__";function Th(t){return t[_d]||null}const Fa=function(t,n,e){};function fi(t){for(;Array.isArray(t);)t=t[lo];return t}function Ed(t,n){return fi(n[t])}function ji(t,n){return fi(n[t.index])}function Of(t,n){return t.data[n]}function Ba(t,n){const e=n[t];return Qa(e)?e:e[lo]}function nl(t,n){return null==n?null:t[n]}function Mr(t){t[qa]=0}function mm(t){1024&t[Wn]||(t[Wn]|=1024,xc(t,1))}function Ql(t){1024&t[Wn]&&(t[Wn]&=-1025,xc(t,-1))}function xc(t,n){let e=t[Li];if(null===e)return;e[gc]+=n;let r=e;for(e=e[Li];null!==e&&(1===n&&1===r[gc]||-1===n&&0===r[gc]);)e[gc]+=n,r=e,e=e[Li]}const Bn={lFrame:Mc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Td(){return Bn.bindingsEnabled}function Ho(){return null!==Bn.skipHydrationRootTNode}function Rt(){return Bn.lFrame.lView}function _r(){return Bn.lFrame.tView}function zn(t){return Bn.lFrame.contextLView=t,t[vi]}function bi(t){return Bn.lFrame.contextLView=null,t}function zo(){let t=Nh();for(;null!==t&&64===t.type;)t=t.parent;return t}function Nh(){return Bn.lFrame.currentTNode}function ms(t,n){const e=Bn.lFrame;e.currentTNode=t,e.isParent=n}function Id(){return Bn.lFrame.isParent}function fo(){Bn.lFrame.isParent=!1}function Wi(){const t=Bn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Fs(){return Bn.lFrame.bindingIndex++}function Uo(t){const n=Bn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function rl(t,n){const e=Bn.lFrame;e.bindingIndex=e.bindingRootIndex=t,Ad(n)}function Ad(t){Bn.lFrame.currentDirectiveIndex=t}function Od(){return Bn.lFrame.currentQueryIndex}function Bs(t){Bn.lFrame.currentQueryIndex=t}function Rf(t){const n=t[fn];return 2===n.type?n.declTNode:1===n.type?t[wo]:null}function Tc(t,n,e){if(e&Fn.SkipSelf){let i=n,s=t;for(;!(i=i.parent,null!==i||e&Fn.Host||(i=Rf(s),null===i||(s=s[Eu],10&i.type))););if(null===i)return!1;n=i,t=s}const r=Bn.lFrame=jp();return r.currentTNode=n,r.lView=t,!0}function nu(t){const n=jp(),e=t[fn];Bn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function jp(){const t=Bn.lFrame,n=null===t?null:t.child;return null===n?Mc(t):n}function Mc(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Nd(){const t=Bn.lFrame;return Bn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Rd=Nd;function Eo(){const t=Nd();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Do(){return Bn.lFrame.selectedIndex}function ts(t){Bn.lFrame.selectedIndex=t}function Hr(){const t=Bn.lFrame;return Of(t.tView,t.selectedIndex)}let Go=!0;function Ld(){return Go}function iu(t){Go=t}function vs(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const s=t.data[e].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:m,ngAfterViewInit:w,ngAfterViewChecked:R,ngOnDestroy:z}=s;d&&(t.contentHooks??=[]).push(-e,d),m&&((t.contentHooks??=[]).push(e,m),(t.contentCheckHooks??=[]).push(e,m)),w&&(t.viewHooks??=[]).push(-e,w),R&&((t.viewHooks??=[]).push(e,R),(t.viewCheckHooks??=[]).push(e,R)),null!=z&&(t.destroyHooks??=[]).push(e,z)}}function ys(t,n,e){Wp(t,n,3,e)}function Ou(t,n,e,r){(3&t[Wn])===e&&Wp(t,n,e,r)}function kf(t,n){let e=t[Wn];(3&e)===n&&(e&=8191,e+=1,t[Wn]=e)}function Wp(t,n,e,r){const s=r??-1,d=n.length-1;let m=0;for(let w=void 0!==r?65535&t[qa]:0;w<d;w++)if("number"==typeof n[w+1]){if(m=n[w],null!=r&&m>=r)break}else n[w]<0&&(t[qa]+=65536),(m<s||-1==s)&&($p(t,e,n,w),t[qa]=(4294901760&t[qa])+w+2),w++}function Nu(t,n){Fa(4,t,n);const e=eo(null);try{n.call(t)}finally{eo(e),Fa(5,t,n)}}function $p(t,n,e,r){const i=e[r]<0,s=e[r+1],m=t[i?-e[r]:e[r]];i?t[Wn]>>13<t[qa]>>16&&(3&t[Wn])===n&&(t[Wn]+=8192,Nu(m,s)):Nu(m,s)}const Ru=-1;class Ic{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function kh(t){return t!==Ru}function ku(t){return 32767&t}function Vd(t,n){let e=function _m(t){return t>>16}(t),r=n;for(;e>0;)r=r[Eu],e--;return r}let Ph=!0;function ai(t){const n=Ph;return Ph=t,n}const Hd=255,Ac=5;let Vs=0;const da={};function zd(t,n){const e=Fh(t,n);if(-1!==e)return e;const r=n[fn];r.firstCreatePass&&(t.injectorIndex=n.length,Ff(r.data,t),Ff(n,null),Ff(r.blueprint,null));const i=Ud(t,n),s=t.injectorIndex;if(kh(i)){const d=ku(i),m=Vd(i,n),w=m[fn].data;for(let R=0;R<8;R++)n[s+R]=m[d+R]|w[d+R]}return n[s+8]=i,s}function Ff(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Fh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ud(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;null!==i;){if(r=c(i),null===r)return Ru;if(e++,i=i[Eu],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return Ru}function Bf(t,n,e){!function Lh(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(jl)&&(r=e[jl]),null==r&&(r=e[jl]=Vs++);const i=r&Hd;n.data[t+(i>>Ac)]|=1<<i}(t,n,e)}function Vf(t,n,e){if(e&Fn.Optional||void 0!==t)return t;zi()}function Hf(t,n,e,r){if(e&Fn.Optional&&void 0===r&&(r=null),!(e&(Fn.Self|Fn.Host))){const i=t[el],s=yo(void 0);try{return i?i.get(n,r,e&Fn.Optional):ls(n,r,e&Fn.Optional)}finally{yo(s)}}return Vf(r,0,e)}function Kr(t,n,e,r=Fn.Default,i){if(null!==t){if(2048&n[Wn]&&!(r&Fn.Self)){const d=function a(t,n,e,r,i){let s=t,d=n;for(;null!==s&&null!==d&&2048&d[Wn]&&!(512&d[Wn]);){const m=Gd(s,d,e,r|Fn.Self,da);if(m!==da)return m;let w=s.parent;if(!w){const R=d[fd];if(R){const z=R.get(e,da,r);if(z!==da)return z}w=c(d),d=d[Eu]}s=w}return i}(t,n,e,r,da);if(d!==da)return d}const s=Gd(t,n,e,r,da);if(s!==da)return s}return Hf(n,e,r,i)}function Gd(t,n,e,r,i){const s=function jd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(jl)?t[jl]:void 0;return"number"==typeof n?n>=0?n&Hd:Zp:n}(e);if("function"==typeof s){if(!Tc(n,t,r))return r&Fn.Host?Vf(i,0,r):Hf(n,e,r,i);try{const d=s(r);if(null!=d||r&Fn.Optional)return d;zi()}finally{Rd()}}else if("number"==typeof s){let d=null,m=Fh(t,n),w=Ru,R=r&Fn.Host?n[Gi][wo]:null;for((-1===m||r&Fn.SkipSelf)&&(w=-1===m?Ud(t,n):n[m+8],w!==Ru&&Ii(r,!1)?(d=n[fn],m=ku(w),n=Vd(w,n)):m=-1);-1!==m;){const z=n[fn];if(qp(s,m,z.data)){const X=wm(m,n,e,d,r,R);if(X!==da)return X}w=n[m+8],w!==Ru&&Ii(r,n[fn].data[m+8]===R)&&qp(s,m,n)?(d=z,m=ku(w),n=Vd(w,n)):m=-1}}return i}function wm(t,n,e,r,i,s){const d=n[fn],m=d.data[t+8],z=il(m,d,e,null==r?Su(m)&&Ph:r!=d&&0!=(3&m.type),i&Fn.Host&&s===m);return null!==z?Pu(n,d,z,m):da}function il(t,n,e,r,i){const s=t.providerIndexes,d=n.data,m=1048575&s,w=t.directiveStart,z=s>>20,ge=i?m+z:t.directiveEnd;for(let ve=r?m:m+z;ve<ge;ve++){const Ie=d[ve];if(ve<w&&e===Ie||ve>=w&&Ie.type===e)return ve}if(i){const ve=d[w];if(ve&&hs(ve)&&ve.type===e)return w}return null}function Pu(t,n,e,r){let i=t[e];const s=n.data;if(function Yp(t){return t instanceof Ic}(i)){const d=i;d.resolving&&function ci(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new et(-200,`Circular dependency in DI detected for ${t}${e}`)}(function Gn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():yn(t)}(s[e]));const m=ai(d.canSeeViewProviders);d.resolving=!0;const w=d.injectImpl?yo(d.injectImpl):null;Tc(t,r,Fn.Default);try{i=t[e]=d.factory(void 0,s,t,r),n.firstCreatePass&&e>=r.directiveStart&&function El(t,n,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){const d=Sh(n);(e.preOrderHooks??=[]).push(t,d),(e.preOrderCheckHooks??=[]).push(t,d)}i&&(e.preOrderHooks??=[]).push(0-t,i),s&&((e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s))}(e,s[e],n)}finally{null!==w&&yo(w),ai(m),d.resolving=!1,Rd()}}return i}function qp(t,n,e){return!!(e[n+(t>>Ac)]&1<<t)}function Ii(t,n){return!(t&Fn.Self||t&Fn.Host&&n)}class Lu{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return Kr(this._tNode,this._lView,n,gf(r),e)}}function Zp(){return new Lu(zo(),Rt())}function Ci(t){return us(()=>{const n=t.prototype.constructor,e=n[Rs]||bs(n),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Rs]||bs(i);if(s&&s!==e)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function bs(t){return Lr(t)?()=>{const n=bs(on(t));return n&&n()}:co(t)}function c(t){const n=t[fn],e=n.type;return 2===e?n.declTNode:1===e?t[wo]:null}function y(t){return function Kp(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const s=e[i];if(wu(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(s===n)return e[i+1];i+=2}}}return null}(zo(),t)}const b="__parameters__";function ee(t,n,e){return us(()=>{const r=function K(t){return function(...e){if(t){const r=t(...e);for(const i in r)this[i]=r[i]}}}(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;const d=new i(...s);return m.annotation=d,m;function m(w,R,z){const X=w.hasOwnProperty(b)?w[b]:Object.defineProperty(w,b,{value:[]})[b];for(;X.length<=z;)X.push(null);return(X[z]=X[z]||[]).push(d),w}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ai(t,n){t.forEach(e=>Array.isArray(e)?Ai(e,n):n(e))}function xi(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function jo(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function $i(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function zr(t,n,e){let r=ho(t,n);return r>=0?t[1|r]=e:(r=~r,function Wo(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(1===i)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function Ei(t,n){const e=ho(t,n);if(e>=0)return t[1|e]}function ho(t,n){return function Dl(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){const s=r+(i-r>>1),d=t[s<<e];if(n===d)return s<<e;d>n?i=s:r=s+1}return~(i<<e)}(t,n,1)}const ns=dc(ee("Optional"),8),Vh=dc(ee("SkipSelf"),4);function Gf(t){return 128==(128&t.flags)}var ea=(()=>((ea=ea||{})[ea.Important=1]="Important",ea[ea.DashCase=2]="DashCase",ea))();const Wh=/^>|^->|<!--|-->|--!>|<!-$/g,__=/(<|>)/,Iy="\u200b$1\u200b";const tg=new Map;let w_=0;const rg="__ngContext__";function Va(t,n){Qa(n)?(t[rg]=n[dd],function Ay(t){tg.set(t[dd],t)}(n)):t[rg]=n}let p;function g(t,n){return p(t,n)}function E(t){const n=t[Li];return La(n)?n[Li]:n}function F(t){return W(t[mc])}function U(t){return W(t[sa])}function W(t){for(;null!==t&&!La(t);)t=t[sa];return t}function j(t,n,e,r,i){if(null!=r){let s,d=!1;La(r)?s=r:Qa(r)&&(d=!0,r=r[lo]);const m=fi(r);0===t&&null!==e?null==i?ot(n,e,m):Ge(n,e,m,i||null,!0):1===t&&null!==e?Ge(n,e,m,i||null,!0):2===t?function ar(t,n,e){const r=vt(t,n);r&&function yt(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,m,d):3===t&&n.destroyNode(m),null!=s&&function Rn(t,n,e,r,i){const s=e[Ps];s!==fi(e)&&j(n,t,r,s,i);for(let m=oi;m<e.length;m++){const w=e[m];Pn(w[fn],w,t,n,r,s)}}(n,t,s,e,i)}}function re(t,n){return t.createComment(function Tm(t){return t.replace(Wh,n=>n.replace(__,Iy))}(n))}function fe(t,n,e){return t.createElement(n,e)}function _e(t,n){const e=t[Du],r=e.indexOf(n);Ql(n),e.splice(r,1)}function ke(t,n){if(t.length<=oi)return;const e=oi+n,r=t[e];if(r){const i=r[fs];null!==i&&i!==t&&_e(i,r),n>0&&(t[e-1][sa]=r[sa]);const s=jo(t,oi+n);!function he(t,n){Pn(t,n,n[qn],2,null,null),n[lo]=null,n[wo]=null}(r[fn],r);const d=s[uo];null!==d&&d.detachView(s[fn]),r[Li]=null,r[sa]=null,r[Wn]&=-129}return r}function Pe(t,n){if(!(256&n[Wn])){const e=n[qn];n[hd]?.destroy(),n[Za]?.destroy(),e.destroyNode&&Pn(t,n,e,3,null,null),function Ae(t){let n=t[mc];if(!n)return xe(t[fn],t);for(;n;){let e=null;if(Qa(n))e=n[mc];else{const r=n[oi];r&&(e=r)}if(!e){for(;n&&!n[sa]&&n!==t;)Qa(n)&&xe(n[fn],n),n=n[Li];null===n&&(n=t),Qa(n)&&xe(n[fn],n),e=n&&n[sa]}n=e}}(n)}}function xe(t,n){if(!(256&n[Wn])){n[Wn]&=-129,n[Wn]|=256,function Ne(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const i=n[e[r]];if(!(i instanceof Ic)){const s=e[r+1];if(Array.isArray(s))for(let d=0;d<s.length;d+=2){const m=i[s[d]],w=s[d+1];Fa(4,m,w);try{w.call(m)}finally{Fa(5,m,w)}}else{Fa(4,i,s);try{s.call(i)}finally{Fa(5,i,s)}}}}}(t,n),function He(t,n){const e=t.cleanup,r=n[yl];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const d=e[s+3];d>=0?r[d]():r[-d].unsubscribe(),s+=2}else e[s].call(r[e[s+1]]);null!==r&&(n[yl]=null);const i=n[bl];if(null!==i){n[bl]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,n),1===n[fn].type&&n[qn].destroy();const e=n[fs];if(null!==e&&La(n[Li])){e!==n[Li]&&_e(e,n);const r=n[uo];null!==r&&r.detachView(t)}!function C_(t){tg.delete(t[dd])}(n)}}function Je(t,n,e){return function Ue(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[lo];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===ya.None||s===ya.Emulated)return null}return ji(r,e)}}(t,n.parent,e)}function Ge(t,n,e,r,i){t.insertBefore(n,e,r,i)}function ot(t,n,e){t.appendChild(n,e)}function dt(t,n,e,r,i){null!==r?Ge(t,n,e,r,i):ot(t,n,e)}function vt(t,n){return t.parentNode(n)}function Ot(t,n,e){return wt(t,n,e)}let nt,Ce,Tn,pr,wt=function Dt(t,n,e){return 40&t.type?ji(t,e):null};function Nt(t,n,e,r){const i=Je(t,r,n),s=n[qn],m=Ot(r.parent||n[wo],r,n);if(null!=i)if(Array.isArray(e))for(let w=0;w<e.length;w++)dt(s,i,e[w],m,!1);else dt(s,i,e,m,!1);void 0!==nt&&nt(s,r,n,e,i)}function Wt(t,n){if(null!==n){const e=n.type;if(3&e)return ji(n,t);if(4&e)return Xn(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return Wt(t,r);{const i=t[n.index];return La(i)?Xn(-1,i):fi(i)}}if(32&e)return g(n,t)()||fi(t[n.index]);{const r=rn(t,n);return null!==r?Array.isArray(r)?r[0]:Wt(E(t[Gi]),r):Wt(t,n.next)}}return null}function rn(t,n){return null!==n?t[Gi][wo].projection[n.projection]:null}function Xn(t,n){const e=oi+t+1;if(e<n.length){const r=n[e],i=r[fn].firstChild;if(null!==i)return Wt(r,i)}return n[Ps]}function Jt(t,n,e,r,i,s,d){for(;null!=e;){const m=r[e.index],w=e.type;if(d&&0===n&&(m&&Va(fi(m),r),e.flags|=2),32!=(32&e.flags))if(8&w)Jt(t,n,e.child,r,i,s,!1),j(n,t,i,m,s);else if(32&w){const R=g(e,r);let z;for(;z=R();)j(n,t,i,z,s);j(n,t,i,m,s)}else 16&w?un(t,n,r,e,i,s):j(n,t,i,m,s);e=d?e.projectionNext:e.next}}function Pn(t,n,e,r,i,s){Jt(e,r,t.firstChild,n,i,s,!1)}function un(t,n,e,r,i,s){const d=e[Gi],w=d[wo].projection[r.projection];if(Array.isArray(w))for(let R=0;R<w.length;R++)j(n,t,i,w[R],s);else{let R=w;const z=d[Li];Gf(r)&&(R.flags|=128),Jt(t,n,R,z,i,s,!0)}}function $n(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function zt(t,n,e){const{mergedAttrs:r,classes:i,styles:s}=e;null!==r&&bf(t,n,r),null!==i&&$n(t,n,i),null!==s&&function hr(t,n,e){t.setAttribute(n,"style",e)}(t,n,s)}function kt(t){return function ft(){if(void 0===Ce&&(Ce=null,mi.trustedTypes))try{Ce=mi.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ce}()?.createHTML(t)||t}function qr(){if(void 0!==Tn)return Tn;if(typeof document<"u")return document;throw new et(210,!1)}function Zr(){if(void 0===pr&&(pr=null,mi.trustedTypes))try{pr=mi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pr}function cr(t){return Zr()?.createHTML(t)||t}function to(t){return Zr()?.createScriptURL(t)||t}class no{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mr})`}}class Ml extends no{getTypeName(){return"HTML"}}class Il extends no{getTypeName(){return"Style"}}class xa extends no{getTypeName(){return"Script"}}class al extends no{getTypeName(){return"URL"}}class is extends no{getTypeName(){return"ResourceURL"}}function Io(t){return t instanceof no?t.changingThisBreaksApplicationSecurity:t}function Ea(t,n){const e=function jf(t){return t instanceof no&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${mr})`)}return e===n}class Cs{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(kt(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class ag{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=kt(n),e}}const Ry=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sg(t){return(t=String(t)).match(Ry)?t:"unsafe:"+t}function Hu(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Yh(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const ky=Hu("area,br,col,hr,img,wbr"),Py=Hu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ly=Hu("rp,rt"),$f=Yh(ky,Yh(Py,Hu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yh(Ly,Hu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yh(Ly,Py)),ug=Hu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sl=Yh(ug,Hu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Am=Hu("script,style,template");class By{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!$f.hasOwnProperty(e))return this.sanitizedSomething=!0,!Am.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),d=s.name,m=d.toLowerCase();if(!sl.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let w=s.value;ug[m]&&(w=sg(w)),this.buf.push(" ",d,'="',Vy(w),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();$f.hasOwnProperty(e)&&!ky.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(Vy(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const Xh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Al=/([^\#-~ |!])/g;function Vy(t){return t.replace(/&/g,"&amp;").replace(Xh,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Al,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hy;function iD(t,n){let e=null;try{Hy=Hy||function Da(t){const n=new ag(t);return function au(){try{return!!(new window.DOMParser).parseFromString(kt(""),"text/html")}catch{return!1}}()?new Cs(n):n}(t);let r=n?String(n):"";e=Hy.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=e.innerHTML,e=Hy.getInertBodyElement(r)}while(r!==s);return kt((new By).sanitizeChildren(D_(e)||e))}finally{if(e){const r=D_(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function D_(t){return"content"in t&&function kk(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var hi=(()=>((hi=hi||{})[hi.NONE=0]="NONE",hi[hi.HTML=1]="HTML",hi[hi.STYLE=2]="STYLE",hi[hi.SCRIPT=3]="SCRIPT",hi[hi.URL=4]="URL",hi[hi.RESOURCE_URL=5]="RESOURCE_URL",hi))();function oD(t){const n=Om();return n?cr(n.sanitize(hi.HTML,t)||""):Ea(t,"HTML")?cr(Io(t)):iD(qr(),yn(t))}function aD(t){const n=Om();return n?n.sanitize(hi.URL,t)||"":Ea(t,"URL")?Io(t):sg(yn(t))}function sD(t){const n=Om();if(n)return to(n.sanitize(hi.RESOURCE_URL,t)||"");if(Ea(t,"ResourceURL"))return to(Io(t));throw new et(904,!1)}function Om(){const t=Rt();return t&&t[la].sanitizer}class Kt{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=an({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Nm=new Kt("ENVIRONMENT_INITIALIZER"),uD=new Kt("INJECTOR",-1),cD=new Kt("INJECTOR_DEF_TYPES");class dD{get(n,e=bu){if(e===bu){const r=new Error(`NullInjectorError: No provider for ${er(n)}!`);throw r.name="NullInjectorError",r}return e}}function Hk(...t){return{\u0275providers:fD(0,t),\u0275fromNgModule:!0}}function fD(t,...n){const e=[],r=new Set;let i;return Ai(n,s=>{const d=s;T_(d,e,[],r)&&(i||=[],i.push(d))}),void 0!==i&&hD(i,e),e}function hD(t,n){for(let e=0;e<t.length;e++){const{providers:i}=t[e];M_(i,s=>{n.push(s)})}}function T_(t,n,e,r){if(!(t=on(t)))return!1;let i=null,s=Ko(t);const d=!s&&Br(t);if(s||d){if(d&&!d.standalone)return!1;i=t}else{const w=t.ngModule;if(s=Ko(w),!s)return!1;i=w}const m=r.has(i);if(d){if(m)return!1;if(r.add(i),d.dependencies){const w="function"==typeof d.dependencies?d.dependencies():d.dependencies;for(const R of w)T_(R,n,e,r)}}else{if(!s)return!1;{if(null!=s.imports&&!m){let R;r.add(i);try{Ai(s.imports,z=>{T_(z,n,e,r)&&(R||=[],R.push(z))})}finally{}void 0!==R&&hD(R,n)}if(!m){const R=co(i)||(()=>new i);n.push({provide:i,useFactory:R,deps:xr},{provide:cD,useValue:i,multi:!0},{provide:Nm,useValue:()=>Pt(i),multi:!0})}const w=s.providers;null==w||m||M_(w,z=>{n.push(z)})}}return i!==t&&void 0!==t.providers}function M_(t,n){for(let e of t)gi(e)&&(e=e.\u0275providers),Array.isArray(e)?M_(e,n):n(e)}const zk=Bt({provide:String,useValue:Bt});function I_(t){return null!==t&&"object"==typeof t&&zk in t}function Kh(t){return"function"==typeof t}const A_=new Kt("Set Injector scope."),zy={},Gk={};let O_;function Uy(){return void 0===O_&&(O_=new dD),O_}class Rc{}class N_ extends Rc{get destroyed(){return this._destroyed}constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,k_(n,d=>this.processProvider(d)),this.records.set(uD,cg(void 0,this)),i.has("environment")&&this.records.set(Rc,cg(void 0,this));const s=this.records.get(A_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(cD.multi,xr,Fn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of n)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Pa(this),r=yo(void 0);try{return n()}finally{Pa(e),yo(r)}}get(n,e=bu,r=Fn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Wl))return n[Wl](this);r=gf(r);const i=Pa(this),s=yo(void 0);try{if(!(r&Fn.SkipSelf)){let m=this.records.get(n);if(void 0===m){const w=function Xk(t){return"function"==typeof t||"object"==typeof t&&t instanceof Kt}(n)&&Ra(n);m=w&&this.injectableDefInScope(w)?cg(R_(n),zy):null,this.records.set(n,m)}if(null!=m)return this.hydrate(n,m)}return(r&Fn.Self?Uy():this.parent).get(n,e=r&Fn.Optional&&e===bu?null:e)}catch(d){if("NullInjectorError"===d.name){if((d[uc]=d[uc]||[]).unshift(er(n)),i)throw d;return function fc(t,n,e,r){const i=t[uc];throw n[hh]&&i.unshift(n[hh]),t.message=function gl(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=er(n);if(Array.isArray(n))i=n.map(er).join(" -> ");else if("object"==typeof n){let s=[];for(let d in n)if(n.hasOwnProperty(d)){let m=n[d];s.push(d+":"+("string"==typeof m?JSON.stringify(m):er(m)))}i=`{${s.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(bo,"\n  ")}`}("\n"+t.message,i,e,r),t.ngTokenPath=i,t[uc]=null,t}(d,n,"R3InjectorError",this.source)}throw d}finally{yo(s),Pa(i)}}resolveInjectorInitializers(){const n=Pa(this),e=yo(void 0);try{const r=this.get(Nm.multi,xr,Fn.Self);for(const i of r)i()}finally{Pa(n),yo(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(er(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new et(205,!1)}processProvider(n){let e=Kh(n=on(n))?n:on(n&&n.provide);const r=function Wk(t){return I_(t)?cg(void 0,t.useValue):cg(mD(t),zy)}(n);if(Kh(n)||!0!==n.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=cg(void 0,zy,!0),i.factory=()=>mf(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===zy&&(e.value=Gk,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Yk(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=on(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function R_(t){const n=Ra(t),e=null!==n?n.factory:co(t);if(null!==e)return e;if(t instanceof Kt)throw new et(204,!1);if(t instanceof Function)return function jk(t){const n=t.length;if(n>0)throw $i(n,"?"),new et(204,!1);const e=function hl(t){return t&&(t[ka]||t[Ul])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new et(204,!1)}function mD(t,n,e){let r;if(Kh(t)){const i=on(t);return co(i)||R_(i)}if(I_(t))r=()=>on(t.useValue);else if(function gD(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...mf(t.deps||[]));else if(function pD(t){return!(!t||!t.useExisting)}(t))r=()=>Pt(on(t.useExisting));else{const i=on(t&&(t.useClass||t.provide));if(!function $k(t){return!!t.deps}(t))return co(i)||R_(i);r=()=>new i(...mf(t.deps))}return r}function cg(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function k_(t,n){for(const e of t)Array.isArray(e)?k_(e,n):e&&gi(e)?k_(e.\u0275providers,n):n(e)}const Gy=new Kt("AppId",{providedIn:"root",factory:()=>Kk}),Kk="ng",vD=new Kt("Platform Initializer"),Yf=new Kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),kc=new Kt("AnimationModuleType"),P_=new Kt("CSP nonce",{providedIn:"root",factory:()=>qr().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let bD=(t,n)=>null;function _D(t,n){return bD(t,n)}class iP{}class xD{}class aP{resolveComponentFactory(n){throw function oP(t){const n=Error(`No component factory found for ${er(t)}.`);return n.ngComponent=t,n}(n)}}let dg=(()=>{class t{}return t.NULL=new aP,t})();function sP(){return fg(zo(),Rt())}function fg(t,n){return new ni(ji(t,n))}let ni=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=sP,t})();function lP(t){return t instanceof ni?t.nativeElement:t}class Lm{}let Zd=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function uP(){const t=Rt(),e=Ba(zo().index,t);return(Qa(e)?e:t)[qn]}(),t})(),cP=(()=>{class t{}return t.\u0275prov=an({token:t,providedIn:"root",factory:()=>null}),t})();class qh{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const dP=new qh("16.1.3"),$_={};function Fm(t){for(;t;){t[Wn]|=64;const n=E(t);if(ua(t)&&!n)return t;t=n}return null}function Y_(t){return t.ngOriginalError}class Pc{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Y_(n);for(;e&&Y_(e);)e=Y_(e);return e||null}}const TD=new Kt("",{providedIn:"root",factory:()=>!1});function Qd(t){return t instanceof Function?t():t}class ND extends vc{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){Fm(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,e,r){const i=eo(this);this.trackingVersion++;try{n(e,r)}finally{eo(i)}}destroy(){this.trackingVersion++}}let Ky=null;function RD(){return Ky??=new ND,Ky}function kD(t,n){return t[n]??RD()}function PD(t,n){const e=RD();e.hasReadASignal&&(t[n]=Ky,e.lView=t,Ky=new ND)}const yr={};function Yt(t){LD(_r(),Rt(),Do()+t,!1)}function LD(t,n,e,r){if(!r)if(3==(3&n[Wn])){const s=t.preOrderCheckHooks;null!==s&&ys(n,s,e)}else{const s=t.preOrderHooks;null!==s&&Ou(n,s,0,e)}ts(e)}function HD(t,n=null,e=null,r){const i=zD(t,n,e,r);return i.resolveInjectorInitializers(),i}function zD(t,n=null,e=null,r,i=new Set){const s=[e||xr,Hk(t)];return r=r||("object"==typeof t?void 0:er(t)),new N_(s,n||Uy(),r||null,i)}let zu=(()=>{class t{static create(e,r){if(Array.isArray(e))return HD({name:""},r,e,"");{const i=e.name??"";return HD({name:i},e.parent,e.providers,i)}}}return t.THROW_IF_NOT_FOUND=bu,t.NULL=new dD,t.\u0275prov=an({token:t,providedIn:"any",factory:()=>Pt(uD)}),t.__NG_ELEMENT_ID__=-1,t})();function We(t,n=Fn.Default){const e=Rt();return null===e?Pt(t,n):Kr(zo(),e,on(t),n)}function X_(){throw new Error("invalid")}function qy(t,n,e,r,i,s,d,m,w,R,z){const X=n.blueprint.slice();return X[lo]=i,X[Wn]=140|r,(null!==R||t&&2048&t[Wn])&&(X[Wn]|=2048),Mr(X),X[Li]=X[Eu]=t,X[vi]=e,X[la]=d||t&&t[la],X[qn]=m||t&&t[qn],X[el]=w||t&&t[el]||null,X[wo]=s,X[dd]=function ti(){return w_++}(),X[ur]=z,X[fd]=R,X[Gi]=2==n.type?t[Gi]:X,X}function pg(t,n,e,r,i){let s=t.data[n];if(null===s)s=function K_(t,n,e,r,i){const s=Nh(),d=Id(),w=t.data[n]=function NP(t,n,e,r,i,s){let d=n?n.injectorIndex:-1,m=0;return Ho()&&(m|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:d,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:m,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?s:s&&s.parent,e,n,r,i);return null===t.firstChild&&(t.firstChild=w),null!==s&&(d?null==s.child&&null!==w.parent&&(s.child=w):null===s.next&&(s.next=w,w.prev=s)),w}(t,n,e,r,i),function Sc(){return Bn.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=r,s.attrs=i;const d=function Dc(){const t=Bn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();s.injectorIndex=null===d?-1:d.injectorIndex}return ms(s,!0),s}function Bm(t,n,e,r){if(0===e)return-1;const i=n.length;for(let s=0;s<e;s++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function UD(t,n,e,r,i){const s=kD(n,hd),d=Do(),m=2&r;try{if(ts(-1),m&&n.length>hn&&LD(t,n,hn,!1),Fa(m?2:0,i),m)s.runInContext(e,r,i);else{const R=eo(null);try{e(r,i)}finally{eo(R)}}}finally{m&&null===n[hd]&&PD(n,hd),ts(d),Fa(m?3:1,i)}}function q_(t,n,e){if(wh(n)){const r=eo(null);try{const s=n.directiveEnd;for(let d=n.directiveStart;d<s;d++){const m=t.data[d];m.contentQueries&&m.contentQueries(1,e[d],d)}}finally{eo(r)}}}function Z_(t,n,e){Td()&&(function VP(t,n,e,r){const i=e.directiveStart,s=e.directiveEnd;Su(e)&&function $P(t,n,e){const r=ji(n,t),i=GD(e);let d=16;e.signals?d=4096:e.onPush&&(d=64);const m=Zy(t,qy(t,i,null,d,r,n,null,t[la].rendererFactory.createRenderer(r,e),null,null,null));t[n.index]=m}(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||zd(e,n),Va(r,n);const d=e.initialInputs;for(let m=i;m<s;m++){const w=t.data[m],R=Pu(n,t,m,e);Va(R,n),null!==d&&YP(0,m-i,R,w,0,d),hs(w)&&(Ba(e.index,n)[vi]=Pu(n,t,m,e))}}(t,n,e,ji(e,n)),64==(64&e.flags)&&XD(t,n,e))}function Q_(t,n,e=ji){const r=n.localNames;if(null!==r){let i=n.index+1;for(let s=0;s<r.length;s+=2){const d=r[s+1],m=-1===d?e(n,t):t[d];t[i++]=m}}}function GD(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=J_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function J_(t,n,e,r,i,s,d,m,w,R,z){const X=hn+r,ge=X+i,ve=function SP(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:yr);return e}(X,ge),Ie="function"==typeof R?R():R;return ve[fn]={type:t,blueprint:ve,template:e,queries:null,viewQuery:m,declTNode:n,data:ve.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:w,consts:Ie,incompleteFirstPass:!1,ssrId:z}}let jD=t=>null;function WD(t,n,e,r){for(let i in t)if(t.hasOwnProperty(i)){e=null===e?{}:e;const s=t[i];null===r?$D(e,n,i,s):r.hasOwnProperty(i)&&$D(e,n,r[i],s)}return e}function $D(t,n,e,r){t.hasOwnProperty(e)?t[e].push(n,r):t[e]=[n,r]}function ew(t,n,e,r){if(Td()){const i=null===r?null:{"":-1},s=function zP(t,n){const e=t.directiveRegistry;let r=null,i=null;if(e)for(let s=0;s<e.length;s++){const d=e[s];if(vh(n,d.selectors,!1))if(r||(r=[]),hs(d))if(null!==d.findHostDirectiveDefs){const m=[];i=i||new Map,d.findHostDirectiveDefs(d,m,i),r.unshift(...m,d),tw(t,n,m.length)}else r.unshift(d),tw(t,n,0);else i=i||new Map,d.findHostDirectiveDefs?.(d,r,i),r.push(d)}return null===r?null:[r,i]}(t,e);let d,m;null===s?d=m=null:[d,m]=s,null!==d&&YD(t,n,e,d,i,m),i&&function UP(t,n,e){if(n){const r=t.localNames=[];for(let i=0;i<n.length;i+=2){const s=e[n[i+1]];if(null==s)throw new et(-301,!1);r.push(n[i],s)}}}(e,r,i)}e.mergedAttrs=$l(e.mergedAttrs,e.attrs)}function YD(t,n,e,r,i,s){for(let R=0;R<r.length;R++)Bf(zd(e,n),t,r[R].type);!function jP(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,r.length);for(let R=0;R<r.length;R++){const z=r[R];z.providersResolver&&z.providersResolver(z)}let d=!1,m=!1,w=Bm(t,n,r.length,null);for(let R=0;R<r.length;R++){const z=r[R];e.mergedAttrs=$l(e.mergedAttrs,z.hostAttrs),WP(t,e,n,w,z),GP(w,z,i),null!==z.contentQueries&&(e.flags|=4),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(e.flags|=64);const X=z.type.prototype;!d&&(X.ngOnChanges||X.ngOnInit||X.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),d=!0),!m&&(X.ngOnChanges||X.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),m=!0),w++}!function RP(t,n,e){const i=n.directiveEnd,s=t.data,d=n.attrs,m=[];let w=null,R=null;for(let z=n.directiveStart;z<i;z++){const X=s[z],ge=e?e.get(X):null,Ie=ge?ge.outputs:null;w=WD(X.inputs,z,w,ge?ge.inputs:null),R=WD(X.outputs,z,R,Ie);const Fe=null===w||null===d||Yl(n)?null:XP(w,z,d);m.push(Fe)}null!==w&&(w.hasOwnProperty("class")&&(n.flags|=8),w.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=m,n.inputs=w,n.outputs=R}(t,e,s)}function XD(t,n,e){const r=e.directiveStart,i=e.directiveEnd,s=e.index,d=function Gp(){return Bn.lFrame.currentDirectiveIndex}();try{ts(s);for(let m=r;m<i;m++){const w=t.data[m],R=n[m];Ad(m),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&HP(w,R)}}finally{ts(-1),Ad(d)}}function HP(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function tw(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function GP(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;hs(n)&&(e[""]=t)}}function WP(t,n,e,r,i){t.data[r]=i;const s=i.factory||(i.factory=co(i.type)),d=new Ic(s,hs(i),We);t.blueprint[r]=d,e[r]=d,function FP(t,n,e,r,i){const s=i.hostBindings;if(s){let d=t.hostBindingOpCodes;null===d&&(d=t.hostBindingOpCodes=[]);const m=~n.index;(function BP(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(d)!=m&&d.push(m),d.push(e,r,s)}}(t,n,r,Bm(t,e,i.hostVars,yr),i)}function Lc(t,n,e,r,i,s){const d=ji(t,n);!function nw(t,n,e,r,i,s,d){if(null==s)t.removeAttribute(n,i,e);else{const m=null==d?yn(s):d(s,r||"",i);t.setAttribute(n,i,m,e)}}(n[qn],d,s,t.value,e,r,i)}function YP(t,n,e,r,i,s){const d=s[n];if(null!==d)for(let m=0;m<d.length;)KD(r,e,d[m++],d[m++],d[m++])}function KD(t,n,e,r,i){const s=eo(null);try{const d=t.inputTransforms;null!==d&&d.hasOwnProperty(r)&&(i=d[r].call(n,i)),null!==t.setInput?t.setInput(n,i,e,r):n[r]=i}finally{eo(s)}}function XP(t,n,e){let r=null,i=0;for(;i<e.length;){const s=e[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const d=t[s];for(let m=0;m<d.length;m+=2)if(d[m]===n){r.push(s,d[m+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function qD(t,n,e,r){return[t,!0,!1,n,null,0,r,e,null,null,null]}function ZD(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const s=e[r+1];if(-1!==s){const d=t.data[s];Bs(e[r]),d.contentQueries(2,n[s],s)}}}function Zy(t,n){return t[mc]?t[_h][sa]=n:t[mc]=n,t[_h]=n,n}function rw(t,n,e){Bs(0);const r=eo(null);try{n(t,e)}finally{eo(r)}}function QD(t){return t[yl]||(t[yl]=[])}function JD(t){return t.cleanup||(t.cleanup=[])}function t1(t,n){const e=t[el],r=e?e.get(Pc,null):null;r&&r.handleError(n)}function iw(t,n,e,r,i){for(let s=0;s<e.length;){const d=e[s++],m=e[s++];KD(t.data[d],n[d],r,m,i)}}function Jd(t,n,e){const r=Ed(n,t);!function J(t,n,e){t.setValue(n,e)}(t[qn],r,e)}function KP(t,n){const e=Ba(n,t),r=e[fn];!function qP(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(r,e);const i=e[lo];null!==i&&null===e[ur]&&(e[ur]=_D(i,e[el])),ow(r,e,e[vi])}function ow(t,n,e){nu(n);try{const r=t.viewQuery;null!==r&&rw(1,r,e);const i=t.template;null!==i&&UD(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ZD(t,n),t.staticViewQueries&&rw(2,t.viewQuery,e);const s=t.components;null!==s&&function ZP(t,n){for(let e=0;e<n.length;e++)KP(t,n[e])}(n,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[Wn]&=-5,Eo()}}let n1=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(e,r,i){const s=typeof Zone>"u"?null:Zone.current,d=new Bp(e,R=>{this.all.has(R)&&this.queue.set(R,s)},i);let m;this.all.add(d),d.notify();const w=()=>{d.cleanup(),m?.(),this.all.delete(d),this.queue.delete(d)};return m=r?.onDestroy(w),{destroy:w}}flush(){if(0!==this.queue.size)for(const[e,r]of this.queue)this.queue.delete(e),r?r.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=an({token:t,providedIn:"root",factory:()=>new t}),t})();function Qy(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,s=0;if(null!==n)for(let d=0;d<n.length;d++){const m=n[d];"number"==typeof m?s=m:1==s?i=or(i,m):2==s&&(r=or(r,m+": "+n[++d]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function Vm(t,n,e,r,i=!1){for(;null!==e;){const s=n[e.index];if(null!==s&&r.push(fi(s)),La(s)){for(let m=oi;m<s.length;m++){const w=s[m],R=w[fn].firstChild;null!==R&&Vm(w[fn],w,R,r)}s[Ps]!==s[lo]&&r.push(s[Ps])}const d=e.type;if(8&d)Vm(t,n,e.child,r);else if(32&d){const m=g(e,n);let w;for(;w=m();)r.push(w)}else if(16&d){const m=rn(n,e);if(Array.isArray(m))r.push(...m);else{const w=E(n[Gi]);Vm(w[fn],w,m,r,!0)}}e=i?e.projectionNext:e.next}return r}function Jy(t,n,e,r=!0){const i=n[la].rendererFactory;i.begin&&i.begin();try{r1(t,n,t.template,e)}catch(d){throw r&&t1(n,d),d}finally{i.end&&i.end(),n[la].effectManager?.flush()}}function r1(t,n,e,r){const i=n[Wn];if(256!=(256&i)){n[la].effectManager?.flush(),nu(n);try{Mr(n),function tu(t){return Bn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&UD(t,n,e,2,r);const d=3==(3&i);if(d){const R=t.preOrderCheckHooks;null!==R&&ys(n,R,null)}else{const R=t.preOrderHooks;null!==R&&Ou(n,R,0,null),kf(n,0)}if(function nL(t){for(let n=F(t);null!==n;n=U(n)){if(!n[_l])continue;const e=n[Du];for(let r=0;r<e.length;r++){mm(e[r])}}}(n),o1(n,2),null!==t.contentQueries&&ZD(t,n),d){const R=t.contentCheckHooks;null!==R&&ys(n,R)}else{const R=t.contentHooks;null!==R&&Ou(n,R,1),kf(n,1)}!function DP(t,n){const e=t.hostBindingOpCodes;if(null===e)return;const r=kD(n,Za);try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)ts(~s);else{const d=s,m=e[++i],w=e[++i];rl(m,d),r.runInContext(w,2,n[d])}}}finally{null===n[Za]&&PD(n,Za),ts(-1)}}(t,n);const m=t.components;null!==m&&s1(n,m,0);const w=t.viewQuery;if(null!==w&&rw(2,w,r),d){const R=t.viewCheckHooks;null!==R&&ys(n,R)}else{const R=t.viewHooks;null!==R&&Ou(n,R,2),kf(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Wn]&=-73,Ql(n)}finally{Eo()}}}function o1(t,n){for(let e=F(t);null!==e;e=U(e))for(let r=oi;r<e.length;r++)a1(e[r],n)}function rL(t,n,e){a1(Ba(n,t),e)}function a1(t,n){if(!function Dd(t){return 128==(128&t[Wn])}(t))return;const e=t[fn];if(80&t[Wn]&&0===n||1024&t[Wn]||2===n)r1(e,t,e.template,t[vi]);else if(t[gc]>0){o1(t,1);const i=t[fn].components;null!==i&&s1(t,i,1)}}function s1(t,n,e){for(let r=0;r<n.length;r++)rL(t,n[r],e)}class Hm{get rootNodes(){const n=this._lView,e=n[fn];return Vm(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vi]}set context(n){this._lView[vi]=n}get destroyed(){return 256==(256&this._lView[Wn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Li];if(La(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(ke(n,r),jo(e,r))}this._attachedToViewContainer=!1}Pe(this._lView[fn],this._lView)}onDestroy(n){!function Ah(t,n){if(256==(256&t[Wn]))throw new et(911,!1);null===t[bl]&&(t[bl]=[]),t[bl].push(n)}(this._lView,n)}markForCheck(){Fm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Wn]&=-129}reattach(){this._lView[Wn]|=128}detectChanges(){Jy(this._lView[fn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new et(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Me(t,n){Pn(t,n,n[qn],2,null,null)}(this._lView[fn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new et(902,!1);this._appRef=n}}class iL extends Hm{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Jy(n[fn],n,n[vi],!1)}checkNoChanges(){}get context(){return null}}class l1 extends dg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Br(n);return new zm(e,this.ngModule)}}function u1(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class aL{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=gf(r);const i=this.injector.get(n,$_,r);return i!==$_||e===$_?i:this.parentInjector.get(n,e,r)}}class zm extends xD{get inputs(){const n=this.componentDef,e=n.inputTransforms,r=u1(n.inputs);if(null!==e)for(const i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return u1(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function Rp(t){return t.map(Np).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){let s=(i=i||this.ngModule)instanceof Rc?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const d=s?new aL(n,s):n,m=d.get(Lm,null);if(null===m)throw new et(407,!1);const z={rendererFactory:m,sanitizer:d.get(cP,null),effectManager:d.get(n1,null)},X=m.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",ve=r?function TP(t,n,e,r){const s=r.get(TD,!1)||e===ya.ShadowDom,d=t.selectRootElement(n,s);return function MP(t){jD(t)}(d),d}(X,r,this.componentDef.encapsulation,d):fe(X,ge,function oL(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(ge)),Qe=this.componentDef.signals?4608:this.componentDef.onPush?576:528,lt=J_(0,null,null,1,0,null,null,null,null,null,null),Ze=qy(null,lt,null,Qe,null,null,z,X,d,null,null);let bt,gn;nu(Ze);try{const Vn=this.componentDef;let si,ct=null;Vn.findHostDirectiveDefs?(si=[],ct=new Map,Vn.findHostDirectiveDefs(Vn,si,ct),si.push(Vn)):si=[Vn];const $s=function lL(t,n){const e=t[fn],r=hn;return t[r]=n,pg(e,r,2,"#host",null)}(Ze,ve),cl=function uL(t,n,e,r,i,s,d){const m=i[fn];!function cL(t,n,e,r){for(const i of t)n.mergedAttrs=$l(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Qy(n,n.mergedAttrs,!0),null!==e&&zt(r,e,n))}(r,t,n,d);let w=null;null!==n&&(w=_D(n,i[el]));const R=s.rendererFactory.createRenderer(n,e);let z=16;e.signals?z=4096:e.onPush&&(z=64);const X=qy(i,GD(e),null,z,i[t.index],t,s,R,null,null,w);return m.firstCreatePass&&tw(m,t,r.length-1),Zy(i,X),i[t.index]=X}($s,ve,Vn,si,Ze,z,X);gn=Of(lt,hn),ve&&function fL(t,n,e,r){if(r)bf(t,e,["ng-version",dP.full]);else{const{attrs:i,classes:s}=function Cf(t){const n=[],e=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&n.push(s,t[++r]):8===i&&e.push(s);else{if(!Ka(i))break;i=s}r++}return{attrs:n,classes:e}}(n.selectors[0]);i&&bf(t,e,i),s&&s.length>0&&$n(t,e,s.join(" "))}}(X,Vn,ve,r),void 0!==e&&function hL(t,n,e){const r=t.projection=[];for(let i=0;i<n.length;i++){const s=e[i];r.push(null!=s?Array.from(s):null)}}(gn,this.ngContentSelectors,e),bt=function dL(t,n,e,r,i,s){const d=zo(),m=i[fn],w=ji(d,i);YD(m,i,d,e,null,r);for(let z=0;z<e.length;z++)Va(Pu(i,m,d.directiveStart+z,d),i);XD(m,i,d),w&&Va(w,i);const R=Pu(i,m,d.directiveStart+d.componentOffset,d);if(t[vi]=i[vi]=R,null!==s)for(const z of s)z(R,n);return q_(m,d,t),R}(cl,Vn,si,ct,Ze,[pL]),ow(lt,Ze,null)}finally{Eo()}return new sL(this.componentType,bt,fg(gn,Ze),Ze,gn)}}class sL extends iP{constructor(n,e,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new iL(i),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const s=this._rootLView;iw(s[fn],s,i,n,e),this.previousInputValues.set(n,e),Fm(Ba(this._tNode.index,s))}}get injector(){return new Lu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function pL(){const t=zo();vs(Rt()[fn],t)}function Zn(t){let n=function c1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let i;if(hs(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new et(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);const d=t;d.inputs=eb(t.inputs),d.inputTransforms=eb(t.inputTransforms),d.declaredInputs=eb(t.declaredInputs),d.outputs=eb(t.outputs);const m=i.hostBindings;m&&yL(t,m);const w=i.viewQuery,R=i.contentQueries;if(w&&mL(t,w),R&&vL(t,R),Ar(t.inputs,i.inputs),Ar(t.declaredInputs,i.declaredInputs),Ar(t.outputs,i.outputs),null!==i.inputTransforms&&(null===d.inputTransforms&&(d.inputTransforms={}),Ar(d.inputTransforms,i.inputTransforms)),hs(i)&&i.data.animation){const z=t.data;z.animation=(z.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let d=0;d<s.length;d++){const m=s[d];m&&m.ngInherit&&m(t),m===Zn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function gL(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=$l(i.hostAttrs,e=$l(e,i.hostAttrs))}}(r)}function eb(t){return t===_o?{}:t===xr?[]:t}function mL(t,n){const e=t.viewQuery;t.viewQuery=e?(r,i)=>{n(r,i),e(r,i)}:n}function vL(t,n){const e=t.contentQueries;t.contentQueries=e?(r,i,s)=>{n(r,i,s),e(r,i,s)}:n}function yL(t,n){const e=t.hostBindings;t.hostBindings=e?(r,i)=>{n(r,i),e(r,i)}:n}function p1(t){const n=t.inputConfig,e={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];Array.isArray(i)&&i[2]&&(e[r]=i[2])}t.inputTransforms=e}function tb(t){return!!aw(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function aw(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fc(t,n,e){return t[n]=e}function xs(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Zh(t,n,e,r){const i=xs(t,n,e);return xs(t,n+1,r)||i}function Es(t,n,e,r){const i=Rt();return xs(i,Fs(),n)&&(_r(),Lc(Hr(),i,t,n,e,r)),Es}function vg(t,n,e,r,i,s){const m=Zh(t,function Er(){return Bn.lFrame.bindingIndex}(),e,i);return Uo(2),m?n+yn(e)+r+yn(i)+s:yr}function Rr(t,n,e,r,i,s,d,m){const w=Rt(),R=_r(),z=t+hn,X=R.firstCreatePass?function GL(t,n,e,r,i,s,d,m,w){const R=n.consts,z=pg(n,t,4,d||null,nl(R,m));ew(n,e,z,nl(R,w)),vs(n,z);const X=z.tView=J_(2,z,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,R,null);return null!==n.queries&&(n.queries.template(n,z),X.queries=n.queries.embeddedTView(z)),z}(z,R,w,n,e,r,i,s,d):R.data[z];ms(X,!1);const ge=T1(R,w,X,t);Ld()&&Nt(R,w,ge,X),Va(ge,w),Zy(w,w[z]=qD(ge,w,ge,X)),Df(X)&&Z_(R,w,X),null!=d&&Q_(w,X,m)}let T1=function M1(t,n,e,r){return iu(!0),n[qn].createComment("")};function lu(t){return function Zl(t,n){return t[n]}(function _i(){return Bn.lFrame.contextLView}(),hn+t)}function tn(t,n,e){const r=Rt();return xs(r,Fs(),n)&&function Ol(t,n,e,r,i,s,d,m){const w=ji(n,e);let z,R=n.inputs;!m&&null!=R&&(z=R[r])?(iw(t,e,z,r,i),Su(n)&&function PP(t,n){const e=Ba(n,t);16&e[Wn]||(e[Wn]|=64)}(e,n.index)):3&n.type&&(r=function kP(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=d?d(i,n.value||"",r):i,s.setProperty(w,r,i))}(_r(),Hr(),r,t,n,r[qn],e,!1),tn}function fw(t,n,e,r,i){const d=i?"class":"style";iw(t,e,n.inputs[d],d,r)}function $e(t,n,e,r){const i=Rt(),s=_r(),d=hn+t,m=i[qn],w=s.firstCreatePass?function YL(t,n,e,r,i,s){const d=n.consts,w=pg(n,t,2,r,nl(d,i));return ew(n,e,w,nl(d,s)),null!==w.attrs&&Qy(w,w.attrs,!1),null!==w.mergedAttrs&&Qy(w,w.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,w),w}(d,s,i,n,e,r):s.data[d],R=I1(s,i,w,m,n,t);i[d]=R;const z=Df(w);return ms(w,!0),zt(m,R,w),32!=(32&w.flags)&&Ld()&&Nt(s,i,R,w),0===function Jl(){return Bn.lFrame.elementDepthCount}()&&Va(R,i),function Vo(){Bn.lFrame.elementDepthCount++}(),z&&(Z_(s,i,w),q_(s,w,i)),null!==r&&Q_(i,w),$e}function Ye(){let t=zo();Id()?fo():(t=t.parent,ms(t,!1));const n=t;(function Ec(t){return Bn.skipHydrationRootTNode===t})(n)&&function eu(){Bn.skipHydrationRootTNode=null}(),function Oh(){Bn.lFrame.elementDepthCount--}();const e=_r();return e.firstCreatePass&&(vs(e,t),wh(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Xp(t){return 0!=(8&t.flags)}(n)&&fw(e,n,Rt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Lf(t){return 0!=(16&t.flags)}(n)&&fw(e,n,Rt(),n.stylesWithoutHost,!1),Ye}function wn(t,n,e,r){return $e(t,n,e,r),Ye(),wn}let I1=(t,n,e,r,i,s)=>(iu(!0),fe(r,i,function Zo(){return Bn.lFrame.currentNamespace}()));function $m(t,n,e){const r=Rt(),i=_r(),s=t+hn,d=i.firstCreatePass?function qL(t,n,e,r,i){const s=n.consts,d=nl(s,r),m=pg(n,t,8,"ng-container",d);return null!==d&&Qy(m,d,!0),ew(n,e,m,nl(s,i)),null!==n.queries&&n.queries.elementStart(n,m),m}(s,i,r,n,e):i.data[s];ms(d,!0);const m=A1(i,r,d,t);return r[s]=m,Ld()&&Nt(i,r,m,d),Va(m,r),Df(d)&&(Z_(i,r,d),q_(i,d,r)),null!=e&&Q_(r,d),$m}function Ym(){let t=zo();const n=_r();return Id()?fo():(t=t.parent,ms(t,!1)),n.firstCreatePass&&(vs(n,t),wh(t)&&n.queries.elementEnd(t)),Ym}function Xm(t,n,e){return $m(t,n,e),Ym(),Xm}let A1=(t,n,e,r)=>(iu(!0),re(n[qn],""));function Ds(){return Rt()}function Km(t){return!!t&&"function"==typeof t.then}function O1(t){return!!t&&"function"==typeof t.subscribe}function Dn(t,n,e,r){const i=Rt(),s=_r(),d=zo();return function R1(t,n,e,r,i,s,d){const m=Df(r),R=t.firstCreatePass&&JD(t),z=n[vi],X=QD(n);let ge=!0;if(3&r.type||d){const Fe=ji(r,n),Qe=d?d(Fe):Fe,lt=X.length,Ze=d?gn=>d(fi(gn[r.index])):r.index;let bt=null;if(!d&&m&&(bt=function JL(t,n,e,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const d=i[s];if(d===e&&i[s+1]===r){const m=n[yl],w=i[s+2];return m.length>w?m[w]:null}"string"==typeof d&&(s+=2)}return null}(t,n,i,r.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=s,bt.__ngLastListenerFn__=s,ge=!1;else{s=P1(r,n,z,s,!1);const gn=e.listen(Qe,i,s);X.push(s,gn),R&&R.push(i,Ze,lt,lt+1)}}else s=P1(r,n,z,s,!1);const ve=r.outputs;let Ie;if(ge&&null!==ve&&(Ie=ve[i])){const Fe=Ie.length;if(Fe)for(let Qe=0;Qe<Fe;Qe+=2){const Vn=n[Ie[Qe]][Ie[Qe+1]].subscribe(s),si=X.length;X.push(s,Vn),R&&R.push(i,r.index,si,-(si+1))}}}(s,i,i[qn],d,t,n,r),Dn}function k1(t,n,e,r){try{return Fa(6,n,e),!1!==e(r)}catch(i){return t1(t,i),!1}finally{Fa(7,n,e)}}function P1(t,n,e,r,i){return function s(d){if(d===Function)return r;Fm(t.componentOffset>-1?Ba(t.index,n):n);let w=k1(n,e,r,d),R=s.__ngNextListenerFn__;for(;R;)w=k1(n,e,R,d)&&w,R=R.__ngNextListenerFn__;return i&&!1===w&&d.preventDefault(),w}}function Qr(t=1){return function ru(t){return(Bn.lFrame.contextLView=function ym(t,n){for(;t>0;)n=n[Eu],t--;return n}(t,Bn.lFrame.contextLView))[vi]}(t)}function eF(t,n){let e=null;const r=function ud(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let i=0;i<n.length;i++){const s=n[i];if("*"!==s){if(null===r?vh(t,s,!0):yh(r,s))return i}else e=i}return e}function Qh(t){const n=Rt()[Gi][wo];if(!n.projection){const r=n.projection=$i(t?t.length:1,null),i=r.slice();let s=n.child;for(;null!==s;){const d=t?eF(s,t):0;null!==d&&(i[d]?i[d].projectionNext=s:r[d]=s,i[d]=s),s=s.next}}}function Jh(t,n=0,e){const r=Rt(),i=_r(),s=pg(i,hn+t,16,null,e||null);null===s.projection&&(s.projection=n),fo(),(!r[ur]||Ho())&&32!=(32&s.flags)&&function Sn(t,n,e){un(n[qn],0,n,e,Je(t,e,n),Ot(e.parent||n[wo],e,n))}(i,r,s)}function ab(t,n){return t<<17|n<<2}function Xf(t){return t>>17&32767}function pw(t){return 2|t}function ep(t){return(131068&t)>>2}function gw(t,n){return-131069&t|n<<2}function mw(t){return 1|t}function W1(t,n,e,r,i){const s=t[e+1],d=null===n;let m=r?Xf(s):ep(s),w=!1;for(;0!==m&&(!1===w||d);){const z=t[m+1];aF(t[m],n)&&(w=!0,t[m+1]=r?mw(z):pw(z)),m=r?Xf(z):ep(z)}w&&(t[e+1]=r?pw(s):mw(s))}function aF(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ho(t,n)>=0}function qm(t,n,e){return Uu(t,n,e,!1),qm}function Ha(t,n){return Uu(t,n,null,!0),Ha}function Uu(t,n,e,r){const i=Rt(),s=_r(),d=Uo(2);s.firstUpdatePass&&function J1(t,n,e,r){const i=t.data;if(null===i[e+1]){const s=i[Do()],d=function Q1(t,n){return n>=t.expandoStartIndex}(t,e);(function rS(t,n){return 0!=(t.flags&(n?8:16))})(s,r)&&null===n&&!d&&(n=!1),n=function gF(t,n,e,r){const i=function Nf(t){const n=Bn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let s=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(e=Zm(e=vw(null,t,n,e,r),n.attrs,r),s=null);else{const d=n.directiveStylingLast;if(-1===d||t[d]!==i)if(e=vw(i,t,n,e,r),null===s){let w=function mF(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==ep(r))return t[Xf(r)]}(t,n,r);void 0!==w&&Array.isArray(w)&&(w=vw(null,t,n,w[1],r),w=Zm(w,n.attrs,r),function vF(t,n,e,r){t[Xf(e?n.classBindings:n.styleBindings)]=r}(t,n,r,w))}else s=function yF(t,n,e){let r;const i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++)r=Zm(r,t[s].hostAttrs,e);return Zm(r,n.attrs,e)}(t,n,r)}return void 0!==s&&(r?n.residualClasses=s:n.residualStyles=s),e}(i,s,n,r),function iF(t,n,e,r,i,s){let d=s?n.classBindings:n.styleBindings,m=Xf(d),w=ep(d);t[r]=e;let z,R=!1;if(Array.isArray(e)?(z=e[1],(null===z||ho(e,z)>0)&&(R=!0)):z=e,i)if(0!==w){const ge=Xf(t[m+1]);t[r+1]=ab(ge,m),0!==ge&&(t[ge+1]=gw(t[ge+1],r)),t[m+1]=function nF(t,n){return 131071&t|n<<17}(t[m+1],r)}else t[r+1]=ab(m,0),0!==m&&(t[m+1]=gw(t[m+1],r)),m=r;else t[r+1]=ab(w,0),0===m?m=r:t[w+1]=gw(t[w+1],r),w=r;R&&(t[r+1]=pw(t[r+1])),W1(t,z,r,!0),W1(t,z,r,!1),function oF(t,n,e,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof n&&ho(s,n)>=0&&(e[r+1]=mw(e[r+1]))}(n,z,t,r,s),d=ab(m,w),s?n.classBindings=d:n.styleBindings=d}(i,s,n,e,d,r)}}(s,t,d,r),n!==yr&&xs(i,d,n)&&function tS(t,n,e,r,i,s,d,m){if(!(3&n.type))return;const w=t.data,R=w[m+1],z=function rF(t){return 1==(1&t)}(R)?nS(w,n,e,i,ep(R),d):void 0;sb(z)||(sb(s)||function tF(t){return 2==(2&t)}(R)&&(s=nS(w,null,e,i,m,d)),function Or(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let s=-1===r.indexOf("-")?void 0:ea.DashCase;null==i?t.removeStyle(e,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ea.Important),t.setStyle(e,r,i,s))}}(r,d,Ed(Do(),e),i,s))}(s,s.data[Do()],i,i[qn],t,i[d+1]=function CF(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=er(Io(t)))),t}(n,e),r,d)}function vw(t,n,e,r,i){let s=null;const d=e.directiveEnd;let m=e.directiveStylingLast;for(-1===m?m=e.directiveStart:m++;m<d&&(s=n[m],r=Zm(r,s.hostAttrs,i),s!==t);)m++;return null!==t&&(e.directiveStylingLast=m),r}function Zm(t,n,e){const r=e?1:2;let i=-1;if(null!==n)for(let s=0;s<n.length;s++){const d=n[s];"number"==typeof d?i=d:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),zr(t,d,!!e||n[++s]))}return void 0===t?null:t}function nS(t,n,e,r,i,s){const d=null===n;let m;for(;i>0;){const w=t[i],R=Array.isArray(w),z=R?w[1]:w,X=null===z;let ge=e[i+1];ge===yr&&(ge=X?xr:void 0);let ve=X?Ei(ge,r):z===r?ge:void 0;if(R&&!sb(ve)&&(ve=Ei(w,r)),sb(ve)&&(m=ve,d))return m;const Ie=t[i+1];i=d?Xf(Ie):ep(Ie)}if(null!==n){let w=s?n.residualClasses:n.residualStyles;null!=w&&(m=Ei(w,r))}return m}function sb(t){return void 0!==t}function mt(t,n=""){const e=Rt(),r=_r(),i=t+hn,s=r.firstCreatePass?pg(r,i,1,n,null):r.data[i],d=iS(r,e,s,n,t);e[i]=d,Ld()&&Nt(r,e,d,s),ms(s,!1)}let iS=(t,n,e,r,i)=>(iu(!0),function Z(t,n){return t.createText(n)}(n[qn],r));function Qm(t){return Nl("",t,""),Qm}function Nl(t,n,e){const r=Rt(),i=function mg(t,n,e,r){return xs(t,Fs(),e)?n+yn(e)+r:yr}(r,t,n,e);return i!==yr&&Jd(r,Do(),i),Nl}function lb(t,n,e,r,i){const s=Rt(),d=vg(s,t,n,e,r,i);return d!==yr&&Jd(s,Do(),d),lb}const Sg="en-US";let DS=Sg;function _w(t,n,e,r,i){if(t=on(t),Array.isArray(t))for(let s=0;s<t.length;s++)_w(t[s],n,e,r,i);else{const s=_r(),d=Rt();let m=Kh(t)?t:on(t.provide),w=mD(t);const R=zo(),z=1048575&R.providerIndexes,X=R.directiveStart,ge=R.providerIndexes>>20;if(Kh(t)||!t.multi){const ve=new Ic(w,i,We),Ie=Cw(m,n,i?z:z+ge,X);-1===Ie?(Bf(zd(R,d),s,m),ww(s,t,n.length),n.push(m),R.directiveStart++,R.directiveEnd++,i&&(R.providerIndexes+=1048576),e.push(ve),d.push(ve)):(e[Ie]=ve,d[Ie]=ve)}else{const ve=Cw(m,n,z+ge,X),Ie=Cw(m,n,z,z+ge),Qe=Ie>=0&&e[Ie];if(i&&!Qe||!i&&!(ve>=0&&e[ve])){Bf(zd(R,d),s,m);const lt=function G2(t,n,e,r,i){const s=new Ic(t,e,We);return s.multi=[],s.index=n,s.componentProviders=0,qS(s,i,r&&!e),s}(i?U2:z2,e.length,i,r,w);!i&&Qe&&(e[Ie].providerFactory=lt),ww(s,t,n.length,0),n.push(m),R.directiveStart++,R.directiveEnd++,i&&(R.providerIndexes+=1048576),e.push(lt),d.push(lt)}else ww(s,t,ve>-1?ve:Ie,qS(e[i?Ie:ve],w,!i&&r));!i&&r&&Qe&&e[Ie].componentProviders++}}}function ww(t,n,e,r){const i=Kh(n),s=function Uk(t){return!!t.useClass}(n);if(i||s){const w=(s?on(n.useClass):n).prototype.ngOnDestroy;if(w){const R=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const z=R.indexOf(e);-1===z?R.push(e,[r,w]):R[z+1].push(r,w)}else R.push(e,w)}}}function qS(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Cw(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function z2(t,n,e,r){return xw(this.multi,[])}function U2(t,n,e,r){const i=this.multi;let s;if(this.providerFactory){const d=this.providerFactory.componentProviders,m=Pu(e,e[fn],this.providerFactory.index,r);s=m.slice(0,d),xw(i,s);for(let w=d;w<m.length;w++)s.push(m[w])}else s=[],xw(i,s);return s}function xw(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function $r(t,n=[]){return e=>{e.providersResolver=(r,i)=>function H2(t,n,e){const r=_r();if(r.firstCreatePass){const i=hs(t);_w(e,r.data,r.blueprint,i,!0),_w(n,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,n)}}class Tg{}class ZS{}class Ew extends Tg{constructor(n,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new l1(this);const i=so(n);this._bootstrapComponents=Qd(i.bootstrap),this._r3Injector=zD(n,e,[{provide:Tg,useValue:this},{provide:dg,useValue:this.componentFactoryResolver},...r],er(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Dw extends ZS{constructor(n){super(),this.moduleType=n}create(n){return new Ew(this.moduleType,n,[])}}class QS extends Tg{constructor(n){super(),this.componentFactoryResolver=new l1(this),this.instance=null;const e=new N_([...n.providers,{provide:Tg,useValue:this},{provide:dg,useValue:this.componentFactoryResolver}],n.parent||Uy(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Sw(t,n,e=null){return new QS({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let $2=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=fD(0,e.type),i=r.length>0?Sw([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=an({token:t,providedIn:"environment",factory:()=>new t(Pt(Rc))}),t})();function JS(t){t.getStandaloneInjector=n=>n.get($2).getOrCreateStandaloneInjector(t)}function hb(t,n,e){const r=Wi()+t,i=Rt();return i[r]===yr?Fc(i,r,e?n.call(e):n()):function Um(t,n){return t[n]}(i,r)}function Hc(t,n,e,r){return function aT(t,n,e,r,i,s){const d=n+e;return xs(t,d,i)?Fc(t,d+1,s?r.call(s,i):r(i)):iv(t,d+1)}(Rt(),Wi(),t,n,e,r)}function Mw(t,n,e,r,i){return function sT(t,n,e,r,i,s,d){const m=n+e;return Zh(t,m,i,s)?Fc(t,m+2,d?r.call(d,i,s):r(i,s)):iv(t,m+2)}(Rt(),Wi(),t,n,e,r,i)}function iv(t,n){const e=t[n];return e===yr?void 0:e}function Iw(t){return n=>{setTimeout(t,void 0,n)}}const lr=class gB extends It{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let i=n,s=e||(()=>null),d=r;if(n&&"object"==typeof n){const w=n;i=w.next?.bind(w),s=w.error?.bind(w),d=w.complete?.bind(w)}this.__isAsync&&(s=Iw(s),i&&(i=Iw(i)),d&&(d=Iw(d)));const m=super.subscribe({next:i,error:s,complete:d});return n instanceof C&&n.add(m),m}};function mB(){return this._results[Symbol.iterator]()}class Mg{get changes(){return this._changes||(this._changes=new lr)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Mg.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=mB)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const i=function fr(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function nr(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=n[r];if(e&&(i=e(i),s=e(s)),s!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let zs=(()=>{class t{}return t.__NG_ELEMENT_ID__=bB,t})();const vB=zs,yB=class extends vB{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e,null)}createEmbeddedViewImpl(n,e,r){const d=this._declarationTContainer.tView,m=qy(this._declarationLView,d,n,4096&this._declarationLView[Wn]?4096:16,null,d.declTNode,null,null,null,e||null,r||null);m[fs]=this._declarationLView[this._declarationTContainer.index];const R=this._declarationLView[uo];return null!==R&&(m[uo]=R.createEmbeddedView(d)),ow(d,m,n),new Hm(m)}};function bB(){return pb(zo(),Rt())}function pb(t,n){return 4&t.type?new yB(n,t,fg(t,n)):null}let za=(()=>{class t{}return t.__NG_ELEMENT_ID__=SB,t})();function SB(){return mT(zo(),Rt())}const TB=za,pT=class extends TB{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return fg(this._hostTNode,this._hostLView)}get injector(){return new Lu(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ud(this._hostTNode,this._hostLView);if(kh(n)){const e=Vd(n,this._hostLView),r=ku(n);return new Lu(e[fn].data[r+8],e)}return new Lu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=gT(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-oi}createEmbeddedView(n,e,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const m=n.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(m,i,false),m}createComponent(n,e,r,i,s){const d=n&&!function En(t){return"function"==typeof t}(n);let m;if(d)m=e;else{const Fe=e||{};m=Fe.index,r=Fe.injector,i=Fe.projectableNodes,s=Fe.environmentInjector||Fe.ngModuleRef}const w=d?n:new zm(Br(n)),R=r||this.parentInjector;if(!s&&null==w.ngModule){const Qe=(d?R:this.parentInjector).get(Rc,null);Qe&&(s=Qe)}Br(w.componentType??{});const ve=w.create(R,i,null,s);return this.insertImpl(ve.hostView,m,false),ve}insert(n,e){return this.insertImpl(n,e,!1)}insertImpl(n,e,r){const i=n._lView,s=i[fn];if(function Sd(t){return La(t[Li])}(i)){const w=this.indexOf(n);if(-1!==w)this.detach(w);else{const R=i[Li],z=new pT(R,R[wo],R[Li]);z.detach(z.indexOf(n))}}const d=this._adjustIndex(e),m=this._lContainer;if(function be(t,n,e,r){const i=oi+r,s=e.length;r>0&&(e[i-1][sa]=n),r<s-oi?(n[sa]=e[i],xi(e,oi+r,n)):(e.push(n),n[sa]=null),n[Li]=e;const d=n[fs];null!==d&&e!==d&&function Te(t,n){const e=t[Du];n[Gi]!==n[Li][Li][Gi]&&(t[_l]=!0),null===e?t[Du]=[n]:e.push(n)}(d,n);const m=n[uo];null!==m&&m.insertView(t),n[Wn]|=128}(s,i,m,d),!r){const w=Xn(d,m),R=i[qn],z=vt(R,m[Ps]);null!==z&&function ye(t,n,e,r,i,s){r[lo]=i,r[wo]=n,Pn(t,r,e,1,i,s)}(s,m[wo],R,i,z,w)}return n.attachToViewContainerRef(),xi(Ow(m),d,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=gT(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=ke(this._lContainer,e);r&&(jo(Ow(this._lContainer),e),Pe(r[fn],r))}detach(n){const e=this._adjustIndex(n,-1),r=ke(this._lContainer,e);return r&&null!=jo(Ow(this._lContainer),e)?new Hm(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function gT(t){return t[8]}function Ow(t){return t[8]||(t[8]=[])}function mT(t,n){let e;const r=n[t.index];return La(r)?e=r:(e=qD(r,n,null,t),n[t.index]=e,Zy(n,e)),vT(e,n,t,r),new pT(e,t,n)}let vT=function yT(t,n,e,r){if(t[Ps])return;let i;i=8&e.type?fi(r):function MB(t,n){const e=t[qn],r=e.createComment(""),i=ji(n,t);return Ge(e,vt(e,i),r,function At(t,n){return t.nextSibling(n)}(e,i),!1),r}(n,e),t[Ps]=i};class Nw{constructor(n){this.queryList=n,this.matches=null}clone(){return new Nw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rw{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,i=[];for(let s=0;s<r;s++){const d=e.getByIndex(s);i.push(this.queries[d.indexInDeclarationView].clone())}return new Rw(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==xT(n,e).matches&&this.queries[e].setDirty()}}class bT{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class kw{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,s=this.getByIndex(r).embeddedTView(n,i);s&&(s.indexInDeclarationView=r,null!==e?e.push(s):e=[s])}return null!==e?new kw(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Pw{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Pw(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(n,e,OB(e,s)),this.matchTNodeWithReadOption(n,e,il(e,n,s,!1,!1))}else r===zs?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,il(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ni||i===za||i===zs&&4&e.type)this.addMatch(e.index,-2);else{const s=il(e,n,i,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function OB(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function RB(t,n,e,r){return-1===e?function NB(t,n){return 11&t.type?fg(t,n):4&t.type?pb(t,n):null}(n,t):-2===e?function kB(t,n,e){return e===ni?fg(n,t):e===zs?pb(n,t):e===za?mT(n,t):void 0}(t,n,r):Pu(t,t[fn],e,n)}function _T(t,n,e,r){const i=n[uo].queries[r];if(null===i.matches){const s=t.data,d=e.matches,m=[];for(let w=0;w<d.length;w+=2){const R=d[w];m.push(R<0?null:RB(n,s[R],d[w+1],e.metadata.read))}i.matches=m}return i.matches}function Lw(t,n,e,r){const i=t.queries.getByIndex(e),s=i.matches;if(null!==s){const d=_T(t,n,i,e);for(let m=0;m<s.length;m+=2){const w=s[m];if(w>0)r.push(d[m/2]);else{const R=s[m+1],z=n[-w];for(let X=oi;X<z.length;X++){const ge=z[X];ge[fs]===ge[Li]&&Lw(ge[fn],ge,R,r)}if(null!==z[Du]){const X=z[Du];for(let ge=0;ge<X.length;ge++){const ve=X[ge];Lw(ve[fn],ve,R,r)}}}}}return r}function Mn(t){const n=Rt(),e=_r(),r=Od();Bs(r+1);const i=xT(e,r);if(t.dirty&&function Cc(t){return 4==(4&t[Wn])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Lw(e,n,r,[]):_T(e,n,i,r);t.reset(s,lP),t.notifyOnChanges()}return!0}return!1}function Ln(t,n,e){const r=_r();r.firstCreatePass&&(CT(r,new bT(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),wT(r,Rt(),n)}function Kf(t,n,e,r){const i=_r();if(i.firstCreatePass){const s=zo();CT(i,new bT(n,e,r),s.index),function LB(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(i,t),2==(2&e)&&(i.staticContentQueries=!0)}wT(i,Rt(),e)}function In(){return function PB(t,n){return t[uo].queries[n].queryList}(Rt(),Od())}function wT(t,n,e){const r=new Mg(4==(4&e));(function OP(t,n,e,r){const i=QD(n);i.push(e),t.firstCreatePass&&JD(t).push(r,i.length-1)})(t,n,r,r.destroy),null===n[uo]&&(n[uo]=new Rw),n[uo].queries.push(new Nw(r))}function CT(t,n,e){null===t.queries&&(t.queries=new kw),t.queries.track(new Pw(n,e))}function xT(t,n){return t.queries.getByIndex(n)}function ET(t,n){return pb(t,n)}const Uw=new Kt("Application Initializer");let Gw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=nn(Uw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const i of this.appInits){const s=i();if(Km(s))e.push(s);else if(O1(s)){const d=new Promise((m,w)=>{s.subscribe({complete:m,error:w})});e.push(d)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zT=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const zc=new Kt("LocaleId",{providedIn:"root",factory:()=>nn(zc,Fn.Optional|Fn.SkipSelf)||function rV(){return typeof $localize<"u"&&$localize.locale||Sg}()});let mb=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new cn(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class oV{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let UT=(()=>{class t{compileModuleSync(e){return new Dw(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),s=Qd(so(e).declarations).reduce((d,m)=>{const w=Br(m);return w&&d.push(new zm(w)),d},[]);return new oV(r,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function WT(...t){}class Yr{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lr(!1),this.onMicrotaskEmpty=new lr(!1),this.onStable=new lr(!1),this.onError=new lr(!1),typeof Zone>"u")throw new et(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function lV(){let t=mi.requestAnimationFrame,n=mi.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function dV(t){const n=()=>{!function cV(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(mi,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ww(t),t.isCheckStableRunning=!0,jw(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ww(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,s,d,m)=>{try{return $T(t),e.invokeTask(i,s,d,m)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&n(),YT(t)}},onInvoke:(e,r,i,s,d,m,w)=>{try{return $T(t),e.invoke(i,s,d,m,w)}finally{t.shouldCoalesceRunChangeDetection&&n(),YT(t)}},onHasTask:(e,r,i,s)=>{e.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Ww(t),jw(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,r,i,s)=>(e.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yr.isInAngularZone())throw new et(909,!1)}static assertNotInAngularZone(){if(Yr.isInAngularZone())throw new et(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){const s=this._inner,d=s.scheduleEventTask("NgZoneEvent: "+i,n,uV,WT,WT);try{return s.runTask(d,e,r)}finally{s.cancelTask(d)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const uV={};function jw(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ww(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function $T(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function YT(t){t._nesting--,jw(t)}class fV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lr,this.onMicrotaskEmpty=new lr,this.onStable=new lr,this.onError=new lr}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}}const XT=new Kt("",{providedIn:"root",factory:KT});function KT(){const t=nn(Yr);let n=!0;return rt(new Ke(i=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(n),i.complete()})}),new Ke(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Yr.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const d=t.onUnstable.subscribe(()=>{Yr.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),d.unsubscribe()}}).pipe(Zt()))}const qT=new Kt(""),vb=new Kt("");let Xw,$w=(()=>{class t{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Xw||(function hV(t){Xw=t}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==s),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}}return t.\u0275fac=function(e){return new(e||t)(Pt(Yr),Pt(Yw),Pt(vb))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})(),Yw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return Xw?.findTestabilityInTree(this,e,r)??null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),qf=null;const ZT=new Kt("AllowMultipleToken"),Kw=new Kt("PlatformDestroyListeners"),qw=new Kt("appBootstrapListener");class JT{constructor(n,e){this.name=n,this.token=e}}function tM(t,n,e=[]){const r=`Platform: ${n}`,i=new Kt(r);return(s=[])=>{let d=Zw();if(!d||d.injector.get(ZT,!1)){const m=[...e,...s,{provide:i,useValue:!0}];t?t(m):function mV(t){if(qf&&!qf.get(ZT,!1))throw new et(400,!1);(function QT(){!function Mu(t){Dh=t}(()=>{throw new et(600,!1)})})(),qf=t;const n=t.get(rM);(function eM(t){t.get(vD,null)?.forEach(e=>e())})(t)}(function nM(t=[],n){return zu.create({name:n,providers:[{provide:A_,useValue:"platform"},{provide:Kw,useValue:new Set([()=>qf=null])},...t]})}(m,r))}return function yV(t){const n=Zw();if(!n)throw new et(401,!1);return n}()}}function Zw(){return qf?.get(rM)??null}let rM=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function bV(t="zone.js",n){return"noop"===t?new fV:"zone.js"===t?new Yr(n):t}(r?.ngZone,function iM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function W2(t,n,e){return new Ew(t,n,e)}(e.moduleType,this.injector,function uM(t){return[{provide:Yr,useFactory:t},{provide:Nm,multi:!0,useFactory:()=>{const n=nn(wV,{optional:!0});return()=>n.initialize()}},{provide:lM,useFactory:_V},{provide:XT,useFactory:KT}]}(()=>i)),d=s.injector.get(Pc,null);return i.runOutsideAngular(()=>{const m=i.onError.subscribe({next:w=>{d.handleError(w)}});s.onDestroy(()=>{yb(this._modules,s),m.unsubscribe()})}),function oM(t,n,e){try{const r=e();return Km(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(d,i,()=>{const m=s.injector.get(Gw);return m.runInitializers(),m.donePromise.then(()=>(function SS(t){io(t,"Expected localeId to be defined"),"string"==typeof t&&(DS=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(zc,Sg)||Sg),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,r=[]){const i=aM({},r);return function pV(t,n,e){const r=new Dw(e);return Promise.resolve(r)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(e){const r=e.injector.get(np);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new et(-403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new et(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(Kw,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Pt(zu))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function aM(t,n){return Array.isArray(n)?n.reduce(aM,t):{...t,...n}}let np=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nn(lM),this.zoneIsStable=nn(XT),this.componentTypes=[],this.components=[],this.isStable=nn(mb).hasPendingTasks.pipe(Vt(e=>e?tt(!1):this.zoneIsStable),en(),Zt()),this._injector=nn(Rc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof xD;if(!this._injector.get(Gw).done)throw!i&&function ao(t){const n=Br(t)||Ui(t)||oo(t);return null!==n&&n.standalone}(e),new et(405,!1);let d;d=i?e:this._injector.get(dg).resolveComponentFactory(e),this.componentTypes.push(d.componentType);const m=function gV(t){return t.isBoundToModule}(d)?void 0:this._injector.get(Tg),R=d.create(zu.NULL,[],r||d.selector,m),z=R.location.nativeElement,X=R.injector.get(qT,null);return X?.registerApplication(z),R.onDestroy(()=>{this.detachView(R.hostView),yb(this.components,R),X?.unregisterApplication(z)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new et(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;yb(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(qw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>yb(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new et(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yb(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const lM=new Kt("",{providedIn:"root",factory:()=>nn(Pc).handleError.bind(void 0)});function _V(){const t=nn(Yr),n=nn(Pc);return e=>t.runOutsideAngular(()=>n.handleError(e))}let wV=(()=>{class t{constructor(){this.zone=nn(Yr),this.applicationRef=nn(np)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let os=(()=>{class t{}return t.__NG_ELEMENT_ID__=xV,t})();function xV(t){return function EV(t,n,e){if(Su(t)&&!e){const r=Ba(t.index,n);return new Hm(r,r)}return 47&t.type?new Hm(n[Gi],n):null}(zo(),Rt(),16==(16&t))}class hM{constructor(){}supports(n){return tb(n)}create(n){return new AV(n)}}const IV=(t,n)=>n;class AV{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||IV}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,s=null;for(;e||r;){const d=!r||e&&e.currentIndex<gM(r,i,s)?e:r,m=gM(d,i,s),w=d.currentIndex;if(d===r)i--,r=r._nextRemoved;else if(e=e._next,null==d.previousIndex)i++;else{s||(s=[]);const R=m-i,z=w-i;if(R!=z){for(let ge=0;ge<R;ge++){const ve=ge<s.length?s[ge]:s[ge]=0,Ie=ve+ge;z<=Ie&&Ie<R&&(s[ge]=ve+1)}s[d.previousIndex]=z-R}}m!==w&&n(d,m,w)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!tb(n))throw new et(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,s,d,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let m=0;m<this.length;m++)s=n[m],d=this._trackByFn(m,s),null!==e&&Object.is(e.trackById,d)?(r&&(e=this._verifyReinsertion(e,s,d,m)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,d,m),r=!0),e=e._next}else i=0,function DL(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,m=>{d=this._trackByFn(i,m),null!==e&&Object.is(e.trackById,d)?(r&&(e=this._verifyReinsertion(e,m,d,i)),Object.is(e.item,m)||this._addIdentityChange(e,m)):(e=this._mismatch(e,m,d,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,s,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,s,i)):n=this._addAfter(new OV(e,r),s,i),n}_verifyReinsertion(n,e,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,s=n._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const i=null===e?this._itHead:e._next;return n._next=i,n._prev=e,null===i?this._itTail=n:i._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new pM),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pM),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class OV{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class NV{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class pM{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new NV,this.map.set(e,r)),r.add(n)}get(n,e){const i=this.map.get(n);return i?i.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gM(t,n,e){const r=t.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}class mM{constructor(){}supports(n){return n instanceof Map||aw(n)}create(){return new RV}}class RV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||aw(n)))throw new et(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,e);const s=i._prev,d=i._next;return s&&(s._next=d),d&&(d._prev=s),i._next=null,i._prev=null,i}const r=new kV(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}}class kV{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vM(){return new ip([new hM])}let ip=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||vM()),deps:[[t,new Vh,new ns]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new et(901,!1)}}return t.\u0275prov=an({token:t,providedIn:"root",factory:vM}),t})();function yM(){return new sv([new mM])}let sv=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||yM()),deps:[[t,new Vh,new ns]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new et(901,!1)}}return t.\u0275prov=an({token:t,providedIn:"root",factory:yM}),t})();const FV=tM(null,"core",[]);let BV=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(Pt(np))},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({}),t})();function Og(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let iC=null;function Zf(){return iC}class qV{}const Di=new Kt("DocumentToken");let oC=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(QV)},providedIn:"platform"}),t})();const ZV=new Kt("Location Initialized");let QV=(()=>{class t extends oC{constructor(){super(),this._doc=nn(Di),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zf().getBaseHref(this._doc)}onPopState(e){const r=Zf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Zf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function aC(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function DM(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function ef(t){return t&&"?"!==t[0]?"?"+t:t}let op=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(TM)},providedIn:"root"}),t})();const SM=new Kt("appBaseHref");let TM=(()=>{class t extends op{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??nn(Di).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return aC(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+ef(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){const d=this.prepareExternalUrl(i+ef(s));this._platformLocation.pushState(e,r,d)}replaceState(e,r,i,s){const d=this.prepareExternalUrl(i+ef(s));this._platformLocation.replaceState(e,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(oC),Pt(SM,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),JV=(()=>{class t extends op{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=aC(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let d=this.prepareExternalUrl(i+ef(s));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,r,d)}replaceState(e,r,i,s){let d=this.prepareExternalUrl(i+ef(s));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(oC),Pt(SM,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})(),sC=(()=>{class t{constructor(e){this._subject=new lr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function nH(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(DM(MM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+ef(r))}normalize(e){return t.stripTrailingSlash(function tH(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,MM(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ef(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ef(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return t.normalizeQueryParams=ef,t.joinWithSlash=aC,t.stripTrailingSlash=DM,t.\u0275fac=function(e){return new(e||t)(Pt(op))},t.\u0275prov=an({token:t,factory:function(){return function eH(){return new sC(Pt(op))}()},providedIn:"root"}),t})();function MM(t){return t.replace(/\/index.html$/,"")}function FM(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}const vC=/\s+/,BM=[];let cv=(()=>{class t{constructor(e,r,i,s){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=BM,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(vC):BM}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(vC):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(vC).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(e){return new(e||t)(We(ip),We(sv),We(ni),We(Zd))},t.\u0275dir=ln({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class HH{constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ng=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,s,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new HH(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===s?void 0:s);else if(null!==s){const m=r.get(s);r.move(m,d),HM(m,i)}});for(let i=0,s=r.length;i<s;i++){const m=r.get(i).context;m.index=i,m.count=s,m.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{HM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(zs),We(ip))},t.\u0275dir=ln({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function HM(t,n){t.context.$implicit=n.item}let Rl=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new zH,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){zM("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){zM("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(zs))},t.\u0275dir=ln({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class zH{constructor(){this.$implicit=null,this.ngIf=null}}function zM(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${er(n)}'.`)}let _C=(()=>{class t{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,s]=e.split("."),d=-1===i.indexOf("-")?void 0:ea.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,d):this._renderer.removeStyle(this._ngEl.nativeElement,i,d)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(We(ni),We(sv),We(Zd))},t.\u0275dir=ln({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),t})(),xC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({}),t})();const jM="browser";function WM(t){return"server"===t}let y5=(()=>{class t{}return t.\u0275prov=an({token:t,providedIn:"root",factory:()=>new b5(Pt(Di),window)}),t})();class b5{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function _5(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const d=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=$M(this.window.history)||$M(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $M(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class YM{}class G5 extends qV{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class SC extends G5{static makeCurrent(){!function KV(t){iC||(iC=t)}(new SC)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function j5(){return fv=fv||document.querySelector("base"),fv?fv.getAttribute("href"):null}();return null==e?null:function W5(t){Rb=Rb||document.createElement("a"),Rb.setAttribute("href",t);const n=Rb.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){fv=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return FM(document.cookie,n)}}let Rb,fv=null,Y5=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const TC=new Kt("EventManagerPlugins");let QM=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new et(5101,!1);return this._eventNameToPlugin.set(e,r),r}}return t.\u0275fac=function(e){return new(e||t)(Pt(TC),Pt(Yr))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();class JM{constructor(n){this._doc=n}}const MC="ng-app-id";let eI=(()=>{class t{constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=WM(s),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${MC}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const s=i.get(e);return s.usage+=r,s.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===e)return i.delete(r),s.removeAttribute(MC),s;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=r,this.platformIsServer&&d.setAttribute(MC,this.appId),d}}addStyleToHost(e,r){const i=this.getStyleElement(e,r);e.appendChild(i);const s=this.styleRef,d=s.get(r)?.elements;d?d.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di),Pt(Gy),Pt(P_,8),Pt(Yf))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const IC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},AC=/%COMP%/g,Z5=new Kt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function nI(t,n){return n.map(e=>e.replace(AC,t))}let OC=(()=>{class t{constructor(e,r,i,s,d,m,w,R=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=d,this.platformId=m,this.ngZone=w,this.nonce=R,this.rendererByCompId=new Map,this.platformIsServer=WM(m),this.defaultRenderer=new NC(e,d,w,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ya.ShadowDom&&(r={...r,encapsulation:ya.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof iI?i.applyToHost(e):i instanceof RC&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const d=this.doc,m=this.ngZone,w=this.eventManager,R=this.sharedStylesHost,z=this.removeStylesOnCompDestroy,X=this.platformIsServer;switch(r.encapsulation){case ya.Emulated:s=new iI(w,R,r,this.appId,z,d,m,X);break;case ya.ShadowDom:return new t3(w,R,e,r,d,m,this.nonce,X);default:s=new RC(w,R,r,z,d,m,X)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(e){return new(e||t)(Pt(QM),Pt(eI),Pt(Gy),Pt(Z5),Pt(Di),Pt(Yf),Pt(Yr),Pt(P_))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();class NC{constructor(n,e,r,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(IC[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(rI(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(rI(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new et(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;const s=IC[i];s?n.setAttributeNS(s,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const i=IC[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(ea.DashCase|ea.Important)?n.style.setProperty(e,r,i&ea.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&ea.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){if("string"==typeof n&&!(n=Zf().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function rI(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class t3 extends NC{constructor(n,e,r,i,s,d,m,w){super(n,s,d,w),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const R=nI(i.id,i.styles);for(const z of R){const X=document.createElement("style");m&&X.setAttribute("nonce",m),X.textContent=z,this.shadowRoot.appendChild(X)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class RC extends NC{constructor(n,e,r,i,s,d,m,w){super(n,s,d,m),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.rendererUsageCount=0,this.styles=w?nI(w,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class iI extends RC{constructor(n,e,r,i,s,d,m,w){const R=i+"-"+r.id;super(n,e,r,s,d,m,w,R),this.contentAttr=function Q5(t){return"_ngcontent-%COMP%".replace(AC,t)}(R),this.hostAttr=function J5(t){return"_nghost-%COMP%".replace(AC,t)}(R)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}let n3=(()=>{class t extends JM{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const oI=["alt","control","meta","shift"],r3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},o3={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let a3=(()=>{class t extends JM{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,i){const s=t.parseEventName(r),d=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zf().onAndCancel(e,s.domEventName,d))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),oI.forEach(R=>{const z=r.indexOf(R);z>-1&&(r.splice(z,1),d+=R+".")}),d+=s,0!=r.length||0===s.length)return null;const w={};return w.domEventName=i,w.fullKey=d,w}static matchEventFullKeyCode(e,r){let i=r3[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),oI.forEach(d=>{d!==i&&(0,o3[d])(e)&&(s+=d+".")}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{t.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const c3=tM(FV,"browser",[{provide:Yf,useValue:jM},{provide:vD,useValue:function s3(){SC.makeCurrent()},multi:!0},{provide:Di,useFactory:function u3(){return function Ur(t){Tn=t}(document),document},deps:[]}]),d3=new Kt(""),lI=[{provide:vb,useClass:class $5{addToWindow(n){mi.getAngularTestability=(r,i=!0)=>{const s=n.findTestabilityInTree(r,i);if(null==s)throw new et(5103,!1);return s},mi.getAllAngularTestabilities=()=>n.getAllTestabilities(),mi.getAllAngularRootElements=()=>n.getAllRootElements(),mi.frameworkStabilizers||(mi.frameworkStabilizers=[]),mi.frameworkStabilizers.push(r=>{const i=mi.getAllAngularTestabilities();let s=i.length,d=!1;const m=function(w){d=d||w,s--,0==s&&r(d)};i.forEach(w=>{w.whenStable(m)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?Zf().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:qT,useClass:$w,deps:[Yr,Yw,vb]},{provide:$w,useClass:$w,deps:[Yr,Yw,vb]}],uI=[{provide:A_,useValue:"root"},{provide:Pc,useFactory:function l3(){return new Pc},deps:[]},{provide:TC,useClass:n3,multi:!0,deps:[Di,Yr,Yf]},{provide:TC,useClass:a3,multi:!0,deps:[Di]},OC,eI,QM,{provide:Lm,useExisting:OC},{provide:YM,useClass:Y5,deps:[]},[]];let cI=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Gy,useValue:e.appId}]}}}return t.\u0275fac=function(e){return new(e||t)(Pt(d3,12))},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({providers:[...uI,...lI],imports:[xC,BV]}),t})(),dI=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di))},t.\u0275prov=an({token:t,factory:function(e){let r=null;return r=e?new e:function h3(){return new dI(Pt(Di))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;let kb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(e){let r=null;return r=e?new(e||t):Pt(pI),r},providedIn:"root"}),t})(),pI=(()=>{class t extends kb{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case hi.NONE:return r;case hi.HTML:return Ea(r,"HTML")?Io(r):iD(this._doc,String(r)).toString();case hi.STYLE:return Ea(r,"Style")?Io(r):r;case hi.SCRIPT:if(Ea(r,"Script"))return Io(r);throw new et(5200,!1);case hi.URL:return Ea(r,"URL")?Io(r):sg(String(r));case hi.RESOURCE_URL:if(Ea(r,"ResourceURL"))return Io(r);throw new et(5201,!1);default:throw new et(5202,!1)}}bypassSecurityTrustHtml(e){return function Kd(t){return new Ml(t)}(e)}bypassSecurityTrustStyle(e){return function Wf(t){return new Il(t)}(e)}bypassSecurityTrustScript(e){return function og(t){return new xa(t)}(e)}bypassSecurityTrustUrl(e){return function qd(t){return new al(t)}(e)}bypassSecurityTrustResourceUrl(e){return function ws(t){return new is(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di))},t.\u0275prov=an({token:t,factory:function(e){let r=null;return r=e?new e:function v3(t){return new pI(t.get(Di))}(Pt(zu)),r},providedIn:"root"}),t})();var Yu=(()=>((Yu=Yu||{})[Yu.Hide=0]="Hide",Yu[Yu.Show=1]="Show",Yu))();let mI=(()=>{class t{constructor(){this.toggleSubject=new It,this.toggleObservable=this.toggleSubject.asObservable()}hideAllComponents(e){this.toggleSubject.next({action:Yu.Hide,type:e})}showAllComponents(e){this.toggleSubject.next({action:Yu.Show,type:e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Pb(t){return!!t&&(t instanceof Ke||T(t.lift)&&T(t.subscribe))}const{isArray:y3}=Array,{getPrototypeOf:b3,prototype:_3,keys:w3}=Object;function vI(t){if(1===t.length){const n=t[0];if(y3(n))return{args:n,keys:null};if(function C3(t){return t&&"object"==typeof t&&b3(t)===_3}(n)){const e=w3(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:x3}=Array;function PC(t){return St(n=>function E3(t,n){return x3(n)?t(...n):t(n)}(t,n))}function yI(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function Lb(...t){const n=Ro(t),e=$a(t),{args:r,keys:i}=vI(t);if(0===r.length)return Ve([],n);const s=new Ke(function D3(t,n,e=Be){return r=>{bI(n,()=>{const{length:i}=t,s=new Array(i);let d=i,m=i;for(let w=0;w<i;w++)bI(n,()=>{const R=Ve(t[w],n);let z=!1;R.subscribe(pt(r,X=>{s[w]=X,z||(z=!0,m--),m||r.next(e(s.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,n,i?d=>yI(i,d):Be));return e?s.pipe(PC(e)):s}function bI(t,n,e){t?Oa(e,t,n):n()}const Fb=P(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Bb(...t){return function S3(){return ki(1)}()(Ve(t,Ro(t)))}function _I(t){return new Ke(n=>{No(t()).subscribe(n)})}function Rg(t,n){const e=T(t)?t:()=>t,r=i=>i.error(e());return new Ke(n?i=>n.schedule(r,0,i):r)}function LC(){return it((t,n)=>{let e=null;t._refCount++;const r=pt(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const i=t._connection,s=e;e=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class FC extends Ke{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ut(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new C;const e=this.getSubject();n.add(this.source.subscribe(pt(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=C.EMPTY)}return n}refCount(){return LC()(this)}}function Uc(t){return t<=0?()=>oa:it((n,e)=>{let r=0;n.subscribe(pt(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function hv(...t){const n=Ro(t);return it((e,r)=>{(n?Bb(t,e,n):Bb(t,e)).subscribe(r)})}function kl(t,n){return it((e,r)=>{let i=0;e.subscribe(pt(r,s=>t.call(n,s,i++)&&r.next(s)))})}function Vb(t){return it((n,e)=>{let r=!1;n.subscribe(pt(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function wI(t=T3){return it((n,e)=>{let r=!1;n.subscribe(pt(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function T3(){return new Fb}function ap(t,n){const e=arguments.length>=2;return r=>r.pipe(t?kl((i,s)=>t(i,s,r)):Be,Uc(1),e?Vb(n):wI(()=>new Fb))}function kg(t,n){return T(n)?Zi(t,n,1):Zi(t,1)}function ga(t,n,e){const r=T(t)||n||e?{next:t,error:n,complete:e}:t;return r?it((i,s)=>{var d;null===(d=r.subscribe)||void 0===d||d.call(r);let m=!0;i.subscribe(pt(s,w=>{var R;null===(R=r.next)||void 0===R||R.call(r,w),s.next(w)},()=>{var w;m=!1,null===(w=r.complete)||void 0===w||w.call(r),s.complete()},w=>{var R;m=!1,null===(R=r.error)||void 0===R||R.call(r,w),s.error(w)},()=>{var w,R;m&&(null===(w=r.unsubscribe)||void 0===w||w.call(r)),null===(R=r.finalize)||void 0===R||R.call(r)}))}):Be}function nf(t){return it((n,e)=>{let s,r=null,i=!1;r=n.subscribe(pt(e,void 0,void 0,d=>{s=No(t(d,nf(t)(n))),r?(r.unsubscribe(),r=null,s.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(e))})}function BC(t){return t<=0?()=>oa:it((n,e)=>{let r=[];n.subscribe(pt(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Pg(t){return it((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const Dr="primary",pv=Symbol("RouteTitle");class N3{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Lg(t){return new N3(t)}function R3(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const d=r[s],m=t[s];if(d.startsWith(":"))i[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Gc(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!CI(t[i],n[i]))return!1;return!0}function CI(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((i,s)=>r[s]===i)}return t===n}function xI(t){return t.length>0?t[t.length-1]:null}function Jf(t){return Pb(t)?t:Km(t)?Ve(Promise.resolve(t)):tt(t)}const P3={exact:function SI(t,n,e){if(!sp(t.segments,n.segments)||!Hb(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!SI(t.children[r],n.children[r],e))return!1;return!0},subset:TI},EI={exact:function L3(t,n){return Gc(t,n)},subset:function F3(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>CI(t[e],n[e]))},ignored:()=>!0};function DI(t,n,e){return P3[e.paths](t.root,n.root,e.matrixParams)&&EI[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function TI(t,n,e){return MI(t,n,n.segments,e)}function MI(t,n,e,r){if(t.segments.length>e.length){const i=t.segments.slice(0,e.length);return!(!sp(i,e)||n.hasChildren()||!Hb(i,e,r))}if(t.segments.length===e.length){if(!sp(t.segments,e)||!Hb(t.segments,e,r))return!1;for(const i in n.children)if(!t.children[i]||!TI(t.children[i],n.children[i],r))return!1;return!0}{const i=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(sp(t.segments,i)&&Hb(t.segments,i,r)&&t.children[Dr])&&MI(t.children[Dr],n,s,r)}}function Hb(t,n,e){return n.every((r,i)=>EI[e](t[i].parameters,r.parameters))}class Fg{constructor(n=new Si([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lg(this.queryParams)),this._queryParamMap}toString(){return H3.serialize(this)}}class Si{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zb(this)}}class gv{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Lg(this.parameters)),this._parameterMap}toString(){return OI(this)}}function sp(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}let mv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return new VC},providedIn:"root"}),t})();class VC{parse(n){const e=new Z3(n);return new Fg(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${vv(n.root,!0)}`,r=function G3(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(i=>`${Ub(e)}=${Ub(i)}`).join("&"):`${Ub(e)}=${Ub(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function z3(t){return encodeURI(t)}(n.fragment)}`:""}`}}const H3=new VC;function zb(t){return t.segments.map(n=>OI(n)).join("/")}function vv(t,n){if(!t.hasChildren())return zb(t);if(n){const e=t.children[Dr]?vv(t.children[Dr],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Dr&&r.push(`${i}:${vv(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function V3(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===Dr&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Dr&&(e=e.concat(n(i,r)))}),e}(t,(r,i)=>i===Dr?[vv(t.children[Dr],!1)]:[`${i}:${vv(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Dr]?`${zb(t)}/${e[0]}`:`${zb(t)}/(${e.join("//")})`}}function II(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ub(t){return II(t).replace(/%3B/gi,";")}function HC(t){return II(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gb(t){return decodeURIComponent(t)}function AI(t){return Gb(t.replace(/\+/g,"%20"))}function OI(t){return`${HC(t.path)}${function U3(t){return Object.keys(t).map(n=>`;${HC(n)}=${HC(t[n])}`).join("")}(t.parameters)}`}const j3=/^[^\/()?;#]+/;function zC(t){const n=t.match(j3);return n?n[0]:""}const W3=/^[^\/()?;=#]+/,Y3=/^[^=?&#]+/,K3=/^[^&#]+/;class Z3{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Si([],{}):new Si([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Dr]=new Si(n,e)),r}parseSegment(){const n=zC(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new et(4009,!1);return this.capture(n),new gv(Gb(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function $3(t){const n=t.match(W3);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=zC(this.remaining);i&&(r=i,this.capture(r))}n[Gb(e)]=Gb(r)}parseQueryParam(n){const e=function X3(t){const n=t.match(Y3);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const d=function q3(t){const n=t.match(K3);return n?n[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=AI(e),s=AI(r);if(n.hasOwnProperty(i)){let d=n[i];Array.isArray(d)||(d=[d],n[i]=d),d.push(s)}else n[i]=s}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=zC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new et(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=Dr);const d=this.parseChildren();e[s]=1===Object.keys(d).length?d[Dr]:new Si([],d),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new et(4011,!1)}}function NI(t){return t.segments.length>0?new Si([],{[Dr]:t}):t}function RI(t){const n={};for(const r of Object.keys(t.children)){const s=RI(t.children[r]);if(r===Dr&&0===s.segments.length&&s.hasChildren())for(const[d,m]of Object.entries(s.children))n[d]=m;else(s.segments.length>0||s.hasChildren())&&(n[r]=s)}return function Q3(t){if(1===t.numberOfChildren&&t.children[Dr]){const n=t.children[Dr];return new Si(t.segments.concat(n.segments),n.children)}return t}(new Si(t.segments,n))}function lp(t){return t instanceof Fg}function kI(t){let n;const i=NI(function e(s){const d={};for(const w of s.children){const R=e(w);d[w.outlet]=R}const m=new Si(s.url,d);return s===t&&(n=m),m}(t.root));return n??i}function PI(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(0===n.length)return UC(i,i,i,e,r);const s=function e4(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new FI(!0,0,t);let n=0,e=!1;const r=t.reduce((i,s,d)=>{if("object"==typeof s&&null!=s){if(s.outlets){const m={};return Object.entries(s.outlets).forEach(([w,R])=>{m[w]="string"==typeof R?R.split("/"):R}),[...i,{outlets:m}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===d?(s.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?e=!0:".."===m?n++:""!=m&&i.push(m))}),i):[...i,s]},[]);return new FI(e,n,r)}(n);if(s.toRoot())return UC(i,i,new Si([],{}),e,r);const d=function t4(t,n,e){if(t.isAbsolute)return new Wb(n,!0,0);if(!e)return new Wb(n,!1,NaN);if(null===e.parent)return new Wb(e,!0,0);const r=jb(t.commands[0])?0:1;return function n4(t,n,e){let r=t,i=n,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new et(4005,!1);i=r.segments.length}return new Wb(r,!1,i-s)}(e,e.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),m=d.processChildren?bv(d.segmentGroup,d.index,s.commands):BI(d.segmentGroup,d.index,s.commands);return UC(i,d.segmentGroup,m,e,r)}function jb(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function yv(t){return"object"==typeof t&&null!=t&&t.outlets}function UC(t,n,e,r,i){let d,s={};r&&Object.entries(r).forEach(([w,R])=>{s[w]=Array.isArray(R)?R.map(z=>`${z}`):`${R}`}),d=t===n?e:LI(t,n,e);const m=NI(RI(d));return new Fg(m,s,i)}function LI(t,n,e){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===n?e:LI(s,n,e)}),new Si(t.segments,r)}class FI{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&jb(r[0]))throw new et(4003,!1);const i=r.find(yv);if(i&&i!==xI(r))throw new et(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wb{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function BI(t,n,e){if(t||(t=new Si([],{})),0===t.segments.length&&t.hasChildren())return bv(t,n,e);const r=function o4(t,n,e){let r=0,i=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return s;const d=t.segments[i],m=e[r];if(yv(m))break;const w=`${m}`,R=r<e.length-1?e[r+1]:null;if(i>0&&void 0===w)break;if(w&&R&&"object"==typeof R&&void 0===R.outlets){if(!HI(w,R,d))return s;r+=2}else{if(!HI(w,{},d))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Si(t.segments.slice(0,r.pathIndex),{});return s.children[Dr]=new Si(t.segments.slice(r.pathIndex),t.children),bv(s,0,i)}return r.match&&0===i.length?new Si(t.segments,{}):r.match&&!t.hasChildren()?GC(t,n,e):r.match?bv(t,0,i):GC(t,n,e)}function bv(t,n,e){if(0===e.length)return new Si(t.segments,{});{const r=function r4(t){return yv(t[0])?t[0].outlets:{[Dr]:t}}(e),i={};if(!r[Dr]&&t.children[Dr]&&1===t.numberOfChildren&&0===t.children[Dr].segments.length){const s=bv(t.children[Dr],n,e);return new Si(t.segments,s.children)}return Object.entries(r).forEach(([s,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(i[s]=BI(t.children[s],n,d))}),Object.entries(t.children).forEach(([s,d])=>{void 0===r[s]&&(i[s]=d)}),new Si(t.segments,i)}}function GC(t,n,e){const r=t.segments.slice(0,n);let i=0;for(;i<e.length;){const s=e[i];if(yv(s)){const w=a4(s.outlets);return new Si(r,w)}if(0===i&&jb(e[0])){r.push(new gv(t.segments[n].path,VI(e[0]))),i++;continue}const d=yv(s)?s.outlets[Dr]:`${s}`,m=i<e.length-1?e[i+1]:null;d&&m&&jb(m)?(r.push(new gv(d,VI(m))),i+=2):(r.push(new gv(d,{})),i++)}return new Si(r,{})}function a4(t){const n={};return Object.entries(t).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[e]=GC(new Si([],{}),0,r))}),n}function VI(t){const n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function HI(t,n,e){return t==e.path&&Gc(n,e.parameters)}const _v="imperative";class jc{constructor(n,e){this.id=n,this.url=e}}class jC extends jc{constructor(n,e,r="imperative",i=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class up extends jc{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $b extends jc{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wv extends jc{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=16}}class WC extends jc{constructor(n,e,r,i){super(n,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class s4 extends jc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l4 extends jc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u4 extends jc{constructor(n,e,r,i,s){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class c4 extends jc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d4 extends jc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f4{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class h4{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class p4{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g4{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m4{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v4{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zI{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class y4{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Cv,this.attachRef=null}}let Cv=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new y4,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class UI{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=$C(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=$C(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=YC(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return YC(n,this._root).map(e=>e.value)}}function $C(t,n){if(t===n.value)return n;for(const e of n.children){const r=$C(t,e);if(r)return r}return null}function YC(t,n){if(t===n.value)return[n];for(const e of n.children){const r=YC(t,e);if(r.length)return r.unshift(n),r}return[]}class rf{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Bg(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class GI extends UI{constructor(n,e){super(n),this.snapshot=e,XC(this,n)}toString(){return this.snapshot.toString()}}function jI(t,n){const e=function b4(t,n){const d=new Yb([],{},{},"",{},Dr,n,null,{});return new $I("",new rf(d,[]))}(0,n),r=new cn([new gv("",{})]),i=new cn({}),s=new cn({}),d=new cn({}),m=new cn(""),w=new Vg(r,i,d,m,s,Dr,n,e.root);return w.snapshot=e.root,new GI(new rf(w,[]),e)}class Vg{constructor(n,e,r,i,s,d,m,w){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=d,this.component=m,this._futureSnapshot=w,this.title=this.dataSubject?.pipe(St(R=>R[pv]))??tt(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(St(n=>Lg(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(St(n=>Lg(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WI(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const i=e[r],s=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function _4(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Yb{get title(){return this.data?.[pv]}constructor(n,e,r,i,s,d,m,w,R){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=d,this.component=m,this.routeConfig=w,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $I extends UI{constructor(n,e){super(e),this.url=n,XC(this,e)}toString(){return YI(this._root)}}function XC(t,n){n.value._routerState=t,n.children.forEach(e=>XC(t,e))}function YI(t){const n=t.children.length>0?` { ${t.children.map(YI).join(", ")} } `:"";return`${t.value}${n}`}function KC(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Gc(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Gc(n.params,e.params)||t.paramsSubject.next(e.params),function k3(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Gc(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),Gc(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function qC(t,n){const e=Gc(t.params,n.params)&&function B3(t,n){return sp(t,n)&&t.every((e,r)=>Gc(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||qC(t.parent,n.parent))}let ZC=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Dr,this.activateEvents=new lr,this.deactivateEvents=new lr,this.attachEvents=new lr,this.detachEvents=new lr,this.parentContexts=nn(Cv),this.location=nn(za),this.changeDetector=nn(os),this.environmentInjector=nn(Rc),this.inputBinder=nn(Xb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new et(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new et(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new et(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new et(4013,!1);this._activatedRoute=e;const i=this.location,d=e.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,w=new w4(e,m,i.injector);this.activated=i.createComponent(d,{index:i.length,injector:w,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ln({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wa]}),t})();class w4{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Vg?this.route:n===Cv?this.childContexts:this.parent.get(n,e)}}const Xb=new Kt("");let XI=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,i=Lb([r.queryParams,r.params,r.data]).pipe(Vt(([s,d,m],w)=>(m={...s,...d,...m},0===w?tt(m):Promise.resolve(m)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const d=function XV(t){const n=Br(t);if(!n)return null;const e=new zm(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(d)for(const{templateName:m}of d.inputs)e.activatedComponentRef.setInput(m,s[m]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();function xv(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const i=function x4(t,n,e){return n.children.map(r=>{for(const i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return xv(t,r,i);return xv(t,r)})}(t,n,e);return new rf(r,i)}{if(t.shouldAttach(n.value)){const s=t.retrieve(n.value);if(null!==s){const d=s.route;return d.value._futureSnapshot=n.value,d.children=n.children.map(m=>xv(t,m)),d}}const r=function E4(t){return new Vg(new cn(t.url),new cn(t.params),new cn(t.queryParams),new cn(t.fragment),new cn(t.data),t.outlet,t.component,t)}(n.value),i=n.children.map(s=>xv(t,s));return new rf(r,i)}}const QC="ngNavigationCancelingError";function KI(t,n){const{redirectTo:e,navigationBehaviorOptions:r}=lp(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=qI(!1,0,n);return i.url=e,i.navigationBehaviorOptions=r,i}function qI(t,n,e){const r=new Error("NavigationCancelingError: "+(t||""));return r[QC]=!0,r.cancellationCode=n,e&&(r.url=e),r}function ZI(t){return QI(t)&&lp(t.url)}function QI(t){return t&&t[QC]}let JI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["ng-component"]],standalone:!0,features:[JS],decls:1,vars:0,template:function(e,r){1&e&&wn(0,"router-outlet")},dependencies:[ZC],encapsulation:2}),t})();function JC(t){const n=t.children&&t.children.map(JC),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Dr&&(e.component=JI),e}function Xu(t){return t.outlet||Dr}function Ev(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class O4{constructor(n,e,r,i,s){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),KC(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const i=Bg(e);n.children.forEach(s=>{const d=s.value.outlet;this.deactivateRoutes(s,i[d],r),delete i[d]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,e,r){const i=n.value,s=e?e.value:null;if(i===s)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(n,e,d.children)}else this.deactivateChildRoutes(n,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,s=Bg(n);for(const d of Object.keys(s))this.deactivateRouteAndItsChildren(s[d],i);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:d,route:n,contexts:m})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,s=Bg(n);for(const d of Object.keys(s))this.deactivateRouteAndItsChildren(s[d],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){const i=Bg(e);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new v4(s.value.snapshot))}),n.children.length&&this.forwardEvent(new g4(n.value.snapshot))}activateRoutes(n,e,r){const i=n.value,s=e?e.value:null;if(KC(i),i===s)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,d.children)}else this.activateChildRoutes(n,e,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),KC(m.route.value),this.activateChildRoutes(n,null,d.children)}else{const m=Ev(i.snapshot);d.attachRef=null,d.route=i,d.injector=m,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(n,null,d.children)}}else this.activateChildRoutes(n,null,r)}}class eA{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Kb{constructor(n,e){this.component=n,this.route=e}}function N4(t,n,e){const r=t._root;return Dv(r,n?n._root:null,e,[r.value])}function Hg(t,n){const e=Symbol(),r=n.get(t,e);return r===e?"function"!=typeof t||function ac(t){return null!==Ra(t)}(t)?n.get(t):t:r}function Dv(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Bg(n);return t.children.forEach(d=>{(function k4(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,d=n?n.value:null,m=e?e.getContext(t.value.outlet):null;if(d&&s.routeConfig===d.routeConfig){const w=function P4(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!sp(t.url,n.url);case"pathParamsOrQueryParamsChange":return!sp(t.url,n.url)||!Gc(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qC(t,n)||!Gc(t.queryParams,n.queryParams);default:return!qC(t,n)}}(d,s,s.routeConfig.runGuardsAndResolvers);w?i.canActivateChecks.push(new eA(r)):(s.data=d.data,s._resolvedData=d._resolvedData),Dv(t,n,s.component?m?m.children:null:e,r,i),w&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new Kb(m.outlet.component,d))}else d&&Sv(n,m,i),i.canActivateChecks.push(new eA(r)),Dv(t,null,s.component?m?m.children:null:e,r,i)})(d,s[d.value.outlet],e,r.concat([d.value]),i),delete s[d.value.outlet]}),Object.entries(s).forEach(([d,m])=>Sv(m,e.getContext(d),i)),i}function Sv(t,n,e){const r=Bg(t),i=t.value;Object.entries(r).forEach(([s,d])=>{Sv(d,i.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new Kb(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Tv(t){return"function"==typeof t}function tA(t){return t instanceof Fb||"EmptyError"===t?.name}const qb=Symbol("INITIAL_VALUE");function zg(){return Vt(t=>Lb(t.map(n=>n.pipe(Uc(1),hv(qb)))).pipe(St(n=>{for(const e of n)if(!0!==e){if(e===qb)return qb;if(!1===e||e instanceof Fg)return e}return!0}),kl(n=>n!==qb),Uc(1)))}function nA(t){return function at(...t){return ht(t)}(ga(n=>{if(lp(n))throw KI(0,n)}),St(n=>!0===n))}class Zb{constructor(n){this.segmentGroup=n||null}}class rA{constructor(n){this.urlTree=n}}function Ug(t){return Rg(new Zb(t))}function iA(t){return Rg(new rA(t))}class tz{constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new et(4002,!1)}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return tt(r);if(i.numberOfChildren>1||!i.children[Dr])return Rg(new et(4e3,!1));i=i.children[Dr]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreateUrlTree(n,e,r,i){const s=this.createSegmentGroup(n,e.root,r,i);return new Fg(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Object.entries(n).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);r[i]=e[m]}else r[i]=s}),r}createSegmentGroup(n,e,r,i){const s=this.createSegments(n,e.segments,r,i);let d={};return Object.entries(e.children).forEach(([m,w])=>{d[m]=this.createSegmentGroup(n,w,r,i)}),new Si(s,d)}createSegments(n,e,r,i){return e.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,e,r){const i=r[e.path.substring(1)];if(!i)throw new et(4001,!1);return i}findOrReturn(n,e){let r=0;for(const i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}}const ex={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nz(t,n,e,r,i){const s=tx(t,n,e);return s.matched?(r=function D4(t,n){return t.providers&&!t._injector&&(t._injector=Sw(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,r),function Q4(t,n,e,r){const i=n.canMatch;return i&&0!==i.length?tt(i.map(d=>{const m=Hg(d,t);return Jf(function z4(t){return t&&Tv(t.canMatch)}(m)?m.canMatch(n,e):t.runInContext(()=>m(n,e)))})).pipe(zg(),nA()):tt(!0)}(r,n,e).pipe(St(d=>!0===d?s:{...ex}))):tt(s)}function tx(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...ex}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||R3)(e,t,n);if(!i)return{...ex};const s={};Object.entries(i.posParams??{}).forEach(([m,w])=>{s[m]=w.path});const d=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function oA(t,n,e,r){return e.length>0&&function oz(t,n,e){return e.some(r=>Qb(t,n,r)&&Xu(r)!==Dr)}(t,e,r)?{segmentGroup:new Si(n,iz(r,new Si(e,t.children))),slicedSegments:[]}:0===e.length&&function az(t,n,e){return e.some(r=>Qb(t,n,r))}(t,e,r)?{segmentGroup:new Si(t.segments,rz(t,0,e,r,t.children)),slicedSegments:e}:{segmentGroup:new Si(t.segments,t.children),slicedSegments:e}}function rz(t,n,e,r,i){const s={};for(const d of r)if(Qb(t,e,d)&&!i[Xu(d)]){const m=new Si([],{});s[Xu(d)]=m}return{...i,...s}}function iz(t,n){const e={};e[Dr]=n;for(const r of t)if(""===r.path&&Xu(r)!==Dr){const i=new Si([],{});e[Xu(r)]=i}return e}function Qb(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class cz{constructor(n,e,r,i,s,d,m){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=d,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new tz(this.urlSerializer,this.urlTree)}noMatchError(n){return new et(4002,!1)}recognize(){const n=oA(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Dr).pipe(nf(e=>{if(e instanceof rA)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Zb?this.noMatchError(e):e}),St(e=>{const r=new Yb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Dr,this.rootComponentType,null,{}),i=new rf(r,e),s=new $I("",i),d=function J3(t,n,e=null,r=null){return PI(kI(t),n,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(s._root),{state:s,tree:d}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Dr).pipe(nf(r=>{throw r instanceof Zb?this.noMatchError(r):r}))}inheritParamsAndData(n){const e=n.value,r=WI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,i,!0)}processChildren(n,e,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ve(i).pipe(kg(s=>{const d=r.children[s],m=function I4(t,n){const e=t.filter(r=>Xu(r)===n);return e.push(...t.filter(r=>Xu(r)!==n)),e}(e,s);return this.processSegmentGroup(n,m,d,s)}),function I3(t,n){return it(function M3(t,n,e,r,i){return(s,d)=>{let m=e,w=n,R=0;s.subscribe(pt(d,z=>{const X=R++;w=m?t(w,z,X):(m=!0,z),r&&d.next(w)},i&&(()=>{m&&d.next(w),d.complete()})))}}(t,n,arguments.length>=2,!0))}((s,d)=>(s.push(...d),s)),Vb(null),function A3(t,n){const e=arguments.length>=2;return r=>r.pipe(t?kl((i,s)=>t(i,s,r)):Be,BC(1),e?Vb(n):wI(()=>new Fb))}(),Zi(s=>{if(null===s)return Ug(r);const d=aA(s);return function dz(t){t.sort((n,e)=>n.value.outlet===Dr?-1:e.value.outlet===Dr?1:n.value.outlet.localeCompare(e.value.outlet))}(d),tt(d)}))}processSegment(n,e,r,i,s,d){return Ve(e).pipe(kg(m=>this.processSegmentAgainstRoute(m._injector??n,e,m,r,i,s,d).pipe(nf(w=>{if(w instanceof Zb)return tt(null);throw w}))),ap(m=>!!m),nf(m=>{if(tA(m))return function lz(t,n,e){return 0===n.length&&!t.children[e]}(r,i,s)?tt([]):Ug(r);throw m}))}processSegmentAgainstRoute(n,e,r,i,s,d,m){return function sz(t,n,e,r){return!!(Xu(t)===r||r!==Dr&&Qb(n,e,t))&&("**"===t.path||tx(n,t,e).matched)}(r,i,s,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,s,d,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,s,d):Ug(i):Ug(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,s,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,s,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?iA(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Zi(d=>{const m=new Si(d,{});return this.processSegment(n,e,m,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,s,d){const{matched:m,consumedSegments:w,remainingSegments:R,positionalParamSegments:z}=tx(e,i,s);if(!m)return Ug(e);const X=this.applyRedirects.applyRedirectCommands(w,i.redirectTo,z);return i.redirectTo.startsWith("/")?iA(X):this.applyRedirects.lineralizeSegments(i,X).pipe(Zi(ge=>this.processSegment(n,r,e,ge.concat(R),d,!1)))}matchSegmentAgainstRoute(n,e,r,i,s,d){let m;if("**"===r.path){const w=i.length>0?xI(i).parameters:{};m=tt({snapshot:new Yb(i,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sA(r),Xu(r),r.component??r._loadedComponent??null,r,lA(r)),consumedSegments:[],remainingSegments:[]}),e.children={}}else m=nz(e,r,i,n).pipe(St(({matched:w,consumedSegments:R,remainingSegments:z,parameters:X})=>w?{snapshot:new Yb(R,X,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sA(r),Xu(r),r.component??r._loadedComponent??null,r,lA(r)),consumedSegments:R,remainingSegments:z}:null));return m.pipe(Vt(w=>null===w?Ug(e):this.getChildConfig(n=r._injector??n,r,i).pipe(Vt(({routes:R})=>{const z=r._loadedInjector??n,{snapshot:X,consumedSegments:ge,remainingSegments:ve}=w,{segmentGroup:Ie,slicedSegments:Fe}=oA(e,ge,ve,R);if(0===Fe.length&&Ie.hasChildren())return this.processChildren(z,R,Ie).pipe(St(lt=>null===lt?null:[new rf(X,lt)]));if(0===R.length&&0===Fe.length)return tt([new rf(X,[])]);const Qe=Xu(r)===s;return this.processSegment(z,R,Ie,Fe,Qe?Dr:s,!0).pipe(St(lt=>[new rf(X,lt)]))}))))}getChildConfig(n,e,r){return e.children?tt({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?tt({routes:e._loadedRoutes,injector:e._loadedInjector}):function Z4(t,n,e,r){const i=n.canLoad;return void 0===i||0===i.length?tt(!0):tt(i.map(d=>{const m=Hg(d,t);return Jf(function F4(t){return t&&Tv(t.canLoad)}(m)?m.canLoad(n,e):t.runInContext(()=>m(n,e)))})).pipe(zg(),nA())}(n,e,r).pipe(Zi(i=>i?this.configLoader.loadChildren(n,e).pipe(ga(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function ez(t){return Rg(qI(!1,3))}())):tt({routes:[],injector:n})}}function fz(t){const n=t.value.routeConfig;return n&&""===n.path}function aA(t){const n=[],e=new Set;for(const r of t){if(!fz(r)){n.push(r);continue}const i=n.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):n.push(r)}for(const r of e){const i=aA(r.children);n.push(new rf(r.value,i))}return n.filter(r=>!e.has(r))}function sA(t){return t.data||{}}function lA(t){return t.resolve||{}}function uA(t){return"string"==typeof t.title||null===t.title}function nx(t){return Vt(n=>{const e=t(n);return e?Ve(e).pipe(St(()=>n)):tt(n)})}const Gg=new Kt("ROUTES");let rx=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=nn(UT)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return tt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Jf(e.loadComponent()).pipe(St(cA),ga(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Pg(()=>{this.componentLoaders.delete(e)})),i=new FC(r,()=>new It).pipe(LC());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return tt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(St(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,R;return Array.isArray(m)?R=m:(w=m.create(e).injector,R=w.get(Gg,[],Fn.Self|Fn.Optional).flat()),{routes:R.map(JC),injector:w}}),Pg(()=>{this.childrenLoaders.delete(r)})),d=new FC(s,()=>new It).pipe(LC());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(e){return Jf(e()).pipe(St(cA),Zi(r=>r instanceof ZS||Array.isArray(r)?tt(r):Ve(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cA(t){return function bz(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Jb=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new It,this.configLoader=nn(rx),this.environmentInjector=nn(Rc),this.urlSerializer=nn(mv),this.rootContexts=nn(Cv),this.inputBindingEnabled=null!==nn(Xb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>tt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new h4(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new f4(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new cn({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:_v,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(kl(r=>0!==r.id),St(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),Vt(r=>{let i=!1,s=!1;return tt(r).pipe(ga(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Vt(d=>{const m=e.browserUrlTree.toString(),w=!e.navigated||d.extractedUrl.toString()!==m||m!==e.currentUrlTree.toString();if(!w&&"reload"!==(d.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const z="";return this.events.next(new wv(d.id,e.serializeUrl(r.rawUrl),z,0)),e.rawUrlTree=d.rawUrl,d.resolve(null),oa}if(e.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return dA(d.source)&&(e.browserUrlTree=d.extractedUrl),tt(d).pipe(Vt(z=>{const X=this.transitions?.getValue();return this.events.next(new jC(z.id,this.urlSerializer.serialize(z.extractedUrl),z.source,z.restoredState)),X!==this.transitions?.getValue()?oa:Promise.resolve(z)}),function hz(t,n,e,r,i,s){return Zi(d=>function uz(t,n,e,r,i,s,d="emptyOnly"){return new cz(t,n,e,r,i,d,s).recognize()}(t,n,e,r,d.extractedUrl,i,s).pipe(St(({state:m,tree:w})=>({...d,targetSnapshot:m,urlAfterRedirects:w}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),ga(z=>{if(r.targetSnapshot=z.targetSnapshot,r.urlAfterRedirects=z.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:z.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!z.extras.skipLocationChange){const ge=e.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl);e.setBrowserUrl(ge,z)}e.browserUrlTree=z.urlAfterRedirects}const X=new s4(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(z.urlAfterRedirects),z.targetSnapshot);this.events.next(X)}));if(w&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:z,extractedUrl:X,source:ge,restoredState:ve,extras:Ie}=d,Fe=new jC(z,this.urlSerializer.serialize(X),ge,ve);this.events.next(Fe);const Qe=jI(0,this.rootComponentType).snapshot;return tt(r={...d,targetSnapshot:Qe,urlAfterRedirects:X,extras:{...Ie,skipLocationChange:!1,replaceUrl:!1}})}{const z="";return this.events.next(new wv(d.id,e.serializeUrl(r.extractedUrl),z,1)),e.rawUrlTree=d.rawUrl,d.resolve(null),oa}}),ga(d=>{const m=new l4(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),St(d=>r={...d,guards:N4(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function G4(t,n){return Zi(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:d}}=e;return 0===d.length&&0===s.length?tt({...e,guardsResult:!0}):function j4(t,n,e,r){return Ve(t).pipe(Zi(i=>function q4(t,n,e,r,i){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?tt(s.map(m=>{const w=Ev(n)??i,R=Hg(m,w);return Jf(function H4(t){return t&&Tv(t.canDeactivate)}(R)?R.canDeactivate(t,n,e,r):w.runInContext(()=>R(t,n,e,r))).pipe(ap())})).pipe(zg()):tt(!0)}(i.component,i.route,e,n,r)),ap(i=>!0!==i,!0))}(d,r,i,t).pipe(Zi(m=>m&&function L4(t){return"boolean"==typeof t}(m)?function W4(t,n,e,r){return Ve(n).pipe(kg(i=>Bb(function Y4(t,n){return null!==t&&n&&n(new p4(t)),tt(!0)}(i.route.parent,r),function $4(t,n){return null!==t&&n&&n(new m4(t)),tt(!0)}(i.route,r),function K4(t,n,e){const r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(d=>function R4(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(d)).filter(d=>null!==d).map(d=>_I(()=>tt(d.guards.map(w=>{const R=Ev(d.node)??e,z=Hg(w,R);return Jf(function V4(t){return t&&Tv(t.canActivateChild)}(z)?z.canActivateChild(r,t):R.runInContext(()=>z(r,t))).pipe(ap())})).pipe(zg())));return tt(s).pipe(zg())}(t,i.path,e),function X4(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return tt(!0);const i=r.map(s=>_I(()=>{const d=Ev(n)??e,m=Hg(s,d);return Jf(function B4(t){return t&&Tv(t.canActivate)}(m)?m.canActivate(n,t):d.runInContext(()=>m(n,t))).pipe(ap())}));return tt(i).pipe(zg())}(t,i.route,e))),ap(i=>!0!==i,!0))}(r,s,t,n):tt(m)),St(m=>({...e,guardsResult:m})))})}(this.environmentInjector,d=>this.events.next(d)),ga(d=>{if(r.guardsResult=d.guardsResult,lp(d.guardsResult))throw KI(0,d.guardsResult);const m=new u4(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),kl(d=>!!d.guardsResult||(e.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),nx(d=>{if(d.guards.canActivateChecks.length)return tt(d).pipe(ga(m=>{const w=new c4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}),Vt(m=>{let w=!1;return tt(m).pipe(function pz(t,n){return Zi(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return tt(e);let s=0;return Ve(i).pipe(kg(d=>function gz(t,n,e,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!uA(i)&&(s[pv]=i.title),function mz(t,n,e,r){const i=function vz(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return tt({});const s={};return Ve(i).pipe(Zi(d=>function yz(t,n,e,r){const i=Ev(n)??r,s=Hg(t,i);return Jf(s.resolve?s.resolve(n,e):i.runInContext(()=>s(n,e)))}(t[d],n,e,r).pipe(ap(),ga(m=>{s[d]=m}))),BC(1),function O3(t){return St(()=>t)}(s),nf(d=>tA(d)?oa:Rg(d)))}(s,t,n,r).pipe(St(d=>(t._resolvedData=d,t.data=WI(t,e).resolve,i&&uA(i)&&(t.data[pv]=i.title),null)))}(d.route,r,t,n)),ga(()=>s++),BC(1),Zi(d=>s===i.length?tt(e):oa))})}(e.paramsInheritanceStrategy,this.environmentInjector),ga({next:()=>w=!0,complete:()=>{w||(e.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),ga(m=>{const w=new d4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}))}),nx(d=>{const m=w=>{const R=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(w.routeConfig).pipe(ga(z=>{w.component=z}),St(()=>{})));for(const z of w.children)R.push(...m(z));return R};return Lb(m(d.targetSnapshot.root)).pipe(Vb(),Uc(1))}),nx(()=>this.afterPreactivation()),St(d=>{const m=function C4(t,n,e){const r=xv(t,n._root,e?e._root:void 0);return new GI(r,n)}(e.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:m}}),ga(d=>{e.currentUrlTree=d.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),e.routerState=d.targetRouterState,"deferred"===e.urlUpdateStrategy&&(d.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,d),e.browserUrlTree=d.urlAfterRedirects)}),((t,n,e,r)=>St(i=>(new O4(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)))(this.rootContexts,e.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Uc(1),ga({next:d=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new up(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{i=!0}}),Pg(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),nf(d=>{if(s=!0,QI(d)){ZI(d)||(e.navigated=!0,e.restoreHistory(r,!0));const m=new $b(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(m),ZI(d)){const w=e.urlHandlingStrategy.merge(d.url,e.rawUrlTree),R={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||dA(r.source)};e.scheduleNavigation(w,_v,null,R,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const m=new WC(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(e.errorHandler(d))}catch(w){r.reject(w)}}return oa}))}))}cancelNavigationTransition(e,r,i){const s=new $b(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(s),e.resolve(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function dA(t){return t!==_v}let fA=(()=>{class t{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Dr);return r}getResolvedTitleForRoute(e){return e.data[pv]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(_z)},providedIn:"root"}),t})(),_z=(()=>{class t extends fA{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(e){return new(e||t)(Pt(dI))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),wz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(xz)},providedIn:"root"}),t})();class Cz{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let xz=(()=>{class t extends Cz{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const e0=new Kt("",{providedIn:"root",factory:()=>({})});let Ez=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(Dz)},providedIn:"root"}),t})(),Dz=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Pl=(()=>((Pl=Pl||{})[Pl.COMPLETE=0]="COMPLETE",Pl[Pl.FAILED=1]="FAILED",Pl[Pl.REDIRECTING=2]="REDIRECTING",Pl))();function hA(t,n){t.events.pipe(kl(e=>e instanceof up||e instanceof $b||e instanceof WC||e instanceof wv),St(e=>e instanceof up||e instanceof wv?Pl.COMPLETE:e instanceof $b&&(0===e.code||1===e.code)?Pl.REDIRECTING:Pl.FAILED),kl(e=>e!==Pl.REDIRECTING),Uc(1)).subscribe(()=>{n()})}function Sz(t){throw t}function Tz(t,n,e){return n.parse("/")}const Mz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Iz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let du=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=nn(zT),this.isNgZoneEnabled=!1,this.options=nn(e0,{optional:!0})||{},this.pendingTasks=nn(mb),this.errorHandler=this.options.errorHandler||Sz,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Tz,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=nn(Ez),this.routeReuseStrategy=nn(wz),this.titleStrategy=nn(fA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=nn(Gg,{optional:!0})?.flat()??[],this.navigationTransitions=nn(Jb),this.urlSerializer=nn(mv),this.location=nn(sC),this.componentInputBindingEnabled=!!nn(Xb,{optional:!0}),this.isNgZoneEnabled=nn(Yr)instanceof Yr&&Yr.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Fg,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=jI(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),_v,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const s={replaceUrl:!0},d=i?.navigationId?i:null;if(i){const w={...i};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(s.state=w)}const m=this.parseUrl(e);this.scheduleNavigation(m,r,d,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(JC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:s,fragment:d,queryParamsHandling:m,preserveFragment:w}=r,R=w?this.currentUrlTree.fragment:d;let X,z=null;switch(m){case"merge":z={...this.currentUrlTree.queryParams,...s};break;case"preserve":z=this.currentUrlTree.queryParams;break;default:z=s||null}null!==z&&(z=this.removeEmptyProps(z));try{X=kI(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),X=this.currentUrlTree.root}return PI(X,e,z,R??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=lp(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,_v,null,r)}navigate(e,r={skipLocationChange:!1}){return function Az(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new et(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...Mz}:!1===r?{...Iz}:r,lp(e))return DI(this.currentUrlTree,e,i);const s=this.parseUrl(e);return DI(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const s=e[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(e,r,i,s,d){if(this.disposed)return Promise.resolve(!1);let m,w,R;d?(m=d.resolve,w=d.reject,R=d.promise):R=new Promise((X,ge)=>{m=X,w=ge});const z=this.pendingTasks.add();return hA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(z))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:m,reject:w,promise:R,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),R.catch(X=>Promise.reject(X))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",d)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),t0=(()=>{class t{constructor(e,r,i,s,d,m){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=d,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new It,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const w=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===w||"area"===w,this.isAnchorElement?this.subscription=e.events.subscribe(R=>{R instanceof up&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,s,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||i||s||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function lD(t,n,e){return function Vk(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?sD:aD}(n,e)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,e,r):i.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(e){return new(e||t)(We(du),We(Vg),y("tabindex"),We(Zd),We(ni),We(op))},t.\u0275dir=ln({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,r){1&e&&Dn("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&Es("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Og],skipLocationChange:["skipLocationChange","skipLocationChange",Og],replaceUrl:["replaceUrl","replaceUrl",Og],routerLink:"routerLink"},standalone:!0,features:[p1,wa]}),t})();class pA{}let Rz=(()=>{class t{constructor(e,r,i,s,d){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(kl(e=>e instanceof up),kg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Sw(s.providers,e,`Route: ${s.path}`));const d=s._injector??e,m=s._loadedInjector??d;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(d,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(m,s.children??s._loadedRoutes))}return Ve(i).pipe(ki())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):tt(null);const s=i.pipe(Zi(d=>null===d?tt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));return r.loadComponent&&!r._loadedComponent?Ve([s,this.loader.loadComponent(r)]).pipe(ki()):s})}}return t.\u0275fac=function(e){return new(e||t)(Pt(du),Pt(UT),Pt(Rc),Pt(pA),Pt(rx))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ix=new Kt("");let gA=(()=>{class t{constructor(e,r,i,s,d={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof jC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof up?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof wv&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof zI&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zI(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(e){X_()},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();function af(t,n){return{\u0275kind:t,\u0275providers:n}}function vA(){const t=nn(zu);return n=>{const e=t.get(np);if(n!==e.components[0])return;const r=t.get(du),i=t.get(yA);1===t.get(ox)&&r.initialNavigation(),t.get(bA,null,Fn.Optional)?.setUpPreloading(),t.get(ix,null,Fn.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const yA=new Kt("",{factory:()=>new It}),ox=new Kt("",{providedIn:"root",factory:()=>1}),bA=new Kt("");function Fz(t){return af(0,[{provide:bA,useExisting:Rz},{provide:pA,useExisting:t}])}const _A=new Kt("ROUTER_FORROOT_GUARD"),Vz=[sC,{provide:mv,useClass:VC},du,Cv,{provide:Vg,useFactory:function mA(t){return t.routerState.root},deps:[du]},rx,[]];function Hz(){return new JT("Router",du)}let wA=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[Vz,[],{provide:Gg,multi:!0,useValue:e},{provide:_A,useFactory:jz,deps:[[du,new ns,new Vh]]},{provide:e0,useValue:r||{}},r?.useHash?{provide:op,useClass:JV}:{provide:op,useClass:TM},{provide:ix,useFactory:()=>{const t=nn(y5),n=nn(Yr),e=nn(e0),r=nn(Jb),i=nn(mv);return e.scrollOffset&&t.setOffset(e.scrollOffset),new gA(i,r,t,n,e)}},r?.preloadingStrategy?Fz(r.preloadingStrategy).\u0275providers:[],{provide:JT,multi:!0,useFactory:Hz},r?.initialNavigation?Wz(r):[],r?.bindToComponentInputs?af(8,[XI,{provide:Xb,useExisting:XI}]).\u0275providers:[],[{provide:CA,useFactory:vA},{provide:qw,multi:!0,useExisting:CA}]]}}static forChild(e){return{ngModule:t,providers:[{provide:Gg,multi:!0,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)(Pt(_A,8))},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({}),t})();function jz(t){return"guarded"}function Wz(t){return["disabled"===t.initialNavigation?af(3,[{provide:Uw,multi:!0,useFactory:()=>{const n=nn(du);return()=>{n.setUpLocationChangeListener()}}},{provide:ox,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?af(2,[{provide:ox,useValue:0},{provide:Uw,multi:!0,deps:[zu],useFactory:n=>{const e=n.get(ZV,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=n.get(du),s=n.get(yA);hA(i,()=>{r(!0)}),n.get(Jb).afterPreactivation=()=>(r(!0),s.closed?tt(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const CA=new Kt("");function Yz(t,n){1&t&&($e(0,"div",6)(1,"ul")(2,"li",7)(3,"a",8),mt(4,"Analysis"),Ye(),$e(5,"ul",9)(6,"li")(7,"a",10),mt(8,"GSWB"),Ye()(),$e(9,"li")(10,"a",11),mt(11,"LiGER"),Ye()()()(),$e(12,"li")(13,"a",12),mt(14,"Regression testing"),Ye()(),$e(15,"li")(16,"a",13),mt(17,"Chat"),Ye()(),$e(18,"li")(19,"a",14),mt(20,"Home"),Ye()()()())}let Xz=(()=>{class t{constructor(e){this.hideComponentsService=e,this.isNavigationVisible=!1,this.isAllHidden=!1}toggleAll(){this.isAllHidden?this.hideComponentsService.showAllComponents("liger"):this.hideComponentsService.hideAllComponents("liger"),this.isAllHidden=!this.isAllHidden}showNavigation(){this.isNavigationVisible=!0}hideNavigation(){this.isNavigationVisible=!1}}return t.\u0275fac=function(e){return new(e||t)(We(mI))},t.\u0275cmp=dr({type:t,selectors:[["app-navigation"]],decls:8,vars:3,consts:[[1,"navigation",3,"mouseenter","mouseleave"],[1,"switch"],["type","checkbox",3,"change"],[1,"slider"],["class","navigation-content",4,"ngIf"],[1,"page-content"],[1,"navigation-content"],[1,"has-submenu"],["routerLink","/demo"],[1,"submenu"],["routerLink","/glue"],["routerLink","/liger"],["routerLink","/regression"],["routerLink","/chat"],["routerLink","/home"]],template:function(e,r){1&e&&($e(0,"div",0),Dn("mouseenter",function(){return r.showNavigation()})("mouseleave",function(){return r.hideNavigation()}),mt(1," LiGER: "),$e(2,"label",1)(3,"input",2),Dn("change",function(){return r.toggleAll()}),Ye(),wn(4,"span",3),Ye(),Rr(5,Yz,21,0,"div",4),Ye(),$e(6,"div",5),wn(7,"router-outlet"),Ye()),2&e&&(Ha("expanded",r.isNavigationVisible),Yt(5),tn("ngIf",r.isNavigationVisible))},dependencies:[Rl,ZC,t0],styles:['.navigation[_ngcontent-%COMP%]{position:fixed;left:0;top:0;width:50px;height:100vh;background-color:#fff;border:1px solid #00a9e0;transition:width .3s ease-in-out;overflow:hidden}.navigation.expanded[_ngcontent-%COMP%]{width:250px}.navigation-content[_ngcontent-%COMP%]{padding:16px;width:100%}.page-content[_ngcontent-%COMP%]{margin-left:50px;transition:margin-left .3s ease-in-out}.navigation.expanded[_ngcontent-%COMP%] ~ .page-content[_ngcontent-%COMP%]{margin-left:250px}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:square;padding-left:20px}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:2}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em;text-decoration:none;white-space:nowrap}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#2196f3;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%;transform:translate(26px)}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ccc}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(0)}.has-submenu[_ngcontent-%COMP%]{position:relative}.has-submenu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]{display:none;list-style-type:square;margin:0;padding-left:20px;background-color:#fff;border-left:2px solid #00a9e0}.has-submenu[_ngcontent-%COMP%]:hover   .submenu[_ngcontent-%COMP%]{display:block}.submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:2}.submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:400;font-size:1em;text-decoration:none;white-space:nowrap;display:block}']}),t})(),Kz=(()=>{class t{constructor(){this.title="gswb-client"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){1&e&&wn(0,"app-navigation")},dependencies:[Xz]}),t})();function xA(...t){const n=$a(t),{args:e,keys:r}=vI(t),i=new Ke(s=>{const{length:d}=e;if(!d)return void s.complete();const m=new Array(d);let w=d,R=d;for(let z=0;z<d;z++){let X=!1;No(e[z]).subscribe(pt(s,ge=>{X||(X=!0,R--),m[z]=ge},()=>w--,void 0,()=>{(!w||!X)&&(R||s.next(r?yI(r,m):m),s.complete())}))}});return n?i.pipe(PC(n)):i}let EA=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(We(Zd),We(ni))},t.\u0275dir=ln({type:t}),t})(),cp=(()=>{class t extends EA{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,features:[Zn]}),t})();const Wc=new Kt("NgValueAccessor"),qz={provide:Wc,useExisting:An(()=>n0),multi:!0};let n0=(()=>{class t extends cp{writeValue(e){this.setProperty("checked",e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,r){1&e&&Dn("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[$r([qz]),Zn]}),t})();const Zz={provide:Wc,useExisting:An(()=>jg),multi:!0},Jz=new Kt("CompositionEventMode");let jg=(()=>{class t extends EA{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Qz(){const t=Zf()?Zf().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(We(Zd),We(ni),We(Jz,8))},t.\u0275dir=ln({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&Dn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[$r([Zz]),Zn]}),t})();function eh(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function DA(t){return null!=t&&"number"==typeof t.length}const Ss=new Kt("NgValidators"),th=new Kt("NgAsyncValidators"),eU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Mv{static min(n){return function SA(t){return n=>{if(eh(n.value)||eh(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function TA(t){return n=>{if(eh(n.value)||eh(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function MA(t){return eh(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function IA(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function AA(t){return eh(t.value)||eU.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function OA(t){return n=>eh(n.value)||!DA(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function NA(t){return n=>DA(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function RA(t){if(!t)return r0;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(eh(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return VA(n)}static composeAsync(n){return HA(n)}}function r0(t){return null}function kA(t){return null!=t}function PA(t){return Km(t)?Ve(t):t}function LA(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function FA(t,n){return n.map(e=>e(t))}function BA(t){return t.map(n=>function tU(t){return!t.validate}(n)?n:e=>n.validate(e))}function VA(t){if(!t)return null;const n=t.filter(kA);return 0==n.length?null:function(e){return LA(FA(e,n))}}function ax(t){return null!=t?VA(BA(t)):null}function HA(t){if(!t)return null;const n=t.filter(kA);return 0==n.length?null:function(e){return xA(FA(e,n).map(PA)).pipe(St(LA))}}function sx(t){return null!=t?HA(BA(t)):null}function zA(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function UA(t){return t._rawValidators}function GA(t){return t._rawAsyncValidators}function lx(t){return t?Array.isArray(t)?t:[t]:[]}function o0(t,n){return Array.isArray(t)?t.includes(n):t===n}function jA(t,n){const e=lx(n);return lx(t).forEach(i=>{o0(e,i)||e.push(i)}),e}function WA(t,n){return lx(n).filter(e=>!o0(t,e))}class $A{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=ax(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=sx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Gs extends $A{get formDirective(){return null}get path(){return null}}class nh extends $A{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class YA{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Wg=(()=>{class t extends YA{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(We(nh,2))},t.\u0275dir=ln({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Ha("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Zn]}),t})(),ux=(()=>{class t extends YA{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(We(Gs,10))},t.\u0275dir=ln({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Ha("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Zn]}),t})();const Iv="VALID",s0="INVALID",$g="PENDING",Av="DISABLED";function fx(t){return(l0(t)?t.validators:t)||null}function hx(t,n){return(l0(n)?n.asyncValidators:t)||null}function l0(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function KA(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new et(1e3,"");if(!r[e])throw new et(1001,"")}function qA(t,n,e){t._forEachChild((r,i)=>{if(void 0===e[i])throw new et(1002,"")})}class u0{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Iv}get invalid(){return this.status===s0}get pending(){return this.status==$g}get disabled(){return this.status===Av}get enabled(){return this.status!==Av}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(jA(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(jA(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(WA(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(WA(n,this._rawAsyncValidators))}hasValidator(n){return o0(this._rawValidators,n)}hasAsyncValidator(n){return o0(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=$g,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Av,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Iv,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Iv||this.status===$g)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Av:Iv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=$g,this._hasOwnPendingAsyncValidator=!0;const e=PA(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new lr,this.statusChanges=new lr}_calculateStatus(){return this._allControlsDisabled()?Av:this.errors?s0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($g)?$g:this._anyControlsHaveStatus(s0)?s0:Iv}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){l0(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function oU(t){return Array.isArray(t)?ax(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function aU(t){return Array.isArray(t)?sx(t):t||null}(this._rawAsyncValidators)}}class Ov extends u0{constructor(n,e,r){super(fx(e),hx(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){qA(this,0,n),Object.keys(n).forEach(r=>{KA(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class ZA extends Ov{}const dp=new Kt("CallSetDisabledState",{providedIn:"root",factory:()=>Nv}),Nv="always";function c0(t,n){return[...n.path,t]}function Rv(t,n,e=Nv){px(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function lU(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&QA(t,n)})}(t,n),function cU(t,n){const e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function uU(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&QA(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function sU(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function d0(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),h0(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function f0(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function px(t,n){const e=UA(t);null!==n.validator?t.setValidators(zA(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=GA(t);null!==n.asyncValidator?t.setAsyncValidators(zA(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();f0(n._rawValidators,i),f0(n._rawAsyncValidators,i)}function h0(t,n){let e=!1;if(null!==t){if(null!==n.validator){const i=UA(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(d=>d!==n.validator);s.length!==i.length&&(e=!0,t.setValidators(s))}}if(null!==n.asyncValidator){const i=GA(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(d=>d!==n.asyncValidator);s.length!==i.length&&(e=!0,t.setAsyncValidators(s))}}}const r=()=>{};return f0(n._rawValidators,r),f0(n._rawAsyncValidators,r),e}function QA(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function mx(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function vx(t,n){if(!n)return null;let e,r,i;return Array.isArray(n),n.forEach(s=>{s.constructor===jg?e=s:function hU(t){return Object.getPrototypeOf(t.constructor)===cp}(s)?r=s:i=s}),i||r||e||null}function tO(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function nO(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Pv=class extends u0{constructor(n=null,e,r){super(fx(e),hx(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),l0(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=nO(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){tO(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){tO(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){nO(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},yU={provide:nh,useExisting:An(()=>Lv)},oO=(()=>Promise.resolve())();let Lv=(()=>{class t extends nh{constructor(e,r,i,s,d,m){super(),this._changeDetectorRef=d,this.callSetDisabledState=m,this.control=new Pv,this._registered=!1,this.name="",this.update=new lr,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vx(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),mx(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){oO.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&Og(r);oO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?c0(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(We(Gs,9),We(Ss,10),We(th,10),We(Wc,10),We(os,8),We(dp,8))},t.\u0275dir=ln({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$r([yU]),Zn,wa]}),t})(),bx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ln({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),sO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({}),t})();const _x=new Kt("NgModelWithFormControlWarning"),EU={provide:Gs,useExisting:An(()=>Fv)};let Fv=(()=>{class t extends Gs{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new lr,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(h0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Rv(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){d0(e.control||null,e,!1),function pU(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function eO(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(d0(r||null,e),(t=>t instanceof Pv)(i)&&(Rv(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function JA(t,n){px(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function dU(t,n){return h0(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){px(this.form,this),this._oldForm&&h0(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(We(Ss,10),We(th,10),We(dp,8))},t.\u0275dir=ln({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&Dn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$r([EU]),Zn,wa]}),t})();const TU={provide:nh,useExisting:An(()=>p0)};let p0=(()=>{class t extends nh{set isDisabled(e){}constructor(e,r,i,s,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.name=null,this.update=new lr,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vx(0,s)}ngOnChanges(e){this._added||this._setUpControl(),mx(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return c0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(We(Gs,13),We(Ss,10),We(th,10),We(Wc,10),We(_x,8))},t.\u0275dir=ln({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[$r([TU]),Zn,wa]}),t})();const MU={provide:Wc,useExisting:An(()=>Bv),multi:!0};function fO(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Bv=(()=>{class t extends cp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=fO(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function IU(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&Dn("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[$r([MU]),Zn]}),t})(),xx=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(fO(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(We(ni),We(Zd),We(Bv,9))},t.\u0275dir=ln({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const AU={provide:Wc,useExisting:An(()=>Ex),multi:!0};function hO(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Ex=(()=>{class t extends cp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(s=>this._getOptionId(s));r=(s,d)=>{s._setSelected(i.indexOf(d.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const d=s;for(let m=0;m<d.length;m++){const R=this._getOptionValue(d[m].value);i.push(R)}}else{const d=r.options;for(let m=0;m<d.length;m++){const w=d[m];if(w.selected){const R=this._getOptionValue(w.value);i.push(R)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function OU(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&Dn("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[$r([AU]),Zn]}),t})(),Dx=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(hO(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(hO(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(We(ni),We(Zd),We(Ex,9))},t.\u0275dir=ln({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),xO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({imports:[sO]}),t})();class EO extends u0{constructor(n,e,r){super(fx(e),hx(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,r={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,e={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){qA(this,0,n),n.forEach((r,i)=>{KA(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,r)=>{n(e,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function DO(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let SO=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new t;return e.useNonNullable=!0,e}group(e,r=null){const i=this._reduceControls(e);let s={};return DO(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Ov(i,s)}record(e,r=null){const i=this._reduceControls(e);return new ZA(i,r)}control(e,r,i){let s={};return this.useNonNullable?(DO(r)?s=r:(s.validators=r,s.asyncValidators=i),new Pv(e,{...s,nonNullable:!0})):new Pv(e,r,i)}array(e,r,i){const s=e.map(d=>this._createControl(d));return new EO(s,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof Pv||e instanceof u0?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),HU=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:dp,useValue:e.callSetDisabledState??Nv}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({imports:[xO]}),t})(),zU=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:_x,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:dp,useValue:e.callSetDisabledState??Nv}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({imports:[xO]}),t})();class g0{}class m0{}class $c{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),s=i.toLowerCase(),d=e.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(d):this.headers.set(s,[d])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof $c?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new $c;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof $c?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const i=("a"===n.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const s=n.value;if(s){let d=this.headers.get(e);if(!d)return;d=d.filter(m=>-1===s.indexOf(m)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const r=(Array.isArray(e)?e:[e]).map(s=>s.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class UU{encodeKey(n){return TO(n)}encodeValue(n){return TO(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const jU=/%(\d[a-f0-9])/gi,WU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function TO(t){return encodeURIComponent(t).replace(jU,(n,e)=>WU[e]??n)}function v0(t){return`${t}`}class rh{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new UU,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function GU(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[d,m]=-1==s?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,s)),n.decodeValue(i.slice(s+1))],w=e.get(d)||[];w.push(m),e.set(d,w)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],i=Array.isArray(r)?r.map(v0):[v0(r)];this.map.set(e,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new rh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(v0(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(v0(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class $U{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function MO(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function IO(t){return typeof Blob<"u"&&t instanceof Blob}function AO(t){return typeof FormData<"u"&&t instanceof FormData}class Vv{constructor(n,e,r,i){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function YU(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new $c),this.context||(this.context=new $U),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+d}}else this.params=new rh,this.urlWithParams=e}serializeBody(){return null===this.body?null:MO(this.body)||IO(this.body)||AO(this.body)||function XU(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||AO(this.body)?null:IO(this.body)?this.body.type||null:MO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,d=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,m=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let w=n.headers||this.headers,R=n.params||this.params;const z=n.context??this.context;return void 0!==n.setHeaders&&(w=Object.keys(n.setHeaders).reduce((X,ge)=>X.set(ge,n.setHeaders[ge]),w)),n.setParams&&(R=Object.keys(n.setParams).reduce((X,ge)=>X.set(ge,n.setParams[ge]),R)),new Vv(e,r,s,{params:R,headers:w,context:z,reportProgress:m,responseType:i,withCredentials:d})}}var ma=(()=>((ma=ma||{})[ma.Sent=0]="Sent",ma[ma.UploadProgress=1]="UploadProgress",ma[ma.ResponseHeader=2]="ResponseHeader",ma[ma.DownloadProgress=3]="DownloadProgress",ma[ma.Response=4]="Response",ma[ma.User=5]="User",ma))();class Tx{constructor(n,e=200,r="OK"){this.headers=n.headers||new $c,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Mx extends Tx{constructor(n={}){super(n),this.type=ma.ResponseHeader}clone(n={}){return new Mx({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Yg extends Tx{constructor(n={}){super(n),this.type=ma.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Yg({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class OO extends Tx{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Ix(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let y0=(()=>{class t{constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof Vv)s=e;else{let w,R;w=i.headers instanceof $c?i.headers:new $c(i.headers),i.params&&(R=i.params instanceof rh?i.params:new rh({fromObject:i.params})),s=new Vv(e,r,void 0!==i.body?i.body:null,{headers:w,context:i.context,params:R,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=tt(s).pipe(kg(w=>this.handler.handle(w)));if(e instanceof Vv||"events"===i.observe)return d;const m=d.pipe(kl(w=>w instanceof Yg));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return m.pipe(St(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return m.pipe(St(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return m.pipe(St(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return m.pipe(St(w=>w.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new rh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Ix(i,r))}post(e,r,i={}){return this.request("POST",e,Ix(i,r))}put(e,r,i={}){return this.request("PUT",e,Ix(i,r))}}return t.\u0275fac=function(e){return new(e||t)(Pt(g0))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();function kO(t,n){return n(t)}function qU(t,n){return(e,r)=>n.intercept(e,{handle:i=>t(i,r)})}const QU=new Kt(""),Hv=new Kt(""),PO=new Kt("");function JU(){let t=null;return(n,e)=>{null===t&&(t=(nn(QU,{optional:!0})??[]).reduceRight(qU,kO));const r=nn(mb),i=r.add();return t(n,e).pipe(Pg(()=>r.remove(i)))}}let LO=(()=>{class t extends g0{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null,this.pendingTasks=nn(mb)}handle(e){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Hv),...this.injector.get(PO,[])]));this.chain=i.reduceRight((s,d)=>function ZU(t,n,e){return(r,i)=>e.runInContext(()=>n(r,s=>t(s,i)))}(s,d,this.injector),kO)}const r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(Pg(()=>this.pendingTasks.remove(r)))}}return t.\u0275fac=function(e){return new(e||t)(Pt(m0),Pt(Rc))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const rG=/^\)\]\}',?\n/;let BO=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new et(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Ve(r.\u0275loadImpl()):tt(null)).pipe(Vt(()=>new Ke(s=>{const d=r.build();if(d.open(e.method,e.urlWithParams),e.withCredentials&&(d.withCredentials=!0),e.headers.forEach((Fe,Qe)=>d.setRequestHeader(Fe,Qe.join(","))),e.headers.has("Accept")||d.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Fe=e.detectContentTypeHeader();null!==Fe&&d.setRequestHeader("Content-Type",Fe)}if(e.responseType){const Fe=e.responseType.toLowerCase();d.responseType="json"!==Fe?Fe:"text"}const m=e.serializeBody();let w=null;const R=()=>{if(null!==w)return w;const Fe=d.statusText||"OK",Qe=new $c(d.getAllResponseHeaders()),lt=function iG(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(d)||e.url;return w=new Mx({headers:Qe,status:d.status,statusText:Fe,url:lt}),w},z=()=>{let{headers:Fe,status:Qe,statusText:lt,url:Ze}=R(),bt=null;204!==Qe&&(bt=typeof d.response>"u"?d.responseText:d.response),0===Qe&&(Qe=bt?200:0);let gn=Qe>=200&&Qe<300;if("json"===e.responseType&&"string"==typeof bt){const Vn=bt;bt=bt.replace(rG,"");try{bt=""!==bt?JSON.parse(bt):null}catch(si){bt=Vn,gn&&(gn=!1,bt={error:si,text:bt})}}gn?(s.next(new Yg({body:bt,headers:Fe,status:Qe,statusText:lt,url:Ze||void 0})),s.complete()):s.error(new OO({error:bt,headers:Fe,status:Qe,statusText:lt,url:Ze||void 0}))},X=Fe=>{const{url:Qe}=R(),lt=new OO({error:Fe,status:d.status||0,statusText:d.statusText||"Unknown Error",url:Qe||void 0});s.error(lt)};let ge=!1;const ve=Fe=>{ge||(s.next(R()),ge=!0);let Qe={type:ma.DownloadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(Qe.total=Fe.total),"text"===e.responseType&&d.responseText&&(Qe.partialText=d.responseText),s.next(Qe)},Ie=Fe=>{let Qe={type:ma.UploadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(Qe.total=Fe.total),s.next(Qe)};return d.addEventListener("load",z),d.addEventListener("error",X),d.addEventListener("timeout",X),d.addEventListener("abort",X),e.reportProgress&&(d.addEventListener("progress",ve),null!==m&&d.upload&&d.upload.addEventListener("progress",Ie)),d.send(m),s.next({type:ma.Sent}),()=>{d.removeEventListener("error",X),d.removeEventListener("abort",X),d.removeEventListener("load",z),d.removeEventListener("timeout",X),e.reportProgress&&(d.removeEventListener("progress",ve),null!==m&&d.upload&&d.upload.removeEventListener("progress",Ie)),d.readyState!==d.DONE&&d.abort()}})))}}return t.\u0275fac=function(e){return new(e||t)(Pt(YM))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const Ax=new Kt("XSRF_ENABLED"),VO=new Kt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),HO=new Kt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class zO{}let sG=(()=>{class t{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=FM(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di),Pt(Yf),Pt(VO))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();function lG(t,n){const e=t.url.toLowerCase();if(!nn(Ax)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const r=nn(zO).getToken(),i=nn(HO);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),n(t)}var po=(()=>((po=po||{})[po.Interceptors=0]="Interceptors",po[po.LegacyInterceptors=1]="LegacyInterceptors",po[po.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",po[po.NoXsrfProtection=3]="NoXsrfProtection",po[po.JsonpSupport=4]="JsonpSupport",po[po.RequestsMadeViaParent=5]="RequestsMadeViaParent",po[po.Fetch=6]="Fetch",po))();function hp(t,n){return{\u0275kind:t,\u0275providers:n}}function uG(...t){const n=[y0,BO,LO,{provide:g0,useExisting:LO},{provide:m0,useExisting:BO},{provide:Hv,useValue:lG,multi:!0},{provide:Ax,useValue:!0},{provide:zO,useClass:sG}];for(const e of t)n.push(...e.\u0275providers);return function S_(t){return{\u0275providers:t}}(n)}const UO=new Kt("LEGACY_INTERCEPTOR_FN");let dG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({providers:[uG(hp(po.LegacyInterceptors,[{provide:UO,useFactory:JU},{provide:Hv,useExisting:UO,multi:!0}]))]}),t})();class GO{}class vG{}const sf="*";function yG(t,n){return{type:7,name:t,definitions:n,options:{}}}function Ox(t,n=null){return{type:4,styles:n,timings:t}}function jO(t,n=null){return{type:2,steps:t,options:n}}function pp(t){return{type:6,styles:t,offset:null}}function Nx(t,n,e){return{type:0,name:t,styles:n,options:e}}function Rx(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}class zv{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class WO{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==s&&this._onFinish()}),d.onDestroy(()=>{++r==s&&this._onDestroy()}),d.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((d,m)=>Math.max(d,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function $O(t){return new et(3e3,!1)}function ih(t){switch(t.length){case 0:return new zv;case 1:return t[0];default:return new WO(t)}}function YO(t,n,e=new Map,r=new Map){const i=[],s=[];let d=-1,m=null;if(n.forEach(w=>{const R=w.get("offset"),z=R==d,X=z&&m||new Map;w.forEach((ge,ve)=>{let Ie=ve,Fe=ge;if("offset"!==ve)switch(Ie=t.normalizePropertyName(Ie,i),Fe){case"!":Fe=e.get(ve);break;case sf:Fe=r.get(ve);break;default:Fe=t.normalizeStyleValue(ve,Ie,Fe,i)}X.set(Ie,Fe)}),z||s.push(X),m=X,d=R}),i.length)throw function zG(t){return new et(3502,!1)}();return s}function Px(t,n,e,r){switch(n){case"start":t.onStart(()=>r(e&&Lx(e,"start",t)));break;case"done":t.onDone(()=>r(e&&Lx(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&Lx(e,"destroy",t)))}}function Lx(t,n,e){const s=Fx(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),d=t._data;return null!=d&&(s._data=d),s}function Fx(t,n,e,r,i="",s=0,d){return{element:t,triggerName:n,fromState:e,toState:r,phaseName:i,totalTime:s,disabled:!!d}}function Ll(t,n,e){let r=t.get(n);return r||t.set(n,r=e),r}function XO(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const JG=(()=>typeof document>"u"?null:document.documentElement)();function Bx(t){const n=t.parentNode||t.host||null;return n===JG?null:n}let gp=null,KO=!1;function qO(t,n){for(;n;){if(n===t)return!0;n=Bx(n)}return!1}function ZO(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const r=t.querySelector(n);return r?[r]:[]}let QO=(()=>{class t{validateStyleProperty(e){return function t8(t){gp||(gp=function n8(){return typeof document<"u"?document.body:null}()||{},KO=!!gp.style&&"WebkitAppearance"in gp.style);let n=!0;return gp.style&&!function e8(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in gp.style,!n&&KO&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in gp.style)),n}(e)}matchesElement(e,r){return!1}containsElement(e,r){return qO(e,r)}getParentElement(e){return Bx(e)}query(e,r,i){return ZO(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,s,d,m=[],w){return new zv(i,s)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})(),Vx=(()=>{class t{}return t.NOOP=new QO,t})();const r8=1e3,Hx="ng-enter",_0="ng-leave",w0="ng-trigger",C0=".ng-trigger",eN="ng-animating",zx=".ng-animating";function lf(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Ux(parseFloat(n[1]),n[2])}function Ux(t,n){return"s"===n?t*r8:t}function x0(t,n,e){return t.hasOwnProperty("duration")?t:function o8(t,n,e){let i,s=0,d="";if("string"==typeof t){const m=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return n.push($O()),{duration:0,delay:0,easing:""};i=Ux(parseFloat(m[1]),m[2]);const w=m[3];null!=w&&(s=Ux(parseFloat(w),m[4]));const R=m[5];R&&(d=R)}else i=t;if(!e){let m=!1,w=n.length;i<0&&(n.push(function bG(){return new et(3100,!1)}()),m=!0),s<0&&(n.push(function _G(){return new et(3101,!1)}()),m=!0),m&&n.splice(w,0,$O())}return{duration:i,delay:s,easing:d}}(t,n,e)}function Uv(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function tN(t){const n=new Map;return Object.keys(t).forEach(e=>{n.set(e,t[e])}),n}function oh(t,n=new Map,e){if(e)for(let[r,i]of e)n.set(r,i);for(let[r,i]of t)n.set(r,i);return n}function Yc(t,n,e){n.forEach((r,i)=>{const s=jx(i);e&&!e.has(i)&&e.set(i,t.style[s]),t.style[s]=r})}function mp(t,n){n.forEach((e,r)=>{const i=jx(r);t.style[i]=""})}function Gv(t){return Array.isArray(t)?1==t.length?t[0]:jO(t):t}const Gx=new RegExp("{{\\s*(.+?)\\s*}}","g");function rN(t){let n=[];if("string"==typeof t){let e;for(;e=Gx.exec(t);)n.push(e[1]);Gx.lastIndex=0}return n}function jv(t,n,e){const r=t.toString(),i=r.replace(Gx,(s,d)=>{let m=n[d];return null==m&&(e.push(function CG(t){return new et(3003,!1)}()),m=""),m.toString()});return i==r?t:i}function E0(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const l8=/-+([a-z0-9])/g;function jx(t){return t.replace(l8,(...n)=>n[1].toUpperCase())}function Fl(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function xG(t){return new et(3004,!1)}()}}function iN(t,n){return window.getComputedStyle(t)[n]}const D0="*";function d8(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function f8(t,n,e){if(":"==t[0]){const w=function h8(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(function FG(t){return new et(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof w)return void n.push(w);t=w}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function LG(t){return new et(3015,!1)}()),n;const i=r[1],s=r[2],d=r[3];n.push(oN(i,d));"<"==s[0]&&!(i==D0&&d==D0)&&n.push(oN(d,i))}(r,e,n)):e.push(t),e}const S0=new Set(["true","1"]),T0=new Set(["false","0"]);function oN(t,n){const e=S0.has(t)||T0.has(t),r=S0.has(n)||T0.has(n);return(i,s)=>{let d=t==D0||t==i,m=n==D0||n==s;return!d&&e&&"boolean"==typeof i&&(d=i?S0.has(t):T0.has(t)),!m&&r&&"boolean"==typeof s&&(m=s?S0.has(n):T0.has(n)),d&&m}}const p8=new RegExp("s*:selfs*,?","g");function Wx(t,n,e,r){return new g8(t).build(n,e,r)}class g8{constructor(n){this._driver=n}build(n,e,r){const i=new y8(e);return this._resetContextStyleTimingState(i),Fl(this,Gv(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,i=e.depCount=0;const s=[],d=[];return"@"==n.name.charAt(0)&&e.errors.push(function DG(){return new et(3006,!1)}()),n.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const w=m,R=w.name;R.toString().split(/\s*,\s*/).forEach(z=>{w.name=z,s.push(this.visitState(w,e))}),w.name=R}else if(1==m.type){const w=this.visitTransition(m,e);r+=w.queryCount,i+=w.depCount,d.push(w)}else e.errors.push(function SG(){return new et(3007,!1)}())}),{type:7,name:n.name,states:s,transitions:d,queryCount:r,depCount:i,options:null}}visitState(n,e){const r=this.visitStyle(n.styles,e),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const s=new Set,d=i||{};r.styles.forEach(m=>{m instanceof Map&&m.forEach(w=>{rN(w).forEach(R=>{d.hasOwnProperty(R)||s.add(R)})})}),s.size&&(E0(s.values()),e.errors.push(function TG(t,n){return new et(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const r=Fl(this,Gv(n.animation),e);return{type:1,matchers:d8(n.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:vp(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(r=>Fl(this,r,e)),options:vp(n.options)}}visitGroup(n,e){const r=e.currentTime;let i=0;const s=n.steps.map(d=>{e.currentTime=r;const m=Fl(this,d,e);return i=Math.max(i,e.currentTime),m});return e.currentTime=i,{type:3,steps:s,options:vp(n.options)}}visitAnimate(n,e){const r=function _8(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return $x(x0(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=$x(0,0,"");return s.dynamic=!0,s.strValue=e,s}const i=x0(e,n);return $x(i.duration,i.delay,i.easing)}(n.timings,e.errors);e.currentAnimateTimings=r;let i,s=n.styles?n.styles:pp({});if(5==s.type)i=this.visitKeyframes(s,e);else{let d=n.styles,m=!1;if(!d){m=!0;const R={};r.easing&&(R.easing=r.easing),d=pp(R)}e.currentTime+=r.duration+r.delay;const w=this.visitStyle(d,e);w.isEmptyStep=m,i=w}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,e){const r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let m of i)"string"==typeof m?m===sf?r.push(m):e.errors.push(new et(3002,!1)):r.push(tN(m));let s=!1,d=null;return r.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(d=m.get("easing"),m.delete("easing")),!s))for(let w of m.values())if(w.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:d,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,e){const r=e.currentAnimateTimings;let i=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),n.styles.forEach(d=>{"string"!=typeof d&&d.forEach((m,w)=>{const R=e.collectedStyles.get(e.currentQuerySelector),z=R.get(w);let X=!0;z&&(s!=i&&s>=z.startTime&&i<=z.endTime&&(e.errors.push(function IG(t,n,e,r,i){return new et(3010,!1)}()),X=!1),s=z.startTime),X&&R.set(w,{startTime:s,endTime:i}),e.options&&function s8(t,n,e){const r=n.params||{},i=rN(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||e.push(function wG(t){return new et(3001,!1)}())})}(m,e.options,e.errors)})})}visitKeyframes(n,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function AG(){return new et(3011,!1)}()),r;let s=0;const d=[];let m=!1,w=!1,R=0;const z=n.steps.map(lt=>{const Ze=this._makeStyleAst(lt,e);let bt=null!=Ze.offset?Ze.offset:function b8(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(Ze.styles),gn=0;return null!=bt&&(s++,gn=Ze.offset=bt),w=w||gn<0||gn>1,m=m||gn<R,R=gn,d.push(gn),Ze});w&&e.errors.push(function OG(){return new et(3012,!1)}()),m&&e.errors.push(function NG(){return new et(3200,!1)}());const X=n.steps.length;let ge=0;s>0&&s<X?e.errors.push(function RG(){return new et(3202,!1)}()):0==s&&(ge=1/(X-1));const ve=X-1,Ie=e.currentTime,Fe=e.currentAnimateTimings,Qe=Fe.duration;return z.forEach((lt,Ze)=>{const bt=ge>0?Ze==ve?1:ge*Ze:d[Ze],gn=bt*Qe;e.currentTime=Ie+Fe.delay+gn,Fe.duration=gn,this._validateStyleAst(lt,e),lt.offset=bt,r.styles.push(lt)}),r}visitReference(n,e){return{type:8,animation:Fl(this,Gv(n.animation),e),options:vp(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:vp(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:vp(n.options)}}visitQuery(n,e){const r=e.currentQuerySelector,i=n.options||{};e.queryCount++,e.currentQuery=n;const[s,d]=function m8(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(p8,"")),t=t.replace(/@\*/g,C0).replace(/@\w+/g,e=>C0+"-"+e.slice(1)).replace(/:animating/g,zx),[t,n]}(n.selector);e.currentQuerySelector=r.length?r+" "+s:s,Ll(e.collectedStyles,e.currentQuerySelector,new Map);const m=Fl(this,Gv(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:m,originalSelector:n.selector,options:vp(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function kG(){return new et(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:x0(n.timings,e.errors,!0);return{type:12,animation:Fl(this,Gv(n.animation),e),timings:r,options:null}}}class y8{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vp(t){return t?(t=Uv(t)).params&&(t.params=function v8(t){return t?Uv(t):null}(t.params)):t={},t}function $x(t,n,e){return{duration:t,delay:n,easing:e}}function Yx(t,n,e,r,i,s,d=null,m=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:d,subTimeline:m}}class M0{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const x8=new RegExp(":enter","g"),D8=new RegExp(":leave","g");function Xx(t,n,e,r,i,s=new Map,d=new Map,m,w,R=[]){return(new S8).buildKeyframes(t,n,e,r,i,s,d,m,w,R)}class S8{buildKeyframes(n,e,r,i,s,d,m,w,R,z=[]){R=R||new M0;const X=new Kx(n,e,R,i,s,z,[]);X.options=w;const ge=w.delay?lf(w.delay):0;X.currentTimeline.delayNextStep(ge),X.currentTimeline.setStyles([d],null,X.errors,w),Fl(this,r,X);const ve=X.timelines.filter(Ie=>Ie.containsAnimation());if(ve.length&&m.size){let Ie;for(let Fe=ve.length-1;Fe>=0;Fe--){const Qe=ve[Fe];if(Qe.element===e){Ie=Qe;break}}Ie&&!Ie.allowOnlyTimelineStyles()&&Ie.setStyles([m],null,X.errors,w)}return ve.length?ve.map(Ie=>Ie.buildKeyframes()):[Yx(e,[],[],[],0,ge,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(n.options),s=e.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);s!=d&&e.transformIntoNewTimeline(d)}e.previousNode=n}visitAnimateRef(n,e){const r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,r),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,r){for(const i of n){const s=i?.delay;if(s){const d="number"==typeof s?s:lf(jv(s,i?.params??{},e.errors));r.delayNextStep(d)}}}_visitSubInstructions(n,e,r){let s=e.currentTimeline.currentTime;const d=null!=r.duration?lf(r.duration):null,m=null!=r.delay?lf(r.delay):null;return 0!==d&&n.forEach(w=>{const R=e.appendInstructionToTimeline(w,d,m);s=Math.max(s,R.duration+R.delay)}),s}visitReference(n,e){e.updateOptions(n.options,!0),Fl(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const r=e.subContextCount;let i=e;const s=n.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=I0);const d=lf(s.delay);i.delayNextStep(d)}n.steps.length&&(n.steps.forEach(d=>Fl(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const r=[];let i=e.currentTimeline.currentTime;const s=n.options&&n.options.delay?lf(n.options.delay):0;n.steps.forEach(d=>{const m=e.createSubContext(n.options);s&&m.delayNextStep(s),Fl(this,d,m),i=Math.max(i,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(i),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const r=n.strValue;return x0(e.params?jv(r,e.params,e.errors):r,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const r=e.currentAnimateTimings=this._visitTiming(n.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(r.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(s):r.setStyles(n.styles,s,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,s=r.duration,m=e.createSubContext().currentTimeline;m.easing=r.easing,n.styles.forEach(w=>{m.forwardTime((w.offset||0)*s),m.setStyles(w.styles,w.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(i+s),e.previousNode=n}visitQuery(n,e){const r=e.currentTimeline.currentTime,i=n.options||{},s=i.delay?lf(i.delay):0;s&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=I0);let d=r;const m=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=m.length;let w=null;m.forEach((R,z)=>{e.currentQueryIndex=z;const X=e.createSubContext(n.options,R);s&&X.delayNextStep(s),R===e.element&&(w=X.currentTimeline),Fl(this,n.animation,X),X.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,X.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),w&&(e.currentTimeline.mergeTimelineCollectedStyles(w),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const r=e.parentContext,i=e.currentTimeline,s=n.timings,d=Math.abs(s.duration),m=d*(e.currentQueryTotal-1);let w=d*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":w=m-w;break;case"full":w=r.currentStaggerTime}const z=e.currentTimeline;w&&z.delayNextStep(w);const X=z.currentTime;Fl(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=i.currentTime-X+(i.startTime-r.currentTimeline.startTime)}}const I0={};class Kx{constructor(n,e,r,i,s,d,m,w){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=d,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=I0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new A0(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=lf(r.duration)),null!=r.delay&&(i.delay=lf(r.delay));const s=r.params;if(s){let d=i.params;d||(d=this.options.params={}),Object.keys(s).forEach(m=>{(!e||!d.hasOwnProperty(m))&&(d[m]=jv(s[m],d,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const r=n.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return n}createSubContext(n=null,e,r){const i=e||this.element,s=new Kx(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=I0,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){const i={duration:e??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},s=new T8(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,i,s,d){let m=[];if(i&&m.push(this.element),n.length>0){n=(n=n.replace(x8,"."+this._enterClassName)).replace(D8,"."+this._leaveClassName);let R=this._driver.query(this.element,n,1!=r);0!==r&&(R=r<0?R.slice(R.length+r,R.length):R.slice(0,r)),m.push(...R)}return!s&&0==m.length&&d.push(function PG(t){return new et(3014,!1)}()),m}}class A0{constructor(n,e,r,i){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new A0(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||sf),this._currentKeyframe.set(e,sf);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,i){e&&this._previousKeyframe.set("easing",e);const s=i&&i.params||{},d=function M8(t,n){const e=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||n.keys();for(let s of r)e.set(s,sf)}else oh(i,e)}),e}(n,this._globalTimelineStyles);for(let[m,w]of d){const R=jv(w,s,r);this._pendingStyles.set(m,R),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??sf),this._updateStyle(m,R)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((m,w)=>{const R=oh(m,new Map,this._backFill);R.forEach((z,X)=>{"!"===z?n.add(X):z===sf&&e.add(X)}),r||R.set("offset",w/this.duration),i.push(R)});const s=n.size?E0(n.values()):[],d=e.size?E0(e.values()):[];if(r){const m=i[0],w=new Map(m);m.set("offset",0),w.set("offset",1),i=[m,w]}return Yx(this.element,i,s,d,this.duration,this.startTime,this.easing,!1)}}class T8 extends A0{constructor(n,e,r,i,s,d,m=!1){super(n,e,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=m,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],d=r+e,m=e/d,w=oh(n[0]);w.set("offset",0),s.push(w);const R=oh(n[0]);R.set("offset",lN(m)),s.push(R);const z=n.length-1;for(let X=1;X<=z;X++){let ge=oh(n[X]);const ve=ge.get("offset");ge.set("offset",lN((e+ve*r)/d)),s.push(ge)}r=d,e=0,i="",n=s}return Yx(this.element,n,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function lN(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class qx{}const I8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class A8 extends qx{normalizePropertyName(n,e){return jx(n)}normalizeStyleValue(n,e,r,i){let s="";const d=r.toString().trim();if(I8.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&i.push(function EG(t,n){return new et(3005,!1)}())}return d+s}}function uN(t,n,e,r,i,s,d,m,w,R,z,X,ge){return{type:0,element:t,triggerName:n,isRemovalTransition:i,fromState:e,fromStyles:s,toState:r,toStyles:d,timelines:m,queriedElements:w,preStyleProps:R,postStyleProps:z,totalTime:X,errors:ge}}const Zx={};class cN{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,i){return function O8(t,n,e,r,i){return t.some(s=>s(n,e,r,i))}(this.ast.matchers,n,e,r,i)}buildStyles(n,e,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(e,r):new Map}build(n,e,r,i,s,d,m,w,R,z){const X=[],ge=this.ast.options&&this.ast.options.params||Zx,Ie=this.buildStyles(r,m&&m.params||Zx,X),Fe=w&&w.params||Zx,Qe=this.buildStyles(i,Fe,X),lt=new Set,Ze=new Map,bt=new Map,gn="void"===i,Vn={params:N8(Fe,ge),delay:this.ast.options?.delay},si=z?[]:Xx(n,e,this.ast.animation,s,d,Ie,Qe,Vn,R,X);let ct=0;if(si.forEach(cl=>{ct=Math.max(cl.duration+cl.delay,ct)}),X.length)return uN(e,this._triggerName,r,i,gn,Ie,Qe,[],[],Ze,bt,ct,X);si.forEach(cl=>{const ra=cl.element,dy=Ll(Ze,ra,new Set);cl.preStyleProps.forEach(Zc=>dy.add(Zc));const uh=Ll(bt,ra,new Set);cl.postStyleProps.forEach(Zc=>uh.add(Zc)),ra!==e&&lt.add(ra)});const $s=E0(lt.values());return uN(e,this._triggerName,r,i,gn,Ie,Qe,si,$s,Ze,bt,ct)}}function N8(t,n){const e=Uv(n);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(e[r]=t[r]);return e}class R8{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){const r=new Map,i=Uv(this.defaultParams);return Object.keys(n).forEach(s=>{const d=n[s];null!==d&&(i[s]=d)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((d,m)=>{d&&(d=jv(d,i,e));const w=this.normalizer.normalizePropertyName(m,e);d=this.normalizer.normalizeStyleValue(m,w,d,e),r.set(m,d)})}),r}}class P8{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new R8(i.style,i.options&&i.options.params||{},r))}),dN(this.states,"true","1"),dN(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new cN(n,i,this.states))}),this.fallbackTransition=function L8(t,n,e){return new cN(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,m)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,i){return this.transitionFactories.find(d=>d.match(n,e,r,i))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}}function dN(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const F8=new M0;class B8{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const r=[],s=Wx(this._driver,e,r,[]);if(r.length)throw function UG(t){return new et(3503,!1)}();this._animations.set(n,s)}_buildPlayer(n,e,r){const i=n.element,s=YO(this._normalizer,n.keyframes,e,r);return this._driver.animate(i,s,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){const i=[],s=this._animations.get(n);let d;const m=new Map;if(s?(d=Xx(this._driver,e,s,Hx,_0,new Map,new Map,r,F8,i),d.forEach(z=>{const X=Ll(m,z.element,new Map);z.postStyleProps.forEach(ge=>X.set(ge,null))})):(i.push(function GG(){return new et(3300,!1)}()),d=[]),i.length)throw function jG(t){return new et(3504,!1)}();m.forEach((z,X)=>{z.forEach((ge,ve)=>{z.set(ve,this._driver.computeStyle(X,ve,sf))})});const R=ih(d.map(z=>{const X=m.get(z.element);return this._buildPlayer(z,new Map,X)}));return this._playersById.set(n,R),R.onDestroy(()=>this.destroy(n)),this.players.push(R),R}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function WG(t){return new et(3301,!1)}();return e}listen(n,e,r,i){const s=Fx(e,"","","");return Px(this._getPlayer(n),r,s,i),()=>{}}command(n,e,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,e,i[0]||{});const s=this._getPlayer(n);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const fN="ng-animate-queued",Qx="ng-animate-disabled",G8=[],hN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},j8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fu="__ng_removed";class Jx{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const r=n&&n.hasOwnProperty("value");if(this.value=function X8(t){return t??null}(r?n.value:n),r){const s=Uv(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Wv="void",eE=new Jx(Wv);class W8{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,hu(e,this._hostClassName)}listen(n,e,r,i){if(!this._triggers.has(e))throw function $G(t,n){return new et(3302,!1)}();if(null==r||0==r.length)throw function YG(t){return new et(3303,!1)}();if(!function K8(t){return"start"==t||"done"==t}(r))throw function XG(t,n){return new et(3400,!1)}();const s=Ll(this._elementListeners,n,[]),d={name:e,phase:r,callback:i};s.push(d);const m=Ll(this._engine.statesByElement,n,new Map);return m.has(e)||(hu(n,w0),hu(n,w0+"-"+e),m.set(e,eE)),()=>{this._engine.afterFlush(()=>{const w=s.indexOf(d);w>=0&&s.splice(w,1),this._triggers.has(e)||m.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function KG(t){return new et(3401,!1)}();return e}trigger(n,e,r,i=!0){const s=this._getTrigger(e),d=new tE(this.id,e,n);let m=this._engine.statesByElement.get(n);m||(hu(n,w0),hu(n,w0+"-"+e),this._engine.statesByElement.set(n,m=new Map));let w=m.get(e);const R=new Jx(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&w&&R.absorbOptions(w.options),m.set(e,R),w||(w=eE),R.value!==Wv&&w.value===R.value){if(!function Q8(t,n){const e=Object.keys(t),r=Object.keys(n);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const s=e[i];if(!n.hasOwnProperty(s)||t[s]!==n[s])return!1}return!0}(w.params,R.params)){const Fe=[],Qe=s.matchStyles(w.value,w.params,Fe),lt=s.matchStyles(R.value,R.params,Fe);Fe.length?this._engine.reportError(Fe):this._engine.afterFlush(()=>{mp(n,Qe),Yc(n,lt)})}return}const ge=Ll(this._engine.playersByElement,n,[]);ge.forEach(Fe=>{Fe.namespaceId==this.id&&Fe.triggerName==e&&Fe.queued&&Fe.destroy()});let ve=s.matchTransition(w.value,R.value,n,R.params),Ie=!1;if(!ve){if(!i)return;ve=s.fallbackTransition,Ie=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:ve,fromState:w,toState:R,player:d,isFallbackTransition:Ie}),Ie||(hu(n,fN),d.onStart(()=>{Xg(n,fN)})),d.onDone(()=>{let Fe=this.players.indexOf(d);Fe>=0&&this.players.splice(Fe,1);const Qe=this._engine.playersByElement.get(n);if(Qe){let lt=Qe.indexOf(d);lt>=0&&Qe.splice(lt,1)}}),this.players.push(d),ge.push(d),d}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const r=this._engine.driver.query(n,C0,!0);r.forEach(i=>{if(i[fu])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(d=>d.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,e,r,i){const s=this._engine.statesByElement.get(n),d=new Map;if(s){const m=[];if(s.forEach((w,R)=>{if(d.set(R,w.value),this._triggers.has(R)){const z=this.trigger(n,R,Wv,i);z&&m.push(z)}}),m.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,d),r&&ih(m).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){const i=new Set;e.forEach(s=>{const d=s.name;if(i.has(d))return;i.add(d);const w=this._triggers.get(d).fallbackTransition,R=r.get(d)||eE,z=new Jx(Wv),X=new tE(this.id,d,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:d,transition:w,fromState:R,toState:z,player:X,isFallbackTransition:!0})})}}removeNode(n,e){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(n):[];if(s&&s.length)i=!0;else{let d=n;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,e);else{const s=n[fu];(!s||s===hN)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){hu(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,d=this._elementListeners.get(s);d&&d.forEach(m=>{if(m.name==r.triggerName){const w=Fx(s,r.triggerName,r.fromState.value,r.toState.value);w._data=n,Px(r.player,m.phase,w,m.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const s=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==s||0==d?s-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(r=>r.element===n)||e,e}}class $8{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,r){this.bodyNode=n,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){const r=new W8(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let d=!1,m=this.driver.getParentElement(e);for(;m;){const w=i.get(m);if(w){const R=r.indexOf(w);r.splice(R+1,0,n),d=!0;break}m=this.driver.getParentElement(m)}d||r.unshift(n)}else r.push(n);return i.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let i=this._namespaceLookup[n];i&&i.register(e,r)&&this.totalAnimations++}destroy(n,e){if(!n)return;const r=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[n];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&e.add(s)}return e}trigger(n,e,r,i){if(O0(e)){const s=this._fetchNamespace(n);if(s)return s.trigger(e,r,i),!0}return!1}insertNode(n,e,r,i){if(!O0(e))return;const s=e[fu];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(n){const d=this._fetchNamespace(n);d&&d.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),hu(n,Qx)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Xg(n,Qx))}removeNode(n,e,r){if(O0(e)){const i=n?this._fetchNamespace(n):null;i?i.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r);const s=this.namespacesByHostElement.get(e);s&&s.id!==n&&s.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,r,i,s){this.collectedLeaveElements.push(e),e[fu]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,e,r,i,s){return O0(e)?this._fetchNamespace(n).listen(e,r,i,s):()=>{}}_buildInstruction(n,e,r,i,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,e,s)}destroyInnerAnimations(n){let e=this.driver.query(n,C0,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,zx,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return ih(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[fu];if(e&&e.setForRemoval){if(n[fu]=hN,e.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(Qx)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)hu(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?ih(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function qG(t){return new et(3402,!1)}()}_flushAnimations(n,e){const r=new M0,i=[],s=new Map,d=[],m=new Map,w=new Map,R=new Map,z=new Set;this.disabledNodes.forEach(On=>{z.add(On);const jn=this.driver.query(On,".ng-animate-queued",!0);for(let Qn=0;Qn<jn.length;Qn++)z.add(jn[Qn])});const X=this.bodyNode,ge=Array.from(this.statesByElement.keys()),ve=mN(ge,this.collectedEnterElements),Ie=new Map;let Fe=0;ve.forEach((On,jn)=>{const Qn=Hx+Fe++;Ie.set(jn,Qn),On.forEach(br=>hu(br,Qn))});const Qe=[],lt=new Set,Ze=new Set;for(let On=0;On<this.collectedLeaveElements.length;On++){const jn=this.collectedLeaveElements[On],Qn=jn[fu];Qn&&Qn.setForRemoval&&(Qe.push(jn),lt.add(jn),Qn.hasAnimation?this.driver.query(jn,".ng-star-inserted",!0).forEach(br=>lt.add(br)):Ze.add(jn))}const bt=new Map,gn=mN(ge,Array.from(lt));gn.forEach((On,jn)=>{const Qn=_0+Fe++;bt.set(jn,Qn),On.forEach(br=>hu(br,Qn))}),n.push(()=>{ve.forEach((On,jn)=>{const Qn=Ie.get(jn);On.forEach(br=>Xg(br,Qn))}),gn.forEach((On,jn)=>{const Qn=bt.get(jn);On.forEach(br=>Xg(br,Qn))}),Qe.forEach(On=>{this.processLeaveNode(On)})});const Vn=[],si=[];for(let On=this._namespaceList.length-1;On>=0;On--)this._namespaceList[On].drainQueuedTransitions(e).forEach(Qn=>{const br=Qn.player,ia=Qn.element;if(Vn.push(br),this.collectedEnterElements.length){const Ga=ia[fu];if(Ga&&Ga.setForMove){if(Ga.previousTriggersValues&&Ga.previousTriggersValues.has(Qn.triggerName)){const Zu=Ga.previousTriggersValues.get(Qn.triggerName),Ys=this.statesByElement.get(Qn.element);if(Ys&&Ys.has(Qn.triggerName)){const Ep=Ys.get(Qn.triggerName);Ep.value=Zu,Ys.set(Qn.triggerName,Ep)}}return void br.destroy()}}const Bl=!X||!this.driver.containsElement(X,ia),Ua=bt.get(ia),Qc=Ie.get(ia),Xi=this._buildInstruction(Qn,r,Qc,Ua,Bl);if(Xi.errors&&Xi.errors.length)return void si.push(Xi);if(Bl)return br.onStart(()=>mp(ia,Xi.fromStyles)),br.onDestroy(()=>Yc(ia,Xi.toStyles)),void i.push(br);if(Qn.isFallbackTransition)return br.onStart(()=>mp(ia,Xi.fromStyles)),br.onDestroy(()=>Yc(ia,Xi.toStyles)),void i.push(br);const fy=[];Xi.timelines.forEach(Ga=>{Ga.stretchStartingKeyframe=!0,this.disabledNodes.has(Ga.element)||fy.push(Ga)}),Xi.timelines=fy,r.append(ia,Xi.timelines),d.push({instruction:Xi,player:br,element:ia}),Xi.queriedElements.forEach(Ga=>Ll(m,Ga,[]).push(br)),Xi.preStyleProps.forEach((Ga,Zu)=>{if(Ga.size){let Ys=w.get(Zu);Ys||w.set(Zu,Ys=new Set),Ga.forEach((Ep,lm)=>Ys.add(lm))}}),Xi.postStyleProps.forEach((Ga,Zu)=>{let Ys=R.get(Zu);Ys||R.set(Zu,Ys=new Set),Ga.forEach((Ep,lm)=>Ys.add(lm))})});if(si.length){const On=[];si.forEach(jn=>{On.push(function ZG(t,n){return new et(3505,!1)}())}),Vn.forEach(jn=>jn.destroy()),this.reportError(On)}const ct=new Map,$s=new Map;d.forEach(On=>{const jn=On.element;r.has(jn)&&($s.set(jn,jn),this._beforeAnimationBuild(On.player.namespaceId,On.instruction,ct))}),i.forEach(On=>{const jn=On.element;this._getPreviousPlayers(jn,!1,On.namespaceId,On.triggerName,null).forEach(br=>{Ll(ct,jn,[]).push(br),br.destroy()})});const cl=Qe.filter(On=>yN(On,w,R)),ra=new Map;gN(ra,this.driver,Ze,R,sf).forEach(On=>{yN(On,w,R)&&cl.push(On)});const uh=new Map;ve.forEach((On,jn)=>{gN(uh,this.driver,new Set(On),w,"!")}),cl.forEach(On=>{const jn=ra.get(On),Qn=uh.get(On);ra.set(On,new Map([...jn?.entries()??[],...Qn?.entries()??[]]))});const Zc=[],sm=[],n_={};d.forEach(On=>{const{element:jn,player:Qn,instruction:br}=On;if(r.has(jn)){if(z.has(jn))return Qn.onDestroy(()=>Yc(jn,br.toStyles)),Qn.disabled=!0,Qn.overrideTotalTime(br.totalTime),void i.push(Qn);let ia=n_;if($s.size>1){let Ua=jn;const Qc=[];for(;Ua=Ua.parentNode;){const Xi=$s.get(Ua);if(Xi){ia=Xi;break}Qc.push(Ua)}Qc.forEach(Xi=>$s.set(Xi,ia))}const Bl=this._buildAnimation(Qn.namespaceId,br,ct,s,uh,ra);if(Qn.setRealPlayer(Bl),ia===n_)Zc.push(Qn);else{const Ua=this.playersByElement.get(ia);Ua&&Ua.length&&(Qn.parentPlayer=ih(Ua)),i.push(Qn)}}else mp(jn,br.fromStyles),Qn.onDestroy(()=>Yc(jn,br.toStyles)),sm.push(Qn),z.has(jn)&&i.push(Qn)}),sm.forEach(On=>{const jn=s.get(On.element);if(jn&&jn.length){const Qn=ih(jn);On.setRealPlayer(Qn)}}),i.forEach(On=>{On.parentPlayer?On.syncPlayerEvents(On.parentPlayer):On.destroy()});for(let On=0;On<Qe.length;On++){const jn=Qe[On],Qn=jn[fu];if(Xg(jn,_0),Qn&&Qn.hasAnimation)continue;let br=[];if(m.size){let Bl=m.get(jn);Bl&&Bl.length&&br.push(...Bl);let Ua=this.driver.query(jn,zx,!0);for(let Qc=0;Qc<Ua.length;Qc++){let Xi=m.get(Ua[Qc]);Xi&&Xi.length&&br.push(...Xi)}}const ia=br.filter(Bl=>!Bl.destroyed);ia.length?q8(this,jn,ia):this.processLeaveNode(jn)}return Qe.length=0,Zc.forEach(On=>{this.players.push(On),On.onDone(()=>{On.destroy();const jn=this.players.indexOf(On);this.players.splice(jn,1)}),On.play()}),Zc}elementContainsData(n,e){let r=!1;const i=e[fu];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(n).elementContainsData(e)||r}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,i,s){let d=[];if(e){const m=this.playersByQueriedElement.get(n);m&&(d=m)}else{const m=this.playersByElement.get(n);if(m){const w=!s||s==Wv;m.forEach(R=>{R.queued||!w&&R.triggerName!=i||d.push(R)})}}return(r||i)&&(d=d.filter(m=>!(r&&r!=m.namespaceId||i&&i!=m.triggerName))),d}_beforeAnimationBuild(n,e,r){const s=e.element,d=e.isRemovalTransition?void 0:n,m=e.isRemovalTransition?void 0:e.triggerName;for(const w of e.timelines){const R=w.element,z=R!==s,X=Ll(r,R,[]);this._getPreviousPlayers(R,z,d,m,e.toState).forEach(ve=>{const Ie=ve.getRealPlayer();Ie.beforeDestroy&&Ie.beforeDestroy(),ve.destroy(),X.push(ve)})}mp(s,e.fromStyles)}_buildAnimation(n,e,r,i,s,d){const m=e.triggerName,w=e.element,R=[],z=new Set,X=new Set,ge=e.timelines.map(Ie=>{const Fe=Ie.element;z.add(Fe);const Qe=Fe[fu];if(Qe&&Qe.removedBeforeQueried)return new zv(Ie.duration,Ie.delay);const lt=Fe!==w,Ze=function Z8(t){const n=[];return vN(t,n),n}((r.get(Fe)||G8).map(ct=>ct.getRealPlayer())).filter(ct=>!!ct.element&&ct.element===Fe),bt=s.get(Fe),gn=d.get(Fe),Vn=YO(this._normalizer,Ie.keyframes,bt,gn),si=this._buildPlayer(Ie,Vn,Ze);if(Ie.subTimeline&&i&&X.add(Fe),lt){const ct=new tE(n,m,Fe);ct.setRealPlayer(si),R.push(ct)}return si});R.forEach(Ie=>{Ll(this.playersByQueriedElement,Ie.element,[]).push(Ie),Ie.onDone(()=>function Y8(t,n,e){let r=t.get(n);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&t.delete(n)}return r}(this.playersByQueriedElement,Ie.element,Ie))}),z.forEach(Ie=>hu(Ie,eN));const ve=ih(ge);return ve.onDestroy(()=>{z.forEach(Ie=>Xg(Ie,eN)),Yc(w,e.toStyles)}),X.forEach(Ie=>{Ll(i,Ie,[]).push(ve)}),ve}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new zv(n.duration,n.delay)}}class tE{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new zv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>Px(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Ll(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function O0(t){return t&&1===t.nodeType}function pN(t,n){const e=t.style.display;return t.style.display=n??"none",e}function gN(t,n,e,r,i){const s=[];e.forEach(w=>s.push(pN(w)));const d=[];r.forEach((w,R)=>{const z=new Map;w.forEach(X=>{const ge=n.computeStyle(R,X,i);z.set(X,ge),(!ge||0==ge.length)&&(R[fu]=j8,d.push(R))}),t.set(R,z)});let m=0;return e.forEach(w=>pN(w,s[m++])),d}function mN(t,n){const e=new Map;if(t.forEach(m=>e.set(m,[])),0==n.length)return e;const i=new Set(n),s=new Map;function d(m){if(!m)return 1;let w=s.get(m);if(w)return w;const R=m.parentNode;return w=e.has(R)?R:i.has(R)?1:d(R),s.set(m,w),w}return n.forEach(m=>{const w=d(m);1!==w&&e.get(w).push(m)}),e}function hu(t,n){t.classList?.add(n)}function Xg(t,n){t.classList?.remove(n)}function q8(t,n,e){ih(e).onDone(()=>t.processLeaveNode(n))}function vN(t,n){for(let e=0;e<t.length;e++){const r=t[e];r instanceof WO?vN(r.players,n):n.push(r)}}function yN(t,n,e){const r=e.get(t);if(!r)return!1;let i=n.get(t);return i?r.forEach(s=>i.add(s)):n.set(t,r),e.delete(t),!0}class N0{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new $8(n,e,r),this._timelineEngine=new B8(n,e,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(n,e,r,i,s){const d=n+"-"+i;let m=this._triggerCache[d];if(!m){const w=[],z=Wx(this._driver,s,w,[]);if(w.length)throw function HG(t,n){return new et(3404,!1)}();m=function k8(t,n,e){return new P8(t,n,e)}(i,z,this._normalizer),this._triggerCache[d]=m}this._transitionEngine.registerTrigger(e,i,m)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,i){this._transitionEngine.insertNode(n,e,r,i)}onRemove(n,e,r){this._transitionEngine.removeNode(n,e,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,i){if("@"==r.charAt(0)){const[s,d]=XO(r);this._timelineEngine.command(s,e,d,i)}else this._transitionEngine.trigger(n,e,r,i)}listen(n,e,r,i,s){if("@"==r.charAt(0)){const[d,m]=XO(r);return this._timelineEngine.listen(d,e,m,s)}return this._transitionEngine.listen(n,e,r,i,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let ej=(()=>{class t{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(e);s||t.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Yc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yc(this._element,this._initialStyles),this._endStyles&&(Yc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(mp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mp(this._element,this._endStyles),this._endStyles=null),Yc(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function nE(t){let n=null;return t.forEach((e,r)=>{(function tj(t){return"display"===t||"position"===t})(r)&&(n=n||new Map,n.set(r,e))}),n}class bN{constructor(n,e,r,i){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(n,e,r){return n.animate(this._convertKeyframesToObject(e),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:iN(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class nj{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return qO(n,e)}getParentElement(n){return Bx(n)}query(n,e,r){return ZO(n,e,r)}computeStyle(n,e,r){return window.getComputedStyle(n)[e]}animate(n,e,r,i,s,d=[]){const w={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(w.easing=s);const R=new Map,z=d.filter(ve=>ve instanceof bN);(function u8(t,n){return 0===t||0===n})(r,i)&&z.forEach(ve=>{ve.currentSnapshot.forEach((Ie,Fe)=>R.set(Fe,Ie))});let X=function a8(t){return t.length?t[0]instanceof Map?t:t.map(n=>tN(n)):[]}(e).map(ve=>oh(ve));X=function c8(t,n,e){if(e.size&&n.length){let r=n[0],i=[];if(e.forEach((s,d)=>{r.has(d)||i.push(d),r.set(d,s)}),i.length)for(let s=1;s<n.length;s++){let d=n[s];i.forEach(m=>d.set(m,iN(t,m)))}}return n}(n,X,R);const ge=function J8(t,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=nE(n[0]),n.length>1&&(r=nE(n[n.length-1]))):n instanceof Map&&(e=nE(n)),e||r?new ej(t,e,r):null}(n,X);return new bN(n,X,w,ge)}}let rj=(()=>{class t extends GO{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:ya.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?jO(e):e;return _N(this._renderer,null,r,"register",[i]),new ij(r,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Lm),Pt(Di))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();class ij extends vG{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new oj(this._id,n,e||{},this._renderer)}}class oj{constructor(n,e,r,i){this.id=n,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return _N(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function _N(t,n,e,r,i){return t.setProperty(n,`@@${e}:${r}`,i)}const wN="@.disabled";let aj=(()=>{class t{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,d)=>{const m=d?.parentNode(s);m&&d.removeChild(m,s)}}createRenderer(e,r){const s=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let z=this._rendererCache.get(s);return z||(z=new CN("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,z)),z}const d=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const w=z=>{Array.isArray(z)?z.forEach(w):this.engine.registerTrigger(d,m,e,z.name,z)};return r.data.animation.forEach(w),new sj(this,m,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[d,m]=s;d(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Pt(Lm),Pt(N0),Pt(Yr))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();class CN{constructor(n,e,r,i){this.namespaceId=n,this.delegate=e,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,i=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,i)}removeChild(n,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,i){this.delegate.setAttribute(n,e,r,i)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,i){this.delegate.setStyle(n,e,r,i)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){"@"==e.charAt(0)&&e==wN?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class sj extends CN{constructor(n,e,r,i,s){super(e,r,i,s),this.factory=n,this.namespaceId=e}setProperty(n,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==wN?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,e.slice(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if("@"==e.charAt(0)){const i=function lj(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let s=e.slice(1),d="";return"@"!=s.charAt(0)&&([s,d]=function uj(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(s)),this.engine.listen(this.namespaceId,i,s,d,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(n,e,r)}}const xN=[{provide:GO,useClass:rj},{provide:qx,useFactory:function dj(){return new A8}},{provide:N0,useClass:(()=>{class t extends N0{constructor(e,r,i,s){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di),Pt(Vx),Pt(qx),Pt(np))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})()},{provide:Lm,useFactory:function fj(t,n,e){return new aj(t,n,e)},deps:[OC,N0,Yr]}],rE=[{provide:Vx,useFactory:()=>new nj},{provide:kc,useValue:"BrowserAnimations"},...xN],EN=[{provide:Vx,useClass:QO},{provide:kc,useValue:"NoopAnimations"},...xN];let hj=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?EN:rE}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({providers:rE,imports:[cI]}),t})(),Kg=(()=>{class t{constructor(e){this.http=e,this.vampirepage="http://localhost:8082",this.gswbpage="http://localhost:8081",this.ligerpage="http://localhost:8080",this.stanzapage="http://localhost:8083"}gswbDeduce(e){return this.http.post(`${this.gswbpage}/deduce`,e)}gswbBatchDeduce(e){return this.http.post(`${this.gswbpage}/gswb_batch_proof`,e)}ligerAnnotate(e){return this.http.post(`${this.ligerpage}/apply_rules_xle`,e)}ligerMulti(e){return this.http.post(`${this.ligerpage}/parse_xle`,e)}ligerBatchAnnotate(e){return this.http.post(`${this.ligerpage}/apply_rules_to_batch`,e)}ligerBatchMultistage(e){return this.http.post(`${this.ligerpage}/multistage_to_batch`,e)}getFileTree(e){return this.http.post(`${this.ligerpage}/list_grammars1`,e)}changeGrammar(e){return this.http.post(`${this.ligerpage}/change_grammar`,e)}loadRules(e){return this.http.post(`${this.ligerpage}/load_rules`,e)}callVampire(e){return this.http.post(`${this.vampirepage}/vampire_request`,e)}stanzaParse(e){return this.http.post(`${this.stanzapage}/parse_to_liger`,e)}ligerAnnotateStanza(e){return this.http.post(`${this.ligerpage}/apply_rules_base`,e)}ligerBatchAnnotateDependencies(e){return this.http.post(`${this.ligerpage}/apply_rules_to_dependency_batch`,e)}stanzaBatchParse(e){return this.http.post(`${this.stanzapage}/batch_parse_to_liger`,e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(y0))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var iE=D(656);D(3163);const pj=["host"];iE.defineMode("liger",function(){return{token:function(t,n){return t.match("==>")?"rule_separator":t.match(/#[A-Za-z0-9]+/)?"liger_node_var":t.match(/%[A-Za-z0-9]+/)?"liger_val_var":t.match(/(\&|\.)/)?"liger_conjunction":t.match("//")?(t.skipToEnd(),"comment"):(t.next(),null)}}}),iE.defineMode("glue",function(){return{token:function(t,n){return t.match(":")?"rule_separator":t.match(/-o/)?"liger_node_var":t.match(/(\[|\])/)?"liger_conjunction":t.match(/(\(|\))/)?"liger_val_var":t.match(/(<|>)/)?"angular_brackets":t.match("//")?(t.skipToEnd(),"comment"):(t.next(),null)}}});let yp=(()=>{class t{constructor(){this.defaultWidth="800px",this.defaultHeight="300px"}ngAfterViewInit(){console.log("mode is "+this.mode),this.codeMirror=iE.fromTextArea(this.host.nativeElement,{mode:this.mode,viewportMargin:1/0,lineNumbers:!0,matchBrackets:!0,autoCloseBrackets:!0}),"liger"===this.mode?this.codeMirror.setValue("--replace(true);\n\n#e UPOS VERB & #e LEMMA %l ==> #e SEM #s & \n\t\t\t\t\t\t\t   \t#s CLOSURE #c &\n\t\t\t\t\t\t\t\t#s GLUE [/e_v.%l(e)] : (#s_v -o #s_t) &\n                                #c GLUE [/P_<v,t>.Ee_v[P(v)]] : ((#s_v -o #s_t) -o #s_t) || noscope.\n\n#e NSUBJ #a & #e SEM #v ==> #a SEM #s & #v ARG1 #b & \n\t\t\t\t\t\t\t\t#b GLUE [/P_<v,t>.[/x_e.[/e_v.(arg1(e,x) \\& P(e))]]] : \n\t\t\t\t\t\t\t\t((#v_v -o #v_t) -o (#s_e -o (#v_v -o #v_t))) || noscope.\n                                  \n#e OBJ #a & #e SEM #v ==> #a SEM #s & #v ARG2 #b &\n\t\t\t\t\t\t\t\t#b GLUE [/P_<v,t>.[/x_e.[/e_v.(arg2(e,x) \\& P(e))]]] : \n\t\t\t\t\t\t\t\t((#v_v -o #v_t) -o (#s_e -o (#v_v -o #v_t))) || noscope.\n                                \n #e OBL:UNMARKED #a & #e SEM #v ==> #a SEM #s & #v ARG3 #b &\n\t\t\t\t\t\t\t\t#b GLUE [/P_<v,t>.[/x_e.[/e_v.(arg3(e,x) \\& P(e))]]] : \n\t\t\t\t\t\t\t\t((#v_v -o #v_t) -o (#s_e -o (#v_v -o #v_t))) || noscope.\n\n #e OBL #a & #e SEM #v ==> #a SEM #s & #v ARG3 #b &\n\t\t\t\t\t\t\t\t#b GLUE [/P_<v,t>.[/x_e.[/e_v.(arg3(e,x) \\& P(e))]]] : \n\t\t\t\t\t\t\t\t((#v_v -o #v_t) -o (#s_e -o (#v_v -o #v_t))) || noscope.\n\n#n UPOS PROPN & #n LEMMA %l & #n SEM #s ==> #s GLUE %l : #s_e.\n\n#n UPOS NOUN & #n LEMMA %l & #n SEM #s ==> #s GLUE [/x_e.%l(x)] : (#s_e -o #s_t).\n\n#d DEFINITE Ind & #d ^(DET) #n SEM #s & #n ^(%) #p SEM #q  ==>  \n#d SEM #t & #t GLUE [/P_<e,t>.[/Q_<e,t>.Ex_e[P(x) \\& Q(x)]]] : \n\t\t\t\t\t\t((#s_e -o #s_t) -o ((#s_e -o #q_t) -o #q_t)).\n\n#d DEFINITE Def & #d ^(DET) #n SEM #s & #n ^(%) #p SEM #q  ==>  \n#d SEM #t & #t GLUE [/P_<e,t>.Ix_e[P(x)]] : ((#s_e -o #s_t) -o #s_e).\n                        \n#d UPOS 'DET' & #d LEMMA every & #d ^(DET) #n SEM #s & #n ^(%) #p SEM #q  ==>  \n#d SEM #t & #t GLUE [/P_<e,t>.[/Q_<e,t>.Ax_e[P(x) -> Q(x)]]] : \n\t\t\t\t\t\t((#s_e -o #s_t) -o ((#s_e -o #q_t) -o #q_t))."):"text"===this.mode?this.codeMirror.setValue("#transitive\n\na dog appeared.\n\n#optional transitives\n\na dog escaped.\n\na dog escaped the cage.\n\n#transitive\n\nevery dog devoured a bone.\n\n#di-transitive\n\nMary gave a student every grade.\n\nMary gave a grade to a student.\n\n"):"vampire"===this.mode&&this.codeMirror.setValue("")}updateContent(e){this.codeMirror&&(this.codeMirror.setValue(""),this.codeMirror.clearHistory(),this.codeMirror.setValue(e),this.codeMirror.refresh())}getContent(){return this.codeMirror.getValue()}resizeToDefault(){this.codeMirror.setSize(this.defaultWidth,this.defaultHeight)}downloadFile(e){let r=this.codeMirror.getValue(),i=new Blob([r],{type:"text/plain"}),s=window.URL.createObjectURL(i),d=document.createElement("a");d.href=s,d.download=e||"default.txt",d.click(),setTimeout(()=>window.URL.revokeObjectURL(s),1e4)}get codeMirrorInstance(){return this.codeMirror}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-editor"]],viewQuery:function(e,r){if(1&e&&Ln(pj,5),2&e){let i;Mn(i=In())&&(r.host=i.first)}},inputs:{id:"id",mode:"mode"},decls:9,vars:1,consts:[[1,"editor-container"],["host",""],[1,"resize",3,"click"],[3,"click"],["placeholder","Enter filename",3,"ngModel","ngModelChange"]],template:function(e,r){1&e&&($e(0,"div",0),wn(1,"textarea",null,1),Ye(),$e(3,"button",2),Dn("click",function(){return r.resizeToDefault()}),mt(4,"Resize to Default"),Ye(),$e(5,"button",3),Dn("click",function(){return r.downloadFile(r.filename)}),mt(6,"Download as: "),Ye(),$e(7,"input",4),Dn("ngModelChange",function(s){return r.filename=s}),Ye(),wn(8,"div")),2&e&&(Yt(7),tn("ngModel",r.filename))},dependencies:[jg,Wg,Lv],styles:['.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;inset:-50px 0 0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:white}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;inset:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}\n',".CodeMirror{resize:both;max-width:100%;max-height:100%}.editor-container{position:relative;display:block;border-style:solid;border-color:#00a9e0;overflow:hidden;min-width:780px;max-width:100%;max-height:100%;background-color:#add8e6}.cm-rule_separator{color:#0900ff;font-weight:700}.cm-liger_node_var{color:#00c4ff}.cm-liger_val_var{color:#08d700}.cm-liger_conjunction{color:red}.cm-angular_brackets{color:#d100ff}.CodeMirror-matchingbracket{background-color:#ffa50080!important;border-radius:3px}.CodeMirror-nonmatchingbracket{background-color:#ff0000b3!important;border-radius:3px}\n"],encapsulation:2}),t})();var yj=D(6100),js=D.n(yj),bj=D(7944),k0=D.n(bj),$v=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",_j=function(){for(var t=["Edge","Trident","Firefox"],n=0;n<t.length;n+=1)if($v&&navigator.userAgent.indexOf(t[n])>=0)return 1;return 0}(),Ej=$v&&window.Promise?function wj(t){var n=!1;return function(){n||(n=!0,window.Promise.resolve().then(function(){n=!1,t()}))}}:function Cj(t){var n=!1;return function(){n||(n=!0,setTimeout(function(){n=!1,t()},_j))}};function DN(t){return t&&"[object Function]"==={}.toString.call(t)}function bp(t,n){if(1!==t.nodeType)return[];var r=t.ownerDocument.defaultView.getComputedStyle(t,null);return n?r[n]:r}function oE(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function Yv(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var n=bp(t);return/(auto|scroll|overlay)/.test(n.overflow+n.overflowY+n.overflowX)?t:Yv(oE(t))}function SN(t){return t&&t.referenceNode?t.referenceNode:t}var TN=$v&&!(!window.MSInputMethodContext||!document.documentMode),MN=$v&&/MSIE 10/.test(navigator.userAgent);function qg(t){return 11===t?TN:10===t?MN:TN||MN}function Zg(t){if(!t)return document.documentElement;for(var n=qg(10)?document.body:null,e=t.offsetParent||null;e===n&&t.nextElementSibling;)e=(t=t.nextElementSibling).offsetParent;var r=e&&e.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(e.nodeName)&&"static"===bp(e,"position")?Zg(e):e:t?t.ownerDocument.documentElement:document.documentElement}function aE(t){return null!==t.parentNode?aE(t.parentNode):t}function P0(t,n){if(!(t&&t.nodeType&&n&&n.nodeType))return document.documentElement;var e=t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,r=e?t:n,i=e?n:t,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);var d=s.commonAncestorContainer;if(t!==d&&n!==d||r.contains(i))return function Dj(t){var n=t.nodeName;return"BODY"!==n&&("HTML"===n||Zg(t.firstElementChild)===t)}(d)?d:Zg(d);var m=aE(t);return m.host?P0(m.host,n):P0(t,aE(n).host)}function Qg(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",r=t.nodeName;return"BODY"===r||"HTML"===r?(t.ownerDocument.scrollingElement||t.ownerDocument.documentElement)[e]:t[e]}function IN(t,n){var e="x"===n?"Left":"Top",r="Left"===e?"Right":"Bottom";return parseFloat(t["border"+e+"Width"])+parseFloat(t["border"+r+"Width"])}function AN(t,n,e,r){return Math.max(n["offset"+t],n["scroll"+t],e["client"+t],e["offset"+t],e["scroll"+t],qg(10)?parseInt(e["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function ON(t){var n=t.body,e=t.documentElement,r=qg(10)&&getComputedStyle(e);return{height:AN("Height",n,e,r),width:AN("Width",n,e,r)}}var Mj=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),Jg=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t},pu=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};function ah(t){return pu({},t,{right:t.left+t.width,bottom:t.top+t.height})}function sE(t){var n={};try{if(qg(10)){n=t.getBoundingClientRect();var e=Qg(t,"top"),r=Qg(t,"left");n.top+=e,n.left+=r,n.bottom+=e,n.right+=r}else n=t.getBoundingClientRect()}catch{}var i={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},s="HTML"===t.nodeName?ON(t.ownerDocument):{},w=t.offsetWidth-(s.width||t.clientWidth||i.width),R=t.offsetHeight-(s.height||t.clientHeight||i.height);if(w||R){var z=bp(t);w-=IN(z,"x"),R-=IN(z,"y"),i.width-=w,i.height-=R}return ah(i)}function lE(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=qg(10),i="HTML"===n.nodeName,s=sE(t),d=sE(n),m=Yv(t),w=bp(n),R=parseFloat(w.borderTopWidth),z=parseFloat(w.borderLeftWidth);e&&i&&(d.top=Math.max(d.top,0),d.left=Math.max(d.left,0));var X=ah({top:s.top-d.top-R,left:s.left-d.left-z,width:s.width,height:s.height});if(X.marginTop=0,X.marginLeft=0,!r&&i){var ge=parseFloat(w.marginTop),ve=parseFloat(w.marginLeft);X.top-=R-ge,X.bottom-=R-ge,X.left-=z-ve,X.right-=z-ve,X.marginTop=ge,X.marginLeft=ve}return(r&&!e?n.contains(m):n===m&&"BODY"!==m.nodeName)&&(X=function Sj(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Qg(n,"top"),i=Qg(n,"left"),s=e?-1:1;return t.top+=r*s,t.bottom+=r*s,t.left+=i*s,t.right+=i*s,t}(X,n)),X}function NN(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===bp(t,"position"))return!0;var e=oE(t);return!!e&&NN(e)}function RN(t){if(!t||!t.parentElement||qg())return document.documentElement;for(var n=t.parentElement;n&&"none"===bp(n,"transform");)n=n.parentElement;return n||document.documentElement}function uE(t,n,e,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},d=i?RN(t):P0(t,SN(n));if("viewport"===r)s=function Ij(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=t.ownerDocument.documentElement,r=lE(t,e),i=Math.max(e.clientWidth,window.innerWidth||0),s=Math.max(e.clientHeight,window.innerHeight||0),d=n?0:Qg(e),m=n?0:Qg(e,"left");return ah({top:d-r.top+r.marginTop,left:m-r.left+r.marginLeft,width:i,height:s})}(d,i);else{var m=void 0;"scrollParent"===r?"BODY"===(m=Yv(oE(n))).nodeName&&(m=t.ownerDocument.documentElement):m="window"===r?t.ownerDocument.documentElement:r;var w=lE(m,d,i);if("HTML"!==m.nodeName||NN(d))s=w;else{var R=ON(t.ownerDocument),z=R.height,X=R.width;s.top+=w.top-w.marginTop,s.bottom=z+w.top,s.left+=w.left-w.marginLeft,s.right=X+w.left}}var ge="number"==typeof(e=e||0);return s.left+=ge?e:e.left||0,s.top+=ge?e:e.top||0,s.right-=ge?e:e.right||0,s.bottom-=ge?e:e.bottom||0,s}function Aj(t){return t.width*t.height}function kN(t,n,e,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var d=uE(e,r,s,i),m={top:{width:d.width,height:n.top-d.top},right:{width:d.right-n.right,height:d.height},bottom:{width:d.width,height:d.bottom-n.bottom},left:{width:n.left-d.left,height:d.height}},w=Object.keys(m).map(function(ge){return pu({key:ge},m[ge],{area:Aj(m[ge])})}).sort(function(ge,ve){return ve.area-ge.area}),R=w.filter(function(ge){return ge.width>=e.clientWidth&&ge.height>=e.clientHeight}),z=R.length>0?R[0].key:w[0].key,X=t.split("-")[1];return z+(X?"-"+X:"")}function PN(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return lE(e,r?RN(n):P0(n,SN(e)),r)}function LN(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),r=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+r}}function L0(t){var n={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(e){return n[e]})}function FN(t,n,e){e=e.split("-")[0];var r=LN(t),i={width:r.width,height:r.height},s=-1!==["right","left"].indexOf(e),d=s?"top":"left",m=s?"left":"top",w=s?"height":"width",R=s?"width":"height";return i[d]=n[d]+n[w]/2-r[w]/2,i[m]=e===m?n[m]-r[R]:n[L0(m)],i}function Xv(t,n){return Array.prototype.find?t.find(n):t.filter(n)[0]}function BN(t,n,e){var r=void 0===e?t:t.slice(0,function Oj(t,n,e){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[n]===e});var r=Xv(t,function(i){return i[n]===e});return t.indexOf(r)}(t,"name",e));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var s=i.function||i.fn;i.enabled&&DN(s)&&(n.offsets.popper=ah(n.offsets.popper),n.offsets.reference=ah(n.offsets.reference),n=s(n,i))}),n}function Nj(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=PN(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=kN(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=FN(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=BN(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function VN(t,n){return t.some(function(e){return e.enabled&&e.name===n})}function cE(t){for(var n=[!1,"ms","Webkit","Moz","O"],e=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<n.length;r++){var i=n[r],s=i?""+i+e:t;if(typeof document.body.style[s]<"u")return s}return null}function Rj(){return this.state.isDestroyed=!0,VN(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[cE("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function HN(t){var n=t.ownerDocument;return n?n.defaultView:window}function zN(t,n,e,r){var i="BODY"===t.nodeName,s=i?t.ownerDocument.defaultView:t;s.addEventListener(n,e,{passive:!0}),i||zN(Yv(s.parentNode),n,e,r),r.push(s)}function kj(t,n,e,r){e.updateBound=r,HN(t).addEventListener("resize",e.updateBound,{passive:!0});var i=Yv(t);return zN(i,"scroll",e.updateBound,e.scrollParents),e.scrollElement=i,e.eventsEnabled=!0,e}function Pj(){this.state.eventsEnabled||(this.state=kj(this.reference,0,this.state,this.scheduleUpdate))}function Fj(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function Lj(t,n){return HN(t).removeEventListener("resize",n.updateBound),n.scrollParents.forEach(function(e){e.removeEventListener("scroll",n.updateBound)}),n.updateBound=null,n.scrollParents=[],n.scrollElement=null,n.eventsEnabled=!1,n}(this.reference,this.state))}function dE(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function fE(t,n){Object.keys(n).forEach(function(e){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&dE(n[e])&&(r="px"),t.style[e]=n[e]+r})}var Uj=$v&&/Firefox/i.test(navigator.userAgent);function UN(t,n,e){var r=Xv(t,function(m){return m.name===n}),i=!!r&&t.some(function(m){return m.name===e&&m.enabled&&m.order<r.order});if(!i){var s="`"+n+"`";console.warn("`"+e+"` modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return i}var GN=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],hE=GN.slice(3);function jN(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=hE.indexOf(t),r=hE.slice(e+1).concat(hE.slice(0,e));return n?r.reverse():r}var nW={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function Qj(t){var n=t.placement,e=n.split("-")[0],r=n.split("-")[1];if(r){var i=t.offsets,s=i.reference,d=i.popper,m=-1!==["bottom","top"].indexOf(e),w=m?"left":"top",R=m?"width":"height",z={start:Jg({},w,s[w]),end:Jg({},w,s[w]+s[R]-d[R])};t.offsets.popper=pu({},d,z[r])}return t}},offset:{order:200,enabled:!0,fn:function qj(t,n){var w,e=n.offset,i=t.offsets,s=i.popper,d=i.reference,m=t.placement.split("-")[0];return w=dE(+e)?[+e,0]:function Kj(t,n,e,r){var i=[0,0],s=-1!==["right","left"].indexOf(r),d=t.split(/(\+|\-)/).map(function(z){return z.trim()}),m=d.indexOf(Xv(d,function(z){return-1!==z.search(/,|\s/)}));d[m]&&-1===d[m].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var w=/\s*,\s*|\s+/,R=-1!==m?[d.slice(0,m).concat([d[m].split(w)[0]]),[d[m].split(w)[1]].concat(d.slice(m+1))]:[d];return R=R.map(function(z,X){var ge=(1===X?!s:s)?"height":"width",ve=!1;return z.reduce(function(Ie,Fe){return""===Ie[Ie.length-1]&&-1!==["+","-"].indexOf(Fe)?(Ie[Ie.length-1]=Fe,ve=!0,Ie):ve?(Ie[Ie.length-1]+=Fe,ve=!1,Ie):Ie.concat(Fe)},[]).map(function(Ie){return function Xj(t,n,e,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+i[1],d=i[2];return s?0===d.indexOf("%")?ah("%p"===d?e:r)[n]/100*s:"vh"===d||"vw"===d?("vh"===d?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s:s:t}(Ie,ge,n,e)})}),R.forEach(function(z,X){z.forEach(function(ge,ve){dE(ge)&&(i[X]+=ge*("-"===z[ve-1]?-1:1))})}),i}(e,s,d,m),"left"===m?(s.top+=w[0],s.left-=w[1]):"right"===m?(s.top+=w[0],s.left+=w[1]):"top"===m?(s.left+=w[0],s.top-=w[1]):"bottom"===m&&(s.left+=w[0],s.top+=w[1]),t.popper=s,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function Zj(t,n){var e=n.boundariesElement||Zg(t.instance.popper);t.instance.reference===e&&(e=Zg(e));var r=cE("transform"),i=t.instance.popper.style,s=i.top,d=i.left,m=i[r];i.top="",i.left="",i[r]="";var w=uE(t.instance.popper,t.instance.reference,n.padding,e,t.positionFixed);i.top=s,i.left=d,i[r]=m,n.boundaries=w;var z=t.offsets.popper,X={primary:function(ve){var Ie=z[ve];return z[ve]<w[ve]&&!n.escapeWithReference&&(Ie=Math.max(z[ve],w[ve])),Jg({},ve,Ie)},secondary:function(ve){var Ie="right"===ve?"left":"top",Fe=z[Ie];return z[ve]>w[ve]&&!n.escapeWithReference&&(Fe=Math.min(z[Ie],w[ve]-("right"===ve?z.width:z.height))),Jg({},Ie,Fe)}};return n.priority.forEach(function(ge){var ve=-1!==["left","top"].indexOf(ge)?"primary":"secondary";z=pu({},z,X[ve](ge))}),t.offsets.popper=z,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function Yj(t){var n=t.offsets,e=n.popper,r=n.reference,i=t.placement.split("-")[0],s=Math.floor,d=-1!==["top","bottom"].indexOf(i),m=d?"right":"bottom",w=d?"left":"top",R=d?"width":"height";return e[m]<s(r[w])&&(t.offsets.popper[w]=s(r[w])-e[R]),e[w]>s(r[m])&&(t.offsets.popper[w]=s(r[m])),t}},arrow:{order:500,enabled:!0,fn:function jj(t,n){var e;if(!UN(t.instance.modifiers,"arrow","keepTogether"))return t;var r=n.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],s=t.offsets,d=s.popper,m=s.reference,w=-1!==["left","right"].indexOf(i),R=w?"height":"width",z=w?"Top":"Left",X=z.toLowerCase(),ge=w?"left":"top",ve=w?"bottom":"right",Ie=LN(r)[R];m[ve]-Ie<d[X]&&(t.offsets.popper[X]-=d[X]-(m[ve]-Ie)),m[X]+Ie>d[ve]&&(t.offsets.popper[X]+=m[X]+Ie-d[ve]),t.offsets.popper=ah(t.offsets.popper);var Fe=m[X]+m[R]/2-Ie/2,Qe=bp(t.instance.popper),lt=parseFloat(Qe["margin"+z]),Ze=parseFloat(Qe["border"+z+"Width"]),bt=Fe-t.offsets.popper[X]-lt-Ze;return bt=Math.max(Math.min(d[R]-Ie,bt),0),t.arrowElement=r,t.offsets.arrow=(Jg(e={},X,Math.round(bt)),Jg(e,ge,""),e),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function $j(t,n){if(VN(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var e=uE(t.instance.popper,t.instance.reference,n.padding,n.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=L0(r),s=t.placement.split("-")[1]||"",d=[];switch(n.behavior){case"flip":d=[r,i];break;case"clockwise":d=jN(r);break;case"counterclockwise":d=jN(r,!0);break;default:d=n.behavior}return d.forEach(function(m,w){if(r!==m||d.length===w+1)return t;r=t.placement.split("-")[0],i=L0(r);var R=t.offsets.popper,z=t.offsets.reference,X=Math.floor,ge="left"===r&&X(R.right)>X(z.left)||"right"===r&&X(R.left)<X(z.right)||"top"===r&&X(R.bottom)>X(z.top)||"bottom"===r&&X(R.top)<X(z.bottom),ve=X(R.left)<X(e.left),Ie=X(R.right)>X(e.right),Fe=X(R.top)<X(e.top),Qe=X(R.bottom)>X(e.bottom),lt="left"===r&&ve||"right"===r&&Ie||"top"===r&&Fe||"bottom"===r&&Qe,Ze=-1!==["top","bottom"].indexOf(r),Vn=!!n.flipVariations&&(Ze&&"start"===s&&ve||Ze&&"end"===s&&Ie||!Ze&&"start"===s&&Fe||!Ze&&"end"===s&&Qe)||!!n.flipVariationsByContent&&(Ze&&"start"===s&&Ie||Ze&&"end"===s&&ve||!Ze&&"start"===s&&Qe||!Ze&&"end"===s&&Fe);(ge||lt||Vn)&&(t.flipped=!0,(ge||lt)&&(r=d[w+1]),Vn&&(s=function Wj(t){return"end"===t?"start":"start"===t?"end":t}(s)),t.placement=r+(s?"-"+s:""),t.offsets.popper=pu({},t.offsets.popper,FN(t.instance.popper,t.offsets.reference,t.placement)),t=BN(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function eW(t){var n=t.placement,e=n.split("-")[0],r=t.offsets,i=r.popper,s=r.reference,d=-1!==["left","right"].indexOf(e),m=-1===["top","left"].indexOf(e);return i[d?"left":"top"]=s[e]-(m?i[d?"width":"height"]:0),t.placement=L0(n),t.offsets.popper=ah(i),t}},hide:{order:800,enabled:!0,fn:function Jj(t){if(!UN(t.instance.modifiers,"hide","preventOverflow"))return t;var n=t.offsets.reference,e=Xv(t.instance.modifiers,function(r){return"preventOverflow"===r.name}).boundaries;if(n.bottom<e.top||n.left>e.right||n.top>e.bottom||n.right<e.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function Gj(t,n){var e=n.x,r=n.y,i=t.offsets.popper,s=Xv(t.instance.modifiers,function(bt){return"applyStyle"===bt.name}).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var Ie,Fe,d=void 0!==s?s:n.gpuAcceleration,m=Zg(t.instance.popper),w=sE(m),R={position:i.position},z=function zj(t,n){var e=t.offsets,r=e.popper,s=Math.round,d=Math.floor,m=function(lt){return lt},w=s(e.reference.width),R=s(r.width),z=-1!==["left","right"].indexOf(t.placement),X=-1!==t.placement.indexOf("-"),Ie=n?z||X||w%2==R%2?s:d:m,Fe=n?s:m;return{left:Ie(w%2==1&&R%2==1&&!X&&n?r.left-1:r.left),top:Fe(r.top),bottom:Fe(r.bottom),right:Ie(r.right)}}(t,window.devicePixelRatio<2||!Uj),X="bottom"===e?"top":"bottom",ge="right"===r?"left":"right",ve=cE("transform");if(Fe="bottom"===X?"HTML"===m.nodeName?-m.clientHeight+z.bottom:-w.height+z.bottom:z.top,Ie="right"===ge?"HTML"===m.nodeName?-m.clientWidth+z.right:-w.width+z.right:z.left,d&&ve)R[ve]="translate3d("+Ie+"px, "+Fe+"px, 0)",R[X]=0,R[ge]=0,R.willChange="transform";else{var lt="right"===ge?-1:1;R[X]=Fe*("bottom"===X?-1:1),R[ge]=Ie*lt,R.willChange=X+", "+ge}return t.attributes=pu({},{"x-placement":t.placement},t.attributes),t.styles=pu({},R,t.styles),t.arrowStyles=pu({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function Vj(t){return fE(t.instance.popper,t.styles),function Bj(t,n){Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})}(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&fE(t.arrowElement,t.arrowStyles),t},onLoad:function Hj(t,n,e,r,i){var s=PN(i,n,t,e.positionFixed),d=kN(e.placement,s,n,t,e.modifiers.flip.boundariesElement,e.modifiers.flip.padding);return n.setAttribute("x-placement",d),fE(n,{position:e.positionFixed?"fixed":"absolute"}),e},gpuAcceleration:void 0}}},F0=function(){function t(n,e){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=Ej(this.update.bind(this)),this.options=pu({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n&&n.jquery?n[0]:n,this.popper=e&&e.jquery?e[0]:e,this.options.modifiers={},Object.keys(pu({},t.Defaults.modifiers,i.modifiers)).forEach(function(d){r.options.modifiers[d]=pu({},t.Defaults.modifiers[d]||{},i.modifiers?i.modifiers[d]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(d){return pu({name:d},r.options.modifiers[d])}).sort(function(d,m){return d.order-m.order}),this.modifiers.forEach(function(d){d.enabled&&DN(d.onLoad)&&d.onLoad(r.reference,r.popper,r.options,d,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return Mj(t,[{key:"update",value:function(){return Nj.call(this)}},{key:"destroy",value:function(){return Rj.call(this)}},{key:"enableEventListeners",value:function(){return Pj.call(this)}},{key:"disableEventListeners",value:function(){return Fj.call(this)}}]),t}();F0.Utils=(typeof window<"u"?window:global).PopperUtils,F0.placements=GN,F0.Defaults=nW;const rW=F0;function Ws(){return Ws=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Ws.apply(this,arguments)}var Kv=typeof window<"u"&&typeof document<"u",WN=Kv?navigator.userAgent:"",$N=/MSIE |Trident\//.test(WN),YN=/UCBrowser\//.test(WN),XN=Kv&&/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,Xc={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrow:!1,arrowType:"sharp",boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},placement:"top",popperOptions:{},role:"tooltip",showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,wait:null,zIndex:9999},aW=["arrow","arrowType","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],qv=Kv?Element.prototype:{},gE=qv.matches||qv.matchesSelector||qv.webkitMatchesSelector||qv.mozMatchesSelector||qv.msMatchesSelector;function Zv(t){return[].slice.call(t)}function B0(t,n){return mE(t,function(e){return gE.call(e,n)})}function mE(t,n){for(;t;){if(n(t))return t;t=t.parentElement}return null}var vE={passive:!0},yE=4,bE="x-placement",_E="x-out-of-boundaries",KN="tippy-iOS",qN="tippy-active",ZN="tippy-popper",QN="tippy-tooltip",JN="tippy-content",eR="tippy-backdrop",tR="tippy-arrow",nR="tippy-roundarrow",wE=".".concat(ZN),sW=".".concat(QN),lW=".".concat(JN),uW=".".concat(eR),cW=".".concat(tR),dW=".".concat(nR),sh=!1;function fW(){sh||(sh=!0,XN&&document.body.classList.add(KN),window.performance&&document.addEventListener("mousemove",iR))}var rR=0;function iR(){var t=performance.now();t-rR<20&&(sh=!1,document.removeEventListener("mousemove",iR),XN||document.body.classList.remove(KN)),rR=t}function hW(){var n=document.activeElement;n&&n.blur&&n._tippy&&n.blur()}var gW=Object.keys(Xc);function V0(t,n){return{}.hasOwnProperty.call(t,n)}function H0(t,n,e){return Array.isArray(t)?t[n]??e:t}function oR(t,n){return 0===n?t:function(r){clearTimeout(e),e=setTimeout(function(){t(r)},n)};var e}function z0(t,n){return t&&t.modifiers&&t.modifiers[n]}function CE(t,n){return t.indexOf(n)>-1}function Qv(t){return t instanceof Element}function aR(t){return!(!t||!V0(t,"isVirtual"))||Qv(t)}function xE(t,n){return"function"==typeof t?t.apply(null,n):t}function lR(t,n){t.filter(function(e){return"flip"===e.name})[0].enabled=n}function Jv(){return document.createElement("div")}function ey(t,n){t.forEach(function(e){e&&(e.style.transitionDuration="".concat(n,"ms"))})}function uR(t,n){t.forEach(function(e){e&&e.setAttribute("data-state",n)})}function cR(t,n){var e=Ws({},n,{content:xE(n.content,[t])},n.ignoreAttributes?{}:function mW(t){return gW.reduce(function(n,e){var r=(t.getAttribute("data-tippy-".concat(e))||"").trim();if(!r)return n;if("content"===e)n[e]=r;else try{n[e]=JSON.parse(r)}catch{n[e]=r}return n},{})}(t));return(e.arrow||YN)&&(e.animateFill=!1),e}function dR(t,n){Object.keys(t).forEach(function(e){if(!V0(n,e))throw new Error("[tippy]: `".concat(e,"` is not a valid option"))})}function fR(t,n){t.innerHTML=Qv(n)?n.innerHTML:n}function hR(t,n){Qv(n.content)?(fR(t,""),t.appendChild(n.content)):"function"!=typeof n.content&&(t[n.allowHTML?"innerHTML":"textContent"]=n.content)}function EE(t){return{tooltip:t.querySelector(sW),backdrop:t.querySelector(uW),content:t.querySelector(lW),arrow:t.querySelector(cW)||t.querySelector(dW)}}function pR(t){t.setAttribute("data-inertia","")}function DE(t){var n=Jv();return"round"===t?(n.className=nR,fR(n,'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>')):n.className=tR,n}function gR(){var t=Jv();return t.className=eR,t.setAttribute("data-state","hidden"),t}function mR(t,n){t.setAttribute("tabindex","-1"),n.setAttribute("data-interactive","")}function SE(t,n,e){var r=YN&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";t[n+"EventListener"](r,e)}function TE(t){var n=t.getAttribute(bE);return n?n.split("-")[0]:""}function ME(t,n,e){e.split(" ").forEach(function(r){t.classList[n](r+"-theme")})}var AW=1,U0=[];function vR(t,n){var e=cR(t,n);if(!e.multiple&&t._tippy)return null;var r,i,s,d,m,z,ve,Ie,Qe,w=!1,R=!1,X=!1,ge=!1,Fe=[],lt=oR(fy,e.interactiveDebounce),Ze=AW++,bt=function DW(t,n){var e=Jv();e.className=ZN,e.id="tippy-".concat(t),e.style.zIndex=""+n.zIndex,e.style.position="absolute",e.style.top="0",e.style.left="0",n.role&&e.setAttribute("role",n.role);var r=Jv();r.className=QN,r.style.maxWidth=n.maxWidth+("number"==typeof n.maxWidth?"px":""),r.setAttribute("data-size",n.size),r.setAttribute("data-animation",n.animation),r.setAttribute("data-state","hidden"),ME(r,"add",n.theme);var i=Jv();return i.className=JN,i.setAttribute("data-state","hidden"),n.interactive&&mR(e,r),n.arrow&&r.appendChild(DE(n.arrowType)),n.animateFill&&(r.appendChild(gR()),r.setAttribute("data-animatefill","")),n.inertia&&pR(r),hR(i,n),r.appendChild(i),e.appendChild(r),e}(Ze,e),gn=EE(bt),ct={id:Ze,reference:t,popper:bt,popperChildren:gn,popperInstance:null,props:e,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},clearDelayTimeouts:a_,set:Ak,setContent:function HY(Lt){Ak({content:Lt})},show:QE,hide:hy,enable:function BY(){ct.state.isEnabled=!0},disable:function VY(){ct.state.isEnabled=!1},destroy:function zY(Lt){if(!ct.state.isDestroyed){R=!0,ct.state.isMounted&&hy(0),Bl(),delete t._tippy;var ir=ct.props.target;ir&&Lt&&Qv(t)&&Zv(t.querySelectorAll(ir)).forEach(function(gr){gr._tippy&&gr._tippy.destroy()}),ct.popperInstance&&ct.popperInstance.destroy(),R=!1,ct.state.isDestroyed=!0}}};return t._tippy=ct,bt._tippy=ct,ia(),e.lazy||i_(),e.showOnInit&&o_(),e.a11y&&!e.target&&!function wW(t){return!Qv(t)||gE.call(t,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!t.hasAttribute("disabled")}(ra())&&ra().setAttribute("tabindex","0"),bt.addEventListener("mouseenter",function(Lt){ct.props.interactive&&ct.state.isVisible&&"mouseenter"===r&&o_(Lt,!0)}),bt.addEventListener("mouseleave",function(){ct.props.interactive&&"mouseenter"===r&&document.addEventListener("mousemove",lt)}),ct;function $s(){document.removeEventListener("mousemove",Ua)}function cl(){document.body.removeEventListener("mouseleave",Dp),document.removeEventListener("mousemove",lt),U0=U0.filter(function(Lt){return Lt!==lt})}function ra(){return ct.props.triggerTarget||t}function dy(){document.addEventListener("click",Ik,!0)}function uh(){document.removeEventListener("click",Ik,!0)}function Zc(){return[ct.popperChildren.tooltip,ct.popperChildren.backdrop,ct.popperChildren.content]}function sm(){var Lt=ct.props.followCursor;return Lt&&"focus"!==r||sh&&"initial"===Lt}function Qn(Lt,ir){var gr=ct.popperChildren.tooltip;function Oo(ch){ch.target===gr&&(SE(gr,"remove",Oo),ir())}if(0===Lt)return ir();SE(gr,"remove",Ie),SE(gr,"add",Oo),Ie=Oo}function br(Lt,ir){var gr=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ra().addEventListener(Lt,ir,gr),Fe.push({eventType:Lt,handler:ir,options:gr})}function ia(){ct.props.touchHold&&!ct.props.target&&(br("touchstart",Xi,vE),br("touchend",r_,vE)),ct.props.trigger.trim().split(" ").forEach(function(Lt){if("manual"!==Lt)if(ct.props.target)switch(Lt){case"mouseenter":br("mouseover",Zu),br("mouseout",Ys);break;case"focus":br("focusin",Zu),br("focusout",Ys);break;case"click":br(Lt,Zu)}else switch(br(Lt,Xi),Lt){case"mouseenter":br("mouseleave",r_);break;case"focus":br($N?"focusout":"blur",Ga)}})}function Bl(){Fe.forEach(function(Lt){var ir=Lt.eventType,gr=Lt.handler,Oo=Lt.options;ra().removeEventListener(ir,gr,Oo)}),Fe=[]}function Ua(Lt){var ir=i=Lt,gr=ir.clientX,Oo=ir.clientY;if(Qe){var ch=mE(Lt.target,function(Rk){return Rk===t}),Sp=t.getBoundingClientRect(),py=ct.props.followCursor,Qu="horizontal"===py,gu="vertical"===py,Ju=CE(["top","bottom"],TE(bt)),Xs=bt.getAttribute(bE),cf=!!Xs&&!!Xs.split("-")[1],df=Ju?bt.offsetWidth:bt.offsetHeight,s_=df/2,Ok=Ju?0:cf?df:s_,Nk=Ju?cf?df:s_:0;(ch||!ct.props.interactive)&&(ct.popperInstance.reference=Ws({},ct.popperInstance.reference,{referenceNode:t,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:Ju?df:0,height:Ju?0:df,top:(Qu?Sp.top:Oo)-Ok,bottom:(Qu?Sp.bottom:Oo)+Ok,left:(gu?Sp.left:gr)-Nk,right:(gu?Sp.right:gr)+Nk}}}),ct.popperInstance.update()),"initial"===py&&ct.state.isVisible&&$s()}}function Xi(Lt){!ct.state.isEnabled||Ep(Lt)||(ct.state.isVisible||(r=Lt.type,Lt instanceof MouseEvent&&(i=Lt,U0.forEach(function(ir){return ir(Lt)}))),"click"===Lt.type&&!1!==ct.props.hideOnClick&&ct.state.isVisible?Dp():o_(Lt))}function fy(Lt){var ir=B0(Lt.target,wE)===bt,gr=mE(Lt.target,function(Oo){return Oo===t});ir||gr||function MW(t,n,e,r){if(!t)return!0;var i=e.clientX,s=e.clientY,d=r.interactiveBorder,m=r.distance;return n.top-s>("top"===t?d+m:d)||s-n.bottom>("bottom"===t?d+m:d)||n.left-i>("left"===t?d+m:d)||i-n.right>("right"===t?d+m:d)}(TE(bt),bt.getBoundingClientRect(),Lt,ct.props)&&(cl(),Dp())}function r_(Lt){if(!Ep(Lt)){if(ct.props.interactive)return document.body.addEventListener("mouseleave",Dp),document.addEventListener("mousemove",lt),void U0.push(lt);Dp()}}function Ga(Lt){Lt.target===ra()&&(ct.props.interactive&&Lt.relatedTarget&&bt.contains(Lt.relatedTarget)||Dp())}function Zu(Lt){B0(Lt.target,ct.props.target)&&o_(Lt)}function Ys(Lt){B0(Lt.target,ct.props.target)&&Dp()}function Ep(Lt){var ir="ontouchstart"in window,gr=CE(Lt.type,"touch"),Oo=ct.props.touchHold;return ir&&sh&&Oo&&!gr||sh&&!Oo&&gr}function lm(){!ge&&ve&&(ge=!0,ve())}function i_(){var Lt=ct.props.popperOptions,ir=ct.popperChildren,gr=ir.tooltip,Oo=ir.arrow,ch=z0(Lt,"preventOverflow");function Sp(Qu){ct.props.flip&&!ct.props.flipOnUpdate&&(Qu.flipped&&(ct.popperInstance.options.placement=Qu.placement),lR(ct.popperInstance.modifiers,!1)),gr.setAttribute(bE,Qu.placement),!1!==Qu.attributes[_E]?gr.setAttribute(_E,""):gr.removeAttribute(_E),z&&z!==Qu.placement&&X&&(gr.style.transition="none",requestAnimationFrame(function(){gr.style.transition=""})),z=Qu.placement,X=ct.state.isVisible;var gu=TE(bt),Ju=gr.style;Ju.top=Ju.bottom=Ju.left=Ju.right="",Ju[gu]=function IW(t){return-(t-10)+"px"}(ct.props.distance);var Xs=ch&&void 0!==ch.padding?ch.padding:yE,cf="number"==typeof Xs,df=Ws({top:cf?Xs:Xs.top,bottom:cf?Xs:Xs.bottom,left:cf?Xs:Xs.left,right:cf?Xs:Xs.right},!cf&&Xs);df[gu]=cf?Xs+ct.props.distance:(Xs[gu]||0)+ct.props.distance,ct.popperInstance.modifiers.filter(function(s_){return"preventOverflow"===s_.name})[0].padding=df,Qe=df}var py=Ws({eventsEnabled:!1,placement:ct.props.placement},Lt,{modifiers:Ws({},Lt?Lt.modifiers:{},{preventOverflow:Ws({boundariesElement:ct.props.boundary,padding:yE},ch),arrow:Ws({element:Oo,enabled:!!Oo},z0(Lt,"arrow")),flip:Ws({enabled:ct.props.flip,padding:ct.props.distance+yE,behavior:ct.props.flipBehavior},z0(Lt,"flip")),offset:Ws({offset:ct.props.offset},z0(Lt,"offset"))}),onCreate:function(gu){Sp(gu),lm(),Lt&&Lt.onCreate&&Lt.onCreate(gu)},onUpdate:function(gu){Sp(gu),lm(),Lt&&Lt.onUpdate&&Lt.onUpdate(gu)}});ct.popperInstance=new rW(t,bt,py)}function o_(Lt,ir){if(a_(),!ct.state.isVisible){if(ct.props.target)return function Qc(Lt){if(Lt){var ir=B0(Lt.target,ct.props.target);ir&&!ir._tippy&&vR(ir,Ws({},ct.props,{content:xE(n.content,[ir]),appendTo:n.appendTo,target:"",showOnInit:!0}))}}(Lt);if(w=!0,Lt&&!ir&&ct.props.onTrigger(ct,Lt),ct.props.wait)return ct.props.wait(ct,Lt);sm()&&!ct.state.isMounted&&(ct.popperInstance||i_(),document.addEventListener("mousemove",Ua)),dy();var gr=H0(ct.props.delay,0,Xc.delay);gr?s=setTimeout(function(){QE()},gr):QE()}}function Dp(){if(a_(),!ct.state.isVisible)return $s(),void uh();w=!1;var Lt=H0(ct.props.delay,1,Xc.delay);Lt?d=setTimeout(function(){ct.state.isVisible&&hy()},Lt):m=requestAnimationFrame(function(){hy()})}function Ik(Lt){ct.props.interactive&&bt.contains(Lt.target)||ra().contains(Lt.target)&&(sh||ct.state.isVisible&&CE(ct.props.trigger,"click"))||!0===ct.props.hideOnClick&&(a_(),hy())}function a_(){clearTimeout(s),clearTimeout(d),cancelAnimationFrame(m)}function Ak(Lt){dR(Lt=Lt||{},Xc),Bl();var ir=ct.props,gr=cR(t,Ws({},ct.props,{},Lt,{ignoreAttributes:!0}));gr.ignoreAttributes=V0(Lt,"ignoreAttributes")?Lt.ignoreAttributes||!1:ir.ignoreAttributes,ct.props=gr,ia(),cl(),lt=oR(fy,gr.interactiveDebounce),function SW(t,n,e){var r=EE(t),i=r.tooltip,s=r.content,d=r.backdrop,m=r.arrow;t.style.zIndex=""+e.zIndex,i.setAttribute("data-size",e.size),i.setAttribute("data-animation",e.animation),i.style.maxWidth=e.maxWidth+("number"==typeof e.maxWidth?"px":""),e.role?t.setAttribute("role",e.role):t.removeAttribute("role"),n.content!==e.content&&hR(s,e),!n.animateFill&&e.animateFill?(i.appendChild(gR()),i.setAttribute("data-animatefill","")):n.animateFill&&!e.animateFill&&(i.removeChild(d),i.removeAttribute("data-animatefill")),!n.arrow&&e.arrow?i.appendChild(DE(e.arrowType)):n.arrow&&!e.arrow&&i.removeChild(m),n.arrow&&e.arrow&&n.arrowType!==e.arrowType&&i.replaceChild(DE(e.arrowType),m),!n.interactive&&e.interactive?mR(t,i):n.interactive&&!e.interactive&&function xW(t,n){t.removeAttribute("tabindex"),n.removeAttribute("data-interactive")}(t,i),!n.inertia&&e.inertia?pR(i):n.inertia&&!e.inertia&&function CW(t){t.removeAttribute("data-inertia")}(i),n.theme!==e.theme&&(ME(i,"remove",n.theme),ME(i,"add",e.theme))}(bt,ir,gr),ct.popperChildren=EE(bt),ct.popperInstance&&(aW.some(function(Oo){return V0(Lt,Oo)&&Lt[Oo]!==ir[Oo]})?(ct.popperInstance.destroy(),i_(),ct.state.isVisible&&ct.popperInstance.enableEventListeners(),ct.props.followCursor&&i&&Ua(i)):ct.popperInstance.update())}function QE(){var Lt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H0(ct.props.duration,0,Xc.duration[1]);if(!ct.state.isDestroyed&&ct.state.isEnabled&&(!sh||ct.props.touch)&&!ra().hasAttribute("disabled")&&!1!==ct.props.onShow(ct)){dy(),bt.style.visibility="visible",ct.state.isVisible=!0,ct.props.interactive&&ra().classList.add(qN);var ir=Zc();ey(ir.concat(bt),0),ve=function(){if(ct.state.isVisible){var Oo=sm();Oo&&i?Ua(i):Oo||ct.popperInstance.update(),ct.popperChildren.backdrop&&(ct.popperChildren.content.style.transitionDelay=Math.round(Lt/12)+"ms"),ct.props.sticky&&function n_(){ey([bt],$N?0:ct.props.updateDuration);var Lt=t.getBoundingClientRect();!function ir(){var gr=t.getBoundingClientRect();(Lt.top!==gr.top||Lt.right!==gr.right||Lt.bottom!==gr.bottom||Lt.left!==gr.left)&&ct.popperInstance.scheduleUpdate(),Lt=gr,ct.state.isMounted&&requestAnimationFrame(ir)}()}(),ey([bt],ct.props.updateDuration),ey(ir,Lt),uR(ir,"visible"),function jn(Lt,ir){Qn(Lt,ir)}(Lt,function(){ct.props.aria&&ra().setAttribute("aria-".concat(ct.props.aria),bt.id),ct.props.onShown(ct),ct.state.isShown=!0})}},function FY(){ge=!1;var Lt=sm();ct.popperInstance?(lR(ct.popperInstance.modifiers,ct.props.flip),Lt||(ct.popperInstance.reference=t,ct.popperInstance.enableEventListeners()),ct.popperInstance.scheduleUpdate()):(i_(),Lt||ct.popperInstance.enableEventListeners());var ir=ct.props.appendTo,gr="parent"===ir?t.parentNode:xE(ir,[t]);gr.contains(bt)||(gr.appendChild(bt),ct.props.onMount(ct),ct.state.isMounted=!0)}()}}function hy(){var Lt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H0(ct.props.duration,1,Xc.duration[1]);if(!ct.state.isDestroyed&&(ct.state.isEnabled||R)&&(!1!==ct.props.onHide(ct)||R)){uh(),bt.style.visibility="hidden",ct.state.isVisible=!1,ct.state.isShown=!1,X=!1,ct.props.interactive&&ra().classList.remove(qN);var ir=Zc();ey(ir,Lt),uR(ir,"hidden"),function On(Lt,ir){Qn(Lt,function(){!ct.state.isVisible&&bt.parentNode&&bt.parentNode.contains(bt)&&ir()})}(Lt,function(){w||$s(),ct.props.aria&&ra().removeAttribute("aria-".concat(ct.props.aria)),ct.popperInstance.disableEventListeners(),ct.popperInstance.options.placement=ct.props.placement,bt.parentNode.removeChild(bt),ct.props.onHidden(ct),ct.state.isMounted=!1})}}}var yR=!1;function _p(t,n){dR(n||{},Xc),yR||(function pW(){document.addEventListener("touchstart",fW,vE),window.addEventListener("blur",hW)}(),yR=!0);var e=Ws({},Xc,{},n);(function yW(t){return"[object Object]"==={}.toString.call(t)&&!t.addEventListener})(t)&&function vW(t){var n={isVirtual:!0,attributes:t.attributes||{},contains:function(){},setAttribute:function(i,s){t.attributes[i]=s},getAttribute:function(i){return t.attributes[i]},removeAttribute:function(i){delete t.attributes[i]},hasAttribute:function(i){return i in t.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(i){t.classList.classNames[i]=!0},remove:function(i){delete t.classList.classNames[i]},contains:function(i){return i in t.classList.classNames}}};for(var e in n)t[e]=n[e]}(t);var r=function _W(t){if(aR(t))return[t];if(t instanceof NodeList)return Zv(t);if(Array.isArray(t))return t;try{return Zv(document.querySelectorAll(t))}catch{return[]}}(t).reduce(function(i,s){var d=s&&vR(s,e);return d&&i.push(d),i},[]);return aR(t)?r[0]:r}_p.version="4.3.5",_p.defaults=Xc,_p.setDefaults=function(t){Object.keys(t).forEach(function(n){Xc[n]=t[n]})},_p.hideAll=function TW(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.exclude,e=t.duration;Zv(document.querySelectorAll(wE)).forEach(function(r){var i=r._tippy;if(i){var s=!1;n&&(s=function bW(t){return!!t._tippy&&!gE.call(t,wE)}(n)?i.reference===n:r===n.popper),s||i.hide(e)}})},_p.group=function OW(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.delay,r=void 0===e?t[0].props.delay:e,i=n.duration,s=void 0===i?0:i,d=!1;function m(ge){d=ge,X()}function w(ge){ge._originalProps.onShow(ge),t.forEach(function(ve){ve.set({duration:s}),ve.state.isVisible&&ve.hide()}),m(!0)}function R(ge){ge._originalProps.onHide(ge),m(!1)}function z(ge){ge._originalProps.onShown(ge),ge.set({duration:ge._originalProps.duration})}function X(){t.forEach(function(ge){ge.set({onShow:w,onShown:z,onHide:R,delay:d?[0,Array.isArray(r)?r[1]:r]:r,duration:d?s:ge._originalProps.duration})})}t.forEach(function(ge){ge._originalProps?ge.set(ge._originalProps):ge._originalProps=Ws({},ge.props)}),X()},Kv&&setTimeout(function NW(){Zv(document.querySelectorAll("[data-tippy]")).forEach(function(t){var n=t.getAttribute("data-tippy");n&&_p(t,{content:n})})}),function RW(t){if(Kv){var n=document.createElement("style");n.type="text/css",n.textContent=t,n.setAttribute("data-tippy-stylesheet","");var e=document.head,r=e.querySelector("style,link");r?e.insertBefore(n,r):e.appendChild(n)}}('.tippy-iOS{cursor:pointer!important;-webkit-tap-highlight-color:transparent}.tippy-popper{transition-timing-function:cubic-bezier(.165,.84,.44,1);max-width:calc(100% - 8px);pointer-events:none;outline:0}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-7px;bottom:-6.5px;-webkit-transform-origin:50% 0;transform-origin:50% 0;margin:0 3px}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 3px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(-10px);transform:perspective(700px) translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(60deg);transform:perspective(700px) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=top] [data-animation=scale]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px) scale(.5);transform:translateY(-10px) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-7px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;margin:0 3px}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(10px);transform:perspective(700px) translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(-60deg);transform:perspective(700px) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=scale]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px) scale(.5);transform:translateY(10px) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-12px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%;margin:3px 0}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(-10px);transform:perspective(700px) translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(-60deg);transform:perspective(700px) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=left] [data-animation=scale]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px) scale(.5);transform:translateX(-10px) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-12px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%;margin:3px 0}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(10px);transform:perspective(700px) translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(60deg);transform:perspective(700px) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=right] [data-animation=scale]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px) scale(.5);transform:translateX(10px) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:.25rem;font-size:.875rem;padding:.3125rem .5625rem;line-height:1.4;text-align:center;background-color:#333}.tippy-tooltip[data-size=small]{padding:.1875rem .375rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.375rem .75rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:initial}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] .tippy-roundarrow path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:18px;height:7px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}');const ty=_p;var kW=D(6827),PW=D.n(kW);js().use(PW()),js().use(k0());const LW=[{selector:'node[node_type="input"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="cnode"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="annotation"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="proj"]',style:{width:3,"line-color":"#ccc","line-style":"dashed","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:"edge[label]",style:{label:"data(label)","text-rotation":"autorotate","text-margin-x":15,"text-margin-y":0}}],FW=[{selector:'node[color="yellow"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="red"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="blue"]',style:{content:"data(id)",color:"back",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="green"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="orange"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"orange white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'edge[edge_type="default"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="external"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","line-style":"dashed","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="parent"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}];let BW=(()=>{class t{ngAfterViewInit(){"liger"==this.graphStyle?(this.styleArray=LW,this.layout="dagre"):"glue"==this.graphStyle&&(this.styleArray=FW,this.layout="cise"),this.cy=js()({container:document.getElementById(this.graphID),style:this.styleArray,layout:{name:this.layout}})}renderGraph(e){this.cy=js()({container:document.getElementById(this.graphID),elements:e,style:this.styleArray,layout:{name:this.layout}}),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy),"liger"==this.graphStyle?this.createAndBindLigerPoppers():"glue"==this.graphStyle&&this.createAndBindGswbPoppers()}makeLigerPopper(e){const r=e.popperRef();e.tippy=ty(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;if(s.hasOwnProperty("avp"))for(var d in s.avp)i.innerHTML=i.innerHTML+d+" : "+s.avp[d]+"<br>";return i},trigger:"manual"})}createAndBindLigerPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("avp")&&(this.makeLigerPopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}makeGswbPopper(e){const r=e.popperRef();e.tippy=ty(r,{content:()=>{let i=document.createElement("div");i.style.backgroundColor="black";var s=e._private.data;if(s.hasOwnProperty("solutions"))for(var d of s.solutions)i.innerHTML=i.innerHTML+d+"<br>";return i},trigger:"manual"})}createAndBindGswbPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("solutions")&&(this.makeGswbPopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-sub-graph"]],inputs:{graphStyle:"graphStyle",graphID:"graphID"},decls:2,vars:1,consts:[[1,"cy",3,"id"]],template:function(e,r){1&e&&($e(0,"div"),wn(1,"div",0),Ye()),2&e&&(Yt(1),tn("id",r.graphID))},styles:["div.cy[_ngcontent-%COMP%]{width:800px;height:600px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const VW=["subgraphVis"],HW=["subGraphDialog"];let IE=(()=>{class t{setContent(e){console.log(e),setTimeout(()=>{this.subgraphVis.renderGraph(e)},0)}showDialog(){this.subGraphDialog.nativeElement.show()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-sub-graph-dialog"]],viewQuery:function(e,r){if(1&e&&(Ln(VW,5),Ln(HW,5)),2&e){let i;Mn(i=In())&&(r.subgraphVis=i.first),Mn(i=In())&&(r.subGraphDialog=i.first)}},inputs:{subgraphID:"subgraphID",subgraphStyle:"subgraphStyle"},decls:7,vars:2,consts:[[1,"center-dialog"],["subGraphDialog",""],[3,"graphID","graphStyle"],["subgraphVis",""],[3,"click"]],template:function(e,r){if(1&e){const i=Ds();$e(0,"dialog",0,1)(2,"div"),wn(3,"app-sub-graph",2,3),Ye(),$e(5,"button",4),Dn("click",function(){return zn(i),bi(lu(1).close())}),mt(6," OK "),Ye()()}2&e&&(Yt(3),tn("graphID",r.subgraphID)("graphStyle",r.subgraphStyle))},dependencies:[BW],styles:[".center-dialog[_ngcontent-%COMP%]{position:fixed;z-index:9999;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),t})();const zW=["graphContainer"],UW=["subgraphDialog"];js().use(k0());const bR=[{selector:'node[color="yellow"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="red"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="blue"]',style:{content:"data(id)",color:"back",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="green"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="orange"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"orange white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="parent"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}];let _R=(()=>{class t{constructor(){this.defaultWidth="800px",this.defaultHeight="600px"}ngAfterViewInit(){this.cy=js()({container:document.getElementById(this.graphID),style:bR,layout:{name:"dagre"}})}handleNodeDoubleClick(e,r){console.log("Clicked node with id: ",e),setTimeout(()=>{this.subgraphDialog.setContent(r.graphElements)},0),setTimeout(()=>{this.subgraphDialog.showDialog()},0)}renderGraph(e){this.cy=js()({container:document.getElementById(this.graphID),elements:e,style:bR,layout:{name:"dagre"}}),this.createAndBindPoppers(),this.cy.on("dblclick","node",r=>{let i=r.target,s=i.id(),d=i.data();console.log(d),d.hasOwnProperty("subgraph")&&this.handleNodeDoubleClick(s,d.subgraph)})}makePopper(e){const r=e.popperRef();e.tippy=ty(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;if(s.hasOwnProperty("solutions"))for(var d of s.solutions)i.innerHTML=i.innerHTML+d+"<br>";return i},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("solutions")&&(this.makePopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}resizeToDefault(){const e=this.graphContainer.nativeElement;e.style.width=this.defaultWidth,e.style.height=this.defaultHeight}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-gswb-graph-vis"]],viewQuery:function(e,r){if(1&e&&(Ln(zW,5),Ln(UW,5)),2&e){let i;Mn(i=In())&&(r.graphContainer=i.first),Mn(i=In())&&(r.subgraphDialog=i.first)}},inputs:{graphID:"graphID"},decls:7,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[1,"resize",3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(e,r){1&e&&($e(0,"div"),wn(1,"div",0,1),$e(3,"button",2),Dn("click",function(){return r.resizeToDefault()}),mt(4,"Resize to Default"),Ye(),wn(5,"app-sub-graph-dialog",3,4),Ye()),2&e&&(Yt(1),tn("id",r.graphID),Yt(4),tn("subgraphID","sub"+r.graphID)("subgraphStyle","glue"))},dependencies:[IE],styles:["div.cy[_ngcontent-%COMP%]{width:760px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const GW=["editorVis"],jW=["graphVis"];function WW(t,n){1&t&&($e(0,"div",1),wn(1,"app-editor",2,3),Ye()),2&t&&(Yt(1),tn("mode","glue"))}function $W(t,n){1&t&&($e(0,"div",1),wn(1,"app-gswb-graph-vis",4,5),Ye()),2&t&&(Yt(1),tn("graphID","gswbCy1"))}let YW=(()=>{class t{ngAfterViewInit(){this.showEditor=!1,this.showGraph=!1}editorVisUpdateContent(e){console.log(this.editorVis),this.editorVis.updateContent(e)}graphVisUpdateContent(e){console.log(this.graphVis),this.graphVis.renderGraph(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-derivation-container"]],viewQuery:function(e,r){if(1&e&&(Ln(GW,5),Ln(jW,5)),2&e){let i;Mn(i=In())&&(r.editorVis=i.first),Mn(i=In())&&(r.graphVis=i.first)}},decls:4,vars:2,consts:[["class","viscontainer",4,"ngIf"],[1,"viscontainer"],[3,"mode"],["editorVis",""],[3,"graphID"],["graphVis",""]],template:function(e,r){1&e&&($e(0,"h3"),mt(1,"Derivation:"),Ye(),Rr(2,WW,3,1,"div",0),Rr(3,$W,3,1,"div",0)),2&e&&(Yt(2),tn("ngIf",r.showEditor),Yt(1),tn("ngIf",r.showGraph))},dependencies:[Rl,yp,_R],styles:["div.viscontainer[_ngcontent-%COMP%]{max-width:800px}"]}),t})();const XW=["dialog"],KW=["graphVis"],qW=["editorVis"];function ZW(t,n){1&t&&($e(0,"div"),wn(1,"app-editor",4,5),Ye()),2&t&&(Yt(1),tn("mode","glue"))}function QW(t,n){1&t&&($e(0,"div"),wn(1,"app-gswb-graph-vis",6,7),Ye()),2&t&&(Yt(1),tn("graphID","gswbCy2"))}let wR=(()=>{class t{ngAfterViewInit(){this.showEdit=!1,this.showGraph=!1}setContent(e){console.log("Content of dialog window:",e),"string"==typeof e||e instanceof String?(this.showGraph=!1,this.showEdit=!0,e=e.toString(),setTimeout(()=>{this.editorVis?this.editorVis.updateContent(e):console.warn("Editor component not initialized yet")},0)):(this.showEdit=!1,this.showGraph=!0,setTimeout(()=>{this.graphVis?this.graphVis.renderGraph(e):console.warn("Graph component not initialized yet")},0))}showDialog(){this.dialog.nativeElement.show()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-dialog"]],viewQuery:function(e,r){if(1&e&&(Ln(XW,5),Ln(KW,5),Ln(qW,5)),2&e){let i;Mn(i=In())&&(r.dialog=i.first),Mn(i=In())&&(r.graphVis=i.first),Mn(i=In())&&(r.editorVis=i.first)}},decls:10,vars:2,consts:[[1,"center-dialog"],["dialog",""],[4,"ngIf"],[3,"click"],[3,"mode"],["editorVis",""],[3,"graphID"],["graphVis",""]],template:function(e,r){if(1&e){const i=Ds();$e(0,"dialog",0,1)(2,"h3"),mt(3,"Derivation:"),Ye(),Rr(4,ZW,3,1,"div",2),Rr(5,QW,3,1,"div",2),$e(6,"button",3),Dn("click",function(){return zn(i),bi(lu(1).close())}),mt(7," OK "),Ye()(),$e(8,"button",3),Dn("click",function(){return r.showDialog()}),mt(9,"Open in new window"),Ye()}2&e&&(Yt(4),tn("ngIf",r.showEdit),Yt(1),tn("ngIf",r.showGraph))},dependencies:[Rl,yp,_R],styles:[".center-dialog[_ngcontent-%COMP%]{position:fixed;z-index:9999;top:50%;left:50%;transform:translate(-50%,-50%);min-width:800px;max-width:90%;border-style:solid;border-radius:25px;border-color:#00a9e0}dialog[_ngcontent-%COMP%]{max-width:90%}div[_ngcontent-%COMP%]{max-width:90%}"]}),t})(),G0=(()=>{class t{constructor(e){this.fb=e,this.gswbPreferences={prover:0,debugging:!1,outputstyle:0,parseSem:!1,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:!1,naturalDeductionStyle:0},this.gswbPreferencesForm=this.fb.group({prover:[0,Mv.required],outputstyle:[0,Mv.required],parseSem:[!1],explain:[!1],debugging:[!1],ndstyle:[0,Mv.required]})}onSubmit(){const e={prover:this.gswbPreferencesForm.value.prover,outputstyle:this.gswbPreferencesForm.value.outputstyle,parseSem:this.gswbPreferencesForm.value.parseSem,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:this.gswbPreferencesForm.value.explain,debugging:this.gswbPreferencesForm.value.debugging,naturalDeductionStyle:this.gswbPreferencesForm.value.ndstyle};console.log("Gswb preferences: ",e),this.gswbPreferences=e}updateFormFromPreferences(e){this.gswbPreferencesForm.patchValue({prover:e.prover,outputstyle:e.outputstyle,parseSem:e.parseSem,explain:e.explainFail,debugging:e.debugging,ndstyle:e.naturalDeductionStyle})}}return t.\u0275fac=function(e){return new(e||t)(We(SO))},t.\u0275cmp=dr({type:t,selectors:[["app-gswb-settings"]],decls:49,vars:1,consts:[["novalidate","",3,"formGroup","ngSubmit"],["for","prover"],["formControlName","prover","id","prover","name","prover"],["value","0"],["value","1"],["value","2"],["value","3"],["for","outputstyle"],["formControlName","outputstyle","id","outputstyle","name","outputstyle"],["value","4"],["for","parseSem"],["type","checkbox","formControlName","parseSem","id","parseSem","name","parseSem"],["for","explain"],["type","checkbox","formControlName","explain","id","explain","name","explain"],["for","debugging"],["type","checkbox","formControlName","debugging","id","debugging","name","debugging"],["for","ndstyle"],["formControlName","ndstyle","id","ndstyle","name","ndstyle"]],template:function(e,r){1&e&&($e(0,"h3"),mt(1,"Settings:"),Ye(),$e(2,"form",0),Dn("ngSubmit",function(){return r.onSubmit()}),$e(3,"div")(4,"label",1),mt(5,"Prover:"),Ye(),$e(6,"select",2)(7,"option",3),mt(8,"Hepple"),Ye(),$e(9,"option",4),mt(10,"Lev"),Ye(),$e(11,"option",5),mt(12,"Lev optimized "),Ye(),$e(13,"option",6),mt(14,"Multi stage proving"),Ye()()(),$e(15,"div")(16,"label",7),mt(17,"Output Style:"),Ye(),$e(18,"select",8)(19,"option",3),mt(20,"Plain"),Ye(),$e(21,"option",4),mt(22,"Prolog"),Ye(),$e(23,"option",6),mt(24,"NLTK"),Ye(),$e(25,"option",9),mt(26,"Prolog DRT"),Ye()()(),$e(27,"div")(28,"label",10),wn(29,"input",11),mt(30," Parse Semantics "),Ye()(),$e(31,"div")(32,"label",12),wn(33,"input",13),mt(34," Explanation "),Ye()(),$e(35,"div")(36,"label",14),wn(37,"input",15),mt(38," Debugging "),Ye()(),$e(39,"div")(40,"label",16),mt(41,"Natural deduction style:"),Ye(),$e(42,"select",17)(43,"option",3),mt(44,"Full semantics"),Ye(),$e(45,"option",4),mt(46,"Reduced semantics"),Ye(),$e(47,"option",5),mt(48,"No semantics"),Ye()()()()),2&e&&(Yt(2),tn("formGroup",r.gswbPreferencesForm))},dependencies:[bx,xx,Dx,n0,Bv,Wg,ux,Fv,p0],styles:["form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}div[_ngcontent-%COMP%]{flex-basis:50%;margin-bottom:10px}label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:5px}select[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{width:auto;margin-right:5px}"]}),t})();const JW=["edit1"],e6=["derivation"],t6=["sem1"],n6=["log1"],r6=["dialog"],i6=["gswbPrefs"];function o6(t,n){1&t&&($e(0,"span"),mt(1,"Calculate semantics"),Ye())}function a6(t,n){1&t&&wn(0,"span",11)}function s6(t,n){1&t&&($e(0,"span"),mt(1,"Loading..."),Ye())}let CR=(()=>{class t{constructor(e){this.dataService=e,this.loading=!1}calculateSemantics(){this.loading=!0,this.gswbPreferences.onSubmit();const e={premises:this.editor1.getContent(),gswbPreferences:this.gswbPreferences.gswbPreferences};this.dataService.gswbDeduce(e).subscribe(r=>{if(this.loading=!1,r.hasOwnProperty("solutions"))if(r.solutions.length>0){r.solutions.forEach(s=>{console.log(s),this.sem.updateContent(s)});let i=r.solutions.join("\n");this.sem.updateContent(i)}else this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] No solutions found.");else this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] No solutions found.");if(r.hasOwnProperty("log")&&this.log.updateContent(r.log),r.hasOwnProperty("derivation")&&this.gswbPreferences.gswbPreferences.explainFail)if(console.log(r.derivation),r.derivation.hasOwnProperty("graphElements")){console.log(r.derivation.graphElements),this.derivationContainer.showEditor=!1,this.derivationContainer.showGraph=!0;const i=r.derivation.graphElements;setTimeout(()=>{this.derivationContainer.graphVisUpdateContent(i)},0),this.dialog.setContent(i)}else this.derivationContainer.showGraph=!1,this.derivationContainer.showEditor=!0,setTimeout(()=>{this.derivationContainer.editorVisUpdateContent(r.derivation.toString())},0),this.dialog.setContent(r.derivation.toString())},r=>{console.log("ERROR: ",r),this.loading=!1,this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] An error occurred."),console.log("Sent following request: ",e)})}}return t.\u0275fac=function(e){return new(e||t)(We(Kg))},t.\u0275cmp=dr({type:t,selectors:[["app-gswb-vis"]],viewQuery:function(e,r){if(1&e&&(Ln(JW,5),Ln(e6,5),Ln(t6,5),Ln(n6,5),Ln(r6,5),Ln(i6,5)),2&e){let i;Mn(i=In())&&(r.editor1=i.first),Mn(i=In())&&(r.derivationContainer=i.first),Mn(i=In())&&(r.sem=i.first),Mn(i=In())&&(r.log=i.first),Mn(i=In())&&(r.dialog=i.first),Mn(i=In())&&(r.gswbPreferences=i.first)}},decls:25,vars:6,consts:[[1,"editor-restr"],[3,"mode"],["edit1",""],["gswbPrefs",""],[3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["sem1",""],["log1",""],["derivation",""],["dialog",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,r){1&e&&($e(0,"h3"),mt(1," Meaning constructors:\n"),Ye(),$e(2,"div",0),wn(3,"app-editor",1,2),Ye(),wn(5,"app-gswb-settings",null,3),$e(7,"button",4),Dn("click",function(){return r.calculateSemantics()}),Rr(8,o6,2,0,"span",5),Rr(9,a6,1,0,"span",6),Rr(10,s6,2,0,"span",5),Ye(),$e(11,"h3"),mt(12," Semantics: "),Ye(),$e(13,"div",0),wn(14,"app-editor",1,7),Ye(),$e(16,"h3"),mt(17,"Log:"),Ye(),$e(18,"div",0),wn(19,"app-editor",1,8),Ye(),wn(21,"app-derivation-container",null,9)(23,"app-dialog",null,10)),2&e&&(Yt(3),tn("mode","glue"),Yt(5),tn("ngIf",!r.loading),Yt(1),tn("ngIf",r.loading),Yt(1),tn("ngIf",r.loading),Yt(4),tn("mode","glue"),Yt(5),tn("mode","glue"))},dependencies:[Rl,yp,YW,wR,G0],styles:[".spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}"]}),t})(),l6=(()=>{class t{constructor(){this.delete=new lr,this.calculateFromRule=new lr}onDelete(){this.delete.emit(this.data)}calculate(){this.calculateFromRule.emit(this.data)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-rule-list-element"]],inputs:{data:"data"},outputs:{delete:"delete",calculateFromRule:"calculateFromRule"},decls:7,vars:3,consts:[[1,"rule"],[3,"ngModel","ngModelChange"],[3,"click"]],template:function(e,r){1&e&&($e(0,"div",0)(1,"textarea",1),Dn("ngModelChange",function(s){return r.data.rule.rule=s}),mt(2," "),Ye(),$e(3,"button",2),Dn("click",function(){return r.calculate()}),mt(4),Ye(),$e(5,"button",2),Dn("click",function(){return r.onDelete()}),mt(6,"Delete"),Ye()()),2&e&&(Yt(1),tn("ngModel",r.data.rule.rule),Yt(3),lb(" Calculate graph at rule: ",r.data.rule.index," (line ",r.data.rule.lineNumber,") "))},dependencies:[jg,Wg,Lv],styles:["div.rule[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{width:100%;resize:none}"]}),t})();function u6(t,n){if(1&t){const e=Ds();$e(0,"div",1)(1,"app-rule-list-element",2),Dn("delete",function(){const s=zn(e).index;return bi(Qr().removeElement(s))})("calculateFromRule",function(i){return zn(e),bi(Qr().calculateFromRuleList(i))}),Ye()()}if(2&t){const e=n.$implicit;Yt(1),tn("data",e)}}let c6=(()=>{class t{constructor(){this.elements=[],this.delete=new lr,this.calculateFromRule=new lr}addElement(e){this.elements.push(e),console.log(e)}removeElement(e){e>=0&&e<this.elements.length&&this.elements.splice(e,1)}calculateFromRuleList(e){this.calculateFromRule.emit(e)}clearList(){this.elements=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-rule-list"]],outputs:{delete:"delete",calculateFromRule:"calculateFromRule"},decls:2,vars:1,consts:[["class","rule-container",4,"ngFor","ngForOf"],[1,"rule-container"],[3,"data","delete","calculateFromRule"]],template:function(e,r){1&e&&($e(0,"div"),Rr(1,u6,2,1,"div",0),Ye()),2&e&&(Yt(1),tn("ngForOf",r.elements))},dependencies:[Ng,l6],styles:["div[_ngcontent-%COMP%]{width:800px;border:2px solid #00a9e0;margin:5px;overflow:auto;box-sizing:border-box}div.rule-container[_ngcontent-%COMP%]{width:100%;column-gap:20px;padding:5px;border:2px solid #00a9e0;align-items:flex-start;box-sizing:border-box}"]}),t})();var d6=D(3848),xR=D.n(d6);const f6=["graphContainer"],h6=["subgraphDialog"];js().use(k0()),js().use(xR());const ER=[{selector:'node[node_type="input"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="cnode"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="annotation"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="proj"]',style:{width:3,"line-color":"#ccc","line-style":"dashed","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:"edge[label]",style:{label:"data(label)","text-rotation":"autorotate","text-margin-x":15,"text-margin-y":0}}];let p6=(()=>{class t{constructor(){this.nodesHidden=!1,this.selector='node[node_type="cnode"]',this.defaultWidth="800px",this.defaultHeight="600px"}ngOnInit(){this.cy=js()({container:document.getElementById("cy"),style:ER,layout:{name:"dagre"}})}makePopper(e){const r=e.popperRef();e.tippy=ty(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;if(s.hasOwnProperty("avp"))for(var d in s.avp)i.innerHTML=i.innerHTML+d+" : "+s.avp[d]+"<br>";return i},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("avp")&&(this.makePopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}renderGraph(e){this.cy=js()({container:document.getElementById(this.graphID),elements:e,style:ER,layout:{name:"dagre"}}),this.createAndBindPoppers(),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy)}resizeToDefault(){const e=this.graphContainer.nativeElement;e.style.width=this.defaultWidth,e.style.height=this.defaultHeight}showDialog(){this.subgraphDialog.setContent(this.cy.data()),this.subgraphDialog.showDialog()}toggleNodes(){const e=this.cy.nodes(this.selector);this.cy.batch(()=>{e.style("display",this.nodesHidden?"element":"none"),this.nodesHidden=!this.nodesHidden})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-graph-vis"]],viewQuery:function(e,r){if(1&e&&(Ln(f6,5),Ln(h6,5)),2&e){let i;Mn(i=In())&&(r.graphContainer=i.first),Mn(i=In())&&(r.subgraphDialog=i.first)}},inputs:{graphID:"graphID"},decls:9,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(e,r){1&e&&($e(0,"div"),wn(1,"div",0,1),$e(3,"button",2),Dn("click",function(){return r.resizeToDefault()}),mt(4,"Resize to Default"),Ye(),$e(5,"button",2),Dn("click",function(){return r.toggleNodes()}),mt(6,"Toggle c-structure"),Ye(),wn(7,"app-sub-graph-dialog",3,4),Ye()),2&e&&(Yt(1),tn("id",r.graphID),Yt(6),tn("subgraphID","sub"+r.graphID)("subgraphStyle","liger"))},dependencies:[IE],styles:["div.cy[_ngcontent-%COMP%]{width:800px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const g6=["*"];let em=(()=>{class t{constructor(e){this.hideComponentService=e,this.showText="Show Content",this.hideText="Hide Content",this.isHidden=!1}ngOnInit(){this.hideSubscription=this.hideComponentService.toggleObservable.subscribe(e=>{if(!e.type||e.type===this.type)switch(e.action){case Yu.Hide:this.isHidden=!0;break;case Yu.Show:this.isHidden=!1}})}ngOnDestroy(){this.hideSubscription.unsubscribe()}toggleDisplay(){this.isHidden=!this.isHidden}}return t.\u0275fac=function(e){return new(e||t)(We(mI))},t.\u0275cmp=dr({type:t,selectors:[["app-toggle-display"]],inputs:{type:"type",showText:"showText",hideText:"hideText"},ngContentSelectors:g6,decls:4,vars:3,consts:[[1,"hide-button",3,"click"]],template:function(e,r){1&e&&(Qh(),$e(0,"div"),Jh(1),Ye(),$e(2,"button",0),Dn("click",function(){return r.toggleDisplay()}),mt(3),Ye()),2&e&&(qm("display",r.isHidden?"none":"block"),Yt(3),Qm(r.isHidden?r.showText:r.hideText))},encapsulation:2}),t})();const m6=["edit1"],v6=["rl1"],y6=["cy1"],b6=["textareaElement"],_6=["errorhandle"];function w6(t,n){1&t&&($e(0,"span"),mt(1,"Parse and rewrite"),Ye())}function C6(t,n){1&t&&wn(0,"span",17)}function x6(t,n){1&t&&($e(0,"span"),mt(1,"Loading..."),Ye())}let DR=(()=>{class t{constructor(e){this.dataService=e,this.defaultValue="Every dog sniffed a tree.",this.changeDetector=new lr,this.loading=!1}analyzeSentence(e,r){this.loading=!0,this.errorhandle.nativeElement.innerHTML="",this.dataService.stanzaParse({sentence:e,language:"en"}).subscribe(m=>{console.log("Stanza parse result: ",m);const R={sentence:JSON.stringify(m),ruleString:r};this.dataService.ligerAnnotateStanza(R).subscribe(z=>{if(this.loading=!1,this.errorhandle.nativeElement.innerHTML="",z.hasOwnProperty("graph")?z.graph.hasOwnProperty("graphElements")&&(0!=z.graph.graphElements.length?(console.log(z.graph.graphElements),this.cy1.renderGraph(z.graph.graphElements),this.graphElements=z.graph.graphElements,this.displayMessage("Parsing successful...","green")):this.displayMessage("Parsing failed...","red")):this.displayMessage("Parsing failed...","red"),z.hasOwnProperty("appliedRules")&&null!==z.appliedRules){console.log(z.appliedRules),this.rulelist1.clearList();for(let X=0;X<z.appliedRules.length;X++)this.rulelist1.addElement({rule:z.appliedRules[X],index:X})}z.hasOwnProperty("meaningConstructors")&&(console.log(z.meaningConstructors),this.meaningConstructors=z.meaningConstructors,this.changeDetector.emit(z.meaningConstructors)),z.hasOwnProperty("axioms")&&console.log("Axioms: ",z.axioms)},z=>{this.loading=!1,console.log("ERROR: ",z),this.displayMessage("An error occurred while calling LiGER...","red")})},m=>{this.loading=!1,console.log("ERROR: ",m),this.displayMessage("An error occurred while calling Stanza...","red")})}parseSentence(e,r){const i=e;this.errorhandle.nativeElement.innerHTML="",this.loading=!0,this.dataService.ligerMulti({sentence:i,ruleString:""}).subscribe(d=>{this.loading=!1,d.hasOwnProperty("graph")?d.graph.hasOwnProperty("graphElements")&&(0!=d.graph.graphElements.length?(console.log(d.graph.graphElements),this.cy1.renderGraph(d.graph.graphElements),this.graphElements=d.graph.graphElements):this.displayMessage("Parsing failed...","red")):this.displayMessage("Parsing failed...","red"),d.hasOwnProperty("meaningConstructors")&&(console.log(d.meaningConstructors),this.meaningConstructors=d.meaningConstructors,this.changeDetector.emit(d.meaningConstructors))},d=>{console.log("ERROR: ",d),this.displayMessage("An error occurred...","red"),this.loading=!1})}calculateFromRuleList(e){let r=[];for(let s=0;s<=e.index;s++)r.push(this.rulelist1.elements[s].rule);console.log("New rules: \n",r);let i=r.map(s=>s.rule).join("\n");i="--replace(true);\n"+i,console.log("Rule string: \n",i),this.analyzeSentence(this.textarea.nativeElement.value,i)}showDialog(){this.cy1.subgraphDialog.setContent(this.graphElements),this.cy1.subgraphDialog.showDialog()}displayMessage(e,r){this.errorhandle.nativeElement.style.color=r,this.errorhandle.nativeElement.innerHTML="["+(new Date).toLocaleTimeString()+"] "+e}}return t.\u0275fac=function(e){return new(e||t)(We(Kg))},t.\u0275cmp=dr({type:t,selectors:[["app-liger-vis"]],viewQuery:function(e,r){if(1&e&&(Ln(m6,5),Ln(v6,5),Ln(y6,5),Ln(b6,5),Ln(_6,5)),2&e){let i;Mn(i=In())&&(r.editor1=i.first),Mn(i=In())&&(r.rulelist1=i.first),Mn(i=In())&&(r.cy1=i.first),Mn(i=In())&&(r.textarea=i.first),Mn(i=In())&&(r.errorhandle=i.first)}},decls:32,vars:5,consts:[[3,"value"],["textareaElement",""],[1,"errorhandling"],["errorhandle",""],[3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["type","liger","showText","Show input rules","hideText","Hide input rules"],[1,"editor-restr"],[3,"mode"],["edit1",""],["showText","Show graph vis","hideText","Hide graph vis"],[1,"ligergraphcontainer"],["cy1",""],["type","liger","showText","Show applied rules","hideText","Hide applied rules"],[3,"calculateFromRule"],["rl1",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,r){if(1&e){const i=Ds();$e(0,"h3"),mt(1," Test sentence: "),Ye(),wn(2,"textarea",0,1)(4,"br")(5,"div",2,3),$e(7,"button",4),Dn("click",function(){zn(i);const d=lu(3),m=lu(17);return bi(r.analyzeSentence(d.value,m.getContent()))}),Rr(8,w6,2,0,"span",5),Rr(9,C6,1,0,"span",6),Rr(10,x6,2,0,"span",5),Ye(),wn(11,"br"),$e(12,"app-toggle-display",7)(13,"h3"),mt(14," Input rules: "),Ye(),$e(15,"div",8),wn(16,"app-editor",9,10),Ye()(),$e(18,"app-toggle-display",11)(19,"h3"),mt(20," Graph visualization: "),Ye(),$e(21,"div",12),wn(22,"app-graph-vis",null,13),$e(24,"button",4),Dn("click",function(){return r.showDialog()}),mt(25,"Show dialog"),Ye()(),wn(26,"br"),Ye(),$e(27,"app-toggle-display",14)(28,"h3"),mt(29," Rule list: "),Ye(),$e(30,"app-rule-list",15,16),Dn("calculateFromRule",function(d){return r.calculateFromRuleList(d)}),Ye()()}2&e&&(Yt(2),tn("value",r.defaultValue),Yt(6),tn("ngIf",!r.loading),Yt(1),tn("ngIf",r.loading),Yt(1),tn("ngIf",r.loading),Yt(6),tn("mode","liger"))},dependencies:[Rl,yp,c6,p6,em],styles:["textarea[_ngcontent-%COMP%]{width:600px;height:50px;overflow:auto;display:block;resize:none}div.ligergraphcontainer[_ngcontent-%COMP%]{max-width:800px;width:800px;height:650px}div.errorhandling[_ngcontent-%COMP%]{color:red;padding-bottom:10px}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}"]}),t})();const E6=["l1"],D6=["g1"];function S6(t,n){if(1&t){const e=Ds();$e(0,"button",6),Dn("click",function(){zn(e);const i=Qr();return bi(i.isFirstDivMinimized=!i.isFirstDivMinimized)}),mt(1," >> "),Ye()}}function T6(t,n){if(1&t){const e=Ds();$e(0,"button",6),Dn("click",function(){zn(e);const i=Qr();return bi(i.isSecondDivMinimized=!i.isSecondDivMinimized)}),mt(1," << "),Ye()}}const SR=function(t){return{display:t}};let AE,M6=(()=>{class t{constructor(){this.isFirstDivMinimized=!1,this.isSecondDivMinimized=!1}ngAfterViewInit(){this.liger.changeDetector.subscribe(e=>{this.glue.editor1.updateContent(e)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-glue-interface"]],viewQuery:function(e,r){if(1&e&&(Ln(E6,5),Ln(D6,5)),2&e){let i;Mn(i=In())&&(r.liger=i.first),Mn(i=In())&&(r.glue=i.first)}},decls:13,vars:8,consts:[[1,"container"],[1,"scrollable-div",3,"ngStyle"],[1,"toggle-button",3,"click"],["l1",""],["class","toggle-button-max",3,"click",4,"ngIf"],["g1",""],[1,"toggle-button-max",3,"click"]],template:function(e,r){1&e&&($e(0,"div",0)(1,"div",1)(2,"button",2),Dn("click",function(){return r.isFirstDivMinimized=!r.isFirstDivMinimized}),mt(3," << "),Ye(),wn(4,"app-liger-vis",null,3),Ye(),Rr(6,S6,2,0,"button",4),$e(7,"div",1)(8,"button",2),Dn("click",function(){return r.isSecondDivMinimized=!r.isSecondDivMinimized}),mt(9," >> "),Ye(),wn(10,"app-gswb-vis",null,5),Ye(),Rr(12,T6,2,0,"button",4),Ye()),2&e&&(Yt(1),tn("ngStyle",Hc(4,SR,r.isFirstDivMinimized?"none":"block")),Yt(5),tn("ngIf",r.isFirstDivMinimized),Yt(1),tn("ngStyle",Hc(6,SR,r.isSecondDivMinimized?"none":"block")),Yt(5),tn("ngIf",r.isSecondDivMinimized))},dependencies:[Rl,_C,CR,DR],styles:[".toggle-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:50px;height:100%;background-color:#fff;border:none;cursor:pointer;opacity:0;transition:opacity .3s;font-weight:700}.toggle-button[_ngcontent-%COMP%]:hover{opacity:.8;background:#00a9e0;color:#fff;border-radius:10px}.toggle-button-max[_ngcontent-%COMP%]{width:50px;height:100vh;font-weight:700;background-color:#fff;border:none;cursor:pointer}.toggle-button-max[_ngcontent-%COMP%]:hover{opacity:.2;background:#00a9e0;color:#fff;border-radius:10px}",".container[_ngcontent-%COMP%] {\n    padding: 15px;\n    display: flex;\n    flex-wrap: nowrap;\n  }\n  .scrollable-div[_ngcontent-%COMP%] {\n    position: relative;\n    flex: 1;\n    overflow-y: auto;\n    max-height: 100vh;\n    flex-basis: 50%;\n    padding-left: 60px\n  }\n\n  \n\n  @media (max-width: 1400px) {\n    .container[_ngcontent-%COMP%] {\n      flex-direction: column;\n    }\n    .scrollable-div[_ngcontent-%COMP%] {\n      max-height: none;\n      overflow-y: initial;\n    }\n  }"]}),t})();try{AE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{AE=!1}let ny,OE,Ku=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function v5(t){return t===jM}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!AE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Pt(Yf))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ry(t){return function I6(){if(null==ny&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ny=!0}))}finally{ny=ny||!1}return ny}()?t:!!t.capture}function nm(t){return t.composedPath?t.composedPath()[0]:t.target}function MR(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class J6 extends C{constructor(n,e){super()}schedule(n,e=0){return this}}const W0={setInterval(t,n,...e){const{delegate:r}=W0;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=W0;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class NE extends J6{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,e),this}requestAsyncId(n,e,r=0){return W0.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&W0.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i,r=!1;try{this.work(n)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,I(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const IR={now:()=>(IR.delegate||Date).now(),delegate:void 0};class iy{constructor(n,e=iy.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}iy.now=IR.now;class RE extends iy{constructor(n,e=iy.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}const kE=new RE(NE),e$=kE;function PE(t,n=kE){return it((e,r)=>{let i=null,s=null,d=null;const m=()=>{if(i){i.unsubscribe(),i=null;const R=s;s=null,r.next(R)}};function w(){const R=d+t,z=n.now();if(z<R)return i=this.schedule(void 0,R-z),void r.add(i);m()}e.subscribe(pt(r,R=>{s=R,d=n.now(),i||(i=n.schedule(w,t),r.add(i))},()=>{m(),r.complete()},void 0,()=>{s=i=null}))})}function LE(t){return kl((n,e)=>t<=e)}function qu(t){return it((n,e)=>{No(t).subscribe(pt(e,()=>e.complete(),H)),!e.closed&&n.subscribe(e)})}function ul(t){return null!=t&&"false"!=`${t}`}function lh(t,n=0){return function t$(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function AR(t){return Array.isArray(t)?t:[t]}function rm(t){return t instanceof ni?t.nativeElement:t}let OR=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),n$=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=rm(e);return new Ke(i=>{const d=this._observeElement(r).subscribe(i);return()=>{d.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new It,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return t.\u0275fac=function(e){return new(e||t)(Pt(OR))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),r$=(()=>{class t{get disabled(){return this._disabled}set disabled(e){this._disabled=ul(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=lh(e),this._subscribe()}constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new lr,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(PE(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(We(n$),We(ni),We(Yr))},t.\u0275dir=ln({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),NR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({providers:[OR]}),t})();const RR=new Set;let Cp,i$=(()=>{class t{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):a$}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function o$(t,n){if(!RR.has(t))try{Cp||(Cp=document.createElement("style"),n&&(Cp.nonce=n),Cp.setAttribute("type","text/css"),document.head.appendChild(Cp)),Cp.sheet&&(Cp.sheet.insertRule(`@media ${t} {body{ }}`,0),RR.add(t))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Ku),Pt(P_,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function a$(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let s$=(()=>{class t{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new It}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return kR(AR(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let s=Lb(kR(AR(e)).map(d=>this._registerQuery(d).observable));return s=Bb(s.pipe(Uc(1)),s.pipe(LE(1),PE(0))),s.pipe(St(d=>{const m={matches:!1,breakpoints:{}};return d.forEach(({matches:w,query:R})=>{m.matches=m.matches||w,m.breakpoints[R]=w}),m}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),s={observable:new Ke(d=>{const m=w=>this._zone.run(()=>d.next(w));return r.addListener(m),()=>{r.removeListener(m)}}).pipe(hv(r),St(({matches:d})=>({query:e,matches:d})),qu(this._destroySubject)),mql:r};return this._queries.set(e,s),s}}return t.\u0275fac=function(e){return new(e||t)(Pt(i$),Pt(Yr))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function kR(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}class c${constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new It,this._typeaheadSubscription=C.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new It,this.change=new It,n instanceof Mg&&(this._itemChangesSubscription=n.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ga(e=>this._pressedLetters.push(e)),PE(n),kl(()=>this._pressedLetters.length>0),St(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,d=r[s];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!n[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex+this._pageUpAndDown.delta,d=this._getItemsArray().length;this._setActiveItemByIndex(s<d?s:d-1,-1);break}return;default:return void((i||MR(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),r="number"==typeof n?n:e.indexOf(n);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+n*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const r=this._getItemsArray();if(r[n]){for(;this._skipPredicateFn(r[n]);)if(!r[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof Mg?this._items.toArray():this._items}}class d$ extends c${constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}function BR(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function VR(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const v$=new Kt("cdk-input-modality-detector-options"),y$={ignoreKeys:[18,17,224,91,16]},im=ry({passive:!0,capture:!0});let b$=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(e,r,i,s){this._platform=e,this._mostRecentTarget=null,this._modality=new cn(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(m=>m===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=nm(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(BR(d)?"keyboard":"mouse"),this._mostRecentTarget=nm(d))},this._onTouchstart=d=>{VR(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=nm(d))},this._options={...y$,...s},this.modalityDetected=this._modality.pipe(LE(1)),this.modalityChanged=this.modalityDetected.pipe(en()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,im),i.addEventListener("mousedown",this._onMousedown,im),i.addEventListener("touchstart",this._onTouchstart,im)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,im),document.removeEventListener("mousedown",this._onMousedown,im),document.removeEventListener("touchstart",this._onTouchstart,im))}}return t.\u0275fac=function(e){return new(e||t)(Pt(Ku),Pt(Yr),Pt(Di),Pt(v$,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const w$=new Kt("cdk-focus-monitor-default-options"),$0=ry({passive:!0,capture:!0});let zR=(()=>{class t{constructor(e,r,i,s,d){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new It,this._rootNodeFocusAndBlurListener=m=>{for(let R=nm(m);R;R=R.parentElement)"focus"===m.type?this._onFocus(m,R):this._onBlur(m,R)},this._document=s,this._detectionMode=d?.detectionMode||0}monitor(e,r=!1){const i=rm(e);if(!this._platform.isBrowser||1!==i.nodeType)return tt();const s=function O6(t){if(function A6(){if(null==OE){const t=typeof document<"u"?document.head:null;OE=!(!t||!t.createShadowRoot&&!t.attachShadow)}return OE}()){const n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(i)||this._getDocument(),d=this._elementInfo.get(i);if(d)return r&&(d.checkChildren=!0),d.subject;const m={checkChildren:r,subject:new It,rootNode:s};return this._elementInfo.set(i,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const r=rm(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const s=rm(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([m,w])=>this._originChanged(m,r,w)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),s=nm(e);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,$0),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,$0)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(qu(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,$0),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,$0),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,s)=>{(s===e||i.checkChildren&&s.contains(e))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let d=0;d<s.length;d++)if(s[d].contains(r))return!0;return!1}}return t.\u0275fac=function(e){return new(e||t)(Pt(Yr),Pt(Ku),Pt(b$),Pt(Di,8),Pt(w$,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),C$=(()=>{class t{constructor(e,r){this._elementRef=e,this._focusMonitor=r,this._focusOrigin=null,this.cdkFocusChange=new lr}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(We(ni),We(zR))},t.\u0275dir=ln({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),t})();const UR="cdk-high-contrast-black-on-white",GR="cdk-high-contrast-white-on-black",FE="cdk-high-contrast-active";let jR=(()=>{class t{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=nn(s$).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(FE,UR,GR),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(FE,UR):2===r&&e.add(FE,GR)}}}return t.\u0275fac=function(e){return new(e||t)(Pt(Ku),Pt(Di))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),x$=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(Pt(jR))},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({imports:[NR]}),t})();const E$=new Kt("cdk-dir-doc",{providedIn:"root",factory:function D$(){return nn(Di)}}),S$=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let om=(()=>{class t{constructor(e){this.value="ltr",this.change=new lr,e&&(this.value=function T$(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?S$.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Pt(E$,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),WR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({}),t})();const I$=new Kt("mat-sanity-checks",{providedIn:"root",factory:function M$(){return!0}});let Kc=(()=>{class t{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function N6(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return t.\u0275fac=function(e){return new(e||t)(Pt(jR),Pt(I$,8),Pt(Di))},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({imports:[WR,WR]}),t})();function Y0(t){return class extends t{get disabled(){return this._disabled}set disabled(n){this._disabled=ul(n)}constructor(...n){super(...n),this._disabled=!1}}}function BE(t,n){return class extends t{get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...e){super(...e),this.defaultColor=n,this.color=n}}}function XR(t){return class extends t{get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=ul(n)}constructor(...n){super(...n),this._disableRipple=!1}}}function A$(t,n=0){return class extends t{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?lh(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=n,this.defaultTabIndex=n}}}class N${constructor(n,e,r,i=!1){this._renderer=n,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const KR=ry({passive:!0,capture:!0});class R${constructor(){this._events=new Map,this._delegateEventHandler=n=>{const e=nm(n);e&&this._events.get(n.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(s=>s.handleEvent(n))})}}addHandler(n,e,r,i){const s=this._events.get(e);if(s){const d=s.get(r);d?d.add(i):s.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,KR)})}removeHandler(n,e,r){const i=this._events.get(n);if(!i)return;const s=i.get(e);s&&(s.delete(r),0===s.size&&i.delete(e),0===i.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,KR)))}}const qR={enterDuration:225,exitDuration:150},ZR=ry({passive:!0,capture:!0}),QR=["mousedown","touchstart"],JR=["mouseup","mouseleave","touchend","touchcancel"];class am{constructor(n,e,r,i){this._target=n,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=rm(r))}fadeInRipple(n,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...qR,...r.animation};r.centered&&(n=i.left+i.width/2,e=i.top+i.height/2);const d=r.radius||function P$(t,n,e){const r=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),i=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(r*r+i*i)}(n,e,i),m=n-i.left,w=e-i.top,R=s.enterDuration,z=document.createElement("div");z.classList.add("mat-ripple-element"),z.style.left=m-d+"px",z.style.top=w-d+"px",z.style.height=2*d+"px",z.style.width=2*d+"px",null!=r.color&&(z.style.backgroundColor=r.color),z.style.transitionDuration=`${R}ms`,this._containerElement.appendChild(z);const X=window.getComputedStyle(z),ve=X.transitionDuration,Ie="none"===X.transitionProperty||"0s"===ve||"0s, 0s"===ve||0===i.width&&0===i.height,Fe=new N$(this,z,r,Ie);z.style.transform="scale3d(1, 1, 1)",Fe.state=0,r.persistent||(this._mostRecentTransientRipple=Fe);let Qe=null;return!Ie&&(R||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const lt=()=>this._finishRippleTransition(Fe),Ze=()=>this._destroyRipple(Fe);z.addEventListener("transitionend",lt),z.addEventListener("transitioncancel",Ze),Qe={onTransitionEnd:lt,onTransitionCancel:Ze}}),this._activeRipples.set(Fe,Qe),(Ie||!R)&&this._finishRippleTransition(Fe),Fe}fadeOutRipple(n){if(2===n.state||3===n.state)return;const e=n.element,r={...qR,...n.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=rm(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,QR.forEach(r=>{am._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{JR.forEach(e=>{this._triggerElement.addEventListener(e,this,ZR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const e=n===this._mostRecentTransientRipple,{persistent:r}=n.config;n.state=1,!r&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==e&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){const e=BR(n),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!VR(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(QR.forEach(e=>am._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&JR.forEach(e=>n.removeEventListener(e,this,ZR)))}}am._eventManager=new R$;const ek=new Kt("mat-ripple-global-options");let VE=(()=>{class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,i,s,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new am(this,r,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return t.\u0275fac=function(e){return new(e||t)(We(ni),We(Yr),We(Ku),We(ek,8),We(kc,8))},t.\u0275dir=ln({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&Ha("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),t})(),tk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({imports:[Kc,Kc]}),t})();class HE{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class L$ extends HE{constructor(n,e,r,i,s){super(),this.component=n,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class zE extends HE{constructor(n,e,r,i){super(),this.templateRef=n,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class F$ extends HE{constructor(n){super(),this.element=n instanceof ni?n.nativeElement:n}}class B${constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof L$?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof zE?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof F$?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}let V$=(()=>{class t extends zE{constructor(e,r){super(e,r)}}return t.\u0275fac=function(e){return new(e||t)(We(zs),We(za))},t.\u0275dir=ln({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Zn]}),t})(),UE=(()=>{class t extends B${constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new lr,this.attachDomPortal=s=>{const d=s.element,m=this._document.createComment("dom-portal");s.setAttachedHost(this),d.parentNode.insertBefore(m,d),this._getRootNode().appendChild(d),this._attachedPortal=s,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(d,m)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=r.createComponent(s,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return t.\u0275fac=function(e){return new(e||t)(We(dg),We(za),We(Di))},t.\u0275dir=ln({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Zn]}),t})(),H$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({}),t})();const z$=["addListener","removeListener"],U$=["addEventListener","removeEventListener"],G$=["on","off"];function ay(t,n,e,r){if(T(e)&&(r=e,e=void 0),r)return ay(t,n,e).pipe(PC(r));const[i,s]=function $$(t){return T(t.addEventListener)&&T(t.removeEventListener)}(t)?U$.map(d=>m=>t[d](n,m,e)):function j$(t){return T(t.addListener)&&T(t.removeListener)}(t)?z$.map(nk(t,n)):function W$(t){return T(t.on)&&T(t.off)}(t)?G$.map(nk(t,n)):[];if(!i&&Ia(t))return Zi(d=>ay(d,n,e))(No(t));if(!i)throw new TypeError("Invalid event target");return new Ke(d=>{const m=(...w)=>d.next(1<w.length?w:w[0]);return i(m),()=>s(m)})}function nk(t,n){return e=>r=>t[e](n,r)}function rk(t=0,n,e=e$){let r=-1;return null!=n&&(xn(n)?e=n:r=n),new Ke(i=>{let s=function Y$(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;s<0&&(s=0);let d=0;return e.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},s)})}const sy={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=sy;r&&(n=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=n(s=>{e=void 0,t(s)});return new C(()=>e?.(i))},requestAnimationFrame(...t){const{delegate:n}=sy;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=sy;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class K$ extends RE{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class X$ extends NE{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=sy.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:s}=n;null!=e&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==e&&(sy.cancelAnimationFrame(e),n._scheduled=void 0)}});let GE,Z$=1;const X0={};function ik(t){return t in X0&&(delete X0[t],!0)}const Q$={setImmediate(t){const n=Z$++;return X0[n]=!0,GE||(GE=Promise.resolve()),GE.then(()=>ik(n)&&t()),n},clearImmediate(t){ik(t)}},{setImmediate:J$,clearImmediate:e9}=Q$,K0={setImmediate(...t){const{delegate:n}=K0;return(n?.setImmediate||J$)(...t)},clearImmediate(t){const{delegate:n}=K0;return(n?.clearImmediate||e9)(t)},delegate:void 0};new class n9 extends RE{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class t9 extends NE{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=K0.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:s}=n;null!=e&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==e&&(K0.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}});let jE=(()=>{class t{constructor(e,r,i){this._platform=e,this._change=new It,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,s=i.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(function o9(t,n=kE){return function i9(t){return it((n,e)=>{let r=!1,i=null,s=null,d=!1;const m=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const R=i;i=null,e.next(R)}d&&e.complete()},w=()=>{s=null,d&&e.complete()};n.subscribe(pt(e,R=>{r=!0,i=R,s||No(t(R)).subscribe(s=pt(e,m,w))},()=>{d=!0,(!r||!s||s.closed)&&e.complete()}))})}(()=>rk(t,n))}(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Pt(Ku),Pt(Yr),Pt(Di,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function s9(t,n){}const l9=function(t){return{animationDuration:t}},u9=function(t,n){return{value:t,params:n}};function c9(t,n){1&t&&Jh(0)}const ok=["*"],d9=["tabListContainer"],f9=["tabList"],h9=["tabListInner"],p9=["nextPaginator"],g9=["previousPaginator"],m9=["tabBodyWrapper"],v9=["tabHeader"];function y9(t,n){}function b9(t,n){1&t&&Rr(0,y9,0,0,"ng-template",14),2&t&&tn("cdkPortalOutlet",Qr().$implicit.templateLabel)}function _9(t,n){1&t&&mt(0),2&t&&Qm(Qr().$implicit.textLabel)}function w9(t,n){if(1&t){const e=Ds();$e(0,"div",6,7),Dn("click",function(){const i=zn(e),s=i.$implicit,d=i.index,m=Qr(),w=lu(1);return bi(m._handleClick(s,w,d))})("cdkFocusChange",function(i){const d=zn(e).index;return bi(Qr()._tabFocusChanged(i,d))}),wn(2,"span",8)(3,"div",9),$e(4,"span",10)(5,"span",11),Rr(6,b9,1,1,"ng-template",12),Rr(7,_9,1,1,"ng-template",null,13,ET),Ye()()()}if(2&t){const e=n.$implicit,r=n.index,i=lu(1),s=lu(8),d=Qr();Ha("mdc-tab--active",d.selectedIndex===r),tn("id",d._getTabLabelId(r))("ngClass",e.labelClass)("disabled",e.disabled)("fitInkBarToContent",d.fitInkBarToContent),Es("tabIndex",d._getTabIndex(r))("aria-posinset",r+1)("aria-setsize",d._tabs.length)("aria-controls",d._getTabContentId(r))("aria-selected",d.selectedIndex===r)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),Yt(3),tn("matRippleTrigger",i)("matRippleDisabled",e.disabled||d.disableRipple),Yt(3),tn("ngIf",e.templateLabel)("ngIfElse",s)}}function C9(t,n){if(1&t){const e=Ds();$e(0,"mat-tab-body",15),Dn("_onCentered",function(){return zn(e),bi(Qr()._removeTabBodyWrapperHeight())})("_onCentering",function(i){return zn(e),bi(Qr()._setTabBodyWrapperHeight(i))}),Ye()}if(2&t){const e=n.$implicit,r=n.index,i=Qr();Ha("mat-mdc-tab-body-active",i.selectedIndex===r),tn("id",i._getTabContentId(r))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",i.animationDuration)("preserveContent",i.preserveContent),Es("tabindex",null!=i.contentTabIndex&&i.selectedIndex===r?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(r))}}const x9={translateTab:yG("translateTab",[Nx("center, void, left-origin-center, right-origin-center",pp({transform:"none"})),Nx("left",pp({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Nx("right",pp({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Rx("* => left, * => right, left => center, right => center",Ox("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Rx("void => left-origin-center",[pp({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Ox("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Rx("void => right-origin-center",[pp({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Ox("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let E9=(()=>{class t extends UE{constructor(e,r,i,s){super(e,r,s),this._host=i,this._centeringSub=C.EMPTY,this._leavingSub=C.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(hv(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(We(dg),We(za),We(An(()=>ak)),We(Di))},t.\u0275dir=ln({type:t,selectors:[["","matTabBodyHost",""]],features:[Zn]}),t})(),D9=(()=>{class t{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,r,i){this._elementRef=e,this._dir=r,this._dirChangeSubscription=C.EMPTY,this._translateTabComplete=new It,this._onCentering=new lr,this._beforeCentering=new lr,this._afterLeavingCenter=new lr,this._onCentered=new lr(!0),this.animationDuration="500ms",this.preserveContent=!1,r&&(this._dirChangeSubscription=r.change.subscribe(s=>{this._computePositionAnimationState(s),i.markForCheck()})),this._translateTabComplete.pipe(en((s,d)=>s.fromState===d.fromState&&s.toState===d.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const r=this._isCenterPosition(e.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const r=this._getLayoutDirection();return"ltr"==r&&e<=0||"rtl"==r&&e>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(We(ni),We(om,8),We(os))},t.\u0275dir=ln({type:t,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),ak=(()=>{class t extends D9{constructor(e,r,i){super(e,r,i)}}return t.\u0275fac=function(e){return new(e||t)(We(ni),We(om,8),We(os))},t.\u0275cmp=dr({type:t,selectors:[["mat-tab-body"]],viewQuery:function(e,r){if(1&e&&Ln(UE,5),2&e){let i;Mn(i=In())&&(r._portalHost=i.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[Zn],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,r){1&e&&($e(0,"div",0,1),Dn("@translateTab.start",function(s){return r._onTranslateTabStarted(s)})("@translateTab.done",function(s){return r._translateTabComplete.next(s)}),Rr(2,s9,0,0,"ng-template",2),Ye()),2&e&&tn("@translateTab",Mw(3,u9,r._position,Hc(1,l9,r.animationDuration)))},dependencies:[E9],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[x9.translateTab]}}),t})();const S9=new Kt("MatTabContent");let T9=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(We(zs))},t.\u0275dir=ln({type:t,selectors:[["","matTabContent",""]],features:[$r([{provide:S9,useExisting:t}])]}),t})();const M9=new Kt("MatTabLabel"),sk=new Kt("MAT_TAB");let I9=(()=>{class t extends V${constructor(e,r,i){super(e,r),this._closestTab=i}}return t.\u0275fac=function(e){return new(e||t)(We(zs),We(za),We(sk,8))},t.\u0275dir=ln({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[$r([{provide:M9,useExisting:t}]),Zn]}),t})();const WE="mdc-tab-indicator--active",lk="mdc-tab-indicator--no-transition";class A9{constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar())}alignToElement(n){const e=this._items.find(i=>i.elementRef.nativeElement===n),r=this._currentItem;if(e!==r&&(r?.deactivateInkBar(),e)){const i=r?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(i),this._currentItem=e}}}function O9(t){return class extends t{constructor(...n){super(...n),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(n){const e=ul(n);this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(n){const e=this.elementRef.nativeElement;if(!n||!e.getBoundingClientRect||!this._inkBarContentElement)return void e.classList.add(WE);const r=e.getBoundingClientRect(),i=n.width/r.width,s=n.left-r.left;e.classList.add(lk),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${i})`),e.getBoundingClientRect(),e.classList.remove(lk),e.classList.add(WE),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(WE)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const n=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=n.createElement("span"),this._inkBarContentElement=n.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const R9=Y0(class{}),k9=O9((()=>{class t extends R9{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(We(ni))},t.\u0275dir=ln({type:t,features:[Zn]}),t})());let uk=(()=>{class t extends k9{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,r){2&e&&(Es("aria-disabled",!!r.disabled),Ha("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[Zn]}),t})();const P9=Y0(class{}),ck=new Kt("MAT_TAB_GROUP");let L9=(()=>{class t extends P9{get content(){return this._contentPortal}constructor(e,r){super(),this._viewContainerRef=e,this._closestTabGroup=r,this.textLabel="",this._contentPortal=null,this._stateChanges=new It,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new zE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(ck,8))},t.\u0275dir=ln({type:t,viewQuery:function(e,r){if(1&e&&Ln(zs,7),2&e){let i;Mn(i=In())&&(r._implicitContent=i.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[Zn,wa]}),t})(),$E=(()=>{class t extends L9{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275cmp=dr({type:t,selectors:[["mat-tab"]],contentQueries:function(e,r,i){if(1&e&&(Kf(i,T9,7,zs),Kf(i,I9,5)),2&e){let s;Mn(s=In())&&(r._explicitContent=s.first),Mn(s=In())&&(r.templateLabel=s.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[$r([{provide:sk,useExisting:t}]),Zn],ngContentSelectors:ok,decls:1,vars:0,template:function(e,r){1&e&&(Qh(),Rr(0,c9,1,0,"ng-template"))},encapsulation:2}),t})();const dk=ry({passive:!0});let V9=(()=>{class t{get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=ul(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=lh(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}constructor(e,r,i,s,d,m,w){this._elementRef=e,this._changeDetectorRef=r,this._viewportRuler=i,this._dir=s,this._ngZone=d,this._platform=m,this._animationMode=w,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new It,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new It,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new lr,this.indexFocused=new lr,d.runOutsideAngular(()=>{ay(e.nativeElement,"mouseleave").pipe(qu(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){ay(this._previousPaginator.nativeElement,"touchstart",dk).pipe(qu(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),ay(this._nextPaginator.nativeElement,"touchstart",dk).pipe(qu(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:tt("ltr"),r=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new d$(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Uc(1)).subscribe(i),rt(e,r,this._items.changes,this._itemsResized()).pipe(qu(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),i()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?oa:this._items.changes.pipe(hv(this._items),Vt(e=>new Ke(r=>this._ngZone.runOutsideAngular(()=>{const i=new ResizeObserver(s=>r.next(s));return e.forEach(s=>i.observe(s.elementRef.nativeElement)),()=>{i.disconnect()}}))),LE(1),kl(e=>e.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!MR(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const r=this._items.get(this.focusIndex);r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const r=this._tabListContainer.nativeElement;r.scrollLeft="ltr"==this._getLayoutDirection()?0:r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,r="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const r=this._items?this._items.toArray()[e]:null;if(!r)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:d}=r.elementRef.nativeElement;let m,w;"ltr"==this._getLayoutDirection()?(m=s,w=m+d):(w=this._tabListInner.nativeElement.offsetWidth-s,m=w-d);const R=this.scrollDistance,z=this.scrollDistance+i;m<R?this.scrollDistance-=R-m:w>z&&(this.scrollDistance+=Math.min(w-z,m-R))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=e?e.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,r){r&&null!=r.button&&0!==r.button||(this._stopInterval(),rk(650,100).pipe(qu(rt(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:i,distance:s}=this._scrollHeader(e);(0===s||s>=i)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(We(ni),We(os),We(jE),We(om,8),We(Yr),We(Ku),We(kc,8))},t.\u0275dir=ln({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),H9=(()=>{class t extends V9{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ul(e)}constructor(e,r,i,s,d,m,w){super(e,r,i,s,d,m,w),this._disableRipple=!1}_itemSelected(e){e.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(We(ni),We(os),We(jE),We(om,8),We(Yr),We(Ku),We(kc,8))},t.\u0275dir=ln({type:t,inputs:{disableRipple:"disableRipple"},features:[Zn]}),t})(),z9=(()=>{class t extends H9{constructor(e,r,i,s,d,m,w){super(e,r,i,s,d,m,w)}ngAfterContentInit(){this._inkBar=new A9(this._items),super.ngAfterContentInit()}}return t.\u0275fac=function(e){return new(e||t)(We(ni),We(os),We(jE),We(om,8),We(Yr),We(Ku),We(kc,8))},t.\u0275cmp=dr({type:t,selectors:[["mat-tab-header"]],contentQueries:function(e,r,i){if(1&e&&Kf(i,uk,4),2&e){let s;Mn(s=In())&&(r._items=s)}},viewQuery:function(e,r){if(1&e&&(Ln(d9,7),Ln(f9,7),Ln(h9,7),Ln(p9,5),Ln(g9,5)),2&e){let i;Mn(i=In())&&(r._tabListContainer=i.first),Mn(i=In())&&(r._tabList=i.first),Mn(i=In())&&(r._tabListInner=i.first),Mn(i=In())&&(r._nextPaginator=i.first),Mn(i=In())&&(r._previousPaginator=i.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(e,r){2&e&&Ha("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Zn],ngContentSelectors:ok,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,r){1&e&&(Qh(),$e(0,"button",0,1),Dn("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(s){return r._handlePaginatorPress("before",s)})("touchend",function(){return r._stopInterval()}),wn(2,"div",2),Ye(),$e(3,"div",3,4),Dn("keydown",function(s){return r._handleKeydown(s)}),$e(5,"div",5,6),Dn("cdkObserveContent",function(){return r._onContentChanges()}),$e(7,"div",7,8),Jh(9),Ye()()(),$e(10,"button",9,10),Dn("mousedown",function(s){return r._handlePaginatorPress("after",s)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),wn(12,"div",2),Ye()),2&e&&(Ha("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),tn("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),Yt(3),Ha("_mat-animation-noopable","NoopAnimations"===r._animationMode),Yt(7),Ha("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),tn("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[VE,r$],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2}),t})();const fk=new Kt("MAT_TABS_CONFIG");let U9=0;const G9=BE(XR(class{constructor(t){this._elementRef=t}}),"primary");let j9=(()=>{class t extends G9{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=ul(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=lh(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=lh(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=ul(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=ul(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&r.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,r,i,s){super(e),this._changeDetectorRef=r,this._animationMode=s,this._tabs=new Mg,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=C.EMPTY,this._tabLabelSubscription=C.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new lr,this.focusChange=new lr,this.animationDone=new lr,this.selectedTabChange=new lr(!0),this._groupId=U9++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination,this.dynamicHeight=!(!i||null==i.dynamicHeight)&&i.dynamicHeight,this.contentTabIndex=i?.contentTabIndex??null,this.preserveContent=!!i?.preserveContent}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const r=null==this._selectedIndex;if(!r){this.selectedTabChange.emit(this._createChangeEvent(e));const i=this._tabBodyWrapper.nativeElement;i.style.minHeight=i.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((i,s)=>i.isActive=s===e),r||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,i)=>{r.position=i-e,null!=this._selectedIndex&&0==r.position&&!r.origin&&(r.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const r=this._tabs.toArray();let i;for(let s=0;s<r.length;s++)if(r[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,i=r[s];break}!i&&r[e]&&Promise.resolve().then(()=>{r[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(hv(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const r=this._tabHeader;r&&(r.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const r=new W9;return r.index=e,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[e]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=rt(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,r,i){r.focusIndex=i,e.disabled||(this.selectedIndex=i)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,r){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=r)}}return t.\u0275fac=function(e){return new(e||t)(We(ni),We(os),We(fk,8),We(kc,8))},t.\u0275dir=ln({type:t,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[Zn]}),t})(),hk=(()=>{class t extends j9{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=ul(e),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(e){this._stretchTabs=ul(e)}constructor(e,r,i,s){super(e,r,i,s),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!i||null==i.fitInkBarToContent)&&i.fitInkBarToContent,this.stretchTabs=!i||null==i.stretchTabs||i.stretchTabs}}return t.\u0275fac=function(e){return new(e||t)(We(ni),We(os),We(fk,8),We(kc,8))},t.\u0275cmp=dr({type:t,selectors:[["mat-tab-group"]],contentQueries:function(e,r,i){if(1&e&&Kf(i,$E,5),2&e){let s;Mn(s=In())&&(r._allTabs=s)}},viewQuery:function(e,r){if(1&e&&(Ln(m9,5),Ln(v9,5)),2&e){let i;Mn(i=In())&&(r._tabBodyWrapper=i.first),Mn(i=In())&&(r._tabHeader=i.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:8,hostBindings:function(e,r){2&e&&(qm("--mat-tab-animation-duration",r.animationDuration),Ha("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[$r([{provide:ck,useExisting:t}]),Zn],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(e,r){1&e&&($e(0,"mat-tab-header",0,1),Dn("indexFocused",function(s){return r._focusChanged(s)})("selectFocusedIndex",function(s){return r.selectedIndex=s}),Rr(2,w9,9,17,"div",2),Ye(),$e(3,"div",3,4),Rr(5,C9,1,11,"mat-tab-body",5),Ye()),2&e&&(tn("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),Yt(2),tn("ngForOf",r._tabs),Yt(1),Ha("_mat-animation-noopable","NoopAnimations"===r._animationMode),Yt(2),tn("ngForOf",r._tabs))},dependencies:[cv,Ng,Rl,UE,VE,C$,ak,uk,z9],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-letter-spacing);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2}),t})();class W9{}let $9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({imports:[xC,Kc,H$,tk,NR,x$,Kc]}),t})();const Y9=["contextPruning"];function X9(t,n){if(1&t){const e=Ds();$m(0,10),Dn("click",function(){zn(e);const i=Qr(2).$implicit;return bi(Qr().toggleGlyphVisibility(i))}),wn(1,"div",18),Ym()}if(2&t){const e=Qr(2).$implicit,r=Qr();Yt(1),tn("innerHTML",r.sanitizeSvg(e.glyph),oD)}}function K9(t,n){1&t&&($m(0),$e(1,"div"),mt(2,"V"),Ye(),Ym())}const q9=function(t){return{minimized:t}};function Z9(t,n){if(1&t){const e=Ds();$e(0,"div",15),Dn("click",function(){zn(e);const i=Qr().$implicit;return bi(Qr().toggleGlyphVisibility(i))}),Rr(1,X9,2,1,"ng-container",16),Rr(2,K9,3,0,"ng-container",17),Ye()}if(2&t){const e=Qr().$implicit;tn("ngClass",Hc(3,q9,!e.showGlyph)),Yt(1),tn("ngIf",e.showGlyph),Yt(1),tn("ngIf",!e.showGlyph)}}const Q9=function(t,n){return{"user-message":t,"bot-message":n}};function J9(t,n){if(1&t&&($e(0,"div",11)(1,"span",12),mt(2),Ye(),$e(3,"pre",13),mt(4),Ye(),Rr(5,Z9,3,5,"div",14),Ye()),2&t){const e=n.$implicit;tn("ngClass",Mw(4,Q9,"User"===e.sender,"Bot"===e.sender)),Yt(2),Nl("",e.sender,":"),Yt(2),Qm(e.text),Yt(1),tn("ngIf",e.glyph)}}function e7(t,n){1&t&&($e(0,"div",19),wn(1,"div",20),Ye())}let t7=(()=>{class t{constructor(e,r,i){this.dataService=e,this.changeDetector=r,this.sanitizer=i,this.ruleString="",this.history=[],this.historyChange=new lr,this.axioms="",this.axiomsChanged=new lr,this.activeIndices=[],this.clearSelection=new lr,this.chatHistory=[],this.userInput="",this.meaningConstructors="",this.axiomCounter=0,this.context=[],this.loading=!1}sendMessage(){if(!this.userInput.trim())return;console.log("Gswb preferences: ",this.gswbPreferences.gswbPreferences),console.log("Vampire preferences: ",this.vampirePreferences.vampirePreferences),this.loading=!0;const e=this.userInput;var r="";this.chatHistory.push({text:e,sender:"User"});const i=0===this.vampirePreferences.vampirePreferences.logic_type?"fof":"tff",s={sentence:e,language:"en"};console.log("Stanza request: ",s),this.dataService.stanzaParse(s).subscribe(d=>{console.log("Stanza parse result: ",d);const w={sentence:JSON.stringify(d),ruleString:this.ruleString,logicType:i};this.dataService.ligerAnnotateStanza(w).subscribe(R=>{if(console.log("Liger response: ",R),!R.hasOwnProperty("graph")||!R.graph.hasOwnProperty("graphElements")||0===R.graph.graphElements.length)return this.chatHistory.push({text:"Syntactic analysis failed for this input!",sender:"Bot"}),void(this.loading=!1);if(!R.hasOwnProperty("meaningConstructors"))return this.chatHistory.push({text:"Could not find meaning constructors for this input!",sender:"Bot"}),void(this.loading=!1);{if(this.meaningConstructors=R.meaningConstructors,R.hasOwnProperty("axioms")&&null!=R.axioms){console.log("Axioms: ",R.axioms);let X="";for(let ge of R.axioms)""!==ge.trim()&&!this.axioms.includes(ge.trim())&&(X+=i+"(axiom"+this.axiomCounter+",axiom,"+ge+").\n",this.axiomCounter++);""!==X.trim()&&(""!=this.axioms&&(this.axioms+="\n"),this.axioms+=X+"\n",this.updateAxioms(this.axioms))}const z={premises:this.meaningConstructors,gswbPreferences:this.gswbPreferences.gswbPreferences};console.log("Gswb request: ",z),this.dataService.gswbDeduce(z).subscribe(X=>{let ge="";if(!(X.hasOwnProperty("solutions")&&X.solutions.length>0&&""!=X.solutions[0]))return this.chatHistory.push({text:"No semantic analyses found for this input!",sender:"Bot"}),void(this.loading=!1);{ge=X.solutions.join("\n");const Ie={text:e,context:this.context,axioms:this.axioms,hypothesis:ge,pruning:this.contextPruning.nativeElement.checked,active_indices:this.activeIndices,vampire_preferences:this.vampirePreferences.vampirePreferences};console.log("Vampire request: ",Ie),this.dataService.callVampire(Ie).subscribe(Fe=>{if(console.log("Vampire response: ",Fe),this.clearSelected(),Fe.hasOwnProperty("context")){const gn=Fe.context;this.history.push(gn),this.context=gn,this.historyChange.emit(this.history),this.changeDetector.detectChanges();var lt=null,Ze=null,bt=null;Object.keys(Fe.context_checks_mapping).length>0&&(r=Fe.context_checks_mapping[0].glyph,Ze=Fe.context_checks_mapping[0].informative,lt=Fe.context_checks_mapping[0].consistent,bt=Fe.context_checks_mapping[0].relevant),this.chatHistory.push({text:null===lt?"Okay ...":lt?Ze?bt?"I may not fully understand your input. I assume it is informative and consistent":"Your input is informative and consistent.":"Your input is not informative.":"Your input does not make sense.",sender:"Bot",glyph:r,showGlyph:!1})}this.loading=!1},Fe=>{console.log("An error occurred during the call to Vampire"),this.loading=!1})}},X=>{console.log("ERROR: ",X),this.chatHistory.push({text:"An error occurred during the semantic analysis",sender:"Bot"}),this.loading=!1})}},R=>{this.chatHistory.push({text:"An unknown error occurred.",sender:"Bot"}),console.log("ERROR: ",R),this.loading=!1})},d=>{this.chatHistory.push({text:"An error occurred during the stanza parsing",sender:"Bot"}),console.log("ERROR: ",d),this.loading=!1}),this.userInput=""}clearSelected(){this.clearSelection.emit(),console.log("Selection cleared in chat component")}sanitizeSvg(e){return this.sanitizer.bypassSecurityTrustHtml(e)}toggleGlyphVisibility(e){e.showGlyph=!e.showGlyph}updateAxioms(e){this.axioms=e,this.axiomsChanged.emit(this.axioms),console.log("Axioms updated in chat component:",this.axioms)}}return t.\u0275fac=function(e){return new(e||t)(We(Kg),We(os),We(kb))},t.\u0275cmp=dr({type:t,selectors:[["app-chat"]],viewQuery:function(e,r){if(1&e&&Ln(Y9,5),2&e){let i;Mn(i=In())&&(r.contextPruning=i.first)}},inputs:{ruleString:"ruleString",gswbPreferences:"gswbPreferences",vampirePreferences:"vampirePreferences",history:"history",axioms:"axioms",activeIndices:"activeIndices"},outputs:{historyChange:"historyChange",axiomsChanged:"axiomsChanged",clearSelection:"clearSelection"},decls:13,vars:3,consts:[[1,"pruning-container"],["type","checkbox","id","contextPruning"],["contextPruning",""],["for","contextPruning"],[1,"chat-container"],[1,"chat-history"],["class","message-container",3,"ngClass",4,"ngFor","ngForOf"],["class","loading-container",4,"ngIf"],[1,"chat-input"],["placeholder","Type your message...",3,"ngModel","ngModelChange","keyup.enter"],[3,"click"],[1,"message-container",3,"ngClass"],[1,"message-sender"],[1,"message-text"],["class","message-glyph",3,"ngClass","click",4,"ngIf"],[1,"message-glyph",3,"ngClass","click"],[3,"click",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],[1,"loading-container"],[1,"loading-spinner"]],template:function(e,r){1&e&&($e(0,"div",0),wn(1,"input",1,2),$e(3,"label",3),mt(4,"Pruning"),Ye()(),$e(5,"div",4)(6,"div",5),Rr(7,J9,6,7,"div",6),Rr(8,e7,2,0,"div",7),Ye(),$e(9,"div",8)(10,"input",9),Dn("ngModelChange",function(s){return r.userInput=s})("keyup.enter",function(){return r.sendMessage()}),Ye(),$e(11,"button",10),Dn("click",function(){return r.sendMessage()}),mt(12,"Send"),Ye()()()),2&e&&(Yt(7),tn("ngForOf",r.chatHistory),Yt(1),tn("ngIf",r.loading),Yt(2),tn("ngModel",r.userInput))},dependencies:[cv,Ng,Rl,jg,Wg,Lv],styles:[".chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-width:600px;margin:auto;border:1px solid #ccc;border-radius:8px;overflow:hidden;background:white}.chat-history[_ngcontent-%COMP%]{flex:1;padding:16px;overflow-y:auto;display:flex;flex-direction:column;background:#f9f9f9}.message-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;max-width:75%;padding:8px;border-radius:8px;margin:4px 0}.user-message[_ngcontent-%COMP%]{align-self:flex-end;text-align:right;background:#00a9e0;color:#fff}.bot-message[_ngcontent-%COMP%]{align-self:flex-start;text-align:left;background:#ddd;color:#000}.message-text[_ngcontent-%COMP%]{font-family:Courier New,Courier,Lucida Console,DejaVu Sans Mono,Monaco,Menlo,Consolas,monospace;white-space:pre-wrap;word-break:break-word;overflow-wrap:anywhere}.message-sender[_ngcontent-%COMP%]{font-size:12px;font-weight:700;display:block;margin-bottom:2px}.message-glyph[_ngcontent-%COMP%]{border-radius:4px;position:absolute;bottom:4px;right:4px;width:98px;height:82px;display:flex;align-items:center;justify-content:center;background:white;border:1px solid #ccc;cursor:pointer;transition:all .3s ease-in-out}.message-glyph.minimized[_ngcontent-%COMP%]{width:20px;height:20px;background:green;border-radius:4px;display:flex;align-items:center;justify-content:center;border:none;overflow:hidden;color:#fff;text-align:center}.message-glyph[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;background:white}.chat-input[_ngcontent-%COMP%]{display:flex;padding:12px;background:#fff;border-top:1px solid #ccc}.chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:4px}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px;padding:10px 16px;border:none;background:#00a9e0;color:#fff;border-radius:4px;cursor:pointer;font-weight:700}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0079b3}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:16px}.loading-spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid rgba(0,0,0,.1);border-top-color:#00a9e0;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),t})();class n7{}class i7{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(n=!1,e,r=!0,i){this._multiple=n,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new It,e&&e.length&&(n?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(r=>this._markSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...n){this._verifyValueAssignment(n),n.forEach(r=>this._unmarkSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...n){this._verifyValueAssignment(n);const e=this.selected,r=new Set(n);n.forEach(s=>this._markSelected(s)),e.filter(s=>!r.has(s)).forEach(s=>this._unmarkSelected(s));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();const e=this._hasQueuedChanges();return n&&this._emitChangeEvent(),e}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(n){if(this.compareWith){for(let e of this._selection)if(this.compareWith(n,e))return e;return n}return n}}class o7{constructor(){this.expansionModel=new i7(!0)}toggle(n){this.expansionModel.toggle(this._trackByValue(n))}expand(n){this.expansionModel.select(this._trackByValue(n))}collapse(n){this.expansionModel.deselect(this._trackByValue(n))}isExpanded(n){return this.expansionModel.isSelected(this._trackByValue(n))}toggleDescendants(n){this.expansionModel.isSelected(this._trackByValue(n))?this.collapseDescendants(n):this.expandDescendants(n)}collapseAll(){this.expansionModel.clear()}expandDescendants(n){let e=[n];e.push(...this.getDescendants(n)),this.expansionModel.select(...e.map(r=>this._trackByValue(r)))}collapseDescendants(n){let e=[n];e.push(...this.getDescendants(n)),this.expansionModel.deselect(...e.map(r=>this._trackByValue(r)))}_trackByValue(n){return this.trackBy?this.trackBy(n):n}}class a7 extends o7{constructor(n,e){super(),this.getChildren=n,this.options=e,this.options&&(this.trackBy=this.options.trackBy)}expandAll(){this.expansionModel.clear();const n=this.dataNodes.reduce((e,r)=>[...e,...this.getDescendants(r),r],[]);this.expansionModel.select(...n.map(e=>this._trackByValue(e)))}getDescendants(n){const e=[];return this._getDescendants(e,n),e.splice(1)}_getDescendants(n,e){n.push(e);const r=this.getChildren(e);Array.isArray(r)?r.forEach(i=>this._getDescendants(n,i)):Pb(r)&&r.pipe(Uc(1),kl(Boolean)).subscribe(i=>{for(const s of i)this._getDescendants(n,s)})}}const q0=new Kt("CDK_TREE_NODE_OUTLET_NODE");let ly=(()=>{class t{constructor(e,r){this.viewContainer=e,this._node=r}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(q0,8))},t.\u0275dir=ln({type:t,selectors:[["","cdkTreeNodeOutlet",""]]}),t})();class s7{constructor(n){this.$implicit=n}}let Z0=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(We(zs))},t.\u0275dir=ln({type:t,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),t})(),uf=(()=>{class t{get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}constructor(e,r){this._differs=e,this._changeDetectorRef=r,this._onDestroy=new It,this._levels=new Map,this.viewChange=new cn({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const e=this._nodeDefs.filter(r=>!r.when);this._defaultNodeDef=e[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let e;!function r7(t){return t&&"function"==typeof t.connect&&!(t instanceof FC)}(this._dataSource)?Pb(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=tt(this._dataSource)):e=this._dataSource.connect(this),e&&(this._dataSubscription=e.pipe(qu(this._onDestroy)).subscribe(r=>this.renderNodeChanges(r)))}renderNodeChanges(e,r=this._dataDiffer,i=this._nodeOutlet.viewContainer,s){const d=r.diff(e);d&&(d.forEachOperation((m,w,R)=>{if(null==m.previousIndex)this.insertNode(e[R],R,i,s);else if(null==R)i.remove(w),this._levels.delete(m.item);else{const z=i.get(w);i.move(z,R)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(e,r){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(s=>s.when&&s.when(r,e))||this._defaultNodeDef}insertNode(e,r,i,s){const d=this._getNodeDef(e,r),m=new s7(e);m.level=this.treeControl.getLevel?this.treeControl.getLevel(e):typeof s<"u"&&this._levels.has(s)?this._levels.get(s)+1:0,this._levels.set(e,m.level),(i||this._nodeOutlet.viewContainer).createEmbeddedView(d.template,m,r),qc.mostRecentTreeNode&&(qc.mostRecentTreeNode.data=e)}}return t.\u0275fac=function(e){return new(e||t)(We(ip),We(os))},t.\u0275cmp=dr({type:t,selectors:[["cdk-tree"]],contentQueries:function(e,r,i){if(1&e&&Kf(i,Z0,5),2&e){let s;Mn(s=In())&&(r._nodeDefs=s)}},viewQuery:function(e,r){if(1&e&&Ln(ly,7),2&e){let i;Mn(i=In())&&(r._nodeOutlet=i.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(e,r){1&e&&Xm(0,0)},dependencies:[ly],encapsulation:2}),t})(),qc=(()=>{class t{get role(){return"treeitem"}set role(e){this._elementRef.nativeElement.setAttribute("role",e)}get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(e,r){this._elementRef=e,this._tree=r,this._destroyed=new It,this._dataChanges=new It,t.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function l7(t){let n=t.parentElement;for(;n&&!u7(n);)n=n.parentElement;return n?n.classList.contains("cdk-nested-tree-node")?lh(n.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){t.mostRecentTreeNode===this&&(t.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return t.mostRecentTreeNode=null,t.\u0275fac=function(e){return new(e||t)(We(ni),We(uf))},t.\u0275dir=ln({type:t,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(e,r){2&e&&Es("aria-expanded",r.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),t})();function u7(t){const n=t.classList;return!(!n?.contains("cdk-nested-tree-node")&&!n?.contains("cdk-tree"))}let YE=(()=>{class t extends qc{constructor(e,r,i){super(e,r),this._differs=i}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);const e=this._tree.treeControl.getChildren(this.data);Array.isArray(e)?this.updateChildrenNodes(e):Pb(e)&&e.pipe(qu(this._destroyed)).subscribe(r=>this.updateChildrenNodes(r)),this.nodeOutlet.changes.pipe(qu(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(e){const r=this._getNodeOutlet();e&&(this._children=e),r&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,r.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const e=this._getNodeOutlet();e&&(e.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const e=this.nodeOutlet;return e&&e.find(r=>!r._node||r._node===this)}}return t.\u0275fac=function(e){return new(e||t)(We(ni),We(uf),We(ip))},t.\u0275dir=ln({type:t,selectors:[["cdk-nested-tree-node"]],contentQueries:function(e,r,i){if(1&e&&Kf(i,ly,5),2&e){let s;Mn(s=In())&&(r.nodeOutlet=s)}},hostAttrs:[1,"cdk-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["cdkNestedTreeNode"],features:[$r([{provide:qc,useExisting:t},{provide:q0,useExisting:t}]),Zn]}),t})(),KE=(()=>{class t{get recursive(){return this._recursive}set recursive(e){this._recursive=ul(e)}constructor(e,r){this._tree=e,this._treeNode=r,this._recursive=!1}_toggle(e){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),e.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(We(uf),We(qc))},t.\u0275dir=ln({type:t,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(e,r){1&e&&Dn("click",function(s){return r._toggle(s)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),t})(),d7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({}),t})();const f7=A$(Y0(qc));let pk=(()=>{class t extends f7{constructor(e,r,i){super(e,r),this.tabIndex=Number(i)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(We(ni),We(uf),y("tabindex"))},t.\u0275dir=ln({type:t,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[$r([{provide:qc,useExisting:t}]),Zn]}),t})(),gk=(()=>{class t extends Z0{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[$r([{provide:Z0,useExisting:t}]),Zn]}),t})(),mk=(()=>{class t extends YE{get disabled(){return this._disabled}set disabled(e){this._disabled=ul(e)}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=e??0}constructor(e,r,i,s){super(e,r,i),this._disabled=!1,this.tabIndex=Number(s)||0}ngOnInit(){super.ngOnInit()}ngAfterContentInit(){super.ngAfterContentInit()}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(We(ni),We(uf),We(ip),y("tabindex"))},t.\u0275dir=ln({type:t,selectors:[["mat-nested-tree-node"]],hostAttrs:[1,"mat-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex",node:["matNestedTreeNode","node"]},exportAs:["matNestedTreeNode"],features:[$r([{provide:YE,useExisting:t},{provide:qc,useExisting:t},{provide:q0,useExisting:t}]),Zn]}),t})(),Q0=(()=>{class t{constructor(e,r){this.viewContainer=e,this._node=r}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(q0,8))},t.\u0275dir=ln({type:t,selectors:[["","matTreeNodeOutlet",""]],features:[$r([{provide:ly,useExisting:t}])]}),t})(),vk=(()=>{class t extends uf{constructor(){super(...arguments),this._nodeOutlet=void 0}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275cmp=dr({type:t,selectors:[["mat-tree"]],viewQuery:function(e,r){if(1&e&&Ln(Q0,7),2&e){let i;Mn(i=In())&&(r._nodeOutlet=i.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[$r([{provide:uf,useExisting:t}]),Zn],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(e,r){1&e&&Xm(0,0)},dependencies:[Q0],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2}),t})(),yk=(()=>{class t extends KE{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[$r([{provide:KE,useExisting:t}]),Zn]}),t})(),p7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({imports:[d7,Kc,Kc]}),t})();class g7 extends n7{constructor(){super(...arguments),this._data=new cn([])}get data(){return this._data.value}set data(n){this._data.next(n)}connect(n){return rt(n.viewChange,this._data).pipe(St(()=>this.data))}disconnect(){}}const m7=["*"];let J0;function uy(t){return function v7(){if(void 0===J0&&(J0=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(J0=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return J0}()?.createHTML(t)||t}function bk(t){return Error(`Unable to find icon with the name "${t}"`)}function _k(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function wk(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class xp{constructor(n,e,r){this.url=n,this.svgText=e,this.options=r}}let e_=(()=>{class t{constructor(e,r,i,s){this._httpClient=e,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,s){return this._addSvgIconConfig(e,r,new xp(i,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,s){const d=this._sanitizer.sanitize(hi.HTML,i);if(!d)throw wk(i);const m=uy(d);return this._addSvgIconConfig(e,r,new xp("",m,s))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new xp(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const s=this._sanitizer.sanitize(hi.HTML,r);if(!s)throw wk(r);const d=uy(s);return this._addSvgIconSetConfig(e,new xp("",d,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(hi.RESOURCE_URL,e);if(!r)throw _k(e);const i=this._cachedIconsByUrl.get(r);return i?tt(t_(i)):this._loadSvgIconFromConfig(new xp(e,null)).pipe(ga(s=>this._cachedIconsByUrl.set(r,s)),St(s=>t_(s)))}getNamedSvgIcon(e,r=""){const i=Ck(r,e);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,e),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const d=this._iconSetConfigs.get(r);return d?this._getSvgFromIconSetConfigs(e,d):Rg(bk(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?tt(t_(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(St(r=>t_(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?tt(i):xA(r.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(nf(m=>{const R=`Loading icon set URL: ${this._sanitizer.sanitize(hi.RESOURCE_URL,d.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(R)),tt(null)})))).pipe(St(()=>{const d=this._extractIconWithNameFromAnySet(e,r);if(!d)throw bk(e);return d}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(s),m=this._extractSvgIconFromSet(d,e,s.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(ga(r=>e.svgText=r),St(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?tt(null):this._fetchIcon(e).pipe(ga(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const s=e.querySelector(`[id="${r}"]`);if(!s)return null;const d=s.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,i);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),i);const m=this._svgElementFromString(uy("<svg></svg>"));return m.appendChild(d),this._setSvgAttributes(m,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(uy("<svg></svg>")),i=e.attributes;for(let s=0;s<i.length;s++){const{name:d,value:m}=i[s];"id"!==d&&r.setAttribute(d,m)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,s=i?.withCredentials??!1;if(!this._httpClient)throw function y7(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const d=this._sanitizer.sanitize(hi.RESOURCE_URL,r);if(!d)throw _k(r);const m=this._inProgressUrlFetches.get(d);if(m)return m;const w=this._httpClient.get(d,{responseType:"text",withCredentials:s}).pipe(St(R=>uy(R)),Pg(()=>this._inProgressUrlFetches.delete(d)),Zt());return this._inProgressUrlFetches.set(d,w),w}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(Ck(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,e);if(s)return _7(s)?new xp(s.url,null,s.options):new xp(s,null)}}}return t.\u0275fac=function(e){return new(e||t)(Pt(y0,8),Pt(kb),Pt(Di,8),Pt(Pc))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function t_(t){return t.cloneNode(!0)}function Ck(t,n){return t+":"+n}function _7(t){return!(!t.url||!t.options)}const w7=BE(class{constructor(t){this._elementRef=t}}),C7=new Kt("MAT_ICON_DEFAULT_OPTIONS"),x7=new Kt("mat-icon-location",{providedIn:"root",factory:function E7(){const t=nn(Di),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),xk=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],D7=xk.map(t=>`[${t}]`).join(", "),S7=/^url\(['"]?#(.*?)['"]?\)$/;let T7=(()=>{class t extends w7{get inline(){return this._inline}set inline(e){this._inline=ul(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,i,s,d,m){super(e),this._iconRegistry=r,this._location=s,this._errorHandler=d,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=C.EMPTY,m&&(m.color&&(this.color=this.defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(d=>{s.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(D7),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)xk.forEach(d=>{const m=r[s],w=m.getAttribute(d),R=w?w.match(S7):null;if(R){let z=i.get(m);z||(z=[],i.set(m,z)),z.push({name:d,value:R[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Uc(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(We(ni),We(e_),y("aria-hidden"),We(x7),We(Pc),We(C7,8))},t.\u0275cmp=dr({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,r){2&e&&(Es("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ha("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Zn],ngContentSelectors:m7,decls:1,vars:0,template:function(e,r){1&e&&(Qh(),Jh(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),t})(),M7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({imports:[Kc,Kc]}),t})();const A7=["mat-icon-button",""],O7=["*"],Ek={capture:!0},Dk=["focus","click","mouseenter","touchstart"],cy="mat-button-ripple-uninitialized";let N7=(()=>{class t{constructor(){this._document=nn(Di,{optional:!0}),this._animationMode=nn(kc,{optional:!0}),this._globalRippleOptions=nn(ek,{optional:!0}),this._platform=nn(Ku),this._ngZone=nn(Yr),this._onInteraction=e=>{if(e.target===this._document)return;const i=e.target.closest(`[${cy}]`);i&&(i.removeAttribute(cy),this._appendRipple(i))},this._ngZone.runOutsideAngular(()=>{for(const e of Dk)this._document?.addEventListener(e,this._onInteraction,Ek)})}ngOnDestroy(){for(const e of Dk)this._document?.removeEventListener(e,this._onInteraction,Ek)}_appendRipple(e){if(!this._document)return;const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new R7(e,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);i.rippleConfig.centered=e.hasAttribute("mat-icon-button"),new am(i,this._ngZone,r,this._platform).setupTriggerEvents(e),e.append(r)}_createMatRipple(e){if(!this._document)return;e.querySelector(".mat-mdc-button-ripple")?.remove(),e.removeAttribute(cy);const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new VE(new ni(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return i._isInitialized=!0,i.trigger=e,e.append(r),i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class R7{constructor(n,e,r){this._button=n,this._globalRippleOptions=e,this._setRippleConfig(e,r)}_setRippleConfig(n,e){this.rippleConfig=n||{},"NoopAnimations"===e&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const k7=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],P7=BE(Y0(XR(class{constructor(t){this._elementRef=t}})));let L7=(()=>{class t extends P7{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(e){this._ripple=e}constructor(e,r,i,s){super(e),this._platform=r,this._ngZone=i,this._animationMode=s,this._focusMonitor=nn(zR),this._rippleLoader=nn(N7),this._isFab=!1;const d=e.nativeElement.classList;for(const m of k7)this._hasHostAttributes(m.selector)&&m.mdcClasses.forEach(w=>{d.add(w)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...e){return e.some(r=>this._elementRef.nativeElement.hasAttribute(r))}}return t.\u0275fac=function(e){X_()},t.\u0275dir=ln({type:t,features:[Zn,wa]}),t})(),V7=(()=>{class t extends L7{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(e,r,i,s){super(e,r,i,s)}}return t.\u0275fac=function(e){return new(e||t)(We(ni),We(Ku),We(Yr),We(kc,8))},t.\u0275cmp=dr({type:t,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,r){2&e&&(Es("disabled",r.disabled||null),Ha("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Zn],attrs:A7,ngContentSelectors:O7,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(Qh(),wn(0,"span",0),Jh(1),wn(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),t})(),H7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({imports:[Kc,tk,Kc]}),t})();const z7=function(){return{border:"none","padding-left":"10px"}};function U7(t,n){1&t&&($e(0,"ul",7),Xm(1,8),Ye()),2&t&&tn("ngStyle",hb(1,z7))}const G7=function(){return{border:"2px solid #00a9e0","border-radius":"5px","padding-left":"10px","margin-bottom":"10px",width:"100%"}};function j7(t,n){if(1&t&&($e(0,"mat-nested-tree-node")(1,"li",3)(2,"div",4)(3,"button",5)(4,"mat-icon"),mt(5),Ye()(),mt(6),Ye(),Rr(7,U7,2,2,"ul",6),Ye()()),2&t){const e=n.$implicit,r=Qr();Yt(1),tn("ngStyle",hb(4,G7)),Yt(4),Nl(" ",r.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),Yt(1),Nl(" ",e.name," "),Yt(1),tn("ngIf",r.treeControl.isExpanded(e))}}const W7=function(t){return{selected:t}},$7=function(){return{"padding-left":"10px","padding-right":"10px",width:"100%"}};function Y7(t,n){if(1&t){const e=Ds();$e(0,"mat-tree-node")(1,"li",9),Dn("dblclick",function(){const s=zn(e).$implicit;return bi(Qr().onNodeDoubleClick(s))}),$e(2,"div",10),Dn("click",function(){const s=zn(e).$implicit;return bi(Qr().onNodeSelect(s))}),wn(3,"button",11),mt(4),Ye()()()}if(2&t){const e=n.$implicit,r=Qr();Yt(1),qm("background-color",e===r.selectedNode?"#00a9e0":"transparent")("color",e===r.selectedNode?"white":"black"),tn("ngClass",Hc(7,W7,e===r.selectedNode))("ngStyle",hb(9,$7)),Yt(3),Nl(" ",e.name," ")}}let Sk=(()=>{class t{constructor(){this.fileTree=[],this.nodeSelected=new lr,this.nodeDoubleClicked=new lr,this.selectedNode=null,this.treeControl=new a7(e=>e.children),this.dataSource=new g7}ngOnInit(){this.fileTree?this.updateTreeData():console.error("File tree data not available")}ngOnChanges(e){e.fileTree&&this.updateTreeData()}updateTreeData(){if(this.fileTree&&Array.isArray(this.fileTree)){const e=this.sortTree(this.fileTree);this.dataSource.data=e,this.treeControl.dataNodes=e}else console.error("fileTree is not initialized or empty")}onNodeSelect(e){e?e.isDirectory?console.log("Cannot select directories."):(this.selectedNode=e,this.nodeSelected.emit(e.path)):console.error("Node is undefined or invalid")}onNodeDoubleClick(e){e.isDirectory||this.nodeDoubleClicked.emit(e.path)}sortTree(e){return e.map(r=>(r.children&&r.children.length>0&&(r.children=this.sortTree(r.children)),r)).sort((r,i)=>r.isDirectory&&!i.isDirectory?-1:!r.isDirectory&&i.isDirectory?1:r.name.localeCompare(i.name))}isDirectory(e,r){return r?.isDirectory??!1}isFile(e,r){return!r?.isDirectory}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-file-tree"]],inputs:{fileTree:"fileTree"},outputs:{nodeSelected:"nodeSelected",nodeDoubleClicked:"nodeDoubleClicked"},features:[wa],decls:4,vars:4,consts:[[1,"filetreecontainer"],[3,"dataSource","treeControl"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"tree-node-wrapper","folder-node",3,"ngStyle"],[1,"mat-tree-node"],["mat-icon-button","","matTreeNodeToggle",""],["class","folder-contents",3,"ngStyle",4,"ngIf"],[1,"folder-contents",3,"ngStyle"],["matTreeNodeOutlet",""],[1,"tree-node-wrapper","file-node",3,"ngClass","ngStyle","dblclick"],[3,"click"],["mat-icon-button","","disabled",""]],template:function(e,r){1&e&&($e(0,"div",0)(1,"mat-tree",1),Rr(2,j7,8,5,"mat-nested-tree-node",2),Rr(3,Y7,5,10,"mat-tree-node",2),Ye()()),2&e&&(Yt(1),tn("dataSource",r.dataSource)("treeControl",r.treeControl),Yt(1),tn("matTreeNodeDefWhen",r.isDirectory),Yt(1),tn("matTreeNodeDefWhen",r.isFile))},dependencies:[cv,Rl,_C,mk,gk,yk,vk,pk,Q0,T7,V7],styles:["[_ngcontent-%COMP%]:root{--highlight-color: #00a9e0}.mat-tree-node[_ngcontent-%COMP%]{cursor:pointer;padding:5px;display:flex;align-items:center;width:100%;box-sizing:border-box}.mat-tree-node[_ngcontent-%COMP%]:hover{background-color:#00a9e040}.tree-node-wrapper[_ngcontent-%COMP%]{display:block;width:100%;margin:0;box-sizing:border-box}.folder-node[_ngcontent-%COMP%]{margin-bottom:10px}.folder-contents[_ngcontent-%COMP%]{margin-top:5px;border:2px solid var(--highlight-color);border-radius:5px;padding:10px;box-sizing:border-box}li[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;box-sizing:border-box}div.filetreecontainer[_ngcontent-%COMP%]{width:760px;border:2px solid var(--highlight-color);border-radius:5px;padding:10px;box-sizing:border-box;overflow:hidden}"]}),t})();const X7=["grammarListSelector"],K7=["statusMessage"],q7=["toggleDisplayComponent"];let qE=(()=>{class t{constructor(e,r){this.dataService=e,this.cd=r,this.dataEmitter=new lr,this.grammarList=[],this.defaultRules="./liger_resources/rules/simple_ud.txt",this.grammarsDirectory="./liger_resources/rules",this.currentStatusMessage="",this.grammarFileTree=[],this.selectedPath="",this.rules=""}ngOnInit(){this.getGrammars(this.grammarsDirectory),console.log("Initial file tree:",this.grammarFileTree),this.selectedPath=this.defaultRules,this.updateGrammar(),this.sendRules()}ngAfterViewInit(){this.toggleDisplayComponent?this.toggleDisplayComponent.isHidden=!0:console.error("toggleDisplayComponent is still undefined in ngAfterViewInit.")}onFileSelected(e){console.log("Selected path from file tree:",e),this.selectedPath=e}updateGrammar(){this.selectedPath?(console.log("Changing rules to: "+this.selectedPath),this.dataService.loadRules({grammar:this.selectedPath}).subscribe(e=>{console.log(e),e.hasOwnProperty("grammar")?(console.log("Successfully loaded rules: "+this.selectedPath),this.currentStatusMessage="Currently loaded rules: "+this.selectedPath,this.cd.detectChanges(),this.toggleDisplayComponent.isHidden=!0,this.rules=e.grammar,this.sendRules()):this.currentStatusMessage="Failed to load grammar: "+this.selectedPath},e=>{console.log("ERROR: ",e),this.currentStatusMessage="Failed to load rules: "+this.selectedPath})):console.error("No file or folder selected!")}getGrammars(e){console.log("Fetching grammars via POST request"),this.dataService.getFileTree({grammar:e}).subscribe(r=>{console.log(r),r.hasOwnProperty("children")&&(console.log("Grammar file tree:",r.children),this.grammarFileTree=this.buildFileTree(r.children))},r=>{console.error("Failed to fetch grammars:",r)})}buildFileTree(e){return e.map(r=>({name:r.name,path:r.path,isDirectory:r.isDirectory||r.directory,children:r.children&&r.children.length>0?this.buildFileTree(r.children):[]}))}sendRules(){this.dataEmitter.emit(this.rules)}}return t.\u0275fac=function(e){return new(e||t)(We(Kg),We(os))},t.\u0275cmp=dr({type:t,selectors:[["app-rule-loader"]],viewQuery:function(e,r){if(1&e&&(Ln(X7,5),Ln(K7,5),Ln(q7,5)),2&e){let i;Mn(i=In())&&(r.grammarListSelector=i.first),Mn(i=In())&&(r.statusMessageDiv=i.first),Mn(i=In())&&(r.toggleDisplayComponent=i.first)}},outputs:{dataEmitter:"dataEmitter"},decls:9,vars:2,consts:[[1,"status-message"],["statusMessage",""],["type","fileTree","showText","Select file","hideText","Hide file selection"],["toggleDisplayComponent",""],[3,"fileTree","nodeSelected","nodeDoubleClicked"],[3,"click"]],template:function(e,r){1&e&&($e(0,"div",0,1),mt(2),Ye(),$e(3,"app-toggle-display",2,3)(5,"div")(6,"app-file-tree",4),Dn("nodeSelected",function(s){return r.onFileSelected(s)})("nodeDoubleClicked",function(){return r.updateGrammar()}),Ye(),$e(7,"button",5),Dn("click",function(){return r.updateGrammar()}),mt(8,"Update"),Ye()()()),2&e&&(Yt(2),Nl(" ",r.currentStatusMessage,"\n"),Yt(4),tn("fileTree",r.grammarFileTree))},dependencies:[em,Sk],styles:[".status-message[_ngcontent-%COMP%]{color:red}"]}),t})();function Z7(t,n){if(1&t){const e=Ds();$e(0,"div",5),Dn("click",function(){const s=zn(e).index,d=Qr().index,m=Qr();return bi(d===m.history.length-1?m.toggleSelection(s):null)}),mt(1),Ye()}if(2&t){const e=n.$implicit,r=n.index,i=Qr().index,s=Qr();Ha("selected",s.isSelected(r)&&i===s.history.length-1),Yt(1),Nl(" ",e.box," ")}}function Q7(t,n){if(1&t&&($e(0,"div",3),Rr(1,Z7,2,3,"div",4),Ye()),2&t){const e=n.$implicit;Yt(1),tn("ngForOf",e)}}let J7=(()=>{class t{constructor(){this.history=[],this.selectionChanged=new lr,this.selectedIndices=[]}addHistoryEntry(e){this.history.push(e),this.selectedIndices=[],this.emitSelection()}clearHistory(){this.history=[],this.selectedIndices=[],this.emitSelection()}toggleSelection(e){this.selectedIndices.includes(e)?this.selectedIndices=this.selectedIndices.filter(r=>r!==e):this.selectedIndices.push(e),this.emitSelection()}selectAllLastEntry(){this.history.length>0&&(this.selectedIndices=this.history[this.history.length-1].map((r,i)=>i),this.emitSelection())}clearSelection(){this.selectedIndices=[],this.selectionChanged.emit(this.selectedIndices),console.log("Selection cleared in history component",this.selectedIndices)}isSelected(e){return this.selectedIndices.includes(e)}emitSelection(){this.selectionChanged.emit(this.selectedIndices)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-history"]],inputs:{history:"history"},outputs:{selectionChanged:"selectionChanged"},decls:4,vars:1,consts:[[1,"history-container"],["class","history-row",4,"ngFor","ngForOf"],[3,"click"],[1,"history-row"],["class","history-box",3,"selected","click",4,"ngFor","ngForOf"],[1,"history-box",3,"click"]],template:function(e,r){1&e&&($e(0,"div",0),Rr(1,Q7,2,1,"div",1),Ye(),$e(2,"button",2),Dn("click",function(){return r.selectAllLastEntry()}),mt(3,"Select All (Last Entry)"),Ye()),2&e&&(Yt(1),tn("ngForOf",r.history))},dependencies:[Ng],styles:[".history-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-height:400px;overflow-y:auto;border:1px solid #ccc;padding:10px;width:80%;margin:auto}.history-row[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-bottom:10px}.history-box[_ngcontent-%COMP%]{font-family:monospace;white-space:pre-wrap;text-align:center;background-color:#f4f4f4;padding:10px;border-radius:5px;border:1px solid #ddd;min-width:100px;cursor:pointer;transition:background-color .2s ease-in-out,border-color .2s ease-in-out}.history-box.selected[_ngcontent-%COMP%]{background-color:#add8e6;border-color:#00f;font-weight:700}.history-box[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}button[_ngcontent-%COMP%]{margin-top:10px;padding:8px 15px;font-size:14px;cursor:pointer;border:1px solid #007bff;background-color:#007bff;color:#fff;border-radius:4px;transition:background-color .2s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]}),t})(),Tk=(()=>{class t{constructor(e){this.fb=e,this.vampirePreferences={logic_type:0,model_building:!0,max_duration:10,layered:!1},this.vampirePreferencesForm=this.fb.group({logic_type:[0,Mv.required],model_building:[!0],max_duration:[10,Mv.required],layered:[!1]}),this.vampirePreferencesForm.valueChanges.subscribe(()=>{this.onSubmit()})}onSubmit(){const e={logic_type:this.vampirePreferencesForm.value.logic_type,model_building:this.vampirePreferencesForm.value.model_building,max_duration:this.vampirePreferencesForm.value.max_duration,layered:this.vampirePreferencesForm.value.layered};console.log("Gswb preferences: ",e),this.vampirePreferences=e}updateFormFromPreferences(e){this.vampirePreferencesForm.patchValue({logic_type:e.logic_type,model_building:e.model_building,max_duration:e.max_duration,layered:e.layered})}}return t.\u0275fac=function(e){return new(e||t)(We(SO))},t.\u0275cmp=dr({type:t,selectors:[["app-inference-settings"]],decls:51,vars:1,consts:[["novalidate","",3,"formGroup","ngSubmit"],["for","logic_type"],["formControlName","logic_type","id","logic_type","name","logic_type"],["value","0"],["value","1"],["for","duration"],["formControlName","max_duration","id","duration","name","duration"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","15"],["value","30"],["value","45"],["value","60"],["for","model-building"],["type","checkbox","formControlName","model_building","id","model-building","name","model-building"],["for","layered"],["type","checkbox","formControlName","layered","id","layered","name","layered"]],template:function(e,r){1&e&&($e(0,"h3"),mt(1,"Settings:"),Ye(),$e(2,"form",0),Dn("ngSubmit",function(){return r.onSubmit()}),$e(3,"div")(4,"label",1),mt(5,"Logic type:"),Ye(),$e(6,"select",2)(7,"option",3),mt(8,"first-order logic (fof)"),Ye(),$e(9,"option",4),mt(10,"typed first-order logic (tff)"),Ye()()(),$e(11,"div")(12,"label",5),mt(13,"Proof search duration:"),Ye(),$e(14,"select",6)(15,"option",4),mt(16,"1s"),Ye(),$e(17,"option",7),mt(18,"2s"),Ye(),$e(19,"option",8),mt(20,"3s"),Ye(),$e(21,"option",9),mt(22,"4s"),Ye(),$e(23,"option",10),mt(24,"5s"),Ye(),$e(25,"option",11),mt(26,"6s"),Ye(),$e(27,"option",12),mt(28,"7s"),Ye(),$e(29,"option",13),mt(30,"8s"),Ye(),$e(31,"option",14),mt(32,"9s"),Ye(),$e(33,"option",15),mt(34,"10s"),Ye(),$e(35,"option",16),mt(36,"15s"),Ye(),$e(37,"option",17),mt(38,"30s"),Ye(),$e(39,"option",18),mt(40,"45s"),Ye(),$e(41,"option",19),mt(42,"60s"),Ye()()(),$e(43,"div")(44,"label",20),wn(45,"input",21),mt(46," Try model building "),Ye()(),$e(47,"div")(48,"label",22),wn(49,"input",23),mt(50," Layered analysis "),Ye()()()),2&e&&(Yt(2),tn("formGroup",r.vampirePreferencesForm))},dependencies:[bx,xx,Dx,n0,Bv,Wg,ux,Fv,p0],styles:["form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}div[_ngcontent-%COMP%]{flex-basis:50%;margin-bottom:10px}label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:5px}select[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{width:auto;margin-right:5px}"]}),t})();const eY=["gswbPrefs"],tY=["vampirePrefs"],nY=["chat"],rY=["history"],iY=["axiomEdit"];function oY(t,n){if(1&t){const e=Ds();$e(0,"mat-tab-group",8),Dn("selectedIndexChange",function(i){return zn(e),bi(Qr().onTabChange(i))}),$e(1,"mat-tab",9)(2,"div",10)(3,"app-chat",11),Dn("historyChange",function(i){return zn(e),bi(Qr().updateHistory(i))})("clearSelection",function(){return zn(e),bi(Qr().onClearSelection())})("axiomsChanged",function(i){return zn(e),bi(Qr().updateAxioms(i))}),mt(4," >"),Ye()()(),$e(5,"mat-tab",12)(6,"div",10)(7,"app-history",13),Dn("selectionChanged",function(i){return zn(e),bi(Qr().onSelectionChanged(i))}),Ye()()(),$e(8,"mat-tab",14)(9,"div",10)(10,"div",15),wn(11,"app-editor",16,17),Ye()()()()}if(2&t){const e=Qr(),r=lu(11),i=lu(13);Yt(3),tn("ruleString",e.ruleFile)("axioms",e.axioms)("gswbPreferences",r)("vampirePreferences",i)("history",e.history)("activeIndices",e.selectedElements),Yt(4),tn("history",e.history),Yt(4),tn("mode","vampire")}}let aY=(()=>{class t{constructor(e){this.cdRef=e,this.ruleFile="",this.history=[],this.axioms="tff(fast_type, type, fast: ($i * $int) > $o).\ntff(kind_type, type, kind: ($i * $i) > $o).\ntff(arg1_type, type, arg1: ($i * $i) > $o).\ntff(arg2_type, type, arg2: ($i * $i) > $o).\ntff(computer_type, type, computer: $i > $o).\ntff(be_type, type, be: $i > $o).\n\ntff(pn_type1, type, 'pc-6082': $i).\ntff(pn_type2, type, 'itel-zx': $i).\n",this.selectedElements=[],this.tabsInitialized=!1}ngAfterViewInit(){this.cdRef.detectChanges(),this.gswbPreferences?(this.gswbPreferences.gswbPreferences={prover:1,debugging:!1,outputstyle:4,parseSem:!1,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:!1,naturalDeductionStyle:0},this.gswbPreferences.updateFormFromPreferences(this.gswbPreferences.gswbPreferences)):console.error("ERROR: `gswbPreferences` ViewChild not initialized!"),this.vampirePreferences?(this.vampirePreferences.vampirePreferences={logic_type:1,model_building:!0,max_duration:10,layered:!1},this.vampirePreferences.updateFormFromPreferences(this.vampirePreferences.vampirePreferences)):console.error("ERROR: `vampirePreferences` ViewChild not initialized!"),this.tabsInitialized=!0}updateData(e){this.ruleFile=e}updateHistory(e){console.log("History updated:",e),this.history=e}onSelectionChanged(e){this.selectedElements=e,console.log("Selected elements updated in parent:",this.selectedElements)}onClearSelection(){this.selectedElements=[],this.historyComponent&&this.historyComponent.clearSelection(),console.log("Called onClearSelection in parent component")}onTabChange(e){setTimeout(()=>{this.editor?.getContent&&(console.log("Updating axioms to: ",this.editor.getContent()),this.axioms=this.editor.getContent(),this.editor.codeMirrorInstance.refresh())})}updateAxioms(e){this.axioms=e,this.editor&&(this.editor.updateContent(e),this.editor.codeMirrorInstance.refresh())}}return t.\u0275fac=function(e){return new(e||t)(We(os))},t.\u0275cmp=dr({type:t,selectors:[["app-inference-vis"]],viewQuery:function(e,r){if(1&e&&(Ln(eY,5),Ln(tY,5),Ln(nY,5),Ln(rY,5),Ln(iY,5)),2&e){let i;Mn(i=In())&&(r.gswbPreferences=i.first),Mn(i=In())&&(r.vampirePreferences=i.first),Mn(i=In())&&(r.chatComponent=i.first),Mn(i=In())&&(r.historyComponent=i.first),Mn(i=In())&&(r.editor=i.first)}},decls:15,vars:1,consts:[[1,"container"],["type","fileTree","showText","Show settings","hideText","Hide settings"],["toggleDisplayComponent",""],[1,"grammar-loader-container"],[3,"dataEmitter"],["gswbPrefs",""],["vampirePrefs",""],[3,"selectedIndexChange",4,"ngIf"],[3,"selectedIndexChange"],["label","Chat"],[1,"tab-content"],[3,"ruleString","axioms","gswbPreferences","vampirePreferences","history","activeIndices","historyChange","clearSelection","axiomsChanged"],["label","History"],[3,"history","selectionChanged"],["label","Axioms"],[1,"editor-restr"],[3,"mode"],["axiomEdit",""]],template:function(e,r){1&e&&($e(0,"div",0)(1,"h1"),mt(2,"Semantic parser settings"),Ye(),$e(3,"app-toggle-display",1,2)(5,"div",3)(6,"div")(7,"h2"),mt(8,"Rule file selection:"),Ye(),$e(9,"app-rule-loader",4),Dn("dataEmitter",function(s){return r.updateData(s)}),Ye()()(),wn(10,"app-gswb-settings",null,5)(12,"app-inference-settings",null,6),Ye()(),Rr(14,oY,13,8,"mat-tab-group",7)),2&e&&(Yt(14),tn("ngIf",r.tabsInitialized))},dependencies:[Rl,$E,hk,yp,em,G0,t7,qE,J7,Tk],styles:["mat-tab-group[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.tab-content[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:16px;overflow:auto;background:#f5f5f5;height:calc(85vh - 48px);width:100%;flex-shrink:0}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}app-chat[_ngcontent-%COMP%]{flex:1;min-height:0}.grammar-loader-container[_ngcontent-%COMP%]{padding:5px;display:flex;gap:16px}.container[_ngcontent-%COMP%]{padding:15px}.editor-restr[_ngcontent-%COMP%]{flex:1;width:800px;justify-content:center;align-items:center}"]}),t})();const sY=["graphContainer"],lY=["subgraphDialog"];js().use(k0()),js().use(xR());let uY=(()=>{class t{constructor(){this.style=[{selector:'node[node_type="rule"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow red","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}],this.defaultWidth="800px",this.defaultHeight="600px"}ngOnInit(){this.cy=js()({container:document.getElementById("cy"),style:this.style,layout:{name:"dagre"}})}makePopper(e){const r=e.popperRef();e.tippy=ty(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;return s.hasOwnProperty("rule")&&(i.innerHTML=i.innerHTML+"Rule "+s.id+": "+s.rule+"at line: "+s.line+"<br>"),i},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("rule")&&(this.makePopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}renderGraph(e){this.cy=js()({container:document.getElementById(this.graphID),elements:e,style:this.calculateStyle(e),layout:{name:"dagre"}}),this.createAndBindPoppers(),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy)}calculateStyle(e){let r=e.filter(z=>z.data.hasOwnProperty("rule"));r.sort((z,X)=>z.data.id>X.data.id?1:-1),console.log("Sorted nodes: ",r),console.log("Number of nodes: ",r.length);let i=10;for(;r.length<i;)i/=2;const s=Math.floor(r.length/i);console.log("NodeBucket: ",s);let d=0,m=[];for(let z=0;z<r.length;z++){z%s==0&&d++;let X="style"+d;r[z].data.node_style=X,m.includes(X)||m.push(X)}console.log("Styles: ",m);let w=[],R=this.calculateColorStops("#FFFF00","#FF0000",m.length);for(let z=0;z<m.length;z++){let ve={selector:'node[node_style="'+m[z]+'"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":R[z]+" white","background-gradient-stop-positions":"100 100"}};console.log("Current cyto style: ",ve),w.push(ve)}return w}resizeToDefault(){const e=this.graphContainer.nativeElement;e.style.width=this.defaultWidth,e.style.height=this.defaultHeight}showDialog(){this.subgraphDialog.setContent(this.cy.data()),this.subgraphDialog.showDialog()}calculateColorStops(e,r,i){let s=[];for(let d=0;d<i;d++){const w=this.calculateColor(e,r,d/(i-1));s.push(w)}return s}calculateColor(e,r,i){const s=Math.round(this.interpolate(e.slice(1,3),r.slice(1,3),i)),d=Math.round(this.interpolate(e.slice(3,5),r.slice(3,5),i)),m=Math.round(this.interpolate(e.slice(5,7),r.slice(5,7),i));return`#${this.componentToHex(s)}${this.componentToHex(d)}${this.componentToHex(m)}`}interpolate(e,r,i){return(1-i)*parseInt(e,16)+i*parseInt(r,16)}componentToHex(e){const r=e.toString(16);return 1===r.length?"0"+r:r}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-applied-rules-graph"]],viewQuery:function(e,r){if(1&e&&(Ln(sY,5),Ln(lY,5)),2&e){let i;Mn(i=In())&&(r.graphContainer=i.first),Mn(i=In())&&(r.subgraphDialog=i.first)}},inputs:{graphID:"graphID"},decls:7,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(e,r){1&e&&($e(0,"div"),wn(1,"div",0,1),$e(3,"button",2),Dn("click",function(){return r.resizeToDefault()}),mt(4,"Resize to Default"),Ye(),wn(5,"app-sub-graph-dialog",3,4),Ye()),2&e&&(Yt(1),tn("id",r.graphID),Yt(4),tn("subgraphID","sub"+r.graphID)("subgraphStyle","liger"))},dependencies:[IE],styles:["div.cy[_ngcontent-%COMP%]{width:760px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const cY=["solution"],dY=function(t){return{"highlight-block":t}},ZE=function(t){return{"zero-value":t}};let fY=(()=>{class t{constructor(){this.sentence_id="",this.sentence="",this.numberOfAppliedRules=0,this.numberOfMCsets=0,this.noOfSolutions=0,this.ligerMCsets="",this.gswbSolutions=[],this.solutionsContent=""}ngOnInit(){this.data&&(this.sentence_id=this.data.sentence_id,this.sentence=this.data.sentence,this.numberOfAppliedRules=this.data.noOfAppliedRules,this.numberOfMCsets=this.data.noOfMCsets,this.noOfSolutions=this.data.noOfSolutions,this.gswbDerivation=this.data.gswbDerivation,this.ligerGraph=this.data.ligerGraph,this.ligerMCsets=this.data.ligerMCsets,this.solutionsContent=this.data.gswbSolutions.join("\n"),console.log("Solutions content:",this.solutionsContent))}ngAfterViewInit(){setTimeout(()=>{this.dialog&&this.solutionsContent&&this.dialog.setContent(this.solutionsContent)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-test-result"]],viewQuery:function(e,r){if(1&e&&Ln(cY,5),2&e){let i;Mn(i=In())&&(r.dialog=i.first)}},inputs:{data:"data"},decls:16,vars:17,consts:[[3,"ngClass"],["solution",""]],template:function(e,r){1&e&&($e(0,"p",0),mt(1),wn(2,"br"),mt(3," Number of applied rules: "),$e(4,"span",0),mt(5),Ye(),wn(6,"br"),mt(7," Number of meaning constructor sets: "),$e(8,"span",0),mt(9),Ye(),wn(10,"br"),mt(11," Number of solutions: "),$e(12,"span",0),mt(13),Ye()(),wn(14,"app-dialog",null,1)),2&e&&(tn("ngClass",Hc(9,dY,0===r.numberOfMCsets||0===r.noOfSolutions)),Yt(1),lb(" ",r.sentence_id,": ",r.sentence,""),Yt(3),tn("ngClass",Hc(11,ZE,0===r.numberOfAppliedRules)),Yt(1),Nl(" ",r.numberOfAppliedRules," "),Yt(3),tn("ngClass",Hc(13,ZE,0===r.numberOfMCsets)),Yt(1),Nl(" ",r.numberOfMCsets," "),Yt(3),tn("ngClass",Hc(15,ZE,0===r.noOfSolutions)),Yt(1),Nl(" ",r.noOfSolutions," "))},dependencies:[cv,wR],styles:["div.rule[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{width:100%;resize:none}.highlight-block[_ngcontent-%COMP%]{background-color:#ff000014;border-radius:4px;padding:6px}.zero-value[_ngcontent-%COMP%]{color:red;font-weight:700}"]}),t})();const hY=["arcy"],pY=["ligerreport"],gY=["gswbreport"],mY=["gswbSettings"],vY=["ligerRules"],yY=["errorhandle"];function bY(t,n){1&t&&($e(0,"span"),mt(1,"Parse all"),Ye())}function _Y(t,n){1&t&&wn(0,"span",25)}function wY(t,n){1&t&&($e(0,"span"),mt(1,"Loading..."),Ye())}function CY(t,n){if(1&t&&($e(0,"div",26),wn(1,"app-test-result",27),Ye()),2&t){const e=n.$implicit;Yt(1),tn("data",e)}}let xY=(()=>{class t{constructor(e){this.dataService=e,this.regressionTestResults=[],this.loading=!1}batchParse(e,r){this.errorhandle.nativeElement.innerHTML="",this.loading=!0,this.regressionTestResults=[],this.gswbPreferences.onSubmit();let i=e.split("\n").filter(m=>{let w=m.trim();return""!==w&&!w.startsWith("#")}),s={};for(let m=0;m<i.length;m++)s["S"+(m+1)]=i[m];this.displayMessage("Sending testsuite to Stanza for parsing ...","blue"),this.dataService.stanzaBatchParse({sentences:s,language:"en"}).subscribe(m=>{console.log("Stanza parse result: ",m);const w={};for(let[z,X]of Object.entries(m.annotations))w[z]=JSON.stringify(X);const R={sentences:w,ruleString:r};console.log("Liger request: ",R),this.displayMessage("Sending testsuite to LiGER for analyzing ...","blue"),this.dataService.ligerBatchAnnotateDependencies(R).subscribe(z=>{if(z.hasOwnProperty("annotations")){console.log("Annotations:",z.annotations);let X={};for(let[ve,Ie]of Object.entries(z.annotations))X[ve]=Ie.meaningConstructors;let ge={};Object.keys(X).sort((ve,Ie)=>parseInt(ve.match(/\d+/)[0])-parseInt(Ie.match(/\d+/)[0])).forEach(ve=>{ge[ve]=X[ve]}),console.log("sorted MCs",ge),this.gswbMultipleRequest={premises:ge,gswbPreferences:this.gswbPreferences.gswbPreferences},console.log("Specified request: ",this.gswbMultipleRequest)}z.hasOwnProperty("ruleApplicationGraph")&&(console.log("Rendering graph: ",z.ruleApplicationGraph),this.cy1.renderGraph(z.ruleApplicationGraph)),this.displayMessage("Sending parsing results to GSWB for deduction ...","blue"),this.batchDeduce(this.gswbMultipleRequest).subscribe(X=>{const ge=X.outputs;console.log("GSWB outputs: ",ge);const ve=new Map;for(const lt in ge)ve.set(lt,ge[lt]);console.log("GSWB Map: ",ve);let Ie=0,Fe=[];for(let lt of Object.keys(s)){ve.get(lt).solutions.length>0&&(Ie++,Fe.push(lt));let Ze={sentence_id:lt,sentence:s[lt],noOfAppliedRules:z.annotations[lt].appliedRules.length,noOfMCsets:z.annotations[lt].numberOfMCsets,noOfSolutions:ve.get(lt).solutions.length,ligerGraph:z.annotations[lt].graph,ligerMCsets:z.annotations[lt].meaningConstructors,gswbSolutions:ve.get(lt).solutions,gswbDerivation:ve.get(lt).derivation};console.log("Regression test result for "+lt+": ",Ze),this.regressionTestResults.push(Ze)}console.log("Successful keys: ",Fe);let Qe="Parsed "+Ie+" of "+Object.keys(s).length+" sentences! \n";this.loading=!1,this.displayMessage(Qe+"Batch processing completed successfully.","green")})},z=>{console.error("An error occurred:",z),this.displayMessage("An error occurred during batch parsing.","red"),this.loading=!1})},m=>{console.error("An error occurred during Stanza parsing:",m),this.displayMessage("An error occurred during Stanza parsing.","red"),this.loading=!1})}batchMultistage(e){this.gswbPreferences.onSubmit();let r=e.split("\n").filter(d=>{let m=d.trim();return""!==m&&!m.startsWith("#")}),i={};for(let d=0;d<r.length;d++)i["S"+d]=r[d];this.dataService.ligerBatchMultistage({sentences:i,ruleString:null}).subscribe(d=>{if(console.log(d),d.hasOwnProperty("annotations")){console.log(d.annotations);let m={};for(let[w,R]of Object.entries(d.annotations))m[w]=R.meaningConstructors;this.gswbMultipleRequest={premises:m,gswbPreferences:this.gswbPreferences.gswbPreferences},console.log("Specified request: ",this.gswbMultipleRequest)}d.hasOwnProperty("report")&&(this.ligerreport.nativeElement.innerHTML=d.report),this.batchDeduce(this.gswbMultipleRequest)},d=>{console.error("An error occurred:",d),this.loading=!1})}updateData(e){this.ligerRules.updateContent(e)}batchDeduce(e){return this.dataService.gswbBatchDeduce(e).pipe(ga(r=>{if(console.log("Full data:",r),r.hasOwnProperty("outputs")){console.log("Outputs map:");for(const i in r.outputs)console.log(i,r.outputs[i])}}),nf(r=>(console.error("An error occurred:",r),this.displayMessage("An error occurred during GSWB deduction.","red"),this.loading=!1,oa)))}displayMessage(e,r){this.errorhandle.nativeElement.style.color=r,this.errorhandle.nativeElement.innerHTML="["+(new Date).toLocaleTimeString()+"] "+e}}return t.\u0275fac=function(e){return new(e||t)(We(Kg))},t.\u0275cmp=dr({type:t,selectors:[["app-regression-testing-interface"]],viewQuery:function(e,r){if(1&e&&(Ln(hY,5),Ln(pY,5),Ln(gY,5),Ln(mY,5),Ln(vY,5),Ln(yY,5)),2&e){let i;Mn(i=In())&&(r.cy1=i.first),Mn(i=In())&&(r.ligerreport=i.first),Mn(i=In())&&(r.gswbreport=i.first),Mn(i=In())&&(r.gswbPreferences=i.first),Mn(i=In())&&(r.ligerRules=i.first),Mn(i=In())&&(r.errorhandle=i.first)}},decls:47,vars:7,consts:[[1,"frame"],[1,"container"],["type","fileTree","showText","Show settings","hideText","Hide settings"],["toggleDisplayComponent",""],[1,"grammar-loader-container"],[3,"dataEmitter"],[1,"editor-restr"],[3,"mode"],["testsuite",""],["type","liger","showText","Show input rules","hideText","Hide input rules"],[1,"gradient-container"],["ligerRules",""],[1,"bar-container"],[1,"gradient-bar"],[1,"empty-space"],["gswbSettings",""],[3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"errorhandling"],["errorhandle",""],["class","result-container",4,"ngFor","ngForOf"],["type","liger","showText","Show applied rules","hideText","Hide applied rules"],[3,"graphID"],["arcy",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"result-container"],[3,"data"]],template:function(e,r){if(1&e){const i=Ds();$e(0,"div",0)(1,"div",1)(2,"h1"),mt(3,"Semantic parser settings"),Ye(),$e(4,"app-toggle-display",2,3)(6,"div",4)(7,"div")(8,"h2"),mt(9,"Rule file selection:"),Ye(),$e(10,"app-rule-loader",5),Dn("dataEmitter",function(d){return r.updateData(d)}),Ye()()()()(),$e(11,"h3"),mt(12," Testsuite:\n"),Ye(),$e(13,"div",6),wn(14,"app-editor",7,8),Ye(),wn(16,"br"),$e(17,"app-toggle-display",9)(18,"h3"),mt(19," Test rules:\n"),Ye(),$e(20,"div",10)(21,"div",6),wn(22,"app-editor",7,11),Ye(),$e(24,"div",12),wn(25,"div",13)(26,"div",14),Ye()()(),wn(27,"app-gswb-settings",null,15),$e(29,"button",16),Dn("click",function(){zn(i);const d=lu(15),m=lu(23);return bi(r.batchParse(d.getContent(),m.getContent()))}),Rr(30,bY,2,0,"span",17),Rr(31,_Y,1,0,"span",18),Rr(32,wY,2,0,"span",17),Ye(),wn(33,"div",19,20),$e(35,"h3"),mt(36," Report:\n"),Ye(),$e(37,"div"),Rr(38,CY,2,1,"div",21),Ye(),wn(39,"br")(40,"br"),$e(41,"app-toggle-display",22)(42,"h3"),mt(43," Applied rules:\n"),Ye(),$e(44,"div"),wn(45,"app-applied-rules-graph",23,24),Ye()()()}2&e&&(Yt(14),tn("mode","text"),Yt(8),tn("mode","liger"),Yt(8),tn("ngIf",!r.loading),Yt(1),tn("ngIf",r.loading),Yt(1),tn("ngIf",r.loading),Yt(6),tn("ngForOf",r.regressionTestResults),Yt(7),tn("graphID","arCy1"))},dependencies:[Ng,Rl,yp,uY,em,G0,qE,fY],styles:[".gradient-container[_ngcontent-%COMP%]{display:flex;align-items:stretch;max-width:100%}.bar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.gradient-bar[_ngcontent-%COMP%]{flex-grow:1;width:20px;background:linear-gradient(to bottom,yellow,red)}.empty-space[_ngcontent-%COMP%]{width:20px;height:30px}textarea[_ngcontent-%COMP%]{width:50%;resize:both;overflow:auto;padding-left:20px}.frame[_ngcontent-%COMP%]{padding-left:10px}div.result-container[_ngcontent-%COMP%]{width:800px;column-gap:20px;padding:5px;border:2px solid #00a9e0;align-items:flex-start;box-sizing:border-box}div.errorhandling[_ngcontent-%COMP%]{color:red;padding-bottom:10px}"]}),t})(),EY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-home"]],decls:54,vars:0,consts:[["href","https://github.com/Mmaz1988/GlueSemWorkbench_v2"],["href","https://github.com/Mmaz1988/liger"],["href","https://github.com/Mmaz1988/xleplusglue/tree/ESSLLI2025_glue_course"],["href","https://huggingface.co/stanfordnlp/stanza-en/blob/main/models/default.zip","target","_blank"],["href","https://github.com/stanfordnlp/stanza-resources/blob/main/resources_1.10.0.json","target","_blank"]],template:function(e,r){1&e&&($e(0,"div")(1,"h1"),mt(2,"The "),$e(3,"s"),mt(4,"XLE"),Ye(),mt(5," UD+Glue web application"),Ye(),$e(6,"p"),mt(7,"This page presents several resources used for exploring LFG's glue semantics in combination with Universal Dependencies as annotated by Stanza. Concretely, it presents the\n"),$e(8,"a",0),mt(9," Glue semantics workbench "),Ye(),mt(10,"and the "),$e(11,"a",1),mt(12," LiGER rewrite system "),Ye(),mt(13,". As all of these resources, this frontend is open source.\nIt is available at: "),$e(14,"a",2)(15,"s"),mt(16,"XLE"),Ye(),mt(17," UD+Glue client"),Ye()(),$e(18,"h2"),mt(19,"Quick start"),Ye(),$e(20,"ul")(21,"li"),mt(22,"Download the UD+Glue repository"),Ye(),$e(23,"li"),mt(24,"Install Docker"),Ye(),$e(25,"li"),mt(26," Download the English Stanza model and put it in the corresponding folder (see below)"),Ye(),$e(27,"li"),mt(28," Navigate to the Docker folder in the repository on your computer in a terminal and execute"),wn(29,"br"),$e(30,"code"),mt(31,"docker compose up --build"),Ye()()(),$e(32,"h2"),mt(33,"Installing Stanza"),Ye(),$e(34,"p"),mt(35,"If not already there, create a directory named "),$e(36,"code"),mt(37,"models"),Ye(),mt(38," in the Stanza directory."),Ye(),$e(39,"p"),mt(40," Download the English model from "),$e(41,"a",3),mt(42,"Stanza English model"),Ye(),mt(43,". "),Ye(),$e(44,"p"),mt(45," Download the resources file from "),$e(46,"a",4),mt(47,"Stanza resources"),Ye(),mt(48,". "),Ye(),$e(49,"p"),mt(50," Put the download files in the models folder. The structure should look like this: "),Ye(),$e(51,"pre")(52,"code"),mt(53,"Stanza/\n \u2514\u2500\u2500 models/\n     \u251c\u2500\u2500 English/          \u2190 contents of the English model in the default.zip file\n     \u2514\u2500\u2500 resources.json    \u2190 contents of the resources.json file\n"),Ye()()())},styles:["div[_ngcontent-%COMP%]{padding-left:20px}p[_ngcontent-%COMP%]{width:800px}"]}),t})();const DY=["grammarListSelector"],SY=["statusMessage"],TY=["toggleDisplayComponent"];let MY=(()=>{class t{constructor(e,r){this.dataService=e,this.cd=r,this.grammarList=[],this.defaultGrammar="./grammars/fracas_inference_grammar/main_fracas_grammar.lfg.glue",this.grammarsDirectory="./grammars",this.currentStatusMessage="",this.grammarFileTree=[],this.selectedPath=""}ngOnInit(){this.getGrammars(this.grammarsDirectory),console.log("Initial file tree:",this.grammarFileTree),this.selectedPath=this.defaultGrammar,this.updateGrammar()}ngAfterViewInit(){this.toggleDisplayComponent?this.toggleDisplayComponent.isHidden=!0:console.error("toggleDisplayComponent is still undefined in ngAfterViewInit.")}onFileSelected(e){console.log("Selected path from file tree:",e),this.selectedPath=e}updateGrammar(){this.selectedPath?(console.log("Changing grammar to: "+this.selectedPath),this.dataService.changeGrammar({grammar:this.selectedPath}).subscribe(e=>{console.log(e),e.hasOwnProperty("grammar")&&"success"===e.grammar?(console.log("Successfully changed grammar to: "+this.selectedPath),this.currentStatusMessage="Currently loaded grammar: "+this.selectedPath,this.cd.detectChanges(),this.toggleDisplayComponent.isHidden=!0):this.currentStatusMessage="Failed to load grammar: "+this.selectedPath},e=>{console.log("ERROR: ",e),this.currentStatusMessage="Failed to load grammar: "+this.selectedPath})):console.error("No file or folder selected!")}getGrammars(e){console.log("Fetching grammars via POST request"),this.dataService.getFileTree({grammar:e}).subscribe(r=>{console.log(r),r.hasOwnProperty("children")&&(console.log("Grammar file tree:",r.children),this.grammarFileTree=this.buildFileTree(r.children))},r=>{console.error("Failed to fetch grammars:",r)})}buildFileTree(e){return e.map(r=>({name:r.name,path:r.path,isDirectory:r.isDirectory||r.directory,children:r.children&&r.children.length>0?this.buildFileTree(r.children):[]}))}}return t.\u0275fac=function(e){return new(e||t)(We(Kg),We(os))},t.\u0275cmp=dr({type:t,selectors:[["app-grammar-loader"]],viewQuery:function(e,r){if(1&e&&(Ln(DY,5),Ln(SY,5),Ln(TY,5)),2&e){let i;Mn(i=In())&&(r.grammarListSelector=i.first),Mn(i=In())&&(r.statusMessageDiv=i.first),Mn(i=In())&&(r.toggleDisplayComponent=i.first)}},decls:9,vars:2,consts:[[1,"status-message"],["statusMessage",""],["type","fileTree","showText","Select file","hideText","Hide file selection"],["toggleDisplayComponent",""],[3,"fileTree","nodeSelected","nodeDoubleClicked"],[3,"click"]],template:function(e,r){1&e&&($e(0,"div",0,1),mt(2),Ye(),$e(3,"app-toggle-display",2,3)(5,"div")(6,"app-file-tree",4),Dn("nodeSelected",function(s){return r.onFileSelected(s)})("nodeDoubleClicked",function(){return r.updateGrammar()}),Ye(),$e(7,"button",5),Dn("click",function(){return r.updateGrammar()}),mt(8,"Update"),Ye()()()),2&e&&(Yt(2),Nl(" ",r.currentStatusMessage,"\n"),Yt(4),tn("fileTree",r.grammarFileTree))},dependencies:[em,Sk],styles:[".status-message[_ngcontent-%COMP%]{color:red}"]}),t})();const IY=["gswbPrefs"],AY=["axiomEdit"];function OY(t,n){if(1&t){const e=Ds();$e(0,"mat-tab-group",8),Dn("selectedIndexChange",function(i){return zn(e),bi(Qr().onTabChange(i))}),$e(1,"mat-tab",9)(2,"div",10),mt(3," This works "),Ye()(),$e(4,"mat-tab",11)(5,"div",10)(6,"div",12),wn(7,"app-editor",13,14),Ye()()()()}2&t&&(Yt(7),tn("mode","glue"))}let NY=(()=>{class t{constructor(e){this.cdRef=e,this.ruleFile="",this.history=[],this.axioms="",this.tabsInitialized=!1}ngAfterViewInit(){this.cdRef.detectChanges(),this.gswbPreferences?this.gswbPreferences.gswbPreferences={prover:1,debugging:!1,outputstyle:4,parseSem:!1,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:!1,naturalDeductionStyle:0}:console.error("ERROR: `gswbPreferences` ViewChild not initialized!"),this.tabsInitialized=!0}updateData(e){this.ruleFile=e}updateHistory(e){console.log("History updated:",e),this.history=e}onTabChange(e){setTimeout(()=>{this.editor?.getContent&&(console.log("Updating axioms to: ",this.editor.getContent()),this.axioms=this.editor.getContent(),this.cdRef.detectChanges())})}}return t.\u0275fac=function(e){return new(e||t)(We(os))},t.\u0275cmp=dr({type:t,selectors:[["app-inference-interface"]],viewQuery:function(e,r){if(1&e&&(Ln(IY,5),Ln(AY,5)),2&e){let i;Mn(i=In())&&(r.gswbPreferences=i.first),Mn(i=In())&&(r.editor=i.first)}},decls:19,vars:1,consts:[[1,"container"],["type","fileTree","showText","Show settings","hideText","Hide settings"],["toggleDisplayComponent",""],[1,"grammar-loader-container"],[3,"dataEmitter"],["gswbPrefs",""],["vampirePrefs",""],[3,"selectedIndexChange",4,"ngIf"],[3,"selectedIndexChange"],["label","Test items"],[1,"tab-content"],["label","Axioms"],[1,"editor-restr"],[3,"mode"],["axiomEdit",""]],template:function(e,r){1&e&&($e(0,"div",0)(1,"h1"),mt(2,"Semantig parser settings"),Ye(),$e(3,"app-toggle-display",1,2)(5,"div",3)(6,"div")(7,"h2"),mt(8,"Grammar selection:"),Ye(),wn(9,"app-grammar-loader"),Ye(),$e(10,"div")(11,"h2"),mt(12,"Rule file selection:"),Ye(),$e(13,"app-rule-loader",4),Dn("dataEmitter",function(s){return r.updateData(s)}),Ye()()(),wn(14,"app-gswb-settings",null,5)(16,"app-inference-settings",null,6),Ye()(),Rr(18,OY,9,1,"mat-tab-group",7)),2&e&&(Yt(18),tn("ngIf",r.tabsInitialized))},dependencies:[Rl,$E,hk,yp,em,G0,MY,qE,Tk],styles:["mat-tab-group[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.tab-content[_ngcontent-%COMP%]{flex:1;padding:16px;overflow:auto;background:#f5f5f5;height:calc(85vh - 48px)}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}app-chat[_ngcontent-%COMP%]{flex:1;min-height:0}.grammar-loader-container[_ngcontent-%COMP%]{padding:5px;display:flex;gap:16px}.container[_ngcontent-%COMP%]{padding:15px}"]}),t})();const RY=["*"];let Mk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-center-container"]],ngContentSelectors:RY,decls:2,vars:0,consts:[[1,"center-container"]],template:function(e,r){1&e&&(Qh(),$e(0,"div",0),Jh(1),Ye())},styles:[".center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:16px;overflow:auto;background:#f5f5f5;width:100%;flex-shrink:0}"]}),t})();const kY=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"demo",component:M6},{path:"regression",component:xY},{path:"inference",component:NY},{path:"chat",component:aY},{path:"home",component:EY},{path:"glue",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-gswb-vis-container"]],decls:2,vars:0,template:function(e,r){1&e&&($e(0,"app-center-container"),wn(1,"app-gswb-vis"),Ye())},dependencies:[CR,Mk]}),t})()},{path:"liger",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=dr({type:t,selectors:[["app-liger-vis-container"]],decls:2,vars:0,template:function(e,r){1&e&&($e(0,"app-center-container"),wn(1,"app-liger-vis"),Ye())},dependencies:[DR,Mk]}),t})()}];let PY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t}),t.\u0275inj=Jr({imports:[wA.forRoot(kY),wA]}),t})(),LY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ei({type:t,bootstrap:[Kz]}),t.\u0275inj=Jr({imports:[cI,zU,dG,HU,xC,PY,p7,M7,H7,$9,hj]}),t})();c3().bootstrapModule(LY).catch(t=>console.error(t))},7925:(Y,se,D)=>{"use strict";D.r(se),D.d(se,{afterMain:()=>te,afterRead:()=>le,afterWrite:()=>oe,applyStyles:()=>ht,arrow:()=>Bi,auto:()=>C,basePlacements:()=>S,beforeMain:()=>ae,beforeRead:()=>ue,beforeWrite:()=>pe,bottom:()=>P,clippingParents:()=>V,computeStyles:()=>Vl,createPopper:()=>Yn,createPopperBase:()=>id,createPopperLite:()=>As,detectOverflow:()=>Aa,end:()=>A,eventListeners:()=>dl,flip:()=>vu,hide:()=>tc,left:()=>I,main:()=>de,modifierPhases:()=>ie,offset:()=>rc,placements:()=>Q,popper:()=>k,popperGenerator:()=>ko,popperOffsets:()=>ri,preventOverflow:()=>Zi,read:()=>ne,reference:()=>H,right:()=>O,start:()=>N,top:()=>T,variationPlacements:()=>$,viewport:()=>L,write:()=>q});var T="top",P="bottom",O="right",I="left",C="auto",S=[T,P,O,I],N="start",A="end",V="clippingParents",L="viewport",k="popper",H="reference",$=S.reduce(function(Oe,Re){return Oe.concat([Re+"-"+N,Re+"-"+A])},[]),Q=[].concat(S,[C]).reduce(function(Oe,Re){return Oe.concat([Re,Re+"-"+N,Re+"-"+A])},[]),ue="beforeRead",ne="read",le="afterRead",ae="beforeMain",de="main",te="afterMain",pe="beforeWrite",q="write",oe="afterWrite",ie=[ue,ne,le,ae,de,te,pe,q,oe];function me(Oe){return Oe?(Oe.nodeName||"").toLowerCase():null}function we(Oe){if(null==Oe)return window;if("[object Window]"!==Oe.toString()){var Re=Oe.ownerDocument;return Re&&Re.defaultView||window}return Oe}function Se(Oe){return Oe instanceof we(Oe).Element||Oe instanceof Element}function De(Oe){return Oe instanceof we(Oe).HTMLElement||Oe instanceof HTMLElement}function ze(Oe){return!(typeof ShadowRoot>"u")&&(Oe instanceof we(Oe).ShadowRoot||Oe instanceof ShadowRoot)}const ht={name:"applyStyles",enabled:!0,phase:"write",fn:function Be(Oe){var Re=Oe.state;Object.keys(Re.elements).forEach(function(Ve){var rt=Re.styles[Ve]||{},tt=Re.attributes[Ve]||{},Zt=Re.elements[Ve];!De(Zt)||!me(Zt)||(Object.assign(Zt.style,rt),Object.keys(tt).forEach(function(mn){var Vt=tt[mn];!1===Vt?Zt.removeAttribute(mn):Zt.setAttribute(mn,!0===Vt?"":Vt)}))})},effect:function at(Oe){var Re=Oe.state,Ve={popper:{position:Re.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(Re.elements.popper.style,Ve.popper),Re.styles=Ve,Re.elements.arrow&&Object.assign(Re.elements.arrow.style,Ve.arrow),function(){Object.keys(Re.elements).forEach(function(rt){var tt=Re.elements[rt],Zt=Re.attributes[rt]||{},Vt=Object.keys(Re.styles.hasOwnProperty(rt)?Re.styles[rt]:Ve[rt]).reduce(function(en,Un){return en[Un]="",en},{});!De(tt)||!me(tt)||(Object.assign(tt.style,Vt),Object.keys(Zt).forEach(function(en){tt.removeAttribute(en)}))})}},requires:["computeStyles"]};function Ke(Oe){return Oe.split("-")[0]}var Ct=Math.max,qe=Math.min,qt=Math.round;function Ht(){var Oe=navigator.userAgentData;return null!=Oe&&Oe.brands&&Array.isArray(Oe.brands)?Oe.brands.map(function(Re){return Re.brand+"/"+Re.version}).join(" "):navigator.userAgent}function It(){return!/^((?!chrome|android).)*safari/i.test(Ht())}function vn(Oe,Re,Ve){void 0===Re&&(Re=!1),void 0===Ve&&(Ve=!1);var rt=Oe.getBoundingClientRect(),tt=1,Zt=1;Re&&De(Oe)&&(tt=Oe.offsetWidth>0&&qt(rt.width)/Oe.offsetWidth||1,Zt=Oe.offsetHeight>0&&qt(rt.height)/Oe.offsetHeight||1);var Vt=(Se(Oe)?we(Oe):window).visualViewport,en=!It()&&Ve,Un=(rt.left+(en&&Vt?Vt.offsetLeft:0))/tt,Bt=(rt.top+(en&&Vt?Vt.offsetTop:0))/Zt,Ar=rt.width/tt,er=rt.height/Zt;return{width:Ar,height:er,top:Bt,right:Un+Ar,bottom:Bt+er,left:Un,x:Un,y:Bt}}function cn(Oe){var Re=vn(Oe),Ve=Oe.offsetWidth,rt=Oe.offsetHeight;return Math.abs(Re.width-Ve)<=1&&(Ve=Re.width),Math.abs(Re.height-rt)<=1&&(rt=Re.height),{x:Oe.offsetLeft,y:Oe.offsetTop,width:Ve,height:rt}}function ut(Oe,Re){var Ve=Re.getRootNode&&Re.getRootNode();if(Oe.contains(Re))return!0;if(Ve&&ze(Ve)){var rt=Re;do{if(rt&&Oe.isSameNode(rt))return!0;rt=rt.parentNode||rt.host}while(rt)}return!1}function it(Oe){return we(Oe).getComputedStyle(Oe)}function pt(Oe){return["table","td","th"].indexOf(me(Oe))>=0}function Ft(Oe){return((Se(Oe)?Oe.ownerDocument:Oe.document)||window.document).documentElement}function St(Oe){return"html"===me(Oe)?Oe:Oe.assignedSlot||Oe.parentNode||(ze(Oe)?Oe.host:null)||Ft(Oe)}function Kn(Oe){return De(Oe)&&"fixed"!==it(Oe).position?Oe.offsetParent:null}function Sr(Oe){for(var Re=we(Oe),Ve=Kn(Oe);Ve&&pt(Ve)&&"static"===it(Ve).position;)Ve=Kn(Ve);return Ve&&("html"===me(Ve)||"body"===me(Ve)&&"static"===it(Ve).position)?Re:Ve||function Jn(Oe){var Re=/firefox/i.test(Ht());if(/Trident/i.test(Ht())&&De(Oe)&&"fixed"===it(Oe).position)return null;var tt=St(Oe);for(ze(tt)&&(tt=tt.host);De(tt)&&["html","body"].indexOf(me(tt))<0;){var Zt=it(tt);if("none"!==Zt.transform||"none"!==Zt.perspective||"paint"===Zt.contain||-1!==["transform","perspective"].indexOf(Zt.willChange)||Re&&"filter"===Zt.willChange||Re&&Zt.filter&&"none"!==Zt.filter)return tt;tt=tt.parentNode}return null}(Oe)||Re}function kr(Oe){return["top","bottom"].indexOf(Oe)>=0?"x":"y"}function Cr(Oe,Re,Ve){return Ct(Oe,qe(Re,Ve))}function Xr(Oe){return Object.assign({},{top:0,right:0,bottom:0,left:0},Oe)}function dn(Oe,Re){return Re.reduce(function(Ve,rt){return Ve[rt]=Oe,Ve},{})}const Bi={name:"arrow",enabled:!0,phase:"main",fn:function ro(Oe){var Re,Ve=Oe.state,rt=Oe.name,tt=Oe.options,Zt=Ve.elements.arrow,mn=Ve.modifiersData.popperOffsets,Vt=Ke(Ve.placement),en=kr(Vt),Bt=[I,O].indexOf(Vt)>=0?"height":"width";if(Zt&&mn){var Ar=function(Re,Ve){return Xr("number"!=typeof(Re="function"==typeof Re?Re(Object.assign({},Ve.rects,{placement:Ve.placement})):Re)?Re:dn(Re,S))}(tt.padding,Ve),er=cn(Zt),or="y"===en?T:I,ii="y"===en?P:O,An=Ve.rects.reference[Bt]+Ve.rects.reference[en]-mn[en]-Ve.rects.popper[Bt],on=mn[en]-Ve.rects.reference[en],Lr=Sr(Zt),gi=Lr?"y"===en?Lr.clientHeight||0:Lr.clientWidth||0:0,Fr=gi/2-er[Bt]/2+(An/2-on/2),yn=Cr(Ar[or],Fr,gi-er[Bt]-Ar[ii]);Ve.modifiersData[rt]=((Re={})[en]=yn,Re.centerOffset=yn-Fr,Re)}},effect:function Fi(Oe){var Re=Oe.state,rt=Oe.options.element,tt=void 0===rt?"[data-popper-arrow]":rt;null!=tt&&("string"==typeof tt&&!(tt=Re.elements.popper.querySelector(tt))||ut(Re.elements.popper,tt)&&(Re.elements.arrow=tt))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jr(Oe){return Oe.split("-")[1]}var Ki={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ts(Oe){var Re,Ve=Oe.popper,rt=Oe.popperRect,tt=Oe.placement,Zt=Oe.variation,mn=Oe.offsets,Vt=Oe.position,en=Oe.gpuAcceleration,Un=Oe.adaptive,Bt=Oe.roundOffsets,Ar=Oe.isFixed,er=mn.x,or=void 0===er?0:er,ii=mn.y,An=void 0===ii?0:ii,on="function"==typeof Bt?Bt({x:or,y:An}):{x:or,y:An};or=on.x,An=on.y;var Lr=mn.hasOwnProperty("x"),gi=mn.hasOwnProperty("y"),ui=I,mr=T,et=window;if(Un){var Fr=Sr(Ve),yn="clientHeight",Gn="clientWidth";Fr===we(Ve)&&"static"!==it(Fr=Ft(Ve)).position&&"absolute"===Vt&&(yn="scrollHeight",Gn="scrollWidth"),(tt===T||(tt===I||tt===O)&&Zt===A)&&(mr=P,An-=(Ar&&Fr===et&&et.visualViewport?et.visualViewport.height:Fr[yn])-rt.height,An*=en?1:-1),tt!==I&&(tt!==T&&tt!==P||Zt!==A)||(ui=O,or-=(Ar&&Fr===et&&et.visualViewport?et.visualViewport.width:Fr[Gn])-rt.width,or*=en?1:-1)}var Nr,mo=Object.assign({position:Vt},Un&&Ki),zi=!0===Bt?function ja(Oe,Re){var rt=Oe.y,tt=Re.devicePixelRatio||1;return{x:qt(Oe.x*tt)/tt||0,y:qt(rt*tt)/tt||0}}({x:or,y:An},we(Ve)):{x:or,y:An};return or=zi.x,An=zi.y,Object.assign({},mo,en?((Nr={})[mr]=gi?"0":"",Nr[ui]=Lr?"0":"",Nr.transform=(et.devicePixelRatio||1)<=1?"translate("+or+"px, "+An+"px)":"translate3d("+or+"px, "+An+"px, 0)",Nr):((Re={})[mr]=gi?An+"px":"",Re[ui]=Lr?or+"px":"",Re.transform="",Re))}const Vl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Nn(Oe){var Re=Oe.state,Ve=Oe.options,rt=Ve.gpuAcceleration,tt=void 0===rt||rt,Zt=Ve.adaptive,mn=void 0===Zt||Zt,Vt=Ve.roundOffsets,en=void 0===Vt||Vt,Un={placement:Ke(Re.placement),variation:jr(Re.placement),popper:Re.elements.popper,popperRect:Re.rects.popper,gpuAcceleration:tt,isFixed:"fixed"===Re.options.strategy};null!=Re.modifiersData.popperOffsets&&(Re.styles.popper=Object.assign({},Re.styles.popper,Ts(Object.assign({},Un,{offsets:Re.modifiersData.popperOffsets,position:Re.options.strategy,adaptive:mn,roundOffsets:en})))),null!=Re.modifiersData.arrow&&(Re.styles.arrow=Object.assign({},Re.styles.arrow,Ts(Object.assign({},Un,{offsets:Re.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:en})))),Re.attributes.popper=Object.assign({},Re.attributes.popper,{"data-popper-placement":Re.placement})},data:{}};var Yo={passive:!0};const dl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Xo(Oe){var Re=Oe.state,Ve=Oe.instance,rt=Oe.options,tt=rt.scroll,Zt=void 0===tt||tt,mn=rt.resize,Vt=void 0===mn||mn,en=we(Re.elements.popper),Un=[].concat(Re.scrollParents.reference,Re.scrollParents.popper);return Zt&&Un.forEach(function(Bt){Bt.addEventListener("scroll",Ve.update,Yo)}),Vt&&en.addEventListener("resize",Ve.update,Yo),function(){Zt&&Un.forEach(function(Bt){Bt.removeEventListener("scroll",Ve.update,Yo)}),Vt&&en.removeEventListener("resize",Ve.update,Yo)}},data:{}};var Wa={left:"right",right:"left",bottom:"top",top:"bottom"};function Ms(Oe){return Oe.replace(/left|right|bottom|top/g,function(Re){return Wa[Re]})}var Cn={start:"end",end:"start"};function va(Oe){return Oe.replace(/start|end/g,function(Re){return Cn[Re]})}function go(Oe){var Re=we(Oe);return{scrollLeft:Re.pageXOffset,scrollTop:Re.pageYOffset}}function pi(Oe){return vn(Ft(Oe)).left+go(Oe).scrollLeft}function Ti(Oe){var Re=it(Oe);return/auto|scroll|overlay|hidden/.test(Re.overflow+Re.overflowY+Re.overflowX)}function Ma(Oe){return["html","body","#document"].indexOf(me(Oe))>=0?Oe.ownerDocument.body:De(Oe)&&Ti(Oe)?Oe:Ma(St(Oe))}function Vi(Oe,Re){var Ve;void 0===Re&&(Re=[]);var rt=Ma(Oe),tt=rt===(null==(Ve=Oe.ownerDocument)?void 0:Ve.body),Zt=we(rt),mn=tt?[Zt].concat(Zt.visualViewport||[],Ti(rt)?rt:[]):rt,Vt=Re.concat(mn);return tt?Vt:Vt.concat(Vi(St(mn)))}function Ks(Oe){return Object.assign({},Oe,{left:Oe.x,top:Oe.y,right:Oe.x+Oe.width,bottom:Oe.y+Oe.height})}function Ia(Oe,Re,Ve){return Re===L?Ks(function qi(Oe,Re){var Ve=we(Oe),rt=Ft(Oe),tt=Ve.visualViewport,Zt=rt.clientWidth,mn=rt.clientHeight,Vt=0,en=0;if(tt){Zt=tt.width,mn=tt.height;var Un=It();(Un||!Un&&"fixed"===Re)&&(Vt=tt.offsetLeft,en=tt.offsetTop)}return{width:Zt,height:mn,x:Vt+pi(Oe),y:en}}(Oe,Ve)):Se(Re)?function Jc(Oe,Re){var Ve=vn(Oe,!1,"fixed"===Re);return Ve.top=Ve.top+Oe.clientTop,Ve.left=Ve.left+Oe.clientLeft,Ve.bottom=Ve.top+Oe.clientHeight,Ve.right=Ve.left+Oe.clientWidth,Ve.width=Oe.clientWidth,Ve.height=Oe.clientHeight,Ve.x=Ve.left,Ve.y=Ve.top,Ve}(Re,Ve):Ks(function mu(Oe){var Re,Ve=Ft(Oe),rt=go(Oe),tt=null==(Re=Oe.ownerDocument)?void 0:Re.body,Zt=Ct(Ve.scrollWidth,Ve.clientWidth,tt?tt.scrollWidth:0,tt?tt.clientWidth:0),mn=Ct(Ve.scrollHeight,Ve.clientHeight,tt?tt.scrollHeight:0,tt?tt.clientHeight:0),Vt=-rt.scrollLeft+pi(Oe),en=-rt.scrollTop;return"rtl"===it(tt||Ve).direction&&(Vt+=Ct(Ve.clientWidth,tt?tt.clientWidth:0)-Zt),{width:Zt,height:mn,x:Vt,y:en}}(Ft(Oe)))}function as(Oe){var en,Re=Oe.reference,Ve=Oe.element,rt=Oe.placement,tt=rt?Ke(rt):null,Zt=rt?jr(rt):null,mn=Re.x+Re.width/2-Ve.width/2,Vt=Re.y+Re.height/2-Ve.height/2;switch(tt){case T:en={x:mn,y:Re.y-Ve.height};break;case P:en={x:mn,y:Re.y+Re.height};break;case O:en={x:Re.x+Re.width,y:Vt};break;case I:en={x:Re.x-Ve.width,y:Vt};break;default:en={x:Re.x,y:Re.y}}var Un=tt?kr(tt):null;if(null!=Un){var Bt="y"===Un?"height":"width";switch(Zt){case N:en[Un]=en[Un]-(Re[Bt]/2-Ve[Bt]/2);break;case A:en[Un]=en[Un]+(Re[Bt]/2-Ve[Bt]/2)}}return en}function Aa(Oe,Re){void 0===Re&&(Re={});var rt=Re.placement,tt=void 0===rt?Oe.placement:rt,Zt=Re.strategy,mn=void 0===Zt?Oe.strategy:Zt,Vt=Re.boundary,en=void 0===Vt?V:Vt,Un=Re.rootBoundary,Bt=void 0===Un?L:Un,Ar=Re.elementContext,er=void 0===Ar?k:Ar,or=Re.altBoundary,ii=void 0!==or&&or,An=Re.padding,on=void 0===An?0:An,Lr=Xr("number"!=typeof on?on:dn(on,S)),ui=Oe.rects.popper,mr=Oe.elements[ii?er===k?H:k:er],et=function ed(Oe,Re,Ve,rt){var tt="clippingParents"===Re?function qs(Oe){var Re=Vi(St(Oe)),rt=["absolute","fixed"].indexOf(it(Oe).position)>=0&&De(Oe)?Sr(Oe):Oe;return Se(rt)?Re.filter(function(tt){return Se(tt)&&ut(tt,rt)&&"body"!==me(tt)}):[]}(Oe):[].concat(Re),Zt=[].concat(tt,[Ve]),Vt=Zt.reduce(function(en,Un){var Bt=Ia(Oe,Un,rt);return en.top=Ct(Bt.top,en.top),en.right=qe(Bt.right,en.right),en.bottom=qe(Bt.bottom,en.bottom),en.left=Ct(Bt.left,en.left),en},Ia(Oe,Zt[0],rt));return Vt.width=Vt.right-Vt.left,Vt.height=Vt.bottom-Vt.top,Vt.x=Vt.left,Vt.y=Vt.top,Vt}(Se(mr)?mr:mr.contextElement||Ft(Oe.elements.popper),en,Bt,mn),Fr=vn(Oe.elements.reference),yn=as({reference:Fr,element:ui,strategy:"absolute",placement:tt}),Gn=Ks(Object.assign({},ui,yn)),ci=er===k?Gn:Fr,Hi={top:et.top-ci.top+Lr.top,bottom:ci.bottom-et.bottom+Lr.bottom,left:et.left-ci.left+Lr.left,right:ci.right-et.right+Lr.right},mo=Oe.modifiersData.offset;if(er===k&&mo){var zi=mo[tt];Object.keys(Hi).forEach(function(Nr){var Zs=[O,P].indexOf(Nr)>=0?1:-1,di=[T,P].indexOf(Nr)>=0?"y":"x";Hi[Nr]+=zi[di]*Zs})}return Hi}const vu={name:"flip",enabled:!0,phase:"main",fn:function td(Oe){var Re=Oe.state,Ve=Oe.options,rt=Oe.name;if(!Re.modifiersData[rt]._skip){for(var tt=Ve.mainAxis,Zt=void 0===tt||tt,mn=Ve.altAxis,Vt=void 0===mn||mn,en=Ve.fallbackPlacements,Un=Ve.padding,Bt=Ve.boundary,Ar=Ve.rootBoundary,er=Ve.altBoundary,or=Ve.flipVariations,ii=void 0===or||or,An=Ve.allowedAutoPlacements,on=Re.options.placement,Lr=Ke(on),ui=en||(Lr!==on&&ii?function ss(Oe){if(Ke(Oe)===C)return[];var Re=Ms(Oe);return[va(Oe),Re,va(Re)]}(on):[Ms(on)]),mr=[on].concat(ui).reduce(function(Na,Os){return Na.concat(Ke(Os)===C?function dh(Oe,Re){void 0===Re&&(Re={});var tt=Re.boundary,Zt=Re.rootBoundary,mn=Re.padding,Vt=Re.flipVariations,en=Re.allowedAutoPlacements,Un=void 0===en?Q:en,Bt=jr(Re.placement),Ar=Bt?Vt?$:$.filter(function(ii){return jr(ii)===Bt}):S,er=Ar.filter(function(ii){return Un.indexOf(ii)>=0});0===er.length&&(er=Ar);var or=er.reduce(function(ii,An){return ii[An]=Aa(Oe,{placement:An,boundary:tt,rootBoundary:Zt,padding:mn})[Ke(An)],ii},{});return Object.keys(or).sort(function(ii,An){return or[ii]-or[An]})}(Re,{placement:Os,boundary:Bt,rootBoundary:Ar,padding:Un,flipVariations:ii,allowedAutoPlacements:An}):Os)},[]),et=Re.rects.reference,Fr=Re.rects.popper,yn=new Map,Gn=!0,ci=mr[0],Hi=0;Hi<mr.length;Hi++){var mo=mr[Hi],zi=Ke(mo),Nr=jr(mo)===N,Zs=[T,P].indexOf(zi)>=0,di=Zs?"width":"height",vo=Aa(Re,{placement:mo,boundary:Bt,rootBoundary:Ar,altBoundary:er,padding:Un}),Ji=Zs?Nr?O:I:Nr?P:T;et[di]>Fr[di]&&(Ji=Ms(Ji));var Qs=Ms(Ji),Mi=[];if(Zt&&Mi.push(vo[zi]<=0),Vt&&Mi.push(vo[Ji]<=0,vo[Qs]<=0),Mi.every(function(Na){return Na})){ci=mo,Gn=!1;break}yn.set(mo,Mi)}if(Gn)for(var ic=function(Os){var io=mr.find(function(tr){var Ya=yn.get(tr);if(Ya)return Ya.slice(0,Os).every(function(hf){return hf})});if(io)return ci=io,"break"},zl=ii?3:1;zl>0&&"break"!==ic(zl);zl--);Re.placement!==ci&&(Re.modifiersData[rt]._skip=!0,Re.placement=ci,Re.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ec(Oe,Re,Ve){return void 0===Ve&&(Ve={x:0,y:0}),{top:Oe.top-Re.height-Ve.y,right:Oe.right-Re.width+Ve.x,bottom:Oe.bottom-Re.height+Ve.y,left:Oe.left-Re.width-Ve.x}}function No(Oe){return[T,O,P,I].some(function(Re){return Oe[Re]>=0})}const tc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function nd(Oe){var Re=Oe.state,Ve=Oe.name,rt=Re.rects.reference,tt=Re.rects.popper,Zt=Re.modifiersData.preventOverflow,mn=Aa(Re,{elementContext:"reference"}),Vt=Aa(Re,{altBoundary:!0}),en=ec(mn,rt),Un=ec(Vt,tt,Zt),Bt=No(en),Ar=No(Un);Re.modifiersData[Ve]={referenceClippingOffsets:en,popperEscapeOffsets:Un,isReferenceHidden:Bt,hasPopperEscaped:Ar},Re.attributes.popper=Object.assign({},Re.attributes.popper,{"data-popper-reference-hidden":Bt,"data-popper-escaped":Ar})}},rc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Is(Oe){var Re=Oe.state,rt=Oe.name,tt=Oe.options.offset,Zt=void 0===tt?[0,0]:tt,mn=Q.reduce(function(Bt,Ar){return Bt[Ar]=function nc(Oe,Re,Ve){var rt=Ke(Oe),tt=[I,T].indexOf(rt)>=0?-1:1,Zt="function"==typeof Ve?Ve(Object.assign({},Re,{placement:Oe})):Ve,mn=Zt[0],Vt=Zt[1];return mn=mn||0,Vt=(Vt||0)*tt,[I,O].indexOf(rt)>=0?{x:Vt,y:mn}:{x:mn,y:Vt}}(Ar,Re.rects,Zt),Bt},{}),Vt=mn[Re.placement],Un=Vt.y;null!=Re.modifiersData.popperOffsets&&(Re.modifiersData.popperOffsets.x+=Vt.x,Re.modifiersData.popperOffsets.y+=Un),Re.modifiersData[rt]=mn}},ri={name:"popperOffsets",enabled:!0,phase:"read",fn:function rd(Oe){var Re=Oe.state;Re.modifiersData[Oe.name]=as({reference:Re.rects.reference,element:Re.rects.popper,strategy:"absolute",placement:Re.placement})},data:{}},Zi={name:"preventOverflow",enabled:!0,phase:"main",fn:function Tr(Oe){var Re=Oe.state,Ve=Oe.options,rt=Oe.name,tt=Ve.mainAxis,Zt=void 0===tt||tt,mn=Ve.altAxis,Vt=void 0!==mn&&mn,er=Ve.tether,or=void 0===er||er,ii=Ve.tetherOffset,An=void 0===ii?0:ii,on=Aa(Re,{boundary:Ve.boundary,rootBoundary:Ve.rootBoundary,padding:Ve.padding,altBoundary:Ve.altBoundary}),Lr=Ke(Re.placement),gi=jr(Re.placement),ui=!gi,mr=kr(Lr),et=function Oa(Oe){return"x"===Oe?"y":"x"}(mr),Fr=Re.modifiersData.popperOffsets,yn=Re.rects.reference,Gn=Re.rects.popper,ci="function"==typeof An?An(Object.assign({},Re.rects,{placement:Re.placement})):An,Hi="number"==typeof ci?{mainAxis:ci,altAxis:ci}:Object.assign({mainAxis:0,altAxis:0},ci),mo=Re.modifiersData.offset?Re.modifiersData.offset[Re.placement]:null,zi={x:0,y:0};if(Fr){if(Zt){var Nr,Zs="y"===mr?T:I,di="y"===mr?P:O,vo="y"===mr?"height":"width",Ji=Fr[mr],Qs=Ji+on[Zs],Mi=Ji-on[di],Hl=or?-Gn[vo]/2:0,ic=gi===N?yn[vo]:Gn[vo],zl=gi===N?-Gn[vo]:-yn[vo],oc=Re.elements.arrow,Na=or&&oc?cn(oc):{width:0,height:0},Os=Re.modifiersData["arrow#persistent"]?Re.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},io=Os[Zs],tr=Os[di],Ya=Cr(0,yn[vo],Na[vo]),hf=ui?yn[vo]/2-Hl-Ya-io-Hi.mainAxis:ic-Ya-io-Hi.mainAxis,ad=ui?-yn[vo]/2+Hl+Ya+tr+Hi.mainAxis:zl+Ya+tr+Hi.mainAxis,an=Re.elements.arrow&&Sr(Re.elements.arrow),fl=an?"y"===mr?an.clientTop||0:an.clientLeft||0:0,Jr=null!=(Nr=mo?.[mr])?Nr:0,ac=Ji+ad-Jr,yu=Cr(or?qe(Qs,Ji+hf-Jr-fl):Qs,Ji,or?Ct(Mi,ac):Mi);Fr[mr]=yu,zi[mr]=yu-Ji}if(Vt){var hl,Ns=Fr[et],Ul="y"===et?"height":"width",sc=Ns+on["x"===mr?T:I],Fn=Ns-on["x"===mr?P:O],Xa=-1!==[T,I].indexOf(Lr),pl=null!=(hl=mo?.[et])?hl:0,yo=Xa?sc:Ns-yn[Ul]-Gn[Ul]-pl+Hi.altAxis,ls=Xa?Ns+yn[Ul]+Gn[Ul]-pl-Hi.altAxis:Fn,Gl=or&&Xa?function _n(Oe,Re,Ve){var rt=Cr(Oe,Re,Ve);return rt>Ve?Ve:rt}(yo,Ns,ls):Cr(or?yo:sc,Ns,or?ls:Fn);Fr[et]=Gl,zi[et]=Gl-Ns}Re.modifiersData[rt]=zi}},requiresIfExists:["offset"]};function Pi(Oe,Re,Ve){void 0===Ve&&(Ve=!1);var rt=De(Re),tt=De(Re)&&function ff(Oe){var Re=Oe.getBoundingClientRect(),Ve=qt(Re.width)/Oe.offsetWidth||1,rt=qt(Re.height)/Oe.offsetHeight||1;return 1!==Ve||1!==rt}(Re),Zt=Ft(Re),mn=vn(Oe,tt,Ve),Vt={scrollLeft:0,scrollTop:0},en={x:0,y:0};return(rt||!rt&&!Ve)&&(("body"!==me(Re)||Ti(Zt))&&(Vt=function oa(Oe){return Oe!==we(Oe)&&De(Oe)?function ki(Oe){return{scrollLeft:Oe.scrollLeft,scrollTop:Oe.scrollTop}}(Oe):go(Oe)}(Re)),De(Re)?((en=vn(Re,!0)).x+=Re.clientLeft,en.y+=Re.clientTop):Zt&&(en.x=pi(Zt))),{x:mn.left+Vt.scrollLeft-en.x,y:mn.top+Vt.scrollTop-en.y,width:mn.width,height:mn.height}}function xn(Oe){var Re=new Map,Ve=new Set,rt=[];function tt(Zt){Ve.add(Zt.name),[].concat(Zt.requires||[],Zt.requiresIfExists||[]).forEach(function(Vt){if(!Ve.has(Vt)){var en=Re.get(Vt);en&&tt(en)}}),rt.push(Zt)}return Oe.forEach(function(Zt){Re.set(Zt.name,Zt)}),Oe.forEach(function(Zt){Ve.has(Zt.name)||tt(Zt)}),rt}function $a(Oe){var Re;return function(){return Re||(Re=new Promise(function(Ve){Promise.resolve().then(function(){Re=void 0,Ve(Oe())})})),Re}}var Pr={placement:"bottom",modifiers:[],strategy:"absolute"};function Qi(){for(var Oe=arguments.length,Re=new Array(Oe),Ve=0;Ve<Oe;Ve++)Re[Ve]=arguments[Ve];return!Re.some(function(rt){return!(rt&&"function"==typeof rt.getBoundingClientRect)})}function ko(Oe){void 0===Oe&&(Oe={});var Ve=Oe.defaultModifiers,rt=void 0===Ve?[]:Ve,tt=Oe.defaultOptions,Zt=void 0===tt?Pr:tt;return function(Vt,en,Un){void 0===Un&&(Un=Zt);var Bt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Pr,Zt),modifiersData:{},elements:{reference:Vt,popper:en},attributes:{},styles:{}},Ar=[],er=!1,or={state:Bt,setOptions:function(Lr){var gi="function"==typeof Lr?Lr(Bt.options):Lr;An(),Bt.options=Object.assign({},Zt,Bt.options,gi),Bt.scrollParents={reference:Se(Vt)?Vi(Vt):Vt.contextElement?Vi(Vt.contextElement):[],popper:Vi(en)};var ui=function li(Oe){var Re=xn(Oe);return ie.reduce(function(Ve,rt){return Ve.concat(Re.filter(function(tt){return tt.phase===rt}))},[])}(function Ro(Oe){var Re=Oe.reduce(function(Ve,rt){var tt=Ve[rt.name];return Ve[rt.name]=tt?Object.assign({},tt,rt,{options:Object.assign({},tt.options,rt.options),data:Object.assign({},tt.data,rt.data)}):rt,Ve},{});return Object.keys(Re).map(function(Ve){return Re[Ve]})}([].concat(rt,Bt.options.modifiers)));return Bt.orderedModifiers=ui.filter(function(mr){return mr.enabled}),function ii(){Bt.orderedModifiers.forEach(function(on){var gi=on.options,mr=on.effect;if("function"==typeof mr){var et=mr({state:Bt,name:on.name,instance:or,options:void 0===gi?{}:gi});Ar.push(et||function(){})}})}(),or.update()},forceUpdate:function(){if(!er){var Lr=Bt.elements,gi=Lr.reference,ui=Lr.popper;if(Qi(gi,ui)){Bt.rects={reference:Pi(gi,Sr(ui),"fixed"===Bt.options.strategy),popper:cn(ui)},Bt.reset=!1,Bt.placement=Bt.options.placement,Bt.orderedModifiers.forEach(function(Hi){return Bt.modifiersData[Hi.name]=Object.assign({},Hi.data)});for(var mr=0;mr<Bt.orderedModifiers.length;mr++)if(!0!==Bt.reset){var et=Bt.orderedModifiers[mr],Fr=et.fn,yn=et.options;"function"==typeof Fr&&(Bt=Fr({state:Bt,options:void 0===yn?{}:yn,name:et.name,instance:or})||Bt)}else Bt.reset=!1,mr=-1}}},update:$a(function(){return new Promise(function(on){or.forceUpdate(),on(Bt)})}),destroy:function(){An(),er=!0}};if(!Qi(Vt,en))return or;function An(){Ar.forEach(function(on){return on()}),Ar=[]}return or.setOptions(Un).then(function(on){!er&&Un.onFirstUpdate&&Un.onFirstUpdate(on)}),or}}var id=ko(),Yn=ko({defaultModifiers:[dl,ri,Vl,ht,rc,vu,Zi,Bi,tc]}),As=ko({defaultModifiers:[dl,ri,Vl,ht]})},5886:function(Y,se,D){var T;Y.exports=(T=D(4465),function(P){var O={};function I(C){if(O[C])return O[C].exports;var S=O[C]={i:C,l:!1,exports:{}};return P[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=P,I.c=O,I.i=function(C){return C},I.d=function(C,S,N){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:N})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=6)}([function(P,O){P.exports=T},function(P,O,I){"use strict";var C=I(0).LGraph;function S(A,V,L){C.call(this,A,V,L),this.inOrder=void 0,this.currentIndex=0,this.nodeSeparation=void 0,this.stack=[],this.perimeter=0,this.centerX=0,this.centerY=0,this.radius=0}for(var N in S.prototype=Object.create(C.prototype),C)S[N]=C[N];S.prototype.initOrdering=function(){this.inOrder=[]},S.prototype.getOrder=function(){return this.inOrder},S.prototype.getCenterX=function(){return this.centerX},S.prototype.getCenterY=function(){return this.centerY},S.prototype.getRadius=function(){return this.radius},S.prototype.getSize=function(){return this.getNodes().length},S.prototype.getTotalCrossingOfCircle=function(){var V=0;for(var L in this.inOrder){var k=L.getTotalCrossingOfEdges();if(-1===k)return-1;V+=k}return V/4},S.prototype.hasFinishedOrdering=function(){return this.currentIndex===this.getNodes().length},S.prototype.getNodeSeparation=function(){return this.nodeSeparation},S.prototype.setNodeSeparation=function(A){this.nodeSeparation=A},S.prototype.correctAngles=function(){var A=this;A.currentIndex=0,A.inOrder.forEach(function(V){return A.putInOrder(V)})},S.prototype.putInOrder=function(A){for(var V=this,L=V.getNodes(),k=!1,H=0;H<L.length;H++)if(L[H].id==A.id){k=!0;break}if(!k)throw"The node must be a member of LGraph";V.inOrder[V.currentIndex]=A,A.setIndex(V.currentIndex),A.setAngle(0===V.currentIndex?0:V.inOrder[V.currentIndex-1].getAngle()+2*Math.PI*(A.getDiagonal()/2+V.nodeSeparation+V.inOrder[V.currentIndex-1].getDiagonal()/2)/V.perimeter),V.currentIndex++},S.prototype.findNodeToPlace=function(){var A=this,V=void 0;if(0===A.stack.length)V=A.findUnorderedSmallestDegreeNode();else{for(var L=!1;!L&&0!==A.stack.length;)L=!(V=A.stack.pop()).isOrdered();L||(V=void 0)}if(void 0===V&&(V=A.findUnorderedSmallestDegreeNode()),void 0!==V)for(var k=V.getNeighborsSortedByDegree(),H=k.length-1;H>=0;H--){var $=k[H];$.isOrdered()||A.stack.push($)}return V},S.prototype.calculateRadius=function(){var A=this,V=0;A.getNodes().forEach(function(k){return V+=Math.sqrt(k.getWidth()*k.getWidth()+k.getHeight()*k.getHeight())}),A.perimeter=V+A.getNodes().length*A.nodeSeparation;var L=A.perimeter/(2*Math.PI);A.getParent().setWidth(2*L),A.getParent().setHeight(2*L),A.getParent().setCenter(A.getParent().getWidth(),A.getParent().getHeight()),A.centerX=A.getParent().getCenterX(),A.centerY=A.getParent().getCenterY(),A.radius=A.getParent().getHeight()/2},S.prototype.calculateEdgeCrossingsOfNodes=function(){this.getNodes().forEach(function(A){return A.calculateTotalCrossing()})},S.prototype.loadOldIndicesOfNodes=function(){for(var V=0;V<this.inOrder.length;V++)this.inOrder[V].setIndex(V)},S.prototype.reOrderVertices=function(){var A=this;this.getNodes().forEach(function(V){return A.inOrder[V.getIndex()]=V})},S.prototype.findUnorderedSmallestDegreeNode=function(){var A=Number.MAX_SAFE_INTEGER,V=void 0;return this.getNodes().forEach(function(L){L.getDegree()<A&&!L.isOrdered()&&(A=L.getDegree(),V=L)}),V},P.exports=S},function(P,O,I){"use strict";var C=I(0).LayoutConstants;function S(){}for(var N in C)S[N]=C[N];S.DEFAULT_NODE_SEPARATION=60,P.exports=S},function(P,O,I){"use strict";var C=I(0).LEdge;function S(A,V,L){C.call(this,A,V,L)}for(var N in S.prototype=Object.create(C.prototype),C)S[N]=C[N];S.prototype.getOtherEnd=function(A){return C.prototype.getOtherEnd(A)},S.prototype.crossesWithEdge=function(A){var V=this,L=V.getSource().getIndex(),k=V.getTarget().getIndex(),H=A.getSource().getIndex(),$=A.getTarget().getIndex();if(-1===L||-1===k||-1===H||-1===$)return!1;var Q=A.getSource().getCircDistWithTheNode(V.getSource()),ue=A.getTarget().getCircDistWithTheNode(V.getSource()),ne=V.getTarget().getCircDistWithTheNode(V.getSource());return ne<Math.max(Q,ue)&&ne>Math.min(Q,ue)&&0!==ue&&0!==Q},S.prototype.crossingWithEdge=function(A){return this.crossesWithEdge(A)?1:0},S.prototype.calculateTotalCrossingWithList=function(A){var V=this,L=0;return A.forEach(function(k){return L+=V.crossingWithEdge(k)}),L},P.exports=S},function(P,O,I){"use strict";var C=I(0).LNode;function N(V,L,k,H){void 0!==k&&void 0!==H?C.call(this,V,L,k,H):C.call(this,V,L),this.angle=0,this.circleIndex=-1,this.totalCrossingOfEdges=-1,this.isCrossingNumberValid=!1}for(var A in I(0),N.prototype=Object.create(C.prototype),C)N[A]=C[A];N.prototype.getCircle=function(){return this.getOwner()},N.prototype.setIndex=function(V){this.circleIndex=V,this.isCrossingNumberValid=!1},N.prototype.getIndex=function(){return this.circleIndex},N.prototype.getNeighborsSortedByDegree=function(){var L=Array.from(this.getNeighborsList());return(L=L.filter(function(k){return-1===k.getIndex()})).sort(function(k,H){return k.getDegree()-H.getDegree()}),L},N.prototype.getDegree=function(){return this.getEdges().length},N.prototype.isOrdered=function(){return this.getIndex()>-1},N.prototype.setAngle=function(V){this.angle=V},N.prototype.getAngle=function(){return this.angle},N.prototype.getCircDistWithTheNode=function(V){var L=this,k=V.getIndex();if(-1===k||-1===L.getIndex())return-1;var H=L.getIndex()-k;return H<0&&(H+=L.getCircle().getSize()),H},N.prototype.getCrossingNumberWithNode=function(V){var k=0;return this.getEdges().forEach(function(H){V.getEdges().forEach(function($){k+=H.crossingWithEdge($)})}),k},N.prototype.getTotalCrossingOfEdges=function(){var V=this;return V.isCrossingNumberValid||(V.calculateTotalCrossing(),V.isCrossingNumberValid=!0),V.totalCrossingOfEdges},N.prototype.calculateTotalCrossing=function(){var V=this,L=0,k=[];k.push.apply(k,V.getCircle().getEdges()),k=k.filter(function(H){return V.getEdges().indexOf(H)<0}),V.getEdges().forEach(function(H){return L+=H.calculateTotalCrossingWithList(k)}),V.totalCrossingOfEdges=L},P.exports=N},function(P,O,I){"use strict";var C=I(0).Layout,S=I(2),N=I(1),A=I(4),V=I(3);function L(){C.call(this),this.nodeSeparation=S.DEFAULT_NODE_SEPARATION}for(var k in L.prototype=Object.create(C.prototype),C)L[k]=C[k];L.prototype.newGraph=function(H){return this.avsdfCircle=new N(null,this.graphManager,H),this.avsdfCircle},L.prototype.newNode=function(H){return new A(this.graphManager,H)},L.prototype.newEdge=function(H){return new V(null,null,H)},L.prototype.getPositionsData=function(){for(var H=this.graphManager.getAllNodes(),$={},Q=0;Q<H.length;Q++){var ue=H[Q].rect,ne=H[Q].id;$[ne]={id:ne,x:ue.getCenterX(),y:ue.getCenterY(),w:ue.width,h:ue.height}}return $},L.prototype.layout=function(){if(this.graphManager.getGraphs().length>1)return!1;var $=this.avsdfCircle;for($.setNodeSeparation(this.nodeSeparation),$.calculateRadius(),$.initOrdering();!$.hasFinishedOrdering();){var Q=$.findNodeToPlace();$.putInOrder(Q)}return!0},L.prototype.updateNodeAngles=function(){this.graphManager.getRoot().correctAngles()},L.prototype.updateNodeCoordinates=function(){var H=this.graphManager.getRoot();H.getNodes().forEach(function($){$.setCenter(H.getCenterX()+H.getRadius()*Math.cos($.getAngle()),H.getCenterY()+H.getRadius()*Math.sin($.getAngle()))})},L.prototype.initPostProcess=function(){this.avsdfCircle.calculateEdgeCrossingsOfNodes();var H=this.avsdfCircle.getNodes();return H.sort(function($,Q){return Q.getTotalCrossingOfEdges()-$.getTotalCrossingOfEdges()}),H},L.prototype.oneStepPostProcess=function(H){for(var $=this,Q=H.getTotalCrossingOfEdges(),ue=void 0,ne=Array.from(H.getNeighborsList()),le=0;le<ne.length;le++){var ae=ne[le],de=H.getIndex(),te=(ae.getIndex()+1)%$.avsdfCircle.getSize();if(de!==te){H.setIndex(te),de<H.getIndex()&&(de+=$.avsdfCircle.getSize());for(var pe=H.getIndex();pe<de;){var q=$.avsdfCircle.getOrder()[pe%$.avsdfCircle.getSize()];q.setIndex((q.getIndex()+1)%$.avsdfCircle.getSize()),pe+=1}H.calculateTotalCrossing(),(ue=H.getTotalCrossingOfEdges())>=Q?$.avsdfCircle.loadOldIndicesOfNodes():($.avsdfCircle.reOrderVertices(),Q=ue)}}},P.exports=L},function(P,O,I){"use strict";var C={};C.layoutBase=I(0),C.AVSDFConstants=I(2),C.AVSDFEdge=I(3),C.AVSDFCircle=I(1),C.AVSDFLayout=I(5),C.AVSDFNode=I(4),P.exports=C}]))},3163:(Y,se,D)=>{!function(T){var P=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),O=T.Pos,I={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function C(k){return k&&k.bracketRegex||/[(){}[\]]/}function S(k,H,$){var Q=k.getLineHandle(H.line),ue=H.ch-1,ne=$&&$.afterCursor;null==ne&&(ne=/(^| )cm-fat-cursor($| )/.test(k.getWrapperElement().className));var le=C($),ae=!ne&&ue>=0&&le.test(Q.text.charAt(ue))&&I[Q.text.charAt(ue)]||le.test(Q.text.charAt(ue+1))&&I[Q.text.charAt(++ue)];if(!ae)return null;var de=">"==ae.charAt(1)?1:-1;if($&&$.strict&&de>0!=(ue==H.ch))return null;var te=k.getTokenTypeAt(O(H.line,ue+1)),pe=N(k,O(H.line,ue+(de>0?1:0)),de,te,$);return null==pe?null:{from:O(H.line,ue),to:pe&&pe.pos,match:pe&&pe.ch==ae.charAt(0),forward:de>0}}function N(k,H,$,Q,ue){for(var ne=ue&&ue.maxScanLineLength||1e4,le=ue&&ue.maxScanLines||1e3,ae=[],de=C(ue),te=$>0?Math.min(H.line+le,k.lastLine()+1):Math.max(k.firstLine()-1,H.line-le),pe=H.line;pe!=te;pe+=$){var q=k.getLine(pe);if(q){var oe=$>0?0:q.length-1,ie=$>0?q.length:-1;if(!(q.length>ne))for(pe==H.line&&(oe=H.ch-($<0?1:0));oe!=ie;oe+=$){var me=q.charAt(oe);if(de.test(me)&&(void 0===Q||(k.getTokenTypeAt(O(pe,oe+1))||"")==(Q||""))){var we=I[me];if(we&&">"==we.charAt(1)==$>0)ae.push(me);else{if(!ae.length)return{pos:O(pe,oe),ch:me};ae.pop()}}}}}return pe-$!=($>0?k.lastLine():k.firstLine())&&null}function A(k,H,$){for(var Q=k.state.matchBrackets.maxHighlightLineLength||1e3,ue=$&&$.highlightNonMatching,ne=[],le=k.listSelections(),ae=0;ae<le.length;ae++){var de=le[ae].empty()&&S(k,le[ae].head,$);if(de&&(de.match||!1!==ue)&&k.getLine(de.from.line).length<=Q){var te=de.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";ne.push(k.markText(de.from,O(de.from.line,de.from.ch+1),{className:te})),de.to&&k.getLine(de.to.line).length<=Q&&ne.push(k.markText(de.to,O(de.to.line,de.to.ch+1),{className:te}))}}if(ne.length){P&&k.state.focused&&k.focus();var pe=function(){k.operation(function(){for(var q=0;q<ne.length;q++)ne[q].clear()})};if(!H)return pe;setTimeout(pe,800)}}function V(k){k.operation(function(){k.state.matchBrackets.currentlyHighlighted&&(k.state.matchBrackets.currentlyHighlighted(),k.state.matchBrackets.currentlyHighlighted=null),k.state.matchBrackets.currentlyHighlighted=A(k,!1,k.state.matchBrackets)})}function L(k){k.state.matchBrackets&&k.state.matchBrackets.currentlyHighlighted&&(k.state.matchBrackets.currentlyHighlighted(),k.state.matchBrackets.currentlyHighlighted=null)}T.defineOption("matchBrackets",!1,function(k,H,$){$&&$!=T.Init&&(k.off("cursorActivity",V),k.off("focus",V),k.off("blur",L),L(k)),H&&(k.state.matchBrackets="object"==typeof H?H:{},k.on("cursorActivity",V),k.on("focus",V),k.on("blur",L))}),T.defineExtension("matchBrackets",function(){A(this,!0)}),T.defineExtension("findMatchingBracket",function(k,H,$){return($||"boolean"==typeof H)&&($?($.strict=H,H=$):H=H?{strict:!0}:null),S(this,k,H)}),T.defineExtension("scanForBracket",function(k,H,$,Q){return N(this,k,H,$,Q)})}(D(656))},656:function(Y){Y.exports=function(){"use strict";var se=navigator.userAgent,D=navigator.platform,T=/gecko\/\d/i.test(se),P=/MSIE \d/.test(se),O=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(se),I=/Edge\/(\d+)/.exec(se),C=P||O||I,S=C&&(P?document.documentMode||6:+(I||O)[1]),N=!I&&/WebKit\//.test(se),A=N&&/Qt\/\d+\.\d+/.test(se),V=!I&&/Chrome\/(\d+)/.exec(se),L=V&&+V[1],k=/Opera\//.test(se),H=/Apple Computer/.test(navigator.vendor),$=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(se),Q=/PhantomJS/.test(se),ue=H&&(/Mobile\/\w+/.test(se)||navigator.maxTouchPoints>2),ne=/Android/.test(se),le=ue||ne||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(se),ae=ue||/Mac/.test(D),de=/\bCrOS\b/.test(se),te=/win/i.test(D),pe=k&&se.match(/Version\/(\d*\.\d*)/);pe&&(pe=Number(pe[1])),pe&&pe>=15&&(k=!1,N=!0);var q=ae&&(A||k&&(null==pe||pe<12.11)),oe=T||C&&S>=9;function ie(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var Be,me=function(a,c){var y=a.className,v=ie(c).exec(y);if(v){var b=y.slice(v.index+v[0].length);a.className=y.slice(0,v.index)+(b?v[1]+b:"")}};function we(a){for(var c=a.childNodes.length;c>0;--c)a.removeChild(a.firstChild);return a}function Se(a,c){return we(a).appendChild(c)}function De(a,c,y,v){var b=document.createElement(a);if(y&&(b.className=y),v&&(b.style.cssText=v),"string"==typeof c)b.appendChild(document.createTextNode(c));else if(c)for(var B=0;B<c.length;++B)b.appendChild(c[B]);return b}function ze(a,c,y,v){var b=De(a,c,y,v);return b.setAttribute("role","presentation"),b}function at(a,c){if(3==c.nodeType&&(c=c.parentNode),a.contains)return a.contains(c);do{if(11==c.nodeType&&(c=c.host),c==a)return!0}while(c=c.parentNode)}function ht(a){var c;try{c=a.activeElement}catch{c=a.body||null}for(;c&&c.shadowRoot&&c.shadowRoot.activeElement;)c=c.shadowRoot.activeElement;return c}function Ke(a,c){var y=a.className;ie(c).test(y)||(a.className+=(y?" ":"")+c)}function Ct(a,c){for(var y=a.split(" "),v=0;v<y.length;v++)y[v]&&!ie(y[v]).test(c)&&(c+=" "+y[v]);return c}Be=document.createRange?function(a,c,y,v){var b=document.createRange();return b.setEnd(v||a,y),b.setStart(a,c),b}:function(a,c,y){var v=document.body.createTextRange();try{v.moveToElementText(a.parentNode)}catch{return v}return v.collapse(!0),v.moveEnd("character",y),v.moveStart("character",c),v};var qe=function(a){a.select()};function qt(a){return a.display.wrapper.ownerDocument}function Ht(a){return qt(a).defaultView}function It(a){var c=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,c)}}function vn(a,c,y){for(var v in c||(c={}),a)a.hasOwnProperty(v)&&(!1!==y||!c.hasOwnProperty(v))&&(c[v]=a[v]);return c}function cn(a,c,y,v,b){null==c&&-1==(c=a.search(/[^\s\u00a0]/))&&(c=a.length);for(var B=v||0,G=b||0;;){var K=a.indexOf("\t",B);if(K<0||K>=c)return G+(c-B);G+=K-B,G+=y-G%y,B=K+1}}ue?qe=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:C&&(qe=function(a){try{a.select()}catch{}});var ut=function(){this.id=null,this.f=null,this.time=0,this.handler=It(this.onTimeout,this)};function it(a,c){for(var y=0;y<a.length;++y)if(a[y]==c)return y;return-1}ut.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},ut.prototype.set=function(a,c){this.f=c;var y=+new Date+a;(!this.id||y<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=y)};var pt=50,Ft={toString:function(){return"CodeMirror.Pass"}},St={scroll:!1},Kn={origin:"*mouse"},Jn={origin:"+move"};function Sr(a,c,y){for(var v=0,b=0;;){var B=a.indexOf("\t",v);-1==B&&(B=a.length);var G=B-v;if(B==a.length||b+G>=c)return v+Math.min(G,c-b);if(b+=B-v,v=B+1,(b+=y-b%y)>=c)return v}}var kr=[""];function Cr(a){for(;kr.length<=a;)kr.push(_n(kr)+" ");return kr[a]}function _n(a){return a[a.length-1]}function Hn(a,c){for(var y=[],v=0;v<a.length;v++)y[v]=c(a[v],v);return y}function dn(){}function Ri(a,c){var y;return Object.create?y=Object.create(a):(dn.prototype=a,y=new dn),c&&vn(c,y),y}var ro=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Fi(a){return/\w/.test(a)||a>"\x80"&&(a.toUpperCase()!=a.toLowerCase()||ro.test(a))}function Bi(a,c){return c?!!(c.source.indexOf("\\w")>-1&&Fi(a))||c.test(a):Fi(a)}function jr(a){for(var c in a)if(a.hasOwnProperty(c)&&a[c])return!1;return!0}var Ki=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ja(a){return a.charCodeAt(0)>=768&&Ki.test(a)}function Ts(a,c,y){for(;(y<0?c>0:c<a.length)&&ja(a.charAt(c));)c+=y;return c}function Nn(a,c,y){for(var v=c>y?-1:1;;){if(c==y)return c;var b=(c+y)/2,B=v<0?Math.ceil(b):Math.floor(b);if(B==c)return a(B)?c:y;a(B)?y=B:c=B+v}}var Yo=null;function Xo(a,c,y){var v;Yo=null;for(var b=0;b<a.length;++b){var B=a[b];if(B.from<c&&B.to>c)return b;B.to==c&&(B.from!=B.to&&"before"==y?v=b:Yo=b),B.from==c&&(B.from!=B.to&&"before"!=y?v=b:Yo=b)}return v??Yo}var dl=function(){function y(ce){return ce<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(ce):1424<=ce&&ce<=1524?"R":1536<=ce&&ce<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(ce-1536):1774<=ce&&ce<=2220?"r":8192<=ce&&ce<=8203?"w":8204==ce?"b":"L"}var v=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,b=/[stwN]/,B=/[LRr]/,G=/[Lb1n]/,K=/[1n]/;function ee(ce,Ee,Le){this.level=ce,this.from=Ee,this.to=Le}return function(ce,Ee){var Le="ltr"==Ee?"L":"R";if(0==ce.length||"ltr"==Ee&&!v.test(ce))return!1;for(var Xe=ce.length,je=[],gt=0;gt<Xe;++gt)je.push(y(ce.charCodeAt(gt)));for(var _t=0,Ut=Le;_t<Xe;++_t){var jt=je[_t];"m"==jt?je[_t]=Ut:Ut=jt}for(var Qt=0,Xt=Le;Qt<Xe;++Qt){var $t=je[Qt];"1"==$t&&"r"==Xt?je[Qt]="n":B.test($t)&&(Xt=$t,"r"==$t&&(je[Qt]="R"))}for(var kn=1,En=je[0];kn<Xe-1;++kn){var nr=je[kn];"+"==nr&&"1"==En&&"1"==je[kn+1]?je[kn]="1":","==nr&&En==je[kn+1]&&("1"==En||"n"==En)&&(je[kn]=En),En=nr}for(var fr=0;fr<Xe;++fr){var Ai=je[fr];if(","==Ai)je[fr]="N";else if("%"==Ai){var xi=void 0;for(xi=fr+1;xi<Xe&&"%"==je[xi];++xi);for(var jo=fr&&"!"==je[fr-1]||xi<Xe&&"1"==je[xi]?"1":"N",$i=fr;$i<xi;++$i)je[$i]=jo;fr=xi-1}}for(var Oi=0,fa=Le;Oi<Xe;++Oi){var Wo=je[Oi];"L"==fa&&"1"==Wo?je[Oi]="L":B.test(Wo)&&(fa=Wo)}for(var To=0;To<Xe;++To)if(b.test(je[To])){var zr=void 0;for(zr=To+1;zr<Xe&&b.test(je[zr]);++zr);for(var Ei="L"==(To?je[To-1]:Le),Wd=Ei==("L"==(zr<Xe?je[zr]:Le))?Ei?"L":"R":Le,Dl=To;Dl<zr;++Dl)je[Dl]=Wd;To=zr-1}for(var ol,Qo=[],Mo=0;Mo<Xe;)if(G.test(je[Mo])){var Bh=Mo;for(++Mo;Mo<Xe&&G.test(je[Mo]);++Mo);Qo.push(new ee(0,Bh,Mo))}else{var Sl=Mo,Fu=Qo.length,Tl="rtl"==Ee?1:0;for(++Mo;Mo<Xe&&"L"!=je[Mo];++Mo);for(var Ni=Sl;Ni<Mo;)if(K.test(je[Ni])){Sl<Ni&&(Qo.splice(Fu,0,new ee(1,Sl,Ni)),Fu+=Tl);var Oc=Ni;for(++Ni;Ni<Mo&&K.test(je[Ni]);++Ni);Qo.splice(Fu,0,new ee(2,Oc,Ni)),Fu+=Tl,Sl=Ni}else++Ni;Sl<Mo&&Qo.splice(Fu,0,new ee(1,Sl,Mo))}return"ltr"==Ee&&(1==Qo[0].level&&(ol=ce.match(/^\s+/))&&(Qo[0].from=ol[0].length,Qo.unshift(new ee(0,0,ol[0].length))),1==_n(Qo).level&&(ol=ce.match(/\s+$/))&&(_n(Qo).to-=ol[0].length,Qo.push(new ee(0,Xe-ol[0].length,Xe)))),"rtl"==Ee?Qo.reverse():Qo}}();function Wa(a,c){var y=a.order;return null==y&&(y=a.order=dl(a.text,c)),y}var Ms=[],Cn=function(a,c,y){if(a.addEventListener)a.addEventListener(c,y,!1);else if(a.attachEvent)a.attachEvent("on"+c,y);else{var v=a._handlers||(a._handlers={});v[c]=(v[c]||Ms).concat(y)}};function va(a,c){return a._handlers&&a._handlers[c]||Ms}function go(a,c,y){if(a.removeEventListener)a.removeEventListener(c,y,!1);else if(a.detachEvent)a.detachEvent("on"+c,y);else{var v=a._handlers,b=v&&v[c];if(b){var B=it(b,y);B>-1&&(v[c]=b.slice(0,B).concat(b.slice(B+1)))}}}function pi(a,c){var y=va(a,c);if(y.length)for(var v=Array.prototype.slice.call(arguments,2),b=0;b<y.length;++b)y[b].apply(null,v)}function qi(a,c,y){return"string"==typeof c&&(c={type:c,preventDefault:function(){this.defaultPrevented=!0}}),pi(a,y||c.type,a,c),Jc(c)||c.codemirrorIgnore}function mu(a){var c=a._handlers&&a._handlers.cursorActivity;if(c)for(var y=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),v=0;v<c.length;++v)-1==it(y,c[v])&&y.push(c[v])}function Ti(a,c){return va(a,c).length>0}function Ma(a){a.prototype.on=function(c,y){Cn(this,c,y)},a.prototype.off=function(c,y){go(this,c,y)}}function Vi(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Ks(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Jc(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function Ia(a){Vi(a),Ks(a)}function qs(a){return a.target||a.srcElement}function ed(a){var c=a.which;return null==c&&(1&a.button?c=1:2&a.button?c=3:4&a.button&&(c=2)),ae&&a.ctrlKey&&1==c&&(c=3),c}var Aa,ss,as=function(){if(C&&S<9)return!1;var a=De("div");return"draggable"in a||"dragDrop"in a}();function dh(a){if(null==Aa){var c=De("span","\u200b");Se(a,De("span",[c,document.createTextNode("x")])),0!=a.firstChild.offsetHeight&&(Aa=c.offsetWidth<=1&&c.offsetHeight>2&&!(C&&S<8))}var y=Aa?De("span","\u200b"):De("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return y.setAttribute("cm-text",""),y}function td(a){if(null!=ss)return ss;var c=Se(a,document.createTextNode("A\u062eA")),y=Be(c,0,1).getBoundingClientRect(),v=Be(c,1,2).getBoundingClientRect();return we(a),!(!y||y.left==y.right)&&(ss=v.right-y.right<3)}var a,vu=3!="\n\nb".split(/\n/).length?function(a){for(var c=0,y=[],v=a.length;c<=v;){var b=a.indexOf("\n",c);-1==b&&(b=a.length);var B=a.slice(c,"\r"==a.charAt(b-1)?b-1:b),G=B.indexOf("\r");-1!=G?(y.push(B.slice(0,G)),c+=G+1):(y.push(B),c=b+1)}return y}:function(a){return a.split(/\r\n?|\n/)},ec=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var c;try{c=a.ownerDocument.selection.createRange()}catch{}return!(!c||c.parentElement()!=a)&&0!=c.compareEndPoints("StartToEnd",c)},No="oncopy"in(a=De("div"))||(a.setAttribute("oncopy","return;"),"function"==typeof a.oncopy),nd=null;var nc={},Is={};function rc(a,c){arguments.length>2&&(c.dependencies=Array.prototype.slice.call(arguments,2)),nc[a]=c}function ri(a){if("string"==typeof a&&Is.hasOwnProperty(a))a=Is[a];else if(a&&"string"==typeof a.name&&Is.hasOwnProperty(a.name)){var c=Is[a.name];"string"==typeof c&&(c={name:c}),(a=Ri(c,a)).name=c.name}else{if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return ri("application/xml");if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return ri("application/json")}return"string"==typeof a?{name:a}:a||{name:"null"}}function Oa(a,c){c=ri(c);var y=nc[c.name];if(!y)return Oa(a,"text/plain");var v=y(a,c);if(Tr.hasOwnProperty(c.name)){var b=Tr[c.name];for(var B in b)b.hasOwnProperty(B)&&(v.hasOwnProperty(B)&&(v["_"+B]=v[B]),v[B]=b[B])}if(v.name=c.name,c.helperType&&(v.helperType=c.helperType),c.modeProps)for(var G in c.modeProps)v[G]=c.modeProps[G];return v}var Tr={};function Zi(a,c){vn(c,Tr.hasOwnProperty(a)?Tr[a]:Tr[a]={})}function ki(a,c){if(!0===c)return c;if(a.copyState)return a.copyState(c);var y={};for(var v in c){var b=c[v];b instanceof Array&&(b=b.concat([])),y[v]=b}return y}function oa(a,c){for(var y;a.innerMode&&(y=a.innerMode(c))&&y.mode!=a;)c=y.state,a=y.mode;return y||{mode:a,state:c}}function ff(a,c,y){return!a.startState||a.startState(c,y)}var Pi=function(a,c,y){this.pos=this.start=0,this.string=a,this.tabSize=c||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=y};function xn(a,c){if((c-=a.first)<0||c>=a.size)throw new Error("There is no line "+(c+a.first)+" in the document.");for(var y=a;!y.lines;)for(var v=0;;++v){var b=y.children[v],B=b.chunkSize();if(c<B){y=b;break}c-=B}return y.lines[c]}function li(a,c,y){var v=[],b=c.line;return a.iter(c.line,y.line+1,function(B){var G=B.text;b==y.line&&(G=G.slice(0,y.ch)),b==c.line&&(G=G.slice(c.ch)),v.push(G),++b}),v}function $a(a,c,y){var v=[];return a.iter(c,y,function(b){v.push(b.text)}),v}function Ro(a,c){var y=c-a.height;if(y)for(var v=a;v;v=v.parent)v.height+=y}function Pr(a){if(null==a.parent)return null;for(var c=a.parent,y=it(c.lines,a),v=c.parent;v;c=v,v=v.parent)for(var b=0;v.children[b]!=c;++b)y+=v.children[b].chunkSize();return y+c.first}function Qi(a,c){var y=a.first;e:do{for(var v=0;v<a.children.length;++v){var b=a.children[v],B=b.height;if(c<B){a=b;continue e}c-=B,y+=b.chunkSize()}return y}while(!a.lines);for(var G=0;G<a.lines.length;++G){var ee=a.lines[G].height;if(c<ee)break;c-=ee}return y+G}function ko(a,c){return c>=a.first&&c<a.first+a.size}function id(a,c){return String(a.lineNumberFormatter(c+a.firstLineNumber))}function Tt(a,c,y){if(void 0===y&&(y=null),!(this instanceof Tt))return new Tt(a,c,y);this.line=a,this.ch=c,this.sticky=y}function Yn(a,c){return a.line-c.line||a.ch-c.ch}function od(a,c){return a.sticky==c.sticky&&0==Yn(a,c)}function As(a){return Tt(a.line,a.ch)}function Oe(a,c){return Yn(a,c)<0?c:a}function Re(a,c){return Yn(a,c)<0?a:c}function Ve(a,c){return Math.max(a.first,Math.min(c,a.first+a.size-1))}function rt(a,c){if(c.line<a.first)return Tt(a.first,0);var y=a.first+a.size-1;return c.line>y?Tt(y,xn(a,y).text.length):function tt(a,c){var y=a.ch;return null==y||y>c?Tt(a.line,c):y<0?Tt(a.line,0):a}(c,xn(a,c.line).text.length)}function Zt(a,c){for(var y=[],v=0;v<c.length;v++)y[v]=rt(a,c[v]);return y}Pi.prototype.eol=function(){return this.pos>=this.string.length},Pi.prototype.sol=function(){return this.pos==this.lineStart},Pi.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Pi.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Pi.prototype.eat=function(a){var c=this.string.charAt(this.pos);if("string"==typeof a?c==a:c&&(a.test?a.test(c):a(c)))return++this.pos,c},Pi.prototype.eatWhile=function(a){for(var c=this.pos;this.eat(a););return this.pos>c},Pi.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},Pi.prototype.skipToEnd=function(){this.pos=this.string.length},Pi.prototype.skipTo=function(a){var c=this.string.indexOf(a,this.pos);if(c>-1)return this.pos=c,!0},Pi.prototype.backUp=function(a){this.pos-=a},Pi.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=cn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?cn(this.string,this.lineStart,this.tabSize):0)},Pi.prototype.indentation=function(){return cn(this.string,null,this.tabSize)-(this.lineStart?cn(this.string,this.lineStart,this.tabSize):0)},Pi.prototype.match=function(a,c,y){if("string"!=typeof a){var B=this.string.slice(this.pos).match(a);return B&&B.index>0?null:(B&&!1!==c&&(this.pos+=B[0].length),B)}var v=function(G){return y?G.toLowerCase():G};if(v(this.string.substr(this.pos,a.length))==v(a))return!1!==c&&(this.pos+=a.length),!0},Pi.prototype.current=function(){return this.string.slice(this.start,this.pos)},Pi.prototype.hideFirstChars=function(a,c){this.lineStart+=a;try{return c()}finally{this.lineStart-=a}},Pi.prototype.lookAhead=function(a){var c=this.lineOracle;return c&&c.lookAhead(a)},Pi.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var mn=function(a,c){this.state=a,this.lookAhead=c},Vt=function(a,c,y,v){this.state=c,this.doc=a,this.line=y,this.maxLookAhead=v||0,this.baseTokens=null,this.baseTokenPos=1};function en(a,c,y,v){var b=[a.state.modeGen],B={};Lr(a,c.text,a.doc.mode,y,function(ce,Ee){return b.push(ce,Ee)},B,v);for(var G=y.state,K=function(ce){y.baseTokens=b;var Ee=a.state.overlays[ce],Le=1,Xe=0;y.state=!0,Lr(a,c.text,Ee.mode,y,function(je,gt){for(var _t=Le;Xe<je;){var Ut=b[Le];Ut>je&&b.splice(Le,1,je,b[Le+1],Ut),Le+=2,Xe=Math.min(je,Ut)}if(gt)if(Ee.opaque)b.splice(_t,Le-_t,je,"overlay "+gt),Le=_t+2;else for(;_t<Le;_t+=2){var jt=b[_t+1];b[_t+1]=(jt?jt+" ":"")+"overlay "+gt}},B),y.state=G,y.baseTokens=null,y.baseTokenPos=1},ee=0;ee<a.state.overlays.length;++ee)K(ee);return{styles:b,classes:B.bgClass||B.textClass?B:null}}function Un(a,c,y){if(!c.styles||c.styles[0]!=a.state.modeGen){var v=Bt(a,Pr(c)),b=c.text.length>a.options.maxHighlightLength&&ki(a.doc.mode,v.state),B=en(a,c,v);b&&(v.state=b),c.stateAfter=v.save(!b),c.styles=B.styles,B.classes?c.styleClasses=B.classes:c.styleClasses&&(c.styleClasses=null),y===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return c.styles}function Bt(a,c,y){var v=a.doc,b=a.display;if(!v.mode.startState)return new Vt(v,!0,c);var B=function gi(a,c,y){for(var v,b,B=a.doc,G=y?-1:c-(a.doc.mode.innerMode?1e3:100),K=c;K>G;--K){if(K<=B.first)return B.first;var ee=xn(B,K-1),ce=ee.stateAfter;if(ce&&(!y||K+(ce instanceof mn?ce.lookAhead:0)<=B.modeFrontier))return K;var Ee=cn(ee.text,null,a.options.tabSize);(null==b||v>Ee)&&(b=K-1,v=Ee)}return b}(a,c,y),G=B>v.first&&xn(v,B-1).stateAfter,K=G?Vt.fromSaved(v,G,B):new Vt(v,ff(v.mode),B);return v.iter(B,c,function(ee){Ar(a,ee.text,K);var ce=K.line;ee.stateAfter=ce==c-1||ce%5==0||ce>=b.viewFrom&&ce<b.viewTo?K.save():null,K.nextLine()}),y&&(v.modeFrontier=K.line),K}function Ar(a,c,y,v){var b=a.doc.mode,B=new Pi(c,a.options.tabSize,y);for(B.start=B.pos=v||0,""==c&&er(b,y.state);!B.eol();)or(b,B,y.state),B.start=B.pos}function er(a,c){if(a.blankLine)return a.blankLine(c);if(a.innerMode){var y=oa(a,c);if(y.mode.blankLine)return y.mode.blankLine(y.state)}}function or(a,c,y,v){for(var b=0;b<10;b++){v&&(v[0]=oa(a,y).mode);var B=a.token(c,y);if(c.pos>c.start)return B}throw new Error("Mode "+a.name+" failed to advance stream.")}Vt.prototype.lookAhead=function(a){var c=this.doc.getLine(this.line+a);return null!=c&&a>this.maxLookAhead&&(this.maxLookAhead=a),c},Vt.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var c=this.baseTokens[this.baseTokenPos+1];return{type:c&&c.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Vt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Vt.fromSaved=function(a,c,y){return c instanceof mn?new Vt(a,ki(a.mode,c.state),y,c.lookAhead):new Vt(a,ki(a.mode,c),y)},Vt.prototype.save=function(a){var c=!1!==a?ki(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new mn(c,this.maxLookAhead):c};var ii=function(a,c,y){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=c||null,this.state=y};function An(a,c,y,v){var G,Ee,b=a.doc,B=b.mode,K=xn(b,(c=rt(b,c)).line),ee=Bt(a,c.line,y),ce=new Pi(K.text,a.options.tabSize,ee);for(v&&(Ee=[]);(v||ce.pos<c.ch)&&!ce.eol();)ce.start=ce.pos,G=or(B,ce,ee.state),v&&Ee.push(new ii(ce,G,ki(b.mode,ee.state)));return v?Ee:new ii(ce,G,ee.state)}function on(a,c){if(a)for(;;){var y=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!y)break;a=a.slice(0,y.index)+a.slice(y.index+y[0].length);var v=y[1]?"bgClass":"textClass";null==c[v]?c[v]=y[2]:new RegExp("(?:^|\\s)"+y[2]+"(?:$|\\s)").test(c[v])||(c[v]+=" "+y[2])}return a}function Lr(a,c,y,v,b,B,G){var K=y.flattenSpans;null==K&&(K=a.options.flattenSpans);var Le,ee=0,ce=null,Ee=new Pi(c,a.options.tabSize,v),Xe=a.options.addModeClass&&[null];for(""==c&&on(er(y,v.state),B);!Ee.eol();){if(Ee.pos>a.options.maxHighlightLength?(K=!1,G&&Ar(a,c,v,Ee.pos),Ee.pos=c.length,Le=null):Le=on(or(y,Ee,v.state,Xe),B),Xe){var je=Xe[0].name;je&&(Le="m-"+(Le?je+" "+Le:je))}if(!K||ce!=Le){for(;ee<Ee.start;)b(ee=Math.min(Ee.start,ee+5e3),ce);ce=Le}Ee.start=Ee.pos}for(;ee<Ee.pos;){var gt=Math.min(Ee.pos,ee+5e3);b(gt,ce),ee=gt}}var mr=!1,et=!1;function Gn(a,c,y){this.marker=a,this.from=c,this.to=y}function ci(a,c){if(a)for(var y=0;y<a.length;++y){var v=a[y];if(v.marker==c)return v}}function Hi(a,c){for(var y,v=0;v<a.length;++v)a[v]!=c&&(y||(y=[])).push(a[v]);return y}function Zs(a,c){if(c.full)return null;var y=ko(a,c.from.line)&&xn(a,c.from.line).markedSpans,v=ko(a,c.to.line)&&xn(a,c.to.line).markedSpans;if(!y&&!v)return null;var b=c.from.ch,B=c.to.ch,G=0==Yn(c.from,c.to),K=function zi(a,c,y){var v;if(a)for(var b=0;b<a.length;++b){var B=a[b],G=B.marker;null!=B.from&&!(G.inclusiveLeft?B.from<=c:B.from<c)&&(B.from!=c||"bookmark"!=G.type||y&&B.marker.insertLeft)||(v||(v=[])).push(new Gn(G,B.from,null==B.to||(G.inclusiveRight?B.to>=c:B.to>c)?null:B.to))}return v}(y,b,G),ee=function Nr(a,c,y){var v;if(a)for(var b=0;b<a.length;++b){var B=a[b],G=B.marker;(null==B.to||(G.inclusiveRight?B.to>=c:B.to>c)||B.from==c&&"bookmark"==G.type&&(!y||B.marker.insertLeft))&&(v||(v=[])).push(new Gn(G,null==B.from||(G.inclusiveLeft?B.from<=c:B.from<c)?null:B.from-c,null==B.to?null:B.to-c))}return v}(v,B,G),ce=1==c.text.length,Ee=_n(c.text).length+(ce?b:0);if(K)for(var Le=0;Le<K.length;++Le){var Xe=K[Le];if(null==Xe.to){var je=ci(ee,Xe.marker);je?ce&&(Xe.to=null==je.to?null:je.to+Ee):Xe.to=b}}if(ee)for(var gt=0;gt<ee.length;++gt){var _t=ee[gt];null!=_t.to&&(_t.to+=Ee),null==_t.from?ci(K,_t.marker)||(_t.from=Ee,ce&&(K||(K=[])).push(_t)):(_t.from+=Ee,ce&&(K||(K=[])).push(_t))}K&&(K=di(K)),ee&&ee!=K&&(ee=di(ee));var jt=[K];if(!ce){var Xt,Qt=c.text.length-2;if(Qt>0&&K)for(var $t=0;$t<K.length;++$t)null==K[$t].to&&(Xt||(Xt=[])).push(new Gn(K[$t].marker,null,null));for(var kn=0;kn<Qt;++kn)jt.push(Xt);jt.push(ee)}return jt}function di(a){for(var c=0;c<a.length;++c){var y=a[c];null!=y.from&&y.from==y.to&&!1!==y.marker.clearWhenEmpty&&a.splice(c--,1)}return a.length?a:null}function Ji(a){var c=a.markedSpans;if(c){for(var y=0;y<c.length;++y)c[y].marker.detachLine(a);a.markedSpans=null}}function Qs(a,c){if(c){for(var y=0;y<c.length;++y)c[y].marker.attachLine(a);a.markedSpans=c}}function Mi(a){return a.inclusiveLeft?-1:0}function Hl(a){return a.inclusiveRight?1:0}function ic(a,c){var y=a.lines.length-c.lines.length;if(0!=y)return y;var v=a.find(),b=c.find(),B=Yn(v.from,b.from)||Mi(a)-Mi(c);return B?-B:Yn(v.to,b.to)||Hl(a)-Hl(c)||c.id-a.id}function zl(a,c){var v,y=et&&a.markedSpans;if(y)for(var b=void 0,B=0;B<y.length;++B)(b=y[B]).marker.collapsed&&null==(c?b.from:b.to)&&(!v||ic(v,b.marker)<0)&&(v=b.marker);return v}function oc(a){return zl(a,!0)}function Na(a){return zl(a,!1)}function Os(a,c){var v,y=et&&a.markedSpans;if(y)for(var b=0;b<y.length;++b){var B=y[b];B.marker.collapsed&&(null==B.from||B.from<c)&&(null==B.to||B.to>c)&&(!v||ic(v,B.marker)<0)&&(v=B.marker)}return v}function io(a,c,y,v,b){var B=xn(a,c),G=et&&B.markedSpans;if(G)for(var K=0;K<G.length;++K){var ee=G[K];if(ee.marker.collapsed){var ce=ee.marker.find(0),Ee=Yn(ce.from,y)||Mi(ee.marker)-Mi(b),Le=Yn(ce.to,v)||Hl(ee.marker)-Hl(b);if(!(Ee>=0&&Le<=0||Ee<=0&&Le>=0)&&(Ee<=0&&(ee.marker.inclusiveRight&&b.inclusiveLeft?Yn(ce.to,y)>=0:Yn(ce.to,y)>0)||Ee>=0&&(ee.marker.inclusiveRight&&b.inclusiveLeft?Yn(ce.from,v)<=0:Yn(ce.from,v)<0)))return!0}}}function tr(a){for(var c;c=oc(a);)a=c.find(-1,!0).line;return a}function ad(a,c){var y=xn(a,c),v=tr(y);return y==v?c:Pr(v)}function an(a,c){if(c>a.lastLine())return c;var v,y=xn(a,c);if(!fl(a,y))return c;for(;v=Na(y);)y=v.find(1,!0).line;return Pr(y)+1}function fl(a,c){var y=et&&c.markedSpans;if(y)for(var v=void 0,b=0;b<y.length;++b)if((v=y[b]).marker.collapsed){if(null==v.from)return!0;if(!v.marker.widgetNode&&0==v.from&&v.marker.inclusiveLeft&&Jr(a,c,v))return!0}}function Jr(a,c,y){if(null==y.to){var v=y.marker.find(1,!0);return Jr(a,v.line,ci(v.line.markedSpans,y.marker))}if(y.marker.inclusiveRight&&y.to==c.text.length)return!0;for(var b=void 0,B=0;B<c.markedSpans.length;++B)if((b=c.markedSpans[B]).marker.collapsed&&!b.marker.widgetNode&&b.from==y.to&&(null==b.to||b.to!=y.from)&&(b.marker.inclusiveLeft||y.marker.inclusiveRight)&&Jr(a,c,b))return!0}function Ra(a){for(var c=0,y=(a=tr(a)).parent,v=0;v<y.lines.length;++v){var b=y.lines[v];if(b==a)break;c+=b.height}for(var B=y.parent;B;B=(y=B).parent)for(var G=0;G<B.children.length;++G){var K=B.children[G];if(K==y)break;c+=K.height}return c}function ac(a){if(0==a.height)return 0;for(var y,c=a.text.length,v=a;y=oc(v);){var b=y.find(0,!0);v=b.from.line,c+=b.from.ch-b.to.ch}for(v=a;y=Na(v);){var B=y.find(0,!0);c-=v.text.length-B.from.ch,c+=(v=B.to.line).text.length-B.to.ch}return c}function yu(a){var c=a.display,y=a.doc;c.maxLine=xn(y,y.first),c.maxLineLength=ac(c.maxLine),c.maxLineChanged=!0,y.iter(function(v){var b=ac(v);b>c.maxLineLength&&(c.maxLineLength=b,c.maxLine=v)})}var hl=function(a,c,y){this.text=a,Qs(this,c),this.height=y?y(this):1};function ka(a){a.parent=null,Ji(a)}hl.prototype.lineNo=function(){return Pr(this)},Ma(hl);var Ns={},Ul={};function sc(a,c){if(!a||/^\s*$/.test(a))return null;var y=c.addModeClass?Ul:Ns;return y[a]||(y[a]=a.replace(/\S+/g,"cm-$&"))}function Fn(a,c){var y=ze("span",null,null,N?"padding-right: .1px":null),v={pre:ze("pre",[y],"CodeMirror-line"),content:y,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};c.measure={};for(var b=0;b<=(c.rest?c.rest.length:0);b++){var B=b?c.rest[b-1]:c.line,G=void 0;v.pos=0,v.addToken=pl,td(a.display.measure)&&(G=Wa(B,a.doc.direction))&&(v.addToken=ls(v.addToken,G)),v.map=[],mi(B,v,Un(a,B,c!=a.display.externalMeasured&&Pr(B))),B.styleClasses&&(B.styleClasses.bgClass&&(v.bgClass=Ct(B.styleClasses.bgClass,v.bgClass||"")),B.styleClasses.textClass&&(v.textClass=Ct(B.styleClasses.textClass,v.textClass||""))),0==v.map.length&&v.map.push(0,0,v.content.appendChild(dh(a.display.measure))),0==b?(c.measure.map=v.map,c.measure.cache={}):((c.measure.maps||(c.measure.maps=[])).push(v.map),(c.measure.caches||(c.measure.caches=[])).push({}))}if(N){var ee=v.content.lastChild;(/\bcm-tab\b/.test(ee.className)||ee.querySelector&&ee.querySelector(".cm-tab"))&&(v.content.className="cm-tab-wrap-hack")}return pi(a,"renderLine",a,c.line,v.pre),v.pre.className&&(v.textClass=Ct(v.pre.className,v.textClass||"")),v}function Xa(a){var c=De("span","\u2022","cm-invalidchar");return c.title="\\u"+a.charCodeAt(0).toString(16),c.setAttribute("aria-label",c.title),c}function pl(a,c,y,v,b,B,G){if(c){var Ee,K=a.splitSpaces?function yo(a,c){if(a.length>1&&!/  /.test(a))return a;for(var y=c,v="",b=0;b<a.length;b++){var B=a.charAt(b);" "==B&&y&&(b==a.length-1||32==a.charCodeAt(b+1))&&(B="\xa0"),v+=B,y=" "==B}return v}(c,a.trailingSpace):c,ee=a.cm.state.specialChars,ce=!1;if(ee.test(c)){Ee=document.createDocumentFragment();for(var Le=0;;){ee.lastIndex=Le;var Xe=ee.exec(c),je=Xe?Xe.index-Le:c.length-Le;if(je){var gt=document.createTextNode(K.slice(Le,Le+je));Ee.appendChild(C&&S<9?De("span",[gt]):gt),a.map.push(a.pos,a.pos+je,gt),a.col+=je,a.pos+=je}if(!Xe)break;Le+=je+1;var _t=void 0;if("\t"==Xe[0]){var Ut=a.cm.options.tabSize,jt=Ut-a.col%Ut;(_t=Ee.appendChild(De("span",Cr(jt),"cm-tab"))).setAttribute("role","presentation"),_t.setAttribute("cm-text","\t"),a.col+=jt}else"\r"==Xe[0]||"\n"==Xe[0]?((_t=Ee.appendChild(De("span","\r"==Xe[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",Xe[0]),a.col+=1):((_t=a.cm.options.specialCharPlaceholder(Xe[0])).setAttribute("cm-text",Xe[0]),Ee.appendChild(C&&S<9?De("span",[_t]):_t),a.col+=1);a.map.push(a.pos,a.pos+1,_t),a.pos++}}else a.col+=c.length,Ee=document.createTextNode(K),a.map.push(a.pos,a.pos+c.length,Ee),C&&S<9&&(ce=!0),a.pos+=c.length;if(a.trailingSpace=32==K.charCodeAt(c.length-1),y||v||b||ce||B||G){var Qt=y||"";v&&(Qt+=v),b&&(Qt+=b);var Xt=De("span",[Ee],Qt,B);if(G)for(var $t in G)G.hasOwnProperty($t)&&"style"!=$t&&"class"!=$t&&Xt.setAttribute($t,G[$t]);return a.content.appendChild(Xt)}a.content.appendChild(Ee)}}function ls(a,c){return function(y,v,b,B,G,K,ee){b=b?b+" cm-force-border":"cm-force-border";for(var ce=y.pos,Ee=ce+v.length;;){for(var Le=void 0,Xe=0;Xe<c.length&&!((Le=c[Xe]).to>ce&&Le.from<=ce);Xe++);if(Le.to>=Ee)return a(y,v,b,B,G,K,ee);a(y,v.slice(0,Le.to-ce),b,B,null,K,ee),B=null,v=v.slice(Le.to-ce),ce=Le.to}}}function Gl(a,c,y,v){var b=!v&&y.widgetNode;b&&a.map.push(a.pos,a.pos+c,b),!v&&a.cm.display.input.needsContentAttribute&&(b||(b=a.content.appendChild(document.createElement("span"))),b.setAttribute("cm-marker",y.id)),b&&(a.cm.display.input.setUneditable(b),a.content.appendChild(b)),a.pos+=c,a.trailingSpace=!1}function mi(a,c,y){var v=a.markedSpans,b=a.text,B=0;if(v)for(var Le,Xe,gt,_t,Ut,jt,Qt,K=b.length,ee=0,ce=1,Ee="",je=0;;){if(je==ee){gt=_t=Ut=Xe="",Qt=null,jt=null,je=1/0;for(var Xt=[],$t=void 0,kn=0;kn<v.length;++kn){var En=v[kn],nr=En.marker;if("bookmark"==nr.type&&En.from==ee&&nr.widgetNode)Xt.push(nr);else if(En.from<=ee&&(null==En.to||En.to>ee||nr.collapsed&&En.to==ee&&En.from==ee)){if(null!=En.to&&En.to!=ee&&je>En.to&&(je=En.to,_t=""),nr.className&&(gt+=" "+nr.className),nr.css&&(Xe=(Xe?Xe+";":"")+nr.css),nr.startStyle&&En.from==ee&&(Ut+=" "+nr.startStyle),nr.endStyle&&En.to==je&&($t||($t=[])).push(nr.endStyle,En.to),nr.title&&((Qt||(Qt={})).title=nr.title),nr.attributes)for(var fr in nr.attributes)(Qt||(Qt={}))[fr]=nr.attributes[fr];nr.collapsed&&(!jt||ic(jt.marker,nr)<0)&&(jt=En)}else En.from>ee&&je>En.from&&(je=En.from)}if($t)for(var Ai=0;Ai<$t.length;Ai+=2)$t[Ai+1]==je&&(_t+=" "+$t[Ai]);if(!jt||jt.from==ee)for(var xi=0;xi<Xt.length;++xi)Gl(c,0,Xt[xi]);if(jt&&(jt.from||0)==ee){if(Gl(c,(null==jt.to?K+1:jt.to)-ee,jt.marker,null==jt.from),null==jt.to)return;jt.to==ee&&(jt=!1)}}if(ee>=K)break;for(var jo=Math.min(K,je);;){if(Ee){var $i=ee+Ee.length;if(!jt){var Oi=$i>jo?Ee.slice(0,jo-ee):Ee;c.addToken(c,Oi,Le?Le+gt:gt,Ut,ee+Oi.length==je?_t:"",Xe,Qt)}if($i>=jo){Ee=Ee.slice(jo-ee),ee=jo;break}ee=$i,Ut=""}Ee=b.slice(B,B=y[ce++]),Le=sc(y[ce++],c.cm.options)}}else for(var G=1;G<y.length;G+=2)c.addToken(c,b.slice(B,B=y[G]),sc(y[G+1],c.cm.options))}function pf(a,c,y){this.line=c,this.rest=function hf(a){for(var c,y;c=Na(a);)a=c.find(1,!0).line,(y||(y=[])).push(a);return y}(c),this.size=this.rest?Pr(_n(this.rest))-y+1:1,this.node=this.text=null,this.hidden=fl(a,c)}function qo(a,c,y){for(var b,v=[],B=c;B<y;B=b){var G=new pf(a.doc,xn(a.doc,B),B);b=B+G.size,v.push(G)}return v}var lc=null;var cc=null;function bo(a,c){var y=va(a,c);if(y.length){var b,v=Array.prototype.slice.call(arguments,2);lc?b=lc.delayedCallbacks:cc?b=cc:(b=cc=[],setTimeout(fh,0));for(var B=function(K){b.push(function(){return y[K].apply(null,v)})},G=0;G<y.length;++G)B(G)}}function fh(){var a=cc;cc=null;for(var c=0;c<a.length;++c)a[c]()}function hh(a,c,y,v){for(var b=0;b<c.changes.length;b++){var B=c.changes[b];"text"==B?Mp(a,c):"gutter"==B?ph(a,c,y,v):"class"==B?Pt(a,c):"widget"==B&&nn(a,c,v)}c.changes=null}function Js(a){return a.node==a.text&&(a.node=De("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),C&&S<8&&(a.node.style.zIndex=2)),a.node}function Pa(a,c){var y=a.display.externalMeasured;return y&&y.line==c.line?(a.display.externalMeasured=null,c.measure=y.measure,y.built):Fn(a,c)}function Mp(a,c){var y=c.text.className,v=Pa(a,c);c.text==c.node&&(c.node=v.pre),c.text.parentNode.replaceChild(v.pre,c.text),c.text=v.pre,v.bgClass!=c.bgClass||v.textClass!=c.textClass?(c.bgClass=v.bgClass,c.textClass=v.textClass,Pt(a,c)):y&&(c.text.className=y)}function Pt(a,c){(function Tp(a,c){var y=c.bgClass?c.bgClass+" "+(c.line.bgClass||""):c.line.bgClass;if(y&&(y+=" CodeMirror-linebackground"),c.background)y?c.background.className=y:(c.background.parentNode.removeChild(c.background),c.background=null);else if(y){var v=Js(c);c.background=v.insertBefore(De("div",null,y),v.firstChild),a.display.input.setUneditable(c.background)}})(a,c),c.line.wrapClass?Js(c).className=c.line.wrapClass:c.node!=c.text&&(c.node.className=""),c.text.className=(c.textClass?c.textClass+" "+(c.line.textClass||""):c.line.textClass)||""}function ph(a,c,y,v){if(c.gutter&&(c.node.removeChild(c.gutter),c.gutter=null),c.gutterBackground&&(c.node.removeChild(c.gutterBackground),c.gutterBackground=null),c.line.gutterClass){var b=Js(c);c.gutterBackground=De("div",null,"CodeMirror-gutter-background "+c.line.gutterClass,"left: "+(a.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px; width: "+v.gutterTotalWidth+"px"),a.display.input.setUneditable(c.gutterBackground),b.insertBefore(c.gutterBackground,c.text)}var B=c.line.gutterMarkers;if(a.options.lineNumbers||B){var G=Js(c),K=c.gutter=De("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px");if(K.setAttribute("aria-hidden","true"),a.display.input.setUneditable(K),G.insertBefore(K,c.text),c.line.gutterClass&&(K.className+=" "+c.line.gutterClass),a.options.lineNumbers&&(!B||!B["CodeMirror-linenumbers"])&&(c.lineNumber=K.appendChild(De("div",id(a.options,y),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+v.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),B)for(var ee=0;ee<a.display.gutterSpecs.length;++ee){var ce=a.display.gutterSpecs[ee].className,Ee=B.hasOwnProperty(ce)&&B[ce];Ee&&K.appendChild(De("div",[Ee],"CodeMirror-gutter-elt","left: "+v.gutterLeft[ce]+"px; width: "+v.gutterWidth[ce]+"px"))}}}function nn(a,c,y){c.alignable&&(c.alignable=null);for(var v=ie("CodeMirror-linewidget"),b=c.node.firstChild,B=void 0;b;b=B)B=b.nextSibling,v.test(b.className)&&c.node.removeChild(b);mf(a,c,y)}function gf(a,c,y,v){var b=Pa(a,c);return c.text=c.node=b.pre,b.bgClass&&(c.bgClass=b.bgClass),b.textClass&&(c.textClass=b.textClass),Pt(a,c),ph(a,c,y,v),mf(a,c,v),c.node}function mf(a,c,y){if(dc(a,c.line,c,y,!0),c.rest)for(var v=0;v<c.rest.length;v++)dc(a,c.rest[v],c,y,!1)}function dc(a,c,y,v,b){if(c.widgets)for(var B=Js(y),G=0,K=c.widgets;G<K.length;++G){var ee=K[G],ce=De("div",[ee.node],"CodeMirror-linewidget"+(ee.className?" "+ee.className:""));ee.handleMouseEvents||ce.setAttribute("cm-ignore-events","true"),um(ee,ce,y,v),a.display.input.setUneditable(ce),b&&ee.above?B.insertBefore(ce,y.gutter||y.text):B.appendChild(ce),bo(ee,"redraw")}}function um(a,c,y,v){if(a.noHScroll){(y.alignable||(y.alignable=[])).push(c);var b=v.wrapperWidth;c.style.left=v.fixedPos+"px",a.coverGutter||(b-=v.gutterTotalWidth,c.style.paddingLeft=v.gutterTotalWidth+"px"),c.style.width=b+"px"}a.coverGutter&&(c.style.zIndex=5,c.style.position="relative",a.noHScroll||(c.style.marginLeft=-v.gutterTotalWidth+"px"))}function fc(a){if(null!=a.height)return a.height;var c=a.doc.cm;if(!c)return 0;if(!at(document.body,a.node)){var y="position: relative;";a.coverGutter&&(y+="margin-left: -"+c.display.gutters.offsetWidth+"px;"),a.noHScroll&&(y+="width: "+c.display.wrapper.clientWidth+"px;"),Se(c.display.measure,De("div",[a.node],null,y))}return a.height=a.node.parentNode.offsetHeight}function gl(a,c){for(var y=qs(c);y!=a.wrapper;y=y.parentNode)if(!y||1==y.nodeType&&"true"==y.getAttribute("cm-ignore-events")||y.parentNode==a.sizer&&y!=a.mover)return!0}function us(a){return a.lineSpace.offsetTop}function cs(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function ya(a){if(a.cachedPaddingH)return a.cachedPaddingH;var c=Se(a.measure,De("pre","x","CodeMirror-line-like")),y=window.getComputedStyle?window.getComputedStyle(c):c.currentStyle,v={left:parseInt(y.paddingLeft),right:parseInt(y.paddingRight)};return!isNaN(v.left)&&!isNaN(v.right)&&(a.cachedPaddingH=v),v}function _o(a){return pt-a.display.nativeBarWidth}function xr(a){return a.display.scroller.clientWidth-_o(a)-a.display.barWidth}function hc(a){return a.display.scroller.clientHeight-_o(a)-a.display.barHeight}function yf(a,c,y){if(a.line==c)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var v=0;v<a.rest.length;v++)if(a.rest[v]==c)return{map:a.measure.maps[v],cache:a.measure.caches[v]};for(var b=0;b<a.rest.length;b++)if(Pr(a.rest[b])>y)return{map:a.measure.maps[b],cache:a.measure.caches[b],before:!0}}}function Rs(a,c,y,v){return ks(a,Wl(a,c),y,v)}function jl(a,c){if(c>=a.display.viewFrom&&c<a.display.viewTo)return a.display.view[oo(a,c)];var y=a.display.externalMeasured;return y&&c>=y.lineN&&c<y.lineN+y.size?y:void 0}function Wl(a,c){var y=Pr(c),v=jl(a,y);v&&!v.text?v=null:v&&v.changes&&(hh(a,v,y,xf(a)),a.curOp.forceUpdate=!0),v||(v=function Ip(a,c){var y=Pr(c=tr(c)),v=a.display.externalMeasured=new pf(a.doc,c,y);v.lineN=y;var b=v.built=Fn(a,v);return v.text=b.pre,Se(a.display.lineMeasure,b.pre),v}(a,c));var b=yf(v,c,y);return{line:c,view:v,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function ks(a,c,y,v,b){c.before&&(y=-1);var G,B=y+(v||"");return c.cache.hasOwnProperty(B)?G=c.cache[B]:(c.rect||(c.rect=c.view.text.getBoundingClientRect()),c.hasHeights||(function vf(a,c,y){var v=a.options.lineWrapping,b=v&&xr(a);if(!c.measure.heights||v&&c.measure.width!=b){var B=c.measure.heights=[];if(v){c.measure.width=b;for(var G=c.text.firstChild.getClientRects(),K=0;K<G.length-1;K++){var ee=G[K],ce=G[K+1];Math.abs(ee.bottom-ce.bottom)>2&&B.push((ee.bottom+ce.top)/2-y.top)}}B.push(y.bottom-y.top)}}(a,c.view,c.rect),c.hasHeights=!0),(G=function $l(a,c,y,v){var ce,b=wu(c.map,y,v),B=b.node,G=b.start,K=b.end,ee=b.collapse;if(3==B.nodeType){for(var Ee=0;Ee<4;Ee++){for(;G&&ja(c.line.text.charAt(b.coverStart+G));)--G;for(;b.coverStart+K<b.coverEnd&&ja(c.line.text.charAt(b.coverStart+K));)++K;if((ce=C&&S<9&&0==G&&K==b.coverEnd-b.coverStart?B.parentNode.getBoundingClientRect():Cu(Be(B,G,K).getClientRects(),v)).left||ce.right||0==G)break;K=G,G-=1,ee="right"}C&&S<11&&(ce=function Ap(a,c){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function tc(a){if(null!=nd)return nd;var c=Se(a,De("span","x")),y=c.getBoundingClientRect(),v=Be(c,0,1).getBoundingClientRect();return nd=Math.abs(y.left-v.left)>1}(a))return c;var y=screen.logicalXDPI/screen.deviceXDPI,v=screen.logicalYDPI/screen.deviceYDPI;return{left:c.left*y,right:c.right*y,top:c.top*v,bottom:c.bottom*v}}(a.display.measure,ce))}else{var Le;G>0&&(ee=v="right"),ce=a.options.lineWrapping&&(Le=B.getClientRects()).length>1?Le["right"==v?Le.length-1:0]:B.getBoundingClientRect()}if(C&&S<9&&!G&&(!ce||!ce.left&&!ce.right)){var Xe=B.parentNode.getClientRects()[0];ce=Xe?{left:Xe.left,right:Xe.left+ml(a.display),top:Xe.top,bottom:Xe.bottom}:bf}for(var je=ce.top-c.rect.top,gt=ce.bottom-c.rect.top,_t=(je+gt)/2,Ut=c.view.measure.heights,jt=0;jt<Ut.length-1&&!(_t<Ut[jt]);jt++);var $t={left:("right"==ee?ce.right:ce.left)-c.rect.left,right:("left"==ee?ce.left:ce.right)-c.rect.left,top:jt?Ut[jt-1]:0,bottom:Ut[jt]};return!ce.left&&!ce.right&&($t.bogus=!0),a.options.singleCursorHeightPerLine||($t.rtop=je,$t.rbottom=gt),$t}(a,c,y,v)).bogus||(c.cache[B]=G)),{left:G.left,right:G.right,top:b?G.rtop:G.top,bottom:b?G.rbottom:G.bottom}}var xu,bf={left:0,right:0,top:0,bottom:0};function wu(a,c,y){for(var v,b,B,G,K,ee,ce=0;ce<a.length;ce+=3)if(ee=a[ce+1],c<(K=a[ce])?(b=0,B=1,G="left"):c<ee?B=1+(b=c-K):(ce==a.length-3||c==ee&&a[ce+3]>c)&&(b=(B=ee-K)-1,c>=ee&&(G="right")),null!=b){if(v=a[ce+2],K==ee&&y==(v.insertLeft?"left":"right")&&(G=y),"left"==y&&0==b)for(;ce&&a[ce-2]==a[ce-3]&&a[ce-1].insertLeft;)v=a[2+(ce-=3)],G="left";if("right"==y&&b==ee-K)for(;ce<a.length-3&&a[ce+3]==a[ce+4]&&!a[ce+5].insertLeft;)v=a[(ce+=3)+2],G="right";break}return{node:v,start:b,end:B,collapse:G,coverStart:K,coverEnd:ee}}function Cu(a,c){var y=bf;if("left"==c)for(var v=0;v<a.length&&(y=a[v]).left==y.right;v++);else for(var b=a.length-1;b>=0&&(y=a[b]).left==y.right;b--);return y}function sd(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var c=0;c<a.rest.length;c++)a.measure.caches[c]={}}function ld(a){a.display.externalMeasure=null,we(a.display.lineMeasure);for(var c=0;c<a.display.view.length;c++)sd(a.display.view[c])}function Yl(a){ld(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function gh(a){return V&&ne?-(a.body.getBoundingClientRect().left-parseInt(getComputedStyle(a.body).marginLeft)):a.defaultView.pageXOffset||(a.documentElement||a.body).scrollLeft}function mh(a){return V&&ne?-(a.body.getBoundingClientRect().top-parseInt(getComputedStyle(a.body).marginTop)):a.defaultView.pageYOffset||(a.documentElement||a.body).scrollTop}function Ka(a){var y=tr(a).widgets,v=0;if(y)for(var b=0;b<y.length;++b)y[b].above&&(v+=fc(y[b]));return v}function _f(a,c,y,v,b){if(!b){var B=Ka(c);y.top+=B,y.bottom+=B}if("line"==v)return y;v||(v="local");var G=Ra(c);if("local"==v?G+=us(a.display):G-=a.display.viewOffset,"page"==v||"window"==v){var K=a.display.lineSpace.getBoundingClientRect();G+=K.top+("window"==v?0:mh(qt(a)));var ee=K.left+("window"==v?0:gh(qt(a)));y.left+=ee,y.right+=ee}return y.top+=G,y.bottom+=G,y}function vh(a,c,y){if("div"==y)return c;var v=c.left,b=c.top;if("page"==y)v-=gh(qt(a)),b-=mh(qt(a));else if("local"==y||!y){var B=a.display.sizer.getBoundingClientRect();v+=B.left,b+=B.top}var G=a.display.lineSpace.getBoundingClientRect();return{left:v-G.left,top:b-G.top}}function ud(a,c,y,v,b){return v||(v=xn(a.doc,c.line)),_f(a,v,Rs(a,v,c.ch,b),y)}function ds(a,c,y,v,b,B){function G(gt,_t){var Ut=ks(a,b,gt,_t?"right":"left",B);return _t?Ut.left=Ut.right:Ut.right=Ut.left,_f(a,v,Ut,y)}v=v||xn(a.doc,c.line),b||(b=Wl(a,v));var K=Wa(v,a.doc.direction),ee=c.ch,ce=c.sticky;if(ee>=v.text.length?(ee=v.text.length,ce="before"):ee<=0&&(ee=0,ce="after"),!K)return G("before"==ce?ee-1:ee,"before"==ce);function Ee(gt,_t,Ut){return G(Ut?gt-1:gt,1==K[_t].level!=Ut)}var Le=Xo(K,ee,ce),Xe=Yo,je=Ee(ee,Le,"before"==ce);return null!=Xe&&(je.other=Ee(ee,Xe,"before"!=ce)),je}function Op(a,c){var y=0;c=rt(a.doc,c),a.options.lineWrapping||(y=ml(a.display)*c.ch);var v=xn(a.doc,c.line),b=Ra(v)+us(a.display);return{left:y,right:y,top:b,bottom:b+v.height}}function yh(a,c,y,v,b){var B=Tt(a,c,y);return B.xRel=b,v&&(B.outside=v),B}function wf(a,c,y){var v=a.doc;if((y+=a.display.viewOffset)<0)return yh(v.first,0,null,-1,-1);var b=Qi(v,y),B=v.first+v.size-1;if(b>B)return yh(v.first+v.size-1,xn(v,B).text.length,null,1,1);c<0&&(c=0);for(var G=xn(v,b);;){var K=dr(a,G,b,c,y),ee=Os(G,K.ch+(K.xRel>0||K.outside>0?1:0));if(!ee)return K;var ce=ee.find(1);if(ce.line==b)return ce;G=xn(v,b=ce.line)}}function Np(a,c,y,v){v-=Ka(c);var b=c.text.length,B=Nn(function(G){return ks(a,y,G-1).bottom<=v},b,0);return{begin:B,end:b=Nn(function(G){return ks(a,y,G).top>v},B,b)}}function Rp(a,c,y,v){return y||(y=Wl(a,c)),Np(a,c,y,_f(a,c,ks(a,y,v),"line").top)}function Cf(a,c,y,v){return!(a.bottom<=y)&&(a.top>y||(v?a.left:a.right)>c)}function dr(a,c,y,v,b){b-=Ra(c);var B=Wl(a,c),G=Ka(c),K=0,ee=c.text.length,ce=!0,Ee=Wa(c,a.doc.direction);if(Ee){var Le=(a.options.lineWrapping?dm:cm)(a,c,y,B,Ee,v,b);K=(ce=1!=Le.level)?Le.from:Le.to-1,ee=ce?Le.to:Le.from-1}var _t,Ut,Xe=null,je=null,gt=Nn(function(kn){var En=ks(a,B,kn);return En.top+=G,En.bottom+=G,!!Cf(En,v,b,!1)&&(En.top<=b&&En.left<=v&&(Xe=kn,je=En),!0)},K,ee),jt=!1;if(je){var Qt=v-je.left<je.right-v,Xt=Qt==ce;gt=Xe+(Xt?0:1),Ut=Xt?"after":"before",_t=Qt?je.left:je.right}else{!ce&&(gt==ee||gt==K)&&gt++,Ut=0==gt?"after":gt==c.text.length?"before":ks(a,B,gt-(ce?1:0)).bottom+G<=b==ce?"after":"before";var $t=ds(a,Tt(y,gt,Ut),"line",c,B);_t=$t.left,jt=b<$t.top?-1:b>=$t.bottom?1:0}return yh(y,gt=Ts(c.text,gt,1),Ut,jt,v-_t)}function cm(a,c,y,v,b,B,G){var K=Nn(function(Le){var Xe=b[Le],je=1!=Xe.level;return Cf(ds(a,Tt(y,je?Xe.to:Xe.from,je?"before":"after"),"line",c,v),B,G,!0)},0,b.length-1),ee=b[K];if(K>0){var ce=1!=ee.level,Ee=ds(a,Tt(y,ce?ee.from:ee.to,ce?"after":"before"),"line",c,v);Cf(Ee,B,G,!0)&&Ee.top>G&&(ee=b[K-1])}return ee}function dm(a,c,y,v,b,B,G){var K=Np(a,c,v,G),ee=K.begin,ce=K.end;/\s/.test(c.text.charAt(ce-1))&&ce--;for(var Ee=null,Le=null,Xe=0;Xe<b.length;Xe++){var je=b[Xe];if(!(je.from>=ce||je.to<=ee)){var _t=ks(a,v,1!=je.level?Math.min(ce,je.to)-1:Math.max(ee,je.from)).right,Ut=_t<B?B-_t+1e9:_t-B;(!Ee||Le>Ut)&&(Ee=je,Le=Ut)}}return Ee||(Ee=b[b.length-1]),Ee.from<ee&&(Ee={from:ee,to:Ee.to,level:Ee.level}),Ee.to>ce&&(Ee={from:Ee.from,to:ce,level:Ee.level}),Ee}function ei(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==xu){xu=De("pre",null,"CodeMirror-line-like");for(var c=0;c<49;++c)xu.appendChild(document.createTextNode("x")),xu.appendChild(De("br"));xu.appendChild(document.createTextNode("x"))}Se(a.measure,xu);var y=xu.offsetHeight/50;return y>3&&(a.cachedTextHeight=y),we(a.measure),y||1}function ml(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var c=De("span","xxxxxxxxxx"),y=De("pre",[c],"CodeMirror-line-like");Se(a.measure,y);var v=c.getBoundingClientRect(),b=(v.right-v.left)/10;return b>2&&(a.cachedCharWidth=b),b||10}function xf(a){for(var c=a.display,y={},v={},b=c.gutters.clientLeft,B=c.gutters.firstChild,G=0;B;B=B.nextSibling,++G){var K=a.display.gutterSpecs[G].className;y[K]=B.offsetLeft+B.clientLeft+b,v[K]=B.clientWidth}return{fixedPos:ln(c),gutterTotalWidth:c.gutters.offsetWidth,gutterLeft:y,gutterWidth:v,wrapperWidth:c.wrapper.clientWidth}}function ln(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function aa(a){var c=ei(a.display),y=a.options.lineWrapping,v=y&&Math.max(5,a.display.scroller.clientWidth/ml(a.display)-3);return function(b){if(fl(a.doc,b))return 0;var B=0;if(b.widgets)for(var G=0;G<b.widgets.length;G++)b.widgets[G].height&&(B+=b.widgets[G].height);return y?B+(Math.ceil(b.text.length/v)||1)*c:B+c}}function Br(a){var c=a.doc,y=aa(a);c.iter(function(v){var b=y(v);b!=v.height&&Ro(v,b)})}function Ui(a,c,y,v){var b=a.display;if(!y&&"true"==qs(c).getAttribute("cm-not-content"))return null;var B,G,K=b.lineSpace.getBoundingClientRect();try{B=c.clientX-K.left,G=c.clientY-K.top}catch{return null}var ce,ee=wf(a,B,G);if(v&&ee.xRel>0&&(ce=xn(a.doc,ee.line).text).length==ee.ch){var Ee=cn(ce,ce.length,a.options.tabSize)-ce.length;ee=Tt(ee.line,Math.max(0,Math.round((B-ya(a.display).left)/ml(a.display))-Ee))}return ee}function oo(a,c){if(c>=a.display.viewTo||(c-=a.display.viewFrom)<0)return null;for(var y=a.display.view,v=0;v<y.length;v++)if((c-=y[v].size)<0)return v}function ao(a,c,y,v){null==c&&(c=a.doc.first),null==y&&(y=a.doc.first+a.doc.size),v||(v=0);var b=a.display;if(v&&y<b.viewTo&&(null==b.updateLineNumbers||b.updateLineNumbers>c)&&(b.updateLineNumbers=c),a.curOp.viewChanged=!0,c>=b.viewTo)et&&ad(a.doc,c)<b.viewTo&&vl(a);else if(y<=b.viewFrom)et&&an(a.doc,y+v)>b.viewFrom?vl(a):(b.viewFrom+=v,b.viewTo+=v);else if(c<=b.viewFrom&&y>=b.viewTo)vl(a);else if(c<=b.viewFrom){var B=pc(a,y,y+v,1);B?(b.view=b.view.slice(B.index),b.viewFrom=B.lineN,b.viewTo+=v):vl(a)}else if(y>=b.viewTo){var G=pc(a,c,c,-1);G?(b.view=b.view.slice(0,G.index),b.viewTo=G.lineN):vl(a)}else{var K=pc(a,c,c,-1),ee=pc(a,y,y+v,1);K&&ee?(b.view=b.view.slice(0,K.index).concat(qo(a,K.lineN,ee.lineN)).concat(b.view.slice(ee.index)),b.viewTo+=v):vl(a)}var ce=b.externalMeasured;ce&&(y<ce.lineN?ce.lineN+=v:c<ce.lineN+ce.size&&(b.externalMeasured=null))}function so(a,c,y){a.curOp.viewChanged=!0;var v=a.display,b=a.display.externalMeasured;if(b&&c>=b.lineN&&c<b.lineN+b.size&&(v.externalMeasured=null),!(c<v.viewFrom||c>=v.viewTo)){var B=v.view[oo(a,c)];if(null!=B.node){var G=B.changes||(B.changes=[]);-1==it(G,y)&&G.push(y)}}}function vl(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function pc(a,c,y,v){var B,b=oo(a,c),G=a.display.view;if(!et||y==a.doc.first+a.doc.size)return{index:b,lineN:y};for(var K=a.display.viewFrom,ee=0;ee<b;ee++)K+=G[ee].size;if(K!=c){if(v>0){if(b==G.length-1)return null;B=K+G[b].size-c,b++}else B=K-c;c+=B,y+=B}for(;ad(a.doc,y)!=y;){if(b==(v<0?0:G.length-1))return null;y+=v*G[b-(v<0?1:0)].size,b+=v}return{index:b,lineN:y}}function bh(a){for(var c=a.display.view,y=0,v=0;v<c.length;v++){var b=c[v];!b.hidden&&(!b.node||b.changes)&&++y}return y}function cd(a){a.display.input.showSelection(a.display.input.prepareSelection())}function lo(a,c){void 0===c&&(c=!0);var y=a.doc,v={},b=v.cursors=document.createDocumentFragment(),B=v.selection=document.createDocumentFragment(),G=a.options.$customCursor;G&&(c=!0);for(var K=0;K<y.sel.ranges.length;K++)if(c||K!=y.sel.primIndex){var ee=y.sel.ranges[K];if(!(ee.from().line>=a.display.viewTo||ee.to().line<a.display.viewFrom)){var ce=ee.empty();if(G){var Ee=G(a,ee);Ee&&fn(a,Ee,b)}else(ce||a.options.showCursorWhenSelecting)&&fn(a,ee.head,b);ce||Li(a,ee,B)}}return v}function fn(a,c,y){var v=ds(a,c,"div",null,null,!a.options.singleCursorHeightPerLine),b=y.appendChild(De("div","\xa0","CodeMirror-cursor"));if(b.style.left=v.left+"px",b.style.top=v.top+"px",b.style.height=Math.max(0,v.bottom-v.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var B=ud(a,c,"div",null,null),G=B.right-B.left;b.style.width=(G>0?G:a.defaultCharWidth())+"px"}if(v.other){var K=y.appendChild(De("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));K.style.display="",K.style.left=v.other.left+"px",K.style.top=v.other.top+"px",K.style.height=.85*(v.other.bottom-v.other.top)+"px"}}function Wn(a,c){return a.top-c.top||a.left-c.left}function Li(a,c,y){var v=a.display,b=a.doc,B=document.createDocumentFragment(),G=ya(a.display),K=G.left,ee=Math.max(v.sizerWidth,xr(a)-v.sizer.offsetLeft)-G.right,ce="ltr"==b.direction;function Ee(Xt,$t,kn,En){$t<0&&($t=0),$t=Math.round($t),En=Math.round(En),B.appendChild(De("div",null,"CodeMirror-selected","position: absolute; left: "+Xt+"px;\n                             top: "+$t+"px; width: "+(kn??ee-Xt)+"px;\n                             height: "+(En-$t)+"px"))}function Le(Xt,$t,kn){var fr,Ai,En=xn(b,Xt),nr=En.text.length;function xi(Oi,fa){return ud(a,Tt(Xt,Oi),"div",En,fa)}function jo(Oi,fa,Wo){var To=Rp(a,En,null,Oi),zr="ltr"==fa==("after"==Wo)?"left":"right";return xi("after"==Wo?To.begin:To.end-(/\s/.test(En.text.charAt(To.end-1))?2:1),zr)[zr]}var $i=Wa(En,b.direction);return function Vl(a,c,y,v){if(!a)return v(c,y,"ltr",0);for(var b=!1,B=0;B<a.length;++B){var G=a[B];(G.from<y&&G.to>c||c==y&&G.to==c)&&(v(Math.max(G.from,c),Math.min(G.to,y),1==G.level?"rtl":"ltr",B),b=!0)}b||v(c,y,"ltr")}($i,$t||0,kn??nr,function(Oi,fa,Wo,To){var zr="ltr"==Wo,Ei=xi(Oi,zr?"left":"right"),ho=xi(fa-1,zr?"right":"left"),Wd=null==$t&&0==Oi,Dl=null==kn&&fa==nr,Qo=0==To,ol=!$i||To==$i.length-1;if(ho.top-Ei.top<=3){var Sl=(ce?Wd:Dl)&&Qo?K:(zr?Ei:ho).left;Ee(Sl,Ei.top,((ce?Dl:Wd)&&ol?ee:(zr?ho:Ei).right)-Sl,Ei.bottom)}else{var Tl,Ni,Oc,ns;zr?(Tl=ce&&Wd&&Qo?K:Ei.left,Ni=ce?ee:jo(Oi,Wo,"before"),Oc=ce?K:jo(fa,Wo,"after"),ns=ce&&Dl&&ol?ee:ho.right):(Tl=ce?jo(Oi,Wo,"before"):K,Ni=!ce&&Wd&&Qo?ee:Ei.right,Oc=!ce&&Dl&&ol?K:ho.left,ns=ce?jo(fa,Wo,"after"):ee),Ee(Tl,Ei.top,Ni-Tl,Ei.bottom),Ei.bottom<ho.top&&Ee(K,Ei.bottom,null,ho.top),Ee(Oc,ho.top,ns-Oc,ho.bottom)}(!fr||Wn(Ei,fr)<0)&&(fr=Ei),Wn(ho,fr)<0&&(fr=ho),(!Ai||Wn(Ei,Ai)<0)&&(Ai=Ei),Wn(ho,Ai)<0&&(Ai=ho)}),{start:fr,end:Ai}}var Xe=c.from(),je=c.to();if(Xe.line==je.line)Le(Xe.line,Xe.ch,je.ch);else{var gt=xn(b,Xe.line),_t=xn(b,je.line),Ut=tr(gt)==tr(_t),jt=Le(Xe.line,Xe.ch,Ut?gt.text.length+1:null).end,Qt=Le(je.line,Ut?0:null,je.ch).start;Ut&&(jt.top<Qt.top-2?(Ee(jt.right,jt.top,null,jt.bottom),Ee(K,Qt.top,Qt.left,Qt.bottom)):Ee(jt.right,jt.top,Qt.left-jt.right,jt.bottom)),jt.bottom<Qt.top&&Ee(K,jt.bottom,null,Qt.top)}y.appendChild(B)}function sa(a){if(a.state.focused){var c=a.display;clearInterval(c.blinker);var y=!0;c.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?c.blinker=setInterval(function(){a.hasFocus()||vi(a),c.cursorDiv.style.visibility=(y=!y)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(c.cursorDiv.style.visibility="hidden")}}function gc(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||yl(a))}function wo(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&vi(a))},100)}function yl(a,c){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),"nocursor"!=a.options.readOnly&&(a.state.focused||(pi(a,"focus",a,c),a.state.focused=!0,Ke(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),N&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),sa(a))}function vi(a,c){a.state.delayingBlurEvent||(a.state.focused&&(pi(a,"blur",a,c),a.state.focused=!1,me(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function el(a){for(var c=a.display,y=c.lineDiv.offsetTop,v=Math.max(0,c.scroller.getBoundingClientRect().top),b=c.lineDiv.getBoundingClientRect().top,B=0,G=0;G<c.view.length;G++){var K=c.view[G],ee=a.options.lineWrapping,ce=void 0,Ee=0;if(!K.hidden){if(b+=K.line.height,C&&S<8){var Le=K.node.offsetTop+K.node.offsetHeight;ce=Le-y,y=Le}else{var Xe=K.node.getBoundingClientRect();ce=Xe.bottom-Xe.top,!ee&&K.text.firstChild&&(Ee=K.text.firstChild.getBoundingClientRect().right-Xe.left-1)}var je=K.line.height-ce;if((je>.005||je<-.005)&&(b<v&&(B-=je),Ro(K.line,ce),la(K.line),K.rest))for(var gt=0;gt<K.rest.length;gt++)la(K.rest[gt]);if(Ee>a.display.sizerWidth){var _t=Math.ceil(Ee/ml(a.display));_t>a.display.maxLineLength&&(a.display.maxLineLength=_t,a.display.maxLine=K.line,a.display.maxLineChanged=!0)}}}Math.abs(B)>2&&(c.scroller.scrollTop+=B)}function la(a){if(a.widgets)for(var c=0;c<a.widgets.length;++c){var y=a.widgets[c],v=y.node.parentNode;v&&(y.height=v.offsetHeight)}}function qn(a,c,y){var v=y&&null!=y.top?Math.max(0,y.top):a.scroller.scrollTop;v=Math.floor(v-us(a));var b=y&&null!=y.bottom?y.bottom:v+a.wrapper.clientHeight,B=Qi(c,v),G=Qi(c,b);if(y&&y.ensure){var K=y.ensure.from.line,ee=y.ensure.to.line;K<B?(B=K,G=Qi(c,Ra(xn(c,K))+a.wrapper.clientHeight)):Math.min(ee,c.lastLine())>=G&&(B=Qi(c,Ra(xn(c,ee))-a.wrapper.clientHeight),G=ee)}return{from:B,to:Math.max(G,B+1)}}function Gi(a,c){var y=a.display,v=ei(a.display);c.top<0&&(c.top=0);var b=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:y.scroller.scrollTop,B=hc(a),G={};c.bottom-c.top>B&&(c.bottom=c.top+B);var K=a.doc.height+cs(y),ce=c.bottom>K-v;if(c.top<b)G.scrollTop=c.top<v?0:c.top;else if(c.bottom>b+B){var Ee=Math.min(c.top,(ce?K:c.bottom)-B);Ee!=b&&(G.scrollTop=Ee)}var Le=a.options.fixedGutter?0:y.gutters.offsetWidth,Xe=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:y.scroller.scrollLeft-Le,je=xr(a)-y.gutters.offsetWidth,gt=c.right-c.left>je;return gt&&(c.right=c.left+je),c.left<10?G.scrollLeft=0:c.left<Xe?G.scrollLeft=Math.max(0,c.left+Le-(gt?0:10)):c.right>je+Xe-3&&(G.scrollLeft=c.right+(gt?0:10)-je),G}function fs(a,c){null!=c&&(fd(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+c)}function qa(a){fd(a);var c=a.getCursor();a.curOp.scrollToPos={from:c,to:c,margin:a.options.cursorScrollMargin}}function uo(a,c,y){(null!=c||null!=y)&&fd(a),null!=c&&(a.curOp.scrollLeft=c),null!=y&&(a.curOp.scrollTop=y)}function fd(a){var c=a.curOp.scrollToPos;c&&(a.curOp.scrollToPos=null,bl(a,Op(a,c.from),Op(a,c.to),c.margin))}function bl(a,c,y,v){var b=Gi(a,{left:Math.min(c.left,y.left),top:Math.min(c.top,y.top)-v,right:Math.max(c.right,y.right),bottom:Math.max(c.bottom,y.bottom)+v});uo(a,b.scrollLeft,b.scrollTop)}function ur(a,c){Math.abs(a.doc.scrollTop-c)<2||(T||Ja(a,{top:c}),hd(a,c,!0),T&&Ja(a),yi(a,100))}function hd(a,c,y){c=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,c)),(a.display.scroller.scrollTop!=c||y)&&(a.doc.scrollTop=c,a.display.scrollbars.setScrollTop(c),a.display.scroller.scrollTop!=c&&(a.display.scroller.scrollTop=c))}function Za(a,c,y,v){c=Math.max(0,Math.min(c,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),(!(y?c==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-c)<2)||v)&&(a.doc.scrollLeft=c,kp(a),a.display.scroller.scrollLeft!=c&&(a.display.scroller.scrollLeft=c),a.display.scrollbars.setScrollLeft(c))}function hn(a){var c=a.display,y=c.gutters.offsetWidth,v=Math.round(a.doc.height+cs(a.display));return{clientHeight:c.scroller.clientHeight,viewHeight:c.wrapper.clientHeight,scrollWidth:c.scroller.scrollWidth,clientWidth:c.scroller.clientWidth,viewWidth:c.wrapper.clientWidth,barLeft:a.options.fixedGutter?y:0,docHeight:v,scrollHeight:v+_o(a)+c.barHeight,nativeBarWidth:c.nativeBarWidth,gutterWidth:y}}var Vr=function(a,c,y){this.cm=y;var v=this.vert=De("div",[De("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),b=this.horiz=De("div",[De("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");v.tabIndex=b.tabIndex=-1,a(v),a(b),Cn(v,"scroll",function(){v.clientHeight&&c(v.scrollTop,"vertical")}),Cn(b,"scroll",function(){b.clientWidth&&c(b.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,C&&S<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Vr.prototype.update=function(a){var c=a.scrollWidth>a.clientWidth+1,y=a.scrollHeight>a.clientHeight+1,v=a.nativeBarWidth;return y?(this.vert.style.display="block",this.vert.style.bottom=c?v+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(c?v:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),c?(this.horiz.style.display="block",this.horiz.style.right=y?v+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+(a.viewWidth-a.barLeft-(y?v:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&a.clientHeight>0&&(0==v&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:y?v:0,bottom:c?v:0}},Vr.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Vr.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Vr.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=ae&&!$?"12px":"18px",this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new ut,this.disableVert=new ut},Vr.prototype.enableZeroWidthBar=function(a,c,y){a.style.visibility="",c.set(1e3,function v(){var b=a.getBoundingClientRect();("vert"==y?document.elementFromPoint(b.right-1,(b.top+b.bottom)/2):document.elementFromPoint((b.right+b.left)/2,b.bottom-1))!=a?a.style.visibility="hidden":c.set(1e3,v)})},Vr.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var pn=function(){};function _l(a,c){c||(c=hn(a));var y=a.display.barWidth,v=a.display.barHeight;Ps(a,c);for(var b=0;b<4&&y!=a.display.barWidth||v!=a.display.barHeight;b++)y!=a.display.barWidth&&a.options.lineWrapping&&el(a),Ps(a,hn(a)),y=a.display.barWidth,v=a.display.barHeight}function Ps(a,c){var y=a.display,v=y.scrollbars.update(c);y.sizer.style.paddingRight=(y.barWidth=v.right)+"px",y.sizer.style.paddingBottom=(y.barHeight=v.bottom)+"px",y.heightForcer.style.borderBottom=v.bottom+"px solid transparent",v.right&&v.bottom?(y.scrollbarFiller.style.display="block",y.scrollbarFiller.style.height=v.bottom+"px",y.scrollbarFiller.style.width=v.right+"px"):y.scrollbarFiller.style.display="",v.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(y.gutterFiller.style.display="block",y.gutterFiller.style.height=v.bottom+"px",y.gutterFiller.style.width=c.gutterWidth+"px"):y.gutterFiller.style.display=""}pn.prototype.update=function(){return{bottom:0,right:0}},pn.prototype.setScrollLeft=function(){},pn.prototype.setScrollTop=function(){},pn.prototype.clear=function(){};var pd={native:Vr,null:pn};function Du(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&me(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new pd[a.options.scrollbarStyle](function(c){a.display.wrapper.insertBefore(c,a.display.scrollbarFiller),Cn(c,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),c.setAttribute("cm-not-content","true")},function(c,y){"horizontal"==y?Za(a,c):ur(a,c)},a),a.display.scrollbars.addClass&&Ke(a.display.wrapper,a.display.scrollbars.addClass)}var tl=0;function oi(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++tl,markArrays:null},function bu(a){lc?lc.ops.push(a):a.ownsGroup=lc={ops:[a],delayedCallbacks:[]}}(a.curOp)}function Xl(a){var c=a.curOp;c&&function uc(a,c){var y=a.ownsGroup;if(y)try{!function _u(a){var c=a.delayedCallbacks,y=0;do{for(;y<c.length;y++)c[y].call(null);for(var v=0;v<a.ops.length;v++){var b=a.ops[v];if(b.cursorActivityHandlers)for(;b.cursorActivityCalled<b.cursorActivityHandlers.length;)b.cursorActivityHandlers[b.cursorActivityCalled++].call(null,b.cm)}}while(y<c.length)}(y)}finally{lc=null,c(y)}}(c,function(y){for(var v=0;v<y.ops.length;v++)y.ops[v].cm.curOp=null;!function Qa(a){for(var c=a.ops,y=0;y<c.length;y++)La(c[y]);for(var v=0;v<c.length;v++)wh(c[v]);for(var b=0;b<c.length;b++)Su(c[b]);for(var B=0;B<c.length;B++)Df(c[B]);for(var G=0;G<c.length;G++)hs(c[G])}(y)})}function La(a){var c=a.cm,y=c.display;(function gy(a){var c=a.display;!c.scrollbarsClipped&&c.scroller.offsetWidth&&(c.nativeBarWidth=c.scroller.offsetWidth-c.scroller.clientWidth,c.heightForcer.style.height=_o(a)+"px",c.sizer.style.marginBottom=-c.nativeBarWidth+"px",c.sizer.style.borderRightWidth=_o(a)+"px",c.scrollbarsClipped=!0)})(c),a.updateMaxLine&&yu(c),a.mustUpdate=a.viewChanged||a.forceUpdate||null!=a.scrollTop||a.scrollToPos&&(a.scrollToPos.from.line<y.viewFrom||a.scrollToPos.to.line>=y.viewTo)||y.maxLineChanged&&c.options.lineWrapping,a.update=a.mustUpdate&&new Ch(c,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function wh(a){a.updatedDisplay=a.mustUpdate&&wl(a.cm,a.update)}function Su(a){var c=a.cm,y=c.display;a.updatedDisplay&&el(c),a.barMeasure=hn(c),y.maxLineChanged&&!c.options.lineWrapping&&(a.adjustWidthTo=Rs(c,y.maxLine,y.maxLine.text.length).left+3,c.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(y.scroller.clientWidth,y.sizer.offsetLeft+a.adjustWidthTo+_o(c)+c.display.barWidth),a.maxScrollLeft=Math.max(0,y.sizer.offsetLeft+a.adjustWidthTo-xr(c))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=y.input.prepareSelection())}function Df(a){var c=a.cm;null!=a.adjustWidthTo&&(c.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<c.doc.scrollLeft&&Za(c,Math.min(c.display.scroller.scrollLeft,a.maxScrollLeft),!0),c.display.maxLineChanged=!1);var y=a.focus&&a.focus==ht(qt(c));a.preparedSelection&&c.display.input.showSelection(a.preparedSelection,y),(a.updatedDisplay||a.startHeight!=c.doc.height)&&_l(c,a.barMeasure),a.updatedDisplay&&xh(c,a.barMeasure),a.selectionChanged&&sa(c),c.state.focused&&a.updateInput&&c.display.input.reset(a.typing),y&&gc(a.cm)}function hs(a){var c=a.cm,y=c.display,v=c.doc;a.updatedDisplay&&Kl(c,a.update),null!=y.wheelStartX&&(null!=a.scrollTop||null!=a.scrollLeft||a.scrollToPos)&&(y.wheelStartX=y.wheelStartY=null),null!=a.scrollTop&&hd(c,a.scrollTop,a.forceScroll),null!=a.scrollLeft&&Za(c,a.scrollLeft,!0,!0),a.scrollToPos&&function mc(a,c){if(!qi(a,"scrollCursorIntoView")){var y=a.display,v=y.sizer.getBoundingClientRect(),b=null,B=y.wrapper.ownerDocument;if(c.top+v.top<0?b=!0:c.bottom+v.top>(B.defaultView.innerHeight||B.documentElement.clientHeight)&&(b=!1),null!=b&&!Q){var G=De("div","\u200b",null,"position: absolute;\n                         top: "+(c.top-y.viewOffset-us(a.display))+"px;\n                         height: "+(c.bottom-c.top+_o(a)+y.barHeight)+"px;\n                         left: "+c.left+"px; width: "+Math.max(2,c.right-c.left)+"px;");a.display.lineSpace.appendChild(G),G.scrollIntoView(b),a.display.lineSpace.removeChild(G)}}}(c,function _h(a,c,y,v){var b;null==v&&(v=0),!a.options.lineWrapping&&c==y&&(y="before"==c.sticky?Tt(c.line,c.ch+1,"before"):c,c=c.ch?Tt(c.line,"before"==c.sticky?c.ch-1:c.ch,"after"):c);for(var B=0;B<5;B++){var G=!1,K=ds(a,c),ee=y&&y!=c?ds(a,y):K,ce=Gi(a,b={left:Math.min(K.left,ee.left),top:Math.min(K.top,ee.top)-v,right:Math.max(K.left,ee.left),bottom:Math.max(K.bottom,ee.bottom)+v}),Ee=a.doc.scrollTop,Le=a.doc.scrollLeft;if(null!=ce.scrollTop&&(ur(a,ce.scrollTop),Math.abs(a.doc.scrollTop-Ee)>1&&(G=!0)),null!=ce.scrollLeft&&(Za(a,ce.scrollLeft),Math.abs(a.doc.scrollLeft-Le)>1&&(G=!0)),!G)break}return b}(c,rt(v,a.scrollToPos.from),rt(v,a.scrollToPos.to),a.scrollToPos.margin));var B=a.maybeHiddenMarkers,G=a.maybeUnhiddenMarkers;if(B)for(var K=0;K<B.length;++K)B[K].lines.length||pi(B[K],"hide");if(G)for(var ee=0;ee<G.length;++ee)G[ee].lines.length&&pi(G[ee],"unhide");y.wrapper.offsetHeight&&(v.scrollTop=c.display.scroller.scrollTop),a.changeObjs&&pi(c,"changes",c,a.changeObjs),a.update&&a.update.finish()}function ua(a,c){if(a.curOp)return c();oi(a);try{return c()}finally{Xl(a)}}function Co(a,c){return function(){if(a.curOp)return c.apply(a,arguments);oi(a);try{return c.apply(a,arguments)}finally{Xl(a)}}}function Po(a){return function(){if(this.curOp)return a.apply(this,arguments);oi(this);try{return a.apply(this,arguments)}finally{Xl(this)}}}function Lo(a){return function(){var c=this.cm;if(!c||c.curOp)return a.apply(this,arguments);oi(c);try{return a.apply(this,arguments)}finally{Xl(c)}}}function yi(a,c){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(c,It(wi,a))}function wi(a){var c=a.doc;if(!(c.highlightFrontier>=a.display.viewTo)){var y=+new Date+a.options.workTime,v=Bt(a,c.highlightFrontier),b=[];c.iter(v.line,Math.min(c.first+c.size,a.display.viewTo+500),function(B){if(v.line>=a.display.viewFrom){var G=B.styles,K=B.text.length>a.options.maxHighlightLength?ki(c.mode,v.state):null,ee=en(a,B,v,!0);K&&(v.state=K),B.styles=ee.styles;var ce=B.styleClasses,Ee=ee.classes;Ee?B.styleClasses=Ee:ce&&(B.styleClasses=null);for(var Le=!G||G.length!=B.styles.length||ce!=Ee&&(!ce||!Ee||ce.bgClass!=Ee.bgClass||ce.textClass!=Ee.textClass),Xe=0;!Le&&Xe<G.length;++Xe)Le=G[Xe]!=B.styles[Xe];Le&&b.push(v.line),B.stateAfter=v.save(),v.nextLine()}else B.text.length<=a.options.maxHighlightLength&&Ar(a,B.text,v),B.stateAfter=v.line%5==0?v.save():null,v.nextLine();if(+new Date>y)return yi(a,a.options.workDelay),!0}),c.highlightFrontier=v.line,c.modeFrontier=Math.max(c.modeFrontier,v.line),b.length&&ua(a,function(){for(var B=0;B<b.length;B++)so(a,b[B],"text")})}}var Ch=function(a,c,y){var v=a.display;this.viewport=c,this.visible=qn(v,a.doc,c),this.editorIsHidden=!v.wrapper.offsetWidth,this.wrapperHeight=v.wrapper.clientHeight,this.wrapperWidth=v.wrapper.clientWidth,this.oldDisplayWidth=xr(a),this.force=y,this.dims=xf(a),this.events=[]};function wl(a,c){var y=a.display,v=a.doc;if(c.editorIsHidden)return vl(a),!1;if(!c.force&&c.visible.from>=y.viewFrom&&c.visible.to<=y.viewTo&&(null==y.updateLineNumbers||y.updateLineNumbers>=y.viewTo)&&y.renderedView==y.view&&0==bh(a))return!1;fm(a)&&(vl(a),c.dims=xf(a));var b=v.first+v.size,B=Math.max(c.visible.from-a.options.viewportMargin,v.first),G=Math.min(b,c.visible.to+a.options.viewportMargin);y.viewFrom<B&&B-y.viewFrom<20&&(B=Math.max(v.first,y.viewFrom)),y.viewTo>G&&y.viewTo-G<20&&(G=Math.min(b,y.viewTo)),et&&(B=ad(a.doc,B),G=an(a.doc,G));var K=B!=y.viewFrom||G!=y.viewTo||y.lastWrapHeight!=c.wrapperHeight||y.lastWrapWidth!=c.wrapperWidth;(function Ef(a,c,y){var v=a.display;0==v.view.length||c>=v.viewTo||y<=v.viewFrom?(v.view=qo(a,c,y),v.viewFrom=c):(v.viewFrom>c?v.view=qo(a,c,v.viewFrom).concat(v.view):v.viewFrom<c&&(v.view=v.view.slice(oo(a,c))),v.viewFrom=c,v.viewTo<y?v.view=v.view.concat(qo(a,v.viewTo,y)):v.viewTo>y&&(v.view=v.view.slice(0,oo(a,y)))),v.viewTo=y})(a,B,G),y.viewOffset=Ra(xn(a.doc,y.viewFrom)),a.display.mover.style.top=y.viewOffset+"px";var ee=bh(a);if(!K&&0==ee&&!c.force&&y.renderedView==y.view&&(null==y.updateLineNumbers||y.updateLineNumbers>=y.viewTo))return!1;var ce=function my(a){if(a.hasFocus())return null;var c=ht(qt(a));if(!c||!at(a.display.lineDiv,c))return null;var y={activeElt:c};if(window.getSelection){var v=Ht(a).getSelection();v.anchorNode&&v.extend&&at(a.display.lineDiv,v.anchorNode)&&(y.anchorNode=v.anchorNode,y.anchorOffset=v.anchorOffset,y.focusNode=v.focusNode,y.focusOffset=v.focusOffset)}return y}(a);return ee>4&&(y.lineDiv.style.display="none"),function gd(a,c,y){var v=a.display,b=a.options.lineNumbers,B=v.lineDiv,G=B.firstChild;function K(gt){var _t=gt.nextSibling;return N&&ae&&a.display.currentWheelTarget==gt?gt.style.display="none":gt.parentNode.removeChild(gt),_t}for(var ee=v.view,ce=v.viewFrom,Ee=0;Ee<ee.length;Ee++){var Le=ee[Ee];if(!Le.hidden)if(Le.node&&Le.node.parentNode==B){for(;G!=Le.node;)G=K(G);var je=b&&null!=c&&c<=ce&&Le.lineNumber;Le.changes&&(it(Le.changes,"gutter")>-1&&(je=!1),hh(a,Le,ce,y)),je&&(we(Le.lineNumber),Le.lineNumber.appendChild(document.createTextNode(id(a.options,ce)))),G=Le.node.nextSibling}else{var Xe=gf(a,Le,ce,y);B.insertBefore(Xe,G)}ce+=Le.size}for(;G;)G=K(G)}(a,y.updateLineNumbers,c.dims),ee>4&&(y.lineDiv.style.display=""),y.renderedView=y.view,function Tu(a){if(a&&a.activeElt&&a.activeElt!=ht(a.activeElt.ownerDocument)&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&at(document.body,a.anchorNode)&&at(document.body,a.focusNode))){var c=a.activeElt.ownerDocument,y=c.defaultView.getSelection(),v=c.createRange();v.setEnd(a.anchorNode,a.anchorOffset),v.collapse(!1),y.removeAllRanges(),y.addRange(v),y.extend(a.focusNode,a.focusOffset)}}(ce),we(y.cursorDiv),we(y.selectionDiv),y.gutters.style.height=y.sizer.style.minHeight=0,K&&(y.lastWrapHeight=c.wrapperHeight,y.lastWrapWidth=c.wrapperWidth,yi(a,400)),y.updateLineNumbers=null,!0}function Kl(a,c){for(var y=c.viewport,v=!0;;v=!1){if(v&&a.options.lineWrapping&&c.oldDisplayWidth!=xr(a))v&&(c.visible=qn(a.display,a.doc,y));else if(y&&null!=y.top&&(y={top:Math.min(a.doc.height+cs(a.display)-hc(a),y.top)}),c.visible=qn(a.display,a.doc,y),c.visible.from>=a.display.viewFrom&&c.visible.to<=a.display.viewTo)break;if(!wl(a,c))break;el(a);var b=hn(a);cd(a),_l(a,b),xh(a,b),c.force=!1}c.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(c.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Ja(a,c){var y=new Ch(a,c);if(wl(a,y)){el(a),Kl(a,y);var v=hn(a);cd(a),_l(a,v),xh(a,v),y.finish()}}function Sf(a){a.sizer.style.marginLeft=a.gutters.offsetWidth+"px",bo(a,"gutterChanged",a)}function xh(a,c){a.display.sizer.style.minHeight=c.docHeight+"px",a.display.heightForcer.style.top=c.docHeight+"px",a.display.gutters.style.height=c.docHeight+a.display.barHeight+_o(a)+"px"}function kp(a){var c=a.display,y=c.view;if(c.alignWidgets||c.gutters.firstChild&&a.options.fixedGutter){for(var v=ln(c)-c.scroller.scrollLeft+a.doc.scrollLeft,b=c.gutters.offsetWidth,B=v+"px",G=0;G<y.length;G++)if(!y[G].hidden){a.options.fixedGutter&&(y[G].gutter&&(y[G].gutter.style.left=B),y[G].gutterBackground&&(y[G].gutterBackground.style.left=B));var K=y[G].alignable;if(K)for(var ee=0;ee<K.length;ee++)K[ee].style.left=B}a.options.fixedGutter&&(c.gutters.style.left=v+b+"px")}}function fm(a){if(!a.options.lineNumbers)return!1;var c=a.doc,y=id(a.options,c.first+c.size-1),v=a.display;if(y.length!=v.lineNumChars){var b=v.measure.appendChild(De("div",[De("div",y)],"CodeMirror-linenumber CodeMirror-gutter-elt")),B=b.firstChild.offsetWidth,G=b.offsetWidth-B;return v.lineGutter.style.width="",v.lineNumInnerWidth=Math.max(B,v.lineGutter.offsetWidth-G)+1,v.lineNumWidth=v.lineNumInnerWidth+G,v.lineNumChars=v.lineNumInnerWidth?y.length:-1,v.lineGutter.style.width=v.lineNumWidth+"px",Sf(a.display),!0}return!1}function ql(a,c){for(var y=[],v=!1,b=0;b<a.length;b++){var B=a[b],G=null;if("string"!=typeof B&&(G=B.style,B=B.className),"CodeMirror-linenumbers"==B){if(!c)continue;v=!0}y.push({className:B,style:G})}return c&&!v&&y.push({className:"CodeMirror-linenumbers",style:null}),y}function Tf(a){var c=a.gutters,y=a.gutterSpecs;we(c),a.lineGutter=null;for(var v=0;v<y.length;++v){var b=y[v],B=b.className,G=b.style,K=c.appendChild(De("div",null,"CodeMirror-gutter "+B));G&&(K.style.cssText=G),"CodeMirror-linenumbers"==B&&(a.lineGutter=K,K.style.width=(a.lineNumWidth||1)+"px")}c.style.display=y.length?"":"none",Sf(a)}function Mf(a){Tf(a.display),ao(a),kp(a)}function Eh(a,c,y,v){var b=this;this.input=y,b.scrollbarFiller=De("div",null,"CodeMirror-scrollbar-filler"),b.scrollbarFiller.setAttribute("cm-not-content","true"),b.gutterFiller=De("div",null,"CodeMirror-gutter-filler"),b.gutterFiller.setAttribute("cm-not-content","true"),b.lineDiv=ze("div",null,"CodeMirror-code"),b.selectionDiv=De("div",null,null,"position: relative; z-index: 1"),b.cursorDiv=De("div",null,"CodeMirror-cursors"),b.measure=De("div",null,"CodeMirror-measure"),b.lineMeasure=De("div",null,"CodeMirror-measure"),b.lineSpace=ze("div",[b.measure,b.lineMeasure,b.selectionDiv,b.cursorDiv,b.lineDiv],null,"position: relative; outline: none");var B=ze("div",[b.lineSpace],"CodeMirror-lines");b.mover=De("div",[B],null,"position: relative"),b.sizer=De("div",[b.mover],"CodeMirror-sizer"),b.sizerWidth=null,b.heightForcer=De("div",null,null,"position: absolute; height: "+pt+"px; width: 1px;"),b.gutters=De("div",null,"CodeMirror-gutters"),b.lineGutter=null,b.scroller=De("div",[b.sizer,b.heightForcer,b.gutters],"CodeMirror-scroll"),b.scroller.setAttribute("tabIndex","-1"),b.wrapper=De("div",[b.scrollbarFiller,b.gutterFiller,b.scroller],"CodeMirror"),V&&L>=105&&(b.wrapper.style.clipPath="inset(0px)"),b.wrapper.setAttribute("translate","no"),C&&S<8&&(b.gutters.style.zIndex=-1,b.scroller.style.paddingRight=0),!N&&!(T&&le)&&(b.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(b.wrapper):a(b.wrapper)),b.viewFrom=b.viewTo=c.first,b.reportedViewFrom=b.reportedViewTo=c.first,b.view=[],b.renderedView=null,b.externalMeasured=null,b.viewOffset=0,b.lastWrapHeight=b.lastWrapWidth=0,b.updateLineNumbers=null,b.nativeBarWidth=b.barHeight=b.barWidth=0,b.scrollbarsClipped=!1,b.lineNumWidth=b.lineNumInnerWidth=b.lineNumChars=null,b.alignWidgets=!1,b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.maxLine=null,b.maxLineLength=0,b.maxLineChanged=!1,b.wheelDX=b.wheelDY=b.wheelStartX=b.wheelStartY=null,b.shift=!1,b.selForContextMenu=null,b.activeTouch=null,b.gutterSpecs=ql(v.gutters,v.lineNumbers),Tf(b),y.init(b)}Ch.prototype.signal=function(a,c){Ti(a,c)&&this.events.push(arguments)},Ch.prototype.finish=function(){for(var a=0;a<this.events.length;a++)pi.apply(null,this.events[a])};var md=0,co=null;function es(a){var c=a.wheelDeltaX,y=a.wheelDeltaY;return null==c&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(c=a.detail),null==y&&a.detail&&a.axis==a.VERTICAL_AXIS?y=a.detail:null==y&&(y=a.wheelDelta),{x:c,y}}function hm(a){var c=es(a);return c.x*=co,c.y*=co,c}function vd(a,c){V&&102==L&&(null==a.display.chromeScrollHack?a.display.sizer.style.pointerEvents="none":clearTimeout(a.display.chromeScrollHack),a.display.chromeScrollHack=setTimeout(function(){a.display.chromeScrollHack=null,a.display.sizer.style.pointerEvents=""},100));var y=es(c),v=y.x,b=y.y,B=co;0===c.deltaMode&&(v=c.deltaX,b=c.deltaY,B=1);var G=a.display,K=G.scroller,ce=K.scrollHeight>K.clientHeight;if(v&&K.scrollWidth>K.clientWidth||b&&ce){if(b&&ae&&N)e:for(var Ee=c.target,Le=G.view;Ee!=K;Ee=Ee.parentNode)for(var Xe=0;Xe<Le.length;Xe++)if(Le[Xe].node==Ee){a.display.currentWheelTarget=Ee;break e}if(v&&!T&&!k&&null!=B)return b&&ce&&ur(a,Math.max(0,K.scrollTop+b*B)),Za(a,Math.max(0,K.scrollLeft+v*B)),(!b||b&&ce)&&Vi(c),void(G.wheelStartX=null);if(b&&null!=B){var je=b*B,gt=a.doc.scrollTop,_t=gt+G.wrapper.clientHeight;je<0?gt=Math.max(0,gt+je-50):_t=Math.min(a.doc.height,_t+je+50),Ja(a,{top:gt,bottom:_t})}md<20&&0!==c.deltaMode&&(null==G.wheelStartX?(G.wheelStartX=K.scrollLeft,G.wheelStartY=K.scrollTop,G.wheelDX=v,G.wheelDY=b,setTimeout(function(){if(null!=G.wheelStartX){var Ut=K.scrollLeft-G.wheelStartX,jt=K.scrollTop-G.wheelStartY,Qt=jt&&G.wheelDY&&jt/G.wheelDY||Ut&&G.wheelDX&&Ut/G.wheelDX;G.wheelStartX=G.wheelStartY=null,Qt&&(co=(co*md+Qt)/(md+1),++md)}},200)):(G.wheelDX+=v,G.wheelDY+=b))}}C?co=-.53:T?co=15:V?co=-.7:H&&(co=-1/3);var ba=function(a,c){this.ranges=a,this.primIndex=c};ba.prototype.primary=function(){return this.ranges[this.primIndex]},ba.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var c=0;c<this.ranges.length;c++){var y=this.ranges[c],v=a.ranges[c];if(!od(y.anchor,v.anchor)||!od(y.head,v.head))return!1}return!0},ba.prototype.deepCopy=function(){for(var a=[],c=0;c<this.ranges.length;c++)a[c]=new Wr(As(this.ranges[c].anchor),As(this.ranges[c].head));return new ba(a,this.primIndex)},ba.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},ba.prototype.contains=function(a,c){c||(c=a);for(var y=0;y<this.ranges.length;y++){var v=this.ranges[y];if(Yn(c,v.from())>=0&&Yn(a,v.to())<=0)return y}return-1};var Wr=function(a,c){this.anchor=a,this.head=c};function ca(a,c,y){var v=a&&a.options.selectionsMayTouch,b=c[y];c.sort(function(Xe,je){return Yn(Xe.from(),je.from())}),y=it(c,b);for(var B=1;B<c.length;B++){var G=c[B],K=c[B-1],ee=Yn(K.to(),G.from());if(v&&!G.empty()?ee>0:ee>=0){var ce=Re(K.from(),G.from()),Ee=Oe(K.to(),G.to()),Le=K.empty()?G.from()==G.head:K.from()==K.head;B<=y&&--y,c.splice(--B,2,new Wr(Le?Ee:ce,Le?ce:Ee))}}return new ba(c,y)}function _a(a,c){return new ba([new Wr(a,c||a)],0)}function Fo(a){return a.text?Tt(a.from.line+a.text.length-1,_n(a.text).length+(1==a.text.length?a.from.ch:0)):a.to}function ps(a,c){if(Yn(a,c.from)<0)return a;if(Yn(a,c.to)<=0)return Fo(c);var y=a.line+c.text.length-(c.to.line-c.from.line)-1,v=a.ch;return a.line==c.to.line&&(v+=Fo(c).ch-c.to.ch),Tt(y,v)}function Bo(a,c){for(var y=[],v=0;v<a.sel.ranges.length;v++){var b=a.sel.ranges[v];y.push(new Wr(ps(b.anchor,c),ps(b.head,c)))}return ca(a.cm,y,a.sel.primIndex)}function Cl(a,c,y){return a.line==c.line?Tt(y.line,a.ch-c.ch+y.ch):Tt(y.line+(a.line-c.line),a.ch)}function vc(a){a.doc.mode=Oa(a.options,a.doc.modeOption),If(a)}function If(a){a.doc.iter(function(c){c.stateAfter&&(c.stateAfter=null),c.styles&&(c.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,yi(a,100),a.state.modeGen++,a.curOp&&ao(a)}function yd(a,c){return 0==c.from.ch&&0==c.to.ch&&""==_n(c.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function yc(a,c,y,v){function b(Qt){return y?y[Qt]:null}function B(Qt,Xt,$t){(function Ko(a,c,y,v){a.text=c,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),Ji(a),Qs(a,y);var b=v?v(a):1;b!=a.height&&Ro(a,b)})(Qt,Xt,$t,v),bo(Qt,"change",Qt,c)}function G(Qt,Xt){for(var $t=[],kn=Qt;kn<Xt;++kn)$t.push(new hl(ce[kn],b(kn),v));return $t}var K=c.from,ee=c.to,ce=c.text,Ee=xn(a,K.line),Le=xn(a,ee.line),Xe=_n(ce),je=b(ce.length-1),gt=ee.line-K.line;if(c.full)a.insert(0,G(0,ce.length)),a.remove(ce.length,a.size-ce.length);else if(yd(a,c)){var _t=G(0,ce.length-1);B(Le,Le.text,je),gt&&a.remove(K.line,gt),_t.length&&a.insert(K.line,_t)}else if(Ee==Le)if(1==ce.length)B(Ee,Ee.text.slice(0,K.ch)+Xe+Ee.text.slice(ee.ch),je);else{var Ut=G(1,ce.length-1);Ut.push(new hl(Xe+Ee.text.slice(ee.ch),je,v)),B(Ee,Ee.text.slice(0,K.ch)+ce[0],b(0)),a.insert(K.line+1,Ut)}else if(1==ce.length)B(Ee,Ee.text.slice(0,K.ch)+ce[0]+Le.text.slice(ee.ch),b(0)),a.remove(K.line+1,gt);else{B(Ee,Ee.text.slice(0,K.ch)+ce[0],b(0)),B(Le,Xe+Le.text.slice(ee.ch),je);var jt=G(1,ce.length-1);gt>1&&a.remove(K.line+1,gt-1),a.insert(K.line+1,jt)}bo(a,"change",a,c)}function gs(a,c,y){!function v(b,B,G){if(b.linked)for(var K=0;K<b.linked.length;++K){var ee=b.linked[K];if(ee.doc!=B){var ce=G&&ee.sharedHist;y&&!ce||(c(ee.doc,ce),v(ee.doc,b,ce))}}}(a,null,!0)}function bc(a,c){if(c.cm)throw new Error("This document is already in use.");a.doc=c,c.cm=a,Br(a),vc(a),Pp(a),a.options.direction=c.direction,a.options.lineWrapping||yu(a),a.options.mode=c.modeOption,ao(a)}function Pp(a){("rtl"==a.doc.direction?Ke:me)(a.display.lineDiv,"CodeMirror-rtl")}function _c(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function Mu(a,c){var y={from:As(c.from),to:Fo(c),text:li(a,c.from,c.to)};return Bp(a,y,c.from.line,c.to.line+1),gs(a,function(v){return Bp(v,y,c.from.line,c.to.line+1)},!0),y}function xl(a){for(;a.length&&_n(a).ranges;)a.pop()}function pm(a,c,y,v){var b=a.history;b.undone.length=0;var G,K,B=+new Date;if((b.lastOp==v||b.lastOrigin==c.origin&&c.origin&&("+"==c.origin.charAt(0)&&b.lastModTime>B-(a.cm?a.cm.options.historyEventDelay:500)||"*"==c.origin.charAt(0)))&&(G=function Lp(a,c){return c?(xl(a.done),_n(a.done)):a.done.length&&!_n(a.done).ranges?_n(a.done):a.done.length>1&&!a.done[a.done.length-2].ranges?(a.done.pop(),_n(a.done)):void 0}(b,b.lastOp==v)))K=_n(G.changes),0==Yn(c.from,c.to)&&0==Yn(c.from,K.to)?K.to=Fo(c):G.changes.push(Mu(a,c));else{var ee=_n(b.done);for((!ee||!ee.ranges)&&bd(a.sel,b.done),G={changes:[Mu(a,c)],generation:b.generation},b.done.push(G);b.done.length>b.undoDepth;)b.done.shift(),b.done[0].ranges||b.done.shift()}b.done.push(y),b.generation=++b.maxGeneration,b.lastModTime=b.lastSelTime=B,b.lastOp=b.lastSelOp=v,b.lastOrigin=b.lastSelOrigin=c.origin,K||pi(a,"historyAdded")}function Fp(a,c,y,v){var b=a.history,B=v&&v.origin;y==b.lastSelOp||B&&b.lastSelOrigin==B&&(b.lastModTime==b.lastSelTime&&b.lastOrigin==B||function vy(a,c,y,v){var b=c.charAt(0);return"*"==b||"+"==b&&y.ranges.length==v.ranges.length&&y.somethingSelected()==v.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}(a,B,_n(b.done),c))?b.done[b.done.length-1]=c:bd(c,b.done),b.lastSelTime=+new Date,b.lastSelOrigin=B,b.lastSelOp=y,v&&!1!==v.clearRedo&&xl(b.undone)}function bd(a,c){var y=_n(c);y&&y.ranges&&y.equals(a)||c.push(a)}function Bp(a,c,y,v){var b=c["spans_"+a.id],B=0;a.iter(Math.max(a.first,y),Math.min(a.first+a.size,v),function(G){G.markedSpans&&((b||(b=c["spans_"+a.id]={}))[B]=G.markedSpans),++B})}function gm(a){if(!a)return null;for(var c,y=0;y<a.length;++y)a[y].marker.explicitlyCleared?c||(c=a.slice(0,y)):c&&c.push(a[y]);return c?c.length?c:null:a}function Sh(a,c){var y=function wa(a,c){var y=c["spans_"+a.id];if(!y)return null;for(var v=[],b=0;b<c.text.length;++b)v.push(gm(y[b]));return v}(a,c),v=Zs(a,c);if(!y)return v;if(!v)return y;for(var b=0;b<y.length;++b){var B=y[b],G=v[b];if(B&&G)e:for(var K=0;K<G.length;++K){for(var ee=G[K],ce=0;ce<B.length;++ce)if(B[ce].marker==ee.marker)continue e;B.push(ee)}else G&&(y[b]=G)}return y}function wc(a,c,y){for(var v=[],b=0;b<a.length;++b){var B=a[b];if(B.ranges)v.push(y?ba.prototype.deepCopy.call(B):B);else{var G=B.changes,K=[];v.push({changes:K});for(var ee=0;ee<G.length;++ee){var ce=G[ee],Ee=void 0;if(K.push({from:ce.from,to:ce.to,text:ce.text}),c)for(var Le in ce)(Ee=Le.match(/^spans_(\d+)$/))&&it(c,Number(Ee[1]))>-1&&(_n(K)[Le]=ce[Le],delete ce[Le])}}}return v}function Af(a,c,y,v){if(v){var b=a.anchor;if(y){var B=Yn(c,b)<0;B!=Yn(y,b)<0?(b=c,c=y):B!=Yn(c,y)<0&&(c=y)}return new Wr(b,c)}return new Wr(y||c,c)}function _d(a,c,y,v,b){null==b&&(b=a.cm&&(a.cm.display.shift||a.extend)),xo(a,new ba([Af(a.sel.primary(),c,y,b)],0),v)}function Th(a,c,y){for(var v=[],b=a.cm&&(a.cm.display.shift||a.extend),B=0;B<a.sel.ranges.length;B++)v[B]=Af(a.sel.ranges[B],c[B],null,b);xo(a,ca(a.cm,v,a.sel.primIndex),y)}function Mh(a,c,y,v){var b=a.sel.ranges.slice(0);b[c]=y,xo(a,ca(a.cm,b,a.sel.primIndex),v)}function wd(a,c,y,v){xo(a,_a(c,y),v)}function Fa(a,c,y){var v=a.history.done,b=_n(v);b&&b.ranges?(v[v.length-1]=c,xd(a,c,y)):xo(a,c,y)}function xo(a,c,y){xd(a,c,y),Fp(a,a.sel,a.cm?a.cm.curOp.id:NaN,y)}function xd(a,c,y){(Ti(a,"beforeSelectionChange")||a.cm&&Ti(a.cm,"beforeSelectionChange"))&&(c=function Cd(a,c,y){var v={ranges:c.ranges,update:function(b){this.ranges=[];for(var B=0;B<b.length;B++)this.ranges[B]=new Wr(rt(a,b[B].anchor),rt(a,b[B].head))},origin:y&&y.origin};return pi(a,"beforeSelectionChange",a,v),a.cm&&pi(a.cm,"beforeSelectionChange",a.cm,v),v.ranges!=c.ranges?ca(a.cm,v.ranges,v.ranges.length-1):c}(a,c,y));var v=y&&y.bias||(Yn(c.primary().head,a.sel.primary().head)<0?-1:1);fi(a,Ed(a,c,v,!0)),(!y||!1!==y.scroll)&&a.cm&&"nocursor"!=a.cm.getOption("readOnly")&&qa(a.cm)}function fi(a,c){c.equals(a.sel)||(a.sel=c,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,mu(a.cm)),bo(a,"cursorActivity",a))}function Ih(a){fi(a,Ed(a,a.sel,null,!1))}function Ed(a,c,y,v){for(var b,B=0;B<c.ranges.length;B++){var G=c.ranges[B],K=c.ranges.length==a.sel.ranges.length&&a.sel.ranges[B],ee=Ls(a,G.anchor,K&&K.anchor,y,v),ce=G.head==G.anchor?ee:Ls(a,G.head,K&&K.head,y,v);(b||ee!=G.anchor||ce!=G.head)&&(b||(b=c.ranges.slice(0,B)),b[B]=new Wr(ee,ce))}return b?ca(a.cm,b,c.primIndex):c}function ji(a,c,y,v,b){var B=xn(a,c.line);if(B.markedSpans)for(var G=0;G<B.markedSpans.length;++G){var K=B.markedSpans[G],ee=K.marker,ce="selectLeft"in ee?!ee.selectLeft:ee.inclusiveLeft,Ee="selectRight"in ee?!ee.selectRight:ee.inclusiveRight;if((null==K.from||(ce?K.from<=c.ch:K.from<c.ch))&&(null==K.to||(Ee?K.to>=c.ch:K.to>c.ch))){if(b&&(pi(ee,"beforeCursorEnter"),ee.explicitlyCleared)){if(B.markedSpans){--G;continue}break}if(!ee.atomic)continue;if(y){var Le=ee.find(v<0?1:-1),Xe=void 0;if((v<0?Ee:ce)&&(Le=Of(a,Le,-v,Le&&Le.line==c.line?B:null)),Le&&Le.line==c.line&&(Xe=Yn(Le,y))&&(v<0?Xe<0:Xe>0))return ji(a,Le,c,v,b)}var je=ee.find(v<0?-1:1);return(v<0?ce:Ee)&&(je=Of(a,je,v,je.line==c.line?B:null)),je?ji(a,je,c,v,b):null}}return c}function Ls(a,c,y,v,b){var B=v||1;return ji(a,c,y,B,b)||!b&&ji(a,c,y,B,!0)||ji(a,c,y,-B,b)||!b&&ji(a,c,y,-B,!0)||(a.cantEdit=!0,Tt(a.first,0))}function Of(a,c,y,v){return y<0&&0==c.ch?c.line>a.first?rt(a,Tt(c.line-1)):null:y>0&&c.ch==(v||xn(a,c.line)).text.length?c.line<a.first+a.size-1?Tt(c.line+1,0):null:new Tt(c.line,c.ch+y)}function Zl(a){a.setSelection(Tt(a.firstLine(),0),Tt(a.lastLine()),St)}function Ba(a,c,y){var v={canceled:!1,from:c.from,to:c.to,text:c.text,origin:c.origin,cancel:function(){return v.canceled=!0}};return y&&(v.update=function(b,B,G,K){b&&(v.from=rt(a,b)),B&&(v.to=rt(a,B)),G&&(v.text=G),void 0!==K&&(v.origin=K)}),pi(a,"beforeChange",a,v),a.cm&&pi(a.cm,"beforeChange",a.cm,v),v.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:v.from,to:v.to,text:v.text,origin:v.origin}}function Cc(a,c,y){if(a.cm){if(!a.cm.curOp)return Co(a.cm,Cc)(a,c,y);if(a.cm.state.suppressEdits)return}if(!(Ti(a,"beforeChange")||a.cm&&Ti(a.cm,"beforeChange"))||(c=Ba(a,c,!0))){var v=mr&&!y&&function vo(a,c,y){var v=null;if(a.iter(c.line,y.line+1,function(je){if(je.markedSpans)for(var gt=0;gt<je.markedSpans.length;++gt){var _t=je.markedSpans[gt].marker;_t.readOnly&&(!v||-1==it(v,_t))&&(v||(v=[])).push(_t)}}),!v)return null;for(var b=[{from:c,to:y}],B=0;B<v.length;++B)for(var G=v[B],K=G.find(0),ee=0;ee<b.length;++ee){var ce=b[ee];if(!(Yn(ce.to,K.from)<0||Yn(ce.from,K.to)>0)){var Ee=[ee,1],Le=Yn(ce.from,K.from),Xe=Yn(ce.to,K.to);(Le<0||!G.inclusiveLeft&&!Le)&&Ee.push({from:ce.from,to:K.from}),(Xe>0||!G.inclusiveRight&&!Xe)&&Ee.push({from:K.to,to:ce.to}),b.splice.apply(b,Ee),ee+=Ee.length-3}}return b}(a,c.from,c.to);if(v)for(var b=v.length-1;b>=0;--b)Dd(a,{from:v[b].from,to:v[b].to,text:b?[""]:c.text,origin:c.origin});else Dd(a,c)}}function Dd(a,c){if(1!=c.text.length||""!=c.text[0]||0!=Yn(c.from,c.to)){var y=Bo(a,c);pm(a,c,y,a.cm?a.cm.curOp.id:NaN),Mr(a,c,y,Zs(a,c));var v=[];gs(a,function(b,B){!B&&-1==it(v,b.history)&&(Vp(b.history,c),v.push(b.history)),Mr(b,c,null,Zs(b,c))})}}function Sd(a,c,y){var v=a.cm&&a.cm.state.suppressEdits;if(!v||y){for(var B,b=a.history,G=a.sel,K="undo"==c?b.done:b.undone,ee="undo"==c?b.undone:b.done,ce=0;ce<K.length&&(B=K[ce],!(y?B.ranges&&!B.equals(a.sel):!B.ranges));ce++);if(ce!=K.length){for(b.lastOrigin=b.lastSelOrigin=null;;){if(!(B=K.pop()).ranges){if(v)return void K.push(B);break}if(bd(B,ee),y&&!B.equals(a.sel))return void xo(a,B,{clearRedo:!1});G=B}var Ee=[];bd(G,ee),ee.push({changes:Ee,generation:b.generation}),b.generation=B.generation||++b.maxGeneration;for(var Le=Ti(a,"beforeChange")||a.cm&&Ti(a.cm,"beforeChange"),Xe=function(_t){var Ut=B.changes[_t];if(Ut.origin=c,Le&&!Ba(a,Ut,!1))return K.length=0,{};Ee.push(Mu(a,Ut));var jt=_t?Bo(a,Ut):_n(K);Mr(a,Ut,jt,Sh(a,Ut)),!_t&&a.cm&&a.cm.scrollIntoView({from:Ut.from,to:Fo(Ut)});var Qt=[];gs(a,function(Xt,$t){!$t&&-1==it(Qt,Xt.history)&&(Vp(Xt.history,Ut),Qt.push(Xt.history)),Mr(Xt,Ut,null,Sh(Xt,Ut))})},je=B.changes.length-1;je>=0;--je){var gt=Xe(je);if(gt)return gt.v}}}}function nl(a,c){if(0!=c&&(a.first+=c,a.sel=new ba(Hn(a.sel.ranges,function(b){return new Wr(Tt(b.anchor.line+c,b.anchor.ch),Tt(b.head.line+c,b.head.ch))}),a.sel.primIndex),a.cm)){ao(a.cm,a.first,a.first-c,c);for(var y=a.cm.display,v=y.viewFrom;v<y.viewTo;v++)so(a.cm,v,"gutter")}}function Mr(a,c,y,v){if(a.cm&&!a.cm.curOp)return Co(a.cm,Mr)(a,c,y,v);if(c.to.line<a.first)nl(a,c.text.length-1-(c.to.line-c.from.line));else if(!(c.from.line>a.lastLine())){if(c.from.line<a.first){var b=c.text.length-1-(a.first-c.from.line);nl(a,b),c={from:Tt(a.first,0),to:Tt(c.to.line+b,c.to.ch),text:[_n(c.text)],origin:c.origin}}var B=a.lastLine();c.to.line>B&&(c={from:c.from,to:Tt(B,xn(a,B).text.length),text:[c.text[0]],origin:c.origin}),c.removed=li(a,c.from,c.to),y||(y=Bo(a,c)),a.cm?function mm(a,c,y){var v=a.doc,b=a.display,B=c.from,G=c.to,K=!1,ee=B.line;a.options.lineWrapping||(ee=Pr(tr(xn(v,B.line))),v.iter(ee,G.line+1,function(je){if(je==b.maxLine)return K=!0,!0})),v.sel.contains(c.from,c.to)>-1&&mu(a),yc(v,c,y,aa(a)),a.options.lineWrapping||(v.iter(ee,B.line+c.text.length,function(je){var gt=ac(je);gt>b.maxLineLength&&(b.maxLine=je,b.maxLineLength=gt,b.maxLineChanged=!0,K=!1)}),K&&(a.curOp.updateMaxLine=!0)),function ui(a,c){if(a.modeFrontier=Math.min(a.modeFrontier,c),!(a.highlightFrontier<c-10)){for(var y=a.first,v=c-1;v>y;v--){var b=xn(a,v).stateAfter;if(b&&(!(b instanceof mn)||v+b.lookAhead<c)){y=v+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,y)}}(v,B.line),yi(a,400);var ce=c.text.length-(G.line-B.line)-1;c.full?ao(a):B.line!=G.line||1!=c.text.length||yd(a.doc,c)?ao(a,B.line,G.line+1,ce):so(a,B.line,"text");var Ee=Ti(a,"changes"),Le=Ti(a,"change");if(Le||Ee){var Xe={from:B,to:G,text:c.text,removed:c.removed,origin:c.origin};Le&&bo(a,"change",a,Xe),Ee&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(Xe)}a.display.selForContextMenu=null}(a.cm,c,v):yc(a,c,v),xd(a,y,St),a.cantEdit&&Ls(a,Tt(a.firstLine(),0))&&(a.cantEdit=!1)}}function Ql(a,c,y,v,b){var B;v||(v=y),Yn(v,y)<0&&(y=(B=[v,y])[0],v=B[1]),"string"==typeof c&&(c=a.splitLines(c)),Cc(a,{from:y,to:v,text:c,origin:b})}function xc(a,c,y,v){y<a.line?a.line+=v:c<a.line&&(a.line=c,a.ch=0)}function Ah(a,c,y,v){for(var b=0;b<a.length;++b){var B=a[b],G=!0;if(B.ranges){B.copied||((B=a[b]=B.deepCopy()).copied=!0);for(var K=0;K<B.ranges.length;K++)xc(B.ranges[K].anchor,c,y,v),xc(B.ranges[K].head,c,y,v)}else{for(var ee=0;ee<B.changes.length;++ee){var ce=B.changes[ee];if(y<ce.from.line)ce.from=Tt(ce.from.line+v,ce.from.ch),ce.to=Tt(ce.to.line+v,ce.to.ch);else if(c<=ce.to.line){G=!1;break}}G||(a.splice(0,b+1),b=0)}}}function Vp(a,c){var y=c.from.line,v=c.to.line,b=c.text.length-(v-y)-1;Ah(a.done,y,v,b),Ah(a.undone,y,v,b)}function Bn(a,c,y,v){var b=c,B=c;return"number"==typeof c?B=xn(a,Ve(a,c)):b=Pr(c),null==b?null:(v(B,b)&&a.cm&&so(a.cm,b,y),B)}function Iu(a){this.lines=a,this.parent=null;for(var c=0,y=0;y<a.length;++y)a[y].parent=this,c+=a[y].height;this.height=c}function Au(a){this.children=a;for(var c=0,y=0,v=0;v<a.length;++v){var b=a[v];c+=b.chunkSize(),y+=b.height,b.parent=this}this.size=c,this.height=y,this.parent=null}Wr.prototype.from=function(){return Re(this.anchor,this.head)},Wr.prototype.to=function(){return Oe(this.anchor,this.head)},Wr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Iu.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,c){for(var y=a,v=a+c;y<v;++y){var b=this.lines[y];this.height-=b.height,ka(b),bo(b,"delete")}this.lines.splice(a,c)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,c,y){this.height+=y,this.lines=this.lines.slice(0,a).concat(c).concat(this.lines.slice(a));for(var v=0;v<c.length;++v)c[v].parent=this},iterN:function(a,c,y){for(var v=a+c;a<v;++a)if(y(this.lines[a]))return!0}},Au.prototype={chunkSize:function(){return this.size},removeInner:function(a,c){this.size-=c;for(var y=0;y<this.children.length;++y){var v=this.children[y],b=v.chunkSize();if(a<b){var B=Math.min(c,b-a),G=v.height;if(v.removeInner(a,B),this.height-=G-v.height,b==B&&(this.children.splice(y--,1),v.parent=null),0==(c-=B))break;a=0}else a-=b}if(this.size-c<25&&(this.children.length>1||!(this.children[0]instanceof Iu))){var K=[];this.collapse(K),this.children=[new Iu(K)],this.children[0].parent=this}},collapse:function(a){for(var c=0;c<this.children.length;++c)this.children[c].collapse(a)},insertInner:function(a,c,y){this.size+=c.length,this.height+=y;for(var v=0;v<this.children.length;++v){var b=this.children[v],B=b.chunkSize();if(a<=B){if(b.insertInner(a,c,y),b.lines&&b.lines.length>50){for(var G=b.lines.length%25+25,K=G;K<b.lines.length;){var ee=new Iu(b.lines.slice(K,K+=25));b.height-=ee.height,this.children.splice(++v,0,ee),ee.parent=this}b.lines=b.lines.slice(0,G),this.maybeSpill()}break}a-=B}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var y=new Au(a.children.splice(a.children.length-5,5));if(a.parent){a.size-=y.size,a.height-=y.height;var b=it(a.parent.children,a);a.parent.children.splice(b+1,0,y)}else{var v=new Au(a.children);v.parent=a,a.children=[v,y],a=v}y.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,c,y){for(var v=0;v<this.children.length;++v){var b=this.children[v],B=b.chunkSize();if(a<B){var G=Math.min(c,B-a);if(b.iterN(a,G,y))return!0;if(0==(c-=G))break;a=0}else a-=B}}};var Jl=function(a,c,y){if(y)for(var v in y)y.hasOwnProperty(v)&&(this[v]=y[v]);this.doc=a,this.node=c};function Vo(a,c,y){Ra(c)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&fs(a,y)}Jl.prototype.clear=function(){var a=this.doc.cm,c=this.line.widgets,y=this.line,v=Pr(y);if(null!=v&&c){for(var b=0;b<c.length;++b)c[b]==this&&c.splice(b--,1);c.length||(y.widgets=null);var B=fc(this);Ro(y,Math.max(0,y.height-B)),a&&(ua(a,function(){Vo(a,y,-B),so(a,v,"widget")}),bo(a,"lineWidgetCleared",a,this,v))}},Jl.prototype.changed=function(){var a=this,c=this.height,y=this.doc.cm,v=this.line;this.height=null;var b=fc(this)-c;b&&(fl(this.doc,v)||Ro(v,v.height+b),y&&ua(y,function(){y.curOp.forceUpdate=!0,Vo(y,v,b),bo(y,"lineWidgetChanged",y,a,Pr(v))}))},Ma(Jl);var Td=0,Ho=function(a,c){this.lines=[],this.type=c,this.doc=a,this.id=++Td};function Ec(a,c,y,v,b){if(v&&v.shared)return function vm(a,c,y,v,b){(v=vn(v)).shared=!1;var B=[Ec(a,c,y,v,b)],G=B[0],K=v.widgetNode;return gs(a,function(ee){K&&(v.widgetNode=K.cloneNode(!0)),B.push(Ec(ee,rt(ee,c),rt(ee,y),v,b));for(var ce=0;ce<ee.linked.length;++ce)if(ee.linked[ce].isParent)return;G=_n(B)}),new Md(B,G)}(a,c,y,v,b);if(a.cm&&!a.cm.curOp)return Co(a.cm,Ec)(a,c,y,v,b);var B=new Ho(a,b),G=Yn(c,y);if(v&&vn(v,B,!1),G>0||0==G&&!1!==B.clearWhenEmpty)return B;if(B.replacedWith&&(B.collapsed=!0,B.widgetNode=ze("span",[B.replacedWith],"CodeMirror-widget"),v.handleMouseEvents||B.widgetNode.setAttribute("cm-ignore-events","true"),v.insertLeft&&(B.widgetNode.insertLeft=!0)),B.collapsed){if(io(a,c.line,c,y,B)||c.line!=y.line&&io(a,y.line,c,y,B))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function yn(){et=!0}()}B.addToHistory&&pm(a,{from:c,to:y,origin:"markText"},a.sel,NaN);var ce,K=c.line,ee=a.cm;if(a.iter(K,y.line+1,function(Le){ee&&B.collapsed&&!ee.options.lineWrapping&&tr(Le)==ee.display.maxLine&&(ce=!0),B.collapsed&&K!=c.line&&Ro(Le,0),function mo(a,c,y){var v=y&&window.WeakSet&&(y.markedSpans||(y.markedSpans=new WeakSet));v&&a.markedSpans&&v.has(a.markedSpans)?a.markedSpans.push(c):(a.markedSpans=a.markedSpans?a.markedSpans.concat([c]):[c],v&&v.add(a.markedSpans)),c.marker.attachLine(a)}(Le,new Gn(B,K==c.line?c.ch:null,K==y.line?y.ch:null),a.cm&&a.cm.curOp),++K}),B.collapsed&&a.iter(c.line,y.line+1,function(Le){fl(a,Le)&&Ro(Le,0)}),B.clearOnEnter&&Cn(B,"beforeCursorEnter",function(){return B.clear()}),B.readOnly&&(function Fr(){mr=!0}(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),B.collapsed&&(B.id=++Td,B.atomic=!0),ee){if(ce&&(ee.curOp.updateMaxLine=!0),B.collapsed)ao(ee,c.line,y.line+1);else if(B.className||B.startStyle||B.endStyle||B.css||B.attributes||B.title)for(var Ee=c.line;Ee<=y.line;Ee++)so(ee,Ee,"text");B.atomic&&Ih(ee.doc),bo(ee,"markerAdded",ee,B)}return B}Ho.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,c=a&&!a.curOp;if(c&&oi(a),Ti(this,"clear")){var y=this.find();y&&bo(this,"clear",y.from,y.to)}for(var v=null,b=null,B=0;B<this.lines.length;++B){var G=this.lines[B],K=ci(G.markedSpans,this);a&&!this.collapsed?so(a,Pr(G),"text"):a&&(null!=K.to&&(b=Pr(G)),null!=K.from&&(v=Pr(G))),G.markedSpans=Hi(G.markedSpans,K),null==K.from&&this.collapsed&&!fl(this.doc,G)&&a&&Ro(G,ei(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var ee=0;ee<this.lines.length;++ee){var ce=tr(this.lines[ee]),Ee=ac(ce);Ee>a.display.maxLineLength&&(a.display.maxLine=ce,a.display.maxLineLength=Ee,a.display.maxLineChanged=!0)}null!=v&&a&&this.collapsed&&ao(a,v,b+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Ih(a.doc)),a&&bo(a,"markerCleared",a,this,v,b),c&&Xl(a),this.parent&&this.parent.clear()}},Ho.prototype.find=function(a,c){null==a&&"bookmark"==this.type&&(a=1);for(var y,v,b=0;b<this.lines.length;++b){var B=this.lines[b],G=ci(B.markedSpans,this);if(null!=G.from&&(y=Tt(c?B:Pr(B),G.from),-1==a))return y;if(null!=G.to&&(v=Tt(c?B:Pr(B),G.to),1==a))return v}return y&&{from:y,to:v}},Ho.prototype.changed=function(){var a=this,c=this.find(-1,!0),y=this,v=this.doc.cm;!c||!v||ua(v,function(){var b=c.line,B=Pr(c.line),G=jl(v,B);if(G&&(sd(G),v.curOp.selectionChanged=v.curOp.forceUpdate=!0),v.curOp.updateMaxLine=!0,!fl(y.doc,b)&&null!=y.height){var K=y.height;y.height=null;var ee=fc(y)-K;ee&&Ro(b,b.height+ee)}bo(v,"markerChanged",v,a)})},Ho.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(!c.maybeHiddenMarkers||-1==it(c.maybeHiddenMarkers,this))&&(c.maybeUnhiddenMarkers||(c.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Ho.prototype.detachLine=function(a){if(this.lines.splice(it(this.lines,a),1),!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(c.maybeHiddenMarkers||(c.maybeHiddenMarkers=[])).push(this)}},Ma(Ho);var Md=function(a,c){this.markers=a,this.primary=c;for(var y=0;y<a.length;++y)a[y].parent=this};function Hp(a){return a.findMarks(Tt(a.first,0),a.clipPos(Tt(a.lastLine())),function(c){return c.parent})}function Rt(a){for(var c=function(v){var b=a[v],B=[b.primary.doc];gs(b.primary.doc,function(ee){return B.push(ee)});for(var G=0;G<b.markers.length;G++){var K=b.markers[G];-1==it(B,K.doc)&&(K.parent=null,b.markers.splice(G--,1))}},y=0;y<a.length;y++)c(y)}Md.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();bo(this,"clear")}},Md.prototype.find=function(a,c){return this.primary.find(a,c)},Ma(Md);var _r=0,zn=function(a,c,y,v,b){if(!(this instanceof zn))return new zn(a,c,y,v,b);null==y&&(y=0),Au.call(this,[new Iu([new hl("",null)])]),this.first=y,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=y;var B=Tt(y,0);this.sel=_a(B),this.history=new _c(null),this.id=++_r,this.modeOption=c,this.lineSep=v,this.direction="rtl"==b?"rtl":"ltr",this.extend=!1,"string"==typeof a&&(a=this.splitLines(a)),yc(this,{from:B,to:B,text:a}),xo(this,_a(B),St)};zn.prototype=Ri(Au.prototype,{constructor:zn,iter:function(a,c,y){y?this.iterN(a-this.first,c-a,y):this.iterN(this.first,this.first+this.size,a)},insert:function(a,c){for(var y=0,v=0;v<c.length;++v)y+=c[v].height;this.insertInner(a-this.first,c,y)},remove:function(a,c){this.removeInner(a-this.first,c)},getValue:function(a){var c=$a(this,this.first,this.first+this.size);return!1===a?c:c.join(a||this.lineSeparator())},setValue:Lo(function(a){var c=Tt(this.first,0),y=this.first+this.size-1;Cc(this,{from:c,to:Tt(y,xn(this,y).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&uo(this.cm,0,0),xo(this,_a(c),St)}),replaceRange:function(a,c,y,v){Ql(this,a,c=rt(this,c),y=y?rt(this,y):c,v)},getRange:function(a,c,y){var v=li(this,rt(this,a),rt(this,c));return!1===y?v:v.join(""===y?"":y||this.lineSeparator())},getLine:function(a){var c=this.getLineHandle(a);return c&&c.text},getLineHandle:function(a){if(ko(this,a))return xn(this,a)},getLineNumber:function(a){return Pr(a)},getLineHandleVisualStart:function(a){return"number"==typeof a&&(a=xn(this,a)),tr(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return rt(this,a)},getCursor:function(a){var c=this.sel.primary();return null==a||"head"==a?c.head:"anchor"==a?c.anchor:"end"==a||"to"==a||!1===a?c.to():c.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Lo(function(a,c,y){wd(this,rt(this,"number"==typeof a?Tt(a,c||0):a),null,y)}),setSelection:Lo(function(a,c,y){wd(this,rt(this,a),rt(this,c||a),y)}),extendSelection:Lo(function(a,c,y){_d(this,rt(this,a),c&&rt(this,c),y)}),extendSelections:Lo(function(a,c){Th(this,Zt(this,a),c)}),extendSelectionsBy:Lo(function(a,c){Th(this,Zt(this,Hn(this.sel.ranges,a)),c)}),setSelections:Lo(function(a,c,y){if(a.length){for(var v=[],b=0;b<a.length;b++)v[b]=new Wr(rt(this,a[b].anchor),rt(this,a[b].head||a[b].anchor));null==c&&(c=Math.min(a.length-1,this.sel.primIndex)),xo(this,ca(this.cm,v,c),y)}}),addSelection:Lo(function(a,c,y){var v=this.sel.ranges.slice(0);v.push(new Wr(rt(this,a),rt(this,c||a))),xo(this,ca(this.cm,v,v.length-1),y)}),getSelection:function(a){for(var y,c=this.sel.ranges,v=0;v<c.length;v++){var b=li(this,c[v].from(),c[v].to());y=y?y.concat(b):b}return!1===a?y:y.join(a||this.lineSeparator())},getSelections:function(a){for(var c=[],y=this.sel.ranges,v=0;v<y.length;v++){var b=li(this,y[v].from(),y[v].to());!1!==a&&(b=b.join(a||this.lineSeparator())),c[v]=b}return c},replaceSelection:function(a,c,y){for(var v=[],b=0;b<this.sel.ranges.length;b++)v[b]=a;this.replaceSelections(v,c,y||"+input")},replaceSelections:Lo(function(a,c,y){for(var v=[],b=this.sel,B=0;B<b.ranges.length;B++){var G=b.ranges[B];v[B]={from:G.from(),to:G.to(),text:this.splitLines(a[B]),origin:y}}for(var K=c&&"end"!=c&&function eo(a,c,y){for(var v=[],b=Tt(a.first,0),B=b,G=0;G<c.length;G++){var K=c[G],ee=Cl(K.from,b,B),ce=Cl(Fo(K),b,B);if(b=K.to,B=ce,"around"==y){var Ee=a.sel.ranges[G],Le=Yn(Ee.head,Ee.anchor)<0;v[G]=new Wr(Le?ce:ee,Le?ee:ce)}else v[G]=new Wr(ee,ee)}return new ba(v,a.sel.primIndex)}(this,v,c),ee=v.length-1;ee>=0;ee--)Cc(this,v[ee]);K?Fa(this,K):this.cm&&qa(this.cm)}),undo:Lo(function(){Sd(this,"undo")}),redo:Lo(function(){Sd(this,"redo")}),undoSelection:Lo(function(){Sd(this,"undo",!0)}),redoSelection:Lo(function(){Sd(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,c=0,y=0,v=0;v<a.done.length;v++)a.done[v].ranges||++c;for(var b=0;b<a.undone.length;b++)a.undone[b].ranges||++y;return{undo:c,redo:y}},clearHistory:function(){var a=this;this.history=new _c(this.history),gs(this,function(c){return c.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:wc(this.history.done),undone:wc(this.history.undone)}},setHistory:function(a){var c=this.history=new _c(this.history);c.done=wc(a.done.slice(0),null,!0),c.undone=wc(a.undone.slice(0),null,!0)},setGutterMarker:Lo(function(a,c,y){return Bn(this,a,"gutter",function(v){var b=v.gutterMarkers||(v.gutterMarkers={});return b[c]=y,!y&&jr(b)&&(v.gutterMarkers=null),!0})}),clearGutter:Lo(function(a){var c=this;this.iter(function(y){y.gutterMarkers&&y.gutterMarkers[a]&&Bn(c,y,"gutter",function(){return y.gutterMarkers[a]=null,jr(y.gutterMarkers)&&(y.gutterMarkers=null),!0})})}),lineInfo:function(a){var c;if("number"==typeof a){if(!(ko(this,a)&&(c=a,a=xn(this,a))))return null}else if(null==(c=Pr(a)))return null;return{line:c,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Lo(function(a,c,y){return Bn(this,a,"gutter"==c?"gutter":"class",function(v){var b="text"==c?"textClass":"background"==c?"bgClass":"gutter"==c?"gutterClass":"wrapClass";if(v[b]){if(ie(y).test(v[b]))return!1;v[b]+=" "+y}else v[b]=y;return!0})}),removeLineClass:Lo(function(a,c,y){return Bn(this,a,"gutter"==c?"gutter":"class",function(v){var b="text"==c?"textClass":"background"==c?"bgClass":"gutter"==c?"gutterClass":"wrapClass",B=v[b];if(!B)return!1;if(null==y)v[b]=null;else{var G=B.match(ie(y));if(!G)return!1;var K=G.index+G[0].length;v[b]=B.slice(0,G.index)+(G.index&&K!=B.length?" ":"")+B.slice(K)||null}return!0})}),addLineWidget:Lo(function(a,c,y){return function Oh(a,c,y,v){var b=new Jl(a,y,v),B=a.cm;return B&&b.noHScroll&&(B.display.alignWidgets=!0),Bn(a,c,"widget",function(G){var K=G.widgets||(G.widgets=[]);if(null==b.insertAt?K.push(b):K.splice(Math.min(K.length,Math.max(0,b.insertAt)),0,b),b.line=G,B&&!fl(a,G)){var ee=Ra(G)<a.scrollTop;Ro(G,G.height+fc(b)),ee&&fs(B,b.height),B.curOp.forceUpdate=!0}return!0}),B&&bo(B,"lineWidgetAdded",B,b,"number"==typeof c?c:Pr(c)),b}(this,a,c,y)}),removeLineWidget:function(a){a.clear()},markText:function(a,c,y){return Ec(this,rt(this,a),rt(this,c),y,y&&y.type||"range")},setBookmark:function(a,c){var y={replacedWith:c&&(null==c.nodeType?c.widget:c),insertLeft:c&&c.insertLeft,clearWhenEmpty:!1,shared:c&&c.shared,handleMouseEvents:c&&c.handleMouseEvents};return Ec(this,a=rt(this,a),a,y,"bookmark")},findMarksAt:function(a){var c=[],y=xn(this,(a=rt(this,a)).line).markedSpans;if(y)for(var v=0;v<y.length;++v){var b=y[v];(null==b.from||b.from<=a.ch)&&(null==b.to||b.to>=a.ch)&&c.push(b.marker.parent||b.marker)}return c},findMarks:function(a,c,y){a=rt(this,a),c=rt(this,c);var v=[],b=a.line;return this.iter(a.line,c.line+1,function(B){var G=B.markedSpans;if(G)for(var K=0;K<G.length;K++){var ee=G[K];!(null!=ee.to&&b==a.line&&a.ch>=ee.to||null==ee.from&&b!=a.line||null!=ee.from&&b==c.line&&ee.from>=c.ch)&&(!y||y(ee.marker))&&v.push(ee.marker.parent||ee.marker)}++b}),v},getAllMarks:function(){var a=[];return this.iter(function(c){var y=c.markedSpans;if(y)for(var v=0;v<y.length;++v)null!=y[v].from&&a.push(y[v].marker)}),a},posFromIndex:function(a){var c,y=this.first,v=this.lineSeparator().length;return this.iter(function(b){var B=b.text.length+v;if(B>a)return c=a,!0;a-=B,++y}),rt(this,Tt(y,c))},indexFromPos:function(a){var c=(a=rt(this,a)).ch;if(a.line<this.first||a.ch<0)return 0;var y=this.lineSeparator().length;return this.iter(this.first,a.line,function(v){c+=v.text.length+y}),c},copy:function(a){var c=new zn($a(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return c.scrollTop=this.scrollTop,c.scrollLeft=this.scrollLeft,c.sel=this.sel,c.extend=!1,a&&(c.history.undoDepth=this.history.undoDepth,c.setHistory(this.getHistory())),c},linkedDoc:function(a){a||(a={});var c=this.first,y=this.first+this.size;null!=a.from&&a.from>c&&(c=a.from),null!=a.to&&a.to<y&&(y=a.to);var v=new zn($a(this,c,y),a.mode||this.modeOption,c,this.lineSep,this.direction);return a.sharedHist&&(v.history=this.history),(this.linked||(this.linked=[])).push({doc:v,sharedHist:a.sharedHist}),v.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],function eu(a,c){for(var y=0;y<c.length;y++){var v=c[y],b=v.find(),B=a.clipPos(b.from),G=a.clipPos(b.to);if(Yn(B,G)){var K=Ec(a,B,G,v.primary,v.primary.type);v.markers.push(K),K.parent=v}}}(v,Hp(this)),v},unlinkDoc:function(a){if(a instanceof ai&&(a=a.doc),this.linked)for(var c=0;c<this.linked.length;++c)if(this.linked[c].doc==a){this.linked.splice(c,1),a.unlinkDoc(this),Rt(Hp(this));break}if(a.history==this.history){var v=[a.id];gs(a,function(b){return v.push(b.id)},!0),a.history=new _c(null),a.history.done=wc(this.history.done,v),a.history.undone=wc(this.history.undone,v)}},iterLinkedDocs:function(a){gs(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):vu(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Lo(function(a){"rtl"!=a&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(c){return c.order=null}),this.cm&&function Dh(a){ua(a,function(){Pp(a),ao(a)})}(this.cm))})}),zn.prototype.eachLine=zn.prototype.iter;var bi=0;function zo(a){var c=this;if(ms(c),!qi(c,a)&&!gl(c.display,a)){Vi(a),C&&(bi=+new Date);var y=Ui(c,a,!0),v=a.dataTransfer.files;if(y&&!c.isReadOnly())if(v&&v.length&&window.FileReader&&window.File)for(var b=v.length,B=Array(b),G=0,K=function(){++G==b&&Co(c,function(){var je={from:y=rt(c.doc,y),to:y,text:c.doc.splitLines(B.filter(function(gt){return null!=gt}).join(c.doc.lineSeparator())),origin:"paste"};Cc(c.doc,je),Fa(c.doc,_a(rt(c.doc,y),rt(c.doc,Fo(je))))})()},ee=function(je,gt){if(c.options.allowDropFileTypes&&-1==it(c.options.allowDropFileTypes,je.type))K();else{var _t=new FileReader;_t.onerror=function(){return K()},_t.onload=function(){var Ut=_t.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Ut)||(B[gt]=Ut),K()},_t.readAsText(je)}},ce=0;ce<v.length;ce++)ee(v[ce],ce);else{if(c.state.draggingText&&c.doc.sel.contains(y)>-1)return c.state.draggingText(a),void setTimeout(function(){return c.display.input.focus()},20);try{var Ee=a.dataTransfer.getData("Text");if(Ee){var Le;if(c.state.draggingText&&!c.state.draggingText.copy&&(Le=c.listSelections()),xd(c.doc,_a(y,y)),Le)for(var Xe=0;Xe<Le.length;++Xe)Ql(c.doc,"",Le[Xe].anchor,Le[Xe].head,"drag");c.replaceSelection(Ee,"around","paste"),c.display.input.focus()}}catch{}}}}function ms(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Id(a){if(document.getElementsByClassName){for(var c=document.getElementsByClassName("CodeMirror"),y=[],v=0;v<c.length;v++){var b=c[v].CodeMirror;b&&y.push(b)}y.length&&y[0].operation(function(){for(var B=0;B<y.length;B++)a(y[B])})}}var fo=!1;function _i(){fo||(function yy(){var a;Cn(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null,Id(zp)},100))}),Cn(window,"blur",function(){return Id(vi)})}(),fo=!0)}function zp(a){var c=a.display;c.cachedCharWidth=c.cachedTextHeight=c.cachedPaddingH=null,c.scrollbarsClipped=!1,a.setSize()}for(var Wi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Er=0;Er<10;Er++)Wi[Er+48]=Wi[Er+96]=String(Er);for(var tu=65;tu<=90;tu++)Wi[tu]=String.fromCharCode(tu);for(var Fs=1;Fs<=12;Fs++)Wi[Fs+111]=Wi[Fs+63235]="F"+Fs;var Uo={};function Sc(a){var c=a.split(/-(?!$)/);a=c[c.length-1];for(var y,v,b,B,G=0;G<c.length-1;G++){var K=c[G];if(/^(cmd|meta|m)$/i.test(K))B=!0;else if(/^a(lt)?$/i.test(K))y=!0;else if(/^(c|ctrl|control)$/i.test(K))v=!0;else{if(!/^s(hift)?$/i.test(K))throw new Error("Unrecognized modifier name: "+K);b=!0}}return y&&(a="Alt-"+a),v&&(a="Ctrl-"+a),B&&(a="Cmd-"+a),b&&(a="Shift-"+a),a}function Up(a){var c={};for(var y in a)if(a.hasOwnProperty(y)){var v=a[y];if(/^(name|fallthrough|(de|at)tach)$/.test(y))continue;if("..."==v){delete a[y];continue}for(var b=Hn(y.split(" "),Sc),B=0;B<b.length;B++){var G=void 0,K=void 0;B==b.length-1?(K=b.join(" "),G=v):(K=b.slice(0,B+1).join(" "),G="...");var ee=c[K];if(ee){if(ee!=G)throw new Error("Inconsistent bindings for "+K)}else c[K]=G}delete a[y]}for(var ce in c)a[ce]=c[ce];return a}function rl(a,c,y,v){var b=(c=Od(c)).call?c.call(a,v):c[a];if(!1===b)return"nothing";if("..."===b)return"multi";if(null!=b&&y(b))return"handled";if(c.fallthrough){if("[object Array]"!=Object.prototype.toString.call(c.fallthrough))return rl(a,c.fallthrough,y,v);for(var B=0;B<c.fallthrough.length;B++){var G=rl(a,c.fallthrough[B],y,v);if(G)return G}}}function Gp(a){var c="string"==typeof a?a:Wi[a.keyCode];return"Ctrl"==c||"Alt"==c||"Shift"==c||"Mod"==c}function Ad(a,c,y){var v=a;return c.altKey&&"Alt"!=v&&(a="Alt-"+a),(q?c.metaKey:c.ctrlKey)&&"Ctrl"!=v&&(a="Ctrl-"+a),(q?c.ctrlKey:c.metaKey)&&"Mod"!=v&&(a="Cmd-"+a),!y&&c.shiftKey&&"Shift"!=v&&(a="Shift-"+a),a}function Nf(a,c){if(k&&34==a.keyCode&&a.char)return!1;var y=Wi[a.keyCode];return null!=y&&!a.altGraphKey&&(3==a.keyCode&&a.code&&(y=a.code),Ad(y,a,c))}function Od(a){return"string"==typeof a?Uo[a]:a}function Bs(a,c){for(var y=a.doc.sel.ranges,v=[],b=0;b<y.length;b++){for(var B=c(y[b]);v.length&&Yn(B.from,_n(v).to)<=0;){var G=v.pop();if(Yn(G.from,B.from)<0){B.from=G.from;break}}v.push(B)}ua(a,function(){for(var K=v.length-1;K>=0;K--)Ql(a.doc,"",v[K].from,v[K].to,"+delete");qa(a)})}function Rf(a,c,y){var v=Ts(a.text,c+y,y);return v<0||v>a.text.length?null:v}function Tc(a,c,y){var v=Rf(a,c.ch,y);return null==v?null:new Tt(c.line,v,y<0?"after":"before")}function nu(a,c,y,v,b){if(a){"rtl"==c.doc.direction&&(b=-b);var B=Wa(y,c.doc.direction);if(B){var ce,G=b<0?_n(B):B[0],ee=b<0==(1==G.level)?"after":"before";if(G.level>0||"rtl"==c.doc.direction){var Ee=Wl(c,y),Le=ks(c,Ee,ce=b<0?y.text.length-1:0).top;ce=Nn(function(Xe){return ks(c,Ee,Xe).top==Le},b<0==(1==G.level)?G.from:G.to-1,ce),"before"==ee&&(ce=Rf(y,ce,1))}else ce=b<0?G.to:G.from;return new Tt(v,ce,ee)}}return new Tt(v,b<0?y.text.length:0,b<0?"before":"after")}Uo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Uo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Uo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Uo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Uo.default=ae?Uo.macDefault:Uo.pcDefault;var Mc={selectAll:Zl,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),St)},killLine:function(a){return Bs(a,function(c){if(c.empty()){var y=xn(a.doc,c.head.line).text.length;return c.head.ch==y&&c.head.line<a.lastLine()?{from:c.head,to:Tt(c.head.line+1,0)}:{from:c.head,to:Tt(c.head.line,y)}}return{from:c.from(),to:c.to()}})},deleteLine:function(a){return Bs(a,function(c){return{from:Tt(c.from().line,0),to:rt(a.doc,Tt(c.to().line+1,0))}})},delLineLeft:function(a){return Bs(a,function(c){return{from:Tt(c.from().line,0),to:c.from()}})},delWrappedLineLeft:function(a){return Bs(a,function(c){var y=a.charCoords(c.head,"div").top+5;return{from:a.coordsChar({left:0,top:y},"div"),to:c.from()}})},delWrappedLineRight:function(a){return Bs(a,function(c){var y=a.charCoords(c.head,"div").top+5,v=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:y},"div");return{from:c.from(),to:v}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(Tt(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(Tt(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(c){return Nd(a,c.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(c){return Eo(a,c.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(c){return function Rd(a,c){var y=xn(a.doc,c),v=function Ya(a){for(var c;c=Na(a);)a=c.find(1,!0).line;return a}(y);return v!=y&&(c=Pr(v)),nu(!0,a,y,c,-1)}(a,c.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(c){var y=a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:y},"div")},Jn)},goLineLeft:function(a){return a.extendSelectionsBy(function(c){var y=a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:0,top:y},"div")},Jn)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(c){var y=a.cursorCoords(c.head,"div").top+5,v=a.coordsChar({left:0,top:y},"div");return v.ch<a.getLine(v.line).search(/\S/)?Eo(a,c.head):v},Jn)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},insertSoftTab:function(a){for(var c=[],y=a.listSelections(),v=a.options.tabSize,b=0;b<y.length;b++){var B=y[b].from(),G=cn(a.getLine(B.line),B.ch,v);c.push(Cr(v-G%v))}a.replaceSelections(c)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return ua(a,function(){for(var c=a.listSelections(),y=[],v=0;v<c.length;v++)if(c[v].empty()){var b=c[v].head,B=xn(a.doc,b.line).text;if(B)if(b.ch==B.length&&(b=new Tt(b.line,b.ch-1)),b.ch>0)b=new Tt(b.line,b.ch+1),a.replaceRange(B.charAt(b.ch-1)+B.charAt(b.ch-2),Tt(b.line,b.ch-2),b,"+transpose");else if(b.line>a.doc.first){var G=xn(a.doc,b.line-1).text;G&&(b=new Tt(b.line,1),a.replaceRange(B.charAt(0)+a.doc.lineSeparator()+G.charAt(G.length-1),Tt(b.line-1,G.length-1),b,"+transpose"))}y.push(new Wr(b,b))}a.setSelections(y)})},newlineAndIndent:function(a){return ua(a,function(){for(var c=a.listSelections(),y=c.length-1;y>=0;y--)a.replaceRange(a.doc.lineSeparator(),c[y].anchor,c[y].head,"+input");c=a.listSelections();for(var v=0;v<c.length;v++)a.indentLine(c[v].from().line,null,!0);qa(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function Nd(a,c){var y=xn(a.doc,c),v=tr(y);return v!=y&&(c=Pr(v)),nu(!0,a,v,c,1)}function Eo(a,c){var y=Nd(a,c.line),v=xn(a.doc,y.line),b=Wa(v,a.doc.direction);if(!b||0==b[0].level){var B=Math.max(y.ch,v.text.search(/\S/));return Tt(y.line,c.line==y.line&&c.ch<=B&&c.ch?0:B,y.sticky)}return y}function ru(a,c,y){if("string"==typeof c&&!(c=Mc[c]))return!1;a.display.input.ensurePolled();var v=a.display.shift,b=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),y&&(a.display.shift=!1),b=c(a)!=Ft}finally{a.display.shift=v,a.state.suppressEdits=!1}return b}var Do=new ut;function ts(a,c,y,v){var b=a.state.keySeq;if(b){if(Gp(c))return"handled";if(/\'$/.test(c)?a.state.keySeq=null:Do.set(50,function(){a.state.keySeq==b&&(a.state.keySeq=null,a.display.input.reset())}),Hr(a,b+" "+c,y,v))return!0}return Hr(a,c,y,v)}function Hr(a,c,y,v){var b=function ym(a,c,y){for(var v=0;v<a.state.keyMaps.length;v++){var b=rl(c,a.state.keyMaps[v],y,a);if(b)return b}return a.options.extraKeys&&rl(c,a.options.extraKeys,y,a)||rl(c,a.options.keyMap,y,a)}(a,c,v);return"multi"==b&&(a.state.keySeq=c),"handled"==b&&bo(a,"keyHandled",a,c,y),("handled"==b||"multi"==b)&&(Vi(y),sa(a)),!!b}function kd(a,c){var y=Nf(c,!0);return!!y&&(c.shiftKey&&!a.state.keySeq?ts(a,"Shift-"+y,c,function(v){return ru(a,v,!0)})||ts(a,y,c,function(v){if("string"==typeof v?/^go[A-Z]/.test(v):v.motion)return ru(a,v)}):ts(a,y,c,function(v){return ru(a,v)}))}var So=null;function Pd(a){var c=this;if(!(a.target&&a.target!=c.display.input.getField()||(c.curOp.focus=ht(qt(c)),qi(c,a)))){C&&S<11&&27==a.keyCode&&(a.returnValue=!1);var y=a.keyCode;c.display.shift=16==y||a.shiftKey;var v=kd(c,a);k&&(So=v?y:null,!v&&88==y&&!No&&(ae?a.metaKey:a.ctrlKey)&&c.replaceSelection("",null,"cut")),T&&!ae&&!v&&46==y&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==y&&!/\bCodeMirror-crosshair\b/.test(c.display.lineDiv.className)&&function Zo(a){var c=a.display.lineDiv;function y(v){(18==v.keyCode||!v.altKey)&&(me(c,"CodeMirror-crosshair"),go(document,"keyup",y),go(document,"mouseover",y))}Ke(c,"CodeMirror-crosshair"),Cn(document,"keyup",y),Cn(document,"mouseover",y)}(c)}}function Go(a){16==a.keyCode&&(this.doc.sel.shift=!1),qi(this,a)}function Ld(a){var c=this;if(!(a.target&&a.target!=c.display.input.getField()||gl(c.display,a)||qi(c,a)||a.ctrlKey&&!a.altKey||ae&&a.metaKey)){var y=a.keyCode,v=a.charCode;if(k&&y==So)return So=null,void Vi(a);if(!k||a.which&&!(a.which<10)||!kd(c,a)){var b=String.fromCharCode(v??y);"\b"!=b&&(function Rh(a,c,y){return ts(a,"'"+y+"'",c,function(v){return ru(a,v,!0)})}(c,a,b)||c.display.input.onKeyPress(a))}}}var vs,ys,El=function(a,c,y){this.time=a,this.pos=c,this.button=y};function kf(a){var c=this,y=c.display;if(!(qi(c,a)||y.activeTouch&&y.input.supportsTouch())){if(y.input.ensurePolled(),y.shift=a.shiftKey,gl(y,a))return void(N||(y.scroller.draggable=!1,setTimeout(function(){return y.scroller.draggable=!0},100)));if(!Pf(c,a)){var v=Ui(c,a),b=ed(a),B=v?function Ou(a,c){var y=+new Date;return ys&&ys.compare(y,a,c)?(vs=ys=null,"triple"):vs&&vs.compare(y,a,c)?(ys=new El(y,a,c),vs=null,"double"):(vs=new El(y,a,c),ys=null,"single")}(v,b):"single";Ht(c).focus(),1==b&&c.state.selectingText&&c.state.selectingText(a),(!v||!function Wp(a,c,y,v,b){var B="Click";return"double"==v?B="Double"+B:"triple"==v&&(B="Triple"+B),ts(a,Ad(B=(1==c?"Left":2==c?"Middle":"Right")+B,b),b,function(G){if("string"==typeof G&&(G=Mc[G]),!G)return!1;var K=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),K=G(a,y)!=Ft}finally{a.state.suppressEdits=!1}return K})}(c,b,v,B,a))&&(1==b?v?function $p(a,c,y,v){C?setTimeout(It(gc,a),0):a.curOp.focus=ht(qt(a));var G,b=function Nu(a,c,y){var v=a.getOption("configureMouse"),b=v?v(a,c,y):{};return null==b.unit&&(b.unit=(de?y.shiftKey&&y.metaKey:y.altKey)?"rectangle":"single"==c?"char":"double"==c?"word":"line"),(null==b.extend||a.doc.extend)&&(b.extend=a.doc.extend||y.shiftKey),null==b.addNew&&(b.addNew=ae?y.metaKey:y.ctrlKey),null==b.moveOnDrag&&(b.moveOnDrag=!(ae?y.altKey:y.ctrlKey)),b}(a,y,v),B=a.doc.sel;a.options.dragDrop&&as&&!a.isReadOnly()&&"single"==y&&(G=B.contains(c))>-1&&(Yn((G=B.ranges[G]).from(),c)<0||c.xRel>0)&&(Yn(G.to(),c)>0||c.xRel<0)?function Ru(a,c,y,v){var b=a.display,B=!1,G=Co(a,function(ce){N&&(b.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:wo(a)),go(b.wrapper.ownerDocument,"mouseup",G),go(b.wrapper.ownerDocument,"mousemove",K),go(b.scroller,"dragstart",ee),go(b.scroller,"drop",G),B||(Vi(ce),v.addNew||_d(a.doc,y,null,null,v.extend),N&&!H||C&&9==S?setTimeout(function(){b.wrapper.ownerDocument.body.focus({preventScroll:!0}),b.input.focus()},20):b.input.focus())}),K=function(ce){B=B||Math.abs(c.clientX-ce.clientX)+Math.abs(c.clientY-ce.clientY)>=10},ee=function(){return B=!0};N&&(b.scroller.draggable=!0),a.state.draggingText=G,G.copy=!v.moveOnDrag,Cn(b.wrapper.ownerDocument,"mouseup",G),Cn(b.wrapper.ownerDocument,"mousemove",K),Cn(b.scroller,"dragstart",ee),Cn(b.scroller,"drop",G),a.state.delayingBlurEvent=!0,setTimeout(function(){return b.input.focus()},20),b.scroller.dragDrop&&b.scroller.dragDrop()}(a,v,c,b):function Yp(a,c,y,v){C&&wo(a);var b=a.display,B=a.doc;Vi(c);var G,K,ee=B.sel,ce=ee.ranges;if(v.addNew&&!v.extend?(K=B.sel.contains(y),G=K>-1?ce[K]:new Wr(y,y)):(G=B.sel.primary(),K=B.sel.primIndex),"rectangle"==v.unit)v.addNew||(G=new Wr(y,y)),y=Ui(a,c,!0,!0),K=-1;else{var Ee=Ic(a,y,v.unit);G=v.extend?Af(G,Ee.anchor,Ee.head,v.extend):Ee}v.addNew?-1==K?(K=ce.length,xo(B,ca(a,ce.concat([G]),K),{scroll:!1,origin:"*mouse"})):ce.length>1&&ce[K].empty()&&"char"==v.unit&&!v.extend?(xo(B,ca(a,ce.slice(0,K).concat(ce.slice(K+1)),0),{scroll:!1,origin:"*mouse"}),ee=B.sel):Mh(B,K,G,Kn):(K=0,xo(B,new ba([G],0),Kn),ee=B.sel);var Le=y;function Xe(Xt){if(0!=Yn(Le,Xt))if(Le=Xt,"rectangle"==v.unit){for(var $t=[],kn=a.options.tabSize,En=cn(xn(B,y.line).text,y.ch,kn),nr=cn(xn(B,Xt.line).text,Xt.ch,kn),fr=Math.min(En,nr),Ai=Math.max(En,nr),xi=Math.min(y.line,Xt.line),jo=Math.min(a.lastLine(),Math.max(y.line,Xt.line));xi<=jo;xi++){var $i=xn(B,xi).text,Oi=Sr($i,fr,kn);fr==Ai?$t.push(new Wr(Tt(xi,Oi),Tt(xi,Oi))):$i.length>Oi&&$t.push(new Wr(Tt(xi,Oi),Tt(xi,Sr($i,Ai,kn))))}$t.length||$t.push(new Wr(y,y)),xo(B,ca(a,ee.ranges.slice(0,K).concat($t),K),{origin:"*mouse",scroll:!1}),a.scrollIntoView(Xt)}else{var zr,fa=G,Wo=Ic(a,Xt,v.unit),To=fa.anchor;Yn(Wo.anchor,To)>0?(zr=Wo.head,To=Re(fa.from(),Wo.anchor)):(zr=Wo.anchor,To=Oe(fa.to(),Wo.head));var Ei=ee.ranges.slice(0);Ei[K]=function by(a,c){var y=c.anchor,v=c.head,b=xn(a.doc,y.line);if(0==Yn(y,v)&&y.sticky==v.sticky)return c;var B=Wa(b);if(!B)return c;var G=Xo(B,y.ch,y.sticky),K=B[G];if(K.from!=y.ch&&K.to!=y.ch)return c;var ce,ee=G+(K.from==y.ch==(1!=K.level)?0:1);if(0==ee||ee==B.length)return c;if(v.line!=y.line)ce=(v.line-y.line)*("ltr"==a.doc.direction?1:-1)>0;else{var Ee=Xo(B,v.ch,v.sticky),Le=Ee-G||(v.ch-y.ch)*(1==K.level?-1:1);ce=Ee==ee-1||Ee==ee?Le<0:Le>0}var Xe=B[ee+(ce?-1:0)],je=ce==(1==Xe.level),gt=je?Xe.from:Xe.to,_t=je?"after":"before";return y.ch==gt&&y.sticky==_t?c:new Wr(new Tt(y.line,gt,_t),v)}(a,new Wr(rt(B,To),zr)),xo(B,ca(a,Ei,K),Kn)}}var je=b.wrapper.getBoundingClientRect(),gt=0;function _t(Xt){var $t=++gt,kn=Ui(a,Xt,!0,"rectangle"==v.unit);if(kn)if(0!=Yn(kn,Le)){a.curOp.focus=ht(qt(a)),Xe(kn);var En=qn(b,B);(kn.line>=En.to||kn.line<En.from)&&setTimeout(Co(a,function(){gt==$t&&_t(Xt)}),150)}else{var nr=Xt.clientY<je.top?-20:Xt.clientY>je.bottom?20:0;nr&&setTimeout(Co(a,function(){gt==$t&&(b.scroller.scrollTop+=nr,_t(Xt))}),50)}}function Ut(Xt){a.state.selectingText=!1,gt=1/0,Xt&&(Vi(Xt),b.input.focus()),go(b.wrapper.ownerDocument,"mousemove",jt),go(b.wrapper.ownerDocument,"mouseup",Qt),B.history.lastSelOrigin=null}var jt=Co(a,function(Xt){0!==Xt.buttons&&ed(Xt)?_t(Xt):Ut(Xt)}),Qt=Co(a,Ut);a.state.selectingText=Qt,Cn(b.wrapper.ownerDocument,"mousemove",jt),Cn(b.wrapper.ownerDocument,"mouseup",Qt)}(a,v,c,b)}(c,v,B,a):qs(a)==y.scroller&&Vi(a):2==b?(v&&_d(c.doc,v),setTimeout(function(){return y.input.focus()},20)):3==b&&(oe?c.display.input.onContextMenu(a):wo(c)))}}}function Ic(a,c,y){if("char"==y)return new Wr(c,c);if("word"==y)return a.findWordAt(c);if("line"==y)return new Wr(Tt(c.line,0),rt(a.doc,Tt(c.line+1,0)));var v=y(a,c);return new Wr(v.from,v.to)}function Fd(a,c,y,v){var b,B;if(c.touches)b=c.touches[0].clientX,B=c.touches[0].clientY;else try{b=c.clientX,B=c.clientY}catch{return!1}if(b>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;v&&Vi(c);var G=a.display,K=G.lineDiv.getBoundingClientRect();if(B>K.bottom||!Ti(a,y))return Jc(c);B-=K.top-G.viewOffset;for(var ee=0;ee<a.display.gutterSpecs.length;++ee){var ce=G.gutters.childNodes[ee];if(ce&&ce.getBoundingClientRect().right>=b)return pi(a,y,a,Qi(a.doc,B),a.display.gutterSpecs[ee].className,c),Jc(c)}}function Pf(a,c){return Fd(a,c,"gutterClick",!0)}function Xp(a,c){gl(a.display,c)||function Lf(a,c){return!!Ti(a,"gutterContextMenu")&&Fd(a,c,"gutterContextMenu",!1)}(a,c)||qi(a,c,"contextmenu")||oe||a.display.input.onContextMenu(c)}function bm(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Yl(a)}El.prototype.compare=function(a,c,y){return this.time+400>a&&0==Yn(c,this.pos)&&y==this.button};var Bd={toString:function(){return"CodeMirror.Init"}},kh={},ku={};function Vd(a,c,y){if(!c!=!(y&&y!=Bd)){var b=a.display.dragFunctions,B=c?Cn:go;B(a.display.scroller,"dragstart",b.start),B(a.display.scroller,"dragenter",b.enter),B(a.display.scroller,"dragover",b.over),B(a.display.scroller,"dragleave",b.leave),B(a.display.scroller,"drop",b.drop)}}function Ph(a){a.options.lineWrapping?(Ke(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(me(a.display.wrapper,"CodeMirror-wrap"),yu(a)),Br(a),ao(a),Yl(a),setTimeout(function(){return _l(a)},100)}function ai(a,c){var y=this;if(!(this instanceof ai))return new ai(a,c);this.options=c=c?vn(c):{},vn(kh,c,!1);var v=c.value;"string"==typeof v?v=new zn(v,c.mode,null,c.lineSeparator,c.direction):c.mode&&(v.modeOption=c.mode),this.doc=v;var b=new ai.inputStyles[c.inputStyle](this),B=this.display=new Eh(a,v,b,c);for(var G in B.wrapper.CodeMirror=this,bm(this),c.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Du(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ut,keySeq:null,specialChars:null},c.autofocus&&!le&&B.input.focus(),C&&S<11&&setTimeout(function(){return y.display.input.reset(!0)},20),function _y(a){var c=a.display;Cn(c.scroller,"mousedown",Co(a,kf)),Cn(c.scroller,"dblclick",C&&S<11?Co(a,function(ee){if(!qi(a,ee)){var ce=Ui(a,ee);if(ce&&!Pf(a,ee)&&!gl(a.display,ee)){Vi(ee);var Ee=a.findWordAt(ce);_d(a.doc,Ee.anchor,Ee.head)}}}):function(ee){return qi(a,ee)||Vi(ee)}),Cn(c.scroller,"contextmenu",function(ee){return Xp(a,ee)}),Cn(c.input.getField(),"contextmenu",function(ee){c.scroller.contains(ee.target)||Xp(a,ee)});var y,v={end:0};function b(){c.activeTouch&&(y=setTimeout(function(){return c.activeTouch=null},1e3),(v=c.activeTouch).end=+new Date)}function B(ee){if(1!=ee.touches.length)return!1;var ce=ee.touches[0];return ce.radiusX<=1&&ce.radiusY<=1}function G(ee,ce){if(null==ce.left)return!0;var Ee=ce.left-ee.left,Le=ce.top-ee.top;return Ee*Ee+Le*Le>400}Cn(c.scroller,"touchstart",function(ee){if(!qi(a,ee)&&!B(ee)&&!Pf(a,ee)){c.input.ensurePolled(),clearTimeout(y);var ce=+new Date;c.activeTouch={start:ce,moved:!1,prev:ce-v.end<=300?v:null},1==ee.touches.length&&(c.activeTouch.left=ee.touches[0].pageX,c.activeTouch.top=ee.touches[0].pageY)}}),Cn(c.scroller,"touchmove",function(){c.activeTouch&&(c.activeTouch.moved=!0)}),Cn(c.scroller,"touchend",function(ee){var ce=c.activeTouch;if(ce&&!gl(c,ee)&&null!=ce.left&&!ce.moved&&new Date-ce.start<300){var Le,Ee=a.coordsChar(c.activeTouch,"page");Le=!ce.prev||G(ce,ce.prev)?new Wr(Ee,Ee):!ce.prev.prev||G(ce,ce.prev.prev)?a.findWordAt(Ee):new Wr(Tt(Ee.line,0),rt(a.doc,Tt(Ee.line+1,0))),a.setSelection(Le.anchor,Le.head),a.focus(),Vi(ee)}b()}),Cn(c.scroller,"touchcancel",b),Cn(c.scroller,"scroll",function(){c.scroller.clientHeight&&(ur(a,c.scroller.scrollTop),Za(a,c.scroller.scrollLeft,!0),pi(a,"scroll",a))}),Cn(c.scroller,"mousewheel",function(ee){return vd(a,ee)}),Cn(c.scroller,"DOMMouseScroll",function(ee){return vd(a,ee)}),Cn(c.wrapper,"scroll",function(){return c.wrapper.scrollTop=c.wrapper.scrollLeft=0}),c.dragFunctions={enter:function(ee){qi(a,ee)||Ia(ee)},over:function(ee){qi(a,ee)||(function Dc(a,c){var y=Ui(a,c);if(y){var v=document.createDocumentFragment();fn(a,y,v),a.display.dragCursor||(a.display.dragCursor=De("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),Se(a.display.dragCursor,v)}}(a,ee),Ia(ee))},start:function(ee){return function Nh(a,c){if(C&&(!a.state.draggingText||+new Date-bi<100))Ia(c);else if(!qi(a,c)&&!gl(a.display,c)&&(c.dataTransfer.setData("Text",a.getSelection()),c.dataTransfer.effectAllowed="copyMove",c.dataTransfer.setDragImage&&!H)){var y=De("img",null,null,"position: fixed; left: 0; top: 0;");y.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",k&&(y.width=y.height=1,a.display.wrapper.appendChild(y),y._top=y.offsetTop),c.dataTransfer.setDragImage(y,0,0),k&&y.parentNode.removeChild(y)}}(a,ee)},drop:Co(a,zo),leave:function(ee){qi(a,ee)||ms(a)}};var K=c.input.getField();Cn(K,"keyup",function(ee){return Go.call(a,ee)}),Cn(K,"keydown",Co(a,Pd)),Cn(K,"keypress",Co(a,Ld)),Cn(K,"focus",function(ee){return yl(a,ee)}),Cn(K,"blur",function(ee){return vi(a,ee)})}(this),_i(),oi(this),this.curOp.forceUpdate=!0,bc(this,v),c.autofocus&&!le||this.hasFocus()?setTimeout(function(){y.hasFocus()&&!y.state.focused&&yl(y)},20):vi(this),ku)ku.hasOwnProperty(G)&&ku[G](this,c[G],Bd);fm(this),c.finishInit&&c.finishInit(this);for(var K=0;K<Hd.length;++K)Hd[K](this);Xl(this),N&&c.lineWrapping&&"optimizelegibility"==getComputedStyle(B.lineDiv).textRendering&&(B.lineDiv.style.textRendering="auto")}ai.defaults=kh,ai.optionHandlers=ku;var Hd=[];function Ac(a,c,y,v){var B,b=a.doc;null==y&&(y="add"),"smart"==y&&(b.mode.indent?B=Bt(a,c).state:y="prev");var G=a.options.tabSize,K=xn(b,c),ee=cn(K.text,null,G);K.stateAfter&&(K.stateAfter=null);var Ee,ce=K.text.match(/^\s*/)[0];if(v||/\S/.test(K.text)){if("smart"==y&&((Ee=b.mode.indent(B,K.text.slice(ce.length),K.text))==Ft||Ee>150)){if(!v)return;y="prev"}}else Ee=0,y="not";"prev"==y?Ee=c>b.first?cn(xn(b,c-1).text,null,G):0:"add"==y?Ee=ee+a.options.indentUnit:"subtract"==y?Ee=ee-a.options.indentUnit:"number"==typeof y&&(Ee=ee+y),Ee=Math.max(0,Ee);var Le="",Xe=0;if(a.options.indentWithTabs)for(var je=Math.floor(Ee/G);je;--je)Xe+=G,Le+="\t";if(Xe<Ee&&(Le+=Cr(Ee-Xe)),Le!=ce)return Ql(b,Le,Tt(c,0),Tt(c,ce.length),"+input"),K.stateAfter=null,!0;for(var gt=0;gt<b.sel.ranges.length;gt++){var _t=b.sel.ranges[gt];if(_t.head.line==c&&_t.head.ch<ce.length){var Ut=Tt(c,ce.length);Mh(b,gt,new Wr(Ut,Ut));break}}}ai.defineInitHook=function(a){return Hd.push(a)};var Vs=null;function da(a){Vs=a}function Lh(a,c,y,v,b){var B=a.doc;a.display.shift=!1,v||(v=B.sel);var G=+new Date-200,K="paste"==b||a.state.pasteIncoming>G,ee=vu(c),ce=null;if(K&&v.ranges.length>1)if(Vs&&Vs.text.join("\n")==c){if(v.ranges.length%Vs.text.length==0){ce=[];for(var Ee=0;Ee<Vs.text.length;Ee++)ce.push(B.splitLines(Vs.text[Ee]))}}else ee.length==v.ranges.length&&a.options.pasteLinesPerSelection&&(ce=Hn(ee,function(jt){return[jt]}));for(var Le=a.curOp.updateInput,Xe=v.ranges.length-1;Xe>=0;Xe--){var je=v.ranges[Xe],gt=je.from(),_t=je.to();je.empty()&&(y&&y>0?gt=Tt(gt.line,gt.ch-y):a.state.overwrite&&!K?_t=Tt(_t.line,Math.min(xn(B,_t.line).text.length,_t.ch+_n(ee).length)):K&&Vs&&Vs.lineWise&&Vs.text.join("\n")==ee.join("\n")&&(gt=_t=Tt(gt.line,0)));var Ut={from:gt,to:_t,text:ce?ce[Xe%ce.length]:ee,origin:b||(K?"paste":a.state.cutIncoming>G?"cut":"+input")};Cc(a.doc,Ut),bo(a,"inputRead",a,Ut)}c&&!K&&Ff(a,c),qa(a),a.curOp.updateInput<2&&(a.curOp.updateInput=Le),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function zd(a,c){var y=a.clipboardData&&a.clipboardData.getData("Text");if(y)return a.preventDefault(),!c.isReadOnly()&&!c.options.disableInput&&c.hasFocus()&&ua(c,function(){return Lh(c,y,0,null,"paste")}),!0}function Ff(a,c){if(a.options.electricChars&&a.options.smartIndent)for(var y=a.doc.sel,v=y.ranges.length-1;v>=0;v--){var b=y.ranges[v];if(!(b.head.ch>100||v&&y.ranges[v-1].head.line==b.head.line)){var B=a.getModeAt(b.head),G=!1;if(B.electricChars){for(var K=0;K<B.electricChars.length;K++)if(c.indexOf(B.electricChars.charAt(K))>-1){G=Ac(a,b.head.line,"smart");break}}else B.electricInput&&B.electricInput.test(xn(a.doc,b.head.line).text.slice(0,b.head.ch))&&(G=Ac(a,b.head.line,"smart"));G&&bo(a,"electricInput",a,b.head.line)}}}function Fh(a){for(var c=[],y=[],v=0;v<a.doc.sel.ranges.length;v++){var b=a.doc.sel.ranges[v].head.line,B={anchor:Tt(b,0),head:Tt(b+1,0)};y.push(B),c.push(a.getRange(B.anchor,B.head))}return{text:c,ranges:y}}function Ud(a,c,y,v){a.setAttribute("autocorrect",y?"on":"off"),a.setAttribute("autocapitalize",v?"on":"off"),a.setAttribute("spellcheck",!!c)}function Bf(){var a=De("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),c=De("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return N?a.style.width="1000px":a.setAttribute("wrap","off"),ue&&(a.style.border="1px solid black"),c}function Vf(a,c,y,v,b){var B=c,G=y,K=xn(a,c.line),ee=b&&"rtl"==a.direction?-y:y;function Ee(Qt){var Xt;if("codepoint"==v){var $t=K.text.charCodeAt(c.ch+(y>0?0:-1));Xt=isNaN($t)?null:new Tt(c.line,Math.max(0,Math.min(K.text.length,c.ch+y*((y>0?$t>=55296&&$t<56320:$t>=56320&&$t<57343)?2:1))),-y)}else Xt=b?function jp(a,c,y,v){var b=Wa(c,a.doc.direction);if(!b)return Tc(c,y,v);y.ch>=c.text.length?(y.ch=c.text.length,y.sticky="before"):y.ch<=0&&(y.ch=0,y.sticky="after");var B=Xo(b,y.ch,y.sticky),G=b[B];if("ltr"==a.doc.direction&&G.level%2==0&&(v>0?G.to>y.ch:G.from<y.ch))return Tc(c,y,v);var ee,K=function(jt,Qt){return Rf(c,jt instanceof Tt?jt.ch:jt,Qt)},ce=function(jt){return a.options.lineWrapping?(ee=ee||Wl(a,c),Rp(a,c,ee,jt)):{begin:0,end:c.text.length}},Ee=ce("before"==y.sticky?K(y,-1):y.ch);if("rtl"==a.doc.direction||1==G.level){var Le=1==G.level==v<0,Xe=K(y,Le?1:-1);if(null!=Xe&&(Le?Xe<=G.to&&Xe<=Ee.end:Xe>=G.from&&Xe>=Ee.begin))return new Tt(y.line,Xe,Le?"before":"after")}var gt=function(jt,Qt,Xt){for(;jt>=0&&jt<b.length;jt+=Qt){var kn=b[jt],En=Qt>0==(1!=kn.level),nr=En?Xt.begin:K(Xt.end,-1);if(kn.from<=nr&&nr<kn.to||(nr=En?kn.from:K(kn.to,-1),Xt.begin<=nr&&nr<Xt.end))return fr=nr,En?new Tt(y.line,K(fr,1),"before"):new Tt(y.line,fr,"after")}var fr},_t=gt(B+v,v,Ee);if(_t)return _t;var Ut=v>0?Ee.end:K(Ee.begin,-1);return null==Ut||v>0&&Ut==c.text.length||!(_t=gt(v>0?0:b.length-1,v,ce(Ut)))?null:_t}(a.cm,K,c,y):Tc(K,c,y);if(null==Xt){if(Qt||!function ce(){var Qt=c.line+ee;return!(Qt<a.first||Qt>=a.first+a.size)&&(c=new Tt(Qt,c.ch,c.sticky),K=xn(a,Qt))}())return!1;c=nu(b,a.cm,K,c.line,ee)}else c=Xt;return!0}if("char"==v||"codepoint"==v)Ee();else if("column"==v)Ee(!0);else if("word"==v||"group"==v)for(var Le=null,Xe="group"==v,je=a.cm&&a.cm.getHelper(c,"wordChars"),gt=!0;!(y<0)||Ee(!gt);gt=!1){var _t=K.text.charAt(c.ch)||"\n",Ut=Bi(_t,je)?"w":Xe&&"\n"==_t?"n":!Xe||/\s/.test(_t)?null:"p";if(Xe&&!gt&&!Ut&&(Ut="s"),Le&&Le!=Ut){y<0&&(y=1,Ee(),c.sticky="after");break}if(Ut&&(Le=Ut),y>0&&!Ee(!gt))break}var jt=Ls(a,c,B,G,!0);return od(B,jt)&&(jt.hitSide=!0),jt}function Hf(a,c,y,v){var G,ce,b=a.doc,B=c.left;if("page"==v){var K=Math.min(a.display.wrapper.clientHeight,Ht(a).innerHeight||b(a).documentElement.clientHeight),ee=Math.max(K-.5*ei(a.display),3);G=(y>0?c.bottom:c.top)+y*ee}else"line"==v&&(G=y>0?c.bottom+3:c.top-3);for(;(ce=wf(a,B,G)).outside;){if(y<0?G<=0:G>=b.height){ce.hitSide=!0;break}G+=5*y}return ce}var Kr=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ut,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Gd(a,c){var y=jl(a,c.line);if(!y||y.hidden)return null;var v=xn(a.doc,c.line),b=yf(y,v,c.line),B=Wa(v,a.doc.direction),G="left";B&&(G=Xo(B,c.ch)%2?"right":"left");var ee=wu(b.map,c.ch,G);return ee.offset="right"==ee.collapse?ee.end:ee.start,ee}function il(a,c){return c&&(a.bad=!0),a}function jd(a,c,y){var v;if(c==a.display.lineDiv){if(!(v=a.display.lineDiv.childNodes[y]))return il(a.clipPos(Tt(a.display.viewTo-1)),!0);c=null,y=0}else for(v=c;;v=v.parentNode){if(!v||v==a.display.lineDiv)return null;if(v.parentNode&&v.parentNode==a.display.lineDiv)break}for(var b=0;b<a.display.view.length;b++){var B=a.display.view[b];if(B.node==v)return qp(B,c,y)}}function qp(a,c,y){var v=a.text.firstChild,b=!1;if(!c||!at(v,c))return il(Tt(Pr(a.line),0),!0);if(c==v&&(b=!0,c=v.childNodes[y],y=0,!c)){var B=a.rest?_n(a.rest):a.line;return il(Tt(Pr(B),B.text.length),b)}var G=3==c.nodeType?c:null,K=c;for(!G&&1==c.childNodes.length&&3==c.firstChild.nodeType&&(G=c.firstChild,y&&(y=G.nodeValue.length));K.parentNode!=v;)K=K.parentNode;var ee=a.measure,ce=ee.maps;function Ee(Ut,jt,Qt){for(var Xt=-1;Xt<(ce?ce.length:0);Xt++)for(var $t=Xt<0?ee.map:ce[Xt],kn=0;kn<$t.length;kn+=3){var En=$t[kn+2];if(En==Ut||En==jt){var nr=Pr(Xt<0?a.line:a.rest[Xt]),fr=$t[kn]+Qt;return(Qt<0||En!=Ut)&&(fr=$t[kn+(Qt?1:0)]),Tt(nr,fr)}}}var Le=Ee(G,K,y);if(Le)return il(Le,b);for(var Xe=K.nextSibling,je=G?G.nodeValue.length-y:0;Xe;Xe=Xe.nextSibling){if(Le=Ee(Xe,Xe.firstChild,0))return il(Tt(Le.line,Le.ch-je),b);je+=Xe.textContent.length}for(var gt=K.previousSibling,_t=y;gt;gt=gt.previousSibling){if(Le=Ee(gt,gt.firstChild,-1))return il(Tt(Le.line,Le.ch+_t),b);_t+=gt.textContent.length}}Kr.prototype.init=function(a){var c=this,y=this,v=y.cm,b=y.div=a.lineDiv;function B(K){for(var ee=K.target;ee;ee=ee.parentNode){if(ee==b)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ee.className))break}return!1}function G(K){if(B(K)&&!qi(v,K)){if(v.somethingSelected())da({lineWise:!1,text:v.getSelections()}),"cut"==K.type&&v.replaceSelection("",null,"cut");else{if(!v.options.lineWiseCopyCut)return;var ee=Fh(v);da({lineWise:!0,text:ee.text}),"cut"==K.type&&v.operation(function(){v.setSelections(ee.ranges,0,St),v.replaceSelection("",null,"cut")})}if(K.clipboardData){K.clipboardData.clearData();var ce=Vs.text.join("\n");if(K.clipboardData.setData("Text",ce),K.clipboardData.getData("Text")==ce)return void K.preventDefault()}var Ee=Bf(),Le=Ee.firstChild;Ud(Le),v.display.lineSpace.insertBefore(Ee,v.display.lineSpace.firstChild),Le.value=Vs.text.join("\n");var Xe=ht(b.ownerDocument);qe(Le),setTimeout(function(){v.display.lineSpace.removeChild(Ee),Xe.focus(),Xe==b&&y.showPrimarySelection()},50)}}b.contentEditable=!0,Ud(b,v.options.spellcheck,v.options.autocorrect,v.options.autocapitalize),Cn(b,"paste",function(K){!B(K)||qi(v,K)||zd(K,v)||S<=11&&setTimeout(Co(v,function(){return c.updateFromDOM()}),20)}),Cn(b,"compositionstart",function(K){c.composing={data:K.data,done:!1}}),Cn(b,"compositionupdate",function(K){c.composing||(c.composing={data:K.data,done:!1})}),Cn(b,"compositionend",function(K){c.composing&&(K.data!=c.composing.data&&c.readFromDOMSoon(),c.composing.done=!0)}),Cn(b,"touchstart",function(){return y.forceCompositionEnd()}),Cn(b,"input",function(){c.composing||c.readFromDOMSoon()}),Cn(b,"copy",G),Cn(b,"cut",G)},Kr.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},Kr.prototype.prepareSelection=function(){var a=lo(this.cm,!1);return a.focus=ht(this.div.ownerDocument)==this.div,a},Kr.prototype.showSelection=function(a,c){!a||!this.cm.display.view.length||((a.focus||c)&&this.showPrimarySelection(),this.showMultipleSelections(a))},Kr.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Kr.prototype.showPrimarySelection=function(){var a=this.getSelection(),c=this.cm,y=c.doc.sel.primary(),v=y.from(),b=y.to();if(c.display.viewTo==c.display.viewFrom||v.line>=c.display.viewTo||b.line<c.display.viewFrom)a.removeAllRanges();else{var B=jd(c,a.anchorNode,a.anchorOffset),G=jd(c,a.focusNode,a.focusOffset);if(!B||B.bad||!G||G.bad||0!=Yn(Re(B,G),v)||0!=Yn(Oe(B,G),b)){var K=c.display.view,ee=v.line>=c.display.viewFrom&&Gd(c,v)||{node:K[0].measure.map[2],offset:0},ce=b.line<c.display.viewTo&&Gd(c,b);if(!ce){var Ee=K[K.length-1].measure,Le=Ee.maps?Ee.maps[Ee.maps.length-1]:Ee.map;ce={node:Le[Le.length-1],offset:Le[Le.length-2]-Le[Le.length-3]}}if(!ee||!ce)return void a.removeAllRanges();var je,Xe=a.rangeCount&&a.getRangeAt(0);try{je=Be(ee.node,ee.offset,ce.offset,ce.node)}catch{}je&&(!T&&c.state.focused?(a.collapse(ee.node,ee.offset),je.collapsed||(a.removeAllRanges(),a.addRange(je))):(a.removeAllRanges(),a.addRange(je)),Xe&&null==a.anchorNode?a.addRange(Xe):T&&this.startGracePeriod()),this.rememberSelection()}}},Kr.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},Kr.prototype.showMultipleSelections=function(a){Se(this.cm.display.cursorDiv,a.cursors),Se(this.cm.display.selectionDiv,a.selection)},Kr.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},Kr.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var c=a.getRangeAt(0).commonAncestorContainer;return at(this.div,c)},Kr.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||ht(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Kr.prototype.blur=function(){this.div.blur()},Kr.prototype.getField=function(){return this.div},Kr.prototype.supportsTouch=function(){return!0},Kr.prototype.receivedFocus=function(){var a=this,c=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):ua(this.cm,function(){return c.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function y(){c.cm.state.focused&&(c.pollSelection(),c.polling.set(c.cm.options.pollInterval,y))})},Kr.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},Kr.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=this.getSelection(),c=this.cm;if(ne&&V&&this.cm.display.gutterSpecs.length&&function wm(a){for(var c=a;c;c=c.parentNode)if(/CodeMirror-gutter-wrapper/.test(c.className))return!0;return!1}(a.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var y=jd(c,a.anchorNode,a.anchorOffset),v=jd(c,a.focusNode,a.focusOffset);y&&v&&ua(c,function(){xo(c.doc,_a(y,v),St),(y.bad||v.bad)&&(c.curOp.selectionChanged=!0)})}}},Kr.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var B,G,K,a=this.cm,c=a.display,y=a.doc.sel.primary(),v=y.from(),b=y.to();if(0==v.ch&&v.line>a.firstLine()&&(v=Tt(v.line-1,xn(a.doc,v.line-1).length)),b.ch==xn(a.doc,b.line).text.length&&b.line<a.lastLine()&&(b=Tt(b.line+1,0)),v.line<c.viewFrom||b.line>c.viewTo-1)return!1;v.line==c.viewFrom||0==(B=oo(a,v.line))?(G=Pr(c.view[0].line),K=c.view[0].node):(G=Pr(c.view[B].line),K=c.view[B-1].node.nextSibling);var ce,Ee,ee=oo(a,b.line);if(ee==c.view.length-1?(ce=c.viewTo-1,Ee=c.lineDiv.lastChild):(ce=Pr(c.view[ee+1].line)-1,Ee=c.view[ee+1].node.previousSibling),!K)return!1;for(var Le=a.doc.splitLines(function Pu(a,c,y,v,b){var B="",G=!1,K=a.doc.lineSeparator(),ee=!1;function Ee(){G&&(B+=K,ee&&(B+=K),G=ee=!1)}function Le(je){je&&(Ee(),B+=je)}function Xe(je){if(1==je.nodeType){var gt=je.getAttribute("cm-text");if(gt)return void Le(gt);var Ut,_t=je.getAttribute("cm-marker");if(_t){var jt=a.findMarks(Tt(v,0),Tt(b+1,0),function ce(je){return function(gt){return gt.id==je}}(+_t));return void(jt.length&&(Ut=jt[0].find(0))&&Le(li(a.doc,Ut.from,Ut.to).join(K)))}if("false"==je.getAttribute("contenteditable"))return;var Qt=/^(pre|div|p|li|table|br)$/i.test(je.nodeName);if(!/^br$/i.test(je.nodeName)&&0==je.textContent.length)return;Qt&&Ee();for(var Xt=0;Xt<je.childNodes.length;Xt++)Xe(je.childNodes[Xt]);/^(pre|p)$/i.test(je.nodeName)&&(ee=!0),Qt&&(G=!0)}else 3==je.nodeType&&Le(je.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Xe(c),c!=y;)c=c.nextSibling,ee=!1;return B}(a,K,Ee,G,ce)),Xe=li(a.doc,Tt(G,0),Tt(ce,xn(a.doc,ce).text.length));Le.length>1&&Xe.length>1;)if(_n(Le)==_n(Xe))Le.pop(),Xe.pop(),ce--;else{if(Le[0]!=Xe[0])break;Le.shift(),Xe.shift(),G++}for(var je=0,gt=0,_t=Le[0],Ut=Xe[0],jt=Math.min(_t.length,Ut.length);je<jt&&_t.charCodeAt(je)==Ut.charCodeAt(je);)++je;for(var Qt=_n(Le),Xt=_n(Xe),$t=Math.min(Qt.length-(1==Le.length?je:0),Xt.length-(1==Xe.length?je:0));gt<$t&&Qt.charCodeAt(Qt.length-gt-1)==Xt.charCodeAt(Xt.length-gt-1);)++gt;if(1==Le.length&&1==Xe.length&&G==v.line)for(;je&&je>v.ch&&Qt.charCodeAt(Qt.length-gt-1)==Xt.charCodeAt(Xt.length-gt-1);)je--,gt++;Le[Le.length-1]=Qt.slice(0,Qt.length-gt).replace(/^\u200b+/,""),Le[0]=Le[0].slice(je).replace(/\u200b+$/,"");var kn=Tt(G,je),En=Tt(ce,Xe.length?_n(Xe).length-gt:0);return Le.length>1||Le[0]||Yn(kn,En)?(Ql(a.doc,Le,kn,En,"+input"),!0):void 0},Kr.prototype.ensurePolled=function(){this.forceCompositionEnd()},Kr.prototype.reset=function(){this.forceCompositionEnd()},Kr.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Kr.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing){if(!a.composing.done)return;a.composing=null}a.updateFromDOM()},80))},Kr.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&ua(this.cm,function(){return ao(a.cm)})},Kr.prototype.setUneditable=function(a){a.contentEditable="false"},Kr.prototype.onKeyPress=function(a){0==a.charCode||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Co(this.cm,Lh)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))},Kr.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)},Kr.prototype.onContextMenu=function(){},Kr.prototype.resetPosition=function(){},Kr.prototype.needsContentAttribute=!0;var Ii=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new ut,this.hasSelection=!1,this.composing=null,this.resetting=!1};Ii.prototype.init=function(a){var c=this,y=this,v=this.cm;this.createField(a);var b=this.textarea;function B(G){if(!qi(v,G)){if(v.somethingSelected())da({lineWise:!1,text:v.getSelections()});else{if(!v.options.lineWiseCopyCut)return;var K=Fh(v);da({lineWise:!0,text:K.text}),"cut"==G.type?v.setSelections(K.ranges,null,St):(y.prevInput="",b.value=K.text.join("\n"),qe(b))}"cut"==G.type&&(v.state.cutIncoming=+new Date)}}a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),ue&&(b.style.width="0px"),Cn(b,"input",function(){C&&S>=9&&c.hasSelection&&(c.hasSelection=null),y.poll()}),Cn(b,"paste",function(G){qi(v,G)||zd(G,v)||(v.state.pasteIncoming=+new Date,y.fastPoll())}),Cn(b,"cut",B),Cn(b,"copy",B),Cn(a.scroller,"paste",function(G){if(!gl(a,G)&&!qi(v,G)){if(!b.dispatchEvent)return v.state.pasteIncoming=+new Date,void y.focus();var K=new Event("paste");K.clipboardData=G.clipboardData,b.dispatchEvent(K)}}),Cn(a.lineSpace,"selectstart",function(G){gl(a,G)||Vi(G)}),Cn(b,"compositionstart",function(){var G=v.getCursor("from");y.composing&&y.composing.range.clear(),y.composing={start:G,range:v.markText(G,v.getCursor("to"),{className:"CodeMirror-composing"})}}),Cn(b,"compositionend",function(){y.composing&&(y.poll(),y.composing.range.clear(),y.composing=null)})},Ii.prototype.createField=function(a){this.wrapper=Bf(),this.textarea=this.wrapper.firstChild;var c=this.cm.options;Ud(this.textarea,c.spellcheck,c.autocorrect,c.autocapitalize)},Ii.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},Ii.prototype.prepareSelection=function(){var a=this.cm,c=a.display,y=a.doc,v=lo(a);if(a.options.moveInputWithCursor){var b=ds(a,y.sel.primary().head,"div"),B=c.wrapper.getBoundingClientRect(),G=c.lineDiv.getBoundingClientRect();v.teTop=Math.max(0,Math.min(c.wrapper.clientHeight-10,b.top+G.top-B.top)),v.teLeft=Math.max(0,Math.min(c.wrapper.clientWidth-10,b.left+G.left-B.left))}return v},Ii.prototype.showSelection=function(a){var y=this.cm.display;Se(y.cursorDiv,a.cursors),Se(y.selectionDiv,a.selection),null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},Ii.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing&&a)){var c=this.cm;if(this.resetting=!0,c.somethingSelected()){this.prevInput="";var y=c.getSelection();this.textarea.value=y,c.state.focused&&qe(this.textarea),C&&S>=9&&(this.hasSelection=y)}else a||(this.prevInput=this.textarea.value="",C&&S>=9&&(this.hasSelection=null));this.resetting=!1}},Ii.prototype.getField=function(){return this.textarea},Ii.prototype.supportsTouch=function(){return!1},Ii.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!le||ht(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},Ii.prototype.blur=function(){this.textarea.blur()},Ii.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ii.prototype.receivedFocus=function(){this.slowPoll()},Ii.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},Ii.prototype.fastPoll=function(){var a=!1,c=this;c.pollingFast=!0,c.polling.set(20,function y(){c.poll()||a?(c.pollingFast=!1,c.slowPoll()):(a=!0,c.polling.set(60,y))})},Ii.prototype.poll=function(){var a=this,c=this.cm,y=this.textarea,v=this.prevInput;if(this.contextMenuPending||this.resetting||!c.state.focused||ec(y)&&!v&&!this.composing||c.isReadOnly()||c.options.disableInput||c.state.keySeq)return!1;var b=y.value;if(b==v&&!c.somethingSelected())return!1;if(C&&S>=9&&this.hasSelection===b||ae&&/[\uf700-\uf7ff]/.test(b))return c.display.input.reset(),!1;if(c.doc.sel==c.display.selForContextMenu){var B=b.charCodeAt(0);if(8203==B&&!v&&(v="\u200b"),8666==B)return this.reset(),this.cm.execCommand("undo")}for(var G=0,K=Math.min(v.length,b.length);G<K&&v.charCodeAt(G)==b.charCodeAt(G);)++G;return ua(c,function(){Lh(c,b.slice(G),v.length-G,null,a.composing?"*compose":null),b.length>1e3||b.indexOf("\n")>-1?y.value=a.prevInput="":a.prevInput=b,a.composing&&(a.composing.range.clear(),a.composing.range=c.markText(a.composing.start,c.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ii.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ii.prototype.onKeyPress=function(){C&&S>=9&&(this.hasSelection=null),this.fastPoll()},Ii.prototype.onContextMenu=function(a){var c=this,y=c.cm,v=y.display,b=c.textarea;c.contextMenuPending&&c.contextMenuPending();var B=Ui(y,a),G=v.scroller.scrollTop;if(B&&!k){y.options.resetSelectionOnContextMenu&&-1==y.doc.sel.contains(B)&&Co(y,xo)(y.doc,_a(B),St);var Le,ee=b.style.cssText,ce=c.wrapper.style.cssText,Ee=c.wrapper.offsetParent.getBoundingClientRect();if(c.wrapper.style.cssText="position: static",b.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-Ee.top-5)+"px; left: "+(a.clientX-Ee.left-5)+"px;\n      z-index: 1000; background: "+(C?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",N&&(Le=b.ownerDocument.defaultView.scrollY),v.input.focus(),N&&b.ownerDocument.defaultView.scrollTo(null,Le),v.input.reset(),y.somethingSelected()||(b.value=c.prevInput=" "),c.contextMenuPending=je,v.selForContextMenu=y.doc.sel,clearTimeout(v.detectingSelectAll),C&&S>=9&&Xe(),oe){Ia(a);var gt=function(){go(window,"mouseup",gt),setTimeout(je,20)};Cn(window,"mouseup",gt)}else setTimeout(je,50)}function Xe(){if(null!=b.selectionStart){var _t=y.somethingSelected(),Ut="\u200b"+(_t?b.value:"");b.value="\u21da",b.value=Ut,c.prevInput=_t?"":"\u200b",b.selectionStart=1,b.selectionEnd=Ut.length,v.selForContextMenu=y.doc.sel}}function je(){if(c.contextMenuPending==je&&(c.contextMenuPending=!1,c.wrapper.style.cssText=ce,b.style.cssText=ee,C&&S<9&&v.scrollbars.setScrollTop(v.scroller.scrollTop=G),null!=b.selectionStart)){(!C||C&&S<9)&&Xe();var _t=0,Ut=function(){v.selForContextMenu==y.doc.sel&&0==b.selectionStart&&b.selectionEnd>0&&"\u200b"==c.prevInput?Co(y,Zl)(y):_t++<10?v.detectingSelectAll=setTimeout(Ut,500):(v.selForContextMenu=null,v.input.reset())};v.detectingSelectAll=setTimeout(Ut,200)}}},Ii.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled="nocursor"==a,this.textarea.readOnly=!!a},Ii.prototype.setUneditable=function(){},Ii.prototype.needsContentAttribute=!1,function _m(a){var c=a.optionHandlers;function y(v,b,B,G){a.defaults[v]=b,B&&(c[v]=G?function(K,ee,ce){ce!=Bd&&B(K,ee,ce)}:B)}a.defineOption=y,a.Init=Bd,y("value","",function(v,b){return v.setValue(b)},!0),y("mode",null,function(v,b){v.doc.modeOption=b,vc(v)},!0),y("indentUnit",2,vc,!0),y("indentWithTabs",!1),y("smartIndent",!0),y("tabSize",4,function(v){If(v),Yl(v),ao(v)},!0),y("lineSeparator",null,function(v,b){if(v.doc.lineSep=b,b){var B=[],G=v.doc.first;v.doc.iter(function(ee){for(var ce=0;;){var Ee=ee.text.indexOf(b,ce);if(-1==Ee)break;ce=Ee+b.length,B.push(Tt(G,Ee))}G++});for(var K=B.length-1;K>=0;K--)Ql(v.doc,b,B[K],Tt(B[K].line,B[K].ch+b.length))}}),y("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(v,b,B){v.state.specialChars=new RegExp(b.source+(b.test("\t")?"":"|\t"),"g"),B!=Bd&&v.refresh()}),y("specialCharPlaceholder",Xa,function(v){return v.refresh()},!0),y("electricChars",!0),y("inputStyle",le?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),y("spellcheck",!1,function(v,b){return v.getInputField().spellcheck=b},!0),y("autocorrect",!1,function(v,b){return v.getInputField().autocorrect=b},!0),y("autocapitalize",!1,function(v,b){return v.getInputField().autocapitalize=b},!0),y("rtlMoveVisually",!te),y("wholeLineUpdateBefore",!0),y("theme","default",function(v){bm(v),Mf(v)},!0),y("keyMap","default",function(v,b,B){var G=Od(b),K=B!=Bd&&Od(B);K&&K.detach&&K.detach(v,G),G.attach&&G.attach(v,K||null)}),y("extraKeys",null),y("configureMouse",null),y("lineWrapping",!1,Ph,!0),y("gutters",[],function(v,b){v.display.gutterSpecs=ql(b,v.options.lineNumbers),Mf(v)},!0),y("fixedGutter",!0,function(v,b){v.display.gutters.style.left=b?ln(v.display)+"px":"0",v.refresh()},!0),y("coverGutterNextToScrollbar",!1,function(v){return _l(v)},!0),y("scrollbarStyle","native",function(v){Du(v),_l(v),v.display.scrollbars.setScrollTop(v.doc.scrollTop),v.display.scrollbars.setScrollLeft(v.doc.scrollLeft)},!0),y("lineNumbers",!1,function(v,b){v.display.gutterSpecs=ql(v.options.gutters,b),Mf(v)},!0),y("firstLineNumber",1,Mf,!0),y("lineNumberFormatter",function(v){return v},Mf,!0),y("showCursorWhenSelecting",!1,cd,!0),y("resetSelectionOnContextMenu",!0),y("lineWiseCopyCut",!0),y("pasteLinesPerSelection",!0),y("selectionsMayTouch",!1),y("readOnly",!1,function(v,b){"nocursor"==b&&(vi(v),v.display.input.blur()),v.display.input.readOnlyChanged(b)}),y("screenReaderLabel",null,function(v,b){v.display.input.screenReaderLabelChanged(b=""===b?null:b)}),y("disableInput",!1,function(v,b){b||v.display.input.reset()},!0),y("dragDrop",!0,Vd),y("allowDropFileTypes",null),y("cursorBlinkRate",530),y("cursorScrollMargin",0),y("cursorHeight",1,cd,!0),y("singleCursorHeightPerLine",!0,cd,!0),y("workTime",100),y("workDelay",100),y("flattenSpans",!0,If,!0),y("addModeClass",!1,If,!0),y("pollInterval",100),y("undoDepth",200,function(v,b){return v.doc.history.undoDepth=b}),y("historyEventDelay",1250),y("viewportMargin",10,function(v){return v.refresh()},!0),y("maxHighlightLength",1e4,If,!0),y("moveInputWithCursor",!0,function(v,b){b||v.display.input.resetPosition()}),y("tabindex",null,function(v,b){return v.display.input.getField().tabIndex=b||""}),y("autofocus",null),y("direction","ltr",function(v,b){return v.doc.setDirection(b)},!0),y("phrases",null)}(ai),function Kp(a){var c=a.optionHandlers,y=a.helpers={};a.prototype={constructor:a,focus:function(){Ht(this).focus(),this.display.input.focus()},setOption:function(v,b){var B=this.options,G=B[v];B[v]==b&&"mode"!=v||(B[v]=b,c.hasOwnProperty(v)&&Co(this,c[v])(this,b,G),pi(this,"optionChange",this,v))},getOption:function(v){return this.options[v]},getDoc:function(){return this.doc},addKeyMap:function(v,b){this.state.keyMaps[b?"push":"unshift"](Od(v))},removeKeyMap:function(v){for(var b=this.state.keyMaps,B=0;B<b.length;++B)if(b[B]==v||b[B].name==v)return b.splice(B,1),!0},addOverlay:Po(function(v,b){var B=v.token?v:a.getMode(this.options,v);if(B.startState)throw new Error("Overlays may not be stateful.");(function Xr(a,c,y){for(var v=0,b=y(c);v<a.length&&y(a[v])<=b;)v++;a.splice(v,0,c)})(this.state.overlays,{mode:B,modeSpec:v,opaque:b&&b.opaque,priority:b&&b.priority||0},function(G){return G.priority}),this.state.modeGen++,ao(this)}),removeOverlay:Po(function(v){for(var b=this.state.overlays,B=0;B<b.length;++B){var G=b[B].modeSpec;if(G==v||"string"==typeof v&&G.name==v)return b.splice(B,1),this.state.modeGen++,void ao(this)}}),indentLine:Po(function(v,b,B){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract"),ko(this.doc,v)&&Ac(this,v,b,B)}),indentSelection:Po(function(v){for(var b=this.doc.sel.ranges,B=-1,G=0;G<b.length;G++){var K=b[G];if(K.empty())K.head.line>B&&(Ac(this,K.head.line,v,!0),B=K.head.line,G==this.doc.sel.primIndex&&qa(this));else{var ee=K.from(),ce=K.to(),Ee=Math.max(B,ee.line);B=Math.min(this.lastLine(),ce.line-(ce.ch?0:1))+1;for(var Le=Ee;Le<B;++Le)Ac(this,Le,v);var Xe=this.doc.sel.ranges;0==ee.ch&&b.length==Xe.length&&Xe[G].from().ch>0&&Mh(this.doc,G,new Wr(ee,Xe[G].to()),St)}}}),getTokenAt:function(v,b){return An(this,v,b)},getLineTokens:function(v,b){return An(this,Tt(v),b,!0)},getTokenTypeAt:function(v){v=rt(this.doc,v);var ee,b=Un(this,xn(this.doc,v.line)),B=0,G=(b.length-1)/2,K=v.ch;if(0==K)ee=b[2];else for(;;){var ce=B+G>>1;if((ce?b[2*ce-1]:0)>=K)G=ce;else{if(!(b[2*ce+1]<K)){ee=b[2*ce+2];break}B=ce+1}}var Ee=ee?ee.indexOf("overlay "):-1;return Ee<0?ee:0==Ee?null:ee.slice(0,Ee-1)},getModeAt:function(v){var b=this.doc.mode;return b.innerMode?a.innerMode(b,this.getTokenAt(v).state).mode:b},getHelper:function(v,b){return this.getHelpers(v,b)[0]},getHelpers:function(v,b){var B=[];if(!y.hasOwnProperty(b))return B;var G=y[b],K=this.getModeAt(v);if("string"==typeof K[b])G[K[b]]&&B.push(G[K[b]]);else if(K[b])for(var ee=0;ee<K[b].length;ee++){var ce=G[K[b][ee]];ce&&B.push(ce)}else K.helperType&&G[K.helperType]?B.push(G[K.helperType]):G[K.name]&&B.push(G[K.name]);for(var Ee=0;Ee<G._global.length;Ee++){var Le=G._global[Ee];Le.pred(K,this)&&-1==it(B,Le.val)&&B.push(Le.val)}return B},getStateAfter:function(v,b){var B=this.doc;return Bt(this,(v=Ve(B,v??B.first+B.size-1))+1,b).state},cursorCoords:function(v,b){var G=this.doc.sel.primary();return ds(this,null==v?G.head:"object"==typeof v?rt(this.doc,v):v?G.from():G.to(),b||"page")},charCoords:function(v,b){return ud(this,rt(this.doc,v),b||"page")},coordsChar:function(v,b){return wf(this,(v=vh(this,v,b||"page")).left,v.top)},lineAtHeight:function(v,b){return v=vh(this,{top:v,left:0},b||"page").top,Qi(this.doc,v+this.display.viewOffset)},heightAtLine:function(v,b,B){var K,G=!1;if("number"==typeof v){var ee=this.doc.first+this.doc.size-1;v<this.doc.first?v=this.doc.first:v>ee&&(v=ee,G=!0),K=xn(this.doc,v)}else K=v;return _f(this,K,{top:0,left:0},b||"page",B||G).top+(G?this.doc.height-Ra(K):0)},defaultTextHeight:function(){return ei(this.display)},defaultCharWidth:function(){return ml(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(v,b,B,G,K){var ee=this.display,ce=(v=ds(this,rt(this.doc,v))).bottom,Ee=v.left;if(b.style.position="absolute",b.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(b),ee.sizer.appendChild(b),"over"==G)ce=v.top;else if("above"==G||"near"==G){var Le=Math.max(ee.wrapper.clientHeight,this.doc.height),Xe=Math.max(ee.sizer.clientWidth,ee.lineSpace.clientWidth);("above"==G||v.bottom+b.offsetHeight>Le)&&v.top>b.offsetHeight?ce=v.top-b.offsetHeight:v.bottom+b.offsetHeight<=Le&&(ce=v.bottom),Ee+b.offsetWidth>Xe&&(Ee=Xe-b.offsetWidth)}b.style.top=ce+"px",b.style.left=b.style.right="","right"==K?(Ee=ee.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==K?Ee=0:"middle"==K&&(Ee=(ee.sizer.clientWidth-b.offsetWidth)/2),b.style.left=Ee+"px"),B&&function Eu(a,c){var y=Gi(a,c);null!=y.scrollTop&&ur(a,y.scrollTop),null!=y.scrollLeft&&Za(a,y.scrollLeft)}(this,{left:Ee,top:ce,right:Ee+b.offsetWidth,bottom:ce+b.offsetHeight})},triggerOnKeyDown:Po(Pd),triggerOnKeyPress:Po(Ld),triggerOnKeyUp:Go,triggerOnMouseDown:Po(kf),execCommand:function(v){if(Mc.hasOwnProperty(v))return Mc[v].call(null,this)},triggerElectric:Po(function(v){Ff(this,v)}),findPosH:function(v,b,B,G){var K=1;b<0&&(K=-1,b=-b);for(var ee=rt(this.doc,v),ce=0;ce<b&&!(ee=Vf(this.doc,ee,K,B,G)).hitSide;++ce);return ee},moveH:Po(function(v,b){var B=this;this.extendSelectionsBy(function(G){return B.display.shift||B.doc.extend||G.empty()?Vf(B.doc,G.head,v,b,B.options.rtlMoveVisually):v<0?G.from():G.to()},Jn)}),deleteH:Po(function(v,b){var G=this.doc;this.doc.sel.somethingSelected()?G.replaceSelection("",null,"+delete"):Bs(this,function(K){var ee=Vf(G,K.head,v,b,!1);return v<0?{from:ee,to:K.head}:{from:K.head,to:ee}})}),findPosV:function(v,b,B,G){var K=1,ee=G;b<0&&(K=-1,b=-b);for(var ce=rt(this.doc,v),Ee=0;Ee<b;++Ee){var Le=ds(this,ce,"div");if(null==ee?ee=Le.left:Le.left=ee,(ce=Hf(this,Le,K,B)).hitSide)break}return ce},moveV:Po(function(v,b){var B=this,G=this.doc,K=[],ee=!this.display.shift&&!G.extend&&G.sel.somethingSelected();if(G.extendSelectionsBy(function(Ee){if(ee)return v<0?Ee.from():Ee.to();var Le=ds(B,Ee.head,"div");null!=Ee.goalColumn&&(Le.left=Ee.goalColumn),K.push(Le.left);var Xe=Hf(B,Le,v,b);return"page"==b&&Ee==G.sel.primary()&&fs(B,ud(B,Xe,"div").top-Le.top),Xe},Jn),K.length)for(var ce=0;ce<G.sel.ranges.length;ce++)G.sel.ranges[ce].goalColumn=K[ce]}),findWordAt:function(v){var B=xn(this.doc,v.line).text,G=v.ch,K=v.ch;if(B){var ee=this.getHelper(v,"wordChars");"before"!=v.sticky&&K!=B.length||!G?++K:--G;for(var ce=B.charAt(G),Ee=Bi(ce,ee)?function(Le){return Bi(Le,ee)}:/\s/.test(ce)?function(Le){return/\s/.test(Le)}:function(Le){return!/\s/.test(Le)&&!Bi(Le)};G>0&&Ee(B.charAt(G-1));)--G;for(;K<B.length&&Ee(B.charAt(K));)++K}return new Wr(Tt(v.line,G),Tt(v.line,K))},toggleOverwrite:function(v){null!=v&&v==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ke(this.display.cursorDiv,"CodeMirror-overwrite"):me(this.display.cursorDiv,"CodeMirror-overwrite"),pi(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ht(qt(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Po(function(v,b){uo(this,v,b)}),getScrollInfo:function(){var v=this.display.scroller;return{left:v.scrollLeft,top:v.scrollTop,height:v.scrollHeight-_o(this)-this.display.barHeight,width:v.scrollWidth-_o(this)-this.display.barWidth,clientHeight:hc(this),clientWidth:xr(this)}},scrollIntoView:Po(function(v,b){null==v?(v={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof v?v={from:Tt(v,0),to:null}:null==v.from&&(v={from:v,to:null}),v.to||(v.to=v.from),v.margin=b||0,null!=v.from.line?function dd(a,c){fd(a),a.curOp.scrollToPos=c}(this,v):bl(this,v.from,v.to,v.margin)}),setSize:Po(function(v,b){var B=this,G=function(ee){return"number"==typeof ee||/^\d+$/.test(String(ee))?ee+"px":ee};null!=v&&(this.display.wrapper.style.width=G(v)),null!=b&&(this.display.wrapper.style.height=G(b)),this.options.lineWrapping&&ld(this);var K=this.display.viewFrom;this.doc.iter(K,this.display.viewTo,function(ee){if(ee.widgets)for(var ce=0;ce<ee.widgets.length;ce++)if(ee.widgets[ce].noHScroll){so(B,K,"widget");break}++K}),this.curOp.forceUpdate=!0,pi(this,"refresh",this)}),operation:function(v){return ua(this,v)},startOperation:function(){return oi(this)},endOperation:function(){return Xl(this)},refresh:Po(function(){var v=this.display.cachedTextHeight;ao(this),this.curOp.forceUpdate=!0,Yl(this),uo(this,this.doc.scrollLeft,this.doc.scrollTop),Sf(this.display),(null==v||Math.abs(v-ei(this.display))>.5||this.options.lineWrapping)&&Br(this),pi(this,"refresh",this)}),swapDoc:Po(function(v){var b=this.doc;return b.cm=null,this.state.selectingText&&this.state.selectingText(),bc(this,v),Yl(this),this.display.input.reset(),uo(this,v.scrollLeft,v.scrollTop),this.curOp.forceScroll=!0,bo(this,"swapDoc",this,b),b}),phrase:function(v){var b=this.options.phrases;return b&&Object.prototype.hasOwnProperty.call(b,v)?b[v]:v},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ma(a),a.registerHelper=function(v,b,B){y.hasOwnProperty(v)||(y[v]=a[v]={_global:[]}),y[v][b]=B},a.registerGlobalHelper=function(v,b,B,G){a.registerHelper(v,b,G),y[v]._global.push({pred:B,val:G})}}(ai);var Ci="iter insert remove copy getEditor constructor".split(" ");for(var bs in zn.prototype)zn.prototype.hasOwnProperty(bs)&&it(Ci,bs)<0&&(ai.prototype[bs]=function(a){return function(){return a.apply(this.doc,arguments)}}(zn.prototype[bs]));return Ma(zn),ai.inputStyles={textarea:Ii,contenteditable:Kr},ai.defineMode=function(a){!ai.defaults.mode&&"null"!=a&&(ai.defaults.mode=a),rc.apply(this,arguments)},ai.defineMIME=function rd(a,c){Is[a]=c},ai.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),ai.defineMIME("text/plain","null"),ai.defineExtension=function(a,c){ai.prototype[a]=c},ai.defineDocExtension=function(a,c){zn.prototype[a]=c},ai.fromTextArea=function Lu(a,c){if((c=c?vn(c):{}).value=a.value,!c.tabindex&&a.tabIndex&&(c.tabindex=a.tabIndex),!c.placeholder&&a.placeholder&&(c.placeholder=a.placeholder),null==c.autofocus){var y=ht(a.ownerDocument);c.autofocus=y==a||null!=a.getAttribute("autofocus")&&y==document.body}function v(){a.value=K.getValue()}var b;if(a.form&&(Cn(a.form,"submit",v),!c.leaveSubmitMethodAlone)){var B=a.form;b=B.submit;try{var G=B.submit=function(){v(),B.submit=b,B.submit(),B.submit=G}}catch{}}c.finishInit=function(ee){ee.save=v,ee.getTextArea=function(){return a},ee.toTextArea=function(){ee.toTextArea=isNaN,v(),a.parentNode.removeChild(ee.getWrapperElement()),a.style.display="",a.form&&(go(a.form,"submit",v),!c.leaveSubmitMethodAlone&&"function"==typeof a.form.submit&&(a.form.submit=b))}},a.style.display="none";var K=ai(function(ee){return a.parentNode.insertBefore(ee,a.nextSibling)},c);return K},function Zp(a){a.off=go,a.on=Cn,a.wheelEventPixels=hm,a.Doc=zn,a.splitLines=vu,a.countColumn=cn,a.findColumn=Sr,a.isWordChar=Fi,a.Pass=Ft,a.signal=pi,a.Line=hl,a.changeEnd=Fo,a.scrollbarModel=pd,a.Pos=Tt,a.cmpPos=Yn,a.modes=nc,a.mimeModes=Is,a.resolveMode=ri,a.getMode=Oa,a.modeExtensions=Tr,a.extendMode=Zi,a.copyState=ki,a.startState=ff,a.innerMode=oa,a.commands=Mc,a.keyMap=Uo,a.keyName=Nf,a.isModifierKey=Gp,a.lookupKey=rl,a.normalizeKeyMap=Up,a.StringStream=Pi,a.SharedTextMarker=Md,a.TextMarker=Ho,a.LineWidget=Jl,a.e_preventDefault=Vi,a.e_stopPropagation=Ks,a.e_stop=Ia,a.addClass=Ke,a.contains=at,a.rmClass=me,a.keyNames=Wi}(ai),ai.version="5.65.13",ai}()},1610:function(Y,se,D){var T;Y.exports=(T=D(4465),function(P){var O={};function I(C){if(O[C])return O[C].exports;var S=O[C]={i:C,l:!1,exports:{}};return P[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=P,I.c=O,I.i=function(C){return C},I.d=function(C,S,N){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:N})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=7)}([function(P,O){P.exports=T},function(P,O,I){"use strict";var C=I(0).FDLayoutConstants;function S(){}for(var N in C)S[N]=C[N];S.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,S.DEFAULT_RADIAL_SEPARATION=C.DEFAULT_EDGE_LENGTH,S.DEFAULT_COMPONENT_SEPERATION=60,S.TILE=!0,S.TILING_PADDING_VERTICAL=10,S.TILING_PADDING_HORIZONTAL=10,S.TREE_REDUCTION_ON_INCREMENTAL=!1,P.exports=S},function(P,O,I){"use strict";var C=I(0).FDLayoutEdge;function S(A,V,L){C.call(this,A,V,L)}for(var N in S.prototype=Object.create(C.prototype),C)S[N]=C[N];P.exports=S},function(P,O,I){"use strict";var C=I(0).LGraph;function S(A,V,L){C.call(this,A,V,L)}for(var N in S.prototype=Object.create(C.prototype),C)S[N]=C[N];P.exports=S},function(P,O,I){"use strict";var C=I(0).LGraphManager;function S(A){C.call(this,A)}for(var N in S.prototype=Object.create(C.prototype),C)S[N]=C[N];P.exports=S},function(P,O,I){"use strict";var C=I(0).FDLayoutNode,S=I(0).IMath;function N(V,L,k,H){C.call(this,V,L,k,H)}for(var A in N.prototype=Object.create(C.prototype),C)N[A]=C[A];N.prototype.move=function(){var V=this.graphManager.getLayout();this.displacementX=V.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=V.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>V.coolingFactor*V.maxNodeDisplacement&&(this.displacementX=V.coolingFactor*V.maxNodeDisplacement*S.sign(this.displacementX)),Math.abs(this.displacementY)>V.coolingFactor*V.maxNodeDisplacement&&(this.displacementY=V.coolingFactor*V.maxNodeDisplacement*S.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),V.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},N.prototype.propogateDisplacementToChildren=function(V,L){for(var H,k=this.getChild().getNodes(),$=0;$<k.length;$++)null==(H=k[$]).getChild()?(H.moveBy(V,L),H.displacementX+=V,H.displacementY+=L):H.propogateDisplacementToChildren(V,L)},N.prototype.setPred1=function(V){this.pred1=V},N.prototype.getPred1=function(){return pred1},N.prototype.getPred2=function(){return pred2},N.prototype.setNext=function(V){this.next=V},N.prototype.getNext=function(){return next},N.prototype.setProcessed=function(V){this.processed=V},N.prototype.isProcessed=function(){return processed},P.exports=N},function(P,O,I){"use strict";var C=I(0).FDLayout,S=I(4),N=I(3),A=I(5),V=I(2),L=I(1),k=I(0).FDLayoutConstants,H=I(0).LayoutConstants,$=I(0).Point,Q=I(0).PointD,ue=I(0).Layout,ne=I(0).Integer,le=I(0).IGeometry,ae=I(0).LGraph,de=I(0).Transform;function te(){C.call(this),this.toBeTiled={}}for(var pe in te.prototype=Object.create(C.prototype),C)te[pe]=C[pe];te.prototype.newGraphManager=function(){var q=new S(this);return this.graphManager=q,q},te.prototype.newGraph=function(q){return new N(null,this.graphManager,q)},te.prototype.newNode=function(q){return new A(this.graphManager,q)},te.prototype.newEdge=function(q){return new V(null,null,q)},te.prototype.initParameters=function(){C.prototype.initParameters.call(this,arguments),this.isSubLayout||(this.idealEdgeLength=L.DEFAULT_EDGE_LENGTH<10?10:L.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=L.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=k.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=k.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=k.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=k.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=k.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=k.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/k.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=k.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},te.prototype.layout=function(){return H.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},te.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(L.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var oe=new Set(this.getAllNodes()),ie=this.nodesWithGravity.filter(function(Se){return oe.has(Se)});this.graphManager.setAllNodesToApplyGravitation(ie)}}else{var q=this.getFlatForest();q.length>0?this.positionNodesRadially(q):(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),oe=new Set(this.getAllNodes()),ie=this.nodesWithGravity.filter(function(me){return oe.has(me)}),this.graphManager.setAllNodesToApplyGravitation(ie),this.positionNodesRandomly())}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},te.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%k.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var q=new Set(this.getAllNodes()),oe=this.nodesWithGravity.filter(function(we){return q.has(we)});this.graphManager.setAllNodesToApplyGravitation(oe),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=k.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=k.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var ie=!this.isTreeGrowing&&!this.isGrowthFinished,me=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(ie,me),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},te.prototype.getPositionsData=function(){for(var q=this.graphManager.getAllNodes(),oe={},ie=0;ie<q.length;ie++){var me=q[ie].rect,we=q[ie].id;oe[we]={id:we,x:me.getCenterX(),y:me.getCenterY(),w:me.width,h:me.height}}return oe},te.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var q=!1;if("during"===k.ANIMATE)this.emit("layoutstarted");else{for(;!q;)q=this.tick();this.graphManager.updateBounds()}},te.prototype.calculateNodesToApplyGravitationTo=function(){var oe,we,q=[],ie=this.graphManager.getGraphs(),me=ie.length;for(we=0;we<me;we++)(oe=ie[we]).updateConnected(),oe.isConnected||(q=q.concat(oe.getNodes()));return q},te.prototype.createBendpoints=function(){var q=[];q=q.concat(this.graphManager.getAllEdges());var ie,oe=new Set;for(ie=0;ie<q.length;ie++){var me=q[ie];if(!oe.has(me)){var we=me.getSource(),Se=me.getTarget();if(we==Se)me.getBendpoints().push(new Q),me.getBendpoints().push(new Q),this.createDummyNodesForBendpoints(me),oe.add(me);else{var De=[];if(De=(De=De.concat(we.getEdgeListToNode(Se))).concat(Se.getEdgeListToNode(we)),!oe.has(De[0])){var ze;if(De.length>1)for(ze=0;ze<De.length;ze++){var Be=De[ze];Be.getBendpoints().push(new Q),this.createDummyNodesForBendpoints(Be)}De.forEach(function(at){oe.add(at)})}}}if(oe.size==q.length)break}},te.prototype.positionNodesRadially=function(q){for(var oe=new $(0,0),ie=Math.ceil(Math.sqrt(q.length)),me=0,we=0,Se=0,De=new Q(0,0),ze=0;ze<q.length;ze++){ze%ie==0&&(Se=0,we=me,0!=ze&&(we+=L.DEFAULT_COMPONENT_SEPERATION),me=0);var Be=q[ze],at=ue.findCenterOfTree(Be);oe.x=Se,oe.y=we,(De=te.radialLayout(Be,at,oe)).y>me&&(me=Math.floor(De.y)),Se=Math.floor(De.x+L.DEFAULT_COMPONENT_SEPERATION)}this.transform(new Q(H.WORLD_CENTER_X-De.x/2,H.WORLD_CENTER_Y-De.y/2))},te.radialLayout=function(q,oe,ie){var me=Math.max(this.maxDiagonalInTree(q),L.DEFAULT_RADIAL_SEPARATION);te.branchRadialLayout(oe,null,0,359,0,me);var we=ae.calculateBounds(q),Se=new de;Se.setDeviceOrgX(we.getMinX()),Se.setDeviceOrgY(we.getMinY()),Se.setWorldOrgX(ie.x),Se.setWorldOrgY(ie.y);for(var De=0;De<q.length;De++)q[De].transform(Se);var Be=new Q(we.getMaxX(),we.getMaxY());return Se.inverseTransformPoint(Be)},te.branchRadialLayout=function(q,oe,ie,me,we,Se){var De=(me-ie+1)/2;De<0&&(De+=180);var Be=(De+ie)%360*le.TWO_PI/360,ht=(Math.cos(Be),we*Math.cos(Be)),Ke=we*Math.sin(Be);q.setCenter(ht,Ke);var Ct=[],qe=(Ct=Ct.concat(q.getEdges())).length;null!=oe&&qe--;for(var It,qt=0,Ht=Ct.length,vn=q.getEdgesBetween(oe);vn.length>1;){var cn=vn[0];vn.splice(0,1);var ut=Ct.indexOf(cn);ut>=0&&Ct.splice(ut,1),Ht--,qe--}It=null!=oe?(Ct.indexOf(vn[0])+1)%Ht:0;for(var it=Math.abs(me-ie)/qe,pt=It;qt!=qe;pt=++pt%Ht){var Ft=Ct[pt].getOtherEnd(q);if(Ft!=oe){var St=(ie+qt*it)%360;te.branchRadialLayout(Ft,q,St,(St+it)%360,we+Se,Se),qt++}}},te.maxDiagonalInTree=function(q){for(var oe=ne.MIN_VALUE,ie=0;ie<q.length;ie++){var we=q[ie].getDiagonal();we>oe&&(oe=we)}return oe},te.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},te.prototype.groupZeroDegreeMembers=function(){var q=this,oe={};this.memberGroups={},this.idToDummyNode={};for(var ie=[],me=this.graphManager.getAllNodes(),we=0;we<me.length;we++){var De=(Se=me[we]).getParent();0===this.getNodeDegreeWithChildren(Se)&&(null==De.id||!this.getToBeTiled(De))&&ie.push(Se)}for(we=0;we<ie.length;we++){var Se,ze=(Se=ie[we]).getParent().id;typeof oe[ze]>"u"&&(oe[ze]=[]),oe[ze]=oe[ze].concat(Se)}Object.keys(oe).forEach(function(Be){if(oe[Be].length>1){var at="DummyCompound_"+Be;q.memberGroups[at]=oe[Be];var ht=oe[Be][0].getParent(),Ke=new A(q.graphManager);Ke.id=at,Ke.paddingLeft=ht.paddingLeft||0,Ke.paddingRight=ht.paddingRight||0,Ke.paddingBottom=ht.paddingBottom||0,Ke.paddingTop=ht.paddingTop||0,q.idToDummyNode[at]=Ke;var Ct=q.getGraphManager().add(q.newGraph(),Ke),qe=ht.getChild();qe.add(Ke);for(var qt=0;qt<oe[Be].length;qt++){var Ht=oe[Be][qt];qe.remove(Ht),Ct.add(Ht)}}})},te.prototype.clearCompounds=function(){var q={},oe={};this.performDFSOnCompounds();for(var ie=0;ie<this.compoundOrder.length;ie++)oe[this.compoundOrder[ie].id]=this.compoundOrder[ie],q[this.compoundOrder[ie].id]=[].concat(this.compoundOrder[ie].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[ie].getChild()),this.compoundOrder[ie].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(q,oe)},te.prototype.clearZeroDegreeMembers=function(){var q=this,oe=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(ie){var me=q.idToDummyNode[ie];oe[ie]=q.tileNodes(q.memberGroups[ie],me.paddingLeft+me.paddingRight),me.rect.width=oe[ie].width,me.rect.height=oe[ie].height})},te.prototype.repopulateCompounds=function(){for(var q=this.compoundOrder.length-1;q>=0;q--){var oe=this.compoundOrder[q];this.adjustLocations(this.tiledMemberPack[oe.id],oe.rect.x,oe.rect.y,oe.paddingLeft,oe.paddingTop)}},te.prototype.repopulateZeroDegreeMembers=function(){var q=this,oe=this.tiledZeroDegreePack;Object.keys(oe).forEach(function(ie){var me=q.idToDummyNode[ie];q.adjustLocations(oe[ie],me.rect.x,me.rect.y,me.paddingLeft,me.paddingTop)})},te.prototype.getToBeTiled=function(q){var oe=q.id;if(null!=this.toBeTiled[oe])return this.toBeTiled[oe];var ie=q.getChild();if(null==ie)return this.toBeTiled[oe]=!1,!1;for(var me=ie.getNodes(),we=0;we<me.length;we++){var Se=me[we];if(this.getNodeDegree(Se)>0)return this.toBeTiled[oe]=!1,!1;if(null!=Se.getChild()){if(!this.getToBeTiled(Se))return this.toBeTiled[oe]=!1,!1}else this.toBeTiled[Se.id]=!1}return this.toBeTiled[oe]=!0,!0},te.prototype.getNodeDegree=function(q){for(var ie=q.getEdges(),me=0,we=0;we<ie.length;we++){var Se=ie[we];Se.getSource().id!==Se.getTarget().id&&(me+=1)}return me},te.prototype.getNodeDegreeWithChildren=function(q){var oe=this.getNodeDegree(q);if(null==q.getChild())return oe;for(var ie=q.getChild().getNodes(),me=0;me<ie.length;me++)oe+=this.getNodeDegreeWithChildren(ie[me]);return oe},te.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},te.prototype.fillCompexOrderByDFS=function(q){for(var oe=0;oe<q.length;oe++){var ie=q[oe];null!=ie.getChild()&&this.fillCompexOrderByDFS(ie.getChild().getNodes()),this.getToBeTiled(ie)&&this.compoundOrder.push(ie)}},te.prototype.adjustLocations=function(q,oe,ie,me,we){ie+=we;for(var Se=oe+=me,De=0;De<q.rows.length;De++){var ze=q.rows[De];oe=Se;for(var Be=0,at=0;at<ze.length;at++){var ht=ze[at];ht.rect.x=oe,ht.rect.y=ie,oe+=ht.rect.width+q.horizontalPadding,ht.rect.height>Be&&(Be=ht.rect.height)}ie+=Be+q.verticalPadding}},te.prototype.tileCompoundMembers=function(q,oe){var ie=this;this.tiledMemberPack=[],Object.keys(q).forEach(function(me){var we=oe[me];ie.tiledMemberPack[me]=ie.tileNodes(q[me],we.paddingLeft+we.paddingRight),we.rect.width=ie.tiledMemberPack[me].width,we.rect.height=ie.tiledMemberPack[me].height})},te.prototype.tileNodes=function(q,oe){var we={rows:[],rowWidth:[],rowHeight:[],width:0,height:oe,verticalPadding:L.TILING_PADDING_VERTICAL,horizontalPadding:L.TILING_PADDING_HORIZONTAL};q.sort(function(ze,Be){return ze.rect.width*ze.rect.height>Be.rect.width*Be.rect.height?-1:ze.rect.width*ze.rect.height<Be.rect.width*Be.rect.height?1:0});for(var Se=0;Se<q.length;Se++){var De=q[Se];0==we.rows.length?this.insertNodeToRow(we,De,0,oe):this.canAddHorizontal(we,De.rect.width,De.rect.height)?this.insertNodeToRow(we,De,this.getShortestRowIndex(we),oe):this.insertNodeToRow(we,De,we.rows.length,oe),this.shiftToLastRow(we)}return we},te.prototype.insertNodeToRow=function(q,oe,ie,me){var we=me;ie==q.rows.length&&(q.rows.push([]),q.rowWidth.push(we),q.rowHeight.push(0));var De=q.rowWidth[ie]+oe.rect.width;q.rows[ie].length>0&&(De+=q.horizontalPadding),q.rowWidth[ie]=De,q.width<De&&(q.width=De);var ze=oe.rect.height;ie>0&&(ze+=q.verticalPadding);var Be=0;ze>q.rowHeight[ie]&&(Be=q.rowHeight[ie],q.rowHeight[ie]=ze,Be=q.rowHeight[ie]-Be),q.height+=Be,q.rows[ie].push(oe)},te.prototype.getShortestRowIndex=function(q){for(var oe=-1,ie=Number.MAX_VALUE,me=0;me<q.rows.length;me++)q.rowWidth[me]<ie&&(oe=me,ie=q.rowWidth[me]);return oe},te.prototype.getLongestRowIndex=function(q){for(var oe=-1,ie=Number.MIN_VALUE,me=0;me<q.rows.length;me++)q.rowWidth[me]>ie&&(oe=me,ie=q.rowWidth[me]);return oe},te.prototype.canAddHorizontal=function(q,oe,ie){var me=this.getShortestRowIndex(q);if(me<0)return!0;var we=q.rowWidth[me];if(we+q.horizontalPadding+oe<=q.width)return!0;var De,ze,Se=0;return q.rowHeight[me]<ie&&me>0&&(Se=ie+q.verticalPadding-q.rowHeight[me]),De=q.width-we>=oe+q.horizontalPadding?(q.height+Se)/(we+oe+q.horizontalPadding):(q.height+Se)/q.width,Se=ie+q.verticalPadding,(ze=q.width<oe?(q.height+Se)/oe:(q.height+Se)/q.width)<1&&(ze=1/ze),De<1&&(De=1/De),De<ze},te.prototype.shiftToLastRow=function(q){var oe=this.getLongestRowIndex(q),ie=q.rowWidth.length-1,me=q.rows[oe],we=me[me.length-1],Se=we.width+q.horizontalPadding;if(q.width-q.rowWidth[ie]>Se&&oe!=ie){me.splice(-1,1),q.rows[ie].push(we),q.rowWidth[oe]=q.rowWidth[oe]-Se,q.rowWidth[ie]=q.rowWidth[ie]+Se,q.width=q.rowWidth[instance.getLongestRowIndex(q)];for(var De=Number.MIN_VALUE,ze=0;ze<me.length;ze++)me[ze].height>De&&(De=me[ze].height);oe>0&&(De+=q.verticalPadding);var Be=q.rowHeight[oe]+q.rowHeight[ie];q.rowHeight[oe]=De,q.rowHeight[ie]<we.height+q.verticalPadding&&(q.rowHeight[ie]=we.height+q.verticalPadding),q.height+=q.rowHeight[oe]+q.rowHeight[ie]-Be,this.shiftToLastRow(q)}},te.prototype.tilingPreLayout=function(){L.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},te.prototype.tilingPostLayout=function(){L.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},te.prototype.reduceTrees=function(){for(var ie,q=[],oe=!0;oe;){var me=this.graphManager.getAllNodes(),we=[];oe=!1;for(var Se=0;Se<me.length;Se++)1==(ie=me[Se]).getEdges().length&&!ie.getEdges()[0].isInterGraph&&null==ie.getChild()&&(we.push([ie,ie.getEdges()[0],ie.getOwner()]),oe=!0);if(1==oe){for(var De=[],ze=0;ze<we.length;ze++)1==we[ze][0].getEdges().length&&(De.push(we[ze]),we[ze][0].getOwner().remove(we[ze][0]));q.push(De),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=q},te.prototype.growTree=function(q){for(var me,ie=q[q.length-1],we=0;we<ie.length;we++)this.findPlaceforPrunedNode(me=ie[we]),me[2].add(me[0]),me[2].add(me[1],me[1].source,me[1].target);q.splice(q.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},te.prototype.findPlaceforPrunedNode=function(q){var oe,ie,me=q[0],we=(ie=me==q[1].source?q[1].target:q[1].source).startX,Se=ie.finishX,De=ie.startY,ze=ie.finishY,Ct=[0,0,0,0];if(De>0)for(var qe=we;qe<=Se;qe++)Ct[0]+=this.grid[qe][De-1].length+this.grid[qe][De].length-1;if(Se<this.grid.length-1)for(qe=De;qe<=ze;qe++)Ct[1]+=this.grid[Se+1][qe].length+this.grid[Se][qe].length-1;if(ze<this.grid[0].length-1)for(qe=we;qe<=Se;qe++)Ct[2]+=this.grid[qe][ze+1].length+this.grid[qe][ze].length-1;if(we>0)for(qe=De;qe<=ze;qe++)Ct[3]+=this.grid[we-1][qe].length+this.grid[we][qe].length-1;for(var Ht,It,qt=ne.MAX_VALUE,vn=0;vn<Ct.length;vn++)Ct[vn]<qt?(qt=Ct[vn],Ht=1,It=vn):Ct[vn]==qt&&Ht++;if(3==Ht&&0==qt)0==Ct[0]&&0==Ct[1]&&0==Ct[2]?oe=1:0==Ct[0]&&0==Ct[1]&&0==Ct[3]?oe=0:0==Ct[0]&&0==Ct[2]&&0==Ct[3]?oe=3:0==Ct[1]&&0==Ct[2]&&0==Ct[3]&&(oe=2);else if(2==Ht&&0==qt){var cn=Math.floor(2*Math.random());oe=0==Ct[0]&&0==Ct[1]?0==cn?0:1:0==Ct[0]&&0==Ct[2]?0==cn?0:2:0==Ct[0]&&0==Ct[3]?0==cn?0:3:0==Ct[1]&&0==Ct[2]?0==cn?1:2:0==Ct[1]&&0==Ct[3]?0==cn?1:3:0==cn?2:3}else oe=4==Ht&&0==qt?cn=Math.floor(4*Math.random()):It;0==oe?me.setCenter(ie.getCenterX(),ie.getCenterY()-ie.getHeight()/2-k.DEFAULT_EDGE_LENGTH-me.getHeight()/2):1==oe?me.setCenter(ie.getCenterX()+ie.getWidth()/2+k.DEFAULT_EDGE_LENGTH+me.getWidth()/2,ie.getCenterY()):2==oe?me.setCenter(ie.getCenterX(),ie.getCenterY()+ie.getHeight()/2+k.DEFAULT_EDGE_LENGTH+me.getHeight()/2):me.setCenter(ie.getCenterX()-ie.getWidth()/2-k.DEFAULT_EDGE_LENGTH-me.getWidth()/2,ie.getCenterY())},P.exports=te},function(P,O,I){"use strict";var C={};C.layoutBase=I(0),C.CoSEConstants=I(1),C.CoSEEdge=I(2),C.CoSEGraph=I(3),C.CoSEGraphManager=I(4),C.CoSELayout=I(6),C.CoSENode=I(5),P.exports=C}]))},6827:function(Y,se,D){var T,P;Y.exports=(T=D(5886),P=D(1610),function(O){var I={};function C(S){if(I[S])return I[S].exports;var N=I[S]={i:S,l:!1,exports:{}};return O[S].call(N.exports,N,N.exports,C),N.l=!0,N.exports}return C.m=O,C.c=I,C.i=function(S){return S},C.d=function(S,N,A){C.o(S,N)||Object.defineProperty(S,N,{configurable:!1,enumerable:!0,get:A})},C.n=function(S){var N=S&&S.__esModule?function(){return S.default}:function(){return S};return C.d(N,"a",N),N},C.o=function(S,N){return Object.prototype.hasOwnProperty.call(S,N)},C.p="",C(C.s=15)}([function(O,I){O.exports=T},function(O,I,C){"use strict";var S=C(0).layoutBase.FDLayoutConstants;function N(){}for(var A in S)N[A]=S[A];N.DEFAULT_SPRING_STRENGTH=1.5*S.DEFAULT_SPRING_STRENGTH,N.DEFAULT_NODE_SEPARATION=S.DEFAULT_EDGE_LENGTH/4,N.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF=1.4,N.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE=!1,N.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=.1,N.DEFAULT_INNER_EDGE_LENGTH=S.DEFAULT_EDGE_LENGTH/3,N.MAX_ROTATION_ANGLE=Math.PI/36,N.MIN_ROTATION_ANGLE=-N.MAX_ROTATION_ANGLE,N.SWAP_HISTORY_CLEARANCE_PERIOD=6*(N.SWAP_PERIOD=(N.SWAP_IDLE_DURATION=45)+(N.SWAP_PREPERATION_DURATION=5)),N.MIN_DISPLACEMENT_FOR_SWAP=6,N.REVERSE_PERIOD=25,O.exports=N},function(O,I,C){"use strict";O.exports=null!=Object.assign?Object.assign.bind(Object):function(S){for(var N=arguments.length,A=Array(N>1?N-1:0),V=1;V<N;V++)A[V-1]=arguments[V];return A.forEach(function(L){Object.keys(L).forEach(function(k){return S[k]=L[k]})}),S}},function(O,I){O.exports=P},function(O,I,C){"use strict";O.exports=C(16)},function(O,I,C){"use strict";var S=C(0).layoutBase.LGraph,N=C(0).layoutBase.IGeometry,A=C(0).layoutBase.NeedlemanWunsch,V=C(14),L=C(1),k=C(8),H=C(9);function $(ue,ne,le){S.call(this,ue,ne,le),this.intraClusterEdges=null,this.interClusterEdges=null,this.inNodes=[],this.outNodes=[],this.onCircleNodes=[],this.inCircleNodes=[],this.radius=0,this.orderMatrix=null,this.mayBeReversed=!0}for(var Q in $.prototype=Object.create(S.prototype),S)$[Q]=S[Q];$.prototype.setRadius=function(ue){this.radius=ue},$.prototype.getRadius=function(){return this.radius},$.prototype.getInNodes=function(){return this.inNodes},$.prototype.getOutNodes=function(){return this.outNodes},$.prototype.getOnCircleNodes=function(){return this.onCircleNodes},$.prototype.getInCircleNodes=function(){return this.inCircleNodes},$.prototype.setMayNotBeReversed=function(){this.mayBeReversed=!1},$.prototype.getMayBeReversed=function(){return this.mayBeReversed},$.prototype.getChildAt=function(ue){return this.onCircleNodes[ue]},$.prototype.getInterClusterEdges=function(){var ue=this;return null===this.interClusterEdges&&(this.interClusterEdges=[],this.outNodes.forEach(function(ne){for(var le=ne.getOnCircleNodeExt().getInterClusterEdges(),ae=0;ae<le.length;ae++)ue.interClusterEdges.push(le[ae])})),this.interClusterEdges},$.prototype.getIntraClusterEdges=function(){var ue=this;return null===this.intraClusterEdges&&(this.intraClusterEdges=[],this.getEdges().forEach(function(le){le.isIntraEdge()&&ue.intraClusterEdges.push(le)})),this.intraClusterEdges},$.prototype.calculateParentNodeDimension=function(){for(var ne=Number.MIN_SAFE_INTEGER,le=0;le<this.onCircleNodes.length;le++){var ae=this.onCircleNodes[le];ae.getWidth()>ne&&(ne=ae.getWidth()),ae.getHeight()>ne&&(ne=ae.getHeight())}var de=2*(this.radius+this.margin)+ne,te=this.getParent();te.setHeight(de),te.setWidth(de)},$.prototype.computeOrderMatrix=function(){var ue=this.onCircleNodes.length;this.orderMatrix=new Array(ue);for(var ne=0;ne<this.orderMatrix.length;ne++)this.orderMatrix[ne]=new Array(ue);for(var le=0;le<ue;le++)for(var ae=0;ae<ue;ae++)if(ae>le){var de=this.onCircleNodes[ae].getOnCircleNodeExt().getAngle()-this.onCircleNodes[le].getOnCircleNodeExt().getAngle();de<0&&(de+=N.TWO_PI),de<=Math.PI?(this.orderMatrix[le][ae]=!0,this.orderMatrix[ae][le]=!1):(this.orderMatrix[le][ae]=!1,this.orderMatrix[ae][le]=!0)}},$.prototype.rotate=function(){var ue=this.getParent(),ne=this.getOnCircleNodes().length,le=ue.rotationAmount/ne,ae=this.getGraphManager().getLayout();if(0!==le){var de=le/this.radius;de>L.MAX_ROTATION_ANGLE?de=L.MAX_ROTATION_ANGLE:de<L.MIN_ROTATION_ANGLE&&(de=L.MIN_ROTATION_ANGLE);for(var te=0;te<ne;te++){var q=this.getChildAt(te).getOnCircleNodeExt();q.setAngle(q.getAngle()+de),q.updatePosition()}ae.totalDisplacement+=ue.rotationAmount,ue.rotationAmount=0}},$.prototype.getOrder=function(ue,ne){return this.orderMatrix[ue.getOnCircleNodeExt().getIndex()][ne.getOnCircleNodeExt().getIndex()]},$.prototype.getThisEnd=function(ue){var ne=ue.getSource(),le=ue.getTarget();return ne.getOwner()===this?ne:le},$.prototype.getOtherEnd=function(ue){var ne=ue.getSource(),le=ue.getTarget();return ne.getOwner()===this?le:ne},$.prototype.decomposeForce=function(ue){var ne=void 0;if(0!==ue.displacementX||0!==ue.displacementY){var Se,le=this.getParent(),ae=le.getCenterX(),de=le.getCenterY(),te=ue.getCenterX(),pe=ue.getCenterY(),q=ue.displacementX,oe=ue.displacementY,ie=N.angleOfVector(ae,de,te,pe),me=N.angleOfVector(0,0,q,oe),we=ie+Math.PI;Se=Math.PI<=we&&we<N.TWO_PI?ie<=me&&me<we:!((we-=N.TWO_PI)<=me&&me<ie);var De=Math.abs(ie-me),ze=Math.sqrt(q*q+oe*oe),Be=Math.abs(Math.sin(De)*ze);Se||(Be=-Be),ne=new V(Be,q,oe)}else ne=new V(0,0,0);return ne},$.prototype.swapNodes=function(ue,ne){var le=ue,ae=ne,de=ue.getOnCircleNodeExt(),te=ne.getOnCircleNodeExt();if(le.getOnCircleNodeExt().getIndex()>ne.getOnCircleNodeExt().getIndex()&&(le=ne,ae=ue),le.getOnCircleNodeExt().getPrevNode()===ae){var pe=ae;ae=le,le=pe}var q=le.getOnCircleNodeExt(),oe=ae.getOnCircleNodeExt(),ie=q.getPrevNode(),we=this.getGraphManager().getLayout().getNodeSeparation(),Se=(ie.getOnCircleNodeExt().getAngle()+(ie.getHalfTheDiagonal()+ae.getHalfTheDiagonal()+we)/this.radius)%(2*Math.PI);oe.setAngle(Se),Se=(oe.getAngle()+(ae.getHalfTheDiagonal()+le.getHalfTheDiagonal()+we)/this.radius)%(2*Math.PI),q.setAngle(Se),q.updatePosition(),oe.updatePosition();var De=de.getIndex();de.setIndex(te.getIndex()),te.setIndex(De),this.getOnCircleNodes()[de.getIndex()]=ue,this.getOnCircleNodes()[te.getIndex()]=ne,de.updateSwappingConditions(),te.updateSwappingConditions(),de.getNextNode()===ne?(de.getPrevNode().getOnCircleNodeExt().updateSwappingConditions(),te.getNextNode().getOnCircleNodeExt().updateSwappingConditions()):(de.getNextNode().getOnCircleNodeExt().updateSwappingConditions(),te.getPrevNode().getOnCircleNodeExt().updateSwappingConditions())},$.prototype.checkAndReverseIfReverseIsBetter=function(){for(var ue=this.getInterClusterEdges(),ne=new Array(ue.length),le=void 0,ae=this.getParent().getCenter(),de=void 0,te=void 0,q=void 0,oe=this.onCircleNodes.length,ie=new Array(oe),me=0;me<oe;me++)ie[me]=0;for(var we=0,Se=0;Se<ue.length;Se++)q=this.getOtherEnd(de=ue[Se]).getCenter(),le=N.angleOfVector(ae.x,ae.y,q.x,q.y),ne[Se]=new k(de,le),ie[(te=this.getThisEnd(de)).getOnCircleNodeExt().getIndex()]++,ie[te.getOnCircleNodeExt().getIndex()]>1&&we++;for(var De=this.onCircleNodes,ze=oe+we,Be=new Array(2*ze),at=new Array(2*ze),ht=void 0,Ke=-1,Ct=0;Ct<oe;Ct++){ht=De[Ct],0===ie[Ct]&&(ie[Ct]=1);for(var qe=0;qe<ie[Ct];qe++)Be[++Ke]=Be[ze+Ke]=at[ze-1-Ke]=at[2*ze-1-Ke]=ht.getOnCircleNodeExt().getCharCode()}new H(this,ne);for(var Ht=new Array(ne.length),It=0;It<ne.length;It++)de=ne[It].getEdge(),te=this.getThisEnd(de),Ht[It]=te.getOnCircleNodeExt().getCharCode();var vn=this.computeAlignmentScore(Be,Ht);if(-1!==vn){var cn=this.computeAlignmentScore(at,Ht);if(-1!==cn&&cn>vn)return this.reverseNodes(),this.setMayNotBeReversed(),!0}return!1},$.prototype.computeAlignmentScore=function(ue,ne){return new A(ue,ne,20,-1,-2).getScore()},$.prototype.reverseNodes=function(){for(var ue=this.getOnCircleNodes(),ne=this.getOnCircleNodes().length,le=0;le<ne;le++){var de=ue[le].getOnCircleNodeExt();de.setIndex((ne-de.getIndex())%ne)}this.reCalculateNodeAnglesAndPositions()},$.prototype.moveOnCircleNodeInside=function(ue){var ne=this.onCircleNodes.indexOf(ue);ne>-1&&this.onCircleNodes.splice(ne,1),this.inCircleNodes.push(ue);for(var le=0;le<this.onCircleNodes.length;le++)this.onCircleNodes[le].getOnCircleNodeExt().setIndex(le);ue.setAsNonOnCircleNode(),this.reCalculateCircleSizeAndRadius(),this.reCalculateNodeAnglesAndPositions(),ue.setCenter(this.getParent().getCenterX(),this.getParent().getCenterY())},$.prototype.reCalculateCircleSizeAndRadius=function(){for(var ue=0,ne=this.getOnCircleNodes(),le=0;le<ne.length;le++){var ae=ne[le],de=ae.getWidth()*ae.getWidth()+ae.getHeight()*ae.getHeight();ue+=Math.sqrt(de)}var pe=this.getGraphManager().getLayout().getNodeSeparation(),q=ue+this.getOnCircleNodes().length*pe;this.radius=q/(2*Math.PI),this.calculateParentNodeDimension()},$.prototype.reCalculateNodeAnglesAndPositions=function(){var ne=this.getGraphManager().getLayout().getNodeSeparation(),le=this.onCircleNodes;le.sort(function(ie,me){return ie.getOnCircleNodeExt().getIndex()-me.getOnCircleNodeExt().getIndex()});for(var ae=this.getParent().getCenterX(),de=this.getParent().getCenterY(),te=0;te<le.length;te++){var pe=le[te],q=void 0;if(0===te)q=0;else{var oe=le[te-1];q=oe.getOnCircleNodeExt().getAngle()+(pe.getHalfTheDiagonal()+ne+oe.getHalfTheDiagonal())/this.radius}pe.getOnCircleNodeExt().setAngle(q),pe.setCenter(ae+this.radius*Math.cos(q),de+this.radius*Math.sin(q))}},O.exports=$},function(O,I,C){"use strict";var S=C(0).layoutBase.FDLayoutEdge;function N(V,L,k){S.call(this,V,L,k),this.isIntraCluster=!0}for(var A in N.prototype=Object.create(S.prototype),S)N[A]=S[A];N.prototype.isIntraEdge=function(){return this.isIntraCluster},N.prototype.crossesWithEdge=function(V){var L=!1,k=this.getSource().getOnCircleNodeExt(),H=this.getTarget().getOnCircleNodeExt(),$=V.getSource().getOnCircleNodeExt(),Q=V.getTarget().getOnCircleNodeExt(),ue=-1,ne=-1,le=-1,ae=-1;if(null!==k&&(ue=k.getIndex()),null!==H&&(ne=H.getIndex()),null!==$&&(le=$.getIndex()),null!==Q&&(ae=Q.getIndex()),this.isInterGraph||V.isInterGraph)L=!0;else if(this.source.getOwner()!==this.target.getOwner())L=!1;else{(-1===ue||-1===ne||-1===le||-1===ae)&&(L=!1);var de=$.getCircDistWithTheNode(k),te=Q.getCircDistWithTheNode(k),pe=H.getCircDistWithTheNode(k);pe<Math.max(de,te)&&pe>Math.min(de,te)&&0!==te&&0!==de&&(L=!0)}return L},N.prototype.calculateTotalCrossingWithList=function(V){for(var L=0,k=0;k<V.length;k++)L+=this.crossingWithEdge(V[k]);return L},N.prototype.crossingWithEdge=function(V){var k=0;return this.crossesWithEdge(V)&&(k=1),k},O.exports=N},function(O,I,C){"use strict";var S=C(0).layoutBase.LGraphManager;function N(V){S.call(this,V),this.onCircleNodes=[],this.inCircleNodes=[],this.nonOnCircleNodes=[]}for(var A in N.prototype=Object.create(S.prototype),S)N[A]=S[A];N.prototype.getOnCircleNodes=function(){return this.onCircleNodes},N.prototype.getInCircleNodes=function(){return this.inCircleNodes},N.prototype.getNonOnCircleNodes=function(){return this.nonOnCircleNodes},N.prototype.setOnCircleNodes=function(V){this.onCircleNodes=V},N.prototype.setInCircleNodes=function(V){this.inCircleNodes=V},N.prototype.setNonOnCircleNodes=function(V){this.nonOnCircleNodes=V},O.exports=N},function(O,I,C){"use strict";function S(N,A){this.edge=N,this.angle=A}(S.prototype=Object.create(null)).getEdge=function(){return this.edge},S.prototype.getAngle=function(){return this.angle},O.exports=S},function(O,I,C){"use strict";var S=function(){function V(L,k){for(var H=0;H<k.length;H++){var $=k[H];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(L,$.key,$)}}return function(L,k,H){return k&&V(L.prototype,k),H&&V(L,H),L}}();var A=function(){function V(L,k){(function N(V,L){if(!(V instanceof L))throw new TypeError("Cannot call a class as a function")})(this,V),this.ownerCircle=L,this._quicksort(k,0,k.length-1)}return S(V,[{key:"compareFunction",value:function(k,H){return H.getAngle()>k.getAngle()||H.getAngle()===k.getAngle()&&k!==H&&this.ownerCircle.getOrder(this.ownerCircle.getThisEnd(k.getEdge()),this.ownerCircle.getThisEnd(H.getEdge()))}},{key:"_quicksort",value:function(k,H,$){if(H<$){var Q=this._partition(k,H,$);this._quicksort(k,H,Q),this._quicksort(k,Q+1,$)}}},{key:"_partition",value:function(k,H,$){for(var Q=this._get(k,H),ue=H,ne=$;;){for(;this.compareFunction(Q,this._get(k,ne));)ne--;for(;this.compareFunction(this._get(k,ue),Q);)ue++;if(!(ue<ne))return ne;this._swap(k,ue,ne),ue++,ne--}}},{key:"_get",value:function(k,H){return k[H]}},{key:"_set",value:function(k,H,$){k[H]=$}},{key:"_swap",value:function(k,H,$){var Q=this._get(k,H);this._set(k,H,this._get(k,$)),this._set(k,$,Q)}}]),V}();O.exports=A},function(O,I,C){"use strict";var S=C(0).layoutBase.FDLayout,N=C(0).layoutBase.HashMap,A=C(0).layoutBase.PointD,V=C(0).layoutBase.DimensionD,L=C(0).AVSDFConstants,k=C(0).AVSDFLayout,H=C(3).CoSELayout,Q=(C(3),C(1)),ue=C(7),ne=C(5),le=C(11),ae=C(6),de=C(13);function te(){S.call(this),this.incremental=Q.INCREMENTAL,this.nodeSeparation=Q.DEFAULT_NODE_SEPARATION,this.idealInterClusterEdgeLengthCoefficient=Q.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF,this.allowNodesInsideCircle=Q.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE,this.maxRatioOfNodesInsideCircle=Q.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE,this.step=te.STEP_NOT_STARTED,this.phase=te.PHASE_NOT_STARTED,this.swappedPairsInLastIteration=[],this.iterations=0,this.oldTotalDisplacement=0,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/Q.CONVERGENCE_CHECK_PERIOD}for(var pe in te.prototype=Object.create(S.prototype),S)te[pe]=S[pe];te.STEP_NOT_STARTED=0,te.STEP_1=1,te.STEP_2=2,te.STEP_3=3,te.STEP_4=4,te.STEP_5=5,te.PHASE_NOT_STARTED=0,te.PHASE_SWAP_PREPERATION=1,te.PHASE_PERFORM_SWAP=2,te.PHASE_OTHER=3,te.prototype.newGraphManager=function(){return this.graphManager=new ue(this),this.graphManager},te.prototype.newCircleLGraph=function(q){return new ne(null,this.graphManager,q)},te.prototype.newNode=function(q,oe){return new le(this.graphManager,q,oe,null)},te.prototype.newCiSEOnCircleNode=function(q,oe){var ie=this.newNode(q,oe);return ie.setAsOnCircleNode(),ie},te.prototype.newEdge=function(q,oe,ie){return new ae(q,oe,ie)},te.prototype.getNodeSeparation=function(){return this.nodeSeparation},te.prototype.convertToClusteredGraph=function(q,oe,ie){for(var me=this,we=this,Se={},De=this.graphManager.getRoot(),ze=new N,Be=0;Be<q.length;Be++)ze.put(q[Be].data("id"),q[Be]);if("function"==typeof ie){for(var at=[],ht=[],Ke=0;Ke<q.length;Ke++){var Ct=ie(q[Ke]);if(Ct>0&&null!=Ct){var qe=at.indexOf(Ct);qe>-1?ht[qe].push(q[Ke].data("id")):(at.push(Ct),ht.push([q[Ke].data("id")]))}}ie=ht}for(var qt=function(Xr){if(0===ie[Xr].length)return"continue";var dn=me.newNode(null);dn.setClusterId(Xr),De.add(dn);var Ri=me.newCircleLGraph(null);me.graphManager.add(Ri,dn),Ri.margin=Ri.margin+15,ie[Xr].forEach(function(ro){var Fi=ze.get(ro),Bi=Fi.layoutDimensions({nodeDimensionsIncludeLabels:!1}),jr=we.newCiSEOnCircleNode(new A(Fi.position("x")-Bi.w/2,Fi.position("y")-Bi.h/2),new V(parseFloat(Bi.w),parseFloat(Bi.h)));jr.setId(ro),jr.setClusterId(Xr),Ri.getOnCircleNodes().push(jr),Ri.add(jr),Ri.getInNodes().push(jr),Se[jr.getId()]=jr})},Ht=0;Ht<ie.length;Ht++)qt(Ht);for(var vn=function(Xr){var dn=!1;if(ie.forEach(function(Bi){Bi.includes(q[Xr].data("id"))&&(dn=!0)}),!dn){var Ri=q[Xr],ro=Ri.layoutDimensions({nodeDimensionsIncludeLabels:!1}),Fi=me.newNode(new A(Ri.position("x")-ro.w/2,Ri.position("y")-ro.h/2),new V(parseFloat(ro.w),parseFloat(ro.h)));Fi.setClusterId(-1),Fi.setId(q[Xr].data("id")),De.add(Fi),Se[Fi.getId()]=Fi}},cn=0;cn<q.length;cn++)vn(cn);for(var ut=0;ut<oe.length;ut++){var it=oe[ut],pt=Se[it.data("source")],Ft=Se[it.data("target")],St=pt.getClusterId(),Kn=Ft.getClusterId();if(pt!==Ft){var Jn=we.newEdge(pt,Ft,null);St===Kn&&-1!==St&&-1!==Kn?(Jn.isIntraCluster=!0,Jn.getSource().getOwner().add(Jn,Jn.getSource(),Jn.getTarget())):(Jn.isIntraCluster=!1,this.graphManager.add(Jn,Jn.getSource(),Jn.getTarget()))}}for(var Sr=[],kr=[],Cr=this.graphManager.getAllNodes(),_n=0;_n<Cr.length;_n++)Cr[_n].getOnCircleNodeExt()?Sr.push(Cr[_n]):kr.push(Cr[_n]);return this.graphManager.setOnCircleNodes(Sr),this.graphManager.setNonOnCircleNodes(kr),this.graphManager.edges.forEach(function(Hn){var Xr=Hn.getSource(),dn=Hn.getTarget(),Ri=Xr.getClusterId(),ro=dn.getClusterId();if(-1!==Ri){var Fi=Xr.getOwner(),Bi=Fi.getInNodes().indexOf(Xr);Bi>-1&&(Fi.getInNodes().splice(Bi,1),Fi.getOutNodes().push(Xr))}if(-1!==ro){var jr=dn.getOwner(),Ki=jr.getInNodes().indexOf(dn);Ki>-1&&(jr.getInNodes().splice(Ki,1),jr.getOutNodes().push(dn))}}),Se},te.prototype.doStep1=function(){this.step=te.STEP_1,this.phase=te.PHASE_OTHER;for(var q=new N,oe=this.graphManager.getGraphs(),ie=0;ie<oe.length;ie++){var me=oe[ie];if(me instanceof ne){L.DEFAULT_NODE_SEPARATION=this.nodeSeparation;for(var we=new k,Se=we.graphManager.addRoot(),De=me.getOnCircleNodes(),ze=0;ze<De.length;ze++){var Be=De[ze],at=we.newNode(null),ht=Be.getLocation();at.setLocation(ht.x,ht.y),at.setWidth(Be.getWidth()),at.setHeight(Be.getHeight()),Se.add(at),q.put(Be,at)}for(var Ke=this.getAllEdges(),Ct=0;Ct<Ke.length;Ct++){var qe=Ke[Ct];if(De.includes(qe.getSource())&&De.includes(qe.getTarget())){var qt=q.get(qe.getSource()),Ht=q.get(qe.getTarget()),It=we.newEdge("");Se.add(It,qt,Ht)}}we.layout();for(var vn=we.initPostProcess(),cn=0;cn<vn.length;cn++)we.oneStepPostProcess(vn[cn]);we.updateNodeAngles(),we.updateNodeCoordinates();for(var ut=0;ut<De.length;ut++){var it=De[ut],pt=q.get(it),Ft=pt.getLocation();it.setLocation(Ft.x,Ft.y),it.getOnCircleNodeExt().setIndex(pt.getIndex()),it.getOnCircleNodeExt().setAngle(pt.getAngle())}if(De.sort(function(Jn,Sr){return Jn.getOnCircleNodeExt().getIndex()-Sr.getOnCircleNodeExt().getIndex()}),Se.getNodes().length>0){var St=me.getParent(),Kn=Se.getParent();St.setLocation(Kn.getLocation().x,Kn.getLocation().y),me.setRadius(Se.getRadius()),me.calculateParentNodeDimension()}}}},te.prototype.doStep2=function(){this.step=te.STEP_2,this.phase=te.PHASE_OTHER;var q=[],oe=[],ie=new N,me=new N,we=new H;we.isSubLayout=!1,we.useMultiLevelScaling=!1,we.useFRGridVariant=!0,we.springConstant*=1.5;for(var De=we.newGraphManager().addRoot(),ze=this.graphManager.getNonOnCircleNodes(),Be=0;Be<ze.length;Be++){var at=ze[Be],ht=we.newNode(null),Ke=at.getLocation();ht.setLocation(Ke.x,Ke.y),ht.setWidth(at.getWidth()),ht.setHeight(at.getHeight()),null!=at.getChild()&&(ht.setWidth(1.2*ht.getWidth()),ht.setHeight(1.2*ht.getHeight())),ht.id=Be,De.add(ht),q.push(ht),ie.put(at,ht)}for(var Ct=new Array(q.length),qe=0;qe<Ct.length;qe++)Ct[qe]=new Array(q.length);for(var qt=this.graphManager.getAllEdges(),Ht=0;Ht<qt.length;Ht++){var It=qt[Ht],vn=It.getSource(),cn=It.getTarget();null!=vn.getOnCircleNodeExt()&&(vn=It.getSource().getOwner().getParent()),null!=cn.getOnCircleNodeExt()&&(cn=It.getTarget().getOwner().getParent());var ut=ie.get(vn),it=ie.get(cn),pt=q.indexOf(ut),Ft=q.indexOf(it),St=void 0;pt!==Ft&&(null==Ct[pt][Ft]&&null==Ct[Ft][pt]?(St=we.newEdge(null),De.add(St,ut,it),oe.push(St),me.put(St,[]),Ct[pt][Ft]=St,Ct[Ft][pt]=St):St=Ct[pt][Ft],me.get(St).push(It))}we.runLayout();for(var Kn=0;Kn<ze.length;Kn++){var Jn=ze[Kn],kr=ie.get(Jn).getLocation();Jn.setLocation(kr.x,kr.y)}for(var Cr=this.graphManager.getOnCircleNodes(),_n=0;_n<Cr.length;_n++){var Hn=Cr[_n],Xr=Hn.getLocation(),dn=Hn.getOwner().getParent().getLocation();Hn.setLocation(Xr.x+dn.x,Xr.y+dn.y)}},te.prototype.step3Init=function(){this.step=te.STEP_3,this.phase=te.PHASE_OTHER,this.initSpringEmbedder(),this.coolingCycle=0},te.prototype.step4Init=function(){this.step=te.STEP_4,this.phase=te.PHASE_OTHER,this.initSpringEmbedder();for(var q=0;q<this.graphManager.getOnCircleNodes().length;q++)this.graphManager.getOnCircleNodes()[q].getOnCircleNodeExt().updateSwappingConditions();this.coolingCycle=0},te.prototype.step5Init=function(){this.step=te.STEP_5,this.phase=te.PHASE_OTHER,this.initSpringEmbedder(),this.coolingCycle=0},te.prototype.runSpringEmbedderTick=function(){if(this.iterations++,this.totalIterations=this.iterations,this.iterations%Q.CONVERGENCE_CHECK_PERIOD==0){if((this.step!==te.STEP_4||this.iterations>this.maxIterations/4)&&this.isConverged())return!0;this.coolingFactor=this.initialCoolingFactor*((this.maxIterations-this.iterations)/this.maxIterations)}if(this.totalDisplacement=0,this.step===te.STEP_3)this.iterations%Q.REVERSE_PERIOD==0&&this.checkAndReverseIfReverseIsBetter();else if(this.step===te.STEP_4){this.iterations%Q.SWAP_HISTORY_CLEARANCE_PERIOD==0&&(this.swappedPairsInLastIteration=[]);var oe=this.iterations%Q.SWAP_PERIOD;this.phase=oe>=Q.SWAP_IDLE_DURATION?te.PHASE_SWAP_PREPERATION:0===oe?te.PHASE_PERFORM_SWAP:te.PHASE_OTHER}return this.calcSpringForces(),this.calcRepulsionForces(),this.calcGravitationalForces(),this.calcTotalForces(),this.moveNodes(),this.iterations>=this.maxIterations},te.prototype.prepareCirclesForReversal=function(){this.graphManager.getRoot().getNodes().forEach(function(oe){var ie=oe.getChild();null!=ie&&(ie.getInterClusterEdges().length<2&&ie.setMayNotBeReversed(),ie.computeOrderMatrix())})},te.prototype.calcIdealEdgeLengths=function(q){for(var oe=this.graphManager.getAllEdges(),ie=0;ie<oe.length;ie++){oe[ie].idealLength=q?1.5*this.idealEdgeLength*this.idealInterClusterEdgeLengthCoefficient:this.idealEdgeLength*this.idealInterClusterEdgeLengthCoefficient}for(var we=this.graphManager.getInCircleNodes(),Se=0;Se<we.length;Se++)we[Se].getEdges().forEach(function(ze){ze.idealLength=Q.DEFAULT_INNER_EDGE_LENGTH})},te.prototype.calcSpringForces=function(){for(var q=this.graphManager.getAllEdges(),oe=0;oe<q.length;oe++){var ie=q[oe],me=ie.getSource(),we=ie.getTarget();ie.isIntraCluster&&null!=me.getOnCircleNodeExt()&&null!=we.getOnCircleNodeExt()||this.calcSpringForce(ie,ie.idealLength)}},te.prototype.calcRepulsionForces=function(){for(var q=this.graphManager.getNonOnCircleNodes(),oe=0;oe<q.length;oe++)for(var ie=q[oe],me=oe+1;me<q.length;me++)this.calcRepulsionForce(ie,q[me]);for(var Se=this.graphManager.getInCircleNodes(),De=0;De<Se.length;De++)for(var ze=Se[De],at=ze.getOwner().getNodes(),ht=0;ht<at.length;ht++){var Ke=at[ht];Ke!==ze&&this.calcRepulsionForce(ze,Ke)}},te.prototype.calcGravitationalForces=function(){if(!this.graphManager.rootGraph.isConnected)for(var q=this.graphManager.getNonOnCircleNodes(),oe=0;oe<q.length;oe++)this.calcGravitationalForce(q[oe]);for(var me=this.graphManager.getInCircleNodes(),we=0;we<me.length;we++)this.calcGravitationalForce(me[we])},te.prototype.calcTotalForces=function(){for(var q=this.graphManager.getAllNodes(),oe=0;oe<q.length;oe++){var ie=q[oe];ie.displacementX=this.coolingFactor*(ie.springForceX+ie.repulsionForceX+ie.gravitationForceX),ie.displacementY=this.coolingFactor*(ie.springForceY+ie.repulsionForceY+ie.gravitationForceY),ie.rotationAmount=0,ie.springForceX=0,ie.springForceY=0,ie.repulsionForceX=0,ie.repulsionForceY=0,ie.gravitationForceX=0,ie.gravitationForceY=0}for(var me=this.graphManager.getOnCircleNodes(),we=0;we<me.length;we++){var Se=me[we],De=Se.getOwner().getParent(),ze=Se.getOwner().decomposeForce(Se);this.phase===te.PHASE_SWAP_PREPERATION&&Se.getOnCircleNodeExt().addDisplacementForSwap(ze.getRotationAmount()),De.displacementX+=ze.getDisplacementX(),De.displacementY+=ze.getDisplacementY(),Se.displacementX=0,Se.displacementY=0,De.rotationAmount+=ze.getRotationAmount(),Se.rotationAmount=0}},te.prototype.moveNodes=function(){if(this.phase!==te.PHASE_PERFORM_SWAP){for(var q=this.graphManager.getNonOnCircleNodes(),oe=0;oe<q.length;oe++)q[oe].move(),null!==q[oe].getChild()&&void 0!==q[oe].getChild()&&q[oe].getChild().rotate();for(var ie=this.graphManager.getInCircleNodes(),me=void 0,we=0;we<ie.length;we++)(me=ie[we]).displacementX/=20,me.displacementY/=20,me.move()}else{for(var Se=this.graphManager.getOnCircleNodes(),De=Se.length,ze=[],Be=[],at=[],ht=[],Ke=void 0,Ct=void 0,qe=void 0,qt=void 0,Ht=void 0,It=void 0,vn=void 0,ut=0;ut<De;ut++)if(Ct=(Ke=Se[ut]).getOnCircleNodeExt().getNextNode(),qe=Ke.getOnCircleNodeExt(),qt=Ct.getOnCircleNodeExt(),qe.canSwapWithNext&&qt.canSwapWithPrev&&!((vn=(Ht=qe.getDisplacementForSwap())-(It=qt.getDisplacementForSwap()))<0)){var it=new de(Ke,Ct,vn,Ht>0&&It>0||Ht<0&&It<0);0===Ht||0===It?Be.push(it):ze.push(it)}var pt=void 0,Ft=!0,St=void 0;for(ze.sort(function(Xr,dn){return Xr.getDiscrepancy()-dn.getDiscrepancy()});Ft&&ze.length>0;)if(Ke=(pt=ze[ze.length-1]).getFirstNode(),Ct=pt.getSecondNode(),qe=Ke.getOnCircleNodeExt(),qt=Ct.getOnCircleNodeExt(),this.isSwappedPreviously(pt))ze.pop(),ht.push(pt);else{var Kn=qe.getInterClusterIntersections(qt);pt.swap(),St=!1;var Jn=qe.getInterClusterIntersections(qt);!(St=Jn>Kn)&&Jn===Kn&&(St=pt.inSameDirection()||pt.getDiscrepancy()<Q.MIN_DISPLACEMENT_FOR_SWAP),St?(pt.swap(),ze.pop()):(at.push(pt.getFirstNode()),at.push(pt.getSecondNode()),ht.push(pt),Ft=!1)}for(var Sr=0;Sr<Be.length;Sr++){var kr=Be[Sr];kr.inSameDirection()||kr.getDiscrepancy()<Q.MIN_DISPLACEMENT_FOR_SWAP||at.includes(kr.getFirstNode())||at.includes(kr.getSecondNode())||(this.isSwappedPreviously(kr)||(kr.swap(),at.push(kr.getFirstNode()),at.push(kr.getSecondNode())),ht.push(kr))}this.swappedPairsInLastIteration=[];for(var Cr=0;Cr<ht.length;Cr++)this.swappedPairsInLastIteration.push(ht[Cr]);for(var Hn=0;Hn<De;Hn++)Se[Hn].getOnCircleNodeExt().setDisplacementForSwap(0)}},te.prototype.isSwappedPreviously=function(q){for(var oe=0;oe<this.swappedPairsInLastIteration.length;oe++){var ie=this.swappedPairsInLastIteration[oe];if(ie.getFirstNode()===q.getFirstNode()&&ie.getSecondNode()===q.getSecondNode()||ie.getSecondNode()===q.getFirstNode()&&ie.getFirstNode()===q.getSecondNode())return!0}return!1},te.prototype.checkAndReverseIfReverseIsBetter=function(){for(var oe=this.getGraphManager().getRoot().getNodes(),me=void 0,we=0;we<oe.length;we++)if(null!=(me=oe[we].getChild())&&me.getMayBeReversed()&&me.getNodes().length<=52&&me.checkAndReverseIfReverseIsBetter())return!0;return!1},te.prototype.findAndMoveInnerNodes=function(){if(this.allowNodesInsideCircle)for(var q=this.graphManager.getGraphs(),oe=0;oe<q.length;oe++){var ie=q[oe],me=0;if(ie!==this.getGraphManager().getRoot())for(var we=ie.getNodes().length*this.maxRatioOfNodesInsideCircle,Se=this.findInnerNode(ie);null!=Se&&me<we;)this.moveInnerNode(Se),++me<we&&(Se=this.findInnerNode(ie))}},te.prototype.findInnerNode=function(q){var oe=null,ie=q.getOnCircleNodes().length,me=q.getOnCircleNodes();me.sort(function(It,vn){return It.getEdges().length-vn.getEdges().length});for(var we=ie-1;we>=0&&null==oe;we--){var Se=me[we];if(0===Se.getOnCircleNodeExt().getInterClusterEdges().length){var De=this.findMinimalSpanningSegment(Se);if(0!==De.length){for(var ze=!1,Be=0;Be<De.length;Be++){var at=De[Be];if(ze)break;for(var ht=at.getNeighborsList(),Ke=0;Ke<ht.length;Ke++){var Ct=ht[Ke];if(Ct!==Se&&Ct.getOwner()===q&&null!=Ct.getOnCircleNodeExt()&&null!=Ct.getOnCircleNodeExt()){var qe=at.getOnCircleNodeExt().getIndex(),qt=Ct.getOnCircleNodeExt().getIndex(),Ht=qe-qt;if(Ht+=ie,(Ht%=ie)>1&&(Ht=qt-qe,Ht+=ie,Ht%=ie),Ht>1){ze=!0;break}}}}ze||(oe=Se)}}}return oe},te.prototype.moveInnerNode=function(q){q.getOwner().moveOnCircleNodeInside(q);var ie=this.graphManager.getOnCircleNodes(),me=ie.indexOf(q);me>-1&&ie.splice(me,1),this.graphManager.inCircleNodes.push(q)},te.prototype.findMinimalSpanningSegment=function(q){var oe=[],ie=q.getOnCircleNeighbors();if(0===ie.length)return oe;ie.sort(function(vn,cn){return vn.getOnCircleNodeExt().getIndex()-cn.getOnCircleNodeExt().getIndex()});var me=q.getOwner().getOnCircleNodes();me.sort(function(vn,cn){return vn.getOnCircleNodeExt().getIndex()-cn.getOnCircleNodeExt().getIndex()});var we=null,Se=null,De=me.length,ze=me.length,Be=ie.length,at=void 0,Ke=void 0,Ct=void 0,qe=void 0;for(at=0;at<Be;at++)Ke=ie[at],(qe=((Ct=ie[(at-1+Be)%Be]).getOnCircleNodeExt().getIndex()-Ke.getOnCircleNodeExt().getIndex()+ze)%ze+1)<De&&(we=Ke,Se=Ct,De=qe);for(var qt=!1,Ht=we;!qt;)if(Ht!==q&&oe.push(Ht),Ht===Se)qt=!0;else{var It=Ht.getOnCircleNodeExt().getIndex()+1;It===me.length&&(It=0),Ht=me[It]}return oe},O.exports=te},function(O,I,C){"use strict";var S=C(0).layoutBase.FDLayoutNode,N=C(0).layoutBase.IMath,A=C(1),V=C(12);function L(H,$,Q,ue){S.call(this,H,$,Q,ue),this.rotationAmount=null,this.onCircleNodeExt=null,this.clusterID=null,this.ID=null}for(var k in L.prototype=Object.create(S.prototype),S)L[k]=S[k];L.prototype.setClusterId=function(H){this.clusterID=H},L.prototype.getClusterId=function(){return this.clusterID},L.prototype.setId=function(H){this.ID=H},L.prototype.getId=function(){return this.ID},L.prototype.setAsOnCircleNode=function(){return this.onCircleNodeExt=new V(this),this.onCircleNodeExt},L.prototype.setAsNonOnCircleNode=function(){this.onCircleNodeExt=null},L.prototype.getOnCircleNodeExt=function(){return this.onCircleNodeExt},L.prototype.getLimitedDisplacement=function(H){return Math.abs(H)>A.MAX_NODE_DISPLACEMENT&&(H=A.MAX_NODE_DISPLACEMENT*N.sign(H)),H},L.prototype.getOnCircleNeighbors=function(){for(var H=Array.from(this.getNeighborsList()),$=[],Q=0;Q<H.length;Q++){var ue=H[Q];null!==ue.getOnCircleNodeExt()&&ue.getClusterId()===this.getClusterId()&&$.push(ue)}return $},L.prototype.getNoOfChildren=function(){return null===this.getChild()||void 0===this.getChild()?1:this.getChild().getNodes().length},L.prototype.move=function(){var H=this.getOwner().getGraphManager().getLayout();if(this.displacementX=this.getLimitedDisplacement(this.displacementX),this.displacementY=this.getLimitedDisplacement(this.displacementY),null!==this.getChild()&&void 0!==this.getChild()){var $=this.getChild().getNodes().length;this.displacementX/=$,this.displacementY/=$;for(var Q=this.getChild().getNodes(),ue=0;ue<Q.length;ue++)Q[ue].moveBy(this.displacementX,this.displacementY),H.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)}this.moveBy(this.displacementX,this.displacementY),H.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),null!==this.getChild()&&void 0!==this.getChild()&&this.getChild().updateBounds(!0)},L.prototype.reset=function(){this.displacementX=0,this.displacementY=0},O.exports=L},function(O,I,C){"use strict";var S=C(0).layoutBase.IGeometry;function N(A){this.ciseNode=A,this.intraClusterEdges=null,this.interClusterEdges=null,this.angle=-1,this.orderIndex=-1,this.canSwapWithNext=null,this.canSwapWithPrevious=null,this.displacementForSwap=null}(N.prototype=Object.create(null)).getCiseNode=function(){return this.ciseNode},N.prototype.getAngle=function(){return this.angle},N.prototype.setAngle=function(A){this.angle=A%S.TWO_PI,this.angle<0&&(this.angle+=S.TWO_PI)},N.prototype.getIndex=function(){return this.orderIndex},N.prototype.setIndex=function(A){this.orderIndex=A},N.prototype.getCharCode=function(){return this.orderIndex<26?String.fromCharCode(97+this.orderIndex):this.orderIndex<52?String.fromCharCode(65+this.orderIndex):"?"},N.prototype.getNextNode=function(){var A=this.ciseNode.getOwner(),V=A.getOnCircleNodes().length,L=this.orderIndex+1;return L===V&&(L=0),A.getOnCircleNodes()[L]},N.prototype.getPrevNode=function(){var A=this.ciseNode.getOwner(),V=this.orderIndex-1;return-1===V&&(V=A.getOnCircleNodes().length-1),A.getOnCircleNodes()[V]},N.prototype.getNextNodeExt=function(){return this.getNextNode().getOnCircleNodeExt()},N.prototype.prevNextNodeExt=function(){return this.getPrevNode().getOnCircleNodeExt()},N.prototype.canSwapWithNext=function(){return this.canSwapWithNext},N.prototype.canSwapWithPrev=function(){return this.canSwapWithPrev},N.prototype.getDisplacementForSwap=function(){return this.displacementForSwap},N.prototype.setDisplacementForSwap=function(A){this.displacementForSwap=A},N.prototype.addDisplacementForSwap=function(A){this.displacementForSwap=A},N.prototype.updatePosition=function(){var A=this.ciseNode.getOwner(),V=A.getParent(),L=V.getCenterX(),k=V.getCenterY(),H=A.getRadius()*Math.cos(this.angle),$=A.getRadius()*Math.sin(this.angle);this.ciseNode.setCenter(L+H,k+$)},N.prototype.getCircDistWithTheNode=function(A){var V=A.getIndex();if(-1===V||-1===this.getIndex())return-1;var L=this.getIndex()-V;return L<0&&(L+=this.ciseNode.getOwner().getOnCircleNodes().length),L},N.prototype.calculateTotalCrossing=function(){var A=this.getIntraClusterEdges(),V=0,L=[];return this.ciseNode.getOwner().getIntraClusterEdges().forEach(function(k){L.push(k)}),this.ciseNode.getEdges().forEach(function(k){var H=L.indexOf(k);H>-1&&L.splice(H,1)}),A.forEach(function(k){V+=k.calculateTotalCrossingWithList(L)}),V},N.prototype.updateSwappingConditions=function(){var A=this.calculateTotalCrossing(),V=this.orderIndex,L=this.getNextNode().getOnCircleNodeExt();this.orderIndex=L.getIndex(),L.setIndex(V);var k=this.calculateTotalCrossing();this.canSwapWithNext=k<=A,L.setIndex(this.orderIndex),this.setIndex(V);var H=this.getPrevNode().getOnCircleNodeExt();this.orderIndex=H.getIndex(),H.setIndex(V),k=this.calculateTotalCrossing(),this.canSwapWithPrevious=k<=A,H.setIndex(this.orderIndex),this.setIndex(V)},N.prototype.swapWith=function(A){this.ciseNode.getOwner().swapNodes(this.ciseNode,A.ciseNode)},N.prototype.getInterClusterIntersections=function(A){for(var V=0,L=this.getInterClusterEdges(),k=A.getInterClusterEdges(),H=0;H<L.length;H++)for(var $=L[H],Q=this.ciseNode.getCenter(),ue=$.getOtherEnd(this.ciseNode).getCenter(),ne=0;ne<k.length;ne++){var le=k[ne],ae=A.ciseNode.getCenter(),de=le.getOtherEnd(A.ciseNode).getCenter();$.getOtherEnd(this.ciseNode)!==le.getOtherEnd(A.ciseNode)&&S.doIntersect(Q,ue,ae,de)&&V++}return V},N.prototype.getInterClusterEdges=function(){if(null===this.interClusterEdges){this.interClusterEdges=[];for(var A=this.ciseNode.getEdges(),V=0;V<A.length;V++){var L=A[V];L.isIntraCluster||this.interClusterEdges.push(L)}}return this.interClusterEdges},N.prototype.getIntraClusterEdges=function(){if(null===this.intraClusterEdges){this.intraClusterEdges=[];for(var A=this.ciseNode.getEdges(),V=0;V<A.length;V++){var L=A[V];L.isIntraCluster&&this.intraClusterEdges.push(L)}}return this.intraClusterEdges},O.exports=N},function(O,I,C){"use strict";function S(N,A,V,L){this.firstNode=N,this.secondNode=A,this.discrepancy=V,this.inSameDir=L}(S.prototype=Object.create).getDiscrepancy=function(){return this.discrepancy},S.prototype.inSameDirection=function(){return this.inSameDir},S.prototype.getFirstNode=function(){return this.firstNode},S.prototype.getSecondNode=function(){return this.secondNode},S.prototype.compareTo=function(N){return this.getDiscrepancy()-N.getDiscrepancy()},S.prototype.swap=function(){this.getFirstNode().getOnCircleNodeExt().swapWith(this.getSecondNode().getOnCircleNodeExt())},S.prototype.equals=function(N){var A=N instanceof S;if(A){var V=N;A&=this.firstNode.equals(V.getFirstNode())&&this.secondNode.equals(V.getSecondNode())||this.secondNode.equals(V.getFirstNode())&&this.firstNode.equals(V.getSecondNode())}return A},S.prototype.hashCode=function(){return this.firstNode.hashCode()+this.secondNode.hashCode()},S.prototype.toString=function(){var N="Swap: "+this.getFirstNode().label;return(N+="<->"+this.getSecondNode().label)+", "+this.getDiscrepancy()},O.exports=S},function(O,I,C){"use strict";function S(N,A,V){this.rotationAmount=N,this.displacementX=A,this.displacementY=V}S.prototype.getRotationAmount=function(){return this.rotationAmount},S.prototype.setRotationAmount=function(N){this.rotationAmount=N},S.prototype.getDisplacementX=function(){return this.displacementX},S.prototype.setDisplacementX=function(N){this.displacementX=N},S.prototype.getDisplacementY=function(){return this.displacementY},S.prototype.setDisplacementY=function(N){this.displacementY=N},O.exports=S},function(O,I,C){"use strict";var S=C(4),N=function(V){V&&V("layout","cise",S)};typeof cytoscape<"u"&&N(cytoscape),O.exports=N},function(O,I,C){"use strict";var S=function(){function te(pe,q){for(var oe=0;oe<q.length;oe++){var ie=q[oe];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(pe,ie.key,ie)}}return function(pe,q,oe){return q&&te(pe.prototype,q),oe&&te(pe,oe),pe}}(),N=function te(pe,q,oe){null===pe&&(pe=Function.prototype);var ie=Object.getOwnPropertyDescriptor(pe,q);if(void 0===ie){var me=Object.getPrototypeOf(pe);return null===me?void 0:te(me,q,oe)}if("value"in ie)return ie.value;var we=ie.get;return void 0===we?void 0:we.call(oe)};var k=C(10),H=C(1),$=C(0).layoutBase.FDLayoutConstants,Q=C(18),ue=Q.defaults,ne=C(2),de=function(te){function pe(q){!function A(te,pe){if(!(te instanceof pe))throw new TypeError("Cannot call a class as a function")}(this,pe);var oe=function V(te,pe){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!pe||"object"!=typeof pe&&"function"!=typeof pe?te:pe}(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,ne({},ue,q)));return H.DEFAULT_NODE_SEPARATION=null!=q.nodeSeparation?q.nodeSeparation:$.DEFAULT_EDGE_LENGTH/4,H.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF=null!=q.idealInterClusterEdgeLengthCoefficient?q.idealInterClusterEdgeLengthCoefficient:1.4,H.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE=null!=q.allowNodesInsideCircle&&q.allowNodesInsideCircle,H.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=null!=q.maxRatioOfNodesInsideCircle?q.maxRatioOfNodesInsideCircle:.1,H.DEFAULT_SPRING_STRENGTH=null!=q.springCoeff?q.springCoeff:1.5*$.DEFAULT_SPRING_STRENGTH,null!=q.nodeRepulsion&&(H.DEFAULT_REPULSION_STRENGTH=$.DEFAULT_REPULSION_STRENGTH=q.nodeRepulsion),null!=q.gravity&&(H.DEFAULT_GRAVITY_STRENGTH=$.DEFAULT_GRAVITY_STRENGTH=q.gravity),null!=q.gravityRange&&(H.DEFAULT_GRAVITY_RANGE_FACTOR=$.DEFAULT_GRAVITY_RANGE_FACTOR=q.gravityRange),H.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=null!=q.maxRatioOfNodesInsideCircle?q.maxRatioOfNodesInsideCircle:.1,oe}return function L(te,pe){if("function"!=typeof pe&&null!==pe)throw new TypeError("Super expression must either be null or a function, not "+typeof pe);te.prototype=Object.create(pe&&pe.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),pe&&(Object.setPrototypeOf?Object.setPrototypeOf(te,pe):te.__proto__=pe)}(pe,te),S(pe,[{key:"prerun",value:function(){var oe=this.state,ie=[[]];null!=this.options.clusters&&(ie=this.options.clusters);var me=oe.nodes,we=oe.edges,Se=this.ciseLayout=new k,De=this.graphManager=Se.newGraphManager(),ze=this.root=De.addRoot();this.idToLNode=Se.convertToClusteredGraph(me,we,ie),ze.updateConnected(),ze.calcEstimatedSize(),Se.calcNoOfChildrenForAllNodes(),Se.doStep1(),Se.doStep2(),ze.updateBounds(!0),ze.estimatedSize=Math.max(ze.right-ze.left,ze.bottom-ze.top),Se.prepareCirclesForReversal(),Se.calcIdealEdgeLengths(!1),this.initializerIndex=0,this.isDone=!1,this.isStepDone=!1,this.timeToSwitchNextStep=!0}},{key:"tick",value:function(){var oe=this,ie=this;if(this.state.nodes.forEach(function(we){var Se=oe.getScratch(we),De=ie.idToLNode[we.data("id")];Se.x=De.getCenterX(),Se.y=De.getCenterY()}),this.timeToSwitchNextStep){switch(this.initializerIndex){case 0:case 2:this.ciseLayout.step5Init();break;case 1:this.ciseLayout.step3Init();break;case 3:this.ciseLayout.step4Init();break;case 4:this.ciseLayout.findAndMoveInnerNodes(),this.ciseLayout.calcIdealEdgeLengths(!0),this.ciseLayout.step5Init()}this.initializerIndex++,this.ciseLayout.iterations=0,this.ciseLayout.totalDisplacement=1e3,this.timeToSwitchNextStep=!1}return this.isStepDone=this.ciseLayout.runSpringEmbedderTick(),this.isStepDone&&this.initializerIndex<5&&(this.timeToSwitchNextStep=!0),this.isStepDone&&!1===this.timeToSwitchNextStep&&(this.isDone=!0),this.isDone}},{key:"postrun",value:function(){}},{key:"destroy",value:function(){return N(pe.prototype.__proto__||Object.getPrototypeOf(pe.prototype),"destroy",this).call(this),this}}]),pe}(Q);O.exports=de},function(O,I,C){"use strict";O.exports=Object.freeze({animate:!1,refresh:10,maxIterations:2500,maxSimulationTime:5e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,infinite:!1})},function(O,I,C){"use strict";var S=function(){function ae(de,te){for(var pe=0;pe<te.length;pe++){var q=te[pe];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(de,q.key,q)}}return function(de,te,pe){return te&&ae(de.prototype,te),pe&&ae(de,pe),de}}();var A=C(2),V=C(17),L=C(19),k=C(20),H=k.setInitialPositionState,$=k.refreshPositions,Q=k.getNodePositionData,ne=C(21).multitick,le=function(){function ae(de){!function N(ae,de){if(!(ae instanceof de))throw new TypeError("Cannot call a class as a function")}(this,ae);var te=this.options=A({},V,de),pe=this.state=A({},te,{layout:this,nodes:te.eles.nodes(),edges:te.eles.edges(),tickIndex:0,firstUpdate:!0});pe.animateEnd=te.animate&&"end"===te.animate,pe.animateContinuously=te.animate&&!pe.animateEnd}return S(ae,[{key:"getScratch",value:function(te){var pe=this.state.name,q=te.scratch(pe);return q||te.scratch(pe,q={}),q}},{key:"run",value:function(){var te=this,pe=this.state;if(pe.tickIndex=0,pe.firstUpdate=!0,pe.startTime=Date.now(),pe.running=!0,pe.currentBoundingBox=L(pe.boundingBox,pe.cy),pe.ready&&te.one("ready",pe.ready),pe.stop&&te.one("stop",pe.stop),pe.nodes.forEach(function(Ht){return H(Ht,pe)}),te.prerun(pe),pe.animateContinuously){var me=function(It){!function(It){Q(It,pe).grabbed=It.grabbed()}(It.target)},we=me,Se=function(It){var vn=It.target,cn=Q(vn,pe),ut=vn.position();cn.x=ut.x,cn.y=ut.y},Be=function(){pe.fit&&pe.animateContinuously&&pe.cy.fit(pe.padding)},at=function(){$(pe.nodes,pe),Be(),requestAnimationFrame(ht)},ht=function(){ne(pe,at,Ke)},Ke=function(){$(pe.nodes,pe),Be(),pe.nodes.forEach(function(It){(function(It){pe.ungrabifyWhileSimulating&&Q(It,pe).grabbable&&It.grabify()})(It),function(It){It.removeListener("grab",me),It.removeListener("free",we),It.removeListener("drag",Se)}(It)}),pe.running=!1,te.emit("layoutstop")};te.emit("layoutstart"),pe.nodes.forEach(function(Ht){var It;It=Ht,pe.ungrabifyWhileSimulating&&(Q(It,pe).grabbable=It.grabbable())&&It.ungrabify(),function(It){It.on("grab",me),It.on("free",we),It.on("drag",Se)}(Ht)}),ht()}else{for(var Ct=!1,qe=function(){},qt=function(){return Ct=!0};!Ct;)ne(pe,qe,qt);pe.eles.layoutPositions(this,pe,function(Ht){var It=Q(Ht,pe);return{x:It.x,y:It.y}})}return te.postrun(pe),this}},{key:"prerun",value:function(){}},{key:"postrun",value:function(){}},{key:"tick",value:function(){}},{key:"stop",value:function(){return this.state.running=!1,this}},{key:"destroy",value:function(){return this}}]),ae}();O.exports=le},function(O,I,C){"use strict";O.exports=function(S,N){return null==(S=null==S?{x1:0,y1:0,w:N.width(),h:N.height()}:{x1:S.x1,x2:S.x2,y1:S.y1,y2:S.y2,w:S.w,h:S.h}).x2&&(S.x2=S.x1+S.w),null==S.w&&(S.w=S.x2-S.x1),null==S.y2&&(S.y2=S.y1+S.h),null==S.h&&(S.h=S.y2-S.y1),S}},function(O,I,C){"use strict";var S=C(2);O.exports={setInitialPositionState:function(k,H){var $=k.position(),Q=H.currentBoundingBox,ue=k.scratch(H.name);null==ue&&k.scratch(H.name,ue={}),S(ue,H.randomize?{x:Q.x1+Math.round(Math.random()*Q.w),y:Q.y1+Math.round(Math.random()*Q.h)}:{x:$.x,y:$.y}),ue.locked=k.locked()},getNodePositionData:function(k,H){return k.scratch(H.name)},refreshPositions:function(k,H){k.positions(function($){var Q=$.scratch(H.name);return{x:Q.x,y:Q.y}})}}},function(O,I,C){"use strict";var S=function(){},N=function(L){var k=L,$=L.layout.tick(k);return k.firstUpdate&&(k.animateContinuously&&k.layout.emit("layoutready"),k.firstUpdate=!1),k.tickIndex++,!k.infinite&&$};O.exports={tick:N,multitick:function(L){for(var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,$=!1,Q=L,ue=0;ue<Q.refresh&&!($=!Q.running||N(Q));ue++);$?H():k()}}}]))},7944:function(Y,se,D){var T;Y.exports=(T=D(8767),function(P){var O={};function I(C){if(O[C])return O[C].exports;var S=O[C]={i:C,l:!1,exports:{}};return P[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=P,I.c=O,I.d=function(C,S,N){I.o(C,S)||Object.defineProperty(C,S,{enumerable:!0,get:N})},I.r=function(C){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},I.t=function(C,S){if(1&S&&(C=I(C)),8&S||4&S&&"object"==typeof C&&C&&C.__esModule)return C;var N=Object.create(null);if(I.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:C}),2&S&&"string"!=typeof C)for(var A in C)I.d(N,A,function(V){return C[V]}.bind(null,A));return N},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=0)}([function(P,O,I){var C=I(1),S=function(A){A&&A("layout","dagre",C)};typeof cytoscape<"u"&&S(cytoscape),P.exports=S},function(P,O,I){function C(k){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function($){return typeof $}:function($){return $&&"function"==typeof Symbol&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(k)}var S=function(H){return"function"==typeof H},N=I(2),A=I(3),V=I(4);function L(k){this.options=A({},N,k)}L.prototype.run=function(){var k=this.options,$=k.cy,Q=k.eles,ue=function(qt,Ht){return S(Ht)?Ht.apply(qt,[qt]):Ht},ne=k.boundingBox||{x1:0,y1:0,w:$.width(),h:$.height()};void 0===ne.x2&&(ne.x2=ne.x1+ne.w),void 0===ne.w&&(ne.w=ne.x2-ne.x1),void 0===ne.y2&&(ne.y2=ne.y1+ne.h),void 0===ne.h&&(ne.h=ne.y2-ne.y1);var le=new V.graphlib.Graph({multigraph:!0,compound:!0}),ae={},de=function(qt,Ht){null!=Ht&&(ae[qt]=Ht)};de("nodesep",k.nodeSep),de("edgesep",k.edgeSep),de("ranksep",k.rankSep),de("rankdir",k.rankDir),de("align",k.align),de("ranker",k.ranker),de("acyclicer",k.acyclicer),le.setGraph(ae),le.setDefaultEdgeLabel(function(){return{}}),le.setDefaultNodeLabel(function(){return{}});var te=Q.nodes();S(k.sort)&&(te=te.sort(k.sort));for(var pe=0;pe<te.length;pe++){var q=te[pe],oe=q.layoutDimensions(k);le.setNode(q.id(),{width:oe.w,height:oe.h,name:q.id()})}for(var ie=0;ie<te.length;ie++){var me=te[ie];me.isChild()&&le.setParent(me.id(),me.parent().id())}var Ke,we=Q.edges().stdFilter(function(qe){return!qe.source().isParent()&&!qe.target().isParent()});S(k.sort)&&(we=we.sort(k.sort));for(var Se=0;Se<we.length;Se++){var De=we[Se];le.setEdge(De.source().id(),De.target().id(),{minlen:ue(De,k.minLen),weight:ue(De,k.edgeWeight),name:De.id()},De.id())}V.layout(le);for(var ze=le.nodes(),Be=0;Be<ze.length;Be++){var at=ze[Be],ht=le.node(at);$.getElementById(at).scratch().dagre=ht}k.boundingBox?(Ke={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},te.forEach(function(qe){var qt=qe.scratch().dagre;Ke.x1=Math.min(Ke.x1,qt.x),Ke.x2=Math.max(Ke.x2,qt.x),Ke.y1=Math.min(Ke.y1,qt.y),Ke.y2=Math.max(Ke.y2,qt.y)}),Ke.w=Ke.x2-Ke.x1,Ke.h=Ke.y2-Ke.y1):Ke=ne;return te.layoutPositions(this,k,function(qe){var qt=(qe="object"===C(qe)?qe:this).scratch().dagre;return function(qt){return k.boundingBox?{x:ne.x1+(0===Ke.w?0:(qt.x-Ke.x1)/Ke.w)*ne.w,y:ne.y1+(0===Ke.h?0:(qt.y-Ke.y1)/Ke.h)*ne.h}:qt}({x:qt.x,y:qt.y})}),this},P.exports=L},function(P,O){P.exports={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(S){return 1},edgeWeight:function(S){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(S,N){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(S,N){return N},ready:function(){},sort:void 0,stop:function(){}}},function(P,O){P.exports=null!=Object.assign?Object.assign.bind(Object):function(I){for(var C=arguments.length,S=new Array(C>1?C-1:0),N=1;N<C;N++)S[N-1]=arguments[N];return S.forEach(function(A){Object.keys(A).forEach(function(V){return I[V]=A[V]})}),I}},function(P,O){P.exports=T}]))},3848:function(Y,se,D){var T;Y.exports=(T=D(7925),function(P){var O={};function I(C){if(O[C])return O[C].exports;var S=O[C]={i:C,l:!1,exports:{}};return P[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=P,I.c=O,I.i=function(C){return C},I.d=function(C,S,N){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:N})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=7)}([function(P,O,I){"use strict";P.exports=null!=Object.assign?Object.assign.bind(Object):function(C){for(var S=arguments.length,N=Array(S>1?S-1:0),A=1;A<S;A++)N[A-1]=arguments[A];return N.forEach(function(V){null!=V&&Object.keys(V).forEach(function(L){return C[L]=V[L]})}),C}},function(P,O,I){"use strict";var S=I(5).getBoundingBox;P.exports={getRef:function N(A,V){return{getBoundingClientRect:function(){return S(A,V)}}}}},function(P,O,I){"use strict";var C=I(0),N=I(1).getRef,V=I(6).getContent,L={},H=I(8).createPopper;P.exports={getPopper:function $(Q,ue){var ne=N(Q,ue),le=V(Q,ue.content),ae=C({},L,ue.popper);return H(ne,le,ae)}}},function(P,O,I){"use strict";var C=I(0),N=I(2).getPopper,V=I(1).getRef;function H(ne,le){var ae=function(ie){return ie.isNode()?{w:ie.renderedWidth(),h:ie.renderedHeight()}:{w:3,h:3}},pe=ne.cy();return C({},{renderedDimensions:ae,renderedPosition:function(ie){return ie.isNode()?function $(ne,le){var ae=ne.renderedPosition(),de=le(ne);return{x:ae.x-de.w/2,y:ae.y-de.h/2}}(ie,ae):function Q(ne){var le=ne.midpoint(),ae=ne.cy().pan(),de=ne.cy().zoom();return{x:le.x*de+ae.x,y:le.y*de+ae.y}}(ie)},popper:{},cy:pe},le)}function ue(ne){ne.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}P.exports={popper:function L(ne){return ue(this),N(this[0],H(this[0],ne))},popperRef:function k(ne){return ue(this),V(this[0],H(this[0],ne))}}},function(P,O,I){"use strict";var C=I(0),N=I(2).getPopper,V=I(1).getRef;function H($,Q){return C({},{boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},renderedPosition:function(){return{x:0,y:0}},popper:{},cy:$},Q)}P.exports={popper:function L($){return N(this,H(this,$))},popperRef:function k($){return V(this,H(this,$))}}},function(P,O,I){"use strict";P.exports={getBoundingBox:function C(S,N){var A=N.renderedPosition,L=N.renderedDimensions,k=N.cy.container().getBoundingClientRect(),H=L(S),$=A(S);return{top:$.y+k.top,left:$.x+k.left,right:$.x+H.w+k.left,bottom:$.y+H.h+k.top,width:H.w,height:H.h}}}},function(P,O,I){"use strict";P.exports={getContent:function C(S,N){var A;if("function"!=typeof N){if(N instanceof HTMLElement)return N;throw new Error("Can not create popper from 'target' with unknown type")}if(null===(A=N(S)))throw new Error("No 'target' specified to create popper");return A}}},function(P,O,I){"use strict";var C=I(4),S=I(3),N=function(V){V&&(V("core","popper",C.popper),V("collection","popper",S.popper),V("core","popperRef",C.popperRef),V("collection","popperRef",S.popperRef))};typeof cytoscape<"u"&&N(cytoscape),P.exports=N},function(P,O){P.exports=T}]))},6100:(Y,se,D)=>{"use strict";var T=D(4430),P=D(7444),O=D(5440),I=D(7939),C=D(9078);function S(u){return u&&"object"==typeof u&&"default"in u?u:{default:u}}var N=S(T),A=S(P),V=S(O),L=S(I),k=S(C);function H(u){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(u)}function $(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function Q(u,o){for(var l=0;l<o.length;l++){var f=o[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}function ue(u,o,l){return o&&Q(u.prototype,o),l&&Q(u,l),Object.defineProperty(u,"prototype",{writable:!1}),u}function ne(u,o,l){return o in u?Object.defineProperty(u,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):u[o]=l,u}function le(u,o){return function ae(u){if(Array.isArray(u))return u}(u)||function de(u,o){var l=null==u?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(null!=l){var g,_,f=[],h=!0,p=!1;try{for(l=l.call(u);!(h=(g=l.next()).done)&&(f.push(g.value),!o||f.length!==o);h=!0);}catch(E){p=!0,_=E}finally{try{!h&&null!=l.return&&l.return()}finally{if(p)throw _}}return f}}(u,o)||function te(u,o){if(u){if("string"==typeof u)return pe(u,o);var l=Object.prototype.toString.call(u).slice(8,-1);if("Object"===l&&u.constructor&&(l=u.constructor.name),"Map"===l||"Set"===l)return Array.from(u);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return pe(u,o)}}(u,o)||function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(u,o){(null==o||o>u.length)&&(o=u.length);for(var l=0,f=new Array(o);l<o;l++)f[l]=u[l];return f}var oe=typeof window>"u"?null:window,ie=oe?oe.navigator:null,me=H(""),we=H({}),Se=H(function(){}),De=typeof HTMLElement>"u"?"undefined":H(HTMLElement),ze=function(o){return o&&o.instanceString&&at(o.instanceString)?o.instanceString():null},Be=function(o){return null!=o&&H(o)==me},at=function(o){return null!=o&&H(o)===Se},ht=function(o){return!It(o)&&(Array.isArray?Array.isArray(o):null!=o&&o instanceof Array)},Ke=function(o){return null!=o&&H(o)===we&&!ht(o)&&o.constructor===Object},qe=function(o){return null!=o&&H(o)===H(1)&&!isNaN(o)},Ht=function(o){if("undefined"!==De)return null!=o&&o instanceof HTMLElement},It=function(o){return vn(o)||cn(o)},vn=function(o){return"collection"===ze(o)&&o._private.single},cn=function(o){return"collection"===ze(o)&&!o._private.single},ut=function(o){return"core"===ze(o)},it=function(o){return"stylesheet"===ze(o)},Ft=function(o){return null==o||!(""!==o&&!o.match(/^\s+$/))},Jn=function(o){return function(o){return null!=o&&H(o)===we}(o)&&at(o.then)},kr=function(o,l){l||(l=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var p=[],g=0;g<arguments.length;g++)p.push(arguments[g]);return p.join("$")});var f=function h(){var _,g=arguments,E=l.apply(this,g),x=h.cache;return(_=x[E])||(_=x[E]=o.apply(this,g)),_};return f.cache={},f},Cr=kr(function(u){return u.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}),_n=kr(function(u){return u.replace(/(-\w)/g,function(o){return o[1].toUpperCase()})}),Hn=kr(function(u,o){return u+o[0].toUpperCase()+o.substring(1)},function(u,o){return u+"$"+o}),Xr=function(o){return Ft(o)?o:o.charAt(0).toUpperCase()+o.substring(1)},dn="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Ri="rgb[a]?\\(("+dn+"[%]?)\\s*,\\s*("+dn+"[%]?)\\s*,\\s*("+dn+"[%]?)(?:\\s*,\\s*("+dn+"))?\\)",ro="rgb[a]?\\((?:"+dn+"[%]?)\\s*,\\s*(?:"+dn+"[%]?)\\s*,\\s*(?:"+dn+"[%]?)(?:\\s*,\\s*(?:"+dn+"))?\\)",Fi="hsl[a]?\\(("+dn+")\\s*,\\s*("+dn+"[%])\\s*,\\s*("+dn+"[%])(?:\\s*,\\s*("+dn+"))?\\)",Bi="hsl[a]?\\((?:"+dn+")\\s*,\\s*(?:"+dn+"[%])\\s*,\\s*(?:"+dn+"[%])(?:\\s*,\\s*(?:"+dn+"))?\\)",ja=function(o,l){return o<l?-1:o>l?1:0},Nn=null!=Object.assign?Object.assign.bind(Object):function(u){for(var o=arguments,l=1;l<o.length;l++){var f=o[l];if(null!=f)for(var h=Object.keys(f),p=0;p<h.length;p++){var g=h[p];u[g]=f[g]}}return u},Ms={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Cn=function(o){for(var l=o.map,f=o.keys,h=f.length,p=0;p<h;p++){var g=f[p];if(Ke(g))throw Error("Tried to set map with object key");p<f.length-1?(null==l[g]&&(l[g]={}),l=l[g]):l[g]=o.value}},va=function(o){for(var l=o.map,f=o.keys,h=f.length,p=0;p<h;p++){var g=f[p];if(Ke(g))throw Error("Tried to get map with object key");if(null==(l=l[g]))return l}return l},go=oe?oe.performance:null,pi=go&&go.now?function(){return go.now()}:function(){return Date.now()},qi=function(){if(oe){if(oe.requestAnimationFrame)return function(u){oe.requestAnimationFrame(u)};if(oe.mozRequestAnimationFrame)return function(u){oe.mozRequestAnimationFrame(u)};if(oe.webkitRequestAnimationFrame)return function(u){oe.webkitRequestAnimationFrame(u)};if(oe.msRequestAnimationFrame)return function(u){oe.msRequestAnimationFrame(u)}}return function(u){u&&setTimeout(function(){u(pi())},1e3/60)}}(),mu=function(o){return qi(o)},Ti=pi,Ma=9261,Ks=5381,Jc=function(o){for(var h,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma;!(h=o.next()).done;)f=65599*f+h.value|0;return f},Ia=function(o){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma)+o|0},qs=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ks;return(l<<5)+l+o|0},as=function(o){return 2097152*o[0]+o[1]},Aa=function(o,l){return[Ia(o[0],l[0]),qs(o[1],l[1])]},ss=function(o,l){var f={value:0,done:!1},h=0,p=o.length;return Jc({next:function(){return h<p?f.value=o.charCodeAt(h++):f.done=!0,f}},l)},td=function(){return vu(arguments)},vu=function(o){for(var l,f=0;f<o.length;f++){var h=o[f];l=0===f?ss(h):ss(h,l)}return l},ec=!0,No=null!=console.warn,nd=null!=console.trace,tc=Number.MAX_SAFE_INTEGER||9007199254740991,nc=function(){return!0},Is=function(){return!1},rc=function(){return 0},rd=function(){},ri=function(o){throw new Error(o)},Oa=function(o){if(void 0===o)return ec;ec=!!o},Tr=function(o){Oa()&&(No?console.warn(o):(console.log(o),nd&&console.trace()))},ki=function(o){return null==o?o:ht(o)?o.slice():Ke(o)?function(o){return Nn({},o)}(o):o},ff=function(o,l){for(l=o="";o++<36;l+=51*o&52?(15^o?8^Math.random()*(20^o?16:4):4).toString(16):"-");return l},Pi={},xn=function(){return Pi},li=function(o){var l=Object.keys(o);return function(f){for(var h={},p=0;p<l.length;p++){var g=l[p],_=f?.[g];h[g]=void 0===_?o[g]:_}return h}},$a=function(o,l,f){for(var h=o.length-1;h>=0&&(o[h]!==l||(o.splice(h,1),!f));h--);},Ro=function(o){o.splice(0,o.length)},Qi=function(o,l,f){return f&&(l=Hn(f,l)),o[l]},ko=function(o,l,f,h){f&&(l=Hn(f,l)),o[l]=h},Tt=typeof Map<"u"?Map:function(){function u(){$(this,u),this._obj={}}return ue(u,[{key:"set",value:function(l,f){return this._obj[l]=f,this}},{key:"delete",value:function(l){return this._obj[l]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(l){return void 0!==this._obj[l]}},{key:"get",value:function(l){return this._obj[l]}}]),u}(),od=function(){function u(o){if($(this,u),this._obj=Object.create(null),this.size=0,null!=o){var l;l=null!=o.instanceString&&o.instanceString()===this.instanceString()?o.toArray():o;for(var f=0;f<l.length;f++)this.add(l[f])}}return ue(u,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(l){var f=this._obj;1!==f[l]&&(f[l]=1,this.size++)}},{key:"delete",value:function(l){var f=this._obj;1===f[l]&&(f[l]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(l){return 1===this._obj[l]}},{key:"toArray",value:function(){var l=this;return Object.keys(this._obj).filter(function(f){return l.has(f)})}},{key:"forEach",value:function(l,f){return this.toArray().forEach(l,f)}}]),u}(),As="undefined"!==(typeof Set>"u"?"undefined":H(Set))?Set:od,Oe=function(o,l){var f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==o&&void 0!==l&&ut(o)){var h=l.group;if(null==h&&(h=l.data&&null!=l.data.source&&null!=l.data.target?"edges":"nodes"),"nodes"===h||"edges"===h){this.length=1,this[0]=this;var p=this._private={cy:o,single:!0,data:l.data||{},position:l.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:h,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!l.selected,selectable:void 0===l.selectable||!!l.selectable,locked:!!l.locked,grabbed:!1,grabbable:void 0===l.grabbable||!!l.grabbable,pannable:void 0===l.pannable?"edges"===h:!!l.pannable,active:!1,classes:new As,animation:{current:[],queue:[]},rscratch:{},scratch:l.scratch||{},edges:[],children:[],parent:l.parent&&l.parent.isNode()?l.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==p.position.x&&(p.position.x=0),null==p.position.y&&(p.position.y=0),l.renderedPosition){var g=l.renderedPosition,_=o.pan(),E=o.zoom();p.position={x:(g.x-_.x)/E,y:(g.y-_.y)/E}}var x=[];ht(l.classes)?x=l.classes:Be(l.classes)&&(x=l.classes.split(/\s+/));for(var M=0,F=x.length;M<F;M++){var U=x[M];!U||""===U||p.classes.add(U)}this.createEmitter();var W=l.style||l.css;W&&(Tr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(W)),(void 0===f||f)&&this.restore()}else ri("An element must be of type `nodes` or `edges`; you specified `"+h+"`")}else ri("An element must have a core reference and parameters set")},Re=function(o){return o={bfs:o.bfs||!o.dfs,dfs:o.dfs||!o.bfs},function(f,h,p){var g;Ke(f)&&!It(f)&&(f=(g=f).roots||g.root,h=g.visit,p=g.directed),p=2!==arguments.length||at(h)?p:h,h=at(h)?h:function(){};for(var Z,_=this._private.cy,E=f=Be(f)?this.filter(f):f,x=[],M=[],F={},U={},W={},j=0,J=this.byGroup(),re=J.nodes,fe=J.edges,he=0;he<E.length;he++){var ye=E[he],Me=ye.id();ye.isNode()&&(x.unshift(ye),o.bfs&&(W[Me]=!0,M.push(ye)),U[Me]=0)}for(var Ae=function(){var He=o.bfs?x.shift():x.pop(),Ne=He.id();if(o.dfs){if(W[Ne])return"continue";W[Ne]=!0,M.push(He)}var yt,Je=U[Ne],Ue=F[Ne],Ge=null!=Ue?Ue.source():null,ot=null!=Ue?Ue.target():null,dt=null==Ue?void 0:He.same(Ge)?ot[0]:Ge[0];if(!0===(yt=h(He,Ue,dt,j++,Je)))return Z=He,"break";if(!1===yt)return"break";for(var st=He.connectedEdges().filter(function(wt){return(!p||wt.source().same(He))&&fe.has(wt)}),vt=0;vt<st.length;vt++){var At=st[vt],Ot=At.connectedNodes().filter(function(wt){return!wt.same(He)&&re.has(wt)}),Dt=Ot.id();0!==Ot.length&&!W[Dt]&&(x.push(Ot=Ot[0]),o.bfs&&(W[Dt]=!0,M.push(Ot)),F[Dt]=At,U[Dt]=U[Ne]+1)}};0!==x.length;){var be=Ae();if("continue"!==be&&"break"===be)break}for(var Te=_.collection(),_e=0;_e<M.length;_e++){var ke=M[_e],Pe=F[ke.id()];null!=Pe&&Te.push(Pe),Te.push(ke)}return{path:_.collection(Te),found:_.collection(Z)}}},Ve={breadthFirstSearch:Re({bfs:!0}),depthFirstSearch:Re({dfs:!0})};Ve.bfs=Ve.breadthFirstSearch,Ve.dfs=Ve.depthFirstSearch;var rt=li({root:null,weight:function(o){return 1},directed:!1}),tt={dijkstra:function(o){if(!Ke(o)){var l=arguments;o={root:l[0],weight:l[1],directed:l[2]}}var Ue,Ge,f=rt(o),h=f.root,g=f.directed,_=this,E=f.weight,x=Be(h)?this.filter(h)[0]:h[0],M={},F={},U={},W=this.byGroup(),j=W.nodes,Z=W.edges;Z.unmergeBy(function(Je){return Je.isLoop()});for(var J=function(Ue){return M[Ue.id()]},fe=new A.default(function(Je,Ue){return J(Je)-J(Ue)}),he=0;he<j.length;he++){var ye=j[he];M[ye.id()]=ye.same(x)?0:1/0,fe.push(ye)}for(var Me=function(Ue,Ge){for(var yt,ot=(g?Ue.edgesTo(Ge):Ue.edgesWith(Ge)).intersect(Z),dt=1/0,st=0;st<ot.length;st++){var vt=ot[st],At=E(vt);(At<dt||!yt)&&(dt=At,yt=vt)}return{edge:yt,dist:dt}};fe.size()>0;){var Ae=fe.pop(),be=J(Ae),Te=Ae.id();if(U[Te]=be,be!==1/0)for(var _e=Ae.neighborhood().intersect(j),ke=0;ke<_e.length;ke++){var Pe=_e[ke],xe=Pe.id(),He=Me(Ae,Pe),Ne=be+He.dist;Ne<J(Pe)&&(Ge=Ne,M[(Ue=Pe).id()]=Ge,fe.updateItem(Ue),F[xe]={node:Ae,edge:He.edge})}}return{distanceTo:function(Ue){var Ge=Be(Ue)?j.filter(Ue)[0]:Ue[0];return U[Ge.id()]},pathTo:function(Ue){var Ge=Be(Ue)?j.filter(Ue)[0]:Ue[0],ot=[],dt=Ge,yt=dt.id();if(Ge.length>0)for(ot.unshift(Ge);F[yt];){var st=F[yt];ot.unshift(st.edge),ot.unshift(st.node),yt=(dt=st.node).id()}return _.spawn(ot)}}}},Zt={kruskal:function(o){o=o||function(he){return 1};for(var l=this.byGroup(),f=l.nodes,h=l.edges,p=f.length,g=new Array(p),_=f,E=function(ye){for(var Me=0;Me<g.length;Me++)if(g[Me].has(ye))return Me},x=0;x<p;x++)g[x]=this.spawn(f[x]);for(var M=h.sort(function(he,ye){return o(he)-o(ye)}),F=0;F<M.length;F++){var U=M[F],W=U.source()[0],j=U.target()[0],Z=E(W),J=E(j),re=g[Z],fe=g[J];Z!==J&&(_.merge(U),re.merge(fe),g.splice(J,1))}return _}},mn=li({root:null,goal:null,weight:function(o){return 1},heuristic:function(o){return 0},directed:!1}),Vt={aStar:function(o){var l=this.cy(),f=mn(o),h=f.root,p=f.goal,g=f.heuristic,_=f.directed,E=f.weight;h=l.collection(h)[0],p=l.collection(p)[0];var he,ye,x=h.id(),M=p.id(),F={},U={},W={},j=new A.default(function(yt,st){return U[yt.id()]-U[st.id()]}),Z=new As,J={},re={},fe=function(st,vt){j.push(st),Z.add(vt)};fe(h,x),F[x]=0,U[x]=g(h);for(var be=0;j.size()>0;){if(ye=(he=j.pop()).id(),Z.delete(ye),be++,ye===M){for(var Te=[],_e=p,ke=M,Pe=re[ke];Te.unshift(_e),null!=Pe&&Te.unshift(Pe),null!=(_e=J[ke]);)Pe=re[ke=_e.id()];return{found:!0,distance:F[ye],path:this.spawn(Te),steps:be}}W[ye]=!0;for(var xe=he._private.edges,He=0;He<xe.length;He++){var Ne=xe[He];if(this.hasElementWithId(Ne.id())&&(!_||Ne.data("source")===ye)){var Je=Ne.source(),Ue=Ne.target(),Ge=Je.id()!==ye?Je:Ue,ot=Ge.id();if(this.hasElementWithId(ot)&&!W[ot]){var dt=F[ye]+E(Ne);if(!Z.has(ot)){F[ot]=dt,U[ot]=dt+g(Ge),fe(Ge,ot),J[ot]=he,re[ot]=Ne;continue}dt<F[ot]&&(F[ot]=dt,U[ot]=dt+g(Ge),J[ot]=he,re[ot]=Ne)}}}}return{found:!1,distance:void 0,path:void 0,steps:be}}},en=li({weight:function(o){return 1},directed:!1}),Un={floydWarshall:function(o){for(var l=this.cy(),f=en(o),p=f.directed,g=f.weight,_=this.byGroup(),E=_.nodes,x=_.edges,M=E.length,F=M*M,U=function(At){return E.indexOf(At)},W=function(At){return E[At]},j=new Array(F),Z=0;Z<F;Z++){var J=Z%M;j[Z]=(Z-J)/M===J?0:1/0}for(var fe=new Array(F),he=new Array(F),ye=0;ye<x.length;ye++){var Me=x[ye],Ae=Me.source()[0],be=Me.target()[0];if(Ae!==be){var Te=U(Ae),_e=U(be),ke=Te*M+_e,Pe=g(Me);if(j[ke]>Pe&&(j[ke]=Pe,fe[ke]=_e,he[ke]=Me),!p){var xe=_e*M+Te;!p&&j[xe]>Pe&&(j[xe]=Pe,fe[xe]=Te,he[xe]=Me)}}}for(var He=0;He<M;He++)for(var Ne=0;Ne<M;Ne++)for(var Je=Ne*M+He,Ue=0;Ue<M;Ue++){var Ge=Ne*M+Ue,ot=He*M+Ue;j[Je]+j[ot]<j[Ge]&&(j[Ge]=j[Je]+j[ot],fe[Ge]=fe[Je])}var yt=function(At){return U(function(At){return(Be(At)?l.filter(At):At)[0]}(At))};return{distance:function(At,Ot){var Dt=yt(At),wt=yt(Ot);return j[Dt*M+wt]},path:function(At,Ot){var Dt=yt(At),wt=yt(Ot),nt=W(Dt);if(Dt===wt)return nt.collection();if(null==fe[Dt*M+wt])return l.collection();var Mt=l.collection();for(Mt.merge(nt);Dt!==wt;)Mt.merge(he[Dt*M+(Dt=fe[Dt*M+wt])]),Mt.merge(W(Dt));return Mt}}}},Bt=li({weight:function(o){return 1},directed:!1,root:null}),Ar={bellmanFord:function(o){var l=this,f=Bt(o),p=f.directed,g=f.root,_=f.weight,E=this,x=this.cy(),M=this.byGroup(),F=M.edges,U=M.nodes,W=U.length,j=new Tt,Z=!1,J=[];g=x.collection(g)[0],F.unmergeBy(function(Sn){return Sn.isLoop()});for(var re=F.length,fe=function(un){var Rn=j.get(un.id());return Rn||(Rn={},j.set(un.id(),Rn)),Rn},he=function(un){return(Be(un)?x.$(un):un)[0]},Ae=0;Ae<W;Ae++){var be=U[Ae],Te=fe(be);Te.dist=be.same(g)?0:1/0,Te.pred=null,Te.edge=null}for(var _e=!1,ke=function(un,Rn,Or,hr,$n,zt){var Ce=hr.dist+zt;Ce<$n.dist&&!Or.same(hr.edge)&&($n.dist=Ce,$n.pred=un,$n.edge=Or,_e=!0)},Pe=1;Pe<W;Pe++){_e=!1;for(var xe=0;xe<re;xe++){var He=F[xe],Ne=He.source(),Je=He.target(),Ue=_(He),Ge=fe(Ne),ot=fe(Je);ke(Ne,0,He,Ge,ot,Ue),p||ke(Je,0,He,ot,Ge,Ue)}if(!_e)break}if(_e)for(var dt=[],yt=0;yt<re;yt++){var st=F[yt],vt=st.source(),At=st.target(),Ot=_(st),Dt=fe(vt).dist,wt=fe(At).dist;if(Dt+Ot<wt||!p&&wt+Ot<Dt){if(Z||(Tr("Graph contains a negative weight cycle for Bellman-Ford"),Z=!0),!1===o.findNegativeWeightCycles)break;var nt=[];Dt+Ot<wt&&nt.push(vt),!p&&wt+Ot<Dt&&nt.push(At);for(var Mt=nt.length,Nt=0;Nt<Mt;Nt++){var Wt=nt[Nt],rn=[Wt];rn.push(fe(Wt).edge);for(var Xn=fe(Wt).pred;-1===rn.indexOf(Xn);)rn.push(Xn),rn.push(fe(Xn).edge),Xn=fe(Xn).pred;for(var ar=(rn=rn.slice(rn.indexOf(Xn)))[0].id(),sn=0,Jt=2;Jt<rn.length;Jt+=2)rn[Jt].id()<ar&&(ar=rn[Jt].id(),sn=Jt);(rn=rn.slice(sn).concat(rn.slice(0,sn))).push(rn[0]);var Pn=rn.map(function(Sn){return Sn.id()}).join(",");-1===dt.indexOf(Pn)&&(J.push(E.spawn(rn)),dt.push(Pn))}}}return{distanceTo:function(un){return fe(he(un)).dist},pathTo:function(un){for(var Rn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,hr=[],$n=he(un);;){if(null==$n)return l.spawn();var zt=fe($n),Ce=zt.edge,ft=zt.pred;if(hr.unshift($n[0]),$n.same(Rn)&&hr.length>0)break;null!=Ce&&hr.unshift(Ce),$n=ft}return E.spawn(hr)},hasNegativeWeightCycle:Z,negativeWeightCycles:J}}},er=Math.sqrt(2),or=function(o,l,f){0===f.length&&ri("Karger-Stein must be run on a connected (sub)graph");for(var h=f[o],_=l[h[1]],E=l[h[2]],x=f,M=x.length-1;M>=0;M--){var F=x[M],U=F[1],W=F[2];(l[U]===_&&l[W]===E||l[U]===E&&l[W]===_)&&x.splice(M,1)}for(var j=0;j<x.length;j++){var Z=x[j];Z[1]===E?(x[j]=Z.slice(),x[j][1]=_):Z[2]===E&&(x[j]=Z.slice(),x[j][2]=_)}for(var J=0;J<l.length;J++)l[J]===E&&(l[J]=_);return x},ii=function(o,l,f,h){for(;f>h;){var p=Math.floor(Math.random()*l.length);l=or(p,o,l),f--}return l},An={kargerStein:function(){var o=this,l=this.byGroup(),f=l.nodes,h=l.edges;h.unmergeBy(function(ot){return ot.isLoop()});var p=f.length,g=h.length,_=Math.ceil(Math.pow(Math.log(p)/Math.LN2,2)),E=Math.floor(p/er);if(!(p<2)){for(var x=[],M=0;M<g;M++){var F=h[M];x.push([M,f.indexOf(F.source()),f.indexOf(F.target())])}for(var U=1/0,W=[],j=new Array(p),Z=new Array(p),J=new Array(p),re=function(dt,yt){for(var st=0;st<p;st++)yt[st]=dt[st]},fe=0;fe<=_;fe++){for(var he=0;he<p;he++)Z[he]=he;var ye=ii(Z,x.slice(),p,E),Me=ye.slice();re(Z,J);var Ae=ii(Z,ye,E,2),be=ii(J,Me,E,2);Ae.length<=be.length&&Ae.length<U?(U=Ae.length,W=Ae,re(Z,j)):be.length<=Ae.length&&be.length<U&&(U=be.length,W=be,re(J,j))}for(var Te=this.spawn(W.map(function(ot){return h[ot[0]]})),_e=this.spawn(),ke=this.spawn(),Pe=j[0],xe=0;xe<j.length;xe++){var Ne=f[xe];j[xe]===Pe?_e.merge(Ne):ke.merge(Ne)}var Je=function(dt){var yt=o.spawn();return dt.forEach(function(st){yt.merge(st),st.connectedEdges().forEach(function(vt){o.contains(vt)&&!Te.contains(vt)&&yt.merge(vt)})}),yt},Ue=[Je(_e),Je(ke)];return{cut:Te,components:Ue,partition1:_e,partition2:ke}}ri("At least 2 nodes are required for Karger-Stein algorithm")}},Lr=function(o,l,f){return{x:o.x*l+f.x,y:o.y*l+f.y}},gi=function(o,l,f){return{x:(o.x-f.x)/l,y:(o.y-f.y)/l}},ui=function(o){return{x:o[0],y:o[1]}},ci=function(o,l){return Math.atan2(l,o)-Math.PI/2},Hi=Math.log2||function(u){return Math.log(u)/Math.log(2)},mo=function(o){return o>0?1:o<0?-1:0},zi=function(o,l){return Math.sqrt(Nr(o,l))},Nr=function(o,l){var f=l.x-o.x,h=l.y-o.y;return f*f+h*h},Zs=function(o){for(var l=o.length,f=0,h=0;h<l;h++)f+=o[h];for(var p=0;p<l;p++)o[p]=o[p]/f;return o},di=function(o,l,f,h){return(1-h)*(1-h)*o+2*(1-h)*h*l+h*h*f},vo=function(o,l,f,h){return{x:di(o.x,l.x,f.x,h),y:di(o.y,l.y,f.y,h)}},Qs=function(o,l,f){return Math.max(o,Math.min(f,l))},Mi=function(o){if(null==o)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=o.x1&&null!=o.y1){if(null!=o.x2&&null!=o.y2&&o.x2>=o.x1&&o.y2>=o.y1)return{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,w:o.x2-o.x1,h:o.y2-o.y1};if(null!=o.w&&null!=o.h&&o.w>=0&&o.h>=0)return{x1:o.x1,y1:o.y1,x2:o.x1+o.w,y2:o.y1+o.h,w:o.w,h:o.h}}},zl=function(o,l){o.x1=Math.min(o.x1,l.x1),o.x2=Math.max(o.x2,l.x2),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,l.y1),o.y2=Math.max(o.y2,l.y2),o.h=o.y2-o.y1},oc=function(o,l,f){o.x1=Math.min(o.x1,l),o.x2=Math.max(o.x2,l),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,f),o.y2=Math.max(o.y2,f),o.h=o.y2-o.y1},Na=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.x1-=l,o.x2+=l,o.y1-=l,o.y2+=l,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},Os=function(o){var f,h,p,g,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===l.length)f=h=p=g=l[0];else if(2===l.length)f=p=l[0],g=h=l[1];else if(4===l.length){var _=le(l,4);f=_[0],h=_[1],p=_[2],g=_[3]}return o.x1-=g,o.x2+=h,o.y1-=f,o.y2+=p,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},io=function(o,l){o.x1=l.x1,o.y1=l.y1,o.x2=l.x2,o.y2=l.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1},tr=function(o,l){return!(o.x1>l.x2||l.x1>o.x2||o.x2<l.x1||l.x2<o.x1||o.y2<l.y1||l.y2<o.y1||o.y1>l.y2||l.y1>o.y2)},Ya=function(o,l,f){return o.x1<=l&&l<=o.x2&&o.y1<=f&&f<=o.y2},hf=function(o,l){return Ya(o,l.x,l.y)},ad=function(o,l){return Ya(o,l.x1,l.y1)&&Ya(o,l.x2,l.y2)},an=function(o,l,f,h,p,g,_){var F,E=_u(p,g),x=p/2,M=g/2,W=h-M-_;if((F=ls(o,l,f,h,f-x+E-_,W,f+x-E+_,W,!1)).length>0)return F;var J=f+x+_;if((F=ls(o,l,f,h,J,h-M+E-_,J,h+M-E+_,!1)).length>0)return F;var Me=h+M+_;if((F=ls(o,l,f,h,f-x+E-_,Me,f+x-E+_,Me,!1)).length>0)return F;var xe,Te=f-x-_;if((F=ls(o,l,f,h,Te,h-M+E-_,Te,h+M-E+_,!1)).length>0)return F;var He=f-x+E,Ne=h-M+E;if((xe=pl(o,l,f,h,He,Ne,E+_)).length>0&&xe[0]<=He&&xe[1]<=Ne)return[xe[0],xe[1]];var Je=f+x-E,Ue=h-M+E;if((xe=pl(o,l,f,h,Je,Ue,E+_)).length>0&&xe[0]>=Je&&xe[1]<=Ue)return[xe[0],xe[1]];var Ge=f+x-E,ot=h+M-E;if((xe=pl(o,l,f,h,Ge,ot,E+_)).length>0&&xe[0]>=Ge&&xe[1]>=ot)return[xe[0],xe[1]];var dt=f-x+E,yt=h+M-E;return(xe=pl(o,l,f,h,dt,yt,E+_)).length>0&&xe[0]<=dt&&xe[1]>=yt?[xe[0],xe[1]]:[]},fl=function(o,l,f,h,p,g,_){var E=_,x=Math.min(f,p),M=Math.max(f,p),F=Math.min(h,g),U=Math.max(h,g);return x-E<=o&&o<=M+E&&F-E<=l&&l<=U+E},Jr=function(o,l,f,h,p,g,_,E,x){var M_x1=Math.min(f,_,p)-x,M_x2=Math.max(f,_,p)+x,M_y1=Math.min(h,E,g)-x,M_y2=Math.max(h,E,g)+x;return!(o<M_x1||o>M_x2||l<M_y1||l>M_y2)},yu=function(o,l,f,h,p,g,_,E){var W=[];!function(o,l,f,h,p){var _,E,x,M,F,U,W,j;0===o&&(o=1e-5),x=-27*(h/=o)+(l/=o)*(9*(f/=o)-l*l*2),_=(E=(3*f-l*l)/9)*E*E+(x/=54)*x,p[1]=0,W=l/3,_>0?(F=(F=x+Math.sqrt(_))<0?-Math.pow(-F,1/3):Math.pow(F,1/3),U=(U=x-Math.sqrt(_))<0?-Math.pow(-U,1/3):Math.pow(U,1/3),p[0]=-W+F+U,p[4]=p[2]=-(W+=(F+U)/2),W=Math.sqrt(3)*(-U+F)/2,p[3]=W,p[5]=-W):(p[5]=p[3]=0,0===_?(j=x<0?-Math.pow(-x,1/3):Math.pow(x,1/3),p[0]=2*j-W,p[4]=p[2]=-(j+W)):(M=(E=-E)*E*E,M=Math.acos(x/Math.sqrt(M)),j=2*Math.sqrt(E),p[0]=-W+j*Math.cos(M/3),p[2]=-W+j*Math.cos((M+2*Math.PI)/3),p[4]=-W+j*Math.cos((M+4*Math.PI)/3)))}(1*f*f-4*f*p+2*f*_+4*p*p-4*p*_+_*_+h*h-4*h*g+2*h*E+4*g*g-4*g*E+E*E,9*f*p-3*f*f-3*f*_-6*p*p+3*p*_+9*h*g-3*h*h-3*h*E-6*g*g+3*g*E,3*f*f-6*f*p+f*_-f*o+2*p*p+2*p*o-_*o+3*h*h-6*h*g+h*E-h*l+2*g*g+2*g*l-E*l,1*f*p-f*f+f*o-p*o+h*g-h*h+h*l-g*l,W);for(var Z=[],J=0;J<6;J+=2)Math.abs(W[J+1])<1e-7&&W[J]>=0&&W[J]<=1&&Z.push(W[J]);Z.push(1),Z.push(0);for(var fe,he,ye,re=-1,Me=0;Me<Z.length;Me++)fe=Math.pow(1-Z[Me],2)*f+2*(1-Z[Me])*Z[Me]*p+Z[Me]*Z[Me]*_,he=Math.pow(1-Z[Me],2)*h+2*(1-Z[Me])*Z[Me]*g+Z[Me]*Z[Me]*E,ye=Math.pow(fe-o,2)+Math.pow(he-l,2),re>=0?ye<re&&(re=ye):re=ye;return re},hl=function(o,l,f,h,p,g){var _=[o-f,l-h],E=[p-f,g-h],x=E[0]*E[0]+E[1]*E[1],M=_[0]*_[0]+_[1]*_[1],F=_[0]*E[0]+_[1]*E[1],U=F*F/x;return F<0?M:U>x?(o-p)*(o-p)+(l-g)*(l-g):M-U},Ko=function(o,l,f){for(var h,p,g,_,x=0,M=0;M<f.length/2;M++)if(p=f[2*M+1],M+1<f.length/2?(g=f[2*(M+1)],_=f[2*(M+1)+1]):(g=f[2*(M+1-f.length/2)],_=f[2*(M+1-f.length/2)+1]),(h=f[2*M])!=o||g!=o){if(!(h>=o&&o>=g||h<=o&&o<=g))continue;(o-h)/(g-h)*(_-p)+p>l&&x++}return x%2!=0},ka=function(o,l,f,h,p,g,_,E,x){var F,Z,M=new Array(f.length);null!=E[0]?(F=Math.atan(E[1]/E[0]),E[0]<0?F+=Math.PI/2:F=-F-Math.PI/2):F=E;for(var U=Math.cos(-F),W=Math.sin(-F),j=0;j<M.length/2;j++)M[2*j]=g/2*(f[2*j]*U-f[2*j+1]*W),M[2*j+1]=_/2*(f[2*j+1]*U+f[2*j]*W),M[2*j]+=h,M[2*j+1]+=p;if(x>0){var J=sc(M,-x);Z=Ul(J)}else Z=M;return Ko(o,l,Z)},Ul=function(o){for(var _,E,x,M,l=new Array(o.length/2),F=0;F<o.length/4;F++){F<o.length/4-1?(_=o[4*(F+1)],E=o[4*(F+1)+1],x=o[4*(F+1)+2],M=o[4*(F+1)+3]):(_=o[0],E=o[1],x=o[2],M=o[3]);var U=ls(o[4*F],o[4*F+1],o[4*F+2],o[4*F+3],_,E,x,M,!0);l[2*F]=U[0],l[2*F+1]=U[1]}return l},sc=function(o,l){for(var h,p,g,_,f=new Array(2*o.length),E=0;E<o.length/2;E++){E<o.length/2-1?(g=o[2*(E+1)],_=o[2*(E+1)+1]):(g=o[0],_=o[1]);var x=_-(p=o[2*E+1]),M=-(g-(h=o[2*E])),F=Math.sqrt(x*x+M*M),U=x/F,W=M/F;f[4*E]=h+U*l,f[4*E+1]=p+W*l,f[4*E+2]=g+U*l,f[4*E+3]=_+W*l}return f},Xa=function(o,l,f,h,p,g,_){return o-=p,l-=g,(o/=f/2+_)*o+(l/=h/2+_)*l<=1},pl=function(o,l,f,h,p,g,_){var E=[f-o,h-l],x=[o-p,l-g],M=E[0]*E[0]+E[1]*E[1],F=2*(x[0]*E[0]+x[1]*E[1]),W=F*F-4*M*(x[0]*x[0]+x[1]*x[1]-_*_);if(W<0)return[];var j=(-F+Math.sqrt(W))/(2*M),Z=(-F-Math.sqrt(W))/(2*M),J=Math.min(j,Z),re=Math.max(j,Z),fe=[];if(J>=0&&J<=1&&fe.push(J),re>=0&&re<=1&&fe.push(re),0===fe.length)return[];var he=fe[0]*E[0]+o,ye=fe[0]*E[1]+l;return fe.length>1?fe[0]==fe[1]?[he,ye]:[he,ye,fe[1]*E[0]+o,fe[1]*E[1]+l]:[he,ye]},yo=function(o,l,f){return l<=o&&o<=f||f<=o&&o<=l?o:o<=l&&l<=f||f<=l&&l<=o?l:f},ls=function(o,l,f,h,p,g,_,E,x){var M=o-p,F=f-o,U=_-p,W=l-g,j=h-l,Z=E-g,J=U*W-Z*M,re=F*W-j*M,fe=Z*F-U*j;if(0!==fe){var he=J/fe,ye=re/fe;return-.001<=he&&he<=1.001&&-.001<=ye&&ye<=1.001||x?[o+he*F,l+he*j]:[]}return 0===J||0===re?yo(o,f,_)===_?[_,E]:yo(o,f,p)===p?[p,g]:yo(p,_,f)===f?[f,h]:[]:[]},Gl=function(o,l,f,h,p,g,_,E){var M,W,x=[],F=new Array(f.length),U=!0;if(null==g&&(U=!1),U){for(var j=0;j<F.length/2;j++)F[2*j]=f[2*j]*g+h,F[2*j+1]=f[2*j+1]*_+p;if(E>0){var Z=sc(F,-E);W=Ul(Z)}else W=F}else W=f;for(var fe,he,ye=0;ye<W.length/2;ye++)ye<W.length/2-1?(fe=W[2*(ye+1)],he=W[2*(ye+1)+1]):(fe=W[0],he=W[1]),0!==(M=ls(o,l,h,p,W[2*ye],W[2*ye+1],fe,he)).length&&x.push(M[0],M[1]);return x},pf=function(o,l,f){var h=[o[0]-l[0],o[1]-l[1]],p=Math.sqrt(h[0]*h[0]+h[1]*h[1]),g=(p-f)/p;return g<0&&(g=1e-5),[l[0]+g*h[0],l[1]+g*h[1]]},qo=function(o,l){var f=bu(o,l);return lc(f)},lc=function(o){for(var l,f,h=o.length/2,p=1/0,g=1/0,_=-1/0,E=-1/0,x=0;x<h;x++)l=o[2*x],f=o[2*x+1],p=Math.min(p,l),_=Math.max(_,l),g=Math.min(g,f),E=Math.max(E,f);for(var M=2/(_-p),F=2/(E-g),U=0;U<h;U++)l=o[2*U]=o[2*U]*M,f=o[2*U+1]=o[2*U+1]*F,p=Math.min(p,l),_=Math.max(_,l),g=Math.min(g,f),E=Math.max(E,f);if(g<-1)for(var W=0;W<h;W++)f=o[2*W+1]=o[2*W+1]+(-1-g);return o},bu=function(o,l){var f=1/o*2*Math.PI,h=o%2==0?Math.PI/2+f/2:Math.PI/2;h+=l;for(var g,p=new Array(2*o),_=0;_<o;_++)g=_*f+h,p[2*_]=Math.cos(g),p[2*_+1]=Math.sin(-g);return p},_u=function(o,l){return Math.min(o/4,l/4,8)},uc=function(o,l){return Math.min(o/10,l/10,8)},fh=function(o,l){return{heightOffset:Math.min(15,.05*l),widthOffset:Math.min(100,.25*o),ctrlPtOffsetPct:.05}},hh=li({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(o){return 1}}),Js={pageRank:function(o){for(var l=hh(o),f=l.dampingFactor,h=l.precision,p=l.iterations,g=l.weight,_=this._private.cy,E=this.byGroup(),x=E.nodes,M=E.edges,F=x.length,W=M.length,j=new Array(F*F),Z=new Array(F),J=(1-f)/F,re=0;re<F;re++){for(var fe=0;fe<F;fe++)j[re*F+fe]=0;Z[re]=0}for(var ye=0;ye<W;ye++){var Me=M[ye],Ae=Me.data("source"),be=Me.data("target");if(Ae!==be){var Te=x.indexOfId(Ae),_e=x.indexOfId(be),ke=g(Me);j[_e*F+Te]+=ke,Z[Te]+=ke}}for(var xe=1/F+J,He=0;He<F;He++)if(0===Z[He])for(var Ne=0;Ne<F;Ne++)j[Ne*F+He]=xe;else for(var Ue=0;Ue<F;Ue++){var Ge=Ue*F+He;j[Ge]=j[Ge]/Z[He]+J}for(var yt,ot=new Array(F),dt=new Array(F),st=0;st<F;st++)ot[st]=1;for(var vt=0;vt<p;vt++){for(var At=0;At<F;At++)dt[At]=0;for(var Ot=0;Ot<F;Ot++)for(var Dt=0;Dt<F;Dt++)dt[Ot]+=j[Ot*F+Dt]*ot[Dt];Zs(dt),yt=ot,ot=dt,dt=yt;for(var nt=0,Mt=0;Mt<F;Mt++){var Nt=yt[Mt]-ot[Mt];nt+=Nt*Nt}if(nt<h)break}return{rank:function(Xn){return Xn=_.collection(Xn)[0],ot[x.indexOf(Xn)]}}}},Tp=li({root:null,weight:function(o){return 1},directed:!1,alpha:0}),Pa={degreeCentralityNormalized:function(o){o=Tp(o);var l=this.cy(),f=this.nodes(),h=f.length;if(o.directed){for(var M={},F={},U=0,W=0,j=0;j<h;j++){var Z=f[j],J=Z.id();o.root=Z;var re=this.degreeCentrality(o);U<re.indegree&&(U=re.indegree),W<re.outdegree&&(W=re.outdegree),M[J]=re.indegree,F[J]=re.outdegree}return{indegree:function(he){return 0==U?0:(Be(he)&&(he=l.filter(he)),M[he.id()]/U)},outdegree:function(he){return 0===W?0:(Be(he)&&(he=l.filter(he)),F[he.id()]/W)}}}for(var p={},g=0,_=0;_<h;_++){var E=f[_];o.root=E;var x=this.degreeCentrality(o);g<x.degree&&(g=x.degree),p[E.id()]=x.degree}return{degree:function(he){return 0===g?0:(Be(he)&&(he=l.filter(he)),p[he.id()]/g)}}},degreeCentrality:function(o){o=Tp(o);var l=this.cy(),f=this,p=o.root,g=o.weight,_=o.directed,E=o.alpha;if(p=l.collection(p)[0],_){for(var W=p.connectedEdges(),j=W.filter(function(Ae){return Ae.target().same(p)&&f.has(Ae)}),Z=W.filter(function(Ae){return Ae.source().same(p)&&f.has(Ae)}),J=j.length,re=Z.length,fe=0,he=0,ye=0;ye<j.length;ye++)fe+=g(j[ye]);for(var Me=0;Me<Z.length;Me++)he+=g(Z[Me]);return{indegree:Math.pow(J,1-E)*Math.pow(fe,E),outdegree:Math.pow(re,1-E)*Math.pow(he,E)}}for(var x=p.connectedEdges().intersection(f),M=x.length,F=0,U=0;U<x.length;U++)F+=g(x[U]);return{degree:Math.pow(M,1-E)*Math.pow(F,E)}}};Pa.dc=Pa.degreeCentrality,Pa.dcn=Pa.degreeCentralityNormalised=Pa.degreeCentralityNormalized;var Mp=li({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Pt={closenessCentralityNormalized:function(o){for(var l=Mp(o),f=l.harmonic,h=l.weight,p=l.directed,g=this.cy(),_={},E=0,x=this.nodes(),M=this.floydWarshall({weight:h,directed:p}),F=0;F<x.length;F++){for(var U=0,W=x[F],j=0;j<x.length;j++)if(F!==j){var Z=M.distance(W,x[j]);U+=f?1/Z:Z}f||(U=1/U),E<U&&(E=U),_[W.id()]=U}return{closeness:function(re){return 0==E?0:(re=Be(re)?g.filter(re)[0].id():re.id(),_[re]/E)}}},closenessCentrality:function(o){var l=Mp(o),f=l.root,h=l.weight,p=l.directed,g=l.harmonic;f=this.filter(f)[0];for(var _=this.dijkstra({root:f,weight:h,directed:p}),E=0,x=this.nodes(),M=0;M<x.length;M++){var F=x[M];if(!F.same(f)){var U=_.distanceTo(F);E+=g?1/U:U}}return g?E:1/E}};Pt.cc=Pt.closenessCentrality,Pt.ccn=Pt.closenessCentralityNormalised=Pt.closenessCentralityNormalized;var ph=li({weight:null,directed:!1}),nn={betweennessCentrality:function(o){for(var l=ph(o),f=l.directed,h=l.weight,p=null!=h,g=this.cy(),_=this.nodes(),E={},x={},M=0,F={set:function(he,ye){x[he]=ye,ye>M&&(M=ye)},get:function(he){return x[he]}},U=0;U<_.length;U++){var W=_[U],j=W.id();E[j]=f?W.outgoers().nodes():W.openNeighborhood().nodes(),F.set(j,0)}for(var Z=function(he){for(var ye=_[he].id(),Me=[],Ae={},be={},Te={},_e=new A.default(function(Dt,wt){return Te[Dt]-Te[wt]}),ke=0;ke<_.length;ke++){var Pe=_[ke].id();Ae[Pe]=[],be[Pe]=0,Te[Pe]=1/0}for(be[ye]=1,Te[ye]=0,_e.push(ye);!_e.empty();){var xe=_e.pop();if(Me.push(xe),p)for(var He=0;He<E[xe].length;He++){var Ue,Ne=E[xe][He],Je=g.getElementById(xe);Ue=Je.edgesTo(Ne).length>0?Je.edgesTo(Ne)[0]:Ne.edgesTo(Je)[0];var Ge=h(Ue);Ne=Ne.id(),Te[Ne]>Te[xe]+Ge&&(Te[Ne]=Te[xe]+Ge,_e.nodes.indexOf(Ne)<0?_e.push(Ne):_e.updateItem(Ne),be[Ne]=0,Ae[Ne]=[]),Te[Ne]==Te[xe]+Ge&&(be[Ne]=be[Ne]+be[xe],Ae[Ne].push(xe))}else for(var ot=0;ot<E[xe].length;ot++){var dt=E[xe][ot].id();Te[dt]==1/0&&(_e.push(dt),Te[dt]=Te[xe]+1),Te[dt]==Te[xe]+1&&(be[dt]=be[dt]+be[xe],Ae[dt].push(xe))}}for(var yt={},st=0;st<_.length;st++)yt[_[st].id()]=0;for(;Me.length>0;){for(var vt=Me.pop(),At=0;At<Ae[vt].length;At++){var Ot=Ae[vt][At];yt[Ot]=yt[Ot]+be[Ot]/be[vt]*(1+yt[vt])}vt!=_[he].id()&&F.set(vt,F.get(vt)+yt[vt])}},J=0;J<_.length;J++)Z(J);var re={betweenness:function(he){var ye=g.collection(he).id();return F.get(ye)},betweennessNormalized:function(he){if(0==M)return 0;var ye=g.collection(he).id();return F.get(ye)/M}};return re.betweennessNormalised=re.betweennessNormalized,re}};nn.bc=nn.betweennessCentrality;var gf=li({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(u){return 1}]}),dc=function(o,l){for(var f=0,h=0;h<l.length;h++)f+=l[h](o);return f},fc=function(o,l){for(var f,h=0;h<l;h++){f=0;for(var p=0;p<l;p++)f+=o[p*l+h];for(var g=0;g<l;g++)o[g*l+h]=o[g*l+h]/f}},gl=function(o,l,f){for(var h=new Array(f*f),p=0;p<f;p++){for(var g=0;g<f;g++)h[p*f+g]=0;for(var _=0;_<f;_++)for(var E=0;E<f;E++)h[p*f+E]+=o[p*f+_]*l[_*f+E]}return h},us=function(o,l,f){for(var h=o.slice(0),p=1;p<f;p++)o=gl(o,h,l);return o},cs=function(o,l,f){for(var h=new Array(l*l),p=0;p<l*l;p++)h[p]=Math.pow(o[p],f);return fc(h,l),h},ya=function(o,l,f,h){for(var p=0;p<f;p++)if(Math.round(o[p]*Math.pow(10,h))/Math.pow(10,h)!=Math.round(l[p]*Math.pow(10,h))/Math.pow(10,h))return!1;return!0},xr=function(o,l){for(var f=0;f<o.length;f++)if(!l[f]||o[f].id()!==l[f].id())return!1;return!0},vf=function(o){for(var l=this.nodes(),f=this.edges(),h=this.cy(),p=function(o){return gf(o)}(o),g={},_=0;_<l.length;_++)g[l[_].id()]=_;for(var F,E=l.length,x=E*E,M=new Array(x),U=0;U<x;U++)M[U]=0;for(var W=0;W<f.length;W++){var j=f[W],Z=g[j.source().id()],J=g[j.target().id()],re=dc(j,p.attributes);M[Z*E+J]+=re,M[J*E+Z]+=re}(function(o,l,f){for(var h=0;h<l;h++)o[h*l+h]=f})(M,E,p.multFactor),fc(M,E);for(var fe=!0,he=0;fe&&he<p.maxIterations;)fe=!1,F=us(M,E,p.expandFactor),M=cs(F,E,p.inflateFactor),ya(M,F,x,4)||(fe=!0),he++;var ye=function(o,l,f,h){for(var p=[],g=0;g<l;g++){for(var _=[],E=0;E<l;E++)Math.round(1e3*o[g*l+E])/1e3>0&&_.push(f[E]);0!==_.length&&p.push(h.collection(_))}return p}(M,E,l,h);return ye=function(o){for(var l=0;l<o.length;l++)for(var f=0;f<o.length;f++)l!=f&&xr(o[l],o[f])&&o.splice(f,1);return o}(ye),ye},yf={markovClustering:vf,mcl:vf},Ip=function(o){return o},Rs=function(o,l){return Math.abs(l-o)},jl=function(o,l,f){return o+Rs(l,f)},Wl=function(o,l,f){return o+Math.pow(f-l,2)},ks=function(o){return Math.sqrt(o)},bf=function(o,l,f){return Math.max(o,Rs(l,f))},wu=function(o,l,f,h,p){for(var g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ip,_=h,M=0;M<o;M++)_=p(_,l(M),f(M));return g(_)},Cu={euclidean:function(o,l,f){return o>=2?wu(o,l,f,0,Wl,ks):wu(o,l,f,0,jl)},squaredEuclidean:function(o,l,f){return wu(o,l,f,0,Wl)},manhattan:function(o,l,f){return wu(o,l,f,0,jl)},max:function(o,l,f){return wu(o,l,f,-1/0,bf)}};function $l(u,o,l,f,h,p){var g;return g=at(u)?u:Cu[u]||Cu.euclidean,0===o&&at(u)?g(h,p):g(o,l,f,h,p)}Cu["squared-euclidean"]=Cu.squaredEuclidean,Cu.squaredeuclidean=Cu.squaredEuclidean;var Ap=li({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),sd=function(o){return Ap(o)},ld=function(o,l,f,h,p){var _="kMedoids"!==p?function(F){return f[F]}:function(F){return h[F](f)};return $l(o,h.length,_,function(U){return h[U](l)},f,l)},Yl=function(o,l,f){for(var h=f.length,p=new Array(h),g=new Array(h),_=new Array(l),E=null,x=0;x<h;x++)p[x]=o.min(f[x]).value,g[x]=o.max(f[x]).value;for(var M=0;M<l;M++){E=[];for(var F=0;F<h;F++)E[F]=Math.random()*(g[F]-p[F])+p[F];_[M]=E}return _},gh=function(o,l,f,h,p){for(var g=1/0,_=0,E=0;E<l.length;E++){var x=ld(f,o,l[E],h,p);x<g&&(g=x,_=E)}return _},mh=function(o,l,f){for(var h=[],p=null,g=0;g<l.length;g++)f[(p=l[g]).id()]===o&&h.push(p);return h},Ka=function(o,l,f){return Math.abs(l-o)<=f},_f=function(o,l,f){for(var h=0;h<o.length;h++)for(var p=0;p<o[h].length;p++)if(Math.abs(o[h][p]-l[h][p])>f)return!1;return!0},vh=function(o,l,f){for(var h=0;h<f;h++)if(o===l[h])return!0;return!1},ud=function(o,l){var f=new Array(l);if(o.length<50)for(var h=0;h<l;h++){for(var p=o[Math.floor(Math.random()*o.length)];vh(p,f,h);)p=o[Math.floor(Math.random()*o.length)];f[h]=p}else for(var g=0;g<l;g++)f[g]=o[Math.floor(Math.random()*o.length)];return f},ds=function(o,l,f){for(var h=0,p=0;p<l.length;p++)h+=ld("manhattan",l[p],o,f,"kMedoids");return h},wf=function(o,l,f,h,p){for(var g,_,E=0;E<l.length;E++)for(var x=0;x<o.length;x++)h[E][x]=Math.pow(f[E][x],p.m);for(var M=0;M<o.length;M++)for(var F=0;F<p.attributes.length;F++){g=0,_=0;for(var U=0;U<l.length;U++)g+=h[U][M]*p.attributes[F](l[U]),_+=h[U][M];o[M][F]=g/_}},Np=function(o,l,f,h,p){for(var g=0;g<o.length;g++)l[g]=o[g].slice();for(var _,E,x,M=2/(p.m-1),F=0;F<f.length;F++)for(var U=0;U<h.length;U++){_=0;for(var W=0;W<f.length;W++)E=ld(p.distance,h[U],f[F],p.attributes,"cmeans"),x=ld(p.distance,h[U],f[W],p.attributes,"cmeans"),_+=Math.pow(E/x,M);o[U][F]=1/_}},Cf=function(o){var p,g,_,E,x,l=this.cy(),f=this.nodes(),h=sd(o);E=new Array(f.length);for(var M=0;M<f.length;M++)E[M]=new Array(h.k);_=new Array(f.length);for(var F=0;F<f.length;F++)_[F]=new Array(h.k);for(var U=0;U<f.length;U++){for(var W=0,j=0;j<h.k;j++)_[U][j]=Math.random(),W+=_[U][j];for(var Z=0;Z<h.k;Z++)_[U][Z]=_[U][Z]/W}g=new Array(h.k);for(var J=0;J<h.k;J++)g[J]=new Array(h.attributes.length);x=new Array(f.length);for(var re=0;re<f.length;re++)x[re]=new Array(h.k);for(var fe=!0,he=0;fe&&he<h.maxIterations;)fe=!1,wf(g,f,_,x,h),Np(_,E,g,f,h),_f(_,E,h.sensitivityThreshold)||(fe=!0),he++;return p=function(o,l,f,h){for(var p=new Array(f.k),g=0;g<p.length;g++)p[g]=[];for(var _,E,x=0;x<l.length;x++){_=-1/0,E=-1;for(var M=0;M<l[0].length;M++)l[x][M]>_&&(_=l[x][M],E=M);p[E].push(o[x])}for(var F=0;F<p.length;F++)p[F]=h.collection(p[F]);return p}(f,_,h,l),{clusters:p,degreeOfMembership:_}},dr={kMeans:function(o){var E,l=this.cy(),f=this.nodes(),h=null,p=sd(o),g=new Array(p.k),_={};E=p.testMode?"number"==typeof p.testCentroids?Yl(f,p.k,p.attributes):"object"===H(p.testCentroids)?p.testCentroids:Yl(f,p.k,p.attributes):Yl(f,p.k,p.attributes);for(var x=!0,M=0;x&&M<p.maxIterations;){for(var F=0;F<f.length;F++)_[(h=f[F]).id()]=gh(h,E,p.distance,p.attributes,"kMeans");x=!1;for(var U=0;U<p.k;U++){var W=mh(U,f,_);if(0!==W.length){for(var j=p.attributes.length,Z=E[U],J=new Array(j),re=new Array(j),fe=0;fe<j;fe++){re[fe]=0;for(var he=0;he<W.length;he++)re[fe]+=p.attributes[fe](h=W[he]);J[fe]=re[fe]/W.length,Ka(J[fe],Z[fe],p.sensitivityThreshold)||(x=!0)}E[U]=J,g[U]=l.collection(W)}}M++}return g},kMedoids:function(o){var _,x,l=this.cy(),f=this.nodes(),h=null,p=sd(o),g=new Array(p.k),E={},M=new Array(p.k);p.testMode?"number"==typeof p.testCentroids||(_="object"===H(p.testCentroids)?p.testCentroids:ud(f,p.k)):_=ud(f,p.k);for(var F=!0,U=0;F&&U<p.maxIterations;){for(var W=0;W<f.length;W++)E[(h=f[W]).id()]=gh(h,_,p.distance,p.attributes,"kMedoids");F=!1;for(var j=0;j<_.length;j++){var Z=mh(j,f,E);if(0!==Z.length){M[j]=ds(_[j],Z,p.attributes);for(var J=0;J<Z.length;J++)(x=ds(Z[J],Z,p.attributes))<M[j]&&(M[j]=x,_[j]=Z[J],F=!0);g[j]=l.collection(Z)}}U++}return g},fuzzyCMeans:Cf,fcm:Cf},cm=li({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),dm={single:"min",complete:"max"},ei=function(o,l,f,h,p){for(var E,g=0,_=1/0,x=p.attributes,M=function(_e,ke){return $l(p.distance,x.length,function(Pe){return x[Pe](_e)},function(Pe){return x[Pe](ke)},_e,ke)},F=0;F<o.length;F++){var U=o[F].key,W=f[U][h[U]];W<_&&(g=U,_=W)}if("threshold"===p.mode&&_>=p.threshold||"dendrogram"===p.mode&&1===o.length)return!1;var J,j=l[g],Z=l[h[g]];J="dendrogram"===p.mode?{left:j,right:Z,key:j.key}:{value:j.value.concat(Z.value),key:j.key},o[j.index]=J,o.splice(Z.index,1),l[j.key]=J;for(var re=0;re<o.length;re++){var fe=o[re];j.key===fe.key?E=1/0:"min"===p.linkage?(E=f[j.key][fe.key],f[j.key][fe.key]>f[Z.key][fe.key]&&(E=f[Z.key][fe.key])):"max"===p.linkage?(E=f[j.key][fe.key],f[j.key][fe.key]<f[Z.key][fe.key]&&(E=f[Z.key][fe.key])):E="mean"===p.linkage?(f[j.key][fe.key]*j.size+f[Z.key][fe.key]*Z.size)/(j.size+Z.size):"dendrogram"===p.mode?M(fe.value,j.value):M(fe.value[0],j.value[0]),f[j.key][fe.key]=f[fe.key][j.key]=E}for(var he=0;he<o.length;he++){var ye=o[he].key;if(h[ye]===j.key||h[ye]===Z.key){for(var Me=ye,Ae=0;Ae<o.length;Ae++){var be=o[Ae].key;f[ye][be]<f[ye][Me]&&(Me=be)}h[ye]=Me}o[he].index=he}return j.key=Z.key=j.index=Z.index=null,!0},ml=function u(o,l,f){o&&(o.value?l.push(o.value):(o.left&&u(o.left,l),o.right&&u(o.right,l)))},xf=function u(o,l){if(!o)return"";if(o.left&&o.right){var f=u(o.left,l),h=u(o.right,l),p=l.add({group:"nodes",data:{id:f+","+h}});return l.add({group:"edges",data:{source:f,target:p.id()}}),l.add({group:"edges",data:{source:h,target:p.id()}}),p.id()}return o.value?o.value.id():void 0},ln=function u(o,l,f){if(!o)return[];var h=[],p=[],g=[];return 0===l?(o.left&&ml(o.left,h),o.right&&ml(o.right,p),g=h.concat(p),[f.collection(g)]):1===l?o.value?[f.collection(o.value)]:(o.left&&ml(o.left,h),o.right&&ml(o.right,p),[f.collection(h),f.collection(p)]):o.value?[f.collection(o.value)]:(o.left&&(h=u(o.left,l-1,f)),o.right&&(p=u(o.right,l-1,f)),h.concat(p))},aa=function(o){for(var l=this.cy(),f=this.nodes(),h=function(o){var l=cm(o),f=dm[l.linkage];return null!=f&&(l.linkage=f),l}(o),p=h.attributes,g=function(he,ye){return $l(h.distance,p.length,function(Me){return p[Me](he)},function(Me){return p[Me](ye)},he,ye)},_=[],E=[],x=[],M=[],F=0;F<f.length;F++){var U={value:"dendrogram"===h.mode?f[F]:[f[F]],key:F,index:F};_[F]=U,M[F]=U,E[F]=[],x[F]=0}for(var W=0;W<_.length;W++)for(var j=0;j<=W;j++){var Z;Z="dendrogram"===h.mode?W===j?1/0:g(_[W].value,_[j].value):W===j?1/0:g(_[W].value[0],_[j].value[0]),E[W][j]=Z,E[j][W]=Z,Z<E[W][x[W]]&&(x[W]=j)}for(var J=ei(_,M,E,x,h);J;)J=ei(_,M,E,x,h);var re;return"dendrogram"===h.mode?(re=ln(_[0],h.dendrogramDepth,l),h.addDendrogram&&xf(_[0],l)):(re=new Array(_.length),_.forEach(function(fe,he){fe.key=fe.index=null,re[he]=l.collection(fe.value)})),re},Br={hierarchicalClustering:aa,hca:aa},Ui=li({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),ao=function(o,l,f,h){var p=function(_,E){return h[E](_)};return-$l(o,h.length,function(g){return p(l,g)},function(g){return p(f,g)},l,f)},pc=function(o,l,f){for(var h=[],p=0;p<o;p++){for(var g=-1,_=-1/0,E=0;E<f.length;E++){var x=f[E];l[p*o+x]>_&&(g=x,_=l[p*o+x])}g>0&&h.push(g)}for(var M=0;M<f.length;M++)h[f[M]]=f[M];return h},bh=function(o){for(var l=this.cy(),f=this.nodes(),h=function(o){var l=o.damping,f=o.preference;.5<=l&&l<1||ri("Damping must range on [0.5, 1).  Got: ".concat(l));var h=["median","mean","min","max"];return h.some(function(p){return p===f})||qe(f)||ri("Preference must be one of [".concat(h.map(function(p){return"'".concat(p,"'")}).join(", "),"] or a number.  Got: ").concat(f)),Ui(o)}(o),p={},g=0;g<f.length;g++)p[f[g].id()]=g;var _,E,x,M,F,U,_e;E=(_=f.length)*_,x=new Array(E);for(var W=0;W<E;W++)x[W]=-1/0;for(var j=0;j<_;j++)for(var Z=0;Z<_;Z++)j!==Z&&(x[j*_+Z]=ao(h.distance,f[j],f[Z],h.attributes));M=function(o,l){var f;return f="median"===l?function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(f<o.length&&o.splice(f,o.length-f),l>0&&o.splice(0,l)):o=o.slice(l,f);for(var _=0,E=o.length-1;E>=0;E--)g?isFinite(o[E])||(o[E]=-1/0,_++):o.splice(E,1);p&&o.sort(function(U,W){return U-W});var M=o.length,F=Math.floor(M/2);return M%2!=0?o[F+1+_]:(o[F-1+_]+o[F+_])/2}(o):"mean"===l?function(o){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=0,p=0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g<f;g++){var _=o[g];isFinite(_)&&(h+=_,p++)}return h/p}(o):"min"===l?function(o){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<f;p++){var g=o[p];isFinite(g)&&(h=Math.min(g,h))}return h}(o):"max"===l?function(o){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=-1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<f;p++){var g=o[p];isFinite(g)&&(h=Math.max(g,h))}return h}(o):l,f}(x,h.preference);for(var J=0;J<_;J++)x[J*_+J]=M;F=new Array(E);for(var re=0;re<E;re++)F[re]=0;U=new Array(E);for(var fe=0;fe<E;fe++)U[fe]=0;for(var he=new Array(_),ye=new Array(_),Me=new Array(_),Ae=0;Ae<_;Ae++)he[Ae]=0,ye[Ae]=0,Me[Ae]=0;for(var be=new Array(_*h.minIterations),Te=0;Te<be.length;Te++)be[Te]=0;for(_e=0;_e<h.maxIterations;_e++){for(var ke=0;ke<_;ke++){for(var Pe=-1/0,xe=-1/0,He=-1,Ne=0,Je=0;Je<_;Je++)he[Je]=F[ke*_+Je],(Ne=U[ke*_+Je]+x[ke*_+Je])>=Pe?(xe=Pe,Pe=Ne,He=Je):Ne>xe&&(xe=Ne);for(var Ue=0;Ue<_;Ue++)F[ke*_+Ue]=(1-h.damping)*(x[ke*_+Ue]-Pe)+h.damping*he[Ue];F[ke*_+He]=(1-h.damping)*(x[ke*_+He]-xe)+h.damping*he[He]}for(var Ge=0;Ge<_;Ge++){for(var ot=0,dt=0;dt<_;dt++)he[dt]=U[dt*_+Ge],ye[dt]=Math.max(0,F[dt*_+Ge]),ot+=ye[dt];ot-=ye[Ge],ye[Ge]=F[Ge*_+Ge],ot+=ye[Ge];for(var yt=0;yt<_;yt++)U[yt*_+Ge]=(1-h.damping)*Math.min(0,ot-ye[yt])+h.damping*he[yt];U[Ge*_+Ge]=(1-h.damping)*(ot-ye[Ge])+h.damping*he[Ge]}for(var st=0,vt=0;vt<_;vt++){var At=U[vt*_+vt]+F[vt*_+vt]>0?1:0;be[_e%h.minIterations*_+vt]=At,st+=At}if(st>0&&(_e>=h.minIterations-1||_e==h.maxIterations-1)){for(var Ot=0,Dt=0;Dt<_;Dt++){Me[Dt]=0;for(var wt=0;wt<h.minIterations;wt++)Me[Dt]+=be[wt*_+Dt];(0===Me[Dt]||Me[Dt]===h.minIterations)&&Ot++}if(Ot===_)break}}for(var nt=function(o,l,f){for(var h=[],p=0;p<o;p++)l[p*o+p]+f[p*o+p]>0&&h.push(p);return h}(_,F,U),Mt=function(o,l,f){for(var h=pc(o,l,f),p=0;p<f.length;p++){for(var g=[],_=0;_<h.length;_++)h[_]===f[p]&&g.push(_);for(var E=-1,x=-1/0,M=0;M<g.length;M++){for(var F=0,U=0;U<g.length;U++)F+=l[g[U]*o+g[M]];F>x&&(E=M,x=F)}f[p]=g[E]}return pc(o,l,f)}(_,x,nt),Nt={},Wt=0;Wt<nt.length;Wt++)Nt[nt[Wt]]=[];for(var rn=0;rn<f.length;rn++){var ar=Mt[p[f[rn].id()]];null!=ar&&Nt[ar].push(f[rn])}for(var sn=new Array(nt.length),Jt=0;Jt<nt.length;Jt++)sn[Jt]=l.collection(Nt[nt[Jt]]);return sn},cd={affinityPropagation:bh,ap:bh},lo=li({root:void 0,directed:!1}),fn={hierholzer:function(o){if(!Ke(o)){var l=arguments;o={root:l[0],directed:l[1]}}var E,x,M,f=lo(o),h=f.root,p=f.directed,g=this,_=!1;h&&(M=Be(h)?this.filter(h)[0].id():h[0].id());var F={},U={};g.forEach(p?function(fe){var he=fe.id();if(fe.isNode()){var ye=fe.indegree(!0),Me=fe.outdegree(!0),Ae=ye-Me,be=Me-ye;1==Ae?E?_=!0:E=he:1==be?x?_=!0:x=he:(be>1||Ae>1)&&(_=!0),F[he]=[],fe.outgoers().forEach(function(Te){Te.isEdge()&&F[he].push(Te.id())})}else U[he]=[void 0,fe.target().id()]}:function(fe){var he=fe.id();fe.isNode()?(fe.degree(!0)%2&&(E?x?_=!0:x=he:E=he),F[he]=[],fe.connectedEdges().forEach(function(Me){return F[he].push(Me.id())})):U[he]=[fe.source().id(),fe.target().id()]});var W={found:!1,trail:void 0};if(_)return W;if(x&&E)if(p){if(M&&x!=M)return W;M=x}else{if(M&&x!=M&&E!=M)return W;M||(M=x)}else M||(M=g[0].id());var j=function(he){for(var Ae,be,Te,ye=he,Me=[he];F[ye].length;)Ae=F[ye].shift(),be=U[Ae][0],ye!=(Te=U[Ae][1])?(F[Te]=F[Te].filter(function(_e){return _e!=Ae}),ye=Te):!p&&ye!=be&&(F[be]=F[be].filter(function(_e){return _e!=Ae}),ye=be),Me.unshift(Ae),Me.unshift(ye);return Me},Z=[],J=[];for(J=j(M);1!=J.length;)0==F[J[0]].length?(Z.unshift(g.getElementById(J.shift())),Z.unshift(g.getElementById(J.shift()))):J=j(J.shift()).concat(J);for(var re in Z.unshift(g.getElementById(J.shift())),F)if(F[re].length)return W;return W.found=!0,W.trail=this.spawn(Z,!0),W}},Wn=function(){var o=this,l={},f=0,h=0,p=[],g=[],_={},x=function F(U,W,j){U===j&&(h+=1),l[W]={id:f,low:f++,cutVertex:!1};var J,re,fe,he,Z=o.getElementById(W).connectedEdges().intersection(o);0===Z.size()?p.push(o.spawn(o.getElementById(W))):Z.forEach(function(ye){J=ye.source().id(),re=ye.target().id(),(fe=J===W?re:J)!==j&&(he=ye.id(),_[he]||(_[he]=!0,g.push({x:W,y:fe,edge:ye})),fe in l?l[W].low=Math.min(l[W].low,l[fe].id):(F(U,fe,W),l[W].low=Math.min(l[W].low,l[fe].low),l[W].id<=l[fe].low&&(l[W].cutVertex=!0,function(U,W){for(var j=g.length-1,Z=[],J=o.spawn();g[j].x!=U||g[j].y!=W;)Z.push(g.pop().edge),j--;Z.push(g.pop().edge),Z.forEach(function(re){var fe=re.connectedNodes().intersection(o);J.merge(re),fe.forEach(function(he){var ye=he.id(),Me=he.connectedEdges().intersection(o);J.merge(he),J.merge(l[ye].cutVertex?Me.filter(function(Ae){return Ae.isLoop()}):Me)})}),p.push(J)}(W,fe))))})};o.forEach(function(F){if(F.isNode()){var U=F.id();U in l||(h=0,x(U,U),l[U].cutVertex=h>1)}});var M=Object.keys(l).filter(function(F){return l[F].cutVertex}).map(function(F){return o.getElementById(F)});return{cut:o.spawn(M),components:p}},sa=function(){var o=this,l={},f=0,h=[],p=[],g=o.spawn(o),_=function E(x){if(p.push(x),l[x]={index:f,low:f++,explored:!1},o.getElementById(x).connectedEdges().intersection(o).forEach(function(Z){var J=Z.target().id();J!==x&&(J in l||E(J),l[J].explored||(l[x].low=Math.min(l[x].low,l[J].low)))}),l[x].index===l[x].low){for(var F=o.spawn();;){var U=p.pop();if(F.merge(o.getElementById(U)),l[U].low=l[x].index,l[U].explored=!0,U===x)break}var W=F.edgesWith(F),j=F.merge(W);h.push(j),g=g.difference(j)}};return o.forEach(function(E){if(E.isNode()){var x=E.id();x in l||_(x)}}),{cut:g,components:h}},wo={};[Ve,tt,Zt,Vt,Un,Ar,An,Js,Pa,Pt,nn,yf,dr,Br,cd,fn,{hopcroftTarjanBiconnected:Wn,htbc:Wn,htb:Wn,hopcroftTarjanBiconnectedComponents:Wn},{tarjanStronglyConnected:sa,tsc:sa,tscc:sa,tarjanStronglyConnectedComponents:sa}].forEach(function(u){Nn(wo,u)});var la=function u(o){if(!(this instanceof u))return new u(o);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof o&&o.call(this,this.fulfill.bind(this),this.reject.bind(this))};la.prototype={fulfill:function(o){return qn(this,1,"fulfillValue",o)},reject:function(o){return qn(this,2,"rejectReason",o)},then:function(o,l){var f=this,h=new la;return f.onFulfilled.push(Eu(o,h,"fulfill")),f.onRejected.push(Eu(l,h,"reject")),mc(f),h.proxy}};var qn=function(o,l,f,h){return 0===o.state&&(o.state=l,o[f]=h,mc(o)),o},mc=function(o){1===o.state?_h(o,"onFulfilled",o.fulfillValue):2===o.state&&_h(o,"onRejected",o.rejectReason)},_h=function(o,l,f){if(0!==o[l].length){var h=o[l];o[l]=[];var p=function(){for(var _=0;_<h.length;_++)h[_](f)};"function"==typeof setImmediate?setImmediate(p):setTimeout(p,0)}},Eu=function(o,l,f){return function(h){if("function"!=typeof o)l[f].call(l,h);else{var p;try{p=o(h)}catch(g){return void l.reject(g)}Gi(l,p)}}},Gi=function u(o,l){if(o!==l&&o.proxy!==l){var f;if("object"===H(l)&&null!==l||"function"==typeof l)try{f=l.then}catch(p){return void o.reject(p)}if("function"!=typeof f)o.fulfill(l);else{var h=!1;try{f.call(l,function(p){h||(h=!0,p===l?o.reject(new TypeError("circular thenable chain")):u(o,p))},function(p){h||(h=!0,o.reject(p))})}catch(p){h||o.reject(p)}}}else o.reject(new TypeError("cannot resolve promise with itself"))};la.all=function(u){return new la(function(o,l){for(var f=new Array(u.length),h=0,p=function(E,x){f[E]=x,++h===u.length&&o(f)},g=0;g<u.length;g++)!function(_){var E=u[_];null!=E&&null!=E.then?E.then(function(F){p(_,F)},function(F){l(F)}):p(_,E)}(g)})},la.resolve=function(u){return new la(function(o,l){o(u)})},la.reject=function(u){return new la(function(o,l){l(u)})};var fs=typeof Promise<"u"?Promise:la,qa=function(o,l,f){var h=ut(o),p=!h,g=this._private=Nn({duration:1e3},l,f);if(g.target=o,g.style=g.style||g.css,g.started=!1,g.playing=!1,g.hooked=!1,g.applying=!1,g.progress=0,g.completes=[],g.frames=[],g.complete&&at(g.complete)&&g.completes.push(g.complete),p){var _=o.position();g.startPosition=g.startPosition||{x:_.x,y:_.y},g.startStyle=g.startStyle||o.cy().style().getAnimationStartStyle(o,g.style)}if(h){var E=o.pan();g.startPan={x:E.x,y:E.y},g.startZoom=o.zoom()}this.length=1,this[0]=this},uo=qa.prototype;Nn(uo,{instanceString:function(){return"animation"},hook:function(){var o=this._private;if(!o.hooked){var f=o.target._private.animation;(o.queue?f.queue:f.current).push(this),It(o.target)&&o.target.cy().addToAnimationPool(o.target),o.hooked=!0}return this},play:function(){var o=this._private;return 1===o.progress&&(o.progress=0),o.playing=!0,o.started=!1,o.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var o=this._private;return o.applying=!0,o.started=!1,o.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var o=this._private;return o.playing=!1,o.started=!1,this},stop:function(){var o=this._private;return o.playing=!1,o.started=!1,o.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(o){var l=this._private;return void 0===o?l.progress*l.duration:this.progress(o/l.duration)},progress:function(o){var l=this._private,f=l.playing;return void 0===o?l.progress:(f&&this.pause(),l.progress=o,l.started=!1,f&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var o=this._private,l=o.playing;l&&this.pause(),o.progress=1-o.progress,o.started=!1;var f=function(x,M){var F=o[x];null!=F&&(o[x]=o[M],o[M]=F)};if(f("zoom","startZoom"),f("pan","startPan"),f("position","startPosition"),o.style)for(var h=0;h<o.style.length;h++){var p=o.style[h],g=p.name,_=o.startStyle[g];o.startStyle[g]=p,o.style[h]=_}return l&&this.play(),this},promise:function(o){var f,l=this._private;return f="frame"===o?l.frames:l.completes,new fs(function(h,p){f.push(function(){h()})})}}),uo.complete=uo.completed,uo.run=uo.play,uo.running=uo.playing;var fd={data:function(o){return o=Nn({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(h){},beforeSet:function(h,p){},onSet:function(h){},canSet:function(h){return!0}},o),function(h,p){var g=o,_=this,E=void 0!==_.length,x=E?_:[_],M=E?_[0]:_;if(Be(h)){var W,U=-1!==h.indexOf(".")&&k.default(h);if(g.allowGetting&&void 0===p)return M&&(g.beforeGet(M),W=U&&void 0===M._private[g.field][h]?V.default(M._private[g.field],U):M._private[g.field][h]),W;if(g.allowSetting&&void 0!==p&&!g.immutableKeys[h]){var Z=ne({},h,p);g.beforeSet(_,Z);for(var J=0,re=x.length;J<re;J++){var fe=x[J];g.canSet(fe)&&(U&&void 0===M._private[g.field][h]?L.default(fe._private[g.field],U,p):fe._private[g.field][h]=p)}g.updateStyle&&_.updateStyle(),g.onSet(_),g.settingTriggersEvent&&_[g.triggerFnName](g.settingEvent)}}else if(g.allowSetting&&Ke(h)){var ye,Me,he=h,Ae=Object.keys(he);g.beforeSet(_,he);for(var be=0;be<Ae.length;be++)if(Me=he[ye=Ae[be]],!g.immutableKeys[ye])for(var _e=0;_e<x.length;_e++){var ke=x[_e];g.canSet(ke)&&(ke._private[g.field][ye]=Me)}g.updateStyle&&_.updateStyle(),g.onSet(_),g.settingTriggersEvent&&_[g.triggerFnName](g.settingEvent)}else if(g.allowBinding&&at(h))_.on(g.bindingEvent,h);else if(g.allowGetting&&void 0===h){var xe;return M&&(g.beforeGet(M),xe=M._private[g.field]),xe}return _}},removeData:function(o){return o=Nn({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},o),function(h){var p=o,g=this,E=void 0!==g.length?g:[g];if(Be(h)){for(var x=h.split(/\s+/),M=x.length,F=0;F<M;F++){var U=x[F];if(!Ft(U)&&!p.immutableKeys[U])for(var j=0,Z=E.length;j<Z;j++)E[j]._private[p.field][U]=void 0}p.triggerEvent&&g[p.triggerFnName](p.event)}else if(void 0===h){for(var J=0,re=E.length;J<re;J++)for(var fe=E[J]._private[p.field],he=Object.keys(fe),ye=0;ye<he.length;ye++){var Me=he[ye];!p.immutableKeys[Me]&&(fe[Me]=void 0)}p.triggerEvent&&g[p.triggerFnName](p.event)}return g}}},bl={eventAliasesOn:function(o){var l=o;l.addListener=l.listen=l.bind=l.on,l.unlisten=l.unbind=l.off=l.removeListener,l.trigger=l.emit,l.pon=l.promiseOn=function(f,h){var p=this,g=Array.prototype.slice.call(arguments,0);return new fs(function(_,E){var M=g.concat([function(W){p.off.apply(p,F),_(W)}]),F=M.concat([]);p.on.apply(p,M)})}}},ur={};[{animated:function(){return function(){var l=this,h=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return!1;var g=h[0];return g?g._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var l=this,h=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return this;for(var g=0;g<h.length;g++)h[g]._private.animation.queue=[];return this}},delay:function(){return function(l,f){return(this._private.cy||this).styleEnabled()?this.animate({delay:l,duration:l,complete:f}):this}},delayAnimation:function(){return function(l,f){return(this._private.cy||this).styleEnabled()?this.animation({delay:l,duration:l,complete:f}):this}},animation:function(){return function(l,f){var h=this,p=void 0!==h.length,g=p?h:[h],_=this._private.cy||this,E=!p,x=!E;if(!_.styleEnabled())return this;var M=_.style();if(l=Nn({},l,f),0===Object.keys(l).length)return new qa(g[0],l);switch(void 0===l.duration&&(l.duration=400),l.duration){case"slow":l.duration=600;break;case"fast":l.duration=200}if(x&&(l.style=M.getPropsList(l.style||l.css),l.css=void 0),x&&null!=l.renderedPosition){var U=l.renderedPosition,W=_.pan(),j=_.zoom();l.position=gi(U,j,W)}if(E&&null!=l.panBy){var Z=l.panBy,J=_.pan();l.pan={x:J.x+Z.x,y:J.y+Z.y}}var re=l.center||l.centre;if(E&&null!=re){var fe=_.getCenterPan(re.eles,l.zoom);null!=fe&&(l.pan=fe)}if(E&&null!=l.fit){var he=l.fit,ye=_.getFitViewport(he.eles||he.boundingBox,he.padding);null!=ye&&(l.pan=ye.pan,l.zoom=ye.zoom)}if(E&&Ke(l.zoom)){var Me=_.getZoomedViewport(l.zoom);null!=Me?(Me.zoomed&&(l.zoom=Me.zoom),Me.panned&&(l.pan=Me.pan)):l.zoom=null}return new qa(g[0],l)}},animate:function(){return function(l,f){var h=this,g=void 0!==h.length?h:[h];if(!(this._private.cy||this).styleEnabled())return this;f&&(l=Nn({},l,f));for(var E=0;E<g.length;E++){var x=g[E],M=x.animated()&&(void 0===l.queue||l.queue);x.animation(l,M?{queue:!0}:void 0).play()}return this}},stop:function(){return function(l,f){var h=this,g=void 0!==h.length?h:[h],_=this._private.cy||this;if(!_.styleEnabled())return this;for(var E=0;E<g.length;E++){for(var M=g[E]._private,F=M.animation.current,U=0;U<F.length;U++)f&&(F[U]._private.duration=0);l&&(M.animation.queue=[]),f||(M.animation.current=[])}return _.notify("draw"),this}}},fd,bl].forEach(function(u){Nn(ur,u)});var hd={animate:ur.animate(),animation:ur.animation(),animated:ur.animated(),clearQueue:ur.clearQueue(),delay:ur.delay(),delayAnimation:ur.delayAnimation(),stop:ur.stop()},Za={classes:function(o){var l=this;if(void 0===o){var f=[];return l[0]._private.classes.forEach(function(j){return f.push(j)}),f}ht(o)||(o=(o||"").match(/\S+/g)||[]);for(var h=[],p=new As(o),g=0;g<l.length;g++){for(var _=l[g],E=_._private,x=E.classes,M=!1,F=0;F<o.length;F++)if(!x.has(o[F])){M=!0;break}M||(M=x.size!==o.length),M&&(E.classes=p,h.push(_))}return h.length>0&&this.spawn(h).updateStyle().emit("class"),l},addClass:function(o){return this.toggleClass(o,!0)},hasClass:function(o){var l=this[0];return null!=l&&l._private.classes.has(o)},toggleClass:function(o,l){ht(o)||(o=o.match(/\S+/g)||[]);for(var f=this,h=void 0===l,p=[],g=0,_=f.length;g<_;g++)for(var E=f[g],x=E._private.classes,M=!1,F=0;F<o.length;F++){var U=o[F],W=x.has(U),j=!1;l||h&&!W?(x.add(U),j=!0):(!l||h&&W)&&(x.delete(U),j=!0),!M&&j&&(p.push(E),M=!0)}return p.length>0&&this.spawn(p).updateStyle().emit("class"),f},removeClass:function(o){return this.toggleClass(o,!1)},flashClass:function(o,l){var f=this;if(null==l)l=250;else if(0===l)return f;return f.addClass(o),setTimeout(function(){f.removeClass(o)},l),f}};Za.className=Za.classNames=Za.classes;var hn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:dn,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};hn.variable="(?:[\\w-.]|(?:\\\\"+hn.metaChar+"))+",hn.className="(?:[\\w-]|(?:\\\\"+hn.metaChar+"))+",hn.value=hn.string+"|"+hn.number,hn.id=hn.variable,function(){var u,o,l;for(u=hn.comparatorOp.split("|"),l=0;l<u.length;l++)hn.comparatorOp+="|@"+(o=u[l]);for(u=hn.comparatorOp.split("|"),l=0;l<u.length;l++)!((o=u[l]).indexOf("!")>=0)&&"="!==o&&(hn.comparatorOp+="|\\!"+o)}();var _l=[{selector:":selected",matches:function(o){return o.selected()}},{selector:":unselected",matches:function(o){return!o.selected()}},{selector:":selectable",matches:function(o){return o.selectable()}},{selector:":unselectable",matches:function(o){return!o.selectable()}},{selector:":locked",matches:function(o){return o.locked()}},{selector:":unlocked",matches:function(o){return!o.locked()}},{selector:":visible",matches:function(o){return o.visible()}},{selector:":hidden",matches:function(o){return!o.visible()}},{selector:":transparent",matches:function(o){return o.transparent()}},{selector:":grabbed",matches:function(o){return o.grabbed()}},{selector:":free",matches:function(o){return!o.grabbed()}},{selector:":removed",matches:function(o){return o.removed()}},{selector:":inside",matches:function(o){return!o.removed()}},{selector:":grabbable",matches:function(o){return o.grabbable()}},{selector:":ungrabbable",matches:function(o){return!o.grabbable()}},{selector:":animated",matches:function(o){return o.animated()}},{selector:":unanimated",matches:function(o){return!o.animated()}},{selector:":parent",matches:function(o){return o.isParent()}},{selector:":childless",matches:function(o){return o.isChildless()}},{selector:":child",matches:function(o){return o.isChild()}},{selector:":orphan",matches:function(o){return o.isOrphan()}},{selector:":nonorphan",matches:function(o){return o.isChild()}},{selector:":compound",matches:function(o){return o.isNode()?o.isParent():o.source().isParent()||o.target().isParent()}},{selector:":loop",matches:function(o){return o.isLoop()}},{selector:":simple",matches:function(o){return o.isSimple()}},{selector:":active",matches:function(o){return o.active()}},{selector:":inactive",matches:function(o){return!o.active()}},{selector:":backgrounding",matches:function(o){return o.backgrounding()}},{selector:":nonbackgrounding",matches:function(o){return!o.backgrounding()}}].sort(function(u,o){return function(o,l){return-1*ja(o,l)}(u.selector,o.selector)}),Ps=function(){for(var o,u={},l=0;l<_l.length;l++)u[(o=_l[l]).selector]=o.matches;return u}(),Du="("+_l.map(function(u){return u.selector}).join("|")+")",tl=function(o){return o.replace(new RegExp("\\\\("+hn.metaChar+")","g"),function(l,f){return f})},oi=function(o,l,f){o[o.length-1]=f},Xl=[{name:"group",query:!0,regex:"("+hn.group+")",populate:function(o,l,f){var p=le(f,1)[0];l.checks.push({type:0,value:"*"===p?p:p+"s"})}},{name:"state",query:!0,regex:Du,populate:function(o,l,f){var h=le(f,1);l.checks.push({type:7,value:h[0]})}},{name:"id",query:!0,regex:"\\#("+hn.id+")",populate:function(o,l,f){var h=le(f,1);l.checks.push({type:8,value:tl(h[0])})}},{name:"className",query:!0,regex:"\\.("+hn.className+")",populate:function(o,l,f){var h=le(f,1);l.checks.push({type:9,value:tl(h[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+hn.variable+")\\s*\\]",populate:function(o,l,f){var h=le(f,1);l.checks.push({type:4,field:tl(h[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+hn.variable+")\\s*("+hn.comparatorOp+")\\s*("+hn.value+")\\s*\\]",populate:function(o,l,f){var h=le(f,3),p=h[0],g=h[1],_=h[2];_=null!=new RegExp("^"+hn.string+"$").exec(_)?_.substring(1,_.length-1):parseFloat(_),l.checks.push({type:3,field:tl(p),operator:g,value:_})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+hn.boolOp+")\\s*("+hn.variable+")\\s*\\]",populate:function(o,l,f){var h=le(f,2),p=h[0];l.checks.push({type:5,field:tl(h[1]),operator:p})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+hn.meta+")\\s*("+hn.comparatorOp+")\\s*("+hn.number+")\\s*\\]\\]",populate:function(o,l,f){var h=le(f,3),g=h[1],_=h[2];l.checks.push({type:6,field:tl(h[0]),operator:g,value:parseFloat(_)})}},{name:"nextQuery",separator:!0,regex:hn.separator,populate:function(o,l){var f=o.currentSubject,h=o.edgeCount,p=o.compoundCount,g=o[o.length-1];return null!=f&&(g.subject=f,o.currentSubject=null),g.edgeCount=h,g.compoundCount=p,o.edgeCount=0,o.compoundCount=0,o[o.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:hn.directedEdge,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},p={checks:[]};return f.checks.push({type:11,source:l,target:p}),oi(o,0,f),o.edgeCount++,p}var g={checks:[]},E={checks:[]};return g.checks.push({type:12,source:l,target:E}),oi(o,0,g),o.edgeCount++,E}},{name:"undirectedEdge",separator:!0,regex:hn.undirectedEdge,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},p={checks:[]};return f.checks.push({type:10,nodes:[l,p]}),oi(o,0,f),o.edgeCount++,p}var g={checks:[]},E={checks:[]};return g.checks.push({type:14,node:l,neighbor:E}),oi(o,0,g),E}},{name:"child",separator:!0,regex:hn.child,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},h={checks:[]};return f.checks.push({type:15,parent:o[o.length-1],child:h}),oi(o,0,f),o.compoundCount++,h}if(o.currentSubject===l){var g={checks:[]},E={checks:[]},x={checks:[]},M={checks:[]},F={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:E,subject:x}),x.checks=l.checks,l.checks=[{type:20}],F.checks.push({type:20}),E.checks.push({type:17,parent:F,child:M}),oi(o,0,g),o.currentSubject=x,o.compoundCount++,M}var U={checks:[]},W={checks:[]},j=[{type:17,parent:U,child:W}];return U.checks=l.checks,l.checks=j,o.compoundCount++,W}},{name:"descendant",separator:!0,regex:hn.descendant,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},h={checks:[]};return f.checks.push({type:16,ancestor:o[o.length-1],descendant:h}),oi(o,0,f),o.compoundCount++,h}if(o.currentSubject===l){var g={checks:[]},E={checks:[]},x={checks:[]},M={checks:[]},F={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:E,subject:x}),x.checks=l.checks,l.checks=[{type:20}],F.checks.push({type:20}),E.checks.push({type:18,ancestor:F,descendant:M}),oi(o,0,g),o.currentSubject=x,o.compoundCount++,M}var U={checks:[]},W={checks:[]},j=[{type:18,ancestor:U,descendant:W}];return U.checks=l.checks,l.checks=j,o.compoundCount++,W}},{name:"subject",modifier:!0,regex:hn.subject,populate:function(o,l){if(null!=o.currentSubject&&o.currentSubject!==l)return Tr("Redefinition of subject in selector `"+o.toString()+"`"),!1;o.currentSubject=l;var h=o[o.length-1].checks[0],p=null==h?null:h.type;11===p?h.type=13:10===p&&(h.type=14,h.node=h.nodes[1],h.neighbor=h.nodes[0],h.nodes=null)}}];Xl.forEach(function(u){return u.regexObj=new RegExp("^"+u.regex)});var Qa=function(o){for(var l,f,h,p=0;p<Xl.length;p++){var g=Xl[p],_=g.name,E=o.match(g.regexObj);if(null!=E){f=E,l=g,h=_,o=o.substring(E[0].length);break}}return{expr:l,match:f,name:h,remaining:o}},Df={parse:function(o){var l=this,f=l.inputText=o,h=l[0]={checks:[]};for(l.length=1,f=function(o){var l=o.match(/^\s+/);return l&&(o=o.substring(l[0].length)),o}(f);;){var p=Qa(f);if(null==p.expr)return Tr("The selector `"+o+"`is invalid"),!1;var g=p.match.slice(1),_=p.expr.populate(l,h,g);if(!1===_)return!1;if(null!=_&&(h=_),(f=p.remaining).match(/^\s*$/))break}var E=l[l.length-1];null!=l.currentSubject&&(E.subject=l.currentSubject),E.edgeCount=l.edgeCount,E.compoundCount=l.compoundCount;for(var x=0;x<l.length;x++){var M=l[x];if(M.compoundCount>0&&M.edgeCount>0)return Tr("The selector `"+o+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(M.edgeCount>1)return Tr("The selector `"+o+"` is invalid because it uses multiple edge selectors"),!1;1===M.edgeCount&&Tr("The selector `"+o+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var o=function(M){return M??""},l=function(M){return Be(M)?'"'+M+'"':o(M)},f=function(M){return" "+M+" "},p=function(M,F){return M.checks.reduce(function(U,W,j){return U+(F===M&&0===j?"$":"")+function(M,F){var W=M.value;switch(M.type){case 0:var j=o(W);return j.substring(0,j.length-1);case 3:return"["+M.field+f(o(M.operator))+l(W)+"]";case 5:var fe=M.field;return"["+o(M.operator)+fe+"]";case 4:return"["+M.field+"]";case 6:return"[["+M.field+f(o(M.operator))+l(W)+"]]";case 7:return W;case 8:return"#"+W;case 9:return"."+W;case 17:case 15:return p(M.parent,F)+f(">")+p(M.child,F);case 18:case 16:return p(M.ancestor,F)+" "+p(M.descendant,F);case 19:var Ae=p(M.left,F),be=p(M.subject,F),Te=p(M.right,F);return Ae+(Ae.length>0?" ":"")+be+Te;case 20:return""}}(W,F)},"")},g="",_=0;_<this.length;_++){var E=this[_];g+=p(E,E.subject),this.length>1&&_<this.length-1&&(g+=", ")}return this.toStringCache=g,g}},hs=function(o,l,f){var h,E,x,p=Be(o),g=qe(o),_=Be(f),M=!1,F=!1,U=!1;switch(l.indexOf("!")>=0&&(l=l.replace("!",""),F=!0),l.indexOf("@")>=0&&(l=l.replace("@",""),M=!0),(p||_||M)&&(E=p||g?""+o:"",x=""+f),M&&(o=E=E.toLowerCase(),f=x=x.toLowerCase()),l){case"*=":h=E.indexOf(x)>=0;break;case"$=":h=E.indexOf(x,E.length-x.length)>=0;break;case"^=":h=0===E.indexOf(x);break;case"=":h=o===f;break;case">":U=!0,h=o>f;break;case">=":U=!0,h=o>=f;break;case"<":U=!0,h=o<f;break;case"<=":U=!0,h=o<=f;break;default:h=!1}return F&&(null!=o||!U)&&(h=!h),h},Po=function(o,l){return o.data(l)},yi=[],wi=function(o,l){return o.checks.every(function(f){return yi[f.type](f,l)})};yi[0]=function(u,o){var l=u.value;return"*"===l||l===o.group()},yi[7]=function(u,o){return function(o,l){return Ps[o](l)}(u.value,o)},yi[8]=function(u,o){var l=u.value;return o.id()===l},yi[9]=function(u,o){return o.hasClass(u.value)},yi[6]=function(u,o){var f=u.operator,h=u.value;return hs(function(o,l){return o[l]()}(o,u.field),f,h)},yi[3]=function(u,o){var f=u.operator,h=u.value;return hs(Po(o,u.field),f,h)},yi[5]=function(u,o){var f=u.operator;return function(o,l){switch(l){case"?":return!!o;case"!":return!o;case"^":return void 0===o}}(Po(o,u.field),f)},yi[4]=function(u,o){return function(o){return void 0!==o}(Po(o,u.field))},yi[10]=function(u,o){var l=u.nodes[0],f=u.nodes[1],h=o.source(),p=o.target();return wi(l,h)&&wi(f,p)||wi(f,h)&&wi(l,p)},yi[14]=function(u,o){return wi(u.node,o)&&o.neighborhood().some(function(l){return l.isNode()&&wi(u.neighbor,l)})},yi[11]=function(u,o){return wi(u.source,o.source())&&wi(u.target,o.target())},yi[12]=function(u,o){return wi(u.source,o)&&o.outgoers().some(function(l){return l.isNode()&&wi(u.target,l)})},yi[13]=function(u,o){return wi(u.target,o)&&o.incomers().some(function(l){return l.isNode()&&wi(u.source,l)})},yi[15]=function(u,o){return wi(u.child,o)&&wi(u.parent,o.parent())},yi[17]=function(u,o){return wi(u.parent,o)&&o.children().some(function(l){return wi(u.child,l)})},yi[16]=function(u,o){return wi(u.descendant,o)&&o.ancestors().some(function(l){return wi(u.ancestor,l)})},yi[18]=function(u,o){return wi(u.ancestor,o)&&o.descendants().some(function(l){return wi(u.descendant,l)})},yi[19]=function(u,o){return wi(u.subject,o)&&wi(u.left,o)&&wi(u.right,o)},yi[20]=function(){return!0},yi[1]=function(u,o){return u.value.has(o)},yi[2]=function(u,o){return(0,u.value)(o)};var my={matches:function(o){for(var f=0;f<this.length;f++)if(wi(this[f],o))return!0;return!1},filter:function(o){var l=this;if(1===l.length&&1===l[0].checks.length&&8===l[0].checks[0].type)return o.getElementById(l[0].checks[0].value).collection();var f=function(p){for(var g=0;g<l.length;g++)if(wi(l[g],p))return!0;return!1};return null==l.text()&&(f=function(){return!0}),o.filter(f)}},Tu=function(o){this.inputText=o,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==o||Be(o)&&o.match(/^\s*$/)||(It(o)?this.addQuery({checks:[{type:1,value:o.collection()}]}):at(o)?this.addQuery({checks:[{type:2,value:o}]}):Be(o)?this.parse(o)||(this.invalid=!0):ri("A selector must be created from a string; found "))},wl=Tu.prototype;[Df,my].forEach(function(u){return Nn(wl,u)}),wl.text=function(){return this.inputText},wl.size=function(){return this.length},wl.eq=function(u){return this[u]},wl.sameText=function(u){return!this.invalid&&!u.invalid&&this.text()===u.text()},wl.addQuery=function(u){this[this.length++]=u},wl.selector=wl.toString;var Kl={allAre:function(o){var l=new Tu(o);return this.every(function(f){return l.matches(f)})},is:function(o){var l=new Tu(o);return this.some(function(f){return l.matches(f)})},some:function(o,l){for(var f=0;f<this.length;f++)if(l?o.apply(l,[this[f],f,this]):o(this[f],f,this))return!0;return!1},every:function(o,l){for(var f=0;f<this.length;f++)if(!(l?o.apply(l,[this[f],f,this]):o(this[f],f,this)))return!1;return!0},same:function(o){if(this===o)return!0;o=this.cy().collection(o);var l=this.length;return l===o.length&&(1===l?this[0]===o[0]:this.every(function(h){return o.hasElementWithId(h.id())}))},anySame:function(o){return o=this.cy().collection(o),this.some(function(l){return o.hasElementWithId(l.id())})},allAreNeighbors:function(o){o=this.cy().collection(o);var l=this.neighborhood();return o.every(function(f){return l.hasElementWithId(f.id())})},contains:function(o){o=this.cy().collection(o);var l=this;return o.every(function(f){return l.hasElementWithId(f.id())})}};Kl.allAreNeighbours=Kl.allAreNeighbors,Kl.has=Kl.contains,Kl.equal=Kl.equals=Kl.same;var ql,Tf,Ja=function(o,l){return function(h,p,g,_){var M,E=h,x=this;if(null==E?M="":It(E)&&1===E.length&&(M=E.id()),1===x.length&&M){var F=x[0]._private,U=F.traversalCache=F.traversalCache||{},W=U[l]=U[l]||[],j=ss(M);return W[j]||(W[j]=o.call(x,h,p,g,_))}return o.call(x,h,p,g,_)}},gd={parent:function(o){var l=[];if(1===this.length){var f=this[0]._private.parent;if(f)return f}for(var h=0;h<this.length;h++){var g=this[h]._private.parent;g&&l.push(g)}return this.spawn(l,!0).filter(o)},parents:function(o){for(var l=[],f=this.parent();f.nonempty();){for(var h=0;h<f.length;h++)l.push(f[h]);f=f.parent()}return this.spawn(l,!0).filter(o)},commonAncestors:function(o){for(var l,f=0;f<this.length;f++){var p=this[f].parents();l=(l=l||p).intersect(p)}return l.filter(o)},orphans:function(o){return this.stdFilter(function(l){return l.isOrphan()}).filter(o)},nonorphans:function(o){return this.stdFilter(function(l){return l.isChild()}).filter(o)},children:Ja(function(u){for(var o=[],l=0;l<this.length;l++)for(var h=this[l]._private.children,p=0;p<h.length;p++)o.push(h[p]);return this.spawn(o,!0).filter(u)},"children"),siblings:function(o){return this.parent().children().not(this).filter(o)},isParent:function(){var o=this[0];if(o)return o.isNode()&&0!==o._private.children.length},isChildless:function(){var o=this[0];if(o)return o.isNode()&&0===o._private.children.length},isChild:function(){var o=this[0];if(o)return o.isNode()&&null!=o._private.parent},isOrphan:function(){var o=this[0];if(o)return o.isNode()&&null==o._private.parent},descendants:function(o){var l=[];return function f(h){for(var p=0;p<h.length;p++){var g=h[p];l.push(g),g.children().nonempty()&&f(g.children())}}(this.children()),this.spawn(l,!0).filter(o)}};function Sf(u,o,l,f){for(var h=[],p=new As,_=u.cy().hasCompoundNodes(),E=0;E<u.length;E++){var x=u[E];l?h.push(x):_&&f(h,p,x)}for(;h.length>0;){var M=h.shift();o(M),p.add(M.id()),_&&f(h,p,M)}return u}function xh(u,o,l){if(l.isParent())for(var f=l._private.children,h=0;h<f.length;h++){var p=f[h];o.has(p.id())||u.push(p)}}function kp(u,o,l){if(l.isChild()){var f=l._private.parent;o.has(f.id())||u.push(f)}}function fm(u,o,l){kp(u,o,l),xh(u,o,l)}gd.forEachDown=function(u){return Sf(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],xh)},gd.forEachUp=function(u){return Sf(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],kp)},gd.forEachUpAndDown=function(u){return Sf(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],fm)},gd.ancestors=gd.parents,ql=Tf={data:ur.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ur.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ur.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ur.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ur.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ur.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var o=this[0];if(o)return o._private.data.id}},ql.attr=ql.data,ql.removeAttr=ql.removeData;var Mf=Tf,Eh={};function md(u){return function(o){var l=this;if(void 0===o&&(o=!0),0===l.length);else if(l.isNode()&&!l.removed()){for(var f=0,h=l[0],p=h._private.edges,g=0;g<p.length;g++){var _=p[g];!o&&_.isLoop()||(f+=u(h,_))}return f}}}function co(u,o){return function(l){for(var f,h=this.nodes(),p=0;p<h.length;p++){var _=h[p][u](l);void 0!==_&&(void 0===f||o(_,f))&&(f=_)}return f}}Nn(Eh,{degree:md(function(u,o){return o.source().same(o.target())?2:1}),indegree:md(function(u,o){return o.target().same(u)?1:0}),outdegree:md(function(u,o){return o.source().same(u)?1:0})}),Nn(Eh,{minDegree:co("degree",function(u,o){return u<o}),maxDegree:co("degree",function(u,o){return u>o}),minIndegree:co("indegree",function(u,o){return u<o}),maxIndegree:co("indegree",function(u,o){return u>o}),minOutdegree:co("outdegree",function(u,o){return u<o}),maxOutdegree:co("outdegree",function(u,o){return u>o})}),Nn(Eh,{totalDegree:function(o){for(var l=0,f=this.nodes(),h=0;h<f.length;h++)l+=f[h].degree(o);return l}});var es,hm,vd=function(o,l,f){for(var h=0;h<o.length;h++){var p=o[h];if(!p.locked()){var g=p._private.position,_={x:null!=l.x?l.x-g.x:0,y:null!=l.y?l.y-g.y:0};p.isParent()&&!(0===_.x&&0===_.y)&&p.children().shift(_,f),p.dirtyBoundingBoxCache()}}},ba={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(o){o.updateCompoundBounds()},beforeSet:function(o,l){vd(o,l,!1)},onSet:function(o){o.dirtyCompoundBoundsCache()},canSet:function(o){return!o.locked()}};es=hm={position:ur.data(ba),silentPosition:ur.data(Nn({},ba,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(o,l){vd(o,l,!0)},onSet:function(o){o.dirtyCompoundBoundsCache()}})),positions:function(o,l){if(Ke(o))l?this.silentPosition(o):this.position(o);else if(at(o)){var f=o,h=this.cy();h.startBatch();for(var p=0;p<this.length;p++){var _,g=this[p];(_=f(g,p))&&(l?g.silentPosition(_):g.position(_))}h.endBatch()}return this},silentPositions:function(o){return this.positions(o,!0)},shift:function(o,l,f){var h;if(Ke(o)?(h={x:qe(o.x)?o.x:0,y:qe(o.y)?o.y:0},f=l):Be(o)&&qe(l)&&((h={x:0,y:0})[o]=l),null!=h){var p=this.cy();p.startBatch();for(var g=0;g<this.length;g++){var _=this[g];if(!(p.hasCompoundNodes()&&_.isChild()&&_.ancestors().anySame(this))){var E=_.position(),x={x:E.x+h.x,y:E.y+h.y};f?_.silentPosition(x):_.position(x)}}p.endBatch()}return this},silentShift:function(o,l){return Ke(o)?this.shift(o,!0):Be(o)&&qe(l)&&this.shift(o,l,!0),this},renderedPosition:function(o,l){var f=this[0],h=this.cy(),p=h.zoom(),g=h.pan(),_=Ke(o)?o:void 0,E=void 0!==_||void 0!==l&&Be(o);if(f&&f.isNode()){if(!E){var F=f.position();return _=Lr(F,p,g),void 0===o?_:_[o]}for(var x=0;x<this.length;x++){var M=this[x];void 0!==l?M.position(o,(l-g[o])/p):void 0!==_&&M.position(gi(_,p,g))}}else if(!E)return;return this},relativePosition:function(o,l){var f=this[0],h=this.cy(),p=Ke(o)?o:void 0,g=void 0!==p||void 0!==l&&Be(o),_=h.hasCompoundNodes();if(f&&f.isNode()){if(!g){var j=f.position(),Z=_?f.parent():null,J=Z&&Z.length>0;J&&(Z=Z[0]);var fe=J?Z.position():{x:0,y:0};return p={x:j.x-fe.x,y:j.y-fe.y},void 0===o?p:p[o]}for(var E=0;E<this.length;E++){var x=this[E],M=_?x.parent():null,F=M&&M.length>0;F&&(M=M[0]);var W=F?M.position():{x:0,y:0};void 0!==l?x.position(o,l+W[o]):void 0!==p&&x.position({x:p.x+W.x,y:p.y+W.y})}}else if(!g)return;return this}},es.modelPosition=es.point=es.position,es.modelPositions=es.points=es.positions,es.renderedPoint=es.renderedPosition,es.relativePoint=es.relativePosition;var ca,_a,Wr=hm;ca=_a={},_a.renderedBoundingBox=function(u){var o=this.boundingBox(u),l=this.cy(),f=l.zoom(),h=l.pan(),p=o.x1*f+h.x,g=o.x2*f+h.x,_=o.y1*f+h.y,E=o.y2*f+h.y;return{x1:p,x2:g,y1:_,y2:E,w:g-p,h:E-_}},_a.dirtyCompoundBoundsCache=function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();return o.styleEnabled()&&o.hasCompoundNodes()?(this.forEachUp(function(l){if(l.isParent()){var f=l._private;f.compoundBoundsClean=!1,f.bbCache=null,u||l.emitAndNotify("bounds")}}),this):this},_a.updateCompoundBounds=function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();if(!o.styleEnabled()||!o.hasCompoundNodes())return this;if(!u&&o.batching())return this;function l(g){if(g.isParent()){var _=g._private,E=g.children(),x="include"===g.pstyle("compound-sizing-wrt-labels").value,M={width:{val:g.pstyle("min-width").pfValue,left:g.pstyle("min-width-bias-left"),right:g.pstyle("min-width-bias-right")},height:{val:g.pstyle("min-height").pfValue,top:g.pstyle("min-height-bias-top"),bottom:g.pstyle("min-height-bias-bottom")}},F=E.boundingBox({includeLabels:x,includeOverlays:!1,useCache:!1}),U=_.position;(0===F.w||0===F.h)&&((F={w:g.pstyle("width").pfValue,h:g.pstyle("height").pfValue}).x1=U.x-F.w/2,F.x2=U.x+F.w/2,F.y1=U.y-F.h/2,F.y2=U.y+F.h/2);var Z=M.width.left.value;"px"===M.width.left.units&&M.width.val>0&&(Z=100*Z/M.width.val);var J=M.width.right.value;"px"===M.width.right.units&&M.width.val>0&&(J=100*J/M.width.val);var re=M.height.top.value;"px"===M.height.top.units&&M.height.val>0&&(re=100*re/M.height.val);var fe=M.height.bottom.value;"px"===M.height.bottom.units&&M.height.val>0&&(fe=100*fe/M.height.val);var he=W(M.width.val-F.w,Z,J),ye=he.biasDiff,Me=he.biasComplementDiff,Ae=W(M.height.val-F.h,re,fe),be=Ae.biasDiff,Te=Ae.biasComplementDiff;_.autoPadding=function j(_e,ke,Pe,xe){if("%"!==Pe.units)return"px"===Pe.units?Pe.pfValue:0;switch(xe){case"width":return _e>0?Pe.pfValue*_e:0;case"height":return ke>0?Pe.pfValue*ke:0;case"average":return _e>0&&ke>0?Pe.pfValue*(_e+ke)/2:0;case"min":return _e>0&&ke>0?_e>ke?Pe.pfValue*ke:Pe.pfValue*_e:0;case"max":return _e>0&&ke>0?_e>ke?Pe.pfValue*_e:Pe.pfValue*ke:0;default:return 0}}(F.w,F.h,g.pstyle("padding"),g.pstyle("padding-relative-to").value),_.autoWidth=Math.max(F.w,M.width.val),U.x=(-ye+F.x1+F.x2+Me)/2,_.autoHeight=Math.max(F.h,M.height.val),U.y=(-be+F.y1+F.y2+Te)/2}function W(_e,ke,Pe){var xe=0,He=0,Ne=ke+Pe;return _e>0&&Ne>0&&(xe=ke/Ne*_e,He=Pe/Ne*_e),{biasDiff:xe,biasComplementDiff:He}}}for(var f=0;f<this.length;f++){var h=this[f],p=h._private;(!p.compoundBoundsClean||u)&&(l(h),o.batching()||(p.compoundBoundsClean=!0))}return this};var Fo=function(o){return o===1/0||o===-1/0?0:o},ps=function(o,l,f,h,p){h-l==0||p-f==0||null==l||null==f||null==h||null==p||(o.x1=l<o.x1?l:o.x1,o.x2=h>o.x2?h:o.x2,o.y1=f<o.y1?f:o.y1,o.y2=p>o.y2?p:o.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1)},Bo=function(o,l){return null==l?o:ps(o,l.x1,l.y1,l.x2,l.y2)},Cl=function(o,l,f){return Qi(o,l,f)},eo=function(o,l,f){if(!l.cy().headless()){var E,x,h=l._private,p=h.rstyle,g=p.arrowWidth/2;if("none"!==l.pstyle(f+"-arrow-shape").value){"source"===f?(E=p.srcX,x=p.srcY):"target"===f?(E=p.tgtX,x=p.tgtY):(E=p.midX,x=p.midY);var M=h.arrowBounds=h.arrowBounds||{},F=M[f]=M[f]||{};F.x1=E-g,F.y1=x-g,F.x2=E+g,F.y2=x+g,F.w=F.x2-F.x1,F.h=F.y2-F.y1,Na(F,1),ps(o,F.x1,F.y1,F.x2,F.y2)}}},vc=function(o,l,f){if(!l.cy().headless()){var h,p=l._private,g=p.rstyle;if(l.pstyle((h=f?f+"-":"")+"label").strValue){var Pe,xe,He,Ne,E=l.pstyle("text-halign"),x=l.pstyle("text-valign"),M=Cl(g,"labelWidth",f),F=Cl(g,"labelHeight",f),U=Cl(g,"labelX",f),W=Cl(g,"labelY",f),j=l.pstyle(h+"text-margin-x").pfValue,Z=l.pstyle(h+"text-margin-y").pfValue,J=l.isEdge(),re=l.pstyle(h+"text-rotation"),fe=l.pstyle("text-outline-width").pfValue,ye=l.pstyle("text-border-width").pfValue/2,Me=l.pstyle("text-background-padding").pfValue,be=F,Te=M,_e=Te/2,ke=be/2;if(J)Pe=U-_e,xe=U+_e,He=W-ke,Ne=W+ke;else{switch(E.value){case"left":Pe=U-Te,xe=U;break;case"center":Pe=U-_e,xe=U+_e;break;case"right":Pe=U,xe=U+Te}switch(x.value){case"top":He=W-be,Ne=W;break;case"center":He=W-ke,Ne=W+ke;break;case"bottom":He=W,Ne=W+be}}Pe+=j-Math.max(fe,ye)-Me-2,xe+=j+Math.max(fe,ye)+Me+2,He+=Z-Math.max(fe,ye)-Me-2,Ne+=Z+Math.max(fe,ye)+Me+2;var Je=f||"main",Ue=p.labelBounds,Ge=Ue[Je]=Ue[Je]||{};Ge.x1=Pe,Ge.y1=He,Ge.x2=xe,Ge.y2=Ne,Ge.w=xe-Pe,Ge.h=Ne-He;var ot=J&&"autorotate"===re.strValue;if(ot||null!=re.pfValue&&0!==re.pfValue){var yt=ot?Cl(p.rstyle,"labelAngle",f):re.pfValue,st=Math.cos(yt),vt=Math.sin(yt),At=(Pe+xe)/2,Ot=(He+Ne)/2;if(!J){switch(E.value){case"left":At=xe;break;case"right":At=Pe}switch(x.value){case"top":Ot=Ne;break;case"bottom":Ot=He}}var Dt=function(ar,sn){return{x:(ar-=At)*st-(sn-=Ot)*vt+At,y:ar*vt+sn*st+Ot}},wt=Dt(Pe,He),nt=Dt(Pe,Ne),Mt=Dt(xe,He),Nt=Dt(xe,Ne);Pe=Math.min(wt.x,nt.x,Mt.x,Nt.x),xe=Math.max(wt.x,nt.x,Mt.x,Nt.x),He=Math.min(wt.y,nt.y,Mt.y,Nt.y),Ne=Math.max(wt.y,nt.y,Mt.y,Nt.y)}var Wt=Je+"Rot",rn=Ue[Wt]=Ue[Wt]||{};rn.x1=Pe,rn.y1=He,rn.x2=xe,rn.y2=Ne,rn.w=xe-Pe,rn.h=Ne-He,ps(o,Pe,He,xe,Ne),ps(p.labelBounds.all,Pe,He,xe,Ne)}return o}},yd=function(o){var l=0,f=function(g){return(g?1:0)<<l++},h=0;return h+=f(o.incudeNodes),h+=f(o.includeEdges),h+=f(o.includeLabels),h+=f(o.includeMainLabels),h+=f(o.includeSourceLabels),(h+=f(o.includeTargetLabels))+f(o.includeOverlays)},yc=function(o){if(o.isEdge()){var l=o.source().position(),f=o.target().position(),h=function(g){return Math.round(g)};return function(o,l){var f={value:0,done:!1},h=0,p=o.length;return Jc({next:function(){return h<p?f.value=o[h++]:f.done=!0,f}},void 0)}([h(l.x),h(l.y),h(f.x),h(f.y)])}return 0},gs=function(o,l){var h,f=o._private,p=o.isEdge(),_=(null==l?Pp:yd(l))===Pp,E=yc(o),x=f.bbCachePosKey===E,M=l.useCache&&x,F=function(Z){return null==Z._private.bbCache||Z._private.styleDirty};if(!M||F(o)||p&&F(o.source())||F(o.target())?(x||o.recalculateRenderedStyle(M),h=function(o,l){var M,F,U,W,j,Z,f=o._private.cy,h=f.styleEnabled(),p=f.headless(),g=Mi(),_=o._private,E=o.isNode(),x=o.isEdge(),J=_.rstyle,re=E&&h?o.pstyle("bounds-expansion").pfValue:[0],fe=function(Pn){return"none"!==Pn.pstyle("display").value},he=!h||fe(o)&&(!x||fe(o.source())&&fe(o.target()));if(he){var Me=0;h&&l.includeOverlays&&0!==o.pstyle("overlay-opacity").value&&(Me=o.pstyle("overlay-padding").value);var be=0;h&&l.includeUnderlays&&0!==o.pstyle("underlay-opacity").value&&(be=o.pstyle("underlay-padding").value);var Te=Math.max(Me,be),ke=0;if(h&&(ke=o.pstyle("width").pfValue/2),E&&l.includeNodes){var Pe=o.position();j=Pe.x,Z=Pe.y;var He=o.outerWidth()/2,Je=o.outerHeight()/2;ps(g,M=j-He,U=Z-Je,F=j+He,W=Z+Je)}else if(x&&l.includeEdges)if(h&&!p){var Ue=o.pstyle("curve-style").strValue;if(M=Math.min(J.srcX,J.midX,J.tgtX),F=Math.max(J.srcX,J.midX,J.tgtX),U=Math.min(J.srcY,J.midY,J.tgtY),W=Math.max(J.srcY,J.midY,J.tgtY),ps(g,M-=ke,U-=ke,F+=ke,W+=ke),"haystack"===Ue){var Ge=J.haystackPts;if(Ge&&2===Ge.length){if((M=Ge[0].x)>(F=Ge[1].x)){var ot=M;M=F,F=ot}if((U=Ge[0].y)>(W=Ge[1].y)){var dt=U;U=W,W=dt}ps(g,M-ke,U-ke,F+ke,W+ke)}}else if("bezier"===Ue||"unbundled-bezier"===Ue||"segments"===Ue||"taxi"===Ue){var yt;switch(Ue){case"bezier":case"unbundled-bezier":yt=J.bezierPts;break;case"segments":case"taxi":yt=J.linePts}if(null!=yt)for(var st=0;st<yt.length;st++){var vt=yt[st];ps(g,M=vt.x-ke,U=vt.y-ke,F=vt.x+ke,W=vt.y+ke)}}}else{var Ot=o.source().position(),wt=o.target().position();if((M=Ot.x)>(F=wt.x)){var nt=M;M=F,F=nt}if((U=Ot.y)>(W=wt.y)){var Mt=U;U=W,W=Mt}ps(g,M-=ke,U-=ke,F+=ke,W+=ke)}if(h&&l.includeEdges&&x&&(eo(g,o,"mid-source"),eo(g,o,"mid-target"),eo(g,o,"source"),eo(g,o,"target")),h&&"yes"===o.pstyle("ghost").value){var Wt=o.pstyle("ghost-offset-x").pfValue,rn=o.pstyle("ghost-offset-y").pfValue;ps(g,g.x1+Wt,g.y1+rn,g.x2+Wt,g.y2+rn)}var Xn=_.bodyBounds=_.bodyBounds||{};io(Xn,g),Os(Xn,re),Na(Xn,1),h&&ps(g,(M=g.x1)-Te,(U=g.y1)-Te,(F=g.x2)+Te,(W=g.y2)+Te);var ar=_.overlayBounds=_.overlayBounds||{};io(ar,g),Os(ar,re),Na(ar,1);var sn=_.labelBounds=_.labelBounds||{};null!=sn.all?function(o){o.x1=1/0,o.y1=1/0,o.x2=-1/0,o.y2=-1/0,o.w=0,o.h=0}(sn.all):sn.all=Mi(),h&&l.includeLabels&&(l.includeMainLabels&&vc(g,o,null),x&&(l.includeSourceLabels&&vc(g,o,"source"),l.includeTargetLabels&&vc(g,o,"target")))}return g.x1=Fo(g.x1),g.y1=Fo(g.y1),g.x2=Fo(g.x2),g.y2=Fo(g.y2),g.w=Fo(g.x2-g.x1),g.h=Fo(g.y2-g.y1),g.w>0&&g.h>0&&he&&(Os(g,re),Na(g,1)),g}(o,bc),f.bbCache=h,f.bbCachePosKey=E):h=f.bbCache,!_){var W=o.isNode();h=Mi(),(l.includeNodes&&W||l.includeEdges&&!W)&&Bo(h,l.includeOverlays?f.overlayBounds:f.bodyBounds),l.includeLabels&&(l.includeMainLabels&&(!p||l.includeSourceLabels&&l.includeTargetLabels)?Bo(h,f.labelBounds.all):(l.includeMainLabels&&Bo(h,f.labelBounds.mainRot),l.includeSourceLabels&&Bo(h,f.labelBounds.sourceRot),l.includeTargetLabels&&Bo(h,f.labelBounds.targetRot))),h.w=h.x2-h.x1,h.h=h.y2-h.y1}return h},bc={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},Pp=yd(bc),Dh=li(bc);_a.boundingBox=function(u){var o;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==u&&void 0!==u.useCache&&!0!==u.useCache){o=Mi();var l=Dh(u=u||bc),f=this;if(f.cy().styleEnabled())for(var g=0;g<f.length;g++){var _=f[g],E=_._private,x=yc(_);_.recalculateRenderedStyle(l.useCache&&E.bbCachePosKey===x&&!E.styleDirty)}this.updateCompoundBounds(!u.useCache);for(var U=0;U<f.length;U++)Bo(o,gs(f[U],l))}else u=void 0===u?bc:Dh(u),o=gs(this[0],u);return o.x1=Fo(o.x1),o.y1=Fo(o.y1),o.x2=Fo(o.x2),o.y2=Fo(o.y2),o.w=Fo(o.x2-o.x1),o.h=Fo(o.y2-o.y1),o},_a.dirtyBoundingBoxCache=function(){for(var u=0;u<this.length;u++){var o=this[u]._private;o.bbCache=null,o.bbCachePosKey=null,o.bodyBounds=null,o.overlayBounds=null,o.labelBounds.all=null,o.labelBounds.source=null,o.labelBounds.target=null,o.labelBounds.main=null,o.labelBounds.sourceRot=null,o.labelBounds.targetRot=null,o.labelBounds.mainRot=null,o.arrowBounds.source=null,o.arrowBounds.target=null,o.arrowBounds["mid-source"]=null,o.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},_a.boundingBoxAt=function(u){var o=this.nodes(),l=this.cy(),f=l.hasCompoundNodes(),h=l.collection();if(f&&(h=o.filter(function(x){return x.isParent()}),o=o.not(h)),Ke(u)){var p=u;u=function(){return p}}l.startBatch(),o.forEach(function(M,F){return M._private.bbAtOldPos=u(M,F)}).silentPositions(u),f&&(h.dirtyCompoundBoundsCache(),h.dirtyBoundingBoxCache(),h.updateCompoundBounds(!0));var E=function(o){return{x1:o.x1,x2:o.x2,w:o.w,y1:o.y1,y2:o.y2,h:o.h}}(this.boundingBox({useCache:!1}));return o.silentPositions(function(M){return M._private.bbAtOldPos}),f&&(h.dirtyCompoundBoundsCache(),h.dirtyBoundingBoxCache(),h.updateCompoundBounds(!0)),l.endBatch(),E},ca.boundingbox=ca.bb=ca.boundingBox,ca.renderedBoundingbox=ca.renderedBoundingBox;var Mu,xl,_c=_a;Mu=xl={};var Lp=function(o){o.uppercaseName=Xr(o.name),o.autoName="auto"+o.uppercaseName,o.labelName="label"+o.uppercaseName,o.outerName="outer"+o.uppercaseName,o.uppercaseOuterName=Xr(o.outerName),Mu[o.name]=function(){var f=this[0],h=f._private;if(f){if(h.cy._private.styleEnabled){if(f.isParent())return f.updateCompoundBounds(),h[o.autoName]||0;var _=f.pstyle(o.name);return"label"===_.strValue?(f.recalculateRenderedStyle(),h.rstyle[o.labelName]||0):_.pfValue}return 1}},Mu["outer"+o.uppercaseName]=function(){var f=this[0];if(f)return f._private.cy._private.styleEnabled?f[o.name]()+f.pstyle("border-width").pfValue+2*f.padding():1},Mu["rendered"+o.uppercaseName]=function(){var f=this[0];if(f)return f[o.name]()*this.cy().zoom()},Mu["rendered"+o.uppercaseOuterName]=function(){var f=this[0];if(f)return f[o.outerName]()*this.cy().zoom()}};Lp({name:"width"}),Lp({name:"height"}),xl.padding=function(){var u=this[0],o=u._private;return u.isParent()?(u.updateCompoundBounds(),void 0!==o.autoPadding?o.autoPadding:u.pstyle("padding").pfValue):u.pstyle("padding").pfValue},xl.paddedHeight=function(){var u=this[0];return u.height()+2*u.padding()},xl.paddedWidth=function(){var u=this[0];return u.width()+2*u.padding()};var pm=xl,Af={controlPoints:{get:function(o){return o.renderer().getControlPoints(o)},mult:!0},segmentPoints:{get:function(o){return o.renderer().getSegmentPoints(o)},mult:!0},sourceEndpoint:{get:function(o){return o.renderer().getSourceEndpoint(o)}},targetEndpoint:{get:function(o){return o.renderer().getTargetEndpoint(o)}},midpoint:{get:function(o){return o.renderer().getEdgeMidpoint(o)}}},Th=Object.keys(Af).reduce(function(u,o){var l=Af[o],f=function(o){return"rendered"+o[0].toUpperCase()+o.substr(1)}(o);return u[o]=function(){return function(o,l){if(o.isEdge())return l(o)}(this,l.get)},u[f]=l.mult?function(){return function(o,l){if(o.isEdge()){var f=o.cy(),h=f.pan(),p=f.zoom();return l(o).map(function(g){return Lr(g,p,h)})}}(this,l.get)}:function(){return function(o,l){if(o.isEdge()){var f=o.cy();return Lr(l(o),f.zoom(),f.pan())}}(this,l.get)},u},{}),Mh=Nn({},Wr,_c,pm,Th),wd=function(o,l){this.recycle(o,l)};function Cd(){return!1}function Fa(){return!0}wd.prototype={instanceString:function(){return"event"},recycle:function(o,l){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Cd,null!=o&&o.preventDefault?(this.type=o.type,this.isDefaultPrevented=o.defaultPrevented?Fa:Cd):null!=o&&o.type?l=o:this.type=o,null!=l&&(this.originalEvent=l.originalEvent,this.type=null!=l.type?l.type:this.type,this.cy=l.cy,this.target=l.target,this.position=l.position,this.renderedPosition=l.renderedPosition,this.namespace=l.namespace,this.layout=l.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var f=this.position,h=this.cy.zoom(),p=this.cy.pan();this.renderedPosition={x:f.x*h+p.x,y:f.y*h+p.y}}this.timeStamp=o&&o.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Fa;var o=this.originalEvent;o&&o.preventDefault&&o.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Fa;var o=this.originalEvent;o&&o.stopPropagation&&o.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Fa,this.stopPropagation()},isDefaultPrevented:Cd,isPropagationStopped:Cd,isImmediatePropagationStopped:Cd};var xo=/^([^.]+)(\.(?:[^.]+))?$/,fi={qualifierCompare:function(o,l){return o===l},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(o){return o},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Ih=Object.keys(fi),Ed={};function ji(){for(var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ed,o=arguments.length>1?arguments[1]:void 0,l=0;l<Ih.length;l++){var f=Ih[l];this[f]=u[f]||fi[f]}this.context=o||this.context,this.listeners=[],this.emitting=0}var Ls=ji.prototype,Of=function(o,l,f,h,p,g,_){at(h)&&(p=h,h=null),_&&(g=null==g?_:Nn({},g,_));for(var E=ht(f)?f:f.split(/\s+/),x=0;x<E.length;x++){var M=E[x];if(!Ft(M)){var F=M.match(xo);if(F&&!1===l(o,M,F[1],F[2]?F[2]:null,h,p,g))break}}},Zl=function(o,l){return o.addEventFields(o.context,l),new wd(l.type,l)};Ls.on=Ls.addListener=function(u,o,l,f,h){return Of(this,function(p,g,_,E,x,M,F){at(M)&&p.listeners.push({event:g,callback:M,type:_,namespace:E,qualifier:x,conf:F})},u,o,l,f,h),this},Ls.one=function(u,o,l,f){return this.on(u,o,l,f,{one:!0})},Ls.removeListener=Ls.off=function(u,o,l,f){var h=this;0!==this.emitting&&(this.listeners=function(o){return o.slice()}(this.listeners));for(var p=this.listeners,g=function(x){var M=p[x];Of(h,function(F,U,W,j,Z,J){if((M.type===W||"*"===u)&&(!j&&".*"!==M.namespace||M.namespace===j)&&(!Z||F.qualifierCompare(M.qualifier,Z))&&(!J||M.callback===J))return p.splice(x,1),!1},u,o,l,f)},_=p.length-1;_>=0;_--)g(_);return this},Ls.removeAllListeners=function(){return this.removeListener("*")},Ls.emit=Ls.trigger=function(u,o,l){var f=this.listeners,h=f.length;return this.emitting++,ht(o)||(o=[o]),function(o,l,f){if(function(o){return"event"===ze(o)}(f))l(o,f);else if(Ke(f))l(o,Zl(o,f));else for(var h=ht(f)?f:f.split(/\s+/),p=0;p<h.length;p++){var g=h[p];if(!Ft(g)){var _=g.match(xo);_&&l(o,Zl(o,{type:_[1],namespace:_[2]?_[2]:null,target:o.context}))}}}(this,function(p,g){null!=l&&(h=(f=[{event:g.event,type:g.type,namespace:g.namespace,callback:l}]).length);for(var _=function(M){var F=f[M];if(F.type===g.type&&(!F.namespace||F.namespace===g.namespace||".*"===F.namespace)&&p.eventMatches(p.context,F,g)){var U=[g];null!=o&&function(o,l){for(var f=0;f<l.length;f++)o.push(l[f])}(U,o),p.beforeEmit(p.context,F,g),F.conf&&F.conf.one&&(p.listeners=p.listeners.filter(function(Z){return Z!==F}));var W=p.callbackContext(p.context,F,g),j=F.callback.apply(W,U);p.afterEmit(p.context,F,g),!1===j&&(g.stopPropagation(),g.preventDefault())}},E=0;E<h;E++)_(E);p.bubble(p.context)&&!g.isPropagationStopped()&&p.parent(p.context).emit(g,o)},u),this.emitting--,this};var Cc={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,f){var h=l.qualifier;return null==h||o!==f.target&&vn(f.target)&&h.matches(f.target)},addEventFields:function(o,l){l.cy=o.cy(),l.target=o},callbackContext:function(o,l,f){return null!=l.qualifier?f.target:o},beforeEmit:function(o,l){l.conf&&l.conf.once&&l.conf.onceCollection.removeListener(l.event,l.qualifier,l.callback)},bubble:function(){return!0},parent:function(o){return o.isChild()?o.parent():o.cy()}},Dd=function(o){return Be(o)?new Tu(o):o},Sd={createEmitter:function(){for(var o=0;o<this.length;o++){var l=this[o],f=l._private;f.emitter||(f.emitter=new ji(Cc,l))}return this},emitter:function(){return this._private.emitter},on:function(o,l,f){for(var h=Dd(l),p=0;p<this.length;p++)this[p].emitter().on(o,h,f);return this},removeListener:function(o,l,f){for(var h=Dd(l),p=0;p<this.length;p++)this[p].emitter().removeListener(o,h,f);return this},removeAllListeners:function(){for(var o=0;o<this.length;o++)this[o].emitter().removeAllListeners();return this},one:function(o,l,f){for(var h=Dd(l),p=0;p<this.length;p++)this[p].emitter().one(o,h,f);return this},once:function(o,l,f){for(var h=Dd(l),p=0;p<this.length;p++)this[p].emitter().on(o,h,f,{once:!0,onceCollection:this})},emit:function(o,l){for(var f=0;f<this.length;f++)this[f].emitter().emit(o,l);return this},emitAndNotify:function(o,l){if(0!==this.length)return this.cy().notify(o,this),this.emit(o,l),this}};ur.eventAliasesOn(Sd);var nl={nodes:function(o){return this.filter(function(l){return l.isNode()}).filter(o)},edges:function(o){return this.filter(function(l){return l.isEdge()}).filter(o)},byGroup:function(){for(var o=this.spawn(),l=this.spawn(),f=0;f<this.length;f++){var h=this[f];h.isNode()?o.push(h):l.push(h)}return{nodes:o,edges:l}},filter:function(o,l){if(void 0===o)return this;if(Be(o)||It(o))return new Tu(o).filter(this);if(at(o)){for(var f=this.spawn(),h=this,p=0;p<h.length;p++){var g=h[p];(l?o.apply(l,[g,p,h]):o(g,p,h))&&f.push(g)}return f}return this.spawn()},not:function(o){if(o){Be(o)&&(o=this.filter(o));for(var l=this.spawn(),f=0;f<this.length;f++){var h=this[f];o.has(h)||l.push(h)}return l}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(o){if(Be(o))return this.filter(o);for(var f=this.spawn(),g=this.length<o.length,_=g?this:o,E=g?o:this,x=0;x<_.length;x++){var M=_[x];E.has(M)&&f.push(M)}return f},xor:function(o){var l=this._private.cy;Be(o)&&(o=l.$(o));var f=this.spawn(),p=o,g=function(E,x){for(var M=0;M<E.length;M++){var F=E[M];x.hasElementWithId(F._private.data.id)||f.push(F)}};return g(this,p),g(p,this),f},diff:function(o){var l=this._private.cy;Be(o)&&(o=l.$(o));var f=this.spawn(),h=this.spawn(),p=this.spawn(),_=o,E=function(M,F,U){for(var W=0;W<M.length;W++){var j=M[W];F.hasElementWithId(j._private.data.id)?p.merge(j):U.push(j)}};return E(this,_,f),E(_,this,h),{left:f,right:h,both:p}},add:function(o){var l=this._private.cy;if(!o)return this;if(Be(o)){var f=o;o=l.mutableElements().filter(f)}for(var h=this.spawnSelf(),p=0;p<o.length;p++){var g=o[p];!this.has(g)&&h.push(g)}return h},merge:function(o){var l=this._private,f=l.cy;if(!o)return this;if(o&&Be(o)){var h=o;o=f.mutableElements().filter(h)}for(var p=l.map,g=0;g<o.length;g++){var _=o[g],E=_._private.data.id;if(!p.has(E)){var M=this.length++;this[M]=_,p.set(E,{ele:_,index:M})}}return this},unmergeAt:function(o){var f=this[o].id(),p=this._private.map;if(this[o]=void 0,p.delete(f),this.length>1&&o!==this.length-1){var _=this.length-1,E=this[_],x=E._private.data.id;this[_]=void 0,this[o]=E,p.set(x,{ele:E,index:o})}return this.length--,this},unmergeOne:function(o){var p=this._private.map.get((o=o[0])._private.data.id);return p?(this.unmergeAt(p.index),this):this},unmerge:function(o){var l=this._private.cy;if(!o)return this;if(o&&Be(o)){var f=o;o=l.mutableElements().filter(f)}for(var h=0;h<o.length;h++)this.unmergeOne(o[h]);return this},unmergeBy:function(o){for(var l=this.length-1;l>=0;l--)o(this[l])&&this.unmergeAt(l);return this},map:function(o,l){for(var f=[],h=this,p=0;p<h.length;p++){var g=h[p],_=l?o.apply(l,[g,p,h]):o(g,p,h);f.push(_)}return f},reduce:function(o,l){for(var f=l,h=this,p=0;p<h.length;p++)f=o(f,h[p],p,h);return f},max:function(o,l){for(var h,f=-1/0,p=this,g=0;g<p.length;g++){var _=p[g],E=l?o.apply(l,[_,g,p]):o(_,g,p);E>f&&(f=E,h=_)}return{value:f,ele:h}},min:function(o,l){for(var h,f=1/0,p=this,g=0;g<p.length;g++){var _=p[g],E=l?o.apply(l,[_,g,p]):o(_,g,p);E<f&&(f=E,h=_)}return{value:f,ele:h}}},Mr=nl;Mr.u=Mr["|"]=Mr["+"]=Mr.union=Mr.or=Mr.add,Mr["\\"]=Mr["!"]=Mr["-"]=Mr.difference=Mr.relativeComplement=Mr.subtract=Mr.not,Mr.n=Mr["&"]=Mr["."]=Mr.and=Mr.intersection=Mr.intersect,Mr["^"]=Mr["(+)"]=Mr["(-)"]=Mr.symmetricDifference=Mr.symdiff=Mr.xor,Mr.fnFilter=Mr.filterFn=Mr.stdFilter=Mr.filter,Mr.complement=Mr.abscomp=Mr.absoluteComplement;var o,Ql=function(o,l){var h=o.cy().hasCompoundNodes();function p(M){var F=M.pstyle("z-compound-depth");return"auto"===F.value?h?M.zDepth():0:"bottom"===F.value?-1:"top"===F.value?tc:0}var g=p(o)-p(l);if(0!==g)return g;function _(M){return"auto"===M.pstyle("z-index-compare").value&&M.isNode()?1:0}var E=_(o)-_(l);if(0!==E)return E;var x=o.pstyle("z-index").value-l.pstyle("z-index").value;return 0!==x?x:o.poolIndex()-l.poolIndex()},xc={forEach:function(o,l){if(at(o))for(var f=this.length,h=0;h<f;h++){var p=this[h];if(!1===(l?o.apply(l,[p,h,this]):o(p,h,this)))break}return this},toArray:function(){for(var o=[],l=0;l<this.length;l++)o.push(this[l]);return o},slice:function(o,l){var f=[],h=this.length;null==l&&(l=h),null==o&&(o=0),o<0&&(o=h+o),l<0&&(l=h+l);for(var p=o;p>=0&&p<l&&p<h;p++)f.push(this[p]);return this.spawn(f)},size:function(){return this.length},eq:function(o){return this[o]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(o){if(!at(o))return this;var l=this.toArray().sort(o);return this.spawn(l)},sortByZIndex:function(){return this.sort(Ql)},zDepth:function(){var o=this[0];if(o){var l=o._private;if("nodes"===l.group){var h=l.data.parent?o.parents().size():0;return o.isParent()?h:tc-1}var g=l.target,_=l.source.zDepth(),E=g.zDepth();return Math.max(_,E,0)}}};xc.each=xc.forEach,o="undefined",(typeof Symbol>"u"?"undefined":H(Symbol))!=o&&H(Symbol.iterator)!=o&&(xc[Symbol.iterator]=function(){var f=this,h={value:void 0,done:!1},p=0,g=this.length;return ne({next:function(){return p<g?h.value=f[p++]:(h.value=void 0,h.done=!0),h}},Symbol.iterator,function(){return this})});var Vp=li({nodeDimensionsIncludeLabels:!1}),Bn={layoutDimensions:function(o){var l;if(o=Vp(o),this.takesUpSpace())if(o.nodeDimensionsIncludeLabels){var f=this.boundingBox();l={w:f.w,h:f.h}}else l={w:this.outerWidth(),h:this.outerHeight()};else l={w:0,h:0};return(0===l.w||0===l.h)&&(l.w=l.h=1),l},layoutPositions:function(o,l,f){var h=this.nodes().filter(function(Me){return!Me.isParent()}),p=this.cy(),g=l.eles,_=function(Ae){return Ae.id()},E=kr(f,_);o.emit({type:"layoutstart",layout:o}),o.animations=[];var M=l.spacingFactor&&1!==l.spacingFactor,U=function(){if(!M)return null;for(var Ae=Mi(),be=0;be<h.length;be++){var _e=E(h[be],be);oc(Ae,_e.x,_e.y)}return Ae}(),W=kr(function(Me,Ae){var be=E(Me,Ae);return M&&(be=function(Ae,be,Te){var _e_x=be.x1+be.w/2,_e_y=be.y1+be.h/2;return{x:_e_x+(Te.x-_e_x)*Ae,y:_e_y+(Te.y-_e_y)*Ae}}(Math.abs(l.spacingFactor),U,be)),null!=l.transform&&(be=l.transform(Me,be)),be},_);if(l.animate){for(var j=0;j<h.length;j++){var Z=h[j],J=W(Z,j);if(null==l.animateFilter||l.animateFilter(Z,j)){var fe=Z.animation({position:J,duration:l.animationDuration,easing:l.animationEasing});o.animations.push(fe)}else Z.position(J)}if(l.fit){var he=p.animation({fit:{boundingBox:g.boundingBoxAt(W),padding:l.padding},duration:l.animationDuration,easing:l.animationEasing});o.animations.push(he)}else if(void 0!==l.zoom&&void 0!==l.pan){var ye=p.animation({zoom:l.zoom,pan:l.pan,duration:l.animationDuration,easing:l.animationEasing});o.animations.push(ye)}o.animations.forEach(function(Me){return Me.play()}),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),fs.all(o.animations.map(function(Me){return Me.promise()})).then(function(){o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o})})}else h.positions(W),l.fit&&p.fit(l.eles,l.padding),null!=l.zoom&&p.zoom(l.zoom),l.pan&&p.pan(l.pan),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o});return this},layout:function(o){return this.cy().makeLayout(Nn({},o,{eles:this}))}};function Iu(u,o,l){var p,f=l._private,h=f.styleCache=f.styleCache||[];return null!=(p=h[u])||(p=h[u]=o(l)),p}function Au(u,o){return u=ss(u),function(f){return Iu(u,o,f)}}function Jl(u,o){u=ss(u);var l=function(h){return o.call(h)};return function(){var h=this[0];if(h)return Iu(u,l,h)}}Bn.createLayout=Bn.makeLayout=Bn.layout;var Vo={recalculateRenderedStyle:function(o){var l=this.cy(),f=l.renderer(),h=l.styleEnabled();return f&&h&&f.recalculateRenderedStyle(this,o),this},dirtyStyleCache:function(){var f,o=this.cy(),l=function(p){return p._private.styleCache=null};return o.hasCompoundNodes()?((f=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(f.connectedEdges()),f.forEach(l)):this.forEach(function(h){l(h),h.connectedEdges().forEach(l)}),this},updateStyle:function(o){var l=this._private.cy;if(!l.styleEnabled())return this;if(l.batching())return l._private.batchStyleEles.merge(this),this;var p=this;o=!(!o&&void 0!==o),l.hasCompoundNodes()&&(p=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var g=p;return o?g.emitAndNotify("style"):g.emit("style"),p.forEach(function(_){return _._private.styleDirty=!0}),this},cleanStyle:function(){var o=this.cy();if(o.styleEnabled())for(var l=0;l<this.length;l++){var f=this[l];f._private.styleDirty&&(f._private.styleDirty=!1,o.style().apply(f))}},parsedStyle:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=this[0],h=f.cy();if(h.styleEnabled()&&f)return this.cleanStyle(),f._private.style[o]??(l?h.style().getDefaultProperty(o):null)},numericStyle:function(o){var l=this[0];if(l.cy().styleEnabled()&&l){var f=l.pstyle(o);return void 0!==f.pfValue?f.pfValue:f.value}},numericStyleUnits:function(o){var l=this[0];if(l.cy().styleEnabled()&&l)return l.pstyle(o).units},renderedStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var f=this[0];return f?l.style().getRenderedStyle(f,o):void 0},style:function(o,l){var f=this.cy();if(!f.styleEnabled())return this;var p=f.style();if(Ke(o))p.applyBypass(this,o,!1),this.emitAndNotify("style");else if(Be(o)){if(void 0===l){var _=this[0];return _?p.getStylePropertyValue(_,o):void 0}p.applyBypass(this,o,l,!1),this.emitAndNotify("style")}else if(void 0===o){var E=this[0];return E?p.getRawStyle(E):void 0}return this},removeStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var h=l.style(),p=this;if(void 0===o)for(var g=0;g<p.length;g++)h.removeAllBypasses(p[g],!1);else{o=o.split(/\s+/);for(var E=0;E<p.length;E++)h.removeBypasses(p[E],o,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var o=this.cy();if(!o.styleEnabled())return 1;var l=o.hasCompoundNodes(),f=this[0];if(f){var h=f._private,p=f.pstyle("opacity").value;if(!l)return p;var g=h.data.parent?f.parents():null;if(g)for(var _=0;_<g.length;_++)p*=g[_].pstyle("opacity").value;return p}},transparent:function(){if(!this.cy().styleEnabled())return!1;var l=this[0],f=l.cy().hasCompoundNodes();return l?f?0===l.effectiveOpacity():0===l.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Oh(u,o){var f=u._private.data.parent?u.parents():null;if(f)for(var h=0;h<f.length;h++)if(!o(f[h]))return!1;return!0}function Td(u){var o=u.ok,l=u.edgeOkViaNode||u.ok,f=u.parentOk||u.ok;return function(){var h=this.cy();if(!h.styleEnabled())return!0;var p=this[0],g=h.hasCompoundNodes();if(p){var _=p._private;if(!o(p))return!1;if(p.isNode())return!g||Oh(p,f);var E=_.source,x=_.target;return l(E)&&(!g||Oh(E,l))&&(E===x||l(x)&&(!g||Oh(x,l)))}}}var Ho=Au("eleTakesUpSpace",function(u){return"element"===u.pstyle("display").value&&0!==u.width()&&(!u.isNode()||0!==u.height())});Vo.takesUpSpace=Jl("takesUpSpace",Td({ok:Ho}));var Ec=Au("eleInteractive",function(u){return"yes"===u.pstyle("events").value&&"visible"===u.pstyle("visibility").value&&Ho(u)}),Md=Au("parentInteractive",function(u){return"visible"===u.pstyle("visibility").value&&Ho(u)});Vo.interactive=Jl("interactive",Td({ok:Ec,parentOk:Md,edgeOkViaNode:Ho})),Vo.noninteractive=function(){var u=this[0];if(u)return!u.interactive()};var vm=Au("eleVisible",function(u){return"visible"===u.pstyle("visibility").value&&0!==u.pstyle("opacity").pfValue&&Ho(u)});Vo.visible=Jl("visible",Td({ok:vm,edgeOkViaNode:Ho})),Vo.hidden=function(){var u=this[0];if(u)return!u.visible()},Vo.isBundledBezier=Jl("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Vo.bypass=Vo.css=Vo.style,Vo.renderedCss=Vo.renderedStyle,Vo.removeBypass=Vo.removeCss=Vo.removeStyle,Vo.pstyle=Vo.parsedStyle;var eu={};function Rt(u){return function(){var o=arguments,l=[];if(2===o.length)this.on(u.event,o[0],o[1]);else if(1===o.length&&at(o[0]))this.on(u.event,o[0]);else if(0===o.length||1===o.length&&ht(o[0])){for(var g=1===o.length?o[0]:null,_=0;_<this.length;_++){var E=this[_],x=!u.ableField||E._private[u.ableField],M=E._private[u.field]!=u.value;if(u.overrideAble){var F=u.overrideAble(E);if(void 0!==F&&(x=F,!F))return this}x&&(E._private[u.field]=u.value,M&&l.push(E))}var U=this.spawn(l);U.updateStyle(),U.emit(u.event),g&&U.emit(g)}return this}}function _r(u){eu[u.field]=function(){var o=this[0];if(o){if(u.overrideField){var l=u.overrideField(o);if(void 0!==l)return l}return o._private[u.field]}},eu[u.on]=Rt({event:u.on,field:u.field,ableField:u.ableField,overrideAble:u.overrideAble,value:!0}),eu[u.off]=Rt({event:u.off,field:u.field,ableField:u.ableField,overrideAble:u.overrideAble,value:!1})}_r({field:"locked",overrideField:function(o){return!!o.cy().autolock()||void 0},on:"lock",off:"unlock"}),_r({field:"grabbable",overrideField:function(o){return!o.cy().autoungrabify()&&!o.pannable()&&void 0},on:"grabify",off:"ungrabify"}),_r({field:"selected",ableField:"selectable",overrideAble:function(o){return!o.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),_r({field:"selectable",overrideField:function(o){return!o.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),eu.deselect=eu.unselect,eu.grabbed=function(){var u=this[0];if(u)return u._private.grabbed},_r({field:"active",on:"activate",off:"unactivate"}),_r({field:"pannable",on:"panify",off:"unpanify"}),eu.inactive=function(){var u=this[0];if(u)return!u._private.active};var zn={},bi=function(o){return function(f){for(var p=[],g=0;g<this.length;g++){var _=this[g];if(_.isNode()){for(var E=!1,x=_.connectedEdges(),M=0;M<x.length;M++){var F=x[M],U=F.source(),W=F.target();if(o.noIncomingEdges&&W===_&&U!==_||o.noOutgoingEdges&&U===_&&W!==_){E=!0;break}}E||p.push(_)}}return this.spawn(p,!0).filter(f)}},zo=function(o){return function(l){for(var h=[],p=0;p<this.length;p++){var g=this[p];if(g.isNode())for(var _=g.connectedEdges(),E=0;E<_.length;E++){var x=_[E],M=x.source(),F=x.target();o.outgoing&&M===g?(h.push(x),h.push(F)):o.incoming&&F===g&&(h.push(x),h.push(M))}}return this.spawn(h,!0).filter(l)}},Nh=function(o){return function(l){for(var f=this,h=[],p={};;){var g=o.outgoing?f.outgoers():f.incomers();if(0===g.length)break;for(var _=!1,E=0;E<g.length;E++){var x=g[E],M=x.id();p[M]||(p[M]=!0,h.push(x),_=!0)}if(!_)break;f=g}return this.spawn(h,!0).filter(l)}};function Dc(u){return function(l){for(var f=[],h=0;h<this.length;h++){var g=this[h]._private[u.attr];g&&f.push(g)}return this.spawn(f,!0).filter(l)}}function ms(u){return function(l){var f=[],h=this._private.cy,p=u||{};Be(l)&&(l=h.$(l));for(var g=0;g<l.length;g++)for(var _=l[g]._private.edges,E=0;E<_.length;E++){var x=_[E],M=x._private.data,F=this.hasElementWithId(M.source)&&l.hasElementWithId(M.target),U=l.hasElementWithId(M.source)&&this.hasElementWithId(M.target);(F||U)&&((p.thisIsSrc||p.thisIsTgt)&&(p.thisIsSrc&&!F||p.thisIsTgt&&!U)||f.push(x))}return this.spawn(f,!0)}}function Id(u){return u=Nn({},{codirected:!1},u),function(f){for(var h=[],p=this.edges(),g=u,_=0;_<p.length;_++)for(var x=p[_]._private,M=x.source,F=M._private.data.id,U=x.data.target,W=M._private.edges,j=0;j<W.length;j++){var Z=W[j],J=Z._private.data,re=J.target,fe=J.source,he=re===U&&fe===F;(g.codirected&&he||!g.codirected&&(he||F===re&&U===fe))&&h.push(Z)}return this.spawn(h,!0).filter(f)}}zn.clearTraversalCache=function(){for(var u=0;u<this.length;u++)this[u]._private.traversalCache=null},Nn(zn,{roots:bi({noIncomingEdges:!0}),leaves:bi({noOutgoingEdges:!0}),outgoers:Ja(zo({outgoing:!0}),"outgoers"),successors:Nh({outgoing:!0}),incomers:Ja(zo({incoming:!0}),"incomers"),predecessors:Nh({incoming:!0})}),Nn(zn,{neighborhood:Ja(function(u){for(var o=[],l=this.nodes(),f=0;f<l.length;f++)for(var h=l[f],p=h.connectedEdges(),g=0;g<p.length;g++){var _=p[g],E=_.source(),x=_.target(),M=h===E?x:E;M.length>0&&o.push(M[0]),o.push(_[0])}return this.spawn(o,!0).filter(u)},"neighborhood"),closedNeighborhood:function(o){return this.neighborhood().add(this).filter(o)},openNeighborhood:function(o){return this.neighborhood(o)}}),zn.neighbourhood=zn.neighborhood,zn.closedNeighbourhood=zn.closedNeighborhood,zn.openNeighbourhood=zn.openNeighborhood,Nn(zn,{source:Ja(function(o){var f,l=this[0];return l&&(f=l._private.source||l.cy().collection()),f&&o?f.filter(o):f},"source"),target:Ja(function(o){var f,l=this[0];return l&&(f=l._private.target||l.cy().collection()),f&&o?f.filter(o):f},"target"),sources:Dc({attr:"source"}),targets:Dc({attr:"target"})}),Nn(zn,{edgesWith:Ja(ms(),"edgesWith"),edgesTo:Ja(ms({thisIsSrc:!0}),"edgesTo")}),Nn(zn,{connectedEdges:Ja(function(u){for(var o=[],f=0;f<this.length;f++){var h=this[f];if(h.isNode())for(var p=h._private.edges,g=0;g<p.length;g++)o.push(p[g])}return this.spawn(o,!0).filter(u)},"connectedEdges"),connectedNodes:Ja(function(u){for(var o=[],f=0;f<this.length;f++){var h=this[f];h.isEdge()&&(o.push(h.source()[0]),o.push(h.target()[0]))}return this.spawn(o,!0).filter(u)},"connectedNodes"),parallelEdges:Ja(Id(),"parallelEdges"),codirectedEdges:Ja(Id({codirected:!0}),"codirectedEdges")}),Nn(zn,{components:function(o){var l=this,f=l.cy(),h=f.collection(),p=null==o?l.nodes():o.nodes(),g=[];null!=o&&p.empty()&&(p=o.sources());var _=function(M,F){h.merge(M),p.unmerge(M),F.merge(M)};if(p.empty())return l.spawn();var E=function(){var M=f.collection();g.push(M);var F=p[0];_(F,M),l.bfs({directed:!1,roots:F,visit:function(W){return _(W,M)}}),M.forEach(function(U){U.connectedEdges().forEach(function(W){l.has(W)&&M.has(W.source())&&M.has(W.target())&&M.merge(W)})})};do{E()}while(p.length>0);return g},component:function(){var o=this[0];return o.cy().mutableElements().components(o)[0]}}),zn.componentsOf=zn.components;var fo=function(o,l){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==o){var p=new Tt,g=!1;if(l){if(l.length>0&&Ke(l[0])&&!vn(l[0])){g=!0;for(var _=[],E=new As,x=0,M=l.length;x<M;x++){var F=l[x];null==F.data&&(F.data={});var U=F.data;if(null==U.id)U.id=ff();else if(o.hasElementWithId(U.id)||E.has(U.id))continue;var W=new Oe(o,F,!1);_.push(W),E.add(U.id)}l=_}}else l=[];this.length=0;for(var j=0,Z=l.length;j<Z;j++){var J=l[j][0];if(null!=J){var re=J._private.data.id;(!f||!p.has(re))&&(f&&p.set(re,{index:this.length,ele:J}),this[this.length]=J,this.length++)}}this._private={eles:this,cy:o,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(fe){this.lazyMap=fe},rebuildMap:function(){for(var he=this.lazyMap=new Tt,ye=this.eles,Me=0;Me<ye.length;Me++){var Ae=ye[Me];he.set(Ae.id(),{index:Me,ele:Ae})}}},f&&(this._private.map=p),g&&!h&&this.restore()}else ri("A collection must have a reference to the core")},_i=Oe.prototype=fo.prototype=Object.create(Array.prototype);_i.instanceString=function(){return"collection"},_i.spawn=function(u,o){return new fo(this.cy(),u,o)},_i.spawnSelf=function(){return this.spawn(this)},_i.cy=function(){return this._private.cy},_i.renderer=function(){return this._private.cy.renderer()},_i.element=function(){return this[0]},_i.collection=function(){return cn(this)?this:new fo(this._private.cy,[this])},_i.unique=function(){return new fo(this._private.cy,this,!0)},_i.hasElementWithId=function(u){return this._private.map.has(u=""+u)},_i.getElementById=function(u){var o=this._private.cy,l=this._private.map.get(u=""+u);return l?l.ele:new fo(o)},_i.$id=_i.getElementById,_i.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},_i.indexOf=function(u){return this._private.map.get(u[0]._private.data.id).index},_i.indexOfId=function(u){return this._private.map.get(u=""+u).index},_i.json=function(u){var o=this.element(),l=this.cy();if(null==o&&u)return this;if(null!=o){var f=o._private;if(Ke(u)){if(l.startBatch(),u.data){o.data(u.data);var h=f.data;if(o.isEdge()){var p=!1,g={},_=u.data.source,E=u.data.target;null!=_&&_!=h.source&&(g.source=""+_,p=!0),null!=E&&E!=h.target&&(g.target=""+E,p=!0),p&&(o=o.move(g))}else{var M=u.data.parent;"parent"in u.data&&(null!=M||null!=h.parent)&&M!=h.parent&&(void 0===M&&(M=null),null!=M&&(M=""+M),o=o.move({parent:M}))}}u.position&&o.position(u.position);var F=function(Z,J,re){var fe=u[Z];null!=fe&&fe!==f[Z]&&(fe?o[J]():o[re]())};return F("removed","remove","restore"),F("selected","select","unselect"),F("selectable","selectify","unselectify"),F("locked","lock","unlock"),F("grabbable","grabify","ungrabify"),F("pannable","panify","unpanify"),null!=u.classes&&o.classes(u.classes),l.endBatch(),this}if(void 0===u){var U={data:ki(f.data),position:ki(f.position),group:f.group,removed:f.removed,selected:f.selected,selectable:f.selectable,locked:f.locked,grabbable:f.grabbable,pannable:f.pannable,classes:""},W=0;return f.classes.forEach(function(j){return U.classes+=0==W++?j:" "+j}),U}}},_i.jsons=function(){for(var u=[],o=0;o<this.length;o++){var f=this[o].json();u.push(f)}return u},_i.clone=function(){for(var u=this.cy(),o=[],l=0;l<this.length;l++){var h=this[l].json(),p=new Oe(u,h,!1);o.push(p)}return new fo(u,o)},_i.copy=_i.clone,_i.restore=function(){for(var _,u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,f=l.cy(),h=f._private,p=[],g=[],E=0,x=l.length;E<x;E++){var M=l[E];o&&!M.removed()||(M.isNode()?p.push(M):g.push(M))}_=p.concat(g);var F,U=function(){_.splice(F,1),F--};for(F=0;F<_.length;F++){var W=_[F],j=W._private,Z=j.data;if(W.clearTraversalCache(),o||j.removed)if(void 0===Z.id)Z.id=ff();else if(qe(Z.id))Z.id=""+Z.id;else{if(Ft(Z.id)||!Be(Z.id)){ri("Can not create element with invalid string ID `"+Z.id+"`"),U();continue}if(f.hasElementWithId(Z.id)){ri("Can not create second element with ID `"+Z.id+"`"),U();continue}}var J=Z.id;if(W.isNode()){var re=j.position;null==re.x&&(re.x=0),null==re.y&&(re.y=0)}if(W.isEdge()){for(var fe=W,he=["source","target"],ye=he.length,Me=!1,Ae=0;Ae<ye;Ae++){var be=he[Ae],Te=Z[be];qe(Te)&&(Te=Z[be]=""+Z[be]),null==Te||""===Te?(ri("Can not create edge `"+J+"` with unspecified "+be),Me=!0):f.hasElementWithId(Te)||(ri("Can not create edge `"+J+"` with nonexistant "+be+" `"+Te+"`"),Me=!0)}if(Me){U();continue}var _e=f.getElementById(Z.source),ke=f.getElementById(Z.target);_e.same(ke)?_e._private.edges.push(fe):(_e._private.edges.push(fe),ke._private.edges.push(fe)),fe._private.source=_e,fe._private.target=ke}j.map=new Tt,j.map.set(J,{ele:W,index:0}),j.removed=!1,o&&f.addToPool(W)}for(var Pe=0;Pe<p.length;Pe++){var xe=p[Pe],He=xe._private.data;qe(He.parent)&&(He.parent=""+He.parent);var Ne=He.parent;if(null!=Ne||xe._private.parent){var Ue=xe._private.parent?f.collection().merge(xe._private.parent):f.getElementById(Ne);if(Ue.empty())He.parent=void 0;else if(Ue[0].removed())Tr("Node added with missing parent, reference to parent removed"),He.parent=void 0,xe._private.parent=null;else{for(var Ge=!1,ot=Ue;!ot.empty();){if(xe.same(ot)){Ge=!0,He.parent=void 0;break}ot=ot.parent()}Ge||(Ue[0]._private.children.push(xe),xe._private.parent=Ue[0],h.hasCompoundNodes=!0)}}}if(_.length>0){for(var dt=_.length===l.length?l:new fo(f,_),yt=0;yt<dt.length;yt++){var st=dt[yt];st.isNode()||(st.parallelEdges().clearTraversalCache(),st.source().clearTraversalCache(),st.target().clearTraversalCache())}(h.hasCompoundNodes?f.collection().merge(dt).merge(dt.connectedNodes()).merge(dt.parent()):dt).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(u),u?dt.emitAndNotify("add"):o&&dt.emit("add")}return l},_i.removed=function(){var u=this[0];return u&&u._private.removed},_i.inside=function(){var u=this[0];return u&&!u._private.removed},_i.remove=function(){var u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,f=[],h={},p=l._private.cy;function E(Ne){var Je=h[Ne.id()];o&&Ne.removed()||Je||(h[Ne.id()]=!0,Ne.isNode()?(f.push(Ne),function g(Ne){for(var Je=Ne._private.edges,Ue=0;Ue<Je.length;Ue++)E(Je[Ue])}(Ne),function _(Ne){for(var Je=Ne._private.children,Ue=0;Ue<Je.length;Ue++)E(Je[Ue])}(Ne)):f.unshift(Ne))}for(var x=0,M=l.length;x<M;x++)E(l[x]);function U(Ne,Je){$a(Ne._private.edges,Je),Ne.clearTraversalCache()}var j=[];function Z(Ne,Je){Je=Je[0];var Ue=(Ne=Ne[0])._private.children,Ge=Ne.id();$a(Ue,Je),Je._private.parent=null,j.ids[Ge]||(j.ids[Ge]=!0,j.push(Ne))}j.ids={},l.dirtyCompoundBoundsCache(),o&&p.removeFromPool(f);for(var J=0;J<f.length;J++){var re=f[J];if(re.isEdge()){var fe=re.source()[0],he=re.target()[0];U(fe,re),U(he,re);for(var ye=re.parallelEdges(),Me=0;Me<ye.length;Me++){var Ae=ye[Me];Ae.clearTraversalCache(),Ae.isBundledBezier()&&Ae.dirtyBoundingBoxCache()}}else{var be=re.parent();0!==be.length&&Z(be,re)}o&&(re._private.removed=!0)}var Te=p._private.elements;p._private.hasCompoundNodes=!1;for(var _e=0;_e<Te.length;_e++)if(Te[_e].isParent()){p._private.hasCompoundNodes=!0;break}var Pe=new fo(this.cy(),f);Pe.size()>0&&(u?Pe.emitAndNotify("remove"):o&&Pe.emit("remove"));for(var xe=0;xe<j.length;xe++){var He=j[xe];(!o||!He.removed())&&He.updateStyle()}return Pe},_i.move=function(u){var o=this._private.cy,l=this,f=!1,h=!1,p=function(j){return null==j?j:""+j};if(void 0!==u.source||void 0!==u.target){var g=p(u.source),_=p(u.target),E=null!=g&&o.hasElementWithId(g),x=null!=_&&o.hasElementWithId(_);(E||x)&&(o.batch(function(){l.remove(f,h),l.emitAndNotify("moveout");for(var W=0;W<l.length;W++){var j=l[W],Z=j._private.data;j.isEdge()&&(E&&(Z.source=g),x&&(Z.target=_))}l.restore(f,h)}),l.emitAndNotify("move"))}else if(void 0!==u.parent){var M=p(u.parent);if(null===M||o.hasElementWithId(M)){var U=null===M?void 0:M;o.batch(function(){var W=l.remove(f,h);W.emitAndNotify("moveout");for(var j=0;j<l.length;j++){var Z=l[j],J=Z._private.data;Z.isNode()&&(J.parent=U)}W.restore(f,h)}),l.emitAndNotify("move")}}return this},[wo,hd,Za,Kl,gd,Mf,Eh,Mh,Sd,nl,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var o=this[0];if(o)return o._private.group}},xc,Bn,Vo,eu,zn].forEach(function(u){Nn(_i,u)});var yy={add:function(o){var l,f=this;if(It(o)){var h=o;if(h._private.cy===f)l=h.restore();else{for(var p=[],g=0;g<h.length;g++)p.push(h[g].json());l=new fo(f,p)}}else if(ht(o))l=new fo(f,o);else if(Ke(o)&&(ht(o.nodes)||ht(o.edges))){for(var x=o,M=[],F=["nodes","edges"],U=0,W=F.length;U<W;U++){var j=F[U],Z=x[j];if(ht(Z))for(var J=0,re=Z.length;J<re;J++){var fe=Nn({group:j},Z[J]);M.push(fe)}}l=new fo(f,M)}else l=new Oe(f,o).collection();return l},remove:function(o){return It(o)||Be(o)&&(o=this.$(o)),o.remove()}};function zp(u,o,l,f){var x=.1,M=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var F=0;F<4;++F)if("number"!=typeof arguments[F]||isNaN(arguments[F])||!isFinite(arguments[F]))return!1;u=Math.min(u,1),l=Math.min(l,1),u=Math.max(u,0),l=Math.max(l,0);var U=M?new Float32Array(11):new Array(11);function W(ke,Pe){return 1-3*Pe+3*ke}function j(ke,Pe){return 3*Pe-6*ke}function Z(ke){return 3*ke}function J(ke,Pe,xe){return((W(Pe,xe)*ke+j(Pe,xe))*ke+Z(Pe))*ke}function re(ke,Pe,xe){return 3*W(Pe,xe)*ke*ke+2*j(Pe,xe)*ke+Z(Pe)}var Ae=!1;var Te=function(Pe){return Ae||function be(){Ae=!0,(u!==o||l!==f)&&function he(){for(var ke=0;ke<11;++ke)U[ke]=J(ke*x,u,l)}()}(),u===o&&l===f?Pe:0===Pe?0:1===Pe?1:J(function Me(ke){for(var Pe=0,xe=1;10!==xe&&U[xe]<=ke;++xe)Pe+=x;--xe;var Je=Pe+(ke-U[xe])/(U[xe+1]-U[xe])*x,Ue=re(Je,u,l);return Ue>=.001?function fe(ke,Pe){for(var xe=0;xe<4;++xe){var He=re(Pe,u,l);if(0===He)return Pe;Pe-=(J(Pe,u,l)-ke)/He}return Pe}(ke,Je):0===Ue?Je:function ye(ke,Pe,xe){var He,Ne,Je=0;do{(He=J(Ne=Pe+(xe-Pe)/2,u,l)-ke)>0?xe=Ne:Pe=Ne}while(Math.abs(He)>1e-7&&++Je<10);return Ne}(ke,Pe,Pe+x)}(Pe),o,f)};Te.getControlPoints=function(){return[{x:u,y:o},{x:l,y:f}]};var _e="generateBezier("+[u,o,l,f]+")";return Te.toString=function(){return _e},Te}var Wi=function(){function u(f){return-f.tension*f.x-f.friction*f.v}function o(f,h,p){var g={x:f.x+p.dx*h,v:f.v+p.dv*h,tension:f.tension,friction:f.friction};return{dx:g.v,dv:u(g)}}function l(f,h){var p={dx:f.v,dv:u(f)},g=o(f,.5*h,p),_=o(f,.5*h,g),E=o(f,h,_),M=1/6*(p.dv+2*(g.dv+_.dv)+E.dv);return f.x=f.x+1/6*(p.dx+2*(g.dx+_.dx)+E.dx)*h,f.v=f.v+M*h,f}return function f(h,p,g){var U,W,j,_={x:-1,v:0,tension:null,friction:null},E=[0],x=0,M=1e-4;for(h=parseFloat(h)||500,p=parseFloat(p)||20,g=g||null,_.tension=h,_.friction=p,W=(U=null!==g)?(x=f(h,p))/g*.016:.016;j=l(j||_,W),E.push(1+j.x),x+=16,Math.abs(j.x)>M&&Math.abs(j.v)>M;);return U?function(Z){return E[Z*(E.length-1)|0]}:x}}(),Er=function(o,l,f,h){var p=zp(o,l,f,h);return function(g,_,E){return g+(_-g)*p(E)}},tu={linear:function(o,l,f){return o+(l-o)*f},ease:Er(.25,.1,.25,1),"ease-in":Er(.42,0,1,1),"ease-out":Er(0,0,.58,1),"ease-in-out":Er(.42,0,.58,1),"ease-in-sine":Er(.47,0,.745,.715),"ease-out-sine":Er(.39,.575,.565,1),"ease-in-out-sine":Er(.445,.05,.55,.95),"ease-in-quad":Er(.55,.085,.68,.53),"ease-out-quad":Er(.25,.46,.45,.94),"ease-in-out-quad":Er(.455,.03,.515,.955),"ease-in-cubic":Er(.55,.055,.675,.19),"ease-out-cubic":Er(.215,.61,.355,1),"ease-in-out-cubic":Er(.645,.045,.355,1),"ease-in-quart":Er(.895,.03,.685,.22),"ease-out-quart":Er(.165,.84,.44,1),"ease-in-out-quart":Er(.77,0,.175,1),"ease-in-quint":Er(.755,.05,.855,.06),"ease-out-quint":Er(.23,1,.32,1),"ease-in-out-quint":Er(.86,0,.07,1),"ease-in-expo":Er(.95,.05,.795,.035),"ease-out-expo":Er(.19,1,.22,1),"ease-in-out-expo":Er(1,0,0,1),"ease-in-circ":Er(.6,.04,.98,.335),"ease-out-circ":Er(.075,.82,.165,1),"ease-in-out-circ":Er(.785,.135,.15,.86),spring:function(o,l,f){if(0===f)return tu.linear;var h=Wi(o,l,f);return function(p,g,_){return p+(g-p)*h(_)}},"cubic-bezier":Er};function Fs(u,o,l,f,h){if(1===f||o===l)return l;var p=h(o,l,f);return null==u||((u.roundValue||u.color)&&(p=Math.round(p)),void 0!==u.min&&(p=Math.max(p,u.min)),void 0!==u.max&&(p=Math.min(p,u.max))),p}function Uo(u,o){return null!=u.pfValue||null!=u.value?null==u.pfValue||null!=o&&"%"===o.type.units?u.value:u.pfValue:u}function Sc(u,o,l,f,h){var p=null!=h?h.type:null;l<0?l=0:l>1&&(l=1);var g=Uo(u,h),_=Uo(o,h);if(qe(g)&&qe(_))return Fs(p,g,_,l,f);if(ht(g)&&ht(_)){for(var E=[],x=0;x<_.length;x++){var M=g[x],F=_[x];if(null!=M&&null!=F){var U=Fs(p,M,F,l,f);E.push(U)}else E.push(F)}return E}}function Up(u,o,l,f){var h=!f,p=u._private,g=o._private,_=g.easing,E=g.startTime,M=(f?u:u.cy()).style();if(!g.easingImpl)if(null==_)g.easingImpl=tu.linear;else{var F,W,j;F=Be(_)?M.parse("transition-timing-function",_).value:_,Be(F)?(W=F,j=[]):(W=F[1],j=F.slice(2).map(function(dt){return+dt})),j.length>0?("spring"===W&&j.push(g.duration),g.easingImpl=tu[W].apply(null,j)):g.easingImpl=tu[W]}var J,Z=g.easingImpl;if(J=0===g.duration?1:(l-E)/g.duration,g.applying&&(J=g.progress),J<0?J=0:J>1&&(J=1),null==g.delay){var re=g.startPosition,fe=g.position;if(fe&&h&&!u.locked()){var he={};rl(re.x,fe.x)&&(he.x=Sc(re.x,fe.x,J,Z)),rl(re.y,fe.y)&&(he.y=Sc(re.y,fe.y,J,Z)),u.position(he)}var ye=g.startPan,Me=g.pan,Ae=p.pan,be=null!=Me&&f;be&&(rl(ye.x,Me.x)&&(Ae.x=Sc(ye.x,Me.x,J,Z)),rl(ye.y,Me.y)&&(Ae.y=Sc(ye.y,Me.y,J,Z)),u.emit("pan"));var Te=g.startZoom,_e=g.zoom,ke=null!=_e&&f;ke&&(rl(Te,_e)&&(p.zoom=Qs(p.minZoom,Sc(Te,_e,J,Z),p.maxZoom)),u.emit("zoom")),(be||ke)&&u.emit("viewport");var Pe=g.style;if(Pe&&Pe.length>0&&h){for(var xe=0;xe<Pe.length;xe++){var He=Pe[xe],Ne=He.name,Ue=g.startStyle[Ne],ot=Sc(Ue,He,J,Z,M.properties[Ue.name]);M.overrideBypass(u,Ne,ot)}u.emit("style")}}return g.progress=J,J}function rl(u,o){return!!(null!=u&&null!=o&&(qe(u)&&qe(o)||u&&o))}function Gp(u,o,l,f){var h=o._private;h.started=!0,h.startTime=l-h.progress*h.duration}function Ad(u,o){var l=o._private.aniEles,f=[];function h(M,F){var U=M._private,W=U.animation.current,j=U.animation.queue,Z=!1;if(0===W.length){var J=j.shift();J&&W.push(J)}for(var re=function(Ae){for(var be=Ae.length-1;be>=0;be--)(0,Ae[be])();Ae.splice(0,Ae.length)},fe=W.length-1;fe>=0;fe--){var he=W[fe],ye=he._private;ye.stopped?(W.splice(fe,1),ye.hooked=!1,ye.playing=!1,ye.started=!1,re(ye.frames)):!ye.playing&&!ye.applying||(ye.playing&&ye.applying&&(ye.applying=!1),ye.started||Gp(0,he,u),Up(M,he,u,F),ye.applying&&(ye.applying=!1),re(ye.frames),null!=ye.step&&ye.step(u),he.completed()&&(W.splice(fe,1),ye.hooked=!1,ye.playing=!1,ye.started=!1,re(ye.completes)),Z=!0)}return!F&&0===W.length&&0===j.length&&f.push(M),Z}for(var p=!1,g=0;g<l.length;g++){var E=h(l[g]);p=p||E}var x=h(o,!0);(p||x)&&(l.length>0?o.notify("draw",l):o.notify("draw")),l.unmerge(f),o.emit("step")}var Nf={animate:ur.animate(),animation:ur.animation(),animated:ur.animated(),clearQueue:ur.clearQueue(),delay:ur.delay(),delayAnimation:ur.delayAnimation(),stop:ur.stop(),addToAnimationPool:function(o){this.styleEnabled()&&this._private.aniEles.merge(o)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var o=this;if(o._private.animationsRunning=!0,o.styleEnabled()){var f=o.renderer();f&&f.beforeRender?f.beforeRender(function(p,g){Ad(g,o)},f.beforeRenderPriorities.animations):function l(){o._private.animationsRunning&&mu(function(p){Ad(p,o),l()})}()}}},Od={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,f){var h=l.qualifier;return null==h||o!==f.target&&vn(f.target)&&h.matches(f.target)},addEventFields:function(o,l){l.cy=o,l.target=o},callbackContext:function(o,l,f){return null!=l.qualifier?f.target:o}},Bs=function(o){return Be(o)?new Tu(o):o},Rf={createEmitter:function(){var o=this._private;return o.emitter||(o.emitter=new ji(Od,this)),this},emitter:function(){return this._private.emitter},on:function(o,l,f){return this.emitter().on(o,Bs(l),f),this},removeListener:function(o,l,f){return this.emitter().removeListener(o,Bs(l),f),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(o,l,f){return this.emitter().one(o,Bs(l),f),this},once:function(o,l,f){return this.emitter().one(o,Bs(l),f),this},emit:function(o,l){return this.emitter().emit(o,l),this},emitAndNotify:function(o,l){return this.emit(o),this.notify(o,l),this}};ur.eventAliasesOn(Rf);var Tc={png:function(o){return this._private.renderer.png(o=o||{})},jpg:function(o){var l=this._private.renderer;return(o=o||{}).bg=o.bg||"#fff",l.jpg(o)}};Tc.jpeg=Tc.jpg;var nu={layout:function(o){var l=this;if(null!=o)if(null!=o.name){var p,f=o.name,h=l.extension("layout",f);if(null!=h)return p=Be(o.eles)?l.$(o.eles):null!=o.eles?o.eles:l.$(),new h(Nn({},o,{cy:l,eles:p}));ri("No such layout `"+f+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else ri("A `name` must be specified to make a layout");else ri("Layout options must be specified to make a layout")}};nu.createLayout=nu.makeLayout=nu.layout;var jp={notify:function(o,l){var f=this._private;if(this.batching()){f.batchNotifications=f.batchNotifications||{};var h=f.batchNotifications[o]=f.batchNotifications[o]||this.collection();null!=l&&h.merge(l)}else if(f.notificationsEnabled){var p=this.renderer();this.destroyed()||!p||p.notify(o,l)}},notifications:function(o){var l=this._private;return void 0===o?l.notificationsEnabled:(l.notificationsEnabled=!!o,this)},noNotifications:function(o){this.notifications(!1),o(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var o=this._private;return null==o.batchCount&&(o.batchCount=0),0===o.batchCount&&(o.batchStyleEles=this.collection(),o.batchNotifications={}),o.batchCount++,this},endBatch:function(){var o=this._private;if(0===o.batchCount)return this;if(o.batchCount--,0===o.batchCount){o.batchStyleEles.updateStyle();var l=this.renderer();Object.keys(o.batchNotifications).forEach(function(f){var h=o.batchNotifications[f];h.empty()?l.notify(f):l.notify(f,h)})}return this},batch:function(o){return this.startBatch(),o(),this.endBatch(),this},batchData:function(o){var l=this;return this.batch(function(){for(var f=Object.keys(o),h=0;h<f.length;h++){var p=f[h],g=o[p];l.getElementById(p).data(g)}})}},Mc=li({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Nd={renderTo:function(o,l,f,h){return this._private.renderer.renderTo(o,l,f,h),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(o){var l=this,f=l.extension("renderer",o.name);if(null!=f){void 0!==o.wheelSensitivity&&Tr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var h=Mc(o);h.cy=l,l._private.renderer=new f(h),this.notify("init")}else ri("Can not initialise: No such renderer `".concat(o.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var o=this;o.notify("destroy");var l=o.container();if(l)for(l._cyreg=null;l.childNodes.length>0;)l.removeChild(l.childNodes[0]);o._private.renderer=null,o.mutableElements().forEach(function(f){var h=f._private;h.rscratch={},h.rstyle={},h.animation.current=[],h.animation.queue=[]})},onRender:function(o){return this.on("render",o)},offRender:function(o){return this.off("render",o)}};Nd.invalidateDimensions=Nd.resize;var Rd={collection:function(o,l){return Be(o)?this.$(o):It(o)?o.collection():ht(o)?(l||(l={}),new fo(this,o,l.unique,l.removed)):new fo(this)},nodes:function(o){var l=this.$(function(f){return f.isNode()});return o?l.filter(o):l},edges:function(o){var l=this.$(function(f){return f.isEdge()});return o?l.filter(o):l},$:function(o){var l=this._private.elements;return o?l.filter(o):l.spawnSelf()},mutableElements:function(){return this._private.elements}};Rd.elements=Rd.filter=Rd.$;var Eo={apply:function(u){for(var o=this,h=o._private.cy.collection(),p=0;p<u.length;p++){var g=u[p],_=o.getContextMeta(g);if(!_.empty){var E=o.getContextStyle(_),x=o.applyContextStyle(_,E,g);g._private.appliedInitStyle?o.updateTransitions(g,x.diffProps):g._private.appliedInitStyle=!0,o.updateStyleHints(g)&&h.push(g)}}return h},getPropertiesDiff:function(u,o){var l=this,f=l._private.propDiffs=l._private.propDiffs||{},h=u+"-"+o,p=f[h];if(p)return p;for(var g=[],_={},E=0;E<l.length;E++){var x=l[E],F="t"===o[E],U="t"===u[E]!==F,W=x.mappedProperties.length>0;if(U||F&&W){var j=void 0;U&&W||U?j=x.properties:W&&(j=x.mappedProperties);for(var Z=0;Z<j.length;Z++){for(var J=j[Z],re=J.name,fe=!1,he=E+1;he<l.length&&("t"!==o[he]||!(fe=null!=l[he].properties[J.name]));he++);!_[re]&&!fe&&(_[re]=!0,g.push(re))}}}return f[h]=g,g},getContextMeta:function(u){for(var f,o=this,l="",h=u._private.styleCxtKey||"",p=0;p<o.length;p++){var g=o[p];l+=g.selector&&g.selector.matches(u)?"t":"f"}return f=o.getPropertiesDiff(h,l),u._private.styleCxtKey=l,{key:l,diffPropNames:f,empty:0===f.length}},getContextStyle:function(u){var o=u.key,f=this._private.contextStyles=this._private.contextStyles||{};if(f[o])return f[o];for(var h={_private:{key:o}},p=0;p<this.length;p++){var g=this[p];if("t"===o[p])for(var E=0;E<g.properties.length;E++){var x=g.properties[E];h[x.name]=x}}return f[o]=h,h},applyContextStyle:function(u,o,l){for(var h=u.diffPropNames,p={},g=this.types,_=0;_<h.length;_++){var E=h[_],x=o[E],M=l.pstyle(E);if(!x){if(!M)continue;x=M.bypass?{name:E,deleteBypassed:!0}:{name:E,delete:!0}}if(M!==x){if(x.mapped===g.fn&&null!=M&&null!=M.mapping&&M.mapping.value===x.value){var F=M.mapping;if((F.fnValue=x.value(l))===F.prevFnValue)continue}var W=p[E]={prev:M};this.applyParsedProperty(l,x),W.next=l.pstyle(E),W.next&&W.next.bypass&&(W.next=W.next.bypassed)}}return{diffProps:p}},updateStyleHints:function(u){var f,o=u._private,l=this,h=l.propertyGroupKeys,p=function(Wt,rn,Xn){return l.getPropertiesHash(Wt,rn,Xn)},g=o.styleKey;if(u.removed())return!1;var Wt,_="nodes"===o.group,E=u._private.style;f=Object.keys(E);for(var x=0;x<h.length;x++)o.styleKeys[h[x]]=[Ma,Ks];for(var F=function(Wt,rn){return o.styleKeys[rn][0]=Ia(Wt,o.styleKeys[rn][0])},U=function(Wt,rn){return o.styleKeys[rn][1]=qs(Wt,o.styleKeys[rn][1])},W=function(Wt,rn){F(Wt,rn),U(Wt,rn)},j=function(Wt,rn){for(var Xn=0;Xn<Wt.length;Xn++){var ar=Wt.charCodeAt(Xn);F(ar,rn),U(ar,rn)}},re=0;re<f.length;re++){var fe=f[re],he=E[fe];if(null!=he){var ye=this.properties[fe],Me=ye.type,Ae=ye.groupKey,be=void 0;null!=ye.hashOverride?be=ye.hashOverride(u,he):null!=he.pfValue&&(be=he.pfValue);var Te=null==ye.enums?he.value:null,_e=null!=be,xe=he.units;!Me.number||!_e&&null==Te||Me.multiple?j(he.strValue,Ae):(W(-128<(Wt=_e?be:Te)&&Wt<128&&Math.floor(Wt)!==Wt?2e9-(1024*Wt|0):Wt,Ae),!_e&&null!=xe&&j(xe,Ae))}}for(var Ne=[Ma,Ks],Je=0;Je<h.length;Je++){var Ge=o.styleKeys[h[Je]];Ne[0]=Ia(Ge[0],Ne[0]),Ne[1]=qs(Ge[1],Ne[1])}o.styleKey=function(o,l){return 2097152*o+l}(Ne[0],Ne[1]);var ot=o.styleKeys;o.labelDimsKey=as(ot.labelDimensions);var dt=p(u,["label"],ot.labelDimensions);if(o.labelKey=as(dt),o.labelStyleKey=as(Aa(ot.commonLabel,dt)),!_){var yt=p(u,["source-label"],ot.labelDimensions);o.sourceLabelKey=as(yt),o.sourceLabelStyleKey=as(Aa(ot.commonLabel,yt));var st=p(u,["target-label"],ot.labelDimensions);o.targetLabelKey=as(st),o.targetLabelStyleKey=as(Aa(ot.commonLabel,st))}if(_){var vt=o.styleKeys,nt=vt.pie,Mt=[vt.nodeBody,vt.nodeBorder,vt.backgroundImage,vt.compound,nt].filter(function(Nt){return null!=Nt}).reduce(Aa,[Ma,Ks]);o.nodeKey=as(Mt),o.hasPie=null!=nt&&nt[0]!==Ma&&nt[1]!==Ks}return g!==o.styleKey},clearStyleHints:function(u){var o=u._private;o.styleCxtKey="",o.styleKeys={},o.styleKey=null,o.labelKey=null,o.labelStyleKey=null,o.sourceLabelKey=null,o.sourceLabelStyleKey=null,o.targetLabelKey=null,o.targetLabelStyleKey=null,o.nodeKey=null,o.hasPie=null},applyParsedProperty:function(u,o){var p,l=this,f=o,h=u._private.style,g=l.types,_=l.properties[f.name].type,E=f.bypass,x=h[f.name],M=x&&x.bypass,F=u._private,U="mapping",W=function(At){return null==At?null:null!=At.pfValue?At.pfValue:At.value},j=function(){var At=W(x),Ot=W(f);l.checkTriggers(u,f.name,At,Ot)};if(f&&"pie"===f.name.substr(0,3)&&Tr("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===o.name&&u.isEdge()&&("bezier"!==o.value&&u.isLoop()||"haystack"===o.value&&(u.source().isParent()||u.target().isParent()))&&(f=o=this.parse(o.name,"bezier",E)),f.delete)return h[f.name]=void 0,j(),!0;if(f.deleteBypassed)return x?!!x.bypass&&(x.bypassed=void 0,j(),!0):(j(),!0);if(f.deleteBypass)return x?!!x.bypass&&(h[f.name]=x.bypassed,j(),!0):(j(),!0);var Z=function(){Tr("Do not assign mappings to elements without corresponding data (i.e. ele `"+u.id()+"` has no mapping for property `"+f.name+"` with data field `"+f.field+"`); try a `["+f.field+"]` selector to limit scope to elements with `"+f.field+"` defined")};switch(f.mapped){case g.mapData:for(var J=f.field.split("."),re=F.data,fe=0;fe<J.length&&re;fe++)re=re[J[fe]];if(null==re)return Z(),!1;var ye;if(!qe(re))return Tr("Do not use continuous mappers without specifying numeric data (i.e. `"+f.field+": "+re+"` for `"+u.id()+"` is non-numeric)"),!1;var Me=f.fieldMax-f.fieldMin;if((ye=0===Me?0:(re-f.fieldMin)/Me)<0?ye=0:ye>1&&(ye=1),_.color){var Ae=f.valueMin[0],Te=f.valueMin[1],_e=f.valueMax[1],ke=f.valueMin[2],Pe=f.valueMax[2],xe=null==f.valueMin[3]?1:f.valueMin[3],He=null==f.valueMax[3]?1:f.valueMax[3],Ne=[Math.round(Ae+(f.valueMax[0]-Ae)*ye),Math.round(Te+(_e-Te)*ye),Math.round(ke+(Pe-ke)*ye),Math.round(xe+(He-xe)*ye)];p={bypass:f.bypass,name:f.name,value:Ne,strValue:"rgb("+Ne[0]+", "+Ne[1]+", "+Ne[2]+")"}}else{if(!_.number)return!1;p=this.parse(f.name,f.valueMin+(f.valueMax-f.valueMin)*ye,f.bypass,U)}if(!p)return Z(),!1;p.mapping=f,f=p;break;case g.data:for(var Ue=f.field.split("."),Ge=F.data,ot=0;ot<Ue.length&&Ge;ot++)Ge=Ge[Ue[ot]];if(null!=Ge&&(p=this.parse(f.name,Ge,f.bypass,U)),!p)return Z(),!1;p.mapping=f,f=p;break;case g.fn:var st=null!=f.fnValue?f.fnValue:(0,f.value)(u);if(f.prevFnValue=st,null==st)return Tr("Custom function mappers may not return null (i.e. `"+f.name+"` for ele `"+u.id()+"` is null)"),!1;if(!(p=this.parse(f.name,st,f.bypass,U)))return Tr("Custom function mappers may not return invalid values for the property type (i.e. `"+f.name+"` for ele `"+u.id()+"` is invalid)"),!1;p.mapping=ki(f),f=p;break;case void 0:break;default:return!1}return E?(f.bypassed=M?x.bypassed:x,h[f.name]=f):M?x.bypassed=f:h[f.name]=f,j(),!0},cleanElements:function(u,o){for(var l=0;l<u.length;l++){var f=u[l];if(this.clearStyleHints(f),f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),o)for(var h=f._private.style,p=Object.keys(h),g=0;g<p.length;g++){var _=p[g],E=h[_];null!=E&&(E.bypass?E.bypassed=null:h[_]=null)}else f._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(u,o){var l=this,f=u._private,h=u.pstyle("transition-property").value,p=u.pstyle("transition-duration").pfValue,g=u.pstyle("transition-delay").pfValue;if(h.length>0&&p>0){for(var _={},E=!1,x=0;x<h.length;x++){var M=h[x],F=u.pstyle(M),U=o[M];if(U){var j=U.prev,Z=null!=U.next?U.next:F,J=!1,re=void 0;j&&(qe(j.pfValue)&&qe(Z.pfValue)?re=j.pfValue+1e-6*(J=Z.pfValue-j.pfValue):qe(j.value)&&qe(Z.value)?re=j.value+1e-6*(J=Z.value-j.value):ht(j.value)&&ht(Z.value)&&(J=j.value[0]!==Z.value[0]||j.value[1]!==Z.value[1]||j.value[2]!==Z.value[2],re=j.strValue),J&&(_[M]=Z.strValue,this.applyBypass(u,M,re),E=!0))}}if(!E)return;f.transitioning=!0,new fs(function(he){g>0?u.delayAnimation(g).play().promise().then(he):he()}).then(function(){return u.animation({style:_,duration:p,easing:u.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){l.removeBypasses(u,h),u.emitAndNotify("style"),f.transitioning=!1})}else f.transitioning&&(this.removeBypasses(u,h),u.emitAndNotify("style"),f.transitioning=!1)},checkTrigger:function(u,o,l,f,h,p){var g=this.properties[o],_=h(g);null!=_&&_(l,f)&&p(g)},checkZOrderTrigger:function(u,o,l,f){var h=this;this.checkTrigger(u,o,l,f,function(p){return p.triggersZOrder},function(){h._private.cy.notify("zorder",u)})},checkBoundsTrigger:function(u,o,l,f){this.checkTrigger(u,o,l,f,function(h){return h.triggersBounds},function(h){u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),h.triggersBoundsOfParallelBeziers&&("curve-style"===o&&("bezier"===l||"bezier"===f)||"display"===o&&("none"===l||"none"===f))&&u.parallelEdges().forEach(function(p){p.isBundledBezier()&&p.dirtyBoundingBoxCache()})})},checkTriggers:function(u,o,l,f){u.dirtyStyleCache(),this.checkZOrderTrigger(u,o,l,f),this.checkBoundsTrigger(u,o,l,f)}},Do={applyBypass:function(u,o,l,f){var p=[];if("*"===o||"**"===o){if(void 0!==l)for(var _=0;_<this.properties.length;_++){var M=this.parse(this.properties[_].name,l,!0);M&&p.push(M)}}else if(Be(o)){var F=this.parse(o,l,!0);F&&p.push(F)}else{if(!Ke(o))return!1;var U=o;f=l;for(var W=Object.keys(U),j=0;j<W.length;j++){var Z=W[j],J=U[Z];if(void 0===J&&(J=U[_n(Z)]),void 0!==J){var re=this.parse(Z,J,!0);re&&p.push(re)}}}if(0===p.length)return!1;for(var fe=!1,he=0;he<u.length;he++){for(var ye=u[he],Me={},Ae=void 0,be=0;be<p.length;be++){var Te=p[be];if(f){var _e=ye.pstyle(Te.name);Ae=Me[Te.name]={prev:_e}}fe=this.applyParsedProperty(ye,ki(Te))||fe,f&&(Ae.next=ye.pstyle(Te.name))}fe&&this.updateStyleHints(ye),f&&this.updateTransitions(ye,Me,!0)}return fe},overrideBypass:function(u,o,l){o=Cr(o);for(var f=0;f<u.length;f++){var h=u[f],p=h._private.style[o],g=this.properties[o].type,_=g.color,E=g.mutiple,x=p?null!=p.pfValue?p.pfValue:p.value:null;p&&p.bypass?(p.value=l,null!=p.pfValue&&(p.pfValue=l),p.strValue=_?"rgb("+l.join(",")+")":E?l.join(" "):""+l,this.updateStyleHints(h)):this.applyBypass(h,o,l),this.checkTriggers(h,o,x,l)}},removeAllBypasses:function(u,o){return this.removeBypasses(u,this.propertyNames,o)},removeBypasses:function(u,o,l){for(var h=0;h<u.length;h++){for(var p=u[h],g={},_=0;_<o.length;_++){var E=o[_],x=this.properties[E],M=p.pstyle(x.name);if(M&&M.bypass){var U=this.parse(E,"",!0),W=g[x.name]={prev:M};this.applyParsedProperty(p,U),W.next=p.pstyle(x.name)}}this.updateStyleHints(p),l&&this.updateTransitions(p,g,!0)}}},ts={getEmSizeInPixels:function(){var u=this.containerCss("font-size");return null!=u?parseFloat(u):1},containerCss:function(u){var l=this._private.cy.container();if(oe&&l&&oe.getComputedStyle)return oe.getComputedStyle(l).getPropertyValue(u)}},Hr={getRenderedStyle:function(u,o){return o?this.getStylePropertyValue(u,o,!0):this.getRawStyle(u,!0)},getRawStyle:function(u,o){var l=this;if(u=u[0]){for(var f={},h=0;h<l.properties.length;h++){var p=l.properties[h],g=l.getStylePropertyValue(u,p.name,o);null!=g&&(f[p.name]=g,f[_n(p.name)]=g)}return f}},getIndexedStyle:function(u,o,l,f){return u.pstyle(o)[l][f]??u.cy().style().getDefaultProperty(o)[l][0]},getStylePropertyValue:function(u,o,l){if(u=u[0]){var h=this.properties[o];h.alias&&(h=h.pointsTo);var p=h.type,g=u.pstyle(h.name);if(g){var _=g.value,E=g.units,x=g.strValue;if(l&&p.number&&null!=_&&qe(_)){var M=u.cy().zoom(),F=function(J){return J*M},U=function(J,re){return F(J)+re},W=ht(_);return(W?E.every(function(Z){return null!=Z}):null!=E)?W?_.map(function(Z,J){return U(Z,E[J])}).join(" "):U(_,E):W?_.map(function(Z){return Be(Z)?Z:""+F(Z)}).join(" "):""+F(_)}if(null!=x)return x}return null}},getAnimationStartStyle:function(u,o){for(var l={},f=0;f<o.length;f++){var p=o[f].name,g=u.pstyle(p);void 0!==g&&(g=Ke(g)?this.parse(p,g.strValue):this.parse(p,g)),g&&(l[p]=g)}return l},getPropsList:function(u){var l=[],f=u,h=this.properties;if(f)for(var p=Object.keys(f),g=0;g<p.length;g++){var _=p[g],E=f[_],x=h[_]||h[Cr(_)],M=this.parse(x.name,E);M&&l.push(M)}return l},getNonDefaultPropertiesHash:function(u,o,l){var p,g,_,E,x,f=l.slice();for(E=0;E<o.length;E++)if(null!=(p=u.pstyle(o[E],!1)))if(null!=p.pfValue)f[0]=Ia(_,f[0]),f[1]=qs(_,f[1]);else for(g=p.strValue,x=0;x<g.length;x++)_=g.charCodeAt(x),f[0]=Ia(_,f[0]),f[1]=qs(_,f[1]);return f}};Hr.getPropertiesHash=Hr.getNonDefaultPropertiesHash;var kd={appendFromJson:function(u){for(var o=this,l=0;l<u.length;l++){var f=u[l],h=f.selector,p=f.style||f.css,g=Object.keys(p);o.selector(h);for(var _=0;_<g.length;_++){var E=g[_];o.css(E,p[E])}}return o},fromJson:function(u){var o=this;return o.resetToDefault(),o.appendFromJson(u),o},json:function(){for(var u=[],o=this.defaultLength;o<this.length;o++){for(var l=this[o],f=l.selector,h=l.properties,p={},g=0;g<h.length;g++){var _=h[g];p[_.name]=_.strValue}u.push({selector:f?f.toString():"core",style:p})}return u}},Rh={appendFromString:function(u){var h,p,g,l=this,f=""+u;function _(){f=f.length>h.length?f.substr(h.length):""}function E(){p=p.length>g.length?p.substr(g.length):""}for(f=f.replace(/[/][*](\s|.)+?[*][/]/g,"");!f.match(/^\s*$/);){var M=f.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!M){Tr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+f);break}h=M[0];var F=M[1];if("core"!==F&&new Tu(F).invalid)Tr("Skipping parsing of block: Invalid selector found in string stylesheet: "+F),_();else{var W=M[2],j=!1;p=W;for(var Z=[];!p.match(/^\s*$/);){var re=p.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!re){Tr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+W),j=!0;break}g=re[0];var fe=re[1],he=re[2];this.properties[fe]?l.parse(fe,he)?(Z.push({name:fe,val:he}),E()):(Tr("Skipping property: Invalid property definition in: "+g),E()):(Tr("Skipping property: Invalid property name in: "+g),E())}if(j){_();break}l.selector(F);for(var Ae=0;Ae<Z.length;Ae++){var be=Z[Ae];l.css(be.name,be.val)}_()}}return l},fromString:function(u){var o=this;return o.resetToDefault(),o.appendFromString(u),o}},So={};(function(){var u=dn,o=ro,l=Bi,p=function(Mt){return"^"+Mt+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},g=function(Mt){var Nt=u+"|\\w+|"+o+"|"+l+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Mt+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+u+")\\s*\\,\\s*("+u+")\\s*,\\s*("+Nt+")\\s*\\,\\s*("+Nt+")\\)$"},_=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];So.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:p("data")},layoutData:{mapping:!0,regex:p("layoutData")},scratch:{mapping:!0,regex:p("scratch")},mapData:{mapping:!0,regex:g("mapData")},mapLayoutData:{mapping:!0,regex:g("mapLayoutData")},mapScratch:{mapping:!0,regex:g("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:_,singleRegexMatchValue:!0},urls:{regexes:_,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Mt,Nt){switch(Mt.length){case 2:return"deg"!==Nt[0]&&"rad"!==Nt[0]&&"deg"!==Nt[1]&&"rad"!==Nt[1];case 1:return Be(Mt[0])||"deg"===Nt[0]||"rad"===Nt[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+u+")\\s*,\\s*("+u+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+u+")\\s*,\\s*("+u+")\\s*,\\s*("+u+")\\s*,\\s*("+u+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Mt){var Nt=Mt.length;return 1===Nt||2===Nt||4===Nt}}};var E={zeroNonZero:function(Mt,Nt){return(null==Mt||null==Nt)&&Mt!==Nt||0==Mt&&0!=Nt||0!=Mt&&0==Nt},any:function(Mt,Nt){return Mt!=Nt},emptyNonEmpty:function(Mt,Nt){var Wt=Ft(Mt),rn=Ft(Nt);return Wt&&!rn||!Wt&&rn}},x=So.types,M=[{name:"label",type:x.text,triggersBounds:E.any,triggersZOrder:E.emptyNonEmpty},{name:"text-rotation",type:x.textRotation,triggersBounds:E.any},{name:"text-margin-x",type:x.bidirectionalSize,triggersBounds:E.any},{name:"text-margin-y",type:x.bidirectionalSize,triggersBounds:E.any}],F=[{name:"source-label",type:x.text,triggersBounds:E.any},{name:"source-text-rotation",type:x.textRotation,triggersBounds:E.any},{name:"source-text-margin-x",type:x.bidirectionalSize,triggersBounds:E.any},{name:"source-text-margin-y",type:x.bidirectionalSize,triggersBounds:E.any},{name:"source-text-offset",type:x.size,triggersBounds:E.any}],U=[{name:"target-label",type:x.text,triggersBounds:E.any},{name:"target-text-rotation",type:x.textRotation,triggersBounds:E.any},{name:"target-text-margin-x",type:x.bidirectionalSize,triggersBounds:E.any},{name:"target-text-margin-y",type:x.bidirectionalSize,triggersBounds:E.any},{name:"target-text-offset",type:x.size,triggersBounds:E.any}],W=[{name:"font-family",type:x.fontFamily,triggersBounds:E.any},{name:"font-style",type:x.fontStyle,triggersBounds:E.any},{name:"font-weight",type:x.fontWeight,triggersBounds:E.any},{name:"font-size",type:x.size,triggersBounds:E.any},{name:"text-transform",type:x.textTransform,triggersBounds:E.any},{name:"text-wrap",type:x.textWrap,triggersBounds:E.any},{name:"text-overflow-wrap",type:x.textOverflowWrap,triggersBounds:E.any},{name:"text-max-width",type:x.size,triggersBounds:E.any},{name:"text-outline-width",type:x.size,triggersBounds:E.any},{name:"line-height",type:x.positiveNumber,triggersBounds:E.any}],j=[{name:"text-valign",type:x.valign,triggersBounds:E.any},{name:"text-halign",type:x.halign,triggersBounds:E.any},{name:"color",type:x.color},{name:"text-outline-color",type:x.color},{name:"text-outline-opacity",type:x.zeroOneNumber},{name:"text-background-color",type:x.color},{name:"text-background-opacity",type:x.zeroOneNumber},{name:"text-background-padding",type:x.size,triggersBounds:E.any},{name:"text-border-opacity",type:x.zeroOneNumber},{name:"text-border-color",type:x.color},{name:"text-border-width",type:x.size,triggersBounds:E.any},{name:"text-border-style",type:x.borderStyle,triggersBounds:E.any},{name:"text-background-shape",type:x.textBackgroundShape,triggersBounds:E.any},{name:"text-justification",type:x.justification}],Z=[{name:"events",type:x.bool},{name:"text-events",type:x.bool}],J=[{name:"display",type:x.display,triggersZOrder:E.any,triggersBounds:E.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:x.visibility,triggersZOrder:E.any},{name:"opacity",type:x.zeroOneNumber,triggersZOrder:E.zeroNonZero},{name:"text-opacity",type:x.zeroOneNumber},{name:"min-zoomed-font-size",type:x.size},{name:"z-compound-depth",type:x.zCompoundDepth,triggersZOrder:E.any},{name:"z-index-compare",type:x.zIndexCompare,triggersZOrder:E.any},{name:"z-index",type:x.nonNegativeInt,triggersZOrder:E.any}],re=[{name:"overlay-padding",type:x.size,triggersBounds:E.any},{name:"overlay-color",type:x.color},{name:"overlay-opacity",type:x.zeroOneNumber,triggersBounds:E.zeroNonZero},{name:"overlay-shape",type:x.overlayShape,triggersBounds:E.any}],fe=[{name:"underlay-padding",type:x.size,triggersBounds:E.any},{name:"underlay-color",type:x.color},{name:"underlay-opacity",type:x.zeroOneNumber,triggersBounds:E.zeroNonZero},{name:"underlay-shape",type:x.overlayShape,triggersBounds:E.any}],he=[{name:"transition-property",type:x.propList},{name:"transition-duration",type:x.time},{name:"transition-delay",type:x.time},{name:"transition-timing-function",type:x.easing}],ye=function(Mt,Nt){return"label"===Nt.value?-Mt.poolIndex():Nt.pfValue},Me=[{name:"height",type:x.nodeSize,triggersBounds:E.any,hashOverride:ye},{name:"width",type:x.nodeSize,triggersBounds:E.any,hashOverride:ye},{name:"shape",type:x.nodeShape,triggersBounds:E.any},{name:"shape-polygon-points",type:x.polygonPointList,triggersBounds:E.any},{name:"background-color",type:x.color},{name:"background-fill",type:x.fill},{name:"background-opacity",type:x.zeroOneNumber},{name:"background-blacken",type:x.nOneOneNumber},{name:"background-gradient-stop-colors",type:x.colors},{name:"background-gradient-stop-positions",type:x.percentages},{name:"background-gradient-direction",type:x.gradientDirection},{name:"padding",type:x.sizeMaybePercent,triggersBounds:E.any},{name:"padding-relative-to",type:x.paddingRelativeTo,triggersBounds:E.any},{name:"bounds-expansion",type:x.boundsExpansion,triggersBounds:E.any}],Ae=[{name:"border-color",type:x.color},{name:"border-opacity",type:x.zeroOneNumber},{name:"border-width",type:x.size,triggersBounds:E.any},{name:"border-style",type:x.borderStyle}],be=[{name:"background-image",type:x.urls},{name:"background-image-crossorigin",type:x.bgCrossOrigin},{name:"background-image-opacity",type:x.zeroOneNumbers},{name:"background-image-containment",type:x.bgContainment},{name:"background-image-smoothing",type:x.bools},{name:"background-position-x",type:x.bgPos},{name:"background-position-y",type:x.bgPos},{name:"background-width-relative-to",type:x.bgRelativeTo},{name:"background-height-relative-to",type:x.bgRelativeTo},{name:"background-repeat",type:x.bgRepeat},{name:"background-fit",type:x.bgFit},{name:"background-clip",type:x.bgClip},{name:"background-width",type:x.bgWH},{name:"background-height",type:x.bgWH},{name:"background-offset-x",type:x.bgPos},{name:"background-offset-y",type:x.bgPos}],Te=[{name:"position",type:x.position,triggersBounds:E.any},{name:"compound-sizing-wrt-labels",type:x.compoundIncludeLabels,triggersBounds:E.any},{name:"min-width",type:x.size,triggersBounds:E.any},{name:"min-width-bias-left",type:x.sizeMaybePercent,triggersBounds:E.any},{name:"min-width-bias-right",type:x.sizeMaybePercent,triggersBounds:E.any},{name:"min-height",type:x.size,triggersBounds:E.any},{name:"min-height-bias-top",type:x.sizeMaybePercent,triggersBounds:E.any},{name:"min-height-bias-bottom",type:x.sizeMaybePercent,triggersBounds:E.any}],_e=[{name:"line-style",type:x.lineStyle},{name:"line-color",type:x.color},{name:"line-fill",type:x.fill},{name:"line-cap",type:x.lineCap},{name:"line-opacity",type:x.zeroOneNumber},{name:"line-dash-pattern",type:x.numbers},{name:"line-dash-offset",type:x.number},{name:"line-gradient-stop-colors",type:x.colors},{name:"line-gradient-stop-positions",type:x.percentages},{name:"curve-style",type:x.curveStyle,triggersBounds:E.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:x.zeroOneNumber,triggersBounds:E.any},{name:"source-endpoint",type:x.edgeEndpoint,triggersBounds:E.any},{name:"target-endpoint",type:x.edgeEndpoint,triggersBounds:E.any},{name:"control-point-step-size",type:x.size,triggersBounds:E.any},{name:"control-point-distances",type:x.bidirectionalSizes,triggersBounds:E.any},{name:"control-point-weights",type:x.numbers,triggersBounds:E.any},{name:"segment-distances",type:x.bidirectionalSizes,triggersBounds:E.any},{name:"segment-weights",type:x.numbers,triggersBounds:E.any},{name:"taxi-turn",type:x.bidirectionalSizeMaybePercent,triggersBounds:E.any},{name:"taxi-turn-min-distance",type:x.size,triggersBounds:E.any},{name:"taxi-direction",type:x.axisDirection,triggersBounds:E.any},{name:"edge-distances",type:x.edgeDistances,triggersBounds:E.any},{name:"arrow-scale",type:x.positiveNumber,triggersBounds:E.any},{name:"loop-direction",type:x.angle,triggersBounds:E.any},{name:"loop-sweep",type:x.angle,triggersBounds:E.any},{name:"source-distance-from-node",type:x.size,triggersBounds:E.any},{name:"target-distance-from-node",type:x.size,triggersBounds:E.any}],ke=[{name:"ghost",type:x.bool,triggersBounds:E.any},{name:"ghost-offset-x",type:x.bidirectionalSize,triggersBounds:E.any},{name:"ghost-offset-y",type:x.bidirectionalSize,triggersBounds:E.any},{name:"ghost-opacity",type:x.zeroOneNumber}],Pe=[{name:"selection-box-color",type:x.color},{name:"selection-box-opacity",type:x.zeroOneNumber},{name:"selection-box-border-color",type:x.color},{name:"selection-box-border-width",type:x.size},{name:"active-bg-color",type:x.color},{name:"active-bg-opacity",type:x.zeroOneNumber},{name:"active-bg-size",type:x.size},{name:"outside-texture-bg-color",type:x.color},{name:"outside-texture-bg-opacity",type:x.zeroOneNumber}],xe=[];So.pieBackgroundN=16,xe.push({name:"pie-size",type:x.sizeMaybePercent});for(var He=1;He<=So.pieBackgroundN;He++)xe.push({name:"pie-"+He+"-background-color",type:x.color}),xe.push({name:"pie-"+He+"-background-size",type:x.percent}),xe.push({name:"pie-"+He+"-background-opacity",type:x.zeroOneNumber});var Ne=[],Je=So.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:x.arrowShape,triggersBounds:E.any},{name:"arrow-color",type:x.color},{name:"arrow-fill",type:x.arrowFill}].forEach(function(nt){Je.forEach(function(Mt){Ne.push({name:Mt+"-"+nt.name,type:nt.type,triggersBounds:nt.triggersBounds})})},{});var Ue=So.properties=[].concat(Z,he,J,re,fe,ke,j,W,M,F,U,Me,Ae,be,xe,Te,_e,Ne,Pe),Ge=So.propertyGroups={behavior:Z,transition:he,visibility:J,overlay:re,underlay:fe,ghost:ke,commonLabel:j,labelDimensions:W,mainLabel:M,sourceLabel:F,targetLabel:U,nodeBody:Me,nodeBorder:Ae,backgroundImage:be,pie:xe,compound:Te,edgeLine:_e,edgeArrow:Ne,core:Pe},ot=So.propertyGroupNames={};(So.propertyGroupKeys=Object.keys(Ge)).forEach(function(nt){ot[nt]=Ge[nt].map(function(Mt){return Mt.name}),Ge[nt].forEach(function(Mt){return Mt.groupKey=nt})});var yt=So.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];So.propertyNames=Ue.map(function(nt){return nt.name});for(var st=0;st<Ue.length;st++){var vt=Ue[st];Ue[vt.name]=vt}for(var At=0;At<yt.length;At++){var Ot=yt[At],wt={name:Ot.name,alias:!0,pointsTo:Ue[Ot.pointsTo]};Ue.push(wt),Ue[Ot.name]=wt}})(),So.getDefaultProperty=function(u){return this.getDefaultProperties()[u]},So.getDefaultProperties=function(){var u=this._private;if(null!=u.defaultProperties)return u.defaultProperties;for(var o=Nn({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(E,x){for(var M=1;M<=So.pieBackgroundN;M++)E[x.name.replace("{{i}}",M)]=x.value;return E},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(E,x){return So.arrowPrefixes.forEach(function(M){E[M+"-"+x.name]=x.value}),E},{})),l={},f=0;f<this.properties.length;f++){var h=this.properties[f];if(!h.pointsTo){var p=h.name,_=this.parse(p,o[p]);l[p]=_}}return u.defaultProperties=l,u.defaultProperties},So.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Pd={parse:function(u,o,l,f){var h=this;if(at(o))return h.parseImplWarn(u,o,l,f);var M,E=td(u,""+o,l?"t":"f","mapping"===f||!0===f||!1===f||null==f?"dontcare":f),x=h.propCache=h.propCache||[];return(M=x[E])||(M=x[E]=h.parseImplWarn(u,o,l,f)),(l||"mapping"===f)&&(M=ki(M))&&(M.value=ki(M.value)),M},parseImplWarn:function(u,o,l,f){var h=this.parseImpl(u,o,l,f);return!h&&null!=o&&Tr("The style property `".concat(u,": ").concat(o,"` is invalid")),h&&("width"===h.name||"height"===h.name)&&"label"===o&&Tr("The style value of `label` is deprecated for `"+h.name+"`"),h}};Pd.parseImpl=function(u,o,l,f){var h=this;u=Cr(u);var p=h.properties[u],g=o,_=h.types;if(!p||void 0===o)return null;p.alias&&(u=(p=p.pointsTo).name);var E=Be(o);E&&(o=o.trim());var M,F,x=p.type;if(!x)return null;if(l&&(""===o||null===o))return{name:u,value:o,bypass:!0,deleteBypass:!0};if(at(o))return{name:u,value:o,strValue:"fn",mapped:_.fn,bypass:l};if(!(!E||f||o.length<7||"a"!==o[1])){if(o.length>=7&&"d"===o[0]&&(M=new RegExp(_.data.regex).exec(o)))return!l&&{name:u,value:M,strValue:""+o,mapped:_.data,field:M[1],bypass:l};if(o.length>=10&&"m"===o[0]&&(F=new RegExp(_.mapData.regex).exec(o))){if(l||x.multiple)return!1;var W=_.mapData;if(!x.color&&!x.number)return!1;var j=this.parse(u,F[4]);if(!j||j.mapped)return!1;var Z=this.parse(u,F[5]);if(!Z||Z.mapped)return!1;if(j.pfValue===Z.pfValue||j.strValue===Z.strValue)return Tr("`"+u+": "+o+"` is not a valid mapper because the output range is zero; converting to `"+u+": "+j.strValue+"`"),this.parse(u,j.strValue);if(x.color){var J=j.value,re=Z.value;if(!(J[0]!==re[0]||J[1]!==re[1]||J[2]!==re[2]||J[3]!==re[3]&&(null!=J[3]&&1!==J[3]||null!=re[3]&&1!==re[3])))return!1}return{name:u,value:F,strValue:""+o,mapped:W,field:F[1],fieldMin:parseFloat(F[2]),fieldMax:parseFloat(F[3]),valueMin:j.value,valueMax:Z.value,bypass:l}}}if(x.multiple&&"multiple"!==f){var he;if(he=E?o.split(/\s+/):ht(o)?o:[o],x.evenMultiple&&he.length%2!=0)return null;for(var ye=[],Me=[],Ae=[],be="",Te=!1,_e=0;_e<he.length;_e++){var ke=h.parse(u,he[_e],l,"multiple");Te=Te||Be(ke.value),ye.push(ke.value),Ae.push(null!=ke.pfValue?ke.pfValue:ke.value),Me.push(ke.units),be+=(_e>0?" ":"")+ke.strValue}return x.validate&&!x.validate(ye,Me)?null:x.singleEnum&&Te?1===ye.length&&Be(ye[0])?{name:u,value:ye[0],strValue:ye[0],bypass:l}:null:{name:u,value:ye,pfValue:Ae,strValue:be,bypass:l,units:Me}}var Pe=function(){for(var Nt=0;Nt<x.enums.length;Nt++)if(x.enums[Nt]===o)return{name:u,value:o,strValue:""+o,bypass:l};return null};if(x.number){var xe,He="px";if(x.units&&(xe=x.units),x.implicitUnits&&(He=x.implicitUnits),!x.unitless)if(E){var Ne="px|em"+(x.allowPercent?"|\\%":"");xe&&(Ne=xe);var Je=o.match("^("+dn+")("+Ne+")?$");Je&&(o=Je[1],xe=Je[2]||He)}else(!xe||x.implicitUnits)&&(xe=He);if(o=parseFloat(o),isNaN(o)&&void 0===x.enums)return null;if(isNaN(o)&&void 0!==x.enums)return o=g,Pe();if(x.integer&&!function(o){return qe(o)&&Math.floor(o)===o}(o)||void 0!==x.min&&(o<x.min||x.strictMin&&o===x.min)||void 0!==x.max&&(o>x.max||x.strictMax&&o===x.max))return null;var Ue={name:u,value:o,strValue:""+o+(xe||""),units:xe,bypass:l};return Ue.pfValue=x.unitless||"px"!==xe&&"em"!==xe?o:"px"!==xe&&xe?this.getEmSizeInPixels()*o:o,("ms"===xe||"s"===xe)&&(Ue.pfValue="ms"===xe?o:1e3*o),("deg"===xe||"rad"===xe)&&(Ue.pfValue="rad"===xe?o:function(o){return Math.PI*o/180}(o)),"%"===xe&&(Ue.pfValue=o/100),Ue}if(x.propList){var Ge=[],ot=""+o;if("none"!==ot){for(var dt=ot.split(/\s*,\s*|\s+/),yt=0;yt<dt.length;yt++){var st=dt[yt].trim();h.properties[st]?Ge.push(st):Tr("`"+st+"` is not a valid property name")}if(0===Ge.length)return null}return{name:u,value:Ge,strValue:0===Ge.length?"none":Ge.join(" "),bypass:l}}if(x.color){var vt=function(o){return(ht(o)?o:null)||function(o){return Ms[o.toLowerCase()]}(o)||function(o){if((4===o.length||7===o.length)&&"#"===o[0]){var f,h,p,g=16;return 4===o.length?(f=parseInt(o[1]+o[1],g),h=parseInt(o[2]+o[2],g),p=parseInt(o[3]+o[3],g)):(f=parseInt(o[1]+o[2],g),h=parseInt(o[3]+o[4],g),p=parseInt(o[5]+o[6],g)),[f,h,p]}}(o)||function(o){var l,f=new RegExp("^"+Ri+"$").exec(o);if(f){l=[];for(var h=[],p=1;p<=3;p++){var g=f[p];if("%"===g[g.length-1]&&(h[p]=!0),g=parseFloat(g),h[p]&&(g=g/100*255),g<0||g>255)return;l.push(Math.floor(g))}if((h[1]||h[2]||h[3])&&!(h[1]&&h[2]&&h[3]))return;var x=f[4];if(void 0!==x){if((x=parseFloat(x))<0||x>1)return;l.push(x)}}return l}(o)||function(o){var l,f,h,p,g,_,E,x;function M(j,Z,J){return J<0&&(J+=1),J>1&&(J-=1),J<1/6?j+6*(Z-j)*J:J<.5?Z:J<2/3?j+(Z-j)*(2/3-J)*6:j}var F=new RegExp("^"+Fi+"$").exec(o);if(F){if((f=parseInt(F[1]))<0?f=(360- -1*f%360)%360:f>360&&(f%=360),f/=360,(h=parseFloat(F[2]))<0||h>100||(h/=100,(p=parseFloat(F[3]))<0||p>100)||(p/=100,void 0!==(g=F[4])&&((g=parseFloat(g))<0||g>1)))return;if(0===h)_=E=x=Math.round(255*p);else{var U=p<.5?p*(1+h):p+h-p*h,W=2*p-U;_=Math.round(255*M(W,U,f+1/3)),E=Math.round(255*M(W,U,f)),x=Math.round(255*M(W,U,f-1/3))}l=[_,E,x,g]}return l}(o)}(o);return vt?{name:u,value:vt,pfValue:vt,strValue:"rgb("+vt[0]+","+vt[1]+","+vt[2]+")",bypass:l}:null}if(x.regex||x.regexes){if(x.enums){var At=Pe();if(At)return At}for(var Ot=x.regexes?x.regexes:[x.regex],Dt=0;Dt<Ot.length;Dt++){var nt=new RegExp(Ot[Dt]).exec(o);if(nt)return{name:u,value:x.singleRegexMatchValue?nt[1]:nt,strValue:""+o,bypass:l}}return null}return x.string?{name:u,value:""+o,strValue:""+o,bypass:l}:x.enums?Pe():null};var Zo=function u(o){if(!(this instanceof u))return new u(o);ut(o)?(this._private={cy:o,coreStyle:{}},this.length=0,this.resetToDefault()):ri("A style must have a core reference")},Go=Zo.prototype;Go.instanceString=function(){return"style"},Go.clear=function(){for(var u=this._private,l=u.cy.elements(),f=0;f<this.length;f++)this[f]=void 0;return this.length=0,u.contextStyles={},u.propDiffs={},this.cleanElements(l,!0),l.forEach(function(h){var p=h[0]._private;p.styleDirty=!0,p.appliedInitStyle=!1}),this},Go.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Go.core=function(u){return this._private.coreStyle[u]||this.getDefaultProperty(u)},Go.selector=function(u){var o="core"===u?null:new Tu(u),l=this.length++;return this[l]={selector:o,properties:[],mappedProperties:[],index:l},this},Go.css=function(){var o=arguments;if(1===o.length)for(var l=o[0],f=0;f<this.properties.length;f++){var h=this.properties[f],p=l[h.name];void 0===p&&(p=l[_n(h.name)]),void 0!==p&&this.cssRule(h.name,p)}else 2===o.length&&this.cssRule(o[0],o[1]);return this},Go.style=Go.css,Go.cssRule=function(u,o){var l=this.parse(u,o);if(l){var f=this.length-1;this[f].properties.push(l),this[f].properties[l.name]=l,l.name.match(/pie-(\d+)-background-size/)&&l.value&&(this._private.hasPie=!0),l.mapped&&this[f].mappedProperties.push(l),!this[f].selector&&(this._private.coreStyle[l.name]=l)}return this},Go.append=function(u){return it(u)?u.appendToStyle(this):ht(u)?this.appendFromJson(u):Be(u)&&this.appendFromString(u),this},Zo.fromJson=function(u,o){var l=new Zo(u);return l.fromJson(o),l},Zo.fromString=function(u,o){return new Zo(u).fromString(o)},[Eo,Do,ts,Hr,kd,Rh,So,Pd].forEach(function(u){Nn(Go,u)}),Zo.types=Go.types,Zo.properties=Go.properties,Zo.propertyGroups=Go.propertyGroups,Zo.propertyGroupNames=Go.propertyGroupNames,Zo.propertyGroupKeys=Go.propertyGroupKeys;var Ld={style:function(o){return o&&this.setStyle(o).update(),this._private.style},setStyle:function(o){var l=this._private;return l.style=it(o)?o.generateStyle(this):ht(o)?Zo.fromJson(this,o):Be(o)?Zo.fromString(this,o):Zo(this),l.style},updateStyle:function(){this.mutableElements().updateStyle()}},El={autolock:function(o){return void 0===o?this._private.autolock:(this._private.autolock=!!o,this)},autoungrabify:function(o){return void 0===o?this._private.autoungrabify:(this._private.autoungrabify=!!o,this)},autounselectify:function(o){return void 0===o?this._private.autounselectify:(this._private.autounselectify=!!o,this)},selectionType:function(o){var l=this._private;return null==l.selectionType&&(l.selectionType="single"),void 0===o?l.selectionType:(("additive"===o||"single"===o)&&(l.selectionType=o),this)},panningEnabled:function(o){return void 0===o?this._private.panningEnabled:(this._private.panningEnabled=!!o,this)},userPanningEnabled:function(o){return void 0===o?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!o,this)},zoomingEnabled:function(o){return void 0===o?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!o,this)},userZoomingEnabled:function(o){return void 0===o?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!o,this)},boxSelectionEnabled:function(o){return void 0===o?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!o,this)},pan:function(){var f,h,p,g,_,o=arguments,l=this._private.pan;switch(o.length){case 0:return l;case 1:if(Be(o[0]))return l[f=o[0]];if(Ke(o[0])){if(!this._private.panningEnabled)return this;_=(p=o[0]).y,qe(g=p.x)&&(l.x=g),qe(_)&&(l.y=_),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;h=o[1],("x"===(f=o[0])||"y"===f)&&qe(h)&&(l[f]=h),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(o,l){var p,g,_,E,x,f=arguments,h=this._private.pan;if(!this._private.panningEnabled)return this;switch(f.length){case 1:Ke(o)&&(x=(_=f[0]).y,qe(E=_.x)&&(h.x+=E),qe(x)&&(h.y+=x),this.emit("pan viewport"));break;case 2:g=l,("x"===(p=o)||"y"===p)&&qe(g)&&(h[p]+=g),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(o,l){var f=this.getFitViewport(o,l);if(f){var h=this._private;h.zoom=f.zoom,h.pan=f.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(o,l){var f;if((qe(o)&&void 0===l&&(l=o,o=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(Be(o)?o=this.$(o):!function(o){return Ke(o)&&qe(o.x1)&&qe(o.x2)&&qe(o.y1)&&qe(o.y2)}(o)?It(o)||(o=this.mutableElements()):((f={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=f.x2-f.x1,f.h=f.y2-f.y1),!It(o)||!o.empty())){f=f||o.boundingBox();var E,g=this.width(),_=this.height();if(l=qe(l)?l:0,!isNaN(g)&&!isNaN(_)&&g>0&&_>0&&!isNaN(f.w)&&!isNaN(f.h)&&f.w>0&&f.h>0)return{zoom:E=(E=(E=Math.min((g-2*l)/f.w,(_-2*l)/f.h))>this._private.maxZoom?this._private.maxZoom:E)<this._private.minZoom?this._private.minZoom:E,pan:{x:(g-E*(f.x1+f.x2))/2,y:(_-E*(f.y1+f.y2))/2}}}},zoomRange:function(o,l){var f=this._private;if(null==l){var h=o;o=h.min,l=h.max}return qe(o)&&qe(l)&&o<=l?(f.minZoom=o,f.maxZoom=l):qe(o)&&void 0===l&&o<=f.maxZoom?f.minZoom=o:qe(l)&&void 0===o&&l>=f.minZoom&&(f.maxZoom=l),this},minZoom:function(o){return void 0===o?this._private.minZoom:this.zoomRange({min:o})},maxZoom:function(o){return void 0===o?this._private.maxZoom:this.zoomRange({max:o})},getZoomedViewport:function(o){var p,g,l=this._private,f=l.pan,h=l.zoom,_=!1;return l.zoomingEnabled||(_=!0),qe(o)?g=o:Ke(o)&&(g=o.level,null!=o.position?p=Lr(o.position,h,f):null!=o.renderedPosition&&(p=o.renderedPosition),null!=p&&!l.panningEnabled&&(_=!0)),g=(g=g>l.maxZoom?l.maxZoom:g)<l.minZoom?l.minZoom:g,!_&&qe(g)&&g!==h&&(null==p||qe(p.x)&&qe(p.y))?null!=p?{zoomed:!0,panned:!0,zoom:g,pan:{x:-g/h*(p.x-f.x)+p.x,y:-g/h*(p.y-f.y)+p.y}}:{zoomed:!0,panned:!1,zoom:g,pan:f}:null},zoom:function(o){if(void 0===o)return this._private.zoom;var l=this.getZoomedViewport(o),f=this._private;return null!=l&&l.zoomed?(f.zoom=l.zoom,l.panned&&(f.pan.x=l.pan.x,f.pan.y=l.pan.y),this.emit("zoom"+(l.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(o){var l=this._private,f=!0,h=!0,p=[],g=!1,_=!1;if(!o)return this;if(qe(o.zoom)||(f=!1),Ke(o.pan)||(h=!1),!f&&!h)return this;if(f){var E=o.zoom;E<l.minZoom||E>l.maxZoom||!l.zoomingEnabled?g=!0:(l.zoom=E,p.push("zoom"))}if(h&&(!g||!o.cancelOnFailedZoom)&&l.panningEnabled){var x=o.pan;qe(x.x)&&(l.pan.x=x.x,_=!1),qe(x.y)&&(l.pan.y=x.y,_=!1),_||p.push("pan")}return p.length>0&&(p.push("viewport"),this.emit(p.join(" ")),this.notify("viewport")),this},center:function(o){var l=this.getCenterPan(o);return l&&(this._private.pan=l,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(o,l){if(this._private.panningEnabled){if(Be(o)){var f=o;o=this.mutableElements().filter(f)}else It(o)||(o=this.mutableElements());if(0!==o.length){var h=o.boundingBox(),p=this.width(),g=this.height();return{x:(p-(l=void 0===l?this._private.zoom:l)*(h.x1+h.x2))/2,y:(g-l*(h.y1+h.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var f,h,o=this._private,l=o.container;return o.sizeCache=o.sizeCache||(l?(f=oe.getComputedStyle(l),{width:l.clientWidth-(h=function(g){return parseFloat(f.getPropertyValue(g))})("padding-left")-h("padding-right"),height:l.clientHeight-h("padding-top")-h("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var o=this._private.pan,l=this._private.zoom,f=this.renderedExtent(),h={x1:(f.x1-o.x)/l,x2:(f.x2-o.x)/l,y1:(f.y1-o.y)/l,y2:(f.y2-o.y)/l};return h.w=h.x2-h.x1,h.h=h.y2-h.y1,h},renderedExtent:function(){var o=this.width(),l=this.height();return{x1:0,y1:0,x2:o,y2:l,w:o,h:l}},multiClickDebounceTime:function(o){return o?(this._private.multiClickDebounceTime=o,this):this._private.multiClickDebounceTime}};El.centre=El.center,El.autolockNodes=El.autolock,El.autoungrabifyNodes=El.autoungrabify;var vs={data:ur.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ur.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ur.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ur.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};vs.attr=vs.data,vs.removeAttr=vs.removeData;var ys=function(o){var l=this,f=(o=Nn({},o)).container;f&&!Ht(f)&&Ht(f[0])&&(f=f[0]);var h=f?f._cyreg:null;(h=h||{})&&h.cy&&(h.cy.destroy(),h={});var p=h.readies=h.readies||[];f&&(f._cyreg=h),h.cy=l;var g=void 0!==oe&&void 0!==f&&!o.headless,_=o;_.layout=Nn({name:g?"grid":"null"},_.layout),_.renderer=Nn({name:g?"canvas":"null"},_.renderer);var E=function(j,Z,J){return void 0!==Z?Z:void 0!==J?J:j},x=this._private={container:f,ready:!1,options:_,elements:new fo(this),listeners:[],aniEles:new fo(this),data:_.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:E(!0,_.zoomingEnabled),userZoomingEnabled:E(!0,_.userZoomingEnabled),panningEnabled:E(!0,_.panningEnabled),userPanningEnabled:E(!0,_.userPanningEnabled),boxSelectionEnabled:E(!0,_.boxSelectionEnabled),autolock:E(!1,_.autolock,_.autolockNodes),autoungrabify:E(!1,_.autoungrabify,_.autoungrabifyNodes),autounselectify:E(!1,_.autounselectify),styleEnabled:void 0===_.styleEnabled?g:_.styleEnabled,zoom:qe(_.zoom)?_.zoom:1,pan:{x:Ke(_.pan)&&qe(_.pan.x)?_.pan.x:0,y:Ke(_.pan)&&qe(_.pan.y)?_.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:E(250,_.multiClickDebounceTime)};this.createEmitter(),this.selectionType(_.selectionType),this.zoomRange({min:_.minZoom,max:_.maxZoom}),x.styleEnabled&&l.setStyle([]);var F=Nn({},_,_.renderer);l.initRenderer(F),function(j,Z){if(j.some(Jn))return fs.all(j).then(Z);Z(j)}([_.style,_.elements],function(W){var j=W[0],Z=W[1];x.styleEnabled&&l.style().append(j),function(j,Z,J){l.notifications(!1);var re=l.mutableElements();re.length>0&&re.remove(),null!=j&&(Ke(j)||ht(j))&&l.add(j),l.one("layoutready",function(he){l.notifications(!0),l.emit(he),l.one("load",Z),l.emitAndNotify("load")}).one("layoutstop",function(){l.one("done",J),l.emit("done")});var fe=Nn({},l._private.options.layout);fe.eles=l.elements(),l.layout(fe).run()}(Z,function(){l.startAnimationLoop(),x.ready=!0,at(_.ready)&&l.on("ready",_.ready);for(var J=0;J<p.length;J++)l.on("ready",p[J]);h&&(h.readies=[]),l.emit("ready")},_.done)})},Ou=ys.prototype;Nn(Ou,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(o){return this.isReady()?this.emitter().emit("ready",[],o):this.on("ready",o),this},destroy:function(){var o=this;if(!o.destroyed())return o.stopAnimationLoop(),o.destroyRenderer(),this.emit("destroy"),o._private.destroyed=!0,o},hasElementWithId:function(o){return this._private.elements.hasElementWithId(o)},getElementById:function(o){return this._private.elements.getElementById(o)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(o){return this._private.elements.merge(o),this},removeFromPool:function(o){return this._private.elements.unmerge(o),this},container:function(){return this._private.container||null},mount:function(o){if(null!=o){var l=this,f=l._private,h=f.options;return!Ht(o)&&Ht(o[0])&&(o=o[0]),l.stopAnimationLoop(),l.destroyRenderer(),f.container=o,f.styleEnabled=!0,l.invalidateSize(),l.initRenderer(Nn({},h,h.renderer,{name:"null"===h.renderer.name?"canvas":h.renderer.name})),l.startAnimationLoop(),l.style(h.style),l.emit("mount"),l}},unmount:function(){var o=this;return o.stopAnimationLoop(),o.destroyRenderer(),o.initRenderer({name:"null"}),o.emit("unmount"),o},options:function(){return ki(this._private.options)},json:function(o){var l=this,f=l._private,h=l.mutableElements();if(Ke(o)){if(l.startBatch(),o.elements){var g={},_=function(ye,Me){for(var Ae=[],be=[],Te=0;Te<ye.length;Te++){var _e=ye[Te];if(_e.data.id){var ke=""+_e.data.id,Pe=l.getElementById(ke);g[ke]=!0,0!==Pe.length?be.push({ele:Pe,json:_e}):(Me&&(_e.group=Me),Ae.push(_e))}else Tr("cy.json() cannot handle elements without an ID attribute")}l.add(Ae);for(var xe=0;xe<be.length;xe++){var He=be[xe];He.ele.json(He.json)}};if(ht(o.elements))_(o.elements);else for(var E=["nodes","edges"],x=0;x<E.length;x++){var M=E[x],F=o.elements[M];ht(F)&&_(F,M)}var U=l.collection();h.filter(function(he){return!g[he.id()]}).forEach(function(he){he.isParent()?U.merge(he):he.remove()}),U.forEach(function(he){return he.children().move({parent:null})}),U.forEach(function(he){return(ye=he,l.getElementById(ye.id())).remove();var ye})}o.style&&l.style(o.style),null!=o.zoom&&o.zoom!==f.zoom&&l.zoom(o.zoom),o.pan&&(o.pan.x!==f.pan.x||o.pan.y!==f.pan.y)&&l.pan(o.pan),o.data&&l.data(o.data);for(var W=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],j=0;j<W.length;j++){var Z=W[j];null!=o[Z]&&l[Z](o[Z])}return l.endBatch(),this}var re={};o?re.elements=this.elements().map(function(he){return he.json()}):(re.elements={},h.forEach(function(he){var ye=he.group();re.elements[ye]||(re.elements[ye]=[]),re.elements[ye].push(he.json())})),this._private.styleEnabled&&(re.style=l.style().json()),re.data=ki(l.data());var fe=f.options;return re.zoomingEnabled=f.zoomingEnabled,re.userZoomingEnabled=f.userZoomingEnabled,re.zoom=f.zoom,re.minZoom=f.minZoom,re.maxZoom=f.maxZoom,re.panningEnabled=f.panningEnabled,re.userPanningEnabled=f.userPanningEnabled,re.pan=ki(f.pan),re.boxSelectionEnabled=f.boxSelectionEnabled,re.renderer=ki(fe.renderer),re.hideEdgesOnViewport=fe.hideEdgesOnViewport,re.textureOnViewport=fe.textureOnViewport,re.wheelSensitivity=fe.wheelSensitivity,re.motionBlur=fe.motionBlur,re.multiClickDebounceTime=fe.multiClickDebounceTime,re}}),Ou.$id=Ou.getElementById,[yy,Nf,Rf,Tc,nu,jp,Nd,Rd,Ld,El,vs].forEach(function(u){Nn(Ou,u)});var kf={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}},Wp={maximal:!1,acyclic:!1},Nu=function(o){return o.scratch("breadthfirst")},$p=function(o,l){return o.scratch("breadthfirst",l)};function Ru(u){this.options=Nn({},kf,Wp,u)}Ru.prototype.run=function(){var x,u=this.options,o=u,l=u.cy,f=o.eles,h=f.nodes().filter(function(sn){return!sn.isParent()}),p=f,g=o.directed,_=o.acyclic||o.maximal||o.maximalAdjustments>0,E=Mi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(It(o.roots))x=o.roots;else if(ht(o.roots)){for(var M=[],F=0;F<o.roots.length;F++){var W=l.getElementById(o.roots[F]);M.push(W)}x=l.collection(M)}else if(Be(o.roots))x=l.$(o.roots);else if(g)x=h.roots();else{var j=f.components();x=l.collection();for(var Z=function(Jt){var Pn=j[Jt],Sn=Pn.maxDegree(!1),un=Pn.filter(function(Rn){return Rn.degree(!1)===Sn});x=x.add(un)},J=0;J<j.length;J++)Z(J)}var re=[],fe={},he=function(Jt,Pn){null==re[Pn]&&(re[Pn]=[]);var Sn=re[Pn].length;re[Pn].push(Jt),$p(Jt,{index:Sn,depth:Pn})};p.bfs({roots:x,directed:o.directed,visit:function(Jt,Pn,Sn,un,Rn){var Or=Jt[0],hr=Or.id();he(Or,Rn),fe[hr]=!0}});for(var Me=[],Ae=0;Ae<h.length;Ae++){var be=h[Ae];fe[be.id()]||Me.push(be)}var Te=function(Jt){for(var Pn=re[Jt],Sn=0;Sn<Pn.length;Sn++){var un=Pn[Sn];null!=un?$p(un,{depth:Jt,index:Sn}):(Pn.splice(Sn,1),Sn--)}},_e=function(){for(var Jt=0;Jt<re.length;Jt++)Te(Jt)},ke=function(Jt,Pn){for(var Sn=Nu(Jt),un=Jt.incomers().filter(function(ft){return ft.isNode()&&f.has(ft)}),Rn=-1,Or=Jt.id(),hr=0;hr<un.length;hr++){var zt=Nu(un[hr]);Rn=Math.max(Rn,zt.depth)}if(Sn.depth<=Rn){if(!o.acyclic&&Pn[Or])return null;var Ce=Rn+1;return function(Jt,Pn){var Sn=Nu(Jt);re[Sn.depth][Sn.index]=null,he(Jt,Pn)}(Jt,Ce),Pn[Or]=Ce,!0}return!1};if(g&&_){var Pe=[],xe={},He=function(Jt){return Pe.push(Jt)};for(h.forEach(function(sn){return Pe.push(sn)});Pe.length>0;){var Je=Pe.shift(),Ue=ke(Je,xe);if(Ue)Je.outgoers().filter(function(sn){return sn.isNode()&&f.has(sn)}).forEach(He);else if(null===Ue){Tr("Detected double maximal shift for node `"+Je.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}_e();var Ge=0;if(o.avoidOverlap)for(var ot=0;ot<h.length;ot++){var yt=h[ot].layoutDimensions(o);Ge=Math.max(Ge,yt.w,yt.h)}var At={},Ot=function(Jt){if(At[Jt.id()])return At[Jt.id()];for(var Pn=Nu(Jt).depth,Sn=Jt.neighborhood(),un=0,Rn=0,Or=0;Or<Sn.length;Or++){var hr=Sn[Or];if(!hr.isEdge()&&!hr.isParent()&&h.has(hr)){var $n=Nu(hr);if(null!=$n){var zt=$n.index,Ce=$n.depth;null!=zt&&null!=Ce&&Ce<Pn&&(un+=zt/re[Ce].length,Rn++)}}}return un/=Rn=Math.max(1,Rn),0===Rn&&(un=0),At[Jt.id()]=un,un},Dt=function(Jt,Pn){var Rn=Ot(Jt)-Ot(Pn);return 0===Rn?ja(Jt.id(),Pn.id()):Rn};void 0!==o.depthSort&&(Dt=o.depthSort);for(var wt=0;wt<re.length;wt++)re[wt].sort(Dt),Te(wt);for(var nt=[],Mt=0;Mt<Me.length;Mt++)nt.push(Me[Mt]);re.unshift(nt),_e();for(var Nt=0,Wt=0;Wt<re.length;Wt++)Nt=Math.max(re[Wt].length,Nt);var rn_x=E.x1+E.w/2,rn_y=E.x1+E.h/2,Xn=re.reduce(function(sn,Jt){return Math.max(sn,Jt.length)},0);return f.nodes().layoutPositions(this,o,function(Jt){var Pn=Nu(Jt),Sn=Pn.depth,un=Pn.index,Rn=re[Sn].length,Or=Math.max(E.w/((o.grid?Xn:Rn)+1),Ge),hr=Math.max(E.h/(re.length+1),Ge),$n=Math.min(E.w/2/re.length,E.h/2/re.length);if($n=Math.max($n,Ge),o.circle){var Ce=$n*Sn+$n-(re.length>0&&re[0].length<=3?$n/2:0),ft=2*Math.PI/re[Sn].length*un;return 0===Sn&&1===re[0].length&&(Ce=1),{x:rn_x+Ce*Math.cos(ft),y:rn_y+Ce*Math.sin(ft)}}return{x:rn_x+(un+1-(Rn+1)/2)*Or,y:(Sn+1)*hr}}),this};var Ic={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Yp(u){this.options=Nn({},Ic,u)}Yp.prototype.run=function(){var u=this.options,o=u,l=u.cy,f=o.eles,h=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,p=f.nodes().not(":parent");o.sort&&(p=p.sort(o.sort));for(var M,g=Mi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),_={x:g.x1+g.w/2,y:g.y1+g.h/2},x=(void 0===o.sweep?2*Math.PI-2*Math.PI/p.length:o.sweep)/Math.max(1,p.length-1),F=0,U=0;U<p.length;U++){var j=p[U].layoutDimensions(o);F=Math.max(F,j.w,j.h)}if(M=qe(o.radius)?o.radius:p.length<=1?0:Math.min(g.h,g.w)/2-F,p.length>1&&o.avoidOverlap){F*=1.75;var re=Math.cos(x)-Math.cos(0),fe=Math.sin(x)-Math.sin(0),he=Math.sqrt(F*F/(re*re+fe*fe));M=Math.max(he,M)}return f.nodes().layoutPositions(this,o,function(Ae,be){var Te=o.startAngle+be*x*(h?1:-1),_e=M*Math.cos(Te),ke=M*Math.sin(Te);return{x:_.x+_e,y:_.y+ke}}),this};var by={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(o){return o.degree()},levelWidth:function(o){return o.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Fd(u){this.options=Nn({},by,u)}Fd.prototype.run=function(){for(var u=this.options,o=u,l=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,f=u.cy,h=o.eles,p=h.nodes().not(":parent"),g=Mi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:f.width(),h:f.height()}),_={x:g.x1+g.w/2,y:g.y1+g.h/2},E=[],x=0,M=0;M<p.length;M++){var U,F=p[M];U=o.concentric(F),E.push({value:U,node:F}),F._private.scratch.concentric=U}p.updateStyle();for(var W=0;W<p.length;W++){var Z=p[W].layoutDimensions(o);x=Math.max(x,Z.w,Z.h)}E.sort(function(sn,Jt){return Jt.value-sn.value});for(var J=o.levelWidth(p),re=[[]],fe=re[0],he=0;he<E.length;he++){var ye=E[he];fe.length>0&&Math.abs(fe[0].value-ye.value)>=J&&re.push(fe=[]),fe.push(ye)}var Ae=x+o.minNodeSpacing;if(!o.avoidOverlap){var be=re.length>0&&re[0].length>1,Te=Math.min(g.w,g.h)/2-Ae;Ae=Math.min(Ae,Te/(re.length+be?1:0))}for(var ke=0,Pe=0;Pe<re.length;Pe++){var xe=re[Pe],He=void 0===o.sweep?2*Math.PI-2*Math.PI/xe.length:o.sweep,Ne=xe.dTheta=He/Math.max(1,xe.length-1);if(xe.length>1&&o.avoidOverlap){var Je=Math.cos(Ne)-Math.cos(0),Ue=Math.sin(Ne)-Math.sin(0),Ge=Math.sqrt(Ae*Ae/(Je*Je+Ue*Ue));ke=Math.max(Ge,ke)}xe.r=ke,ke+=Ae}if(o.equidistant){for(var ot=0,dt=0,yt=0;yt<re.length;yt++)ot=Math.max(ot,re[yt].r-dt);dt=0;for(var At=0;At<re.length;At++){var Ot=re[At];0===At&&(dt=Ot.r),Ot.r=dt,dt+=ot}}for(var Dt={},wt=0;wt<re.length;wt++)for(var nt=re[wt],Mt=nt.dTheta,Nt=nt.r,Wt=0;Wt<nt.length;Wt++){var rn=nt[Wt],Xn=o.startAngle+(l?1:-1)*Mt*Wt,ar={x:_.x+Nt*Math.cos(Xn),y:_.y+Nt*Math.sin(Xn)};Dt[rn.node.id()]=ar}return h.nodes().layoutPositions(this,o,function(sn){var Jt=sn.id();return Dt[Jt]}),this};var Pf,Xp={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(o,l){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(o){return 2048},nodeOverlap:4,idealEdgeLength:function(o){return 32},edgeElasticity:function(o){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Lf(u){this.options=Nn({},Xp,u),this.options.layout=this}Lf.prototype.run=function(){var u=this.options,o=u.cy,l=this;l.stopped=!1,(!0===u.animate||!1===u.animate)&&l.emit({type:"layoutstart",layout:l}),Pf=!0===u.debug;var f=bm(o,l,u);Pf&&(void 0)(f),u.randomize&&_m(f);var h=Ti(),p=function(){Ph(f,o,u),!0===u.fit&&o.fit(u.padding)},g=function(U){return!(l.stopped||U>=u.numIter||(ai(f,u),f.temperature=f.temperature*u.coolingFactor,f.temperature<u.minTemp))},_=function(){if(!0===u.animate||!1===u.animate)p(),l.one("layoutstop",u.stop),l.emit({type:"layoutstop",layout:l});else{var U=u.eles.nodes(),W=Vd(f,u,U);U.layoutPositions(l,u,W)}},E=0,x=!0;if(!0===u.animate)!function F(){for(var U=0;x&&U<u.refresh;)x=g(E),E++,U++;x?(Ti()-h>=u.animationThreshold&&p(),mu(F)):(Kp(f,u),_())}();else{for(;x;)x=g(E),E++;Kp(f,u),_()}return this},Lf.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Lf.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var bm=function(o,l,f){for(var h=f.eles.edges(),p=f.eles.nodes(),g=Mi(f.boundingBox?f.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()}),_={isCompound:o.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:p.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:h.size(),temperature:f.initialTemp,clientWidth:g.w,clientHeight:g.h,boundingBox:g},E=f.eles.components(),x={},M=0;M<E.length;M++)for(var F=E[M],U=0;U<F.length;U++)x[F[U].id()]=M;for(M=0;M<_.nodeSize;M++){var Z=(j=p[M]).layoutDimensions(f);(J={}).isLocked=j.locked(),J.id=j.data("id"),J.parentId=j.data("parent"),J.cmptId=x[j.id()],J.children=[],J.positionX=j.position("x"),J.positionY=j.position("y"),J.offsetX=0,J.offsetY=0,J.height=Z.w,J.width=Z.h,J.maxX=J.positionX+J.width/2,J.minX=J.positionX-J.width/2,J.maxY=J.positionY+J.height/2,J.minY=J.positionY-J.height/2,J.padLeft=parseFloat(j.style("padding")),J.padRight=parseFloat(j.style("padding")),J.padTop=parseFloat(j.style("padding")),J.padBottom=parseFloat(j.style("padding")),J.nodeRepulsion=at(f.nodeRepulsion)?f.nodeRepulsion(j):f.nodeRepulsion,_.layoutNodes.push(J),_.idToIndex[J.id]=M}var re=[],fe=0,he=-1,ye=[];for(M=0;M<_.nodeSize;M++){var j,Me=(j=_.layoutNodes[M]).parentId;null!=Me?_.layoutNodes[_.idToIndex[Me]].children.push(j.id):(re[++he]=j.id,ye.push(j.id))}for(_.graphSet.push(ye);fe<=he;){var Ae=re[fe++],Te=_.layoutNodes[_.idToIndex[Ae]].children;if(Te.length>0)for(_.graphSet.push(Te),M=0;M<Te.length;M++)re[++he]=Te[M]}for(M=0;M<_.graphSet.length;M++){var _e=_.graphSet[M];for(U=0;U<_e.length;U++)_.indexToGraph[_.idToIndex[_e[U]]]=M}for(M=0;M<_.edgeSize;M++){var Pe=h[M],xe={};xe.id=Pe.data("id"),xe.sourceId=Pe.data("source"),xe.targetId=Pe.data("target");var He=at(f.idealEdgeLength)?f.idealEdgeLength(Pe):f.idealEdgeLength,Ne=at(f.edgeElasticity)?f.edgeElasticity(Pe):f.edgeElasticity,Je=_.idToIndex[xe.sourceId],Ue=_.idToIndex[xe.targetId];if(_.indexToGraph[Je]!=_.indexToGraph[Ue]){for(var dt=Bd(xe.sourceId,xe.targetId,_),yt=_.graphSet[dt],st=0,J=_.layoutNodes[Je];-1===yt.indexOf(J.id);)J=_.layoutNodes[_.idToIndex[J.parentId]],st++;for(J=_.layoutNodes[Ue];-1===yt.indexOf(J.id);)J=_.layoutNodes[_.idToIndex[J.parentId]],st++;He*=st*f.nestingFactor}xe.idealLength=He,xe.elasticity=Ne,_.layoutEdges.push(xe)}return _},Bd=function(o,l,f){var h=kh(o,l,0,f);return 2>h.count?0:h.graph},kh=function u(o,l,f,h){var p=h.graphSet[f];if(-1<p.indexOf(o)&&-1<p.indexOf(l))return{count:2,graph:f};for(var g=0,_=0;_<p.length;_++){var M=h.layoutNodes[h.idToIndex[p[_]]].children;if(0!==M.length){var U=u(o,l,h.indexToGraph[h.idToIndex[M[0]]],h);if(0!==U.count){if(1!==U.count)return U;if(2==++g)break}}}return{count:g,graph:f}},_m=function(o,l){for(var f=o.clientWidth,h=o.clientHeight,p=0;p<o.nodeSize;p++){var g=o.layoutNodes[p];0===g.children.length&&!g.isLocked&&(g.positionX=Math.random()*f,g.positionY=Math.random()*h)}},Vd=function(o,l,f){var h=o.boundingBox,p={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return l.boundingBox&&(f.forEach(function(g){var _=o.layoutNodes[o.idToIndex[g.data("id")]];p.x1=Math.min(p.x1,_.positionX),p.x2=Math.max(p.x2,_.positionX),p.y1=Math.min(p.y1,_.positionY),p.y2=Math.max(p.y2,_.positionY)}),p.w=p.x2-p.x1,p.h=p.y2-p.y1),function(g,_){var E=o.layoutNodes[o.idToIndex[g.data("id")]];return l.boundingBox?{x:h.x1+(E.positionX-p.x1)/p.w*h.w,y:h.y1+(E.positionY-p.y1)/p.h*h.h}:{x:E.positionX,y:E.positionY}}},Ph=function(o,l,f){var h=f.layout,p=f.eles.nodes(),g=Vd(o,f,p);p.positions(g),!0!==o.ready&&(o.ready=!0,h.one("layoutready",f.ready),h.emit({type:"layoutready",layout:this}))},ai=function(o,l,f){_y(o,l),Lh(o),zd(o,l),Ff(o),Fh(o)},_y=function(o,l){for(var f=0;f<o.graphSet.length;f++)for(var h=o.graphSet[f],p=h.length,g=0;g<p;g++)for(var _=o.layoutNodes[o.idToIndex[h[g]]],E=g+1;E<p;E++)Ac(_,o.layoutNodes[o.idToIndex[h[E]]],o,l)},Hd=function(o){return-o+2*o*Math.random()},Ac=function(o,l,f,h){if(o.cmptId===l.cmptId||f.isCompound){var _=l.positionX-o.positionX,E=l.positionY-o.positionY;0===_&&0===E&&(_=Hd(1),E=Hd(1));var M=Vs(o,l,_,E);if(M>0)var W=(F=h.nodeOverlap*M)*_/(U=Math.sqrt(_*_+E*E)),j=F*E/U;else{var F,Z=da(o,_,E),J=da(l,-1*_,-1*E),re=J.x-Z.x,fe=J.y-Z.y,he=re*re+fe*fe,U=Math.sqrt(he);W=(F=(o.nodeRepulsion+l.nodeRepulsion)/he)*re/U,j=F*fe/U}o.isLocked||(o.offsetX-=W,o.offsetY-=j),l.isLocked||(l.offsetX+=W,l.offsetY+=j)}},Vs=function(o,l,f,h){if(f>0)var p=o.maxX-l.minX;else p=l.maxX-o.minX;if(h>0)var g=o.maxY-l.minY;else g=l.maxY-o.minY;return p>=0&&g>=0?Math.sqrt(p*p+g*g):0},da=function(o,l,f){var h=o.positionX,p=o.positionY,g=o.height||1,_=o.width||1,E=f/l,x=g/_,M={};return 0===l&&0<f||0===l&&0>f?(M.x=h,M.y=p+g/2,M):0<l&&-1*x<=E&&E<=x?(M.x=h+_/2,M.y=p+_*f/2/l,M):0>l&&-1*x<=E&&E<=x?(M.x=h-_/2,M.y=p-_*f/2/l,M):0<f&&(E<=-1*x||E>=x)?(M.x=h+g*l/2/f,M.y=p+g/2,M):(0>f&&(E<=-1*x||E>=x)&&(M.x=h-g*l/2/f,M.y=p-g/2),M)},Lh=function(o,l){for(var f=0;f<o.edgeSize;f++){var h=o.layoutEdges[f],g=o.layoutNodes[o.idToIndex[h.sourceId]],E=o.layoutNodes[o.idToIndex[h.targetId]],x=E.positionX-g.positionX,M=E.positionY-g.positionY;if(0!==x||0!==M){var F=da(g,x,M),U=da(E,-1*x,-1*M),W=U.x-F.x,j=U.y-F.y,Z=Math.sqrt(W*W+j*j),J=Math.pow(h.idealLength-Z,2)/h.elasticity;if(0!==Z)var re=J*W/Z,fe=J*j/Z;else re=0,fe=0;g.isLocked||(g.offsetX+=re,g.offsetY+=fe),E.isLocked||(E.offsetX-=re,E.offsetY-=fe)}}},zd=function(o,l){if(0!==l.gravity)for(var h=0;h<o.graphSet.length;h++){var p=o.graphSet[h],g=p.length;if(0===h)var _=o.clientHeight/2,E=o.clientWidth/2;else{var M=o.layoutNodes[o.idToIndex[o.layoutNodes[o.idToIndex[p[0]]].parentId]];_=M.positionX,E=M.positionY}for(var F=0;F<g;F++){var U=o.layoutNodes[o.idToIndex[p[F]]];if(!U.isLocked){var W=_-U.positionX,j=E-U.positionY,Z=Math.sqrt(W*W+j*j);if(Z>1){var re=l.gravity*j/Z;U.offsetX+=l.gravity*W/Z,U.offsetY+=re}}}}},Ff=function(o,l){var f=[],h=0,p=-1;for(f.push.apply(f,o.graphSet[0]),p+=o.graphSet[0].length;h<=p;){var g=f[h++],E=o.layoutNodes[o.idToIndex[g]],x=E.children;if(0<x.length&&!E.isLocked){for(var M=E.offsetX,F=E.offsetY,U=0;U<x.length;U++){var W=o.layoutNodes[o.idToIndex[x[U]]];W.offsetX+=M,W.offsetY+=F,f[++p]=x[U]}E.offsetX=0,E.offsetY=0}}},Fh=function(o,l){for(var f=0;f<o.nodeSize;f++)0<(h=o.layoutNodes[f]).children.length&&(h.maxX=void 0,h.minX=void 0,h.maxY=void 0,h.minY=void 0);for(f=0;f<o.nodeSize;f++)if(!(0<(h=o.layoutNodes[f]).children.length||h.isLocked)){var p=Ud(h.offsetX,h.offsetY,o.temperature);h.positionX+=p.x,h.positionY+=p.y,h.offsetX=0,h.offsetY=0,h.minX=h.positionX-h.width,h.maxX=h.positionX+h.width,h.minY=h.positionY-h.height,h.maxY=h.positionY+h.height,Bf(h,o)}for(f=0;f<o.nodeSize;f++){var h;0<(h=o.layoutNodes[f]).children.length&&!h.isLocked&&(h.positionX=(h.maxX+h.minX)/2,h.positionY=(h.maxY+h.minY)/2,h.width=h.maxX-h.minX,h.height=h.maxY-h.minY)}},Ud=function(o,l,f){var h=Math.sqrt(o*o+l*l);if(h>f)var p={x:f*o/h,y:f*l/h};else p={x:o,y:l};return p},Bf=function u(o,l){var f=o.parentId;if(null!=f){var h=l.layoutNodes[l.idToIndex[f]],p=!1;if((null==h.maxX||o.maxX+h.padRight>h.maxX)&&(h.maxX=o.maxX+h.padRight,p=!0),(null==h.minX||o.minX-h.padLeft<h.minX)&&(h.minX=o.minX-h.padLeft,p=!0),(null==h.maxY||o.maxY+h.padBottom>h.maxY)&&(h.maxY=o.maxY+h.padBottom,p=!0),(null==h.minY||o.minY-h.padTop<h.minY)&&(h.minY=o.minY-h.padTop,p=!0),p)return u(h,l)}},Kp=function(o,l){for(var f=o.layoutNodes,h=[],p=0;p<f.length;p++){var g=f[p],_=g.cmptId;(h[_]=h[_]||[]).push(g)}var x=0;for(p=0;p<h.length;p++)if(M=h[p]){M.x1=1/0,M.x2=-1/0,M.y1=1/0,M.y2=-1/0;for(var F=0;F<M.length;F++){var U=M[F];M.x1=Math.min(M.x1,U.positionX-U.width/2),M.x2=Math.max(M.x2,U.positionX+U.width/2),M.y1=Math.min(M.y1,U.positionY-U.height/2),M.y2=Math.max(M.y2,U.positionY+U.height/2)}M.w=M.x2-M.x1,M.h=M.y2-M.y1,x+=M.w*M.h}h.sort(function(fe,he){return he.w*he.h-fe.w*fe.h});var W=0,j=0,Z=0,J=0,re=Math.sqrt(x)*o.clientWidth/o.clientHeight;for(p=0;p<h.length;p++){var M;if(M=h[p]){for(F=0;F<M.length;F++)(U=M[F]).isLocked||(U.positionX+=W-M.x1,U.positionY+=j-M.y1);W+=M.w+l.componentSpacing,Z+=M.w+l.componentSpacing,J=Math.max(J,M.h),Z>re&&(j+=J+l.componentSpacing,W=0,Z=0,J=0)}}},Vf={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(o){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Hf(u){this.options=Nn({},Vf,u)}Hf.prototype.run=function(){var u=this.options,o=u,l=u.cy,f=o.eles,h=f.nodes().not(":parent");o.sort&&(h=h.sort(o.sort));var p=Mi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(0===p.h||0===p.w)f.nodes().layoutPositions(this,o,function(At){return{x:p.x1,y:p.y1}});else{var g=h.size(),_=Math.sqrt(g*p.h/p.w),E=Math.round(_),x=Math.round(p.w/p.h*_),M=function(Ot){if(null==Ot)return Math.min(E,x);Math.min(E,x)==E?E=Ot:x=Ot},F=function(Ot){if(null==Ot)return Math.max(E,x);Math.max(E,x)==E?E=Ot:x=Ot},U=o.rows,W=null!=o.cols?o.cols:o.columns;if(null!=U&&null!=W)E=U,x=W;else if(null!=U&&null==W)E=U,x=Math.ceil(g/E);else if(null==U&&null!=W)x=W,E=Math.ceil(g/x);else if(x*E>g){var j=M(),Z=F();(j-1)*Z>=g?M(j-1):(Z-1)*j>=g&&F(Z-1)}else for(;x*E<g;){var J=M(),re=F();(re+1)*J>=g?F(re+1):M(J+1)}var fe=p.w/x,he=p.h/E;if(o.condense&&(fe=0,he=0),o.avoidOverlap)for(var ye=0;ye<h.length;ye++){var Me=h[ye],Ae=Me._private.position;(null==Ae.x||null==Ae.y)&&(Ae.x=0,Ae.y=0);var be=Me.layoutDimensions(o),Te=o.avoidOverlapPadding,ke=be.h+Te;fe=Math.max(fe,be.w+Te),he=Math.max(he,ke)}for(var Pe={},xe=function(Ot,Dt){return!!Pe["c-"+Ot+"-"+Dt]},He=function(Ot,Dt){Pe["c-"+Ot+"-"+Dt]=!0},Ne=0,Je=0,Ue=function(){++Je>=x&&(Je=0,Ne++)},Ge={},ot=0;ot<h.length;ot++){var dt=h[ot],yt=o.position(dt);if(yt&&(void 0!==yt.row||void 0!==yt.col)){var st={row:yt.row,col:yt.col};if(void 0===st.col)for(st.col=0;xe(st.row,st.col);)st.col++;else if(void 0===st.row)for(st.row=0;xe(st.row,st.col);)st.row++;Ge[dt.id()]=st,He(st.row,st.col)}}h.layoutPositions(this,o,function(Ot,Dt){var wt,nt;if(Ot.locked()||Ot.isParent())return!1;var Mt=Ge[Ot.id()];if(Mt)wt=Mt.col*fe+fe/2+p.x1,nt=Mt.row*he+he/2+p.y1;else{for(;xe(Ne,Je);)Ue();wt=Je*fe+fe/2+p.x1,nt=Ne*he+he/2+p.y1,He(Ne,Je),Ue()}return{x:wt,y:nt}})}return this};var Kr={ready:function(){},stop:function(){}};function Gd(u){this.options=Nn({},Kr,u)}Gd.prototype.run=function(){var u=this.options,o=u.eles,l=this;return l.emit("layoutstart"),o.nodes().positions(function(){return{x:0,y:0}}),l.one("layoutready",u.ready),l.emit("layoutready"),l.one("layoutstop",u.stop),l.emit("layoutstop"),this},Gd.prototype.stop=function(){return this};var wm={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function il(u){this.options=Nn({},wm,u)}il.prototype.run=function(){var u=this.options,l=u.eles.nodes(),f=at(u.positions);return l.layoutPositions(this,u,function(p,g){var _=function h(p){return null==u.positions?function(o){return{x:o.x,y:o.y}}(p.position()):f?u.positions(p):u.positions[p._private.data.id]??null}(p);return!p.locked()&&null!=_&&_}),this};var Pu={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function jd(u){this.options=Nn({},Pu,u)}jd.prototype.run=function(){var u=this.options,o=u.cy,l=u.eles,f=Mi(u.boundingBox?u.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});return l.nodes().layoutPositions(this,u,function(g,_){return{x:f.x1+Math.round(Math.random()*f.w),y:f.y1+Math.round(Math.random()*f.h)}}),this};var qp=[{name:"breadthfirst",impl:Ru},{name:"circle",impl:Yp},{name:"concentric",impl:Fd},{name:"cose",impl:Lf},{name:"grid",impl:Hf},{name:"null",impl:Gd},{name:"preset",impl:il},{name:"random",impl:jd}];function Ii(u){this.options=u,this.notifications=0}var Lu=function(){},Zp=function(){throw new Error("A headless instance can not render images")};Ii.prototype={recalculateRenderedStyle:Lu,notify:function(){this.notifications++},init:Lu,isHeadless:function(){return!0},png:Zp,jpg:Zp};var Ci={arrowShapeWidth:.3,registerArrowShapes:function(){var u=this.arrowShapes={},o=this,l=function(x,M,F,U,W,j,Z){return W.x-F/2-Z<=x&&x<=W.x+F/2+Z&&W.y-F/2-Z<=M&&M<=W.y+F/2+Z},f=function(x,M,F,U,W){var j=x*Math.cos(U)-M*Math.sin(U),Z=x*Math.sin(U)+M*Math.cos(U);return{x:j*F+W.x,y:Z*F+W.y}},h=function(x,M,F,U){for(var W=[],j=0;j<x.length;j+=2)W.push(f(x[j],x[j+1],M,F,U));return W},p=function(x){for(var M=[],F=0;F<x.length;F++){var U=x[F];M.push(U.x,U.y)}return M},g=function(x){return x.pstyle("width").pfValue*x.pstyle("arrow-scale").pfValue*2},_=function(x,M){Be(M)&&(M=u[M]),u[x]=Nn({name:x,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(U,W,j,Z,J,re){var fe=p(h(this.points,j+2*re,Z,J));return Ko(U,W,fe)},roughCollide:l,draw:function(U,W,j,Z){var J=h(this.points,W,j,Z);o.arrowShapeImpl("polygon")(U,J)},spacing:function(U){return 0},gap:g},M)};_("none",{collide:Is,roughCollide:Is,draw:rd,spacing:rc,gap:rc}),_("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),_("arrow","triangle"),_("triangle-backcurve",{points:u.triangle.points,controlPoint:[0,-.15],roughCollide:l,draw:function(x,M,F,U,W){var j=h(this.points,M,F,U),Z=this.controlPoint,J=f(Z[0],Z[1],M,F,U);o.arrowShapeImpl(this.name)(x,j,J)},gap:function(x){return.8*g(x)}}),_("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(x,M,F,U,W,j,Z){var J=p(h(this.points,F+2*Z,U,W)),re=p(h(this.pointsTee,F+2*Z,U,W));return Ko(x,M,J)||Ko(x,M,re)},draw:function(x,M,F,U,W){var j=h(this.points,M,F,U),Z=h(this.pointsTee,M,F,U);o.arrowShapeImpl(this.name)(x,j,Z)}}),_("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(x,M,F,U,W,j,Z){var J=W,re=Math.pow(J.x-x,2)+Math.pow(J.y-M,2)<=Math.pow((F+2*Z)*this.radius,2),fe=p(h(this.points,F+2*Z,U,W));return Ko(x,M,fe)||re},draw:function(x,M,F,U,W){var j=h(this.pointsTr,M,F,U);o.arrowShapeImpl(this.name)(x,j,U.x,U.y,this.radius*M)},spacing:function(x){return o.getArrowWidth(x.pstyle("width").pfValue,x.pstyle("arrow-scale").value)*this.radius}}),_("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(x,M){var F=this.baseCrossLinePts.slice(),U=M/x;return F[3]=F[3]-U,F[5]=F[5]-U,F},collide:function(x,M,F,U,W,j,Z){var J=p(h(this.points,F+2*Z,U,W)),re=p(h(this.crossLinePts(F,j),F+2*Z,U,W));return Ko(x,M,J)||Ko(x,M,re)},draw:function(x,M,F,U,W){var j=h(this.points,M,F,U),Z=h(this.crossLinePts(M,W),M,F,U);o.arrowShapeImpl(this.name)(x,j,Z)}}),_("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(x){return.525*g(x)}}),_("circle",{radius:.15,collide:function(x,M,F,U,W,j,Z){var J=W;return Math.pow(J.x-x,2)+Math.pow(J.y-M,2)<=Math.pow((F+2*Z)*this.radius,2)},draw:function(x,M,F,U,W){o.arrowShapeImpl(this.name)(x,U.x,U.y,this.radius*M)},spacing:function(x){return o.getArrowWidth(x.pstyle("width").pfValue,x.pstyle("arrow-scale").value)*this.radius}}),_("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(x){return 1},gap:function(x){return 1}}),_("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),_("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(x){return x.pstyle("width").pfValue*x.pstyle("arrow-scale").value}}),_("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(x){return.95*x.pstyle("width").pfValue*x.pstyle("arrow-scale").value}})}},bs={projectIntoViewport:function(u,o){var l=this.cy,f=this.findContainerClientCoords(),h=f[0],p=f[1],g=f[4],_=l.pan(),E=l.zoom();return[((u-h)/g-_.x)/E,((o-p)/g-_.y)/E]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var u=this.container,o=u.getBoundingClientRect(),l=oe.getComputedStyle(u),f=function(re){return parseFloat(l.getPropertyValue(re))},h_left=f("padding-left"),h_right=f("padding-right"),h_top=f("padding-top"),h_bottom=f("padding-bottom"),p_left=f("border-left-width"),p_right=f("border-right-width"),p_top=f("border-top-width"),g=(f("border-bottom-width"),u.clientWidth);return this.containerBB=[o.left+h_left+p_left,o.top+h_top+p_top,g-(h_left+h_right),u.clientHeight-(h_top+h_bottom),o.width/(g+(p_left+p_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(u,o,l,f){return this.findNearestElements(u,o,l,f)[0]},findNearestElements:function(u,o,l,f){var j,Z,h=this,p=this,g=p.getCachedZSortedEles(),_=[],E=p.cy.zoom(),x=p.cy.hasCompoundNodes(),M=(f?24:8)/E,F=(f?8:2)/E,U=(f?8:2)/E,W=1/0;function J(be,Te){if(be.isNode()){if(Z)return;Z=be,_.push(be)}if(be.isEdge()&&(null==Te||Te<W))if(j){if(j.pstyle("z-compound-depth").value===be.pstyle("z-compound-depth").value&&j.pstyle("z-compound-depth").value===be.pstyle("z-compound-depth").value)for(var _e=0;_e<_.length;_e++)if(_[_e].isEdge()){_[_e]=be,j=be,W=Te??W;break}}else _.push(be),j=be,W=Te??W}function re(be){var Te=be.outerWidth()+2*F,_e=be.outerHeight()+2*F,ke=Te/2,Pe=_e/2,xe=be.position();if(xe.x-ke<=u&&u<=xe.x+ke&&xe.y-Pe<=o&&o<=xe.y+Pe&&p.nodeShapes[h.getNodeShape(be)].checkPoint(u,o,0,Te,_e,xe.x,xe.y))return J(be,0),!0}function fe(be){var Je,Te=be._private,_e=Te.rscratch,ke=be.pstyle("width").pfValue,Pe=be.pstyle("arrow-scale").value,xe=ke/2+M,He=xe*xe,Ne=2*xe,ot=Te.source,dt=Te.target;if("segments"===_e.edgeType||"straight"===_e.edgeType||"haystack"===_e.edgeType){for(var Ue=_e.allpts,Ge=0;Ge+3<Ue.length;Ge+=2)if(fl(u,o,Ue[Ge],Ue[Ge+1],Ue[Ge+2],Ue[Ge+3],Ne)&&He>(Je=hl(u,o,Ue[Ge],Ue[Ge+1],Ue[Ge+2],Ue[Ge+3])))return J(be,Je),!0}else if("bezier"===_e.edgeType||"multibezier"===_e.edgeType||"self"===_e.edgeType||"compound"===_e.edgeType)for(Ue=_e.allpts,Ge=0;Ge+5<_e.allpts.length;Ge+=4)if(Jr(u,o,Ue[Ge],Ue[Ge+1],Ue[Ge+2],Ue[Ge+3],Ue[Ge+4],Ue[Ge+5],Ne)&&He>(Je=yu(u,o,Ue[Ge],Ue[Ge+1],Ue[Ge+2],Ue[Ge+3],Ue[Ge+4],Ue[Ge+5])))return J(be,Je),!0;ot=ot||Te.source,dt=dt||Te.target;var yt=h.getArrowWidth(ke,Pe),st=[{name:"source",x:_e.arrowStartX,y:_e.arrowStartY,angle:_e.srcArrowAngle},{name:"target",x:_e.arrowEndX,y:_e.arrowEndY,angle:_e.tgtArrowAngle},{name:"mid-source",x:_e.midX,y:_e.midY,angle:_e.midsrcArrowAngle},{name:"mid-target",x:_e.midX,y:_e.midY,angle:_e.midtgtArrowAngle}];for(Ge=0;Ge<st.length;Ge++){var vt=st[Ge],At=p.arrowShapes[be.pstyle(vt.name+"-arrow-shape").value],Ot=be.pstyle("width").pfValue;if(At.roughCollide(u,o,yt,vt.angle,{x:vt.x,y:vt.y},Ot,M)&&At.collide(u,o,yt,vt.angle,{x:vt.x,y:vt.y},Ot,M))return J(be),!0}x&&_.length>0&&(re(ot),re(dt))}function he(be,Te,_e){return Qi(be,Te,_e)}function ye(be,Te){var Pe,_e=be._private,ke=U;Pe=Te?Te+"-":"",be.boundingBox();var xe=_e.labelBounds[Te||"main"],He=be.pstyle(Pe+"label").value;if("yes"===be.pstyle("text-events").strValue&&He){var Je=he(_e.rscratch,"labelX",Te),Ue=he(_e.rscratch,"labelY",Te),Ge=he(_e.rscratch,"labelAngle",Te),ot=be.pstyle(Pe+"text-margin-x").pfValue,dt=be.pstyle(Pe+"text-margin-y").pfValue,yt=xe.x1-ke-ot,st=xe.x2+ke-ot,vt=xe.y1-ke-dt,At=xe.y2+ke-dt;if(Ge){var Ot=Math.cos(Ge),Dt=Math.sin(Ge),wt=function(ar,sn){return{x:(ar-=Je)*Ot-(sn-=Ue)*Dt+Je,y:ar*Dt+sn*Ot+Ue}},nt=wt(yt,vt),Mt=wt(yt,At),Nt=wt(st,vt),Wt=wt(st,At);if(Ko(u,o,[nt.x+ot,nt.y+dt,Nt.x+ot,Nt.y+dt,Wt.x+ot,Wt.y+dt,Mt.x+ot,Mt.y+dt]))return J(be),!0}else if(Ya(xe,u,o))return J(be),!0}}l&&(g=g.interactive);for(var Me=g.length-1;Me>=0;Me--){var Ae=g[Me];Ae.isNode()?re(Ae)||ye(Ae):fe(Ae)||ye(Ae)||ye(Ae,"source")||ye(Ae,"target")}return _},getAllInBox:function(u,o,l,f){for(var h=this.getCachedZSortedEles().interactive,p=[],g=Math.min(u,l),_=Math.max(u,l),E=Math.min(o,f),x=Math.max(o,f),M=Mi({x1:u=g,y1:o=E,x2:l=_,y2:f=x}),F=0;F<h.length;F++){var U=h[F];if(U.isNode()){var W=U,j=W.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});tr(M,j)&&!ad(j,M)&&p.push(W)}else{var Z=U,J=Z._private,re=J.rscratch;if(null!=re.startX&&null!=re.startY&&!Ya(M,re.startX,re.startY)||null!=re.endX&&null!=re.endY&&!Ya(M,re.endX,re.endY))continue;if("bezier"===re.edgeType||"multibezier"===re.edgeType||"self"===re.edgeType||"compound"===re.edgeType||"segments"===re.edgeType||"haystack"===re.edgeType){for(var fe=J.rstyle.bezierPts||J.rstyle.linePts||J.rstyle.haystackPts,he=!0,ye=0;ye<fe.length;ye++)if(!hf(M,fe[ye])){he=!1;break}he&&p.push(Z)}else("haystack"===re.edgeType||"straight"===re.edgeType)&&p.push(Z)}}return p}},a={calculateArrowAngles:function(u){var E,x,M,F,U,W,o=u._private.rscratch,l="haystack"===o.edgeType,f="bezier"===o.edgeType,h="multibezier"===o.edgeType,p="segments"===o.edgeType,g="compound"===o.edgeType,_="self"===o.edgeType;l?(M=o.haystackPts[0],F=o.haystackPts[1],U=o.haystackPts[2],W=o.haystackPts[3]):(M=o.arrowStartX,F=o.arrowStartY,U=o.arrowEndX,W=o.arrowEndY),re=o.midX,fe=o.midY,p?(E=M-o.segpts[0],x=F-o.segpts[1]):h||g||_||f?(E=M-di((j=o.allpts)[0],j[2],j[4],.1),x=F-di(j[1],j[3],j[5],.1)):(E=M-re,x=F-fe),o.srcArrowAngle=ci(E,x);var re=o.midX,fe=o.midY;if(l&&(re=(M+U)/2,fe=(F+W)/2),E=U-M,x=W-F,p)if((j=o.allpts).length/2%2==0)E=j[he=j.length/2]-j[ye=he-2],x=j[he+1]-j[ye+1];else{var he,ye,Me=2+(he=j.length/2-1);E=j[he]-j[ye=he-2],x=j[he+1]-j[ye+1]}else if(h||g||_){var be,Te,_e,ke,xe,Pe,He,j=o.allpts;o.ctrlpts.length/2%2==0?(be=di(j[Pe=j.length/2-1],j[xe=Pe+2],j[He=xe+2],0),Te=di(j[Pe+1],j[xe+1],j[He+1],0),_e=di(j[Pe],j[xe],j[He],1e-4),ke=di(j[Pe+1],j[xe+1],j[He+1],1e-4)):(be=di(j[Pe=(xe=j.length/2-1)-2],j[xe],j[He=xe+2],.4999),Te=di(j[Pe+1],j[xe+1],j[He+1],.4999),_e=di(j[Pe],j[xe],j[He],.5),ke=di(j[Pe+1],j[xe+1],j[He+1],.5)),E=_e-be,x=ke-Te}if(o.midtgtArrowAngle=ci(E,x),o.midDispX=E,o.midDispY=x,E*=-1,x*=-1,p&&(j=o.allpts).length/2%2!=0&&(E=-(j[Me=2+(he=j.length/2-1)]-j[he]),x=-(j[Me+1]-j[he+1])),o.midsrcArrowAngle=ci(E,x),p)E=U-o.segpts[o.segpts.length-2],x=W-o.segpts[o.segpts.length-1];else if(h||g||_||f){var Ne=(j=o.allpts).length;E=U-di(j[Ne-6],j[Ne-4],j[Ne-2],.9),x=W-di(j[Ne-5],j[Ne-3],j[Ne-1],.9)}else E=U-re,x=W-fe;o.tgtArrowAngle=ci(E,x)}};a.getArrowWidth=a.getArrowHeight=function(u,o){var l=this.arrowWidthCache=this.arrowWidthCache||{},f=l[u+", "+o];return f||(f=Math.max(Math.pow(13.37*u,.9),29)*o,l[u+", "+o]=f,f)};var c={};function y(u){var o=[];if(null!=u){for(var l=0;l<u.length;l+=2)o.push({x:u[l],y:u[l+1]});return o}}c.findHaystackPoints=function(u){for(var o=0;o<u.length;o++){var l=u[o],f=l._private,h=f.rscratch;if(!h.haystack){var p=2*Math.random()*Math.PI;h.source={x:Math.cos(p),y:Math.sin(p)},p=2*Math.random()*Math.PI,h.target={x:Math.cos(p),y:Math.sin(p)}}var g=f.source,_=f.target,E=g.position(),x=_.position(),M=g.width(),F=_.width(),U=g.height(),W=_.height(),Z=l.pstyle("haystack-radius").value/2;h.haystackPts=h.allpts=[h.source.x*M*Z+E.x,h.source.y*U*Z+E.y,h.target.x*F*Z+x.x,h.target.y*W*Z+x.y],h.midX=(h.allpts[0]+h.allpts[2])/2,h.midY=(h.allpts[1]+h.allpts[3])/2,h.edgeType="haystack",h.haystack=!0,this.storeEdgeProjections(l),this.calculateArrowAngles(l),this.recalculateEdgeLabelProjections(l),this.calculateLabelAngles(l)}},c.findSegmentsPoints=function(u,o){var l=u._private.rscratch,f=o.posPts,h=o.intersectionPts,p=o.vectorNormInverse,g=u.pstyle("edge-distances").value,_=u.pstyle("segment-weights"),E=u.pstyle("segment-distances"),x=Math.min(_.pfValue.length,E.pfValue.length);l.edgeType="segments",l.segpts=[];for(var M=0;M<x;M++){var F=_.pfValue[M],U=E.pfValue[M],W=1-F,Z="node-position"===g?f:h,J={x:Z.x1*W+Z.x2*F,y:Z.y1*W+Z.y2*F};l.segpts.push(J.x+p.x*U,J.y+p.y*U)}},c.findLoopPoints=function(u,o,l,f){var h=u._private.rscratch,p=o.dirCounts,g=o.srcPos,_=u.pstyle("control-point-distances"),E=_?_.pfValue[0]:void 0,x=u.pstyle("loop-direction").pfValue,M=u.pstyle("loop-sweep").pfValue,F=u.pstyle("control-point-step-size").pfValue;h.edgeType="self";var U=l,W=F;f&&(U=0,W=E);var j=x-Math.PI/2,Z=j-M/2,J=j+M/2,re=x+"_"+M;U=void 0===p[re]?p[re]=0:++p[re],h.ctrlpts=[g.x+1.4*Math.cos(Z)*W*(U/3+1),g.y+1.4*Math.sin(Z)*W*(U/3+1),g.x+1.4*Math.cos(J)*W*(U/3+1),g.y+1.4*Math.sin(J)*W*(U/3+1)]},c.findCompoundLoopPoints=function(u,o,l,f){var h=u._private.rscratch;h.edgeType="compound";var p=o.srcPos,g=o.tgtPos,_=o.srcW,E=o.srcH,x=o.tgtW,M=o.tgtH,F=u.pstyle("control-point-step-size").pfValue,U=u.pstyle("control-point-distances"),j=l,Z=F;f&&(j=0,Z=U?U.pfValue[0]:void 0);var re={x:p.x-_/2,y:p.y-E/2},fe={x:g.x-x/2,y:g.y-M/2},he={x:Math.min(re.x,fe.x),y:Math.min(re.y,fe.y)},Me=Math.max(.5,Math.log(.01*_)),Ae=Math.max(.5,Math.log(.01*x));h.ctrlpts=[he.x,he.y-(1+Math.pow(50,1.12)/100)*Z*(j/3+1)*Me,he.x-(1+Math.pow(50,1.12)/100)*Z*(j/3+1)*Ae,he.y]},c.findStraightEdgePoints=function(u){u._private.rscratch.edgeType="straight"},c.findBezierPoints=function(u,o,l,f,h){var p=u._private.rscratch,g=o.vectorNormInverse,_=o.posPts,E=o.intersectionPts,x=u.pstyle("edge-distances").value,M=u.pstyle("control-point-step-size").pfValue,F=u.pstyle("control-point-distances"),U=u.pstyle("control-point-weights"),W=F&&U?Math.min(F.value.length,U.value.length):1,j=F?F.pfValue[0]:void 0,Z=U.value[0],J=f;p.edgeType=J?"multibezier":"bezier",p.ctrlpts=[];for(var re=0;re<W;re++){var he,fe=(.5-o.eles.length/2+l)*M*(h?-1:1),ye=mo(fe);J&&(j=F?F.pfValue[re]:M,Z=U.value[re]);var Me=void 0!==(he=f?j:void 0!==j?ye*j:void 0)?he:fe,Ae=1-Z,Te="node-position"===x?_:E,_e={x:Te.x1*Ae+Te.x2*Z,y:Te.y1*Ae+Te.y2*Z};p.ctrlpts.push(_e.x+g.x*Me,_e.y+g.y*Me)}},c.findTaxiPoints=function(u,o){var l=u._private.rscratch;l.edgeType="segments";var f="vertical",h="horizontal",p="leftward",g="rightward",_="downward",E="upward",M=o.posPts,F=o.srcW,U=o.srcH,W=o.tgtW,j=o.tgtH,J="node-position"!==u.pstyle("edge-distances").value,re=u.pstyle("taxi-direction").value,fe=re,he=u.pstyle("taxi-turn"),ye="%"===he.units,Me=he.pfValue,Ae=Me<0,be=u.pstyle("taxi-turn-min-distance").pfValue,_e=J?(U+j)/2:0,ke=M.x2-M.x1,Pe=M.y2-M.y1,xe=function(Tn,Ur){return Tn>0?Math.max(Tn-Ur,0):Math.min(Tn+Ur,0)},He=xe(ke,J?(F+W)/2:0),Ne=xe(Pe,_e),Je=!1;"auto"===fe?re=Math.abs(He)>Math.abs(Ne)?h:f:fe===E||fe===_?(re=f,Je=!0):(fe===p||fe===g)&&(re=h,Je=!0);var st,Ue=re===f,Ge=Ue?Ne:He,ot=Ue?Pe:ke,dt=mo(ot),yt=!1;(!Je||!ye&&!Ae)&&(fe===_&&ot<0||fe===E&&ot>0||fe===p&&ot>0||fe===g&&ot<0)&&(Ge=(dt*=-1)*Math.abs(Ge),yt=!0);var Ot=function(Tn){return Math.abs(Tn)<be||Math.abs(Tn)>=Math.abs(Ge)},Dt=Ot(st=ye?(Me<0?1+Me:Me)*Ge:(Me<0?Ge:0)+Me*dt),wt=Ot(Math.abs(Ge)-Math.abs(st));if(!Dt&&!wt||yt)if(Ue){var Ce=M.y1+st+(J?U/2*dt:0);l.segpts=[M.x1,Ce,M.x2,Ce]}else{var xt=M.x1+st+(J?F/2*dt:0);l.segpts=[xt,M.y1,xt,M.y2]}else if(Ue){var Mt=Math.abs(ot)<=U/2,Nt=Math.abs(ke)<=W/2;if(Mt){var Wt=(M.x1+M.x2)/2;l.segpts=[Wt,M.y1,Wt,M.y2]}else if(Nt){var ar=(M.y1+M.y2)/2;l.segpts=[M.x1,ar,M.x2,ar]}else l.segpts=[M.x1,M.y2]}else{var Pn=Math.abs(ot)<=F/2,Sn=Math.abs(Pe)<=j/2;if(Pn){var un=(M.y1+M.y2)/2;l.segpts=[M.x1,un,M.x2,un]}else if(Sn){var hr=(M.x1+M.x2)/2;l.segpts=[hr,M.y1,hr,M.y2]}else l.segpts=[M.x2,M.y1]}},c.tryToCorrectInvalidPoints=function(u,o){var l=u._private.rscratch;if("bezier"===l.edgeType){var f=o.srcPos,h=o.tgtPos,p=o.srcW,g=o.srcH,_=o.tgtW,E=o.tgtH,x=o.srcShape,M=o.tgtShape,F=!qe(l.startX)||!qe(l.startY),U=!qe(l.arrowStartX)||!qe(l.arrowStartY),W=!qe(l.endX)||!qe(l.endY),j=!qe(l.arrowEndX)||!qe(l.arrowEndY),re=this.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,fe=zi({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.startX,y:l.startY}),he=fe<re,ye=zi({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.endX,y:l.endY}),Me=ye<re,Ae=!1;if(F||U||he){Ae=!0;var be={x:l.ctrlpts[0]-f.x,y:l.ctrlpts[1]-f.y},Te=Math.sqrt(be.x*be.x+be.y*be.y),_e={x:be.x/Te,y:be.y/Te},ke=Math.max(p,g),Pe={x:l.ctrlpts[0]+2*_e.x*ke,y:l.ctrlpts[1]+2*_e.y*ke},xe=x.intersectLine(f.x,f.y,p,g,Pe.x,Pe.y,0);he?(l.ctrlpts[0]=l.ctrlpts[0]+_e.x*(re-fe),l.ctrlpts[1]=l.ctrlpts[1]+_e.y*(re-fe)):(l.ctrlpts[0]=xe[0]+_e.x*re,l.ctrlpts[1]=xe[1]+_e.y*re)}if(W||j||Me){Ae=!0;var He={x:l.ctrlpts[0]-h.x,y:l.ctrlpts[1]-h.y},Ne=Math.sqrt(He.x*He.x+He.y*He.y),Je={x:He.x/Ne,y:He.y/Ne},Ue=Math.max(p,g),Ge={x:l.ctrlpts[0]+2*Je.x*Ue,y:l.ctrlpts[1]+2*Je.y*Ue},ot=M.intersectLine(h.x,h.y,_,E,Ge.x,Ge.y,0);Me?(l.ctrlpts[0]=l.ctrlpts[0]+Je.x*(re-ye),l.ctrlpts[1]=l.ctrlpts[1]+Je.y*(re-ye)):(l.ctrlpts[0]=ot[0]+Je.x*re,l.ctrlpts[1]=ot[1]+Je.y*re)}Ae&&this.findEndpoints(u)}},c.storeAllpts=function(u){var o=u._private.rscratch;if("multibezier"===o.edgeType||"bezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType){o.allpts=[],o.allpts.push(o.startX,o.startY);for(var l=0;l+1<o.ctrlpts.length;l+=2)o.allpts.push(o.ctrlpts[l],o.ctrlpts[l+1]),l+3<o.ctrlpts.length&&o.allpts.push((o.ctrlpts[l]+o.ctrlpts[l+2])/2,(o.ctrlpts[l+1]+o.ctrlpts[l+3])/2);var f;o.allpts.push(o.endX,o.endY),o.ctrlpts.length/2%2==0?(o.midX=o.allpts[f=o.allpts.length/2-1],o.midY=o.allpts[f+1]):(o.midX=di(o.allpts[f=o.allpts.length/2-3],o.allpts[f+2],o.allpts[f+4],.5),o.midY=di(o.allpts[f+1],o.allpts[f+3],o.allpts[f+5],.5))}else if("straight"===o.edgeType)o.allpts=[o.startX,o.startY,o.endX,o.endY],o.midX=(o.startX+o.endX+o.arrowStartX+o.arrowEndX)/4,o.midY=(o.startY+o.endY+o.arrowStartY+o.arrowEndY)/4;else if("segments"===o.edgeType)if(o.allpts=[],o.allpts.push(o.startX,o.startY),o.allpts.push.apply(o.allpts,o.segpts),o.allpts.push(o.endX,o.endY),o.segpts.length%4==0){var p=o.segpts.length/2,g=p-2;o.midX=(o.segpts[g]+o.segpts[p])/2,o.midY=(o.segpts[g+1]+o.segpts[p+1])/2}else{var _=o.segpts.length/2-1;o.midX=o.segpts[_],o.midY=o.segpts[_+1]}},c.checkForInvalidEdgeWarning=function(u){var o=u[0]._private.rscratch;o.nodesOverlap||qe(o.startX)&&qe(o.startY)&&qe(o.endX)&&qe(o.endY)?o.loggedErr=!1:o.loggedErr||(o.loggedErr=!0,Tr("Edge `"+u.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},c.findEdgeControlPoints=function(u){var o=this;if(u&&0!==u.length){for(var l=this,h=l.cy.hasCompoundNodes(),p={map:new Tt,get:function(be){var Te=this.map.get(be[0]);return null!=Te?Te.get(be[1]):null},set:function(be,Te){var _e=this.map.get(be[0]);null==_e&&(_e=new Tt,this.map.set(be[0],_e)),_e.set(be[1],Te)}},g=[],_=[],E=0;E<u.length;E++){var x=u[E],M=x._private,F=x.pstyle("curve-style").value;if(!x.removed()&&x.takesUpSpace()){if("haystack"===F){_.push(x);continue}var U="unbundled-bezier"===F||"segments"===F||"straight"===F||"straight-triangle"===F||"taxi"===F,W="unbundled-bezier"===F||"bezier"===F,Z=M.target,fe=[M.source.poolIndex(),Z.poolIndex()].sort(),he=p.get(fe);null==he&&(p.set(fe,he={eles:[]}),g.push(fe)),he.eles.push(x),U&&(he.hasUnbundled=!0),W&&(he.hasBezier=!0)}}for(var ye=function(be){var _e=p.get(g[be]),ke=void 0;if(!_e.hasUnbundled){var Pe=_e.eles[0].parallelEdges().filter(function(zt){return zt.isBundledBezier()});Ro(_e.eles),Pe.forEach(function(zt){return _e.eles.push(zt)}),_e.eles.sort(function(zt,Ce){return zt.poolIndex()-Ce.poolIndex()})}var xe=_e.eles[0],He=xe.source(),Ne=xe.target();if(He.poolIndex()>Ne.poolIndex()){var Je=He;He=Ne,Ne=Je}var Ue=_e.srcPos=He.position(),Ge=_e.tgtPos=Ne.position(),ot=_e.srcW=He.outerWidth(),dt=_e.srcH=He.outerHeight(),yt=_e.tgtW=Ne.outerWidth(),st=_e.tgtH=Ne.outerHeight(),vt=_e.srcShape=l.nodeShapes[o.getNodeShape(He)],At=_e.tgtShape=l.nodeShapes[o.getNodeShape(Ne)];_e.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Ot=0;Ot<_e.eles.length;Ot++){var Dt=_e.eles[Ot],wt=Dt[0]._private.rscratch,nt=Dt.pstyle("curve-style").value,Mt="unbundled-bezier"===nt||"segments"===nt||"taxi"===nt,Nt=!He.same(Dt.source());if(!_e.calculatedIntersection&&He!==Ne&&(_e.hasBezier||_e.hasUnbundled)){_e.calculatedIntersection=!0;var Wt=vt.intersectLine(Ue.x,Ue.y,ot,dt,Ge.x,Ge.y,0),rn=_e.srcIntn=Wt,Xn=At.intersectLine(Ge.x,Ge.y,yt,st,Ue.x,Ue.y,0),ar=_e.tgtIntn=Xn,sn=_e.intersectionPts={x1:Wt[0],x2:Xn[0],y1:Wt[1],y2:Xn[1]},Jt=_e.posPts={x1:Ue.x,x2:Ge.x,y1:Ue.y,y2:Ge.y},Pn=Xn[1]-Wt[1],Sn=Xn[0]-Wt[0],un=Math.sqrt(Sn*Sn+Pn*Pn),Rn=_e.vector={x:Sn,y:Pn},Or=_e.vectorNorm={x:Rn.x/un,y:Rn.y/un},hr={x:-Or.y,y:Or.x};_e.nodesOverlap=!qe(un)||At.checkPoint(Wt[0],Wt[1],0,yt,st,Ge.x,Ge.y)||vt.checkPoint(Xn[0],Xn[1],0,ot,dt,Ue.x,Ue.y),_e.vectorNormInverse=hr,ke={nodesOverlap:_e.nodesOverlap,dirCounts:_e.dirCounts,calculatedIntersection:!0,hasBezier:_e.hasBezier,hasUnbundled:_e.hasUnbundled,eles:_e.eles,srcPos:Ge,tgtPos:Ue,srcW:yt,srcH:st,tgtW:ot,tgtH:dt,srcIntn:ar,tgtIntn:rn,srcShape:At,tgtShape:vt,posPts:{x1:Jt.x2,y1:Jt.y2,x2:Jt.x1,y2:Jt.y1},intersectionPts:{x1:sn.x2,y1:sn.y2,x2:sn.x1,y2:sn.y1},vector:{x:-Rn.x,y:-Rn.y},vectorNorm:{x:-Or.x,y:-Or.y},vectorNormInverse:{x:-hr.x,y:-hr.y}}}var $n=Nt?ke:_e;wt.nodesOverlap=$n.nodesOverlap,wt.srcIntn=$n.srcIntn,wt.tgtIntn=$n.tgtIntn,h&&(He.isParent()||He.isChild()||Ne.isParent()||Ne.isChild())&&(He.parents().anySame(Ne)||Ne.parents().anySame(He)||He.same(Ne)&&He.isParent())?o.findCompoundLoopPoints(Dt,$n,Ot,Mt):He===Ne?o.findLoopPoints(Dt,$n,Ot,Mt):"segments"===nt?o.findSegmentsPoints(Dt,$n):"taxi"===nt?o.findTaxiPoints(Dt,$n):"straight"===nt||!Mt&&_e.eles.length%2==1&&Ot===Math.floor(_e.eles.length/2)?o.findStraightEdgePoints(Dt):o.findBezierPoints(Dt,$n,Ot,Mt,Nt),o.findEndpoints(Dt),o.tryToCorrectInvalidPoints(Dt,$n),o.checkForInvalidEdgeWarning(Dt),o.storeAllpts(Dt),o.storeEdgeProjections(Dt),o.calculateArrowAngles(Dt),o.recalculateEdgeLabelProjections(Dt),o.calculateLabelAngles(Dt)}},Me=0;Me<g.length;Me++)ye(Me);this.findHaystackPoints(_)}},c.getSegmentPoints=function(u){var o=u[0]._private.rscratch;if("segments"===o.edgeType)return this.recalculateRenderedStyle(u),y(o.segpts)},c.getControlPoints=function(u){var o=u[0]._private.rscratch,l=o.edgeType;if("bezier"===l||"multibezier"===l||"self"===l||"compound"===l)return this.recalculateRenderedStyle(u),y(o.ctrlpts)},c.getEdgeMidpoint=function(u){var o=u[0]._private.rscratch;return this.recalculateRenderedStyle(u),{x:o.midX,y:o.midY}};var v={manualEndptToPx:function(u,o){var f=u.position(),h=u.outerWidth(),p=u.outerHeight();if(2===o.value.length){var g=[o.pfValue[0],o.pfValue[1]];return"%"===o.units[0]&&(g[0]=g[0]*h),"%"===o.units[1]&&(g[1]=g[1]*p),g[0]+=f.x,g[1]+=f.y,g}var _=o.pfValue[0];_=-Math.PI/2+_;var E=2*Math.max(h,p),x=[f.x+Math.cos(_)*E,f.y+Math.sin(_)*E];return this.nodeShapes[this.getNodeShape(u)].intersectLine(f.x,f.y,h,p,x[0],x[1],0)},findEndpoints:function(u){var l,ke,Pe,xe,He,o=this,f=u.source()[0],h=u.target()[0],p=f.position(),g=h.position(),_=u.pstyle("target-arrow-shape").value,E=u.pstyle("source-arrow-shape").value,x=u.pstyle("target-distance-from-node").pfValue,M=u.pstyle("source-distance-from-node").pfValue,F=u.pstyle("curve-style").value,U=u._private.rscratch,W=U.edgeType,Z="self"===W||"compound"===W,J="bezier"===W||"multibezier"===W||Z,re="bezier"!==W,fe="straight"===W||"segments"===W,he="segments"===W,ye=J||re||fe,Me=Z||"taxi"===F,Ae=u.pstyle("source-endpoint"),be=Me?"outside-to-node":Ae.value,Te=u.pstyle("target-endpoint"),_e=Me?"outside-to-node":Te.value;if(U.srcManEndpt=Ae,U.tgtManEndpt=Te,J){var Ne=[U.ctrlpts[0],U.ctrlpts[1]];ke=re?[U.ctrlpts[U.ctrlpts.length-2],U.ctrlpts[U.ctrlpts.length-1]]:Ne,Pe=Ne}else if(fe){var Ue=he?U.segpts.slice(0,2):[g.x,g.y];ke=he?U.segpts.slice(U.segpts.length-2):[p.x,p.y],Pe=Ue}if("inside-to-node"===_e)l=[g.x,g.y];else if(Te.units)l=this.manualEndptToPx(h,Te);else if("outside-to-line"===_e)l=U.tgtIntn;else if("outside-to-node"===_e||"outside-to-node-or-label"===_e?xe=ke:("outside-to-line"===_e||"outside-to-line-or-label"===_e)&&(xe=[p.x,p.y]),l=o.nodeShapes[this.getNodeShape(h)].intersectLine(g.x,g.y,h.outerWidth(),h.outerHeight(),xe[0],xe[1],0),"outside-to-node-or-label"===_e||"outside-to-line-or-label"===_e){var ot=h._private.rscratch,st=ot.labelX,vt=ot.labelY,At=ot.labelWidth/2,Ot=ot.labelHeight/2,Dt=h.pstyle("text-valign").value;"top"===Dt?vt-=Ot:"bottom"===Dt&&(vt+=Ot);var wt=h.pstyle("text-halign").value;"left"===wt?st-=At:"right"===wt&&(st+=At);var nt=Gl(xe[0],xe[1],[st-At,vt-Ot,st+At,vt-Ot,st+At,vt+Ot,st-At,vt+Ot],g.x,g.y);if(nt.length>0){var Mt=p,Nt=Nr(Mt,ui(l)),Wt=Nr(Mt,ui(nt)),rn=Nt;Wt<Nt&&(l=nt,rn=Wt),nt.length>2&&Nr(Mt,{x:nt[2],y:nt[3]})<rn&&(l=[nt[2],nt[3]])}}var ar=pf(l,ke,o.arrowShapes[_].spacing(u)+x),sn=pf(l,ke,o.arrowShapes[_].gap(u)+x);if(U.endX=sn[0],U.endY=sn[1],U.arrowEndX=ar[0],U.arrowEndY=ar[1],"inside-to-node"===be)l=[p.x,p.y];else if(Ae.units)l=this.manualEndptToPx(f,Ae);else if("outside-to-line"===be)l=U.srcIntn;else if("outside-to-node"===be||"outside-to-node-or-label"===be?He=Pe:("outside-to-line"===be||"outside-to-line-or-label"===be)&&(He=[g.x,g.y]),l=o.nodeShapes[this.getNodeShape(f)].intersectLine(p.x,p.y,f.outerWidth(),f.outerHeight(),He[0],He[1],0),"outside-to-node-or-label"===be||"outside-to-line-or-label"===be){var Jt=f._private.rscratch,un=Jt.labelX,Rn=Jt.labelY,Or=Jt.labelWidth/2,hr=Jt.labelHeight/2,$n=f.pstyle("text-valign").value;"top"===$n?Rn-=hr:"bottom"===$n&&(Rn+=hr);var zt=f.pstyle("text-halign").value;"left"===zt?un-=Or:"right"===zt&&(un+=Or);var Ce=Gl(He[0],He[1],[un-Or,Rn-hr,un+Or,Rn-hr,un+Or,Rn+hr,un-Or,Rn+hr],p.x,p.y);if(Ce.length>0){var ft=g,kt=Nr(ft,ui(l)),xt=Nr(ft,ui(Ce)),Et=kt;xt<kt&&(l=[Ce[0],Ce[1]],Et=xt),Ce.length>2&&Nr(ft,{x:Ce[2],y:Ce[3]})<Et&&(l=[Ce[2],Ce[3]])}}var Gt=pf(l,Pe,o.arrowShapes[E].spacing(u)+M),Tn=pf(l,Pe,o.arrowShapes[E].gap(u)+M);U.startX=Tn[0],U.startY=Tn[1],U.arrowStartX=Gt[0],U.arrowStartY=Gt[1],ye&&(U.badLine=!(qe(U.startX)&&qe(U.startY)&&qe(U.endX)&&qe(U.endY)))},getSourceEndpoint:function(u){var o=u[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(u),o.edgeType)?{x:o.haystackPts[0],y:o.haystackPts[1]}:{x:o.arrowStartX,y:o.arrowStartY}},getTargetEndpoint:function(u){var o=u[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(u),o.edgeType)?{x:o.haystackPts[2],y:o.haystackPts[3]}:{x:o.arrowEndX,y:o.arrowEndY}}},b={};function B(u,o,l){for(var f=function(x,M,F,U){return di(x,M,F,U)},p=o._private.rstyle.bezierPts,g=0;g<u.bezierProjPcts.length;g++){var _=u.bezierProjPcts[g];p.push({x:f(l[0],l[2],l[4],_),y:f(l[1],l[3],l[5],_)})}}b.storeEdgeProjections=function(u){var o=u._private,l=o.rscratch,f=l.edgeType;if(o.rstyle.bezierPts=null,o.rstyle.linePts=null,o.rstyle.haystackPts=null,"multibezier"===f||"bezier"===f||"self"===f||"compound"===f){o.rstyle.bezierPts=[];for(var h=0;h+5<l.allpts.length;h+=4)B(this,u,l.allpts.slice(h,h+6))}else if("segments"===f){var p=o.rstyle.linePts=[];for(h=0;h+1<l.allpts.length;h+=2)p.push({x:l.allpts[h],y:l.allpts[h+1]})}else if("haystack"===f){var g=l.haystackPts;o.rstyle.haystackPts=[{x:g[0],y:g[1]},{x:g[2],y:g[3]}]}o.rstyle.arrowWidth=this.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.arrowShapeWidth},b.recalculateEdgeProjections=function(u){this.findEdgeControlPoints(u)};var G={recalculateNodeLabelProjection:function(u){var o=u.pstyle("label").strValue;if(!Ft(o)){var l,f,h=u._private,p=u.width(),g=u.height(),_=u.padding(),E=u.position(),x=u.pstyle("text-halign").strValue,M=u.pstyle("text-valign").strValue,F=h.rscratch,U=h.rstyle;switch(x){case"left":l=E.x-p/2-_;break;case"right":l=E.x+p/2+_;break;default:l=E.x}switch(M){case"top":f=E.y-g/2-_;break;case"bottom":f=E.y+g/2+_;break;default:f=E.y}F.labelX=l,F.labelY=f,U.labelX=l,U.labelY=f,this.calculateLabelAngles(u),this.applyLabelDimensions(u)}}},K=function(o,l){var f=Math.atan(l/o);return 0===o&&f<0&&(f*=-1),f},ee=function(o,l){return K(l.x-o.x,l.y-o.y)};G.recalculateEdgeLabelProjections=function(u){var o,l=u._private,f=l.rscratch,h=this,p={mid:u.pstyle("label").strValue,source:u.pstyle("source-label").strValue,target:u.pstyle("target-label").strValue};if(p.mid||p.source||p.target){var g=function(F,U,W){ko(l.rscratch,F,U,W),ko(l.rstyle,F,U,W)};g("labelX",null,(o={x:f.midX,y:f.midY}).x),g("labelY",null,o.y);var _=K(f.midDispX,f.midDispY);g("labelAutoAngle",null,_);var E=function M(){if(M.cache)return M.cache;for(var F=[],U=0;U+5<f.allpts.length;U+=4)F.push({p0:{x:f.allpts[U],y:f.allpts[U+1]},p1:{x:f.allpts[U+2],y:f.allpts[U+3]},p2:{x:f.allpts[U+4],y:f.allpts[U+5]},startDist:0,length:0,segments:[]});var J=l.rstyle.bezierPts,re=h.bezierProjPcts.length;function fe(be,Te,_e,ke,Pe){var xe=zi(Te,_e),He=be.segments[be.segments.length-1];be.segments.push({p0:Te,p1:_e,t0:ke,t1:Pe,startDist:He?He.startDist+He.length:0,length:xe}),be.length+=xe}for(var he=0;he<F.length;he++){var ye=F[he],Me=F[he-1];Me&&(ye.startDist=Me.startDist+Me.length),fe(ye,ye.p0,J[he*re],0,h.bezierProjPcts[0]);for(var Ae=0;Ae<re-1;Ae++)fe(ye,J[he*re+Ae],J[he*re+Ae+1],h.bezierProjPcts[Ae],h.bezierProjPcts[Ae+1]);fe(ye,J[he*re+re-1],ye.p2,h.bezierProjPcts[re-1],1)}return M.cache=F},x=function(F){var U,W="source"===F;if(p[F]){var j=u.pstyle(F+"-text-offset").pfValue;switch(f.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var J,Z=E(),re=0,fe=0,he=0;he<Z.length;he++){for(var ye=Z[W?he:Z.length-1-he],Me=0;Me<ye.segments.length;Me++){var Ae=ye.segments[W?Me:ye.segments.length-1-Me];if(re=fe,(fe+=Ae.length)>=j||he===Z.length-1&&Me===ye.segments.length-1){J={cp:ye,segment:Ae};break}}if(J)break}var Te=J.cp,_e=J.segment,ke=(j-re)/_e.length,Pe=_e.t1-_e.t0,xe=W?_e.t0+Pe*ke:_e.t1-Pe*ke;xe=Qs(0,xe,1),o=vo(Te.p0,Te.p1,Te.p2,xe),U=function(o,l,f,h){var p=Qs(0,h-.001,1),g=Qs(0,h+.001,1),_=vo(o,l,f,p),E=vo(o,l,f,g);return ee(_,E)}(Te.p0,Te.p1,Te.p2,xe);break;case"straight":case"segments":case"haystack":for(var Ne,Je,Ue,Ge,He=0,ot=f.allpts.length,dt=0;dt+3<ot&&(W?(Ue={x:f.allpts[dt],y:f.allpts[dt+1]},Ge={x:f.allpts[dt+2],y:f.allpts[dt+3]}):(Ue={x:f.allpts[ot-2-dt],y:f.allpts[ot-1-dt]},Ge={x:f.allpts[ot-4-dt],y:f.allpts[ot-3-dt]}),Je=He,!((He+=Ne=zi(Ue,Ge))>=j));dt+=2);var st=(j-Je)/Ne;st=Qs(0,st,1),o=function(o,l,f,h){var p_x=l.x-o.x,p_y=l.y-o.y,g=zi(o,l);return f=f??0,{x:o.x+p_x/g*(h=h??f*g),y:o.y+p_y/g*h}}(Ue,Ge,st),U=ee(Ue,Ge)}g("labelX",F,o.x),g("labelY",F,o.y),g("labelAutoAngle",F,U)}};x("source"),x("target"),this.applyLabelDimensions(u)}},G.applyLabelDimensions=function(u){this.applyPrefixedLabelDimensions(u),u.isEdge()&&(this.applyPrefixedLabelDimensions(u,"source"),this.applyPrefixedLabelDimensions(u,"target"))},G.applyPrefixedLabelDimensions=function(u,o){var l=u._private,f=this.getLabelText(u,o),h=this.calculateLabelDimensions(u,f),p=u.pstyle("line-height").pfValue,g=u.pstyle("text-wrap").strValue,_=Qi(l.rscratch,"labelWrapCachedLines",o)||[],E="wrap"!==g?1:Math.max(_.length,1),x=h.height/E,M=x*p,F=h.width,U=h.height+(E-1)*(p-1)*x;ko(l.rstyle,"labelWidth",o,F),ko(l.rscratch,"labelWidth",o,F),ko(l.rstyle,"labelHeight",o,U),ko(l.rscratch,"labelHeight",o,U),ko(l.rscratch,"labelLineHeight",o,M)},G.getLabelText=function(u,o){var l=u._private,h=u.pstyle((o?o+"-":"")+"label").strValue,p=u.pstyle("text-transform").value,g=function(yt,st){return st?(ko(l.rscratch,yt,o,st),st):Qi(l.rscratch,yt,o)};if(!h)return"";"none"==p||("uppercase"==p?h=h.toUpperCase():"lowercase"==p&&(h=h.toLowerCase()));var _=u.pstyle("text-wrap").value;if("wrap"===_){var E=g("labelKey");if(null!=E&&g("labelWrapKey")===E)return g("labelWrapCachedText");for(var M=h.split("\n"),F=u.pstyle("text-max-width").pfValue,W="anywhere"===u.pstyle("text-overflow-wrap").value,j=[],Z=/[\s\u200b]+/,J=W?"":" ",re=0;re<M.length;re++){var fe=M[re],ye=this.calculateLabelDimensions(u,fe).width;if(W){var Me=fe.split("").join("\u200b");fe=Me}if(ye>F){for(var Ae=fe.split(Z),be="",Te=0;Te<Ae.length;Te++){var _e=Ae[Te];this.calculateLabelDimensions(u,0===be.length?_e:be+J+_e).width<=F?be+=_e+J:(be&&j.push(be),be=_e+J)}be.match(/^[\s\u200b]+$/)||j.push(be)}else j.push(fe)}g("labelWrapCachedLines",j),h=g("labelWrapCachedText",j.join("\n")),g("labelWrapKey",E)}else if("ellipsis"===_){var He=u.pstyle("text-max-width").pfValue,Ne="",Ue=!1;if(this.calculateLabelDimensions(u,h).width<He)return h;for(var Ge=0;Ge<h.length&&!(this.calculateLabelDimensions(u,Ne+h[Ge]+"\u2026").width>He);Ge++)Ne+=h[Ge],Ge===h.length-1&&(Ue=!0);return Ue||(Ne+="\u2026"),Ne}return h},G.getLabelJustification=function(u){var o=u.pstyle("text-justification").strValue,l=u.pstyle("text-halign").strValue;if("auto"!==o)return o;if(!u.isNode())return"center";switch(l){case"left":return"right";case"right":return"left";default:return"center"}},G.calculateLabelDimensions=function(u,o){var f=ss(o,u._private.labelDimsKey),h=this.labelDimCache||(this.labelDimCache=[]),p=h[f];if(null!=p)return p;var _=u.pstyle("font-style").strValue,E=u.pstyle("font-size").pfValue,x=u.pstyle("font-family").strValue,M=u.pstyle("font-weight").strValue,F=this.labelCalcCanvas,U=this.labelCalcCanvasContext;if(!F){F=this.labelCalcCanvas=document.createElement("canvas"),U=this.labelCalcCanvasContext=F.getContext("2d");var W=F.style;W.position="absolute",W.left="-9999px",W.top="-9999px",W.zIndex="-1",W.visibility="hidden",W.pointerEvents="none"}U.font="".concat(_," ").concat(M," ").concat(E,"px ").concat(x);for(var j=0,Z=0,J=o.split("\n"),re=0;re<J.length;re++){var he=U.measureText(J[re]),ye=Math.ceil(he.width),Me=E;j=Math.max(ye,j),Z+=Me}return h[f]={width:j+=0,height:Z+=0}},G.calculateLabelAngle=function(u,o){var f=u._private.rscratch,h=u.isEdge(),g=u.pstyle((o?o+"-":"")+"text-rotation"),_=g.strValue;return"none"===_?0:h&&"autorotate"===_?f.labelAutoAngle:"autorotate"===_?0:g.pfValue},G.calculateLabelAngles=function(u){var o=this,l=u.isEdge(),h=u._private.rscratch;h.labelAngle=o.calculateLabelAngle(u),l&&(h.sourceLabelAngle=o.calculateLabelAngle(u,"source"),h.targetLabelAngle=o.calculateLabelAngle(u,"target"))};var Ee={},Xe=!1;Ee.getNodeShape=function(u){var l=u.pstyle("shape").value;if("cutrectangle"===l&&(u.width()<28||u.height()<28))return Xe||(Tr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Xe=!0),"rectangle";if(u.isParent())return"rectangle"===l||"roundrectangle"===l||"round-rectangle"===l||"cutrectangle"===l||"cut-rectangle"===l||"barrel"===l?l:"rectangle";if("polygon"===l){var f=u.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(f).name}return l};var gt={updateCachedGrabbedEles:function(){var u=this.cachedZSortedEles;if(u){u.drag=[],u.nondrag=[];for(var o=[],l=0;l<u.length;l++){var h=(f=u[l])._private.rscratch;f.grabbed()&&!f.isParent()?o.push(f):h.inDragLayer?u.drag.push(f):u.nondrag.push(f)}for(l=0;l<o.length;l++){var f;u.drag.push(f=o[l])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(u){if(u||!this.cachedZSortedEles){var o=this.cy.mutableElements().toArray();o.sort(Ql),o.interactive=o.filter(function(l){return l.interactive()}),this.cachedZSortedEles=o,this.updateCachedGrabbedEles()}else o=this.cachedZSortedEles;return o}},_t={};[bs,a,c,v,b,G,Ee,{registerCalculationListeners:function(){var u=this.cy,o=u.collection(),l=this,f=function(g){var _=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o.merge(g),_)for(var E=0;E<g.length;E++){var F=g[E]._private.rstyle;F.clean=!1,F.cleanConnected=!1}};l.binder(u).on("bounds.* dirty.*",function(g){f(g.target)}).on("style.* background.*",function(g){f(g.target,!1)});var h=function(g){if(g){var _=l.onUpdateEleCalcsFns;o.cleanStyle();for(var E=0;E<o.length;E++){var x=o[E],M=x._private.rstyle;x.isNode()&&!M.cleanConnected&&(f(x.connectedEdges()),M.cleanConnected=!0)}if(_)for(var F=0;F<_.length;F++)(0,_[F])(g,o);l.recalculateRenderedStyle(o),o=u.collection()}};l.flushRenderedStyleQueue=function(){h(!0)},l.beforeRender(h,l.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(u){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(u)},recalculateRenderedStyle:function(u,o){var l=function(ye){return ye._private.rstyle.cleanConnected},f=[],h=[];if(!this.destroyed){void 0===o&&(o=!0);for(var p=0;p<u.length;p++){var g=u[p],_=g._private,E=_.rstyle;g.isEdge()&&(!l(g.source())||!l(g.target()))&&(E.clean=!1),!(o&&E.clean||g.removed())&&"none"!==g.pstyle("display").value&&("nodes"===_.group?h.push(g):f.push(g),E.clean=!0)}for(var x=0;x<h.length;x++){var M=h[x],U=M._private.rstyle,W=M.position();this.recalculateNodeLabelProjection(M),U.nodeX=W.x,U.nodeY=W.y,U.nodeW=M.pstyle("width").pfValue,U.nodeH=M.pstyle("height").pfValue}this.recalculateEdgeProjections(f);for(var j=0;j<f.length;j++){var J=f[j]._private,re=J.rstyle,fe=J.rscratch;re.srcX=fe.arrowStartX,re.srcY=fe.arrowStartY,re.tgtX=fe.arrowEndX,re.tgtY=fe.arrowEndY,re.midX=fe.midX,re.midY=fe.midY,re.labelAngle=fe.labelAngle,re.sourceLabelAngle=fe.sourceLabelAngle,re.targetLabelAngle=fe.targetLabelAngle}}}},gt].forEach(function(u){Nn(_t,u)});var Ut={getCachedImage:function(u,o,l){var h=this.imageCache=this.imageCache||{},p=h[u];if(p)return p.image.complete||p.image.addEventListener("load",l),p.image;var g=(p=h[u]=h[u]||{}).image=new Image;g.addEventListener("load",l),g.addEventListener("error",function(){g.error=!0});return"data:"===u.substring(0,5).toLowerCase()||(g.crossOrigin=o="null"===o?null:o),g.src=u,g}},jt={registerBinding:function(u,o,l,f){var h=Array.prototype.slice.apply(arguments,[1]),p=this.binder(u);return p.on.apply(p,h)},binder:function(u){var o=this,l=u===window||u===document||u===document.body||function(o){return!(typeof HTMLElement>"u")&&o instanceof HTMLElement}(u);if(null==o.supportsPassiveEvents){var f=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return f=!0,!0}});window.addEventListener("test",null,h)}catch{}o.supportsPassiveEvents=f}var p=function(_,E,x){var M=Array.prototype.slice.call(arguments);return l&&o.supportsPassiveEvents&&(M[2]={capture:x??!1,passive:!1,once:!1}),o.bindings.push({target:u,args:M}),(u.addEventListener||u.on).apply(u,M),this};return{on:p,addEventListener:p,addListener:p,bind:p}},nodeIsDraggable:function(u){return u&&u.isNode()&&!u.locked()&&u.grabbable()},nodeIsGrabbable:function(u){return this.nodeIsDraggable(u)&&u.interactive()}};jt.load=function(){var u=this,o=function(Ce){return Ce.selected()},l=function(Ce,ft,kt,xt){null==Ce&&(Ce=u.cy);for(var Et=0;Et<ft.length;Et++)Ce.emit({originalEvent:kt,type:ft[Et],position:xt})},f=function(Ce){return Ce.shiftKey||Ce.metaKey||Ce.ctrlKey},h=function(Ce,ft){var kt=!0;if(u.cy.hasCompoundNodes()&&Ce&&Ce.pannable()){for(var xt=0;ft&&xt<ft.length;xt++)if((Ce=ft[xt]).isNode()&&Ce.isParent()&&!Ce.pannable()){kt=!1;break}}else kt=!0;return kt},_=function(Ce){Ce[0]._private.rscratch.inDragLayer=!0},x=function(Ce){Ce[0]._private.rscratch.isGrabTarget=!0},F=function(Ce,ft){var kt=ft.addToList;!kt.has(Ce)&&Ce.grabbable()&&!Ce.locked()&&(kt.merge(Ce),function(Ce){Ce[0]._private.grabbed=!0}(Ce))},W=function(Ce,ft){ft=ft||{};var kt=Ce.cy().hasCompoundNodes();ft.inDragLayer&&(Ce.forEach(_),Ce.neighborhood().stdFilter(function(xt){return!kt||xt.isEdge()}).forEach(_)),ft.addToList&&Ce.forEach(function(xt){F(xt,ft)}),function(Ce,ft){if(Ce.cy().hasCompoundNodes()&&(null!=ft.inDragLayer||null!=ft.addToList)){var kt=Ce.descendants();ft.inDragLayer&&(kt.forEach(_),kt.connectedEdges().forEach(_)),ft.addToList&&F(kt,ft)}}(Ce,ft),J(Ce,{inDragLayer:ft.inDragLayer}),u.updateCachedGrabbedEles()},j=W,Z=function(Ce){Ce&&(u.getCachedZSortedEles().forEach(function(ft){(function(Ce){Ce[0]._private.grabbed=!1})(ft),function(Ce){Ce[0]._private.rscratch.inDragLayer=!1}(ft),function(Ce){Ce[0]._private.rscratch.isGrabTarget=!1}(ft)}),u.updateCachedGrabbedEles())},J=function(Ce,ft){if((null!=ft.inDragLayer||null!=ft.addToList)&&Ce.cy().hasCompoundNodes()){var kt=Ce.ancestors().orphans();if(!kt.same(Ce)){var xt=kt.descendants().spawnSelf().merge(kt).unmerge(Ce).unmerge(Ce.descendants()),Et=xt.connectedEdges();ft.inDragLayer&&(Et.forEach(_),xt.forEach(_)),ft.addToList&&xt.forEach(function(vr){F(vr,ft)})}}},re=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},fe=typeof MutationObserver<"u",he=typeof ResizeObserver<"u";fe?(u.removeObserver=new MutationObserver(function(zt){for(var Ce=0;Ce<zt.length;Ce++){var kt=zt[Ce].removedNodes;if(kt)for(var xt=0;xt<kt.length;xt++)if(kt[xt]===u.container){u.destroy();break}}}),u.container.parentNode&&u.removeObserver.observe(u.container.parentNode,{childList:!0})):u.registerBinding(u.container,"DOMNodeRemoved",function(zt){u.destroy()});var ye=N.default(function(){u.cy.resize()},100);fe&&(u.styleObserver=new MutationObserver(ye),u.styleObserver.observe(u.container,{attributes:!0})),u.registerBinding(window,"resize",ye),he&&(u.resizeObserver=new ResizeObserver(ye),u.resizeObserver.observe(u.container));var Ae=function(){u.invalidateContainerClientCoordsCache()};(function(Ce,ft){for(;null!=Ce;)u.registerBinding(zt=Ce,"transitionend",Ae),u.registerBinding(zt,"animationend",Ae),u.registerBinding(zt,"scroll",Ae),Ce=Ce.parentNode;var zt})(u.container),u.registerBinding(u.container,"contextmenu",function(zt){zt.preventDefault()});var _e,ke,Pe,Te=function(Ce){for(var ft=u.findContainerClientCoords(),kt=ft[0],xt=ft[1],Et=ft[2],vr=ft[3],Gt=Ce.touches?Ce.touches:[Ce],Tn=!1,Ur=0;Ur<Gt.length;Ur++){var qr=Gt[Ur];if(kt<=qr.clientX&&qr.clientX<=kt+Et&&xt<=qr.clientY&&qr.clientY<=xt+vr){Tn=!0;break}}if(!Tn)return!1;for(var pr=u.container,cr=Ce.target.parentNode,wr=!1;cr;){if(cr===pr){wr=!0;break}cr=cr.parentNode}return!!wr};u.registerBinding(u.container,"mousedown",function(Ce){if(Te(Ce)){Ce.preventDefault(),re(),u.hoverData.capture=!0,u.hoverData.which=Ce.which;var ft=u.cy,kt=[Ce.clientX,Ce.clientY],xt=u.projectIntoViewport(kt[0],kt[1]),Et=u.selection,vr=u.findNearestElements(xt[0],xt[1],!0,!1),Gt=vr[0],Tn=u.dragData.possibleDragElements;if(u.hoverData.mdownPos=xt,u.hoverData.mdownGPos=kt,3==Ce.which){u.hoverData.cxtStarted=!0;var qr={originalEvent:Ce,type:"cxttapstart",position:{x:xt[0],y:xt[1]}};Gt?(Gt.activate(),Gt.emit(qr),u.hoverData.down=Gt):ft.emit(qr),u.hoverData.downTime=(new Date).getTime(),u.hoverData.cxtDragged=!1}else if(1==Ce.which){if(Gt&&Gt.activate(),null!=Gt&&u.nodeIsGrabbable(Gt)){var pr=function(to){return{originalEvent:Ce,type:to,position:{x:xt[0],y:xt[1]}}};if(x(Gt),Gt.selected()){Tn=u.dragData.possibleDragElements=ft.collection();var cr=ft.$(function(wr){return wr.isNode()&&wr.selected()&&u.nodeIsGrabbable(wr)});W(cr,{addToList:Tn}),Gt.emit(pr("grabon")),cr.forEach(function(to){to.emit(pr("grab"))})}else Tn=u.dragData.possibleDragElements=ft.collection(),j(Gt,{addToList:Tn}),Gt.emit(pr("grabon")).emit(pr("grab"));u.redrawHint("eles",!0),u.redrawHint("drag",!0)}u.hoverData.down=Gt,u.hoverData.downs=vr,u.hoverData.downTime=(new Date).getTime(),l(Gt,["mousedown","tapstart","vmousedown"],Ce,{x:xt[0],y:xt[1]}),null==Gt?(Et[4]=1,u.data.bgActivePosistion={x:xt[0],y:xt[1]},u.redrawHint("select",!0),u.redraw()):Gt.pannable()&&(Et[4]=1),u.hoverData.tapholdCancelled=!1,clearTimeout(u.hoverData.tapholdTimeout),u.hoverData.tapholdTimeout=setTimeout(function(){if(!u.hoverData.tapholdCancelled){var to=u.hoverData.down;to?to.emit({originalEvent:Ce,type:"taphold",position:{x:xt[0],y:xt[1]}}):ft.emit({originalEvent:Ce,type:"taphold",position:{x:xt[0],y:xt[1]}})}},u.tapholdDuration)}Et[0]=Et[2]=xt[0],Et[1]=Et[3]=xt[1]}},!1),u.registerBinding(window,"mousemove",function(Ce){var au;if(u.hoverData.capture||Te(Ce)){var kt=!1,xt=u.cy,Et=xt.zoom(),vr=[Ce.clientX,Ce.clientY],Gt=u.projectIntoViewport(vr[0],vr[1]),Tn=u.hoverData.mdownPos,Ur=u.hoverData.mdownGPos,qr=u.selection,pr=null;!u.hoverData.draggingEles&&!u.hoverData.dragging&&!u.hoverData.selecting&&(pr=u.findNearestElement(Gt[0],Gt[1],!0,!1));var no,Zr=u.hoverData.last,cr=u.hoverData.down,wr=[Gt[0]-qr[2],Gt[1]-qr[3]],to=u.dragData.possibleDragElements;if(Ur){var Ml=vr[0]-Ur[0],xa=vr[1]-Ur[1];u.hoverData.isOverThresholdDrag=no=Ml*Ml+xa*xa>=u.desktopTapThreshold2}var Io=f(Ce);no&&(u.hoverData.tapholdCancelled=!0),kt=!0,l(pr,["mousemove","vmousemove","tapdrag"],Ce,{x:Gt[0],y:Gt[1]});var jf=function(){u.data.bgActivePosistion=void 0,u.hoverData.selecting||xt.emit({originalEvent:Ce,type:"boxstart",position:{x:Gt[0],y:Gt[1]}}),qr[4]=1,u.hoverData.selecting=!0,u.redrawHint("select",!0),u.redraw()};if(3===u.hoverData.which){if(no){var Kd={originalEvent:Ce,type:"cxtdrag",position:{x:Gt[0],y:Gt[1]}};cr?cr.emit(Kd):xt.emit(Kd),u.hoverData.cxtDragged=!0,(!u.hoverData.cxtOver||pr!==u.hoverData.cxtOver)&&(u.hoverData.cxtOver&&u.hoverData.cxtOver.emit({originalEvent:Ce,type:"cxtdragout",position:{x:Gt[0],y:Gt[1]}}),u.hoverData.cxtOver=pr,pr&&pr.emit({originalEvent:Ce,type:"cxtdragover",position:{x:Gt[0],y:Gt[1]}}))}}else if(u.hoverData.dragging){if(kt=!0,xt.panningEnabled()&&xt.userPanningEnabled()){var Wf;if(u.hoverData.justStartedPan){var og=u.hoverData.mdownPos;Wf={x:(Gt[0]-og[0])*Et,y:(Gt[1]-og[1])*Et},u.hoverData.justStartedPan=!1}else Wf={x:wr[0]*Et,y:wr[1]*Et};xt.panBy(Wf),xt.emit("dragpan"),u.hoverData.dragged=!0}Gt=u.projectIntoViewport(Ce.clientX,Ce.clientY)}else if(1!=qr[4]||null!=cr&&!cr.pannable()){if(cr&&cr.pannable()&&cr.active()&&cr.unactivate(),(!cr||!cr.grabbed())&&pr!=Zr&&(Zr&&l(Zr,["mouseout","tapdragout"],Ce,{x:Gt[0],y:Gt[1]}),pr&&l(pr,["mouseover","tapdragover"],Ce,{x:Gt[0],y:Gt[1]}),u.hoverData.last=pr),cr)if(no){if(xt.boxSelectionEnabled()&&Io)cr&&cr.grabbed()&&(Z(to),cr.emit("freeon"),to.emit("free"),u.dragData.didDrag&&(cr.emit("dragfreeon"),to.emit("dragfree"))),jf();else if(cr&&cr.grabbed()&&u.nodeIsDraggable(cr)){var ws=!u.dragData.didDrag;ws&&u.redrawHint("eles",!0),u.dragData.didDrag=!0,u.hoverData.draggingEles||W(to,{inDragLayer:!0});var Da={x:0,y:0};if(qe(wr[0])&&qe(wr[1])&&(Da.x+=wr[0],Da.y+=wr[1],ws)){var Cs=u.hoverData.dragDelta;Cs&&qe(Cs[0])&&qe(Cs[1])&&(Da.x+=Cs[0],Da.y+=Cs[1])}u.hoverData.draggingEles=!0,to.silentShift(Da).emit("position drag"),u.redrawHint("drag",!0),u.redraw()}}else 0===(au=u.hoverData.dragDelta=u.hoverData.dragDelta||[]).length?(au.push(wr[0]),au.push(wr[1])):(au[0]+=wr[0],au[1]+=wr[1]);kt=!0}else no&&(u.hoverData.dragging||!xt.boxSelectionEnabled()||!Io&&xt.panningEnabled()&&xt.userPanningEnabled()?!u.hoverData.selecting&&xt.panningEnabled()&&xt.userPanningEnabled()&&h(cr,u.hoverData.downs)&&(u.hoverData.dragging=!0,u.hoverData.justStartedPan=!0,qr[4]=0,u.data.bgActivePosistion=ui(Tn),u.redrawHint("select",!0),u.redraw()):jf(),cr&&cr.pannable()&&cr.active()&&cr.unactivate());if(qr[2]=Gt[0],qr[3]=Gt[1],kt)return Ce.stopPropagation&&Ce.stopPropagation(),Ce.preventDefault&&Ce.preventDefault(),!1}},!1),u.registerBinding(window,"mouseup",function(Ce){if(u.hoverData.capture){u.hoverData.capture=!1;var kt=u.cy,xt=u.projectIntoViewport(Ce.clientX,Ce.clientY),Et=u.selection,vr=u.findNearestElement(xt[0],xt[1],!0,!1),Gt=u.dragData.possibleDragElements,Tn=u.hoverData.down,Ur=f(Ce);if(u.data.bgActivePosistion&&(u.redrawHint("select",!0),u.redraw()),u.hoverData.tapholdCancelled=!0,u.data.bgActivePosistion=void 0,Tn&&Tn.unactivate(),3===u.hoverData.which){var qr={originalEvent:Ce,type:"cxttapend",position:{x:xt[0],y:xt[1]}};if(Tn?Tn.emit(qr):kt.emit(qr),!u.hoverData.cxtDragged){var pr={originalEvent:Ce,type:"cxttap",position:{x:xt[0],y:xt[1]}};Tn?Tn.emit(pr):kt.emit(pr)}u.hoverData.cxtDragged=!1,u.hoverData.which=null}else if(1===u.hoverData.which){if(l(vr,["mouseup","tapend","vmouseup"],Ce,{x:xt[0],y:xt[1]}),!u.dragData.didDrag&&!u.hoverData.dragged&&!u.hoverData.selecting&&!u.hoverData.isOverThresholdDrag&&(l(Tn,["click","tap","vclick"],Ce,{x:xt[0],y:xt[1]}),ke=!1,Ce.timeStamp-Pe<=kt.multiClickDebounceTime()?(_e&&clearTimeout(_e),ke=!0,Pe=null,l(Tn,["dblclick","dbltap","vdblclick"],Ce,{x:xt[0],y:xt[1]})):(_e=setTimeout(function(){ke||l(Tn,["oneclick","onetap","voneclick"],Ce,{x:xt[0],y:xt[1]})},kt.multiClickDebounceTime()),Pe=Ce.timeStamp)),null==Tn&&!u.dragData.didDrag&&!u.hoverData.selecting&&!u.hoverData.dragged&&!f(Ce)&&(kt.$(o).unselect(["tapunselect"]),Gt.length>0&&u.redrawHint("eles",!0),u.dragData.possibleDragElements=Gt=kt.collection()),vr==Tn&&!u.dragData.didDrag&&!u.hoverData.selecting&&null!=vr&&vr._private.selectable&&(u.hoverData.dragging||("additive"===kt.selectionType()||Ur?vr.selected()?vr.unselect(["tapunselect"]):vr.select(["tapselect"]):Ur||(kt.$(o).unmerge(vr).unselect(["tapunselect"]),vr.select(["tapselect"]))),u.redrawHint("eles",!0)),u.hoverData.selecting){var Zr=kt.collection(u.getAllInBox(Et[0],Et[1],Et[2],Et[3]));u.redrawHint("select",!0),Zr.length>0&&u.redrawHint("eles",!0),kt.emit({type:"boxend",originalEvent:Ce,position:{x:xt[0],y:xt[1]}}),"additive"===kt.selectionType()||Ur||kt.$(o).unmerge(Zr).unselect(),Zr.emit("box").stdFilter(function(no){return no.selectable()&&!no.selected()}).select().emit("boxselect"),u.redraw()}if(u.hoverData.dragging&&(u.hoverData.dragging=!1,u.redrawHint("select",!0),u.redrawHint("eles",!0),u.redraw()),!Et[4]){u.redrawHint("drag",!0),u.redrawHint("eles",!0);var wr=Tn&&Tn.grabbed();Z(Gt),wr&&(Tn.emit("freeon"),Gt.emit("free"),u.dragData.didDrag&&(Tn.emit("dragfreeon"),Gt.emit("dragfree")))}}Et[4]=0,u.hoverData.down=null,u.hoverData.cxtStarted=!1,u.hoverData.draggingEles=!1,u.hoverData.selecting=!1,u.hoverData.isOverThresholdDrag=!1,u.dragData.didDrag=!1,u.hoverData.dragged=!1,u.hoverData.dragDelta=[],u.hoverData.mdownPos=null,u.hoverData.mdownGPos=null}},!1);var xe=function(Ce){if(!u.scrollingPage){var ft=u.cy,kt=ft.zoom(),xt=ft.pan(),Et=u.projectIntoViewport(Ce.clientX,Ce.clientY),vr=[Et[0]*kt+xt.x,Et[1]*kt+xt.y];if(u.hoverData.draggingEles||u.hoverData.dragging||u.hoverData.cxtStarted||0!==u.selection[4])return void Ce.preventDefault();if(ft.panningEnabled()&&ft.userPanningEnabled()&&ft.zoomingEnabled()&&ft.userZoomingEnabled()){var Gt;Ce.preventDefault(),u.data.wheelZooming=!0,clearTimeout(u.data.wheelTimeout),u.data.wheelTimeout=setTimeout(function(){u.data.wheelZooming=!1,u.redrawHint("eles",!0),u.redraw()},150),Gt=null!=Ce.deltaY?Ce.deltaY/-250:null!=Ce.wheelDeltaY?Ce.wheelDeltaY/1e3:Ce.wheelDelta/1e3,Gt*=u.wheelSensitivity,1===Ce.deltaMode&&(Gt*=33);var Ur=ft.zoom()*Math.pow(10,Gt);"gesturechange"===Ce.type&&(Ur=u.gestureStartZoom*Ce.scale),ft.zoom({level:Ur,renderedPosition:{x:vr[0],y:vr[1]}}),ft.emit("gesturechange"===Ce.type?"pinchzoom":"scrollzoom")}}};u.registerBinding(u.container,"wheel",xe,!0),u.registerBinding(window,"scroll",function(Ce){u.scrollingPage=!0,clearTimeout(u.scrollingPageTimeout),u.scrollingPageTimeout=setTimeout(function(){u.scrollingPage=!1},250)},!0),u.registerBinding(u.container,"gesturestart",function(Ce){u.gestureStartZoom=u.cy.zoom(),u.hasTouchStarted||Ce.preventDefault()},!0),u.registerBinding(u.container,"gesturechange",function(zt){u.hasTouchStarted||xe(zt)},!0),u.registerBinding(u.container,"mouseout",function(Ce){var ft=u.projectIntoViewport(Ce.clientX,Ce.clientY);u.cy.emit({originalEvent:Ce,type:"mouseout",position:{x:ft[0],y:ft[1]}})},!1),u.registerBinding(u.container,"mouseover",function(Ce){var ft=u.projectIntoViewport(Ce.clientX,Ce.clientY);u.cy.emit({originalEvent:Ce,type:"mouseover",position:{x:ft[0],y:ft[1]}})},!1);var He,Ne,Je,Ue,Ge,ot,dt,yt,st,vt,At,Ot,Dt,Mt,Nt,Wt,rn,Xn,ar,sn,wt=function(Ce,ft,kt,xt){return Math.sqrt((kt-Ce)*(kt-Ce)+(xt-ft)*(xt-ft))},nt=function(Ce,ft,kt,xt){return(kt-Ce)*(kt-Ce)+(xt-ft)*(xt-ft)};if(u.registerBinding(u.container,"touchstart",Mt=function(Ce){if(u.hasTouchStarted=!0,Te(Ce)){re(),u.touchData.capture=!0,u.data.bgActivePosistion=void 0;var ft=u.cy,kt=u.touchData.now,xt=u.touchData.earlier;if(Ce.touches[0]){var Et=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);kt[0]=Et[0],kt[1]=Et[1]}if(Ce.touches[1]&&(Et=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),kt[2]=Et[0],kt[3]=Et[1]),Ce.touches[2]&&(Et=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),kt[4]=Et[0],kt[5]=Et[1]),Ce.touches[1]){u.touchData.singleTouchMoved=!0,Z(u.dragData.touchDragEles);var vr=u.findContainerClientCoords();At=vr[2],Ot=vr[3],Ne=Ce.touches[0].clientY-(vt=vr[1]),Je=Ce.touches[1].clientX-(st=vr[0]),Ue=Ce.touches[1].clientY-vt,Dt=0<=(He=Ce.touches[0].clientX-st)&&He<=At&&0<=Je&&Je<=At&&0<=Ne&&Ne<=Ot&&0<=Ue&&Ue<=Ot;var Gt=ft.pan(),Tn=ft.zoom();if(Ge=wt(He,Ne,Je,Ue),ot=nt(He,Ne,Je,Ue),yt=[((dt=[(He+Je)/2,(Ne+Ue)/2])[0]-Gt.x)/Tn,(dt[1]-Gt.y)/Tn],ot<4e4&&!Ce.touches[2]){var pr=u.findNearestElement(kt[0],kt[1],!0,!0),Zr=u.findNearestElement(kt[2],kt[3],!0,!0);return pr&&pr.isNode()?(pr.activate().emit({originalEvent:Ce,type:"cxttapstart",position:{x:kt[0],y:kt[1]}}),u.touchData.start=pr):Zr&&Zr.isNode()?(Zr.activate().emit({originalEvent:Ce,type:"cxttapstart",position:{x:kt[0],y:kt[1]}}),u.touchData.start=Zr):ft.emit({originalEvent:Ce,type:"cxttapstart",position:{x:kt[0],y:kt[1]}}),u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxt=!0,u.touchData.cxtDragged=!1,u.data.bgActivePosistion=void 0,void u.redraw()}}if(Ce.touches[2])ft.boxSelectionEnabled()&&Ce.preventDefault();else if(!Ce.touches[1]&&Ce.touches[0]){var cr=u.findNearestElements(kt[0],kt[1],!0,!0),wr=cr[0];if(null!=wr&&(wr.activate(),u.touchData.start=wr,u.touchData.starts=cr,u.nodeIsGrabbable(wr))){var to=u.dragData.touchDragEles=ft.collection(),no=null;u.redrawHint("eles",!0),u.redrawHint("drag",!0),wr.selected()?(no=ft.$(function(is){return is.selected()&&u.nodeIsGrabbable(is)}),W(no,{addToList:to})):j(wr,{addToList:to}),x(wr);var Ml=function(Io){return{originalEvent:Ce,type:Io,position:{x:kt[0],y:kt[1]}}};wr.emit(Ml("grabon")),no?no.forEach(function(is){is.emit(Ml("grab"))}):wr.emit(Ml("grab"))}l(wr,["touchstart","tapstart","vmousedown"],Ce,{x:kt[0],y:kt[1]}),null==wr&&(u.data.bgActivePosistion={x:Et[0],y:Et[1]},u.redrawHint("select",!0),u.redraw()),u.touchData.singleTouchMoved=!1,u.touchData.singleTouchStartTime=+new Date,clearTimeout(u.touchData.tapholdTimeout),u.touchData.tapholdTimeout=setTimeout(function(){!1===u.touchData.singleTouchMoved&&!u.pinching&&!u.touchData.selecting&&l(u.touchData.start,["taphold"],Ce,{x:kt[0],y:kt[1]})},u.tapholdDuration)}if(Ce.touches.length>=1){for(var Il=u.touchData.startPosition=[],xa=0;xa<kt.length;xa++)Il[xa]=xt[xa]=kt[xa];var al=Ce.touches[0];u.touchData.startGPosition=[al.clientX,al.clientY]}}},!1),u.registerBinding(window,"touchmove",Nt=function(Ce){var ft=u.touchData.capture;if(ft||Te(Ce)){var kt=u.selection,xt=u.cy,Et=u.touchData.now,vr=u.touchData.earlier,Gt=xt.zoom();if(Ce.touches[0]){var Tn=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);Et[0]=Tn[0],Et[1]=Tn[1]}Ce.touches[1]&&(Tn=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),Et[2]=Tn[0],Et[3]=Tn[1]),Ce.touches[2]&&(Tn=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),Et[4]=Tn[0],Et[5]=Tn[1]);var qr,Ur=u.touchData.startGPosition;if(ft&&Ce.touches[0]&&Ur){for(var pr=[],Zr=0;Zr<Et.length;Zr++)pr[Zr]=Et[Zr]-vr[Zr];var cr=Ce.touches[0].clientX-Ur[0],to=Ce.touches[0].clientY-Ur[1];qr=cr*cr+to*to>=u.touchTapThreshold2}if(ft&&u.touchData.cxt){Ce.preventDefault();var Io=nt(Il=Ce.touches[0].clientX-st,xa=Ce.touches[0].clientY-vt,al=Ce.touches[1].clientX-st,is=Ce.touches[1].clientY-vt);if(Io/ot>=2.25||Io>=22500){u.touchData.cxt=!1,u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);var qd={originalEvent:Ce,type:"cxttapend",position:{x:Et[0],y:Et[1]}};u.touchData.start?(u.touchData.start.unactivate().emit(qd),u.touchData.start=null):xt.emit(qd)}}if(ft&&u.touchData.cxt){qd={originalEvent:Ce,type:"cxtdrag",position:{x:Et[0],y:Et[1]}},u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),u.touchData.start?u.touchData.start.emit(qd):xt.emit(qd),u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxtDragged=!0;var ws=u.findNearestElement(Et[0],Et[1],!0,!0);(!u.touchData.cxtOver||ws!==u.touchData.cxtOver)&&(u.touchData.cxtOver&&u.touchData.cxtOver.emit({originalEvent:Ce,type:"cxtdragout",position:{x:Et[0],y:Et[1]}}),u.touchData.cxtOver=ws,ws&&ws.emit({originalEvent:Ce,type:"cxtdragover",position:{x:Et[0],y:Et[1]}}))}else if(ft&&Ce.touches[2]&&xt.boxSelectionEnabled())Ce.preventDefault(),u.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,u.touchData.selecting||xt.emit({originalEvent:Ce,type:"boxstart",position:{x:Et[0],y:Et[1]}}),u.touchData.selecting=!0,u.touchData.didSelect=!0,kt[4]=1,kt&&0!==kt.length&&void 0!==kt[0]?(kt[2]=(Et[0]+Et[2]+Et[4])/3,kt[3]=(Et[1]+Et[3]+Et[5])/3):(kt[0]=(Et[0]+Et[2]+Et[4])/3,kt[1]=(Et[1]+Et[3]+Et[5])/3,kt[2]=(Et[0]+Et[2]+Et[4])/3+1,kt[3]=(Et[1]+Et[3]+Et[5])/3+1),u.redrawHint("select",!0),u.redraw();else if(ft&&Ce.touches[1]&&!u.touchData.didSelect&&xt.zoomingEnabled()&&xt.panningEnabled()&&xt.userZoomingEnabled()&&xt.userPanningEnabled()){if(Ce.preventDefault(),u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),Da=u.dragData.touchDragEles){u.redrawHint("drag",!0);for(var Cs=0;Cs<Da.length;Cs++){var ag=Da[Cs]._private;ag.grabbed=!1,ag.rscratch.inDragLayer=!1}}var Il,xa,al,is,au=u.touchData.start,Ry=wt(Il=Ce.touches[0].clientX-st,xa=Ce.touches[0].clientY-vt,al=Ce.touches[1].clientX-st,is=Ce.touches[1].clientY-vt),sg=Ry/Ge;if(Dt){var Ly=(Il-He+(al-Je))/2,nD=(xa-Ne+(is-Ue))/2,lg=xt.zoom(),Fy=lg*sg,$f=xt.pan(),ug=yt[0]*lg+$f.x,E_=yt[1]*lg+$f.y,rD={x:-Fy/lg*(ug-$f.x-Ly)+ug,y:-Fy/lg*(E_-$f.y-nD)+E_};au&&au.active()&&(Z(Da=u.dragData.touchDragEles),u.redrawHint("drag",!0),u.redrawHint("eles",!0),au.unactivate().emit("freeon"),Da.emit("free"),u.dragData.didDrag&&(au.emit("dragfreeon"),Da.emit("dragfree"))),xt.viewport({zoom:Fy,pan:rD,cancelOnFailedZoom:!0}),xt.emit("pinchzoom"),Ge=Ry,He=Il,Ne=xa,Je=al,Ue=is,u.pinching=!0}Ce.touches[0]&&(Tn=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY),Et[0]=Tn[0],Et[1]=Tn[1]),Ce.touches[1]&&(Tn=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),Et[2]=Tn[0],Et[3]=Tn[1]),Ce.touches[2]&&(Tn=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),Et[4]=Tn[0],Et[5]=Tn[1])}else if(Ce.touches[0]&&!u.touchData.didSelect){var sl=u.touchData.start,Am=u.touchData.last;if(!u.hoverData.draggingEles&&!u.swipePanning&&(ws=u.findNearestElement(Et[0],Et[1],!0,!0)),ft&&null!=sl&&Ce.preventDefault(),ft&&null!=sl&&u.nodeIsDraggable(sl))if(qr){var Da=u.dragData.touchDragEles,By=!u.dragData.didDrag;By&&W(Da,{inDragLayer:!0}),u.dragData.didDrag=!0;var Xh={x:0,y:0};qe(pr[0])&&qe(pr[1])&&(Xh.x+=pr[0],Xh.y+=pr[1],By)&&(u.redrawHint("eles",!0),(Al=u.touchData.dragDelta)&&qe(Al[0])&&qe(Al[1])&&(Xh.x+=Al[0],Xh.y+=Al[1])),u.hoverData.draggingEles=!0,Da.silentShift(Xh).emit("position drag"),u.redrawHint("drag",!0),u.touchData.startPosition[0]==vr[0]&&u.touchData.startPosition[1]==vr[1]&&u.redrawHint("eles",!0),u.redraw()}else{var Al;0===(Al=u.touchData.dragDelta=u.touchData.dragDelta||[]).length?(Al.push(pr[0]),Al.push(pr[1])):(Al[0]+=pr[0],Al[1]+=pr[1])}if(l(sl||ws,["touchmove","tapdrag","vmousemove"],Ce,{x:Et[0],y:Et[1]}),(!sl||!sl.grabbed())&&ws!=Am&&(Am&&Am.emit({originalEvent:Ce,type:"tapdragout",position:{x:Et[0],y:Et[1]}}),ws&&ws.emit({originalEvent:Ce,type:"tapdragover",position:{x:Et[0],y:Et[1]}})),u.touchData.last=ws,ft)for(Cs=0;Cs<Et.length;Cs++)Et[Cs]&&u.touchData.startPosition[Cs]&&qr&&(u.touchData.singleTouchMoved=!0);ft&&(null==sl||sl.pannable())&&xt.panningEnabled()&&xt.userPanningEnabled()&&(h(sl,u.touchData.starts)&&(Ce.preventDefault(),u.data.bgActivePosistion||(u.data.bgActivePosistion=ui(u.touchData.startPosition)),u.swipePanning?(xt.panBy({x:pr[0]*Gt,y:pr[1]*Gt}),xt.emit("dragpan")):qr&&(u.swipePanning=!0,xt.panBy({x:cr*Gt,y:to*Gt}),xt.emit("dragpan"),sl&&(sl.unactivate(),u.redrawHint("select",!0),u.touchData.start=null))),Tn=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY),Et[0]=Tn[0],Et[1]=Tn[1])}for(Zr=0;Zr<Et.length;Zr++)vr[Zr]=Et[Zr];ft&&Ce.touches.length>0&&!u.hoverData.draggingEles&&!u.swipePanning&&null!=u.data.bgActivePosistion&&(u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),u.redraw())}},!1),u.registerBinding(window,"touchcancel",Wt=function(Ce){var ft=u.touchData.start;u.touchData.capture=!1,ft&&ft.unactivate()}),u.registerBinding(window,"touchend",rn=function(Ce){var ft=u.touchData.start;if(u.touchData.capture){0===Ce.touches.length&&(u.touchData.capture=!1),Ce.preventDefault();var xt=u.selection;u.swipePanning=!1,u.hoverData.draggingEles=!1;var qr,Et=u.cy,vr=Et.zoom(),Gt=u.touchData.now,Tn=u.touchData.earlier;if(Ce.touches[0]){var Ur=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);Gt[0]=Ur[0],Gt[1]=Ur[1]}if(Ce.touches[1]&&(Ur=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),Gt[2]=Ur[0],Gt[3]=Ur[1]),Ce.touches[2]&&(Ur=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),Gt[4]=Ur[0],Gt[5]=Ur[1]),ft&&ft.unactivate(),u.touchData.cxt){if(qr={originalEvent:Ce,type:"cxttapend",position:{x:Gt[0],y:Gt[1]}},ft?ft.emit(qr):Et.emit(qr),!u.touchData.cxtDragged){var pr={originalEvent:Ce,type:"cxttap",position:{x:Gt[0],y:Gt[1]}};ft?ft.emit(pr):Et.emit(pr)}return u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxt=!1,u.touchData.start=null,void u.redraw()}if(!Ce.touches[2]&&Et.boxSelectionEnabled()&&u.touchData.selecting){u.touchData.selecting=!1;var Zr=Et.collection(u.getAllInBox(xt[0],xt[1],xt[2],xt[3]));xt[0]=void 0,xt[1]=void 0,xt[2]=void 0,xt[3]=void 0,xt[4]=0,u.redrawHint("select",!0),Et.emit({type:"boxend",originalEvent:Ce,position:{x:Gt[0],y:Gt[1]}}),Zr.emit("box").stdFilter(function(Kd){return Kd.selectable()&&!Kd.selected()}).select().emit("boxselect"),Zr.nonempty()&&u.redrawHint("eles",!0),u.redraw()}if(ft?.unactivate(),Ce.touches[2])u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);else if(!Ce.touches[1]&&!Ce.touches[0]&&!Ce.touches[0]){u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);var wr=u.dragData.touchDragEles;if(null!=ft){var to=ft._private.grabbed;Z(wr),u.redrawHint("drag",!0),u.redrawHint("eles",!0),to&&(ft.emit("freeon"),wr.emit("free"),u.dragData.didDrag&&(ft.emit("dragfreeon"),wr.emit("dragfree"))),l(ft,["touchend","tapend","vmouseup","tapdragout"],Ce,{x:Gt[0],y:Gt[1]}),ft.unactivate(),u.touchData.start=null}else{var no=u.findNearestElement(Gt[0],Gt[1],!0,!0);l(no,["touchend","tapend","vmouseup","tapdragout"],Ce,{x:Gt[0],y:Gt[1]})}var Ml=u.touchData.startPosition[0]-Gt[0],xa=u.touchData.startPosition[1]-Gt[1],Io=(Ml*Ml+xa*xa)*vr*vr;u.touchData.singleTouchMoved||(ft||Et.$(":selected").unselect(["tapunselect"]),l(ft,["tap","vclick"],Ce,{x:Gt[0],y:Gt[1]}),Xn=!1,Ce.timeStamp-sn<=Et.multiClickDebounceTime()?(ar&&clearTimeout(ar),Xn=!0,sn=null,l(ft,["dbltap","vdblclick"],Ce,{x:Gt[0],y:Gt[1]})):(ar=setTimeout(function(){Xn||l(ft,["onetap","voneclick"],Ce,{x:Gt[0],y:Gt[1]})},Et.multiClickDebounceTime()),sn=Ce.timeStamp)),null!=ft&&!u.dragData.didDrag&&ft._private.selectable&&Io<u.touchTapThreshold2&&!u.pinching&&("single"===Et.selectionType()?(Et.$(o).unmerge(ft).unselect(["tapunselect"]),ft.select(["tapselect"])):ft.selected()?ft.unselect(["tapunselect"]):ft.select(["tapselect"]),u.redrawHint("eles",!0)),u.touchData.singleTouchMoved=!0}for(var Ea=0;Ea<Gt.length;Ea++)Tn[Ea]=Gt[Ea];u.dragData.didDrag=!1,0===Ce.touches.length&&(u.touchData.dragDelta=[],u.touchData.startPosition=null,u.touchData.startGPosition=null,u.touchData.didSelect=!1),Ce.touches.length<2&&(1===Ce.touches.length&&(u.touchData.startGPosition=[Ce.touches[0].clientX,Ce.touches[0].clientY]),u.pinching=!1,u.redrawHint("eles",!0),u.redraw())}},!1),typeof TouchEvent>"u"){var Jt=[],Pn=function(Ce){return{clientX:Ce.clientX,clientY:Ce.clientY,force:1,identifier:Ce.pointerId,pageX:Ce.pageX,pageY:Ce.pageY,radiusX:Ce.width/2,radiusY:Ce.height/2,screenX:Ce.screenX,screenY:Ce.screenY,target:Ce.target}},Rn=function(Ce){for(var ft=0;ft<Jt.length;ft++)if(Jt[ft].event.pointerId===Ce.pointerId)return void Jt.splice(ft,1)},hr=function(Ce){Ce.touches=Jt.map(function(ft){return ft.touch})},$n=function(Ce){return"mouse"===Ce.pointerType||4===Ce.pointerType};u.registerBinding(u.container,"pointerdown",function(zt){$n(zt)||(zt.preventDefault(),Jt.push(function(Ce){return{event:Ce,touch:Pn(Ce)}}(zt)),hr(zt),Mt(zt))}),u.registerBinding(u.container,"pointerup",function(zt){$n(zt)||(Rn(zt),hr(zt),rn(zt))}),u.registerBinding(u.container,"pointercancel",function(zt){$n(zt)||(Rn(zt),hr(zt),Wt())}),u.registerBinding(u.container,"pointermove",function(zt){var Ce,ft;$n(zt)||(zt.preventDefault(),Ce=zt,(ft=Jt.filter(function(kt){return kt.event.pointerId===Ce.pointerId})[0]).event=Ce,ft.touch=Pn(Ce),hr(zt),Nt(zt))})}};var Qt={generatePolygon:function(u,o){return this.nodeShapes[u]={renderer:this,name:u,points:o,draw:function(f,h,p,g,_){this.renderer.nodeShapeImpl("polygon",f,h,p,g,_,this.points)},intersectLine:function(f,h,p,g,_,E,x){return Gl(_,E,this.points,f,h,p/2,g/2,x)},checkPoint:function(f,h,p,g,_,E,x){return ka(f,h,this.points,E,x,g,_,[0,-1],p)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,_){return function(o,l,f,h,p,g){var _=f-o,E=h-l;_/=p,E/=g;var x=Math.sqrt(_*_+E*E),M=x-1;if(M<0)return[];var F=M/x;return[(f-o)*F+o,(h-l)*F+l]}(p,g,o,l,f/2+_,h/2+_)},checkPoint:function(o,l,f,h,p,g,_){return Xa(o,l,h,p,g,_,f)}}},generateRoundPolygon:function(u,o){for(var l=new Array(2*o.length),f=0;f<o.length/2;f++){var p,h=2*f;p=f<o.length/2-1?2*(f+1):0,l[4*f]=o[h],l[4*f+1]=o[h+1];var g=o[p]-o[h],_=o[p+1]-o[h+1],E=Math.sqrt(g*g+_*_);l[4*f+2]=g/E,l[4*f+3]=_/E}return this.nodeShapes[u]={renderer:this,name:u,points:l,draw:function(M,F,U,W,j){this.renderer.nodeShapeImpl("round-polygon",M,F,U,W,j,this.points)},intersectLine:function(M,F,U,W,j,Z,J){return function(o,l,f,h,p,g,_,E){for(var M,x=[],F=new Array(f.length),U=g/2,W=_/2,j=uc(g,_),Z=0;Z<f.length/4;Z++){var re,J;J=0===Z?f.length-2:4*Z-2,re=4*Z+2;var fe=h+U*f[4*Z],he=p+W*f[4*Z+1],Me=j/Math.tan(Math.acos(-f[J]*f[re]-f[J+1]*f[re+1])/2),Ae=fe-Me*f[J],be=he-Me*f[J+1],Te=fe+Me*f[re],_e=he+Me*f[re+1];0===Z?(F[f.length-2]=Ae,F[f.length-1]=be):(F[4*Z-2]=Ae,F[4*Z-1]=be),F[4*Z]=Te,F[4*Z+1]=_e;var ke=f[J+1],Pe=-f[J];ke*f[re]+Pe*f[re+1]<0&&(ke*=-1,Pe*=-1),0!==(M=pl(o,l,h,p,Ae+ke*j,be+Pe*j,j)).length&&x.push(M[0],M[1])}for(var Je=0;Je<F.length/4;Je++)0!==(M=ls(o,l,h,p,F[4*Je],F[4*Je+1],F[4*Je+2],F[4*Je+3],!1)).length&&x.push(M[0],M[1]);if(x.length>2){for(var Ue=[x[0],x[1]],Ge=Math.pow(Ue[0]-o,2)+Math.pow(Ue[1]-l,2),ot=1;ot<x.length/2;ot++){var dt=Math.pow(x[2*ot]-o,2)+Math.pow(x[2*ot+1]-l,2);dt<=Ge&&(Ue[0]=x[2*ot],Ue[1]=x[2*ot+1],Ge=dt)}return Ue}return x}(j,Z,this.points,M,F,U,W)},checkPoint:function(M,F,U,W,j,Z,J){return function(o,l,f,h,p,g,_){for(var E=new Array(f.length),x=g/2,M=_/2,F=uc(g,_),U=F*F,W=0;W<f.length/4;W++){var Z,j;j=0===W?f.length-2:4*W-2,Z=4*W+2;var J=h+x*f[4*W],re=p+M*f[4*W+1],he=F/Math.tan(Math.acos(-f[j]*f[Z]-f[j+1]*f[Z+1])/2),ye=J-he*f[j],Me=re-he*f[j+1],Ae=J+he*f[Z],be=re+he*f[Z+1];E[4*W]=ye,E[4*W+1]=Me,E[4*W+2]=Ae,E[4*W+3]=be;var Te=f[j+1],_e=-f[j];Te*f[Z]+_e*f[Z+1]<0&&(Te*=-1,_e*=-1);var xe=Me+_e*F;if(Math.pow(ye+Te*F-o,2)+Math.pow(xe-l,2)<=U)return!0}return Ko(o,l,E)}(M,F,this.points,Z,J,W,j)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:qo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,_){return an(p,g,o,l,f,h,_)},checkPoint:function(o,l,f,h,p,g,_){var E=_u(h,p),x=2*E;return!!(ka(o,l,this.points,g,_,h,p-x,[0,-1],f)||ka(o,l,this.points,g,_,h-x,p,[0,-1],f)||Xa(o,l,x,x,g-h/2+E,_-p/2+E,f)||Xa(o,l,x,x,g+h/2-E,_-p/2+E,f)||Xa(o,l,x,x,g+h/2-E,_+p/2-E,f)||Xa(o,l,x,x,g-h/2+E,_+p/2-E,f))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:qo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},generateCutTrianglePts:function(o,l,f,h){var p=this.cornerLength,g=l/2,_=o/2,E=f-_,x=f+_,M=h-g,F=h+g;return{topLeft:[E,M+p,E+p,M,E+p,M+p],topRight:[x-p,M,x,M+p,x-p,M+p],bottomRight:[x,F-p,x-p,F,x-p,F-p],bottomLeft:[E+p,F,E,F-p,E+p,F-p]}},intersectLine:function(o,l,f,h,p,g,_){var E=this.generateCutTrianglePts(f+2*_,h+2*_,o,l),x=[].concat.apply([],[E.topLeft.splice(0,4),E.topRight.splice(0,4),E.bottomRight.splice(0,4),E.bottomLeft.splice(0,4)]);return Gl(p,g,x,o,l)},checkPoint:function(o,l,f,h,p,g,_){if(ka(o,l,this.points,g,_,h,p-2*this.cornerLength,[0,-1],f)||ka(o,l,this.points,g,_,h-2*this.cornerLength,p,[0,-1],f))return!0;var E=this.generateCutTrianglePts(h,p,g,_);return Ko(o,l,E.topLeft)||Ko(o,l,E.topRight)||Ko(o,l,E.bottomRight)||Ko(o,l,E.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:qo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,_){var F=this.generateBarrelBezierPts(f+2*_,h+2*_,o,l),U=function(Z){var J=vo({x:Z[0],y:Z[1]},{x:Z[2],y:Z[3]},{x:Z[4],y:Z[5]},.15),re=vo({x:Z[0],y:Z[1]},{x:Z[2],y:Z[3]},{x:Z[4],y:Z[5]},.5),fe=vo({x:Z[0],y:Z[1]},{x:Z[2],y:Z[3]},{x:Z[4],y:Z[5]},.85);return[Z[0],Z[1],J.x,J.y,re.x,re.y,fe.x,fe.y,Z[4],Z[5]]},W=[].concat(U(F.topLeft),U(F.topRight),U(F.bottomRight),U(F.bottomLeft));return Gl(p,g,W,o,l)},generateBarrelBezierPts:function(o,l,f,h){var p=l/2,g=o/2,_=f-g,E=f+g,x=h-p,M=h+p,F=fh(o,l),U=F.heightOffset,W=F.widthOffset,j=F.ctrlPtOffsetPct*o,Z={topLeft:[_,x+U,_+j,x,_+W,x],topRight:[E-W,x,E-j,x,E,x+U],bottomRight:[E,M-U,E-j,M,E-W,M],bottomLeft:[_+W,M,_+j,M,_,M-U]};return Z.topLeft.isTop=!0,Z.topRight.isTop=!0,Z.bottomLeft.isBottom=!0,Z.bottomRight.isBottom=!0,Z},checkPoint:function(o,l,f,h,p,g,_){var E=fh(h,p),M=E.widthOffset;if(ka(o,l,this.points,g,_,h,p-2*E.heightOffset,[0,-1],f)||ka(o,l,this.points,g,_,h-2*M,p,[0,-1],f))return!0;for(var F=this.generateBarrelBezierPts(h,p,g,_),U=function(be,Te,_e){var ke=_e[4],Pe=_e[2],xe=_e[0],He=_e[5],Ne=_e[1],Je=Math.min(ke,xe),Ue=Math.max(ke,xe),Ge=Math.min(He,Ne),ot=Math.max(He,Ne);if(Je<=be&&be<=Ue&&Ge<=Te&&Te<=ot){var dt=function(o,l,f){return[o-2*l+f,2*(l-o),o]}(ke,Pe,xe),yt=function(o,l,f,h){var p=l*l-4*o*(f-=h);if(p<0)return[];var g=Math.sqrt(p),_=2*o;return[(-l+g)/_,(-l-g)/_]}(dt[0],dt[1],dt[2],be),st=yt.filter(function(vt){return 0<=vt&&vt<=1});if(st.length>0)return st[0]}return null},W=Object.keys(F),j=0;j<W.length;j++){var J=F[W[j]],re=U(o,l,J);if(null!=re){var Me=di(J[5],J[3],J[1],re);if(J.isTop&&Me<=l||J.isBottom&&l<=Me)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:qo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,_){var x=l-(h/2+_),U=ls(p,g,o,l,o-(f/2+_),x,o+(f/2+_),x,!1);return U.length>0?U:an(p,g,o,l,f,h,_)},checkPoint:function(o,l,f,h,p,g,_){var E=_u(h,p),x=2*E;if(ka(o,l,this.points,g,_,h,p-x,[0,-1],f)||ka(o,l,this.points,g,_,h-x,p,[0,-1],f))return!0;var M=h/2+2*f,F=p/2+2*f;return!!(Ko(o,l,[g-M,_-F,g-M,_,g+M,_,g+M,_-F])||Xa(o,l,x,x,g+h/2-E,_+p/2-E,f)||Xa(o,l,x,x,g-h/2+E,_+p/2-E,f))}}},registerNodeShapes:function(){var u=this.nodeShapes={},o=this;this.generateEllipse(),this.generatePolygon("triangle",qo(3,0)),this.generateRoundPolygon("round-triangle",qo(3,0)),this.generatePolygon("rectangle",qo(4,0)),u.square=u.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var l=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",l),this.generateRoundPolygon("round-diamond",l),this.generatePolygon("pentagon",qo(5,0)),this.generateRoundPolygon("round-pentagon",qo(5,0)),this.generatePolygon("hexagon",qo(6,0)),this.generateRoundPolygon("round-hexagon",qo(6,0)),this.generatePolygon("heptagon",qo(7,0)),this.generateRoundPolygon("round-heptagon",qo(7,0)),this.generatePolygon("octagon",qo(8,0)),this.generateRoundPolygon("round-octagon",qo(8,0));var f=new Array(20),h=bu(5,0),p=bu(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var _=0;_<p.length/2;_++)p[2*_]*=g,p[2*_+1]*=g;for(_=0;_<5;_++)f[4*_]=h[2*_],f[4*_+1]=h[2*_+1],f[4*_+2]=p[2*_],f[4*_+3]=p[2*_+1];f=lc(f),this.generatePolygon("star",f),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var E=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",E),this.generateRoundPolygon("round-tag",E),u.makePolygon=function(x){var U,F="polygon-"+x.join("$");return(U=this[F])?U:o.generatePolygon(F,x)}}},Xt={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(u){u=u||xn();var o=this;void 0===o.averageRedrawTime&&(o.averageRedrawTime=0),void 0===o.lastRedrawTime&&(o.lastRedrawTime=0),void 0===o.lastDrawTime&&(o.lastDrawTime=0),o.requestedFrame=!0,o.renderOptions=u},beforeRender:function(u,o){if(!this.destroyed){null==o&&ri("Priority is not optional for beforeRender");var l=this.beforeRenderCallbacks;l.push({fn:u,priority:o}),l.sort(function(f,h){return h.priority-f.priority})}}},$t=function(o,l,f){for(var h=o.beforeRenderCallbacks,p=0;p<h.length;p++)h[p].fn(l,f)};Xt.startRenderLoop=function(){var u=this,o=u.cy;u.renderLoopStarted||(u.renderLoopStarted=!0,mu(function f(h){if(!u.destroyed){if(!o.batching())if(u.requestedFrame&&!u.skipFrame){$t(u,!0,h);var p=Ti();u.render(u.renderOptions);var g=u.lastDrawTime=Ti();void 0===u.averageRedrawTime&&(u.averageRedrawTime=g-p),void 0===u.redrawCount&&(u.redrawCount=0),u.redrawCount++,void 0===u.redrawTotalTime&&(u.redrawTotalTime=0);var _=g-p;u.redrawTotalTime+=_,u.lastRedrawTime=_,u.averageRedrawTime=u.averageRedrawTime/2+_/2,u.requestedFrame=!1}else $t(u,!1,h);u.skipFrame=!1,mu(f)}}))};var En=function(o){this.init(o)},nr=En.prototype;nr.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],nr.init=function(u){var o=this;o.options=u,o.cy=u.cy;var l=o.container=u.cy.container();if(oe){var f=oe.document,h=f.head,p="__________cytoscape_stylesheet",g="__________cytoscape_container",_=null!=f.getElementById(p);if(l.className.indexOf(g)<0&&(l.className=(l.className||"")+" "+g),!_){var E=f.createElement("style");E.id=p,E.textContent="."+g+" { position: relative; }",h.insertBefore(E,h.children[0])}"static"===oe.getComputedStyle(l).getPropertyValue("position")&&Tr("A Cytoscape container has style position:static and so can not use UI extensions properly")}o.selection=[void 0,void 0,void 0,void 0,0],o.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],o.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},o.dragData={possibleDragElements:[]},o.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},o.redraws=0,o.showFps=u.showFps,o.debug=u.debug,o.hideEdgesOnViewport=u.hideEdgesOnViewport,o.textureOnViewport=u.textureOnViewport,o.wheelSensitivity=u.wheelSensitivity,o.motionBlurEnabled=u.motionBlur,o.forcedPixelRatio=qe(u.pixelRatio)?u.pixelRatio:null,o.motionBlur=u.motionBlur,o.motionBlurOpacity=u.motionBlurOpacity,o.motionBlurTransparency=1-o.motionBlurOpacity,o.motionBlurPxRatio=1,o.mbPxRBlurry=1,o.minMbLowQualFrames=4,o.fullQualityMb=!1,o.clearedForMotionBlur=[],o.desktopTapThreshold=u.desktopTapThreshold,o.desktopTapThreshold2=u.desktopTapThreshold*u.desktopTapThreshold,o.touchTapThreshold=u.touchTapThreshold,o.touchTapThreshold2=u.touchTapThreshold*u.touchTapThreshold,o.tapholdDuration=500,o.bindings=[],o.beforeRenderCallbacks=[],o.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},o.registerNodeShapes(),o.registerArrowShapes(),o.registerCalculationListeners()},nr.notify=function(u,o){var l=this,f=l.cy;if(!this.destroyed){if("init"===u)return void l.load();if("destroy"===u)return void l.destroy();("add"===u||"remove"===u||"move"===u&&f.hasCompoundNodes()||"load"===u||"zorder"===u||"mount"===u)&&l.invalidateCachedZSortedEles(),"viewport"===u&&l.redrawHint("select",!0),("load"===u||"resize"===u||"mount"===u)&&(l.invalidateContainerClientCoordsCache(),l.matchCanvasSize(l.container)),l.redrawHint("eles",!0),l.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},nr.destroy=function(){var u=this;u.destroyed=!0,u.cy.stopAnimationLoop();for(var o=0;o<u.bindings.length;o++){var l=u.bindings[o],h=l.target;(h.off||h.removeEventListener).apply(h,l.args)}if(u.bindings=[],u.beforeRenderCallbacks=[],u.onUpdateEleCalcsFns=[],u.removeObserver&&u.removeObserver.disconnect(),u.styleObserver&&u.styleObserver.disconnect(),u.resizeObserver&&u.resizeObserver.disconnect(),u.labelCalcDiv)try{document.body.removeChild(u.labelCalcDiv)}catch{}},nr.isHeadless=function(){return!1},[Ci,_t,Ut,jt,Qt,Xt].forEach(function(u){Nn(nr,u)});var fr=1e3/60,Ai_setupDequeueing=function(o){return function(){var f=this,h=this.renderer;if(!f.dequeueingSetup){f.dequeueingSetup=!0;var p=N.default(function(){h.redrawHint("eles",!0),h.redrawHint("drag",!0),h.redraw()},o.deqRedrawThreshold);h.beforeRender(function(x,M){var F=Ti(),U=h.averageRedrawTime,W=h.lastRedrawTime,j=[],Z=h.cy.extent(),J=h.getPixelRatio();for(x||h.flushRenderedStyleQueue();;){var re=Ti(),fe=re-F,he=re-M;if(W<fr){if(he>=o.deqFastCost*(fr-(x?U:0)))break}else if(x){if(fe>=o.deqCost*W||fe>=o.deqAvgCost*U)break}else if(he>=o.deqNoDrawCost*fr)break;var Me=o.deq(f,J,Z);if(!(Me.length>0))break;for(var Ae=0;Ae<Me.length;Ae++)j.push(Me[Ae])}j.length>0&&(o.onDeqd(f,j),!x&&o.shouldRedraw(f,j,J,Z)&&p())},(o.priority||rd)(f))}}},xi=function(){function u(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Is;$(this,u),this.idsByKey=new Tt,this.keyForId=new Tt,this.cachesByLvl=new Tt,this.lvls=[],this.getKey=o,this.doesEleInvalidateKey=l}return ue(u,[{key:"getIdsFor",value:function(l){null==l&&ri("Can not get id list for null key");var f=this.idsByKey,h=this.idsByKey.get(l);return h||(h=new As,f.set(l,h)),h}},{key:"addIdForKey",value:function(l,f){null!=l&&this.getIdsFor(l).add(f)}},{key:"deleteIdForKey",value:function(l,f){null!=l&&this.getIdsFor(l).delete(f)}},{key:"getNumberOfIdsForKey",value:function(l){return null==l?0:this.getIdsFor(l).size}},{key:"updateKeyMappingFor",value:function(l){var f=l.id(),h=this.keyForId.get(f),p=this.getKey(l);this.deleteIdForKey(h,f),this.addIdForKey(p,f),this.keyForId.set(f,p)}},{key:"deleteKeyMappingFor",value:function(l){var f=l.id(),h=this.keyForId.get(f);this.deleteIdForKey(h,f),this.keyForId.delete(f)}},{key:"keyHasChangedFor",value:function(l){var f=l.id();return this.keyForId.get(f)!==this.getKey(l)}},{key:"isInvalid",value:function(l){return this.keyHasChangedFor(l)||this.doesEleInvalidateKey(l)}},{key:"getCachesAt",value:function(l){var f=this.cachesByLvl,h=this.lvls,p=f.get(l);return p||(p=new Tt,f.set(l,p),h.push(l)),p}},{key:"getCache",value:function(l,f){return this.getCachesAt(f).get(l)}},{key:"get",value:function(l,f){var h=this.getKey(l),p=this.getCache(h,f);return null!=p&&this.updateKeyMappingFor(l),p}},{key:"getForCachedKey",value:function(l,f){var h=this.keyForId.get(l.id());return this.getCache(h,f)}},{key:"hasCache",value:function(l,f){return this.getCachesAt(f).has(l)}},{key:"has",value:function(l,f){var h=this.getKey(l);return this.hasCache(h,f)}},{key:"setCache",value:function(l,f,h){h.key=l,this.getCachesAt(f).set(l,h)}},{key:"set",value:function(l,f,h){var p=this.getKey(l);this.setCache(p,f,h),this.updateKeyMappingFor(l)}},{key:"deleteCache",value:function(l,f){this.getCachesAt(f).delete(l)}},{key:"delete",value:function(l,f){var h=this.getKey(l);this.deleteCache(h,f)}},{key:"invalidateKey",value:function(l){var f=this;this.lvls.forEach(function(h){return f.deleteCache(l,h)})}},{key:"invalidate",value:function(l){var f=l.id(),h=this.keyForId.get(f);this.deleteKeyMappingFor(l);var p=this.doesEleInvalidateKey(l);return p&&this.invalidateKey(h),p||0===this.getNumberOfIdsForKey(h)}}]),u}(),Ni={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Oc=li({getKey:null,doesEleInvalidateKey:Is,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:nc,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),ns=function(o,l){var f=this;f.renderer=o,f.onDequeues=[];var h=Oc(l);Nn(f,h),f.lookup=new xi(h.getKey,h.doesEleInvalidateKey),f.setupDequeueing()},Jo=ns.prototype;Jo.reasons=Ni,Jo.getTextureQueue=function(u){var o=this;return o.eleImgCaches=o.eleImgCaches||{},o.eleImgCaches[u]=o.eleImgCaches[u]||[]},Jo.getRetiredTextureQueue=function(u){var l=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return l[u]=l[u]||[]},Jo.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new A.default(function(l,f){return f.reqs-l.reqs})},Jo.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Jo.getElement=function(u,o,l,f,h){var p=this,g=this.renderer,_=g.cy.zoom(),E=this.lookup;if(!o||0===o.w||0===o.h||isNaN(o.w)||isNaN(o.h)||!u.visible()||u.removed()||!p.allowEdgeTxrCaching&&u.isEdge()||!p.allowParentTxrCaching&&u.isParent())return null;if(null==f&&(f=Math.ceil(Hi(_*l))),f<-4)f=-4;else if(_>=7.99||f>3)return null;var x=Math.pow(2,f),M=o.h*x,F=o.w*x,U=g.eleTextBiggerThanMin(u,x);if(!this.isVisible(u,U))return null;var j,W=E.get(u,f);if(W&&W.invalidated&&(W.invalidated=!1,W.texture.invalidatedWidth-=W.width),W)return W;if(j=M<=25?25:M<=50?50:50*Math.ceil(M/50),M>1024||F>1024)return null;var Z=p.getTextureQueue(j),J=Z[Z.length-2],re=function(){return p.recycleTexture(j,F)||p.addTexture(j,F)};J||(J=Z[Z.length-1]),J||(J=re()),J.width-J.usedWidth<F&&(J=re());for(var Ae,fe=function(Ue){return Ue&&Ue.scaledLabelShown===U},he=h&&h===Ni.dequeue,ye=h&&h===Ni.highQuality,Me=h&&h===Ni.downscale,be=f+1;be<=3;be++){var Te=E.get(u,be);if(Te){Ae=Te;break}}var _e=Ae&&Ae.level===f+1?Ae:null,ke=function(){J.context.drawImage(_e.texture.canvas,_e.x,0,_e.width,_e.height,J.usedWidth,0,F,M)};if(J.context.setTransform(1,0,0,1,0,0),J.context.clearRect(J.usedWidth,0,F,j),fe(_e))ke();else if(fe(Ae)){if(!ye)return p.queueElement(u,Ae.level-1),Ae;for(var Pe=Ae.level;Pe>f;Pe--)_e=p.getElement(u,o,l,Pe,Ni.downscale);ke()}else{var xe;if(!he&&!ye&&!Me)for(var He=f-1;He>=-4;He--){var Ne=E.get(u,He);if(Ne){xe=Ne;break}}if(fe(xe))return p.queueElement(u,f),xe;J.context.translate(J.usedWidth,0),J.context.scale(x,x),this.drawElement(J.context,u,o,U,!1),J.context.scale(1/x,1/x),J.context.translate(-J.usedWidth,0)}return W={x:J.usedWidth,texture:J,level:f,scale:x,width:F,height:M,scaledLabelShown:U},J.usedWidth+=Math.ceil(F+8),J.eleCaches.push(W),E.set(u,f,W),p.checkTextureFullness(J),W},Jo.invalidateElements=function(u){for(var o=0;o<u.length;o++)this.invalidateElement(u[o])},Jo.invalidateElement=function(u){var o=this,l=o.lookup,f=[];if(l.isInvalid(u)){for(var p=-4;p<=3;p++){var g=l.getForCachedKey(u,p);g&&f.push(g)}if(l.invalidate(u))for(var E=0;E<f.length;E++){var x=f[E],M=x.texture;M.invalidatedWidth+=x.width,x.invalidated=!0,o.checkTextureUtility(M)}o.removeFromQueue(u)}},Jo.checkTextureUtility=function(u){u.invalidatedWidth>=.2*u.width&&this.retireTexture(u)},Jo.checkTextureFullness=function(u){var l=this.getTextureQueue(u.height);u.usedWidth/u.width>.8&&u.fullnessChecks>=10?$a(l,u):u.fullnessChecks++},Jo.retireTexture=function(u){var l=u.height,f=this.getTextureQueue(l),h=this.lookup;$a(f,u),u.retired=!0;for(var p=u.eleCaches,g=0;g<p.length;g++){var _=p[g];h.deleteCache(_.key,_.level)}Ro(p),this.getRetiredTextureQueue(l).push(u)},Jo.addTexture=function(u,o){var h={};return this.getTextureQueue(u).push(h),h.eleCaches=[],h.height=u,h.width=Math.max(1024,o),h.usedWidth=0,h.invalidatedWidth=0,h.fullnessChecks=0,h.canvas=this.renderer.makeOffscreenCanvas(h.width,h.height),h.context=h.canvas.getContext("2d"),h},Jo.recycleTexture=function(u,o){for(var f=this.getTextureQueue(u),h=this.getRetiredTextureQueue(u),p=0;p<h.length;p++){var g=h[p];if(g.width>=o)return g.retired=!1,g.usedWidth=0,g.invalidatedWidth=0,g.fullnessChecks=0,Ro(g.eleCaches),g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(0,0,g.width,g.height),$a(h,g),f.push(g),g}},Jo.queueElement=function(u,o){var f=this.getElementQueue(),h=this.getElementKeyToQueue(),p=this.getKey(u),g=h[p];if(g)g.level=Math.max(g.level,o),g.eles.merge(u),g.reqs++,f.updateItem(g);else{var _={eles:u.spawn().merge(u),level:o,reqs:1,key:p};f.push(_),h[p]=_}},Jo.dequeue=function(u){for(var o=this,l=o.getElementQueue(),f=o.getElementKeyToQueue(),h=[],p=o.lookup,g=0;g<1&&l.size()>0;g++){var _=l.pop(),E=_.key,x=_.eles[0],M=p.hasCache(x,_.level);if(f[E]=null,!M){h.push(_);var F=o.getBoundingBox(x);o.getElement(x,F,u,_.level,Ni.dequeue)}}return h},Jo.removeFromQueue=function(u){var l=this.getElementQueue(),f=this.getElementKeyToQueue(),h=this.getKey(u),p=f[h];null!=p&&(1===p.eles.length?(p.reqs=tc,l.updateItem(p),l.pop(),f[h]=null):p.eles.unmerge(u))},Jo.onDequeue=function(u){this.onDequeues.push(u)},Jo.offDequeue=function(u){$a(this.onDequeues,u)},Jo.setupDequeueing=Ai_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l,f){return o.dequeue(l,f)},onDeqd:function(o,l){for(var f=0;f<o.onDequeues.length;f++)(0,o.onDequeues[f])(l)},shouldRedraw:function(o,l,f,h){for(var p=0;p<l.length;p++)for(var g=l[p].eles,_=0;_<g.length;_++){var E=g[_].boundingBox();if(tr(E,h))return!0}return!1},priority:function(o){return o.renderer.beforeRenderPriorities.eleTxrDeq}});var h_=function(o){var l=this,f=l.renderer=o,h=f.cy;l.layersByLevel={},l.firstGet=!0,l.lastInvalidationTime=Ti()-500,l.skipping=!1,l.eleTxrDeqs=h.collection(),l.scheduleElementRefinement=N.default(function(){l.refineElementTextures(l.eleTxrDeqs),l.eleTxrDeqs.unmerge(l.eleTxrDeqs)},50),f.beforeRender(function(g,_){l.skipping=_-l.lastInvalidationTime<=250},f.beforeRenderPriorities.lyrTxrSkip),l.layersQueue=new A.default(function(_,E){return E.reqs-_.reqs}),l.setupDequeueing()},Ca=h_.prototype,xy=0,p_=Math.pow(2,53)-1;Ca.makeLayer=function(u,o){var l=Math.pow(2,o),f=Math.ceil(u.w*l),h=Math.ceil(u.h*l),p=this.renderer.makeOffscreenCanvas(f,h),g={id:xy=++xy%p_,bb:u,level:o,width:f,height:h,canvas:p,context:p.getContext("2d"),eles:[],elesQueue:[],reqs:0},_=g.context,E=-g.bb.x1,x=-g.bb.y1;return _.scale(l,l),_.translate(E,x),g},Ca.getLayers=function(u,o,l){var f=this,g=f.renderer.cy.zoom(),_=f.firstGet;if(f.firstGet=!1,null==l)if((l=Math.ceil(Hi(g*o)))<-4)l=-4;else if(g>=3.99||l>2)return null;f.validateLayersElesOrdering(l,u);var F,W,E=f.layersByLevel,x=Math.pow(2,l),M=E[l]=E[l]||[];if(f.levelIsComplete(l,u))return M;!function(){var ke=function(Je){if(f.validateLayersElesOrdering(Je,u),f.levelIsComplete(Je,u))return W=E[Je],!0},Pe=function(Je){if(!W)for(var Ue=l+Je;-4<=Ue&&Ue<=2&&!ke(Ue);Ue+=Je);};Pe(1),Pe(-1);for(var xe=M.length-1;xe>=0;xe--){var He=M[xe];He.invalid&&$a(M,He)}}();var J=function(ke){var Pe=(ke=ke||{}).after;if(function(){if(!F){F=Mi();for(var ke=0;ke<u.length;ke++)zl(F,u[ke].boundingBox())}}(),F.w*x*(F.h*x)>16e6)return null;var He=f.makeLayer(F,l);if(null!=Pe){var Ne=M.indexOf(Pe)+1;M.splice(Ne,0,He)}else(void 0===ke.insert||ke.insert)&&M.unshift(He);return He};if(f.skipping&&!_)return null;for(var re=null,fe=u.length/1,he=!_,ye=0;ye<u.length;ye++){var Me=u[ye],Ae=Me._private.rscratch,be=Ae.imgLayerCaches=Ae.imgLayerCaches||{},Te=be[l];if(Te)re=Te;else{if((!re||re.eles.length>=fe||!ad(re.bb,Me.boundingBox()))&&!(re=J({insert:!0,after:re})))return null;W||he?f.queueLayer(re,Me):f.drawEleInLayer(re,Me,l,o),re.eles.push(Me),be[l]=re}}return W||(he?null:M)},Ca.getEleLevelForLayerLevel=function(u,o){return u},Ca.drawEleInLayer=function(u,o,l,f){var p=this.renderer,g=u.context,_=o.boundingBox();0===_.w||0===_.h||!o.visible()||(l=this.getEleLevelForLayerLevel(l,f),p.setImgSmoothing(g,!1),p.drawCachedElement(g,o,null,null,l,!0),p.setImgSmoothing(g,!0))},Ca.levelIsComplete=function(u,o){var f=this.layersByLevel[u];if(!f||0===f.length)return!1;for(var h=0,p=0;p<f.length;p++){var g=f[p];if(g.reqs>0||g.invalid)return!1;h+=g.eles.length}return h===o.length},Ca.validateLayersElesOrdering=function(u,o){var l=this.layersByLevel[u];if(l)for(var f=0;f<l.length;f++){for(var h=l[f],p=-1,g=0;g<o.length;g++)if(h.eles[0]===o[g]){p=g;break}if(p<0)this.invalidateLayer(h);else{var _=p;for(g=0;g<h.eles.length;g++)if(h.eles[g]!==o[_+g]){this.invalidateLayer(h);break}}}},Ca.updateElementsInLayers=function(u,o){for(var f=vn(u[0]),h=0;h<u.length;h++)for(var p=f?null:u[h],g=f?u[h]:u[h].ele,_=g._private.rscratch,E=_.imgLayerCaches=_.imgLayerCaches||{},x=-4;x<=2;x++){var M=E[x];M&&(p&&this.getEleLevelForLayerLevel(M.level)!==p.level||o(M,g,p))}},Ca.haveLayers=function(){for(var o=!1,l=-4;l<=2;l++){var f=this.layersByLevel[l];if(f&&f.length>0){o=!0;break}}return o},Ca.invalidateElements=function(u){var o=this;0!==u.length&&(o.lastInvalidationTime=Ti(),0!==u.length&&o.haveLayers()&&o.updateElementsInLayers(u,function(f,h,p){o.invalidateLayer(f)}))},Ca.invalidateLayer=function(u){if(this.lastInvalidationTime=Ti(),!u.invalid){var o=u.level,l=u.eles;$a(this.layersByLevel[o],u),u.elesQueue=[],u.invalid=!0,u.replacement&&(u.replacement.invalid=!0);for(var h=0;h<l.length;h++){var p=l[h]._private.rscratch.imgLayerCaches;p&&(p[o]=null)}}},Ca.refineElementTextures=function(u){var o=this;o.updateElementsInLayers(u,function(f,h,p){var g=f.replacement;if(g||((g=f.replacement=o.makeLayer(f.bb,f.level)).replaces=f,g.eles=f.eles),!g.reqs)for(var _=0;_<g.eles.length;_++)o.queueLayer(g,g.eles[_])})},Ca.enqueueElementRefinement=function(u){this.eleTxrDeqs.merge(u),this.scheduleElementRefinement()},Ca.queueLayer=function(u,o){var f=this.layersQueue,h=u.elesQueue,p=h.hasId=h.hasId||{};if(!u.replacement){if(o){if(p[o.id()])return;h.push(o),p[o.id()]=!0}u.reqs?(u.reqs++,f.updateItem(u)):(u.reqs=1,f.push(u))}},Ca.dequeue=function(u){for(var o=this,l=o.layersQueue,f=[],h=0;h<1&&0!==l.size();){var p=l.peek();if(p.replacement)l.pop();else if(p.replaces&&p!==p.replaces.replacement)l.pop();else if(p.invalid)l.pop();else{var g=p.elesQueue.shift();g&&(o.drawEleInLayer(p,g,p.level,u),h++),0===f.length&&f.push(!0),0===p.elesQueue.length&&(l.pop(),p.reqs=0,p.replaces&&o.applyLayerReplacement(p),o.requestRedraw())}}return f},Ca.applyLayerReplacement=function(u){var l=this.layersByLevel[u.level],f=u.replaces,h=l.indexOf(f);if(!(h<0||f.invalid)){l[h]=u;for(var p=0;p<u.eles.length;p++){var g=u.eles[p]._private,_=g.imgLayerCaches=g.imgLayerCaches||{};_&&(_[u.level]=u)}this.requestRedraw()}},Ca.requestRedraw=N.default(function(){var u=this.renderer;u.redrawHint("eles",!0),u.redrawHint("drag",!0),u.redraw()},100),Ca.setupDequeueing=Ai_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l){return o.dequeue(l)},onDeqd:rd,shouldRedraw:nc,priority:function(o){return o.renderer.beforeRenderPriorities.lyrTxrDeq}});var xm,Gh={};function g_(u,o){for(var l=0;l<o.length;l++){var f=o[l];u.lineTo(f.x,f.y)}}function Ey(u,o,l){for(var f,h=0;h<o.length;h++){var p=o[h];0===h&&(f=p),u.lineTo(p.x,p.y)}u.quadraticCurveTo(l.x,l.y,f.x,f.y)}function m_(u,o,l){u.beginPath&&u.beginPath();for(var f=o,h=0;h<f.length;h++)u.lineTo((p=f[h]).x,p.y);var g=l,_=l[0];for(u.moveTo(_.x,_.y),h=1;h<g.length;h++){var p;u.lineTo((p=g[h]).x,p.y)}u.closePath&&u.closePath()}function Dy(u,o,l,f,h){u.beginPath&&u.beginPath(),u.arc(l,f,h,0,2*Math.PI,!1);var p=o,g=p[0];u.moveTo(g.x,g.y);for(var _=0;_<p.length;_++){var E=p[_];u.lineTo(E.x,E.y)}u.closePath&&u.closePath()}function JE(u,o,l,f){u.arc(o,l,f,0,2*Math.PI,!1)}Gh.arrowShapeImpl=function(u){return(xm||(xm={polygon:g_,"triangle-backcurve":Ey,"triangle-tee":m_,"circle-triangle":Dy,"triangle-cross":m_,circle:JE}))[u]};var ou={drawElement:function(u,o,l,f,h,p){o.isNode()?this.drawNode(u,o,l,f,h,p):this.drawEdge(u,o,l,f,h,p)},drawElementOverlay:function(u,o){o.isNode()?this.drawNodeOverlay(u,o):this.drawEdgeOverlay(u,o)},drawElementUnderlay:function(u,o){o.isNode()?this.drawNodeUnderlay(u,o):this.drawEdgeUnderlay(u,o)},drawCachedElementPortion:function(u,o,l,f,h,p,g,_){var E=this,x=l.getBoundingBox(o);if(0!==x.w&&0!==x.h){var M=l.getElement(o,x,f,h,p);if(null!=M){var F=_(E,o);if(0===F)return;var re,fe,he,ye,Me,Te,U=g(E,o),W=x.x1,j=x.y1,Z=x.w,J=x.h;if(0!==U){var Ae=l.getRotationPoint(o);u.translate(he=Ae.x,ye=Ae.y),u.rotate(U),(Me=E.getImgSmoothing(u))||E.setImgSmoothing(u,!0);var be=l.getRotationOffset(o);re=be.x,fe=be.y}else re=W,fe=j;1!==F&&(u.globalAlpha=(Te=u.globalAlpha)*F),u.drawImage(M.texture.canvas,M.x,0,M.width,M.height,re,fe,Z,J),1!==F&&(u.globalAlpha=Te),0!==U&&(u.rotate(-U),u.translate(-he,-ye),Me||E.setImgSmoothing(u,!1))}else l.drawElement(u,o)}}},v_=function(){return 0},Em=function(o,l){return o.getTextAngle(l,null)},eD=function(o,l){return o.getTextAngle(l,"source")},tD=function(o,l){return o.getTextAngle(l,"target")},Dm=function(o,l){return l.effectiveOpacity()},Sy=function(o,l){return l.pstyle("text-opacity").pfValue*l.effectiveOpacity()};ou.drawCachedElement=function(u,o,l,f,h,p){var g=this,_=g.data,E=_.eleTxrCache,x=_.lblTxrCache,M=_.slbTxrCache,F=_.tlbTxrCache,U=o.boundingBox(),W=!0===p?E.reasons.highQuality:null;if(0!==U.w&&0!==U.h&&o.visible()&&(!f||tr(U,f))){var j=o.isEdge(),Z=o.element()._private.rscratch.badLine;g.drawElementUnderlay(u,o),g.drawCachedElementPortion(u,o,E,l,h,W,v_,Dm),(!j||!Z)&&g.drawCachedElementPortion(u,o,x,l,h,W,Em,Sy),j&&!Z&&(g.drawCachedElementPortion(u,o,M,l,h,W,eD,Sy),g.drawCachedElementPortion(u,o,F,l,h,W,tD,Sy)),g.drawElementOverlay(u,o)}},ou.drawElements=function(u,o){for(var f=0;f<o.length;f++)this.drawElement(u,o[f])},ou.drawCachedElements=function(u,o,l,f){for(var p=0;p<o.length;p++)this.drawCachedElement(u,o[p],l,f)},ou.drawCachedNodes=function(u,o,l,f){for(var p=0;p<o.length;p++){var g=o[p];g.isNode()&&this.drawCachedElement(u,g,l,f)}},ou.drawLayeredElements=function(u,o,l,f){var p=this.data.lyrTxrCache.getLayers(o,l);if(p)for(var g=0;g<p.length;g++){var _=p[g],E=_.bb;0===E.w||0===E.h||u.drawImage(_.canvas,E.x1,E.y1,E.w,E.h)}else this.drawCachedElements(u,o,l,f)};var Nc={drawEdge:function(u,o,l){var f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,_=o._private.rscratch;if((!p||o.visible())&&!_.badLine&&null!=_.allpts&&!isNaN(_.allpts[0])){var E;l&&u.translate(-(E=l).x1,-E.y1);var x=p?o.pstyle("opacity").value:1,M=p?o.pstyle("line-opacity").value:1,F=o.pstyle("curve-style").value,U=o.pstyle("line-style").value,W=o.pstyle("width").pfValue,j=o.pstyle("line-cap").value,Z=x*M,J=x*M,re=function(){var xe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;"straight-triangle"===F?(g.eleStrokeStyle(u,o,xe),g.drawEdgeTrianglePath(o,u,_.allpts)):(u.lineWidth=W,u.lineCap=j,g.eleStrokeStyle(u,o,xe),g.drawEdgePath(o,u,_.allpts,U),u.lineCap="butt")},ye=function(){g.drawArrowheads(u,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:J)};if(u.lineJoin="round","yes"===o.pstyle("ghost").value){var be=o.pstyle("ghost-offset-x").pfValue,Te=o.pstyle("ghost-offset-y").pfValue,_e=o.pstyle("ghost-opacity").value,ke=Z*_e;u.translate(be,Te),re(ke),ye(ke),u.translate(-be,-Te)}h&&g.drawEdgeUnderlay(u,o),re(),ye(),h&&g.drawEdgeOverlay(u,o),g.drawElementText(u,o,null,f),l&&u.translate(E.x1,E.y1)}}},y_=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,f){if(f.visible()){var h=f.pstyle("".concat(o,"-opacity")).value;if(0!==h){var p=this,g=p.usePaths(),_=f._private.rscratch,x=2*f.pstyle("".concat(o,"-padding")).pfValue,M=f.pstyle("".concat(o,"-color")).value;l.lineWidth=x,l.lineCap="self"!==_.edgeType||g?"round":"butt",p.colorStrokeStyle(l,M[0],M[1],M[2],h),p.drawEdgePath(f,l,_.allpts,"solid")}}}};Nc.drawEdgeOverlay=y_("overlay"),Nc.drawEdgeUnderlay=y_("underlay"),Nc.drawEdgePath=function(u,o,l,f){var g,h=u._private.rscratch,p=o,_=!1,E=this.usePaths(),x=u.pstyle("line-dash-pattern").pfValue,M=u.pstyle("line-dash-offset").pfValue;if(E){var F=l.join("$");h.pathCacheKey&&h.pathCacheKey===F?(g=o=h.pathCache,_=!0):(g=o=new Path2D,h.pathCacheKey=F,h.pathCache=g)}if(p.setLineDash)switch(f){case"dotted":p.setLineDash([1,1]);break;case"dashed":p.setLineDash(x),p.lineDashOffset=M;break;case"solid":p.setLineDash([])}if(!_&&!h.badLine)switch(o.beginPath&&o.beginPath(),o.moveTo(l[0],l[1]),h.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var W=2;W+3<l.length;W+=4)o.quadraticCurveTo(l[W],l[W+1],l[W+2],l[W+3]);break;case"straight":case"segments":case"haystack":for(var j=2;j+1<l.length;j+=2)o.lineTo(l[j],l[j+1])}o=p,E?o.stroke(g):o.stroke(),o.setLineDash&&o.setLineDash([])},Nc.drawEdgeTrianglePath=function(u,o,l){o.fillStyle=o.strokeStyle;for(var f=u.pstyle("width").pfValue,h=0;h+1<l.length;h+=2){var p=[l[h+2]-l[h],l[h+3]-l[h+1]],g=Math.sqrt(p[0]*p[0]+p[1]*p[1]),_=[p[1]/g,-p[0]/g],E=[_[0]*f/2,_[1]*f/2];o.beginPath(),o.moveTo(l[h]-E[0],l[h+1]-E[1]),o.lineTo(l[h]+E[0],l[h+1]+E[1]),o.lineTo(l[h+2],l[h+3]),o.closePath(),o.fill()}},Nc.drawArrowheads=function(u,o,l){var f=o._private.rscratch,h="haystack"===f.edgeType;h||this.drawArrowhead(u,o,"source",f.arrowStartX,f.arrowStartY,f.srcArrowAngle,l),this.drawArrowhead(u,o,"mid-target",f.midX,f.midY,f.midtgtArrowAngle,l),this.drawArrowhead(u,o,"mid-source",f.midX,f.midY,f.midsrcArrowAngle,l),h||this.drawArrowhead(u,o,"target",f.arrowEndX,f.arrowEndY,f.tgtArrowAngle,l)},Nc.drawArrowhead=function(u,o,l,f,h,p,g){if(!(isNaN(f)||null==f||isNaN(h)||null==h||isNaN(p)||null==p)){var _=this,E=o.pstyle(l+"-arrow-shape").value;if("none"!==E){var x="hollow"===o.pstyle(l+"-arrow-fill").value?"both":"filled",M=o.pstyle(l+"-arrow-fill").value,F=o.pstyle("width").pfValue,U=o.pstyle("opacity").value;void 0===g&&(g=U);var W=u.globalCompositeOperation;(1!==g||"hollow"===M)&&(u.globalCompositeOperation="destination-out",_.colorFillStyle(u,255,255,255,1),_.colorStrokeStyle(u,255,255,255,1),_.drawArrowShape(o,u,x,F,E,f,h,p),u.globalCompositeOperation=W);var j=o.pstyle(l+"-arrow-color").value;_.colorFillStyle(u,j[0],j[1],j[2],g),_.colorStrokeStyle(u,j[0],j[1],j[2],g),_.drawArrowShape(o,u,M,F,E,f,h,p)}}},Nc.drawArrowShape=function(u,o,l,f,h,p,g,_){var F,E=this,x=this.usePaths()&&"triangle-cross"!==h,M=!1,U=o,W={x:p,y:g},j=u.pstyle("arrow-scale").value,Z=this.getArrowWidth(f,j),J=E.arrowShapes[h];if(x){var re=E.arrowPathCache=E.arrowPathCache||[],fe=ss(h),he=re[fe];null!=he?(F=o=he,M=!0):(F=o=new Path2D,re[fe]=F)}M||(o.beginPath&&o.beginPath(),x?J.draw(o,1,0,{x:0,y:0},1):J.draw(o,Z,_,W,f),o.closePath&&o.closePath()),o=U,x&&(o.translate(p,g),o.rotate(_),o.scale(Z,Z)),("filled"===l||"both"===l)&&(x?o.fill(F):o.fill()),("hollow"===l||"both"===l)&&(o.lineWidth=(J.matchEdgeWidth?f:1)/(x?Z:1),o.lineJoin="miter",x?o.stroke(F):o.stroke()),x&&(o.scale(1/Z,1/Z),o.rotate(-_),o.translate(-p,-g))};var Ty={safeDrawImage:function(u,o,l,f,h,p,g,_,E,x){if(!(h<=0||p<=0||E<=0||x<=0))try{u.drawImage(o,l,f,h,p,g,_,E,x)}catch(M){Tr(M)}},drawInscribedImage:function(u,o,l,f,h){var p=this,g=l.position(),_=g.x,E=g.y,x=l.cy().style(),M=x.getIndexedStyle.bind(x),F=M(l,"background-fit","value",f),U=M(l,"background-repeat","value",f),W=l.width(),j=l.height(),Z=2*l.padding(),J=W+("inner"===M(l,"background-width-relative-to","value",f)?0:Z),re=j+("inner"===M(l,"background-height-relative-to","value",f)?0:Z),fe=l._private.rscratch,ye="node"===M(l,"background-clip","value",f),Me=M(l,"background-image-opacity","value",f)*h,Ae=M(l,"background-image-smoothing","value",f),be=o.width||o.cachedW,Te=o.height||o.cachedH;(null==be||null==Te)&&(document.body.appendChild(o),be=o.cachedW=o.width||o.offsetWidth,Te=o.cachedH=o.height||o.offsetHeight,document.body.removeChild(o));var _e=be,ke=Te;if("auto"!==M(l,"background-width","value",f)&&(_e="%"===M(l,"background-width","units",f)?M(l,"background-width","pfValue",f)*J:M(l,"background-width","pfValue",f)),"auto"!==M(l,"background-height","value",f)&&(ke="%"===M(l,"background-height","units",f)?M(l,"background-height","pfValue",f)*re:M(l,"background-height","pfValue",f)),0!==_e&&0!==ke){if("contain"===F)_e*=Pe=Math.min(J/_e,re/ke),ke*=Pe;else if("cover"===F){var Pe;_e*=Pe=Math.max(J/_e,re/ke),ke*=Pe}var xe=_-J/2,He=M(l,"background-position-x","units",f),Ne=M(l,"background-position-x","pfValue",f);xe+="%"===He?(J-_e)*Ne:Ne;var Je=M(l,"background-offset-x","units",f),Ue=M(l,"background-offset-x","pfValue",f);xe+="%"===Je?(J-_e)*Ue:Ue;var Ge=E-re/2,ot=M(l,"background-position-y","units",f),dt=M(l,"background-position-y","pfValue",f);Ge+="%"===ot?(re-ke)*dt:dt;var yt=M(l,"background-offset-y","units",f),st=M(l,"background-offset-y","pfValue",f);Ge+="%"===yt?(re-ke)*st:st,fe.pathCache&&(xe-=_,Ge-=E,_=0,E=0);var vt=u.globalAlpha;u.globalAlpha=Me;var At=p.getImgSmoothing(u),Ot=!1;if("no"===Ae&&At?(p.setImgSmoothing(u,!1),Ot=!0):"yes"===Ae&&!At&&(p.setImgSmoothing(u,!0),Ot=!0),"no-repeat"===U)ye&&(u.save(),fe.pathCache?u.clip(fe.pathCache):(p.nodeShapes[p.getNodeShape(l)].draw(u,_,E,J,re),u.clip())),p.safeDrawImage(u,o,0,0,be,Te,xe,Ge,_e,ke),ye&&u.restore();else{var Dt=u.createPattern(o,U);u.fillStyle=Dt,p.nodeShapes[p.getNodeShape(l)].draw(u,_,E,J,re),u.translate(xe,Ge),u.fill(),u.translate(-xe,-Ge)}u.globalAlpha=vt,Ot&&p.setImgSmoothing(u,At)}}},Uf={eleTextBiggerThanMin:function(u,o){if(!o){var l=u.cy().zoom(),f=this.getPixelRatio(),h=Math.ceil(Hi(l*f));o=Math.pow(2,h)}return!(u.pstyle("font-size").pfValue*o<u.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(u,o,l,f,h){var p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this;if(null==f){if(p&&!g.eleTextBiggerThanMin(o))return}else if(!1===f)return;if(o.isNode()){var _=o.pstyle("label");if(!_||!_.value)return;var E=g.getLabelJustification(o);u.textAlign=E,u.textBaseline="bottom"}else{var x=o.element()._private.rscratch.badLine,M=o.pstyle("label"),F=o.pstyle("source-label"),U=o.pstyle("target-label");if(x||(!M||!M.value)&&(!F||!F.value)&&(!U||!U.value))return;u.textAlign="center",u.textBaseline="bottom"}var j,W=!l;l&&u.translate(-(j=l).x1,-j.y1),null==h?(g.drawText(u,o,null,W,p),o.isEdge()&&(g.drawText(u,o,"source",W,p),g.drawText(u,o,"target",W,p))):g.drawText(u,o,h,W,p),l&&u.translate(j.x1,j.y1)},getFontCache:function(u){var o;this.fontCaches=this.fontCaches||[];for(var l=0;l<this.fontCaches.length;l++)if((o=this.fontCaches[l]).context===u)return o;return this.fontCaches.push(o={context:u}),o},setupTextStyle:function(u,o){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=o.pstyle("font-style").strValue,h=o.pstyle("font-size").pfValue+"px",p=o.pstyle("font-family").strValue,g=o.pstyle("font-weight").strValue,_=l?o.effectiveOpacity()*o.pstyle("text-opacity").value:1,E=o.pstyle("text-outline-opacity").value*_,x=o.pstyle("color").value,M=o.pstyle("text-outline-color").value;u.font=f+" "+g+" "+h+" "+p,u.lineJoin="round",this.colorFillStyle(u,x[0],x[1],x[2],_),this.colorStrokeStyle(u,M[0],M[1],M[2],E)},getTextAngle:function(u,o){var h=u._private.rscratch,g=u.pstyle((o?o+"-":"")+"text-rotation"),_=Qi(h,"labelAngle",o);return"autorotate"===g.strValue?u.isEdge()?_:0:"none"===g.strValue?0:g.pfValue},drawText:function(u,o,l){var f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=o._private.rscratch,_=h?o.effectiveOpacity():1;if(!h||0!==_&&0!==o.pstyle("text-opacity").value){"main"===l&&(l=null);var M,F,E=Qi(g,"labelX",l),x=Qi(g,"labelY",l),U=this.getLabelText(o,l);if(null!=U&&""!==U&&!isNaN(E)&&!isNaN(x)){this.setupTextStyle(u,o,h);var Me,W=l?l+"-":"",j=Qi(g,"labelWidth",l),Z=Qi(g,"labelHeight",l),J=o.pstyle(W+"text-margin-x").pfValue,re=o.pstyle(W+"text-margin-y").pfValue,fe=o.isEdge(),he=o.pstyle("text-halign").value,ye=o.pstyle("text-valign").value;switch(fe&&(he="center",ye="center"),E+=J,x+=re,0!==(Me=f?this.getTextAngle(o,l):0)&&(u.translate(M=E,F=x),u.rotate(Me),E=0,x=0),ye){case"top":break;case"center":x+=Z/2;break;case"bottom":x+=Z}var Ae=o.pstyle("text-background-opacity").value,be=o.pstyle("text-border-opacity").value,Te=o.pstyle("text-border-width").pfValue,_e=o.pstyle("text-background-padding").pfValue;if(Ae>0||Te>0&&be>0){var ke=E-_e;switch(he){case"left":ke-=j;break;case"center":ke-=j/2}var Pe=x-Z-_e,xe=j+2*_e,He=Z+2*_e;if(Ae>0){var Ne=u.fillStyle,Je=o.pstyle("text-background-color").value;u.fillStyle="rgba("+Je[0]+","+Je[1]+","+Je[2]+","+Ae*_+")",0===o.pstyle("text-background-shape").strValue.indexOf("round")?function b_(u,o,l,f,h){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;u.beginPath(),u.moveTo(o+p,l),u.lineTo(o+f-p,l),u.quadraticCurveTo(o+f,l,o+f,l+p),u.lineTo(o+f,l+h-p),u.quadraticCurveTo(o+f,l+h,o+f-p,l+h),u.lineTo(o+p,l+h),u.quadraticCurveTo(o,l+h,o,l+h-p),u.lineTo(o,l+p),u.quadraticCurveTo(o,l,o+p,l),u.closePath(),u.fill()}(u,ke,Pe,xe,He,2):u.fillRect(ke,Pe,xe,He),u.fillStyle=Ne}if(Te>0&&be>0){var Ge=u.strokeStyle,ot=u.lineWidth,dt=o.pstyle("text-border-color").value,yt=o.pstyle("text-border-style").value;if(u.strokeStyle="rgba("+dt[0]+","+dt[1]+","+dt[2]+","+be*_+")",u.lineWidth=Te,u.setLineDash)switch(yt){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash([4,2]);break;case"double":u.lineWidth=Te/4,u.setLineDash([]);break;case"solid":u.setLineDash([])}if(u.strokeRect(ke,Pe,xe,He),"double"===yt){var st=Te/2;u.strokeRect(ke+st,Pe+st,xe-2*st,He-2*st)}u.setLineDash&&u.setLineDash([]),u.lineWidth=ot,u.strokeStyle=Ge}}var vt=2*o.pstyle("text-outline-width").pfValue;if(vt>0&&(u.lineWidth=vt),"wrap"===o.pstyle("text-wrap").value){var At=Qi(g,"labelWrapCachedLines",l),Ot=Qi(g,"labelLineHeight",l),Dt=j/2,wt=this.getLabelJustification(o);switch("auto"===wt||("left"===he?"left"===wt?E+=-j:"center"===wt&&(E+=-Dt):"center"===he?"left"===wt?E+=-Dt:"right"===wt&&(E+=Dt):"right"===he&&("center"===wt?E+=Dt:"right"===wt&&(E+=j))),ye){case"top":case"center":case"bottom":x-=(At.length-1)*Ot}for(var nt=0;nt<At.length;nt++)vt>0&&u.strokeText(At[nt],E,x),u.fillText(At[nt],E,x),x+=Ot}else vt>0&&u.strokeText(U,E,x),u.fillText(U,E,x);0!==Me&&(u.rotate(-Me),u.translate(-M,-F))}}}},Bu={drawNode:function(u,o,l){var _,E,f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,x=o._private,M=x.rscratch,F=o.position();if(qe(F.x)&&qe(F.y)&&(!p||o.visible())){var j,re,U=p?o.effectiveOpacity():1,W=g.usePaths(),Z=!1,J=o.padding();_=o.width()+2*J,E=o.height()+2*J,l&&u.translate(-(re=l).x1,-re.y1);for(var he=o.pstyle("background-image").value,ye=new Array(he.length),Me=new Array(he.length),Ae=0,be=0;be<he.length;be++){var Te=he[be];if(ye[be]=null!=Te&&"none"!==Te){var ke=o.cy().style().getIndexedStyle(o,"background-image-crossorigin","value",be);Ae++,Me[be]=g.getCachedImage(Te,ke,function(){x.backgroundTimestamp=Date.now(),o.emitAndNotify("background")})}}var Pe=o.pstyle("background-blacken").value,xe=o.pstyle("border-width").pfValue,He=o.pstyle("background-opacity").value*U,Ne=o.pstyle("border-color").value,Je=o.pstyle("border-style").value,Ue=o.pstyle("border-opacity").value*U;u.lineJoin="miter";var Ge=function(){g.eleFillStyle(u,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:He)},ot=function(){g.colorStrokeStyle(u,Ne[0],Ne[1],Ne[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue)},dt=o.pstyle("shape").strValue,yt=o.pstyle("shape-polygon-points").pfValue;if(W){u.translate(F.x,F.y);var st=g.nodePathCache=g.nodePathCache||[],vt=td("polygon"===dt?dt+","+yt.join(","):dt,""+E,""+_),At=st[vt];null!=At?(Z=!0,M.pathCache=j=At):(j=new Path2D,st[vt]=M.pathCache=j)}var Ot=function(){if(!Z){var un=F;W&&(un={x:0,y:0}),g.nodeShapes[g.getNodeShape(o)].draw(j||u,un.x,un.y,_,E)}W?u.fill(j):u.fill()},Dt=function(){for(var un=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,Rn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Or=x.backgrounding,hr=0,$n=0;$n<Me.length;$n++){var zt=o.cy().style().getIndexedStyle(o,"background-image-containment","value",$n);Rn&&"over"===zt||!Rn&&"inside"===zt?hr++:ye[$n]&&Me[$n].complete&&!Me[$n].error&&(hr++,g.drawInscribedImage(u,Me[$n],o,$n,un))}x.backgrounding=hr!==Ae,Or!==x.backgrounding&&o.updateStyle(!1)},wt=function(){var un=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Rn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U;g.hasPie(o)&&(g.drawPie(u,o,Rn),un&&(W||g.nodeShapes[g.getNodeShape(o)].draw(u,F.x,F.y,_,E)))},nt=function(){var Or=Pe>0?0:255;0!==Pe&&(g.colorFillStyle(u,Or,Or,Or,(Pe>0?Pe:-Pe)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:U)),W?u.fill(j):u.fill())},Mt=function(){if(xe>0){if(u.lineWidth=xe,u.lineCap="butt",u.setLineDash)switch(Je){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash([4,2]);break;case"solid":case"double":u.setLineDash([])}if(W?u.stroke(j):u.stroke(),"double"===Je){u.lineWidth=xe/3;var un=u.globalCompositeOperation;u.globalCompositeOperation="destination-out",W?u.stroke(j):u.stroke(),u.globalCompositeOperation=un}u.setLineDash&&u.setLineDash([])}};if("yes"===o.pstyle("ghost").value){var ar=o.pstyle("ghost-offset-x").pfValue,sn=o.pstyle("ghost-offset-y").pfValue,Jt=o.pstyle("ghost-opacity").value,Pn=Jt*U;u.translate(ar,sn),Ge(Jt*He),Ot(),Dt(Pn,!0),ot(Jt*Ue),Mt(),wt(0!==Pe||0!==xe),Dt(Pn,!1),nt(Pn),u.translate(-ar,-sn)}W&&u.translate(-F.x,-F.y),h&&g.drawNodeUnderlay(u,o,F,_,E),W&&u.translate(F.x,F.y),Ge(),Ot(),Dt(U,!0),ot(),Mt(),wt(0!==Pe||0!==xe),Dt(U,!1),nt(),W&&u.translate(-F.x,-F.y),g.drawElementText(u,o,null,f),h&&g.drawNodeOverlay(u,o,F,_,E),l&&u.translate(re.x1,re.y1)}}},Jp=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,f,h,p,g){if(f.visible()){var E=f.pstyle("".concat(o,"-padding")).pfValue,x=f.pstyle("".concat(o,"-opacity")).value,M=f.pstyle("".concat(o,"-color")).value,F=f.pstyle("".concat(o,"-shape")).value;if(x>0){if(h=h||f.position(),null==p||null==g){var U=f.padding();p=f.width()+2*U,g=f.height()+2*U}this.colorFillStyle(l,M[0],M[1],M[2],x),this.nodeShapes[F].draw(l,h.x,h.y,p+2*E,g+2*E),l.fill()}}}};Bu.drawNodeOverlay=Jp("overlay"),Bu.drawNodeUnderlay=Jp("underlay"),Bu.hasPie=function(u){return(u=u[0])._private.hasPie},Bu.drawPie=function(u,o,l,f){o=o[0],f=f||o.position();var h=o.cy().style(),p=o.pstyle("pie-size"),g=f.x,_=f.y,E=o.width(),x=o.height(),M=Math.min(E,x)/2,F=0;this.usePaths()&&(g=0,_=0),"%"===p.units?M*=p.pfValue:void 0!==p.pfValue&&(M=p.pfValue/2);for(var W=1;W<=h.pieBackgroundN;W++){var j=o.pstyle("pie-"+W+"-background-size").value,Z=o.pstyle("pie-"+W+"-background-color").value,J=o.pstyle("pie-"+W+"-background-opacity").value*l,re=j/100;re+F>1&&(re=1-F);var fe=1.5*Math.PI+2*Math.PI*F,ye=fe+2*Math.PI*re;0===j||F>=1||F+re>1||(u.beginPath(),u.moveTo(g,_),u.arc(g,_,M,fe,ye),u.closePath(),this.colorFillStyle(u,Z[0],Z[1],Z[2],J),u.fill(),F+=re)}};for(var _s={getPixelRatio:function(){var u=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(u.backingStorePixelRatio||u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1)},paintCache:function(u){for(var f,o=this.paintCaches=this.paintCaches||[],l=!0,h=0;h<o.length;h++)if((f=o[h]).context===u){l=!1;break}return l&&o.push(f={context:u}),f},createGradientStyleFor:function(u,o,l,f,h){var p,g=this.usePaths(),_=l.pstyle(o+"-gradient-stop-colors").value,E=l.pstyle(o+"-gradient-stop-positions").pfValue;if("radial-gradient"===f)if(l.isEdge()){var x=l.sourceEndpoint(),M=l.targetEndpoint(),F=l.midpoint(),U=zi(x,F),W=zi(M,F);p=u.createRadialGradient(F.x,F.y,0,F.x,F.y,Math.max(U,W))}else{var j=g?{x:0,y:0}:l.position(),Z=l.paddedWidth(),J=l.paddedHeight();p=u.createRadialGradient(j.x,j.y,0,j.x,j.y,Math.max(Z,J))}else if(l.isEdge()){var re=l.sourceEndpoint(),fe=l.targetEndpoint();p=u.createLinearGradient(re.x,re.y,fe.x,fe.y)}else{var he=g?{x:0,y:0}:l.position(),Ae=l.paddedWidth()/2,be=l.paddedHeight()/2;switch(l.pstyle("background-gradient-direction").value){case"to-bottom":p=u.createLinearGradient(he.x,he.y-be,he.x,he.y+be);break;case"to-top":p=u.createLinearGradient(he.x,he.y+be,he.x,he.y-be);break;case"to-left":p=u.createLinearGradient(he.x+Ae,he.y,he.x-Ae,he.y);break;case"to-right":p=u.createLinearGradient(he.x-Ae,he.y,he.x+Ae,he.y);break;case"to-bottom-right":case"to-right-bottom":p=u.createLinearGradient(he.x-Ae,he.y-be,he.x+Ae,he.y+be);break;case"to-top-right":case"to-right-top":p=u.createLinearGradient(he.x-Ae,he.y+be,he.x+Ae,he.y-be);break;case"to-bottom-left":case"to-left-bottom":p=u.createLinearGradient(he.x+Ae,he.y-be,he.x-Ae,he.y+be);break;case"to-top-left":case"to-left-top":p=u.createLinearGradient(he.x+Ae,he.y+be,he.x-Ae,he.y-be)}}if(!p)return null;for(var _e=E.length===_.length,ke=_.length,Pe=0;Pe<ke;Pe++)p.addColorStop(_e?E[Pe]:Pe/(ke-1),"rgba("+_[Pe][0]+","+_[Pe][1]+","+_[Pe][2]+","+h+")");return p},gradientFillStyle:function(u,o,l,f){var h=this.createGradientStyleFor(u,"background",o,l,f);if(!h)return null;u.fillStyle=h},colorFillStyle:function(u,o,l,f,h){u.fillStyle="rgba("+o+","+l+","+f+","+h+")"},eleFillStyle:function(u,o,l){var f=o.pstyle("background-fill").value;if("linear-gradient"===f||"radial-gradient"===f)this.gradientFillStyle(u,o,f,l);else{var h=o.pstyle("background-color").value;this.colorFillStyle(u,h[0],h[1],h[2],l)}},gradientStrokeStyle:function(u,o,l,f){var h=this.createGradientStyleFor(u,"line",o,l,f);if(!h)return null;u.strokeStyle=h},colorStrokeStyle:function(u,o,l,f,h){u.strokeStyle="rgba("+o+","+l+","+f+","+h+")"},eleStrokeStyle:function(u,o,l){var f=o.pstyle("line-fill").value;if("linear-gradient"===f||"radial-gradient"===f)this.gradientStrokeStyle(u,o,f,l);else{var h=o.pstyle("line-color").value;this.colorStrokeStyle(u,h[0],h[1],h[2],l)}},matchCanvasSize:function(u){var o=this,l=o.data,f=o.findContainerClientCoords(),h=f[2],p=f[3],g=o.getPixelRatio();(u===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE]||u===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG])&&(g=o.motionBlurPxRatio);var M,E=h*g,x=p*g;if(E!==o.canvasWidth||x!==o.canvasHeight){o.fontCaches=null;var F=l.canvasContainer;F.style.width=h+"px",F.style.height=p+"px";for(var U=0;U<o.CANVAS_LAYERS;U++)(M=l.canvases[U]).width=E,M.height=x,M.style.width=h+"px",M.style.height=p+"px";for(U=0;U<o.BUFFER_COUNT;U++)(M=l.bufferCanvases[U]).width=E,M.height=x,M.style.width=h+"px",M.style.height=p+"px";o.textureMult=1,g<=1&&(M=l.bufferCanvases[o.TEXTURE_BUFFER],o.textureMult=2,M.width=E*o.textureMult,M.height=x*o.textureMult),o.canvasWidth=E,o.canvasHeight=x}},renderTo:function(u,o,l,f){this.render({forcedContext:u,forcedZoom:o,forcedPan:l,drawAllLayers:!0,forcedPxRatio:f})},render:function(u){var o=(u=u||xn()).forcedContext,l=u.drawAllLayers,f=u.drawOnlyNodeLayer,h=u.forcedZoom,p=u.forcedPan,g=this,_=void 0===u.forcedPxRatio?this.getPixelRatio():u.forcedPxRatio,E=g.cy,x=g.data,M=x.canvasNeedsRedraw,F=g.textureOnViewport&&!o&&(g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming),U=void 0!==u.motionBlur?u.motionBlur:g.motionBlur,W=g.motionBlurPxRatio,j=E.hasCompoundNodes(),Z=g.hoverData.draggingEles,re=U=U&&!o&&g.motionBlurEnabled&&!(g.hoverData.selecting||g.touchData.selecting);o||(g.prevPxRatio!==_&&(g.invalidateContainerClientCoordsCache(),g.matchCanvasSize(g.container),g.redrawHint("eles",!0),g.redrawHint("drag",!0)),g.prevPxRatio=_),!o&&g.motionBlurTimeout&&clearTimeout(g.motionBlurTimeout),U&&(null==g.mbFrames&&(g.mbFrames=0),g.mbFrames++,g.mbFrames<3&&(re=!1),g.mbFrames>g.minMbLowQualFrames&&(g.motionBlurPxRatio=g.mbPxRBlurry)),g.clearingMotionBlur&&(g.motionBlurPxRatio=1),g.textureDrawLastFrame&&!F&&(M[g.NODE]=!0,M[g.SELECT_BOX]=!0);var fe=E.style(),he=E.zoom(),ye=void 0!==h?h:he,Me=E.pan(),Ae={x:Me.x,y:Me.y},be={zoom:he,pan:{x:Me.x,y:Me.y}},Te=g.prevViewport;!(void 0===Te||be.zoom!==Te.zoom||be.pan.x!==Te.pan.x||be.pan.y!==Te.pan.y)&&!(Z&&!j)&&(g.motionBlurPxRatio=1),p&&(Ae=p),ye*=_,Ae.x*=_,Ae.y*=_;var ke=g.getCachedZSortedEles();function Pe(sn,Jt,Pn,Sn,un){var Rn=sn.globalCompositeOperation;sn.globalCompositeOperation="destination-out",g.colorFillStyle(sn,255,255,255,g.motionBlurTransparency),sn.fillRect(Jt,Pn,Sn,un),sn.globalCompositeOperation=Rn}function xe(sn,Jt){var Pn,Sn,un,Rn;g.clearingMotionBlur||sn!==x.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]&&sn!==x.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]?(Pn=Ae,Sn=ye,un=g.canvasWidth,Rn=g.canvasHeight):(Pn={x:Me.x*W,y:Me.y*W},Sn=he*W,un=g.canvasWidth*W,Rn=g.canvasHeight*W),sn.setTransform(1,0,0,1,0,0),"motionBlur"===Jt?Pe(sn,0,0,un,Rn):!o&&(void 0===Jt||Jt)&&sn.clearRect(0,0,un,Rn),l||(sn.translate(Pn.x,Pn.y),sn.scale(Sn,Sn)),p&&sn.translate(p.x,p.y),h&&sn.scale(h,h)}if(F||(g.textureDrawLastFrame=!1),F){if(g.textureDrawLastFrame=!0,!g.textureCache){g.textureCache={},g.textureCache.bb=E.mutableElements().boundingBox(),g.textureCache.texture=g.data.bufferCanvases[g.TEXTURE_BUFFER];var He=g.data.bufferContexts[g.TEXTURE_BUFFER];He.setTransform(1,0,0,1,0,0),He.clearRect(0,0,g.canvasWidth*g.textureMult,g.canvasHeight*g.textureMult),g.render({forcedContext:He,drawOnlyNodeLayer:!0,forcedPxRatio:_*g.textureMult}),(be=g.textureCache.viewport={zoom:E.zoom(),pan:E.pan(),width:g.canvasWidth,height:g.canvasHeight}).mpan={x:(0-be.pan.x)/be.zoom,y:(0-be.pan.y)/be.zoom}}M[g.DRAG]=!1,M[g.NODE]=!1;var Je=g.textureCache.texture;be=g.textureCache.viewport,(Ne=x.contexts[g.NODE]).setTransform(1,0,0,1,0,0),U?Pe(Ne,0,0,be.width,be.height):Ne.clearRect(0,0,be.width,be.height);var Ue=fe.core("outside-texture-bg-color").value,Ge=fe.core("outside-texture-bg-opacity").value;g.colorFillStyle(Ne,Ue[0],Ue[1],Ue[2],Ge),Ne.fillRect(0,0,be.width,be.height),he=E.zoom(),xe(Ne,!1),Ne.clearRect(be.mpan.x,be.mpan.y,be.width/be.zoom/_,be.height/be.zoom/_),Ne.drawImage(Je,be.mpan.x,be.mpan.y,be.width/be.zoom/_,be.height/be.zoom/_)}else g.textureOnViewport&&!o&&(g.textureCache=null);var ot=E.extent(),dt=g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming||g.hoverData.draggingEles||g.cy.animated(),yt=g.hideEdgesOnViewport&&dt,st=[];if(st[g.NODE]=!M[g.NODE]&&U&&!g.clearedForMotionBlur[g.NODE]||g.clearingMotionBlur,st[g.NODE]&&(g.clearedForMotionBlur[g.NODE]=!0),st[g.DRAG]=!M[g.DRAG]&&U&&!g.clearedForMotionBlur[g.DRAG]||g.clearingMotionBlur,st[g.DRAG]&&(g.clearedForMotionBlur[g.DRAG]=!0),M[g.NODE]||l||f||st[g.NODE]){var vt=U&&!st[g.NODE]&&1!==W;xe(Ne=o||(vt?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]:x.contexts[g.NODE]),U&&!vt?"motionBlur":void 0),yt?g.drawCachedNodes(Ne,ke.nondrag,_,ot):g.drawLayeredElements(Ne,ke.nondrag,_,ot),g.debug&&g.drawDebugPoints(Ne,ke.nondrag),!l&&!U&&(M[g.NODE]=!1)}if(!f&&(M[g.DRAG]||l||st[g.DRAG])&&(vt=U&&!st[g.DRAG]&&1!==W,xe(Ne=o||(vt?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]:x.contexts[g.DRAG]),U&&!vt?"motionBlur":void 0),yt?g.drawCachedNodes(Ne,ke.drag,_,ot):g.drawCachedElements(Ne,ke.drag,_,ot),g.debug&&g.drawDebugPoints(Ne,ke.drag),!l&&!U&&(M[g.DRAG]=!1)),g.showFps||!f&&M[g.SELECT_BOX]&&!l){var Ne;if(xe(Ne=o||x.contexts[g.SELECT_BOX]),1==g.selection[4]&&(g.hoverData.selecting||g.touchData.selecting)){he=g.cy.zoom();var Ot=fe.core("selection-box-border-width").value/he;Ne.lineWidth=Ot,Ne.fillStyle="rgba("+fe.core("selection-box-color").value[0]+","+fe.core("selection-box-color").value[1]+","+fe.core("selection-box-color").value[2]+","+fe.core("selection-box-opacity").value+")",Ne.fillRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]),Ot>0&&(Ne.strokeStyle="rgba("+fe.core("selection-box-border-color").value[0]+","+fe.core("selection-box-border-color").value[1]+","+fe.core("selection-box-border-color").value[2]+","+fe.core("selection-box-opacity").value+")",Ne.strokeRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]))}if(x.bgActivePosistion&&!g.hoverData.selecting){he=g.cy.zoom();var Dt=x.bgActivePosistion;Ne.fillStyle="rgba("+fe.core("active-bg-color").value[0]+","+fe.core("active-bg-color").value[1]+","+fe.core("active-bg-color").value[2]+","+fe.core("active-bg-opacity").value+")",Ne.beginPath(),Ne.arc(Dt.x,Dt.y,fe.core("active-bg-size").pfValue/he,0,2*Math.PI),Ne.fill()}var wt=g.lastRedrawTime;if(g.showFps&&wt){wt=Math.round(wt);var nt=Math.round(1e3/wt);Ne.setTransform(1,0,0,1,0,0),Ne.fillStyle="rgba(255, 0, 0, 0.75)",Ne.strokeStyle="rgba(255, 0, 0, 0.75)",Ne.lineWidth=1,Ne.fillText("1 frame = "+wt+" ms = "+nt+" fps",0,20),Ne.strokeRect(0,30,250,20),Ne.fillRect(0,30,250*Math.min(nt/60,1),20)}l||(M[g.SELECT_BOX]=!1)}if(U&&1!==W){var rn=x.contexts[g.DRAG],Xn=g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_DRAG],ar=function(Jt,Pn,Sn){Jt.setTransform(1,0,0,1,0,0),Sn||!re?Jt.clearRect(0,0,g.canvasWidth,g.canvasHeight):Pe(Jt,0,0,g.canvasWidth,g.canvasHeight),Jt.drawImage(Pn,0,0,g.canvasWidth*W,g.canvasHeight*W,0,0,g.canvasWidth,g.canvasHeight)};(M[g.NODE]||st[g.NODE])&&(ar(x.contexts[g.NODE],g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_NODE],st[g.NODE]),M[g.NODE]=!1),(M[g.DRAG]||st[g.DRAG])&&(ar(rn,Xn,st[g.DRAG]),M[g.DRAG]=!1)}g.prevViewport=be,g.clearingMotionBlur&&(g.clearingMotionBlur=!1,g.motionBlurCleared=!0,g.motionBlur=!0),U&&(g.motionBlurTimeout=setTimeout(function(){g.motionBlurTimeout=null,g.clearedForMotionBlur[g.NODE]=!1,g.clearedForMotionBlur[g.DRAG]=!1,g.motionBlur=!1,g.clearingMotionBlur=!F,g.mbFrames=0,M[g.NODE]=!0,M[g.DRAG]=!0,g.redraw()},100)),o||E.emit("render")}},Vu={drawPolygonPath:function(u,o,l,f,h,p){var g=f/2,_=h/2;u.beginPath&&u.beginPath(),u.moveTo(o+g*p[0],l+_*p[1]);for(var E=1;E<p.length/2;E++)u.lineTo(o+g*p[2*E],l+_*p[2*E+1]);u.closePath()},drawRoundPolygonPath:function(u,o,l,f,h,p){var g=f/2,_=h/2,E=uc(f,h);u.beginPath&&u.beginPath();for(var x=0;x<p.length/4;x++){var F,M;M=0===x?p.length-2:4*x-2,F=4*x+2;var U=o+g*p[4*x],W=l+_*p[4*x+1],Z=E/Math.tan(Math.acos(-p[M]*p[F]-p[M+1]*p[F+1])/2),J=U-Z*p[M],re=W-Z*p[M+1],fe=U+Z*p[F],he=W+Z*p[F+1];0===x?u.moveTo(J,re):u.lineTo(J,re),u.arcTo(U,W,fe,he,E)}u.closePath()},drawRoundRectanglePath:function(u,o,l,f,h){var p=f/2,g=h/2,_=_u(f,h);u.beginPath&&u.beginPath(),u.moveTo(o,l-g),u.arcTo(o+p,l-g,o+p,l,_),u.arcTo(o+p,l+g,o,l+g,_),u.arcTo(o-p,l+g,o-p,l,_),u.arcTo(o-p,l-g,o,l-g,_),u.lineTo(o,l-g),u.closePath()},drawBottomRoundRectanglePath:function(u,o,l,f,h){var p=f/2,g=h/2,_=_u(f,h);u.beginPath&&u.beginPath(),u.moveTo(o,l-g),u.lineTo(o+p,l-g),u.lineTo(o+p,l),u.arcTo(o+p,l+g,o,l+g,_),u.arcTo(o-p,l+g,o-p,l,_),u.lineTo(o-p,l-g),u.lineTo(o,l-g),u.closePath()},drawCutRectanglePath:function(u,o,l,f,h){var p=f/2,g=h/2;u.beginPath&&u.beginPath(),u.moveTo(o-p+8,l-g),u.lineTo(o+p-8,l-g),u.lineTo(o+p,l-g+8),u.lineTo(o+p,l+g-8),u.lineTo(o+p-8,l+g),u.lineTo(o-p+8,l+g),u.lineTo(o-p,l+g-8),u.lineTo(o-p,l-g+8),u.closePath()},drawBarrelPath:function(u,o,l,f,h){var p=f/2,g=h/2,_=o-p,E=o+p,x=l-g,M=l+g,F=fh(f,h),U=F.widthOffset,W=F.heightOffset,j=F.ctrlPtOffsetPct*U;u.beginPath&&u.beginPath(),u.moveTo(_,x+W),u.lineTo(_,M-W),u.quadraticCurveTo(_+j,M,_+U,M),u.lineTo(E-U,M),u.quadraticCurveTo(E-j,M,E,M-W),u.lineTo(E,x+W),u.quadraticCurveTo(E-j,x,E-U,x),u.lineTo(_+U,x),u.quadraticCurveTo(_+j,x,_,x+W),u.closePath()}},$d=Math.sin(0),Sm=Math.cos(0),eg={},Gf={},jh=Math.PI/40,ea=0*Math.PI;ea<2*Math.PI;ea+=jh)eg[ea]=Math.sin(ea),Gf[ea]=Math.cos(ea);Vu.drawEllipsePath=function(u,o,l,f,h){if(u.beginPath&&u.beginPath(),u.ellipse)u.ellipse(o,l,f/2,h/2,0,0,2*Math.PI);else for(var p,g,_=f/2,E=h/2,x=0*Math.PI;x<2*Math.PI;x+=jh)p=o-_*eg[x]*$d+_*Gf[x]*Sm,g=l+E*Gf[x]*$d+E*eg[x]*Sm,0===x?u.moveTo(p,g):u.lineTo(p,g);u.closePath()};var Wh={};function Iy(u){var o=u.indexOf(",");return u.substr(o+1)}function Tm(u,o,l){var f=function(){return o.toDataURL(l,u.quality)};switch(u.output){case"blob-promise":return new fs(function(h,p){try{o.toBlob(function(g){null!=g?h(g):p(new Error("`canvas.toBlob()` sent a null value in its callback"))},l,u.quality)}catch(g){p(g)}});case"blob":return function __(u,o){for(var l=atob(u),f=new ArrayBuffer(l.length),h=new Uint8Array(f),p=0;p<l.length;p++)h[p]=l.charCodeAt(p);return new Blob([f],{type:o})}(Iy(f()),l);case"base64":return Iy(f());default:return f()}}Wh.createBuffer=function(u,o){var l=document.createElement("canvas");return l.width=u,l.height=o,[l,l.getContext("2d")]},Wh.bufferCanvasImage=function(u){var o=this.cy,f=o.mutableElements().boundingBox(),h=this.findContainerClientCoords(),p=u.full?Math.ceil(f.w):h[2],g=u.full?Math.ceil(f.h):h[3],_=qe(u.maxWidth)||qe(u.maxHeight),E=this.getPixelRatio(),x=1;if(void 0!==u.scale)p*=u.scale,g*=u.scale,x=u.scale;else if(_){var M=1/0,F=1/0;qe(u.maxWidth)&&(M=x*u.maxWidth/p),qe(u.maxHeight)&&(F=x*u.maxHeight/g),p*=x=Math.min(M,F),g*=x}_||(p*=E,g*=E,x*=E);var U=document.createElement("canvas");U.width=p,U.height=g,U.style.width=p+"px",U.style.height=g+"px";var W=U.getContext("2d");if(p>0&&g>0){W.clearRect(0,0,p,g),W.globalCompositeOperation="source-over";var j=this.getCachedZSortedEles();if(u.full)W.translate(-f.x1*x,-f.y1*x),W.scale(x,x),this.drawElements(W,j),W.scale(1/x,1/x),W.translate(f.x1*x,f.y1*x);else{var Z=o.pan(),J={x:Z.x*x,y:Z.y*x};x*=o.zoom(),W.translate(J.x,J.y),W.scale(x,x),this.drawElements(W,j),W.scale(1/x,1/x),W.translate(-J.x,-J.y)}u.bg&&(W.globalCompositeOperation="destination-over",W.fillStyle=u.bg,W.rect(0,0,p,g),W.fill())}return U},Wh.png=function(u){return Tm(u,this.bufferCanvasImage(u),"image/png")},Wh.jpg=function(u){return Tm(u,this.bufferCanvasImage(u),"image/jpeg")};var w_=Ay,ti=Ay.prototype;function Ay(u){var o=this;o.data={canvases:new Array(ti.CANVAS_LAYERS),contexts:new Array(ti.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ti.CANVAS_LAYERS),bufferCanvases:new Array(ti.BUFFER_COUNT),bufferContexts:new Array(ti.CANVAS_LAYERS)};var l="-webkit-tap-highlight-color",f="rgba(0,0,0,0)";o.data.canvasContainer=document.createElement("div");var h=o.data.canvasContainer.style;o.data.canvasContainer.style[l]=f,h.position="relative",h.zIndex="0",h.overflow="hidden";var p=u.cy.container();p.appendChild(o.data.canvasContainer),p.style[l]=f;var g={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};ie&&ie.userAgent.match(/msie|trident|edge/i)&&(g["-ms-touch-action"]="none",g["touch-action"]="none");for(var _=0;_<ti.CANVAS_LAYERS;_++){var E=o.data.canvases[_]=document.createElement("canvas");o.data.contexts[_]=E.getContext("2d"),Object.keys(g).forEach(function(wt){E.style[wt]=g[wt]}),E.style.position="absolute",E.setAttribute("data-id","layer"+_),E.style.zIndex=String(ti.CANVAS_LAYERS-_),o.data.canvasContainer.appendChild(E),o.data.canvasNeedsRedraw[_]=!1}for(o.data.topCanvas=o.data.canvases[0],o.data.canvases[ti.NODE].setAttribute("data-id","layer"+ti.NODE+"-node"),o.data.canvases[ti.SELECT_BOX].setAttribute("data-id","layer"+ti.SELECT_BOX+"-selectbox"),o.data.canvases[ti.DRAG].setAttribute("data-id","layer"+ti.DRAG+"-drag"),_=0;_<ti.BUFFER_COUNT;_++)o.data.bufferCanvases[_]=document.createElement("canvas"),o.data.bufferContexts[_]=o.data.bufferCanvases[_].getContext("2d"),o.data.bufferCanvases[_].style.position="absolute",o.data.bufferCanvases[_].setAttribute("data-id","buffer"+_),o.data.bufferCanvases[_].style.zIndex=String(-_-1),o.data.bufferCanvases[_].style.visibility="hidden";o.pathsEnabled=!0;var x=Mi(),F=function(nt){return{x:-nt.w/2,y:-nt.h/2}},Me=function(nt){return nt.boundingBox(),nt[0]._private.bodyBounds},Ae=function(nt){return nt.boundingBox(),nt[0]._private.labelBounds.main||x},be=function(nt){return nt.boundingBox(),nt[0]._private.labelBounds.source||x},Te=function(nt){return nt.boundingBox(),nt[0]._private.labelBounds.target||x},_e=function(nt,Mt){return Mt},Pe=function(nt,Mt,Nt){var Wt=nt?nt+"-":"";return{x:Mt.x+Nt.pstyle(Wt+"text-margin-x").pfValue,y:Mt.y+Nt.pstyle(Wt+"text-margin-y").pfValue}},xe=function(nt,Mt,Nt){var Wt=nt[0]._private.rscratch;return{x:Wt[Mt],y:Wt[Nt]}},yt=o.data.eleTxrCache=new ns(o,{getKey:function(nt){return nt[0]._private.nodeKey},doesEleInvalidateKey:function(nt){var Mt=nt[0]._private;return!(Mt.oldBackgroundTimestamp===Mt.backgroundTimestamp)},drawElement:function(nt,Mt,Nt,Wt,rn){return o.drawElement(nt,Mt,Nt,!1,!1,rn)},getBoundingBox:Me,getRotationPoint:function(nt){return function(nt){return{x:(nt.x1+nt.x2)/2,y:(nt.y1+nt.y2)/2}}(Me(nt))},getRotationOffset:function(nt){return F(Me(nt))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),st=o.data.lblTxrCache=new ns(o,{getKey:function(nt){return nt[0]._private.labelStyleKey},drawElement:function(nt,Mt,Nt,Wt,rn){return o.drawElementText(nt,Mt,Nt,Wt,"main",rn)},getBoundingBox:Ae,getRotationPoint:function(nt){return Pe("",xe(nt,"labelX","labelY"),nt)},getRotationOffset:function(nt){var Mt=Ae(nt),Nt=F(Ae(nt));if(nt.isNode()){switch(nt.pstyle("text-halign").value){case"left":Nt.x=-Mt.w;break;case"right":Nt.x=0}switch(nt.pstyle("text-valign").value){case"top":Nt.y=-Mt.h;break;case"bottom":Nt.y=0}}return Nt},isVisible:_e}),vt=o.data.slbTxrCache=new ns(o,{getKey:function(nt){return nt[0]._private.sourceLabelStyleKey},drawElement:function(nt,Mt,Nt,Wt,rn){return o.drawElementText(nt,Mt,Nt,Wt,"source",rn)},getBoundingBox:be,getRotationPoint:function(nt){return Pe("source",xe(nt,"sourceLabelX","sourceLabelY"),nt)},getRotationOffset:function(nt){return F(be(nt))},isVisible:_e}),At=o.data.tlbTxrCache=new ns(o,{getKey:function(nt){return nt[0]._private.targetLabelStyleKey},drawElement:function(nt,Mt,Nt,Wt,rn){return o.drawElementText(nt,Mt,Nt,Wt,"target",rn)},getBoundingBox:Te,getRotationPoint:function(nt){return Pe("target",xe(nt,"targetLabelX","targetLabelY"),nt)},getRotationOffset:function(nt){return F(Te(nt))},isVisible:_e}),Ot=o.data.lyrTxrCache=new h_(o);o.onUpdateEleCalcs(function(nt,Mt){yt.invalidateElements(Mt),st.invalidateElements(Mt),vt.invalidateElements(Mt),At.invalidateElements(Mt),Ot.invalidateElements(Mt);for(var Nt=0;Nt<Mt.length;Nt++){var Wt=Mt[Nt]._private;Wt.oldBackgroundTimestamp=Wt.backgroundTimestamp}});var Dt=function(nt){for(var Mt=0;Mt<nt.length;Mt++)Ot.enqueueElementRefinement(nt[Mt].ele)};yt.onDequeue(Dt),st.onDequeue(Dt),vt.onDequeue(Dt),At.onDequeue(Dt)}ti.CANVAS_LAYERS=3,ti.SELECT_BOX=0,ti.DRAG=1,ti.NODE=2,ti.BUFFER_COUNT=3,ti.TEXTURE_BUFFER=0,ti.MOTIONBLUR_BUFFER_NODE=1,ti.MOTIONBLUR_BUFFER_DRAG=2,ti.redrawHint=function(u,o){var l=this;switch(u){case"eles":l.data.canvasNeedsRedraw[ti.NODE]=o;break;case"drag":l.data.canvasNeedsRedraw[ti.DRAG]=o;break;case"select":l.data.canvasNeedsRedraw[ti.SELECT_BOX]=o}};var Oy=typeof Path2D<"u";ti.path2dEnabled=function(u){if(void 0===u)return this.pathsEnabled;this.pathsEnabled=!!u},ti.usePaths=function(){return Oy&&this.pathsEnabled},ti.setImgSmoothing=function(u,o){null!=u.imageSmoothingEnabled?u.imageSmoothingEnabled=o:(u.webkitImageSmoothingEnabled=o,u.mozImageSmoothingEnabled=o,u.msImageSmoothingEnabled=o)},ti.getImgSmoothing=function(u){return null!=u.imageSmoothingEnabled?u.imageSmoothingEnabled:u.webkitImageSmoothingEnabled||u.mozImageSmoothingEnabled||u.msImageSmoothingEnabled},ti.makeOffscreenCanvas=function(u,o){var l;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":H(OffscreenCanvas))?l=new OffscreenCanvas(u,o):((l=document.createElement("canvas")).width=u,l.height=o),l},[Gh,ou,Nc,Ty,Uf,Bu,_s,Vu,Wh,{nodeShapeImpl:function(u,o,l,f,h,p,g){switch(u){case"ellipse":return this.drawEllipsePath(o,l,f,h,p);case"polygon":return this.drawPolygonPath(o,l,f,h,p,g);case"round-polygon":return this.drawRoundPolygonPath(o,l,f,h,p,g);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(o,l,f,h,p);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(o,l,f,h,p);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(o,l,f,h,p);case"barrel":return this.drawBarrelPath(o,l,f,h,p)}}}].forEach(function(u){Nn(ti,u)});var x_=[{type:"layout",extensions:qp},{type:"renderer",extensions:[{name:"null",impl:Ii},{name:"base",impl:En},{name:"canvas",impl:w_}]}],rs={},ng={};function Mm(u,o,l){var f=l,h=function(Te){Tr("Can not register `"+o+"` for `"+u+"` since `"+Te+"` already exists in the prototype and can not be overridden")};if("core"===u){if(ys.prototype[o])return h(o);ys.prototype[o]=l}else if("collection"===u){if(fo.prototype[o])return h(o);fo.prototype[o]=l}else if("layout"===u){for(var p=function(Te){this.options=Te,l.call(this,Te),Ke(this._private)||(this._private={}),this._private.cy=Te.cy,this._private.listeners=[],this.createEmitter()},g=p.prototype=Object.create(l.prototype),_=[],E=0;E<_.length;E++){var x=_[E];g[x]=g[x]||function(){return this}}g.start&&!g.run?g.run=function(){return this.start(),this}:!g.start&&g.run&&(g.start=function(){return this.run(),this});var M=l.prototype.stop;g.stop=function(){var be=this.options;if(be&&be.animate){var Te=this.animations;if(Te)for(var _e=0;_e<Te.length;_e++)Te[_e].stop()}return M?M.call(this):this.emit("layoutstop"),this},g.destroy||(g.destroy=function(){return this}),g.cy=function(){return this._private.cy};var F=function(Te){return Te._private.cy},U={addEventFields:function(Te,_e){_e.layout=Te,_e.cy=F(Te),_e.target=Te},bubble:function(){return!0},parent:function(Te){return F(Te)}};Nn(g,{createEmitter:function(){return this._private.emitter=new ji(U,this),this},emitter:function(){return this._private.emitter},on:function(Te,_e){return this.emitter().on(Te,_e),this},one:function(Te,_e){return this.emitter().one(Te,_e),this},once:function(Te,_e){return this.emitter().one(Te,_e),this},removeListener:function(Te,_e){return this.emitter().removeListener(Te,_e),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(Te,_e){return this.emitter().emit(Te,_e),this}}),ur.eventAliasesOn(g),f=p}else if("renderer"===u&&"null"!==o&&"base"!==o){var W=rg("renderer","base"),j=W.prototype,Z=l,J=l.prototype,re=function(){W.apply(this,arguments),Z.apply(this,arguments)},fe=re.prototype;for(var he in j){var ye=j[he];if(null!=J[he])return h(he);fe[he]=ye}for(var Ae in J)fe[Ae]=J[Ae];j.clientFunctions.forEach(function(be){fe[be]=fe[be]||function(){ri("Renderer does not implement `renderer."+be+"()` on its prototype")}}),f=re}else if("__proto__"===u||"constructor"===u||"prototype"===u)return ri(u+" is an illegal type to be registered, possibly lead to prototype pollutions");return Cn({map:rs,keys:[u,o],value:f})}function rg(u,o){return va({map:rs,keys:[u,o]})}function Va(u,o,l,f,h){return Cn({map:ng,keys:[u,o,l,f],value:h})}function $h(u,o,l,f){return va({map:ng,keys:[u,o,l,f]})}var ig=function(){return 2===arguments.length?rg.apply(null,arguments):3===arguments.length?Mm.apply(null,arguments):4===arguments.length?$h.apply(null,arguments):5===arguments.length?Va.apply(null,arguments):void ri("Invalid extension access syntax")};ys.prototype.extension=ig,x_.forEach(function(u){u.extensions.forEach(function(o){Mm(u.type,o.name,o.impl)})});var Im=function u(){if(!(this instanceof u))return new u;this.length=0},Yd=Im.prototype;Yd.instanceString=function(){return"stylesheet"},Yd.selector=function(u){return this[this.length++]={selector:u,properties:[]},this},Yd.css=function(u,o){var l=this.length-1;if(Be(u))this[l].properties.push({name:u,value:o});else if(Ke(u))for(var f=u,h=Object.keys(f),p=0;p<h.length;p++){var g=h[p],_=f[g];if(null!=_){var E=Zo.properties[g]||Zo.properties[_n(g)];null!=E&&this[l].properties.push({name:E.name,value:_})}}return this},Yd.style=Yd.css,Yd.generateStyle=function(u){var o=new Zo(u);return this.appendToStyle(o)},Yd.appendToStyle=function(u){for(var o=0;o<this.length;o++){var l=this[o],h=l.properties;u.selector(l.selector);for(var p=0;p<h.length;p++){var g=h[p];u.css(g.name,g.value)}}return u};var Xd=function(o){return void 0===o&&(o={}),Ke(o)?new ys(o):Be(o)?ig.apply(ig,arguments):void 0};Xd.use=function(u){var o=Array.prototype.slice.call(arguments,1);return o.unshift(Xd),u.apply(null,o),this},Xd.warnings=function(u){return Oa(u)},Xd.version="3.25.0",Xd.stylesheet=Xd.Stylesheet=Im,Y.exports=Xd},8767:(Y,se,D)=>{Y.exports={graphlib:D(5849),layout:D(4395),debug:D(4232),util:{time:D(9505).time,notime:D(9505).notime},version:D(2187)}},1791:(Y,se,D)=>{"use strict";var T=D(3990),P=D(5123);Y.exports={run:function O(S){var N="greedy"===S.graph().acyclicer?P(S,function A(V){return function(L){return V.edge(L).weight}}(S)):function I(S){var N=[],A={},V={};return T.forEach(S.nodes(),function L(k){T.has(V,k)||(V[k]=!0,A[k]=!0,T.forEach(S.outEdges(k),function(H){T.has(A,H.w)?N.push(H):L(H.w)}),delete A[k])}),N}(S);T.forEach(N,function(V){var L=S.edge(V);S.removeEdge(V),L.forwardName=V.name,L.reversed=!0,S.setEdge(V.w,V.v,L,T.uniqueId("rev"))})},undo:function C(S){T.forEach(S.edges(),function(N){var A=S.edge(N);if(A.reversed){S.removeEdge(N);var V=A.forwardName;delete A.reversed,delete A.forwardName,S.setEdge(N.w,N.v,A,V)}})}}},7130:(Y,se,D)=>{var T=D(3990),P=D(9505);function I(C,S,N,A,V,L){var H=V[S][L-1],$=P.addDummyNode(C,"border",{width:0,height:0,rank:L,borderType:S},N);V[S][L]=$,C.setParent($,A),H&&C.setEdge(H,$,{weight:1})}Y.exports=function O(C){T.forEach(C.children(),function S(N){var A=C.children(N),V=C.node(N);if(A.length&&T.forEach(A,S),T.has(V,"minRank")){V.borderLeft=[],V.borderRight=[];for(var L=V.minRank,k=V.maxRank+1;L<k;++L)I(C,"borderLeft","_bl",N,V,L),I(C,"borderRight","_br",N,V,L)}})}},1048:(Y,se,D)=>{"use strict";var T=D(3990);function I(L){T.forEach(L.nodes(),function(k){C(L.node(k))}),T.forEach(L.edges(),function(k){C(L.edge(k))})}function C(L){var k=L.width;L.width=L.height,L.height=k}function N(L){L.y=-L.y}function V(L){var k=L.x;L.x=L.y,L.y=k}Y.exports={adjust:function P(L){var k=L.graph().rankdir.toLowerCase();("lr"===k||"rl"===k)&&I(L)},undo:function O(L){var k=L.graph().rankdir.toLowerCase();("bt"===k||"rl"===k)&&function S(L){T.forEach(L.nodes(),function(k){N(L.node(k))}),T.forEach(L.edges(),function(k){var H=L.edge(k);T.forEach(H.points,N),T.has(H,"y")&&N(H)})}(L),("lr"===k||"rl"===k)&&(function A(L){T.forEach(L.nodes(),function(k){V(L.node(k))}),T.forEach(L.edges(),function(k){var H=L.edge(k);T.forEach(H.points,V),T.has(H,"x")&&V(H)})}(L),I(L))}}},4312:Y=>{function se(){var P={};P._next=P._prev=P,this._sentinel=P}function D(P){P._prev._next=P._next,P._next._prev=P._prev,delete P._next,delete P._prev}function T(P,O){if("_next"!==P&&"_prev"!==P)return O}Y.exports=se,se.prototype.dequeue=function(){var P=this._sentinel,O=P._prev;if(O!==P)return D(O),O},se.prototype.enqueue=function(P){var O=this._sentinel;P._prev&&P._next&&D(P),P._next=O._next,O._next._prev=P,O._next=P,P._prev=O},se.prototype.toString=function(){for(var P=[],O=this._sentinel,I=O._prev;I!==O;)P.push(JSON.stringify(I,T)),I=I._prev;return"["+P.join(", ")+"]"}},4232:(Y,se,D)=>{var T=D(3990),P=D(9505),O=D(5849).Graph;Y.exports={debugOrdering:function I(C){var S=P.buildLayerMatrix(C),N=new O({compound:!0,multigraph:!0}).setGraph({});return T.forEach(C.nodes(),function(A){N.setNode(A,{label:A}),N.setParent(A,"layer"+C.node(A).rank)}),T.forEach(C.edges(),function(A){N.setEdge(A.v,A.w,{},A.name)}),T.forEach(S,function(A,V){N.setNode("layer"+V,{rank:"same"}),T.reduce(A,function(k,H){return N.setEdge(k,H,{style:"invis"}),H})}),N}}},5849:(Y,se,D)=>{var T;try{T=D(9034)}catch{}T||(T=window.graphlib),Y.exports=T},5123:(Y,se,D)=>{var T=D(3990),P=D(5849).Graph,O=D(4312);Y.exports=function C(L,k){if(L.nodeCount()<=1)return[];var H=function A(L,k){var H=new P,$=0,Q=0;T.forEach(L.nodes(),function(le){H.setNode(le,{v:le,in:0,out:0})}),T.forEach(L.edges(),function(le){var ae=H.edge(le.v,le.w)||0,de=k(le);H.setEdge(le.v,le.w,ae+de),Q=Math.max(Q,H.node(le.v).out+=de),$=Math.max($,H.node(le.w).in+=de)});var ue=T.range(Q+$+3).map(function(){return new O}),ne=$+1;return T.forEach(H.nodes(),function(le){V(ue,ne,H.node(le))}),{graph:H,buckets:ue,zeroIdx:ne}}(L,k||I),$=function S(L,k,H){for(var ne,$=[],Q=k[k.length-1],ue=k[0];L.nodeCount();){for(;ne=ue.dequeue();)N(L,k,H,ne);for(;ne=Q.dequeue();)N(L,k,H,ne);if(L.nodeCount())for(var le=k.length-2;le>0;--le)if(ne=k[le].dequeue()){$=$.concat(N(L,k,H,ne,!0));break}}return $}(H.graph,H.buckets,H.zeroIdx);return T.flatten(T.map($,function(Q){return L.outEdges(Q.v,Q.w)}),!0)};var I=T.constant(1);function N(L,k,H,$,Q){var ue=Q?[]:void 0;return T.forEach(L.inEdges($.v),function(ne){var le=L.edge(ne),ae=L.node(ne.v);Q&&ue.push({v:ne.v,w:ne.w}),ae.out-=le,V(k,H,ae)}),T.forEach(L.outEdges($.v),function(ne){var le=L.edge(ne),de=L.node(ne.w);de.in-=le,V(k,H,de)}),L.removeNode($.v),ue}function V(L,k,H){H.out?H.in?L[H.out-H.in+k].enqueue(H):L[L.length-1].enqueue(H):L[0].enqueue(H)}},4395:(Y,se,D)=>{"use strict";var T=D(3990),P=D(1791),O=D(1684),I=D(3752),C=D(9505).normalizeRanks,S=D(1250),N=D(9505).removeEmptyRanks,A=D(4525),V=D(7130),L=D(1048),k=D(1574),H=D(6403),$=D(9505),Q=D(5849).Graph;Y.exports=function ue(ut,it){var pt=it&&it.debugTiming?$.time:$.notime;pt("layout",function(){var Ft=pt("  buildLayoutGraph",function(){return function we(ut){var it=new Q({multigraph:!0,compound:!0}),pt=cn(ut.graph());return it.setGraph(T.merge({},de,vn(pt,ae),T.pick(pt,te))),T.forEach(ut.nodes(),function(Ft){var St=cn(ut.node(Ft));it.setNode(Ft,T.defaults(vn(St,pe),q)),it.setParent(Ft,ut.parent(Ft))}),T.forEach(ut.edges(),function(Ft){var St=cn(ut.edge(Ft));it.setEdge(Ft,T.merge({},ie,vn(St,oe),T.pick(St,me)))}),it}(ut)});pt("  runLayout",function(){!function ne(ut,it){it("    makeSpaceForEdgeLabels",function(){!function Se(ut){var it=ut.graph();it.ranksep/=2,T.forEach(ut.edges(),function(pt){var Ft=ut.edge(pt);Ft.minlen*=2,"c"!==Ft.labelpos.toLowerCase()&&("TB"===it.rankdir||"BT"===it.rankdir?Ft.width+=Ft.labeloffset:Ft.height+=Ft.labeloffset)})}(ut)}),it("    removeSelfEdges",function(){!function qt(ut){T.forEach(ut.edges(),function(it){if(it.v===it.w){var pt=ut.node(it.v);pt.selfEdges||(pt.selfEdges=[]),pt.selfEdges.push({e:it,label:ut.edge(it)}),ut.removeEdge(it)}})}(ut)}),it("    acyclic",function(){P.run(ut)}),it("    nestingGraph.run",function(){A.run(ut)}),it("    rank",function(){I($.asNonCompoundGraph(ut))}),it("    injectEdgeLabelProxies",function(){!function De(ut){T.forEach(ut.edges(),function(it){var pt=ut.edge(it);if(pt.width&&pt.height){var Ft=ut.node(it.v),St=ut.node(it.w);$.addDummyNode(ut,"edge-proxy",{rank:(St.rank-Ft.rank)/2+Ft.rank,e:it},"_ep")}})}(ut)}),it("    removeEmptyRanks",function(){N(ut)}),it("    nestingGraph.cleanup",function(){A.cleanup(ut)}),it("    normalizeRanks",function(){C(ut)}),it("    assignRankMinMax",function(){!function ze(ut){var it=0;T.forEach(ut.nodes(),function(pt){var Ft=ut.node(pt);Ft.borderTop&&(Ft.minRank=ut.node(Ft.borderTop).rank,Ft.maxRank=ut.node(Ft.borderBottom).rank,it=T.max(it,Ft.maxRank))}),ut.graph().maxRank=it}(ut)}),it("    removeEdgeLabelProxies",function(){!function Be(ut){T.forEach(ut.nodes(),function(it){var pt=ut.node(it);"edge-proxy"===pt.dummy&&(ut.edge(pt.e).labelRank=pt.rank,ut.removeNode(it))})}(ut)}),it("    normalize.run",function(){O.run(ut)}),it("    parentDummyChains",function(){S(ut)}),it("    addBorderSegments",function(){V(ut)}),it("    order",function(){k(ut)}),it("    insertSelfEdges",function(){!function Ht(ut){var it=$.buildLayerMatrix(ut);T.forEach(it,function(pt){var Ft=0;T.forEach(pt,function(St,Kn){var Jn=ut.node(St);Jn.order=Kn+Ft,T.forEach(Jn.selfEdges,function(Sr){$.addDummyNode(ut,"selfedge",{width:Sr.label.width,height:Sr.label.height,rank:Jn.rank,order:Kn+ ++Ft,e:Sr.e,label:Sr.label},"_se")}),delete Jn.selfEdges})})}(ut)}),it("    adjustCoordinateSystem",function(){L.adjust(ut)}),it("    position",function(){H(ut)}),it("    positionSelfEdges",function(){!function It(ut){T.forEach(ut.nodes(),function(it){var pt=ut.node(it);if("selfedge"===pt.dummy){var Ft=ut.node(pt.e.v),St=Ft.x+Ft.width/2,Kn=Ft.y,Jn=pt.x-St,Sr=Ft.height/2;ut.setEdge(pt.e,pt.label),ut.removeNode(it),pt.label.points=[{x:St+2*Jn/3,y:Kn-Sr},{x:St+5*Jn/6,y:Kn-Sr},{x:St+Jn,y:Kn},{x:St+5*Jn/6,y:Kn+Sr},{x:St+2*Jn/3,y:Kn+Sr}],pt.label.x=pt.x,pt.label.y=pt.y}})}(ut)}),it("    removeBorderNodes",function(){!function qe(ut){T.forEach(ut.nodes(),function(it){if(ut.children(it).length){var pt=ut.node(it),Ft=ut.node(pt.borderTop),St=ut.node(pt.borderBottom),Kn=ut.node(T.last(pt.borderLeft)),Jn=ut.node(T.last(pt.borderRight));pt.width=Math.abs(Jn.x-Kn.x),pt.height=Math.abs(St.y-Ft.y),pt.x=Kn.x+pt.width/2,pt.y=Ft.y+pt.height/2}}),T.forEach(ut.nodes(),function(it){"border"===ut.node(it).dummy&&ut.removeNode(it)})}(ut)}),it("    normalize.undo",function(){O.undo(ut)}),it("    fixupEdgeLabelCoords",function(){!function Ke(ut){T.forEach(ut.edges(),function(it){var pt=ut.edge(it);if(T.has(pt,"x"))switch(("l"===pt.labelpos||"r"===pt.labelpos)&&(pt.width-=pt.labeloffset),pt.labelpos){case"l":pt.x-=pt.width/2+pt.labeloffset;break;case"r":pt.x+=pt.width/2+pt.labeloffset}})}(ut)}),it("    undoCoordinateSystem",function(){L.undo(ut)}),it("    translateGraph",function(){!function at(ut){var it=Number.POSITIVE_INFINITY,pt=0,Ft=Number.POSITIVE_INFINITY,St=0,Kn=ut.graph(),Jn=Kn.marginx||0,Sr=Kn.marginy||0;function kr(Cr){var _n=Cr.x,Hn=Cr.y,Xr=Cr.width,dn=Cr.height;it=Math.min(it,_n-Xr/2),pt=Math.max(pt,_n+Xr/2),Ft=Math.min(Ft,Hn-dn/2),St=Math.max(St,Hn+dn/2)}T.forEach(ut.nodes(),function(Cr){kr(ut.node(Cr))}),T.forEach(ut.edges(),function(Cr){var _n=ut.edge(Cr);T.has(_n,"x")&&kr(_n)}),it-=Jn,Ft-=Sr,T.forEach(ut.nodes(),function(Cr){var _n=ut.node(Cr);_n.x-=it,_n.y-=Ft}),T.forEach(ut.edges(),function(Cr){var _n=ut.edge(Cr);T.forEach(_n.points,function(Hn){Hn.x-=it,Hn.y-=Ft}),T.has(_n,"x")&&(_n.x-=it),T.has(_n,"y")&&(_n.y-=Ft)}),Kn.width=pt-it+Jn,Kn.height=St-Ft+Sr}(ut)}),it("    assignNodeIntersects",function(){!function ht(ut){T.forEach(ut.edges(),function(it){var Kn,Jn,pt=ut.edge(it),Ft=ut.node(it.v),St=ut.node(it.w);pt.points?(Kn=pt.points[0],Jn=pt.points[pt.points.length-1]):(pt.points=[],Kn=St,Jn=Ft),pt.points.unshift($.intersectRect(Ft,Kn)),pt.points.push($.intersectRect(St,Jn))})}(ut)}),it("    reversePoints",function(){!function Ct(ut){T.forEach(ut.edges(),function(it){var pt=ut.edge(it);pt.reversed&&pt.points.reverse()})}(ut)}),it("    acyclic.undo",function(){P.undo(ut)})}(Ft,pt)}),pt("  updateInputGraph",function(){!function le(ut,it){T.forEach(ut.nodes(),function(pt){var Ft=ut.node(pt),St=it.node(pt);Ft&&(Ft.x=St.x,Ft.y=St.y,it.children(pt).length&&(Ft.width=St.width,Ft.height=St.height))}),T.forEach(ut.edges(),function(pt){var Ft=ut.edge(pt),St=it.edge(pt);Ft.points=St.points,T.has(St,"x")&&(Ft.x=St.x,Ft.y=St.y)}),ut.graph().width=it.graph().width,ut.graph().height=it.graph().height}(ut,Ft)})})};var ae=["nodesep","edgesep","ranksep","marginx","marginy"],de={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},te=["acyclicer","ranker","rankdir","align"],pe=["width","height"],q={width:0,height:0},oe=["minlen","weight","width","height","labeloffset"],ie={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},me=["labelpos"];function vn(ut,it){return T.mapValues(T.pick(ut,it),Number)}function cn(ut){var it={};return T.forEach(ut,function(pt,Ft){it[Ft.toLowerCase()]=pt}),it}},3990:(Y,se,D)=>{var T;try{T={cloneDeep:D(4451),constant:D(1075),defaults:D(5433),each:D(6488),filter:D(7661),find:D(6177),flatten:D(9336),forEach:D(7170),forIn:D(1658),has:D(8669),isUndefined:D(8152),last:D(2819),map:D(8921),mapValues:D(6054),max:D(5664),merge:D(2213),min:D(1007),minBy:D(50),now:D(5533),pick:D(7607),range:D(5953),reduce:D(5909),sortBy:D(7184),uniqueId:D(4538),values:D(8808),zipObject:D(4606)}}catch{}T||(T=window._),Y.exports=T},4525:(Y,se,D)=>{var T=D(3990),P=D(9505);function I(A,V,L,k,H,$,Q){var ue=A.children(Q);if(ue.length){var ne=P.addBorderNode(A,"_bt"),le=P.addBorderNode(A,"_bb"),ae=A.node(Q);A.setParent(ne,Q),ae.borderTop=ne,A.setParent(le,Q),ae.borderBottom=le,T.forEach(ue,function(de){I(A,V,L,k,H,$,de);var te=A.node(de),pe=te.borderTop?te.borderTop:de,q=te.borderBottom?te.borderBottom:de,oe=te.borderTop?k:2*k,ie=pe!==q?1:H-$[Q]+1;A.setEdge(ne,pe,{weight:oe,minlen:ie,nestingEdge:!0}),A.setEdge(q,le,{weight:oe,minlen:ie,nestingEdge:!0})}),A.parent(Q)||A.setEdge(V,ne,{weight:0,minlen:H+$[Q]})}else Q!==V&&A.setEdge(V,Q,{weight:0,minlen:L})}Y.exports={run:function O(A){var V=P.addDummyNode(A,"root",{},"_root"),L=function C(A){var V={};function L(k,H){var $=A.children(k);$&&$.length&&T.forEach($,function(Q){L(Q,H+1)}),V[k]=H}return T.forEach(A.children(),function(k){L(k,1)}),V}(A),k=T.max(T.values(L))-1,H=2*k+1;A.graph().nestingRoot=V,T.forEach(A.edges(),function(Q){A.edge(Q).minlen*=H});var $=function S(A){return T.reduce(A.edges(),function(V,L){return V+A.edge(L).weight},0)}(A)+1;T.forEach(A.children(),function(Q){I(A,V,H,$,k,L,Q)}),A.graph().nodeRankFactor=H},cleanup:function N(A){var V=A.graph();A.removeNode(V.nestingRoot),delete V.nestingRoot,T.forEach(A.edges(),function(L){A.edge(L).nestingEdge&&A.removeEdge(L)})}}},1684:(Y,se,D)=>{"use strict";var T=D(3990),P=D(9505);Y.exports={run:function O(S){S.graph().dummyChains=[],T.forEach(S.edges(),function(N){!function I(S,N){var A=N.v,V=S.node(A).rank,L=N.w,k=S.node(L).rank,H=N.name,$=S.edge(N),Q=$.labelRank;if(k!==V+1){var ue,ne,le;for(S.removeEdge(N),le=0,++V;V<k;++le,++V)$.points=[],ue=P.addDummyNode(S,"edge",ne={width:0,height:0,edgeLabel:$,edgeObj:N,rank:V},"_d"),V===Q&&(ne.width=$.width,ne.height=$.height,ne.dummy="edge-label",ne.labelpos=$.labelpos),S.setEdge(A,ue,{weight:$.weight},H),0===le&&S.graph().dummyChains.push(ue),A=ue;S.setEdge(A,L,{weight:$.weight},H)}}(S,N)})},undo:function C(S){T.forEach(S.graph().dummyChains,function(N){var L,A=S.node(N),V=A.edgeLabel;for(S.setEdge(A.edgeObj,V);A.dummy;)L=S.successors(N)[0],S.removeNode(N),V.points.push({x:A.x,y:A.y}),"edge-label"===A.dummy&&(V.x=A.x,V.y=A.y,V.width=A.width,V.height=A.height),A=S.node(N=L)})}}},9821:(Y,se,D)=>{var T=D(3990);Y.exports=function P(O,I,C){var N,S={};T.forEach(C,function(A){for(var L,k,V=O.parent(A);V;){if((L=O.parent(V))?(k=S[L],S[L]=V):(k=N,N=V),k&&k!==V)return void I.setEdge(k,V);V=L}})}},7995:(Y,se,D)=>{var T=D(3990);Y.exports=function P(O,I){return T.map(I,function(C){var S=O.inEdges(C);if(S.length){var N=T.reduce(S,function(A,V){var L=O.edge(V),k=O.node(V.v);return{sum:A.sum+L.weight*k.order,weight:A.weight+L.weight}},{sum:0,weight:0});return{v:C,barycenter:N.sum/N.weight,weight:N.weight}}return{v:C}})}},9384:(Y,se,D)=>{var T=D(3990),P=D(5849).Graph;Y.exports=function O(C,S,N){var A=function I(C){for(var S;C.hasNode(S=T.uniqueId("_root")););return S}(C),V=new P({compound:!0}).setGraph({root:A}).setDefaultNodeLabel(function(L){return C.node(L)});return T.forEach(C.nodes(),function(L){var k=C.node(L),H=C.parent(L);(k.rank===S||k.minRank<=S&&S<=k.maxRank)&&(V.setNode(L),V.setParent(L,H||A),T.forEach(C[N](L),function($){var Q=$.v===L?$.w:$.v,ue=V.edge(Q,L),ne=T.isUndefined(ue)?0:ue.weight;V.setEdge(Q,L,{weight:C.edge($).weight+ne})}),T.has(k,"minRank")&&V.setNode(L,{borderLeft:k.borderLeft[S],borderRight:k.borderRight[S]}))}),V}},444:(Y,se,D)=>{"use strict";var T=D(3990);function O(I,C,S){for(var N=T.zipObject(S,T.map(S,function($,Q){return Q})),A=T.flatten(T.map(C,function($){return T.sortBy(T.map(I.outEdges($),function(Q){return{pos:N[Q.w],weight:I.edge(Q).weight}}),"pos")}),!0),V=1;V<S.length;)V<<=1;var L=2*V-1;V-=1;var k=T.map(new Array(L),function(){return 0}),H=0;return T.forEach(A.forEach(function($){var Q=$.pos+V;k[Q]+=$.weight;for(var ue=0;Q>0;)Q%2&&(ue+=k[Q+1]),k[Q=Q-1>>1]+=$.weight;H+=$.weight*ue})),H}Y.exports=function P(I,C){for(var S=0,N=1;N<C.length;++N)S+=O(I,C[N-1],C[N]);return S}},1574:(Y,se,D)=>{"use strict";var T=D(3990),P=D(320),O=D(444),I=D(8005),C=D(9384),S=D(9821),N=D(5849).Graph,A=D(9505);function L($,Q,ue){return T.map(Q,function(ne){return C($,ne,ue)})}function k($,Q){var ue=new N;T.forEach($,function(ne){var le=ne.graph().root,ae=I(ne,le,ue,Q);T.forEach(ae.vs,function(de,te){ne.node(de).order=te}),S(ne,ue,ae.vs)})}function H($,Q){T.forEach(Q,function(ue){T.forEach(ue,function(ne,le){$.node(ne).order=le})})}Y.exports=function V($){var Q=A.maxRank($),ue=L($,T.range(1,Q+1),"inEdges"),ne=L($,T.range(Q-1,-1,-1),"outEdges"),le=P($);H($,le);for(var de,ae=Number.POSITIVE_INFINITY,te=0,pe=0;pe<4;++te,++pe){k(te%2?ue:ne,te%4>=2),le=A.buildLayerMatrix($);var q=O($,le);q<ae&&(pe=0,de=T.cloneDeep(le),ae=q)}H($,de)}},320:(Y,se,D)=>{"use strict";var T=D(3990);Y.exports=function P(O){var I={},C=T.filter(O.nodes(),function(L){return!O.children(L).length}),S=T.max(T.map(C,function(L){return O.node(L).rank})),N=T.map(T.range(S+1),function(){return[]}),V=T.sortBy(C,function(L){return O.node(L).rank});return T.forEach(V,function A(L){if(!T.has(I,L)){I[L]=!0;var k=O.node(L);N[k.rank].push(L),T.forEach(O.successors(L),A)}}),N}},6686:(Y,se,D)=>{"use strict";var T=D(3990);Y.exports=function P(C,S){var N={};return T.forEach(C,function(V,L){var k=N[V.v]={indegree:0,in:[],out:[],vs:[V.v],i:L};T.isUndefined(V.barycenter)||(k.barycenter=V.barycenter,k.weight=V.weight)}),T.forEach(S.edges(),function(V){var L=N[V.v],k=N[V.w];!T.isUndefined(L)&&!T.isUndefined(k)&&(k.indegree++,L.out.push(N[V.w]))}),function O(C){var S=[];function N(L){return function(k){k.merged||(T.isUndefined(k.barycenter)||T.isUndefined(L.barycenter)||k.barycenter>=L.barycenter)&&function I(C,S){var N=0,A=0;C.weight&&(N+=C.barycenter*C.weight,A+=C.weight),S.weight&&(N+=S.barycenter*S.weight,A+=S.weight),C.vs=S.vs.concat(C.vs),C.barycenter=N/A,C.weight=A,C.i=Math.min(S.i,C.i),S.merged=!0}(L,k)}}function A(L){return function(k){k.in.push(L),0==--k.indegree&&C.push(k)}}for(;C.length;){var V=C.pop();S.push(V),T.forEach(V.in.reverse(),N(V)),T.forEach(V.out,A(V))}return T.map(T.filter(S,function(L){return!L.merged}),function(L){return T.pick(L,["vs","i","barycenter","weight"])})}(T.filter(N,function(V){return!V.indegree}))}},8005:(Y,se,D)=>{var T=D(3990),P=D(7995),O=D(6686),I=D(8380);Y.exports=function C(A,V,L,k){var H=A.children(V),$=A.node(V),Q=$?$.borderLeft:void 0,ue=$?$.borderRight:void 0,ne={};Q&&(H=T.filter(H,function(q){return q!==Q&&q!==ue}));var le=P(A,H);T.forEach(le,function(q){if(A.children(q.v).length){var oe=C(A,q.v,L,k);ne[q.v]=oe,T.has(oe,"barycenter")&&function N(A,V){T.isUndefined(A.barycenter)?(A.barycenter=V.barycenter,A.weight=V.weight):(A.barycenter=(A.barycenter*A.weight+V.barycenter*V.weight)/(A.weight+V.weight),A.weight+=V.weight)}(q,oe)}});var ae=O(le,L);!function S(A,V){T.forEach(A,function(L){L.vs=T.flatten(L.vs.map(function(k){return V[k]?V[k].vs:k}),!0)})}(ae,ne);var de=I(ae,k);if(Q&&(de.vs=T.flatten([Q,de.vs,ue],!0),A.predecessors(Q).length)){var te=A.node(A.predecessors(Q)[0]),pe=A.node(A.predecessors(ue)[0]);T.has(de,"barycenter")||(de.barycenter=0,de.weight=0),de.barycenter=(de.barycenter*de.weight+te.order+pe.order)/(de.weight+2),de.weight+=2}return de}},8380:(Y,se,D)=>{var T=D(3990),P=D(9505);function I(S,N,A){for(var V;N.length&&(V=T.last(N)).i<=A;)N.pop(),S.push(V.vs),A++;return A}Y.exports=function O(S,N){var A=P.partition(S,function(ne){return T.has(ne,"barycenter")}),V=A.lhs,L=T.sortBy(A.rhs,function(ne){return-ne.i}),k=[],H=0,$=0,Q=0;V.sort(function C(S){return function(N,A){return N.barycenter<A.barycenter?-1:N.barycenter>A.barycenter?1:S?A.i-N.i:N.i-A.i}}(!!N)),Q=I(k,L,Q),T.forEach(V,function(ne){Q+=ne.vs.length,k.push(ne.vs),H+=ne.barycenter*ne.weight,$+=ne.weight,Q=I(k,L,Q)});var ue={vs:T.flatten(k,!0)};return $&&(ue.barycenter=H/$,ue.weight=$),ue}},1250:(Y,se,D)=>{var T=D(3990);Y.exports=function P(C){var S=function I(C){var S={},N=0;return T.forEach(C.children(),function A(V){var L=N;T.forEach(C.children(V),A),S[V]={low:L,lim:N++}}),S}(C);T.forEach(C.graph().dummyChains,function(N){for(var A=C.node(N),V=A.edgeObj,L=function O(C,S,N,A){var $,Q,V=[],L=[],k=Math.min(S[N].low,S[A].low),H=Math.max(S[N].lim,S[A].lim);$=N;do{$=C.parent($),V.push($)}while($&&(S[$].low>k||H>S[$].lim));for(Q=$,$=A;($=C.parent($))!==Q;)L.push($);return{path:V.concat(L.reverse()),lca:Q}}(C,S,V.v,V.w),k=L.path,H=L.lca,$=0,Q=k[$],ue=!0;N!==V.w;){if(A=C.node(N),ue){for(;(Q=k[$])!==H&&C.node(Q).maxRank<A.rank;)$++;Q===H&&(ue=!1)}if(!ue){for(;$<k.length-1&&C.node(Q=k[$+1]).minRank<=A.rank;)$++;Q=k[$]}C.setParent(N,Q),N=C.successors(N)[0]}})}},8851:(Y,se,D)=>{"use strict";var T=D(3990),P=D(5849).Graph,O=D(9505);function I(ae,de){var te={};return T.reduce(de,function pe(q,oe){var ie=0,me=0,we=q.length,Se=T.last(oe);return T.forEach(oe,function(De,ze){var Be=function S(ae,de){if(ae.node(de).dummy)return T.find(ae.predecessors(de),function(te){return ae.node(te).dummy})}(ae,De),at=Be?ae.node(Be).order:we;(Be||De===Se)&&(T.forEach(oe.slice(me,ze+1),function(ht){T.forEach(ae.predecessors(ht),function(Ke){var Ct=ae.node(Ke),qe=Ct.order;(qe<ie||at<qe)&&(!Ct.dummy||!ae.node(ht).dummy)&&N(te,Ke,ht)})}),me=ze+1,ie=at)}),oe}),te}function C(ae,de){var te={};function pe(oe,ie,me,we,Se){var De;T.forEach(T.range(ie,me),function(ze){ae.node(De=oe[ze]).dummy&&T.forEach(ae.predecessors(De),function(Be){var at=ae.node(Be);at.dummy&&(at.order<we||at.order>Se)&&N(te,Be,De)})})}return T.reduce(de,function q(oe,ie){var we,me=-1,Se=0;return T.forEach(ie,function(De,ze){if("border"===ae.node(De).dummy){var Be=ae.predecessors(De);Be.length&&(we=ae.node(Be[0]).order,pe(ie,Se,ze,me,we),Se=ze,me=we)}pe(ie,Se,ie.length,we,oe.length)}),ie}),te}function N(ae,de,te){if(de>te){var pe=de;de=te,te=pe}var q=ae[de];q||(ae[de]=q={}),q[te]=!0}function A(ae,de,te){if(de>te){var pe=de;de=te,te=pe}return T.has(ae[de],te)}function V(ae,de,te,pe){var q={},oe={},ie={};return T.forEach(de,function(me){T.forEach(me,function(we,Se){q[we]=we,oe[we]=we,ie[we]=Se})}),T.forEach(de,function(me){var we=-1;T.forEach(me,function(Se){var De=pe(Se);if(De.length)for(var ze=((De=T.sortBy(De,function(Ke){return ie[Ke]})).length-1)/2,Be=Math.floor(ze),at=Math.ceil(ze);Be<=at;++Be){var ht=De[Be];oe[Se]===Se&&we<ie[ht]&&!A(te,Se,ht)&&(oe[ht]=Se,oe[Se]=q[Se]=q[ht],we=ie[ht])}})}),{root:q,align:oe}}function L(ae,de,te,pe,q){var oe={},ie=function k(ae,de,te,pe){var q=new P,oe=ae.graph(),ie=function ne(ae,de,te){return function(pe,q,oe){var Se,ie=pe.node(q),me=pe.node(oe),we=0;if(we+=ie.width/2,T.has(ie,"labelpos"))switch(ie.labelpos.toLowerCase()){case"l":Se=-ie.width/2;break;case"r":Se=ie.width/2}if(Se&&(we+=te?Se:-Se),Se=0,we+=(ie.dummy?de:ae)/2,we+=(me.dummy?de:ae)/2,we+=me.width/2,T.has(me,"labelpos"))switch(me.labelpos.toLowerCase()){case"l":Se=me.width/2;break;case"r":Se=-me.width/2}return Se&&(we+=te?Se:-Se),Se=0,we}}(oe.nodesep,oe.edgesep,pe);return T.forEach(de,function(me){var we;T.forEach(me,function(Se){var De=te[Se];if(q.setNode(De),we){var ze=te[we],Be=q.edge(ze,De);q.setEdge(ze,De,Math.max(ie(ae,Se,we),Be||0))}we=Se})}),q}(ae,de,te,q),me=q?"borderLeft":"borderRight";function we(ze,Be){for(var at=ie.nodes(),ht=at.pop(),Ke={};ht;)Ke[ht]?ze(ht):(Ke[ht]=!0,at.push(ht),at=at.concat(Be(ht))),ht=at.pop()}return we(function Se(ze){oe[ze]=ie.inEdges(ze).reduce(function(Be,at){return Math.max(Be,oe[at.v]+ie.edge(at))},0)},ie.predecessors.bind(ie)),we(function De(ze){var Be=ie.outEdges(ze).reduce(function(ht,Ke){return Math.min(ht,oe[Ke.w]-ie.edge(Ke))},Number.POSITIVE_INFINITY),at=ae.node(ze);Be!==Number.POSITIVE_INFINITY&&at.borderType!==me&&(oe[ze]=Math.max(oe[ze],Be))},ie.successors.bind(ie)),T.forEach(pe,function(ze){oe[ze]=oe[te[ze]]}),oe}function H(ae,de){return T.minBy(T.values(de),function(te){var pe=Number.NEGATIVE_INFINITY,q=Number.POSITIVE_INFINITY;return T.forIn(te,function(oe,ie){var me=function le(ae,de){return ae.node(de).width}(ae,ie)/2;pe=Math.max(oe+me,pe),q=Math.min(oe-me,q)}),pe-q})}function $(ae,de){var te=T.values(de),pe=T.min(te),q=T.max(te);T.forEach(["u","d"],function(oe){T.forEach(["l","r"],function(ie){var Se,me=oe+ie,we=ae[me];if(we!==de){var De=T.values(we);(Se="l"===ie?pe-T.min(De):q-T.max(De))&&(ae[me]=T.mapValues(we,function(ze){return ze+Se}))}})})}function Q(ae,de){return T.mapValues(ae.ul,function(te,pe){if(de)return ae[de.toLowerCase()][pe];var q=T.sortBy(T.map(ae,pe));return(q[1]+q[2])/2})}Y.exports={positionX:function ue(ae){var q,de=O.buildLayerMatrix(ae),te=T.merge(I(ae,de),C(ae,de)),pe={};T.forEach(["u","d"],function(ie){q="u"===ie?de:T.values(de).reverse(),T.forEach(["l","r"],function(me){"r"===me&&(q=T.map(q,function(ze){return T.values(ze).reverse()}));var we=("u"===ie?ae.predecessors:ae.successors).bind(ae),Se=V(0,q,te,we),De=L(ae,q,Se.root,Se.align,"r"===me);"r"===me&&(De=T.mapValues(De,function(ze){return-ze})),pe[ie+me]=De})});var oe=H(ae,pe);return $(pe,oe),Q(pe,ae.graph().align)},findType1Conflicts:I,findType2Conflicts:C,addConflict:N,hasConflict:A,verticalAlignment:V,horizontalCompaction:L,alignCoordinates:$,findSmallestWidthAlignment:H,balance:Q}},6403:(Y,se,D)=>{"use strict";var T=D(3990),P=D(9505),O=D(8851).positionX;Y.exports=function I(S){(function C(S){var N=P.buildLayerMatrix(S),A=S.graph().ranksep,V=0;T.forEach(N,function(L){var k=T.max(T.map(L,function(H){return S.node(H).height}));T.forEach(L,function(H){S.node(H).y=V+k/2}),V+=k+A})})(S=P.asNonCompoundGraph(S)),T.forEach(O(S),function(N,A){S.node(A).x=N})}},8214:(Y,se,D)=>{"use strict";var T=D(3990),P=D(5849).Graph,O=D(4216).slack;function C(A,V){return T.forEach(A.nodes(),function L(k){T.forEach(V.nodeEdges(k),function(H){var $=H.v,Q=k===$?H.w:$;!A.hasNode(Q)&&!O(V,H)&&(A.setNode(Q,{}),A.setEdge(k,Q,{}),L(Q))})}),A.nodeCount()}function S(A,V){return T.minBy(V.edges(),function(L){if(A.hasNode(L.v)!==A.hasNode(L.w))return O(V,L)})}function N(A,V,L){T.forEach(A.nodes(),function(k){V.node(k).rank+=L})}Y.exports=function I(A){var H,$,V=new P({directed:!1}),L=A.nodes()[0],k=A.nodeCount();for(V.setNode(L,{});C(V,A)<k;)H=S(V,A),$=V.hasNode(H.v)?O(A,H):-O(A,H),N(V,A,$);return V}},3752:(Y,se,D)=>{"use strict";var P=D(4216).longestPath,O=D(8214),I=D(4857);Y.exports=function C(V){switch(V.graph().ranker){case"network-simplex":default:!function A(V){I(V)}(V);break;case"tight-tree":!function N(V){P(V),O(V)}(V);break;case"longest-path":S(V)}};var S=P},4857:(Y,se,D)=>{"use strict";var T=D(3990),P=D(8214),O=D(4216).slack,I=D(4216).longestPath,C=D(5849).alg.preorder,S=D(5849).alg.postorder,N=D(9505).simplify;function A(te){te=N(te),I(te);var q,pe=P(te);for(H(pe),V(pe,te);q=Q(pe);)ne(pe,te,q,ue(pe,te,q))}function V(te,pe){var q=S(te,te.nodes());q=q.slice(0,q.length-1),T.forEach(q,function(oe){!function L(te,pe,q){var oe=te.node(q);te.edge(q,oe.parent).cutvalue=k(te,pe,q)}(te,pe,oe)})}function k(te,pe,q){var ie=te.node(q).parent,me=!0,we=pe.edge(q,ie),Se=0;return we||(me=!1,we=pe.edge(ie,q)),Se=we.weight,T.forEach(pe.nodeEdges(q),function(De){var ze=De.v===q,Be=ze?De.w:De.v;if(Be!==ie){var at=ze===me,ht=pe.edge(De).weight;if(Se+=at?ht:-ht,function ae(te,pe,q){return te.hasEdge(pe,q)}(te,q,Be)){var Ke=te.edge(q,Be).cutvalue;Se+=at?-Ke:Ke}}}),Se}function H(te,pe){arguments.length<2&&(pe=te.nodes()[0]),$(te,{},1,pe)}function $(te,pe,q,oe,ie){var me=q,we=te.node(oe);return pe[oe]=!0,T.forEach(te.neighbors(oe),function(Se){T.has(pe,Se)||(q=$(te,pe,q,Se,oe))}),we.low=me,we.lim=q++,ie?we.parent=ie:delete we.parent,q}function Q(te){return T.find(te.edges(),function(pe){return te.edge(pe).cutvalue<0})}function ue(te,pe,q){var oe=q.v,ie=q.w;pe.hasEdge(oe,ie)||(oe=q.w,ie=q.v);var me=te.node(oe),we=te.node(ie),Se=me,De=!1;me.lim>we.lim&&(Se=we,De=!0);var ze=T.filter(pe.edges(),function(Be){return De===de(0,te.node(Be.v),Se)&&De!==de(0,te.node(Be.w),Se)});return T.minBy(ze,function(Be){return O(pe,Be)})}function ne(te,pe,q,oe){te.removeEdge(q.v,q.w),te.setEdge(oe.v,oe.w,{}),H(te),V(te,pe),function le(te,pe){var q=T.find(te.nodes(),function(ie){return!pe.node(ie).parent}),oe=C(te,q);oe=oe.slice(1),T.forEach(oe,function(ie){var me=te.node(ie).parent,we=pe.edge(ie,me),Se=!1;we||(we=pe.edge(me,ie),Se=!0),pe.node(ie).rank=pe.node(me).rank+(Se?we.minlen:-we.minlen)})}(te,pe)}function de(te,pe,q){return q.low<=pe.lim&&pe.lim<=q.lim}Y.exports=A,A.initLowLimValues=H,A.initCutValues=V,A.calcCutValue=k,A.leaveEdge=Q,A.enterEdge=ue,A.exchangeEdges=ne},4216:(Y,se,D)=>{"use strict";var T=D(3990);Y.exports={longestPath:function P(I){var C={};T.forEach(I.sources(),function S(N){var A=I.node(N);if(T.has(C,N))return A.rank;C[N]=!0;var V=T.min(T.map(I.outEdges(N),function(L){return S(L.w)-I.edge(L).minlen}));return(V===Number.POSITIVE_INFINITY||null==V)&&(V=0),A.rank=V})},slack:function O(I,C){return I.node(C.w).rank-I.node(C.v).rank-I.edge(C).minlen}}},9505:(Y,se,D)=>{"use strict";var T=D(3990),P=D(5849).Graph;function O(le,ae,de,te){var pe;do{pe=T.uniqueId(te)}while(le.hasNode(pe));return de.dummy=ae,le.setNode(pe,de),pe}function $(le){return T.max(T.map(le.nodes(),function(ae){var de=le.node(ae).rank;if(!T.isUndefined(de))return de}))}Y.exports={addDummyNode:O,simplify:function I(le){var ae=(new P).setGraph(le.graph());return T.forEach(le.nodes(),function(de){ae.setNode(de,le.node(de))}),T.forEach(le.edges(),function(de){var te=ae.edge(de.v,de.w)||{weight:0,minlen:1},pe=le.edge(de);ae.setEdge(de.v,de.w,{weight:te.weight+pe.weight,minlen:Math.max(te.minlen,pe.minlen)})}),ae},asNonCompoundGraph:function C(le){var ae=new P({multigraph:le.isMultigraph()}).setGraph(le.graph());return T.forEach(le.nodes(),function(de){le.children(de).length||ae.setNode(de,le.node(de))}),T.forEach(le.edges(),function(de){ae.setEdge(de,le.edge(de))}),ae},successorWeights:function S(le){var ae=T.map(le.nodes(),function(de){var te={};return T.forEach(le.outEdges(de),function(pe){te[pe.w]=(te[pe.w]||0)+le.edge(pe).weight}),te});return T.zipObject(le.nodes(),ae)},predecessorWeights:function N(le){var ae=T.map(le.nodes(),function(de){var te={};return T.forEach(le.inEdges(de),function(pe){te[pe.v]=(te[pe.v]||0)+le.edge(pe).weight}),te});return T.zipObject(le.nodes(),ae)},intersectRect:function A(le,ae){var me,we,de=le.x,te=le.y,pe=ae.x-de,q=ae.y-te,oe=le.width/2,ie=le.height/2;if(!pe&&!q)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(q)*oe>Math.abs(pe)*ie?(q<0&&(ie=-ie),me=ie*pe/q,we=ie):(pe<0&&(oe=-oe),me=oe,we=oe*q/pe),{x:de+me,y:te+we}},buildLayerMatrix:function V(le){var ae=T.map(T.range($(le)+1),function(){return[]});return T.forEach(le.nodes(),function(de){var te=le.node(de),pe=te.rank;T.isUndefined(pe)||(ae[pe][te.order]=de)}),ae},normalizeRanks:function L(le){var ae=T.min(T.map(le.nodes(),function(de){return le.node(de).rank}));T.forEach(le.nodes(),function(de){var te=le.node(de);T.has(te,"rank")&&(te.rank-=ae)})},removeEmptyRanks:function k(le){var ae=T.min(T.map(le.nodes(),function(q){return le.node(q).rank})),de=[];T.forEach(le.nodes(),function(q){var oe=le.node(q).rank-ae;de[oe]||(de[oe]=[]),de[oe].push(q)});var te=0,pe=le.graph().nodeRankFactor;T.forEach(de,function(q,oe){T.isUndefined(q)&&oe%pe!=0?--te:te&&T.forEach(q,function(ie){le.node(ie).rank+=te})})},addBorderNode:function H(le,ae,de,te){var pe={width:0,height:0};return arguments.length>=4&&(pe.rank=de,pe.order=te),O(le,"border",pe,ae)},maxRank:$,partition:function Q(le,ae){var de={lhs:[],rhs:[]};return T.forEach(le,function(te){ae(te)?de.lhs.push(te):de.rhs.push(te)}),de},time:function ue(le,ae){var de=T.now();try{return ae()}finally{console.log(le+" time: "+(T.now()-de)+"ms")}},notime:function ne(le,ae){return ae()}}},2187:Y=>{Y.exports="0.8.5"},9034:(Y,se,D)=>{var T=D(3934);Y.exports={Graph:T.Graph,json:D(2440),alg:D(3955),version:T.version}},1986:(Y,se,D)=>{var T=D(9368);Y.exports=function P(O){var S,I={},C=[];function N(A){T.has(I,A)||(I[A]=!0,S.push(A),T.each(O.successors(A),N),T.each(O.predecessors(A),N))}return T.each(O.nodes(),function(A){S=[],N(A),S.length&&C.push(S)}),C}},1428:(Y,se,D)=>{var T=D(9368);function O(I,C,S,N,A,V){T.has(N,C)||(N[C]=!0,S||V.push(C),T.each(A(C),function(L){O(I,L,S,N,A,V)}),S&&V.push(C))}Y.exports=function P(I,C,S){T.isArray(C)||(C=[C]);var N=(I.isDirected()?I.successors:I.neighbors).bind(I),A=[],V={};return T.each(C,function(L){if(!I.hasNode(L))throw new Error("Graph does not have node: "+L);O(I,L,"post"===S,V,N,A)}),A}},5583:(Y,se,D)=>{var T=D(2644),P=D(9368);Y.exports=function O(I,C,S){return P.transform(I.nodes(),function(N,A){N[A]=T(I,A,C,S)},{})}},2644:(Y,se,D)=>{var T=D(9368),P=D(1321);Y.exports=function I(S,N,A,V){return function C(S,N,A,V){var H,$,L={},k=new P,Q=function(ue){var ne=ue.v!==H?ue.v:ue.w,le=L[ne],ae=A(ue),de=$.distance+ae;if(ae<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+ue+" Weight: "+ae);de<le.distance&&(le.distance=de,le.predecessor=H,k.decrease(ne,de))};for(S.nodes().forEach(function(ue){var ne=ue===N?0:Number.POSITIVE_INFINITY;L[ue]={distance:ne},k.add(ue,ne)});k.size()>0&&(H=k.removeMin(),($=L[H]).distance!==Number.POSITIVE_INFINITY);)V(H).forEach(Q);return L}(S,String(N),A||O,V||function(L){return S.outEdges(L)})};var O=T.constant(1)},7651:(Y,se,D)=>{var T=D(9368),P=D(3628);Y.exports=function O(I){return T.filter(P(I),function(C){return C.length>1||1===C.length&&I.hasEdge(C[0],C[0])})}},5160:(Y,se,D)=>{var T=D(9368);Y.exports=function O(C,S,N){return function I(C,S,N){var A={},V=C.nodes();return V.forEach(function(L){A[L]={},A[L][L]={distance:0},V.forEach(function(k){L!==k&&(A[L][k]={distance:Number.POSITIVE_INFINITY})}),N(L).forEach(function(k){var H=k.v===L?k.w:k.v,$=S(k);A[L][H]={distance:$,predecessor:L}})}),V.forEach(function(L){var k=A[L];V.forEach(function(H){var $=A[H];V.forEach(function(Q){var ne=k[Q],le=$[Q],ae=$[L].distance+ne.distance;ae<le.distance&&(le.distance=ae,le.predecessor=ne.predecessor)})})}),A}(C,S||P,N||function(A){return C.outEdges(A)})};var P=T.constant(1)},3955:(Y,se,D)=>{Y.exports={components:D(1986),dijkstra:D(2644),dijkstraAll:D(5583),findCycles:D(7651),floydWarshall:D(5160),isAcyclic:D(6993),postorder:D(703),preorder:D(6544),prim:D(4338),tarjan:D(3628),topsort:D(5344)}},6993:(Y,se,D)=>{var T=D(5344);Y.exports=function P(O){try{T(O)}catch(I){if(I instanceof T.CycleException)return!1;throw I}return!0}},703:(Y,se,D)=>{var T=D(1428);Y.exports=function P(O,I){return T(O,I,"post")}},6544:(Y,se,D)=>{var T=D(1428);Y.exports=function P(O,I){return T(O,I,"pre")}},4338:(Y,se,D)=>{var T=D(9368),P=D(427),O=D(1321);Y.exports=function I(C,S){var L,N=new P,A={},V=new O;function k($){var Q=$.v===L?$.w:$.v,ue=V.priority(Q);if(void 0!==ue){var ne=S($);ne<ue&&(A[Q]=L,V.decrease(Q,ne))}}if(0===C.nodeCount())return N;T.each(C.nodes(),function($){V.add($,Number.POSITIVE_INFINITY),N.setNode($)}),V.decrease(C.nodes()[0],0);for(var H=!1;V.size()>0;){if(L=V.removeMin(),T.has(A,L))N.setEdge(L,A[L]);else{if(H)throw new Error("Input graph is not connected: "+C);H=!0}C.nodeEdges(L).forEach(k)}return N}},3628:(Y,se,D)=>{var T=D(9368);Y.exports=function P(O){var I=0,C=[],S={},N=[];function A(V){var L=S[V]={onStack:!0,lowlink:I,index:I++};if(C.push(V),O.successors(V).forEach(function($){T.has(S,$)?S[$].onStack&&(L.lowlink=Math.min(L.lowlink,S[$].index)):(A($),L.lowlink=Math.min(L.lowlink,S[$].lowlink))}),L.lowlink===L.index){var H,k=[];do{H=C.pop(),S[H].onStack=!1,k.push(H)}while(V!==H);N.push(k)}}return O.nodes().forEach(function(V){T.has(S,V)||A(V)}),N}},5344:(Y,se,D)=>{var T=D(9368);function P(I){var C={},S={},N=[];if(T.each(I.sinks(),function A(V){if(T.has(S,V))throw new O;T.has(C,V)||(S[V]=!0,C[V]=!0,T.each(I.predecessors(V),A),delete S[V],N.push(V))}),T.size(C)!==I.nodeCount())throw new O;return N}function O(){}Y.exports=P,P.CycleException=O,O.prototype=new Error},1321:(Y,se,D)=>{var T=D(9368);function P(){this._arr=[],this._keyIndices={}}Y.exports=P,P.prototype.size=function(){return this._arr.length},P.prototype.keys=function(){return this._arr.map(function(O){return O.key})},P.prototype.has=function(O){return T.has(this._keyIndices,O)},P.prototype.priority=function(O){var I=this._keyIndices[O];if(void 0!==I)return this._arr[I].priority},P.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},P.prototype.add=function(O,I){var C=this._keyIndices;if(O=String(O),!T.has(C,O)){var S=this._arr,N=S.length;return C[O]=N,S.push({key:O,priority:I}),this._decrease(N),!0}return!1},P.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var O=this._arr.pop();return delete this._keyIndices[O.key],this._heapify(0),O.key},P.prototype.decrease=function(O,I){var C=this._keyIndices[O];if(I>this._arr[C].priority)throw new Error("New priority is greater than current priority. Key: "+O+" Old: "+this._arr[C].priority+" New: "+I);this._arr[C].priority=I,this._decrease(C)},P.prototype._heapify=function(O){var I=this._arr,C=2*O,S=C+1,N=O;C<I.length&&(N=I[C].priority<I[N].priority?C:N,S<I.length&&(N=I[S].priority<I[N].priority?S:N),N!==O&&(this._swap(O,N),this._heapify(N)))},P.prototype._decrease=function(O){for(var S,I=this._arr,C=I[O].priority;0!==O&&!(I[S=O>>1].priority<C);)this._swap(O,S),O=S},P.prototype._swap=function(O,I){var C=this._arr,S=this._keyIndices,N=C[O],A=C[I];C[O]=A,C[I]=N,S[A.key]=O,S[N.key]=I}},427:(Y,se,D)=>{"use strict";var T=D(9368);Y.exports=C;var P="\0",O="\0",I="\x01";function C(k){this._isDirected=!T.has(k,"directed")||k.directed,this._isMultigraph=!!T.has(k,"multigraph")&&k.multigraph,this._isCompound=!!T.has(k,"compound")&&k.compound,this._label=void 0,this._defaultNodeLabelFn=T.constant(void 0),this._defaultEdgeLabelFn=T.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[O]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function S(k,H){k[H]?k[H]++:k[H]=1}function N(k,H){--k[H]||delete k[H]}function A(k,H,$,Q){var ue=""+H,ne=""+$;if(!k&&ue>ne){var le=ue;ue=ne,ne=le}return ue+I+ne+I+(T.isUndefined(Q)?P:Q)}function L(k,H){return A(k,H.v,H.w,H.name)}C.prototype._nodeCount=0,C.prototype._edgeCount=0,C.prototype.isDirected=function(){return this._isDirected},C.prototype.isMultigraph=function(){return this._isMultigraph},C.prototype.isCompound=function(){return this._isCompound},C.prototype.setGraph=function(k){return this._label=k,this},C.prototype.graph=function(){return this._label},C.prototype.setDefaultNodeLabel=function(k){return T.isFunction(k)||(k=T.constant(k)),this._defaultNodeLabelFn=k,this},C.prototype.nodeCount=function(){return this._nodeCount},C.prototype.nodes=function(){return T.keys(this._nodes)},C.prototype.sources=function(){var k=this;return T.filter(this.nodes(),function(H){return T.isEmpty(k._in[H])})},C.prototype.sinks=function(){var k=this;return T.filter(this.nodes(),function(H){return T.isEmpty(k._out[H])})},C.prototype.setNodes=function(k,H){var $=arguments,Q=this;return T.each(k,function(ue){$.length>1?Q.setNode(ue,H):Q.setNode(ue)}),this},C.prototype.setNode=function(k,H){return T.has(this._nodes,k)?(arguments.length>1&&(this._nodes[k]=H),this):(this._nodes[k]=arguments.length>1?H:this._defaultNodeLabelFn(k),this._isCompound&&(this._parent[k]=O,this._children[k]={},this._children[O][k]=!0),this._in[k]={},this._preds[k]={},this._out[k]={},this._sucs[k]={},++this._nodeCount,this)},C.prototype.node=function(k){return this._nodes[k]},C.prototype.hasNode=function(k){return T.has(this._nodes,k)},C.prototype.removeNode=function(k){var H=this;if(T.has(this._nodes,k)){var $=function(Q){H.removeEdge(H._edgeObjs[Q])};delete this._nodes[k],this._isCompound&&(this._removeFromParentsChildList(k),delete this._parent[k],T.each(this.children(k),function(Q){H.setParent(Q)}),delete this._children[k]),T.each(T.keys(this._in[k]),$),delete this._in[k],delete this._preds[k],T.each(T.keys(this._out[k]),$),delete this._out[k],delete this._sucs[k],--this._nodeCount}return this},C.prototype.setParent=function(k,H){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(T.isUndefined(H))H=O;else{for(var $=H+="";!T.isUndefined($);$=this.parent($))if($===k)throw new Error("Setting "+H+" as parent of "+k+" would create a cycle");this.setNode(H)}return this.setNode(k),this._removeFromParentsChildList(k),this._parent[k]=H,this._children[H][k]=!0,this},C.prototype._removeFromParentsChildList=function(k){delete this._children[this._parent[k]][k]},C.prototype.parent=function(k){if(this._isCompound){var H=this._parent[k];if(H!==O)return H}},C.prototype.children=function(k){if(T.isUndefined(k)&&(k=O),this._isCompound){var H=this._children[k];if(H)return T.keys(H)}else{if(k===O)return this.nodes();if(this.hasNode(k))return[]}},C.prototype.predecessors=function(k){var H=this._preds[k];if(H)return T.keys(H)},C.prototype.successors=function(k){var H=this._sucs[k];if(H)return T.keys(H)},C.prototype.neighbors=function(k){var H=this.predecessors(k);if(H)return T.union(H,this.successors(k))},C.prototype.isLeaf=function(k){return 0===(this.isDirected()?this.successors(k):this.neighbors(k)).length},C.prototype.filterNodes=function(k){var H=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});H.setGraph(this.graph());var $=this;T.each(this._nodes,function(ne,le){k(le)&&H.setNode(le,ne)}),T.each(this._edgeObjs,function(ne){H.hasNode(ne.v)&&H.hasNode(ne.w)&&H.setEdge(ne,$.edge(ne))});var Q={};function ue(ne){var le=$.parent(ne);return void 0===le||H.hasNode(le)?(Q[ne]=le,le):le in Q?Q[le]:ue(le)}return this._isCompound&&T.each(H.nodes(),function(ne){H.setParent(ne,ue(ne))}),H},C.prototype.setDefaultEdgeLabel=function(k){return T.isFunction(k)||(k=T.constant(k)),this._defaultEdgeLabelFn=k,this},C.prototype.edgeCount=function(){return this._edgeCount},C.prototype.edges=function(){return T.values(this._edgeObjs)},C.prototype.setPath=function(k,H){var $=this,Q=arguments;return T.reduce(k,function(ue,ne){return Q.length>1?$.setEdge(ue,ne,H):$.setEdge(ue,ne),ne}),this},C.prototype.setEdge=function(){var k,H,$,Q,ue=!1,ne=arguments[0];"object"==typeof ne&&null!==ne&&"v"in ne?(k=ne.v,H=ne.w,$=ne.name,2===arguments.length&&(Q=arguments[1],ue=!0)):(k=ne,H=arguments[1],$=arguments[3],arguments.length>2&&(Q=arguments[2],ue=!0)),k=""+k,H=""+H,T.isUndefined($)||($=""+$);var le=A(this._isDirected,k,H,$);if(T.has(this._edgeLabels,le))return ue&&(this._edgeLabels[le]=Q),this;if(!T.isUndefined($)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(k),this.setNode(H),this._edgeLabels[le]=ue?Q:this._defaultEdgeLabelFn(k,H,$);var ae=function V(k,H,$,Q){var ue=""+H,ne=""+$;if(!k&&ue>ne){var le=ue;ue=ne,ne=le}var ae={v:ue,w:ne};return Q&&(ae.name=Q),ae}(this._isDirected,k,H,$);return k=ae.v,H=ae.w,Object.freeze(ae),this._edgeObjs[le]=ae,S(this._preds[H],k),S(this._sucs[k],H),this._in[H][le]=ae,this._out[k][le]=ae,this._edgeCount++,this},C.prototype.edge=function(k,H,$){var Q=1===arguments.length?L(this._isDirected,arguments[0]):A(this._isDirected,k,H,$);return this._edgeLabels[Q]},C.prototype.hasEdge=function(k,H,$){var Q=1===arguments.length?L(this._isDirected,arguments[0]):A(this._isDirected,k,H,$);return T.has(this._edgeLabels,Q)},C.prototype.removeEdge=function(k,H,$){var Q=1===arguments.length?L(this._isDirected,arguments[0]):A(this._isDirected,k,H,$),ue=this._edgeObjs[Q];return ue&&(k=ue.v,H=ue.w,delete this._edgeLabels[Q],delete this._edgeObjs[Q],N(this._preds[H],k),N(this._sucs[k],H),delete this._in[H][Q],delete this._out[k][Q],this._edgeCount--),this},C.prototype.inEdges=function(k,H){var $=this._in[k];if($){var Q=T.values($);return H?T.filter(Q,function(ue){return ue.v===H}):Q}},C.prototype.outEdges=function(k,H){var $=this._out[k];if($){var Q=T.values($);return H?T.filter(Q,function(ue){return ue.w===H}):Q}},C.prototype.nodeEdges=function(k,H){var $=this.inEdges(k,H);if($)return $.concat(this.outEdges(k,H))}},3934:(Y,se,D)=>{Y.exports={Graph:D(427),version:D(7747)}},2440:(Y,se,D)=>{var T=D(9368),P=D(427);function I(N){return T.map(N.nodes(),function(A){var V=N.node(A),L=N.parent(A),k={v:A};return T.isUndefined(V)||(k.value=V),T.isUndefined(L)||(k.parent=L),k})}function C(N){return T.map(N.edges(),function(A){var V=N.edge(A),L={v:A.v,w:A.w};return T.isUndefined(A.name)||(L.name=A.name),T.isUndefined(V)||(L.value=V),L})}Y.exports={write:function O(N){var A={options:{directed:N.isDirected(),multigraph:N.isMultigraph(),compound:N.isCompound()},nodes:I(N),edges:C(N)};return T.isUndefined(N.graph())||(A.value=T.clone(N.graph())),A},read:function S(N){var A=new P(N.options).setGraph(N.value);return T.each(N.nodes,function(V){A.setNode(V.v,V.value),V.parent&&A.setParent(V.v,V.parent)}),T.each(N.edges,function(V){A.setEdge({v:V.v,w:V.w,name:V.name},V.value)}),A}}},9368:(Y,se,D)=>{var T;try{T={clone:D(8734),constant:D(1075),each:D(6488),filter:D(7661),has:D(8669),isArray:D(2261),isEmpty:D(5350),isFunction:D(6861),isUndefined:D(8152),keys:D(4614),map:D(8921),reduce:D(5909),size:D(5741),transform:D(6893),union:D(2480),values:D(8808)}}catch{}T||(T=window._),Y.exports=T},7747:Y=>{Y.exports="2.1.8"},7444:(Y,se,D)=>{Y.exports=D(7253)},7253:function(Y,se){var D,T,P;(function(){var O,I,C,S,N,A,V,L,k,H,$,Q,ue,ne,le;C=Math.floor,H=Math.min,I=function(ae,de){return ae<de?-1:ae>de?1:0},k=function(ae,de,te,pe,q){var oe;if(null==te&&(te=0),null==q&&(q=I),te<0)throw new Error("lo must be non-negative");for(null==pe&&(pe=ae.length);te<pe;)q(de,ae[oe=C((te+pe)/2)])<0?pe=oe:te=oe+1;return[].splice.apply(ae,[te,te-te].concat(de)),de},A=function(ae,de,te){return null==te&&(te=I),ae.push(de),ne(ae,0,ae.length-1,te)},N=function(ae,de){var te,pe;return null==de&&(de=I),te=ae.pop(),ae.length?(pe=ae[0],ae[0]=te,le(ae,0,de)):pe=te,pe},L=function(ae,de,te){var pe;return null==te&&(te=I),pe=ae[0],ae[0]=de,le(ae,0,te),pe},V=function(ae,de,te){var pe;return null==te&&(te=I),ae.length&&te(ae[0],de)<0&&(de=(pe=[ae[0],de])[0],ae[0]=pe[1],le(ae,0,te)),de},S=function(ae,de){var pe,oe,me,we,Se;for(null==de&&(de=I),we=[],pe=0,oe=(me=function(){Se=[];for(var De=0,ze=C(ae.length/2);0<=ze?De<ze:De>ze;0<=ze?De++:De--)Se.push(De);return Se}.apply(this).reverse()).length;pe<oe;pe++)we.push(le(ae,me[pe],de));return we},ue=function(ae,de,te){var pe;if(null==te&&(te=I),-1!==(pe=ae.indexOf(de)))return ne(ae,0,pe,te),le(ae,pe,te)},$=function(ae,de,te){var q,oe,ie,me;if(null==te&&(te=I),!(q=ae.slice(0,de)).length)return q;for(S(q,te),oe=0,ie=(me=ae.slice(de)).length;oe<ie;oe++)V(q,me[oe],te);return q.sort(te).reverse()},Q=function(ae,de,te){var pe,oe,ie,me,we,Se,De,ze,Be;if(null==te&&(te=I),10*de<=ae.length){if(!(ie=ae.slice(0,de).sort(te)).length)return ie;for(oe=ie[ie.length-1],me=0,Se=(De=ae.slice(de)).length;me<Se;me++)te(pe=De[me],oe)<0&&(k(ie,pe,0,null,te),ie.pop(),oe=ie[ie.length-1]);return ie}for(S(ae,te),Be=[],we=0,ze=H(de,ae.length);0<=ze?we<ze:we>ze;0<=ze?++we:--we)Be.push(N(ae,te));return Be},ne=function(ae,de,te,pe){var q,oe,ie;for(null==pe&&(pe=I),q=ae[te];te>de&&pe(q,oe=ae[ie=te-1>>1])<0;)ae[te]=oe,te=ie;return ae[te]=q},le=function(ae,de,te){var pe,q,oe,ie,me;for(null==te&&(te=I),q=ae.length,me=de,oe=ae[de],pe=2*de+1;pe<q;)(ie=pe+1)<q&&!(te(ae[pe],ae[ie])<0)&&(pe=ie),ae[de]=ae[pe],pe=2*(de=pe)+1;return ae[de]=oe,ne(ae,me,de,te)},O=function(){function ae(de){this.cmp=de??I,this.nodes=[]}return ae.push=A,ae.pop=N,ae.replace=L,ae.pushpop=V,ae.heapify=S,ae.updateItem=ue,ae.nlargest=$,ae.nsmallest=Q,ae.prototype.push=function(de){return A(this.nodes,de,this.cmp)},ae.prototype.pop=function(){return N(this.nodes,this.cmp)},ae.prototype.peek=function(){return this.nodes[0]},ae.prototype.contains=function(de){return-1!==this.nodes.indexOf(de)},ae.prototype.replace=function(de){return L(this.nodes,de,this.cmp)},ae.prototype.pushpop=function(de){return V(this.nodes,de,this.cmp)},ae.prototype.heapify=function(){return S(this.nodes,this.cmp)},ae.prototype.updateItem=function(de){return ue(this.nodes,de,this.cmp)},ae.prototype.clear=function(){return this.nodes=[]},ae.prototype.empty=function(){return 0===this.nodes.length},ae.prototype.size=function(){return this.nodes.length},ae.prototype.clone=function(){var de;return(de=new ae).nodes=this.nodes.slice(0),de},ae.prototype.toArray=function(){return this.nodes.slice(0)},ae.prototype.insert=ae.prototype.push,ae.prototype.top=ae.prototype.peek,ae.prototype.front=ae.prototype.peek,ae.prototype.has=ae.prototype.contains,ae.prototype.copy=ae.prototype.clone,ae}(),T=[],void 0===(P="function"==typeof(D=function(){return O})?D.apply(se,T):D)||(Y.exports=P)}).call(this)},4465:function(Y){Y.exports=function(se){var D={};function T(P){if(D[P])return D[P].exports;var O=D[P]={i:P,l:!1,exports:{}};return se[P].call(O.exports,O,O.exports,T),O.l=!0,O.exports}return T.m=se,T.c=D,T.i=function(P){return P},T.d=function(P,O,I){T.o(P,O)||Object.defineProperty(P,O,{configurable:!1,enumerable:!0,get:I})},T.n=function(P){var O=P&&P.__esModule?function(){return P.default}:function(){return P};return T.d(O,"a",O),O},T.o=function(P,O){return Object.prototype.hasOwnProperty.call(P,O)},T.p="",T(T.s=26)}([function(se,D,T){"use strict";function P(){}P.QUALITY=1,P.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,P.DEFAULT_INCREMENTAL=!1,P.DEFAULT_ANIMATION_ON_LAYOUT=!0,P.DEFAULT_ANIMATION_DURING_LAYOUT=!1,P.DEFAULT_ANIMATION_PERIOD=50,P.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,P.DEFAULT_GRAPH_MARGIN=15,P.NODE_DIMENSIONS_INCLUDE_LABELS=!1,P.SIMPLE_NODE_HALF_SIZE=(P.SIMPLE_NODE_SIZE=40)/2,P.EMPTY_COMPOUND_NODE_SIZE=40,P.MIN_EDGE_LENGTH=1,P.INITIAL_WORLD_BOUNDARY=(P.WORLD_BOUNDARY=1e6)/1e3,P.WORLD_CENTER_X=1200,P.WORLD_CENTER_Y=900,se.exports=P},function(se,D,T){"use strict";var P=T(2),O=T(8),I=T(9);function C(N,A,V){P.call(this,V),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=V,this.bendpoints=[],this.source=N,this.target=A}for(var S in C.prototype=Object.create(P.prototype),P)C[S]=P[S];C.prototype.getSource=function(){return this.source},C.prototype.getTarget=function(){return this.target},C.prototype.isInterGraph=function(){return this.isInterGraph},C.prototype.getLength=function(){return this.length},C.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},C.prototype.getBendpoints=function(){return this.bendpoints},C.prototype.getLca=function(){return this.lca},C.prototype.getSourceInLca=function(){return this.sourceInLca},C.prototype.getTargetInLca=function(){return this.targetInLca},C.prototype.getOtherEnd=function(N){if(this.source===N)return this.target;if(this.target===N)return this.source;throw"Node is not incident with this edge"},C.prototype.getOtherEndInGraph=function(N,A){for(var V=this.getOtherEnd(N),L=A.getGraphManager().getRoot();;){if(V.getOwner()==A)return V;if(V.getOwner()==L)break;V=V.getOwner().getParent()}return null},C.prototype.updateLength=function(){var N=new Array(4);this.isOverlapingSourceAndTarget=O.getIntersection(this.target.getRect(),this.source.getRect(),N),this.isOverlapingSourceAndTarget||(this.lengthX=N[0]-N[2],this.lengthY=N[1]-N[3],Math.abs(this.lengthX)<1&&(this.lengthX=I.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=I.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},C.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=I.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=I.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},se.exports=C},function(se,D,T){"use strict";se.exports=function P(O){this.vGraphObject=O}},function(se,D,T){"use strict";var P=T(2),O=T(10),I=T(13),C=T(0),S=T(16),N=T(4);function A(L,k,H,$){null==H&&null==$&&($=k),P.call(this,$),null!=L.graphManager&&(L=L.graphManager),this.estimatedSize=O.MIN_VALUE,this.inclusionTreeDepth=O.MAX_VALUE,this.vGraphObject=$,this.edges=[],this.graphManager=L,this.rect=null!=H&&null!=k?new I(k.x,k.y,H.width,H.height):new I}for(var V in A.prototype=Object.create(P.prototype),P)A[V]=P[V];A.prototype.getEdges=function(){return this.edges},A.prototype.getChild=function(){return this.child},A.prototype.getOwner=function(){return this.owner},A.prototype.getWidth=function(){return this.rect.width},A.prototype.setWidth=function(L){this.rect.width=L},A.prototype.getHeight=function(){return this.rect.height},A.prototype.setHeight=function(L){this.rect.height=L},A.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},A.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},A.prototype.getCenter=function(){return new N(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},A.prototype.getLocation=function(){return new N(this.rect.x,this.rect.y)},A.prototype.getRect=function(){return this.rect},A.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},A.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},A.prototype.setRect=function(L,k){this.rect.x=L.x,this.rect.y=L.y,this.rect.width=k.width,this.rect.height=k.height},A.prototype.setCenter=function(L,k){this.rect.x=L-this.rect.width/2,this.rect.y=k-this.rect.height/2},A.prototype.setLocation=function(L,k){this.rect.x=L,this.rect.y=k},A.prototype.moveBy=function(L,k){this.rect.x+=L,this.rect.y+=k},A.prototype.getEdgeListToNode=function(L){var k=[],$=this;return $.edges.forEach(function(Q){if(Q.target==L){if(Q.source!=$)throw"Incorrect edge source!";k.push(Q)}}),k},A.prototype.getEdgesBetween=function(L){var k=[],$=this;return $.edges.forEach(function(Q){if(Q.source!=$&&Q.target!=$)throw"Incorrect edge source and/or target";(Q.target==L||Q.source==L)&&k.push(Q)}),k},A.prototype.getNeighborsList=function(){var L=new Set,k=this;return k.edges.forEach(function(H){if(H.source==k)L.add(H.target);else{if(H.target!=k)throw"Incorrect incidency!";L.add(H.source)}}),L},A.prototype.withChildren=function(){var L=new Set;if(L.add(this),null!=this.child)for(var $=this.child.getNodes(),Q=0;Q<$.length;Q++)$[Q].withChildren().forEach(function(ue){L.add(ue)});return L},A.prototype.getNoOfChildren=function(){var L=0;if(null==this.child)L=1;else for(var H=this.child.getNodes(),$=0;$<H.length;$++)L+=H[$].getNoOfChildren();return 0==L&&(L=1),L},A.prototype.getEstimatedSize=function(){if(this.estimatedSize==O.MIN_VALUE)throw"assert failed";return this.estimatedSize},A.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},A.prototype.scatter=function(){var L,k,H=-C.INITIAL_WORLD_BOUNDARY,$=C.INITIAL_WORLD_BOUNDARY;L=C.WORLD_CENTER_X+S.nextDouble()*($-H)+H;var Q=-C.INITIAL_WORLD_BOUNDARY,ue=C.INITIAL_WORLD_BOUNDARY;k=C.WORLD_CENTER_Y+S.nextDouble()*(ue-Q)+Q,this.rect.x=L,this.rect.y=k},A.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var L=this.getChild();if(L.updateBounds(!0),this.rect.x=L.getLeft(),this.rect.y=L.getTop(),this.setWidth(L.getRight()-L.getLeft()),this.setHeight(L.getBottom()-L.getTop()),C.NODE_DIMENSIONS_INCLUDE_LABELS){var k=L.getRight()-L.getLeft(),H=L.getBottom()-L.getTop();this.labelWidth>k&&(this.rect.x-=(this.labelWidth-k)/2,this.setWidth(this.labelWidth)),this.labelHeight>H&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-H)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-H),this.setHeight(this.labelHeight))}}},A.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==O.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},A.prototype.transform=function(L){var k=this.rect.x;k>C.WORLD_BOUNDARY?k=C.WORLD_BOUNDARY:k<-C.WORLD_BOUNDARY&&(k=-C.WORLD_BOUNDARY);var H=this.rect.y;H>C.WORLD_BOUNDARY?H=C.WORLD_BOUNDARY:H<-C.WORLD_BOUNDARY&&(H=-C.WORLD_BOUNDARY);var $=new N(k,H),Q=L.inverseTransformPoint($);this.setLocation(Q.x,Q.y)},A.prototype.getLeft=function(){return this.rect.x},A.prototype.getRight=function(){return this.rect.x+this.rect.width},A.prototype.getTop=function(){return this.rect.y},A.prototype.getBottom=function(){return this.rect.y+this.rect.height},A.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},se.exports=A},function(se,D,T){"use strict";function P(O,I){null==O&&null==I?(this.x=0,this.y=0):(this.x=O,this.y=I)}P.prototype.getX=function(){return this.x},P.prototype.getY=function(){return this.y},P.prototype.setX=function(O){this.x=O},P.prototype.setY=function(O){this.y=O},P.prototype.getDifference=function(O){return new DimensionD(this.x-O.x,this.y-O.y)},P.prototype.getCopy=function(){return new P(this.x,this.y)},P.prototype.translate=function(O){return this.x+=O.width,this.y+=O.height,this},se.exports=P},function(se,D,T){"use strict";var P=T(2),O=T(10),I=T(0),C=T(6),S=T(3),N=T(1),A=T(13),V=T(12),L=T(11);function k($,Q,ue){P.call(this,ue),this.estimatedSize=O.MIN_VALUE,this.margin=I.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=$,null!=Q&&Q instanceof C?this.graphManager=Q:null!=Q&&Q instanceof Layout&&(this.graphManager=Q.graphManager)}for(var H in k.prototype=Object.create(P.prototype),P)k[H]=P[H];k.prototype.getNodes=function(){return this.nodes},k.prototype.getEdges=function(){return this.edges},k.prototype.getGraphManager=function(){return this.graphManager},k.prototype.getParent=function(){return this.parent},k.prototype.getLeft=function(){return this.left},k.prototype.getRight=function(){return this.right},k.prototype.getTop=function(){return this.top},k.prototype.getBottom=function(){return this.bottom},k.prototype.isConnected=function(){return this.isConnected},k.prototype.add=function($,Q,ue){if(null==Q&&null==ue){var ne=$;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(ne)>-1)throw"Node already in graph!";return ne.owner=this,this.getNodes().push(ne),ne}var le=$;if(!(this.getNodes().indexOf(Q)>-1&&this.getNodes().indexOf(ue)>-1))throw"Source or target not in graph!";if(Q.owner!=ue.owner||Q.owner!=this)throw"Both owners must be this graph!";return Q.owner!=ue.owner?null:(le.source=Q,le.target=ue,le.isInterGraph=!1,this.getEdges().push(le),Q.edges.push(le),ue!=Q&&ue.edges.push(le),le)},k.prototype.remove=function($){var Q=$;if($ instanceof S){if(null==Q)throw"Node is null!";if(null==Q.owner||Q.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var ue=Q.edges.slice(),le=ue.length,ae=0;ae<le;ae++)(ne=ue[ae]).isInterGraph?this.graphManager.remove(ne):ne.source.owner.remove(ne);if(-1==(de=this.nodes.indexOf(Q)))throw"Node not in owner node list!";this.nodes.splice(de,1)}else if($ instanceof N){var ne;if(null==(ne=$))throw"Edge is null!";if(null==ne.source||null==ne.target)throw"Source and/or target is null!";if(null==ne.source.owner||null==ne.target.owner||ne.source.owner!=this||ne.target.owner!=this)throw"Source and/or target owner is invalid!";var de,te=ne.source.edges.indexOf(ne),pe=ne.target.edges.indexOf(ne);if(!(te>-1&&pe>-1))throw"Source and/or target doesn't know this edge!";if(ne.source.edges.splice(te,1),ne.target!=ne.source&&ne.target.edges.splice(pe,1),-1==(de=ne.source.owner.getEdges().indexOf(ne)))throw"Not in owner's edge list!";ne.source.owner.getEdges().splice(de,1)}},k.prototype.updateLeftTop=function(){for(var ue,ne,le,$=O.MAX_VALUE,Q=O.MAX_VALUE,ae=this.getNodes(),de=ae.length,te=0;te<de;te++){var pe=ae[te];$>(ue=pe.getTop())&&($=ue),Q>(ne=pe.getLeft())&&(Q=ne)}return $==O.MAX_VALUE?null:(le=null!=ae[0].getParent().paddingLeft?ae[0].getParent().paddingLeft:this.margin,this.left=Q-le,this.top=$-le,new V(this.left,this.top))},k.prototype.updateBounds=function($){for(var ae,de,te,pe,q,Q=O.MAX_VALUE,ue=-O.MAX_VALUE,ne=O.MAX_VALUE,le=-O.MAX_VALUE,oe=this.nodes,ie=oe.length,me=0;me<ie;me++){var we=oe[me];$&&null!=we.child&&we.updateBounds(),Q>(ae=we.getLeft())&&(Q=ae),ue<(de=we.getRight())&&(ue=de),ne>(te=we.getTop())&&(ne=te),le<(pe=we.getBottom())&&(le=pe)}var Se=new A(Q,ne,ue-Q,le-ne);Q==O.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),q=null!=oe[0].getParent().paddingLeft?oe[0].getParent().paddingLeft:this.margin,this.left=Se.x-q,this.right=Se.x+Se.width+q,this.top=Se.y-q,this.bottom=Se.y+Se.height+q},k.calculateBounds=function($){for(var ae,de,te,pe,Q=O.MAX_VALUE,ue=-O.MAX_VALUE,ne=O.MAX_VALUE,le=-O.MAX_VALUE,q=$.length,oe=0;oe<q;oe++){var ie=$[oe];Q>(ae=ie.getLeft())&&(Q=ae),ue<(de=ie.getRight())&&(ue=de),ne>(te=ie.getTop())&&(ne=te),le<(pe=ie.getBottom())&&(le=pe)}return new A(Q,ne,ue-Q,le-ne)},k.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},k.prototype.getEstimatedSize=function(){if(this.estimatedSize==O.MIN_VALUE)throw"assert failed";return this.estimatedSize},k.prototype.calcEstimatedSize=function(){for(var $=0,Q=this.nodes,ue=Q.length,ne=0;ne<ue;ne++)$+=Q[ne].calcEstimatedSize();return this.estimatedSize=0==$?I.EMPTY_COMPOUND_NODE_SIZE:$/Math.sqrt(this.nodes.length),this.estimatedSize},k.prototype.updateConnected=function(){var $=this;if(0!=this.nodes.length){var le,ae,Q=new L,ue=new Set,ne=this.nodes[0];for(ne.withChildren().forEach(function(me){Q.push(me),ue.add(me)});0!==Q.length;)for(var te=(le=(ne=Q.shift()).getEdges()).length,pe=0;pe<te;pe++)null==(ae=le[pe].getOtherEndInGraph(ne,this))||ue.has(ae)||ae.withChildren().forEach(function(me){Q.push(me),ue.add(me)});if(this.isConnected=!1,ue.size>=this.nodes.length){var ie=0;ue.forEach(function(me){me.owner==$&&ie++}),ie==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},se.exports=k},function(se,D,T){"use strict";var P,O=T(1);function I(C){P=T(5),this.layout=C,this.graphs=[],this.edges=[]}I.prototype.addRoot=function(){var C=this.layout.newGraph(),S=this.layout.newNode(null),N=this.add(C,S);return this.setRootGraph(N),this.rootGraph},I.prototype.add=function(C,S,N,A,V){if(null==N&&null==A&&null==V){if(null==C)throw"Graph is null!";if(null==S)throw"Parent node is null!";if(this.graphs.indexOf(C)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(C),null!=C.parent)throw"Already has a parent!";if(null!=S.child)throw"Already has a child!";return C.parent=S,S.child=C,C}V=N,N=C;var L=(A=S).getOwner(),k=V.getOwner();if(null==L||L.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==k||k.getGraphManager()!=this)throw"Target not in this graph mgr!";if(L==k)return N.isInterGraph=!1,L.add(N,A,V);if(N.isInterGraph=!0,N.source=A,N.target=V,this.edges.indexOf(N)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(N),null==N.source||null==N.target)throw"Edge source and/or target is null!";if(-1!=N.source.edges.indexOf(N)||-1!=N.target.edges.indexOf(N))throw"Edge already in source and/or target incidency list!";return N.source.edges.push(N),N.target.edges.push(N),N},I.prototype.remove=function(C){if(C instanceof P){var S=C;if(S.getGraphManager()!=this)throw"Graph not in this graph mgr";if(S!=this.rootGraph&&(null==S.parent||S.parent.graphManager!=this))throw"Invalid parent node!";for(var A,N=[],V=(N=N.concat(S.getEdges())).length,L=0;L<V;L++)S.remove(A=N[L]);var k=[];for(V=(k=k.concat(S.getNodes())).length,L=0;L<V;L++)S.remove(k[L]);S==this.rootGraph&&this.setRootGraph(null);var $=this.graphs.indexOf(S);this.graphs.splice($,1),S.parent=null}else if(C instanceof O){if(null==(A=C))throw"Edge is null!";if(!A.isInterGraph)throw"Not an inter-graph edge!";if(null==A.source||null==A.target)throw"Source and/or target is null!";if(-1==A.source.edges.indexOf(A)||-1==A.target.edges.indexOf(A))throw"Source and/or target doesn't know this edge!";if($=A.source.edges.indexOf(A),A.source.edges.splice($,1),$=A.target.edges.indexOf(A),A.target.edges.splice($,1),null==A.source.owner||null==A.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==A.source.owner.getGraphManager().edges.indexOf(A))throw"Not in owner graph manager's edge list!";$=A.source.owner.getGraphManager().edges.indexOf(A),A.source.owner.getGraphManager().edges.splice($,1)}},I.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},I.prototype.getGraphs=function(){return this.graphs},I.prototype.getAllNodes=function(){if(null==this.allNodes){for(var C=[],S=this.getGraphs(),N=S.length,A=0;A<N;A++)C=C.concat(S[A].getNodes());this.allNodes=C}return this.allNodes},I.prototype.resetAllNodes=function(){this.allNodes=null},I.prototype.resetAllEdges=function(){this.allEdges=null},I.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},I.prototype.getAllEdges=function(){if(null==this.allEdges){for(var C=[],S=this.getGraphs(),A=0;A<S.length;A++)C=C.concat(S[A].getEdges());C=C.concat(this.edges),this.allEdges=C}return this.allEdges},I.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},I.prototype.setAllNodesToApplyGravitation=function(C){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=C},I.prototype.getRoot=function(){return this.rootGraph},I.prototype.setRootGraph=function(C){if(C.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=C,null==C.parent&&(C.parent=this.layout.newNode("Root node"))},I.prototype.getLayout=function(){return this.layout},I.prototype.isOneAncestorOfOther=function(C,S){if(null==C||null==S)throw"assert failed";if(C==S)return!0;for(var A,N=C.getOwner();null!=(A=N.getParent());){if(A==S)return!0;if(null==(N=A.getOwner()))break}for(N=S.getOwner();null!=(A=N.getParent());){if(A==C)return!0;if(null==(N=A.getOwner()))break}return!1},I.prototype.calcLowestCommonAncestors=function(){for(var C,S,N,A,V,L=this.getAllEdges(),k=L.length,H=0;H<k;H++)if(S=(C=L[H]).source,N=C.target,C.lca=null,C.sourceInLca=S,C.targetInLca=N,S!=N){for(A=S.getOwner();null==C.lca;){for(C.targetInLca=N,V=N.getOwner();null==C.lca;){if(V==A){C.lca=V;break}if(V==this.rootGraph)break;if(null!=C.lca)throw"assert failed";C.targetInLca=V.getParent(),V=C.targetInLca.getOwner()}if(A==this.rootGraph)break;null==C.lca&&(C.sourceInLca=A.getParent(),A=C.sourceInLca.getOwner())}if(null==C.lca)throw"assert failed"}else C.lca=S.getOwner()},I.prototype.calcLowestCommonAncestor=function(C,S){if(C==S)return C.getOwner();for(var N=C.getOwner();null!=N;){for(var A=S.getOwner();null!=A;){if(A==N)return A;A=A.getParent().getOwner()}N=N.getParent().getOwner()}return N},I.prototype.calcInclusionTreeDepths=function(C,S){null==C&&null==S&&(C=this.rootGraph,S=1);for(var N,A=C.getNodes(),V=A.length,L=0;L<V;L++)(N=A[L]).inclusionTreeDepth=S,null!=N.child&&this.calcInclusionTreeDepths(N.child,S+1)},I.prototype.includesInvalidEdge=function(){for(var C,S=this.edges.length,N=0;N<S;N++)if(this.isOneAncestorOfOther((C=this.edges[N]).source,C.target))return!0;return!1},se.exports=I},function(se,D,T){"use strict";var P=T(0);function O(){}for(var I in P)O[I]=P[I];O.MAX_ITERATIONS=2500,O.DEFAULT_EDGE_LENGTH=50,O.DEFAULT_SPRING_STRENGTH=.45,O.DEFAULT_REPULSION_STRENGTH=4500,O.DEFAULT_GRAVITY_STRENGTH=.4,O.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,O.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,O.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,O.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,O.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,O.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,O.COOLING_ADAPTATION_FACTOR=.33,O.ADAPTATION_LOWER_NODE_LIMIT=1e3,O.ADAPTATION_UPPER_NODE_LIMIT=5e3,O.MAX_NODE_DISPLACEMENT=3*(O.MAX_NODE_DISPLACEMENT_INCREMENTAL=100),O.MIN_REPULSION_DIST=O.DEFAULT_EDGE_LENGTH/10,O.CONVERGENCE_CHECK_PERIOD=100,O.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,O.MIN_EDGE_LENGTH=1,O.GRID_CALCULATION_CHECK_PERIOD=10,se.exports=O},function(se,D,T){"use strict";var P=T(12);function O(){}O.calcSeparationAmount=function(I,C,S,N){if(!I.intersects(C))throw"assert failed";var A=new Array(2);this.decideDirectionsForOverlappingNodes(I,C,A),S[0]=Math.min(I.getRight(),C.getRight())-Math.max(I.x,C.x),S[1]=Math.min(I.getBottom(),C.getBottom())-Math.max(I.y,C.y),I.getX()<=C.getX()&&I.getRight()>=C.getRight()?S[0]+=Math.min(C.getX()-I.getX(),I.getRight()-C.getRight()):C.getX()<=I.getX()&&C.getRight()>=I.getRight()&&(S[0]+=Math.min(I.getX()-C.getX(),C.getRight()-I.getRight())),I.getY()<=C.getY()&&I.getBottom()>=C.getBottom()?S[1]+=Math.min(C.getY()-I.getY(),I.getBottom()-C.getBottom()):C.getY()<=I.getY()&&C.getBottom()>=I.getBottom()&&(S[1]+=Math.min(I.getY()-C.getY(),C.getBottom()-I.getBottom()));var V=Math.abs((C.getCenterY()-I.getCenterY())/(C.getCenterX()-I.getCenterX()));C.getCenterY()===I.getCenterY()&&C.getCenterX()===I.getCenterX()&&(V=1);var L=V*S[0],k=S[1]/V;S[0]<k?k=S[0]:L=S[1],S[0]=-1*A[0]*(k/2+N),S[1]=-1*A[1]*(L/2+N)},O.decideDirectionsForOverlappingNodes=function(I,C,S){S[0]=I.getCenterX()<C.getCenterX()?-1:1,S[1]=I.getCenterY()<C.getCenterY()?-1:1},O.getIntersection2=function(I,C,S){var N=I.getCenterX(),A=I.getCenterY(),V=C.getCenterX(),L=C.getCenterY();if(I.intersects(C))return S[0]=N,S[1]=A,S[2]=V,S[3]=L,!0;var k=I.getX(),H=I.getY(),$=I.getRight(),Q=I.getX(),ue=I.getBottom(),ne=I.getRight(),le=I.getWidthHalf(),ae=I.getHeightHalf(),de=C.getX(),te=C.getY(),pe=C.getRight(),q=C.getX(),oe=C.getBottom(),ie=C.getRight(),me=C.getWidthHalf(),we=C.getHeightHalf(),Se=!1,De=!1;if(N===V){if(A>L)return S[0]=N,S[1]=H,S[2]=V,S[3]=oe,!1;if(A<L)return S[0]=N,S[1]=ue,S[2]=V,S[3]=te,!1}else if(A===L){if(N>V)return S[0]=k,S[1]=A,S[2]=pe,S[3]=L,!1;if(N<V)return S[0]=$,S[1]=A,S[2]=de,S[3]=L,!1}else{var ze=I.height/I.width,Be=C.height/C.width,at=(L-A)/(V-N),ht=void 0,Ke=void 0,qe=void 0,Ht=void 0;if(-ze===at?N>V?(S[0]=Q,S[1]=ue,Se=!0):(S[0]=$,S[1]=H,Se=!0):ze===at&&(N>V?(S[0]=k,S[1]=H,Se=!0):(S[0]=ne,S[1]=ue,Se=!0)),-Be===at?V>N?(S[2]=q,S[3]=oe,De=!0):(S[2]=pe,S[3]=te,De=!0):Be===at&&(V>N?(S[2]=de,S[3]=te,De=!0):(S[2]=ie,S[3]=oe,De=!0)),Se&&De)return!1;if(N>V?A>L?(ht=this.getCardinalDirection(ze,at,4),Ke=this.getCardinalDirection(Be,at,2)):(ht=this.getCardinalDirection(-ze,at,3),Ke=this.getCardinalDirection(-Be,at,1)):A>L?(ht=this.getCardinalDirection(-ze,at,1),Ke=this.getCardinalDirection(-Be,at,3)):(ht=this.getCardinalDirection(ze,at,2),Ke=this.getCardinalDirection(Be,at,4)),!Se)switch(ht){case 1:qe=H,S[0]=N+-ae/at,S[1]=qe;break;case 2:qe=A+le*at,S[0]=ne,S[1]=qe;break;case 3:qe=ue,S[0]=N+ae/at,S[1]=qe;break;case 4:qe=A+-le*at,S[0]=Q,S[1]=qe}if(!De)switch(Ke){case 1:Ht=te,S[2]=V+-we/at,S[3]=Ht;break;case 2:Ht=L+me*at,S[2]=ie,S[3]=Ht;break;case 3:Ht=oe,S[2]=V+we/at,S[3]=Ht;break;case 4:Ht=L+-me*at,S[2]=q,S[3]=Ht}}return!1},O.getCardinalDirection=function(I,C,S){return I>C?S:1+S%4},O.getIntersection=function(I,C,S,N){if(null==N)return this.getIntersection2(I,C,S);var ae,de,te,pe,q,oe,ie,A=I.x,V=I.y,L=C.x,k=C.y,H=S.x,$=S.y,Q=N.x,ue=N.y;return q=L*V-A*k,oe=Q*$-H*ue,0==(ie=(ae=k-V)*(pe=H-Q)-(de=ue-$)*(te=A-L))?null:new P((te*oe-pe*q)/ie,(de*q-ae*oe)/ie)},O.angleOfVector=function(I,C,S,N){var A=void 0;return I!==S?(A=Math.atan((N-C)/(S-I)),S<I?A+=Math.PI:N<C&&(A+=this.TWO_PI)):A=N<C?this.ONE_AND_HALF_PI:this.HALF_PI,A},O.doIntersect=function(I,C,S,N){var A=I.x,V=I.y,L=C.x,k=C.y,H=S.x,$=S.y,Q=N.x,ue=N.y,ne=(L-A)*(ue-$)-(Q-H)*(k-V);if(0===ne)return!1;var le=((ue-$)*(Q-A)+(H-Q)*(ue-V))/ne,ae=((V-k)*(Q-A)+(L-A)*(ue-V))/ne;return 0<le&&le<1&&0<ae&&ae<1},O.HALF_PI=.5*Math.PI,O.ONE_AND_HALF_PI=1.5*Math.PI,O.TWO_PI=2*Math.PI,O.THREE_PI=3*Math.PI,se.exports=O},function(se,D,T){"use strict";function P(){}P.sign=function(O){return O>0?1:O<0?-1:0},P.floor=function(O){return O<0?Math.ceil(O):Math.floor(O)},P.ceil=function(O){return O<0?Math.floor(O):Math.ceil(O)},se.exports=P},function(se,D,T){"use strict";function P(){}P.MAX_VALUE=2147483647,P.MIN_VALUE=-2147483648,se.exports=P},function(se,D,T){"use strict";var P=function(){function A(V,L){for(var k=0;k<L.length;k++){var H=L[k];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(V,H.key,H)}}return function(V,L,k){return L&&A(V.prototype,L),k&&A(V,k),V}}();var I=function(V){return{value:V,next:null,prev:null}},C=function(V,L,k,H){return null!==V?V.next=L:H.head=L,null!==k?k.prev=L:H.tail=L,L.prev=V,L.next=k,H.length++,L},S=function(V,L){var k=V.prev,H=V.next;return null!==k?k.next=H:L.head=H,null!==H?H.prev=k:L.tail=k,V.prev=V.next=null,L.length--,V},N=function(){function A(V){var L=this;(function O(A,V){if(!(A instanceof V))throw new TypeError("Cannot call a class as a function")})(this,A),this.length=0,this.head=null,this.tail=null,V?.forEach(function(k){return L.push(k)})}return P(A,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(L,k){return C(k.prev,I(L),k,this)}},{key:"insertAfter",value:function(L,k){return C(k,I(L),k.next,this)}},{key:"insertNodeBefore",value:function(L,k){return C(k.prev,L,k,this)}},{key:"insertNodeAfter",value:function(L,k){return C(k,L,k.next,this)}},{key:"push",value:function(L){return C(this.tail,I(L),null,this)}},{key:"unshift",value:function(L){return C(null,I(L),this.head,this)}},{key:"remove",value:function(L){return S(L,this)}},{key:"pop",value:function(){return S(this.tail,this).value}},{key:"popNode",value:function(){return S(this.tail,this)}},{key:"shift",value:function(){return S(this.head,this).value}},{key:"shiftNode",value:function(){return S(this.head,this)}},{key:"get_object_at",value:function(L){if(L<=this.length()){for(var k=1,H=this.head;k<L;)H=H.next,k++;return H.value}}},{key:"set_object_at",value:function(L,k){if(L<=this.length()){for(var H=1,$=this.head;H<L;)$=$.next,H++;$.value=k}}}]),A}();se.exports=N},function(se,D,T){"use strict";function P(O,I,C){this.x=null,this.y=null,null==O&&null==I&&null==C?(this.x=0,this.y=0):"number"==typeof O&&"number"==typeof I&&null==C?(this.x=O,this.y=I):"Point"==O.constructor.name&&null==I&&null==C&&(this.x=(C=O).x,this.y=C.y)}P.prototype.getX=function(){return this.x},P.prototype.getY=function(){return this.y},P.prototype.getLocation=function(){return new P(this.x,this.y)},P.prototype.setLocation=function(O,I,C){"Point"==O.constructor.name&&null==I&&null==C?this.setLocation((C=O).x,C.y):"number"==typeof O&&"number"==typeof I&&null==C&&(parseInt(O)==O&&parseInt(I)==I?this.move(O,I):(this.x=Math.floor(O+.5),this.y=Math.floor(I+.5)))},P.prototype.move=function(O,I){this.x=O,this.y=I},P.prototype.translate=function(O,I){this.x+=O,this.y+=I},P.prototype.equals=function(O){return"Point"==O.constructor.name?this.x==O.x&&this.y==O.y:this==O},P.prototype.toString=function(){return(new P).constructor.name+"[x="+this.x+",y="+this.y+"]"},se.exports=P},function(se,D,T){"use strict";function P(O,I,C,S){this.x=0,this.y=0,this.width=0,this.height=0,null!=O&&null!=I&&null!=C&&null!=S&&(this.x=O,this.y=I,this.width=C,this.height=S)}P.prototype.getX=function(){return this.x},P.prototype.setX=function(O){this.x=O},P.prototype.getY=function(){return this.y},P.prototype.setY=function(O){this.y=O},P.prototype.getWidth=function(){return this.width},P.prototype.setWidth=function(O){this.width=O},P.prototype.getHeight=function(){return this.height},P.prototype.setHeight=function(O){this.height=O},P.prototype.getRight=function(){return this.x+this.width},P.prototype.getBottom=function(){return this.y+this.height},P.prototype.intersects=function(O){return!(this.getRight()<O.x||this.getBottom()<O.y||O.getRight()<this.x||O.getBottom()<this.y)},P.prototype.getCenterX=function(){return this.x+this.width/2},P.prototype.getMinX=function(){return this.getX()},P.prototype.getMaxX=function(){return this.getX()+this.width},P.prototype.getCenterY=function(){return this.y+this.height/2},P.prototype.getMinY=function(){return this.getY()},P.prototype.getMaxY=function(){return this.getY()+this.height},P.prototype.getWidthHalf=function(){return this.width/2},P.prototype.getHeightHalf=function(){return this.height/2},se.exports=P},function(se,D,T){"use strict";var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};function O(){}O.lastID=0,O.createID=function(I){return O.isPrimitive(I)?I:(null!=I.uniqueID||(I.uniqueID=O.getString(),O.lastID++),I.uniqueID)},O.getString=function(I){return null==I&&(I=O.lastID),"Object#"+I},O.isPrimitive=function(I){var C=typeof I>"u"?"undefined":P(I);return null==I||"object"!=C&&"function"!=C},se.exports=O},function(se,D,T){"use strict";function P(H){if(Array.isArray(H)){for(var $=0,Q=Array(H.length);$<H.length;$++)Q[$]=H[$];return Q}return Array.from(H)}var O=T(0),I=T(6),C=T(3),S=T(1),N=T(5),A=T(4),V=T(17),L=T(27);function k(H){L.call(this),this.layoutQuality=O.QUALITY,this.createBendsAsNeeded=O.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=O.DEFAULT_INCREMENTAL,this.animationOnLayout=O.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=O.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=O.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=O.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new I(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=H&&(this.isRemoteUse=H)}k.RANDOM_SEED=1,(k.prototype=Object.create(L.prototype)).getGraphManager=function(){return this.graphManager},k.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},k.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},k.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},k.prototype.newGraphManager=function(){var H=new I(this);return this.graphManager=H,H},k.prototype.newGraph=function(H){return new N(null,this.graphManager,H)},k.prototype.newNode=function(H){return new C(this.graphManager,H)},k.prototype.newEdge=function(H){return new S(null,null,H)},k.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},k.prototype.runLayout=function(){var H;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),H=!this.checkLayoutSuccess()&&this.layout(),"during"!==O.ANIMATE&&(H&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,H)},k.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},k.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var $=this.graphManager.getAllEdges(),Q=0;Q<$.length;Q++);var ne=this.graphManager.getRoot().getNodes();for(Q=0;Q<ne.length;Q++);this.update(this.graphManager.getRoot())}},k.prototype.update=function(H){if(null==H)this.update2();else if(H instanceof C){var $=H;if(null!=$.getChild())for(var Q=$.getChild().getNodes(),ue=0;ue<Q.length;ue++)update(Q[ue]);null!=$.vGraphObject&&$.vGraphObject.update($)}else H instanceof S?null!=H.vGraphObject&&H.vGraphObject.update(H):H instanceof N&&null!=H.vGraphObject&&H.vGraphObject.update(H)},k.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=O.QUALITY,this.animationDuringLayout=O.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=O.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=O.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=O.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=O.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=O.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},k.prototype.transform=function(H){if(null==H)this.transform(new A(0,0));else{var $=new V,Q=this.graphManager.getRoot().updateLeftTop();if(null!=Q){$.setWorldOrgX(H.x),$.setWorldOrgY(H.y),$.setDeviceOrgX(Q.x),$.setDeviceOrgY(Q.y);for(var ue=this.getAllNodes(),le=0;le<ue.length;le++)ue[le].transform($)}}},k.prototype.positionNodesRandomly=function(H){if(null==H)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var $,Q,ue=H.getNodes(),ne=0;ne<ue.length;ne++)null==(Q=($=ue[ne]).getChild())||0==Q.getNodes().length?$.scatter():(this.positionNodesRandomly(Q),$.updateBounds())},k.prototype.getFlatForest=function(){for(var H=[],$=!0,Q=this.graphManager.getRoot().getNodes(),ue=!0,ne=0;ne<Q.length;ne++)null!=Q[ne].getChild()&&(ue=!1);if(!ue)return H;var le=new Set,ae=[],de=new Map,te=[];for(te=te.concat(Q);te.length>0&&$;){for(ae.push(te[0]);ae.length>0&&$;){var pe=ae[0];ae.splice(0,1),le.add(pe);var q=pe.getEdges();for(ne=0;ne<q.length;ne++){var oe=q[ne].getOtherEnd(pe);if(de.get(pe)!=oe){if(le.has(oe)){$=!1;break}ae.push(oe),de.set(oe,pe)}}}if($){var ie=[].concat(P(le));for(H.push(ie),ne=0;ne<ie.length;ne++){var we=te.indexOf(ie[ne]);we>-1&&te.splice(we,1)}le=new Set,de=new Map}else H=[]}return H},k.prototype.createDummyNodesForBendpoints=function(H){for(var $=[],Q=H.source,ue=this.graphManager.calcLowestCommonAncestor(H.source,H.target),ne=0;ne<H.bendpoints.length;ne++){var le=this.newNode(null);le.setRect(new Point(0,0),new Dimension(1,1)),ue.add(le);var ae=this.newEdge(null);this.graphManager.add(ae,Q,le),$.add(le),Q=le}return ae=this.newEdge(null),this.graphManager.add(ae,Q,H.target),this.edgeToDummyNodes.set(H,$),H.isInterGraph()?this.graphManager.remove(H):ue.remove(H),$},k.prototype.createBendpointsFromDummyNodes=function(){var H=[];H=H.concat(this.graphManager.getAllEdges()),H=[].concat(P(this.edgeToDummyNodes.keys())).concat(H);for(var $=0;$<H.length;$++){var Q=H[$];if(Q.bendpoints.length>0){for(var ue=this.edgeToDummyNodes.get(Q),ne=0;ne<ue.length;ne++){var le=ue[ne],ae=new A(le.getCenterX(),le.getCenterY()),de=Q.bendpoints.get(ne);de.x=ae.x,de.y=ae.y,le.getOwner().remove(le)}this.graphManager.add(Q,Q.source,Q.target)}}},k.transform=function(H,$,Q,ue){if(null!=Q&&null!=ue){var ne=$;return H<=50?ne-=($-$/Q)/50*(50-H):ne+=($*ue-$)/50*(H-50),ne}var de,te;return H<=50?(de=9*$/500,te=$/10):(de=9*$/50,te=-8*$),de*H+te},k.findCenterOfTree=function(H){var $=[];$=$.concat(H);var Q=[],ue=new Map,ne=!1,le=null;(1==$.length||2==$.length)&&(ne=!0,le=$[0]);for(var ae=0;ae<$.length;ae++){var te=(de=$[ae]).getNeighborsList().size;ue.set(de,de.getNeighborsList().size),1==te&&Q.push(de)}var pe=[];for(pe=pe.concat(Q);!ne;){var q=[];for(q=q.concat(pe),pe=[],ae=0;ae<$.length;ae++){var de,oe=$.indexOf(de=$[ae]);oe>=0&&$.splice(oe,1),de.getNeighborsList().forEach(function(Se){if(Q.indexOf(Se)<0){var ze=ue.get(Se)-1;1==ze&&pe.push(Se),ue.set(Se,ze)}})}Q=Q.concat(pe),(1==$.length||2==$.length)&&(ne=!0,le=$[0])}return le},k.prototype.setGraphManager=function(H){this.graphManager=H},se.exports=k},function(se,D,T){"use strict";function P(){}P.seed=1,P.x=0,P.nextDouble=function(){return(P.x=1e4*Math.sin(P.seed++))-Math.floor(P.x)},se.exports=P},function(se,D,T){"use strict";var P=T(4);function O(I,C){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}O.prototype.getWorldOrgX=function(){return this.lworldOrgX},O.prototype.setWorldOrgX=function(I){this.lworldOrgX=I},O.prototype.getWorldOrgY=function(){return this.lworldOrgY},O.prototype.setWorldOrgY=function(I){this.lworldOrgY=I},O.prototype.getWorldExtX=function(){return this.lworldExtX},O.prototype.setWorldExtX=function(I){this.lworldExtX=I},O.prototype.getWorldExtY=function(){return this.lworldExtY},O.prototype.setWorldExtY=function(I){this.lworldExtY=I},O.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},O.prototype.setDeviceOrgX=function(I){this.ldeviceOrgX=I},O.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},O.prototype.setDeviceOrgY=function(I){this.ldeviceOrgY=I},O.prototype.getDeviceExtX=function(){return this.ldeviceExtX},O.prototype.setDeviceExtX=function(I){this.ldeviceExtX=I},O.prototype.getDeviceExtY=function(){return this.ldeviceExtY},O.prototype.setDeviceExtY=function(I){this.ldeviceExtY=I},O.prototype.transformX=function(I){var C=0,S=this.lworldExtX;return 0!=S&&(C=this.ldeviceOrgX+(I-this.lworldOrgX)*this.ldeviceExtX/S),C},O.prototype.transformY=function(I){var C=0,S=this.lworldExtY;return 0!=S&&(C=this.ldeviceOrgY+(I-this.lworldOrgY)*this.ldeviceExtY/S),C},O.prototype.inverseTransformX=function(I){var C=0,S=this.ldeviceExtX;return 0!=S&&(C=this.lworldOrgX+(I-this.ldeviceOrgX)*this.lworldExtX/S),C},O.prototype.inverseTransformY=function(I){var C=0,S=this.ldeviceExtY;return 0!=S&&(C=this.lworldOrgY+(I-this.ldeviceOrgY)*this.lworldExtY/S),C},O.prototype.inverseTransformPoint=function(I){return new P(this.inverseTransformX(I.x),this.inverseTransformY(I.y))},se.exports=O},function(se,D,T){"use strict";var O=T(15),I=T(7),C=T(0),S=T(8),N=T(9);function A(){O.call(this),this.useSmartIdealEdgeLengthCalculation=I.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=I.DEFAULT_EDGE_LENGTH,this.springConstant=I.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=I.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=I.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=I.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=I.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=I.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*I.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=I.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=I.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=I.MAX_ITERATIONS}for(var V in A.prototype=Object.create(O.prototype),O)A[V]=O[V];A.prototype.initParameters=function(){O.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=I.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},A.prototype.calcIdealEdgeLengths=function(){for(var L,k,H,$,Q,ue,ne=this.getGraphManager().getAllEdges(),le=0;le<ne.length;le++)(L=ne[le]).idealLength=this.idealEdgeLength,L.isInterGraph&&(H=L.getSource(),$=L.getTarget(),Q=L.getSourceInLca().getEstimatedSize(),ue=L.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(L.idealLength+=Q+ue-2*C.SIMPLE_NODE_SIZE),k=L.getLca().getInclusionTreeDepth(),L.idealLength+=I.DEFAULT_EDGE_LENGTH*I.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(H.getInclusionTreeDepth()+$.getInclusionTreeDepth()-2*k))},A.prototype.initSpringEmbedder=function(){var L=this.getAllNodes().length;this.incremental?(L>I.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*I.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(L-I.ADAPTATION_LOWER_NODE_LIMIT)/(I.ADAPTATION_UPPER_NODE_LIMIT-I.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-I.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=I.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.coolingFactor=L>I.ADAPTATION_LOWER_NODE_LIMIT?Math.max(I.COOLING_ADAPTATION_FACTOR,1-(L-I.ADAPTATION_LOWER_NODE_LIMIT)/(I.ADAPTATION_UPPER_NODE_LIMIT-I.ADAPTATION_LOWER_NODE_LIMIT)*(1-I.COOLING_ADAPTATION_FACTOR)):1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=I.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},A.prototype.calcSpringForces=function(){for(var k,L=this.getAllEdges(),H=0;H<L.length;H++)this.calcSpringForce(k=L[H],k.idealLength)},A.prototype.calcRepulsionForces=function(){var H,$,Q,ue,le,L=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],k=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ne=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%I.GRID_CALCULATION_CHECK_PERIOD==1&&L&&this.updateGrid(),le=new Set,H=0;H<ne.length;H++)this.calculateRepulsionForceOfANode(Q=ne[H],le,L,k),le.add(Q);else for(H=0;H<ne.length;H++)for(Q=ne[H],$=H+1;$<ne.length;$++)ue=ne[$],Q.getOwner()==ue.getOwner()&&this.calcRepulsionForce(Q,ue)},A.prototype.calcGravitationalForces=function(){for(var k=this.getAllNodesToApplyGravitation(),H=0;H<k.length;H++)this.calcGravitationalForce(k[H])},A.prototype.moveNodes=function(){for(var L=this.getAllNodes(),H=0;H<L.length;H++)L[H].move()},A.prototype.calcSpringForce=function(L,k){var Q,ue,ne,le,H=L.getSource(),$=L.getTarget();if(this.uniformLeafNodeSizes&&null==H.getChild()&&null==$.getChild())L.updateLengthSimple();else if(L.updateLength(),L.isOverlapingSourceAndTarget)return;0!=(Q=L.getLength())&&(le=(ue=this.springConstant*(Q-k))*(L.lengthY/Q),H.springForceX+=ne=ue*(L.lengthX/Q),H.springForceY+=le,$.springForceX-=ne,$.springForceY-=le)},A.prototype.calcRepulsionForce=function(L,k){var ne,le,ae,de,te,pe,q,H=L.getRect(),$=k.getRect(),Q=new Array(2),ue=new Array(4);if(H.intersects($)){S.calcSeparationAmount(H,$,Q,I.DEFAULT_EDGE_LENGTH/2),q=2*Q[1];var oe=L.noOfChildren*k.noOfChildren/(L.noOfChildren+k.noOfChildren);L.repulsionForceX-=oe*(pe=2*Q[0]),L.repulsionForceY-=oe*q,k.repulsionForceX+=oe*pe,k.repulsionForceY+=oe*q}else this.uniformLeafNodeSizes&&null==L.getChild()&&null==k.getChild()?(ne=$.getCenterX()-H.getCenterX(),le=$.getCenterY()-H.getCenterY()):(S.getIntersection(H,$,ue),ne=ue[2]-ue[0],le=ue[3]-ue[1]),Math.abs(ne)<I.MIN_REPULSION_DIST&&(ne=N.sign(ne)*I.MIN_REPULSION_DIST),Math.abs(le)<I.MIN_REPULSION_DIST&&(le=N.sign(le)*I.MIN_REPULSION_DIST),ae=ne*ne+le*le,de=Math.sqrt(ae),q=(te=this.repulsionConstant*L.noOfChildren*k.noOfChildren/ae)*le/de,L.repulsionForceX-=pe=te*ne/de,L.repulsionForceY-=q,k.repulsionForceX+=pe,k.repulsionForceY+=q},A.prototype.calcGravitationalForce=function(L){var k,H,$,Q,ue,ne,le,ae;H=((k=L.getOwner()).getRight()+k.getLeft())/2,$=(k.getTop()+k.getBottom())/2,Q=L.getCenterX()-H,ue=L.getCenterY()-$,ne=Math.abs(Q)+L.getWidth()/2,le=Math.abs(ue)+L.getHeight()/2,L.getOwner()==this.graphManager.getRoot()?(ne>(ae=k.getEstimatedSize()*this.gravityRangeFactor)||le>ae)&&(L.gravitationForceX=-this.gravityConstant*Q,L.gravitationForceY=-this.gravityConstant*ue):(ne>(ae=k.getEstimatedSize()*this.compoundGravityRangeFactor)||le>ae)&&(L.gravitationForceX=-this.gravityConstant*Q*this.compoundGravityConstant,L.gravitationForceY=-this.gravityConstant*ue*this.compoundGravityConstant)},A.prototype.isConverged=function(){var L,k=!1;return this.totalIterations>this.maxIterations/3&&(k=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),L=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,L||k},A.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},A.prototype.calcNoOfChildrenForAllNodes=function(){for(var L,k=this.graphManager.getAllNodes(),H=0;H<k.length;H++)(L=k[H]).noOfChildren=L.getNoOfChildren()},A.prototype.calcGrid=function(L){var k,H;k=parseInt(Math.ceil((L.getRight()-L.getLeft())/this.repulsionRange)),H=parseInt(Math.ceil((L.getBottom()-L.getTop())/this.repulsionRange));for(var $=new Array(k),Q=0;Q<k;Q++)$[Q]=new Array(H);for(Q=0;Q<k;Q++)for(var ue=0;ue<H;ue++)$[Q][ue]=new Array;return $},A.prototype.addNodeToGrid=function(L,k,H){var $,Q,ue,ne;$=parseInt(Math.floor((L.getRect().x-k)/this.repulsionRange)),Q=parseInt(Math.floor((L.getRect().width+L.getRect().x-k)/this.repulsionRange)),ue=parseInt(Math.floor((L.getRect().y-H)/this.repulsionRange)),ne=parseInt(Math.floor((L.getRect().height+L.getRect().y-H)/this.repulsionRange));for(var le=$;le<=Q;le++)for(var ae=ue;ae<=ne;ae++)this.grid[le][ae].push(L),L.setGridCoordinates($,Q,ue,ne)},A.prototype.updateGrid=function(){var L,H=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),L=0;L<H.length;L++)this.addNodeToGrid(H[L],this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},A.prototype.calculateRepulsionForceOfANode=function(L,k,H,$){if(this.totalIterations%I.GRID_CALCULATION_CHECK_PERIOD==1&&H||$){var Q=new Set;L.surrounding=new Array;for(var ue,ne=this.grid,le=L.startX-1;le<L.finishX+2;le++)for(var ae=L.startY-1;ae<L.finishY+2;ae++)if(!(le<0||ae<0||le>=ne.length||ae>=ne[0].length))for(var de=0;de<ne[le][ae].length;de++)if(ue=ne[le][ae][de],L.getOwner()==ue.getOwner()&&L!=ue&&!k.has(ue)&&!Q.has(ue)){var te=Math.abs(L.getCenterX()-ue.getCenterX())-(L.getWidth()/2+ue.getWidth()/2),pe=Math.abs(L.getCenterY()-ue.getCenterY())-(L.getHeight()/2+ue.getHeight()/2);te<=this.repulsionRange&&pe<=this.repulsionRange&&Q.add(ue)}L.surrounding=[].concat(function P(L){if(Array.isArray(L)){for(var k=0,H=Array(L.length);k<L.length;k++)H[k]=L[k];return H}return Array.from(L)}(Q))}for(le=0;le<L.surrounding.length;le++)this.calcRepulsionForce(L,L.surrounding[le])},A.prototype.calcRepulsionRange=function(){return 0},se.exports=A},function(se,D,T){"use strict";var P=T(1),O=T(7);function I(S,N,A){P.call(this,S,N,A),this.idealLength=O.DEFAULT_EDGE_LENGTH}for(var C in I.prototype=Object.create(P.prototype),P)I[C]=P[C];se.exports=I},function(se,D,T){"use strict";var P=T(3);function O(C,S,N,A){P.call(this,C,S,N,A),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var I in O.prototype=Object.create(P.prototype),P)O[I]=P[I];O.prototype.setGridCoordinates=function(C,S,N,A){this.startX=C,this.finishX=S,this.startY=N,this.finishY=A},se.exports=O},function(se,D,T){"use strict";function P(O,I){this.width=0,this.height=0,null!==O&&null!==I&&(this.height=I,this.width=O)}P.prototype.getWidth=function(){return this.width},P.prototype.setWidth=function(O){this.width=O},P.prototype.getHeight=function(){return this.height},P.prototype.setHeight=function(O){this.height=O},se.exports=P},function(se,D,T){"use strict";var P=T(14);function O(){this.map={},this.keys=[]}O.prototype.put=function(I,C){var S=P.createID(I);this.contains(S)||(this.map[S]=C,this.keys.push(I))},O.prototype.contains=function(I){return P.createID(I),null!=this.map[I]},O.prototype.get=function(I){var C=P.createID(I);return this.map[C]},O.prototype.keySet=function(){return this.keys},se.exports=O},function(se,D,T){"use strict";var P=T(14);function O(){this.set={}}O.prototype.add=function(I){var C=P.createID(I);this.contains(C)||(this.set[C]=I)},O.prototype.remove=function(I){delete this.set[P.createID(I)]},O.prototype.clear=function(){this.set={}},O.prototype.contains=function(I){return this.set[P.createID(I)]==I},O.prototype.isEmpty=function(){return 0===this.size()},O.prototype.size=function(){return Object.keys(this.set).length},O.prototype.addAllTo=function(I){for(var C=Object.keys(this.set),S=C.length,N=0;N<S;N++)I.push(this.set[C[N]])},O.prototype.size=function(){return Object.keys(this.set).length},O.prototype.addAll=function(I){for(var C=I.length,S=0;S<C;S++)this.add(I[S])},se.exports=O},function(se,D,T){"use strict";var P=function(){function S(N,A){for(var V=0;V<A.length;V++){var L=A[V];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(N,L.key,L)}}return function(N,A,V){return A&&S(N.prototype,A),V&&S(N,V),N}}();var I=T(11),C=function(){function S(N,A){(function O(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")})(this,S),(null!==A||void 0!==A)&&(this.compareFunction=this._defaultCompareFunction);var V;V=N instanceof I?N.size():N.length,this._quicksort(N,0,V-1)}return P(S,[{key:"_quicksort",value:function(A,V,L){if(V<L){var k=this._partition(A,V,L);this._quicksort(A,V,k),this._quicksort(A,k+1,L)}}},{key:"_partition",value:function(A,V,L){for(var k=this._get(A,V),H=V,$=L;;){for(;this.compareFunction(k,this._get(A,$));)$--;for(;this.compareFunction(this._get(A,H),k);)H++;if(!(H<$))return $;this._swap(A,H,$),H++,$--}}},{key:"_get",value:function(A,V){return A instanceof I?A.get_object_at(V):A[V]}},{key:"_set",value:function(A,V,L){A instanceof I?A.set_object_at(V,L):A[V]=L}},{key:"_swap",value:function(A,V,L){var k=this._get(A,V);this._set(A,V,this._get(A,L)),this._set(A,L,k)}},{key:"_defaultCompareFunction",value:function(A,V){return V>A}}]),S}();se.exports=C},function(se,D,T){"use strict";var P=function(){function C(S,N){for(var A=0;A<N.length;A++){var V=N[A];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,V.key,V)}}return function(S,N,A){return N&&C(S.prototype,N),A&&C(S,A),S}}();var I=function(){function C(S,N){var A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,L=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;(function O(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")})(this,C),this.sequence1=S,this.sequence2=N,this.match_score=A,this.mismatch_penalty=V,this.gap_penalty=L,this.iMax=S.length+1,this.jMax=N.length+1,this.grid=new Array(this.iMax);for(var k=0;k<this.iMax;k++){this.grid[k]=new Array(this.jMax);for(var H=0;H<this.jMax;H++)this.grid[k][H]=0}this.tracebackGrid=new Array(this.iMax);for(var $=0;$<this.iMax;$++){this.tracebackGrid[$]=new Array(this.jMax);for(var Q=0;Q<this.jMax;Q++)this.tracebackGrid[$][Q]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return P(C,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var N=1;N<this.jMax;N++)this.grid[0][N]=this.grid[0][N-1]+this.gap_penalty,this.tracebackGrid[0][N]=[!1,!1,!0];for(var A=1;A<this.iMax;A++)this.grid[A][0]=this.grid[A-1][0]+this.gap_penalty,this.tracebackGrid[A][0]=[!1,!0,!1];for(var V=1;V<this.iMax;V++)for(var L=1;L<this.jMax;L++){var Q=[this.sequence1[V-1]===this.sequence2[L-1]?this.grid[V-1][L-1]+this.match_score:this.grid[V-1][L-1]+this.mismatch_penalty,this.grid[V-1][L]+this.gap_penalty,this.grid[V][L-1]+this.gap_penalty],ue=this.arrayAllMaxIndexes(Q);this.grid[V][L]=Q[ue[0]],this.tracebackGrid[V][L]=[ue.includes(0),ue.includes(1),ue.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var N=[];for(N.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});N[0];){var A=N[0],V=this.tracebackGrid[A.pos[0]][A.pos[1]];V[0]&&N.push({pos:[A.pos[0]-1,A.pos[1]-1],seq1:this.sequence1[A.pos[0]-1]+A.seq1,seq2:this.sequence2[A.pos[1]-1]+A.seq2}),V[1]&&N.push({pos:[A.pos[0]-1,A.pos[1]],seq1:this.sequence1[A.pos[0]-1]+A.seq1,seq2:"-"+A.seq2}),V[2]&&N.push({pos:[A.pos[0],A.pos[1]-1],seq1:"-"+A.seq1,seq2:this.sequence2[A.pos[1]-1]+A.seq2}),0===A.pos[0]&&0===A.pos[1]&&this.alignments.push({sequence1:A.seq1,sequence2:A.seq2}),N.shift()}return this.alignments}},{key:"getAllIndexes",value:function(N,A){for(var V=[],L=-1;-1!==(L=N.indexOf(A,L+1));)V.push(L);return V}},{key:"arrayAllMaxIndexes",value:function(N){return this.getAllIndexes(N,Math.max.apply(null,N))}}]),C}();se.exports=I},function(se,D,T){"use strict";var P=function(){};P.FDLayout=T(18),P.FDLayoutConstants=T(7),P.FDLayoutEdge=T(19),P.FDLayoutNode=T(20),P.DimensionD=T(21),P.HashMap=T(22),P.HashSet=T(23),P.IGeometry=T(8),P.IMath=T(9),P.Integer=T(10),P.Point=T(12),P.PointD=T(4),P.RandomSeed=T(16),P.RectangleD=T(13),P.Transform=T(17),P.UniqueIDGeneretor=T(14),P.Quicksort=T(24),P.LinkedList=T(11),P.LGraphObject=T(2),P.LGraph=T(5),P.LEdge=T(1),P.LGraphManager=T(6),P.LNode=T(3),P.Layout=T(15),P.LayoutConstants=T(0),P.NeedlemanWunsch=T(25),se.exports=P},function(se,D,T){"use strict";function P(){this.listeners=[]}var O=P.prototype;O.addListener=function(I,C){this.listeners.push({event:I,callback:C})},O.removeListener=function(I,C){for(var S=this.listeners.length;S>=0;S--){var N=this.listeners[S];N.event===I&&N.callback===C&&this.listeners.splice(S,1)}},O.emit=function(I,C){for(var S=0;S<this.listeners.length;S++){var N=this.listeners[S];I===N.event&&N.callback(C)}},se.exports=P}])},6506:(Y,se,D)=>{var O=D(8745)(D(8492),"DataView");Y.exports=O},9618:(Y,se,D)=>{var T=D(5602),P=D(1499),O=D(2990),I=D(480),C=D(4469);function S(N){var A=-1,V=null==N?0:N.length;for(this.clear();++A<V;){var L=N[A];this.set(L[0],L[1])}}S.prototype.clear=T,S.prototype.delete=P,S.prototype.get=O,S.prototype.has=I,S.prototype.set=C,Y.exports=S},3597:(Y,se,D)=>{var T=D(9365),P=D(9343),O=D(4779),I=D(1509),C=D(7137);function S(N){var A=-1,V=null==N?0:N.length;for(this.clear();++A<V;){var L=N[A];this.set(L[0],L[1])}}S.prototype.clear=T,S.prototype.delete=P,S.prototype.get=O,S.prototype.has=I,S.prototype.set=C,Y.exports=S},1136:(Y,se,D)=>{var O=D(8745)(D(8492),"Map");Y.exports=O},1811:(Y,se,D)=>{var T=D(3413),P=D(5419),O=D(7336),I=D(1115),C=D(6648);function S(N){var A=-1,V=null==N?0:N.length;for(this.clear();++A<V;){var L=N[A];this.set(L[0],L[1])}}S.prototype.clear=T,S.prototype.delete=P,S.prototype.get=O,S.prototype.has=I,S.prototype.set=C,Y.exports=S},641:(Y,se,D)=>{var O=D(8745)(D(8492),"Promise");Y.exports=O},1732:(Y,se,D)=>{var O=D(8745)(D(8492),"Set");Y.exports=O},5960:(Y,se,D)=>{var T=D(1811),P=D(6151),O=D(2154);function I(C){var S=-1,N=null==C?0:C.length;for(this.__data__=new T;++S<N;)this.add(C[S])}I.prototype.add=I.prototype.push=P,I.prototype.has=O,Y.exports=I},1339:(Y,se,D)=>{var T=D(3597),P=D(9488),O=D(5943),I=D(5456),C=D(4793),S=D(8689);function N(A){var V=this.__data__=new T(A);this.size=V.size}N.prototype.clear=P,N.prototype.delete=O,N.prototype.get=I,N.prototype.has=C,N.prototype.set=S,Y.exports=N},1763:(Y,se,D)=>{var T=D(8492);Y.exports=T.Symbol},2760:(Y,se,D)=>{var T=D(8492);Y.exports=T.Uint8Array},6413:(Y,se,D)=>{var O=D(8745)(D(8492),"WeakMap");Y.exports=O},7910:Y=>{Y.exports=function se(D,T,P){switch(P.length){case 0:return D.call(T);case 1:return D.call(T,P[0]);case 2:return D.call(T,P[0],P[1]);case 3:return D.call(T,P[0],P[1],P[2])}return D.apply(T,P)}},7772:Y=>{Y.exports=function se(D,T){for(var P=-1,O=null==D?0:D.length;++P<O&&!1!==T(D[P],P,D););return D}},2134:Y=>{Y.exports=function se(D,T){for(var P=-1,O=null==D?0:D.length,I=0,C=[];++P<O;){var S=D[P];T(S,P,D)&&(C[I++]=S)}return C}},8750:(Y,se,D)=>{var T=D(9568);Y.exports=function P(O,I){return!(null==O||!O.length)&&T(O,I,0)>-1}},6736:Y=>{Y.exports=function se(D,T,P){for(var O=-1,I=null==D?0:D.length;++O<I;)if(P(T,D[O]))return!0;return!1}},1384:(Y,se,D)=>{var T=D(5025),P=D(1955),O=D(2261),I=D(7525),C=D(5188),S=D(4868),A=Object.prototype.hasOwnProperty;Y.exports=function V(L,k){var H=O(L),$=!H&&P(L),Q=!H&&!$&&I(L),ue=!H&&!$&&!Q&&S(L),ne=H||$||Q||ue,le=ne?T(L.length,String):[],ae=le.length;for(var de in L)(k||A.call(L,de))&&(!ne||!("length"==de||Q&&("offset"==de||"parent"==de)||ue&&("buffer"==de||"byteLength"==de||"byteOffset"==de)||C(de,ae)))&&le.push(de);return le}},3880:Y=>{Y.exports=function se(D,T){for(var P=-1,O=null==D?0:D.length,I=Array(O);++P<O;)I[P]=T(D[P],P,D);return I}},7853:Y=>{Y.exports=function se(D,T){for(var P=-1,O=T.length,I=D.length;++P<O;)D[I+P]=T[P];return D}},9850:Y=>{Y.exports=function se(D,T,P,O){var I=-1,C=null==D?0:D.length;for(O&&C&&(P=D[++I]);++I<C;)P=T(P,D[I],I,D);return P}},5916:Y=>{Y.exports=function se(D,T){for(var P=-1,O=null==D?0:D.length;++P<O;)if(T(D[P],P,D))return!0;return!1}},6181:(Y,se,D)=>{var P=D(3400)("length");Y.exports=P},6697:(Y,se,D)=>{var T=D(1741),P=D(7826);Y.exports=function O(I,C,S){(void 0!==S&&!P(I[C],S)||void 0===S&&!(C in I))&&T(I,C,S)}},9553:(Y,se,D)=>{var T=D(1741),P=D(7826),I=Object.prototype.hasOwnProperty;Y.exports=function C(S,N,A){var V=S[N];(!I.call(S,N)||!P(V,A)||void 0===A&&!(N in S))&&T(S,N,A)}},4056:(Y,se,D)=>{var T=D(7826);Y.exports=function P(O,I){for(var C=O.length;C--;)if(T(O[C][0],I))return C;return-1}},6234:(Y,se,D)=>{var T=D(5931),P=D(4614);Y.exports=function O(I,C){return I&&T(C,P(C),I)}},4431:(Y,se,D)=>{var T=D(5931),P=D(6402);Y.exports=function O(I,C){return I&&T(C,P(C),I)}},1741:(Y,se,D)=>{var T=D(9383);Y.exports=function P(O,I,C){"__proto__"==I&&T?T(O,I,{configurable:!0,enumerable:!0,value:C,writable:!0}):O[I]=C}},1320:(Y,se,D)=>{var T=D(1339),P=D(7772),O=D(9553),I=D(6234),C=D(4431),S=D(6002),N=D(4231),A=D(9385),V=D(4354),L=D(6131),k=D(2442),H=D(2472),$=D(9431),Q=D(514),ue=D(9225),ne=D(2261),le=D(7525),ae=D(990),de=D(9794),te=D(8611),pe=D(4614),q=D(6402),we="[object Arguments]",at="[object Function]",qe="[object Object]",Hn={};Hn[we]=Hn["[object Array]"]=Hn["[object ArrayBuffer]"]=Hn["[object DataView]"]=Hn["[object Boolean]"]=Hn["[object Date]"]=Hn["[object Float32Array]"]=Hn["[object Float64Array]"]=Hn["[object Int8Array]"]=Hn["[object Int16Array]"]=Hn["[object Int32Array]"]=Hn["[object Map]"]=Hn["[object Number]"]=Hn[qe]=Hn["[object RegExp]"]=Hn["[object Set]"]=Hn["[object String]"]=Hn["[object Symbol]"]=Hn["[object Uint8Array]"]=Hn["[object Uint8ClampedArray]"]=Hn["[object Uint16Array]"]=Hn["[object Uint32Array]"]=!0,Hn["[object Error]"]=Hn[at]=Hn["[object WeakMap]"]=!1,Y.exports=function Xr(dn,Ri,ro,Fi,Bi,jr){var Ki,ja=1&Ri,Ts=2&Ri,Nn=4&Ri;if(ro&&(Ki=Bi?ro(dn,Fi,Bi,jr):ro(dn)),void 0!==Ki)return Ki;if(!de(dn))return dn;var Vl=ne(dn);if(Vl){if(Ki=$(dn),!ja)return N(dn,Ki)}else{var Yo=H(dn),Xo=Yo==at||"[object GeneratorFunction]"==Yo;if(le(dn))return S(dn,ja);if(Yo==qe||Yo==we||Xo&&!Bi){if(Ki=Ts||Xo?{}:ue(dn),!ja)return Ts?V(dn,C(Ki,dn)):A(dn,I(Ki,dn))}else{if(!Hn[Yo])return Bi?dn:{};Ki=Q(dn,Yo,ja)}}jr||(jr=new T);var dl=jr.get(dn);if(dl)return dl;jr.set(dn,Ki),te(dn)?dn.forEach(function(Cn){Ki.add(Xr(Cn,Ri,ro,Cn,dn,jr))}):ae(dn)&&dn.forEach(function(Cn,va){Ki.set(va,Xr(Cn,Ri,ro,va,dn,jr))});var Ms=Vl?void 0:(Nn?Ts?k:L:Ts?q:pe)(dn);return P(Ms||dn,function(Cn,va){Ms&&(Cn=dn[va=Cn]),O(Ki,va,Xr(Cn,Ri,ro,va,dn,jr))}),Ki}},1391:(Y,se,D)=>{var T=D(9794),P=Object.create,O=function(){function I(){}return function(C){if(!T(C))return{};if(P)return P(C);I.prototype=C;var S=new I;return I.prototype=void 0,S}}();Y.exports=O},5103:(Y,se,D)=>{var T=D(7794),O=D(9386)(T);Y.exports=O},4530:(Y,se,D)=>{var T=D(3423);Y.exports=function P(O,I,C){for(var S=-1,N=O.length;++S<N;){var A=O[S],V=I(A);if(null!=V&&(void 0===L?V==V&&!T(V):C(V,L)))var L=V,k=A}return k}},1892:(Y,se,D)=>{var T=D(5103);Y.exports=function P(O,I){var C=[];return T(O,function(S,N,A){I(S,N,A)&&C.push(S)}),C}},4051:Y=>{Y.exports=function se(D,T,P,O){for(var I=D.length,C=P+(O?1:-1);O?C--:++C<I;)if(T(D[C],C,D))return C;return-1}},1883:(Y,se,D)=>{var T=D(7853),P=D(2241);Y.exports=function O(I,C,S,N,A){var V=-1,L=I.length;for(S||(S=P),A||(A=[]);++V<L;){var k=I[V];C>0&&S(k)?C>1?O(k,C-1,S,N,A):T(A,k):N||(A[A.length]=k)}return A}},6483:(Y,se,D)=>{var P=D(2086)();Y.exports=P},7794:(Y,se,D)=>{var T=D(6483),P=D(4614);Y.exports=function O(I,C){return I&&T(I,C,P)}},2202:(Y,se,D)=>{var T=D(4826),P=D(8916);Y.exports=function O(I,C){for(var S=0,N=(C=T(C,I)).length;null!=I&&S<N;)I=I[P(C[S++])];return S&&S==N?I:void 0}},7427:(Y,se,D)=>{var T=D(7853),P=D(2261);Y.exports=function O(I,C,S){var N=C(I);return P(I)?N:T(N,S(I))}},4590:(Y,se,D)=>{var T=D(1763),P=D(5933),O=D(9243),S=T?T.toStringTag:void 0;Y.exports=function N(A){return null==A?void 0===A?"[object Undefined]":"[object Null]":S&&S in Object(A)?P(A):O(A)}},8444:Y=>{Y.exports=function se(D,T){return D>T}},4493:Y=>{var D=Object.prototype.hasOwnProperty;Y.exports=function T(P,O){return null!=P&&D.call(P,O)}},3274:Y=>{Y.exports=function se(D,T){return null!=D&&T in Object(D)}},9568:(Y,se,D)=>{var T=D(4051),P=D(1817),O=D(2528);Y.exports=function I(C,S,N){return S==S?O(C,S,N):T(C,P,N)}},3022:(Y,se,D)=>{var T=D(4590),P=D(3714);Y.exports=function I(C){return P(C)&&"[object Arguments]"==T(C)}},7108:(Y,se,D)=>{var T=D(7946),P=D(3714);Y.exports=function O(I,C,S,N,A){return I===C||(null==I||null==C||!P(I)&&!P(C)?I!=I&&C!=C:T(I,C,S,N,O,A))}},7946:(Y,se,D)=>{var T=D(1339),P=D(7469),O=D(1642),I=D(9462),C=D(2472),S=D(2261),N=D(7525),A=D(4868),L="[object Arguments]",k="[object Array]",H="[object Object]",Q=Object.prototype.hasOwnProperty;Y.exports=function ue(ne,le,ae,de,te,pe){var q=S(ne),oe=S(le),ie=q?k:C(ne),me=oe?k:C(le),we=(ie=ie==L?H:ie)==H,Se=(me=me==L?H:me)==H,De=ie==me;if(De&&N(ne)){if(!N(le))return!1;q=!0,we=!1}if(De&&!we)return pe||(pe=new T),q||A(ne)?P(ne,le,ae,de,te,pe):O(ne,le,ie,ae,de,te,pe);if(!(1&ae)){var ze=we&&Q.call(ne,"__wrapped__"),Be=Se&&Q.call(le,"__wrapped__");if(ze||Be){var at=ze?ne.value():ne,ht=Be?le.value():le;return pe||(pe=new T),te(at,ht,ae,de,pe)}}return!!De&&(pe||(pe=new T),I(ne,le,ae,de,te,pe))}},8562:(Y,se,D)=>{var T=D(2472),P=D(3714);Y.exports=function I(C){return P(C)&&"[object Map]"==T(C)}},2527:(Y,se,D)=>{var T=D(1339),P=D(7108);Y.exports=function C(S,N,A,V){var L=A.length,k=L,H=!V;if(null==S)return!k;for(S=Object(S);L--;){var $=A[L];if(H&&$[2]?$[1]!==S[$[0]]:!($[0]in S))return!1}for(;++L<k;){var Q=($=A[L])[0],ue=S[Q],ne=$[1];if(H&&$[2]){if(void 0===ue&&!(Q in S))return!1}else{var le=new T;if(V)var ae=V(ue,ne,Q,S,N,le);if(!(void 0===ae?P(ne,ue,3,V,le):ae))return!1}}return!0}},1817:Y=>{Y.exports=function se(D){return D!=D}},1082:(Y,se,D)=>{var T=D(6861),P=D(9950),O=D(9794),I=D(7075),S=/^\[object .+?Constructor\]$/,k=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");Y.exports=function H($){return!(!O($)||P($))&&(T($)?k:S).test(I($))}},1202:(Y,se,D)=>{var T=D(2472),P=D(3714);Y.exports=function I(C){return P(C)&&"[object Set]"==T(C)}},8902:(Y,se,D)=>{var T=D(4590),P=D(7765),O=D(3714),De={};De["[object Float32Array]"]=De["[object Float64Array]"]=De["[object Int8Array]"]=De["[object Int16Array]"]=De["[object Int32Array]"]=De["[object Uint8Array]"]=De["[object Uint8ClampedArray]"]=De["[object Uint16Array]"]=De["[object Uint32Array]"]=!0,De["[object Arguments]"]=De["[object Array]"]=De["[object ArrayBuffer]"]=De["[object Boolean]"]=De["[object DataView]"]=De["[object Date]"]=De["[object Error]"]=De["[object Function]"]=De["[object Map]"]=De["[object Number]"]=De["[object Object]"]=De["[object RegExp]"]=De["[object Set]"]=De["[object String]"]=De["[object WeakMap]"]=!1,Y.exports=function ze(Be){return O(Be)&&P(Be.length)&&!!De[T(Be)]}},1627:(Y,se,D)=>{var T=D(2924),P=D(8526),O=D(5657),I=D(2261),C=D(2692);Y.exports=function S(N){return"function"==typeof N?N:null==N?O:"object"==typeof N?I(N)?P(N[0],N[1]):T(N):C(N)}},190:(Y,se,D)=>{var T=D(6587),P=D(366),I=Object.prototype.hasOwnProperty;Y.exports=function C(S){if(!T(S))return P(S);var N=[];for(var A in Object(S))I.call(S,A)&&"constructor"!=A&&N.push(A);return N}},7673:(Y,se,D)=>{var T=D(9794),P=D(6587),O=D(8981),C=Object.prototype.hasOwnProperty;Y.exports=function S(N){if(!T(N))return O(N);var A=P(N),V=[];for(var L in N)"constructor"==L&&(A||!C.call(N,L))||V.push(L);return V}},8898:Y=>{Y.exports=function se(D,T){return D<T}},2839:(Y,se,D)=>{var T=D(5103),P=D(2447);Y.exports=function O(I,C){var S=-1,N=P(I)?Array(I.length):[];return T(I,function(A,V,L){N[++S]=C(A,V,L)}),N}},2924:(Y,se,D)=>{var T=D(2527),P=D(7895),O=D(2265);Y.exports=function I(C){var S=P(C);return 1==S.length&&S[0][2]?O(S[0][0],S[0][1]):function(N){return N===C||T(N,C,S)}}},8526:(Y,se,D)=>{var T=D(7108),P=D(5440),O=D(2494),I=D(6300),C=D(3921),S=D(2265),N=D(8916);Y.exports=function L(k,H){return I(k)&&C(H)?S(N(k),H):function($){var Q=P($,k);return void 0===Q&&Q===H?O($,k):T(H,Q,3)}}},3294:(Y,se,D)=>{var T=D(1339),P=D(6697),O=D(6483),I=D(9218),C=D(9794),S=D(6402),N=D(7524);Y.exports=function A(V,L,k,H,$){V!==L&&O(L,function(Q,ue){if($||($=new T),C(Q))I(V,L,ue,k,A,H,$);else{var ne=H?H(N(V,ue),Q,ue+"",V,L,$):void 0;void 0===ne&&(ne=Q),P(V,ue,ne)}},S)}},9218:(Y,se,D)=>{var T=D(6697),P=D(6002),O=D(2501),I=D(4231),C=D(9225),S=D(1955),N=D(2261),A=D(3471),V=D(7525),L=D(6861),k=D(9794),H=D(8168),$=D(4868),Q=D(7524),ue=D(4210);Y.exports=function ne(le,ae,de,te,pe,q,oe){var ie=Q(le,de),me=Q(ae,de),we=oe.get(me);if(we)T(le,de,we);else{var Se=q?q(ie,me,de+"",le,ae,oe):void 0,De=void 0===Se;if(De){var ze=N(me),Be=!ze&&V(me),at=!ze&&!Be&&$(me);Se=me,ze||Be||at?N(ie)?Se=ie:A(ie)?Se=I(ie):Be?(De=!1,Se=P(me,!0)):at?(De=!1,Se=O(me,!0)):Se=[]:H(me)||S(me)?(Se=ie,S(ie)?Se=ue(ie):(!k(ie)||L(ie))&&(Se=C(me))):De=!1}De&&(oe.set(me,Se),pe(Se,me,te,q,oe),oe.delete(me)),T(le,de,Se)}}},252:(Y,se,D)=>{var T=D(3880),P=D(2202),O=D(1627),I=D(2839),C=D(6389),S=D(5249),N=D(9664),A=D(5657),V=D(2261);Y.exports=function L(k,H,$){H=H.length?T(H,function(ne){return V(ne)?function(le){return P(le,1===ne.length?ne[0]:ne)}:ne}):[A];var Q=-1;H=T(H,S(O));var ue=I(k,function(ne,le,ae){return{criteria:T(H,function(te){return te(ne)}),index:++Q,value:ne}});return C(ue,function(ne,le){return N(ne,le,$)})}},2784:(Y,se,D)=>{var T=D(2772),P=D(2494);Y.exports=function O(I,C){return T(I,C,function(S,N){return P(I,N)})}},2772:(Y,se,D)=>{var T=D(2202),P=D(9478),O=D(4826);Y.exports=function I(C,S,N){for(var A=-1,V=S.length,L={};++A<V;){var k=S[A],H=T(C,k);N(H,k)&&P(L,O(k,C),H)}return L}},3400:Y=>{Y.exports=function se(D){return function(T){return T?.[D]}}},6443:(Y,se,D)=>{var T=D(2202);Y.exports=function P(O){return function(I){return T(I,O)}}},9948:Y=>{var se=Math.ceil,D=Math.max;Y.exports=function T(P,O,I,C){for(var S=-1,N=D(se((O-P)/(I||1)),0),A=Array(N);N--;)A[C?N:++S]=P,P+=I;return A}},8978:Y=>{Y.exports=function se(D,T,P,O,I){return I(D,function(C,S,N){P=O?(O=!1,C):T(P,C,S,N)}),P}},8951:(Y,se,D)=>{var T=D(5657),P=D(2394),O=D(6814);Y.exports=function I(C,S){return O(P(C,S,T),C+"")}},9478:(Y,se,D)=>{var T=D(9553),P=D(4826),O=D(5188),I=D(9794),C=D(8916);Y.exports=function S(N,A,V,L){if(!I(N))return N;for(var k=-1,H=(A=P(A,N)).length,$=H-1,Q=N;null!=Q&&++k<H;){var ue=C(A[k]),ne=V;if("__proto__"===ue||"constructor"===ue||"prototype"===ue)return N;if(k!=$){var le=Q[ue];void 0===(ne=L?L(le,ue,Q):void 0)&&(ne=I(le)?le:O(A[k+1])?[]:{})}T(Q,ue,ne),Q=Q[ue]}return N}},8235:(Y,se,D)=>{var T=D(1075),P=D(9383),O=D(5657);Y.exports=P?function(C,S){return P(C,"toString",{configurable:!0,enumerable:!1,value:T(S),writable:!0})}:O},6389:Y=>{Y.exports=function se(D,T){var P=D.length;for(D.sort(T);P--;)D[P]=D[P].value;return D}},5025:Y=>{Y.exports=function se(D,T){for(var P=-1,O=Array(D);++P<D;)O[P]=T(P);return O}},7002:(Y,se,D)=>{var T=D(1763),P=D(3880),O=D(2261),I=D(3423),S=T?T.prototype:void 0,N=S?S.toString:void 0;Y.exports=function A(V){if("string"==typeof V)return V;if(O(V))return P(V,A)+"";if(I(V))return N?N.call(V):"";var L=V+"";return"0"==L&&1/V==-1/0?"-0":L}},9484:(Y,se,D)=>{var T=D(1781),P=/^\s+/;Y.exports=function O(I){return I&&I.slice(0,T(I)+1).replace(P,"")}},5249:Y=>{Y.exports=function se(D){return function(T){return D(T)}}},9154:(Y,se,D)=>{var T=D(5960),P=D(8750),O=D(6736),I=D(4795),C=D(8433),S=D(8e3);Y.exports=function A(V,L,k){var H=-1,$=P,Q=V.length,ue=!0,ne=[],le=ne;if(k)ue=!1,$=O;else if(Q>=200){var ae=L?null:C(V);if(ae)return S(ae);ue=!1,$=I,le=new T}else le=L?[]:ne;e:for(;++H<Q;){var de=V[H],te=L?L(de):de;if(de=k||0!==de?de:0,ue&&te==te){for(var pe=le.length;pe--;)if(le[pe]===te)continue e;L&&le.push(te),ne.push(de)}else $(le,te,k)||(le!==ne&&le.push(te),ne.push(de))}return ne}},6680:(Y,se,D)=>{var T=D(3880);Y.exports=function P(O,I){return T(I,function(C){return O[C]})}},2255:Y=>{Y.exports=function se(D,T,P){for(var O=-1,I=D.length,C=T.length,S={};++O<I;)P(S,D[O],O<C?T[O]:void 0);return S}},4795:Y=>{Y.exports=function se(D,T){return D.has(T)}},4655:(Y,se,D)=>{var T=D(5657);Y.exports=function P(O){return"function"==typeof O?O:T}},4826:(Y,se,D)=>{var T=D(2261),P=D(6300),O=D(163),I=D(2674);Y.exports=function C(S,N){return T(S)?S:P(S,N)?[S]:O(I(S))}},2355:(Y,se,D)=>{var T=D(2760);Y.exports=function P(O){var I=new O.constructor(O.byteLength);return new T(I).set(new T(O)),I}},6002:(Y,se,D)=>{Y=D.nmd(Y);var T=D(8492),P=se&&!se.nodeType&&se,O=P&&Y&&!Y.nodeType&&Y,C=O&&O.exports===P?T.Buffer:void 0,S=C?C.allocUnsafe:void 0;Y.exports=function N(A,V){if(V)return A.slice();var L=A.length,k=S?S(L):new A.constructor(L);return A.copy(k),k}},6693:(Y,se,D)=>{var T=D(2355);Y.exports=function P(O,I){var C=I?T(O.buffer):O.buffer;return new O.constructor(C,O.byteOffset,O.byteLength)}},497:Y=>{var se=/\w*$/;Y.exports=function D(T){var P=new T.constructor(T.source,se.exec(T));return P.lastIndex=T.lastIndex,P}},3330:(Y,se,D)=>{var T=D(1763),P=T?T.prototype:void 0,O=P?P.valueOf:void 0;Y.exports=function I(C){return O?Object(O.call(C)):{}}},2501:(Y,se,D)=>{var T=D(2355);Y.exports=function P(O,I){var C=I?T(O.buffer):O.buffer;return new O.constructor(C,O.byteOffset,O.length)}},5400:(Y,se,D)=>{var T=D(3423);Y.exports=function P(O,I){if(O!==I){var C=void 0!==O,S=null===O,N=O==O,A=T(O),V=void 0!==I,L=null===I,k=I==I,H=T(I);if(!L&&!H&&!A&&O>I||A&&V&&k&&!L&&!H||S&&V&&k||!C&&k||!N)return 1;if(!S&&!A&&!H&&O<I||H&&C&&N&&!S&&!A||L&&C&&N||!V&&N||!k)return-1}return 0}},9664:(Y,se,D)=>{var T=D(5400);Y.exports=function P(O,I,C){for(var S=-1,N=O.criteria,A=I.criteria,V=N.length,L=C.length;++S<V;){var k=T(N[S],A[S]);if(k)return S>=L?k:k*("desc"==C[S]?-1:1)}return O.index-I.index}},4231:Y=>{Y.exports=function se(D,T){var P=-1,O=D.length;for(T||(T=Array(O));++P<O;)T[P]=D[P];return T}},5931:(Y,se,D)=>{var T=D(9553),P=D(1741);Y.exports=function O(I,C,S,N){var A=!S;S||(S={});for(var V=-1,L=C.length;++V<L;){var k=C[V],H=N?N(S[k],I[k],k,S,I):void 0;void 0===H&&(H=I[k]),A?P(S,k,H):T(S,k,H)}return S}},9385:(Y,se,D)=>{var T=D(5931),P=D(771);Y.exports=function O(I,C){return T(I,P(I),C)}},4354:(Y,se,D)=>{var T=D(5931),P=D(708);Y.exports=function O(I,C){return T(I,P(I),C)}},6189:(Y,se,D)=>{var T=D(8492);Y.exports=T["__core-js_shared__"]},1300:(Y,se,D)=>{var T=D(8951),P=D(3817);Y.exports=function O(I){return T(function(C,S){var N=-1,A=S.length,V=A>1?S[A-1]:void 0,L=A>2?S[2]:void 0;for(V=I.length>3&&"function"==typeof V?(A--,V):void 0,L&&P(S[0],S[1],L)&&(V=A<3?void 0:V,A=1),C=Object(C);++N<A;){var k=S[N];k&&I(C,k,N,V)}return C})}},9386:(Y,se,D)=>{var T=D(2447);Y.exports=function P(O,I){return function(C,S){if(null==C)return C;if(!T(C))return O(C,S);for(var N=C.length,A=I?N:-1,V=Object(C);(I?A--:++A<N)&&!1!==S(V[A],A,V););return C}}},2086:Y=>{Y.exports=function se(D){return function(T,P,O){for(var I=-1,C=Object(T),S=O(T),N=S.length;N--;){var A=S[D?N:++I];if(!1===P(C[A],A,C))break}return T}}},6738:(Y,se,D)=>{var T=D(1627),P=D(2447),O=D(4614);Y.exports=function I(C){return function(S,N,A){var V=Object(S);if(!P(S)){var L=T(N,3);S=O(S),N=function(H){return L(V[H],H,V)}}var k=C(S,N,A);return k>-1?V[L?S[k]:k]:void 0}}},4222:(Y,se,D)=>{var T=D(9948),P=D(3817),O=D(9292);Y.exports=function I(C){return function(S,N,A){return A&&"number"!=typeof A&&P(S,N,A)&&(N=A=void 0),S=O(S),void 0===N?(N=S,S=0):N=O(N),A=void 0===A?S<N?1:-1:O(A),T(S,N,A,C)}}},8433:(Y,se,D)=>{var T=D(1732),P=D(4249),O=D(8e3),C=T&&1/O(new T([,-0]))[1]==1/0?function(S){return new T(S)}:P;Y.exports=C},9383:(Y,se,D)=>{var T=D(8745),P=function(){try{var O=T(Object,"defineProperty");return O({},"",{}),O}catch{}}();Y.exports=P},7469:(Y,se,D)=>{var T=D(5960),P=D(5916),O=D(4795);Y.exports=function S(N,A,V,L,k,H){var $=1&V,Q=N.length,ue=A.length;if(Q!=ue&&!($&&ue>Q))return!1;var ne=H.get(N),le=H.get(A);if(ne&&le)return ne==A&&le==N;var ae=-1,de=!0,te=2&V?new T:void 0;for(H.set(N,A),H.set(A,N);++ae<Q;){var pe=N[ae],q=A[ae];if(L)var oe=$?L(q,pe,ae,A,N,H):L(pe,q,ae,N,A,H);if(void 0!==oe){if(oe)continue;de=!1;break}if(te){if(!P(A,function(ie,me){if(!O(te,me)&&(pe===ie||k(pe,ie,V,L,H)))return te.push(me)})){de=!1;break}}else if(pe!==q&&!k(pe,q,V,L,H)){de=!1;break}}return H.delete(N),H.delete(A),de}},1642:(Y,se,D)=>{var T=D(1763),P=D(2760),O=D(7826),I=D(7469),C=D(1575),S=D(8e3),te=T?T.prototype:void 0,pe=te?te.valueOf:void 0;Y.exports=function q(oe,ie,me,we,Se,De,ze){switch(me){case"[object DataView]":if(oe.byteLength!=ie.byteLength||oe.byteOffset!=ie.byteOffset)return!1;oe=oe.buffer,ie=ie.buffer;case"[object ArrayBuffer]":return!(oe.byteLength!=ie.byteLength||!De(new P(oe),new P(ie)));case"[object Boolean]":case"[object Date]":case"[object Number]":return O(+oe,+ie);case"[object Error]":return oe.name==ie.name&&oe.message==ie.message;case"[object RegExp]":case"[object String]":return oe==ie+"";case"[object Map]":var Be=C;case"[object Set]":if(Be||(Be=S),oe.size!=ie.size&&!(1&we))return!1;var ht=ze.get(oe);if(ht)return ht==ie;we|=2,ze.set(oe,ie);var Ke=I(Be(oe),Be(ie),we,Se,De,ze);return ze.delete(oe),Ke;case"[object Symbol]":if(pe)return pe.call(oe)==pe.call(ie)}return!1}},9462:(Y,se,D)=>{var T=D(6131),I=Object.prototype.hasOwnProperty;Y.exports=function C(S,N,A,V,L,k){var H=1&A,$=T(S),Q=$.length;if(Q!=T(N).length&&!H)return!1;for(var le=Q;le--;){var ae=$[le];if(!(H?ae in N:I.call(N,ae)))return!1}var de=k.get(S),te=k.get(N);if(de&&te)return de==N&&te==S;var pe=!0;k.set(S,N),k.set(N,S);for(var q=H;++le<Q;){var oe=S[ae=$[le]],ie=N[ae];if(V)var me=H?V(ie,oe,ae,N,S,k):V(oe,ie,ae,S,N,k);if(!(void 0===me?oe===ie||L(oe,ie,A,V,k):me)){pe=!1;break}q||(q="constructor"==ae)}if(pe&&!q){var we=S.constructor,Se=N.constructor;we!=Se&&"constructor"in S&&"constructor"in N&&!("function"==typeof we&&we instanceof we&&"function"==typeof Se&&Se instanceof Se)&&(pe=!1)}return k.delete(S),k.delete(N),pe}},6801:(Y,se,D)=>{var T=D(9336),P=D(2394),O=D(6814);Y.exports=function I(C){return O(P(C,void 0,T),C+"")}},248:Y=>{var se="object"==typeof global&&global&&global.Object===Object&&global;Y.exports=se},6131:(Y,se,D)=>{var T=D(7427),P=D(771),O=D(4614);Y.exports=function I(C){return T(C,O,P)}},2442:(Y,se,D)=>{var T=D(7427),P=D(708),O=D(6402);Y.exports=function I(C){return T(C,O,P)}},4113:(Y,se,D)=>{var T=D(29);Y.exports=function P(O,I){var C=O.__data__;return T(I)?C["string"==typeof I?"string":"hash"]:C.map}},7895:(Y,se,D)=>{var T=D(3921),P=D(4614);Y.exports=function O(I){for(var C=P(I),S=C.length;S--;){var N=C[S],A=I[N];C[S]=[N,A,T(A)]}return C}},8745:(Y,se,D)=>{var T=D(1082),P=D(1015);Y.exports=function O(I,C){var S=P(I,C);return T(S)?S:void 0}},6186:(Y,se,D)=>{var P=D(3106)(Object.getPrototypeOf,Object);Y.exports=P},5933:(Y,se,D)=>{var T=D(1763),P=Object.prototype,O=P.hasOwnProperty,I=P.toString,C=T?T.toStringTag:void 0;Y.exports=function S(N){var A=O.call(N,C),V=N[C];try{N[C]=void 0;var L=!0}catch{}var k=I.call(N);return L&&(A?N[C]=V:delete N[C]),k}},771:(Y,se,D)=>{var T=D(2134),P=D(1315),I=Object.prototype.propertyIsEnumerable,C=Object.getOwnPropertySymbols;Y.exports=C?function(N){return null==N?[]:(N=Object(N),T(C(N),function(A){return I.call(N,A)}))}:P},708:(Y,se,D)=>{var T=D(7853),P=D(6186),O=D(771),I=D(1315);Y.exports=Object.getOwnPropertySymbols?function(N){for(var A=[];N;)T(A,O(N)),N=P(N);return A}:I},2472:(Y,se,D)=>{var T=D(6506),P=D(1136),O=D(641),I=D(1732),C=D(6413),S=D(4590),N=D(7075),A="[object Map]",L="[object Promise]",k="[object Set]",H="[object WeakMap]",$="[object DataView]",Q=N(T),ue=N(P),ne=N(O),le=N(I),ae=N(C),de=S;(T&&de(new T(new ArrayBuffer(1)))!=$||P&&de(new P)!=A||O&&de(O.resolve())!=L||I&&de(new I)!=k||C&&de(new C)!=H)&&(de=function(te){var pe=S(te),q="[object Object]"==pe?te.constructor:void 0,oe=q?N(q):"";if(oe)switch(oe){case Q:return $;case ue:return A;case ne:return L;case le:return k;case ae:return H}return pe}),Y.exports=de},1015:Y=>{Y.exports=function se(D,T){return D?.[T]}},4583:(Y,se,D)=>{var T=D(4826),P=D(1955),O=D(2261),I=D(5188),C=D(7765),S=D(8916);Y.exports=function N(A,V,L){for(var k=-1,H=(V=T(V,A)).length,$=!1;++k<H;){var Q=S(V[k]);if(!($=null!=A&&L(A,Q)))break;A=A[Q]}return $||++k!=H?$:!!(H=null==A?0:A.length)&&C(H)&&I(Q,H)&&(O(A)||P(A))}},3687:Y=>{var S=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");Y.exports=function N(A){return S.test(A)}},5602:(Y,se,D)=>{var T=D(893);Y.exports=function P(){this.__data__=T?T(null):{},this.size=0}},1499:Y=>{Y.exports=function se(D){var T=this.has(D)&&delete this.__data__[D];return this.size-=T?1:0,T}},2990:(Y,se,D)=>{var T=D(893),I=Object.prototype.hasOwnProperty;Y.exports=function C(S){var N=this.__data__;if(T){var A=N[S];return"__lodash_hash_undefined__"===A?void 0:A}return I.call(N,S)?N[S]:void 0}},480:(Y,se,D)=>{var T=D(893),O=Object.prototype.hasOwnProperty;Y.exports=function I(C){var S=this.__data__;return T?void 0!==S[C]:O.call(S,C)}},4469:(Y,se,D)=>{var T=D(893);Y.exports=function O(I,C){var S=this.__data__;return this.size+=this.has(I)?0:1,S[I]=T&&void 0===C?"__lodash_hash_undefined__":C,this}},9431:Y=>{var D=Object.prototype.hasOwnProperty;Y.exports=function T(P){var O=P.length,I=new P.constructor(O);return O&&"string"==typeof P[0]&&D.call(P,"index")&&(I.index=P.index,I.input=P.input),I}},514:(Y,se,D)=>{var T=D(2355),P=D(6693),O=D(497),I=D(3330),C=D(2501);Y.exports=function me(we,Se,De){var ze=we.constructor;switch(Se){case"[object ArrayBuffer]":return T(we);case"[object Boolean]":case"[object Date]":return new ze(+we);case"[object DataView]":return P(we,De);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return C(we,De);case"[object Map]":case"[object Set]":return new ze;case"[object Number]":case"[object String]":return new ze(we);case"[object RegExp]":return O(we);case"[object Symbol]":return I(we)}}},9225:(Y,se,D)=>{var T=D(1391),P=D(6186),O=D(6587);Y.exports=function I(C){return"function"!=typeof C.constructor||O(C)?{}:T(P(C))}},2241:(Y,se,D)=>{var T=D(1763),P=D(1955),O=D(2261),I=T?T.isConcatSpreadable:void 0;Y.exports=function C(S){return O(S)||P(S)||!!(I&&S&&S[I])}},5188:Y=>{var D=/^(?:0|[1-9]\d*)$/;Y.exports=function T(P,O){var I=typeof P;return!!(O=O??9007199254740991)&&("number"==I||"symbol"!=I&&D.test(P))&&P>-1&&P%1==0&&P<O}},3817:(Y,se,D)=>{var T=D(7826),P=D(2447),O=D(5188),I=D(9794);Y.exports=function C(S,N,A){if(!I(A))return!1;var V=typeof N;return!!("number"==V?P(A)&&O(N,A.length):"string"==V&&N in A)&&T(A[N],S)}},6300:(Y,se,D)=>{var T=D(2261),P=D(3423),O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I=/^\w*$/;Y.exports=function C(S,N){if(T(S))return!1;var A=typeof S;return!("number"!=A&&"symbol"!=A&&"boolean"!=A&&null!=S&&!P(S))||I.test(S)||!O.test(S)||null!=N&&S in Object(N)}},29:Y=>{Y.exports=function se(D){var T=typeof D;return"string"==T||"number"==T||"symbol"==T||"boolean"==T?"__proto__"!==D:null===D}},9950:(Y,se,D)=>{var I,T=D(6189),P=(I=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"";Y.exports=function O(I){return!!P&&P in I}},6587:Y=>{var se=Object.prototype;Y.exports=function D(T){var P=T&&T.constructor;return T===("function"==typeof P&&P.prototype||se)}},3921:(Y,se,D)=>{var T=D(9794);Y.exports=function P(O){return O==O&&!T(O)}},9365:Y=>{Y.exports=function se(){this.__data__=[],this.size=0}},9343:(Y,se,D)=>{var T=D(4056),O=Array.prototype.splice;Y.exports=function I(C){var S=this.__data__,N=T(S,C);return!(N<0||(N==S.length-1?S.pop():O.call(S,N,1),--this.size,0))}},4779:(Y,se,D)=>{var T=D(4056);Y.exports=function P(O){var I=this.__data__,C=T(I,O);return C<0?void 0:I[C][1]}},1509:(Y,se,D)=>{var T=D(4056);Y.exports=function P(O){return T(this.__data__,O)>-1}},7137:(Y,se,D)=>{var T=D(4056);Y.exports=function P(O,I){var C=this.__data__,S=T(C,O);return S<0?(++this.size,C.push([O,I])):C[S][1]=I,this}},3413:(Y,se,D)=>{var T=D(9618),P=D(3597),O=D(1136);Y.exports=function I(){this.size=0,this.__data__={hash:new T,map:new(O||P),string:new T}}},5419:(Y,se,D)=>{var T=D(4113);Y.exports=function P(O){var I=T(this,O).delete(O);return this.size-=I?1:0,I}},7336:(Y,se,D)=>{var T=D(4113);Y.exports=function P(O){return T(this,O).get(O)}},1115:(Y,se,D)=>{var T=D(4113);Y.exports=function P(O){return T(this,O).has(O)}},6648:(Y,se,D)=>{var T=D(4113);Y.exports=function P(O,I){var C=T(this,O),S=C.size;return C.set(O,I),this.size+=C.size==S?0:1,this}},1575:Y=>{Y.exports=function se(D){var T=-1,P=Array(D.size);return D.forEach(function(O,I){P[++T]=[I,O]}),P}},2265:Y=>{Y.exports=function se(D,T){return function(P){return null!=P&&P[D]===T&&(void 0!==T||D in Object(P))}}},7371:(Y,se,D)=>{var T=D(7659);Y.exports=function O(I){var C=T(I,function(N){return 500===S.size&&S.clear(),N}),S=C.cache;return C}},893:(Y,se,D)=>{var P=D(8745)(Object,"create");Y.exports=P},366:(Y,se,D)=>{var P=D(3106)(Object.keys,Object);Y.exports=P},8981:Y=>{Y.exports=function se(D){var T=[];if(null!=D)for(var P in Object(D))T.push(P);return T}},8849:(Y,se,D)=>{Y=D.nmd(Y);var T=D(248),P=se&&!se.nodeType&&se,O=P&&Y&&!Y.nodeType&&Y,C=O&&O.exports===P&&T.process,S=function(){try{return O&&O.require&&O.require("util").types||C&&C.binding&&C.binding("util")}catch{}}();Y.exports=S},9243:Y=>{var D=Object.prototype.toString;Y.exports=function T(P){return D.call(P)}},3106:Y=>{Y.exports=function se(D,T){return function(P){return D(T(P))}}},2394:(Y,se,D)=>{var T=D(7910),P=Math.max;Y.exports=function O(I,C,S){return C=P(void 0===C?I.length-1:C,0),function(){for(var N=arguments,A=-1,V=P(N.length-C,0),L=Array(V);++A<V;)L[A]=N[C+A];A=-1;for(var k=Array(C+1);++A<C;)k[A]=N[A];return k[C]=S(L),T(I,this,k)}}},8492:(Y,se,D)=>{var T=D(248),P="object"==typeof self&&self&&self.Object===Object&&self,O=T||P||Function("return this")();Y.exports=O},7524:Y=>{Y.exports=function se(D,T){if(("constructor"!==T||"function"!=typeof D[T])&&"__proto__"!=T)return D[T]}},6151:Y=>{Y.exports=function D(T){return this.__data__.set(T,"__lodash_hash_undefined__"),this}},2154:Y=>{Y.exports=function se(D){return this.__data__.has(D)}},8e3:Y=>{Y.exports=function se(D){var T=-1,P=Array(D.size);return D.forEach(function(O){P[++T]=O}),P}},6814:(Y,se,D)=>{var T=D(8235),O=D(9531)(T);Y.exports=O},9531:Y=>{var T=Date.now;Y.exports=function P(O){var I=0,C=0;return function(){var S=T(),N=16-(S-C);if(C=S,N>0){if(++I>=800)return arguments[0]}else I=0;return O.apply(void 0,arguments)}}},9488:(Y,se,D)=>{var T=D(3597);Y.exports=function P(){this.__data__=new T,this.size=0}},5943:Y=>{Y.exports=function se(D){var T=this.__data__,P=T.delete(D);return this.size=T.size,P}},5456:Y=>{Y.exports=function se(D){return this.__data__.get(D)}},4793:Y=>{Y.exports=function se(D){return this.__data__.has(D)}},8689:(Y,se,D)=>{var T=D(3597),P=D(1136),O=D(1811);Y.exports=function C(S,N){var A=this.__data__;if(A instanceof T){var V=A.__data__;if(!P||V.length<199)return V.push([S,N]),this.size=++A.size,this;A=this.__data__=new O(V)}return A.set(S,N),this.size=A.size,this}},2528:Y=>{Y.exports=function se(D,T,P){for(var O=P-1,I=D.length;++O<I;)if(D[O]===T)return O;return-1}},7339:(Y,se,D)=>{var T=D(6181),P=D(3687),O=D(9164);Y.exports=function I(C){return P(C)?O(C):T(C)}},163:(Y,se,D)=>{var T=D(7371),P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,O=/\\(\\)?/g,I=T(function(C){var S=[];return 46===C.charCodeAt(0)&&S.push(""),C.replace(P,function(N,A,V,L){S.push(V?L.replace(O,"$1"):A||N)}),S});Y.exports=I},8916:(Y,se,D)=>{var T=D(3423);Y.exports=function O(I){if("string"==typeof I||T(I))return I;var C=I+"";return"0"==C&&1/I==-1/0?"-0":C}},7075:Y=>{var D=Function.prototype.toString;Y.exports=function T(P){if(null!=P){try{return D.call(P)}catch{}try{return P+""}catch{}}return""}},1781:Y=>{var se=/\s/;Y.exports=function D(T){for(var P=T.length;P--&&se.test(T.charAt(P)););return P}},9164:Y=>{var se="\\ud800-\\udfff",C="["+se+"]",S="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",N="\\ud83c[\\udffb-\\udfff]",V="[^"+se+"]",L="(?:\\ud83c[\\udde6-\\uddff]){2}",k="[\\ud800-\\udbff][\\udc00-\\udfff]",$="(?:"+S+"|"+N+")?",Q="[\\ufe0e\\ufe0f]?",ne=Q+$+"(?:\\u200d(?:"+[V,L,k].join("|")+")"+Q+$+")*",le="(?:"+[V+S+"?",S,L,k,C].join("|")+")",ae=RegExp(N+"(?="+N+")|"+le+ne,"g");Y.exports=function de(te){for(var pe=ae.lastIndex=0;ae.test(te);)++pe;return pe}},8734:(Y,se,D)=>{var T=D(1320);Y.exports=function O(I){return T(I,4)}},4451:(Y,se,D)=>{var T=D(1320);Y.exports=function I(C){return T(C,5)}},1075:Y=>{Y.exports=function se(D){return function(){return D}}},4430:(Y,se,D)=>{var T=D(9794),P=D(5533),O=D(4282),C=Math.max,S=Math.min;Y.exports=function N(A,V,L){var k,H,$,Q,ue,ne,le=0,ae=!1,de=!1,te=!0;if("function"!=typeof A)throw new TypeError("Expected a function");function pe(Be){var at=k,ht=H;return k=H=void 0,le=Be,Q=A.apply(ht,at)}function ie(Be){var at=Be-ne;return void 0===ne||at>=V||at<0||de&&Be-le>=$}function me(){var Be=P();if(ie(Be))return we(Be);ue=setTimeout(me,function oe(Be){var Ke=V-(Be-ne);return de?S(Ke,$-(Be-le)):Ke}(Be))}function we(Be){return ue=void 0,te&&k?pe(Be):(k=H=void 0,Q)}function ze(){var Be=P(),at=ie(Be);if(k=arguments,H=this,ne=Be,at){if(void 0===ue)return function q(Be){return le=Be,ue=setTimeout(me,V),ae?pe(Be):Q}(ne);if(de)return clearTimeout(ue),ue=setTimeout(me,V),pe(ne)}return void 0===ue&&(ue=setTimeout(me,V)),Q}return V=O(V)||0,T(L)&&(ae=!!L.leading,$=(de="maxWait"in L)?C(O(L.maxWait)||0,V):$,te="trailing"in L?!!L.trailing:te),ze.cancel=function Se(){void 0!==ue&&clearTimeout(ue),le=0,k=ne=H=ue=void 0},ze.flush=function De(){return void 0===ue?Q:we(P())},ze}},5433:(Y,se,D)=>{var T=D(8951),P=D(7826),O=D(3817),I=D(6402),C=Object.prototype,S=C.hasOwnProperty,N=T(function(A,V){A=Object(A);var L=-1,k=V.length,H=k>2?V[2]:void 0;for(H&&O(V[0],V[1],H)&&(k=1);++L<k;)for(var $=V[L],Q=I($),ue=-1,ne=Q.length;++ue<ne;){var le=Q[ue],ae=A[le];(void 0===ae||P(ae,C[le])&&!S.call(A,le))&&(A[le]=$[le])}return A});Y.exports=N},6488:(Y,se,D)=>{Y.exports=D(7170)},7826:Y=>{Y.exports=function se(D,T){return D===T||D!=D&&T!=T}},7661:(Y,se,D)=>{var T=D(2134),P=D(1892),O=D(1627),I=D(2261);Y.exports=function C(S,N){return(I(S)?T:P)(S,O(N,3))}},6177:(Y,se,D)=>{var O=D(6738)(D(1904));Y.exports=O},1904:(Y,se,D)=>{var T=D(4051),P=D(1627),O=D(481),I=Math.max;Y.exports=function C(S,N,A){var V=null==S?0:S.length;if(!V)return-1;var L=null==A?0:O(A);return L<0&&(L=I(V+L,0)),T(S,P(N,3),L)}},9336:(Y,se,D)=>{var T=D(1883);Y.exports=function P(O){return null!=O&&O.length?T(O,1):[]}},7170:(Y,se,D)=>{var T=D(7772),P=D(5103),O=D(4655),I=D(2261);Y.exports=function C(S,N){return(I(S)?T:P)(S,O(N))}},1658:(Y,se,D)=>{var T=D(6483),P=D(4655),O=D(6402);Y.exports=function I(C,S){return null==C?C:T(C,P(S),O)}},5440:(Y,se,D)=>{var T=D(2202);Y.exports=function P(O,I,C){var S=null==O?void 0:T(O,I);return void 0===S?C:S}},8669:(Y,se,D)=>{var T=D(4493),P=D(4583);Y.exports=function O(I,C){return null!=I&&P(I,C,T)}},2494:(Y,se,D)=>{var T=D(3274),P=D(4583);Y.exports=function O(I,C){return null!=I&&P(I,C,T)}},5657:Y=>{Y.exports=function se(D){return D}},1955:(Y,se,D)=>{var T=D(3022),P=D(3714),O=Object.prototype,I=O.hasOwnProperty,C=O.propertyIsEnumerable,S=T(function(){return arguments}())?T:function(N){return P(N)&&I.call(N,"callee")&&!C.call(N,"callee")};Y.exports=S},2261:Y=>{Y.exports=Array.isArray},2447:(Y,se,D)=>{var T=D(6861),P=D(7765);Y.exports=function O(I){return null!=I&&P(I.length)&&!T(I)}},3471:(Y,se,D)=>{var T=D(2447),P=D(3714);Y.exports=function O(I){return P(I)&&T(I)}},7525:(Y,se,D)=>{Y=D.nmd(Y);var T=D(8492),P=D(5706),O=se&&!se.nodeType&&se,I=O&&Y&&!Y.nodeType&&Y,S=I&&I.exports===O?T.Buffer:void 0;Y.exports=(S?S.isBuffer:void 0)||P},5350:(Y,se,D)=>{var T=D(190),P=D(2472),O=D(1955),I=D(2261),C=D(2447),S=D(7525),N=D(6587),A=D(4868),H=Object.prototype.hasOwnProperty;Y.exports=function $(Q){if(null==Q)return!0;if(C(Q)&&(I(Q)||"string"==typeof Q||"function"==typeof Q.splice||S(Q)||A(Q)||O(Q)))return!Q.length;var ue=P(Q);if("[object Map]"==ue||"[object Set]"==ue)return!Q.size;if(N(Q))return!T(Q).length;for(var ne in Q)if(H.call(Q,ne))return!1;return!0}},6861:(Y,se,D)=>{var T=D(4590),P=D(9794);Y.exports=function N(A){if(!P(A))return!1;var V=T(A);return"[object Function]"==V||"[object GeneratorFunction]"==V||"[object AsyncFunction]"==V||"[object Proxy]"==V}},7765:Y=>{Y.exports=function D(T){return"number"==typeof T&&T>-1&&T%1==0&&T<=9007199254740991}},990:(Y,se,D)=>{var T=D(8562),P=D(5249),O=D(8849),I=O&&O.isMap,C=I?P(I):T;Y.exports=C},9794:Y=>{Y.exports=function se(D){var T=typeof D;return null!=D&&("object"==T||"function"==T)}},3714:Y=>{Y.exports=function se(D){return null!=D&&"object"==typeof D}},8168:(Y,se,D)=>{var T=D(4590),P=D(6186),O=D(3714),N=Function.prototype.toString,A=Object.prototype.hasOwnProperty,V=N.call(Object);Y.exports=function L(k){if(!O(k)||"[object Object]"!=T(k))return!1;var H=P(k);if(null===H)return!0;var $=A.call(H,"constructor")&&H.constructor;return"function"==typeof $&&$ instanceof $&&N.call($)==V}},8611:(Y,se,D)=>{var T=D(1202),P=D(5249),O=D(8849),I=O&&O.isSet,C=I?P(I):T;Y.exports=C},2164:(Y,se,D)=>{var T=D(4590),P=D(2261),O=D(3714);Y.exports=function C(S){return"string"==typeof S||!P(S)&&O(S)&&"[object String]"==T(S)}},3423:(Y,se,D)=>{var T=D(4590),P=D(3714);Y.exports=function I(C){return"symbol"==typeof C||P(C)&&"[object Symbol]"==T(C)}},4868:(Y,se,D)=>{var T=D(8902),P=D(5249),O=D(8849),I=O&&O.isTypedArray,C=I?P(I):T;Y.exports=C},8152:Y=>{Y.exports=function se(D){return void 0===D}},4614:(Y,se,D)=>{var T=D(1384),P=D(190),O=D(2447);Y.exports=function I(C){return O(C)?T(C):P(C)}},6402:(Y,se,D)=>{var T=D(1384),P=D(7673),O=D(2447);Y.exports=function I(C){return O(C)?T(C,!0):P(C)}},2819:Y=>{Y.exports=function se(D){var T=null==D?0:D.length;return T?D[T-1]:void 0}},8921:(Y,se,D)=>{var T=D(3880),P=D(1627),O=D(2839),I=D(2261);Y.exports=function C(S,N){return(I(S)?T:O)(S,P(N,3))}},6054:(Y,se,D)=>{var T=D(1741),P=D(7794),O=D(1627);Y.exports=function I(C,S){var N={};return S=O(S,3),P(C,function(A,V,L){T(N,V,S(A,V,L))}),N}},5664:(Y,se,D)=>{var T=D(4530),P=D(8444),O=D(5657);Y.exports=function I(C){return C&&C.length?T(C,O,P):void 0}},7659:(Y,se,D)=>{var T=D(1811);function O(I,C){if("function"!=typeof I||null!=C&&"function"!=typeof C)throw new TypeError("Expected a function");var S=function(){var N=arguments,A=C?C.apply(this,N):N[0],V=S.cache;if(V.has(A))return V.get(A);var L=I.apply(this,N);return S.cache=V.set(A,L)||V,L};return S.cache=new(O.Cache||T),S}O.Cache=T,Y.exports=O},2213:(Y,se,D)=>{var T=D(3294),O=D(1300)(function(I,C,S){T(I,C,S)});Y.exports=O},1007:(Y,se,D)=>{var T=D(4530),P=D(8898),O=D(5657);Y.exports=function I(C){return C&&C.length?T(C,O,P):void 0}},50:(Y,se,D)=>{var T=D(4530),P=D(1627),O=D(8898);Y.exports=function I(C,S){return C&&C.length?T(C,P(S,2),O):void 0}},4249:Y=>{Y.exports=function se(){}},5533:(Y,se,D)=>{var T=D(8492);Y.exports=function(){return T.Date.now()}},7607:(Y,se,D)=>{var T=D(2784),O=D(6801)(function(I,C){return null==I?{}:T(I,C)});Y.exports=O},2692:(Y,se,D)=>{var T=D(3400),P=D(6443),O=D(6300),I=D(8916);Y.exports=function C(S){return O(S)?T(I(S)):P(S)}},5953:(Y,se,D)=>{var P=D(4222)();Y.exports=P},5909:(Y,se,D)=>{var T=D(9850),P=D(5103),O=D(1627),I=D(8978),C=D(2261);Y.exports=function S(N,A,V){var L=C(N)?T:I,k=arguments.length<3;return L(N,O(A,4),V,k,P)}},7939:(Y,se,D)=>{var T=D(9478);Y.exports=function P(O,I,C){return null==O?O:T(O,I,C)}},5741:(Y,se,D)=>{var T=D(190),P=D(2472),O=D(2447),I=D(2164),C=D(7339);Y.exports=function A(V){if(null==V)return 0;if(O(V))return I(V)?C(V):V.length;var L=P(V);return"[object Map]"==L||"[object Set]"==L?V.size:T(V).length}},7184:(Y,se,D)=>{var T=D(1883),P=D(252),O=D(8951),I=D(3817),C=O(function(S,N){if(null==S)return[];var A=N.length;return A>1&&I(S,N[0],N[1])?N=[]:A>2&&I(N[0],N[1],N[2])&&(N=[N[0]]),P(S,T(N,1),[])});Y.exports=C},1315:Y=>{Y.exports=function se(){return[]}},5706:Y=>{Y.exports=function se(){return!1}},9292:(Y,se,D)=>{var T=D(4282),P=1/0;Y.exports=function I(C){return C?(C=T(C))===P||C===-P?17976931348623157e292*(C<0?-1:1):C==C?C:0:0===C?C:0}},481:(Y,se,D)=>{var T=D(9292);Y.exports=function P(O){var I=T(O),C=I%1;return I==I?C?I-C:I:0}},4282:(Y,se,D)=>{var T=D(9484),P=D(9794),O=D(3423),C=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,N=/^0o[0-7]+$/i,A=parseInt;Y.exports=function V(L){if("number"==typeof L)return L;if(O(L))return NaN;if(P(L)){var k="function"==typeof L.valueOf?L.valueOf():L;L=P(k)?k+"":k}if("string"!=typeof L)return 0===L?L:+L;L=T(L);var H=S.test(L);return H||N.test(L)?A(L.slice(2),H?2:8):C.test(L)?NaN:+L}},9078:(Y,se,D)=>{var T=D(3880),P=D(4231),O=D(2261),I=D(3423),C=D(163),S=D(8916),N=D(2674);Y.exports=function A(V){return O(V)?T(V,S):I(V)?[V]:P(C(N(V)))}},4210:(Y,se,D)=>{var T=D(5931),P=D(6402);Y.exports=function O(I){return T(I,P(I))}},2674:(Y,se,D)=>{var T=D(7002);Y.exports=function P(O){return null==O?"":T(O)}},6893:(Y,se,D)=>{var T=D(7772),P=D(1391),O=D(7794),I=D(1627),C=D(6186),S=D(2261),N=D(7525),A=D(6861),V=D(9794),L=D(4868);Y.exports=function k(H,$,Q){var ue=S(H),ne=ue||N(H)||L(H);if($=I($,4),null==Q){var le=H&&H.constructor;Q=ne?ue?new le:[]:V(H)&&A(le)?P(C(H)):{}}return(ne?T:O)(H,function(ae,de,te){return $(Q,ae,de,te)}),Q}},2480:(Y,se,D)=>{var T=D(1883),P=D(8951),O=D(9154),I=D(3471),C=P(function(S){return O(T(S,1,I,!0))});Y.exports=C},4538:(Y,se,D)=>{var T=D(2674),P=0;Y.exports=function O(I){var C=++P;return T(I)+C}},8808:(Y,se,D)=>{var T=D(6680),P=D(4614);Y.exports=function O(I){return null==I?[]:T(I,P(I))}},4606:(Y,se,D)=>{var T=D(9553),P=D(2255);Y.exports=function O(I,C){return P(I||[],C||[],T)}}},Y=>{Y(Y.s=3629)}]);
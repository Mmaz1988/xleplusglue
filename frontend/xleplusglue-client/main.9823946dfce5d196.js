(self.webpackChunkgswb_client=self.webpackChunkgswb_client||[]).push([[179],{5892:(j,ae,x)=>{"use strict";function T(e){return"function"==typeof e}function L(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const O=L(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function I(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class C{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const u of n)u.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(T(r))try{r()}catch(u){t=u instanceof O?u.errors:[u]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const u of o)try{N(u)}catch(h){t=t??[],h instanceof O?t=[...t,...h.errors]:t.push(h)}}if(t)throw new O(t)}}add(t){var n;if(t&&t!==this)if(this.closed)N(t);else{if(t instanceof C){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&I(n,t)}remove(t){const{_finalizers:n}=this;n&&I(n,t),t instanceof C&&t._removeParent(this)}}C.EMPTY=(()=>{const e=new C;return e.closed=!0,e})();const S=C.EMPTY;function R(e){return e instanceof C||e&&"closed"in e&&T(e.remove)&&T(e.add)&&T(e.unsubscribe)}function N(e){T(e)?e():e.unsubscribe()}const B={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},k={setTimeout(e,t,...n){const{delegate:r}=k;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=k;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function F(e){k.setTimeout(()=>{const{onUnhandledError:t}=B;if(!t)throw e;t(e)})}function H(){}const $=ne("C",void 0,void 0);function ne(e,t,n){return{kind:e,value:t,error:n}}let le=null;function se(e){if(B.useDeprecatedSynchronousErrorHandling){const t=!le;if(t&&(le={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=le;if(le=null,n)throw r}}else e()}class ee extends C{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,R(t)&&t.add(this)):this.destination=xe}static create(t,n,r){return new ie(t,n,r)}next(t){this.isStopped?Se(function ce(e){return ne("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Se(function J(e){return ne("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Se($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pe=Function.prototype.bind;function K(e,t){return pe.call(e,t)}class oe{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ge(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ge(r)}else ge(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ge(n)}}}class ie extends ee{constructor(t,n,r){let o;if(super(),T(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let u;this&&B.useDeprecatedNextContext?(u=Object.create(t),u.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&K(t.next,u),error:t.error&&K(t.error,u),complete:t.complete&&K(t.complete,u)}):o=t}this.destination=new oe(o)}}function ge(e){B.useDeprecatedSynchronousErrorHandling?function he(e){B.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=e)}(e):F(e)}function Se(e,t){const{onStoppedNotification:n}=B;n&&k.setTimeout(()=>n(e,t))}const xe={closed:!0,next:H,error:function we(e){throw e},complete:H},Ve="function"==typeof Symbol&&Symbol.observable||"@@observable";function _e(e){return e}function at(e){return 0===e.length?_e:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let Xe=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const u=function Yt(e){return e&&e instanceof ee||function $e(e){return e&&T(e.next)&&T(e.error)&&T(e.complete)}(e)&&R(e)}(n)?n:new ie(n,r,o);return se(()=>{const{operator:h,source:b}=this;u.add(h?h.call(u,b):b?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=yt(r))((o,u)=>{const h=new ie({next:b=>{try{n(b)}catch(A){u(A),h.unsubscribe()}},error:u,complete:o});this.subscribe(h)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ve](){return this}pipe(...n){return at(n)(this)}toPromise(n){return new(n=yt(n))((r,o)=>{let u;this.subscribe(h=>u=h,h=>o(h),()=>r(u))})}}return e.create=t=>new e(t),e})();function yt(e){var t;return null!==(t=e??B.Promise)&&void 0!==t?t:Promise}const _t=L(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ut=(()=>{class e extends Xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new cn(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new _t}next(n){se(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){se(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){se(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:u}=this;return r||o?S:(this.currentObservers=null,u.push(n),new C(()=>{this.currentObservers=null,I(u,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:u}=this;r?n.error(o):u&&n.complete()}asObservable(){const n=new Xe;return n.source=this,n}}return e.create=(t,n)=>new cn(t,n),e})();class cn extends Ut{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:S}}class ln extends Ut{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function nt(e){return T(e?.lift)}function Qe(e){return t=>{if(nt(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function lt(e,t,n,r,o){return new Lt(e,t,n,r,o)}class Lt extends ee{constructor(t,n,r,o,u,h){super(t),this.onFinalize=u,this.shouldUnsubscribe=h,this._next=n?function(b){try{n(b)}catch(A){t.error(A)}}:super._next,this._error=o?function(b){try{o(b)}catch(A){t.error(A)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(b){t.error(b)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Rt(e,t){return Qe((n,r)=>{let o=0;n.subscribe(lt(r,u=>{r.next(e.call(t,u,o++))}))})}function Lo(e){return this instanceof Lo?(this.v=e,this):new Lo(e)}function ls(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Ta(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(u){n[u]=e[u]&&function(h){return new Promise(function(b,A){!function o(u,h,b,A){Promise.resolve(A).then(function(V){u({value:V,done:b})},h)}(b,A,(h=e[u](h)).done,h.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ia=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Is(e){return T(e?.then)}function mc(e){return T(e[Ve])}function Ua(e){return Symbol.asyncIterator&&T(e?.[Symbol.asyncIterator])}function da(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ga=function Cd(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function yc(e){return T(e?.[Ga])}function Gl(e){return function zs(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),u=[];return o={},h("next"),h("throw"),h("return"),o[Symbol.asyncIterator]=function(){return this},o;function h(ve){r[ve]&&(o[ve]=function(Te){return new Promise(function(Ue,je){u.push([ve,Te,Ue,je])>1||b(ve,Te)})})}function b(ve,Te){try{!function A(ve){ve.value instanceof Lo?Promise.resolve(ve.value.v).then(V,Y):te(u[0][2],ve)}(r[ve](Te))}catch(Ue){te(u[0][3],Ue)}}function V(ve){b("next",ve)}function Y(ve){b("throw",ve)}function te(ve,Te){ve(Te),u.shift(),u.length&&b(u[0][0],u[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield Lo(n.read());if(o)return yield Lo(void 0);yield yield Lo(r)}}finally{n.releaseLock()}})}function xu(e){return T(e?.getReader)}function na(e){if(e instanceof Xe)return e;if(null!=e){if(mc(e))return function bc(e){return new Xe(t=>{const n=e[Ve]();if(T(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Ia(e))return function Su(e){return new Xe(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Is(e))return function Tu(e){return new Xe(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,F)})}(e);if(Ua(e))return Mu(e);if(yc(e))return function us(e){return new Xe(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(xu(e))return function wc(e){return Mu(Gl(e))}(e)}throw da(e)}function Mu(e){return new Xe(t=>{(function zr(e,t){var n,r,o,u;return function wi(e,t,n,r){return new(n||(n=Promise))(function(u,h){function b(Y){try{V(r.next(Y))}catch(te){h(te)}}function A(Y){try{V(r.throw(Y))}catch(te){h(te)}}function V(Y){Y.done?u(Y.value):function o(u){return u instanceof n?u:new n(function(h){h(u)})}(Y.value).then(b,A)}V((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=ls(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(h){o={error:h}}finally{try{r&&!r.done&&(u=n.return)&&(yield u.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function ha(e,t,n,r=0,o=!1){const u=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(u),!o)return u}function Vi(e,t,n=1/0){return T(t)?Vi((r,o)=>Rt((u,h)=>t(r,u,o,h))(na(e(r,o))),n):("number"==typeof t&&(n=t),Qe((r,o)=>function mr(e,t,n,r,o,u,h,b){const A=[];let V=0,Y=0,te=!1;const ve=()=>{te&&!A.length&&!V&&t.complete()},Te=je=>V<r?Ue(je):A.push(je),Ue=je=>{u&&t.next(je),V++;let ft=!1;na(n(je,Y++)).subscribe(lt(t,xt=>{o?.(xt),u?Te(xt):t.next(xt)},()=>{ft=!0},void 0,()=>{if(ft)try{for(V--;A.length&&V<r;){const xt=A.shift();h?ha(t,h,()=>Ue(xt)):Ue(xt)}ve()}catch(xt){t.error(xt)}}))};return e.subscribe(lt(t,Te,()=>{te=!0,ve()})),()=>{b?.()}}(r,o,e,n)))}function vi(e=1/0){return Vi(_e,e)}const pa=new Xe(e=>e.complete());function Yr(e){return e[e.length-1]}function Aa(e){return T(Yr(e))?e.pop():void 0}function vo(e){return function mn(e){return e&&T(e.schedule)}(Yr(e))?e.pop():void 0}function Pi(e,t=0){return Qe((n,r)=>{n.subscribe(lt(r,o=>ha(r,e,()=>r.next(o),t),()=>ha(r,e,()=>r.complete(),t),o=>ha(r,e,()=>r.error(o),t)))})}function mo(e,t=0){return Qe((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function cs(e,t){if(!e)throw new Error("Iterable cannot be null");return new Xe(n=>{ha(n,t,()=>{const r=e[Symbol.asyncIterator]();ha(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Fe(e,t){return t?function Re(e,t){if(null!=e){if(mc(e))return function Cc(e,t){return na(e).pipe(mo(t),Pi(t))}(e,t);if(Ia(e))return function kn(e,t){return new Xe(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Is(e))return function Et(e,t){return na(e).pipe(mo(t),Pi(t))}(e,t);if(Ua(e))return cs(e,t);if(yc(e))return function Ec(e,t){return new Xe(n=>{let r;return ha(n,t,()=>{r=e[Ga](),ha(n,t,()=>{let o,u;try{({value:o,done:u}=r.next())}catch(h){return void n.error(h)}u?n.complete():n.next(o)},0,!0)}),()=>T(r?.return)&&r.return()})}(e,t);if(xu(e))return function Ne(e,t){return cs(Gl(e),t)}(e,t)}throw da(e)}(e,t):na(e)}function Ze(...e){return Fe(e,vo(e))}function Zt(e={}){const{connector:t=(()=>new Ut),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return u=>{let h,b,A,V=0,Y=!1,te=!1;const ve=()=>{b?.unsubscribe(),b=void 0},Te=()=>{ve(),h=A=void 0,Y=te=!1},Ue=()=>{const je=h;Te(),je?.unsubscribe()};return Qe((je,ft)=>{V++,!te&&!Y&&ve();const xt=A=A??t();ft.add(()=>{V--,0===V&&!te&&!Y&&(b=un(Ue,o))}),xt.subscribe(ft),!h&&V>0&&(h=new ie({next:rt=>xt.next(rt),error:rt=>{te=!0,ve(),b=un(Te,n,rt),xt.error(rt)},complete:()=>{Y=!0,ve(),b=un(Te,r),xt.complete()}}),na(je).subscribe(h))})(u)}}function un(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new ie({next:()=>{r.unsubscribe(),e()}});return na(t(...n)).subscribe(r)}function Ft(e,t){return Qe((n,r)=>{let o=null,u=0,h=!1;const b=()=>h&&!o&&r.complete();n.subscribe(lt(r,A=>{o?.unsubscribe();let V=0;const Y=u++;na(e(A,Y)).subscribe(o=lt(r,te=>r.next(t?t(A,te,Y,V++):te),()=>{o=null,b()}))},()=>{h=!0,b()}))})}function Nn(e,t){return e===t}function Pt(e){for(let t in e)if(e[t]===Pt)return t;throw Error("Could not find renamed property on target object.")}function wr(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Un(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Un).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Yn(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Wr=Pt({__forward_ref__:Pt});function Dn(e){return e.__forward_ref__=Dn,e.toString=function(){return Un(this())},e}function Jt(e){return Sr(e)?e():e}function Sr(e){return"function"==typeof e&&e.hasOwnProperty(Wr)&&e.__forward_ref__===Dn}function Jr(e){return e&&!!e.\u0275providers}const ar="https://g.co/ng/security#xss";class ct extends Error{constructor(t,n){super(function Tr(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function fn(e){return"string"==typeof e?e:null==e?"":String(e)}function xi(e,t){throw new ct(-201,!1)}function Hi(e,t){null==e&&function Gn(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Cn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function yo(e){return{providers:e.providers||[],imports:e.imports||[]}}function va(e){return zl(e,ma)||zl(e,vl)}function zl(e,t){return e.hasOwnProperty(t)?e[t]:null}function Po(e){return e&&(e.hasOwnProperty(ds)||e.hasOwnProperty(Ou))?e[ds]:null}const ma=Pt({\u0275prov:Pt}),ds=Pt({\u0275inj:Pt}),vl=Pt({ngInjectableDef:Pt}),Ou=Pt({ngInjectorDef:Pt});var Mn=(()=>((Mn=Mn||{})[Mn.Default=0]="Default",Mn[Mn.Host=1]="Host",Mn[Mn.Self=2]="Self",Mn[Mn.SkipSelf=4]="SkipSelf",Mn[Mn.Optional=8]="Optional",Mn))();let Oa;function eo(e){const t=Oa;return Oa=e,t}function za(e,t,n){const r=va(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Mn.Optional?null:void 0!==t?t:void xi(Un(e))}const ei=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Wl={},jl="__NG_DI_FLAG__",Lu="ngTempTokenPath",to=/\n/gm,Dd="__source";let Os;function ya(e){const t=Os;return Os=e,t}function Ih(e,t=Mn.Default){if(void 0===Os)throw new ct(-203,!1);return null===Os?za(e,void 0,t):Os.get(e,t&Mn.Optional?null:void 0,t)}function gn(e,t=Mn.Default){return(function $s(){return Oa}()||Ih)(Jt(e),t)}function sn(e,t=Mn.Default){return gn(e,Nf(t))}function Nf(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Of(e){const t=[];for(let n=0;n<e.length;n++){const r=Jt(e[n]);if(Array.isArray(r)){if(0===r.length)throw new ct(900,!1);let o,u=Mn.Default;for(let h=0;h<r.length;h++){const b=r[h],A=$p(b);"number"==typeof A?-1===A?o=b.token:u|=A:o=b}t.push(gn(o,u))}else t.push(gn(r))}return t}function ku(e,t){return e[jl]=t,e.prototype[jl]=t,e}function $p(e){return e[jl]}function Wa(e){return{toString:e}.toString()}var ja=(()=>((ja=ja||{})[ja.OnPush=0]="OnPush",ja[ja.Default=1]="Default",ja))(),ba=(()=>{return(e=ba||(ba={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",ba;var e})();const no={},dr=[],Fu=Pt({\u0275cmp:Pt}),Rf=Pt({\u0275dir:Pt}),Lf=Pt({\u0275pipe:Pt}),Ah=Pt({\u0275mod:Pt}),hs=Pt({\u0275fac:Pt}),yl=Pt({__NG_ELEMENT_ID__:Pt}),bl=Pt({__NG_ENV_ID__:Pt});function ps(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const u=t.length;if(o+u===r||e.charCodeAt(o+u)<=32)return o}n=o+1}}function Pf(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const u=n[r++],h=n[r++],b=n[r++];e.setAttribute(t,h,b,u)}else{const u=o,h=n[++r];Yl(u)?e.setProperty(t,u,h):e.setAttribute(t,u,h),r++}}return r}function $l(e){return 3===e||4===e||6===e}function Yl(e){return 64===e.charCodeAt(0)}function wl(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Nh(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Nh(e,t,n,r,o){let u=0,h=e.length;if(-1===t)h=-1;else for(;u<e.length;){const b=e[u++];if("number"==typeof b){if(b===t){h=-1;break}if(b>t){h=u-1;break}}}for(;u<e.length;){const b=e[u];if("number"==typeof b)break;if(b===n){if(null===r)return void(null!==o&&(e[u+1]=o));if(r===e[u+1])return void(e[u+2]=o)}u++,null!==r&&u++,null!==o&&u++}-1!==h&&(e.splice(h,0,t),u=h+1),e.splice(u++,0,n),null!==r&&e.splice(u++,0,r),null!==o&&e.splice(u++,0,o)}const xc="ng-template";function Sc(e,t,n){let r=0,o=!0;for(;r<e.length;){let u=e[r++];if("string"==typeof u&&o){const h=e[r++];if(n&&"class"===u&&-1!==ps(h.toLowerCase(),t,0))return!0}else{if(1===u){for(;r<e.length&&"string"==typeof(u=e[r++]);)if(u.toLowerCase()===t)return!0;return!1}"number"==typeof u&&(o=!1)}}return!1}function Cl(e){return 4===e.type&&e.value!==xc}function Sd(e,t,n){return t===(4!==e.type||n?e.value:xc)}function Td(e,t,n){let r=4;const o=e.attrs||[],u=function $a(e){for(let t=0;t<e.length;t++)if($l(e[t]))return t;return e.length}(o);let h=!1;for(let b=0;b<t.length;b++){const A=t[b];if("number"!=typeof A){if(!h)if(4&r){if(r=2|1&r,""!==A&&!Sd(e,A,n)||""===A&&1===t.length){if(Ra(r))return!1;h=!0}}else{const V=8&r?A:t[++b];if(8&r&&null!==e.attrs){if(!Sc(e.attrs,V,n)){if(Ra(r))return!1;h=!0}continue}const te=kf(8&r?"class":A,o,Cl(e),n);if(-1===te){if(Ra(r))return!1;h=!0;continue}if(""!==V){let ve;ve=te>u?"":o[te+1].toLowerCase();const Te=8&r?ve:null;if(Te&&-1!==ps(Te,V,0)||2&r&&V!==ve){if(Ra(r))return!1;h=!0}}}}else{if(!h&&!Ra(r)&&!Ra(A))return!1;if(h&&Ra(A))continue;h=!1,r=A|1&r}}return Ra(r)||h}function Ra(e){return 0==(1&e)}function kf(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let u=!1;for(;o<t.length;){const h=t[o];if(h===e)return o;if(3===h||6===h)u=!0;else{if(1===h||2===h){let b=t[++o];for(;"string"==typeof b;)b=t[++o];continue}if(4===h)break;if(0===h){o+=4;continue}}o+=u?1:2}return-1}return function Oh(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Md(e,t,n=!1){for(let r=0;r<t.length;r++)if(Td(e,t[r],n))return!0;return!1}function Id(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function _f(e,t){return e?":not("+t.trim()+")":t}function Rh(e){let t=e[0],n=1,r=2,o="",u=!1;for(;n<e.length;){let h=e[n];if("string"==typeof h)if(2&r){const b=e[++n];o+="["+h+(b.length>0?'="'+b+'"':"")+"]"}else 8&r?o+="."+h:4&r&&(o+=" "+h);else""!==o&&!Ra(h)&&(t+=_f(u,o),o=""),r=h,u=u||!Ra(r);n++}return""!==o&&(t+=_f(u,o)),t}function Si(e){return Wa(()=>{const t=Ks(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ja.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ba.Emulated,styles:e.styles||dr,_:null,schemas:e.schemas||null,tView:null,id:""};Bu(n);const r=e.dependencies;return n.directiveDefs=Vf(r,!1),n.pipeDefs=Vf(r,!0),n.id=function Mc(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function Xp(e){return Mr(e)||Ti(e)}function Xl(e){return null!==e}function bo(e){return Wa(()=>({type:e.type,bootstrap:e.bootstrap||dr,declarations:e.declarations||dr,imports:e.imports||dr,exports:e.exports||dr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Bf(e,t){if(null==e)return no;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],u=o;Array.isArray(o)&&(u=o[1],o=o[0]),n[o]=r,t&&(t[o]=u)}return n}function _n(e){return Wa(()=>{const t=Ks(e);return Bu(t),t})}function Mr(e){return e[Fu]||null}function Ti(e){return e[Rf]||null}function Ui(e){return e[Lf]||null}function zi(e,t){const n=e[Ah]||null;if(!n&&!0===t)throw new Error(`Type ${Un(e)} does not have '\u0275mod' property.`);return n}function Ks(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||no,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||dr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bf(e.inputs,t),outputs:Bf(e.outputs)}}function Bu(e){e.features?.forEach(t=>t(e))}function Vf(e,t){if(!e)return null;const n=t?Ui:Xp;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Xl)}const Wi=0,rn=1,Rn=2,yi=3,Wo=4,Vu=5,ro=6,Zs=7,ti=8,Rs=9,jo=10,Vn=11,Hu=12,Nd=13,Kl=14,Mi=15,Ya=16,La=17,ji=18,Ic=19,Ac=20,qs=21,Jn=22,Nc=23,Pa=24,on=25,an=1,Qs=2,gs=7,Zl=9,jr=11;function ka(e){return Array.isArray(e)&&"object"==typeof e[an]}function wa(e){return Array.isArray(e)&&!0===e[an]}function Od(e){return 0!=(4&e.flags)}function ql(e){return e.componentOffset>-1}function Hf(e){return 1==(1&e.flags)}function Xa(e){return!!e.template}function $o(e){return 0!=(512&e[Rn])}function $i(e,t){return e.hasOwnProperty(hs)?e[hs]:null}let Yo=ei.WeakRef??class Pr{constructor(t){this.ref=t}deref(){return this.ref}},Ka=0,Do=null,el=!1;function _i(e){const t=Do;return Do=e,t}class Uu{constructor(){this.id=Ka++,this.ref=function ia(e){return new Yo(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(t),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=el;el=!0;try{for(const[n,r]of this.consumers){const o=r.consumerNode.deref();void 0!==o&&o.trackingVersion===r.atTrackingVersion?o.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),o?.producers.delete(this.id))}}finally{el=t}}producerAccessed(){if(el)throw new Error("");if(null===Do)return;let t=Do.producers.get(this.id);void 0===t?(t={consumerNode:Do.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Do.trackingVersion},Do.producers.set(this.id,t),this.consumers.set(Do.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=Do.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Do?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let kd=null;const _c=()=>{};class Bh extends Uu{constructor(t,n,r){super(),this.watch=t,this.schedule=n,this.dirty=!1,this.cleanupFn=_c,this.registerOnCleanup=o=>{this.cleanupFn=o},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=_i(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=_c,this.watch(this.registerOnCleanup)}finally{_i(t)}}cleanup(){this.cleanupFn()}}class Qp{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function qa(){return _d}function _d(e){return e.type.prototype.ngOnChanges&&(e.setInput=jf),ju}function ju(){const e=Fd(this),t=e?.current;if(t){const n=e.previous;if(n===no)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function jf(e,t,n,r){const o=this.declaredInputs[n],u=Fd(e)||function Bd(e,t){return e[Fc]=t}(e,{previous:no,current:null}),h=u.current||(u.current={}),b=u.previous,A=b[o];h[o]=new Qp(A&&A.currentValue,t,b===no),e[r]=t}qa.ngInherit=!0;const Fc="__ngSimpleChanges__";function Fd(e){return e[Fc]||null}const Ca=function(e,t,n){};function qr(e){for(;Array.isArray(e);)e=e[Wi];return e}function Uc(e,t){return qr(t[e])}function Ii(e,t){return qr(t[e.index])}function $f(e,t){return e.data[t]}function Ea(e,t){const n=t[e];return ka(n)?n:n[Wi]}function Ps(e,t){return null==t?null:e[t]}function yr(e){e[La]=0}function Jp(e){1024&e[Rn]||(e[Rn]|=1024,Yu(e,1))}function Tl(e){1024&e[Rn]&&(e[Rn]&=-1025,Yu(e,-1))}function Yu(e,t){let n=e[yi];if(null===n)return;n[Vu]+=t;let r=n;for(n=n[yi];null!==n&&(1===t&&1===r[Vu]||-1===t&&0===r[Vu]);)n[Vu]+=t,r=n,n=n[yi]}const In={lFrame:Qu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Wc(){return In.bindingsEnabled}function So(){return null!==In.skipHydrationRootTNode}function It(){return In.lFrame.lView}function ur(){return In.lFrame.tView}function tr(e){return In.lFrame.contextLView=e,e[ti]}function Da(e){return In.lFrame.contextLView=null,e}function To(){let e=Gd();for(;null!==e&&64===e.type;)e=e.parent;return e}function Gd(){return In.lFrame.currentTNode}function Qa(e,t){const n=In.lFrame;n.currentTNode=e,n.isParent=t}function $c(){return In.lFrame.isParent}function Yi(){In.lFrame.isParent=!1}function ms(){return In.lFrame.bindingIndex++}function Mo(e){const t=In.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ks(e,t){const n=In.lFrame;n.bindingIndex=n.bindingRootIndex=e,Yc(t)}function Yc(e){In.lFrame.currentDirectiveIndex=e}function Xc(){return In.lFrame.currentQueryIndex}function ys(e){In.lFrame.currentQueryIndex=e}function Xf(e){const t=e[rn];return 2===t.type?t.declTNode:1===t.type?e[ro]:null}function qu(e,t,n){if(n&Mn.SkipSelf){let o=t,u=e;for(;!(o=o.parent,null!==o||n&Mn.Host||(o=Xf(u),null===o||(u=u[Kl],10&o.type))););if(null===o)return!1;t=o,e=u}const r=In.lFrame=Wh();return r.currentTNode=t,r.lView=e,!0}function Nl(e){const t=Wh(),n=e[rn];In.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Wh(){const e=In.lFrame,t=null===e?null:e.child;return null===t?Qu(e):t}function Qu(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Kc(){const e=In.lFrame;return In.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Zc=Kc;function ao(){const e=Kc();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function so(){return In.lFrame.selectedIndex}function Ba(e){In.lFrame.selectedIndex=e}function Ar(){const e=In.lFrame;return $f(e.tView,e.selectedIndex)}let Io=!0;function Jc(){return Io}function Rl(e){Io=e}function Ja(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const u=e.data[n].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:b,ngAfterViewInit:A,ngAfterViewChecked:V,ngOnDestroy:Y}=u;h&&(e.contentHooks??=[]).push(-n,h),b&&((e.contentHooks??=[]).push(n,b),(e.contentCheckHooks??=[]).push(n,b)),A&&(e.viewHooks??=[]).push(-n,A),V&&((e.viewHooks??=[]).push(n,V),(e.viewCheckHooks??=[]).push(n,V)),null!=Y&&(e.destroyHooks??=[]).push(n,Y)}}function es(e,t,n){jh(e,t,3,n)}function nu(e,t,n,r){(3&e[Rn])===n&&jh(e,t,n,r)}function Kf(e,t){let n=e[Rn];(3&n)===t&&(n&=8191,n+=1,e[Rn]=n)}function jh(e,t,n,r){const u=r??-1,h=t.length-1;let b=0;for(let A=void 0!==r?65535&e[La]:0;A<h;A++)if("number"==typeof t[A+1]){if(b=t[A],null!=r&&b>=r)break}else t[A]<0&&(e[La]+=65536),(b<u||-1==u)&&($h(e,n,t,A),e[La]=(4294901760&e[La])+A+2),A++}function ru(e,t){Ca(4,e,t);const n=_i(null);try{t.call(e)}finally{_i(n),Ca(5,e,t)}}function $h(e,t,n,r){const o=n[r]<0,u=n[r+1],b=e[o?-n[r]:n[r]];o?e[Rn]>>13<e[La]>>16&&(3&e[Rn])===t&&(e[Rn]+=8192,ru(b,u)):ru(b,u)}const iu=-1;class Ju{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Wd(e){return e!==iu}function ou(e){return 32767&e}function nf(e,t){let n=function rg(e){return e>>16}(e),r=t;for(;n>0;)r=r[Kl],n--;return r}let jd=!0;function $r(e){const t=jd;return jd=e,t}const rf=255,ec=5;let bs=0;const Xo={};function af(e,t){const n=Yd(e,t);if(-1!==n)return n;const r=t[rn];r.firstCreatePass&&(e.injectorIndex=t.length,Qf(r.data,e),Qf(t,null),Qf(r.blueprint,null));const o=sf(e,t),u=e.injectorIndex;if(Wd(o)){const h=ou(o),b=nf(o,t),A=b[rn].data;for(let V=0;V<8;V++)t[u+V]=b[h+V]|A[h+V]}return t[u+8]=o,u}function Qf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Yd(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function sf(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=c(o),null===r)return iu;if(n++,o=o[Kl],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return iu}function Jf(e,t,n){!function $d(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(yl)&&(r=n[yl]),null==r&&(r=n[yl]=bs++);const o=r&rf;t.data[e+(o>>ec)]|=1<<o}(e,t,n)}function ed(e,t,n){if(n&Mn.Optional||void 0!==e)return e;xi()}function td(e,t,n,r){if(n&Mn.Optional&&void 0===r&&(r=null),!(n&(Mn.Self|Mn.Host))){const o=e[Rs],u=eo(void 0);try{return o?o.get(t,r,n&Mn.Optional):za(t,r,n&Mn.Optional)}finally{eo(u)}}return ed(r,0,n)}function _r(e,t,n,r=Mn.Default,o){if(null!==e){if(2048&t[Rn]&&!(r&Mn.Self)){const h=function a(e,t,n,r,o){let u=e,h=t;for(;null!==u&&null!==h&&2048&h[Rn]&&!(512&h[Rn]);){const b=lf(u,h,n,r|Mn.Self,Xo);if(b!==Xo)return b;let A=u.parent;if(!A){const V=h[Ac];if(V){const Y=V.get(n,Xo,r);if(Y!==Xo)return Y}A=c(h),h=h[Kl]}u=A}return o}(e,t,n,r,Xo);if(h!==Xo)return h}const u=lf(e,t,n,r,Xo);if(u!==Xo)return u}return td(t,n,r,o)}function lf(e,t,n,r,o){const u=function uf(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(yl)?e[yl]:void 0;return"number"==typeof t?t>=0?t&rf:qh:t}(n);if("function"==typeof u){if(!qu(t,e,r))return r&Mn.Host?ed(o,0,r):td(t,n,r,o);try{const h=u(r);if(null!=h||r&Mn.Optional)return h;xi()}finally{Zc()}}else if("number"==typeof u){let h=null,b=Yd(e,t),A=iu,V=r&Mn.Host?t[Mi][ro]:null;for((-1===b||r&Mn.SkipSelf)&&(A=-1===b?sf(e,t):t[b+8],A!==iu&&fi(r,!1)?(h=t[rn],b=ou(A),t=nf(A,t)):b=-1);-1!==b;){const Y=t[rn];if(Zh(u,b,Y.data)){const te=ig(b,t,n,h,r,V);if(te!==Xo)return te}A=t[b+8],A!==iu&&fi(r,t[rn].data[b+8]===V)&&Zh(u,b,t)?(h=Y,b=ou(A),t=nf(A,t)):b=-1}}return o}function ig(e,t,n,r,o,u){const h=t[rn],b=h.data[e+8],Y=_s(b,h,n,null==r?ql(b)&&jd:r!=h&&0!=(3&b.type),o&Mn.Host&&u===b);return null!==Y?au(t,h,Y,b):Xo}function _s(e,t,n,r,o){const u=e.providerIndexes,h=t.data,b=1048575&u,A=e.directiveStart,Y=u>>20,ve=o?b+Y:e.directiveEnd;for(let Te=r?b:b+Y;Te<ve;Te++){const Ue=h[Te];if(Te<A&&n===Ue||Te>=A&&Ue.type===n)return Te}if(o){const Te=h[A];if(Te&&Xa(Te)&&Te.type===n)return A}return null}function au(e,t,n,r){let o=e[n];const u=t.data;if(function Yh(e){return e instanceof Ju}(o)){const h=o;h.resolving&&function Kr(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ct(-200,`Circular dependency in DI detected for ${e}${n}`)}(function On(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():fn(e)}(u[n]));const b=$r(h.canSeeViewProviders);h.resolving=!0;const A=h.injectImpl?eo(h.injectImpl):null;qu(e,r,Mn.Default);try{o=e[n]=h.factory(void 0,u,e,r),t.firstCreatePass&&n>=r.directiveStart&&function nl(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:u}=t.type.prototype;if(r){const h=_d(t);(n.preOrderHooks??=[]).push(e,h),(n.preOrderCheckHooks??=[]).push(e,h)}o&&(n.preOrderHooks??=[]).push(0-e,o),u&&((n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u))}(n,u[n],t)}finally{null!==A&&eo(A),$r(b),h.resolving=!1,Zc()}}return o}function Zh(e,t,n){return!!(n[t+(e>>ec)]&1<<e)}function fi(e,t){return!(e&Mn.Self||e&Mn.Host&&t)}class su{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return _r(this._tNode,this._lView,t,Nf(r),n)}}function qh(){return new su(To(),It())}function uo(e){return Wa(()=>{const t=e.prototype.constructor,n=t[hs]||ts(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const u=o[hs]||ts(o);if(u&&u!==n)return u;o=Object.getPrototypeOf(o)}return u=>new u})}function ts(e){return Sr(e)?()=>{const t=ts(Jt(e));return t&&t()}:$i(e)}function c(e){const t=e[rn],n=t.type;return 2===n?t.declTNode:1===n?e[ro]:null}const y="__parameters__";function Q(e,t,n){return Wa(()=>{const r=function X(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...u){if(this instanceof o)return r.apply(this,u),this;const h=new o(...u);return b.annotation=h,b;function b(A,V,Y){const te=A.hasOwnProperty(y)?A[y]:Object.defineProperty(A,y,{value:[]})[y];for(;te.length<=Y;)te.push(null);return(te[Y]=te[Y]||[]).push(h),A}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function di(e,t){e.forEach(n=>Array.isArray(n)?di(n,t):t(n))}function oi(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ao(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ni(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Nr(e,t,n){let r=Xi(e,t);return r>=0?e[1|r]=n:(r=~r,function No(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function ai(e,t){const n=Xi(e,t);if(n>=0)return e[1|n]}function Xi(e,t){return function rl(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const u=r+(o-r>>1),h=e[u<<n];if(t===h)return u<<n;h>t?o=u:r=u+1}return~(o<<n)}(e,t,1)}const Bs=ku(Q("Optional"),8),Qh=ku(Q("SkipSelf"),4);function id(e){return 128==(128&e.flags)}var Vo=(()=>((Vo=Vo||{})[Vo.Important=1]="Important",Vo[Vo.DashCase=2]="DashCase",Vo))();const np=new Map;let h0=0;const ip="__ngContext__";function xa(e,t){ka(t)?(e[ip]=t[Ic],function qv(e){np.set(e[Ic],e)}(t)):e[ip]=t}let p;function g(e,t){return p(e,t)}function D(e){const t=e[yi];return wa(t)?t[yi]:t}function P(e){return W(e[Hu])}function U(e){return W(e[Wo])}function W(e){for(;null!==e&&!wa(e);)e=e[Wo];return e}function z(e,t,n,r,o){if(null!=r){let u,h=!1;wa(r)?u=r:ka(r)&&(h=!0,r=r[Wi]);const b=qr(r);0===e&&null!==n?null==o?qe(t,n,b):Ge(t,n,b,o||null,!0):1===e&&null!==n?Ge(t,n,b,o||null,!0):2===e?function Xn(e,t,n){const r=dt(e,t);r&&function ht(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,b,h):3===e&&t.destroyNode(b),null!=u&&function xn(e,t,n,r,o){const u=n[gs];u!==qr(n)&&z(t,e,r,u,o);for(let b=jr;b<n.length;b++){const A=n[b];Tn(A[rn],A,e,t,r,u)}}(t,e,u,n,o)}}function fe(e,t,n){return e.createElement(t,n)}function be(e,t){const n=e[Zl],r=n.indexOf(t);Tl(t),n.splice(r,1)}function Le(e,t){if(e.length<=jr)return;const n=jr+t,r=e[n];if(r){const o=r[Ya];null!==o&&o!==e&&be(o,r),t>0&&(e[n-1][Wo]=r[Wo]);const u=Ao(e,jr+t);!function de(e,t){Tn(e,t,t[Vn],2,null,null),t[Wi]=null,t[ro]=null}(r[rn],r);const h=u[ji];null!==h&&h.detachView(u[rn]),r[yi]=null,r[Wo]=null,r[Rn]&=-129}return r}function Pe(e,t){if(!(256&t[Rn])){const n=t[Vn];t[Nc]?.destroy(),t[Pa]?.destroy(),n.destroyNode&&Tn(e,t,n,3,null,null),function Ae(e){let t=e[Hu];if(!t)return Ee(e[rn],e);for(;t;){let n=null;if(ka(t))n=t[Hu];else{const r=t[jr];r&&(n=r)}if(!n){for(;t&&!t[Wo]&&t!==e;)ka(t)&&Ee(t[rn],t),t=t[yi];null===t&&(t=e),ka(t)&&Ee(t[rn],t),n=t&&t[Wo]}t=n}}(t)}}function Ee(e,t){if(!(256&t[Rn])){t[Rn]&=-129,t[Rn]|=256,function Oe(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Ju)){const u=n[r+1];if(Array.isArray(u))for(let h=0;h<u.length;h+=2){const b=o[u[h]],A=u[h+1];Ca(4,b,A);try{A.call(b)}finally{Ca(5,b,A)}}else{Ca(4,o,u);try{u.call(o)}finally{Ca(5,o,u)}}}}}(e,t),function Be(e,t){const n=e.cleanup,r=t[Zs];if(null!==n)for(let u=0;u<n.length-1;u+=2)if("string"==typeof n[u]){const h=n[u+3];h>=0?r[h]():r[-h].unsubscribe(),u+=2}else n[u].call(r[n[u+1]]);null!==r&&(t[Zs]=null);const o=t[qs];if(null!==o){t[qs]=null;for(let u=0;u<o.length;u++)(0,o[u])()}}(e,t),1===t[rn].type&&t[Vn].destroy();const n=t[Ya];if(null!==n&&wa(t[yi])){n!==t[yi]&&be(n,t);const r=t[ji];null!==r&&r.detachView(e)}!function p0(e){np.delete(e[Ic])}(t)}}function Ye(e,t,n){return function He(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Wi];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:u}=e.data[r.directiveStart+o];if(u===ba.None||u===ba.Emulated)return null}return Ii(r,n)}}(e,t.parent,n)}function Ge(e,t,n,r,o){e.insertBefore(t,n,r,o)}function qe(e,t,n){e.appendChild(t,n)}function it(e,t,n,r,o){null!==r?Ge(e,t,n,r,o):qe(e,t,n)}function dt(e,t){return e.parentNode(t)}function Tt(e,t,n){return vt(e,t,n)}let Ke,wn,ir,vt=function Ct(e,t,n){return 40&e.type?Ii(e,n):null};function Mt(e,t,n,r){const o=Ye(e,r,t),u=t[Vn],b=Tt(r.parent||t[ro],r,t);if(null!=o)if(Array.isArray(n))for(let A=0;A<n.length;A++)it(u,o,n[A],b,!1);else it(u,o,n,b,!1);void 0!==Ke&&Ke(u,r,t,n,o)}function zt(e,t){if(null!==t){const n=t.type;if(3&n)return Ii(t,e);if(4&n)return Fn(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return zt(e,r);{const o=e[t.index];return wa(o)?Fn(-1,o):qr(o)}}if(32&n)return g(t,e)()||qr(e[t.index]);{const r=Qt(e,t);return null!==r?Array.isArray(r)?r[0]:zt(D(e[Mi]),r):zt(e,t.next)}}return null}function Qt(e,t){return null!==t?e[Mi][ro].projection[t.projection]:null}function Fn(e,t){const n=jr+e+1;if(n<t.length){const r=t[n],o=r[rn].firstChild;if(null!==o)return zt(r,o)}return t[gs]}function Kt(e,t,n,r,o,u,h){for(;null!=n;){const b=r[n.index],A=n.type;if(h&&0===t&&(b&&xa(qr(b),r),n.flags|=2),32!=(32&n.flags))if(8&A)Kt(e,t,n.child,r,o,u,!1),z(t,e,o,b,u);else if(32&A){const V=g(n,r);let Y;for(;Y=V();)z(t,e,o,Y,u);z(t,e,o,b,u)}else 16&A?tn(e,t,r,n,o,u):z(t,e,o,b,u);n=h?n.projectionNext:n.next}}function Tn(e,t,n,r,o,u){Kt(n,r,e.firstChild,t,o,u,!1)}function tn(e,t,n,r,o,u){const h=n[Mi],A=h[ro].projection[r.projection];if(Array.isArray(A))for(let V=0;V<A.length;V++)z(t,e,o,A[V],u);else{let V=A;const Y=h[yi];id(r)&&(V.flags|=128),Kt(e,t,V,Y,o,u,!0)}}function Ln(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Bt(e,t,n){const{mergedAttrs:r,classes:o,styles:u}=n;null!==r&&Pf(e,t,r),null!==o&&Ln(e,t,o),null!==u&&function rr(e,t,n){e.setAttribute(t,"style",n)}(e,t,u)}function Fi(e){return function Br(){if(void 0===ir&&(ir=null,ei.trustedTypes))try{ir=ei.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ir}()?.createScriptURL(e)||e}class Zo{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ar})`}}function Sa(e){return e instanceof Zo?e.changingThisBreaksApplicationSecurity:e}function Hs(e,t){const n=function od(e){return e instanceof Zo&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${ar})`)}return n===t}const em=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var qo=(()=>((qo=qo||{})[qo.NONE=0]="NONE",qo[qo.HTML=1]="HTML",qo[qo.STYLE=2]="STYLE",qo[qo.SCRIPT=3]="SCRIPT",qo[qo.URL=4]="URL",qo[qo.RESOURCE_URL=5]="RESOURCE_URL",qo))();function aE(e){const t=vg();return t?t.sanitize(qo.URL,e)||"":Hs(e,"URL")?Sa(e):function pg(e){return(e=String(e)).match(em)?e:"unsafe:"+e}(fn(e))}function sE(e){const t=vg();if(t)return Fi(t.sanitize(qo.RESOURCE_URL,e)||"");if(Hs(e,"ResourceURL"))return Fi(Sa(e));throw new ct(904,!1)}function vg(){const e=It();return e&&e[jo].sanitizer}class yn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Cn({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const mg=new yn("ENVIRONMENT_INITIALIZER"),uE=new yn("INJECTOR",-1),cE=new yn("INJECTOR_DEF_TYPES");class fE{get(t,n=Wl){if(n===Wl){const r=new Error(`NullInjectorError: No provider for ${Un(t)}!`);throw r.name="NullInjectorError",r}return n}}function SN(...e){return{\u0275providers:dE(0,e),\u0275fromNgModule:!0}}function dE(e,...t){const n=[],r=new Set;let o;return di(t,u=>{const h=u;b0(h,n,[],r)&&(o||=[],o.push(h))}),void 0!==o&&hE(o,n),n}function hE(e,t){for(let n=0;n<e.length;n++){const{providers:o}=e[n];w0(o,u=>{t.push(u)})}}function b0(e,t,n,r){if(!(e=Jt(e)))return!1;let o=null,u=Po(e);const h=!u&&Mr(e);if(u||h){if(h&&!h.standalone)return!1;o=e}else{const A=e.ngModule;if(u=Po(A),!u)return!1;o=A}const b=r.has(o);if(h){if(b)return!1;if(r.add(o),h.dependencies){const A="function"==typeof h.dependencies?h.dependencies():h.dependencies;for(const V of A)b0(V,t,n,r)}}else{if(!u)return!1;{if(null!=u.imports&&!b){let V;r.add(o);try{di(u.imports,Y=>{b0(Y,t,n,r)&&(V||=[],V.push(Y))})}finally{}void 0!==V&&hE(V,t)}if(!b){const V=$i(o)||(()=>new o);t.push({provide:o,useFactory:V,deps:dr},{provide:cE,useValue:o,multi:!0},{provide:mg,useValue:()=>gn(o),multi:!0})}const A=u.providers;null==A||b||w0(A,Y=>{t.push(Y)})}}return o!==e&&void 0!==e.providers}function w0(e,t){for(let n of e)Jr(n)&&(n=n.\u0275providers),Array.isArray(n)?w0(n,t):t(n)}const TN=Pt({provide:String,useValue:Pt});function C0(e){return null!==e&&"object"==typeof e&&TN in e}function oh(e){return"function"==typeof e}const E0=new yn("Set Injector scope."),lm={},IN={};let D0;function um(){return void 0===D0&&(D0=new fE),D0}class rc{}class x0 extends rc{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,T0(t,h=>this.processProvider(h)),this.records.set(uE,up(void 0,this)),o.has("environment")&&this.records.set(rc,up(void 0,this));const u=this.records.get(E0);null!=u&&"string"==typeof u.value&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(cE.multi,dr,Mn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=ya(this),r=eo(void 0);try{return t()}finally{ya(n),eo(r)}}get(t,n=Wl,r=Mn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(bl))return t[bl](this);r=Nf(r);const o=ya(this),u=eo(void 0);try{if(!(r&Mn.SkipSelf)){let b=this.records.get(t);if(void 0===b){const A=function LN(e){return"function"==typeof e||"object"==typeof e&&e instanceof yn}(t)&&va(t);b=A&&this.injectableDefInScope(A)?up(S0(t),lm):null,this.records.set(t,b)}if(null!=b)return this.hydrate(t,b)}return(r&Mn.Self?um():this.parent).get(t,n=r&Mn.Optional&&n===Wl?null:n)}catch(h){if("NullInjectorError"===h.name){if((h[Lu]=h[Lu]||[]).unshift(Un(t)),o)throw h;return function _u(e,t,n,r){const o=e[Lu];throw t[Dd]&&o.unshift(t[Dd]),e.message=function Ys(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Un(t);if(Array.isArray(t))o=t.map(Un).join(" -> ");else if("object"==typeof t){let u=[];for(let h in t)if(t.hasOwnProperty(h)){let b=t[h];u.push(h+":"+("string"==typeof b?JSON.stringify(b):Un(b)))}o=`{${u.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(to,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[Lu]=null,e}(h,t,"R3InjectorError",this.source)}throw h}finally{eo(u),ya(o)}}resolveInjectorInitializers(){const t=ya(this),n=eo(void 0);try{const r=this.get(mg.multi,dr,Mn.Self);for(const o of r)o()}finally{ya(t),eo(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Un(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ct(205,!1)}processProvider(t){let n=oh(t=Jt(t))?t:Jt(t&&t.provide);const r=function NN(e){return C0(e)?up(void 0,e.useValue):up(vE(e),lm)}(t);if(oh(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=up(void 0,lm,!0),o.factory=()=>Of(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===lm&&(n.value=IN,n.value=n.factory()),"object"==typeof n.value&&n.value&&function RN(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Jt(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function S0(e){const t=va(e),n=null!==t?t.factory:$i(e);if(null!==n)return n;if(e instanceof yn)throw new ct(204,!1);if(e instanceof Function)return function AN(e){const t=e.length;if(t>0)throw Ni(t,"?"),new ct(204,!1);const n=function js(e){return e&&(e[ma]||e[vl])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new ct(204,!1)}function vE(e,t,n){let r;if(oh(e)){const o=Jt(e);return $i(o)||S0(o)}if(C0(e))r=()=>Jt(e.useValue);else if(function gE(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Of(e.deps||[]));else if(function pE(e){return!(!e||!e.useExisting)}(e))r=()=>gn(Jt(e.useExisting));else{const o=Jt(e&&(e.useClass||e.provide));if(!function ON(e){return!!e.deps}(e))return $i(o)||S0(o);r=()=>new o(...Of(e.deps))}return r}function up(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function T0(e,t){for(const n of e)Array.isArray(n)?T0(n,t):n&&Jr(n)?T0(n.\u0275providers,t):t(n)}const cm=new yn("AppId",{providedIn:"root",factory:()=>PN}),PN="ng",mE=new yn("Platform Initializer"),ah=new yn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yE=new yn("CSP nonce",{providedIn:"root",factory:()=>function Fr(){if(void 0!==wn)return wn;if(typeof document<"u")return document;throw new ct(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let wE=(e,t)=>null;function CE(e,t){return wE(e,t)}class zN{}class xE{}class jN{resolveComponentFactory(t){throw function WN(e){const t=Error(`No component factory found for ${Un(e)}.`);return t.ngComponent=e,t}(t)}}let gm=(()=>{class e{}return e.NULL=new jN,e})();function $N(){return cp(To(),It())}function cp(e,t){return new ul(Ii(e,t))}let ul=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=$N,e})();function YN(e){return e instanceof ul?e.nativeElement:e}class TE{}let pf=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function XN(){const e=It(),n=Ea(To().index,e);return(ka(n)?n:e)[Vn]}(),e})(),KN=(()=>{class e{}return e.\u0275prov=Cn({token:e,providedIn:"root",factory:()=>null}),e})();class Cg{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ZN=new Cg("16.1.3"),F0={};function Eg(e){for(;e;){e[Rn]|=64;const t=D(e);if($o(e)&&!t)return e;e=t}return null}function B0(e){return e.ngOriginalError}class sh{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&B0(t);for(;n&&B0(n);)n=B0(n);return n||null}}const AE=new yn("",{providedIn:"root",factory:()=>!1});function gf(e){return e instanceof Function?e():e}class PE extends Uu{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){Eg(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,n,r){const o=_i(this);this.trackingVersion++;try{t(n,r)}finally{_i(o)}}destroy(){this.trackingVersion++}}let mm=null;function kE(){return mm??=new PE,mm}function _E(e,t){return e[t]??kE()}function FE(e,t){const n=kE();n.hasReadASignal&&(e[t]=mm,n.lView=e,mm=new PE)}const lr={};function Kn(e){BE(ur(),It(),so()+e,!1)}function BE(e,t,n,r){if(!r)if(3==(3&t[Rn])){const u=e.preOrderCheckHooks;null!==u&&es(t,u,n)}else{const u=e.preOrderHooks;null!==u&&nu(t,u,0,n)}Ba(n)}function GE(e,t=null,n=null,r){const o=zE(e,t,n,r);return o.resolveInjectorInitializers(),o}function zE(e,t=null,n=null,r,o=new Set){const u=[n||dr,SN(e)];return r=r||("object"==typeof e?void 0:Un(e)),new x0(u,t||um(),r||null,o)}let ic=(()=>{class e{static create(n,r){if(Array.isArray(n))return GE({name:""},r,n,"");{const o=n.name??"";return GE({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=Wl,e.NULL=new fE,e.\u0275prov=Cn({token:e,providedIn:"any",factory:()=>gn(uE)}),e.__NG_ELEMENT_ID__=-1,e})();function kt(e,t=Mn.Default){const n=It();return null===n?gn(e,t):_r(To(),n,Jt(e),t)}function ym(e,t,n,r,o,u,h,b,A,V,Y){const te=t.blueprint.slice();return te[Wi]=o,te[Rn]=140|r,(null!==V||e&&2048&e[Rn])&&(te[Rn]|=2048),yr(te),te[yi]=te[Kl]=e,te[ti]=n,te[jo]=h||e&&e[jo],te[Vn]=b||e&&e[Vn],te[Rs]=A||e&&e[Rs]||null,te[ro]=u,te[Ic]=function Ur(){return h0++}(),te[Jn]=Y,te[Ac]=V,te[Mi]=2==t.type?e[Mi]:te,te}function dp(e,t,n,r,o){let u=e.data[t];if(null===u)u=function V0(e,t,n,r,o){const u=Gd(),h=$c(),A=e.data[t]=function mO(e,t,n,r,o,u){let h=t?t.injectorIndex:-1,b=0;return So()&&(b|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:h,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:b,providerIndexes:0,value:o,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?u:u&&u.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=A),null!==u&&(h?null==u.child&&null!==A.parent&&(u.child=A):null===u.next&&(u.next=A,A.prev=u)),A}(e,t,n,r,o),function Zu(){return In.lFrame.inI18n}()&&(u.flags|=32);else if(64&u.type){u.type=n,u.value=r,u.attrs=o;const h=function Ku(){const e=In.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();u.injectorIndex=null===h?-1:h.injectorIndex}return Qa(u,!0),u}function Dg(e,t,n,r){if(0===n)return-1;const o=t.length;for(let u=0;u<n;u++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function jE(e,t,n,r,o){const u=_E(t,Nc),h=so(),b=2&r;try{if(Ba(-1),b&&t.length>on&&BE(e,t,on,!1),Ca(b?2:0,o),b)u.runInContext(n,r,o);else{const V=_i(null);try{n(r,o)}finally{_i(V)}}}finally{b&&null===t[Nc]&&FE(t,Nc),Ba(h),Ca(b?3:1,o)}}function H0(e,t,n){if(Od(t)){const r=_i(null);try{const u=t.directiveEnd;for(let h=t.directiveStart;h<u;h++){const b=e.data[h];b.contentQueries&&b.contentQueries(1,n[h],h)}}finally{_i(r)}}}function U0(e,t,n){Wc()&&(function xO(e,t,n,r){const o=n.directiveStart,u=n.directiveEnd;ql(n)&&function OO(e,t,n){const r=Ii(t,e),o=$E(n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const b=bm(e,ym(e,o,null,h,r,t,null,e[jo].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=b}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||af(n,t),xa(r,t);const h=n.initialInputs;for(let b=o;b<u;b++){const A=e.data[b],V=au(t,e,b,n);xa(V,t),null!==h&&RO(0,b-o,V,A,0,h),Xa(A)&&(Ea(n.index,t)[ti]=au(t,e,b,n))}}(e,t,n,Ii(n,t)),64==(64&n.flags)&&qE(e,t,n))}function G0(e,t,n=Ii){const r=t.localNames;if(null!==r){let o=t.index+1;for(let u=0;u<r.length;u+=2){const h=r[u+1],b=-1===h?n(t,e):e[h];e[o++]=b}}}function $E(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=z0(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function z0(e,t,n,r,o,u,h,b,A,V,Y){const te=on+r,ve=te+o,Te=function fO(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:lr);return n}(te,ve),Ue="function"==typeof V?V():V;return Te[rn]={type:e,blueprint:Te,template:n,queries:null,viewQuery:b,declTNode:t,data:Te.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:A,consts:Ue,incompleteFirstPass:!1,ssrId:Y}}let YE=e=>null;function XE(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const u=e[o];null===r?KE(n,t,o,u):r.hasOwnProperty(o)&&KE(n,t,r[o],u)}return n}function KE(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function W0(e,t,n,r){if(Wc()){const o=null===r?null:{"":-1},u=function TO(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let u=0;u<n.length;u++){const h=n[u];if(Md(t,h.selectors,!1))if(r||(r=[]),Xa(h))if(null!==h.findHostDirectiveDefs){const b=[];o=o||new Map,h.findHostDirectiveDefs(h,b,o),r.unshift(...b,h),j0(e,t,b.length)}else r.unshift(h),j0(e,t,0);else o=o||new Map,h.findHostDirectiveDefs?.(h,r,o),r.push(h)}return null===r?null:[r,o]}(e,n);let h,b;null===u?h=b=null:[h,b]=u,null!==h&&ZE(e,t,n,h,o,b),o&&function MO(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const u=n[t[o+1]];if(null==u)throw new ct(-301,!1);r.push(t[o],u)}}}(n,r,o)}n.mergedAttrs=wl(n.mergedAttrs,n.attrs)}function ZE(e,t,n,r,o,u){for(let V=0;V<r.length;V++)Jf(af(n,t),e,r[V].type);!function AO(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let V=0;V<r.length;V++){const Y=r[V];Y.providersResolver&&Y.providersResolver(Y)}let h=!1,b=!1,A=Dg(e,t,r.length,null);for(let V=0;V<r.length;V++){const Y=r[V];n.mergedAttrs=wl(n.mergedAttrs,Y.hostAttrs),NO(e,n,t,A,Y),IO(A,Y,o),null!==Y.contentQueries&&(n.flags|=4),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(n.flags|=64);const te=Y.type.prototype;!h&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),h=!0),!b&&(te.ngOnChanges||te.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),b=!0),A++}!function yO(e,t,n){const o=t.directiveEnd,u=e.data,h=t.attrs,b=[];let A=null,V=null;for(let Y=t.directiveStart;Y<o;Y++){const te=u[Y],ve=n?n.get(te):null,Ue=ve?ve.outputs:null;A=XE(te.inputs,Y,A,ve?ve.inputs:null),V=XE(te.outputs,Y,V,Ue);const je=null===A||null===h||Cl(t)?null:LO(A,Y,h);b.push(je)}null!==A&&(A.hasOwnProperty("class")&&(t.flags|=8),A.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=b,t.inputs=A,t.outputs=V}(e,n,u)}function qE(e,t,n){const r=n.directiveStart,o=n.directiveEnd,u=n.index,h=function zh(){return In.lFrame.currentDirectiveIndex}();try{Ba(u);for(let b=r;b<o;b++){const A=e.data[b],V=t[b];Yc(b),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&SO(A,V)}}finally{Ba(-1),Yc(h)}}function SO(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function j0(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function IO(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Xa(t)&&(n[""]=e)}}function NO(e,t,n,r,o){e.data[r]=o;const u=o.factory||(o.factory=$i(o.type)),h=new Ju(u,Xa(o),kt);e.blueprint[r]=h,n[r]=h,function EO(e,t,n,r,o){const u=o.hostBindings;if(u){let h=e.hostBindingOpCodes;null===h&&(h=e.hostBindingOpCodes=[]);const b=~t.index;(function DO(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(h)!=b&&h.push(b),h.push(n,r,u)}}(e,t,r,Dg(e,n,o.hostVars,lr),o)}function oc(e,t,n,r,o,u){const h=Ii(e,t);!function $0(e,t,n,r,o,u,h){if(null==u)e.removeAttribute(t,o,n);else{const b=null==h?fn(u):h(u,r||"",o);e.setAttribute(t,o,b,n)}}(t[Vn],h,u,e.value,n,r,o)}function RO(e,t,n,r,o,u){const h=u[t];if(null!==h)for(let b=0;b<h.length;)QE(r,n,h[b++],h[b++],h[b++])}function QE(e,t,n,r,o){const u=_i(null);try{const h=e.inputTransforms;null!==h&&h.hasOwnProperty(r)&&(o=h[r].call(t,o)),null!==e.setInput?e.setInput(t,o,n,r):t[r]=o}finally{_i(u)}}function LO(e,t,n){let r=null,o=0;for(;o<n.length;){const u=n[o];if(0!==u)if(5!==u){if("number"==typeof u)break;if(e.hasOwnProperty(u)){null===r&&(r=[]);const h=e[u];for(let b=0;b<h.length;b+=2)if(h[b]===t){r.push(u,h[b+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function JE(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function eD(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const u=n[r+1];if(-1!==u){const h=e.data[u];ys(n[r]),h.contentQueries(2,t[u],u)}}}function bm(e,t){return e[Hu]?e[Nd][Wo]=t:e[Hu]=t,e[Nd]=t,t}function Y0(e,t,n){ys(0);const r=_i(null);try{t(e,n)}finally{_i(r)}}function tD(e){return e[Zs]||(e[Zs]=[])}function nD(e){return e.cleanup||(e.cleanup=[])}function iD(e,t){const n=e[Rs],r=n?n.get(sh,null):null;r&&r.handleError(t)}function X0(e,t,n,r,o){for(let u=0;u<n.length;){const h=n[u++],b=n[u++];QE(e.data[h],t[h],r,b,o)}}function vf(e,t,n){const r=Uc(t,e);!function q(e,t,n){e.setValue(t,n)}(e[Vn],r,n)}function PO(e,t){const n=Ea(t,e),r=n[rn];!function kO(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[Wi];null!==o&&null===n[Jn]&&(n[Jn]=CE(o,n[Rs])),K0(r,n,n[ti])}function K0(e,t,n){Nl(t);try{const r=e.viewQuery;null!==r&&Y0(1,r,n);const o=e.template;null!==o&&jE(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&eD(e,t),e.staticViewQueries&&Y0(2,e.viewQuery,n);const u=e.components;null!==u&&function _O(e,t){for(let n=0;n<t.length;n++)PO(e,t[n])}(t,u)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Rn]&=-5,ao()}}let oD=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,o){const u=typeof Zone>"u"?null:Zone.current,h=new Bh(n,V=>{this.all.has(V)&&this.queue.set(V,u)},o);let b;this.all.add(h),h.notify();const A=()=>{h.cleanup(),b?.(),this.all.delete(h),this.queue.delete(h)};return b=r?.onDestroy(A),{destroy:A}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=Cn({token:e,providedIn:"root",factory:()=>new e}),e})();function wm(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,u=0;if(null!==t)for(let h=0;h<t.length;h++){const b=t[h];"number"==typeof b?u=b:1==u?o=Yn(o,b):2==u&&(r=Yn(r,b+": "+t[++h]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function xg(e,t,n,r,o=!1){for(;null!==n;){const u=t[n.index];if(null!==u&&r.push(qr(u)),wa(u)){for(let b=jr;b<u.length;b++){const A=u[b],V=A[rn].firstChild;null!==V&&xg(A[rn],A,V,r)}u[gs]!==u[Wi]&&r.push(u[gs])}const h=n.type;if(8&h)xg(e,t,n.child,r);else if(32&h){const b=g(n,t);let A;for(;A=b();)r.push(A)}else if(16&h){const b=Qt(t,n);if(Array.isArray(b))r.push(...b);else{const A=D(t[Mi]);xg(A[rn],A,b,r,!0)}}n=o?n.projectionNext:n.next}return r}function Cm(e,t,n,r=!0){const o=t[jo].rendererFactory;o.begin&&o.begin();try{aD(e,t,e.template,n)}catch(h){throw r&&iD(t,h),h}finally{o.end&&o.end(),t[jo].effectManager?.flush()}}function aD(e,t,n,r){const o=t[Rn];if(256!=(256&o)){t[jo].effectManager?.flush(),Nl(t);try{yr(t),function Al(e){return In.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&jE(e,t,n,2,r);const h=3==(3&o);if(h){const V=e.preOrderCheckHooks;null!==V&&es(t,V,null)}else{const V=e.preOrderHooks;null!==V&&nu(t,V,0,null),Kf(t,0)}if(function UO(e){for(let t=P(e);null!==t;t=U(t)){if(!t[Qs])continue;const n=t[Zl];for(let r=0;r<n.length;r++){Jp(n[r])}}}(t),sD(t,2),null!==e.contentQueries&&eD(e,t),h){const V=e.contentCheckHooks;null!==V&&es(t,V)}else{const V=e.contentHooks;null!==V&&nu(t,V,1),Kf(t,1)}!function cO(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=_E(t,Pa);try{for(let o=0;o<n.length;o++){const u=n[o];if(u<0)Ba(~u);else{const h=u,b=n[++o],A=n[++o];ks(b,h),r.runInContext(A,2,t[h])}}}finally{null===t[Pa]&&FE(t,Pa),Ba(-1)}}(e,t);const b=e.components;null!==b&&uD(t,b,0);const A=e.viewQuery;if(null!==A&&Y0(2,A,r),h){const V=e.viewCheckHooks;null!==V&&es(t,V)}else{const V=e.viewHooks;null!==V&&nu(t,V,2),Kf(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Rn]&=-73,Tl(t)}finally{ao()}}}function sD(e,t){for(let n=P(e);null!==n;n=U(n))for(let r=jr;r<n.length;r++)lD(n[r],t)}function GO(e,t,n){lD(Ea(t,e),n)}function lD(e,t){if(!function Gc(e){return 128==(128&e[Rn])}(e))return;const n=e[rn];if(80&e[Rn]&&0===t||1024&e[Rn]||2===t)aD(n,e,n.template,e[ti]);else if(e[Vu]>0){sD(e,1);const o=e[rn].components;null!==o&&uD(e,o,1)}}function uD(e,t,n){for(let r=0;r<t.length;r++)GO(e,t[r],n)}class Sg{get rootNodes(){const t=this._lView,n=t[rn];return xg(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ti]}set context(t){this._lView[ti]=t}get destroyed(){return 256==(256&this._lView[Rn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[yi];if(wa(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Le(t,r),Ao(n,r))}this._attachedToViewContainer=!1}Pe(this._lView[rn],this._lView)}onDestroy(t){!function Hd(e,t){if(256==(256&e[Rn]))throw new ct(911,!1);null===e[qs]&&(e[qs]=[]),e[qs].push(t)}(this._lView,t)}markForCheck(){Eg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Rn]&=-129}reattach(){this._lView[Rn]|=128}detectChanges(){Cm(this._lView[rn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ct(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ie(e,t){Tn(e,t,t[Vn],2,null,null)}(this._lView[rn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ct(902,!1);this._appRef=t}}class zO extends Sg{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Cm(t[rn],t,t[ti],!1)}checkNoChanges(){}get context(){return null}}class cD extends gm{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Mr(t);return new Tg(n,this.ngModule)}}function fD(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class jO{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Nf(r);const o=this.injector.get(t,F0,r);return o!==F0||n===F0?o:this.parentInjector.get(t,n,r)}}class Tg extends xE{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=fD(t.inputs);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return fD(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Lh(e){return e.map(Rh).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let u=(o=o||this.ngModule)instanceof rc?o:o?.injector;u&&null!==this.componentDef.getStandaloneInjector&&(u=this.componentDef.getStandaloneInjector(u)||u);const h=u?new jO(t,u):t,b=h.get(TE,null);if(null===b)throw new ct(407,!1);const Y={rendererFactory:b,sanitizer:h.get(KN,null),effectManager:h.get(oD,null)},te=b.createRenderer(null,this.componentDef),ve=this.componentDef.selectors[0][0]||"div",Te=r?function dO(e,t,n,r){const u=r.get(AE,!1)||n===ba.ShadowDom,h=e.selectRootElement(t,u);return function hO(e){YE(e)}(h),h}(te,r,this.componentDef.encapsulation,h):fe(te,ve,function WO(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(ve)),ft=this.componentDef.signals?4608:this.componentDef.onPush?576:528,xt=z0(0,null,null,1,0,null,null,null,null,null,null),rt=ym(null,xt,null,ft,null,null,Y,te,h,null,null);let Nt,Pn;Nl(rt);try{const jn=this.componentDef;let Go,ut=null;jn.findHostDirectiveDefs?(Go=[],ut=new Map,jn.findHostDirectiveDefs(jn,Go,ut),Go.push(jn)):Go=[jn];const Lv=function YO(e,t){const n=e[rn],r=on;return e[r]=t,dp(n,r,2,"#host",null)}(rt,Te),Yy=function XO(e,t,n,r,o,u,h){const b=o[rn];!function KO(e,t,n,r){for(const o of e)t.mergedAttrs=wl(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(wm(t,t.mergedAttrs,!0),null!==n&&Bt(r,n,t))}(r,e,t,h);let A=null;null!==t&&(A=CE(t,o[Rs]));const V=u.rendererFactory.createRenderer(t,n);let Y=16;n.signals?Y=4096:n.onPush&&(Y=64);const te=ym(o,$E(n),null,Y,o[e.index],e,u,V,null,null,A);return b.firstCreatePass&&j0(b,e,r.length-1),bm(o,te),o[e.index]=te}(Lv,Te,jn,Go,rt,Y,te);Pn=$f(xt,on),Te&&function qO(e,t,n,r){if(r)Pf(e,n,["ng-version",ZN.full]);else{const{attrs:o,classes:u}=function Ff(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let u=e[r];if("string"==typeof u)2===o?""!==u&&t.push(u,e[++r]):8===o&&n.push(u);else{if(!Ra(o))break;o=u}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&Pf(e,n,o),u&&u.length>0&&Ln(e,n,u.join(" "))}}(te,jn,Te,r),void 0!==n&&function QO(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const u=n[o];r.push(null!=u?Array.from(u):null)}}(Pn,this.ngContentSelectors,n),Nt=function ZO(e,t,n,r,o,u){const h=To(),b=o[rn],A=Ii(h,o);ZE(b,o,h,n,null,r);for(let Y=0;Y<n.length;Y++)xa(au(o,b,h.directiveStart+Y,h),o);qE(b,o,h),A&&xa(A,o);const V=au(o,b,h.directiveStart+h.componentOffset,h);if(e[ti]=o[ti]=V,null!==u)for(const Y of u)Y(V,t);return H0(b,h,e),V}(Yy,jn,Go,ut,rt,[JO]),K0(xt,rt,null)}finally{ao()}return new $O(this.componentType,Nt,cp(Pn,rt),rt,Pn)}}class $O extends zN{constructor(t,n,r,o,u){super(),this.location=r,this._rootLView=o,this._tNode=u,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new zO(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const u=this._rootLView;X0(u[rn],u,o,t,n),this.previousInputValues.set(t,n),Eg(Ea(this._tNode.index,u))}}get injector(){return new su(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function JO(){const e=To();Ja(It()[rn],e)}function si(e){let t=function dD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(Xa(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ct(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const h=e;h.inputs=Em(e.inputs),h.inputTransforms=Em(e.inputTransforms),h.declaredInputs=Em(e.declaredInputs),h.outputs=Em(e.outputs);const b=o.hostBindings;b&&rR(e,b);const A=o.viewQuery,V=o.contentQueries;if(A&&tR(e,A),V&&nR(e,V),wr(e.inputs,o.inputs),wr(e.declaredInputs,o.declaredInputs),wr(e.outputs,o.outputs),null!==o.inputTransforms&&(null===h.inputTransforms&&(h.inputTransforms={}),wr(h.inputTransforms,o.inputTransforms)),Xa(o)&&o.data.animation){const Y=e.data;Y.animation=(Y.animation||[]).concat(o.data.animation)}}const u=o.features;if(u)for(let h=0;h<u.length;h++){const b=u[h];b&&b.ngInherit&&b(e),b===si&&(n=!1)}}t=Object.getPrototypeOf(t)}!function eR(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=wl(o.hostAttrs,n=wl(n,o.hostAttrs))}}(r)}function Em(e){return e===no?{}:e===dr?[]:e}function tR(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function nR(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,u)=>{t(r,o,u),n(r,o,u)}:t}function rR(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function vD(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const o=t[r];Array.isArray(o)&&o[2]&&(n[r]=o[2])}e.inputTransforms=n}function Dm(e){return!!Z0(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Z0(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function is(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function sc(e,t,n,r){const o=It();return is(o,ms(),t)&&(ur(),oc(Ar(),o,e,t,n,r)),sc}function gp(e,t,n,r,o,u){const b=function lh(e,t,n,r){const o=is(e,t,n);return is(e,t+1,r)||o}(e,function hr(){return In.lFrame.bindingIndex}(),n,o);return Mo(2),b?t+fn(n)+r+fn(o)+u:lr}function la(e,t,n,r,o,u,h,b){const A=It(),V=ur(),Y=e+on,te=V.firstCreatePass?function IR(e,t,n,r,o,u,h,b,A){const V=t.consts,Y=dp(t,e,4,h||null,Ps(V,b));W0(t,n,Y,Ps(V,A)),Ja(t,Y);const te=Y.tView=z0(2,Y,r,o,u,t.directiveRegistry,t.pipeRegistry,null,t.schemas,V,null);return null!==t.queries&&(t.queries.template(t,Y),te.queries=t.queries.embeddedTView(Y)),Y}(Y,V,A,t,n,r,o,u,h):V.data[Y];Qa(te,!1);const ve=AD(V,A,te,e);Jc()&&Mt(V,A,ve,te),xa(ve,A),bm(A,A[Y]=JE(ve,A,ve,te)),Hf(te)&&U0(V,A,te),null!=h&&G0(A,te,b)}let AD=function ND(e,t,n,r){return Rl(!0),t[Vn].createComment("")};function du(e){return function Sl(e,t){return e[t]}(function ri(){return In.lFrame.contextLView}(),on+e)}function Qn(e,t,n){const r=It();return is(r,ms(),t)&&function cl(e,t,n,r,o,u,h,b){const A=Ii(t,n);let Y,V=t.inputs;!b&&null!=V&&(Y=V[r])?(X0(e,n,Y,r,o),ql(t)&&function wO(e,t){const n=Ea(t,e);16&n[Rn]||(n[Rn]|=64)}(n,t.index)):3&t.type&&(r=function bO(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=h?h(o,t.value||"",r):o,u.setProperty(A,r,o))}(ur(),Ar(),r,e,t,r[Vn],n,!1),Qn}function nb(e,t,n,r,o){const h=o?"class":"style";X0(e,n,t.inputs[h],h,r)}function mt(e,t,n,r){const o=It(),u=ur(),h=on+e,b=o[Vn],A=u.firstCreatePass?function RR(e,t,n,r,o,u){const h=t.consts,A=dp(t,e,2,r,Ps(h,o));return W0(t,n,A,Ps(h,u)),null!==A.attrs&&wm(A,A.attrs,!1),null!==A.mergedAttrs&&wm(A,A.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,A),A}(h,u,o,t,n,r):u.data[h],V=OD(u,o,A,b,t,e);o[h]=V;const Y=Hf(A);return Qa(A,!0),Bt(b,V,A),32!=(32&A.flags)&&Jc()&&Mt(u,o,V,A),0===function Ml(){return In.lFrame.elementDepthCount}()&&xa(V,o),function xo(){In.lFrame.elementDepthCount++}(),Y&&(U0(u,o,A),H0(u,A,o)),null!==r&&G0(o,A),mt}function gt(){let e=To();$c()?Yi():(e=e.parent,Qa(e,!1));const t=e;(function Xu(e){return In.skipHydrationRootTNode===e})(t)&&function Il(){In.skipHydrationRootTNode=null}(),function Ud(){In.lFrame.elementDepthCount--}();const n=ur();return n.firstCreatePass&&(Ja(n,e),Od(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Xh(e){return 0!=(8&e.flags)}(t)&&nb(n,t,It(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function qf(e){return 0!=(16&e.flags)}(t)&&nb(n,t,It(),t.stylesWithoutHost,!1),gt}function qn(e,t,n,r){return mt(e,t,n,r),gt(),qn}let OD=(e,t,n,r,o,u)=>(Rl(!0),fe(r,o,function _o(){return In.lFrame.currentNamespace}()));function mf(){return It()}function Og(e){return!!e&&"function"==typeof e.then}function PD(e){return!!e&&"function"==typeof e.subscribe}function pr(e,t,n,r){const o=It(),u=ur(),h=To();return function _D(e,t,n,r,o,u,h){const b=Hf(r),V=e.firstCreatePass&&nD(e),Y=t[ti],te=tD(t);let ve=!0;if(3&r.type||h){const je=Ii(r,t),ft=h?h(je):je,xt=te.length,rt=h?Pn=>h(qr(Pn[r.index])):r.index;let Nt=null;if(!h&&b&&(Nt=function BR(e,t,n,r){const o=e.cleanup;if(null!=o)for(let u=0;u<o.length-1;u+=2){const h=o[u];if(h===n&&o[u+1]===r){const b=t[Zs],A=o[u+2];return b.length>A?b[A]:null}"string"==typeof h&&(u+=2)}return null}(e,t,o,r.index)),null!==Nt)(Nt.__ngLastListenerFn__||Nt).__ngNextListenerFn__=u,Nt.__ngLastListenerFn__=u,ve=!1;else{u=BD(r,t,Y,u,!1);const Pn=n.listen(ft,o,u);te.push(u,Pn),V&&V.push(o,rt,xt,xt+1)}}else u=BD(r,t,Y,u,!1);const Te=r.outputs;let Ue;if(ve&&null!==Te&&(Ue=Te[o])){const je=Ue.length;if(je)for(let ft=0;ft<je;ft+=2){const jn=t[Ue[ft]][Ue[ft+1]].subscribe(u),Go=te.length;te.push(u,jn),V&&V.push(o,r.index,Go,-(Go+1))}}}(u,o,o[Vn],h,e,t,r),pr}function FD(e,t,n,r){try{return Ca(6,t,n),!1!==n(r)}catch(o){return iD(e,o),!1}finally{Ca(7,t,n)}}function BD(e,t,n,r,o){return function u(h){if(h===Function)return r;Eg(e.componentOffset>-1?Ea(e.index,t):t);let A=FD(t,n,r,h),V=u.__ngNextListenerFn__;for(;V;)A=FD(t,n,V,h)&&A,V=V.__ngNextListenerFn__;return o&&!1===A&&h.preventDefault(),A}}function Rg(e=1){return function Ol(e){return(In.lFrame.contextLView=function tg(e,t){for(;e>0;)t=t[Kl],e--;return t}(e,In.lFrame.contextLView))[ti]}(e)}function VR(e,t){let n=null;const r=function Tc(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let o=0;o<t.length;o++){const u=t[o];if("*"!==u){if(null===r?Md(e,u,!0):Id(r,u))return o}else n=o}return n}function Im(e,t){return e<<17|t<<2}function ud(e){return e>>17&32767}function ab(e){return 2|e}function uh(e){return(131068&e)>>2}function sb(e,t){return-131069&e|t<<2}function lb(e){return 1|e}function ZD(e,t,n,r,o){const u=e[n+1],h=null===t;let b=r?ud(u):uh(u),A=!1;for(;0!==b&&(!1===A||h);){const Y=e[b+1];jR(e[b],t)&&(A=!0,e[b+1]=r?lb(Y):ab(Y)),b=r?ud(Y):uh(Y)}A&&(e[n+1]=r?ab(u):lb(u))}function jR(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Xi(e,t)>=0}function ub(e,t,n){return hu(e,t,n,!1),ub}function Lg(e,t){return hu(e,t,null,!0),Lg}function hu(e,t,n,r){const o=It(),u=ur(),h=Mo(2);u.firstUpdatePass&&function ix(e,t,n,r){const o=e.data;if(null===o[n+1]){const u=o[so()],h=function rx(e,t){return t>=e.expandoStartIndex}(e,n);(function lx(e,t){return 0!=(e.flags&(t?8:16))})(u,r)&&null===t&&!h&&(t=!1),t=function eL(e,t,n,r){const o=function Yf(e){const t=In.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let u=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Pg(n=cb(null,e,t,n,r),t.attrs,r),u=null);else{const h=t.directiveStylingLast;if(-1===h||e[h]!==o)if(n=cb(o,e,t,n,r),null===u){let A=function tL(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==uh(r))return e[ud(r)]}(e,t,r);void 0!==A&&Array.isArray(A)&&(A=cb(null,e,t,A[1],r),A=Pg(A,t.attrs,r),function nL(e,t,n,r){e[ud(n?t.classBindings:t.styleBindings)]=r}(e,t,r,A))}else u=function rL(e,t,n){let r;const o=t.directiveEnd;for(let u=1+t.directiveStylingLast;u<o;u++)r=Pg(r,e[u].hostAttrs,n);return Pg(r,t.attrs,n)}(e,t,r)}return void 0!==u&&(r?t.residualClasses=u:t.residualStyles=u),n}(o,u,t,r),function zR(e,t,n,r,o,u){let h=u?t.classBindings:t.styleBindings,b=ud(h),A=uh(h);e[r]=n;let Y,V=!1;if(Array.isArray(n)?(Y=n[1],(null===Y||Xi(n,Y)>0)&&(V=!0)):Y=n,o)if(0!==A){const ve=ud(e[b+1]);e[r+1]=Im(ve,b),0!==ve&&(e[ve+1]=sb(e[ve+1],r)),e[b+1]=function UR(e,t){return 131071&e|t<<17}(e[b+1],r)}else e[r+1]=Im(b,0),0!==b&&(e[b+1]=sb(e[b+1],r)),b=r;else e[r+1]=Im(A,0),0===b?b=r:e[A+1]=sb(e[A+1],r),A=r;V&&(e[r+1]=ab(e[r+1])),ZD(e,Y,r,!0),ZD(e,Y,r,!1),function WR(e,t,n,r,o){const u=o?e.residualClasses:e.residualStyles;null!=u&&"string"==typeof t&&Xi(u,t)>=0&&(n[r+1]=lb(n[r+1]))}(t,Y,e,r,u),h=Im(b,A),u?t.classBindings=h:t.styleBindings=h}(o,u,t,n,h,r)}}(u,e,h,r),t!==lr&&is(o,h,t)&&function ax(e,t,n,r,o,u,h,b){if(!(3&t.type))return;const A=e.data,V=A[b+1],Y=function GR(e){return 1==(1&e)}(V)?sx(A,t,n,o,uh(V),h):void 0;Am(Y)||(Am(u)||function HR(e){return 2==(2&e)}(V)&&(u=sx(A,null,n,o,b,h)),function Cr(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let u=-1===r.indexOf("-")?void 0:Vo.DashCase;null==o?e.removeStyle(n,r,u):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),u|=Vo.Important),e.setStyle(n,r,o,u))}}(r,h,Uc(so(),n),o,u))}(u,u.data[so()],o,o[Vn],e,o[h+1]=function sL(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Un(Sa(e)))),e}(t,n),r,h)}function cb(e,t,n,r,o){let u=null;const h=n.directiveEnd;let b=n.directiveStylingLast;for(-1===b?b=n.directiveStart:b++;b<h&&(u=t[b],r=Pg(r,u.hostAttrs,o),u!==e);)b++;return null!==e&&(n.directiveStylingLast=b),r}function Pg(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let u=0;u<t.length;u++){const h=t[u];"number"==typeof h?o=h:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Nr(e,h,!!n||t[++u]))}return void 0===e?null:e}function sx(e,t,n,r,o,u){const h=null===t;let b;for(;o>0;){const A=e[o],V=Array.isArray(A),Y=V?A[1]:A,te=null===Y;let ve=n[o+1];ve===lr&&(ve=te?dr:void 0);let Te=te?ai(ve,r):Y===r?ve:void 0;if(V&&!Am(Te)&&(Te=ai(A,r)),Am(Te)&&(b=Te,h))return b;const Ue=e[o+1];o=h?ud(Ue):uh(Ue)}if(null!==t){let A=u?t.residualClasses:t.residualStyles;null!=A&&(b=ai(A,r))}return b}function Am(e){return void 0!==e}function Wt(e,t=""){const n=It(),r=ur(),o=e+on,u=r.firstCreatePass?dp(r,o,1,t,null):r.data[o],h=ux(r,n,u,t,e);n[o]=h,Jc()&&Mt(r,n,h,u),Qa(u,!1)}let ux=(e,t,n,r,o)=>(Rl(!0),function Z(e,t){return e.createText(t)}(t[Vn],r));function fb(e){return kg("",e,""),fb}function kg(e,t,n){const r=It(),o=function pp(e,t,n,r){return is(e,ms(),n)?t+fn(n)+r:lr}(r,e,t,n);return o!==lr&&vf(r,so(),o),kg}function db(e,t,n,r,o){const u=It(),h=gp(u,e,t,n,r,o);return h!==lr&&vf(u,so(),h),db}const xp="en-US";let Nx=xp;function gb(e,t,n,r,o){if(e=Jt(e),Array.isArray(e))for(let u=0;u<e.length;u++)gb(e[u],t,n,r,o);else{const u=ur(),h=It();let b=oh(e)?e:Jt(e.provide),A=vE(e);const V=To(),Y=1048575&V.providerIndexes,te=V.directiveStart,ve=V.providerIndexes>>20;if(oh(e)||!e.multi){const Te=new Ju(A,o,kt),Ue=mb(b,t,o?Y:Y+ve,te);-1===Ue?(Jf(af(V,h),u,b),vb(u,e,t.length),t.push(b),V.directiveStart++,V.directiveEnd++,o&&(V.providerIndexes+=1048576),n.push(Te),h.push(Te)):(n[Ue]=Te,h[Ue]=Te)}else{const Te=mb(b,t,Y+ve,te),Ue=mb(b,t,Y,Y+ve),ft=Ue>=0&&n[Ue];if(o&&!ft||!o&&!(Te>=0&&n[Te])){Jf(af(V,h),u,b);const xt=function MP(e,t,n,r,o){const u=new Ju(e,n,kt);return u.multi=[],u.index=t,u.componentProviders=0,t1(u,o,r&&!n),u}(o?TP:SP,n.length,o,r,A);!o&&ft&&(n[Ue].providerFactory=xt),vb(u,e,t.length,0),t.push(b),V.directiveStart++,V.directiveEnd++,o&&(V.providerIndexes+=1048576),n.push(xt),h.push(xt)}else vb(u,e,Te>-1?Te:Ue,t1(n[o?Ue:Te],A,!o&&r));!o&&r&&ft&&n[Ue].componentProviders++}}}function vb(e,t,n,r){const o=oh(t),u=function MN(e){return!!e.useClass}(t);if(o||u){const A=(u?Jt(t.useClass):t).prototype.ngOnDestroy;if(A){const V=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const Y=V.indexOf(n);-1===Y?V.push(n,[r,A]):V[Y+1].push(r,A)}else V.push(n,A)}}}function t1(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function mb(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function SP(e,t,n,r){return yb(this.multi,[])}function TP(e,t,n,r){const o=this.multi;let u;if(this.providerFactory){const h=this.providerFactory.componentProviders,b=au(n,n[rn],this.providerFactory.index,r);u=b.slice(0,h),yb(o,u);for(let A=h;A<b.length;A++)u.push(b[A])}else u=[],yb(o,u);return u}function yb(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ki(e,t=[]){return n=>{n.providersResolver=(r,o)=>function xP(e,t,n){const r=ur();if(r.firstCreatePass){const o=Xa(e);gb(n,r.data,r.blueprint,o,!0),gb(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class Sp{}class n1{}class bb extends Sp{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cD(this);const o=zi(t);this._bootstrapComponents=gf(o.bootstrap),this._r3Injector=zE(t,n,[{provide:Sp,useValue:this},{provide:gm,useValue:this.componentFactoryResolver},...r],Un(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class wb extends n1{constructor(t){super(),this.moduleType=t}create(t){return new bb(this.moduleType,t,[])}}class r1 extends Sp{constructor(t){super(),this.componentFactoryResolver=new cD(this),this.instance=null;const n=new x0([...t.providers,{provide:Sp,useValue:this},{provide:gm,useValue:this.componentFactoryResolver}],t.parent||um(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Cb(e,t,n=null){return new r1({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let NP=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=dE(0,n.type),o=r.length>0?Cb([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,o)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Cn({token:e,providedIn:"environment",factory:()=>new e(gn(rc))}),e})();function i1(e){e.getStandaloneInjector=t=>t.get(NP).getOrCreateStandaloneInjector(e)}function Db(e,t,n,r){return function f1(e,t,n,r,o,u){const h=t+n;return is(e,h,o)?function ac(e,t,n){return e[t]=n}(e,h+1,u?r.call(u,o):r(o)):function Ug(e,t){const n=e[t];return n===lr?void 0:n}(e,h+1)}(It(),function Ai(){const e=In.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),e,t,n,r)}function xb(e){return t=>{setTimeout(e,void 0,t)}}const bi=class tk extends Ut{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,u=n||(()=>null),h=r;if(t&&"object"==typeof t){const A=t;o=A.next?.bind(A),u=A.error?.bind(A),h=A.complete?.bind(A)}this.__isAsync&&(u=xb(u),o&&(o=xb(o)),h&&(h=xb(h)));const b=super.subscribe({next:o,error:u,complete:h});return t instanceof C&&t.add(b),b}};function nk(){return this._results[Symbol.iterator]()}class Sb{get changes(){return this._changes||(this._changes=new bi)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Sb.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=nk)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=function nr(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function zn(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],u=t[r];if(n&&(o=n(o),u=n(u)),u!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yf=(()=>{class e{}return e.__NG_ELEMENT_ID__=ok,e})();const rk=yf,ik=class extends rk{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n,null)}createEmbeddedViewImpl(t,n,r){const h=this._declarationTContainer.tView,b=ym(this._declarationLView,h,t,4096&this._declarationLView[Rn]?4096:16,null,h.declTNode,null,null,null,n||null,r||null);b[Ya]=this._declarationLView[this._declarationTContainer.index];const V=this._declarationLView[ji];return null!==V&&(b[ji]=V.createEmbeddedView(h)),K0(h,b,t),new Sg(b)}};function ok(){return Pm(To(),It())}function Pm(e,t){return 4&e.type?new ik(t,e,cp(e,t)):null}let gu=(()=>{class e{}return e.__NG_ELEMENT_ID__=dk,e})();function dk(){return C1(To(),It())}const hk=gu,b1=class extends hk{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return cp(this._hostTNode,this._hostLView)}get injector(){return new su(this._hostTNode,this._hostLView)}get parentInjector(){const t=sf(this._hostTNode,this._hostLView);if(Wd(t)){const n=nf(t,this._hostLView),r=ou(t);return new su(n[rn].data[r+8],n)}return new su(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=w1(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-jr}createEmbeddedView(t,n,r){let o,u;"number"==typeof r?o=r:null!=r&&(o=r.index,u=r.injector);const b=t.createEmbeddedViewImpl(n||{},u,null);return this.insertImpl(b,o,false),b}createComponent(t,n,r,o,u){const h=t&&!function vn(e){return"function"==typeof e}(t);let b;if(h)b=n;else{const je=n||{};b=je.index,r=je.injector,o=je.projectableNodes,u=je.environmentInjector||je.ngModuleRef}const A=h?t:new Tg(Mr(t)),V=r||this.parentInjector;if(!u&&null==A.ngModule){const ft=(h?V:this.parentInjector).get(rc,null);ft&&(u=ft)}Mr(A.componentType??{});const Te=A.create(V,o,null,u);return this.insertImpl(Te.hostView,b,false),Te}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const o=t._lView,u=o[rn];if(function zc(e){return wa(e[yi])}(o)){const A=this.indexOf(t);if(-1!==A)this.detach(A);else{const V=o[yi],Y=new b1(V,V[ro],V[yi]);Y.detach(Y.indexOf(t))}}const h=this._adjustIndex(n),b=this._lContainer;if(function ye(e,t,n,r){const o=jr+r,u=n.length;r>0&&(n[o-1][Wo]=t),r<u-jr?(t[Wo]=n[o],oi(n,jr+r,t)):(n.push(t),t[Wo]=null),t[yi]=n;const h=t[Ya];null!==h&&n!==h&&function Me(e,t){const n=e[Zl];t[Mi]!==t[yi][yi][Mi]&&(e[Qs]=!0),null===n?e[Zl]=[t]:n.push(t)}(h,t);const b=t[ji];null!==b&&b.insertView(e),t[Rn]|=128}(u,o,b,h),!r){const A=Fn(h,b),V=o[Vn],Y=dt(V,b[gs]);null!==Y&&function me(e,t,n,r,o,u){r[Wi]=o,r[ro]=t,Tn(e,r,n,1,o,u)}(u,b[ro],V,o,Y,A)}return t.attachToViewContainerRef(),oi(Mb(b),h,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=w1(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Le(this._lContainer,n);r&&(Ao(Mb(this._lContainer),n),Pe(r[rn],r))}detach(t){const n=this._adjustIndex(t,-1),r=Le(this._lContainer,n);return r&&null!=Ao(Mb(this._lContainer),n)?new Sg(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function w1(e){return e[8]}function Mb(e){return e[8]||(e[8]=[])}function C1(e,t){let n;const r=t[e.index];return wa(r)?n=r:(n=JE(r,t,null,e),t[e.index]=n,bm(t,n)),E1(n,t,e,r),new b1(n,e,t)}let E1=function D1(e,t,n,r){if(e[gs])return;let o;o=8&n.type?qr(r):function pk(e,t){const n=e[Vn],r=n.createComment(""),o=Ii(t,e);return Ge(n,dt(n,o),r,function St(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[gs]=o};class Ib{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ib(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ab{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let u=0;u<r;u++){const h=n.getByIndex(u);o.push(this.queries[h.indexInDeclarationView].clone())}return new Ab(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==A1(t,n).matches&&this.queries[n].setDirty()}}class x1{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Nb{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,u=this.getByIndex(r).embeddedTView(t,o);u&&(u.indexInDeclarationView=r,null!==n?n.push(u):n=[u])}return null!==n?new Nb(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ob{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Ob(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const u=r[o];this.matchTNodeWithReadOption(t,n,mk(n,u)),this.matchTNodeWithReadOption(t,n,_s(n,t,u,!1,!1))}else r===yf?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,_s(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===ul||o===gu||o===yf&&4&n.type)this.addMatch(n.index,-2);else{const u=_s(n,t,o,!1,!1);null!==u&&this.addMatch(n.index,u)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function mk(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function bk(e,t,n,r){return-1===n?function yk(e,t){return 11&e.type?cp(e,t):4&e.type?Pm(e,t):null}(t,e):-2===n?function wk(e,t,n){return n===ul?cp(t,e):n===yf?Pm(t,e):n===gu?C1(t,e):void 0}(e,t,r):au(e,e[rn],n,t)}function S1(e,t,n,r){const o=t[ji].queries[r];if(null===o.matches){const u=e.data,h=n.matches,b=[];for(let A=0;A<h.length;A+=2){const V=h[A];b.push(V<0?null:bk(t,u[V],h[A+1],n.metadata.read))}o.matches=b}return o.matches}function Rb(e,t,n,r){const o=e.queries.getByIndex(n),u=o.matches;if(null!==u){const h=S1(e,t,o,n);for(let b=0;b<u.length;b+=2){const A=u[b];if(A>0)r.push(h[b/2]);else{const V=u[b+1],Y=t[-A];for(let te=jr;te<Y.length;te++){const ve=Y[te];ve[Ya]===ve[yi]&&Rb(ve[rn],ve,V,r)}if(null!==Y[Zl]){const te=Y[Zl];for(let ve=0;ve<te.length;ve++){const Te=te[ve];Rb(Te[rn],Te,V,r)}}}}}return r}function Vr(e){const t=It(),n=ur(),r=Xc();ys(r+1);const o=A1(n,r);if(e.dirty&&function $u(e){return 4==(4&e[Rn])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const u=o.crossesNgTemplate?Rb(n,t,r,[]):S1(n,t,o,r);e.reset(u,YN),e.notifyOnChanges()}return!0}return!1}function Gr(e,t,n){const r=ur();r.firstCreatePass&&(function I1(e,t,n){null===e.queries&&(e.queries=new Nb),e.queries.track(new Ob(t,n))}(r,new x1(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function M1(e,t,n){const r=new Sb(4==(4&n));(function vO(e,t,n,r){const o=tD(t);o.push(n),e.firstCreatePass&&nD(e).push(r,o.length-1)})(e,t,r,r.destroy),null===t[ji]&&(t[ji]=new Ab),t[ji].queries.push(new Ib(r))}(r,It(),t)}function Hr(){return function Ck(e,t){return e[ji].queries[t].queryList}(It(),Xc())}function A1(e,t){return e.queries.getByIndex(t)}const Bb=new yn("Application Initializer");let Vb=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=sn(Bb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const u=o();if(Og(u))n.push(u);else if(PD(u)){const h=new Promise((b,A)=>{u.subscribe({complete:b,error:A})});n.push(h)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),$1=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const bf=new yn("LocaleId",{providedIn:"root",factory:()=>sn(bf,Mn.Optional|Mn.SkipSelf)||function Wk(){return typeof $localize<"u"&&$localize.locale||xp}()});let _m=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ln(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class $k{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Y1=(()=>{class e{compileModuleSync(n){return new wb(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),u=gf(zi(n).declarations).reduce((h,b)=>{const A=Mr(b);return A&&h.push(new Tg(A)),h},[]);return new $k(r,u)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Z1(...e){}class ho{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bi(!1),this.onMicrotaskEmpty=new bi(!1),this.onStable=new bi(!1),this.onError=new bi(!1),typeof Zone>"u")throw new ct(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function Kk(){let e=ei.requestAnimationFrame,t=ei.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Qk(e){const t=()=>{!function qk(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ei,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Ub(e),e.isCheckStableRunning=!0,Hb(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Ub(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,u,h,b)=>{try{return q1(e),n.invokeTask(o,u,h,b)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||e.shouldCoalesceRunChangeDetection)&&t(),Q1(e)}},onInvoke:(n,r,o,u,h,b,A)=>{try{return q1(e),n.invoke(o,u,h,b,A)}finally{e.shouldCoalesceRunChangeDetection&&t(),Q1(e)}},onHasTask:(n,r,o,u)=>{n.hasTask(o,u),r===o&&("microTask"==u.change?(e._hasPendingMicrotasks=u.microTask,Ub(e),Hb(e)):"macroTask"==u.change&&(e.hasPendingMacrotasks=u.macroTask))},onHandleError:(n,r,o,u)=>(n.handleError(o,u),e.runOutsideAngular(()=>e.onError.emit(u)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ho.isInAngularZone())throw new ct(909,!1)}static assertNotInAngularZone(){if(ho.isInAngularZone())throw new ct(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const u=this._inner,h=u.scheduleEventTask("NgZoneEvent: "+o,t,Zk,Z1,Z1);try{return u.runTask(h,n,r)}finally{u.cancelTask(h)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const Zk={};function Hb(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ub(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function q1(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Q1(e){e._nesting--,Hb(e)}class Jk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bi,this.onMicrotaskEmpty=new bi,this.onStable=new bi,this.onError=new bi}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const J1=new yn("",{providedIn:"root",factory:eS});function eS(){const e=sn(ho);let t=!0;return function Je(...e){const t=vo(e),n=function xr(e,t){return"number"==typeof Yr(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?na(r[0]):vi(n)(Fe(r,t)):pa}(new Xe(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new Xe(o=>{let u;e.runOutsideAngular(()=>{u=e.onStable.subscribe(()=>{ho.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const h=e.onUnstable.subscribe(()=>{ho.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{u.unsubscribe(),h.unsubscribe()}}).pipe(Zt()))}const tS=new yn(""),Fm=new yn("");let Wb,Gb=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wb||(function e_(e){Wb=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ho.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let u=-1;r&&r>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==u),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:u,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}}return e.\u0275fac=function(n){return new(n||e)(gn(ho),gn(zb),gn(Fm))},e.\u0275prov=Cn({token:e,factory:e.\u0275fac}),e})(),zb=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Wb?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),cd=null;const nS=new yn("AllowMultipleToken"),jb=new yn("PlatformDestroyListeners"),$b=new yn("appBootstrapListener");class iS{constructor(t,n){this.name=t,this.token=n}}function aS(e,t,n=[]){const r=`Platform: ${t}`,o=new yn(r);return(u=[])=>{let h=Yb();if(!h||h.injector.get(nS,!1)){const b=[...n,...u,{provide:o,useValue:!0}];e?e(b):function r_(e){if(cd&&!cd.get(nS,!1))throw new ct(400,!1);(function rS(){!function Jl(e){kd=e}(()=>{throw new ct(600,!1)})})(),cd=e;const t=e.get(lS);(function oS(e){e.get(mE,null)?.forEach(n=>n())})(e)}(function sS(e=[],t){return ic.create({name:t,providers:[{provide:E0,useValue:"platform"},{provide:jb,useValue:new Set([()=>cd=null])},...e]})}(b,r))}return function o_(e){const t=Yb();if(!t)throw new ct(401,!1);return t}()}}function Yb(){return cd?.get(lS)??null}let lS=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function a_(e="zone.js",t){return"noop"===e?new Jk:"zone.js"===e?new ho(t):e}(r?.ngZone,function uS(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const u=function AP(e,t,n){return new bb(e,t,n)}(n.moduleType,this.injector,function pS(e){return[{provide:ho,useFactory:e},{provide:mg,multi:!0,useFactory:()=>{const t=sn(l_,{optional:!0});return()=>t.initialize()}},{provide:hS,useFactory:s_},{provide:J1,useFactory:eS}]}(()=>o)),h=u.injector.get(sh,null);return o.runOutsideAngular(()=>{const b=o.onError.subscribe({next:A=>{h.handleError(A)}});u.onDestroy(()=>{Bm(this._modules,u),b.unsubscribe()})}),function cS(e,t,n){try{const r=n();return Og(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(h,o,()=>{const b=u.injector.get(Vb);return b.runInitializers(),b.donePromise.then(()=>(function Ox(e){Hi(e,"Expected localeId to be defined"),"string"==typeof e&&(Nx=e.toLowerCase().replace(/_/g,"-"))}(u.injector.get(bf,xp)||xp),this._moduleDoBootstrap(u),u))})})}bootstrapModule(n,r=[]){const o=fS({},r);return function t_(e,t,n){const r=new wb(n);return Promise.resolve(r)}(0,0,n).then(u=>this.bootstrapModuleFactory(u,o))}_moduleDoBootstrap(n){const r=n.injector.get(Ip);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new ct(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ct(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(jb,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(gn(ic))},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function fS(e,t){return Array.isArray(t)?t.reduce(fS,e):{...e,...t}}let Ip=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=sn(hS),this.zoneIsStable=sn(J1),this.componentTypes=[],this.components=[],this.isStable=sn(_m).hasPendingTasks.pipe(Ft(n=>n?Ze(!1):this.zoneIsStable),function qt(e,t=_e){return e=e??Nn,Qe((n,r)=>{let o,u=!0;n.subscribe(lt(r,h=>{const b=t(h);(u||!e(o,b))&&(u=!1,o=b,r.next(h))}))})}(),Zt()),this._injector=sn(rc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof xE;if(!this._injector.get(Vb).done)throw!o&&function Gi(e){const t=Mr(e)||Ti(e)||Ui(e);return null!==t&&t.standalone}(n),new ct(405,!1);let h;h=o?n:this._injector.get(gm).resolveComponentFactory(n),this.componentTypes.push(h.componentType);const b=function n_(e){return e.isBoundToModule}(h)?void 0:this._injector.get(Sp),V=h.create(ic.NULL,[],r||h.selector,b),Y=V.location.nativeElement,te=V.injector.get(tS,null);return te?.registerApplication(Y),V.onDestroy(()=>{this.detachView(V.hostView),Bm(this.components,V),te?.unregisterApplication(Y)}),this._loadComponent(V),V}tick(){if(this._runningTick)throw new ct(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Bm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get($b,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Bm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ct(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Bm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const hS=new yn("",{providedIn:"root",factory:()=>sn(sh).handleError.bind(void 0)});function s_(){const e=sn(ho),t=sn(sh);return n=>e.runOutsideAngular(()=>t.handleError(n))}let l_=(()=>{class e{constructor(){this.zone=sn(ho),this.applicationRef=sn(Ip)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let Wg=(()=>{class e{}return e.__NG_ELEMENT_ID__=c_,e})();function c_(e){return function f_(e,t,n){if(ql(e)&&!n){const r=Ea(e.index,t);return new Sg(r,r)}return 47&e.type?new Sg(t[Mi],t):null}(To(),It(),16==(16&e))}class yS{constructor(){}supports(t){return Dm(t)}create(t){return new m_(t)}}const v_=(e,t)=>t;class m_{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||v_}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,u=null;for(;n||r;){const h=!r||n&&n.currentIndex<wS(r,o,u)?n:r,b=wS(h,o,u),A=h.currentIndex;if(h===r)o--,r=r._nextRemoved;else if(n=n._next,null==h.previousIndex)o++;else{u||(u=[]);const V=b-o,Y=A-o;if(V!=Y){for(let ve=0;ve<V;ve++){const Te=ve<u.length?u[ve]:u[ve]=0,Ue=Te+ve;Y<=Ue&&Ue<V&&(u[ve]=Te+1)}u[h.previousIndex]=Y-V}}b!==A&&t(h,b,A)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Dm(t))throw new ct(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,u,h,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let b=0;b<this.length;b++)u=t[b],h=this._trackByFn(b,u),null!==n&&Object.is(n.trackById,h)?(r&&(n=this._verifyReinsertion(n,u,h,b)),Object.is(n.item,u)||this._addIdentityChange(n,u)):(n=this._mismatch(n,u,h,b),r=!0),n=n._next}else o=0,function cR(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,b=>{h=this._trackByFn(o,b),null!==n&&Object.is(n.trackById,h)?(r&&(n=this._verifyReinsertion(n,b,h,o)),Object.is(n.item,b)||this._addIdentityChange(n,b)):(n=this._mismatch(n,b,h,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let u;return null===t?u=this._itTail:(u=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,u,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,u,o)):t=this._addAfter(new y_(n,r),u,o),t}_verifyReinsertion(t,n,r,o){let u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==u?t=this._reinsertAfter(u,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,u=t._nextRemoved;return null===o?this._removalsHead=u:o._nextRemoved=u,null===u?this._removalsTail=o:u._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new bS),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bS),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class y_{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class b_{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class bS{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new b_,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wS(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class CS{constructor(){}supports(t){return t instanceof Map||Z0(t)}create(){return new w_}}class w_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Z0(t)))throw new ct(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const u=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,u)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const u=o._prev,h=o._next;return u&&(u._next=h),h&&(h._prev=u),o._next=null,o._prev=null,o}const r=new C_(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class C_{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ES(){return new Um([new yS])}let Um=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ES()),deps:[[e,new Qh,new Bs]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new ct(901,!1)}}return e.\u0275prov=Cn({token:e,providedIn:"root",factory:ES}),e})();function DS(){return new jg([new CS])}let jg=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||DS()),deps:[[e,new Qh,new Bs]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new ct(901,!1)}}return e.\u0275prov=Cn({token:e,providedIn:"root",factory:DS}),e})();const x_=aS(null,"core",[]);let S_=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(gn(Ip))},e.\u0275mod=bo({type:e}),e.\u0275inj=yo({}),e})();function Ap(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let ew=null;function fd(){return ew}class F_{}const fl=new yn("DocumentToken");let tw=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:function(){return sn(V_)},providedIn:"platform"}),e})();const B_=new yn("Location Initialized");let V_=(()=>{class e extends tw{constructor(){super(),this._doc=sn(fl),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fd().getBaseHref(this._doc)}onPopState(n){const r=fd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=fd().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:function(){return new e},providedIn:"platform"}),e})();function nw(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function NS(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function wf(e){return e&&"?"!==e[0]?"?"+e:e}let dh=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:function(){return sn(RS)},providedIn:"root"}),e})();const OS=new yn("appBaseHref");let RS=(()=>{class e extends dh{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??sn(fl).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return nw(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+wf(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,u){const h=this.prepareExternalUrl(o+wf(u));this._platformLocation.pushState(n,r,h)}replaceState(n,r,o,u){const h=this.prepareExternalUrl(o+wf(u));this._platformLocation.replaceState(n,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(gn(tw),gn(OS,8))},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),H_=(()=>{class e extends dh{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=nw(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,u){let h=this.prepareExternalUrl(o+wf(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(n,r,h)}replaceState(n,r,o,u){let h=this.prepareExternalUrl(o+wf(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(gn(tw),gn(OS,8))},e.\u0275prov=Cn({token:e,factory:e.\u0275fac}),e})(),rw=(()=>{class e{constructor(n){this._subject=new bi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function z_(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(NS(LS(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+wf(r))}normalize(n){return e.stripTrailingSlash(function G_(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,LS(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+wf(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+wf(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}}return e.normalizeQueryParams=wf,e.joinWithSlash=nw,e.stripTrailingSlash=NS,e.\u0275fac=function(n){return new(n||e)(gn(dh))},e.\u0275prov=Cn({token:e,factory:function(){return function U_(){return new rw(gn(dh))}()},providedIn:"root"}),e})();function LS(e){return e.replace(/\/index.html$/,"")}function GS(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,u]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(u)}return null}class IF{constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pw=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((o,u,h)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new IF(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===u?void 0:u);else if(null!==u){const b=r.get(u);r.move(b,h),jS(b,o)}});for(let o=0,u=r.length;o<u;o++){const b=r.get(o).context;b.index=o,b.count=u,b.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{jS(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(kt(gu),kt(yf),kt(Um))},e.\u0275dir=_n({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function jS(e,t){e.context.$implicit=t.item}let hh=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new AF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){$S("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){$S("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(kt(gu),kt(yf))},e.\u0275dir=_n({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class AF{constructor(){this.$implicit=null,this.ngIf=null}}function $S(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Un(t)}'.`)}let XS=(()=>{class e{constructor(n,r,o){this._ngEl=n,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[o,u]=n.split("."),h=-1===o.indexOf("-")?void 0:Vo.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,o,u?`${r}${u}`:r,h):this._renderer.removeStyle(this._ngEl.nativeElement,o,h)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return e.\u0275fac=function(n){return new(n||e)(kt(ul),kt(jg),kt(pf))},e.\u0275dir=_n({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),ZS=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=bo({type:e}),e.\u0275inj=yo({}),e})();function QS(e){return"server"===e}let i2=(()=>{class e{}return e.\u0275prov=Cn({token:e,providedIn:"root",factory:()=>new o2(gn(fl),window)}),e})();class o2{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function a2(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const h=u.getElementById(t)||u.querySelector(`[name="${t}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=JS(this.window.history)||JS(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function JS(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class eT{}class A2 extends F_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Cw extends A2{static makeCurrent(){!function __(e){ew||(ew=e)}(new Cw)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function N2(){return Kg=Kg||document.querySelector("base"),Kg?Kg.getAttribute("href"):null}();return null==n?null:function O2(e){ey=ey||document.createElement("a"),ey.setAttribute("href",e);const t=ey.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Kg=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return GS(document.cookie,t)}}let ey,Kg=null,L2=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:e.\u0275fac}),e})();const Ew=new yn("EventManagerPlugins");let oT=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(u=>u.supports(n)),!r)throw new ct(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return e.\u0275fac=function(n){return new(n||e)(gn(Ew),gn(ho))},e.\u0275prov=Cn({token:e,factory:e.\u0275fac}),e})();class aT{constructor(t){this._doc=t}}const Dw="ng-app-id";let sT=(()=>{class e{constructor(n,r,o,u={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=QS(u),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Dw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){const o=this.styleRef;if(o.has(n)){const u=o.get(n);return u.usage+=r,u.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const o=this.styleNodesInDOM,u=o?.get(r);if(u?.parentNode===n)return o.delete(r),u.removeAttribute(Dw),u;{const h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=r,this.platformIsServer&&h.setAttribute(Dw,this.appId),h}}addStyleToHost(n,r){const o=this.getStyleElement(n,r);n.appendChild(o);const u=this.styleRef,h=u.get(r)?.elements;h?h.push(o):u.set(r,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(gn(fl),gn(cm),gn(yE,8),gn(ah))},e.\u0275prov=Cn({token:e,factory:e.\u0275fac}),e})();const xw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Sw=/%COMP%/g,F2=new yn("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function uT(e,t){return t.map(n=>n.replace(Sw,e))}let cT=(()=>{class e{constructor(n,r,o,u,h,b,A,V=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=h,this.platformId=b,this.ngZone=A,this.nonce=V,this.rendererByCompId=new Map,this.platformIsServer=QS(b),this.defaultRenderer=new Tw(n,h,A,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ba.ShadowDom&&(r={...r,encapsulation:ba.Emulated});const o=this.getOrCreateRenderer(n,r);return o instanceof dT?o.applyToHost(n):o instanceof Mw&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const h=this.doc,b=this.ngZone,A=this.eventManager,V=this.sharedStylesHost,Y=this.removeStylesOnCompDestroy,te=this.platformIsServer;switch(r.encapsulation){case ba.Emulated:u=new dT(A,V,r,this.appId,Y,h,b,te);break;case ba.ShadowDom:return new U2(A,V,n,r,h,b,this.nonce,te);default:u=new Mw(A,V,r,Y,h,b,te)}u.onDestroy=()=>o.delete(r.id),o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return e.\u0275fac=function(n){return new(n||e)(gn(oT),gn(sT),gn(cm),gn(F2),gn(fl),gn(ah),gn(ho),gn(yE))},e.\u0275prov=Cn({token:e,factory:e.\u0275fac}),e})();class Tw{constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(xw[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(fT(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(fT(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new ct(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const u=xw[o];u?t.setAttributeNS(u,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=xw[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Vo.DashCase|Vo.Important)?t.style.setProperty(n,r,o&Vo.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Vo.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=fd().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function fT(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class U2 extends Tw{constructor(t,n,r,o,u,h,b,A){super(t,u,h,A),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const V=uT(o.id,o.styles);for(const Y of V){const te=document.createElement("style");b&&te.setAttribute("nonce",b),te.textContent=Y,this.shadowRoot.appendChild(te)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Mw extends Tw{constructor(t,n,r,o,u,h,b,A){super(t,u,h,b),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.rendererUsageCount=0,this.styles=A?uT(A,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class dT extends Mw{constructor(t,n,r,o,u,h,b,A){const V=o+"-"+r.id;super(t,n,r,u,h,b,A,V),this.contentAttr=function B2(e){return"_ngcontent-%COMP%".replace(Sw,e)}(V),this.hostAttr=function V2(e){return"_nghost-%COMP%".replace(Sw,e)}(V)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let G2=(()=>{class e extends aT{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}}return e.\u0275fac=function(n){return new(n||e)(gn(fl))},e.\u0275prov=Cn({token:e,factory:e.\u0275fac}),e})();const hT=["alt","control","meta","shift"],z2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},W2={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let j2=(()=>{class e extends aT{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const u=e.parseEventName(r),h=e.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fd().onAndCancel(n,u.domEventName,h))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=e._normalizeKey(r.pop());let h="",b=r.indexOf("code");if(b>-1&&(r.splice(b,1),h="code."),hT.forEach(V=>{const Y=r.indexOf(V);Y>-1&&(r.splice(Y,1),h+=V+".")}),h+=u,0!=r.length||0===u.length)return null;const A={};return A.domEventName=o,A.fullKey=h,A}static matchEventFullKeyCode(n,r){let o=z2[n.key]||n.key,u="";return r.indexOf("code.")>-1&&(o=n.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),hT.forEach(h=>{h!==o&&(0,W2[h])(n)&&(u+=h+".")}),u+=o,u===r)}static eventCallback(n,r,o){return u=>{e.matchEventFullKeyCode(u,n)&&o.runGuarded(()=>r(u))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(gn(fl))},e.\u0275prov=Cn({token:e,factory:e.\u0275fac}),e})();const K2=aS(x_,"browser",[{provide:ah,useValue:"browser"},{provide:mE,useValue:function $2(){Cw.makeCurrent()},multi:!0},{provide:fl,useFactory:function X2(){return function Or(e){wn=e}(document),document},deps:[]}]),Z2=new yn(""),vT=[{provide:Fm,useClass:class R2{addToWindow(t){ei.getAngularTestability=(r,o=!0)=>{const u=t.findTestabilityInTree(r,o);if(null==u)throw new ct(5103,!1);return u},ei.getAllAngularTestabilities=()=>t.getAllTestabilities(),ei.getAllAngularRootElements=()=>t.getAllRootElements(),ei.frameworkStabilizers||(ei.frameworkStabilizers=[]),ei.frameworkStabilizers.push(r=>{const o=ei.getAllAngularTestabilities();let u=o.length,h=!1;const b=function(A){h=h||A,u--,0==u&&r(h)};o.forEach(A=>{A.whenStable(b)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?fd().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:tS,useClass:Gb,deps:[ho,zb,Fm]},{provide:Gb,useClass:Gb,deps:[ho,zb,Fm]}],mT=[{provide:E0,useValue:"root"},{provide:sh,useFactory:function Y2(){return new sh},deps:[]},{provide:Ew,useClass:G2,multi:!0,deps:[fl,ho,ah]},{provide:Ew,useClass:j2,multi:!0,deps:[fl]},cT,sT,oT,{provide:TE,useExisting:cT},{provide:eT,useClass:L2,deps:[]},[]];let q2=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:cm,useValue:n.appId}]}}}return e.\u0275fac=function(n){return new(n||e)(gn(Z2,12))},e.\u0275mod=bo({type:e}),e.\u0275inj=yo({providers:[...mT,...vT],imports:[ZS,S_]}),e})(),yT=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(gn(fl))},e.\u0275prov=Cn({token:e,factory:function(n){let r=null;return r=n?new n:function J2(){return new yT(gn(fl))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;var bu=(()=>((bu=bu||{})[bu.Hide=0]="Hide",bu[bu.Show=1]="Show",bu))();let ET=(()=>{class e{constructor(){this.toggleSubject=new Ut,this.toggleObservable=this.toggleSubject.asObservable()}hideAllComponents(n){this.toggleSubject.next({action:bu.Hide,type:n})}showAllComponents(n){this.toggleSubject.next({action:bu.Show,type:n})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const{isArray:oB}=Array,{getPrototypeOf:aB,prototype:sB,keys:lB}=Object;function DT(e){if(1===e.length){const t=e[0];if(oB(t))return{args:t,keys:null};if(function uB(e){return e&&"object"==typeof e&&aB(e)===sB}(t)){const n=lB(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:cB}=Array;function xT(e){return Rt(t=>function fB(e,t){return cB(t)?e(...t):e(t)}(e,t))}function ST(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Aw(...e){const t=vo(e),n=Aa(e),{args:r,keys:o}=DT(e);if(0===r.length)return Fe([],t);const u=new Xe(function dB(e,t,n=_e){return r=>{TT(t,()=>{const{length:o}=e,u=new Array(o);let h=o,b=o;for(let A=0;A<o;A++)TT(t,()=>{const V=Fe(e[A],t);let Y=!1;V.subscribe(lt(r,te=>{u[A]=te,Y||(Y=!0,b--),b||r.next(n(u.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,t,o?h=>ST(o,h):_e));return n?u.pipe(xT(n)):u}function TT(e,t,n){e?ha(n,e,t):t()}const ty=L(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Nw(...e){return function hB(){return vi(1)}()(Fe(e,vo(e)))}function MT(e){return new Xe(t=>{na(e()).subscribe(t)})}function Zg(e,t){const n=T(e)?e:()=>e,r=o=>o.error(n());return new Xe(t?o=>t.schedule(r,0,o):r)}function Ow(){return Qe((e,t)=>{let n=null;e._refCount++;const r=lt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,u=n;n=null,o&&(!u||o===u)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class IT extends Xe{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,nt(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new C;const n=this.getSubject();t.add(this.source.subscribe(lt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=C.EMPTY)}return t}refCount(){return Ow()(this)}}function Np(e){return e<=0?()=>pa:Qe((t,n)=>{let r=0;t.subscribe(lt(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Ef(e,t){return Qe((n,r)=>{let o=0;n.subscribe(lt(r,u=>e.call(t,u,o++)&&r.next(u)))})}function ny(e){return Qe((t,n)=>{let r=!1;t.subscribe(lt(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function AT(e=gB){return Qe((t,n)=>{let r=!1;t.subscribe(lt(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function gB(){return new ty}function ph(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ef((o,u)=>e(o,u,r)):_e,Np(1),n?ny(t):AT(()=>new ty))}function Op(e,t){return T(t)?Vi(e,t,1):Vi(e,1)}function os(e,t,n){const r=T(e)||t||n?{next:e,error:t,complete:n}:e;return r?Qe((o,u)=>{var h;null===(h=r.subscribe)||void 0===h||h.call(r);let b=!0;o.subscribe(lt(u,A=>{var V;null===(V=r.next)||void 0===V||V.call(r,A),u.next(A)},()=>{var A;b=!1,null===(A=r.complete)||void 0===A||A.call(r),u.complete()},A=>{var V;b=!1,null===(V=r.error)||void 0===V||V.call(r,A),u.error(A)},()=>{var A,V;b&&(null===(A=r.unsubscribe)||void 0===A||A.call(r)),null===(V=r.finalize)||void 0===V||V.call(r)}))}):_e}function gh(e){return Qe((t,n)=>{let u,r=null,o=!1;r=t.subscribe(lt(n,void 0,void 0,h=>{u=na(e(h,gh(e)(t))),r?(r.unsubscribe(),r=null,u.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(n))})}function Rw(e){return e<=0?()=>pa:Qe((t,n)=>{let r=[];t.subscribe(lt(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function qg(e){return Qe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const gr="primary",Qg=Symbol("RouteTitle");class wB{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Rp(e){return new wB(e)}function CB(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let u=0;u<r.length;u++){const h=r[u],b=e[u];if(h.startsWith(":"))o[h.substring(1)]=b;else if(h!==b.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function cc(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let u=0;u<n.length;u++)if(o=n[u],!NT(e[o],t[o]))return!1;return!0}function NT(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,u)=>r[u]===o)}return e===t}function OT(e){return e.length>0?e[e.length-1]:null}function hd(e){return function iB(e){return!!e&&(e instanceof Xe||T(e.lift)&&T(e.subscribe))}(e)?e:Og(e)?Fe(Promise.resolve(e)):Ze(e)}const DB={exact:function PT(e,t,n){if(!vh(e.segments,t.segments)||!ry(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!PT(e.children[r],t.children[r],n))return!1;return!0},subset:kT},RT={exact:function xB(e,t){return cc(e,t)},subset:function SB(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>NT(e[n],t[n]))},ignored:()=>!0};function LT(e,t,n){return DB[n.paths](e.root,t.root,n.matrixParams)&&RT[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function kT(e,t,n){return _T(e,t,t.segments,n)}function _T(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!vh(o,n)||t.hasChildren()||!ry(o,n,r))}if(e.segments.length===n.length){if(!vh(e.segments,n)||!ry(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!kT(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),u=n.slice(e.segments.length);return!!(vh(e.segments,o)&&ry(e.segments,o,r)&&e.children[gr])&&_T(e.children[gr],t,u,r)}}function ry(e,t,n){return t.every((r,o)=>RT[n](e[o].parameters,r.parameters))}class Lp{constructor(t=new li([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rp(this.queryParams)),this._queryParamMap}toString(){return IB.serialize(this)}}class li{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return iy(this)}}class Jg{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Rp(this.parameters)),this._parameterMap}toString(){return VT(this)}}function vh(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let ev=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:function(){return new Lw},providedIn:"root"}),e})();class Lw{parse(t){const n=new VB(t);return new Lp(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${tv(t.root,!0)}`,r=function OB(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(o=>`${oy(n)}=${oy(o)}`).join("&"):`${oy(n)}=${oy(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function AB(e){return encodeURI(e)}(t.fragment)}`:""}`}}const IB=new Lw;function iy(e){return e.segments.map(t=>VT(t)).join("/")}function tv(e,t){if(!e.hasChildren())return iy(e);if(t){const n=e.children[gr]?tv(e.children[gr],!1):"",r=[];return Object.entries(e.children).forEach(([o,u])=>{o!==gr&&r.push(`${o}:${tv(u,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function MB(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===gr&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==gr&&(n=n.concat(t(o,r)))}),n}(e,(r,o)=>o===gr?[tv(e.children[gr],!1)]:[`${o}:${tv(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[gr]?`${iy(e)}/${n[0]}`:`${iy(e)}/(${n.join("//")})`}}function FT(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oy(e){return FT(e).replace(/%3B/gi,";")}function Pw(e){return FT(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ay(e){return decodeURIComponent(e)}function BT(e){return ay(e.replace(/\+/g,"%20"))}function VT(e){return`${Pw(e.path)}${function NB(e){return Object.keys(e).map(t=>`;${Pw(t)}=${Pw(e[t])}`).join("")}(e.parameters)}`}const RB=/^[^\/()?;#]+/;function kw(e){const t=e.match(RB);return t?t[0]:""}const LB=/^[^\/()?;=#]+/,kB=/^[^=?&#]+/,FB=/^[^&#]+/;class VB{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new li([],{}):new li([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[gr]=new li(t,n)),r}parseSegment(){const t=kw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new ct(4009,!1);return this.capture(t),new Jg(ay(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function PB(e){const t=e.match(LB);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=kw(this.remaining);o&&(r=o,this.capture(r))}t[ay(n)]=ay(r)}parseQueryParam(t){const n=function _B(e){const t=e.match(kB);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const h=function BB(e){const t=e.match(FB);return t?t[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=BT(n),u=BT(r);if(t.hasOwnProperty(o)){let h=t[o];Array.isArray(h)||(h=[h],t[o]=h),h.push(u)}else t[o]=u}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=kw(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new ct(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):t&&(u=gr);const h=this.parseChildren();n[u]=1===Object.keys(h).length?h[gr]:new li([],h),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new ct(4011,!1)}}function HT(e){return e.segments.length>0?new li([],{[gr]:e}):e}function UT(e){const t={};for(const r of Object.keys(e.children)){const u=UT(e.children[r]);if(r===gr&&0===u.segments.length&&u.hasChildren())for(const[h,b]of Object.entries(u.children))t[h]=b;else(u.segments.length>0||u.hasChildren())&&(t[r]=u)}return function HB(e){if(1===e.numberOfChildren&&e.children[gr]){const t=e.children[gr];return new li(e.segments.concat(t.segments),t.children)}return e}(new li(e.segments,t))}function mh(e){return e instanceof Lp}function GT(e){let t;const o=HT(function n(u){const h={};for(const A of u.children){const V=n(A);h[A.outlet]=V}const b=new li(u.url,h);return u===e&&(t=b),b}(e.root));return t??o}function zT(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return _w(o,o,o,n,r);const u=function GB(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new jT(!0,0,e);let t=0,n=!1;const r=e.reduce((o,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const b={};return Object.entries(u.outlets).forEach(([A,V])=>{b[A]="string"==typeof V?V.split("/"):V}),[...o,{outlets:b}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===h?(u.split("/").forEach((b,A)=>{0==A&&"."===b||(0==A&&""===b?n=!0:".."===b?t++:""!=b&&o.push(b))}),o):[...o,u]},[]);return new jT(n,t,r)}(t);if(u.toRoot())return _w(o,o,new li([],{}),n,r);const h=function zB(e,t,n){if(e.isAbsolute)return new ly(t,!0,0);if(!n)return new ly(t,!1,NaN);if(null===n.parent)return new ly(n,!0,0);const r=sy(e.commands[0])?0:1;return function WB(e,t,n){let r=e,o=t,u=n;for(;u>o;){if(u-=o,r=r.parent,!r)throw new ct(4005,!1);o=r.segments.length}return new ly(r,!1,o-u)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(u,o,e),b=h.processChildren?rv(h.segmentGroup,h.index,u.commands):$T(h.segmentGroup,h.index,u.commands);return _w(o,h.segmentGroup,b,n,r)}function sy(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function nv(e){return"object"==typeof e&&null!=e&&e.outlets}function _w(e,t,n,r,o){let h,u={};r&&Object.entries(r).forEach(([A,V])=>{u[A]=Array.isArray(V)?V.map(Y=>`${Y}`):`${V}`}),h=e===t?n:WT(e,t,n);const b=HT(UT(h));return new Lp(b,u,o)}function WT(e,t,n){const r={};return Object.entries(e.children).forEach(([o,u])=>{r[o]=u===t?n:WT(u,t,n)}),new li(e.segments,r)}class jT{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&sy(r[0]))throw new ct(4003,!1);const o=r.find(nv);if(o&&o!==OT(r))throw new ct(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ly{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function $T(e,t,n){if(e||(e=new li([],{})),0===e.segments.length&&e.hasChildren())return rv(e,t,n);const r=function $B(e,t,n){let r=0,o=t;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return u;const h=e.segments[o],b=n[r];if(nv(b))break;const A=`${b}`,V=r<n.length-1?n[r+1]:null;if(o>0&&void 0===A)break;if(A&&V&&"object"==typeof V&&void 0===V.outlets){if(!XT(A,V,h))return u;r+=2}else{if(!XT(A,{},h))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const u=new li(e.segments.slice(0,r.pathIndex),{});return u.children[gr]=new li(e.segments.slice(r.pathIndex),e.children),rv(u,0,o)}return r.match&&0===o.length?new li(e.segments,{}):r.match&&!e.hasChildren()?Fw(e,t,n):r.match?rv(e,0,o):Fw(e,t,n)}function rv(e,t,n){if(0===n.length)return new li(e.segments,{});{const r=function jB(e){return nv(e[0])?e[0].outlets:{[gr]:e}}(n),o={};if(!r[gr]&&e.children[gr]&&1===e.numberOfChildren&&0===e.children[gr].segments.length){const u=rv(e.children[gr],t,n);return new li(e.segments,u.children)}return Object.entries(r).forEach(([u,h])=>{"string"==typeof h&&(h=[h]),null!==h&&(o[u]=$T(e.children[u],t,h))}),Object.entries(e.children).forEach(([u,h])=>{void 0===r[u]&&(o[u]=h)}),new li(e.segments,o)}}function Fw(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const u=n[o];if(nv(u)){const A=YB(u.outlets);return new li(r,A)}if(0===o&&sy(n[0])){r.push(new Jg(e.segments[t].path,YT(n[0]))),o++;continue}const h=nv(u)?u.outlets[gr]:`${u}`,b=o<n.length-1?n[o+1]:null;h&&b&&sy(b)?(r.push(new Jg(h,YT(b))),o+=2):(r.push(new Jg(h,{})),o++)}return new li(r,{})}function YB(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=Fw(new li([],{}),0,r))}),t}function YT(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function XT(e,t,n){return e==n.path&&cc(t,n.parameters)}const iv="imperative";class fc{constructor(t,n){this.id=t,this.url=n}}class Bw extends fc{constructor(t,n,r="imperative",o=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yh extends fc{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class uy extends fc{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ov extends fc{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=16}}class Vw extends fc{constructor(t,n,r,o){super(t,n),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class XB extends fc{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KB extends fc{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZB extends fc{constructor(t,n,r,o,u){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qB extends fc{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QB extends fc{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JB{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eV{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tV{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nV{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rV{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iV{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KT{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class oV{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new av,this.attachRef=null}}let av=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new oV,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class ZT{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Hw(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=Hw(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Uw(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Uw(t,this._root).map(n=>n.value)}}function Hw(e,t){if(e===t.value)return t;for(const n of t.children){const r=Hw(e,n);if(r)return r}return null}function Uw(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Uw(e,n);if(r.length)return r.unshift(t),r}return[]}class Df{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Pp(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class qT extends ZT{constructor(t,n){super(t),this.snapshot=n,Gw(this,t)}toString(){return this.snapshot.toString()}}function QT(e,t){const n=function aV(e,t){const h=new cy([],{},{},"",{},gr,t,null,{});return new eM("",new Df(h,[]))}(0,t),r=new ln([new Jg("",{})]),o=new ln({}),u=new ln({}),h=new ln({}),b=new ln(""),A=new kp(r,o,h,b,u,gr,t,n.root);return A.snapshot=n.root,new qT(new Df(A,[]),n)}class kp{constructor(t,n,r,o,u,h,b,A){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=u,this.outlet=h,this.component=b,this._futureSnapshot=A,this.title=this.dataSubject?.pipe(Rt(V=>V[Qg]))??Ze(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Rt(t=>Rp(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Rt(t=>Rp(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function JT(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const o=n[r],u=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function sV(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class cy{get title(){return this.data?.[Qg]}constructor(t,n,r,o,u,h,b,A,V){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=b,this.routeConfig=A,this._resolve=V}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eM extends ZT{constructor(t,n){super(n),this.url=t,Gw(this,n)}toString(){return tM(this._root)}}function Gw(e,t){t.value._routerState=e,t.children.forEach(n=>Gw(e,n))}function tM(e){const t=e.children.length>0?` { ${e.children.map(tM).join(", ")} } `:"";return`${e.value}${t}`}function zw(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,cc(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),cc(t.params,n.params)||e.paramsSubject.next(n.params),function EB(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!cc(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),cc(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Ww(e,t){const n=cc(e.params,t.params)&&function TB(e,t){return vh(e,t)&&e.every((n,r)=>cc(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Ww(e.parent,t.parent))}let jw=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=gr,this.activateEvents=new bi,this.deactivateEvents=new bi,this.attachEvents=new bi,this.detachEvents=new bi,this.parentContexts=sn(av),this.location=sn(gu),this.changeDetector=sn(Wg),this.environmentInjector=sn(rc),this.inputBinder=sn(fy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ct(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ct(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ct(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ct(4013,!1);this._activatedRoute=n;const o=this.location,h=n.snapshot.component,b=this.parentContexts.getOrCreateContext(this.name).children,A=new lV(n,b,o.injector);this.activated=o.createComponent(h,{index:o.length,injector:A,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=_n({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qa]}),e})();class lV{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===kp?this.route:t===av?this.childContexts:this.parent.get(t,n)}}const fy=new yn("");let nM=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,o=Aw([r.queryParams,r.params,r.data]).pipe(Ft(([u,h,b],A)=>(b={...u,...h,...b},0===A?Ze(b):Promise.resolve(b)))).subscribe(u=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const h=function k_(e){const t=Mr(e);if(!t)return null;const n=new Tg(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(h)for(const{templateName:b}of h.inputs)n.activatedComponentRef.setInput(b,u[b]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:e.\u0275fac}),e})();function sv(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function cV(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return sv(e,r,o);return sv(e,r)})}(e,t,n);return new Df(r,o)}{if(e.shouldAttach(t.value)){const u=e.retrieve(t.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=t.value,h.children=t.children.map(b=>sv(e,b)),h}}const r=function fV(e){return new kp(new ln(e.url),new ln(e.params),new ln(e.queryParams),new ln(e.fragment),new ln(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(u=>sv(e,u));return new Df(r,o)}}const $w="ngNavigationCancelingError";function rM(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=mh(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=iM(!1,0,t);return o.url=n,o.navigationBehaviorOptions=r,o}function iM(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[$w]=!0,r.cancellationCode=t,n&&(r.url=n),r}function oM(e){return aM(e)&&mh(e.url)}function aM(e){return e&&e[$w]}let sM=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Si({type:e,selectors:[["ng-component"]],standalone:!0,features:[i1],decls:1,vars:0,template:function(n,r){1&n&&qn(0,"router-outlet")},dependencies:[jw],encapsulation:2}),e})();function Yw(e){const t=e.children&&e.children.map(Yw),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==gr&&(n.component=sM),n}function wu(e){return e.outlet||gr}function lv(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class yV{constructor(t,n,r,o,u){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=u}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),zw(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=Pp(n);t.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,o[h],r),delete o[h]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(t,n,r){const o=t.value,u=n?n.value:null;if(o===u)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(t,n,h.children)}else this.deactivateChildRoutes(t,n,r);else u&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,u=Pp(t);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);if(r&&r.outlet){const h=r.outlet.detach(),b=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:h,route:t,contexts:b})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,u=Pp(t);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const o=Pp(n);t.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new iV(u.value.snapshot))}),t.children.length&&this.forwardEvent(new nV(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,u=n?n.value:null;if(zw(o),o===u)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,h.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const b=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(b.contexts),h.attachRef=b.componentRef,h.route=b.route.value,h.outlet&&h.outlet.attach(b.componentRef,b.route.value),zw(b.route.value),this.activateChildRoutes(t,null,h.children)}else{const b=lv(o.snapshot);h.attachRef=null,h.route=o,h.injector=b,h.outlet&&h.outlet.activateWith(o,h.injector),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,r)}}class lM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class dy{constructor(t,n){this.component=t,this.route=n}}function bV(e,t,n){const r=e._root;return uv(r,t?t._root:null,n,[r.value])}function _p(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function Nu(e){return null!==va(e)}(e)?t.get(e):e:r}function uv(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Pp(t);return e.children.forEach(h=>{(function CV(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=e.value,h=t?t.value:null,b=n?n.getContext(e.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const A=function EV(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!vh(e.url,t.url);case"pathParamsOrQueryParamsChange":return!vh(e.url,t.url)||!cc(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ww(e,t)||!cc(e.queryParams,t.queryParams);default:return!Ww(e,t)}}(h,u,u.routeConfig.runGuardsAndResolvers);A?o.canActivateChecks.push(new lM(r)):(u.data=h.data,u._resolvedData=h._resolvedData),uv(e,t,u.component?b?b.children:null:n,r,o),A&&b&&b.outlet&&b.outlet.isActivated&&o.canDeactivateChecks.push(new dy(b.outlet.component,h))}else h&&cv(t,b,o),o.canActivateChecks.push(new lM(r)),uv(e,null,u.component?b?b.children:null:n,r,o)})(h,u[h.value.outlet],n,r.concat([h.value]),o),delete u[h.value.outlet]}),Object.entries(u).forEach(([h,b])=>cv(b,n.getContext(h),o)),o}function cv(e,t,n){const r=Pp(e),o=e.value;Object.entries(r).forEach(([u,h])=>{cv(h,o.component?t?t.children.getContext(u):null:t,n)}),n.canDeactivateChecks.push(new dy(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function fv(e){return"function"==typeof e}function uM(e){return e instanceof ty||"EmptyError"===e?.name}const hy=Symbol("INITIAL_VALUE");function Fp(){return Ft(e=>Aw(e.map(t=>t.pipe(Np(1),function pB(...e){const t=vo(e);return Qe((n,r)=>{(t?Nw(e,n,t):Nw(e,n)).subscribe(r)})}(hy)))).pipe(Rt(t=>{for(const n of t)if(!0!==n){if(n===hy)return hy;if(!1===n||n instanceof Lp)return n}return!0}),Ef(t=>t!==hy),Np(1)))}function cM(e){return function et(...e){return at(e)}(os(t=>{if(mh(t))throw rM(0,t)}),Rt(t=>!0===t))}class py{constructor(t){this.segmentGroup=t||null}}class fM{constructor(t){this.urlTree=t}}function Bp(e){return Zg(new py(e))}function dM(e){return Zg(new fM(e))}class GV{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new ct(4002,!1)}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Ze(r);if(o.numberOfChildren>1||!o.children[gr])return Zg(new ct(4e3,!1));o=o.children[gr]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,o){const u=this.createSegmentGroup(t,n.root,r,o);return new Lp(u,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const b=u.substring(1);r[o]=n[b]}else r[o]=u}),r}createSegmentGroup(t,n,r,o){const u=this.createSegments(t,n.segments,r,o);let h={};return Object.entries(n.children).forEach(([b,A])=>{h[b]=this.createSegmentGroup(t,A,r,o)}),new li(u,h)}createSegments(t,n,r,o){return n.map(u=>u.path.startsWith(":")?this.findPosParam(t,u,o):this.findOrReturn(u,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new ct(4001,!1);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}const Xw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zV(e,t,n,r,o){const u=Kw(e,t,n);return u.matched?(r=function dV(e,t){return e.providers&&!e._injector&&(e._injector=Cb(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function VV(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?Ze(o.map(h=>{const b=_p(h,e);return hd(function IV(e){return e&&fv(e.canMatch)}(b)?b.canMatch(t,n):e.runInContext(()=>b(t,n)))})).pipe(Fp(),cM()):Ze(!0)}(r,t,n).pipe(Rt(h=>!0===h?u:{...Xw}))):Ze(u)}function Kw(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Xw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||CB)(n,e,t);if(!o)return{...Xw};const u={};Object.entries(o.posParams??{}).forEach(([b,A])=>{u[b]=A.path});const h=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:h,positionalParamSegments:o.posParams??{}}}function hM(e,t,n,r){return n.length>0&&function $V(e,t,n){return n.some(r=>gy(e,t,r)&&wu(r)!==gr)}(e,n,r)?{segmentGroup:new li(t,jV(r,new li(n,e.children))),slicedSegments:[]}:0===n.length&&function YV(e,t,n){return n.some(r=>gy(e,t,r))}(e,n,r)?{segmentGroup:new li(e.segments,WV(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new li(e.segments,e.children),slicedSegments:n}}function WV(e,t,n,r,o){const u={};for(const h of r)if(gy(e,n,h)&&!o[wu(h)]){const b=new li([],{});u[wu(h)]=b}return{...o,...u}}function jV(e,t){const n={};n[gr]=t;for(const r of e)if(""===r.path&&wu(r)!==gr){const o=new li([],{});n[wu(r)]=o}return n}function gy(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class qV{constructor(t,n,r,o,u,h,b){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=h,this.urlSerializer=b,this.allowRedirects=!0,this.applyRedirects=new GV(this.urlSerializer,this.urlTree)}noMatchError(t){return new ct(4002,!1)}recognize(){const t=hM(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,gr).pipe(gh(n=>{if(n instanceof fM)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof py?this.noMatchError(n):n}),Rt(n=>{const r=new cy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gr,this.rootComponentType,null,{}),o=new Df(r,n),u=new eM("",o),h=function UB(e,t,n=null,r=null){return zT(GT(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return h.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(h),this.inheritParamsAndData(u._root),{state:u,tree:h}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,gr).pipe(gh(r=>{throw r instanceof py?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=JT(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,o,!0)}processChildren(t,n,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return Fe(o).pipe(Op(u=>{const h=r.children[u],b=function vV(e,t){const n=e.filter(r=>wu(r)===t);return n.push(...e.filter(r=>wu(r)!==t)),n}(n,u);return this.processSegmentGroup(t,b,h,u)}),function mB(e,t){return Qe(function vB(e,t,n,r,o){return(u,h)=>{let b=n,A=t,V=0;u.subscribe(lt(h,Y=>{const te=V++;A=b?e(A,Y,te):(b=!0,Y),r&&h.next(A)},o&&(()=>{b&&h.next(A),h.complete()})))}}(e,t,arguments.length>=2,!0))}((u,h)=>(u.push(...h),u)),ny(null),function yB(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ef((o,u)=>e(o,u,r)):_e,Rw(1),n?ny(t):AT(()=>new ty))}(),Vi(u=>{if(null===u)return Bp(r);const h=pM(u);return function QV(e){e.sort((t,n)=>t.value.outlet===gr?-1:n.value.outlet===gr?1:t.value.outlet.localeCompare(n.value.outlet))}(h),Ze(h)}))}processSegment(t,n,r,o,u,h){return Fe(n).pipe(Op(b=>this.processSegmentAgainstRoute(b._injector??t,n,b,r,o,u,h).pipe(gh(A=>{if(A instanceof py)return Ze(null);throw A}))),ph(b=>!!b),gh(b=>{if(uM(b))return function KV(e,t,n){return 0===t.length&&!e.children[n]}(r,o,u)?Ze([]):Bp(r);throw b}))}processSegmentAgainstRoute(t,n,r,o,u,h,b){return function XV(e,t,n,r){return!!(wu(e)===r||r!==gr&&gy(t,n,e))&&("**"===e.path||Kw(t,e,n).matched)}(r,o,u,h)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,u,h,b):b&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,u,h):Bp(o):Bp(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,u,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?dM(u):this.applyRedirects.lineralizeSegments(r,u).pipe(Vi(h=>{const b=new li(h,{});return this.processSegment(t,n,b,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,u,h){const{matched:b,consumedSegments:A,remainingSegments:V,positionalParamSegments:Y}=Kw(n,o,u);if(!b)return Bp(n);const te=this.applyRedirects.applyRedirectCommands(A,o.redirectTo,Y);return o.redirectTo.startsWith("/")?dM(te):this.applyRedirects.lineralizeSegments(o,te).pipe(Vi(ve=>this.processSegment(t,r,n,ve.concat(V),h,!1)))}matchSegmentAgainstRoute(t,n,r,o,u,h){let b;if("**"===r.path){const A=o.length>0?OT(o).parameters:{};b=Ze({snapshot:new cy(o,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gM(r),wu(r),r.component??r._loadedComponent??null,r,vM(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else b=zV(n,r,o,t).pipe(Rt(({matched:A,consumedSegments:V,remainingSegments:Y,parameters:te})=>A?{snapshot:new cy(V,te,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gM(r),wu(r),r.component??r._loadedComponent??null,r,vM(r)),consumedSegments:V,remainingSegments:Y}:null));return b.pipe(Ft(A=>null===A?Bp(n):this.getChildConfig(t=r._injector??t,r,o).pipe(Ft(({routes:V})=>{const Y=r._loadedInjector??t,{snapshot:te,consumedSegments:ve,remainingSegments:Te}=A,{segmentGroup:Ue,slicedSegments:je}=hM(n,ve,Te,V);if(0===je.length&&Ue.hasChildren())return this.processChildren(Y,V,Ue).pipe(Rt(xt=>null===xt?null:[new Df(te,xt)]));if(0===V.length&&0===je.length)return Ze([new Df(te,[])]);const ft=wu(r)===u;return this.processSegment(Y,V,Ue,je,ft?gr:u,!0).pipe(Rt(xt=>[new Df(te,xt)]))}))))}getChildConfig(t,n,r){return n.children?Ze({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Ze({routes:n._loadedRoutes,injector:n._loadedInjector}):function BV(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?Ze(!0):Ze(o.map(h=>{const b=_p(h,e);return hd(function xV(e){return e&&fv(e.canLoad)}(b)?b.canLoad(t,n):e.runInContext(()=>b(t,n)))})).pipe(Fp(),cM())}(t,n,r).pipe(Vi(o=>o?this.configLoader.loadChildren(t,n).pipe(os(u=>{n._loadedRoutes=u.routes,n._loadedInjector=u.injector})):function UV(e){return Zg(iM(!1,3))}())):Ze({routes:[],injector:t})}}function JV(e){const t=e.value.routeConfig;return t&&""===t.path}function pM(e){const t=[],n=new Set;for(const r of e){if(!JV(r)){t.push(r);continue}const o=t.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=pM(r.children);t.push(new Df(r.value,o))}return t.filter(r=>!n.has(r))}function gM(e){return e.data||{}}function vM(e){return e.resolve||{}}function mM(e){return"string"==typeof e.title||null===e.title}function Zw(e){return Ft(t=>{const n=e(t);return n?Fe(n).pipe(Rt(()=>t)):Ze(t)})}const Vp=new yn("ROUTES");let qw=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=sn(Y1)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ze(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=hd(n.loadComponent()).pipe(Rt(yM),os(u=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=u}),qg(()=>{this.componentLoaders.delete(n)})),o=new IT(r,()=>new Ut).pipe(Ow());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ze({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Rt(b=>{this.onLoadEndListener&&this.onLoadEndListener(r);let A,V;return Array.isArray(b)?V=b:(A=b.create(n).injector,V=A.get(Vp,[],Mn.Self|Mn.Optional).flat()),{routes:V.map(Yw),injector:A}}),qg(()=>{this.childrenLoaders.delete(r)})),h=new IT(u,()=>new Ut).pipe(Ow());return this.childrenLoaders.set(r,h),h}loadModuleFactoryOrRoutes(n){return hd(n()).pipe(Rt(yM),Vi(r=>r instanceof n1||Array.isArray(r)?Ze(r):Fe(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function yM(e){return function aH(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let vy=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ut,this.configLoader=sn(qw),this.environmentInjector=sn(rc),this.urlSerializer=sn(ev),this.rootContexts=sn(av),this.inputBindingEnabled=null!==sn(fy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ze(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new eV(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new JB(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new ln({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:iv,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ef(r=>0!==r.id),Rt(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Ft(r=>{let o=!1,u=!1;return Ze(r).pipe(os(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ft(h=>{const b=n.browserUrlTree.toString(),A=!n.navigated||h.extractedUrl.toString()!==b||b!==n.currentUrlTree.toString();if(!A&&"reload"!==(h.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const Y="";return this.events.next(new ov(h.id,n.serializeUrl(r.rawUrl),Y,0)),n.rawUrlTree=h.rawUrl,h.resolve(null),pa}if(n.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return bM(h.source)&&(n.browserUrlTree=h.extractedUrl),Ze(h).pipe(Ft(Y=>{const te=this.transitions?.getValue();return this.events.next(new Bw(Y.id,this.urlSerializer.serialize(Y.extractedUrl),Y.source,Y.restoredState)),te!==this.transitions?.getValue()?pa:Promise.resolve(Y)}),function eH(e,t,n,r,o,u){return Vi(h=>function ZV(e,t,n,r,o,u,h="emptyOnly"){return new qV(e,t,n,r,o,h,u).recognize()}(e,t,n,r,h.extractedUrl,o,u).pipe(Rt(({state:b,tree:A})=>({...h,targetSnapshot:b,urlAfterRedirects:A}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),os(Y=>{if(r.targetSnapshot=Y.targetSnapshot,r.urlAfterRedirects=Y.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Y.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!Y.extras.skipLocationChange){const ve=n.urlHandlingStrategy.merge(Y.urlAfterRedirects,Y.rawUrl);n.setBrowserUrl(ve,Y)}n.browserUrlTree=Y.urlAfterRedirects}const te=new XB(Y.id,this.urlSerializer.serialize(Y.extractedUrl),this.urlSerializer.serialize(Y.urlAfterRedirects),Y.targetSnapshot);this.events.next(te)}));if(A&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:Y,extractedUrl:te,source:ve,restoredState:Te,extras:Ue}=h,je=new Bw(Y,this.urlSerializer.serialize(te),ve,Te);this.events.next(je);const ft=QT(0,this.rootComponentType).snapshot;return Ze(r={...h,targetSnapshot:ft,urlAfterRedirects:te,extras:{...Ue,skipLocationChange:!1,replaceUrl:!1}})}{const Y="";return this.events.next(new ov(h.id,n.serializeUrl(r.extractedUrl),Y,1)),n.rawUrlTree=h.rawUrl,h.resolve(null),pa}}),os(h=>{const b=new KB(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(b)}),Rt(h=>r={...h,guards:bV(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function NV(e,t){return Vi(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:h}}=n;return 0===h.length&&0===u.length?Ze({...n,guardsResult:!0}):function OV(e,t,n,r){return Fe(e).pipe(Vi(o=>function FV(e,t,n,r,o){const u=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return u&&0!==u.length?Ze(u.map(b=>{const A=lv(t)??o,V=_p(b,A);return hd(function MV(e){return e&&fv(e.canDeactivate)}(V)?V.canDeactivate(e,t,n,r):A.runInContext(()=>V(e,t,n,r))).pipe(ph())})).pipe(Fp()):Ze(!0)}(o.component,o.route,n,t,r)),ph(o=>!0!==o,!0))}(h,r,o,e).pipe(Vi(b=>b&&function DV(e){return"boolean"==typeof e}(b)?function RV(e,t,n,r){return Fe(t).pipe(Op(o=>Nw(function PV(e,t){return null!==e&&t&&t(new tV(e)),Ze(!0)}(o.route.parent,r),function LV(e,t){return null!==e&&t&&t(new rV(e)),Ze(!0)}(o.route,r),function _V(e,t,n){const r=t[t.length-1],u=t.slice(0,t.length-1).reverse().map(h=>function wV(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(h)).filter(h=>null!==h).map(h=>MT(()=>Ze(h.guards.map(A=>{const V=lv(h.node)??n,Y=_p(A,V);return hd(function TV(e){return e&&fv(e.canActivateChild)}(Y)?Y.canActivateChild(r,e):V.runInContext(()=>Y(r,e))).pipe(ph())})).pipe(Fp())));return Ze(u).pipe(Fp())}(e,o.path,n),function kV(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ze(!0);const o=r.map(u=>MT(()=>{const h=lv(t)??n,b=_p(u,h);return hd(function SV(e){return e&&fv(e.canActivate)}(b)?b.canActivate(t,e):h.runInContext(()=>b(t,e))).pipe(ph())}));return Ze(o).pipe(Fp())}(e,o.route,n))),ph(o=>!0!==o,!0))}(r,u,e,t):Ze(b)),Rt(b=>({...n,guardsResult:b})))})}(this.environmentInjector,h=>this.events.next(h)),os(h=>{if(r.guardsResult=h.guardsResult,mh(h.guardsResult))throw rM(0,h.guardsResult);const b=new ZB(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(b)}),Ef(h=>!!h.guardsResult||(n.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),Zw(h=>{if(h.guards.canActivateChecks.length)return Ze(h).pipe(os(b=>{const A=new qB(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(A)}),Ft(b=>{let A=!1;return Ze(b).pipe(function tH(e,t){return Vi(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return Ze(n);let u=0;return Fe(o).pipe(Op(h=>function nH(e,t,n,r){const o=e.routeConfig,u=e._resolve;return void 0!==o?.title&&!mM(o)&&(u[Qg]=o.title),function rH(e,t,n,r){const o=function iH(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===o.length)return Ze({});const u={};return Fe(o).pipe(Vi(h=>function oH(e,t,n,r){const o=lv(t)??r,u=_p(e,o);return hd(u.resolve?u.resolve(t,n):o.runInContext(()=>u(t,n)))}(e[h],t,n,r).pipe(ph(),os(b=>{u[h]=b}))),Rw(1),function bB(e){return Rt(()=>e)}(u),gh(h=>uM(h)?pa:Zg(h)))}(u,e,t,r).pipe(Rt(h=>(e._resolvedData=h,e.data=JT(e,n).resolve,o&&mM(o)&&(e.data[Qg]=o.title),null)))}(h.route,r,e,t)),os(()=>u++),Rw(1),Vi(h=>u===o.length?Ze(n):pa))})}(n.paramsInheritanceStrategy,this.environmentInjector),os({next:()=>A=!0,complete:()=>{A||(n.restoreHistory(b),this.cancelNavigationTransition(b,"",2))}}))}),os(b=>{const A=new QB(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(A)}))}),Zw(h=>{const b=A=>{const V=[];A.routeConfig?.loadComponent&&!A.routeConfig._loadedComponent&&V.push(this.configLoader.loadComponent(A.routeConfig).pipe(os(Y=>{A.component=Y}),Rt(()=>{})));for(const Y of A.children)V.push(...b(Y));return V};return Aw(b(h.targetSnapshot.root)).pipe(ny(),Np(1))}),Zw(()=>this.afterPreactivation()),Rt(h=>{const b=function uV(e,t,n){const r=sv(e,t._root,n?n._root:void 0);return new qT(r,t)}(n.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:b}}),os(h=>{n.currentUrlTree=h.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),n.routerState=h.targetRouterState,"deferred"===n.urlUpdateStrategy&&(h.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,h),n.browserUrlTree=h.urlAfterRedirects)}),((e,t,n,r)=>Rt(o=>(new yV(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,h=>this.events.next(h),this.inputBindingEnabled),Np(1),os({next:h=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new yh(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{o=!0}}),qg(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),gh(h=>{if(u=!0,aM(h)){oM(h)||(n.navigated=!0,n.restoreHistory(r,!0));const b=new uy(r.id,this.urlSerializer.serialize(r.extractedUrl),h.message,h.cancellationCode);if(this.events.next(b),oM(h)){const A=n.urlHandlingStrategy.merge(h.url,n.rawUrlTree),V={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||bM(r.source)};n.scheduleNavigation(A,iv,null,V,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const b=new Vw(r.id,this.urlSerializer.serialize(r.extractedUrl),h,r.targetSnapshot??void 0);this.events.next(b);try{r.resolve(n.errorHandler(h))}catch(A){r.reject(A)}}return pa}))}))}cancelNavigationTransition(n,r,o){const u=new uy(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(u),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function bM(e){return e!==iv}let wM=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===gr);return r}getResolvedTitleForRoute(n){return n.data[Qg]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:function(){return sn(sH)},providedIn:"root"}),e})(),sH=(()=>{class e extends wM{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(gn(yT))},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),lH=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:function(){return sn(cH)},providedIn:"root"}),e})();class uH{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let cH=(()=>{class e extends uH{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=uo(e)))(r||e)}}(),e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const my=new yn("",{providedIn:"root",factory:()=>({})});let fH=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:function(){return sn(dH)},providedIn:"root"}),e})(),dH=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var dl=(()=>((dl=dl||{})[dl.COMPLETE=0]="COMPLETE",dl[dl.FAILED=1]="FAILED",dl[dl.REDIRECTING=2]="REDIRECTING",dl))();function CM(e,t){e.events.pipe(Ef(n=>n instanceof yh||n instanceof uy||n instanceof Vw||n instanceof ov),Rt(n=>n instanceof yh||n instanceof ov?dl.COMPLETE:n instanceof uy&&(0===n.code||1===n.code)?dl.REDIRECTING:dl.FAILED),Ef(n=>n!==dl.REDIRECTING),Np(1)).subscribe(()=>{t()})}function hH(e){throw e}function pH(e,t,n){return t.parse("/")}const gH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bl=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=sn($1),this.isNgZoneEnabled=!1,this.options=sn(my,{optional:!0})||{},this.pendingTasks=sn(_m),this.errorHandler=this.options.errorHandler||hH,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||pH,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=sn(fH),this.routeReuseStrategy=sn(lH),this.titleStrategy=sn(wM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=sn(Vp,{optional:!0})?.flat()??[],this.navigationTransitions=sn(vy),this.urlSerializer=sn(ev),this.location=sn(rw),this.componentInputBindingEnabled=!!sn(fy,{optional:!0}),this.isNgZoneEnabled=sn(ho)instanceof ho&&ho.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Lp,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=QT(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),iv,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,o){const u={replaceUrl:!0},h=o?.navigationId?o:null;if(o){const A={...o};delete A.navigationId,delete A.\u0275routerPageId,0!==Object.keys(A).length&&(u.state=A)}const b=this.parseUrl(n);this.scheduleNavigation(b,r,h,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Yw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:o,queryParams:u,fragment:h,queryParamsHandling:b,preserveFragment:A}=r,V=A?this.currentUrlTree.fragment:h;let te,Y=null;switch(b){case"merge":Y={...this.currentUrlTree.queryParams,...u};break;case"preserve":Y=this.currentUrlTree.queryParams;break;default:Y=u||null}null!==Y&&(Y=this.removeEmptyProps(Y));try{te=GT(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),te=this.currentUrlTree.root}return zT(te,n,Y,V??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=mh(n)?n:this.parseUrl(n),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,iv,null,r)}navigate(n,r={skipLocationChange:!1}){return function mH(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new ct(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return r}isActive(n,r){let o;if(o=!0===r?{...gH}:!1===r?{...vH}:r,mh(n))return LT(this.currentUrlTree,n,o);const u=this.parseUrl(n);return LT(this.currentUrlTree,u,o)}removeEmptyProps(n){return Object.keys(n).reduce((r,o)=>{const u=n[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(n,r,o,u,h){if(this.disposed)return Promise.resolve(!1);let b,A,V;h?(b=h.resolve,A=h.reject,V=h.promise):V=new Promise((te,ve)=>{b=te,A=ve});const Y=this.pendingTasks.add();return CM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Y))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:u,resolve:b,reject:A,promise:V,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),V.catch(te=>Promise.reject(te))}setBrowserUrl(n,r){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const h={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",h)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(o,"",u)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),yy=(()=>{class e{constructor(n,r,o,u,h,b){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=h,this.locationStrategy=b,this.href=null,this.commands=null,this.onChanges=new Ut,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const A=h.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===A||"area"===A,this.isAnchorElement?this.subscription=n.events.subscribe(V=>{V instanceof yh&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,o,u,h){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||o||u||h||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function lE(e,t,n){return function xN(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?sE:aE}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const o=this.renderer,u=this.el.nativeElement;null!==r?o.setAttribute(u,n,r):o.removeAttribute(u,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(n){return new(n||e)(kt(Bl),kt(kp),function m(e){return function Kh(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const u=n[o];if($l(u))break;if(0===u)o+=2;else if("number"==typeof u)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(u===t)return n[o+1];o+=2}}}return null}(To(),e)}("tabindex"),kt(pf),kt(ul),kt(dh))},e.\u0275dir=_n({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&pr("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&n&&sc("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Ap],skipLocationChange:["skipLocationChange","skipLocationChange",Ap],replaceUrl:["replaceUrl","replaceUrl",Ap],routerLink:"routerLink"},standalone:!0,features:[vD,qa]}),e})();class EM{}let wH=(()=>{class e{constructor(n,r,o,u,h){this.router=n,this.injector=o,this.preloadingStrategy=u,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(Ef(n=>n instanceof yh),Op(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=Cb(u.providers,n,`Route: ${u.path}`));const h=u._injector??n,b=u._loadedInjector??h;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(h,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(b,u.children??u._loadedRoutes))}return Fe(o).pipe(vi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Ze(null);const u=o.pipe(Vi(h=>null===h?Ze(void 0):(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,this.processRoutes(h.injector??n,h.routes))));return r.loadComponent&&!r._loadedComponent?Fe([u,this.loader.loadComponent(r)]).pipe(vi()):u})}}return e.\u0275fac=function(n){return new(n||e)(gn(Bl),gn(Y1),gn(rc),gn(EM),gn(qw))},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Qw=new yn("");let DM=(()=>{class e{constructor(n,r,o,u,h={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Bw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof yh?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ov&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof KT&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new KT(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function WE(){throw new Error("invalid")}()},e.\u0275prov=Cn({token:e,factory:e.\u0275fac}),e})();function xf(e,t){return{\u0275kind:e,\u0275providers:t}}function SM(){const e=sn(ic);return t=>{const n=e.get(Ip);if(t!==n.components[0])return;const r=e.get(Bl),o=e.get(TM);1===e.get(Jw)&&r.initialNavigation(),e.get(MM,null,Mn.Optional)?.setUpPreloading(),e.get(Qw,null,Mn.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const TM=new yn("",{factory:()=>new Ut}),Jw=new yn("",{providedIn:"root",factory:()=>1}),MM=new yn("");function xH(e){return xf(0,[{provide:MM,useExisting:wH},{provide:EM,useExisting:e}])}const IM=new yn("ROUTER_FORROOT_GUARD"),TH=[rw,{provide:ev,useClass:Lw},Bl,av,{provide:kp,useFactory:function xM(e){return e.routerState.root},deps:[Bl]},qw,[]];function MH(){return new iS("Router",Bl)}let AM=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[TH,[],{provide:Vp,multi:!0,useValue:n},{provide:IM,useFactory:OH,deps:[[Bl,new Bs,new Qh]]},{provide:my,useValue:r||{}},r?.useHash?{provide:dh,useClass:H_}:{provide:dh,useClass:RS},{provide:Qw,useFactory:()=>{const e=sn(i2),t=sn(ho),n=sn(my),r=sn(vy),o=sn(ev);return n.scrollOffset&&e.setOffset(n.scrollOffset),new DM(o,r,e,t,n)}},r?.preloadingStrategy?xH(r.preloadingStrategy).\u0275providers:[],{provide:iS,multi:!0,useFactory:MH},r?.initialNavigation?RH(r):[],r?.bindToComponentInputs?xf(8,[nM,{provide:fy,useExisting:nM}]).\u0275providers:[],[{provide:NM,useFactory:SM},{provide:$b,multi:!0,useExisting:NM}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Vp,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(gn(IM,8))},e.\u0275mod=bo({type:e}),e.\u0275inj=yo({}),e})();function OH(e){return"guarded"}function RH(e){return["disabled"===e.initialNavigation?xf(3,[{provide:Bb,multi:!0,useFactory:()=>{const t=sn(Bl);return()=>{t.setUpLocationChangeListener()}}},{provide:Jw,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?xf(2,[{provide:Jw,useValue:0},{provide:Bb,multi:!0,deps:[ic],useFactory:t=>{const n=t.get(B_,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const o=t.get(Bl),u=t.get(TM);CM(o,()=>{r(!0)}),t.get(vy).afterPreactivation=()=>(r(!0),u.closed?Ze(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const NM=new yn("");function PH(e,t){1&e&&(mt(0,"div",6)(1,"ul")(2,"li")(3,"a",7),Wt(4,"Analysis"),gt()(),mt(5,"li")(6,"a",8),Wt(7,"Regression testing"),gt()(),mt(8,"li")(9,"a",9),Wt(10,"Home"),gt()()()())}let kH=(()=>{class e{constructor(n){this.hideComponentsService=n,this.isNavigationVisible=!1,this.isAllHidden=!1}toggleAll(){this.isAllHidden?this.hideComponentsService.showAllComponents("liger"):this.hideComponentsService.hideAllComponents("liger"),this.isAllHidden=!this.isAllHidden}showNavigation(){this.isNavigationVisible=!0}hideNavigation(){this.isNavigationVisible=!1}}return e.\u0275fac=function(n){return new(n||e)(kt(ET))},e.\u0275cmp=Si({type:e,selectors:[["app-navigation"]],decls:8,vars:3,consts:[[1,"navigation",3,"mouseenter","mouseleave"],[1,"switch"],["type","checkbox",3,"change"],[1,"slider"],["class","navigation-content",4,"ngIf"],[1,"page-content"],[1,"navigation-content"],["routerLink","/demo"],["routerLink","/regression"],["routerLink","/home"]],template:function(n,r){1&n&&(mt(0,"div",0),pr("mouseenter",function(){return r.showNavigation()})("mouseleave",function(){return r.hideNavigation()}),Wt(1," LiGER: "),mt(2,"label",1)(3,"input",2),pr("change",function(){return r.toggleAll()}),gt(),qn(4,"span",3),gt(),la(5,PH,11,0,"div",4),gt(),mt(6,"div",5),qn(7,"router-outlet"),gt()),2&n&&(Lg("expanded",r.isNavigationVisible),Kn(5),Qn("ngIf",r.isNavigationVisible))},dependencies:[hh,jw,yy],styles:['.navigation[_ngcontent-%COMP%]{position:fixed;left:0;top:0;width:50px;height:100vh;background-color:#fff;border:1px solid #00a9e0;transition:width .3s ease-in-out;overflow:hidden}.navigation.expanded[_ngcontent-%COMP%]{width:250px}.navigation-content[_ngcontent-%COMP%]{padding:16px;width:100%}.page-content[_ngcontent-%COMP%]{margin-left:50px;transition:margin-left .3s ease-in-out}.navigation.expanded[_ngcontent-%COMP%] ~ .page-content[_ngcontent-%COMP%]{margin-left:250px}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:square;padding-left:20px}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:2}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em;text-decoration:none;white-space:nowrap}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#2196f3;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%;transform:translate(26px)}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ccc}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(0)}']}),e})(),_H=(()=>{class e{constructor(){this.title="gswb-client"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Si({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&qn(0,"app-navigation")},dependencies:[kH]}),e})(),OM=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(kt(pf),kt(ul))},e.\u0275dir=_n({type:e}),e})(),bh=(()=>{class e extends OM{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=uo(e)))(r||e)}}(),e.\u0275dir=_n({type:e,features:[si]}),e})();const dc=new yn("NgValueAccessor"),BH={provide:dc,useExisting:Dn(()=>eC),multi:!0};let eC=(()=>{class e extends bh{writeValue(n){this.setProperty("checked",n)}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=uo(e)))(r||e)}}(),e.\u0275dir=_n({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){1&n&&pr("change",function(u){return r.onChange(u.target.checked)})("blur",function(){return r.onTouched()})},features:[Ki([BH]),si]}),e})();const VH={provide:dc,useExisting:Dn(()=>dv),multi:!0},UH=new yn("CompositionEventMode");let dv=(()=>{class e extends OM{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function HH(){const e=fd()?fd().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(kt(pf),kt(ul),kt(UH,8))},e.\u0275dir=_n({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&pr("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[Ki([VH]),si]}),e})();function pd(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function RM(e){return null!=e&&"number"==typeof e.length}const as=new yn("NgValidators"),gd=new yn("NgAsyncValidators"),GH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class tC{static min(t){return function LM(e){return t=>{if(pd(t.value)||pd(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function PM(e){return t=>{if(pd(t.value)||pd(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return function kM(e){return pd(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function _M(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function FM(e){return pd(e.value)||GH.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function BM(e){return t=>pd(t.value)||!RM(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function VM(e){return t=>RM(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function HM(e){if(!e)return by;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(pd(r.value))return null;const o=r.value;return t.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return $M(t)}static composeAsync(t){return YM(t)}}function by(e){return null}function UM(e){return null!=e}function GM(e){return Og(e)?Fe(e):e}function zM(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function WM(e,t){return t.map(n=>n(e))}function jM(e){return e.map(t=>function zH(e){return!e.validate}(t)?t:n=>t.validate(n))}function $M(e){if(!e)return null;const t=e.filter(UM);return 0==t.length?null:function(n){return zM(WM(n,t))}}function nC(e){return null!=e?$M(jM(e)):null}function YM(e){if(!e)return null;const t=e.filter(UM);return 0==t.length?null:function(n){return function FH(...e){const t=Aa(e),{args:n,keys:r}=DT(e),o=new Xe(u=>{const{length:h}=n;if(!h)return void u.complete();const b=new Array(h);let A=h,V=h;for(let Y=0;Y<h;Y++){let te=!1;na(n[Y]).subscribe(lt(u,ve=>{te||(te=!0,V--),b[Y]=ve},()=>A--,void 0,()=>{(!A||!te)&&(V||u.next(r?ST(r,b):b),u.complete())}))}});return t?o.pipe(xT(t)):o}(WM(n,t).map(GM)).pipe(Rt(zM))}}function rC(e){return null!=e?YM(jM(e)):null}function XM(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function KM(e){return e._rawValidators}function ZM(e){return e._rawAsyncValidators}function iC(e){return e?Array.isArray(e)?e:[e]:[]}function wy(e,t){return Array.isArray(e)?e.includes(t):e===t}function qM(e,t){const n=iC(t);return iC(e).forEach(o=>{wy(n,o)||n.push(o)}),n}function QM(e,t){return iC(t).filter(n=>!wy(e,n))}class JM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=nC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=rC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Ds extends JM{get formDirective(){return null}get path(){return null}}class vd extends JM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class eI{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Cy=(()=>{class e extends eI{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(kt(vd,2))},e.\u0275dir=_n({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Lg("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[si]}),e})(),tI=(()=>{class e extends eI{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(kt(Ds,10))},e.\u0275dir=_n({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Lg("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[si]}),e})();const hv="VALID",Dy="INVALID",Hp="PENDING",pv="DISABLED";function sC(e){return(xy(e)?e.validators:e)||null}function lC(e,t){return(xy(t)?t.asyncValidators:e)||null}function xy(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function rI(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new ct(1e3,"");if(!r[n])throw new ct(1001,"")}function iI(e,t,n){e._forEachChild((r,o)=>{if(void 0===n[o])throw new ct(1002,"")})}class Sy{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===hv}get invalid(){return this.status===Dy}get pending(){return this.status==Hp}get disabled(){return this.status===pv}get enabled(){return this.status!==pv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(qM(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(qM(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(QM(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(QM(t,this._rawAsyncValidators))}hasValidator(t){return wy(this._rawValidators,t)}hasAsyncValidator(t){return wy(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Hp,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=pv,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=hv,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hv||this.status===Hp)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pv:hv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Hp,this._hasOwnPendingAsyncValidator=!0;const n=GM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new bi,this.statusChanges=new bi}_calculateStatus(){return this._allControlsDisabled()?pv:this.errors?Dy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hp)?Hp:this._anyControlsHaveStatus(Dy)?Dy:hv}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){xy(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function YH(e){return Array.isArray(e)?nC(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function XH(e){return Array.isArray(e)?rC(e):e||null}(this._rawAsyncValidators)}}class gv extends Sy{constructor(t,n,r){super(sC(n),lC(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){iI(this,0,t),Object.keys(t).forEach(r=>{rI(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,u)=>{r=n(r,o,u)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class oI extends gv{}const wh=new yn("CallSetDisabledState",{providedIn:"root",factory:()=>vv}),vv="always";function Ty(e,t){return[...t.path,e]}function mv(e,t,n=vv){uC(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function ZH(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&aI(e,t)})}(e,t),function QH(e,t){const n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function qH(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&aI(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function KH(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function My(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Ay(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Iy(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function uC(e,t){const n=KM(e);null!==t.validator?e.setValidators(XM(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=ZM(e);null!==t.asyncValidator?e.setAsyncValidators(XM(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();Iy(t._rawValidators,o),Iy(t._rawAsyncValidators,o)}function Ay(e,t){let n=!1;if(null!==e){if(null!==t.validator){const o=KM(e);if(Array.isArray(o)&&o.length>0){const u=o.filter(h=>h!==t.validator);u.length!==o.length&&(n=!0,e.setValidators(u))}}if(null!==t.asyncValidator){const o=ZM(e);if(Array.isArray(o)&&o.length>0){const u=o.filter(h=>h!==t.asyncValidator);u.length!==o.length&&(n=!0,e.setAsyncValidators(u))}}}const r=()=>{};return Iy(t._rawValidators,r),Iy(t._rawAsyncValidators,r),n}function aI(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function fC(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function dC(e,t){if(!t)return null;let n,r,o;return Array.isArray(t),t.forEach(u=>{u.constructor===dv?n=u:function t3(e){return Object.getPrototypeOf(e.constructor)===bh}(u)?r=u:o=u}),o||r||n||null}function uI(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function cI(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const bv=class extends Sy{constructor(t=null,n,r){super(sC(n),lC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xy(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=cI(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){uI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){uI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){cI(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},a3={provide:vd,useExisting:Dn(()=>Ny)},hI=(()=>Promise.resolve())();let Ny=(()=>{class e extends vd{constructor(n,r,o,u,h,b){super(),this._changeDetectorRef=h,this.callSetDisabledState=b,this.control=new bv,this._registered=!1,this.name="",this.update=new bi,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=dC(0,u)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),fC(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){hI.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,o=0!==r&&Ap(r);hI.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Ty(n,this._parent):[n]}}return e.\u0275fac=function(n){return new(n||e)(kt(Ds,9),kt(as,10),kt(gd,10),kt(dc,10),kt(Wg,8),kt(wh,8))},e.\u0275dir=_n({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ki([a3]),si,qa]}),e})(),pI=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=_n({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),vI=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=bo({type:e}),e.\u0275inj=yo({}),e})();const pC=new yn("NgModelWithFormControlWarning"),d3={provide:Ds,useExisting:Dn(()=>Oy)};let Oy=(()=>{class e extends Ds{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new bi,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ay(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return mv(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){My(n.control||null,n,!1),function n3(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function lI(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,o=this.form.get(n.path);r!==o&&(My(r||null,n),(e=>e instanceof bv)(o)&&(mv(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function sI(e,t){uC(e,t)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function JH(e,t){return Ay(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){uC(this.form,this),this._oldForm&&Ay(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(n){return new(n||e)(kt(as,10),kt(gd,10),kt(wh,8))},e.\u0275dir=_n({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&pr("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ki([d3]),si,qa]}),e})();const g3={provide:vd,useExisting:Dn(()=>mC)};let mC=(()=>{class e extends vd{set isDisabled(n){}constructor(n,r,o,u,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.name=null,this.update=new bi,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=dC(0,u)}ngOnChanges(n){this._added||this._setUpControl(),fC(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Ty(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(kt(Ds,13),kt(as,10),kt(gd,10),kt(dc,10),kt(pC,8))},e.\u0275dir=_n({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ki([g3]),si,qa]}),e})();const v3={provide:dc,useExisting:Dn(()=>Ry),multi:!0};function CI(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Ry=(()=>{class e extends bh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const o=CI(this._getOptionId(n),n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function m3(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=uo(e)))(r||e)}}(),e.\u0275dir=_n({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&pr("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ki([v3]),si]}),e})(),yC=(()=>{class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(CI(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(kt(ul),kt(pf),kt(Ry,9))},e.\u0275dir=_n({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const y3={provide:dc,useExisting:Dn(()=>bC),multi:!0};function EI(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let bC=(()=>{class e extends bh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const o=n.map(u=>this._getOptionId(u));r=(u,h)=>{u._setSelected(o.indexOf(h.toString())>-1)}}else r=(o,u)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const o=[],u=r.selectedOptions;if(void 0!==u){const h=u;for(let b=0;b<h.length;b++){const V=this._getOptionValue(h[b].value);o.push(V)}}else{const h=r.options;for(let b=0;b<h.length;b++){const A=h[b];if(A.selected){const V=this._getOptionValue(A.value);o.push(V)}}}this.value=o,n(o)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function b3(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=uo(e)))(r||e)}}(),e.\u0275dir=_n({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&pr("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ki([y3]),si]}),e})(),wC=(()=>{class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(EI(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(EI(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(kt(ul),kt(pf),kt(bC,9))},e.\u0275dir=_n({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),RI=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=bo({type:e}),e.\u0275inj=yo({imports:[vI]}),e})();class LI extends Sy{constructor(t,n,r){super(sC(n),lC(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),n&&(this.controls.splice(o,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){iI(this,0,t),t.forEach((r,o)=>{rI(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function PI(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let I3=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,r=null){const o=this._reduceControls(n);let u={};return PI(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new gv(o,u)}record(n,r=null){const o=this._reduceControls(n);return new oI(o,r)}control(n,r,o){let u={};return this.useNonNullable?(PI(r)?u=r:(u.validators=r,u.asyncValidators=o),new bv(n,{...u,nonNullable:!0})):new bv(n,r,o)}array(n,r,o){const u=n.map(h=>this._createControl(h));return new LI(u,r,o)}_reduceControls(n){const r={};return Object.keys(n).forEach(o=>{r[o]=this._createControl(n[o])}),r}_createControl(n){return n instanceof bv||n instanceof Sy?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),A3=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:wh,useValue:n.callSetDisabledState??vv}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=bo({type:e}),e.\u0275inj=yo({imports:[RI]}),e})(),N3=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:pC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:wh,useValue:n.callSetDisabledState??vv}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=bo({type:e}),e.\u0275inj=yo({imports:[RI]}),e})();class Ly{}class Py{}class hc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),u=o.toLowerCase(),h=n.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(h):this.headers.set(u,[h])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof hc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new hc;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof hc?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const u=t.value;if(u){let h=this.headers.get(n);if(!h)return;h=h.filter(b=>-1===u.indexOf(b)),0===h.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,h)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(u=>u.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class O3{encodeKey(t){return kI(t)}encodeValue(t){return kI(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const L3=/%(\d[a-f0-9])/gi,P3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kI(e){return encodeURIComponent(e).replace(L3,(t,n)=>P3[n]??t)}function ky(e){return`${e}`}class md{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new O3,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function R3(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[h,b]=-1==u?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,u)),t.decodeValue(o.slice(u+1))],A=n.get(h)||[];A.push(b),n.set(h,A)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(ky):[ky(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(u=>{n.push({param:r,value:u,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new md({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(ky(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(ky(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class k3{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function _I(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function FI(e){return typeof Blob<"u"&&e instanceof Blob}function BI(e){return typeof FormData<"u"&&e instanceof FormData}class wv{constructor(t,n,r,o){let u;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function _3(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new hc),this.context||(this.context=new k3),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=n;else{const b=n.indexOf("?");this.urlWithParams=n+(-1===b?"?":b<n.length-1?"&":"")+h}}else this.params=new md,this.urlWithParams=n}serializeBody(){return null===this.body?null:_I(this.body)||FI(this.body)||BI(this.body)||function F3(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof md?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||BI(this.body)?null:FI(this.body)?this.body.type||null:_I(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof md?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,b=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let A=t.headers||this.headers,V=t.params||this.params;const Y=t.context??this.context;return void 0!==t.setHeaders&&(A=Object.keys(t.setHeaders).reduce((te,ve)=>te.set(ve,t.setHeaders[ve]),A)),t.setParams&&(V=Object.keys(t.setParams).reduce((te,ve)=>te.set(ve,t.setParams[ve]),V)),new wv(n,r,u,{params:V,headers:A,context:Y,reportProgress:b,responseType:o,withCredentials:h})}}var ea=(()=>((ea=ea||{})[ea.Sent=0]="Sent",ea[ea.UploadProgress=1]="UploadProgress",ea[ea.ResponseHeader=2]="ResponseHeader",ea[ea.DownloadProgress=3]="DownloadProgress",ea[ea.Response=4]="Response",ea[ea.User=5]="User",ea))();class EC{constructor(t,n=200,r="OK"){this.headers=t.headers||new hc,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class DC extends EC{constructor(t={}){super(t),this.type=ea.ResponseHeader}clone(t={}){return new DC({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Up extends EC{constructor(t={}){super(t),this.type=ea.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Up({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class VI extends EC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function xC(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let HI=(()=>{class e{constructor(n){this.handler=n}request(n,r,o={}){let u;if(n instanceof wv)u=n;else{let A,V;A=o.headers instanceof hc?o.headers:new hc(o.headers),o.params&&(V=o.params instanceof md?o.params:new md({fromObject:o.params})),u=new wv(n,r,void 0!==o.body?o.body:null,{headers:A,context:o.context,params:V,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=Ze(u).pipe(Op(A=>this.handler.handle(A)));if(n instanceof wv||"events"===o.observe)return h;const b=h.pipe(Ef(A=>A instanceof Up));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return b.pipe(Rt(A=>{if(null!==A.body&&!(A.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return A.body}));case"blob":return b.pipe(Rt(A=>{if(null!==A.body&&!(A.body instanceof Blob))throw new Error("Response is not a Blob.");return A.body}));case"text":return b.pipe(Rt(A=>{if(null!==A.body&&"string"!=typeof A.body)throw new Error("Response is not a string.");return A.body}));default:return b.pipe(Rt(A=>A.body))}case"response":return b;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new md).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,xC(o,r))}post(n,r,o={}){return this.request("POST",n,xC(o,r))}put(n,r,o={}){return this.request("PUT",n,xC(o,r))}}return e.\u0275fac=function(n){return new(n||e)(gn(Ly))},e.\u0275prov=Cn({token:e,factory:e.\u0275fac}),e})();function zI(e,t){return t(e)}function V3(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const U3=new yn(""),Cv=new yn(""),WI=new yn("");function G3(){let e=null;return(t,n)=>{null===e&&(e=(sn(U3,{optional:!0})??[]).reduceRight(V3,zI));const r=sn(_m),o=r.add();return e(t,n).pipe(qg(()=>r.remove(o)))}}let jI=(()=>{class e extends Ly{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=sn(_m)}handle(n){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(Cv),...this.injector.get(WI,[])]));this.chain=o.reduceRight((u,h)=>function H3(e,t,n){return(r,o)=>n.runInContext(()=>t(r,u=>e(u,o)))}(u,h,this.injector),zI)}const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(qg(()=>this.pendingTasks.remove(r)))}}return e.\u0275fac=function(n){return new(n||e)(gn(Py),gn(rc))},e.\u0275prov=Cn({token:e,factory:e.\u0275fac}),e})();const $3=/^\)\]\}',?\n/;let YI=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new ct(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Fe(r.\u0275loadImpl()):Ze(null)).pipe(Ft(()=>new Xe(u=>{const h=r.build();if(h.open(n.method,n.urlWithParams),n.withCredentials&&(h.withCredentials=!0),n.headers.forEach((je,ft)=>h.setRequestHeader(je,ft.join(","))),n.headers.has("Accept")||h.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const je=n.detectContentTypeHeader();null!==je&&h.setRequestHeader("Content-Type",je)}if(n.responseType){const je=n.responseType.toLowerCase();h.responseType="json"!==je?je:"text"}const b=n.serializeBody();let A=null;const V=()=>{if(null!==A)return A;const je=h.statusText||"OK",ft=new hc(h.getAllResponseHeaders()),xt=function Y3(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(h)||n.url;return A=new DC({headers:ft,status:h.status,statusText:je,url:xt}),A},Y=()=>{let{headers:je,status:ft,statusText:xt,url:rt}=V(),Nt=null;204!==ft&&(Nt=typeof h.response>"u"?h.responseText:h.response),0===ft&&(ft=Nt?200:0);let Pn=ft>=200&&ft<300;if("json"===n.responseType&&"string"==typeof Nt){const jn=Nt;Nt=Nt.replace($3,"");try{Nt=""!==Nt?JSON.parse(Nt):null}catch(Go){Nt=jn,Pn&&(Pn=!1,Nt={error:Go,text:Nt})}}Pn?(u.next(new Up({body:Nt,headers:je,status:ft,statusText:xt,url:rt||void 0})),u.complete()):u.error(new VI({error:Nt,headers:je,status:ft,statusText:xt,url:rt||void 0}))},te=je=>{const{url:ft}=V(),xt=new VI({error:je,status:h.status||0,statusText:h.statusText||"Unknown Error",url:ft||void 0});u.error(xt)};let ve=!1;const Te=je=>{ve||(u.next(V()),ve=!0);let ft={type:ea.DownloadProgress,loaded:je.loaded};je.lengthComputable&&(ft.total=je.total),"text"===n.responseType&&h.responseText&&(ft.partialText=h.responseText),u.next(ft)},Ue=je=>{let ft={type:ea.UploadProgress,loaded:je.loaded};je.lengthComputable&&(ft.total=je.total),u.next(ft)};return h.addEventListener("load",Y),h.addEventListener("error",te),h.addEventListener("timeout",te),h.addEventListener("abort",te),n.reportProgress&&(h.addEventListener("progress",Te),null!==b&&h.upload&&h.upload.addEventListener("progress",Ue)),h.send(b),u.next({type:ea.Sent}),()=>{h.removeEventListener("error",te),h.removeEventListener("abort",te),h.removeEventListener("load",Y),h.removeEventListener("timeout",te),n.reportProgress&&(h.removeEventListener("progress",Te),null!==b&&h.upload&&h.upload.removeEventListener("progress",Ue)),h.readyState!==h.DONE&&h.abort()}})))}}return e.\u0275fac=function(n){return new(n||e)(gn(eT))},e.\u0275prov=Cn({token:e,factory:e.\u0275fac}),e})();const SC=new yn("XSRF_ENABLED"),XI=new yn("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),KI=new yn("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ZI{}let Z3=(()=>{class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=GS(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(gn(fl),gn(ah),gn(XI))},e.\u0275prov=Cn({token:e,factory:e.\u0275fac}),e})();function q3(e,t){const n=e.url.toLowerCase();if(!sn(SC)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=sn(ZI).getToken(),o=sn(KI);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var Zi=(()=>((Zi=Zi||{})[Zi.Interceptors=0]="Interceptors",Zi[Zi.LegacyInterceptors=1]="LegacyInterceptors",Zi[Zi.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Zi[Zi.NoXsrfProtection=3]="NoXsrfProtection",Zi[Zi.JsonpSupport=4]="JsonpSupport",Zi[Zi.RequestsMadeViaParent=5]="RequestsMadeViaParent",Zi[Zi.Fetch=6]="Fetch",Zi))();function Eh(e,t){return{\u0275kind:e,\u0275providers:t}}function Q3(...e){const t=[HI,YI,jI,{provide:Ly,useExisting:jI},{provide:Py,useExisting:YI},{provide:Cv,useValue:q3,multi:!0},{provide:SC,useValue:!0},{provide:ZI,useClass:Z3}];for(const n of e)t.push(...n.\u0275providers);return function y0(e){return{\u0275providers:e}}(t)}const qI=new yn("LEGACY_INTERCEPTOR_FN");let e5=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=bo({type:e}),e.\u0275inj=yo({providers:[Q3(Eh(Zi.LegacyInterceptors,[{provide:qI,useFactory:G3},{provide:Cv,useExisting:qI,multi:!0}]))]}),e})(),Fy=(()=>{class e{constructor(n){this.http=n,this.gswbpage="http://localhost:8081",this.ligerpage="http://localhost:8080"}gswbDeduce(n){return this.http.post(`${this.gswbpage}/deduce`,n)}gswbBatchDeduce(n){return this.http.post(`${this.gswbpage}/gswb_batch_proof`,n)}ligerAnnotate(n){return this.http.post(`${this.ligerpage}/apply_rules_xle`,n)}ligerParse(n){return this.http.post(`${this.ligerpage}/parse_xle`,n)}ligerBatchAnnotate(n){return this.http.post(`${this.ligerpage}/apply_rules_to_batch`,n)}ligerBatchMultistage(n){return this.http.post(`${this.ligerpage}/multistage_to_batch`,n)}getGrammars(){return this.http.get(`${this.ligerpage}/list_grammars`)}changeGrammar(n){return this.http.post(`${this.ligerpage}/change_grammar`,n)}}return e.\u0275fac=function(n){return new(n||e)(gn(HI))},e.\u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var TC=x(656);const a5=["host"];TC.defineMode("liger",function(){return{token:function(e,t){return e.match("==>")?"rule_separator":e.match(/#[A-Za-z0-9]+/)?"liger_node_var":e.match(/%[A-Za-z0-9]+/)?"liger_val_var":e.match(/(\&|\.)/)?"liger_conjunction":e.match("//")?(e.skipToEnd(),"comment"):(e.next(),null)}}}),TC.defineMode("glue",function(){return{token:function(e,t){return e.match(":")?"rule_separator":e.match(/-o/)?"liger_node_var":e.match(/(\[|\])/)?"liger_conjunction":e.match(/(\(|\))/)?"liger_val_var":e.match(/(<|>)/)?"angular_brackets":e.match("//")?(e.skipToEnd(),"comment"):(e.next(),null)}}});let Ev=(()=>{class e{constructor(){this.defaultWidth="800px",this.defaultHeight="300px"}ngAfterViewInit(){console.log("mode is "+this.mode),this.codeMirror=TC.fromTextArea(this.host.nativeElement,{mode:this.mode,viewPortMargin:1/0}),"liger"==this.mode&&this.codeMirror.setValue("--replace(true);\n\n#a TNS-ASP #b & #a s:: #c SIT #d & #c TEMP-REF #e ==> & #e T-REF 'undefined'.\n\n//Tier 1 rules\n#a TNS-ASP #b TENSE 'past' & #a s:: #c TEMP-REF #d & #d T-REF 'undefined' ==>  #d T-REF 'past'.\n#a TNS-ASP #b TENSE 'pres' & #a s:: #c TEMP-REF #d & #d T-REF 'undefined' ==>  #d T-REF 'pres'.\n#a TNS-ASP #b TENSE 'fut' & #a s:: #c TEMP-REF #d & #d T-REF 'undefined' ==>  #d T-REF 'fut'.\n\n//#a TNS-ASP #b TENSE 'pres' & #a s:: #c ==> #c TEMP-REF #d & #d T-REF 'pres' & #d EVAL #e & #e TIME 'now'.\n//#a TNS-ASP #b TENSE 'fut' & #a s:: #c ==> #c TEMP-REF #d & #d T-REF 'fut' & #d EVAL #e & #e TIME 'now'.\n\n//Tier 2 rules\n//SOT rule\n#a T-REF 'past' &\n#a ^(TEMP-REF>s::>COMP) #b & #b !(s::>TEMP-REF) #c T-REF 'past' ==> #a T-REF 'non-future'.\n\n//Present counterfactual\n#a T-REF 'past' &\n#a ^(TEMP-REF>s::>OBJ>in_set>ADJUNCT) #b & #b VTYPE 'modal' &\n#b !(>TEMP-REF) #c T-REF 'pres' \n==> #a T-REF 'non-past'.\n\n//Aspect rules\n#a TNS-ASP #b PROG '+_' & #a s:: #c ==> #c VIEWPOINT #d & #d ASPECT 'impv' & #d A-RESTR 'ongoing'.\n#a TNS-ASP #b PROG '-_' & #a s:: #c ==> #c VIEWPOINT #d & #d ASPECT 'undefined'.\n#a TNS-ASP #b TENSE %x & #b PROG '-_' & #a s:: #c VIEWPOINT #d ASPECT 'undefined' ==> #d ASPECT 'prv' & #d A-RESTR 'bounded'.\n#a TNS-ASP #b PERF '+_' & #a s:: #c ==> #c ASP-TENSE #d & #d A-REF 'past'.\n\n//Tier 2 aspect example\n#a T-REF 'undefined' &\n#a ^(TEMP-REF) #b ^(s::>XCOMP) #c & #c !(s::>TEMP-REF) #d EVAL #e &\n#b VIEWPOINT #f ASPECT 'prv'\n==>  #a T-REF 'future' & #a EVAL #d.\n\n//Semantic interpretation\n\n//Rules for interpreting grammatical aspect\n#a s:: #b VIEWPOINT #c ==>\n#c VAR #d & #c RESTR #e &\n#c ASP-RESTR' #f.\n\n#a s:: #b VIEWPOINT #c A-RESTR 'ongoing' &\n#c VAR #d & #c RESTR #e &\n#c ASP-RESTR' #f ==>\n#f GLUE lam(S,lam(T,drs([],[rel(ongoing,T,S)]))) : (#d_s -o (#e_s -o #c_t)).\n\n#a s:: #b VIEWPOINT #c A-RESTR 'bounded' &\n#c VAR #d & #c RESTR #e &\n#c ASP-RESTR' #f ==>\n#f GLUE lam(S,lam(T,drs([],[rel(bounded,T,S)]))) : (#d_s -o (#e_s -o #c_t)).\n\n\n#a s:: #b VIEWPOINT #c ASPECT 'impv' &\n#c VAR #d & #c RESTR #e &\n#b TEMP-REF #f &\n#b SIT #g\n ==>  #c GLUE lam(M,lam(P,lam(S,drs([],[imp(merge(drs([Z],[]),app(app(M,S),Z)),app(P,Z))])))) : ((#d_s -o (#e_s -o #c_t)) -o ((#g_s -o #g_t) -o (#f_s -o #f_t))).\n\n//prv closure -- fixed \n#a s:: #b VIEWPOINT #c ASPECT 'prv' &\n#c VAR #d & #c RESTR #e &\n#b TEMP-REF #f &\n#b SIT #g\n ==>  #c GLUE lam(M,lam(P,lam(S,merge(drs([Z],[]),merge(app(app(M,S),Z),app(P,Z)))))) : ((#d_s -o (#e_s -o #c_t)) -o ((#g_s -o #g_t) -o (#f_s -o #f_t))).\n\n#a s:: #b VIEWPOINT #c ASPECT 'undefined' &\n#b TEMP-REF #f &\n#b SIT #g\n ==>  #c GLUE lam(P,lam(S,merge(drs([],[]),app(P,S)))) : ((#g_s -o #b_t) -o (#f_s -o #b_t)).\n\n//Tense values\n\n//Past reference\n#a s:: #b TEMP-REF #c T-REF 'past' & #c EVAL #d ==>\n#c T-REF' #e & #e GLUE lam(T,lam(T2,drs([],[rel(before,T,T2)]))) : (#c_s -o (#d_s -o #c_t)).\n\n//Aspectual tense\n#a s:: #b TEMP-REF #c EVAL #d &\n#b ASP-TENSE #e A-REF 'past' &\n ==>\n#e A-REF' #f & #f GLUE lam(T,lam(T2,drs([],[rel(before,T,T2)]))) :(#e_s -o (#c_s -o #e_t)) .\n\n//Present reference\n#a s:: #b TEMP-REF #c T-REF 'pres' & #c EVAL #d ==>\n#c T-REF' #e & #e GLUE lam(T,lam(T2,drs([],[rel(overlap,T,T2)]))) : (#c_s -o (#d_s -o #c_t)).\n\n//Non-future\n#a s:: #b TEMP-REF #c T-REF 'non-future' & #c EVAL #d ==>\n#c T-REF' #e & #e GLUE lam(T,lam(T2,drs([],[rel(nonfut,T,T2)]))) : (#c_s -o (#d_s -o #c_t)).\n\n\n//Non-past\n#a s:: #b TEMP-REF #c T-REF 'non-past' & #c EVAL #d ==>\n#c T-REF' #e & #e GLUE lam(T,lam(T2,drs([],[rel(nonpast,T,T2)]))) : (#c_s -o (#d_s -o #c_t)).\n\n//Future reference\n#a s:: #b TEMP-REF #c T-REF 'future' & #c EVAL #d ==>\n#c T-REF' #e & #e GLUE lam(T,lam(T2,drs([],[rel(after,T,T2)]))) : (#c_s -o (#d_s -o #c_t)).\n\n\n//absolute tense closure -- fixed \n#a s:: #b TEMP-REF #c T-REF %a & %a != 'undefined' & #c EVAL #d \n==> #c GLUE lam(T,lam(P,lam(S,merge(drs([R],[]),merge(app(app(T,R),S),app(P,R)))))) : ((#c_s -o (#d_s -o #c_t)) -o ((#c_s -o #c_t) -o (#d_s -o #d_t))).\n\n//aspectual tense closure\n#a s:: #b ASP-TENSE #c A-REF %a &\n#b TEMP-REF #e &\n %a != 'undefined'\n==> #c GLUE lam(T,lam(P,lam(S,merge(drs([R],[]),merge(app(app(T,R),S),app(P,R)))))) : ((#c_s -o (#e_s -o #c_t)) -o ((#e_s -o #b_t) -o (#e_s -o #b_t))).\n\n//unspec absolute closure\n#a s:: #b TEMP-REF #c T-REF %a & %a == 'undefined' & #c EVAL #d\n==> #c GLUE lam(P,lam(S,merge(app(P,S),drs([],[])))) : ((#c_s -o #b_t) -o (#d_s -o #b_t)).\n\n\n\n//#a s:: #b TEMP-REF #c T-REF 'pres' & #c EVAL #d ==> #c GLUE [/P_<s,t>.[/s_s.Er_s[equals(r,s) \\& P(r)]]] : ((#c -o #b) -o (#d -o #b)).\n\n// #a s:: #b ASP-TENSE #c A-REF 'past' & #b TEMP-REF #d ==>  #c GLUE [/P_<s,t>.[/s_s.Er_s[before(r,s) \\& P(r)]]] : ((#d -o #b) -o (#d -o #b)).\n\n//#a s:: #b ASP-TENSE #c A-REF 'undefined' & #b TEMP-REF #d ==>  #c GLUE [/P_<s,t>.[/s_s.P(s)]] : ((#d -o #b) -o (#d -o #b)).\n#a s:: #b ASP-TENSE #c A-REF 'undefined' & #b TEMP-REF #d ==>  #c GLUE lam(P,lam(S,merge(app(P,S),drs([],[])))) : ((#d_s -o #b_t) -o (#d_s -o #b_t)).\n"),"text"==this.mode&&this.codeMirror.setValue("John loves Mary.\n\nEvery man loved a woman.\n\nMary said that Susan was sick.\n\nIf Mary was sick, she would be sleeping.\n\nMary married a man who smiled.\n\nMary was dancing.\n\nMary seems to smile.\n\nIf Mary trained, she is sleeping.\n\nA man saw the monkey with the telescope.\n\nA woman will visit the cinema.\n\nPeter had visited the cinema.\n\nPeter wanted to visit Mary.\n\nMary gave Peter a letter.\n\n"),this.codeMirror.setOption("lineNumbers",!0)}updateContent(n){this.codeMirror&&(this.codeMirror.setValue(""),this.codeMirror.clearHistory(),this.codeMirror.setValue(n))}getContent(){return this.codeMirror.getValue()}resizeToDefault(){this.codeMirror.setSize(this.defaultWidth,this.defaultHeight)}downloadFile(n){let r=this.codeMirror.getValue(),o=new Blob([r],{type:"text/plain"}),u=window.URL.createObjectURL(o),h=document.createElement("a");h.href=u,h.download=n||"default.txt",h.click(),setTimeout(()=>window.URL.revokeObjectURL(u),1e4)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Si({type:e,selectors:[["app-editor"]],viewQuery:function(n,r){if(1&n&&Gr(a5,5),2&n){let o;Vr(o=Hr())&&(r.host=o.first)}},inputs:{id:"id",mode:"mode"},decls:9,vars:1,consts:[[1,"editor-container"],["host",""],[1,"resize",3,"click"],[3,"click"],["placeholder","Enter filename",3,"ngModel","ngModelChange"]],template:function(n,r){1&n&&(mt(0,"div",0),qn(1,"textarea",null,1),gt(),mt(3,"button",2),pr("click",function(){return r.resizeToDefault()}),Wt(4,"Resize to Default"),gt(),mt(5,"button",3),pr("click",function(){return r.downloadFile(r.filename)}),Wt(6,"Download as: "),gt(),mt(7,"input",4),pr("ngModelChange",function(u){return r.filename=u}),gt(),qn(8,"div")),2&n&&(Kn(7),Qn("ngModel",r.filename))},dependencies:[dv,Cy,Ny],styles:['.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;inset:-50px 0 0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:white}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;inset:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}\n',".CodeMirror{resize:both;max-width:100%;max-height:100%}.editor-container{position:relative;display:block;border-style:solid;border-color:#00a9e0;overflow:hidden;max-width:100%;max-height:100%;background-color:#add8e6}.cm-rule_separator{color:#0900ff;font-weight:700}.cm-liger_node_var{color:#00c4ff}.cm-liger_val_var{color:#08d700}.cm-liger_conjunction{color:red}.cm-angular_brackets{color:#d100ff}\n"],encapsulation:2}),e})();var u5=x(6100),xs=x.n(u5),c5=x(7944),By=x.n(c5),Dv=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",f5=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Dv&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}(),g5=Dv&&window.Promise?function d5(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function h5(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},f5))}};function QI(e){return e&&"[object Function]"==={}.toString.call(e)}function Dh(e,t){if(1!==e.nodeType)return[];var r=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?r[t]:r}function MC(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function xv(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Dh(e);return/(auto|scroll|overlay)/.test(t.overflow+t.overflowY+t.overflowX)?e:xv(MC(e))}function JI(e){return e&&e.referenceNode?e.referenceNode:e}var eA=Dv&&!(!window.MSInputMethodContext||!document.documentMode),tA=Dv&&/MSIE 10/.test(navigator.userAgent);function Gp(e){return 11===e?eA:10===e?tA:eA||tA}function zp(e){if(!e)return document.documentElement;for(var t=Gp(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===Dh(n,"position")?zp(n):n:e?e.ownerDocument.documentElement:document.documentElement}function IC(e){return null!==e.parentNode?IC(e.parentNode):e}function Vy(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,u=document.createRange();u.setStart(r,0),u.setEnd(o,0);var h=u.commonAncestorContainer;if(e!==h&&t!==h||r.contains(o))return function v5(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||zp(e.firstElementChild)===e)}(h)?h:zp(h);var b=IC(e);return b.host?Vy(b.host,t):Vy(e,IC(t).host)}function Wp(e){var n="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",r=e.nodeName;return"BODY"===r||"HTML"===r?(e.ownerDocument.scrollingElement||e.ownerDocument.documentElement)[n]:e[n]}function nA(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function rA(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],Gp(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function iA(e){var t=e.body,n=e.documentElement,r=Gp(10)&&getComputedStyle(n);return{height:rA("Height",t,n,r),width:rA("Width",t,n,r)}}var b5=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jp=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Vl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function yd(e){return Vl({},e,{right:e.left+e.width,bottom:e.top+e.height})}function AC(e){var t={};try{if(Gp(10)){t=e.getBoundingClientRect();var n=Wp(e,"top"),r=Wp(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch{}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},u="HTML"===e.nodeName?iA(e.ownerDocument):{},A=e.offsetWidth-(u.width||e.clientWidth||o.width),V=e.offsetHeight-(u.height||e.clientHeight||o.height);if(A||V){var Y=Dh(e);A-=nA(Y,"x"),V-=nA(Y,"y"),o.width-=A,o.height-=V}return yd(o)}function NC(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Gp(10),o="HTML"===t.nodeName,u=AC(e),h=AC(t),b=xv(e),A=Dh(t),V=parseFloat(A.borderTopWidth),Y=parseFloat(A.borderLeftWidth);n&&o&&(h.top=Math.max(h.top,0),h.left=Math.max(h.left,0));var te=yd({top:u.top-h.top-V,left:u.left-h.left-Y,width:u.width,height:u.height});if(te.marginTop=0,te.marginLeft=0,!r&&o){var ve=parseFloat(A.marginTop),Te=parseFloat(A.marginLeft);te.top-=V-ve,te.bottom-=V-ve,te.left-=Y-Te,te.right-=Y-Te,te.marginTop=ve,te.marginLeft=Te}return(r&&!n?t.contains(b):t===b&&"BODY"!==b.nodeName)&&(te=function m5(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Wp(t,"top"),o=Wp(t,"left"),u=n?-1:1;return e.top+=r*u,e.bottom+=r*u,e.left+=o*u,e.right+=o*u,e}(te,t)),te}function oA(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===Dh(e,"position"))return!0;var n=MC(e);return!!n&&oA(n)}function aA(e){if(!e||!e.parentElement||Gp())return document.documentElement;for(var t=e.parentElement;t&&"none"===Dh(t,"transform");)t=t.parentElement;return t||document.documentElement}function OC(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u={top:0,left:0},h=o?aA(e):Vy(e,JI(t));if("viewport"===r)u=function w5(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=NC(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),u=Math.max(n.clientHeight,window.innerHeight||0),h=t?0:Wp(n),b=t?0:Wp(n,"left");return yd({top:h-r.top+r.marginTop,left:b-r.left+r.marginLeft,width:o,height:u})}(h,o);else{var b=void 0;"scrollParent"===r?"BODY"===(b=xv(MC(t))).nodeName&&(b=e.ownerDocument.documentElement):b="window"===r?e.ownerDocument.documentElement:r;var A=NC(b,h,o);if("HTML"!==b.nodeName||oA(h))u=A;else{var V=iA(e.ownerDocument),Y=V.height,te=V.width;u.top+=A.top-A.marginTop,u.bottom=Y+A.top,u.left+=A.left-A.marginLeft,u.right=te+A.left}}var ve="number"==typeof(n=n||0);return u.left+=ve?n:n.left||0,u.top+=ve?n:n.top||0,u.right-=ve?n:n.right||0,u.bottom-=ve?n:n.bottom||0,u}function C5(e){return e.width*e.height}function sA(e,t,n,r,o){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var h=OC(n,r,u,o),b={top:{width:h.width,height:t.top-h.top},right:{width:h.right-t.right,height:h.height},bottom:{width:h.width,height:h.bottom-t.bottom},left:{width:t.left-h.left,height:h.height}},A=Object.keys(b).map(function(ve){return Vl({key:ve},b[ve],{area:C5(b[ve])})}).sort(function(ve,Te){return Te.area-ve.area}),V=A.filter(function(ve){return ve.width>=n.clientWidth&&ve.height>=n.clientHeight}),Y=V.length>0?V[0].key:A[0].key,te=e.split("-")[1];return Y+(te?"-"+te:"")}function lA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return NC(n,r?aA(t):Vy(t,JI(n)),r)}function uA(e){var n=e.ownerDocument.defaultView.getComputedStyle(e),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),o=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0);return{width:e.offsetWidth+o,height:e.offsetHeight+r}}function Hy(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(n){return t[n]})}function cA(e,t,n){n=n.split("-")[0];var r=uA(e),o={width:r.width,height:r.height},u=-1!==["right","left"].indexOf(n),h=u?"top":"left",b=u?"left":"top",A=u?"height":"width",V=u?"width":"height";return o[h]=t[h]+t[A]/2-r[A]/2,o[b]=n===b?t[b]-r[V]:t[Hy(b)],o}function Sv(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function fA(e,t,n){var r=void 0===n?e:e.slice(0,function E5(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(o){return o[t]===n});var r=Sv(e,function(o){return o[t]===n});return e.indexOf(r)}(e,"name",n));return r.forEach(function(o){o.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var u=o.function||o.fn;o.enabled&&QI(u)&&(t.offsets.popper=yd(t.offsets.popper),t.offsets.reference=yd(t.offsets.reference),t=u(t,o))}),t}function D5(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=lA(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=sA(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=cA(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=fA(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function dA(e,t){return e.some(function(n){return n.enabled&&n.name===t})}function RC(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],u=o?""+o+n:e;if(typeof document.body.style[u]<"u")return u}return null}function x5(){return this.state.isDestroyed=!0,dA(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[RC("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function hA(e){var t=e.ownerDocument;return t?t.defaultView:window}function pA(e,t,n,r){var o="BODY"===e.nodeName,u=o?e.ownerDocument.defaultView:e;u.addEventListener(t,n,{passive:!0}),o||pA(xv(u.parentNode),t,n,r),r.push(u)}function S5(e,t,n,r){n.updateBound=r,hA(e).addEventListener("resize",n.updateBound,{passive:!0});var o=xv(e);return pA(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function T5(){this.state.eventsEnabled||(this.state=S5(this.reference,0,this.state,this.scheduleUpdate))}function I5(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function M5(e,t){return hA(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(n){n.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}(this.reference,this.state))}function LC(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function PC(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&LC(t[n])&&(r="px"),e.style[n]=t[n]+r})}var L5=Dv&&/Firefox/i.test(navigator.userAgent);function gA(e,t,n){var r=Sv(e,function(b){return b.name===t}),o=!!r&&e.some(function(b){return b.name===n&&b.enabled&&b.order<r.order});if(!o){var u="`"+t+"`";console.warn("`"+n+"` modifier is required by "+u+" modifier in order to work, be sure to include it before "+u+"!")}return o}var vA=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],kC=vA.slice(3);function mA(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=kC.indexOf(e),r=kC.slice(n+1).concat(kC.slice(0,n));return t?r.reverse():r}var Y5={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function z5(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,u=o.reference,h=o.popper,b=-1!==["bottom","top"].indexOf(n),A=b?"left":"top",V=b?"width":"height",Y={start:jp({},A,u[A]),end:jp({},A,u[A]+u[V]-h[V])};e.offsets.popper=Vl({},h,Y[r])}return e}},offset:{order:200,enabled:!0,fn:function U5(e,t){var A,n=t.offset,o=e.offsets,u=o.popper,h=o.reference,b=e.placement.split("-")[0];return A=LC(+n)?[+n,0]:function H5(e,t,n,r){var o=[0,0],u=-1!==["right","left"].indexOf(r),h=e.split(/(\+|\-)/).map(function(Y){return Y.trim()}),b=h.indexOf(Sv(h,function(Y){return-1!==Y.search(/,|\s/)}));h[b]&&-1===h[b].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var A=/\s*,\s*|\s+/,V=-1!==b?[h.slice(0,b).concat([h[b].split(A)[0]]),[h[b].split(A)[1]].concat(h.slice(b+1))]:[h];return V=V.map(function(Y,te){var ve=(1===te?!u:u)?"height":"width",Te=!1;return Y.reduce(function(Ue,je){return""===Ue[Ue.length-1]&&-1!==["+","-"].indexOf(je)?(Ue[Ue.length-1]=je,Te=!0,Ue):Te?(Ue[Ue.length-1]+=je,Te=!1,Ue):Ue.concat(je)},[]).map(function(Ue){return function V5(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),u=+o[1],h=o[2];return u?0===h.indexOf("%")?yd("%p"===h?n:r)[t]/100*u:"vh"===h||"vw"===h?("vh"===h?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*u:u:e}(Ue,ve,t,n)})}),V.forEach(function(Y,te){Y.forEach(function(ve,Te){LC(ve)&&(o[te]+=ve*("-"===Y[Te-1]?-1:1))})}),o}(n,u,h,b),"left"===b?(u.top+=A[0],u.left-=A[1]):"right"===b?(u.top+=A[0],u.left+=A[1]):"top"===b?(u.left+=A[0],u.top-=A[1]):"bottom"===b&&(u.left+=A[0],u.top+=A[1]),e.popper=u,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function G5(e,t){var n=t.boundariesElement||zp(e.instance.popper);e.instance.reference===n&&(n=zp(n));var r=RC("transform"),o=e.instance.popper.style,u=o.top,h=o.left,b=o[r];o.top="",o.left="",o[r]="";var A=OC(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=u,o.left=h,o[r]=b,t.boundaries=A;var Y=e.offsets.popper,te={primary:function(Te){var Ue=Y[Te];return Y[Te]<A[Te]&&!t.escapeWithReference&&(Ue=Math.max(Y[Te],A[Te])),jp({},Te,Ue)},secondary:function(Te){var Ue="right"===Te?"left":"top",je=Y[Ue];return Y[Te]>A[Te]&&!t.escapeWithReference&&(je=Math.min(Y[Ue],A[Te]-("right"===Te?Y.width:Y.height))),jp({},Ue,je)}};return t.priority.forEach(function(ve){var Te=-1!==["left","top"].indexOf(ve)?"primary":"secondary";Y=Vl({},Y,te[Te](ve))}),e.offsets.popper=Y,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function B5(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],u=Math.floor,h=-1!==["top","bottom"].indexOf(o),b=h?"right":"bottom",A=h?"left":"top",V=h?"width":"height";return n[b]<u(r[A])&&(e.offsets.popper[A]=u(r[A])-n[V]),n[A]>u(r[b])&&(e.offsets.popper[A]=u(r[b])),e}},arrow:{order:500,enabled:!0,fn:function k5(e,t){var n;if(!gA(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],u=e.offsets,h=u.popper,b=u.reference,A=-1!==["left","right"].indexOf(o),V=A?"height":"width",Y=A?"Top":"Left",te=Y.toLowerCase(),ve=A?"left":"top",Te=A?"bottom":"right",Ue=uA(r)[V];b[Te]-Ue<h[te]&&(e.offsets.popper[te]-=h[te]-(b[Te]-Ue)),b[te]+Ue>h[Te]&&(e.offsets.popper[te]+=b[te]+Ue-h[Te]),e.offsets.popper=yd(e.offsets.popper);var je=b[te]+b[V]/2-Ue/2,ft=Dh(e.instance.popper),xt=parseFloat(ft["margin"+Y]),rt=parseFloat(ft["border"+Y+"Width"]),Nt=je-e.offsets.popper[te]-xt-rt;return Nt=Math.max(Math.min(h[V]-Ue,Nt),0),e.arrowElement=r,e.offsets.arrow=(jp(n={},te,Math.round(Nt)),jp(n,ve,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function F5(e,t){if(dA(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var n=OC(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=Hy(r),u=e.placement.split("-")[1]||"",h=[];switch(t.behavior){case"flip":h=[r,o];break;case"clockwise":h=mA(r);break;case"counterclockwise":h=mA(r,!0);break;default:h=t.behavior}return h.forEach(function(b,A){if(r!==b||h.length===A+1)return e;r=e.placement.split("-")[0],o=Hy(r);var V=e.offsets.popper,Y=e.offsets.reference,te=Math.floor,ve="left"===r&&te(V.right)>te(Y.left)||"right"===r&&te(V.left)<te(Y.right)||"top"===r&&te(V.bottom)>te(Y.top)||"bottom"===r&&te(V.top)<te(Y.bottom),Te=te(V.left)<te(n.left),Ue=te(V.right)>te(n.right),je=te(V.top)<te(n.top),ft=te(V.bottom)>te(n.bottom),xt="left"===r&&Te||"right"===r&&Ue||"top"===r&&je||"bottom"===r&&ft,rt=-1!==["top","bottom"].indexOf(r),jn=!!t.flipVariations&&(rt&&"start"===u&&Te||rt&&"end"===u&&Ue||!rt&&"start"===u&&je||!rt&&"end"===u&&ft)||!!t.flipVariationsByContent&&(rt&&"start"===u&&Ue||rt&&"end"===u&&Te||!rt&&"start"===u&&ft||!rt&&"end"===u&&je);(ve||xt||jn)&&(e.flipped=!0,(ve||xt)&&(r=h[A+1]),jn&&(u=function _5(e){return"end"===e?"start":"start"===e?"end":e}(u)),e.placement=r+(u?"-"+u:""),e.offsets.popper=Vl({},e.offsets.popper,cA(e.instance.popper,e.offsets.reference,e.placement)),e=fA(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function j5(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,u=r.reference,h=-1!==["left","right"].indexOf(n),b=-1===["top","left"].indexOf(n);return o[h?"left":"top"]=u[n]-(b?o[h?"width":"height"]:0),e.placement=Hy(t),e.offsets.popper=yd(o),e}},hide:{order:800,enabled:!0,fn:function W5(e){if(!gA(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=Sv(e.instance.modifiers,function(r){return"preventOverflow"===r.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function P5(e,t){var n=t.x,r=t.y,o=e.offsets.popper,u=Sv(e.instance.modifiers,function(Nt){return"applyStyle"===Nt.name}).gpuAcceleration;void 0!==u&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var Ue,je,h=void 0!==u?u:t.gpuAcceleration,b=zp(e.instance.popper),A=AC(b),V={position:o.position},Y=function R5(e,t){var n=e.offsets,r=n.popper,u=Math.round,h=Math.floor,b=function(xt){return xt},A=u(n.reference.width),V=u(r.width),Y=-1!==["left","right"].indexOf(e.placement),te=-1!==e.placement.indexOf("-"),Ue=t?Y||te||A%2==V%2?u:h:b,je=t?u:b;return{left:Ue(A%2==1&&V%2==1&&!te&&t?r.left-1:r.left),top:je(r.top),bottom:je(r.bottom),right:Ue(r.right)}}(e,window.devicePixelRatio<2||!L5),te="bottom"===n?"top":"bottom",ve="right"===r?"left":"right",Te=RC("transform");if(je="bottom"===te?"HTML"===b.nodeName?-b.clientHeight+Y.bottom:-A.height+Y.bottom:Y.top,Ue="right"===ve?"HTML"===b.nodeName?-b.clientWidth+Y.right:-A.width+Y.right:Y.left,h&&Te)V[Te]="translate3d("+Ue+"px, "+je+"px, 0)",V[te]=0,V[ve]=0,V.willChange="transform";else{var xt="right"===ve?-1:1;V[te]=je*("bottom"===te?-1:1),V[ve]=Ue*xt,V.willChange=te+", "+ve}return e.attributes=Vl({},{"x-placement":e.placement},e.attributes),e.styles=Vl({},V,e.styles),e.arrowStyles=Vl({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function N5(e){return PC(e.instance.popper,e.styles),function A5(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&PC(e.arrowElement,e.arrowStyles),e},onLoad:function O5(e,t,n,r,o){var u=lA(o,t,e,n.positionFixed),h=sA(n.placement,u,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",h),PC(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},Uy=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=g5(this.update.bind(this)),this.options=Vl({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Vl({},e.Defaults.modifiers,o.modifiers)).forEach(function(h){r.options.modifiers[h]=Vl({},e.Defaults.modifiers[h]||{},o.modifiers?o.modifiers[h]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(h){return Vl({name:h},r.options.modifiers[h])}).sort(function(h,b){return h.order-b.order}),this.modifiers.forEach(function(h){h.enabled&&QI(h.onLoad)&&h.onLoad(r.reference,r.popper,r.options,h,r.state)}),this.update();var u=this.options.eventsEnabled;u&&this.enableEventListeners(),this.state.eventsEnabled=u}return b5(e,[{key:"update",value:function(){return D5.call(this)}},{key:"destroy",value:function(){return x5.call(this)}},{key:"enableEventListeners",value:function(){return T5.call(this)}},{key:"disableEventListeners",value:function(){return I5.call(this)}}]),e}();Uy.Utils=(typeof window<"u"?window:global).PopperUtils,Uy.placements=vA,Uy.Defaults=Y5;const X5=Uy;function Ss(){return Ss=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ss.apply(this,arguments)}var Tv=typeof window<"u"&&typeof document<"u",yA=Tv?navigator.userAgent:"",bA=/MSIE |Trident\//.test(yA),wA=/UCBrowser\//.test(yA),CA=Tv&&/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,pc={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrow:!1,arrowType:"sharp",boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},placement:"top",popperOptions:{},role:"tooltip",showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,wait:null,zIndex:9999},q5=["arrow","arrowType","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],Mv=Tv?Element.prototype:{},FC=Mv.matches||Mv.matchesSelector||Mv.webkitMatchesSelector||Mv.mozMatchesSelector||Mv.msMatchesSelector;function Iv(e){return[].slice.call(e)}function Gy(e,t){return BC(e,function(n){return FC.call(n,t)})}function BC(e,t){for(;e;){if(t(e))return e;e=e.parentElement}return null}var VC={passive:!0},HC=4,UC="x-placement",GC="x-out-of-boundaries",EA="tippy-iOS",DA="tippy-active",xA="tippy-popper",SA="tippy-tooltip",TA="tippy-content",MA="tippy-backdrop",IA="tippy-arrow",AA="tippy-roundarrow",zC=".".concat(xA),Q5=".".concat(SA),J5=".".concat(TA),eU=".".concat(MA),tU=".".concat(IA),nU=".".concat(AA),bd=!1;function rU(){bd||(bd=!0,CA&&document.body.classList.add(EA),window.performance&&document.addEventListener("mousemove",OA))}var NA=0;function OA(){var e=performance.now();e-NA<20&&(bd=!1,document.removeEventListener("mousemove",OA),CA||document.body.classList.remove(EA)),NA=e}function iU(){var t=document.activeElement;t&&t.blur&&t._tippy&&t.blur()}var aU=Object.keys(pc);function zy(e,t){return{}.hasOwnProperty.call(e,t)}function Wy(e,t,n){return Array.isArray(e)?e[t]??n:e}function RA(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)};var n}function jy(e,t){return e&&e.modifiers&&e.modifiers[t]}function WC(e,t){return e.indexOf(t)>-1}function Av(e){return e instanceof Element}function LA(e){return!(!e||!zy(e,"isVirtual"))||Av(e)}function jC(e,t){return"function"==typeof e?e.apply(null,t):e}function kA(e,t){e.filter(function(n){return"flip"===n.name})[0].enabled=t}function Nv(){return document.createElement("div")}function Ov(e,t){e.forEach(function(n){n&&(n.style.transitionDuration="".concat(t,"ms"))})}function _A(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function FA(e,t){var n=Ss({},t,{content:jC(t.content,[e])},t.ignoreAttributes?{}:function sU(e){return aU.reduce(function(t,n){var r=(e.getAttribute("data-tippy-".concat(n))||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch{t[n]=r}return t},{})}(e));return(n.arrow||wA)&&(n.animateFill=!1),n}function BA(e,t){Object.keys(e).forEach(function(n){if(!zy(t,n))throw new Error("[tippy]: `".concat(n,"` is not a valid option"))})}function VA(e,t){e.innerHTML=Av(t)?t.innerHTML:t}function HA(e,t){Av(t.content)?(VA(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(e[t.allowHTML?"innerHTML":"textContent"]=t.content)}function $C(e){return{tooltip:e.querySelector(Q5),backdrop:e.querySelector(eU),content:e.querySelector(J5),arrow:e.querySelector(tU)||e.querySelector(nU)}}function UA(e){e.setAttribute("data-inertia","")}function YC(e){var t=Nv();return"round"===e?(t.className=AA,VA(t,'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>')):t.className=IA,t}function GA(){var e=Nv();return e.className=MA,e.setAttribute("data-state","hidden"),e}function zA(e,t){e.setAttribute("tabindex","-1"),t.setAttribute("data-interactive","")}function XC(e,t,n){var r=wA&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";e[t+"EventListener"](r,n)}function KC(e){var t=e.getAttribute(UC);return t?t.split("-")[0]:""}function ZC(e,t,n){n.split(" ").forEach(function(r){e.classList[t](r+"-theme")})}var CU=1,$y=[];function WA(e,t){var n=FA(e,t);if(!n.multiple&&e._tippy)return null;var r,o,u,h,b,Y,Te,Ue,ft,A=!1,V=!1,te=!1,ve=!1,je=[],xt=RA(sN,n.interactiveDebounce),rt=CU++,Nt=function vU(e,t){var n=Nv();n.className=xA,n.id="tippy-".concat(e),n.style.zIndex=""+t.zIndex,n.style.position="absolute",n.style.top="0",n.style.left="0",t.role&&n.setAttribute("role",t.role);var r=Nv();r.className=SA,r.style.maxWidth=t.maxWidth+("number"==typeof t.maxWidth?"px":""),r.setAttribute("data-size",t.size),r.setAttribute("data-animation",t.animation),r.setAttribute("data-state","hidden"),ZC(r,"add",t.theme);var o=Nv();return o.className=TA,o.setAttribute("data-state","hidden"),t.interactive&&zA(n,r),t.arrow&&r.appendChild(YC(t.arrowType)),t.animateFill&&(r.appendChild(GA()),r.setAttribute("data-animatefill","")),t.inertia&&UA(r),HA(o,t),r.appendChild(o),n.appendChild(r),n}(rt,n),Pn=$C(Nt),ut={id:rt,reference:e,popper:Nt,popperChildren:Pn,popperInstance:null,props:n,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},clearDelayTimeouts:qy,set:hN,setContent:function Y4(Ot){hN({content:Ot})},show:eE,hide:Pv,enable:function j4(){ut.state.isEnabled=!0},disable:function $4(){ut.state.isEnabled=!1},destroy:function X4(Ot){if(!ut.state.isDestroyed){V=!0,ut.state.isMounted&&Pv(0),oN(),delete e._tippy;var $n=ut.props.target;$n&&Ot&&Av(e)&&Iv(e.querySelectorAll($n)).forEach(function(or){or._tippy&&or._tippy.destroy()}),ut.popperInstance&&ut.popperInstance.destroy(),V=!1,ut.state.isDestroyed=!0}}};return e._tippy=ut,Nt._tippy=ut,iN(),n.lazy||Ky(),n.showOnInit&&Zy(),n.a11y&&!n.target&&!function dU(e){return!Av(e)||FC.call(e,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!e.hasAttribute("disabled")}(Cu())&&Cu().setAttribute("tabindex","0"),Nt.addEventListener("mouseenter",function(Ot){ut.props.interactive&&ut.state.isVisible&&"mouseenter"===r&&Zy(Ot,!0)}),Nt.addEventListener("mouseleave",function(){ut.props.interactive&&"mouseenter"===r&&document.addEventListener("mousemove",xt)}),ut;function Lv(){document.removeEventListener("mousemove",Xy)}function Yy(){document.body.removeEventListener("mouseleave",Sh),document.removeEventListener("mousemove",xt),$y=$y.filter(function(Ot){return Ot!==xt})}function Cu(){return ut.props.triggerTarget||e}function eN(){document.addEventListener("click",dN,!0)}function tN(){document.removeEventListener("click",dN,!0)}function nN(){return[ut.popperChildren.tooltip,ut.popperChildren.backdrop,ut.popperChildren.content]}function QC(){var Ot=ut.props.followCursor;return Ot&&"focus"!==r||bd&&"initial"===Ot}function rN(Ot,$n){var or=ut.popperChildren.tooltip;function go(wd){wd.target===or&&(XC(or,"remove",go),$n())}if(0===Ot)return $n();XC(or,"remove",Ue),XC(or,"add",go),Ue=go}function gc(Ot,$n){var or=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Cu().addEventListener(Ot,$n,or),je.push({eventType:Ot,handler:$n,options:or})}function iN(){ut.props.touchHold&&!ut.props.target&&(gc("touchstart",aN,VC),gc("touchend",lN,VC)),ut.props.trigger.trim().split(" ").forEach(function(Ot){if("manual"!==Ot)if(ut.props.target)switch(Ot){case"mouseenter":gc("mouseover",JC),gc("mouseout",uN);break;case"focus":gc("focusin",JC),gc("focusout",uN);break;case"click":gc(Ot,JC)}else switch(gc(Ot,aN),Ot){case"mouseenter":gc("mouseleave",lN);break;case"focus":gc(bA?"focusout":"blur",z4)}})}function oN(){je.forEach(function(Ot){var $n=Ot.eventType,or=Ot.handler,go=Ot.options;Cu().removeEventListener($n,or,go)}),je=[]}function Xy(Ot){var $n=o=Ot,or=$n.clientX,go=$n.clientY;if(ft){var wd=BC(Ot.target,function(vN){return vN===e}),Th=e.getBoundingClientRect(),kv=ut.props.followCursor,Eu="horizontal"===kv,Hl="vertical"===kv,Du=WC(["top","bottom"],KC(Nt)),Ts=Nt.getAttribute(UC),Sf=!!Ts&&!!Ts.split("-")[1],Tf=Du?Nt.offsetWidth:Nt.offsetHeight,Qy=Tf/2,pN=Du?0:Sf?Tf:Qy,gN=Du?Sf?Tf:Qy:0;(wd||!ut.props.interactive)&&(ut.popperInstance.reference=Ss({},ut.popperInstance.reference,{referenceNode:e,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:Du?Tf:0,height:Du?0:Tf,top:(Eu?Th.top:go)-pN,bottom:(Eu?Th.bottom:go)+pN,left:(Hl?Th.left:or)-gN,right:(Hl?Th.right:or)+gN}}}),ut.popperInstance.update()),"initial"===kv&&ut.state.isVisible&&Lv()}}function aN(Ot){!ut.state.isEnabled||cN(Ot)||(ut.state.isVisible||(r=Ot.type,Ot instanceof MouseEvent&&(o=Ot,$y.forEach(function($n){return $n(Ot)}))),"click"===Ot.type&&!1!==ut.props.hideOnClick&&ut.state.isVisible?Sh():Zy(Ot))}function sN(Ot){var $n=Gy(Ot.target,zC)===Nt,or=BC(Ot.target,function(go){return go===e});$n||or||function bU(e,t,n,r){if(!e)return!0;var o=n.clientX,u=n.clientY,h=r.interactiveBorder,b=r.distance;return t.top-u>("top"===e?h+b:h)||u-t.bottom>("bottom"===e?h+b:h)||t.left-o>("left"===e?h+b:h)||o-t.right>("right"===e?h+b:h)}(KC(Nt),Nt.getBoundingClientRect(),Ot,ut.props)&&(Yy(),Sh())}function lN(Ot){if(!cN(Ot)){if(ut.props.interactive)return document.body.addEventListener("mouseleave",Sh),document.addEventListener("mousemove",xt),void $y.push(xt);Sh()}}function z4(Ot){Ot.target===Cu()&&(ut.props.interactive&&Ot.relatedTarget&&Nt.contains(Ot.relatedTarget)||Sh())}function JC(Ot){Gy(Ot.target,ut.props.target)&&Zy(Ot)}function uN(Ot){Gy(Ot.target,ut.props.target)&&Sh()}function cN(Ot){var $n="ontouchstart"in window,or=WC(Ot.type,"touch"),go=ut.props.touchHold;return $n&&bd&&go&&!or||bd&&!go&&or}function fN(){!ve&&Te&&(ve=!0,Te())}function Ky(){var Ot=ut.props.popperOptions,$n=ut.popperChildren,or=$n.tooltip,go=$n.arrow,wd=jy(Ot,"preventOverflow");function Th(Eu){ut.props.flip&&!ut.props.flipOnUpdate&&(Eu.flipped&&(ut.popperInstance.options.placement=Eu.placement),kA(ut.popperInstance.modifiers,!1)),or.setAttribute(UC,Eu.placement),!1!==Eu.attributes[GC]?or.setAttribute(GC,""):or.removeAttribute(GC),Y&&Y!==Eu.placement&&te&&(or.style.transition="none",requestAnimationFrame(function(){or.style.transition=""})),Y=Eu.placement,te=ut.state.isVisible;var Hl=KC(Nt),Du=or.style;Du.top=Du.bottom=Du.left=Du.right="",Du[Hl]=function wU(e){return-(e-10)+"px"}(ut.props.distance);var Ts=wd&&void 0!==wd.padding?wd.padding:HC,Sf="number"==typeof Ts,Tf=Ss({top:Sf?Ts:Ts.top,bottom:Sf?Ts:Ts.bottom,left:Sf?Ts:Ts.left,right:Sf?Ts:Ts.right},!Sf&&Ts);Tf[Hl]=Sf?Ts+ut.props.distance:(Ts[Hl]||0)+ut.props.distance,ut.popperInstance.modifiers.filter(function(Qy){return"preventOverflow"===Qy.name})[0].padding=Tf,ft=Tf}var kv=Ss({eventsEnabled:!1,placement:ut.props.placement},Ot,{modifiers:Ss({},Ot?Ot.modifiers:{},{preventOverflow:Ss({boundariesElement:ut.props.boundary,padding:HC},wd),arrow:Ss({element:go,enabled:!!go},jy(Ot,"arrow")),flip:Ss({enabled:ut.props.flip,padding:ut.props.distance+HC,behavior:ut.props.flipBehavior},jy(Ot,"flip")),offset:Ss({offset:ut.props.offset},jy(Ot,"offset"))}),onCreate:function(Hl){Th(Hl),fN(),Ot&&Ot.onCreate&&Ot.onCreate(Hl)},onUpdate:function(Hl){Th(Hl),fN(),Ot&&Ot.onUpdate&&Ot.onUpdate(Hl)}});ut.popperInstance=new X5(e,Nt,kv)}function Zy(Ot,$n){if(qy(),!ut.state.isVisible){if(ut.props.target)return function G4(Ot){if(Ot){var $n=Gy(Ot.target,ut.props.target);$n&&!$n._tippy&&WA($n,Ss({},ut.props,{content:jC(t.content,[$n]),appendTo:t.appendTo,target:"",showOnInit:!0}))}}(Ot);if(A=!0,Ot&&!$n&&ut.props.onTrigger(ut,Ot),ut.props.wait)return ut.props.wait(ut,Ot);QC()&&!ut.state.isMounted&&(ut.popperInstance||Ky(),document.addEventListener("mousemove",Xy)),eN();var or=Wy(ut.props.delay,0,pc.delay);or?u=setTimeout(function(){eE()},or):eE()}}function Sh(){if(qy(),!ut.state.isVisible)return Lv(),void tN();A=!1;var Ot=Wy(ut.props.delay,1,pc.delay);Ot?h=setTimeout(function(){ut.state.isVisible&&Pv()},Ot):b=requestAnimationFrame(function(){Pv()})}function dN(Ot){ut.props.interactive&&Nt.contains(Ot.target)||Cu().contains(Ot.target)&&(bd||ut.state.isVisible&&WC(ut.props.trigger,"click"))||!0===ut.props.hideOnClick&&(qy(),Pv())}function qy(){clearTimeout(u),clearTimeout(h),cancelAnimationFrame(b)}function hN(Ot){BA(Ot=Ot||{},pc),oN();var $n=ut.props,or=FA(e,Ss({},ut.props,{},Ot,{ignoreAttributes:!0}));or.ignoreAttributes=zy(Ot,"ignoreAttributes")?Ot.ignoreAttributes||!1:$n.ignoreAttributes,ut.props=or,iN(),Yy(),xt=RA(sN,or.interactiveDebounce),function mU(e,t,n){var r=$C(e),o=r.tooltip,u=r.content,h=r.backdrop,b=r.arrow;e.style.zIndex=""+n.zIndex,o.setAttribute("data-size",n.size),o.setAttribute("data-animation",n.animation),o.style.maxWidth=n.maxWidth+("number"==typeof n.maxWidth?"px":""),n.role?e.setAttribute("role",n.role):e.removeAttribute("role"),t.content!==n.content&&HA(u,n),!t.animateFill&&n.animateFill?(o.appendChild(GA()),o.setAttribute("data-animatefill","")):t.animateFill&&!n.animateFill&&(o.removeChild(h),o.removeAttribute("data-animatefill")),!t.arrow&&n.arrow?o.appendChild(YC(n.arrowType)):t.arrow&&!n.arrow&&o.removeChild(b),t.arrow&&n.arrow&&t.arrowType!==n.arrowType&&o.replaceChild(YC(n.arrowType),b),!t.interactive&&n.interactive?zA(e,o):t.interactive&&!n.interactive&&function pU(e,t){e.removeAttribute("tabindex"),t.removeAttribute("data-interactive")}(e,o),!t.inertia&&n.inertia?UA(o):t.inertia&&!n.inertia&&function hU(e){e.removeAttribute("data-inertia")}(o),t.theme!==n.theme&&(ZC(o,"remove",t.theme),ZC(o,"add",n.theme))}(Nt,$n,or),ut.popperChildren=$C(Nt),ut.popperInstance&&(q5.some(function(go){return zy(Ot,go)&&Ot[go]!==$n[go]})?(ut.popperInstance.destroy(),Ky(),ut.state.isVisible&&ut.popperInstance.enableEventListeners(),ut.props.followCursor&&o&&Xy(o)):ut.popperInstance.update())}function eE(){var Ot=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wy(ut.props.duration,0,pc.duration[1]);if(!ut.state.isDestroyed&&ut.state.isEnabled&&(!bd||ut.props.touch)&&!Cu().hasAttribute("disabled")&&!1!==ut.props.onShow(ut)){eN(),Nt.style.visibility="visible",ut.state.isVisible=!0,ut.props.interactive&&Cu().classList.add(DA);var $n=nN();Ov($n.concat(Nt),0),Te=function(){if(ut.state.isVisible){var go=QC();go&&o?Xy(o):go||ut.popperInstance.update(),ut.popperChildren.backdrop&&(ut.popperChildren.content.style.transitionDelay=Math.round(Ot/12)+"ms"),ut.props.sticky&&function V4(){Ov([Nt],bA?0:ut.props.updateDuration);var Ot=e.getBoundingClientRect();!function $n(){var or=e.getBoundingClientRect();(Ot.top!==or.top||Ot.right!==or.right||Ot.bottom!==or.bottom||Ot.left!==or.left)&&ut.popperInstance.scheduleUpdate(),Ot=or,ut.state.isMounted&&requestAnimationFrame($n)}()}(),Ov([Nt],ut.props.updateDuration),Ov($n,Ot),_A($n,"visible"),function U4(Ot,$n){rN(Ot,$n)}(Ot,function(){ut.props.aria&&Cu().setAttribute("aria-".concat(ut.props.aria),Nt.id),ut.props.onShown(ut),ut.state.isShown=!0})}},function W4(){ve=!1;var Ot=QC();ut.popperInstance?(kA(ut.popperInstance.modifiers,ut.props.flip),Ot||(ut.popperInstance.reference=e,ut.popperInstance.enableEventListeners()),ut.popperInstance.scheduleUpdate()):(Ky(),Ot||ut.popperInstance.enableEventListeners());var $n=ut.props.appendTo,or="parent"===$n?e.parentNode:jC($n,[e]);or.contains(Nt)||(or.appendChild(Nt),ut.props.onMount(ut),ut.state.isMounted=!0)}()}}function Pv(){var Ot=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wy(ut.props.duration,1,pc.duration[1]);if(!ut.state.isDestroyed&&(ut.state.isEnabled||V)&&(!1!==ut.props.onHide(ut)||V)){tN(),Nt.style.visibility="hidden",ut.state.isVisible=!1,ut.state.isShown=!1,te=!1,ut.props.interactive&&Cu().classList.remove(DA);var $n=nN();Ov($n,Ot),_A($n,"hidden"),function H4(Ot,$n){rN(Ot,function(){!ut.state.isVisible&&Nt.parentNode&&Nt.parentNode.contains(Nt)&&$n()})}(Ot,function(){A||Lv(),ut.props.aria&&Cu().removeAttribute("aria-".concat(ut.props.aria)),ut.popperInstance.disableEventListeners(),ut.popperInstance.options.placement=ut.props.placement,Nt.parentNode.removeChild(Nt),ut.props.onHidden(ut),ut.state.isMounted=!1})}}}var jA=!1;function xh(e,t){BA(t||{},pc),jA||(function oU(){document.addEventListener("touchstart",rU,VC),window.addEventListener("blur",iU)}(),jA=!0);var n=Ss({},pc,{},t);(function uU(e){return"[object Object]"==={}.toString.call(e)&&!e.addEventListener})(e)&&function lU(e){var t={isVirtual:!0,attributes:e.attributes||{},contains:function(){},setAttribute:function(o,u){e.attributes[o]=u},getAttribute:function(o){return e.attributes[o]},removeAttribute:function(o){delete e.attributes[o]},hasAttribute:function(o){return o in e.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(o){e.classList.classNames[o]=!0},remove:function(o){delete e.classList.classNames[o]},contains:function(o){return o in e.classList.classNames}}};for(var n in t)e[n]=t[n]}(e);var r=function fU(e){if(LA(e))return[e];if(e instanceof NodeList)return Iv(e);if(Array.isArray(e))return e;try{return Iv(document.querySelectorAll(e))}catch{return[]}}(e).reduce(function(o,u){var h=u&&WA(u,n);return h&&o.push(h),o},[]);return LA(e)?r[0]:r}xh.version="4.3.5",xh.defaults=pc,xh.setDefaults=function(e){Object.keys(e).forEach(function(t){pc[t]=e[t]})},xh.hideAll=function yU(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.exclude,n=e.duration;Iv(document.querySelectorAll(zC)).forEach(function(r){var o=r._tippy;if(o){var u=!1;t&&(u=function cU(e){return!!e._tippy&&!FC.call(e,zC)}(t)?o.reference===t:r===t.popper),u||o.hide(n)}})},xh.group=function EU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,r=void 0===n?e[0].props.delay:n,o=t.duration,u=void 0===o?0:o,h=!1;function b(ve){h=ve,te()}function A(ve){ve._originalProps.onShow(ve),e.forEach(function(Te){Te.set({duration:u}),Te.state.isVisible&&Te.hide()}),b(!0)}function V(ve){ve._originalProps.onHide(ve),b(!1)}function Y(ve){ve._originalProps.onShown(ve),ve.set({duration:ve._originalProps.duration})}function te(){e.forEach(function(ve){ve.set({onShow:A,onShown:Y,onHide:V,delay:h?[0,Array.isArray(r)?r[1]:r]:r,duration:h?u:ve._originalProps.duration})})}e.forEach(function(ve){ve._originalProps?ve.set(ve._originalProps):ve._originalProps=Ss({},ve.props)}),te()},Tv&&setTimeout(function DU(){Iv(document.querySelectorAll("[data-tippy]")).forEach(function(e){var t=e.getAttribute("data-tippy");t&&xh(e,{content:t})})}),function xU(e){if(Tv){var t=document.createElement("style");t.type="text/css",t.textContent=e,t.setAttribute("data-tippy-stylesheet","");var n=document.head,r=n.querySelector("style,link");r?n.insertBefore(t,r):n.appendChild(t)}}('.tippy-iOS{cursor:pointer!important;-webkit-tap-highlight-color:transparent}.tippy-popper{transition-timing-function:cubic-bezier(.165,.84,.44,1);max-width:calc(100% - 8px);pointer-events:none;outline:0}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-7px;bottom:-6.5px;-webkit-transform-origin:50% 0;transform-origin:50% 0;margin:0 3px}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 3px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(-10px);transform:perspective(700px) translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(60deg);transform:perspective(700px) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=top] [data-animation=scale]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px) scale(.5);transform:translateY(-10px) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-7px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;margin:0 3px}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(10px);transform:perspective(700px) translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(-60deg);transform:perspective(700px) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=scale]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px) scale(.5);transform:translateY(10px) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-12px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%;margin:3px 0}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(-10px);transform:perspective(700px) translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(-60deg);transform:perspective(700px) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=left] [data-animation=scale]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px) scale(.5);transform:translateX(-10px) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-12px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%;margin:3px 0}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(10px);transform:perspective(700px) translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(60deg);transform:perspective(700px) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=right] [data-animation=scale]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px) scale(.5);transform:translateX(10px) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:.25rem;font-size:.875rem;padding:.3125rem .5625rem;line-height:1.4;text-align:center;background-color:#333}.tippy-tooltip[data-size=small]{padding:.1875rem .375rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.375rem .75rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:initial}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] .tippy-roundarrow path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:18px;height:7px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}');const Rv=xh;var SU=x(6827),TU=x.n(SU);xs().use(TU()),xs().use(By());const MU=[{selector:'node[node_type="input"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="cnode"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="annotation"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="proj"]',style:{width:3,"line-color":"#ccc","line-style":"dashed","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:"edge[label]",style:{label:"data(label)","text-rotation":"autorotate","text-margin-x":15,"text-margin-y":0}}],IU=[{selector:'node[color="yellow"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="red"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="blue"]',style:{content:"data(id)",color:"back",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="green"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="orange"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"orange white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'edge[edge_type="default"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="external"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","line-style":"dashed","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="parent"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}];let AU=(()=>{class e{ngAfterViewInit(){"liger"==this.graphStyle?(this.styleArray=MU,this.layout="dagre"):"glue"==this.graphStyle&&(this.styleArray=IU,this.layout="cise"),this.cy=xs()({container:document.getElementById(this.graphID),style:this.styleArray,layout:{name:this.layout}})}renderGraph(n){this.cy=xs()({container:document.getElementById(this.graphID),elements:n,style:this.styleArray,layout:{name:this.layout}}),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy),"liger"==this.graphStyle?this.createAndBindLigerPoppers():"glue"==this.graphStyle&&this.createAndBindGswbPoppers()}makeLigerPopper(n){const r=n.popperRef();n.tippy=Rv(r,{content:()=>{let o=document.createElement("div");var u=n._private.data;if(u.hasOwnProperty("avp"))for(var h in u.avp)o.innerHTML=o.innerHTML+h+" : "+u.avp[h]+"<br>";return o},trigger:"manual"})}createAndBindLigerPoppers(){this.cy.nodes().forEach(n=>{n.data().hasOwnProperty("avp")&&(this.makeLigerPopper(n),n.bind("mouseover",o=>o.target.tippy.show()),n.bind("mouseout",o=>o.target.tippy.hide()))})}makeGswbPopper(n){const r=n.popperRef();n.tippy=Rv(r,{content:()=>{let o=document.createElement("div");o.style.backgroundColor="black";var u=n._private.data;if(u.hasOwnProperty("solutions"))for(var h of u.solutions)o.innerHTML=o.innerHTML+h+"<br>";return o},trigger:"manual"})}createAndBindGswbPoppers(){this.cy.nodes().forEach(n=>{n.data().hasOwnProperty("solutions")&&(this.makeGswbPopper(n),n.bind("mouseover",o=>o.target.tippy.show()),n.bind("mouseout",o=>o.target.tippy.hide()))})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Si({type:e,selectors:[["app-sub-graph"]],inputs:{graphStyle:"graphStyle",graphID:"graphID"},decls:2,vars:1,consts:[[1,"cy",3,"id"]],template:function(n,r){1&n&&(mt(0,"div"),qn(1,"div",0),gt()),2&n&&(Kn(1),Qn("id",r.graphID))},styles:["div.cy[_ngcontent-%COMP%]{width:800px;height:600px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),e})();const NU=["subgraphVis"],OU=["subGraphDialog"];let qC=(()=>{class e{setContent(n){console.log(n),setTimeout(()=>{this.subgraphVis.renderGraph(n)},0)}showDialog(){this.subGraphDialog.nativeElement.show()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Si({type:e,selectors:[["app-sub-graph-dialog"]],viewQuery:function(n,r){if(1&n&&(Gr(NU,5),Gr(OU,5)),2&n){let o;Vr(o=Hr())&&(r.subgraphVis=o.first),Vr(o=Hr())&&(r.subGraphDialog=o.first)}},inputs:{subgraphID:"subgraphID",subgraphStyle:"subgraphStyle"},decls:7,vars:2,consts:[[1,"center-dialog"],["subGraphDialog",""],[3,"graphID","graphStyle"],["subgraphVis",""],[3,"click"]],template:function(n,r){if(1&n){const o=mf();mt(0,"dialog",0,1)(2,"div"),qn(3,"app-sub-graph",2,3),gt(),mt(5,"button",4),pr("click",function(){return tr(o),Da(du(1).close())}),Wt(6," OK "),gt()()}2&n&&(Kn(3),Qn("graphID",r.subgraphID)("graphStyle",r.subgraphStyle))},dependencies:[AU],styles:[".center-dialog[_ngcontent-%COMP%]{position:fixed;z-index:9999;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),e})();const RU=["graphContainer"],LU=["subgraphDialog"];xs().use(By());const $A=[{selector:'node[color="yellow"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="red"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="blue"]',style:{content:"data(id)",color:"back",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="green"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="orange"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"orange white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="parent"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}];let YA=(()=>{class e{constructor(){this.defaultWidth="800px",this.defaultHeight="600px"}ngAfterViewInit(){this.cy=xs()({container:document.getElementById(this.graphID),style:$A,layout:{name:"dagre"}})}handleNodeDoubleClick(n,r){console.log("Clicked node with id: ",n),setTimeout(()=>{this.subgraphDialog.setContent(r.graphElements)},0),setTimeout(()=>{this.subgraphDialog.showDialog()},0)}renderGraph(n){this.cy=xs()({container:document.getElementById(this.graphID),elements:n,style:$A,layout:{name:"dagre"}}),this.createAndBindPoppers(),this.cy.on("dblclick","node",r=>{let o=r.target,u=o.id(),h=o.data();console.log(h),h.hasOwnProperty("subgraph")&&this.handleNodeDoubleClick(u,h.subgraph)})}makePopper(n){const r=n.popperRef();n.tippy=Rv(r,{content:()=>{let o=document.createElement("div");var u=n._private.data;if(u.hasOwnProperty("solutions"))for(var h of u.solutions)o.innerHTML=o.innerHTML+h+"<br>";return o},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(n=>{n.data().hasOwnProperty("solutions")&&(this.makePopper(n),n.bind("mouseover",o=>o.target.tippy.show()),n.bind("mouseout",o=>o.target.tippy.hide()))})}resizeToDefault(){const n=this.graphContainer.nativeElement;n.style.width=this.defaultWidth,n.style.height=this.defaultHeight}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Si({type:e,selectors:[["app-gswb-graph-vis"]],viewQuery:function(n,r){if(1&n&&(Gr(RU,5),Gr(LU,5)),2&n){let o;Vr(o=Hr())&&(r.graphContainer=o.first),Vr(o=Hr())&&(r.subgraphDialog=o.first)}},inputs:{graphID:"graphID"},decls:7,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[1,"resize",3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(n,r){1&n&&(mt(0,"div"),qn(1,"div",0,1),mt(3,"button",2),pr("click",function(){return r.resizeToDefault()}),Wt(4,"Resize to Default"),gt(),qn(5,"app-sub-graph-dialog",3,4),gt()),2&n&&(Kn(1),Qn("id",r.graphID),Kn(4),Qn("subgraphID","sub"+r.graphID)("subgraphStyle","glue"))},dependencies:[qC],styles:["div.cy[_ngcontent-%COMP%]{width:760px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),e})();const PU=["editorVis"],kU=["graphVis"];function _U(e,t){1&e&&(mt(0,"div",1),qn(1,"app-editor",2,3),gt()),2&e&&(Kn(1),Qn("mode","glue"))}function FU(e,t){1&e&&(mt(0,"div",1),qn(1,"app-gswb-graph-vis",4,5),gt()),2&e&&(Kn(1),Qn("graphID","gswbCy1"))}let BU=(()=>{class e{ngAfterViewInit(){this.showEditor=!1,this.showGraph=!1}editorVisUpdateContent(n){console.log(this.editorVis),this.editorVis.updateContent(n)}graphVisUpdateContent(n){console.log(this.graphVis),this.graphVis.renderGraph(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Si({type:e,selectors:[["app-derivation-container"]],viewQuery:function(n,r){if(1&n&&(Gr(PU,5),Gr(kU,5)),2&n){let o;Vr(o=Hr())&&(r.editorVis=o.first),Vr(o=Hr())&&(r.graphVis=o.first)}},decls:4,vars:2,consts:[["class","viscontainer",4,"ngIf"],[1,"viscontainer"],[3,"mode"],["editorVis",""],[3,"graphID"],["graphVis",""]],template:function(n,r){1&n&&(mt(0,"h3"),Wt(1,"Derivation:"),gt(),la(2,_U,3,1,"div",0),la(3,FU,3,1,"div",0)),2&n&&(Kn(2),Qn("ngIf",r.showEditor),Kn(1),Qn("ngIf",r.showGraph))},dependencies:[hh,Ev,YA],styles:["div.viscontainer[_ngcontent-%COMP%]{max-width:800px}"]}),e})();const VU=["dialog"],HU=["graphVis"],UU=["editorVis"];function GU(e,t){1&e&&(mt(0,"div"),qn(1,"app-editor",4,5),gt()),2&e&&(Kn(1),Qn("mode","glue"))}function zU(e,t){1&e&&(mt(0,"div"),qn(1,"app-gswb-graph-vis",6,7),gt()),2&e&&(Kn(1),Qn("graphID","gswbCy2"))}let WU=(()=>{class e{ngAfterViewInit(){this.showEdit=!1,this.showGraph=!1}setContent(n){console.log(n),"string"==typeof n||n instanceof String?(this.showGraph=!1,this.showEdit=!0,n=n.toString(),setTimeout(()=>{this.editorVis.updateContent(n)},0)):(this.showGraph=!0,this.showEdit=!1,setTimeout(()=>{this.graphVis.renderGraph(n)},0))}showDialog(){this.dialog.nativeElement.show()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Si({type:e,selectors:[["app-dialog"]],viewQuery:function(n,r){if(1&n&&(Gr(VU,5),Gr(HU,5),Gr(UU,5)),2&n){let o;Vr(o=Hr())&&(r.dialog=o.first),Vr(o=Hr())&&(r.graphVis=o.first),Vr(o=Hr())&&(r.editorVis=o.first)}},decls:10,vars:2,consts:[[1,"center-dialog"],["dialog",""],[4,"ngIf"],[3,"click"],[3,"mode"],["editorVis",""],[3,"graphID"],["graphVis",""]],template:function(n,r){if(1&n){const o=mf();mt(0,"dialog",0,1)(2,"h3"),Wt(3,"Derivation:"),gt(),la(4,GU,3,1,"div",2),la(5,zU,3,1,"div",2),mt(6,"button",3),pr("click",function(){return tr(o),Da(du(1).close())}),Wt(7," OK "),gt()(),mt(8,"button",3),pr("click",function(){return r.showDialog()}),Wt(9,"Open in new window"),gt()}2&n&&(Kn(4),Qn("ngIf",r.showEdit),Kn(1),Qn("ngIf",r.showGraph))},dependencies:[hh,Ev,YA],styles:[".center-dialog[_ngcontent-%COMP%]{position:fixed;z-index:9999;top:50%;left:50%;transform:translate(-50%,-50%);min-width:800px;max-width:100vw}dialog[_ngcontent-%COMP%]{max-width:100vw}div[_ngcontent-%COMP%]{max-width:100%}"]}),e})(),XA=(()=>{class e{constructor(n){this.fb=n,this.gswbPreferences={prover:0,debugging:!1,outputstyle:0,parseSem:!1,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:!1,naturalDeductionStyle:0},this.gswbPreferencesForm=this.fb.group({prover:[0,tC.required],outputstyle:[0,tC.required],parseSem:[!1],explain:[!1],debugging:[!1],ndstyle:[0,tC.required]})}onSubmit(){const n={prover:this.gswbPreferencesForm.value.prover,outputstyle:this.gswbPreferencesForm.value.outputstyle,parseSem:this.gswbPreferencesForm.value.parseSem,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:this.gswbPreferencesForm.value.explain,debugging:this.gswbPreferencesForm.value.debugging,naturalDeductionStyle:this.gswbPreferencesForm.value.ndstyle};console.log("Gswb preferences: ",n),this.gswbPreferences=n}}return e.\u0275fac=function(n){return new(n||e)(kt(I3))},e.\u0275cmp=Si({type:e,selectors:[["app-gswb-settings"]],decls:49,vars:1,consts:[["novalidate","",3,"formGroup","ngSubmit"],["for","prover"],["formControlName","prover","id","prover","name","prover"],["value","0"],["value","1"],["value","2"],["value","3"],["for","outputstyle"],["formControlName","outputstyle","id","outputstyle","name","outputstyle"],["value","4"],["for","parseSem"],["type","checkbox","formControlName","parseSem","id","parseSem","name","parseSem"],["for","explain"],["type","checkbox","formControlName","explain","id","explain","name","explain"],["for","debugging"],["type","checkbox","formControlName","debugging","id","debugging","name","debugging"],["for","ndstyle"],["formControlName","ndstyle","id","ndstyle","name","ndstyle"]],template:function(n,r){1&n&&(mt(0,"h3"),Wt(1,"Settings:"),gt(),mt(2,"form",0),pr("ngSubmit",function(){return r.onSubmit()}),mt(3,"div")(4,"label",1),Wt(5,"Prover:"),gt(),mt(6,"select",2)(7,"option",3),Wt(8,"Hepple"),gt(),mt(9,"option",4),Wt(10,"Lev"),gt(),mt(11,"option",5),Wt(12,"Lev optimized "),gt(),mt(13,"option",6),Wt(14,"Multi stage proving"),gt()()(),mt(15,"div")(16,"label",7),Wt(17,"Output Style:"),gt(),mt(18,"select",8)(19,"option",3),Wt(20,"Plain"),gt(),mt(21,"option",4),Wt(22,"Prolog"),gt(),mt(23,"option",6),Wt(24,"NLTK"),gt(),mt(25,"option",9),Wt(26,"Prolog DRT"),gt()()(),mt(27,"div")(28,"label",10),qn(29,"input",11),Wt(30," Parse Semantics "),gt()(),mt(31,"div")(32,"label",12),qn(33,"input",13),Wt(34," Explanation "),gt()(),mt(35,"div")(36,"label",14),qn(37,"input",15),Wt(38," Debugging "),gt()(),mt(39,"div")(40,"label",16),Wt(41,"Natural deduction style:"),gt(),mt(42,"select",17)(43,"option",3),Wt(44,"Full semantics"),gt(),mt(45,"option",4),Wt(46,"Reduced semantics"),gt(),mt(47,"option",5),Wt(48,"No semantics"),gt()()()()),2&n&&(Kn(2),Qn("formGroup",r.gswbPreferencesForm))},dependencies:[pI,yC,wC,eC,Ry,Cy,tI,Oy,mC],styles:["form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}div[_ngcontent-%COMP%]{flex-basis:50%;margin-bottom:10px}label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:5px}select[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{width:auto;margin-right:5px}"]}),e})();const jU=["edit1"],$U=["derivation"],YU=["sem1"],XU=["log1"],KU=["dialog"],ZU=["gswbPrefs"];function qU(e,t){1&e&&(mt(0,"span"),Wt(1,"Calculate semantics"),gt())}function QU(e,t){1&e&&qn(0,"span",11)}function JU(e,t){1&e&&(mt(0,"span"),Wt(1,"Loading..."),gt())}let e4=(()=>{class e{constructor(n){this.dataService=n,this.loading=!1}calculateSemantics(){this.loading=!0,this.gswbPreferences.onSubmit();const n={premises:this.editor1.getContent(),gswbPreferences:this.gswbPreferences.gswbPreferences};this.dataService.gswbDeduce(n).subscribe(r=>{if(this.loading=!1,r.hasOwnProperty("solutions"))if(r.solutions.length>0){r.solutions.forEach(u=>{console.log(u),this.sem.updateContent(u)});let o=r.solutions.join("\n");this.sem.updateContent(o)}else this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] No solutions found.");else this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] No solutions found.");if(r.hasOwnProperty("log")&&this.log.updateContent(r.log),r.hasOwnProperty("derivation")&&this.gswbPreferences.gswbPreferences.explainFail)if(console.log(r.derivation),r.derivation.hasOwnProperty("graphElements")){console.log(r.derivation.graphElements),this.derivationContainer.showEditor=!1,this.derivationContainer.showGraph=!0;const o=r.derivation.graphElements;setTimeout(()=>{this.derivationContainer.graphVisUpdateContent(o)},0),this.dialog.setContent(o)}else this.derivationContainer.showGraph=!1,this.derivationContainer.showEditor=!0,setTimeout(()=>{this.derivationContainer.editorVisUpdateContent(r.derivation.toString())},0),this.dialog.setContent(r.derivation.toString())},r=>{console.log("ERROR: ",r),this.loading=!1,this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] An error occurred."),console.log("Sent following request: ",n)})}}return e.\u0275fac=function(n){return new(n||e)(kt(Fy))},e.\u0275cmp=Si({type:e,selectors:[["app-gswb-vis"]],viewQuery:function(n,r){if(1&n&&(Gr(jU,5),Gr($U,5),Gr(YU,5),Gr(XU,5),Gr(KU,5),Gr(ZU,5)),2&n){let o;Vr(o=Hr())&&(r.editor1=o.first),Vr(o=Hr())&&(r.derivationContainer=o.first),Vr(o=Hr())&&(r.sem=o.first),Vr(o=Hr())&&(r.log=o.first),Vr(o=Hr())&&(r.dialog=o.first),Vr(o=Hr())&&(r.gswbPreferences=o.first)}},decls:25,vars:6,consts:[[1,"editor-restr"],[3,"mode"],["edit1",""],["gswbPrefs",""],[3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["sem1",""],["log1",""],["derivation",""],["dialog",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(n,r){1&n&&(mt(0,"h3"),Wt(1," Meaning constructors:\n"),gt(),mt(2,"div",0),qn(3,"app-editor",1,2),gt(),qn(5,"app-gswb-settings",null,3),mt(7,"button",4),pr("click",function(){return r.calculateSemantics()}),la(8,qU,2,0,"span",5),la(9,QU,1,0,"span",6),la(10,JU,2,0,"span",5),gt(),mt(11,"h3"),Wt(12," Semantics: "),gt(),mt(13,"div",0),qn(14,"app-editor",1,7),gt(),mt(16,"h3"),Wt(17,"Log:"),gt(),mt(18,"div",0),qn(19,"app-editor",1,8),gt(),qn(21,"app-derivation-container",null,9)(23,"app-dialog",null,10)),2&n&&(Kn(3),Qn("mode","glue"),Kn(5),Qn("ngIf",!r.loading),Kn(1),Qn("ngIf",r.loading),Kn(1),Qn("ngIf",r.loading),Kn(4),Qn("mode","glue"),Kn(5),Qn("mode","glue"))},dependencies:[hh,Ev,BU,WU,XA],styles:[".spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}"]}),e})(),t4=(()=>{class e{constructor(){this.delete=new bi,this.calculateFromRule=new bi}onDelete(){this.delete.emit(this.data)}calculate(){this.calculateFromRule.emit(this.data)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Si({type:e,selectors:[["app-rule-list-element"]],inputs:{data:"data"},outputs:{delete:"delete",calculateFromRule:"calculateFromRule"},decls:7,vars:3,consts:[[1,"rule"],[3,"ngModel","ngModelChange"],[3,"click"]],template:function(n,r){1&n&&(mt(0,"div",0)(1,"textarea",1),pr("ngModelChange",function(u){return r.data.rule.rule=u}),Wt(2," "),gt(),mt(3,"button",2),pr("click",function(){return r.calculate()}),Wt(4),gt(),mt(5,"button",2),pr("click",function(){return r.onDelete()}),Wt(6,"Delete"),gt()()),2&n&&(Kn(1),Qn("ngModel",r.data.rule.rule),Kn(3),db(" Calculate graph at rule: ",r.data.rule.index," (line ",r.data.rule.lineNumber,") "))},dependencies:[dv,Cy,Ny],styles:["div.rule[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{width:100%;resize:none}"]}),e})();function n4(e,t){if(1&e){const n=mf();mt(0,"div",1)(1,"app-rule-list-element",2),pr("delete",function(){const u=tr(n).index;return Da(Rg().removeElement(u))})("calculateFromRule",function(o){return tr(n),Da(Rg().calculateFromRuleList(o))}),gt()()}if(2&e){const n=t.$implicit;Kn(1),Qn("data",n)}}let r4=(()=>{class e{constructor(){this.elements=[],this.delete=new bi,this.calculateFromRule=new bi}addElement(n){this.elements.push(n),console.log(n)}removeElement(n){n>=0&&n<this.elements.length&&this.elements.splice(n,1)}calculateFromRuleList(n){this.calculateFromRule.emit(n)}clearList(){this.elements=[]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Si({type:e,selectors:[["app-rule-list"]],outputs:{delete:"delete",calculateFromRule:"calculateFromRule"},decls:2,vars:1,consts:[["class","rule-container",4,"ngFor","ngForOf"],[1,"rule-container"],[3,"data","delete","calculateFromRule"]],template:function(n,r){1&n&&(mt(0,"div"),la(1,n4,2,1,"div",0),gt()),2&n&&(Kn(1),Qn("ngForOf",r.elements))},dependencies:[pw,t4],styles:["div[_ngcontent-%COMP%]{width:800px;border:2px solid #00a9e0;margin:5px;overflow:auto;box-sizing:border-box}div.rule-container[_ngcontent-%COMP%]{width:100%;column-gap:20px;padding:5px;border:2px solid #00a9e0;align-items:flex-start;box-sizing:border-box}"]}),e})();var i4=x(3848),KA=x.n(i4);const o4=["graphContainer"],a4=["subgraphDialog"];xs().use(By()),xs().use(KA());const ZA=[{selector:'node[node_type="input"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="cnode"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="annotation"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="proj"]',style:{width:3,"line-color":"#ccc","line-style":"dashed","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:"edge[label]",style:{label:"data(label)","text-rotation":"autorotate","text-margin-x":15,"text-margin-y":0}}];let s4=(()=>{class e{constructor(){this.nodesHidden=!1,this.selector='node[node_type="cnode"]',this.defaultWidth="800px",this.defaultHeight="600px"}ngOnInit(){this.cy=xs()({container:document.getElementById("cy"),style:ZA,layout:{name:"dagre"}})}makePopper(n){const r=n.popperRef();n.tippy=Rv(r,{content:()=>{let o=document.createElement("div");var u=n._private.data;if(u.hasOwnProperty("avp"))for(var h in u.avp)o.innerHTML=o.innerHTML+h+" : "+u.avp[h]+"<br>";return o},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(n=>{n.data().hasOwnProperty("avp")&&(this.makePopper(n),n.bind("mouseover",o=>o.target.tippy.show()),n.bind("mouseout",o=>o.target.tippy.hide()))})}renderGraph(n){this.cy=xs()({container:document.getElementById(this.graphID),elements:n,style:ZA,layout:{name:"dagre"}}),this.createAndBindPoppers(),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy)}resizeToDefault(){const n=this.graphContainer.nativeElement;n.style.width=this.defaultWidth,n.style.height=this.defaultHeight}showDialog(){this.subgraphDialog.setContent(this.cy.data()),this.subgraphDialog.showDialog()}toggleNodes(){const n=this.cy.nodes(this.selector);this.cy.batch(()=>{n.style("display",this.nodesHidden?"element":"none"),this.nodesHidden=!this.nodesHidden})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Si({type:e,selectors:[["app-graph-vis"]],viewQuery:function(n,r){if(1&n&&(Gr(o4,5),Gr(a4,5)),2&n){let o;Vr(o=Hr())&&(r.graphContainer=o.first),Vr(o=Hr())&&(r.subgraphDialog=o.first)}},inputs:{graphID:"graphID"},decls:9,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(n,r){1&n&&(mt(0,"div"),qn(1,"div",0,1),mt(3,"button",2),pr("click",function(){return r.resizeToDefault()}),Wt(4,"Resize to Default"),gt(),mt(5,"button",2),pr("click",function(){return r.toggleNodes()}),Wt(6,"Toggle c-structure"),gt(),qn(7,"app-sub-graph-dialog",3,4),gt()),2&n&&(Kn(1),Qn("id",r.graphID),Kn(6),Qn("subgraphID","sub"+r.graphID)("subgraphStyle","liger"))},dependencies:[qC],styles:["div.cy[_ngcontent-%COMP%]{width:760px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),e})();const l4=["*"];let qA=(()=>{class e{constructor(n){this.hideComponentService=n,this.showText="Show Content",this.hideText="Hide Content",this.isHidden=!1}ngOnInit(){this.hideSubscription=this.hideComponentService.toggleObservable.subscribe(n=>{if(!n.type||n.type===this.type)switch(n.action){case bu.Hide:this.isHidden=!0;break;case bu.Show:this.isHidden=!1}})}ngOnDestroy(){this.hideSubscription.unsubscribe()}toggleDisplay(){this.isHidden=!this.isHidden}}return e.\u0275fac=function(n){return new(n||e)(kt(ET))},e.\u0275cmp=Si({type:e,selectors:[["app-toggle-display"]],inputs:{type:"type",showText:"showText",hideText:"hideText"},ngContentSelectors:l4,decls:4,vars:3,consts:[[1,"hide-button",3,"click"]],template:function(n,r){1&n&&(function VD(e){const t=It()[Mi][ro];if(!t.projection){const r=t.projection=Ni(e?e.length:1,null),o=r.slice();let u=t.child;for(;null!==u;){const h=e?VR(u,e):0;null!==h&&(o[h]?o[h].projectionNext=u:r[h]=u,o[h]=u),u=u.next}}}(),mt(0,"div"),function HD(e,t=0,n){const r=It(),o=ur(),u=dp(o,on+e,16,null,n||null);null===u.projection&&(u.projection=t),Yi(),(!r[Jn]||So())&&32!=(32&u.flags)&&function bn(e,t,n){tn(t[Vn],0,t,n,Ye(e,n,t),Tt(n.parent||t[ro],n,t))}(o,r,u)}(1),gt(),mt(2,"button",0),pr("click",function(){return r.toggleDisplay()}),Wt(3),gt()),2&n&&(ub("display",r.isHidden?"none":"block"),Kn(3),fb(r.isHidden?r.showText:r.hideText))},encapsulation:2}),e})();const u4=["grammarListSelector"],c4=["statusMessage"];function f4(e,t){if(1&e&&(mt(0,"option",5),Wt(1),gt()),2&e){const n=t.$implicit;Qn("value",n),Kn(1),kg(" ",n," ")}}let QA=(()=>{class e{constructor(n,r){this.dataService=n,this.cd=r,this.grammarList=[],this.defaultGrammar="/grammars/hybrid-drt-tense.lfg.glue",this.currentStatusMessage=""}ngOnInit(){this.getGrammars().subscribe(()=>{this.grammarList.includes(this.defaultGrammar)&&this.updateGrammar(this.defaultGrammar)},n=>{console.log("ERROR: ",n)})}getGrammars(){return console.log("Getting grammars"),this.dataService.getGrammars().pipe(os(n=>{n.hasOwnProperty("grammarList")&&(this.grammarList=n.grammarList)}))}updateGrammar(n){console.log("Changing grammar to: "+this.grammarListSelector.nativeElement.value),this.dataService.changeGrammar({grammar:n}).subscribe(r=>{console.log(r),r.hasOwnProperty("grammar")?"success"===r.grammar&&(console.log("Successfully changed grammar to: "+n),this.grammarListSelector.nativeElement.value=n,this.currentStatusMessage="Currently loaded grammar: "+n,this.cd.detectChanges()):this.currentStatusMessage="Failed to load grammar: "+n},r=>{console.log("ERROR: ",r),this.currentStatusMessage="Failed to load grammar: "+n})}}return e.\u0275fac=function(n){return new(n||e)(kt(Fy),kt(Wg))},e.\u0275cmp=Si({type:e,selectors:[["app-grammar-loader"]],viewQuery:function(n,r){if(1&n&&(Gr(u4,5),Gr(c4,5)),2&n){let o;Vr(o=Hr())&&(r.grammarListSelector=o.first),Vr(o=Hr())&&(r.statusMessageDiv=o.first)}},decls:9,vars:2,consts:[["grammarListSelector",""],[3,"value",4,"ngFor","ngForOf"],[3,"click"],[1,"status-message"],["statusMessage",""],[3,"value"]],template:function(n,r){if(1&n){const o=mf();mt(0,"div")(1,"select",null,0),la(3,f4,2,2,"option",1),gt(),mt(4,"button",2),pr("click",function(){tr(o);const h=du(2);return Da(r.updateGrammar(h.value))}),Wt(5,"Update"),gt()(),mt(6,"div",3,4),Wt(8),gt()}2&n&&(Kn(3),Qn("ngForOf",r.grammarList),Kn(5),kg(" ",r.currentStatusMessage,"\n"))},dependencies:[pw,yC,wC],styles:[".status-message[_ngcontent-%COMP%]{color:red}"]}),e})();const d4=["edit1"],h4=["rl1"],p4=["cy1"],g4=["textareaElement"],v4=["errorhandle"];function m4(e,t){1&e&&(mt(0,"span"),Wt(1,"Parse and rewrite"),gt())}function y4(e,t){1&e&&qn(0,"span",18)}function b4(e,t){1&e&&(mt(0,"span"),Wt(1,"Loading..."),gt())}function w4(e,t){1&e&&(mt(0,"span"),Wt(1,"Extract multi-stage"),gt())}function C4(e,t){1&e&&qn(0,"span",18)}function E4(e,t){1&e&&(mt(0,"span"),Wt(1,"Loading..."),gt())}let D4=(()=>{class e{constructor(n){this.dataService=n,this.defaultValue="Every man hugged a woman.",this.changeDetector=new bi,this.loading=!1}analyzeSentence(n,r){this.loading=!0,this.errorhandle.nativeElement.innerHTML="",this.dataService.ligerAnnotate({sentence:n,ruleString:r}).subscribe(h=>{if(this.loading=!1,this.errorhandle.nativeElement.innerHTML="",h.hasOwnProperty("graph")?h.graph.hasOwnProperty("graphElements")&&(0!=h.graph.graphElements.length?(console.log(h.graph.graphElements),this.cy1.renderGraph(h.graph.graphElements),this.graphElements=h.graph.graphElements,this.displayMessage("Parsing successful...","green")):this.displayMessage("Parsing failed...","red")):this.displayMessage("Parsing failed...","red"),h.hasOwnProperty("appliedRules")&&null!==h.appliedRules){console.log(h.appliedRules),this.rulelist1.clearList();for(let b=0;b<h.appliedRules.length;b++)this.rulelist1.addElement({rule:h.appliedRules[b],index:b})}h.hasOwnProperty("meaningConstructors")&&(console.log(h.meaningConstructors),this.meaningConstructors=h.meaningConstructors,this.changeDetector.emit(h.meaningConstructors))},h=>{this.loading=!1,console.log("ERROR: ",h),this.displayMessage("An error occurred...","red")})}parseSentence(n,r){const o=n;this.errorhandle.nativeElement.innerHTML="",this.loading=!0,this.dataService.ligerParse({sentence:o,ruleString:""}).subscribe(h=>{this.loading=!1,h.hasOwnProperty("graph")?h.graph.hasOwnProperty("graphElements")&&(0!=h.graph.graphElements.length?(console.log(h.graph.graphElements),this.cy1.renderGraph(h.graph.graphElements),this.graphElements=h.graph.graphElements):this.displayMessage("Parsing failed...","red")):this.displayMessage("Parsing failed...","red"),h.hasOwnProperty("meaningConstructors")&&(console.log(h.meaningConstructors),this.meaningConstructors=h.meaningConstructors,this.changeDetector.emit(h.meaningConstructors))},h=>{console.log("ERROR: ",h),this.displayMessage("An error occurred...","red"),this.loading=!1})}calculateFromRuleList(n){let r=[];for(let u=0;u<=n.index;u++)r.push(this.rulelist1.elements[u].rule);console.log("New rules: \n",r);let o=r.map(u=>u.rule).join("\n");o="--replace(true);\n"+o,console.log("Rule string: \n",o),this.analyzeSentence(this.textarea.nativeElement.value,o)}showDialog(){this.cy1.subgraphDialog.setContent(this.graphElements),this.cy1.subgraphDialog.showDialog()}displayMessage(n,r){this.errorhandle.nativeElement.style.color=r,this.errorhandle.nativeElement.innerHTML="["+(new Date).toLocaleTimeString()+"] "+n}}return e.\u0275fac=function(n){return new(n||e)(kt(Fy))},e.\u0275cmp=Si({type:e,selectors:[["app-liger-vis"]],viewQuery:function(n,r){if(1&n&&(Gr(d4,5),Gr(h4,5),Gr(p4,5),Gr(g4,5),Gr(v4,5)),2&n){let o;Vr(o=Hr())&&(r.editor1=o.first),Vr(o=Hr())&&(r.rulelist1=o.first),Vr(o=Hr())&&(r.cy1=o.first),Vr(o=Hr())&&(r.textarea=o.first),Vr(o=Hr())&&(r.errorhandle=o.first)}},decls:37,vars:8,consts:[[3,"value"],["textareaElement",""],[1,"errorhandling"],["errorhandle",""],[3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"button","beta",3,"click"],["type","liger","showText","Show input rules","hideText","Hide input rules"],[1,"editor-restr"],[3,"mode"],["edit1",""],["showText","Show graph vis","hideText","Hide graph vis"],[1,"ligergraphcontainer"],["cy1",""],["type","liger","showText","Show applied rules","hideText","Hide applied rules"],[3,"calculateFromRule"],["rl1",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(n,r){if(1&n){const o=mf();mt(0,"h3"),Wt(1," Test sentence: "),gt(),qn(2,"textarea",0,1)(4,"br")(5,"div",2,3),mt(7,"button",4),pr("click",function(){tr(o);const h=du(3),b=du(22);return Da(r.analyzeSentence(h.value,b.getContent()))}),la(8,m4,2,0,"span",5),la(9,y4,1,0,"span",6),la(10,b4,2,0,"span",5),gt(),mt(11,"button",7),pr("click",function(){tr(o);const h=du(3),b=du(22);return Da(r.parseSentence(h.value,b.getContent()))}),la(12,w4,2,0,"span",5),la(13,C4,1,0,"span",6),la(14,E4,2,0,"span",5),gt(),qn(15,"br")(16,"app-grammar-loader"),mt(17,"app-toggle-display",8)(18,"h3"),Wt(19," Input rules: "),gt(),mt(20,"div",9),qn(21,"app-editor",10,11),gt()(),mt(23,"app-toggle-display",12)(24,"h3"),Wt(25," Graph visualization: "),gt(),mt(26,"div",13),qn(27,"app-graph-vis",null,14),mt(29,"button",4),pr("click",function(){return r.showDialog()}),Wt(30,"Show dialog"),gt()(),qn(31,"br"),gt(),mt(32,"app-toggle-display",15)(33,"h3"),Wt(34," Rule list: "),gt(),mt(35,"app-rule-list",16,17),pr("calculateFromRule",function(h){return r.calculateFromRuleList(h)}),gt()()}2&n&&(Kn(2),Qn("value",r.defaultValue),Kn(6),Qn("ngIf",!r.loading),Kn(1),Qn("ngIf",r.loading),Kn(1),Qn("ngIf",r.loading),Kn(2),Qn("ngIf",!r.loading),Kn(1),Qn("ngIf",r.loading),Kn(1),Qn("ngIf",r.loading),Kn(7),Qn("mode","liger"))},dependencies:[hh,Ev,r4,s4,qA,QA],styles:["textarea[_ngcontent-%COMP%]{width:600px;height:50px;overflow:auto;display:block;resize:none}div.ligergraphcontainer[_ngcontent-%COMP%]{max-width:800px;height:650px}div.errorhandling[_ngcontent-%COMP%]{color:red;padding-bottom:10px}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}"]}),e})();const x4=["l1"],S4=["g1"];function T4(e,t){if(1&e){const n=mf();mt(0,"button",6),pr("click",function(){tr(n);const o=Rg();return Da(o.isFirstDivMinimized=!o.isFirstDivMinimized)}),Wt(1," >> "),gt()}}function M4(e,t){if(1&e){const n=mf();mt(0,"button",6),pr("click",function(){tr(n);const o=Rg();return Da(o.isSecondDivMinimized=!o.isSecondDivMinimized)}),Wt(1," << "),gt()}}const JA=function(e){return{display:e}};let I4=(()=>{class e{constructor(){this.isFirstDivMinimized=!1,this.isSecondDivMinimized=!1}ngAfterViewInit(){this.liger.changeDetector.subscribe(n=>{this.glue.editor1.updateContent(n)})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Si({type:e,selectors:[["app-glue-interface"]],viewQuery:function(n,r){if(1&n&&(Gr(x4,5),Gr(S4,5)),2&n){let o;Vr(o=Hr())&&(r.liger=o.first),Vr(o=Hr())&&(r.glue=o.first)}},decls:13,vars:8,consts:[[1,"container"],[1,"scrollable-div",3,"ngStyle"],[1,"toggle-button",3,"click"],["l1",""],["class","toggle-button-max",3,"click",4,"ngIf"],["g1",""],[1,"toggle-button-max",3,"click"]],template:function(n,r){1&n&&(mt(0,"div",0)(1,"div",1)(2,"button",2),pr("click",function(){return r.isFirstDivMinimized=!r.isFirstDivMinimized}),Wt(3," << "),gt(),qn(4,"app-liger-vis",null,3),gt(),la(6,T4,2,0,"button",4),mt(7,"div",1)(8,"button",2),pr("click",function(){return r.isSecondDivMinimized=!r.isSecondDivMinimized}),Wt(9," >> "),gt(),qn(10,"app-gswb-vis",null,5),gt(),la(12,M4,2,0,"button",4),gt()),2&n&&(Kn(1),Qn("ngStyle",Db(4,JA,r.isFirstDivMinimized?"none":"block")),Kn(5),Qn("ngIf",r.isFirstDivMinimized),Kn(1),Qn("ngStyle",Db(6,JA,r.isSecondDivMinimized?"none":"block")),Kn(5),Qn("ngIf",r.isSecondDivMinimized))},dependencies:[hh,XS,e4,D4],styles:[".toggle-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:50px;height:100%;background-color:#fff;border:none;cursor:pointer;opacity:0;transition:opacity .3s;font-weight:700}.toggle-button[_ngcontent-%COMP%]:hover{opacity:.8;background:#00a9e0;color:#fff;border-radius:10px}.toggle-button-max[_ngcontent-%COMP%]{width:50px;height:100vh;font-weight:700;background-color:#fff;border:none;cursor:pointer}.toggle-button-max[_ngcontent-%COMP%]:hover{opacity:.2;background:#00a9e0;color:#fff;border-radius:10px}",".container[_ngcontent-%COMP%] {\n    padding: 15px;\n    display: flex;\n    flex-wrap: nowrap;\n  }\n  .scrollable-div[_ngcontent-%COMP%] {\n    position: relative;\n    flex: 1;\n    overflow-y: auto;\n    max-height: 100vh;\n    flex-basis: 50%;\n    padding-left: 60px\n  }\n\n  \n\n  @media (max-width: 1400px) {\n    .container[_ngcontent-%COMP%] {\n      flex-direction: column;\n    }\n    .scrollable-div[_ngcontent-%COMP%] {\n      max-height: none;\n      overflow-y: initial;\n    }\n  }"]}),e})();const A4=["graphContainer"],N4=["subgraphDialog"];xs().use(By()),xs().use(KA());let O4=(()=>{class e{constructor(){this.style=[{selector:'node[node_type="rule"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow red","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}],this.defaultWidth="800px",this.defaultHeight="600px"}ngOnInit(){this.cy=xs()({container:document.getElementById("cy"),style:this.style,layout:{name:"dagre"}})}makePopper(n){const r=n.popperRef();n.tippy=Rv(r,{content:()=>{let o=document.createElement("div");var u=n._private.data;return u.hasOwnProperty("rule")&&(o.innerHTML=o.innerHTML+"Rule "+u.id+": "+u.rule+"at line: "+u.line+"<br>"),o},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(n=>{n.data().hasOwnProperty("rule")&&(this.makePopper(n),n.bind("mouseover",o=>o.target.tippy.show()),n.bind("mouseout",o=>o.target.tippy.hide()))})}renderGraph(n){this.cy=xs()({container:document.getElementById(this.graphID),elements:n,style:this.calculateStyle(n),layout:{name:"dagre"}}),this.createAndBindPoppers(),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy)}calculateStyle(n){let r=n.filter(V=>V.data.hasOwnProperty("rule"));r.sort((V,Y)=>V.data.id>Y.data.id?1:-1),console.log("Sorted nodes: ",r);const o=Math.floor(r.length/10);console.log("NodeBucket: ",o);let u=0,h=[];for(let V=0;V<r.length;V++){V%o==0&&u++;let Y="style"+u;r[V].data.node_style=Y,h.includes(Y)||h.push(Y)}console.log("Styles: ",h);let b=[],A=this.calculateColorStops("#FFFF00","#FF0000",h.length);for(let V=0;V<h.length;V++){let ve={selector:'node[node_style="'+h[V]+'"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":A[V]+" white","background-gradient-stop-positions":"100 100"}};console.log("Current cyto style: ",ve),b.push(ve)}return b}resizeToDefault(){const n=this.graphContainer.nativeElement;n.style.width=this.defaultWidth,n.style.height=this.defaultHeight}showDialog(){this.subgraphDialog.setContent(this.cy.data()),this.subgraphDialog.showDialog()}calculateColorStops(n,r,o){let u=[];for(let h=0;h<o;h++){const A=this.calculateColor(n,r,h/(o-1));u.push(A)}return u}calculateColor(n,r,o){const u=Math.round(this.interpolate(n.slice(1,3),r.slice(1,3),o)),h=Math.round(this.interpolate(n.slice(3,5),r.slice(3,5),o)),b=Math.round(this.interpolate(n.slice(5,7),r.slice(5,7),o));return`#${this.componentToHex(u)}${this.componentToHex(h)}${this.componentToHex(b)}`}interpolate(n,r,o){return(1-o)*parseInt(n,16)+o*parseInt(r,16)}componentToHex(n){const r=n.toString(16);return 1===r.length?"0"+r:r}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Si({type:e,selectors:[["app-applied-rules-graph"]],viewQuery:function(n,r){if(1&n&&(Gr(A4,5),Gr(N4,5)),2&n){let o;Vr(o=Hr())&&(r.graphContainer=o.first),Vr(o=Hr())&&(r.subgraphDialog=o.first)}},inputs:{graphID:"graphID"},decls:7,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(n,r){1&n&&(mt(0,"div"),qn(1,"div",0,1),mt(3,"button",2),pr("click",function(){return r.resizeToDefault()}),Wt(4,"Resize to Default"),gt(),qn(5,"app-sub-graph-dialog",3,4),gt()),2&n&&(Kn(1),Qn("id",r.graphID),Kn(4),Qn("subgraphID","sub"+r.graphID)("subgraphStyle","liger"))},dependencies:[qC],styles:["div.cy[_ngcontent-%COMP%]{width:760px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),e})();const R4=["arcy"],L4=["ligerreport"],P4=["gswbreport"],k4=["gswbSettings"],_4=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"demo",component:I4},{path:"regression",component:(()=>{class e{constructor(n){this.dataService=n}batchParse(n,r){this.gswbPreferences.onSubmit();let o=n.split("\n").filter(b=>{let A=b.trim();return""!==A&&!A.startsWith("#")}),u={};for(let b=0;b<o.length;b++)u["S"+b]=o[b];this.dataService.ligerBatchAnnotate({sentences:u,ruleString:r}).subscribe(b=>{if(console.log(b),b.hasOwnProperty("annotations")){console.log(b.annotations);let A={};for(let[Y,te]of Object.entries(b.annotations))A[Y]=te.meaningConstructors;let V={};Object.keys(A).sort((Y,te)=>parseInt(Y.match(/\d+/)[0])-parseInt(te.match(/\d+/)[0])).forEach(Y=>{V[Y]=A[Y]}),console.log("sorted MCs",V),this.gswbMultipleRequest={premises:V,gswbPreferences:this.gswbPreferences.gswbPreferences},console.log("Specified request: ",this.gswbMultipleRequest)}b.hasOwnProperty("ruleApplicationGraph")&&(console.log(b.ruleApplicationGraph),this.cy1.renderGraph(b.ruleApplicationGraph)),b.hasOwnProperty("report")&&(this.ligerreport.nativeElement.innerHTML=b.report),this.batchDeduce(this.gswbMultipleRequest)},b=>{console.error("An error occurred:",b)})}batchMultistage(n){this.gswbPreferences.onSubmit();let r=n.split("\n").filter(h=>{let b=h.trim();return""!==b&&!b.startsWith("#")}),o={};for(let h=0;h<r.length;h++)o["S"+h]=r[h];this.dataService.ligerBatchMultistage({sentences:o,ruleString:null}).subscribe(h=>{if(console.log(h),h.hasOwnProperty("annotations")){console.log(h.annotations);let b={};for(let[A,V]of Object.entries(h.annotations))b[A]=V.meaningConstructors;this.gswbMultipleRequest={premises:b,gswbPreferences:this.gswbPreferences.gswbPreferences},console.log("Specified request: ",this.gswbMultipleRequest)}h.hasOwnProperty("report")&&(this.ligerreport.nativeElement.innerHTML=h.report),this.batchDeduce(this.gswbMultipleRequest)},h=>{console.error("An error occurred:",h)})}batchDeduce(n){console.log("gswbRequest: ",n),this.dataService.gswbBatchDeduce(n).subscribe(r=>{console.log(r),r.hasOwnProperty("report")&&(this.gswbreport.nativeElement.innerHTML=r.report)},r=>{console.error("An error occurred:",r)})}}return e.\u0275fac=function(n){return new(n||e)(kt(Fy))},e.\u0275cmp=Si({type:e,selectors:[["app-regression-testing-interface"]],viewQuery:function(n,r){if(1&n&&(Gr(R4,5),Gr(L4,5),Gr(P4,5),Gr(k4,5)),2&n){let o;Vr(o=Hr())&&(r.cy1=o.first),Vr(o=Hr())&&(r.ligerreport=o.first),Vr(o=Hr())&&(r.gswbreport=o.first),Vr(o=Hr())&&(r.gswbPreferences=o.first)}},decls:41,vars:3,consts:[[1,"frame"],[1,"editor-restr"],[3,"mode"],["testsuite",""],["type","liger","showText","Show input rules","hideText","Hide input rules"],[1,"gradient-container"],["ligerRules",""],[1,"bar-container"],[1,"gradient-bar"],[1,"empty-space"],["gswbSettings",""],[3,"click"],[1,"button","beta",3,"click"],[1,"log"],["ligerreport",""],["gswbreport",""],["type","liger","showText","Show applied rules","hideText","Hide applied rules"],[3,"graphID"],["arcy",""]],template:function(n,r){if(1&n){const o=mf();mt(0,"div",0)(1,"h3"),Wt(2," Grammar:\n"),gt(),qn(3,"app-grammar-loader"),mt(4,"h3"),Wt(5," Testsuite:\n"),gt(),mt(6,"div",1),qn(7,"app-editor",2,3),gt(),qn(9,"br"),mt(10,"app-toggle-display",4)(11,"h3"),Wt(12," Test rules:\n"),gt(),mt(13,"div",5)(14,"div",1),qn(15,"app-editor",2,6),gt(),mt(17,"div",7),qn(18,"div",8)(19,"div",9),gt()()(),qn(20,"app-gswb-settings",null,10),mt(22,"button",11),pr("click",function(){tr(o);const h=du(8),b=du(16);return Da(r.batchParse(h.getContent(),b.getContent()))}),Wt(23,"Parse all"),gt(),mt(24,"button",12),pr("click",function(){tr(o);const h=du(8);return Da(r.batchMultistage(h.getContent()))}),Wt(25,"Multi stage"),gt(),mt(26,"h3"),Wt(27," Report:\n"),gt(),qn(28,"textarea",13,14),mt(30,"textarea",13,15),Wt(32,"\n  "),gt(),qn(33,"br")(34,"br"),mt(35,"app-toggle-display",16)(36,"h3"),Wt(37," Applied rules:\n"),gt(),mt(38,"div"),qn(39,"app-applied-rules-graph",17,18),gt()()()}2&n&&(Kn(7),Qn("mode","text"),Kn(8),Qn("mode","liger"),Kn(24),Qn("graphID","arCy1"))},dependencies:[Ev,O4,qA,XA,QA],styles:[".gradient-container[_ngcontent-%COMP%]{display:flex;align-items:stretch;max-width:100%}.bar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.gradient-bar[_ngcontent-%COMP%]{flex-grow:1;width:20px;background:linear-gradient(to bottom,yellow,red)}.empty-space[_ngcontent-%COMP%]{width:20px;height:30px}textarea[_ngcontent-%COMP%]{width:50%;resize:both;overflow:auto;padding-left:20px}.frame[_ngcontent-%COMP%]{padding-left:10px}"]}),e})()},{path:"home",component:(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Si({type:e,selectors:[["app-home"]],decls:55,vars:0,consts:[["href","https://github.com/Mmaz1988/GlueSemWorkbench_v2"],["href","https://github.com/Mmaz1988/liger"],["href","https://github.com/Mmaz1988/xle-glueworkbench-interface"],["href","https://github.com/Mmaz1988/xleplusglue-client"],["href","https://cloud.uni-konstanz.de/index.php/s/RQ6ziY2xkHkjpGM"]],template:function(n,r){1&n&&(mt(0,"div")(1,"h1"),Wt(2," The XLE+Glue web application"),gt(),mt(3,"p"),Wt(4,"This page presents several resources used for exploring LFG's glue semantics. Concretely, it presents the\n"),mt(5,"a",0),Wt(6," Glue semantics workbench "),gt(),Wt(7,"and the "),mt(8,"a",1),Wt(9," LiGER rewrite system "),gt(),Wt(10,". It also serves as a revised frontend for the original "),mt(11,"a",2),Wt(12,"XLE + Glue"),gt(),Wt(13,". As all of these resources, this frontend is open source.\nIt is available at: "),mt(14,"a",3),Wt(15,"XLE+Glue client"),gt()(),mt(16,"h2"),Wt(17,"Quick start"),gt(),mt(18,"h2"),Wt(19,"Running the system locally"),gt(),mt(20,"p"),Wt(21," To run this system, you require: "),gt(),mt(22,"ul")(23,"li"),Wt(24," A running version of the GSWB "),gt(),mt(25,"li"),Wt(26," A running version of LiGER "),gt(),mt(27,"li"),Wt(28," A running version of the client "),gt()(),mt(29,"p"),Wt(30," You either need to compile your own jar files for the GSWB and LiGER, or you can use the ones provided at "),mt(31,"a",4),Wt(32,"XLE+Glue resources"),gt(),Wt(33,". Please contact Mark-Matthias Zymla if you can't access the relevant files. You need to run both -jar files with the "),mt(34,"b"),Wt(35,"-web"),gt(),Wt(36," parameter. Furthermore, they require resource folders to be present in the same directory as the jar files. These resource folders contain additional requirements explained on the corresponding github pages. "),gt(),mt(37,"p"),Wt(38," The frontend is written in angular. To use it locally, you need to install node.js and npm. Then, you can run "),mt(39,"b"),Wt(40,"ng build"),gt(),Wt(41," in the client directory to build the frontend, which is then stored in the dist directory. You can use "),mt(42,"b"),Wt(43,"http-server"),gt(),Wt(44," to serve the frontend. It can be installed with "),mt(45,"b"),Wt(46,"npm install -g http-server"),gt(),Wt(47,". Then, you can run "),mt(48,"b"),Wt(49,"http-server dist/xleplusglue-cient"),gt(),Wt(50," to serve the frontend. Http-server will tell you the correct address. "),gt(),mt(51,"p"),Wt(52,"If you have node.js and http-server installed, you can also try to use the pre-build version available at: "),qn(53,"a",3),Wt(54,". There, you also find the relevant resource folders for the GSWB\nand LiGER and a .sh file that allows you to execute the backend (i.e., the GSWB and LiGER jars) and frontend with a single command. "),gt()())},styles:["div[_ngcontent-%COMP%]{padding-left:20px}p[_ngcontent-%COMP%]{width:800px}"]}),e})()}];let F4=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=bo({type:e}),e.\u0275inj=yo({imports:[AM.forRoot(_4),AM]}),e})(),B4=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=bo({type:e,bootstrap:[_H]}),e.\u0275inj=yo({imports:[q2,N3,e5,A3,ZS,F4]}),e})();K2().bootstrapModule(B4).catch(e=>console.error(e))},7925:(j,ae,x)=>{"use strict";x.r(ae),x.d(ae,{afterMain:()=>ee,afterRead:()=>le,afterWrite:()=>oe,applyStyles:()=>at,arrow:()=>Ci,auto:()=>C,basePlacements:()=>S,beforeMain:()=>se,beforeRead:()=>ce,beforeWrite:()=>pe,bottom:()=>L,clippingParents:()=>B,computeStyles:()=>hl,createPopper:()=>kn,createPopperBase:()=>Cc,createPopperLite:()=>cs,detectOverflow:()=>da,end:()=>N,eventListeners:()=>zs,flip:()=>Gl,hide:()=>Su,left:()=>I,main:()=>he,modifierPhases:()=>ie,offset:()=>Mu,placements:()=>J,popper:()=>F,popperGenerator:()=>mo,popperOffsets:()=>zr,preventOverflow:()=>Vi,read:()=>ne,reference:()=>H,right:()=>O,start:()=>R,top:()=>T,variationPlacements:()=>$,viewport:()=>k,write:()=>K});var T="top",L="bottom",O="right",I="left",C="auto",S=[T,L,O,I],R="start",N="end",B="clippingParents",k="viewport",F="popper",H="reference",$=S.reduce(function(Ne,Re){return Ne.concat([Re+"-"+R,Re+"-"+N])},[]),J=[].concat(S,[C]).reduce(function(Ne,Re){return Ne.concat([Re,Re+"-"+R,Re+"-"+N])},[]),ce="beforeRead",ne="read",le="afterRead",se="beforeMain",he="main",ee="afterMain",pe="beforeWrite",K="write",oe="afterWrite",ie=[ce,ne,le,se,he,ee,pe,K,oe];function ge(Ne){return Ne?(Ne.nodeName||"").toLowerCase():null}function we(Ne){if(null==Ne)return window;if("[object Window]"!==Ne.toString()){var Re=Ne.ownerDocument;return Re&&Re.defaultView||window}return Ne}function Se(Ne){return Ne instanceof we(Ne).Element||Ne instanceof Element}function xe(Ne){return Ne instanceof we(Ne).HTMLElement||Ne instanceof HTMLElement}function Ve(Ne){return!(typeof ShadowRoot>"u")&&(Ne instanceof we(Ne).ShadowRoot||Ne instanceof ShadowRoot)}const at={name:"applyStyles",enabled:!0,phase:"write",fn:function _e(Ne){var Re=Ne.state;Object.keys(Re.elements).forEach(function(Fe){var Je=Re.styles[Fe]||{},Ze=Re.attributes[Fe]||{},Zt=Re.elements[Fe];!xe(Zt)||!ge(Zt)||(Object.assign(Zt.style,Je),Object.keys(Ze).forEach(function(un){var Ft=Ze[un];!1===Ft?Zt.removeAttribute(un):Zt.setAttribute(un,!0===Ft?"":Ft)}))})},effect:function et(Ne){var Re=Ne.state,Fe={popper:{position:Re.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(Re.elements.popper.style,Fe.popper),Re.styles=Fe,Re.elements.arrow&&Object.assign(Re.elements.arrow.style,Fe.arrow),function(){Object.keys(Re.elements).forEach(function(Je){var Ze=Re.elements[Je],Zt=Re.attributes[Je]||{},Ft=Object.keys(Re.styles.hasOwnProperty(Je)?Re.styles[Je]:Fe[Je]).reduce(function(qt,Nn){return qt[Nn]="",qt},{});!xe(Ze)||!ge(Ze)||(Object.assign(Ze.style,Ft),Object.keys(Zt).forEach(function(qt){Ze.removeAttribute(qt)}))})}},requires:["computeStyles"]};function Xe(Ne){return Ne.split("-")[0]}var yt=Math.max,$e=Math.min,Yt=Math.round;function _t(){var Ne=navigator.userAgentData;return null!=Ne&&Ne.brands&&Array.isArray(Ne.brands)?Ne.brands.map(function(Re){return Re.brand+"/"+Re.version}).join(" "):navigator.userAgent}function Ut(){return!/^((?!chrome|android).)*safari/i.test(_t())}function cn(Ne,Re,Fe){void 0===Re&&(Re=!1),void 0===Fe&&(Fe=!1);var Je=Ne.getBoundingClientRect(),Ze=1,Zt=1;Re&&xe(Ne)&&(Ze=Ne.offsetWidth>0&&Yt(Je.width)/Ne.offsetWidth||1,Zt=Ne.offsetHeight>0&&Yt(Je.height)/Ne.offsetHeight||1);var Ft=(Se(Ne)?we(Ne):window).visualViewport,qt=!Ut()&&Fe,Nn=(Je.left+(qt&&Ft?Ft.offsetLeft:0))/Ze,Pt=(Je.top+(qt&&Ft?Ft.offsetTop:0))/Zt,wr=Je.width/Ze,Un=Je.height/Zt;return{width:wr,height:Un,top:Pt,right:Nn+wr,bottom:Pt+Un,left:Nn,x:Nn,y:Pt}}function ln(Ne){var Re=cn(Ne),Fe=Ne.offsetWidth,Je=Ne.offsetHeight;return Math.abs(Re.width-Fe)<=1&&(Fe=Re.width),Math.abs(Re.height-Je)<=1&&(Je=Re.height),{x:Ne.offsetLeft,y:Ne.offsetTop,width:Fe,height:Je}}function nt(Ne,Re){var Fe=Re.getRootNode&&Re.getRootNode();if(Ne.contains(Re))return!0;if(Fe&&Ve(Fe)){var Je=Re;do{if(Je&&Ne.isSameNode(Je))return!0;Je=Je.parentNode||Je.host}while(Je)}return!1}function Qe(Ne){return we(Ne).getComputedStyle(Ne)}function lt(Ne){return["table","td","th"].indexOf(ge(Ne))>=0}function Lt(Ne){return((Se(Ne)?Ne.ownerDocument:Ne.document)||window.document).documentElement}function Rt(Ne){return"html"===ge(Ne)?Ne:Ne.assignedSlot||Ne.parentNode||(Ve(Ne)?Ne.host:null)||Lt(Ne)}function Bn(Ne){return xe(Ne)&&"fixed"!==Qe(Ne).position?Ne.offsetParent:null}function vr(Ne){for(var Re=we(Ne),Fe=Bn(Ne);Fe&&lt(Fe)&&"static"===Qe(Fe).position;)Fe=Bn(Fe);return Fe&&("html"===ge(Fe)||"body"===ge(Fe)&&"static"===Qe(Fe).position)?Re:Fe||function Hn(Ne){var Re=/firefox/i.test(_t());if(/Trident/i.test(_t())&&xe(Ne)&&"fixed"===Qe(Ne).position)return null;var Ze=Rt(Ne);for(Ve(Ze)&&(Ze=Ze.host);xe(Ze)&&["html","body"].indexOf(ge(Ze))<0;){var Zt=Qe(Ze);if("none"!==Zt.transform||"none"!==Zt.perspective||"paint"===Zt.contain||-1!==["transform","perspective"].indexOf(Zt.willChange)||Re&&"filter"===Zt.willChange||Re&&Zt.filter&&"none"!==Zt.filter)return Ze;Ze=Ze.parentNode}return null}(Ne)||Re}function Dr(Ne){return["top","bottom"].indexOf(Ne)>=0?"x":"y"}function fr(Ne,Re,Fe){return yt(Ne,$e(Re,Fe))}function kr(Ne){return Object.assign({},{top:0,right:0,bottom:0,left:0},Ne)}function nn(Ne,Re){return Re.reduce(function(Fe,Je){return Fe[Je]=Ne,Fe},{})}const Ci={name:"arrow",enabled:!0,phase:"main",fn:function Bi(Ne){var Re,Fe=Ne.state,Je=Ne.name,Ze=Ne.options,Zt=Fe.elements.arrow,un=Fe.modifiersData.popperOffsets,Ft=Xe(Fe.placement),qt=Dr(Ft),Pt=[I,O].indexOf(Ft)>=0?"height":"width";if(Zt&&un){var wr=function(Re,Fe){return kr("number"!=typeof(Re="function"==typeof Re?Re(Object.assign({},Fe.rects,{placement:Fe.placement})):Re)?Re:nn(Re,S))}(Ze.padding,Fe),Un=ln(Zt),Yn="y"===qt?T:I,Wr="y"===qt?L:O,Dn=Fe.rects.reference[Pt]+Fe.rects.reference[qt]-un[qt]-Fe.rects.popper[Pt],Jt=un[qt]-Fe.rects.reference[qt],Sr=vr(Zt),Jr=Sr?"y"===qt?Sr.clientHeight||0:Sr.clientWidth||0:0,Tr=Jr/2-Un[Pt]/2+(Dn/2-Jt/2),fn=fr(wr[Yn],Tr,Jr-Un[Pt]-wr[Wr]);Fe.modifiersData[Je]=((Re={})[qt]=fn,Re.centerOffset=fn-Tr,Re)}},effect:function wi(Ne){var Re=Ne.state,Je=Ne.options.element,Ze=void 0===Je?"[data-popper-arrow]":Je;null!=Ze&&("string"==typeof Ze&&!(Ze=Re.elements.popper.querySelector(Ze))||nt(Re.elements.popper,Ze)&&(Re.elements.arrow=Ze))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Lr(Ne){return Ne.split("-")[1]}var Ri={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ss(Ne){var Re,Fe=Ne.popper,Je=Ne.popperRect,Ze=Ne.placement,Zt=Ne.variation,un=Ne.offsets,Ft=Ne.position,qt=Ne.gpuAcceleration,Nn=Ne.adaptive,Pt=Ne.roundOffsets,wr=Ne.isFixed,Un=un.x,Yn=void 0===Un?0:Un,Wr=un.y,Dn=void 0===Wr?0:Wr,Jt="function"==typeof Pt?Pt({x:Yn,y:Dn}):{x:Yn,y:Dn};Yn=Jt.x,Dn=Jt.y;var Sr=un.hasOwnProperty("x"),Jr=un.hasOwnProperty("y"),Xr=I,ar=T,ct=window;if(Nn){var Tr=vr(Fe),fn="clientHeight",On="clientWidth";Tr===we(Fe)&&"static"!==Qe(Tr=Lt(Fe)).position&&"absolute"===Ft&&(fn="scrollHeight",On="scrollWidth"),(Ze===T||(Ze===I||Ze===O)&&Zt===N)&&(ar=L,Dn-=(wr&&Tr===ct&&ct.visualViewport?ct.visualViewport.height:Tr[fn])-Je.height,Dn*=qt?1:-1),Ze!==I&&(Ze!==T&&Ze!==L||Zt!==N)||(Xr=O,Yn-=(wr&&Tr===ct&&ct.visualViewport?ct.visualViewport.width:Tr[On])-Je.width,Yn*=qt?1:-1)}var Er,Qi=Object.assign({position:Ft},Nn&&Ri),xi=!0===Pt?function Ta(Ne,Re){var Je=Ne.y,Ze=Re.devicePixelRatio||1;return{x:Yt(Ne.x*Ze)/Ze||0,y:Yt(Je*Ze)/Ze||0}}({x:Yn,y:Dn},we(Fe)):{x:Yn,y:Dn};return Yn=xi.x,Dn=xi.y,Object.assign({},Qi,qt?((Er={})[ar]=Jr?"0":"",Er[Xr]=Sr?"0":"",Er.transform=(ct.devicePixelRatio||1)<=1?"translate("+Yn+"px, "+Dn+"px)":"translate3d("+Yn+"px, "+Dn+"px, 0)",Er):((Re={})[ar]=Jr?Dn+"px":"",Re[Xr]=Sr?Yn+"px":"",Re.transform="",Re))}const hl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function En(Ne){var Re=Ne.state,Fe=Ne.options,Je=Fe.gpuAcceleration,Ze=void 0===Je||Je,Zt=Fe.adaptive,un=void 0===Zt||Zt,Ft=Fe.roundOffsets,qt=void 0===Ft||Ft,Nn={placement:Xe(Re.placement),variation:Lr(Re.placement),popper:Re.elements.popper,popperRect:Re.rects.popper,gpuAcceleration:Ze,isFixed:"fixed"===Re.options.strategy};null!=Re.modifiersData.popperOffsets&&(Re.styles.popper=Object.assign({},Re.styles.popper,ss(Object.assign({},Nn,{offsets:Re.modifiersData.popperOffsets,position:Re.options.strategy,adaptive:un,roundOffsets:qt})))),null!=Re.modifiersData.arrow&&(Re.styles.arrow=Object.assign({},Re.styles.arrow,ss(Object.assign({},Nn,{offsets:Re.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:qt})))),Re.attributes.popper=Object.assign({},Re.attributes.popper,{"data-popper-placement":Re.placement})},data:{}};var Ro={passive:!0};const zs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Lo(Ne){var Re=Ne.state,Fe=Ne.instance,Je=Ne.options,Ze=Je.scroll,Zt=void 0===Ze||Ze,un=Je.resize,Ft=void 0===un||un,qt=we(Re.elements.popper),Nn=[].concat(Re.scrollParents.reference,Re.scrollParents.popper);return Zt&&Nn.forEach(function(Pt){Pt.addEventListener("scroll",Fe.update,Ro)}),Ft&&qt.addEventListener("resize",Fe.update,Ro),function(){Zt&&Nn.forEach(function(Pt){Pt.removeEventListener("scroll",Fe.update,Ro)}),Ft&&qt.removeEventListener("resize",Fe.update,Ro)}},data:{}};var Ma={left:"right",right:"left",bottom:"top",top:"bottom"};function ls(Ne){return Ne.replace(/left|right|bottom|top/g,function(Re){return Ma[Re]})}var pn={start:"end",end:"start"};function ta(Ne){return Ne.replace(/start|end/g,function(Re){return pn[Re]})}function qi(Ne){var Re=we(Ne);return{scrollLeft:Re.pageXOffset,scrollTop:Re.pageYOffset}}function Qr(Ne){return cn(Lt(Ne)).left+qi(Ne).scrollLeft}function ui(Ne){var Re=Qe(Ne);return/auto|scroll|overlay|hidden/.test(Re.overflow+Re.overflowY+Re.overflowX)}function fa(Ne){return["html","body","#document"].indexOf(ge(Ne))>=0?Ne.ownerDocument.body:xe(Ne)&&ui(Ne)?Ne:fa(Rt(Ne))}function Ei(Ne,Re){var Fe;void 0===Re&&(Re=[]);var Je=fa(Ne),Ze=Je===(null==(Fe=Ne.ownerDocument)?void 0:Fe.body),Zt=we(Je),un=Ze?[Zt].concat(Zt.visualViewport||[],ui(Je)?Je:[]):Je,Ft=Re.concat(un);return Ze?Ft:Ft.concat(Ei(Rt(un)))}function Ms(Ne){return Object.assign({},Ne,{left:Ne.x,top:Ne.y,right:Ne.x+Ne.width,bottom:Ne.y+Ne.height})}function Ia(Ne,Re,Fe){return Re===k?Ms(function Li(Ne,Re){var Fe=we(Ne),Je=Lt(Ne),Ze=Fe.visualViewport,Zt=Je.clientWidth,un=Je.clientHeight,Ft=0,qt=0;if(Ze){Zt=Ze.width,un=Ze.height;var Nn=Ut();(Nn||!Nn&&"fixed"===Re)&&(Ft=Ze.offsetLeft,qt=Ze.offsetTop)}return{width:Zt,height:un,x:Ft+Qr(Ne),y:qt}}(Ne,Fe)):Se(Re)?function vc(Ne,Re){var Fe=cn(Ne,!1,"fixed"===Re);return Fe.top=Fe.top+Ne.clientTop,Fe.left=Fe.left+Ne.clientLeft,Fe.bottom=Fe.top+Ne.clientHeight,Fe.right=Fe.left+Ne.clientWidth,Fe.width=Ne.clientWidth,Fe.height=Ne.clientHeight,Fe.x=Fe.left,Fe.y=Fe.top,Fe}(Re,Fe):Ms(function Ul(Ne){var Re,Fe=Lt(Ne),Je=qi(Ne),Ze=null==(Re=Ne.ownerDocument)?void 0:Re.body,Zt=yt(Fe.scrollWidth,Fe.clientWidth,Ze?Ze.scrollWidth:0,Ze?Ze.clientWidth:0),un=yt(Fe.scrollHeight,Fe.clientHeight,Ze?Ze.scrollHeight:0,Ze?Ze.clientHeight:0),Ft=-Je.scrollLeft+Qr(Ne),qt=-Je.scrollTop;return"rtl"===Qe(Ze||Fe).direction&&(Ft+=yt(Fe.clientWidth,Ze?Ze.clientWidth:0)-Zt),{width:Zt,height:un,x:Ft,y:qt}}(Lt(Ne)))}function Ua(Ne){var qt,Re=Ne.reference,Fe=Ne.element,Je=Ne.placement,Ze=Je?Xe(Je):null,Zt=Je?Lr(Je):null,un=Re.x+Re.width/2-Fe.width/2,Ft=Re.y+Re.height/2-Fe.height/2;switch(Ze){case T:qt={x:un,y:Re.y-Fe.height};break;case L:qt={x:un,y:Re.y+Re.height};break;case O:qt={x:Re.x+Re.width,y:Ft};break;case I:qt={x:Re.x-Fe.width,y:Ft};break;default:qt={x:Re.x,y:Re.y}}var Nn=Ze?Dr(Ze):null;if(null!=Nn){var Pt="y"===Nn?"height":"width";switch(Zt){case R:qt[Nn]=qt[Nn]-(Re[Pt]/2-Fe[Pt]/2);break;case N:qt[Nn]=qt[Nn]+(Re[Pt]/2-Fe[Pt]/2)}}return qt}function da(Ne,Re){void 0===Re&&(Re={});var Je=Re.placement,Ze=void 0===Je?Ne.placement:Je,Zt=Re.strategy,un=void 0===Zt?Ne.strategy:Zt,Ft=Re.boundary,qt=void 0===Ft?B:Ft,Nn=Re.rootBoundary,Pt=void 0===Nn?k:Nn,wr=Re.elementContext,Un=void 0===wr?F:wr,Yn=Re.altBoundary,Wr=void 0!==Yn&&Yn,Dn=Re.padding,Jt=void 0===Dn?0:Dn,Sr=kr("number"!=typeof Jt?Jt:nn(Jt,S)),Xr=Ne.rects.popper,ar=Ne.elements[Wr?Un===F?H:F:Un],ct=function mc(Ne,Re,Fe,Je){var Ze="clippingParents"===Re?function Is(Ne){var Re=Ei(Rt(Ne)),Je=["absolute","fixed"].indexOf(Qe(Ne).position)>=0&&xe(Ne)?vr(Ne):Ne;return Se(Je)?Re.filter(function(Ze){return Se(Ze)&&nt(Ze,Je)&&"body"!==ge(Ze)}):[]}(Ne):[].concat(Re),Zt=[].concat(Ze,[Fe]),Ft=Zt.reduce(function(qt,Nn){var Pt=Ia(Ne,Nn,Je);return qt.top=yt(Pt.top,qt.top),qt.right=$e(Pt.right,qt.right),qt.bottom=$e(Pt.bottom,qt.bottom),qt.left=yt(Pt.left,qt.left),qt},Ia(Ne,Zt[0],Je));return Ft.width=Ft.right-Ft.left,Ft.height=Ft.bottom-Ft.top,Ft.x=Ft.left,Ft.y=Ft.top,Ft}(Se(ar)?ar:ar.contextElement||Lt(Ne.elements.popper),qt,Pt,un),Tr=cn(Ne.elements.reference),fn=Ua({reference:Tr,element:Xr,strategy:"absolute",placement:Ze}),On=Ms(Object.assign({},Xr,fn)),Kr=Un===F?On:Tr,Di={top:ct.top-Kr.top+Sr.top,bottom:Kr.bottom-ct.bottom+Sr.bottom,left:ct.left-Kr.left+Sr.left,right:Kr.right-ct.right+Sr.right},Qi=Ne.modifiersData.offset;if(Un===F&&Qi){var xi=Qi[Ze];Object.keys(Di).forEach(function(Er){var As=[O,L].indexOf(Er)>=0?1:-1,Zr=[T,L].indexOf(Er)>=0?"y":"x";Di[Er]+=xi[Zr]*As})}return Di}const Gl={name:"flip",enabled:!0,phase:"main",fn:function yc(Ne){var Re=Ne.state,Fe=Ne.options,Je=Ne.name;if(!Re.modifiersData[Je]._skip){for(var Ze=Fe.mainAxis,Zt=void 0===Ze||Ze,un=Fe.altAxis,Ft=void 0===un||un,qt=Fe.fallbackPlacements,Nn=Fe.padding,Pt=Fe.boundary,wr=Fe.rootBoundary,Un=Fe.altBoundary,Yn=Fe.flipVariations,Wr=void 0===Yn||Yn,Dn=Fe.allowedAutoPlacements,Jt=Re.options.placement,Sr=Xe(Jt),Xr=qt||(Sr!==Jt&&Wr?function Ga(Ne){if(Xe(Ne)===C)return[];var Re=ls(Ne);return[ta(Ne),Re,ta(Re)]}(Jt):[ls(Jt)]),ar=[Jt].concat(Xr).reduce(function(ga,fs){return ga.concat(Xe(fs)===C?function Cd(Ne,Re){void 0===Re&&(Re={});var Ze=Re.boundary,Zt=Re.rootBoundary,un=Re.padding,Ft=Re.flipVariations,qt=Re.allowedAutoPlacements,Nn=void 0===qt?J:qt,Pt=Lr(Re.placement),wr=Pt?Ft?$:$.filter(function(Wr){return Lr(Wr)===Pt}):S,Un=wr.filter(function(Wr){return Nn.indexOf(Wr)>=0});0===Un.length&&(Un=wr);var Yn=Un.reduce(function(Wr,Dn){return Wr[Dn]=da(Ne,{placement:Dn,boundary:Ze,rootBoundary:Zt,padding:un})[Xe(Dn)],Wr},{});return Object.keys(Yn).sort(function(Wr,Dn){return Yn[Wr]-Yn[Dn]})}(Re,{placement:fs,boundary:Pt,rootBoundary:wr,padding:Nn,flipVariations:Wr,allowedAutoPlacements:Dn}):fs)},[]),ct=Re.rects.reference,Tr=Re.rects.popper,fn=new Map,On=!0,Kr=ar[0],Di=0;Di<ar.length;Di++){var Qi=ar[Di],xi=Xe(Qi),Er=Lr(Qi)===R,As=[T,L].indexOf(xi)>=0,Zr=As?"width":"height",Ji=da(Re,{placement:Qi,boundary:Pt,rootBoundary:wr,altBoundary:Un,padding:Nn}),ki=As?Er?O:I:Er?L:T;ct[Zr]>Tr[Zr]&&(ki=ls(ki));var Ns=ls(ki),ci=[];if(Zt&&ci.push(Ji[xi]<=0),Ft&&ci.push(Ji[ki]<=0,Ji[Ns]<=0),ci.every(function(ga){return ga})){Kr=Qi,On=!1;break}fn.set(Qi,ci)}if(On)for(var Iu=function(fs){var Hi=ar.find(function(Gn){var Na=fn.get(Gn);if(Na)return Na.slice(0,fs).every(function(If){return If})});if(Hi)return Kr=Hi,"break"},gl=Wr?3:1;gl>0&&"break"!==Iu(gl);gl--);Re.placement!==Kr&&(Re.modifiersData[Je]._skip=!0,Re.placement=Kr,Re.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function xu(Ne,Re,Fe){return void 0===Fe&&(Fe={x:0,y:0}),{top:Ne.top-Re.height-Fe.y,right:Ne.right-Re.width+Fe.x,bottom:Ne.bottom-Re.height+Fe.y,left:Ne.left-Re.width-Fe.x}}function na(Ne){return[T,O,L,I].some(function(Re){return Ne[Re]>=0})}const Su={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function bc(Ne){var Re=Ne.state,Fe=Ne.name,Je=Re.rects.reference,Ze=Re.rects.popper,Zt=Re.modifiersData.preventOverflow,un=da(Re,{elementContext:"reference"}),Ft=da(Re,{altBoundary:!0}),qt=xu(un,Je),Nn=xu(Ft,Ze,Zt),Pt=na(qt),wr=na(Nn);Re.modifiersData[Fe]={referenceClippingOffsets:qt,popperEscapeOffsets:Nn,isReferenceHidden:Pt,hasPopperEscaped:wr},Re.attributes.popper=Object.assign({},Re.attributes.popper,{"data-popper-reference-hidden":Pt,"data-popper-escaped":wr})}},Mu={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function us(Ne){var Re=Ne.state,Je=Ne.name,Ze=Ne.options.offset,Zt=void 0===Ze?[0,0]:Ze,un=J.reduce(function(Pt,wr){return Pt[wr]=function Tu(Ne,Re,Fe){var Je=Xe(Ne),Ze=[I,T].indexOf(Je)>=0?-1:1,Zt="function"==typeof Fe?Fe(Object.assign({},Re,{placement:Ne})):Fe,un=Zt[0],Ft=Zt[1];return un=un||0,Ft=(Ft||0)*Ze,[I,O].indexOf(Je)>=0?{x:Ft,y:un}:{x:un,y:Ft}}(wr,Re.rects,Zt),Pt},{}),Ft=un[Re.placement],Nn=Ft.y;null!=Re.modifiersData.popperOffsets&&(Re.modifiersData.popperOffsets.x+=Ft.x,Re.modifiersData.popperOffsets.y+=Nn),Re.modifiersData[Je]=un}},zr={name:"popperOffsets",enabled:!0,phase:"read",fn:function wc(Ne){var Re=Ne.state;Re.modifiersData[Ne.name]=Ua({reference:Re.rects.reference,element:Re.rects.popper,strategy:"absolute",placement:Re.placement})},data:{}},Vi={name:"preventOverflow",enabled:!0,phase:"main",fn:function mr(Ne){var Re=Ne.state,Fe=Ne.options,Je=Ne.name,Ze=Fe.mainAxis,Zt=void 0===Ze||Ze,un=Fe.altAxis,Ft=void 0!==un&&un,Un=Fe.tether,Yn=void 0===Un||Un,Wr=Fe.tetherOffset,Dn=void 0===Wr?0:Wr,Jt=da(Re,{boundary:Fe.boundary,rootBoundary:Fe.rootBoundary,padding:Fe.padding,altBoundary:Fe.altBoundary}),Sr=Xe(Re.placement),Jr=Lr(Re.placement),Xr=!Jr,ar=Dr(Sr),ct=function ha(Ne){return"x"===Ne?"y":"x"}(ar),Tr=Re.modifiersData.popperOffsets,fn=Re.rects.reference,On=Re.rects.popper,Kr="function"==typeof Dn?Dn(Object.assign({},Re.rects,{placement:Re.placement})):Dn,Di="number"==typeof Kr?{mainAxis:Kr,altAxis:Kr}:Object.assign({mainAxis:0,altAxis:0},Kr),Qi=Re.modifiersData.offset?Re.modifiersData.offset[Re.placement]:null,xi={x:0,y:0};if(Tr){if(Zt){var Er,As="y"===ar?T:I,Zr="y"===ar?L:O,Ji="y"===ar?"height":"width",ki=Tr[ar],Ns=ki+Jt[As],ci=ki-Jt[Zr],pl=Yn?-On[Ji]/2:0,Iu=Jr===R?fn[Ji]:On[Ji],gl=Jr===R?-On[Ji]:-fn[Ji],Au=Re.elements.arrow,ga=Yn&&Au?ln(Au):{width:0,height:0},fs=Re.modifiersData["arrow#persistent"]?Re.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Hi=fs[As],Gn=fs[Zr],Na=fr(0,fn[Ji],ga[Ji]),If=Xr?fn[Ji]/2-pl-Na-Hi-Di.mainAxis:Iu-Na-Hi-Di.mainAxis,Dc=Xr?-fn[Ji]/2+pl+Na+Gn+Di.mainAxis:gl+Na+Gn+Di.mainAxis,Cn=Re.elements.arrow&&vr(Re.elements.arrow),Ws=Cn?"y"===ar?Cn.clientTop||0:Cn.clientLeft||0:0,yo=null!=(Er=Qi?.[ar])?Er:0,Nu=ki+Dc-yo,zl=fr(Yn?$e(Ns,ki+If-yo-Ws):Ns,ki,Yn?yt(ci,Nu):ci);Tr[ar]=zl,xi[ar]=zl-ki}if(Ft){var js,ds=Tr[ct],vl="y"===ct?"height":"width",Ou=ds+Jt["x"===ar?T:I],Mn=ds-Jt["x"===ar?L:O],Oa=-1!==[T,I].indexOf(Sr),$s=null!=(js=Qi?.[ct])?js:0,eo=Oa?Ou:ds-fn[vl]-On[vl]-$s+Di.altAxis,za=Oa?ds+fn[vl]+On[vl]-$s-Di.altAxis:Mn,ml=Yn&&Oa?function hn(Ne,Re,Fe){var Je=fr(Ne,Re,Fe);return Je>Fe?Fe:Je}(eo,ds,za):fr(Yn?eo:Ou,ds,Yn?za:Mn);Tr[ct]=ml,xi[ct]=ml-ds}Re.modifiersData[Je]=xi}},requiresIfExists:["offset"]};function mi(Ne,Re,Fe){void 0===Fe&&(Fe=!1);var Je=xe(Re),Ze=xe(Re)&&function Mf(Ne){var Re=Ne.getBoundingClientRect(),Fe=Yt(Re.width)/Ne.offsetWidth||1,Je=Yt(Re.height)/Ne.offsetHeight||1;return 1!==Fe||1!==Je}(Re),Zt=Lt(Re),un=cn(Ne,Ze,Fe),Ft={scrollLeft:0,scrollTop:0},qt={x:0,y:0};return(Je||!Je&&!Fe)&&(("body"!==ge(Re)||ui(Zt))&&(Ft=function pa(Ne){return Ne!==we(Ne)&&xe(Ne)?function vi(Ne){return{scrollLeft:Ne.scrollLeft,scrollTop:Ne.scrollTop}}(Ne):qi(Ne)}(Re)),xe(Re)?((qt=cn(Re,!0)).x+=Re.clientLeft,qt.y+=Re.clientTop):Zt&&(qt.x=Qr(Zt))),{x:un.left+Ft.scrollLeft-qt.x,y:un.top+Ft.scrollTop-qt.y,width:un.width,height:un.height}}function mn(Ne){var Re=new Map,Fe=new Set,Je=[];function Ze(Zt){Fe.add(Zt.name),[].concat(Zt.requires||[],Zt.requiresIfExists||[]).forEach(function(Ft){if(!Fe.has(Ft)){var qt=Re.get(Ft);qt&&Ze(qt)}}),Je.push(Zt)}return Ne.forEach(function(Zt){Re.set(Zt.name,Zt)}),Ne.forEach(function(Zt){Fe.has(Zt.name)||Ze(Zt)}),Je}function Aa(Ne){var Re;return function(){return Re||(Re=new Promise(function(Fe){Promise.resolve().then(function(){Re=void 0,Fe(Ne())})})),Re}}var xr={placement:"bottom",modifiers:[],strategy:"absolute"};function Pi(){for(var Ne=arguments.length,Re=new Array(Ne),Fe=0;Fe<Ne;Fe++)Re[Fe]=arguments[Fe];return!Re.some(function(Je){return!(Je&&"function"==typeof Je.getBoundingClientRect)})}function mo(Ne){void 0===Ne&&(Ne={});var Fe=Ne.defaultModifiers,Je=void 0===Fe?[]:Fe,Ze=Ne.defaultOptions,Zt=void 0===Ze?xr:Ze;return function(Ft,qt,Nn){void 0===Nn&&(Nn=Zt);var Pt={placement:"bottom",orderedModifiers:[],options:Object.assign({},xr,Zt),modifiersData:{},elements:{reference:Ft,popper:qt},attributes:{},styles:{}},wr=[],Un=!1,Yn={state:Pt,setOptions:function(Sr){var Jr="function"==typeof Sr?Sr(Pt.options):Sr;Dn(),Pt.options=Object.assign({},Zt,Pt.options,Jr),Pt.scrollParents={reference:Se(Ft)?Ei(Ft):Ft.contextElement?Ei(Ft.contextElement):[],popper:Ei(qt)};var Xr=function Yr(Ne){var Re=mn(Ne);return ie.reduce(function(Fe,Je){return Fe.concat(Re.filter(function(Ze){return Ze.phase===Je}))},[])}(function vo(Ne){var Re=Ne.reduce(function(Fe,Je){var Ze=Fe[Je.name];return Fe[Je.name]=Ze?Object.assign({},Ze,Je,{options:Object.assign({},Ze.options,Je.options),data:Object.assign({},Ze.data,Je.data)}):Je,Fe},{});return Object.keys(Re).map(function(Fe){return Re[Fe]})}([].concat(Je,Pt.options.modifiers)));return Pt.orderedModifiers=Xr.filter(function(ar){return ar.enabled}),function Wr(){Pt.orderedModifiers.forEach(function(Jt){var Jr=Jt.options,ar=Jt.effect;if("function"==typeof ar){var ct=ar({state:Pt,name:Jt.name,instance:Yn,options:void 0===Jr?{}:Jr});wr.push(ct||function(){})}})}(),Yn.update()},forceUpdate:function(){if(!Un){var Sr=Pt.elements,Jr=Sr.reference,Xr=Sr.popper;if(Pi(Jr,Xr)){Pt.rects={reference:mi(Jr,vr(Xr),"fixed"===Pt.options.strategy),popper:ln(Xr)},Pt.reset=!1,Pt.placement=Pt.options.placement,Pt.orderedModifiers.forEach(function(Di){return Pt.modifiersData[Di.name]=Object.assign({},Di.data)});for(var ar=0;ar<Pt.orderedModifiers.length;ar++)if(!0!==Pt.reset){var ct=Pt.orderedModifiers[ar],Tr=ct.fn,fn=ct.options;"function"==typeof Tr&&(Pt=Tr({state:Pt,options:void 0===fn?{}:fn,name:ct.name,instance:Yn})||Pt)}else Pt.reset=!1,ar=-1}}},update:Aa(function(){return new Promise(function(Jt){Yn.forceUpdate(),Jt(Pt)})}),destroy:function(){Dn(),Un=!0}};if(!Pi(Ft,qt))return Yn;function Dn(){wr.forEach(function(Jt){return Jt()}),wr=[]}return Yn.setOptions(Nn).then(function(Jt){!Un&&Nn.onFirstUpdate&&Nn.onFirstUpdate(Jt)}),Yn}}var Cc=mo(),kn=mo({defaultModifiers:[zs,zr,hl,at,Mu,Gl,Vi,Ci,Su]}),cs=mo({defaultModifiers:[zs,zr,hl,at]})},5886:function(j,ae,x){var T;j.exports=(T=x(4465),function(L){var O={};function I(C){if(O[C])return O[C].exports;var S=O[C]={i:C,l:!1,exports:{}};return L[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=L,I.c=O,I.i=function(C){return C},I.d=function(C,S,R){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:R})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=6)}([function(L,O){L.exports=T},function(L,O,I){"use strict";var C=I(0).LGraph;function S(N,B,k){C.call(this,N,B,k),this.inOrder=void 0,this.currentIndex=0,this.nodeSeparation=void 0,this.stack=[],this.perimeter=0,this.centerX=0,this.centerY=0,this.radius=0}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];S.prototype.initOrdering=function(){this.inOrder=[]},S.prototype.getOrder=function(){return this.inOrder},S.prototype.getCenterX=function(){return this.centerX},S.prototype.getCenterY=function(){return this.centerY},S.prototype.getRadius=function(){return this.radius},S.prototype.getSize=function(){return this.getNodes().length},S.prototype.getTotalCrossingOfCircle=function(){var B=0;for(var k in this.inOrder){var F=k.getTotalCrossingOfEdges();if(-1===F)return-1;B+=F}return B/4},S.prototype.hasFinishedOrdering=function(){return this.currentIndex===this.getNodes().length},S.prototype.getNodeSeparation=function(){return this.nodeSeparation},S.prototype.setNodeSeparation=function(N){this.nodeSeparation=N},S.prototype.correctAngles=function(){var N=this;N.currentIndex=0,N.inOrder.forEach(function(B){return N.putInOrder(B)})},S.prototype.putInOrder=function(N){for(var B=this,k=B.getNodes(),F=!1,H=0;H<k.length;H++)if(k[H].id==N.id){F=!0;break}if(!F)throw"The node must be a member of LGraph";B.inOrder[B.currentIndex]=N,N.setIndex(B.currentIndex),N.setAngle(0===B.currentIndex?0:B.inOrder[B.currentIndex-1].getAngle()+2*Math.PI*(N.getDiagonal()/2+B.nodeSeparation+B.inOrder[B.currentIndex-1].getDiagonal()/2)/B.perimeter),B.currentIndex++},S.prototype.findNodeToPlace=function(){var N=this,B=void 0;if(0===N.stack.length)B=N.findUnorderedSmallestDegreeNode();else{for(var k=!1;!k&&0!==N.stack.length;)k=!(B=N.stack.pop()).isOrdered();k||(B=void 0)}if(void 0===B&&(B=N.findUnorderedSmallestDegreeNode()),void 0!==B)for(var F=B.getNeighborsSortedByDegree(),H=F.length-1;H>=0;H--){var $=F[H];$.isOrdered()||N.stack.push($)}return B},S.prototype.calculateRadius=function(){var N=this,B=0;N.getNodes().forEach(function(F){return B+=Math.sqrt(F.getWidth()*F.getWidth()+F.getHeight()*F.getHeight())}),N.perimeter=B+N.getNodes().length*N.nodeSeparation;var k=N.perimeter/(2*Math.PI);N.getParent().setWidth(2*k),N.getParent().setHeight(2*k),N.getParent().setCenter(N.getParent().getWidth(),N.getParent().getHeight()),N.centerX=N.getParent().getCenterX(),N.centerY=N.getParent().getCenterY(),N.radius=N.getParent().getHeight()/2},S.prototype.calculateEdgeCrossingsOfNodes=function(){this.getNodes().forEach(function(N){return N.calculateTotalCrossing()})},S.prototype.loadOldIndicesOfNodes=function(){for(var B=0;B<this.inOrder.length;B++)this.inOrder[B].setIndex(B)},S.prototype.reOrderVertices=function(){var N=this;this.getNodes().forEach(function(B){return N.inOrder[B.getIndex()]=B})},S.prototype.findUnorderedSmallestDegreeNode=function(){var N=Number.MAX_SAFE_INTEGER,B=void 0;return this.getNodes().forEach(function(k){k.getDegree()<N&&!k.isOrdered()&&(N=k.getDegree(),B=k)}),B},L.exports=S},function(L,O,I){"use strict";var C=I(0).LayoutConstants;function S(){}for(var R in C)S[R]=C[R];S.DEFAULT_NODE_SEPARATION=60,L.exports=S},function(L,O,I){"use strict";var C=I(0).LEdge;function S(N,B,k){C.call(this,N,B,k)}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];S.prototype.getOtherEnd=function(N){return C.prototype.getOtherEnd(N)},S.prototype.crossesWithEdge=function(N){var B=this,k=B.getSource().getIndex(),F=B.getTarget().getIndex(),H=N.getSource().getIndex(),$=N.getTarget().getIndex();if(-1===k||-1===F||-1===H||-1===$)return!1;var J=N.getSource().getCircDistWithTheNode(B.getSource()),ce=N.getTarget().getCircDistWithTheNode(B.getSource()),ne=B.getTarget().getCircDistWithTheNode(B.getSource());return ne<Math.max(J,ce)&&ne>Math.min(J,ce)&&0!==ce&&0!==J},S.prototype.crossingWithEdge=function(N){return this.crossesWithEdge(N)?1:0},S.prototype.calculateTotalCrossingWithList=function(N){var B=this,k=0;return N.forEach(function(F){return k+=B.crossingWithEdge(F)}),k},L.exports=S},function(L,O,I){"use strict";var C=I(0).LNode;function R(B,k,F,H){void 0!==F&&void 0!==H?C.call(this,B,k,F,H):C.call(this,B,k),this.angle=0,this.circleIndex=-1,this.totalCrossingOfEdges=-1,this.isCrossingNumberValid=!1}for(var N in I(0),R.prototype=Object.create(C.prototype),C)R[N]=C[N];R.prototype.getCircle=function(){return this.getOwner()},R.prototype.setIndex=function(B){this.circleIndex=B,this.isCrossingNumberValid=!1},R.prototype.getIndex=function(){return this.circleIndex},R.prototype.getNeighborsSortedByDegree=function(){var k=Array.from(this.getNeighborsList());return(k=k.filter(function(F){return-1===F.getIndex()})).sort(function(F,H){return F.getDegree()-H.getDegree()}),k},R.prototype.getDegree=function(){return this.getEdges().length},R.prototype.isOrdered=function(){return this.getIndex()>-1},R.prototype.setAngle=function(B){this.angle=B},R.prototype.getAngle=function(){return this.angle},R.prototype.getCircDistWithTheNode=function(B){var k=this,F=B.getIndex();if(-1===F||-1===k.getIndex())return-1;var H=k.getIndex()-F;return H<0&&(H+=k.getCircle().getSize()),H},R.prototype.getCrossingNumberWithNode=function(B){var F=0;return this.getEdges().forEach(function(H){B.getEdges().forEach(function($){F+=H.crossingWithEdge($)})}),F},R.prototype.getTotalCrossingOfEdges=function(){var B=this;return B.isCrossingNumberValid||(B.calculateTotalCrossing(),B.isCrossingNumberValid=!0),B.totalCrossingOfEdges},R.prototype.calculateTotalCrossing=function(){var B=this,k=0,F=[];F.push.apply(F,B.getCircle().getEdges()),F=F.filter(function(H){return B.getEdges().indexOf(H)<0}),B.getEdges().forEach(function(H){return k+=H.calculateTotalCrossingWithList(F)}),B.totalCrossingOfEdges=k},L.exports=R},function(L,O,I){"use strict";var C=I(0).Layout,S=I(2),R=I(1),N=I(4),B=I(3);function k(){C.call(this),this.nodeSeparation=S.DEFAULT_NODE_SEPARATION}for(var F in k.prototype=Object.create(C.prototype),C)k[F]=C[F];k.prototype.newGraph=function(H){return this.avsdfCircle=new R(null,this.graphManager,H),this.avsdfCircle},k.prototype.newNode=function(H){return new N(this.graphManager,H)},k.prototype.newEdge=function(H){return new B(null,null,H)},k.prototype.getPositionsData=function(){for(var H=this.graphManager.getAllNodes(),$={},J=0;J<H.length;J++){var ce=H[J].rect,ne=H[J].id;$[ne]={id:ne,x:ce.getCenterX(),y:ce.getCenterY(),w:ce.width,h:ce.height}}return $},k.prototype.layout=function(){if(this.graphManager.getGraphs().length>1)return!1;var $=this.avsdfCircle;for($.setNodeSeparation(this.nodeSeparation),$.calculateRadius(),$.initOrdering();!$.hasFinishedOrdering();){var J=$.findNodeToPlace();$.putInOrder(J)}return!0},k.prototype.updateNodeAngles=function(){this.graphManager.getRoot().correctAngles()},k.prototype.updateNodeCoordinates=function(){var H=this.graphManager.getRoot();H.getNodes().forEach(function($){$.setCenter(H.getCenterX()+H.getRadius()*Math.cos($.getAngle()),H.getCenterY()+H.getRadius()*Math.sin($.getAngle()))})},k.prototype.initPostProcess=function(){this.avsdfCircle.calculateEdgeCrossingsOfNodes();var H=this.avsdfCircle.getNodes();return H.sort(function($,J){return J.getTotalCrossingOfEdges()-$.getTotalCrossingOfEdges()}),H},k.prototype.oneStepPostProcess=function(H){for(var $=this,J=H.getTotalCrossingOfEdges(),ce=void 0,ne=Array.from(H.getNeighborsList()),le=0;le<ne.length;le++){var se=ne[le],he=H.getIndex(),ee=(se.getIndex()+1)%$.avsdfCircle.getSize();if(he!==ee){H.setIndex(ee),he<H.getIndex()&&(he+=$.avsdfCircle.getSize());for(var pe=H.getIndex();pe<he;){var K=$.avsdfCircle.getOrder()[pe%$.avsdfCircle.getSize()];K.setIndex((K.getIndex()+1)%$.avsdfCircle.getSize()),pe+=1}H.calculateTotalCrossing(),(ce=H.getTotalCrossingOfEdges())>=J?$.avsdfCircle.loadOldIndicesOfNodes():($.avsdfCircle.reOrderVertices(),J=ce)}}},L.exports=k},function(L,O,I){"use strict";var C={};C.layoutBase=I(0),C.AVSDFConstants=I(2),C.AVSDFEdge=I(3),C.AVSDFCircle=I(1),C.AVSDFLayout=I(5),C.AVSDFNode=I(4),L.exports=C}]))},656:function(j){j.exports=function(){"use strict";var ae=navigator.userAgent,x=navigator.platform,T=/gecko\/\d/i.test(ae),L=/MSIE \d/.test(ae),O=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ae),I=/Edge\/(\d+)/.exec(ae),C=L||O||I,S=C&&(L?document.documentMode||6:+(I||O)[1]),R=!I&&/WebKit\//.test(ae),N=R&&/Qt\/\d+\.\d+/.test(ae),B=!I&&/Chrome\/(\d+)/.exec(ae),k=B&&+B[1],F=/Opera\//.test(ae),H=/Apple Computer/.test(navigator.vendor),$=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ae),J=/PhantomJS/.test(ae),ce=H&&(/Mobile\/\w+/.test(ae)||navigator.maxTouchPoints>2),ne=/Android/.test(ae),le=ce||ne||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ae),se=ce||/Mac/.test(x),he=/\bCrOS\b/.test(ae),ee=/win/i.test(x),pe=F&&ae.match(/Version\/(\d*\.\d*)/);pe&&(pe=Number(pe[1])),pe&&pe>=15&&(F=!1,R=!0);var K=se&&(N||F&&(null==pe||pe<12.11)),oe=T||C&&S>=9;function ie(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var _e,ge=function(a,c){var m=a.className,v=ie(c).exec(m);if(v){var y=m.slice(v.index+v[0].length);a.className=m.slice(0,v.index)+(y?v[1]+y:"")}};function we(a){for(var c=a.childNodes.length;c>0;--c)a.removeChild(a.firstChild);return a}function Se(a,c){return we(a).appendChild(c)}function xe(a,c,m,v){var y=document.createElement(a);if(m&&(y.className=m),v&&(y.style.cssText=v),"string"==typeof c)y.appendChild(document.createTextNode(c));else if(c)for(var _=0;_<c.length;++_)y.appendChild(c[_]);return y}function Ve(a,c,m,v){var y=xe(a,c,m,v);return y.setAttribute("role","presentation"),y}function et(a,c){if(3==c.nodeType&&(c=c.parentNode),a.contains)return a.contains(c);do{if(11==c.nodeType&&(c=c.host),c==a)return!0}while(c=c.parentNode)}function at(a){var c;try{c=a.activeElement}catch{c=a.body||null}for(;c&&c.shadowRoot&&c.shadowRoot.activeElement;)c=c.shadowRoot.activeElement;return c}function Xe(a,c){var m=a.className;ie(c).test(m)||(a.className+=(m?" ":"")+c)}function yt(a,c){for(var m=a.split(" "),v=0;v<m.length;v++)m[v]&&!ie(m[v]).test(c)&&(c+=" "+m[v]);return c}_e=document.createRange?function(a,c,m,v){var y=document.createRange();return y.setEnd(v||a,m),y.setStart(a,c),y}:function(a,c,m){var v=document.body.createTextRange();try{v.moveToElementText(a.parentNode)}catch{return v}return v.collapse(!0),v.moveEnd("character",m),v.moveStart("character",c),v};var $e=function(a){a.select()};function Yt(a){return a.display.wrapper.ownerDocument}function _t(a){return Yt(a).defaultView}function Ut(a){var c=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,c)}}function cn(a,c,m){for(var v in c||(c={}),a)a.hasOwnProperty(v)&&(!1!==m||!c.hasOwnProperty(v))&&(c[v]=a[v]);return c}function ln(a,c,m,v,y){null==c&&-1==(c=a.search(/[^\s\u00a0]/))&&(c=a.length);for(var _=v||0,G=y||0;;){var X=a.indexOf("\t",_);if(X<0||X>=c)return G+(c-_);G+=X-_,G+=m-G%m,_=X+1}}ce?$e=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:C&&($e=function(a){try{a.select()}catch{}});var nt=function(){this.id=null,this.f=null,this.time=0,this.handler=Ut(this.onTimeout,this)};function Qe(a,c){for(var m=0;m<a.length;++m)if(a[m]==c)return m;return-1}nt.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},nt.prototype.set=function(a,c){this.f=c;var m=+new Date+a;(!this.id||m<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=m)};var lt=50,Lt={toString:function(){return"CodeMirror.Pass"}},Rt={scroll:!1},Bn={origin:"*mouse"},Hn={origin:"+move"};function vr(a,c,m){for(var v=0,y=0;;){var _=a.indexOf("\t",v);-1==_&&(_=a.length);var G=_-v;if(_==a.length||y+G>=c)return v+Math.min(G,c-y);if(y+=_-v,v=_+1,(y+=m-y%m)>=c)return v}}var Dr=[""];function fr(a){for(;Dr.length<=a;)Dr.push(hn(Dr)+" ");return Dr[a]}function hn(a){return a[a.length-1]}function An(a,c){for(var m=[],v=0;v<a.length;v++)m[v]=c(a[v],v);return m}function nn(){}function gi(a,c){var m;return Object.create?m=Object.create(a):(nn.prototype=a,m=new nn),c&&cn(c,m),m}var Bi=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function wi(a){return/\w/.test(a)||a>"\x80"&&(a.toUpperCase()!=a.toLowerCase()||Bi.test(a))}function Ci(a,c){return c?!!(c.source.indexOf("\\w")>-1&&wi(a))||c.test(a):wi(a)}function Lr(a){for(var c in a)if(a.hasOwnProperty(c)&&a[c])return!1;return!0}var Ri=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Ta(a){return a.charCodeAt(0)>=768&&Ri.test(a)}function ss(a,c,m){for(;(m<0?c>0:c<a.length)&&Ta(a.charAt(c));)c+=m;return c}function En(a,c,m){for(var v=c>m?-1:1;;){if(c==m)return c;var y=(c+m)/2,_=v<0?Math.ceil(y):Math.floor(y);if(_==c)return a(_)?c:m;a(_)?m=_:c=_+v}}var Ro=null;function Lo(a,c,m){var v;Ro=null;for(var y=0;y<a.length;++y){var _=a[y];if(_.from<c&&_.to>c)return y;_.to==c&&(_.from!=_.to&&"before"==m?v=y:Ro=y),_.from==c&&(_.from!=_.to&&"before"!=m?v=y:Ro=y)}return v??Ro}var zs=function(){function m(ue){return ue<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(ue):1424<=ue&&ue<=1524?"R":1536<=ue&&ue<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(ue-1536):1774<=ue&&ue<=2220?"r":8192<=ue&&ue<=8203?"w":8204==ue?"b":"L"}var v=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,y=/[stwN]/,_=/[LRr]/,G=/[Lb1n]/,X=/[1n]/;function Q(ue,De,ke){this.level=ue,this.from=De,this.to=ke}return function(ue,De){var ke="ltr"==De?"L":"R";if(0==ue.length||"ltr"==De&&!v.test(ue))return!1;for(var We=ue.length,ze=[],st=0;st<We;++st)ze.push(m(ue.charCodeAt(st)));for(var pt=0,Vt=ke;pt<We;++pt){var Gt=ze[pt];"m"==Gt?ze[pt]=Vt:Vt=Gt}for(var Xt=0,$t=ke;Xt<We;++Xt){var jt=ze[Xt];"1"==jt&&"r"==$t?ze[Xt]="n":_.test(jt)&&($t=jt,"r"==jt&&(ze[Xt]="R"))}for(var Sn=1,vn=ze[0];Sn<We-1;++Sn){var zn=ze[Sn];"+"==zn&&"1"==vn&&"1"==ze[Sn+1]?ze[Sn]="1":","==zn&&vn==ze[Sn+1]&&("1"==vn||"n"==vn)&&(ze[Sn]=vn),vn=zn}for(var nr=0;nr<We;++nr){var di=ze[nr];if(","==di)ze[nr]="N";else if("%"==di){var oi=void 0;for(oi=nr+1;oi<We&&"%"==ze[oi];++oi);for(var Ao=nr&&"!"==ze[nr-1]||oi<We&&"1"==ze[oi]?"1":"N",Ni=nr;Ni<oi;++Ni)ze[Ni]=Ao;nr=oi-1}}for(var hi=0,Ko=ke;hi<We;++hi){var No=ze[hi];"L"==Ko&&"1"==No?ze[hi]="L":_.test(No)&&(Ko=No)}for(var co=0;co<We;++co)if(y.test(ze[co])){var Nr=void 0;for(Nr=co+1;Nr<We&&y.test(ze[Nr]);++Nr);for(var ai="L"==(co?ze[co-1]:ke),cf=ai==("L"==(Nr<We?ze[Nr]:ke))?ai?"L":"R":ke,rl=co;rl<Nr;++rl)ze[rl]=cf;co=Nr-1}for(var Fs,Fo=[],fo=0;fo<We;)if(G.test(ze[fo])){var Xd=fo;for(++fo;fo<We&&G.test(ze[fo]);++fo);Fo.push(new Q(0,Xd,fo))}else{var il=fo,lu=Fo.length,ol="rtl"==De?1:0;for(++fo;fo<We&&"L"!=ze[fo];++fo);for(var pi=il;pi<fo;)if(X.test(ze[pi])){il<pi&&(Fo.splice(lu,0,new Q(1,il,pi)),lu+=ol);var tc=pi;for(++pi;pi<fo&&X.test(ze[pi]);++pi);Fo.splice(lu,0,new Q(2,tc,pi)),lu+=ol,il=pi}else++pi;il<fo&&Fo.splice(lu,0,new Q(1,il,fo))}return"ltr"==De&&(1==Fo[0].level&&(Fs=ue.match(/^\s+/))&&(Fo[0].from=Fs[0].length,Fo.unshift(new Q(0,0,Fs[0].length))),1==hn(Fo).level&&(Fs=ue.match(/\s+$/))&&(hn(Fo).to-=Fs[0].length,Fo.push(new Q(0,We-Fs[0].length,We)))),"rtl"==De?Fo.reverse():Fo}}();function Ma(a,c){var m=a.order;return null==m&&(m=a.order=zs(a.text,c)),m}var ls=[],pn=function(a,c,m){if(a.addEventListener)a.addEventListener(c,m,!1);else if(a.attachEvent)a.attachEvent("on"+c,m);else{var v=a._handlers||(a._handlers={});v[c]=(v[c]||ls).concat(m)}};function ta(a,c){return a._handlers&&a._handlers[c]||ls}function qi(a,c,m){if(a.removeEventListener)a.removeEventListener(c,m,!1);else if(a.detachEvent)a.detachEvent("on"+c,m);else{var v=a._handlers,y=v&&v[c];if(y){var _=Qe(y,m);_>-1&&(v[c]=y.slice(0,_).concat(y.slice(_+1)))}}}function Qr(a,c){var m=ta(a,c);if(m.length)for(var v=Array.prototype.slice.call(arguments,2),y=0;y<m.length;++y)m[y].apply(null,v)}function Li(a,c,m){return"string"==typeof c&&(c={type:c,preventDefault:function(){this.defaultPrevented=!0}}),Qr(a,m||c.type,a,c),vc(c)||c.codemirrorIgnore}function Ul(a){var c=a._handlers&&a._handlers.cursorActivity;if(c)for(var m=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),v=0;v<c.length;++v)-1==Qe(m,c[v])&&m.push(c[v])}function ui(a,c){return ta(a,c).length>0}function fa(a){a.prototype.on=function(c,m){pn(this,c,m)},a.prototype.off=function(c,m){qi(this,c,m)}}function Ei(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Ms(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function vc(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function Ia(a){Ei(a),Ms(a)}function Is(a){return a.target||a.srcElement}function mc(a){var c=a.which;return null==c&&(1&a.button?c=1:2&a.button?c=3:4&a.button&&(c=2)),se&&a.ctrlKey&&1==c&&(c=3),c}var da,Ga,Ua=function(){if(C&&S<9)return!1;var a=xe("div");return"draggable"in a||"dragDrop"in a}();function Cd(a){if(null==da){var c=xe("span","\u200b");Se(a,xe("span",[c,document.createTextNode("x")])),0!=a.firstChild.offsetHeight&&(da=c.offsetWidth<=1&&c.offsetHeight>2&&!(C&&S<8))}var m=da?xe("span","\u200b"):xe("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return m.setAttribute("cm-text",""),m}function yc(a){if(null!=Ga)return Ga;var c=Se(a,document.createTextNode("A\u062eA")),m=_e(c,0,1).getBoundingClientRect(),v=_e(c,1,2).getBoundingClientRect();return we(a),!(!m||m.left==m.right)&&(Ga=v.right-m.right<3)}var a,Gl=3!="\n\nb".split(/\n/).length?function(a){for(var c=0,m=[],v=a.length;c<=v;){var y=a.indexOf("\n",c);-1==y&&(y=a.length);var _=a.slice(c,"\r"==a.charAt(y-1)?y-1:y),G=_.indexOf("\r");-1!=G?(m.push(_.slice(0,G)),c+=G+1):(m.push(_),c=y+1)}return m}:function(a){return a.split(/\r\n?|\n/)},xu=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var c;try{c=a.ownerDocument.selection.createRange()}catch{}return!(!c||c.parentElement()!=a)&&0!=c.compareEndPoints("StartToEnd",c)},na="oncopy"in(a=xe("div"))||(a.setAttribute("oncopy","return;"),"function"==typeof a.oncopy),bc=null;var Tu={},us={};function Mu(a,c){arguments.length>2&&(c.dependencies=Array.prototype.slice.call(arguments,2)),Tu[a]=c}function zr(a){if("string"==typeof a&&us.hasOwnProperty(a))a=us[a];else if(a&&"string"==typeof a.name&&us.hasOwnProperty(a.name)){var c=us[a.name];"string"==typeof c&&(c={name:c}),(a=gi(c,a)).name=c.name}else{if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return zr("application/xml");if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return zr("application/json")}return"string"==typeof a?{name:a}:a||{name:"null"}}function ha(a,c){c=zr(c);var m=Tu[c.name];if(!m)return ha(a,"text/plain");var v=m(a,c);if(mr.hasOwnProperty(c.name)){var y=mr[c.name];for(var _ in y)y.hasOwnProperty(_)&&(v.hasOwnProperty(_)&&(v["_"+_]=v[_]),v[_]=y[_])}if(v.name=c.name,c.helperType&&(v.helperType=c.helperType),c.modeProps)for(var G in c.modeProps)v[G]=c.modeProps[G];return v}var mr={};function Vi(a,c){cn(c,mr.hasOwnProperty(a)?mr[a]:mr[a]={})}function vi(a,c){if(!0===c)return c;if(a.copyState)return a.copyState(c);var m={};for(var v in c){var y=c[v];y instanceof Array&&(y=y.concat([])),m[v]=y}return m}function pa(a,c){for(var m;a.innerMode&&(m=a.innerMode(c))&&m.mode!=a;)c=m.state,a=m.mode;return m||{mode:a,state:c}}function Mf(a,c,m){return!a.startState||a.startState(c,m)}var mi=function(a,c,m){this.pos=this.start=0,this.string=a,this.tabSize=c||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=m};function mn(a,c){if((c-=a.first)<0||c>=a.size)throw new Error("There is no line "+(c+a.first)+" in the document.");for(var m=a;!m.lines;)for(var v=0;;++v){var y=m.children[v],_=y.chunkSize();if(c<_){m=y;break}c-=_}return m.lines[c]}function Yr(a,c,m){var v=[],y=c.line;return a.iter(c.line,m.line+1,function(_){var G=_.text;y==m.line&&(G=G.slice(0,m.ch)),y==c.line&&(G=G.slice(c.ch)),v.push(G),++y}),v}function Aa(a,c,m){var v=[];return a.iter(c,m,function(y){v.push(y.text)}),v}function vo(a,c){var m=c-a.height;if(m)for(var v=a;v;v=v.parent)v.height+=m}function xr(a){if(null==a.parent)return null;for(var c=a.parent,m=Qe(c.lines,a),v=c.parent;v;c=v,v=v.parent)for(var y=0;v.children[y]!=c;++y)m+=v.children[y].chunkSize();return m+c.first}function Pi(a,c){var m=a.first;e:do{for(var v=0;v<a.children.length;++v){var y=a.children[v],_=y.height;if(c<_){a=y;continue e}c-=_,m+=y.chunkSize()}return m}while(!a.lines);for(var G=0;G<a.lines.length;++G){var Q=a.lines[G].height;if(c<Q)break;c-=Q}return m+G}function mo(a,c){return c>=a.first&&c<a.first+a.size}function Cc(a,c){return String(a.lineNumberFormatter(c+a.firstLineNumber))}function Et(a,c,m){if(void 0===m&&(m=null),!(this instanceof Et))return new Et(a,c,m);this.line=a,this.ch=c,this.sticky=m}function kn(a,c){return a.line-c.line||a.ch-c.ch}function Ec(a,c){return a.sticky==c.sticky&&0==kn(a,c)}function cs(a){return Et(a.line,a.ch)}function Ne(a,c){return kn(a,c)<0?c:a}function Re(a,c){return kn(a,c)<0?a:c}function Fe(a,c){return Math.max(a.first,Math.min(c,a.first+a.size-1))}function Je(a,c){if(c.line<a.first)return Et(a.first,0);var m=a.first+a.size-1;return c.line>m?Et(m,mn(a,m).text.length):function Ze(a,c){var m=a.ch;return null==m||m>c?Et(a.line,c):m<0?Et(a.line,0):a}(c,mn(a,c.line).text.length)}function Zt(a,c){for(var m=[],v=0;v<c.length;v++)m[v]=Je(a,c[v]);return m}mi.prototype.eol=function(){return this.pos>=this.string.length},mi.prototype.sol=function(){return this.pos==this.lineStart},mi.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},mi.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},mi.prototype.eat=function(a){var c=this.string.charAt(this.pos);if("string"==typeof a?c==a:c&&(a.test?a.test(c):a(c)))return++this.pos,c},mi.prototype.eatWhile=function(a){for(var c=this.pos;this.eat(a););return this.pos>c},mi.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},mi.prototype.skipToEnd=function(){this.pos=this.string.length},mi.prototype.skipTo=function(a){var c=this.string.indexOf(a,this.pos);if(c>-1)return this.pos=c,!0},mi.prototype.backUp=function(a){this.pos-=a},mi.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ln(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ln(this.string,this.lineStart,this.tabSize):0)},mi.prototype.indentation=function(){return ln(this.string,null,this.tabSize)-(this.lineStart?ln(this.string,this.lineStart,this.tabSize):0)},mi.prototype.match=function(a,c,m){if("string"!=typeof a){var _=this.string.slice(this.pos).match(a);return _&&_.index>0?null:(_&&!1!==c&&(this.pos+=_[0].length),_)}var v=function(G){return m?G.toLowerCase():G};if(v(this.string.substr(this.pos,a.length))==v(a))return!1!==c&&(this.pos+=a.length),!0},mi.prototype.current=function(){return this.string.slice(this.start,this.pos)},mi.prototype.hideFirstChars=function(a,c){this.lineStart+=a;try{return c()}finally{this.lineStart-=a}},mi.prototype.lookAhead=function(a){var c=this.lineOracle;return c&&c.lookAhead(a)},mi.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var un=function(a,c){this.state=a,this.lookAhead=c},Ft=function(a,c,m,v){this.state=c,this.doc=a,this.line=m,this.maxLookAhead=v||0,this.baseTokens=null,this.baseTokenPos=1};function qt(a,c,m,v){var y=[a.state.modeGen],_={};Sr(a,c.text,a.doc.mode,m,function(ue,De){return y.push(ue,De)},_,v);for(var G=m.state,X=function(ue){m.baseTokens=y;var De=a.state.overlays[ue],ke=1,We=0;m.state=!0,Sr(a,c.text,De.mode,m,function(ze,st){for(var pt=ke;We<ze;){var Vt=y[ke];Vt>ze&&y.splice(ke,1,ze,y[ke+1],Vt),ke+=2,We=Math.min(ze,Vt)}if(st)if(De.opaque)y.splice(pt,ke-pt,ze,"overlay "+st),ke=pt+2;else for(;pt<ke;pt+=2){var Gt=y[pt+1];y[pt+1]=(Gt?Gt+" ":"")+"overlay "+st}},_),m.state=G,m.baseTokens=null,m.baseTokenPos=1},Q=0;Q<a.state.overlays.length;++Q)X(Q);return{styles:y,classes:_.bgClass||_.textClass?_:null}}function Nn(a,c,m){if(!c.styles||c.styles[0]!=a.state.modeGen){var v=Pt(a,xr(c)),y=c.text.length>a.options.maxHighlightLength&&vi(a.doc.mode,v.state),_=qt(a,c,v);y&&(v.state=y),c.stateAfter=v.save(!y),c.styles=_.styles,_.classes?c.styleClasses=_.classes:c.styleClasses&&(c.styleClasses=null),m===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return c.styles}function Pt(a,c,m){var v=a.doc,y=a.display;if(!v.mode.startState)return new Ft(v,!0,c);var _=function Jr(a,c,m){for(var v,y,_=a.doc,G=m?-1:c-(a.doc.mode.innerMode?1e3:100),X=c;X>G;--X){if(X<=_.first)return _.first;var Q=mn(_,X-1),ue=Q.stateAfter;if(ue&&(!m||X+(ue instanceof un?ue.lookAhead:0)<=_.modeFrontier))return X;var De=ln(Q.text,null,a.options.tabSize);(null==y||v>De)&&(y=X-1,v=De)}return y}(a,c,m),G=_>v.first&&mn(v,_-1).stateAfter,X=G?Ft.fromSaved(v,G,_):new Ft(v,Mf(v.mode),_);return v.iter(_,c,function(Q){wr(a,Q.text,X);var ue=X.line;Q.stateAfter=ue==c-1||ue%5==0||ue>=y.viewFrom&&ue<y.viewTo?X.save():null,X.nextLine()}),m&&(v.modeFrontier=X.line),X}function wr(a,c,m,v){var y=a.doc.mode,_=new mi(c,a.options.tabSize,m);for(_.start=_.pos=v||0,""==c&&Un(y,m.state);!_.eol();)Yn(y,_,m.state),_.start=_.pos}function Un(a,c){if(a.blankLine)return a.blankLine(c);if(a.innerMode){var m=pa(a,c);if(m.mode.blankLine)return m.mode.blankLine(m.state)}}function Yn(a,c,m,v){for(var y=0;y<10;y++){v&&(v[0]=pa(a,m).mode);var _=a.token(c,m);if(c.pos>c.start)return _}throw new Error("Mode "+a.name+" failed to advance stream.")}Ft.prototype.lookAhead=function(a){var c=this.doc.getLine(this.line+a);return null!=c&&a>this.maxLookAhead&&(this.maxLookAhead=a),c},Ft.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var c=this.baseTokens[this.baseTokenPos+1];return{type:c&&c.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Ft.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Ft.fromSaved=function(a,c,m){return c instanceof un?new Ft(a,vi(a.mode,c.state),m,c.lookAhead):new Ft(a,vi(a.mode,c),m)},Ft.prototype.save=function(a){var c=!1!==a?vi(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new un(c,this.maxLookAhead):c};var Wr=function(a,c,m){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=c||null,this.state=m};function Dn(a,c,m,v){var G,De,y=a.doc,_=y.mode,X=mn(y,(c=Je(y,c)).line),Q=Pt(a,c.line,m),ue=new mi(X.text,a.options.tabSize,Q);for(v&&(De=[]);(v||ue.pos<c.ch)&&!ue.eol();)ue.start=ue.pos,G=Yn(_,ue,Q.state),v&&De.push(new Wr(ue,G,vi(y.mode,Q.state)));return v?De:new Wr(ue,G,Q.state)}function Jt(a,c){if(a)for(;;){var m=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!m)break;a=a.slice(0,m.index)+a.slice(m.index+m[0].length);var v=m[1]?"bgClass":"textClass";null==c[v]?c[v]=m[2]:new RegExp("(?:^|\\s)"+m[2]+"(?:$|\\s)").test(c[v])||(c[v]+=" "+m[2])}return a}function Sr(a,c,m,v,y,_,G){var X=m.flattenSpans;null==X&&(X=a.options.flattenSpans);var ke,Q=0,ue=null,De=new mi(c,a.options.tabSize,v),We=a.options.addModeClass&&[null];for(""==c&&Jt(Un(m,v.state),_);!De.eol();){if(De.pos>a.options.maxHighlightLength?(X=!1,G&&wr(a,c,v,De.pos),De.pos=c.length,ke=null):ke=Jt(Yn(m,De,v.state,We),_),We){var ze=We[0].name;ze&&(ke="m-"+(ke?ze+" "+ke:ze))}if(!X||ue!=ke){for(;Q<De.start;)y(Q=Math.min(De.start,Q+5e3),ue);ue=ke}De.start=De.pos}for(;Q<De.pos;){var st=Math.min(De.pos,Q+5e3);y(st,ue),Q=st}}var ar=!1,ct=!1;function On(a,c,m){this.marker=a,this.from=c,this.to=m}function Kr(a,c){if(a)for(var m=0;m<a.length;++m){var v=a[m];if(v.marker==c)return v}}function Di(a,c){for(var m,v=0;v<a.length;++v)a[v]!=c&&(m||(m=[])).push(a[v]);return m}function As(a,c){if(c.full)return null;var m=mo(a,c.from.line)&&mn(a,c.from.line).markedSpans,v=mo(a,c.to.line)&&mn(a,c.to.line).markedSpans;if(!m&&!v)return null;var y=c.from.ch,_=c.to.ch,G=0==kn(c.from,c.to),X=function xi(a,c,m){var v;if(a)for(var y=0;y<a.length;++y){var _=a[y],G=_.marker;null!=_.from&&!(G.inclusiveLeft?_.from<=c:_.from<c)&&(_.from!=c||"bookmark"!=G.type||m&&_.marker.insertLeft)||(v||(v=[])).push(new On(G,_.from,null==_.to||(G.inclusiveRight?_.to>=c:_.to>c)?null:_.to))}return v}(m,y,G),Q=function Er(a,c,m){var v;if(a)for(var y=0;y<a.length;++y){var _=a[y],G=_.marker;(null==_.to||(G.inclusiveRight?_.to>=c:_.to>c)||_.from==c&&"bookmark"==G.type&&(!m||_.marker.insertLeft))&&(v||(v=[])).push(new On(G,null==_.from||(G.inclusiveLeft?_.from<=c:_.from<c)?null:_.from-c,null==_.to?null:_.to-c))}return v}(v,_,G),ue=1==c.text.length,De=hn(c.text).length+(ue?y:0);if(X)for(var ke=0;ke<X.length;++ke){var We=X[ke];if(null==We.to){var ze=Kr(Q,We.marker);ze?ue&&(We.to=null==ze.to?null:ze.to+De):We.to=y}}if(Q)for(var st=0;st<Q.length;++st){var pt=Q[st];null!=pt.to&&(pt.to+=De),null==pt.from?Kr(X,pt.marker)||(pt.from=De,ue&&(X||(X=[])).push(pt)):(pt.from+=De,ue&&(X||(X=[])).push(pt))}X&&(X=Zr(X)),Q&&Q!=X&&(Q=Zr(Q));var Gt=[X];if(!ue){var $t,Xt=c.text.length-2;if(Xt>0&&X)for(var jt=0;jt<X.length;++jt)null==X[jt].to&&($t||($t=[])).push(new On(X[jt].marker,null,null));for(var Sn=0;Sn<Xt;++Sn)Gt.push($t);Gt.push(Q)}return Gt}function Zr(a){for(var c=0;c<a.length;++c){var m=a[c];null!=m.from&&m.from==m.to&&!1!==m.marker.clearWhenEmpty&&a.splice(c--,1)}return a.length?a:null}function ki(a){var c=a.markedSpans;if(c){for(var m=0;m<c.length;++m)c[m].marker.detachLine(a);a.markedSpans=null}}function Ns(a,c){if(c){for(var m=0;m<c.length;++m)c[m].marker.attachLine(a);a.markedSpans=c}}function ci(a){return a.inclusiveLeft?-1:0}function pl(a){return a.inclusiveRight?1:0}function Iu(a,c){var m=a.lines.length-c.lines.length;if(0!=m)return m;var v=a.find(),y=c.find(),_=kn(v.from,y.from)||ci(a)-ci(c);return _?-_:kn(v.to,y.to)||pl(a)-pl(c)||c.id-a.id}function gl(a,c){var v,m=ct&&a.markedSpans;if(m)for(var y=void 0,_=0;_<m.length;++_)(y=m[_]).marker.collapsed&&null==(c?y.from:y.to)&&(!v||Iu(v,y.marker)<0)&&(v=y.marker);return v}function Au(a){return gl(a,!0)}function ga(a){return gl(a,!1)}function fs(a,c){var v,m=ct&&a.markedSpans;if(m)for(var y=0;y<m.length;++y){var _=m[y];_.marker.collapsed&&(null==_.from||_.from<c)&&(null==_.to||_.to>c)&&(!v||Iu(v,_.marker)<0)&&(v=_.marker)}return v}function Hi(a,c,m,v,y){var _=mn(a,c),G=ct&&_.markedSpans;if(G)for(var X=0;X<G.length;++X){var Q=G[X];if(Q.marker.collapsed){var ue=Q.marker.find(0),De=kn(ue.from,m)||ci(Q.marker)-ci(y),ke=kn(ue.to,v)||pl(Q.marker)-pl(y);if(!(De>=0&&ke<=0||De<=0&&ke>=0)&&(De<=0&&(Q.marker.inclusiveRight&&y.inclusiveLeft?kn(ue.to,m)>=0:kn(ue.to,m)>0)||De>=0&&(Q.marker.inclusiveRight&&y.inclusiveLeft?kn(ue.from,v)<=0:kn(ue.from,v)<0)))return!0}}}function Gn(a){for(var c;c=Au(a);)a=c.find(-1,!0).line;return a}function Dc(a,c){var m=mn(a,c),v=Gn(m);return m==v?c:xr(v)}function Cn(a,c){if(c>a.lastLine())return c;var v,m=mn(a,c);if(!Ws(a,m))return c;for(;v=ga(m);)m=v.find(1,!0).line;return xr(m)+1}function Ws(a,c){var m=ct&&c.markedSpans;if(m)for(var v=void 0,y=0;y<m.length;++y)if((v=m[y]).marker.collapsed){if(null==v.from)return!0;if(!v.marker.widgetNode&&0==v.from&&v.marker.inclusiveLeft&&yo(a,c,v))return!0}}function yo(a,c,m){if(null==m.to){var v=m.marker.find(1,!0);return yo(a,v.line,Kr(v.line.markedSpans,m.marker))}if(m.marker.inclusiveRight&&m.to==c.text.length)return!0;for(var y=void 0,_=0;_<c.markedSpans.length;++_)if((y=c.markedSpans[_]).marker.collapsed&&!y.marker.widgetNode&&y.from==m.to&&(null==y.to||y.to!=m.from)&&(y.marker.inclusiveLeft||m.marker.inclusiveRight)&&yo(a,c,y))return!0}function va(a){for(var c=0,m=(a=Gn(a)).parent,v=0;v<m.lines.length;++v){var y=m.lines[v];if(y==a)break;c+=y.height}for(var _=m.parent;_;_=(m=_).parent)for(var G=0;G<_.children.length;++G){var X=_.children[G];if(X==m)break;c+=X.height}return c}function Nu(a){if(0==a.height)return 0;for(var m,c=a.text.length,v=a;m=Au(v);){var y=m.find(0,!0);v=y.from.line,c+=y.from.ch-y.to.ch}for(v=a;m=ga(v);){var _=m.find(0,!0);c-=v.text.length-_.from.ch,c+=(v=_.to.line).text.length-_.to.ch}return c}function zl(a){var c=a.display,m=a.doc;c.maxLine=mn(m,m.first),c.maxLineLength=Nu(c.maxLine),c.maxLineChanged=!0,m.iter(function(v){var y=Nu(v);y>c.maxLineLength&&(c.maxLineLength=y,c.maxLine=v)})}var js=function(a,c,m){this.text=a,Ns(this,c),this.height=m?m(this):1};function ma(a){a.parent=null,ki(a)}js.prototype.lineNo=function(){return xr(this)},fa(js);var ds={},vl={};function Ou(a,c){if(!a||/^\s*$/.test(a))return null;var m=c.addModeClass?vl:ds;return m[a]||(m[a]=a.replace(/\S+/g,"cm-$&"))}function Mn(a,c){var m=Ve("span",null,null,R?"padding-right: .1px":null),v={pre:Ve("pre",[m],"CodeMirror-line"),content:m,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};c.measure={};for(var y=0;y<=(c.rest?c.rest.length:0);y++){var _=y?c.rest[y-1]:c.line,G=void 0;v.pos=0,v.addToken=$s,yc(a.display.measure)&&(G=Ma(_,a.doc.direction))&&(v.addToken=za(v.addToken,G)),v.map=[],ei(_,v,Nn(a,_,c!=a.display.externalMeasured&&xr(_))),_.styleClasses&&(_.styleClasses.bgClass&&(v.bgClass=yt(_.styleClasses.bgClass,v.bgClass||"")),_.styleClasses.textClass&&(v.textClass=yt(_.styleClasses.textClass,v.textClass||""))),0==v.map.length&&v.map.push(0,0,v.content.appendChild(Cd(a.display.measure))),0==y?(c.measure.map=v.map,c.measure.cache={}):((c.measure.maps||(c.measure.maps=[])).push(v.map),(c.measure.caches||(c.measure.caches=[])).push({}))}if(R){var Q=v.content.lastChild;(/\bcm-tab\b/.test(Q.className)||Q.querySelector&&Q.querySelector(".cm-tab"))&&(v.content.className="cm-tab-wrap-hack")}return Qr(a,"renderLine",a,c.line,v.pre),v.pre.className&&(v.textClass=yt(v.pre.className,v.textClass||"")),v}function Oa(a){var c=xe("span","\u2022","cm-invalidchar");return c.title="\\u"+a.charCodeAt(0).toString(16),c.setAttribute("aria-label",c.title),c}function $s(a,c,m,v,y,_,G){if(c){var De,X=a.splitSpaces?function eo(a,c){if(a.length>1&&!/  /.test(a))return a;for(var m=c,v="",y=0;y<a.length;y++){var _=a.charAt(y);" "==_&&m&&(y==a.length-1||32==a.charCodeAt(y+1))&&(_="\xa0"),v+=_,m=" "==_}return v}(c,a.trailingSpace):c,Q=a.cm.state.specialChars,ue=!1;if(Q.test(c)){De=document.createDocumentFragment();for(var ke=0;;){Q.lastIndex=ke;var We=Q.exec(c),ze=We?We.index-ke:c.length-ke;if(ze){var st=document.createTextNode(X.slice(ke,ke+ze));De.appendChild(C&&S<9?xe("span",[st]):st),a.map.push(a.pos,a.pos+ze,st),a.col+=ze,a.pos+=ze}if(!We)break;ke+=ze+1;var pt=void 0;if("\t"==We[0]){var Vt=a.cm.options.tabSize,Gt=Vt-a.col%Vt;(pt=De.appendChild(xe("span",fr(Gt),"cm-tab"))).setAttribute("role","presentation"),pt.setAttribute("cm-text","\t"),a.col+=Gt}else"\r"==We[0]||"\n"==We[0]?((pt=De.appendChild(xe("span","\r"==We[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",We[0]),a.col+=1):((pt=a.cm.options.specialCharPlaceholder(We[0])).setAttribute("cm-text",We[0]),De.appendChild(C&&S<9?xe("span",[pt]):pt),a.col+=1);a.map.push(a.pos,a.pos+1,pt),a.pos++}}else a.col+=c.length,De=document.createTextNode(X),a.map.push(a.pos,a.pos+c.length,De),C&&S<9&&(ue=!0),a.pos+=c.length;if(a.trailingSpace=32==X.charCodeAt(c.length-1),m||v||y||ue||_||G){var Xt=m||"";v&&(Xt+=v),y&&(Xt+=y);var $t=xe("span",[De],Xt,_);if(G)for(var jt in G)G.hasOwnProperty(jt)&&"style"!=jt&&"class"!=jt&&$t.setAttribute(jt,G[jt]);return a.content.appendChild($t)}a.content.appendChild(De)}}function za(a,c){return function(m,v,y,_,G,X,Q){y=y?y+" cm-force-border":"cm-force-border";for(var ue=m.pos,De=ue+v.length;;){for(var ke=void 0,We=0;We<c.length&&!((ke=c[We]).to>ue&&ke.from<=ue);We++);if(ke.to>=De)return a(m,v,y,_,G,X,Q);a(m,v.slice(0,ke.to-ue),y,_,null,X,Q),_=null,v=v.slice(ke.to-ue),ue=ke.to}}}function ml(a,c,m,v){var y=!v&&m.widgetNode;y&&a.map.push(a.pos,a.pos+c,y),!v&&a.cm.display.input.needsContentAttribute&&(y||(y=a.content.appendChild(document.createElement("span"))),y.setAttribute("cm-marker",m.id)),y&&(a.cm.display.input.setUneditable(y),a.content.appendChild(y)),a.pos+=c,a.trailingSpace=!1}function ei(a,c,m){var v=a.markedSpans,y=a.text,_=0;if(v)for(var ke,We,st,pt,Vt,Gt,Xt,X=y.length,Q=0,ue=1,De="",ze=0;;){if(ze==Q){st=pt=Vt=We="",Xt=null,Gt=null,ze=1/0;for(var $t=[],jt=void 0,Sn=0;Sn<v.length;++Sn){var vn=v[Sn],zn=vn.marker;if("bookmark"==zn.type&&vn.from==Q&&zn.widgetNode)$t.push(zn);else if(vn.from<=Q&&(null==vn.to||vn.to>Q||zn.collapsed&&vn.to==Q&&vn.from==Q)){if(null!=vn.to&&vn.to!=Q&&ze>vn.to&&(ze=vn.to,pt=""),zn.className&&(st+=" "+zn.className),zn.css&&(We=(We?We+";":"")+zn.css),zn.startStyle&&vn.from==Q&&(Vt+=" "+zn.startStyle),zn.endStyle&&vn.to==ze&&(jt||(jt=[])).push(zn.endStyle,vn.to),zn.title&&((Xt||(Xt={})).title=zn.title),zn.attributes)for(var nr in zn.attributes)(Xt||(Xt={}))[nr]=zn.attributes[nr];zn.collapsed&&(!Gt||Iu(Gt.marker,zn)<0)&&(Gt=vn)}else vn.from>Q&&ze>vn.from&&(ze=vn.from)}if(jt)for(var di=0;di<jt.length;di+=2)jt[di+1]==ze&&(pt+=" "+jt[di]);if(!Gt||Gt.from==Q)for(var oi=0;oi<$t.length;++oi)ml(c,0,$t[oi]);if(Gt&&(Gt.from||0)==Q){if(ml(c,(null==Gt.to?X+1:Gt.to)-Q,Gt.marker,null==Gt.from),null==Gt.to)return;Gt.to==Q&&(Gt=!1)}}if(Q>=X)break;for(var Ao=Math.min(X,ze);;){if(De){var Ni=Q+De.length;if(!Gt){var hi=Ni>Ao?De.slice(0,Ao-Q):De;c.addToken(c,hi,ke?ke+st:st,Vt,Q+hi.length==ze?pt:"",We,Xt)}if(Ni>=Ao){De=De.slice(Ao-Q),Q=Ao;break}Q=Ni,Vt=""}De=y.slice(_,_=m[ue++]),ke=Ou(m[ue++],c.cm.options)}}else for(var G=1;G<m.length;G+=2)c.addToken(c,y.slice(_,_=m[G]),Ou(m[G+1],c.cm.options))}function Af(a,c,m){this.line=c,this.rest=function If(a){for(var c,m;c=ga(a);)a=c.find(1,!0).line,(m||(m=[])).push(a);return m}(c),this.size=this.rest?xr(hn(this.rest))-m+1:1,this.node=this.text=null,this.hidden=Ws(a,c)}function ko(a,c,m){for(var y,v=[],_=c;_<m;_=y){var G=new Af(a.doc,mn(a.doc,_),_);y=_+G.size,v.push(G)}return v}var Ru=null;var Pu=null;function to(a,c){var m=ta(a,c);if(m.length){var y,v=Array.prototype.slice.call(arguments,2);Ru?y=Ru.delayedCallbacks:Pu?y=Pu:(y=Pu=[],setTimeout(Ed,0));for(var _=function(X){y.push(function(){return m[X].apply(null,v)})},G=0;G<m.length;++G)_(G)}}function Ed(){var a=Pu;Pu=null;for(var c=0;c<a.length;++c)a[c]()}function Dd(a,c,m,v){for(var y=0;y<c.changes.length;y++){var _=c.changes[y];"text"==_?Ih(a,c):"gutter"==_?xd(a,c,m,v):"class"==_?gn(a,c):"widget"==_&&sn(a,c,v)}c.changes=null}function Os(a){return a.node==a.text&&(a.node=xe("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),C&&S<8&&(a.node.style.zIndex=2)),a.node}function ya(a,c){var m=a.display.externalMeasured;return m&&m.line==c.line?(a.display.externalMeasured=null,c.measure=m.measure,m.built):Mn(a,c)}function Ih(a,c){var m=c.text.className,v=ya(a,c);c.text==c.node&&(c.node=v.pre),c.text.parentNode.replaceChild(v.pre,c.text),c.text=v.pre,v.bgClass!=c.bgClass||v.textClass!=c.textClass?(c.bgClass=v.bgClass,c.textClass=v.textClass,gn(a,c)):m&&(c.text.className=m)}function gn(a,c){(function Mh(a,c){var m=c.bgClass?c.bgClass+" "+(c.line.bgClass||""):c.line.bgClass;if(m&&(m+=" CodeMirror-linebackground"),c.background)m?c.background.className=m:(c.background.parentNode.removeChild(c.background),c.background=null);else if(m){var v=Os(c);c.background=v.insertBefore(xe("div",null,m),v.firstChild),a.display.input.setUneditable(c.background)}})(a,c),c.line.wrapClass?Os(c).className=c.line.wrapClass:c.node!=c.text&&(c.node.className=""),c.text.className=(c.textClass?c.textClass+" "+(c.line.textClass||""):c.line.textClass)||""}function xd(a,c,m,v){if(c.gutter&&(c.node.removeChild(c.gutter),c.gutter=null),c.gutterBackground&&(c.node.removeChild(c.gutterBackground),c.gutterBackground=null),c.line.gutterClass){var y=Os(c);c.gutterBackground=xe("div",null,"CodeMirror-gutter-background "+c.line.gutterClass,"left: "+(a.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px; width: "+v.gutterTotalWidth+"px"),a.display.input.setUneditable(c.gutterBackground),y.insertBefore(c.gutterBackground,c.text)}var _=c.line.gutterMarkers;if(a.options.lineNumbers||_){var G=Os(c),X=c.gutter=xe("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px");if(X.setAttribute("aria-hidden","true"),a.display.input.setUneditable(X),G.insertBefore(X,c.text),c.line.gutterClass&&(X.className+=" "+c.line.gutterClass),a.options.lineNumbers&&(!_||!_["CodeMirror-linenumbers"])&&(c.lineNumber=X.appendChild(xe("div",Cc(a.options,m),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+v.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),_)for(var Q=0;Q<a.display.gutterSpecs.length;++Q){var ue=a.display.gutterSpecs[Q].className,De=_.hasOwnProperty(ue)&&_[ue];De&&X.appendChild(xe("div",[De],"CodeMirror-gutter-elt","left: "+v.gutterLeft[ue]+"px; width: "+v.gutterWidth[ue]+"px"))}}}function sn(a,c,m){c.alignable&&(c.alignable=null);for(var v=ie("CodeMirror-linewidget"),y=c.node.firstChild,_=void 0;y;y=_)_=y.nextSibling,v.test(y.className)&&c.node.removeChild(y);Of(a,c,m)}function Nf(a,c,m,v){var y=ya(a,c);return c.text=c.node=y.pre,y.bgClass&&(c.bgClass=y.bgClass),y.textClass&&(c.textClass=y.textClass),gn(a,c),xd(a,c,m,v),Of(a,c,v),c.node}function Of(a,c,m){if(ku(a,c.line,c,m,!0),c.rest)for(var v=0;v<c.rest.length;v++)ku(a,c.rest[v],c,m,!1)}function ku(a,c,m,v,y){if(c.widgets)for(var _=Os(m),G=0,X=c.widgets;G<X.length;++G){var Q=X[G],ue=xe("div",[Q.node],"CodeMirror-linewidget"+(Q.className?" "+Q.className:""));Q.handleMouseEvents||ue.setAttribute("cm-ignore-events","true"),$p(Q,ue,m,v),a.display.input.setUneditable(ue),y&&Q.above?_.insertBefore(ue,m.gutter||m.text):_.appendChild(ue),to(Q,"redraw")}}function $p(a,c,m,v){if(a.noHScroll){(m.alignable||(m.alignable=[])).push(c);var y=v.wrapperWidth;c.style.left=v.fixedPos+"px",a.coverGutter||(y-=v.gutterTotalWidth,c.style.paddingLeft=v.gutterTotalWidth+"px"),c.style.width=y+"px"}a.coverGutter&&(c.style.zIndex=5,c.style.position="relative",a.noHScroll||(c.style.marginLeft=-v.gutterTotalWidth+"px"))}function _u(a){if(null!=a.height)return a.height;var c=a.doc.cm;if(!c)return 0;if(!et(document.body,a.node)){var m="position: relative;";a.coverGutter&&(m+="margin-left: -"+c.display.gutters.offsetWidth+"px;"),a.noHScroll&&(m+="width: "+c.display.wrapper.clientWidth+"px;"),Se(c.display.measure,xe("div",[a.node],null,m))}return a.height=a.node.parentNode.offsetHeight}function Ys(a,c){for(var m=Is(c);m!=a.wrapper;m=m.parentNode)if(!m||1==m.nodeType&&"true"==m.getAttribute("cm-ignore-events")||m.parentNode==a.sizer&&m!=a.mover)return!0}function Wa(a){return a.lineSpace.offsetTop}function ja(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function ba(a){if(a.cachedPaddingH)return a.cachedPaddingH;var c=Se(a.measure,xe("pre","x","CodeMirror-line-like")),m=window.getComputedStyle?window.getComputedStyle(c):c.currentStyle,v={left:parseInt(m.paddingLeft),right:parseInt(m.paddingRight)};return!isNaN(v.left)&&!isNaN(v.right)&&(a.cachedPaddingH=v),v}function no(a){return lt-a.display.nativeBarWidth}function dr(a){return a.display.scroller.clientWidth-no(a)-a.display.barWidth}function Fu(a){return a.display.scroller.clientHeight-no(a)-a.display.barHeight}function Lf(a,c,m){if(a.line==c)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var v=0;v<a.rest.length;v++)if(a.rest[v]==c)return{map:a.measure.maps[v],cache:a.measure.caches[v]};for(var y=0;y<a.rest.length;y++)if(xr(a.rest[y])>m)return{map:a.measure.maps[y],cache:a.measure.caches[y],before:!0}}}function hs(a,c,m,v){return ps(a,bl(a,c),m,v)}function yl(a,c){if(c>=a.display.viewFrom&&c<a.display.viewTo)return a.display.view[Ui(a,c)];var m=a.display.externalMeasured;return m&&c>=m.lineN&&c<m.lineN+m.size?m:void 0}function bl(a,c){var m=xr(c),v=yl(a,m);v&&!v.text?v=null:v&&v.changes&&(Dd(a,v,m,Bf(a)),a.curOp.forceUpdate=!0),v||(v=function Ah(a,c){var m=xr(c=Gn(c)),v=a.display.externalMeasured=new Af(a.doc,c,m);v.lineN=m;var y=v.built=Mn(a,v);return v.text=y.pre,Se(a.display.lineMeasure,y.pre),v}(a,c));var y=Lf(v,c,m);return{line:c,view:v,rect:null,map:y.map,cache:y.cache,before:y.before,hasHeights:!1}}function ps(a,c,m,v,y){c.before&&(m=-1);var G,_=m+(v||"");return c.cache.hasOwnProperty(_)?G=c.cache[_]:(c.rect||(c.rect=c.view.text.getBoundingClientRect()),c.hasHeights||(function Rf(a,c,m){var v=a.options.lineWrapping,y=v&&dr(a);if(!c.measure.heights||v&&c.measure.width!=y){var _=c.measure.heights=[];if(v){c.measure.width=y;for(var G=c.text.firstChild.getClientRects(),X=0;X<G.length-1;X++){var Q=G[X],ue=G[X+1];Math.abs(Q.bottom-ue.bottom)>2&&_.push((Q.bottom+ue.top)/2-m.top)}}_.push(m.bottom-m.top)}}(a,c.view,c.rect),c.hasHeights=!0),(G=function wl(a,c,m,v){var ue,y=$l(c.map,m,v),_=y.node,G=y.start,X=y.end,Q=y.collapse;if(3==_.nodeType){for(var De=0;De<4;De++){for(;G&&Ta(c.line.text.charAt(y.coverStart+G));)--G;for(;y.coverStart+X<y.coverEnd&&Ta(c.line.text.charAt(y.coverStart+X));)++X;if((ue=C&&S<9&&0==G&&X==y.coverEnd-y.coverStart?_.parentNode.getBoundingClientRect():Yl(_e(_,G,X).getClientRects(),v)).left||ue.right||0==G)break;X=G,G-=1,Q="right"}C&&S<11&&(ue=function Nh(a,c){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function Su(a){if(null!=bc)return bc;var c=Se(a,xe("span","x")),m=c.getBoundingClientRect(),v=_e(c,0,1).getBoundingClientRect();return bc=Math.abs(m.left-v.left)>1}(a))return c;var m=screen.logicalXDPI/screen.deviceXDPI,v=screen.logicalYDPI/screen.deviceYDPI;return{left:c.left*m,right:c.right*m,top:c.top*v,bottom:c.bottom*v}}(a.display.measure,ue))}else{var ke;G>0&&(Q=v="right"),ue=a.options.lineWrapping&&(ke=_.getClientRects()).length>1?ke["right"==v?ke.length-1:0]:_.getBoundingClientRect()}if(C&&S<9&&!G&&(!ue||!ue.left&&!ue.right)){var We=_.parentNode.getClientRects()[0];ue=We?{left:We.left,right:We.left+Xs(a.display),top:We.top,bottom:We.bottom}:Pf}for(var ze=ue.top-c.rect.top,st=ue.bottom-c.rect.top,pt=(ze+st)/2,Vt=c.view.measure.heights,Gt=0;Gt<Vt.length-1&&!(pt<Vt[Gt]);Gt++);var jt={left:("right"==Q?ue.right:ue.left)-c.rect.left,right:("left"==Q?ue.left:ue.right)-c.rect.left,top:Gt?Vt[Gt-1]:0,bottom:Vt[Gt]};return!ue.left&&!ue.right&&(jt.bogus=!0),a.options.singleCursorHeightPerLine||(jt.rtop=ze,jt.rbottom=st),jt}(a,c,m,v)).bogus||(c.cache[_]=G)),{left:G.left,right:G.right,top:y?G.rtop:G.top,bottom:y?G.rbottom:G.bottom}}var Xl,Pf={left:0,right:0,top:0,bottom:0};function $l(a,c,m){for(var v,y,_,G,X,Q,ue=0;ue<a.length;ue+=3)if(Q=a[ue+1],c<(X=a[ue])?(y=0,_=1,G="left"):c<Q?_=1+(y=c-X):(ue==a.length-3||c==Q&&a[ue+3]>c)&&(y=(_=Q-X)-1,c>=Q&&(G="right")),null!=y){if(v=a[ue+2],X==Q&&m==(v.insertLeft?"left":"right")&&(G=m),"left"==m&&0==y)for(;ue&&a[ue-2]==a[ue-3]&&a[ue-1].insertLeft;)v=a[2+(ue-=3)],G="left";if("right"==m&&y==Q-X)for(;ue<a.length-3&&a[ue+3]==a[ue+4]&&!a[ue+5].insertLeft;)v=a[(ue+=3)+2],G="right";break}return{node:v,start:y,end:_,collapse:G,coverStart:X,coverEnd:Q}}function Yl(a,c){var m=Pf;if("left"==c)for(var v=0;v<a.length&&(m=a[v]).left==m.right;v++);else for(var y=a.length-1;y>=0&&(m=a[y]).left==m.right;y--);return m}function xc(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var c=0;c<a.rest.length;c++)a.measure.caches[c]={}}function Sc(a){a.display.externalMeasure=null,we(a.display.lineMeasure);for(var c=0;c<a.display.view.length;c++)xc(a.display.view[c])}function Cl(a){Sc(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function Sd(a){return B&&ne?-(a.body.getBoundingClientRect().left-parseInt(getComputedStyle(a.body).marginLeft)):a.defaultView.pageXOffset||(a.documentElement||a.body).scrollLeft}function Td(a){return B&&ne?-(a.body.getBoundingClientRect().top-parseInt(getComputedStyle(a.body).marginTop)):a.defaultView.pageYOffset||(a.documentElement||a.body).scrollTop}function Ra(a){var m=Gn(a).widgets,v=0;if(m)for(var y=0;y<m.length;++y)m[y].above&&(v+=_u(m[y]));return v}function kf(a,c,m,v,y){if(!y){var _=Ra(c);m.top+=_,m.bottom+=_}if("line"==v)return m;v||(v="local");var G=va(c);if("local"==v?G+=Wa(a.display):G-=a.display.viewOffset,"page"==v||"window"==v){var X=a.display.lineSpace.getBoundingClientRect();G+=X.top+("window"==v?0:Td(Yt(a)));var Q=X.left+("window"==v?0:Sd(Yt(a)));m.left+=Q,m.right+=Q}return m.top+=G,m.bottom+=G,m}function Md(a,c,m){if("div"==m)return c;var v=c.left,y=c.top;if("page"==m)v-=Sd(Yt(a)),y-=Td(Yt(a));else if("local"==m||!m){var _=a.display.sizer.getBoundingClientRect();v+=_.left,y+=_.top}var G=a.display.lineSpace.getBoundingClientRect();return{left:v-G.left,top:y-G.top}}function Tc(a,c,m,v,y){return v||(v=mn(a.doc,c.line)),kf(a,v,hs(a,v,c.ch,y),m)}function $a(a,c,m,v,y,_){function G(st,pt){var Vt=ps(a,y,st,pt?"right":"left",_);return pt?Vt.left=Vt.right:Vt.right=Vt.left,kf(a,v,Vt,m)}v=v||mn(a.doc,c.line),y||(y=bl(a,v));var X=Ma(v,a.doc.direction),Q=c.ch,ue=c.sticky;if(Q>=v.text.length?(Q=v.text.length,ue="before"):Q<=0&&(Q=0,ue="after"),!X)return G("before"==ue?Q-1:Q,"before"==ue);function De(st,pt,Vt){return G(Vt?st-1:st,1==X[pt].level!=Vt)}var ke=Lo(X,Q,ue),We=Ro,ze=De(Q,ke,"before"==ue);return null!=We&&(ze.other=De(Q,We,"before"!=ue)),ze}function Oh(a,c){var m=0;c=Je(a.doc,c),a.options.lineWrapping||(m=Xs(a.display)*c.ch);var v=mn(a.doc,c.line),y=va(v)+Wa(a.display);return{left:m,right:m,top:y,bottom:y+v.height}}function Id(a,c,m,v,y){var _=Et(a,c,m);return _.xRel=y,v&&(_.outside=v),_}function _f(a,c,m){var v=a.doc;if((m+=a.display.viewOffset)<0)return Id(v.first,0,null,-1,-1);var y=Pi(v,m),_=v.first+v.size-1;if(y>_)return Id(v.first+v.size-1,mn(v,_).text.length,null,1,1);c<0&&(c=0);for(var G=mn(v,y);;){var X=Si(a,G,y,c,m),Q=fs(G,X.ch+(X.xRel>0||X.outside>0?1:0));if(!Q)return X;var ue=Q.find(1);if(ue.line==y)return ue;G=mn(v,y=ue.line)}}function Rh(a,c,m,v){v-=Ra(c);var y=c.text.length,_=En(function(G){return ps(a,m,G-1).bottom<=v},y,0);return{begin:_,end:y=En(function(G){return ps(a,m,G).top>v},_,y)}}function Lh(a,c,m,v){return m||(m=bl(a,c)),Rh(a,c,m,kf(a,c,ps(a,m,v),"line").top)}function Ff(a,c,m,v){return!(a.bottom<=m)&&(a.top>m||(v?a.left:a.right)>c)}function Si(a,c,m,v,y){y-=va(c);var _=bl(a,c),G=Ra(c),X=0,Q=c.text.length,ue=!0,De=Ma(c,a.doc.direction);if(De){var ke=(a.options.lineWrapping?Xp:Yp)(a,c,m,_,De,v,y);X=(ue=1!=ke.level)?ke.from:ke.to-1,Q=ue?ke.to:ke.from-1}var pt,Vt,We=null,ze=null,st=En(function(Sn){var vn=ps(a,_,Sn);return vn.top+=G,vn.bottom+=G,!!Ff(vn,v,y,!1)&&(vn.top<=y&&vn.left<=v&&(We=Sn,ze=vn),!0)},X,Q),Gt=!1;if(ze){var Xt=v-ze.left<ze.right-v,$t=Xt==ue;st=We+($t?0:1),Vt=$t?"after":"before",pt=Xt?ze.left:ze.right}else{!ue&&(st==Q||st==X)&&st++,Vt=0==st?"after":st==c.text.length?"before":ps(a,_,st-(ue?1:0)).bottom+G<=y==ue?"after":"before";var jt=$a(a,Et(m,st,Vt),"line",c,_);pt=jt.left,Gt=y<jt.top?-1:y>=jt.bottom?1:0}return Id(m,st=ss(c.text,st,1),Vt,Gt,v-pt)}function Yp(a,c,m,v,y,_,G){var X=En(function(ke){var We=y[ke],ze=1!=We.level;return Ff($a(a,Et(m,ze?We.to:We.from,ze?"before":"after"),"line",c,v),_,G,!0)},0,y.length-1),Q=y[X];if(X>0){var ue=1!=Q.level,De=$a(a,Et(m,ue?Q.from:Q.to,ue?"after":"before"),"line",c,v);Ff(De,_,G,!0)&&De.top>G&&(Q=y[X-1])}return Q}function Xp(a,c,m,v,y,_,G){var X=Rh(a,c,v,G),Q=X.begin,ue=X.end;/\s/.test(c.text.charAt(ue-1))&&ue--;for(var De=null,ke=null,We=0;We<y.length;We++){var ze=y[We];if(!(ze.from>=ue||ze.to<=Q)){var pt=ps(a,v,1!=ze.level?Math.min(ue,ze.to)-1:Math.max(Q,ze.from)).right,Vt=pt<_?_-pt+1e9:pt-_;(!De||ke>Vt)&&(De=ze,ke=Vt)}}return De||(De=y[y.length-1]),De.from<Q&&(De={from:Q,to:De.to,level:De.level}),De.to>ue&&(De={from:De.from,to:ue,level:De.level}),De}function bo(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==Xl){Xl=xe("pre",null,"CodeMirror-line-like");for(var c=0;c<49;++c)Xl.appendChild(document.createTextNode("x")),Xl.appendChild(xe("br"));Xl.appendChild(document.createTextNode("x"))}Se(a.measure,Xl);var m=Xl.offsetHeight/50;return m>3&&(a.cachedTextHeight=m),we(a.measure),m||1}function Xs(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var c=xe("span","xxxxxxxxxx"),m=xe("pre",[c],"CodeMirror-line-like");Se(a.measure,m);var v=c.getBoundingClientRect(),y=(v.right-v.left)/10;return y>2&&(a.cachedCharWidth=y),y||10}function Bf(a){for(var c=a.display,m={},v={},y=c.gutters.clientLeft,_=c.gutters.firstChild,G=0;_;_=_.nextSibling,++G){var X=a.display.gutterSpecs[G].className;m[X]=_.offsetLeft+_.clientLeft+y,v[X]=_.clientWidth}return{fixedPos:_n(c),gutterTotalWidth:c.gutters.offsetWidth,gutterLeft:m,gutterWidth:v,wrapperWidth:c.wrapper.clientWidth}}function _n(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function zo(a){var c=bo(a.display),m=a.options.lineWrapping,v=m&&Math.max(5,a.display.scroller.clientWidth/Xs(a.display)-3);return function(y){if(Ws(a.doc,y))return 0;var _=0;if(y.widgets)for(var G=0;G<y.widgets.length;G++)y.widgets[G].height&&(_+=y.widgets[G].height);return m?_+(Math.ceil(y.text.length/v)||1)*c:_+c}}function Mr(a){var c=a.doc,m=zo(a);c.iter(function(v){var y=m(v);y!=v.height&&vo(v,y)})}function Ti(a,c,m,v){var y=a.display;if(!m&&"true"==Is(c).getAttribute("cm-not-content"))return null;var _,G,X=y.lineSpace.getBoundingClientRect();try{_=c.clientX-X.left,G=c.clientY-X.top}catch{return null}var ue,Q=_f(a,_,G);if(v&&Q.xRel>0&&(ue=mn(a.doc,Q.line).text).length==Q.ch){var De=ln(ue,ue.length,a.options.tabSize)-ue.length;Q=Et(Q.line,Math.max(0,Math.round((_-ba(a.display).left)/Xs(a.display))-De))}return Q}function Ui(a,c){if(c>=a.display.viewTo||(c-=a.display.viewFrom)<0)return null;for(var m=a.display.view,v=0;v<m.length;v++)if((c-=m[v].size)<0)return v}function Gi(a,c,m,v){null==c&&(c=a.doc.first),null==m&&(m=a.doc.first+a.doc.size),v||(v=0);var y=a.display;if(v&&m<y.viewTo&&(null==y.updateLineNumbers||y.updateLineNumbers>c)&&(y.updateLineNumbers=c),a.curOp.viewChanged=!0,c>=y.viewTo)ct&&Dc(a.doc,c)<y.viewTo&&Ks(a);else if(m<=y.viewFrom)ct&&Cn(a.doc,m+v)>y.viewFrom?Ks(a):(y.viewFrom+=v,y.viewTo+=v);else if(c<=y.viewFrom&&m>=y.viewTo)Ks(a);else if(c<=y.viewFrom){var _=Bu(a,m,m+v,1);_?(y.view=y.view.slice(_.index),y.viewFrom=_.lineN,y.viewTo+=v):Ks(a)}else if(m>=y.viewTo){var G=Bu(a,c,c,-1);G?(y.view=y.view.slice(0,G.index),y.viewTo=G.lineN):Ks(a)}else{var X=Bu(a,c,c,-1),Q=Bu(a,m,m+v,1);X&&Q?(y.view=y.view.slice(0,X.index).concat(ko(a,X.lineN,Q.lineN)).concat(y.view.slice(Q.index)),y.viewTo+=v):Ks(a)}var ue=y.externalMeasured;ue&&(m<ue.lineN?ue.lineN+=v:c<ue.lineN+ue.size&&(y.externalMeasured=null))}function zi(a,c,m){a.curOp.viewChanged=!0;var v=a.display,y=a.display.externalMeasured;if(y&&c>=y.lineN&&c<y.lineN+y.size&&(v.externalMeasured=null),!(c<v.viewFrom||c>=v.viewTo)){var _=v.view[Ui(a,c)];if(null!=_.node){var G=_.changes||(_.changes=[]);-1==Qe(G,m)&&G.push(m)}}}function Ks(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function Bu(a,c,m,v){var _,y=Ui(a,c),G=a.display.view;if(!ct||m==a.doc.first+a.doc.size)return{index:y,lineN:m};for(var X=a.display.viewFrom,Q=0;Q<y;Q++)X+=G[Q].size;if(X!=c){if(v>0){if(y==G.length-1)return null;_=X+G[y].size-c,y++}else _=X-c;c+=_,m+=_}for(;Dc(a.doc,m)!=m;){if(y==(v<0?0:G.length-1))return null;m+=v*G[y-(v<0?1:0)].size,y+=v}return{index:y,lineN:m}}function Ad(a){for(var c=a.display.view,m=0,v=0;v<c.length;v++){var y=c[v];!y.hidden&&(!y.node||y.changes)&&++m}return m}function Mc(a){a.display.input.showSelection(a.display.input.prepareSelection())}function Wi(a,c){void 0===c&&(c=!0);var m=a.doc,v={},y=v.cursors=document.createDocumentFragment(),_=v.selection=document.createDocumentFragment(),G=a.options.$customCursor;G&&(c=!0);for(var X=0;X<m.sel.ranges.length;X++)if(c||X!=m.sel.primIndex){var Q=m.sel.ranges[X];if(!(Q.from().line>=a.display.viewTo||Q.to().line<a.display.viewFrom)){var ue=Q.empty();if(G){var De=G(a,Q);De&&rn(a,De,y)}else(ue||a.options.showCursorWhenSelecting)&&rn(a,Q.head,y);ue||yi(a,Q,_)}}return v}function rn(a,c,m){var v=$a(a,c,"div",null,null,!a.options.singleCursorHeightPerLine),y=m.appendChild(xe("div","\xa0","CodeMirror-cursor"));if(y.style.left=v.left+"px",y.style.top=v.top+"px",y.style.height=Math.max(0,v.bottom-v.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var _=Tc(a,c,"div",null,null),G=_.right-_.left;y.style.width=(G>0?G:a.defaultCharWidth())+"px"}if(v.other){var X=m.appendChild(xe("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));X.style.display="",X.style.left=v.other.left+"px",X.style.top=v.other.top+"px",X.style.height=.85*(v.other.bottom-v.other.top)+"px"}}function Rn(a,c){return a.top-c.top||a.left-c.left}function yi(a,c,m){var v=a.display,y=a.doc,_=document.createDocumentFragment(),G=ba(a.display),X=G.left,Q=Math.max(v.sizerWidth,dr(a)-v.sizer.offsetLeft)-G.right,ue="ltr"==y.direction;function De($t,jt,Sn,vn){jt<0&&(jt=0),jt=Math.round(jt),vn=Math.round(vn),_.appendChild(xe("div",null,"CodeMirror-selected","position: absolute; left: "+$t+"px;\n                             top: "+jt+"px; width: "+(Sn??Q-$t)+"px;\n                             height: "+(vn-jt)+"px"))}function ke($t,jt,Sn){var nr,di,vn=mn(y,$t),zn=vn.text.length;function oi(hi,Ko){return Tc(a,Et($t,hi),"div",vn,Ko)}function Ao(hi,Ko,No){var co=Lh(a,vn,null,hi),Nr="ltr"==Ko==("after"==No)?"left":"right";return oi("after"==No?co.begin:co.end-(/\s/.test(vn.text.charAt(co.end-1))?2:1),Nr)[Nr]}var Ni=Ma(vn,y.direction);return function hl(a,c,m,v){if(!a)return v(c,m,"ltr",0);for(var y=!1,_=0;_<a.length;++_){var G=a[_];(G.from<m&&G.to>c||c==m&&G.to==c)&&(v(Math.max(G.from,c),Math.min(G.to,m),1==G.level?"rtl":"ltr",_),y=!0)}y||v(c,m,"ltr")}(Ni,jt||0,Sn??zn,function(hi,Ko,No,co){var Nr="ltr"==No,ai=oi(hi,Nr?"left":"right"),Xi=oi(Ko-1,Nr?"right":"left"),cf=null==jt&&0==hi,rl=null==Sn&&Ko==zn,Fo=0==co,Fs=!Ni||co==Ni.length-1;if(Xi.top-ai.top<=3){var il=(ue?cf:rl)&&Fo?X:(Nr?ai:Xi).left;De(il,ai.top,((ue?rl:cf)&&Fs?Q:(Nr?Xi:ai).right)-il,ai.bottom)}else{var ol,pi,tc,Bs;Nr?(ol=ue&&cf&&Fo?X:ai.left,pi=ue?Q:Ao(hi,No,"before"),tc=ue?X:Ao(Ko,No,"after"),Bs=ue&&rl&&Fs?Q:Xi.right):(ol=ue?Ao(hi,No,"before"):X,pi=!ue&&cf&&Fo?Q:ai.right,tc=!ue&&rl&&Fs?X:Xi.left,Bs=ue?Ao(Ko,No,"after"):Q),De(ol,ai.top,pi-ol,ai.bottom),ai.bottom<Xi.top&&De(X,ai.bottom,null,Xi.top),De(tc,Xi.top,Bs-tc,Xi.bottom)}(!nr||Rn(ai,nr)<0)&&(nr=ai),Rn(Xi,nr)<0&&(nr=Xi),(!di||Rn(ai,di)<0)&&(di=ai),Rn(Xi,di)<0&&(di=Xi)}),{start:nr,end:di}}var We=c.from(),ze=c.to();if(We.line==ze.line)ke(We.line,We.ch,ze.ch);else{var st=mn(y,We.line),pt=mn(y,ze.line),Vt=Gn(st)==Gn(pt),Gt=ke(We.line,We.ch,Vt?st.text.length+1:null).end,Xt=ke(ze.line,Vt?0:null,ze.ch).start;Vt&&(Gt.top<Xt.top-2?(De(Gt.right,Gt.top,null,Gt.bottom),De(X,Xt.top,Xt.left,Xt.bottom)):De(Gt.right,Gt.top,Xt.left-Gt.right,Gt.bottom)),Gt.bottom<Xt.top&&De(X,Gt.bottom,null,Xt.top)}m.appendChild(_)}function Wo(a){if(a.state.focused){var c=a.display;clearInterval(c.blinker);var m=!0;c.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?c.blinker=setInterval(function(){a.hasFocus()||ti(a),c.cursorDiv.style.visibility=(m=!m)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(c.cursorDiv.style.visibility="hidden")}}function Vu(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||Zs(a))}function ro(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&ti(a))},100)}function Zs(a,c){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),"nocursor"!=a.options.readOnly&&(a.state.focused||(Qr(a,"focus",a,c),a.state.focused=!0,Xe(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),R&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Wo(a))}function ti(a,c){a.state.delayingBlurEvent||(a.state.focused&&(Qr(a,"blur",a,c),a.state.focused=!1,ge(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function Rs(a){for(var c=a.display,m=c.lineDiv.offsetTop,v=Math.max(0,c.scroller.getBoundingClientRect().top),y=c.lineDiv.getBoundingClientRect().top,_=0,G=0;G<c.view.length;G++){var X=c.view[G],Q=a.options.lineWrapping,ue=void 0,De=0;if(!X.hidden){if(y+=X.line.height,C&&S<8){var ke=X.node.offsetTop+X.node.offsetHeight;ue=ke-m,m=ke}else{var We=X.node.getBoundingClientRect();ue=We.bottom-We.top,!Q&&X.text.firstChild&&(De=X.text.firstChild.getBoundingClientRect().right-We.left-1)}var ze=X.line.height-ue;if((ze>.005||ze<-.005)&&(y<v&&(_-=ze),vo(X.line,ue),jo(X.line),X.rest))for(var st=0;st<X.rest.length;st++)jo(X.rest[st]);if(De>a.display.sizerWidth){var pt=Math.ceil(De/Xs(a.display));pt>a.display.maxLineLength&&(a.display.maxLineLength=pt,a.display.maxLine=X.line,a.display.maxLineChanged=!0)}}}Math.abs(_)>2&&(c.scroller.scrollTop+=_)}function jo(a){if(a.widgets)for(var c=0;c<a.widgets.length;++c){var m=a.widgets[c],v=m.node.parentNode;v&&(m.height=v.offsetHeight)}}function Vn(a,c,m){var v=m&&null!=m.top?Math.max(0,m.top):a.scroller.scrollTop;v=Math.floor(v-Wa(a));var y=m&&null!=m.bottom?m.bottom:v+a.wrapper.clientHeight,_=Pi(c,v),G=Pi(c,y);if(m&&m.ensure){var X=m.ensure.from.line,Q=m.ensure.to.line;X<_?(_=X,G=Pi(c,va(mn(c,X))+a.wrapper.clientHeight)):Math.min(Q,c.lastLine())>=G&&(_=Pi(c,va(mn(c,Q))-a.wrapper.clientHeight),G=Q)}return{from:_,to:Math.max(G,_+1)}}function Mi(a,c){var m=a.display,v=bo(a.display);c.top<0&&(c.top=0);var y=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:m.scroller.scrollTop,_=Fu(a),G={};c.bottom-c.top>_&&(c.bottom=c.top+_);var X=a.doc.height+ja(m),ue=c.bottom>X-v;if(c.top<y)G.scrollTop=c.top<v?0:c.top;else if(c.bottom>y+_){var De=Math.min(c.top,(ue?X:c.bottom)-_);De!=y&&(G.scrollTop=De)}var ke=a.options.fixedGutter?0:m.gutters.offsetWidth,We=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:m.scroller.scrollLeft-ke,ze=dr(a)-m.gutters.offsetWidth,st=c.right-c.left>ze;return st&&(c.right=c.left+ze),c.left<10?G.scrollLeft=0:c.left<We?G.scrollLeft=Math.max(0,c.left+ke-(st?0:10)):c.right>ze+We-3&&(G.scrollLeft=c.right+(st?0:10)-ze),G}function Ya(a,c){null!=c&&(Ac(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+c)}function La(a){Ac(a);var c=a.getCursor();a.curOp.scrollToPos={from:c,to:c,margin:a.options.cursorScrollMargin}}function ji(a,c,m){(null!=c||null!=m)&&Ac(a),null!=c&&(a.curOp.scrollLeft=c),null!=m&&(a.curOp.scrollTop=m)}function Ac(a){var c=a.curOp.scrollToPos;c&&(a.curOp.scrollToPos=null,qs(a,Oh(a,c.from),Oh(a,c.to),c.margin))}function qs(a,c,m,v){var y=Mi(a,{left:Math.min(c.left,m.left),top:Math.min(c.top,m.top)-v,right:Math.max(c.right,m.right),bottom:Math.max(c.bottom,m.bottom)+v});ji(a,y.scrollLeft,y.scrollTop)}function Jn(a,c){Math.abs(a.doc.scrollTop-c)<2||(T||_a(a,{top:c}),Nc(a,c,!0),T&&_a(a),ni(a,100))}function Nc(a,c,m){c=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,c)),(a.display.scroller.scrollTop!=c||m)&&(a.doc.scrollTop=c,a.display.scrollbars.setScrollTop(c),a.display.scroller.scrollTop!=c&&(a.display.scroller.scrollTop=c))}function Pa(a,c,m,v){c=Math.max(0,Math.min(c,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),(!(m?c==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-c)<2)||v)&&(a.doc.scrollLeft=c,Ph(a),a.display.scroller.scrollLeft!=c&&(a.display.scroller.scrollLeft=c),a.display.scrollbars.setScrollLeft(c))}function on(a){var c=a.display,m=c.gutters.offsetWidth,v=Math.round(a.doc.height+ja(a.display));return{clientHeight:c.scroller.clientHeight,viewHeight:c.wrapper.clientHeight,scrollWidth:c.scroller.scrollWidth,clientWidth:c.scroller.clientWidth,viewWidth:c.wrapper.clientWidth,barLeft:a.options.fixedGutter?m:0,docHeight:v,scrollHeight:v+no(a)+c.barHeight,nativeBarWidth:c.nativeBarWidth,gutterWidth:m}}var Ir=function(a,c,m){this.cm=m;var v=this.vert=xe("div",[xe("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),y=this.horiz=xe("div",[xe("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");v.tabIndex=y.tabIndex=-1,a(v),a(y),pn(v,"scroll",function(){v.clientHeight&&c(v.scrollTop,"vertical")}),pn(y,"scroll",function(){y.clientWidth&&c(y.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,C&&S<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ir.prototype.update=function(a){var c=a.scrollWidth>a.clientWidth+1,m=a.scrollHeight>a.clientHeight+1,v=a.nativeBarWidth;return m?(this.vert.style.display="block",this.vert.style.bottom=c?v+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(c?v:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),c?(this.horiz.style.display="block",this.horiz.style.right=m?v+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+(a.viewWidth-a.barLeft-(m?v:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&a.clientHeight>0&&(0==v&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:m?v:0,bottom:c?v:0}},Ir.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ir.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ir.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=se&&!$?"12px":"18px",this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new nt,this.disableVert=new nt},Ir.prototype.enableZeroWidthBar=function(a,c,m){a.style.visibility="",c.set(1e3,function v(){var y=a.getBoundingClientRect();("vert"==m?document.elementFromPoint(y.right-1,(y.top+y.bottom)/2):document.elementFromPoint((y.right+y.left)/2,y.bottom-1))!=a?a.style.visibility="hidden":c.set(1e3,v)})},Ir.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var an=function(){};function Qs(a,c){c||(c=on(a));var m=a.display.barWidth,v=a.display.barHeight;gs(a,c);for(var y=0;y<4&&m!=a.display.barWidth||v!=a.display.barHeight;y++)m!=a.display.barWidth&&a.options.lineWrapping&&Rs(a),gs(a,on(a)),m=a.display.barWidth,v=a.display.barHeight}function gs(a,c){var m=a.display,v=m.scrollbars.update(c);m.sizer.style.paddingRight=(m.barWidth=v.right)+"px",m.sizer.style.paddingBottom=(m.barHeight=v.bottom)+"px",m.heightForcer.style.borderBottom=v.bottom+"px solid transparent",v.right&&v.bottom?(m.scrollbarFiller.style.display="block",m.scrollbarFiller.style.height=v.bottom+"px",m.scrollbarFiller.style.width=v.right+"px"):m.scrollbarFiller.style.display="",v.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(m.gutterFiller.style.display="block",m.gutterFiller.style.height=v.bottom+"px",m.gutterFiller.style.width=c.gutterWidth+"px"):m.gutterFiller.style.display=""}an.prototype.update=function(){return{bottom:0,right:0}},an.prototype.setScrollLeft=function(){},an.prototype.setScrollTop=function(){},an.prototype.clear=function(){};var Oc={native:Ir,null:an};function Zl(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&ge(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new Oc[a.options.scrollbarStyle](function(c){a.display.wrapper.insertBefore(c,a.display.scrollbarFiller),pn(c,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),c.setAttribute("cm-not-content","true")},function(c,m){"horizontal"==m?Pa(a,c):Jn(a,c)},a),a.display.scrollbars.addClass&&Xe(a.display.wrapper,a.display.scrollbars.addClass)}var Ls=0;function jr(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ls,markArrays:null},function Wl(a){Ru?Ru.ops.push(a):a.ownsGroup=Ru={ops:[a],delayedCallbacks:[]}}(a.curOp)}function El(a){var c=a.curOp;c&&function Lu(a,c){var m=a.ownsGroup;if(m)try{!function jl(a){var c=a.delayedCallbacks,m=0;do{for(;m<c.length;m++)c[m].call(null);for(var v=0;v<a.ops.length;v++){var y=a.ops[v];if(y.cursorActivityHandlers)for(;y.cursorActivityCalled<y.cursorActivityHandlers.length;)y.cursorActivityHandlers[y.cursorActivityCalled++].call(null,y.cm)}}while(m<c.length)}(m)}finally{Ru=null,c(m)}}(c,function(m){for(var v=0;v<m.ops.length;v++)m.ops[v].cm.curOp=null;!function ka(a){for(var c=a.ops,m=0;m<c.length;m++)wa(c[m]);for(var v=0;v<c.length;v++)Od(c[v]);for(var y=0;y<c.length;y++)ql(c[y]);for(var _=0;_<c.length;_++)Hf(c[_]);for(var G=0;G<c.length;G++)Xa(c[G])}(m)})}function wa(a){var c=a.cm,m=c.display;(function _v(a){var c=a.display;!c.scrollbarsClipped&&c.scroller.offsetWidth&&(c.nativeBarWidth=c.scroller.offsetWidth-c.scroller.clientWidth,c.heightForcer.style.height=no(a)+"px",c.sizer.style.marginBottom=-c.nativeBarWidth+"px",c.sizer.style.borderRightWidth=no(a)+"px",c.scrollbarsClipped=!0)})(c),a.updateMaxLine&&zl(c),a.mustUpdate=a.viewChanged||a.forceUpdate||null!=a.scrollTop||a.scrollToPos&&(a.scrollToPos.from.line<m.viewFrom||a.scrollToPos.to.line>=m.viewTo)||m.maxLineChanged&&c.options.lineWrapping,a.update=a.mustUpdate&&new Rd(c,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function Od(a){a.updatedDisplay=a.mustUpdate&&Js(a.cm,a.update)}function ql(a){var c=a.cm,m=c.display;a.updatedDisplay&&Rs(c),a.barMeasure=on(c),m.maxLineChanged&&!c.options.lineWrapping&&(a.adjustWidthTo=hs(c,m.maxLine,m.maxLine.text.length).left+3,c.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(m.scroller.clientWidth,m.sizer.offsetLeft+a.adjustWidthTo+no(c)+c.display.barWidth),a.maxScrollLeft=Math.max(0,m.sizer.offsetLeft+a.adjustWidthTo-dr(c))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=m.input.prepareSelection())}function Hf(a){var c=a.cm;null!=a.adjustWidthTo&&(c.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<c.doc.scrollLeft&&Pa(c,Math.min(c.display.scroller.scrollLeft,a.maxScrollLeft),!0),c.display.maxLineChanged=!1);var m=a.focus&&a.focus==at(Yt(c));a.preparedSelection&&c.display.input.showSelection(a.preparedSelection,m),(a.updatedDisplay||a.startHeight!=c.doc.height)&&Qs(c,a.barMeasure),a.updatedDisplay&&Ld(c,a.barMeasure),a.selectionChanged&&Wo(c),c.state.focused&&a.updateInput&&c.display.input.reset(a.typing),m&&Vu(a.cm)}function Xa(a){var c=a.cm,m=c.display,v=c.doc;a.updatedDisplay&&Dl(c,a.update),null!=m.wheelStartX&&(null!=a.scrollTop||null!=a.scrollLeft||a.scrollToPos)&&(m.wheelStartX=m.wheelStartY=null),null!=a.scrollTop&&Nc(c,a.scrollTop,a.forceScroll),null!=a.scrollLeft&&Pa(c,a.scrollLeft,!0,!0),a.scrollToPos&&function Hu(a,c){if(!Li(a,"scrollCursorIntoView")){var m=a.display,v=m.sizer.getBoundingClientRect(),y=null,_=m.wrapper.ownerDocument;if(c.top+v.top<0?y=!0:c.bottom+v.top>(_.defaultView.innerHeight||_.documentElement.clientHeight)&&(y=!1),null!=y&&!J){var G=xe("div","\u200b",null,"position: absolute;\n                         top: "+(c.top-m.viewOffset-Wa(a.display))+"px;\n                         height: "+(c.bottom-c.top+no(a)+m.barHeight)+"px;\n                         left: "+c.left+"px; width: "+Math.max(2,c.right-c.left)+"px;");a.display.lineSpace.appendChild(G),G.scrollIntoView(y),a.display.lineSpace.removeChild(G)}}}(c,function Nd(a,c,m,v){var y;null==v&&(v=0),!a.options.lineWrapping&&c==m&&(m="before"==c.sticky?Et(c.line,c.ch+1,"before"):c,c=c.ch?Et(c.line,"before"==c.sticky?c.ch-1:c.ch,"after"):c);for(var _=0;_<5;_++){var G=!1,X=$a(a,c),Q=m&&m!=c?$a(a,m):X,ue=Mi(a,y={left:Math.min(X.left,Q.left),top:Math.min(X.top,Q.top)-v,right:Math.max(X.left,Q.left),bottom:Math.max(X.bottom,Q.bottom)+v}),De=a.doc.scrollTop,ke=a.doc.scrollLeft;if(null!=ue.scrollTop&&(Jn(a,ue.scrollTop),Math.abs(a.doc.scrollTop-De)>1&&(G=!0)),null!=ue.scrollLeft&&(Pa(a,ue.scrollLeft),Math.abs(a.doc.scrollLeft-ke)>1&&(G=!0)),!G)break}return y}(c,Je(v,a.scrollToPos.from),Je(v,a.scrollToPos.to),a.scrollToPos.margin));var _=a.maybeHiddenMarkers,G=a.maybeUnhiddenMarkers;if(_)for(var X=0;X<_.length;++X)_[X].lines.length||Qr(_[X],"hide");if(G)for(var Q=0;Q<G.length;++Q)G[Q].lines.length&&Qr(G[Q],"unhide");m.wrapper.offsetHeight&&(v.scrollTop=c.display.scroller.scrollTop),a.changeObjs&&Qr(c,"changes",c,a.changeObjs),a.update&&a.update.finish()}function $o(a,c){if(a.curOp)return c();jr(a);try{return c()}finally{El(a)}}function io(a,c){return function(){if(a.curOp)return c.apply(a,arguments);jr(a);try{return c.apply(a,arguments)}finally{El(a)}}}function wo(a){return function(){if(this.curOp)return a.apply(this,arguments);jr(this);try{return a.apply(this,arguments)}finally{El(this)}}}function Co(a){return function(){var c=this.cm;if(!c||c.curOp)return a.apply(this,arguments);jr(c);try{return a.apply(this,arguments)}finally{El(c)}}}function ni(a,c){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(c,Ut(ii,a))}function ii(a){var c=a.doc;if(!(c.highlightFrontier>=a.display.viewTo)){var m=+new Date+a.options.workTime,v=Pt(a,c.highlightFrontier),y=[];c.iter(v.line,Math.min(c.first+c.size,a.display.viewTo+500),function(_){if(v.line>=a.display.viewFrom){var G=_.styles,X=_.text.length>a.options.maxHighlightLength?vi(c.mode,v.state):null,Q=qt(a,_,v,!0);X&&(v.state=X),_.styles=Q.styles;var ue=_.styleClasses,De=Q.classes;De?_.styleClasses=De:ue&&(_.styleClasses=null);for(var ke=!G||G.length!=_.styles.length||ue!=De&&(!ue||!De||ue.bgClass!=De.bgClass||ue.textClass!=De.textClass),We=0;!ke&&We<G.length;++We)ke=G[We]!=_.styles[We];ke&&y.push(v.line),_.stateAfter=v.save(),v.nextLine()}else _.text.length<=a.options.maxHighlightLength&&wr(a,_.text,v),_.stateAfter=v.line%5==0?v.save():null,v.nextLine();if(+new Date>m)return ni(a,a.options.workDelay),!0}),c.highlightFrontier=v.line,c.modeFrontier=Math.max(c.modeFrontier,v.line),y.length&&$o(a,function(){for(var _=0;_<y.length;_++)zi(a,y[_],"text")})}}var Rd=function(a,c,m){var v=a.display;this.viewport=c,this.visible=Vn(v,a.doc,c),this.editorIsHidden=!v.wrapper.offsetWidth,this.wrapperHeight=v.wrapper.clientHeight,this.wrapperWidth=v.wrapper.clientWidth,this.oldDisplayWidth=dr(a),this.force=m,this.dims=Bf(a),this.events=[]};function Js(a,c){var m=a.display,v=a.doc;if(c.editorIsHidden)return Ks(a),!1;if(!c.force&&c.visible.from>=m.viewFrom&&c.visible.to<=m.viewTo&&(null==m.updateLineNumbers||m.updateLineNumbers>=m.viewTo)&&m.renderedView==m.view&&0==Ad(a))return!1;Kp(a)&&(Ks(a),c.dims=Bf(a));var y=v.first+v.size,_=Math.max(c.visible.from-a.options.viewportMargin,v.first),G=Math.min(y,c.visible.to+a.options.viewportMargin);m.viewFrom<_&&_-m.viewFrom<20&&(_=Math.max(v.first,m.viewFrom)),m.viewTo>G&&m.viewTo-G<20&&(G=Math.min(y,m.viewTo)),ct&&(_=Dc(a.doc,_),G=Cn(a.doc,G));var X=_!=m.viewFrom||G!=m.viewTo||m.lastWrapHeight!=c.wrapperHeight||m.lastWrapWidth!=c.wrapperWidth;(function Vf(a,c,m){var v=a.display;0==v.view.length||c>=v.viewTo||m<=v.viewFrom?(v.view=ko(a,c,m),v.viewFrom=c):(v.viewFrom>c?v.view=ko(a,c,v.viewFrom).concat(v.view):v.viewFrom<c&&(v.view=v.view.slice(Ui(a,c))),v.viewFrom=c,v.viewTo<m?v.view=v.view.concat(ko(a,v.viewTo,m)):v.viewTo>m&&(v.view=v.view.slice(0,Ui(a,m)))),v.viewTo=m})(a,_,G),m.viewOffset=va(mn(a.doc,m.viewFrom)),a.display.mover.style.top=m.viewOffset+"px";var Q=Ad(a);if(!X&&0==Q&&!c.force&&m.renderedView==m.view&&(null==m.updateLineNumbers||m.updateLineNumbers>=m.viewTo))return!1;var ue=function Fv(a){if(a.hasFocus())return null;var c=at(Yt(a));if(!c||!et(a.display.lineDiv,c))return null;var m={activeElt:c};if(window.getSelection){var v=_t(a).getSelection();v.anchorNode&&v.extend&&et(a.display.lineDiv,v.anchorNode)&&(m.anchorNode=v.anchorNode,m.anchorOffset=v.anchorOffset,m.focusNode=v.focusNode,m.focusOffset=v.focusOffset)}return m}(a);return Q>4&&(m.lineDiv.style.display="none"),function Rc(a,c,m){var v=a.display,y=a.options.lineNumbers,_=v.lineDiv,G=_.firstChild;function X(st){var pt=st.nextSibling;return R&&se&&a.display.currentWheelTarget==st?st.style.display="none":st.parentNode.removeChild(st),pt}for(var Q=v.view,ue=v.viewFrom,De=0;De<Q.length;De++){var ke=Q[De];if(!ke.hidden)if(ke.node&&ke.node.parentNode==_){for(;G!=ke.node;)G=X(G);var ze=y&&null!=c&&c<=ue&&ke.lineNumber;ke.changes&&(Qe(ke.changes,"gutter")>-1&&(ze=!1),Dd(a,ke,ue,m)),ze&&(we(ke.lineNumber),ke.lineNumber.appendChild(document.createTextNode(Cc(a.options,ue)))),G=ke.node.nextSibling}else{var We=Nf(a,ke,ue,m);_.insertBefore(We,G)}ue+=ke.size}for(;G;)G=X(G)}(a,m.updateLineNumbers,c.dims),Q>4&&(m.lineDiv.style.display=""),m.renderedView=m.view,function Ql(a){if(a&&a.activeElt&&a.activeElt!=at(a.activeElt.ownerDocument)&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&et(document.body,a.anchorNode)&&et(document.body,a.focusNode))){var c=a.activeElt.ownerDocument,m=c.defaultView.getSelection(),v=c.createRange();v.setEnd(a.anchorNode,a.anchorOffset),v.collapse(!1),m.removeAllRanges(),m.addRange(v),m.extend(a.focusNode,a.focusOffset)}}(ue),we(m.cursorDiv),we(m.selectionDiv),m.gutters.style.height=m.sizer.style.minHeight=0,X&&(m.lastWrapHeight=c.wrapperHeight,m.lastWrapWidth=c.wrapperWidth,ni(a,400)),m.updateLineNumbers=null,!0}function Dl(a,c){for(var m=c.viewport,v=!0;;v=!1){if(v&&a.options.lineWrapping&&c.oldDisplayWidth!=dr(a))v&&(c.visible=Vn(a.display,a.doc,m));else if(m&&null!=m.top&&(m={top:Math.min(a.doc.height+ja(a.display)-Fu(a),m.top)}),c.visible=Vn(a.display,a.doc,m),c.visible.from>=a.display.viewFrom&&c.visible.to<=a.display.viewTo)break;if(!Js(a,c))break;Rs(a);var y=on(a);Mc(a),Qs(a,y),Ld(a,y),c.force=!1}c.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(c.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function _a(a,c){var m=new Rd(a,c);if(Js(a,m)){Rs(a),Dl(a,m);var v=on(a);Mc(a),Qs(a,v),Ld(a,v),m.finish()}}function Uf(a){a.sizer.style.marginLeft=a.gutters.offsetWidth+"px",to(a,"gutterChanged",a)}function Ld(a,c){a.display.sizer.style.minHeight=c.docHeight+"px",a.display.heightForcer.style.top=c.docHeight+"px",a.display.gutters.style.height=c.docHeight+a.display.barHeight+no(a)+"px"}function Ph(a){var c=a.display,m=c.view;if(c.alignWidgets||c.gutters.firstChild&&a.options.fixedGutter){for(var v=_n(c)-c.scroller.scrollLeft+a.doc.scrollLeft,y=c.gutters.offsetWidth,_=v+"px",G=0;G<m.length;G++)if(!m[G].hidden){a.options.fixedGutter&&(m[G].gutter&&(m[G].gutter.style.left=_),m[G].gutterBackground&&(m[G].gutterBackground.style.left=_));var X=m[G].alignable;if(X)for(var Q=0;Q<X.length;Q++)X[Q].style.left=_}a.options.fixedGutter&&(c.gutters.style.left=v+y+"px")}}function Kp(a){if(!a.options.lineNumbers)return!1;var c=a.doc,m=Cc(a.options,c.first+c.size-1),v=a.display;if(m.length!=v.lineNumChars){var y=v.measure.appendChild(xe("div",[xe("div",m)],"CodeMirror-linenumber CodeMirror-gutter-elt")),_=y.firstChild.offsetWidth,G=y.offsetWidth-_;return v.lineGutter.style.width="",v.lineNumInnerWidth=Math.max(_,v.lineGutter.offsetWidth-G)+1,v.lineNumWidth=v.lineNumInnerWidth+G,v.lineNumChars=v.lineNumInnerWidth?m.length:-1,v.lineGutter.style.width=v.lineNumWidth+"px",Uf(a.display),!0}return!1}function xl(a,c){for(var m=[],v=!1,y=0;y<a.length;y++){var _=a[y],G=null;if("string"!=typeof _&&(G=_.style,_=_.className),"CodeMirror-linenumbers"==_){if(!c)continue;v=!0}m.push({className:_,style:G})}return c&&!v&&m.push({className:"CodeMirror-linenumbers",style:null}),m}function Gf(a){var c=a.gutters,m=a.gutterSpecs;we(c),a.lineGutter=null;for(var v=0;v<m.length;++v){var y=m[v],_=y.className,G=y.style,X=c.appendChild(xe("div",null,"CodeMirror-gutter "+_));G&&(X.style.cssText=G),"CodeMirror-linenumbers"==_&&(a.lineGutter=X,X.style.width=(a.lineNumWidth||1)+"px")}c.style.display=m.length?"":"none",Uf(a)}function zf(a){Gf(a.display),Gi(a),Ph(a)}function Pd(a,c,m,v){var y=this;this.input=m,y.scrollbarFiller=xe("div",null,"CodeMirror-scrollbar-filler"),y.scrollbarFiller.setAttribute("cm-not-content","true"),y.gutterFiller=xe("div",null,"CodeMirror-gutter-filler"),y.gutterFiller.setAttribute("cm-not-content","true"),y.lineDiv=Ve("div",null,"CodeMirror-code"),y.selectionDiv=xe("div",null,null,"position: relative; z-index: 1"),y.cursorDiv=xe("div",null,"CodeMirror-cursors"),y.measure=xe("div",null,"CodeMirror-measure"),y.lineMeasure=xe("div",null,"CodeMirror-measure"),y.lineSpace=Ve("div",[y.measure,y.lineMeasure,y.selectionDiv,y.cursorDiv,y.lineDiv],null,"position: relative; outline: none");var _=Ve("div",[y.lineSpace],"CodeMirror-lines");y.mover=xe("div",[_],null,"position: relative"),y.sizer=xe("div",[y.mover],"CodeMirror-sizer"),y.sizerWidth=null,y.heightForcer=xe("div",null,null,"position: absolute; height: "+lt+"px; width: 1px;"),y.gutters=xe("div",null,"CodeMirror-gutters"),y.lineGutter=null,y.scroller=xe("div",[y.sizer,y.heightForcer,y.gutters],"CodeMirror-scroll"),y.scroller.setAttribute("tabIndex","-1"),y.wrapper=xe("div",[y.scrollbarFiller,y.gutterFiller,y.scroller],"CodeMirror"),B&&k>=105&&(y.wrapper.style.clipPath="inset(0px)"),y.wrapper.setAttribute("translate","no"),C&&S<8&&(y.gutters.style.zIndex=-1,y.scroller.style.paddingRight=0),!R&&!(T&&le)&&(y.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(y.wrapper):a(y.wrapper)),y.viewFrom=y.viewTo=c.first,y.reportedViewFrom=y.reportedViewTo=c.first,y.view=[],y.renderedView=null,y.externalMeasured=null,y.viewOffset=0,y.lastWrapHeight=y.lastWrapWidth=0,y.updateLineNumbers=null,y.nativeBarWidth=y.barHeight=y.barWidth=0,y.scrollbarsClipped=!1,y.lineNumWidth=y.lineNumInnerWidth=y.lineNumChars=null,y.alignWidgets=!1,y.cachedCharWidth=y.cachedTextHeight=y.cachedPaddingH=null,y.maxLine=null,y.maxLineLength=0,y.maxLineChanged=!1,y.wheelDX=y.wheelDY=y.wheelStartX=y.wheelStartY=null,y.shift=!1,y.selForContextMenu=null,y.activeTouch=null,y.gutterSpecs=xl(v.gutters,v.lineNumbers),Gf(y),m.init(y)}Rd.prototype.signal=function(a,c){ui(a,c)&&this.events.push(arguments)},Rd.prototype.finish=function(){for(var a=0;a<this.events.length;a++)Qr.apply(null,this.events[a])};var Lc=0,$i=null;function Fa(a){var c=a.wheelDeltaX,m=a.wheelDeltaY;return null==c&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(c=a.detail),null==m&&a.detail&&a.axis==a.VERTICAL_AXIS?m=a.detail:null==m&&(m=a.wheelDelta),{x:c,y:m}}function Zp(a){var c=Fa(a);return c.x*=$i,c.y*=$i,c}function Pc(a,c){B&&102==k&&(null==a.display.chromeScrollHack?a.display.sizer.style.pointerEvents="none":clearTimeout(a.display.chromeScrollHack),a.display.chromeScrollHack=setTimeout(function(){a.display.chromeScrollHack=null,a.display.sizer.style.pointerEvents=""},100));var m=Fa(c),v=m.x,y=m.y,_=$i;0===c.deltaMode&&(v=c.deltaX,y=c.deltaY,_=1);var G=a.display,X=G.scroller,ue=X.scrollHeight>X.clientHeight;if(v&&X.scrollWidth>X.clientWidth||y&&ue){if(y&&se&&R)e:for(var De=c.target,ke=G.view;De!=X;De=De.parentNode)for(var We=0;We<ke.length;We++)if(ke[We].node==De){a.display.currentWheelTarget=De;break e}if(v&&!T&&!F&&null!=_)return y&&ue&&Jn(a,Math.max(0,X.scrollTop+y*_)),Pa(a,Math.max(0,X.scrollLeft+v*_)),(!y||y&&ue)&&Ei(c),void(G.wheelStartX=null);if(y&&null!=_){var ze=y*_,st=a.doc.scrollTop,pt=st+G.wrapper.clientHeight;ze<0?st=Math.max(0,st+ze-50):pt=Math.min(a.doc.height,pt+ze+50),_a(a,{top:st,bottom:pt})}Lc<20&&0!==c.deltaMode&&(null==G.wheelStartX?(G.wheelStartX=X.scrollLeft,G.wheelStartY=X.scrollTop,G.wheelDX=v,G.wheelDY=y,setTimeout(function(){if(null!=G.wheelStartX){var Vt=X.scrollLeft-G.wheelStartX,Gt=X.scrollTop-G.wheelStartY,Xt=Gt&&G.wheelDY&&Gt/G.wheelDY||Vt&&G.wheelDX&&Vt/G.wheelDX;G.wheelStartX=G.wheelStartY=null,Xt&&($i=($i*Lc+Xt)/(Lc+1),++Lc)}},200)):(G.wheelDX+=v,G.wheelDY+=y))}}C?$i=-.53:T?$i=15:B?$i=-.7:H&&($i=-1/3);var ra=function(a,c){this.ranges=a,this.primIndex=c};ra.prototype.primary=function(){return this.ranges[this.primIndex]},ra.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var c=0;c<this.ranges.length;c++){var m=this.ranges[c],v=a.ranges[c];if(!Ec(m.anchor,v.anchor)||!Ec(m.head,v.head))return!1}return!0},ra.prototype.deepCopy=function(){for(var a=[],c=0;c<this.ranges.length;c++)a[c]=new Pr(cs(this.ranges[c].anchor),cs(this.ranges[c].head));return new ra(a,this.primIndex)},ra.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},ra.prototype.contains=function(a,c){c||(c=a);for(var m=0;m<this.ranges.length;m++){var v=this.ranges[m];if(kn(c,v.from())>=0&&kn(a,v.to())<=0)return m}return-1};var Pr=function(a,c){this.anchor=a,this.head=c};function Yo(a,c,m){var v=a&&a.options.selectionsMayTouch,y=c[m];c.sort(function(We,ze){return kn(We.from(),ze.from())}),m=Qe(c,y);for(var _=1;_<c.length;_++){var G=c[_],X=c[_-1],Q=kn(X.to(),G.from());if(v&&!G.empty()?Q>0:Q>=0){var ue=Re(X.from(),G.from()),De=Ne(X.to(),G.to()),ke=X.empty()?G.from()==G.head:X.from()==X.head;_<=m&&--m,c.splice(--_,2,new Pr(ke?De:ue,ke?ue:De))}}return new ra(c,m)}function ia(a,c){return new ra([new Pr(a,c||a)],0)}function Eo(a){return a.text?Et(a.from.line+a.text.length-1,hn(a.text).length+(1==a.text.length?a.from.ch:0)):a.to}function Ka(a,c){if(kn(a,c.from)<0)return a;if(kn(a,c.to)<=0)return Eo(c);var m=a.line+c.text.length-(c.to.line-c.from.line)-1,v=a.ch;return a.line==c.to.line&&(v+=Eo(c).ch-c.to.ch),Et(m,v)}function Do(a,c){for(var m=[],v=0;v<a.sel.ranges.length;v++){var y=a.sel.ranges[v];m.push(new Pr(Ka(y.anchor,c),Ka(y.head,c)))}return Yo(a.cm,m,a.sel.primIndex)}function el(a,c,m){return a.line==c.line?Et(m.line,a.ch-c.ch+m.ch):Et(m.line+(a.line-c.line),a.ch)}function Uu(a){a.doc.mode=ha(a.options,a.doc.modeOption),Wf(a)}function Wf(a){a.doc.iter(function(c){c.stateAfter&&(c.stateAfter=null),c.styles&&(c.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,ni(a,100),a.state.modeGen++,a.curOp&&Gi(a)}function kc(a,c){return 0==c.from.ch&&0==c.to.ch&&""==hn(c.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Gu(a,c,m,v){function y(Xt){return m?m[Xt]:null}function _(Xt,$t,jt){(function Po(a,c,m,v){a.text=c,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),ki(a),Ns(a,m);var y=v?v(a):1;y!=a.height&&vo(a,y)})(Xt,$t,jt,v),to(Xt,"change",Xt,c)}function G(Xt,$t){for(var jt=[],Sn=Xt;Sn<$t;++Sn)jt.push(new js(ue[Sn],y(Sn),v));return jt}var X=c.from,Q=c.to,ue=c.text,De=mn(a,X.line),ke=mn(a,Q.line),We=hn(ue),ze=y(ue.length-1),st=Q.line-X.line;if(c.full)a.insert(0,G(0,ue.length)),a.remove(ue.length,a.size-ue.length);else if(kc(a,c)){var pt=G(0,ue.length-1);_(ke,ke.text,ze),st&&a.remove(X.line,st),pt.length&&a.insert(X.line,pt)}else if(De==ke)if(1==ue.length)_(De,De.text.slice(0,X.ch)+We+De.text.slice(Q.ch),ze);else{var Vt=G(1,ue.length-1);Vt.push(new js(We+De.text.slice(Q.ch),ze,v)),_(De,De.text.slice(0,X.ch)+ue[0],y(0)),a.insert(X.line+1,Vt)}else if(1==ue.length)_(De,De.text.slice(0,X.ch)+ue[0]+ke.text.slice(Q.ch),y(0)),a.remove(X.line+1,st);else{_(De,De.text.slice(0,X.ch)+ue[0],y(0)),_(ke,We+ke.text.slice(Q.ch),ze);var Gt=G(1,ue.length-1);st>1&&a.remove(X.line+1,st-1),a.insert(X.line+1,Gt)}to(a,"change",a,c)}function Za(a,c,m){!function v(y,_,G){if(y.linked)for(var X=0;X<y.linked.length;++X){var Q=y.linked[X];if(Q.doc!=_){var ue=G&&Q.sharedHist;m&&!ue||(c(Q.doc,ue),v(Q.doc,y,ue))}}}(a,null,!0)}function zu(a,c){if(c.cm)throw new Error("This document is already in use.");a.doc=c,c.cm=a,Mr(a),Uu(a),kh(a),a.options.direction=c.direction,a.options.lineWrapping||zl(a),a.options.mode=c.modeOption,Gi(a)}function kh(a){("rtl"==a.doc.direction?Xe:ge)(a.display.lineDiv,"CodeMirror-rtl")}function Wu(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function Jl(a,c){var m={from:cs(c.from),to:Eo(c),text:Yr(a,c.from,c.to)};return Bh(a,m,c.from.line,c.to.line+1),Za(a,function(v){return Bh(v,m,c.from.line,c.to.line+1)},!0),m}function tl(a){for(;a.length&&hn(a).ranges;)a.pop()}function qp(a,c,m,v){var y=a.history;y.undone.length=0;var G,X,_=+new Date;if((y.lastOp==v||y.lastOrigin==c.origin&&c.origin&&("+"==c.origin.charAt(0)&&y.lastModTime>_-(a.cm?a.cm.options.historyEventDelay:500)||"*"==c.origin.charAt(0)))&&(G=function _h(a,c){return c?(tl(a.done),hn(a.done)):a.done.length&&!hn(a.done).ranges?hn(a.done):a.done.length>1&&!a.done[a.done.length-2].ranges?(a.done.pop(),hn(a.done)):void 0}(y,y.lastOp==v)))X=hn(G.changes),0==kn(c.from,c.to)&&0==kn(c.from,X.to)?X.to=Eo(c):G.changes.push(Jl(a,c));else{var Q=hn(y.done);for((!Q||!Q.ranges)&&_c(a.sel,y.done),G={changes:[Jl(a,c)],generation:y.generation},y.done.push(G);y.done.length>y.undoDepth;)y.done.shift(),y.done[0].ranges||y.done.shift()}y.done.push(m),y.generation=++y.maxGeneration,y.lastModTime=y.lastSelTime=_,y.lastOp=y.lastSelOp=v,y.lastOrigin=y.lastSelOrigin=c.origin,X||Qr(a,"historyAdded")}function Fh(a,c,m,v){var y=a.history,_=v&&v.origin;m==y.lastSelOp||_&&y.lastSelOrigin==_&&(y.lastModTime==y.lastSelTime&&y.lastOrigin==_||function Bv(a,c,m,v){var y=c.charAt(0);return"*"==y||"+"==y&&m.ranges.length==v.ranges.length&&m.somethingSelected()==v.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}(a,_,hn(y.done),c))?y.done[y.done.length-1]=c:_c(c,y.done),y.lastSelTime=+new Date,y.lastSelOrigin=_,y.lastSelOp=m,v&&!1!==v.clearRedo&&tl(y.undone)}function _c(a,c){var m=hn(c);m&&m.ranges&&m.equals(a)||c.push(a)}function Bh(a,c,m,v){var y=c["spans_"+a.id],_=0;a.iter(Math.max(a.first,m),Math.min(a.first+a.size,v),function(G){G.markedSpans&&((y||(y=c["spans_"+a.id]={}))[_]=G.markedSpans),++_})}function Qp(a){if(!a)return null;for(var c,m=0;m<a.length;++m)a[m].marker.explicitlyCleared?c||(c=a.slice(0,m)):c&&c.push(a[m]);return c?c.length?c:null:a}function _d(a,c){var m=function qa(a,c){var m=c["spans_"+a.id];if(!m)return null;for(var v=[],y=0;y<c.text.length;++y)v.push(Qp(m[y]));return v}(a,c),v=As(a,c);if(!m)return v;if(!v)return m;for(var y=0;y<m.length;++y){var _=m[y],G=v[y];if(_&&G)e:for(var X=0;X<G.length;++X){for(var Q=G[X],ue=0;ue<_.length;++ue)if(_[ue].marker==Q.marker)continue e;_.push(Q)}else G&&(m[y]=G)}return m}function ju(a,c,m){for(var v=[],y=0;y<a.length;++y){var _=a[y];if(_.ranges)v.push(m?ra.prototype.deepCopy.call(_):_);else{var G=_.changes,X=[];v.push({changes:X});for(var Q=0;Q<G.length;++Q){var ue=G[Q],De=void 0;if(X.push({from:ue.from,to:ue.to,text:ue.text}),c)for(var ke in ue)(De=ke.match(/^spans_(\d+)$/))&&Qe(c,Number(De[1]))>-1&&(hn(X)[ke]=ue[ke],delete ue[ke])}}}return v}function jf(a,c,m,v){if(v){var y=a.anchor;if(m){var _=kn(c,y)<0;_!=kn(m,y)<0?(y=c,c=m):_!=kn(c,m)<0&&(c=m)}return new Pr(y,c)}return new Pr(m||c,c)}function Fc(a,c,m,v,y){null==y&&(y=a.cm&&(a.cm.display.shift||a.extend)),oo(a,new ra([jf(a.sel.primary(),c,m,y)],0),v)}function Fd(a,c,m){for(var v=[],y=a.cm&&(a.cm.display.shift||a.extend),_=0;_<a.sel.ranges.length;_++)v[_]=jf(a.sel.ranges[_],c[_],null,y);oo(a,Yo(a.cm,v,a.sel.primIndex),m)}function Bd(a,c,m,v){var y=a.sel.ranges.slice(0);y[c]=m,oo(a,Yo(a.cm,y,a.sel.primIndex),v)}function Bc(a,c,m,v){oo(a,ia(c,m),v)}function Ca(a,c,m){var v=a.history.done,y=hn(v);y&&y.ranges?(v[v.length-1]=c,Hc(a,c,m)):oo(a,c,m)}function oo(a,c,m){Hc(a,c,m),Fh(a,a.sel,a.cm?a.cm.curOp.id:NaN,m)}function Hc(a,c,m){(ui(a,"beforeSelectionChange")||a.cm&&ui(a.cm,"beforeSelectionChange"))&&(c=function Vc(a,c,m){var v={ranges:c.ranges,update:function(y){this.ranges=[];for(var _=0;_<y.length;_++)this.ranges[_]=new Pr(Je(a,y[_].anchor),Je(a,y[_].head))},origin:m&&m.origin};return Qr(a,"beforeSelectionChange",a,v),a.cm&&Qr(a.cm,"beforeSelectionChange",a.cm,v),v.ranges!=c.ranges?Yo(a.cm,v.ranges,v.ranges.length-1):c}(a,c,m));var v=m&&m.bias||(kn(c.primary().head,a.sel.primary().head)<0?-1:1);qr(a,Uc(a,c,v,!0)),(!m||!1!==m.scroll)&&a.cm&&"nocursor"!=a.cm.getOption("readOnly")&&La(a.cm)}function qr(a,c){c.equals(a.sel)||(a.sel=c,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,Ul(a.cm)),to(a,"cursorActivity",a))}function Vd(a){qr(a,Uc(a,a.sel,null,!1))}function Uc(a,c,m,v){for(var y,_=0;_<c.ranges.length;_++){var G=c.ranges[_],X=c.ranges.length==a.sel.ranges.length&&a.sel.ranges[_],Q=vs(a,G.anchor,X&&X.anchor,m,v),ue=G.head==G.anchor?Q:vs(a,G.head,X&&X.head,m,v);(y||Q!=G.anchor||ue!=G.head)&&(y||(y=c.ranges.slice(0,_)),y[_]=new Pr(Q,ue))}return y?Yo(a.cm,y,c.primIndex):c}function Ii(a,c,m,v,y){var _=mn(a,c.line);if(_.markedSpans)for(var G=0;G<_.markedSpans.length;++G){var X=_.markedSpans[G],Q=X.marker,ue="selectLeft"in Q?!Q.selectLeft:Q.inclusiveLeft,De="selectRight"in Q?!Q.selectRight:Q.inclusiveRight;if((null==X.from||(ue?X.from<=c.ch:X.from<c.ch))&&(null==X.to||(De?X.to>=c.ch:X.to>c.ch))){if(y&&(Qr(Q,"beforeCursorEnter"),Q.explicitlyCleared)){if(_.markedSpans){--G;continue}break}if(!Q.atomic)continue;if(m){var ke=Q.find(v<0?1:-1),We=void 0;if((v<0?De:ue)&&(ke=$f(a,ke,-v,ke&&ke.line==c.line?_:null)),ke&&ke.line==c.line&&(We=kn(ke,m))&&(v<0?We<0:We>0))return Ii(a,ke,c,v,y)}var ze=Q.find(v<0?-1:1);return(v<0?ue:De)&&(ze=$f(a,ze,v,ze.line==c.line?_:null)),ze?Ii(a,ze,c,v,y):null}}return c}function vs(a,c,m,v,y){var _=v||1;return Ii(a,c,m,_,y)||!y&&Ii(a,c,m,_,!0)||Ii(a,c,m,-_,y)||!y&&Ii(a,c,m,-_,!0)||(a.cantEdit=!0,Et(a.first,0))}function $f(a,c,m,v){return m<0&&0==c.ch?c.line>a.first?Je(a,Et(c.line-1)):null:m>0&&c.ch==(v||mn(a,c.line)).text.length?c.line<a.first+a.size-1?Et(c.line+1,0):null:new Et(c.line,c.ch+m)}function Sl(a){a.setSelection(Et(a.firstLine(),0),Et(a.lastLine()),Rt)}function Ea(a,c,m){var v={canceled:!1,from:c.from,to:c.to,text:c.text,origin:c.origin,cancel:function(){return v.canceled=!0}};return m&&(v.update=function(y,_,G,X){y&&(v.from=Je(a,y)),_&&(v.to=Je(a,_)),G&&(v.text=G),void 0!==X&&(v.origin=X)}),Qr(a,"beforeChange",a,v),a.cm&&Qr(a.cm,"beforeChange",a.cm,v),v.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:v.from,to:v.to,text:v.text,origin:v.origin}}function $u(a,c,m){if(a.cm){if(!a.cm.curOp)return io(a.cm,$u)(a,c,m);if(a.cm.state.suppressEdits)return}if(!(ui(a,"beforeChange")||a.cm&&ui(a.cm,"beforeChange"))||(c=Ea(a,c,!0))){var v=ar&&!m&&function Ji(a,c,m){var v=null;if(a.iter(c.line,m.line+1,function(ze){if(ze.markedSpans)for(var st=0;st<ze.markedSpans.length;++st){var pt=ze.markedSpans[st].marker;pt.readOnly&&(!v||-1==Qe(v,pt))&&(v||(v=[])).push(pt)}}),!v)return null;for(var y=[{from:c,to:m}],_=0;_<v.length;++_)for(var G=v[_],X=G.find(0),Q=0;Q<y.length;++Q){var ue=y[Q];if(!(kn(ue.to,X.from)<0||kn(ue.from,X.to)>0)){var De=[Q,1],ke=kn(ue.from,X.from),We=kn(ue.to,X.to);(ke<0||!G.inclusiveLeft&&!ke)&&De.push({from:ue.from,to:X.from}),(We>0||!G.inclusiveRight&&!We)&&De.push({from:X.to,to:ue.to}),y.splice.apply(y,De),Q+=De.length-3}}return y}(a,c.from,c.to);if(v)for(var y=v.length-1;y>=0;--y)Gc(a,{from:v[y].from,to:v[y].to,text:y?[""]:c.text,origin:c.origin});else Gc(a,c)}}function Gc(a,c){if(1!=c.text.length||""!=c.text[0]||0!=kn(c.from,c.to)){var m=Do(a,c);qp(a,c,m,a.cm?a.cm.curOp.id:NaN),yr(a,c,m,As(a,c));var v=[];Za(a,function(y,_){!_&&-1==Qe(v,y.history)&&(Vh(y.history,c),v.push(y.history)),yr(y,c,null,As(y,c))})}}function zc(a,c,m){var v=a.cm&&a.cm.state.suppressEdits;if(!v||m){for(var _,y=a.history,G=a.sel,X="undo"==c?y.done:y.undone,Q="undo"==c?y.undone:y.done,ue=0;ue<X.length&&(_=X[ue],!(m?_.ranges&&!_.equals(a.sel):!_.ranges));ue++);if(ue!=X.length){for(y.lastOrigin=y.lastSelOrigin=null;;){if(!(_=X.pop()).ranges){if(v)return void X.push(_);break}if(_c(_,Q),m&&!_.equals(a.sel))return void oo(a,_,{clearRedo:!1});G=_}var De=[];_c(G,Q),Q.push({changes:De,generation:y.generation}),y.generation=_.generation||++y.maxGeneration;for(var ke=ui(a,"beforeChange")||a.cm&&ui(a.cm,"beforeChange"),We=function(pt){var Vt=_.changes[pt];if(Vt.origin=c,ke&&!Ea(a,Vt,!1))return X.length=0,{};De.push(Jl(a,Vt));var Gt=pt?Do(a,Vt):hn(X);yr(a,Vt,Gt,_d(a,Vt)),!pt&&a.cm&&a.cm.scrollIntoView({from:Vt.from,to:Eo(Vt)});var Xt=[];Za(a,function($t,jt){!jt&&-1==Qe(Xt,$t.history)&&(Vh($t.history,Vt),Xt.push($t.history)),yr($t,Vt,null,_d($t,Vt))})},ze=_.changes.length-1;ze>=0;--ze){var st=We(ze);if(st)return st.v}}}}function Ps(a,c){if(0!=c&&(a.first+=c,a.sel=new ra(An(a.sel.ranges,function(y){return new Pr(Et(y.anchor.line+c,y.anchor.ch),Et(y.head.line+c,y.head.ch))}),a.sel.primIndex),a.cm)){Gi(a.cm,a.first,a.first-c,c);for(var m=a.cm.display,v=m.viewFrom;v<m.viewTo;v++)zi(a.cm,v,"gutter")}}function yr(a,c,m,v){if(a.cm&&!a.cm.curOp)return io(a.cm,yr)(a,c,m,v);if(c.to.line<a.first)Ps(a,c.text.length-1-(c.to.line-c.from.line));else if(!(c.from.line>a.lastLine())){if(c.from.line<a.first){var y=c.text.length-1-(a.first-c.from.line);Ps(a,y),c={from:Et(a.first,0),to:Et(c.to.line+y,c.to.ch),text:[hn(c.text)],origin:c.origin}}var _=a.lastLine();c.to.line>_&&(c={from:c.from,to:Et(_,mn(a,_).text.length),text:[c.text[0]],origin:c.origin}),c.removed=Yr(a,c.from,c.to),m||(m=Do(a,c)),a.cm?function Jp(a,c,m){var v=a.doc,y=a.display,_=c.from,G=c.to,X=!1,Q=_.line;a.options.lineWrapping||(Q=xr(Gn(mn(v,_.line))),v.iter(Q,G.line+1,function(ze){if(ze==y.maxLine)return X=!0,!0})),v.sel.contains(c.from,c.to)>-1&&Ul(a),Gu(v,c,m,zo(a)),a.options.lineWrapping||(v.iter(Q,_.line+c.text.length,function(ze){var st=Nu(ze);st>y.maxLineLength&&(y.maxLine=ze,y.maxLineLength=st,y.maxLineChanged=!0,X=!1)}),X&&(a.curOp.updateMaxLine=!0)),function Xr(a,c){if(a.modeFrontier=Math.min(a.modeFrontier,c),!(a.highlightFrontier<c-10)){for(var m=a.first,v=c-1;v>m;v--){var y=mn(a,v).stateAfter;if(y&&(!(y instanceof un)||v+y.lookAhead<c)){m=v+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,m)}}(v,_.line),ni(a,400);var ue=c.text.length-(G.line-_.line)-1;c.full?Gi(a):_.line!=G.line||1!=c.text.length||kc(a.doc,c)?Gi(a,_.line,G.line+1,ue):zi(a,_.line,"text");var De=ui(a,"changes"),ke=ui(a,"change");if(ke||De){var We={from:_,to:G,text:c.text,removed:c.removed,origin:c.origin};ke&&to(a,"change",a,We),De&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(We)}a.display.selForContextMenu=null}(a.cm,c,v):Gu(a,c,v),Hc(a,m,Rt),a.cantEdit&&vs(a,Et(a.firstLine(),0))&&(a.cantEdit=!1)}}function Tl(a,c,m,v,y){var _;v||(v=m),kn(v,m)<0&&(m=(_=[v,m])[0],v=_[1]),"string"==typeof c&&(c=a.splitLines(c)),$u(a,{from:m,to:v,text:c,origin:y})}function Yu(a,c,m,v){m<a.line?a.line+=v:c<a.line&&(a.line=c,a.ch=0)}function Hd(a,c,m,v){for(var y=0;y<a.length;++y){var _=a[y],G=!0;if(_.ranges){_.copied||((_=a[y]=_.deepCopy()).copied=!0);for(var X=0;X<_.ranges.length;X++)Yu(_.ranges[X].anchor,c,m,v),Yu(_.ranges[X].head,c,m,v)}else{for(var Q=0;Q<_.changes.length;++Q){var ue=_.changes[Q];if(m<ue.from.line)ue.from=Et(ue.from.line+v,ue.from.ch),ue.to=Et(ue.to.line+v,ue.to.ch);else if(c<=ue.to.line){G=!1;break}}G||(a.splice(0,y+1),y=0)}}}function Vh(a,c){var m=c.from.line,v=c.to.line,y=c.text.length-(v-m)-1;Hd(a.done,m,v,y),Hd(a.undone,m,v,y)}function In(a,c,m,v){var y=c,_=c;return"number"==typeof c?_=mn(a,Fe(a,c)):y=xr(c),null==y?null:(v(_,y)&&a.cm&&zi(a.cm,y,m),_)}function eu(a){this.lines=a,this.parent=null;for(var c=0,m=0;m<a.length;++m)a[m].parent=this,c+=a[m].height;this.height=c}function tu(a){this.children=a;for(var c=0,m=0,v=0;v<a.length;++v){var y=a[v];c+=y.chunkSize(),m+=y.height,y.parent=this}this.size=c,this.height=m,this.parent=null}Pr.prototype.from=function(){return Re(this.anchor,this.head)},Pr.prototype.to=function(){return Ne(this.anchor,this.head)},Pr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},eu.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,c){for(var m=a,v=a+c;m<v;++m){var y=this.lines[m];this.height-=y.height,ma(y),to(y,"delete")}this.lines.splice(a,c)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,c,m){this.height+=m,this.lines=this.lines.slice(0,a).concat(c).concat(this.lines.slice(a));for(var v=0;v<c.length;++v)c[v].parent=this},iterN:function(a,c,m){for(var v=a+c;a<v;++a)if(m(this.lines[a]))return!0}},tu.prototype={chunkSize:function(){return this.size},removeInner:function(a,c){this.size-=c;for(var m=0;m<this.children.length;++m){var v=this.children[m],y=v.chunkSize();if(a<y){var _=Math.min(c,y-a),G=v.height;if(v.removeInner(a,_),this.height-=G-v.height,y==_&&(this.children.splice(m--,1),v.parent=null),0==(c-=_))break;a=0}else a-=y}if(this.size-c<25&&(this.children.length>1||!(this.children[0]instanceof eu))){var X=[];this.collapse(X),this.children=[new eu(X)],this.children[0].parent=this}},collapse:function(a){for(var c=0;c<this.children.length;++c)this.children[c].collapse(a)},insertInner:function(a,c,m){this.size+=c.length,this.height+=m;for(var v=0;v<this.children.length;++v){var y=this.children[v],_=y.chunkSize();if(a<=_){if(y.insertInner(a,c,m),y.lines&&y.lines.length>50){for(var G=y.lines.length%25+25,X=G;X<y.lines.length;){var Q=new eu(y.lines.slice(X,X+=25));y.height-=Q.height,this.children.splice(++v,0,Q),Q.parent=this}y.lines=y.lines.slice(0,G),this.maybeSpill()}break}a-=_}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var m=new tu(a.children.splice(a.children.length-5,5));if(a.parent){a.size-=m.size,a.height-=m.height;var y=Qe(a.parent.children,a);a.parent.children.splice(y+1,0,m)}else{var v=new tu(a.children);v.parent=a,a.children=[v,m],a=v}m.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,c,m){for(var v=0;v<this.children.length;++v){var y=this.children[v],_=y.chunkSize();if(a<_){var G=Math.min(c,_-a);if(y.iterN(a,G,m))return!0;if(0==(c-=G))break;a=0}else a-=_}}};var Ml=function(a,c,m){if(m)for(var v in m)m.hasOwnProperty(v)&&(this[v]=m[v]);this.doc=a,this.node=c};function xo(a,c,m){va(c)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&Ya(a,m)}Ml.prototype.clear=function(){var a=this.doc.cm,c=this.line.widgets,m=this.line,v=xr(m);if(null!=v&&c){for(var y=0;y<c.length;++y)c[y]==this&&c.splice(y--,1);c.length||(m.widgets=null);var _=_u(this);vo(m,Math.max(0,m.height-_)),a&&($o(a,function(){xo(a,m,-_),zi(a,v,"widget")}),to(a,"lineWidgetCleared",a,this,v))}},Ml.prototype.changed=function(){var a=this,c=this.height,m=this.doc.cm,v=this.line;this.height=null;var y=_u(this)-c;y&&(Ws(this.doc,v)||vo(v,v.height+y),m&&$o(m,function(){m.curOp.forceUpdate=!0,xo(m,v,y),to(m,"lineWidgetChanged",m,a,xr(v))}))},fa(Ml);var Wc=0,So=function(a,c){this.lines=[],this.type=c,this.doc=a,this.id=++Wc};function Xu(a,c,m,v,y){if(v&&v.shared)return function eg(a,c,m,v,y){(v=cn(v)).shared=!1;var _=[Xu(a,c,m,v,y)],G=_[0],X=v.widgetNode;return Za(a,function(Q){X&&(v.widgetNode=X.cloneNode(!0)),_.push(Xu(Q,Je(Q,c),Je(Q,m),v,y));for(var ue=0;ue<Q.linked.length;++ue)if(Q.linked[ue].isParent)return;G=hn(_)}),new jc(_,G)}(a,c,m,v,y);if(a.cm&&!a.cm.curOp)return io(a.cm,Xu)(a,c,m,v,y);var _=new So(a,y),G=kn(c,m);if(v&&cn(v,_,!1),G>0||0==G&&!1!==_.clearWhenEmpty)return _;if(_.replacedWith&&(_.collapsed=!0,_.widgetNode=Ve("span",[_.replacedWith],"CodeMirror-widget"),v.handleMouseEvents||_.widgetNode.setAttribute("cm-ignore-events","true"),v.insertLeft&&(_.widgetNode.insertLeft=!0)),_.collapsed){if(Hi(a,c.line,c,m,_)||c.line!=m.line&&Hi(a,m.line,c,m,_))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function fn(){ct=!0}()}_.addToHistory&&qp(a,{from:c,to:m,origin:"markText"},a.sel,NaN);var ue,X=c.line,Q=a.cm;if(a.iter(X,m.line+1,function(ke){Q&&_.collapsed&&!Q.options.lineWrapping&&Gn(ke)==Q.display.maxLine&&(ue=!0),_.collapsed&&X!=c.line&&vo(ke,0),function Qi(a,c,m){var v=m&&window.WeakSet&&(m.markedSpans||(m.markedSpans=new WeakSet));v&&a.markedSpans&&v.has(a.markedSpans)?a.markedSpans.push(c):(a.markedSpans=a.markedSpans?a.markedSpans.concat([c]):[c],v&&v.add(a.markedSpans)),c.marker.attachLine(a)}(ke,new On(_,X==c.line?c.ch:null,X==m.line?m.ch:null),a.cm&&a.cm.curOp),++X}),_.collapsed&&a.iter(c.line,m.line+1,function(ke){Ws(a,ke)&&vo(ke,0)}),_.clearOnEnter&&pn(_,"beforeCursorEnter",function(){return _.clear()}),_.readOnly&&(function Tr(){ar=!0}(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),_.collapsed&&(_.id=++Wc,_.atomic=!0),Q){if(ue&&(Q.curOp.updateMaxLine=!0),_.collapsed)Gi(Q,c.line,m.line+1);else if(_.className||_.startStyle||_.endStyle||_.css||_.attributes||_.title)for(var De=c.line;De<=m.line;De++)zi(Q,De,"text");_.atomic&&Vd(Q.doc),to(Q,"markerAdded",Q,_)}return _}So.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,c=a&&!a.curOp;if(c&&jr(a),ui(this,"clear")){var m=this.find();m&&to(this,"clear",m.from,m.to)}for(var v=null,y=null,_=0;_<this.lines.length;++_){var G=this.lines[_],X=Kr(G.markedSpans,this);a&&!this.collapsed?zi(a,xr(G),"text"):a&&(null!=X.to&&(y=xr(G)),null!=X.from&&(v=xr(G))),G.markedSpans=Di(G.markedSpans,X),null==X.from&&this.collapsed&&!Ws(this.doc,G)&&a&&vo(G,bo(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var Q=0;Q<this.lines.length;++Q){var ue=Gn(this.lines[Q]),De=Nu(ue);De>a.display.maxLineLength&&(a.display.maxLine=ue,a.display.maxLineLength=De,a.display.maxLineChanged=!0)}null!=v&&a&&this.collapsed&&Gi(a,v,y+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Vd(a.doc)),a&&to(a,"markerCleared",a,this,v,y),c&&El(a),this.parent&&this.parent.clear()}},So.prototype.find=function(a,c){null==a&&"bookmark"==this.type&&(a=1);for(var m,v,y=0;y<this.lines.length;++y){var _=this.lines[y],G=Kr(_.markedSpans,this);if(null!=G.from&&(m=Et(c?_:xr(_),G.from),-1==a))return m;if(null!=G.to&&(v=Et(c?_:xr(_),G.to),1==a))return v}return m&&{from:m,to:v}},So.prototype.changed=function(){var a=this,c=this.find(-1,!0),m=this,v=this.doc.cm;!c||!v||$o(v,function(){var y=c.line,_=xr(c.line),G=yl(v,_);if(G&&(xc(G),v.curOp.selectionChanged=v.curOp.forceUpdate=!0),v.curOp.updateMaxLine=!0,!Ws(m.doc,y)&&null!=m.height){var X=m.height;m.height=null;var Q=_u(m)-X;Q&&vo(y,y.height+Q)}to(v,"markerChanged",v,a)})},So.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(!c.maybeHiddenMarkers||-1==Qe(c.maybeHiddenMarkers,this))&&(c.maybeUnhiddenMarkers||(c.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},So.prototype.detachLine=function(a){if(this.lines.splice(Qe(this.lines,a),1),!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(c.maybeHiddenMarkers||(c.maybeHiddenMarkers=[])).push(this)}},fa(So);var jc=function(a,c){this.markers=a,this.primary=c;for(var m=0;m<a.length;++m)a[m].parent=this};function Hh(a){return a.findMarks(Et(a.first,0),a.clipPos(Et(a.lastLine())),function(c){return c.parent})}function It(a){for(var c=function(v){var y=a[v],_=[y.primary.doc];Za(y.primary.doc,function(Q){return _.push(Q)});for(var G=0;G<y.markers.length;G++){var X=y.markers[G];-1==Qe(_,X.doc)&&(X.parent=null,y.markers.splice(G--,1))}},m=0;m<a.length;m++)c(m)}jc.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();to(this,"clear")}},jc.prototype.find=function(a,c){return this.primary.find(a,c)},fa(jc);var ur=0,tr=function(a,c,m,v,y){if(!(this instanceof tr))return new tr(a,c,m,v,y);null==m&&(m=0),tu.call(this,[new eu([new js("",null)])]),this.first=m,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=m;var _=Et(m,0);this.sel=ia(_),this.history=new Wu(null),this.id=++ur,this.modeOption=c,this.lineSep=v,this.direction="rtl"==y?"rtl":"ltr",this.extend=!1,"string"==typeof a&&(a=this.splitLines(a)),Gu(this,{from:_,to:_,text:a}),oo(this,ia(_),Rt)};tr.prototype=gi(tu.prototype,{constructor:tr,iter:function(a,c,m){m?this.iterN(a-this.first,c-a,m):this.iterN(this.first,this.first+this.size,a)},insert:function(a,c){for(var m=0,v=0;v<c.length;++v)m+=c[v].height;this.insertInner(a-this.first,c,m)},remove:function(a,c){this.removeInner(a-this.first,c)},getValue:function(a){var c=Aa(this,this.first,this.first+this.size);return!1===a?c:c.join(a||this.lineSeparator())},setValue:Co(function(a){var c=Et(this.first,0),m=this.first+this.size-1;$u(this,{from:c,to:Et(m,mn(this,m).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&ji(this.cm,0,0),oo(this,ia(c),Rt)}),replaceRange:function(a,c,m,v){Tl(this,a,c=Je(this,c),m=m?Je(this,m):c,v)},getRange:function(a,c,m){var v=Yr(this,Je(this,a),Je(this,c));return!1===m?v:v.join(""===m?"":m||this.lineSeparator())},getLine:function(a){var c=this.getLineHandle(a);return c&&c.text},getLineHandle:function(a){if(mo(this,a))return mn(this,a)},getLineNumber:function(a){return xr(a)},getLineHandleVisualStart:function(a){return"number"==typeof a&&(a=mn(this,a)),Gn(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return Je(this,a)},getCursor:function(a){var c=this.sel.primary();return null==a||"head"==a?c.head:"anchor"==a?c.anchor:"end"==a||"to"==a||!1===a?c.to():c.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Co(function(a,c,m){Bc(this,Je(this,"number"==typeof a?Et(a,c||0):a),null,m)}),setSelection:Co(function(a,c,m){Bc(this,Je(this,a),Je(this,c||a),m)}),extendSelection:Co(function(a,c,m){Fc(this,Je(this,a),c&&Je(this,c),m)}),extendSelections:Co(function(a,c){Fd(this,Zt(this,a),c)}),extendSelectionsBy:Co(function(a,c){Fd(this,Zt(this,An(this.sel.ranges,a)),c)}),setSelections:Co(function(a,c,m){if(a.length){for(var v=[],y=0;y<a.length;y++)v[y]=new Pr(Je(this,a[y].anchor),Je(this,a[y].head||a[y].anchor));null==c&&(c=Math.min(a.length-1,this.sel.primIndex)),oo(this,Yo(this.cm,v,c),m)}}),addSelection:Co(function(a,c,m){var v=this.sel.ranges.slice(0);v.push(new Pr(Je(this,a),Je(this,c||a))),oo(this,Yo(this.cm,v,v.length-1),m)}),getSelection:function(a){for(var m,c=this.sel.ranges,v=0;v<c.length;v++){var y=Yr(this,c[v].from(),c[v].to());m=m?m.concat(y):y}return!1===a?m:m.join(a||this.lineSeparator())},getSelections:function(a){for(var c=[],m=this.sel.ranges,v=0;v<m.length;v++){var y=Yr(this,m[v].from(),m[v].to());!1!==a&&(y=y.join(a||this.lineSeparator())),c[v]=y}return c},replaceSelection:function(a,c,m){for(var v=[],y=0;y<this.sel.ranges.length;y++)v[y]=a;this.replaceSelections(v,c,m||"+input")},replaceSelections:Co(function(a,c,m){for(var v=[],y=this.sel,_=0;_<y.ranges.length;_++){var G=y.ranges[_];v[_]={from:G.from(),to:G.to(),text:this.splitLines(a[_]),origin:m}}for(var X=c&&"end"!=c&&function _i(a,c,m){for(var v=[],y=Et(a.first,0),_=y,G=0;G<c.length;G++){var X=c[G],Q=el(X.from,y,_),ue=el(Eo(X),y,_);if(y=X.to,_=ue,"around"==m){var De=a.sel.ranges[G],ke=kn(De.head,De.anchor)<0;v[G]=new Pr(ke?ue:Q,ke?Q:ue)}else v[G]=new Pr(Q,Q)}return new ra(v,a.sel.primIndex)}(this,v,c),Q=v.length-1;Q>=0;Q--)$u(this,v[Q]);X?Ca(this,X):this.cm&&La(this.cm)}),undo:Co(function(){zc(this,"undo")}),redo:Co(function(){zc(this,"redo")}),undoSelection:Co(function(){zc(this,"undo",!0)}),redoSelection:Co(function(){zc(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,c=0,m=0,v=0;v<a.done.length;v++)a.done[v].ranges||++c;for(var y=0;y<a.undone.length;y++)a.undone[y].ranges||++m;return{undo:c,redo:m}},clearHistory:function(){var a=this;this.history=new Wu(this.history),Za(this,function(c){return c.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:ju(this.history.done),undone:ju(this.history.undone)}},setHistory:function(a){var c=this.history=new Wu(this.history);c.done=ju(a.done.slice(0),null,!0),c.undone=ju(a.undone.slice(0),null,!0)},setGutterMarker:Co(function(a,c,m){return In(this,a,"gutter",function(v){var y=v.gutterMarkers||(v.gutterMarkers={});return y[c]=m,!m&&Lr(y)&&(v.gutterMarkers=null),!0})}),clearGutter:Co(function(a){var c=this;this.iter(function(m){m.gutterMarkers&&m.gutterMarkers[a]&&In(c,m,"gutter",function(){return m.gutterMarkers[a]=null,Lr(m.gutterMarkers)&&(m.gutterMarkers=null),!0})})}),lineInfo:function(a){var c;if("number"==typeof a){if(!(mo(this,a)&&(c=a,a=mn(this,a))))return null}else if(null==(c=xr(a)))return null;return{line:c,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Co(function(a,c,m){return In(this,a,"gutter"==c?"gutter":"class",function(v){var y="text"==c?"textClass":"background"==c?"bgClass":"gutter"==c?"gutterClass":"wrapClass";if(v[y]){if(ie(m).test(v[y]))return!1;v[y]+=" "+m}else v[y]=m;return!0})}),removeLineClass:Co(function(a,c,m){return In(this,a,"gutter"==c?"gutter":"class",function(v){var y="text"==c?"textClass":"background"==c?"bgClass":"gutter"==c?"gutterClass":"wrapClass",_=v[y];if(!_)return!1;if(null==m)v[y]=null;else{var G=_.match(ie(m));if(!G)return!1;var X=G.index+G[0].length;v[y]=_.slice(0,G.index)+(G.index&&X!=_.length?" ":"")+_.slice(X)||null}return!0})}),addLineWidget:Co(function(a,c,m){return function Ud(a,c,m,v){var y=new Ml(a,m,v),_=a.cm;return _&&y.noHScroll&&(_.display.alignWidgets=!0),In(a,c,"widget",function(G){var X=G.widgets||(G.widgets=[]);if(null==y.insertAt?X.push(y):X.splice(Math.min(X.length,Math.max(0,y.insertAt)),0,y),y.line=G,_&&!Ws(a,G)){var Q=va(G)<a.scrollTop;vo(G,G.height+_u(y)),Q&&Ya(_,y.height),_.curOp.forceUpdate=!0}return!0}),_&&to(_,"lineWidgetAdded",_,y,"number"==typeof c?c:xr(c)),y}(this,a,c,m)}),removeLineWidget:function(a){a.clear()},markText:function(a,c,m){return Xu(this,Je(this,a),Je(this,c),m,m&&m.type||"range")},setBookmark:function(a,c){var m={replacedWith:c&&(null==c.nodeType?c.widget:c),insertLeft:c&&c.insertLeft,clearWhenEmpty:!1,shared:c&&c.shared,handleMouseEvents:c&&c.handleMouseEvents};return Xu(this,a=Je(this,a),a,m,"bookmark")},findMarksAt:function(a){var c=[],m=mn(this,(a=Je(this,a)).line).markedSpans;if(m)for(var v=0;v<m.length;++v){var y=m[v];(null==y.from||y.from<=a.ch)&&(null==y.to||y.to>=a.ch)&&c.push(y.marker.parent||y.marker)}return c},findMarks:function(a,c,m){a=Je(this,a),c=Je(this,c);var v=[],y=a.line;return this.iter(a.line,c.line+1,function(_){var G=_.markedSpans;if(G)for(var X=0;X<G.length;X++){var Q=G[X];!(null!=Q.to&&y==a.line&&a.ch>=Q.to||null==Q.from&&y!=a.line||null!=Q.from&&y==c.line&&Q.from>=c.ch)&&(!m||m(Q.marker))&&v.push(Q.marker.parent||Q.marker)}++y}),v},getAllMarks:function(){var a=[];return this.iter(function(c){var m=c.markedSpans;if(m)for(var v=0;v<m.length;++v)null!=m[v].from&&a.push(m[v].marker)}),a},posFromIndex:function(a){var c,m=this.first,v=this.lineSeparator().length;return this.iter(function(y){var _=y.text.length+v;if(_>a)return c=a,!0;a-=_,++m}),Je(this,Et(m,c))},indexFromPos:function(a){var c=(a=Je(this,a)).ch;if(a.line<this.first||a.ch<0)return 0;var m=this.lineSeparator().length;return this.iter(this.first,a.line,function(v){c+=v.text.length+m}),c},copy:function(a){var c=new tr(Aa(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return c.scrollTop=this.scrollTop,c.scrollLeft=this.scrollLeft,c.sel=this.sel,c.extend=!1,a&&(c.history.undoDepth=this.history.undoDepth,c.setHistory(this.getHistory())),c},linkedDoc:function(a){a||(a={});var c=this.first,m=this.first+this.size;null!=a.from&&a.from>c&&(c=a.from),null!=a.to&&a.to<m&&(m=a.to);var v=new tr(Aa(this,c,m),a.mode||this.modeOption,c,this.lineSep,this.direction);return a.sharedHist&&(v.history=this.history),(this.linked||(this.linked=[])).push({doc:v,sharedHist:a.sharedHist}),v.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],function Il(a,c){for(var m=0;m<c.length;m++){var v=c[m],y=v.find(),_=a.clipPos(y.from),G=a.clipPos(y.to);if(kn(_,G)){var X=Xu(a,_,G,v.primary,v.primary.type);v.markers.push(X),X.parent=v}}}(v,Hh(this)),v},unlinkDoc:function(a){if(a instanceof $r&&(a=a.doc),this.linked)for(var c=0;c<this.linked.length;++c)if(this.linked[c].doc==a){this.linked.splice(c,1),a.unlinkDoc(this),It(Hh(this));break}if(a.history==this.history){var v=[a.id];Za(a,function(y){return v.push(y.id)},!0),a.history=new Wu(null),a.history.done=ju(this.history.done,v),a.history.undone=ju(this.history.undone,v)}},iterLinkedDocs:function(a){Za(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):Gl(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Co(function(a){"rtl"!=a&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(c){return c.order=null}),this.cm&&function kd(a){$o(a,function(){kh(a),Gi(a)})}(this.cm))})}),tr.prototype.eachLine=tr.prototype.iter;var Da=0;function To(a){var c=this;if(Qa(c),!Li(c,a)&&!Ys(c.display,a)){Ei(a),C&&(Da=+new Date);var m=Ti(c,a,!0),v=a.dataTransfer.files;if(m&&!c.isReadOnly())if(v&&v.length&&window.FileReader&&window.File)for(var y=v.length,_=Array(y),G=0,X=function(){++G==y&&io(c,function(){var ze={from:m=Je(c.doc,m),to:m,text:c.doc.splitLines(_.filter(function(st){return null!=st}).join(c.doc.lineSeparator())),origin:"paste"};$u(c.doc,ze),Ca(c.doc,ia(Je(c.doc,m),Je(c.doc,Eo(ze))))})()},Q=function(ze,st){if(c.options.allowDropFileTypes&&-1==Qe(c.options.allowDropFileTypes,ze.type))X();else{var pt=new FileReader;pt.onerror=function(){return X()},pt.onload=function(){var Vt=pt.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Vt)||(_[st]=Vt),X()},pt.readAsText(ze)}},ue=0;ue<v.length;ue++)Q(v[ue],ue);else{if(c.state.draggingText&&c.doc.sel.contains(m)>-1)return c.state.draggingText(a),void setTimeout(function(){return c.display.input.focus()},20);try{var De=a.dataTransfer.getData("Text");if(De){var ke;if(c.state.draggingText&&!c.state.draggingText.copy&&(ke=c.listSelections()),Hc(c.doc,ia(m,m)),ke)for(var We=0;We<ke.length;++We)Tl(c.doc,"",ke[We].anchor,ke[We].head,"drag");c.replaceSelection(De,"around","paste"),c.display.input.focus()}}catch{}}}}function Qa(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function $c(a){if(document.getElementsByClassName){for(var c=document.getElementsByClassName("CodeMirror"),m=[],v=0;v<c.length;v++){var y=c[v].CodeMirror;y&&m.push(y)}m.length&&m[0].operation(function(){for(var _=0;_<m.length;_++)a(m[_])})}}var Yi=!1;function ri(){Yi||(function Vv(){var a;pn(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null,$c(Uh)},100))}),pn(window,"blur",function(){return $c(ti)})}(),Yi=!0)}function Uh(a){var c=a.display;c.cachedCharWidth=c.cachedTextHeight=c.cachedPaddingH=null,c.scrollbarsClipped=!1,a.setSize()}for(var Ai={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},hr=0;hr<10;hr++)Ai[hr+48]=Ai[hr+96]=String(hr);for(var Al=65;Al<=90;Al++)Ai[Al]=String.fromCharCode(Al);for(var ms=1;ms<=12;ms++)Ai[ms+111]=Ai[ms+63235]="F"+ms;var Mo={};function Zu(a){var c=a.split(/-(?!$)/);a=c[c.length-1];for(var m,v,y,_,G=0;G<c.length-1;G++){var X=c[G];if(/^(cmd|meta|m)$/i.test(X))_=!0;else if(/^a(lt)?$/i.test(X))m=!0;else if(/^(c|ctrl|control)$/i.test(X))v=!0;else{if(!/^s(hift)?$/i.test(X))throw new Error("Unrecognized modifier name: "+X);y=!0}}return m&&(a="Alt-"+a),v&&(a="Ctrl-"+a),_&&(a="Cmd-"+a),y&&(a="Shift-"+a),a}function Gh(a){var c={};for(var m in a)if(a.hasOwnProperty(m)){var v=a[m];if(/^(name|fallthrough|(de|at)tach)$/.test(m))continue;if("..."==v){delete a[m];continue}for(var y=An(m.split(" "),Zu),_=0;_<y.length;_++){var G=void 0,X=void 0;_==y.length-1?(X=y.join(" "),G=v):(X=y.slice(0,_+1).join(" "),G="...");var Q=c[X];if(Q){if(Q!=G)throw new Error("Inconsistent bindings for "+X)}else c[X]=G}delete a[m]}for(var ue in c)a[ue]=c[ue];return a}function ks(a,c,m,v){var y=(c=Xc(c)).call?c.call(a,v):c[a];if(!1===y)return"nothing";if("..."===y)return"multi";if(null!=y&&m(y))return"handled";if(c.fallthrough){if("[object Array]"!=Object.prototype.toString.call(c.fallthrough))return ks(a,c.fallthrough,m,v);for(var _=0;_<c.fallthrough.length;_++){var G=ks(a,c.fallthrough[_],m,v);if(G)return G}}}function zh(a){var c="string"==typeof a?a:Ai[a.keyCode];return"Ctrl"==c||"Alt"==c||"Shift"==c||"Mod"==c}function Yc(a,c,m){var v=a;return c.altKey&&"Alt"!=v&&(a="Alt-"+a),(K?c.metaKey:c.ctrlKey)&&"Ctrl"!=v&&(a="Ctrl-"+a),(K?c.ctrlKey:c.metaKey)&&"Mod"!=v&&(a="Cmd-"+a),!m&&c.shiftKey&&"Shift"!=v&&(a="Shift-"+a),a}function Yf(a,c){if(F&&34==a.keyCode&&a.char)return!1;var m=Ai[a.keyCode];return null!=m&&!a.altGraphKey&&(3==a.keyCode&&a.code&&(m=a.code),Yc(m,a,c))}function Xc(a){return"string"==typeof a?Mo[a]:a}function ys(a,c){for(var m=a.doc.sel.ranges,v=[],y=0;y<m.length;y++){for(var _=c(m[y]);v.length&&kn(_.from,hn(v).to)<=0;){var G=v.pop();if(kn(G.from,_.from)<0){_.from=G.from;break}}v.push(_)}$o(a,function(){for(var X=v.length-1;X>=0;X--)Tl(a.doc,"",v[X].from,v[X].to,"+delete");La(a)})}function Xf(a,c,m){var v=ss(a.text,c+m,m);return v<0||v>a.text.length?null:v}function qu(a,c,m){var v=Xf(a,c.ch,m);return null==v?null:new Et(c.line,v,m<0?"after":"before")}function Nl(a,c,m,v,y){if(a){"rtl"==c.doc.direction&&(y=-y);var _=Ma(m,c.doc.direction);if(_){var ue,G=y<0?hn(_):_[0],Q=y<0==(1==G.level)?"after":"before";if(G.level>0||"rtl"==c.doc.direction){var De=bl(c,m),ke=ps(c,De,ue=y<0?m.text.length-1:0).top;ue=En(function(We){return ps(c,De,We).top==ke},y<0==(1==G.level)?G.from:G.to-1,ue),"before"==Q&&(ue=Xf(m,ue,1))}else ue=y<0?G.to:G.from;return new Et(v,ue,Q)}}return new Et(v,y<0?m.text.length:0,y<0?"before":"after")}Mo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Mo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Mo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Mo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Mo.default=se?Mo.macDefault:Mo.pcDefault;var Qu={selectAll:Sl,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Rt)},killLine:function(a){return ys(a,function(c){if(c.empty()){var m=mn(a.doc,c.head.line).text.length;return c.head.ch==m&&c.head.line<a.lastLine()?{from:c.head,to:Et(c.head.line+1,0)}:{from:c.head,to:Et(c.head.line,m)}}return{from:c.from(),to:c.to()}})},deleteLine:function(a){return ys(a,function(c){return{from:Et(c.from().line,0),to:Je(a.doc,Et(c.to().line+1,0))}})},delLineLeft:function(a){return ys(a,function(c){return{from:Et(c.from().line,0),to:c.from()}})},delWrappedLineLeft:function(a){return ys(a,function(c){var m=a.charCoords(c.head,"div").top+5;return{from:a.coordsChar({left:0,top:m},"div"),to:c.from()}})},delWrappedLineRight:function(a){return ys(a,function(c){var m=a.charCoords(c.head,"div").top+5,v=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:m},"div");return{from:c.from(),to:v}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(Et(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(Et(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(c){return Kc(a,c.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(c){return ao(a,c.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(c){return function Zc(a,c){var m=mn(a.doc,c),v=function Na(a){for(var c;c=ga(a);)a=c.find(1,!0).line;return a}(m);return v!=m&&(c=xr(v)),Nl(!0,a,m,c,-1)}(a,c.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(c){var m=a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:m},"div")},Hn)},goLineLeft:function(a){return a.extendSelectionsBy(function(c){var m=a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:0,top:m},"div")},Hn)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(c){var m=a.cursorCoords(c.head,"div").top+5,v=a.coordsChar({left:0,top:m},"div");return v.ch<a.getLine(v.line).search(/\S/)?ao(a,c.head):v},Hn)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},insertSoftTab:function(a){for(var c=[],m=a.listSelections(),v=a.options.tabSize,y=0;y<m.length;y++){var _=m[y].from(),G=ln(a.getLine(_.line),_.ch,v);c.push(fr(v-G%v))}a.replaceSelections(c)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return $o(a,function(){for(var c=a.listSelections(),m=[],v=0;v<c.length;v++)if(c[v].empty()){var y=c[v].head,_=mn(a.doc,y.line).text;if(_)if(y.ch==_.length&&(y=new Et(y.line,y.ch-1)),y.ch>0)y=new Et(y.line,y.ch+1),a.replaceRange(_.charAt(y.ch-1)+_.charAt(y.ch-2),Et(y.line,y.ch-2),y,"+transpose");else if(y.line>a.doc.first){var G=mn(a.doc,y.line-1).text;G&&(y=new Et(y.line,1),a.replaceRange(_.charAt(0)+a.doc.lineSeparator()+G.charAt(G.length-1),Et(y.line-1,G.length-1),y,"+transpose"))}m.push(new Pr(y,y))}a.setSelections(m)})},newlineAndIndent:function(a){return $o(a,function(){for(var c=a.listSelections(),m=c.length-1;m>=0;m--)a.replaceRange(a.doc.lineSeparator(),c[m].anchor,c[m].head,"+input");c=a.listSelections();for(var v=0;v<c.length;v++)a.indentLine(c[v].from().line,null,!0);La(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function Kc(a,c){var m=mn(a.doc,c),v=Gn(m);return v!=m&&(c=xr(v)),Nl(!0,a,v,c,1)}function ao(a,c){var m=Kc(a,c.line),v=mn(a.doc,m.line),y=Ma(v,a.doc.direction);if(!y||0==y[0].level){var _=Math.max(m.ch,v.text.search(/\S/));return Et(m.line,c.line==m.line&&c.ch<=_&&c.ch?0:_,m.sticky)}return m}function Ol(a,c,m){if("string"==typeof c&&!(c=Qu[c]))return!1;a.display.input.ensurePolled();var v=a.display.shift,y=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),m&&(a.display.shift=!1),y=c(a)!=Lt}finally{a.display.shift=v,a.state.suppressEdits=!1}return y}var so=new nt;function Ba(a,c,m,v){var y=a.state.keySeq;if(y){if(zh(c))return"handled";if(/\'$/.test(c)?a.state.keySeq=null:so.set(50,function(){a.state.keySeq==y&&(a.state.keySeq=null,a.display.input.reset())}),Ar(a,y+" "+c,m,v))return!0}return Ar(a,c,m,v)}function Ar(a,c,m,v){var y=function tg(a,c,m){for(var v=0;v<a.state.keyMaps.length;v++){var y=ks(c,a.state.keyMaps[v],m,a);if(y)return y}return a.options.extraKeys&&ks(c,a.options.extraKeys,m,a)||ks(c,a.options.keyMap,m,a)}(a,c,v);return"multi"==y&&(a.state.keySeq=c),"handled"==y&&to(a,"keyHandled",a,c,m),("handled"==y||"multi"==y)&&(Ei(m),Wo(a)),!!y}function qc(a,c){var m=Yf(c,!0);return!!m&&(c.shiftKey&&!a.state.keySeq?Ba(a,"Shift-"+m,c,function(v){return Ol(a,v,!0)})||Ba(a,m,c,function(v){if("string"==typeof v?/^go[A-Z]/.test(v):v.motion)return Ol(a,v)}):Ba(a,m,c,function(v){return Ol(a,v)}))}var lo=null;function Qc(a){var c=this;if(!(a.target&&a.target!=c.display.input.getField()||(c.curOp.focus=at(Yt(c)),Li(c,a)))){C&&S<11&&27==a.keyCode&&(a.returnValue=!1);var m=a.keyCode;c.display.shift=16==m||a.shiftKey;var v=qc(c,a);F&&(lo=v?m:null,!v&&88==m&&!na&&(se?a.metaKey:a.ctrlKey)&&c.replaceSelection("",null,"cut")),T&&!se&&!v&&46==m&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==m&&!/\bCodeMirror-crosshair\b/.test(c.display.lineDiv.className)&&function _o(a){var c=a.display.lineDiv;function m(v){(18==v.keyCode||!v.altKey)&&(ge(c,"CodeMirror-crosshair"),qi(document,"keyup",m),qi(document,"mouseover",m))}Xe(c,"CodeMirror-crosshair"),pn(document,"keyup",m),pn(document,"mouseover",m)}(c)}}function Io(a){16==a.keyCode&&(this.doc.sel.shift=!1),Li(this,a)}function Jc(a){var c=this;if(!(a.target&&a.target!=c.display.input.getField()||Ys(c.display,a)||Li(c,a)||a.ctrlKey&&!a.altKey||se&&a.metaKey)){var m=a.keyCode,v=a.charCode;if(F&&m==lo)return lo=null,void Ei(a);if(!F||a.which&&!(a.which<10)||!qc(c,a)){var y=String.fromCharCode(v??m);"\b"!=y&&(function zd(a,c,m){return Ba(a,"'"+m+"'",c,function(v){return Ol(a,v,!0)})}(c,a,y)||c.display.input.onKeyPress(a))}}}var Ja,es,nl=function(a,c,m){this.time=a,this.pos=c,this.button=m};function Kf(a){var c=this,m=c.display;if(!(Li(c,a)||m.activeTouch&&m.input.supportsTouch())){if(m.input.ensurePolled(),m.shift=a.shiftKey,Ys(m,a))return void(R||(m.scroller.draggable=!1,setTimeout(function(){return m.scroller.draggable=!0},100)));if(!Zf(c,a)){var v=Ti(c,a),y=mc(a),_=v?function nu(a,c){var m=+new Date;return es&&es.compare(m,a,c)?(Ja=es=null,"triple"):Ja&&Ja.compare(m,a,c)?(es=new nl(m,a,c),Ja=null,"double"):(Ja=new nl(m,a,c),es=null,"single")}(v,y):"single";_t(c).focus(),1==y&&c.state.selectingText&&c.state.selectingText(a),(!v||!function jh(a,c,m,v,y){var _="Click";return"double"==v?_="Double"+_:"triple"==v&&(_="Triple"+_),Ba(a,Yc(_=(1==c?"Left":2==c?"Middle":"Right")+_,y),y,function(G){if("string"==typeof G&&(G=Qu[G]),!G)return!1;var X=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),X=G(a,m)!=Lt}finally{a.state.suppressEdits=!1}return X})}(c,y,v,_,a))&&(1==y?v?function $h(a,c,m,v){C?setTimeout(Ut(Vu,a),0):a.curOp.focus=at(Yt(a));var G,y=function ru(a,c,m){var v=a.getOption("configureMouse"),y=v?v(a,c,m):{};return null==y.unit&&(y.unit=(he?m.shiftKey&&m.metaKey:m.altKey)?"rectangle":"single"==c?"char":"double"==c?"word":"line"),(null==y.extend||a.doc.extend)&&(y.extend=a.doc.extend||m.shiftKey),null==y.addNew&&(y.addNew=se?m.metaKey:m.ctrlKey),null==y.moveOnDrag&&(y.moveOnDrag=!(se?m.altKey:m.ctrlKey)),y}(a,m,v),_=a.doc.sel;a.options.dragDrop&&Ua&&!a.isReadOnly()&&"single"==m&&(G=_.contains(c))>-1&&(kn((G=_.ranges[G]).from(),c)<0||c.xRel>0)&&(kn(G.to(),c)>0||c.xRel<0)?function iu(a,c,m,v){var y=a.display,_=!1,G=io(a,function(ue){R&&(y.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:ro(a)),qi(y.wrapper.ownerDocument,"mouseup",G),qi(y.wrapper.ownerDocument,"mousemove",X),qi(y.scroller,"dragstart",Q),qi(y.scroller,"drop",G),_||(Ei(ue),v.addNew||Fc(a.doc,m,null,null,v.extend),R&&!H||C&&9==S?setTimeout(function(){y.wrapper.ownerDocument.body.focus({preventScroll:!0}),y.input.focus()},20):y.input.focus())}),X=function(ue){_=_||Math.abs(c.clientX-ue.clientX)+Math.abs(c.clientY-ue.clientY)>=10},Q=function(){return _=!0};R&&(y.scroller.draggable=!0),a.state.draggingText=G,G.copy=!v.moveOnDrag,pn(y.wrapper.ownerDocument,"mouseup",G),pn(y.wrapper.ownerDocument,"mousemove",X),pn(y.scroller,"dragstart",Q),pn(y.scroller,"drop",G),a.state.delayingBlurEvent=!0,setTimeout(function(){return y.input.focus()},20),y.scroller.dragDrop&&y.scroller.dragDrop()}(a,v,c,y):function Yh(a,c,m,v){C&&ro(a);var y=a.display,_=a.doc;Ei(c);var G,X,Q=_.sel,ue=Q.ranges;if(v.addNew&&!v.extend?(X=_.sel.contains(m),G=X>-1?ue[X]:new Pr(m,m)):(G=_.sel.primary(),X=_.sel.primIndex),"rectangle"==v.unit)v.addNew||(G=new Pr(m,m)),m=Ti(a,c,!0,!0),X=-1;else{var De=Ju(a,m,v.unit);G=v.extend?jf(G,De.anchor,De.head,v.extend):De}v.addNew?-1==X?(X=ue.length,oo(_,Yo(a,ue.concat([G]),X),{scroll:!1,origin:"*mouse"})):ue.length>1&&ue[X].empty()&&"char"==v.unit&&!v.extend?(oo(_,Yo(a,ue.slice(0,X).concat(ue.slice(X+1)),0),{scroll:!1,origin:"*mouse"}),Q=_.sel):Bd(_,X,G,Bn):(X=0,oo(_,new ra([G],0),Bn),Q=_.sel);var ke=m;function We($t){if(0!=kn(ke,$t))if(ke=$t,"rectangle"==v.unit){for(var jt=[],Sn=a.options.tabSize,vn=ln(mn(_,m.line).text,m.ch,Sn),zn=ln(mn(_,$t.line).text,$t.ch,Sn),nr=Math.min(vn,zn),di=Math.max(vn,zn),oi=Math.min(m.line,$t.line),Ao=Math.min(a.lastLine(),Math.max(m.line,$t.line));oi<=Ao;oi++){var Ni=mn(_,oi).text,hi=vr(Ni,nr,Sn);nr==di?jt.push(new Pr(Et(oi,hi),Et(oi,hi))):Ni.length>hi&&jt.push(new Pr(Et(oi,hi),Et(oi,vr(Ni,di,Sn))))}jt.length||jt.push(new Pr(m,m)),oo(_,Yo(a,Q.ranges.slice(0,X).concat(jt),X),{origin:"*mouse",scroll:!1}),a.scrollIntoView($t)}else{var Nr,Ko=G,No=Ju(a,$t,v.unit),co=Ko.anchor;kn(No.anchor,co)>0?(Nr=No.head,co=Re(Ko.from(),No.anchor)):(Nr=No.anchor,co=Ne(Ko.to(),No.head));var ai=Q.ranges.slice(0);ai[X]=function Hv(a,c){var m=c.anchor,v=c.head,y=mn(a.doc,m.line);if(0==kn(m,v)&&m.sticky==v.sticky)return c;var _=Ma(y);if(!_)return c;var G=Lo(_,m.ch,m.sticky),X=_[G];if(X.from!=m.ch&&X.to!=m.ch)return c;var ue,Q=G+(X.from==m.ch==(1!=X.level)?0:1);if(0==Q||Q==_.length)return c;if(v.line!=m.line)ue=(v.line-m.line)*("ltr"==a.doc.direction?1:-1)>0;else{var De=Lo(_,v.ch,v.sticky),ke=De-G||(v.ch-m.ch)*(1==X.level?-1:1);ue=De==Q-1||De==Q?ke<0:ke>0}var We=_[Q+(ue?-1:0)],ze=ue==(1==We.level),st=ze?We.from:We.to,pt=ze?"after":"before";return m.ch==st&&m.sticky==pt?c:new Pr(new Et(m.line,st,pt),v)}(a,new Pr(Je(_,co),Nr)),oo(_,Yo(a,ai,X),Bn)}}var ze=y.wrapper.getBoundingClientRect(),st=0;function pt($t){var jt=++st,Sn=Ti(a,$t,!0,"rectangle"==v.unit);if(Sn)if(0!=kn(Sn,ke)){a.curOp.focus=at(Yt(a)),We(Sn);var vn=Vn(y,_);(Sn.line>=vn.to||Sn.line<vn.from)&&setTimeout(io(a,function(){st==jt&&pt($t)}),150)}else{var zn=$t.clientY<ze.top?-20:$t.clientY>ze.bottom?20:0;zn&&setTimeout(io(a,function(){st==jt&&(y.scroller.scrollTop+=zn,pt($t))}),50)}}function Vt($t){a.state.selectingText=!1,st=1/0,$t&&(Ei($t),y.input.focus()),qi(y.wrapper.ownerDocument,"mousemove",Gt),qi(y.wrapper.ownerDocument,"mouseup",Xt),_.history.lastSelOrigin=null}var Gt=io(a,function($t){0!==$t.buttons&&mc($t)?pt($t):Vt($t)}),Xt=io(a,Vt);a.state.selectingText=Xt,pn(y.wrapper.ownerDocument,"mousemove",Gt),pn(y.wrapper.ownerDocument,"mouseup",Xt)}(a,v,c,y)}(c,v,_,a):Is(a)==m.scroller&&Ei(a):2==y?(v&&Fc(c.doc,v),setTimeout(function(){return m.input.focus()},20)):3==y&&(oe?c.display.input.onContextMenu(a):ro(c)))}}}function Ju(a,c,m){if("char"==m)return new Pr(c,c);if("word"==m)return a.findWordAt(c);if("line"==m)return new Pr(Et(c.line,0),Je(a.doc,Et(c.line+1,0)));var v=m(a,c);return new Pr(v.from,v.to)}function ef(a,c,m,v){var y,_;if(c.touches)y=c.touches[0].clientX,_=c.touches[0].clientY;else try{y=c.clientX,_=c.clientY}catch{return!1}if(y>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;v&&Ei(c);var G=a.display,X=G.lineDiv.getBoundingClientRect();if(_>X.bottom||!ui(a,m))return vc(c);_-=X.top-G.viewOffset;for(var Q=0;Q<a.display.gutterSpecs.length;++Q){var ue=G.gutters.childNodes[Q];if(ue&&ue.getBoundingClientRect().right>=y)return Qr(a,m,a,Pi(a.doc,_),a.display.gutterSpecs[Q].className,c),vc(c)}}function Zf(a,c){return ef(a,c,"gutterClick",!0)}function Xh(a,c){Ys(a.display,c)||function qf(a,c){return!!ui(a,"gutterContextMenu")&&ef(a,c,"gutterContextMenu",!1)}(a,c)||Li(a,c,"contextmenu")||oe||a.display.input.onContextMenu(c)}function ng(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Cl(a)}nl.prototype.compare=function(a,c,m){return this.time+400>a&&0==kn(c,this.pos)&&m==this.button};var tf={toString:function(){return"CodeMirror.Init"}},Wd={},ou={};function nf(a,c,m){if(!c!=!(m&&m!=tf)){var y=a.display.dragFunctions,_=c?pn:qi;_(a.display.scroller,"dragstart",y.start),_(a.display.scroller,"dragenter",y.enter),_(a.display.scroller,"dragover",y.over),_(a.display.scroller,"dragleave",y.leave),_(a.display.scroller,"drop",y.drop)}}function jd(a){a.options.lineWrapping?(Xe(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(ge(a.display.wrapper,"CodeMirror-wrap"),zl(a)),Mr(a),Gi(a),Cl(a),setTimeout(function(){return Qs(a)},100)}function $r(a,c){var m=this;if(!(this instanceof $r))return new $r(a,c);this.options=c=c?cn(c):{},cn(Wd,c,!1);var v=c.value;"string"==typeof v?v=new tr(v,c.mode,null,c.lineSeparator,c.direction):c.mode&&(v.modeOption=c.mode),this.doc=v;var y=new $r.inputStyles[c.inputStyle](this),_=this.display=new Pd(a,v,y,c);for(var G in _.wrapper.CodeMirror=this,ng(this),c.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Zl(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new nt,keySeq:null,specialChars:null},c.autofocus&&!le&&_.input.focus(),C&&S<11&&setTimeout(function(){return m.display.input.reset(!0)},20),function Uv(a){var c=a.display;pn(c.scroller,"mousedown",io(a,Kf)),pn(c.scroller,"dblclick",C&&S<11?io(a,function(Q){if(!Li(a,Q)){var ue=Ti(a,Q);if(ue&&!Zf(a,Q)&&!Ys(a.display,Q)){Ei(Q);var De=a.findWordAt(ue);Fc(a.doc,De.anchor,De.head)}}}):function(Q){return Li(a,Q)||Ei(Q)}),pn(c.scroller,"contextmenu",function(Q){return Xh(a,Q)}),pn(c.input.getField(),"contextmenu",function(Q){c.scroller.contains(Q.target)||Xh(a,Q)});var m,v={end:0};function y(){c.activeTouch&&(m=setTimeout(function(){return c.activeTouch=null},1e3),(v=c.activeTouch).end=+new Date)}function _(Q){if(1!=Q.touches.length)return!1;var ue=Q.touches[0];return ue.radiusX<=1&&ue.radiusY<=1}function G(Q,ue){if(null==ue.left)return!0;var De=ue.left-Q.left,ke=ue.top-Q.top;return De*De+ke*ke>400}pn(c.scroller,"touchstart",function(Q){if(!Li(a,Q)&&!_(Q)&&!Zf(a,Q)){c.input.ensurePolled(),clearTimeout(m);var ue=+new Date;c.activeTouch={start:ue,moved:!1,prev:ue-v.end<=300?v:null},1==Q.touches.length&&(c.activeTouch.left=Q.touches[0].pageX,c.activeTouch.top=Q.touches[0].pageY)}}),pn(c.scroller,"touchmove",function(){c.activeTouch&&(c.activeTouch.moved=!0)}),pn(c.scroller,"touchend",function(Q){var ue=c.activeTouch;if(ue&&!Ys(c,Q)&&null!=ue.left&&!ue.moved&&new Date-ue.start<300){var ke,De=a.coordsChar(c.activeTouch,"page");ke=!ue.prev||G(ue,ue.prev)?new Pr(De,De):!ue.prev.prev||G(ue,ue.prev.prev)?a.findWordAt(De):new Pr(Et(De.line,0),Je(a.doc,Et(De.line+1,0))),a.setSelection(ke.anchor,ke.head),a.focus(),Ei(Q)}y()}),pn(c.scroller,"touchcancel",y),pn(c.scroller,"scroll",function(){c.scroller.clientHeight&&(Jn(a,c.scroller.scrollTop),Pa(a,c.scroller.scrollLeft,!0),Qr(a,"scroll",a))}),pn(c.scroller,"mousewheel",function(Q){return Pc(a,Q)}),pn(c.scroller,"DOMMouseScroll",function(Q){return Pc(a,Q)}),pn(c.wrapper,"scroll",function(){return c.wrapper.scrollTop=c.wrapper.scrollLeft=0}),c.dragFunctions={enter:function(Q){Li(a,Q)||Ia(Q)},over:function(Q){Li(a,Q)||(function Ku(a,c){var m=Ti(a,c);if(m){var v=document.createDocumentFragment();rn(a,m,v),a.display.dragCursor||(a.display.dragCursor=xe("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),Se(a.display.dragCursor,v)}}(a,Q),Ia(Q))},start:function(Q){return function Gd(a,c){if(C&&(!a.state.draggingText||+new Date-Da<100))Ia(c);else if(!Li(a,c)&&!Ys(a.display,c)&&(c.dataTransfer.setData("Text",a.getSelection()),c.dataTransfer.effectAllowed="copyMove",c.dataTransfer.setDragImage&&!H)){var m=xe("img",null,null,"position: fixed; left: 0; top: 0;");m.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",F&&(m.width=m.height=1,a.display.wrapper.appendChild(m),m._top=m.offsetTop),c.dataTransfer.setDragImage(m,0,0),F&&m.parentNode.removeChild(m)}}(a,Q)},drop:io(a,To),leave:function(Q){Li(a,Q)||Qa(a)}};var X=c.input.getField();pn(X,"keyup",function(Q){return Io.call(a,Q)}),pn(X,"keydown",io(a,Qc)),pn(X,"keypress",io(a,Jc)),pn(X,"focus",function(Q){return Zs(a,Q)}),pn(X,"blur",function(Q){return ti(a,Q)})}(this),ri(),jr(this),this.curOp.forceUpdate=!0,zu(this,v),c.autofocus&&!le||this.hasFocus()?setTimeout(function(){m.hasFocus()&&!m.state.focused&&Zs(m)},20):ti(this),ou)ou.hasOwnProperty(G)&&ou[G](this,c[G],tf);Kp(this),c.finishInit&&c.finishInit(this);for(var X=0;X<rf.length;++X)rf[X](this);El(this),R&&c.lineWrapping&&"optimizelegibility"==getComputedStyle(_.lineDiv).textRendering&&(_.lineDiv.style.textRendering="auto")}$r.defaults=Wd,$r.optionHandlers=ou;var rf=[];function ec(a,c,m,v){var _,y=a.doc;null==m&&(m="add"),"smart"==m&&(y.mode.indent?_=Pt(a,c).state:m="prev");var G=a.options.tabSize,X=mn(y,c),Q=ln(X.text,null,G);X.stateAfter&&(X.stateAfter=null);var De,ue=X.text.match(/^\s*/)[0];if(v||/\S/.test(X.text)){if("smart"==m&&((De=y.mode.indent(_,X.text.slice(ue.length),X.text))==Lt||De>150)){if(!v)return;m="prev"}}else De=0,m="not";"prev"==m?De=c>y.first?ln(mn(y,c-1).text,null,G):0:"add"==m?De=Q+a.options.indentUnit:"subtract"==m?De=Q-a.options.indentUnit:"number"==typeof m&&(De=Q+m),De=Math.max(0,De);var ke="",We=0;if(a.options.indentWithTabs)for(var ze=Math.floor(De/G);ze;--ze)We+=G,ke+="\t";if(We<De&&(ke+=fr(De-We)),ke!=ue)return Tl(y,ke,Et(c,0),Et(c,ue.length),"+input"),X.stateAfter=null,!0;for(var st=0;st<y.sel.ranges.length;st++){var pt=y.sel.ranges[st];if(pt.head.line==c&&pt.head.ch<ue.length){var Vt=Et(c,ue.length);Bd(y,st,new Pr(Vt,Vt));break}}}$r.defineInitHook=function(a){return rf.push(a)};var bs=null;function Xo(a){bs=a}function $d(a,c,m,v,y){var _=a.doc;a.display.shift=!1,v||(v=_.sel);var G=+new Date-200,X="paste"==y||a.state.pasteIncoming>G,Q=Gl(c),ue=null;if(X&&v.ranges.length>1)if(bs&&bs.text.join("\n")==c){if(v.ranges.length%bs.text.length==0){ue=[];for(var De=0;De<bs.text.length;De++)ue.push(_.splitLines(bs.text[De]))}}else Q.length==v.ranges.length&&a.options.pasteLinesPerSelection&&(ue=An(Q,function(Gt){return[Gt]}));for(var ke=a.curOp.updateInput,We=v.ranges.length-1;We>=0;We--){var ze=v.ranges[We],st=ze.from(),pt=ze.to();ze.empty()&&(m&&m>0?st=Et(st.line,st.ch-m):a.state.overwrite&&!X?pt=Et(pt.line,Math.min(mn(_,pt.line).text.length,pt.ch+hn(Q).length)):X&&bs&&bs.lineWise&&bs.text.join("\n")==Q.join("\n")&&(st=pt=Et(st.line,0)));var Vt={from:st,to:pt,text:ue?ue[We%ue.length]:Q,origin:y||(X?"paste":a.state.cutIncoming>G?"cut":"+input")};$u(a.doc,Vt),to(a,"inputRead",a,Vt)}c&&!X&&Qf(a,c),La(a),a.curOp.updateInput<2&&(a.curOp.updateInput=ke),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function af(a,c){var m=a.clipboardData&&a.clipboardData.getData("Text");if(m)return a.preventDefault(),!c.isReadOnly()&&!c.options.disableInput&&c.hasFocus()&&$o(c,function(){return $d(c,m,0,null,"paste")}),!0}function Qf(a,c){if(a.options.electricChars&&a.options.smartIndent)for(var m=a.doc.sel,v=m.ranges.length-1;v>=0;v--){var y=m.ranges[v];if(!(y.head.ch>100||v&&m.ranges[v-1].head.line==y.head.line)){var _=a.getModeAt(y.head),G=!1;if(_.electricChars){for(var X=0;X<_.electricChars.length;X++)if(c.indexOf(_.electricChars.charAt(X))>-1){G=ec(a,y.head.line,"smart");break}}else _.electricInput&&_.electricInput.test(mn(a.doc,y.head.line).text.slice(0,y.head.ch))&&(G=ec(a,y.head.line,"smart"));G&&to(a,"electricInput",a,y.head.line)}}}function Yd(a){for(var c=[],m=[],v=0;v<a.doc.sel.ranges.length;v++){var y=a.doc.sel.ranges[v].head.line,_={anchor:Et(y,0),head:Et(y+1,0)};m.push(_),c.push(a.getRange(_.anchor,_.head))}return{text:c,ranges:m}}function sf(a,c,m,v){a.setAttribute("autocorrect",m?"on":"off"),a.setAttribute("autocapitalize",v?"on":"off"),a.setAttribute("spellcheck",!!c)}function Jf(){var a=xe("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),c=xe("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return R?a.style.width="1000px":a.setAttribute("wrap","off"),ce&&(a.style.border="1px solid black"),c}function ed(a,c,m,v,y){var _=c,G=m,X=mn(a,c.line),Q=y&&"rtl"==a.direction?-m:m;function De(Xt){var $t;if("codepoint"==v){var jt=X.text.charCodeAt(c.ch+(m>0?0:-1));$t=isNaN(jt)?null:new Et(c.line,Math.max(0,Math.min(X.text.length,c.ch+m*((m>0?jt>=55296&&jt<56320:jt>=56320&&jt<57343)?2:1))),-m)}else $t=y?function Wh(a,c,m,v){var y=Ma(c,a.doc.direction);if(!y)return qu(c,m,v);m.ch>=c.text.length?(m.ch=c.text.length,m.sticky="before"):m.ch<=0&&(m.ch=0,m.sticky="after");var _=Lo(y,m.ch,m.sticky),G=y[_];if("ltr"==a.doc.direction&&G.level%2==0&&(v>0?G.to>m.ch:G.from<m.ch))return qu(c,m,v);var Q,X=function(Gt,Xt){return Xf(c,Gt instanceof Et?Gt.ch:Gt,Xt)},ue=function(Gt){return a.options.lineWrapping?(Q=Q||bl(a,c),Lh(a,c,Q,Gt)):{begin:0,end:c.text.length}},De=ue("before"==m.sticky?X(m,-1):m.ch);if("rtl"==a.doc.direction||1==G.level){var ke=1==G.level==v<0,We=X(m,ke?1:-1);if(null!=We&&(ke?We<=G.to&&We<=De.end:We>=G.from&&We>=De.begin))return new Et(m.line,We,ke?"before":"after")}var st=function(Gt,Xt,$t){for(;Gt>=0&&Gt<y.length;Gt+=Xt){var Sn=y[Gt],vn=Xt>0==(1!=Sn.level),zn=vn?$t.begin:X($t.end,-1);if(Sn.from<=zn&&zn<Sn.to||(zn=vn?Sn.from:X(Sn.to,-1),$t.begin<=zn&&zn<$t.end))return nr=zn,vn?new Et(m.line,X(nr,1),"before"):new Et(m.line,nr,"after")}var nr},pt=st(_+v,v,De);if(pt)return pt;var Vt=v>0?De.end:X(De.begin,-1);return null==Vt||v>0&&Vt==c.text.length||!(pt=st(v>0?0:y.length-1,v,ue(Vt)))?null:pt}(a.cm,X,c,m):qu(X,c,m);if(null==$t){if(Xt||!function ue(){var Xt=c.line+Q;return!(Xt<a.first||Xt>=a.first+a.size)&&(c=new Et(Xt,c.ch,c.sticky),X=mn(a,Xt))}())return!1;c=Nl(y,a.cm,X,c.line,Q)}else c=$t;return!0}if("char"==v||"codepoint"==v)De();else if("column"==v)De(!0);else if("word"==v||"group"==v)for(var ke=null,We="group"==v,ze=a.cm&&a.cm.getHelper(c,"wordChars"),st=!0;!(m<0)||De(!st);st=!1){var pt=X.text.charAt(c.ch)||"\n",Vt=Ci(pt,ze)?"w":We&&"\n"==pt?"n":!We||/\s/.test(pt)?null:"p";if(We&&!st&&!Vt&&(Vt="s"),ke&&ke!=Vt){m<0&&(m=1,De(),c.sticky="after");break}if(Vt&&(ke=Vt),m>0&&!De(!st))break}var Gt=vs(a,c,_,G,!0);return Ec(_,Gt)&&(Gt.hitSide=!0),Gt}function td(a,c,m,v){var G,ue,y=a.doc,_=c.left;if("page"==v){var X=Math.min(a.display.wrapper.clientHeight,_t(a).innerHeight||y(a).documentElement.clientHeight),Q=Math.max(X-.5*bo(a.display),3);G=(m>0?c.bottom:c.top)+m*Q}else"line"==v&&(G=m>0?c.bottom+3:c.top-3);for(;(ue=_f(a,_,G)).outside;){if(m<0?G<=0:G>=y.height){ue.hitSide=!0;break}G+=5*m}return ue}var _r=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new nt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function lf(a,c){var m=yl(a,c.line);if(!m||m.hidden)return null;var v=mn(a.doc,c.line),y=Lf(m,v,c.line),_=Ma(v,a.doc.direction),G="left";_&&(G=Lo(_,c.ch)%2?"right":"left");var Q=$l(y.map,c.ch,G);return Q.offset="right"==Q.collapse?Q.end:Q.start,Q}function _s(a,c){return c&&(a.bad=!0),a}function uf(a,c,m){var v;if(c==a.display.lineDiv){if(!(v=a.display.lineDiv.childNodes[m]))return _s(a.clipPos(Et(a.display.viewTo-1)),!0);c=null,m=0}else for(v=c;;v=v.parentNode){if(!v||v==a.display.lineDiv)return null;if(v.parentNode&&v.parentNode==a.display.lineDiv)break}for(var y=0;y<a.display.view.length;y++){var _=a.display.view[y];if(_.node==v)return Zh(_,c,m)}}function Zh(a,c,m){var v=a.text.firstChild,y=!1;if(!c||!et(v,c))return _s(Et(xr(a.line),0),!0);if(c==v&&(y=!0,c=v.childNodes[m],m=0,!c)){var _=a.rest?hn(a.rest):a.line;return _s(Et(xr(_),_.text.length),y)}var G=3==c.nodeType?c:null,X=c;for(!G&&1==c.childNodes.length&&3==c.firstChild.nodeType&&(G=c.firstChild,m&&(m=G.nodeValue.length));X.parentNode!=v;)X=X.parentNode;var Q=a.measure,ue=Q.maps;function De(Vt,Gt,Xt){for(var $t=-1;$t<(ue?ue.length:0);$t++)for(var jt=$t<0?Q.map:ue[$t],Sn=0;Sn<jt.length;Sn+=3){var vn=jt[Sn+2];if(vn==Vt||vn==Gt){var zn=xr($t<0?a.line:a.rest[$t]),nr=jt[Sn]+Xt;return(Xt<0||vn!=Vt)&&(nr=jt[Sn+(Xt?1:0)]),Et(zn,nr)}}}var ke=De(G,X,m);if(ke)return _s(ke,y);for(var We=X.nextSibling,ze=G?G.nodeValue.length-m:0;We;We=We.nextSibling){if(ke=De(We,We.firstChild,0))return _s(Et(ke.line,ke.ch-ze),y);ze+=We.textContent.length}for(var st=X.previousSibling,pt=m;st;st=st.previousSibling){if(ke=De(st,st.firstChild,-1))return _s(Et(ke.line,ke.ch+pt),y);pt+=st.textContent.length}}_r.prototype.init=function(a){var c=this,m=this,v=m.cm,y=m.div=a.lineDiv;function _(X){for(var Q=X.target;Q;Q=Q.parentNode){if(Q==y)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Q.className))break}return!1}function G(X){if(_(X)&&!Li(v,X)){if(v.somethingSelected())Xo({lineWise:!1,text:v.getSelections()}),"cut"==X.type&&v.replaceSelection("",null,"cut");else{if(!v.options.lineWiseCopyCut)return;var Q=Yd(v);Xo({lineWise:!0,text:Q.text}),"cut"==X.type&&v.operation(function(){v.setSelections(Q.ranges,0,Rt),v.replaceSelection("",null,"cut")})}if(X.clipboardData){X.clipboardData.clearData();var ue=bs.text.join("\n");if(X.clipboardData.setData("Text",ue),X.clipboardData.getData("Text")==ue)return void X.preventDefault()}var De=Jf(),ke=De.firstChild;sf(ke),v.display.lineSpace.insertBefore(De,v.display.lineSpace.firstChild),ke.value=bs.text.join("\n");var We=at(y.ownerDocument);$e(ke),setTimeout(function(){v.display.lineSpace.removeChild(De),We.focus(),We==y&&m.showPrimarySelection()},50)}}y.contentEditable=!0,sf(y,v.options.spellcheck,v.options.autocorrect,v.options.autocapitalize),pn(y,"paste",function(X){!_(X)||Li(v,X)||af(X,v)||S<=11&&setTimeout(io(v,function(){return c.updateFromDOM()}),20)}),pn(y,"compositionstart",function(X){c.composing={data:X.data,done:!1}}),pn(y,"compositionupdate",function(X){c.composing||(c.composing={data:X.data,done:!1})}),pn(y,"compositionend",function(X){c.composing&&(X.data!=c.composing.data&&c.readFromDOMSoon(),c.composing.done=!0)}),pn(y,"touchstart",function(){return m.forceCompositionEnd()}),pn(y,"input",function(){c.composing||c.readFromDOMSoon()}),pn(y,"copy",G),pn(y,"cut",G)},_r.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},_r.prototype.prepareSelection=function(){var a=Wi(this.cm,!1);return a.focus=at(this.div.ownerDocument)==this.div,a},_r.prototype.showSelection=function(a,c){!a||!this.cm.display.view.length||((a.focus||c)&&this.showPrimarySelection(),this.showMultipleSelections(a))},_r.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},_r.prototype.showPrimarySelection=function(){var a=this.getSelection(),c=this.cm,m=c.doc.sel.primary(),v=m.from(),y=m.to();if(c.display.viewTo==c.display.viewFrom||v.line>=c.display.viewTo||y.line<c.display.viewFrom)a.removeAllRanges();else{var _=uf(c,a.anchorNode,a.anchorOffset),G=uf(c,a.focusNode,a.focusOffset);if(!_||_.bad||!G||G.bad||0!=kn(Re(_,G),v)||0!=kn(Ne(_,G),y)){var X=c.display.view,Q=v.line>=c.display.viewFrom&&lf(c,v)||{node:X[0].measure.map[2],offset:0},ue=y.line<c.display.viewTo&&lf(c,y);if(!ue){var De=X[X.length-1].measure,ke=De.maps?De.maps[De.maps.length-1]:De.map;ue={node:ke[ke.length-1],offset:ke[ke.length-2]-ke[ke.length-3]}}if(!Q||!ue)return void a.removeAllRanges();var ze,We=a.rangeCount&&a.getRangeAt(0);try{ze=_e(Q.node,Q.offset,ue.offset,ue.node)}catch{}ze&&(!T&&c.state.focused?(a.collapse(Q.node,Q.offset),ze.collapsed||(a.removeAllRanges(),a.addRange(ze))):(a.removeAllRanges(),a.addRange(ze)),We&&null==a.anchorNode?a.addRange(We):T&&this.startGracePeriod()),this.rememberSelection()}}},_r.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},_r.prototype.showMultipleSelections=function(a){Se(this.cm.display.cursorDiv,a.cursors),Se(this.cm.display.selectionDiv,a.selection)},_r.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},_r.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var c=a.getRangeAt(0).commonAncestorContainer;return et(this.div,c)},_r.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||at(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},_r.prototype.blur=function(){this.div.blur()},_r.prototype.getField=function(){return this.div},_r.prototype.supportsTouch=function(){return!0},_r.prototype.receivedFocus=function(){var a=this,c=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):$o(this.cm,function(){return c.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function m(){c.cm.state.focused&&(c.pollSelection(),c.polling.set(c.cm.options.pollInterval,m))})},_r.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},_r.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=this.getSelection(),c=this.cm;if(ne&&B&&this.cm.display.gutterSpecs.length&&function ig(a){for(var c=a;c;c=c.parentNode)if(/CodeMirror-gutter-wrapper/.test(c.className))return!0;return!1}(a.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var m=uf(c,a.anchorNode,a.anchorOffset),v=uf(c,a.focusNode,a.focusOffset);m&&v&&$o(c,function(){oo(c.doc,ia(m,v),Rt),(m.bad||v.bad)&&(c.curOp.selectionChanged=!0)})}}},_r.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var _,G,X,a=this.cm,c=a.display,m=a.doc.sel.primary(),v=m.from(),y=m.to();if(0==v.ch&&v.line>a.firstLine()&&(v=Et(v.line-1,mn(a.doc,v.line-1).length)),y.ch==mn(a.doc,y.line).text.length&&y.line<a.lastLine()&&(y=Et(y.line+1,0)),v.line<c.viewFrom||y.line>c.viewTo-1)return!1;v.line==c.viewFrom||0==(_=Ui(a,v.line))?(G=xr(c.view[0].line),X=c.view[0].node):(G=xr(c.view[_].line),X=c.view[_-1].node.nextSibling);var ue,De,Q=Ui(a,y.line);if(Q==c.view.length-1?(ue=c.viewTo-1,De=c.lineDiv.lastChild):(ue=xr(c.view[Q+1].line)-1,De=c.view[Q+1].node.previousSibling),!X)return!1;for(var ke=a.doc.splitLines(function au(a,c,m,v,y){var _="",G=!1,X=a.doc.lineSeparator(),Q=!1;function De(){G&&(_+=X,Q&&(_+=X),G=Q=!1)}function ke(ze){ze&&(De(),_+=ze)}function We(ze){if(1==ze.nodeType){var st=ze.getAttribute("cm-text");if(st)return void ke(st);var Vt,pt=ze.getAttribute("cm-marker");if(pt){var Gt=a.findMarks(Et(v,0),Et(y+1,0),function ue(ze){return function(st){return st.id==ze}}(+pt));return void(Gt.length&&(Vt=Gt[0].find(0))&&ke(Yr(a.doc,Vt.from,Vt.to).join(X)))}if("false"==ze.getAttribute("contenteditable"))return;var Xt=/^(pre|div|p|li|table|br)$/i.test(ze.nodeName);if(!/^br$/i.test(ze.nodeName)&&0==ze.textContent.length)return;Xt&&De();for(var $t=0;$t<ze.childNodes.length;$t++)We(ze.childNodes[$t]);/^(pre|p)$/i.test(ze.nodeName)&&(Q=!0),Xt&&(G=!0)}else 3==ze.nodeType&&ke(ze.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;We(c),c!=m;)c=c.nextSibling,Q=!1;return _}(a,X,De,G,ue)),We=Yr(a.doc,Et(G,0),Et(ue,mn(a.doc,ue).text.length));ke.length>1&&We.length>1;)if(hn(ke)==hn(We))ke.pop(),We.pop(),ue--;else{if(ke[0]!=We[0])break;ke.shift(),We.shift(),G++}for(var ze=0,st=0,pt=ke[0],Vt=We[0],Gt=Math.min(pt.length,Vt.length);ze<Gt&&pt.charCodeAt(ze)==Vt.charCodeAt(ze);)++ze;for(var Xt=hn(ke),$t=hn(We),jt=Math.min(Xt.length-(1==ke.length?ze:0),$t.length-(1==We.length?ze:0));st<jt&&Xt.charCodeAt(Xt.length-st-1)==$t.charCodeAt($t.length-st-1);)++st;if(1==ke.length&&1==We.length&&G==v.line)for(;ze&&ze>v.ch&&Xt.charCodeAt(Xt.length-st-1)==$t.charCodeAt($t.length-st-1);)ze--,st++;ke[ke.length-1]=Xt.slice(0,Xt.length-st).replace(/^\u200b+/,""),ke[0]=ke[0].slice(ze).replace(/\u200b+$/,"");var Sn=Et(G,ze),vn=Et(ue,We.length?hn(We).length-st:0);return ke.length>1||ke[0]||kn(Sn,vn)?(Tl(a.doc,ke,Sn,vn,"+input"),!0):void 0},_r.prototype.ensurePolled=function(){this.forceCompositionEnd()},_r.prototype.reset=function(){this.forceCompositionEnd()},_r.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},_r.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing){if(!a.composing.done)return;a.composing=null}a.updateFromDOM()},80))},_r.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&$o(this.cm,function(){return Gi(a.cm)})},_r.prototype.setUneditable=function(a){a.contentEditable="false"},_r.prototype.onKeyPress=function(a){0==a.charCode||this.composing||(a.preventDefault(),this.cm.isReadOnly()||io(this.cm,$d)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))},_r.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)},_r.prototype.onContextMenu=function(){},_r.prototype.resetPosition=function(){},_r.prototype.needsContentAttribute=!0;var fi=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new nt,this.hasSelection=!1,this.composing=null,this.resetting=!1};fi.prototype.init=function(a){var c=this,m=this,v=this.cm;this.createField(a);var y=this.textarea;function _(G){if(!Li(v,G)){if(v.somethingSelected())Xo({lineWise:!1,text:v.getSelections()});else{if(!v.options.lineWiseCopyCut)return;var X=Yd(v);Xo({lineWise:!0,text:X.text}),"cut"==G.type?v.setSelections(X.ranges,null,Rt):(m.prevInput="",y.value=X.text.join("\n"),$e(y))}"cut"==G.type&&(v.state.cutIncoming=+new Date)}}a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),ce&&(y.style.width="0px"),pn(y,"input",function(){C&&S>=9&&c.hasSelection&&(c.hasSelection=null),m.poll()}),pn(y,"paste",function(G){Li(v,G)||af(G,v)||(v.state.pasteIncoming=+new Date,m.fastPoll())}),pn(y,"cut",_),pn(y,"copy",_),pn(a.scroller,"paste",function(G){if(!Ys(a,G)&&!Li(v,G)){if(!y.dispatchEvent)return v.state.pasteIncoming=+new Date,void m.focus();var X=new Event("paste");X.clipboardData=G.clipboardData,y.dispatchEvent(X)}}),pn(a.lineSpace,"selectstart",function(G){Ys(a,G)||Ei(G)}),pn(y,"compositionstart",function(){var G=v.getCursor("from");m.composing&&m.composing.range.clear(),m.composing={start:G,range:v.markText(G,v.getCursor("to"),{className:"CodeMirror-composing"})}}),pn(y,"compositionend",function(){m.composing&&(m.poll(),m.composing.range.clear(),m.composing=null)})},fi.prototype.createField=function(a){this.wrapper=Jf(),this.textarea=this.wrapper.firstChild;var c=this.cm.options;sf(this.textarea,c.spellcheck,c.autocorrect,c.autocapitalize)},fi.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},fi.prototype.prepareSelection=function(){var a=this.cm,c=a.display,m=a.doc,v=Wi(a);if(a.options.moveInputWithCursor){var y=$a(a,m.sel.primary().head,"div"),_=c.wrapper.getBoundingClientRect(),G=c.lineDiv.getBoundingClientRect();v.teTop=Math.max(0,Math.min(c.wrapper.clientHeight-10,y.top+G.top-_.top)),v.teLeft=Math.max(0,Math.min(c.wrapper.clientWidth-10,y.left+G.left-_.left))}return v},fi.prototype.showSelection=function(a){var m=this.cm.display;Se(m.cursorDiv,a.cursors),Se(m.selectionDiv,a.selection),null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},fi.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing&&a)){var c=this.cm;if(this.resetting=!0,c.somethingSelected()){this.prevInput="";var m=c.getSelection();this.textarea.value=m,c.state.focused&&$e(this.textarea),C&&S>=9&&(this.hasSelection=m)}else a||(this.prevInput=this.textarea.value="",C&&S>=9&&(this.hasSelection=null));this.resetting=!1}},fi.prototype.getField=function(){return this.textarea},fi.prototype.supportsTouch=function(){return!1},fi.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!le||at(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},fi.prototype.blur=function(){this.textarea.blur()},fi.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},fi.prototype.receivedFocus=function(){this.slowPoll()},fi.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},fi.prototype.fastPoll=function(){var a=!1,c=this;c.pollingFast=!0,c.polling.set(20,function m(){c.poll()||a?(c.pollingFast=!1,c.slowPoll()):(a=!0,c.polling.set(60,m))})},fi.prototype.poll=function(){var a=this,c=this.cm,m=this.textarea,v=this.prevInput;if(this.contextMenuPending||this.resetting||!c.state.focused||xu(m)&&!v&&!this.composing||c.isReadOnly()||c.options.disableInput||c.state.keySeq)return!1;var y=m.value;if(y==v&&!c.somethingSelected())return!1;if(C&&S>=9&&this.hasSelection===y||se&&/[\uf700-\uf7ff]/.test(y))return c.display.input.reset(),!1;if(c.doc.sel==c.display.selForContextMenu){var _=y.charCodeAt(0);if(8203==_&&!v&&(v="\u200b"),8666==_)return this.reset(),this.cm.execCommand("undo")}for(var G=0,X=Math.min(v.length,y.length);G<X&&v.charCodeAt(G)==y.charCodeAt(G);)++G;return $o(c,function(){$d(c,y.slice(G),v.length-G,null,a.composing?"*compose":null),y.length>1e3||y.indexOf("\n")>-1?m.value=a.prevInput="":a.prevInput=y,a.composing&&(a.composing.range.clear(),a.composing.range=c.markText(a.composing.start,c.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},fi.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},fi.prototype.onKeyPress=function(){C&&S>=9&&(this.hasSelection=null),this.fastPoll()},fi.prototype.onContextMenu=function(a){var c=this,m=c.cm,v=m.display,y=c.textarea;c.contextMenuPending&&c.contextMenuPending();var _=Ti(m,a),G=v.scroller.scrollTop;if(_&&!F){m.options.resetSelectionOnContextMenu&&-1==m.doc.sel.contains(_)&&io(m,oo)(m.doc,ia(_),Rt);var ke,Q=y.style.cssText,ue=c.wrapper.style.cssText,De=c.wrapper.offsetParent.getBoundingClientRect();if(c.wrapper.style.cssText="position: static",y.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-De.top-5)+"px; left: "+(a.clientX-De.left-5)+"px;\n      z-index: 1000; background: "+(C?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",R&&(ke=y.ownerDocument.defaultView.scrollY),v.input.focus(),R&&y.ownerDocument.defaultView.scrollTo(null,ke),v.input.reset(),m.somethingSelected()||(y.value=c.prevInput=" "),c.contextMenuPending=ze,v.selForContextMenu=m.doc.sel,clearTimeout(v.detectingSelectAll),C&&S>=9&&We(),oe){Ia(a);var st=function(){qi(window,"mouseup",st),setTimeout(ze,20)};pn(window,"mouseup",st)}else setTimeout(ze,50)}function We(){if(null!=y.selectionStart){var pt=m.somethingSelected(),Vt="\u200b"+(pt?y.value:"");y.value="\u21da",y.value=Vt,c.prevInput=pt?"":"\u200b",y.selectionStart=1,y.selectionEnd=Vt.length,v.selForContextMenu=m.doc.sel}}function ze(){if(c.contextMenuPending==ze&&(c.contextMenuPending=!1,c.wrapper.style.cssText=ue,y.style.cssText=Q,C&&S<9&&v.scrollbars.setScrollTop(v.scroller.scrollTop=G),null!=y.selectionStart)){(!C||C&&S<9)&&We();var pt=0,Vt=function(){v.selForContextMenu==m.doc.sel&&0==y.selectionStart&&y.selectionEnd>0&&"\u200b"==c.prevInput?io(m,Sl)(m):pt++<10?v.detectingSelectAll=setTimeout(Vt,500):(v.selForContextMenu=null,v.input.reset())};v.detectingSelectAll=setTimeout(Vt,200)}}},fi.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled="nocursor"==a,this.textarea.readOnly=!!a},fi.prototype.setUneditable=function(){},fi.prototype.needsContentAttribute=!1,function rg(a){var c=a.optionHandlers;function m(v,y,_,G){a.defaults[v]=y,_&&(c[v]=G?function(X,Q,ue){ue!=tf&&_(X,Q,ue)}:_)}a.defineOption=m,a.Init=tf,m("value","",function(v,y){return v.setValue(y)},!0),m("mode",null,function(v,y){v.doc.modeOption=y,Uu(v)},!0),m("indentUnit",2,Uu,!0),m("indentWithTabs",!1),m("smartIndent",!0),m("tabSize",4,function(v){Wf(v),Cl(v),Gi(v)},!0),m("lineSeparator",null,function(v,y){if(v.doc.lineSep=y,y){var _=[],G=v.doc.first;v.doc.iter(function(Q){for(var ue=0;;){var De=Q.text.indexOf(y,ue);if(-1==De)break;ue=De+y.length,_.push(Et(G,De))}G++});for(var X=_.length-1;X>=0;X--)Tl(v.doc,y,_[X],Et(_[X].line,_[X].ch+y.length))}}),m("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(v,y,_){v.state.specialChars=new RegExp(y.source+(y.test("\t")?"":"|\t"),"g"),_!=tf&&v.refresh()}),m("specialCharPlaceholder",Oa,function(v){return v.refresh()},!0),m("electricChars",!0),m("inputStyle",le?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),m("spellcheck",!1,function(v,y){return v.getInputField().spellcheck=y},!0),m("autocorrect",!1,function(v,y){return v.getInputField().autocorrect=y},!0),m("autocapitalize",!1,function(v,y){return v.getInputField().autocapitalize=y},!0),m("rtlMoveVisually",!ee),m("wholeLineUpdateBefore",!0),m("theme","default",function(v){ng(v),zf(v)},!0),m("keyMap","default",function(v,y,_){var G=Xc(y),X=_!=tf&&Xc(_);X&&X.detach&&X.detach(v,G),G.attach&&G.attach(v,X||null)}),m("extraKeys",null),m("configureMouse",null),m("lineWrapping",!1,jd,!0),m("gutters",[],function(v,y){v.display.gutterSpecs=xl(y,v.options.lineNumbers),zf(v)},!0),m("fixedGutter",!0,function(v,y){v.display.gutters.style.left=y?_n(v.display)+"px":"0",v.refresh()},!0),m("coverGutterNextToScrollbar",!1,function(v){return Qs(v)},!0),m("scrollbarStyle","native",function(v){Zl(v),Qs(v),v.display.scrollbars.setScrollTop(v.doc.scrollTop),v.display.scrollbars.setScrollLeft(v.doc.scrollLeft)},!0),m("lineNumbers",!1,function(v,y){v.display.gutterSpecs=xl(v.options.gutters,y),zf(v)},!0),m("firstLineNumber",1,zf,!0),m("lineNumberFormatter",function(v){return v},zf,!0),m("showCursorWhenSelecting",!1,Mc,!0),m("resetSelectionOnContextMenu",!0),m("lineWiseCopyCut",!0),m("pasteLinesPerSelection",!0),m("selectionsMayTouch",!1),m("readOnly",!1,function(v,y){"nocursor"==y&&(ti(v),v.display.input.blur()),v.display.input.readOnlyChanged(y)}),m("screenReaderLabel",null,function(v,y){v.display.input.screenReaderLabelChanged(y=""===y?null:y)}),m("disableInput",!1,function(v,y){y||v.display.input.reset()},!0),m("dragDrop",!0,nf),m("allowDropFileTypes",null),m("cursorBlinkRate",530),m("cursorScrollMargin",0),m("cursorHeight",1,Mc,!0),m("singleCursorHeightPerLine",!0,Mc,!0),m("workTime",100),m("workDelay",100),m("flattenSpans",!0,Wf,!0),m("addModeClass",!1,Wf,!0),m("pollInterval",100),m("undoDepth",200,function(v,y){return v.doc.history.undoDepth=y}),m("historyEventDelay",1250),m("viewportMargin",10,function(v){return v.refresh()},!0),m("maxHighlightLength",1e4,Wf,!0),m("moveInputWithCursor",!0,function(v,y){y||v.display.input.resetPosition()}),m("tabindex",null,function(v,y){return v.display.input.getField().tabIndex=y||""}),m("autofocus",null),m("direction","ltr",function(v,y){return v.doc.setDirection(y)},!0),m("phrases",null)}($r),function Kh(a){var c=a.optionHandlers,m=a.helpers={};a.prototype={constructor:a,focus:function(){_t(this).focus(),this.display.input.focus()},setOption:function(v,y){var _=this.options,G=_[v];_[v]==y&&"mode"!=v||(_[v]=y,c.hasOwnProperty(v)&&io(this,c[v])(this,y,G),Qr(this,"optionChange",this,v))},getOption:function(v){return this.options[v]},getDoc:function(){return this.doc},addKeyMap:function(v,y){this.state.keyMaps[y?"push":"unshift"](Xc(v))},removeKeyMap:function(v){for(var y=this.state.keyMaps,_=0;_<y.length;++_)if(y[_]==v||y[_].name==v)return y.splice(_,1),!0},addOverlay:wo(function(v,y){var _=v.token?v:a.getMode(this.options,v);if(_.startState)throw new Error("Overlays may not be stateful.");(function kr(a,c,m){for(var v=0,y=m(c);v<a.length&&m(a[v])<=y;)v++;a.splice(v,0,c)})(this.state.overlays,{mode:_,modeSpec:v,opaque:y&&y.opaque,priority:y&&y.priority||0},function(G){return G.priority}),this.state.modeGen++,Gi(this)}),removeOverlay:wo(function(v){for(var y=this.state.overlays,_=0;_<y.length;++_){var G=y[_].modeSpec;if(G==v||"string"==typeof v&&G.name==v)return y.splice(_,1),this.state.modeGen++,void Gi(this)}}),indentLine:wo(function(v,y,_){"string"!=typeof y&&"number"!=typeof y&&(y=null==y?this.options.smartIndent?"smart":"prev":y?"add":"subtract"),mo(this.doc,v)&&ec(this,v,y,_)}),indentSelection:wo(function(v){for(var y=this.doc.sel.ranges,_=-1,G=0;G<y.length;G++){var X=y[G];if(X.empty())X.head.line>_&&(ec(this,X.head.line,v,!0),_=X.head.line,G==this.doc.sel.primIndex&&La(this));else{var Q=X.from(),ue=X.to(),De=Math.max(_,Q.line);_=Math.min(this.lastLine(),ue.line-(ue.ch?0:1))+1;for(var ke=De;ke<_;++ke)ec(this,ke,v);var We=this.doc.sel.ranges;0==Q.ch&&y.length==We.length&&We[G].from().ch>0&&Bd(this.doc,G,new Pr(Q,We[G].to()),Rt)}}}),getTokenAt:function(v,y){return Dn(this,v,y)},getLineTokens:function(v,y){return Dn(this,Et(v),y,!0)},getTokenTypeAt:function(v){v=Je(this.doc,v);var Q,y=Nn(this,mn(this.doc,v.line)),_=0,G=(y.length-1)/2,X=v.ch;if(0==X)Q=y[2];else for(;;){var ue=_+G>>1;if((ue?y[2*ue-1]:0)>=X)G=ue;else{if(!(y[2*ue+1]<X)){Q=y[2*ue+2];break}_=ue+1}}var De=Q?Q.indexOf("overlay "):-1;return De<0?Q:0==De?null:Q.slice(0,De-1)},getModeAt:function(v){var y=this.doc.mode;return y.innerMode?a.innerMode(y,this.getTokenAt(v).state).mode:y},getHelper:function(v,y){return this.getHelpers(v,y)[0]},getHelpers:function(v,y){var _=[];if(!m.hasOwnProperty(y))return _;var G=m[y],X=this.getModeAt(v);if("string"==typeof X[y])G[X[y]]&&_.push(G[X[y]]);else if(X[y])for(var Q=0;Q<X[y].length;Q++){var ue=G[X[y][Q]];ue&&_.push(ue)}else X.helperType&&G[X.helperType]?_.push(G[X.helperType]):G[X.name]&&_.push(G[X.name]);for(var De=0;De<G._global.length;De++){var ke=G._global[De];ke.pred(X,this)&&-1==Qe(_,ke.val)&&_.push(ke.val)}return _},getStateAfter:function(v,y){var _=this.doc;return Pt(this,(v=Fe(_,v??_.first+_.size-1))+1,y).state},cursorCoords:function(v,y){var G=this.doc.sel.primary();return $a(this,null==v?G.head:"object"==typeof v?Je(this.doc,v):v?G.from():G.to(),y||"page")},charCoords:function(v,y){return Tc(this,Je(this.doc,v),y||"page")},coordsChar:function(v,y){return _f(this,(v=Md(this,v,y||"page")).left,v.top)},lineAtHeight:function(v,y){return v=Md(this,{top:v,left:0},y||"page").top,Pi(this.doc,v+this.display.viewOffset)},heightAtLine:function(v,y,_){var X,G=!1;if("number"==typeof v){var Q=this.doc.first+this.doc.size-1;v<this.doc.first?v=this.doc.first:v>Q&&(v=Q,G=!0),X=mn(this.doc,v)}else X=v;return kf(this,X,{top:0,left:0},y||"page",_||G).top+(G?this.doc.height-va(X):0)},defaultTextHeight:function(){return bo(this.display)},defaultCharWidth:function(){return Xs(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(v,y,_,G,X){var Q=this.display,ue=(v=$a(this,Je(this.doc,v))).bottom,De=v.left;if(y.style.position="absolute",y.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(y),Q.sizer.appendChild(y),"over"==G)ue=v.top;else if("above"==G||"near"==G){var ke=Math.max(Q.wrapper.clientHeight,this.doc.height),We=Math.max(Q.sizer.clientWidth,Q.lineSpace.clientWidth);("above"==G||v.bottom+y.offsetHeight>ke)&&v.top>y.offsetHeight?ue=v.top-y.offsetHeight:v.bottom+y.offsetHeight<=ke&&(ue=v.bottom),De+y.offsetWidth>We&&(De=We-y.offsetWidth)}y.style.top=ue+"px",y.style.left=y.style.right="","right"==X?(De=Q.sizer.clientWidth-y.offsetWidth,y.style.right="0px"):("left"==X?De=0:"middle"==X&&(De=(Q.sizer.clientWidth-y.offsetWidth)/2),y.style.left=De+"px"),_&&function Kl(a,c){var m=Mi(a,c);null!=m.scrollTop&&Jn(a,m.scrollTop),null!=m.scrollLeft&&Pa(a,m.scrollLeft)}(this,{left:De,top:ue,right:De+y.offsetWidth,bottom:ue+y.offsetHeight})},triggerOnKeyDown:wo(Qc),triggerOnKeyPress:wo(Jc),triggerOnKeyUp:Io,triggerOnMouseDown:wo(Kf),execCommand:function(v){if(Qu.hasOwnProperty(v))return Qu[v].call(null,this)},triggerElectric:wo(function(v){Qf(this,v)}),findPosH:function(v,y,_,G){var X=1;y<0&&(X=-1,y=-y);for(var Q=Je(this.doc,v),ue=0;ue<y&&!(Q=ed(this.doc,Q,X,_,G)).hitSide;++ue);return Q},moveH:wo(function(v,y){var _=this;this.extendSelectionsBy(function(G){return _.display.shift||_.doc.extend||G.empty()?ed(_.doc,G.head,v,y,_.options.rtlMoveVisually):v<0?G.from():G.to()},Hn)}),deleteH:wo(function(v,y){var G=this.doc;this.doc.sel.somethingSelected()?G.replaceSelection("",null,"+delete"):ys(this,function(X){var Q=ed(G,X.head,v,y,!1);return v<0?{from:Q,to:X.head}:{from:X.head,to:Q}})}),findPosV:function(v,y,_,G){var X=1,Q=G;y<0&&(X=-1,y=-y);for(var ue=Je(this.doc,v),De=0;De<y;++De){var ke=$a(this,ue,"div");if(null==Q?Q=ke.left:ke.left=Q,(ue=td(this,ke,X,_)).hitSide)break}return ue},moveV:wo(function(v,y){var _=this,G=this.doc,X=[],Q=!this.display.shift&&!G.extend&&G.sel.somethingSelected();if(G.extendSelectionsBy(function(De){if(Q)return v<0?De.from():De.to();var ke=$a(_,De.head,"div");null!=De.goalColumn&&(ke.left=De.goalColumn),X.push(ke.left);var We=td(_,ke,v,y);return"page"==y&&De==G.sel.primary()&&Ya(_,Tc(_,We,"div").top-ke.top),We},Hn),X.length)for(var ue=0;ue<G.sel.ranges.length;ue++)G.sel.ranges[ue].goalColumn=X[ue]}),findWordAt:function(v){var _=mn(this.doc,v.line).text,G=v.ch,X=v.ch;if(_){var Q=this.getHelper(v,"wordChars");"before"!=v.sticky&&X!=_.length||!G?++X:--G;for(var ue=_.charAt(G),De=Ci(ue,Q)?function(ke){return Ci(ke,Q)}:/\s/.test(ue)?function(ke){return/\s/.test(ke)}:function(ke){return!/\s/.test(ke)&&!Ci(ke)};G>0&&De(_.charAt(G-1));)--G;for(;X<_.length&&De(_.charAt(X));)++X}return new Pr(Et(v.line,G),Et(v.line,X))},toggleOverwrite:function(v){null!=v&&v==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Xe(this.display.cursorDiv,"CodeMirror-overwrite"):ge(this.display.cursorDiv,"CodeMirror-overwrite"),Qr(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==at(Yt(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:wo(function(v,y){ji(this,v,y)}),getScrollInfo:function(){var v=this.display.scroller;return{left:v.scrollLeft,top:v.scrollTop,height:v.scrollHeight-no(this)-this.display.barHeight,width:v.scrollWidth-no(this)-this.display.barWidth,clientHeight:Fu(this),clientWidth:dr(this)}},scrollIntoView:wo(function(v,y){null==v?(v={from:this.doc.sel.primary().head,to:null},null==y&&(y=this.options.cursorScrollMargin)):"number"==typeof v?v={from:Et(v,0),to:null}:null==v.from&&(v={from:v,to:null}),v.to||(v.to=v.from),v.margin=y||0,null!=v.from.line?function Ic(a,c){Ac(a),a.curOp.scrollToPos=c}(this,v):qs(this,v.from,v.to,v.margin)}),setSize:wo(function(v,y){var _=this,G=function(Q){return"number"==typeof Q||/^\d+$/.test(String(Q))?Q+"px":Q};null!=v&&(this.display.wrapper.style.width=G(v)),null!=y&&(this.display.wrapper.style.height=G(y)),this.options.lineWrapping&&Sc(this);var X=this.display.viewFrom;this.doc.iter(X,this.display.viewTo,function(Q){if(Q.widgets)for(var ue=0;ue<Q.widgets.length;ue++)if(Q.widgets[ue].noHScroll){zi(_,X,"widget");break}++X}),this.curOp.forceUpdate=!0,Qr(this,"refresh",this)}),operation:function(v){return $o(this,v)},startOperation:function(){return jr(this)},endOperation:function(){return El(this)},refresh:wo(function(){var v=this.display.cachedTextHeight;Gi(this),this.curOp.forceUpdate=!0,Cl(this),ji(this,this.doc.scrollLeft,this.doc.scrollTop),Uf(this.display),(null==v||Math.abs(v-bo(this.display))>.5||this.options.lineWrapping)&&Mr(this),Qr(this,"refresh",this)}),swapDoc:wo(function(v){var y=this.doc;return y.cm=null,this.state.selectingText&&this.state.selectingText(),zu(this,v),Cl(this),this.display.input.reset(),ji(this,v.scrollLeft,v.scrollTop),this.curOp.forceScroll=!0,to(this,"swapDoc",this,y),y}),phrase:function(v){var y=this.options.phrases;return y&&Object.prototype.hasOwnProperty.call(y,v)?y[v]:v},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},fa(a),a.registerHelper=function(v,y,_){m.hasOwnProperty(v)||(m[v]=a[v]={_global:[]}),m[v][y]=_},a.registerGlobalHelper=function(v,y,_,G){a.registerHelper(v,y,G),m[v]._global.push({pred:_,val:G})}}($r);var uo="iter insert remove copy getEditor constructor".split(" ");for(var ts in tr.prototype)tr.prototype.hasOwnProperty(ts)&&Qe(uo,ts)<0&&($r.prototype[ts]=function(a){return function(){return a.apply(this.doc,arguments)}}(tr.prototype[ts]));return fa(tr),$r.inputStyles={textarea:fi,contenteditable:_r},$r.defineMode=function(a){!$r.defaults.mode&&"null"!=a&&($r.defaults.mode=a),Mu.apply(this,arguments)},$r.defineMIME=function wc(a,c){us[a]=c},$r.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),$r.defineMIME("text/plain","null"),$r.defineExtension=function(a,c){$r.prototype[a]=c},$r.defineDocExtension=function(a,c){tr.prototype[a]=c},$r.fromTextArea=function su(a,c){if((c=c?cn(c):{}).value=a.value,!c.tabindex&&a.tabIndex&&(c.tabindex=a.tabIndex),!c.placeholder&&a.placeholder&&(c.placeholder=a.placeholder),null==c.autofocus){var m=at(a.ownerDocument);c.autofocus=m==a||null!=a.getAttribute("autofocus")&&m==document.body}function v(){a.value=X.getValue()}var y;if(a.form&&(pn(a.form,"submit",v),!c.leaveSubmitMethodAlone)){var _=a.form;y=_.submit;try{var G=_.submit=function(){v(),_.submit=y,_.submit(),_.submit=G}}catch{}}c.finishInit=function(Q){Q.save=v,Q.getTextArea=function(){return a},Q.toTextArea=function(){Q.toTextArea=isNaN,v(),a.parentNode.removeChild(Q.getWrapperElement()),a.style.display="",a.form&&(qi(a.form,"submit",v),!c.leaveSubmitMethodAlone&&"function"==typeof a.form.submit&&(a.form.submit=y))}},a.style.display="none";var X=$r(function(Q){return a.parentNode.insertBefore(Q,a.nextSibling)},c);return X},function qh(a){a.off=qi,a.on=pn,a.wheelEventPixels=Zp,a.Doc=tr,a.splitLines=Gl,a.countColumn=ln,a.findColumn=vr,a.isWordChar=wi,a.Pass=Lt,a.signal=Qr,a.Line=js,a.changeEnd=Eo,a.scrollbarModel=Oc,a.Pos=Et,a.cmpPos=kn,a.modes=Tu,a.mimeModes=us,a.resolveMode=zr,a.getMode=ha,a.modeExtensions=mr,a.extendMode=Vi,a.copyState=vi,a.startState=Mf,a.innerMode=pa,a.commands=Qu,a.keyMap=Mo,a.keyName=Yf,a.isModifierKey=zh,a.lookupKey=ks,a.normalizeKeyMap=Gh,a.StringStream=mi,a.SharedTextMarker=jc,a.TextMarker=So,a.LineWidget=Ml,a.e_preventDefault=Ei,a.e_stopPropagation=Ms,a.e_stop=Ia,a.addClass=Xe,a.contains=et,a.rmClass=ge,a.keyNames=Ai}($r),$r.version="5.65.13",$r}()},1610:function(j,ae,x){var T;j.exports=(T=x(4465),function(L){var O={};function I(C){if(O[C])return O[C].exports;var S=O[C]={i:C,l:!1,exports:{}};return L[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=L,I.c=O,I.i=function(C){return C},I.d=function(C,S,R){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:R})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=7)}([function(L,O){L.exports=T},function(L,O,I){"use strict";var C=I(0).FDLayoutConstants;function S(){}for(var R in C)S[R]=C[R];S.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,S.DEFAULT_RADIAL_SEPARATION=C.DEFAULT_EDGE_LENGTH,S.DEFAULT_COMPONENT_SEPERATION=60,S.TILE=!0,S.TILING_PADDING_VERTICAL=10,S.TILING_PADDING_HORIZONTAL=10,S.TREE_REDUCTION_ON_INCREMENTAL=!1,L.exports=S},function(L,O,I){"use strict";var C=I(0).FDLayoutEdge;function S(N,B,k){C.call(this,N,B,k)}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];L.exports=S},function(L,O,I){"use strict";var C=I(0).LGraph;function S(N,B,k){C.call(this,N,B,k)}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];L.exports=S},function(L,O,I){"use strict";var C=I(0).LGraphManager;function S(N){C.call(this,N)}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];L.exports=S},function(L,O,I){"use strict";var C=I(0).FDLayoutNode,S=I(0).IMath;function R(B,k,F,H){C.call(this,B,k,F,H)}for(var N in R.prototype=Object.create(C.prototype),C)R[N]=C[N];R.prototype.move=function(){var B=this.graphManager.getLayout();this.displacementX=B.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=B.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>B.coolingFactor*B.maxNodeDisplacement&&(this.displacementX=B.coolingFactor*B.maxNodeDisplacement*S.sign(this.displacementX)),Math.abs(this.displacementY)>B.coolingFactor*B.maxNodeDisplacement&&(this.displacementY=B.coolingFactor*B.maxNodeDisplacement*S.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),B.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},R.prototype.propogateDisplacementToChildren=function(B,k){for(var H,F=this.getChild().getNodes(),$=0;$<F.length;$++)null==(H=F[$]).getChild()?(H.moveBy(B,k),H.displacementX+=B,H.displacementY+=k):H.propogateDisplacementToChildren(B,k)},R.prototype.setPred1=function(B){this.pred1=B},R.prototype.getPred1=function(){return pred1},R.prototype.getPred2=function(){return pred2},R.prototype.setNext=function(B){this.next=B},R.prototype.getNext=function(){return next},R.prototype.setProcessed=function(B){this.processed=B},R.prototype.isProcessed=function(){return processed},L.exports=R},function(L,O,I){"use strict";var C=I(0).FDLayout,S=I(4),R=I(3),N=I(5),B=I(2),k=I(1),F=I(0).FDLayoutConstants,H=I(0).LayoutConstants,$=I(0).Point,J=I(0).PointD,ce=I(0).Layout,ne=I(0).Integer,le=I(0).IGeometry,se=I(0).LGraph,he=I(0).Transform;function ee(){C.call(this),this.toBeTiled={}}for(var pe in ee.prototype=Object.create(C.prototype),C)ee[pe]=C[pe];ee.prototype.newGraphManager=function(){var K=new S(this);return this.graphManager=K,K},ee.prototype.newGraph=function(K){return new R(null,this.graphManager,K)},ee.prototype.newNode=function(K){return new N(this.graphManager,K)},ee.prototype.newEdge=function(K){return new B(null,null,K)},ee.prototype.initParameters=function(){C.prototype.initParameters.call(this,arguments),this.isSubLayout||(this.idealEdgeLength=k.DEFAULT_EDGE_LENGTH<10?10:k.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=k.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=F.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=F.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=F.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=F.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=F.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=F.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/F.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=F.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},ee.prototype.layout=function(){return H.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},ee.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(k.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var oe=new Set(this.getAllNodes()),ie=this.nodesWithGravity.filter(function(Se){return oe.has(Se)});this.graphManager.setAllNodesToApplyGravitation(ie)}}else{var K=this.getFlatForest();K.length>0?this.positionNodesRadially(K):(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),oe=new Set(this.getAllNodes()),ie=this.nodesWithGravity.filter(function(ge){return oe.has(ge)}),this.graphManager.setAllNodesToApplyGravitation(ie),this.positionNodesRandomly())}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},ee.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%F.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var K=new Set(this.getAllNodes()),oe=this.nodesWithGravity.filter(function(we){return K.has(we)});this.graphManager.setAllNodesToApplyGravitation(oe),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=F.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=F.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var ie=!this.isTreeGrowing&&!this.isGrowthFinished,ge=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(ie,ge),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},ee.prototype.getPositionsData=function(){for(var K=this.graphManager.getAllNodes(),oe={},ie=0;ie<K.length;ie++){var ge=K[ie].rect,we=K[ie].id;oe[we]={id:we,x:ge.getCenterX(),y:ge.getCenterY(),w:ge.width,h:ge.height}}return oe},ee.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var K=!1;if("during"===F.ANIMATE)this.emit("layoutstarted");else{for(;!K;)K=this.tick();this.graphManager.updateBounds()}},ee.prototype.calculateNodesToApplyGravitationTo=function(){var oe,we,K=[],ie=this.graphManager.getGraphs(),ge=ie.length;for(we=0;we<ge;we++)(oe=ie[we]).updateConnected(),oe.isConnected||(K=K.concat(oe.getNodes()));return K},ee.prototype.createBendpoints=function(){var K=[];K=K.concat(this.graphManager.getAllEdges());var ie,oe=new Set;for(ie=0;ie<K.length;ie++){var ge=K[ie];if(!oe.has(ge)){var we=ge.getSource(),Se=ge.getTarget();if(we==Se)ge.getBendpoints().push(new J),ge.getBendpoints().push(new J),this.createDummyNodesForBendpoints(ge),oe.add(ge);else{var xe=[];if(xe=(xe=xe.concat(we.getEdgeListToNode(Se))).concat(Se.getEdgeListToNode(we)),!oe.has(xe[0])){var Ve;if(xe.length>1)for(Ve=0;Ve<xe.length;Ve++){var _e=xe[Ve];_e.getBendpoints().push(new J),this.createDummyNodesForBendpoints(_e)}xe.forEach(function(et){oe.add(et)})}}}if(oe.size==K.length)break}},ee.prototype.positionNodesRadially=function(K){for(var oe=new $(0,0),ie=Math.ceil(Math.sqrt(K.length)),ge=0,we=0,Se=0,xe=new J(0,0),Ve=0;Ve<K.length;Ve++){Ve%ie==0&&(Se=0,we=ge,0!=Ve&&(we+=k.DEFAULT_COMPONENT_SEPERATION),ge=0);var _e=K[Ve],et=ce.findCenterOfTree(_e);oe.x=Se,oe.y=we,(xe=ee.radialLayout(_e,et,oe)).y>ge&&(ge=Math.floor(xe.y)),Se=Math.floor(xe.x+k.DEFAULT_COMPONENT_SEPERATION)}this.transform(new J(H.WORLD_CENTER_X-xe.x/2,H.WORLD_CENTER_Y-xe.y/2))},ee.radialLayout=function(K,oe,ie){var ge=Math.max(this.maxDiagonalInTree(K),k.DEFAULT_RADIAL_SEPARATION);ee.branchRadialLayout(oe,null,0,359,0,ge);var we=se.calculateBounds(K),Se=new he;Se.setDeviceOrgX(we.getMinX()),Se.setDeviceOrgY(we.getMinY()),Se.setWorldOrgX(ie.x),Se.setWorldOrgY(ie.y);for(var xe=0;xe<K.length;xe++)K[xe].transform(Se);var _e=new J(we.getMaxX(),we.getMaxY());return Se.inverseTransformPoint(_e)},ee.branchRadialLayout=function(K,oe,ie,ge,we,Se){var xe=(ge-ie+1)/2;xe<0&&(xe+=180);var _e=(xe+ie)%360*le.TWO_PI/360,at=(Math.cos(_e),we*Math.cos(_e)),Xe=we*Math.sin(_e);K.setCenter(at,Xe);var yt=[],$e=(yt=yt.concat(K.getEdges())).length;null!=oe&&$e--;for(var Ut,Yt=0,_t=yt.length,cn=K.getEdgesBetween(oe);cn.length>1;){var ln=cn[0];cn.splice(0,1);var nt=yt.indexOf(ln);nt>=0&&yt.splice(nt,1),_t--,$e--}Ut=null!=oe?(yt.indexOf(cn[0])+1)%_t:0;for(var Qe=Math.abs(ge-ie)/$e,lt=Ut;Yt!=$e;lt=++lt%_t){var Lt=yt[lt].getOtherEnd(K);if(Lt!=oe){var Rt=(ie+Yt*Qe)%360;ee.branchRadialLayout(Lt,K,Rt,(Rt+Qe)%360,we+Se,Se),Yt++}}},ee.maxDiagonalInTree=function(K){for(var oe=ne.MIN_VALUE,ie=0;ie<K.length;ie++){var we=K[ie].getDiagonal();we>oe&&(oe=we)}return oe},ee.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},ee.prototype.groupZeroDegreeMembers=function(){var K=this,oe={};this.memberGroups={},this.idToDummyNode={};for(var ie=[],ge=this.graphManager.getAllNodes(),we=0;we<ge.length;we++){var xe=(Se=ge[we]).getParent();0===this.getNodeDegreeWithChildren(Se)&&(null==xe.id||!this.getToBeTiled(xe))&&ie.push(Se)}for(we=0;we<ie.length;we++){var Se,Ve=(Se=ie[we]).getParent().id;typeof oe[Ve]>"u"&&(oe[Ve]=[]),oe[Ve]=oe[Ve].concat(Se)}Object.keys(oe).forEach(function(_e){if(oe[_e].length>1){var et="DummyCompound_"+_e;K.memberGroups[et]=oe[_e];var at=oe[_e][0].getParent(),Xe=new N(K.graphManager);Xe.id=et,Xe.paddingLeft=at.paddingLeft||0,Xe.paddingRight=at.paddingRight||0,Xe.paddingBottom=at.paddingBottom||0,Xe.paddingTop=at.paddingTop||0,K.idToDummyNode[et]=Xe;var yt=K.getGraphManager().add(K.newGraph(),Xe),$e=at.getChild();$e.add(Xe);for(var Yt=0;Yt<oe[_e].length;Yt++){var _t=oe[_e][Yt];$e.remove(_t),yt.add(_t)}}})},ee.prototype.clearCompounds=function(){var K={},oe={};this.performDFSOnCompounds();for(var ie=0;ie<this.compoundOrder.length;ie++)oe[this.compoundOrder[ie].id]=this.compoundOrder[ie],K[this.compoundOrder[ie].id]=[].concat(this.compoundOrder[ie].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[ie].getChild()),this.compoundOrder[ie].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(K,oe)},ee.prototype.clearZeroDegreeMembers=function(){var K=this,oe=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(ie){var ge=K.idToDummyNode[ie];oe[ie]=K.tileNodes(K.memberGroups[ie],ge.paddingLeft+ge.paddingRight),ge.rect.width=oe[ie].width,ge.rect.height=oe[ie].height})},ee.prototype.repopulateCompounds=function(){for(var K=this.compoundOrder.length-1;K>=0;K--){var oe=this.compoundOrder[K];this.adjustLocations(this.tiledMemberPack[oe.id],oe.rect.x,oe.rect.y,oe.paddingLeft,oe.paddingTop)}},ee.prototype.repopulateZeroDegreeMembers=function(){var K=this,oe=this.tiledZeroDegreePack;Object.keys(oe).forEach(function(ie){var ge=K.idToDummyNode[ie];K.adjustLocations(oe[ie],ge.rect.x,ge.rect.y,ge.paddingLeft,ge.paddingTop)})},ee.prototype.getToBeTiled=function(K){var oe=K.id;if(null!=this.toBeTiled[oe])return this.toBeTiled[oe];var ie=K.getChild();if(null==ie)return this.toBeTiled[oe]=!1,!1;for(var ge=ie.getNodes(),we=0;we<ge.length;we++){var Se=ge[we];if(this.getNodeDegree(Se)>0)return this.toBeTiled[oe]=!1,!1;if(null!=Se.getChild()){if(!this.getToBeTiled(Se))return this.toBeTiled[oe]=!1,!1}else this.toBeTiled[Se.id]=!1}return this.toBeTiled[oe]=!0,!0},ee.prototype.getNodeDegree=function(K){for(var ie=K.getEdges(),ge=0,we=0;we<ie.length;we++){var Se=ie[we];Se.getSource().id!==Se.getTarget().id&&(ge+=1)}return ge},ee.prototype.getNodeDegreeWithChildren=function(K){var oe=this.getNodeDegree(K);if(null==K.getChild())return oe;for(var ie=K.getChild().getNodes(),ge=0;ge<ie.length;ge++)oe+=this.getNodeDegreeWithChildren(ie[ge]);return oe},ee.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},ee.prototype.fillCompexOrderByDFS=function(K){for(var oe=0;oe<K.length;oe++){var ie=K[oe];null!=ie.getChild()&&this.fillCompexOrderByDFS(ie.getChild().getNodes()),this.getToBeTiled(ie)&&this.compoundOrder.push(ie)}},ee.prototype.adjustLocations=function(K,oe,ie,ge,we){ie+=we;for(var Se=oe+=ge,xe=0;xe<K.rows.length;xe++){var Ve=K.rows[xe];oe=Se;for(var _e=0,et=0;et<Ve.length;et++){var at=Ve[et];at.rect.x=oe,at.rect.y=ie,oe+=at.rect.width+K.horizontalPadding,at.rect.height>_e&&(_e=at.rect.height)}ie+=_e+K.verticalPadding}},ee.prototype.tileCompoundMembers=function(K,oe){var ie=this;this.tiledMemberPack=[],Object.keys(K).forEach(function(ge){var we=oe[ge];ie.tiledMemberPack[ge]=ie.tileNodes(K[ge],we.paddingLeft+we.paddingRight),we.rect.width=ie.tiledMemberPack[ge].width,we.rect.height=ie.tiledMemberPack[ge].height})},ee.prototype.tileNodes=function(K,oe){var we={rows:[],rowWidth:[],rowHeight:[],width:0,height:oe,verticalPadding:k.TILING_PADDING_VERTICAL,horizontalPadding:k.TILING_PADDING_HORIZONTAL};K.sort(function(Ve,_e){return Ve.rect.width*Ve.rect.height>_e.rect.width*_e.rect.height?-1:Ve.rect.width*Ve.rect.height<_e.rect.width*_e.rect.height?1:0});for(var Se=0;Se<K.length;Se++){var xe=K[Se];0==we.rows.length?this.insertNodeToRow(we,xe,0,oe):this.canAddHorizontal(we,xe.rect.width,xe.rect.height)?this.insertNodeToRow(we,xe,this.getShortestRowIndex(we),oe):this.insertNodeToRow(we,xe,we.rows.length,oe),this.shiftToLastRow(we)}return we},ee.prototype.insertNodeToRow=function(K,oe,ie,ge){var we=ge;ie==K.rows.length&&(K.rows.push([]),K.rowWidth.push(we),K.rowHeight.push(0));var xe=K.rowWidth[ie]+oe.rect.width;K.rows[ie].length>0&&(xe+=K.horizontalPadding),K.rowWidth[ie]=xe,K.width<xe&&(K.width=xe);var Ve=oe.rect.height;ie>0&&(Ve+=K.verticalPadding);var _e=0;Ve>K.rowHeight[ie]&&(_e=K.rowHeight[ie],K.rowHeight[ie]=Ve,_e=K.rowHeight[ie]-_e),K.height+=_e,K.rows[ie].push(oe)},ee.prototype.getShortestRowIndex=function(K){for(var oe=-1,ie=Number.MAX_VALUE,ge=0;ge<K.rows.length;ge++)K.rowWidth[ge]<ie&&(oe=ge,ie=K.rowWidth[ge]);return oe},ee.prototype.getLongestRowIndex=function(K){for(var oe=-1,ie=Number.MIN_VALUE,ge=0;ge<K.rows.length;ge++)K.rowWidth[ge]>ie&&(oe=ge,ie=K.rowWidth[ge]);return oe},ee.prototype.canAddHorizontal=function(K,oe,ie){var ge=this.getShortestRowIndex(K);if(ge<0)return!0;var we=K.rowWidth[ge];if(we+K.horizontalPadding+oe<=K.width)return!0;var xe,Ve,Se=0;return K.rowHeight[ge]<ie&&ge>0&&(Se=ie+K.verticalPadding-K.rowHeight[ge]),xe=K.width-we>=oe+K.horizontalPadding?(K.height+Se)/(we+oe+K.horizontalPadding):(K.height+Se)/K.width,Se=ie+K.verticalPadding,(Ve=K.width<oe?(K.height+Se)/oe:(K.height+Se)/K.width)<1&&(Ve=1/Ve),xe<1&&(xe=1/xe),xe<Ve},ee.prototype.shiftToLastRow=function(K){var oe=this.getLongestRowIndex(K),ie=K.rowWidth.length-1,ge=K.rows[oe],we=ge[ge.length-1],Se=we.width+K.horizontalPadding;if(K.width-K.rowWidth[ie]>Se&&oe!=ie){ge.splice(-1,1),K.rows[ie].push(we),K.rowWidth[oe]=K.rowWidth[oe]-Se,K.rowWidth[ie]=K.rowWidth[ie]+Se,K.width=K.rowWidth[instance.getLongestRowIndex(K)];for(var xe=Number.MIN_VALUE,Ve=0;Ve<ge.length;Ve++)ge[Ve].height>xe&&(xe=ge[Ve].height);oe>0&&(xe+=K.verticalPadding);var _e=K.rowHeight[oe]+K.rowHeight[ie];K.rowHeight[oe]=xe,K.rowHeight[ie]<we.height+K.verticalPadding&&(K.rowHeight[ie]=we.height+K.verticalPadding),K.height+=K.rowHeight[oe]+K.rowHeight[ie]-_e,this.shiftToLastRow(K)}},ee.prototype.tilingPreLayout=function(){k.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},ee.prototype.tilingPostLayout=function(){k.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},ee.prototype.reduceTrees=function(){for(var ie,K=[],oe=!0;oe;){var ge=this.graphManager.getAllNodes(),we=[];oe=!1;for(var Se=0;Se<ge.length;Se++)1==(ie=ge[Se]).getEdges().length&&!ie.getEdges()[0].isInterGraph&&null==ie.getChild()&&(we.push([ie,ie.getEdges()[0],ie.getOwner()]),oe=!0);if(1==oe){for(var xe=[],Ve=0;Ve<we.length;Ve++)1==we[Ve][0].getEdges().length&&(xe.push(we[Ve]),we[Ve][0].getOwner().remove(we[Ve][0]));K.push(xe),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=K},ee.prototype.growTree=function(K){for(var ge,ie=K[K.length-1],we=0;we<ie.length;we++)this.findPlaceforPrunedNode(ge=ie[we]),ge[2].add(ge[0]),ge[2].add(ge[1],ge[1].source,ge[1].target);K.splice(K.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},ee.prototype.findPlaceforPrunedNode=function(K){var oe,ie,ge=K[0],we=(ie=ge==K[1].source?K[1].target:K[1].source).startX,Se=ie.finishX,xe=ie.startY,Ve=ie.finishY,yt=[0,0,0,0];if(xe>0)for(var $e=we;$e<=Se;$e++)yt[0]+=this.grid[$e][xe-1].length+this.grid[$e][xe].length-1;if(Se<this.grid.length-1)for($e=xe;$e<=Ve;$e++)yt[1]+=this.grid[Se+1][$e].length+this.grid[Se][$e].length-1;if(Ve<this.grid[0].length-1)for($e=we;$e<=Se;$e++)yt[2]+=this.grid[$e][Ve+1].length+this.grid[$e][Ve].length-1;if(we>0)for($e=xe;$e<=Ve;$e++)yt[3]+=this.grid[we-1][$e].length+this.grid[we][$e].length-1;for(var _t,Ut,Yt=ne.MAX_VALUE,cn=0;cn<yt.length;cn++)yt[cn]<Yt?(Yt=yt[cn],_t=1,Ut=cn):yt[cn]==Yt&&_t++;if(3==_t&&0==Yt)0==yt[0]&&0==yt[1]&&0==yt[2]?oe=1:0==yt[0]&&0==yt[1]&&0==yt[3]?oe=0:0==yt[0]&&0==yt[2]&&0==yt[3]?oe=3:0==yt[1]&&0==yt[2]&&0==yt[3]&&(oe=2);else if(2==_t&&0==Yt){var ln=Math.floor(2*Math.random());oe=0==yt[0]&&0==yt[1]?0==ln?0:1:0==yt[0]&&0==yt[2]?0==ln?0:2:0==yt[0]&&0==yt[3]?0==ln?0:3:0==yt[1]&&0==yt[2]?0==ln?1:2:0==yt[1]&&0==yt[3]?0==ln?1:3:0==ln?2:3}else oe=4==_t&&0==Yt?ln=Math.floor(4*Math.random()):Ut;0==oe?ge.setCenter(ie.getCenterX(),ie.getCenterY()-ie.getHeight()/2-F.DEFAULT_EDGE_LENGTH-ge.getHeight()/2):1==oe?ge.setCenter(ie.getCenterX()+ie.getWidth()/2+F.DEFAULT_EDGE_LENGTH+ge.getWidth()/2,ie.getCenterY()):2==oe?ge.setCenter(ie.getCenterX(),ie.getCenterY()+ie.getHeight()/2+F.DEFAULT_EDGE_LENGTH+ge.getHeight()/2):ge.setCenter(ie.getCenterX()-ie.getWidth()/2-F.DEFAULT_EDGE_LENGTH-ge.getWidth()/2,ie.getCenterY())},L.exports=ee},function(L,O,I){"use strict";var C={};C.layoutBase=I(0),C.CoSEConstants=I(1),C.CoSEEdge=I(2),C.CoSEGraph=I(3),C.CoSEGraphManager=I(4),C.CoSELayout=I(6),C.CoSENode=I(5),L.exports=C}]))},6827:function(j,ae,x){var T,L;j.exports=(T=x(5886),L=x(1610),function(O){var I={};function C(S){if(I[S])return I[S].exports;var R=I[S]={i:S,l:!1,exports:{}};return O[S].call(R.exports,R,R.exports,C),R.l=!0,R.exports}return C.m=O,C.c=I,C.i=function(S){return S},C.d=function(S,R,N){C.o(S,R)||Object.defineProperty(S,R,{configurable:!1,enumerable:!0,get:N})},C.n=function(S){var R=S&&S.__esModule?function(){return S.default}:function(){return S};return C.d(R,"a",R),R},C.o=function(S,R){return Object.prototype.hasOwnProperty.call(S,R)},C.p="",C(C.s=15)}([function(O,I){O.exports=T},function(O,I,C){"use strict";var S=C(0).layoutBase.FDLayoutConstants;function R(){}for(var N in S)R[N]=S[N];R.DEFAULT_SPRING_STRENGTH=1.5*S.DEFAULT_SPRING_STRENGTH,R.DEFAULT_NODE_SEPARATION=S.DEFAULT_EDGE_LENGTH/4,R.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF=1.4,R.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE=!1,R.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=.1,R.DEFAULT_INNER_EDGE_LENGTH=S.DEFAULT_EDGE_LENGTH/3,R.MAX_ROTATION_ANGLE=Math.PI/36,R.MIN_ROTATION_ANGLE=-R.MAX_ROTATION_ANGLE,R.SWAP_HISTORY_CLEARANCE_PERIOD=6*(R.SWAP_PERIOD=(R.SWAP_IDLE_DURATION=45)+(R.SWAP_PREPERATION_DURATION=5)),R.MIN_DISPLACEMENT_FOR_SWAP=6,R.REVERSE_PERIOD=25,O.exports=R},function(O,I,C){"use strict";O.exports=null!=Object.assign?Object.assign.bind(Object):function(S){for(var R=arguments.length,N=Array(R>1?R-1:0),B=1;B<R;B++)N[B-1]=arguments[B];return N.forEach(function(k){Object.keys(k).forEach(function(F){return S[F]=k[F]})}),S}},function(O,I){O.exports=L},function(O,I,C){"use strict";O.exports=C(16)},function(O,I,C){"use strict";var S=C(0).layoutBase.LGraph,R=C(0).layoutBase.IGeometry,N=C(0).layoutBase.NeedlemanWunsch,B=C(14),k=C(1),F=C(8),H=C(9);function $(ce,ne,le){S.call(this,ce,ne,le),this.intraClusterEdges=null,this.interClusterEdges=null,this.inNodes=[],this.outNodes=[],this.onCircleNodes=[],this.inCircleNodes=[],this.radius=0,this.orderMatrix=null,this.mayBeReversed=!0}for(var J in $.prototype=Object.create(S.prototype),S)$[J]=S[J];$.prototype.setRadius=function(ce){this.radius=ce},$.prototype.getRadius=function(){return this.radius},$.prototype.getInNodes=function(){return this.inNodes},$.prototype.getOutNodes=function(){return this.outNodes},$.prototype.getOnCircleNodes=function(){return this.onCircleNodes},$.prototype.getInCircleNodes=function(){return this.inCircleNodes},$.prototype.setMayNotBeReversed=function(){this.mayBeReversed=!1},$.prototype.getMayBeReversed=function(){return this.mayBeReversed},$.prototype.getChildAt=function(ce){return this.onCircleNodes[ce]},$.prototype.getInterClusterEdges=function(){var ce=this;return null===this.interClusterEdges&&(this.interClusterEdges=[],this.outNodes.forEach(function(ne){for(var le=ne.getOnCircleNodeExt().getInterClusterEdges(),se=0;se<le.length;se++)ce.interClusterEdges.push(le[se])})),this.interClusterEdges},$.prototype.getIntraClusterEdges=function(){var ce=this;return null===this.intraClusterEdges&&(this.intraClusterEdges=[],this.getEdges().forEach(function(le){le.isIntraEdge()&&ce.intraClusterEdges.push(le)})),this.intraClusterEdges},$.prototype.calculateParentNodeDimension=function(){for(var ne=Number.MIN_SAFE_INTEGER,le=0;le<this.onCircleNodes.length;le++){var se=this.onCircleNodes[le];se.getWidth()>ne&&(ne=se.getWidth()),se.getHeight()>ne&&(ne=se.getHeight())}var he=2*(this.radius+this.margin)+ne,ee=this.getParent();ee.setHeight(he),ee.setWidth(he)},$.prototype.computeOrderMatrix=function(){var ce=this.onCircleNodes.length;this.orderMatrix=new Array(ce);for(var ne=0;ne<this.orderMatrix.length;ne++)this.orderMatrix[ne]=new Array(ce);for(var le=0;le<ce;le++)for(var se=0;se<ce;se++)if(se>le){var he=this.onCircleNodes[se].getOnCircleNodeExt().getAngle()-this.onCircleNodes[le].getOnCircleNodeExt().getAngle();he<0&&(he+=R.TWO_PI),he<=Math.PI?(this.orderMatrix[le][se]=!0,this.orderMatrix[se][le]=!1):(this.orderMatrix[le][se]=!1,this.orderMatrix[se][le]=!0)}},$.prototype.rotate=function(){var ce=this.getParent(),ne=this.getOnCircleNodes().length,le=ce.rotationAmount/ne,se=this.getGraphManager().getLayout();if(0!==le){var he=le/this.radius;he>k.MAX_ROTATION_ANGLE?he=k.MAX_ROTATION_ANGLE:he<k.MIN_ROTATION_ANGLE&&(he=k.MIN_ROTATION_ANGLE);for(var ee=0;ee<ne;ee++){var K=this.getChildAt(ee).getOnCircleNodeExt();K.setAngle(K.getAngle()+he),K.updatePosition()}se.totalDisplacement+=ce.rotationAmount,ce.rotationAmount=0}},$.prototype.getOrder=function(ce,ne){return this.orderMatrix[ce.getOnCircleNodeExt().getIndex()][ne.getOnCircleNodeExt().getIndex()]},$.prototype.getThisEnd=function(ce){var ne=ce.getSource(),le=ce.getTarget();return ne.getOwner()===this?ne:le},$.prototype.getOtherEnd=function(ce){var ne=ce.getSource(),le=ce.getTarget();return ne.getOwner()===this?le:ne},$.prototype.decomposeForce=function(ce){var ne=void 0;if(0!==ce.displacementX||0!==ce.displacementY){var Se,le=this.getParent(),se=le.getCenterX(),he=le.getCenterY(),ee=ce.getCenterX(),pe=ce.getCenterY(),K=ce.displacementX,oe=ce.displacementY,ie=R.angleOfVector(se,he,ee,pe),ge=R.angleOfVector(0,0,K,oe),we=ie+Math.PI;Se=Math.PI<=we&&we<R.TWO_PI?ie<=ge&&ge<we:!((we-=R.TWO_PI)<=ge&&ge<ie);var xe=Math.abs(ie-ge),Ve=Math.sqrt(K*K+oe*oe),_e=Math.abs(Math.sin(xe)*Ve);Se||(_e=-_e),ne=new B(_e,K,oe)}else ne=new B(0,0,0);return ne},$.prototype.swapNodes=function(ce,ne){var le=ce,se=ne,he=ce.getOnCircleNodeExt(),ee=ne.getOnCircleNodeExt();if(le.getOnCircleNodeExt().getIndex()>ne.getOnCircleNodeExt().getIndex()&&(le=ne,se=ce),le.getOnCircleNodeExt().getPrevNode()===se){var pe=se;se=le,le=pe}var K=le.getOnCircleNodeExt(),oe=se.getOnCircleNodeExt(),ie=K.getPrevNode(),we=this.getGraphManager().getLayout().getNodeSeparation(),Se=(ie.getOnCircleNodeExt().getAngle()+(ie.getHalfTheDiagonal()+se.getHalfTheDiagonal()+we)/this.radius)%(2*Math.PI);oe.setAngle(Se),Se=(oe.getAngle()+(se.getHalfTheDiagonal()+le.getHalfTheDiagonal()+we)/this.radius)%(2*Math.PI),K.setAngle(Se),K.updatePosition(),oe.updatePosition();var xe=he.getIndex();he.setIndex(ee.getIndex()),ee.setIndex(xe),this.getOnCircleNodes()[he.getIndex()]=ce,this.getOnCircleNodes()[ee.getIndex()]=ne,he.updateSwappingConditions(),ee.updateSwappingConditions(),he.getNextNode()===ne?(he.getPrevNode().getOnCircleNodeExt().updateSwappingConditions(),ee.getNextNode().getOnCircleNodeExt().updateSwappingConditions()):(he.getNextNode().getOnCircleNodeExt().updateSwappingConditions(),ee.getPrevNode().getOnCircleNodeExt().updateSwappingConditions())},$.prototype.checkAndReverseIfReverseIsBetter=function(){for(var ce=this.getInterClusterEdges(),ne=new Array(ce.length),le=void 0,se=this.getParent().getCenter(),he=void 0,ee=void 0,K=void 0,oe=this.onCircleNodes.length,ie=new Array(oe),ge=0;ge<oe;ge++)ie[ge]=0;for(var we=0,Se=0;Se<ce.length;Se++)K=this.getOtherEnd(he=ce[Se]).getCenter(),le=R.angleOfVector(se.x,se.y,K.x,K.y),ne[Se]=new F(he,le),ie[(ee=this.getThisEnd(he)).getOnCircleNodeExt().getIndex()]++,ie[ee.getOnCircleNodeExt().getIndex()]>1&&we++;for(var xe=this.onCircleNodes,Ve=oe+we,_e=new Array(2*Ve),et=new Array(2*Ve),at=void 0,Xe=-1,yt=0;yt<oe;yt++){at=xe[yt],0===ie[yt]&&(ie[yt]=1);for(var $e=0;$e<ie[yt];$e++)_e[++Xe]=_e[Ve+Xe]=et[Ve-1-Xe]=et[2*Ve-1-Xe]=at.getOnCircleNodeExt().getCharCode()}new H(this,ne);for(var _t=new Array(ne.length),Ut=0;Ut<ne.length;Ut++)he=ne[Ut].getEdge(),ee=this.getThisEnd(he),_t[Ut]=ee.getOnCircleNodeExt().getCharCode();var cn=this.computeAlignmentScore(_e,_t);if(-1!==cn){var ln=this.computeAlignmentScore(et,_t);if(-1!==ln&&ln>cn)return this.reverseNodes(),this.setMayNotBeReversed(),!0}return!1},$.prototype.computeAlignmentScore=function(ce,ne){return new N(ce,ne,20,-1,-2).getScore()},$.prototype.reverseNodes=function(){for(var ce=this.getOnCircleNodes(),ne=this.getOnCircleNodes().length,le=0;le<ne;le++){var he=ce[le].getOnCircleNodeExt();he.setIndex((ne-he.getIndex())%ne)}this.reCalculateNodeAnglesAndPositions()},$.prototype.moveOnCircleNodeInside=function(ce){var ne=this.onCircleNodes.indexOf(ce);ne>-1&&this.onCircleNodes.splice(ne,1),this.inCircleNodes.push(ce);for(var le=0;le<this.onCircleNodes.length;le++)this.onCircleNodes[le].getOnCircleNodeExt().setIndex(le);ce.setAsNonOnCircleNode(),this.reCalculateCircleSizeAndRadius(),this.reCalculateNodeAnglesAndPositions(),ce.setCenter(this.getParent().getCenterX(),this.getParent().getCenterY())},$.prototype.reCalculateCircleSizeAndRadius=function(){for(var ce=0,ne=this.getOnCircleNodes(),le=0;le<ne.length;le++){var se=ne[le],he=se.getWidth()*se.getWidth()+se.getHeight()*se.getHeight();ce+=Math.sqrt(he)}var pe=this.getGraphManager().getLayout().getNodeSeparation(),K=ce+this.getOnCircleNodes().length*pe;this.radius=K/(2*Math.PI),this.calculateParentNodeDimension()},$.prototype.reCalculateNodeAnglesAndPositions=function(){var ne=this.getGraphManager().getLayout().getNodeSeparation(),le=this.onCircleNodes;le.sort(function(ie,ge){return ie.getOnCircleNodeExt().getIndex()-ge.getOnCircleNodeExt().getIndex()});for(var se=this.getParent().getCenterX(),he=this.getParent().getCenterY(),ee=0;ee<le.length;ee++){var pe=le[ee],K=void 0;if(0===ee)K=0;else{var oe=le[ee-1];K=oe.getOnCircleNodeExt().getAngle()+(pe.getHalfTheDiagonal()+ne+oe.getHalfTheDiagonal())/this.radius}pe.getOnCircleNodeExt().setAngle(K),pe.setCenter(se+this.radius*Math.cos(K),he+this.radius*Math.sin(K))}},O.exports=$},function(O,I,C){"use strict";var S=C(0).layoutBase.FDLayoutEdge;function R(B,k,F){S.call(this,B,k,F),this.isIntraCluster=!0}for(var N in R.prototype=Object.create(S.prototype),S)R[N]=S[N];R.prototype.isIntraEdge=function(){return this.isIntraCluster},R.prototype.crossesWithEdge=function(B){var k=!1,F=this.getSource().getOnCircleNodeExt(),H=this.getTarget().getOnCircleNodeExt(),$=B.getSource().getOnCircleNodeExt(),J=B.getTarget().getOnCircleNodeExt(),ce=-1,ne=-1,le=-1,se=-1;if(null!==F&&(ce=F.getIndex()),null!==H&&(ne=H.getIndex()),null!==$&&(le=$.getIndex()),null!==J&&(se=J.getIndex()),this.isInterGraph||B.isInterGraph)k=!0;else if(this.source.getOwner()!==this.target.getOwner())k=!1;else{(-1===ce||-1===ne||-1===le||-1===se)&&(k=!1);var he=$.getCircDistWithTheNode(F),ee=J.getCircDistWithTheNode(F),pe=H.getCircDistWithTheNode(F);pe<Math.max(he,ee)&&pe>Math.min(he,ee)&&0!==ee&&0!==he&&(k=!0)}return k},R.prototype.calculateTotalCrossingWithList=function(B){for(var k=0,F=0;F<B.length;F++)k+=this.crossingWithEdge(B[F]);return k},R.prototype.crossingWithEdge=function(B){var F=0;return this.crossesWithEdge(B)&&(F=1),F},O.exports=R},function(O,I,C){"use strict";var S=C(0).layoutBase.LGraphManager;function R(B){S.call(this,B),this.onCircleNodes=[],this.inCircleNodes=[],this.nonOnCircleNodes=[]}for(var N in R.prototype=Object.create(S.prototype),S)R[N]=S[N];R.prototype.getOnCircleNodes=function(){return this.onCircleNodes},R.prototype.getInCircleNodes=function(){return this.inCircleNodes},R.prototype.getNonOnCircleNodes=function(){return this.nonOnCircleNodes},R.prototype.setOnCircleNodes=function(B){this.onCircleNodes=B},R.prototype.setInCircleNodes=function(B){this.inCircleNodes=B},R.prototype.setNonOnCircleNodes=function(B){this.nonOnCircleNodes=B},O.exports=R},function(O,I,C){"use strict";function S(R,N){this.edge=R,this.angle=N}(S.prototype=Object.create(null)).getEdge=function(){return this.edge},S.prototype.getAngle=function(){return this.angle},O.exports=S},function(O,I,C){"use strict";var S=function(){function B(k,F){for(var H=0;H<F.length;H++){var $=F[H];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(k,$.key,$)}}return function(k,F,H){return F&&B(k.prototype,F),H&&B(k,H),k}}();var N=function(){function B(k,F){(function R(B,k){if(!(B instanceof k))throw new TypeError("Cannot call a class as a function")})(this,B),this.ownerCircle=k,this._quicksort(F,0,F.length-1)}return S(B,[{key:"compareFunction",value:function(F,H){return H.getAngle()>F.getAngle()||H.getAngle()===F.getAngle()&&F!==H&&this.ownerCircle.getOrder(this.ownerCircle.getThisEnd(F.getEdge()),this.ownerCircle.getThisEnd(H.getEdge()))}},{key:"_quicksort",value:function(F,H,$){if(H<$){var J=this._partition(F,H,$);this._quicksort(F,H,J),this._quicksort(F,J+1,$)}}},{key:"_partition",value:function(F,H,$){for(var J=this._get(F,H),ce=H,ne=$;;){for(;this.compareFunction(J,this._get(F,ne));)ne--;for(;this.compareFunction(this._get(F,ce),J);)ce++;if(!(ce<ne))return ne;this._swap(F,ce,ne),ce++,ne--}}},{key:"_get",value:function(F,H){return F[H]}},{key:"_set",value:function(F,H,$){F[H]=$}},{key:"_swap",value:function(F,H,$){var J=this._get(F,H);this._set(F,H,this._get(F,$)),this._set(F,$,J)}}]),B}();O.exports=N},function(O,I,C){"use strict";var S=C(0).layoutBase.FDLayout,R=C(0).layoutBase.HashMap,N=C(0).layoutBase.PointD,B=C(0).layoutBase.DimensionD,k=C(0).AVSDFConstants,F=C(0).AVSDFLayout,H=C(3).CoSELayout,J=(C(3),C(1)),ce=C(7),ne=C(5),le=C(11),se=C(6),he=C(13);function ee(){S.call(this),this.incremental=J.INCREMENTAL,this.nodeSeparation=J.DEFAULT_NODE_SEPARATION,this.idealInterClusterEdgeLengthCoefficient=J.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF,this.allowNodesInsideCircle=J.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE,this.maxRatioOfNodesInsideCircle=J.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE,this.step=ee.STEP_NOT_STARTED,this.phase=ee.PHASE_NOT_STARTED,this.swappedPairsInLastIteration=[],this.iterations=0,this.oldTotalDisplacement=0,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/J.CONVERGENCE_CHECK_PERIOD}for(var pe in ee.prototype=Object.create(S.prototype),S)ee[pe]=S[pe];ee.STEP_NOT_STARTED=0,ee.STEP_1=1,ee.STEP_2=2,ee.STEP_3=3,ee.STEP_4=4,ee.STEP_5=5,ee.PHASE_NOT_STARTED=0,ee.PHASE_SWAP_PREPERATION=1,ee.PHASE_PERFORM_SWAP=2,ee.PHASE_OTHER=3,ee.prototype.newGraphManager=function(){return this.graphManager=new ce(this),this.graphManager},ee.prototype.newCircleLGraph=function(K){return new ne(null,this.graphManager,K)},ee.prototype.newNode=function(K,oe){return new le(this.graphManager,K,oe,null)},ee.prototype.newCiSEOnCircleNode=function(K,oe){var ie=this.newNode(K,oe);return ie.setAsOnCircleNode(),ie},ee.prototype.newEdge=function(K,oe,ie){return new se(K,oe,ie)},ee.prototype.getNodeSeparation=function(){return this.nodeSeparation},ee.prototype.convertToClusteredGraph=function(K,oe,ie){for(var ge=this,we=this,Se={},xe=this.graphManager.getRoot(),Ve=new R,_e=0;_e<K.length;_e++)Ve.put(K[_e].data("id"),K[_e]);if("function"==typeof ie){for(var et=[],at=[],Xe=0;Xe<K.length;Xe++){var yt=ie(K[Xe]);if(yt>0&&null!=yt){var $e=et.indexOf(yt);$e>-1?at[$e].push(K[Xe].data("id")):(et.push(yt),at.push([K[Xe].data("id")]))}}ie=at}for(var Yt=function(kr){if(0===ie[kr].length)return"continue";var nn=ge.newNode(null);nn.setClusterId(kr),xe.add(nn);var gi=ge.newCircleLGraph(null);ge.graphManager.add(gi,nn),gi.margin=gi.margin+15,ie[kr].forEach(function(Bi){var wi=Ve.get(Bi),Ci=wi.layoutDimensions({nodeDimensionsIncludeLabels:!1}),Lr=we.newCiSEOnCircleNode(new N(wi.position("x")-Ci.w/2,wi.position("y")-Ci.h/2),new B(parseFloat(Ci.w),parseFloat(Ci.h)));Lr.setId(Bi),Lr.setClusterId(kr),gi.getOnCircleNodes().push(Lr),gi.add(Lr),gi.getInNodes().push(Lr),Se[Lr.getId()]=Lr})},_t=0;_t<ie.length;_t++)Yt(_t);for(var cn=function(kr){var nn=!1;if(ie.forEach(function(Ci){Ci.includes(K[kr].data("id"))&&(nn=!0)}),!nn){var gi=K[kr],Bi=gi.layoutDimensions({nodeDimensionsIncludeLabels:!1}),wi=ge.newNode(new N(gi.position("x")-Bi.w/2,gi.position("y")-Bi.h/2),new B(parseFloat(Bi.w),parseFloat(Bi.h)));wi.setClusterId(-1),wi.setId(K[kr].data("id")),xe.add(wi),Se[wi.getId()]=wi}},ln=0;ln<K.length;ln++)cn(ln);for(var nt=0;nt<oe.length;nt++){var Qe=oe[nt],lt=Se[Qe.data("source")],Lt=Se[Qe.data("target")],Rt=lt.getClusterId(),Bn=Lt.getClusterId();if(lt!==Lt){var Hn=we.newEdge(lt,Lt,null);Rt===Bn&&-1!==Rt&&-1!==Bn?(Hn.isIntraCluster=!0,Hn.getSource().getOwner().add(Hn,Hn.getSource(),Hn.getTarget())):(Hn.isIntraCluster=!1,this.graphManager.add(Hn,Hn.getSource(),Hn.getTarget()))}}for(var vr=[],Dr=[],fr=this.graphManager.getAllNodes(),hn=0;hn<fr.length;hn++)fr[hn].getOnCircleNodeExt()?vr.push(fr[hn]):Dr.push(fr[hn]);return this.graphManager.setOnCircleNodes(vr),this.graphManager.setNonOnCircleNodes(Dr),this.graphManager.edges.forEach(function(An){var kr=An.getSource(),nn=An.getTarget(),gi=kr.getClusterId(),Bi=nn.getClusterId();if(-1!==gi){var wi=kr.getOwner(),Ci=wi.getInNodes().indexOf(kr);Ci>-1&&(wi.getInNodes().splice(Ci,1),wi.getOutNodes().push(kr))}if(-1!==Bi){var Lr=nn.getOwner(),Ri=Lr.getInNodes().indexOf(nn);Ri>-1&&(Lr.getInNodes().splice(Ri,1),Lr.getOutNodes().push(nn))}}),Se},ee.prototype.doStep1=function(){this.step=ee.STEP_1,this.phase=ee.PHASE_OTHER;for(var K=new R,oe=this.graphManager.getGraphs(),ie=0;ie<oe.length;ie++){var ge=oe[ie];if(ge instanceof ne){k.DEFAULT_NODE_SEPARATION=this.nodeSeparation;for(var we=new F,Se=we.graphManager.addRoot(),xe=ge.getOnCircleNodes(),Ve=0;Ve<xe.length;Ve++){var _e=xe[Ve],et=we.newNode(null),at=_e.getLocation();et.setLocation(at.x,at.y),et.setWidth(_e.getWidth()),et.setHeight(_e.getHeight()),Se.add(et),K.put(_e,et)}for(var Xe=this.getAllEdges(),yt=0;yt<Xe.length;yt++){var $e=Xe[yt];if(xe.includes($e.getSource())&&xe.includes($e.getTarget())){var Yt=K.get($e.getSource()),_t=K.get($e.getTarget()),Ut=we.newEdge("");Se.add(Ut,Yt,_t)}}we.layout();for(var cn=we.initPostProcess(),ln=0;ln<cn.length;ln++)we.oneStepPostProcess(cn[ln]);we.updateNodeAngles(),we.updateNodeCoordinates();for(var nt=0;nt<xe.length;nt++){var Qe=xe[nt],lt=K.get(Qe),Lt=lt.getLocation();Qe.setLocation(Lt.x,Lt.y),Qe.getOnCircleNodeExt().setIndex(lt.getIndex()),Qe.getOnCircleNodeExt().setAngle(lt.getAngle())}if(xe.sort(function(Hn,vr){return Hn.getOnCircleNodeExt().getIndex()-vr.getOnCircleNodeExt().getIndex()}),Se.getNodes().length>0){var Rt=ge.getParent(),Bn=Se.getParent();Rt.setLocation(Bn.getLocation().x,Bn.getLocation().y),ge.setRadius(Se.getRadius()),ge.calculateParentNodeDimension()}}}},ee.prototype.doStep2=function(){this.step=ee.STEP_2,this.phase=ee.PHASE_OTHER;var K=[],oe=[],ie=new R,ge=new R,we=new H;we.isSubLayout=!1,we.useMultiLevelScaling=!1,we.useFRGridVariant=!0,we.springConstant*=1.5;for(var xe=we.newGraphManager().addRoot(),Ve=this.graphManager.getNonOnCircleNodes(),_e=0;_e<Ve.length;_e++){var et=Ve[_e],at=we.newNode(null),Xe=et.getLocation();at.setLocation(Xe.x,Xe.y),at.setWidth(et.getWidth()),at.setHeight(et.getHeight()),null!=et.getChild()&&(at.setWidth(1.2*at.getWidth()),at.setHeight(1.2*at.getHeight())),at.id=_e,xe.add(at),K.push(at),ie.put(et,at)}for(var yt=new Array(K.length),$e=0;$e<yt.length;$e++)yt[$e]=new Array(K.length);for(var Yt=this.graphManager.getAllEdges(),_t=0;_t<Yt.length;_t++){var Ut=Yt[_t],cn=Ut.getSource(),ln=Ut.getTarget();null!=cn.getOnCircleNodeExt()&&(cn=Ut.getSource().getOwner().getParent()),null!=ln.getOnCircleNodeExt()&&(ln=Ut.getTarget().getOwner().getParent());var nt=ie.get(cn),Qe=ie.get(ln),lt=K.indexOf(nt),Lt=K.indexOf(Qe),Rt=void 0;lt!==Lt&&(null==yt[lt][Lt]&&null==yt[Lt][lt]?(Rt=we.newEdge(null),xe.add(Rt,nt,Qe),oe.push(Rt),ge.put(Rt,[]),yt[lt][Lt]=Rt,yt[Lt][lt]=Rt):Rt=yt[lt][Lt],ge.get(Rt).push(Ut))}we.runLayout();for(var Bn=0;Bn<Ve.length;Bn++){var Hn=Ve[Bn],Dr=ie.get(Hn).getLocation();Hn.setLocation(Dr.x,Dr.y)}for(var fr=this.graphManager.getOnCircleNodes(),hn=0;hn<fr.length;hn++){var An=fr[hn],kr=An.getLocation(),nn=An.getOwner().getParent().getLocation();An.setLocation(kr.x+nn.x,kr.y+nn.y)}},ee.prototype.step3Init=function(){this.step=ee.STEP_3,this.phase=ee.PHASE_OTHER,this.initSpringEmbedder(),this.coolingCycle=0},ee.prototype.step4Init=function(){this.step=ee.STEP_4,this.phase=ee.PHASE_OTHER,this.initSpringEmbedder();for(var K=0;K<this.graphManager.getOnCircleNodes().length;K++)this.graphManager.getOnCircleNodes()[K].getOnCircleNodeExt().updateSwappingConditions();this.coolingCycle=0},ee.prototype.step5Init=function(){this.step=ee.STEP_5,this.phase=ee.PHASE_OTHER,this.initSpringEmbedder(),this.coolingCycle=0},ee.prototype.runSpringEmbedderTick=function(){if(this.iterations++,this.totalIterations=this.iterations,this.iterations%J.CONVERGENCE_CHECK_PERIOD==0){if((this.step!==ee.STEP_4||this.iterations>this.maxIterations/4)&&this.isConverged())return!0;this.coolingFactor=this.initialCoolingFactor*((this.maxIterations-this.iterations)/this.maxIterations)}if(this.totalDisplacement=0,this.step===ee.STEP_3)this.iterations%J.REVERSE_PERIOD==0&&this.checkAndReverseIfReverseIsBetter();else if(this.step===ee.STEP_4){this.iterations%J.SWAP_HISTORY_CLEARANCE_PERIOD==0&&(this.swappedPairsInLastIteration=[]);var oe=this.iterations%J.SWAP_PERIOD;this.phase=oe>=J.SWAP_IDLE_DURATION?ee.PHASE_SWAP_PREPERATION:0===oe?ee.PHASE_PERFORM_SWAP:ee.PHASE_OTHER}return this.calcSpringForces(),this.calcRepulsionForces(),this.calcGravitationalForces(),this.calcTotalForces(),this.moveNodes(),this.iterations>=this.maxIterations},ee.prototype.prepareCirclesForReversal=function(){this.graphManager.getRoot().getNodes().forEach(function(oe){var ie=oe.getChild();null!=ie&&(ie.getInterClusterEdges().length<2&&ie.setMayNotBeReversed(),ie.computeOrderMatrix())})},ee.prototype.calcIdealEdgeLengths=function(K){for(var oe=this.graphManager.getAllEdges(),ie=0;ie<oe.length;ie++){oe[ie].idealLength=K?1.5*this.idealEdgeLength*this.idealInterClusterEdgeLengthCoefficient:this.idealEdgeLength*this.idealInterClusterEdgeLengthCoefficient}for(var we=this.graphManager.getInCircleNodes(),Se=0;Se<we.length;Se++)we[Se].getEdges().forEach(function(Ve){Ve.idealLength=J.DEFAULT_INNER_EDGE_LENGTH})},ee.prototype.calcSpringForces=function(){for(var K=this.graphManager.getAllEdges(),oe=0;oe<K.length;oe++){var ie=K[oe],ge=ie.getSource(),we=ie.getTarget();ie.isIntraCluster&&null!=ge.getOnCircleNodeExt()&&null!=we.getOnCircleNodeExt()||this.calcSpringForce(ie,ie.idealLength)}},ee.prototype.calcRepulsionForces=function(){for(var K=this.graphManager.getNonOnCircleNodes(),oe=0;oe<K.length;oe++)for(var ie=K[oe],ge=oe+1;ge<K.length;ge++)this.calcRepulsionForce(ie,K[ge]);for(var Se=this.graphManager.getInCircleNodes(),xe=0;xe<Se.length;xe++)for(var Ve=Se[xe],et=Ve.getOwner().getNodes(),at=0;at<et.length;at++){var Xe=et[at];Xe!==Ve&&this.calcRepulsionForce(Ve,Xe)}},ee.prototype.calcGravitationalForces=function(){if(!this.graphManager.rootGraph.isConnected)for(var K=this.graphManager.getNonOnCircleNodes(),oe=0;oe<K.length;oe++)this.calcGravitationalForce(K[oe]);for(var ge=this.graphManager.getInCircleNodes(),we=0;we<ge.length;we++)this.calcGravitationalForce(ge[we])},ee.prototype.calcTotalForces=function(){for(var K=this.graphManager.getAllNodes(),oe=0;oe<K.length;oe++){var ie=K[oe];ie.displacementX=this.coolingFactor*(ie.springForceX+ie.repulsionForceX+ie.gravitationForceX),ie.displacementY=this.coolingFactor*(ie.springForceY+ie.repulsionForceY+ie.gravitationForceY),ie.rotationAmount=0,ie.springForceX=0,ie.springForceY=0,ie.repulsionForceX=0,ie.repulsionForceY=0,ie.gravitationForceX=0,ie.gravitationForceY=0}for(var ge=this.graphManager.getOnCircleNodes(),we=0;we<ge.length;we++){var Se=ge[we],xe=Se.getOwner().getParent(),Ve=Se.getOwner().decomposeForce(Se);this.phase===ee.PHASE_SWAP_PREPERATION&&Se.getOnCircleNodeExt().addDisplacementForSwap(Ve.getRotationAmount()),xe.displacementX+=Ve.getDisplacementX(),xe.displacementY+=Ve.getDisplacementY(),Se.displacementX=0,Se.displacementY=0,xe.rotationAmount+=Ve.getRotationAmount(),Se.rotationAmount=0}},ee.prototype.moveNodes=function(){if(this.phase!==ee.PHASE_PERFORM_SWAP){for(var K=this.graphManager.getNonOnCircleNodes(),oe=0;oe<K.length;oe++)K[oe].move(),null!==K[oe].getChild()&&void 0!==K[oe].getChild()&&K[oe].getChild().rotate();for(var ie=this.graphManager.getInCircleNodes(),ge=void 0,we=0;we<ie.length;we++)(ge=ie[we]).displacementX/=20,ge.displacementY/=20,ge.move()}else{for(var Se=this.graphManager.getOnCircleNodes(),xe=Se.length,Ve=[],_e=[],et=[],at=[],Xe=void 0,yt=void 0,$e=void 0,Yt=void 0,_t=void 0,Ut=void 0,cn=void 0,nt=0;nt<xe;nt++)if(yt=(Xe=Se[nt]).getOnCircleNodeExt().getNextNode(),$e=Xe.getOnCircleNodeExt(),Yt=yt.getOnCircleNodeExt(),$e.canSwapWithNext&&Yt.canSwapWithPrev&&!((cn=(_t=$e.getDisplacementForSwap())-(Ut=Yt.getDisplacementForSwap()))<0)){var Qe=new he(Xe,yt,cn,_t>0&&Ut>0||_t<0&&Ut<0);0===_t||0===Ut?_e.push(Qe):Ve.push(Qe)}var lt=void 0,Lt=!0,Rt=void 0;for(Ve.sort(function(kr,nn){return kr.getDiscrepancy()-nn.getDiscrepancy()});Lt&&Ve.length>0;)if(Xe=(lt=Ve[Ve.length-1]).getFirstNode(),yt=lt.getSecondNode(),$e=Xe.getOnCircleNodeExt(),Yt=yt.getOnCircleNodeExt(),this.isSwappedPreviously(lt))Ve.pop(),at.push(lt);else{var Bn=$e.getInterClusterIntersections(Yt);lt.swap(),Rt=!1;var Hn=$e.getInterClusterIntersections(Yt);!(Rt=Hn>Bn)&&Hn===Bn&&(Rt=lt.inSameDirection()||lt.getDiscrepancy()<J.MIN_DISPLACEMENT_FOR_SWAP),Rt?(lt.swap(),Ve.pop()):(et.push(lt.getFirstNode()),et.push(lt.getSecondNode()),at.push(lt),Lt=!1)}for(var vr=0;vr<_e.length;vr++){var Dr=_e[vr];Dr.inSameDirection()||Dr.getDiscrepancy()<J.MIN_DISPLACEMENT_FOR_SWAP||et.includes(Dr.getFirstNode())||et.includes(Dr.getSecondNode())||(this.isSwappedPreviously(Dr)||(Dr.swap(),et.push(Dr.getFirstNode()),et.push(Dr.getSecondNode())),at.push(Dr))}this.swappedPairsInLastIteration=[];for(var fr=0;fr<at.length;fr++)this.swappedPairsInLastIteration.push(at[fr]);for(var An=0;An<xe;An++)Se[An].getOnCircleNodeExt().setDisplacementForSwap(0)}},ee.prototype.isSwappedPreviously=function(K){for(var oe=0;oe<this.swappedPairsInLastIteration.length;oe++){var ie=this.swappedPairsInLastIteration[oe];if(ie.getFirstNode()===K.getFirstNode()&&ie.getSecondNode()===K.getSecondNode()||ie.getSecondNode()===K.getFirstNode()&&ie.getFirstNode()===K.getSecondNode())return!0}return!1},ee.prototype.checkAndReverseIfReverseIsBetter=function(){for(var oe=this.getGraphManager().getRoot().getNodes(),ge=void 0,we=0;we<oe.length;we++)if(null!=(ge=oe[we].getChild())&&ge.getMayBeReversed()&&ge.getNodes().length<=52&&ge.checkAndReverseIfReverseIsBetter())return!0;return!1},ee.prototype.findAndMoveInnerNodes=function(){if(this.allowNodesInsideCircle)for(var K=this.graphManager.getGraphs(),oe=0;oe<K.length;oe++){var ie=K[oe],ge=0;if(ie!==this.getGraphManager().getRoot())for(var we=ie.getNodes().length*this.maxRatioOfNodesInsideCircle,Se=this.findInnerNode(ie);null!=Se&&ge<we;)this.moveInnerNode(Se),++ge<we&&(Se=this.findInnerNode(ie))}},ee.prototype.findInnerNode=function(K){var oe=null,ie=K.getOnCircleNodes().length,ge=K.getOnCircleNodes();ge.sort(function(Ut,cn){return Ut.getEdges().length-cn.getEdges().length});for(var we=ie-1;we>=0&&null==oe;we--){var Se=ge[we];if(0===Se.getOnCircleNodeExt().getInterClusterEdges().length){var xe=this.findMinimalSpanningSegment(Se);if(0!==xe.length){for(var Ve=!1,_e=0;_e<xe.length;_e++){var et=xe[_e];if(Ve)break;for(var at=et.getNeighborsList(),Xe=0;Xe<at.length;Xe++){var yt=at[Xe];if(yt!==Se&&yt.getOwner()===K&&null!=yt.getOnCircleNodeExt()&&null!=yt.getOnCircleNodeExt()){var $e=et.getOnCircleNodeExt().getIndex(),Yt=yt.getOnCircleNodeExt().getIndex(),_t=$e-Yt;if(_t+=ie,(_t%=ie)>1&&(_t=Yt-$e,_t+=ie,_t%=ie),_t>1){Ve=!0;break}}}}Ve||(oe=Se)}}}return oe},ee.prototype.moveInnerNode=function(K){K.getOwner().moveOnCircleNodeInside(K);var ie=this.graphManager.getOnCircleNodes(),ge=ie.indexOf(K);ge>-1&&ie.splice(ge,1),this.graphManager.inCircleNodes.push(K)},ee.prototype.findMinimalSpanningSegment=function(K){var oe=[],ie=K.getOnCircleNeighbors();if(0===ie.length)return oe;ie.sort(function(cn,ln){return cn.getOnCircleNodeExt().getIndex()-ln.getOnCircleNodeExt().getIndex()});var ge=K.getOwner().getOnCircleNodes();ge.sort(function(cn,ln){return cn.getOnCircleNodeExt().getIndex()-ln.getOnCircleNodeExt().getIndex()});var we=null,Se=null,xe=ge.length,Ve=ge.length,_e=ie.length,et=void 0,Xe=void 0,yt=void 0,$e=void 0;for(et=0;et<_e;et++)Xe=ie[et],($e=((yt=ie[(et-1+_e)%_e]).getOnCircleNodeExt().getIndex()-Xe.getOnCircleNodeExt().getIndex()+Ve)%Ve+1)<xe&&(we=Xe,Se=yt,xe=$e);for(var Yt=!1,_t=we;!Yt;)if(_t!==K&&oe.push(_t),_t===Se)Yt=!0;else{var Ut=_t.getOnCircleNodeExt().getIndex()+1;Ut===ge.length&&(Ut=0),_t=ge[Ut]}return oe},O.exports=ee},function(O,I,C){"use strict";var S=C(0).layoutBase.FDLayoutNode,R=C(0).layoutBase.IMath,N=C(1),B=C(12);function k(H,$,J,ce){S.call(this,H,$,J,ce),this.rotationAmount=null,this.onCircleNodeExt=null,this.clusterID=null,this.ID=null}for(var F in k.prototype=Object.create(S.prototype),S)k[F]=S[F];k.prototype.setClusterId=function(H){this.clusterID=H},k.prototype.getClusterId=function(){return this.clusterID},k.prototype.setId=function(H){this.ID=H},k.prototype.getId=function(){return this.ID},k.prototype.setAsOnCircleNode=function(){return this.onCircleNodeExt=new B(this),this.onCircleNodeExt},k.prototype.setAsNonOnCircleNode=function(){this.onCircleNodeExt=null},k.prototype.getOnCircleNodeExt=function(){return this.onCircleNodeExt},k.prototype.getLimitedDisplacement=function(H){return Math.abs(H)>N.MAX_NODE_DISPLACEMENT&&(H=N.MAX_NODE_DISPLACEMENT*R.sign(H)),H},k.prototype.getOnCircleNeighbors=function(){for(var H=Array.from(this.getNeighborsList()),$=[],J=0;J<H.length;J++){var ce=H[J];null!==ce.getOnCircleNodeExt()&&ce.getClusterId()===this.getClusterId()&&$.push(ce)}return $},k.prototype.getNoOfChildren=function(){return null===this.getChild()||void 0===this.getChild()?1:this.getChild().getNodes().length},k.prototype.move=function(){var H=this.getOwner().getGraphManager().getLayout();if(this.displacementX=this.getLimitedDisplacement(this.displacementX),this.displacementY=this.getLimitedDisplacement(this.displacementY),null!==this.getChild()&&void 0!==this.getChild()){var $=this.getChild().getNodes().length;this.displacementX/=$,this.displacementY/=$;for(var J=this.getChild().getNodes(),ce=0;ce<J.length;ce++)J[ce].moveBy(this.displacementX,this.displacementY),H.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)}this.moveBy(this.displacementX,this.displacementY),H.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),null!==this.getChild()&&void 0!==this.getChild()&&this.getChild().updateBounds(!0)},k.prototype.reset=function(){this.displacementX=0,this.displacementY=0},O.exports=k},function(O,I,C){"use strict";var S=C(0).layoutBase.IGeometry;function R(N){this.ciseNode=N,this.intraClusterEdges=null,this.interClusterEdges=null,this.angle=-1,this.orderIndex=-1,this.canSwapWithNext=null,this.canSwapWithPrevious=null,this.displacementForSwap=null}(R.prototype=Object.create(null)).getCiseNode=function(){return this.ciseNode},R.prototype.getAngle=function(){return this.angle},R.prototype.setAngle=function(N){this.angle=N%S.TWO_PI,this.angle<0&&(this.angle+=S.TWO_PI)},R.prototype.getIndex=function(){return this.orderIndex},R.prototype.setIndex=function(N){this.orderIndex=N},R.prototype.getCharCode=function(){return this.orderIndex<26?String.fromCharCode(97+this.orderIndex):this.orderIndex<52?String.fromCharCode(65+this.orderIndex):"?"},R.prototype.getNextNode=function(){var N=this.ciseNode.getOwner(),B=N.getOnCircleNodes().length,k=this.orderIndex+1;return k===B&&(k=0),N.getOnCircleNodes()[k]},R.prototype.getPrevNode=function(){var N=this.ciseNode.getOwner(),B=this.orderIndex-1;return-1===B&&(B=N.getOnCircleNodes().length-1),N.getOnCircleNodes()[B]},R.prototype.getNextNodeExt=function(){return this.getNextNode().getOnCircleNodeExt()},R.prototype.prevNextNodeExt=function(){return this.getPrevNode().getOnCircleNodeExt()},R.prototype.canSwapWithNext=function(){return this.canSwapWithNext},R.prototype.canSwapWithPrev=function(){return this.canSwapWithPrev},R.prototype.getDisplacementForSwap=function(){return this.displacementForSwap},R.prototype.setDisplacementForSwap=function(N){this.displacementForSwap=N},R.prototype.addDisplacementForSwap=function(N){this.displacementForSwap=N},R.prototype.updatePosition=function(){var N=this.ciseNode.getOwner(),B=N.getParent(),k=B.getCenterX(),F=B.getCenterY(),H=N.getRadius()*Math.cos(this.angle),$=N.getRadius()*Math.sin(this.angle);this.ciseNode.setCenter(k+H,F+$)},R.prototype.getCircDistWithTheNode=function(N){var B=N.getIndex();if(-1===B||-1===this.getIndex())return-1;var k=this.getIndex()-B;return k<0&&(k+=this.ciseNode.getOwner().getOnCircleNodes().length),k},R.prototype.calculateTotalCrossing=function(){var N=this.getIntraClusterEdges(),B=0,k=[];return this.ciseNode.getOwner().getIntraClusterEdges().forEach(function(F){k.push(F)}),this.ciseNode.getEdges().forEach(function(F){var H=k.indexOf(F);H>-1&&k.splice(H,1)}),N.forEach(function(F){B+=F.calculateTotalCrossingWithList(k)}),B},R.prototype.updateSwappingConditions=function(){var N=this.calculateTotalCrossing(),B=this.orderIndex,k=this.getNextNode().getOnCircleNodeExt();this.orderIndex=k.getIndex(),k.setIndex(B);var F=this.calculateTotalCrossing();this.canSwapWithNext=F<=N,k.setIndex(this.orderIndex),this.setIndex(B);var H=this.getPrevNode().getOnCircleNodeExt();this.orderIndex=H.getIndex(),H.setIndex(B),F=this.calculateTotalCrossing(),this.canSwapWithPrevious=F<=N,H.setIndex(this.orderIndex),this.setIndex(B)},R.prototype.swapWith=function(N){this.ciseNode.getOwner().swapNodes(this.ciseNode,N.ciseNode)},R.prototype.getInterClusterIntersections=function(N){for(var B=0,k=this.getInterClusterEdges(),F=N.getInterClusterEdges(),H=0;H<k.length;H++)for(var $=k[H],J=this.ciseNode.getCenter(),ce=$.getOtherEnd(this.ciseNode).getCenter(),ne=0;ne<F.length;ne++){var le=F[ne],se=N.ciseNode.getCenter(),he=le.getOtherEnd(N.ciseNode).getCenter();$.getOtherEnd(this.ciseNode)!==le.getOtherEnd(N.ciseNode)&&S.doIntersect(J,ce,se,he)&&B++}return B},R.prototype.getInterClusterEdges=function(){if(null===this.interClusterEdges){this.interClusterEdges=[];for(var N=this.ciseNode.getEdges(),B=0;B<N.length;B++){var k=N[B];k.isIntraCluster||this.interClusterEdges.push(k)}}return this.interClusterEdges},R.prototype.getIntraClusterEdges=function(){if(null===this.intraClusterEdges){this.intraClusterEdges=[];for(var N=this.ciseNode.getEdges(),B=0;B<N.length;B++){var k=N[B];k.isIntraCluster&&this.intraClusterEdges.push(k)}}return this.intraClusterEdges},O.exports=R},function(O,I,C){"use strict";function S(R,N,B,k){this.firstNode=R,this.secondNode=N,this.discrepancy=B,this.inSameDir=k}(S.prototype=Object.create).getDiscrepancy=function(){return this.discrepancy},S.prototype.inSameDirection=function(){return this.inSameDir},S.prototype.getFirstNode=function(){return this.firstNode},S.prototype.getSecondNode=function(){return this.secondNode},S.prototype.compareTo=function(R){return this.getDiscrepancy()-R.getDiscrepancy()},S.prototype.swap=function(){this.getFirstNode().getOnCircleNodeExt().swapWith(this.getSecondNode().getOnCircleNodeExt())},S.prototype.equals=function(R){var N=R instanceof S;if(N){var B=R;N&=this.firstNode.equals(B.getFirstNode())&&this.secondNode.equals(B.getSecondNode())||this.secondNode.equals(B.getFirstNode())&&this.firstNode.equals(B.getSecondNode())}return N},S.prototype.hashCode=function(){return this.firstNode.hashCode()+this.secondNode.hashCode()},S.prototype.toString=function(){var R="Swap: "+this.getFirstNode().label;return(R+="<->"+this.getSecondNode().label)+", "+this.getDiscrepancy()},O.exports=S},function(O,I,C){"use strict";function S(R,N,B){this.rotationAmount=R,this.displacementX=N,this.displacementY=B}S.prototype.getRotationAmount=function(){return this.rotationAmount},S.prototype.setRotationAmount=function(R){this.rotationAmount=R},S.prototype.getDisplacementX=function(){return this.displacementX},S.prototype.setDisplacementX=function(R){this.displacementX=R},S.prototype.getDisplacementY=function(){return this.displacementY},S.prototype.setDisplacementY=function(R){this.displacementY=R},O.exports=S},function(O,I,C){"use strict";var S=C(4),R=function(B){B&&B("layout","cise",S)};typeof cytoscape<"u"&&R(cytoscape),O.exports=R},function(O,I,C){"use strict";var S=function(){function ee(pe,K){for(var oe=0;oe<K.length;oe++){var ie=K[oe];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(pe,ie.key,ie)}}return function(pe,K,oe){return K&&ee(pe.prototype,K),oe&&ee(pe,oe),pe}}(),R=function ee(pe,K,oe){null===pe&&(pe=Function.prototype);var ie=Object.getOwnPropertyDescriptor(pe,K);if(void 0===ie){var ge=Object.getPrototypeOf(pe);return null===ge?void 0:ee(ge,K,oe)}if("value"in ie)return ie.value;var we=ie.get;return void 0===we?void 0:we.call(oe)};var F=C(10),H=C(1),$=C(0).layoutBase.FDLayoutConstants,J=C(18),ce=J.defaults,ne=C(2),he=function(ee){function pe(K){!function N(ee,pe){if(!(ee instanceof pe))throw new TypeError("Cannot call a class as a function")}(this,pe);var oe=function B(ee,pe){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!pe||"object"!=typeof pe&&"function"!=typeof pe?ee:pe}(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,ne({},ce,K)));return H.DEFAULT_NODE_SEPARATION=null!=K.nodeSeparation?K.nodeSeparation:$.DEFAULT_EDGE_LENGTH/4,H.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF=null!=K.idealInterClusterEdgeLengthCoefficient?K.idealInterClusterEdgeLengthCoefficient:1.4,H.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE=null!=K.allowNodesInsideCircle&&K.allowNodesInsideCircle,H.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=null!=K.maxRatioOfNodesInsideCircle?K.maxRatioOfNodesInsideCircle:.1,H.DEFAULT_SPRING_STRENGTH=null!=K.springCoeff?K.springCoeff:1.5*$.DEFAULT_SPRING_STRENGTH,null!=K.nodeRepulsion&&(H.DEFAULT_REPULSION_STRENGTH=$.DEFAULT_REPULSION_STRENGTH=K.nodeRepulsion),null!=K.gravity&&(H.DEFAULT_GRAVITY_STRENGTH=$.DEFAULT_GRAVITY_STRENGTH=K.gravity),null!=K.gravityRange&&(H.DEFAULT_GRAVITY_RANGE_FACTOR=$.DEFAULT_GRAVITY_RANGE_FACTOR=K.gravityRange),H.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=null!=K.maxRatioOfNodesInsideCircle?K.maxRatioOfNodesInsideCircle:.1,oe}return function k(ee,pe){if("function"!=typeof pe&&null!==pe)throw new TypeError("Super expression must either be null or a function, not "+typeof pe);ee.prototype=Object.create(pe&&pe.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),pe&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,pe):ee.__proto__=pe)}(pe,ee),S(pe,[{key:"prerun",value:function(){var oe=this.state,ie=[[]];null!=this.options.clusters&&(ie=this.options.clusters);var ge=oe.nodes,we=oe.edges,Se=this.ciseLayout=new F,xe=this.graphManager=Se.newGraphManager(),Ve=this.root=xe.addRoot();this.idToLNode=Se.convertToClusteredGraph(ge,we,ie),Ve.updateConnected(),Ve.calcEstimatedSize(),Se.calcNoOfChildrenForAllNodes(),Se.doStep1(),Se.doStep2(),Ve.updateBounds(!0),Ve.estimatedSize=Math.max(Ve.right-Ve.left,Ve.bottom-Ve.top),Se.prepareCirclesForReversal(),Se.calcIdealEdgeLengths(!1),this.initializerIndex=0,this.isDone=!1,this.isStepDone=!1,this.timeToSwitchNextStep=!0}},{key:"tick",value:function(){var oe=this,ie=this;if(this.state.nodes.forEach(function(we){var Se=oe.getScratch(we),xe=ie.idToLNode[we.data("id")];Se.x=xe.getCenterX(),Se.y=xe.getCenterY()}),this.timeToSwitchNextStep){switch(this.initializerIndex){case 0:case 2:this.ciseLayout.step5Init();break;case 1:this.ciseLayout.step3Init();break;case 3:this.ciseLayout.step4Init();break;case 4:this.ciseLayout.findAndMoveInnerNodes(),this.ciseLayout.calcIdealEdgeLengths(!0),this.ciseLayout.step5Init()}this.initializerIndex++,this.ciseLayout.iterations=0,this.ciseLayout.totalDisplacement=1e3,this.timeToSwitchNextStep=!1}return this.isStepDone=this.ciseLayout.runSpringEmbedderTick(),this.isStepDone&&this.initializerIndex<5&&(this.timeToSwitchNextStep=!0),this.isStepDone&&!1===this.timeToSwitchNextStep&&(this.isDone=!0),this.isDone}},{key:"postrun",value:function(){}},{key:"destroy",value:function(){return R(pe.prototype.__proto__||Object.getPrototypeOf(pe.prototype),"destroy",this).call(this),this}}]),pe}(J);O.exports=he},function(O,I,C){"use strict";O.exports=Object.freeze({animate:!1,refresh:10,maxIterations:2500,maxSimulationTime:5e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,infinite:!1})},function(O,I,C){"use strict";var S=function(){function se(he,ee){for(var pe=0;pe<ee.length;pe++){var K=ee[pe];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(he,K.key,K)}}return function(he,ee,pe){return ee&&se(he.prototype,ee),pe&&se(he,pe),he}}();var N=C(2),B=C(17),k=C(19),F=C(20),H=F.setInitialPositionState,$=F.refreshPositions,J=F.getNodePositionData,ne=C(21).multitick,le=function(){function se(he){!function R(se,he){if(!(se instanceof he))throw new TypeError("Cannot call a class as a function")}(this,se);var ee=this.options=N({},B,he),pe=this.state=N({},ee,{layout:this,nodes:ee.eles.nodes(),edges:ee.eles.edges(),tickIndex:0,firstUpdate:!0});pe.animateEnd=ee.animate&&"end"===ee.animate,pe.animateContinuously=ee.animate&&!pe.animateEnd}return S(se,[{key:"getScratch",value:function(ee){var pe=this.state.name,K=ee.scratch(pe);return K||ee.scratch(pe,K={}),K}},{key:"run",value:function(){var ee=this,pe=this.state;if(pe.tickIndex=0,pe.firstUpdate=!0,pe.startTime=Date.now(),pe.running=!0,pe.currentBoundingBox=k(pe.boundingBox,pe.cy),pe.ready&&ee.one("ready",pe.ready),pe.stop&&ee.one("stop",pe.stop),pe.nodes.forEach(function(_t){return H(_t,pe)}),ee.prerun(pe),pe.animateContinuously){var ge=function(Ut){!function(Ut){J(Ut,pe).grabbed=Ut.grabbed()}(Ut.target)},we=ge,Se=function(Ut){var cn=Ut.target,ln=J(cn,pe),nt=cn.position();ln.x=nt.x,ln.y=nt.y},_e=function(){pe.fit&&pe.animateContinuously&&pe.cy.fit(pe.padding)},et=function(){$(pe.nodes,pe),_e(),requestAnimationFrame(at)},at=function(){ne(pe,et,Xe)},Xe=function(){$(pe.nodes,pe),_e(),pe.nodes.forEach(function(Ut){(function(Ut){pe.ungrabifyWhileSimulating&&J(Ut,pe).grabbable&&Ut.grabify()})(Ut),function(Ut){Ut.removeListener("grab",ge),Ut.removeListener("free",we),Ut.removeListener("drag",Se)}(Ut)}),pe.running=!1,ee.emit("layoutstop")};ee.emit("layoutstart"),pe.nodes.forEach(function(_t){var Ut;Ut=_t,pe.ungrabifyWhileSimulating&&(J(Ut,pe).grabbable=Ut.grabbable())&&Ut.ungrabify(),function(Ut){Ut.on("grab",ge),Ut.on("free",we),Ut.on("drag",Se)}(_t)}),at()}else{for(var yt=!1,$e=function(){},Yt=function(){return yt=!0};!yt;)ne(pe,$e,Yt);pe.eles.layoutPositions(this,pe,function(_t){var Ut=J(_t,pe);return{x:Ut.x,y:Ut.y}})}return ee.postrun(pe),this}},{key:"prerun",value:function(){}},{key:"postrun",value:function(){}},{key:"tick",value:function(){}},{key:"stop",value:function(){return this.state.running=!1,this}},{key:"destroy",value:function(){return this}}]),se}();O.exports=le},function(O,I,C){"use strict";O.exports=function(S,R){return null==(S=null==S?{x1:0,y1:0,w:R.width(),h:R.height()}:{x1:S.x1,x2:S.x2,y1:S.y1,y2:S.y2,w:S.w,h:S.h}).x2&&(S.x2=S.x1+S.w),null==S.w&&(S.w=S.x2-S.x1),null==S.y2&&(S.y2=S.y1+S.h),null==S.h&&(S.h=S.y2-S.y1),S}},function(O,I,C){"use strict";var S=C(2);O.exports={setInitialPositionState:function(F,H){var $=F.position(),J=H.currentBoundingBox,ce=F.scratch(H.name);null==ce&&F.scratch(H.name,ce={}),S(ce,H.randomize?{x:J.x1+Math.round(Math.random()*J.w),y:J.y1+Math.round(Math.random()*J.h)}:{x:$.x,y:$.y}),ce.locked=F.locked()},getNodePositionData:function(F,H){return F.scratch(H.name)},refreshPositions:function(F,H){F.positions(function($){var J=$.scratch(H.name);return{x:J.x,y:J.y}})}}},function(O,I,C){"use strict";var S=function(){},R=function(k){var F=k,$=k.layout.tick(F);return F.firstUpdate&&(F.animateContinuously&&F.layout.emit("layoutready"),F.firstUpdate=!1),F.tickIndex++,!F.infinite&&$};O.exports={tick:R,multitick:function(k){for(var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,$=!1,J=k,ce=0;ce<J.refresh&&!($=!J.running||R(J));ce++);$?H():F()}}}]))},7944:function(j,ae,x){var T;j.exports=(T=x(8767),function(L){var O={};function I(C){if(O[C])return O[C].exports;var S=O[C]={i:C,l:!1,exports:{}};return L[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=L,I.c=O,I.d=function(C,S,R){I.o(C,S)||Object.defineProperty(C,S,{enumerable:!0,get:R})},I.r=function(C){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},I.t=function(C,S){if(1&S&&(C=I(C)),8&S||4&S&&"object"==typeof C&&C&&C.__esModule)return C;var R=Object.create(null);if(I.r(R),Object.defineProperty(R,"default",{enumerable:!0,value:C}),2&S&&"string"!=typeof C)for(var N in C)I.d(R,N,function(B){return C[B]}.bind(null,N));return R},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=0)}([function(L,O,I){var C=I(1),S=function(N){N&&N("layout","dagre",C)};typeof cytoscape<"u"&&S(cytoscape),L.exports=S},function(L,O,I){function C(F){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function($){return typeof $}:function($){return $&&"function"==typeof Symbol&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(F)}var S=function(H){return"function"==typeof H},R=I(2),N=I(3),B=I(4);function k(F){this.options=N({},R,F)}k.prototype.run=function(){var F=this.options,$=F.cy,J=F.eles,ce=function(Yt,_t){return S(_t)?_t.apply(Yt,[Yt]):_t},ne=F.boundingBox||{x1:0,y1:0,w:$.width(),h:$.height()};void 0===ne.x2&&(ne.x2=ne.x1+ne.w),void 0===ne.w&&(ne.w=ne.x2-ne.x1),void 0===ne.y2&&(ne.y2=ne.y1+ne.h),void 0===ne.h&&(ne.h=ne.y2-ne.y1);var le=new B.graphlib.Graph({multigraph:!0,compound:!0}),se={},he=function(Yt,_t){null!=_t&&(se[Yt]=_t)};he("nodesep",F.nodeSep),he("edgesep",F.edgeSep),he("ranksep",F.rankSep),he("rankdir",F.rankDir),he("align",F.align),he("ranker",F.ranker),he("acyclicer",F.acyclicer),le.setGraph(se),le.setDefaultEdgeLabel(function(){return{}}),le.setDefaultNodeLabel(function(){return{}});var ee=J.nodes();S(F.sort)&&(ee=ee.sort(F.sort));for(var pe=0;pe<ee.length;pe++){var K=ee[pe],oe=K.layoutDimensions(F);le.setNode(K.id(),{width:oe.w,height:oe.h,name:K.id()})}for(var ie=0;ie<ee.length;ie++){var ge=ee[ie];ge.isChild()&&le.setParent(ge.id(),ge.parent().id())}var Xe,we=J.edges().stdFilter(function($e){return!$e.source().isParent()&&!$e.target().isParent()});S(F.sort)&&(we=we.sort(F.sort));for(var Se=0;Se<we.length;Se++){var xe=we[Se];le.setEdge(xe.source().id(),xe.target().id(),{minlen:ce(xe,F.minLen),weight:ce(xe,F.edgeWeight),name:xe.id()},xe.id())}B.layout(le);for(var Ve=le.nodes(),_e=0;_e<Ve.length;_e++){var et=Ve[_e],at=le.node(et);$.getElementById(et).scratch().dagre=at}F.boundingBox?(Xe={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},ee.forEach(function($e){var Yt=$e.scratch().dagre;Xe.x1=Math.min(Xe.x1,Yt.x),Xe.x2=Math.max(Xe.x2,Yt.x),Xe.y1=Math.min(Xe.y1,Yt.y),Xe.y2=Math.max(Xe.y2,Yt.y)}),Xe.w=Xe.x2-Xe.x1,Xe.h=Xe.y2-Xe.y1):Xe=ne;return ee.layoutPositions(this,F,function($e){var Yt=($e="object"===C($e)?$e:this).scratch().dagre;return function(Yt){return F.boundingBox?{x:ne.x1+(0===Xe.w?0:(Yt.x-Xe.x1)/Xe.w)*ne.w,y:ne.y1+(0===Xe.h?0:(Yt.y-Xe.y1)/Xe.h)*ne.h}:Yt}({x:Yt.x,y:Yt.y})}),this},L.exports=k},function(L,O){L.exports={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(S){return 1},edgeWeight:function(S){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(S,R){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(S,R){return R},ready:function(){},sort:void 0,stop:function(){}}},function(L,O){L.exports=null!=Object.assign?Object.assign.bind(Object):function(I){for(var C=arguments.length,S=new Array(C>1?C-1:0),R=1;R<C;R++)S[R-1]=arguments[R];return S.forEach(function(N){Object.keys(N).forEach(function(B){return I[B]=N[B]})}),I}},function(L,O){L.exports=T}]))},3848:function(j,ae,x){var T;j.exports=(T=x(7925),function(L){var O={};function I(C){if(O[C])return O[C].exports;var S=O[C]={i:C,l:!1,exports:{}};return L[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=L,I.c=O,I.i=function(C){return C},I.d=function(C,S,R){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:R})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=7)}([function(L,O,I){"use strict";L.exports=null!=Object.assign?Object.assign.bind(Object):function(C){for(var S=arguments.length,R=Array(S>1?S-1:0),N=1;N<S;N++)R[N-1]=arguments[N];return R.forEach(function(B){null!=B&&Object.keys(B).forEach(function(k){return C[k]=B[k]})}),C}},function(L,O,I){"use strict";var S=I(5).getBoundingBox;L.exports={getRef:function R(N,B){return{getBoundingClientRect:function(){return S(N,B)}}}}},function(L,O,I){"use strict";var C=I(0),R=I(1).getRef,B=I(6).getContent,k={},H=I(8).createPopper;L.exports={getPopper:function $(J,ce){var ne=R(J,ce),le=B(J,ce.content),se=C({},k,ce.popper);return H(ne,le,se)}}},function(L,O,I){"use strict";var C=I(0),R=I(2).getPopper,B=I(1).getRef;function H(ne,le){var se=function(ie){return ie.isNode()?{w:ie.renderedWidth(),h:ie.renderedHeight()}:{w:3,h:3}},pe=ne.cy();return C({},{renderedDimensions:se,renderedPosition:function(ie){return ie.isNode()?function $(ne,le){var se=ne.renderedPosition(),he=le(ne);return{x:se.x-he.w/2,y:se.y-he.h/2}}(ie,se):function J(ne){var le=ne.midpoint(),se=ne.cy().pan(),he=ne.cy().zoom();return{x:le.x*he+se.x,y:le.y*he+se.y}}(ie)},popper:{},cy:pe},le)}function ce(ne){ne.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}L.exports={popper:function k(ne){return ce(this),R(this[0],H(this[0],ne))},popperRef:function F(ne){return ce(this),B(this[0],H(this[0],ne))}}},function(L,O,I){"use strict";var C=I(0),R=I(2).getPopper,B=I(1).getRef;function H($,J){return C({},{boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},renderedPosition:function(){return{x:0,y:0}},popper:{},cy:$},J)}L.exports={popper:function k($){return R(this,H(this,$))},popperRef:function F($){return B(this,H(this,$))}}},function(L,O,I){"use strict";L.exports={getBoundingBox:function C(S,R){var N=R.renderedPosition,k=R.renderedDimensions,F=R.cy.container().getBoundingClientRect(),H=k(S),$=N(S);return{top:$.y+F.top,left:$.x+F.left,right:$.x+H.w+F.left,bottom:$.y+H.h+F.top,width:H.w,height:H.h}}}},function(L,O,I){"use strict";L.exports={getContent:function C(S,R){var N;if("function"!=typeof R){if(R instanceof HTMLElement)return R;throw new Error("Can not create popper from 'target' with unknown type")}if(null===(N=R(S)))throw new Error("No 'target' specified to create popper");return N}}},function(L,O,I){"use strict";var C=I(4),S=I(3),R=function(B){B&&(B("core","popper",C.popper),B("collection","popper",S.popper),B("core","popperRef",C.popperRef),B("collection","popperRef",S.popperRef))};typeof cytoscape<"u"&&R(cytoscape),L.exports=R},function(L,O){L.exports=T}]))},6100:(j,ae,x)=>{"use strict";var T=x(4430),L=x(7444),O=x(5440),I=x(7939),C=x(9078);function S(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}var R=S(T),N=S(L),B=S(O),k=S(I),F=S(C);function H(l){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(l)}function $(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}function J(l,i){for(var s=0;s<i.length;s++){var f=i[s];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}function ce(l,i,s){return i&&J(l.prototype,i),s&&J(l,s),Object.defineProperty(l,"prototype",{writable:!1}),l}function ne(l,i,s){return i in l?Object.defineProperty(l,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[i]=s,l}function le(l,i){return function se(l){if(Array.isArray(l))return l}(l)||function he(l,i){var s=null==l?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(null!=s){var g,w,f=[],d=!0,p=!1;try{for(s=s.call(l);!(d=(g=s.next()).done)&&(f.push(g.value),!i||f.length!==i);d=!0);}catch(D){p=!0,w=D}finally{try{!d&&null!=s.return&&s.return()}finally{if(p)throw w}}return f}}(l,i)||function ee(l,i){if(l){if("string"==typeof l)return pe(l,i);var s=Object.prototype.toString.call(l).slice(8,-1);if("Object"===s&&l.constructor&&(s=l.constructor.name),"Map"===s||"Set"===s)return Array.from(l);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return pe(l,i)}}(l,i)||function K(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(l,i){(null==i||i>l.length)&&(i=l.length);for(var s=0,f=new Array(i);s<i;s++)f[s]=l[s];return f}var oe=typeof window>"u"?null:window,ie=oe?oe.navigator:null,ge=H(""),we=H({}),Se=H(function(){}),xe=typeof HTMLElement>"u"?"undefined":H(HTMLElement),Ve=function(i){return i&&i.instanceString&&et(i.instanceString)?i.instanceString():null},_e=function(i){return null!=i&&H(i)==ge},et=function(i){return null!=i&&H(i)===Se},at=function(i){return!Ut(i)&&(Array.isArray?Array.isArray(i):null!=i&&i instanceof Array)},Xe=function(i){return null!=i&&H(i)===we&&!at(i)&&i.constructor===Object},$e=function(i){return null!=i&&H(i)===H(1)&&!isNaN(i)},_t=function(i){if("undefined"!==xe)return null!=i&&i instanceof HTMLElement},Ut=function(i){return cn(i)||ln(i)},cn=function(i){return"collection"===Ve(i)&&i._private.single},ln=function(i){return"collection"===Ve(i)&&!i._private.single},nt=function(i){return"core"===Ve(i)},Qe=function(i){return"stylesheet"===Ve(i)},Lt=function(i){return null==i||!(""!==i&&!i.match(/^\s+$/))},Hn=function(i){return function(i){return null!=i&&H(i)===we}(i)&&et(i.then)},Dr=function(i,s){s||(s=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var p=[],g=0;g<arguments.length;g++)p.push(arguments[g]);return p.join("$")});var f=function d(){var w,g=arguments,D=s.apply(this,g),E=d.cache;return(w=E[D])||(w=E[D]=i.apply(this,g)),w};return f.cache={},f},fr=Dr(function(l){return l.replace(/([A-Z])/g,function(i){return"-"+i.toLowerCase()})}),hn=Dr(function(l){return l.replace(/(-\w)/g,function(i){return i[1].toUpperCase()})}),An=Dr(function(l,i){return l+i[0].toUpperCase()+i.substring(1)},function(l,i){return l+"$"+i}),kr=function(i){return Lt(i)?i:i.charAt(0).toUpperCase()+i.substring(1)},nn="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",gi="rgb[a]?\\(("+nn+"[%]?)\\s*,\\s*("+nn+"[%]?)\\s*,\\s*("+nn+"[%]?)(?:\\s*,\\s*("+nn+"))?\\)",Bi="rgb[a]?\\((?:"+nn+"[%]?)\\s*,\\s*(?:"+nn+"[%]?)\\s*,\\s*(?:"+nn+"[%]?)(?:\\s*,\\s*(?:"+nn+"))?\\)",wi="hsl[a]?\\(("+nn+")\\s*,\\s*("+nn+"[%])\\s*,\\s*("+nn+"[%])(?:\\s*,\\s*("+nn+"))?\\)",Ci="hsl[a]?\\((?:"+nn+")\\s*,\\s*(?:"+nn+"[%])\\s*,\\s*(?:"+nn+"[%])(?:\\s*,\\s*(?:"+nn+"))?\\)",Ta=function(i,s){return i<s?-1:i>s?1:0},En=null!=Object.assign?Object.assign.bind(Object):function(l){for(var i=arguments,s=1;s<i.length;s++){var f=i[s];if(null!=f)for(var d=Object.keys(f),p=0;p<d.length;p++){var g=d[p];l[g]=f[g]}}return l},ls={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},pn=function(i){for(var s=i.map,f=i.keys,d=f.length,p=0;p<d;p++){var g=f[p];if(Xe(g))throw Error("Tried to set map with object key");p<f.length-1?(null==s[g]&&(s[g]={}),s=s[g]):s[g]=i.value}},ta=function(i){for(var s=i.map,f=i.keys,d=f.length,p=0;p<d;p++){var g=f[p];if(Xe(g))throw Error("Tried to get map with object key");if(null==(s=s[g]))return s}return s},qi=oe?oe.performance:null,Qr=qi&&qi.now?function(){return qi.now()}:function(){return Date.now()},Li=function(){if(oe){if(oe.requestAnimationFrame)return function(l){oe.requestAnimationFrame(l)};if(oe.mozRequestAnimationFrame)return function(l){oe.mozRequestAnimationFrame(l)};if(oe.webkitRequestAnimationFrame)return function(l){oe.webkitRequestAnimationFrame(l)};if(oe.msRequestAnimationFrame)return function(l){oe.msRequestAnimationFrame(l)}}return function(l){l&&setTimeout(function(){l(Qr())},1e3/60)}}(),Ul=function(i){return Li(i)},ui=Qr,fa=9261,Ms=5381,vc=function(i){for(var d,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fa;!(d=i.next()).done;)f=65599*f+d.value|0;return f},Ia=function(i){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:fa)+i|0},Is=function(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ms;return(s<<5)+s+i|0},Ua=function(i){return 2097152*i[0]+i[1]},da=function(i,s){return[Ia(i[0],s[0]),Is(i[1],s[1])]},Ga=function(i,s){var f={value:0,done:!1},d=0,p=i.length;return vc({next:function(){return d<p?f.value=i.charCodeAt(d++):f.done=!0,f}},s)},yc=function(){return Gl(arguments)},Gl=function(i){for(var s,f=0;f<i.length;f++){var d=i[f];s=0===f?Ga(d):Ga(d,s)}return s},xu=!0,na=null!=console.warn,bc=null!=console.trace,Su=Number.MAX_SAFE_INTEGER||9007199254740991,Tu=function(){return!0},us=function(){return!1},Mu=function(){return 0},wc=function(){},zr=function(i){throw new Error(i)},ha=function(i){if(void 0===i)return xu;xu=!!i},mr=function(i){ha()&&(na?console.warn(i):(console.log(i),bc&&console.trace()))},vi=function(i){return null==i?i:at(i)?i.slice():Xe(i)?function(i){return En({},i)}(i):i},Mf=function(i,s){for(s=i="";i++<36;s+=51*i&52?(15^i?8^Math.random()*(20^i?16:4):4).toString(16):"-");return s},mi={},mn=function(){return mi},Yr=function(i){var s=Object.keys(i);return function(f){for(var d={},p=0;p<s.length;p++){var g=s[p],w=f?.[g];d[g]=void 0===w?i[g]:w}return d}},Aa=function(i,s,f){for(var d=i.length-1;d>=0&&(i[d]!==s||(i.splice(d,1),!f));d--);},vo=function(i){i.splice(0,i.length)},Pi=function(i,s,f){return f&&(s=An(f,s)),i[s]},mo=function(i,s,f,d){f&&(s=An(f,s)),i[s]=d},Et=typeof Map<"u"?Map:function(){function l(){$(this,l),this._obj={}}return ce(l,[{key:"set",value:function(s,f){return this._obj[s]=f,this}},{key:"delete",value:function(s){return this._obj[s]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(s){return void 0!==this._obj[s]}},{key:"get",value:function(s){return this._obj[s]}}]),l}(),Ec=function(){function l(i){if($(this,l),this._obj=Object.create(null),this.size=0,null!=i){var s;s=null!=i.instanceString&&i.instanceString()===this.instanceString()?i.toArray():i;for(var f=0;f<s.length;f++)this.add(s[f])}}return ce(l,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(s){var f=this._obj;1!==f[s]&&(f[s]=1,this.size++)}},{key:"delete",value:function(s){var f=this._obj;1===f[s]&&(f[s]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(s){return 1===this._obj[s]}},{key:"toArray",value:function(){var s=this;return Object.keys(this._obj).filter(function(f){return s.has(f)})}},{key:"forEach",value:function(s,f){return this.toArray().forEach(s,f)}}]),l}(),cs="undefined"!==(typeof Set>"u"?"undefined":H(Set))?Set:Ec,Ne=function(i,s){var f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==i&&void 0!==s&&nt(i)){var d=s.group;if(null==d&&(d=s.data&&null!=s.data.source&&null!=s.data.target?"edges":"nodes"),"nodes"===d||"edges"===d){this.length=1,this[0]=this;var p=this._private={cy:i,single:!0,data:s.data||{},position:s.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:d,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!s.selected,selectable:void 0===s.selectable||!!s.selectable,locked:!!s.locked,grabbed:!1,grabbable:void 0===s.grabbable||!!s.grabbable,pannable:void 0===s.pannable?"edges"===d:!!s.pannable,active:!1,classes:new cs,animation:{current:[],queue:[]},rscratch:{},scratch:s.scratch||{},edges:[],children:[],parent:s.parent&&s.parent.isNode()?s.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==p.position.x&&(p.position.x=0),null==p.position.y&&(p.position.y=0),s.renderedPosition){var g=s.renderedPosition,w=i.pan(),D=i.zoom();p.position={x:(g.x-w.x)/D,y:(g.y-w.y)/D}}var E=[];at(s.classes)?E=s.classes:_e(s.classes)&&(E=s.classes.split(/\s+/));for(var M=0,P=E.length;M<P;M++){var U=E[M];!U||""===U||p.classes.add(U)}this.createEmitter();var W=s.style||s.css;W&&(mr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(W)),(void 0===f||f)&&this.restore()}else zr("An element must be of type `nodes` or `edges`; you specified `"+d+"`")}else zr("An element must have a core reference and parameters set")},Re=function(i){return i={bfs:i.bfs||!i.dfs,dfs:i.dfs||!i.bfs},function(f,d,p){var g;Xe(f)&&!Ut(f)&&(f=(g=f).roots||g.root,d=g.visit,p=g.directed),p=2!==arguments.length||et(d)?p:d,d=et(d)?d:function(){};for(var Z,w=this._private.cy,D=f=_e(f)?this.filter(f):f,E=[],M=[],P={},U={},W={},z=0,q=this.byGroup(),re=q.nodes,fe=q.edges,de=0;de<D.length;de++){var me=D[de],Ie=me.id();me.isNode()&&(E.unshift(me),i.bfs&&(W[Ie]=!0,M.push(me)),U[Ie]=0)}for(var Ae=function(){var Be=i.bfs?E.shift():E.pop(),Oe=Be.id();if(i.dfs){if(W[Oe])return"continue";W[Oe]=!0,M.push(Be)}var ht,Ye=U[Oe],He=P[Oe],Ge=null!=He?He.source():null,qe=null!=He?He.target():null,it=null==He?void 0:Be.same(Ge)?qe[0]:Ge[0];if(!0===(ht=d(Be,He,it,z++,Ye)))return Z=Be,"break";if(!1===ht)return"break";for(var tt=Be.connectedEdges().filter(function(vt){return(!p||vt.source().same(Be))&&fe.has(vt)}),dt=0;dt<tt.length;dt++){var St=tt[dt],Tt=St.connectedNodes().filter(function(vt){return!vt.same(Be)&&re.has(vt)}),Ct=Tt.id();0!==Tt.length&&!W[Ct]&&(E.push(Tt=Tt[0]),i.bfs&&(W[Ct]=!0,M.push(Tt)),P[Ct]=St,U[Ct]=U[Oe]+1)}};0!==E.length;){var ye=Ae();if("continue"!==ye&&"break"===ye)break}for(var Me=w.collection(),be=0;be<M.length;be++){var Le=M[be],Pe=P[Le.id()];null!=Pe&&Me.push(Pe),Me.push(Le)}return{path:w.collection(Me),found:w.collection(Z)}}},Fe={breadthFirstSearch:Re({bfs:!0}),depthFirstSearch:Re({dfs:!0})};Fe.bfs=Fe.breadthFirstSearch,Fe.dfs=Fe.depthFirstSearch;var Je=Yr({root:null,weight:function(i){return 1},directed:!1}),Ze={dijkstra:function(i){if(!Xe(i)){var s=arguments;i={root:s[0],weight:s[1],directed:s[2]}}var He,Ge,f=Je(i),d=f.root,g=f.directed,w=this,D=f.weight,E=_e(d)?this.filter(d)[0]:d[0],M={},P={},U={},W=this.byGroup(),z=W.nodes,Z=W.edges;Z.unmergeBy(function(Ye){return Ye.isLoop()});for(var q=function(He){return M[He.id()]},fe=new N.default(function(Ye,He){return q(Ye)-q(He)}),de=0;de<z.length;de++){var me=z[de];M[me.id()]=me.same(E)?0:1/0,fe.push(me)}for(var Ie=function(He,Ge){for(var ht,qe=(g?He.edgesTo(Ge):He.edgesWith(Ge)).intersect(Z),it=1/0,tt=0;tt<qe.length;tt++){var dt=qe[tt],St=D(dt);(St<it||!ht)&&(it=St,ht=dt)}return{edge:ht,dist:it}};fe.size()>0;){var Ae=fe.pop(),ye=q(Ae),Me=Ae.id();if(U[Me]=ye,ye!==1/0)for(var be=Ae.neighborhood().intersect(z),Le=0;Le<be.length;Le++){var Pe=be[Le],Ee=Pe.id(),Be=Ie(Ae,Pe),Oe=ye+Be.dist;Oe<q(Pe)&&(Ge=Oe,M[(He=Pe).id()]=Ge,fe.updateItem(He),P[Ee]={node:Ae,edge:Be.edge})}}return{distanceTo:function(He){var Ge=_e(He)?z.filter(He)[0]:He[0];return U[Ge.id()]},pathTo:function(He){var Ge=_e(He)?z.filter(He)[0]:He[0],qe=[],it=Ge,ht=it.id();if(Ge.length>0)for(qe.unshift(Ge);P[ht];){var tt=P[ht];qe.unshift(tt.edge),qe.unshift(tt.node),ht=(it=tt.node).id()}return w.spawn(qe)}}}},Zt={kruskal:function(i){i=i||function(de){return 1};for(var s=this.byGroup(),f=s.nodes,d=s.edges,p=f.length,g=new Array(p),w=f,D=function(me){for(var Ie=0;Ie<g.length;Ie++)if(g[Ie].has(me))return Ie},E=0;E<p;E++)g[E]=this.spawn(f[E]);for(var M=d.sort(function(de,me){return i(de)-i(me)}),P=0;P<M.length;P++){var U=M[P],W=U.source()[0],z=U.target()[0],Z=D(W),q=D(z),re=g[Z],fe=g[q];Z!==q&&(w.merge(U),re.merge(fe),g.splice(q,1))}return w}},un=Yr({root:null,goal:null,weight:function(i){return 1},heuristic:function(i){return 0},directed:!1}),Ft={aStar:function(i){var s=this.cy(),f=un(i),d=f.root,p=f.goal,g=f.heuristic,w=f.directed,D=f.weight;d=s.collection(d)[0],p=s.collection(p)[0];var de,me,E=d.id(),M=p.id(),P={},U={},W={},z=new N.default(function(ht,tt){return U[ht.id()]-U[tt.id()]}),Z=new cs,q={},re={},fe=function(tt,dt){z.push(tt),Z.add(dt)};fe(d,E),P[E]=0,U[E]=g(d);for(var ye=0;z.size()>0;){if(me=(de=z.pop()).id(),Z.delete(me),ye++,me===M){for(var Me=[],be=p,Le=M,Pe=re[Le];Me.unshift(be),null!=Pe&&Me.unshift(Pe),null!=(be=q[Le]);)Pe=re[Le=be.id()];return{found:!0,distance:P[me],path:this.spawn(Me),steps:ye}}W[me]=!0;for(var Ee=de._private.edges,Be=0;Be<Ee.length;Be++){var Oe=Ee[Be];if(this.hasElementWithId(Oe.id())&&(!w||Oe.data("source")===me)){var Ye=Oe.source(),He=Oe.target(),Ge=Ye.id()!==me?Ye:He,qe=Ge.id();if(this.hasElementWithId(qe)&&!W[qe]){var it=P[me]+D(Oe);if(!Z.has(qe)){P[qe]=it,U[qe]=it+g(Ge),fe(Ge,qe),q[qe]=de,re[qe]=Oe;continue}it<P[qe]&&(P[qe]=it,U[qe]=it+g(Ge),q[qe]=de,re[qe]=Oe)}}}}return{found:!1,distance:void 0,path:void 0,steps:ye}}},qt=Yr({weight:function(i){return 1},directed:!1}),Nn={floydWarshall:function(i){for(var s=this.cy(),f=qt(i),p=f.directed,g=f.weight,w=this.byGroup(),D=w.nodes,E=w.edges,M=D.length,P=M*M,U=function(St){return D.indexOf(St)},W=function(St){return D[St]},z=new Array(P),Z=0;Z<P;Z++){var q=Z%M;z[Z]=(Z-q)/M===q?0:1/0}for(var fe=new Array(P),de=new Array(P),me=0;me<E.length;me++){var Ie=E[me],Ae=Ie.source()[0],ye=Ie.target()[0];if(Ae!==ye){var Me=U(Ae),be=U(ye),Le=Me*M+be,Pe=g(Ie);if(z[Le]>Pe&&(z[Le]=Pe,fe[Le]=be,de[Le]=Ie),!p){var Ee=be*M+Me;!p&&z[Ee]>Pe&&(z[Ee]=Pe,fe[Ee]=Me,de[Ee]=Ie)}}}for(var Be=0;Be<M;Be++)for(var Oe=0;Oe<M;Oe++)for(var Ye=Oe*M+Be,He=0;He<M;He++){var Ge=Oe*M+He,qe=Be*M+He;z[Ye]+z[qe]<z[Ge]&&(z[Ge]=z[Ye]+z[qe],fe[Ge]=fe[Ye])}var ht=function(St){return U(function(St){return(_e(St)?s.filter(St):St)[0]}(St))};return{distance:function(St,Tt){var Ct=ht(St),vt=ht(Tt);return z[Ct*M+vt]},path:function(St,Tt){var Ct=ht(St),vt=ht(Tt),Ke=W(Ct);if(Ct===vt)return Ke.collection();if(null==fe[Ct*M+vt])return s.collection();var Dt=s.collection();for(Dt.merge(Ke);Ct!==vt;)Dt.merge(de[Ct*M+(Ct=fe[Ct*M+vt])]),Dt.merge(W(Ct));return Dt}}}},Pt=Yr({weight:function(i){return 1},directed:!1,root:null}),wr={bellmanFord:function(i){var s=this,f=Pt(i),p=f.directed,g=f.root,w=f.weight,D=this,E=this.cy(),M=this.byGroup(),P=M.edges,U=M.nodes,W=U.length,z=new Et,Z=!1,q=[];g=E.collection(g)[0],P.unmergeBy(function(bn){return bn.isLoop()});for(var re=P.length,fe=function(tn){var xn=z.get(tn.id());return xn||(xn={},z.set(tn.id(),xn)),xn},de=function(tn){return(_e(tn)?E.$(tn):tn)[0]},Ae=0;Ae<W;Ae++){var ye=U[Ae],Me=fe(ye);Me.dist=ye.same(g)?0:1/0,Me.pred=null,Me.edge=null}for(var be=!1,Le=function(tn,xn,Cr,rr,Ln,Bt){var Ce=rr.dist+Bt;Ce<Ln.dist&&!Cr.same(rr.edge)&&(Ln.dist=Ce,Ln.pred=tn,Ln.edge=Cr,be=!0)},Pe=1;Pe<W;Pe++){be=!1;for(var Ee=0;Ee<re;Ee++){var Be=P[Ee],Oe=Be.source(),Ye=Be.target(),He=w(Be),Ge=fe(Oe),qe=fe(Ye);Le(Oe,0,Be,Ge,qe,He),p||Le(Ye,0,Be,qe,Ge,He)}if(!be)break}if(be)for(var it=[],ht=0;ht<re;ht++){var tt=P[ht],dt=tt.source(),St=tt.target(),Tt=w(tt),Ct=fe(dt).dist,vt=fe(St).dist;if(Ct+Tt<vt||!p&&vt+Tt<Ct){if(Z||(mr("Graph contains a negative weight cycle for Bellman-Ford"),Z=!0),!1===i.findNegativeWeightCycles)break;var Ke=[];Ct+Tt<vt&&Ke.push(dt),!p&&vt+Tt<Ct&&Ke.push(St);for(var Dt=Ke.length,Mt=0;Mt<Dt;Mt++){var zt=Ke[Mt],Qt=[zt];Qt.push(fe(zt).edge);for(var Fn=fe(zt).pred;-1===Qt.indexOf(Fn);)Qt.push(Fn),Qt.push(fe(Fn).edge),Fn=fe(Fn).pred;for(var Xn=(Qt=Qt.slice(Qt.indexOf(Fn)))[0].id(),en=0,Kt=2;Kt<Qt.length;Kt+=2)Qt[Kt].id()<Xn&&(Xn=Qt[Kt].id(),en=Kt);(Qt=Qt.slice(en).concat(Qt.slice(0,en))).push(Qt[0]);var Tn=Qt.map(function(bn){return bn.id()}).join(",");-1===it.indexOf(Tn)&&(q.push(D.spawn(Qt)),it.push(Tn))}}}return{distanceTo:function(tn){return fe(de(tn)).dist},pathTo:function(tn){for(var xn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,rr=[],Ln=de(tn);;){if(null==Ln)return s.spawn();var Bt=fe(Ln),Ce=Bt.edge,ot=Bt.pred;if(rr.unshift(Ln[0]),Ln.same(xn)&&rr.length>0)break;null!=Ce&&rr.unshift(Ce),Ln=ot}return D.spawn(rr)},hasNegativeWeightCycle:Z,negativeWeightCycles:q}}},Un=Math.sqrt(2),Yn=function(i,s,f){0===f.length&&zr("Karger-Stein must be run on a connected (sub)graph");for(var d=f[i],w=s[d[1]],D=s[d[2]],E=f,M=E.length-1;M>=0;M--){var P=E[M],U=P[1],W=P[2];(s[U]===w&&s[W]===D||s[U]===D&&s[W]===w)&&E.splice(M,1)}for(var z=0;z<E.length;z++){var Z=E[z];Z[1]===D?(E[z]=Z.slice(),E[z][1]=w):Z[2]===D&&(E[z]=Z.slice(),E[z][2]=w)}for(var q=0;q<s.length;q++)s[q]===D&&(s[q]=w);return E},Wr=function(i,s,f,d){for(;f>d;){var p=Math.floor(Math.random()*s.length);s=Yn(p,i,s),f--}return s},Dn={kargerStein:function(){var i=this,s=this.byGroup(),f=s.nodes,d=s.edges;d.unmergeBy(function(qe){return qe.isLoop()});var p=f.length,g=d.length,w=Math.ceil(Math.pow(Math.log(p)/Math.LN2,2)),D=Math.floor(p/Un);if(!(p<2)){for(var E=[],M=0;M<g;M++){var P=d[M];E.push([M,f.indexOf(P.source()),f.indexOf(P.target())])}for(var U=1/0,W=[],z=new Array(p),Z=new Array(p),q=new Array(p),re=function(it,ht){for(var tt=0;tt<p;tt++)ht[tt]=it[tt]},fe=0;fe<=w;fe++){for(var de=0;de<p;de++)Z[de]=de;var me=Wr(Z,E.slice(),p,D),Ie=me.slice();re(Z,q);var Ae=Wr(Z,me,D,2),ye=Wr(q,Ie,D,2);Ae.length<=ye.length&&Ae.length<U?(U=Ae.length,W=Ae,re(Z,z)):ye.length<=Ae.length&&ye.length<U&&(U=ye.length,W=ye,re(q,z))}for(var Me=this.spawn(W.map(function(qe){return d[qe[0]]})),be=this.spawn(),Le=this.spawn(),Pe=z[0],Ee=0;Ee<z.length;Ee++){var Oe=f[Ee];z[Ee]===Pe?be.merge(Oe):Le.merge(Oe)}var Ye=function(it){var ht=i.spawn();return it.forEach(function(tt){ht.merge(tt),tt.connectedEdges().forEach(function(dt){i.contains(dt)&&!Me.contains(dt)&&ht.merge(dt)})}),ht},He=[Ye(be),Ye(Le)];return{cut:Me,components:He,partition1:be,partition2:Le}}zr("At least 2 nodes are required for Karger-Stein algorithm")}},Sr=function(i,s,f){return{x:i.x*s+f.x,y:i.y*s+f.y}},Jr=function(i,s,f){return{x:(i.x-f.x)/s,y:(i.y-f.y)/s}},Xr=function(i){return{x:i[0],y:i[1]}},Kr=function(i,s){return Math.atan2(s,i)-Math.PI/2},Di=Math.log2||function(l){return Math.log(l)/Math.log(2)},Qi=function(i){return i>0?1:i<0?-1:0},xi=function(i,s){return Math.sqrt(Er(i,s))},Er=function(i,s){var f=s.x-i.x,d=s.y-i.y;return f*f+d*d},As=function(i){for(var s=i.length,f=0,d=0;d<s;d++)f+=i[d];for(var p=0;p<s;p++)i[p]=i[p]/f;return i},Zr=function(i,s,f,d){return(1-d)*(1-d)*i+2*(1-d)*d*s+d*d*f},Ji=function(i,s,f,d){return{x:Zr(i.x,s.x,f.x,d),y:Zr(i.y,s.y,f.y,d)}},Ns=function(i,s,f){return Math.max(i,Math.min(f,s))},ci=function(i){if(null==i)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=i.x1&&null!=i.y1){if(null!=i.x2&&null!=i.y2&&i.x2>=i.x1&&i.y2>=i.y1)return{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2,w:i.x2-i.x1,h:i.y2-i.y1};if(null!=i.w&&null!=i.h&&i.w>=0&&i.h>=0)return{x1:i.x1,y1:i.y1,x2:i.x1+i.w,y2:i.y1+i.h,w:i.w,h:i.h}}},gl=function(i,s){i.x1=Math.min(i.x1,s.x1),i.x2=Math.max(i.x2,s.x2),i.w=i.x2-i.x1,i.y1=Math.min(i.y1,s.y1),i.y2=Math.max(i.y2,s.y2),i.h=i.y2-i.y1},Au=function(i,s,f){i.x1=Math.min(i.x1,s),i.x2=Math.max(i.x2,s),i.w=i.x2-i.x1,i.y1=Math.min(i.y1,f),i.y2=Math.max(i.y2,f),i.h=i.y2-i.y1},ga=function(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i.x1-=s,i.x2+=s,i.y1-=s,i.y2+=s,i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},fs=function(i){var f,d,p,g,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===s.length)f=d=p=g=s[0];else if(2===s.length)f=p=s[0],g=d=s[1];else if(4===s.length){var w=le(s,4);f=w[0],d=w[1],p=w[2],g=w[3]}return i.x1-=g,i.x2+=d,i.y1-=f,i.y2+=p,i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},Hi=function(i,s){i.x1=s.x1,i.y1=s.y1,i.x2=s.x2,i.y2=s.y2,i.w=i.x2-i.x1,i.h=i.y2-i.y1},Gn=function(i,s){return!(i.x1>s.x2||s.x1>i.x2||i.x2<s.x1||s.x2<i.x1||i.y2<s.y1||s.y2<i.y1||i.y1>s.y2||s.y1>i.y2)},Na=function(i,s,f){return i.x1<=s&&s<=i.x2&&i.y1<=f&&f<=i.y2},If=function(i,s){return Na(i,s.x,s.y)},Dc=function(i,s){return Na(i,s.x1,s.y1)&&Na(i,s.x2,s.y2)},Cn=function(i,s,f,d,p,g,w){var P,D=jl(p,g),E=p/2,M=g/2,W=d-M-w;if((P=za(i,s,f,d,f-E+D-w,W,f+E-D+w,W,!1)).length>0)return P;var q=f+E+w;if((P=za(i,s,f,d,q,d-M+D-w,q,d+M-D+w,!1)).length>0)return P;var Ie=d+M+w;if((P=za(i,s,f,d,f-E+D-w,Ie,f+E-D+w,Ie,!1)).length>0)return P;var Ee,Me=f-E-w;if((P=za(i,s,f,d,Me,d-M+D-w,Me,d+M-D+w,!1)).length>0)return P;var Be=f-E+D,Oe=d-M+D;if((Ee=$s(i,s,f,d,Be,Oe,D+w)).length>0&&Ee[0]<=Be&&Ee[1]<=Oe)return[Ee[0],Ee[1]];var Ye=f+E-D,He=d-M+D;if((Ee=$s(i,s,f,d,Ye,He,D+w)).length>0&&Ee[0]>=Ye&&Ee[1]<=He)return[Ee[0],Ee[1]];var Ge=f+E-D,qe=d+M-D;if((Ee=$s(i,s,f,d,Ge,qe,D+w)).length>0&&Ee[0]>=Ge&&Ee[1]>=qe)return[Ee[0],Ee[1]];var it=f-E+D,ht=d+M-D;return(Ee=$s(i,s,f,d,it,ht,D+w)).length>0&&Ee[0]<=it&&Ee[1]>=ht?[Ee[0],Ee[1]]:[]},Ws=function(i,s,f,d,p,g,w){var D=w,E=Math.min(f,p),M=Math.max(f,p),P=Math.min(d,g),U=Math.max(d,g);return E-D<=i&&i<=M+D&&P-D<=s&&s<=U+D},yo=function(i,s,f,d,p,g,w,D,E){var M_x1=Math.min(f,w,p)-E,M_x2=Math.max(f,w,p)+E,M_y1=Math.min(d,D,g)-E,M_y2=Math.max(d,D,g)+E;return!(i<M_x1||i>M_x2||s<M_y1||s>M_y2)},zl=function(i,s,f,d,p,g,w,D){var W=[];!function(i,s,f,d,p){var w,D,E,M,P,U,W,z;0===i&&(i=1e-5),E=-27*(d/=i)+(s/=i)*(9*(f/=i)-s*s*2),w=(D=(3*f-s*s)/9)*D*D+(E/=54)*E,p[1]=0,W=s/3,w>0?(P=(P=E+Math.sqrt(w))<0?-Math.pow(-P,1/3):Math.pow(P,1/3),U=(U=E-Math.sqrt(w))<0?-Math.pow(-U,1/3):Math.pow(U,1/3),p[0]=-W+P+U,p[4]=p[2]=-(W+=(P+U)/2),W=Math.sqrt(3)*(-U+P)/2,p[3]=W,p[5]=-W):(p[5]=p[3]=0,0===w?(z=E<0?-Math.pow(-E,1/3):Math.pow(E,1/3),p[0]=2*z-W,p[4]=p[2]=-(z+W)):(M=(D=-D)*D*D,M=Math.acos(E/Math.sqrt(M)),z=2*Math.sqrt(D),p[0]=-W+z*Math.cos(M/3),p[2]=-W+z*Math.cos((M+2*Math.PI)/3),p[4]=-W+z*Math.cos((M+4*Math.PI)/3)))}(1*f*f-4*f*p+2*f*w+4*p*p-4*p*w+w*w+d*d-4*d*g+2*d*D+4*g*g-4*g*D+D*D,9*f*p-3*f*f-3*f*w-6*p*p+3*p*w+9*d*g-3*d*d-3*d*D-6*g*g+3*g*D,3*f*f-6*f*p+f*w-f*i+2*p*p+2*p*i-w*i+3*d*d-6*d*g+d*D-d*s+2*g*g+2*g*s-D*s,1*f*p-f*f+f*i-p*i+d*g-d*d+d*s-g*s,W);for(var Z=[],q=0;q<6;q+=2)Math.abs(W[q+1])<1e-7&&W[q]>=0&&W[q]<=1&&Z.push(W[q]);Z.push(1),Z.push(0);for(var fe,de,me,re=-1,Ie=0;Ie<Z.length;Ie++)fe=Math.pow(1-Z[Ie],2)*f+2*(1-Z[Ie])*Z[Ie]*p+Z[Ie]*Z[Ie]*w,de=Math.pow(1-Z[Ie],2)*d+2*(1-Z[Ie])*Z[Ie]*g+Z[Ie]*Z[Ie]*D,me=Math.pow(fe-i,2)+Math.pow(de-s,2),re>=0?me<re&&(re=me):re=me;return re},js=function(i,s,f,d,p,g){var w=[i-f,s-d],D=[p-f,g-d],E=D[0]*D[0]+D[1]*D[1],M=w[0]*w[0]+w[1]*w[1],P=w[0]*D[0]+w[1]*D[1],U=P*P/E;return P<0?M:U>E?(i-p)*(i-p)+(s-g)*(s-g):M-U},Po=function(i,s,f){for(var d,p,g,w,E=0,M=0;M<f.length/2;M++)if(p=f[2*M+1],M+1<f.length/2?(g=f[2*(M+1)],w=f[2*(M+1)+1]):(g=f[2*(M+1-f.length/2)],w=f[2*(M+1-f.length/2)+1]),(d=f[2*M])!=i||g!=i){if(!(d>=i&&i>=g||d<=i&&i<=g))continue;(i-d)/(g-d)*(w-p)+p>s&&E++}return E%2!=0},ma=function(i,s,f,d,p,g,w,D,E){var P,Z,M=new Array(f.length);null!=D[0]?(P=Math.atan(D[1]/D[0]),D[0]<0?P+=Math.PI/2:P=-P-Math.PI/2):P=D;for(var U=Math.cos(-P),W=Math.sin(-P),z=0;z<M.length/2;z++)M[2*z]=g/2*(f[2*z]*U-f[2*z+1]*W),M[2*z+1]=w/2*(f[2*z+1]*U+f[2*z]*W),M[2*z]+=d,M[2*z+1]+=p;if(E>0){var q=Ou(M,-E);Z=vl(q)}else Z=M;return Po(i,s,Z)},vl=function(i){for(var w,D,E,M,s=new Array(i.length/2),P=0;P<i.length/4;P++){P<i.length/4-1?(w=i[4*(P+1)],D=i[4*(P+1)+1],E=i[4*(P+1)+2],M=i[4*(P+1)+3]):(w=i[0],D=i[1],E=i[2],M=i[3]);var U=za(i[4*P],i[4*P+1],i[4*P+2],i[4*P+3],w,D,E,M,!0);s[2*P]=U[0],s[2*P+1]=U[1]}return s},Ou=function(i,s){for(var d,p,g,w,f=new Array(2*i.length),D=0;D<i.length/2;D++){D<i.length/2-1?(g=i[2*(D+1)],w=i[2*(D+1)+1]):(g=i[0],w=i[1]);var E=w-(p=i[2*D+1]),M=-(g-(d=i[2*D])),P=Math.sqrt(E*E+M*M),U=E/P,W=M/P;f[4*D]=d+U*s,f[4*D+1]=p+W*s,f[4*D+2]=g+U*s,f[4*D+3]=w+W*s}return f},Oa=function(i,s,f,d,p,g,w){return i-=p,s-=g,(i/=f/2+w)*i+(s/=d/2+w)*s<=1},$s=function(i,s,f,d,p,g,w){var D=[f-i,d-s],E=[i-p,s-g],M=D[0]*D[0]+D[1]*D[1],P=2*(E[0]*D[0]+E[1]*D[1]),W=P*P-4*M*(E[0]*E[0]+E[1]*E[1]-w*w);if(W<0)return[];var z=(-P+Math.sqrt(W))/(2*M),Z=(-P-Math.sqrt(W))/(2*M),q=Math.min(z,Z),re=Math.max(z,Z),fe=[];if(q>=0&&q<=1&&fe.push(q),re>=0&&re<=1&&fe.push(re),0===fe.length)return[];var de=fe[0]*D[0]+i,me=fe[0]*D[1]+s;return fe.length>1?fe[0]==fe[1]?[de,me]:[de,me,fe[1]*D[0]+i,fe[1]*D[1]+s]:[de,me]},eo=function(i,s,f){return s<=i&&i<=f||f<=i&&i<=s?i:i<=s&&s<=f||f<=s&&s<=i?s:f},za=function(i,s,f,d,p,g,w,D,E){var M=i-p,P=f-i,U=w-p,W=s-g,z=d-s,Z=D-g,q=U*W-Z*M,re=P*W-z*M,fe=Z*P-U*z;if(0!==fe){var de=q/fe,me=re/fe;return-.001<=de&&de<=1.001&&-.001<=me&&me<=1.001||E?[i+de*P,s+de*z]:[]}return 0===q||0===re?eo(i,f,w)===w?[w,D]:eo(i,f,p)===p?[p,g]:eo(p,w,f)===f?[f,d]:[]:[]},ml=function(i,s,f,d,p,g,w,D){var M,W,E=[],P=new Array(f.length),U=!0;if(null==g&&(U=!1),U){for(var z=0;z<P.length/2;z++)P[2*z]=f[2*z]*g+d,P[2*z+1]=f[2*z+1]*w+p;if(D>0){var Z=Ou(P,-D);W=vl(Z)}else W=P}else W=f;for(var fe,de,me=0;me<W.length/2;me++)me<W.length/2-1?(fe=W[2*(me+1)],de=W[2*(me+1)+1]):(fe=W[0],de=W[1]),0!==(M=za(i,s,d,p,W[2*me],W[2*me+1],fe,de)).length&&E.push(M[0],M[1]);return E},Af=function(i,s,f){var d=[i[0]-s[0],i[1]-s[1]],p=Math.sqrt(d[0]*d[0]+d[1]*d[1]),g=(p-f)/p;return g<0&&(g=1e-5),[s[0]+g*d[0],s[1]+g*d[1]]},ko=function(i,s){var f=Wl(i,s);return Ru(f)},Ru=function(i){for(var s,f,d=i.length/2,p=1/0,g=1/0,w=-1/0,D=-1/0,E=0;E<d;E++)s=i[2*E],f=i[2*E+1],p=Math.min(p,s),w=Math.max(w,s),g=Math.min(g,f),D=Math.max(D,f);for(var M=2/(w-p),P=2/(D-g),U=0;U<d;U++)s=i[2*U]=i[2*U]*M,f=i[2*U+1]=i[2*U+1]*P,p=Math.min(p,s),w=Math.max(w,s),g=Math.min(g,f),D=Math.max(D,f);if(g<-1)for(var W=0;W<d;W++)f=i[2*W+1]=i[2*W+1]+(-1-g);return i},Wl=function(i,s){var f=1/i*2*Math.PI,d=i%2==0?Math.PI/2+f/2:Math.PI/2;d+=s;for(var g,p=new Array(2*i),w=0;w<i;w++)g=w*f+d,p[2*w]=Math.cos(g),p[2*w+1]=Math.sin(-g);return p},jl=function(i,s){return Math.min(i/4,s/4,8)},Lu=function(i,s){return Math.min(i/10,s/10,8)},Ed=function(i,s){return{heightOffset:Math.min(15,.05*s),widthOffset:Math.min(100,.25*i),ctrlPtOffsetPct:.05}},Dd=Yr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(i){return 1}}),Os={pageRank:function(i){for(var s=Dd(i),f=s.dampingFactor,d=s.precision,p=s.iterations,g=s.weight,w=this._private.cy,D=this.byGroup(),E=D.nodes,M=D.edges,P=E.length,W=M.length,z=new Array(P*P),Z=new Array(P),q=(1-f)/P,re=0;re<P;re++){for(var fe=0;fe<P;fe++)z[re*P+fe]=0;Z[re]=0}for(var me=0;me<W;me++){var Ie=M[me],Ae=Ie.data("source"),ye=Ie.data("target");if(Ae!==ye){var Me=E.indexOfId(Ae),be=E.indexOfId(ye),Le=g(Ie);z[be*P+Me]+=Le,Z[Me]+=Le}}for(var Ee=1/P+q,Be=0;Be<P;Be++)if(0===Z[Be])for(var Oe=0;Oe<P;Oe++)z[Oe*P+Be]=Ee;else for(var He=0;He<P;He++){var Ge=He*P+Be;z[Ge]=z[Ge]/Z[Be]+q}for(var ht,qe=new Array(P),it=new Array(P),tt=0;tt<P;tt++)qe[tt]=1;for(var dt=0;dt<p;dt++){for(var St=0;St<P;St++)it[St]=0;for(var Tt=0;Tt<P;Tt++)for(var Ct=0;Ct<P;Ct++)it[Tt]+=z[Tt*P+Ct]*qe[Ct];As(it),ht=qe,qe=it,it=ht;for(var Ke=0,Dt=0;Dt<P;Dt++){var Mt=ht[Dt]-qe[Dt];Ke+=Mt*Mt}if(Ke<d)break}return{rank:function(Fn){return Fn=w.collection(Fn)[0],qe[E.indexOf(Fn)]}}}},Mh=Yr({root:null,weight:function(i){return 1},directed:!1,alpha:0}),ya={degreeCentralityNormalized:function(i){i=Mh(i);var s=this.cy(),f=this.nodes(),d=f.length;if(i.directed){for(var M={},P={},U=0,W=0,z=0;z<d;z++){var Z=f[z],q=Z.id();i.root=Z;var re=this.degreeCentrality(i);U<re.indegree&&(U=re.indegree),W<re.outdegree&&(W=re.outdegree),M[q]=re.indegree,P[q]=re.outdegree}return{indegree:function(de){return 0==U?0:(_e(de)&&(de=s.filter(de)),M[de.id()]/U)},outdegree:function(de){return 0===W?0:(_e(de)&&(de=s.filter(de)),P[de.id()]/W)}}}for(var p={},g=0,w=0;w<d;w++){var D=f[w];i.root=D;var E=this.degreeCentrality(i);g<E.degree&&(g=E.degree),p[D.id()]=E.degree}return{degree:function(de){return 0===g?0:(_e(de)&&(de=s.filter(de)),p[de.id()]/g)}}},degreeCentrality:function(i){i=Mh(i);var s=this.cy(),f=this,p=i.root,g=i.weight,w=i.directed,D=i.alpha;if(p=s.collection(p)[0],w){for(var W=p.connectedEdges(),z=W.filter(function(Ae){return Ae.target().same(p)&&f.has(Ae)}),Z=W.filter(function(Ae){return Ae.source().same(p)&&f.has(Ae)}),q=z.length,re=Z.length,fe=0,de=0,me=0;me<z.length;me++)fe+=g(z[me]);for(var Ie=0;Ie<Z.length;Ie++)de+=g(Z[Ie]);return{indegree:Math.pow(q,1-D)*Math.pow(fe,D),outdegree:Math.pow(re,1-D)*Math.pow(de,D)}}for(var E=p.connectedEdges().intersection(f),M=E.length,P=0,U=0;U<E.length;U++)P+=g(E[U]);return{degree:Math.pow(M,1-D)*Math.pow(P,D)}}};ya.dc=ya.degreeCentrality,ya.dcn=ya.degreeCentralityNormalised=ya.degreeCentralityNormalized;var Ih=Yr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),gn={closenessCentralityNormalized:function(i){for(var s=Ih(i),f=s.harmonic,d=s.weight,p=s.directed,g=this.cy(),w={},D=0,E=this.nodes(),M=this.floydWarshall({weight:d,directed:p}),P=0;P<E.length;P++){for(var U=0,W=E[P],z=0;z<E.length;z++)if(P!==z){var Z=M.distance(W,E[z]);U+=f?1/Z:Z}f||(U=1/U),D<U&&(D=U),w[W.id()]=U}return{closeness:function(re){return 0==D?0:(re=_e(re)?g.filter(re)[0].id():re.id(),w[re]/D)}}},closenessCentrality:function(i){var s=Ih(i),f=s.root,d=s.weight,p=s.directed,g=s.harmonic;f=this.filter(f)[0];for(var w=this.dijkstra({root:f,weight:d,directed:p}),D=0,E=this.nodes(),M=0;M<E.length;M++){var P=E[M];if(!P.same(f)){var U=w.distanceTo(P);D+=g?1/U:U}}return g?D:1/D}};gn.cc=gn.closenessCentrality,gn.ccn=gn.closenessCentralityNormalised=gn.closenessCentralityNormalized;var xd=Yr({weight:null,directed:!1}),sn={betweennessCentrality:function(i){for(var s=xd(i),f=s.directed,d=s.weight,p=null!=d,g=this.cy(),w=this.nodes(),D={},E={},M=0,P={set:function(de,me){E[de]=me,me>M&&(M=me)},get:function(de){return E[de]}},U=0;U<w.length;U++){var W=w[U],z=W.id();D[z]=f?W.outgoers().nodes():W.openNeighborhood().nodes(),P.set(z,0)}for(var Z=function(de){for(var me=w[de].id(),Ie=[],Ae={},ye={},Me={},be=new N.default(function(Ct,vt){return Me[Ct]-Me[vt]}),Le=0;Le<w.length;Le++){var Pe=w[Le].id();Ae[Pe]=[],ye[Pe]=0,Me[Pe]=1/0}for(ye[me]=1,Me[me]=0,be.push(me);!be.empty();){var Ee=be.pop();if(Ie.push(Ee),p)for(var Be=0;Be<D[Ee].length;Be++){var He,Oe=D[Ee][Be],Ye=g.getElementById(Ee);He=Ye.edgesTo(Oe).length>0?Ye.edgesTo(Oe)[0]:Oe.edgesTo(Ye)[0];var Ge=d(He);Oe=Oe.id(),Me[Oe]>Me[Ee]+Ge&&(Me[Oe]=Me[Ee]+Ge,be.nodes.indexOf(Oe)<0?be.push(Oe):be.updateItem(Oe),ye[Oe]=0,Ae[Oe]=[]),Me[Oe]==Me[Ee]+Ge&&(ye[Oe]=ye[Oe]+ye[Ee],Ae[Oe].push(Ee))}else for(var qe=0;qe<D[Ee].length;qe++){var it=D[Ee][qe].id();Me[it]==1/0&&(be.push(it),Me[it]=Me[Ee]+1),Me[it]==Me[Ee]+1&&(ye[it]=ye[it]+ye[Ee],Ae[it].push(Ee))}}for(var ht={},tt=0;tt<w.length;tt++)ht[w[tt].id()]=0;for(;Ie.length>0;){for(var dt=Ie.pop(),St=0;St<Ae[dt].length;St++){var Tt=Ae[dt][St];ht[Tt]=ht[Tt]+ye[Tt]/ye[dt]*(1+ht[dt])}dt!=w[de].id()&&P.set(dt,P.get(dt)+ht[dt])}},q=0;q<w.length;q++)Z(q);var re={betweenness:function(de){var me=g.collection(de).id();return P.get(me)},betweennessNormalized:function(de){if(0==M)return 0;var me=g.collection(de).id();return P.get(me)/M}};return re.betweennessNormalised=re.betweennessNormalized,re}};sn.bc=sn.betweennessCentrality;var Nf=Yr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(l){return 1}]}),ku=function(i,s){for(var f=0,d=0;d<s.length;d++)f+=s[d](i);return f},_u=function(i,s){for(var f,d=0;d<s;d++){f=0;for(var p=0;p<s;p++)f+=i[p*s+d];for(var g=0;g<s;g++)i[g*s+d]=i[g*s+d]/f}},Ys=function(i,s,f){for(var d=new Array(f*f),p=0;p<f;p++){for(var g=0;g<f;g++)d[p*f+g]=0;for(var w=0;w<f;w++)for(var D=0;D<f;D++)d[p*f+D]+=i[p*f+w]*s[w*f+D]}return d},Wa=function(i,s,f){for(var d=i.slice(0),p=1;p<f;p++)i=Ys(i,d,s);return i},ja=function(i,s,f){for(var d=new Array(s*s),p=0;p<s*s;p++)d[p]=Math.pow(i[p],f);return _u(d,s),d},ba=function(i,s,f,d){for(var p=0;p<f;p++)if(Math.round(i[p]*Math.pow(10,d))/Math.pow(10,d)!=Math.round(s[p]*Math.pow(10,d))/Math.pow(10,d))return!1;return!0},dr=function(i,s){for(var f=0;f<i.length;f++)if(!s[f]||i[f].id()!==s[f].id())return!1;return!0},Rf=function(i){for(var s=this.nodes(),f=this.edges(),d=this.cy(),p=function(i){return Nf(i)}(i),g={},w=0;w<s.length;w++)g[s[w].id()]=w;for(var P,D=s.length,E=D*D,M=new Array(E),U=0;U<E;U++)M[U]=0;for(var W=0;W<f.length;W++){var z=f[W],Z=g[z.source().id()],q=g[z.target().id()],re=ku(z,p.attributes);M[Z*D+q]+=re,M[q*D+Z]+=re}(function(i,s,f){for(var d=0;d<s;d++)i[d*s+d]=f})(M,D,p.multFactor),_u(M,D);for(var fe=!0,de=0;fe&&de<p.maxIterations;)fe=!1,P=Wa(M,D,p.expandFactor),M=ja(P,D,p.inflateFactor),ba(M,P,E,4)||(fe=!0),de++;var me=function(i,s,f,d){for(var p=[],g=0;g<s;g++){for(var w=[],D=0;D<s;D++)Math.round(1e3*i[g*s+D])/1e3>0&&w.push(f[D]);0!==w.length&&p.push(d.collection(w))}return p}(M,D,s,d);return me=function(i){for(var s=0;s<i.length;s++)for(var f=0;f<i.length;f++)s!=f&&dr(i[s],i[f])&&i.splice(f,1);return i}(me),me},Lf={markovClustering:Rf,mcl:Rf},Ah=function(i){return i},hs=function(i,s){return Math.abs(s-i)},yl=function(i,s,f){return i+hs(s,f)},bl=function(i,s,f){return i+Math.pow(f-s,2)},ps=function(i){return Math.sqrt(i)},Pf=function(i,s,f){return Math.max(i,hs(s,f))},$l=function(i,s,f,d,p){for(var g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ah,w=d,M=0;M<i;M++)w=p(w,s(M),f(M));return g(w)},Yl={euclidean:function(i,s,f){return i>=2?$l(i,s,f,0,bl,ps):$l(i,s,f,0,yl)},squaredEuclidean:function(i,s,f){return $l(i,s,f,0,bl)},manhattan:function(i,s,f){return $l(i,s,f,0,yl)},max:function(i,s,f){return $l(i,s,f,-1/0,Pf)}};function wl(l,i,s,f,d,p){var g;return g=et(l)?l:Yl[l]||Yl.euclidean,0===i&&et(l)?g(d,p):g(i,s,f,d,p)}Yl["squared-euclidean"]=Yl.squaredEuclidean,Yl.squaredeuclidean=Yl.squaredEuclidean;var Nh=Yr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),xc=function(i){return Nh(i)},Sc=function(i,s,f,d,p){var w="kMedoids"!==p?function(P){return f[P]}:function(P){return d[P](f)};return wl(i,d.length,w,function(U){return d[U](s)},f,s)},Cl=function(i,s,f){for(var d=f.length,p=new Array(d),g=new Array(d),w=new Array(s),D=null,E=0;E<d;E++)p[E]=i.min(f[E]).value,g[E]=i.max(f[E]).value;for(var M=0;M<s;M++){D=[];for(var P=0;P<d;P++)D[P]=Math.random()*(g[P]-p[P])+p[P];w[M]=D}return w},Sd=function(i,s,f,d,p){for(var g=1/0,w=0,D=0;D<s.length;D++){var E=Sc(f,i,s[D],d,p);E<g&&(g=E,w=D)}return w},Td=function(i,s,f){for(var d=[],p=null,g=0;g<s.length;g++)f[(p=s[g]).id()]===i&&d.push(p);return d},Ra=function(i,s,f){return Math.abs(s-i)<=f},kf=function(i,s,f){for(var d=0;d<i.length;d++)for(var p=0;p<i[d].length;p++)if(Math.abs(i[d][p]-s[d][p])>f)return!1;return!0},Md=function(i,s,f){for(var d=0;d<f;d++)if(i===s[d])return!0;return!1},Tc=function(i,s){var f=new Array(s);if(i.length<50)for(var d=0;d<s;d++){for(var p=i[Math.floor(Math.random()*i.length)];Md(p,f,d);)p=i[Math.floor(Math.random()*i.length)];f[d]=p}else for(var g=0;g<s;g++)f[g]=i[Math.floor(Math.random()*i.length)];return f},$a=function(i,s,f){for(var d=0,p=0;p<s.length;p++)d+=Sc("manhattan",s[p],i,f,"kMedoids");return d},_f=function(i,s,f,d,p){for(var g,w,D=0;D<s.length;D++)for(var E=0;E<i.length;E++)d[D][E]=Math.pow(f[D][E],p.m);for(var M=0;M<i.length;M++)for(var P=0;P<p.attributes.length;P++){g=0,w=0;for(var U=0;U<s.length;U++)g+=d[U][M]*p.attributes[P](s[U]),w+=d[U][M];i[M][P]=g/w}},Rh=function(i,s,f,d,p){for(var g=0;g<i.length;g++)s[g]=i[g].slice();for(var w,D,E,M=2/(p.m-1),P=0;P<f.length;P++)for(var U=0;U<d.length;U++){w=0;for(var W=0;W<f.length;W++)D=Sc(p.distance,d[U],f[P],p.attributes,"cmeans"),E=Sc(p.distance,d[U],f[W],p.attributes,"cmeans"),w+=Math.pow(D/E,M);i[U][P]=1/w}},Ff=function(i){var p,g,w,D,E,s=this.cy(),f=this.nodes(),d=xc(i);D=new Array(f.length);for(var M=0;M<f.length;M++)D[M]=new Array(d.k);w=new Array(f.length);for(var P=0;P<f.length;P++)w[P]=new Array(d.k);for(var U=0;U<f.length;U++){for(var W=0,z=0;z<d.k;z++)w[U][z]=Math.random(),W+=w[U][z];for(var Z=0;Z<d.k;Z++)w[U][Z]=w[U][Z]/W}g=new Array(d.k);for(var q=0;q<d.k;q++)g[q]=new Array(d.attributes.length);E=new Array(f.length);for(var re=0;re<f.length;re++)E[re]=new Array(d.k);for(var fe=!0,de=0;fe&&de<d.maxIterations;)fe=!1,_f(g,f,w,E,d),Rh(w,D,g,f,d),kf(w,D,d.sensitivityThreshold)||(fe=!0),de++;return p=function(i,s,f,d){for(var p=new Array(f.k),g=0;g<p.length;g++)p[g]=[];for(var w,D,E=0;E<s.length;E++){w=-1/0,D=-1;for(var M=0;M<s[0].length;M++)s[E][M]>w&&(w=s[E][M],D=M);p[D].push(i[E])}for(var P=0;P<p.length;P++)p[P]=d.collection(p[P]);return p}(f,w,d,s),{clusters:p,degreeOfMembership:w}},Si={kMeans:function(i){var D,s=this.cy(),f=this.nodes(),d=null,p=xc(i),g=new Array(p.k),w={};D=p.testMode?"number"==typeof p.testCentroids?Cl(f,p.k,p.attributes):"object"===H(p.testCentroids)?p.testCentroids:Cl(f,p.k,p.attributes):Cl(f,p.k,p.attributes);for(var E=!0,M=0;E&&M<p.maxIterations;){for(var P=0;P<f.length;P++)w[(d=f[P]).id()]=Sd(d,D,p.distance,p.attributes,"kMeans");E=!1;for(var U=0;U<p.k;U++){var W=Td(U,f,w);if(0!==W.length){for(var z=p.attributes.length,Z=D[U],q=new Array(z),re=new Array(z),fe=0;fe<z;fe++){re[fe]=0;for(var de=0;de<W.length;de++)re[fe]+=p.attributes[fe](d=W[de]);q[fe]=re[fe]/W.length,Ra(q[fe],Z[fe],p.sensitivityThreshold)||(E=!0)}D[U]=q,g[U]=s.collection(W)}}M++}return g},kMedoids:function(i){var w,E,s=this.cy(),f=this.nodes(),d=null,p=xc(i),g=new Array(p.k),D={},M=new Array(p.k);p.testMode?"number"==typeof p.testCentroids||(w="object"===H(p.testCentroids)?p.testCentroids:Tc(f,p.k)):w=Tc(f,p.k);for(var P=!0,U=0;P&&U<p.maxIterations;){for(var W=0;W<f.length;W++)D[(d=f[W]).id()]=Sd(d,w,p.distance,p.attributes,"kMedoids");P=!1;for(var z=0;z<w.length;z++){var Z=Td(z,f,D);if(0!==Z.length){M[z]=$a(w[z],Z,p.attributes);for(var q=0;q<Z.length;q++)(E=$a(Z[q],Z,p.attributes))<M[z]&&(M[z]=E,w[z]=Z[q],P=!0);g[z]=s.collection(Z)}}U++}return g},fuzzyCMeans:Ff,fcm:Ff},Yp=Yr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Xp={single:"min",complete:"max"},bo=function(i,s,f,d,p){for(var D,g=0,w=1/0,E=p.attributes,M=function(be,Le){return wl(p.distance,E.length,function(Pe){return E[Pe](be)},function(Pe){return E[Pe](Le)},be,Le)},P=0;P<i.length;P++){var U=i[P].key,W=f[U][d[U]];W<w&&(g=U,w=W)}if("threshold"===p.mode&&w>=p.threshold||"dendrogram"===p.mode&&1===i.length)return!1;var q,z=s[g],Z=s[d[g]];q="dendrogram"===p.mode?{left:z,right:Z,key:z.key}:{value:z.value.concat(Z.value),key:z.key},i[z.index]=q,i.splice(Z.index,1),s[z.key]=q;for(var re=0;re<i.length;re++){var fe=i[re];z.key===fe.key?D=1/0:"min"===p.linkage?(D=f[z.key][fe.key],f[z.key][fe.key]>f[Z.key][fe.key]&&(D=f[Z.key][fe.key])):"max"===p.linkage?(D=f[z.key][fe.key],f[z.key][fe.key]<f[Z.key][fe.key]&&(D=f[Z.key][fe.key])):D="mean"===p.linkage?(f[z.key][fe.key]*z.size+f[Z.key][fe.key]*Z.size)/(z.size+Z.size):"dendrogram"===p.mode?M(fe.value,z.value):M(fe.value[0],z.value[0]),f[z.key][fe.key]=f[fe.key][z.key]=D}for(var de=0;de<i.length;de++){var me=i[de].key;if(d[me]===z.key||d[me]===Z.key){for(var Ie=me,Ae=0;Ae<i.length;Ae++){var ye=i[Ae].key;f[me][ye]<f[me][Ie]&&(Ie=ye)}d[me]=Ie}i[de].index=de}return z.key=Z.key=z.index=Z.index=null,!0},Xs=function l(i,s,f){i&&(i.value?s.push(i.value):(i.left&&l(i.left,s),i.right&&l(i.right,s)))},Bf=function l(i,s){if(!i)return"";if(i.left&&i.right){var f=l(i.left,s),d=l(i.right,s),p=s.add({group:"nodes",data:{id:f+","+d}});return s.add({group:"edges",data:{source:f,target:p.id()}}),s.add({group:"edges",data:{source:d,target:p.id()}}),p.id()}return i.value?i.value.id():void 0},_n=function l(i,s,f){if(!i)return[];var d=[],p=[],g=[];return 0===s?(i.left&&Xs(i.left,d),i.right&&Xs(i.right,p),g=d.concat(p),[f.collection(g)]):1===s?i.value?[f.collection(i.value)]:(i.left&&Xs(i.left,d),i.right&&Xs(i.right,p),[f.collection(d),f.collection(p)]):i.value?[f.collection(i.value)]:(i.left&&(d=l(i.left,s-1,f)),i.right&&(p=l(i.right,s-1,f)),d.concat(p))},zo=function(i){for(var s=this.cy(),f=this.nodes(),d=function(i){var s=Yp(i),f=Xp[s.linkage];return null!=f&&(s.linkage=f),s}(i),p=d.attributes,g=function(de,me){return wl(d.distance,p.length,function(Ie){return p[Ie](de)},function(Ie){return p[Ie](me)},de,me)},w=[],D=[],E=[],M=[],P=0;P<f.length;P++){var U={value:"dendrogram"===d.mode?f[P]:[f[P]],key:P,index:P};w[P]=U,M[P]=U,D[P]=[],E[P]=0}for(var W=0;W<w.length;W++)for(var z=0;z<=W;z++){var Z;Z="dendrogram"===d.mode?W===z?1/0:g(w[W].value,w[z].value):W===z?1/0:g(w[W].value[0],w[z].value[0]),D[W][z]=Z,D[z][W]=Z,Z<D[W][E[W]]&&(E[W]=z)}for(var q=bo(w,M,D,E,d);q;)q=bo(w,M,D,E,d);var re;return"dendrogram"===d.mode?(re=_n(w[0],d.dendrogramDepth,s),d.addDendrogram&&Bf(w[0],s)):(re=new Array(w.length),w.forEach(function(fe,de){fe.key=fe.index=null,re[de]=s.collection(fe.value)})),re},Mr={hierarchicalClustering:zo,hca:zo},Ti=Yr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Gi=function(i,s,f,d){var p=function(w,D){return d[D](w)};return-wl(i,d.length,function(g){return p(s,g)},function(g){return p(f,g)},s,f)},Bu=function(i,s,f){for(var d=[],p=0;p<i;p++){for(var g=-1,w=-1/0,D=0;D<f.length;D++){var E=f[D];s[p*i+E]>w&&(g=E,w=s[p*i+E])}g>0&&d.push(g)}for(var M=0;M<f.length;M++)d[f[M]]=f[M];return d},Ad=function(i){for(var s=this.cy(),f=this.nodes(),d=function(i){var s=i.damping,f=i.preference;.5<=s&&s<1||zr("Damping must range on [0.5, 1).  Got: ".concat(s));var d=["median","mean","min","max"];return d.some(function(p){return p===f})||$e(f)||zr("Preference must be one of [".concat(d.map(function(p){return"'".concat(p,"'")}).join(", "),"] or a number.  Got: ").concat(f)),Ti(i)}(i),p={},g=0;g<f.length;g++)p[f[g].id()]=g;var w,D,E,M,P,U,be;D=(w=f.length)*w,E=new Array(D);for(var W=0;W<D;W++)E[W]=-1/0;for(var z=0;z<w;z++)for(var Z=0;Z<w;Z++)z!==Z&&(E[z*w+Z]=Gi(d.distance,f[z],f[Z],d.attributes));M=function(i,s){var f;return f="median"===s?function(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(f<i.length&&i.splice(f,i.length-f),s>0&&i.splice(0,s)):i=i.slice(s,f);for(var w=0,D=i.length-1;D>=0;D--)g?isFinite(i[D])||(i[D]=-1/0,w++):i.splice(D,1);p&&i.sort(function(U,W){return U-W});var M=i.length,P=Math.floor(M/2);return M%2!=0?i[P+1+w]:(i[P-1+w]+i[P+w])/2}(i):"mean"===s?function(i){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,d=0,p=0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g<f;g++){var w=i[g];isFinite(w)&&(d+=w,p++)}return d/p}(i):"min"===s?function(i){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,d=1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<f;p++){var g=i[p];isFinite(g)&&(d=Math.min(g,d))}return d}(i):"max"===s?function(i){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,d=-1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<f;p++){var g=i[p];isFinite(g)&&(d=Math.max(g,d))}return d}(i):s,f}(E,d.preference);for(var q=0;q<w;q++)E[q*w+q]=M;P=new Array(D);for(var re=0;re<D;re++)P[re]=0;U=new Array(D);for(var fe=0;fe<D;fe++)U[fe]=0;for(var de=new Array(w),me=new Array(w),Ie=new Array(w),Ae=0;Ae<w;Ae++)de[Ae]=0,me[Ae]=0,Ie[Ae]=0;for(var ye=new Array(w*d.minIterations),Me=0;Me<ye.length;Me++)ye[Me]=0;for(be=0;be<d.maxIterations;be++){for(var Le=0;Le<w;Le++){for(var Pe=-1/0,Ee=-1/0,Be=-1,Oe=0,Ye=0;Ye<w;Ye++)de[Ye]=P[Le*w+Ye],(Oe=U[Le*w+Ye]+E[Le*w+Ye])>=Pe?(Ee=Pe,Pe=Oe,Be=Ye):Oe>Ee&&(Ee=Oe);for(var He=0;He<w;He++)P[Le*w+He]=(1-d.damping)*(E[Le*w+He]-Pe)+d.damping*de[He];P[Le*w+Be]=(1-d.damping)*(E[Le*w+Be]-Ee)+d.damping*de[Be]}for(var Ge=0;Ge<w;Ge++){for(var qe=0,it=0;it<w;it++)de[it]=U[it*w+Ge],me[it]=Math.max(0,P[it*w+Ge]),qe+=me[it];qe-=me[Ge],me[Ge]=P[Ge*w+Ge],qe+=me[Ge];for(var ht=0;ht<w;ht++)U[ht*w+Ge]=(1-d.damping)*Math.min(0,qe-me[ht])+d.damping*de[ht];U[Ge*w+Ge]=(1-d.damping)*(qe-me[Ge])+d.damping*de[Ge]}for(var tt=0,dt=0;dt<w;dt++){var St=U[dt*w+dt]+P[dt*w+dt]>0?1:0;ye[be%d.minIterations*w+dt]=St,tt+=St}if(tt>0&&(be>=d.minIterations-1||be==d.maxIterations-1)){for(var Tt=0,Ct=0;Ct<w;Ct++){Ie[Ct]=0;for(var vt=0;vt<d.minIterations;vt++)Ie[Ct]+=ye[vt*w+Ct];(0===Ie[Ct]||Ie[Ct]===d.minIterations)&&Tt++}if(Tt===w)break}}for(var Ke=function(i,s,f){for(var d=[],p=0;p<i;p++)s[p*i+p]+f[p*i+p]>0&&d.push(p);return d}(w,P,U),Dt=function(i,s,f){for(var d=Bu(i,s,f),p=0;p<f.length;p++){for(var g=[],w=0;w<d.length;w++)d[w]===f[p]&&g.push(w);for(var D=-1,E=-1/0,M=0;M<g.length;M++){for(var P=0,U=0;U<g.length;U++)P+=s[g[U]*i+g[M]];P>E&&(D=M,E=P)}f[p]=g[D]}return Bu(i,s,f)}(w,E,Ke),Mt={},zt=0;zt<Ke.length;zt++)Mt[Ke[zt]]=[];for(var Qt=0;Qt<f.length;Qt++){var Xn=Dt[p[f[Qt].id()]];null!=Xn&&Mt[Xn].push(f[Qt])}for(var en=new Array(Ke.length),Kt=0;Kt<Ke.length;Kt++)en[Kt]=s.collection(Mt[Ke[Kt]]);return en},Mc={affinityPropagation:Ad,ap:Ad},Wi=Yr({root:void 0,directed:!1}),rn={hierholzer:function(i){if(!Xe(i)){var s=arguments;i={root:s[0],directed:s[1]}}var D,E,M,f=Wi(i),d=f.root,p=f.directed,g=this,w=!1;d&&(M=_e(d)?this.filter(d)[0].id():d[0].id());var P={},U={};g.forEach(p?function(fe){var de=fe.id();if(fe.isNode()){var me=fe.indegree(!0),Ie=fe.outdegree(!0),Ae=me-Ie,ye=Ie-me;1==Ae?D?w=!0:D=de:1==ye?E?w=!0:E=de:(ye>1||Ae>1)&&(w=!0),P[de]=[],fe.outgoers().forEach(function(Me){Me.isEdge()&&P[de].push(Me.id())})}else U[de]=[void 0,fe.target().id()]}:function(fe){var de=fe.id();fe.isNode()?(fe.degree(!0)%2&&(D?E?w=!0:E=de:D=de),P[de]=[],fe.connectedEdges().forEach(function(Ie){return P[de].push(Ie.id())})):U[de]=[fe.source().id(),fe.target().id()]});var W={found:!1,trail:void 0};if(w)return W;if(E&&D)if(p){if(M&&E!=M)return W;M=E}else{if(M&&E!=M&&D!=M)return W;M||(M=E)}else M||(M=g[0].id());var z=function(de){for(var Ae,ye,Me,me=de,Ie=[de];P[me].length;)Ae=P[me].shift(),ye=U[Ae][0],me!=(Me=U[Ae][1])?(P[Me]=P[Me].filter(function(be){return be!=Ae}),me=Me):!p&&me!=ye&&(P[ye]=P[ye].filter(function(be){return be!=Ae}),me=ye),Ie.unshift(Ae),Ie.unshift(me);return Ie},Z=[],q=[];for(q=z(M);1!=q.length;)0==P[q[0]].length?(Z.unshift(g.getElementById(q.shift())),Z.unshift(g.getElementById(q.shift()))):q=z(q.shift()).concat(q);for(var re in Z.unshift(g.getElementById(q.shift())),P)if(P[re].length)return W;return W.found=!0,W.trail=this.spawn(Z,!0),W}},Rn=function(){var i=this,s={},f=0,d=0,p=[],g=[],w={},E=function P(U,W,z){U===z&&(d+=1),s[W]={id:f,low:f++,cutVertex:!1};var q,re,fe,de,Z=i.getElementById(W).connectedEdges().intersection(i);0===Z.size()?p.push(i.spawn(i.getElementById(W))):Z.forEach(function(me){q=me.source().id(),re=me.target().id(),(fe=q===W?re:q)!==z&&(de=me.id(),w[de]||(w[de]=!0,g.push({x:W,y:fe,edge:me})),fe in s?s[W].low=Math.min(s[W].low,s[fe].id):(P(U,fe,W),s[W].low=Math.min(s[W].low,s[fe].low),s[W].id<=s[fe].low&&(s[W].cutVertex=!0,function(U,W){for(var z=g.length-1,Z=[],q=i.spawn();g[z].x!=U||g[z].y!=W;)Z.push(g.pop().edge),z--;Z.push(g.pop().edge),Z.forEach(function(re){var fe=re.connectedNodes().intersection(i);q.merge(re),fe.forEach(function(de){var me=de.id(),Ie=de.connectedEdges().intersection(i);q.merge(de),q.merge(s[me].cutVertex?Ie.filter(function(Ae){return Ae.isLoop()}):Ie)})}),p.push(q)}(W,fe))))})};i.forEach(function(P){if(P.isNode()){var U=P.id();U in s||(d=0,E(U,U),s[U].cutVertex=d>1)}});var M=Object.keys(s).filter(function(P){return s[P].cutVertex}).map(function(P){return i.getElementById(P)});return{cut:i.spawn(M),components:p}},Wo=function(){var i=this,s={},f=0,d=[],p=[],g=i.spawn(i),w=function D(E){if(p.push(E),s[E]={index:f,low:f++,explored:!1},i.getElementById(E).connectedEdges().intersection(i).forEach(function(Z){var q=Z.target().id();q!==E&&(q in s||D(q),s[q].explored||(s[E].low=Math.min(s[E].low,s[q].low)))}),s[E].index===s[E].low){for(var P=i.spawn();;){var U=p.pop();if(P.merge(i.getElementById(U)),s[U].low=s[E].index,s[U].explored=!0,U===E)break}var W=P.edgesWith(P),z=P.merge(W);d.push(z),g=g.difference(z)}};return i.forEach(function(D){if(D.isNode()){var E=D.id();E in s||w(E)}}),{cut:g,components:d}},ro={};[Fe,Ze,Zt,Ft,Nn,wr,Dn,Os,ya,gn,sn,Lf,Si,Mr,Mc,rn,{hopcroftTarjanBiconnected:Rn,htbc:Rn,htb:Rn,hopcroftTarjanBiconnectedComponents:Rn},{tarjanStronglyConnected:Wo,tsc:Wo,tscc:Wo,tarjanStronglyConnectedComponents:Wo}].forEach(function(l){En(ro,l)});var jo=function l(i){if(!(this instanceof l))return new l(i);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof i&&i.call(this,this.fulfill.bind(this),this.reject.bind(this))};jo.prototype={fulfill:function(i){return Vn(this,1,"fulfillValue",i)},reject:function(i){return Vn(this,2,"rejectReason",i)},then:function(i,s){var f=this,d=new jo;return f.onFulfilled.push(Kl(i,d,"fulfill")),f.onRejected.push(Kl(s,d,"reject")),Hu(f),d.proxy}};var Vn=function(i,s,f,d){return 0===i.state&&(i.state=s,i[f]=d,Hu(i)),i},Hu=function(i){1===i.state?Nd(i,"onFulfilled",i.fulfillValue):2===i.state&&Nd(i,"onRejected",i.rejectReason)},Nd=function(i,s,f){if(0!==i[s].length){var d=i[s];i[s]=[];var p=function(){for(var w=0;w<d.length;w++)d[w](f)};"function"==typeof setImmediate?setImmediate(p):setTimeout(p,0)}},Kl=function(i,s,f){return function(d){if("function"!=typeof i)s[f].call(s,d);else{var p;try{p=i(d)}catch(g){return void s.reject(g)}Mi(s,p)}}},Mi=function l(i,s){if(i!==s&&i.proxy!==s){var f;if("object"===H(s)&&null!==s||"function"==typeof s)try{f=s.then}catch(p){return void i.reject(p)}if("function"!=typeof f)i.fulfill(s);else{var d=!1;try{f.call(s,function(p){d||(d=!0,p===s?i.reject(new TypeError("circular thenable chain")):l(i,p))},function(p){d||(d=!0,i.reject(p))})}catch(p){d||i.reject(p)}}}else i.reject(new TypeError("cannot resolve promise with itself"))};jo.all=function(l){return new jo(function(i,s){for(var f=new Array(l.length),d=0,p=function(D,E){f[D]=E,++d===l.length&&i(f)},g=0;g<l.length;g++)!function(w){var D=l[w];null!=D&&null!=D.then?D.then(function(P){p(w,P)},function(P){s(P)}):p(w,D)}(g)})},jo.resolve=function(l){return new jo(function(i,s){i(l)})},jo.reject=function(l){return new jo(function(i,s){s(l)})};var Ya=typeof Promise<"u"?Promise:jo,La=function(i,s,f){var d=nt(i),p=!d,g=this._private=En({duration:1e3},s,f);if(g.target=i,g.style=g.style||g.css,g.started=!1,g.playing=!1,g.hooked=!1,g.applying=!1,g.progress=0,g.completes=[],g.frames=[],g.complete&&et(g.complete)&&g.completes.push(g.complete),p){var w=i.position();g.startPosition=g.startPosition||{x:w.x,y:w.y},g.startStyle=g.startStyle||i.cy().style().getAnimationStartStyle(i,g.style)}if(d){var D=i.pan();g.startPan={x:D.x,y:D.y},g.startZoom=i.zoom()}this.length=1,this[0]=this},ji=La.prototype;En(ji,{instanceString:function(){return"animation"},hook:function(){var i=this._private;if(!i.hooked){var f=i.target._private.animation;(i.queue?f.queue:f.current).push(this),Ut(i.target)&&i.target.cy().addToAnimationPool(i.target),i.hooked=!0}return this},play:function(){var i=this._private;return 1===i.progress&&(i.progress=0),i.playing=!0,i.started=!1,i.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var i=this._private;return i.applying=!0,i.started=!1,i.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var i=this._private;return i.playing=!1,i.started=!1,this},stop:function(){var i=this._private;return i.playing=!1,i.started=!1,i.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(i){var s=this._private;return void 0===i?s.progress*s.duration:this.progress(i/s.duration)},progress:function(i){var s=this._private,f=s.playing;return void 0===i?s.progress:(f&&this.pause(),s.progress=i,s.started=!1,f&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var i=this._private,s=i.playing;s&&this.pause(),i.progress=1-i.progress,i.started=!1;var f=function(E,M){var P=i[E];null!=P&&(i[E]=i[M],i[M]=P)};if(f("zoom","startZoom"),f("pan","startPan"),f("position","startPosition"),i.style)for(var d=0;d<i.style.length;d++){var p=i.style[d],g=p.name,w=i.startStyle[g];i.startStyle[g]=p,i.style[d]=w}return s&&this.play(),this},promise:function(i){var f,s=this._private;return f="frame"===i?s.frames:s.completes,new Ya(function(d,p){f.push(function(){d()})})}}),ji.complete=ji.completed,ji.run=ji.play,ji.running=ji.playing;var Ac={data:function(i){return i=En({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(d){},beforeSet:function(d,p){},onSet:function(d){},canSet:function(d){return!0}},i),function(d,p){var g=i,w=this,D=void 0!==w.length,E=D?w:[w],M=D?w[0]:w;if(_e(d)){var W,U=-1!==d.indexOf(".")&&F.default(d);if(g.allowGetting&&void 0===p)return M&&(g.beforeGet(M),W=U&&void 0===M._private[g.field][d]?B.default(M._private[g.field],U):M._private[g.field][d]),W;if(g.allowSetting&&void 0!==p&&!g.immutableKeys[d]){var Z=ne({},d,p);g.beforeSet(w,Z);for(var q=0,re=E.length;q<re;q++){var fe=E[q];g.canSet(fe)&&(U&&void 0===M._private[g.field][d]?k.default(fe._private[g.field],U,p):fe._private[g.field][d]=p)}g.updateStyle&&w.updateStyle(),g.onSet(w),g.settingTriggersEvent&&w[g.triggerFnName](g.settingEvent)}}else if(g.allowSetting&&Xe(d)){var me,Ie,de=d,Ae=Object.keys(de);g.beforeSet(w,de);for(var ye=0;ye<Ae.length;ye++)if(Ie=de[me=Ae[ye]],!g.immutableKeys[me])for(var be=0;be<E.length;be++){var Le=E[be];g.canSet(Le)&&(Le._private[g.field][me]=Ie)}g.updateStyle&&w.updateStyle(),g.onSet(w),g.settingTriggersEvent&&w[g.triggerFnName](g.settingEvent)}else if(g.allowBinding&&et(d))w.on(g.bindingEvent,d);else if(g.allowGetting&&void 0===d){var Ee;return M&&(g.beforeGet(M),Ee=M._private[g.field]),Ee}return w}},removeData:function(i){return i=En({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},i),function(d){var p=i,g=this,D=void 0!==g.length?g:[g];if(_e(d)){for(var E=d.split(/\s+/),M=E.length,P=0;P<M;P++){var U=E[P];if(!Lt(U)&&!p.immutableKeys[U])for(var z=0,Z=D.length;z<Z;z++)D[z]._private[p.field][U]=void 0}p.triggerEvent&&g[p.triggerFnName](p.event)}else if(void 0===d){for(var q=0,re=D.length;q<re;q++)for(var fe=D[q]._private[p.field],de=Object.keys(fe),me=0;me<de.length;me++){var Ie=de[me];!p.immutableKeys[Ie]&&(fe[Ie]=void 0)}p.triggerEvent&&g[p.triggerFnName](p.event)}return g}}},qs={eventAliasesOn:function(i){var s=i;s.addListener=s.listen=s.bind=s.on,s.unlisten=s.unbind=s.off=s.removeListener,s.trigger=s.emit,s.pon=s.promiseOn=function(f,d){var p=this,g=Array.prototype.slice.call(arguments,0);return new Ya(function(w,D){var M=g.concat([function(W){p.off.apply(p,P),w(W)}]),P=M.concat([]);p.on.apply(p,M)})}}},Jn={};[{animated:function(){return function(){var s=this,d=void 0!==s.length?s:[s];if(!(this._private.cy||this).styleEnabled())return!1;var g=d[0];return g?g._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var s=this,d=void 0!==s.length?s:[s];if(!(this._private.cy||this).styleEnabled())return this;for(var g=0;g<d.length;g++)d[g]._private.animation.queue=[];return this}},delay:function(){return function(s,f){return(this._private.cy||this).styleEnabled()?this.animate({delay:s,duration:s,complete:f}):this}},delayAnimation:function(){return function(s,f){return(this._private.cy||this).styleEnabled()?this.animation({delay:s,duration:s,complete:f}):this}},animation:function(){return function(s,f){var d=this,p=void 0!==d.length,g=p?d:[d],w=this._private.cy||this,D=!p,E=!D;if(!w.styleEnabled())return this;var M=w.style();if(s=En({},s,f),0===Object.keys(s).length)return new La(g[0],s);switch(void 0===s.duration&&(s.duration=400),s.duration){case"slow":s.duration=600;break;case"fast":s.duration=200}if(E&&(s.style=M.getPropsList(s.style||s.css),s.css=void 0),E&&null!=s.renderedPosition){var U=s.renderedPosition,W=w.pan(),z=w.zoom();s.position=Jr(U,z,W)}if(D&&null!=s.panBy){var Z=s.panBy,q=w.pan();s.pan={x:q.x+Z.x,y:q.y+Z.y}}var re=s.center||s.centre;if(D&&null!=re){var fe=w.getCenterPan(re.eles,s.zoom);null!=fe&&(s.pan=fe)}if(D&&null!=s.fit){var de=s.fit,me=w.getFitViewport(de.eles||de.boundingBox,de.padding);null!=me&&(s.pan=me.pan,s.zoom=me.zoom)}if(D&&Xe(s.zoom)){var Ie=w.getZoomedViewport(s.zoom);null!=Ie?(Ie.zoomed&&(s.zoom=Ie.zoom),Ie.panned&&(s.pan=Ie.pan)):s.zoom=null}return new La(g[0],s)}},animate:function(){return function(s,f){var d=this,g=void 0!==d.length?d:[d];if(!(this._private.cy||this).styleEnabled())return this;f&&(s=En({},s,f));for(var D=0;D<g.length;D++){var E=g[D],M=E.animated()&&(void 0===s.queue||s.queue);E.animation(s,M?{queue:!0}:void 0).play()}return this}},stop:function(){return function(s,f){var d=this,g=void 0!==d.length?d:[d],w=this._private.cy||this;if(!w.styleEnabled())return this;for(var D=0;D<g.length;D++){for(var M=g[D]._private,P=M.animation.current,U=0;U<P.length;U++)f&&(P[U]._private.duration=0);s&&(M.animation.queue=[]),f||(M.animation.current=[])}return w.notify("draw"),this}}},Ac,qs].forEach(function(l){En(Jn,l)});var Nc={animate:Jn.animate(),animation:Jn.animation(),animated:Jn.animated(),clearQueue:Jn.clearQueue(),delay:Jn.delay(),delayAnimation:Jn.delayAnimation(),stop:Jn.stop()},Pa={classes:function(i){var s=this;if(void 0===i){var f=[];return s[0]._private.classes.forEach(function(z){return f.push(z)}),f}at(i)||(i=(i||"").match(/\S+/g)||[]);for(var d=[],p=new cs(i),g=0;g<s.length;g++){for(var w=s[g],D=w._private,E=D.classes,M=!1,P=0;P<i.length;P++)if(!E.has(i[P])){M=!0;break}M||(M=E.size!==i.length),M&&(D.classes=p,d.push(w))}return d.length>0&&this.spawn(d).updateStyle().emit("class"),s},addClass:function(i){return this.toggleClass(i,!0)},hasClass:function(i){var s=this[0];return null!=s&&s._private.classes.has(i)},toggleClass:function(i,s){at(i)||(i=i.match(/\S+/g)||[]);for(var f=this,d=void 0===s,p=[],g=0,w=f.length;g<w;g++)for(var D=f[g],E=D._private.classes,M=!1,P=0;P<i.length;P++){var U=i[P],W=E.has(U),z=!1;s||d&&!W?(E.add(U),z=!0):(!s||d&&W)&&(E.delete(U),z=!0),!M&&z&&(p.push(D),M=!0)}return p.length>0&&this.spawn(p).updateStyle().emit("class"),f},removeClass:function(i){return this.toggleClass(i,!1)},flashClass:function(i,s){var f=this;if(null==s)s=250;else if(0===s)return f;return f.addClass(i),setTimeout(function(){f.removeClass(i)},s),f}};Pa.className=Pa.classNames=Pa.classes;var on={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:nn,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};on.variable="(?:[\\w-.]|(?:\\\\"+on.metaChar+"))+",on.className="(?:[\\w-]|(?:\\\\"+on.metaChar+"))+",on.value=on.string+"|"+on.number,on.id=on.variable,function(){var l,i,s;for(l=on.comparatorOp.split("|"),s=0;s<l.length;s++)on.comparatorOp+="|@"+(i=l[s]);for(l=on.comparatorOp.split("|"),s=0;s<l.length;s++)!((i=l[s]).indexOf("!")>=0)&&"="!==i&&(on.comparatorOp+="|\\!"+i)}();var Qs=[{selector:":selected",matches:function(i){return i.selected()}},{selector:":unselected",matches:function(i){return!i.selected()}},{selector:":selectable",matches:function(i){return i.selectable()}},{selector:":unselectable",matches:function(i){return!i.selectable()}},{selector:":locked",matches:function(i){return i.locked()}},{selector:":unlocked",matches:function(i){return!i.locked()}},{selector:":visible",matches:function(i){return i.visible()}},{selector:":hidden",matches:function(i){return!i.visible()}},{selector:":transparent",matches:function(i){return i.transparent()}},{selector:":grabbed",matches:function(i){return i.grabbed()}},{selector:":free",matches:function(i){return!i.grabbed()}},{selector:":removed",matches:function(i){return i.removed()}},{selector:":inside",matches:function(i){return!i.removed()}},{selector:":grabbable",matches:function(i){return i.grabbable()}},{selector:":ungrabbable",matches:function(i){return!i.grabbable()}},{selector:":animated",matches:function(i){return i.animated()}},{selector:":unanimated",matches:function(i){return!i.animated()}},{selector:":parent",matches:function(i){return i.isParent()}},{selector:":childless",matches:function(i){return i.isChildless()}},{selector:":child",matches:function(i){return i.isChild()}},{selector:":orphan",matches:function(i){return i.isOrphan()}},{selector:":nonorphan",matches:function(i){return i.isChild()}},{selector:":compound",matches:function(i){return i.isNode()?i.isParent():i.source().isParent()||i.target().isParent()}},{selector:":loop",matches:function(i){return i.isLoop()}},{selector:":simple",matches:function(i){return i.isSimple()}},{selector:":active",matches:function(i){return i.active()}},{selector:":inactive",matches:function(i){return!i.active()}},{selector:":backgrounding",matches:function(i){return i.backgrounding()}},{selector:":nonbackgrounding",matches:function(i){return!i.backgrounding()}}].sort(function(l,i){return function(i,s){return-1*Ta(i,s)}(l.selector,i.selector)}),gs=function(){for(var i,l={},s=0;s<Qs.length;s++)l[(i=Qs[s]).selector]=i.matches;return l}(),Zl="("+Qs.map(function(l){return l.selector}).join("|")+")",Ls=function(i){return i.replace(new RegExp("\\\\("+on.metaChar+")","g"),function(s,f){return f})},jr=function(i,s,f){i[i.length-1]=f},El=[{name:"group",query:!0,regex:"("+on.group+")",populate:function(i,s,f){var p=le(f,1)[0];s.checks.push({type:0,value:"*"===p?p:p+"s"})}},{name:"state",query:!0,regex:Zl,populate:function(i,s,f){var d=le(f,1);s.checks.push({type:7,value:d[0]})}},{name:"id",query:!0,regex:"\\#("+on.id+")",populate:function(i,s,f){var d=le(f,1);s.checks.push({type:8,value:Ls(d[0])})}},{name:"className",query:!0,regex:"\\.("+on.className+")",populate:function(i,s,f){var d=le(f,1);s.checks.push({type:9,value:Ls(d[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+on.variable+")\\s*\\]",populate:function(i,s,f){var d=le(f,1);s.checks.push({type:4,field:Ls(d[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+on.variable+")\\s*("+on.comparatorOp+")\\s*("+on.value+")\\s*\\]",populate:function(i,s,f){var d=le(f,3),p=d[0],g=d[1],w=d[2];w=null!=new RegExp("^"+on.string+"$").exec(w)?w.substring(1,w.length-1):parseFloat(w),s.checks.push({type:3,field:Ls(p),operator:g,value:w})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+on.boolOp+")\\s*("+on.variable+")\\s*\\]",populate:function(i,s,f){var d=le(f,2),p=d[0];s.checks.push({type:5,field:Ls(d[1]),operator:p})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+on.meta+")\\s*("+on.comparatorOp+")\\s*("+on.number+")\\s*\\]\\]",populate:function(i,s,f){var d=le(f,3),g=d[1],w=d[2];s.checks.push({type:6,field:Ls(d[0]),operator:g,value:parseFloat(w)})}},{name:"nextQuery",separator:!0,regex:on.separator,populate:function(i,s){var f=i.currentSubject,d=i.edgeCount,p=i.compoundCount,g=i[i.length-1];return null!=f&&(g.subject=f,i.currentSubject=null),g.edgeCount=d,g.compoundCount=p,i.edgeCount=0,i.compoundCount=0,i[i.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:on.directedEdge,populate:function(i,s){if(null==i.currentSubject){var f={checks:[]},p={checks:[]};return f.checks.push({type:11,source:s,target:p}),jr(i,0,f),i.edgeCount++,p}var g={checks:[]},D={checks:[]};return g.checks.push({type:12,source:s,target:D}),jr(i,0,g),i.edgeCount++,D}},{name:"undirectedEdge",separator:!0,regex:on.undirectedEdge,populate:function(i,s){if(null==i.currentSubject){var f={checks:[]},p={checks:[]};return f.checks.push({type:10,nodes:[s,p]}),jr(i,0,f),i.edgeCount++,p}var g={checks:[]},D={checks:[]};return g.checks.push({type:14,node:s,neighbor:D}),jr(i,0,g),D}},{name:"child",separator:!0,regex:on.child,populate:function(i,s){if(null==i.currentSubject){var f={checks:[]},d={checks:[]};return f.checks.push({type:15,parent:i[i.length-1],child:d}),jr(i,0,f),i.compoundCount++,d}if(i.currentSubject===s){var g={checks:[]},D={checks:[]},E={checks:[]},M={checks:[]},P={checks:[]};return g.checks.push({type:19,left:i[i.length-1],right:D,subject:E}),E.checks=s.checks,s.checks=[{type:20}],P.checks.push({type:20}),D.checks.push({type:17,parent:P,child:M}),jr(i,0,g),i.currentSubject=E,i.compoundCount++,M}var U={checks:[]},W={checks:[]},z=[{type:17,parent:U,child:W}];return U.checks=s.checks,s.checks=z,i.compoundCount++,W}},{name:"descendant",separator:!0,regex:on.descendant,populate:function(i,s){if(null==i.currentSubject){var f={checks:[]},d={checks:[]};return f.checks.push({type:16,ancestor:i[i.length-1],descendant:d}),jr(i,0,f),i.compoundCount++,d}if(i.currentSubject===s){var g={checks:[]},D={checks:[]},E={checks:[]},M={checks:[]},P={checks:[]};return g.checks.push({type:19,left:i[i.length-1],right:D,subject:E}),E.checks=s.checks,s.checks=[{type:20}],P.checks.push({type:20}),D.checks.push({type:18,ancestor:P,descendant:M}),jr(i,0,g),i.currentSubject=E,i.compoundCount++,M}var U={checks:[]},W={checks:[]},z=[{type:18,ancestor:U,descendant:W}];return U.checks=s.checks,s.checks=z,i.compoundCount++,W}},{name:"subject",modifier:!0,regex:on.subject,populate:function(i,s){if(null!=i.currentSubject&&i.currentSubject!==s)return mr("Redefinition of subject in selector `"+i.toString()+"`"),!1;i.currentSubject=s;var d=i[i.length-1].checks[0],p=null==d?null:d.type;11===p?d.type=13:10===p&&(d.type=14,d.node=d.nodes[1],d.neighbor=d.nodes[0],d.nodes=null)}}];El.forEach(function(l){return l.regexObj=new RegExp("^"+l.regex)});var ka=function(i){for(var s,f,d,p=0;p<El.length;p++){var g=El[p],w=g.name,D=i.match(g.regexObj);if(null!=D){f=D,s=g,d=w,i=i.substring(D[0].length);break}}return{expr:s,match:f,name:d,remaining:i}},Hf={parse:function(i){var s=this,f=s.inputText=i,d=s[0]={checks:[]};for(s.length=1,f=function(i){var s=i.match(/^\s+/);return s&&(i=i.substring(s[0].length)),i}(f);;){var p=ka(f);if(null==p.expr)return mr("The selector `"+i+"`is invalid"),!1;var g=p.match.slice(1),w=p.expr.populate(s,d,g);if(!1===w)return!1;if(null!=w&&(d=w),(f=p.remaining).match(/^\s*$/))break}var D=s[s.length-1];null!=s.currentSubject&&(D.subject=s.currentSubject),D.edgeCount=s.edgeCount,D.compoundCount=s.compoundCount;for(var E=0;E<s.length;E++){var M=s[E];if(M.compoundCount>0&&M.edgeCount>0)return mr("The selector `"+i+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(M.edgeCount>1)return mr("The selector `"+i+"` is invalid because it uses multiple edge selectors"),!1;1===M.edgeCount&&mr("The selector `"+i+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var i=function(M){return M??""},s=function(M){return _e(M)?'"'+M+'"':i(M)},f=function(M){return" "+M+" "},p=function(M,P){return M.checks.reduce(function(U,W,z){return U+(P===M&&0===z?"$":"")+function(M,P){var W=M.value;switch(M.type){case 0:var z=i(W);return z.substring(0,z.length-1);case 3:return"["+M.field+f(i(M.operator))+s(W)+"]";case 5:var fe=M.field;return"["+i(M.operator)+fe+"]";case 4:return"["+M.field+"]";case 6:return"[["+M.field+f(i(M.operator))+s(W)+"]]";case 7:return W;case 8:return"#"+W;case 9:return"."+W;case 17:case 15:return p(M.parent,P)+f(">")+p(M.child,P);case 18:case 16:return p(M.ancestor,P)+" "+p(M.descendant,P);case 19:var Ae=p(M.left,P),ye=p(M.subject,P),Me=p(M.right,P);return Ae+(Ae.length>0?" ":"")+ye+Me;case 20:return""}}(W,P)},"")},g="",w=0;w<this.length;w++){var D=this[w];g+=p(D,D.subject),this.length>1&&w<this.length-1&&(g+=", ")}return this.toStringCache=g,g}},Xa=function(i,s,f){var d,D,E,p=_e(i),g=$e(i),w=_e(f),M=!1,P=!1,U=!1;switch(s.indexOf("!")>=0&&(s=s.replace("!",""),P=!0),s.indexOf("@")>=0&&(s=s.replace("@",""),M=!0),(p||w||M)&&(D=p||g?""+i:"",E=""+f),M&&(i=D=D.toLowerCase(),f=E=E.toLowerCase()),s){case"*=":d=D.indexOf(E)>=0;break;case"$=":d=D.indexOf(E,D.length-E.length)>=0;break;case"^=":d=0===D.indexOf(E);break;case"=":d=i===f;break;case">":U=!0,d=i>f;break;case">=":U=!0,d=i>=f;break;case"<":U=!0,d=i<f;break;case"<=":U=!0,d=i<=f;break;default:d=!1}return P&&(null!=i||!U)&&(d=!d),d},wo=function(i,s){return i.data(s)},ni=[],ii=function(i,s){return i.checks.every(function(f){return ni[f.type](f,s)})};ni[0]=function(l,i){var s=l.value;return"*"===s||s===i.group()},ni[7]=function(l,i){return function(i,s){return gs[i](s)}(l.value,i)},ni[8]=function(l,i){var s=l.value;return i.id()===s},ni[9]=function(l,i){return i.hasClass(l.value)},ni[6]=function(l,i){var f=l.operator,d=l.value;return Xa(function(i,s){return i[s]()}(i,l.field),f,d)},ni[3]=function(l,i){var f=l.operator,d=l.value;return Xa(wo(i,l.field),f,d)},ni[5]=function(l,i){var f=l.operator;return function(i,s){switch(s){case"?":return!!i;case"!":return!i;case"^":return void 0===i}}(wo(i,l.field),f)},ni[4]=function(l,i){return function(i){return void 0!==i}(wo(i,l.field))},ni[10]=function(l,i){var s=l.nodes[0],f=l.nodes[1],d=i.source(),p=i.target();return ii(s,d)&&ii(f,p)||ii(f,d)&&ii(s,p)},ni[14]=function(l,i){return ii(l.node,i)&&i.neighborhood().some(function(s){return s.isNode()&&ii(l.neighbor,s)})},ni[11]=function(l,i){return ii(l.source,i.source())&&ii(l.target,i.target())},ni[12]=function(l,i){return ii(l.source,i)&&i.outgoers().some(function(s){return s.isNode()&&ii(l.target,s)})},ni[13]=function(l,i){return ii(l.target,i)&&i.incomers().some(function(s){return s.isNode()&&ii(l.source,s)})},ni[15]=function(l,i){return ii(l.child,i)&&ii(l.parent,i.parent())},ni[17]=function(l,i){return ii(l.parent,i)&&i.children().some(function(s){return ii(l.child,s)})},ni[16]=function(l,i){return ii(l.descendant,i)&&i.ancestors().some(function(s){return ii(l.ancestor,s)})},ni[18]=function(l,i){return ii(l.ancestor,i)&&i.descendants().some(function(s){return ii(l.descendant,s)})},ni[19]=function(l,i){return ii(l.subject,i)&&ii(l.left,i)&&ii(l.right,i)},ni[20]=function(){return!0},ni[1]=function(l,i){return l.value.has(i)},ni[2]=function(l,i){return(0,l.value)(i)};var Fv={matches:function(i){for(var f=0;f<this.length;f++)if(ii(this[f],i))return!0;return!1},filter:function(i){var s=this;if(1===s.length&&1===s[0].checks.length&&8===s[0].checks[0].type)return i.getElementById(s[0].checks[0].value).collection();var f=function(p){for(var g=0;g<s.length;g++)if(ii(s[g],p))return!0;return!1};return null==s.text()&&(f=function(){return!0}),i.filter(f)}},Ql=function(i){this.inputText=i,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==i||_e(i)&&i.match(/^\s*$/)||(Ut(i)?this.addQuery({checks:[{type:1,value:i.collection()}]}):et(i)?this.addQuery({checks:[{type:2,value:i}]}):_e(i)?this.parse(i)||(this.invalid=!0):zr("A selector must be created from a string; found "))},Js=Ql.prototype;[Hf,Fv].forEach(function(l){return En(Js,l)}),Js.text=function(){return this.inputText},Js.size=function(){return this.length},Js.eq=function(l){return this[l]},Js.sameText=function(l){return!this.invalid&&!l.invalid&&this.text()===l.text()},Js.addQuery=function(l){this[this.length++]=l},Js.selector=Js.toString;var Dl={allAre:function(i){var s=new Ql(i);return this.every(function(f){return s.matches(f)})},is:function(i){var s=new Ql(i);return this.some(function(f){return s.matches(f)})},some:function(i,s){for(var f=0;f<this.length;f++)if(s?i.apply(s,[this[f],f,this]):i(this[f],f,this))return!0;return!1},every:function(i,s){for(var f=0;f<this.length;f++)if(!(s?i.apply(s,[this[f],f,this]):i(this[f],f,this)))return!1;return!0},same:function(i){if(this===i)return!0;i=this.cy().collection(i);var s=this.length;return s===i.length&&(1===s?this[0]===i[0]:this.every(function(d){return i.hasElementWithId(d.id())}))},anySame:function(i){return i=this.cy().collection(i),this.some(function(s){return i.hasElementWithId(s.id())})},allAreNeighbors:function(i){i=this.cy().collection(i);var s=this.neighborhood();return i.every(function(f){return s.hasElementWithId(f.id())})},contains:function(i){i=this.cy().collection(i);var s=this;return i.every(function(f){return s.hasElementWithId(f.id())})}};Dl.allAreNeighbours=Dl.allAreNeighbors,Dl.has=Dl.contains,Dl.equal=Dl.equals=Dl.same;var xl,Gf,_a=function(i,s){return function(d,p,g,w){var M,D=d,E=this;if(null==D?M="":Ut(D)&&1===D.length&&(M=D.id()),1===E.length&&M){var P=E[0]._private,U=P.traversalCache=P.traversalCache||{},W=U[s]=U[s]||[],z=Ga(M);return W[z]||(W[z]=i.call(E,d,p,g,w))}return i.call(E,d,p,g,w)}},Rc={parent:function(i){var s=[];if(1===this.length){var f=this[0]._private.parent;if(f)return f}for(var d=0;d<this.length;d++){var g=this[d]._private.parent;g&&s.push(g)}return this.spawn(s,!0).filter(i)},parents:function(i){for(var s=[],f=this.parent();f.nonempty();){for(var d=0;d<f.length;d++)s.push(f[d]);f=f.parent()}return this.spawn(s,!0).filter(i)},commonAncestors:function(i){for(var s,f=0;f<this.length;f++){var p=this[f].parents();s=(s=s||p).intersect(p)}return s.filter(i)},orphans:function(i){return this.stdFilter(function(s){return s.isOrphan()}).filter(i)},nonorphans:function(i){return this.stdFilter(function(s){return s.isChild()}).filter(i)},children:_a(function(l){for(var i=[],s=0;s<this.length;s++)for(var d=this[s]._private.children,p=0;p<d.length;p++)i.push(d[p]);return this.spawn(i,!0).filter(l)},"children"),siblings:function(i){return this.parent().children().not(this).filter(i)},isParent:function(){var i=this[0];if(i)return i.isNode()&&0!==i._private.children.length},isChildless:function(){var i=this[0];if(i)return i.isNode()&&0===i._private.children.length},isChild:function(){var i=this[0];if(i)return i.isNode()&&null!=i._private.parent},isOrphan:function(){var i=this[0];if(i)return i.isNode()&&null==i._private.parent},descendants:function(i){var s=[];return function f(d){for(var p=0;p<d.length;p++){var g=d[p];s.push(g),g.children().nonempty()&&f(g.children())}}(this.children()),this.spawn(s,!0).filter(i)}};function Uf(l,i,s,f){for(var d=[],p=new cs,w=l.cy().hasCompoundNodes(),D=0;D<l.length;D++){var E=l[D];s?d.push(E):w&&f(d,p,E)}for(;d.length>0;){var M=d.shift();i(M),p.add(M.id()),w&&f(d,p,M)}return l}function Ld(l,i,s){if(s.isParent())for(var f=s._private.children,d=0;d<f.length;d++){var p=f[d];i.has(p.id())||l.push(p)}}function Ph(l,i,s){if(s.isChild()){var f=s._private.parent;i.has(f.id())||l.push(f)}}function Kp(l,i,s){Ph(l,i,s),Ld(l,i,s)}Rc.forEachDown=function(l){return Uf(this,l,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Ld)},Rc.forEachUp=function(l){return Uf(this,l,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Ph)},Rc.forEachUpAndDown=function(l){return Uf(this,l,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Kp)},Rc.ancestors=Rc.parents,xl=Gf={data:Jn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Jn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Jn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Jn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Jn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Jn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var i=this[0];if(i)return i._private.data.id}},xl.attr=xl.data,xl.removeAttr=xl.removeData;var zf=Gf,Pd={};function Lc(l){return function(i){var s=this;if(void 0===i&&(i=!0),0===s.length);else if(s.isNode()&&!s.removed()){for(var f=0,d=s[0],p=d._private.edges,g=0;g<p.length;g++){var w=p[g];!i&&w.isLoop()||(f+=l(d,w))}return f}}}function $i(l,i){return function(s){for(var f,d=this.nodes(),p=0;p<d.length;p++){var w=d[p][l](s);void 0!==w&&(void 0===f||i(w,f))&&(f=w)}return f}}En(Pd,{degree:Lc(function(l,i){return i.source().same(i.target())?2:1}),indegree:Lc(function(l,i){return i.target().same(l)?1:0}),outdegree:Lc(function(l,i){return i.source().same(l)?1:0})}),En(Pd,{minDegree:$i("degree",function(l,i){return l<i}),maxDegree:$i("degree",function(l,i){return l>i}),minIndegree:$i("indegree",function(l,i){return l<i}),maxIndegree:$i("indegree",function(l,i){return l>i}),minOutdegree:$i("outdegree",function(l,i){return l<i}),maxOutdegree:$i("outdegree",function(l,i){return l>i})}),En(Pd,{totalDegree:function(i){for(var s=0,f=this.nodes(),d=0;d<f.length;d++)s+=f[d].degree(i);return s}});var Fa,Zp,Pc=function(i,s,f){for(var d=0;d<i.length;d++){var p=i[d];if(!p.locked()){var g=p._private.position,w={x:null!=s.x?s.x-g.x:0,y:null!=s.y?s.y-g.y:0};p.isParent()&&!(0===w.x&&0===w.y)&&p.children().shift(w,f),p.dirtyBoundingBoxCache()}}},ra={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(i){i.updateCompoundBounds()},beforeSet:function(i,s){Pc(i,s,!1)},onSet:function(i){i.dirtyCompoundBoundsCache()},canSet:function(i){return!i.locked()}};Fa=Zp={position:Jn.data(ra),silentPosition:Jn.data(En({},ra,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(i,s){Pc(i,s,!0)},onSet:function(i){i.dirtyCompoundBoundsCache()}})),positions:function(i,s){if(Xe(i))s?this.silentPosition(i):this.position(i);else if(et(i)){var f=i,d=this.cy();d.startBatch();for(var p=0;p<this.length;p++){var w,g=this[p];(w=f(g,p))&&(s?g.silentPosition(w):g.position(w))}d.endBatch()}return this},silentPositions:function(i){return this.positions(i,!0)},shift:function(i,s,f){var d;if(Xe(i)?(d={x:$e(i.x)?i.x:0,y:$e(i.y)?i.y:0},f=s):_e(i)&&$e(s)&&((d={x:0,y:0})[i]=s),null!=d){var p=this.cy();p.startBatch();for(var g=0;g<this.length;g++){var w=this[g];if(!(p.hasCompoundNodes()&&w.isChild()&&w.ancestors().anySame(this))){var D=w.position(),E={x:D.x+d.x,y:D.y+d.y};f?w.silentPosition(E):w.position(E)}}p.endBatch()}return this},silentShift:function(i,s){return Xe(i)?this.shift(i,!0):_e(i)&&$e(s)&&this.shift(i,s,!0),this},renderedPosition:function(i,s){var f=this[0],d=this.cy(),p=d.zoom(),g=d.pan(),w=Xe(i)?i:void 0,D=void 0!==w||void 0!==s&&_e(i);if(f&&f.isNode()){if(!D){var P=f.position();return w=Sr(P,p,g),void 0===i?w:w[i]}for(var E=0;E<this.length;E++){var M=this[E];void 0!==s?M.position(i,(s-g[i])/p):void 0!==w&&M.position(Jr(w,p,g))}}else if(!D)return;return this},relativePosition:function(i,s){var f=this[0],d=this.cy(),p=Xe(i)?i:void 0,g=void 0!==p||void 0!==s&&_e(i),w=d.hasCompoundNodes();if(f&&f.isNode()){if(!g){var z=f.position(),Z=w?f.parent():null,q=Z&&Z.length>0;q&&(Z=Z[0]);var fe=q?Z.position():{x:0,y:0};return p={x:z.x-fe.x,y:z.y-fe.y},void 0===i?p:p[i]}for(var D=0;D<this.length;D++){var E=this[D],M=w?E.parent():null,P=M&&M.length>0;P&&(M=M[0]);var W=P?M.position():{x:0,y:0};void 0!==s?E.position(i,s+W[i]):void 0!==p&&E.position({x:p.x+W.x,y:p.y+W.y})}}else if(!g)return;return this}},Fa.modelPosition=Fa.point=Fa.position,Fa.modelPositions=Fa.points=Fa.positions,Fa.renderedPoint=Fa.renderedPosition,Fa.relativePoint=Fa.relativePosition;var Yo,ia,Pr=Zp;Yo=ia={},ia.renderedBoundingBox=function(l){var i=this.boundingBox(l),s=this.cy(),f=s.zoom(),d=s.pan(),p=i.x1*f+d.x,g=i.x2*f+d.x,w=i.y1*f+d.y,D=i.y2*f+d.y;return{x1:p,x2:g,y1:w,y2:D,w:g-p,h:D-w}},ia.dirtyCompoundBoundsCache=function(){var l=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.cy();return i.styleEnabled()&&i.hasCompoundNodes()?(this.forEachUp(function(s){if(s.isParent()){var f=s._private;f.compoundBoundsClean=!1,f.bbCache=null,l||s.emitAndNotify("bounds")}}),this):this},ia.updateCompoundBounds=function(){var l=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.cy();if(!i.styleEnabled()||!i.hasCompoundNodes())return this;if(!l&&i.batching())return this;function s(g){if(g.isParent()){var w=g._private,D=g.children(),E="include"===g.pstyle("compound-sizing-wrt-labels").value,M={width:{val:g.pstyle("min-width").pfValue,left:g.pstyle("min-width-bias-left"),right:g.pstyle("min-width-bias-right")},height:{val:g.pstyle("min-height").pfValue,top:g.pstyle("min-height-bias-top"),bottom:g.pstyle("min-height-bias-bottom")}},P=D.boundingBox({includeLabels:E,includeOverlays:!1,useCache:!1}),U=w.position;(0===P.w||0===P.h)&&((P={w:g.pstyle("width").pfValue,h:g.pstyle("height").pfValue}).x1=U.x-P.w/2,P.x2=U.x+P.w/2,P.y1=U.y-P.h/2,P.y2=U.y+P.h/2);var Z=M.width.left.value;"px"===M.width.left.units&&M.width.val>0&&(Z=100*Z/M.width.val);var q=M.width.right.value;"px"===M.width.right.units&&M.width.val>0&&(q=100*q/M.width.val);var re=M.height.top.value;"px"===M.height.top.units&&M.height.val>0&&(re=100*re/M.height.val);var fe=M.height.bottom.value;"px"===M.height.bottom.units&&M.height.val>0&&(fe=100*fe/M.height.val);var de=W(M.width.val-P.w,Z,q),me=de.biasDiff,Ie=de.biasComplementDiff,Ae=W(M.height.val-P.h,re,fe),ye=Ae.biasDiff,Me=Ae.biasComplementDiff;w.autoPadding=function z(be,Le,Pe,Ee){if("%"!==Pe.units)return"px"===Pe.units?Pe.pfValue:0;switch(Ee){case"width":return be>0?Pe.pfValue*be:0;case"height":return Le>0?Pe.pfValue*Le:0;case"average":return be>0&&Le>0?Pe.pfValue*(be+Le)/2:0;case"min":return be>0&&Le>0?be>Le?Pe.pfValue*Le:Pe.pfValue*be:0;case"max":return be>0&&Le>0?be>Le?Pe.pfValue*be:Pe.pfValue*Le:0;default:return 0}}(P.w,P.h,g.pstyle("padding"),g.pstyle("padding-relative-to").value),w.autoWidth=Math.max(P.w,M.width.val),U.x=(-me+P.x1+P.x2+Ie)/2,w.autoHeight=Math.max(P.h,M.height.val),U.y=(-ye+P.y1+P.y2+Me)/2}function W(be,Le,Pe){var Ee=0,Be=0,Oe=Le+Pe;return be>0&&Oe>0&&(Ee=Le/Oe*be,Be=Pe/Oe*be),{biasDiff:Ee,biasComplementDiff:Be}}}for(var f=0;f<this.length;f++){var d=this[f],p=d._private;(!p.compoundBoundsClean||l)&&(s(d),i.batching()||(p.compoundBoundsClean=!0))}return this};var Eo=function(i){return i===1/0||i===-1/0?0:i},Ka=function(i,s,f,d,p){d-s==0||p-f==0||null==s||null==f||null==d||null==p||(i.x1=s<i.x1?s:i.x1,i.x2=d>i.x2?d:i.x2,i.y1=f<i.y1?f:i.y1,i.y2=p>i.y2?p:i.y2,i.w=i.x2-i.x1,i.h=i.y2-i.y1)},Do=function(i,s){return null==s?i:Ka(i,s.x1,s.y1,s.x2,s.y2)},el=function(i,s,f){return Pi(i,s,f)},_i=function(i,s,f){if(!s.cy().headless()){var D,E,d=s._private,p=d.rstyle,g=p.arrowWidth/2;if("none"!==s.pstyle(f+"-arrow-shape").value){"source"===f?(D=p.srcX,E=p.srcY):"target"===f?(D=p.tgtX,E=p.tgtY):(D=p.midX,E=p.midY);var M=d.arrowBounds=d.arrowBounds||{},P=M[f]=M[f]||{};P.x1=D-g,P.y1=E-g,P.x2=D+g,P.y2=E+g,P.w=P.x2-P.x1,P.h=P.y2-P.y1,ga(P,1),Ka(i,P.x1,P.y1,P.x2,P.y2)}}},Uu=function(i,s,f){if(!s.cy().headless()){var d,p=s._private,g=p.rstyle;if(s.pstyle((d=f?f+"-":"")+"label").strValue){var Pe,Ee,Be,Oe,D=s.pstyle("text-halign"),E=s.pstyle("text-valign"),M=el(g,"labelWidth",f),P=el(g,"labelHeight",f),U=el(g,"labelX",f),W=el(g,"labelY",f),z=s.pstyle(d+"text-margin-x").pfValue,Z=s.pstyle(d+"text-margin-y").pfValue,q=s.isEdge(),re=s.pstyle(d+"text-rotation"),fe=s.pstyle("text-outline-width").pfValue,me=s.pstyle("text-border-width").pfValue/2,Ie=s.pstyle("text-background-padding").pfValue,ye=P,Me=M,be=Me/2,Le=ye/2;if(q)Pe=U-be,Ee=U+be,Be=W-Le,Oe=W+Le;else{switch(D.value){case"left":Pe=U-Me,Ee=U;break;case"center":Pe=U-be,Ee=U+be;break;case"right":Pe=U,Ee=U+Me}switch(E.value){case"top":Be=W-ye,Oe=W;break;case"center":Be=W-Le,Oe=W+Le;break;case"bottom":Be=W,Oe=W+ye}}Pe+=z-Math.max(fe,me)-Ie-2,Ee+=z+Math.max(fe,me)+Ie+2,Be+=Z-Math.max(fe,me)-Ie-2,Oe+=Z+Math.max(fe,me)+Ie+2;var Ye=f||"main",He=p.labelBounds,Ge=He[Ye]=He[Ye]||{};Ge.x1=Pe,Ge.y1=Be,Ge.x2=Ee,Ge.y2=Oe,Ge.w=Ee-Pe,Ge.h=Oe-Be;var qe=q&&"autorotate"===re.strValue;if(qe||null!=re.pfValue&&0!==re.pfValue){var ht=qe?el(p.rstyle,"labelAngle",f):re.pfValue,tt=Math.cos(ht),dt=Math.sin(ht),St=(Pe+Ee)/2,Tt=(Be+Oe)/2;if(!q){switch(D.value){case"left":St=Ee;break;case"right":St=Pe}switch(E.value){case"top":Tt=Oe;break;case"bottom":Tt=Be}}var Ct=function(Xn,en){return{x:(Xn-=St)*tt-(en-=Tt)*dt+St,y:Xn*dt+en*tt+Tt}},vt=Ct(Pe,Be),Ke=Ct(Pe,Oe),Dt=Ct(Ee,Be),Mt=Ct(Ee,Oe);Pe=Math.min(vt.x,Ke.x,Dt.x,Mt.x),Ee=Math.max(vt.x,Ke.x,Dt.x,Mt.x),Be=Math.min(vt.y,Ke.y,Dt.y,Mt.y),Oe=Math.max(vt.y,Ke.y,Dt.y,Mt.y)}var zt=Ye+"Rot",Qt=He[zt]=He[zt]||{};Qt.x1=Pe,Qt.y1=Be,Qt.x2=Ee,Qt.y2=Oe,Qt.w=Ee-Pe,Qt.h=Oe-Be,Ka(i,Pe,Be,Ee,Oe),Ka(p.labelBounds.all,Pe,Be,Ee,Oe)}return i}},kc=function(i){var s=0,f=function(g){return(g?1:0)<<s++},d=0;return d+=f(i.incudeNodes),d+=f(i.includeEdges),d+=f(i.includeLabels),d+=f(i.includeMainLabels),d+=f(i.includeSourceLabels),(d+=f(i.includeTargetLabels))+f(i.includeOverlays)},Gu=function(i){if(i.isEdge()){var s=i.source().position(),f=i.target().position(),d=function(g){return Math.round(g)};return function(i,s){var f={value:0,done:!1},d=0,p=i.length;return vc({next:function(){return d<p?f.value=i[d++]:f.done=!0,f}},void 0)}([d(s.x),d(s.y),d(f.x),d(f.y)])}return 0},Za=function(i,s){var d,f=i._private,p=i.isEdge(),w=(null==s?kh:kc(s))===kh,D=Gu(i),E=f.bbCachePosKey===D,M=s.useCache&&E,P=function(Z){return null==Z._private.bbCache||Z._private.styleDirty};if(!M||P(i)||p&&P(i.source())||P(i.target())?(E||i.recalculateRenderedStyle(M),d=function(i,s){var M,P,U,W,z,Z,f=i._private.cy,d=f.styleEnabled(),p=f.headless(),g=ci(),w=i._private,D=i.isNode(),E=i.isEdge(),q=w.rstyle,re=D&&d?i.pstyle("bounds-expansion").pfValue:[0],fe=function(Tn){return"none"!==Tn.pstyle("display").value},de=!d||fe(i)&&(!E||fe(i.source())&&fe(i.target()));if(de){var Ie=0;d&&s.includeOverlays&&0!==i.pstyle("overlay-opacity").value&&(Ie=i.pstyle("overlay-padding").value);var ye=0;d&&s.includeUnderlays&&0!==i.pstyle("underlay-opacity").value&&(ye=i.pstyle("underlay-padding").value);var Me=Math.max(Ie,ye),Le=0;if(d&&(Le=i.pstyle("width").pfValue/2),D&&s.includeNodes){var Pe=i.position();z=Pe.x,Z=Pe.y;var Be=i.outerWidth()/2,Ye=i.outerHeight()/2;Ka(g,M=z-Be,U=Z-Ye,P=z+Be,W=Z+Ye)}else if(E&&s.includeEdges)if(d&&!p){var He=i.pstyle("curve-style").strValue;if(M=Math.min(q.srcX,q.midX,q.tgtX),P=Math.max(q.srcX,q.midX,q.tgtX),U=Math.min(q.srcY,q.midY,q.tgtY),W=Math.max(q.srcY,q.midY,q.tgtY),Ka(g,M-=Le,U-=Le,P+=Le,W+=Le),"haystack"===He){var Ge=q.haystackPts;if(Ge&&2===Ge.length){if((M=Ge[0].x)>(P=Ge[1].x)){var qe=M;M=P,P=qe}if((U=Ge[0].y)>(W=Ge[1].y)){var it=U;U=W,W=it}Ka(g,M-Le,U-Le,P+Le,W+Le)}}else if("bezier"===He||"unbundled-bezier"===He||"segments"===He||"taxi"===He){var ht;switch(He){case"bezier":case"unbundled-bezier":ht=q.bezierPts;break;case"segments":case"taxi":ht=q.linePts}if(null!=ht)for(var tt=0;tt<ht.length;tt++){var dt=ht[tt];Ka(g,M=dt.x-Le,U=dt.y-Le,P=dt.x+Le,W=dt.y+Le)}}}else{var Tt=i.source().position(),vt=i.target().position();if((M=Tt.x)>(P=vt.x)){var Ke=M;M=P,P=Ke}if((U=Tt.y)>(W=vt.y)){var Dt=U;U=W,W=Dt}Ka(g,M-=Le,U-=Le,P+=Le,W+=Le)}if(d&&s.includeEdges&&E&&(_i(g,i,"mid-source"),_i(g,i,"mid-target"),_i(g,i,"source"),_i(g,i,"target")),d&&"yes"===i.pstyle("ghost").value){var zt=i.pstyle("ghost-offset-x").pfValue,Qt=i.pstyle("ghost-offset-y").pfValue;Ka(g,g.x1+zt,g.y1+Qt,g.x2+zt,g.y2+Qt)}var Fn=w.bodyBounds=w.bodyBounds||{};Hi(Fn,g),fs(Fn,re),ga(Fn,1),d&&Ka(g,(M=g.x1)-Me,(U=g.y1)-Me,(P=g.x2)+Me,(W=g.y2)+Me);var Xn=w.overlayBounds=w.overlayBounds||{};Hi(Xn,g),fs(Xn,re),ga(Xn,1);var en=w.labelBounds=w.labelBounds||{};null!=en.all?function(i){i.x1=1/0,i.y1=1/0,i.x2=-1/0,i.y2=-1/0,i.w=0,i.h=0}(en.all):en.all=ci(),d&&s.includeLabels&&(s.includeMainLabels&&Uu(g,i,null),E&&(s.includeSourceLabels&&Uu(g,i,"source"),s.includeTargetLabels&&Uu(g,i,"target")))}return g.x1=Eo(g.x1),g.y1=Eo(g.y1),g.x2=Eo(g.x2),g.y2=Eo(g.y2),g.w=Eo(g.x2-g.x1),g.h=Eo(g.y2-g.y1),g.w>0&&g.h>0&&de&&(fs(g,re),ga(g,1)),g}(i,zu),f.bbCache=d,f.bbCachePosKey=D):d=f.bbCache,!w){var W=i.isNode();d=ci(),(s.includeNodes&&W||s.includeEdges&&!W)&&Do(d,s.includeOverlays?f.overlayBounds:f.bodyBounds),s.includeLabels&&(s.includeMainLabels&&(!p||s.includeSourceLabels&&s.includeTargetLabels)?Do(d,f.labelBounds.all):(s.includeMainLabels&&Do(d,f.labelBounds.mainRot),s.includeSourceLabels&&Do(d,f.labelBounds.sourceRot),s.includeTargetLabels&&Do(d,f.labelBounds.targetRot))),d.w=d.x2-d.x1,d.h=d.y2-d.y1}return d},zu={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},kh=kc(zu),kd=Yr(zu);ia.boundingBox=function(l){var i;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==l&&void 0!==l.useCache&&!0!==l.useCache){i=ci();var s=kd(l=l||zu),f=this;if(f.cy().styleEnabled())for(var g=0;g<f.length;g++){var w=f[g],D=w._private,E=Gu(w);w.recalculateRenderedStyle(s.useCache&&D.bbCachePosKey===E&&!D.styleDirty)}this.updateCompoundBounds(!l.useCache);for(var U=0;U<f.length;U++)Do(i,Za(f[U],s))}else l=void 0===l?zu:kd(l),i=Za(this[0],l);return i.x1=Eo(i.x1),i.y1=Eo(i.y1),i.x2=Eo(i.x2),i.y2=Eo(i.y2),i.w=Eo(i.x2-i.x1),i.h=Eo(i.y2-i.y1),i},ia.dirtyBoundingBoxCache=function(){for(var l=0;l<this.length;l++){var i=this[l]._private;i.bbCache=null,i.bbCachePosKey=null,i.bodyBounds=null,i.overlayBounds=null,i.labelBounds.all=null,i.labelBounds.source=null,i.labelBounds.target=null,i.labelBounds.main=null,i.labelBounds.sourceRot=null,i.labelBounds.targetRot=null,i.labelBounds.mainRot=null,i.arrowBounds.source=null,i.arrowBounds.target=null,i.arrowBounds["mid-source"]=null,i.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},ia.boundingBoxAt=function(l){var i=this.nodes(),s=this.cy(),f=s.hasCompoundNodes(),d=s.collection();if(f&&(d=i.filter(function(E){return E.isParent()}),i=i.not(d)),Xe(l)){var p=l;l=function(){return p}}s.startBatch(),i.forEach(function(M,P){return M._private.bbAtOldPos=l(M,P)}).silentPositions(l),f&&(d.dirtyCompoundBoundsCache(),d.dirtyBoundingBoxCache(),d.updateCompoundBounds(!0));var D=function(i){return{x1:i.x1,x2:i.x2,w:i.w,y1:i.y1,y2:i.y2,h:i.h}}(this.boundingBox({useCache:!1}));return i.silentPositions(function(M){return M._private.bbAtOldPos}),f&&(d.dirtyCompoundBoundsCache(),d.dirtyBoundingBoxCache(),d.updateCompoundBounds(!0)),s.endBatch(),D},Yo.boundingbox=Yo.bb=Yo.boundingBox,Yo.renderedBoundingbox=Yo.renderedBoundingBox;var Jl,tl,Wu=ia;Jl=tl={};var _h=function(i){i.uppercaseName=kr(i.name),i.autoName="auto"+i.uppercaseName,i.labelName="label"+i.uppercaseName,i.outerName="outer"+i.uppercaseName,i.uppercaseOuterName=kr(i.outerName),Jl[i.name]=function(){var f=this[0],d=f._private;if(f){if(d.cy._private.styleEnabled){if(f.isParent())return f.updateCompoundBounds(),d[i.autoName]||0;var w=f.pstyle(i.name);return"label"===w.strValue?(f.recalculateRenderedStyle(),d.rstyle[i.labelName]||0):w.pfValue}return 1}},Jl["outer"+i.uppercaseName]=function(){var f=this[0];if(f)return f._private.cy._private.styleEnabled?f[i.name]()+f.pstyle("border-width").pfValue+2*f.padding():1},Jl["rendered"+i.uppercaseName]=function(){var f=this[0];if(f)return f[i.name]()*this.cy().zoom()},Jl["rendered"+i.uppercaseOuterName]=function(){var f=this[0];if(f)return f[i.outerName]()*this.cy().zoom()}};_h({name:"width"}),_h({name:"height"}),tl.padding=function(){var l=this[0],i=l._private;return l.isParent()?(l.updateCompoundBounds(),void 0!==i.autoPadding?i.autoPadding:l.pstyle("padding").pfValue):l.pstyle("padding").pfValue},tl.paddedHeight=function(){var l=this[0];return l.height()+2*l.padding()},tl.paddedWidth=function(){var l=this[0];return l.width()+2*l.padding()};var qp=tl,jf={controlPoints:{get:function(i){return i.renderer().getControlPoints(i)},mult:!0},segmentPoints:{get:function(i){return i.renderer().getSegmentPoints(i)},mult:!0},sourceEndpoint:{get:function(i){return i.renderer().getSourceEndpoint(i)}},targetEndpoint:{get:function(i){return i.renderer().getTargetEndpoint(i)}},midpoint:{get:function(i){return i.renderer().getEdgeMidpoint(i)}}},Fd=Object.keys(jf).reduce(function(l,i){var s=jf[i],f=function(i){return"rendered"+i[0].toUpperCase()+i.substr(1)}(i);return l[i]=function(){return function(i,s){if(i.isEdge())return s(i)}(this,s.get)},l[f]=s.mult?function(){return function(i,s){if(i.isEdge()){var f=i.cy(),d=f.pan(),p=f.zoom();return s(i).map(function(g){return Sr(g,p,d)})}}(this,s.get)}:function(){return function(i,s){if(i.isEdge()){var f=i.cy();return Sr(s(i),f.zoom(),f.pan())}}(this,s.get)},l},{}),Bd=En({},Pr,Wu,qp,Fd),Bc=function(i,s){this.recycle(i,s)};function Vc(){return!1}function Ca(){return!0}Bc.prototype={instanceString:function(){return"event"},recycle:function(i,s){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Vc,null!=i&&i.preventDefault?(this.type=i.type,this.isDefaultPrevented=i.defaultPrevented?Ca:Vc):null!=i&&i.type?s=i:this.type=i,null!=s&&(this.originalEvent=s.originalEvent,this.type=null!=s.type?s.type:this.type,this.cy=s.cy,this.target=s.target,this.position=s.position,this.renderedPosition=s.renderedPosition,this.namespace=s.namespace,this.layout=s.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var f=this.position,d=this.cy.zoom(),p=this.cy.pan();this.renderedPosition={x:f.x*d+p.x,y:f.y*d+p.y}}this.timeStamp=i&&i.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Ca;var i=this.originalEvent;i&&i.preventDefault&&i.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Ca;var i=this.originalEvent;i&&i.stopPropagation&&i.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Ca,this.stopPropagation()},isDefaultPrevented:Vc,isPropagationStopped:Vc,isImmediatePropagationStopped:Vc};var oo=/^([^.]+)(\.(?:[^.]+))?$/,qr={qualifierCompare:function(i,s){return i===s},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(i){return i},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Vd=Object.keys(qr),Uc={};function Ii(){for(var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uc,i=arguments.length>1?arguments[1]:void 0,s=0;s<Vd.length;s++){var f=Vd[s];this[f]=l[f]||qr[f]}this.context=i||this.context,this.listeners=[],this.emitting=0}var vs=Ii.prototype,$f=function(i,s,f,d,p,g,w){et(d)&&(p=d,d=null),w&&(g=null==g?w:En({},g,w));for(var D=at(f)?f:f.split(/\s+/),E=0;E<D.length;E++){var M=D[E];if(!Lt(M)){var P=M.match(oo);if(P&&!1===s(i,M,P[1],P[2]?P[2]:null,d,p,g))break}}},Sl=function(i,s){return i.addEventFields(i.context,s),new Bc(s.type,s)};vs.on=vs.addListener=function(l,i,s,f,d){return $f(this,function(p,g,w,D,E,M,P){et(M)&&p.listeners.push({event:g,callback:M,type:w,namespace:D,qualifier:E,conf:P})},l,i,s,f,d),this},vs.one=function(l,i,s,f){return this.on(l,i,s,f,{one:!0})},vs.removeListener=vs.off=function(l,i,s,f){var d=this;0!==this.emitting&&(this.listeners=function(i){return i.slice()}(this.listeners));for(var p=this.listeners,g=function(E){var M=p[E];$f(d,function(P,U,W,z,Z,q){if((M.type===W||"*"===l)&&(!z&&".*"!==M.namespace||M.namespace===z)&&(!Z||P.qualifierCompare(M.qualifier,Z))&&(!q||M.callback===q))return p.splice(E,1),!1},l,i,s,f)},w=p.length-1;w>=0;w--)g(w);return this},vs.removeAllListeners=function(){return this.removeListener("*")},vs.emit=vs.trigger=function(l,i,s){var f=this.listeners,d=f.length;return this.emitting++,at(i)||(i=[i]),function(i,s,f){if(function(i){return"event"===Ve(i)}(f))s(i,f);else if(Xe(f))s(i,Sl(i,f));else for(var d=at(f)?f:f.split(/\s+/),p=0;p<d.length;p++){var g=d[p];if(!Lt(g)){var w=g.match(oo);w&&s(i,Sl(i,{type:w[1],namespace:w[2]?w[2]:null,target:i.context}))}}}(this,function(p,g){null!=s&&(d=(f=[{event:g.event,type:g.type,namespace:g.namespace,callback:s}]).length);for(var w=function(M){var P=f[M];if(P.type===g.type&&(!P.namespace||P.namespace===g.namespace||".*"===P.namespace)&&p.eventMatches(p.context,P,g)){var U=[g];null!=i&&function(i,s){for(var f=0;f<s.length;f++)i.push(s[f])}(U,i),p.beforeEmit(p.context,P,g),P.conf&&P.conf.one&&(p.listeners=p.listeners.filter(function(Z){return Z!==P}));var W=p.callbackContext(p.context,P,g),z=P.callback.apply(W,U);p.afterEmit(p.context,P,g),!1===z&&(g.stopPropagation(),g.preventDefault())}},D=0;D<d;D++)w(D);p.bubble(p.context)&&!g.isPropagationStopped()&&p.parent(p.context).emit(g,i)},l),this.emitting--,this};var $u={qualifierCompare:function(i,s){return null==i||null==s?null==i&&null==s:i.sameText(s)},eventMatches:function(i,s,f){var d=s.qualifier;return null==d||i!==f.target&&cn(f.target)&&d.matches(f.target)},addEventFields:function(i,s){s.cy=i.cy(),s.target=i},callbackContext:function(i,s,f){return null!=s.qualifier?f.target:i},beforeEmit:function(i,s){s.conf&&s.conf.once&&s.conf.onceCollection.removeListener(s.event,s.qualifier,s.callback)},bubble:function(){return!0},parent:function(i){return i.isChild()?i.parent():i.cy()}},Gc=function(i){return _e(i)?new Ql(i):i},zc={createEmitter:function(){for(var i=0;i<this.length;i++){var s=this[i],f=s._private;f.emitter||(f.emitter=new Ii($u,s))}return this},emitter:function(){return this._private.emitter},on:function(i,s,f){for(var d=Gc(s),p=0;p<this.length;p++)this[p].emitter().on(i,d,f);return this},removeListener:function(i,s,f){for(var d=Gc(s),p=0;p<this.length;p++)this[p].emitter().removeListener(i,d,f);return this},removeAllListeners:function(){for(var i=0;i<this.length;i++)this[i].emitter().removeAllListeners();return this},one:function(i,s,f){for(var d=Gc(s),p=0;p<this.length;p++)this[p].emitter().one(i,d,f);return this},once:function(i,s,f){for(var d=Gc(s),p=0;p<this.length;p++)this[p].emitter().on(i,d,f,{once:!0,onceCollection:this})},emit:function(i,s){for(var f=0;f<this.length;f++)this[f].emitter().emit(i,s);return this},emitAndNotify:function(i,s){if(0!==this.length)return this.cy().notify(i,this),this.emit(i,s),this}};Jn.eventAliasesOn(zc);var Ps={nodes:function(i){return this.filter(function(s){return s.isNode()}).filter(i)},edges:function(i){return this.filter(function(s){return s.isEdge()}).filter(i)},byGroup:function(){for(var i=this.spawn(),s=this.spawn(),f=0;f<this.length;f++){var d=this[f];d.isNode()?i.push(d):s.push(d)}return{nodes:i,edges:s}},filter:function(i,s){if(void 0===i)return this;if(_e(i)||Ut(i))return new Ql(i).filter(this);if(et(i)){for(var f=this.spawn(),d=this,p=0;p<d.length;p++){var g=d[p];(s?i.apply(s,[g,p,d]):i(g,p,d))&&f.push(g)}return f}return this.spawn()},not:function(i){if(i){_e(i)&&(i=this.filter(i));for(var s=this.spawn(),f=0;f<this.length;f++){var d=this[f];i.has(d)||s.push(d)}return s}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(i){if(_e(i))return this.filter(i);for(var f=this.spawn(),g=this.length<i.length,w=g?this:i,D=g?i:this,E=0;E<w.length;E++){var M=w[E];D.has(M)&&f.push(M)}return f},xor:function(i){var s=this._private.cy;_e(i)&&(i=s.$(i));var f=this.spawn(),p=i,g=function(D,E){for(var M=0;M<D.length;M++){var P=D[M];E.hasElementWithId(P._private.data.id)||f.push(P)}};return g(this,p),g(p,this),f},diff:function(i){var s=this._private.cy;_e(i)&&(i=s.$(i));var f=this.spawn(),d=this.spawn(),p=this.spawn(),w=i,D=function(M,P,U){for(var W=0;W<M.length;W++){var z=M[W];P.hasElementWithId(z._private.data.id)?p.merge(z):U.push(z)}};return D(this,w,f),D(w,this,d),{left:f,right:d,both:p}},add:function(i){var s=this._private.cy;if(!i)return this;if(_e(i)){var f=i;i=s.mutableElements().filter(f)}for(var d=this.spawnSelf(),p=0;p<i.length;p++){var g=i[p];!this.has(g)&&d.push(g)}return d},merge:function(i){var s=this._private,f=s.cy;if(!i)return this;if(i&&_e(i)){var d=i;i=f.mutableElements().filter(d)}for(var p=s.map,g=0;g<i.length;g++){var w=i[g],D=w._private.data.id;if(!p.has(D)){var M=this.length++;this[M]=w,p.set(D,{ele:w,index:M})}}return this},unmergeAt:function(i){var f=this[i].id(),p=this._private.map;if(this[i]=void 0,p.delete(f),this.length>1&&i!==this.length-1){var w=this.length-1,D=this[w],E=D._private.data.id;this[w]=void 0,this[i]=D,p.set(E,{ele:D,index:i})}return this.length--,this},unmergeOne:function(i){var p=this._private.map.get((i=i[0])._private.data.id);return p?(this.unmergeAt(p.index),this):this},unmerge:function(i){var s=this._private.cy;if(!i)return this;if(i&&_e(i)){var f=i;i=s.mutableElements().filter(f)}for(var d=0;d<i.length;d++)this.unmergeOne(i[d]);return this},unmergeBy:function(i){for(var s=this.length-1;s>=0;s--)i(this[s])&&this.unmergeAt(s);return this},map:function(i,s){for(var f=[],d=this,p=0;p<d.length;p++){var g=d[p],w=s?i.apply(s,[g,p,d]):i(g,p,d);f.push(w)}return f},reduce:function(i,s){for(var f=s,d=this,p=0;p<d.length;p++)f=i(f,d[p],p,d);return f},max:function(i,s){for(var d,f=-1/0,p=this,g=0;g<p.length;g++){var w=p[g],D=s?i.apply(s,[w,g,p]):i(w,g,p);D>f&&(f=D,d=w)}return{value:f,ele:d}},min:function(i,s){for(var d,f=1/0,p=this,g=0;g<p.length;g++){var w=p[g],D=s?i.apply(s,[w,g,p]):i(w,g,p);D<f&&(f=D,d=w)}return{value:f,ele:d}}},yr=Ps;yr.u=yr["|"]=yr["+"]=yr.union=yr.or=yr.add,yr["\\"]=yr["!"]=yr["-"]=yr.difference=yr.relativeComplement=yr.subtract=yr.not,yr.n=yr["&"]=yr["."]=yr.and=yr.intersection=yr.intersect,yr["^"]=yr["(+)"]=yr["(-)"]=yr.symmetricDifference=yr.symdiff=yr.xor,yr.fnFilter=yr.filterFn=yr.stdFilter=yr.filter,yr.complement=yr.abscomp=yr.absoluteComplement;var i,Tl=function(i,s){var d=i.cy().hasCompoundNodes();function p(M){var P=M.pstyle("z-compound-depth");return"auto"===P.value?d?M.zDepth():0:"bottom"===P.value?-1:"top"===P.value?Su:0}var g=p(i)-p(s);if(0!==g)return g;function w(M){return"auto"===M.pstyle("z-index-compare").value&&M.isNode()?1:0}var D=w(i)-w(s);if(0!==D)return D;var E=i.pstyle("z-index").value-s.pstyle("z-index").value;return 0!==E?E:i.poolIndex()-s.poolIndex()},Yu={forEach:function(i,s){if(et(i))for(var f=this.length,d=0;d<f;d++){var p=this[d];if(!1===(s?i.apply(s,[p,d,this]):i(p,d,this)))break}return this},toArray:function(){for(var i=[],s=0;s<this.length;s++)i.push(this[s]);return i},slice:function(i,s){var f=[],d=this.length;null==s&&(s=d),null==i&&(i=0),i<0&&(i=d+i),s<0&&(s=d+s);for(var p=i;p>=0&&p<s&&p<d;p++)f.push(this[p]);return this.spawn(f)},size:function(){return this.length},eq:function(i){return this[i]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(i){if(!et(i))return this;var s=this.toArray().sort(i);return this.spawn(s)},sortByZIndex:function(){return this.sort(Tl)},zDepth:function(){var i=this[0];if(i){var s=i._private;if("nodes"===s.group){var d=s.data.parent?i.parents().size():0;return i.isParent()?d:Su-1}var g=s.target,w=s.source.zDepth(),D=g.zDepth();return Math.max(w,D,0)}}};Yu.each=Yu.forEach,i="undefined",(typeof Symbol>"u"?"undefined":H(Symbol))!=i&&H(Symbol.iterator)!=i&&(Yu[Symbol.iterator]=function(){var f=this,d={value:void 0,done:!1},p=0,g=this.length;return ne({next:function(){return p<g?d.value=f[p++]:(d.value=void 0,d.done=!0),d}},Symbol.iterator,function(){return this})});var Vh=Yr({nodeDimensionsIncludeLabels:!1}),In={layoutDimensions:function(i){var s;if(i=Vh(i),this.takesUpSpace())if(i.nodeDimensionsIncludeLabels){var f=this.boundingBox();s={w:f.w,h:f.h}}else s={w:this.outerWidth(),h:this.outerHeight()};else s={w:0,h:0};return(0===s.w||0===s.h)&&(s.w=s.h=1),s},layoutPositions:function(i,s,f){var d=this.nodes().filter(function(Ie){return!Ie.isParent()}),p=this.cy(),g=s.eles,w=function(Ae){return Ae.id()},D=Dr(f,w);i.emit({type:"layoutstart",layout:i}),i.animations=[];var M=s.spacingFactor&&1!==s.spacingFactor,U=function(){if(!M)return null;for(var Ae=ci(),ye=0;ye<d.length;ye++){var be=D(d[ye],ye);Au(Ae,be.x,be.y)}return Ae}(),W=Dr(function(Ie,Ae){var ye=D(Ie,Ae);return M&&(ye=function(Ae,ye,Me){var be_x=ye.x1+ye.w/2,be_y=ye.y1+ye.h/2;return{x:be_x+(Me.x-be_x)*Ae,y:be_y+(Me.y-be_y)*Ae}}(Math.abs(s.spacingFactor),U,ye)),null!=s.transform&&(ye=s.transform(Ie,ye)),ye},w);if(s.animate){for(var z=0;z<d.length;z++){var Z=d[z],q=W(Z,z);if(null==s.animateFilter||s.animateFilter(Z,z)){var fe=Z.animation({position:q,duration:s.animationDuration,easing:s.animationEasing});i.animations.push(fe)}else Z.position(q)}if(s.fit){var de=p.animation({fit:{boundingBox:g.boundingBoxAt(W),padding:s.padding},duration:s.animationDuration,easing:s.animationEasing});i.animations.push(de)}else if(void 0!==s.zoom&&void 0!==s.pan){var me=p.animation({zoom:s.zoom,pan:s.pan,duration:s.animationDuration,easing:s.animationEasing});i.animations.push(me)}i.animations.forEach(function(Ie){return Ie.play()}),i.one("layoutready",s.ready),i.emit({type:"layoutready",layout:i}),Ya.all(i.animations.map(function(Ie){return Ie.promise()})).then(function(){i.one("layoutstop",s.stop),i.emit({type:"layoutstop",layout:i})})}else d.positions(W),s.fit&&p.fit(s.eles,s.padding),null!=s.zoom&&p.zoom(s.zoom),s.pan&&p.pan(s.pan),i.one("layoutready",s.ready),i.emit({type:"layoutready",layout:i}),i.one("layoutstop",s.stop),i.emit({type:"layoutstop",layout:i});return this},layout:function(i){return this.cy().makeLayout(En({},i,{eles:this}))}};function eu(l,i,s){var p,f=s._private,d=f.styleCache=f.styleCache||[];return null!=(p=d[l])||(p=d[l]=i(s)),p}function tu(l,i){return l=Ga(l),function(f){return eu(l,i,f)}}function Ml(l,i){l=Ga(l);var s=function(d){return i.call(d)};return function(){var d=this[0];if(d)return eu(l,s,d)}}In.createLayout=In.makeLayout=In.layout;var xo={recalculateRenderedStyle:function(i){var s=this.cy(),f=s.renderer(),d=s.styleEnabled();return f&&d&&f.recalculateRenderedStyle(this,i),this},dirtyStyleCache:function(){var f,i=this.cy(),s=function(p){return p._private.styleCache=null};return i.hasCompoundNodes()?((f=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(f.connectedEdges()),f.forEach(s)):this.forEach(function(d){s(d),d.connectedEdges().forEach(s)}),this},updateStyle:function(i){var s=this._private.cy;if(!s.styleEnabled())return this;if(s.batching())return s._private.batchStyleEles.merge(this),this;var p=this;i=!(!i&&void 0!==i),s.hasCompoundNodes()&&(p=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var g=p;return i?g.emitAndNotify("style"):g.emit("style"),p.forEach(function(w){return w._private.styleDirty=!0}),this},cleanStyle:function(){var i=this.cy();if(i.styleEnabled())for(var s=0;s<this.length;s++){var f=this[s];f._private.styleDirty&&(f._private.styleDirty=!1,i.style().apply(f))}},parsedStyle:function(i){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=this[0],d=f.cy();if(d.styleEnabled()&&f)return this.cleanStyle(),f._private.style[i]??(s?d.style().getDefaultProperty(i):null)},numericStyle:function(i){var s=this[0];if(s.cy().styleEnabled()&&s){var f=s.pstyle(i);return void 0!==f.pfValue?f.pfValue:f.value}},numericStyleUnits:function(i){var s=this[0];if(s.cy().styleEnabled()&&s)return s.pstyle(i).units},renderedStyle:function(i){var s=this.cy();if(!s.styleEnabled())return this;var f=this[0];return f?s.style().getRenderedStyle(f,i):void 0},style:function(i,s){var f=this.cy();if(!f.styleEnabled())return this;var p=f.style();if(Xe(i))p.applyBypass(this,i,!1),this.emitAndNotify("style");else if(_e(i)){if(void 0===s){var w=this[0];return w?p.getStylePropertyValue(w,i):void 0}p.applyBypass(this,i,s,!1),this.emitAndNotify("style")}else if(void 0===i){var D=this[0];return D?p.getRawStyle(D):void 0}return this},removeStyle:function(i){var s=this.cy();if(!s.styleEnabled())return this;var d=s.style(),p=this;if(void 0===i)for(var g=0;g<p.length;g++)d.removeAllBypasses(p[g],!1);else{i=i.split(/\s+/);for(var D=0;D<p.length;D++)d.removeBypasses(p[D],i,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var i=this.cy();if(!i.styleEnabled())return 1;var s=i.hasCompoundNodes(),f=this[0];if(f){var d=f._private,p=f.pstyle("opacity").value;if(!s)return p;var g=d.data.parent?f.parents():null;if(g)for(var w=0;w<g.length;w++)p*=g[w].pstyle("opacity").value;return p}},transparent:function(){if(!this.cy().styleEnabled())return!1;var s=this[0],f=s.cy().hasCompoundNodes();return s?f?0===s.effectiveOpacity():0===s.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Ud(l,i){var f=l._private.data.parent?l.parents():null;if(f)for(var d=0;d<f.length;d++)if(!i(f[d]))return!1;return!0}function Wc(l){var i=l.ok,s=l.edgeOkViaNode||l.ok,f=l.parentOk||l.ok;return function(){var d=this.cy();if(!d.styleEnabled())return!0;var p=this[0],g=d.hasCompoundNodes();if(p){var w=p._private;if(!i(p))return!1;if(p.isNode())return!g||Ud(p,f);var D=w.source,E=w.target;return s(D)&&(!g||Ud(D,s))&&(D===E||s(E)&&(!g||Ud(E,s)))}}}var So=tu("eleTakesUpSpace",function(l){return"element"===l.pstyle("display").value&&0!==l.width()&&(!l.isNode()||0!==l.height())});xo.takesUpSpace=Ml("takesUpSpace",Wc({ok:So}));var Xu=tu("eleInteractive",function(l){return"yes"===l.pstyle("events").value&&"visible"===l.pstyle("visibility").value&&So(l)}),jc=tu("parentInteractive",function(l){return"visible"===l.pstyle("visibility").value&&So(l)});xo.interactive=Ml("interactive",Wc({ok:Xu,parentOk:jc,edgeOkViaNode:So})),xo.noninteractive=function(){var l=this[0];if(l)return!l.interactive()};var eg=tu("eleVisible",function(l){return"visible"===l.pstyle("visibility").value&&0!==l.pstyle("opacity").pfValue&&So(l)});xo.visible=Ml("visible",Wc({ok:eg,edgeOkViaNode:So})),xo.hidden=function(){var l=this[0];if(l)return!l.visible()},xo.isBundledBezier=Ml("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),xo.bypass=xo.css=xo.style,xo.renderedCss=xo.renderedStyle,xo.removeBypass=xo.removeCss=xo.removeStyle,xo.pstyle=xo.parsedStyle;var Il={};function It(l){return function(){var i=arguments,s=[];if(2===i.length)this.on(l.event,i[0],i[1]);else if(1===i.length&&et(i[0]))this.on(l.event,i[0]);else if(0===i.length||1===i.length&&at(i[0])){for(var g=1===i.length?i[0]:null,w=0;w<this.length;w++){var D=this[w],E=!l.ableField||D._private[l.ableField],M=D._private[l.field]!=l.value;if(l.overrideAble){var P=l.overrideAble(D);if(void 0!==P&&(E=P,!P))return this}E&&(D._private[l.field]=l.value,M&&s.push(D))}var U=this.spawn(s);U.updateStyle(),U.emit(l.event),g&&U.emit(g)}return this}}function ur(l){Il[l.field]=function(){var i=this[0];if(i){if(l.overrideField){var s=l.overrideField(i);if(void 0!==s)return s}return i._private[l.field]}},Il[l.on]=It({event:l.on,field:l.field,ableField:l.ableField,overrideAble:l.overrideAble,value:!0}),Il[l.off]=It({event:l.off,field:l.field,ableField:l.ableField,overrideAble:l.overrideAble,value:!1})}ur({field:"locked",overrideField:function(i){return!!i.cy().autolock()||void 0},on:"lock",off:"unlock"}),ur({field:"grabbable",overrideField:function(i){return!i.cy().autoungrabify()&&!i.pannable()&&void 0},on:"grabify",off:"ungrabify"}),ur({field:"selected",ableField:"selectable",overrideAble:function(i){return!i.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),ur({field:"selectable",overrideField:function(i){return!i.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Il.deselect=Il.unselect,Il.grabbed=function(){var l=this[0];if(l)return l._private.grabbed},ur({field:"active",on:"activate",off:"unactivate"}),ur({field:"pannable",on:"panify",off:"unpanify"}),Il.inactive=function(){var l=this[0];if(l)return!l._private.active};var tr={},Da=function(i){return function(f){for(var p=[],g=0;g<this.length;g++){var w=this[g];if(w.isNode()){for(var D=!1,E=w.connectedEdges(),M=0;M<E.length;M++){var P=E[M],U=P.source(),W=P.target();if(i.noIncomingEdges&&W===w&&U!==w||i.noOutgoingEdges&&U===w&&W!==w){D=!0;break}}D||p.push(w)}}return this.spawn(p,!0).filter(f)}},To=function(i){return function(s){for(var d=[],p=0;p<this.length;p++){var g=this[p];if(g.isNode())for(var w=g.connectedEdges(),D=0;D<w.length;D++){var E=w[D],M=E.source(),P=E.target();i.outgoing&&M===g?(d.push(E),d.push(P)):i.incoming&&P===g&&(d.push(E),d.push(M))}}return this.spawn(d,!0).filter(s)}},Gd=function(i){return function(s){for(var f=this,d=[],p={};;){var g=i.outgoing?f.outgoers():f.incomers();if(0===g.length)break;for(var w=!1,D=0;D<g.length;D++){var E=g[D],M=E.id();p[M]||(p[M]=!0,d.push(E),w=!0)}if(!w)break;f=g}return this.spawn(d,!0).filter(s)}};function Ku(l){return function(s){for(var f=[],d=0;d<this.length;d++){var g=this[d]._private[l.attr];g&&f.push(g)}return this.spawn(f,!0).filter(s)}}function Qa(l){return function(s){var f=[],d=this._private.cy,p=l||{};_e(s)&&(s=d.$(s));for(var g=0;g<s.length;g++)for(var w=s[g]._private.edges,D=0;D<w.length;D++){var E=w[D],M=E._private.data,P=this.hasElementWithId(M.source)&&s.hasElementWithId(M.target),U=s.hasElementWithId(M.source)&&this.hasElementWithId(M.target);(P||U)&&((p.thisIsSrc||p.thisIsTgt)&&(p.thisIsSrc&&!P||p.thisIsTgt&&!U)||f.push(E))}return this.spawn(f,!0)}}function $c(l){return l=En({},{codirected:!1},l),function(f){for(var d=[],p=this.edges(),g=l,w=0;w<p.length;w++)for(var E=p[w]._private,M=E.source,P=M._private.data.id,U=E.data.target,W=M._private.edges,z=0;z<W.length;z++){var Z=W[z],q=Z._private.data,re=q.target,fe=q.source,de=re===U&&fe===P;(g.codirected&&de||!g.codirected&&(de||P===re&&U===fe))&&d.push(Z)}return this.spawn(d,!0).filter(f)}}tr.clearTraversalCache=function(){for(var l=0;l<this.length;l++)this[l]._private.traversalCache=null},En(tr,{roots:Da({noIncomingEdges:!0}),leaves:Da({noOutgoingEdges:!0}),outgoers:_a(To({outgoing:!0}),"outgoers"),successors:Gd({outgoing:!0}),incomers:_a(To({incoming:!0}),"incomers"),predecessors:Gd({incoming:!0})}),En(tr,{neighborhood:_a(function(l){for(var i=[],s=this.nodes(),f=0;f<s.length;f++)for(var d=s[f],p=d.connectedEdges(),g=0;g<p.length;g++){var w=p[g],D=w.source(),E=w.target(),M=d===D?E:D;M.length>0&&i.push(M[0]),i.push(w[0])}return this.spawn(i,!0).filter(l)},"neighborhood"),closedNeighborhood:function(i){return this.neighborhood().add(this).filter(i)},openNeighborhood:function(i){return this.neighborhood(i)}}),tr.neighbourhood=tr.neighborhood,tr.closedNeighbourhood=tr.closedNeighborhood,tr.openNeighbourhood=tr.openNeighborhood,En(tr,{source:_a(function(i){var f,s=this[0];return s&&(f=s._private.source||s.cy().collection()),f&&i?f.filter(i):f},"source"),target:_a(function(i){var f,s=this[0];return s&&(f=s._private.target||s.cy().collection()),f&&i?f.filter(i):f},"target"),sources:Ku({attr:"source"}),targets:Ku({attr:"target"})}),En(tr,{edgesWith:_a(Qa(),"edgesWith"),edgesTo:_a(Qa({thisIsSrc:!0}),"edgesTo")}),En(tr,{connectedEdges:_a(function(l){for(var i=[],f=0;f<this.length;f++){var d=this[f];if(d.isNode())for(var p=d._private.edges,g=0;g<p.length;g++)i.push(p[g])}return this.spawn(i,!0).filter(l)},"connectedEdges"),connectedNodes:_a(function(l){for(var i=[],f=0;f<this.length;f++){var d=this[f];d.isEdge()&&(i.push(d.source()[0]),i.push(d.target()[0]))}return this.spawn(i,!0).filter(l)},"connectedNodes"),parallelEdges:_a($c(),"parallelEdges"),codirectedEdges:_a($c({codirected:!0}),"codirectedEdges")}),En(tr,{components:function(i){var s=this,f=s.cy(),d=f.collection(),p=null==i?s.nodes():i.nodes(),g=[];null!=i&&p.empty()&&(p=i.sources());var w=function(M,P){d.merge(M),p.unmerge(M),P.merge(M)};if(p.empty())return s.spawn();var D=function(){var M=f.collection();g.push(M);var P=p[0];w(P,M),s.bfs({directed:!1,roots:P,visit:function(W){return w(W,M)}}),M.forEach(function(U){U.connectedEdges().forEach(function(W){s.has(W)&&M.has(W.source())&&M.has(W.target())&&M.merge(W)})})};do{D()}while(p.length>0);return g},component:function(){var i=this[0];return i.cy().mutableElements().components(i)[0]}}),tr.componentsOf=tr.components;var Yi=function(i,s){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==i){var p=new Et,g=!1;if(s){if(s.length>0&&Xe(s[0])&&!cn(s[0])){g=!0;for(var w=[],D=new cs,E=0,M=s.length;E<M;E++){var P=s[E];null==P.data&&(P.data={});var U=P.data;if(null==U.id)U.id=Mf();else if(i.hasElementWithId(U.id)||D.has(U.id))continue;var W=new Ne(i,P,!1);w.push(W),D.add(U.id)}s=w}}else s=[];this.length=0;for(var z=0,Z=s.length;z<Z;z++){var q=s[z][0];if(null!=q){var re=q._private.data.id;(!f||!p.has(re))&&(f&&p.set(re,{index:this.length,ele:q}),this[this.length]=q,this.length++)}}this._private={eles:this,cy:i,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(fe){this.lazyMap=fe},rebuildMap:function(){for(var de=this.lazyMap=new Et,me=this.eles,Ie=0;Ie<me.length;Ie++){var Ae=me[Ie];de.set(Ae.id(),{index:Ie,ele:Ae})}}},f&&(this._private.map=p),g&&!d&&this.restore()}else zr("A collection must have a reference to the core")},ri=Ne.prototype=Yi.prototype=Object.create(Array.prototype);ri.instanceString=function(){return"collection"},ri.spawn=function(l,i){return new Yi(this.cy(),l,i)},ri.spawnSelf=function(){return this.spawn(this)},ri.cy=function(){return this._private.cy},ri.renderer=function(){return this._private.cy.renderer()},ri.element=function(){return this[0]},ri.collection=function(){return ln(this)?this:new Yi(this._private.cy,[this])},ri.unique=function(){return new Yi(this._private.cy,this,!0)},ri.hasElementWithId=function(l){return this._private.map.has(l=""+l)},ri.getElementById=function(l){var i=this._private.cy,s=this._private.map.get(l=""+l);return s?s.ele:new Yi(i)},ri.$id=ri.getElementById,ri.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},ri.indexOf=function(l){return this._private.map.get(l[0]._private.data.id).index},ri.indexOfId=function(l){return this._private.map.get(l=""+l).index},ri.json=function(l){var i=this.element(),s=this.cy();if(null==i&&l)return this;if(null!=i){var f=i._private;if(Xe(l)){if(s.startBatch(),l.data){i.data(l.data);var d=f.data;if(i.isEdge()){var p=!1,g={},w=l.data.source,D=l.data.target;null!=w&&w!=d.source&&(g.source=""+w,p=!0),null!=D&&D!=d.target&&(g.target=""+D,p=!0),p&&(i=i.move(g))}else{var M=l.data.parent;"parent"in l.data&&(null!=M||null!=d.parent)&&M!=d.parent&&(void 0===M&&(M=null),null!=M&&(M=""+M),i=i.move({parent:M}))}}l.position&&i.position(l.position);var P=function(Z,q,re){var fe=l[Z];null!=fe&&fe!==f[Z]&&(fe?i[q]():i[re]())};return P("removed","remove","restore"),P("selected","select","unselect"),P("selectable","selectify","unselectify"),P("locked","lock","unlock"),P("grabbable","grabify","ungrabify"),P("pannable","panify","unpanify"),null!=l.classes&&i.classes(l.classes),s.endBatch(),this}if(void 0===l){var U={data:vi(f.data),position:vi(f.position),group:f.group,removed:f.removed,selected:f.selected,selectable:f.selectable,locked:f.locked,grabbable:f.grabbable,pannable:f.pannable,classes:""},W=0;return f.classes.forEach(function(z){return U.classes+=0==W++?z:" "+z}),U}}},ri.jsons=function(){for(var l=[],i=0;i<this.length;i++){var f=this[i].json();l.push(f)}return l},ri.clone=function(){for(var l=this.cy(),i=[],s=0;s<this.length;s++){var d=this[s].json(),p=new Ne(l,d,!1);i.push(p)}return new Yi(l,i)},ri.copy=ri.clone,ri.restore=function(){for(var w,l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this,f=s.cy(),d=f._private,p=[],g=[],D=0,E=s.length;D<E;D++){var M=s[D];i&&!M.removed()||(M.isNode()?p.push(M):g.push(M))}w=p.concat(g);var P,U=function(){w.splice(P,1),P--};for(P=0;P<w.length;P++){var W=w[P],z=W._private,Z=z.data;if(W.clearTraversalCache(),i||z.removed)if(void 0===Z.id)Z.id=Mf();else if($e(Z.id))Z.id=""+Z.id;else{if(Lt(Z.id)||!_e(Z.id)){zr("Can not create element with invalid string ID `"+Z.id+"`"),U();continue}if(f.hasElementWithId(Z.id)){zr("Can not create second element with ID `"+Z.id+"`"),U();continue}}var q=Z.id;if(W.isNode()){var re=z.position;null==re.x&&(re.x=0),null==re.y&&(re.y=0)}if(W.isEdge()){for(var fe=W,de=["source","target"],me=de.length,Ie=!1,Ae=0;Ae<me;Ae++){var ye=de[Ae],Me=Z[ye];$e(Me)&&(Me=Z[ye]=""+Z[ye]),null==Me||""===Me?(zr("Can not create edge `"+q+"` with unspecified "+ye),Ie=!0):f.hasElementWithId(Me)||(zr("Can not create edge `"+q+"` with nonexistant "+ye+" `"+Me+"`"),Ie=!0)}if(Ie){U();continue}var be=f.getElementById(Z.source),Le=f.getElementById(Z.target);be.same(Le)?be._private.edges.push(fe):(be._private.edges.push(fe),Le._private.edges.push(fe)),fe._private.source=be,fe._private.target=Le}z.map=new Et,z.map.set(q,{ele:W,index:0}),z.removed=!1,i&&f.addToPool(W)}for(var Pe=0;Pe<p.length;Pe++){var Ee=p[Pe],Be=Ee._private.data;$e(Be.parent)&&(Be.parent=""+Be.parent);var Oe=Be.parent;if(null!=Oe||Ee._private.parent){var He=Ee._private.parent?f.collection().merge(Ee._private.parent):f.getElementById(Oe);if(He.empty())Be.parent=void 0;else if(He[0].removed())mr("Node added with missing parent, reference to parent removed"),Be.parent=void 0,Ee._private.parent=null;else{for(var Ge=!1,qe=He;!qe.empty();){if(Ee.same(qe)){Ge=!0,Be.parent=void 0;break}qe=qe.parent()}Ge||(He[0]._private.children.push(Ee),Ee._private.parent=He[0],d.hasCompoundNodes=!0)}}}if(w.length>0){for(var it=w.length===s.length?s:new Yi(f,w),ht=0;ht<it.length;ht++){var tt=it[ht];tt.isNode()||(tt.parallelEdges().clearTraversalCache(),tt.source().clearTraversalCache(),tt.target().clearTraversalCache())}(d.hasCompoundNodes?f.collection().merge(it).merge(it.connectedNodes()).merge(it.parent()):it).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(l),l?it.emitAndNotify("add"):i&&it.emit("add")}return s},ri.removed=function(){var l=this[0];return l&&l._private.removed},ri.inside=function(){var l=this[0];return l&&!l._private.removed},ri.remove=function(){var l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this,f=[],d={},p=s._private.cy;function D(Oe){var Ye=d[Oe.id()];i&&Oe.removed()||Ye||(d[Oe.id()]=!0,Oe.isNode()?(f.push(Oe),function g(Oe){for(var Ye=Oe._private.edges,He=0;He<Ye.length;He++)D(Ye[He])}(Oe),function w(Oe){for(var Ye=Oe._private.children,He=0;He<Ye.length;He++)D(Ye[He])}(Oe)):f.unshift(Oe))}for(var E=0,M=s.length;E<M;E++)D(s[E]);function U(Oe,Ye){Aa(Oe._private.edges,Ye),Oe.clearTraversalCache()}var z=[];function Z(Oe,Ye){Ye=Ye[0];var He=(Oe=Oe[0])._private.children,Ge=Oe.id();Aa(He,Ye),Ye._private.parent=null,z.ids[Ge]||(z.ids[Ge]=!0,z.push(Oe))}z.ids={},s.dirtyCompoundBoundsCache(),i&&p.removeFromPool(f);for(var q=0;q<f.length;q++){var re=f[q];if(re.isEdge()){var fe=re.source()[0],de=re.target()[0];U(fe,re),U(de,re);for(var me=re.parallelEdges(),Ie=0;Ie<me.length;Ie++){var Ae=me[Ie];Ae.clearTraversalCache(),Ae.isBundledBezier()&&Ae.dirtyBoundingBoxCache()}}else{var ye=re.parent();0!==ye.length&&Z(ye,re)}i&&(re._private.removed=!0)}var Me=p._private.elements;p._private.hasCompoundNodes=!1;for(var be=0;be<Me.length;be++)if(Me[be].isParent()){p._private.hasCompoundNodes=!0;break}var Pe=new Yi(this.cy(),f);Pe.size()>0&&(l?Pe.emitAndNotify("remove"):i&&Pe.emit("remove"));for(var Ee=0;Ee<z.length;Ee++){var Be=z[Ee];(!i||!Be.removed())&&Be.updateStyle()}return Pe},ri.move=function(l){var i=this._private.cy,s=this,f=!1,d=!1,p=function(z){return null==z?z:""+z};if(void 0!==l.source||void 0!==l.target){var g=p(l.source),w=p(l.target),D=null!=g&&i.hasElementWithId(g),E=null!=w&&i.hasElementWithId(w);(D||E)&&(i.batch(function(){s.remove(f,d),s.emitAndNotify("moveout");for(var W=0;W<s.length;W++){var z=s[W],Z=z._private.data;z.isEdge()&&(D&&(Z.source=g),E&&(Z.target=w))}s.restore(f,d)}),s.emitAndNotify("move"))}else if(void 0!==l.parent){var M=p(l.parent);if(null===M||i.hasElementWithId(M)){var U=null===M?void 0:M;i.batch(function(){var W=s.remove(f,d);W.emitAndNotify("moveout");for(var z=0;z<s.length;z++){var Z=s[z],q=Z._private.data;Z.isNode()&&(q.parent=U)}W.restore(f,d)}),s.emitAndNotify("move")}}return this},[ro,Nc,Pa,Dl,Rc,zf,Pd,Bd,zc,Ps,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var i=this[0];if(i)return i._private.group}},Yu,In,xo,Il,tr].forEach(function(l){En(ri,l)});var Vv={add:function(i){var s,f=this;if(Ut(i)){var d=i;if(d._private.cy===f)s=d.restore();else{for(var p=[],g=0;g<d.length;g++)p.push(d[g].json());s=new Yi(f,p)}}else if(at(i))s=new Yi(f,i);else if(Xe(i)&&(at(i.nodes)||at(i.edges))){for(var E=i,M=[],P=["nodes","edges"],U=0,W=P.length;U<W;U++){var z=P[U],Z=E[z];if(at(Z))for(var q=0,re=Z.length;q<re;q++){var fe=En({group:z},Z[q]);M.push(fe)}}s=new Yi(f,M)}else s=new Ne(f,i).collection();return s},remove:function(i){return Ut(i)||_e(i)&&(i=this.$(i)),i.remove()}};function Uh(l,i,s,f){var E=.1,M=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var P=0;P<4;++P)if("number"!=typeof arguments[P]||isNaN(arguments[P])||!isFinite(arguments[P]))return!1;l=Math.min(l,1),s=Math.min(s,1),l=Math.max(l,0),s=Math.max(s,0);var U=M?new Float32Array(11):new Array(11);function W(Le,Pe){return 1-3*Pe+3*Le}function z(Le,Pe){return 3*Pe-6*Le}function Z(Le){return 3*Le}function q(Le,Pe,Ee){return((W(Pe,Ee)*Le+z(Pe,Ee))*Le+Z(Pe))*Le}function re(Le,Pe,Ee){return 3*W(Pe,Ee)*Le*Le+2*z(Pe,Ee)*Le+Z(Pe)}var Ae=!1;var Me=function(Pe){return Ae||function ye(){Ae=!0,(l!==i||s!==f)&&function de(){for(var Le=0;Le<11;++Le)U[Le]=q(Le*E,l,s)}()}(),l===i&&s===f?Pe:0===Pe?0:1===Pe?1:q(function Ie(Le){for(var Pe=0,Ee=1;10!==Ee&&U[Ee]<=Le;++Ee)Pe+=E;--Ee;var Ye=Pe+(Le-U[Ee])/(U[Ee+1]-U[Ee])*E,He=re(Ye,l,s);return He>=.001?function fe(Le,Pe){for(var Ee=0;Ee<4;++Ee){var Be=re(Pe,l,s);if(0===Be)return Pe;Pe-=(q(Pe,l,s)-Le)/Be}return Pe}(Le,Ye):0===He?Ye:function me(Le,Pe,Ee){var Be,Oe,Ye=0;do{(Be=q(Oe=Pe+(Ee-Pe)/2,l,s)-Le)>0?Ee=Oe:Pe=Oe}while(Math.abs(Be)>1e-7&&++Ye<10);return Oe}(Le,Pe,Pe+E)}(Pe),i,f)};Me.getControlPoints=function(){return[{x:l,y:i},{x:s,y:f}]};var be="generateBezier("+[l,i,s,f]+")";return Me.toString=function(){return be},Me}var Ai=function(){function l(f){return-f.tension*f.x-f.friction*f.v}function i(f,d,p){var g={x:f.x+p.dx*d,v:f.v+p.dv*d,tension:f.tension,friction:f.friction};return{dx:g.v,dv:l(g)}}function s(f,d){var p={dx:f.v,dv:l(f)},g=i(f,.5*d,p),w=i(f,.5*d,g),D=i(f,d,w),M=1/6*(p.dv+2*(g.dv+w.dv)+D.dv);return f.x=f.x+1/6*(p.dx+2*(g.dx+w.dx)+D.dx)*d,f.v=f.v+M*d,f}return function f(d,p,g){var U,W,z,w={x:-1,v:0,tension:null,friction:null},D=[0],E=0,M=1e-4;for(d=parseFloat(d)||500,p=parseFloat(p)||20,g=g||null,w.tension=d,w.friction=p,W=(U=null!==g)?(E=f(d,p))/g*.016:.016;z=s(z||w,W),D.push(1+z.x),E+=16,Math.abs(z.x)>M&&Math.abs(z.v)>M;);return U?function(Z){return D[Z*(D.length-1)|0]}:E}}(),hr=function(i,s,f,d){var p=Uh(i,s,f,d);return function(g,w,D){return g+(w-g)*p(D)}},Al={linear:function(i,s,f){return i+(s-i)*f},ease:hr(.25,.1,.25,1),"ease-in":hr(.42,0,1,1),"ease-out":hr(0,0,.58,1),"ease-in-out":hr(.42,0,.58,1),"ease-in-sine":hr(.47,0,.745,.715),"ease-out-sine":hr(.39,.575,.565,1),"ease-in-out-sine":hr(.445,.05,.55,.95),"ease-in-quad":hr(.55,.085,.68,.53),"ease-out-quad":hr(.25,.46,.45,.94),"ease-in-out-quad":hr(.455,.03,.515,.955),"ease-in-cubic":hr(.55,.055,.675,.19),"ease-out-cubic":hr(.215,.61,.355,1),"ease-in-out-cubic":hr(.645,.045,.355,1),"ease-in-quart":hr(.895,.03,.685,.22),"ease-out-quart":hr(.165,.84,.44,1),"ease-in-out-quart":hr(.77,0,.175,1),"ease-in-quint":hr(.755,.05,.855,.06),"ease-out-quint":hr(.23,1,.32,1),"ease-in-out-quint":hr(.86,0,.07,1),"ease-in-expo":hr(.95,.05,.795,.035),"ease-out-expo":hr(.19,1,.22,1),"ease-in-out-expo":hr(1,0,0,1),"ease-in-circ":hr(.6,.04,.98,.335),"ease-out-circ":hr(.075,.82,.165,1),"ease-in-out-circ":hr(.785,.135,.15,.86),spring:function(i,s,f){if(0===f)return Al.linear;var d=Ai(i,s,f);return function(p,g,w){return p+(g-p)*d(w)}},"cubic-bezier":hr};function ms(l,i,s,f,d){if(1===f||i===s)return s;var p=d(i,s,f);return null==l||((l.roundValue||l.color)&&(p=Math.round(p)),void 0!==l.min&&(p=Math.max(p,l.min)),void 0!==l.max&&(p=Math.min(p,l.max))),p}function Mo(l,i){return null!=l.pfValue||null!=l.value?null==l.pfValue||null!=i&&"%"===i.type.units?l.value:l.pfValue:l}function Zu(l,i,s,f,d){var p=null!=d?d.type:null;s<0?s=0:s>1&&(s=1);var g=Mo(l,d),w=Mo(i,d);if($e(g)&&$e(w))return ms(p,g,w,s,f);if(at(g)&&at(w)){for(var D=[],E=0;E<w.length;E++){var M=g[E],P=w[E];if(null!=M&&null!=P){var U=ms(p,M,P,s,f);D.push(U)}else D.push(P)}return D}}function Gh(l,i,s,f){var d=!f,p=l._private,g=i._private,w=g.easing,D=g.startTime,M=(f?l:l.cy()).style();if(!g.easingImpl)if(null==w)g.easingImpl=Al.linear;else{var P,W,z;P=_e(w)?M.parse("transition-timing-function",w).value:w,_e(P)?(W=P,z=[]):(W=P[1],z=P.slice(2).map(function(it){return+it})),z.length>0?("spring"===W&&z.push(g.duration),g.easingImpl=Al[W].apply(null,z)):g.easingImpl=Al[W]}var q,Z=g.easingImpl;if(q=0===g.duration?1:(s-D)/g.duration,g.applying&&(q=g.progress),q<0?q=0:q>1&&(q=1),null==g.delay){var re=g.startPosition,fe=g.position;if(fe&&d&&!l.locked()){var de={};ks(re.x,fe.x)&&(de.x=Zu(re.x,fe.x,q,Z)),ks(re.y,fe.y)&&(de.y=Zu(re.y,fe.y,q,Z)),l.position(de)}var me=g.startPan,Ie=g.pan,Ae=p.pan,ye=null!=Ie&&f;ye&&(ks(me.x,Ie.x)&&(Ae.x=Zu(me.x,Ie.x,q,Z)),ks(me.y,Ie.y)&&(Ae.y=Zu(me.y,Ie.y,q,Z)),l.emit("pan"));var Me=g.startZoom,be=g.zoom,Le=null!=be&&f;Le&&(ks(Me,be)&&(p.zoom=Ns(p.minZoom,Zu(Me,be,q,Z),p.maxZoom)),l.emit("zoom")),(ye||Le)&&l.emit("viewport");var Pe=g.style;if(Pe&&Pe.length>0&&d){for(var Ee=0;Ee<Pe.length;Ee++){var Be=Pe[Ee],Oe=Be.name,He=g.startStyle[Oe],qe=Zu(He,Be,q,Z,M.properties[He.name]);M.overrideBypass(l,Oe,qe)}l.emit("style")}}return g.progress=q,q}function ks(l,i){return!!(null!=l&&null!=i&&($e(l)&&$e(i)||l&&i))}function zh(l,i,s,f){var d=i._private;d.started=!0,d.startTime=s-d.progress*d.duration}function Yc(l,i){var s=i._private.aniEles,f=[];function d(M,P){var U=M._private,W=U.animation.current,z=U.animation.queue,Z=!1;if(0===W.length){var q=z.shift();q&&W.push(q)}for(var re=function(Ae){for(var ye=Ae.length-1;ye>=0;ye--)(0,Ae[ye])();Ae.splice(0,Ae.length)},fe=W.length-1;fe>=0;fe--){var de=W[fe],me=de._private;me.stopped?(W.splice(fe,1),me.hooked=!1,me.playing=!1,me.started=!1,re(me.frames)):!me.playing&&!me.applying||(me.playing&&me.applying&&(me.applying=!1),me.started||zh(0,de,l),Gh(M,de,l,P),me.applying&&(me.applying=!1),re(me.frames),null!=me.step&&me.step(l),de.completed()&&(W.splice(fe,1),me.hooked=!1,me.playing=!1,me.started=!1,re(me.completes)),Z=!0)}return!P&&0===W.length&&0===z.length&&f.push(M),Z}for(var p=!1,g=0;g<s.length;g++){var D=d(s[g]);p=p||D}var E=d(i,!0);(p||E)&&(s.length>0?i.notify("draw",s):i.notify("draw")),s.unmerge(f),i.emit("step")}var Yf={animate:Jn.animate(),animation:Jn.animation(),animated:Jn.animated(),clearQueue:Jn.clearQueue(),delay:Jn.delay(),delayAnimation:Jn.delayAnimation(),stop:Jn.stop(),addToAnimationPool:function(i){this.styleEnabled()&&this._private.aniEles.merge(i)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var i=this;if(i._private.animationsRunning=!0,i.styleEnabled()){var f=i.renderer();f&&f.beforeRender?f.beforeRender(function(p,g){Yc(g,i)},f.beforeRenderPriorities.animations):function s(){i._private.animationsRunning&&Ul(function(p){Yc(p,i),s()})}()}}},Xc={qualifierCompare:function(i,s){return null==i||null==s?null==i&&null==s:i.sameText(s)},eventMatches:function(i,s,f){var d=s.qualifier;return null==d||i!==f.target&&cn(f.target)&&d.matches(f.target)},addEventFields:function(i,s){s.cy=i,s.target=i},callbackContext:function(i,s,f){return null!=s.qualifier?f.target:i}},ys=function(i){return _e(i)?new Ql(i):i},Xf={createEmitter:function(){var i=this._private;return i.emitter||(i.emitter=new Ii(Xc,this)),this},emitter:function(){return this._private.emitter},on:function(i,s,f){return this.emitter().on(i,ys(s),f),this},removeListener:function(i,s,f){return this.emitter().removeListener(i,ys(s),f),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(i,s,f){return this.emitter().one(i,ys(s),f),this},once:function(i,s,f){return this.emitter().one(i,ys(s),f),this},emit:function(i,s){return this.emitter().emit(i,s),this},emitAndNotify:function(i,s){return this.emit(i),this.notify(i,s),this}};Jn.eventAliasesOn(Xf);var qu={png:function(i){return this._private.renderer.png(i=i||{})},jpg:function(i){var s=this._private.renderer;return(i=i||{}).bg=i.bg||"#fff",s.jpg(i)}};qu.jpeg=qu.jpg;var Nl={layout:function(i){var s=this;if(null!=i)if(null!=i.name){var p,f=i.name,d=s.extension("layout",f);if(null!=d)return p=_e(i.eles)?s.$(i.eles):null!=i.eles?i.eles:s.$(),new d(En({},i,{cy:s,eles:p}));zr("No such layout `"+f+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else zr("A `name` must be specified to make a layout");else zr("Layout options must be specified to make a layout")}};Nl.createLayout=Nl.makeLayout=Nl.layout;var Wh={notify:function(i,s){var f=this._private;if(this.batching()){f.batchNotifications=f.batchNotifications||{};var d=f.batchNotifications[i]=f.batchNotifications[i]||this.collection();null!=s&&d.merge(s)}else if(f.notificationsEnabled){var p=this.renderer();this.destroyed()||!p||p.notify(i,s)}},notifications:function(i){var s=this._private;return void 0===i?s.notificationsEnabled:(s.notificationsEnabled=!!i,this)},noNotifications:function(i){this.notifications(!1),i(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var i=this._private;return null==i.batchCount&&(i.batchCount=0),0===i.batchCount&&(i.batchStyleEles=this.collection(),i.batchNotifications={}),i.batchCount++,this},endBatch:function(){var i=this._private;if(0===i.batchCount)return this;if(i.batchCount--,0===i.batchCount){i.batchStyleEles.updateStyle();var s=this.renderer();Object.keys(i.batchNotifications).forEach(function(f){var d=i.batchNotifications[f];d.empty()?s.notify(f):s.notify(f,d)})}return this},batch:function(i){return this.startBatch(),i(),this.endBatch(),this},batchData:function(i){var s=this;return this.batch(function(){for(var f=Object.keys(i),d=0;d<f.length;d++){var p=f[d],g=i[p];s.getElementById(p).data(g)}})}},Qu=Yr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Kc={renderTo:function(i,s,f,d){return this._private.renderer.renderTo(i,s,f,d),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(i){var s=this,f=s.extension("renderer",i.name);if(null!=f){void 0!==i.wheelSensitivity&&mr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var d=Qu(i);d.cy=s,s._private.renderer=new f(d),this.notify("init")}else zr("Can not initialise: No such renderer `".concat(i.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var i=this;i.notify("destroy");var s=i.container();if(s)for(s._cyreg=null;s.childNodes.length>0;)s.removeChild(s.childNodes[0]);i._private.renderer=null,i.mutableElements().forEach(function(f){var d=f._private;d.rscratch={},d.rstyle={},d.animation.current=[],d.animation.queue=[]})},onRender:function(i){return this.on("render",i)},offRender:function(i){return this.off("render",i)}};Kc.invalidateDimensions=Kc.resize;var Zc={collection:function(i,s){return _e(i)?this.$(i):Ut(i)?i.collection():at(i)?(s||(s={}),new Yi(this,i,s.unique,s.removed)):new Yi(this)},nodes:function(i){var s=this.$(function(f){return f.isNode()});return i?s.filter(i):s},edges:function(i){var s=this.$(function(f){return f.isEdge()});return i?s.filter(i):s},$:function(i){var s=this._private.elements;return i?s.filter(i):s.spawnSelf()},mutableElements:function(){return this._private.elements}};Zc.elements=Zc.filter=Zc.$;var ao={apply:function(l){for(var i=this,d=i._private.cy.collection(),p=0;p<l.length;p++){var g=l[p],w=i.getContextMeta(g);if(!w.empty){var D=i.getContextStyle(w),E=i.applyContextStyle(w,D,g);g._private.appliedInitStyle?i.updateTransitions(g,E.diffProps):g._private.appliedInitStyle=!0,i.updateStyleHints(g)&&d.push(g)}}return d},getPropertiesDiff:function(l,i){var s=this,f=s._private.propDiffs=s._private.propDiffs||{},d=l+"-"+i,p=f[d];if(p)return p;for(var g=[],w={},D=0;D<s.length;D++){var E=s[D],P="t"===i[D],U="t"===l[D]!==P,W=E.mappedProperties.length>0;if(U||P&&W){var z=void 0;U&&W||U?z=E.properties:W&&(z=E.mappedProperties);for(var Z=0;Z<z.length;Z++){for(var q=z[Z],re=q.name,fe=!1,de=D+1;de<s.length&&("t"!==i[de]||!(fe=null!=s[de].properties[q.name]));de++);!w[re]&&!fe&&(w[re]=!0,g.push(re))}}}return f[d]=g,g},getContextMeta:function(l){for(var f,i=this,s="",d=l._private.styleCxtKey||"",p=0;p<i.length;p++){var g=i[p];s+=g.selector&&g.selector.matches(l)?"t":"f"}return f=i.getPropertiesDiff(d,s),l._private.styleCxtKey=s,{key:s,diffPropNames:f,empty:0===f.length}},getContextStyle:function(l){var i=l.key,f=this._private.contextStyles=this._private.contextStyles||{};if(f[i])return f[i];for(var d={_private:{key:i}},p=0;p<this.length;p++){var g=this[p];if("t"===i[p])for(var D=0;D<g.properties.length;D++){var E=g.properties[D];d[E.name]=E}}return f[i]=d,d},applyContextStyle:function(l,i,s){for(var d=l.diffPropNames,p={},g=this.types,w=0;w<d.length;w++){var D=d[w],E=i[D],M=s.pstyle(D);if(!E){if(!M)continue;E=M.bypass?{name:D,deleteBypassed:!0}:{name:D,delete:!0}}if(M!==E){if(E.mapped===g.fn&&null!=M&&null!=M.mapping&&M.mapping.value===E.value){var P=M.mapping;if((P.fnValue=E.value(s))===P.prevFnValue)continue}var W=p[D]={prev:M};this.applyParsedProperty(s,E),W.next=s.pstyle(D),W.next&&W.next.bypass&&(W.next=W.next.bypassed)}}return{diffProps:p}},updateStyleHints:function(l){var f,i=l._private,s=this,d=s.propertyGroupKeys,p=function(zt,Qt,Fn){return s.getPropertiesHash(zt,Qt,Fn)},g=i.styleKey;if(l.removed())return!1;var zt,w="nodes"===i.group,D=l._private.style;f=Object.keys(D);for(var E=0;E<d.length;E++)i.styleKeys[d[E]]=[fa,Ms];for(var P=function(zt,Qt){return i.styleKeys[Qt][0]=Ia(zt,i.styleKeys[Qt][0])},U=function(zt,Qt){return i.styleKeys[Qt][1]=Is(zt,i.styleKeys[Qt][1])},W=function(zt,Qt){P(zt,Qt),U(zt,Qt)},z=function(zt,Qt){for(var Fn=0;Fn<zt.length;Fn++){var Xn=zt.charCodeAt(Fn);P(Xn,Qt),U(Xn,Qt)}},re=0;re<f.length;re++){var fe=f[re],de=D[fe];if(null!=de){var me=this.properties[fe],Ie=me.type,Ae=me.groupKey,ye=void 0;null!=me.hashOverride?ye=me.hashOverride(l,de):null!=de.pfValue&&(ye=de.pfValue);var Me=null==me.enums?de.value:null,be=null!=ye,Ee=de.units;!Ie.number||!be&&null==Me||Ie.multiple?z(de.strValue,Ae):(W(-128<(zt=be?ye:Me)&&zt<128&&Math.floor(zt)!==zt?2e9-(1024*zt|0):zt,Ae),!be&&null!=Ee&&z(Ee,Ae))}}for(var Oe=[fa,Ms],Ye=0;Ye<d.length;Ye++){var Ge=i.styleKeys[d[Ye]];Oe[0]=Ia(Ge[0],Oe[0]),Oe[1]=Is(Ge[1],Oe[1])}i.styleKey=function(i,s){return 2097152*i+s}(Oe[0],Oe[1]);var qe=i.styleKeys;i.labelDimsKey=Ua(qe.labelDimensions);var it=p(l,["label"],qe.labelDimensions);if(i.labelKey=Ua(it),i.labelStyleKey=Ua(da(qe.commonLabel,it)),!w){var ht=p(l,["source-label"],qe.labelDimensions);i.sourceLabelKey=Ua(ht),i.sourceLabelStyleKey=Ua(da(qe.commonLabel,ht));var tt=p(l,["target-label"],qe.labelDimensions);i.targetLabelKey=Ua(tt),i.targetLabelStyleKey=Ua(da(qe.commonLabel,tt))}if(w){var dt=i.styleKeys,Ke=dt.pie,Dt=[dt.nodeBody,dt.nodeBorder,dt.backgroundImage,dt.compound,Ke].filter(function(Mt){return null!=Mt}).reduce(da,[fa,Ms]);i.nodeKey=Ua(Dt),i.hasPie=null!=Ke&&Ke[0]!==fa&&Ke[1]!==Ms}return g!==i.styleKey},clearStyleHints:function(l){var i=l._private;i.styleCxtKey="",i.styleKeys={},i.styleKey=null,i.labelKey=null,i.labelStyleKey=null,i.sourceLabelKey=null,i.sourceLabelStyleKey=null,i.targetLabelKey=null,i.targetLabelStyleKey=null,i.nodeKey=null,i.hasPie=null},applyParsedProperty:function(l,i){var p,s=this,f=i,d=l._private.style,g=s.types,w=s.properties[f.name].type,D=f.bypass,E=d[f.name],M=E&&E.bypass,P=l._private,U="mapping",W=function(St){return null==St?null:null!=St.pfValue?St.pfValue:St.value},z=function(){var St=W(E),Tt=W(f);s.checkTriggers(l,f.name,St,Tt)};if(f&&"pie"===f.name.substr(0,3)&&mr("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===i.name&&l.isEdge()&&("bezier"!==i.value&&l.isLoop()||"haystack"===i.value&&(l.source().isParent()||l.target().isParent()))&&(f=i=this.parse(i.name,"bezier",D)),f.delete)return d[f.name]=void 0,z(),!0;if(f.deleteBypassed)return E?!!E.bypass&&(E.bypassed=void 0,z(),!0):(z(),!0);if(f.deleteBypass)return E?!!E.bypass&&(d[f.name]=E.bypassed,z(),!0):(z(),!0);var Z=function(){mr("Do not assign mappings to elements without corresponding data (i.e. ele `"+l.id()+"` has no mapping for property `"+f.name+"` with data field `"+f.field+"`); try a `["+f.field+"]` selector to limit scope to elements with `"+f.field+"` defined")};switch(f.mapped){case g.mapData:for(var q=f.field.split("."),re=P.data,fe=0;fe<q.length&&re;fe++)re=re[q[fe]];if(null==re)return Z(),!1;var me;if(!$e(re))return mr("Do not use continuous mappers without specifying numeric data (i.e. `"+f.field+": "+re+"` for `"+l.id()+"` is non-numeric)"),!1;var Ie=f.fieldMax-f.fieldMin;if((me=0===Ie?0:(re-f.fieldMin)/Ie)<0?me=0:me>1&&(me=1),w.color){var Ae=f.valueMin[0],Me=f.valueMin[1],be=f.valueMax[1],Le=f.valueMin[2],Pe=f.valueMax[2],Ee=null==f.valueMin[3]?1:f.valueMin[3],Be=null==f.valueMax[3]?1:f.valueMax[3],Oe=[Math.round(Ae+(f.valueMax[0]-Ae)*me),Math.round(Me+(be-Me)*me),Math.round(Le+(Pe-Le)*me),Math.round(Ee+(Be-Ee)*me)];p={bypass:f.bypass,name:f.name,value:Oe,strValue:"rgb("+Oe[0]+", "+Oe[1]+", "+Oe[2]+")"}}else{if(!w.number)return!1;p=this.parse(f.name,f.valueMin+(f.valueMax-f.valueMin)*me,f.bypass,U)}if(!p)return Z(),!1;p.mapping=f,f=p;break;case g.data:for(var He=f.field.split("."),Ge=P.data,qe=0;qe<He.length&&Ge;qe++)Ge=Ge[He[qe]];if(null!=Ge&&(p=this.parse(f.name,Ge,f.bypass,U)),!p)return Z(),!1;p.mapping=f,f=p;break;case g.fn:var tt=null!=f.fnValue?f.fnValue:(0,f.value)(l);if(f.prevFnValue=tt,null==tt)return mr("Custom function mappers may not return null (i.e. `"+f.name+"` for ele `"+l.id()+"` is null)"),!1;if(!(p=this.parse(f.name,tt,f.bypass,U)))return mr("Custom function mappers may not return invalid values for the property type (i.e. `"+f.name+"` for ele `"+l.id()+"` is invalid)"),!1;p.mapping=vi(f),f=p;break;case void 0:break;default:return!1}return D?(f.bypassed=M?E.bypassed:E,d[f.name]=f):M?E.bypassed=f:d[f.name]=f,z(),!0},cleanElements:function(l,i){for(var s=0;s<l.length;s++){var f=l[s];if(this.clearStyleHints(f),f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),i)for(var d=f._private.style,p=Object.keys(d),g=0;g<p.length;g++){var w=p[g],D=d[w];null!=D&&(D.bypass?D.bypassed=null:d[w]=null)}else f._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(l,i){var s=this,f=l._private,d=l.pstyle("transition-property").value,p=l.pstyle("transition-duration").pfValue,g=l.pstyle("transition-delay").pfValue;if(d.length>0&&p>0){for(var w={},D=!1,E=0;E<d.length;E++){var M=d[E],P=l.pstyle(M),U=i[M];if(U){var z=U.prev,Z=null!=U.next?U.next:P,q=!1,re=void 0;z&&($e(z.pfValue)&&$e(Z.pfValue)?re=z.pfValue+1e-6*(q=Z.pfValue-z.pfValue):$e(z.value)&&$e(Z.value)?re=z.value+1e-6*(q=Z.value-z.value):at(z.value)&&at(Z.value)&&(q=z.value[0]!==Z.value[0]||z.value[1]!==Z.value[1]||z.value[2]!==Z.value[2],re=z.strValue),q&&(w[M]=Z.strValue,this.applyBypass(l,M,re),D=!0))}}if(!D)return;f.transitioning=!0,new Ya(function(de){g>0?l.delayAnimation(g).play().promise().then(de):de()}).then(function(){return l.animation({style:w,duration:p,easing:l.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){s.removeBypasses(l,d),l.emitAndNotify("style"),f.transitioning=!1})}else f.transitioning&&(this.removeBypasses(l,d),l.emitAndNotify("style"),f.transitioning=!1)},checkTrigger:function(l,i,s,f,d,p){var g=this.properties[i],w=d(g);null!=w&&w(s,f)&&p(g)},checkZOrderTrigger:function(l,i,s,f){var d=this;this.checkTrigger(l,i,s,f,function(p){return p.triggersZOrder},function(){d._private.cy.notify("zorder",l)})},checkBoundsTrigger:function(l,i,s,f){this.checkTrigger(l,i,s,f,function(d){return d.triggersBounds},function(d){l.dirtyCompoundBoundsCache(),l.dirtyBoundingBoxCache(),d.triggersBoundsOfParallelBeziers&&("curve-style"===i&&("bezier"===s||"bezier"===f)||"display"===i&&("none"===s||"none"===f))&&l.parallelEdges().forEach(function(p){p.isBundledBezier()&&p.dirtyBoundingBoxCache()})})},checkTriggers:function(l,i,s,f){l.dirtyStyleCache(),this.checkZOrderTrigger(l,i,s,f),this.checkBoundsTrigger(l,i,s,f)}},so={applyBypass:function(l,i,s,f){var p=[];if("*"===i||"**"===i){if(void 0!==s)for(var w=0;w<this.properties.length;w++){var M=this.parse(this.properties[w].name,s,!0);M&&p.push(M)}}else if(_e(i)){var P=this.parse(i,s,!0);P&&p.push(P)}else{if(!Xe(i))return!1;var U=i;f=s;for(var W=Object.keys(U),z=0;z<W.length;z++){var Z=W[z],q=U[Z];if(void 0===q&&(q=U[hn(Z)]),void 0!==q){var re=this.parse(Z,q,!0);re&&p.push(re)}}}if(0===p.length)return!1;for(var fe=!1,de=0;de<l.length;de++){for(var me=l[de],Ie={},Ae=void 0,ye=0;ye<p.length;ye++){var Me=p[ye];if(f){var be=me.pstyle(Me.name);Ae=Ie[Me.name]={prev:be}}fe=this.applyParsedProperty(me,vi(Me))||fe,f&&(Ae.next=me.pstyle(Me.name))}fe&&this.updateStyleHints(me),f&&this.updateTransitions(me,Ie,!0)}return fe},overrideBypass:function(l,i,s){i=fr(i);for(var f=0;f<l.length;f++){var d=l[f],p=d._private.style[i],g=this.properties[i].type,w=g.color,D=g.mutiple,E=p?null!=p.pfValue?p.pfValue:p.value:null;p&&p.bypass?(p.value=s,null!=p.pfValue&&(p.pfValue=s),p.strValue=w?"rgb("+s.join(",")+")":D?s.join(" "):""+s,this.updateStyleHints(d)):this.applyBypass(d,i,s),this.checkTriggers(d,i,E,s)}},removeAllBypasses:function(l,i){return this.removeBypasses(l,this.propertyNames,i)},removeBypasses:function(l,i,s){for(var d=0;d<l.length;d++){for(var p=l[d],g={},w=0;w<i.length;w++){var D=i[w],E=this.properties[D],M=p.pstyle(E.name);if(M&&M.bypass){var U=this.parse(D,"",!0),W=g[E.name]={prev:M};this.applyParsedProperty(p,U),W.next=p.pstyle(E.name)}}this.updateStyleHints(p),s&&this.updateTransitions(p,g,!0)}}},Ba={getEmSizeInPixels:function(){var l=this.containerCss("font-size");return null!=l?parseFloat(l):1},containerCss:function(l){var s=this._private.cy.container();if(oe&&s&&oe.getComputedStyle)return oe.getComputedStyle(s).getPropertyValue(l)}},Ar={getRenderedStyle:function(l,i){return i?this.getStylePropertyValue(l,i,!0):this.getRawStyle(l,!0)},getRawStyle:function(l,i){var s=this;if(l=l[0]){for(var f={},d=0;d<s.properties.length;d++){var p=s.properties[d],g=s.getStylePropertyValue(l,p.name,i);null!=g&&(f[p.name]=g,f[hn(p.name)]=g)}return f}},getIndexedStyle:function(l,i,s,f){return l.pstyle(i)[s][f]??l.cy().style().getDefaultProperty(i)[s][0]},getStylePropertyValue:function(l,i,s){if(l=l[0]){var d=this.properties[i];d.alias&&(d=d.pointsTo);var p=d.type,g=l.pstyle(d.name);if(g){var w=g.value,D=g.units,E=g.strValue;if(s&&p.number&&null!=w&&$e(w)){var M=l.cy().zoom(),P=function(q){return q*M},U=function(q,re){return P(q)+re},W=at(w);return(W?D.every(function(Z){return null!=Z}):null!=D)?W?w.map(function(Z,q){return U(Z,D[q])}).join(" "):U(w,D):W?w.map(function(Z){return _e(Z)?Z:""+P(Z)}).join(" "):""+P(w)}if(null!=E)return E}return null}},getAnimationStartStyle:function(l,i){for(var s={},f=0;f<i.length;f++){var p=i[f].name,g=l.pstyle(p);void 0!==g&&(g=Xe(g)?this.parse(p,g.strValue):this.parse(p,g)),g&&(s[p]=g)}return s},getPropsList:function(l){var s=[],f=l,d=this.properties;if(f)for(var p=Object.keys(f),g=0;g<p.length;g++){var w=p[g],D=f[w],E=d[w]||d[fr(w)],M=this.parse(E.name,D);M&&s.push(M)}return s},getNonDefaultPropertiesHash:function(l,i,s){var p,g,w,D,E,f=s.slice();for(D=0;D<i.length;D++)if(null!=(p=l.pstyle(i[D],!1)))if(null!=p.pfValue)f[0]=Ia(w,f[0]),f[1]=Is(w,f[1]);else for(g=p.strValue,E=0;E<g.length;E++)w=g.charCodeAt(E),f[0]=Ia(w,f[0]),f[1]=Is(w,f[1]);return f}};Ar.getPropertiesHash=Ar.getNonDefaultPropertiesHash;var qc={appendFromJson:function(l){for(var i=this,s=0;s<l.length;s++){var f=l[s],d=f.selector,p=f.style||f.css,g=Object.keys(p);i.selector(d);for(var w=0;w<g.length;w++){var D=g[w];i.css(D,p[D])}}return i},fromJson:function(l){var i=this;return i.resetToDefault(),i.appendFromJson(l),i},json:function(){for(var l=[],i=this.defaultLength;i<this.length;i++){for(var s=this[i],f=s.selector,d=s.properties,p={},g=0;g<d.length;g++){var w=d[g];p[w.name]=w.strValue}l.push({selector:f?f.toString():"core",style:p})}return l}},zd={appendFromString:function(l){var d,p,g,s=this,f=""+l;function w(){f=f.length>d.length?f.substr(d.length):""}function D(){p=p.length>g.length?p.substr(g.length):""}for(f=f.replace(/[/][*](\s|.)+?[*][/]/g,"");!f.match(/^\s*$/);){var M=f.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!M){mr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+f);break}d=M[0];var P=M[1];if("core"!==P&&new Ql(P).invalid)mr("Skipping parsing of block: Invalid selector found in string stylesheet: "+P),w();else{var W=M[2],z=!1;p=W;for(var Z=[];!p.match(/^\s*$/);){var re=p.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!re){mr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+W),z=!0;break}g=re[0];var fe=re[1],de=re[2];this.properties[fe]?s.parse(fe,de)?(Z.push({name:fe,val:de}),D()):(mr("Skipping property: Invalid property definition in: "+g),D()):(mr("Skipping property: Invalid property name in: "+g),D())}if(z){w();break}s.selector(P);for(var Ae=0;Ae<Z.length;Ae++){var ye=Z[Ae];s.css(ye.name,ye.val)}w()}}return s},fromString:function(l){var i=this;return i.resetToDefault(),i.appendFromString(l),i}},lo={};(function(){var l=nn,i=Bi,s=Ci,p=function(Dt){return"^"+Dt+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},g=function(Dt){var Mt=l+"|\\w+|"+i+"|"+s+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Dt+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+l+")\\s*\\,\\s*("+l+")\\s*,\\s*("+Mt+")\\s*\\,\\s*("+Mt+")\\)$"},w=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];lo.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:p("data")},layoutData:{mapping:!0,regex:p("layoutData")},scratch:{mapping:!0,regex:p("scratch")},mapData:{mapping:!0,regex:g("mapData")},mapLayoutData:{mapping:!0,regex:g("mapLayoutData")},mapScratch:{mapping:!0,regex:g("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:w,singleRegexMatchValue:!0},urls:{regexes:w,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Dt,Mt){switch(Dt.length){case 2:return"deg"!==Mt[0]&&"rad"!==Mt[0]&&"deg"!==Mt[1]&&"rad"!==Mt[1];case 1:return _e(Dt[0])||"deg"===Mt[0]||"rad"===Mt[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+l+")\\s*,\\s*("+l+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+l+")\\s*,\\s*("+l+")\\s*,\\s*("+l+")\\s*,\\s*("+l+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Dt){var Mt=Dt.length;return 1===Mt||2===Mt||4===Mt}}};var D={zeroNonZero:function(Dt,Mt){return(null==Dt||null==Mt)&&Dt!==Mt||0==Dt&&0!=Mt||0!=Dt&&0==Mt},any:function(Dt,Mt){return Dt!=Mt},emptyNonEmpty:function(Dt,Mt){var zt=Lt(Dt),Qt=Lt(Mt);return zt&&!Qt||!zt&&Qt}},E=lo.types,M=[{name:"label",type:E.text,triggersBounds:D.any,triggersZOrder:D.emptyNonEmpty},{name:"text-rotation",type:E.textRotation,triggersBounds:D.any},{name:"text-margin-x",type:E.bidirectionalSize,triggersBounds:D.any},{name:"text-margin-y",type:E.bidirectionalSize,triggersBounds:D.any}],P=[{name:"source-label",type:E.text,triggersBounds:D.any},{name:"source-text-rotation",type:E.textRotation,triggersBounds:D.any},{name:"source-text-margin-x",type:E.bidirectionalSize,triggersBounds:D.any},{name:"source-text-margin-y",type:E.bidirectionalSize,triggersBounds:D.any},{name:"source-text-offset",type:E.size,triggersBounds:D.any}],U=[{name:"target-label",type:E.text,triggersBounds:D.any},{name:"target-text-rotation",type:E.textRotation,triggersBounds:D.any},{name:"target-text-margin-x",type:E.bidirectionalSize,triggersBounds:D.any},{name:"target-text-margin-y",type:E.bidirectionalSize,triggersBounds:D.any},{name:"target-text-offset",type:E.size,triggersBounds:D.any}],W=[{name:"font-family",type:E.fontFamily,triggersBounds:D.any},{name:"font-style",type:E.fontStyle,triggersBounds:D.any},{name:"font-weight",type:E.fontWeight,triggersBounds:D.any},{name:"font-size",type:E.size,triggersBounds:D.any},{name:"text-transform",type:E.textTransform,triggersBounds:D.any},{name:"text-wrap",type:E.textWrap,triggersBounds:D.any},{name:"text-overflow-wrap",type:E.textOverflowWrap,triggersBounds:D.any},{name:"text-max-width",type:E.size,triggersBounds:D.any},{name:"text-outline-width",type:E.size,triggersBounds:D.any},{name:"line-height",type:E.positiveNumber,triggersBounds:D.any}],z=[{name:"text-valign",type:E.valign,triggersBounds:D.any},{name:"text-halign",type:E.halign,triggersBounds:D.any},{name:"color",type:E.color},{name:"text-outline-color",type:E.color},{name:"text-outline-opacity",type:E.zeroOneNumber},{name:"text-background-color",type:E.color},{name:"text-background-opacity",type:E.zeroOneNumber},{name:"text-background-padding",type:E.size,triggersBounds:D.any},{name:"text-border-opacity",type:E.zeroOneNumber},{name:"text-border-color",type:E.color},{name:"text-border-width",type:E.size,triggersBounds:D.any},{name:"text-border-style",type:E.borderStyle,triggersBounds:D.any},{name:"text-background-shape",type:E.textBackgroundShape,triggersBounds:D.any},{name:"text-justification",type:E.justification}],Z=[{name:"events",type:E.bool},{name:"text-events",type:E.bool}],q=[{name:"display",type:E.display,triggersZOrder:D.any,triggersBounds:D.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:E.visibility,triggersZOrder:D.any},{name:"opacity",type:E.zeroOneNumber,triggersZOrder:D.zeroNonZero},{name:"text-opacity",type:E.zeroOneNumber},{name:"min-zoomed-font-size",type:E.size},{name:"z-compound-depth",type:E.zCompoundDepth,triggersZOrder:D.any},{name:"z-index-compare",type:E.zIndexCompare,triggersZOrder:D.any},{name:"z-index",type:E.nonNegativeInt,triggersZOrder:D.any}],re=[{name:"overlay-padding",type:E.size,triggersBounds:D.any},{name:"overlay-color",type:E.color},{name:"overlay-opacity",type:E.zeroOneNumber,triggersBounds:D.zeroNonZero},{name:"overlay-shape",type:E.overlayShape,triggersBounds:D.any}],fe=[{name:"underlay-padding",type:E.size,triggersBounds:D.any},{name:"underlay-color",type:E.color},{name:"underlay-opacity",type:E.zeroOneNumber,triggersBounds:D.zeroNonZero},{name:"underlay-shape",type:E.overlayShape,triggersBounds:D.any}],de=[{name:"transition-property",type:E.propList},{name:"transition-duration",type:E.time},{name:"transition-delay",type:E.time},{name:"transition-timing-function",type:E.easing}],me=function(Dt,Mt){return"label"===Mt.value?-Dt.poolIndex():Mt.pfValue},Ie=[{name:"height",type:E.nodeSize,triggersBounds:D.any,hashOverride:me},{name:"width",type:E.nodeSize,triggersBounds:D.any,hashOverride:me},{name:"shape",type:E.nodeShape,triggersBounds:D.any},{name:"shape-polygon-points",type:E.polygonPointList,triggersBounds:D.any},{name:"background-color",type:E.color},{name:"background-fill",type:E.fill},{name:"background-opacity",type:E.zeroOneNumber},{name:"background-blacken",type:E.nOneOneNumber},{name:"background-gradient-stop-colors",type:E.colors},{name:"background-gradient-stop-positions",type:E.percentages},{name:"background-gradient-direction",type:E.gradientDirection},{name:"padding",type:E.sizeMaybePercent,triggersBounds:D.any},{name:"padding-relative-to",type:E.paddingRelativeTo,triggersBounds:D.any},{name:"bounds-expansion",type:E.boundsExpansion,triggersBounds:D.any}],Ae=[{name:"border-color",type:E.color},{name:"border-opacity",type:E.zeroOneNumber},{name:"border-width",type:E.size,triggersBounds:D.any},{name:"border-style",type:E.borderStyle}],ye=[{name:"background-image",type:E.urls},{name:"background-image-crossorigin",type:E.bgCrossOrigin},{name:"background-image-opacity",type:E.zeroOneNumbers},{name:"background-image-containment",type:E.bgContainment},{name:"background-image-smoothing",type:E.bools},{name:"background-position-x",type:E.bgPos},{name:"background-position-y",type:E.bgPos},{name:"background-width-relative-to",type:E.bgRelativeTo},{name:"background-height-relative-to",type:E.bgRelativeTo},{name:"background-repeat",type:E.bgRepeat},{name:"background-fit",type:E.bgFit},{name:"background-clip",type:E.bgClip},{name:"background-width",type:E.bgWH},{name:"background-height",type:E.bgWH},{name:"background-offset-x",type:E.bgPos},{name:"background-offset-y",type:E.bgPos}],Me=[{name:"position",type:E.position,triggersBounds:D.any},{name:"compound-sizing-wrt-labels",type:E.compoundIncludeLabels,triggersBounds:D.any},{name:"min-width",type:E.size,triggersBounds:D.any},{name:"min-width-bias-left",type:E.sizeMaybePercent,triggersBounds:D.any},{name:"min-width-bias-right",type:E.sizeMaybePercent,triggersBounds:D.any},{name:"min-height",type:E.size,triggersBounds:D.any},{name:"min-height-bias-top",type:E.sizeMaybePercent,triggersBounds:D.any},{name:"min-height-bias-bottom",type:E.sizeMaybePercent,triggersBounds:D.any}],be=[{name:"line-style",type:E.lineStyle},{name:"line-color",type:E.color},{name:"line-fill",type:E.fill},{name:"line-cap",type:E.lineCap},{name:"line-opacity",type:E.zeroOneNumber},{name:"line-dash-pattern",type:E.numbers},{name:"line-dash-offset",type:E.number},{name:"line-gradient-stop-colors",type:E.colors},{name:"line-gradient-stop-positions",type:E.percentages},{name:"curve-style",type:E.curveStyle,triggersBounds:D.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:E.zeroOneNumber,triggersBounds:D.any},{name:"source-endpoint",type:E.edgeEndpoint,triggersBounds:D.any},{name:"target-endpoint",type:E.edgeEndpoint,triggersBounds:D.any},{name:"control-point-step-size",type:E.size,triggersBounds:D.any},{name:"control-point-distances",type:E.bidirectionalSizes,triggersBounds:D.any},{name:"control-point-weights",type:E.numbers,triggersBounds:D.any},{name:"segment-distances",type:E.bidirectionalSizes,triggersBounds:D.any},{name:"segment-weights",type:E.numbers,triggersBounds:D.any},{name:"taxi-turn",type:E.bidirectionalSizeMaybePercent,triggersBounds:D.any},{name:"taxi-turn-min-distance",type:E.size,triggersBounds:D.any},{name:"taxi-direction",type:E.axisDirection,triggersBounds:D.any},{name:"edge-distances",type:E.edgeDistances,triggersBounds:D.any},{name:"arrow-scale",type:E.positiveNumber,triggersBounds:D.any},{name:"loop-direction",type:E.angle,triggersBounds:D.any},{name:"loop-sweep",type:E.angle,triggersBounds:D.any},{name:"source-distance-from-node",type:E.size,triggersBounds:D.any},{name:"target-distance-from-node",type:E.size,triggersBounds:D.any}],Le=[{name:"ghost",type:E.bool,triggersBounds:D.any},{name:"ghost-offset-x",type:E.bidirectionalSize,triggersBounds:D.any},{name:"ghost-offset-y",type:E.bidirectionalSize,triggersBounds:D.any},{name:"ghost-opacity",type:E.zeroOneNumber}],Pe=[{name:"selection-box-color",type:E.color},{name:"selection-box-opacity",type:E.zeroOneNumber},{name:"selection-box-border-color",type:E.color},{name:"selection-box-border-width",type:E.size},{name:"active-bg-color",type:E.color},{name:"active-bg-opacity",type:E.zeroOneNumber},{name:"active-bg-size",type:E.size},{name:"outside-texture-bg-color",type:E.color},{name:"outside-texture-bg-opacity",type:E.zeroOneNumber}],Ee=[];lo.pieBackgroundN=16,Ee.push({name:"pie-size",type:E.sizeMaybePercent});for(var Be=1;Be<=lo.pieBackgroundN;Be++)Ee.push({name:"pie-"+Be+"-background-color",type:E.color}),Ee.push({name:"pie-"+Be+"-background-size",type:E.percent}),Ee.push({name:"pie-"+Be+"-background-opacity",type:E.zeroOneNumber});var Oe=[],Ye=lo.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:E.arrowShape,triggersBounds:D.any},{name:"arrow-color",type:E.color},{name:"arrow-fill",type:E.arrowFill}].forEach(function(Ke){Ye.forEach(function(Dt){Oe.push({name:Dt+"-"+Ke.name,type:Ke.type,triggersBounds:Ke.triggersBounds})})},{});var He=lo.properties=[].concat(Z,de,q,re,fe,Le,z,W,M,P,U,Ie,Ae,ye,Ee,Me,be,Oe,Pe),Ge=lo.propertyGroups={behavior:Z,transition:de,visibility:q,overlay:re,underlay:fe,ghost:Le,commonLabel:z,labelDimensions:W,mainLabel:M,sourceLabel:P,targetLabel:U,nodeBody:Ie,nodeBorder:Ae,backgroundImage:ye,pie:Ee,compound:Me,edgeLine:be,edgeArrow:Oe,core:Pe},qe=lo.propertyGroupNames={};(lo.propertyGroupKeys=Object.keys(Ge)).forEach(function(Ke){qe[Ke]=Ge[Ke].map(function(Dt){return Dt.name}),Ge[Ke].forEach(function(Dt){return Dt.groupKey=Ke})});var ht=lo.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];lo.propertyNames=He.map(function(Ke){return Ke.name});for(var tt=0;tt<He.length;tt++){var dt=He[tt];He[dt.name]=dt}for(var St=0;St<ht.length;St++){var Tt=ht[St],vt={name:Tt.name,alias:!0,pointsTo:He[Tt.pointsTo]};He.push(vt),He[Tt.name]=vt}})(),lo.getDefaultProperty=function(l){return this.getDefaultProperties()[l]},lo.getDefaultProperties=function(){var l=this._private;if(null!=l.defaultProperties)return l.defaultProperties;for(var i=En({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(D,E){for(var M=1;M<=lo.pieBackgroundN;M++)D[E.name.replace("{{i}}",M)]=E.value;return D},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(D,E){return lo.arrowPrefixes.forEach(function(M){D[M+"-"+E.name]=E.value}),D},{})),s={},f=0;f<this.properties.length;f++){var d=this.properties[f];if(!d.pointsTo){var p=d.name,w=this.parse(p,i[p]);s[p]=w}}return l.defaultProperties=s,l.defaultProperties},lo.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Qc={parse:function(l,i,s,f){var d=this;if(et(i))return d.parseImplWarn(l,i,s,f);var M,D=yc(l,""+i,s?"t":"f","mapping"===f||!0===f||!1===f||null==f?"dontcare":f),E=d.propCache=d.propCache||[];return(M=E[D])||(M=E[D]=d.parseImplWarn(l,i,s,f)),(s||"mapping"===f)&&(M=vi(M))&&(M.value=vi(M.value)),M},parseImplWarn:function(l,i,s,f){var d=this.parseImpl(l,i,s,f);return!d&&null!=i&&mr("The style property `".concat(l,": ").concat(i,"` is invalid")),d&&("width"===d.name||"height"===d.name)&&"label"===i&&mr("The style value of `label` is deprecated for `"+d.name+"`"),d}};Qc.parseImpl=function(l,i,s,f){var d=this;l=fr(l);var p=d.properties[l],g=i,w=d.types;if(!p||void 0===i)return null;p.alias&&(l=(p=p.pointsTo).name);var D=_e(i);D&&(i=i.trim());var M,P,E=p.type;if(!E)return null;if(s&&(""===i||null===i))return{name:l,value:i,bypass:!0,deleteBypass:!0};if(et(i))return{name:l,value:i,strValue:"fn",mapped:w.fn,bypass:s};if(!(!D||f||i.length<7||"a"!==i[1])){if(i.length>=7&&"d"===i[0]&&(M=new RegExp(w.data.regex).exec(i)))return!s&&{name:l,value:M,strValue:""+i,mapped:w.data,field:M[1],bypass:s};if(i.length>=10&&"m"===i[0]&&(P=new RegExp(w.mapData.regex).exec(i))){if(s||E.multiple)return!1;var W=w.mapData;if(!E.color&&!E.number)return!1;var z=this.parse(l,P[4]);if(!z||z.mapped)return!1;var Z=this.parse(l,P[5]);if(!Z||Z.mapped)return!1;if(z.pfValue===Z.pfValue||z.strValue===Z.strValue)return mr("`"+l+": "+i+"` is not a valid mapper because the output range is zero; converting to `"+l+": "+z.strValue+"`"),this.parse(l,z.strValue);if(E.color){var q=z.value,re=Z.value;if(!(q[0]!==re[0]||q[1]!==re[1]||q[2]!==re[2]||q[3]!==re[3]&&(null!=q[3]&&1!==q[3]||null!=re[3]&&1!==re[3])))return!1}return{name:l,value:P,strValue:""+i,mapped:W,field:P[1],fieldMin:parseFloat(P[2]),fieldMax:parseFloat(P[3]),valueMin:z.value,valueMax:Z.value,bypass:s}}}if(E.multiple&&"multiple"!==f){var de;if(de=D?i.split(/\s+/):at(i)?i:[i],E.evenMultiple&&de.length%2!=0)return null;for(var me=[],Ie=[],Ae=[],ye="",Me=!1,be=0;be<de.length;be++){var Le=d.parse(l,de[be],s,"multiple");Me=Me||_e(Le.value),me.push(Le.value),Ae.push(null!=Le.pfValue?Le.pfValue:Le.value),Ie.push(Le.units),ye+=(be>0?" ":"")+Le.strValue}return E.validate&&!E.validate(me,Ie)?null:E.singleEnum&&Me?1===me.length&&_e(me[0])?{name:l,value:me[0],strValue:me[0],bypass:s}:null:{name:l,value:me,pfValue:Ae,strValue:ye,bypass:s,units:Ie}}var Pe=function(){for(var Mt=0;Mt<E.enums.length;Mt++)if(E.enums[Mt]===i)return{name:l,value:i,strValue:""+i,bypass:s};return null};if(E.number){var Ee,Be="px";if(E.units&&(Ee=E.units),E.implicitUnits&&(Be=E.implicitUnits),!E.unitless)if(D){var Oe="px|em"+(E.allowPercent?"|\\%":"");Ee&&(Oe=Ee);var Ye=i.match("^("+nn+")("+Oe+")?$");Ye&&(i=Ye[1],Ee=Ye[2]||Be)}else(!Ee||E.implicitUnits)&&(Ee=Be);if(i=parseFloat(i),isNaN(i)&&void 0===E.enums)return null;if(isNaN(i)&&void 0!==E.enums)return i=g,Pe();if(E.integer&&!function(i){return $e(i)&&Math.floor(i)===i}(i)||void 0!==E.min&&(i<E.min||E.strictMin&&i===E.min)||void 0!==E.max&&(i>E.max||E.strictMax&&i===E.max))return null;var He={name:l,value:i,strValue:""+i+(Ee||""),units:Ee,bypass:s};return He.pfValue=E.unitless||"px"!==Ee&&"em"!==Ee?i:"px"!==Ee&&Ee?this.getEmSizeInPixels()*i:i,("ms"===Ee||"s"===Ee)&&(He.pfValue="ms"===Ee?i:1e3*i),("deg"===Ee||"rad"===Ee)&&(He.pfValue="rad"===Ee?i:function(i){return Math.PI*i/180}(i)),"%"===Ee&&(He.pfValue=i/100),He}if(E.propList){var Ge=[],qe=""+i;if("none"!==qe){for(var it=qe.split(/\s*,\s*|\s+/),ht=0;ht<it.length;ht++){var tt=it[ht].trim();d.properties[tt]?Ge.push(tt):mr("`"+tt+"` is not a valid property name")}if(0===Ge.length)return null}return{name:l,value:Ge,strValue:0===Ge.length?"none":Ge.join(" "),bypass:s}}if(E.color){var dt=function(i){return(at(i)?i:null)||function(i){return ls[i.toLowerCase()]}(i)||function(i){if((4===i.length||7===i.length)&&"#"===i[0]){var f,d,p,g=16;return 4===i.length?(f=parseInt(i[1]+i[1],g),d=parseInt(i[2]+i[2],g),p=parseInt(i[3]+i[3],g)):(f=parseInt(i[1]+i[2],g),d=parseInt(i[3]+i[4],g),p=parseInt(i[5]+i[6],g)),[f,d,p]}}(i)||function(i){var s,f=new RegExp("^"+gi+"$").exec(i);if(f){s=[];for(var d=[],p=1;p<=3;p++){var g=f[p];if("%"===g[g.length-1]&&(d[p]=!0),g=parseFloat(g),d[p]&&(g=g/100*255),g<0||g>255)return;s.push(Math.floor(g))}if((d[1]||d[2]||d[3])&&!(d[1]&&d[2]&&d[3]))return;var E=f[4];if(void 0!==E){if((E=parseFloat(E))<0||E>1)return;s.push(E)}}return s}(i)||function(i){var s,f,d,p,g,w,D,E;function M(z,Z,q){return q<0&&(q+=1),q>1&&(q-=1),q<1/6?z+6*(Z-z)*q:q<.5?Z:q<2/3?z+(Z-z)*(2/3-q)*6:z}var P=new RegExp("^"+wi+"$").exec(i);if(P){if((f=parseInt(P[1]))<0?f=(360- -1*f%360)%360:f>360&&(f%=360),f/=360,(d=parseFloat(P[2]))<0||d>100||(d/=100,(p=parseFloat(P[3]))<0||p>100)||(p/=100,void 0!==(g=P[4])&&((g=parseFloat(g))<0||g>1)))return;if(0===d)w=D=E=Math.round(255*p);else{var U=p<.5?p*(1+d):p+d-p*d,W=2*p-U;w=Math.round(255*M(W,U,f+1/3)),D=Math.round(255*M(W,U,f)),E=Math.round(255*M(W,U,f-1/3))}s=[w,D,E,g]}return s}(i)}(i);return dt?{name:l,value:dt,pfValue:dt,strValue:"rgb("+dt[0]+","+dt[1]+","+dt[2]+")",bypass:s}:null}if(E.regex||E.regexes){if(E.enums){var St=Pe();if(St)return St}for(var Tt=E.regexes?E.regexes:[E.regex],Ct=0;Ct<Tt.length;Ct++){var Ke=new RegExp(Tt[Ct]).exec(i);if(Ke)return{name:l,value:E.singleRegexMatchValue?Ke[1]:Ke,strValue:""+i,bypass:s}}return null}return E.string?{name:l,value:""+i,strValue:""+i,bypass:s}:E.enums?Pe():null};var _o=function l(i){if(!(this instanceof l))return new l(i);nt(i)?(this._private={cy:i,coreStyle:{}},this.length=0,this.resetToDefault()):zr("A style must have a core reference")},Io=_o.prototype;Io.instanceString=function(){return"style"},Io.clear=function(){for(var l=this._private,s=l.cy.elements(),f=0;f<this.length;f++)this[f]=void 0;return this.length=0,l.contextStyles={},l.propDiffs={},this.cleanElements(s,!0),s.forEach(function(d){var p=d[0]._private;p.styleDirty=!0,p.appliedInitStyle=!1}),this},Io.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Io.core=function(l){return this._private.coreStyle[l]||this.getDefaultProperty(l)},Io.selector=function(l){var i="core"===l?null:new Ql(l),s=this.length++;return this[s]={selector:i,properties:[],mappedProperties:[],index:s},this},Io.css=function(){var i=arguments;if(1===i.length)for(var s=i[0],f=0;f<this.properties.length;f++){var d=this.properties[f],p=s[d.name];void 0===p&&(p=s[hn(d.name)]),void 0!==p&&this.cssRule(d.name,p)}else 2===i.length&&this.cssRule(i[0],i[1]);return this},Io.style=Io.css,Io.cssRule=function(l,i){var s=this.parse(l,i);if(s){var f=this.length-1;this[f].properties.push(s),this[f].properties[s.name]=s,s.name.match(/pie-(\d+)-background-size/)&&s.value&&(this._private.hasPie=!0),s.mapped&&this[f].mappedProperties.push(s),!this[f].selector&&(this._private.coreStyle[s.name]=s)}return this},Io.append=function(l){return Qe(l)?l.appendToStyle(this):at(l)?this.appendFromJson(l):_e(l)&&this.appendFromString(l),this},_o.fromJson=function(l,i){var s=new _o(l);return s.fromJson(i),s},_o.fromString=function(l,i){return new _o(l).fromString(i)},[ao,so,Ba,Ar,qc,zd,lo,Qc].forEach(function(l){En(Io,l)}),_o.types=Io.types,_o.properties=Io.properties,_o.propertyGroups=Io.propertyGroups,_o.propertyGroupNames=Io.propertyGroupNames,_o.propertyGroupKeys=Io.propertyGroupKeys;var Jc={style:function(i){return i&&this.setStyle(i).update(),this._private.style},setStyle:function(i){var s=this._private;return s.style=Qe(i)?i.generateStyle(this):at(i)?_o.fromJson(this,i):_e(i)?_o.fromString(this,i):_o(this),s.style},updateStyle:function(){this.mutableElements().updateStyle()}},nl={autolock:function(i){return void 0===i?this._private.autolock:(this._private.autolock=!!i,this)},autoungrabify:function(i){return void 0===i?this._private.autoungrabify:(this._private.autoungrabify=!!i,this)},autounselectify:function(i){return void 0===i?this._private.autounselectify:(this._private.autounselectify=!!i,this)},selectionType:function(i){var s=this._private;return null==s.selectionType&&(s.selectionType="single"),void 0===i?s.selectionType:(("additive"===i||"single"===i)&&(s.selectionType=i),this)},panningEnabled:function(i){return void 0===i?this._private.panningEnabled:(this._private.panningEnabled=!!i,this)},userPanningEnabled:function(i){return void 0===i?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!i,this)},zoomingEnabled:function(i){return void 0===i?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!i,this)},userZoomingEnabled:function(i){return void 0===i?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!i,this)},boxSelectionEnabled:function(i){return void 0===i?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!i,this)},pan:function(){var f,d,p,g,w,i=arguments,s=this._private.pan;switch(i.length){case 0:return s;case 1:if(_e(i[0]))return s[f=i[0]];if(Xe(i[0])){if(!this._private.panningEnabled)return this;w=(p=i[0]).y,$e(g=p.x)&&(s.x=g),$e(w)&&(s.y=w),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;d=i[1],("x"===(f=i[0])||"y"===f)&&$e(d)&&(s[f]=d),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(i,s){var p,g,w,D,E,f=arguments,d=this._private.pan;if(!this._private.panningEnabled)return this;switch(f.length){case 1:Xe(i)&&(E=(w=f[0]).y,$e(D=w.x)&&(d.x+=D),$e(E)&&(d.y+=E),this.emit("pan viewport"));break;case 2:g=s,("x"===(p=i)||"y"===p)&&$e(g)&&(d[p]+=g),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(i,s){var f=this.getFitViewport(i,s);if(f){var d=this._private;d.zoom=f.zoom,d.pan=f.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(i,s){var f;if(($e(i)&&void 0===s&&(s=i,i=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(_e(i)?i=this.$(i):!function(i){return Xe(i)&&$e(i.x1)&&$e(i.x2)&&$e(i.y1)&&$e(i.y2)}(i)?Ut(i)||(i=this.mutableElements()):((f={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}).w=f.x2-f.x1,f.h=f.y2-f.y1),!Ut(i)||!i.empty())){f=f||i.boundingBox();var D,g=this.width(),w=this.height();if(s=$e(s)?s:0,!isNaN(g)&&!isNaN(w)&&g>0&&w>0&&!isNaN(f.w)&&!isNaN(f.h)&&f.w>0&&f.h>0)return{zoom:D=(D=(D=Math.min((g-2*s)/f.w,(w-2*s)/f.h))>this._private.maxZoom?this._private.maxZoom:D)<this._private.minZoom?this._private.minZoom:D,pan:{x:(g-D*(f.x1+f.x2))/2,y:(w-D*(f.y1+f.y2))/2}}}},zoomRange:function(i,s){var f=this._private;if(null==s){var d=i;i=d.min,s=d.max}return $e(i)&&$e(s)&&i<=s?(f.minZoom=i,f.maxZoom=s):$e(i)&&void 0===s&&i<=f.maxZoom?f.minZoom=i:$e(s)&&void 0===i&&s>=f.minZoom&&(f.maxZoom=s),this},minZoom:function(i){return void 0===i?this._private.minZoom:this.zoomRange({min:i})},maxZoom:function(i){return void 0===i?this._private.maxZoom:this.zoomRange({max:i})},getZoomedViewport:function(i){var p,g,s=this._private,f=s.pan,d=s.zoom,w=!1;return s.zoomingEnabled||(w=!0),$e(i)?g=i:Xe(i)&&(g=i.level,null!=i.position?p=Sr(i.position,d,f):null!=i.renderedPosition&&(p=i.renderedPosition),null!=p&&!s.panningEnabled&&(w=!0)),g=(g=g>s.maxZoom?s.maxZoom:g)<s.minZoom?s.minZoom:g,!w&&$e(g)&&g!==d&&(null==p||$e(p.x)&&$e(p.y))?null!=p?{zoomed:!0,panned:!0,zoom:g,pan:{x:-g/d*(p.x-f.x)+p.x,y:-g/d*(p.y-f.y)+p.y}}:{zoomed:!0,panned:!1,zoom:g,pan:f}:null},zoom:function(i){if(void 0===i)return this._private.zoom;var s=this.getZoomedViewport(i),f=this._private;return null!=s&&s.zoomed?(f.zoom=s.zoom,s.panned&&(f.pan.x=s.pan.x,f.pan.y=s.pan.y),this.emit("zoom"+(s.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(i){var s=this._private,f=!0,d=!0,p=[],g=!1,w=!1;if(!i)return this;if($e(i.zoom)||(f=!1),Xe(i.pan)||(d=!1),!f&&!d)return this;if(f){var D=i.zoom;D<s.minZoom||D>s.maxZoom||!s.zoomingEnabled?g=!0:(s.zoom=D,p.push("zoom"))}if(d&&(!g||!i.cancelOnFailedZoom)&&s.panningEnabled){var E=i.pan;$e(E.x)&&(s.pan.x=E.x,w=!1),$e(E.y)&&(s.pan.y=E.y,w=!1),w||p.push("pan")}return p.length>0&&(p.push("viewport"),this.emit(p.join(" ")),this.notify("viewport")),this},center:function(i){var s=this.getCenterPan(i);return s&&(this._private.pan=s,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(i,s){if(this._private.panningEnabled){if(_e(i)){var f=i;i=this.mutableElements().filter(f)}else Ut(i)||(i=this.mutableElements());if(0!==i.length){var d=i.boundingBox(),p=this.width(),g=this.height();return{x:(p-(s=void 0===s?this._private.zoom:s)*(d.x1+d.x2))/2,y:(g-s*(d.y1+d.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var f,d,i=this._private,s=i.container;return i.sizeCache=i.sizeCache||(s?(f=oe.getComputedStyle(s),{width:s.clientWidth-(d=function(g){return parseFloat(f.getPropertyValue(g))})("padding-left")-d("padding-right"),height:s.clientHeight-d("padding-top")-d("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var i=this._private.pan,s=this._private.zoom,f=this.renderedExtent(),d={x1:(f.x1-i.x)/s,x2:(f.x2-i.x)/s,y1:(f.y1-i.y)/s,y2:(f.y2-i.y)/s};return d.w=d.x2-d.x1,d.h=d.y2-d.y1,d},renderedExtent:function(){var i=this.width(),s=this.height();return{x1:0,y1:0,x2:i,y2:s,w:i,h:s}},multiClickDebounceTime:function(i){return i?(this._private.multiClickDebounceTime=i,this):this._private.multiClickDebounceTime}};nl.centre=nl.center,nl.autolockNodes=nl.autolock,nl.autoungrabifyNodes=nl.autoungrabify;var Ja={data:Jn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Jn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Jn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Jn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Ja.attr=Ja.data,Ja.removeAttr=Ja.removeData;var es=function(i){var s=this,f=(i=En({},i)).container;f&&!_t(f)&&_t(f[0])&&(f=f[0]);var d=f?f._cyreg:null;(d=d||{})&&d.cy&&(d.cy.destroy(),d={});var p=d.readies=d.readies||[];f&&(f._cyreg=d),d.cy=s;var g=void 0!==oe&&void 0!==f&&!i.headless,w=i;w.layout=En({name:g?"grid":"null"},w.layout),w.renderer=En({name:g?"canvas":"null"},w.renderer);var D=function(z,Z,q){return void 0!==Z?Z:void 0!==q?q:z},E=this._private={container:f,ready:!1,options:w,elements:new Yi(this),listeners:[],aniEles:new Yi(this),data:w.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:D(!0,w.zoomingEnabled),userZoomingEnabled:D(!0,w.userZoomingEnabled),panningEnabled:D(!0,w.panningEnabled),userPanningEnabled:D(!0,w.userPanningEnabled),boxSelectionEnabled:D(!0,w.boxSelectionEnabled),autolock:D(!1,w.autolock,w.autolockNodes),autoungrabify:D(!1,w.autoungrabify,w.autoungrabifyNodes),autounselectify:D(!1,w.autounselectify),styleEnabled:void 0===w.styleEnabled?g:w.styleEnabled,zoom:$e(w.zoom)?w.zoom:1,pan:{x:Xe(w.pan)&&$e(w.pan.x)?w.pan.x:0,y:Xe(w.pan)&&$e(w.pan.y)?w.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:D(250,w.multiClickDebounceTime)};this.createEmitter(),this.selectionType(w.selectionType),this.zoomRange({min:w.minZoom,max:w.maxZoom}),E.styleEnabled&&s.setStyle([]);var P=En({},w,w.renderer);s.initRenderer(P),function(z,Z){if(z.some(Hn))return Ya.all(z).then(Z);Z(z)}([w.style,w.elements],function(W){var z=W[0],Z=W[1];E.styleEnabled&&s.style().append(z),function(z,Z,q){s.notifications(!1);var re=s.mutableElements();re.length>0&&re.remove(),null!=z&&(Xe(z)||at(z))&&s.add(z),s.one("layoutready",function(de){s.notifications(!0),s.emit(de),s.one("load",Z),s.emitAndNotify("load")}).one("layoutstop",function(){s.one("done",q),s.emit("done")});var fe=En({},s._private.options.layout);fe.eles=s.elements(),s.layout(fe).run()}(Z,function(){s.startAnimationLoop(),E.ready=!0,et(w.ready)&&s.on("ready",w.ready);for(var q=0;q<p.length;q++)s.on("ready",p[q]);d&&(d.readies=[]),s.emit("ready")},w.done)})},nu=es.prototype;En(nu,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(i){return this.isReady()?this.emitter().emit("ready",[],i):this.on("ready",i),this},destroy:function(){var i=this;if(!i.destroyed())return i.stopAnimationLoop(),i.destroyRenderer(),this.emit("destroy"),i._private.destroyed=!0,i},hasElementWithId:function(i){return this._private.elements.hasElementWithId(i)},getElementById:function(i){return this._private.elements.getElementById(i)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(i){return this._private.elements.merge(i),this},removeFromPool:function(i){return this._private.elements.unmerge(i),this},container:function(){return this._private.container||null},mount:function(i){if(null!=i){var s=this,f=s._private,d=f.options;return!_t(i)&&_t(i[0])&&(i=i[0]),s.stopAnimationLoop(),s.destroyRenderer(),f.container=i,f.styleEnabled=!0,s.invalidateSize(),s.initRenderer(En({},d,d.renderer,{name:"null"===d.renderer.name?"canvas":d.renderer.name})),s.startAnimationLoop(),s.style(d.style),s.emit("mount"),s}},unmount:function(){var i=this;return i.stopAnimationLoop(),i.destroyRenderer(),i.initRenderer({name:"null"}),i.emit("unmount"),i},options:function(){return vi(this._private.options)},json:function(i){var s=this,f=s._private,d=s.mutableElements();if(Xe(i)){if(s.startBatch(),i.elements){var g={},w=function(me,Ie){for(var Ae=[],ye=[],Me=0;Me<me.length;Me++){var be=me[Me];if(be.data.id){var Le=""+be.data.id,Pe=s.getElementById(Le);g[Le]=!0,0!==Pe.length?ye.push({ele:Pe,json:be}):(Ie&&(be.group=Ie),Ae.push(be))}else mr("cy.json() cannot handle elements without an ID attribute")}s.add(Ae);for(var Ee=0;Ee<ye.length;Ee++){var Be=ye[Ee];Be.ele.json(Be.json)}};if(at(i.elements))w(i.elements);else for(var D=["nodes","edges"],E=0;E<D.length;E++){var M=D[E],P=i.elements[M];at(P)&&w(P,M)}var U=s.collection();d.filter(function(de){return!g[de.id()]}).forEach(function(de){de.isParent()?U.merge(de):de.remove()}),U.forEach(function(de){return de.children().move({parent:null})}),U.forEach(function(de){return(me=de,s.getElementById(me.id())).remove();var me})}i.style&&s.style(i.style),null!=i.zoom&&i.zoom!==f.zoom&&s.zoom(i.zoom),i.pan&&(i.pan.x!==f.pan.x||i.pan.y!==f.pan.y)&&s.pan(i.pan),i.data&&s.data(i.data);for(var W=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],z=0;z<W.length;z++){var Z=W[z];null!=i[Z]&&s[Z](i[Z])}return s.endBatch(),this}var re={};i?re.elements=this.elements().map(function(de){return de.json()}):(re.elements={},d.forEach(function(de){var me=de.group();re.elements[me]||(re.elements[me]=[]),re.elements[me].push(de.json())})),this._private.styleEnabled&&(re.style=s.style().json()),re.data=vi(s.data());var fe=f.options;return re.zoomingEnabled=f.zoomingEnabled,re.userZoomingEnabled=f.userZoomingEnabled,re.zoom=f.zoom,re.minZoom=f.minZoom,re.maxZoom=f.maxZoom,re.panningEnabled=f.panningEnabled,re.userPanningEnabled=f.userPanningEnabled,re.pan=vi(f.pan),re.boxSelectionEnabled=f.boxSelectionEnabled,re.renderer=vi(fe.renderer),re.hideEdgesOnViewport=fe.hideEdgesOnViewport,re.textureOnViewport=fe.textureOnViewport,re.wheelSensitivity=fe.wheelSensitivity,re.motionBlur=fe.motionBlur,re.multiClickDebounceTime=fe.multiClickDebounceTime,re}}),nu.$id=nu.getElementById,[Vv,Yf,Xf,qu,Nl,Wh,Kc,Zc,Jc,nl,Ja].forEach(function(l){En(nu,l)});var Kf={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}},jh={maximal:!1,acyclic:!1},ru=function(i){return i.scratch("breadthfirst")},$h=function(i,s){return i.scratch("breadthfirst",s)};function iu(l){this.options=En({},Kf,jh,l)}iu.prototype.run=function(){var E,l=this.options,i=l,s=l.cy,f=i.eles,d=f.nodes().filter(function(en){return!en.isParent()}),p=f,g=i.directed,w=i.acyclic||i.maximal||i.maximalAdjustments>0,D=ci(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()});if(Ut(i.roots))E=i.roots;else if(at(i.roots)){for(var M=[],P=0;P<i.roots.length;P++){var W=s.getElementById(i.roots[P]);M.push(W)}E=s.collection(M)}else if(_e(i.roots))E=s.$(i.roots);else if(g)E=d.roots();else{var z=f.components();E=s.collection();for(var Z=function(Kt){var Tn=z[Kt],bn=Tn.maxDegree(!1),tn=Tn.filter(function(xn){return xn.degree(!1)===bn});E=E.add(tn)},q=0;q<z.length;q++)Z(q)}var re=[],fe={},de=function(Kt,Tn){null==re[Tn]&&(re[Tn]=[]);var bn=re[Tn].length;re[Tn].push(Kt),$h(Kt,{index:bn,depth:Tn})};p.bfs({roots:E,directed:i.directed,visit:function(Kt,Tn,bn,tn,xn){var Cr=Kt[0],rr=Cr.id();de(Cr,xn),fe[rr]=!0}});for(var Ie=[],Ae=0;Ae<d.length;Ae++){var ye=d[Ae];fe[ye.id()]||Ie.push(ye)}var Me=function(Kt){for(var Tn=re[Kt],bn=0;bn<Tn.length;bn++){var tn=Tn[bn];null!=tn?$h(tn,{depth:Kt,index:bn}):(Tn.splice(bn,1),bn--)}},be=function(){for(var Kt=0;Kt<re.length;Kt++)Me(Kt)},Le=function(Kt,Tn){for(var bn=ru(Kt),tn=Kt.incomers().filter(function(ot){return ot.isNode()&&f.has(ot)}),xn=-1,Cr=Kt.id(),rr=0;rr<tn.length;rr++){var Bt=ru(tn[rr]);xn=Math.max(xn,Bt.depth)}if(bn.depth<=xn){if(!i.acyclic&&Tn[Cr])return null;var Ce=xn+1;return function(Kt,Tn){var bn=ru(Kt);re[bn.depth][bn.index]=null,de(Kt,Tn)}(Kt,Ce),Tn[Cr]=Ce,!0}return!1};if(g&&w){var Pe=[],Ee={},Be=function(Kt){return Pe.push(Kt)};for(d.forEach(function(en){return Pe.push(en)});Pe.length>0;){var Ye=Pe.shift(),He=Le(Ye,Ee);if(He)Ye.outgoers().filter(function(en){return en.isNode()&&f.has(en)}).forEach(Be);else if(null===He){mr("Detected double maximal shift for node `"+Ye.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}be();var Ge=0;if(i.avoidOverlap)for(var qe=0;qe<d.length;qe++){var ht=d[qe].layoutDimensions(i);Ge=Math.max(Ge,ht.w,ht.h)}var St={},Tt=function(Kt){if(St[Kt.id()])return St[Kt.id()];for(var Tn=ru(Kt).depth,bn=Kt.neighborhood(),tn=0,xn=0,Cr=0;Cr<bn.length;Cr++){var rr=bn[Cr];if(!rr.isEdge()&&!rr.isParent()&&d.has(rr)){var Ln=ru(rr);if(null!=Ln){var Bt=Ln.index,Ce=Ln.depth;null!=Bt&&null!=Ce&&Ce<Tn&&(tn+=Bt/re[Ce].length,xn++)}}}return tn/=xn=Math.max(1,xn),0===xn&&(tn=0),St[Kt.id()]=tn,tn},Ct=function(Kt,Tn){var xn=Tt(Kt)-Tt(Tn);return 0===xn?Ta(Kt.id(),Tn.id()):xn};void 0!==i.depthSort&&(Ct=i.depthSort);for(var vt=0;vt<re.length;vt++)re[vt].sort(Ct),Me(vt);for(var Ke=[],Dt=0;Dt<Ie.length;Dt++)Ke.push(Ie[Dt]);re.unshift(Ke),be();for(var Mt=0,zt=0;zt<re.length;zt++)Mt=Math.max(re[zt].length,Mt);var Qt_x=D.x1+D.w/2,Qt_y=D.x1+D.h/2,Fn=re.reduce(function(en,Kt){return Math.max(en,Kt.length)},0);return f.nodes().layoutPositions(this,i,function(Kt){var Tn=ru(Kt),bn=Tn.depth,tn=Tn.index,xn=re[bn].length,Cr=Math.max(D.w/((i.grid?Fn:xn)+1),Ge),rr=Math.max(D.h/(re.length+1),Ge),Ln=Math.min(D.w/2/re.length,D.h/2/re.length);if(Ln=Math.max(Ln,Ge),i.circle){var Ce=Ln*bn+Ln-(re.length>0&&re[0].length<=3?Ln/2:0),ot=2*Math.PI/re[bn].length*tn;return 0===bn&&1===re[0].length&&(Ce=1),{x:Qt_x+Ce*Math.cos(ot),y:Qt_y+Ce*Math.sin(ot)}}return{x:Qt_x+(tn+1-(xn+1)/2)*Cr,y:(bn+1)*rr}}),this};var Ju={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function Yh(l){this.options=En({},Ju,l)}Yh.prototype.run=function(){var l=this.options,i=l,s=l.cy,f=i.eles,d=void 0!==i.counterclockwise?!i.counterclockwise:i.clockwise,p=f.nodes().not(":parent");i.sort&&(p=p.sort(i.sort));for(var M,g=ci(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()}),w={x:g.x1+g.w/2,y:g.y1+g.h/2},E=(void 0===i.sweep?2*Math.PI-2*Math.PI/p.length:i.sweep)/Math.max(1,p.length-1),P=0,U=0;U<p.length;U++){var z=p[U].layoutDimensions(i);P=Math.max(P,z.w,z.h)}if(M=$e(i.radius)?i.radius:p.length<=1?0:Math.min(g.h,g.w)/2-P,p.length>1&&i.avoidOverlap){P*=1.75;var re=Math.cos(E)-Math.cos(0),fe=Math.sin(E)-Math.sin(0),de=Math.sqrt(P*P/(re*re+fe*fe));M=Math.max(de,M)}return f.nodes().layoutPositions(this,i,function(Ae,ye){var Me=i.startAngle+ye*E*(d?1:-1),be=M*Math.cos(Me),Le=M*Math.sin(Me);return{x:w.x+be,y:w.y+Le}}),this};var Hv={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(i){return i.degree()},levelWidth:function(i){return i.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function ef(l){this.options=En({},Hv,l)}ef.prototype.run=function(){for(var l=this.options,i=l,s=void 0!==i.counterclockwise?!i.counterclockwise:i.clockwise,f=l.cy,d=i.eles,p=d.nodes().not(":parent"),g=ci(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:f.width(),h:f.height()}),w={x:g.x1+g.w/2,y:g.y1+g.h/2},D=[],E=0,M=0;M<p.length;M++){var U,P=p[M];U=i.concentric(P),D.push({value:U,node:P}),P._private.scratch.concentric=U}p.updateStyle();for(var W=0;W<p.length;W++){var Z=p[W].layoutDimensions(i);E=Math.max(E,Z.w,Z.h)}D.sort(function(en,Kt){return Kt.value-en.value});for(var q=i.levelWidth(p),re=[[]],fe=re[0],de=0;de<D.length;de++){var me=D[de];fe.length>0&&Math.abs(fe[0].value-me.value)>=q&&re.push(fe=[]),fe.push(me)}var Ae=E+i.minNodeSpacing;if(!i.avoidOverlap){var ye=re.length>0&&re[0].length>1,Me=Math.min(g.w,g.h)/2-Ae;Ae=Math.min(Ae,Me/(re.length+ye?1:0))}for(var Le=0,Pe=0;Pe<re.length;Pe++){var Ee=re[Pe],Be=void 0===i.sweep?2*Math.PI-2*Math.PI/Ee.length:i.sweep,Oe=Ee.dTheta=Be/Math.max(1,Ee.length-1);if(Ee.length>1&&i.avoidOverlap){var Ye=Math.cos(Oe)-Math.cos(0),He=Math.sin(Oe)-Math.sin(0),Ge=Math.sqrt(Ae*Ae/(Ye*Ye+He*He));Le=Math.max(Ge,Le)}Ee.r=Le,Le+=Ae}if(i.equidistant){for(var qe=0,it=0,ht=0;ht<re.length;ht++)qe=Math.max(qe,re[ht].r-it);it=0;for(var St=0;St<re.length;St++){var Tt=re[St];0===St&&(it=Tt.r),Tt.r=it,it+=qe}}for(var Ct={},vt=0;vt<re.length;vt++)for(var Ke=re[vt],Dt=Ke.dTheta,Mt=Ke.r,zt=0;zt<Ke.length;zt++){var Qt=Ke[zt],Fn=i.startAngle+(s?1:-1)*Dt*zt,Xn={x:w.x+Mt*Math.cos(Fn),y:w.y+Mt*Math.sin(Fn)};Ct[Qt.node.id()]=Xn}return d.nodes().layoutPositions(this,i,function(en){var Kt=en.id();return Ct[Kt]}),this};var Zf,Xh={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(i,s){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(i){return 2048},nodeOverlap:4,idealEdgeLength:function(i){return 32},edgeElasticity:function(i){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function qf(l){this.options=En({},Xh,l),this.options.layout=this}qf.prototype.run=function(){var l=this.options,i=l.cy,s=this;s.stopped=!1,(!0===l.animate||!1===l.animate)&&s.emit({type:"layoutstart",layout:s}),Zf=!0===l.debug;var f=ng(i,s,l);Zf&&(void 0)(f),l.randomize&&rg(f);var d=ui(),p=function(){jd(f,i,l),!0===l.fit&&i.fit(l.padding)},g=function(U){return!(s.stopped||U>=l.numIter||($r(f,l),f.temperature=f.temperature*l.coolingFactor,f.temperature<l.minTemp))},w=function(){if(!0===l.animate||!1===l.animate)p(),s.one("layoutstop",l.stop),s.emit({type:"layoutstop",layout:s});else{var U=l.eles.nodes(),W=nf(f,l,U);U.layoutPositions(s,l,W)}},D=0,E=!0;if(!0===l.animate)!function P(){for(var U=0;E&&U<l.refresh;)E=g(D),D++,U++;E?(ui()-d>=l.animationThreshold&&p(),Ul(P)):(Kh(f,l),w())}();else{for(;E;)E=g(D),D++;Kh(f,l),w()}return this},qf.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},qf.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var ng=function(i,s,f){for(var d=f.eles.edges(),p=f.eles.nodes(),g=ci(f.boundingBox?f.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),w={isCompound:i.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:p.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:d.size(),temperature:f.initialTemp,clientWidth:g.w,clientHeight:g.h,boundingBox:g},D=f.eles.components(),E={},M=0;M<D.length;M++)for(var P=D[M],U=0;U<P.length;U++)E[P[U].id()]=M;for(M=0;M<w.nodeSize;M++){var Z=(z=p[M]).layoutDimensions(f);(q={}).isLocked=z.locked(),q.id=z.data("id"),q.parentId=z.data("parent"),q.cmptId=E[z.id()],q.children=[],q.positionX=z.position("x"),q.positionY=z.position("y"),q.offsetX=0,q.offsetY=0,q.height=Z.w,q.width=Z.h,q.maxX=q.positionX+q.width/2,q.minX=q.positionX-q.width/2,q.maxY=q.positionY+q.height/2,q.minY=q.positionY-q.height/2,q.padLeft=parseFloat(z.style("padding")),q.padRight=parseFloat(z.style("padding")),q.padTop=parseFloat(z.style("padding")),q.padBottom=parseFloat(z.style("padding")),q.nodeRepulsion=et(f.nodeRepulsion)?f.nodeRepulsion(z):f.nodeRepulsion,w.layoutNodes.push(q),w.idToIndex[q.id]=M}var re=[],fe=0,de=-1,me=[];for(M=0;M<w.nodeSize;M++){var z,Ie=(z=w.layoutNodes[M]).parentId;null!=Ie?w.layoutNodes[w.idToIndex[Ie]].children.push(z.id):(re[++de]=z.id,me.push(z.id))}for(w.graphSet.push(me);fe<=de;){var Ae=re[fe++],Me=w.layoutNodes[w.idToIndex[Ae]].children;if(Me.length>0)for(w.graphSet.push(Me),M=0;M<Me.length;M++)re[++de]=Me[M]}for(M=0;M<w.graphSet.length;M++){var be=w.graphSet[M];for(U=0;U<be.length;U++)w.indexToGraph[w.idToIndex[be[U]]]=M}for(M=0;M<w.edgeSize;M++){var Pe=d[M],Ee={};Ee.id=Pe.data("id"),Ee.sourceId=Pe.data("source"),Ee.targetId=Pe.data("target");var Be=et(f.idealEdgeLength)?f.idealEdgeLength(Pe):f.idealEdgeLength,Oe=et(f.edgeElasticity)?f.edgeElasticity(Pe):f.edgeElasticity,Ye=w.idToIndex[Ee.sourceId],He=w.idToIndex[Ee.targetId];if(w.indexToGraph[Ye]!=w.indexToGraph[He]){for(var it=tf(Ee.sourceId,Ee.targetId,w),ht=w.graphSet[it],tt=0,q=w.layoutNodes[Ye];-1===ht.indexOf(q.id);)q=w.layoutNodes[w.idToIndex[q.parentId]],tt++;for(q=w.layoutNodes[He];-1===ht.indexOf(q.id);)q=w.layoutNodes[w.idToIndex[q.parentId]],tt++;Be*=tt*f.nestingFactor}Ee.idealLength=Be,Ee.elasticity=Oe,w.layoutEdges.push(Ee)}return w},tf=function(i,s,f){var d=Wd(i,s,0,f);return 2>d.count?0:d.graph},Wd=function l(i,s,f,d){var p=d.graphSet[f];if(-1<p.indexOf(i)&&-1<p.indexOf(s))return{count:2,graph:f};for(var g=0,w=0;w<p.length;w++){var M=d.layoutNodes[d.idToIndex[p[w]]].children;if(0!==M.length){var U=l(i,s,d.indexToGraph[d.idToIndex[M[0]]],d);if(0!==U.count){if(1!==U.count)return U;if(2==++g)break}}}return{count:g,graph:f}},rg=function(i,s){for(var f=i.clientWidth,d=i.clientHeight,p=0;p<i.nodeSize;p++){var g=i.layoutNodes[p];0===g.children.length&&!g.isLocked&&(g.positionX=Math.random()*f,g.positionY=Math.random()*d)}},nf=function(i,s,f){var d=i.boundingBox,p={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return s.boundingBox&&(f.forEach(function(g){var w=i.layoutNodes[i.idToIndex[g.data("id")]];p.x1=Math.min(p.x1,w.positionX),p.x2=Math.max(p.x2,w.positionX),p.y1=Math.min(p.y1,w.positionY),p.y2=Math.max(p.y2,w.positionY)}),p.w=p.x2-p.x1,p.h=p.y2-p.y1),function(g,w){var D=i.layoutNodes[i.idToIndex[g.data("id")]];return s.boundingBox?{x:d.x1+(D.positionX-p.x1)/p.w*d.w,y:d.y1+(D.positionY-p.y1)/p.h*d.h}:{x:D.positionX,y:D.positionY}}},jd=function(i,s,f){var d=f.layout,p=f.eles.nodes(),g=nf(i,f,p);p.positions(g),!0!==i.ready&&(i.ready=!0,d.one("layoutready",f.ready),d.emit({type:"layoutready",layout:this}))},$r=function(i,s,f){Uv(i,s),$d(i),af(i,s),Qf(i),Yd(i)},Uv=function(i,s){for(var f=0;f<i.graphSet.length;f++)for(var d=i.graphSet[f],p=d.length,g=0;g<p;g++)for(var w=i.layoutNodes[i.idToIndex[d[g]]],D=g+1;D<p;D++)ec(w,i.layoutNodes[i.idToIndex[d[D]]],i,s)},rf=function(i){return-i+2*i*Math.random()},ec=function(i,s,f,d){if(i.cmptId===s.cmptId||f.isCompound){var w=s.positionX-i.positionX,D=s.positionY-i.positionY;0===w&&0===D&&(w=rf(1),D=rf(1));var M=bs(i,s,w,D);if(M>0)var W=(P=d.nodeOverlap*M)*w/(U=Math.sqrt(w*w+D*D)),z=P*D/U;else{var P,Z=Xo(i,w,D),q=Xo(s,-1*w,-1*D),re=q.x-Z.x,fe=q.y-Z.y,de=re*re+fe*fe,U=Math.sqrt(de);W=(P=(i.nodeRepulsion+s.nodeRepulsion)/de)*re/U,z=P*fe/U}i.isLocked||(i.offsetX-=W,i.offsetY-=z),s.isLocked||(s.offsetX+=W,s.offsetY+=z)}},bs=function(i,s,f,d){if(f>0)var p=i.maxX-s.minX;else p=s.maxX-i.minX;if(d>0)var g=i.maxY-s.minY;else g=s.maxY-i.minY;return p>=0&&g>=0?Math.sqrt(p*p+g*g):0},Xo=function(i,s,f){var d=i.positionX,p=i.positionY,g=i.height||1,w=i.width||1,D=f/s,E=g/w,M={};return 0===s&&0<f||0===s&&0>f?(M.x=d,M.y=p+g/2,M):0<s&&-1*E<=D&&D<=E?(M.x=d+w/2,M.y=p+w*f/2/s,M):0>s&&-1*E<=D&&D<=E?(M.x=d-w/2,M.y=p-w*f/2/s,M):0<f&&(D<=-1*E||D>=E)?(M.x=d+g*s/2/f,M.y=p+g/2,M):(0>f&&(D<=-1*E||D>=E)&&(M.x=d-g*s/2/f,M.y=p-g/2),M)},$d=function(i,s){for(var f=0;f<i.edgeSize;f++){var d=i.layoutEdges[f],g=i.layoutNodes[i.idToIndex[d.sourceId]],D=i.layoutNodes[i.idToIndex[d.targetId]],E=D.positionX-g.positionX,M=D.positionY-g.positionY;if(0!==E||0!==M){var P=Xo(g,E,M),U=Xo(D,-1*E,-1*M),W=U.x-P.x,z=U.y-P.y,Z=Math.sqrt(W*W+z*z),q=Math.pow(d.idealLength-Z,2)/d.elasticity;if(0!==Z)var re=q*W/Z,fe=q*z/Z;else re=0,fe=0;g.isLocked||(g.offsetX+=re,g.offsetY+=fe),D.isLocked||(D.offsetX-=re,D.offsetY-=fe)}}},af=function(i,s){if(0!==s.gravity)for(var d=0;d<i.graphSet.length;d++){var p=i.graphSet[d],g=p.length;if(0===d)var w=i.clientHeight/2,D=i.clientWidth/2;else{var M=i.layoutNodes[i.idToIndex[i.layoutNodes[i.idToIndex[p[0]]].parentId]];w=M.positionX,D=M.positionY}for(var P=0;P<g;P++){var U=i.layoutNodes[i.idToIndex[p[P]]];if(!U.isLocked){var W=w-U.positionX,z=D-U.positionY,Z=Math.sqrt(W*W+z*z);if(Z>1){var re=s.gravity*z/Z;U.offsetX+=s.gravity*W/Z,U.offsetY+=re}}}}},Qf=function(i,s){var f=[],d=0,p=-1;for(f.push.apply(f,i.graphSet[0]),p+=i.graphSet[0].length;d<=p;){var g=f[d++],D=i.layoutNodes[i.idToIndex[g]],E=D.children;if(0<E.length&&!D.isLocked){for(var M=D.offsetX,P=D.offsetY,U=0;U<E.length;U++){var W=i.layoutNodes[i.idToIndex[E[U]]];W.offsetX+=M,W.offsetY+=P,f[++p]=E[U]}D.offsetX=0,D.offsetY=0}}},Yd=function(i,s){for(var f=0;f<i.nodeSize;f++)0<(d=i.layoutNodes[f]).children.length&&(d.maxX=void 0,d.minX=void 0,d.maxY=void 0,d.minY=void 0);for(f=0;f<i.nodeSize;f++)if(!(0<(d=i.layoutNodes[f]).children.length||d.isLocked)){var p=sf(d.offsetX,d.offsetY,i.temperature);d.positionX+=p.x,d.positionY+=p.y,d.offsetX=0,d.offsetY=0,d.minX=d.positionX-d.width,d.maxX=d.positionX+d.width,d.minY=d.positionY-d.height,d.maxY=d.positionY+d.height,Jf(d,i)}for(f=0;f<i.nodeSize;f++){var d;0<(d=i.layoutNodes[f]).children.length&&!d.isLocked&&(d.positionX=(d.maxX+d.minX)/2,d.positionY=(d.maxY+d.minY)/2,d.width=d.maxX-d.minX,d.height=d.maxY-d.minY)}},sf=function(i,s,f){var d=Math.sqrt(i*i+s*s);if(d>f)var p={x:f*i/d,y:f*s/d};else p={x:i,y:s};return p},Jf=function l(i,s){var f=i.parentId;if(null!=f){var d=s.layoutNodes[s.idToIndex[f]],p=!1;if((null==d.maxX||i.maxX+d.padRight>d.maxX)&&(d.maxX=i.maxX+d.padRight,p=!0),(null==d.minX||i.minX-d.padLeft<d.minX)&&(d.minX=i.minX-d.padLeft,p=!0),(null==d.maxY||i.maxY+d.padBottom>d.maxY)&&(d.maxY=i.maxY+d.padBottom,p=!0),(null==d.minY||i.minY-d.padTop<d.minY)&&(d.minY=i.minY-d.padTop,p=!0),p)return l(d,s)}},Kh=function(i,s){for(var f=i.layoutNodes,d=[],p=0;p<f.length;p++){var g=f[p],w=g.cmptId;(d[w]=d[w]||[]).push(g)}var E=0;for(p=0;p<d.length;p++)if(M=d[p]){M.x1=1/0,M.x2=-1/0,M.y1=1/0,M.y2=-1/0;for(var P=0;P<M.length;P++){var U=M[P];M.x1=Math.min(M.x1,U.positionX-U.width/2),M.x2=Math.max(M.x2,U.positionX+U.width/2),M.y1=Math.min(M.y1,U.positionY-U.height/2),M.y2=Math.max(M.y2,U.positionY+U.height/2)}M.w=M.x2-M.x1,M.h=M.y2-M.y1,E+=M.w*M.h}d.sort(function(fe,de){return de.w*de.h-fe.w*fe.h});var W=0,z=0,Z=0,q=0,re=Math.sqrt(E)*i.clientWidth/i.clientHeight;for(p=0;p<d.length;p++){var M;if(M=d[p]){for(P=0;P<M.length;P++)(U=M[P]).isLocked||(U.positionX+=W-M.x1,U.positionY+=z-M.y1);W+=M.w+s.componentSpacing,Z+=M.w+s.componentSpacing,q=Math.max(q,M.h),Z>re&&(z+=q+s.componentSpacing,W=0,Z=0,q=0)}}},ed={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(i){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function td(l){this.options=En({},ed,l)}td.prototype.run=function(){var l=this.options,i=l,s=l.cy,f=i.eles,d=f.nodes().not(":parent");i.sort&&(d=d.sort(i.sort));var p=ci(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()});if(0===p.h||0===p.w)f.nodes().layoutPositions(this,i,function(St){return{x:p.x1,y:p.y1}});else{var g=d.size(),w=Math.sqrt(g*p.h/p.w),D=Math.round(w),E=Math.round(p.w/p.h*w),M=function(Tt){if(null==Tt)return Math.min(D,E);Math.min(D,E)==D?D=Tt:E=Tt},P=function(Tt){if(null==Tt)return Math.max(D,E);Math.max(D,E)==D?D=Tt:E=Tt},U=i.rows,W=null!=i.cols?i.cols:i.columns;if(null!=U&&null!=W)D=U,E=W;else if(null!=U&&null==W)D=U,E=Math.ceil(g/D);else if(null==U&&null!=W)E=W,D=Math.ceil(g/E);else if(E*D>g){var z=M(),Z=P();(z-1)*Z>=g?M(z-1):(Z-1)*z>=g&&P(Z-1)}else for(;E*D<g;){var q=M(),re=P();(re+1)*q>=g?P(re+1):M(q+1)}var fe=p.w/E,de=p.h/D;if(i.condense&&(fe=0,de=0),i.avoidOverlap)for(var me=0;me<d.length;me++){var Ie=d[me],Ae=Ie._private.position;(null==Ae.x||null==Ae.y)&&(Ae.x=0,Ae.y=0);var ye=Ie.layoutDimensions(i),Me=i.avoidOverlapPadding,Le=ye.h+Me;fe=Math.max(fe,ye.w+Me),de=Math.max(de,Le)}for(var Pe={},Ee=function(Tt,Ct){return!!Pe["c-"+Tt+"-"+Ct]},Be=function(Tt,Ct){Pe["c-"+Tt+"-"+Ct]=!0},Oe=0,Ye=0,He=function(){++Ye>=E&&(Ye=0,Oe++)},Ge={},qe=0;qe<d.length;qe++){var it=d[qe],ht=i.position(it);if(ht&&(void 0!==ht.row||void 0!==ht.col)){var tt={row:ht.row,col:ht.col};if(void 0===tt.col)for(tt.col=0;Ee(tt.row,tt.col);)tt.col++;else if(void 0===tt.row)for(tt.row=0;Ee(tt.row,tt.col);)tt.row++;Ge[it.id()]=tt,Be(tt.row,tt.col)}}d.layoutPositions(this,i,function(Tt,Ct){var vt,Ke;if(Tt.locked()||Tt.isParent())return!1;var Dt=Ge[Tt.id()];if(Dt)vt=Dt.col*fe+fe/2+p.x1,Ke=Dt.row*de+de/2+p.y1;else{for(;Ee(Oe,Ye);)He();vt=Ye*fe+fe/2+p.x1,Ke=Oe*de+de/2+p.y1,Be(Oe,Ye),He()}return{x:vt,y:Ke}})}return this};var _r={ready:function(){},stop:function(){}};function lf(l){this.options=En({},_r,l)}lf.prototype.run=function(){var l=this.options,i=l.eles,s=this;return s.emit("layoutstart"),i.nodes().positions(function(){return{x:0,y:0}}),s.one("layoutready",l.ready),s.emit("layoutready"),s.one("layoutstop",l.stop),s.emit("layoutstop"),this},lf.prototype.stop=function(){return this};var ig={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function _s(l){this.options=En({},ig,l)}_s.prototype.run=function(){var l=this.options,s=l.eles.nodes(),f=et(l.positions);return s.layoutPositions(this,l,function(p,g){var w=function d(p){return null==l.positions?function(i){return{x:i.x,y:i.y}}(p.position()):f?l.positions(p):l.positions[p._private.data.id]??null}(p);return!p.locked()&&null!=w&&w}),this};var au={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function uf(l){this.options=En({},au,l)}uf.prototype.run=function(){var l=this.options,i=l.cy,s=l.eles,f=ci(l.boundingBox?l.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});return s.nodes().layoutPositions(this,l,function(g,w){return{x:f.x1+Math.round(Math.random()*f.w),y:f.y1+Math.round(Math.random()*f.h)}}),this};var Zh=[{name:"breadthfirst",impl:iu},{name:"circle",impl:Yh},{name:"concentric",impl:ef},{name:"cose",impl:qf},{name:"grid",impl:td},{name:"null",impl:lf},{name:"preset",impl:_s},{name:"random",impl:uf}];function fi(l){this.options=l,this.notifications=0}var su=function(){},qh=function(){throw new Error("A headless instance can not render images")};fi.prototype={recalculateRenderedStyle:su,notify:function(){this.notifications++},init:su,isHeadless:function(){return!0},png:qh,jpg:qh};var uo={arrowShapeWidth:.3,registerArrowShapes:function(){var l=this.arrowShapes={},i=this,s=function(E,M,P,U,W,z,Z){return W.x-P/2-Z<=E&&E<=W.x+P/2+Z&&W.y-P/2-Z<=M&&M<=W.y+P/2+Z},f=function(E,M,P,U,W){var z=E*Math.cos(U)-M*Math.sin(U),Z=E*Math.sin(U)+M*Math.cos(U);return{x:z*P+W.x,y:Z*P+W.y}},d=function(E,M,P,U){for(var W=[],z=0;z<E.length;z+=2)W.push(f(E[z],E[z+1],M,P,U));return W},p=function(E){for(var M=[],P=0;P<E.length;P++){var U=E[P];M.push(U.x,U.y)}return M},g=function(E){return E.pstyle("width").pfValue*E.pstyle("arrow-scale").pfValue*2},w=function(E,M){_e(M)&&(M=l[M]),l[E]=En({name:E,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(U,W,z,Z,q,re){var fe=p(d(this.points,z+2*re,Z,q));return Po(U,W,fe)},roughCollide:s,draw:function(U,W,z,Z){var q=d(this.points,W,z,Z);i.arrowShapeImpl("polygon")(U,q)},spacing:function(U){return 0},gap:g},M)};w("none",{collide:us,roughCollide:us,draw:wc,spacing:Mu,gap:Mu}),w("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),w("arrow","triangle"),w("triangle-backcurve",{points:l.triangle.points,controlPoint:[0,-.15],roughCollide:s,draw:function(E,M,P,U,W){var z=d(this.points,M,P,U),Z=this.controlPoint,q=f(Z[0],Z[1],M,P,U);i.arrowShapeImpl(this.name)(E,z,q)},gap:function(E){return.8*g(E)}}),w("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(E,M,P,U,W,z,Z){var q=p(d(this.points,P+2*Z,U,W)),re=p(d(this.pointsTee,P+2*Z,U,W));return Po(E,M,q)||Po(E,M,re)},draw:function(E,M,P,U,W){var z=d(this.points,M,P,U),Z=d(this.pointsTee,M,P,U);i.arrowShapeImpl(this.name)(E,z,Z)}}),w("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(E,M,P,U,W,z,Z){var q=W,re=Math.pow(q.x-E,2)+Math.pow(q.y-M,2)<=Math.pow((P+2*Z)*this.radius,2),fe=p(d(this.points,P+2*Z,U,W));return Po(E,M,fe)||re},draw:function(E,M,P,U,W){var z=d(this.pointsTr,M,P,U);i.arrowShapeImpl(this.name)(E,z,U.x,U.y,this.radius*M)},spacing:function(E){return i.getArrowWidth(E.pstyle("width").pfValue,E.pstyle("arrow-scale").value)*this.radius}}),w("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(E,M){var P=this.baseCrossLinePts.slice(),U=M/E;return P[3]=P[3]-U,P[5]=P[5]-U,P},collide:function(E,M,P,U,W,z,Z){var q=p(d(this.points,P+2*Z,U,W)),re=p(d(this.crossLinePts(P,z),P+2*Z,U,W));return Po(E,M,q)||Po(E,M,re)},draw:function(E,M,P,U,W){var z=d(this.points,M,P,U),Z=d(this.crossLinePts(M,W),M,P,U);i.arrowShapeImpl(this.name)(E,z,Z)}}),w("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(E){return.525*g(E)}}),w("circle",{radius:.15,collide:function(E,M,P,U,W,z,Z){var q=W;return Math.pow(q.x-E,2)+Math.pow(q.y-M,2)<=Math.pow((P+2*Z)*this.radius,2)},draw:function(E,M,P,U,W){i.arrowShapeImpl(this.name)(E,U.x,U.y,this.radius*M)},spacing:function(E){return i.getArrowWidth(E.pstyle("width").pfValue,E.pstyle("arrow-scale").value)*this.radius}}),w("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(E){return 1},gap:function(E){return 1}}),w("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),w("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(E){return E.pstyle("width").pfValue*E.pstyle("arrow-scale").value}}),w("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(E){return.95*E.pstyle("width").pfValue*E.pstyle("arrow-scale").value}})}},ts={projectIntoViewport:function(l,i){var s=this.cy,f=this.findContainerClientCoords(),d=f[0],p=f[1],g=f[4],w=s.pan(),D=s.zoom();return[((l-d)/g-w.x)/D,((i-p)/g-w.y)/D]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var l=this.container,i=l.getBoundingClientRect(),s=oe.getComputedStyle(l),f=function(re){return parseFloat(s.getPropertyValue(re))},d_left=f("padding-left"),d_right=f("padding-right"),d_top=f("padding-top"),d_bottom=f("padding-bottom"),p_left=f("border-left-width"),p_right=f("border-right-width"),p_top=f("border-top-width"),g=(f("border-bottom-width"),l.clientWidth);return this.containerBB=[i.left+d_left+p_left,i.top+d_top+p_top,g-(d_left+d_right),l.clientHeight-(d_top+d_bottom),i.width/(g+(p_left+p_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(l,i,s,f){return this.findNearestElements(l,i,s,f)[0]},findNearestElements:function(l,i,s,f){var z,Z,d=this,p=this,g=p.getCachedZSortedEles(),w=[],D=p.cy.zoom(),E=p.cy.hasCompoundNodes(),M=(f?24:8)/D,P=(f?8:2)/D,U=(f?8:2)/D,W=1/0;function q(ye,Me){if(ye.isNode()){if(Z)return;Z=ye,w.push(ye)}if(ye.isEdge()&&(null==Me||Me<W))if(z){if(z.pstyle("z-compound-depth").value===ye.pstyle("z-compound-depth").value&&z.pstyle("z-compound-depth").value===ye.pstyle("z-compound-depth").value)for(var be=0;be<w.length;be++)if(w[be].isEdge()){w[be]=ye,z=ye,W=Me??W;break}}else w.push(ye),z=ye,W=Me??W}function re(ye){var Me=ye.outerWidth()+2*P,be=ye.outerHeight()+2*P,Le=Me/2,Pe=be/2,Ee=ye.position();if(Ee.x-Le<=l&&l<=Ee.x+Le&&Ee.y-Pe<=i&&i<=Ee.y+Pe&&p.nodeShapes[d.getNodeShape(ye)].checkPoint(l,i,0,Me,be,Ee.x,Ee.y))return q(ye,0),!0}function fe(ye){var Ye,Me=ye._private,be=Me.rscratch,Le=ye.pstyle("width").pfValue,Pe=ye.pstyle("arrow-scale").value,Ee=Le/2+M,Be=Ee*Ee,Oe=2*Ee,qe=Me.source,it=Me.target;if("segments"===be.edgeType||"straight"===be.edgeType||"haystack"===be.edgeType){for(var He=be.allpts,Ge=0;Ge+3<He.length;Ge+=2)if(Ws(l,i,He[Ge],He[Ge+1],He[Ge+2],He[Ge+3],Oe)&&Be>(Ye=js(l,i,He[Ge],He[Ge+1],He[Ge+2],He[Ge+3])))return q(ye,Ye),!0}else if("bezier"===be.edgeType||"multibezier"===be.edgeType||"self"===be.edgeType||"compound"===be.edgeType)for(He=be.allpts,Ge=0;Ge+5<be.allpts.length;Ge+=4)if(yo(l,i,He[Ge],He[Ge+1],He[Ge+2],He[Ge+3],He[Ge+4],He[Ge+5],Oe)&&Be>(Ye=zl(l,i,He[Ge],He[Ge+1],He[Ge+2],He[Ge+3],He[Ge+4],He[Ge+5])))return q(ye,Ye),!0;qe=qe||Me.source,it=it||Me.target;var ht=d.getArrowWidth(Le,Pe),tt=[{name:"source",x:be.arrowStartX,y:be.arrowStartY,angle:be.srcArrowAngle},{name:"target",x:be.arrowEndX,y:be.arrowEndY,angle:be.tgtArrowAngle},{name:"mid-source",x:be.midX,y:be.midY,angle:be.midsrcArrowAngle},{name:"mid-target",x:be.midX,y:be.midY,angle:be.midtgtArrowAngle}];for(Ge=0;Ge<tt.length;Ge++){var dt=tt[Ge],St=p.arrowShapes[ye.pstyle(dt.name+"-arrow-shape").value],Tt=ye.pstyle("width").pfValue;if(St.roughCollide(l,i,ht,dt.angle,{x:dt.x,y:dt.y},Tt,M)&&St.collide(l,i,ht,dt.angle,{x:dt.x,y:dt.y},Tt,M))return q(ye),!0}E&&w.length>0&&(re(qe),re(it))}function de(ye,Me,be){return Pi(ye,Me,be)}function me(ye,Me){var Pe,be=ye._private,Le=U;Pe=Me?Me+"-":"",ye.boundingBox();var Ee=be.labelBounds[Me||"main"],Be=ye.pstyle(Pe+"label").value;if("yes"===ye.pstyle("text-events").strValue&&Be){var Ye=de(be.rscratch,"labelX",Me),He=de(be.rscratch,"labelY",Me),Ge=de(be.rscratch,"labelAngle",Me),qe=ye.pstyle(Pe+"text-margin-x").pfValue,it=ye.pstyle(Pe+"text-margin-y").pfValue,ht=Ee.x1-Le-qe,tt=Ee.x2+Le-qe,dt=Ee.y1-Le-it,St=Ee.y2+Le-it;if(Ge){var Tt=Math.cos(Ge),Ct=Math.sin(Ge),vt=function(Xn,en){return{x:(Xn-=Ye)*Tt-(en-=He)*Ct+Ye,y:Xn*Ct+en*Tt+He}},Ke=vt(ht,dt),Dt=vt(ht,St),Mt=vt(tt,dt),zt=vt(tt,St);if(Po(l,i,[Ke.x+qe,Ke.y+it,Mt.x+qe,Mt.y+it,zt.x+qe,zt.y+it,Dt.x+qe,Dt.y+it]))return q(ye),!0}else if(Na(Ee,l,i))return q(ye),!0}}s&&(g=g.interactive);for(var Ie=g.length-1;Ie>=0;Ie--){var Ae=g[Ie];Ae.isNode()?re(Ae)||me(Ae):fe(Ae)||me(Ae)||me(Ae,"source")||me(Ae,"target")}return w},getAllInBox:function(l,i,s,f){for(var d=this.getCachedZSortedEles().interactive,p=[],g=Math.min(l,s),w=Math.max(l,s),D=Math.min(i,f),E=Math.max(i,f),M=ci({x1:l=g,y1:i=D,x2:s=w,y2:f=E}),P=0;P<d.length;P++){var U=d[P];if(U.isNode()){var W=U,z=W.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Gn(M,z)&&!Dc(z,M)&&p.push(W)}else{var Z=U,q=Z._private,re=q.rscratch;if(null!=re.startX&&null!=re.startY&&!Na(M,re.startX,re.startY)||null!=re.endX&&null!=re.endY&&!Na(M,re.endX,re.endY))continue;if("bezier"===re.edgeType||"multibezier"===re.edgeType||"self"===re.edgeType||"compound"===re.edgeType||"segments"===re.edgeType||"haystack"===re.edgeType){for(var fe=q.rstyle.bezierPts||q.rstyle.linePts||q.rstyle.haystackPts,de=!0,me=0;me<fe.length;me++)if(!If(M,fe[me])){de=!1;break}de&&p.push(Z)}else("haystack"===re.edgeType||"straight"===re.edgeType)&&p.push(Z)}}return p}},a={calculateArrowAngles:function(l){var D,E,M,P,U,W,i=l._private.rscratch,s="haystack"===i.edgeType,f="bezier"===i.edgeType,d="multibezier"===i.edgeType,p="segments"===i.edgeType,g="compound"===i.edgeType,w="self"===i.edgeType;s?(M=i.haystackPts[0],P=i.haystackPts[1],U=i.haystackPts[2],W=i.haystackPts[3]):(M=i.arrowStartX,P=i.arrowStartY,U=i.arrowEndX,W=i.arrowEndY),re=i.midX,fe=i.midY,p?(D=M-i.segpts[0],E=P-i.segpts[1]):d||g||w||f?(D=M-Zr((z=i.allpts)[0],z[2],z[4],.1),E=P-Zr(z[1],z[3],z[5],.1)):(D=M-re,E=P-fe),i.srcArrowAngle=Kr(D,E);var re=i.midX,fe=i.midY;if(s&&(re=(M+U)/2,fe=(P+W)/2),D=U-M,E=W-P,p)if((z=i.allpts).length/2%2==0)D=z[de=z.length/2]-z[me=de-2],E=z[de+1]-z[me+1];else{var de,me,Ie=2+(de=z.length/2-1);D=z[de]-z[me=de-2],E=z[de+1]-z[me+1]}else if(d||g||w){var ye,Me,be,Le,Ee,Pe,Be,z=i.allpts;i.ctrlpts.length/2%2==0?(ye=Zr(z[Pe=z.length/2-1],z[Ee=Pe+2],z[Be=Ee+2],0),Me=Zr(z[Pe+1],z[Ee+1],z[Be+1],0),be=Zr(z[Pe],z[Ee],z[Be],1e-4),Le=Zr(z[Pe+1],z[Ee+1],z[Be+1],1e-4)):(ye=Zr(z[Pe=(Ee=z.length/2-1)-2],z[Ee],z[Be=Ee+2],.4999),Me=Zr(z[Pe+1],z[Ee+1],z[Be+1],.4999),be=Zr(z[Pe],z[Ee],z[Be],.5),Le=Zr(z[Pe+1],z[Ee+1],z[Be+1],.5)),D=be-ye,E=Le-Me}if(i.midtgtArrowAngle=Kr(D,E),i.midDispX=D,i.midDispY=E,D*=-1,E*=-1,p&&(z=i.allpts).length/2%2!=0&&(D=-(z[Ie=2+(de=z.length/2-1)]-z[de]),E=-(z[Ie+1]-z[de+1])),i.midsrcArrowAngle=Kr(D,E),p)D=U-i.segpts[i.segpts.length-2],E=W-i.segpts[i.segpts.length-1];else if(d||g||w||f){var Oe=(z=i.allpts).length;D=U-Zr(z[Oe-6],z[Oe-4],z[Oe-2],.9),E=W-Zr(z[Oe-5],z[Oe-3],z[Oe-1],.9)}else D=U-re,E=W-fe;i.tgtArrowAngle=Kr(D,E)}};a.getArrowWidth=a.getArrowHeight=function(l,i){var s=this.arrowWidthCache=this.arrowWidthCache||{},f=s[l+", "+i];return f||(f=Math.max(Math.pow(13.37*l,.9),29)*i,s[l+", "+i]=f,f)};var c={};function m(l){var i=[];if(null!=l){for(var s=0;s<l.length;s+=2)i.push({x:l[s],y:l[s+1]});return i}}c.findHaystackPoints=function(l){for(var i=0;i<l.length;i++){var s=l[i],f=s._private,d=f.rscratch;if(!d.haystack){var p=2*Math.random()*Math.PI;d.source={x:Math.cos(p),y:Math.sin(p)},p=2*Math.random()*Math.PI,d.target={x:Math.cos(p),y:Math.sin(p)}}var g=f.source,w=f.target,D=g.position(),E=w.position(),M=g.width(),P=w.width(),U=g.height(),W=w.height(),Z=s.pstyle("haystack-radius").value/2;d.haystackPts=d.allpts=[d.source.x*M*Z+D.x,d.source.y*U*Z+D.y,d.target.x*P*Z+E.x,d.target.y*W*Z+E.y],d.midX=(d.allpts[0]+d.allpts[2])/2,d.midY=(d.allpts[1]+d.allpts[3])/2,d.edgeType="haystack",d.haystack=!0,this.storeEdgeProjections(s),this.calculateArrowAngles(s),this.recalculateEdgeLabelProjections(s),this.calculateLabelAngles(s)}},c.findSegmentsPoints=function(l,i){var s=l._private.rscratch,f=i.posPts,d=i.intersectionPts,p=i.vectorNormInverse,g=l.pstyle("edge-distances").value,w=l.pstyle("segment-weights"),D=l.pstyle("segment-distances"),E=Math.min(w.pfValue.length,D.pfValue.length);s.edgeType="segments",s.segpts=[];for(var M=0;M<E;M++){var P=w.pfValue[M],U=D.pfValue[M],W=1-P,Z="node-position"===g?f:d,q={x:Z.x1*W+Z.x2*P,y:Z.y1*W+Z.y2*P};s.segpts.push(q.x+p.x*U,q.y+p.y*U)}},c.findLoopPoints=function(l,i,s,f){var d=l._private.rscratch,p=i.dirCounts,g=i.srcPos,w=l.pstyle("control-point-distances"),D=w?w.pfValue[0]:void 0,E=l.pstyle("loop-direction").pfValue,M=l.pstyle("loop-sweep").pfValue,P=l.pstyle("control-point-step-size").pfValue;d.edgeType="self";var U=s,W=P;f&&(U=0,W=D);var z=E-Math.PI/2,Z=z-M/2,q=z+M/2,re=E+"_"+M;U=void 0===p[re]?p[re]=0:++p[re],d.ctrlpts=[g.x+1.4*Math.cos(Z)*W*(U/3+1),g.y+1.4*Math.sin(Z)*W*(U/3+1),g.x+1.4*Math.cos(q)*W*(U/3+1),g.y+1.4*Math.sin(q)*W*(U/3+1)]},c.findCompoundLoopPoints=function(l,i,s,f){var d=l._private.rscratch;d.edgeType="compound";var p=i.srcPos,g=i.tgtPos,w=i.srcW,D=i.srcH,E=i.tgtW,M=i.tgtH,P=l.pstyle("control-point-step-size").pfValue,U=l.pstyle("control-point-distances"),z=s,Z=P;f&&(z=0,Z=U?U.pfValue[0]:void 0);var re={x:p.x-w/2,y:p.y-D/2},fe={x:g.x-E/2,y:g.y-M/2},de={x:Math.min(re.x,fe.x),y:Math.min(re.y,fe.y)},Ie=Math.max(.5,Math.log(.01*w)),Ae=Math.max(.5,Math.log(.01*E));d.ctrlpts=[de.x,de.y-(1+Math.pow(50,1.12)/100)*Z*(z/3+1)*Ie,de.x-(1+Math.pow(50,1.12)/100)*Z*(z/3+1)*Ae,de.y]},c.findStraightEdgePoints=function(l){l._private.rscratch.edgeType="straight"},c.findBezierPoints=function(l,i,s,f,d){var p=l._private.rscratch,g=i.vectorNormInverse,w=i.posPts,D=i.intersectionPts,E=l.pstyle("edge-distances").value,M=l.pstyle("control-point-step-size").pfValue,P=l.pstyle("control-point-distances"),U=l.pstyle("control-point-weights"),W=P&&U?Math.min(P.value.length,U.value.length):1,z=P?P.pfValue[0]:void 0,Z=U.value[0],q=f;p.edgeType=q?"multibezier":"bezier",p.ctrlpts=[];for(var re=0;re<W;re++){var de,fe=(.5-i.eles.length/2+s)*M*(d?-1:1),me=Qi(fe);q&&(z=P?P.pfValue[re]:M,Z=U.value[re]);var Ie=void 0!==(de=f?z:void 0!==z?me*z:void 0)?de:fe,Ae=1-Z,Me="node-position"===E?w:D,be={x:Me.x1*Ae+Me.x2*Z,y:Me.y1*Ae+Me.y2*Z};p.ctrlpts.push(be.x+g.x*Ie,be.y+g.y*Ie)}},c.findTaxiPoints=function(l,i){var s=l._private.rscratch;s.edgeType="segments";var f="vertical",d="horizontal",p="leftward",g="rightward",w="downward",D="upward",M=i.posPts,P=i.srcW,U=i.srcH,W=i.tgtW,z=i.tgtH,q="node-position"!==l.pstyle("edge-distances").value,re=l.pstyle("taxi-direction").value,fe=re,de=l.pstyle("taxi-turn"),me="%"===de.units,Ie=de.pfValue,Ae=Ie<0,ye=l.pstyle("taxi-turn-min-distance").pfValue,be=q?(U+z)/2:0,Le=M.x2-M.x1,Pe=M.y2-M.y1,Ee=function(wn,Or){return wn>0?Math.max(wn-Or,0):Math.min(wn+Or,0)},Be=Ee(Le,q?(P+W)/2:0),Oe=Ee(Pe,be),Ye=!1;"auto"===fe?re=Math.abs(Be)>Math.abs(Oe)?d:f:fe===D||fe===w?(re=f,Ye=!0):(fe===p||fe===g)&&(re=d,Ye=!0);var tt,He=re===f,Ge=He?Oe:Be,qe=He?Pe:Le,it=Qi(qe),ht=!1;(!Ye||!me&&!Ae)&&(fe===w&&qe<0||fe===D&&qe>0||fe===p&&qe>0||fe===g&&qe<0)&&(Ge=(it*=-1)*Math.abs(Ge),ht=!0);var Tt=function(wn){return Math.abs(wn)<ye||Math.abs(wn)>=Math.abs(Ge)},Ct=Tt(tt=me?(Ie<0?1+Ie:Ie)*Ge:(Ie<0?Ge:0)+Ie*it),vt=Tt(Math.abs(Ge)-Math.abs(tt));if(!Ct&&!vt||ht)if(He){var Ce=M.y1+tt+(q?U/2*it:0);s.segpts=[M.x1,Ce,M.x2,Ce]}else{var bt=M.x1+tt+(q?P/2*it:0);s.segpts=[bt,M.y1,bt,M.y2]}else if(He){var Dt=Math.abs(qe)<=U/2,Mt=Math.abs(Le)<=W/2;if(Dt){var zt=(M.x1+M.x2)/2;s.segpts=[zt,M.y1,zt,M.y2]}else if(Mt){var Xn=(M.y1+M.y2)/2;s.segpts=[M.x1,Xn,M.x2,Xn]}else s.segpts=[M.x1,M.y2]}else{var Tn=Math.abs(qe)<=P/2,bn=Math.abs(Pe)<=z/2;if(Tn){var tn=(M.y1+M.y2)/2;s.segpts=[M.x1,tn,M.x2,tn]}else if(bn){var rr=(M.x1+M.x2)/2;s.segpts=[rr,M.y1,rr,M.y2]}else s.segpts=[M.x2,M.y1]}},c.tryToCorrectInvalidPoints=function(l,i){var s=l._private.rscratch;if("bezier"===s.edgeType){var f=i.srcPos,d=i.tgtPos,p=i.srcW,g=i.srcH,w=i.tgtW,D=i.tgtH,E=i.srcShape,M=i.tgtShape,P=!$e(s.startX)||!$e(s.startY),U=!$e(s.arrowStartX)||!$e(s.arrowStartY),W=!$e(s.endX)||!$e(s.endY),z=!$e(s.arrowEndX)||!$e(s.arrowEndY),re=this.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,fe=xi({x:s.ctrlpts[0],y:s.ctrlpts[1]},{x:s.startX,y:s.startY}),de=fe<re,me=xi({x:s.ctrlpts[0],y:s.ctrlpts[1]},{x:s.endX,y:s.endY}),Ie=me<re,Ae=!1;if(P||U||de){Ae=!0;var ye={x:s.ctrlpts[0]-f.x,y:s.ctrlpts[1]-f.y},Me=Math.sqrt(ye.x*ye.x+ye.y*ye.y),be={x:ye.x/Me,y:ye.y/Me},Le=Math.max(p,g),Pe={x:s.ctrlpts[0]+2*be.x*Le,y:s.ctrlpts[1]+2*be.y*Le},Ee=E.intersectLine(f.x,f.y,p,g,Pe.x,Pe.y,0);de?(s.ctrlpts[0]=s.ctrlpts[0]+be.x*(re-fe),s.ctrlpts[1]=s.ctrlpts[1]+be.y*(re-fe)):(s.ctrlpts[0]=Ee[0]+be.x*re,s.ctrlpts[1]=Ee[1]+be.y*re)}if(W||z||Ie){Ae=!0;var Be={x:s.ctrlpts[0]-d.x,y:s.ctrlpts[1]-d.y},Oe=Math.sqrt(Be.x*Be.x+Be.y*Be.y),Ye={x:Be.x/Oe,y:Be.y/Oe},He=Math.max(p,g),Ge={x:s.ctrlpts[0]+2*Ye.x*He,y:s.ctrlpts[1]+2*Ye.y*He},qe=M.intersectLine(d.x,d.y,w,D,Ge.x,Ge.y,0);Ie?(s.ctrlpts[0]=s.ctrlpts[0]+Ye.x*(re-me),s.ctrlpts[1]=s.ctrlpts[1]+Ye.y*(re-me)):(s.ctrlpts[0]=qe[0]+Ye.x*re,s.ctrlpts[1]=qe[1]+Ye.y*re)}Ae&&this.findEndpoints(l)}},c.storeAllpts=function(l){var i=l._private.rscratch;if("multibezier"===i.edgeType||"bezier"===i.edgeType||"self"===i.edgeType||"compound"===i.edgeType){i.allpts=[],i.allpts.push(i.startX,i.startY);for(var s=0;s+1<i.ctrlpts.length;s+=2)i.allpts.push(i.ctrlpts[s],i.ctrlpts[s+1]),s+3<i.ctrlpts.length&&i.allpts.push((i.ctrlpts[s]+i.ctrlpts[s+2])/2,(i.ctrlpts[s+1]+i.ctrlpts[s+3])/2);var f;i.allpts.push(i.endX,i.endY),i.ctrlpts.length/2%2==0?(i.midX=i.allpts[f=i.allpts.length/2-1],i.midY=i.allpts[f+1]):(i.midX=Zr(i.allpts[f=i.allpts.length/2-3],i.allpts[f+2],i.allpts[f+4],.5),i.midY=Zr(i.allpts[f+1],i.allpts[f+3],i.allpts[f+5],.5))}else if("straight"===i.edgeType)i.allpts=[i.startX,i.startY,i.endX,i.endY],i.midX=(i.startX+i.endX+i.arrowStartX+i.arrowEndX)/4,i.midY=(i.startY+i.endY+i.arrowStartY+i.arrowEndY)/4;else if("segments"===i.edgeType)if(i.allpts=[],i.allpts.push(i.startX,i.startY),i.allpts.push.apply(i.allpts,i.segpts),i.allpts.push(i.endX,i.endY),i.segpts.length%4==0){var p=i.segpts.length/2,g=p-2;i.midX=(i.segpts[g]+i.segpts[p])/2,i.midY=(i.segpts[g+1]+i.segpts[p+1])/2}else{var w=i.segpts.length/2-1;i.midX=i.segpts[w],i.midY=i.segpts[w+1]}},c.checkForInvalidEdgeWarning=function(l){var i=l[0]._private.rscratch;i.nodesOverlap||$e(i.startX)&&$e(i.startY)&&$e(i.endX)&&$e(i.endY)?i.loggedErr=!1:i.loggedErr||(i.loggedErr=!0,mr("Edge `"+l.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},c.findEdgeControlPoints=function(l){var i=this;if(l&&0!==l.length){for(var s=this,d=s.cy.hasCompoundNodes(),p={map:new Et,get:function(ye){var Me=this.map.get(ye[0]);return null!=Me?Me.get(ye[1]):null},set:function(ye,Me){var be=this.map.get(ye[0]);null==be&&(be=new Et,this.map.set(ye[0],be)),be.set(ye[1],Me)}},g=[],w=[],D=0;D<l.length;D++){var E=l[D],M=E._private,P=E.pstyle("curve-style").value;if(!E.removed()&&E.takesUpSpace()){if("haystack"===P){w.push(E);continue}var U="unbundled-bezier"===P||"segments"===P||"straight"===P||"straight-triangle"===P||"taxi"===P,W="unbundled-bezier"===P||"bezier"===P,Z=M.target,fe=[M.source.poolIndex(),Z.poolIndex()].sort(),de=p.get(fe);null==de&&(p.set(fe,de={eles:[]}),g.push(fe)),de.eles.push(E),U&&(de.hasUnbundled=!0),W&&(de.hasBezier=!0)}}for(var me=function(ye){var be=p.get(g[ye]),Le=void 0;if(!be.hasUnbundled){var Pe=be.eles[0].parallelEdges().filter(function(Bt){return Bt.isBundledBezier()});vo(be.eles),Pe.forEach(function(Bt){return be.eles.push(Bt)}),be.eles.sort(function(Bt,Ce){return Bt.poolIndex()-Ce.poolIndex()})}var Ee=be.eles[0],Be=Ee.source(),Oe=Ee.target();if(Be.poolIndex()>Oe.poolIndex()){var Ye=Be;Be=Oe,Oe=Ye}var He=be.srcPos=Be.position(),Ge=be.tgtPos=Oe.position(),qe=be.srcW=Be.outerWidth(),it=be.srcH=Be.outerHeight(),ht=be.tgtW=Oe.outerWidth(),tt=be.tgtH=Oe.outerHeight(),dt=be.srcShape=s.nodeShapes[i.getNodeShape(Be)],St=be.tgtShape=s.nodeShapes[i.getNodeShape(Oe)];be.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Tt=0;Tt<be.eles.length;Tt++){var Ct=be.eles[Tt],vt=Ct[0]._private.rscratch,Ke=Ct.pstyle("curve-style").value,Dt="unbundled-bezier"===Ke||"segments"===Ke||"taxi"===Ke,Mt=!Be.same(Ct.source());if(!be.calculatedIntersection&&Be!==Oe&&(be.hasBezier||be.hasUnbundled)){be.calculatedIntersection=!0;var zt=dt.intersectLine(He.x,He.y,qe,it,Ge.x,Ge.y,0),Qt=be.srcIntn=zt,Fn=St.intersectLine(Ge.x,Ge.y,ht,tt,He.x,He.y,0),Xn=be.tgtIntn=Fn,en=be.intersectionPts={x1:zt[0],x2:Fn[0],y1:zt[1],y2:Fn[1]},Kt=be.posPts={x1:He.x,x2:Ge.x,y1:He.y,y2:Ge.y},Tn=Fn[1]-zt[1],bn=Fn[0]-zt[0],tn=Math.sqrt(bn*bn+Tn*Tn),xn=be.vector={x:bn,y:Tn},Cr=be.vectorNorm={x:xn.x/tn,y:xn.y/tn},rr={x:-Cr.y,y:Cr.x};be.nodesOverlap=!$e(tn)||St.checkPoint(zt[0],zt[1],0,ht,tt,Ge.x,Ge.y)||dt.checkPoint(Fn[0],Fn[1],0,qe,it,He.x,He.y),be.vectorNormInverse=rr,Le={nodesOverlap:be.nodesOverlap,dirCounts:be.dirCounts,calculatedIntersection:!0,hasBezier:be.hasBezier,hasUnbundled:be.hasUnbundled,eles:be.eles,srcPos:Ge,tgtPos:He,srcW:ht,srcH:tt,tgtW:qe,tgtH:it,srcIntn:Xn,tgtIntn:Qt,srcShape:St,tgtShape:dt,posPts:{x1:Kt.x2,y1:Kt.y2,x2:Kt.x1,y2:Kt.y1},intersectionPts:{x1:en.x2,y1:en.y2,x2:en.x1,y2:en.y1},vector:{x:-xn.x,y:-xn.y},vectorNorm:{x:-Cr.x,y:-Cr.y},vectorNormInverse:{x:-rr.x,y:-rr.y}}}var Ln=Mt?Le:be;vt.nodesOverlap=Ln.nodesOverlap,vt.srcIntn=Ln.srcIntn,vt.tgtIntn=Ln.tgtIntn,d&&(Be.isParent()||Be.isChild()||Oe.isParent()||Oe.isChild())&&(Be.parents().anySame(Oe)||Oe.parents().anySame(Be)||Be.same(Oe)&&Be.isParent())?i.findCompoundLoopPoints(Ct,Ln,Tt,Dt):Be===Oe?i.findLoopPoints(Ct,Ln,Tt,Dt):"segments"===Ke?i.findSegmentsPoints(Ct,Ln):"taxi"===Ke?i.findTaxiPoints(Ct,Ln):"straight"===Ke||!Dt&&be.eles.length%2==1&&Tt===Math.floor(be.eles.length/2)?i.findStraightEdgePoints(Ct):i.findBezierPoints(Ct,Ln,Tt,Dt,Mt),i.findEndpoints(Ct),i.tryToCorrectInvalidPoints(Ct,Ln),i.checkForInvalidEdgeWarning(Ct),i.storeAllpts(Ct),i.storeEdgeProjections(Ct),i.calculateArrowAngles(Ct),i.recalculateEdgeLabelProjections(Ct),i.calculateLabelAngles(Ct)}},Ie=0;Ie<g.length;Ie++)me(Ie);this.findHaystackPoints(w)}},c.getSegmentPoints=function(l){var i=l[0]._private.rscratch;if("segments"===i.edgeType)return this.recalculateRenderedStyle(l),m(i.segpts)},c.getControlPoints=function(l){var i=l[0]._private.rscratch,s=i.edgeType;if("bezier"===s||"multibezier"===s||"self"===s||"compound"===s)return this.recalculateRenderedStyle(l),m(i.ctrlpts)},c.getEdgeMidpoint=function(l){var i=l[0]._private.rscratch;return this.recalculateRenderedStyle(l),{x:i.midX,y:i.midY}};var v={manualEndptToPx:function(l,i){var f=l.position(),d=l.outerWidth(),p=l.outerHeight();if(2===i.value.length){var g=[i.pfValue[0],i.pfValue[1]];return"%"===i.units[0]&&(g[0]=g[0]*d),"%"===i.units[1]&&(g[1]=g[1]*p),g[0]+=f.x,g[1]+=f.y,g}var w=i.pfValue[0];w=-Math.PI/2+w;var D=2*Math.max(d,p),E=[f.x+Math.cos(w)*D,f.y+Math.sin(w)*D];return this.nodeShapes[this.getNodeShape(l)].intersectLine(f.x,f.y,d,p,E[0],E[1],0)},findEndpoints:function(l){var s,Le,Pe,Ee,Be,i=this,f=l.source()[0],d=l.target()[0],p=f.position(),g=d.position(),w=l.pstyle("target-arrow-shape").value,D=l.pstyle("source-arrow-shape").value,E=l.pstyle("target-distance-from-node").pfValue,M=l.pstyle("source-distance-from-node").pfValue,P=l.pstyle("curve-style").value,U=l._private.rscratch,W=U.edgeType,Z="self"===W||"compound"===W,q="bezier"===W||"multibezier"===W||Z,re="bezier"!==W,fe="straight"===W||"segments"===W,de="segments"===W,me=q||re||fe,Ie=Z||"taxi"===P,Ae=l.pstyle("source-endpoint"),ye=Ie?"outside-to-node":Ae.value,Me=l.pstyle("target-endpoint"),be=Ie?"outside-to-node":Me.value;if(U.srcManEndpt=Ae,U.tgtManEndpt=Me,q){var Oe=[U.ctrlpts[0],U.ctrlpts[1]];Le=re?[U.ctrlpts[U.ctrlpts.length-2],U.ctrlpts[U.ctrlpts.length-1]]:Oe,Pe=Oe}else if(fe){var He=de?U.segpts.slice(0,2):[g.x,g.y];Le=de?U.segpts.slice(U.segpts.length-2):[p.x,p.y],Pe=He}if("inside-to-node"===be)s=[g.x,g.y];else if(Me.units)s=this.manualEndptToPx(d,Me);else if("outside-to-line"===be)s=U.tgtIntn;else if("outside-to-node"===be||"outside-to-node-or-label"===be?Ee=Le:("outside-to-line"===be||"outside-to-line-or-label"===be)&&(Ee=[p.x,p.y]),s=i.nodeShapes[this.getNodeShape(d)].intersectLine(g.x,g.y,d.outerWidth(),d.outerHeight(),Ee[0],Ee[1],0),"outside-to-node-or-label"===be||"outside-to-line-or-label"===be){var qe=d._private.rscratch,tt=qe.labelX,dt=qe.labelY,St=qe.labelWidth/2,Tt=qe.labelHeight/2,Ct=d.pstyle("text-valign").value;"top"===Ct?dt-=Tt:"bottom"===Ct&&(dt+=Tt);var vt=d.pstyle("text-halign").value;"left"===vt?tt-=St:"right"===vt&&(tt+=St);var Ke=ml(Ee[0],Ee[1],[tt-St,dt-Tt,tt+St,dt-Tt,tt+St,dt+Tt,tt-St,dt+Tt],g.x,g.y);if(Ke.length>0){var Dt=p,Mt=Er(Dt,Xr(s)),zt=Er(Dt,Xr(Ke)),Qt=Mt;zt<Mt&&(s=Ke,Qt=zt),Ke.length>2&&Er(Dt,{x:Ke[2],y:Ke[3]})<Qt&&(s=[Ke[2],Ke[3]])}}var Xn=Af(s,Le,i.arrowShapes[w].spacing(l)+E),en=Af(s,Le,i.arrowShapes[w].gap(l)+E);if(U.endX=en[0],U.endY=en[1],U.arrowEndX=Xn[0],U.arrowEndY=Xn[1],"inside-to-node"===ye)s=[p.x,p.y];else if(Ae.units)s=this.manualEndptToPx(f,Ae);else if("outside-to-line"===ye)s=U.srcIntn;else if("outside-to-node"===ye||"outside-to-node-or-label"===ye?Be=Pe:("outside-to-line"===ye||"outside-to-line-or-label"===ye)&&(Be=[g.x,g.y]),s=i.nodeShapes[this.getNodeShape(f)].intersectLine(p.x,p.y,f.outerWidth(),f.outerHeight(),Be[0],Be[1],0),"outside-to-node-or-label"===ye||"outside-to-line-or-label"===ye){var Kt=f._private.rscratch,tn=Kt.labelX,xn=Kt.labelY,Cr=Kt.labelWidth/2,rr=Kt.labelHeight/2,Ln=f.pstyle("text-valign").value;"top"===Ln?xn-=rr:"bottom"===Ln&&(xn+=rr);var Bt=f.pstyle("text-halign").value;"left"===Bt?tn-=Cr:"right"===Bt&&(tn+=Cr);var Ce=ml(Be[0],Be[1],[tn-Cr,xn-rr,tn+Cr,xn-rr,tn+Cr,xn+rr,tn-Cr,xn+rr],p.x,p.y);if(Ce.length>0){var ot=g,At=Er(ot,Xr(s)),bt=Er(ot,Xr(Ce)),wt=At;bt<At&&(s=[Ce[0],Ce[1]],wt=bt),Ce.length>2&&Er(ot,{x:Ce[2],y:Ce[3]})<wt&&(s=[Ce[2],Ce[3]])}}var Ht=Af(s,Pe,i.arrowShapes[D].spacing(l)+M),wn=Af(s,Pe,i.arrowShapes[D].gap(l)+M);U.startX=wn[0],U.startY=wn[1],U.arrowStartX=Ht[0],U.arrowStartY=Ht[1],me&&(U.badLine=!($e(U.startX)&&$e(U.startY)&&$e(U.endX)&&$e(U.endY)))},getSourceEndpoint:function(l){var i=l[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(l),i.edgeType)?{x:i.haystackPts[0],y:i.haystackPts[1]}:{x:i.arrowStartX,y:i.arrowStartY}},getTargetEndpoint:function(l){var i=l[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(l),i.edgeType)?{x:i.haystackPts[2],y:i.haystackPts[3]}:{x:i.arrowEndX,y:i.arrowEndY}}},y={};function _(l,i,s){for(var f=function(E,M,P,U){return Zr(E,M,P,U)},p=i._private.rstyle.bezierPts,g=0;g<l.bezierProjPcts.length;g++){var w=l.bezierProjPcts[g];p.push({x:f(s[0],s[2],s[4],w),y:f(s[1],s[3],s[5],w)})}}y.storeEdgeProjections=function(l){var i=l._private,s=i.rscratch,f=s.edgeType;if(i.rstyle.bezierPts=null,i.rstyle.linePts=null,i.rstyle.haystackPts=null,"multibezier"===f||"bezier"===f||"self"===f||"compound"===f){i.rstyle.bezierPts=[];for(var d=0;d+5<s.allpts.length;d+=4)_(this,l,s.allpts.slice(d,d+6))}else if("segments"===f){var p=i.rstyle.linePts=[];for(d=0;d+1<s.allpts.length;d+=2)p.push({x:s.allpts[d],y:s.allpts[d+1]})}else if("haystack"===f){var g=s.haystackPts;i.rstyle.haystackPts=[{x:g[0],y:g[1]},{x:g[2],y:g[3]}]}i.rstyle.arrowWidth=this.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.arrowShapeWidth},y.recalculateEdgeProjections=function(l){this.findEdgeControlPoints(l)};var G={recalculateNodeLabelProjection:function(l){var i=l.pstyle("label").strValue;if(!Lt(i)){var s,f,d=l._private,p=l.width(),g=l.height(),w=l.padding(),D=l.position(),E=l.pstyle("text-halign").strValue,M=l.pstyle("text-valign").strValue,P=d.rscratch,U=d.rstyle;switch(E){case"left":s=D.x-p/2-w;break;case"right":s=D.x+p/2+w;break;default:s=D.x}switch(M){case"top":f=D.y-g/2-w;break;case"bottom":f=D.y+g/2+w;break;default:f=D.y}P.labelX=s,P.labelY=f,U.labelX=s,U.labelY=f,this.calculateLabelAngles(l),this.applyLabelDimensions(l)}}},X=function(i,s){var f=Math.atan(s/i);return 0===i&&f<0&&(f*=-1),f},Q=function(i,s){return X(s.x-i.x,s.y-i.y)};G.recalculateEdgeLabelProjections=function(l){var i,s=l._private,f=s.rscratch,d=this,p={mid:l.pstyle("label").strValue,source:l.pstyle("source-label").strValue,target:l.pstyle("target-label").strValue};if(p.mid||p.source||p.target){var g=function(P,U,W){mo(s.rscratch,P,U,W),mo(s.rstyle,P,U,W)};g("labelX",null,(i={x:f.midX,y:f.midY}).x),g("labelY",null,i.y);var w=X(f.midDispX,f.midDispY);g("labelAutoAngle",null,w);var D=function M(){if(M.cache)return M.cache;for(var P=[],U=0;U+5<f.allpts.length;U+=4)P.push({p0:{x:f.allpts[U],y:f.allpts[U+1]},p1:{x:f.allpts[U+2],y:f.allpts[U+3]},p2:{x:f.allpts[U+4],y:f.allpts[U+5]},startDist:0,length:0,segments:[]});var q=s.rstyle.bezierPts,re=d.bezierProjPcts.length;function fe(ye,Me,be,Le,Pe){var Ee=xi(Me,be),Be=ye.segments[ye.segments.length-1];ye.segments.push({p0:Me,p1:be,t0:Le,t1:Pe,startDist:Be?Be.startDist+Be.length:0,length:Ee}),ye.length+=Ee}for(var de=0;de<P.length;de++){var me=P[de],Ie=P[de-1];Ie&&(me.startDist=Ie.startDist+Ie.length),fe(me,me.p0,q[de*re],0,d.bezierProjPcts[0]);for(var Ae=0;Ae<re-1;Ae++)fe(me,q[de*re+Ae],q[de*re+Ae+1],d.bezierProjPcts[Ae],d.bezierProjPcts[Ae+1]);fe(me,q[de*re+re-1],me.p2,d.bezierProjPcts[re-1],1)}return M.cache=P},E=function(P){var U,W="source"===P;if(p[P]){var z=l.pstyle(P+"-text-offset").pfValue;switch(f.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var q,Z=D(),re=0,fe=0,de=0;de<Z.length;de++){for(var me=Z[W?de:Z.length-1-de],Ie=0;Ie<me.segments.length;Ie++){var Ae=me.segments[W?Ie:me.segments.length-1-Ie];if(re=fe,(fe+=Ae.length)>=z||de===Z.length-1&&Ie===me.segments.length-1){q={cp:me,segment:Ae};break}}if(q)break}var Me=q.cp,be=q.segment,Le=(z-re)/be.length,Pe=be.t1-be.t0,Ee=W?be.t0+Pe*Le:be.t1-Pe*Le;Ee=Ns(0,Ee,1),i=Ji(Me.p0,Me.p1,Me.p2,Ee),U=function(i,s,f,d){var p=Ns(0,d-.001,1),g=Ns(0,d+.001,1),w=Ji(i,s,f,p),D=Ji(i,s,f,g);return Q(w,D)}(Me.p0,Me.p1,Me.p2,Ee);break;case"straight":case"segments":case"haystack":for(var Oe,Ye,He,Ge,Be=0,qe=f.allpts.length,it=0;it+3<qe&&(W?(He={x:f.allpts[it],y:f.allpts[it+1]},Ge={x:f.allpts[it+2],y:f.allpts[it+3]}):(He={x:f.allpts[qe-2-it],y:f.allpts[qe-1-it]},Ge={x:f.allpts[qe-4-it],y:f.allpts[qe-3-it]}),Ye=Be,!((Be+=Oe=xi(He,Ge))>=z));it+=2);var tt=(z-Ye)/Oe;tt=Ns(0,tt,1),i=function(i,s,f,d){var p_x=s.x-i.x,p_y=s.y-i.y,g=xi(i,s);return f=f??0,{x:i.x+p_x/g*(d=d??f*g),y:i.y+p_y/g*d}}(He,Ge,tt),U=Q(He,Ge)}g("labelX",P,i.x),g("labelY",P,i.y),g("labelAutoAngle",P,U)}};E("source"),E("target"),this.applyLabelDimensions(l)}},G.applyLabelDimensions=function(l){this.applyPrefixedLabelDimensions(l),l.isEdge()&&(this.applyPrefixedLabelDimensions(l,"source"),this.applyPrefixedLabelDimensions(l,"target"))},G.applyPrefixedLabelDimensions=function(l,i){var s=l._private,f=this.getLabelText(l,i),d=this.calculateLabelDimensions(l,f),p=l.pstyle("line-height").pfValue,g=l.pstyle("text-wrap").strValue,w=Pi(s.rscratch,"labelWrapCachedLines",i)||[],D="wrap"!==g?1:Math.max(w.length,1),E=d.height/D,M=E*p,P=d.width,U=d.height+(D-1)*(p-1)*E;mo(s.rstyle,"labelWidth",i,P),mo(s.rscratch,"labelWidth",i,P),mo(s.rstyle,"labelHeight",i,U),mo(s.rscratch,"labelHeight",i,U),mo(s.rscratch,"labelLineHeight",i,M)},G.getLabelText=function(l,i){var s=l._private,d=l.pstyle((i?i+"-":"")+"label").strValue,p=l.pstyle("text-transform").value,g=function(ht,tt){return tt?(mo(s.rscratch,ht,i,tt),tt):Pi(s.rscratch,ht,i)};if(!d)return"";"none"==p||("uppercase"==p?d=d.toUpperCase():"lowercase"==p&&(d=d.toLowerCase()));var w=l.pstyle("text-wrap").value;if("wrap"===w){var D=g("labelKey");if(null!=D&&g("labelWrapKey")===D)return g("labelWrapCachedText");for(var M=d.split("\n"),P=l.pstyle("text-max-width").pfValue,W="anywhere"===l.pstyle("text-overflow-wrap").value,z=[],Z=/[\s\u200b]+/,q=W?"":" ",re=0;re<M.length;re++){var fe=M[re],me=this.calculateLabelDimensions(l,fe).width;if(W){var Ie=fe.split("").join("\u200b");fe=Ie}if(me>P){for(var Ae=fe.split(Z),ye="",Me=0;Me<Ae.length;Me++){var be=Ae[Me];this.calculateLabelDimensions(l,0===ye.length?be:ye+q+be).width<=P?ye+=be+q:(ye&&z.push(ye),ye=be+q)}ye.match(/^[\s\u200b]+$/)||z.push(ye)}else z.push(fe)}g("labelWrapCachedLines",z),d=g("labelWrapCachedText",z.join("\n")),g("labelWrapKey",D)}else if("ellipsis"===w){var Be=l.pstyle("text-max-width").pfValue,Oe="",He=!1;if(this.calculateLabelDimensions(l,d).width<Be)return d;for(var Ge=0;Ge<d.length&&!(this.calculateLabelDimensions(l,Oe+d[Ge]+"\u2026").width>Be);Ge++)Oe+=d[Ge],Ge===d.length-1&&(He=!0);return He||(Oe+="\u2026"),Oe}return d},G.getLabelJustification=function(l){var i=l.pstyle("text-justification").strValue,s=l.pstyle("text-halign").strValue;if("auto"!==i)return i;if(!l.isNode())return"center";switch(s){case"left":return"right";case"right":return"left";default:return"center"}},G.calculateLabelDimensions=function(l,i){var f=Ga(i,l._private.labelDimsKey),d=this.labelDimCache||(this.labelDimCache=[]),p=d[f];if(null!=p)return p;var w=l.pstyle("font-style").strValue,D=l.pstyle("font-size").pfValue,E=l.pstyle("font-family").strValue,M=l.pstyle("font-weight").strValue,P=this.labelCalcCanvas,U=this.labelCalcCanvasContext;if(!P){P=this.labelCalcCanvas=document.createElement("canvas"),U=this.labelCalcCanvasContext=P.getContext("2d");var W=P.style;W.position="absolute",W.left="-9999px",W.top="-9999px",W.zIndex="-1",W.visibility="hidden",W.pointerEvents="none"}U.font="".concat(w," ").concat(M," ").concat(D,"px ").concat(E);for(var z=0,Z=0,q=i.split("\n"),re=0;re<q.length;re++){var de=U.measureText(q[re]),me=Math.ceil(de.width),Ie=D;z=Math.max(me,z),Z+=Ie}return d[f]={width:z+=0,height:Z+=0}},G.calculateLabelAngle=function(l,i){var f=l._private.rscratch,d=l.isEdge(),g=l.pstyle((i?i+"-":"")+"text-rotation"),w=g.strValue;return"none"===w?0:d&&"autorotate"===w?f.labelAutoAngle:"autorotate"===w?0:g.pfValue},G.calculateLabelAngles=function(l){var i=this,s=l.isEdge(),d=l._private.rscratch;d.labelAngle=i.calculateLabelAngle(l),s&&(d.sourceLabelAngle=i.calculateLabelAngle(l,"source"),d.targetLabelAngle=i.calculateLabelAngle(l,"target"))};var De={},We=!1;De.getNodeShape=function(l){var s=l.pstyle("shape").value;if("cutrectangle"===s&&(l.width()<28||l.height()<28))return We||(mr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),We=!0),"rectangle";if(l.isParent())return"rectangle"===s||"roundrectangle"===s||"round-rectangle"===s||"cutrectangle"===s||"cut-rectangle"===s||"barrel"===s?s:"rectangle";if("polygon"===s){var f=l.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(f).name}return s};var st={updateCachedGrabbedEles:function(){var l=this.cachedZSortedEles;if(l){l.drag=[],l.nondrag=[];for(var i=[],s=0;s<l.length;s++){var d=(f=l[s])._private.rscratch;f.grabbed()&&!f.isParent()?i.push(f):d.inDragLayer?l.drag.push(f):l.nondrag.push(f)}for(s=0;s<i.length;s++){var f;l.drag.push(f=i[s])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(l){if(l||!this.cachedZSortedEles){var i=this.cy.mutableElements().toArray();i.sort(Tl),i.interactive=i.filter(function(s){return s.interactive()}),this.cachedZSortedEles=i,this.updateCachedGrabbedEles()}else i=this.cachedZSortedEles;return i}},pt={};[ts,a,c,v,y,G,De,{registerCalculationListeners:function(){var l=this.cy,i=l.collection(),s=this,f=function(g){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(i.merge(g),w)for(var D=0;D<g.length;D++){var P=g[D]._private.rstyle;P.clean=!1,P.cleanConnected=!1}};s.binder(l).on("bounds.* dirty.*",function(g){f(g.target)}).on("style.* background.*",function(g){f(g.target,!1)});var d=function(g){if(g){var w=s.onUpdateEleCalcsFns;i.cleanStyle();for(var D=0;D<i.length;D++){var E=i[D],M=E._private.rstyle;E.isNode()&&!M.cleanConnected&&(f(E.connectedEdges()),M.cleanConnected=!0)}if(w)for(var P=0;P<w.length;P++)(0,w[P])(g,i);s.recalculateRenderedStyle(i),i=l.collection()}};s.flushRenderedStyleQueue=function(){d(!0)},s.beforeRender(d,s.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(l){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(l)},recalculateRenderedStyle:function(l,i){var s=function(me){return me._private.rstyle.cleanConnected},f=[],d=[];if(!this.destroyed){void 0===i&&(i=!0);for(var p=0;p<l.length;p++){var g=l[p],w=g._private,D=w.rstyle;g.isEdge()&&(!s(g.source())||!s(g.target()))&&(D.clean=!1),!(i&&D.clean||g.removed())&&"none"!==g.pstyle("display").value&&("nodes"===w.group?d.push(g):f.push(g),D.clean=!0)}for(var E=0;E<d.length;E++){var M=d[E],U=M._private.rstyle,W=M.position();this.recalculateNodeLabelProjection(M),U.nodeX=W.x,U.nodeY=W.y,U.nodeW=M.pstyle("width").pfValue,U.nodeH=M.pstyle("height").pfValue}this.recalculateEdgeProjections(f);for(var z=0;z<f.length;z++){var q=f[z]._private,re=q.rstyle,fe=q.rscratch;re.srcX=fe.arrowStartX,re.srcY=fe.arrowStartY,re.tgtX=fe.arrowEndX,re.tgtY=fe.arrowEndY,re.midX=fe.midX,re.midY=fe.midY,re.labelAngle=fe.labelAngle,re.sourceLabelAngle=fe.sourceLabelAngle,re.targetLabelAngle=fe.targetLabelAngle}}}},st].forEach(function(l){En(pt,l)});var Vt={getCachedImage:function(l,i,s){var d=this.imageCache=this.imageCache||{},p=d[l];if(p)return p.image.complete||p.image.addEventListener("load",s),p.image;var g=(p=d[l]=d[l]||{}).image=new Image;g.addEventListener("load",s),g.addEventListener("error",function(){g.error=!0});return"data:"===l.substring(0,5).toLowerCase()||(g.crossOrigin=i="null"===i?null:i),g.src=l,g}},Gt={registerBinding:function(l,i,s,f){var d=Array.prototype.slice.apply(arguments,[1]),p=this.binder(l);return p.on.apply(p,d)},binder:function(l){var i=this,s=l===window||l===document||l===document.body||function(i){return!(typeof HTMLElement>"u")&&i instanceof HTMLElement}(l);if(null==i.supportsPassiveEvents){var f=!1;try{var d=Object.defineProperty({},"passive",{get:function(){return f=!0,!0}});window.addEventListener("test",null,d)}catch{}i.supportsPassiveEvents=f}var p=function(w,D,E){var M=Array.prototype.slice.call(arguments);return s&&i.supportsPassiveEvents&&(M[2]={capture:E??!1,passive:!1,once:!1}),i.bindings.push({target:l,args:M}),(l.addEventListener||l.on).apply(l,M),this};return{on:p,addEventListener:p,addListener:p,bind:p}},nodeIsDraggable:function(l){return l&&l.isNode()&&!l.locked()&&l.grabbable()},nodeIsGrabbable:function(l){return this.nodeIsDraggable(l)&&l.interactive()}};Gt.load=function(){var l=this,i=function(Ce){return Ce.selected()},s=function(Ce,ot,At,bt){null==Ce&&(Ce=l.cy);for(var wt=0;wt<ot.length;wt++)Ce.emit({originalEvent:At,type:ot[wt],position:bt})},f=function(Ce){return Ce.shiftKey||Ce.metaKey||Ce.ctrlKey},d=function(Ce,ot){var At=!0;if(l.cy.hasCompoundNodes()&&Ce&&Ce.pannable()){for(var bt=0;ot&&bt<ot.length;bt++)if((Ce=ot[bt]).isNode()&&Ce.isParent()&&!Ce.pannable()){At=!1;break}}else At=!0;return At},w=function(Ce){Ce[0]._private.rscratch.inDragLayer=!0},E=function(Ce){Ce[0]._private.rscratch.isGrabTarget=!0},P=function(Ce,ot){var At=ot.addToList;!At.has(Ce)&&Ce.grabbable()&&!Ce.locked()&&(At.merge(Ce),function(Ce){Ce[0]._private.grabbed=!0}(Ce))},W=function(Ce,ot){ot=ot||{};var At=Ce.cy().hasCompoundNodes();ot.inDragLayer&&(Ce.forEach(w),Ce.neighborhood().stdFilter(function(bt){return!At||bt.isEdge()}).forEach(w)),ot.addToList&&Ce.forEach(function(bt){P(bt,ot)}),function(Ce,ot){if(Ce.cy().hasCompoundNodes()&&(null!=ot.inDragLayer||null!=ot.addToList)){var At=Ce.descendants();ot.inDragLayer&&(At.forEach(w),At.connectedEdges().forEach(w)),ot.addToList&&P(At,ot)}}(Ce,ot),q(Ce,{inDragLayer:ot.inDragLayer}),l.updateCachedGrabbedEles()},z=W,Z=function(Ce){Ce&&(l.getCachedZSortedEles().forEach(function(ot){(function(Ce){Ce[0]._private.grabbed=!1})(ot),function(Ce){Ce[0]._private.rscratch.inDragLayer=!1}(ot),function(Ce){Ce[0]._private.rscratch.isGrabTarget=!1}(ot)}),l.updateCachedGrabbedEles())},q=function(Ce,ot){if((null!=ot.inDragLayer||null!=ot.addToList)&&Ce.cy().hasCompoundNodes()){var At=Ce.ancestors().orphans();if(!At.same(Ce)){var bt=At.descendants().spawnSelf().merge(At).unmerge(Ce).unmerge(Ce.descendants()),wt=bt.connectedEdges();ot.inDragLayer&&(wt.forEach(w),bt.forEach(w)),ot.addToList&&bt.forEach(function(sr){P(sr,ot)})}}},re=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},fe=typeof MutationObserver<"u",de=typeof ResizeObserver<"u";fe?(l.removeObserver=new MutationObserver(function(Bt){for(var Ce=0;Ce<Bt.length;Ce++){var At=Bt[Ce].removedNodes;if(At)for(var bt=0;bt<At.length;bt++)if(At[bt]===l.container){l.destroy();break}}}),l.container.parentNode&&l.removeObserver.observe(l.container.parentNode,{childList:!0})):l.registerBinding(l.container,"DOMNodeRemoved",function(Bt){l.destroy()});var me=R.default(function(){l.cy.resize()},100);fe&&(l.styleObserver=new MutationObserver(me),l.styleObserver.observe(l.container,{attributes:!0})),l.registerBinding(window,"resize",me),de&&(l.resizeObserver=new ResizeObserver(me),l.resizeObserver.observe(l.container));var Ae=function(){l.invalidateContainerClientCoordsCache()};(function(Ce,ot){for(;null!=Ce;)l.registerBinding(Bt=Ce,"transitionend",Ae),l.registerBinding(Bt,"animationend",Ae),l.registerBinding(Bt,"scroll",Ae),Ce=Ce.parentNode;var Bt})(l.container),l.registerBinding(l.container,"contextmenu",function(Bt){Bt.preventDefault()});var be,Le,Pe,Me=function(Ce){for(var ot=l.findContainerClientCoords(),At=ot[0],bt=ot[1],wt=ot[2],sr=ot[3],Ht=Ce.touches?Ce.touches:[Ce],wn=!1,Or=0;Or<Ht.length;Or++){var Fr=Ht[Or];if(At<=Fr.clientX&&Fr.clientX<=At+wt&&bt<=Fr.clientY&&Fr.clientY<=bt+sr){wn=!0;break}}if(!wn)return!1;for(var ir=l.container,er=Ce.target.parentNode,cr=!1;er;){if(er===ir){cr=!0;break}er=er.parentNode}return!!cr};l.registerBinding(l.container,"mousedown",function(Ce){if(Me(Ce)){Ce.preventDefault(),re(),l.hoverData.capture=!0,l.hoverData.which=Ce.which;var ot=l.cy,At=[Ce.clientX,Ce.clientY],bt=l.projectIntoViewport(At[0],At[1]),wt=l.selection,sr=l.findNearestElements(bt[0],bt[1],!0,!1),Ht=sr[0],wn=l.dragData.possibleDragElements;if(l.hoverData.mdownPos=bt,l.hoverData.mdownGPos=At,3==Ce.which){l.hoverData.cxtStarted=!0;var Fr={originalEvent:Ce,type:"cxttapstart",position:{x:bt[0],y:bt[1]}};Ht?(Ht.activate(),Ht.emit(Fr),l.hoverData.down=Ht):ot.emit(Fr),l.hoverData.downTime=(new Date).getTime(),l.hoverData.cxtDragged=!1}else if(1==Ce.which){if(Ht&&Ht.activate(),null!=Ht&&l.nodeIsGrabbable(Ht)){var ir=function(Fi){return{originalEvent:Ce,type:Fi,position:{x:bt[0],y:bt[1]}}};if(E(Ht),Ht.selected()){wn=l.dragData.possibleDragElements=ot.collection();var er=ot.$(function(cr){return cr.isNode()&&cr.selected()&&l.nodeIsGrabbable(cr)});W(er,{addToList:wn}),Ht.emit(ir("grabon")),er.forEach(function(Fi){Fi.emit(ir("grab"))})}else wn=l.dragData.possibleDragElements=ot.collection(),z(Ht,{addToList:wn}),Ht.emit(ir("grabon")).emit(ir("grab"));l.redrawHint("eles",!0),l.redrawHint("drag",!0)}l.hoverData.down=Ht,l.hoverData.downs=sr,l.hoverData.downTime=(new Date).getTime(),s(Ht,["mousedown","tapstart","vmousedown"],Ce,{x:bt[0],y:bt[1]}),null==Ht?(wt[4]=1,l.data.bgActivePosistion={x:bt[0],y:bt[1]},l.redrawHint("select",!0),l.redraw()):Ht.pannable()&&(wt[4]=1),l.hoverData.tapholdCancelled=!1,clearTimeout(l.hoverData.tapholdTimeout),l.hoverData.tapholdTimeout=setTimeout(function(){if(!l.hoverData.tapholdCancelled){var Fi=l.hoverData.down;Fi?Fi.emit({originalEvent:Ce,type:"taphold",position:{x:bt[0],y:bt[1]}}):ot.emit({originalEvent:Ce,type:"taphold",position:{x:bt[0],y:bt[1]}})}},l.tapholdDuration)}wt[0]=wt[2]=bt[0],wt[1]=wt[3]=bt[1]}},!1),l.registerBinding(window,"mousemove",function(Ce){var Pl;if(l.hoverData.capture||Me(Ce)){var At=!1,bt=l.cy,wt=bt.zoom(),sr=[Ce.clientX,Ce.clientY],Ht=l.projectIntoViewport(sr[0],sr[1]),wn=l.hoverData.mdownPos,Or=l.hoverData.mdownGPos,Fr=l.selection,ir=null;!l.hoverData.draggingEles&&!l.hoverData.dragging&&!l.hoverData.selecting&&(ir=l.findNearestElement(Ht[0],Ht[1],!0,!1));var Zo,Br=l.hoverData.last,er=l.hoverData.down,cr=[Ht[0]-Fr[2],Ht[1]-Fr[3]],Fi=l.dragData.possibleDragElements;if(Or){var al=sr[0]-Or[0],aa=sr[1]-Or[1];l.hoverData.isOverThresholdDrag=Zo=al*al+aa*aa>=l.desktopTapThreshold2}var Sa=f(Ce);Zo&&(l.hoverData.tapholdCancelled=!0),At=!0,s(ir,["mousemove","vmousemove","tapdrag"],Ce,{x:Ht[0],y:Ht[1]});var od=function(){l.data.bgActivePosistion=void 0,l.hoverData.selecting||bt.emit({originalEvent:Ce,type:"boxstart",position:{x:Ht[0],y:Ht[1]}}),Fr[4]=1,l.hoverData.selecting=!0,l.redrawHint("select",!0),l.redraw()};if(3===l.hoverData.which){if(Zo){var ad={originalEvent:Ce,type:"cxtdrag",position:{x:Ht[0],y:Ht[1]}};er?er.emit(ad):bt.emit(ad),l.hoverData.cxtDragged=!0,(!l.hoverData.cxtOver||ir!==l.hoverData.cxtOver)&&(l.hoverData.cxtOver&&l.hoverData.cxtOver.emit({originalEvent:Ce,type:"cxtdragout",position:{x:Ht[0],y:Ht[1]}}),l.hoverData.cxtOver=ir,ir&&ir.emit({originalEvent:Ce,type:"cxtdragover",position:{x:Ht[0],y:Ht[1]}}))}}else if(l.hoverData.dragging){if(At=!0,bt.panningEnabled()&&bt.userPanningEnabled()){var nh;if(l.hoverData.justStartedPan){var hg=l.hoverData.mdownPos;nh={x:(Ht[0]-hg[0])*wt,y:(Ht[1]-hg[1])*wt},l.hoverData.justStartedPan=!1}else nh={x:cr[0]*wt,y:cr[1]*wt};bt.panBy(nh),bt.emit("dragpan"),l.hoverData.dragged=!0}Ht=l.projectIntoViewport(Ce.clientX,Ce.clientY)}else if(1!=Fr[4]||null!=er&&!er.pannable()){if(er&&er.pannable()&&er.active()&&er.unactivate(),(!er||!er.grabbed())&&ir!=Br&&(Br&&s(Br,["mouseout","tapdragout"],Ce,{x:Ht[0],y:Ht[1]}),ir&&s(ir,["mouseover","tapdragover"],Ce,{x:Ht[0],y:Ht[1]}),l.hoverData.last=ir),er)if(Zo){if(bt.boxSelectionEnabled()&&Sa)er&&er.grabbed()&&(Z(Fi),er.emit("freeon"),Fi.emit("free"),l.dragData.didDrag&&(er.emit("dragfreeon"),Fi.emit("dragfree"))),od();else if(er&&er.grabbed()&&l.nodeIsDraggable(er)){var ws=!l.dragData.didDrag;ws&&l.redrawHint("eles",!0),l.dragData.didDrag=!0,l.hoverData.draggingEles||W(Fi,{inDragLayer:!0});var sa={x:0,y:0};if($e(cr[0])&&$e(cr[1])&&(sa.x+=cr[0],sa.y+=cr[1],ws)){var rs=l.hoverData.dragDelta;rs&&$e(rs[0])&&$e(rs[1])&&(sa.x+=rs[0],sa.y+=rs[1])}l.hoverData.draggingEles=!0,Fi.silentShift(sa).emit("position drag"),l.redrawHint("drag",!0),l.redraw()}}else 0===(Pl=l.hoverData.dragDelta=l.hoverData.dragDelta||[]).length?(Pl.push(cr[0]),Pl.push(cr[1])):(Pl[0]+=cr[0],Pl[1]+=cr[1]);At=!0}else Zo&&(l.hoverData.dragging||!bt.boxSelectionEnabled()||!Sa&&bt.panningEnabled()&&bt.userPanningEnabled()?!l.hoverData.selecting&&bt.panningEnabled()&&bt.userPanningEnabled()&&d(er,l.hoverData.downs)&&(l.hoverData.dragging=!0,l.hoverData.justStartedPan=!0,Fr[4]=0,l.data.bgActivePosistion=Xr(wn),l.redrawHint("select",!0),l.redraw()):od(),er&&er.pannable()&&er.active()&&er.unactivate());if(Fr[2]=Ht[0],Fr[3]=Ht[1],At)return Ce.stopPropagation&&Ce.stopPropagation(),Ce.preventDefault&&Ce.preventDefault(),!1}},!1),l.registerBinding(window,"mouseup",function(Ce){if(l.hoverData.capture){l.hoverData.capture=!1;var At=l.cy,bt=l.projectIntoViewport(Ce.clientX,Ce.clientY),wt=l.selection,sr=l.findNearestElement(bt[0],bt[1],!0,!1),Ht=l.dragData.possibleDragElements,wn=l.hoverData.down,Or=f(Ce);if(l.data.bgActivePosistion&&(l.redrawHint("select",!0),l.redraw()),l.hoverData.tapholdCancelled=!0,l.data.bgActivePosistion=void 0,wn&&wn.unactivate(),3===l.hoverData.which){var Fr={originalEvent:Ce,type:"cxttapend",position:{x:bt[0],y:bt[1]}};if(wn?wn.emit(Fr):At.emit(Fr),!l.hoverData.cxtDragged){var ir={originalEvent:Ce,type:"cxttap",position:{x:bt[0],y:bt[1]}};wn?wn.emit(ir):At.emit(ir)}l.hoverData.cxtDragged=!1,l.hoverData.which=null}else if(1===l.hoverData.which){if(s(sr,["mouseup","tapend","vmouseup"],Ce,{x:bt[0],y:bt[1]}),!l.dragData.didDrag&&!l.hoverData.dragged&&!l.hoverData.selecting&&!l.hoverData.isOverThresholdDrag&&(s(wn,["click","tap","vclick"],Ce,{x:bt[0],y:bt[1]}),Le=!1,Ce.timeStamp-Pe<=At.multiClickDebounceTime()?(be&&clearTimeout(be),Le=!0,Pe=null,s(wn,["dblclick","dbltap","vdblclick"],Ce,{x:bt[0],y:bt[1]})):(be=setTimeout(function(){Le||s(wn,["oneclick","onetap","voneclick"],Ce,{x:bt[0],y:bt[1]})},At.multiClickDebounceTime()),Pe=Ce.timeStamp)),null==wn&&!l.dragData.didDrag&&!l.hoverData.selecting&&!l.hoverData.dragged&&!f(Ce)&&(At.$(i).unselect(["tapunselect"]),Ht.length>0&&l.redrawHint("eles",!0),l.dragData.possibleDragElements=Ht=At.collection()),sr==wn&&!l.dragData.didDrag&&!l.hoverData.selecting&&null!=sr&&sr._private.selectable&&(l.hoverData.dragging||("additive"===At.selectionType()||Or?sr.selected()?sr.unselect(["tapunselect"]):sr.select(["tapselect"]):Or||(At.$(i).unmerge(sr).unselect(["tapunselect"]),sr.select(["tapselect"]))),l.redrawHint("eles",!0)),l.hoverData.selecting){var Br=At.collection(l.getAllInBox(wt[0],wt[1],wt[2],wt[3]));l.redrawHint("select",!0),Br.length>0&&l.redrawHint("eles",!0),At.emit({type:"boxend",originalEvent:Ce,position:{x:bt[0],y:bt[1]}}),"additive"===At.selectionType()||Or||At.$(i).unmerge(Br).unselect(),Br.emit("box").stdFilter(function(Zo){return Zo.selectable()&&!Zo.selected()}).select().emit("boxselect"),l.redraw()}if(l.hoverData.dragging&&(l.hoverData.dragging=!1,l.redrawHint("select",!0),l.redrawHint("eles",!0),l.redraw()),!wt[4]){l.redrawHint("drag",!0),l.redrawHint("eles",!0);var cr=wn&&wn.grabbed();Z(Ht),cr&&(wn.emit("freeon"),Ht.emit("free"),l.dragData.didDrag&&(wn.emit("dragfreeon"),Ht.emit("dragfree")))}}wt[4]=0,l.hoverData.down=null,l.hoverData.cxtStarted=!1,l.hoverData.draggingEles=!1,l.hoverData.selecting=!1,l.hoverData.isOverThresholdDrag=!1,l.dragData.didDrag=!1,l.hoverData.dragged=!1,l.hoverData.dragDelta=[],l.hoverData.mdownPos=null,l.hoverData.mdownGPos=null}},!1);var Ee=function(Ce){if(!l.scrollingPage){var ot=l.cy,At=ot.zoom(),bt=ot.pan(),wt=l.projectIntoViewport(Ce.clientX,Ce.clientY),sr=[wt[0]*At+bt.x,wt[1]*At+bt.y];if(l.hoverData.draggingEles||l.hoverData.dragging||l.hoverData.cxtStarted||0!==l.selection[4])return void Ce.preventDefault();if(ot.panningEnabled()&&ot.userPanningEnabled()&&ot.zoomingEnabled()&&ot.userZoomingEnabled()){var Ht;Ce.preventDefault(),l.data.wheelZooming=!0,clearTimeout(l.data.wheelTimeout),l.data.wheelTimeout=setTimeout(function(){l.data.wheelZooming=!1,l.redrawHint("eles",!0),l.redraw()},150),Ht=null!=Ce.deltaY?Ce.deltaY/-250:null!=Ce.wheelDeltaY?Ce.wheelDeltaY/1e3:Ce.wheelDelta/1e3,Ht*=l.wheelSensitivity,1===Ce.deltaMode&&(Ht*=33);var Or=ot.zoom()*Math.pow(10,Ht);"gesturechange"===Ce.type&&(Or=l.gestureStartZoom*Ce.scale),ot.zoom({level:Or,renderedPosition:{x:sr[0],y:sr[1]}}),ot.emit("gesturechange"===Ce.type?"pinchzoom":"scrollzoom")}}};l.registerBinding(l.container,"wheel",Ee,!0),l.registerBinding(window,"scroll",function(Ce){l.scrollingPage=!0,clearTimeout(l.scrollingPageTimeout),l.scrollingPageTimeout=setTimeout(function(){l.scrollingPage=!1},250)},!0),l.registerBinding(l.container,"gesturestart",function(Ce){l.gestureStartZoom=l.cy.zoom(),l.hasTouchStarted||Ce.preventDefault()},!0),l.registerBinding(l.container,"gesturechange",function(Bt){l.hasTouchStarted||Ee(Bt)},!0),l.registerBinding(l.container,"mouseout",function(Ce){var ot=l.projectIntoViewport(Ce.clientX,Ce.clientY);l.cy.emit({originalEvent:Ce,type:"mouseout",position:{x:ot[0],y:ot[1]}})},!1),l.registerBinding(l.container,"mouseover",function(Ce){var ot=l.projectIntoViewport(Ce.clientX,Ce.clientY);l.cy.emit({originalEvent:Ce,type:"mouseover",position:{x:ot[0],y:ot[1]}})},!1);var Be,Oe,Ye,He,Ge,qe,it,ht,tt,dt,St,Tt,Ct,Dt,Mt,zt,Qt,Fn,Xn,en,vt=function(Ce,ot,At,bt){return Math.sqrt((At-Ce)*(At-Ce)+(bt-ot)*(bt-ot))},Ke=function(Ce,ot,At,bt){return(At-Ce)*(At-Ce)+(bt-ot)*(bt-ot)};if(l.registerBinding(l.container,"touchstart",Dt=function(Ce){if(l.hasTouchStarted=!0,Me(Ce)){re(),l.touchData.capture=!0,l.data.bgActivePosistion=void 0;var ot=l.cy,At=l.touchData.now,bt=l.touchData.earlier;if(Ce.touches[0]){var wt=l.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);At[0]=wt[0],At[1]=wt[1]}if(Ce.touches[1]&&(wt=l.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),At[2]=wt[0],At[3]=wt[1]),Ce.touches[2]&&(wt=l.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),At[4]=wt[0],At[5]=wt[1]),Ce.touches[1]){l.touchData.singleTouchMoved=!0,Z(l.dragData.touchDragEles);var sr=l.findContainerClientCoords();St=sr[2],Tt=sr[3],Oe=Ce.touches[0].clientY-(dt=sr[1]),Ye=Ce.touches[1].clientX-(tt=sr[0]),He=Ce.touches[1].clientY-dt,Ct=0<=(Be=Ce.touches[0].clientX-tt)&&Be<=St&&0<=Ye&&Ye<=St&&0<=Oe&&Oe<=Tt&&0<=He&&He<=Tt;var Ht=ot.pan(),wn=ot.zoom();if(Ge=vt(Be,Oe,Ye,He),qe=Ke(Be,Oe,Ye,He),ht=[((it=[(Be+Ye)/2,(Oe+He)/2])[0]-Ht.x)/wn,(it[1]-Ht.y)/wn],qe<4e4&&!Ce.touches[2]){var ir=l.findNearestElement(At[0],At[1],!0,!0),Br=l.findNearestElement(At[2],At[3],!0,!0);return ir&&ir.isNode()?(ir.activate().emit({originalEvent:Ce,type:"cxttapstart",position:{x:At[0],y:At[1]}}),l.touchData.start=ir):Br&&Br.isNode()?(Br.activate().emit({originalEvent:Ce,type:"cxttapstart",position:{x:At[0],y:At[1]}}),l.touchData.start=Br):ot.emit({originalEvent:Ce,type:"cxttapstart",position:{x:At[0],y:At[1]}}),l.touchData.start&&(l.touchData.start._private.grabbed=!1),l.touchData.cxt=!0,l.touchData.cxtDragged=!1,l.data.bgActivePosistion=void 0,void l.redraw()}}if(Ce.touches[2])ot.boxSelectionEnabled()&&Ce.preventDefault();else if(!Ce.touches[1]&&Ce.touches[0]){var er=l.findNearestElements(At[0],At[1],!0,!0),cr=er[0];if(null!=cr&&(cr.activate(),l.touchData.start=cr,l.touchData.starts=er,l.nodeIsGrabbable(cr))){var Fi=l.dragData.touchDragEles=ot.collection(),Zo=null;l.redrawHint("eles",!0),l.redrawHint("drag",!0),cr.selected()?(Zo=ot.$(function(Ha){return Ha.selected()&&l.nodeIsGrabbable(Ha)}),W(Zo,{addToList:Fi})):z(cr,{addToList:Fi}),E(cr);var al=function(Sa){return{originalEvent:Ce,type:Sa,position:{x:At[0],y:At[1]}}};cr.emit(al("grabon")),Zo?Zo.forEach(function(Ha){Ha.emit(al("grab"))}):cr.emit(al("grab"))}s(cr,["touchstart","tapstart","vmousedown"],Ce,{x:At[0],y:At[1]}),null==cr&&(l.data.bgActivePosistion={x:wt[0],y:wt[1]},l.redrawHint("select",!0),l.redraw()),l.touchData.singleTouchMoved=!1,l.touchData.singleTouchStartTime=+new Date,clearTimeout(l.touchData.tapholdTimeout),l.touchData.tapholdTimeout=setTimeout(function(){!1===l.touchData.singleTouchMoved&&!l.pinching&&!l.touchData.selecting&&s(l.touchData.start,["taphold"],Ce,{x:At[0],y:At[1]})},l.tapholdDuration)}if(Ce.touches.length>=1){for(var sl=l.touchData.startPosition=[],aa=0;aa<At.length;aa++)sl[aa]=bt[aa]=At[aa];var Vs=Ce.touches[0];l.touchData.startGPosition=[Vs.clientX,Vs.clientY]}}},!1),l.registerBinding(window,"touchmove",Mt=function(Ce){var ot=l.touchData.capture;if(ot||Me(Ce)){var At=l.selection,bt=l.cy,wt=l.touchData.now,sr=l.touchData.earlier,Ht=bt.zoom();if(Ce.touches[0]){var wn=l.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);wt[0]=wn[0],wt[1]=wn[1]}Ce.touches[1]&&(wn=l.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),wt[2]=wn[0],wt[3]=wn[1]),Ce.touches[2]&&(wn=l.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),wt[4]=wn[0],wt[5]=wn[1]);var Fr,Or=l.touchData.startGPosition;if(ot&&Ce.touches[0]&&Or){for(var ir=[],Br=0;Br<wt.length;Br++)ir[Br]=wt[Br]-sr[Br];var er=Ce.touches[0].clientX-Or[0],Fi=Ce.touches[0].clientY-Or[1];Fr=er*er+Fi*Fi>=l.touchTapThreshold2}if(ot&&l.touchData.cxt){Ce.preventDefault();var Sa=Ke(sl=Ce.touches[0].clientX-tt,aa=Ce.touches[0].clientY-dt,Vs=Ce.touches[1].clientX-tt,Ha=Ce.touches[1].clientY-dt);if(Sa/qe>=2.25||Sa>=22500){l.touchData.cxt=!1,l.data.bgActivePosistion=void 0,l.redrawHint("select",!0);var sd={originalEvent:Ce,type:"cxttapend",position:{x:wt[0],y:wt[1]}};l.touchData.start?(l.touchData.start.unactivate().emit(sd),l.touchData.start=null):bt.emit(sd)}}if(ot&&l.touchData.cxt){sd={originalEvent:Ce,type:"cxtdrag",position:{x:wt[0],y:wt[1]}},l.data.bgActivePosistion=void 0,l.redrawHint("select",!0),l.touchData.start?l.touchData.start.emit(sd):bt.emit(sd),l.touchData.start&&(l.touchData.start._private.grabbed=!1),l.touchData.cxtDragged=!0;var ws=l.findNearestElement(wt[0],wt[1],!0,!0);(!l.touchData.cxtOver||ws!==l.touchData.cxtOver)&&(l.touchData.cxtOver&&l.touchData.cxtOver.emit({originalEvent:Ce,type:"cxtdragout",position:{x:wt[0],y:wt[1]}}),l.touchData.cxtOver=ws,ws&&ws.emit({originalEvent:Ce,type:"cxtdragover",position:{x:wt[0],y:wt[1]}}))}else if(ot&&Ce.touches[2]&&bt.boxSelectionEnabled())Ce.preventDefault(),l.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,l.touchData.selecting||bt.emit({originalEvent:Ce,type:"boxstart",position:{x:wt[0],y:wt[1]}}),l.touchData.selecting=!0,l.touchData.didSelect=!0,At[4]=1,At&&0!==At.length&&void 0!==At[0]?(At[2]=(wt[0]+wt[2]+wt[4])/3,At[3]=(wt[1]+wt[3]+wt[5])/3):(At[0]=(wt[0]+wt[2]+wt[4])/3,At[1]=(wt[1]+wt[3]+wt[5])/3,At[2]=(wt[0]+wt[2]+wt[4])/3+1,At[3]=(wt[1]+wt[3]+wt[5])/3+1),l.redrawHint("select",!0),l.redraw();else if(ot&&Ce.touches[1]&&!l.touchData.didSelect&&bt.zoomingEnabled()&&bt.panningEnabled()&&bt.userZoomingEnabled()&&bt.userPanningEnabled()){if(Ce.preventDefault(),l.data.bgActivePosistion=void 0,l.redrawHint("select",!0),sa=l.dragData.touchDragEles){l.redrawHint("drag",!0);for(var rs=0;rs<sa.length;rs++){var ap=sa[rs]._private;ap.grabbed=!1,ap.rscratch.inDragLayer=!1}}var sl,aa,Vs,Ha,Pl=l.touchData.start,em=vt(sl=Ce.touches[0].clientX-tt,aa=Ce.touches[0].clientY-dt,Vs=Ce.touches[1].clientX-tt,Ha=Ce.touches[1].clientY-dt),pg=em/Ge;if(Ct){var rm=(sl-Be+(Vs-Ye))/2,iE=(aa-Oe+(Ha-He))/2,sp=bt.zoom(),im=sp*pg,ld=bt.pan(),lp=ht[0]*sp+ld.x,v0=ht[1]*sp+ld.y,oE={x:-im/sp*(lp-ld.x-rm)+lp,y:-im/sp*(v0-ld.y-iE)+v0};Pl&&Pl.active()&&(Z(sa=l.dragData.touchDragEles),l.redrawHint("drag",!0),l.redrawHint("eles",!0),Pl.unactivate().emit("freeon"),sa.emit("free"),l.dragData.didDrag&&(Pl.emit("dragfreeon"),sa.emit("dragfree"))),bt.viewport({zoom:im,pan:oE,cancelOnFailedZoom:!0}),bt.emit("pinchzoom"),Ge=em,Be=sl,Oe=aa,Ye=Vs,He=Ha,l.pinching=!0}Ce.touches[0]&&(wn=l.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY),wt[0]=wn[0],wt[1]=wn[1]),Ce.touches[1]&&(wn=l.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),wt[2]=wn[0],wt[3]=wn[1]),Ce.touches[2]&&(wn=l.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),wt[4]=wn[0],wt[5]=wn[1])}else if(Ce.touches[0]&&!l.touchData.didSelect){var Us=l.touchData.start,gg=l.touchData.last;if(!l.hoverData.draggingEles&&!l.swipePanning&&(ws=l.findNearestElement(wt[0],wt[1],!0,!0)),ot&&null!=Us&&Ce.preventDefault(),ot&&null!=Us&&l.nodeIsDraggable(Us))if(Fr){var sa=l.dragData.touchDragEles,om=!l.dragData.didDrag;om&&W(sa,{inDragLayer:!0}),l.dragData.didDrag=!0;var ih={x:0,y:0};$e(ir[0])&&$e(ir[1])&&(ih.x+=ir[0],ih.y+=ir[1],om)&&(l.redrawHint("eles",!0),(ll=l.touchData.dragDelta)&&$e(ll[0])&&$e(ll[1])&&(ih.x+=ll[0],ih.y+=ll[1])),l.hoverData.draggingEles=!0,sa.silentShift(ih).emit("position drag"),l.redrawHint("drag",!0),l.touchData.startPosition[0]==sr[0]&&l.touchData.startPosition[1]==sr[1]&&l.redrawHint("eles",!0),l.redraw()}else{var ll;0===(ll=l.touchData.dragDelta=l.touchData.dragDelta||[]).length?(ll.push(ir[0]),ll.push(ir[1])):(ll[0]+=ir[0],ll[1]+=ir[1])}if(s(Us||ws,["touchmove","tapdrag","vmousemove"],Ce,{x:wt[0],y:wt[1]}),(!Us||!Us.grabbed())&&ws!=gg&&(gg&&gg.emit({originalEvent:Ce,type:"tapdragout",position:{x:wt[0],y:wt[1]}}),ws&&ws.emit({originalEvent:Ce,type:"tapdragover",position:{x:wt[0],y:wt[1]}})),l.touchData.last=ws,ot)for(rs=0;rs<wt.length;rs++)wt[rs]&&l.touchData.startPosition[rs]&&Fr&&(l.touchData.singleTouchMoved=!0);ot&&(null==Us||Us.pannable())&&bt.panningEnabled()&&bt.userPanningEnabled()&&(d(Us,l.touchData.starts)&&(Ce.preventDefault(),l.data.bgActivePosistion||(l.data.bgActivePosistion=Xr(l.touchData.startPosition)),l.swipePanning?(bt.panBy({x:ir[0]*Ht,y:ir[1]*Ht}),bt.emit("dragpan")):Fr&&(l.swipePanning=!0,bt.panBy({x:er*Ht,y:Fi*Ht}),bt.emit("dragpan"),Us&&(Us.unactivate(),l.redrawHint("select",!0),l.touchData.start=null))),wn=l.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY),wt[0]=wn[0],wt[1]=wn[1])}for(Br=0;Br<wt.length;Br++)sr[Br]=wt[Br];ot&&Ce.touches.length>0&&!l.hoverData.draggingEles&&!l.swipePanning&&null!=l.data.bgActivePosistion&&(l.data.bgActivePosistion=void 0,l.redrawHint("select",!0),l.redraw())}},!1),l.registerBinding(window,"touchcancel",zt=function(Ce){var ot=l.touchData.start;l.touchData.capture=!1,ot&&ot.unactivate()}),l.registerBinding(window,"touchend",Qt=function(Ce){var ot=l.touchData.start;if(l.touchData.capture){0===Ce.touches.length&&(l.touchData.capture=!1),Ce.preventDefault();var bt=l.selection;l.swipePanning=!1,l.hoverData.draggingEles=!1;var Fr,wt=l.cy,sr=wt.zoom(),Ht=l.touchData.now,wn=l.touchData.earlier;if(Ce.touches[0]){var Or=l.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);Ht[0]=Or[0],Ht[1]=Or[1]}if(Ce.touches[1]&&(Or=l.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),Ht[2]=Or[0],Ht[3]=Or[1]),Ce.touches[2]&&(Or=l.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),Ht[4]=Or[0],Ht[5]=Or[1]),ot&&ot.unactivate(),l.touchData.cxt){if(Fr={originalEvent:Ce,type:"cxttapend",position:{x:Ht[0],y:Ht[1]}},ot?ot.emit(Fr):wt.emit(Fr),!l.touchData.cxtDragged){var ir={originalEvent:Ce,type:"cxttap",position:{x:Ht[0],y:Ht[1]}};ot?ot.emit(ir):wt.emit(ir)}return l.touchData.start&&(l.touchData.start._private.grabbed=!1),l.touchData.cxt=!1,l.touchData.start=null,void l.redraw()}if(!Ce.touches[2]&&wt.boxSelectionEnabled()&&l.touchData.selecting){l.touchData.selecting=!1;var Br=wt.collection(l.getAllInBox(bt[0],bt[1],bt[2],bt[3]));bt[0]=void 0,bt[1]=void 0,bt[2]=void 0,bt[3]=void 0,bt[4]=0,l.redrawHint("select",!0),wt.emit({type:"boxend",originalEvent:Ce,position:{x:Ht[0],y:Ht[1]}}),Br.emit("box").stdFilter(function(ad){return ad.selectable()&&!ad.selected()}).select().emit("boxselect"),Br.nonempty()&&l.redrawHint("eles",!0),l.redraw()}if(ot?.unactivate(),Ce.touches[2])l.data.bgActivePosistion=void 0,l.redrawHint("select",!0);else if(!Ce.touches[1]&&!Ce.touches[0]&&!Ce.touches[0]){l.data.bgActivePosistion=void 0,l.redrawHint("select",!0);var cr=l.dragData.touchDragEles;if(null!=ot){var Fi=ot._private.grabbed;Z(cr),l.redrawHint("drag",!0),l.redrawHint("eles",!0),Fi&&(ot.emit("freeon"),cr.emit("free"),l.dragData.didDrag&&(ot.emit("dragfreeon"),cr.emit("dragfree"))),s(ot,["touchend","tapend","vmouseup","tapdragout"],Ce,{x:Ht[0],y:Ht[1]}),ot.unactivate(),l.touchData.start=null}else{var Zo=l.findNearestElement(Ht[0],Ht[1],!0,!0);s(Zo,["touchend","tapend","vmouseup","tapdragout"],Ce,{x:Ht[0],y:Ht[1]})}var al=l.touchData.startPosition[0]-Ht[0],aa=l.touchData.startPosition[1]-Ht[1],Sa=(al*al+aa*aa)*sr*sr;l.touchData.singleTouchMoved||(ot||wt.$(":selected").unselect(["tapunselect"]),s(ot,["tap","vclick"],Ce,{x:Ht[0],y:Ht[1]}),Fn=!1,Ce.timeStamp-en<=wt.multiClickDebounceTime()?(Xn&&clearTimeout(Xn),Fn=!0,en=null,s(ot,["dbltap","vdblclick"],Ce,{x:Ht[0],y:Ht[1]})):(Xn=setTimeout(function(){Fn||s(ot,["onetap","voneclick"],Ce,{x:Ht[0],y:Ht[1]})},wt.multiClickDebounceTime()),en=Ce.timeStamp)),null!=ot&&!l.dragData.didDrag&&ot._private.selectable&&Sa<l.touchTapThreshold2&&!l.pinching&&("single"===wt.selectionType()?(wt.$(i).unmerge(ot).unselect(["tapunselect"]),ot.select(["tapselect"])):ot.selected()?ot.unselect(["tapunselect"]):ot.select(["tapselect"]),l.redrawHint("eles",!0)),l.touchData.singleTouchMoved=!0}for(var Hs=0;Hs<Ht.length;Hs++)wn[Hs]=Ht[Hs];l.dragData.didDrag=!1,0===Ce.touches.length&&(l.touchData.dragDelta=[],l.touchData.startPosition=null,l.touchData.startGPosition=null,l.touchData.didSelect=!1),Ce.touches.length<2&&(1===Ce.touches.length&&(l.touchData.startGPosition=[Ce.touches[0].clientX,Ce.touches[0].clientY]),l.pinching=!1,l.redrawHint("eles",!0),l.redraw())}},!1),typeof TouchEvent>"u"){var Kt=[],Tn=function(Ce){return{clientX:Ce.clientX,clientY:Ce.clientY,force:1,identifier:Ce.pointerId,pageX:Ce.pageX,pageY:Ce.pageY,radiusX:Ce.width/2,radiusY:Ce.height/2,screenX:Ce.screenX,screenY:Ce.screenY,target:Ce.target}},xn=function(Ce){for(var ot=0;ot<Kt.length;ot++)if(Kt[ot].event.pointerId===Ce.pointerId)return void Kt.splice(ot,1)},rr=function(Ce){Ce.touches=Kt.map(function(ot){return ot.touch})},Ln=function(Ce){return"mouse"===Ce.pointerType||4===Ce.pointerType};l.registerBinding(l.container,"pointerdown",function(Bt){Ln(Bt)||(Bt.preventDefault(),Kt.push(function(Ce){return{event:Ce,touch:Tn(Ce)}}(Bt)),rr(Bt),Dt(Bt))}),l.registerBinding(l.container,"pointerup",function(Bt){Ln(Bt)||(xn(Bt),rr(Bt),Qt(Bt))}),l.registerBinding(l.container,"pointercancel",function(Bt){Ln(Bt)||(xn(Bt),rr(Bt),zt())}),l.registerBinding(l.container,"pointermove",function(Bt){var Ce,ot;Ln(Bt)||(Bt.preventDefault(),Ce=Bt,(ot=Kt.filter(function(At){return At.event.pointerId===Ce.pointerId})[0]).event=Ce,ot.touch=Tn(Ce),rr(Bt),Mt(Bt))})}};var Xt={generatePolygon:function(l,i){return this.nodeShapes[l]={renderer:this,name:l,points:i,draw:function(f,d,p,g,w){this.renderer.nodeShapeImpl("polygon",f,d,p,g,w,this.points)},intersectLine:function(f,d,p,g,w,D,E){return ml(w,D,this.points,f,d,p/2,g/2,E)},checkPoint:function(f,d,p,g,w,D,E){return ma(f,d,this.points,D,E,g,w,[0,-1],p)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(i,s,f,d,p){this.renderer.nodeShapeImpl(this.name,i,s,f,d,p)},intersectLine:function(i,s,f,d,p,g,w){return function(i,s,f,d,p,g){var w=f-i,D=d-s;w/=p,D/=g;var E=Math.sqrt(w*w+D*D),M=E-1;if(M<0)return[];var P=M/E;return[(f-i)*P+i,(d-s)*P+s]}(p,g,i,s,f/2+w,d/2+w)},checkPoint:function(i,s,f,d,p,g,w){return Oa(i,s,d,p,g,w,f)}}},generateRoundPolygon:function(l,i){for(var s=new Array(2*i.length),f=0;f<i.length/2;f++){var p,d=2*f;p=f<i.length/2-1?2*(f+1):0,s[4*f]=i[d],s[4*f+1]=i[d+1];var g=i[p]-i[d],w=i[p+1]-i[d+1],D=Math.sqrt(g*g+w*w);s[4*f+2]=g/D,s[4*f+3]=w/D}return this.nodeShapes[l]={renderer:this,name:l,points:s,draw:function(M,P,U,W,z){this.renderer.nodeShapeImpl("round-polygon",M,P,U,W,z,this.points)},intersectLine:function(M,P,U,W,z,Z,q){return function(i,s,f,d,p,g,w,D){for(var M,E=[],P=new Array(f.length),U=g/2,W=w/2,z=Lu(g,w),Z=0;Z<f.length/4;Z++){var re,q;q=0===Z?f.length-2:4*Z-2,re=4*Z+2;var fe=d+U*f[4*Z],de=p+W*f[4*Z+1],Ie=z/Math.tan(Math.acos(-f[q]*f[re]-f[q+1]*f[re+1])/2),Ae=fe-Ie*f[q],ye=de-Ie*f[q+1],Me=fe+Ie*f[re],be=de+Ie*f[re+1];0===Z?(P[f.length-2]=Ae,P[f.length-1]=ye):(P[4*Z-2]=Ae,P[4*Z-1]=ye),P[4*Z]=Me,P[4*Z+1]=be;var Le=f[q+1],Pe=-f[q];Le*f[re]+Pe*f[re+1]<0&&(Le*=-1,Pe*=-1),0!==(M=$s(i,s,d,p,Ae+Le*z,ye+Pe*z,z)).length&&E.push(M[0],M[1])}for(var Ye=0;Ye<P.length/4;Ye++)0!==(M=za(i,s,d,p,P[4*Ye],P[4*Ye+1],P[4*Ye+2],P[4*Ye+3],!1)).length&&E.push(M[0],M[1]);if(E.length>2){for(var He=[E[0],E[1]],Ge=Math.pow(He[0]-i,2)+Math.pow(He[1]-s,2),qe=1;qe<E.length/2;qe++){var it=Math.pow(E[2*qe]-i,2)+Math.pow(E[2*qe+1]-s,2);it<=Ge&&(He[0]=E[2*qe],He[1]=E[2*qe+1],Ge=it)}return He}return E}(z,Z,this.points,M,P,U,W)},checkPoint:function(M,P,U,W,z,Z,q){return function(i,s,f,d,p,g,w){for(var D=new Array(f.length),E=g/2,M=w/2,P=Lu(g,w),U=P*P,W=0;W<f.length/4;W++){var Z,z;z=0===W?f.length-2:4*W-2,Z=4*W+2;var q=d+E*f[4*W],re=p+M*f[4*W+1],de=P/Math.tan(Math.acos(-f[z]*f[Z]-f[z+1]*f[Z+1])/2),me=q-de*f[z],Ie=re-de*f[z+1],Ae=q+de*f[Z],ye=re+de*f[Z+1];D[4*W]=me,D[4*W+1]=Ie,D[4*W+2]=Ae,D[4*W+3]=ye;var Me=f[z+1],be=-f[z];Me*f[Z]+be*f[Z+1]<0&&(Me*=-1,be*=-1);var Ee=Ie+be*P;if(Math.pow(me+Me*P-i,2)+Math.pow(Ee-s,2)<=U)return!0}return Po(i,s,D)}(M,P,this.points,Z,q,W,z)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:ko(4,0),draw:function(i,s,f,d,p){this.renderer.nodeShapeImpl(this.name,i,s,f,d,p)},intersectLine:function(i,s,f,d,p,g,w){return Cn(p,g,i,s,f,d,w)},checkPoint:function(i,s,f,d,p,g,w){var D=jl(d,p),E=2*D;return!!(ma(i,s,this.points,g,w,d,p-E,[0,-1],f)||ma(i,s,this.points,g,w,d-E,p,[0,-1],f)||Oa(i,s,E,E,g-d/2+D,w-p/2+D,f)||Oa(i,s,E,E,g+d/2-D,w-p/2+D,f)||Oa(i,s,E,E,g+d/2-D,w+p/2-D,f)||Oa(i,s,E,E,g-d/2+D,w+p/2-D,f))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:ko(4,0),draw:function(i,s,f,d,p){this.renderer.nodeShapeImpl(this.name,i,s,f,d,p)},generateCutTrianglePts:function(i,s,f,d){var p=this.cornerLength,g=s/2,w=i/2,D=f-w,E=f+w,M=d-g,P=d+g;return{topLeft:[D,M+p,D+p,M,D+p,M+p],topRight:[E-p,M,E,M+p,E-p,M+p],bottomRight:[E,P-p,E-p,P,E-p,P-p],bottomLeft:[D+p,P,D,P-p,D+p,P-p]}},intersectLine:function(i,s,f,d,p,g,w){var D=this.generateCutTrianglePts(f+2*w,d+2*w,i,s),E=[].concat.apply([],[D.topLeft.splice(0,4),D.topRight.splice(0,4),D.bottomRight.splice(0,4),D.bottomLeft.splice(0,4)]);return ml(p,g,E,i,s)},checkPoint:function(i,s,f,d,p,g,w){if(ma(i,s,this.points,g,w,d,p-2*this.cornerLength,[0,-1],f)||ma(i,s,this.points,g,w,d-2*this.cornerLength,p,[0,-1],f))return!0;var D=this.generateCutTrianglePts(d,p,g,w);return Po(i,s,D.topLeft)||Po(i,s,D.topRight)||Po(i,s,D.bottomRight)||Po(i,s,D.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:ko(4,0),draw:function(i,s,f,d,p){this.renderer.nodeShapeImpl(this.name,i,s,f,d,p)},intersectLine:function(i,s,f,d,p,g,w){var P=this.generateBarrelBezierPts(f+2*w,d+2*w,i,s),U=function(Z){var q=Ji({x:Z[0],y:Z[1]},{x:Z[2],y:Z[3]},{x:Z[4],y:Z[5]},.15),re=Ji({x:Z[0],y:Z[1]},{x:Z[2],y:Z[3]},{x:Z[4],y:Z[5]},.5),fe=Ji({x:Z[0],y:Z[1]},{x:Z[2],y:Z[3]},{x:Z[4],y:Z[5]},.85);return[Z[0],Z[1],q.x,q.y,re.x,re.y,fe.x,fe.y,Z[4],Z[5]]},W=[].concat(U(P.topLeft),U(P.topRight),U(P.bottomRight),U(P.bottomLeft));return ml(p,g,W,i,s)},generateBarrelBezierPts:function(i,s,f,d){var p=s/2,g=i/2,w=f-g,D=f+g,E=d-p,M=d+p,P=Ed(i,s),U=P.heightOffset,W=P.widthOffset,z=P.ctrlPtOffsetPct*i,Z={topLeft:[w,E+U,w+z,E,w+W,E],topRight:[D-W,E,D-z,E,D,E+U],bottomRight:[D,M-U,D-z,M,D-W,M],bottomLeft:[w+W,M,w+z,M,w,M-U]};return Z.topLeft.isTop=!0,Z.topRight.isTop=!0,Z.bottomLeft.isBottom=!0,Z.bottomRight.isBottom=!0,Z},checkPoint:function(i,s,f,d,p,g,w){var D=Ed(d,p),M=D.widthOffset;if(ma(i,s,this.points,g,w,d,p-2*D.heightOffset,[0,-1],f)||ma(i,s,this.points,g,w,d-2*M,p,[0,-1],f))return!0;for(var P=this.generateBarrelBezierPts(d,p,g,w),U=function(ye,Me,be){var Le=be[4],Pe=be[2],Ee=be[0],Be=be[5],Oe=be[1],Ye=Math.min(Le,Ee),He=Math.max(Le,Ee),Ge=Math.min(Be,Oe),qe=Math.max(Be,Oe);if(Ye<=ye&&ye<=He&&Ge<=Me&&Me<=qe){var it=function(i,s,f){return[i-2*s+f,2*(s-i),i]}(Le,Pe,Ee),ht=function(i,s,f,d){var p=s*s-4*i*(f-=d);if(p<0)return[];var g=Math.sqrt(p),w=2*i;return[(-s+g)/w,(-s-g)/w]}(it[0],it[1],it[2],ye),tt=ht.filter(function(dt){return 0<=dt&&dt<=1});if(tt.length>0)return tt[0]}return null},W=Object.keys(P),z=0;z<W.length;z++){var q=P[W[z]],re=U(i,s,q);if(null!=re){var Ie=Zr(q[5],q[3],q[1],re);if(q.isTop&&Ie<=s||q.isBottom&&s<=Ie)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:ko(4,0),draw:function(i,s,f,d,p){this.renderer.nodeShapeImpl(this.name,i,s,f,d,p)},intersectLine:function(i,s,f,d,p,g,w){var E=s-(d/2+w),U=za(p,g,i,s,i-(f/2+w),E,i+(f/2+w),E,!1);return U.length>0?U:Cn(p,g,i,s,f,d,w)},checkPoint:function(i,s,f,d,p,g,w){var D=jl(d,p),E=2*D;if(ma(i,s,this.points,g,w,d,p-E,[0,-1],f)||ma(i,s,this.points,g,w,d-E,p,[0,-1],f))return!0;var M=d/2+2*f,P=p/2+2*f;return!!(Po(i,s,[g-M,w-P,g-M,w,g+M,w,g+M,w-P])||Oa(i,s,E,E,g+d/2-D,w+p/2-D,f)||Oa(i,s,E,E,g-d/2+D,w+p/2-D,f))}}},registerNodeShapes:function(){var l=this.nodeShapes={},i=this;this.generateEllipse(),this.generatePolygon("triangle",ko(3,0)),this.generateRoundPolygon("round-triangle",ko(3,0)),this.generatePolygon("rectangle",ko(4,0)),l.square=l.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var s=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",s),this.generateRoundPolygon("round-diamond",s),this.generatePolygon("pentagon",ko(5,0)),this.generateRoundPolygon("round-pentagon",ko(5,0)),this.generatePolygon("hexagon",ko(6,0)),this.generateRoundPolygon("round-hexagon",ko(6,0)),this.generatePolygon("heptagon",ko(7,0)),this.generateRoundPolygon("round-heptagon",ko(7,0)),this.generatePolygon("octagon",ko(8,0)),this.generateRoundPolygon("round-octagon",ko(8,0));var f=new Array(20),d=Wl(5,0),p=Wl(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var w=0;w<p.length/2;w++)p[2*w]*=g,p[2*w+1]*=g;for(w=0;w<5;w++)f[4*w]=d[2*w],f[4*w+1]=d[2*w+1],f[4*w+2]=p[2*w],f[4*w+3]=p[2*w+1];f=Ru(f),this.generatePolygon("star",f),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var D=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",D),this.generateRoundPolygon("round-tag",D),l.makePolygon=function(E){var U,P="polygon-"+E.join("$");return(U=this[P])?U:i.generatePolygon(P,E)}}},$t={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(l){l=l||mn();var i=this;void 0===i.averageRedrawTime&&(i.averageRedrawTime=0),void 0===i.lastRedrawTime&&(i.lastRedrawTime=0),void 0===i.lastDrawTime&&(i.lastDrawTime=0),i.requestedFrame=!0,i.renderOptions=l},beforeRender:function(l,i){if(!this.destroyed){null==i&&zr("Priority is not optional for beforeRender");var s=this.beforeRenderCallbacks;s.push({fn:l,priority:i}),s.sort(function(f,d){return d.priority-f.priority})}}},jt=function(i,s,f){for(var d=i.beforeRenderCallbacks,p=0;p<d.length;p++)d[p].fn(s,f)};$t.startRenderLoop=function(){var l=this,i=l.cy;l.renderLoopStarted||(l.renderLoopStarted=!0,Ul(function f(d){if(!l.destroyed){if(!i.batching())if(l.requestedFrame&&!l.skipFrame){jt(l,!0,d);var p=ui();l.render(l.renderOptions);var g=l.lastDrawTime=ui();void 0===l.averageRedrawTime&&(l.averageRedrawTime=g-p),void 0===l.redrawCount&&(l.redrawCount=0),l.redrawCount++,void 0===l.redrawTotalTime&&(l.redrawTotalTime=0);var w=g-p;l.redrawTotalTime+=w,l.lastRedrawTime=w,l.averageRedrawTime=l.averageRedrawTime/2+w/2,l.requestedFrame=!1}else jt(l,!1,d);l.skipFrame=!1,Ul(f)}}))};var vn=function(i){this.init(i)},zn=vn.prototype;zn.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],zn.init=function(l){var i=this;i.options=l,i.cy=l.cy;var s=i.container=l.cy.container();if(oe){var f=oe.document,d=f.head,p="__________cytoscape_stylesheet",g="__________cytoscape_container",w=null!=f.getElementById(p);if(s.className.indexOf(g)<0&&(s.className=(s.className||"")+" "+g),!w){var D=f.createElement("style");D.id=p,D.textContent="."+g+" { position: relative; }",d.insertBefore(D,d.children[0])}"static"===oe.getComputedStyle(s).getPropertyValue("position")&&mr("A Cytoscape container has style position:static and so can not use UI extensions properly")}i.selection=[void 0,void 0,void 0,void 0,0],i.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],i.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},i.dragData={possibleDragElements:[]},i.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},i.redraws=0,i.showFps=l.showFps,i.debug=l.debug,i.hideEdgesOnViewport=l.hideEdgesOnViewport,i.textureOnViewport=l.textureOnViewport,i.wheelSensitivity=l.wheelSensitivity,i.motionBlurEnabled=l.motionBlur,i.forcedPixelRatio=$e(l.pixelRatio)?l.pixelRatio:null,i.motionBlur=l.motionBlur,i.motionBlurOpacity=l.motionBlurOpacity,i.motionBlurTransparency=1-i.motionBlurOpacity,i.motionBlurPxRatio=1,i.mbPxRBlurry=1,i.minMbLowQualFrames=4,i.fullQualityMb=!1,i.clearedForMotionBlur=[],i.desktopTapThreshold=l.desktopTapThreshold,i.desktopTapThreshold2=l.desktopTapThreshold*l.desktopTapThreshold,i.touchTapThreshold=l.touchTapThreshold,i.touchTapThreshold2=l.touchTapThreshold*l.touchTapThreshold,i.tapholdDuration=500,i.bindings=[],i.beforeRenderCallbacks=[],i.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},i.registerNodeShapes(),i.registerArrowShapes(),i.registerCalculationListeners()},zn.notify=function(l,i){var s=this,f=s.cy;if(!this.destroyed){if("init"===l)return void s.load();if("destroy"===l)return void s.destroy();("add"===l||"remove"===l||"move"===l&&f.hasCompoundNodes()||"load"===l||"zorder"===l||"mount"===l)&&s.invalidateCachedZSortedEles(),"viewport"===l&&s.redrawHint("select",!0),("load"===l||"resize"===l||"mount"===l)&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container)),s.redrawHint("eles",!0),s.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},zn.destroy=function(){var l=this;l.destroyed=!0,l.cy.stopAnimationLoop();for(var i=0;i<l.bindings.length;i++){var s=l.bindings[i],d=s.target;(d.off||d.removeEventListener).apply(d,s.args)}if(l.bindings=[],l.beforeRenderCallbacks=[],l.onUpdateEleCalcsFns=[],l.removeObserver&&l.removeObserver.disconnect(),l.styleObserver&&l.styleObserver.disconnect(),l.resizeObserver&&l.resizeObserver.disconnect(),l.labelCalcDiv)try{document.body.removeChild(l.labelCalcDiv)}catch{}},zn.isHeadless=function(){return!1},[uo,pt,Vt,Gt,Xt,$t].forEach(function(l){En(zn,l)});var nr=1e3/60,di_setupDequeueing=function(i){return function(){var f=this,d=this.renderer;if(!f.dequeueingSetup){f.dequeueingSetup=!0;var p=R.default(function(){d.redrawHint("eles",!0),d.redrawHint("drag",!0),d.redraw()},i.deqRedrawThreshold);d.beforeRender(function(E,M){var P=ui(),U=d.averageRedrawTime,W=d.lastRedrawTime,z=[],Z=d.cy.extent(),q=d.getPixelRatio();for(E||d.flushRenderedStyleQueue();;){var re=ui(),fe=re-P,de=re-M;if(W<nr){if(de>=i.deqFastCost*(nr-(E?U:0)))break}else if(E){if(fe>=i.deqCost*W||fe>=i.deqAvgCost*U)break}else if(de>=i.deqNoDrawCost*nr)break;var Ie=i.deq(f,q,Z);if(!(Ie.length>0))break;for(var Ae=0;Ae<Ie.length;Ae++)z.push(Ie[Ae])}z.length>0&&(i.onDeqd(f,z),!E&&i.shouldRedraw(f,z,q,Z)&&p())},(i.priority||wc)(f))}}},oi=function(){function l(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:us;$(this,l),this.idsByKey=new Et,this.keyForId=new Et,this.cachesByLvl=new Et,this.lvls=[],this.getKey=i,this.doesEleInvalidateKey=s}return ce(l,[{key:"getIdsFor",value:function(s){null==s&&zr("Can not get id list for null key");var f=this.idsByKey,d=this.idsByKey.get(s);return d||(d=new cs,f.set(s,d)),d}},{key:"addIdForKey",value:function(s,f){null!=s&&this.getIdsFor(s).add(f)}},{key:"deleteIdForKey",value:function(s,f){null!=s&&this.getIdsFor(s).delete(f)}},{key:"getNumberOfIdsForKey",value:function(s){return null==s?0:this.getIdsFor(s).size}},{key:"updateKeyMappingFor",value:function(s){var f=s.id(),d=this.keyForId.get(f),p=this.getKey(s);this.deleteIdForKey(d,f),this.addIdForKey(p,f),this.keyForId.set(f,p)}},{key:"deleteKeyMappingFor",value:function(s){var f=s.id(),d=this.keyForId.get(f);this.deleteIdForKey(d,f),this.keyForId.delete(f)}},{key:"keyHasChangedFor",value:function(s){var f=s.id();return this.keyForId.get(f)!==this.getKey(s)}},{key:"isInvalid",value:function(s){return this.keyHasChangedFor(s)||this.doesEleInvalidateKey(s)}},{key:"getCachesAt",value:function(s){var f=this.cachesByLvl,d=this.lvls,p=f.get(s);return p||(p=new Et,f.set(s,p),d.push(s)),p}},{key:"getCache",value:function(s,f){return this.getCachesAt(f).get(s)}},{key:"get",value:function(s,f){var d=this.getKey(s),p=this.getCache(d,f);return null!=p&&this.updateKeyMappingFor(s),p}},{key:"getForCachedKey",value:function(s,f){var d=this.keyForId.get(s.id());return this.getCache(d,f)}},{key:"hasCache",value:function(s,f){return this.getCachesAt(f).has(s)}},{key:"has",value:function(s,f){var d=this.getKey(s);return this.hasCache(d,f)}},{key:"setCache",value:function(s,f,d){d.key=s,this.getCachesAt(f).set(s,d)}},{key:"set",value:function(s,f,d){var p=this.getKey(s);this.setCache(p,f,d),this.updateKeyMappingFor(s)}},{key:"deleteCache",value:function(s,f){this.getCachesAt(f).delete(s)}},{key:"delete",value:function(s,f){var d=this.getKey(s);this.deleteCache(d,f)}},{key:"invalidateKey",value:function(s){var f=this;this.lvls.forEach(function(d){return f.deleteCache(s,d)})}},{key:"invalidate",value:function(s){var f=s.id(),d=this.keyForId.get(f);this.deleteKeyMappingFor(s);var p=this.doesEleInvalidateKey(s);return p&&this.invalidateKey(d),p||0===this.getNumberOfIdsForKey(d)}}]),l}(),pi={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},tc=Yr({getKey:null,doesEleInvalidateKey:us,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Tu,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Bs=function(i,s){var f=this;f.renderer=i,f.onDequeues=[];var d=tc(s);En(f,d),f.lookup=new oi(d.getKey,d.doesEleInvalidateKey),f.setupDequeueing()},Bo=Bs.prototype;Bo.reasons=pi,Bo.getTextureQueue=function(l){var i=this;return i.eleImgCaches=i.eleImgCaches||{},i.eleImgCaches[l]=i.eleImgCaches[l]||[]},Bo.getRetiredTextureQueue=function(l){var s=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return s[l]=s[l]||[]},Bo.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new N.default(function(s,f){return f.reqs-s.reqs})},Bo.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Bo.getElement=function(l,i,s,f,d){var p=this,g=this.renderer,w=g.cy.zoom(),D=this.lookup;if(!i||0===i.w||0===i.h||isNaN(i.w)||isNaN(i.h)||!l.visible()||l.removed()||!p.allowEdgeTxrCaching&&l.isEdge()||!p.allowParentTxrCaching&&l.isParent())return null;if(null==f&&(f=Math.ceil(Di(w*s))),f<-4)f=-4;else if(w>=7.99||f>3)return null;var E=Math.pow(2,f),M=i.h*E,P=i.w*E,U=g.eleTextBiggerThanMin(l,E);if(!this.isVisible(l,U))return null;var z,W=D.get(l,f);if(W&&W.invalidated&&(W.invalidated=!1,W.texture.invalidatedWidth-=W.width),W)return W;if(z=M<=25?25:M<=50?50:50*Math.ceil(M/50),M>1024||P>1024)return null;var Z=p.getTextureQueue(z),q=Z[Z.length-2],re=function(){return p.recycleTexture(z,P)||p.addTexture(z,P)};q||(q=Z[Z.length-1]),q||(q=re()),q.width-q.usedWidth<P&&(q=re());for(var Ae,fe=function(He){return He&&He.scaledLabelShown===U},de=d&&d===pi.dequeue,me=d&&d===pi.highQuality,Ie=d&&d===pi.downscale,ye=f+1;ye<=3;ye++){var Me=D.get(l,ye);if(Me){Ae=Me;break}}var be=Ae&&Ae.level===f+1?Ae:null,Le=function(){q.context.drawImage(be.texture.canvas,be.x,0,be.width,be.height,q.usedWidth,0,P,M)};if(q.context.setTransform(1,0,0,1,0,0),q.context.clearRect(q.usedWidth,0,P,z),fe(be))Le();else if(fe(Ae)){if(!me)return p.queueElement(l,Ae.level-1),Ae;for(var Pe=Ae.level;Pe>f;Pe--)be=p.getElement(l,i,s,Pe,pi.downscale);Le()}else{var Ee;if(!de&&!me&&!Ie)for(var Be=f-1;Be>=-4;Be--){var Oe=D.get(l,Be);if(Oe){Ee=Oe;break}}if(fe(Ee))return p.queueElement(l,f),Ee;q.context.translate(q.usedWidth,0),q.context.scale(E,E),this.drawElement(q.context,l,i,U,!1),q.context.scale(1/E,1/E),q.context.translate(-q.usedWidth,0)}return W={x:q.usedWidth,texture:q,level:f,scale:E,width:P,height:M,scaledLabelShown:U},q.usedWidth+=Math.ceil(P+8),q.eleCaches.push(W),D.set(l,f,W),p.checkTextureFullness(q),W},Bo.invalidateElements=function(l){for(var i=0;i<l.length;i++)this.invalidateElement(l[i])},Bo.invalidateElement=function(l){var i=this,s=i.lookup,f=[];if(s.isInvalid(l)){for(var p=-4;p<=3;p++){var g=s.getForCachedKey(l,p);g&&f.push(g)}if(s.invalidate(l))for(var D=0;D<f.length;D++){var E=f[D],M=E.texture;M.invalidatedWidth+=E.width,E.invalidated=!0,i.checkTextureUtility(M)}i.removeFromQueue(l)}},Bo.checkTextureUtility=function(l){l.invalidatedWidth>=.2*l.width&&this.retireTexture(l)},Bo.checkTextureFullness=function(l){var s=this.getTextureQueue(l.height);l.usedWidth/l.width>.8&&l.fullnessChecks>=10?Aa(s,l):l.fullnessChecks++},Bo.retireTexture=function(l){var s=l.height,f=this.getTextureQueue(s),d=this.lookup;Aa(f,l),l.retired=!0;for(var p=l.eleCaches,g=0;g<p.length;g++){var w=p[g];d.deleteCache(w.key,w.level)}vo(p),this.getRetiredTextureQueue(s).push(l)},Bo.addTexture=function(l,i){var d={};return this.getTextureQueue(l).push(d),d.eleCaches=[],d.height=l,d.width=Math.max(1024,i),d.usedWidth=0,d.invalidatedWidth=0,d.fullnessChecks=0,d.canvas=this.renderer.makeOffscreenCanvas(d.width,d.height),d.context=d.canvas.getContext("2d"),d},Bo.recycleTexture=function(l,i){for(var f=this.getTextureQueue(l),d=this.getRetiredTextureQueue(l),p=0;p<d.length;p++){var g=d[p];if(g.width>=i)return g.retired=!1,g.usedWidth=0,g.invalidatedWidth=0,g.fullnessChecks=0,vo(g.eleCaches),g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(0,0,g.width,g.height),Aa(d,g),f.push(g),g}},Bo.queueElement=function(l,i){var f=this.getElementQueue(),d=this.getElementKeyToQueue(),p=this.getKey(l),g=d[p];if(g)g.level=Math.max(g.level,i),g.eles.merge(l),g.reqs++,f.updateItem(g);else{var w={eles:l.spawn().merge(l),level:i,reqs:1,key:p};f.push(w),d[p]=w}},Bo.dequeue=function(l){for(var i=this,s=i.getElementQueue(),f=i.getElementKeyToQueue(),d=[],p=i.lookup,g=0;g<1&&s.size()>0;g++){var w=s.pop(),D=w.key,E=w.eles[0],M=p.hasCache(E,w.level);if(f[D]=null,!M){d.push(w);var P=i.getBoundingBox(E);i.getElement(E,P,l,w.level,pi.dequeue)}}return d},Bo.removeFromQueue=function(l){var s=this.getElementQueue(),f=this.getElementKeyToQueue(),d=this.getKey(l),p=f[d];null!=p&&(1===p.eles.length?(p.reqs=Su,s.updateItem(p),s.pop(),f[d]=null):p.eles.unmerge(l))},Bo.onDequeue=function(l){this.onDequeues.push(l)},Bo.offDequeue=function(l){Aa(this.onDequeues,l)},Bo.setupDequeueing=di_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(i,s,f){return i.dequeue(s,f)},onDeqd:function(i,s){for(var f=0;f<i.onDequeues.length;f++)(0,i.onDequeues[f])(s)},shouldRedraw:function(i,s,f,d){for(var p=0;p<s.length;p++)for(var g=s[p].eles,w=0;w<g.length;w++){var D=g[w].boundingBox();if(Gn(D,d))return!0}return!1},priority:function(i){return i.renderer.beforeRenderPriorities.eleTxrDeq}});var o0=function(i){var s=this,f=s.renderer=i,d=f.cy;s.layersByLevel={},s.firstGet=!0,s.lastInvalidationTime=ui()-500,s.skipping=!1,s.eleTxrDeqs=d.collection(),s.scheduleElementRefinement=R.default(function(){s.refineElementTextures(s.eleTxrDeqs),s.eleTxrDeqs.unmerge(s.eleTxrDeqs)},50),f.beforeRender(function(g,w){s.skipping=w-s.lastInvalidationTime<=250},f.beforeRenderPriorities.lyrTxrSkip),s.layersQueue=new N.default(function(w,D){return D.reqs-w.reqs}),s.setupDequeueing()},oa=o0.prototype,Wv=0,a0=Math.pow(2,53)-1;oa.makeLayer=function(l,i){var s=Math.pow(2,i),f=Math.ceil(l.w*s),d=Math.ceil(l.h*s),p=this.renderer.makeOffscreenCanvas(f,d),g={id:Wv=++Wv%a0,bb:l,level:i,width:f,height:d,canvas:p,context:p.getContext("2d"),eles:[],elesQueue:[],reqs:0},w=g.context,D=-g.bb.x1,E=-g.bb.y1;return w.scale(s,s),w.translate(D,E),g},oa.getLayers=function(l,i,s){var f=this,g=f.renderer.cy.zoom(),w=f.firstGet;if(f.firstGet=!1,null==s)if((s=Math.ceil(Di(g*i)))<-4)s=-4;else if(g>=3.99||s>2)return null;f.validateLayersElesOrdering(s,l);var P,W,D=f.layersByLevel,E=Math.pow(2,s),M=D[s]=D[s]||[];if(f.levelIsComplete(s,l))return M;!function(){var Le=function(Ye){if(f.validateLayersElesOrdering(Ye,l),f.levelIsComplete(Ye,l))return W=D[Ye],!0},Pe=function(Ye){if(!W)for(var He=s+Ye;-4<=He&&He<=2&&!Le(He);He+=Ye);};Pe(1),Pe(-1);for(var Ee=M.length-1;Ee>=0;Ee--){var Be=M[Ee];Be.invalid&&Aa(M,Be)}}();var q=function(Le){var Pe=(Le=Le||{}).after;if(function(){if(!P){P=ci();for(var Le=0;Le<l.length;Le++)gl(P,l[Le].boundingBox())}}(),P.w*E*(P.h*E)>16e6)return null;var Be=f.makeLayer(P,s);if(null!=Pe){var Oe=M.indexOf(Pe)+1;M.splice(Oe,0,Be)}else(void 0===Le.insert||Le.insert)&&M.unshift(Be);return Be};if(f.skipping&&!w)return null;for(var re=null,fe=l.length/1,de=!w,me=0;me<l.length;me++){var Ie=l[me],Ae=Ie._private.rscratch,ye=Ae.imgLayerCaches=Ae.imgLayerCaches||{},Me=ye[s];if(Me)re=Me;else{if((!re||re.eles.length>=fe||!Dc(re.bb,Ie.boundingBox()))&&!(re=q({insert:!0,after:re})))return null;W||de?f.queueLayer(re,Ie):f.drawEleInLayer(re,Ie,s,i),re.eles.push(Ie),ye[s]=re}}return W||(de?null:M)},oa.getEleLevelForLayerLevel=function(l,i){return l},oa.drawEleInLayer=function(l,i,s,f){var p=this.renderer,g=l.context,w=i.boundingBox();0===w.w||0===w.h||!i.visible()||(s=this.getEleLevelForLayerLevel(s,f),p.setImgSmoothing(g,!1),p.drawCachedElement(g,i,null,null,s,!0),p.setImgSmoothing(g,!0))},oa.levelIsComplete=function(l,i){var f=this.layersByLevel[l];if(!f||0===f.length)return!1;for(var d=0,p=0;p<f.length;p++){var g=f[p];if(g.reqs>0||g.invalid)return!1;d+=g.eles.length}return d===i.length},oa.validateLayersElesOrdering=function(l,i){var s=this.layersByLevel[l];if(s)for(var f=0;f<s.length;f++){for(var d=s[f],p=-1,g=0;g<i.length;g++)if(d.eles[0]===i[g]){p=g;break}if(p<0)this.invalidateLayer(d);else{var w=p;for(g=0;g<d.eles.length;g++)if(d.eles[g]!==i[w+g]){this.invalidateLayer(d);break}}}},oa.updateElementsInLayers=function(l,i){for(var f=cn(l[0]),d=0;d<l.length;d++)for(var p=f?null:l[d],g=f?l[d]:l[d].ele,w=g._private.rscratch,D=w.imgLayerCaches=w.imgLayerCaches||{},E=-4;E<=2;E++){var M=D[E];M&&(p&&this.getEleLevelForLayerLevel(M.level)!==p.level||i(M,g,p))}},oa.haveLayers=function(){for(var i=!1,s=-4;s<=2;s++){var f=this.layersByLevel[s];if(f&&f.length>0){i=!0;break}}return i},oa.invalidateElements=function(l){var i=this;0!==l.length&&(i.lastInvalidationTime=ui(),0!==l.length&&i.haveLayers()&&i.updateElementsInLayers(l,function(f,d,p){i.invalidateLayer(f)}))},oa.invalidateLayer=function(l){if(this.lastInvalidationTime=ui(),!l.invalid){var i=l.level,s=l.eles;Aa(this.layersByLevel[i],l),l.elesQueue=[],l.invalid=!0,l.replacement&&(l.replacement.invalid=!0);for(var d=0;d<s.length;d++){var p=s[d]._private.rscratch.imgLayerCaches;p&&(p[i]=null)}}},oa.refineElementTextures=function(l){var i=this;i.updateElementsInLayers(l,function(f,d,p){var g=f.replacement;if(g||((g=f.replacement=i.makeLayer(f.bb,f.level)).replaces=f,g.eles=f.eles),!g.reqs)for(var w=0;w<g.eles.length;w++)i.queueLayer(g,g.eles[w])})},oa.enqueueElementRefinement=function(l){this.eleTxrDeqs.merge(l),this.scheduleElementRefinement()},oa.queueLayer=function(l,i){var f=this.layersQueue,d=l.elesQueue,p=d.hasId=d.hasId||{};if(!l.replacement){if(i){if(p[i.id()])return;d.push(i),p[i.id()]=!0}l.reqs?(l.reqs++,f.updateItem(l)):(l.reqs=1,f.push(l))}},oa.dequeue=function(l){for(var i=this,s=i.layersQueue,f=[],d=0;d<1&&0!==s.size();){var p=s.peek();if(p.replacement)s.pop();else if(p.replaces&&p!==p.replaces.replacement)s.pop();else if(p.invalid)s.pop();else{var g=p.elesQueue.shift();g&&(i.drawEleInLayer(p,g,p.level,l),d++),0===f.length&&f.push(!0),0===p.elesQueue.length&&(s.pop(),p.reqs=0,p.replaces&&i.applyLayerReplacement(p),i.requestRedraw())}}return f},oa.applyLayerReplacement=function(l){var s=this.layersByLevel[l.level],f=l.replaces,d=s.indexOf(f);if(!(d<0||f.invalid)){s[d]=l;for(var p=0;p<l.eles.length;p++){var g=l.eles[p]._private,w=g.imgLayerCaches=g.imgLayerCaches||{};w&&(w[l.level]=l)}this.requestRedraw()}},oa.requestRedraw=R.default(function(){var l=this.renderer;l.redrawHint("eles",!0),l.redrawHint("drag",!0),l.redraw()},100),oa.setupDequeueing=di_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(i,s){return i.dequeue(s)},onDeqd:wc,shouldRedraw:Tu,priority:function(i){return i.renderer.beforeRenderPriorities.lyrTxrDeq}});var ag,Qd={};function s0(l,i){for(var s=0;s<i.length;s++){var f=i[s];l.lineTo(f.x,f.y)}}function jv(l,i,s){for(var f,d=0;d<i.length;d++){var p=i[d];0===d&&(f=p),l.lineTo(p.x,p.y)}l.quadraticCurveTo(s.x,s.y,f.x,f.y)}function l0(l,i,s){l.beginPath&&l.beginPath();for(var f=i,d=0;d<f.length;d++)l.lineTo((p=f[d]).x,p.y);var g=s,w=s[0];for(l.moveTo(w.x,w.y),d=1;d<g.length;d++){var p;l.lineTo((p=g[d]).x,p.y)}l.closePath&&l.closePath()}function $v(l,i,s,f,d){l.beginPath&&l.beginPath(),l.arc(s,f,d,0,2*Math.PI,!1);var p=i,g=p[0];l.moveTo(g.x,g.y);for(var w=0;w<p.length;w++){var D=p[w];l.lineTo(D.x,D.y)}l.closePath&&l.closePath()}function tE(l,i,s,f){l.arc(i,s,f,0,2*Math.PI,!1)}Qd.arrowShapeImpl=function(l){return(ag||(ag={polygon:s0,"triangle-backcurve":jv,"triangle-tee":l0,"circle-triangle":$v,"triangle-cross":l0,circle:tE}))[l]};var Ll={drawElement:function(l,i,s,f,d,p){i.isNode()?this.drawNode(l,i,s,f,d,p):this.drawEdge(l,i,s,f,d,p)},drawElementOverlay:function(l,i){i.isNode()?this.drawNodeOverlay(l,i):this.drawEdgeOverlay(l,i)},drawElementUnderlay:function(l,i){i.isNode()?this.drawNodeUnderlay(l,i):this.drawEdgeUnderlay(l,i)},drawCachedElementPortion:function(l,i,s,f,d,p,g,w){var D=this,E=s.getBoundingBox(i);if(0!==E.w&&0!==E.h){var M=s.getElement(i,E,f,d,p);if(null!=M){var P=w(D,i);if(0===P)return;var re,fe,de,me,Ie,Me,U=g(D,i),W=E.x1,z=E.y1,Z=E.w,q=E.h;if(0!==U){var Ae=s.getRotationPoint(i);l.translate(de=Ae.x,me=Ae.y),l.rotate(U),(Ie=D.getImgSmoothing(l))||D.setImgSmoothing(l,!0);var ye=s.getRotationOffset(i);re=ye.x,fe=ye.y}else re=W,fe=z;1!==P&&(l.globalAlpha=(Me=l.globalAlpha)*P),l.drawImage(M.texture.canvas,M.x,0,M.width,M.height,re,fe,Z,q),1!==P&&(l.globalAlpha=Me),0!==U&&(l.rotate(-U),l.translate(-de,-me),Ie||D.setImgSmoothing(l,!1))}else s.drawElement(l,i)}}},u0=function(){return 0},sg=function(i,s){return i.getTextAngle(s,null)},nE=function(i,s){return i.getTextAngle(s,"source")},rE=function(i,s){return i.getTextAngle(s,"target")},lg=function(i,s){return s.effectiveOpacity()},Yv=function(i,s){return s.pstyle("text-opacity").pfValue*s.effectiveOpacity()};Ll.drawCachedElement=function(l,i,s,f,d,p){var g=this,w=g.data,D=w.eleTxrCache,E=w.lblTxrCache,M=w.slbTxrCache,P=w.tlbTxrCache,U=i.boundingBox(),W=!0===p?D.reasons.highQuality:null;if(0!==U.w&&0!==U.h&&i.visible()&&(!f||Gn(U,f))){var z=i.isEdge(),Z=i.element()._private.rscratch.badLine;g.drawElementUnderlay(l,i),g.drawCachedElementPortion(l,i,D,s,d,W,u0,lg),(!z||!Z)&&g.drawCachedElementPortion(l,i,E,s,d,W,sg,Yv),z&&!Z&&(g.drawCachedElementPortion(l,i,M,s,d,W,nE,Yv),g.drawCachedElementPortion(l,i,P,s,d,W,rE,Yv)),g.drawElementOverlay(l,i)}},Ll.drawElements=function(l,i){for(var f=0;f<i.length;f++)this.drawElement(l,i[f])},Ll.drawCachedElements=function(l,i,s,f){for(var p=0;p<i.length;p++)this.drawCachedElement(l,i[p],s,f)},Ll.drawCachedNodes=function(l,i,s,f){for(var p=0;p<i.length;p++){var g=i[p];g.isNode()&&this.drawCachedElement(l,g,s,f)}},Ll.drawLayeredElements=function(l,i,s,f){var p=this.data.lyrTxrCache.getLayers(i,s);if(p)for(var g=0;g<p.length;g++){var w=p[g],D=w.bb;0===D.w||0===D.h||l.drawImage(w.canvas,D.x1,D.y1,D.w,D.h)}else this.drawCachedElements(l,i,s,f)};var nc={drawEdge:function(l,i,s){var f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],d=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,w=i._private.rscratch;if((!p||i.visible())&&!w.badLine&&null!=w.allpts&&!isNaN(w.allpts[0])){var D;s&&l.translate(-(D=s).x1,-D.y1);var E=p?i.pstyle("opacity").value:1,M=p?i.pstyle("line-opacity").value:1,P=i.pstyle("curve-style").value,U=i.pstyle("line-style").value,W=i.pstyle("width").pfValue,z=i.pstyle("line-cap").value,Z=E*M,q=E*M,re=function(){var Ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;"straight-triangle"===P?(g.eleStrokeStyle(l,i,Ee),g.drawEdgeTrianglePath(i,l,w.allpts)):(l.lineWidth=W,l.lineCap=z,g.eleStrokeStyle(l,i,Ee),g.drawEdgePath(i,l,w.allpts,U),l.lineCap="butt")},me=function(){g.drawArrowheads(l,i,arguments.length>0&&void 0!==arguments[0]?arguments[0]:q)};if(l.lineJoin="round","yes"===i.pstyle("ghost").value){var ye=i.pstyle("ghost-offset-x").pfValue,Me=i.pstyle("ghost-offset-y").pfValue,be=i.pstyle("ghost-opacity").value,Le=Z*be;l.translate(ye,Me),re(Le),me(Le),l.translate(-ye,-Me)}d&&g.drawEdgeUnderlay(l,i),re(),me(),d&&g.drawEdgeOverlay(l,i),g.drawElementText(l,i,null,f),s&&l.translate(D.x1,D.y1)}}},c0=function(i){if(!["overlay","underlay"].includes(i))throw new Error("Invalid state");return function(s,f){if(f.visible()){var d=f.pstyle("".concat(i,"-opacity")).value;if(0!==d){var p=this,g=p.usePaths(),w=f._private.rscratch,E=2*f.pstyle("".concat(i,"-padding")).pfValue,M=f.pstyle("".concat(i,"-color")).value;s.lineWidth=E,s.lineCap="self"!==w.edgeType||g?"round":"butt",p.colorStrokeStyle(s,M[0],M[1],M[2],d),p.drawEdgePath(f,s,w.allpts,"solid")}}}};nc.drawEdgeOverlay=c0("overlay"),nc.drawEdgeUnderlay=c0("underlay"),nc.drawEdgePath=function(l,i,s,f){var g,d=l._private.rscratch,p=i,w=!1,D=this.usePaths(),E=l.pstyle("line-dash-pattern").pfValue,M=l.pstyle("line-dash-offset").pfValue;if(D){var P=s.join("$");d.pathCacheKey&&d.pathCacheKey===P?(g=i=d.pathCache,w=!0):(g=i=new Path2D,d.pathCacheKey=P,d.pathCache=g)}if(p.setLineDash)switch(f){case"dotted":p.setLineDash([1,1]);break;case"dashed":p.setLineDash(E),p.lineDashOffset=M;break;case"solid":p.setLineDash([])}if(!w&&!d.badLine)switch(i.beginPath&&i.beginPath(),i.moveTo(s[0],s[1]),d.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var W=2;W+3<s.length;W+=4)i.quadraticCurveTo(s[W],s[W+1],s[W+2],s[W+3]);break;case"straight":case"segments":case"haystack":for(var z=2;z+1<s.length;z+=2)i.lineTo(s[z],s[z+1])}i=p,D?i.stroke(g):i.stroke(),i.setLineDash&&i.setLineDash([])},nc.drawEdgeTrianglePath=function(l,i,s){i.fillStyle=i.strokeStyle;for(var f=l.pstyle("width").pfValue,d=0;d+1<s.length;d+=2){var p=[s[d+2]-s[d],s[d+3]-s[d+1]],g=Math.sqrt(p[0]*p[0]+p[1]*p[1]),w=[p[1]/g,-p[0]/g],D=[w[0]*f/2,w[1]*f/2];i.beginPath(),i.moveTo(s[d]-D[0],s[d+1]-D[1]),i.lineTo(s[d]+D[0],s[d+1]+D[1]),i.lineTo(s[d+2],s[d+3]),i.closePath(),i.fill()}},nc.drawArrowheads=function(l,i,s){var f=i._private.rscratch,d="haystack"===f.edgeType;d||this.drawArrowhead(l,i,"source",f.arrowStartX,f.arrowStartY,f.srcArrowAngle,s),this.drawArrowhead(l,i,"mid-target",f.midX,f.midY,f.midtgtArrowAngle,s),this.drawArrowhead(l,i,"mid-source",f.midX,f.midY,f.midsrcArrowAngle,s),d||this.drawArrowhead(l,i,"target",f.arrowEndX,f.arrowEndY,f.tgtArrowAngle,s)},nc.drawArrowhead=function(l,i,s,f,d,p,g){if(!(isNaN(f)||null==f||isNaN(d)||null==d||isNaN(p)||null==p)){var w=this,D=i.pstyle(s+"-arrow-shape").value;if("none"!==D){var E="hollow"===i.pstyle(s+"-arrow-fill").value?"both":"filled",M=i.pstyle(s+"-arrow-fill").value,P=i.pstyle("width").pfValue,U=i.pstyle("opacity").value;void 0===g&&(g=U);var W=l.globalCompositeOperation;(1!==g||"hollow"===M)&&(l.globalCompositeOperation="destination-out",w.colorFillStyle(l,255,255,255,1),w.colorStrokeStyle(l,255,255,255,1),w.drawArrowShape(i,l,E,P,D,f,d,p),l.globalCompositeOperation=W);var z=i.pstyle(s+"-arrow-color").value;w.colorFillStyle(l,z[0],z[1],z[2],g),w.colorStrokeStyle(l,z[0],z[1],z[2],g),w.drawArrowShape(i,l,M,P,D,f,d,p)}}},nc.drawArrowShape=function(l,i,s,f,d,p,g,w){var P,D=this,E=this.usePaths()&&"triangle-cross"!==d,M=!1,U=i,W={x:p,y:g},z=l.pstyle("arrow-scale").value,Z=this.getArrowWidth(f,z),q=D.arrowShapes[d];if(E){var re=D.arrowPathCache=D.arrowPathCache||[],fe=Ga(d),de=re[fe];null!=de?(P=i=de,M=!0):(P=i=new Path2D,re[fe]=P)}M||(i.beginPath&&i.beginPath(),E?q.draw(i,1,0,{x:0,y:0},1):q.draw(i,Z,w,W,f),i.closePath&&i.closePath()),i=U,E&&(i.translate(p,g),i.rotate(w),i.scale(Z,Z)),("filled"===s||"both"===s)&&(E?i.fill(P):i.fill()),("hollow"===s||"both"===s)&&(i.lineWidth=(q.matchEdgeWidth?f:1)/(E?Z:1),i.lineJoin="miter",E?i.stroke(P):i.stroke()),E&&(i.scale(1/Z,1/Z),i.rotate(-w),i.translate(-p,-g))};var Xv={safeDrawImage:function(l,i,s,f,d,p,g,w,D,E){if(!(d<=0||p<=0||D<=0||E<=0))try{l.drawImage(i,s,f,d,p,g,w,D,E)}catch(M){mr(M)}},drawInscribedImage:function(l,i,s,f,d){var p=this,g=s.position(),w=g.x,D=g.y,E=s.cy().style(),M=E.getIndexedStyle.bind(E),P=M(s,"background-fit","value",f),U=M(s,"background-repeat","value",f),W=s.width(),z=s.height(),Z=2*s.padding(),q=W+("inner"===M(s,"background-width-relative-to","value",f)?0:Z),re=z+("inner"===M(s,"background-height-relative-to","value",f)?0:Z),fe=s._private.rscratch,me="node"===M(s,"background-clip","value",f),Ie=M(s,"background-image-opacity","value",f)*d,Ae=M(s,"background-image-smoothing","value",f),ye=i.width||i.cachedW,Me=i.height||i.cachedH;(null==ye||null==Me)&&(document.body.appendChild(i),ye=i.cachedW=i.width||i.offsetWidth,Me=i.cachedH=i.height||i.offsetHeight,document.body.removeChild(i));var be=ye,Le=Me;if("auto"!==M(s,"background-width","value",f)&&(be="%"===M(s,"background-width","units",f)?M(s,"background-width","pfValue",f)*q:M(s,"background-width","pfValue",f)),"auto"!==M(s,"background-height","value",f)&&(Le="%"===M(s,"background-height","units",f)?M(s,"background-height","pfValue",f)*re:M(s,"background-height","pfValue",f)),0!==be&&0!==Le){if("contain"===P)be*=Pe=Math.min(q/be,re/Le),Le*=Pe;else if("cover"===P){var Pe;be*=Pe=Math.max(q/be,re/Le),Le*=Pe}var Ee=w-q/2,Be=M(s,"background-position-x","units",f),Oe=M(s,"background-position-x","pfValue",f);Ee+="%"===Be?(q-be)*Oe:Oe;var Ye=M(s,"background-offset-x","units",f),He=M(s,"background-offset-x","pfValue",f);Ee+="%"===Ye?(q-be)*He:He;var Ge=D-re/2,qe=M(s,"background-position-y","units",f),it=M(s,"background-position-y","pfValue",f);Ge+="%"===qe?(re-Le)*it:it;var ht=M(s,"background-offset-y","units",f),tt=M(s,"background-offset-y","pfValue",f);Ge+="%"===ht?(re-Le)*tt:tt,fe.pathCache&&(Ee-=w,Ge-=D,w=0,D=0);var dt=l.globalAlpha;l.globalAlpha=Ie;var St=p.getImgSmoothing(l),Tt=!1;if("no"===Ae&&St?(p.setImgSmoothing(l,!1),Tt=!0):"yes"===Ae&&!St&&(p.setImgSmoothing(l,!0),Tt=!0),"no-repeat"===U)me&&(l.save(),fe.pathCache?l.clip(fe.pathCache):(p.nodeShapes[p.getNodeShape(s)].draw(l,w,D,q,re),l.clip())),p.safeDrawImage(l,i,0,0,ye,Me,Ee,Ge,be,Le),me&&l.restore();else{var Ct=l.createPattern(i,U);l.fillStyle=Ct,p.nodeShapes[p.getNodeShape(s)].draw(l,w,D,q,re),l.translate(Ee,Ge),l.fill(),l.translate(-Ee,-Ge)}l.globalAlpha=dt,Tt&&p.setImgSmoothing(l,St)}}},rd={eleTextBiggerThanMin:function(l,i){if(!i){var s=l.cy().zoom(),f=this.getPixelRatio(),d=Math.ceil(Di(s*f));i=Math.pow(2,d)}return!(l.pstyle("font-size").pfValue*i<l.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(l,i,s,f,d){var p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this;if(null==f){if(p&&!g.eleTextBiggerThanMin(i))return}else if(!1===f)return;if(i.isNode()){var w=i.pstyle("label");if(!w||!w.value)return;var D=g.getLabelJustification(i);l.textAlign=D,l.textBaseline="bottom"}else{var E=i.element()._private.rscratch.badLine,M=i.pstyle("label"),P=i.pstyle("source-label"),U=i.pstyle("target-label");if(E||(!M||!M.value)&&(!P||!P.value)&&(!U||!U.value))return;l.textAlign="center",l.textBaseline="bottom"}var z,W=!s;s&&l.translate(-(z=s).x1,-z.y1),null==d?(g.drawText(l,i,null,W,p),i.isEdge()&&(g.drawText(l,i,"source",W,p),g.drawText(l,i,"target",W,p))):g.drawText(l,i,d,W,p),s&&l.translate(z.x1,z.y1)},getFontCache:function(l){var i;this.fontCaches=this.fontCaches||[];for(var s=0;s<this.fontCaches.length;s++)if((i=this.fontCaches[s]).context===l)return i;return this.fontCaches.push(i={context:l}),i},setupTextStyle:function(l,i){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=i.pstyle("font-style").strValue,d=i.pstyle("font-size").pfValue+"px",p=i.pstyle("font-family").strValue,g=i.pstyle("font-weight").strValue,w=s?i.effectiveOpacity()*i.pstyle("text-opacity").value:1,D=i.pstyle("text-outline-opacity").value*w,E=i.pstyle("color").value,M=i.pstyle("text-outline-color").value;l.font=f+" "+g+" "+d+" "+p,l.lineJoin="round",this.colorFillStyle(l,E[0],E[1],E[2],w),this.colorStrokeStyle(l,M[0],M[1],M[2],D)},getTextAngle:function(l,i){var d=l._private.rscratch,g=l.pstyle((i?i+"-":"")+"text-rotation"),w=Pi(d,"labelAngle",i);return"autorotate"===g.strValue?l.isEdge()?w:0:"none"===g.strValue?0:g.pfValue},drawText:function(l,i,s){var f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],d=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=i._private.rscratch,w=d?i.effectiveOpacity():1;if(!d||0!==w&&0!==i.pstyle("text-opacity").value){"main"===s&&(s=null);var M,P,D=Pi(g,"labelX",s),E=Pi(g,"labelY",s),U=this.getLabelText(i,s);if(null!=U&&""!==U&&!isNaN(D)&&!isNaN(E)){this.setupTextStyle(l,i,d);var Ie,W=s?s+"-":"",z=Pi(g,"labelWidth",s),Z=Pi(g,"labelHeight",s),q=i.pstyle(W+"text-margin-x").pfValue,re=i.pstyle(W+"text-margin-y").pfValue,fe=i.isEdge(),de=i.pstyle("text-halign").value,me=i.pstyle("text-valign").value;switch(fe&&(de="center",me="center"),D+=q,E+=re,0!==(Ie=f?this.getTextAngle(i,s):0)&&(l.translate(M=D,P=E),l.rotate(Ie),D=0,E=0),me){case"top":break;case"center":E+=Z/2;break;case"bottom":E+=Z}var Ae=i.pstyle("text-background-opacity").value,ye=i.pstyle("text-border-opacity").value,Me=i.pstyle("text-border-width").pfValue,be=i.pstyle("text-background-padding").pfValue;if(Ae>0||Me>0&&ye>0){var Le=D-be;switch(de){case"left":Le-=z;break;case"center":Le-=z/2}var Pe=E-Z-be,Ee=z+2*be,Be=Z+2*be;if(Ae>0){var Oe=l.fillStyle,Ye=i.pstyle("text-background-color").value;l.fillStyle="rgba("+Ye[0]+","+Ye[1]+","+Ye[2]+","+Ae*w+")",0===i.pstyle("text-background-shape").strValue.indexOf("round")?function f0(l,i,s,f,d){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;l.beginPath(),l.moveTo(i+p,s),l.lineTo(i+f-p,s),l.quadraticCurveTo(i+f,s,i+f,s+p),l.lineTo(i+f,s+d-p),l.quadraticCurveTo(i+f,s+d,i+f-p,s+d),l.lineTo(i+p,s+d),l.quadraticCurveTo(i,s+d,i,s+d-p),l.lineTo(i,s+p),l.quadraticCurveTo(i,s,i+p,s),l.closePath(),l.fill()}(l,Le,Pe,Ee,Be,2):l.fillRect(Le,Pe,Ee,Be),l.fillStyle=Oe}if(Me>0&&ye>0){var Ge=l.strokeStyle,qe=l.lineWidth,it=i.pstyle("text-border-color").value,ht=i.pstyle("text-border-style").value;if(l.strokeStyle="rgba("+it[0]+","+it[1]+","+it[2]+","+ye*w+")",l.lineWidth=Me,l.setLineDash)switch(ht){case"dotted":l.setLineDash([1,1]);break;case"dashed":l.setLineDash([4,2]);break;case"double":l.lineWidth=Me/4,l.setLineDash([]);break;case"solid":l.setLineDash([])}if(l.strokeRect(Le,Pe,Ee,Be),"double"===ht){var tt=Me/2;l.strokeRect(Le+tt,Pe+tt,Ee-2*tt,Be-2*tt)}l.setLineDash&&l.setLineDash([]),l.lineWidth=qe,l.strokeStyle=Ge}}var dt=2*i.pstyle("text-outline-width").pfValue;if(dt>0&&(l.lineWidth=dt),"wrap"===i.pstyle("text-wrap").value){var St=Pi(g,"labelWrapCachedLines",s),Tt=Pi(g,"labelLineHeight",s),Ct=z/2,vt=this.getLabelJustification(i);switch("auto"===vt||("left"===de?"left"===vt?D+=-z:"center"===vt&&(D+=-Ct):"center"===de?"left"===vt?D+=-Ct:"right"===vt&&(D+=Ct):"right"===de&&("center"===vt?D+=Ct:"right"===vt&&(D+=z))),me){case"top":case"center":case"bottom":E-=(St.length-1)*Tt}for(var Ke=0;Ke<St.length;Ke++)dt>0&&l.strokeText(St[Ke],D,E),l.fillText(St[Ke],D,E),E+=Tt}else dt>0&&l.strokeText(U,D,E),l.fillText(U,D,E);0!==Ie&&(l.rotate(-Ie),l.translate(-M,-P))}}}},uu={drawNode:function(l,i,s){var w,D,f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],d=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,E=i._private,M=E.rscratch,P=i.position();if($e(P.x)&&$e(P.y)&&(!p||i.visible())){var z,re,U=p?i.effectiveOpacity():1,W=g.usePaths(),Z=!1,q=i.padding();w=i.width()+2*q,D=i.height()+2*q,s&&l.translate(-(re=s).x1,-re.y1);for(var de=i.pstyle("background-image").value,me=new Array(de.length),Ie=new Array(de.length),Ae=0,ye=0;ye<de.length;ye++){var Me=de[ye];if(me[ye]=null!=Me&&"none"!==Me){var Le=i.cy().style().getIndexedStyle(i,"background-image-crossorigin","value",ye);Ae++,Ie[ye]=g.getCachedImage(Me,Le,function(){E.backgroundTimestamp=Date.now(),i.emitAndNotify("background")})}}var Pe=i.pstyle("background-blacken").value,Ee=i.pstyle("border-width").pfValue,Be=i.pstyle("background-opacity").value*U,Oe=i.pstyle("border-color").value,Ye=i.pstyle("border-style").value,He=i.pstyle("border-opacity").value*U;l.lineJoin="miter";var Ge=function(){g.eleFillStyle(l,i,arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be)},qe=function(){g.colorStrokeStyle(l,Oe[0],Oe[1],Oe[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:He)},it=i.pstyle("shape").strValue,ht=i.pstyle("shape-polygon-points").pfValue;if(W){l.translate(P.x,P.y);var tt=g.nodePathCache=g.nodePathCache||[],dt=yc("polygon"===it?it+","+ht.join(","):it,""+D,""+w),St=tt[dt];null!=St?(Z=!0,M.pathCache=z=St):(z=new Path2D,tt[dt]=M.pathCache=z)}var Tt=function(){if(!Z){var tn=P;W&&(tn={x:0,y:0}),g.nodeShapes[g.getNodeShape(i)].draw(z||l,tn.x,tn.y,w,D)}W?l.fill(z):l.fill()},Ct=function(){for(var tn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,xn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Cr=E.backgrounding,rr=0,Ln=0;Ln<Ie.length;Ln++){var Bt=i.cy().style().getIndexedStyle(i,"background-image-containment","value",Ln);xn&&"over"===Bt||!xn&&"inside"===Bt?rr++:me[Ln]&&Ie[Ln].complete&&!Ie[Ln].error&&(rr++,g.drawInscribedImage(l,Ie[Ln],i,Ln,tn))}E.backgrounding=rr!==Ae,Cr!==E.backgrounding&&i.updateStyle(!1)},vt=function(){var tn=arguments.length>0&&void 0!==arguments[0]&&arguments[0],xn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U;g.hasPie(i)&&(g.drawPie(l,i,xn),tn&&(W||g.nodeShapes[g.getNodeShape(i)].draw(l,P.x,P.y,w,D)))},Ke=function(){var Cr=Pe>0?0:255;0!==Pe&&(g.colorFillStyle(l,Cr,Cr,Cr,(Pe>0?Pe:-Pe)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:U)),W?l.fill(z):l.fill())},Dt=function(){if(Ee>0){if(l.lineWidth=Ee,l.lineCap="butt",l.setLineDash)switch(Ye){case"dotted":l.setLineDash([1,1]);break;case"dashed":l.setLineDash([4,2]);break;case"solid":case"double":l.setLineDash([])}if(W?l.stroke(z):l.stroke(),"double"===Ye){l.lineWidth=Ee/3;var tn=l.globalCompositeOperation;l.globalCompositeOperation="destination-out",W?l.stroke(z):l.stroke(),l.globalCompositeOperation=tn}l.setLineDash&&l.setLineDash([])}};if("yes"===i.pstyle("ghost").value){var Xn=i.pstyle("ghost-offset-x").pfValue,en=i.pstyle("ghost-offset-y").pfValue,Kt=i.pstyle("ghost-opacity").value,Tn=Kt*U;l.translate(Xn,en),Ge(Kt*Be),Tt(),Ct(Tn,!0),qe(Kt*He),Dt(),vt(0!==Pe||0!==Ee),Ct(Tn,!1),Ke(Tn),l.translate(-Xn,-en)}W&&l.translate(-P.x,-P.y),d&&g.drawNodeUnderlay(l,i,P,w,D),W&&l.translate(P.x,P.y),Ge(),Tt(),Ct(U,!0),qe(),Dt(),vt(0!==Pe||0!==Ee),Ct(U,!1),Ke(),W&&l.translate(-P.x,-P.y),g.drawElementText(l,i,null,f),d&&g.drawNodeOverlay(l,i,P,w,D),s&&l.translate(re.x1,re.y1)}}},ep=function(i){if(!["overlay","underlay"].includes(i))throw new Error("Invalid state");return function(s,f,d,p,g){if(f.visible()){var D=f.pstyle("".concat(i,"-padding")).pfValue,E=f.pstyle("".concat(i,"-opacity")).value,M=f.pstyle("".concat(i,"-color")).value,P=f.pstyle("".concat(i,"-shape")).value;if(E>0){if(d=d||f.position(),null==p||null==g){var U=f.padding();p=f.width()+2*U,g=f.height()+2*U}this.colorFillStyle(s,M[0],M[1],M[2],E),this.nodeShapes[P].draw(s,d.x,d.y,p+2*D,g+2*D),s.fill()}}}};uu.drawNodeOverlay=ep("overlay"),uu.drawNodeUnderlay=ep("underlay"),uu.hasPie=function(l){return(l=l[0])._private.hasPie},uu.drawPie=function(l,i,s,f){i=i[0],f=f||i.position();var d=i.cy().style(),p=i.pstyle("pie-size"),g=f.x,w=f.y,D=i.width(),E=i.height(),M=Math.min(D,E)/2,P=0;this.usePaths()&&(g=0,w=0),"%"===p.units?M*=p.pfValue:void 0!==p.pfValue&&(M=p.pfValue/2);for(var W=1;W<=d.pieBackgroundN;W++){var z=i.pstyle("pie-"+W+"-background-size").value,Z=i.pstyle("pie-"+W+"-background-color").value,q=i.pstyle("pie-"+W+"-background-opacity").value*s,re=z/100;re+P>1&&(re=1-P);var fe=1.5*Math.PI+2*Math.PI*P,me=fe+2*Math.PI*re;0===z||P>=1||P+re>1||(l.beginPath(),l.moveTo(g,w),l.arc(g,w,M,fe,me),l.closePath(),this.colorFillStyle(l,Z[0],Z[1],Z[2],q),l.fill(),P+=re)}};for(var ns={getPixelRatio:function(){var l=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(l.backingStorePixelRatio||l.webkitBackingStorePixelRatio||l.mozBackingStorePixelRatio||l.msBackingStorePixelRatio||l.oBackingStorePixelRatio||l.backingStorePixelRatio||1)},paintCache:function(l){for(var f,i=this.paintCaches=this.paintCaches||[],s=!0,d=0;d<i.length;d++)if((f=i[d]).context===l){s=!1;break}return s&&i.push(f={context:l}),f},createGradientStyleFor:function(l,i,s,f,d){var p,g=this.usePaths(),w=s.pstyle(i+"-gradient-stop-colors").value,D=s.pstyle(i+"-gradient-stop-positions").pfValue;if("radial-gradient"===f)if(s.isEdge()){var E=s.sourceEndpoint(),M=s.targetEndpoint(),P=s.midpoint(),U=xi(E,P),W=xi(M,P);p=l.createRadialGradient(P.x,P.y,0,P.x,P.y,Math.max(U,W))}else{var z=g?{x:0,y:0}:s.position(),Z=s.paddedWidth(),q=s.paddedHeight();p=l.createRadialGradient(z.x,z.y,0,z.x,z.y,Math.max(Z,q))}else if(s.isEdge()){var re=s.sourceEndpoint(),fe=s.targetEndpoint();p=l.createLinearGradient(re.x,re.y,fe.x,fe.y)}else{var de=g?{x:0,y:0}:s.position(),Ae=s.paddedWidth()/2,ye=s.paddedHeight()/2;switch(s.pstyle("background-gradient-direction").value){case"to-bottom":p=l.createLinearGradient(de.x,de.y-ye,de.x,de.y+ye);break;case"to-top":p=l.createLinearGradient(de.x,de.y+ye,de.x,de.y-ye);break;case"to-left":p=l.createLinearGradient(de.x+Ae,de.y,de.x-Ae,de.y);break;case"to-right":p=l.createLinearGradient(de.x-Ae,de.y,de.x+Ae,de.y);break;case"to-bottom-right":case"to-right-bottom":p=l.createLinearGradient(de.x-Ae,de.y-ye,de.x+Ae,de.y+ye);break;case"to-top-right":case"to-right-top":p=l.createLinearGradient(de.x-Ae,de.y+ye,de.x+Ae,de.y-ye);break;case"to-bottom-left":case"to-left-bottom":p=l.createLinearGradient(de.x+Ae,de.y-ye,de.x-Ae,de.y+ye);break;case"to-top-left":case"to-left-top":p=l.createLinearGradient(de.x+Ae,de.y+ye,de.x-Ae,de.y-ye)}}if(!p)return null;for(var be=D.length===w.length,Le=w.length,Pe=0;Pe<Le;Pe++)p.addColorStop(be?D[Pe]:Pe/(Le-1),"rgba("+w[Pe][0]+","+w[Pe][1]+","+w[Pe][2]+","+d+")");return p},gradientFillStyle:function(l,i,s,f){var d=this.createGradientStyleFor(l,"background",i,s,f);if(!d)return null;l.fillStyle=d},colorFillStyle:function(l,i,s,f,d){l.fillStyle="rgba("+i+","+s+","+f+","+d+")"},eleFillStyle:function(l,i,s){var f=i.pstyle("background-fill").value;if("linear-gradient"===f||"radial-gradient"===f)this.gradientFillStyle(l,i,f,s);else{var d=i.pstyle("background-color").value;this.colorFillStyle(l,d[0],d[1],d[2],s)}},gradientStrokeStyle:function(l,i,s,f){var d=this.createGradientStyleFor(l,"line",i,s,f);if(!d)return null;l.strokeStyle=d},colorStrokeStyle:function(l,i,s,f,d){l.strokeStyle="rgba("+i+","+s+","+f+","+d+")"},eleStrokeStyle:function(l,i,s){var f=i.pstyle("line-fill").value;if("linear-gradient"===f||"radial-gradient"===f)this.gradientStrokeStyle(l,i,f,s);else{var d=i.pstyle("line-color").value;this.colorStrokeStyle(l,d[0],d[1],d[2],s)}},matchCanvasSize:function(l){var i=this,s=i.data,f=i.findContainerClientCoords(),d=f[2],p=f[3],g=i.getPixelRatio();(l===i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_NODE]||l===i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_DRAG])&&(g=i.motionBlurPxRatio);var M,D=d*g,E=p*g;if(D!==i.canvasWidth||E!==i.canvasHeight){i.fontCaches=null;var P=s.canvasContainer;P.style.width=d+"px",P.style.height=p+"px";for(var U=0;U<i.CANVAS_LAYERS;U++)(M=s.canvases[U]).width=D,M.height=E,M.style.width=d+"px",M.style.height=p+"px";for(U=0;U<i.BUFFER_COUNT;U++)(M=s.bufferCanvases[U]).width=D,M.height=E,M.style.width=d+"px",M.style.height=p+"px";i.textureMult=1,g<=1&&(M=s.bufferCanvases[i.TEXTURE_BUFFER],i.textureMult=2,M.width=D*i.textureMult,M.height=E*i.textureMult),i.canvasWidth=D,i.canvasHeight=E}},renderTo:function(l,i,s,f){this.render({forcedContext:l,forcedZoom:i,forcedPan:s,drawAllLayers:!0,forcedPxRatio:f})},render:function(l){var i=(l=l||mn()).forcedContext,s=l.drawAllLayers,f=l.drawOnlyNodeLayer,d=l.forcedZoom,p=l.forcedPan,g=this,w=void 0===l.forcedPxRatio?this.getPixelRatio():l.forcedPxRatio,D=g.cy,E=g.data,M=E.canvasNeedsRedraw,P=g.textureOnViewport&&!i&&(g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming),U=void 0!==l.motionBlur?l.motionBlur:g.motionBlur,W=g.motionBlurPxRatio,z=D.hasCompoundNodes(),Z=g.hoverData.draggingEles,re=U=U&&!i&&g.motionBlurEnabled&&!(g.hoverData.selecting||g.touchData.selecting);i||(g.prevPxRatio!==w&&(g.invalidateContainerClientCoordsCache(),g.matchCanvasSize(g.container),g.redrawHint("eles",!0),g.redrawHint("drag",!0)),g.prevPxRatio=w),!i&&g.motionBlurTimeout&&clearTimeout(g.motionBlurTimeout),U&&(null==g.mbFrames&&(g.mbFrames=0),g.mbFrames++,g.mbFrames<3&&(re=!1),g.mbFrames>g.minMbLowQualFrames&&(g.motionBlurPxRatio=g.mbPxRBlurry)),g.clearingMotionBlur&&(g.motionBlurPxRatio=1),g.textureDrawLastFrame&&!P&&(M[g.NODE]=!0,M[g.SELECT_BOX]=!0);var fe=D.style(),de=D.zoom(),me=void 0!==d?d:de,Ie=D.pan(),Ae={x:Ie.x,y:Ie.y},ye={zoom:de,pan:{x:Ie.x,y:Ie.y}},Me=g.prevViewport;!(void 0===Me||ye.zoom!==Me.zoom||ye.pan.x!==Me.pan.x||ye.pan.y!==Me.pan.y)&&!(Z&&!z)&&(g.motionBlurPxRatio=1),p&&(Ae=p),me*=w,Ae.x*=w,Ae.y*=w;var Le=g.getCachedZSortedEles();function Pe(en,Kt,Tn,bn,tn){var xn=en.globalCompositeOperation;en.globalCompositeOperation="destination-out",g.colorFillStyle(en,255,255,255,g.motionBlurTransparency),en.fillRect(Kt,Tn,bn,tn),en.globalCompositeOperation=xn}function Ee(en,Kt){var Tn,bn,tn,xn;g.clearingMotionBlur||en!==E.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]&&en!==E.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]?(Tn=Ae,bn=me,tn=g.canvasWidth,xn=g.canvasHeight):(Tn={x:Ie.x*W,y:Ie.y*W},bn=de*W,tn=g.canvasWidth*W,xn=g.canvasHeight*W),en.setTransform(1,0,0,1,0,0),"motionBlur"===Kt?Pe(en,0,0,tn,xn):!i&&(void 0===Kt||Kt)&&en.clearRect(0,0,tn,xn),s||(en.translate(Tn.x,Tn.y),en.scale(bn,bn)),p&&en.translate(p.x,p.y),d&&en.scale(d,d)}if(P||(g.textureDrawLastFrame=!1),P){if(g.textureDrawLastFrame=!0,!g.textureCache){g.textureCache={},g.textureCache.bb=D.mutableElements().boundingBox(),g.textureCache.texture=g.data.bufferCanvases[g.TEXTURE_BUFFER];var Be=g.data.bufferContexts[g.TEXTURE_BUFFER];Be.setTransform(1,0,0,1,0,0),Be.clearRect(0,0,g.canvasWidth*g.textureMult,g.canvasHeight*g.textureMult),g.render({forcedContext:Be,drawOnlyNodeLayer:!0,forcedPxRatio:w*g.textureMult}),(ye=g.textureCache.viewport={zoom:D.zoom(),pan:D.pan(),width:g.canvasWidth,height:g.canvasHeight}).mpan={x:(0-ye.pan.x)/ye.zoom,y:(0-ye.pan.y)/ye.zoom}}M[g.DRAG]=!1,M[g.NODE]=!1;var Ye=g.textureCache.texture;ye=g.textureCache.viewport,(Oe=E.contexts[g.NODE]).setTransform(1,0,0,1,0,0),U?Pe(Oe,0,0,ye.width,ye.height):Oe.clearRect(0,0,ye.width,ye.height);var He=fe.core("outside-texture-bg-color").value,Ge=fe.core("outside-texture-bg-opacity").value;g.colorFillStyle(Oe,He[0],He[1],He[2],Ge),Oe.fillRect(0,0,ye.width,ye.height),de=D.zoom(),Ee(Oe,!1),Oe.clearRect(ye.mpan.x,ye.mpan.y,ye.width/ye.zoom/w,ye.height/ye.zoom/w),Oe.drawImage(Ye,ye.mpan.x,ye.mpan.y,ye.width/ye.zoom/w,ye.height/ye.zoom/w)}else g.textureOnViewport&&!i&&(g.textureCache=null);var qe=D.extent(),it=g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming||g.hoverData.draggingEles||g.cy.animated(),ht=g.hideEdgesOnViewport&&it,tt=[];if(tt[g.NODE]=!M[g.NODE]&&U&&!g.clearedForMotionBlur[g.NODE]||g.clearingMotionBlur,tt[g.NODE]&&(g.clearedForMotionBlur[g.NODE]=!0),tt[g.DRAG]=!M[g.DRAG]&&U&&!g.clearedForMotionBlur[g.DRAG]||g.clearingMotionBlur,tt[g.DRAG]&&(g.clearedForMotionBlur[g.DRAG]=!0),M[g.NODE]||s||f||tt[g.NODE]){var dt=U&&!tt[g.NODE]&&1!==W;Ee(Oe=i||(dt?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]:E.contexts[g.NODE]),U&&!dt?"motionBlur":void 0),ht?g.drawCachedNodes(Oe,Le.nondrag,w,qe):g.drawLayeredElements(Oe,Le.nondrag,w,qe),g.debug&&g.drawDebugPoints(Oe,Le.nondrag),!s&&!U&&(M[g.NODE]=!1)}if(!f&&(M[g.DRAG]||s||tt[g.DRAG])&&(dt=U&&!tt[g.DRAG]&&1!==W,Ee(Oe=i||(dt?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]:E.contexts[g.DRAG]),U&&!dt?"motionBlur":void 0),ht?g.drawCachedNodes(Oe,Le.drag,w,qe):g.drawCachedElements(Oe,Le.drag,w,qe),g.debug&&g.drawDebugPoints(Oe,Le.drag),!s&&!U&&(M[g.DRAG]=!1)),g.showFps||!f&&M[g.SELECT_BOX]&&!s){var Oe;if(Ee(Oe=i||E.contexts[g.SELECT_BOX]),1==g.selection[4]&&(g.hoverData.selecting||g.touchData.selecting)){de=g.cy.zoom();var Tt=fe.core("selection-box-border-width").value/de;Oe.lineWidth=Tt,Oe.fillStyle="rgba("+fe.core("selection-box-color").value[0]+","+fe.core("selection-box-color").value[1]+","+fe.core("selection-box-color").value[2]+","+fe.core("selection-box-opacity").value+")",Oe.fillRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]),Tt>0&&(Oe.strokeStyle="rgba("+fe.core("selection-box-border-color").value[0]+","+fe.core("selection-box-border-color").value[1]+","+fe.core("selection-box-border-color").value[2]+","+fe.core("selection-box-opacity").value+")",Oe.strokeRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]))}if(E.bgActivePosistion&&!g.hoverData.selecting){de=g.cy.zoom();var Ct=E.bgActivePosistion;Oe.fillStyle="rgba("+fe.core("active-bg-color").value[0]+","+fe.core("active-bg-color").value[1]+","+fe.core("active-bg-color").value[2]+","+fe.core("active-bg-opacity").value+")",Oe.beginPath(),Oe.arc(Ct.x,Ct.y,fe.core("active-bg-size").pfValue/de,0,2*Math.PI),Oe.fill()}var vt=g.lastRedrawTime;if(g.showFps&&vt){vt=Math.round(vt);var Ke=Math.round(1e3/vt);Oe.setTransform(1,0,0,1,0,0),Oe.fillStyle="rgba(255, 0, 0, 0.75)",Oe.strokeStyle="rgba(255, 0, 0, 0.75)",Oe.lineWidth=1,Oe.fillText("1 frame = "+vt+" ms = "+Ke+" fps",0,20),Oe.strokeRect(0,30,250,20),Oe.fillRect(0,30,250*Math.min(Ke/60,1),20)}s||(M[g.SELECT_BOX]=!1)}if(U&&1!==W){var Qt=E.contexts[g.DRAG],Fn=g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_DRAG],Xn=function(Kt,Tn,bn){Kt.setTransform(1,0,0,1,0,0),bn||!re?Kt.clearRect(0,0,g.canvasWidth,g.canvasHeight):Pe(Kt,0,0,g.canvasWidth,g.canvasHeight),Kt.drawImage(Tn,0,0,g.canvasWidth*W,g.canvasHeight*W,0,0,g.canvasWidth,g.canvasHeight)};(M[g.NODE]||tt[g.NODE])&&(Xn(E.contexts[g.NODE],g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_NODE],tt[g.NODE]),M[g.NODE]=!1),(M[g.DRAG]||tt[g.DRAG])&&(Xn(Qt,Fn,tt[g.DRAG]),M[g.DRAG]=!1)}g.prevViewport=ye,g.clearingMotionBlur&&(g.clearingMotionBlur=!1,g.motionBlurCleared=!0,g.motionBlur=!0),U&&(g.motionBlurTimeout=setTimeout(function(){g.motionBlurTimeout=null,g.clearedForMotionBlur[g.NODE]=!1,g.clearedForMotionBlur[g.DRAG]=!1,g.motionBlur=!1,g.clearingMotionBlur=!P,g.mbFrames=0,M[g.NODE]=!0,M[g.DRAG]=!0,g.redraw()},100)),i||D.emit("render")}},cu={drawPolygonPath:function(l,i,s,f,d,p){var g=f/2,w=d/2;l.beginPath&&l.beginPath(),l.moveTo(i+g*p[0],s+w*p[1]);for(var D=1;D<p.length/2;D++)l.lineTo(i+g*p[2*D],s+w*p[2*D+1]);l.closePath()},drawRoundPolygonPath:function(l,i,s,f,d,p){var g=f/2,w=d/2,D=Lu(f,d);l.beginPath&&l.beginPath();for(var E=0;E<p.length/4;E++){var P,M;M=0===E?p.length-2:4*E-2,P=4*E+2;var U=i+g*p[4*E],W=s+w*p[4*E+1],Z=D/Math.tan(Math.acos(-p[M]*p[P]-p[M+1]*p[P+1])/2),q=U-Z*p[M],re=W-Z*p[M+1],fe=U+Z*p[P],de=W+Z*p[P+1];0===E?l.moveTo(q,re):l.lineTo(q,re),l.arcTo(U,W,fe,de,D)}l.closePath()},drawRoundRectanglePath:function(l,i,s,f,d){var p=f/2,g=d/2,w=jl(f,d);l.beginPath&&l.beginPath(),l.moveTo(i,s-g),l.arcTo(i+p,s-g,i+p,s,w),l.arcTo(i+p,s+g,i,s+g,w),l.arcTo(i-p,s+g,i-p,s,w),l.arcTo(i-p,s-g,i,s-g,w),l.lineTo(i,s-g),l.closePath()},drawBottomRoundRectanglePath:function(l,i,s,f,d){var p=f/2,g=d/2,w=jl(f,d);l.beginPath&&l.beginPath(),l.moveTo(i,s-g),l.lineTo(i+p,s-g),l.lineTo(i+p,s),l.arcTo(i+p,s+g,i,s+g,w),l.arcTo(i-p,s+g,i-p,s,w),l.lineTo(i-p,s-g),l.lineTo(i,s-g),l.closePath()},drawCutRectanglePath:function(l,i,s,f,d){var p=f/2,g=d/2;l.beginPath&&l.beginPath(),l.moveTo(i-p+8,s-g),l.lineTo(i+p-8,s-g),l.lineTo(i+p,s-g+8),l.lineTo(i+p,s+g-8),l.lineTo(i+p-8,s+g),l.lineTo(i-p+8,s+g),l.lineTo(i-p,s+g-8),l.lineTo(i-p,s-g+8),l.closePath()},drawBarrelPath:function(l,i,s,f,d){var p=f/2,g=d/2,w=i-p,D=i+p,E=s-g,M=s+g,P=Ed(f,d),U=P.widthOffset,W=P.heightOffset,z=P.ctrlPtOffsetPct*U;l.beginPath&&l.beginPath(),l.moveTo(w,E+W),l.lineTo(w,M-W),l.quadraticCurveTo(w+z,M,w+U,M),l.lineTo(D-U,M),l.quadraticCurveTo(D-z,M,D,M-W),l.lineTo(D,E+W),l.quadraticCurveTo(D-z,E,D-U,E),l.lineTo(w+U,E),l.quadraticCurveTo(w+z,E,w,E+W),l.closePath()}},ff=Math.sin(0),ug=Math.cos(0),tp={},id={},Jd=Math.PI/40,Vo=0*Math.PI;Vo<2*Math.PI;Vo+=Jd)tp[Vo]=Math.sin(Vo),id[Vo]=Math.cos(Vo);cu.drawEllipsePath=function(l,i,s,f,d){if(l.beginPath&&l.beginPath(),l.ellipse)l.ellipse(i,s,f/2,d/2,0,0,2*Math.PI);else for(var p,g,w=f/2,D=d/2,E=0*Math.PI;E<2*Math.PI;E+=Jd)p=i-w*tp[E]*ff+w*id[E]*ug,g=s+D*id[E]*ff+D*tp[E]*ug,0===E?l.moveTo(p,g):l.lineTo(p,g);l.closePath()};var eh={};function Zv(l){var i=l.indexOf(",");return l.substr(i+1)}function cg(l,i,s){var f=function(){return i.toDataURL(s,l.quality)};switch(l.output){case"blob-promise":return new Ya(function(d,p){try{i.toBlob(function(g){null!=g?d(g):p(new Error("`canvas.toBlob()` sent a null value in its callback"))},s,l.quality)}catch(g){p(g)}});case"blob":return function d0(l,i){for(var s=atob(l),f=new ArrayBuffer(s.length),d=new Uint8Array(f),p=0;p<s.length;p++)d[p]=s.charCodeAt(p);return new Blob([f],{type:i})}(Zv(f()),s);case"base64":return Zv(f());default:return f()}}eh.createBuffer=function(l,i){var s=document.createElement("canvas");return s.width=l,s.height=i,[s,s.getContext("2d")]},eh.bufferCanvasImage=function(l){var i=this.cy,f=i.mutableElements().boundingBox(),d=this.findContainerClientCoords(),p=l.full?Math.ceil(f.w):d[2],g=l.full?Math.ceil(f.h):d[3],w=$e(l.maxWidth)||$e(l.maxHeight),D=this.getPixelRatio(),E=1;if(void 0!==l.scale)p*=l.scale,g*=l.scale,E=l.scale;else if(w){var M=1/0,P=1/0;$e(l.maxWidth)&&(M=E*l.maxWidth/p),$e(l.maxHeight)&&(P=E*l.maxHeight/g),p*=E=Math.min(M,P),g*=E}w||(p*=D,g*=D,E*=D);var U=document.createElement("canvas");U.width=p,U.height=g,U.style.width=p+"px",U.style.height=g+"px";var W=U.getContext("2d");if(p>0&&g>0){W.clearRect(0,0,p,g),W.globalCompositeOperation="source-over";var z=this.getCachedZSortedEles();if(l.full)W.translate(-f.x1*E,-f.y1*E),W.scale(E,E),this.drawElements(W,z),W.scale(1/E,1/E),W.translate(f.x1*E,f.y1*E);else{var Z=i.pan(),q={x:Z.x*E,y:Z.y*E};E*=i.zoom(),W.translate(q.x,q.y),W.scale(E,E),this.drawElements(W,z),W.scale(1/E,1/E),W.translate(-q.x,-q.y)}l.bg&&(W.globalCompositeOperation="destination-over",W.fillStyle=l.bg,W.rect(0,0,p,g),W.fill())}return U},eh.png=function(l){return cg(l,this.bufferCanvasImage(l),"image/png")},eh.jpg=function(l){return cg(l,this.bufferCanvasImage(l),"image/jpeg")};var h0=qv,Ur=qv.prototype;function qv(l){var i=this;i.data={canvases:new Array(Ur.CANVAS_LAYERS),contexts:new Array(Ur.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Ur.CANVAS_LAYERS),bufferCanvases:new Array(Ur.BUFFER_COUNT),bufferContexts:new Array(Ur.CANVAS_LAYERS)};var s="-webkit-tap-highlight-color",f="rgba(0,0,0,0)";i.data.canvasContainer=document.createElement("div");var d=i.data.canvasContainer.style;i.data.canvasContainer.style[s]=f,d.position="relative",d.zIndex="0",d.overflow="hidden";var p=l.cy.container();p.appendChild(i.data.canvasContainer),p.style[s]=f;var g={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};ie&&ie.userAgent.match(/msie|trident|edge/i)&&(g["-ms-touch-action"]="none",g["touch-action"]="none");for(var w=0;w<Ur.CANVAS_LAYERS;w++){var D=i.data.canvases[w]=document.createElement("canvas");i.data.contexts[w]=D.getContext("2d"),Object.keys(g).forEach(function(vt){D.style[vt]=g[vt]}),D.style.position="absolute",D.setAttribute("data-id","layer"+w),D.style.zIndex=String(Ur.CANVAS_LAYERS-w),i.data.canvasContainer.appendChild(D),i.data.canvasNeedsRedraw[w]=!1}for(i.data.topCanvas=i.data.canvases[0],i.data.canvases[Ur.NODE].setAttribute("data-id","layer"+Ur.NODE+"-node"),i.data.canvases[Ur.SELECT_BOX].setAttribute("data-id","layer"+Ur.SELECT_BOX+"-selectbox"),i.data.canvases[Ur.DRAG].setAttribute("data-id","layer"+Ur.DRAG+"-drag"),w=0;w<Ur.BUFFER_COUNT;w++)i.data.bufferCanvases[w]=document.createElement("canvas"),i.data.bufferContexts[w]=i.data.bufferCanvases[w].getContext("2d"),i.data.bufferCanvases[w].style.position="absolute",i.data.bufferCanvases[w].setAttribute("data-id","buffer"+w),i.data.bufferCanvases[w].style.zIndex=String(-w-1),i.data.bufferCanvases[w].style.visibility="hidden";i.pathsEnabled=!0;var E=ci(),P=function(Ke){return{x:-Ke.w/2,y:-Ke.h/2}},Ie=function(Ke){return Ke.boundingBox(),Ke[0]._private.bodyBounds},Ae=function(Ke){return Ke.boundingBox(),Ke[0]._private.labelBounds.main||E},ye=function(Ke){return Ke.boundingBox(),Ke[0]._private.labelBounds.source||E},Me=function(Ke){return Ke.boundingBox(),Ke[0]._private.labelBounds.target||E},be=function(Ke,Dt){return Dt},Pe=function(Ke,Dt,Mt){var zt=Ke?Ke+"-":"";return{x:Dt.x+Mt.pstyle(zt+"text-margin-x").pfValue,y:Dt.y+Mt.pstyle(zt+"text-margin-y").pfValue}},Ee=function(Ke,Dt,Mt){var zt=Ke[0]._private.rscratch;return{x:zt[Dt],y:zt[Mt]}},ht=i.data.eleTxrCache=new Bs(i,{getKey:function(Ke){return Ke[0]._private.nodeKey},doesEleInvalidateKey:function(Ke){var Dt=Ke[0]._private;return!(Dt.oldBackgroundTimestamp===Dt.backgroundTimestamp)},drawElement:function(Ke,Dt,Mt,zt,Qt){return i.drawElement(Ke,Dt,Mt,!1,!1,Qt)},getBoundingBox:Ie,getRotationPoint:function(Ke){return function(Ke){return{x:(Ke.x1+Ke.x2)/2,y:(Ke.y1+Ke.y2)/2}}(Ie(Ke))},getRotationOffset:function(Ke){return P(Ie(Ke))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),tt=i.data.lblTxrCache=new Bs(i,{getKey:function(Ke){return Ke[0]._private.labelStyleKey},drawElement:function(Ke,Dt,Mt,zt,Qt){return i.drawElementText(Ke,Dt,Mt,zt,"main",Qt)},getBoundingBox:Ae,getRotationPoint:function(Ke){return Pe("",Ee(Ke,"labelX","labelY"),Ke)},getRotationOffset:function(Ke){var Dt=Ae(Ke),Mt=P(Ae(Ke));if(Ke.isNode()){switch(Ke.pstyle("text-halign").value){case"left":Mt.x=-Dt.w;break;case"right":Mt.x=0}switch(Ke.pstyle("text-valign").value){case"top":Mt.y=-Dt.h;break;case"bottom":Mt.y=0}}return Mt},isVisible:be}),dt=i.data.slbTxrCache=new Bs(i,{getKey:function(Ke){return Ke[0]._private.sourceLabelStyleKey},drawElement:function(Ke,Dt,Mt,zt,Qt){return i.drawElementText(Ke,Dt,Mt,zt,"source",Qt)},getBoundingBox:ye,getRotationPoint:function(Ke){return Pe("source",Ee(Ke,"sourceLabelX","sourceLabelY"),Ke)},getRotationOffset:function(Ke){return P(ye(Ke))},isVisible:be}),St=i.data.tlbTxrCache=new Bs(i,{getKey:function(Ke){return Ke[0]._private.targetLabelStyleKey},drawElement:function(Ke,Dt,Mt,zt,Qt){return i.drawElementText(Ke,Dt,Mt,zt,"target",Qt)},getBoundingBox:Me,getRotationPoint:function(Ke){return Pe("target",Ee(Ke,"targetLabelX","targetLabelY"),Ke)},getRotationOffset:function(Ke){return P(Me(Ke))},isVisible:be}),Tt=i.data.lyrTxrCache=new o0(i);i.onUpdateEleCalcs(function(Ke,Dt){ht.invalidateElements(Dt),tt.invalidateElements(Dt),dt.invalidateElements(Dt),St.invalidateElements(Dt),Tt.invalidateElements(Dt);for(var Mt=0;Mt<Dt.length;Mt++){var zt=Dt[Mt]._private;zt.oldBackgroundTimestamp=zt.backgroundTimestamp}});var Ct=function(Ke){for(var Dt=0;Dt<Ke.length;Dt++)Tt.enqueueElementRefinement(Ke[Dt].ele)};ht.onDequeue(Ct),tt.onDequeue(Ct),dt.onDequeue(Ct),St.onDequeue(Ct)}Ur.CANVAS_LAYERS=3,Ur.SELECT_BOX=0,Ur.DRAG=1,Ur.NODE=2,Ur.BUFFER_COUNT=3,Ur.TEXTURE_BUFFER=0,Ur.MOTIONBLUR_BUFFER_NODE=1,Ur.MOTIONBLUR_BUFFER_DRAG=2,Ur.redrawHint=function(l,i){var s=this;switch(l){case"eles":s.data.canvasNeedsRedraw[Ur.NODE]=i;break;case"drag":s.data.canvasNeedsRedraw[Ur.DRAG]=i;break;case"select":s.data.canvasNeedsRedraw[Ur.SELECT_BOX]=i}};var Qv=typeof Path2D<"u";Ur.path2dEnabled=function(l){if(void 0===l)return this.pathsEnabled;this.pathsEnabled=!!l},Ur.usePaths=function(){return Qv&&this.pathsEnabled},Ur.setImgSmoothing=function(l,i){null!=l.imageSmoothingEnabled?l.imageSmoothingEnabled=i:(l.webkitImageSmoothingEnabled=i,l.mozImageSmoothingEnabled=i,l.msImageSmoothingEnabled=i)},Ur.getImgSmoothing=function(l){return null!=l.imageSmoothingEnabled?l.imageSmoothingEnabled:l.webkitImageSmoothingEnabled||l.mozImageSmoothingEnabled||l.msImageSmoothingEnabled},Ur.makeOffscreenCanvas=function(l,i){var s;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":H(OffscreenCanvas))?s=new OffscreenCanvas(l,i):((s=document.createElement("canvas")).width=l,s.height=i),s},[Qd,Ll,nc,Xv,rd,uu,ns,cu,eh,{nodeShapeImpl:function(l,i,s,f,d,p,g){switch(l){case"ellipse":return this.drawEllipsePath(i,s,f,d,p);case"polygon":return this.drawPolygonPath(i,s,f,d,p,g);case"round-polygon":return this.drawRoundPolygonPath(i,s,f,d,p,g);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(i,s,f,d,p);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(i,s,f,d,p);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(i,s,f,d,p);case"barrel":return this.drawBarrelPath(i,s,f,d,p)}}}].forEach(function(l){En(Ur,l)});var g0=[{type:"layout",extensions:Zh},{type:"renderer",extensions:[{name:"null",impl:fi},{name:"base",impl:vn},{name:"canvas",impl:h0}]}],Va={},rp={};function fg(l,i,s){var f=s,d=function(Me){mr("Can not register `"+i+"` for `"+l+"` since `"+Me+"` already exists in the prototype and can not be overridden")};if("core"===l){if(es.prototype[i])return d(i);es.prototype[i]=s}else if("collection"===l){if(Yi.prototype[i])return d(i);Yi.prototype[i]=s}else if("layout"===l){for(var p=function(Me){this.options=Me,s.call(this,Me),Xe(this._private)||(this._private={}),this._private.cy=Me.cy,this._private.listeners=[],this.createEmitter()},g=p.prototype=Object.create(s.prototype),w=[],D=0;D<w.length;D++){var E=w[D];g[E]=g[E]||function(){return this}}g.start&&!g.run?g.run=function(){return this.start(),this}:!g.start&&g.run&&(g.start=function(){return this.run(),this});var M=s.prototype.stop;g.stop=function(){var ye=this.options;if(ye&&ye.animate){var Me=this.animations;if(Me)for(var be=0;be<Me.length;be++)Me[be].stop()}return M?M.call(this):this.emit("layoutstop"),this},g.destroy||(g.destroy=function(){return this}),g.cy=function(){return this._private.cy};var P=function(Me){return Me._private.cy},U={addEventFields:function(Me,be){be.layout=Me,be.cy=P(Me),be.target=Me},bubble:function(){return!0},parent:function(Me){return P(Me)}};En(g,{createEmitter:function(){return this._private.emitter=new Ii(U,this),this},emitter:function(){return this._private.emitter},on:function(Me,be){return this.emitter().on(Me,be),this},one:function(Me,be){return this.emitter().one(Me,be),this},once:function(Me,be){return this.emitter().one(Me,be),this},removeListener:function(Me,be){return this.emitter().removeListener(Me,be),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(Me,be){return this.emitter().emit(Me,be),this}}),Jn.eventAliasesOn(g),f=p}else if("renderer"===l&&"null"!==i&&"base"!==i){var W=ip("renderer","base"),z=W.prototype,Z=s,q=s.prototype,re=function(){W.apply(this,arguments),Z.apply(this,arguments)},fe=re.prototype;for(var de in z){var me=z[de];if(null!=q[de])return d(de);fe[de]=me}for(var Ae in q)fe[Ae]=q[Ae];z.clientFunctions.forEach(function(ye){fe[ye]=fe[ye]||function(){zr("Renderer does not implement `renderer."+ye+"()` on its prototype")}}),f=re}else if("__proto__"===l||"constructor"===l||"prototype"===l)return zr(l+" is an illegal type to be registered, possibly lead to prototype pollutions");return pn({map:Va,keys:[l,i],value:f})}function ip(l,i){return ta({map:Va,keys:[l,i]})}function xa(l,i,s,f,d){return pn({map:rp,keys:[l,i,s,f],value:d})}function th(l,i,s,f){return ta({map:rp,keys:[l,i,s,f]})}var op=function(){return 2===arguments.length?ip.apply(null,arguments):3===arguments.length?fg.apply(null,arguments):4===arguments.length?th.apply(null,arguments):5===arguments.length?xa.apply(null,arguments):void zr("Invalid extension access syntax")};es.prototype.extension=op,g0.forEach(function(l){l.extensions.forEach(function(i){fg(l.type,i.name,i.impl)})});var dg=function l(){if(!(this instanceof l))return new l;this.length=0},df=dg.prototype;df.instanceString=function(){return"stylesheet"},df.selector=function(l){return this[this.length++]={selector:l,properties:[]},this},df.css=function(l,i){var s=this.length-1;if(_e(l))this[s].properties.push({name:l,value:i});else if(Xe(l))for(var f=l,d=Object.keys(f),p=0;p<d.length;p++){var g=d[p],w=f[g];if(null!=w){var D=_o.properties[g]||_o.properties[hn(g)];null!=D&&this[s].properties.push({name:D.name,value:w})}}return this},df.style=df.css,df.generateStyle=function(l){var i=new _o(l);return this.appendToStyle(i)},df.appendToStyle=function(l){for(var i=0;i<this.length;i++){var s=this[i],d=s.properties;l.selector(s.selector);for(var p=0;p<d.length;p++){var g=d[p];l.css(g.name,g.value)}}return l};var hf=function(i){return void 0===i&&(i={}),Xe(i)?new es(i):_e(i)?op.apply(op,arguments):void 0};hf.use=function(l){var i=Array.prototype.slice.call(arguments,1);return i.unshift(hf),l.apply(null,i),this},hf.warnings=function(l){return ha(l)},hf.version="3.25.0",hf.stylesheet=hf.Stylesheet=dg,j.exports=hf},8767:(j,ae,x)=>{j.exports={graphlib:x(5849),layout:x(4395),debug:x(4232),util:{time:x(9505).time,notime:x(9505).notime},version:x(2187)}},1791:(j,ae,x)=>{"use strict";var T=x(3990),L=x(5123);j.exports={run:function O(S){var R="greedy"===S.graph().acyclicer?L(S,function N(B){return function(k){return B.edge(k).weight}}(S)):function I(S){var R=[],N={},B={};return T.forEach(S.nodes(),function k(F){T.has(B,F)||(B[F]=!0,N[F]=!0,T.forEach(S.outEdges(F),function(H){T.has(N,H.w)?R.push(H):k(H.w)}),delete N[F])}),R}(S);T.forEach(R,function(B){var k=S.edge(B);S.removeEdge(B),k.forwardName=B.name,k.reversed=!0,S.setEdge(B.w,B.v,k,T.uniqueId("rev"))})},undo:function C(S){T.forEach(S.edges(),function(R){var N=S.edge(R);if(N.reversed){S.removeEdge(R);var B=N.forwardName;delete N.reversed,delete N.forwardName,S.setEdge(R.w,R.v,N,B)}})}}},7130:(j,ae,x)=>{var T=x(3990),L=x(9505);function I(C,S,R,N,B,k){var H=B[S][k-1],$=L.addDummyNode(C,"border",{width:0,height:0,rank:k,borderType:S},R);B[S][k]=$,C.setParent($,N),H&&C.setEdge(H,$,{weight:1})}j.exports=function O(C){T.forEach(C.children(),function S(R){var N=C.children(R),B=C.node(R);if(N.length&&T.forEach(N,S),T.has(B,"minRank")){B.borderLeft=[],B.borderRight=[];for(var k=B.minRank,F=B.maxRank+1;k<F;++k)I(C,"borderLeft","_bl",R,B,k),I(C,"borderRight","_br",R,B,k)}})}},1048:(j,ae,x)=>{"use strict";var T=x(3990);function I(k){T.forEach(k.nodes(),function(F){C(k.node(F))}),T.forEach(k.edges(),function(F){C(k.edge(F))})}function C(k){var F=k.width;k.width=k.height,k.height=F}function R(k){k.y=-k.y}function B(k){var F=k.x;k.x=k.y,k.y=F}j.exports={adjust:function L(k){var F=k.graph().rankdir.toLowerCase();("lr"===F||"rl"===F)&&I(k)},undo:function O(k){var F=k.graph().rankdir.toLowerCase();("bt"===F||"rl"===F)&&function S(k){T.forEach(k.nodes(),function(F){R(k.node(F))}),T.forEach(k.edges(),function(F){var H=k.edge(F);T.forEach(H.points,R),T.has(H,"y")&&R(H)})}(k),("lr"===F||"rl"===F)&&(function N(k){T.forEach(k.nodes(),function(F){B(k.node(F))}),T.forEach(k.edges(),function(F){var H=k.edge(F);T.forEach(H.points,B),T.has(H,"x")&&B(H)})}(k),I(k))}}},4312:j=>{function ae(){var L={};L._next=L._prev=L,this._sentinel=L}function x(L){L._prev._next=L._next,L._next._prev=L._prev,delete L._next,delete L._prev}function T(L,O){if("_next"!==L&&"_prev"!==L)return O}j.exports=ae,ae.prototype.dequeue=function(){var L=this._sentinel,O=L._prev;if(O!==L)return x(O),O},ae.prototype.enqueue=function(L){var O=this._sentinel;L._prev&&L._next&&x(L),L._next=O._next,O._next._prev=L,O._next=L,L._prev=O},ae.prototype.toString=function(){for(var L=[],O=this._sentinel,I=O._prev;I!==O;)L.push(JSON.stringify(I,T)),I=I._prev;return"["+L.join(", ")+"]"}},4232:(j,ae,x)=>{var T=x(3990),L=x(9505),O=x(5849).Graph;j.exports={debugOrdering:function I(C){var S=L.buildLayerMatrix(C),R=new O({compound:!0,multigraph:!0}).setGraph({});return T.forEach(C.nodes(),function(N){R.setNode(N,{label:N}),R.setParent(N,"layer"+C.node(N).rank)}),T.forEach(C.edges(),function(N){R.setEdge(N.v,N.w,{},N.name)}),T.forEach(S,function(N,B){R.setNode("layer"+B,{rank:"same"}),T.reduce(N,function(F,H){return R.setEdge(F,H,{style:"invis"}),H})}),R}}},5849:(j,ae,x)=>{var T;try{T=x(9034)}catch{}T||(T=window.graphlib),j.exports=T},5123:(j,ae,x)=>{var T=x(3990),L=x(5849).Graph,O=x(4312);j.exports=function C(k,F){if(k.nodeCount()<=1)return[];var H=function N(k,F){var H=new L,$=0,J=0;T.forEach(k.nodes(),function(le){H.setNode(le,{v:le,in:0,out:0})}),T.forEach(k.edges(),function(le){var se=H.edge(le.v,le.w)||0,he=F(le);H.setEdge(le.v,le.w,se+he),J=Math.max(J,H.node(le.v).out+=he),$=Math.max($,H.node(le.w).in+=he)});var ce=T.range(J+$+3).map(function(){return new O}),ne=$+1;return T.forEach(H.nodes(),function(le){B(ce,ne,H.node(le))}),{graph:H,buckets:ce,zeroIdx:ne}}(k,F||I),$=function S(k,F,H){for(var ne,$=[],J=F[F.length-1],ce=F[0];k.nodeCount();){for(;ne=ce.dequeue();)R(k,F,H,ne);for(;ne=J.dequeue();)R(k,F,H,ne);if(k.nodeCount())for(var le=F.length-2;le>0;--le)if(ne=F[le].dequeue()){$=$.concat(R(k,F,H,ne,!0));break}}return $}(H.graph,H.buckets,H.zeroIdx);return T.flatten(T.map($,function(J){return k.outEdges(J.v,J.w)}),!0)};var I=T.constant(1);function R(k,F,H,$,J){var ce=J?[]:void 0;return T.forEach(k.inEdges($.v),function(ne){var le=k.edge(ne),se=k.node(ne.v);J&&ce.push({v:ne.v,w:ne.w}),se.out-=le,B(F,H,se)}),T.forEach(k.outEdges($.v),function(ne){var le=k.edge(ne),he=k.node(ne.w);he.in-=le,B(F,H,he)}),k.removeNode($.v),ce}function B(k,F,H){H.out?H.in?k[H.out-H.in+F].enqueue(H):k[k.length-1].enqueue(H):k[0].enqueue(H)}},4395:(j,ae,x)=>{"use strict";var T=x(3990),L=x(1791),O=x(1684),I=x(3752),C=x(9505).normalizeRanks,S=x(1250),R=x(9505).removeEmptyRanks,N=x(4525),B=x(7130),k=x(1048),F=x(1574),H=x(6403),$=x(9505),J=x(5849).Graph;j.exports=function ce(nt,Qe){var lt=Qe&&Qe.debugTiming?$.time:$.notime;lt("layout",function(){var Lt=lt("  buildLayoutGraph",function(){return function we(nt){var Qe=new J({multigraph:!0,compound:!0}),lt=ln(nt.graph());return Qe.setGraph(T.merge({},he,cn(lt,se),T.pick(lt,ee))),T.forEach(nt.nodes(),function(Lt){var Rt=ln(nt.node(Lt));Qe.setNode(Lt,T.defaults(cn(Rt,pe),K)),Qe.setParent(Lt,nt.parent(Lt))}),T.forEach(nt.edges(),function(Lt){var Rt=ln(nt.edge(Lt));Qe.setEdge(Lt,T.merge({},ie,cn(Rt,oe),T.pick(Rt,ge)))}),Qe}(nt)});lt("  runLayout",function(){!function ne(nt,Qe){Qe("    makeSpaceForEdgeLabels",function(){!function Se(nt){var Qe=nt.graph();Qe.ranksep/=2,T.forEach(nt.edges(),function(lt){var Lt=nt.edge(lt);Lt.minlen*=2,"c"!==Lt.labelpos.toLowerCase()&&("TB"===Qe.rankdir||"BT"===Qe.rankdir?Lt.width+=Lt.labeloffset:Lt.height+=Lt.labeloffset)})}(nt)}),Qe("    removeSelfEdges",function(){!function Yt(nt){T.forEach(nt.edges(),function(Qe){if(Qe.v===Qe.w){var lt=nt.node(Qe.v);lt.selfEdges||(lt.selfEdges=[]),lt.selfEdges.push({e:Qe,label:nt.edge(Qe)}),nt.removeEdge(Qe)}})}(nt)}),Qe("    acyclic",function(){L.run(nt)}),Qe("    nestingGraph.run",function(){N.run(nt)}),Qe("    rank",function(){I($.asNonCompoundGraph(nt))}),Qe("    injectEdgeLabelProxies",function(){!function xe(nt){T.forEach(nt.edges(),function(Qe){var lt=nt.edge(Qe);if(lt.width&&lt.height){var Lt=nt.node(Qe.v),Rt=nt.node(Qe.w);$.addDummyNode(nt,"edge-proxy",{rank:(Rt.rank-Lt.rank)/2+Lt.rank,e:Qe},"_ep")}})}(nt)}),Qe("    removeEmptyRanks",function(){R(nt)}),Qe("    nestingGraph.cleanup",function(){N.cleanup(nt)}),Qe("    normalizeRanks",function(){C(nt)}),Qe("    assignRankMinMax",function(){!function Ve(nt){var Qe=0;T.forEach(nt.nodes(),function(lt){var Lt=nt.node(lt);Lt.borderTop&&(Lt.minRank=nt.node(Lt.borderTop).rank,Lt.maxRank=nt.node(Lt.borderBottom).rank,Qe=T.max(Qe,Lt.maxRank))}),nt.graph().maxRank=Qe}(nt)}),Qe("    removeEdgeLabelProxies",function(){!function _e(nt){T.forEach(nt.nodes(),function(Qe){var lt=nt.node(Qe);"edge-proxy"===lt.dummy&&(nt.edge(lt.e).labelRank=lt.rank,nt.removeNode(Qe))})}(nt)}),Qe("    normalize.run",function(){O.run(nt)}),Qe("    parentDummyChains",function(){S(nt)}),Qe("    addBorderSegments",function(){B(nt)}),Qe("    order",function(){F(nt)}),Qe("    insertSelfEdges",function(){!function _t(nt){var Qe=$.buildLayerMatrix(nt);T.forEach(Qe,function(lt){var Lt=0;T.forEach(lt,function(Rt,Bn){var Hn=nt.node(Rt);Hn.order=Bn+Lt,T.forEach(Hn.selfEdges,function(vr){$.addDummyNode(nt,"selfedge",{width:vr.label.width,height:vr.label.height,rank:Hn.rank,order:Bn+ ++Lt,e:vr.e,label:vr.label},"_se")}),delete Hn.selfEdges})})}(nt)}),Qe("    adjustCoordinateSystem",function(){k.adjust(nt)}),Qe("    position",function(){H(nt)}),Qe("    positionSelfEdges",function(){!function Ut(nt){T.forEach(nt.nodes(),function(Qe){var lt=nt.node(Qe);if("selfedge"===lt.dummy){var Lt=nt.node(lt.e.v),Rt=Lt.x+Lt.width/2,Bn=Lt.y,Hn=lt.x-Rt,vr=Lt.height/2;nt.setEdge(lt.e,lt.label),nt.removeNode(Qe),lt.label.points=[{x:Rt+2*Hn/3,y:Bn-vr},{x:Rt+5*Hn/6,y:Bn-vr},{x:Rt+Hn,y:Bn},{x:Rt+5*Hn/6,y:Bn+vr},{x:Rt+2*Hn/3,y:Bn+vr}],lt.label.x=lt.x,lt.label.y=lt.y}})}(nt)}),Qe("    removeBorderNodes",function(){!function $e(nt){T.forEach(nt.nodes(),function(Qe){if(nt.children(Qe).length){var lt=nt.node(Qe),Lt=nt.node(lt.borderTop),Rt=nt.node(lt.borderBottom),Bn=nt.node(T.last(lt.borderLeft)),Hn=nt.node(T.last(lt.borderRight));lt.width=Math.abs(Hn.x-Bn.x),lt.height=Math.abs(Rt.y-Lt.y),lt.x=Bn.x+lt.width/2,lt.y=Lt.y+lt.height/2}}),T.forEach(nt.nodes(),function(Qe){"border"===nt.node(Qe).dummy&&nt.removeNode(Qe)})}(nt)}),Qe("    normalize.undo",function(){O.undo(nt)}),Qe("    fixupEdgeLabelCoords",function(){!function Xe(nt){T.forEach(nt.edges(),function(Qe){var lt=nt.edge(Qe);if(T.has(lt,"x"))switch(("l"===lt.labelpos||"r"===lt.labelpos)&&(lt.width-=lt.labeloffset),lt.labelpos){case"l":lt.x-=lt.width/2+lt.labeloffset;break;case"r":lt.x+=lt.width/2+lt.labeloffset}})}(nt)}),Qe("    undoCoordinateSystem",function(){k.undo(nt)}),Qe("    translateGraph",function(){!function et(nt){var Qe=Number.POSITIVE_INFINITY,lt=0,Lt=Number.POSITIVE_INFINITY,Rt=0,Bn=nt.graph(),Hn=Bn.marginx||0,vr=Bn.marginy||0;function Dr(fr){var hn=fr.x,An=fr.y,kr=fr.width,nn=fr.height;Qe=Math.min(Qe,hn-kr/2),lt=Math.max(lt,hn+kr/2),Lt=Math.min(Lt,An-nn/2),Rt=Math.max(Rt,An+nn/2)}T.forEach(nt.nodes(),function(fr){Dr(nt.node(fr))}),T.forEach(nt.edges(),function(fr){var hn=nt.edge(fr);T.has(hn,"x")&&Dr(hn)}),Qe-=Hn,Lt-=vr,T.forEach(nt.nodes(),function(fr){var hn=nt.node(fr);hn.x-=Qe,hn.y-=Lt}),T.forEach(nt.edges(),function(fr){var hn=nt.edge(fr);T.forEach(hn.points,function(An){An.x-=Qe,An.y-=Lt}),T.has(hn,"x")&&(hn.x-=Qe),T.has(hn,"y")&&(hn.y-=Lt)}),Bn.width=lt-Qe+Hn,Bn.height=Rt-Lt+vr}(nt)}),Qe("    assignNodeIntersects",function(){!function at(nt){T.forEach(nt.edges(),function(Qe){var Bn,Hn,lt=nt.edge(Qe),Lt=nt.node(Qe.v),Rt=nt.node(Qe.w);lt.points?(Bn=lt.points[0],Hn=lt.points[lt.points.length-1]):(lt.points=[],Bn=Rt,Hn=Lt),lt.points.unshift($.intersectRect(Lt,Bn)),lt.points.push($.intersectRect(Rt,Hn))})}(nt)}),Qe("    reversePoints",function(){!function yt(nt){T.forEach(nt.edges(),function(Qe){var lt=nt.edge(Qe);lt.reversed&&lt.points.reverse()})}(nt)}),Qe("    acyclic.undo",function(){L.undo(nt)})}(Lt,lt)}),lt("  updateInputGraph",function(){!function le(nt,Qe){T.forEach(nt.nodes(),function(lt){var Lt=nt.node(lt),Rt=Qe.node(lt);Lt&&(Lt.x=Rt.x,Lt.y=Rt.y,Qe.children(lt).length&&(Lt.width=Rt.width,Lt.height=Rt.height))}),T.forEach(nt.edges(),function(lt){var Lt=nt.edge(lt),Rt=Qe.edge(lt);Lt.points=Rt.points,T.has(Rt,"x")&&(Lt.x=Rt.x,Lt.y=Rt.y)}),nt.graph().width=Qe.graph().width,nt.graph().height=Qe.graph().height}(nt,Lt)})})};var se=["nodesep","edgesep","ranksep","marginx","marginy"],he={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ee=["acyclicer","ranker","rankdir","align"],pe=["width","height"],K={width:0,height:0},oe=["minlen","weight","width","height","labeloffset"],ie={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ge=["labelpos"];function cn(nt,Qe){return T.mapValues(T.pick(nt,Qe),Number)}function ln(nt){var Qe={};return T.forEach(nt,function(lt,Lt){Qe[Lt.toLowerCase()]=lt}),Qe}},3990:(j,ae,x)=>{var T;try{T={cloneDeep:x(4451),constant:x(1075),defaults:x(5433),each:x(6488),filter:x(7661),find:x(6177),flatten:x(9336),forEach:x(7170),forIn:x(1658),has:x(8669),isUndefined:x(8152),last:x(2819),map:x(8921),mapValues:x(6054),max:x(5664),merge:x(2213),min:x(1007),minBy:x(50),now:x(5533),pick:x(7607),range:x(5953),reduce:x(5909),sortBy:x(7184),uniqueId:x(4538),values:x(8808),zipObject:x(4606)}}catch{}T||(T=window._),j.exports=T},4525:(j,ae,x)=>{var T=x(3990),L=x(9505);function I(N,B,k,F,H,$,J){var ce=N.children(J);if(ce.length){var ne=L.addBorderNode(N,"_bt"),le=L.addBorderNode(N,"_bb"),se=N.node(J);N.setParent(ne,J),se.borderTop=ne,N.setParent(le,J),se.borderBottom=le,T.forEach(ce,function(he){I(N,B,k,F,H,$,he);var ee=N.node(he),pe=ee.borderTop?ee.borderTop:he,K=ee.borderBottom?ee.borderBottom:he,oe=ee.borderTop?F:2*F,ie=pe!==K?1:H-$[J]+1;N.setEdge(ne,pe,{weight:oe,minlen:ie,nestingEdge:!0}),N.setEdge(K,le,{weight:oe,minlen:ie,nestingEdge:!0})}),N.parent(J)||N.setEdge(B,ne,{weight:0,minlen:H+$[J]})}else J!==B&&N.setEdge(B,J,{weight:0,minlen:k})}j.exports={run:function O(N){var B=L.addDummyNode(N,"root",{},"_root"),k=function C(N){var B={};function k(F,H){var $=N.children(F);$&&$.length&&T.forEach($,function(J){k(J,H+1)}),B[F]=H}return T.forEach(N.children(),function(F){k(F,1)}),B}(N),F=T.max(T.values(k))-1,H=2*F+1;N.graph().nestingRoot=B,T.forEach(N.edges(),function(J){N.edge(J).minlen*=H});var $=function S(N){return T.reduce(N.edges(),function(B,k){return B+N.edge(k).weight},0)}(N)+1;T.forEach(N.children(),function(J){I(N,B,H,$,F,k,J)}),N.graph().nodeRankFactor=H},cleanup:function R(N){var B=N.graph();N.removeNode(B.nestingRoot),delete B.nestingRoot,T.forEach(N.edges(),function(k){N.edge(k).nestingEdge&&N.removeEdge(k)})}}},1684:(j,ae,x)=>{"use strict";var T=x(3990),L=x(9505);j.exports={run:function O(S){S.graph().dummyChains=[],T.forEach(S.edges(),function(R){!function I(S,R){var N=R.v,B=S.node(N).rank,k=R.w,F=S.node(k).rank,H=R.name,$=S.edge(R),J=$.labelRank;if(F!==B+1){var ce,ne,le;for(S.removeEdge(R),le=0,++B;B<F;++le,++B)$.points=[],ce=L.addDummyNode(S,"edge",ne={width:0,height:0,edgeLabel:$,edgeObj:R,rank:B},"_d"),B===J&&(ne.width=$.width,ne.height=$.height,ne.dummy="edge-label",ne.labelpos=$.labelpos),S.setEdge(N,ce,{weight:$.weight},H),0===le&&S.graph().dummyChains.push(ce),N=ce;S.setEdge(N,k,{weight:$.weight},H)}}(S,R)})},undo:function C(S){T.forEach(S.graph().dummyChains,function(R){var k,N=S.node(R),B=N.edgeLabel;for(S.setEdge(N.edgeObj,B);N.dummy;)k=S.successors(R)[0],S.removeNode(R),B.points.push({x:N.x,y:N.y}),"edge-label"===N.dummy&&(B.x=N.x,B.y=N.y,B.width=N.width,B.height=N.height),N=S.node(R=k)})}}},9821:(j,ae,x)=>{var T=x(3990);j.exports=function L(O,I,C){var R,S={};T.forEach(C,function(N){for(var k,F,B=O.parent(N);B;){if((k=O.parent(B))?(F=S[k],S[k]=B):(F=R,R=B),F&&F!==B)return void I.setEdge(F,B);B=k}})}},7995:(j,ae,x)=>{var T=x(3990);j.exports=function L(O,I){return T.map(I,function(C){var S=O.inEdges(C);if(S.length){var R=T.reduce(S,function(N,B){var k=O.edge(B),F=O.node(B.v);return{sum:N.sum+k.weight*F.order,weight:N.weight+k.weight}},{sum:0,weight:0});return{v:C,barycenter:R.sum/R.weight,weight:R.weight}}return{v:C}})}},9384:(j,ae,x)=>{var T=x(3990),L=x(5849).Graph;j.exports=function O(C,S,R){var N=function I(C){for(var S;C.hasNode(S=T.uniqueId("_root")););return S}(C),B=new L({compound:!0}).setGraph({root:N}).setDefaultNodeLabel(function(k){return C.node(k)});return T.forEach(C.nodes(),function(k){var F=C.node(k),H=C.parent(k);(F.rank===S||F.minRank<=S&&S<=F.maxRank)&&(B.setNode(k),B.setParent(k,H||N),T.forEach(C[R](k),function($){var J=$.v===k?$.w:$.v,ce=B.edge(J,k),ne=T.isUndefined(ce)?0:ce.weight;B.setEdge(J,k,{weight:C.edge($).weight+ne})}),T.has(F,"minRank")&&B.setNode(k,{borderLeft:F.borderLeft[S],borderRight:F.borderRight[S]}))}),B}},444:(j,ae,x)=>{"use strict";var T=x(3990);function O(I,C,S){for(var R=T.zipObject(S,T.map(S,function($,J){return J})),N=T.flatten(T.map(C,function($){return T.sortBy(T.map(I.outEdges($),function(J){return{pos:R[J.w],weight:I.edge(J).weight}}),"pos")}),!0),B=1;B<S.length;)B<<=1;var k=2*B-1;B-=1;var F=T.map(new Array(k),function(){return 0}),H=0;return T.forEach(N.forEach(function($){var J=$.pos+B;F[J]+=$.weight;for(var ce=0;J>0;)J%2&&(ce+=F[J+1]),F[J=J-1>>1]+=$.weight;H+=$.weight*ce})),H}j.exports=function L(I,C){for(var S=0,R=1;R<C.length;++R)S+=O(I,C[R-1],C[R]);return S}},1574:(j,ae,x)=>{"use strict";var T=x(3990),L=x(320),O=x(444),I=x(8005),C=x(9384),S=x(9821),R=x(5849).Graph,N=x(9505);function k($,J,ce){return T.map(J,function(ne){return C($,ne,ce)})}function F($,J){var ce=new R;T.forEach($,function(ne){var le=ne.graph().root,se=I(ne,le,ce,J);T.forEach(se.vs,function(he,ee){ne.node(he).order=ee}),S(ne,ce,se.vs)})}function H($,J){T.forEach(J,function(ce){T.forEach(ce,function(ne,le){$.node(ne).order=le})})}j.exports=function B($){var J=N.maxRank($),ce=k($,T.range(1,J+1),"inEdges"),ne=k($,T.range(J-1,-1,-1),"outEdges"),le=L($);H($,le);for(var he,se=Number.POSITIVE_INFINITY,ee=0,pe=0;pe<4;++ee,++pe){F(ee%2?ce:ne,ee%4>=2),le=N.buildLayerMatrix($);var K=O($,le);K<se&&(pe=0,he=T.cloneDeep(le),se=K)}H($,he)}},320:(j,ae,x)=>{"use strict";var T=x(3990);j.exports=function L(O){var I={},C=T.filter(O.nodes(),function(k){return!O.children(k).length}),S=T.max(T.map(C,function(k){return O.node(k).rank})),R=T.map(T.range(S+1),function(){return[]}),B=T.sortBy(C,function(k){return O.node(k).rank});return T.forEach(B,function N(k){if(!T.has(I,k)){I[k]=!0;var F=O.node(k);R[F.rank].push(k),T.forEach(O.successors(k),N)}}),R}},6686:(j,ae,x)=>{"use strict";var T=x(3990);j.exports=function L(C,S){var R={};return T.forEach(C,function(B,k){var F=R[B.v]={indegree:0,in:[],out:[],vs:[B.v],i:k};T.isUndefined(B.barycenter)||(F.barycenter=B.barycenter,F.weight=B.weight)}),T.forEach(S.edges(),function(B){var k=R[B.v],F=R[B.w];!T.isUndefined(k)&&!T.isUndefined(F)&&(F.indegree++,k.out.push(R[B.w]))}),function O(C){var S=[];function R(k){return function(F){F.merged||(T.isUndefined(F.barycenter)||T.isUndefined(k.barycenter)||F.barycenter>=k.barycenter)&&function I(C,S){var R=0,N=0;C.weight&&(R+=C.barycenter*C.weight,N+=C.weight),S.weight&&(R+=S.barycenter*S.weight,N+=S.weight),C.vs=S.vs.concat(C.vs),C.barycenter=R/N,C.weight=N,C.i=Math.min(S.i,C.i),S.merged=!0}(k,F)}}function N(k){return function(F){F.in.push(k),0==--F.indegree&&C.push(F)}}for(;C.length;){var B=C.pop();S.push(B),T.forEach(B.in.reverse(),R(B)),T.forEach(B.out,N(B))}return T.map(T.filter(S,function(k){return!k.merged}),function(k){return T.pick(k,["vs","i","barycenter","weight"])})}(T.filter(R,function(B){return!B.indegree}))}},8005:(j,ae,x)=>{var T=x(3990),L=x(7995),O=x(6686),I=x(8380);j.exports=function C(N,B,k,F){var H=N.children(B),$=N.node(B),J=$?$.borderLeft:void 0,ce=$?$.borderRight:void 0,ne={};J&&(H=T.filter(H,function(K){return K!==J&&K!==ce}));var le=L(N,H);T.forEach(le,function(K){if(N.children(K.v).length){var oe=C(N,K.v,k,F);ne[K.v]=oe,T.has(oe,"barycenter")&&function R(N,B){T.isUndefined(N.barycenter)?(N.barycenter=B.barycenter,N.weight=B.weight):(N.barycenter=(N.barycenter*N.weight+B.barycenter*B.weight)/(N.weight+B.weight),N.weight+=B.weight)}(K,oe)}});var se=O(le,k);!function S(N,B){T.forEach(N,function(k){k.vs=T.flatten(k.vs.map(function(F){return B[F]?B[F].vs:F}),!0)})}(se,ne);var he=I(se,F);if(J&&(he.vs=T.flatten([J,he.vs,ce],!0),N.predecessors(J).length)){var ee=N.node(N.predecessors(J)[0]),pe=N.node(N.predecessors(ce)[0]);T.has(he,"barycenter")||(he.barycenter=0,he.weight=0),he.barycenter=(he.barycenter*he.weight+ee.order+pe.order)/(he.weight+2),he.weight+=2}return he}},8380:(j,ae,x)=>{var T=x(3990),L=x(9505);function I(S,R,N){for(var B;R.length&&(B=T.last(R)).i<=N;)R.pop(),S.push(B.vs),N++;return N}j.exports=function O(S,R){var N=L.partition(S,function(ne){return T.has(ne,"barycenter")}),B=N.lhs,k=T.sortBy(N.rhs,function(ne){return-ne.i}),F=[],H=0,$=0,J=0;B.sort(function C(S){return function(R,N){return R.barycenter<N.barycenter?-1:R.barycenter>N.barycenter?1:S?N.i-R.i:R.i-N.i}}(!!R)),J=I(F,k,J),T.forEach(B,function(ne){J+=ne.vs.length,F.push(ne.vs),H+=ne.barycenter*ne.weight,$+=ne.weight,J=I(F,k,J)});var ce={vs:T.flatten(F,!0)};return $&&(ce.barycenter=H/$,ce.weight=$),ce}},1250:(j,ae,x)=>{var T=x(3990);j.exports=function L(C){var S=function I(C){var S={},R=0;return T.forEach(C.children(),function N(B){var k=R;T.forEach(C.children(B),N),S[B]={low:k,lim:R++}}),S}(C);T.forEach(C.graph().dummyChains,function(R){for(var N=C.node(R),B=N.edgeObj,k=function O(C,S,R,N){var $,J,B=[],k=[],F=Math.min(S[R].low,S[N].low),H=Math.max(S[R].lim,S[N].lim);$=R;do{$=C.parent($),B.push($)}while($&&(S[$].low>F||H>S[$].lim));for(J=$,$=N;($=C.parent($))!==J;)k.push($);return{path:B.concat(k.reverse()),lca:J}}(C,S,B.v,B.w),F=k.path,H=k.lca,$=0,J=F[$],ce=!0;R!==B.w;){if(N=C.node(R),ce){for(;(J=F[$])!==H&&C.node(J).maxRank<N.rank;)$++;J===H&&(ce=!1)}if(!ce){for(;$<F.length-1&&C.node(J=F[$+1]).minRank<=N.rank;)$++;J=F[$]}C.setParent(R,J),R=C.successors(R)[0]}})}},8851:(j,ae,x)=>{"use strict";var T=x(3990),L=x(5849).Graph,O=x(9505);function I(se,he){var ee={};return T.reduce(he,function pe(K,oe){var ie=0,ge=0,we=K.length,Se=T.last(oe);return T.forEach(oe,function(xe,Ve){var _e=function S(se,he){if(se.node(he).dummy)return T.find(se.predecessors(he),function(ee){return se.node(ee).dummy})}(se,xe),et=_e?se.node(_e).order:we;(_e||xe===Se)&&(T.forEach(oe.slice(ge,Ve+1),function(at){T.forEach(se.predecessors(at),function(Xe){var yt=se.node(Xe),$e=yt.order;($e<ie||et<$e)&&(!yt.dummy||!se.node(at).dummy)&&R(ee,Xe,at)})}),ge=Ve+1,ie=et)}),oe}),ee}function C(se,he){var ee={};function pe(oe,ie,ge,we,Se){var xe;T.forEach(T.range(ie,ge),function(Ve){se.node(xe=oe[Ve]).dummy&&T.forEach(se.predecessors(xe),function(_e){var et=se.node(_e);et.dummy&&(et.order<we||et.order>Se)&&R(ee,_e,xe)})})}return T.reduce(he,function K(oe,ie){var we,ge=-1,Se=0;return T.forEach(ie,function(xe,Ve){if("border"===se.node(xe).dummy){var _e=se.predecessors(xe);_e.length&&(we=se.node(_e[0]).order,pe(ie,Se,Ve,ge,we),Se=Ve,ge=we)}pe(ie,Se,ie.length,we,oe.length)}),ie}),ee}function R(se,he,ee){if(he>ee){var pe=he;he=ee,ee=pe}var K=se[he];K||(se[he]=K={}),K[ee]=!0}function N(se,he,ee){if(he>ee){var pe=he;he=ee,ee=pe}return T.has(se[he],ee)}function B(se,he,ee,pe){var K={},oe={},ie={};return T.forEach(he,function(ge){T.forEach(ge,function(we,Se){K[we]=we,oe[we]=we,ie[we]=Se})}),T.forEach(he,function(ge){var we=-1;T.forEach(ge,function(Se){var xe=pe(Se);if(xe.length)for(var Ve=((xe=T.sortBy(xe,function(Xe){return ie[Xe]})).length-1)/2,_e=Math.floor(Ve),et=Math.ceil(Ve);_e<=et;++_e){var at=xe[_e];oe[Se]===Se&&we<ie[at]&&!N(ee,Se,at)&&(oe[at]=Se,oe[Se]=K[Se]=K[at],we=ie[at])}})}),{root:K,align:oe}}function k(se,he,ee,pe,K){var oe={},ie=function F(se,he,ee,pe){var K=new L,oe=se.graph(),ie=function ne(se,he,ee){return function(pe,K,oe){var Se,ie=pe.node(K),ge=pe.node(oe),we=0;if(we+=ie.width/2,T.has(ie,"labelpos"))switch(ie.labelpos.toLowerCase()){case"l":Se=-ie.width/2;break;case"r":Se=ie.width/2}if(Se&&(we+=ee?Se:-Se),Se=0,we+=(ie.dummy?he:se)/2,we+=(ge.dummy?he:se)/2,we+=ge.width/2,T.has(ge,"labelpos"))switch(ge.labelpos.toLowerCase()){case"l":Se=ge.width/2;break;case"r":Se=-ge.width/2}return Se&&(we+=ee?Se:-Se),Se=0,we}}(oe.nodesep,oe.edgesep,pe);return T.forEach(he,function(ge){var we;T.forEach(ge,function(Se){var xe=ee[Se];if(K.setNode(xe),we){var Ve=ee[we],_e=K.edge(Ve,xe);K.setEdge(Ve,xe,Math.max(ie(se,Se,we),_e||0))}we=Se})}),K}(se,he,ee,K),ge=K?"borderLeft":"borderRight";function we(Ve,_e){for(var et=ie.nodes(),at=et.pop(),Xe={};at;)Xe[at]?Ve(at):(Xe[at]=!0,et.push(at),et=et.concat(_e(at))),at=et.pop()}return we(function Se(Ve){oe[Ve]=ie.inEdges(Ve).reduce(function(_e,et){return Math.max(_e,oe[et.v]+ie.edge(et))},0)},ie.predecessors.bind(ie)),we(function xe(Ve){var _e=ie.outEdges(Ve).reduce(function(at,Xe){return Math.min(at,oe[Xe.w]-ie.edge(Xe))},Number.POSITIVE_INFINITY),et=se.node(Ve);_e!==Number.POSITIVE_INFINITY&&et.borderType!==ge&&(oe[Ve]=Math.max(oe[Ve],_e))},ie.successors.bind(ie)),T.forEach(pe,function(Ve){oe[Ve]=oe[ee[Ve]]}),oe}function H(se,he){return T.minBy(T.values(he),function(ee){var pe=Number.NEGATIVE_INFINITY,K=Number.POSITIVE_INFINITY;return T.forIn(ee,function(oe,ie){var ge=function le(se,he){return se.node(he).width}(se,ie)/2;pe=Math.max(oe+ge,pe),K=Math.min(oe-ge,K)}),pe-K})}function $(se,he){var ee=T.values(he),pe=T.min(ee),K=T.max(ee);T.forEach(["u","d"],function(oe){T.forEach(["l","r"],function(ie){var Se,ge=oe+ie,we=se[ge];if(we!==he){var xe=T.values(we);(Se="l"===ie?pe-T.min(xe):K-T.max(xe))&&(se[ge]=T.mapValues(we,function(Ve){return Ve+Se}))}})})}function J(se,he){return T.mapValues(se.ul,function(ee,pe){if(he)return se[he.toLowerCase()][pe];var K=T.sortBy(T.map(se,pe));return(K[1]+K[2])/2})}j.exports={positionX:function ce(se){var K,he=O.buildLayerMatrix(se),ee=T.merge(I(se,he),C(se,he)),pe={};T.forEach(["u","d"],function(ie){K="u"===ie?he:T.values(he).reverse(),T.forEach(["l","r"],function(ge){"r"===ge&&(K=T.map(K,function(Ve){return T.values(Ve).reverse()}));var we=("u"===ie?se.predecessors:se.successors).bind(se),Se=B(0,K,ee,we),xe=k(se,K,Se.root,Se.align,"r"===ge);"r"===ge&&(xe=T.mapValues(xe,function(Ve){return-Ve})),pe[ie+ge]=xe})});var oe=H(se,pe);return $(pe,oe),J(pe,se.graph().align)},findType1Conflicts:I,findType2Conflicts:C,addConflict:R,hasConflict:N,verticalAlignment:B,horizontalCompaction:k,alignCoordinates:$,findSmallestWidthAlignment:H,balance:J}},6403:(j,ae,x)=>{"use strict";var T=x(3990),L=x(9505),O=x(8851).positionX;j.exports=function I(S){(function C(S){var R=L.buildLayerMatrix(S),N=S.graph().ranksep,B=0;T.forEach(R,function(k){var F=T.max(T.map(k,function(H){return S.node(H).height}));T.forEach(k,function(H){S.node(H).y=B+F/2}),B+=F+N})})(S=L.asNonCompoundGraph(S)),T.forEach(O(S),function(R,N){S.node(N).x=R})}},8214:(j,ae,x)=>{"use strict";var T=x(3990),L=x(5849).Graph,O=x(4216).slack;function C(N,B){return T.forEach(N.nodes(),function k(F){T.forEach(B.nodeEdges(F),function(H){var $=H.v,J=F===$?H.w:$;!N.hasNode(J)&&!O(B,H)&&(N.setNode(J,{}),N.setEdge(F,J,{}),k(J))})}),N.nodeCount()}function S(N,B){return T.minBy(B.edges(),function(k){if(N.hasNode(k.v)!==N.hasNode(k.w))return O(B,k)})}function R(N,B,k){T.forEach(N.nodes(),function(F){B.node(F).rank+=k})}j.exports=function I(N){var H,$,B=new L({directed:!1}),k=N.nodes()[0],F=N.nodeCount();for(B.setNode(k,{});C(B,N)<F;)H=S(B,N),$=B.hasNode(H.v)?O(N,H):-O(N,H),R(B,N,$);return B}},3752:(j,ae,x)=>{"use strict";var L=x(4216).longestPath,O=x(8214),I=x(4857);j.exports=function C(B){switch(B.graph().ranker){case"network-simplex":default:!function N(B){I(B)}(B);break;case"tight-tree":!function R(B){L(B),O(B)}(B);break;case"longest-path":S(B)}};var S=L},4857:(j,ae,x)=>{"use strict";var T=x(3990),L=x(8214),O=x(4216).slack,I=x(4216).longestPath,C=x(5849).alg.preorder,S=x(5849).alg.postorder,R=x(9505).simplify;function N(ee){ee=R(ee),I(ee);var K,pe=L(ee);for(H(pe),B(pe,ee);K=J(pe);)ne(pe,ee,K,ce(pe,ee,K))}function B(ee,pe){var K=S(ee,ee.nodes());K=K.slice(0,K.length-1),T.forEach(K,function(oe){!function k(ee,pe,K){var oe=ee.node(K);ee.edge(K,oe.parent).cutvalue=F(ee,pe,K)}(ee,pe,oe)})}function F(ee,pe,K){var ie=ee.node(K).parent,ge=!0,we=pe.edge(K,ie),Se=0;return we||(ge=!1,we=pe.edge(ie,K)),Se=we.weight,T.forEach(pe.nodeEdges(K),function(xe){var Ve=xe.v===K,_e=Ve?xe.w:xe.v;if(_e!==ie){var et=Ve===ge,at=pe.edge(xe).weight;if(Se+=et?at:-at,function se(ee,pe,K){return ee.hasEdge(pe,K)}(ee,K,_e)){var Xe=ee.edge(K,_e).cutvalue;Se+=et?-Xe:Xe}}}),Se}function H(ee,pe){arguments.length<2&&(pe=ee.nodes()[0]),$(ee,{},1,pe)}function $(ee,pe,K,oe,ie){var ge=K,we=ee.node(oe);return pe[oe]=!0,T.forEach(ee.neighbors(oe),function(Se){T.has(pe,Se)||(K=$(ee,pe,K,Se,oe))}),we.low=ge,we.lim=K++,ie?we.parent=ie:delete we.parent,K}function J(ee){return T.find(ee.edges(),function(pe){return ee.edge(pe).cutvalue<0})}function ce(ee,pe,K){var oe=K.v,ie=K.w;pe.hasEdge(oe,ie)||(oe=K.w,ie=K.v);var ge=ee.node(oe),we=ee.node(ie),Se=ge,xe=!1;ge.lim>we.lim&&(Se=we,xe=!0);var Ve=T.filter(pe.edges(),function(_e){return xe===he(0,ee.node(_e.v),Se)&&xe!==he(0,ee.node(_e.w),Se)});return T.minBy(Ve,function(_e){return O(pe,_e)})}function ne(ee,pe,K,oe){ee.removeEdge(K.v,K.w),ee.setEdge(oe.v,oe.w,{}),H(ee),B(ee,pe),function le(ee,pe){var K=T.find(ee.nodes(),function(ie){return!pe.node(ie).parent}),oe=C(ee,K);oe=oe.slice(1),T.forEach(oe,function(ie){var ge=ee.node(ie).parent,we=pe.edge(ie,ge),Se=!1;we||(we=pe.edge(ge,ie),Se=!0),pe.node(ie).rank=pe.node(ge).rank+(Se?we.minlen:-we.minlen)})}(ee,pe)}function he(ee,pe,K){return K.low<=pe.lim&&pe.lim<=K.lim}j.exports=N,N.initLowLimValues=H,N.initCutValues=B,N.calcCutValue=F,N.leaveEdge=J,N.enterEdge=ce,N.exchangeEdges=ne},4216:(j,ae,x)=>{"use strict";var T=x(3990);j.exports={longestPath:function L(I){var C={};T.forEach(I.sources(),function S(R){var N=I.node(R);if(T.has(C,R))return N.rank;C[R]=!0;var B=T.min(T.map(I.outEdges(R),function(k){return S(k.w)-I.edge(k).minlen}));return(B===Number.POSITIVE_INFINITY||null==B)&&(B=0),N.rank=B})},slack:function O(I,C){return I.node(C.w).rank-I.node(C.v).rank-I.edge(C).minlen}}},9505:(j,ae,x)=>{"use strict";var T=x(3990),L=x(5849).Graph;function O(le,se,he,ee){var pe;do{pe=T.uniqueId(ee)}while(le.hasNode(pe));return he.dummy=se,le.setNode(pe,he),pe}function $(le){return T.max(T.map(le.nodes(),function(se){var he=le.node(se).rank;if(!T.isUndefined(he))return he}))}j.exports={addDummyNode:O,simplify:function I(le){var se=(new L).setGraph(le.graph());return T.forEach(le.nodes(),function(he){se.setNode(he,le.node(he))}),T.forEach(le.edges(),function(he){var ee=se.edge(he.v,he.w)||{weight:0,minlen:1},pe=le.edge(he);se.setEdge(he.v,he.w,{weight:ee.weight+pe.weight,minlen:Math.max(ee.minlen,pe.minlen)})}),se},asNonCompoundGraph:function C(le){var se=new L({multigraph:le.isMultigraph()}).setGraph(le.graph());return T.forEach(le.nodes(),function(he){le.children(he).length||se.setNode(he,le.node(he))}),T.forEach(le.edges(),function(he){se.setEdge(he,le.edge(he))}),se},successorWeights:function S(le){var se=T.map(le.nodes(),function(he){var ee={};return T.forEach(le.outEdges(he),function(pe){ee[pe.w]=(ee[pe.w]||0)+le.edge(pe).weight}),ee});return T.zipObject(le.nodes(),se)},predecessorWeights:function R(le){var se=T.map(le.nodes(),function(he){var ee={};return T.forEach(le.inEdges(he),function(pe){ee[pe.v]=(ee[pe.v]||0)+le.edge(pe).weight}),ee});return T.zipObject(le.nodes(),se)},intersectRect:function N(le,se){var ge,we,he=le.x,ee=le.y,pe=se.x-he,K=se.y-ee,oe=le.width/2,ie=le.height/2;if(!pe&&!K)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(K)*oe>Math.abs(pe)*ie?(K<0&&(ie=-ie),ge=ie*pe/K,we=ie):(pe<0&&(oe=-oe),ge=oe,we=oe*K/pe),{x:he+ge,y:ee+we}},buildLayerMatrix:function B(le){var se=T.map(T.range($(le)+1),function(){return[]});return T.forEach(le.nodes(),function(he){var ee=le.node(he),pe=ee.rank;T.isUndefined(pe)||(se[pe][ee.order]=he)}),se},normalizeRanks:function k(le){var se=T.min(T.map(le.nodes(),function(he){return le.node(he).rank}));T.forEach(le.nodes(),function(he){var ee=le.node(he);T.has(ee,"rank")&&(ee.rank-=se)})},removeEmptyRanks:function F(le){var se=T.min(T.map(le.nodes(),function(K){return le.node(K).rank})),he=[];T.forEach(le.nodes(),function(K){var oe=le.node(K).rank-se;he[oe]||(he[oe]=[]),he[oe].push(K)});var ee=0,pe=le.graph().nodeRankFactor;T.forEach(he,function(K,oe){T.isUndefined(K)&&oe%pe!=0?--ee:ee&&T.forEach(K,function(ie){le.node(ie).rank+=ee})})},addBorderNode:function H(le,se,he,ee){var pe={width:0,height:0};return arguments.length>=4&&(pe.rank=he,pe.order=ee),O(le,"border",pe,se)},maxRank:$,partition:function J(le,se){var he={lhs:[],rhs:[]};return T.forEach(le,function(ee){se(ee)?he.lhs.push(ee):he.rhs.push(ee)}),he},time:function ce(le,se){var he=T.now();try{return se()}finally{console.log(le+" time: "+(T.now()-he)+"ms")}},notime:function ne(le,se){return se()}}},2187:j=>{j.exports="0.8.5"},9034:(j,ae,x)=>{var T=x(3934);j.exports={Graph:T.Graph,json:x(2440),alg:x(3955),version:T.version}},1986:(j,ae,x)=>{var T=x(9368);j.exports=function L(O){var S,I={},C=[];function R(N){T.has(I,N)||(I[N]=!0,S.push(N),T.each(O.successors(N),R),T.each(O.predecessors(N),R))}return T.each(O.nodes(),function(N){S=[],R(N),S.length&&C.push(S)}),C}},1428:(j,ae,x)=>{var T=x(9368);function O(I,C,S,R,N,B){T.has(R,C)||(R[C]=!0,S||B.push(C),T.each(N(C),function(k){O(I,k,S,R,N,B)}),S&&B.push(C))}j.exports=function L(I,C,S){T.isArray(C)||(C=[C]);var R=(I.isDirected()?I.successors:I.neighbors).bind(I),N=[],B={};return T.each(C,function(k){if(!I.hasNode(k))throw new Error("Graph does not have node: "+k);O(I,k,"post"===S,B,R,N)}),N}},5583:(j,ae,x)=>{var T=x(2644),L=x(9368);j.exports=function O(I,C,S){return L.transform(I.nodes(),function(R,N){R[N]=T(I,N,C,S)},{})}},2644:(j,ae,x)=>{var T=x(9368),L=x(1321);j.exports=function I(S,R,N,B){return function C(S,R,N,B){var H,$,k={},F=new L,J=function(ce){var ne=ce.v!==H?ce.v:ce.w,le=k[ne],se=N(ce),he=$.distance+se;if(se<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+ce+" Weight: "+se);he<le.distance&&(le.distance=he,le.predecessor=H,F.decrease(ne,he))};for(S.nodes().forEach(function(ce){var ne=ce===R?0:Number.POSITIVE_INFINITY;k[ce]={distance:ne},F.add(ce,ne)});F.size()>0&&(H=F.removeMin(),($=k[H]).distance!==Number.POSITIVE_INFINITY);)B(H).forEach(J);return k}(S,String(R),N||O,B||function(k){return S.outEdges(k)})};var O=T.constant(1)},7651:(j,ae,x)=>{var T=x(9368),L=x(3628);j.exports=function O(I){return T.filter(L(I),function(C){return C.length>1||1===C.length&&I.hasEdge(C[0],C[0])})}},5160:(j,ae,x)=>{var T=x(9368);j.exports=function O(C,S,R){return function I(C,S,R){var N={},B=C.nodes();return B.forEach(function(k){N[k]={},N[k][k]={distance:0},B.forEach(function(F){k!==F&&(N[k][F]={distance:Number.POSITIVE_INFINITY})}),R(k).forEach(function(F){var H=F.v===k?F.w:F.v,$=S(F);N[k][H]={distance:$,predecessor:k}})}),B.forEach(function(k){var F=N[k];B.forEach(function(H){var $=N[H];B.forEach(function(J){var ne=F[J],le=$[J],se=$[k].distance+ne.distance;se<le.distance&&(le.distance=se,le.predecessor=ne.predecessor)})})}),N}(C,S||L,R||function(N){return C.outEdges(N)})};var L=T.constant(1)},3955:(j,ae,x)=>{j.exports={components:x(1986),dijkstra:x(2644),dijkstraAll:x(5583),findCycles:x(7651),floydWarshall:x(5160),isAcyclic:x(6993),postorder:x(703),preorder:x(6544),prim:x(4338),tarjan:x(3628),topsort:x(5344)}},6993:(j,ae,x)=>{var T=x(5344);j.exports=function L(O){try{T(O)}catch(I){if(I instanceof T.CycleException)return!1;throw I}return!0}},703:(j,ae,x)=>{var T=x(1428);j.exports=function L(O,I){return T(O,I,"post")}},6544:(j,ae,x)=>{var T=x(1428);j.exports=function L(O,I){return T(O,I,"pre")}},4338:(j,ae,x)=>{var T=x(9368),L=x(427),O=x(1321);j.exports=function I(C,S){var k,R=new L,N={},B=new O;function F($){var J=$.v===k?$.w:$.v,ce=B.priority(J);if(void 0!==ce){var ne=S($);ne<ce&&(N[J]=k,B.decrease(J,ne))}}if(0===C.nodeCount())return R;T.each(C.nodes(),function($){B.add($,Number.POSITIVE_INFINITY),R.setNode($)}),B.decrease(C.nodes()[0],0);for(var H=!1;B.size()>0;){if(k=B.removeMin(),T.has(N,k))R.setEdge(k,N[k]);else{if(H)throw new Error("Input graph is not connected: "+C);H=!0}C.nodeEdges(k).forEach(F)}return R}},3628:(j,ae,x)=>{var T=x(9368);j.exports=function L(O){var I=0,C=[],S={},R=[];function N(B){var k=S[B]={onStack:!0,lowlink:I,index:I++};if(C.push(B),O.successors(B).forEach(function($){T.has(S,$)?S[$].onStack&&(k.lowlink=Math.min(k.lowlink,S[$].index)):(N($),k.lowlink=Math.min(k.lowlink,S[$].lowlink))}),k.lowlink===k.index){var H,F=[];do{H=C.pop(),S[H].onStack=!1,F.push(H)}while(B!==H);R.push(F)}}return O.nodes().forEach(function(B){T.has(S,B)||N(B)}),R}},5344:(j,ae,x)=>{var T=x(9368);function L(I){var C={},S={},R=[];if(T.each(I.sinks(),function N(B){if(T.has(S,B))throw new O;T.has(C,B)||(S[B]=!0,C[B]=!0,T.each(I.predecessors(B),N),delete S[B],R.push(B))}),T.size(C)!==I.nodeCount())throw new O;return R}function O(){}j.exports=L,L.CycleException=O,O.prototype=new Error},1321:(j,ae,x)=>{var T=x(9368);function L(){this._arr=[],this._keyIndices={}}j.exports=L,L.prototype.size=function(){return this._arr.length},L.prototype.keys=function(){return this._arr.map(function(O){return O.key})},L.prototype.has=function(O){return T.has(this._keyIndices,O)},L.prototype.priority=function(O){var I=this._keyIndices[O];if(void 0!==I)return this._arr[I].priority},L.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},L.prototype.add=function(O,I){var C=this._keyIndices;if(O=String(O),!T.has(C,O)){var S=this._arr,R=S.length;return C[O]=R,S.push({key:O,priority:I}),this._decrease(R),!0}return!1},L.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var O=this._arr.pop();return delete this._keyIndices[O.key],this._heapify(0),O.key},L.prototype.decrease=function(O,I){var C=this._keyIndices[O];if(I>this._arr[C].priority)throw new Error("New priority is greater than current priority. Key: "+O+" Old: "+this._arr[C].priority+" New: "+I);this._arr[C].priority=I,this._decrease(C)},L.prototype._heapify=function(O){var I=this._arr,C=2*O,S=C+1,R=O;C<I.length&&(R=I[C].priority<I[R].priority?C:R,S<I.length&&(R=I[S].priority<I[R].priority?S:R),R!==O&&(this._swap(O,R),this._heapify(R)))},L.prototype._decrease=function(O){for(var S,I=this._arr,C=I[O].priority;0!==O&&!(I[S=O>>1].priority<C);)this._swap(O,S),O=S},L.prototype._swap=function(O,I){var C=this._arr,S=this._keyIndices,R=C[O],N=C[I];C[O]=N,C[I]=R,S[N.key]=O,S[R.key]=I}},427:(j,ae,x)=>{"use strict";var T=x(9368);j.exports=C;var L="\0",O="\0",I="\x01";function C(F){this._isDirected=!T.has(F,"directed")||F.directed,this._isMultigraph=!!T.has(F,"multigraph")&&F.multigraph,this._isCompound=!!T.has(F,"compound")&&F.compound,this._label=void 0,this._defaultNodeLabelFn=T.constant(void 0),this._defaultEdgeLabelFn=T.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[O]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function S(F,H){F[H]?F[H]++:F[H]=1}function R(F,H){--F[H]||delete F[H]}function N(F,H,$,J){var ce=""+H,ne=""+$;if(!F&&ce>ne){var le=ce;ce=ne,ne=le}return ce+I+ne+I+(T.isUndefined(J)?L:J)}function k(F,H){return N(F,H.v,H.w,H.name)}C.prototype._nodeCount=0,C.prototype._edgeCount=0,C.prototype.isDirected=function(){return this._isDirected},C.prototype.isMultigraph=function(){return this._isMultigraph},C.prototype.isCompound=function(){return this._isCompound},C.prototype.setGraph=function(F){return this._label=F,this},C.prototype.graph=function(){return this._label},C.prototype.setDefaultNodeLabel=function(F){return T.isFunction(F)||(F=T.constant(F)),this._defaultNodeLabelFn=F,this},C.prototype.nodeCount=function(){return this._nodeCount},C.prototype.nodes=function(){return T.keys(this._nodes)},C.prototype.sources=function(){var F=this;return T.filter(this.nodes(),function(H){return T.isEmpty(F._in[H])})},C.prototype.sinks=function(){var F=this;return T.filter(this.nodes(),function(H){return T.isEmpty(F._out[H])})},C.prototype.setNodes=function(F,H){var $=arguments,J=this;return T.each(F,function(ce){$.length>1?J.setNode(ce,H):J.setNode(ce)}),this},C.prototype.setNode=function(F,H){return T.has(this._nodes,F)?(arguments.length>1&&(this._nodes[F]=H),this):(this._nodes[F]=arguments.length>1?H:this._defaultNodeLabelFn(F),this._isCompound&&(this._parent[F]=O,this._children[F]={},this._children[O][F]=!0),this._in[F]={},this._preds[F]={},this._out[F]={},this._sucs[F]={},++this._nodeCount,this)},C.prototype.node=function(F){return this._nodes[F]},C.prototype.hasNode=function(F){return T.has(this._nodes,F)},C.prototype.removeNode=function(F){var H=this;if(T.has(this._nodes,F)){var $=function(J){H.removeEdge(H._edgeObjs[J])};delete this._nodes[F],this._isCompound&&(this._removeFromParentsChildList(F),delete this._parent[F],T.each(this.children(F),function(J){H.setParent(J)}),delete this._children[F]),T.each(T.keys(this._in[F]),$),delete this._in[F],delete this._preds[F],T.each(T.keys(this._out[F]),$),delete this._out[F],delete this._sucs[F],--this._nodeCount}return this},C.prototype.setParent=function(F,H){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(T.isUndefined(H))H=O;else{for(var $=H+="";!T.isUndefined($);$=this.parent($))if($===F)throw new Error("Setting "+H+" as parent of "+F+" would create a cycle");this.setNode(H)}return this.setNode(F),this._removeFromParentsChildList(F),this._parent[F]=H,this._children[H][F]=!0,this},C.prototype._removeFromParentsChildList=function(F){delete this._children[this._parent[F]][F]},C.prototype.parent=function(F){if(this._isCompound){var H=this._parent[F];if(H!==O)return H}},C.prototype.children=function(F){if(T.isUndefined(F)&&(F=O),this._isCompound){var H=this._children[F];if(H)return T.keys(H)}else{if(F===O)return this.nodes();if(this.hasNode(F))return[]}},C.prototype.predecessors=function(F){var H=this._preds[F];if(H)return T.keys(H)},C.prototype.successors=function(F){var H=this._sucs[F];if(H)return T.keys(H)},C.prototype.neighbors=function(F){var H=this.predecessors(F);if(H)return T.union(H,this.successors(F))},C.prototype.isLeaf=function(F){return 0===(this.isDirected()?this.successors(F):this.neighbors(F)).length},C.prototype.filterNodes=function(F){var H=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});H.setGraph(this.graph());var $=this;T.each(this._nodes,function(ne,le){F(le)&&H.setNode(le,ne)}),T.each(this._edgeObjs,function(ne){H.hasNode(ne.v)&&H.hasNode(ne.w)&&H.setEdge(ne,$.edge(ne))});var J={};function ce(ne){var le=$.parent(ne);return void 0===le||H.hasNode(le)?(J[ne]=le,le):le in J?J[le]:ce(le)}return this._isCompound&&T.each(H.nodes(),function(ne){H.setParent(ne,ce(ne))}),H},C.prototype.setDefaultEdgeLabel=function(F){return T.isFunction(F)||(F=T.constant(F)),this._defaultEdgeLabelFn=F,this},C.prototype.edgeCount=function(){return this._edgeCount},C.prototype.edges=function(){return T.values(this._edgeObjs)},C.prototype.setPath=function(F,H){var $=this,J=arguments;return T.reduce(F,function(ce,ne){return J.length>1?$.setEdge(ce,ne,H):$.setEdge(ce,ne),ne}),this},C.prototype.setEdge=function(){var F,H,$,J,ce=!1,ne=arguments[0];"object"==typeof ne&&null!==ne&&"v"in ne?(F=ne.v,H=ne.w,$=ne.name,2===arguments.length&&(J=arguments[1],ce=!0)):(F=ne,H=arguments[1],$=arguments[3],arguments.length>2&&(J=arguments[2],ce=!0)),F=""+F,H=""+H,T.isUndefined($)||($=""+$);var le=N(this._isDirected,F,H,$);if(T.has(this._edgeLabels,le))return ce&&(this._edgeLabels[le]=J),this;if(!T.isUndefined($)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(F),this.setNode(H),this._edgeLabels[le]=ce?J:this._defaultEdgeLabelFn(F,H,$);var se=function B(F,H,$,J){var ce=""+H,ne=""+$;if(!F&&ce>ne){var le=ce;ce=ne,ne=le}var se={v:ce,w:ne};return J&&(se.name=J),se}(this._isDirected,F,H,$);return F=se.v,H=se.w,Object.freeze(se),this._edgeObjs[le]=se,S(this._preds[H],F),S(this._sucs[F],H),this._in[H][le]=se,this._out[F][le]=se,this._edgeCount++,this},C.prototype.edge=function(F,H,$){var J=1===arguments.length?k(this._isDirected,arguments[0]):N(this._isDirected,F,H,$);return this._edgeLabels[J]},C.prototype.hasEdge=function(F,H,$){var J=1===arguments.length?k(this._isDirected,arguments[0]):N(this._isDirected,F,H,$);return T.has(this._edgeLabels,J)},C.prototype.removeEdge=function(F,H,$){var J=1===arguments.length?k(this._isDirected,arguments[0]):N(this._isDirected,F,H,$),ce=this._edgeObjs[J];return ce&&(F=ce.v,H=ce.w,delete this._edgeLabels[J],delete this._edgeObjs[J],R(this._preds[H],F),R(this._sucs[F],H),delete this._in[H][J],delete this._out[F][J],this._edgeCount--),this},C.prototype.inEdges=function(F,H){var $=this._in[F];if($){var J=T.values($);return H?T.filter(J,function(ce){return ce.v===H}):J}},C.prototype.outEdges=function(F,H){var $=this._out[F];if($){var J=T.values($);return H?T.filter(J,function(ce){return ce.w===H}):J}},C.prototype.nodeEdges=function(F,H){var $=this.inEdges(F,H);if($)return $.concat(this.outEdges(F,H))}},3934:(j,ae,x)=>{j.exports={Graph:x(427),version:x(7747)}},2440:(j,ae,x)=>{var T=x(9368),L=x(427);function I(R){return T.map(R.nodes(),function(N){var B=R.node(N),k=R.parent(N),F={v:N};return T.isUndefined(B)||(F.value=B),T.isUndefined(k)||(F.parent=k),F})}function C(R){return T.map(R.edges(),function(N){var B=R.edge(N),k={v:N.v,w:N.w};return T.isUndefined(N.name)||(k.name=N.name),T.isUndefined(B)||(k.value=B),k})}j.exports={write:function O(R){var N={options:{directed:R.isDirected(),multigraph:R.isMultigraph(),compound:R.isCompound()},nodes:I(R),edges:C(R)};return T.isUndefined(R.graph())||(N.value=T.clone(R.graph())),N},read:function S(R){var N=new L(R.options).setGraph(R.value);return T.each(R.nodes,function(B){N.setNode(B.v,B.value),B.parent&&N.setParent(B.v,B.parent)}),T.each(R.edges,function(B){N.setEdge({v:B.v,w:B.w,name:B.name},B.value)}),N}}},9368:(j,ae,x)=>{var T;try{T={clone:x(8734),constant:x(1075),each:x(6488),filter:x(7661),has:x(8669),isArray:x(2261),isEmpty:x(5350),isFunction:x(6861),isUndefined:x(8152),keys:x(4614),map:x(8921),reduce:x(5909),size:x(5741),transform:x(6893),union:x(2480),values:x(8808)}}catch{}T||(T=window._),j.exports=T},7747:j=>{j.exports="2.1.8"},7444:(j,ae,x)=>{j.exports=x(7253)},7253:function(j,ae){var x,T,L;(function(){var O,I,C,S,R,N,B,k,F,H,$,J,ce,ne,le;C=Math.floor,H=Math.min,I=function(se,he){return se<he?-1:se>he?1:0},F=function(se,he,ee,pe,K){var oe;if(null==ee&&(ee=0),null==K&&(K=I),ee<0)throw new Error("lo must be non-negative");for(null==pe&&(pe=se.length);ee<pe;)K(he,se[oe=C((ee+pe)/2)])<0?pe=oe:ee=oe+1;return[].splice.apply(se,[ee,ee-ee].concat(he)),he},N=function(se,he,ee){return null==ee&&(ee=I),se.push(he),ne(se,0,se.length-1,ee)},R=function(se,he){var ee,pe;return null==he&&(he=I),ee=se.pop(),se.length?(pe=se[0],se[0]=ee,le(se,0,he)):pe=ee,pe},k=function(se,he,ee){var pe;return null==ee&&(ee=I),pe=se[0],se[0]=he,le(se,0,ee),pe},B=function(se,he,ee){var pe;return null==ee&&(ee=I),se.length&&ee(se[0],he)<0&&(he=(pe=[se[0],he])[0],se[0]=pe[1],le(se,0,ee)),he},S=function(se,he){var pe,oe,ge,we,Se;for(null==he&&(he=I),we=[],pe=0,oe=(ge=function(){Se=[];for(var xe=0,Ve=C(se.length/2);0<=Ve?xe<Ve:xe>Ve;0<=Ve?xe++:xe--)Se.push(xe);return Se}.apply(this).reverse()).length;pe<oe;pe++)we.push(le(se,ge[pe],he));return we},ce=function(se,he,ee){var pe;if(null==ee&&(ee=I),-1!==(pe=se.indexOf(he)))return ne(se,0,pe,ee),le(se,pe,ee)},$=function(se,he,ee){var K,oe,ie,ge;if(null==ee&&(ee=I),!(K=se.slice(0,he)).length)return K;for(S(K,ee),oe=0,ie=(ge=se.slice(he)).length;oe<ie;oe++)B(K,ge[oe],ee);return K.sort(ee).reverse()},J=function(se,he,ee){var pe,oe,ie,ge,we,Se,xe,Ve,_e;if(null==ee&&(ee=I),10*he<=se.length){if(!(ie=se.slice(0,he).sort(ee)).length)return ie;for(oe=ie[ie.length-1],ge=0,Se=(xe=se.slice(he)).length;ge<Se;ge++)ee(pe=xe[ge],oe)<0&&(F(ie,pe,0,null,ee),ie.pop(),oe=ie[ie.length-1]);return ie}for(S(se,ee),_e=[],we=0,Ve=H(he,se.length);0<=Ve?we<Ve:we>Ve;0<=Ve?++we:--we)_e.push(R(se,ee));return _e},ne=function(se,he,ee,pe){var K,oe,ie;for(null==pe&&(pe=I),K=se[ee];ee>he&&pe(K,oe=se[ie=ee-1>>1])<0;)se[ee]=oe,ee=ie;return se[ee]=K},le=function(se,he,ee){var pe,K,oe,ie,ge;for(null==ee&&(ee=I),K=se.length,ge=he,oe=se[he],pe=2*he+1;pe<K;)(ie=pe+1)<K&&!(ee(se[pe],se[ie])<0)&&(pe=ie),se[he]=se[pe],pe=2*(he=pe)+1;return se[he]=oe,ne(se,ge,he,ee)},O=function(){function se(he){this.cmp=he??I,this.nodes=[]}return se.push=N,se.pop=R,se.replace=k,se.pushpop=B,se.heapify=S,se.updateItem=ce,se.nlargest=$,se.nsmallest=J,se.prototype.push=function(he){return N(this.nodes,he,this.cmp)},se.prototype.pop=function(){return R(this.nodes,this.cmp)},se.prototype.peek=function(){return this.nodes[0]},se.prototype.contains=function(he){return-1!==this.nodes.indexOf(he)},se.prototype.replace=function(he){return k(this.nodes,he,this.cmp)},se.prototype.pushpop=function(he){return B(this.nodes,he,this.cmp)},se.prototype.heapify=function(){return S(this.nodes,this.cmp)},se.prototype.updateItem=function(he){return ce(this.nodes,he,this.cmp)},se.prototype.clear=function(){return this.nodes=[]},se.prototype.empty=function(){return 0===this.nodes.length},se.prototype.size=function(){return this.nodes.length},se.prototype.clone=function(){var he;return(he=new se).nodes=this.nodes.slice(0),he},se.prototype.toArray=function(){return this.nodes.slice(0)},se.prototype.insert=se.prototype.push,se.prototype.top=se.prototype.peek,se.prototype.front=se.prototype.peek,se.prototype.has=se.prototype.contains,se.prototype.copy=se.prototype.clone,se}(),T=[],void 0===(L="function"==typeof(x=function(){return O})?x.apply(ae,T):x)||(j.exports=L)}).call(this)},4465:function(j){j.exports=function(ae){var x={};function T(L){if(x[L])return x[L].exports;var O=x[L]={i:L,l:!1,exports:{}};return ae[L].call(O.exports,O,O.exports,T),O.l=!0,O.exports}return T.m=ae,T.c=x,T.i=function(L){return L},T.d=function(L,O,I){T.o(L,O)||Object.defineProperty(L,O,{configurable:!1,enumerable:!0,get:I})},T.n=function(L){var O=L&&L.__esModule?function(){return L.default}:function(){return L};return T.d(O,"a",O),O},T.o=function(L,O){return Object.prototype.hasOwnProperty.call(L,O)},T.p="",T(T.s=26)}([function(ae,x,T){"use strict";function L(){}L.QUALITY=1,L.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,L.DEFAULT_INCREMENTAL=!1,L.DEFAULT_ANIMATION_ON_LAYOUT=!0,L.DEFAULT_ANIMATION_DURING_LAYOUT=!1,L.DEFAULT_ANIMATION_PERIOD=50,L.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,L.DEFAULT_GRAPH_MARGIN=15,L.NODE_DIMENSIONS_INCLUDE_LABELS=!1,L.SIMPLE_NODE_HALF_SIZE=(L.SIMPLE_NODE_SIZE=40)/2,L.EMPTY_COMPOUND_NODE_SIZE=40,L.MIN_EDGE_LENGTH=1,L.INITIAL_WORLD_BOUNDARY=(L.WORLD_BOUNDARY=1e6)/1e3,L.WORLD_CENTER_X=1200,L.WORLD_CENTER_Y=900,ae.exports=L},function(ae,x,T){"use strict";var L=T(2),O=T(8),I=T(9);function C(R,N,B){L.call(this,B),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=B,this.bendpoints=[],this.source=R,this.target=N}for(var S in C.prototype=Object.create(L.prototype),L)C[S]=L[S];C.prototype.getSource=function(){return this.source},C.prototype.getTarget=function(){return this.target},C.prototype.isInterGraph=function(){return this.isInterGraph},C.prototype.getLength=function(){return this.length},C.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},C.prototype.getBendpoints=function(){return this.bendpoints},C.prototype.getLca=function(){return this.lca},C.prototype.getSourceInLca=function(){return this.sourceInLca},C.prototype.getTargetInLca=function(){return this.targetInLca},C.prototype.getOtherEnd=function(R){if(this.source===R)return this.target;if(this.target===R)return this.source;throw"Node is not incident with this edge"},C.prototype.getOtherEndInGraph=function(R,N){for(var B=this.getOtherEnd(R),k=N.getGraphManager().getRoot();;){if(B.getOwner()==N)return B;if(B.getOwner()==k)break;B=B.getOwner().getParent()}return null},C.prototype.updateLength=function(){var R=new Array(4);this.isOverlapingSourceAndTarget=O.getIntersection(this.target.getRect(),this.source.getRect(),R),this.isOverlapingSourceAndTarget||(this.lengthX=R[0]-R[2],this.lengthY=R[1]-R[3],Math.abs(this.lengthX)<1&&(this.lengthX=I.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=I.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},C.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=I.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=I.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},ae.exports=C},function(ae,x,T){"use strict";ae.exports=function L(O){this.vGraphObject=O}},function(ae,x,T){"use strict";var L=T(2),O=T(10),I=T(13),C=T(0),S=T(16),R=T(4);function N(k,F,H,$){null==H&&null==$&&($=F),L.call(this,$),null!=k.graphManager&&(k=k.graphManager),this.estimatedSize=O.MIN_VALUE,this.inclusionTreeDepth=O.MAX_VALUE,this.vGraphObject=$,this.edges=[],this.graphManager=k,this.rect=null!=H&&null!=F?new I(F.x,F.y,H.width,H.height):new I}for(var B in N.prototype=Object.create(L.prototype),L)N[B]=L[B];N.prototype.getEdges=function(){return this.edges},N.prototype.getChild=function(){return this.child},N.prototype.getOwner=function(){return this.owner},N.prototype.getWidth=function(){return this.rect.width},N.prototype.setWidth=function(k){this.rect.width=k},N.prototype.getHeight=function(){return this.rect.height},N.prototype.setHeight=function(k){this.rect.height=k},N.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},N.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},N.prototype.getCenter=function(){return new R(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},N.prototype.getLocation=function(){return new R(this.rect.x,this.rect.y)},N.prototype.getRect=function(){return this.rect},N.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},N.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},N.prototype.setRect=function(k,F){this.rect.x=k.x,this.rect.y=k.y,this.rect.width=F.width,this.rect.height=F.height},N.prototype.setCenter=function(k,F){this.rect.x=k-this.rect.width/2,this.rect.y=F-this.rect.height/2},N.prototype.setLocation=function(k,F){this.rect.x=k,this.rect.y=F},N.prototype.moveBy=function(k,F){this.rect.x+=k,this.rect.y+=F},N.prototype.getEdgeListToNode=function(k){var F=[],$=this;return $.edges.forEach(function(J){if(J.target==k){if(J.source!=$)throw"Incorrect edge source!";F.push(J)}}),F},N.prototype.getEdgesBetween=function(k){var F=[],$=this;return $.edges.forEach(function(J){if(J.source!=$&&J.target!=$)throw"Incorrect edge source and/or target";(J.target==k||J.source==k)&&F.push(J)}),F},N.prototype.getNeighborsList=function(){var k=new Set,F=this;return F.edges.forEach(function(H){if(H.source==F)k.add(H.target);else{if(H.target!=F)throw"Incorrect incidency!";k.add(H.source)}}),k},N.prototype.withChildren=function(){var k=new Set;if(k.add(this),null!=this.child)for(var $=this.child.getNodes(),J=0;J<$.length;J++)$[J].withChildren().forEach(function(ce){k.add(ce)});return k},N.prototype.getNoOfChildren=function(){var k=0;if(null==this.child)k=1;else for(var H=this.child.getNodes(),$=0;$<H.length;$++)k+=H[$].getNoOfChildren();return 0==k&&(k=1),k},N.prototype.getEstimatedSize=function(){if(this.estimatedSize==O.MIN_VALUE)throw"assert failed";return this.estimatedSize},N.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},N.prototype.scatter=function(){var k,F,H=-C.INITIAL_WORLD_BOUNDARY,$=C.INITIAL_WORLD_BOUNDARY;k=C.WORLD_CENTER_X+S.nextDouble()*($-H)+H;var J=-C.INITIAL_WORLD_BOUNDARY,ce=C.INITIAL_WORLD_BOUNDARY;F=C.WORLD_CENTER_Y+S.nextDouble()*(ce-J)+J,this.rect.x=k,this.rect.y=F},N.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var k=this.getChild();if(k.updateBounds(!0),this.rect.x=k.getLeft(),this.rect.y=k.getTop(),this.setWidth(k.getRight()-k.getLeft()),this.setHeight(k.getBottom()-k.getTop()),C.NODE_DIMENSIONS_INCLUDE_LABELS){var F=k.getRight()-k.getLeft(),H=k.getBottom()-k.getTop();this.labelWidth>F&&(this.rect.x-=(this.labelWidth-F)/2,this.setWidth(this.labelWidth)),this.labelHeight>H&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-H)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-H),this.setHeight(this.labelHeight))}}},N.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==O.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},N.prototype.transform=function(k){var F=this.rect.x;F>C.WORLD_BOUNDARY?F=C.WORLD_BOUNDARY:F<-C.WORLD_BOUNDARY&&(F=-C.WORLD_BOUNDARY);var H=this.rect.y;H>C.WORLD_BOUNDARY?H=C.WORLD_BOUNDARY:H<-C.WORLD_BOUNDARY&&(H=-C.WORLD_BOUNDARY);var $=new R(F,H),J=k.inverseTransformPoint($);this.setLocation(J.x,J.y)},N.prototype.getLeft=function(){return this.rect.x},N.prototype.getRight=function(){return this.rect.x+this.rect.width},N.prototype.getTop=function(){return this.rect.y},N.prototype.getBottom=function(){return this.rect.y+this.rect.height},N.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},ae.exports=N},function(ae,x,T){"use strict";function L(O,I){null==O&&null==I?(this.x=0,this.y=0):(this.x=O,this.y=I)}L.prototype.getX=function(){return this.x},L.prototype.getY=function(){return this.y},L.prototype.setX=function(O){this.x=O},L.prototype.setY=function(O){this.y=O},L.prototype.getDifference=function(O){return new DimensionD(this.x-O.x,this.y-O.y)},L.prototype.getCopy=function(){return new L(this.x,this.y)},L.prototype.translate=function(O){return this.x+=O.width,this.y+=O.height,this},ae.exports=L},function(ae,x,T){"use strict";var L=T(2),O=T(10),I=T(0),C=T(6),S=T(3),R=T(1),N=T(13),B=T(12),k=T(11);function F($,J,ce){L.call(this,ce),this.estimatedSize=O.MIN_VALUE,this.margin=I.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=$,null!=J&&J instanceof C?this.graphManager=J:null!=J&&J instanceof Layout&&(this.graphManager=J.graphManager)}for(var H in F.prototype=Object.create(L.prototype),L)F[H]=L[H];F.prototype.getNodes=function(){return this.nodes},F.prototype.getEdges=function(){return this.edges},F.prototype.getGraphManager=function(){return this.graphManager},F.prototype.getParent=function(){return this.parent},F.prototype.getLeft=function(){return this.left},F.prototype.getRight=function(){return this.right},F.prototype.getTop=function(){return this.top},F.prototype.getBottom=function(){return this.bottom},F.prototype.isConnected=function(){return this.isConnected},F.prototype.add=function($,J,ce){if(null==J&&null==ce){var ne=$;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(ne)>-1)throw"Node already in graph!";return ne.owner=this,this.getNodes().push(ne),ne}var le=$;if(!(this.getNodes().indexOf(J)>-1&&this.getNodes().indexOf(ce)>-1))throw"Source or target not in graph!";if(J.owner!=ce.owner||J.owner!=this)throw"Both owners must be this graph!";return J.owner!=ce.owner?null:(le.source=J,le.target=ce,le.isInterGraph=!1,this.getEdges().push(le),J.edges.push(le),ce!=J&&ce.edges.push(le),le)},F.prototype.remove=function($){var J=$;if($ instanceof S){if(null==J)throw"Node is null!";if(null==J.owner||J.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var ce=J.edges.slice(),le=ce.length,se=0;se<le;se++)(ne=ce[se]).isInterGraph?this.graphManager.remove(ne):ne.source.owner.remove(ne);if(-1==(he=this.nodes.indexOf(J)))throw"Node not in owner node list!";this.nodes.splice(he,1)}else if($ instanceof R){var ne;if(null==(ne=$))throw"Edge is null!";if(null==ne.source||null==ne.target)throw"Source and/or target is null!";if(null==ne.source.owner||null==ne.target.owner||ne.source.owner!=this||ne.target.owner!=this)throw"Source and/or target owner is invalid!";var he,ee=ne.source.edges.indexOf(ne),pe=ne.target.edges.indexOf(ne);if(!(ee>-1&&pe>-1))throw"Source and/or target doesn't know this edge!";if(ne.source.edges.splice(ee,1),ne.target!=ne.source&&ne.target.edges.splice(pe,1),-1==(he=ne.source.owner.getEdges().indexOf(ne)))throw"Not in owner's edge list!";ne.source.owner.getEdges().splice(he,1)}},F.prototype.updateLeftTop=function(){for(var ce,ne,le,$=O.MAX_VALUE,J=O.MAX_VALUE,se=this.getNodes(),he=se.length,ee=0;ee<he;ee++){var pe=se[ee];$>(ce=pe.getTop())&&($=ce),J>(ne=pe.getLeft())&&(J=ne)}return $==O.MAX_VALUE?null:(le=null!=se[0].getParent().paddingLeft?se[0].getParent().paddingLeft:this.margin,this.left=J-le,this.top=$-le,new B(this.left,this.top))},F.prototype.updateBounds=function($){for(var se,he,ee,pe,K,J=O.MAX_VALUE,ce=-O.MAX_VALUE,ne=O.MAX_VALUE,le=-O.MAX_VALUE,oe=this.nodes,ie=oe.length,ge=0;ge<ie;ge++){var we=oe[ge];$&&null!=we.child&&we.updateBounds(),J>(se=we.getLeft())&&(J=se),ce<(he=we.getRight())&&(ce=he),ne>(ee=we.getTop())&&(ne=ee),le<(pe=we.getBottom())&&(le=pe)}var Se=new N(J,ne,ce-J,le-ne);J==O.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),K=null!=oe[0].getParent().paddingLeft?oe[0].getParent().paddingLeft:this.margin,this.left=Se.x-K,this.right=Se.x+Se.width+K,this.top=Se.y-K,this.bottom=Se.y+Se.height+K},F.calculateBounds=function($){for(var se,he,ee,pe,J=O.MAX_VALUE,ce=-O.MAX_VALUE,ne=O.MAX_VALUE,le=-O.MAX_VALUE,K=$.length,oe=0;oe<K;oe++){var ie=$[oe];J>(se=ie.getLeft())&&(J=se),ce<(he=ie.getRight())&&(ce=he),ne>(ee=ie.getTop())&&(ne=ee),le<(pe=ie.getBottom())&&(le=pe)}return new N(J,ne,ce-J,le-ne)},F.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},F.prototype.getEstimatedSize=function(){if(this.estimatedSize==O.MIN_VALUE)throw"assert failed";return this.estimatedSize},F.prototype.calcEstimatedSize=function(){for(var $=0,J=this.nodes,ce=J.length,ne=0;ne<ce;ne++)$+=J[ne].calcEstimatedSize();return this.estimatedSize=0==$?I.EMPTY_COMPOUND_NODE_SIZE:$/Math.sqrt(this.nodes.length),this.estimatedSize},F.prototype.updateConnected=function(){var $=this;if(0!=this.nodes.length){var le,se,J=new k,ce=new Set,ne=this.nodes[0];for(ne.withChildren().forEach(function(ge){J.push(ge),ce.add(ge)});0!==J.length;)for(var ee=(le=(ne=J.shift()).getEdges()).length,pe=0;pe<ee;pe++)null==(se=le[pe].getOtherEndInGraph(ne,this))||ce.has(se)||se.withChildren().forEach(function(ge){J.push(ge),ce.add(ge)});if(this.isConnected=!1,ce.size>=this.nodes.length){var ie=0;ce.forEach(function(ge){ge.owner==$&&ie++}),ie==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},ae.exports=F},function(ae,x,T){"use strict";var L,O=T(1);function I(C){L=T(5),this.layout=C,this.graphs=[],this.edges=[]}I.prototype.addRoot=function(){var C=this.layout.newGraph(),S=this.layout.newNode(null),R=this.add(C,S);return this.setRootGraph(R),this.rootGraph},I.prototype.add=function(C,S,R,N,B){if(null==R&&null==N&&null==B){if(null==C)throw"Graph is null!";if(null==S)throw"Parent node is null!";if(this.graphs.indexOf(C)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(C),null!=C.parent)throw"Already has a parent!";if(null!=S.child)throw"Already has a child!";return C.parent=S,S.child=C,C}B=R,R=C;var k=(N=S).getOwner(),F=B.getOwner();if(null==k||k.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==F||F.getGraphManager()!=this)throw"Target not in this graph mgr!";if(k==F)return R.isInterGraph=!1,k.add(R,N,B);if(R.isInterGraph=!0,R.source=N,R.target=B,this.edges.indexOf(R)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(R),null==R.source||null==R.target)throw"Edge source and/or target is null!";if(-1!=R.source.edges.indexOf(R)||-1!=R.target.edges.indexOf(R))throw"Edge already in source and/or target incidency list!";return R.source.edges.push(R),R.target.edges.push(R),R},I.prototype.remove=function(C){if(C instanceof L){var S=C;if(S.getGraphManager()!=this)throw"Graph not in this graph mgr";if(S!=this.rootGraph&&(null==S.parent||S.parent.graphManager!=this))throw"Invalid parent node!";for(var N,R=[],B=(R=R.concat(S.getEdges())).length,k=0;k<B;k++)S.remove(N=R[k]);var F=[];for(B=(F=F.concat(S.getNodes())).length,k=0;k<B;k++)S.remove(F[k]);S==this.rootGraph&&this.setRootGraph(null);var $=this.graphs.indexOf(S);this.graphs.splice($,1),S.parent=null}else if(C instanceof O){if(null==(N=C))throw"Edge is null!";if(!N.isInterGraph)throw"Not an inter-graph edge!";if(null==N.source||null==N.target)throw"Source and/or target is null!";if(-1==N.source.edges.indexOf(N)||-1==N.target.edges.indexOf(N))throw"Source and/or target doesn't know this edge!";if($=N.source.edges.indexOf(N),N.source.edges.splice($,1),$=N.target.edges.indexOf(N),N.target.edges.splice($,1),null==N.source.owner||null==N.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==N.source.owner.getGraphManager().edges.indexOf(N))throw"Not in owner graph manager's edge list!";$=N.source.owner.getGraphManager().edges.indexOf(N),N.source.owner.getGraphManager().edges.splice($,1)}},I.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},I.prototype.getGraphs=function(){return this.graphs},I.prototype.getAllNodes=function(){if(null==this.allNodes){for(var C=[],S=this.getGraphs(),R=S.length,N=0;N<R;N++)C=C.concat(S[N].getNodes());this.allNodes=C}return this.allNodes},I.prototype.resetAllNodes=function(){this.allNodes=null},I.prototype.resetAllEdges=function(){this.allEdges=null},I.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},I.prototype.getAllEdges=function(){if(null==this.allEdges){for(var C=[],S=this.getGraphs(),N=0;N<S.length;N++)C=C.concat(S[N].getEdges());C=C.concat(this.edges),this.allEdges=C}return this.allEdges},I.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},I.prototype.setAllNodesToApplyGravitation=function(C){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=C},I.prototype.getRoot=function(){return this.rootGraph},I.prototype.setRootGraph=function(C){if(C.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=C,null==C.parent&&(C.parent=this.layout.newNode("Root node"))},I.prototype.getLayout=function(){return this.layout},I.prototype.isOneAncestorOfOther=function(C,S){if(null==C||null==S)throw"assert failed";if(C==S)return!0;for(var N,R=C.getOwner();null!=(N=R.getParent());){if(N==S)return!0;if(null==(R=N.getOwner()))break}for(R=S.getOwner();null!=(N=R.getParent());){if(N==C)return!0;if(null==(R=N.getOwner()))break}return!1},I.prototype.calcLowestCommonAncestors=function(){for(var C,S,R,N,B,k=this.getAllEdges(),F=k.length,H=0;H<F;H++)if(S=(C=k[H]).source,R=C.target,C.lca=null,C.sourceInLca=S,C.targetInLca=R,S!=R){for(N=S.getOwner();null==C.lca;){for(C.targetInLca=R,B=R.getOwner();null==C.lca;){if(B==N){C.lca=B;break}if(B==this.rootGraph)break;if(null!=C.lca)throw"assert failed";C.targetInLca=B.getParent(),B=C.targetInLca.getOwner()}if(N==this.rootGraph)break;null==C.lca&&(C.sourceInLca=N.getParent(),N=C.sourceInLca.getOwner())}if(null==C.lca)throw"assert failed"}else C.lca=S.getOwner()},I.prototype.calcLowestCommonAncestor=function(C,S){if(C==S)return C.getOwner();for(var R=C.getOwner();null!=R;){for(var N=S.getOwner();null!=N;){if(N==R)return N;N=N.getParent().getOwner()}R=R.getParent().getOwner()}return R},I.prototype.calcInclusionTreeDepths=function(C,S){null==C&&null==S&&(C=this.rootGraph,S=1);for(var R,N=C.getNodes(),B=N.length,k=0;k<B;k++)(R=N[k]).inclusionTreeDepth=S,null!=R.child&&this.calcInclusionTreeDepths(R.child,S+1)},I.prototype.includesInvalidEdge=function(){for(var C,S=this.edges.length,R=0;R<S;R++)if(this.isOneAncestorOfOther((C=this.edges[R]).source,C.target))return!0;return!1},ae.exports=I},function(ae,x,T){"use strict";var L=T(0);function O(){}for(var I in L)O[I]=L[I];O.MAX_ITERATIONS=2500,O.DEFAULT_EDGE_LENGTH=50,O.DEFAULT_SPRING_STRENGTH=.45,O.DEFAULT_REPULSION_STRENGTH=4500,O.DEFAULT_GRAVITY_STRENGTH=.4,O.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,O.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,O.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,O.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,O.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,O.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,O.COOLING_ADAPTATION_FACTOR=.33,O.ADAPTATION_LOWER_NODE_LIMIT=1e3,O.ADAPTATION_UPPER_NODE_LIMIT=5e3,O.MAX_NODE_DISPLACEMENT=3*(O.MAX_NODE_DISPLACEMENT_INCREMENTAL=100),O.MIN_REPULSION_DIST=O.DEFAULT_EDGE_LENGTH/10,O.CONVERGENCE_CHECK_PERIOD=100,O.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,O.MIN_EDGE_LENGTH=1,O.GRID_CALCULATION_CHECK_PERIOD=10,ae.exports=O},function(ae,x,T){"use strict";var L=T(12);function O(){}O.calcSeparationAmount=function(I,C,S,R){if(!I.intersects(C))throw"assert failed";var N=new Array(2);this.decideDirectionsForOverlappingNodes(I,C,N),S[0]=Math.min(I.getRight(),C.getRight())-Math.max(I.x,C.x),S[1]=Math.min(I.getBottom(),C.getBottom())-Math.max(I.y,C.y),I.getX()<=C.getX()&&I.getRight()>=C.getRight()?S[0]+=Math.min(C.getX()-I.getX(),I.getRight()-C.getRight()):C.getX()<=I.getX()&&C.getRight()>=I.getRight()&&(S[0]+=Math.min(I.getX()-C.getX(),C.getRight()-I.getRight())),I.getY()<=C.getY()&&I.getBottom()>=C.getBottom()?S[1]+=Math.min(C.getY()-I.getY(),I.getBottom()-C.getBottom()):C.getY()<=I.getY()&&C.getBottom()>=I.getBottom()&&(S[1]+=Math.min(I.getY()-C.getY(),C.getBottom()-I.getBottom()));var B=Math.abs((C.getCenterY()-I.getCenterY())/(C.getCenterX()-I.getCenterX()));C.getCenterY()===I.getCenterY()&&C.getCenterX()===I.getCenterX()&&(B=1);var k=B*S[0],F=S[1]/B;S[0]<F?F=S[0]:k=S[1],S[0]=-1*N[0]*(F/2+R),S[1]=-1*N[1]*(k/2+R)},O.decideDirectionsForOverlappingNodes=function(I,C,S){S[0]=I.getCenterX()<C.getCenterX()?-1:1,S[1]=I.getCenterY()<C.getCenterY()?-1:1},O.getIntersection2=function(I,C,S){var R=I.getCenterX(),N=I.getCenterY(),B=C.getCenterX(),k=C.getCenterY();if(I.intersects(C))return S[0]=R,S[1]=N,S[2]=B,S[3]=k,!0;var F=I.getX(),H=I.getY(),$=I.getRight(),J=I.getX(),ce=I.getBottom(),ne=I.getRight(),le=I.getWidthHalf(),se=I.getHeightHalf(),he=C.getX(),ee=C.getY(),pe=C.getRight(),K=C.getX(),oe=C.getBottom(),ie=C.getRight(),ge=C.getWidthHalf(),we=C.getHeightHalf(),Se=!1,xe=!1;if(R===B){if(N>k)return S[0]=R,S[1]=H,S[2]=B,S[3]=oe,!1;if(N<k)return S[0]=R,S[1]=ce,S[2]=B,S[3]=ee,!1}else if(N===k){if(R>B)return S[0]=F,S[1]=N,S[2]=pe,S[3]=k,!1;if(R<B)return S[0]=$,S[1]=N,S[2]=he,S[3]=k,!1}else{var Ve=I.height/I.width,_e=C.height/C.width,et=(k-N)/(B-R),at=void 0,Xe=void 0,$e=void 0,_t=void 0;if(-Ve===et?R>B?(S[0]=J,S[1]=ce,Se=!0):(S[0]=$,S[1]=H,Se=!0):Ve===et&&(R>B?(S[0]=F,S[1]=H,Se=!0):(S[0]=ne,S[1]=ce,Se=!0)),-_e===et?B>R?(S[2]=K,S[3]=oe,xe=!0):(S[2]=pe,S[3]=ee,xe=!0):_e===et&&(B>R?(S[2]=he,S[3]=ee,xe=!0):(S[2]=ie,S[3]=oe,xe=!0)),Se&&xe)return!1;if(R>B?N>k?(at=this.getCardinalDirection(Ve,et,4),Xe=this.getCardinalDirection(_e,et,2)):(at=this.getCardinalDirection(-Ve,et,3),Xe=this.getCardinalDirection(-_e,et,1)):N>k?(at=this.getCardinalDirection(-Ve,et,1),Xe=this.getCardinalDirection(-_e,et,3)):(at=this.getCardinalDirection(Ve,et,2),Xe=this.getCardinalDirection(_e,et,4)),!Se)switch(at){case 1:$e=H,S[0]=R+-se/et,S[1]=$e;break;case 2:$e=N+le*et,S[0]=ne,S[1]=$e;break;case 3:$e=ce,S[0]=R+se/et,S[1]=$e;break;case 4:$e=N+-le*et,S[0]=J,S[1]=$e}if(!xe)switch(Xe){case 1:_t=ee,S[2]=B+-we/et,S[3]=_t;break;case 2:_t=k+ge*et,S[2]=ie,S[3]=_t;break;case 3:_t=oe,S[2]=B+we/et,S[3]=_t;break;case 4:_t=k+-ge*et,S[2]=K,S[3]=_t}}return!1},O.getCardinalDirection=function(I,C,S){return I>C?S:1+S%4},O.getIntersection=function(I,C,S,R){if(null==R)return this.getIntersection2(I,C,S);var se,he,ee,pe,K,oe,ie,N=I.x,B=I.y,k=C.x,F=C.y,H=S.x,$=S.y,J=R.x,ce=R.y;return K=k*B-N*F,oe=J*$-H*ce,0==(ie=(se=F-B)*(pe=H-J)-(he=ce-$)*(ee=N-k))?null:new L((ee*oe-pe*K)/ie,(he*K-se*oe)/ie)},O.angleOfVector=function(I,C,S,R){var N=void 0;return I!==S?(N=Math.atan((R-C)/(S-I)),S<I?N+=Math.PI:R<C&&(N+=this.TWO_PI)):N=R<C?this.ONE_AND_HALF_PI:this.HALF_PI,N},O.doIntersect=function(I,C,S,R){var N=I.x,B=I.y,k=C.x,F=C.y,H=S.x,$=S.y,J=R.x,ce=R.y,ne=(k-N)*(ce-$)-(J-H)*(F-B);if(0===ne)return!1;var le=((ce-$)*(J-N)+(H-J)*(ce-B))/ne,se=((B-F)*(J-N)+(k-N)*(ce-B))/ne;return 0<le&&le<1&&0<se&&se<1},O.HALF_PI=.5*Math.PI,O.ONE_AND_HALF_PI=1.5*Math.PI,O.TWO_PI=2*Math.PI,O.THREE_PI=3*Math.PI,ae.exports=O},function(ae,x,T){"use strict";function L(){}L.sign=function(O){return O>0?1:O<0?-1:0},L.floor=function(O){return O<0?Math.ceil(O):Math.floor(O)},L.ceil=function(O){return O<0?Math.floor(O):Math.ceil(O)},ae.exports=L},function(ae,x,T){"use strict";function L(){}L.MAX_VALUE=2147483647,L.MIN_VALUE=-2147483648,ae.exports=L},function(ae,x,T){"use strict";var L=function(){function N(B,k){for(var F=0;F<k.length;F++){var H=k[F];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(B,H.key,H)}}return function(B,k,F){return k&&N(B.prototype,k),F&&N(B,F),B}}();var I=function(B){return{value:B,next:null,prev:null}},C=function(B,k,F,H){return null!==B?B.next=k:H.head=k,null!==F?F.prev=k:H.tail=k,k.prev=B,k.next=F,H.length++,k},S=function(B,k){var F=B.prev,H=B.next;return null!==F?F.next=H:k.head=H,null!==H?H.prev=F:k.tail=F,B.prev=B.next=null,k.length--,B},R=function(){function N(B){var k=this;(function O(N,B){if(!(N instanceof B))throw new TypeError("Cannot call a class as a function")})(this,N),this.length=0,this.head=null,this.tail=null,B?.forEach(function(F){return k.push(F)})}return L(N,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(k,F){return C(F.prev,I(k),F,this)}},{key:"insertAfter",value:function(k,F){return C(F,I(k),F.next,this)}},{key:"insertNodeBefore",value:function(k,F){return C(F.prev,k,F,this)}},{key:"insertNodeAfter",value:function(k,F){return C(F,k,F.next,this)}},{key:"push",value:function(k){return C(this.tail,I(k),null,this)}},{key:"unshift",value:function(k){return C(null,I(k),this.head,this)}},{key:"remove",value:function(k){return S(k,this)}},{key:"pop",value:function(){return S(this.tail,this).value}},{key:"popNode",value:function(){return S(this.tail,this)}},{key:"shift",value:function(){return S(this.head,this).value}},{key:"shiftNode",value:function(){return S(this.head,this)}},{key:"get_object_at",value:function(k){if(k<=this.length()){for(var F=1,H=this.head;F<k;)H=H.next,F++;return H.value}}},{key:"set_object_at",value:function(k,F){if(k<=this.length()){for(var H=1,$=this.head;H<k;)$=$.next,H++;$.value=F}}}]),N}();ae.exports=R},function(ae,x,T){"use strict";function L(O,I,C){this.x=null,this.y=null,null==O&&null==I&&null==C?(this.x=0,this.y=0):"number"==typeof O&&"number"==typeof I&&null==C?(this.x=O,this.y=I):"Point"==O.constructor.name&&null==I&&null==C&&(this.x=(C=O).x,this.y=C.y)}L.prototype.getX=function(){return this.x},L.prototype.getY=function(){return this.y},L.prototype.getLocation=function(){return new L(this.x,this.y)},L.prototype.setLocation=function(O,I,C){"Point"==O.constructor.name&&null==I&&null==C?this.setLocation((C=O).x,C.y):"number"==typeof O&&"number"==typeof I&&null==C&&(parseInt(O)==O&&parseInt(I)==I?this.move(O,I):(this.x=Math.floor(O+.5),this.y=Math.floor(I+.5)))},L.prototype.move=function(O,I){this.x=O,this.y=I},L.prototype.translate=function(O,I){this.x+=O,this.y+=I},L.prototype.equals=function(O){return"Point"==O.constructor.name?this.x==O.x&&this.y==O.y:this==O},L.prototype.toString=function(){return(new L).constructor.name+"[x="+this.x+",y="+this.y+"]"},ae.exports=L},function(ae,x,T){"use strict";function L(O,I,C,S){this.x=0,this.y=0,this.width=0,this.height=0,null!=O&&null!=I&&null!=C&&null!=S&&(this.x=O,this.y=I,this.width=C,this.height=S)}L.prototype.getX=function(){return this.x},L.prototype.setX=function(O){this.x=O},L.prototype.getY=function(){return this.y},L.prototype.setY=function(O){this.y=O},L.prototype.getWidth=function(){return this.width},L.prototype.setWidth=function(O){this.width=O},L.prototype.getHeight=function(){return this.height},L.prototype.setHeight=function(O){this.height=O},L.prototype.getRight=function(){return this.x+this.width},L.prototype.getBottom=function(){return this.y+this.height},L.prototype.intersects=function(O){return!(this.getRight()<O.x||this.getBottom()<O.y||O.getRight()<this.x||O.getBottom()<this.y)},L.prototype.getCenterX=function(){return this.x+this.width/2},L.prototype.getMinX=function(){return this.getX()},L.prototype.getMaxX=function(){return this.getX()+this.width},L.prototype.getCenterY=function(){return this.y+this.height/2},L.prototype.getMinY=function(){return this.getY()},L.prototype.getMaxY=function(){return this.getY()+this.height},L.prototype.getWidthHalf=function(){return this.width/2},L.prototype.getHeightHalf=function(){return this.height/2},ae.exports=L},function(ae,x,T){"use strict";var L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};function O(){}O.lastID=0,O.createID=function(I){return O.isPrimitive(I)?I:(null!=I.uniqueID||(I.uniqueID=O.getString(),O.lastID++),I.uniqueID)},O.getString=function(I){return null==I&&(I=O.lastID),"Object#"+I},O.isPrimitive=function(I){var C=typeof I>"u"?"undefined":L(I);return null==I||"object"!=C&&"function"!=C},ae.exports=O},function(ae,x,T){"use strict";function L(H){if(Array.isArray(H)){for(var $=0,J=Array(H.length);$<H.length;$++)J[$]=H[$];return J}return Array.from(H)}var O=T(0),I=T(6),C=T(3),S=T(1),R=T(5),N=T(4),B=T(17),k=T(27);function F(H){k.call(this),this.layoutQuality=O.QUALITY,this.createBendsAsNeeded=O.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=O.DEFAULT_INCREMENTAL,this.animationOnLayout=O.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=O.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=O.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=O.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new I(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=H&&(this.isRemoteUse=H)}F.RANDOM_SEED=1,(F.prototype=Object.create(k.prototype)).getGraphManager=function(){return this.graphManager},F.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},F.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},F.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},F.prototype.newGraphManager=function(){var H=new I(this);return this.graphManager=H,H},F.prototype.newGraph=function(H){return new R(null,this.graphManager,H)},F.prototype.newNode=function(H){return new C(this.graphManager,H)},F.prototype.newEdge=function(H){return new S(null,null,H)},F.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},F.prototype.runLayout=function(){var H;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),H=!this.checkLayoutSuccess()&&this.layout(),"during"!==O.ANIMATE&&(H&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,H)},F.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},F.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var $=this.graphManager.getAllEdges(),J=0;J<$.length;J++);var ne=this.graphManager.getRoot().getNodes();for(J=0;J<ne.length;J++);this.update(this.graphManager.getRoot())}},F.prototype.update=function(H){if(null==H)this.update2();else if(H instanceof C){var $=H;if(null!=$.getChild())for(var J=$.getChild().getNodes(),ce=0;ce<J.length;ce++)update(J[ce]);null!=$.vGraphObject&&$.vGraphObject.update($)}else H instanceof S?null!=H.vGraphObject&&H.vGraphObject.update(H):H instanceof R&&null!=H.vGraphObject&&H.vGraphObject.update(H)},F.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=O.QUALITY,this.animationDuringLayout=O.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=O.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=O.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=O.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=O.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=O.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},F.prototype.transform=function(H){if(null==H)this.transform(new N(0,0));else{var $=new B,J=this.graphManager.getRoot().updateLeftTop();if(null!=J){$.setWorldOrgX(H.x),$.setWorldOrgY(H.y),$.setDeviceOrgX(J.x),$.setDeviceOrgY(J.y);for(var ce=this.getAllNodes(),le=0;le<ce.length;le++)ce[le].transform($)}}},F.prototype.positionNodesRandomly=function(H){if(null==H)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var $,J,ce=H.getNodes(),ne=0;ne<ce.length;ne++)null==(J=($=ce[ne]).getChild())||0==J.getNodes().length?$.scatter():(this.positionNodesRandomly(J),$.updateBounds())},F.prototype.getFlatForest=function(){for(var H=[],$=!0,J=this.graphManager.getRoot().getNodes(),ce=!0,ne=0;ne<J.length;ne++)null!=J[ne].getChild()&&(ce=!1);if(!ce)return H;var le=new Set,se=[],he=new Map,ee=[];for(ee=ee.concat(J);ee.length>0&&$;){for(se.push(ee[0]);se.length>0&&$;){var pe=se[0];se.splice(0,1),le.add(pe);var K=pe.getEdges();for(ne=0;ne<K.length;ne++){var oe=K[ne].getOtherEnd(pe);if(he.get(pe)!=oe){if(le.has(oe)){$=!1;break}se.push(oe),he.set(oe,pe)}}}if($){var ie=[].concat(L(le));for(H.push(ie),ne=0;ne<ie.length;ne++){var we=ee.indexOf(ie[ne]);we>-1&&ee.splice(we,1)}le=new Set,he=new Map}else H=[]}return H},F.prototype.createDummyNodesForBendpoints=function(H){for(var $=[],J=H.source,ce=this.graphManager.calcLowestCommonAncestor(H.source,H.target),ne=0;ne<H.bendpoints.length;ne++){var le=this.newNode(null);le.setRect(new Point(0,0),new Dimension(1,1)),ce.add(le);var se=this.newEdge(null);this.graphManager.add(se,J,le),$.add(le),J=le}return se=this.newEdge(null),this.graphManager.add(se,J,H.target),this.edgeToDummyNodes.set(H,$),H.isInterGraph()?this.graphManager.remove(H):ce.remove(H),$},F.prototype.createBendpointsFromDummyNodes=function(){var H=[];H=H.concat(this.graphManager.getAllEdges()),H=[].concat(L(this.edgeToDummyNodes.keys())).concat(H);for(var $=0;$<H.length;$++){var J=H[$];if(J.bendpoints.length>0){for(var ce=this.edgeToDummyNodes.get(J),ne=0;ne<ce.length;ne++){var le=ce[ne],se=new N(le.getCenterX(),le.getCenterY()),he=J.bendpoints.get(ne);he.x=se.x,he.y=se.y,le.getOwner().remove(le)}this.graphManager.add(J,J.source,J.target)}}},F.transform=function(H,$,J,ce){if(null!=J&&null!=ce){var ne=$;return H<=50?ne-=($-$/J)/50*(50-H):ne+=($*ce-$)/50*(H-50),ne}var he,ee;return H<=50?(he=9*$/500,ee=$/10):(he=9*$/50,ee=-8*$),he*H+ee},F.findCenterOfTree=function(H){var $=[];$=$.concat(H);var J=[],ce=new Map,ne=!1,le=null;(1==$.length||2==$.length)&&(ne=!0,le=$[0]);for(var se=0;se<$.length;se++){var ee=(he=$[se]).getNeighborsList().size;ce.set(he,he.getNeighborsList().size),1==ee&&J.push(he)}var pe=[];for(pe=pe.concat(J);!ne;){var K=[];for(K=K.concat(pe),pe=[],se=0;se<$.length;se++){var he,oe=$.indexOf(he=$[se]);oe>=0&&$.splice(oe,1),he.getNeighborsList().forEach(function(Se){if(J.indexOf(Se)<0){var Ve=ce.get(Se)-1;1==Ve&&pe.push(Se),ce.set(Se,Ve)}})}J=J.concat(pe),(1==$.length||2==$.length)&&(ne=!0,le=$[0])}return le},F.prototype.setGraphManager=function(H){this.graphManager=H},ae.exports=F},function(ae,x,T){"use strict";function L(){}L.seed=1,L.x=0,L.nextDouble=function(){return(L.x=1e4*Math.sin(L.seed++))-Math.floor(L.x)},ae.exports=L},function(ae,x,T){"use strict";var L=T(4);function O(I,C){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}O.prototype.getWorldOrgX=function(){return this.lworldOrgX},O.prototype.setWorldOrgX=function(I){this.lworldOrgX=I},O.prototype.getWorldOrgY=function(){return this.lworldOrgY},O.prototype.setWorldOrgY=function(I){this.lworldOrgY=I},O.prototype.getWorldExtX=function(){return this.lworldExtX},O.prototype.setWorldExtX=function(I){this.lworldExtX=I},O.prototype.getWorldExtY=function(){return this.lworldExtY},O.prototype.setWorldExtY=function(I){this.lworldExtY=I},O.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},O.prototype.setDeviceOrgX=function(I){this.ldeviceOrgX=I},O.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},O.prototype.setDeviceOrgY=function(I){this.ldeviceOrgY=I},O.prototype.getDeviceExtX=function(){return this.ldeviceExtX},O.prototype.setDeviceExtX=function(I){this.ldeviceExtX=I},O.prototype.getDeviceExtY=function(){return this.ldeviceExtY},O.prototype.setDeviceExtY=function(I){this.ldeviceExtY=I},O.prototype.transformX=function(I){var C=0,S=this.lworldExtX;return 0!=S&&(C=this.ldeviceOrgX+(I-this.lworldOrgX)*this.ldeviceExtX/S),C},O.prototype.transformY=function(I){var C=0,S=this.lworldExtY;return 0!=S&&(C=this.ldeviceOrgY+(I-this.lworldOrgY)*this.ldeviceExtY/S),C},O.prototype.inverseTransformX=function(I){var C=0,S=this.ldeviceExtX;return 0!=S&&(C=this.lworldOrgX+(I-this.ldeviceOrgX)*this.lworldExtX/S),C},O.prototype.inverseTransformY=function(I){var C=0,S=this.ldeviceExtY;return 0!=S&&(C=this.lworldOrgY+(I-this.ldeviceOrgY)*this.lworldExtY/S),C},O.prototype.inverseTransformPoint=function(I){return new L(this.inverseTransformX(I.x),this.inverseTransformY(I.y))},ae.exports=O},function(ae,x,T){"use strict";var O=T(15),I=T(7),C=T(0),S=T(8),R=T(9);function N(){O.call(this),this.useSmartIdealEdgeLengthCalculation=I.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=I.DEFAULT_EDGE_LENGTH,this.springConstant=I.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=I.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=I.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=I.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=I.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=I.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*I.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=I.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=I.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=I.MAX_ITERATIONS}for(var B in N.prototype=Object.create(O.prototype),O)N[B]=O[B];N.prototype.initParameters=function(){O.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=I.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},N.prototype.calcIdealEdgeLengths=function(){for(var k,F,H,$,J,ce,ne=this.getGraphManager().getAllEdges(),le=0;le<ne.length;le++)(k=ne[le]).idealLength=this.idealEdgeLength,k.isInterGraph&&(H=k.getSource(),$=k.getTarget(),J=k.getSourceInLca().getEstimatedSize(),ce=k.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(k.idealLength+=J+ce-2*C.SIMPLE_NODE_SIZE),F=k.getLca().getInclusionTreeDepth(),k.idealLength+=I.DEFAULT_EDGE_LENGTH*I.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(H.getInclusionTreeDepth()+$.getInclusionTreeDepth()-2*F))},N.prototype.initSpringEmbedder=function(){var k=this.getAllNodes().length;this.incremental?(k>I.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*I.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(k-I.ADAPTATION_LOWER_NODE_LIMIT)/(I.ADAPTATION_UPPER_NODE_LIMIT-I.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-I.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=I.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.coolingFactor=k>I.ADAPTATION_LOWER_NODE_LIMIT?Math.max(I.COOLING_ADAPTATION_FACTOR,1-(k-I.ADAPTATION_LOWER_NODE_LIMIT)/(I.ADAPTATION_UPPER_NODE_LIMIT-I.ADAPTATION_LOWER_NODE_LIMIT)*(1-I.COOLING_ADAPTATION_FACTOR)):1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=I.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},N.prototype.calcSpringForces=function(){for(var F,k=this.getAllEdges(),H=0;H<k.length;H++)this.calcSpringForce(F=k[H],F.idealLength)},N.prototype.calcRepulsionForces=function(){var H,$,J,ce,le,k=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],F=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ne=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%I.GRID_CALCULATION_CHECK_PERIOD==1&&k&&this.updateGrid(),le=new Set,H=0;H<ne.length;H++)this.calculateRepulsionForceOfANode(J=ne[H],le,k,F),le.add(J);else for(H=0;H<ne.length;H++)for(J=ne[H],$=H+1;$<ne.length;$++)ce=ne[$],J.getOwner()==ce.getOwner()&&this.calcRepulsionForce(J,ce)},N.prototype.calcGravitationalForces=function(){for(var F=this.getAllNodesToApplyGravitation(),H=0;H<F.length;H++)this.calcGravitationalForce(F[H])},N.prototype.moveNodes=function(){for(var k=this.getAllNodes(),H=0;H<k.length;H++)k[H].move()},N.prototype.calcSpringForce=function(k,F){var J,ce,ne,le,H=k.getSource(),$=k.getTarget();if(this.uniformLeafNodeSizes&&null==H.getChild()&&null==$.getChild())k.updateLengthSimple();else if(k.updateLength(),k.isOverlapingSourceAndTarget)return;0!=(J=k.getLength())&&(le=(ce=this.springConstant*(J-F))*(k.lengthY/J),H.springForceX+=ne=ce*(k.lengthX/J),H.springForceY+=le,$.springForceX-=ne,$.springForceY-=le)},N.prototype.calcRepulsionForce=function(k,F){var ne,le,se,he,ee,pe,K,H=k.getRect(),$=F.getRect(),J=new Array(2),ce=new Array(4);if(H.intersects($)){S.calcSeparationAmount(H,$,J,I.DEFAULT_EDGE_LENGTH/2),K=2*J[1];var oe=k.noOfChildren*F.noOfChildren/(k.noOfChildren+F.noOfChildren);k.repulsionForceX-=oe*(pe=2*J[0]),k.repulsionForceY-=oe*K,F.repulsionForceX+=oe*pe,F.repulsionForceY+=oe*K}else this.uniformLeafNodeSizes&&null==k.getChild()&&null==F.getChild()?(ne=$.getCenterX()-H.getCenterX(),le=$.getCenterY()-H.getCenterY()):(S.getIntersection(H,$,ce),ne=ce[2]-ce[0],le=ce[3]-ce[1]),Math.abs(ne)<I.MIN_REPULSION_DIST&&(ne=R.sign(ne)*I.MIN_REPULSION_DIST),Math.abs(le)<I.MIN_REPULSION_DIST&&(le=R.sign(le)*I.MIN_REPULSION_DIST),se=ne*ne+le*le,he=Math.sqrt(se),K=(ee=this.repulsionConstant*k.noOfChildren*F.noOfChildren/se)*le/he,k.repulsionForceX-=pe=ee*ne/he,k.repulsionForceY-=K,F.repulsionForceX+=pe,F.repulsionForceY+=K},N.prototype.calcGravitationalForce=function(k){var F,H,$,J,ce,ne,le,se;H=((F=k.getOwner()).getRight()+F.getLeft())/2,$=(F.getTop()+F.getBottom())/2,J=k.getCenterX()-H,ce=k.getCenterY()-$,ne=Math.abs(J)+k.getWidth()/2,le=Math.abs(ce)+k.getHeight()/2,k.getOwner()==this.graphManager.getRoot()?(ne>(se=F.getEstimatedSize()*this.gravityRangeFactor)||le>se)&&(k.gravitationForceX=-this.gravityConstant*J,k.gravitationForceY=-this.gravityConstant*ce):(ne>(se=F.getEstimatedSize()*this.compoundGravityRangeFactor)||le>se)&&(k.gravitationForceX=-this.gravityConstant*J*this.compoundGravityConstant,k.gravitationForceY=-this.gravityConstant*ce*this.compoundGravityConstant)},N.prototype.isConverged=function(){var k,F=!1;return this.totalIterations>this.maxIterations/3&&(F=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),k=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,k||F},N.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},N.prototype.calcNoOfChildrenForAllNodes=function(){for(var k,F=this.graphManager.getAllNodes(),H=0;H<F.length;H++)(k=F[H]).noOfChildren=k.getNoOfChildren()},N.prototype.calcGrid=function(k){var F,H;F=parseInt(Math.ceil((k.getRight()-k.getLeft())/this.repulsionRange)),H=parseInt(Math.ceil((k.getBottom()-k.getTop())/this.repulsionRange));for(var $=new Array(F),J=0;J<F;J++)$[J]=new Array(H);for(J=0;J<F;J++)for(var ce=0;ce<H;ce++)$[J][ce]=new Array;return $},N.prototype.addNodeToGrid=function(k,F,H){var $,J,ce,ne;$=parseInt(Math.floor((k.getRect().x-F)/this.repulsionRange)),J=parseInt(Math.floor((k.getRect().width+k.getRect().x-F)/this.repulsionRange)),ce=parseInt(Math.floor((k.getRect().y-H)/this.repulsionRange)),ne=parseInt(Math.floor((k.getRect().height+k.getRect().y-H)/this.repulsionRange));for(var le=$;le<=J;le++)for(var se=ce;se<=ne;se++)this.grid[le][se].push(k),k.setGridCoordinates($,J,ce,ne)},N.prototype.updateGrid=function(){var k,H=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),k=0;k<H.length;k++)this.addNodeToGrid(H[k],this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},N.prototype.calculateRepulsionForceOfANode=function(k,F,H,$){if(this.totalIterations%I.GRID_CALCULATION_CHECK_PERIOD==1&&H||$){var J=new Set;k.surrounding=new Array;for(var ce,ne=this.grid,le=k.startX-1;le<k.finishX+2;le++)for(var se=k.startY-1;se<k.finishY+2;se++)if(!(le<0||se<0||le>=ne.length||se>=ne[0].length))for(var he=0;he<ne[le][se].length;he++)if(ce=ne[le][se][he],k.getOwner()==ce.getOwner()&&k!=ce&&!F.has(ce)&&!J.has(ce)){var ee=Math.abs(k.getCenterX()-ce.getCenterX())-(k.getWidth()/2+ce.getWidth()/2),pe=Math.abs(k.getCenterY()-ce.getCenterY())-(k.getHeight()/2+ce.getHeight()/2);ee<=this.repulsionRange&&pe<=this.repulsionRange&&J.add(ce)}k.surrounding=[].concat(function L(k){if(Array.isArray(k)){for(var F=0,H=Array(k.length);F<k.length;F++)H[F]=k[F];return H}return Array.from(k)}(J))}for(le=0;le<k.surrounding.length;le++)this.calcRepulsionForce(k,k.surrounding[le])},N.prototype.calcRepulsionRange=function(){return 0},ae.exports=N},function(ae,x,T){"use strict";var L=T(1),O=T(7);function I(S,R,N){L.call(this,S,R,N),this.idealLength=O.DEFAULT_EDGE_LENGTH}for(var C in I.prototype=Object.create(L.prototype),L)I[C]=L[C];ae.exports=I},function(ae,x,T){"use strict";var L=T(3);function O(C,S,R,N){L.call(this,C,S,R,N),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var I in O.prototype=Object.create(L.prototype),L)O[I]=L[I];O.prototype.setGridCoordinates=function(C,S,R,N){this.startX=C,this.finishX=S,this.startY=R,this.finishY=N},ae.exports=O},function(ae,x,T){"use strict";function L(O,I){this.width=0,this.height=0,null!==O&&null!==I&&(this.height=I,this.width=O)}L.prototype.getWidth=function(){return this.width},L.prototype.setWidth=function(O){this.width=O},L.prototype.getHeight=function(){return this.height},L.prototype.setHeight=function(O){this.height=O},ae.exports=L},function(ae,x,T){"use strict";var L=T(14);function O(){this.map={},this.keys=[]}O.prototype.put=function(I,C){var S=L.createID(I);this.contains(S)||(this.map[S]=C,this.keys.push(I))},O.prototype.contains=function(I){return L.createID(I),null!=this.map[I]},O.prototype.get=function(I){var C=L.createID(I);return this.map[C]},O.prototype.keySet=function(){return this.keys},ae.exports=O},function(ae,x,T){"use strict";var L=T(14);function O(){this.set={}}O.prototype.add=function(I){var C=L.createID(I);this.contains(C)||(this.set[C]=I)},O.prototype.remove=function(I){delete this.set[L.createID(I)]},O.prototype.clear=function(){this.set={}},O.prototype.contains=function(I){return this.set[L.createID(I)]==I},O.prototype.isEmpty=function(){return 0===this.size()},O.prototype.size=function(){return Object.keys(this.set).length},O.prototype.addAllTo=function(I){for(var C=Object.keys(this.set),S=C.length,R=0;R<S;R++)I.push(this.set[C[R]])},O.prototype.size=function(){return Object.keys(this.set).length},O.prototype.addAll=function(I){for(var C=I.length,S=0;S<C;S++)this.add(I[S])},ae.exports=O},function(ae,x,T){"use strict";var L=function(){function S(R,N){for(var B=0;B<N.length;B++){var k=N[B];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(R,k.key,k)}}return function(R,N,B){return N&&S(R.prototype,N),B&&S(R,B),R}}();var I=T(11),C=function(){function S(R,N){(function O(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")})(this,S),(null!==N||void 0!==N)&&(this.compareFunction=this._defaultCompareFunction);var B;B=R instanceof I?R.size():R.length,this._quicksort(R,0,B-1)}return L(S,[{key:"_quicksort",value:function(N,B,k){if(B<k){var F=this._partition(N,B,k);this._quicksort(N,B,F),this._quicksort(N,F+1,k)}}},{key:"_partition",value:function(N,B,k){for(var F=this._get(N,B),H=B,$=k;;){for(;this.compareFunction(F,this._get(N,$));)$--;for(;this.compareFunction(this._get(N,H),F);)H++;if(!(H<$))return $;this._swap(N,H,$),H++,$--}}},{key:"_get",value:function(N,B){return N instanceof I?N.get_object_at(B):N[B]}},{key:"_set",value:function(N,B,k){N instanceof I?N.set_object_at(B,k):N[B]=k}},{key:"_swap",value:function(N,B,k){var F=this._get(N,B);this._set(N,B,this._get(N,k)),this._set(N,k,F)}},{key:"_defaultCompareFunction",value:function(N,B){return B>N}}]),S}();ae.exports=C},function(ae,x,T){"use strict";var L=function(){function C(S,R){for(var N=0;N<R.length;N++){var B=R[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(S,B.key,B)}}return function(S,R,N){return R&&C(S.prototype,R),N&&C(S,N),S}}();var I=function(){function C(S,R){var N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,k=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;(function O(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")})(this,C),this.sequence1=S,this.sequence2=R,this.match_score=N,this.mismatch_penalty=B,this.gap_penalty=k,this.iMax=S.length+1,this.jMax=R.length+1,this.grid=new Array(this.iMax);for(var F=0;F<this.iMax;F++){this.grid[F]=new Array(this.jMax);for(var H=0;H<this.jMax;H++)this.grid[F][H]=0}this.tracebackGrid=new Array(this.iMax);for(var $=0;$<this.iMax;$++){this.tracebackGrid[$]=new Array(this.jMax);for(var J=0;J<this.jMax;J++)this.tracebackGrid[$][J]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return L(C,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var R=1;R<this.jMax;R++)this.grid[0][R]=this.grid[0][R-1]+this.gap_penalty,this.tracebackGrid[0][R]=[!1,!1,!0];for(var N=1;N<this.iMax;N++)this.grid[N][0]=this.grid[N-1][0]+this.gap_penalty,this.tracebackGrid[N][0]=[!1,!0,!1];for(var B=1;B<this.iMax;B++)for(var k=1;k<this.jMax;k++){var J=[this.sequence1[B-1]===this.sequence2[k-1]?this.grid[B-1][k-1]+this.match_score:this.grid[B-1][k-1]+this.mismatch_penalty,this.grid[B-1][k]+this.gap_penalty,this.grid[B][k-1]+this.gap_penalty],ce=this.arrayAllMaxIndexes(J);this.grid[B][k]=J[ce[0]],this.tracebackGrid[B][k]=[ce.includes(0),ce.includes(1),ce.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var R=[];for(R.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});R[0];){var N=R[0],B=this.tracebackGrid[N.pos[0]][N.pos[1]];B[0]&&R.push({pos:[N.pos[0]-1,N.pos[1]-1],seq1:this.sequence1[N.pos[0]-1]+N.seq1,seq2:this.sequence2[N.pos[1]-1]+N.seq2}),B[1]&&R.push({pos:[N.pos[0]-1,N.pos[1]],seq1:this.sequence1[N.pos[0]-1]+N.seq1,seq2:"-"+N.seq2}),B[2]&&R.push({pos:[N.pos[0],N.pos[1]-1],seq1:"-"+N.seq1,seq2:this.sequence2[N.pos[1]-1]+N.seq2}),0===N.pos[0]&&0===N.pos[1]&&this.alignments.push({sequence1:N.seq1,sequence2:N.seq2}),R.shift()}return this.alignments}},{key:"getAllIndexes",value:function(R,N){for(var B=[],k=-1;-1!==(k=R.indexOf(N,k+1));)B.push(k);return B}},{key:"arrayAllMaxIndexes",value:function(R){return this.getAllIndexes(R,Math.max.apply(null,R))}}]),C}();ae.exports=I},function(ae,x,T){"use strict";var L=function(){};L.FDLayout=T(18),L.FDLayoutConstants=T(7),L.FDLayoutEdge=T(19),L.FDLayoutNode=T(20),L.DimensionD=T(21),L.HashMap=T(22),L.HashSet=T(23),L.IGeometry=T(8),L.IMath=T(9),L.Integer=T(10),L.Point=T(12),L.PointD=T(4),L.RandomSeed=T(16),L.RectangleD=T(13),L.Transform=T(17),L.UniqueIDGeneretor=T(14),L.Quicksort=T(24),L.LinkedList=T(11),L.LGraphObject=T(2),L.LGraph=T(5),L.LEdge=T(1),L.LGraphManager=T(6),L.LNode=T(3),L.Layout=T(15),L.LayoutConstants=T(0),L.NeedlemanWunsch=T(25),ae.exports=L},function(ae,x,T){"use strict";function L(){this.listeners=[]}var O=L.prototype;O.addListener=function(I,C){this.listeners.push({event:I,callback:C})},O.removeListener=function(I,C){for(var S=this.listeners.length;S>=0;S--){var R=this.listeners[S];R.event===I&&R.callback===C&&this.listeners.splice(S,1)}},O.emit=function(I,C){for(var S=0;S<this.listeners.length;S++){var R=this.listeners[S];I===R.event&&R.callback(C)}},ae.exports=L}])},6506:(j,ae,x)=>{var O=x(8745)(x(8492),"DataView");j.exports=O},9618:(j,ae,x)=>{var T=x(5602),L=x(1499),O=x(2990),I=x(480),C=x(4469);function S(R){var N=-1,B=null==R?0:R.length;for(this.clear();++N<B;){var k=R[N];this.set(k[0],k[1])}}S.prototype.clear=T,S.prototype.delete=L,S.prototype.get=O,S.prototype.has=I,S.prototype.set=C,j.exports=S},3597:(j,ae,x)=>{var T=x(9365),L=x(9343),O=x(4779),I=x(1509),C=x(7137);function S(R){var N=-1,B=null==R?0:R.length;for(this.clear();++N<B;){var k=R[N];this.set(k[0],k[1])}}S.prototype.clear=T,S.prototype.delete=L,S.prototype.get=O,S.prototype.has=I,S.prototype.set=C,j.exports=S},1136:(j,ae,x)=>{var O=x(8745)(x(8492),"Map");j.exports=O},1811:(j,ae,x)=>{var T=x(3413),L=x(5419),O=x(7336),I=x(1115),C=x(6648);function S(R){var N=-1,B=null==R?0:R.length;for(this.clear();++N<B;){var k=R[N];this.set(k[0],k[1])}}S.prototype.clear=T,S.prototype.delete=L,S.prototype.get=O,S.prototype.has=I,S.prototype.set=C,j.exports=S},641:(j,ae,x)=>{var O=x(8745)(x(8492),"Promise");j.exports=O},1732:(j,ae,x)=>{var O=x(8745)(x(8492),"Set");j.exports=O},5960:(j,ae,x)=>{var T=x(1811),L=x(6151),O=x(2154);function I(C){var S=-1,R=null==C?0:C.length;for(this.__data__=new T;++S<R;)this.add(C[S])}I.prototype.add=I.prototype.push=L,I.prototype.has=O,j.exports=I},1339:(j,ae,x)=>{var T=x(3597),L=x(9488),O=x(5943),I=x(5456),C=x(4793),S=x(8689);function R(N){var B=this.__data__=new T(N);this.size=B.size}R.prototype.clear=L,R.prototype.delete=O,R.prototype.get=I,R.prototype.has=C,R.prototype.set=S,j.exports=R},1763:(j,ae,x)=>{var T=x(8492);j.exports=T.Symbol},2760:(j,ae,x)=>{var T=x(8492);j.exports=T.Uint8Array},6413:(j,ae,x)=>{var O=x(8745)(x(8492),"WeakMap");j.exports=O},7910:j=>{j.exports=function ae(x,T,L){switch(L.length){case 0:return x.call(T);case 1:return x.call(T,L[0]);case 2:return x.call(T,L[0],L[1]);case 3:return x.call(T,L[0],L[1],L[2])}return x.apply(T,L)}},7772:j=>{j.exports=function ae(x,T){for(var L=-1,O=null==x?0:x.length;++L<O&&!1!==T(x[L],L,x););return x}},2134:j=>{j.exports=function ae(x,T){for(var L=-1,O=null==x?0:x.length,I=0,C=[];++L<O;){var S=x[L];T(S,L,x)&&(C[I++]=S)}return C}},8750:(j,ae,x)=>{var T=x(9568);j.exports=function L(O,I){return!(null==O||!O.length)&&T(O,I,0)>-1}},6736:j=>{j.exports=function ae(x,T,L){for(var O=-1,I=null==x?0:x.length;++O<I;)if(L(T,x[O]))return!0;return!1}},1384:(j,ae,x)=>{var T=x(5025),L=x(1955),O=x(2261),I=x(7525),C=x(5188),S=x(4868),N=Object.prototype.hasOwnProperty;j.exports=function B(k,F){var H=O(k),$=!H&&L(k),J=!H&&!$&&I(k),ce=!H&&!$&&!J&&S(k),ne=H||$||J||ce,le=ne?T(k.length,String):[],se=le.length;for(var he in k)(F||N.call(k,he))&&(!ne||!("length"==he||J&&("offset"==he||"parent"==he)||ce&&("buffer"==he||"byteLength"==he||"byteOffset"==he)||C(he,se)))&&le.push(he);return le}},3880:j=>{j.exports=function ae(x,T){for(var L=-1,O=null==x?0:x.length,I=Array(O);++L<O;)I[L]=T(x[L],L,x);return I}},7853:j=>{j.exports=function ae(x,T){for(var L=-1,O=T.length,I=x.length;++L<O;)x[I+L]=T[L];return x}},9850:j=>{j.exports=function ae(x,T,L,O){var I=-1,C=null==x?0:x.length;for(O&&C&&(L=x[++I]);++I<C;)L=T(L,x[I],I,x);return L}},5916:j=>{j.exports=function ae(x,T){for(var L=-1,O=null==x?0:x.length;++L<O;)if(T(x[L],L,x))return!0;return!1}},6181:(j,ae,x)=>{var L=x(3400)("length");j.exports=L},6697:(j,ae,x)=>{var T=x(1741),L=x(7826);j.exports=function O(I,C,S){(void 0!==S&&!L(I[C],S)||void 0===S&&!(C in I))&&T(I,C,S)}},9553:(j,ae,x)=>{var T=x(1741),L=x(7826),I=Object.prototype.hasOwnProperty;j.exports=function C(S,R,N){var B=S[R];(!I.call(S,R)||!L(B,N)||void 0===N&&!(R in S))&&T(S,R,N)}},4056:(j,ae,x)=>{var T=x(7826);j.exports=function L(O,I){for(var C=O.length;C--;)if(T(O[C][0],I))return C;return-1}},6234:(j,ae,x)=>{var T=x(5931),L=x(4614);j.exports=function O(I,C){return I&&T(C,L(C),I)}},4431:(j,ae,x)=>{var T=x(5931),L=x(6402);j.exports=function O(I,C){return I&&T(C,L(C),I)}},1741:(j,ae,x)=>{var T=x(9383);j.exports=function L(O,I,C){"__proto__"==I&&T?T(O,I,{configurable:!0,enumerable:!0,value:C,writable:!0}):O[I]=C}},1320:(j,ae,x)=>{var T=x(1339),L=x(7772),O=x(9553),I=x(6234),C=x(4431),S=x(6002),R=x(4231),N=x(9385),B=x(4354),k=x(6131),F=x(2442),H=x(2472),$=x(9431),J=x(514),ce=x(9225),ne=x(2261),le=x(7525),se=x(990),he=x(9794),ee=x(8611),pe=x(4614),K=x(6402),we="[object Arguments]",et="[object Function]",$e="[object Object]",An={};An[we]=An["[object Array]"]=An["[object ArrayBuffer]"]=An["[object DataView]"]=An["[object Boolean]"]=An["[object Date]"]=An["[object Float32Array]"]=An["[object Float64Array]"]=An["[object Int8Array]"]=An["[object Int16Array]"]=An["[object Int32Array]"]=An["[object Map]"]=An["[object Number]"]=An[$e]=An["[object RegExp]"]=An["[object Set]"]=An["[object String]"]=An["[object Symbol]"]=An["[object Uint8Array]"]=An["[object Uint8ClampedArray]"]=An["[object Uint16Array]"]=An["[object Uint32Array]"]=!0,An["[object Error]"]=An[et]=An["[object WeakMap]"]=!1,j.exports=function kr(nn,gi,Bi,wi,Ci,Lr){var Ri,Ta=1&gi,ss=2&gi,En=4&gi;if(Bi&&(Ri=Ci?Bi(nn,wi,Ci,Lr):Bi(nn)),void 0!==Ri)return Ri;if(!he(nn))return nn;var hl=ne(nn);if(hl){if(Ri=$(nn),!Ta)return R(nn,Ri)}else{var Ro=H(nn),Lo=Ro==et||"[object GeneratorFunction]"==Ro;if(le(nn))return S(nn,Ta);if(Ro==$e||Ro==we||Lo&&!Ci){if(Ri=ss||Lo?{}:ce(nn),!Ta)return ss?B(nn,C(Ri,nn)):N(nn,I(Ri,nn))}else{if(!An[Ro])return Ci?nn:{};Ri=J(nn,Ro,Ta)}}Lr||(Lr=new T);var zs=Lr.get(nn);if(zs)return zs;Lr.set(nn,Ri),ee(nn)?nn.forEach(function(pn){Ri.add(kr(pn,gi,Bi,pn,nn,Lr))}):se(nn)&&nn.forEach(function(pn,ta){Ri.set(ta,kr(pn,gi,Bi,ta,nn,Lr))});var ls=hl?void 0:(En?ss?F:k:ss?K:pe)(nn);return L(ls||nn,function(pn,ta){ls&&(pn=nn[ta=pn]),O(Ri,ta,kr(pn,gi,Bi,ta,nn,Lr))}),Ri}},1391:(j,ae,x)=>{var T=x(9794),L=Object.create,O=function(){function I(){}return function(C){if(!T(C))return{};if(L)return L(C);I.prototype=C;var S=new I;return I.prototype=void 0,S}}();j.exports=O},5103:(j,ae,x)=>{var T=x(7794),O=x(9386)(T);j.exports=O},4530:(j,ae,x)=>{var T=x(3423);j.exports=function L(O,I,C){for(var S=-1,R=O.length;++S<R;){var N=O[S],B=I(N);if(null!=B&&(void 0===k?B==B&&!T(B):C(B,k)))var k=B,F=N}return F}},1892:(j,ae,x)=>{var T=x(5103);j.exports=function L(O,I){var C=[];return T(O,function(S,R,N){I(S,R,N)&&C.push(S)}),C}},4051:j=>{j.exports=function ae(x,T,L,O){for(var I=x.length,C=L+(O?1:-1);O?C--:++C<I;)if(T(x[C],C,x))return C;return-1}},1883:(j,ae,x)=>{var T=x(7853),L=x(2241);j.exports=function O(I,C,S,R,N){var B=-1,k=I.length;for(S||(S=L),N||(N=[]);++B<k;){var F=I[B];C>0&&S(F)?C>1?O(F,C-1,S,R,N):T(N,F):R||(N[N.length]=F)}return N}},6483:(j,ae,x)=>{var L=x(2086)();j.exports=L},7794:(j,ae,x)=>{var T=x(6483),L=x(4614);j.exports=function O(I,C){return I&&T(I,C,L)}},2202:(j,ae,x)=>{var T=x(4826),L=x(8916);j.exports=function O(I,C){for(var S=0,R=(C=T(C,I)).length;null!=I&&S<R;)I=I[L(C[S++])];return S&&S==R?I:void 0}},7427:(j,ae,x)=>{var T=x(7853),L=x(2261);j.exports=function O(I,C,S){var R=C(I);return L(I)?R:T(R,S(I))}},4590:(j,ae,x)=>{var T=x(1763),L=x(5933),O=x(9243),S=T?T.toStringTag:void 0;j.exports=function R(N){return null==N?void 0===N?"[object Undefined]":"[object Null]":S&&S in Object(N)?L(N):O(N)}},8444:j=>{j.exports=function ae(x,T){return x>T}},4493:j=>{var x=Object.prototype.hasOwnProperty;j.exports=function T(L,O){return null!=L&&x.call(L,O)}},3274:j=>{j.exports=function ae(x,T){return null!=x&&T in Object(x)}},9568:(j,ae,x)=>{var T=x(4051),L=x(1817),O=x(2528);j.exports=function I(C,S,R){return S==S?O(C,S,R):T(C,L,R)}},3022:(j,ae,x)=>{var T=x(4590),L=x(3714);j.exports=function I(C){return L(C)&&"[object Arguments]"==T(C)}},7108:(j,ae,x)=>{var T=x(7946),L=x(3714);j.exports=function O(I,C,S,R,N){return I===C||(null==I||null==C||!L(I)&&!L(C)?I!=I&&C!=C:T(I,C,S,R,O,N))}},7946:(j,ae,x)=>{var T=x(1339),L=x(7469),O=x(1642),I=x(9462),C=x(2472),S=x(2261),R=x(7525),N=x(4868),k="[object Arguments]",F="[object Array]",H="[object Object]",J=Object.prototype.hasOwnProperty;j.exports=function ce(ne,le,se,he,ee,pe){var K=S(ne),oe=S(le),ie=K?F:C(ne),ge=oe?F:C(le),we=(ie=ie==k?H:ie)==H,Se=(ge=ge==k?H:ge)==H,xe=ie==ge;if(xe&&R(ne)){if(!R(le))return!1;K=!0,we=!1}if(xe&&!we)return pe||(pe=new T),K||N(ne)?L(ne,le,se,he,ee,pe):O(ne,le,ie,se,he,ee,pe);if(!(1&se)){var Ve=we&&J.call(ne,"__wrapped__"),_e=Se&&J.call(le,"__wrapped__");if(Ve||_e){var et=Ve?ne.value():ne,at=_e?le.value():le;return pe||(pe=new T),ee(et,at,se,he,pe)}}return!!xe&&(pe||(pe=new T),I(ne,le,se,he,ee,pe))}},8562:(j,ae,x)=>{var T=x(2472),L=x(3714);j.exports=function I(C){return L(C)&&"[object Map]"==T(C)}},2527:(j,ae,x)=>{var T=x(1339),L=x(7108);j.exports=function C(S,R,N,B){var k=N.length,F=k,H=!B;if(null==S)return!F;for(S=Object(S);k--;){var $=N[k];if(H&&$[2]?$[1]!==S[$[0]]:!($[0]in S))return!1}for(;++k<F;){var J=($=N[k])[0],ce=S[J],ne=$[1];if(H&&$[2]){if(void 0===ce&&!(J in S))return!1}else{var le=new T;if(B)var se=B(ce,ne,J,S,R,le);if(!(void 0===se?L(ne,ce,3,B,le):se))return!1}}return!0}},1817:j=>{j.exports=function ae(x){return x!=x}},1082:(j,ae,x)=>{var T=x(6861),L=x(9950),O=x(9794),I=x(7075),S=/^\[object .+?Constructor\]$/,F=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");j.exports=function H($){return!(!O($)||L($))&&(T($)?F:S).test(I($))}},1202:(j,ae,x)=>{var T=x(2472),L=x(3714);j.exports=function I(C){return L(C)&&"[object Set]"==T(C)}},8902:(j,ae,x)=>{var T=x(4590),L=x(7765),O=x(3714),xe={};xe["[object Float32Array]"]=xe["[object Float64Array]"]=xe["[object Int8Array]"]=xe["[object Int16Array]"]=xe["[object Int32Array]"]=xe["[object Uint8Array]"]=xe["[object Uint8ClampedArray]"]=xe["[object Uint16Array]"]=xe["[object Uint32Array]"]=!0,xe["[object Arguments]"]=xe["[object Array]"]=xe["[object ArrayBuffer]"]=xe["[object Boolean]"]=xe["[object DataView]"]=xe["[object Date]"]=xe["[object Error]"]=xe["[object Function]"]=xe["[object Map]"]=xe["[object Number]"]=xe["[object Object]"]=xe["[object RegExp]"]=xe["[object Set]"]=xe["[object String]"]=xe["[object WeakMap]"]=!1,j.exports=function Ve(_e){return O(_e)&&L(_e.length)&&!!xe[T(_e)]}},1627:(j,ae,x)=>{var T=x(2924),L=x(8526),O=x(5657),I=x(2261),C=x(2692);j.exports=function S(R){return"function"==typeof R?R:null==R?O:"object"==typeof R?I(R)?L(R[0],R[1]):T(R):C(R)}},190:(j,ae,x)=>{var T=x(6587),L=x(366),I=Object.prototype.hasOwnProperty;j.exports=function C(S){if(!T(S))return L(S);var R=[];for(var N in Object(S))I.call(S,N)&&"constructor"!=N&&R.push(N);return R}},7673:(j,ae,x)=>{var T=x(9794),L=x(6587),O=x(8981),C=Object.prototype.hasOwnProperty;j.exports=function S(R){if(!T(R))return O(R);var N=L(R),B=[];for(var k in R)"constructor"==k&&(N||!C.call(R,k))||B.push(k);return B}},8898:j=>{j.exports=function ae(x,T){return x<T}},2839:(j,ae,x)=>{var T=x(5103),L=x(2447);j.exports=function O(I,C){var S=-1,R=L(I)?Array(I.length):[];return T(I,function(N,B,k){R[++S]=C(N,B,k)}),R}},2924:(j,ae,x)=>{var T=x(2527),L=x(7895),O=x(2265);j.exports=function I(C){var S=L(C);return 1==S.length&&S[0][2]?O(S[0][0],S[0][1]):function(R){return R===C||T(R,C,S)}}},8526:(j,ae,x)=>{var T=x(7108),L=x(5440),O=x(2494),I=x(6300),C=x(3921),S=x(2265),R=x(8916);j.exports=function k(F,H){return I(F)&&C(H)?S(R(F),H):function($){var J=L($,F);return void 0===J&&J===H?O($,F):T(H,J,3)}}},3294:(j,ae,x)=>{var T=x(1339),L=x(6697),O=x(6483),I=x(9218),C=x(9794),S=x(6402),R=x(7524);j.exports=function N(B,k,F,H,$){B!==k&&O(k,function(J,ce){if($||($=new T),C(J))I(B,k,ce,F,N,H,$);else{var ne=H?H(R(B,ce),J,ce+"",B,k,$):void 0;void 0===ne&&(ne=J),L(B,ce,ne)}},S)}},9218:(j,ae,x)=>{var T=x(6697),L=x(6002),O=x(2501),I=x(4231),C=x(9225),S=x(1955),R=x(2261),N=x(3471),B=x(7525),k=x(6861),F=x(9794),H=x(8168),$=x(4868),J=x(7524),ce=x(4210);j.exports=function ne(le,se,he,ee,pe,K,oe){var ie=J(le,he),ge=J(se,he),we=oe.get(ge);if(we)T(le,he,we);else{var Se=K?K(ie,ge,he+"",le,se,oe):void 0,xe=void 0===Se;if(xe){var Ve=R(ge),_e=!Ve&&B(ge),et=!Ve&&!_e&&$(ge);Se=ge,Ve||_e||et?R(ie)?Se=ie:N(ie)?Se=I(ie):_e?(xe=!1,Se=L(ge,!0)):et?(xe=!1,Se=O(ge,!0)):Se=[]:H(ge)||S(ge)?(Se=ie,S(ie)?Se=ce(ie):(!F(ie)||k(ie))&&(Se=C(ge))):xe=!1}xe&&(oe.set(ge,Se),pe(Se,ge,ee,K,oe),oe.delete(ge)),T(le,he,Se)}}},252:(j,ae,x)=>{var T=x(3880),L=x(2202),O=x(1627),I=x(2839),C=x(6389),S=x(5249),R=x(9664),N=x(5657),B=x(2261);j.exports=function k(F,H,$){H=H.length?T(H,function(ne){return B(ne)?function(le){return L(le,1===ne.length?ne[0]:ne)}:ne}):[N];var J=-1;H=T(H,S(O));var ce=I(F,function(ne,le,se){return{criteria:T(H,function(ee){return ee(ne)}),index:++J,value:ne}});return C(ce,function(ne,le){return R(ne,le,$)})}},2784:(j,ae,x)=>{var T=x(2772),L=x(2494);j.exports=function O(I,C){return T(I,C,function(S,R){return L(I,R)})}},2772:(j,ae,x)=>{var T=x(2202),L=x(9478),O=x(4826);j.exports=function I(C,S,R){for(var N=-1,B=S.length,k={};++N<B;){var F=S[N],H=T(C,F);R(H,F)&&L(k,O(F,C),H)}return k}},3400:j=>{j.exports=function ae(x){return function(T){return T?.[x]}}},6443:(j,ae,x)=>{var T=x(2202);j.exports=function L(O){return function(I){return T(I,O)}}},9948:j=>{var ae=Math.ceil,x=Math.max;j.exports=function T(L,O,I,C){for(var S=-1,R=x(ae((O-L)/(I||1)),0),N=Array(R);R--;)N[C?R:++S]=L,L+=I;return N}},8978:j=>{j.exports=function ae(x,T,L,O,I){return I(x,function(C,S,R){L=O?(O=!1,C):T(L,C,S,R)}),L}},8951:(j,ae,x)=>{var T=x(5657),L=x(2394),O=x(6814);j.exports=function I(C,S){return O(L(C,S,T),C+"")}},9478:(j,ae,x)=>{var T=x(9553),L=x(4826),O=x(5188),I=x(9794),C=x(8916);j.exports=function S(R,N,B,k){if(!I(R))return R;for(var F=-1,H=(N=L(N,R)).length,$=H-1,J=R;null!=J&&++F<H;){var ce=C(N[F]),ne=B;if("__proto__"===ce||"constructor"===ce||"prototype"===ce)return R;if(F!=$){var le=J[ce];void 0===(ne=k?k(le,ce,J):void 0)&&(ne=I(le)?le:O(N[F+1])?[]:{})}T(J,ce,ne),J=J[ce]}return R}},8235:(j,ae,x)=>{var T=x(1075),L=x(9383),O=x(5657);j.exports=L?function(C,S){return L(C,"toString",{configurable:!0,enumerable:!1,value:T(S),writable:!0})}:O},6389:j=>{j.exports=function ae(x,T){var L=x.length;for(x.sort(T);L--;)x[L]=x[L].value;return x}},5025:j=>{j.exports=function ae(x,T){for(var L=-1,O=Array(x);++L<x;)O[L]=T(L);return O}},7002:(j,ae,x)=>{var T=x(1763),L=x(3880),O=x(2261),I=x(3423),S=T?T.prototype:void 0,R=S?S.toString:void 0;j.exports=function N(B){if("string"==typeof B)return B;if(O(B))return L(B,N)+"";if(I(B))return R?R.call(B):"";var k=B+"";return"0"==k&&1/B==-1/0?"-0":k}},9484:(j,ae,x)=>{var T=x(1781),L=/^\s+/;j.exports=function O(I){return I&&I.slice(0,T(I)+1).replace(L,"")}},5249:j=>{j.exports=function ae(x){return function(T){return x(T)}}},9154:(j,ae,x)=>{var T=x(5960),L=x(8750),O=x(6736),I=x(4795),C=x(8433),S=x(8e3);j.exports=function N(B,k,F){var H=-1,$=L,J=B.length,ce=!0,ne=[],le=ne;if(F)ce=!1,$=O;else if(J>=200){var se=k?null:C(B);if(se)return S(se);ce=!1,$=I,le=new T}else le=k?[]:ne;e:for(;++H<J;){var he=B[H],ee=k?k(he):he;if(he=F||0!==he?he:0,ce&&ee==ee){for(var pe=le.length;pe--;)if(le[pe]===ee)continue e;k&&le.push(ee),ne.push(he)}else $(le,ee,F)||(le!==ne&&le.push(ee),ne.push(he))}return ne}},6680:(j,ae,x)=>{var T=x(3880);j.exports=function L(O,I){return T(I,function(C){return O[C]})}},2255:j=>{j.exports=function ae(x,T,L){for(var O=-1,I=x.length,C=T.length,S={};++O<I;)L(S,x[O],O<C?T[O]:void 0);return S}},4795:j=>{j.exports=function ae(x,T){return x.has(T)}},4655:(j,ae,x)=>{var T=x(5657);j.exports=function L(O){return"function"==typeof O?O:T}},4826:(j,ae,x)=>{var T=x(2261),L=x(6300),O=x(163),I=x(2674);j.exports=function C(S,R){return T(S)?S:L(S,R)?[S]:O(I(S))}},2355:(j,ae,x)=>{var T=x(2760);j.exports=function L(O){var I=new O.constructor(O.byteLength);return new T(I).set(new T(O)),I}},6002:(j,ae,x)=>{j=x.nmd(j);var T=x(8492),L=ae&&!ae.nodeType&&ae,O=L&&j&&!j.nodeType&&j,C=O&&O.exports===L?T.Buffer:void 0,S=C?C.allocUnsafe:void 0;j.exports=function R(N,B){if(B)return N.slice();var k=N.length,F=S?S(k):new N.constructor(k);return N.copy(F),F}},6693:(j,ae,x)=>{var T=x(2355);j.exports=function L(O,I){var C=I?T(O.buffer):O.buffer;return new O.constructor(C,O.byteOffset,O.byteLength)}},497:j=>{var ae=/\w*$/;j.exports=function x(T){var L=new T.constructor(T.source,ae.exec(T));return L.lastIndex=T.lastIndex,L}},3330:(j,ae,x)=>{var T=x(1763),L=T?T.prototype:void 0,O=L?L.valueOf:void 0;j.exports=function I(C){return O?Object(O.call(C)):{}}},2501:(j,ae,x)=>{var T=x(2355);j.exports=function L(O,I){var C=I?T(O.buffer):O.buffer;return new O.constructor(C,O.byteOffset,O.length)}},5400:(j,ae,x)=>{var T=x(3423);j.exports=function L(O,I){if(O!==I){var C=void 0!==O,S=null===O,R=O==O,N=T(O),B=void 0!==I,k=null===I,F=I==I,H=T(I);if(!k&&!H&&!N&&O>I||N&&B&&F&&!k&&!H||S&&B&&F||!C&&F||!R)return 1;if(!S&&!N&&!H&&O<I||H&&C&&R&&!S&&!N||k&&C&&R||!B&&R||!F)return-1}return 0}},9664:(j,ae,x)=>{var T=x(5400);j.exports=function L(O,I,C){for(var S=-1,R=O.criteria,N=I.criteria,B=R.length,k=C.length;++S<B;){var F=T(R[S],N[S]);if(F)return S>=k?F:F*("desc"==C[S]?-1:1)}return O.index-I.index}},4231:j=>{j.exports=function ae(x,T){var L=-1,O=x.length;for(T||(T=Array(O));++L<O;)T[L]=x[L];return T}},5931:(j,ae,x)=>{var T=x(9553),L=x(1741);j.exports=function O(I,C,S,R){var N=!S;S||(S={});for(var B=-1,k=C.length;++B<k;){var F=C[B],H=R?R(S[F],I[F],F,S,I):void 0;void 0===H&&(H=I[F]),N?L(S,F,H):T(S,F,H)}return S}},9385:(j,ae,x)=>{var T=x(5931),L=x(771);j.exports=function O(I,C){return T(I,L(I),C)}},4354:(j,ae,x)=>{var T=x(5931),L=x(708);j.exports=function O(I,C){return T(I,L(I),C)}},6189:(j,ae,x)=>{var T=x(8492);j.exports=T["__core-js_shared__"]},1300:(j,ae,x)=>{var T=x(8951),L=x(3817);j.exports=function O(I){return T(function(C,S){var R=-1,N=S.length,B=N>1?S[N-1]:void 0,k=N>2?S[2]:void 0;for(B=I.length>3&&"function"==typeof B?(N--,B):void 0,k&&L(S[0],S[1],k)&&(B=N<3?void 0:B,N=1),C=Object(C);++R<N;){var F=S[R];F&&I(C,F,R,B)}return C})}},9386:(j,ae,x)=>{var T=x(2447);j.exports=function L(O,I){return function(C,S){if(null==C)return C;if(!T(C))return O(C,S);for(var R=C.length,N=I?R:-1,B=Object(C);(I?N--:++N<R)&&!1!==S(B[N],N,B););return C}}},2086:j=>{j.exports=function ae(x){return function(T,L,O){for(var I=-1,C=Object(T),S=O(T),R=S.length;R--;){var N=S[x?R:++I];if(!1===L(C[N],N,C))break}return T}}},6738:(j,ae,x)=>{var T=x(1627),L=x(2447),O=x(4614);j.exports=function I(C){return function(S,R,N){var B=Object(S);if(!L(S)){var k=T(R,3);S=O(S),R=function(H){return k(B[H],H,B)}}var F=C(S,R,N);return F>-1?B[k?S[F]:F]:void 0}}},4222:(j,ae,x)=>{var T=x(9948),L=x(3817),O=x(9292);j.exports=function I(C){return function(S,R,N){return N&&"number"!=typeof N&&L(S,R,N)&&(R=N=void 0),S=O(S),void 0===R?(R=S,S=0):R=O(R),N=void 0===N?S<R?1:-1:O(N),T(S,R,N,C)}}},8433:(j,ae,x)=>{var T=x(1732),L=x(4249),O=x(8e3),C=T&&1/O(new T([,-0]))[1]==1/0?function(S){return new T(S)}:L;j.exports=C},9383:(j,ae,x)=>{var T=x(8745),L=function(){try{var O=T(Object,"defineProperty");return O({},"",{}),O}catch{}}();j.exports=L},7469:(j,ae,x)=>{var T=x(5960),L=x(5916),O=x(4795);j.exports=function S(R,N,B,k,F,H){var $=1&B,J=R.length,ce=N.length;if(J!=ce&&!($&&ce>J))return!1;var ne=H.get(R),le=H.get(N);if(ne&&le)return ne==N&&le==R;var se=-1,he=!0,ee=2&B?new T:void 0;for(H.set(R,N),H.set(N,R);++se<J;){var pe=R[se],K=N[se];if(k)var oe=$?k(K,pe,se,N,R,H):k(pe,K,se,R,N,H);if(void 0!==oe){if(oe)continue;he=!1;break}if(ee){if(!L(N,function(ie,ge){if(!O(ee,ge)&&(pe===ie||F(pe,ie,B,k,H)))return ee.push(ge)})){he=!1;break}}else if(pe!==K&&!F(pe,K,B,k,H)){he=!1;break}}return H.delete(R),H.delete(N),he}},1642:(j,ae,x)=>{var T=x(1763),L=x(2760),O=x(7826),I=x(7469),C=x(1575),S=x(8e3),ee=T?T.prototype:void 0,pe=ee?ee.valueOf:void 0;j.exports=function K(oe,ie,ge,we,Se,xe,Ve){switch(ge){case"[object DataView]":if(oe.byteLength!=ie.byteLength||oe.byteOffset!=ie.byteOffset)return!1;oe=oe.buffer,ie=ie.buffer;case"[object ArrayBuffer]":return!(oe.byteLength!=ie.byteLength||!xe(new L(oe),new L(ie)));case"[object Boolean]":case"[object Date]":case"[object Number]":return O(+oe,+ie);case"[object Error]":return oe.name==ie.name&&oe.message==ie.message;case"[object RegExp]":case"[object String]":return oe==ie+"";case"[object Map]":var _e=C;case"[object Set]":if(_e||(_e=S),oe.size!=ie.size&&!(1&we))return!1;var at=Ve.get(oe);if(at)return at==ie;we|=2,Ve.set(oe,ie);var Xe=I(_e(oe),_e(ie),we,Se,xe,Ve);return Ve.delete(oe),Xe;case"[object Symbol]":if(pe)return pe.call(oe)==pe.call(ie)}return!1}},9462:(j,ae,x)=>{var T=x(6131),I=Object.prototype.hasOwnProperty;j.exports=function C(S,R,N,B,k,F){var H=1&N,$=T(S),J=$.length;if(J!=T(R).length&&!H)return!1;for(var le=J;le--;){var se=$[le];if(!(H?se in R:I.call(R,se)))return!1}var he=F.get(S),ee=F.get(R);if(he&&ee)return he==R&&ee==S;var pe=!0;F.set(S,R),F.set(R,S);for(var K=H;++le<J;){var oe=S[se=$[le]],ie=R[se];if(B)var ge=H?B(ie,oe,se,R,S,F):B(oe,ie,se,S,R,F);if(!(void 0===ge?oe===ie||k(oe,ie,N,B,F):ge)){pe=!1;break}K||(K="constructor"==se)}if(pe&&!K){var we=S.constructor,Se=R.constructor;we!=Se&&"constructor"in S&&"constructor"in R&&!("function"==typeof we&&we instanceof we&&"function"==typeof Se&&Se instanceof Se)&&(pe=!1)}return F.delete(S),F.delete(R),pe}},6801:(j,ae,x)=>{var T=x(9336),L=x(2394),O=x(6814);j.exports=function I(C){return O(L(C,void 0,T),C+"")}},248:j=>{var ae="object"==typeof global&&global&&global.Object===Object&&global;j.exports=ae},6131:(j,ae,x)=>{var T=x(7427),L=x(771),O=x(4614);j.exports=function I(C){return T(C,O,L)}},2442:(j,ae,x)=>{var T=x(7427),L=x(708),O=x(6402);j.exports=function I(C){return T(C,O,L)}},4113:(j,ae,x)=>{var T=x(29);j.exports=function L(O,I){var C=O.__data__;return T(I)?C["string"==typeof I?"string":"hash"]:C.map}},7895:(j,ae,x)=>{var T=x(3921),L=x(4614);j.exports=function O(I){for(var C=L(I),S=C.length;S--;){var R=C[S],N=I[R];C[S]=[R,N,T(N)]}return C}},8745:(j,ae,x)=>{var T=x(1082),L=x(1015);j.exports=function O(I,C){var S=L(I,C);return T(S)?S:void 0}},6186:(j,ae,x)=>{var L=x(3106)(Object.getPrototypeOf,Object);j.exports=L},5933:(j,ae,x)=>{var T=x(1763),L=Object.prototype,O=L.hasOwnProperty,I=L.toString,C=T?T.toStringTag:void 0;j.exports=function S(R){var N=O.call(R,C),B=R[C];try{R[C]=void 0;var k=!0}catch{}var F=I.call(R);return k&&(N?R[C]=B:delete R[C]),F}},771:(j,ae,x)=>{var T=x(2134),L=x(1315),I=Object.prototype.propertyIsEnumerable,C=Object.getOwnPropertySymbols;j.exports=C?function(R){return null==R?[]:(R=Object(R),T(C(R),function(N){return I.call(R,N)}))}:L},708:(j,ae,x)=>{var T=x(7853),L=x(6186),O=x(771),I=x(1315);j.exports=Object.getOwnPropertySymbols?function(R){for(var N=[];R;)T(N,O(R)),R=L(R);return N}:I},2472:(j,ae,x)=>{var T=x(6506),L=x(1136),O=x(641),I=x(1732),C=x(6413),S=x(4590),R=x(7075),N="[object Map]",k="[object Promise]",F="[object Set]",H="[object WeakMap]",$="[object DataView]",J=R(T),ce=R(L),ne=R(O),le=R(I),se=R(C),he=S;(T&&he(new T(new ArrayBuffer(1)))!=$||L&&he(new L)!=N||O&&he(O.resolve())!=k||I&&he(new I)!=F||C&&he(new C)!=H)&&(he=function(ee){var pe=S(ee),K="[object Object]"==pe?ee.constructor:void 0,oe=K?R(K):"";if(oe)switch(oe){case J:return $;case ce:return N;case ne:return k;case le:return F;case se:return H}return pe}),j.exports=he},1015:j=>{j.exports=function ae(x,T){return x?.[T]}},4583:(j,ae,x)=>{var T=x(4826),L=x(1955),O=x(2261),I=x(5188),C=x(7765),S=x(8916);j.exports=function R(N,B,k){for(var F=-1,H=(B=T(B,N)).length,$=!1;++F<H;){var J=S(B[F]);if(!($=null!=N&&k(N,J)))break;N=N[J]}return $||++F!=H?$:!!(H=null==N?0:N.length)&&C(H)&&I(J,H)&&(O(N)||L(N))}},3687:j=>{var S=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");j.exports=function R(N){return S.test(N)}},5602:(j,ae,x)=>{var T=x(893);j.exports=function L(){this.__data__=T?T(null):{},this.size=0}},1499:j=>{j.exports=function ae(x){var T=this.has(x)&&delete this.__data__[x];return this.size-=T?1:0,T}},2990:(j,ae,x)=>{var T=x(893),I=Object.prototype.hasOwnProperty;j.exports=function C(S){var R=this.__data__;if(T){var N=R[S];return"__lodash_hash_undefined__"===N?void 0:N}return I.call(R,S)?R[S]:void 0}},480:(j,ae,x)=>{var T=x(893),O=Object.prototype.hasOwnProperty;j.exports=function I(C){var S=this.__data__;return T?void 0!==S[C]:O.call(S,C)}},4469:(j,ae,x)=>{var T=x(893);j.exports=function O(I,C){var S=this.__data__;return this.size+=this.has(I)?0:1,S[I]=T&&void 0===C?"__lodash_hash_undefined__":C,this}},9431:j=>{var x=Object.prototype.hasOwnProperty;j.exports=function T(L){var O=L.length,I=new L.constructor(O);return O&&"string"==typeof L[0]&&x.call(L,"index")&&(I.index=L.index,I.input=L.input),I}},514:(j,ae,x)=>{var T=x(2355),L=x(6693),O=x(497),I=x(3330),C=x(2501);j.exports=function ge(we,Se,xe){var Ve=we.constructor;switch(Se){case"[object ArrayBuffer]":return T(we);case"[object Boolean]":case"[object Date]":return new Ve(+we);case"[object DataView]":return L(we,xe);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return C(we,xe);case"[object Map]":case"[object Set]":return new Ve;case"[object Number]":case"[object String]":return new Ve(we);case"[object RegExp]":return O(we);case"[object Symbol]":return I(we)}}},9225:(j,ae,x)=>{var T=x(1391),L=x(6186),O=x(6587);j.exports=function I(C){return"function"!=typeof C.constructor||O(C)?{}:T(L(C))}},2241:(j,ae,x)=>{var T=x(1763),L=x(1955),O=x(2261),I=T?T.isConcatSpreadable:void 0;j.exports=function C(S){return O(S)||L(S)||!!(I&&S&&S[I])}},5188:j=>{var x=/^(?:0|[1-9]\d*)$/;j.exports=function T(L,O){var I=typeof L;return!!(O=O??9007199254740991)&&("number"==I||"symbol"!=I&&x.test(L))&&L>-1&&L%1==0&&L<O}},3817:(j,ae,x)=>{var T=x(7826),L=x(2447),O=x(5188),I=x(9794);j.exports=function C(S,R,N){if(!I(N))return!1;var B=typeof R;return!!("number"==B?L(N)&&O(R,N.length):"string"==B&&R in N)&&T(N[R],S)}},6300:(j,ae,x)=>{var T=x(2261),L=x(3423),O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I=/^\w*$/;j.exports=function C(S,R){if(T(S))return!1;var N=typeof S;return!("number"!=N&&"symbol"!=N&&"boolean"!=N&&null!=S&&!L(S))||I.test(S)||!O.test(S)||null!=R&&S in Object(R)}},29:j=>{j.exports=function ae(x){var T=typeof x;return"string"==T||"number"==T||"symbol"==T||"boolean"==T?"__proto__"!==x:null===x}},9950:(j,ae,x)=>{var I,T=x(6189),L=(I=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"";j.exports=function O(I){return!!L&&L in I}},6587:j=>{var ae=Object.prototype;j.exports=function x(T){var L=T&&T.constructor;return T===("function"==typeof L&&L.prototype||ae)}},3921:(j,ae,x)=>{var T=x(9794);j.exports=function L(O){return O==O&&!T(O)}},9365:j=>{j.exports=function ae(){this.__data__=[],this.size=0}},9343:(j,ae,x)=>{var T=x(4056),O=Array.prototype.splice;j.exports=function I(C){var S=this.__data__,R=T(S,C);return!(R<0||(R==S.length-1?S.pop():O.call(S,R,1),--this.size,0))}},4779:(j,ae,x)=>{var T=x(4056);j.exports=function L(O){var I=this.__data__,C=T(I,O);return C<0?void 0:I[C][1]}},1509:(j,ae,x)=>{var T=x(4056);j.exports=function L(O){return T(this.__data__,O)>-1}},7137:(j,ae,x)=>{var T=x(4056);j.exports=function L(O,I){var C=this.__data__,S=T(C,O);return S<0?(++this.size,C.push([O,I])):C[S][1]=I,this}},3413:(j,ae,x)=>{var T=x(9618),L=x(3597),O=x(1136);j.exports=function I(){this.size=0,this.__data__={hash:new T,map:new(O||L),string:new T}}},5419:(j,ae,x)=>{var T=x(4113);j.exports=function L(O){var I=T(this,O).delete(O);return this.size-=I?1:0,I}},7336:(j,ae,x)=>{var T=x(4113);j.exports=function L(O){return T(this,O).get(O)}},1115:(j,ae,x)=>{var T=x(4113);j.exports=function L(O){return T(this,O).has(O)}},6648:(j,ae,x)=>{var T=x(4113);j.exports=function L(O,I){var C=T(this,O),S=C.size;return C.set(O,I),this.size+=C.size==S?0:1,this}},1575:j=>{j.exports=function ae(x){var T=-1,L=Array(x.size);return x.forEach(function(O,I){L[++T]=[I,O]}),L}},2265:j=>{j.exports=function ae(x,T){return function(L){return null!=L&&L[x]===T&&(void 0!==T||x in Object(L))}}},7371:(j,ae,x)=>{var T=x(7659);j.exports=function O(I){var C=T(I,function(R){return 500===S.size&&S.clear(),R}),S=C.cache;return C}},893:(j,ae,x)=>{var L=x(8745)(Object,"create");j.exports=L},366:(j,ae,x)=>{var L=x(3106)(Object.keys,Object);j.exports=L},8981:j=>{j.exports=function ae(x){var T=[];if(null!=x)for(var L in Object(x))T.push(L);return T}},8849:(j,ae,x)=>{j=x.nmd(j);var T=x(248),L=ae&&!ae.nodeType&&ae,O=L&&j&&!j.nodeType&&j,C=O&&O.exports===L&&T.process,S=function(){try{return O&&O.require&&O.require("util").types||C&&C.binding&&C.binding("util")}catch{}}();j.exports=S},9243:j=>{var x=Object.prototype.toString;j.exports=function T(L){return x.call(L)}},3106:j=>{j.exports=function ae(x,T){return function(L){return x(T(L))}}},2394:(j,ae,x)=>{var T=x(7910),L=Math.max;j.exports=function O(I,C,S){return C=L(void 0===C?I.length-1:C,0),function(){for(var R=arguments,N=-1,B=L(R.length-C,0),k=Array(B);++N<B;)k[N]=R[C+N];N=-1;for(var F=Array(C+1);++N<C;)F[N]=R[N];return F[C]=S(k),T(I,this,F)}}},8492:(j,ae,x)=>{var T=x(248),L="object"==typeof self&&self&&self.Object===Object&&self,O=T||L||Function("return this")();j.exports=O},7524:j=>{j.exports=function ae(x,T){if(("constructor"!==T||"function"!=typeof x[T])&&"__proto__"!=T)return x[T]}},6151:j=>{j.exports=function x(T){return this.__data__.set(T,"__lodash_hash_undefined__"),this}},2154:j=>{j.exports=function ae(x){return this.__data__.has(x)}},8e3:j=>{j.exports=function ae(x){var T=-1,L=Array(x.size);return x.forEach(function(O){L[++T]=O}),L}},6814:(j,ae,x)=>{var T=x(8235),O=x(9531)(T);j.exports=O},9531:j=>{var T=Date.now;j.exports=function L(O){var I=0,C=0;return function(){var S=T(),R=16-(S-C);if(C=S,R>0){if(++I>=800)return arguments[0]}else I=0;return O.apply(void 0,arguments)}}},9488:(j,ae,x)=>{var T=x(3597);j.exports=function L(){this.__data__=new T,this.size=0}},5943:j=>{j.exports=function ae(x){var T=this.__data__,L=T.delete(x);return this.size=T.size,L}},5456:j=>{j.exports=function ae(x){return this.__data__.get(x)}},4793:j=>{j.exports=function ae(x){return this.__data__.has(x)}},8689:(j,ae,x)=>{var T=x(3597),L=x(1136),O=x(1811);j.exports=function C(S,R){var N=this.__data__;if(N instanceof T){var B=N.__data__;if(!L||B.length<199)return B.push([S,R]),this.size=++N.size,this;N=this.__data__=new O(B)}return N.set(S,R),this.size=N.size,this}},2528:j=>{j.exports=function ae(x,T,L){for(var O=L-1,I=x.length;++O<I;)if(x[O]===T)return O;return-1}},7339:(j,ae,x)=>{var T=x(6181),L=x(3687),O=x(9164);j.exports=function I(C){return L(C)?O(C):T(C)}},163:(j,ae,x)=>{var T=x(7371),L=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,O=/\\(\\)?/g,I=T(function(C){var S=[];return 46===C.charCodeAt(0)&&S.push(""),C.replace(L,function(R,N,B,k){S.push(B?k.replace(O,"$1"):N||R)}),S});j.exports=I},8916:(j,ae,x)=>{var T=x(3423);j.exports=function O(I){if("string"==typeof I||T(I))return I;var C=I+"";return"0"==C&&1/I==-1/0?"-0":C}},7075:j=>{var x=Function.prototype.toString;j.exports=function T(L){if(null!=L){try{return x.call(L)}catch{}try{return L+""}catch{}}return""}},1781:j=>{var ae=/\s/;j.exports=function x(T){for(var L=T.length;L--&&ae.test(T.charAt(L)););return L}},9164:j=>{var ae="\\ud800-\\udfff",C="["+ae+"]",S="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",R="\\ud83c[\\udffb-\\udfff]",B="[^"+ae+"]",k="(?:\\ud83c[\\udde6-\\uddff]){2}",F="[\\ud800-\\udbff][\\udc00-\\udfff]",$="(?:"+S+"|"+R+")?",J="[\\ufe0e\\ufe0f]?",ne=J+$+"(?:\\u200d(?:"+[B,k,F].join("|")+")"+J+$+")*",le="(?:"+[B+S+"?",S,k,F,C].join("|")+")",se=RegExp(R+"(?="+R+")|"+le+ne,"g");j.exports=function he(ee){for(var pe=se.lastIndex=0;se.test(ee);)++pe;return pe}},8734:(j,ae,x)=>{var T=x(1320);j.exports=function O(I){return T(I,4)}},4451:(j,ae,x)=>{var T=x(1320);j.exports=function I(C){return T(C,5)}},1075:j=>{j.exports=function ae(x){return function(){return x}}},4430:(j,ae,x)=>{var T=x(9794),L=x(5533),O=x(4282),C=Math.max,S=Math.min;j.exports=function R(N,B,k){var F,H,$,J,ce,ne,le=0,se=!1,he=!1,ee=!0;if("function"!=typeof N)throw new TypeError("Expected a function");function pe(_e){var et=F,at=H;return F=H=void 0,le=_e,J=N.apply(at,et)}function ie(_e){var et=_e-ne;return void 0===ne||et>=B||et<0||he&&_e-le>=$}function ge(){var _e=L();if(ie(_e))return we(_e);ce=setTimeout(ge,function oe(_e){var Xe=B-(_e-ne);return he?S(Xe,$-(_e-le)):Xe}(_e))}function we(_e){return ce=void 0,ee&&F?pe(_e):(F=H=void 0,J)}function Ve(){var _e=L(),et=ie(_e);if(F=arguments,H=this,ne=_e,et){if(void 0===ce)return function K(_e){return le=_e,ce=setTimeout(ge,B),se?pe(_e):J}(ne);if(he)return clearTimeout(ce),ce=setTimeout(ge,B),pe(ne)}return void 0===ce&&(ce=setTimeout(ge,B)),J}return B=O(B)||0,T(k)&&(se=!!k.leading,$=(he="maxWait"in k)?C(O(k.maxWait)||0,B):$,ee="trailing"in k?!!k.trailing:ee),Ve.cancel=function Se(){void 0!==ce&&clearTimeout(ce),le=0,F=ne=H=ce=void 0},Ve.flush=function xe(){return void 0===ce?J:we(L())},Ve}},5433:(j,ae,x)=>{var T=x(8951),L=x(7826),O=x(3817),I=x(6402),C=Object.prototype,S=C.hasOwnProperty,R=T(function(N,B){N=Object(N);var k=-1,F=B.length,H=F>2?B[2]:void 0;for(H&&O(B[0],B[1],H)&&(F=1);++k<F;)for(var $=B[k],J=I($),ce=-1,ne=J.length;++ce<ne;){var le=J[ce],se=N[le];(void 0===se||L(se,C[le])&&!S.call(N,le))&&(N[le]=$[le])}return N});j.exports=R},6488:(j,ae,x)=>{j.exports=x(7170)},7826:j=>{j.exports=function ae(x,T){return x===T||x!=x&&T!=T}},7661:(j,ae,x)=>{var T=x(2134),L=x(1892),O=x(1627),I=x(2261);j.exports=function C(S,R){return(I(S)?T:L)(S,O(R,3))}},6177:(j,ae,x)=>{var O=x(6738)(x(1904));j.exports=O},1904:(j,ae,x)=>{var T=x(4051),L=x(1627),O=x(481),I=Math.max;j.exports=function C(S,R,N){var B=null==S?0:S.length;if(!B)return-1;var k=null==N?0:O(N);return k<0&&(k=I(B+k,0)),T(S,L(R,3),k)}},9336:(j,ae,x)=>{var T=x(1883);j.exports=function L(O){return null!=O&&O.length?T(O,1):[]}},7170:(j,ae,x)=>{var T=x(7772),L=x(5103),O=x(4655),I=x(2261);j.exports=function C(S,R){return(I(S)?T:L)(S,O(R))}},1658:(j,ae,x)=>{var T=x(6483),L=x(4655),O=x(6402);j.exports=function I(C,S){return null==C?C:T(C,L(S),O)}},5440:(j,ae,x)=>{var T=x(2202);j.exports=function L(O,I,C){var S=null==O?void 0:T(O,I);return void 0===S?C:S}},8669:(j,ae,x)=>{var T=x(4493),L=x(4583);j.exports=function O(I,C){return null!=I&&L(I,C,T)}},2494:(j,ae,x)=>{var T=x(3274),L=x(4583);j.exports=function O(I,C){return null!=I&&L(I,C,T)}},5657:j=>{j.exports=function ae(x){return x}},1955:(j,ae,x)=>{var T=x(3022),L=x(3714),O=Object.prototype,I=O.hasOwnProperty,C=O.propertyIsEnumerable,S=T(function(){return arguments}())?T:function(R){return L(R)&&I.call(R,"callee")&&!C.call(R,"callee")};j.exports=S},2261:j=>{j.exports=Array.isArray},2447:(j,ae,x)=>{var T=x(6861),L=x(7765);j.exports=function O(I){return null!=I&&L(I.length)&&!T(I)}},3471:(j,ae,x)=>{var T=x(2447),L=x(3714);j.exports=function O(I){return L(I)&&T(I)}},7525:(j,ae,x)=>{j=x.nmd(j);var T=x(8492),L=x(5706),O=ae&&!ae.nodeType&&ae,I=O&&j&&!j.nodeType&&j,S=I&&I.exports===O?T.Buffer:void 0;j.exports=(S?S.isBuffer:void 0)||L},5350:(j,ae,x)=>{var T=x(190),L=x(2472),O=x(1955),I=x(2261),C=x(2447),S=x(7525),R=x(6587),N=x(4868),H=Object.prototype.hasOwnProperty;j.exports=function $(J){if(null==J)return!0;if(C(J)&&(I(J)||"string"==typeof J||"function"==typeof J.splice||S(J)||N(J)||O(J)))return!J.length;var ce=L(J);if("[object Map]"==ce||"[object Set]"==ce)return!J.size;if(R(J))return!T(J).length;for(var ne in J)if(H.call(J,ne))return!1;return!0}},6861:(j,ae,x)=>{var T=x(4590),L=x(9794);j.exports=function R(N){if(!L(N))return!1;var B=T(N);return"[object Function]"==B||"[object GeneratorFunction]"==B||"[object AsyncFunction]"==B||"[object Proxy]"==B}},7765:j=>{j.exports=function x(T){return"number"==typeof T&&T>-1&&T%1==0&&T<=9007199254740991}},990:(j,ae,x)=>{var T=x(8562),L=x(5249),O=x(8849),I=O&&O.isMap,C=I?L(I):T;j.exports=C},9794:j=>{j.exports=function ae(x){var T=typeof x;return null!=x&&("object"==T||"function"==T)}},3714:j=>{j.exports=function ae(x){return null!=x&&"object"==typeof x}},8168:(j,ae,x)=>{var T=x(4590),L=x(6186),O=x(3714),R=Function.prototype.toString,N=Object.prototype.hasOwnProperty,B=R.call(Object);j.exports=function k(F){if(!O(F)||"[object Object]"!=T(F))return!1;var H=L(F);if(null===H)return!0;var $=N.call(H,"constructor")&&H.constructor;return"function"==typeof $&&$ instanceof $&&R.call($)==B}},8611:(j,ae,x)=>{var T=x(1202),L=x(5249),O=x(8849),I=O&&O.isSet,C=I?L(I):T;j.exports=C},2164:(j,ae,x)=>{var T=x(4590),L=x(2261),O=x(3714);j.exports=function C(S){return"string"==typeof S||!L(S)&&O(S)&&"[object String]"==T(S)}},3423:(j,ae,x)=>{var T=x(4590),L=x(3714);j.exports=function I(C){return"symbol"==typeof C||L(C)&&"[object Symbol]"==T(C)}},4868:(j,ae,x)=>{var T=x(8902),L=x(5249),O=x(8849),I=O&&O.isTypedArray,C=I?L(I):T;j.exports=C},8152:j=>{j.exports=function ae(x){return void 0===x}},4614:(j,ae,x)=>{var T=x(1384),L=x(190),O=x(2447);j.exports=function I(C){return O(C)?T(C):L(C)}},6402:(j,ae,x)=>{var T=x(1384),L=x(7673),O=x(2447);j.exports=function I(C){return O(C)?T(C,!0):L(C)}},2819:j=>{j.exports=function ae(x){var T=null==x?0:x.length;return T?x[T-1]:void 0}},8921:(j,ae,x)=>{var T=x(3880),L=x(1627),O=x(2839),I=x(2261);j.exports=function C(S,R){return(I(S)?T:O)(S,L(R,3))}},6054:(j,ae,x)=>{var T=x(1741),L=x(7794),O=x(1627);j.exports=function I(C,S){var R={};return S=O(S,3),L(C,function(N,B,k){T(R,B,S(N,B,k))}),R}},5664:(j,ae,x)=>{var T=x(4530),L=x(8444),O=x(5657);j.exports=function I(C){return C&&C.length?T(C,O,L):void 0}},7659:(j,ae,x)=>{var T=x(1811);function O(I,C){if("function"!=typeof I||null!=C&&"function"!=typeof C)throw new TypeError("Expected a function");var S=function(){var R=arguments,N=C?C.apply(this,R):R[0],B=S.cache;if(B.has(N))return B.get(N);var k=I.apply(this,R);return S.cache=B.set(N,k)||B,k};return S.cache=new(O.Cache||T),S}O.Cache=T,j.exports=O},2213:(j,ae,x)=>{var T=x(3294),O=x(1300)(function(I,C,S){T(I,C,S)});j.exports=O},1007:(j,ae,x)=>{var T=x(4530),L=x(8898),O=x(5657);j.exports=function I(C){return C&&C.length?T(C,O,L):void 0}},50:(j,ae,x)=>{var T=x(4530),L=x(1627),O=x(8898);j.exports=function I(C,S){return C&&C.length?T(C,L(S,2),O):void 0}},4249:j=>{j.exports=function ae(){}},5533:(j,ae,x)=>{var T=x(8492);j.exports=function(){return T.Date.now()}},7607:(j,ae,x)=>{var T=x(2784),O=x(6801)(function(I,C){return null==I?{}:T(I,C)});j.exports=O},2692:(j,ae,x)=>{var T=x(3400),L=x(6443),O=x(6300),I=x(8916);j.exports=function C(S){return O(S)?T(I(S)):L(S)}},5953:(j,ae,x)=>{var L=x(4222)();j.exports=L},5909:(j,ae,x)=>{var T=x(9850),L=x(5103),O=x(1627),I=x(8978),C=x(2261);j.exports=function S(R,N,B){var k=C(R)?T:I,F=arguments.length<3;return k(R,O(N,4),B,F,L)}},7939:(j,ae,x)=>{var T=x(9478);j.exports=function L(O,I,C){return null==O?O:T(O,I,C)}},5741:(j,ae,x)=>{var T=x(190),L=x(2472),O=x(2447),I=x(2164),C=x(7339);j.exports=function N(B){if(null==B)return 0;if(O(B))return I(B)?C(B):B.length;var k=L(B);return"[object Map]"==k||"[object Set]"==k?B.size:T(B).length}},7184:(j,ae,x)=>{var T=x(1883),L=x(252),O=x(8951),I=x(3817),C=O(function(S,R){if(null==S)return[];var N=R.length;return N>1&&I(S,R[0],R[1])?R=[]:N>2&&I(R[0],R[1],R[2])&&(R=[R[0]]),L(S,T(R,1),[])});j.exports=C},1315:j=>{j.exports=function ae(){return[]}},5706:j=>{j.exports=function ae(){return!1}},9292:(j,ae,x)=>{var T=x(4282),L=1/0;j.exports=function I(C){return C?(C=T(C))===L||C===-L?17976931348623157e292*(C<0?-1:1):C==C?C:0:0===C?C:0}},481:(j,ae,x)=>{var T=x(9292);j.exports=function L(O){var I=T(O),C=I%1;return I==I?C?I-C:I:0}},4282:(j,ae,x)=>{var T=x(9484),L=x(9794),O=x(3423),C=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,R=/^0o[0-7]+$/i,N=parseInt;j.exports=function B(k){if("number"==typeof k)return k;if(O(k))return NaN;if(L(k)){var F="function"==typeof k.valueOf?k.valueOf():k;k=L(F)?F+"":F}if("string"!=typeof k)return 0===k?k:+k;k=T(k);var H=S.test(k);return H||R.test(k)?N(k.slice(2),H?2:8):C.test(k)?NaN:+k}},9078:(j,ae,x)=>{var T=x(3880),L=x(4231),O=x(2261),I=x(3423),C=x(163),S=x(8916),R=x(2674);j.exports=function N(B){return O(B)?T(B,S):I(B)?[B]:L(C(R(B)))}},4210:(j,ae,x)=>{var T=x(5931),L=x(6402);j.exports=function O(I){return T(I,L(I))}},2674:(j,ae,x)=>{var T=x(7002);j.exports=function L(O){return null==O?"":T(O)}},6893:(j,ae,x)=>{var T=x(7772),L=x(1391),O=x(7794),I=x(1627),C=x(6186),S=x(2261),R=x(7525),N=x(6861),B=x(9794),k=x(4868);j.exports=function F(H,$,J){var ce=S(H),ne=ce||R(H)||k(H);if($=I($,4),null==J){var le=H&&H.constructor;J=ne?ce?new le:[]:B(H)&&N(le)?L(C(H)):{}}return(ne?T:O)(H,function(se,he,ee){return $(J,se,he,ee)}),J}},2480:(j,ae,x)=>{var T=x(1883),L=x(8951),O=x(9154),I=x(3471),C=L(function(S){return O(T(S,1,I,!0))});j.exports=C},4538:(j,ae,x)=>{var T=x(2674),L=0;j.exports=function O(I){var C=++L;return T(I)+C}},8808:(j,ae,x)=>{var T=x(6680),L=x(4614);j.exports=function O(I){return null==I?[]:T(I,L(I))}},4606:(j,ae,x)=>{var T=x(9553),L=x(2255);j.exports=function O(I,C){return L(I||[],C||[],T)}}},j=>{j(j.s=5892)}]);
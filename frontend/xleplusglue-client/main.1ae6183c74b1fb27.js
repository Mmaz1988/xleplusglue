(self.webpackChunkgswb_client=self.webpackChunkgswb_client||[]).push([[179],{2523:(Y,se,D)=>{"use strict";function S(t){return"function"==typeof t}function P(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const O=P(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function I(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class C{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(S(r))try{r()}catch(s){n=s instanceof O?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{A(s)}catch(c){n=n??[],c instanceof O?n=[...n,...c.errors]:n.push(c)}}if(n)throw new O(n)}}add(n){var e;if(n&&n!==this)if(this.closed)A(n);else{if(n instanceof C){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&I(e,n)}remove(n){const{_finalizers:e}=this;e&&I(e,n),n instanceof C&&n._removeParent(this)}}C.EMPTY=(()=>{const t=new C;return t.closed=!0,t})();const T=C.EMPTY;function N(t){return t instanceof C||t&&"closed"in t&&S(t.remove)&&S(t.add)&&S(t.unsubscribe)}function A(t){S(t)?t():t.unsubscribe()}const V={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},L={setTimeout(t,n,...e){const{delegate:r}=L;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=L;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function k(t){L.setTimeout(()=>{const{onUnhandledError:n}=V;if(!n)throw t;n(t)})}function H(){}const $=ne("C",void 0,void 0);function ne(t,n,e){return{kind:t,value:n,error:e}}let le=null;function ae(t){if(V.useDeprecatedSynchronousErrorHandling){const n=!le;if(n&&(le={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=le;if(le=null,e)throw r}}else t()}class te extends C{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,N(n)&&n.add(this)):this.destination=De}static create(n,e,r){return new ie(n,e,r)}next(n){this.isStopped?Te(function ue(t){return ne("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Te(function Q(t){return ne("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Te($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pe=Function.prototype.bind;function Z(t,n){return pe.call(t,n)}class oe{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){me(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){me(r)}else me(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){me(e)}}}class ie extends te{constructor(n,e,r){let i;if(super(),S(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let s;this&&V.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Z(n.next,s),error:n.error&&Z(n.error,s),complete:n.complete&&Z(n.complete,s)}):i=n}this.destination=new oe(i)}}function me(t){V.useDeprecatedSynchronousErrorHandling?function de(t){V.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=t)}(t):k(t)}function Te(t,n){const{onStoppedNotification:e}=V;e&&L.setTimeout(()=>e(t,n))}const De={closed:!0,next:H,error:function _e(t){throw t},complete:H},ze="function"==typeof Symbol&&Symbol.observable||"@@observable";function Be(t){return t}function ft(t){return 0===t.length?Be:1===t.length?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}let Ye=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){const s=function Zt(t){return t&&t instanceof te||function Xe(t){return t&&S(t.next)&&S(t.error)&&S(t.complete)}(t)&&N(t)}(e)?e:new ie(e,r,i);return ae(()=>{const{operator:c,source:m}=this;s.add(c?c.call(s,m):m?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Ct(r))((i,s)=>{const c=new ie({next:m=>{try{e(m)}catch(_){s(_),c.unsubscribe()}},error:s,complete:i});this.subscribe(c)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[ze](){return this}pipe(...e){return ft(e)(this)}toPromise(e){return new(e=Ct(e))((r,i)=>{let s;this.subscribe(c=>s=c,c=>i(c),()=>r(s))})}}return t.create=n=>new t(n),t})();function Ct(t){var n;return null!==(n=t??V.Promise)&&void 0!==n?n:Promise}const Ht=P(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let It=(()=>{class t extends Ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new mn(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Ht}next(e){ae(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){ae(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){ae(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:s}=this;return r||i?T:(this.currentObservers=null,s.push(e),new C(()=>{this.currentObservers=null,I(s,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:s}=this;r?e.error(i):s&&e.complete()}asObservable(){const e=new Ye;return e.source=this,e}}return t.create=(n,e)=>new mn(n,e),t})();class mn extends It{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:T}}class cn extends It{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function lt(t){return S(t?.lift)}function rt(t){return n=>{if(lt(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ht(t,n,e,r,i){return new Ft(t,n,e,r,i)}class Ft extends te{constructor(n,e,r,i,s,c){super(n),this.onFinalize=s,this.shouldUnsubscribe=c,this._next=e?function(m){try{e(m)}catch(_){n.error(_)}}:super._next,this._error=i?function(m){try{i(m)}catch(_){n.error(_)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(m){n.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Tt(t,n){return rt((e,r)=>{let i=0;e.subscribe(ht(r,s=>{r.next(t.call(n,s,i++))}))})}function Xo(t){return this instanceof Xo?(this.v=t,this):new Xo(t)}function Ss(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function ja(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(s){e[s]=t[s]&&function(c){return new Promise(function(m,_){!function i(s,c,m,_){Promise.resolve(_).then(function(R){s({value:R,done:m})},c)}(m,_,(c=t[s](c)).done,c.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ia=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Zs(t){return S(t?.then)}function Jc(t){return S(t[ze])}function os(t){return Symbol.asyncIterator&&S(t?.[Symbol.asyncIterator])}function Aa(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const as=function ch(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ed(t){return S(t?.[as])}function vu(t){return function fl(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(t,n||[]),s=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(ge){r[ge]&&(i[ge]=function(be){return new Promise(function(Ae,Fe){s.push([ge,be,Ae,Fe])>1||m(ge,be)})})}function m(ge,be){try{!function _(ge){ge.value instanceof Xo?Promise.resolve(ge.value.v).then(R,U):K(s[0][2],ge)}(r[ge](be))}catch(Ae){K(s[0][3],Ae)}}function R(ge){m("next",ge)}function U(ge){m("throw",ge)}function K(ge,be){ge(be),s.shift(),s.length&&m(s[0][0],s[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:i}=yield Xo(e.read());if(i)return yield Xo(void 0);yield yield Xo(r)}}finally{e.releaseLock()}})}function ec(t){return S(t?.getReader)}function No(t){if(t instanceof Ye)return t;if(null!=t){if(Jc(t))return function td(t){return new Ye(n=>{const e=t[ze]();if(S(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Ia(t))return function tc(t){return new Ye(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(Zs(t))return function nc(t){return new Ye(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,k)})}(t);if(os(t))return rc(t);if(ed(t))return function Ms(t){return new Ye(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(ec(t))return function nd(t){return rc(vu(t))}(t)}throw Aa(t)}function rc(t){return new Ye(n=>{(function ni(t,n){var e,r,i,s;return function Fi(t,n,e,r){return new(e||(e=Promise))(function(s,c){function m(U){try{R(r.next(U))}catch(K){c(K)}}function _(U){try{R(r.throw(U))}catch(K){c(K)}}function R(U){U.done?s(U.value):function i(s){return s instanceof e?s:new e(function(c){c(s)})}(U.value).then(m,_)}R((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Ss(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(c){i={error:c}}finally{try{r&&!r.done&&(s=e.return)&&(yield s.call(e))}finally{if(i)throw i.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Oa(t,n,e,r=0,i=!1){const s=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function qi(t,n,e=1/0){return S(n)?qi((r,i)=>Tt((s,c)=>n(r,s,i,c))(No(t(r,i))),e):("number"==typeof n&&(e=n),rt((r,i)=>function Sr(t,n,e,r,i,s,c,m){const _=[];let R=0,U=0,K=!1;const ge=()=>{K&&!_.length&&!R&&n.complete()},be=Fe=>R<r?Ae(Fe):_.push(Fe),Ae=Fe=>{s&&n.next(Fe),R++;let it=!1;No(e(Fe,U++)).subscribe(ht(n,gt=>{i?.(gt),s?be(gt):n.next(gt)},()=>{it=!0},void 0,()=>{if(it)try{for(R--;_.length&&R<r;){const gt=_.shift();c?Oa(n,c,()=>Ae(gt)):Ae(gt)}ge()}catch(gt){n.error(gt)}}))};return t.subscribe(ht(n,be,()=>{K=!0,ge()})),()=>{m?.()}}(r,i,t,e)))}function ki(t=1/0){return qi(Be,t)}const va=new Ye(t=>t.complete());function Cn(t){return t&&S(t.schedule)}function li(t){return t[t.length-1]}function $a(t){return S(li(t))?t.pop():void 0}function Ro(t){return Cn(li(t))?t.pop():void 0}function Qi(t,n=0){return rt((e,r)=>{e.subscribe(ht(r,i=>Oa(r,t,()=>r.next(i),n),()=>Oa(r,t,()=>r.complete(),n),i=>Oa(r,t,()=>r.error(i),n)))})}function ko(t,n=0){return rt((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function Is(t,n){if(!t)throw new Error("Iterable cannot be null");return new Ye(e=>{Oa(e,n,()=>{const r=t[Symbol.asyncIterator]();Oa(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Ve(t,n){return n?function Re(t,n){if(null!=t){if(Jc(t))return function rd(t,n){return No(t).pipe(ko(n),Qi(n))}(t,n);if(Ia(t))return function Yn(t,n){return new Ye(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(Zs(t))return function St(t,n){return No(t).pipe(ko(n),Qi(n))}(t,n);if(os(t))return Is(t,n);if(ed(t))return function id(t,n){return new Ye(e=>{let r;return Oa(e,n,()=>{r=t[as](),Oa(e,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(c){return void e.error(c)}s?e.complete():e.next(i)},0,!0)}),()=>S(r?.return)&&r.return()})}(t,n);if(ec(t))return function Oe(t,n){return Is(vu(t),n)}(t,n)}throw Aa(t)}(t,n):No(t)}function nt(...t){const n=Ro(t),e=function Pr(t,n){return"number"==typeof li(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?No(r[0]):ki(e)(Ve(r,n)):va}function qe(...t){return Ve(t,Ro(t))}function qt(t={}){const{connector:n=(()=>new It),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let c,m,_,R=0,U=!1,K=!1;const ge=()=>{m?.unsubscribe(),m=void 0},be=()=>{ge(),c=_=void 0,U=K=!1},Ae=()=>{const Fe=c;be(),Fe?.unsubscribe()};return rt((Fe,it)=>{R++,!K&&!U&&ge();const gt=_=_??n();it.add(()=>{R--,0===R&&!K&&!U&&(m=gn(Ae,i))}),gt.subscribe(it),!c&&R>0&&(c=new ie({next:Qe=>gt.next(Qe),error:Qe=>{K=!0,ge(),m=gn(be,e,Qe),gt.error(Qe)},complete:()=>{U=!0,ge(),m=gn(be,r),gt.complete()}}),No(Fe).subscribe(c))})(s)}}function gn(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new ie({next:()=>{r.unsubscribe(),t()}});return No(n(...e)).subscribe(r)}function Vt(t,n){return rt((e,r)=>{let i=null,s=0,c=!1;const m=()=>c&&!i&&r.complete();e.subscribe(ht(r,_=>{i?.unsubscribe();let R=0;const U=s++;No(t(_,U)).subscribe(i=ht(r,K=>r.next(n?n(_,K,U,R++):K),()=>{i=null,m()}))},()=>{c=!0,m()}))})}function en(t,n=Be){return t=t??Un,rt((e,r)=>{let i,s=!0;e.subscribe(ht(r,c=>{const m=n(c);(s||!t(i,m))&&(s=!1,i=m,r.next(c))}))})}function Un(t,n){return t===n}function Bt(t){for(let n in t)if(t[n]===Bt)return n;throw Error("Could not find renamed property on target object.")}function Ar(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function er(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(er).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function or(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ri=Bt({__forward_ref__:Bt});function Mn(t){return t.__forward_ref__=Mn,t.toString=function(){return er(this())},t}function on(t){return Lr(t)?t():t}function Lr(t){return"function"==typeof t&&t.hasOwnProperty(ri)&&t.__forward_ref__===Mn}function gi(t){return t&&!!t.\u0275providers}const gr="https://g.co/ng/security#xss";class Ze extends Error{constructor(n,e){super(function Fr(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function vn(t){return"string"==typeof t?t:null==t?"":String(t)}function zi(t,n){throw new Ze(-201,!1)}function io(t,n){null==t&&function tr(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function an(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ra(t){return yu(t,ka)||yu(t,Ul)}function yu(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ko(t){return t&&(t.hasOwnProperty(Os)||t.hasOwnProperty(sc))?t[Os]:null}const ka=Bt({\u0275prov:Bt}),Os=Bt({\u0275inj:Bt}),Ul=Bt({ngInjectableDef:Bt}),sc=Bt({ngInjectorDef:Bt});var Ln=(()=>((Ln=Ln||{})[Ln.Default=0]="Default",Ln[Ln.Host=1]="Host",Ln[Ln.Self=2]="Self",Ln[Ln.SkipSelf=4]="SkipSelf",Ln[Ln.Optional=8]="Optional",Ln))();let Xa;function yo(t){const n=Xa;return Xa=t,n}function ss(t,n,e){const r=Ra(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Ln.Optional?null:void 0!==n?n:void zi(er(t))}const mi=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),bu={},wu="__NG_DI_FLAG__",uc="ngTempTokenPath",bo=/\n/gm,fh="__source";let Js;function Pa(t){const n=Js;return Js=t,n}function Dp(t,n=Ln.Default){if(void 0===Js)throw new Ze(-203,!1);return null===Js?ss(t,void 0,n):Js.get(t,n&Ln.Optional?null:void 0,n)}function Pt(t,n=Ln.Default){return(function gl(){return Xa}()||Dp)(on(t),n)}function nn(t,n=Ln.Default){return Pt(t,pf(n))}function pf(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function gf(t){const n=[];for(let e=0;e<t.length;e++){const r=on(t[e]);if(Array.isArray(r)){if(0===r.length)throw new Ze(900,!1);let i,s=Ln.Default;for(let c=0;c<r.length;c++){const m=r[c],_=sm(m);"number"==typeof _?-1===_?i=m.token:s|=_:i=m}n.push(Pt(i,s))}else n.push(Pt(r))}return n}function dc(t,n){return t[wu]=n,t.prototype[wu]=n,t}function sm(t){return t[wu]}function ls(t){return{toString:t}.toString()}var us=(()=>((us=us||{})[us.OnPush=0]="OnPush",us[us.Default=1]="Default",us))(),ya=(()=>{return(t=ya||(ya={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",ya;var t})();const wo={},Er=[],hc=Bt({\u0275cmp:Bt}),mf=Bt({\u0275dir:Bt}),vf=Bt({\u0275pipe:Bt}),Tp=Bt({\u0275mod:Bt}),Ns=Bt({\u0275fac:Bt}),jl=Bt({__NG_ELEMENT_ID__:Bt}),Wl=Bt({__NG_ENV_ID__:Bt});function Rs(t,n,e){let r=t.length;for(;;){const i=t.indexOf(n,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=n.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}e=i+1}}function yf(t,n,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const s=e[r++],c=e[r++],m=e[r++];t.setAttribute(n,c,m,s)}else{const s=i,c=e[++r];Cu(s)?t.setProperty(n,s,c):t.setAttribute(n,s,c),r++}}return r}function _u(t){return 3===t||4===t||6===t}function Cu(t){return 64===t.charCodeAt(0)}function $l(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?e=i:0===e||Sp(t,e,i,null,-1===e||2===e?n[++r]:null)}}return t}function Sp(t,n,e,r,i){let s=0,c=t.length;if(-1===n)c=-1;else for(;s<t.length;){const m=t[s++];if("number"==typeof m){if(m===n){c=-1;break}if(m>n){c=s-1;break}}}for(;s<t.length;){const m=t[s];if("number"==typeof m)break;if(m===e){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==c&&(t.splice(c,0,n),s=c+1),t.splice(s++,0,e),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const ad="ng-template";function sd(t,n,e){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const c=t[r++];if(e&&"class"===s&&-1!==Rs(c.toLowerCase(),n,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===n)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Yl(t){return 4===t.type&&t.value!==ad}function ph(t,n,e){return n===(4!==t.type||e?t.value:ad)}function gh(t,n,e){let r=4;const i=t.attrs||[],s=function cs(t){for(let n=0;n<t.length;n++)if(_u(t[n]))return n;return t.length}(i);let c=!1;for(let m=0;m<n.length;m++){const _=n[m];if("number"!=typeof _){if(!c)if(4&r){if(r=2|1&r,""!==_&&!ph(t,_,e)||""===_&&1===n.length){if(Ka(r))return!1;c=!0}}else{const R=8&r?_:n[++m];if(8&r&&null!==t.attrs){if(!sd(t.attrs,R,e)){if(Ka(r))return!1;c=!0}continue}const K=bf(8&r?"class":_,i,Yl(t),e);if(-1===K){if(Ka(r))return!1;c=!0;continue}if(""!==R){let ge;ge=K>s?"":i[K+1].toLowerCase();const be=8&r?ge:null;if(be&&-1!==Rs(be,R,0)||2&r&&R!==ge){if(Ka(r))return!1;c=!0}}}}else{if(!c&&!Ka(r)&&!Ka(_))return!1;if(c&&Ka(_))continue;c=!1,r=_|1&r}}return Ka(r)||c}function Ka(t){return 0==(1&t)}function bf(t,n,e,r){if(null===n)return-1;let i=0;if(r||!e){let s=!1;for(;i<n.length;){const c=n[i];if(c===t)return i;if(3===c||6===c)s=!0;else{if(1===c||2===c){let m=n[++i];for(;"string"==typeof m;)m=n[++i];continue}if(4===c)break;if(0===c){i+=4;continue}}i+=s?1:2}return-1}return function Mp(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function mh(t,n,e=!1){for(let r=0;r<n.length;r++)if(gh(t,n[r],e))return!0;return!1}function vh(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function wf(t,n){return t?":not("+n.trim()+")":n}function Ip(t){let n=t[0],e=1,r=2,i="",s=!1;for(;e<t.length;){let c=t[e];if("string"==typeof c)if(2&r){const m=t[++e];i+="["+c+(m.length>0?'="'+m+'"':"")+"]"}else 8&r?i+="."+c:4&r&&(i+=" "+c);else""!==i&&!Ka(c)&&(n+=wf(s,i),i=""),r=c,s=s||!Ka(r);e++}return""!==i&&(n+=wf(s,i)),n}function Or(t){return ls(()=>{const n=yl(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===us.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ya.Emulated,styles:t.styles||Er,_:null,schemas:t.schemas||null,tView:null,id:""};pc(e);const r=t.dependencies;return e.directiveDefs=Ef(r,!1),e.pipeDefs=Ef(r,!0),e.id=function ud(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of e)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(e),e})}function um(t){return Br(t)||Ui(t)}function Eu(t){return null!==t}function Jr(t){return ls(()=>({type:t.type,bootstrap:t.bootstrap||Er,declarations:t.declarations||Er,imports:t.imports||Er,exports:t.exports||Er,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Cf(t,n){if(null==t)return wo;const e={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),e[i]=r,n&&(n[i]=s)}return e}function ln(t){return ls(()=>{const n=yl(t);return pc(n),n})}function Br(t){return t[hc]||null}function Ui(t){return t[mf]||null}function oo(t){return t[vf]||null}function so(t,n){const e=t[Tp]||null;if(!e&&!0===n)throw new Error(`Type ${er(t)} does not have '\u0275mod' property.`);return e}function yl(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||wo,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Er,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cf(t.inputs,n),outputs:Cf(t.outputs)}}function pc(t){t.features?.forEach(n=>n(t))}function Ef(t,n){if(!t)return null;const e=n?oo:um;return()=>("function"==typeof t?t():t).map(r=>e(r)).filter(Eu)}const lo=0,fn=1,Wn=2,Li=3,aa=4,gc=5,_o=6,bl=7,vi=8,el=9,sa=10,Zn=11,mc=12,bh=13,xu=14,Gi=15,ds=16,Za=17,uo=18,cd=19,dd=20,wl=21,ur=22,fd=23,qa=24,hn=25,pn=1,_l=2,ks=7,Du=9,ii=11;function Qa(t){return Array.isArray(t)&&"object"==typeof t[pn]}function La(t){return Array.isArray(t)&&!0===t[pn]}function wh(t){return 0!=(4&t.flags)}function Tu(t){return t.componentOffset>-1}function xf(t){return 1==(1&t.flags)}function fs(t){return!!t.template}function la(t){return 0!=(512&t[Wn])}function co(t,n){return t.hasOwnProperty(Ns)?t[Ns]:null}let ua=mi.WeakRef??class Wr{constructor(n){this.ref=n}deref(){return this.ref}},hs=0,Bo=null,El=!1;function eo(t){const n=Bo;return Bo=t,n}class vc{constructor(){this.id=hs++,this.ref=function wa(t){return new ua(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,e]of this.producers){const r=e.producerNode.deref();if(void 0!==r&&e.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(e.seenValueVersion))return!0}else this.producers.delete(n),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=El;El=!0;try{for(const[e,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(e),i?.producers.delete(this.id))}}finally{El=n}}producerAccessed(){if(El)throw new Error("");if(null===Bo)return;let n=Bo.producers.get(this.id);void 0===n?(n={consumerNode:Bo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Bo.trackingVersion},Bo.producers.set(this.id,n),this.consumers.set(Bo.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=Bo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Bo?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let xh=null;const yd=()=>{};class Pp extends vc{constructor(n,e,r){super(),this.watch=n,this.schedule=e,this.dirty=!1,this.cleanupFn=yd,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=eo(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=yd,this.watch(this.registerOnCleanup)}finally{eo(n)}}cleanup(){this.cleanupFn()}}class hm{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function _a(){return Dh}function Dh(t){return t.type.prototype.ngOnChanges&&(t.setInput=If),_c}function _c(){const t=Th(this),n=t?.current;if(n){const e=t.previous;if(e===wo)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function If(t,n,e,r){const i=this.declaredInputs[e],s=Th(t)||function Sh(t,n){return t[bd]=n}(t,{previous:wo,current:null}),c=s.current||(s.current={}),m=s.previous,_=m[i];c[i]=new hm(_&&_.currentValue,n,m===wo),t[r]=n}_a.ngInherit=!0;const bd="__ngSimpleChanges__";function Th(t){return t[bd]||null}const Fa=function(t,n,e){};function fi(t){for(;Array.isArray(t);)t=t[lo];return t}function Ed(t,n){return fi(n[t])}function ji(t,n){return fi(n[t.index])}function Af(t,n){return t.data[n]}function Ba(t,n){const e=n[t];return Qa(e)?e:e[lo]}function nl(t,n){return null==n?null:t[n]}function Mr(t){t[Za]=0}function pm(t){1024&t[Wn]||(t[Wn]|=1024,Ec(t,1))}function Ql(t){1024&t[Wn]&&(t[Wn]&=-1025,Ec(t,-1))}function Ec(t,n){let e=t[Li];if(null===e)return;e[gc]+=n;let r=e;for(e=e[Li];null!==e&&(1===n&&1===r[gc]||-1===n&&0===r[gc]);)e[gc]+=n,r=e,e=e[Li]}const Fn={lFrame:Mc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Td(){return Fn.bindingsEnabled}function Ho(){return null!==Fn.skipHydrationRootTNode}function Rt(){return Fn.lFrame.lView}function br(){return Fn.lFrame.tView}function Hn(t){return Fn.lFrame.contextLView=t,t[vi]}function bi(t){return Fn.lFrame.contextLView=null,t}function zo(){let t=Oh();for(;null!==t&&64===t.type;)t=t.parent;return t}function Oh(){return Fn.lFrame.currentTNode}function gs(t,n){const e=Fn.lFrame;e.currentTNode=t,e.isParent=n}function Md(){return Fn.lFrame.isParent}function fo(){Fn.lFrame.isParent=!1}function Wi(){const t=Fn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Ls(){return Fn.lFrame.bindingIndex++}function Uo(t){const n=Fn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function rl(t,n){const e=Fn.lFrame;e.bindingIndex=e.bindingRootIndex=t,Id(n)}function Id(t){Fn.lFrame.currentDirectiveIndex=t}function Ad(){return Fn.lFrame.currentQueryIndex}function Fs(t){Fn.lFrame.currentQueryIndex=t}function Nf(t){const n=t[fn];return 2===n.type?n.declTNode:1===n.type?t[_o]:null}function Sc(t,n,e){if(e&Ln.SkipSelf){let i=n,s=t;for(;!(i=i.parent,null!==i||e&Ln.Host||(i=Nf(s),null===i||(s=s[xu],10&i.type))););if(null===i)return!1;n=i,t=s}const r=Fn.lFrame=zp();return r.currentTNode=n,r.lView=t,!0}function nu(t){const n=zp(),e=t[fn];Fn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function zp(){const t=Fn.lFrame,n=null===t?null:t.child;return null===n?Mc(t):n}function Mc(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Od(){const t=Fn.lFrame;return Fn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Nd=Od;function xo(){const t=Od();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Do(){return Fn.lFrame.selectedIndex}function ts(t){Fn.lFrame.selectedIndex=t}function Hr(){const t=Fn.lFrame;return Af(t.tView,t.selectedIndex)}let Go=!0;function Pd(){return Go}function iu(t){Go=t}function ms(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const s=t.data[e].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:m,ngAfterViewInit:_,ngAfterViewChecked:R,ngOnDestroy:U}=s;c&&(t.contentHooks??=[]).push(-e,c),m&&((t.contentHooks??=[]).push(e,m),(t.contentCheckHooks??=[]).push(e,m)),_&&(t.viewHooks??=[]).push(-e,_),R&&((t.viewHooks??=[]).push(e,R),(t.viewCheckHooks??=[]).push(e,R)),null!=U&&(t.destroyHooks??=[]).push(e,U)}}function vs(t,n,e){Up(t,n,3,e)}function Ou(t,n,e,r){(3&t[Wn])===e&&Up(t,n,e,r)}function Rf(t,n){let e=t[Wn];(3&e)===n&&(e&=8191,e+=1,t[Wn]=e)}function Up(t,n,e,r){const s=r??-1,c=n.length-1;let m=0;for(let _=void 0!==r?65535&t[Za]:0;_<c;_++)if("number"==typeof n[_+1]){if(m=n[_],null!=r&&m>=r)break}else n[_]<0&&(t[Za]+=65536),(m<s||-1==s)&&(Gp(t,e,n,_),t[Za]=(4294901760&t[Za])+_+2),_++}function Nu(t,n){Fa(4,t,n);const e=eo(null);try{n.call(t)}finally{eo(e),Fa(5,t,n)}}function Gp(t,n,e,r){const i=e[r]<0,s=e[r+1],m=t[i?-e[r]:e[r]];i?t[Wn]>>13<t[Za]>>16&&(3&t[Wn])===n&&(t[Wn]+=8192,Nu(m,s)):Nu(m,s)}const Ru=-1;class Ic{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Rh(t){return t!==Ru}function ku(t){return 32767&t}function Bd(t,n){let e=function ym(t){return t>>16}(t),r=n;for(;e>0;)r=r[xu],e--;return r}let kh=!0;function ai(t){const n=kh;return kh=t,n}const Vd=255,Ac=5;let Bs=0;const ca={};function Hd(t,n){const e=Lh(t,n);if(-1!==e)return e;const r=n[fn];r.firstCreatePass&&(t.injectorIndex=n.length,Lf(r.data,t),Lf(n,null),Lf(r.blueprint,null));const i=zd(t,n),s=t.injectorIndex;if(Rh(i)){const c=ku(i),m=Bd(i,n),_=m[fn].data;for(let R=0;R<8;R++)n[s+R]=m[c+R]|_[c+R]}return n[s+8]=i,s}function Lf(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Lh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function zd(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;null!==i;){if(r=d(i),null===r)return Ru;if(e++,i=i[xu],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return Ru}function Ff(t,n,e){!function Ph(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(jl)&&(r=e[jl]),null==r&&(r=e[jl]=Bs++);const i=r&Vd;n.data[t+(i>>Ac)]|=1<<i}(t,n,e)}function Bf(t,n,e){if(e&Ln.Optional||void 0!==t)return t;zi()}function Vf(t,n,e,r){if(e&Ln.Optional&&void 0===r&&(r=null),!(e&(Ln.Self|Ln.Host))){const i=t[el],s=yo(void 0);try{return i?i.get(n,r,e&Ln.Optional):ss(n,r,e&Ln.Optional)}finally{yo(s)}}return Bf(r,0,e)}function Kr(t,n,e,r=Ln.Default,i){if(null!==t){if(2048&n[Wn]&&!(r&Ln.Self)){const c=function a(t,n,e,r,i){let s=t,c=n;for(;null!==s&&null!==c&&2048&c[Wn]&&!(512&c[Wn]);){const m=Ud(s,c,e,r|Ln.Self,ca);if(m!==ca)return m;let _=s.parent;if(!_){const R=c[dd];if(R){const U=R.get(e,ca,r);if(U!==ca)return U}_=d(c),c=c[xu]}s=_}return i}(t,n,e,r,ca);if(c!==ca)return c}const s=Ud(t,n,e,r,ca);if(s!==ca)return s}return Vf(n,e,r,i)}function Ud(t,n,e,r,i){const s=function Gd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(jl)?t[jl]:void 0;return"number"==typeof n?n>=0?n&Vd:Xp:n}(e);if("function"==typeof s){if(!Sc(n,t,r))return r&Ln.Host?Bf(i,0,r):Vf(n,e,r,i);try{const c=s(r);if(null!=c||r&Ln.Optional)return c;zi()}finally{Nd()}}else if("number"==typeof s){let c=null,m=Lh(t,n),_=Ru,R=r&Ln.Host?n[Gi][_o]:null;for((-1===m||r&Ln.SkipSelf)&&(_=-1===m?zd(t,n):n[m+8],_!==Ru&&Ii(r,!1)?(c=n[fn],m=ku(_),n=Bd(_,n)):m=-1);-1!==m;){const U=n[fn];if(Yp(s,m,U.data)){const K=bm(m,n,e,c,r,R);if(K!==ca)return K}_=n[m+8],_!==Ru&&Ii(r,n[fn].data[m+8]===R)&&Yp(s,m,n)?(c=U,m=ku(_),n=Bd(_,n)):m=-1}}return i}function bm(t,n,e,r,i,s){const c=n[fn],m=c.data[t+8],U=il(m,c,e,null==r?Tu(m)&&kh:r!=c&&0!=(3&m.type),i&Ln.Host&&s===m);return null!==U?Pu(n,c,U,m):ca}function il(t,n,e,r,i){const s=t.providerIndexes,c=n.data,m=1048575&s,_=t.directiveStart,U=s>>20,ge=i?m+U:t.directiveEnd;for(let be=r?m:m+U;be<ge;be++){const Ae=c[be];if(be<_&&e===Ae||be>=_&&Ae.type===e)return be}if(i){const be=c[_];if(be&&fs(be)&&be.type===e)return _}return null}function Pu(t,n,e,r){let i=t[e];const s=n.data;if(function jp(t){return t instanceof Ic}(i)){const c=i;c.resolving&&function ci(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${t}${e}`)}(function Gn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():vn(t)}(s[e]));const m=ai(c.canSeeViewProviders);c.resolving=!0;const _=c.injectImpl?yo(c.injectImpl):null;Sc(t,r,Ln.Default);try{i=t[e]=c.factory(void 0,s,t,r),n.firstCreatePass&&e>=r.directiveStart&&function Dl(t,n,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){const c=Dh(n);(e.preOrderHooks??=[]).push(t,c),(e.preOrderCheckHooks??=[]).push(t,c)}i&&(e.preOrderHooks??=[]).push(0-t,i),s&&((e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s))}(e,s[e],n)}finally{null!==_&&yo(_),ai(m),c.resolving=!1,Nd()}}return i}function Yp(t,n,e){return!!(e[n+(t>>Ac)]&1<<t)}function Ii(t,n){return!(t&Ln.Self||t&Ln.Host&&n)}class Lu{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return Kr(this._tNode,this._lView,n,pf(r),e)}}function Xp(){return new Lu(zo(),Rt())}function Ci(t){return ls(()=>{const n=t.prototype.constructor,e=n[Ns]||ys(n),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ns]||ys(i);if(s&&s!==e)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ys(t){return Lr(t)?()=>{const n=ys(on(t));return n&&n()}:co(t)}function d(t){const n=t[fn],e=n.type;return 2===e?n.declTNode:1===e?t[_o]:null}function y(t){return function $p(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const s=e[i];if(_u(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(s===n)return e[i+1];i+=2}}}return null}(zo(),t)}const b="__parameters__";function ee(t,n,e){return ls(()=>{const r=function X(t){return function(...e){if(t){const r=t(...e);for(const i in r)this[i]=r[i]}}}(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;const c=new i(...s);return m.annotation=c,m;function m(_,R,U){const K=_.hasOwnProperty(b)?_[b]:Object.defineProperty(_,b,{value:[]})[b];for(;K.length<=U;)K.push(null);return(K[U]=K[U]||[]).push(c),_}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ai(t,n){t.forEach(e=>Array.isArray(e)?Ai(e,n):n(e))}function Ei(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function jo(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function $i(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function zr(t,n,e){let r=ho(t,n);return r>=0?t[1|r]=e:(r=~r,function Wo(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(1===i)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function xi(t,n){const e=ho(t,n);if(e>=0)return t[1|e]}function ho(t,n){return function Tl(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){const s=r+(i-r>>1),c=t[s<<e];if(n===c)return s<<e;c>n?i=s:r=s+1}return~(i<<e)}(t,n,1)}const ns=dc(ee("Optional"),8),Bh=dc(ee("SkipSelf"),4);function Uf(t){return 128==(128&t.flags)}var ea=(()=>((ea=ea||{})[ea.Important=1]="Important",ea[ea.DashCase=2]="DashCase",ea))();const jh=/^>|^->|<!--|-->|--!>|<!-$/g,mw=/(<|>)/,Ty="\u200b$1\u200b";const Qp=new Map;let vw=0;const eg="__ngContext__";function Va(t,n){Qa(n)?(t[eg]=n[cd],function Sy(t){Qp.set(t[cd],t)}(n)):t[eg]=n}let p;function g(t,n){return p(t,n)}function x(t){const n=t[Li];return La(n)?n[Li]:n}function F(t){return W(t[mc])}function z(t){return W(t[aa])}function W(t){for(;null!==t&&!La(t);)t=t[aa];return t}function j(t,n,e,r,i){if(null!=r){let s,c=!1;La(r)?s=r:Qa(r)&&(c=!0,r=r[lo]);const m=fi(r);0===t&&null!==e?null==i?ot(n,e,m):Ge(n,e,m,i||null,!0):1===t&&null!==e?Ge(n,e,m,i||null,!0):2===t?function ar(t,n,e){const r=mt(t,n);r&&function vt(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,m,c):3===t&&n.destroyNode(m),null!=s&&function Rn(t,n,e,r,i){const s=e[ks];s!==fi(e)&&j(n,t,r,s,i);for(let m=ii;m<e.length;m++){const _=e[m];Pn(_[fn],_,t,n,r,s)}}(n,t,s,e,i)}}function re(t,n){return t.createComment(function Dm(t){return t.replace(jh,n=>n.replace(mw,Ty))}(n))}function fe(t,n,e){return t.createElement(n,e)}function we(t,n){const e=t[Du],r=e.indexOf(n);Ql(n),e.splice(r,1)}function ke(t,n){if(t.length<=ii)return;const e=ii+n,r=t[e];if(r){const i=r[ds];null!==i&&i!==t&&we(i,r),n>0&&(t[e-1][aa]=r[aa]);const s=jo(t,ii+n);!function he(t,n){Pn(t,n,n[Zn],2,null,null),n[lo]=null,n[_o]=null}(r[fn],r);const c=s[uo];null!==c&&c.detachView(s[fn]),r[Li]=null,r[aa]=null,r[Wn]&=-129}return r}function Pe(t,n){if(!(256&n[Wn])){const e=n[Zn];n[fd]?.destroy(),n[qa]?.destroy(),e.destroyNode&&Pn(t,n,e,3,null,null),function Ie(t){let n=t[mc];if(!n)return Ee(t[fn],t);for(;n;){let e=null;if(Qa(n))e=n[mc];else{const r=n[ii];r&&(e=r)}if(!e){for(;n&&!n[aa]&&n!==t;)Qa(n)&&Ee(n[fn],n),n=n[Li];null===n&&(n=t),Qa(n)&&Ee(n[fn],n),e=n&&n[aa]}n=e}}(n)}}function Ee(t,n){if(!(256&n[Wn])){n[Wn]&=-129,n[Wn]|=256,function Ne(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const i=n[e[r]];if(!(i instanceof Ic)){const s=e[r+1];if(Array.isArray(s))for(let c=0;c<s.length;c+=2){const m=i[s[c]],_=s[c+1];Fa(4,m,_);try{_.call(m)}finally{Fa(5,m,_)}}else{Fa(4,i,s);try{s.call(i)}finally{Fa(5,i,s)}}}}}(t,n),function He(t,n){const e=t.cleanup,r=n[bl];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const c=e[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else e[s].call(r[e[s+1]]);null!==r&&(n[bl]=null);const i=n[wl];if(null!==i){n[wl]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,n),1===n[fn].type&&n[Zn].destroy();const e=n[ds];if(null!==e&&La(n[Li])){e!==n[Li]&&we(e,n);const r=n[uo];null!==r&&r.detachView(t)}!function yw(t){Qp.delete(t[cd])}(n)}}function Ke(t,n,e){return function Ue(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[lo];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===ya.None||s===ya.Emulated)return null}return ji(r,e)}}(t,n.parent,e)}function Ge(t,n,e,r,i){t.insertBefore(n,e,r,i)}function ot(t,n,e){t.appendChild(n,e)}function ct(t,n,e,r,i){null!==r?Ge(t,n,e,r,i):ot(t,n,e)}function mt(t,n){return t.parentNode(n)}function Ot(t,n,e){return _t(t,n,e)}let Je,Ce,Dn,hr,_t=function Dt(t,n,e){return 40&t.type?ji(t,e):null};function Nt(t,n,e,r){const i=Ke(t,r,n),s=n[Zn],m=Ot(r.parent||n[_o],r,n);if(null!=i)if(Array.isArray(e))for(let _=0;_<e.length;_++)ct(s,i,e[_],m,!1);else ct(s,i,e,m,!1);void 0!==Je&&Je(s,r,n,e,i)}function Wt(t,n){if(null!==n){const e=n.type;if(3&e)return ji(n,t);if(4&e)return Xn(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return Wt(t,r);{const i=t[n.index];return La(i)?Xn(-1,i):fi(i)}}if(32&e)return g(n,t)()||fi(t[n.index]);{const r=rn(t,n);return null!==r?Array.isArray(r)?r[0]:Wt(x(t[Gi]),r):Wt(t,n.next)}}return null}function rn(t,n){return null!==n?t[Gi][_o].projection[n.projection]:null}function Xn(t,n){const e=ii+t+1;if(e<n.length){const r=n[e],i=r[fn].firstChild;if(null!==i)return Wt(r,i)}return n[ks]}function Jt(t,n,e,r,i,s,c){for(;null!=e;){const m=r[e.index],_=e.type;if(c&&0===n&&(m&&Va(fi(m),r),e.flags|=2),32!=(32&e.flags))if(8&_)Jt(t,n,e.child,r,i,s,!1),j(n,t,i,m,s);else if(32&_){const R=g(e,r);let U;for(;U=R();)j(n,t,i,U,s);j(n,t,i,m,s)}else 16&_?un(t,n,r,e,i,s):j(n,t,i,m,s);e=c?e.projectionNext:e.next}}function Pn(t,n,e,r,i,s){Jt(e,r,t.firstChild,n,i,s,!1)}function un(t,n,e,r,i,s){const c=e[Gi],_=c[_o].projection[r.projection];if(Array.isArray(_))for(let R=0;R<_.length;R++)j(n,t,i,_[R],s);else{let R=_;const U=c[Li];Uf(r)&&(R.flags|=128),Jt(t,n,R,U,i,s,!0)}}function $n(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function zt(t,n,e){const{mergedAttrs:r,classes:i,styles:s}=e;null!==r&&yf(t,n,r),null!==i&&$n(t,n,i),null!==s&&function fr(t,n,e){t.setAttribute(n,"style",e)}(t,n,s)}function kt(t){return function dt(){if(void 0===Ce&&(Ce=null,mi.trustedTypes))try{Ce=mi.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ce}()?.createHTML(t)||t}function Zr(){if(void 0!==Dn)return Dn;if(typeof document<"u")return document;throw new Ze(210,!1)}function qr(){if(void 0===hr&&(hr=null,mi.trustedTypes))try{hr=mi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hr}function cr(t){return qr()?.createHTML(t)||t}function to(t){return qr()?.createScriptURL(t)||t}class no{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gr})`}}class Il extends no{getTypeName(){return"HTML"}}class Al extends no{getTypeName(){return"Style"}}class Ea extends no{getTypeName(){return"Script"}}class al extends no{getTypeName(){return"URL"}}class is extends no{getTypeName(){return"ResourceURL"}}function Io(t){return t instanceof no?t.changingThisBreaksApplicationSecurity:t}function xa(t,n){const e=function Gf(t){return t instanceof no&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${gr})`)}return e===n}class _s{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(kt(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class rg{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=kt(n),e}}const Ay=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ig(t){return(t=String(t)).match(Ay)?t:"unsafe:"+t}function Hu(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function $h(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const Oy=Hu("area,br,col,hr,img,wbr"),Ny=Hu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ry=Hu("rp,rt"),Wf=$h(Oy,$h(Ny,Hu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$h(Ry,Hu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$h(Ry,Ny)),ag=Hu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sl=$h(ag,Hu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mm=Hu("script,style,template");class Py{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!Wf.hasOwnProperty(e))return this.sanitizedSomething=!0,!Mm.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),c=s.name,m=c.toLowerCase();if(!sl.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let _=s.value;ag[m]&&(_=ig(_)),this.buf.push(" ",c,'="',Ly(_),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();Wf.hasOwnProperty(e)&&!Oy.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(Ly(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const Yh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ol=/([^\#-~ |!])/g;function Ly(t){return t.replace(/&/g,"&amp;").replace(Yh,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Ol,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fy;function Qx(t,n){let e=null;try{Fy=Fy||function Da(t){const n=new rg(t);return function au(){try{return!!(new window.DOMParser).parseFromString(kt(""),"text/html")}catch{return!1}}()?new _s(n):n}(t);let r=n?String(n):"";e=Fy.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=e.innerHTML,e=Fy.getInertBodyElement(r)}while(r!==s);return kt((new Py).sanitizeChildren(_w(e)||e))}finally{if(e){const r=_w(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function _w(t){return"content"in t&&function Mk(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var hi=(()=>((hi=hi||{})[hi.NONE=0]="NONE",hi[hi.HTML=1]="HTML",hi[hi.STYLE=2]="STYLE",hi[hi.SCRIPT=3]="SCRIPT",hi[hi.URL=4]="URL",hi[hi.RESOURCE_URL=5]="RESOURCE_URL",hi))();function Jx(t){const n=Im();return n?cr(n.sanitize(hi.HTML,t)||""):xa(t,"HTML")?cr(Io(t)):Qx(Zr(),vn(t))}function eD(t){const n=Im();return n?n.sanitize(hi.URL,t)||"":xa(t,"URL")?Io(t):ig(vn(t))}function tD(t){const n=Im();if(n)return to(n.sanitize(hi.RESOURCE_URL,t)||"");if(xa(t,"ResourceURL"))return to(Io(t));throw new Ze(904,!1)}function Im(){const t=Rt();return t&&t[sa].sanitizer}class Kt{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=an({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Am=new Kt("ENVIRONMENT_INITIALIZER"),rD=new Kt("INJECTOR",-1),iD=new Kt("INJECTOR_DEF_TYPES");class oD{get(n,e=bu){if(e===bu){const r=new Error(`NullInjectorError: No provider for ${er(n)}!`);throw r.name="NullInjectorError",r}return e}}function kk(...t){return{\u0275providers:aD(0,t),\u0275fromNgModule:!0}}function aD(t,...n){const e=[],r=new Set;let i;return Ai(n,s=>{const c=s;Ew(c,e,[],r)&&(i||=[],i.push(c))}),void 0!==i&&sD(i,e),e}function sD(t,n){for(let e=0;e<t.length;e++){const{providers:i}=t[e];xw(i,s=>{n.push(s)})}}function Ew(t,n,e,r){if(!(t=on(t)))return!1;let i=null,s=Ko(t);const c=!s&&Br(t);if(s||c){if(c&&!c.standalone)return!1;i=t}else{const _=t.ngModule;if(s=Ko(_),!s)return!1;i=_}const m=r.has(i);if(c){if(m)return!1;if(r.add(i),c.dependencies){const _="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const R of _)Ew(R,n,e,r)}}else{if(!s)return!1;{if(null!=s.imports&&!m){let R;r.add(i);try{Ai(s.imports,U=>{Ew(U,n,e,r)&&(R||=[],R.push(U))})}finally{}void 0!==R&&sD(R,n)}if(!m){const R=co(i)||(()=>new i);n.push({provide:i,useFactory:R,deps:Er},{provide:iD,useValue:i,multi:!0},{provide:Am,useValue:()=>Pt(i),multi:!0})}const _=s.providers;null==_||m||xw(_,U=>{n.push(U)})}}return i!==t&&void 0!==t.providers}function xw(t,n){for(let e of t)gi(e)&&(e=e.\u0275providers),Array.isArray(e)?xw(e,n):n(e)}const Pk=Bt({provide:String,useValue:Bt});function Dw(t){return null!==t&&"object"==typeof t&&Pk in t}function Xh(t){return"function"==typeof t}const Tw=new Kt("Set Injector scope."),By={},Fk={};let Sw;function Vy(){return void 0===Sw&&(Sw=new oD),Sw}class Rc{}class Mw extends Rc{get destroyed(){return this._destroyed}constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Aw(n,c=>this.processProvider(c)),this.records.set(rD,sg(void 0,this)),i.has("environment")&&this.records.set(Rc,sg(void 0,this));const s=this.records.get(Tw);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(iD.multi,Er,Ln.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of n)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Pa(this),r=yo(void 0);try{return n()}finally{Pa(e),yo(r)}}get(n,e=bu,r=Ln.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Wl))return n[Wl](this);r=pf(r);const i=Pa(this),s=yo(void 0);try{if(!(r&Ln.SkipSelf)){let m=this.records.get(n);if(void 0===m){const _=function Uk(t){return"function"==typeof t||"object"==typeof t&&t instanceof Kt}(n)&&Ra(n);m=_&&this.injectableDefInScope(_)?sg(Iw(n),By):null,this.records.set(n,m)}if(null!=m)return this.hydrate(n,m)}return(r&Ln.Self?Vy():this.parent).get(n,e=r&Ln.Optional&&e===bu?null:e)}catch(c){if("NullInjectorError"===c.name){if((c[uc]=c[uc]||[]).unshift(er(n)),i)throw c;return function fc(t,n,e,r){const i=t[uc];throw n[fh]&&i.unshift(n[fh]),t.message=function ml(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=er(n);if(Array.isArray(n))i=n.map(er).join(" -> ");else if("object"==typeof n){let s=[];for(let c in n)if(n.hasOwnProperty(c)){let m=n[c];s.push(c+":"+("string"==typeof m?JSON.stringify(m):er(m)))}i=`{${s.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(bo,"\n  ")}`}("\n"+t.message,i,e,r),t.ngTokenPath=i,t[uc]=null,t}(c,n,"R3InjectorError",this.source)}throw c}finally{yo(s),Pa(i)}}resolveInjectorInitializers(){const n=Pa(this),e=yo(void 0);try{const r=this.get(Am.multi,Er,Ln.Self);for(const i of r)i()}finally{Pa(n),yo(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(er(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(n){let e=Xh(n=on(n))?n:on(n&&n.provide);const r=function Vk(t){return Dw(t)?sg(void 0,t.useValue):sg(cD(t),By)}(n);if(Xh(n)||!0!==n.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=sg(void 0,By,!0),i.factory=()=>gf(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===By&&(e.value=Fk,e.value=e.factory()),"object"==typeof e.value&&e.value&&function zk(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=on(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function Iw(t){const n=Ra(t),e=null!==n?n.factory:co(t);if(null!==e)return e;if(t instanceof Kt)throw new Ze(204,!1);if(t instanceof Function)return function Bk(t){const n=t.length;if(n>0)throw $i(n,"?"),new Ze(204,!1);const e=function pl(t){return t&&(t[ka]||t[Ul])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Ze(204,!1)}function cD(t,n,e){let r;if(Xh(t)){const i=on(t);return co(i)||Iw(i)}if(Dw(t))r=()=>on(t.useValue);else if(function uD(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...gf(t.deps||[]));else if(function lD(t){return!(!t||!t.useExisting)}(t))r=()=>Pt(on(t.useExisting));else{const i=on(t&&(t.useClass||t.provide));if(!function Hk(t){return!!t.deps}(t))return co(i)||Iw(i);r=()=>new i(...gf(t.deps))}return r}function sg(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Aw(t,n){for(const e of t)Array.isArray(e)?Aw(e,n):e&&gi(e)?Aw(e.\u0275providers,n):n(e)}const Hy=new Kt("AppId",{providedIn:"root",factory:()=>Gk}),Gk="ng",dD=new Kt("Platform Initializer"),$f=new Kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),kc=new Kt("AnimationModuleType"),Ow=new Kt("CSP nonce",{providedIn:"root",factory:()=>Zr().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let hD=(t,n)=>null;function pD(t,n){return hD(t,n)}class Qk{}class vD{}class eP{resolveComponentFactory(n){throw function Jk(t){const n=Error(`No component factory found for ${er(t)}.`);return n.ngComponent=t,n}(n)}}let lg=(()=>{class t{}return t.NULL=new eP,t})();function tP(){return ug(zo(),Rt())}function ug(t,n){return new ti(ji(t,n))}let ti=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=tP,t})();function nP(t){return t instanceof ti?t.nativeElement:t}class km{}let Zd=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function rP(){const t=Rt(),e=Ba(zo().index,t);return(Qa(e)?e:t)[Zn]}(),t})(),iP=(()=>{class t{}return t.\u0275prov=an({token:t,providedIn:"root",factory:()=>null}),t})();class Kh{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const oP=new Kh("16.1.3"),Uw={};function Pm(t){for(;t;){t[Wn]|=64;const n=x(t);if(la(t)&&!n)return t;t=n}return null}function Gw(t){return t.ngOriginalError}class Pc{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Gw(n);for(;e&&Gw(e);)e=Gw(e);return e||null}}const _D=new Kt("",{providedIn:"root",factory:()=>!1});function qd(t){return t instanceof Function?t():t}class TD extends vc{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){Pm(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,e,r){const i=eo(this);this.trackingVersion++;try{n(e,r)}finally{eo(i)}}destroy(){this.trackingVersion++}}let $y=null;function SD(){return $y??=new TD,$y}function MD(t,n){return t[n]??SD()}function ID(t,n){const e=SD();e.hasReadASignal&&(t[n]=$y,e.lView=t,$y=new TD)}const vr={};function Yt(t){AD(br(),Rt(),Do()+t,!1)}function AD(t,n,e,r){if(!r)if(3==(3&n[Wn])){const s=t.preOrderCheckHooks;null!==s&&vs(n,s,e)}else{const s=t.preOrderHooks;null!==s&&Ou(n,s,0,e)}ts(e)}function kD(t,n=null,e=null,r){const i=PD(t,n,e,r);return i.resolveInjectorInitializers(),i}function PD(t,n=null,e=null,r,i=new Set){const s=[e||Er,kk(t)];return r=r||("object"==typeof t?void 0:er(t)),new Mw(s,n||Vy(),r||null,i)}let zu=(()=>{class t{static create(e,r){if(Array.isArray(e))return kD({name:""},r,e,"");{const i=e.name??"";return kD({name:i},e.parent,e.providers,i)}}}return t.THROW_IF_NOT_FOUND=bu,t.NULL=new oD,t.\u0275prov=an({token:t,providedIn:"any",factory:()=>Pt(rD)}),t.__NG_ELEMENT_ID__=-1,t})();function We(t,n=Ln.Default){const e=Rt();return null===e?Pt(t,n):Kr(zo(),e,on(t),n)}function jw(){throw new Error("invalid")}function Yy(t,n,e,r,i,s,c,m,_,R,U){const K=n.blueprint.slice();return K[lo]=i,K[Wn]=140|r,(null!==R||t&&2048&t[Wn])&&(K[Wn]|=2048),Mr(K),K[Li]=K[xu]=t,K[vi]=e,K[sa]=c||t&&t[sa],K[Zn]=m||t&&t[Zn],K[el]=_||t&&t[el]||null,K[_o]=s,K[cd]=function ei(){return vw++}(),K[ur]=U,K[dd]=R,K[Gi]=2==n.type?t[Gi]:K,K}function dg(t,n,e,r,i){let s=t.data[n];if(null===s)s=function Ww(t,n,e,r,i){const s=Oh(),c=Md(),_=t.data[n]=function TP(t,n,e,r,i,s){let c=n?n.injectorIndex:-1,m=0;return Ho()&&(m|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:m,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?s:s&&s.parent,e,n,r,i);return null===t.firstChild&&(t.firstChild=_),null!==s&&(c?null==s.child&&null!==_.parent&&(s.child=_):null===s.next&&(s.next=_,_.prev=s)),_}(t,n,e,r,i),function Tc(){return Fn.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=r,s.attrs=i;const c=function Dc(){const t=Fn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();s.injectorIndex=null===c?-1:c.injectorIndex}return gs(s,!0),s}function Lm(t,n,e,r){if(0===e)return-1;const i=n.length;for(let s=0;s<e;s++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function LD(t,n,e,r,i){const s=MD(n,fd),c=Do(),m=2&r;try{if(ts(-1),m&&n.length>hn&&AD(t,n,hn,!1),Fa(m?2:0,i),m)s.runInContext(e,r,i);else{const R=eo(null);try{e(r,i)}finally{eo(R)}}}finally{m&&null===n[fd]&&ID(n,fd),ts(c),Fa(m?3:1,i)}}function $w(t,n,e){if(wh(n)){const r=eo(null);try{const s=n.directiveEnd;for(let c=n.directiveStart;c<s;c++){const m=t.data[c];m.contentQueries&&m.contentQueries(1,e[c],c)}}finally{eo(r)}}}function Yw(t,n,e){Td()&&(function RP(t,n,e,r){const i=e.directiveStart,s=e.directiveEnd;Tu(e)&&function HP(t,n,e){const r=ji(n,t),i=FD(e);let c=16;e.signals?c=4096:e.onPush&&(c=64);const m=Xy(t,Yy(t,i,null,c,r,n,null,t[sa].rendererFactory.createRenderer(r,e),null,null,null));t[n.index]=m}(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||Hd(e,n),Va(r,n);const c=e.initialInputs;for(let m=i;m<s;m++){const _=t.data[m],R=Pu(n,t,m,e);Va(R,n),null!==c&&zP(0,m-i,R,_,0,c),fs(_)&&(Ba(e.index,n)[vi]=Pu(n,t,m,e))}}(t,n,e,ji(e,n)),64==(64&e.flags)&&UD(t,n,e))}function Xw(t,n,e=ji){const r=n.localNames;if(null!==r){let i=n.index+1;for(let s=0;s<r.length;s+=2){const c=r[s+1],m=-1===c?e(n,t):t[c];t[i++]=m}}}function FD(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Kw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Kw(t,n,e,r,i,s,c,m,_,R,U){const K=hn+r,ge=K+i,be=function wP(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:vr);return e}(K,ge),Ae="function"==typeof R?R():R;return be[fn]={type:t,blueprint:be,template:e,queries:null,viewQuery:m,declTNode:n,data:be.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:_,consts:Ae,incompleteFirstPass:!1,ssrId:U}}let BD=t=>null;function VD(t,n,e,r){for(let i in t)if(t.hasOwnProperty(i)){e=null===e?{}:e;const s=t[i];null===r?HD(e,n,i,s):r.hasOwnProperty(i)&&HD(e,n,r[i],s)}return e}function HD(t,n,e,r){t.hasOwnProperty(e)?t[e].push(n,r):t[e]=[n,r]}function Zw(t,n,e,r){if(Td()){const i=null===r?null:{"":-1},s=function PP(t,n){const e=t.directiveRegistry;let r=null,i=null;if(e)for(let s=0;s<e.length;s++){const c=e[s];if(mh(n,c.selectors,!1))if(r||(r=[]),fs(c))if(null!==c.findHostDirectiveDefs){const m=[];i=i||new Map,c.findHostDirectiveDefs(c,m,i),r.unshift(...m,c),qw(t,n,m.length)}else r.unshift(c),qw(t,n,0);else i=i||new Map,c.findHostDirectiveDefs?.(c,r,i),r.push(c)}return null===r?null:[r,i]}(t,e);let c,m;null===s?c=m=null:[c,m]=s,null!==c&&zD(t,n,e,c,i,m),i&&function LP(t,n,e){if(n){const r=t.localNames=[];for(let i=0;i<n.length;i+=2){const s=e[n[i+1]];if(null==s)throw new Ze(-301,!1);r.push(n[i],s)}}}(e,r,i)}e.mergedAttrs=$l(e.mergedAttrs,e.attrs)}function zD(t,n,e,r,i,s){for(let R=0;R<r.length;R++)Ff(Hd(e,n),t,r[R].type);!function BP(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,r.length);for(let R=0;R<r.length;R++){const U=r[R];U.providersResolver&&U.providersResolver(U)}let c=!1,m=!1,_=Lm(t,n,r.length,null);for(let R=0;R<r.length;R++){const U=r[R];e.mergedAttrs=$l(e.mergedAttrs,U.hostAttrs),VP(t,e,n,_,U),FP(_,U,i),null!==U.contentQueries&&(e.flags|=4),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(e.flags|=64);const K=U.type.prototype;!c&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),c=!0),!m&&(K.ngOnChanges||K.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),m=!0),_++}!function SP(t,n,e){const i=n.directiveEnd,s=t.data,c=n.attrs,m=[];let _=null,R=null;for(let U=n.directiveStart;U<i;U++){const K=s[U],ge=e?e.get(K):null,Ae=ge?ge.outputs:null;_=VD(K.inputs,U,_,ge?ge.inputs:null),R=VD(K.outputs,U,R,Ae);const Fe=null===_||null===c||Yl(n)?null:UP(_,U,c);m.push(Fe)}null!==_&&(_.hasOwnProperty("class")&&(n.flags|=8),_.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=m,n.inputs=_,n.outputs=R}(t,e,s)}function UD(t,n,e){const r=e.directiveStart,i=e.directiveEnd,s=e.index,c=function Hp(){return Fn.lFrame.currentDirectiveIndex}();try{ts(s);for(let m=r;m<i;m++){const _=t.data[m],R=n[m];Id(m),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&kP(_,R)}}finally{ts(-1),Id(c)}}function kP(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function qw(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function FP(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;fs(n)&&(e[""]=t)}}function VP(t,n,e,r,i){t.data[r]=i;const s=i.factory||(i.factory=co(i.type)),c=new Ic(s,fs(i),We);t.blueprint[r]=c,e[r]=c,function OP(t,n,e,r,i){const s=i.hostBindings;if(s){let c=t.hostBindingOpCodes;null===c&&(c=t.hostBindingOpCodes=[]);const m=~n.index;(function NP(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(c)!=m&&c.push(m),c.push(e,r,s)}}(t,n,r,Lm(t,e,i.hostVars,vr),i)}function Lc(t,n,e,r,i,s){const c=ji(t,n);!function Qw(t,n,e,r,i,s,c){if(null==s)t.removeAttribute(n,i,e);else{const m=null==c?vn(s):c(s,r||"",i);t.setAttribute(n,i,m,e)}}(n[Zn],c,s,t.value,e,r,i)}function zP(t,n,e,r,i,s){const c=s[n];if(null!==c)for(let m=0;m<c.length;)GD(r,e,c[m++],c[m++],c[m++])}function GD(t,n,e,r,i){const s=eo(null);try{const c=t.inputTransforms;null!==c&&c.hasOwnProperty(r)&&(i=c[r].call(n,i)),null!==t.setInput?t.setInput(n,i,e,r):n[r]=i}finally{eo(s)}}function UP(t,n,e){let r=null,i=0;for(;i<e.length;){const s=e[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const c=t[s];for(let m=0;m<c.length;m+=2)if(c[m]===n){r.push(s,c[m+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function jD(t,n,e,r){return[t,!0,!1,n,null,0,r,e,null,null,null]}function WD(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const s=e[r+1];if(-1!==s){const c=t.data[s];Fs(e[r]),c.contentQueries(2,n[s],s)}}}function Xy(t,n){return t[mc]?t[bh][aa]=n:t[mc]=n,t[bh]=n,n}function Jw(t,n,e){Fs(0);const r=eo(null);try{n(t,e)}finally{eo(r)}}function $D(t){return t[bl]||(t[bl]=[])}function YD(t){return t.cleanup||(t.cleanup=[])}function KD(t,n){const e=t[el],r=e?e.get(Pc,null):null;r&&r.handleError(n)}function e_(t,n,e,r,i){for(let s=0;s<e.length;){const c=e[s++],m=e[s++];GD(t.data[c],n[c],r,m,i)}}function Qd(t,n,e){const r=Ed(n,t);!function J(t,n,e){t.setValue(n,e)}(t[Zn],r,e)}function GP(t,n){const e=Ba(n,t),r=e[fn];!function jP(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(r,e);const i=e[lo];null!==i&&null===e[ur]&&(e[ur]=pD(i,e[el])),t_(r,e,e[vi])}function t_(t,n,e){nu(n);try{const r=t.viewQuery;null!==r&&Jw(1,r,e);const i=t.template;null!==i&&LD(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&WD(t,n),t.staticViewQueries&&Jw(2,t.viewQuery,e);const s=t.components;null!==s&&function WP(t,n){for(let e=0;e<n.length;e++)GP(t,n[e])}(n,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[Wn]&=-5,xo()}}let ZD=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(e,r,i){const s=typeof Zone>"u"?null:Zone.current,c=new Pp(e,R=>{this.all.has(R)&&this.queue.set(R,s)},i);let m;this.all.add(c),c.notify();const _=()=>{c.cleanup(),m?.(),this.all.delete(c),this.queue.delete(c)};return m=r?.onDestroy(_),{destroy:_}}flush(){if(0!==this.queue.size)for(const[e,r]of this.queue)this.queue.delete(e),r?r.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=an({token:t,providedIn:"root",factory:()=>new t}),t})();function Ky(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,s=0;if(null!==n)for(let c=0;c<n.length;c++){const m=n[c];"number"==typeof m?s=m:1==s?i=or(i,m):2==s&&(r=or(r,m+": "+n[++c]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function Fm(t,n,e,r,i=!1){for(;null!==e;){const s=n[e.index];if(null!==s&&r.push(fi(s)),La(s)){for(let m=ii;m<s.length;m++){const _=s[m],R=_[fn].firstChild;null!==R&&Fm(_[fn],_,R,r)}s[ks]!==s[lo]&&r.push(s[ks])}const c=e.type;if(8&c)Fm(t,n,e.child,r);else if(32&c){const m=g(e,n);let _;for(;_=m();)r.push(_)}else if(16&c){const m=rn(n,e);if(Array.isArray(m))r.push(...m);else{const _=x(n[Gi]);Fm(_[fn],_,m,r,!0)}}e=i?e.projectionNext:e.next}return r}function Zy(t,n,e,r=!0){const i=n[sa].rendererFactory;i.begin&&i.begin();try{qD(t,n,t.template,e)}catch(c){throw r&&KD(n,c),c}finally{i.end&&i.end(),n[sa].effectManager?.flush()}}function qD(t,n,e,r){const i=n[Wn];if(256!=(256&i)){n[sa].effectManager?.flush(),nu(n);try{Mr(n),function tu(t){return Fn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&LD(t,n,e,2,r);const c=3==(3&i);if(c){const R=t.preOrderCheckHooks;null!==R&&vs(n,R,null)}else{const R=t.preOrderHooks;null!==R&&Ou(n,R,0,null),Rf(n,0)}if(function ZP(t){for(let n=F(t);null!==n;n=z(n)){if(!n[_l])continue;const e=n[Du];for(let r=0;r<e.length;r++){pm(e[r])}}}(n),QD(n,2),null!==t.contentQueries&&WD(t,n),c){const R=t.contentCheckHooks;null!==R&&vs(n,R)}else{const R=t.contentHooks;null!==R&&Ou(n,R,1),Rf(n,1)}!function bP(t,n){const e=t.hostBindingOpCodes;if(null===e)return;const r=MD(n,qa);try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)ts(~s);else{const c=s,m=e[++i],_=e[++i];rl(m,c),r.runInContext(_,2,n[c])}}}finally{null===n[qa]&&ID(n,qa),ts(-1)}}(t,n);const m=t.components;null!==m&&eT(n,m,0);const _=t.viewQuery;if(null!==_&&Jw(2,_,r),c){const R=t.viewCheckHooks;null!==R&&vs(n,R)}else{const R=t.viewHooks;null!==R&&Ou(n,R,2),Rf(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Wn]&=-73,Ql(n)}finally{xo()}}}function QD(t,n){for(let e=F(t);null!==e;e=z(e))for(let r=ii;r<e.length;r++)JD(e[r],n)}function qP(t,n,e){JD(Ba(n,t),e)}function JD(t,n){if(!function xd(t){return 128==(128&t[Wn])}(t))return;const e=t[fn];if(80&t[Wn]&&0===n||1024&t[Wn]||2===n)qD(e,t,e.template,t[vi]);else if(t[gc]>0){QD(t,1);const i=t[fn].components;null!==i&&eT(t,i,1)}}function eT(t,n,e){for(let r=0;r<n.length;r++)qP(t,n[r],e)}class Bm{get rootNodes(){const n=this._lView,e=n[fn];return Fm(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vi]}set context(n){this._lView[vi]=n}get destroyed(){return 256==(256&this._lView[Wn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Li];if(La(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(ke(n,r),jo(e,r))}this._attachedToViewContainer=!1}Pe(this._lView[fn],this._lView)}onDestroy(n){!function Ih(t,n){if(256==(256&t[Wn]))throw new Ze(911,!1);null===t[wl]&&(t[wl]=[]),t[wl].push(n)}(this._lView,n)}markForCheck(){Pm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Wn]&=-129}reattach(){this._lView[Wn]|=128}detectChanges(){Zy(this._lView[fn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Me(t,n){Pn(t,n,n[Zn],2,null,null)}(this._lView[fn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=n}}class QP extends Bm{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Zy(n[fn],n,n[vi],!1)}checkNoChanges(){}get context(){return null}}class tT extends lg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Br(n);return new Vm(e,this.ngModule)}}function nT(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class eL{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=pf(r);const i=this.injector.get(n,Uw,r);return i!==Uw||e===Uw?i:this.parentInjector.get(n,e,r)}}class Vm extends vD{get inputs(){const n=this.componentDef,e=n.inputTransforms,r=nT(n.inputs);if(null!==e)for(const i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return nT(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function Ap(t){return t.map(Ip).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){let s=(i=i||this.ngModule)instanceof Rc?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const c=s?new eL(n,s):n,m=c.get(km,null);if(null===m)throw new Ze(407,!1);const U={rendererFactory:m,sanitizer:c.get(iP,null),effectManager:c.get(ZD,null)},K=m.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",be=r?function _P(t,n,e,r){const s=r.get(_D,!1)||e===ya.ShadowDom,c=t.selectRootElement(n,s);return function CP(t){BD(t)}(c),c}(K,r,this.componentDef.encapsulation,c):fe(K,ge,function JP(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(ge)),it=this.componentDef.signals?4608:this.componentDef.onPush?576:528,gt=Kw(0,null,null,1,0,null,null,null,null,null,null),Qe=Yy(null,gt,null,it,null,null,U,K,c,null,null);let yt,bn;nu(Qe);try{const Bn=this.componentDef;let si,ut=null;Bn.findHostDirectiveDefs?(si=[],ut=new Map,Bn.findHostDirectiveDefs(Bn,si,ut),si.push(Bn)):si=[Bn];const $s=function nL(t,n){const e=t[fn],r=hn;return t[r]=n,dg(e,r,2,"#host",null)}(Qe,be),dl=function rL(t,n,e,r,i,s,c){const m=i[fn];!function iL(t,n,e,r){for(const i of t)n.mergedAttrs=$l(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Ky(n,n.mergedAttrs,!0),null!==e&&zt(r,e,n))}(r,t,n,c);let _=null;null!==n&&(_=pD(n,i[el]));const R=s.rendererFactory.createRenderer(n,e);let U=16;e.signals?U=4096:e.onPush&&(U=64);const K=Yy(i,FD(e),null,U,i[t.index],t,s,R,null,null,_);return m.firstCreatePass&&qw(m,t,r.length-1),Xy(i,K),i[t.index]=K}($s,be,Bn,si,Qe,U,K);bn=Af(gt,hn),be&&function aL(t,n,e,r){if(r)yf(t,e,["ng-version",oP.full]);else{const{attrs:i,classes:s}=function _f(t){const n=[],e=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&n.push(s,t[++r]):8===i&&e.push(s);else{if(!Ka(i))break;i=s}r++}return{attrs:n,classes:e}}(n.selectors[0]);i&&yf(t,e,i),s&&s.length>0&&$n(t,e,s.join(" "))}}(K,Bn,be,r),void 0!==e&&function sL(t,n,e){const r=t.projection=[];for(let i=0;i<n.length;i++){const s=e[i];r.push(null!=s?Array.from(s):null)}}(bn,this.ngContentSelectors,e),yt=function oL(t,n,e,r,i,s){const c=zo(),m=i[fn],_=ji(c,i);zD(m,i,c,e,null,r);for(let U=0;U<e.length;U++)Va(Pu(i,m,c.directiveStart+U,c),i);UD(m,i,c),_&&Va(_,i);const R=Pu(i,m,c.directiveStart+c.componentOffset,c);if(t[vi]=i[vi]=R,null!==s)for(const U of s)U(R,n);return $w(m,c,t),R}(dl,Bn,si,ut,Qe,[lL]),t_(gt,Qe,null)}finally{xo()}return new tL(this.componentType,yt,ug(bn,Qe),Qe,bn)}}class tL extends Qk{constructor(n,e,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new QP(i),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const s=this._rootLView;e_(s[fn],s,i,n,e),this.previousInputValues.set(n,e),Pm(Ba(this._tNode.index,s))}}get injector(){return new Lu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function lL(){const t=zo();ms(Rt()[fn],t)}function qn(t){let n=function rT(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let i;if(fs(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ze(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);const c=t;c.inputs=qy(t.inputs),c.inputTransforms=qy(t.inputTransforms),c.declaredInputs=qy(t.declaredInputs),c.outputs=qy(t.outputs);const m=i.hostBindings;m&&fL(t,m);const _=i.viewQuery,R=i.contentQueries;if(_&&cL(t,_),R&&dL(t,R),Ar(t.inputs,i.inputs),Ar(t.declaredInputs,i.declaredInputs),Ar(t.outputs,i.outputs),null!==i.inputTransforms&&(null===c.inputTransforms&&(c.inputTransforms={}),Ar(c.inputTransforms,i.inputTransforms)),fs(i)&&i.data.animation){const U=t.data;U.animation=(U.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let c=0;c<s.length;c++){const m=s[c];m&&m.ngInherit&&m(t),m===qn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function uL(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=$l(i.hostAttrs,e=$l(e,i.hostAttrs))}}(r)}function qy(t){return t===wo?{}:t===Er?[]:t}function cL(t,n){const e=t.viewQuery;t.viewQuery=e?(r,i)=>{n(r,i),e(r,i)}:n}function dL(t,n){const e=t.contentQueries;t.contentQueries=e?(r,i,s)=>{n(r,i,s),e(r,i,s)}:n}function fL(t,n){const e=t.hostBindings;t.hostBindings=e?(r,i)=>{n(r,i),e(r,i)}:n}function sT(t){const n=t.inputConfig,e={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];Array.isArray(i)&&i[2]&&(e[r]=i[2])}t.inputTransforms=e}function Qy(t){return!!n_(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function n_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fc(t,n,e){return t[n]=e}function Cs(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Zh(t,n,e,r){const i=Cs(t,n,e);return Cs(t,n+1,r)||i}function Es(t,n,e,r){const i=Rt();return Cs(i,Ls(),n)&&(br(),Lc(Hr(),i,t,n,e,r)),Es}function pg(t,n,e,r,i,s){const m=Zh(t,function xr(){return Fn.lFrame.bindingIndex}(),e,i);return Uo(2),m?n+vn(e)+r+vn(i)+s:vr}function _r(t,n,e,r,i,s,c,m){const _=Rt(),R=br(),U=t+hn,K=R.firstCreatePass?function FL(t,n,e,r,i,s,c,m,_){const R=n.consts,U=dg(n,t,4,c||null,nl(R,m));Zw(n,e,U,nl(R,_)),ms(n,U);const K=U.tView=Kw(2,U,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,R,null);return null!==n.queries&&(n.queries.template(n,U),K.queries=n.queries.embeddedTView(U)),U}(U,R,_,n,e,r,i,s,c):R.data[U];gs(K,!1);const ge=wT(R,_,K,t);Pd()&&Nt(R,_,ge,K),Va(ge,_),Xy(_,_[U]=jD(ge,_,ge,K)),xf(K)&&Yw(R,_,K),null!=c&&Xw(_,K,m)}let wT=function _T(t,n,e,r){return iu(!0),n[Zn].createComment("")};function ll(t){return function ql(t,n){return t[n]}(function wi(){return Fn.lFrame.contextLView}(),hn+t)}function tn(t,n,e){const r=Rt();return Cs(r,Ls(),n)&&function Nl(t,n,e,r,i,s,c,m){const _=ji(n,e);let U,R=n.inputs;!m&&null!=R&&(U=R[r])?(e_(t,e,U,r,i),Tu(n)&&function IP(t,n){const e=Ba(n,t);16&e[Wn]||(e[Wn]|=64)}(e,n.index)):3&n.type&&(r=function MP(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=c?c(i,n.value||"",r):i,s.setProperty(_,r,i))}(br(),Hr(),r,t,n,r[Zn],e,!1),tn}function l_(t,n,e,r,i){const c=i?"class":"style";e_(t,e,n.inputs[c],c,r)}function tt(t,n,e,r){const i=Rt(),s=br(),c=hn+t,m=i[Zn],_=s.firstCreatePass?function zL(t,n,e,r,i,s){const c=n.consts,_=dg(n,t,2,r,nl(c,i));return Zw(n,e,_,nl(c,s)),null!==_.attrs&&Ky(_,_.attrs,!1),null!==_.mergedAttrs&&Ky(_,_.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,_),_}(c,s,i,n,e,r):s.data[c],R=CT(s,i,_,m,n,t);i[c]=R;const U=xf(_);return gs(_,!0),zt(m,R,_),32!=(32&_.flags)&&Pd()&&Nt(s,i,R,_),0===function Jl(){return Fn.lFrame.elementDepthCount}()&&Va(R,i),function Vo(){Fn.lFrame.elementDepthCount++}(),U&&(Yw(s,i,_),$w(s,_,i)),null!==r&&Xw(i,_),tt}function et(){let t=zo();Md()?fo():(t=t.parent,gs(t,!1));const n=t;(function xc(t){return Fn.skipHydrationRootTNode===t})(n)&&function eu(){Fn.skipHydrationRootTNode=null}(),function Ah(){Fn.lFrame.elementDepthCount--}();const e=br();return e.firstCreatePass&&(ms(e,t),wh(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Wp(t){return 0!=(8&t.flags)}(n)&&l_(e,n,Rt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Pf(t){return 0!=(16&t.flags)}(n)&&l_(e,n,Rt(),n.stylesWithoutHost,!1),et}function Tn(t,n,e,r){return tt(t,n,e,r),et(),Tn}let CT=(t,n,e,r,i,s)=>(iu(!0),fe(r,i,function qo(){return Fn.lFrame.currentNamespace}()));function jm(t,n,e){const r=Rt(),i=br(),s=t+hn,c=i.firstCreatePass?function jL(t,n,e,r,i){const s=n.consts,c=nl(s,r),m=dg(n,t,8,"ng-container",c);return null!==c&&Ky(m,c,!0),Zw(n,e,m,nl(s,i)),null!==n.queries&&n.queries.elementStart(n,m),m}(s,i,r,n,e):i.data[s];gs(c,!0);const m=ET(i,r,c,t);return r[s]=m,Pd()&&Nt(i,r,m,c),Va(m,r),xf(c)&&(Yw(i,r,c),$w(i,c,r)),null!=e&&Xw(r,c),jm}function Wm(){let t=zo();const n=br();return Md()?fo():(t=t.parent,gs(t,!1)),n.firstCreatePass&&(ms(n,t),wh(t)&&n.queries.elementEnd(t)),Wm}function $m(t,n,e){return jm(t,n,e),Wm(),$m}let ET=(t,n,e,r)=>(iu(!0),re(n[Zn],""));function Vs(){return Rt()}function Ym(t){return!!t&&"function"==typeof t.then}function xT(t){return!!t&&"function"==typeof t.subscribe}function Sn(t,n,e,r){const i=Rt(),s=br(),c=zo();return function TT(t,n,e,r,i,s,c){const m=xf(r),R=t.firstCreatePass&&YD(t),U=n[vi],K=$D(n);let ge=!0;if(3&r.type||c){const Fe=ji(r,n),it=c?c(Fe):Fe,gt=K.length,Qe=c?bn=>c(fi(bn[r.index])):r.index;let yt=null;if(!c&&m&&(yt=function YL(t,n,e,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const c=i[s];if(c===e&&i[s+1]===r){const m=n[bl],_=i[s+2];return m.length>_?m[_]:null}"string"==typeof c&&(s+=2)}return null}(t,n,i,r.index)),null!==yt)(yt.__ngLastListenerFn__||yt).__ngNextListenerFn__=s,yt.__ngLastListenerFn__=s,ge=!1;else{s=MT(r,n,U,s,!1);const bn=e.listen(it,i,s);K.push(s,bn),R&&R.push(i,Qe,gt,gt+1)}}else s=MT(r,n,U,s,!1);const be=r.outputs;let Ae;if(ge&&null!==be&&(Ae=be[i])){const Fe=Ae.length;if(Fe)for(let it=0;it<Fe;it+=2){const Bn=n[Ae[it]][Ae[it+1]].subscribe(s),si=K.length;K.push(s,Bn),R&&R.push(i,r.index,si,-(si+1))}}}(s,i,i[Zn],c,t,n,r),Sn}function ST(t,n,e,r){try{return Fa(6,n,e),!1!==e(r)}catch(i){return KD(t,i),!1}finally{Fa(7,n,e)}}function MT(t,n,e,r,i){return function s(c){if(c===Function)return r;Pm(t.componentOffset>-1?Ba(t.index,n):n);let _=ST(n,e,r,c),R=s.__ngNextListenerFn__;for(;R;)_=ST(n,e,R,c)&&_,R=R.__ngNextListenerFn__;return i&&!1===_&&c.preventDefault(),_}}function oi(t=1){return function ru(t){return(Fn.lFrame.contextLView=function mm(t,n){for(;t>0;)n=n[xu],t--;return n}(t,Fn.lFrame.contextLView))[vi]}(t)}function XL(t,n){let e=null;const r=function ld(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let i=0;i<n.length;i++){const s=n[i];if("*"!==s){if(null===r?mh(t,s,!0):vh(r,s))return i}else e=i}return e}function _g(t){const n=Rt()[Gi][_o];if(!n.projection){const r=n.projection=$i(t?t.length:1,null),i=r.slice();let s=n.child;for(;null!==s;){const c=t?XL(s,t):0;null!==c&&(i[c]?i[c].projectionNext=s:r[c]=s,i[c]=s),s=s.next}}}function Cg(t,n=0,e){const r=Rt(),i=br(),s=dg(i,hn+t,16,null,e||null);null===s.projection&&(s.projection=n),fo(),(!r[ur]||Ho())&&32!=(32&s.flags)&&function xn(t,n,e){un(n[Zn],0,n,e,Ke(t,e,n),Ot(e.parent||n[_o],e,n))}(i,r,s)}function rb(t,n){return t<<17|n<<2}function Yf(t){return t>>17&32767}function c_(t){return 2|t}function qh(t){return(131068&t)>>2}function d_(t,n){return-131069&t|n<<2}function f_(t){return 1|t}function BT(t,n,e,r,i){const s=t[e+1],c=null===n;let m=r?Yf(s):qh(s),_=!1;for(;0!==m&&(!1===_||c);){const U=t[m+1];eF(t[m],n)&&(_=!0,t[m+1]=r?f_(U):c_(U)),m=r?Yf(U):qh(U)}_&&(t[e+1]=r?c_(s):f_(s))}function eF(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ho(t,n)>=0}function Xm(t,n,e){return Uu(t,n,e,!1),Xm}function Ha(t,n){return Uu(t,n,null,!0),Ha}function Uu(t,n,e,r){const i=Rt(),s=br(),c=Uo(2);s.firstUpdatePass&&function $T(t,n,e,r){const i=t.data;if(null===i[e+1]){const s=i[Do()],c=function WT(t,n){return n>=t.expandoStartIndex}(t,e);(function ZT(t,n){return 0!=(t.flags&(n?8:16))})(s,r)&&null===n&&!c&&(n=!1),n=function uF(t,n,e,r){const i=function Of(t){const n=Fn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let s=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(e=Km(e=h_(null,t,n,e,r),n.attrs,r),s=null);else{const c=n.directiveStylingLast;if(-1===c||t[c]!==i)if(e=h_(i,t,n,e,r),null===s){let _=function cF(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==qh(r))return t[Yf(r)]}(t,n,r);void 0!==_&&Array.isArray(_)&&(_=h_(null,t,n,_[1],r),_=Km(_,n.attrs,r),function dF(t,n,e,r){t[Yf(e?n.classBindings:n.styleBindings)]=r}(t,n,r,_))}else s=function fF(t,n,e){let r;const i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++)r=Km(r,t[s].hostAttrs,e);return Km(r,n.attrs,e)}(t,n,r)}return void 0!==s&&(r?n.residualClasses=s:n.residualStyles=s),e}(i,s,n,r),function QL(t,n,e,r,i,s){let c=s?n.classBindings:n.styleBindings,m=Yf(c),_=qh(c);t[r]=e;let U,R=!1;if(Array.isArray(e)?(U=e[1],(null===U||ho(e,U)>0)&&(R=!0)):U=e,i)if(0!==_){const ge=Yf(t[m+1]);t[r+1]=rb(ge,m),0!==ge&&(t[ge+1]=d_(t[ge+1],r)),t[m+1]=function ZL(t,n){return 131071&t|n<<17}(t[m+1],r)}else t[r+1]=rb(m,0),0!==m&&(t[m+1]=d_(t[m+1],r)),m=r;else t[r+1]=rb(_,0),0===m?m=r:t[_+1]=d_(t[_+1],r),_=r;R&&(t[r+1]=c_(t[r+1])),BT(t,U,r,!0),BT(t,U,r,!1),function JL(t,n,e,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof n&&ho(s,n)>=0&&(e[r+1]=f_(e[r+1]))}(n,U,t,r,s),c=rb(m,_),s?n.classBindings=c:n.styleBindings=c}(i,s,n,e,c,r)}}(s,t,c,r),n!==vr&&Cs(i,c,n)&&function XT(t,n,e,r,i,s,c,m){if(!(3&n.type))return;const _=t.data,R=_[m+1],U=function qL(t){return 1==(1&t)}(R)?KT(_,n,e,i,qh(R),c):void 0;ib(U)||(ib(s)||function KL(t){return 2==(2&t)}(R)&&(s=KT(_,null,e,i,m,c)),function Nr(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let s=-1===r.indexOf("-")?void 0:ea.DashCase;null==i?t.removeStyle(e,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ea.Important),t.setStyle(e,r,i,s))}}(r,c,Ed(Do(),e),i,s))}(s,s.data[Do()],i,i[Zn],t,i[c+1]=function mF(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=er(Io(t)))),t}(n,e),r,c)}function h_(t,n,e,r,i){let s=null;const c=e.directiveEnd;let m=e.directiveStylingLast;for(-1===m?m=e.directiveStart:m++;m<c&&(s=n[m],r=Km(r,s.hostAttrs,i),s!==t);)m++;return null!==t&&(e.directiveStylingLast=m),r}function Km(t,n,e){const r=e?1:2;let i=-1;if(null!==n)for(let s=0;s<n.length;s++){const c=n[s];"number"==typeof c?i=c:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),zr(t,c,!!e||n[++s]))}return void 0===t?null:t}function KT(t,n,e,r,i,s){const c=null===n;let m;for(;i>0;){const _=t[i],R=Array.isArray(_),U=R?_[1]:_,K=null===U;let ge=e[i+1];ge===vr&&(ge=K?Er:void 0);let be=K?xi(ge,r):U===r?ge:void 0;if(R&&!ib(be)&&(be=xi(_,r)),ib(be)&&(m=be,c))return m;const Ae=t[i+1];i=c?Yf(Ae):qh(Ae)}if(null!==n){let _=s?n.residualClasses:n.residualStyles;null!=_&&(m=xi(_,r))}return m}function ib(t){return void 0!==t}function wt(t,n=""){const e=Rt(),r=br(),i=t+hn,s=r.firstCreatePass?dg(r,i,1,n,null):r.data[i],c=qT(r,e,s,n,t);e[i]=c,Pd()&&Nt(r,e,c,s),gs(s,!1)}let qT=(t,n,e,r,i)=>(iu(!0),function q(t,n){return t.createText(n)}(n[Zn],r));function Zm(t){return Rl("",t,""),Zm}function Rl(t,n,e){const r=Rt(),i=function hg(t,n,e,r){return Cs(t,Ls(),e)?n+vn(e)+r:vr}(r,t,n,e);return i!==vr&&Qd(r,Do(),i),Rl}function ob(t,n,e,r,i){const s=Rt(),c=pg(s,t,n,e,r,i);return c!==vr&&Qd(s,Do(),c),ob}const Dg="en-US";let yS=Dg;function m_(t,n,e,r,i){if(t=on(t),Array.isArray(t))for(let s=0;s<t.length;s++)m_(t[s],n,e,r,i);else{const s=br(),c=Rt();let m=Xh(t)?t:on(t.provide),_=cD(t);const R=zo(),U=1048575&R.providerIndexes,K=R.directiveStart,ge=R.providerIndexes>>20;if(Xh(t)||!t.multi){const be=new Ic(_,i,We),Ae=y_(m,n,i?U:U+ge,K);-1===Ae?(Ff(Hd(R,c),s,m),v_(s,t,n.length),n.push(m),R.directiveStart++,R.directiveEnd++,i&&(R.providerIndexes+=1048576),e.push(be),c.push(be)):(e[Ae]=be,c[Ae]=be)}else{const be=y_(m,n,U+ge,K),Ae=y_(m,n,U,U+ge),it=Ae>=0&&e[Ae];if(i&&!it||!i&&!(be>=0&&e[be])){Ff(Hd(R,c),s,m);const gt=function F2(t,n,e,r,i){const s=new Ic(t,e,We);return s.multi=[],s.index=n,s.componentProviders=0,GS(s,i,r&&!e),s}(i?L2:P2,e.length,i,r,_);!i&&it&&(e[Ae].providerFactory=gt),v_(s,t,n.length,0),n.push(m),R.directiveStart++,R.directiveEnd++,i&&(R.providerIndexes+=1048576),e.push(gt),c.push(gt)}else v_(s,t,be>-1?be:Ae,GS(e[i?Ae:be],_,!i&&r));!i&&r&&it&&e[Ae].componentProviders++}}}function v_(t,n,e,r){const i=Xh(n),s=function Lk(t){return!!t.useClass}(n);if(i||s){const _=(s?on(n.useClass):n).prototype.ngOnDestroy;if(_){const R=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const U=R.indexOf(e);-1===U?R.push(e,[r,_]):R[U+1].push(r,_)}else R.push(e,_)}}}function GS(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function y_(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function P2(t,n,e,r){return b_(this.multi,[])}function L2(t,n,e,r){const i=this.multi;let s;if(this.providerFactory){const c=this.providerFactory.componentProviders,m=Pu(e,e[fn],this.providerFactory.index,r);s=m.slice(0,c),b_(i,s);for(let _=c;_<m.length;_++)s.push(m[_])}else s=[],b_(i,s);return s}function b_(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function $r(t,n=[]){return e=>{e.providersResolver=(r,i)=>function k2(t,n,e){const r=br();if(r.firstCreatePass){const i=fs(t);m_(e,r.data,r.blueprint,i,!0),m_(n,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,n)}}class Tg{}class jS{}class w_ extends Tg{constructor(n,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tT(this);const i=so(n);this._bootstrapComponents=qd(i.bootstrap),this._r3Injector=PD(n,e,[{provide:Tg,useValue:this},{provide:lg,useValue:this.componentFactoryResolver},...r],er(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class __ extends jS{constructor(n){super(),this.moduleType=n}create(n){return new w_(this.moduleType,n,[])}}class WS extends Tg{constructor(n){super(),this.componentFactoryResolver=new tT(this),this.instance=null;const e=new Mw([...n.providers,{provide:Tg,useValue:this},{provide:lg,useValue:this.componentFactoryResolver}],n.parent||Vy(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function C_(t,n,e=null){return new WS({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let H2=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=aD(0,e.type),i=r.length>0?C_([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=an({token:t,providedIn:"environment",factory:()=>new t(Pt(Rc))}),t})();function $S(t){t.getStandaloneInjector=n=>n.get(H2).getOrCreateStandaloneInjector(t)}function cb(t,n,e){const r=Wi()+t,i=Rt();return i[r]===vr?Fc(i,r,e?n.call(e):n()):function Hm(t,n){return t[n]}(i,r)}function Jh(t,n,e,r){return function JS(t,n,e,r,i,s){const c=n+e;return Cs(t,c,i)?Fc(t,c+1,s?r.call(s,i):r(i)):nv(t,c+1)}(Rt(),Wi(),t,n,e,r)}function x_(t,n,e,r,i){return function e1(t,n,e,r,i,s,c){const m=n+e;return Zh(t,m,i,s)?Fc(t,m+2,c?r.call(c,i,s):r(i,s)):nv(t,m+2)}(Rt(),Wi(),t,n,e,r,i)}function nv(t,n){const e=t[n];return e===vr?void 0:e}function D_(t){return n=>{setTimeout(t,void 0,n)}}const lr=class uB extends It{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let i=n,s=e||(()=>null),c=r;if(n&&"object"==typeof n){const _=n;i=_.next?.bind(_),s=_.error?.bind(_),c=_.complete?.bind(_)}this.__isAsync&&(s=D_(s),i&&(i=D_(i)),c&&(c=D_(c)));const m=super.subscribe({next:i,error:s,complete:c});return n instanceof C&&n.add(m),m}};function cB(){return this._results[Symbol.iterator]()}class Sg{get changes(){return this._changes||(this._changes=new lr)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Sg.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=cB)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const i=function dr(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function nr(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=n[r];if(e&&(i=e(i),s=e(s)),s!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let zs=(()=>{class t{}return t.__NG_ELEMENT_ID__=hB,t})();const dB=zs,fB=class extends dB{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e,null)}createEmbeddedViewImpl(n,e,r){const c=this._declarationTContainer.tView,m=Yy(this._declarationLView,c,n,4096&this._declarationLView[Wn]?4096:16,null,c.declTNode,null,null,null,e||null,r||null);m[ds]=this._declarationLView[this._declarationTContainer.index];const R=this._declarationLView[uo];return null!==R&&(m[uo]=R.createEmbeddedView(c)),t_(c,m,n),new Bm(m)}};function hB(){return db(zo(),Rt())}function db(t,n){return 4&t.type?new fB(n,t,ug(t,n)):null}let za=(()=>{class t{}return t.__NG_ELEMENT_ID__=wB,t})();function wB(){return c1(zo(),Rt())}const _B=za,l1=class extends _B{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return ug(this._hostTNode,this._hostLView)}get injector(){return new Lu(this._hostTNode,this._hostLView)}get parentInjector(){const n=zd(this._hostTNode,this._hostLView);if(Rh(n)){const e=Bd(n,this._hostLView),r=ku(n);return new Lu(e[fn].data[r+8],e)}return new Lu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=u1(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-ii}createEmbeddedView(n,e,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const m=n.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(m,i,false),m}createComponent(n,e,r,i,s){const c=n&&!function En(t){return"function"==typeof t}(n);let m;if(c)m=e;else{const Fe=e||{};m=Fe.index,r=Fe.injector,i=Fe.projectableNodes,s=Fe.environmentInjector||Fe.ngModuleRef}const _=c?n:new Vm(Br(n)),R=r||this.parentInjector;if(!s&&null==_.ngModule){const it=(c?R:this.parentInjector).get(Rc,null);it&&(s=it)}Br(_.componentType??{});const be=_.create(R,i,null,s);return this.insertImpl(be.hostView,m,false),be}insert(n,e){return this.insertImpl(n,e,!1)}insertImpl(n,e,r){const i=n._lView,s=i[fn];if(function Dd(t){return La(t[Li])}(i)){const _=this.indexOf(n);if(-1!==_)this.detach(_);else{const R=i[Li],U=new l1(R,R[_o],R[Li]);U.detach(U.indexOf(n))}}const c=this._adjustIndex(e),m=this._lContainer;if(function ye(t,n,e,r){const i=ii+r,s=e.length;r>0&&(e[i-1][aa]=n),r<s-ii?(n[aa]=e[i],Ei(e,ii+r,n)):(e.push(n),n[aa]=null),n[Li]=e;const c=n[ds];null!==c&&e!==c&&function Se(t,n){const e=t[Du];n[Gi]!==n[Li][Li][Gi]&&(t[_l]=!0),null===e?t[Du]=[n]:e.push(n)}(c,n);const m=n[uo];null!==m&&m.insertView(t),n[Wn]|=128}(s,i,m,c),!r){const _=Xn(c,m),R=i[Zn],U=mt(R,m[ks]);null!==U&&function ve(t,n,e,r,i,s){r[lo]=i,r[_o]=n,Pn(t,r,e,1,i,s)}(s,m[_o],R,i,U,_)}return n.attachToViewContainerRef(),Ei(S_(m),c,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=u1(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=ke(this._lContainer,e);r&&(jo(S_(this._lContainer),e),Pe(r[fn],r))}detach(n){const e=this._adjustIndex(n,-1),r=ke(this._lContainer,e);return r&&null!=jo(S_(this._lContainer),e)?new Bm(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function u1(t){return t[8]}function S_(t){return t[8]||(t[8]=[])}function c1(t,n){let e;const r=n[t.index];return La(r)?e=r:(e=jD(r,n,null,t),n[t.index]=e,Xy(n,e)),d1(e,n,t,r),new l1(e,t,n)}let d1=function f1(t,n,e,r){if(t[ks])return;let i;i=8&e.type?fi(r):function CB(t,n){const e=t[Zn],r=e.createComment(""),i=ji(n,t);return Ge(e,mt(e,i),r,function At(t,n){return t.nextSibling(n)}(e,i),!1),r}(n,e),t[ks]=i};class M_{constructor(n){this.queryList=n,this.matches=null}clone(){return new M_(this.queryList)}setDirty(){this.queryList.setDirty()}}class I_{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,i=[];for(let s=0;s<r;s++){const c=e.getByIndex(s);i.push(this.queries[c.indexInDeclarationView].clone())}return new I_(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==v1(n,e).matches&&this.queries[e].setDirty()}}class h1{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class A_{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,s=this.getByIndex(r).embeddedTView(n,i);s&&(s.indexInDeclarationView=r,null!==e?e.push(s):e=[s])}return null!==e?new A_(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class O_{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new O_(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(n,e,DB(e,s)),this.matchTNodeWithReadOption(n,e,il(e,n,s,!1,!1))}else r===zs?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,il(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ti||i===za||i===zs&&4&e.type)this.addMatch(e.index,-2);else{const s=il(e,n,i,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function DB(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function SB(t,n,e,r){return-1===e?function TB(t,n){return 11&t.type?ug(t,n):4&t.type?db(t,n):null}(n,t):-2===e?function MB(t,n,e){return e===ti?ug(n,t):e===zs?db(n,t):e===za?c1(n,t):void 0}(t,n,r):Pu(t,t[fn],e,n)}function p1(t,n,e,r){const i=n[uo].queries[r];if(null===i.matches){const s=t.data,c=e.matches,m=[];for(let _=0;_<c.length;_+=2){const R=c[_];m.push(R<0?null:SB(n,s[R],c[_+1],e.metadata.read))}i.matches=m}return i.matches}function N_(t,n,e,r){const i=t.queries.getByIndex(e),s=i.matches;if(null!==s){const c=p1(t,n,i,e);for(let m=0;m<s.length;m+=2){const _=s[m];if(_>0)r.push(c[m/2]);else{const R=s[m+1],U=n[-_];for(let K=ii;K<U.length;K++){const ge=U[K];ge[ds]===ge[Li]&&N_(ge[fn],ge,R,r)}if(null!==U[Du]){const K=U[Du];for(let ge=0;ge<K.length;ge++){const be=K[ge];N_(be[fn],be,R,r)}}}}}return r}function In(t){const n=Rt(),e=br(),r=Ad();Fs(r+1);const i=v1(e,r);if(t.dirty&&function Cc(t){return 4==(4&t[Wn])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?N_(e,n,r,[]):p1(e,n,i,r);t.reset(s,nP),t.notifyOnChanges()}return!0}return!1}function zn(t,n,e){const r=br();r.firstCreatePass&&(m1(r,new h1(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),g1(r,Rt(),n)}function Xf(t,n,e,r){const i=br();if(i.firstCreatePass){const s=zo();m1(i,new h1(n,e,r),s.index),function AB(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(i,t),2==(2&e)&&(i.staticContentQueries=!0)}g1(i,Rt(),e)}function An(){return function IB(t,n){return t[uo].queries[n].queryList}(Rt(),Ad())}function g1(t,n,e){const r=new Sg(4==(4&e));(function DP(t,n,e,r){const i=$D(n);i.push(e),t.firstCreatePass&&YD(t).push(r,i.length-1)})(t,n,r,r.destroy),null===n[uo]&&(n[uo]=new I_),n[uo].queries.push(new M_(r))}function m1(t,n,e){null===t.queries&&(t.queries=new A_),t.queries.track(new O_(n,e))}function v1(t,n){return t.queries.getByIndex(n)}function y1(t,n){return db(t,n)}const B_=new Kt("Application Initializer");let V_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=nn(B_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const i of this.appInits){const s=i();if(Ym(s))e.push(s);else if(xT(s)){const c=new Promise((m,_)=>{s.subscribe({complete:m,error:_})});e.push(c)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),P1=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Hc=new Kt("LocaleId",{providedIn:"root",factory:()=>nn(Hc,Ln.Optional|Ln.SkipSelf)||function qB(){return typeof $localize<"u"&&$localize.locale||Dg}()});let hb=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new cn(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class JB{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let L1=(()=>{class t{compileModuleSync(e){return new __(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),s=qd(so(e).declarations).reduce((c,m)=>{const _=Br(m);return _&&c.push(new Vm(_)),c},[]);return new JB(r,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function V1(...t){}class Yr{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lr(!1),this.onMicrotaskEmpty=new lr(!1),this.onStable=new lr(!1),this.onError=new lr(!1),typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function nV(){let t=mi.requestAnimationFrame,n=mi.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function oV(t){const n=()=>{!function iV(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(mi,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,z_(t),t.isCheckStableRunning=!0,H_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),z_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,s,c,m)=>{try{return H1(t),e.invokeTask(i,s,c,m)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&n(),z1(t)}},onInvoke:(e,r,i,s,c,m,_)=>{try{return H1(t),e.invoke(i,s,c,m,_)}finally{t.shouldCoalesceRunChangeDetection&&n(),z1(t)}},onHasTask:(e,r,i,s)=>{e.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,z_(t),H_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,r,i,s)=>(e.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yr.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(Yr.isInAngularZone())throw new Ze(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){const s=this._inner,c=s.scheduleEventTask("NgZoneEvent: "+i,n,rV,V1,V1);try{return s.runTask(c,e,r)}finally{s.cancelTask(c)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const rV={};function H_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function z_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function H1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function z1(t){t._nesting--,H_(t)}class aV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lr,this.onMicrotaskEmpty=new lr,this.onStable=new lr,this.onError=new lr}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}}const U1=new Kt("",{providedIn:"root",factory:G1});function G1(){const t=nn(Yr);let n=!0;return nt(new Ye(i=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(n),i.complete()})}),new Ye(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Yr.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const c=t.onUnstable.subscribe(()=>{Yr.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),c.unsubscribe()}}).pipe(qt()))}const j1=new Kt(""),pb=new Kt("");let j_,U_=(()=>{class t{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,j_||(function sV(t){j_=t}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==s),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}}return t.\u0275fac=function(e){return new(e||t)(Pt(Yr),Pt(G_),Pt(pb))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})(),G_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return j_?.findTestabilityInTree(this,e,r)??null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Kf=null;const W1=new Kt("AllowMultipleToken"),W_=new Kt("PlatformDestroyListeners"),$_=new Kt("appBootstrapListener");class Y1{constructor(n,e){this.name=n,this.token=e}}function K1(t,n,e=[]){const r=`Platform: ${n}`,i=new Kt(r);return(s=[])=>{let c=Y_();if(!c||c.injector.get(W1,!1)){const m=[...e,...s,{provide:i,useValue:!0}];t?t(m):function cV(t){if(Kf&&!Kf.get(W1,!1))throw new Ze(400,!1);(function $1(){!function Mu(t){xh=t}(()=>{throw new Ze(600,!1)})})(),Kf=t;const n=t.get(q1);(function X1(t){t.get(dD,null)?.forEach(e=>e())})(t)}(function Z1(t=[],n){return zu.create({name:n,providers:[{provide:Tw,useValue:"platform"},{provide:W_,useValue:new Set([()=>Kf=null])},...t]})}(m,r))}return function fV(t){const n=Y_();if(!n)throw new Ze(401,!1);return n}()}}function Y_(){return Kf?.get(q1)??null}let q1=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function hV(t="zone.js",n){return"noop"===t?new aV:"zone.js"===t?new Yr(n):t}(r?.ngZone,function Q1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function V2(t,n,e){return new w_(t,n,e)}(e.moduleType,this.injector,function rM(t){return[{provide:Yr,useFactory:t},{provide:Am,multi:!0,useFactory:()=>{const n=nn(gV,{optional:!0});return()=>n.initialize()}},{provide:nM,useFactory:pV},{provide:U1,useFactory:G1}]}(()=>i)),c=s.injector.get(Pc,null);return i.runOutsideAngular(()=>{const m=i.onError.subscribe({next:_=>{c.handleError(_)}});s.onDestroy(()=>{gb(this._modules,s),m.unsubscribe()})}),function J1(t,n,e){try{const r=e();return Ym(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(c,i,()=>{const m=s.injector.get(V_);return m.runInitializers(),m.donePromise.then(()=>(function bS(t){io(t,"Expected localeId to be defined"),"string"==typeof t&&(yS=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Hc,Dg)||Dg),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,r=[]){const i=eM({},r);return function lV(t,n,e){const r=new __(e);return Promise.resolve(r)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(e){const r=e.injector.get(ep);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new Ze(-403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(W_,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Pt(zu))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function eM(t,n){return Array.isArray(n)?n.reduce(eM,t):{...t,...n}}let ep=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nn(nM),this.zoneIsStable=nn(U1),this.componentTypes=[],this.components=[],this.isStable=nn(hb).hasPendingTasks.pipe(Vt(e=>e?qe(!1):this.zoneIsStable),en(),qt()),this._injector=nn(Rc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof vD;if(!this._injector.get(V_).done)throw!i&&function ao(t){const n=Br(t)||Ui(t)||oo(t);return null!==n&&n.standalone}(e),new Ze(405,!1);let c;c=i?e:this._injector.get(lg).resolveComponentFactory(e),this.componentTypes.push(c.componentType);const m=function uV(t){return t.isBoundToModule}(c)?void 0:this._injector.get(Tg),R=c.create(zu.NULL,[],r||c.selector,m),U=R.location.nativeElement,K=R.injector.get(j1,null);return K?.registerApplication(U),R.onDestroy(()=>{this.detachView(R.hostView),gb(this.components,R),K?.unregisterApplication(U)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new Ze(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;gb(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get($_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>gb(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Ze(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function gb(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const nM=new Kt("",{providedIn:"root",factory:()=>nn(Pc).handleError.bind(void 0)});function pV(){const t=nn(Yr),n=nn(Pc);return e=>t.runOutsideAngular(()=>n.handleError(e))}let gV=(()=>{class t{constructor(){this.zone=nn(Yr),this.applicationRef=nn(ep)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let xs=(()=>{class t{}return t.__NG_ELEMENT_ID__=vV,t})();function vV(t){return function yV(t,n,e){if(Tu(t)&&!e){const r=Ba(t.index,n);return new Bm(r,r)}return 47&t.type?new Bm(n[Gi],n):null}(zo(),Rt(),16==(16&t))}class sM{constructor(){}supports(n){return Qy(n)}create(n){return new xV(n)}}const EV=(t,n)=>n;class xV{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||EV}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,s=null;for(;e||r;){const c=!r||e&&e.currentIndex<uM(r,i,s)?e:r,m=uM(c,i,s),_=c.currentIndex;if(c===r)i--,r=r._nextRemoved;else if(e=e._next,null==c.previousIndex)i++;else{s||(s=[]);const R=m-i,U=_-i;if(R!=U){for(let ge=0;ge<R;ge++){const be=ge<s.length?s[ge]:s[ge]=0,Ae=be+ge;U<=Ae&&Ae<R&&(s[ge]=be+1)}s[c.previousIndex]=U-R}}m!==_&&n(c,m,_)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Qy(n))throw new Ze(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,s,c,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let m=0;m<this.length;m++)s=n[m],c=this._trackByFn(m,s),null!==e&&Object.is(e.trackById,c)?(r&&(e=this._verifyReinsertion(e,s,c,m)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,c,m),r=!0),e=e._next}else i=0,function bL(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,m=>{c=this._trackByFn(i,m),null!==e&&Object.is(e.trackById,c)?(r&&(e=this._verifyReinsertion(e,m,c,i)),Object.is(e.item,m)||this._addIdentityChange(e,m)):(e=this._mismatch(e,m,c,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,s,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,s,i)):n=this._addAfter(new DV(e,r),s,i),n}_verifyReinsertion(n,e,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,s=n._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const i=null===e?this._itHead:e._next;return n._next=i,n._prev=e,null===i?this._itTail=n:i._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new lM),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lM),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class DV{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TV{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class lM{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new TV,this.map.set(e,r)),r.add(n)}get(n,e){const i=this.map.get(n);return i?i.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uM(t,n,e){const r=t.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}class cM{constructor(){}supports(n){return n instanceof Map||n_(n)}create(){return new SV}}class SV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||n_(n)))throw new Ze(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,e);const s=i._prev,c=i._next;return s&&(s._next=c),c&&(c._prev=s),i._next=null,i._prev=null,i}const r=new MV(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}}class MV{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dM(){return new np([new sM])}let np=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||dM()),deps:[[t,new Bh,new ns]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new Ze(901,!1)}}return t.\u0275prov=an({token:t,providedIn:"root",factory:dM}),t})();function fM(){return new ov([new cM])}let ov=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||fM()),deps:[[t,new Bh,new ns]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new Ze(901,!1)}}return t.\u0275prov=an({token:t,providedIn:"root",factory:fM}),t})();const OV=K1(null,"core",[]);let NV=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(Pt(ep))},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({}),t})();function Ag(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let eC=null;function Zf(){return eC}class jV{}const Di=new Kt("DocumentToken");let tC=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn($V)},providedIn:"platform"}),t})();const WV=new Kt("Location Initialized");let $V=(()=>{class t extends tC{constructor(){super(),this._doc=nn(Di),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zf().getBaseHref(this._doc)}onPopState(e){const r=Zf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Zf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function nC(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function bM(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Jd(t){return t&&"?"!==t[0]?"?"+t:t}let rp=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(_M)},providedIn:"root"}),t})();const wM=new Kt("appBaseHref");let _M=(()=>{class t extends rp{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??nn(Di).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return nC(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Jd(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){const c=this.prepareExternalUrl(i+Jd(s));this._platformLocation.pushState(e,r,c)}replaceState(e,r,i,s){const c=this.prepareExternalUrl(i+Jd(s));this._platformLocation.replaceState(e,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(tC),Pt(wM,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),YV=(()=>{class t extends rp{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=nC(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let c=this.prepareExternalUrl(i+Jd(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,r,c)}replaceState(e,r,i,s){let c=this.prepareExternalUrl(i+Jd(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(tC),Pt(wM,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})(),rC=(()=>{class t{constructor(e){this._subject=new lr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function ZV(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(bM(CM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Jd(r))}normalize(e){return t.stripTrailingSlash(function KV(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,CM(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Jd(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Jd(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return t.normalizeQueryParams=Jd,t.joinWithSlash=nC,t.stripTrailingSlash=bM,t.\u0275fac=function(e){return new(e||t)(Pt(rp))},t.\u0275prov=an({token:t,factory:function(){return function XV(){return new rC(Pt(rp))}()},providedIn:"root"}),t})();function CM(t){return t.replace(/\/index.html$/,"")}function OM(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}const hC=/\s+/,NM=[];let lv=(()=>{class t{constructor(e,r,i,s){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=NM,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(hC):NM}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(hC):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(hC).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(e){return new(e||t)(We(np),We(ov),We(ti),We(Zd))},t.\u0275dir=ln({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class kH{constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Og=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,s,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new kH(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===s?void 0:s);else if(null!==s){const m=r.get(s);r.move(m,c),kM(m,i)}});for(let i=0,s=r.length;i<s;i++){const m=r.get(i).context;m.index=i,m.count=s,m.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{kM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(zs),We(np))},t.\u0275dir=ln({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function kM(t,n){t.context.$implicit=n.item}let cu=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new PH,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){PM("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){PM("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(zs))},t.\u0275dir=ln({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class PH{constructor(){this.$implicit=null,this.ngIf=null}}function PM(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${er(n)}'.`)}let mC=(()=>{class t{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,s]=e.split("."),c=-1===i.indexOf("-")?void 0:ea.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(ov),We(Zd))},t.\u0275dir=ln({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),t})(),bC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({}),t})();const BM="browser";function VM(t){return"server"===t}let f3=(()=>{class t{}return t.\u0275prov=an({token:t,providedIn:"root",factory:()=>new h3(Pt(Di),window)}),t})();class h3{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function p3(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const c=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=HM(this.window.history)||HM(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function HM(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class zM{}class F3 extends jV{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class CC extends F3{static makeCurrent(){!function GV(t){eC||(eC=t)}(new CC)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function B3(){return cv=cv||document.querySelector("base"),cv?cv.getAttribute("href"):null}();return null==e?null:function V3(t){Ab=Ab||document.createElement("a"),Ab.setAttribute("href",t);const n=Ab.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){cv=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return OM(document.cookie,n)}}let Ab,cv=null,z3=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const EC=new Kt("EventManagerPlugins");let $M=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new Ze(5101,!1);return this._eventNameToPlugin.set(e,r),r}}return t.\u0275fac=function(e){return new(e||t)(Pt(EC),Pt(Yr))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();class YM{constructor(n){this._doc=n}}const xC="ng-app-id";let XM=(()=>{class t{constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=VM(s),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${xC}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const s=i.get(e);return s.usage+=r,s.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===e)return i.delete(r),s.removeAttribute(xC),s;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(xC,this.appId),c}}addStyleToHost(e,r){const i=this.getStyleElement(e,r);e.appendChild(i);const s=this.styleRef,c=s.get(r)?.elements;c?c.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di),Pt(Hy),Pt(Ow,8),Pt($f))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const DC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},TC=/%COMP%/g,W3=new Kt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ZM(t,n){return n.map(e=>e.replace(TC,t))}let SC=(()=>{class t{constructor(e,r,i,s,c,m,_,R=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=m,this.ngZone=_,this.nonce=R,this.rendererByCompId=new Map,this.platformIsServer=VM(m),this.defaultRenderer=new MC(e,c,_,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ya.ShadowDom&&(r={...r,encapsulation:ya.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof QM?i.applyToHost(e):i instanceof IC&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const c=this.doc,m=this.ngZone,_=this.eventManager,R=this.sharedStylesHost,U=this.removeStylesOnCompDestroy,K=this.platformIsServer;switch(r.encapsulation){case ya.Emulated:s=new QM(_,R,r,this.appId,U,c,m,K);break;case ya.ShadowDom:return new K3(_,R,e,r,c,m,this.nonce,K);default:s=new IC(_,R,r,U,c,m,K)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(e){return new(e||t)(Pt($M),Pt(XM),Pt(Hy),Pt(W3),Pt(Di),Pt($f),Pt(Yr),Pt(Ow))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();class MC{constructor(n,e,r,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(DC[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(qM(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(qM(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new Ze(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;const s=DC[i];s?n.setAttributeNS(s,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const i=DC[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(ea.DashCase|ea.Important)?n.style.setProperty(e,r,i&ea.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&ea.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){if("string"==typeof n&&!(n=Zf().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function qM(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class K3 extends MC{constructor(n,e,r,i,s,c,m,_){super(n,s,c,_),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const R=ZM(i.id,i.styles);for(const U of R){const K=document.createElement("style");m&&K.setAttribute("nonce",m),K.textContent=U,this.shadowRoot.appendChild(K)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class IC extends MC{constructor(n,e,r,i,s,c,m,_){super(n,s,c,m),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.rendererUsageCount=0,this.styles=_?ZM(_,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class QM extends IC{constructor(n,e,r,i,s,c,m,_){const R=i+"-"+r.id;super(n,e,r,s,c,m,_,R),this.contentAttr=function $3(t){return"_ngcontent-%COMP%".replace(TC,t)}(R),this.hostAttr=function Y3(t){return"_nghost-%COMP%".replace(TC,t)}(R)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}let Z3=(()=>{class t extends YM{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const JM=["alt","control","meta","shift"],q3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Q3={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let J3=(()=>{class t extends YM{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,i){const s=t.parseEventName(r),c=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zf().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let c="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),c="code."),JM.forEach(R=>{const U=r.indexOf(R);U>-1&&(r.splice(U,1),c+=R+".")}),c+=s,0!=r.length||0===s.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(e,r){let i=q3[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),JM.forEach(c=>{c!==i&&(0,Q3[c])(e)&&(s+=c+".")}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{t.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const r5=K1(OV,"browser",[{provide:$f,useValue:BM},{provide:dD,useValue:function e5(){CC.makeCurrent()},multi:!0},{provide:Di,useFactory:function n5(){return function Ur(t){Dn=t}(document),document},deps:[]}]),o5=new Kt(""),nI=[{provide:pb,useClass:class H3{addToWindow(n){mi.getAngularTestability=(r,i=!0)=>{const s=n.findTestabilityInTree(r,i);if(null==s)throw new Ze(5103,!1);return s},mi.getAllAngularTestabilities=()=>n.getAllTestabilities(),mi.getAllAngularRootElements=()=>n.getAllRootElements(),mi.frameworkStabilizers||(mi.frameworkStabilizers=[]),mi.frameworkStabilizers.push(r=>{const i=mi.getAllAngularTestabilities();let s=i.length,c=!1;const m=function(_){c=c||_,s--,0==s&&r(c)};i.forEach(_=>{_.whenStable(m)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?Zf().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:j1,useClass:U_,deps:[Yr,G_,pb]},{provide:U_,useClass:U_,deps:[Yr,G_,pb]}],rI=[{provide:Tw,useValue:"root"},{provide:Pc,useFactory:function t5(){return new Pc},deps:[]},{provide:EC,useClass:Z3,multi:!0,deps:[Di,Yr,$f]},{provide:EC,useClass:J3,multi:!0,deps:[Di]},SC,XM,$M,{provide:km,useExisting:SC},{provide:zM,useClass:z3,deps:[]},[]];let iI=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Hy,useValue:e.appId}]}}}return t.\u0275fac=function(e){return new(e||t)(Pt(o5,12))},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({providers:[...rI,...nI],imports:[bC,NV]}),t})(),oI=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di))},t.\u0275prov=an({token:t,factory:function(e){let r=null;return r=e?new e:function s5(){return new oI(Pt(Di))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;let Ob=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(e){let r=null;return r=e?new(e||t):Pt(lI),r},providedIn:"root"}),t})(),lI=(()=>{class t extends Ob{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case hi.NONE:return r;case hi.HTML:return xa(r,"HTML")?Io(r):Qx(this._doc,String(r)).toString();case hi.STYLE:return xa(r,"Style")?Io(r):r;case hi.SCRIPT:if(xa(r,"Script"))return Io(r);throw new Ze(5200,!1);case hi.URL:return xa(r,"URL")?Io(r):ig(String(r));case hi.RESOURCE_URL:if(xa(r,"ResourceURL"))return Io(r);throw new Ze(5201,!1);default:throw new Ze(5202,!1)}}bypassSecurityTrustHtml(e){return function Xd(t){return new Il(t)}(e)}bypassSecurityTrustStyle(e){return function jf(t){return new Al(t)}(e)}bypassSecurityTrustScript(e){return function ng(t){return new Ea(t)}(e)}bypassSecurityTrustUrl(e){return function Kd(t){return new al(t)}(e)}bypassSecurityTrustResourceUrl(e){return function ws(t){return new is(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di))},t.\u0275prov=an({token:t,factory:function(e){let r=null;return r=e?new e:function d5(t){return new lI(t.get(Di))}(Pt(zu)),r},providedIn:"root"}),t})();var Yu=(()=>((Yu=Yu||{})[Yu.Hide=0]="Hide",Yu[Yu.Show=1]="Show",Yu))();let cI=(()=>{class t{constructor(){this.toggleSubject=new It,this.toggleObservable=this.toggleSubject.asObservable()}hideAllComponents(e){this.toggleSubject.next({action:Yu.Hide,type:e})}showAllComponents(e){this.toggleSubject.next({action:Yu.Show,type:e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Nb(t){return!!t&&(t instanceof Ye||S(t.lift)&&S(t.subscribe))}const{isArray:f5}=Array,{getPrototypeOf:h5,prototype:p5,keys:g5}=Object;function dI(t){if(1===t.length){const n=t[0];if(f5(n))return{args:n,keys:null};if(function m5(t){return t&&"object"==typeof t&&h5(t)===p5}(n)){const e=g5(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:v5}=Array;function OC(t){return Tt(n=>function y5(t,n){return v5(n)?t(...n):t(n)}(t,n))}function fI(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function Rb(...t){const n=Ro(t),e=$a(t),{args:r,keys:i}=dI(t);if(0===r.length)return Ve([],n);const s=new Ye(function b5(t,n,e=Be){return r=>{hI(n,()=>{const{length:i}=t,s=new Array(i);let c=i,m=i;for(let _=0;_<i;_++)hI(n,()=>{const R=Ve(t[_],n);let U=!1;R.subscribe(ht(r,K=>{s[_]=K,U||(U=!0,m--),m||r.next(e(s.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,n,i?c=>fI(i,c):Be));return e?s.pipe(OC(e)):s}function hI(t,n,e){t?Oa(e,t,n):n()}const kb=P(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Pb(...t){return function w5(){return ki(1)}()(Ve(t,Ro(t)))}function pI(t){return new Ye(n=>{No(t()).subscribe(n)})}function Ng(t,n){const e=S(t)?t:()=>t,r=i=>i.error(e());return new Ye(n?i=>n.schedule(r,0,i):r)}function NC(){return rt((t,n)=>{let e=null;t._refCount++;const r=ht(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const i=t._connection,s=e;e=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class RC extends Ye{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,lt(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new C;const e=this.getSubject();n.add(this.source.subscribe(ht(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=C.EMPTY)}return n}refCount(){return NC()(this)}}function zc(t){return t<=0?()=>va:rt((n,e)=>{let r=0;n.subscribe(ht(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function dv(...t){const n=Ro(t);return rt((e,r)=>{(n?Pb(t,e,n):Pb(t,e)).subscribe(r)})}function kl(t,n){return rt((e,r)=>{let i=0;e.subscribe(ht(r,s=>t.call(n,s,i++)&&r.next(s)))})}function Lb(t){return rt((n,e)=>{let r=!1;n.subscribe(ht(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function gI(t=_5){return rt((n,e)=>{let r=!1;n.subscribe(ht(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function _5(){return new kb}function ip(t,n){const e=arguments.length>=2;return r=>r.pipe(t?kl((i,s)=>t(i,s,r)):Be,zc(1),e?Lb(n):gI(()=>new kb))}function Rg(t,n){return S(n)?qi(t,n,1):qi(t,1)}function pa(t,n,e){const r=S(t)||n||e?{next:t,error:n,complete:e}:t;return r?rt((i,s)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let m=!0;i.subscribe(ht(s,_=>{var R;null===(R=r.next)||void 0===R||R.call(r,_),s.next(_)},()=>{var _;m=!1,null===(_=r.complete)||void 0===_||_.call(r),s.complete()},_=>{var R;m=!1,null===(R=r.error)||void 0===R||R.call(r,_),s.error(_)},()=>{var _,R;m&&(null===(_=r.unsubscribe)||void 0===_||_.call(r)),null===(R=r.finalize)||void 0===R||R.call(r)}))}):Be}function tf(t){return rt((n,e)=>{let s,r=null,i=!1;r=n.subscribe(ht(e,void 0,void 0,c=>{s=No(t(c,tf(t)(n))),r?(r.unsubscribe(),r=null,s.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(e))})}function kC(t){return t<=0?()=>va:rt((n,e)=>{let r=[];n.subscribe(ht(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function kg(t){return rt((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const Dr="primary",fv=Symbol("RouteTitle");class T5{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Pg(t){return new T5(t)}function S5(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const c=r[s],m=t[s];if(c.startsWith(":"))i[c.substring(1)]=m;else if(c!==m.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Uc(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!mI(t[i],n[i]))return!1;return!0}function mI(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((i,s)=>r[s]===i)}return t===n}function vI(t){return t.length>0?t[t.length-1]:null}function Qf(t){return Nb(t)?t:Ym(t)?Ve(Promise.resolve(t)):qe(t)}const I5={exact:function wI(t,n,e){if(!op(t.segments,n.segments)||!Fb(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!wI(t.children[r],n.children[r],e))return!1;return!0},subset:_I},yI={exact:function A5(t,n){return Uc(t,n)},subset:function O5(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>mI(t[e],n[e]))},ignored:()=>!0};function bI(t,n,e){return I5[e.paths](t.root,n.root,e.matrixParams)&&yI[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function _I(t,n,e){return CI(t,n,n.segments,e)}function CI(t,n,e,r){if(t.segments.length>e.length){const i=t.segments.slice(0,e.length);return!(!op(i,e)||n.hasChildren()||!Fb(i,e,r))}if(t.segments.length===e.length){if(!op(t.segments,e)||!Fb(t.segments,e,r))return!1;for(const i in n.children)if(!t.children[i]||!_I(t.children[i],n.children[i],r))return!1;return!0}{const i=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(op(t.segments,i)&&Fb(t.segments,i,r)&&t.children[Dr])&&CI(t.children[Dr],n,s,r)}}function Fb(t,n,e){return n.every((r,i)=>yI[e](t[i].parameters,r.parameters))}class Lg{constructor(n=new Ti([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pg(this.queryParams)),this._queryParamMap}toString(){return k5.serialize(this)}}class Ti{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bb(this)}}class hv{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Pg(this.parameters)),this._parameterMap}toString(){return DI(this)}}function op(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}let pv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return new PC},providedIn:"root"}),t})();class PC{parse(n){const e=new W5(n);return new Lg(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${gv(n.root,!0)}`,r=function F5(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(i=>`${Vb(e)}=${Vb(i)}`).join("&"):`${Vb(e)}=${Vb(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function P5(t){return encodeURI(t)}(n.fragment)}`:""}`}}const k5=new PC;function Bb(t){return t.segments.map(n=>DI(n)).join("/")}function gv(t,n){if(!t.hasChildren())return Bb(t);if(n){const e=t.children[Dr]?gv(t.children[Dr],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Dr&&r.push(`${i}:${gv(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function R5(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===Dr&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Dr&&(e=e.concat(n(i,r)))}),e}(t,(r,i)=>i===Dr?[gv(t.children[Dr],!1)]:[`${i}:${gv(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Dr]?`${Bb(t)}/${e[0]}`:`${Bb(t)}/(${e.join("//")})`}}function EI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vb(t){return EI(t).replace(/%3B/gi,";")}function LC(t){return EI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hb(t){return decodeURIComponent(t)}function xI(t){return Hb(t.replace(/\+/g,"%20"))}function DI(t){return`${LC(t.path)}${function L5(t){return Object.keys(t).map(n=>`;${LC(n)}=${LC(t[n])}`).join("")}(t.parameters)}`}const B5=/^[^\/()?;#]+/;function FC(t){const n=t.match(B5);return n?n[0]:""}const V5=/^[^\/()?;=#]+/,z5=/^[^=?&#]+/,G5=/^[^&#]+/;class W5{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ti([],{}):new Ti([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Dr]=new Ti(n,e)),r}parseSegment(){const n=FC(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Ze(4009,!1);return this.capture(n),new hv(Hb(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function H5(t){const n=t.match(V5);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=FC(this.remaining);i&&(r=i,this.capture(r))}n[Hb(e)]=Hb(r)}parseQueryParam(n){const e=function U5(t){const n=t.match(z5);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const c=function j5(t){const n=t.match(G5);return n?n[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=xI(e),s=xI(r);if(n.hasOwnProperty(i)){let c=n[i];Array.isArray(c)||(c=[c],n[i]=c),c.push(s)}else n[i]=s}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=FC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Ze(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=Dr);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[Dr]:new Ti([],c),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Ze(4011,!1)}}function TI(t){return t.segments.length>0?new Ti([],{[Dr]:t}):t}function SI(t){const n={};for(const r of Object.keys(t.children)){const s=SI(t.children[r]);if(r===Dr&&0===s.segments.length&&s.hasChildren())for(const[c,m]of Object.entries(s.children))n[c]=m;else(s.segments.length>0||s.hasChildren())&&(n[r]=s)}return function $5(t){if(1===t.numberOfChildren&&t.children[Dr]){const n=t.children[Dr];return new Ti(t.segments.concat(n.segments),n.children)}return t}(new Ti(t.segments,n))}function ap(t){return t instanceof Lg}function MI(t){let n;const i=TI(function e(s){const c={};for(const _ of s.children){const R=e(_);c[_.outlet]=R}const m=new Ti(s.url,c);return s===t&&(n=m),m}(t.root));return n??i}function II(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(0===n.length)return BC(i,i,i,e,r);const s=function X5(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new OI(!0,0,t);let n=0,e=!1;const r=t.reduce((i,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const m={};return Object.entries(s.outlets).forEach(([_,R])=>{m[_]="string"==typeof R?R.split("/"):R}),[...i,{outlets:m}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===c?(s.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?e=!0:".."===m?n++:""!=m&&i.push(m))}),i):[...i,s]},[]);return new OI(e,n,r)}(n);if(s.toRoot())return BC(i,i,new Ti([],{}),e,r);const c=function K5(t,n,e){if(t.isAbsolute)return new Ub(n,!0,0);if(!e)return new Ub(n,!1,NaN);if(null===e.parent)return new Ub(e,!0,0);const r=zb(t.commands[0])?0:1;return function Z5(t,n,e){let r=t,i=n,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Ze(4005,!1);i=r.segments.length}return new Ub(r,!1,i-s)}(e,e.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),m=c.processChildren?vv(c.segmentGroup,c.index,s.commands):NI(c.segmentGroup,c.index,s.commands);return BC(i,c.segmentGroup,m,e,r)}function zb(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function mv(t){return"object"==typeof t&&null!=t&&t.outlets}function BC(t,n,e,r,i){let c,s={};r&&Object.entries(r).forEach(([_,R])=>{s[_]=Array.isArray(R)?R.map(U=>`${U}`):`${R}`}),c=t===n?e:AI(t,n,e);const m=TI(SI(c));return new Lg(m,s,i)}function AI(t,n,e){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===n?e:AI(s,n,e)}),new Ti(t.segments,r)}class OI{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&zb(r[0]))throw new Ze(4003,!1);const i=r.find(mv);if(i&&i!==vI(r))throw new Ze(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ub{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function NI(t,n,e){if(t||(t=new Ti([],{})),0===t.segments.length&&t.hasChildren())return vv(t,n,e);const r=function Q5(t,n,e){let r=0,i=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return s;const c=t.segments[i],m=e[r];if(mv(m))break;const _=`${m}`,R=r<e.length-1?e[r+1]:null;if(i>0&&void 0===_)break;if(_&&R&&"object"==typeof R&&void 0===R.outlets){if(!kI(_,R,c))return s;r+=2}else{if(!kI(_,{},c))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ti(t.segments.slice(0,r.pathIndex),{});return s.children[Dr]=new Ti(t.segments.slice(r.pathIndex),t.children),vv(s,0,i)}return r.match&&0===i.length?new Ti(t.segments,{}):r.match&&!t.hasChildren()?VC(t,n,e):r.match?vv(t,0,i):VC(t,n,e)}function vv(t,n,e){if(0===e.length)return new Ti(t.segments,{});{const r=function q5(t){return mv(t[0])?t[0].outlets:{[Dr]:t}}(e),i={};if(!r[Dr]&&t.children[Dr]&&1===t.numberOfChildren&&0===t.children[Dr].segments.length){const s=vv(t.children[Dr],n,e);return new Ti(t.segments,s.children)}return Object.entries(r).forEach(([s,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(i[s]=NI(t.children[s],n,c))}),Object.entries(t.children).forEach(([s,c])=>{void 0===r[s]&&(i[s]=c)}),new Ti(t.segments,i)}}function VC(t,n,e){const r=t.segments.slice(0,n);let i=0;for(;i<e.length;){const s=e[i];if(mv(s)){const _=J5(s.outlets);return new Ti(r,_)}if(0===i&&zb(e[0])){r.push(new hv(t.segments[n].path,RI(e[0]))),i++;continue}const c=mv(s)?s.outlets[Dr]:`${s}`,m=i<e.length-1?e[i+1]:null;c&&m&&zb(m)?(r.push(new hv(c,RI(m))),i+=2):(r.push(new hv(c,{})),i++)}return new Ti(r,{})}function J5(t){const n={};return Object.entries(t).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[e]=VC(new Ti([],{}),0,r))}),n}function RI(t){const n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function kI(t,n,e){return t==e.path&&Uc(n,e.parameters)}const yv="imperative";class Gc{constructor(n,e){this.id=n,this.url=e}}class HC extends Gc{constructor(n,e,r="imperative",i=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sp extends Gc{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gb extends Gc{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bv extends Gc{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=16}}class zC extends Gc{constructor(n,e,r,i){super(n,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class e4 extends Gc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t4 extends Gc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n4 extends Gc{constructor(n,e,r,i,s){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class r4 extends Gc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o4 extends Gc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a4{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class s4{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class l4{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u4{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c4{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d4{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PI{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class f4{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new wv,this.attachRef=null}}let wv=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new f4,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class LI{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=UC(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=UC(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=GC(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return GC(n,this._root).map(e=>e.value)}}function UC(t,n){if(t===n.value)return n;for(const e of n.children){const r=UC(t,e);if(r)return r}return null}function GC(t,n){if(t===n.value)return[n];for(const e of n.children){const r=GC(t,e);if(r.length)return r.unshift(n),r}return[]}class nf{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Fg(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class FI extends LI{constructor(n,e){super(n),this.snapshot=e,jC(this,n)}toString(){return this.snapshot.toString()}}function BI(t,n){const e=function h4(t,n){const c=new jb([],{},{},"",{},Dr,n,null,{});return new HI("",new nf(c,[]))}(0,n),r=new cn([new hv("",{})]),i=new cn({}),s=new cn({}),c=new cn({}),m=new cn(""),_=new Bg(r,i,c,m,s,Dr,n,e.root);return _.snapshot=e.root,new FI(new nf(_,[]),e)}class Bg{constructor(n,e,r,i,s,c,m,_){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=c,this.component=m,this._futureSnapshot=_,this.title=this.dataSubject?.pipe(Tt(R=>R[fv]))??qe(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Tt(n=>Pg(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Tt(n=>Pg(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function VI(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const i=e[r],s=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function p4(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class jb{get title(){return this.data?.[fv]}constructor(n,e,r,i,s,c,m,_,R){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=m,this.routeConfig=_,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class HI extends LI{constructor(n,e){super(e),this.url=n,jC(this,e)}toString(){return zI(this._root)}}function jC(t,n){n.value._routerState=t,n.children.forEach(e=>jC(t,e))}function zI(t){const n=t.children.length>0?` { ${t.children.map(zI).join(", ")} } `:"";return`${t.value}${n}`}function WC(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Uc(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Uc(n.params,e.params)||t.paramsSubject.next(e.params),function M5(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Uc(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),Uc(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function $C(t,n){const e=Uc(t.params,n.params)&&function N5(t,n){return op(t,n)&&t.every((e,r)=>Uc(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||$C(t.parent,n.parent))}let YC=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Dr,this.activateEvents=new lr,this.deactivateEvents=new lr,this.attachEvents=new lr,this.detachEvents=new lr,this.parentContexts=nn(wv),this.location=nn(za),this.changeDetector=nn(xs),this.environmentInjector=nn(Rc),this.inputBinder=nn(Wb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ze(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ze(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ze(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Ze(4013,!1);this._activatedRoute=e;const i=this.location,c=e.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,_=new g4(e,m,i.injector);this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ln({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_a]}),t})();class g4{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Bg?this.route:n===wv?this.childContexts:this.parent.get(n,e)}}const Wb=new Kt("");let UI=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,i=Rb([r.queryParams,r.params,r.data]).pipe(Vt(([s,c,m],_)=>(m={...s,...c,...m},0===_?qe(m):Promise.resolve(m)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const c=function UV(t){const n=Br(t);if(!n)return null;const e=new Vm(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(c)for(const{templateName:m}of c.inputs)e.activatedComponentRef.setInput(m,s[m]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();function _v(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const i=function v4(t,n,e){return n.children.map(r=>{for(const i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return _v(t,r,i);return _v(t,r)})}(t,n,e);return new nf(r,i)}{if(t.shouldAttach(n.value)){const s=t.retrieve(n.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=n.value,c.children=n.children.map(m=>_v(t,m)),c}}const r=function y4(t){return new Bg(new cn(t.url),new cn(t.params),new cn(t.queryParams),new cn(t.fragment),new cn(t.data),t.outlet,t.component,t)}(n.value),i=n.children.map(s=>_v(t,s));return new nf(r,i)}}const XC="ngNavigationCancelingError";function GI(t,n){const{redirectTo:e,navigationBehaviorOptions:r}=ap(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=jI(!1,0,n);return i.url=e,i.navigationBehaviorOptions=r,i}function jI(t,n,e){const r=new Error("NavigationCancelingError: "+(t||""));return r[XC]=!0,r.cancellationCode=n,e&&(r.url=e),r}function WI(t){return $I(t)&&ap(t.url)}function $I(t){return t&&t[XC]}let YI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["ng-component"]],standalone:!0,features:[$S],decls:1,vars:0,template:function(e,r){1&e&&Tn(0,"router-outlet")},dependencies:[YC],encapsulation:2}),t})();function KC(t){const n=t.children&&t.children.map(KC),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Dr&&(e.component=YI),e}function Xu(t){return t.outlet||Dr}function Cv(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class D4{constructor(n,e,r,i,s){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),WC(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const i=Fg(e);n.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,i[c],r),delete i[c]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,e,r){const i=n.value,s=e?e.value:null;if(i===s)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(n,e,c.children)}else this.deactivateChildRoutes(n,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,s=Fg(n);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);if(r&&r.outlet){const c=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:c,route:n,contexts:m})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,s=Fg(n);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){const i=Fg(e);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new d4(s.value.snapshot))}),n.children.length&&this.forwardEvent(new u4(n.value.snapshot))}activateRoutes(n,e,r){const i=n.value,s=e?e.value:null;if(WC(i),i===s)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,c.children)}else this.activateChildRoutes(n,e,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(m.contexts),c.attachRef=m.componentRef,c.route=m.route.value,c.outlet&&c.outlet.attach(m.componentRef,m.route.value),WC(m.route.value),this.activateChildRoutes(n,null,c.children)}else{const m=Cv(i.snapshot);c.attachRef=null,c.route=i,c.injector=m,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(n,null,c.children)}}else this.activateChildRoutes(n,null,r)}}class XI{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class $b{constructor(n,e){this.component=n,this.route=e}}function T4(t,n,e){const r=t._root;return Ev(r,n?n._root:null,e,[r.value])}function Vg(t,n){const e=Symbol(),r=n.get(t,e);return r===e?"function"!=typeof t||function ac(t){return null!==Ra(t)}(t)?n.get(t):t:r}function Ev(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Fg(n);return t.children.forEach(c=>{(function M4(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,c=n?n.value:null,m=e?e.getContext(t.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const _=function I4(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!op(t.url,n.url);case"pathParamsOrQueryParamsChange":return!op(t.url,n.url)||!Uc(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$C(t,n)||!Uc(t.queryParams,n.queryParams);default:return!$C(t,n)}}(c,s,s.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new XI(r)):(s.data=c.data,s._resolvedData=c._resolvedData),Ev(t,n,s.component?m?m.children:null:e,r,i),_&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new $b(m.outlet.component,c))}else c&&xv(n,m,i),i.canActivateChecks.push(new XI(r)),Ev(t,null,s.component?m?m.children:null:e,r,i)})(c,s[c.value.outlet],e,r.concat([c.value]),i),delete s[c.value.outlet]}),Object.entries(s).forEach(([c,m])=>xv(m,e.getContext(c),i)),i}function xv(t,n,e){const r=Fg(t),i=t.value;Object.entries(r).forEach(([s,c])=>{xv(c,i.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new $b(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Dv(t){return"function"==typeof t}function KI(t){return t instanceof kb||"EmptyError"===t?.name}const Yb=Symbol("INITIAL_VALUE");function Hg(){return Vt(t=>Rb(t.map(n=>n.pipe(zc(1),dv(Yb)))).pipe(Tt(n=>{for(const e of n)if(!0!==e){if(e===Yb)return Yb;if(!1===e||e instanceof Lg)return e}return!0}),kl(n=>n!==Yb),zc(1)))}function ZI(t){return function at(...t){return ft(t)}(pa(n=>{if(ap(n))throw GI(0,n)}),Tt(n=>!0===n))}class Xb{constructor(n){this.segmentGroup=n||null}}class qI{constructor(n){this.urlTree=n}}function zg(t){return Ng(new Xb(t))}function QI(t){return Ng(new qI(t))}class K4{constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new Ze(4002,!1)}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return qe(r);if(i.numberOfChildren>1||!i.children[Dr])return Ng(new Ze(4e3,!1));i=i.children[Dr]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreateUrlTree(n,e,r,i){const s=this.createSegmentGroup(n,e.root,r,i);return new Lg(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Object.entries(n).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);r[i]=e[m]}else r[i]=s}),r}createSegmentGroup(n,e,r,i){const s=this.createSegments(n,e.segments,r,i);let c={};return Object.entries(e.children).forEach(([m,_])=>{c[m]=this.createSegmentGroup(n,_,r,i)}),new Ti(s,c)}createSegments(n,e,r,i){return e.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,e,r){const i=r[e.path.substring(1)];if(!i)throw new Ze(4001,!1);return i}findOrReturn(n,e){let r=0;for(const i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}}const ZC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Z4(t,n,e,r,i){const s=qC(t,n,e);return s.matched?(r=function b4(t,n){return t.providers&&!t._injector&&(t._injector=C_(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,r),function $4(t,n,e,r){const i=n.canMatch;return i&&0!==i.length?qe(i.map(c=>{const m=Vg(c,t);return Qf(function P4(t){return t&&Dv(t.canMatch)}(m)?m.canMatch(n,e):t.runInContext(()=>m(n,e)))})).pipe(Hg(),ZI()):qe(!0)}(r,n,e).pipe(Tt(c=>!0===c?s:{...ZC}))):qe(s)}function qC(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...ZC}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||S5)(e,t,n);if(!i)return{...ZC};const s={};Object.entries(i.posParams??{}).forEach(([m,_])=>{s[m]=_.path});const c=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function JI(t,n,e,r){return e.length>0&&function J4(t,n,e){return e.some(r=>Kb(t,n,r)&&Xu(r)!==Dr)}(t,e,r)?{segmentGroup:new Ti(n,Q4(r,new Ti(e,t.children))),slicedSegments:[]}:0===e.length&&function ez(t,n,e){return e.some(r=>Kb(t,n,r))}(t,e,r)?{segmentGroup:new Ti(t.segments,q4(t,0,e,r,t.children)),slicedSegments:e}:{segmentGroup:new Ti(t.segments,t.children),slicedSegments:e}}function q4(t,n,e,r,i){const s={};for(const c of r)if(Kb(t,e,c)&&!i[Xu(c)]){const m=new Ti([],{});s[Xu(c)]=m}return{...i,...s}}function Q4(t,n){const e={};e[Dr]=n;for(const r of t)if(""===r.path&&Xu(r)!==Dr){const i=new Ti([],{});e[Xu(r)]=i}return e}function Kb(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class iz{constructor(n,e,r,i,s,c,m){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=c,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new K4(this.urlSerializer,this.urlTree)}noMatchError(n){return new Ze(4002,!1)}recognize(){const n=JI(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Dr).pipe(tf(e=>{if(e instanceof qI)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Xb?this.noMatchError(e):e}),Tt(e=>{const r=new jb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Dr,this.rootComponentType,null,{}),i=new nf(r,e),s=new HI("",i),c=function Y5(t,n,e=null,r=null){return II(MI(t),n,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(s._root),{state:s,tree:c}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Dr).pipe(tf(r=>{throw r instanceof Xb?this.noMatchError(r):r}))}inheritParamsAndData(n){const e=n.value,r=VI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,i,!0)}processChildren(n,e,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ve(i).pipe(Rg(s=>{const c=r.children[s],m=function E4(t,n){const e=t.filter(r=>Xu(r)===n);return e.push(...t.filter(r=>Xu(r)!==n)),e}(e,s);return this.processSegmentGroup(n,m,c,s)}),function E5(t,n){return rt(function C5(t,n,e,r,i){return(s,c)=>{let m=e,_=n,R=0;s.subscribe(ht(c,U=>{const K=R++;_=m?t(_,U,K):(m=!0,U),r&&c.next(_)},i&&(()=>{m&&c.next(_),c.complete()})))}}(t,n,arguments.length>=2,!0))}((s,c)=>(s.push(...c),s)),Lb(null),function x5(t,n){const e=arguments.length>=2;return r=>r.pipe(t?kl((i,s)=>t(i,s,r)):Be,kC(1),e?Lb(n):gI(()=>new kb))}(),qi(s=>{if(null===s)return zg(r);const c=eA(s);return function oz(t){t.sort((n,e)=>n.value.outlet===Dr?-1:e.value.outlet===Dr?1:n.value.outlet.localeCompare(e.value.outlet))}(c),qe(c)}))}processSegment(n,e,r,i,s,c){return Ve(e).pipe(Rg(m=>this.processSegmentAgainstRoute(m._injector??n,e,m,r,i,s,c).pipe(tf(_=>{if(_ instanceof Xb)return qe(null);throw _}))),ip(m=>!!m),tf(m=>{if(KI(m))return function nz(t,n,e){return 0===n.length&&!t.children[e]}(r,i,s)?qe([]):zg(r);throw m}))}processSegmentAgainstRoute(n,e,r,i,s,c,m){return function tz(t,n,e,r){return!!(Xu(t)===r||r!==Dr&&Kb(n,e,t))&&("**"===t.path||qC(n,t,e).matched)}(r,i,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,s,c,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,s,c):zg(i):zg(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,s,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?QI(s):this.applyRedirects.lineralizeSegments(r,s).pipe(qi(c=>{const m=new Ti(c,{});return this.processSegment(n,e,m,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,s,c){const{matched:m,consumedSegments:_,remainingSegments:R,positionalParamSegments:U}=qC(e,i,s);if(!m)return zg(e);const K=this.applyRedirects.applyRedirectCommands(_,i.redirectTo,U);return i.redirectTo.startsWith("/")?QI(K):this.applyRedirects.lineralizeSegments(i,K).pipe(qi(ge=>this.processSegment(n,r,e,ge.concat(R),c,!1)))}matchSegmentAgainstRoute(n,e,r,i,s,c){let m;if("**"===r.path){const _=i.length>0?vI(i).parameters:{};m=qe({snapshot:new jb(i,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tA(r),Xu(r),r.component??r._loadedComponent??null,r,nA(r)),consumedSegments:[],remainingSegments:[]}),e.children={}}else m=Z4(e,r,i,n).pipe(Tt(({matched:_,consumedSegments:R,remainingSegments:U,parameters:K})=>_?{snapshot:new jb(R,K,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tA(r),Xu(r),r.component??r._loadedComponent??null,r,nA(r)),consumedSegments:R,remainingSegments:U}:null));return m.pipe(Vt(_=>null===_?zg(e):this.getChildConfig(n=r._injector??n,r,i).pipe(Vt(({routes:R})=>{const U=r._loadedInjector??n,{snapshot:K,consumedSegments:ge,remainingSegments:be}=_,{segmentGroup:Ae,slicedSegments:Fe}=JI(e,ge,be,R);if(0===Fe.length&&Ae.hasChildren())return this.processChildren(U,R,Ae).pipe(Tt(gt=>null===gt?null:[new nf(K,gt)]));if(0===R.length&&0===Fe.length)return qe([new nf(K,[])]);const it=Xu(r)===s;return this.processSegment(U,R,Ae,Fe,it?Dr:s,!0).pipe(Tt(gt=>[new nf(K,gt)]))}))))}getChildConfig(n,e,r){return e.children?qe({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?qe({routes:e._loadedRoutes,injector:e._loadedInjector}):function W4(t,n,e,r){const i=n.canLoad;return void 0===i||0===i.length?qe(!0):qe(i.map(c=>{const m=Vg(c,t);return Qf(function O4(t){return t&&Dv(t.canLoad)}(m)?m.canLoad(n,e):t.runInContext(()=>m(n,e)))})).pipe(Hg(),ZI())}(n,e,r).pipe(qi(i=>i?this.configLoader.loadChildren(n,e).pipe(pa(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function X4(t){return Ng(jI(!1,3))}())):qe({routes:[],injector:n})}}function az(t){const n=t.value.routeConfig;return n&&""===n.path}function eA(t){const n=[],e=new Set;for(const r of t){if(!az(r)){n.push(r);continue}const i=n.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):n.push(r)}for(const r of e){const i=eA(r.children);n.push(new nf(r.value,i))}return n.filter(r=>!e.has(r))}function tA(t){return t.data||{}}function nA(t){return t.resolve||{}}function rA(t){return"string"==typeof t.title||null===t.title}function QC(t){return Vt(n=>{const e=t(n);return e?Ve(e).pipe(Tt(()=>n)):qe(n)})}const Ug=new Kt("ROUTES");let JC=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=nn(L1)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return qe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Qf(e.loadComponent()).pipe(Tt(iA),pa(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),kg(()=>{this.componentLoaders.delete(e)})),i=new RC(r,()=>new It).pipe(NC());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return qe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Tt(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,R;return Array.isArray(m)?R=m:(_=m.create(e).injector,R=_.get(Ug,[],Ln.Self|Ln.Optional).flat()),{routes:R.map(KC),injector:_}}),kg(()=>{this.childrenLoaders.delete(r)})),c=new RC(s,()=>new It).pipe(NC());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(e){return Qf(e()).pipe(Tt(iA),qi(r=>r instanceof jS||Array.isArray(r)?qe(r):Ve(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function iA(t){return function hz(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Zb=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new It,this.configLoader=nn(JC),this.environmentInjector=nn(Rc),this.urlSerializer=nn(pv),this.rootContexts=nn(wv),this.inputBindingEnabled=null!==nn(Wb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>qe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new s4(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new a4(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new cn({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yv,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(kl(r=>0!==r.id),Tt(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),Vt(r=>{let i=!1,s=!1;return qe(r).pipe(pa(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Vt(c=>{const m=e.browserUrlTree.toString(),_=!e.navigated||c.extractedUrl.toString()!==m||m!==e.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const U="";return this.events.next(new bv(c.id,e.serializeUrl(r.rawUrl),U,0)),e.rawUrlTree=c.rawUrl,c.resolve(null),va}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return oA(c.source)&&(e.browserUrlTree=c.extractedUrl),qe(c).pipe(Vt(U=>{const K=this.transitions?.getValue();return this.events.next(new HC(U.id,this.urlSerializer.serialize(U.extractedUrl),U.source,U.restoredState)),K!==this.transitions?.getValue()?va:Promise.resolve(U)}),function sz(t,n,e,r,i,s){return qi(c=>function rz(t,n,e,r,i,s,c="emptyOnly"){return new iz(t,n,e,r,i,c,s).recognize()}(t,n,e,r,c.extractedUrl,i,s).pipe(Tt(({state:m,tree:_})=>({...c,targetSnapshot:m,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),pa(U=>{if(r.targetSnapshot=U.targetSnapshot,r.urlAfterRedirects=U.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:U.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!U.extras.skipLocationChange){const ge=e.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl);e.setBrowserUrl(ge,U)}e.browserUrlTree=U.urlAfterRedirects}const K=new e4(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects),U.targetSnapshot);this.events.next(K)}));if(_&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:U,extractedUrl:K,source:ge,restoredState:be,extras:Ae}=c,Fe=new HC(U,this.urlSerializer.serialize(K),ge,be);this.events.next(Fe);const it=BI(0,this.rootComponentType).snapshot;return qe(r={...c,targetSnapshot:it,urlAfterRedirects:K,extras:{...Ae,skipLocationChange:!1,replaceUrl:!1}})}{const U="";return this.events.next(new bv(c.id,e.serializeUrl(r.extractedUrl),U,1)),e.rawUrlTree=c.rawUrl,c.resolve(null),va}}),pa(c=>{const m=new t4(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(m)}),Tt(c=>r={...c,guards:T4(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function F4(t,n){return qi(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?qe({...e,guardsResult:!0}):function B4(t,n,e,r){return Ve(t).pipe(qi(i=>function j4(t,n,e,r,i){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?qe(s.map(m=>{const _=Cv(n)??i,R=Vg(m,_);return Qf(function k4(t){return t&&Dv(t.canDeactivate)}(R)?R.canDeactivate(t,n,e,r):_.runInContext(()=>R(t,n,e,r))).pipe(ip())})).pipe(Hg()):qe(!0)}(i.component,i.route,e,n,r)),ip(i=>!0!==i,!0))}(c,r,i,t).pipe(qi(m=>m&&function A4(t){return"boolean"==typeof t}(m)?function V4(t,n,e,r){return Ve(n).pipe(Rg(i=>Pb(function z4(t,n){return null!==t&&n&&n(new l4(t)),qe(!0)}(i.route.parent,r),function H4(t,n){return null!==t&&n&&n(new c4(t)),qe(!0)}(i.route,r),function G4(t,n,e){const r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(c=>function S4(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(c)).filter(c=>null!==c).map(c=>pI(()=>qe(c.guards.map(_=>{const R=Cv(c.node)??e,U=Vg(_,R);return Qf(function R4(t){return t&&Dv(t.canActivateChild)}(U)?U.canActivateChild(r,t):R.runInContext(()=>U(r,t))).pipe(ip())})).pipe(Hg())));return qe(s).pipe(Hg())}(t,i.path,e),function U4(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return qe(!0);const i=r.map(s=>pI(()=>{const c=Cv(n)??e,m=Vg(s,c);return Qf(function N4(t){return t&&Dv(t.canActivate)}(m)?m.canActivate(n,t):c.runInContext(()=>m(n,t))).pipe(ip())}));return qe(i).pipe(Hg())}(t,i.route,e))),ip(i=>!0!==i,!0))}(r,s,t,n):qe(m)),Tt(m=>({...e,guardsResult:m})))})}(this.environmentInjector,c=>this.events.next(c)),pa(c=>{if(r.guardsResult=c.guardsResult,ap(c.guardsResult))throw GI(0,c.guardsResult);const m=new n4(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(m)}),kl(c=>!!c.guardsResult||(e.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),QC(c=>{if(c.guards.canActivateChecks.length)return qe(c).pipe(pa(m=>{const _=new r4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}),Vt(m=>{let _=!1;return qe(m).pipe(function lz(t,n){return qi(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return qe(e);let s=0;return Ve(i).pipe(Rg(c=>function uz(t,n,e,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!rA(i)&&(s[fv]=i.title),function cz(t,n,e,r){const i=function dz(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return qe({});const s={};return Ve(i).pipe(qi(c=>function fz(t,n,e,r){const i=Cv(n)??r,s=Vg(t,i);return Qf(s.resolve?s.resolve(n,e):i.runInContext(()=>s(n,e)))}(t[c],n,e,r).pipe(ip(),pa(m=>{s[c]=m}))),kC(1),function D5(t){return Tt(()=>t)}(s),tf(c=>KI(c)?va:Ng(c)))}(s,t,n,r).pipe(Tt(c=>(t._resolvedData=c,t.data=VI(t,e).resolve,i&&rA(i)&&(t.data[fv]=i.title),null)))}(c.route,r,t,n)),pa(()=>s++),kC(1),qi(c=>s===i.length?qe(e):va))})}(e.paramsInheritanceStrategy,this.environmentInjector),pa({next:()=>_=!0,complete:()=>{_||(e.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),pa(m=>{const _=new o4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}))}),QC(c=>{const m=_=>{const R=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(_.routeConfig).pipe(pa(U=>{_.component=U}),Tt(()=>{})));for(const U of _.children)R.push(...m(U));return R};return Rb(m(c.targetSnapshot.root)).pipe(Lb(),zc(1))}),QC(()=>this.afterPreactivation()),Tt(c=>{const m=function m4(t,n,e){const r=_v(t,n._root,e?e._root:void 0);return new FI(r,n)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:m}}),pa(c=>{e.currentUrlTree=c.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),e.routerState=c.targetRouterState,"deferred"===e.urlUpdateStrategy&&(c.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,c),e.browserUrlTree=c.urlAfterRedirects)}),((t,n,e,r)=>Tt(i=>(new D4(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),zc(1),pa({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new sp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),kg(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),tf(c=>{if(s=!0,$I(c)){WI(c)||(e.navigated=!0,e.restoreHistory(r,!0));const m=new Gb(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(m),WI(c)){const _=e.urlHandlingStrategy.merge(c.url,e.rawUrlTree),R={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||oA(r.source)};e.scheduleNavigation(_,yv,null,R,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const m=new zC(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(e.errorHandler(c))}catch(_){r.reject(_)}}return va}))}))}cancelNavigationTransition(e,r,i){const s=new Gb(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(s),e.resolve(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function oA(t){return t!==yv}let aA=(()=>{class t{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Dr);return r}getResolvedTitleForRoute(e){return e.data[fv]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(pz)},providedIn:"root"}),t})(),pz=(()=>{class t extends aA{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(e){return new(e||t)(Pt(oI))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(vz)},providedIn:"root"}),t})();class mz{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let vz=(()=>{class t extends mz{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const qb=new Kt("",{providedIn:"root",factory:()=>({})});let yz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(bz)},providedIn:"root"}),t})(),bz=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Pl=(()=>((Pl=Pl||{})[Pl.COMPLETE=0]="COMPLETE",Pl[Pl.FAILED=1]="FAILED",Pl[Pl.REDIRECTING=2]="REDIRECTING",Pl))();function sA(t,n){t.events.pipe(kl(e=>e instanceof sp||e instanceof Gb||e instanceof zC||e instanceof bv),Tt(e=>e instanceof sp||e instanceof bv?Pl.COMPLETE:e instanceof Gb&&(0===e.code||1===e.code)?Pl.REDIRECTING:Pl.FAILED),kl(e=>e!==Pl.REDIRECTING),zc(1)).subscribe(()=>{n()})}function wz(t){throw t}function _z(t,n,e){return n.parse("/")}const Cz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ez={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let du=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=nn(P1),this.isNgZoneEnabled=!1,this.options=nn(qb,{optional:!0})||{},this.pendingTasks=nn(hb),this.errorHandler=this.options.errorHandler||wz,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||_z,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=nn(yz),this.routeReuseStrategy=nn(gz),this.titleStrategy=nn(aA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=nn(Ug,{optional:!0})?.flat()??[],this.navigationTransitions=nn(Zb),this.urlSerializer=nn(pv),this.location=nn(rC),this.componentInputBindingEnabled=!!nn(Wb,{optional:!0}),this.isNgZoneEnabled=nn(Yr)instanceof Yr&&Yr.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Lg,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=BI(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yv,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const s={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(s.state=_)}const m=this.parseUrl(e);this.scheduleNavigation(m,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(KC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:s,fragment:c,queryParamsHandling:m,preserveFragment:_}=r,R=_?this.currentUrlTree.fragment:c;let K,U=null;switch(m){case"merge":U={...this.currentUrlTree.queryParams,...s};break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=s||null}null!==U&&(U=this.removeEmptyProps(U));try{K=MI(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),K=this.currentUrlTree.root}return II(K,e,U,R??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=ap(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,yv,null,r)}navigate(e,r={skipLocationChange:!1}){return function xz(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new Ze(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...Cz}:!1===r?{...Ez}:r,ap(e))return bI(this.currentUrlTree,e,i);const s=this.parseUrl(e);return bI(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const s=e[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(e,r,i,s,c){if(this.disposed)return Promise.resolve(!1);let m,_,R;c?(m=c.resolve,_=c.reject,R=c.promise):R=new Promise((K,ge)=>{m=K,_=ge});const U=this.pendingTasks.add();return sA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(U))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:m,reject:_,promise:R,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),R.catch(K=>Promise.reject(K))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Qb=(()=>{class t{constructor(e,r,i,s,c,m){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=c,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new It,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=e.events.subscribe(R=>{R instanceof sp&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,s,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||i||s||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function nD(t,n,e){return function Rk(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?tD:eD}(n,e)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,e,r):i.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(e){return new(e||t)(We(du),We(Bg),y("tabindex"),We(Zd),We(ti),We(rp))},t.\u0275dir=ln({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,r){1&e&&Sn("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&Es("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Ag],skipLocationChange:["skipLocationChange","skipLocationChange",Ag],replaceUrl:["replaceUrl","replaceUrl",Ag],routerLink:"routerLink"},standalone:!0,features:[sT,_a]}),t})();class lA{}let Sz=(()=>{class t{constructor(e,r,i,s,c){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(kl(e=>e instanceof sp),Rg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=C_(s.providers,e,`Route: ${s.path}`));const c=s._injector??e,m=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(m,s.children??s._loadedRoutes))}return Ve(i).pipe(ki())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):qe(null);const s=i.pipe(qi(c=>null===c?qe(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));return r.loadComponent&&!r._loadedComponent?Ve([s,this.loader.loadComponent(r)]).pipe(ki()):s})}}return t.\u0275fac=function(e){return new(e||t)(Pt(du),Pt(L1),Pt(Rc),Pt(lA),Pt(JC))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const eE=new Kt("");let uA=(()=>{class t{constructor(e,r,i,s,c={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof HC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof sp?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof bv&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof PI&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new PI(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(e){jw()},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();function rf(t,n){return{\u0275kind:t,\u0275providers:n}}function dA(){const t=nn(zu);return n=>{const e=t.get(ep);if(n!==e.components[0])return;const r=t.get(du),i=t.get(fA);1===t.get(tE)&&r.initialNavigation(),t.get(hA,null,Ln.Optional)?.setUpPreloading(),t.get(eE,null,Ln.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const fA=new Kt("",{factory:()=>new It}),tE=new Kt("",{providedIn:"root",factory:()=>1}),hA=new Kt("");function Oz(t){return rf(0,[{provide:hA,useExisting:Sz},{provide:lA,useExisting:t}])}const pA=new Kt("ROUTER_FORROOT_GUARD"),Rz=[rC,{provide:pv,useClass:PC},du,wv,{provide:Bg,useFactory:function cA(t){return t.routerState.root},deps:[du]},JC,[]];function kz(){return new Y1("Router",du)}let gA=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[Rz,[],{provide:Ug,multi:!0,useValue:e},{provide:pA,useFactory:Bz,deps:[[du,new ns,new Bh]]},{provide:qb,useValue:r||{}},r?.useHash?{provide:rp,useClass:YV}:{provide:rp,useClass:_M},{provide:eE,useFactory:()=>{const t=nn(f3),n=nn(Yr),e=nn(qb),r=nn(Zb),i=nn(pv);return e.scrollOffset&&t.setOffset(e.scrollOffset),new uA(i,r,t,n,e)}},r?.preloadingStrategy?Oz(r.preloadingStrategy).\u0275providers:[],{provide:Y1,multi:!0,useFactory:kz},r?.initialNavigation?Vz(r):[],r?.bindToComponentInputs?rf(8,[UI,{provide:Wb,useExisting:UI}]).\u0275providers:[],[{provide:mA,useFactory:dA},{provide:$_,multi:!0,useExisting:mA}]]}}static forChild(e){return{ngModule:t,providers:[{provide:Ug,multi:!0,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)(Pt(pA,8))},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({}),t})();function Bz(t){return"guarded"}function Vz(t){return["disabled"===t.initialNavigation?rf(3,[{provide:B_,multi:!0,useFactory:()=>{const n=nn(du);return()=>{n.setUpLocationChangeListener()}}},{provide:tE,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?rf(2,[{provide:tE,useValue:0},{provide:B_,multi:!0,deps:[zu],useFactory:n=>{const e=n.get(WV,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=n.get(du),s=n.get(fA);sA(i,()=>{r(!0)}),n.get(Zb).afterPreactivation=()=>(r(!0),s.closed?qe(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const mA=new Kt("");function zz(t,n){1&t&&(tt(0,"div",6)(1,"ul")(2,"li")(3,"a",7),wt(4,"Analysis"),et()(),tt(5,"li")(6,"a",8),wt(7,"Regression testing"),et()(),tt(8,"li")(9,"a",9),wt(10,"Inference"),et()(),tt(11,"li")(12,"a",10),wt(13,"Home"),et()()()())}let Uz=(()=>{class t{constructor(e){this.hideComponentsService=e,this.isNavigationVisible=!1,this.isAllHidden=!1}toggleAll(){this.isAllHidden?this.hideComponentsService.showAllComponents("liger"):this.hideComponentsService.hideAllComponents("liger"),this.isAllHidden=!this.isAllHidden}showNavigation(){this.isNavigationVisible=!0}hideNavigation(){this.isNavigationVisible=!1}}return t.\u0275fac=function(e){return new(e||t)(We(cI))},t.\u0275cmp=Or({type:t,selectors:[["app-navigation"]],decls:8,vars:3,consts:[[1,"navigation",3,"mouseenter","mouseleave"],[1,"switch"],["type","checkbox",3,"change"],[1,"slider"],["class","navigation-content",4,"ngIf"],[1,"page-content"],[1,"navigation-content"],["routerLink","/demo"],["routerLink","/regression"],["routerLink","/inference"],["routerLink","/home"]],template:function(e,r){1&e&&(tt(0,"div",0),Sn("mouseenter",function(){return r.showNavigation()})("mouseleave",function(){return r.hideNavigation()}),wt(1," LiGER: "),tt(2,"label",1)(3,"input",2),Sn("change",function(){return r.toggleAll()}),et(),Tn(4,"span",3),et(),_r(5,zz,14,0,"div",4),et(),tt(6,"div",5),Tn(7,"router-outlet"),et()),2&e&&(Ha("expanded",r.isNavigationVisible),Yt(5),tn("ngIf",r.isNavigationVisible))},dependencies:[cu,YC,Qb],styles:['.navigation[_ngcontent-%COMP%]{position:fixed;left:0;top:0;width:50px;height:100vh;background-color:#fff;border:1px solid #00a9e0;transition:width .3s ease-in-out;overflow:hidden}.navigation.expanded[_ngcontent-%COMP%]{width:250px}.navigation-content[_ngcontent-%COMP%]{padding:16px;width:100%}.page-content[_ngcontent-%COMP%]{margin-left:50px;transition:margin-left .3s ease-in-out}.navigation.expanded[_ngcontent-%COMP%] ~ .page-content[_ngcontent-%COMP%]{margin-left:250px}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:square;padding-left:20px}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:2}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em;text-decoration:none;white-space:nowrap}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#2196f3;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%;transform:translate(26px)}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ccc}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(0)}']}),t})(),Gz=(()=>{class t{constructor(){this.title="gswb-client"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){1&e&&Tn(0,"app-navigation")},dependencies:[Uz]}),t})();function vA(...t){const n=$a(t),{args:e,keys:r}=dI(t),i=new Ye(s=>{const{length:c}=e;if(!c)return void s.complete();const m=new Array(c);let _=c,R=c;for(let U=0;U<c;U++){let K=!1;No(e[U]).subscribe(ht(s,ge=>{K||(K=!0,R--),m[U]=ge},()=>_--,void 0,()=>{(!_||!K)&&(R||s.next(r?fI(r,m):m),s.complete())}))}});return n?i.pipe(OC(n)):i}let yA=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(We(Zd),We(ti))},t.\u0275dir=ln({type:t}),t})(),lp=(()=>{class t extends yA{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,features:[qn]}),t})();const jc=new Kt("NgValueAccessor"),jz={provide:jc,useExisting:Mn(()=>nE),multi:!0};let nE=(()=>{class t extends lp{writeValue(e){this.setProperty("checked",e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,r){1&e&&Sn("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[$r([jz]),qn]}),t})();const Wz={provide:jc,useExisting:Mn(()=>Gg),multi:!0},Yz=new Kt("CompositionEventMode");let Gg=(()=>{class t extends yA{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $z(){const t=Zf()?Zf().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(We(Zd),We(ti),We(Yz,8))},t.\u0275dir=ln({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&Sn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[$r([Wz]),qn]}),t})();function Jf(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function bA(t){return null!=t&&"number"==typeof t.length}const Ds=new Kt("NgValidators"),eh=new Kt("NgAsyncValidators"),Xz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rE{static min(n){return function wA(t){return n=>{if(Jf(n.value)||Jf(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function _A(t){return n=>{if(Jf(n.value)||Jf(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function CA(t){return Jf(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function EA(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function xA(t){return Jf(t.value)||Xz.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function DA(t){return n=>Jf(n.value)||!bA(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function TA(t){return n=>bA(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function SA(t){if(!t)return Jb;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(Jf(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return RA(n)}static composeAsync(n){return kA(n)}}function Jb(t){return null}function MA(t){return null!=t}function IA(t){return Ym(t)?Ve(t):t}function AA(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function OA(t,n){return n.map(e=>e(t))}function NA(t){return t.map(n=>function Kz(t){return!t.validate}(n)?n:e=>n.validate(e))}function RA(t){if(!t)return null;const n=t.filter(MA);return 0==n.length?null:function(e){return AA(OA(e,n))}}function iE(t){return null!=t?RA(NA(t)):null}function kA(t){if(!t)return null;const n=t.filter(MA);return 0==n.length?null:function(e){return vA(OA(e,n).map(IA)).pipe(Tt(AA))}}function oE(t){return null!=t?kA(NA(t)):null}function PA(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function LA(t){return t._rawValidators}function FA(t){return t._rawAsyncValidators}function aE(t){return t?Array.isArray(t)?t:[t]:[]}function e0(t,n){return Array.isArray(t)?t.includes(n):t===n}function BA(t,n){const e=aE(n);return aE(t).forEach(i=>{e0(e,i)||e.push(i)}),e}function VA(t,n){return aE(n).filter(e=>!e0(t,e))}class HA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=iE(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=oE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Gs extends HA{get formDirective(){return null}get path(){return null}}class th extends HA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zA{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Tv=(()=>{class t extends zA{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(We(th,2))},t.\u0275dir=ln({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Ha("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[qn]}),t})(),UA=(()=>{class t extends zA{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(We(Gs,10))},t.\u0275dir=ln({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Ha("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[qn]}),t})();const Sv="VALID",n0="INVALID",jg="PENDING",Mv="DISABLED";function uE(t){return(r0(t)?t.validators:t)||null}function cE(t,n){return(r0(n)?n.asyncValidators:t)||null}function r0(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function jA(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new Ze(1e3,"");if(!r[e])throw new Ze(1001,"")}function WA(t,n,e){t._forEachChild((r,i)=>{if(void 0===e[i])throw new Ze(1002,"")})}class o0{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Sv}get invalid(){return this.status===n0}get pending(){return this.status==jg}get disabled(){return this.status===Mv}get enabled(){return this.status!==Mv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(BA(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(BA(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(VA(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(VA(n,this._rawAsyncValidators))}hasValidator(n){return e0(this._rawValidators,n)}hasAsyncValidator(n){return e0(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=jg,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Mv,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Sv,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sv||this.status===jg)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mv:Sv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=jg,this._hasOwnPendingAsyncValidator=!0;const e=IA(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new lr,this.statusChanges=new lr}_calculateStatus(){return this._allControlsDisabled()?Mv:this.errors?n0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jg)?jg:this._anyControlsHaveStatus(n0)?n0:Sv}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){r0(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function Jz(t){return Array.isArray(t)?iE(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function eU(t){return Array.isArray(t)?oE(t):t||null}(this._rawAsyncValidators)}}class Iv extends o0{constructor(n,e,r){super(uE(e),cE(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){WA(this,0,n),Object.keys(n).forEach(r=>{jA(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class $A extends Iv{}const up=new Kt("CallSetDisabledState",{providedIn:"root",factory:()=>Av}),Av="always";function a0(t,n){return[...n.path,t]}function Ov(t,n,e=Av){dE(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function nU(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&YA(t,n)})}(t,n),function iU(t,n){const e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function rU(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&YA(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function tU(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function s0(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),u0(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function l0(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function dE(t,n){const e=LA(t);null!==n.validator?t.setValidators(PA(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=FA(t);null!==n.asyncValidator?t.setAsyncValidators(PA(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();l0(n._rawValidators,i),l0(n._rawAsyncValidators,i)}function u0(t,n){let e=!1;if(null!==t){if(null!==n.validator){const i=LA(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==n.validator);s.length!==i.length&&(e=!0,t.setValidators(s))}}if(null!==n.asyncValidator){const i=FA(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==n.asyncValidator);s.length!==i.length&&(e=!0,t.setAsyncValidators(s))}}}const r=()=>{};return l0(n._rawValidators,r),l0(n._rawAsyncValidators,r),e}function YA(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function hE(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function pE(t,n){if(!n)return null;let e,r,i;return Array.isArray(n),n.forEach(s=>{s.constructor===Gg?e=s:function sU(t){return Object.getPrototypeOf(t.constructor)===lp}(s)?r=s:i=s}),i||r||e||null}function ZA(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function qA(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Rv=class extends o0{constructor(n=null,e,r){super(uE(e),cE(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),r0(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=qA(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){ZA(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){ZA(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){qA(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},fU={provide:th,useExisting:Mn(()=>kv)},eO=(()=>Promise.resolve())();let kv=(()=>{class t extends th{constructor(e,r,i,s,c,m){super(),this._changeDetectorRef=c,this.callSetDisabledState=m,this.control=new Rv,this._registered=!1,this.name="",this.update=new lr,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=pE(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),hE(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ov(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){eO.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&Ag(r);eO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?a0(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(We(Gs,9),We(Ds,10),We(eh,10),We(jc,10),We(xs,8),We(up,8))},t.\u0275dir=ln({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$r([fU]),qn,_a]}),t})(),tO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ln({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),rO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({}),t})();const mE=new Kt("NgModelWithFormControlWarning"),yU={provide:Gs,useExisting:Mn(()=>c0)};let c0=(()=>{class t extends Gs{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new lr,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(u0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Ov(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){s0(e.control||null,e,!1),function lU(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function KA(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(s0(r||null,e),(t=>t instanceof Rv)(i)&&(Ov(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function XA(t,n){dE(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function oU(t,n){return u0(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dE(this.form,this),this._oldForm&&u0(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(We(Ds,10),We(eh,10),We(up,8))},t.\u0275dir=ln({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&Sn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$r([yU]),qn,_a]}),t})();const _U={provide:th,useExisting:Mn(()=>bE)};let bE=(()=>{class t extends th{set isDisabled(e){}constructor(e,r,i,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new lr,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=pE(0,s)}ngOnChanges(e){this._added||this._setUpControl(),hE(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return a0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(We(Gs,13),We(Ds,10),We(eh,10),We(jc,10),We(mE,8))},t.\u0275dir=ln({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[$r([_U]),qn,_a]}),t})();const CU={provide:jc,useExisting:Mn(()=>d0),multi:!0};function lO(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let d0=(()=>{class t extends lp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=lO(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function EU(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&Sn("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[$r([CU]),qn]}),t})(),uO=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(lO(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(Zd),We(d0,9))},t.\u0275dir=ln({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const xU={provide:jc,useExisting:Mn(()=>wE),multi:!0};function cO(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let wE=(()=>{class t extends lp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(s=>this._getOptionId(s));r=(s,c)=>{s._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const c=s;for(let m=0;m<c.length;m++){const R=this._getOptionValue(c[m].value);i.push(R)}}else{const c=r.options;for(let m=0;m<c.length;m++){const _=c[m];if(_.selected){const R=this._getOptionValue(_.value);i.push(R)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function DU(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&Sn("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[$r([xU]),qn]}),t})(),dO=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(cO(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(cO(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(Zd),We(wE,9))},t.\u0275dir=ln({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),_O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[rO]}),t})();class CO extends o0{constructor(n,e,r){super(uE(e),cE(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,r={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,e={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){WA(this,0,n),n.forEach((r,i)=>{jA(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,r)=>{n(e,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function EO(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let kU=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new t;return e.useNonNullable=!0,e}group(e,r=null){const i=this._reduceControls(e);let s={};return EO(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Iv(i,s)}record(e,r=null){const i=this._reduceControls(e);return new $A(i,r)}control(e,r,i){let s={};return this.useNonNullable?(EO(r)?s=r:(s.validators=r,s.asyncValidators=i),new Rv(e,{...s,nonNullable:!0})):new Rv(e,r,i)}array(e,r,i){const s=e.map(c=>this._createControl(c));return new CO(s,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof Rv||e instanceof o0?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),PU=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:up,useValue:e.callSetDisabledState??Av}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[_O]}),t})(),LU=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:mE,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:up,useValue:e.callSetDisabledState??Av}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[_O]}),t})();class f0{}class h0{}class Wc{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),s=i.toLowerCase(),c=e.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof Wc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new Wc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Wc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const i=("a"===n.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const s=n.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(m=>-1===s.indexOf(m)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const r=(Array.isArray(e)?e:[e]).map(s=>s.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class FU{encodeKey(n){return xO(n)}encodeValue(n){return xO(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const VU=/%(\d[a-f0-9])/gi,HU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xO(t){return encodeURIComponent(t).replace(VU,(n,e)=>HU[e]??n)}function p0(t){return`${t}`}class nh{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new FU,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function BU(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[c,m]=-1==s?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,s)),n.decodeValue(i.slice(s+1))],_=e.get(c)||[];_.push(m),e.set(c,_)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],i=Array.isArray(r)?r.map(p0):[p0(r)];this.map.set(e,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new nh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(p0(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(p0(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class zU{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function DO(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function TO(t){return typeof Blob<"u"&&t instanceof Blob}function SO(t){return typeof FormData<"u"&&t instanceof FormData}class Pv{constructor(n,e,r,i){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function UU(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Wc),this.context||(this.context=new zU),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+c}}else this.params=new nh,this.urlWithParams=e}serializeBody(){return null===this.body?null:DO(this.body)||TO(this.body)||SO(this.body)||function GU(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||SO(this.body)?null:TO(this.body)?this.body.type||null:DO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,c=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,m=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let _=n.headers||this.headers,R=n.params||this.params;const U=n.context??this.context;return void 0!==n.setHeaders&&(_=Object.keys(n.setHeaders).reduce((K,ge)=>K.set(ge,n.setHeaders[ge]),_)),n.setParams&&(R=Object.keys(n.setParams).reduce((K,ge)=>K.set(ge,n.setParams[ge]),R)),new Pv(e,r,s,{params:R,headers:_,context:U,reportProgress:m,responseType:i,withCredentials:c})}}var ga=(()=>((ga=ga||{})[ga.Sent=0]="Sent",ga[ga.UploadProgress=1]="UploadProgress",ga[ga.ResponseHeader=2]="ResponseHeader",ga[ga.DownloadProgress=3]="DownloadProgress",ga[ga.Response=4]="Response",ga[ga.User=5]="User",ga))();class CE{constructor(n,e=200,r="OK"){this.headers=n.headers||new Wc,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class EE extends CE{constructor(n={}){super(n),this.type=ga.ResponseHeader}clone(n={}){return new EE({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Wg extends CE{constructor(n={}){super(n),this.type=ga.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Wg({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class MO extends CE{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function xE(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let g0=(()=>{class t{constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof Pv)s=e;else{let _,R;_=i.headers instanceof Wc?i.headers:new Wc(i.headers),i.params&&(R=i.params instanceof nh?i.params:new nh({fromObject:i.params})),s=new Pv(e,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:R,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=qe(s).pipe(Rg(_=>this.handler.handle(_)));if(e instanceof Pv||"events"===i.observe)return c;const m=c.pipe(kl(_=>_ instanceof Wg));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return m.pipe(Tt(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return m.pipe(Tt(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return m.pipe(Tt(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return m.pipe(Tt(_=>_.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new nh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,xE(i,r))}post(e,r,i={}){return this.request("POST",e,xE(i,r))}put(e,r,i={}){return this.request("PUT",e,xE(i,r))}}return t.\u0275fac=function(e){return new(e||t)(Pt(f0))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();function OO(t,n){return n(t)}function WU(t,n){return(e,r)=>n.intercept(e,{handle:i=>t(i,r)})}const YU=new Kt(""),Lv=new Kt(""),NO=new Kt("");function XU(){let t=null;return(n,e)=>{null===t&&(t=(nn(YU,{optional:!0})??[]).reduceRight(WU,OO));const r=nn(hb),i=r.add();return t(n,e).pipe(kg(()=>r.remove(i)))}}let RO=(()=>{class t extends f0{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null,this.pendingTasks=nn(hb)}handle(e){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Lv),...this.injector.get(NO,[])]));this.chain=i.reduceRight((s,c)=>function $U(t,n,e){return(r,i)=>e.runInContext(()=>n(r,s=>t(s,i)))}(s,c,this.injector),OO)}const r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(kg(()=>this.pendingTasks.remove(r)))}}return t.\u0275fac=function(e){return new(e||t)(Pt(h0),Pt(Rc))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const QU=/^\)\]\}',?\n/;let PO=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Ze(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Ve(r.\u0275loadImpl()):qe(null)).pipe(Vt(()=>new Ye(s=>{const c=r.build();if(c.open(e.method,e.urlWithParams),e.withCredentials&&(c.withCredentials=!0),e.headers.forEach((Fe,it)=>c.setRequestHeader(Fe,it.join(","))),e.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Fe=e.detectContentTypeHeader();null!==Fe&&c.setRequestHeader("Content-Type",Fe)}if(e.responseType){const Fe=e.responseType.toLowerCase();c.responseType="json"!==Fe?Fe:"text"}const m=e.serializeBody();let _=null;const R=()=>{if(null!==_)return _;const Fe=c.statusText||"OK",it=new Wc(c.getAllResponseHeaders()),gt=function JU(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(c)||e.url;return _=new EE({headers:it,status:c.status,statusText:Fe,url:gt}),_},U=()=>{let{headers:Fe,status:it,statusText:gt,url:Qe}=R(),yt=null;204!==it&&(yt=typeof c.response>"u"?c.responseText:c.response),0===it&&(it=yt?200:0);let bn=it>=200&&it<300;if("json"===e.responseType&&"string"==typeof yt){const Bn=yt;yt=yt.replace(QU,"");try{yt=""!==yt?JSON.parse(yt):null}catch(si){yt=Bn,bn&&(bn=!1,yt={error:si,text:yt})}}bn?(s.next(new Wg({body:yt,headers:Fe,status:it,statusText:gt,url:Qe||void 0})),s.complete()):s.error(new MO({error:yt,headers:Fe,status:it,statusText:gt,url:Qe||void 0}))},K=Fe=>{const{url:it}=R(),gt=new MO({error:Fe,status:c.status||0,statusText:c.statusText||"Unknown Error",url:it||void 0});s.error(gt)};let ge=!1;const be=Fe=>{ge||(s.next(R()),ge=!0);let it={type:ga.DownloadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(it.total=Fe.total),"text"===e.responseType&&c.responseText&&(it.partialText=c.responseText),s.next(it)},Ae=Fe=>{let it={type:ga.UploadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(it.total=Fe.total),s.next(it)};return c.addEventListener("load",U),c.addEventListener("error",K),c.addEventListener("timeout",K),c.addEventListener("abort",K),e.reportProgress&&(c.addEventListener("progress",be),null!==m&&c.upload&&c.upload.addEventListener("progress",Ae)),c.send(m),s.next({type:ga.Sent}),()=>{c.removeEventListener("error",K),c.removeEventListener("abort",K),c.removeEventListener("load",U),c.removeEventListener("timeout",K),e.reportProgress&&(c.removeEventListener("progress",be),null!==m&&c.upload&&c.upload.removeEventListener("progress",Ae)),c.readyState!==c.DONE&&c.abort()}})))}}return t.\u0275fac=function(e){return new(e||t)(Pt(zM))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const DE=new Kt("XSRF_ENABLED"),LO=new Kt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),FO=new Kt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class BO{}let nG=(()=>{class t{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=OM(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di),Pt($f),Pt(LO))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();function rG(t,n){const e=t.url.toLowerCase();if(!nn(DE)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const r=nn(BO).getToken(),i=nn(FO);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),n(t)}var po=(()=>((po=po||{})[po.Interceptors=0]="Interceptors",po[po.LegacyInterceptors=1]="LegacyInterceptors",po[po.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",po[po.NoXsrfProtection=3]="NoXsrfProtection",po[po.JsonpSupport=4]="JsonpSupport",po[po.RequestsMadeViaParent=5]="RequestsMadeViaParent",po[po.Fetch=6]="Fetch",po))();function dp(t,n){return{\u0275kind:t,\u0275providers:n}}function iG(...t){const n=[g0,PO,RO,{provide:f0,useExisting:RO},{provide:h0,useExisting:PO},{provide:Lv,useValue:rG,multi:!0},{provide:DE,useValue:!0},{provide:BO,useClass:nG}];for(const e of t)n.push(...e.\u0275providers);return function Cw(t){return{\u0275providers:t}}(n)}const VO=new Kt("LEGACY_INTERCEPTOR_FN");let aG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({providers:[iG(dp(po.LegacyInterceptors,[{provide:VO,useFactory:XU},{provide:Lv,useExisting:VO,multi:!0}]))]}),t})();class HO{}class fG{}const af="*";function hG(t,n){return{type:7,name:t,definitions:n,options:{}}}function TE(t,n=null){return{type:4,styles:n,timings:t}}function zO(t,n=null){return{type:2,steps:t,options:n}}function fp(t){return{type:6,styles:t,offset:null}}function SE(t,n,e){return{type:0,name:t,styles:n,options:e}}function ME(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}class Fv{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class UO{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++r==s&&this._onDestroy()}),c.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,m)=>Math.max(c,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function GO(t){return new Ze(3e3,!1)}function rh(t){switch(t.length){case 0:return new Fv;case 1:return t[0];default:return new UO(t)}}function jO(t,n,e=new Map,r=new Map){const i=[],s=[];let c=-1,m=null;if(n.forEach(_=>{const R=_.get("offset"),U=R==c,K=U&&m||new Map;_.forEach((ge,be)=>{let Ae=be,Fe=ge;if("offset"!==be)switch(Ae=t.normalizePropertyName(Ae,i),Fe){case"!":Fe=e.get(be);break;case af:Fe=r.get(be);break;default:Fe=t.normalizeStyleValue(be,Ae,Fe,i)}K.set(Ae,Fe)}),U||s.push(K),m=K,c=R}),i.length)throw function LG(t){return new Ze(3502,!1)}();return s}function AE(t,n,e,r){switch(n){case"start":t.onStart(()=>r(e&&OE(e,"start",t)));break;case"done":t.onDone(()=>r(e&&OE(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&OE(e,"destroy",t)))}}function OE(t,n,e){const s=NE(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),c=t._data;return null!=c&&(s._data=c),s}function NE(t,n,e,r,i="",s=0,c){return{element:t,triggerName:n,fromState:e,toState:r,phaseName:i,totalTime:s,disabled:!!c}}function Ll(t,n,e){let r=t.get(n);return r||t.set(n,r=e),r}function WO(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const XG=(()=>typeof document>"u"?null:document.documentElement)();function RE(t){const n=t.parentNode||t.host||null;return n===XG?null:n}let hp=null,$O=!1;function YO(t,n){for(;n;){if(n===t)return!0;n=RE(n)}return!1}function XO(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const r=t.querySelector(n);return r?[r]:[]}let KO=(()=>{class t{validateStyleProperty(e){return function ZG(t){hp||(hp=function qG(){return typeof document<"u"?document.body:null}()||{},$O=!!hp.style&&"WebkitAppearance"in hp.style);let n=!0;return hp.style&&!function KG(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in hp.style,!n&&$O&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in hp.style)),n}(e)}matchesElement(e,r){return!1}containsElement(e,r){return YO(e,r)}getParentElement(e){return RE(e)}query(e,r,i){return XO(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,s,c,m=[],_){return new Fv(i,s)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})(),kE=(()=>{class t{}return t.NOOP=new KO,t})();const QG=1e3,PE="ng-enter",v0="ng-leave",y0="ng-trigger",b0=".ng-trigger",qO="ng-animating",LE=".ng-animating";function sf(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:FE(parseFloat(n[1]),n[2])}function FE(t,n){return"s"===n?t*QG:t}function w0(t,n,e){return t.hasOwnProperty("duration")?t:function e8(t,n,e){let i,s=0,c="";if("string"==typeof t){const m=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return n.push(GO()),{duration:0,delay:0,easing:""};i=FE(parseFloat(m[1]),m[2]);const _=m[3];null!=_&&(s=FE(parseFloat(_),m[4]));const R=m[5];R&&(c=R)}else i=t;if(!e){let m=!1,_=n.length;i<0&&(n.push(function pG(){return new Ze(3100,!1)}()),m=!0),s<0&&(n.push(function gG(){return new Ze(3101,!1)}()),m=!0),m&&n.splice(_,0,GO())}return{duration:i,delay:s,easing:c}}(t,n,e)}function Bv(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function QO(t){const n=new Map;return Object.keys(t).forEach(e=>{n.set(e,t[e])}),n}function ih(t,n=new Map,e){if(e)for(let[r,i]of e)n.set(r,i);for(let[r,i]of t)n.set(r,i);return n}function $c(t,n,e){n.forEach((r,i)=>{const s=VE(i);e&&!e.has(i)&&e.set(i,t.style[s]),t.style[s]=r})}function pp(t,n){n.forEach((e,r)=>{const i=VE(r);t.style[i]=""})}function Vv(t){return Array.isArray(t)?1==t.length?t[0]:zO(t):t}const BE=new RegExp("{{\\s*(.+?)\\s*}}","g");function eN(t){let n=[];if("string"==typeof t){let e;for(;e=BE.exec(t);)n.push(e[1]);BE.lastIndex=0}return n}function Hv(t,n,e){const r=t.toString(),i=r.replace(BE,(s,c)=>{let m=n[c];return null==m&&(e.push(function vG(t){return new Ze(3003,!1)}()),m=""),m.toString()});return i==r?t:i}function _0(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const r8=/-+([a-z0-9])/g;function VE(t){return t.replace(r8,(...n)=>n[1].toUpperCase())}function Fl(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function yG(t){return new Ze(3004,!1)}()}}function tN(t,n){return window.getComputedStyle(t)[n]}const C0="*";function a8(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function s8(t,n,e){if(":"==t[0]){const _=function l8(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(function NG(t){return new Ze(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof _)return void n.push(_);t=_}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function OG(t){return new Ze(3015,!1)}()),n;const i=r[1],s=r[2],c=r[3];n.push(nN(i,c));"<"==s[0]&&!(i==C0&&c==C0)&&n.push(nN(c,i))}(r,e,n)):e.push(t),e}const E0=new Set(["true","1"]),x0=new Set(["false","0"]);function nN(t,n){const e=E0.has(t)||x0.has(t),r=E0.has(n)||x0.has(n);return(i,s)=>{let c=t==C0||t==i,m=n==C0||n==s;return!c&&e&&"boolean"==typeof i&&(c=i?E0.has(t):x0.has(t)),!m&&r&&"boolean"==typeof s&&(m=s?E0.has(n):x0.has(n)),c&&m}}const u8=new RegExp("s*:selfs*,?","g");function HE(t,n,e,r){return new c8(t).build(n,e,r)}class c8{constructor(n){this._driver=n}build(n,e,r){const i=new h8(e);return this._resetContextStyleTimingState(i),Fl(this,Vv(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,i=e.depCount=0;const s=[],c=[];return"@"==n.name.charAt(0)&&e.errors.push(function wG(){return new Ze(3006,!1)}()),n.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const _=m,R=_.name;R.toString().split(/\s*,\s*/).forEach(U=>{_.name=U,s.push(this.visitState(_,e))}),_.name=R}else if(1==m.type){const _=this.visitTransition(m,e);r+=_.queryCount,i+=_.depCount,c.push(_)}else e.errors.push(function _G(){return new Ze(3007,!1)}())}),{type:7,name:n.name,states:s,transitions:c,queryCount:r,depCount:i,options:null}}visitState(n,e){const r=this.visitStyle(n.styles,e),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const s=new Set,c=i||{};r.styles.forEach(m=>{m instanceof Map&&m.forEach(_=>{eN(_).forEach(R=>{c.hasOwnProperty(R)||s.add(R)})})}),s.size&&(_0(s.values()),e.errors.push(function CG(t,n){return new Ze(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const r=Fl(this,Vv(n.animation),e);return{type:1,matchers:a8(n.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:gp(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(r=>Fl(this,r,e)),options:gp(n.options)}}visitGroup(n,e){const r=e.currentTime;let i=0;const s=n.steps.map(c=>{e.currentTime=r;const m=Fl(this,c,e);return i=Math.max(i,e.currentTime),m});return e.currentTime=i,{type:3,steps:s,options:gp(n.options)}}visitAnimate(n,e){const r=function g8(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return zE(w0(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=zE(0,0,"");return s.dynamic=!0,s.strValue=e,s}const i=w0(e,n);return zE(i.duration,i.delay,i.easing)}(n.timings,e.errors);e.currentAnimateTimings=r;let i,s=n.styles?n.styles:fp({});if(5==s.type)i=this.visitKeyframes(s,e);else{let c=n.styles,m=!1;if(!c){m=!0;const R={};r.easing&&(R.easing=r.easing),c=fp(R)}e.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,e);_.isEmptyStep=m,i=_}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,e){const r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let m of i)"string"==typeof m?m===af?r.push(m):e.errors.push(new Ze(3002,!1)):r.push(QO(m));let s=!1,c=null;return r.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(c=m.get("easing"),m.delete("easing")),!s))for(let _ of m.values())if(_.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:c,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,e){const r=e.currentAnimateTimings;let i=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),n.styles.forEach(c=>{"string"!=typeof c&&c.forEach((m,_)=>{const R=e.collectedStyles.get(e.currentQuerySelector),U=R.get(_);let K=!0;U&&(s!=i&&s>=U.startTime&&i<=U.endTime&&(e.errors.push(function xG(t,n,e,r,i){return new Ze(3010,!1)}()),K=!1),s=U.startTime),K&&R.set(_,{startTime:s,endTime:i}),e.options&&function n8(t,n,e){const r=n.params||{},i=eN(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||e.push(function mG(t){return new Ze(3001,!1)}())})}(m,e.options,e.errors)})})}visitKeyframes(n,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function DG(){return new Ze(3011,!1)}()),r;let s=0;const c=[];let m=!1,_=!1,R=0;const U=n.steps.map(gt=>{const Qe=this._makeStyleAst(gt,e);let yt=null!=Qe.offset?Qe.offset:function p8(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(Qe.styles),bn=0;return null!=yt&&(s++,bn=Qe.offset=yt),_=_||bn<0||bn>1,m=m||bn<R,R=bn,c.push(bn),Qe});_&&e.errors.push(function TG(){return new Ze(3012,!1)}()),m&&e.errors.push(function SG(){return new Ze(3200,!1)}());const K=n.steps.length;let ge=0;s>0&&s<K?e.errors.push(function MG(){return new Ze(3202,!1)}()):0==s&&(ge=1/(K-1));const be=K-1,Ae=e.currentTime,Fe=e.currentAnimateTimings,it=Fe.duration;return U.forEach((gt,Qe)=>{const yt=ge>0?Qe==be?1:ge*Qe:c[Qe],bn=yt*it;e.currentTime=Ae+Fe.delay+bn,Fe.duration=bn,this._validateStyleAst(gt,e),gt.offset=yt,r.styles.push(gt)}),r}visitReference(n,e){return{type:8,animation:Fl(this,Vv(n.animation),e),options:gp(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:gp(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:gp(n.options)}}visitQuery(n,e){const r=e.currentQuerySelector,i=n.options||{};e.queryCount++,e.currentQuery=n;const[s,c]=function d8(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(u8,"")),t=t.replace(/@\*/g,b0).replace(/@\w+/g,e=>b0+"-"+e.slice(1)).replace(/:animating/g,LE),[t,n]}(n.selector);e.currentQuerySelector=r.length?r+" "+s:s,Ll(e.collectedStyles,e.currentQuerySelector,new Map);const m=Fl(this,Vv(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:m,originalSelector:n.selector,options:gp(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function IG(){return new Ze(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:w0(n.timings,e.errors,!0);return{type:12,animation:Fl(this,Vv(n.animation),e),timings:r,options:null}}}class h8{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gp(t){return t?(t=Bv(t)).params&&(t.params=function f8(t){return t?Bv(t):null}(t.params)):t={},t}function zE(t,n,e){return{duration:t,delay:n,easing:e}}function UE(t,n,e,r,i,s,c=null,m=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:c,subTimeline:m}}class D0{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const y8=new RegExp(":enter","g"),w8=new RegExp(":leave","g");function GE(t,n,e,r,i,s=new Map,c=new Map,m,_,R=[]){return(new _8).buildKeyframes(t,n,e,r,i,s,c,m,_,R)}class _8{buildKeyframes(n,e,r,i,s,c,m,_,R,U=[]){R=R||new D0;const K=new jE(n,e,R,i,s,U,[]);K.options=_;const ge=_.delay?sf(_.delay):0;K.currentTimeline.delayNextStep(ge),K.currentTimeline.setStyles([c],null,K.errors,_),Fl(this,r,K);const be=K.timelines.filter(Ae=>Ae.containsAnimation());if(be.length&&m.size){let Ae;for(let Fe=be.length-1;Fe>=0;Fe--){const it=be[Fe];if(it.element===e){Ae=it;break}}Ae&&!Ae.allowOnlyTimelineStyles()&&Ae.setStyles([m],null,K.errors,_)}return be.length?be.map(Ae=>Ae.buildKeyframes()):[UE(e,[],[],[],0,ge,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(n.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=n}visitAnimateRef(n,e){const r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,r),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,r){for(const i of n){const s=i?.delay;if(s){const c="number"==typeof s?s:sf(Hv(s,i?.params??{},e.errors));r.delayNextStep(c)}}}_visitSubInstructions(n,e,r){let s=e.currentTimeline.currentTime;const c=null!=r.duration?sf(r.duration):null,m=null!=r.delay?sf(r.delay):null;return 0!==c&&n.forEach(_=>{const R=e.appendInstructionToTimeline(_,c,m);s=Math.max(s,R.duration+R.delay)}),s}visitReference(n,e){e.updateOptions(n.options,!0),Fl(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const r=e.subContextCount;let i=e;const s=n.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=T0);const c=sf(s.delay);i.delayNextStep(c)}n.steps.length&&(n.steps.forEach(c=>Fl(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const r=[];let i=e.currentTimeline.currentTime;const s=n.options&&n.options.delay?sf(n.options.delay):0;n.steps.forEach(c=>{const m=e.createSubContext(n.options);s&&m.delayNextStep(s),Fl(this,c,m),i=Math.max(i,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(i),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const r=n.strValue;return w0(e.params?Hv(r,e.params,e.errors):r,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const r=e.currentAnimateTimings=this._visitTiming(n.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(r.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(s):r.setStyles(n.styles,s,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,s=r.duration,m=e.createSubContext().currentTimeline;m.easing=r.easing,n.styles.forEach(_=>{m.forwardTime((_.offset||0)*s),m.setStyles(_.styles,_.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(i+s),e.previousNode=n}visitQuery(n,e){const r=e.currentTimeline.currentTime,i=n.options||{},s=i.delay?sf(i.delay):0;s&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=T0);let c=r;const m=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=m.length;let _=null;m.forEach((R,U)=>{e.currentQueryIndex=U;const K=e.createSubContext(n.options,R);s&&K.delayNextStep(s),R===e.element&&(_=K.currentTimeline),Fl(this,n.animation,K),K.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,K.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const r=e.parentContext,i=e.currentTimeline,s=n.timings,c=Math.abs(s.duration),m=c*(e.currentQueryTotal-1);let _=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":_=m-_;break;case"full":_=r.currentStaggerTime}const U=e.currentTimeline;_&&U.delayNextStep(_);const K=U.currentTime;Fl(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=i.currentTime-K+(i.startTime-r.currentTimeline.startTime)}}const T0={};class jE{constructor(n,e,r,i,s,c,m,_){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=c,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=T0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new S0(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=sf(r.duration)),null!=r.delay&&(i.delay=sf(r.delay));const s=r.params;if(s){let c=i.params;c||(c=this.options.params={}),Object.keys(s).forEach(m=>{(!e||!c.hasOwnProperty(m))&&(c[m]=Hv(s[m],c,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const r=n.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return n}createSubContext(n=null,e,r){const i=e||this.element,s=new jE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=T0,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){const i={duration:e??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},s=new C8(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,i,s,c){let m=[];if(i&&m.push(this.element),n.length>0){n=(n=n.replace(y8,"."+this._enterClassName)).replace(w8,"."+this._leaveClassName);let R=this._driver.query(this.element,n,1!=r);0!==r&&(R=r<0?R.slice(R.length+r,R.length):R.slice(0,r)),m.push(...R)}return!s&&0==m.length&&c.push(function AG(t){return new Ze(3014,!1)}()),m}}class S0{constructor(n,e,r,i){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new S0(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||af),this._currentKeyframe.set(e,af);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,i){e&&this._previousKeyframe.set("easing",e);const s=i&&i.params||{},c=function E8(t,n){const e=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||n.keys();for(let s of r)e.set(s,af)}else ih(i,e)}),e}(n,this._globalTimelineStyles);for(let[m,_]of c){const R=Hv(_,s,r);this._pendingStyles.set(m,R),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??af),this._updateStyle(m,R)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((m,_)=>{const R=ih(m,new Map,this._backFill);R.forEach((U,K)=>{"!"===U?n.add(K):U===af&&e.add(K)}),r||R.set("offset",_/this.duration),i.push(R)});const s=n.size?_0(n.values()):[],c=e.size?_0(e.values()):[];if(r){const m=i[0],_=new Map(m);m.set("offset",0),_.set("offset",1),i=[m,_]}return UE(this.element,i,s,c,this.duration,this.startTime,this.easing,!1)}}class C8 extends S0{constructor(n,e,r,i,s,c,m=!1){super(n,e,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=m,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=r+e,m=e/c,_=ih(n[0]);_.set("offset",0),s.push(_);const R=ih(n[0]);R.set("offset",oN(m)),s.push(R);const U=n.length-1;for(let K=1;K<=U;K++){let ge=ih(n[K]);const be=ge.get("offset");ge.set("offset",oN((e+be*r)/c)),s.push(ge)}r=c,e=0,i="",n=s}return UE(this.element,n,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function oN(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class WE{}const x8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class D8 extends WE{normalizePropertyName(n,e){return VE(n)}normalizeStyleValue(n,e,r,i){let s="";const c=r.toString().trim();if(x8.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&i.push(function bG(t,n){return new Ze(3005,!1)}())}return c+s}}function aN(t,n,e,r,i,s,c,m,_,R,U,K,ge){return{type:0,element:t,triggerName:n,isRemovalTransition:i,fromState:e,fromStyles:s,toState:r,toStyles:c,timelines:m,queriedElements:_,preStyleProps:R,postStyleProps:U,totalTime:K,errors:ge}}const $E={};class sN{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,i){return function T8(t,n,e,r,i){return t.some(s=>s(n,e,r,i))}(this.ast.matchers,n,e,r,i)}buildStyles(n,e,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(e,r):new Map}build(n,e,r,i,s,c,m,_,R,U){const K=[],ge=this.ast.options&&this.ast.options.params||$E,Ae=this.buildStyles(r,m&&m.params||$E,K),Fe=_&&_.params||$E,it=this.buildStyles(i,Fe,K),gt=new Set,Qe=new Map,yt=new Map,bn="void"===i,Bn={params:S8(Fe,ge),delay:this.ast.options?.delay},si=U?[]:GE(n,e,this.ast.animation,s,c,Ae,it,Bn,R,K);let ut=0;if(si.forEach(dl=>{ut=Math.max(dl.duration+dl.delay,ut)}),K.length)return aN(e,this._triggerName,r,i,bn,Ae,it,[],[],Qe,yt,ut,K);si.forEach(dl=>{const ra=dl.element,ly=Ll(Qe,ra,new Set);dl.preStyleProps.forEach(Zc=>ly.add(Zc));const lh=Ll(yt,ra,new Set);dl.postStyleProps.forEach(Zc=>lh.add(Zc)),ra!==e&&gt.add(ra)});const $s=_0(gt.values());return aN(e,this._triggerName,r,i,bn,Ae,it,si,$s,Qe,yt,ut)}}function S8(t,n){const e=Bv(n);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(e[r]=t[r]);return e}class M8{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){const r=new Map,i=Bv(this.defaultParams);return Object.keys(n).forEach(s=>{const c=n[s];null!==c&&(i[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,m)=>{c&&(c=Hv(c,i,e));const _=this.normalizer.normalizePropertyName(m,e);c=this.normalizer.normalizeStyleValue(m,_,c,e),r.set(m,c)})}),r}}class A8{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new M8(i.style,i.options&&i.options.params||{},r))}),lN(this.states,"true","1"),lN(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new sN(n,i,this.states))}),this.fallbackTransition=function O8(t,n,e){return new sN(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,m)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,i){return this.transitionFactories.find(c=>c.match(n,e,r,i))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}}function lN(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const N8=new D0;class R8{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const r=[],s=HE(this._driver,e,r,[]);if(r.length)throw function FG(t){return new Ze(3503,!1)}();this._animations.set(n,s)}_buildPlayer(n,e,r){const i=n.element,s=jO(this._normalizer,n.keyframes,e,r);return this._driver.animate(i,s,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){const i=[],s=this._animations.get(n);let c;const m=new Map;if(s?(c=GE(this._driver,e,s,PE,v0,new Map,new Map,r,N8,i),c.forEach(U=>{const K=Ll(m,U.element,new Map);U.postStyleProps.forEach(ge=>K.set(ge,null))})):(i.push(function BG(){return new Ze(3300,!1)}()),c=[]),i.length)throw function VG(t){return new Ze(3504,!1)}();m.forEach((U,K)=>{U.forEach((ge,be)=>{U.set(be,this._driver.computeStyle(K,be,af))})});const R=rh(c.map(U=>{const K=m.get(U.element);return this._buildPlayer(U,new Map,K)}));return this._playersById.set(n,R),R.onDestroy(()=>this.destroy(n)),this.players.push(R),R}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function HG(t){return new Ze(3301,!1)}();return e}listen(n,e,r,i){const s=NE(e,"","","");return AE(this._getPlayer(n),r,s,i),()=>{}}command(n,e,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,e,i[0]||{});const s=this._getPlayer(n);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const uN="ng-animate-queued",YE="ng-animate-disabled",B8=[],cN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},V8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fu="__ng_removed";class XE{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const r=n&&n.hasOwnProperty("value");if(this.value=function G8(t){return t??null}(r?n.value:n),r){const s=Bv(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const zv="void",KE=new XE(zv);class H8{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,hu(e,this._hostClassName)}listen(n,e,r,i){if(!this._triggers.has(e))throw function zG(t,n){return new Ze(3302,!1)}();if(null==r||0==r.length)throw function UG(t){return new Ze(3303,!1)}();if(!function j8(t){return"start"==t||"done"==t}(r))throw function GG(t,n){return new Ze(3400,!1)}();const s=Ll(this._elementListeners,n,[]),c={name:e,phase:r,callback:i};s.push(c);const m=Ll(this._engine.statesByElement,n,new Map);return m.has(e)||(hu(n,y0),hu(n,y0+"-"+e),m.set(e,KE)),()=>{this._engine.afterFlush(()=>{const _=s.indexOf(c);_>=0&&s.splice(_,1),this._triggers.has(e)||m.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function jG(t){return new Ze(3401,!1)}();return e}trigger(n,e,r,i=!0){const s=this._getTrigger(e),c=new ZE(this.id,e,n);let m=this._engine.statesByElement.get(n);m||(hu(n,y0),hu(n,y0+"-"+e),this._engine.statesByElement.set(n,m=new Map));let _=m.get(e);const R=new XE(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&R.absorbOptions(_.options),m.set(e,R),_||(_=KE),R.value!==zv&&_.value===R.value){if(!function Y8(t,n){const e=Object.keys(t),r=Object.keys(n);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const s=e[i];if(!n.hasOwnProperty(s)||t[s]!==n[s])return!1}return!0}(_.params,R.params)){const Fe=[],it=s.matchStyles(_.value,_.params,Fe),gt=s.matchStyles(R.value,R.params,Fe);Fe.length?this._engine.reportError(Fe):this._engine.afterFlush(()=>{pp(n,it),$c(n,gt)})}return}const ge=Ll(this._engine.playersByElement,n,[]);ge.forEach(Fe=>{Fe.namespaceId==this.id&&Fe.triggerName==e&&Fe.queued&&Fe.destroy()});let be=s.matchTransition(_.value,R.value,n,R.params),Ae=!1;if(!be){if(!i)return;be=s.fallbackTransition,Ae=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:be,fromState:_,toState:R,player:c,isFallbackTransition:Ae}),Ae||(hu(n,uN),c.onStart(()=>{$g(n,uN)})),c.onDone(()=>{let Fe=this.players.indexOf(c);Fe>=0&&this.players.splice(Fe,1);const it=this._engine.playersByElement.get(n);if(it){let gt=it.indexOf(c);gt>=0&&it.splice(gt,1)}}),this.players.push(c),ge.push(c),c}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const r=this._engine.driver.query(n,b0,!0);r.forEach(i=>{if(i[fu])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(c=>c.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,e,r,i){const s=this._engine.statesByElement.get(n),c=new Map;if(s){const m=[];if(s.forEach((_,R)=>{if(c.set(R,_.value),this._triggers.has(R)){const U=this.trigger(n,R,zv,i);U&&m.push(U)}}),m.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,c),r&&rh(m).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){const i=new Set;e.forEach(s=>{const c=s.name;if(i.has(c))return;i.add(c);const _=this._triggers.get(c).fallbackTransition,R=r.get(c)||KE,U=new XE(zv),K=new ZE(this.id,c,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:c,transition:_,fromState:R,toState:U,player:K,isFallbackTransition:!0})})}}removeNode(n,e){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(n):[];if(s&&s.length)i=!0;else{let c=n;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,e);else{const s=n[fu];(!s||s===cN)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){hu(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,c=this._elementListeners.get(s);c&&c.forEach(m=>{if(m.name==r.triggerName){const _=NE(s,r.triggerName,r.fromState.value,r.toState.value);_._data=n,AE(r.player,m.phase,_,m.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const s=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(r=>r.element===n)||e,e}}class z8{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,r){this.bodyNode=n,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){const r=new H8(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,m=this.driver.getParentElement(e);for(;m;){const _=i.get(m);if(_){const R=r.indexOf(_);r.splice(R+1,0,n),c=!0;break}m=this.driver.getParentElement(m)}c||r.unshift(n)}else r.push(n);return i.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let i=this._namespaceLookup[n];i&&i.register(e,r)&&this.totalAnimations++}destroy(n,e){if(!n)return;const r=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[n];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&e.add(s)}return e}trigger(n,e,r,i){if(M0(e)){const s=this._fetchNamespace(n);if(s)return s.trigger(e,r,i),!0}return!1}insertNode(n,e,r,i){if(!M0(e))return;const s=e[fu];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(n){const c=this._fetchNamespace(n);c&&c.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),hu(n,YE)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),$g(n,YE))}removeNode(n,e,r){if(M0(e)){const i=n?this._fetchNamespace(n):null;i?i.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r);const s=this.namespacesByHostElement.get(e);s&&s.id!==n&&s.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,r,i,s){this.collectedLeaveElements.push(e),e[fu]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,e,r,i,s){return M0(e)?this._fetchNamespace(n).listen(e,r,i,s):()=>{}}_buildInstruction(n,e,r,i,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,e,s)}destroyInnerAnimations(n){let e=this.driver.query(n,b0,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,LE,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return rh(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[fu];if(e&&e.setForRemoval){if(n[fu]=cN,e.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(YE)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)hu(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?rh(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function WG(t){return new Ze(3402,!1)}()}_flushAnimations(n,e){const r=new D0,i=[],s=new Map,c=[],m=new Map,_=new Map,R=new Map,U=new Set;this.disabledNodes.forEach(On=>{U.add(On);const jn=this.driver.query(On,".ng-animate-queued",!0);for(let Qn=0;Qn<jn.length;Qn++)U.add(jn[Qn])});const K=this.bodyNode,ge=Array.from(this.statesByElement.keys()),be=hN(ge,this.collectedEnterElements),Ae=new Map;let Fe=0;be.forEach((On,jn)=>{const Qn=PE+Fe++;Ae.set(jn,Qn),On.forEach(yr=>hu(yr,Qn))});const it=[],gt=new Set,Qe=new Set;for(let On=0;On<this.collectedLeaveElements.length;On++){const jn=this.collectedLeaveElements[On],Qn=jn[fu];Qn&&Qn.setForRemoval&&(it.push(jn),gt.add(jn),Qn.hasAnimation?this.driver.query(jn,".ng-star-inserted",!0).forEach(yr=>gt.add(yr)):Qe.add(jn))}const yt=new Map,bn=hN(ge,Array.from(gt));bn.forEach((On,jn)=>{const Qn=v0+Fe++;yt.set(jn,Qn),On.forEach(yr=>hu(yr,Qn))}),n.push(()=>{be.forEach((On,jn)=>{const Qn=Ae.get(jn);On.forEach(yr=>$g(yr,Qn))}),bn.forEach((On,jn)=>{const Qn=yt.get(jn);On.forEach(yr=>$g(yr,Qn))}),it.forEach(On=>{this.processLeaveNode(On)})});const Bn=[],si=[];for(let On=this._namespaceList.length-1;On>=0;On--)this._namespaceList[On].drainQueuedTransitions(e).forEach(Qn=>{const yr=Qn.player,ia=Qn.element;if(Bn.push(yr),this.collectedEnterElements.length){const Ga=ia[fu];if(Ga&&Ga.setForMove){if(Ga.previousTriggersValues&&Ga.previousTriggersValues.has(Qn.triggerName)){const qu=Ga.previousTriggersValues.get(Qn.triggerName),Ys=this.statesByElement.get(Qn.element);if(Ys&&Ys.has(Qn.triggerName)){const _p=Ys.get(Qn.triggerName);_p.value=qu,Ys.set(Qn.triggerName,_p)}}return void yr.destroy()}}const Bl=!K||!this.driver.containsElement(K,ia),Ua=yt.get(ia),qc=Ae.get(ia),Xi=this._buildInstruction(Qn,r,qc,Ua,Bl);if(Xi.errors&&Xi.errors.length)return void si.push(Xi);if(Bl)return yr.onStart(()=>pp(ia,Xi.fromStyles)),yr.onDestroy(()=>$c(ia,Xi.toStyles)),void i.push(yr);if(Qn.isFallbackTransition)return yr.onStart(()=>pp(ia,Xi.fromStyles)),yr.onDestroy(()=>$c(ia,Xi.toStyles)),void i.push(yr);const uy=[];Xi.timelines.forEach(Ga=>{Ga.stretchStartingKeyframe=!0,this.disabledNodes.has(Ga.element)||uy.push(Ga)}),Xi.timelines=uy,r.append(ia,Xi.timelines),c.push({instruction:Xi,player:yr,element:ia}),Xi.queriedElements.forEach(Ga=>Ll(m,Ga,[]).push(yr)),Xi.preStyleProps.forEach((Ga,qu)=>{if(Ga.size){let Ys=_.get(qu);Ys||_.set(qu,Ys=new Set),Ga.forEach((_p,am)=>Ys.add(am))}}),Xi.postStyleProps.forEach((Ga,qu)=>{let Ys=R.get(qu);Ys||R.set(qu,Ys=new Set),Ga.forEach((_p,am)=>Ys.add(am))})});if(si.length){const On=[];si.forEach(jn=>{On.push(function $G(t,n){return new Ze(3505,!1)}())}),Bn.forEach(jn=>jn.destroy()),this.reportError(On)}const ut=new Map,$s=new Map;c.forEach(On=>{const jn=On.element;r.has(jn)&&($s.set(jn,jn),this._beforeAnimationBuild(On.player.namespaceId,On.instruction,ut))}),i.forEach(On=>{const jn=On.element;this._getPreviousPlayers(jn,!1,On.namespaceId,On.triggerName,null).forEach(yr=>{Ll(ut,jn,[]).push(yr),yr.destroy()})});const dl=it.filter(On=>gN(On,_,R)),ra=new Map;fN(ra,this.driver,Qe,R,af).forEach(On=>{gN(On,_,R)&&dl.push(On)});const lh=new Map;be.forEach((On,jn)=>{fN(lh,this.driver,new Set(On),_,"!")}),dl.forEach(On=>{const jn=ra.get(On),Qn=lh.get(On);ra.set(On,new Map([...jn?.entries()??[],...Qn?.entries()??[]]))});const Zc=[],om=[],Q0={};c.forEach(On=>{const{element:jn,player:Qn,instruction:yr}=On;if(r.has(jn)){if(U.has(jn))return Qn.onDestroy(()=>$c(jn,yr.toStyles)),Qn.disabled=!0,Qn.overrideTotalTime(yr.totalTime),void i.push(Qn);let ia=Q0;if($s.size>1){let Ua=jn;const qc=[];for(;Ua=Ua.parentNode;){const Xi=$s.get(Ua);if(Xi){ia=Xi;break}qc.push(Ua)}qc.forEach(Xi=>$s.set(Xi,ia))}const Bl=this._buildAnimation(Qn.namespaceId,yr,ut,s,lh,ra);if(Qn.setRealPlayer(Bl),ia===Q0)Zc.push(Qn);else{const Ua=this.playersByElement.get(ia);Ua&&Ua.length&&(Qn.parentPlayer=rh(Ua)),i.push(Qn)}}else pp(jn,yr.fromStyles),Qn.onDestroy(()=>$c(jn,yr.toStyles)),om.push(Qn),U.has(jn)&&i.push(Qn)}),om.forEach(On=>{const jn=s.get(On.element);if(jn&&jn.length){const Qn=rh(jn);On.setRealPlayer(Qn)}}),i.forEach(On=>{On.parentPlayer?On.syncPlayerEvents(On.parentPlayer):On.destroy()});for(let On=0;On<it.length;On++){const jn=it[On],Qn=jn[fu];if($g(jn,v0),Qn&&Qn.hasAnimation)continue;let yr=[];if(m.size){let Bl=m.get(jn);Bl&&Bl.length&&yr.push(...Bl);let Ua=this.driver.query(jn,LE,!0);for(let qc=0;qc<Ua.length;qc++){let Xi=m.get(Ua[qc]);Xi&&Xi.length&&yr.push(...Xi)}}const ia=yr.filter(Bl=>!Bl.destroyed);ia.length?W8(this,jn,ia):this.processLeaveNode(jn)}return it.length=0,Zc.forEach(On=>{this.players.push(On),On.onDone(()=>{On.destroy();const jn=this.players.indexOf(On);this.players.splice(jn,1)}),On.play()}),Zc}elementContainsData(n,e){let r=!1;const i=e[fu];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(n).elementContainsData(e)||r}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,i,s){let c=[];if(e){const m=this.playersByQueriedElement.get(n);m&&(c=m)}else{const m=this.playersByElement.get(n);if(m){const _=!s||s==zv;m.forEach(R=>{R.queued||!_&&R.triggerName!=i||c.push(R)})}}return(r||i)&&(c=c.filter(m=>!(r&&r!=m.namespaceId||i&&i!=m.triggerName))),c}_beforeAnimationBuild(n,e,r){const s=e.element,c=e.isRemovalTransition?void 0:n,m=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const R=_.element,U=R!==s,K=Ll(r,R,[]);this._getPreviousPlayers(R,U,c,m,e.toState).forEach(be=>{const Ae=be.getRealPlayer();Ae.beforeDestroy&&Ae.beforeDestroy(),be.destroy(),K.push(be)})}pp(s,e.fromStyles)}_buildAnimation(n,e,r,i,s,c){const m=e.triggerName,_=e.element,R=[],U=new Set,K=new Set,ge=e.timelines.map(Ae=>{const Fe=Ae.element;U.add(Fe);const it=Fe[fu];if(it&&it.removedBeforeQueried)return new Fv(Ae.duration,Ae.delay);const gt=Fe!==_,Qe=function $8(t){const n=[];return pN(t,n),n}((r.get(Fe)||B8).map(ut=>ut.getRealPlayer())).filter(ut=>!!ut.element&&ut.element===Fe),yt=s.get(Fe),bn=c.get(Fe),Bn=jO(this._normalizer,Ae.keyframes,yt,bn),si=this._buildPlayer(Ae,Bn,Qe);if(Ae.subTimeline&&i&&K.add(Fe),gt){const ut=new ZE(n,m,Fe);ut.setRealPlayer(si),R.push(ut)}return si});R.forEach(Ae=>{Ll(this.playersByQueriedElement,Ae.element,[]).push(Ae),Ae.onDone(()=>function U8(t,n,e){let r=t.get(n);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&t.delete(n)}return r}(this.playersByQueriedElement,Ae.element,Ae))}),U.forEach(Ae=>hu(Ae,qO));const be=rh(ge);return be.onDestroy(()=>{U.forEach(Ae=>$g(Ae,qO)),$c(_,e.toStyles)}),K.forEach(Ae=>{Ll(i,Ae,[]).push(be)}),be}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new Fv(n.duration,n.delay)}}class ZE{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new Fv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>AE(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Ll(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function M0(t){return t&&1===t.nodeType}function dN(t,n){const e=t.style.display;return t.style.display=n??"none",e}function fN(t,n,e,r,i){const s=[];e.forEach(_=>s.push(dN(_)));const c=[];r.forEach((_,R)=>{const U=new Map;_.forEach(K=>{const ge=n.computeStyle(R,K,i);U.set(K,ge),(!ge||0==ge.length)&&(R[fu]=V8,c.push(R))}),t.set(R,U)});let m=0;return e.forEach(_=>dN(_,s[m++])),c}function hN(t,n){const e=new Map;if(t.forEach(m=>e.set(m,[])),0==n.length)return e;const i=new Set(n),s=new Map;function c(m){if(!m)return 1;let _=s.get(m);if(_)return _;const R=m.parentNode;return _=e.has(R)?R:i.has(R)?1:c(R),s.set(m,_),_}return n.forEach(m=>{const _=c(m);1!==_&&e.get(_).push(m)}),e}function hu(t,n){t.classList?.add(n)}function $g(t,n){t.classList?.remove(n)}function W8(t,n,e){rh(e).onDone(()=>t.processLeaveNode(n))}function pN(t,n){for(let e=0;e<t.length;e++){const r=t[e];r instanceof UO?pN(r.players,n):n.push(r)}}function gN(t,n,e){const r=e.get(t);if(!r)return!1;let i=n.get(t);return i?r.forEach(s=>i.add(s)):n.set(t,r),e.delete(t),!0}class I0{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new z8(n,e,r),this._timelineEngine=new R8(n,e,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(n,e,r,i,s){const c=n+"-"+i;let m=this._triggerCache[c];if(!m){const _=[],U=HE(this._driver,s,_,[]);if(_.length)throw function PG(t,n){return new Ze(3404,!1)}();m=function I8(t,n,e){return new A8(t,n,e)}(i,U,this._normalizer),this._triggerCache[c]=m}this._transitionEngine.registerTrigger(e,i,m)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,i){this._transitionEngine.insertNode(n,e,r,i)}onRemove(n,e,r){this._transitionEngine.removeNode(n,e,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,i){if("@"==r.charAt(0)){const[s,c]=WO(r);this._timelineEngine.command(s,e,c,i)}else this._transitionEngine.trigger(n,e,r,i)}listen(n,e,r,i,s){if("@"==r.charAt(0)){const[c,m]=WO(r);return this._timelineEngine.listen(c,e,m,s)}return this._transitionEngine.listen(n,e,r,i,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let K8=(()=>{class t{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(e);s||t.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&$c(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($c(this._element,this._initialStyles),this._endStyles&&($c(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(pp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pp(this._element,this._endStyles),this._endStyles=null),$c(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function qE(t){let n=null;return t.forEach((e,r)=>{(function Z8(t){return"display"===t||"position"===t})(r)&&(n=n||new Map,n.set(r,e))}),n}class mN{constructor(n,e,r,i){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(n,e,r){return n.animate(this._convertKeyframesToObject(e),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:tN(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class q8{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return YO(n,e)}getParentElement(n){return RE(n)}query(n,e,r){return XO(n,e,r)}computeStyle(n,e,r){return window.getComputedStyle(n)[e]}animate(n,e,r,i,s,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(_.easing=s);const R=new Map,U=c.filter(be=>be instanceof mN);(function i8(t,n){return 0===t||0===n})(r,i)&&U.forEach(be=>{be.currentSnapshot.forEach((Ae,Fe)=>R.set(Fe,Ae))});let K=function t8(t){return t.length?t[0]instanceof Map?t:t.map(n=>QO(n)):[]}(e).map(be=>ih(be));K=function o8(t,n,e){if(e.size&&n.length){let r=n[0],i=[];if(e.forEach((s,c)=>{r.has(c)||i.push(c),r.set(c,s)}),i.length)for(let s=1;s<n.length;s++){let c=n[s];i.forEach(m=>c.set(m,tN(t,m)))}}return n}(n,K,R);const ge=function X8(t,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=qE(n[0]),n.length>1&&(r=qE(n[n.length-1]))):n instanceof Map&&(e=qE(n)),e||r?new K8(t,e,r):null}(n,K);return new mN(n,K,_,ge)}}let Q8=(()=>{class t extends HO{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:ya.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?zO(e):e;return vN(this._renderer,null,r,"register",[i]),new J8(r,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Pt(km),Pt(Di))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();class J8 extends fG{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new ej(this._id,n,e||{},this._renderer)}}class ej{constructor(n,e,r,i){this.id=n,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return vN(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function vN(t,n,e,r,i){return t.setProperty(n,`@@${e}:${r}`,i)}const yN="@.disabled";let tj=(()=>{class t{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,c)=>{const m=c?.parentNode(s);m&&c.removeChild(m,s)}}createRenderer(e,r){const s=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let U=this._rendererCache.get(s);return U||(U=new bN("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,U)),U}const c=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const _=U=>{Array.isArray(U)?U.forEach(_):this.engine.registerTrigger(c,m,e,U.name,U)};return r.data.animation.forEach(_),new nj(this,m,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,m]=s;c(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Pt(km),Pt(I0),Pt(Yr))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();class bN{constructor(n,e,r,i){this.namespaceId=n,this.delegate=e,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,i=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,i)}removeChild(n,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,i){this.delegate.setAttribute(n,e,r,i)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,i){this.delegate.setStyle(n,e,r,i)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){"@"==e.charAt(0)&&e==yN?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class nj extends bN{constructor(n,e,r,i,s){super(e,r,i,s),this.factory=n,this.namespaceId=e}setProperty(n,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==yN?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,e.slice(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if("@"==e.charAt(0)){const i=function rj(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let s=e.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function ij(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(s)),this.engine.listen(this.namespaceId,i,s,c,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(n,e,r)}}const wN=[{provide:HO,useClass:Q8},{provide:WE,useFactory:function aj(){return new D8}},{provide:I0,useClass:(()=>{class t extends I0{constructor(e,r,i,s){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di),Pt(kE),Pt(WE),Pt(ep))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})()},{provide:km,useFactory:function sj(t,n,e){return new tj(t,n,e)},deps:[SC,I0,Yr]}],QE=[{provide:kE,useFactory:()=>new q8},{provide:kc,useValue:"BrowserAnimations"},...wN],_N=[{provide:kE,useClass:KO},{provide:kc,useValue:"NoopAnimations"},...wN];let lj=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?_N:QE}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({providers:QE,imports:[iI]}),t})(),Yg=(()=>{class t{constructor(e){this.http=e,this.vampirepage="http://localhost:8082",this.gswbpage="http://localhost:8081",this.ligerpage="http://localhost:8080"}gswbDeduce(e){return this.http.post(`${this.gswbpage}/deduce`,e)}gswbBatchDeduce(e){return this.http.post(`${this.gswbpage}/gswb_batch_proof`,e)}ligerAnnotate(e){return this.http.post(`${this.ligerpage}/apply_rules_xle`,e)}ligerParse(e){return this.http.post(`${this.ligerpage}/parse_xle`,e)}ligerBatchAnnotate(e){return this.http.post(`${this.ligerpage}/apply_rules_to_batch`,e)}ligerBatchMultistage(e){return this.http.post(`${this.ligerpage}/multistage_to_batch`,e)}getFileTree(e){return this.http.post(`${this.ligerpage}/list_grammars1`,e)}changeGrammar(e){return this.http.post(`${this.ligerpage}/change_grammar`,e)}loadRules(e){return this.http.post(`${this.ligerpage}/load_rules`,e)}callVampire(e){return this.http.post(`${this.vampirepage}/vampire_request`,e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(g0))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var JE=D(656);D(3163);const uj=["host"];JE.defineMode("liger",function(){return{token:function(t,n){return t.match("==>")?"rule_separator":t.match(/#[A-Za-z0-9]+/)?"liger_node_var":t.match(/%[A-Za-z0-9]+/)?"liger_val_var":t.match(/(\&|\.)/)?"liger_conjunction":t.match("//")?(t.skipToEnd(),"comment"):(t.next(),null)}}}),JE.defineMode("glue",function(){return{token:function(t,n){return t.match(":")?"rule_separator":t.match(/-o/)?"liger_node_var":t.match(/(\[|\])/)?"liger_conjunction":t.match(/(\(|\))/)?"liger_val_var":t.match(/(<|>)/)?"angular_brackets":t.match("//")?(t.skipToEnd(),"comment"):(t.next(),null)}}});let Xg=(()=>{class t{constructor(){this.defaultWidth="800px",this.defaultHeight="300px"}ngAfterViewInit(){console.log("mode is "+this.mode),this.codeMirror=JE.fromTextArea(this.host.nativeElement,{mode:this.mode,viewportMargin:1/0,lineNumbers:!0,matchBrackets:!0,autoCloseBrackets:!0}),"liger"===this.mode?this.codeMirror.setValue("--replace(true);\n\n//Injection\n#a TNS-ASP #b & #a s:: #c SIT #d & #c EV #v  ==>\n#c TEMP-REF #e &\n#e T-REF 'undefined' &\n#d GLUE lam(V,lam(S,lam(E,merge(drs([],[rel(partOf,E,S)]),app(V,E))))) : ((#v_v -o #v_t) -o (#d_s -o (#v_v -o #v_t))).\n\n//Consumption\n\n//Tier 1 rules\n#a TNS-ASP #b TENSE 'past' & #a s:: #c TEMP-REF #d & #d T-REF 'undefined' ==>  #d T-REF 'past' & #d CHECK '-'.\n#a TNS-ASP #b TENSE 'pres' & #a s:: #c TEMP-REF #d & #d T-REF 'undefined' ==>  #d T-REF 'pres' & #d CHECK '-'.\n#a TNS-ASP #b TENSE 'fut' & #a s:: #c TEMP-REF #d & #d T-REF 'undefined' ==>  #d T-REF 'fut' & #d CHECK '-'.\n\n//#a TNS-ASP #b TENSE 'pres' & #a s:: #c ==> #c TEMP-REF #d & #d T-REF 'pres' & #d EVAL #e & #e TIME 'now'.\n//#a TNS-ASP #b TENSE 'fut' & #a s:: #c ==> #c TEMP-REF #d & #d T-REF 'fut' & #d EVAL #e & #e TIME 'now'.\n\n//Tier 2 rules\n//SOT rule\n#a T-REF 'past' &\n#a ^(TEMP-REF>s::>COMP) #b & #b !(s::>TEMP-REF) #c T-REF 'past' ==> #a T-REF 'non-future'.\n\n//Present counterfactual\n#a T-REF 'past' &\n#a ^(TEMP-REF>s::>OBJ>in_set>ADJUNCT) #b & #b VTYPE 'modal' &\n#b !(s::>TEMP-REF) #c T-REF 'pres' &\n#c CHECK '-'\n==> #a T-REF 'non-past' & #c CHECK '+' & #c EVAL #a.\n\n\n//Adding evals\n#a T-REF %a ==> #a EVAL #b.\n\n//COMP and XCOMP INJECTION\n#m COMP #a TNS-ASP #b & #a s:: #c TEMP-REF #e EVAL #f &\n#m s:: #n EV #v & #n SIT #d\n==> #d GLUE lam(V,lam(S,lam(E,merge(drs([],[rel(partOf,E,S)]),app(app(V,S),E))))) : ((#f_s -o (#v_v -o #v_t)) -o (#d_s -o (#v_v -o #v_t))).\n\n#m XCOMP #a TNS-ASP #b & #a s:: #c TEMP-REF #e EVAL #f &\n#m s:: #n EV #v & #n SIT #d\n==> #d GLUE lam(V,lam(S,lam(E,merge(drs([],[rel(partOf,E,S)]),app(app(V,S),E))))) : ((#f_s -o (#v_v -o #v_t)) -o (#d_s -o (#v_v -o #v_t))).\n\n//Aspect rules\n#a TNS-ASP #b PROG '+_' & #a s:: #c ==> #c VIEWPOINT #d & #d ASPECT 'impv' & #d A-RESTR 'ongoing'.\n#a TNS-ASP #b PROG '-_' & #a s:: #c ==> #c VIEWPOINT #d & #d ASPECT 'undefined'.\n#a TNS-ASP #b TENSE %x & #b PROG '-_' & #a s:: #c VIEWPOINT #d ASPECT 'undefined' ==> #d ASPECT 'prv' & #d A-RESTR 'bounded'.\n#a TNS-ASP #b PERF '+_' & #a s:: #c ==> #c ASP-TENSE #d & #d A-REF 'past'.\n\n//Tier 2 aspect example\n#a T-REF 'undefined' &\n#a ^(TEMP-REF) #b ^(s::>XCOMP) #c & #c !(s::>TEMP-REF) #d EVAL #e &\n#b VIEWPOINT #f ASPECT 'prv'\n==>  #a T-REF 'future' & #a EVAL #d.\n\n//Semantic interpretation\n\n//Rules for interpreting grammatical aspect\n#a s:: #b VIEWPOINT #c ==>\n#c VAR #d & #c RESTR #e &\n#c ASP-RESTR' #f.\n\n#a s:: #b VIEWPOINT #c A-RESTR 'ongoing' &\n#c VAR #d & #c RESTR #e &\n#c ASP-RESTR' #f ==>\n#f GLUE lam(S,lam(T,drs([],[rel(ongoing,T,S)]))) : (#d_s -o (#e_s -o #c_t)).\n\n#a s:: #b VIEWPOINT #c A-RESTR 'bounded' &\n#c VAR #d & #c RESTR #e &\n#c ASP-RESTR' #f ==>\n#f GLUE lam(S,lam(T,drs([],[rel(bounded,T,S)]))) : (#d_s -o (#e_s -o #c_t)).\n\n\n#a s:: #b VIEWPOINT #c ASPECT 'impv' &\n#c VAR #d & #c RESTR #e &\n#b TEMP-REF #f &\n#b SIT #g\n ==>  #c GLUE lam(M,lam(P,lam(S,drs([],[imp(merge(drs([Z],[]),app(app(M,S),Z)),app(P,Z))])))) : ((#d_s -o (#e_s -o #c_t)) -o ((#g_s -o #g_t) -o (#f_s -o #f_t))).\n\n//prv closure -- fixed\n#a s:: #b VIEWPOINT #c ASPECT 'prv' &\n#c VAR #d & #c RESTR #e &\n#b TEMP-REF #f &\n#b SIT #g\n ==>  #c GLUE lam(M,lam(P,lam(S,merge(drs([Z],[]),merge(app(app(M,S),Z),app(P,Z)))))) : ((#d_s -o (#e_s -o #c_t)) -o ((#g_s -o #g_t) -o (#f_s -o #f_t))).\n\n#a s:: #b VIEWPOINT #c ASPECT 'undefined' &\n#b TEMP-REF #f &\n#b SIT #g\n ==>  #c GLUE lam(P,lam(S,merge(drs([],[]),app(P,S)))) : ((#g_s -o #g_t) -o (#f_s -o #f_t)).\n\n//Tense values\n\n//Past reference\n#a s:: #b TEMP-REF #c T-REF 'past' & #c EVAL #d ==>\n#c T-REF' #e & #e GLUE lam(T,lam(T2,drs([],[rel(before,T,T2)]))) : (#c_s -o (#d_s -o #c_t)).\n\n//Aspectual tense\n#a s:: #b TEMP-REF #c EVAL #d &\n#b ASP-TENSE #e A-REF 'past' &\n ==>\n#e A-REF' #f & #f GLUE lam(T,lam(T2,drs([],[rel(before,T,T2)]))) :(#e_s -o (#c_s -o #e_t)) .\n\n//Present reference\n#a s:: #b TEMP-REF #c T-REF 'pres' & #c EVAL #d ==>\n#c T-REF' #e & #e GLUE lam(T,lam(T2,drs([],[rel(overlap,T,T2)]))) : (#c_s -o (#d_s -o #c_t)).\n\n//Non-future\n#a s:: #b TEMP-REF #c T-REF 'non-future' & #c EVAL #d ==>\n#c T-REF' #e & #e GLUE lam(T,lam(T2,drs([],[rel(nonfut,T,T2)]))) : (#c_s -o (#d_s -o #c_t)).\n\n\n//Non-past\n#a s:: #b TEMP-REF #c T-REF 'non-past' & #c EVAL #d ==>\n#c T-REF' #e & #e GLUE lam(T,lam(T2,drs([],[rel(nonpast,T,T2)]))) : (#c_s -o (#d_s -o #c_t)).\n\n//Future reference\n#a s:: #b TEMP-REF #c T-REF 'future' & #c EVAL #d ==>\n#c T-REF' #e & #e GLUE lam(T,lam(T2,drs([],[rel(after,T,T2)]))) : (#c_s -o (#d_s -o #c_t)).\n\n\n//absolute tense closure -- fixed\n#a s:: #b TEMP-REF #c T-REF %a & %a != 'undefined' & #c EVAL #d\n==> #c GLUE lam(T,lam(P,lam(S,merge(drs([R],[]),merge(app(app(T,R),S),app(P,R)))))) : ((#c_s -o (#d_s -o #c_t)) -o ((#c_s -o #c_t) -o (#d_s -o #d_t))).\n\n//aspectual tense closure\n#a s:: #b ASP-TENSE #c A-REF %a &\n#b TEMP-REF #e &\n %a != 'undefined'\n==> #c GLUE lam(T,lam(P,lam(S,merge(drs([R],[]),merge(app(app(T,R),S),app(P,R)))))) : ((#c_s -o (#e_s -o #c_t)) -o ((#e_s -o #b_t) -o (#e_s -o #b_t))).\n\n//unspec absolute closure\n#a s:: #b TEMP-REF #c T-REF %a & %a == 'undefined' & #c EVAL #d\n==> #c GLUE lam(P,lam(S,merge(app(P,S),drs([],[])))) : ((#c_s -o #c_t) -o (#d_s -o #d_t)).\n\n#a EVAL #b\n==> #b GLUE lam(P,merge(drs([T],[eq(T,now)]),app(P,T))) : ((#b_s -o #b_t) -o #b_t).\n\n#m COMP #n s:: #o TEMP-REF #a EVAL #b & #o SIT #s\n==> #b GLUE lam(P,P) : ((#b_s -o #b_t) -o (#b_s -o #s_t)).\n\n#m XCOMP #n s:: #o TEMP-REF #a EVAL #b & #o SIT #s\n==> #b GLUE lam(P,P) : ((#b_s -o #b_t) -o (#b_s -o #s_t))."):"text"===this.mode&&this.codeMirror.setValue("#transitive\n\na big black dog appeared.\n\n#optional transitives\n\na dog escaped.\n\na dog escaped the cage.\n\n#transitive\n\nevery dog devoured a bone.\n\n#di-transitive\n\nMary gave a student every grade.\n\nMary gave a grade to a student.\n\n#COMP-verb\n\nMary thinks that a cat meowed.\n\n#XCOMPs\n\na cat seemed to meow.\n\na dog tried to meow.\n\n#passives\n\na bone was devoured by a dog.\n\na program was implemented by a developer.\n\na solution was implemented.\n\n# The following two sentences need fixing in the basic grammar (clash with OT mark and unwanted semantics)\n\na grade was given to every student by Mary.\n\na student was given every grade by Mary.\n\n#PP-attachment\n\na big black dog appeared on the table.\n\nPeter saw the monkey with the telescope.")}updateContent(e){this.codeMirror&&(this.codeMirror.setValue(""),this.codeMirror.clearHistory(),this.codeMirror.setValue(e),this.codeMirror.refresh())}getContent(){return this.codeMirror.getValue()}resizeToDefault(){this.codeMirror.setSize(this.defaultWidth,this.defaultHeight)}downloadFile(e){let r=this.codeMirror.getValue(),i=new Blob([r],{type:"text/plain"}),s=window.URL.createObjectURL(i),c=document.createElement("a");c.href=s,c.download=e||"default.txt",c.click(),setTimeout(()=>window.URL.revokeObjectURL(s),1e4)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-editor"]],viewQuery:function(e,r){if(1&e&&zn(uj,5),2&e){let i;In(i=An())&&(r.host=i.first)}},inputs:{id:"id",mode:"mode"},decls:9,vars:1,consts:[[1,"editor-container"],["host",""],[1,"resize",3,"click"],[3,"click"],["placeholder","Enter filename",3,"ngModel","ngModelChange"]],template:function(e,r){1&e&&(tt(0,"div",0),Tn(1,"textarea",null,1),et(),tt(3,"button",2),Sn("click",function(){return r.resizeToDefault()}),wt(4,"Resize to Default"),et(),tt(5,"button",3),Sn("click",function(){return r.downloadFile(r.filename)}),wt(6,"Download as: "),et(),tt(7,"input",4),Sn("ngModelChange",function(s){return r.filename=s}),et(),Tn(8,"div")),2&e&&(Yt(7),tn("ngModel",r.filename))},dependencies:[Gg,Tv,kv],styles:['.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;inset:-50px 0 0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:white}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;inset:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}\n',".CodeMirror{resize:both;max-width:100%;max-height:100%}.editor-container{position:relative;display:block;border-style:solid;border-color:#00a9e0;overflow:hidden;max-width:100%;max-height:100%;background-color:#add8e6}.cm-rule_separator{color:#0900ff;font-weight:700}.cm-liger_node_var{color:#00c4ff}.cm-liger_val_var{color:#08d700}.cm-liger_conjunction{color:red}.cm-angular_brackets{color:#d100ff}.CodeMirror-matchingbracket{background-color:#ffa50080!important;border-radius:3px}.CodeMirror-nonmatchingbracket{background-color:#ff0000b3!important;border-radius:3px}\n"],encapsulation:2}),t})();var fj=D(6100),js=D.n(fj),hj=D(7944),O0=D.n(hj),Uv=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",pj=function(){for(var t=["Edge","Trident","Firefox"],n=0;n<t.length;n+=1)if(Uv&&navigator.userAgent.indexOf(t[n])>=0)return 1;return 0}(),yj=Uv&&window.Promise?function gj(t){var n=!1;return function(){n||(n=!0,window.Promise.resolve().then(function(){n=!1,t()}))}}:function mj(t){var n=!1;return function(){n||(n=!0,setTimeout(function(){n=!1,t()},pj))}};function CN(t){return t&&"[object Function]"==={}.toString.call(t)}function mp(t,n){if(1!==t.nodeType)return[];var r=t.ownerDocument.defaultView.getComputedStyle(t,null);return n?r[n]:r}function ex(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function Gv(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var n=mp(t);return/(auto|scroll|overlay)/.test(n.overflow+n.overflowY+n.overflowX)?t:Gv(ex(t))}function EN(t){return t&&t.referenceNode?t.referenceNode:t}var xN=Uv&&!(!window.MSInputMethodContext||!document.documentMode),DN=Uv&&/MSIE 10/.test(navigator.userAgent);function Kg(t){return 11===t?xN:10===t?DN:xN||DN}function Zg(t){if(!t)return document.documentElement;for(var n=Kg(10)?document.body:null,e=t.offsetParent||null;e===n&&t.nextElementSibling;)e=(t=t.nextElementSibling).offsetParent;var r=e&&e.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(e.nodeName)&&"static"===mp(e,"position")?Zg(e):e:t?t.ownerDocument.documentElement:document.documentElement}function tx(t){return null!==t.parentNode?tx(t.parentNode):t}function N0(t,n){if(!(t&&t.nodeType&&n&&n.nodeType))return document.documentElement;var e=t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,r=e?t:n,i=e?n:t,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);var c=s.commonAncestorContainer;if(t!==c&&n!==c||r.contains(i))return function bj(t){var n=t.nodeName;return"BODY"!==n&&("HTML"===n||Zg(t.firstElementChild)===t)}(c)?c:Zg(c);var m=tx(t);return m.host?N0(m.host,n):N0(t,tx(n).host)}function qg(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",r=t.nodeName;return"BODY"===r||"HTML"===r?(t.ownerDocument.scrollingElement||t.ownerDocument.documentElement)[e]:t[e]}function TN(t,n){var e="x"===n?"Left":"Top",r="Left"===e?"Right":"Bottom";return parseFloat(t["border"+e+"Width"])+parseFloat(t["border"+r+"Width"])}function SN(t,n,e,r){return Math.max(n["offset"+t],n["scroll"+t],e["client"+t],e["offset"+t],e["scroll"+t],Kg(10)?parseInt(e["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function MN(t){var n=t.body,e=t.documentElement,r=Kg(10)&&getComputedStyle(e);return{height:SN("Height",n,e,r),width:SN("Width",n,e,r)}}var Cj=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),Qg=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t},pu=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};function oh(t){return pu({},t,{right:t.left+t.width,bottom:t.top+t.height})}function nx(t){var n={};try{if(Kg(10)){n=t.getBoundingClientRect();var e=qg(t,"top"),r=qg(t,"left");n.top+=e,n.left+=r,n.bottom+=e,n.right+=r}else n=t.getBoundingClientRect()}catch{}var i={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},s="HTML"===t.nodeName?MN(t.ownerDocument):{},_=t.offsetWidth-(s.width||t.clientWidth||i.width),R=t.offsetHeight-(s.height||t.clientHeight||i.height);if(_||R){var U=mp(t);_-=TN(U,"x"),R-=TN(U,"y"),i.width-=_,i.height-=R}return oh(i)}function rx(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Kg(10),i="HTML"===n.nodeName,s=nx(t),c=nx(n),m=Gv(t),_=mp(n),R=parseFloat(_.borderTopWidth),U=parseFloat(_.borderLeftWidth);e&&i&&(c.top=Math.max(c.top,0),c.left=Math.max(c.left,0));var K=oh({top:s.top-c.top-R,left:s.left-c.left-U,width:s.width,height:s.height});if(K.marginTop=0,K.marginLeft=0,!r&&i){var ge=parseFloat(_.marginTop),be=parseFloat(_.marginLeft);K.top-=R-ge,K.bottom-=R-ge,K.left-=U-be,K.right-=U-be,K.marginTop=ge,K.marginLeft=be}return(r&&!e?n.contains(m):n===m&&"BODY"!==m.nodeName)&&(K=function wj(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=qg(n,"top"),i=qg(n,"left"),s=e?-1:1;return t.top+=r*s,t.bottom+=r*s,t.left+=i*s,t.right+=i*s,t}(K,n)),K}function IN(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===mp(t,"position"))return!0;var e=ex(t);return!!e&&IN(e)}function AN(t){if(!t||!t.parentElement||Kg())return document.documentElement;for(var n=t.parentElement;n&&"none"===mp(n,"transform");)n=n.parentElement;return n||document.documentElement}function ix(t,n,e,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},c=i?AN(t):N0(t,EN(n));if("viewport"===r)s=function Ej(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=t.ownerDocument.documentElement,r=rx(t,e),i=Math.max(e.clientWidth,window.innerWidth||0),s=Math.max(e.clientHeight,window.innerHeight||0),c=n?0:qg(e),m=n?0:qg(e,"left");return oh({top:c-r.top+r.marginTop,left:m-r.left+r.marginLeft,width:i,height:s})}(c,i);else{var m=void 0;"scrollParent"===r?"BODY"===(m=Gv(ex(n))).nodeName&&(m=t.ownerDocument.documentElement):m="window"===r?t.ownerDocument.documentElement:r;var _=rx(m,c,i);if("HTML"!==m.nodeName||IN(c))s=_;else{var R=MN(t.ownerDocument),U=R.height,K=R.width;s.top+=_.top-_.marginTop,s.bottom=U+_.top,s.left+=_.left-_.marginLeft,s.right=K+_.left}}var ge="number"==typeof(e=e||0);return s.left+=ge?e:e.left||0,s.top+=ge?e:e.top||0,s.right-=ge?e:e.right||0,s.bottom-=ge?e:e.bottom||0,s}function xj(t){return t.width*t.height}function ON(t,n,e,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var c=ix(e,r,s,i),m={top:{width:c.width,height:n.top-c.top},right:{width:c.right-n.right,height:c.height},bottom:{width:c.width,height:c.bottom-n.bottom},left:{width:n.left-c.left,height:c.height}},_=Object.keys(m).map(function(ge){return pu({key:ge},m[ge],{area:xj(m[ge])})}).sort(function(ge,be){return be.area-ge.area}),R=_.filter(function(ge){return ge.width>=e.clientWidth&&ge.height>=e.clientHeight}),U=R.length>0?R[0].key:_[0].key,K=t.split("-")[1];return U+(K?"-"+K:"")}function NN(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return rx(e,r?AN(n):N0(n,EN(e)),r)}function RN(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),r=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+r}}function R0(t){var n={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(e){return n[e]})}function kN(t,n,e){e=e.split("-")[0];var r=RN(t),i={width:r.width,height:r.height},s=-1!==["right","left"].indexOf(e),c=s?"top":"left",m=s?"left":"top",_=s?"height":"width",R=s?"width":"height";return i[c]=n[c]+n[_]/2-r[_]/2,i[m]=e===m?n[m]-r[R]:n[R0(m)],i}function jv(t,n){return Array.prototype.find?t.find(n):t.filter(n)[0]}function PN(t,n,e){var r=void 0===e?t:t.slice(0,function Dj(t,n,e){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[n]===e});var r=jv(t,function(i){return i[n]===e});return t.indexOf(r)}(t,"name",e));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var s=i.function||i.fn;i.enabled&&CN(s)&&(n.offsets.popper=oh(n.offsets.popper),n.offsets.reference=oh(n.offsets.reference),n=s(n,i))}),n}function Tj(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=NN(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=ON(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=kN(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=PN(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function LN(t,n){return t.some(function(e){return e.enabled&&e.name===n})}function ox(t){for(var n=[!1,"ms","Webkit","Moz","O"],e=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<n.length;r++){var i=n[r],s=i?""+i+e:t;if(typeof document.body.style[s]<"u")return s}return null}function Sj(){return this.state.isDestroyed=!0,LN(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[ox("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function FN(t){var n=t.ownerDocument;return n?n.defaultView:window}function BN(t,n,e,r){var i="BODY"===t.nodeName,s=i?t.ownerDocument.defaultView:t;s.addEventListener(n,e,{passive:!0}),i||BN(Gv(s.parentNode),n,e,r),r.push(s)}function Mj(t,n,e,r){e.updateBound=r,FN(t).addEventListener("resize",e.updateBound,{passive:!0});var i=Gv(t);return BN(i,"scroll",e.updateBound,e.scrollParents),e.scrollElement=i,e.eventsEnabled=!0,e}function Ij(){this.state.eventsEnabled||(this.state=Mj(this.reference,0,this.state,this.scheduleUpdate))}function Oj(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function Aj(t,n){return FN(t).removeEventListener("resize",n.updateBound),n.scrollParents.forEach(function(e){e.removeEventListener("scroll",n.updateBound)}),n.updateBound=null,n.scrollParents=[],n.scrollElement=null,n.eventsEnabled=!1,n}(this.reference,this.state))}function ax(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function sx(t,n){Object.keys(n).forEach(function(e){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&ax(n[e])&&(r="px"),t.style[e]=n[e]+r})}var Lj=Uv&&/Firefox/i.test(navigator.userAgent);function VN(t,n,e){var r=jv(t,function(m){return m.name===n}),i=!!r&&t.some(function(m){return m.name===e&&m.enabled&&m.order<r.order});if(!i){var s="`"+n+"`";console.warn("`"+e+"` modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return i}var HN=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],lx=HN.slice(3);function zN(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=lx.indexOf(t),r=lx.slice(e+1).concat(lx.slice(0,e));return n?r.reverse():r}var Zj={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function $j(t){var n=t.placement,e=n.split("-")[0],r=n.split("-")[1];if(r){var i=t.offsets,s=i.reference,c=i.popper,m=-1!==["bottom","top"].indexOf(e),_=m?"left":"top",R=m?"width":"height",U={start:Qg({},_,s[_]),end:Qg({},_,s[_]+s[R]-c[R])};t.offsets.popper=pu({},c,U[r])}return t}},offset:{order:200,enabled:!0,fn:function jj(t,n){var _,e=n.offset,i=t.offsets,s=i.popper,c=i.reference,m=t.placement.split("-")[0];return _=ax(+e)?[+e,0]:function Gj(t,n,e,r){var i=[0,0],s=-1!==["right","left"].indexOf(r),c=t.split(/(\+|\-)/).map(function(U){return U.trim()}),m=c.indexOf(jv(c,function(U){return-1!==U.search(/,|\s/)}));c[m]&&-1===c[m].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var _=/\s*,\s*|\s+/,R=-1!==m?[c.slice(0,m).concat([c[m].split(_)[0]]),[c[m].split(_)[1]].concat(c.slice(m+1))]:[c];return R=R.map(function(U,K){var ge=(1===K?!s:s)?"height":"width",be=!1;return U.reduce(function(Ae,Fe){return""===Ae[Ae.length-1]&&-1!==["+","-"].indexOf(Fe)?(Ae[Ae.length-1]=Fe,be=!0,Ae):be?(Ae[Ae.length-1]+=Fe,be=!1,Ae):Ae.concat(Fe)},[]).map(function(Ae){return function Uj(t,n,e,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+i[1],c=i[2];return s?0===c.indexOf("%")?oh("%p"===c?e:r)[n]/100*s:"vh"===c||"vw"===c?("vh"===c?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s:s:t}(Ae,ge,n,e)})}),R.forEach(function(U,K){U.forEach(function(ge,be){ax(ge)&&(i[K]+=ge*("-"===U[be-1]?-1:1))})}),i}(e,s,c,m),"left"===m?(s.top+=_[0],s.left-=_[1]):"right"===m?(s.top+=_[0],s.left+=_[1]):"top"===m?(s.left+=_[0],s.top-=_[1]):"bottom"===m&&(s.left+=_[0],s.top+=_[1]),t.popper=s,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function Wj(t,n){var e=n.boundariesElement||Zg(t.instance.popper);t.instance.reference===e&&(e=Zg(e));var r=ox("transform"),i=t.instance.popper.style,s=i.top,c=i.left,m=i[r];i.top="",i.left="",i[r]="";var _=ix(t.instance.popper,t.instance.reference,n.padding,e,t.positionFixed);i.top=s,i.left=c,i[r]=m,n.boundaries=_;var U=t.offsets.popper,K={primary:function(be){var Ae=U[be];return U[be]<_[be]&&!n.escapeWithReference&&(Ae=Math.max(U[be],_[be])),Qg({},be,Ae)},secondary:function(be){var Ae="right"===be?"left":"top",Fe=U[Ae];return U[be]>_[be]&&!n.escapeWithReference&&(Fe=Math.min(U[Ae],_[be]-("right"===be?U.width:U.height))),Qg({},Ae,Fe)}};return n.priority.forEach(function(ge){var be=-1!==["left","top"].indexOf(ge)?"primary":"secondary";U=pu({},U,K[be](ge))}),t.offsets.popper=U,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function zj(t){var n=t.offsets,e=n.popper,r=n.reference,i=t.placement.split("-")[0],s=Math.floor,c=-1!==["top","bottom"].indexOf(i),m=c?"right":"bottom",_=c?"left":"top",R=c?"width":"height";return e[m]<s(r[_])&&(t.offsets.popper[_]=s(r[_])-e[R]),e[_]>s(r[m])&&(t.offsets.popper[_]=s(r[m])),t}},arrow:{order:500,enabled:!0,fn:function Bj(t,n){var e;if(!VN(t.instance.modifiers,"arrow","keepTogether"))return t;var r=n.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],s=t.offsets,c=s.popper,m=s.reference,_=-1!==["left","right"].indexOf(i),R=_?"height":"width",U=_?"Top":"Left",K=U.toLowerCase(),ge=_?"left":"top",be=_?"bottom":"right",Ae=RN(r)[R];m[be]-Ae<c[K]&&(t.offsets.popper[K]-=c[K]-(m[be]-Ae)),m[K]+Ae>c[be]&&(t.offsets.popper[K]+=m[K]+Ae-c[be]),t.offsets.popper=oh(t.offsets.popper);var Fe=m[K]+m[R]/2-Ae/2,it=mp(t.instance.popper),gt=parseFloat(it["margin"+U]),Qe=parseFloat(it["border"+U+"Width"]),yt=Fe-t.offsets.popper[K]-gt-Qe;return yt=Math.max(Math.min(c[R]-Ae,yt),0),t.arrowElement=r,t.offsets.arrow=(Qg(e={},K,Math.round(yt)),Qg(e,ge,""),e),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function Hj(t,n){if(LN(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var e=ix(t.instance.popper,t.instance.reference,n.padding,n.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=R0(r),s=t.placement.split("-")[1]||"",c=[];switch(n.behavior){case"flip":c=[r,i];break;case"clockwise":c=zN(r);break;case"counterclockwise":c=zN(r,!0);break;default:c=n.behavior}return c.forEach(function(m,_){if(r!==m||c.length===_+1)return t;r=t.placement.split("-")[0],i=R0(r);var R=t.offsets.popper,U=t.offsets.reference,K=Math.floor,ge="left"===r&&K(R.right)>K(U.left)||"right"===r&&K(R.left)<K(U.right)||"top"===r&&K(R.bottom)>K(U.top)||"bottom"===r&&K(R.top)<K(U.bottom),be=K(R.left)<K(e.left),Ae=K(R.right)>K(e.right),Fe=K(R.top)<K(e.top),it=K(R.bottom)>K(e.bottom),gt="left"===r&&be||"right"===r&&Ae||"top"===r&&Fe||"bottom"===r&&it,Qe=-1!==["top","bottom"].indexOf(r),Bn=!!n.flipVariations&&(Qe&&"start"===s&&be||Qe&&"end"===s&&Ae||!Qe&&"start"===s&&Fe||!Qe&&"end"===s&&it)||!!n.flipVariationsByContent&&(Qe&&"start"===s&&Ae||Qe&&"end"===s&&be||!Qe&&"start"===s&&it||!Qe&&"end"===s&&Fe);(ge||gt||Bn)&&(t.flipped=!0,(ge||gt)&&(r=c[_+1]),Bn&&(s=function Vj(t){return"end"===t?"start":"start"===t?"end":t}(s)),t.placement=r+(s?"-"+s:""),t.offsets.popper=pu({},t.offsets.popper,kN(t.instance.popper,t.offsets.reference,t.placement)),t=PN(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function Xj(t){var n=t.placement,e=n.split("-")[0],r=t.offsets,i=r.popper,s=r.reference,c=-1!==["left","right"].indexOf(e),m=-1===["top","left"].indexOf(e);return i[c?"left":"top"]=s[e]-(m?i[c?"width":"height"]:0),t.placement=R0(n),t.offsets.popper=oh(i),t}},hide:{order:800,enabled:!0,fn:function Yj(t){if(!VN(t.instance.modifiers,"hide","preventOverflow"))return t;var n=t.offsets.reference,e=jv(t.instance.modifiers,function(r){return"preventOverflow"===r.name}).boundaries;if(n.bottom<e.top||n.left>e.right||n.top>e.bottom||n.right<e.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function Fj(t,n){var e=n.x,r=n.y,i=t.offsets.popper,s=jv(t.instance.modifiers,function(yt){return"applyStyle"===yt.name}).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var Ae,Fe,c=void 0!==s?s:n.gpuAcceleration,m=Zg(t.instance.popper),_=nx(m),R={position:i.position},U=function Pj(t,n){var e=t.offsets,r=e.popper,s=Math.round,c=Math.floor,m=function(gt){return gt},_=s(e.reference.width),R=s(r.width),U=-1!==["left","right"].indexOf(t.placement),K=-1!==t.placement.indexOf("-"),Ae=n?U||K||_%2==R%2?s:c:m,Fe=n?s:m;return{left:Ae(_%2==1&&R%2==1&&!K&&n?r.left-1:r.left),top:Fe(r.top),bottom:Fe(r.bottom),right:Ae(r.right)}}(t,window.devicePixelRatio<2||!Lj),K="bottom"===e?"top":"bottom",ge="right"===r?"left":"right",be=ox("transform");if(Fe="bottom"===K?"HTML"===m.nodeName?-m.clientHeight+U.bottom:-_.height+U.bottom:U.top,Ae="right"===ge?"HTML"===m.nodeName?-m.clientWidth+U.right:-_.width+U.right:U.left,c&&be)R[be]="translate3d("+Ae+"px, "+Fe+"px, 0)",R[K]=0,R[ge]=0,R.willChange="transform";else{var gt="right"===ge?-1:1;R[K]=Fe*("bottom"===K?-1:1),R[ge]=Ae*gt,R.willChange=K+", "+ge}return t.attributes=pu({},{"x-placement":t.placement},t.attributes),t.styles=pu({},R,t.styles),t.arrowStyles=pu({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function Rj(t){return sx(t.instance.popper,t.styles),function Nj(t,n){Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})}(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&sx(t.arrowElement,t.arrowStyles),t},onLoad:function kj(t,n,e,r,i){var s=NN(i,n,t,e.positionFixed),c=ON(e.placement,s,n,t,e.modifiers.flip.boundariesElement,e.modifiers.flip.padding);return n.setAttribute("x-placement",c),sx(n,{position:e.positionFixed?"fixed":"absolute"}),e},gpuAcceleration:void 0}}},k0=function(){function t(n,e){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=yj(this.update.bind(this)),this.options=pu({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n&&n.jquery?n[0]:n,this.popper=e&&e.jquery?e[0]:e,this.options.modifiers={},Object.keys(pu({},t.Defaults.modifiers,i.modifiers)).forEach(function(c){r.options.modifiers[c]=pu({},t.Defaults.modifiers[c]||{},i.modifiers?i.modifiers[c]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(c){return pu({name:c},r.options.modifiers[c])}).sort(function(c,m){return c.order-m.order}),this.modifiers.forEach(function(c){c.enabled&&CN(c.onLoad)&&c.onLoad(r.reference,r.popper,r.options,c,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return Cj(t,[{key:"update",value:function(){return Tj.call(this)}},{key:"destroy",value:function(){return Sj.call(this)}},{key:"enableEventListeners",value:function(){return Ij.call(this)}},{key:"disableEventListeners",value:function(){return Oj.call(this)}}]),t}();k0.Utils=(typeof window<"u"?window:global).PopperUtils,k0.placements=HN,k0.Defaults=Zj;const qj=k0;function Ws(){return Ws=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Ws.apply(this,arguments)}var Wv=typeof window<"u"&&typeof document<"u",UN=Wv?navigator.userAgent:"",GN=/MSIE |Trident\//.test(UN),jN=/UCBrowser\//.test(UN),WN=Wv&&/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,Yc={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrow:!1,arrowType:"sharp",boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},placement:"top",popperOptions:{},role:"tooltip",showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,wait:null,zIndex:9999},eW=["arrow","arrowType","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],$v=Wv?Element.prototype:{},cx=$v.matches||$v.matchesSelector||$v.webkitMatchesSelector||$v.mozMatchesSelector||$v.msMatchesSelector;function Yv(t){return[].slice.call(t)}function P0(t,n){return dx(t,function(e){return cx.call(e,n)})}function dx(t,n){for(;t;){if(n(t))return t;t=t.parentElement}return null}var fx={passive:!0},hx=4,px="x-placement",gx="x-out-of-boundaries",$N="tippy-iOS",YN="tippy-active",XN="tippy-popper",KN="tippy-tooltip",ZN="tippy-content",qN="tippy-backdrop",QN="tippy-arrow",JN="tippy-roundarrow",mx=".".concat(XN),tW=".".concat(KN),nW=".".concat(ZN),rW=".".concat(qN),iW=".".concat(QN),oW=".".concat(JN),ah=!1;function aW(){ah||(ah=!0,WN&&document.body.classList.add($N),window.performance&&document.addEventListener("mousemove",tR))}var eR=0;function tR(){var t=performance.now();t-eR<20&&(ah=!1,document.removeEventListener("mousemove",tR),WN||document.body.classList.remove($N)),eR=t}function sW(){var n=document.activeElement;n&&n.blur&&n._tippy&&n.blur()}var uW=Object.keys(Yc);function L0(t,n){return{}.hasOwnProperty.call(t,n)}function F0(t,n,e){return Array.isArray(t)?t[n]??e:t}function nR(t,n){return 0===n?t:function(r){clearTimeout(e),e=setTimeout(function(){t(r)},n)};var e}function B0(t,n){return t&&t.modifiers&&t.modifiers[n]}function vx(t,n){return t.indexOf(n)>-1}function Xv(t){return t instanceof Element}function rR(t){return!(!t||!L0(t,"isVirtual"))||Xv(t)}function yx(t,n){return"function"==typeof t?t.apply(null,n):t}function oR(t,n){t.filter(function(e){return"flip"===e.name})[0].enabled=n}function Kv(){return document.createElement("div")}function Zv(t,n){t.forEach(function(e){e&&(e.style.transitionDuration="".concat(n,"ms"))})}function aR(t,n){t.forEach(function(e){e&&e.setAttribute("data-state",n)})}function sR(t,n){var e=Ws({},n,{content:yx(n.content,[t])},n.ignoreAttributes?{}:function cW(t){return uW.reduce(function(n,e){var r=(t.getAttribute("data-tippy-".concat(e))||"").trim();if(!r)return n;if("content"===e)n[e]=r;else try{n[e]=JSON.parse(r)}catch{n[e]=r}return n},{})}(t));return(e.arrow||jN)&&(e.animateFill=!1),e}function lR(t,n){Object.keys(t).forEach(function(e){if(!L0(n,e))throw new Error("[tippy]: `".concat(e,"` is not a valid option"))})}function uR(t,n){t.innerHTML=Xv(n)?n.innerHTML:n}function cR(t,n){Xv(n.content)?(uR(t,""),t.appendChild(n.content)):"function"!=typeof n.content&&(t[n.allowHTML?"innerHTML":"textContent"]=n.content)}function bx(t){return{tooltip:t.querySelector(tW),backdrop:t.querySelector(rW),content:t.querySelector(nW),arrow:t.querySelector(iW)||t.querySelector(oW)}}function dR(t){t.setAttribute("data-inertia","")}function wx(t){var n=Kv();return"round"===t?(n.className=JN,uR(n,'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>')):n.className=QN,n}function fR(){var t=Kv();return t.className=qN,t.setAttribute("data-state","hidden"),t}function hR(t,n){t.setAttribute("tabindex","-1"),n.setAttribute("data-interactive","")}function _x(t,n,e){var r=jN&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";t[n+"EventListener"](r,e)}function Cx(t){var n=t.getAttribute(px);return n?n.split("-")[0]:""}function Ex(t,n,e){e.split(" ").forEach(function(r){t.classList[n](r+"-theme")})}var xW=1,V0=[];function pR(t,n){var e=sR(t,n);if(!e.multiple&&t._tippy)return null;var r,i,s,c,m,U,be,Ae,it,_=!1,R=!1,K=!1,ge=!1,Fe=[],gt=nR(uy,e.interactiveDebounce),Qe=xW++,yt=function bW(t,n){var e=Kv();e.className=XN,e.id="tippy-".concat(t),e.style.zIndex=""+n.zIndex,e.style.position="absolute",e.style.top="0",e.style.left="0",n.role&&e.setAttribute("role",n.role);var r=Kv();r.className=KN,r.style.maxWidth=n.maxWidth+("number"==typeof n.maxWidth?"px":""),r.setAttribute("data-size",n.size),r.setAttribute("data-animation",n.animation),r.setAttribute("data-state","hidden"),Ex(r,"add",n.theme);var i=Kv();return i.className=ZN,i.setAttribute("data-state","hidden"),n.interactive&&hR(e,r),n.arrow&&r.appendChild(wx(n.arrowType)),n.animateFill&&(r.appendChild(fR()),r.setAttribute("data-animatefill","")),n.inertia&&dR(r),cR(i,n),r.appendChild(i),e.appendChild(r),e}(Qe,e),bn=bx(yt),ut={id:Qe,reference:t,popper:yt,popperChildren:bn,popperInstance:null,props:e,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},clearDelayTimeouts:nw,set:xk,setContent:function kY(Lt){xk({content:Lt})},show:$x,hide:cy,enable:function NY(){ut.state.isEnabled=!0},disable:function RY(){ut.state.isEnabled=!1},destroy:function PY(Lt){if(!ut.state.isDestroyed){R=!0,ut.state.isMounted&&cy(0),Bl(),delete t._tippy;var ir=ut.props.target;ir&&Lt&&Xv(t)&&Yv(t.querySelectorAll(ir)).forEach(function(pr){pr._tippy&&pr._tippy.destroy()}),ut.popperInstance&&ut.popperInstance.destroy(),R=!1,ut.state.isDestroyed=!0}}};return t._tippy=ut,yt._tippy=ut,ia(),e.lazy||ew(),e.showOnInit&&tw(),e.a11y&&!e.target&&!function gW(t){return!Xv(t)||cx.call(t,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!t.hasAttribute("disabled")}(ra())&&ra().setAttribute("tabindex","0"),yt.addEventListener("mouseenter",function(Lt){ut.props.interactive&&ut.state.isVisible&&"mouseenter"===r&&tw(Lt,!0)}),yt.addEventListener("mouseleave",function(){ut.props.interactive&&"mouseenter"===r&&document.addEventListener("mousemove",gt)}),ut;function $s(){document.removeEventListener("mousemove",Ua)}function dl(){document.body.removeEventListener("mouseleave",Cp),document.removeEventListener("mousemove",gt),V0=V0.filter(function(Lt){return Lt!==gt})}function ra(){return ut.props.triggerTarget||t}function ly(){document.addEventListener("click",Ek,!0)}function lh(){document.removeEventListener("click",Ek,!0)}function Zc(){return[ut.popperChildren.tooltip,ut.popperChildren.backdrop,ut.popperChildren.content]}function om(){var Lt=ut.props.followCursor;return Lt&&"focus"!==r||ah&&"initial"===Lt}function Qn(Lt,ir){var pr=ut.popperChildren.tooltip;function Oo(uh){uh.target===pr&&(_x(pr,"remove",Oo),ir())}if(0===Lt)return ir();_x(pr,"remove",Ae),_x(pr,"add",Oo),Ae=Oo}function yr(Lt,ir){var pr=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ra().addEventListener(Lt,ir,pr),Fe.push({eventType:Lt,handler:ir,options:pr})}function ia(){ut.props.touchHold&&!ut.props.target&&(yr("touchstart",Xi,fx),yr("touchend",J0,fx)),ut.props.trigger.trim().split(" ").forEach(function(Lt){if("manual"!==Lt)if(ut.props.target)switch(Lt){case"mouseenter":yr("mouseover",qu),yr("mouseout",Ys);break;case"focus":yr("focusin",qu),yr("focusout",Ys);break;case"click":yr(Lt,qu)}else switch(yr(Lt,Xi),Lt){case"mouseenter":yr("mouseleave",J0);break;case"focus":yr(GN?"focusout":"blur",Ga)}})}function Bl(){Fe.forEach(function(Lt){var ir=Lt.eventType,pr=Lt.handler,Oo=Lt.options;ra().removeEventListener(ir,pr,Oo)}),Fe=[]}function Ua(Lt){var ir=i=Lt,pr=ir.clientX,Oo=ir.clientY;if(it){var uh=dx(Lt.target,function(Sk){return Sk===t}),Ep=t.getBoundingClientRect(),dy=ut.props.followCursor,Qu="horizontal"===dy,gu="vertical"===dy,Ju=vx(["top","bottom"],Cx(yt)),Xs=yt.getAttribute(px),uf=!!Xs&&!!Xs.split("-")[1],cf=Ju?yt.offsetWidth:yt.offsetHeight,rw=cf/2,Dk=Ju?0:uf?cf:rw,Tk=Ju?uf?cf:rw:0;(uh||!ut.props.interactive)&&(ut.popperInstance.reference=Ws({},ut.popperInstance.reference,{referenceNode:t,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:Ju?cf:0,height:Ju?0:cf,top:(Qu?Ep.top:Oo)-Dk,bottom:(Qu?Ep.bottom:Oo)+Dk,left:(gu?Ep.left:pr)-Tk,right:(gu?Ep.right:pr)+Tk}}}),ut.popperInstance.update()),"initial"===dy&&ut.state.isVisible&&$s()}}function Xi(Lt){!ut.state.isEnabled||_p(Lt)||(ut.state.isVisible||(r=Lt.type,Lt instanceof MouseEvent&&(i=Lt,V0.forEach(function(ir){return ir(Lt)}))),"click"===Lt.type&&!1!==ut.props.hideOnClick&&ut.state.isVisible?Cp():tw(Lt))}function uy(Lt){var ir=P0(Lt.target,mx)===yt,pr=dx(Lt.target,function(Oo){return Oo===t});ir||pr||function CW(t,n,e,r){if(!t)return!0;var i=e.clientX,s=e.clientY,c=r.interactiveBorder,m=r.distance;return n.top-s>("top"===t?c+m:c)||s-n.bottom>("bottom"===t?c+m:c)||n.left-i>("left"===t?c+m:c)||i-n.right>("right"===t?c+m:c)}(Cx(yt),yt.getBoundingClientRect(),Lt,ut.props)&&(dl(),Cp())}function J0(Lt){if(!_p(Lt)){if(ut.props.interactive)return document.body.addEventListener("mouseleave",Cp),document.addEventListener("mousemove",gt),void V0.push(gt);Cp()}}function Ga(Lt){Lt.target===ra()&&(ut.props.interactive&&Lt.relatedTarget&&yt.contains(Lt.relatedTarget)||Cp())}function qu(Lt){P0(Lt.target,ut.props.target)&&tw(Lt)}function Ys(Lt){P0(Lt.target,ut.props.target)&&Cp()}function _p(Lt){var ir="ontouchstart"in window,pr=vx(Lt.type,"touch"),Oo=ut.props.touchHold;return ir&&ah&&Oo&&!pr||ah&&!Oo&&pr}function am(){!ge&&be&&(ge=!0,be())}function ew(){var Lt=ut.props.popperOptions,ir=ut.popperChildren,pr=ir.tooltip,Oo=ir.arrow,uh=B0(Lt,"preventOverflow");function Ep(Qu){ut.props.flip&&!ut.props.flipOnUpdate&&(Qu.flipped&&(ut.popperInstance.options.placement=Qu.placement),oR(ut.popperInstance.modifiers,!1)),pr.setAttribute(px,Qu.placement),!1!==Qu.attributes[gx]?pr.setAttribute(gx,""):pr.removeAttribute(gx),U&&U!==Qu.placement&&K&&(pr.style.transition="none",requestAnimationFrame(function(){pr.style.transition=""})),U=Qu.placement,K=ut.state.isVisible;var gu=Cx(yt),Ju=pr.style;Ju.top=Ju.bottom=Ju.left=Ju.right="",Ju[gu]=function EW(t){return-(t-10)+"px"}(ut.props.distance);var Xs=uh&&void 0!==uh.padding?uh.padding:hx,uf="number"==typeof Xs,cf=Ws({top:uf?Xs:Xs.top,bottom:uf?Xs:Xs.bottom,left:uf?Xs:Xs.left,right:uf?Xs:Xs.right},!uf&&Xs);cf[gu]=uf?Xs+ut.props.distance:(Xs[gu]||0)+ut.props.distance,ut.popperInstance.modifiers.filter(function(rw){return"preventOverflow"===rw.name})[0].padding=cf,it=cf}var dy=Ws({eventsEnabled:!1,placement:ut.props.placement},Lt,{modifiers:Ws({},Lt?Lt.modifiers:{},{preventOverflow:Ws({boundariesElement:ut.props.boundary,padding:hx},uh),arrow:Ws({element:Oo,enabled:!!Oo},B0(Lt,"arrow")),flip:Ws({enabled:ut.props.flip,padding:ut.props.distance+hx,behavior:ut.props.flipBehavior},B0(Lt,"flip")),offset:Ws({offset:ut.props.offset},B0(Lt,"offset"))}),onCreate:function(gu){Ep(gu),am(),Lt&&Lt.onCreate&&Lt.onCreate(gu)},onUpdate:function(gu){Ep(gu),am(),Lt&&Lt.onUpdate&&Lt.onUpdate(gu)}});ut.popperInstance=new qj(t,yt,dy)}function tw(Lt,ir){if(nw(),!ut.state.isVisible){if(ut.props.target)return function qc(Lt){if(Lt){var ir=P0(Lt.target,ut.props.target);ir&&!ir._tippy&&pR(ir,Ws({},ut.props,{content:yx(n.content,[ir]),appendTo:n.appendTo,target:"",showOnInit:!0}))}}(Lt);if(_=!0,Lt&&!ir&&ut.props.onTrigger(ut,Lt),ut.props.wait)return ut.props.wait(ut,Lt);om()&&!ut.state.isMounted&&(ut.popperInstance||ew(),document.addEventListener("mousemove",Ua)),ly();var pr=F0(ut.props.delay,0,Yc.delay);pr?s=setTimeout(function(){$x()},pr):$x()}}function Cp(){if(nw(),!ut.state.isVisible)return $s(),void lh();_=!1;var Lt=F0(ut.props.delay,1,Yc.delay);Lt?c=setTimeout(function(){ut.state.isVisible&&cy()},Lt):m=requestAnimationFrame(function(){cy()})}function Ek(Lt){ut.props.interactive&&yt.contains(Lt.target)||ra().contains(Lt.target)&&(ah||ut.state.isVisible&&vx(ut.props.trigger,"click"))||!0===ut.props.hideOnClick&&(nw(),cy())}function nw(){clearTimeout(s),clearTimeout(c),cancelAnimationFrame(m)}function xk(Lt){lR(Lt=Lt||{},Yc),Bl();var ir=ut.props,pr=sR(t,Ws({},ut.props,{},Lt,{ignoreAttributes:!0}));pr.ignoreAttributes=L0(Lt,"ignoreAttributes")?Lt.ignoreAttributes||!1:ir.ignoreAttributes,ut.props=pr,ia(),dl(),gt=nR(uy,pr.interactiveDebounce),function wW(t,n,e){var r=bx(t),i=r.tooltip,s=r.content,c=r.backdrop,m=r.arrow;t.style.zIndex=""+e.zIndex,i.setAttribute("data-size",e.size),i.setAttribute("data-animation",e.animation),i.style.maxWidth=e.maxWidth+("number"==typeof e.maxWidth?"px":""),e.role?t.setAttribute("role",e.role):t.removeAttribute("role"),n.content!==e.content&&cR(s,e),!n.animateFill&&e.animateFill?(i.appendChild(fR()),i.setAttribute("data-animatefill","")):n.animateFill&&!e.animateFill&&(i.removeChild(c),i.removeAttribute("data-animatefill")),!n.arrow&&e.arrow?i.appendChild(wx(e.arrowType)):n.arrow&&!e.arrow&&i.removeChild(m),n.arrow&&e.arrow&&n.arrowType!==e.arrowType&&i.replaceChild(wx(e.arrowType),m),!n.interactive&&e.interactive?hR(t,i):n.interactive&&!e.interactive&&function vW(t,n){t.removeAttribute("tabindex"),n.removeAttribute("data-interactive")}(t,i),!n.inertia&&e.inertia?dR(i):n.inertia&&!e.inertia&&function mW(t){t.removeAttribute("data-inertia")}(i),n.theme!==e.theme&&(Ex(i,"remove",n.theme),Ex(i,"add",e.theme))}(yt,ir,pr),ut.popperChildren=bx(yt),ut.popperInstance&&(eW.some(function(Oo){return L0(Lt,Oo)&&Lt[Oo]!==ir[Oo]})?(ut.popperInstance.destroy(),ew(),ut.state.isVisible&&ut.popperInstance.enableEventListeners(),ut.props.followCursor&&i&&Ua(i)):ut.popperInstance.update())}function $x(){var Lt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F0(ut.props.duration,0,Yc.duration[1]);if(!ut.state.isDestroyed&&ut.state.isEnabled&&(!ah||ut.props.touch)&&!ra().hasAttribute("disabled")&&!1!==ut.props.onShow(ut)){ly(),yt.style.visibility="visible",ut.state.isVisible=!0,ut.props.interactive&&ra().classList.add(YN);var ir=Zc();Zv(ir.concat(yt),0),be=function(){if(ut.state.isVisible){var Oo=om();Oo&&i?Ua(i):Oo||ut.popperInstance.update(),ut.popperChildren.backdrop&&(ut.popperChildren.content.style.transitionDelay=Math.round(Lt/12)+"ms"),ut.props.sticky&&function Q0(){Zv([yt],GN?0:ut.props.updateDuration);var Lt=t.getBoundingClientRect();!function ir(){var pr=t.getBoundingClientRect();(Lt.top!==pr.top||Lt.right!==pr.right||Lt.bottom!==pr.bottom||Lt.left!==pr.left)&&ut.popperInstance.scheduleUpdate(),Lt=pr,ut.state.isMounted&&requestAnimationFrame(ir)}()}(),Zv([yt],ut.props.updateDuration),Zv(ir,Lt),aR(ir,"visible"),function jn(Lt,ir){Qn(Lt,ir)}(Lt,function(){ut.props.aria&&ra().setAttribute("aria-".concat(ut.props.aria),yt.id),ut.props.onShown(ut),ut.state.isShown=!0})}},function OY(){ge=!1;var Lt=om();ut.popperInstance?(oR(ut.popperInstance.modifiers,ut.props.flip),Lt||(ut.popperInstance.reference=t,ut.popperInstance.enableEventListeners()),ut.popperInstance.scheduleUpdate()):(ew(),Lt||ut.popperInstance.enableEventListeners());var ir=ut.props.appendTo,pr="parent"===ir?t.parentNode:yx(ir,[t]);pr.contains(yt)||(pr.appendChild(yt),ut.props.onMount(ut),ut.state.isMounted=!0)}()}}function cy(){var Lt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F0(ut.props.duration,1,Yc.duration[1]);if(!ut.state.isDestroyed&&(ut.state.isEnabled||R)&&(!1!==ut.props.onHide(ut)||R)){lh(),yt.style.visibility="hidden",ut.state.isVisible=!1,ut.state.isShown=!1,K=!1,ut.props.interactive&&ra().classList.remove(YN);var ir=Zc();Zv(ir,Lt),aR(ir,"hidden"),function On(Lt,ir){Qn(Lt,function(){!ut.state.isVisible&&yt.parentNode&&yt.parentNode.contains(yt)&&ir()})}(Lt,function(){_||$s(),ut.props.aria&&ra().removeAttribute("aria-".concat(ut.props.aria)),ut.popperInstance.disableEventListeners(),ut.popperInstance.options.placement=ut.props.placement,yt.parentNode.removeChild(yt),ut.props.onHidden(ut),ut.state.isMounted=!1})}}}var gR=!1;function vp(t,n){lR(n||{},Yc),gR||(function lW(){document.addEventListener("touchstart",aW,fx),window.addEventListener("blur",sW)}(),gR=!0);var e=Ws({},Yc,{},n);(function fW(t){return"[object Object]"==={}.toString.call(t)&&!t.addEventListener})(t)&&function dW(t){var n={isVirtual:!0,attributes:t.attributes||{},contains:function(){},setAttribute:function(i,s){t.attributes[i]=s},getAttribute:function(i){return t.attributes[i]},removeAttribute:function(i){delete t.attributes[i]},hasAttribute:function(i){return i in t.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(i){t.classList.classNames[i]=!0},remove:function(i){delete t.classList.classNames[i]},contains:function(i){return i in t.classList.classNames}}};for(var e in n)t[e]=n[e]}(t);var r=function pW(t){if(rR(t))return[t];if(t instanceof NodeList)return Yv(t);if(Array.isArray(t))return t;try{return Yv(document.querySelectorAll(t))}catch{return[]}}(t).reduce(function(i,s){var c=s&&pR(s,e);return c&&i.push(c),i},[]);return rR(t)?r[0]:r}vp.version="4.3.5",vp.defaults=Yc,vp.setDefaults=function(t){Object.keys(t).forEach(function(n){Yc[n]=t[n]})},vp.hideAll=function _W(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.exclude,e=t.duration;Yv(document.querySelectorAll(mx)).forEach(function(r){var i=r._tippy;if(i){var s=!1;n&&(s=function hW(t){return!!t._tippy&&!cx.call(t,mx)}(n)?i.reference===n:r===n.popper),s||i.hide(e)}})},vp.group=function DW(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.delay,r=void 0===e?t[0].props.delay:e,i=n.duration,s=void 0===i?0:i,c=!1;function m(ge){c=ge,K()}function _(ge){ge._originalProps.onShow(ge),t.forEach(function(be){be.set({duration:s}),be.state.isVisible&&be.hide()}),m(!0)}function R(ge){ge._originalProps.onHide(ge),m(!1)}function U(ge){ge._originalProps.onShown(ge),ge.set({duration:ge._originalProps.duration})}function K(){t.forEach(function(ge){ge.set({onShow:_,onShown:U,onHide:R,delay:c?[0,Array.isArray(r)?r[1]:r]:r,duration:c?s:ge._originalProps.duration})})}t.forEach(function(ge){ge._originalProps?ge.set(ge._originalProps):ge._originalProps=Ws({},ge.props)}),K()},Wv&&setTimeout(function TW(){Yv(document.querySelectorAll("[data-tippy]")).forEach(function(t){var n=t.getAttribute("data-tippy");n&&vp(t,{content:n})})}),function SW(t){if(Wv){var n=document.createElement("style");n.type="text/css",n.textContent=t,n.setAttribute("data-tippy-stylesheet","");var e=document.head,r=e.querySelector("style,link");r?e.insertBefore(n,r):e.appendChild(n)}}('.tippy-iOS{cursor:pointer!important;-webkit-tap-highlight-color:transparent}.tippy-popper{transition-timing-function:cubic-bezier(.165,.84,.44,1);max-width:calc(100% - 8px);pointer-events:none;outline:0}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-7px;bottom:-6.5px;-webkit-transform-origin:50% 0;transform-origin:50% 0;margin:0 3px}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 3px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(-10px);transform:perspective(700px) translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(60deg);transform:perspective(700px) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=top] [data-animation=scale]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px) scale(.5);transform:translateY(-10px) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-7px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;margin:0 3px}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(10px);transform:perspective(700px) translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(-60deg);transform:perspective(700px) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=scale]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px) scale(.5);transform:translateY(10px) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-12px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%;margin:3px 0}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(-10px);transform:perspective(700px) translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(-60deg);transform:perspective(700px) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=left] [data-animation=scale]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px) scale(.5);transform:translateX(-10px) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-12px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%;margin:3px 0}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(10px);transform:perspective(700px) translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(60deg);transform:perspective(700px) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=right] [data-animation=scale]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px) scale(.5);transform:translateX(10px) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:.25rem;font-size:.875rem;padding:.3125rem .5625rem;line-height:1.4;text-align:center;background-color:#333}.tippy-tooltip[data-size=small]{padding:.1875rem .375rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.375rem .75rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:initial}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] .tippy-roundarrow path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:18px;height:7px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}');const qv=vp;var MW=D(6827),IW=D.n(MW);js().use(IW()),js().use(O0());const AW=[{selector:'node[node_type="input"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="cnode"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="annotation"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="proj"]',style:{width:3,"line-color":"#ccc","line-style":"dashed","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:"edge[label]",style:{label:"data(label)","text-rotation":"autorotate","text-margin-x":15,"text-margin-y":0}}],OW=[{selector:'node[color="yellow"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="red"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="blue"]',style:{content:"data(id)",color:"back",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="green"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="orange"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"orange white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'edge[edge_type="default"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="external"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","line-style":"dashed","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="parent"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}];let NW=(()=>{class t{ngAfterViewInit(){"liger"==this.graphStyle?(this.styleArray=AW,this.layout="dagre"):"glue"==this.graphStyle&&(this.styleArray=OW,this.layout="cise"),this.cy=js()({container:document.getElementById(this.graphID),style:this.styleArray,layout:{name:this.layout}})}renderGraph(e){this.cy=js()({container:document.getElementById(this.graphID),elements:e,style:this.styleArray,layout:{name:this.layout}}),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy),"liger"==this.graphStyle?this.createAndBindLigerPoppers():"glue"==this.graphStyle&&this.createAndBindGswbPoppers()}makeLigerPopper(e){const r=e.popperRef();e.tippy=qv(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;if(s.hasOwnProperty("avp"))for(var c in s.avp)i.innerHTML=i.innerHTML+c+" : "+s.avp[c]+"<br>";return i},trigger:"manual"})}createAndBindLigerPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("avp")&&(this.makeLigerPopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}makeGswbPopper(e){const r=e.popperRef();e.tippy=qv(r,{content:()=>{let i=document.createElement("div");i.style.backgroundColor="black";var s=e._private.data;if(s.hasOwnProperty("solutions"))for(var c of s.solutions)i.innerHTML=i.innerHTML+c+"<br>";return i},trigger:"manual"})}createAndBindGswbPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("solutions")&&(this.makeGswbPopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-sub-graph"]],inputs:{graphStyle:"graphStyle",graphID:"graphID"},decls:2,vars:1,consts:[[1,"cy",3,"id"]],template:function(e,r){1&e&&(tt(0,"div"),Tn(1,"div",0),et()),2&e&&(Yt(1),tn("id",r.graphID))},styles:["div.cy[_ngcontent-%COMP%]{width:800px;height:600px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const RW=["subgraphVis"],kW=["subGraphDialog"];let xx=(()=>{class t{setContent(e){console.log(e),setTimeout(()=>{this.subgraphVis.renderGraph(e)},0)}showDialog(){this.subGraphDialog.nativeElement.show()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-sub-graph-dialog"]],viewQuery:function(e,r){if(1&e&&(zn(RW,5),zn(kW,5)),2&e){let i;In(i=An())&&(r.subgraphVis=i.first),In(i=An())&&(r.subGraphDialog=i.first)}},inputs:{subgraphID:"subgraphID",subgraphStyle:"subgraphStyle"},decls:7,vars:2,consts:[[1,"center-dialog"],["subGraphDialog",""],[3,"graphID","graphStyle"],["subgraphVis",""],[3,"click"]],template:function(e,r){if(1&e){const i=Vs();tt(0,"dialog",0,1)(2,"div"),Tn(3,"app-sub-graph",2,3),et(),tt(5,"button",4),Sn("click",function(){return Hn(i),bi(ll(1).close())}),wt(6," OK "),et()()}2&e&&(Yt(3),tn("graphID",r.subgraphID)("graphStyle",r.subgraphStyle))},dependencies:[NW],styles:[".center-dialog[_ngcontent-%COMP%]{position:fixed;z-index:9999;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),t})();const PW=["graphContainer"],LW=["subgraphDialog"];js().use(O0());const mR=[{selector:'node[color="yellow"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="red"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="blue"]',style:{content:"data(id)",color:"back",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="green"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="orange"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"orange white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="parent"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}];let vR=(()=>{class t{constructor(){this.defaultWidth="800px",this.defaultHeight="600px"}ngAfterViewInit(){this.cy=js()({container:document.getElementById(this.graphID),style:mR,layout:{name:"dagre"}})}handleNodeDoubleClick(e,r){console.log("Clicked node with id: ",e),setTimeout(()=>{this.subgraphDialog.setContent(r.graphElements)},0),setTimeout(()=>{this.subgraphDialog.showDialog()},0)}renderGraph(e){this.cy=js()({container:document.getElementById(this.graphID),elements:e,style:mR,layout:{name:"dagre"}}),this.createAndBindPoppers(),this.cy.on("dblclick","node",r=>{let i=r.target,s=i.id(),c=i.data();console.log(c),c.hasOwnProperty("subgraph")&&this.handleNodeDoubleClick(s,c.subgraph)})}makePopper(e){const r=e.popperRef();e.tippy=qv(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;if(s.hasOwnProperty("solutions"))for(var c of s.solutions)i.innerHTML=i.innerHTML+c+"<br>";return i},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("solutions")&&(this.makePopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}resizeToDefault(){const e=this.graphContainer.nativeElement;e.style.width=this.defaultWidth,e.style.height=this.defaultHeight}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-gswb-graph-vis"]],viewQuery:function(e,r){if(1&e&&(zn(PW,5),zn(LW,5)),2&e){let i;In(i=An())&&(r.graphContainer=i.first),In(i=An())&&(r.subgraphDialog=i.first)}},inputs:{graphID:"graphID"},decls:7,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[1,"resize",3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(e,r){1&e&&(tt(0,"div"),Tn(1,"div",0,1),tt(3,"button",2),Sn("click",function(){return r.resizeToDefault()}),wt(4,"Resize to Default"),et(),Tn(5,"app-sub-graph-dialog",3,4),et()),2&e&&(Yt(1),tn("id",r.graphID),Yt(4),tn("subgraphID","sub"+r.graphID)("subgraphStyle","glue"))},dependencies:[xx],styles:["div.cy[_ngcontent-%COMP%]{width:760px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const FW=["editorVis"],BW=["graphVis"];function VW(t,n){1&t&&(tt(0,"div",1),Tn(1,"app-editor",2,3),et()),2&t&&(Yt(1),tn("mode","glue"))}function HW(t,n){1&t&&(tt(0,"div",1),Tn(1,"app-gswb-graph-vis",4,5),et()),2&t&&(Yt(1),tn("graphID","gswbCy1"))}let zW=(()=>{class t{ngAfterViewInit(){this.showEditor=!1,this.showGraph=!1}editorVisUpdateContent(e){console.log(this.editorVis),this.editorVis.updateContent(e)}graphVisUpdateContent(e){console.log(this.graphVis),this.graphVis.renderGraph(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-derivation-container"]],viewQuery:function(e,r){if(1&e&&(zn(FW,5),zn(BW,5)),2&e){let i;In(i=An())&&(r.editorVis=i.first),In(i=An())&&(r.graphVis=i.first)}},decls:4,vars:2,consts:[["class","viscontainer",4,"ngIf"],[1,"viscontainer"],[3,"mode"],["editorVis",""],[3,"graphID"],["graphVis",""]],template:function(e,r){1&e&&(tt(0,"h3"),wt(1,"Derivation:"),et(),_r(2,VW,3,1,"div",0),_r(3,HW,3,1,"div",0)),2&e&&(Yt(2),tn("ngIf",r.showEditor),Yt(1),tn("ngIf",r.showGraph))},dependencies:[cu,Xg,vR],styles:["div.viscontainer[_ngcontent-%COMP%]{max-width:800px}"]}),t})();const UW=["dialog"],GW=["graphVis"],jW=["editorVis"];function WW(t,n){1&t&&(tt(0,"div"),Tn(1,"app-editor",4,5),et()),2&t&&(Yt(1),tn("mode","glue"))}function $W(t,n){1&t&&(tt(0,"div"),Tn(1,"app-gswb-graph-vis",6,7),et()),2&t&&(Yt(1),tn("graphID","gswbCy2"))}let yR=(()=>{class t{ngAfterViewInit(){this.showEdit=!1,this.showGraph=!1}setContent(e){console.log("Content of dialog window:",e),"string"==typeof e||e instanceof String?(this.showGraph=!1,this.showEdit=!0,e=e.toString(),setTimeout(()=>{this.editorVis?this.editorVis.updateContent(e):console.warn("Editor component not initialized yet")},0)):(this.showEdit=!1,this.showGraph=!0,setTimeout(()=>{this.graphVis?this.graphVis.renderGraph(e):console.warn("Graph component not initialized yet")},0))}showDialog(){this.dialog.nativeElement.show()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-dialog"]],viewQuery:function(e,r){if(1&e&&(zn(UW,5),zn(GW,5),zn(jW,5)),2&e){let i;In(i=An())&&(r.dialog=i.first),In(i=An())&&(r.graphVis=i.first),In(i=An())&&(r.editorVis=i.first)}},decls:10,vars:2,consts:[[1,"center-dialog"],["dialog",""],[4,"ngIf"],[3,"click"],[3,"mode"],["editorVis",""],[3,"graphID"],["graphVis",""]],template:function(e,r){if(1&e){const i=Vs();tt(0,"dialog",0,1)(2,"h3"),wt(3,"Derivation:"),et(),_r(4,WW,3,1,"div",2),_r(5,$W,3,1,"div",2),tt(6,"button",3),Sn("click",function(){return Hn(i),bi(ll(1).close())}),wt(7," OK "),et()(),tt(8,"button",3),Sn("click",function(){return r.showDialog()}),wt(9,"Open in new window"),et()}2&e&&(Yt(4),tn("ngIf",r.showEdit),Yt(1),tn("ngIf",r.showGraph))},dependencies:[cu,Xg,vR],styles:[".center-dialog[_ngcontent-%COMP%]{position:fixed;z-index:9999;top:50%;left:50%;transform:translate(-50%,-50%);min-width:800px;max-width:90%;border-style:solid;border-radius:25px;border-color:#00a9e0}dialog[_ngcontent-%COMP%]{max-width:90%}div[_ngcontent-%COMP%]{max-width:90%}"]}),t})(),Dx=(()=>{class t{constructor(e){this.fb=e,this.gswbPreferences={prover:0,debugging:!1,outputstyle:0,parseSem:!1,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:!1,naturalDeductionStyle:0},this.gswbPreferencesForm=this.fb.group({prover:[0,rE.required],outputstyle:[0,rE.required],parseSem:[!1],explain:[!1],debugging:[!1],ndstyle:[0,rE.required]})}onSubmit(){const e={prover:this.gswbPreferencesForm.value.prover,outputstyle:this.gswbPreferencesForm.value.outputstyle,parseSem:this.gswbPreferencesForm.value.parseSem,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:this.gswbPreferencesForm.value.explain,debugging:this.gswbPreferencesForm.value.debugging,naturalDeductionStyle:this.gswbPreferencesForm.value.ndstyle};console.log("Gswb preferences: ",e),this.gswbPreferences=e}}return t.\u0275fac=function(e){return new(e||t)(We(kU))},t.\u0275cmp=Or({type:t,selectors:[["app-gswb-settings"]],decls:49,vars:1,consts:[["novalidate","",3,"formGroup","ngSubmit"],["for","prover"],["formControlName","prover","id","prover","name","prover"],["value","0"],["value","1"],["value","2"],["value","3"],["for","outputstyle"],["formControlName","outputstyle","id","outputstyle","name","outputstyle"],["value","4"],["for","parseSem"],["type","checkbox","formControlName","parseSem","id","parseSem","name","parseSem"],["for","explain"],["type","checkbox","formControlName","explain","id","explain","name","explain"],["for","debugging"],["type","checkbox","formControlName","debugging","id","debugging","name","debugging"],["for","ndstyle"],["formControlName","ndstyle","id","ndstyle","name","ndstyle"]],template:function(e,r){1&e&&(tt(0,"h3"),wt(1,"Settings:"),et(),tt(2,"form",0),Sn("ngSubmit",function(){return r.onSubmit()}),tt(3,"div")(4,"label",1),wt(5,"Prover:"),et(),tt(6,"select",2)(7,"option",3),wt(8,"Hepple"),et(),tt(9,"option",4),wt(10,"Lev"),et(),tt(11,"option",5),wt(12,"Lev optimized "),et(),tt(13,"option",6),wt(14,"Multi stage proving"),et()()(),tt(15,"div")(16,"label",7),wt(17,"Output Style:"),et(),tt(18,"select",8)(19,"option",3),wt(20,"Plain"),et(),tt(21,"option",4),wt(22,"Prolog"),et(),tt(23,"option",6),wt(24,"NLTK"),et(),tt(25,"option",9),wt(26,"Prolog DRT"),et()()(),tt(27,"div")(28,"label",10),Tn(29,"input",11),wt(30," Parse Semantics "),et()(),tt(31,"div")(32,"label",12),Tn(33,"input",13),wt(34," Explanation "),et()(),tt(35,"div")(36,"label",14),Tn(37,"input",15),wt(38," Debugging "),et()(),tt(39,"div")(40,"label",16),wt(41,"Natural deduction style:"),et(),tt(42,"select",17)(43,"option",3),wt(44,"Full semantics"),et(),tt(45,"option",4),wt(46,"Reduced semantics"),et(),tt(47,"option",5),wt(48,"No semantics"),et()()()()),2&e&&(Yt(2),tn("formGroup",r.gswbPreferencesForm))},dependencies:[tO,uO,dO,nE,d0,Tv,UA,c0,bE],styles:["form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}div[_ngcontent-%COMP%]{flex-basis:50%;margin-bottom:10px}label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:5px}select[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{width:auto;margin-right:5px}"]}),t})();const YW=["edit1"],XW=["derivation"],KW=["sem1"],ZW=["log1"],qW=["dialog"],QW=["gswbPrefs"];function JW(t,n){1&t&&(tt(0,"span"),wt(1,"Calculate semantics"),et())}function e6(t,n){1&t&&Tn(0,"span",11)}function t6(t,n){1&t&&(tt(0,"span"),wt(1,"Loading..."),et())}let n6=(()=>{class t{constructor(e){this.dataService=e,this.loading=!1}calculateSemantics(){this.loading=!0,this.gswbPreferences.onSubmit();const e={premises:this.editor1.getContent(),gswbPreferences:this.gswbPreferences.gswbPreferences};this.dataService.gswbDeduce(e).subscribe(r=>{if(this.loading=!1,r.hasOwnProperty("solutions"))if(r.solutions.length>0){r.solutions.forEach(s=>{console.log(s),this.sem.updateContent(s)});let i=r.solutions.join("\n");this.sem.updateContent(i)}else this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] No solutions found.");else this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] No solutions found.");if(r.hasOwnProperty("log")&&this.log.updateContent(r.log),r.hasOwnProperty("derivation")&&this.gswbPreferences.gswbPreferences.explainFail)if(console.log(r.derivation),r.derivation.hasOwnProperty("graphElements")){console.log(r.derivation.graphElements),this.derivationContainer.showEditor=!1,this.derivationContainer.showGraph=!0;const i=r.derivation.graphElements;setTimeout(()=>{this.derivationContainer.graphVisUpdateContent(i)},0),this.dialog.setContent(i)}else this.derivationContainer.showGraph=!1,this.derivationContainer.showEditor=!0,setTimeout(()=>{this.derivationContainer.editorVisUpdateContent(r.derivation.toString())},0),this.dialog.setContent(r.derivation.toString())},r=>{console.log("ERROR: ",r),this.loading=!1,this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] An error occurred."),console.log("Sent following request: ",e)})}}return t.\u0275fac=function(e){return new(e||t)(We(Yg))},t.\u0275cmp=Or({type:t,selectors:[["app-gswb-vis"]],viewQuery:function(e,r){if(1&e&&(zn(YW,5),zn(XW,5),zn(KW,5),zn(ZW,5),zn(qW,5),zn(QW,5)),2&e){let i;In(i=An())&&(r.editor1=i.first),In(i=An())&&(r.derivationContainer=i.first),In(i=An())&&(r.sem=i.first),In(i=An())&&(r.log=i.first),In(i=An())&&(r.dialog=i.first),In(i=An())&&(r.gswbPreferences=i.first)}},decls:25,vars:6,consts:[[1,"editor-restr"],[3,"mode"],["edit1",""],["gswbPrefs",""],[3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["sem1",""],["log1",""],["derivation",""],["dialog",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,r){1&e&&(tt(0,"h3"),wt(1," Meaning constructors:\n"),et(),tt(2,"div",0),Tn(3,"app-editor",1,2),et(),Tn(5,"app-gswb-settings",null,3),tt(7,"button",4),Sn("click",function(){return r.calculateSemantics()}),_r(8,JW,2,0,"span",5),_r(9,e6,1,0,"span",6),_r(10,t6,2,0,"span",5),et(),tt(11,"h3"),wt(12," Semantics: "),et(),tt(13,"div",0),Tn(14,"app-editor",1,7),et(),tt(16,"h3"),wt(17,"Log:"),et(),tt(18,"div",0),Tn(19,"app-editor",1,8),et(),Tn(21,"app-derivation-container",null,9)(23,"app-dialog",null,10)),2&e&&(Yt(3),tn("mode","glue"),Yt(5),tn("ngIf",!r.loading),Yt(1),tn("ngIf",r.loading),Yt(1),tn("ngIf",r.loading),Yt(4),tn("mode","glue"),Yt(5),tn("mode","glue"))},dependencies:[cu,Xg,zW,yR,Dx],styles:[".spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}"]}),t})(),r6=(()=>{class t{constructor(){this.delete=new lr,this.calculateFromRule=new lr}onDelete(){this.delete.emit(this.data)}calculate(){this.calculateFromRule.emit(this.data)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-rule-list-element"]],inputs:{data:"data"},outputs:{delete:"delete",calculateFromRule:"calculateFromRule"},decls:7,vars:3,consts:[[1,"rule"],[3,"ngModel","ngModelChange"],[3,"click"]],template:function(e,r){1&e&&(tt(0,"div",0)(1,"textarea",1),Sn("ngModelChange",function(s){return r.data.rule.rule=s}),wt(2," "),et(),tt(3,"button",2),Sn("click",function(){return r.calculate()}),wt(4),et(),tt(5,"button",2),Sn("click",function(){return r.onDelete()}),wt(6,"Delete"),et()()),2&e&&(Yt(1),tn("ngModel",r.data.rule.rule),Yt(3),ob(" Calculate graph at rule: ",r.data.rule.index," (line ",r.data.rule.lineNumber,") "))},dependencies:[Gg,Tv,kv],styles:["div.rule[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{width:100%;resize:none}"]}),t})();function i6(t,n){if(1&t){const e=Vs();tt(0,"div",1)(1,"app-rule-list-element",2),Sn("delete",function(){const s=Hn(e).index;return bi(oi().removeElement(s))})("calculateFromRule",function(i){return Hn(e),bi(oi().calculateFromRuleList(i))}),et()()}if(2&t){const e=n.$implicit;Yt(1),tn("data",e)}}let o6=(()=>{class t{constructor(){this.elements=[],this.delete=new lr,this.calculateFromRule=new lr}addElement(e){this.elements.push(e),console.log(e)}removeElement(e){e>=0&&e<this.elements.length&&this.elements.splice(e,1)}calculateFromRuleList(e){this.calculateFromRule.emit(e)}clearList(){this.elements=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-rule-list"]],outputs:{delete:"delete",calculateFromRule:"calculateFromRule"},decls:2,vars:1,consts:[["class","rule-container",4,"ngFor","ngForOf"],[1,"rule-container"],[3,"data","delete","calculateFromRule"]],template:function(e,r){1&e&&(tt(0,"div"),_r(1,i6,2,1,"div",0),et()),2&e&&(Yt(1),tn("ngForOf",r.elements))},dependencies:[Og,r6],styles:["div[_ngcontent-%COMP%]{width:800px;border:2px solid #00a9e0;margin:5px;overflow:auto;box-sizing:border-box}div.rule-container[_ngcontent-%COMP%]{width:100%;column-gap:20px;padding:5px;border:2px solid #00a9e0;align-items:flex-start;box-sizing:border-box}"]}),t})();var a6=D(3848),bR=D.n(a6);const s6=["graphContainer"],l6=["subgraphDialog"];js().use(O0()),js().use(bR());const wR=[{selector:'node[node_type="input"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="cnode"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="annotation"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="proj"]',style:{width:3,"line-color":"#ccc","line-style":"dashed","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:"edge[label]",style:{label:"data(label)","text-rotation":"autorotate","text-margin-x":15,"text-margin-y":0}}];let u6=(()=>{class t{constructor(){this.nodesHidden=!1,this.selector='node[node_type="cnode"]',this.defaultWidth="800px",this.defaultHeight="600px"}ngOnInit(){this.cy=js()({container:document.getElementById("cy"),style:wR,layout:{name:"dagre"}})}makePopper(e){const r=e.popperRef();e.tippy=qv(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;if(s.hasOwnProperty("avp"))for(var c in s.avp)i.innerHTML=i.innerHTML+c+" : "+s.avp[c]+"<br>";return i},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("avp")&&(this.makePopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}renderGraph(e){this.cy=js()({container:document.getElementById(this.graphID),elements:e,style:wR,layout:{name:"dagre"}}),this.createAndBindPoppers(),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy)}resizeToDefault(){const e=this.graphContainer.nativeElement;e.style.width=this.defaultWidth,e.style.height=this.defaultHeight}showDialog(){this.subgraphDialog.setContent(this.cy.data()),this.subgraphDialog.showDialog()}toggleNodes(){const e=this.cy.nodes(this.selector);this.cy.batch(()=>{e.style("display",this.nodesHidden?"element":"none"),this.nodesHidden=!this.nodesHidden})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-graph-vis"]],viewQuery:function(e,r){if(1&e&&(zn(s6,5),zn(l6,5)),2&e){let i;In(i=An())&&(r.graphContainer=i.first),In(i=An())&&(r.subgraphDialog=i.first)}},inputs:{graphID:"graphID"},decls:9,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(e,r){1&e&&(tt(0,"div"),Tn(1,"div",0,1),tt(3,"button",2),Sn("click",function(){return r.resizeToDefault()}),wt(4,"Resize to Default"),et(),tt(5,"button",2),Sn("click",function(){return r.toggleNodes()}),wt(6,"Toggle c-structure"),et(),Tn(7,"app-sub-graph-dialog",3,4),et()),2&e&&(Yt(1),tn("id",r.graphID),Yt(6),tn("subgraphID","sub"+r.graphID)("subgraphStyle","liger"))},dependencies:[xx],styles:["div.cy[_ngcontent-%COMP%]{width:800px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const c6=["*"];let Qv=(()=>{class t{constructor(e){this.hideComponentService=e,this.showText="Show Content",this.hideText="Hide Content",this.isHidden=!1}ngOnInit(){this.hideSubscription=this.hideComponentService.toggleObservable.subscribe(e=>{if(!e.type||e.type===this.type)switch(e.action){case Yu.Hide:this.isHidden=!0;break;case Yu.Show:this.isHidden=!1}})}ngOnDestroy(){this.hideSubscription.unsubscribe()}toggleDisplay(){this.isHidden=!this.isHidden}}return t.\u0275fac=function(e){return new(e||t)(We(cI))},t.\u0275cmp=Or({type:t,selectors:[["app-toggle-display"]],inputs:{type:"type",showText:"showText",hideText:"hideText"},ngContentSelectors:c6,decls:4,vars:3,consts:[[1,"hide-button",3,"click"]],template:function(e,r){1&e&&(_g(),tt(0,"div"),Cg(1),et(),tt(2,"button",0),Sn("click",function(){return r.toggleDisplay()}),wt(3),et()),2&e&&(Xm("display",r.isHidden?"none":"block"),Yt(3),Zm(r.isHidden?r.showText:r.hideText))},encapsulation:2}),t})();class d6{}class h6{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(n=!1,e,r=!0,i){this._multiple=n,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new It,e&&e.length&&(n?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(r=>this._markSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...n){this._verifyValueAssignment(n),n.forEach(r=>this._unmarkSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...n){this._verifyValueAssignment(n);const e=this.selected,r=new Set(n);n.forEach(s=>this._markSelected(s)),e.filter(s=>!r.has(s)).forEach(s=>this._unmarkSelected(s));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();const e=this._hasQueuedChanges();return n&&this._emitChangeEvent(),e}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(n){if(this.compareWith){for(let e of this._selection)if(this.compareWith(n,e))return e;return n}return n}}function Ku(t){return rt((n,e)=>{No(t).subscribe(ht(e,()=>e.complete(),H)),!e.closed&&n.subscribe(e)})}function cl(t){return null!=t&&"false"!=`${t}`}function sh(t,n=0){return function p6(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function _R(t){return Array.isArray(t)?t:[t]}function Jg(t){return t instanceof ti?t.nativeElement:t}const g6=new Kt("cdk-dir-doc",{providedIn:"root",factory:function m6(){return nn(Di)}}),v6=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let em=(()=>{class t{constructor(e){this.value="ltr",this.change=new lr,e&&(this.value=function y6(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?v6.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Pt(g6,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),CR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({}),t})();class b6{constructor(){this.expansionModel=new h6(!0)}toggle(n){this.expansionModel.toggle(this._trackByValue(n))}expand(n){this.expansionModel.select(this._trackByValue(n))}collapse(n){this.expansionModel.deselect(this._trackByValue(n))}isExpanded(n){return this.expansionModel.isSelected(this._trackByValue(n))}toggleDescendants(n){this.expansionModel.isSelected(this._trackByValue(n))?this.collapseDescendants(n):this.expandDescendants(n)}collapseAll(){this.expansionModel.clear()}expandDescendants(n){let e=[n];e.push(...this.getDescendants(n)),this.expansionModel.select(...e.map(r=>this._trackByValue(r)))}collapseDescendants(n){let e=[n];e.push(...this.getDescendants(n)),this.expansionModel.deselect(...e.map(r=>this._trackByValue(r)))}_trackByValue(n){return this.trackBy?this.trackBy(n):n}}class w6 extends b6{constructor(n,e){super(),this.getChildren=n,this.options=e,this.options&&(this.trackBy=this.options.trackBy)}expandAll(){this.expansionModel.clear();const n=this.dataNodes.reduce((e,r)=>[...e,...this.getDescendants(r),r],[]);this.expansionModel.select(...n.map(e=>this._trackByValue(e)))}getDescendants(n){const e=[];return this._getDescendants(e,n),e.splice(1)}_getDescendants(n,e){n.push(e);const r=this.getChildren(e);Array.isArray(r)?r.forEach(i=>this._getDescendants(n,i)):Nb(r)&&r.pipe(zc(1),kl(Boolean)).subscribe(i=>{for(const s of i)this._getDescendants(n,s)})}}const H0=new Kt("CDK_TREE_NODE_OUTLET_NODE");let Jv=(()=>{class t{constructor(e,r){this.viewContainer=e,this._node=r}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(H0,8))},t.\u0275dir=ln({type:t,selectors:[["","cdkTreeNodeOutlet",""]]}),t})();class _6{constructor(n){this.$implicit=n}}let z0=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(We(zs))},t.\u0275dir=ln({type:t,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),t})(),lf=(()=>{class t{get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}constructor(e,r){this._differs=e,this._changeDetectorRef=r,this._onDestroy=new It,this._levels=new Map,this.viewChange=new cn({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const e=this._nodeDefs.filter(r=>!r.when);this._defaultNodeDef=e[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let e;!function f6(t){return t&&"function"==typeof t.connect&&!(t instanceof RC)}(this._dataSource)?Nb(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=qe(this._dataSource)):e=this._dataSource.connect(this),e&&(this._dataSubscription=e.pipe(Ku(this._onDestroy)).subscribe(r=>this.renderNodeChanges(r)))}renderNodeChanges(e,r=this._dataDiffer,i=this._nodeOutlet.viewContainer,s){const c=r.diff(e);c&&(c.forEachOperation((m,_,R)=>{if(null==m.previousIndex)this.insertNode(e[R],R,i,s);else if(null==R)i.remove(_),this._levels.delete(m.item);else{const U=i.get(_);i.move(U,R)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(e,r){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(s=>s.when&&s.when(r,e))||this._defaultNodeDef}insertNode(e,r,i,s){const c=this._getNodeDef(e,r),m=new _6(e);m.level=this.treeControl.getLevel?this.treeControl.getLevel(e):typeof s<"u"&&this._levels.has(s)?this._levels.get(s)+1:0,this._levels.set(e,m.level),(i||this._nodeOutlet.viewContainer).createEmbeddedView(c.template,m,r),Xc.mostRecentTreeNode&&(Xc.mostRecentTreeNode.data=e)}}return t.\u0275fac=function(e){return new(e||t)(We(np),We(xs))},t.\u0275cmp=Or({type:t,selectors:[["cdk-tree"]],contentQueries:function(e,r,i){if(1&e&&Xf(i,z0,5),2&e){let s;In(s=An())&&(r._nodeDefs=s)}},viewQuery:function(e,r){if(1&e&&zn(Jv,7),2&e){let i;In(i=An())&&(r._nodeOutlet=i.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(e,r){1&e&&$m(0,0)},dependencies:[Jv],encapsulation:2}),t})(),Xc=(()=>{class t{get role(){return"treeitem"}set role(e){this._elementRef.nativeElement.setAttribute("role",e)}get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(e,r){this._elementRef=e,this._tree=r,this._destroyed=new It,this._dataChanges=new It,t.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function C6(t){let n=t.parentElement;for(;n&&!E6(n);)n=n.parentElement;return n?n.classList.contains("cdk-nested-tree-node")?sh(n.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){t.mostRecentTreeNode===this&&(t.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return t.mostRecentTreeNode=null,t.\u0275fac=function(e){return new(e||t)(We(ti),We(lf))},t.\u0275dir=ln({type:t,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(e,r){2&e&&Es("aria-expanded",r.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),t})();function E6(t){const n=t.classList;return!(!n?.contains("cdk-nested-tree-node")&&!n?.contains("cdk-tree"))}let Ix,Tx=(()=>{class t extends Xc{constructor(e,r,i){super(e,r),this._differs=i}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);const e=this._tree.treeControl.getChildren(this.data);Array.isArray(e)?this.updateChildrenNodes(e):Nb(e)&&e.pipe(Ku(this._destroyed)).subscribe(r=>this.updateChildrenNodes(r)),this.nodeOutlet.changes.pipe(Ku(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(e){const r=this._getNodeOutlet();e&&(this._children=e),r&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,r.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const e=this._getNodeOutlet();e&&(e.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const e=this.nodeOutlet;return e&&e.find(r=>!r._node||r._node===this)}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(lf),We(np))},t.\u0275dir=ln({type:t,selectors:[["cdk-nested-tree-node"]],contentQueries:function(e,r,i){if(1&e&&Xf(i,Jv,5),2&e){let s;In(s=An())&&(r.nodeOutlet=s)}},hostAttrs:[1,"cdk-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["cdkNestedTreeNode"],features:[$r([{provide:Xc,useExisting:t},{provide:H0,useExisting:t}]),qn]}),t})(),Mx=(()=>{class t{get recursive(){return this._recursive}set recursive(e){this._recursive=cl(e)}constructor(e,r){this._tree=e,this._treeNode=r,this._recursive=!1}_toggle(e){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),e.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(We(lf),We(Xc))},t.\u0275dir=ln({type:t,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(e,r){1&e&&Sn("click",function(s){return r._toggle(s)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),t})(),D6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({}),t})();try{Ix=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ix=!1}let ey,Ax,Zu=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function d3(t){return t===BM}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ix)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Pt($f))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ty(t){return function T6(){if(null==ey&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ey=!0}))}finally{ey=ey||!1}return ey}()?t:!!t.capture}function nm(t){return t.composedPath?t.composedPath()[0]:t.target}function xR(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class Z6 extends C{constructor(n,e){super()}schedule(n,e=0){return this}}const G0={setInterval(t,n,...e){const{delegate:r}=G0;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=G0;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class Ox extends Z6{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,e),this}requestAsyncId(n,e,r=0){return G0.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&G0.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i,r=!1;try{this.work(n)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,I(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const DR={now:()=>(DR.delegate||Date).now(),delegate:void 0};class ny{constructor(n,e=ny.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}ny.now=DR.now;class Nx extends ny{constructor(n,e=ny.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}const Rx=new Nx(Ox),q6=Rx;function kx(t,n=Rx){return rt((e,r)=>{let i=null,s=null,c=null;const m=()=>{if(i){i.unsubscribe(),i=null;const R=s;s=null,r.next(R)}};function _(){const R=c+t,U=n.now();if(U<R)return i=this.schedule(void 0,R-U),void r.add(i);m()}e.subscribe(ht(r,R=>{s=R,c=n.now(),i||(i=n.schedule(_,t),r.add(i))},()=>{m(),r.complete()},void 0,()=>{s=i=null}))})}function Px(t){return kl((n,e)=>t<=e)}let TR=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Q6=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=Jg(e);return new Ye(i=>{const c=this._observeElement(r).subscribe(i);return()=>{c.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new It,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return t.\u0275fac=function(e){return new(e||t)(Pt(TR))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),J6=(()=>{class t{get disabled(){return this._disabled}set disabled(e){this._disabled=cl(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=sh(e),this._subscribe()}constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new lr,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(kx(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(We(Q6),We(ti),We(Yr))},t.\u0275dir=ln({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),SR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({providers:[TR]}),t})();const MR=new Set;let bp,e$=(()=>{class t{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):n$}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function t$(t,n){if(!MR.has(t))try{bp||(bp=document.createElement("style"),n&&(bp.nonce=n),bp.setAttribute("type","text/css"),document.head.appendChild(bp)),bp.sheet&&(bp.sheet.insertRule(`@media ${t} {body{ }}`,0),MR.add(t))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Zu),Pt(Ow,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function n$(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let r$=(()=>{class t{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new It}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return IR(_R(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let s=Rb(IR(_R(e)).map(c=>this._registerQuery(c).observable));return s=Pb(s.pipe(zc(1)),s.pipe(Px(1),kx(0))),s.pipe(Tt(c=>{const m={matches:!1,breakpoints:{}};return c.forEach(({matches:_,query:R})=>{m.matches=m.matches||_,m.breakpoints[R]=_}),m}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),s={observable:new Ye(c=>{const m=_=>this._zone.run(()=>c.next(_));return r.addListener(m),()=>{r.removeListener(m)}}).pipe(dv(r),Tt(({matches:c})=>({query:e,matches:c})),Ku(this._destroySubject)),mql:r};return this._queries.set(e,s),s}}return t.\u0275fac=function(e){return new(e||t)(Pt(e$),Pt(Yr))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function IR(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}class a${constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new It,this._typeaheadSubscription=C.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new It,this.change=new It,n instanceof Sg&&(this._itemChangesSubscription=n.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(pa(e=>this._pressedLetters.push(e)),kx(n),kl(()=>this._pressedLetters.length>0),Tt(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,c=r[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!n[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex+this._pageUpAndDown.delta,c=this._getItemsArray().length;this._setActiveItemByIndex(s<c?s:c-1,-1);break}return;default:return void((i||xR(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),r="number"==typeof n?n:e.indexOf(n);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+n*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const r=this._getItemsArray();if(r[n]){for(;this._skipPredicateFn(r[n]);)if(!r[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof Sg?this._items.toArray():this._items}}class s$ extends a${constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}function RR(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function kR(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const h$=new Kt("cdk-input-modality-detector-options"),p$={ignoreKeys:[18,17,224,91,16]},rm=ty({passive:!0,capture:!0});let g$=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(e,r,i,s){this._platform=e,this._mostRecentTarget=null,this._modality=new cn(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(m=>m===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=nm(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(RR(c)?"keyboard":"mouse"),this._mostRecentTarget=nm(c))},this._onTouchstart=c=>{kR(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=nm(c))},this._options={...p$,...s},this.modalityDetected=this._modality.pipe(Px(1)),this.modalityChanged=this.modalityDetected.pipe(en()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,rm),i.addEventListener("mousedown",this._onMousedown,rm),i.addEventListener("touchstart",this._onTouchstart,rm)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,rm),document.removeEventListener("mousedown",this._onMousedown,rm),document.removeEventListener("touchstart",this._onTouchstart,rm))}}return t.\u0275fac=function(e){return new(e||t)(Pt(Zu),Pt(Yr),Pt(Di),Pt(h$,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const v$=new Kt("cdk-focus-monitor-default-options"),j0=ty({passive:!0,capture:!0});let LR=(()=>{class t{constructor(e,r,i,s,c){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new It,this._rootNodeFocusAndBlurListener=m=>{for(let R=nm(m);R;R=R.parentElement)"focus"===m.type?this._onFocus(m,R):this._onBlur(m,R)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(e,r=!1){const i=Jg(e);if(!this._platform.isBrowser||1!==i.nodeType)return qe();const s=function M6(t){if(function S6(){if(null==Ax){const t=typeof document<"u"?document.head:null;Ax=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Ax}()){const n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const m={checkChildren:r,subject:new It,rootNode:s};return this._elementInfo.set(i,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const r=Jg(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const s=Jg(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([m,_])=>this._originChanged(m,r,_)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),s=nm(e);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,j0),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,j0)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ku(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,j0),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,j0),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,s)=>{(s===e||i.checkChildren&&s.contains(e))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(r))return!0;return!1}}return t.\u0275fac=function(e){return new(e||t)(Pt(Yr),Pt(Zu),Pt(g$),Pt(Di,8),Pt(v$,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),y$=(()=>{class t{constructor(e,r){this._elementRef=e,this._focusMonitor=r,this._focusOrigin=null,this.cdkFocusChange=new lr}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(LR))},t.\u0275dir=ln({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),t})();const FR="cdk-high-contrast-black-on-white",BR="cdk-high-contrast-white-on-black",Lx="cdk-high-contrast-active";let VR=(()=>{class t{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=nn(r$).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Lx,FR,BR),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(Lx,FR):2===r&&e.add(Lx,BR)}}}return t.\u0275fac=function(e){return new(e||t)(Pt(Zu),Pt(Di))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),b$=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(Pt(VR))},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[SR]}),t})();const _$=new Kt("mat-sanity-checks",{providedIn:"root",factory:function w$(){return!0}});let Kc=(()=>{class t{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function I6(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return t.\u0275fac=function(e){return new(e||t)(Pt(VR),Pt(_$,8),Pt(Di))},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[CR,CR]}),t})();function W0(t){return class extends t{get disabled(){return this._disabled}set disabled(n){this._disabled=cl(n)}constructor(...n){super(...n),this._disabled=!1}}}function Fx(t,n){return class extends t{get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...e){super(...e),this.defaultColor=n,this.color=n}}}function UR(t){return class extends t{get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=cl(n)}constructor(...n){super(...n),this._disableRipple=!1}}}function C$(t,n=0){return class extends t{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?sh(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=n,this.defaultTabIndex=n}}}class x${constructor(n,e,r,i=!1){this._renderer=n,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const GR=ty({passive:!0,capture:!0});class D${constructor(){this._events=new Map,this._delegateEventHandler=n=>{const e=nm(n);e&&this._events.get(n.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(s=>s.handleEvent(n))})}}addHandler(n,e,r,i){const s=this._events.get(e);if(s){const c=s.get(r);c?c.add(i):s.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,GR)})}removeHandler(n,e,r){const i=this._events.get(n);if(!i)return;const s=i.get(e);s&&(s.delete(r),0===s.size&&i.delete(e),0===i.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,GR)))}}const jR={enterDuration:225,exitDuration:150},WR=ty({passive:!0,capture:!0}),$R=["mousedown","touchstart"],YR=["mouseup","mouseleave","touchend","touchcancel"];class im{constructor(n,e,r,i){this._target=n,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Jg(r))}fadeInRipple(n,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...jR,...r.animation};r.centered&&(n=i.left+i.width/2,e=i.top+i.height/2);const c=r.radius||function S$(t,n,e){const r=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),i=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(r*r+i*i)}(n,e,i),m=n-i.left,_=e-i.top,R=s.enterDuration,U=document.createElement("div");U.classList.add("mat-ripple-element"),U.style.left=m-c+"px",U.style.top=_-c+"px",U.style.height=2*c+"px",U.style.width=2*c+"px",null!=r.color&&(U.style.backgroundColor=r.color),U.style.transitionDuration=`${R}ms`,this._containerElement.appendChild(U);const K=window.getComputedStyle(U),be=K.transitionDuration,Ae="none"===K.transitionProperty||"0s"===be||"0s, 0s"===be||0===i.width&&0===i.height,Fe=new x$(this,U,r,Ae);U.style.transform="scale3d(1, 1, 1)",Fe.state=0,r.persistent||(this._mostRecentTransientRipple=Fe);let it=null;return!Ae&&(R||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const gt=()=>this._finishRippleTransition(Fe),Qe=()=>this._destroyRipple(Fe);U.addEventListener("transitionend",gt),U.addEventListener("transitioncancel",Qe),it={onTransitionEnd:gt,onTransitionCancel:Qe}}),this._activeRipples.set(Fe,it),(Ae||!R)&&this._finishRippleTransition(Fe),Fe}fadeOutRipple(n){if(2===n.state||3===n.state)return;const e=n.element,r={...jR,...n.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=Jg(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,$R.forEach(r=>{im._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{YR.forEach(e=>{this._triggerElement.addEventListener(e,this,WR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const e=n===this._mostRecentTransientRipple,{persistent:r}=n.config;n.state=1,!r&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==e&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){const e=RR(n),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!kR(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&($R.forEach(e=>im._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&YR.forEach(e=>n.removeEventListener(e,this,WR)))}}im._eventManager=new D$;const XR=new Kt("mat-ripple-global-options");let Bx=(()=>{class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,i,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new im(this,r,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(Yr),We(Zu),We(XR,8),We(kc,8))},t.\u0275dir=ln({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&Ha("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),t})(),KR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[Kc,Kc]}),t})();const M$=C$(W0(Xc));let ZR=(()=>{class t extends M${constructor(e,r,i){super(e,r),this.tabIndex=Number(i)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(lf),y("tabindex"))},t.\u0275dir=ln({type:t,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[$r([{provide:Xc,useExisting:t}]),qn]}),t})(),qR=(()=>{class t extends z0{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[$r([{provide:z0,useExisting:t}]),qn]}),t})(),QR=(()=>{class t extends Tx{get disabled(){return this._disabled}set disabled(e){this._disabled=cl(e)}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=e??0}constructor(e,r,i,s){super(e,r,i),this._disabled=!1,this.tabIndex=Number(s)||0}ngOnInit(){super.ngOnInit()}ngAfterContentInit(){super.ngAfterContentInit()}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(lf),We(np),y("tabindex"))},t.\u0275dir=ln({type:t,selectors:[["mat-nested-tree-node"]],hostAttrs:[1,"mat-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex",node:["matNestedTreeNode","node"]},exportAs:["matNestedTreeNode"],features:[$r([{provide:Tx,useExisting:t},{provide:Xc,useExisting:t},{provide:H0,useExisting:t}]),qn]}),t})(),$0=(()=>{class t{constructor(e,r){this.viewContainer=e,this._node=r}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(H0,8))},t.\u0275dir=ln({type:t,selectors:[["","matTreeNodeOutlet",""]],features:[$r([{provide:Jv,useExisting:t}])]}),t})(),JR=(()=>{class t extends lf{constructor(){super(...arguments),this._nodeOutlet=void 0}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275cmp=Or({type:t,selectors:[["mat-tree"]],viewQuery:function(e,r){if(1&e&&zn($0,7),2&e){let i;In(i=An())&&(r._nodeOutlet=i.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[$r([{provide:lf,useExisting:t}]),qn],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(e,r){1&e&&$m(0,0)},dependencies:[$0],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2}),t})(),ek=(()=>{class t extends Mx{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[$r([{provide:Mx,useExisting:t}]),qn]}),t})(),A$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[D6,Kc,Kc]}),t})();class O$ extends d6{constructor(){super(...arguments),this._data=new cn([])}get data(){return this._data.value}set data(n){this._data.next(n)}connect(n){return nt(n.viewChange,this._data).pipe(Tt(()=>this.data))}disconnect(){}}const N$=["*"];let Y0;function iy(t){return function R$(){if(void 0===Y0&&(Y0=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(Y0=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return Y0}()?.createHTML(t)||t}function tk(t){return Error(`Unable to find icon with the name "${t}"`)}function nk(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function rk(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class wp{constructor(n,e,r){this.url=n,this.svgText=e,this.options=r}}let X0=(()=>{class t{constructor(e,r,i,s){this._httpClient=e,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,s){return this._addSvgIconConfig(e,r,new wp(i,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,s){const c=this._sanitizer.sanitize(hi.HTML,i);if(!c)throw rk(i);const m=iy(c);return this._addSvgIconConfig(e,r,new wp("",m,s))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new wp(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const s=this._sanitizer.sanitize(hi.HTML,r);if(!s)throw rk(r);const c=iy(s);return this._addSvgIconSetConfig(e,new wp("",c,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(hi.RESOURCE_URL,e);if(!r)throw nk(e);const i=this._cachedIconsByUrl.get(r);return i?qe(K0(i)):this._loadSvgIconFromConfig(new wp(e,null)).pipe(pa(s=>this._cachedIconsByUrl.set(r,s)),Tt(s=>K0(s)))}getNamedSvgIcon(e,r=""){const i=ik(r,e);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,e),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(e,c):Ng(tk(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?qe(K0(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Tt(r=>K0(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?qe(i):vA(r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(tf(m=>{const R=`Loading icon set URL: ${this._sanitizer.sanitize(hi.RESOURCE_URL,c.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(R)),qe(null)})))).pipe(Tt(()=>{const c=this._extractIconWithNameFromAnySet(e,r);if(!c)throw tk(e);return c}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),m=this._extractSvgIconFromSet(c,e,s.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(pa(r=>e.svgText=r),Tt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?qe(null):this._fetchIcon(e).pipe(pa(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const s=e.querySelector(`[id="${r}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,i);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),i);const m=this._svgElementFromString(iy("<svg></svg>"));return m.appendChild(c),this._setSvgAttributes(m,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(iy("<svg></svg>")),i=e.attributes;for(let s=0;s<i.length;s++){const{name:c,value:m}=i[s];"id"!==c&&r.setAttribute(c,m)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,s=i?.withCredentials??!1;if(!this._httpClient)throw function k$(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const c=this._sanitizer.sanitize(hi.RESOURCE_URL,r);if(!c)throw nk(r);const m=this._inProgressUrlFetches.get(c);if(m)return m;const _=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe(Tt(R=>iy(R)),kg(()=>this._inProgressUrlFetches.delete(c)),qt());return this._inProgressUrlFetches.set(c,_),_}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(ik(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,e);if(s)return L$(s)?new wp(s.url,null,s.options):new wp(s,null)}}}return t.\u0275fac=function(e){return new(e||t)(Pt(g0,8),Pt(Ob),Pt(Di,8),Pt(Pc))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function K0(t){return t.cloneNode(!0)}function ik(t,n){return t+":"+n}function L$(t){return!(!t.url||!t.options)}const F$=Fx(class{constructor(t){this._elementRef=t}}),B$=new Kt("MAT_ICON_DEFAULT_OPTIONS"),V$=new Kt("mat-icon-location",{providedIn:"root",factory:function H$(){const t=nn(Di),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),ok=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],z$=ok.map(t=>`[${t}]`).join(", "),U$=/^url\(['"]?#(.*?)['"]?\)$/;let G$=(()=>{class t extends F${get inline(){return this._inline}set inline(e){this._inline=cl(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,i,s,c,m){super(e),this._iconRegistry=r,this._location=s,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=C.EMPTY,m&&(m.color&&(this.color=this.defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(z$),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)ok.forEach(c=>{const m=r[s],_=m.getAttribute(c),R=_?_.match(U$):null;if(R){let U=i.get(m);U||(U=[],i.set(m,U)),U.push({name:c,value:R[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(zc(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(X0),y("aria-hidden"),We(V$),We(Pc),We(B$,8))},t.\u0275cmp=Or({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,r){2&e&&(Es("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ha("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[qn],ngContentSelectors:N$,decls:1,vars:0,template:function(e,r){1&e&&(_g(),Cg(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),t})(),j$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[Kc,Kc]}),t})();const $$=["mat-icon-button",""],Y$=["*"],ak={capture:!0},sk=["focus","click","mouseenter","touchstart"],oy="mat-button-ripple-uninitialized";let X$=(()=>{class t{constructor(){this._document=nn(Di,{optional:!0}),this._animationMode=nn(kc,{optional:!0}),this._globalRippleOptions=nn(XR,{optional:!0}),this._platform=nn(Zu),this._ngZone=nn(Yr),this._onInteraction=e=>{if(e.target===this._document)return;const i=e.target.closest(`[${oy}]`);i&&(i.removeAttribute(oy),this._appendRipple(i))},this._ngZone.runOutsideAngular(()=>{for(const e of sk)this._document?.addEventListener(e,this._onInteraction,ak)})}ngOnDestroy(){for(const e of sk)this._document?.removeEventListener(e,this._onInteraction,ak)}_appendRipple(e){if(!this._document)return;const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new K$(e,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);i.rippleConfig.centered=e.hasAttribute("mat-icon-button"),new im(i,this._ngZone,r,this._platform).setupTriggerEvents(e),e.append(r)}_createMatRipple(e){if(!this._document)return;e.querySelector(".mat-mdc-button-ripple")?.remove(),e.removeAttribute(oy);const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new Bx(new ti(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return i._isInitialized=!0,i.trigger=e,e.append(r),i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class K${constructor(n,e,r){this._button=n,this._globalRippleOptions=e,this._setRippleConfig(e,r)}_setRippleConfig(n,e){this.rippleConfig=n||{},"NoopAnimations"===e&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const Z$=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],q$=Fx(W0(UR(class{constructor(t){this._elementRef=t}})));let Q$=(()=>{class t extends q${get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(e){this._ripple=e}constructor(e,r,i,s){super(e),this._platform=r,this._ngZone=i,this._animationMode=s,this._focusMonitor=nn(LR),this._rippleLoader=nn(X$),this._isFab=!1;const c=e.nativeElement.classList;for(const m of Z$)this._hasHostAttributes(m.selector)&&m.mdcClasses.forEach(_=>{c.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...e){return e.some(r=>this._elementRef.nativeElement.hasAttribute(r))}}return t.\u0275fac=function(e){jw()},t.\u0275dir=ln({type:t,features:[qn,_a]}),t})(),t9=(()=>{class t extends Q${get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(e,r,i,s){super(e,r,i,s)}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(Zu),We(Yr),We(kc,8))},t.\u0275cmp=Or({type:t,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,r){2&e&&(Es("disabled",r.disabled||null),Ha("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[qn],attrs:$$,ngContentSelectors:Y$,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(_g(),Tn(0,"span",0),Cg(1),Tn(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),t})(),n9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[Kc,KR,Kc]}),t})();const r9=function(){return{border:"none","padding-left":"10px"}};function i9(t,n){1&t&&(tt(0,"ul",7),$m(1,8),et()),2&t&&tn("ngStyle",cb(1,r9))}const o9=function(){return{border:"2px solid #00a9e0","border-radius":"5px","padding-left":"10px","margin-bottom":"10px",width:"100%"}};function a9(t,n){if(1&t&&(tt(0,"mat-nested-tree-node")(1,"li",3)(2,"div",4)(3,"button",5)(4,"mat-icon"),wt(5),et()(),wt(6),et(),_r(7,i9,2,2,"ul",6),et()()),2&t){const e=n.$implicit,r=oi();Yt(1),tn("ngStyle",cb(4,o9)),Yt(4),Rl(" ",r.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),Yt(1),Rl(" ",e.name," "),Yt(1),tn("ngIf",r.treeControl.isExpanded(e))}}const s9=function(t){return{selected:t}},l9=function(){return{"padding-left":"10px","padding-right":"10px",width:"100%"}};function u9(t,n){if(1&t){const e=Vs();tt(0,"mat-tree-node")(1,"li",9),Sn("dblclick",function(){const s=Hn(e).$implicit;return bi(oi().onNodeDoubleClick(s))}),tt(2,"div",10),Sn("click",function(){const s=Hn(e).$implicit;return bi(oi().onNodeSelect(s))}),Tn(3,"button",11),wt(4),et()()()}if(2&t){const e=n.$implicit,r=oi();Yt(1),Xm("background-color",e===r.selectedNode?"#00a9e0":"transparent")("color",e===r.selectedNode?"white":"black"),tn("ngClass",Jh(7,s9,e===r.selectedNode))("ngStyle",cb(9,l9)),Yt(3),Rl(" ",e.name," ")}}let lk=(()=>{class t{constructor(){this.fileTree=[],this.nodeSelected=new lr,this.nodeDoubleClicked=new lr,this.selectedNode=null,this.treeControl=new w6(e=>e.children),this.dataSource=new O$}ngOnInit(){this.fileTree?this.updateTreeData():console.error("File tree data not available")}ngOnChanges(e){e.fileTree&&this.updateTreeData()}updateTreeData(){if(this.fileTree&&Array.isArray(this.fileTree)){const e=this.sortTree(this.fileTree);this.dataSource.data=e,this.treeControl.dataNodes=e}else console.error("fileTree is not initialized or empty")}onNodeSelect(e){e?e.isDirectory?console.log("Cannot select directories."):(this.selectedNode=e,this.nodeSelected.emit(e.path)):console.error("Node is undefined or invalid")}onNodeDoubleClick(e){e.isDirectory||this.nodeDoubleClicked.emit(e.path)}sortTree(e){return e.map(r=>(r.children&&r.children.length>0&&(r.children=this.sortTree(r.children)),r)).sort((r,i)=>r.isDirectory&&!i.isDirectory?-1:!r.isDirectory&&i.isDirectory?1:r.name.localeCompare(i.name))}isDirectory(e,r){return r?.isDirectory??!1}isFile(e,r){return!r?.isDirectory}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-file-tree"]],inputs:{fileTree:"fileTree"},outputs:{nodeSelected:"nodeSelected",nodeDoubleClicked:"nodeDoubleClicked"},features:[_a],decls:4,vars:4,consts:[[1,"filetreecontainer"],[3,"dataSource","treeControl"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"tree-node-wrapper","folder-node",3,"ngStyle"],[1,"mat-tree-node"],["mat-icon-button","","matTreeNodeToggle",""],["class","folder-contents",3,"ngStyle",4,"ngIf"],[1,"folder-contents",3,"ngStyle"],["matTreeNodeOutlet",""],[1,"tree-node-wrapper","file-node",3,"ngClass","ngStyle","dblclick"],[3,"click"],["mat-icon-button","","disabled",""]],template:function(e,r){1&e&&(tt(0,"div",0)(1,"mat-tree",1),_r(2,a9,8,5,"mat-nested-tree-node",2),_r(3,u9,5,10,"mat-tree-node",2),et()()),2&e&&(Yt(1),tn("dataSource",r.dataSource)("treeControl",r.treeControl),Yt(1),tn("matTreeNodeDefWhen",r.isDirectory),Yt(1),tn("matTreeNodeDefWhen",r.isFile))},dependencies:[lv,cu,mC,QR,qR,ek,JR,ZR,$0,G$,t9],styles:["[_ngcontent-%COMP%]:root{--highlight-color: #00a9e0}.mat-tree-node[_ngcontent-%COMP%]{cursor:pointer;padding:5px;display:flex;align-items:center;width:100%;box-sizing:border-box}.mat-tree-node[_ngcontent-%COMP%]:hover{background-color:#00a9e040}.tree-node-wrapper[_ngcontent-%COMP%]{display:block;width:100%;margin:0;box-sizing:border-box}.folder-node[_ngcontent-%COMP%]{margin-bottom:10px}.folder-contents[_ngcontent-%COMP%]{margin-top:5px;border:2px solid var(--highlight-color);border-radius:5px;padding:10px;box-sizing:border-box}li[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;box-sizing:border-box}div.filetreecontainer[_ngcontent-%COMP%]{width:760px;border:2px solid var(--highlight-color);border-radius:5px;padding:10px;box-sizing:border-box;overflow:hidden}"]}),t})();const c9=["grammarListSelector"],d9=["statusMessage"],f9=["toggleDisplayComponent"];let Vx=(()=>{class t{constructor(e,r){this.dataService=e,this.cd=r,this.grammarList=[],this.defaultGrammar="./grammars/fracas_inference_grammar/main_fracas_grammar.lfg.glue",this.grammarsDirectory="./grammars",this.currentStatusMessage="",this.grammarFileTree=[],this.selectedPath=""}ngOnInit(){this.getGrammars(this.grammarsDirectory),console.log("Initial file tree:",this.grammarFileTree),this.selectedPath=this.defaultGrammar,this.updateGrammar()}ngAfterViewInit(){this.toggleDisplayComponent?this.toggleDisplayComponent.isHidden=!0:console.error("toggleDisplayComponent is still undefined in ngAfterViewInit.")}onFileSelected(e){console.log("Selected path from file tree:",e),this.selectedPath=e}updateGrammar(){this.selectedPath?(console.log("Changing grammar to: "+this.selectedPath),this.dataService.changeGrammar({grammar:this.selectedPath}).subscribe(e=>{console.log(e),e.hasOwnProperty("grammar")&&"success"===e.grammar?(console.log("Successfully changed grammar to: "+this.selectedPath),this.currentStatusMessage="Currently loaded grammar: "+this.selectedPath,this.cd.detectChanges(),this.toggleDisplayComponent.isHidden=!0):this.currentStatusMessage="Failed to load grammar: "+this.selectedPath},e=>{console.log("ERROR: ",e),this.currentStatusMessage="Failed to load grammar: "+this.selectedPath})):console.error("No file or folder selected!")}getGrammars(e){console.log("Fetching grammars via POST request"),this.dataService.getFileTree({grammar:e}).subscribe(r=>{console.log(r),r.hasOwnProperty("children")&&(console.log("Grammar file tree:",r.children),this.grammarFileTree=this.buildFileTree(r.children))},r=>{console.error("Failed to fetch grammars:",r)})}buildFileTree(e){return e.map(r=>({name:r.name,path:r.path,isDirectory:r.isDirectory||r.directory,children:r.children&&r.children.length>0?this.buildFileTree(r.children):[]}))}}return t.\u0275fac=function(e){return new(e||t)(We(Yg),We(xs))},t.\u0275cmp=Or({type:t,selectors:[["app-grammar-loader"]],viewQuery:function(e,r){if(1&e&&(zn(c9,5),zn(d9,5),zn(f9,5)),2&e){let i;In(i=An())&&(r.grammarListSelector=i.first),In(i=An())&&(r.statusMessageDiv=i.first),In(i=An())&&(r.toggleDisplayComponent=i.first)}},decls:9,vars:2,consts:[[1,"status-message"],["statusMessage",""],["type","fileTree","showText","Select file","hideText","Hide file selection"],["toggleDisplayComponent",""],[3,"fileTree","nodeSelected","nodeDoubleClicked"],[3,"click"]],template:function(e,r){1&e&&(tt(0,"div",0,1),wt(2),et(),tt(3,"app-toggle-display",2,3)(5,"div")(6,"app-file-tree",4),Sn("nodeSelected",function(s){return r.onFileSelected(s)})("nodeDoubleClicked",function(){return r.updateGrammar()}),et(),tt(7,"button",5),Sn("click",function(){return r.updateGrammar()}),wt(8,"Update"),et()()()),2&e&&(Yt(2),Rl(" ",r.currentStatusMessage,"\n"),Yt(4),tn("fileTree",r.grammarFileTree))},dependencies:[Qv,lk],styles:[".status-message[_ngcontent-%COMP%]{color:red}"]}),t})();const h9=["edit1"],p9=["rl1"],g9=["cy1"],m9=["textareaElement"],v9=["errorhandle"];function y9(t,n){1&t&&(tt(0,"span"),wt(1,"Parse and rewrite"),et())}function b9(t,n){1&t&&Tn(0,"span",18)}function w9(t,n){1&t&&(tt(0,"span"),wt(1,"Loading..."),et())}function _9(t,n){1&t&&(tt(0,"span"),wt(1,"Extract multi-stage"),et())}function C9(t,n){1&t&&Tn(0,"span",18)}function E9(t,n){1&t&&(tt(0,"span"),wt(1,"Loading..."),et())}let x9=(()=>{class t{constructor(e){this.dataService=e,this.defaultValue="Every man hugged a woman.",this.changeDetector=new lr,this.loading=!1}analyzeSentence(e,r){this.loading=!0,this.errorhandle.nativeElement.innerHTML="",this.dataService.ligerAnnotate({sentence:e,ruleString:r}).subscribe(c=>{if(this.loading=!1,this.errorhandle.nativeElement.innerHTML="",c.hasOwnProperty("graph")?c.graph.hasOwnProperty("graphElements")&&(0!=c.graph.graphElements.length?(console.log(c.graph.graphElements),this.cy1.renderGraph(c.graph.graphElements),this.graphElements=c.graph.graphElements,this.displayMessage("Parsing successful...","green")):this.displayMessage("Parsing failed...","red")):this.displayMessage("Parsing failed...","red"),c.hasOwnProperty("appliedRules")&&null!==c.appliedRules){console.log(c.appliedRules),this.rulelist1.clearList();for(let m=0;m<c.appliedRules.length;m++)this.rulelist1.addElement({rule:c.appliedRules[m],index:m})}c.hasOwnProperty("meaningConstructors")&&(console.log(c.meaningConstructors),this.meaningConstructors=c.meaningConstructors,this.changeDetector.emit(c.meaningConstructors))},c=>{this.loading=!1,console.log("ERROR: ",c),this.displayMessage("An error occurred...","red")})}parseSentence(e,r){const i=e;this.errorhandle.nativeElement.innerHTML="",this.loading=!0,this.dataService.ligerParse({sentence:i,ruleString:""}).subscribe(c=>{this.loading=!1,c.hasOwnProperty("graph")?c.graph.hasOwnProperty("graphElements")&&(0!=c.graph.graphElements.length?(console.log(c.graph.graphElements),this.cy1.renderGraph(c.graph.graphElements),this.graphElements=c.graph.graphElements):this.displayMessage("Parsing failed...","red")):this.displayMessage("Parsing failed...","red"),c.hasOwnProperty("meaningConstructors")&&(console.log(c.meaningConstructors),this.meaningConstructors=c.meaningConstructors,this.changeDetector.emit(c.meaningConstructors))},c=>{console.log("ERROR: ",c),this.displayMessage("An error occurred...","red"),this.loading=!1})}calculateFromRuleList(e){let r=[];for(let s=0;s<=e.index;s++)r.push(this.rulelist1.elements[s].rule);console.log("New rules: \n",r);let i=r.map(s=>s.rule).join("\n");i="--replace(true);\n"+i,console.log("Rule string: \n",i),this.analyzeSentence(this.textarea.nativeElement.value,i)}showDialog(){this.cy1.subgraphDialog.setContent(this.graphElements),this.cy1.subgraphDialog.showDialog()}displayMessage(e,r){this.errorhandle.nativeElement.style.color=r,this.errorhandle.nativeElement.innerHTML="["+(new Date).toLocaleTimeString()+"] "+e}}return t.\u0275fac=function(e){return new(e||t)(We(Yg))},t.\u0275cmp=Or({type:t,selectors:[["app-liger-vis"]],viewQuery:function(e,r){if(1&e&&(zn(h9,5),zn(p9,5),zn(g9,5),zn(m9,5),zn(v9,5)),2&e){let i;In(i=An())&&(r.editor1=i.first),In(i=An())&&(r.rulelist1=i.first),In(i=An())&&(r.cy1=i.first),In(i=An())&&(r.textarea=i.first),In(i=An())&&(r.errorhandle=i.first)}},decls:37,vars:8,consts:[[3,"value"],["textareaElement",""],[1,"errorhandling"],["errorhandle",""],[3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"button","beta",3,"click"],["type","liger","showText","Show input rules","hideText","Hide input rules"],[1,"editor-restr"],[3,"mode"],["edit1",""],["showText","Show graph vis","hideText","Hide graph vis"],[1,"ligergraphcontainer"],["cy1",""],["type","liger","showText","Show applied rules","hideText","Hide applied rules"],[3,"calculateFromRule"],["rl1",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,r){if(1&e){const i=Vs();tt(0,"h3"),wt(1," Test sentence: "),et(),Tn(2,"textarea",0,1)(4,"br")(5,"div",2,3),tt(7,"button",4),Sn("click",function(){Hn(i);const c=ll(3),m=ll(22);return bi(r.analyzeSentence(c.value,m.getContent()))}),_r(8,y9,2,0,"span",5),_r(9,b9,1,0,"span",6),_r(10,w9,2,0,"span",5),et(),tt(11,"button",7),Sn("click",function(){Hn(i);const c=ll(3),m=ll(22);return bi(r.parseSentence(c.value,m.getContent()))}),_r(12,_9,2,0,"span",5),_r(13,C9,1,0,"span",6),_r(14,E9,2,0,"span",5),et(),Tn(15,"br")(16,"app-grammar-loader"),tt(17,"app-toggle-display",8)(18,"h3"),wt(19," Input rules: "),et(),tt(20,"div",9),Tn(21,"app-editor",10,11),et()(),tt(23,"app-toggle-display",12)(24,"h3"),wt(25," Graph visualization: "),et(),tt(26,"div",13),Tn(27,"app-graph-vis",null,14),tt(29,"button",4),Sn("click",function(){return r.showDialog()}),wt(30,"Show dialog"),et()(),Tn(31,"br"),et(),tt(32,"app-toggle-display",15)(33,"h3"),wt(34," Rule list: "),et(),tt(35,"app-rule-list",16,17),Sn("calculateFromRule",function(c){return r.calculateFromRuleList(c)}),et()()}2&e&&(Yt(2),tn("value",r.defaultValue),Yt(6),tn("ngIf",!r.loading),Yt(1),tn("ngIf",r.loading),Yt(1),tn("ngIf",r.loading),Yt(2),tn("ngIf",!r.loading),Yt(1),tn("ngIf",r.loading),Yt(1),tn("ngIf",r.loading),Yt(7),tn("mode","liger"))},dependencies:[cu,Xg,o6,u6,Qv,Vx],styles:["textarea[_ngcontent-%COMP%]{width:600px;height:50px;overflow:auto;display:block;resize:none}div.ligergraphcontainer[_ngcontent-%COMP%]{max-width:800px;width:800px;height:650px}div.errorhandling[_ngcontent-%COMP%]{color:red;padding-bottom:10px}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}"]}),t})();const D9=["l1"],T9=["g1"];function S9(t,n){if(1&t){const e=Vs();tt(0,"button",6),Sn("click",function(){Hn(e);const i=oi();return bi(i.isFirstDivMinimized=!i.isFirstDivMinimized)}),wt(1," >> "),et()}}function M9(t,n){if(1&t){const e=Vs();tt(0,"button",6),Sn("click",function(){Hn(e);const i=oi();return bi(i.isSecondDivMinimized=!i.isSecondDivMinimized)}),wt(1," << "),et()}}const uk=function(t){return{display:t}};let I9=(()=>{class t{constructor(){this.isFirstDivMinimized=!1,this.isSecondDivMinimized=!1}ngAfterViewInit(){this.liger.changeDetector.subscribe(e=>{this.glue.editor1.updateContent(e)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-glue-interface"]],viewQuery:function(e,r){if(1&e&&(zn(D9,5),zn(T9,5)),2&e){let i;In(i=An())&&(r.liger=i.first),In(i=An())&&(r.glue=i.first)}},decls:13,vars:8,consts:[[1,"container"],[1,"scrollable-div",3,"ngStyle"],[1,"toggle-button",3,"click"],["l1",""],["class","toggle-button-max",3,"click",4,"ngIf"],["g1",""],[1,"toggle-button-max",3,"click"]],template:function(e,r){1&e&&(tt(0,"div",0)(1,"div",1)(2,"button",2),Sn("click",function(){return r.isFirstDivMinimized=!r.isFirstDivMinimized}),wt(3," << "),et(),Tn(4,"app-liger-vis",null,3),et(),_r(6,S9,2,0,"button",4),tt(7,"div",1)(8,"button",2),Sn("click",function(){return r.isSecondDivMinimized=!r.isSecondDivMinimized}),wt(9," >> "),et(),Tn(10,"app-gswb-vis",null,5),et(),_r(12,M9,2,0,"button",4),et()),2&e&&(Yt(1),tn("ngStyle",Jh(4,uk,r.isFirstDivMinimized?"none":"block")),Yt(5),tn("ngIf",r.isFirstDivMinimized),Yt(1),tn("ngStyle",Jh(6,uk,r.isSecondDivMinimized?"none":"block")),Yt(5),tn("ngIf",r.isSecondDivMinimized))},dependencies:[cu,mC,n6,x9],styles:[".toggle-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:50px;height:100%;background-color:#fff;border:none;cursor:pointer;opacity:0;transition:opacity .3s;font-weight:700}.toggle-button[_ngcontent-%COMP%]:hover{opacity:.8;background:#00a9e0;color:#fff;border-radius:10px}.toggle-button-max[_ngcontent-%COMP%]{width:50px;height:100vh;font-weight:700;background-color:#fff;border:none;cursor:pointer}.toggle-button-max[_ngcontent-%COMP%]:hover{opacity:.2;background:#00a9e0;color:#fff;border-radius:10px}",".container[_ngcontent-%COMP%] {\n    padding: 15px;\n    display: flex;\n    flex-wrap: nowrap;\n  }\n  .scrollable-div[_ngcontent-%COMP%] {\n    position: relative;\n    flex: 1;\n    overflow-y: auto;\n    max-height: 100vh;\n    flex-basis: 50%;\n    padding-left: 60px\n  }\n\n  \n\n  @media (max-width: 1400px) {\n    .container[_ngcontent-%COMP%] {\n      flex-direction: column;\n    }\n    .scrollable-div[_ngcontent-%COMP%] {\n      max-height: none;\n      overflow-y: initial;\n    }\n  }"]}),t})();class Hx{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class A9 extends Hx{constructor(n,e,r,i,s){super(),this.component=n,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class zx extends Hx{constructor(n,e,r,i){super(),this.templateRef=n,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class O9 extends Hx{constructor(n){super(),this.element=n instanceof ti?n.nativeElement:n}}class N9{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof A9?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof zx?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof O9?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}let R9=(()=>{class t extends zx{constructor(e,r){super(e,r)}}return t.\u0275fac=function(e){return new(e||t)(We(zs),We(za))},t.\u0275dir=ln({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[qn]}),t})(),Ux=(()=>{class t extends N9{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new lr,this.attachDomPortal=s=>{const c=s.element,m=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(m,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(c,m)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=r.createComponent(s,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return t.\u0275fac=function(e){return new(e||t)(We(lg),We(za),We(Di))},t.\u0275dir=ln({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[qn]}),t})(),k9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({}),t})();const P9=["addListener","removeListener"],L9=["addEventListener","removeEventListener"],F9=["on","off"];function ay(t,n,e,r){if(S(e)&&(r=e,e=void 0),r)return ay(t,n,e).pipe(OC(r));const[i,s]=function H9(t){return S(t.addEventListener)&&S(t.removeEventListener)}(t)?L9.map(c=>m=>t[c](n,m,e)):function B9(t){return S(t.addListener)&&S(t.removeListener)}(t)?P9.map(ck(t,n)):function V9(t){return S(t.on)&&S(t.off)}(t)?F9.map(ck(t,n)):[];if(!i&&Ia(t))return qi(c=>ay(c,n,e))(No(t));if(!i)throw new TypeError("Invalid event target");return new Ye(c=>{const m=(..._)=>c.next(1<_.length?_:_[0]);return i(m),()=>s(m)})}function ck(t,n){return e=>r=>t[e](n,r)}function dk(t=0,n,e=q6){let r=-1;return null!=n&&(Cn(n)?e=n:r=n),new Ye(i=>{let s=function z9(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;s<0&&(s=0);let c=0;return e.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},s)})}const sy={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=sy;r&&(n=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=n(s=>{e=void 0,t(s)});return new C(()=>e?.(i))},requestAnimationFrame(...t){const{delegate:n}=sy;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=sy;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class G9 extends Nx{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class U9 extends Ox{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=sy.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:s}=n;null!=e&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==e&&(sy.cancelAnimationFrame(e),n._scheduled=void 0)}});let Gx,W9=1;const Z0={};function fk(t){return t in Z0&&(delete Z0[t],!0)}const $9={setImmediate(t){const n=W9++;return Z0[n]=!0,Gx||(Gx=Promise.resolve()),Gx.then(()=>fk(n)&&t()),n},clearImmediate(t){fk(t)}},{setImmediate:Y9,clearImmediate:X9}=$9,q0={setImmediate(...t){const{delegate:n}=q0;return(n?.setImmediate||Y9)(...t)},clearImmediate(t){const{delegate:n}=q0;return(n?.clearImmediate||X9)(t)},delegate:void 0};new class Z9 extends Nx{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class K9 extends Ox{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=q0.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:s}=n;null!=e&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==e&&(q0.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}});let jx=(()=>{class t{constructor(e,r,i){this._platform=e,this._change=new It,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,s=i.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(function J9(t,n=Rx){return function Q9(t){return rt((n,e)=>{let r=!1,i=null,s=null,c=!1;const m=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const R=i;i=null,e.next(R)}c&&e.complete()},_=()=>{s=null,c&&e.complete()};n.subscribe(ht(e,R=>{r=!0,i=R,s||No(t(R)).subscribe(s=ht(e,m,_))},()=>{c=!0,(!r||!s||s.closed)&&e.complete()}))})}(()=>dk(t,n))}(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Pt(Zu),Pt(Yr),Pt(Di,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function t7(t,n){}const n7=function(t){return{animationDuration:t}},r7=function(t,n){return{value:t,params:n}};function i7(t,n){1&t&&Cg(0)}const hk=["*"],o7=["tabListContainer"],a7=["tabList"],s7=["tabListInner"],l7=["nextPaginator"],u7=["previousPaginator"],c7=["tabBodyWrapper"],d7=["tabHeader"];function f7(t,n){}function h7(t,n){1&t&&_r(0,f7,0,0,"ng-template",14),2&t&&tn("cdkPortalOutlet",oi().$implicit.templateLabel)}function p7(t,n){1&t&&wt(0),2&t&&Zm(oi().$implicit.textLabel)}function g7(t,n){if(1&t){const e=Vs();tt(0,"div",6,7),Sn("click",function(){const i=Hn(e),s=i.$implicit,c=i.index,m=oi(),_=ll(1);return bi(m._handleClick(s,_,c))})("cdkFocusChange",function(i){const c=Hn(e).index;return bi(oi()._tabFocusChanged(i,c))}),Tn(2,"span",8)(3,"div",9),tt(4,"span",10)(5,"span",11),_r(6,h7,1,1,"ng-template",12),_r(7,p7,1,1,"ng-template",null,13,y1),et()()()}if(2&t){const e=n.$implicit,r=n.index,i=ll(1),s=ll(8),c=oi();Ha("mdc-tab--active",c.selectedIndex===r),tn("id",c._getTabLabelId(r))("ngClass",e.labelClass)("disabled",e.disabled)("fitInkBarToContent",c.fitInkBarToContent),Es("tabIndex",c._getTabIndex(r))("aria-posinset",r+1)("aria-setsize",c._tabs.length)("aria-controls",c._getTabContentId(r))("aria-selected",c.selectedIndex===r)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),Yt(3),tn("matRippleTrigger",i)("matRippleDisabled",e.disabled||c.disableRipple),Yt(3),tn("ngIf",e.templateLabel)("ngIfElse",s)}}function m7(t,n){if(1&t){const e=Vs();tt(0,"mat-tab-body",15),Sn("_onCentered",function(){return Hn(e),bi(oi()._removeTabBodyWrapperHeight())})("_onCentering",function(i){return Hn(e),bi(oi()._setTabBodyWrapperHeight(i))}),et()}if(2&t){const e=n.$implicit,r=n.index,i=oi();Ha("mat-mdc-tab-body-active",i.selectedIndex===r),tn("id",i._getTabContentId(r))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",i.animationDuration)("preserveContent",i.preserveContent),Es("tabindex",null!=i.contentTabIndex&&i.selectedIndex===r?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(r))}}const v7={translateTab:hG("translateTab",[SE("center, void, left-origin-center, right-origin-center",fp({transform:"none"})),SE("left",fp({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),SE("right",fp({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),ME("* => left, * => right, left => center, right => center",TE("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),ME("void => left-origin-center",[fp({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),TE("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),ME("void => right-origin-center",[fp({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),TE("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let y7=(()=>{class t extends Ux{constructor(e,r,i,s){super(e,r,s),this._host=i,this._centeringSub=C.EMPTY,this._leavingSub=C.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(dv(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(We(lg),We(za),We(Mn(()=>pk)),We(Di))},t.\u0275dir=ln({type:t,selectors:[["","matTabBodyHost",""]],features:[qn]}),t})(),b7=(()=>{class t{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,r,i){this._elementRef=e,this._dir=r,this._dirChangeSubscription=C.EMPTY,this._translateTabComplete=new It,this._onCentering=new lr,this._beforeCentering=new lr,this._afterLeavingCenter=new lr,this._onCentered=new lr(!0),this.animationDuration="500ms",this.preserveContent=!1,r&&(this._dirChangeSubscription=r.change.subscribe(s=>{this._computePositionAnimationState(s),i.markForCheck()})),this._translateTabComplete.pipe(en((s,c)=>s.fromState===c.fromState&&s.toState===c.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const r=this._isCenterPosition(e.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const r=this._getLayoutDirection();return"ltr"==r&&e<=0||"rtl"==r&&e>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(em,8),We(xs))},t.\u0275dir=ln({type:t,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),pk=(()=>{class t extends b7{constructor(e,r,i){super(e,r,i)}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(em,8),We(xs))},t.\u0275cmp=Or({type:t,selectors:[["mat-tab-body"]],viewQuery:function(e,r){if(1&e&&zn(Ux,5),2&e){let i;In(i=An())&&(r._portalHost=i.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[qn],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,r){1&e&&(tt(0,"div",0,1),Sn("@translateTab.start",function(s){return r._onTranslateTabStarted(s)})("@translateTab.done",function(s){return r._translateTabComplete.next(s)}),_r(2,t7,0,0,"ng-template",2),et()),2&e&&tn("@translateTab",x_(3,r7,r._position,Jh(1,n7,r.animationDuration)))},dependencies:[y7],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[v7.translateTab]}}),t})();const w7=new Kt("MatTabContent");let _7=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(We(zs))},t.\u0275dir=ln({type:t,selectors:[["","matTabContent",""]],features:[$r([{provide:w7,useExisting:t}])]}),t})();const C7=new Kt("MatTabLabel"),gk=new Kt("MAT_TAB");let E7=(()=>{class t extends R9{constructor(e,r,i){super(e,r),this._closestTab=i}}return t.\u0275fac=function(e){return new(e||t)(We(zs),We(za),We(gk,8))},t.\u0275dir=ln({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[$r([{provide:C7,useExisting:t}]),qn]}),t})();const Wx="mdc-tab-indicator--active",mk="mdc-tab-indicator--no-transition";class x7{constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar())}alignToElement(n){const e=this._items.find(i=>i.elementRef.nativeElement===n),r=this._currentItem;if(e!==r&&(r?.deactivateInkBar(),e)){const i=r?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(i),this._currentItem=e}}}function D7(t){return class extends t{constructor(...n){super(...n),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(n){const e=cl(n);this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(n){const e=this.elementRef.nativeElement;if(!n||!e.getBoundingClientRect||!this._inkBarContentElement)return void e.classList.add(Wx);const r=e.getBoundingClientRect(),i=n.width/r.width,s=n.left-r.left;e.classList.add(mk),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${i})`),e.getBoundingClientRect(),e.classList.remove(mk),e.classList.add(Wx),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(Wx)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const n=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=n.createElement("span"),this._inkBarContentElement=n.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const S7=W0(class{}),M7=D7((()=>{class t extends S7{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(We(ti))},t.\u0275dir=ln({type:t,features:[qn]}),t})());let vk=(()=>{class t extends M7{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,r){2&e&&(Es("aria-disabled",!!r.disabled),Ha("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[qn]}),t})();const I7=W0(class{}),yk=new Kt("MAT_TAB_GROUP");let A7=(()=>{class t extends I7{get content(){return this._contentPortal}constructor(e,r){super(),this._viewContainerRef=e,this._closestTabGroup=r,this.textLabel="",this._contentPortal=null,this._stateChanges=new It,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new zx(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(yk,8))},t.\u0275dir=ln({type:t,viewQuery:function(e,r){if(1&e&&zn(zs,7),2&e){let i;In(i=An())&&(r._implicitContent=i.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[qn,_a]}),t})(),bk=(()=>{class t extends A7{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275cmp=Or({type:t,selectors:[["mat-tab"]],contentQueries:function(e,r,i){if(1&e&&(Xf(i,_7,7,zs),Xf(i,E7,5)),2&e){let s;In(s=An())&&(r._explicitContent=s.first),In(s=An())&&(r.templateLabel=s.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[$r([{provide:gk,useExisting:t}]),qn],ngContentSelectors:hk,decls:1,vars:0,template:function(e,r){1&e&&(_g(),_r(0,i7,1,0,"ng-template"))},encapsulation:2}),t})();const wk=ty({passive:!0});let R7=(()=>{class t{get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=cl(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=sh(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}constructor(e,r,i,s,c,m,_){this._elementRef=e,this._changeDetectorRef=r,this._viewportRuler=i,this._dir=s,this._ngZone=c,this._platform=m,this._animationMode=_,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new It,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new It,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new lr,this.indexFocused=new lr,c.runOutsideAngular(()=>{ay(e.nativeElement,"mouseleave").pipe(Ku(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){ay(this._previousPaginator.nativeElement,"touchstart",wk).pipe(Ku(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),ay(this._nextPaginator.nativeElement,"touchstart",wk).pipe(Ku(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:qe("ltr"),r=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new s$(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(zc(1)).subscribe(i),nt(e,r,this._items.changes,this._itemsResized()).pipe(Ku(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),i()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?va:this._items.changes.pipe(dv(this._items),Vt(e=>new Ye(r=>this._ngZone.runOutsideAngular(()=>{const i=new ResizeObserver(s=>r.next(s));return e.forEach(s=>i.observe(s.elementRef.nativeElement)),()=>{i.disconnect()}}))),Px(1),kl(e=>e.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!xR(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const r=this._items.get(this.focusIndex);r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const r=this._tabListContainer.nativeElement;r.scrollLeft="ltr"==this._getLayoutDirection()?0:r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,r="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const r=this._items?this._items.toArray()[e]:null;if(!r)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:c}=r.elementRef.nativeElement;let m,_;"ltr"==this._getLayoutDirection()?(m=s,_=m+c):(_=this._tabListInner.nativeElement.offsetWidth-s,m=_-c);const R=this.scrollDistance,U=this.scrollDistance+i;m<R?this.scrollDistance-=R-m:_>U&&(this.scrollDistance+=Math.min(_-U,m-R))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=e?e.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,r){r&&null!=r.button&&0!==r.button||(this._stopInterval(),dk(650,100).pipe(Ku(nt(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:i,distance:s}=this._scrollHeader(e);(0===s||s>=i)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(xs),We(jx),We(em,8),We(Yr),We(Zu),We(kc,8))},t.\u0275dir=ln({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),k7=(()=>{class t extends R7{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=cl(e)}constructor(e,r,i,s,c,m,_){super(e,r,i,s,c,m,_),this._disableRipple=!1}_itemSelected(e){e.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(xs),We(jx),We(em,8),We(Yr),We(Zu),We(kc,8))},t.\u0275dir=ln({type:t,inputs:{disableRipple:"disableRipple"},features:[qn]}),t})(),P7=(()=>{class t extends k7{constructor(e,r,i,s,c,m,_){super(e,r,i,s,c,m,_)}ngAfterContentInit(){this._inkBar=new x7(this._items),super.ngAfterContentInit()}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(xs),We(jx),We(em,8),We(Yr),We(Zu),We(kc,8))},t.\u0275cmp=Or({type:t,selectors:[["mat-tab-header"]],contentQueries:function(e,r,i){if(1&e&&Xf(i,vk,4),2&e){let s;In(s=An())&&(r._items=s)}},viewQuery:function(e,r){if(1&e&&(zn(o7,7),zn(a7,7),zn(s7,7),zn(l7,5),zn(u7,5)),2&e){let i;In(i=An())&&(r._tabListContainer=i.first),In(i=An())&&(r._tabList=i.first),In(i=An())&&(r._tabListInner=i.first),In(i=An())&&(r._nextPaginator=i.first),In(i=An())&&(r._previousPaginator=i.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(e,r){2&e&&Ha("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[qn],ngContentSelectors:hk,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,r){1&e&&(_g(),tt(0,"button",0,1),Sn("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(s){return r._handlePaginatorPress("before",s)})("touchend",function(){return r._stopInterval()}),Tn(2,"div",2),et(),tt(3,"div",3,4),Sn("keydown",function(s){return r._handleKeydown(s)}),tt(5,"div",5,6),Sn("cdkObserveContent",function(){return r._onContentChanges()}),tt(7,"div",7,8),Cg(9),et()()(),tt(10,"button",9,10),Sn("mousedown",function(s){return r._handlePaginatorPress("after",s)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),Tn(12,"div",2),et()),2&e&&(Ha("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),tn("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),Yt(3),Ha("_mat-animation-noopable","NoopAnimations"===r._animationMode),Yt(7),Ha("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),tn("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[Bx,J6],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2}),t})();const _k=new Kt("MAT_TABS_CONFIG");let L7=0;const F7=Fx(UR(class{constructor(t){this._elementRef=t}}),"primary");let B7=(()=>{class t extends F7{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=cl(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=sh(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=sh(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=cl(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=cl(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&r.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,r,i,s){super(e),this._changeDetectorRef=r,this._animationMode=s,this._tabs=new Sg,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=C.EMPTY,this._tabLabelSubscription=C.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new lr,this.focusChange=new lr,this.animationDone=new lr,this.selectedTabChange=new lr(!0),this._groupId=L7++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination,this.dynamicHeight=!(!i||null==i.dynamicHeight)&&i.dynamicHeight,this.contentTabIndex=i?.contentTabIndex??null,this.preserveContent=!!i?.preserveContent}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const r=null==this._selectedIndex;if(!r){this.selectedTabChange.emit(this._createChangeEvent(e));const i=this._tabBodyWrapper.nativeElement;i.style.minHeight=i.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((i,s)=>i.isActive=s===e),r||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,i)=>{r.position=i-e,null!=this._selectedIndex&&0==r.position&&!r.origin&&(r.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const r=this._tabs.toArray();let i;for(let s=0;s<r.length;s++)if(r[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,i=r[s];break}!i&&r[e]&&Promise.resolve().then(()=>{r[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(dv(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const r=this._tabHeader;r&&(r.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const r=new H7;return r.index=e,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[e]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=nt(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,r,i){r.focusIndex=i,e.disabled||(this.selectedIndex=i)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,r){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=r)}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(xs),We(_k,8),We(kc,8))},t.\u0275dir=ln({type:t,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[qn]}),t})(),V7=(()=>{class t extends B7{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=cl(e),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(e){this._stretchTabs=cl(e)}constructor(e,r,i,s){super(e,r,i,s),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!i||null==i.fitInkBarToContent)&&i.fitInkBarToContent,this.stretchTabs=!i||null==i.stretchTabs||i.stretchTabs}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(xs),We(_k,8),We(kc,8))},t.\u0275cmp=Or({type:t,selectors:[["mat-tab-group"]],contentQueries:function(e,r,i){if(1&e&&Xf(i,bk,5),2&e){let s;In(s=An())&&(r._allTabs=s)}},viewQuery:function(e,r){if(1&e&&(zn(c7,5),zn(d7,5)),2&e){let i;In(i=An())&&(r._tabBodyWrapper=i.first),In(i=An())&&(r._tabHeader=i.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:8,hostBindings:function(e,r){2&e&&(Xm("--mat-tab-animation-duration",r.animationDuration),Ha("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[$r([{provide:yk,useExisting:t}]),qn],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(e,r){1&e&&(tt(0,"mat-tab-header",0,1),Sn("indexFocused",function(s){return r._focusChanged(s)})("selectFocusedIndex",function(s){return r.selectedIndex=s}),_r(2,g7,9,17,"div",2),et(),tt(3,"div",3,4),_r(5,m7,1,11,"mat-tab-body",5),et()),2&e&&(tn("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),Yt(2),tn("ngForOf",r._tabs),Yt(1),Ha("_mat-animation-noopable","NoopAnimations"===r._animationMode),Yt(2),tn("ngForOf",r._tabs))},dependencies:[lv,Og,cu,Ux,Bx,y$,pk,vk,P7],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-letter-spacing);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2}),t})();class H7{}let z7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[bC,Kc,k9,KR,SR,b$,Kc]}),t})();const U7=["contextPruning"];function G7(t,n){if(1&t){const e=Vs();jm(0,10),Sn("click",function(){Hn(e);const i=oi(2).$implicit;return bi(oi().toggleGlyphVisibility(i))}),Tn(1,"div",18),Wm()}if(2&t){const e=oi(2).$implicit,r=oi();Yt(1),tn("innerHTML",r.sanitizeSvg(e.glyph),Jx)}}function j7(t,n){1&t&&(jm(0),tt(1,"div"),wt(2,"V"),et(),Wm())}const W7=function(t){return{minimized:t}};function $7(t,n){if(1&t){const e=Vs();tt(0,"div",15),Sn("click",function(){Hn(e);const i=oi().$implicit;return bi(oi().toggleGlyphVisibility(i))}),_r(1,G7,2,1,"ng-container",16),_r(2,j7,3,0,"ng-container",17),et()}if(2&t){const e=oi().$implicit;tn("ngClass",Jh(3,W7,!e.showGlyph)),Yt(1),tn("ngIf",e.showGlyph),Yt(1),tn("ngIf",!e.showGlyph)}}const Y7=function(t,n){return{"user-message":t,"bot-message":n}};function X7(t,n){if(1&t&&(tt(0,"div",11)(1,"span",12),wt(2),et(),tt(3,"pre",13),wt(4),et(),_r(5,$7,3,5,"div",14),et()),2&t){const e=n.$implicit;tn("ngClass",x_(4,Y7,"User"===e.sender,"Bot"===e.sender)),Yt(2),Rl("",e.sender,":"),Yt(2),Zm(e.text),Yt(1),tn("ngIf",e.glyph)}}function K7(t,n){1&t&&(tt(0,"div",19),Tn(1,"div",20),et())}let Z7=(()=>{class t{constructor(e,r,i){this.dataService=e,this.changeDetector=r,this.sanitizer=i,this.ruleString="",this.history=[],this.historyChange=new lr,this.axioms="",this.activeIndices=[],this.clearSelection=new lr,this.chatHistory=[],this.userInput="",this.meaningConstructors="",this.context=[],this.loading=!1}sendMessage(){if(!this.userInput.trim())return;this.loading=!0;const e=this.userInput;var r="";this.chatHistory.push({text:e,sender:"User"}),this.dataService.ligerAnnotate({sentence:e,ruleString:this.ruleString}).subscribe(s=>{if(!s.hasOwnProperty("graph")||!s.graph.hasOwnProperty("graphElements")||0===s.graph.graphElements.length)return this.chatHistory.push({text:"Syntactic analysis failed for this input!",sender:"Bot"}),void(this.loading=!1);if(!s.hasOwnProperty("meaningConstructors"))return this.chatHistory.push({text:"Could not find meaning constructors for this input!",sender:"Bot"}),void(this.loading=!1);{this.meaningConstructors=s.meaningConstructors;const c={premises:this.meaningConstructors,gswbPreferences:this.gswbPreferences.gswbPreferences};console.log("Gswb request: ",c),this.dataService.gswbDeduce(c).subscribe(m=>{let _="";if(!(m.hasOwnProperty("solutions")&&m.solutions.length>0&&""!=m.solutions[0]))return this.chatHistory.push({text:"No semantic analyses found for this input!",sender:"Bot"}),void(this.loading=!1);{_=m.solutions.join("\n");const U={text:e,context:this.context,axioms:this.axioms,hypothesis:_,pruning:this.contextPruning.nativeElement.checked,active_indices:this.activeIndices};console.log("Vampire request: ",U),this.dataService.callVampire(U).subscribe(K=>{if(console.log("Vampire response: ",K),this.clearSelected(),K.hasOwnProperty("context")){const Fe=K.context;this.history.push(Fe),this.context=Fe,this.historyChange.emit(this.history),this.changeDetector.detectChanges();var be=null,Ae=null;Object.keys(K.context_checks_mapping).length>0&&(r=K.context_checks_mapping[0].glyph,Ae=K.context_checks_mapping[0].informative,be=K.context_checks_mapping[0].consistent),this.chatHistory.push({text:null===be?"Okay ...":be?Ae?"Your input is consistent and informative.":"Your input is not informative.":"Your input does not make sense.",sender:"Bot",glyph:r,showGlyph:!1})}this.loading=!1},K=>{console.log("An error occurred during the call to Vampire"),this.loading=!1})}},m=>{console.log("ERROR: ",m),this.chatHistory.push({text:"An error occurred during the semantic analysis",sender:"Bot"}),this.loading=!1})}},s=>{this.chatHistory.push({text:"An unknown error occurred.",sender:"Bot"}),console.log("ERROR: ",s),this.loading=!1}),this.userInput=""}clearSelected(){this.clearSelection.emit(),console.log("Selection cleared in chat component")}sanitizeSvg(e){return this.sanitizer.bypassSecurityTrustHtml(e)}toggleGlyphVisibility(e){e.showGlyph=!e.showGlyph}}return t.\u0275fac=function(e){return new(e||t)(We(Yg),We(xs),We(Ob))},t.\u0275cmp=Or({type:t,selectors:[["app-chat"]],viewQuery:function(e,r){if(1&e&&zn(U7,5),2&e){let i;In(i=An())&&(r.contextPruning=i.first)}},inputs:{ruleString:"ruleString",gswbPreferences:"gswbPreferences",history:"history",axioms:"axioms",activeIndices:"activeIndices"},outputs:{historyChange:"historyChange",clearSelection:"clearSelection"},decls:13,vars:3,consts:[[1,"pruning-container"],["type","checkbox","id","contextPruning"],["contextPruning",""],["for","contextPruning"],[1,"chat-container"],[1,"chat-history"],["class","message-container",3,"ngClass",4,"ngFor","ngForOf"],["class","loading-container",4,"ngIf"],[1,"chat-input"],["placeholder","Type your message...",3,"ngModel","ngModelChange","keyup.enter"],[3,"click"],[1,"message-container",3,"ngClass"],[1,"message-sender"],[1,"message-text"],["class","message-glyph",3,"ngClass","click",4,"ngIf"],[1,"message-glyph",3,"ngClass","click"],[3,"click",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],[1,"loading-container"],[1,"loading-spinner"]],template:function(e,r){1&e&&(tt(0,"div",0),Tn(1,"input",1,2),tt(3,"label",3),wt(4,"Pruning"),et()(),tt(5,"div",4)(6,"div",5),_r(7,X7,6,7,"div",6),_r(8,K7,2,0,"div",7),et(),tt(9,"div",8)(10,"input",9),Sn("ngModelChange",function(s){return r.userInput=s})("keyup.enter",function(){return r.sendMessage()}),et(),tt(11,"button",10),Sn("click",function(){return r.sendMessage()}),wt(12,"Send"),et()()()),2&e&&(Yt(7),tn("ngForOf",r.chatHistory),Yt(1),tn("ngIf",r.loading),Yt(2),tn("ngModel",r.userInput))},dependencies:[lv,Og,cu,Gg,Tv,kv],styles:[".chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-width:600px;margin:auto;border:1px solid #ccc;border-radius:8px;overflow:hidden;background:white}.chat-history[_ngcontent-%COMP%]{flex:1;padding:16px;overflow-y:auto;display:flex;flex-direction:column;background:#f9f9f9}.message-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;max-width:75%;padding:8px;border-radius:8px;margin:4px 0}.user-message[_ngcontent-%COMP%]{align-self:flex-end;text-align:right;background:#00a9e0;color:#fff}.bot-message[_ngcontent-%COMP%]{align-self:flex-start;text-align:left;background:#ddd;color:#000}.message-text[_ngcontent-%COMP%]{font-family:Courier New,Courier,Lucida Console,DejaVu Sans Mono,Monaco,Menlo,Consolas,monospace;white-space:pre-wrap;word-break:break-word;overflow-wrap:anywhere}.message-sender[_ngcontent-%COMP%]{font-size:12px;font-weight:700;display:block;margin-bottom:2px}.message-glyph[_ngcontent-%COMP%]{border-radius:4px;position:absolute;bottom:4px;right:4px;width:98px;height:82px;display:flex;align-items:center;justify-content:center;background:white;border:1px solid #ccc;cursor:pointer;transition:all .3s ease-in-out}.message-glyph.minimized[_ngcontent-%COMP%]{width:20px;height:20px;background:green;border-radius:4px;display:flex;align-items:center;justify-content:center;border:none;overflow:hidden;color:#fff;text-align:center}.message-glyph[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;background:white}.chat-input[_ngcontent-%COMP%]{display:flex;padding:12px;background:#fff;border-top:1px solid #ccc}.chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:4px}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px;padding:10px 16px;border:none;background:#00a9e0;color:#fff;border-radius:4px;cursor:pointer;font-weight:700}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0079b3}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:16px}.loading-spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid rgba(0,0,0,.1);border-top-color:#00a9e0;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),t})();const q7=["grammarListSelector"],Q7=["statusMessage"],J7=["toggleDisplayComponent"];let Ck=(()=>{class t{constructor(e,r){this.dataService=e,this.cd=r,this.dataEmitter=new lr,this.grammarList=[],this.defaultRules="./liger_resources/test_rules.txt",this.grammarsDirectory="./liger_resources",this.currentStatusMessage="",this.grammarFileTree=[],this.selectedPath="",this.rules=""}ngOnInit(){this.getGrammars(this.grammarsDirectory),console.log("Initial file tree:",this.grammarFileTree),this.selectedPath=this.defaultRules,this.updateGrammar(),this.sendRules()}ngAfterViewInit(){this.toggleDisplayComponent?this.toggleDisplayComponent.isHidden=!0:console.error("toggleDisplayComponent is still undefined in ngAfterViewInit.")}onFileSelected(e){console.log("Selected path from file tree:",e),this.selectedPath=e}updateGrammar(){this.selectedPath?(console.log("Changing rules to: "+this.selectedPath),this.dataService.loadRules({grammar:this.selectedPath}).subscribe(e=>{console.log(e),e.hasOwnProperty("grammar")?(console.log("Successfully loaded rules: "+this.selectedPath),this.currentStatusMessage="Currently loaded rules: "+this.selectedPath,this.cd.detectChanges(),this.toggleDisplayComponent.isHidden=!0,this.rules=e.grammar,this.sendRules()):this.currentStatusMessage="Failed to load grammar: "+this.selectedPath},e=>{console.log("ERROR: ",e),this.currentStatusMessage="Failed to load rules: "+this.selectedPath})):console.error("No file or folder selected!")}getGrammars(e){console.log("Fetching grammars via POST request"),this.dataService.getFileTree({grammar:e}).subscribe(r=>{console.log(r),r.hasOwnProperty("children")&&(console.log("Grammar file tree:",r.children),this.grammarFileTree=this.buildFileTree(r.children))},r=>{console.error("Failed to fetch grammars:",r)})}buildFileTree(e){return e.map(r=>({name:r.name,path:r.path,isDirectory:r.isDirectory||r.directory,children:r.children&&r.children.length>0?this.buildFileTree(r.children):[]}))}sendRules(){this.dataEmitter.emit(this.rules)}}return t.\u0275fac=function(e){return new(e||t)(We(Yg),We(xs))},t.\u0275cmp=Or({type:t,selectors:[["app-rule-loader"]],viewQuery:function(e,r){if(1&e&&(zn(q7,5),zn(Q7,5),zn(J7,5)),2&e){let i;In(i=An())&&(r.grammarListSelector=i.first),In(i=An())&&(r.statusMessageDiv=i.first),In(i=An())&&(r.toggleDisplayComponent=i.first)}},outputs:{dataEmitter:"dataEmitter"},decls:9,vars:2,consts:[[1,"status-message"],["statusMessage",""],["type","fileTree","showText","Select file","hideText","Hide file selection"],["toggleDisplayComponent",""],[3,"fileTree","nodeSelected","nodeDoubleClicked"],[3,"click"]],template:function(e,r){1&e&&(tt(0,"div",0,1),wt(2),et(),tt(3,"app-toggle-display",2,3)(5,"div")(6,"app-file-tree",4),Sn("nodeSelected",function(s){return r.onFileSelected(s)})("nodeDoubleClicked",function(){return r.updateGrammar()}),et(),tt(7,"button",5),Sn("click",function(){return r.updateGrammar()}),wt(8,"Update"),et()()()),2&e&&(Yt(2),Rl(" ",r.currentStatusMessage,"\n"),Yt(4),tn("fileTree",r.grammarFileTree))},dependencies:[Qv,lk],styles:[".status-message[_ngcontent-%COMP%]{color:red}"]}),t})();function eY(t,n){if(1&t){const e=Vs();tt(0,"div",5),Sn("click",function(){const s=Hn(e).index,c=oi().index,m=oi();return bi(c===m.history.length-1?m.toggleSelection(s):null)}),wt(1),et()}if(2&t){const e=n.$implicit,r=n.index,i=oi().index,s=oi();Ha("selected",s.isSelected(r)&&i===s.history.length-1),Yt(1),Rl(" ",e.box," ")}}function tY(t,n){if(1&t&&(tt(0,"div",3),_r(1,eY,2,3,"div",4),et()),2&t){const e=n.$implicit;Yt(1),tn("ngForOf",e)}}let nY=(()=>{class t{constructor(){this.history=[],this.selectionChanged=new lr,this.selectedIndices=[]}addHistoryEntry(e){this.history.push(e),this.selectedIndices=[],this.emitSelection()}clearHistory(){this.history=[],this.selectedIndices=[],this.emitSelection()}toggleSelection(e){this.selectedIndices.includes(e)?this.selectedIndices=this.selectedIndices.filter(r=>r!==e):this.selectedIndices.push(e),this.emitSelection()}selectAllLastEntry(){this.history.length>0&&(this.selectedIndices=this.history[this.history.length-1].map((r,i)=>i),this.emitSelection())}clearSelection(){this.selectedIndices=[],this.selectionChanged.emit(this.selectedIndices),console.log("Selection cleared in history component",this.selectedIndices)}isSelected(e){return this.selectedIndices.includes(e)}emitSelection(){this.selectionChanged.emit(this.selectedIndices)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-history"]],inputs:{history:"history"},outputs:{selectionChanged:"selectionChanged"},decls:4,vars:1,consts:[[1,"history-container"],["class","history-row",4,"ngFor","ngForOf"],[3,"click"],[1,"history-row"],["class","history-box",3,"selected","click",4,"ngFor","ngForOf"],[1,"history-box",3,"click"]],template:function(e,r){1&e&&(tt(0,"div",0),_r(1,tY,2,1,"div",1),et(),tt(2,"button",2),Sn("click",function(){return r.selectAllLastEntry()}),wt(3,"Select All (Last Entry)"),et()),2&e&&(Yt(1),tn("ngForOf",r.history))},dependencies:[Og],styles:[".history-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-height:400px;overflow-y:auto;border:1px solid #ccc;padding:10px;width:80%;margin:auto}.history-row[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-bottom:10px}.history-box[_ngcontent-%COMP%]{font-family:monospace;white-space:pre-wrap;text-align:center;background-color:#f4f4f4;padding:10px;border-radius:5px;border:1px solid #ddd;min-width:100px;cursor:pointer;transition:background-color .2s ease-in-out,border-color .2s ease-in-out}.history-box.selected[_ngcontent-%COMP%]{background-color:#add8e6;border-color:#00f;font-weight:700}.history-box[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}button[_ngcontent-%COMP%]{margin-top:10px;padding:8px 15px;font-size:14px;cursor:pointer;border:1px solid #007bff;background-color:#007bff;color:#fff;border-radius:4px;transition:background-color .2s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]}),t})();const rY=["gswbPrefs"],iY=["chat"],oY=["history"],aY=["axiomEdit"];function sY(t,n){if(1&t){const e=Vs();tt(0,"mat-tab-group",7),Sn("selectedIndexChange",function(i){return Hn(e),bi(oi().onTabChange(i))}),tt(1,"mat-tab",8)(2,"div",9)(3,"app-chat",10),Sn("historyChange",function(i){return Hn(e),bi(oi().updateHistory(i))})("clearSelection",function(){return Hn(e),bi(oi().onClearSelection())}),wt(4," >"),et()()(),tt(5,"mat-tab",11)(6,"div",9)(7,"app-history",12),Sn("selectionChanged",function(i){return Hn(e),bi(oi().onSelectionChanged(i))}),et()()(),tt(8,"mat-tab",13)(9,"div",9)(10,"div",14),Tn(11,"app-editor",15,16),et()()()()}if(2&t){const e=oi(),r=ll(15);Yt(3),tn("ruleString",e.ruleFile)("axioms",e.axioms)("gswbPreferences",r)("history",e.history)("activeIndices",e.selectedElements),Yt(4),tn("history",e.history),Yt(4),tn("mode","glue")}}let lY=(()=>{class t{constructor(e){this.cdRef=e,this.ruleFile="",this.history=[],this.axioms="",this.selectedElements=[],this.tabsInitialized=!1}ngAfterViewInit(){this.cdRef.detectChanges(),this.gswbPreferences?this.gswbPreferences.gswbPreferences={prover:1,debugging:!1,outputstyle:4,parseSem:!1,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:!1,naturalDeductionStyle:0}:console.error("ERROR: `gswbPreferences` ViewChild not initialized!"),this.tabsInitialized=!0}updateData(e){this.ruleFile=e}updateHistory(e){console.log("History updated:",e),this.history=e}onSelectionChanged(e){this.selectedElements=e,console.log("Selected elements updated in parent:",this.selectedElements)}onClearSelection(){this.selectedElements=[],this.historyComponent&&this.historyComponent.clearSelection(),console.log("Called onClearSelection in parent component")}onTabChange(e){setTimeout(()=>{this.editor?.getContent&&(console.log("Updating axioms to: ",this.editor.getContent()),this.axioms=this.editor.getContent(),this.cdRef.detectChanges())})}}return t.\u0275fac=function(e){return new(e||t)(We(xs))},t.\u0275cmp=Or({type:t,selectors:[["app-inference-vis"]],viewQuery:function(e,r){if(1&e&&(zn(rY,5),zn(iY,5),zn(oY,5),zn(aY,5)),2&e){let i;In(i=An())&&(r.gswbPreferences=i.first),In(i=An())&&(r.chatComponent=i.first),In(i=An())&&(r.historyComponent=i.first),In(i=An())&&(r.editor=i.first)}},decls:17,vars:1,consts:[[1,"container"],["type","fileTree","showText","Show settings","hideText","Hide settings"],["toggleDisplayComponent",""],[1,"grammar-loader-container"],[3,"dataEmitter"],["gswbPrefs",""],[3,"selectedIndexChange",4,"ngIf"],[3,"selectedIndexChange"],["label","Chat"],[1,"tab-content"],[3,"ruleString","axioms","gswbPreferences","history","activeIndices","historyChange","clearSelection"],["label","History"],[3,"history","selectionChanged"],["label","Axioms"],[1,"editor-restr"],[3,"mode"],["axiomEdit",""]],template:function(e,r){1&e&&(tt(0,"div",0)(1,"h1"),wt(2,"Semantig parser settings"),et(),tt(3,"app-toggle-display",1,2)(5,"div",3)(6,"div")(7,"h2"),wt(8,"Grammar selection:"),et(),Tn(9,"app-grammar-loader"),et(),tt(10,"div")(11,"h2"),wt(12,"Rule file selection:"),et(),tt(13,"app-rule-loader",4),Sn("dataEmitter",function(s){return r.updateData(s)}),et()()(),Tn(14,"app-gswb-settings",null,5),et()(),_r(16,sY,13,7,"mat-tab-group",6)),2&e&&(Yt(16),tn("ngIf",r.tabsInitialized))},dependencies:[cu,bk,V7,Xg,Qv,Dx,Vx,Z7,Ck,nY],styles:["mat-tab-group[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.tab-content[_ngcontent-%COMP%]{flex:1;padding:16px;overflow:auto;background:#f5f5f5;height:calc(85vh - 48px)}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}app-chat[_ngcontent-%COMP%]{flex:1;min-height:0}.grammar-loader-container[_ngcontent-%COMP%]{padding:5px;display:flex;gap:16px}.container[_ngcontent-%COMP%]{padding:15px}"]}),t})();const uY=["graphContainer"],cY=["subgraphDialog"];js().use(O0()),js().use(bR());let dY=(()=>{class t{constructor(){this.style=[{selector:'node[node_type="rule"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow red","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}],this.defaultWidth="800px",this.defaultHeight="600px"}ngOnInit(){this.cy=js()({container:document.getElementById("cy"),style:this.style,layout:{name:"dagre"}})}makePopper(e){const r=e.popperRef();e.tippy=qv(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;return s.hasOwnProperty("rule")&&(i.innerHTML=i.innerHTML+"Rule "+s.id+": "+s.rule+"at line: "+s.line+"<br>"),i},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("rule")&&(this.makePopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}renderGraph(e){this.cy=js()({container:document.getElementById(this.graphID),elements:e,style:this.calculateStyle(e),layout:{name:"dagre"}}),this.createAndBindPoppers(),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy)}calculateStyle(e){let r=e.filter(R=>R.data.hasOwnProperty("rule"));r.sort((R,U)=>R.data.id>U.data.id?1:-1),console.log("Sorted nodes: ",r);const i=Math.floor(r.length/10);console.log("NodeBucket: ",i);let s=0,c=[];for(let R=0;R<r.length;R++){R%i==0&&s++;let U="style"+s;r[R].data.node_style=U,c.includes(U)||c.push(U)}console.log("Styles: ",c);let m=[],_=this.calculateColorStops("#FFFF00","#FF0000",c.length);for(let R=0;R<c.length;R++){let ge={selector:'node[node_style="'+c[R]+'"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":_[R]+" white","background-gradient-stop-positions":"100 100"}};console.log("Current cyto style: ",ge),m.push(ge)}return m}resizeToDefault(){const e=this.graphContainer.nativeElement;e.style.width=this.defaultWidth,e.style.height=this.defaultHeight}showDialog(){this.subgraphDialog.setContent(this.cy.data()),this.subgraphDialog.showDialog()}calculateColorStops(e,r,i){let s=[];for(let c=0;c<i;c++){const _=this.calculateColor(e,r,c/(i-1));s.push(_)}return s}calculateColor(e,r,i){const s=Math.round(this.interpolate(e.slice(1,3),r.slice(1,3),i)),c=Math.round(this.interpolate(e.slice(3,5),r.slice(3,5),i)),m=Math.round(this.interpolate(e.slice(5,7),r.slice(5,7),i));return`#${this.componentToHex(s)}${this.componentToHex(c)}${this.componentToHex(m)}`}interpolate(e,r,i){return(1-i)*parseInt(e,16)+i*parseInt(r,16)}componentToHex(e){const r=e.toString(16);return 1===r.length?"0"+r:r}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-applied-rules-graph"]],viewQuery:function(e,r){if(1&e&&(zn(uY,5),zn(cY,5)),2&e){let i;In(i=An())&&(r.graphContainer=i.first),In(i=An())&&(r.subgraphDialog=i.first)}},inputs:{graphID:"graphID"},decls:7,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(e,r){1&e&&(tt(0,"div"),Tn(1,"div",0,1),tt(3,"button",2),Sn("click",function(){return r.resizeToDefault()}),wt(4,"Resize to Default"),et(),Tn(5,"app-sub-graph-dialog",3,4),et()),2&e&&(Yt(1),tn("id",r.graphID),Yt(4),tn("subgraphID","sub"+r.graphID)("subgraphStyle","liger"))},dependencies:[xx],styles:["div.cy[_ngcontent-%COMP%]{width:760px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const fY=["solution"],hY=function(t){return{"highlight-block":t}};let pY=(()=>{class t{constructor(){this.sentence_id="",this.sentence="",this.numberOfAppliedRules=0,this.numberOfMCsets=0,this.noOfSolutions=0,this.ligerMCsets="",this.gswbSolutions=[],this.solutionsContent=""}ngOnInit(){this.data&&(this.sentence_id=this.data.sentence_id,this.sentence=this.data.sentence,this.numberOfAppliedRules=this.data.noOfAppliedRules,this.numberOfMCsets=this.data.noOfMCsets,this.noOfSolutions=this.data.noOfSolutions,this.gswbDerivation=this.data.gswbDerivation,this.ligerGraph=this.data.ligerGraph,this.ligerMCsets=this.data.ligerMCsets,this.solutionsContent=this.data.gswbSolutions.join("\n"),console.log("Solutions content:",this.solutionsContent))}ngAfterViewInit(){setTimeout(()=>{this.dialog&&this.solutionsContent&&this.dialog.setContent(this.solutionsContent)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-test-result"]],viewQuery:function(e,r){if(1&e&&zn(fY,5),2&e){let i;In(i=An())&&(r.dialog=i.first)}},inputs:{data:"data"},decls:10,vars:8,consts:[[3,"ngClass"],["solution",""]],template:function(e,r){1&e&&(tt(0,"p",0),wt(1),Tn(2,"br"),wt(3),Tn(4,"br"),wt(5),Tn(6,"br"),wt(7),et(),Tn(8,"app-dialog",null,1)),2&e&&(tn("ngClass",Jh(6,hY,0===r.numberOfAppliedRules||0===r.numberOfMCsets||0===r.noOfSolutions)),Yt(1),ob(" ",r.sentence_id,": ",r.sentence,""),Yt(2),Rl(" Number of applied rules: ",r.numberOfAppliedRules," "),Yt(2),Rl(" Number of meaning constructor sets: ",r.numberOfMCsets," "),Yt(2),Rl(" Number of solutions: ",r.noOfSolutions,"\n"))},dependencies:[lv,yR],styles:["div.rule[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{width:100%;resize:none}.highlight-block[_ngcontent-%COMP%]{background-color:#ff000014;border-radius:4px;padding:6px}"]}),t})();const gY=["arcy"],mY=["ligerreport"],vY=["gswbreport"],yY=["gswbSettings"],bY=["ligerRules"],wY=["errorhandle"];function _Y(t,n){1&t&&(tt(0,"span"),wt(1,"Parse all"),et())}function CY(t,n){1&t&&Tn(0,"span",26)}function EY(t,n){1&t&&(tt(0,"span"),wt(1,"Loading..."),et())}function xY(t,n){1&t&&(tt(0,"span"),wt(1,"Multistage"),et())}function DY(t,n){1&t&&Tn(0,"span",26)}function TY(t,n){1&t&&(tt(0,"span"),wt(1,"Loading..."),et())}function SY(t,n){if(1&t&&(tt(0,"div",27),Tn(1,"app-test-result",28),et()),2&t){const e=n.$implicit;Yt(1),tn("data",e)}}const MY=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"demo",component:I9},{path:"regression",component:(()=>{class t{constructor(e){this.dataService=e,this.regressionTestResults=[],this.loading=!1}batchParse(e,r){this.errorhandle.nativeElement.innerHTML="",this.loading=!0,this.regressionTestResults=[],this.gswbPreferences.onSubmit();let i=e.split("\n").filter(m=>{let _=m.trim();return""!==_&&!_.startsWith("#")}),s={};for(let m=0;m<i.length;m++)s["S"+(m+1)]=i[m];this.dataService.ligerBatchAnnotate({sentences:s,ruleString:r}).subscribe(m=>{if(m.hasOwnProperty("annotations")){console.log("Annotations:",m.annotations);let _={};for(let[U,K]of Object.entries(m.annotations))_[U]=K.meaningConstructors;let R={};Object.keys(_).sort((U,K)=>parseInt(U.match(/\d+/)[0])-parseInt(K.match(/\d+/)[0])).forEach(U=>{R[U]=_[U]}),console.log("sorted MCs",R),this.gswbMultipleRequest={premises:R,gswbPreferences:this.gswbPreferences.gswbPreferences},console.log("Specified request: ",this.gswbMultipleRequest)}m.hasOwnProperty("ruleApplicationGraph")&&(console.log(m.ruleApplicationGraph),this.cy1.renderGraph(m.ruleApplicationGraph)),this.batchDeduce(this.gswbMultipleRequest).subscribe(_=>{const R=_.outputs;console.log("GSWB outputs: ",R);const U=new Map;for(const K in R)U.set(K,R[K]);console.log("GSWB Map: ",U);for(let K of Object.keys(s)){let ge={sentence_id:K,sentence:s[K],noOfAppliedRules:m.annotations[K].appliedRules.length,noOfMCsets:m.annotations[K].numberOfMCsets,noOfSolutions:U.get(K).solutions.length,ligerGraph:m.annotations[K].graph,ligerMCsets:m.annotations[K].meaningConstructors,gswbSolutions:U.get(K).solutions,gswbDerivation:U.get(K).derivation};console.log("Regression test result for "+K+": ",ge),this.regressionTestResults.push(ge)}this.loading=!1,this.displayMessage("Batch processing completed successfully.","green")})},m=>{console.error("An error occurred:",m),this.displayMessage("An error occurred during batch parsing.","red"),this.loading=!1})}batchMultistage(e){this.gswbPreferences.onSubmit();let r=e.split("\n").filter(c=>{let m=c.trim();return""!==m&&!m.startsWith("#")}),i={};for(let c=0;c<r.length;c++)i["S"+c]=r[c];this.dataService.ligerBatchMultistage({sentences:i,ruleString:null}).subscribe(c=>{if(console.log(c),c.hasOwnProperty("annotations")){console.log(c.annotations);let m={};for(let[_,R]of Object.entries(c.annotations))m[_]=R.meaningConstructors;this.gswbMultipleRequest={premises:m,gswbPreferences:this.gswbPreferences.gswbPreferences},console.log("Specified request: ",this.gswbMultipleRequest)}c.hasOwnProperty("report")&&(this.ligerreport.nativeElement.innerHTML=c.report),this.batchDeduce(this.gswbMultipleRequest)},c=>{console.error("An error occurred:",c),this.loading=!1})}updateData(e){this.ligerRules.updateContent(e)}batchDeduce(e){return this.dataService.gswbBatchDeduce(e).pipe(pa(r=>{if(console.log("Full data:",r),r.hasOwnProperty("outputs")){console.log("Outputs map:");for(const i in r.outputs)console.log(i,r.outputs[i])}}),tf(r=>{throw console.error("An error occurred:",r),this.displayMessage("An error occurred during GSWB deduction.","red"),r}))}displayMessage(e,r){this.errorhandle.nativeElement.style.color=r,this.errorhandle.nativeElement.innerHTML="["+(new Date).toLocaleTimeString()+"] "+e}}return t.\u0275fac=function(e){return new(e||t)(We(Yg))},t.\u0275cmp=Or({type:t,selectors:[["app-regression-testing-interface"]],viewQuery:function(e,r){if(1&e&&(zn(gY,5),zn(mY,5),zn(vY,5),zn(yY,5),zn(bY,5),zn(wY,5)),2&e){let i;In(i=An())&&(r.cy1=i.first),In(i=An())&&(r.ligerreport=i.first),In(i=An())&&(r.gswbreport=i.first),In(i=An())&&(r.gswbPreferences=i.first),In(i=An())&&(r.ligerRules=i.first),In(i=An())&&(r.errorhandle=i.first)}},decls:55,vars:10,consts:[[1,"frame"],[1,"container"],["type","fileTree","showText","Show settings","hideText","Hide settings"],["toggleDisplayComponent",""],[1,"grammar-loader-container"],[3,"dataEmitter"],[1,"editor-restr"],[3,"mode"],["testsuite",""],["type","liger","showText","Show input rules","hideText","Hide input rules"],[1,"gradient-container"],["ligerRules",""],[1,"bar-container"],[1,"gradient-bar"],[1,"empty-space"],["gswbSettings",""],[3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"button","beta",3,"click"],[1,"errorhandling"],["errorhandle",""],["class","result-container",4,"ngFor","ngForOf"],["type","liger","showText","Show applied rules","hideText","Hide applied rules"],[3,"graphID"],["arcy",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"result-container"],[3,"data"]],template:function(e,r){if(1&e){const i=Vs();tt(0,"div",0)(1,"div",1)(2,"h1"),wt(3,"Semantig parser settings"),et(),tt(4,"app-toggle-display",2,3)(6,"div",4)(7,"div")(8,"h2"),wt(9,"Grammar selection:"),et(),Tn(10,"app-grammar-loader"),et(),tt(11,"div")(12,"h2"),wt(13,"Rule file selection:"),et(),tt(14,"app-rule-loader",5),Sn("dataEmitter",function(c){return r.updateData(c)}),et()()()()(),tt(15,"h3"),wt(16," Testsuite:\n"),et(),tt(17,"div",6),Tn(18,"app-editor",7,8),et(),Tn(20,"br"),tt(21,"app-toggle-display",9)(22,"h3"),wt(23," Test rules:\n"),et(),tt(24,"div",10)(25,"div",6),Tn(26,"app-editor",7,11),et(),tt(28,"div",12),Tn(29,"div",13)(30,"div",14),et()()(),Tn(31,"app-gswb-settings",null,15),tt(33,"button",16),Sn("click",function(){Hn(i);const c=ll(19),m=ll(27);return bi(r.batchParse(c.getContent(),m.getContent()))}),_r(34,_Y,2,0,"span",17),_r(35,CY,1,0,"span",18),_r(36,EY,2,0,"span",17),et(),tt(37,"button",19),Sn("click",function(){Hn(i);const c=ll(19);return bi(r.batchMultistage(c.getContent()))}),_r(38,xY,2,0,"span",17),_r(39,DY,1,0,"span",18),_r(40,TY,2,0,"span",17),et(),Tn(41,"div",20,21),tt(43,"h3"),wt(44," Report:\n"),et(),tt(45,"div"),_r(46,SY,2,1,"div",22),et(),Tn(47,"br")(48,"br"),tt(49,"app-toggle-display",23)(50,"h3"),wt(51," Applied rules:\n"),et(),tt(52,"div"),Tn(53,"app-applied-rules-graph",24,25),et()()()}2&e&&(Yt(18),tn("mode","text"),Yt(8),tn("mode","liger"),Yt(8),tn("ngIf",!r.loading),Yt(1),tn("ngIf",r.loading),Yt(1),tn("ngIf",r.loading),Yt(2),tn("ngIf",!r.loading),Yt(1),tn("ngIf",r.loading),Yt(1),tn("ngIf",r.loading),Yt(6),tn("ngForOf",r.regressionTestResults),Yt(7),tn("graphID","arCy1"))},dependencies:[Og,cu,Xg,dY,Qv,Dx,Vx,Ck,pY],styles:[".gradient-container[_ngcontent-%COMP%]{display:flex;align-items:stretch;max-width:100%}.bar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.gradient-bar[_ngcontent-%COMP%]{flex-grow:1;width:20px;background:linear-gradient(to bottom,yellow,red)}.empty-space[_ngcontent-%COMP%]{width:20px;height:30px}textarea[_ngcontent-%COMP%]{width:50%;resize:both;overflow:auto;padding-left:20px}.frame[_ngcontent-%COMP%]{padding-left:10px}div.result-container[_ngcontent-%COMP%]{width:800px;column-gap:20px;padding:5px;border:2px solid #00a9e0;align-items:flex-start;box-sizing:border-box}div.errorhandling[_ngcontent-%COMP%]{color:red;padding-bottom:10px}"]}),t})()},{path:"inference",component:lY},{path:"home",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-home"]],decls:55,vars:0,consts:[["href","https://github.com/Mmaz1988/GlueSemWorkbench_v2"],["href","https://github.com/Mmaz1988/liger"],["href","https://github.com/Mmaz1988/xle-glueworkbench-interface"],["href","https://github.com/Mmaz1988/xleplusglue-client"],["href","https://cloud.uni-konstanz.de/index.php/s/RQ6ziY2xkHkjpGM"]],template:function(e,r){1&e&&(tt(0,"div")(1,"h1"),wt(2," The XLE+Glue web application"),et(),tt(3,"p"),wt(4,"This page presents several resources used for exploring LFG's glue semantics. Concretely, it presents the\n"),tt(5,"a",0),wt(6," Glue semantics workbench "),et(),wt(7,"and the "),tt(8,"a",1),wt(9," LiGER rewrite system "),et(),wt(10,". It also serves as a revised frontend for the original "),tt(11,"a",2),wt(12,"XLE + Glue"),et(),wt(13,". As all of these resources, this frontend is open source.\nIt is available at: "),tt(14,"a",3),wt(15,"XLE+Glue client"),et()(),tt(16,"h2"),wt(17,"Quick start"),et(),tt(18,"h2"),wt(19,"Running the system locally"),et(),tt(20,"p"),wt(21," To run this system, you require: "),et(),tt(22,"ul")(23,"li"),wt(24," A running version of the GSWB "),et(),tt(25,"li"),wt(26," A running version of LiGER "),et(),tt(27,"li"),wt(28," A running version of the client "),et()(),tt(29,"p"),wt(30," You either need to compile your own jar files for the GSWB and LiGER, or you can use the ones provided at "),tt(31,"a",4),wt(32,"XLE+Glue resources"),et(),wt(33,". Please contact Mark-Matthias Zymla if you can't access the relevant files. You need to run both -jar files with the "),tt(34,"b"),wt(35,"-web"),et(),wt(36," parameter. Furthermore, they require resource folders to be present in the same directory as the jar files. These resource folders contain additional requirements explained on the corresponding github pages. "),et(),tt(37,"p"),wt(38," The frontend is written in angular. To use it locally, you need to install node.js and npm. Then, you can run "),tt(39,"b"),wt(40,"ng build"),et(),wt(41," in the client directory to build the frontend, which is then stored in the dist directory. You can use "),tt(42,"b"),wt(43,"http-server"),et(),wt(44," to serve the frontend. It can be installed with "),tt(45,"b"),wt(46,"npm install -g http-server"),et(),wt(47,". Then, you can run "),tt(48,"b"),wt(49,"http-server dist/xleplusglue-cient"),et(),wt(50," to serve the frontend. Http-server will tell you the correct address. "),et(),tt(51,"p"),wt(52,"If you have node.js and http-server installed, you can also try to use the pre-build version available at: "),Tn(53,"a",3),wt(54,". There, you also find the relevant resource folders for the GSWB\nand LiGER and a .sh file that allows you to execute the backend (i.e., the GSWB and LiGER jars) and frontend with a single command. "),et()())},styles:["div[_ngcontent-%COMP%]{padding-left:20px}p[_ngcontent-%COMP%]{width:800px}"]}),t})()}];let IY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[gA.forRoot(MY),gA]}),t})(),AY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t,bootstrap:[Gz]}),t.\u0275inj=Qr({imports:[iI,LU,aG,PU,bC,IY,A$,j$,n9,z7,lj]}),t})();r5().bootstrapModule(AY).catch(t=>console.error(t))},7925:(Y,se,D)=>{"use strict";D.r(se),D.d(se,{afterMain:()=>te,afterRead:()=>le,afterWrite:()=>oe,applyStyles:()=>ft,arrow:()=>Bi,auto:()=>C,basePlacements:()=>T,beforeMain:()=>ae,beforeRead:()=>ue,beforeWrite:()=>pe,bottom:()=>P,clippingParents:()=>V,computeStyles:()=>Vl,createPopper:()=>Yn,createPopperBase:()=>rd,createPopperLite:()=>Is,detectOverflow:()=>Aa,end:()=>A,eventListeners:()=>fl,flip:()=>vu,hide:()=>tc,left:()=>I,main:()=>de,modifierPhases:()=>ie,offset:()=>rc,placements:()=>Q,popper:()=>k,popperGenerator:()=>ko,popperOffsets:()=>ni,preventOverflow:()=>qi,read:()=>ne,reference:()=>H,right:()=>O,start:()=>N,top:()=>S,variationPlacements:()=>$,viewport:()=>L,write:()=>Z});var S="top",P="bottom",O="right",I="left",C="auto",T=[S,P,O,I],N="start",A="end",V="clippingParents",L="viewport",k="popper",H="reference",$=T.reduce(function(Oe,Re){return Oe.concat([Re+"-"+N,Re+"-"+A])},[]),Q=[].concat(T,[C]).reduce(function(Oe,Re){return Oe.concat([Re,Re+"-"+N,Re+"-"+A])},[]),ue="beforeRead",ne="read",le="afterRead",ae="beforeMain",de="main",te="afterMain",pe="beforeWrite",Z="write",oe="afterWrite",ie=[ue,ne,le,ae,de,te,pe,Z,oe];function me(Oe){return Oe?(Oe.nodeName||"").toLowerCase():null}function _e(Oe){if(null==Oe)return window;if("[object Window]"!==Oe.toString()){var Re=Oe.ownerDocument;return Re&&Re.defaultView||window}return Oe}function Te(Oe){return Oe instanceof _e(Oe).Element||Oe instanceof Element}function De(Oe){return Oe instanceof _e(Oe).HTMLElement||Oe instanceof HTMLElement}function ze(Oe){return!(typeof ShadowRoot>"u")&&(Oe instanceof _e(Oe).ShadowRoot||Oe instanceof ShadowRoot)}const ft={name:"applyStyles",enabled:!0,phase:"write",fn:function Be(Oe){var Re=Oe.state;Object.keys(Re.elements).forEach(function(Ve){var nt=Re.styles[Ve]||{},qe=Re.attributes[Ve]||{},qt=Re.elements[Ve];!De(qt)||!me(qt)||(Object.assign(qt.style,nt),Object.keys(qe).forEach(function(gn){var Vt=qe[gn];!1===Vt?qt.removeAttribute(gn):qt.setAttribute(gn,!0===Vt?"":Vt)}))})},effect:function at(Oe){var Re=Oe.state,Ve={popper:{position:Re.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(Re.elements.popper.style,Ve.popper),Re.styles=Ve,Re.elements.arrow&&Object.assign(Re.elements.arrow.style,Ve.arrow),function(){Object.keys(Re.elements).forEach(function(nt){var qe=Re.elements[nt],qt=Re.attributes[nt]||{},Vt=Object.keys(Re.styles.hasOwnProperty(nt)?Re.styles[nt]:Ve[nt]).reduce(function(en,Un){return en[Un]="",en},{});!De(qe)||!me(qe)||(Object.assign(qe.style,Vt),Object.keys(qt).forEach(function(en){qe.removeAttribute(en)}))})}},requires:["computeStyles"]};function Ye(Oe){return Oe.split("-")[0]}var Ct=Math.max,Xe=Math.min,Zt=Math.round;function Ht(){var Oe=navigator.userAgentData;return null!=Oe&&Oe.brands&&Array.isArray(Oe.brands)?Oe.brands.map(function(Re){return Re.brand+"/"+Re.version}).join(" "):navigator.userAgent}function It(){return!/^((?!chrome|android).)*safari/i.test(Ht())}function mn(Oe,Re,Ve){void 0===Re&&(Re=!1),void 0===Ve&&(Ve=!1);var nt=Oe.getBoundingClientRect(),qe=1,qt=1;Re&&De(Oe)&&(qe=Oe.offsetWidth>0&&Zt(nt.width)/Oe.offsetWidth||1,qt=Oe.offsetHeight>0&&Zt(nt.height)/Oe.offsetHeight||1);var Vt=(Te(Oe)?_e(Oe):window).visualViewport,en=!It()&&Ve,Un=(nt.left+(en&&Vt?Vt.offsetLeft:0))/qe,Bt=(nt.top+(en&&Vt?Vt.offsetTop:0))/qt,Ar=nt.width/qe,er=nt.height/qt;return{width:Ar,height:er,top:Bt,right:Un+Ar,bottom:Bt+er,left:Un,x:Un,y:Bt}}function cn(Oe){var Re=mn(Oe),Ve=Oe.offsetWidth,nt=Oe.offsetHeight;return Math.abs(Re.width-Ve)<=1&&(Ve=Re.width),Math.abs(Re.height-nt)<=1&&(nt=Re.height),{x:Oe.offsetLeft,y:Oe.offsetTop,width:Ve,height:nt}}function lt(Oe,Re){var Ve=Re.getRootNode&&Re.getRootNode();if(Oe.contains(Re))return!0;if(Ve&&ze(Ve)){var nt=Re;do{if(nt&&Oe.isSameNode(nt))return!0;nt=nt.parentNode||nt.host}while(nt)}return!1}function rt(Oe){return _e(Oe).getComputedStyle(Oe)}function ht(Oe){return["table","td","th"].indexOf(me(Oe))>=0}function Ft(Oe){return((Te(Oe)?Oe.ownerDocument:Oe.document)||window.document).documentElement}function Tt(Oe){return"html"===me(Oe)?Oe:Oe.assignedSlot||Oe.parentNode||(ze(Oe)?Oe.host:null)||Ft(Oe)}function Kn(Oe){return De(Oe)&&"fixed"!==rt(Oe).position?Oe.offsetParent:null}function Tr(Oe){for(var Re=_e(Oe),Ve=Kn(Oe);Ve&&ht(Ve)&&"static"===rt(Ve).position;)Ve=Kn(Ve);return Ve&&("html"===me(Ve)||"body"===me(Ve)&&"static"===rt(Ve).position)?Re:Ve||function Jn(Oe){var Re=/firefox/i.test(Ht());if(/Trident/i.test(Ht())&&De(Oe)&&"fixed"===rt(Oe).position)return null;var qe=Tt(Oe);for(ze(qe)&&(qe=qe.host);De(qe)&&["html","body"].indexOf(me(qe))<0;){var qt=rt(qe);if("none"!==qt.transform||"none"!==qt.perspective||"paint"===qt.contain||-1!==["transform","perspective"].indexOf(qt.willChange)||Re&&"filter"===qt.willChange||Re&&qt.filter&&"none"!==qt.filter)return qe;qe=qe.parentNode}return null}(Oe)||Re}function kr(Oe){return["top","bottom"].indexOf(Oe)>=0?"x":"y"}function Cr(Oe,Re,Ve){return Ct(Oe,Xe(Re,Ve))}function Xr(Oe){return Object.assign({},{top:0,right:0,bottom:0,left:0},Oe)}function dn(Oe,Re){return Re.reduce(function(Ve,nt){return Ve[nt]=Oe,Ve},{})}const Bi={name:"arrow",enabled:!0,phase:"main",fn:function ro(Oe){var Re,Ve=Oe.state,nt=Oe.name,qe=Oe.options,qt=Ve.elements.arrow,gn=Ve.modifiersData.popperOffsets,Vt=Ye(Ve.placement),en=kr(Vt),Bt=[I,O].indexOf(Vt)>=0?"height":"width";if(qt&&gn){var Ar=function(Re,Ve){return Xr("number"!=typeof(Re="function"==typeof Re?Re(Object.assign({},Ve.rects,{placement:Ve.placement})):Re)?Re:dn(Re,T))}(qe.padding,Ve),er=cn(qt),or="y"===en?S:I,ri="y"===en?P:O,Mn=Ve.rects.reference[Bt]+Ve.rects.reference[en]-gn[en]-Ve.rects.popper[Bt],on=gn[en]-Ve.rects.reference[en],Lr=Tr(qt),gi=Lr?"y"===en?Lr.clientHeight||0:Lr.clientWidth||0:0,Fr=gi/2-er[Bt]/2+(Mn/2-on/2),vn=Cr(Ar[or],Fr,gi-er[Bt]-Ar[ri]);Ve.modifiersData[nt]=((Re={})[en]=vn,Re.centerOffset=vn-Fr,Re)}},effect:function Fi(Oe){var Re=Oe.state,nt=Oe.options.element,qe=void 0===nt?"[data-popper-arrow]":nt;null!=qe&&("string"==typeof qe&&!(qe=Re.elements.popper.querySelector(qe))||lt(Re.elements.popper,qe)&&(Re.elements.arrow=qe))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jr(Oe){return Oe.split("-")[1]}var Ki={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ts(Oe){var Re,Ve=Oe.popper,nt=Oe.popperRect,qe=Oe.placement,qt=Oe.variation,gn=Oe.offsets,Vt=Oe.position,en=Oe.gpuAcceleration,Un=Oe.adaptive,Bt=Oe.roundOffsets,Ar=Oe.isFixed,er=gn.x,or=void 0===er?0:er,ri=gn.y,Mn=void 0===ri?0:ri,on="function"==typeof Bt?Bt({x:or,y:Mn}):{x:or,y:Mn};or=on.x,Mn=on.y;var Lr=gn.hasOwnProperty("x"),gi=gn.hasOwnProperty("y"),ui=I,gr=S,Ze=window;if(Un){var Fr=Tr(Ve),vn="clientHeight",Gn="clientWidth";Fr===_e(Ve)&&"static"!==rt(Fr=Ft(Ve)).position&&"absolute"===Vt&&(vn="scrollHeight",Gn="scrollWidth"),(qe===S||(qe===I||qe===O)&&qt===A)&&(gr=P,Mn-=(Ar&&Fr===Ze&&Ze.visualViewport?Ze.visualViewport.height:Fr[vn])-nt.height,Mn*=en?1:-1),qe!==I&&(qe!==S&&qe!==P||qt!==A)||(ui=O,or-=(Ar&&Fr===Ze&&Ze.visualViewport?Ze.visualViewport.width:Fr[Gn])-nt.width,or*=en?1:-1)}var Rr,mo=Object.assign({position:Vt},Un&&Ki),zi=!0===Bt?function ja(Oe,Re){var nt=Oe.y,qe=Re.devicePixelRatio||1;return{x:Zt(Oe.x*qe)/qe||0,y:Zt(nt*qe)/qe||0}}({x:or,y:Mn},_e(Ve)):{x:or,y:Mn};return or=zi.x,Mn=zi.y,Object.assign({},mo,en?((Rr={})[gr]=gi?"0":"",Rr[ui]=Lr?"0":"",Rr.transform=(Ze.devicePixelRatio||1)<=1?"translate("+or+"px, "+Mn+"px)":"translate3d("+or+"px, "+Mn+"px, 0)",Rr):((Re={})[gr]=gi?Mn+"px":"",Re[ui]=Lr?or+"px":"",Re.transform="",Re))}const Vl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Nn(Oe){var Re=Oe.state,Ve=Oe.options,nt=Ve.gpuAcceleration,qe=void 0===nt||nt,qt=Ve.adaptive,gn=void 0===qt||qt,Vt=Ve.roundOffsets,en=void 0===Vt||Vt,Un={placement:Ye(Re.placement),variation:jr(Re.placement),popper:Re.elements.popper,popperRect:Re.rects.popper,gpuAcceleration:qe,isFixed:"fixed"===Re.options.strategy};null!=Re.modifiersData.popperOffsets&&(Re.styles.popper=Object.assign({},Re.styles.popper,Ts(Object.assign({},Un,{offsets:Re.modifiersData.popperOffsets,position:Re.options.strategy,adaptive:gn,roundOffsets:en})))),null!=Re.modifiersData.arrow&&(Re.styles.arrow=Object.assign({},Re.styles.arrow,Ts(Object.assign({},Un,{offsets:Re.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:en})))),Re.attributes.popper=Object.assign({},Re.attributes.popper,{"data-popper-placement":Re.placement})},data:{}};var Yo={passive:!0};const fl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Xo(Oe){var Re=Oe.state,Ve=Oe.instance,nt=Oe.options,qe=nt.scroll,qt=void 0===qe||qe,gn=nt.resize,Vt=void 0===gn||gn,en=_e(Re.elements.popper),Un=[].concat(Re.scrollParents.reference,Re.scrollParents.popper);return qt&&Un.forEach(function(Bt){Bt.addEventListener("scroll",Ve.update,Yo)}),Vt&&en.addEventListener("resize",Ve.update,Yo),function(){qt&&Un.forEach(function(Bt){Bt.removeEventListener("scroll",Ve.update,Yo)}),Vt&&en.removeEventListener("resize",Ve.update,Yo)}},data:{}};var Wa={left:"right",right:"left",bottom:"top",top:"bottom"};function Ss(Oe){return Oe.replace(/left|right|bottom|top/g,function(Re){return Wa[Re]})}var _n={start:"end",end:"start"};function ma(Oe){return Oe.replace(/start|end/g,function(Re){return _n[Re]})}function go(Oe){var Re=_e(Oe);return{scrollLeft:Re.pageXOffset,scrollTop:Re.pageYOffset}}function pi(Oe){return mn(Ft(Oe)).left+go(Oe).scrollLeft}function Si(Oe){var Re=rt(Oe);return/auto|scroll|overlay|hidden/.test(Re.overflow+Re.overflowY+Re.overflowX)}function Ma(Oe){return["html","body","#document"].indexOf(me(Oe))>=0?Oe.ownerDocument.body:De(Oe)&&Si(Oe)?Oe:Ma(Tt(Oe))}function Vi(Oe,Re){var Ve;void 0===Re&&(Re=[]);var nt=Ma(Oe),qe=nt===(null==(Ve=Oe.ownerDocument)?void 0:Ve.body),qt=_e(nt),gn=qe?[qt].concat(qt.visualViewport||[],Si(nt)?nt:[]):nt,Vt=Re.concat(gn);return qe?Vt:Vt.concat(Vi(Tt(gn)))}function Ks(Oe){return Object.assign({},Oe,{left:Oe.x,top:Oe.y,right:Oe.x+Oe.width,bottom:Oe.y+Oe.height})}function Ia(Oe,Re,Ve){return Re===L?Ks(function Zi(Oe,Re){var Ve=_e(Oe),nt=Ft(Oe),qe=Ve.visualViewport,qt=nt.clientWidth,gn=nt.clientHeight,Vt=0,en=0;if(qe){qt=qe.width,gn=qe.height;var Un=It();(Un||!Un&&"fixed"===Re)&&(Vt=qe.offsetLeft,en=qe.offsetTop)}return{width:qt,height:gn,x:Vt+pi(Oe),y:en}}(Oe,Ve)):Te(Re)?function Qc(Oe,Re){var Ve=mn(Oe,!1,"fixed"===Re);return Ve.top=Ve.top+Oe.clientTop,Ve.left=Ve.left+Oe.clientLeft,Ve.bottom=Ve.top+Oe.clientHeight,Ve.right=Ve.left+Oe.clientWidth,Ve.width=Oe.clientWidth,Ve.height=Oe.clientHeight,Ve.x=Ve.left,Ve.y=Ve.top,Ve}(Re,Ve):Ks(function mu(Oe){var Re,Ve=Ft(Oe),nt=go(Oe),qe=null==(Re=Oe.ownerDocument)?void 0:Re.body,qt=Ct(Ve.scrollWidth,Ve.clientWidth,qe?qe.scrollWidth:0,qe?qe.clientWidth:0),gn=Ct(Ve.scrollHeight,Ve.clientHeight,qe?qe.scrollHeight:0,qe?qe.clientHeight:0),Vt=-nt.scrollLeft+pi(Oe),en=-nt.scrollTop;return"rtl"===rt(qe||Ve).direction&&(Vt+=Ct(Ve.clientWidth,qe?qe.clientWidth:0)-qt),{width:qt,height:gn,x:Vt,y:en}}(Ft(Oe)))}function os(Oe){var en,Re=Oe.reference,Ve=Oe.element,nt=Oe.placement,qe=nt?Ye(nt):null,qt=nt?jr(nt):null,gn=Re.x+Re.width/2-Ve.width/2,Vt=Re.y+Re.height/2-Ve.height/2;switch(qe){case S:en={x:gn,y:Re.y-Ve.height};break;case P:en={x:gn,y:Re.y+Re.height};break;case O:en={x:Re.x+Re.width,y:Vt};break;case I:en={x:Re.x-Ve.width,y:Vt};break;default:en={x:Re.x,y:Re.y}}var Un=qe?kr(qe):null;if(null!=Un){var Bt="y"===Un?"height":"width";switch(qt){case N:en[Un]=en[Un]-(Re[Bt]/2-Ve[Bt]/2);break;case A:en[Un]=en[Un]+(Re[Bt]/2-Ve[Bt]/2)}}return en}function Aa(Oe,Re){void 0===Re&&(Re={});var nt=Re.placement,qe=void 0===nt?Oe.placement:nt,qt=Re.strategy,gn=void 0===qt?Oe.strategy:qt,Vt=Re.boundary,en=void 0===Vt?V:Vt,Un=Re.rootBoundary,Bt=void 0===Un?L:Un,Ar=Re.elementContext,er=void 0===Ar?k:Ar,or=Re.altBoundary,ri=void 0!==or&&or,Mn=Re.padding,on=void 0===Mn?0:Mn,Lr=Xr("number"!=typeof on?on:dn(on,T)),ui=Oe.rects.popper,gr=Oe.elements[ri?er===k?H:k:er],Ze=function Jc(Oe,Re,Ve,nt){var qe="clippingParents"===Re?function Zs(Oe){var Re=Vi(Tt(Oe)),nt=["absolute","fixed"].indexOf(rt(Oe).position)>=0&&De(Oe)?Tr(Oe):Oe;return Te(nt)?Re.filter(function(qe){return Te(qe)&&lt(qe,nt)&&"body"!==me(qe)}):[]}(Oe):[].concat(Re),qt=[].concat(qe,[Ve]),Vt=qt.reduce(function(en,Un){var Bt=Ia(Oe,Un,nt);return en.top=Ct(Bt.top,en.top),en.right=Xe(Bt.right,en.right),en.bottom=Xe(Bt.bottom,en.bottom),en.left=Ct(Bt.left,en.left),en},Ia(Oe,qt[0],nt));return Vt.width=Vt.right-Vt.left,Vt.height=Vt.bottom-Vt.top,Vt.x=Vt.left,Vt.y=Vt.top,Vt}(Te(gr)?gr:gr.contextElement||Ft(Oe.elements.popper),en,Bt,gn),Fr=mn(Oe.elements.reference),vn=os({reference:Fr,element:ui,strategy:"absolute",placement:qe}),Gn=Ks(Object.assign({},ui,vn)),ci=er===k?Gn:Fr,Hi={top:Ze.top-ci.top+Lr.top,bottom:ci.bottom-Ze.bottom+Lr.bottom,left:Ze.left-ci.left+Lr.left,right:ci.right-Ze.right+Lr.right},mo=Oe.modifiersData.offset;if(er===k&&mo){var zi=mo[qe];Object.keys(Hi).forEach(function(Rr){var qs=[O,P].indexOf(Rr)>=0?1:-1,di=[S,P].indexOf(Rr)>=0?"y":"x";Hi[Rr]+=zi[di]*qs})}return Hi}const vu={name:"flip",enabled:!0,phase:"main",fn:function ed(Oe){var Re=Oe.state,Ve=Oe.options,nt=Oe.name;if(!Re.modifiersData[nt]._skip){for(var qe=Ve.mainAxis,qt=void 0===qe||qe,gn=Ve.altAxis,Vt=void 0===gn||gn,en=Ve.fallbackPlacements,Un=Ve.padding,Bt=Ve.boundary,Ar=Ve.rootBoundary,er=Ve.altBoundary,or=Ve.flipVariations,ri=void 0===or||or,Mn=Ve.allowedAutoPlacements,on=Re.options.placement,Lr=Ye(on),ui=en||(Lr!==on&&ri?function as(Oe){if(Ye(Oe)===C)return[];var Re=Ss(Oe);return[ma(Oe),Re,ma(Re)]}(on):[Ss(on)]),gr=[on].concat(ui).reduce(function(Na,As){return Na.concat(Ye(As)===C?function ch(Oe,Re){void 0===Re&&(Re={});var qe=Re.boundary,qt=Re.rootBoundary,gn=Re.padding,Vt=Re.flipVariations,en=Re.allowedAutoPlacements,Un=void 0===en?Q:en,Bt=jr(Re.placement),Ar=Bt?Vt?$:$.filter(function(ri){return jr(ri)===Bt}):T,er=Ar.filter(function(ri){return Un.indexOf(ri)>=0});0===er.length&&(er=Ar);var or=er.reduce(function(ri,Mn){return ri[Mn]=Aa(Oe,{placement:Mn,boundary:qe,rootBoundary:qt,padding:gn})[Ye(Mn)],ri},{});return Object.keys(or).sort(function(ri,Mn){return or[ri]-or[Mn]})}(Re,{placement:As,boundary:Bt,rootBoundary:Ar,padding:Un,flipVariations:ri,allowedAutoPlacements:Mn}):As)},[]),Ze=Re.rects.reference,Fr=Re.rects.popper,vn=new Map,Gn=!0,ci=gr[0],Hi=0;Hi<gr.length;Hi++){var mo=gr[Hi],zi=Ye(mo),Rr=jr(mo)===N,qs=[S,P].indexOf(zi)>=0,di=qs?"width":"height",vo=Aa(Re,{placement:mo,boundary:Bt,rootBoundary:Ar,altBoundary:er,padding:Un}),Ji=qs?Rr?O:I:Rr?P:S;Ze[di]>Fr[di]&&(Ji=Ss(Ji));var Qs=Ss(Ji),Mi=[];if(qt&&Mi.push(vo[zi]<=0),Vt&&Mi.push(vo[Ji]<=0,vo[Qs]<=0),Mi.every(function(Na){return Na})){ci=mo,Gn=!1;break}vn.set(mo,Mi)}if(Gn)for(var ic=function(As){var io=gr.find(function(tr){var Ya=vn.get(tr);if(Ya)return Ya.slice(0,As).every(function(ff){return ff})});if(io)return ci=io,"break"},zl=ri?3:1;zl>0&&"break"!==ic(zl);zl--);Re.placement!==ci&&(Re.modifiersData[nt]._skip=!0,Re.placement=ci,Re.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ec(Oe,Re,Ve){return void 0===Ve&&(Ve={x:0,y:0}),{top:Oe.top-Re.height-Ve.y,right:Oe.right-Re.width+Ve.x,bottom:Oe.bottom-Re.height+Ve.y,left:Oe.left-Re.width-Ve.x}}function No(Oe){return[S,O,P,I].some(function(Re){return Oe[Re]>=0})}const tc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function td(Oe){var Re=Oe.state,Ve=Oe.name,nt=Re.rects.reference,qe=Re.rects.popper,qt=Re.modifiersData.preventOverflow,gn=Aa(Re,{elementContext:"reference"}),Vt=Aa(Re,{altBoundary:!0}),en=ec(gn,nt),Un=ec(Vt,qe,qt),Bt=No(en),Ar=No(Un);Re.modifiersData[Ve]={referenceClippingOffsets:en,popperEscapeOffsets:Un,isReferenceHidden:Bt,hasPopperEscaped:Ar},Re.attributes.popper=Object.assign({},Re.attributes.popper,{"data-popper-reference-hidden":Bt,"data-popper-escaped":Ar})}},rc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Ms(Oe){var Re=Oe.state,nt=Oe.name,qe=Oe.options.offset,qt=void 0===qe?[0,0]:qe,gn=Q.reduce(function(Bt,Ar){return Bt[Ar]=function nc(Oe,Re,Ve){var nt=Ye(Oe),qe=[I,S].indexOf(nt)>=0?-1:1,qt="function"==typeof Ve?Ve(Object.assign({},Re,{placement:Oe})):Ve,gn=qt[0],Vt=qt[1];return gn=gn||0,Vt=(Vt||0)*qe,[I,O].indexOf(nt)>=0?{x:Vt,y:gn}:{x:gn,y:Vt}}(Ar,Re.rects,qt),Bt},{}),Vt=gn[Re.placement],Un=Vt.y;null!=Re.modifiersData.popperOffsets&&(Re.modifiersData.popperOffsets.x+=Vt.x,Re.modifiersData.popperOffsets.y+=Un),Re.modifiersData[nt]=gn}},ni={name:"popperOffsets",enabled:!0,phase:"read",fn:function nd(Oe){var Re=Oe.state;Re.modifiersData[Oe.name]=os({reference:Re.rects.reference,element:Re.rects.popper,strategy:"absolute",placement:Re.placement})},data:{}},qi={name:"preventOverflow",enabled:!0,phase:"main",fn:function Sr(Oe){var Re=Oe.state,Ve=Oe.options,nt=Oe.name,qe=Ve.mainAxis,qt=void 0===qe||qe,gn=Ve.altAxis,Vt=void 0!==gn&&gn,er=Ve.tether,or=void 0===er||er,ri=Ve.tetherOffset,Mn=void 0===ri?0:ri,on=Aa(Re,{boundary:Ve.boundary,rootBoundary:Ve.rootBoundary,padding:Ve.padding,altBoundary:Ve.altBoundary}),Lr=Ye(Re.placement),gi=jr(Re.placement),ui=!gi,gr=kr(Lr),Ze=function Oa(Oe){return"x"===Oe?"y":"x"}(gr),Fr=Re.modifiersData.popperOffsets,vn=Re.rects.reference,Gn=Re.rects.popper,ci="function"==typeof Mn?Mn(Object.assign({},Re.rects,{placement:Re.placement})):Mn,Hi="number"==typeof ci?{mainAxis:ci,altAxis:ci}:Object.assign({mainAxis:0,altAxis:0},ci),mo=Re.modifiersData.offset?Re.modifiersData.offset[Re.placement]:null,zi={x:0,y:0};if(Fr){if(qt){var Rr,qs="y"===gr?S:I,di="y"===gr?P:O,vo="y"===gr?"height":"width",Ji=Fr[gr],Qs=Ji+on[qs],Mi=Ji-on[di],Hl=or?-Gn[vo]/2:0,ic=gi===N?vn[vo]:Gn[vo],zl=gi===N?-Gn[vo]:-vn[vo],oc=Re.elements.arrow,Na=or&&oc?cn(oc):{width:0,height:0},As=Re.modifiersData["arrow#persistent"]?Re.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},io=As[qs],tr=As[di],Ya=Cr(0,vn[vo],Na[vo]),ff=ui?vn[vo]/2-Hl-Ya-io-Hi.mainAxis:ic-Ya-io-Hi.mainAxis,od=ui?-vn[vo]/2+Hl+Ya+tr+Hi.mainAxis:zl+Ya+tr+Hi.mainAxis,an=Re.elements.arrow&&Tr(Re.elements.arrow),hl=an?"y"===gr?an.clientTop||0:an.clientLeft||0:0,Qr=null!=(Rr=mo?.[gr])?Rr:0,ac=Ji+od-Qr,yu=Cr(or?Xe(Qs,Ji+ff-Qr-hl):Qs,Ji,or?Ct(Mi,ac):Mi);Fr[gr]=yu,zi[gr]=yu-Ji}if(Vt){var pl,Os=Fr[Ze],Ul="y"===Ze?"height":"width",sc=Os+on["x"===gr?S:I],Ln=Os-on["x"===gr?P:O],Xa=-1!==[S,I].indexOf(Lr),gl=null!=(pl=mo?.[Ze])?pl:0,yo=Xa?sc:Os-vn[Ul]-Gn[Ul]-gl+Hi.altAxis,ss=Xa?Os+vn[Ul]+Gn[Ul]-gl-Hi.altAxis:Ln,Gl=or&&Xa?function wn(Oe,Re,Ve){var nt=Cr(Oe,Re,Ve);return nt>Ve?Ve:nt}(yo,Os,ss):Cr(or?yo:sc,Os,or?ss:Ln);Fr[Ze]=Gl,zi[Ze]=Gl-Os}Re.modifiersData[nt]=zi}},requiresIfExists:["offset"]};function Pi(Oe,Re,Ve){void 0===Ve&&(Ve=!1);var nt=De(Re),qe=De(Re)&&function df(Oe){var Re=Oe.getBoundingClientRect(),Ve=Zt(Re.width)/Oe.offsetWidth||1,nt=Zt(Re.height)/Oe.offsetHeight||1;return 1!==Ve||1!==nt}(Re),qt=Ft(Re),gn=mn(Oe,qe,Ve),Vt={scrollLeft:0,scrollTop:0},en={x:0,y:0};return(nt||!nt&&!Ve)&&(("body"!==me(Re)||Si(qt))&&(Vt=function va(Oe){return Oe!==_e(Oe)&&De(Oe)?function ki(Oe){return{scrollLeft:Oe.scrollLeft,scrollTop:Oe.scrollTop}}(Oe):go(Oe)}(Re)),De(Re)?((en=mn(Re,!0)).x+=Re.clientLeft,en.y+=Re.clientTop):qt&&(en.x=pi(qt))),{x:gn.left+Vt.scrollLeft-en.x,y:gn.top+Vt.scrollTop-en.y,width:gn.width,height:gn.height}}function Cn(Oe){var Re=new Map,Ve=new Set,nt=[];function qe(qt){Ve.add(qt.name),[].concat(qt.requires||[],qt.requiresIfExists||[]).forEach(function(Vt){if(!Ve.has(Vt)){var en=Re.get(Vt);en&&qe(en)}}),nt.push(qt)}return Oe.forEach(function(qt){Re.set(qt.name,qt)}),Oe.forEach(function(qt){Ve.has(qt.name)||qe(qt)}),nt}function $a(Oe){var Re;return function(){return Re||(Re=new Promise(function(Ve){Promise.resolve().then(function(){Re=void 0,Ve(Oe())})})),Re}}var Pr={placement:"bottom",modifiers:[],strategy:"absolute"};function Qi(){for(var Oe=arguments.length,Re=new Array(Oe),Ve=0;Ve<Oe;Ve++)Re[Ve]=arguments[Ve];return!Re.some(function(nt){return!(nt&&"function"==typeof nt.getBoundingClientRect)})}function ko(Oe){void 0===Oe&&(Oe={});var Ve=Oe.defaultModifiers,nt=void 0===Ve?[]:Ve,qe=Oe.defaultOptions,qt=void 0===qe?Pr:qe;return function(Vt,en,Un){void 0===Un&&(Un=qt);var Bt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Pr,qt),modifiersData:{},elements:{reference:Vt,popper:en},attributes:{},styles:{}},Ar=[],er=!1,or={state:Bt,setOptions:function(Lr){var gi="function"==typeof Lr?Lr(Bt.options):Lr;Mn(),Bt.options=Object.assign({},qt,Bt.options,gi),Bt.scrollParents={reference:Te(Vt)?Vi(Vt):Vt.contextElement?Vi(Vt.contextElement):[],popper:Vi(en)};var ui=function li(Oe){var Re=Cn(Oe);return ie.reduce(function(Ve,nt){return Ve.concat(Re.filter(function(qe){return qe.phase===nt}))},[])}(function Ro(Oe){var Re=Oe.reduce(function(Ve,nt){var qe=Ve[nt.name];return Ve[nt.name]=qe?Object.assign({},qe,nt,{options:Object.assign({},qe.options,nt.options),data:Object.assign({},qe.data,nt.data)}):nt,Ve},{});return Object.keys(Re).map(function(Ve){return Re[Ve]})}([].concat(nt,Bt.options.modifiers)));return Bt.orderedModifiers=ui.filter(function(gr){return gr.enabled}),function ri(){Bt.orderedModifiers.forEach(function(on){var gi=on.options,gr=on.effect;if("function"==typeof gr){var Ze=gr({state:Bt,name:on.name,instance:or,options:void 0===gi?{}:gi});Ar.push(Ze||function(){})}})}(),or.update()},forceUpdate:function(){if(!er){var Lr=Bt.elements,gi=Lr.reference,ui=Lr.popper;if(Qi(gi,ui)){Bt.rects={reference:Pi(gi,Tr(ui),"fixed"===Bt.options.strategy),popper:cn(ui)},Bt.reset=!1,Bt.placement=Bt.options.placement,Bt.orderedModifiers.forEach(function(Hi){return Bt.modifiersData[Hi.name]=Object.assign({},Hi.data)});for(var gr=0;gr<Bt.orderedModifiers.length;gr++)if(!0!==Bt.reset){var Ze=Bt.orderedModifiers[gr],Fr=Ze.fn,vn=Ze.options;"function"==typeof Fr&&(Bt=Fr({state:Bt,options:void 0===vn?{}:vn,name:Ze.name,instance:or})||Bt)}else Bt.reset=!1,gr=-1}}},update:$a(function(){return new Promise(function(on){or.forceUpdate(),on(Bt)})}),destroy:function(){Mn(),er=!0}};if(!Qi(Vt,en))return or;function Mn(){Ar.forEach(function(on){return on()}),Ar=[]}return or.setOptions(Un).then(function(on){!er&&Un.onFirstUpdate&&Un.onFirstUpdate(on)}),or}}var rd=ko(),Yn=ko({defaultModifiers:[fl,ni,Vl,ft,rc,vu,qi,Bi,tc]}),Is=ko({defaultModifiers:[fl,ni,Vl,ft]})},5886:function(Y,se,D){var S;Y.exports=(S=D(4465),function(P){var O={};function I(C){if(O[C])return O[C].exports;var T=O[C]={i:C,l:!1,exports:{}};return P[C].call(T.exports,T,T.exports,I),T.l=!0,T.exports}return I.m=P,I.c=O,I.i=function(C){return C},I.d=function(C,T,N){I.o(C,T)||Object.defineProperty(C,T,{configurable:!1,enumerable:!0,get:N})},I.n=function(C){var T=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(T,"a",T),T},I.o=function(C,T){return Object.prototype.hasOwnProperty.call(C,T)},I.p="",I(I.s=6)}([function(P,O){P.exports=S},function(P,O,I){"use strict";var C=I(0).LGraph;function T(A,V,L){C.call(this,A,V,L),this.inOrder=void 0,this.currentIndex=0,this.nodeSeparation=void 0,this.stack=[],this.perimeter=0,this.centerX=0,this.centerY=0,this.radius=0}for(var N in T.prototype=Object.create(C.prototype),C)T[N]=C[N];T.prototype.initOrdering=function(){this.inOrder=[]},T.prototype.getOrder=function(){return this.inOrder},T.prototype.getCenterX=function(){return this.centerX},T.prototype.getCenterY=function(){return this.centerY},T.prototype.getRadius=function(){return this.radius},T.prototype.getSize=function(){return this.getNodes().length},T.prototype.getTotalCrossingOfCircle=function(){var V=0;for(var L in this.inOrder){var k=L.getTotalCrossingOfEdges();if(-1===k)return-1;V+=k}return V/4},T.prototype.hasFinishedOrdering=function(){return this.currentIndex===this.getNodes().length},T.prototype.getNodeSeparation=function(){return this.nodeSeparation},T.prototype.setNodeSeparation=function(A){this.nodeSeparation=A},T.prototype.correctAngles=function(){var A=this;A.currentIndex=0,A.inOrder.forEach(function(V){return A.putInOrder(V)})},T.prototype.putInOrder=function(A){for(var V=this,L=V.getNodes(),k=!1,H=0;H<L.length;H++)if(L[H].id==A.id){k=!0;break}if(!k)throw"The node must be a member of LGraph";V.inOrder[V.currentIndex]=A,A.setIndex(V.currentIndex),A.setAngle(0===V.currentIndex?0:V.inOrder[V.currentIndex-1].getAngle()+2*Math.PI*(A.getDiagonal()/2+V.nodeSeparation+V.inOrder[V.currentIndex-1].getDiagonal()/2)/V.perimeter),V.currentIndex++},T.prototype.findNodeToPlace=function(){var A=this,V=void 0;if(0===A.stack.length)V=A.findUnorderedSmallestDegreeNode();else{for(var L=!1;!L&&0!==A.stack.length;)L=!(V=A.stack.pop()).isOrdered();L||(V=void 0)}if(void 0===V&&(V=A.findUnorderedSmallestDegreeNode()),void 0!==V)for(var k=V.getNeighborsSortedByDegree(),H=k.length-1;H>=0;H--){var $=k[H];$.isOrdered()||A.stack.push($)}return V},T.prototype.calculateRadius=function(){var A=this,V=0;A.getNodes().forEach(function(k){return V+=Math.sqrt(k.getWidth()*k.getWidth()+k.getHeight()*k.getHeight())}),A.perimeter=V+A.getNodes().length*A.nodeSeparation;var L=A.perimeter/(2*Math.PI);A.getParent().setWidth(2*L),A.getParent().setHeight(2*L),A.getParent().setCenter(A.getParent().getWidth(),A.getParent().getHeight()),A.centerX=A.getParent().getCenterX(),A.centerY=A.getParent().getCenterY(),A.radius=A.getParent().getHeight()/2},T.prototype.calculateEdgeCrossingsOfNodes=function(){this.getNodes().forEach(function(A){return A.calculateTotalCrossing()})},T.prototype.loadOldIndicesOfNodes=function(){for(var V=0;V<this.inOrder.length;V++)this.inOrder[V].setIndex(V)},T.prototype.reOrderVertices=function(){var A=this;this.getNodes().forEach(function(V){return A.inOrder[V.getIndex()]=V})},T.prototype.findUnorderedSmallestDegreeNode=function(){var A=Number.MAX_SAFE_INTEGER,V=void 0;return this.getNodes().forEach(function(L){L.getDegree()<A&&!L.isOrdered()&&(A=L.getDegree(),V=L)}),V},P.exports=T},function(P,O,I){"use strict";var C=I(0).LayoutConstants;function T(){}for(var N in C)T[N]=C[N];T.DEFAULT_NODE_SEPARATION=60,P.exports=T},function(P,O,I){"use strict";var C=I(0).LEdge;function T(A,V,L){C.call(this,A,V,L)}for(var N in T.prototype=Object.create(C.prototype),C)T[N]=C[N];T.prototype.getOtherEnd=function(A){return C.prototype.getOtherEnd(A)},T.prototype.crossesWithEdge=function(A){var V=this,L=V.getSource().getIndex(),k=V.getTarget().getIndex(),H=A.getSource().getIndex(),$=A.getTarget().getIndex();if(-1===L||-1===k||-1===H||-1===$)return!1;var Q=A.getSource().getCircDistWithTheNode(V.getSource()),ue=A.getTarget().getCircDistWithTheNode(V.getSource()),ne=V.getTarget().getCircDistWithTheNode(V.getSource());return ne<Math.max(Q,ue)&&ne>Math.min(Q,ue)&&0!==ue&&0!==Q},T.prototype.crossingWithEdge=function(A){return this.crossesWithEdge(A)?1:0},T.prototype.calculateTotalCrossingWithList=function(A){var V=this,L=0;return A.forEach(function(k){return L+=V.crossingWithEdge(k)}),L},P.exports=T},function(P,O,I){"use strict";var C=I(0).LNode;function N(V,L,k,H){void 0!==k&&void 0!==H?C.call(this,V,L,k,H):C.call(this,V,L),this.angle=0,this.circleIndex=-1,this.totalCrossingOfEdges=-1,this.isCrossingNumberValid=!1}for(var A in I(0),N.prototype=Object.create(C.prototype),C)N[A]=C[A];N.prototype.getCircle=function(){return this.getOwner()},N.prototype.setIndex=function(V){this.circleIndex=V,this.isCrossingNumberValid=!1},N.prototype.getIndex=function(){return this.circleIndex},N.prototype.getNeighborsSortedByDegree=function(){var L=Array.from(this.getNeighborsList());return(L=L.filter(function(k){return-1===k.getIndex()})).sort(function(k,H){return k.getDegree()-H.getDegree()}),L},N.prototype.getDegree=function(){return this.getEdges().length},N.prototype.isOrdered=function(){return this.getIndex()>-1},N.prototype.setAngle=function(V){this.angle=V},N.prototype.getAngle=function(){return this.angle},N.prototype.getCircDistWithTheNode=function(V){var L=this,k=V.getIndex();if(-1===k||-1===L.getIndex())return-1;var H=L.getIndex()-k;return H<0&&(H+=L.getCircle().getSize()),H},N.prototype.getCrossingNumberWithNode=function(V){var k=0;return this.getEdges().forEach(function(H){V.getEdges().forEach(function($){k+=H.crossingWithEdge($)})}),k},N.prototype.getTotalCrossingOfEdges=function(){var V=this;return V.isCrossingNumberValid||(V.calculateTotalCrossing(),V.isCrossingNumberValid=!0),V.totalCrossingOfEdges},N.prototype.calculateTotalCrossing=function(){var V=this,L=0,k=[];k.push.apply(k,V.getCircle().getEdges()),k=k.filter(function(H){return V.getEdges().indexOf(H)<0}),V.getEdges().forEach(function(H){return L+=H.calculateTotalCrossingWithList(k)}),V.totalCrossingOfEdges=L},P.exports=N},function(P,O,I){"use strict";var C=I(0).Layout,T=I(2),N=I(1),A=I(4),V=I(3);function L(){C.call(this),this.nodeSeparation=T.DEFAULT_NODE_SEPARATION}for(var k in L.prototype=Object.create(C.prototype),C)L[k]=C[k];L.prototype.newGraph=function(H){return this.avsdfCircle=new N(null,this.graphManager,H),this.avsdfCircle},L.prototype.newNode=function(H){return new A(this.graphManager,H)},L.prototype.newEdge=function(H){return new V(null,null,H)},L.prototype.getPositionsData=function(){for(var H=this.graphManager.getAllNodes(),$={},Q=0;Q<H.length;Q++){var ue=H[Q].rect,ne=H[Q].id;$[ne]={id:ne,x:ue.getCenterX(),y:ue.getCenterY(),w:ue.width,h:ue.height}}return $},L.prototype.layout=function(){if(this.graphManager.getGraphs().length>1)return!1;var $=this.avsdfCircle;for($.setNodeSeparation(this.nodeSeparation),$.calculateRadius(),$.initOrdering();!$.hasFinishedOrdering();){var Q=$.findNodeToPlace();$.putInOrder(Q)}return!0},L.prototype.updateNodeAngles=function(){this.graphManager.getRoot().correctAngles()},L.prototype.updateNodeCoordinates=function(){var H=this.graphManager.getRoot();H.getNodes().forEach(function($){$.setCenter(H.getCenterX()+H.getRadius()*Math.cos($.getAngle()),H.getCenterY()+H.getRadius()*Math.sin($.getAngle()))})},L.prototype.initPostProcess=function(){this.avsdfCircle.calculateEdgeCrossingsOfNodes();var H=this.avsdfCircle.getNodes();return H.sort(function($,Q){return Q.getTotalCrossingOfEdges()-$.getTotalCrossingOfEdges()}),H},L.prototype.oneStepPostProcess=function(H){for(var $=this,Q=H.getTotalCrossingOfEdges(),ue=void 0,ne=Array.from(H.getNeighborsList()),le=0;le<ne.length;le++){var ae=ne[le],de=H.getIndex(),te=(ae.getIndex()+1)%$.avsdfCircle.getSize();if(de!==te){H.setIndex(te),de<H.getIndex()&&(de+=$.avsdfCircle.getSize());for(var pe=H.getIndex();pe<de;){var Z=$.avsdfCircle.getOrder()[pe%$.avsdfCircle.getSize()];Z.setIndex((Z.getIndex()+1)%$.avsdfCircle.getSize()),pe+=1}H.calculateTotalCrossing(),(ue=H.getTotalCrossingOfEdges())>=Q?$.avsdfCircle.loadOldIndicesOfNodes():($.avsdfCircle.reOrderVertices(),Q=ue)}}},P.exports=L},function(P,O,I){"use strict";var C={};C.layoutBase=I(0),C.AVSDFConstants=I(2),C.AVSDFEdge=I(3),C.AVSDFCircle=I(1),C.AVSDFLayout=I(5),C.AVSDFNode=I(4),P.exports=C}]))},3163:(Y,se,D)=>{!function(S){var P=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),O=S.Pos,I={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function C(k){return k&&k.bracketRegex||/[(){}[\]]/}function T(k,H,$){var Q=k.getLineHandle(H.line),ue=H.ch-1,ne=$&&$.afterCursor;null==ne&&(ne=/(^| )cm-fat-cursor($| )/.test(k.getWrapperElement().className));var le=C($),ae=!ne&&ue>=0&&le.test(Q.text.charAt(ue))&&I[Q.text.charAt(ue)]||le.test(Q.text.charAt(ue+1))&&I[Q.text.charAt(++ue)];if(!ae)return null;var de=">"==ae.charAt(1)?1:-1;if($&&$.strict&&de>0!=(ue==H.ch))return null;var te=k.getTokenTypeAt(O(H.line,ue+1)),pe=N(k,O(H.line,ue+(de>0?1:0)),de,te,$);return null==pe?null:{from:O(H.line,ue),to:pe&&pe.pos,match:pe&&pe.ch==ae.charAt(0),forward:de>0}}function N(k,H,$,Q,ue){for(var ne=ue&&ue.maxScanLineLength||1e4,le=ue&&ue.maxScanLines||1e3,ae=[],de=C(ue),te=$>0?Math.min(H.line+le,k.lastLine()+1):Math.max(k.firstLine()-1,H.line-le),pe=H.line;pe!=te;pe+=$){var Z=k.getLine(pe);if(Z){var oe=$>0?0:Z.length-1,ie=$>0?Z.length:-1;if(!(Z.length>ne))for(pe==H.line&&(oe=H.ch-($<0?1:0));oe!=ie;oe+=$){var me=Z.charAt(oe);if(de.test(me)&&(void 0===Q||(k.getTokenTypeAt(O(pe,oe+1))||"")==(Q||""))){var _e=I[me];if(_e&&">"==_e.charAt(1)==$>0)ae.push(me);else{if(!ae.length)return{pos:O(pe,oe),ch:me};ae.pop()}}}}}return pe-$!=($>0?k.lastLine():k.firstLine())&&null}function A(k,H,$){for(var Q=k.state.matchBrackets.maxHighlightLineLength||1e3,ue=$&&$.highlightNonMatching,ne=[],le=k.listSelections(),ae=0;ae<le.length;ae++){var de=le[ae].empty()&&T(k,le[ae].head,$);if(de&&(de.match||!1!==ue)&&k.getLine(de.from.line).length<=Q){var te=de.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";ne.push(k.markText(de.from,O(de.from.line,de.from.ch+1),{className:te})),de.to&&k.getLine(de.to.line).length<=Q&&ne.push(k.markText(de.to,O(de.to.line,de.to.ch+1),{className:te}))}}if(ne.length){P&&k.state.focused&&k.focus();var pe=function(){k.operation(function(){for(var Z=0;Z<ne.length;Z++)ne[Z].clear()})};if(!H)return pe;setTimeout(pe,800)}}function V(k){k.operation(function(){k.state.matchBrackets.currentlyHighlighted&&(k.state.matchBrackets.currentlyHighlighted(),k.state.matchBrackets.currentlyHighlighted=null),k.state.matchBrackets.currentlyHighlighted=A(k,!1,k.state.matchBrackets)})}function L(k){k.state.matchBrackets&&k.state.matchBrackets.currentlyHighlighted&&(k.state.matchBrackets.currentlyHighlighted(),k.state.matchBrackets.currentlyHighlighted=null)}S.defineOption("matchBrackets",!1,function(k,H,$){$&&$!=S.Init&&(k.off("cursorActivity",V),k.off("focus",V),k.off("blur",L),L(k)),H&&(k.state.matchBrackets="object"==typeof H?H:{},k.on("cursorActivity",V),k.on("focus",V),k.on("blur",L))}),S.defineExtension("matchBrackets",function(){A(this,!0)}),S.defineExtension("findMatchingBracket",function(k,H,$){return($||"boolean"==typeof H)&&($?($.strict=H,H=$):H=H?{strict:!0}:null),T(this,k,H)}),S.defineExtension("scanForBracket",function(k,H,$,Q){return N(this,k,H,$,Q)})}(D(656))},656:function(Y){Y.exports=function(){"use strict";var se=navigator.userAgent,D=navigator.platform,S=/gecko\/\d/i.test(se),P=/MSIE \d/.test(se),O=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(se),I=/Edge\/(\d+)/.exec(se),C=P||O||I,T=C&&(P?document.documentMode||6:+(I||O)[1]),N=!I&&/WebKit\//.test(se),A=N&&/Qt\/\d+\.\d+/.test(se),V=!I&&/Chrome\/(\d+)/.exec(se),L=V&&+V[1],k=/Opera\//.test(se),H=/Apple Computer/.test(navigator.vendor),$=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(se),Q=/PhantomJS/.test(se),ue=H&&(/Mobile\/\w+/.test(se)||navigator.maxTouchPoints>2),ne=/Android/.test(se),le=ue||ne||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(se),ae=ue||/Mac/.test(D),de=/\bCrOS\b/.test(se),te=/win/i.test(D),pe=k&&se.match(/Version\/(\d*\.\d*)/);pe&&(pe=Number(pe[1])),pe&&pe>=15&&(k=!1,N=!0);var Z=ae&&(A||k&&(null==pe||pe<12.11)),oe=S||C&&T>=9;function ie(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var Be,me=function(a,d){var y=a.className,v=ie(d).exec(y);if(v){var b=y.slice(v.index+v[0].length);a.className=y.slice(0,v.index)+(b?v[1]+b:"")}};function _e(a){for(var d=a.childNodes.length;d>0;--d)a.removeChild(a.firstChild);return a}function Te(a,d){return _e(a).appendChild(d)}function De(a,d,y,v){var b=document.createElement(a);if(y&&(b.className=y),v&&(b.style.cssText=v),"string"==typeof d)b.appendChild(document.createTextNode(d));else if(d)for(var B=0;B<d.length;++B)b.appendChild(d[B]);return b}function ze(a,d,y,v){var b=De(a,d,y,v);return b.setAttribute("role","presentation"),b}function at(a,d){if(3==d.nodeType&&(d=d.parentNode),a.contains)return a.contains(d);do{if(11==d.nodeType&&(d=d.host),d==a)return!0}while(d=d.parentNode)}function ft(a){var d;try{d=a.activeElement}catch{d=a.body||null}for(;d&&d.shadowRoot&&d.shadowRoot.activeElement;)d=d.shadowRoot.activeElement;return d}function Ye(a,d){var y=a.className;ie(d).test(y)||(a.className+=(y?" ":"")+d)}function Ct(a,d){for(var y=a.split(" "),v=0;v<y.length;v++)y[v]&&!ie(y[v]).test(d)&&(d+=" "+y[v]);return d}Be=document.createRange?function(a,d,y,v){var b=document.createRange();return b.setEnd(v||a,y),b.setStart(a,d),b}:function(a,d,y){var v=document.body.createTextRange();try{v.moveToElementText(a.parentNode)}catch{return v}return v.collapse(!0),v.moveEnd("character",y),v.moveStart("character",d),v};var Xe=function(a){a.select()};function Zt(a){return a.display.wrapper.ownerDocument}function Ht(a){return Zt(a).defaultView}function It(a){var d=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,d)}}function mn(a,d,y){for(var v in d||(d={}),a)a.hasOwnProperty(v)&&(!1!==y||!d.hasOwnProperty(v))&&(d[v]=a[v]);return d}function cn(a,d,y,v,b){null==d&&-1==(d=a.search(/[^\s\u00a0]/))&&(d=a.length);for(var B=v||0,G=b||0;;){var X=a.indexOf("\t",B);if(X<0||X>=d)return G+(d-B);G+=X-B,G+=y-G%y,B=X+1}}ue?Xe=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:C&&(Xe=function(a){try{a.select()}catch{}});var lt=function(){this.id=null,this.f=null,this.time=0,this.handler=It(this.onTimeout,this)};function rt(a,d){for(var y=0;y<a.length;++y)if(a[y]==d)return y;return-1}lt.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},lt.prototype.set=function(a,d){this.f=d;var y=+new Date+a;(!this.id||y<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=y)};var ht=50,Ft={toString:function(){return"CodeMirror.Pass"}},Tt={scroll:!1},Kn={origin:"*mouse"},Jn={origin:"+move"};function Tr(a,d,y){for(var v=0,b=0;;){var B=a.indexOf("\t",v);-1==B&&(B=a.length);var G=B-v;if(B==a.length||b+G>=d)return v+Math.min(G,d-b);if(b+=B-v,v=B+1,(b+=y-b%y)>=d)return v}}var kr=[""];function Cr(a){for(;kr.length<=a;)kr.push(wn(kr)+" ");return kr[a]}function wn(a){return a[a.length-1]}function Vn(a,d){for(var y=[],v=0;v<a.length;v++)y[v]=d(a[v],v);return y}function dn(){}function Ri(a,d){var y;return Object.create?y=Object.create(a):(dn.prototype=a,y=new dn),d&&mn(d,y),y}var ro=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Fi(a){return/\w/.test(a)||a>"\x80"&&(a.toUpperCase()!=a.toLowerCase()||ro.test(a))}function Bi(a,d){return d?!!(d.source.indexOf("\\w")>-1&&Fi(a))||d.test(a):Fi(a)}function jr(a){for(var d in a)if(a.hasOwnProperty(d)&&a[d])return!1;return!0}var Ki=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ja(a){return a.charCodeAt(0)>=768&&Ki.test(a)}function Ts(a,d,y){for(;(y<0?d>0:d<a.length)&&ja(a.charAt(d));)d+=y;return d}function Nn(a,d,y){for(var v=d>y?-1:1;;){if(d==y)return d;var b=(d+y)/2,B=v<0?Math.ceil(b):Math.floor(b);if(B==d)return a(B)?d:y;a(B)?y=B:d=B+v}}var Yo=null;function Xo(a,d,y){var v;Yo=null;for(var b=0;b<a.length;++b){var B=a[b];if(B.from<d&&B.to>d)return b;B.to==d&&(B.from!=B.to&&"before"==y?v=b:Yo=b),B.from==d&&(B.from!=B.to&&"before"!=y?v=b:Yo=b)}return v??Yo}var fl=function(){function y(ce){return ce<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(ce):1424<=ce&&ce<=1524?"R":1536<=ce&&ce<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(ce-1536):1774<=ce&&ce<=2220?"r":8192<=ce&&ce<=8203?"w":8204==ce?"b":"L"}var v=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,b=/[stwN]/,B=/[LRr]/,G=/[Lb1n]/,X=/[1n]/;function ee(ce,xe,Le){this.level=ce,this.from=xe,this.to=Le}return function(ce,xe){var Le="ltr"==xe?"L":"R";if(0==ce.length||"ltr"==xe&&!v.test(ce))return!1;for(var $e=ce.length,je=[],pt=0;pt<$e;++pt)je.push(y(ce.charCodeAt(pt)));for(var bt=0,Ut=Le;bt<$e;++bt){var jt=je[bt];"m"==jt?je[bt]=Ut:Ut=jt}for(var Qt=0,Xt=Le;Qt<$e;++Qt){var $t=je[Qt];"1"==$t&&"r"==Xt?je[Qt]="n":B.test($t)&&(Xt=$t,"r"==$t&&(je[Qt]="R"))}for(var kn=1,En=je[0];kn<$e-1;++kn){var nr=je[kn];"+"==nr&&"1"==En&&"1"==je[kn+1]?je[kn]="1":","==nr&&En==je[kn+1]&&("1"==En||"n"==En)&&(je[kn]=En),En=nr}for(var dr=0;dr<$e;++dr){var Ai=je[dr];if(","==Ai)je[dr]="N";else if("%"==Ai){var Ei=void 0;for(Ei=dr+1;Ei<$e&&"%"==je[Ei];++Ei);for(var jo=dr&&"!"==je[dr-1]||Ei<$e&&"1"==je[Ei]?"1":"N",$i=dr;$i<Ei;++$i)je[$i]=jo;dr=Ei-1}}for(var Oi=0,da=Le;Oi<$e;++Oi){var Wo=je[Oi];"L"==da&&"1"==Wo?je[Oi]="L":B.test(Wo)&&(da=Wo)}for(var So=0;So<$e;++So)if(b.test(je[So])){var zr=void 0;for(zr=So+1;zr<$e&&b.test(je[zr]);++zr);for(var xi="L"==(So?je[So-1]:Le),jd=xi==("L"==(zr<$e?je[zr]:Le))?xi?"L":"R":Le,Tl=So;Tl<zr;++Tl)je[Tl]=jd;So=zr-1}for(var ol,Qo=[],Mo=0;Mo<$e;)if(G.test(je[Mo])){var Fh=Mo;for(++Mo;Mo<$e&&G.test(je[Mo]);++Mo);Qo.push(new ee(0,Fh,Mo))}else{var Sl=Mo,Fu=Qo.length,Ml="rtl"==xe?1:0;for(++Mo;Mo<$e&&"L"!=je[Mo];++Mo);for(var Ni=Sl;Ni<Mo;)if(X.test(je[Ni])){Sl<Ni&&(Qo.splice(Fu,0,new ee(1,Sl,Ni)),Fu+=Ml);var Oc=Ni;for(++Ni;Ni<Mo&&X.test(je[Ni]);++Ni);Qo.splice(Fu,0,new ee(2,Oc,Ni)),Fu+=Ml,Sl=Ni}else++Ni;Sl<Mo&&Qo.splice(Fu,0,new ee(1,Sl,Mo))}return"ltr"==xe&&(1==Qo[0].level&&(ol=ce.match(/^\s+/))&&(Qo[0].from=ol[0].length,Qo.unshift(new ee(0,0,ol[0].length))),1==wn(Qo).level&&(ol=ce.match(/\s+$/))&&(wn(Qo).to-=ol[0].length,Qo.push(new ee(0,$e-ol[0].length,$e)))),"rtl"==xe?Qo.reverse():Qo}}();function Wa(a,d){var y=a.order;return null==y&&(y=a.order=fl(a.text,d)),y}var Ss=[],_n=function(a,d,y){if(a.addEventListener)a.addEventListener(d,y,!1);else if(a.attachEvent)a.attachEvent("on"+d,y);else{var v=a._handlers||(a._handlers={});v[d]=(v[d]||Ss).concat(y)}};function ma(a,d){return a._handlers&&a._handlers[d]||Ss}function go(a,d,y){if(a.removeEventListener)a.removeEventListener(d,y,!1);else if(a.detachEvent)a.detachEvent("on"+d,y);else{var v=a._handlers,b=v&&v[d];if(b){var B=rt(b,y);B>-1&&(v[d]=b.slice(0,B).concat(b.slice(B+1)))}}}function pi(a,d){var y=ma(a,d);if(y.length)for(var v=Array.prototype.slice.call(arguments,2),b=0;b<y.length;++b)y[b].apply(null,v)}function Zi(a,d,y){return"string"==typeof d&&(d={type:d,preventDefault:function(){this.defaultPrevented=!0}}),pi(a,y||d.type,a,d),Qc(d)||d.codemirrorIgnore}function mu(a){var d=a._handlers&&a._handlers.cursorActivity;if(d)for(var y=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),v=0;v<d.length;++v)-1==rt(y,d[v])&&y.push(d[v])}function Si(a,d){return ma(a,d).length>0}function Ma(a){a.prototype.on=function(d,y){_n(this,d,y)},a.prototype.off=function(d,y){go(this,d,y)}}function Vi(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Ks(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Qc(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function Ia(a){Vi(a),Ks(a)}function Zs(a){return a.target||a.srcElement}function Jc(a){var d=a.which;return null==d&&(1&a.button?d=1:2&a.button?d=3:4&a.button&&(d=2)),ae&&a.ctrlKey&&1==d&&(d=3),d}var Aa,as,os=function(){if(C&&T<9)return!1;var a=De("div");return"draggable"in a||"dragDrop"in a}();function ch(a){if(null==Aa){var d=De("span","\u200b");Te(a,De("span",[d,document.createTextNode("x")])),0!=a.firstChild.offsetHeight&&(Aa=d.offsetWidth<=1&&d.offsetHeight>2&&!(C&&T<8))}var y=Aa?De("span","\u200b"):De("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return y.setAttribute("cm-text",""),y}function ed(a){if(null!=as)return as;var d=Te(a,document.createTextNode("A\u062eA")),y=Be(d,0,1).getBoundingClientRect(),v=Be(d,1,2).getBoundingClientRect();return _e(a),!(!y||y.left==y.right)&&(as=v.right-y.right<3)}var a,vu=3!="\n\nb".split(/\n/).length?function(a){for(var d=0,y=[],v=a.length;d<=v;){var b=a.indexOf("\n",d);-1==b&&(b=a.length);var B=a.slice(d,"\r"==a.charAt(b-1)?b-1:b),G=B.indexOf("\r");-1!=G?(y.push(B.slice(0,G)),d+=G+1):(y.push(B),d=b+1)}return y}:function(a){return a.split(/\r\n?|\n/)},ec=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var d;try{d=a.ownerDocument.selection.createRange()}catch{}return!(!d||d.parentElement()!=a)&&0!=d.compareEndPoints("StartToEnd",d)},No="oncopy"in(a=De("div"))||(a.setAttribute("oncopy","return;"),"function"==typeof a.oncopy),td=null;var nc={},Ms={};function rc(a,d){arguments.length>2&&(d.dependencies=Array.prototype.slice.call(arguments,2)),nc[a]=d}function ni(a){if("string"==typeof a&&Ms.hasOwnProperty(a))a=Ms[a];else if(a&&"string"==typeof a.name&&Ms.hasOwnProperty(a.name)){var d=Ms[a.name];"string"==typeof d&&(d={name:d}),(a=Ri(d,a)).name=d.name}else{if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return ni("application/xml");if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return ni("application/json")}return"string"==typeof a?{name:a}:a||{name:"null"}}function Oa(a,d){d=ni(d);var y=nc[d.name];if(!y)return Oa(a,"text/plain");var v=y(a,d);if(Sr.hasOwnProperty(d.name)){var b=Sr[d.name];for(var B in b)b.hasOwnProperty(B)&&(v.hasOwnProperty(B)&&(v["_"+B]=v[B]),v[B]=b[B])}if(v.name=d.name,d.helperType&&(v.helperType=d.helperType),d.modeProps)for(var G in d.modeProps)v[G]=d.modeProps[G];return v}var Sr={};function qi(a,d){mn(d,Sr.hasOwnProperty(a)?Sr[a]:Sr[a]={})}function ki(a,d){if(!0===d)return d;if(a.copyState)return a.copyState(d);var y={};for(var v in d){var b=d[v];b instanceof Array&&(b=b.concat([])),y[v]=b}return y}function va(a,d){for(var y;a.innerMode&&(y=a.innerMode(d))&&y.mode!=a;)d=y.state,a=y.mode;return y||{mode:a,state:d}}function df(a,d,y){return!a.startState||a.startState(d,y)}var Pi=function(a,d,y){this.pos=this.start=0,this.string=a,this.tabSize=d||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=y};function Cn(a,d){if((d-=a.first)<0||d>=a.size)throw new Error("There is no line "+(d+a.first)+" in the document.");for(var y=a;!y.lines;)for(var v=0;;++v){var b=y.children[v],B=b.chunkSize();if(d<B){y=b;break}d-=B}return y.lines[d]}function li(a,d,y){var v=[],b=d.line;return a.iter(d.line,y.line+1,function(B){var G=B.text;b==y.line&&(G=G.slice(0,y.ch)),b==d.line&&(G=G.slice(d.ch)),v.push(G),++b}),v}function $a(a,d,y){var v=[];return a.iter(d,y,function(b){v.push(b.text)}),v}function Ro(a,d){var y=d-a.height;if(y)for(var v=a;v;v=v.parent)v.height+=y}function Pr(a){if(null==a.parent)return null;for(var d=a.parent,y=rt(d.lines,a),v=d.parent;v;d=v,v=v.parent)for(var b=0;v.children[b]!=d;++b)y+=v.children[b].chunkSize();return y+d.first}function Qi(a,d){var y=a.first;e:do{for(var v=0;v<a.children.length;++v){var b=a.children[v],B=b.height;if(d<B){a=b;continue e}d-=B,y+=b.chunkSize()}return y}while(!a.lines);for(var G=0;G<a.lines.length;++G){var ee=a.lines[G].height;if(d<ee)break;d-=ee}return y+G}function ko(a,d){return d>=a.first&&d<a.first+a.size}function rd(a,d){return String(a.lineNumberFormatter(d+a.firstLineNumber))}function St(a,d,y){if(void 0===y&&(y=null),!(this instanceof St))return new St(a,d,y);this.line=a,this.ch=d,this.sticky=y}function Yn(a,d){return a.line-d.line||a.ch-d.ch}function id(a,d){return a.sticky==d.sticky&&0==Yn(a,d)}function Is(a){return St(a.line,a.ch)}function Oe(a,d){return Yn(a,d)<0?d:a}function Re(a,d){return Yn(a,d)<0?a:d}function Ve(a,d){return Math.max(a.first,Math.min(d,a.first+a.size-1))}function nt(a,d){if(d.line<a.first)return St(a.first,0);var y=a.first+a.size-1;return d.line>y?St(y,Cn(a,y).text.length):function qe(a,d){var y=a.ch;return null==y||y>d?St(a.line,d):y<0?St(a.line,0):a}(d,Cn(a,d.line).text.length)}function qt(a,d){for(var y=[],v=0;v<d.length;v++)y[v]=nt(a,d[v]);return y}Pi.prototype.eol=function(){return this.pos>=this.string.length},Pi.prototype.sol=function(){return this.pos==this.lineStart},Pi.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Pi.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Pi.prototype.eat=function(a){var d=this.string.charAt(this.pos);if("string"==typeof a?d==a:d&&(a.test?a.test(d):a(d)))return++this.pos,d},Pi.prototype.eatWhile=function(a){for(var d=this.pos;this.eat(a););return this.pos>d},Pi.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},Pi.prototype.skipToEnd=function(){this.pos=this.string.length},Pi.prototype.skipTo=function(a){var d=this.string.indexOf(a,this.pos);if(d>-1)return this.pos=d,!0},Pi.prototype.backUp=function(a){this.pos-=a},Pi.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=cn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?cn(this.string,this.lineStart,this.tabSize):0)},Pi.prototype.indentation=function(){return cn(this.string,null,this.tabSize)-(this.lineStart?cn(this.string,this.lineStart,this.tabSize):0)},Pi.prototype.match=function(a,d,y){if("string"!=typeof a){var B=this.string.slice(this.pos).match(a);return B&&B.index>0?null:(B&&!1!==d&&(this.pos+=B[0].length),B)}var v=function(G){return y?G.toLowerCase():G};if(v(this.string.substr(this.pos,a.length))==v(a))return!1!==d&&(this.pos+=a.length),!0},Pi.prototype.current=function(){return this.string.slice(this.start,this.pos)},Pi.prototype.hideFirstChars=function(a,d){this.lineStart+=a;try{return d()}finally{this.lineStart-=a}},Pi.prototype.lookAhead=function(a){var d=this.lineOracle;return d&&d.lookAhead(a)},Pi.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var gn=function(a,d){this.state=a,this.lookAhead=d},Vt=function(a,d,y,v){this.state=d,this.doc=a,this.line=y,this.maxLookAhead=v||0,this.baseTokens=null,this.baseTokenPos=1};function en(a,d,y,v){var b=[a.state.modeGen],B={};Lr(a,d.text,a.doc.mode,y,function(ce,xe){return b.push(ce,xe)},B,v);for(var G=y.state,X=function(ce){y.baseTokens=b;var xe=a.state.overlays[ce],Le=1,$e=0;y.state=!0,Lr(a,d.text,xe.mode,y,function(je,pt){for(var bt=Le;$e<je;){var Ut=b[Le];Ut>je&&b.splice(Le,1,je,b[Le+1],Ut),Le+=2,$e=Math.min(je,Ut)}if(pt)if(xe.opaque)b.splice(bt,Le-bt,je,"overlay "+pt),Le=bt+2;else for(;bt<Le;bt+=2){var jt=b[bt+1];b[bt+1]=(jt?jt+" ":"")+"overlay "+pt}},B),y.state=G,y.baseTokens=null,y.baseTokenPos=1},ee=0;ee<a.state.overlays.length;++ee)X(ee);return{styles:b,classes:B.bgClass||B.textClass?B:null}}function Un(a,d,y){if(!d.styles||d.styles[0]!=a.state.modeGen){var v=Bt(a,Pr(d)),b=d.text.length>a.options.maxHighlightLength&&ki(a.doc.mode,v.state),B=en(a,d,v);b&&(v.state=b),d.stateAfter=v.save(!b),d.styles=B.styles,B.classes?d.styleClasses=B.classes:d.styleClasses&&(d.styleClasses=null),y===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return d.styles}function Bt(a,d,y){var v=a.doc,b=a.display;if(!v.mode.startState)return new Vt(v,!0,d);var B=function gi(a,d,y){for(var v,b,B=a.doc,G=y?-1:d-(a.doc.mode.innerMode?1e3:100),X=d;X>G;--X){if(X<=B.first)return B.first;var ee=Cn(B,X-1),ce=ee.stateAfter;if(ce&&(!y||X+(ce instanceof gn?ce.lookAhead:0)<=B.modeFrontier))return X;var xe=cn(ee.text,null,a.options.tabSize);(null==b||v>xe)&&(b=X-1,v=xe)}return b}(a,d,y),G=B>v.first&&Cn(v,B-1).stateAfter,X=G?Vt.fromSaved(v,G,B):new Vt(v,df(v.mode),B);return v.iter(B,d,function(ee){Ar(a,ee.text,X);var ce=X.line;ee.stateAfter=ce==d-1||ce%5==0||ce>=b.viewFrom&&ce<b.viewTo?X.save():null,X.nextLine()}),y&&(v.modeFrontier=X.line),X}function Ar(a,d,y,v){var b=a.doc.mode,B=new Pi(d,a.options.tabSize,y);for(B.start=B.pos=v||0,""==d&&er(b,y.state);!B.eol();)or(b,B,y.state),B.start=B.pos}function er(a,d){if(a.blankLine)return a.blankLine(d);if(a.innerMode){var y=va(a,d);if(y.mode.blankLine)return y.mode.blankLine(y.state)}}function or(a,d,y,v){for(var b=0;b<10;b++){v&&(v[0]=va(a,y).mode);var B=a.token(d,y);if(d.pos>d.start)return B}throw new Error("Mode "+a.name+" failed to advance stream.")}Vt.prototype.lookAhead=function(a){var d=this.doc.getLine(this.line+a);return null!=d&&a>this.maxLookAhead&&(this.maxLookAhead=a),d},Vt.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var d=this.baseTokens[this.baseTokenPos+1];return{type:d&&d.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Vt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Vt.fromSaved=function(a,d,y){return d instanceof gn?new Vt(a,ki(a.mode,d.state),y,d.lookAhead):new Vt(a,ki(a.mode,d),y)},Vt.prototype.save=function(a){var d=!1!==a?ki(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new gn(d,this.maxLookAhead):d};var ri=function(a,d,y){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=d||null,this.state=y};function Mn(a,d,y,v){var G,xe,b=a.doc,B=b.mode,X=Cn(b,(d=nt(b,d)).line),ee=Bt(a,d.line,y),ce=new Pi(X.text,a.options.tabSize,ee);for(v&&(xe=[]);(v||ce.pos<d.ch)&&!ce.eol();)ce.start=ce.pos,G=or(B,ce,ee.state),v&&xe.push(new ri(ce,G,ki(b.mode,ee.state)));return v?xe:new ri(ce,G,ee.state)}function on(a,d){if(a)for(;;){var y=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!y)break;a=a.slice(0,y.index)+a.slice(y.index+y[0].length);var v=y[1]?"bgClass":"textClass";null==d[v]?d[v]=y[2]:new RegExp("(?:^|\\s)"+y[2]+"(?:$|\\s)").test(d[v])||(d[v]+=" "+y[2])}return a}function Lr(a,d,y,v,b,B,G){var X=y.flattenSpans;null==X&&(X=a.options.flattenSpans);var Le,ee=0,ce=null,xe=new Pi(d,a.options.tabSize,v),$e=a.options.addModeClass&&[null];for(""==d&&on(er(y,v.state),B);!xe.eol();){if(xe.pos>a.options.maxHighlightLength?(X=!1,G&&Ar(a,d,v,xe.pos),xe.pos=d.length,Le=null):Le=on(or(y,xe,v.state,$e),B),$e){var je=$e[0].name;je&&(Le="m-"+(Le?je+" "+Le:je))}if(!X||ce!=Le){for(;ee<xe.start;)b(ee=Math.min(xe.start,ee+5e3),ce);ce=Le}xe.start=xe.pos}for(;ee<xe.pos;){var pt=Math.min(xe.pos,ee+5e3);b(pt,ce),ee=pt}}var gr=!1,Ze=!1;function Gn(a,d,y){this.marker=a,this.from=d,this.to=y}function ci(a,d){if(a)for(var y=0;y<a.length;++y){var v=a[y];if(v.marker==d)return v}}function Hi(a,d){for(var y,v=0;v<a.length;++v)a[v]!=d&&(y||(y=[])).push(a[v]);return y}function qs(a,d){if(d.full)return null;var y=ko(a,d.from.line)&&Cn(a,d.from.line).markedSpans,v=ko(a,d.to.line)&&Cn(a,d.to.line).markedSpans;if(!y&&!v)return null;var b=d.from.ch,B=d.to.ch,G=0==Yn(d.from,d.to),X=function zi(a,d,y){var v;if(a)for(var b=0;b<a.length;++b){var B=a[b],G=B.marker;null!=B.from&&!(G.inclusiveLeft?B.from<=d:B.from<d)&&(B.from!=d||"bookmark"!=G.type||y&&B.marker.insertLeft)||(v||(v=[])).push(new Gn(G,B.from,null==B.to||(G.inclusiveRight?B.to>=d:B.to>d)?null:B.to))}return v}(y,b,G),ee=function Rr(a,d,y){var v;if(a)for(var b=0;b<a.length;++b){var B=a[b],G=B.marker;(null==B.to||(G.inclusiveRight?B.to>=d:B.to>d)||B.from==d&&"bookmark"==G.type&&(!y||B.marker.insertLeft))&&(v||(v=[])).push(new Gn(G,null==B.from||(G.inclusiveLeft?B.from<=d:B.from<d)?null:B.from-d,null==B.to?null:B.to-d))}return v}(v,B,G),ce=1==d.text.length,xe=wn(d.text).length+(ce?b:0);if(X)for(var Le=0;Le<X.length;++Le){var $e=X[Le];if(null==$e.to){var je=ci(ee,$e.marker);je?ce&&($e.to=null==je.to?null:je.to+xe):$e.to=b}}if(ee)for(var pt=0;pt<ee.length;++pt){var bt=ee[pt];null!=bt.to&&(bt.to+=xe),null==bt.from?ci(X,bt.marker)||(bt.from=xe,ce&&(X||(X=[])).push(bt)):(bt.from+=xe,ce&&(X||(X=[])).push(bt))}X&&(X=di(X)),ee&&ee!=X&&(ee=di(ee));var jt=[X];if(!ce){var Xt,Qt=d.text.length-2;if(Qt>0&&X)for(var $t=0;$t<X.length;++$t)null==X[$t].to&&(Xt||(Xt=[])).push(new Gn(X[$t].marker,null,null));for(var kn=0;kn<Qt;++kn)jt.push(Xt);jt.push(ee)}return jt}function di(a){for(var d=0;d<a.length;++d){var y=a[d];null!=y.from&&y.from==y.to&&!1!==y.marker.clearWhenEmpty&&a.splice(d--,1)}return a.length?a:null}function Ji(a){var d=a.markedSpans;if(d){for(var y=0;y<d.length;++y)d[y].marker.detachLine(a);a.markedSpans=null}}function Qs(a,d){if(d){for(var y=0;y<d.length;++y)d[y].marker.attachLine(a);a.markedSpans=d}}function Mi(a){return a.inclusiveLeft?-1:0}function Hl(a){return a.inclusiveRight?1:0}function ic(a,d){var y=a.lines.length-d.lines.length;if(0!=y)return y;var v=a.find(),b=d.find(),B=Yn(v.from,b.from)||Mi(a)-Mi(d);return B?-B:Yn(v.to,b.to)||Hl(a)-Hl(d)||d.id-a.id}function zl(a,d){var v,y=Ze&&a.markedSpans;if(y)for(var b=void 0,B=0;B<y.length;++B)(b=y[B]).marker.collapsed&&null==(d?b.from:b.to)&&(!v||ic(v,b.marker)<0)&&(v=b.marker);return v}function oc(a){return zl(a,!0)}function Na(a){return zl(a,!1)}function As(a,d){var v,y=Ze&&a.markedSpans;if(y)for(var b=0;b<y.length;++b){var B=y[b];B.marker.collapsed&&(null==B.from||B.from<d)&&(null==B.to||B.to>d)&&(!v||ic(v,B.marker)<0)&&(v=B.marker)}return v}function io(a,d,y,v,b){var B=Cn(a,d),G=Ze&&B.markedSpans;if(G)for(var X=0;X<G.length;++X){var ee=G[X];if(ee.marker.collapsed){var ce=ee.marker.find(0),xe=Yn(ce.from,y)||Mi(ee.marker)-Mi(b),Le=Yn(ce.to,v)||Hl(ee.marker)-Hl(b);if(!(xe>=0&&Le<=0||xe<=0&&Le>=0)&&(xe<=0&&(ee.marker.inclusiveRight&&b.inclusiveLeft?Yn(ce.to,y)>=0:Yn(ce.to,y)>0)||xe>=0&&(ee.marker.inclusiveRight&&b.inclusiveLeft?Yn(ce.from,v)<=0:Yn(ce.from,v)<0)))return!0}}}function tr(a){for(var d;d=oc(a);)a=d.find(-1,!0).line;return a}function od(a,d){var y=Cn(a,d),v=tr(y);return y==v?d:Pr(v)}function an(a,d){if(d>a.lastLine())return d;var v,y=Cn(a,d);if(!hl(a,y))return d;for(;v=Na(y);)y=v.find(1,!0).line;return Pr(y)+1}function hl(a,d){var y=Ze&&d.markedSpans;if(y)for(var v=void 0,b=0;b<y.length;++b)if((v=y[b]).marker.collapsed){if(null==v.from)return!0;if(!v.marker.widgetNode&&0==v.from&&v.marker.inclusiveLeft&&Qr(a,d,v))return!0}}function Qr(a,d,y){if(null==y.to){var v=y.marker.find(1,!0);return Qr(a,v.line,ci(v.line.markedSpans,y.marker))}if(y.marker.inclusiveRight&&y.to==d.text.length)return!0;for(var b=void 0,B=0;B<d.markedSpans.length;++B)if((b=d.markedSpans[B]).marker.collapsed&&!b.marker.widgetNode&&b.from==y.to&&(null==b.to||b.to!=y.from)&&(b.marker.inclusiveLeft||y.marker.inclusiveRight)&&Qr(a,d,b))return!0}function Ra(a){for(var d=0,y=(a=tr(a)).parent,v=0;v<y.lines.length;++v){var b=y.lines[v];if(b==a)break;d+=b.height}for(var B=y.parent;B;B=(y=B).parent)for(var G=0;G<B.children.length;++G){var X=B.children[G];if(X==y)break;d+=X.height}return d}function ac(a){if(0==a.height)return 0;for(var y,d=a.text.length,v=a;y=oc(v);){var b=y.find(0,!0);v=b.from.line,d+=b.from.ch-b.to.ch}for(v=a;y=Na(v);){var B=y.find(0,!0);d-=v.text.length-B.from.ch,d+=(v=B.to.line).text.length-B.to.ch}return d}function yu(a){var d=a.display,y=a.doc;d.maxLine=Cn(y,y.first),d.maxLineLength=ac(d.maxLine),d.maxLineChanged=!0,y.iter(function(v){var b=ac(v);b>d.maxLineLength&&(d.maxLineLength=b,d.maxLine=v)})}var pl=function(a,d,y){this.text=a,Qs(this,d),this.height=y?y(this):1};function ka(a){a.parent=null,Ji(a)}pl.prototype.lineNo=function(){return Pr(this)},Ma(pl);var Os={},Ul={};function sc(a,d){if(!a||/^\s*$/.test(a))return null;var y=d.addModeClass?Ul:Os;return y[a]||(y[a]=a.replace(/\S+/g,"cm-$&"))}function Ln(a,d){var y=ze("span",null,null,N?"padding-right: .1px":null),v={pre:ze("pre",[y],"CodeMirror-line"),content:y,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};d.measure={};for(var b=0;b<=(d.rest?d.rest.length:0);b++){var B=b?d.rest[b-1]:d.line,G=void 0;v.pos=0,v.addToken=gl,ed(a.display.measure)&&(G=Wa(B,a.doc.direction))&&(v.addToken=ss(v.addToken,G)),v.map=[],mi(B,v,Un(a,B,d!=a.display.externalMeasured&&Pr(B))),B.styleClasses&&(B.styleClasses.bgClass&&(v.bgClass=Ct(B.styleClasses.bgClass,v.bgClass||"")),B.styleClasses.textClass&&(v.textClass=Ct(B.styleClasses.textClass,v.textClass||""))),0==v.map.length&&v.map.push(0,0,v.content.appendChild(ch(a.display.measure))),0==b?(d.measure.map=v.map,d.measure.cache={}):((d.measure.maps||(d.measure.maps=[])).push(v.map),(d.measure.caches||(d.measure.caches=[])).push({}))}if(N){var ee=v.content.lastChild;(/\bcm-tab\b/.test(ee.className)||ee.querySelector&&ee.querySelector(".cm-tab"))&&(v.content.className="cm-tab-wrap-hack")}return pi(a,"renderLine",a,d.line,v.pre),v.pre.className&&(v.textClass=Ct(v.pre.className,v.textClass||"")),v}function Xa(a){var d=De("span","\u2022","cm-invalidchar");return d.title="\\u"+a.charCodeAt(0).toString(16),d.setAttribute("aria-label",d.title),d}function gl(a,d,y,v,b,B,G){if(d){var xe,X=a.splitSpaces?function yo(a,d){if(a.length>1&&!/  /.test(a))return a;for(var y=d,v="",b=0;b<a.length;b++){var B=a.charAt(b);" "==B&&y&&(b==a.length-1||32==a.charCodeAt(b+1))&&(B="\xa0"),v+=B,y=" "==B}return v}(d,a.trailingSpace):d,ee=a.cm.state.specialChars,ce=!1;if(ee.test(d)){xe=document.createDocumentFragment();for(var Le=0;;){ee.lastIndex=Le;var $e=ee.exec(d),je=$e?$e.index-Le:d.length-Le;if(je){var pt=document.createTextNode(X.slice(Le,Le+je));xe.appendChild(C&&T<9?De("span",[pt]):pt),a.map.push(a.pos,a.pos+je,pt),a.col+=je,a.pos+=je}if(!$e)break;Le+=je+1;var bt=void 0;if("\t"==$e[0]){var Ut=a.cm.options.tabSize,jt=Ut-a.col%Ut;(bt=xe.appendChild(De("span",Cr(jt),"cm-tab"))).setAttribute("role","presentation"),bt.setAttribute("cm-text","\t"),a.col+=jt}else"\r"==$e[0]||"\n"==$e[0]?((bt=xe.appendChild(De("span","\r"==$e[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",$e[0]),a.col+=1):((bt=a.cm.options.specialCharPlaceholder($e[0])).setAttribute("cm-text",$e[0]),xe.appendChild(C&&T<9?De("span",[bt]):bt),a.col+=1);a.map.push(a.pos,a.pos+1,bt),a.pos++}}else a.col+=d.length,xe=document.createTextNode(X),a.map.push(a.pos,a.pos+d.length,xe),C&&T<9&&(ce=!0),a.pos+=d.length;if(a.trailingSpace=32==X.charCodeAt(d.length-1),y||v||b||ce||B||G){var Qt=y||"";v&&(Qt+=v),b&&(Qt+=b);var Xt=De("span",[xe],Qt,B);if(G)for(var $t in G)G.hasOwnProperty($t)&&"style"!=$t&&"class"!=$t&&Xt.setAttribute($t,G[$t]);return a.content.appendChild(Xt)}a.content.appendChild(xe)}}function ss(a,d){return function(y,v,b,B,G,X,ee){b=b?b+" cm-force-border":"cm-force-border";for(var ce=y.pos,xe=ce+v.length;;){for(var Le=void 0,$e=0;$e<d.length&&!((Le=d[$e]).to>ce&&Le.from<=ce);$e++);if(Le.to>=xe)return a(y,v,b,B,G,X,ee);a(y,v.slice(0,Le.to-ce),b,B,null,X,ee),B=null,v=v.slice(Le.to-ce),ce=Le.to}}}function Gl(a,d,y,v){var b=!v&&y.widgetNode;b&&a.map.push(a.pos,a.pos+d,b),!v&&a.cm.display.input.needsContentAttribute&&(b||(b=a.content.appendChild(document.createElement("span"))),b.setAttribute("cm-marker",y.id)),b&&(a.cm.display.input.setUneditable(b),a.content.appendChild(b)),a.pos+=d,a.trailingSpace=!1}function mi(a,d,y){var v=a.markedSpans,b=a.text,B=0;if(v)for(var Le,$e,pt,bt,Ut,jt,Qt,X=b.length,ee=0,ce=1,xe="",je=0;;){if(je==ee){pt=bt=Ut=$e="",Qt=null,jt=null,je=1/0;for(var Xt=[],$t=void 0,kn=0;kn<v.length;++kn){var En=v[kn],nr=En.marker;if("bookmark"==nr.type&&En.from==ee&&nr.widgetNode)Xt.push(nr);else if(En.from<=ee&&(null==En.to||En.to>ee||nr.collapsed&&En.to==ee&&En.from==ee)){if(null!=En.to&&En.to!=ee&&je>En.to&&(je=En.to,bt=""),nr.className&&(pt+=" "+nr.className),nr.css&&($e=($e?$e+";":"")+nr.css),nr.startStyle&&En.from==ee&&(Ut+=" "+nr.startStyle),nr.endStyle&&En.to==je&&($t||($t=[])).push(nr.endStyle,En.to),nr.title&&((Qt||(Qt={})).title=nr.title),nr.attributes)for(var dr in nr.attributes)(Qt||(Qt={}))[dr]=nr.attributes[dr];nr.collapsed&&(!jt||ic(jt.marker,nr)<0)&&(jt=En)}else En.from>ee&&je>En.from&&(je=En.from)}if($t)for(var Ai=0;Ai<$t.length;Ai+=2)$t[Ai+1]==je&&(bt+=" "+$t[Ai]);if(!jt||jt.from==ee)for(var Ei=0;Ei<Xt.length;++Ei)Gl(d,0,Xt[Ei]);if(jt&&(jt.from||0)==ee){if(Gl(d,(null==jt.to?X+1:jt.to)-ee,jt.marker,null==jt.from),null==jt.to)return;jt.to==ee&&(jt=!1)}}if(ee>=X)break;for(var jo=Math.min(X,je);;){if(xe){var $i=ee+xe.length;if(!jt){var Oi=$i>jo?xe.slice(0,jo-ee):xe;d.addToken(d,Oi,Le?Le+pt:pt,Ut,ee+Oi.length==je?bt:"",$e,Qt)}if($i>=jo){xe=xe.slice(jo-ee),ee=jo;break}ee=$i,Ut=""}xe=b.slice(B,B=y[ce++]),Le=sc(y[ce++],d.cm.options)}}else for(var G=1;G<y.length;G+=2)d.addToken(d,b.slice(B,B=y[G]),sc(y[G+1],d.cm.options))}function hf(a,d,y){this.line=d,this.rest=function ff(a){for(var d,y;d=Na(a);)a=d.find(1,!0).line,(y||(y=[])).push(a);return y}(d),this.size=this.rest?Pr(wn(this.rest))-y+1:1,this.node=this.text=null,this.hidden=hl(a,d)}function Zo(a,d,y){for(var b,v=[],B=d;B<y;B=b){var G=new hf(a.doc,Cn(a.doc,B),B);b=B+G.size,v.push(G)}return v}var lc=null;var cc=null;function bo(a,d){var y=ma(a,d);if(y.length){var b,v=Array.prototype.slice.call(arguments,2);lc?b=lc.delayedCallbacks:cc?b=cc:(b=cc=[],setTimeout(dh,0));for(var B=function(X){b.push(function(){return y[X].apply(null,v)})},G=0;G<y.length;++G)B(G)}}function dh(){var a=cc;cc=null;for(var d=0;d<a.length;++d)a[d]()}function fh(a,d,y,v){for(var b=0;b<d.changes.length;b++){var B=d.changes[b];"text"==B?Dp(a,d):"gutter"==B?hh(a,d,y,v):"class"==B?Pt(a,d):"widget"==B&&nn(a,d,v)}d.changes=null}function Js(a){return a.node==a.text&&(a.node=De("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),C&&T<8&&(a.node.style.zIndex=2)),a.node}function Pa(a,d){var y=a.display.externalMeasured;return y&&y.line==d.line?(a.display.externalMeasured=null,d.measure=y.measure,y.built):Ln(a,d)}function Dp(a,d){var y=d.text.className,v=Pa(a,d);d.text==d.node&&(d.node=v.pre),d.text.parentNode.replaceChild(v.pre,d.text),d.text=v.pre,v.bgClass!=d.bgClass||v.textClass!=d.textClass?(d.bgClass=v.bgClass,d.textClass=v.textClass,Pt(a,d)):y&&(d.text.className=y)}function Pt(a,d){(function xp(a,d){var y=d.bgClass?d.bgClass+" "+(d.line.bgClass||""):d.line.bgClass;if(y&&(y+=" CodeMirror-linebackground"),d.background)y?d.background.className=y:(d.background.parentNode.removeChild(d.background),d.background=null);else if(y){var v=Js(d);d.background=v.insertBefore(De("div",null,y),v.firstChild),a.display.input.setUneditable(d.background)}})(a,d),d.line.wrapClass?Js(d).className=d.line.wrapClass:d.node!=d.text&&(d.node.className=""),d.text.className=(d.textClass?d.textClass+" "+(d.line.textClass||""):d.line.textClass)||""}function hh(a,d,y,v){if(d.gutter&&(d.node.removeChild(d.gutter),d.gutter=null),d.gutterBackground&&(d.node.removeChild(d.gutterBackground),d.gutterBackground=null),d.line.gutterClass){var b=Js(d);d.gutterBackground=De("div",null,"CodeMirror-gutter-background "+d.line.gutterClass,"left: "+(a.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px; width: "+v.gutterTotalWidth+"px"),a.display.input.setUneditable(d.gutterBackground),b.insertBefore(d.gutterBackground,d.text)}var B=d.line.gutterMarkers;if(a.options.lineNumbers||B){var G=Js(d),X=d.gutter=De("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px");if(X.setAttribute("aria-hidden","true"),a.display.input.setUneditable(X),G.insertBefore(X,d.text),d.line.gutterClass&&(X.className+=" "+d.line.gutterClass),a.options.lineNumbers&&(!B||!B["CodeMirror-linenumbers"])&&(d.lineNumber=X.appendChild(De("div",rd(a.options,y),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+v.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),B)for(var ee=0;ee<a.display.gutterSpecs.length;++ee){var ce=a.display.gutterSpecs[ee].className,xe=B.hasOwnProperty(ce)&&B[ce];xe&&X.appendChild(De("div",[xe],"CodeMirror-gutter-elt","left: "+v.gutterLeft[ce]+"px; width: "+v.gutterWidth[ce]+"px"))}}}function nn(a,d,y){d.alignable&&(d.alignable=null);for(var v=ie("CodeMirror-linewidget"),b=d.node.firstChild,B=void 0;b;b=B)B=b.nextSibling,v.test(b.className)&&d.node.removeChild(b);gf(a,d,y)}function pf(a,d,y,v){var b=Pa(a,d);return d.text=d.node=b.pre,b.bgClass&&(d.bgClass=b.bgClass),b.textClass&&(d.textClass=b.textClass),Pt(a,d),hh(a,d,y,v),gf(a,d,v),d.node}function gf(a,d,y){if(dc(a,d.line,d,y,!0),d.rest)for(var v=0;v<d.rest.length;v++)dc(a,d.rest[v],d,y,!1)}function dc(a,d,y,v,b){if(d.widgets)for(var B=Js(y),G=0,X=d.widgets;G<X.length;++G){var ee=X[G],ce=De("div",[ee.node],"CodeMirror-linewidget"+(ee.className?" "+ee.className:""));ee.handleMouseEvents||ce.setAttribute("cm-ignore-events","true"),sm(ee,ce,y,v),a.display.input.setUneditable(ce),b&&ee.above?B.insertBefore(ce,y.gutter||y.text):B.appendChild(ce),bo(ee,"redraw")}}function sm(a,d,y,v){if(a.noHScroll){(y.alignable||(y.alignable=[])).push(d);var b=v.wrapperWidth;d.style.left=v.fixedPos+"px",a.coverGutter||(b-=v.gutterTotalWidth,d.style.paddingLeft=v.gutterTotalWidth+"px"),d.style.width=b+"px"}a.coverGutter&&(d.style.zIndex=5,d.style.position="relative",a.noHScroll||(d.style.marginLeft=-v.gutterTotalWidth+"px"))}function fc(a){if(null!=a.height)return a.height;var d=a.doc.cm;if(!d)return 0;if(!at(document.body,a.node)){var y="position: relative;";a.coverGutter&&(y+="margin-left: -"+d.display.gutters.offsetWidth+"px;"),a.noHScroll&&(y+="width: "+d.display.wrapper.clientWidth+"px;"),Te(d.display.measure,De("div",[a.node],null,y))}return a.height=a.node.parentNode.offsetHeight}function ml(a,d){for(var y=Zs(d);y!=a.wrapper;y=y.parentNode)if(!y||1==y.nodeType&&"true"==y.getAttribute("cm-ignore-events")||y.parentNode==a.sizer&&y!=a.mover)return!0}function ls(a){return a.lineSpace.offsetTop}function us(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function ya(a){if(a.cachedPaddingH)return a.cachedPaddingH;var d=Te(a.measure,De("pre","x","CodeMirror-line-like")),y=window.getComputedStyle?window.getComputedStyle(d):d.currentStyle,v={left:parseInt(y.paddingLeft),right:parseInt(y.paddingRight)};return!isNaN(v.left)&&!isNaN(v.right)&&(a.cachedPaddingH=v),v}function wo(a){return ht-a.display.nativeBarWidth}function Er(a){return a.display.scroller.clientWidth-wo(a)-a.display.barWidth}function hc(a){return a.display.scroller.clientHeight-wo(a)-a.display.barHeight}function vf(a,d,y){if(a.line==d)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var v=0;v<a.rest.length;v++)if(a.rest[v]==d)return{map:a.measure.maps[v],cache:a.measure.caches[v]};for(var b=0;b<a.rest.length;b++)if(Pr(a.rest[b])>y)return{map:a.measure.maps[b],cache:a.measure.caches[b],before:!0}}}function Ns(a,d,y,v){return Rs(a,Wl(a,d),y,v)}function jl(a,d){if(d>=a.display.viewFrom&&d<a.display.viewTo)return a.display.view[oo(a,d)];var y=a.display.externalMeasured;return y&&d>=y.lineN&&d<y.lineN+y.size?y:void 0}function Wl(a,d){var y=Pr(d),v=jl(a,y);v&&!v.text?v=null:v&&v.changes&&(fh(a,v,y,Cf(a)),a.curOp.forceUpdate=!0),v||(v=function Tp(a,d){var y=Pr(d=tr(d)),v=a.display.externalMeasured=new hf(a.doc,d,y);v.lineN=y;var b=v.built=Ln(a,v);return v.text=b.pre,Te(a.display.lineMeasure,b.pre),v}(a,d));var b=vf(v,d,y);return{line:d,view:v,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function Rs(a,d,y,v,b){d.before&&(y=-1);var G,B=y+(v||"");return d.cache.hasOwnProperty(B)?G=d.cache[B]:(d.rect||(d.rect=d.view.text.getBoundingClientRect()),d.hasHeights||(function mf(a,d,y){var v=a.options.lineWrapping,b=v&&Er(a);if(!d.measure.heights||v&&d.measure.width!=b){var B=d.measure.heights=[];if(v){d.measure.width=b;for(var G=d.text.firstChild.getClientRects(),X=0;X<G.length-1;X++){var ee=G[X],ce=G[X+1];Math.abs(ee.bottom-ce.bottom)>2&&B.push((ee.bottom+ce.top)/2-y.top)}}B.push(y.bottom-y.top)}}(a,d.view,d.rect),d.hasHeights=!0),(G=function $l(a,d,y,v){var ce,b=_u(d.map,y,v),B=b.node,G=b.start,X=b.end,ee=b.collapse;if(3==B.nodeType){for(var xe=0;xe<4;xe++){for(;G&&ja(d.line.text.charAt(b.coverStart+G));)--G;for(;b.coverStart+X<b.coverEnd&&ja(d.line.text.charAt(b.coverStart+X));)++X;if((ce=C&&T<9&&0==G&&X==b.coverEnd-b.coverStart?B.parentNode.getBoundingClientRect():Cu(Be(B,G,X).getClientRects(),v)).left||ce.right||0==G)break;X=G,G-=1,ee="right"}C&&T<11&&(ce=function Sp(a,d){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function tc(a){if(null!=td)return td;var d=Te(a,De("span","x")),y=d.getBoundingClientRect(),v=Be(d,0,1).getBoundingClientRect();return td=Math.abs(y.left-v.left)>1}(a))return d;var y=screen.logicalXDPI/screen.deviceXDPI,v=screen.logicalYDPI/screen.deviceYDPI;return{left:d.left*y,right:d.right*y,top:d.top*v,bottom:d.bottom*v}}(a.display.measure,ce))}else{var Le;G>0&&(ee=v="right"),ce=a.options.lineWrapping&&(Le=B.getClientRects()).length>1?Le["right"==v?Le.length-1:0]:B.getBoundingClientRect()}if(C&&T<9&&!G&&(!ce||!ce.left&&!ce.right)){var $e=B.parentNode.getClientRects()[0];ce=$e?{left:$e.left,right:$e.left+vl(a.display),top:$e.top,bottom:$e.bottom}:yf}for(var je=ce.top-d.rect.top,pt=ce.bottom-d.rect.top,bt=(je+pt)/2,Ut=d.view.measure.heights,jt=0;jt<Ut.length-1&&!(bt<Ut[jt]);jt++);var $t={left:("right"==ee?ce.right:ce.left)-d.rect.left,right:("left"==ee?ce.left:ce.right)-d.rect.left,top:jt?Ut[jt-1]:0,bottom:Ut[jt]};return!ce.left&&!ce.right&&($t.bogus=!0),a.options.singleCursorHeightPerLine||($t.rtop=je,$t.rbottom=pt),$t}(a,d,y,v)).bogus||(d.cache[B]=G)),{left:G.left,right:G.right,top:b?G.rtop:G.top,bottom:b?G.rbottom:G.bottom}}var Eu,yf={left:0,right:0,top:0,bottom:0};function _u(a,d,y){for(var v,b,B,G,X,ee,ce=0;ce<a.length;ce+=3)if(ee=a[ce+1],d<(X=a[ce])?(b=0,B=1,G="left"):d<ee?B=1+(b=d-X):(ce==a.length-3||d==ee&&a[ce+3]>d)&&(b=(B=ee-X)-1,d>=ee&&(G="right")),null!=b){if(v=a[ce+2],X==ee&&y==(v.insertLeft?"left":"right")&&(G=y),"left"==y&&0==b)for(;ce&&a[ce-2]==a[ce-3]&&a[ce-1].insertLeft;)v=a[2+(ce-=3)],G="left";if("right"==y&&b==ee-X)for(;ce<a.length-3&&a[ce+3]==a[ce+4]&&!a[ce+5].insertLeft;)v=a[(ce+=3)+2],G="right";break}return{node:v,start:b,end:B,collapse:G,coverStart:X,coverEnd:ee}}function Cu(a,d){var y=yf;if("left"==d)for(var v=0;v<a.length&&(y=a[v]).left==y.right;v++);else for(var b=a.length-1;b>=0&&(y=a[b]).left==y.right;b--);return y}function ad(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var d=0;d<a.rest.length;d++)a.measure.caches[d]={}}function sd(a){a.display.externalMeasure=null,_e(a.display.lineMeasure);for(var d=0;d<a.display.view.length;d++)ad(a.display.view[d])}function Yl(a){sd(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function ph(a){return V&&ne?-(a.body.getBoundingClientRect().left-parseInt(getComputedStyle(a.body).marginLeft)):a.defaultView.pageXOffset||(a.documentElement||a.body).scrollLeft}function gh(a){return V&&ne?-(a.body.getBoundingClientRect().top-parseInt(getComputedStyle(a.body).marginTop)):a.defaultView.pageYOffset||(a.documentElement||a.body).scrollTop}function Ka(a){var y=tr(a).widgets,v=0;if(y)for(var b=0;b<y.length;++b)y[b].above&&(v+=fc(y[b]));return v}function bf(a,d,y,v,b){if(!b){var B=Ka(d);y.top+=B,y.bottom+=B}if("line"==v)return y;v||(v="local");var G=Ra(d);if("local"==v?G+=ls(a.display):G-=a.display.viewOffset,"page"==v||"window"==v){var X=a.display.lineSpace.getBoundingClientRect();G+=X.top+("window"==v?0:gh(Zt(a)));var ee=X.left+("window"==v?0:ph(Zt(a)));y.left+=ee,y.right+=ee}return y.top+=G,y.bottom+=G,y}function mh(a,d,y){if("div"==y)return d;var v=d.left,b=d.top;if("page"==y)v-=ph(Zt(a)),b-=gh(Zt(a));else if("local"==y||!y){var B=a.display.sizer.getBoundingClientRect();v+=B.left,b+=B.top}var G=a.display.lineSpace.getBoundingClientRect();return{left:v-G.left,top:b-G.top}}function ld(a,d,y,v,b){return v||(v=Cn(a.doc,d.line)),bf(a,v,Ns(a,v,d.ch,b),y)}function cs(a,d,y,v,b,B){function G(pt,bt){var Ut=Rs(a,b,pt,bt?"right":"left",B);return bt?Ut.left=Ut.right:Ut.right=Ut.left,bf(a,v,Ut,y)}v=v||Cn(a.doc,d.line),b||(b=Wl(a,v));var X=Wa(v,a.doc.direction),ee=d.ch,ce=d.sticky;if(ee>=v.text.length?(ee=v.text.length,ce="before"):ee<=0&&(ee=0,ce="after"),!X)return G("before"==ce?ee-1:ee,"before"==ce);function xe(pt,bt,Ut){return G(Ut?pt-1:pt,1==X[bt].level!=Ut)}var Le=Xo(X,ee,ce),$e=Yo,je=xe(ee,Le,"before"==ce);return null!=$e&&(je.other=xe(ee,$e,"before"!=ce)),je}function Mp(a,d){var y=0;d=nt(a.doc,d),a.options.lineWrapping||(y=vl(a.display)*d.ch);var v=Cn(a.doc,d.line),b=Ra(v)+ls(a.display);return{left:y,right:y,top:b,bottom:b+v.height}}function vh(a,d,y,v,b){var B=St(a,d,y);return B.xRel=b,v&&(B.outside=v),B}function wf(a,d,y){var v=a.doc;if((y+=a.display.viewOffset)<0)return vh(v.first,0,null,-1,-1);var b=Qi(v,y),B=v.first+v.size-1;if(b>B)return vh(v.first+v.size-1,Cn(v,B).text.length,null,1,1);d<0&&(d=0);for(var G=Cn(v,b);;){var X=Or(a,G,b,d,y),ee=As(G,X.ch+(X.xRel>0||X.outside>0?1:0));if(!ee)return X;var ce=ee.find(1);if(ce.line==b)return ce;G=Cn(v,b=ce.line)}}function Ip(a,d,y,v){v-=Ka(d);var b=d.text.length,B=Nn(function(G){return Rs(a,y,G-1).bottom<=v},b,0);return{begin:B,end:b=Nn(function(G){return Rs(a,y,G).top>v},B,b)}}function Ap(a,d,y,v){return y||(y=Wl(a,d)),Ip(a,d,y,bf(a,d,Rs(a,y,v),"line").top)}function _f(a,d,y,v){return!(a.bottom<=y)&&(a.top>y||(v?a.left:a.right)>d)}function Or(a,d,y,v,b){b-=Ra(d);var B=Wl(a,d),G=Ka(d),X=0,ee=d.text.length,ce=!0,xe=Wa(d,a.doc.direction);if(xe){var Le=(a.options.lineWrapping?um:lm)(a,d,y,B,xe,v,b);X=(ce=1!=Le.level)?Le.from:Le.to-1,ee=ce?Le.to:Le.from-1}var bt,Ut,$e=null,je=null,pt=Nn(function(kn){var En=Rs(a,B,kn);return En.top+=G,En.bottom+=G,!!_f(En,v,b,!1)&&(En.top<=b&&En.left<=v&&($e=kn,je=En),!0)},X,ee),jt=!1;if(je){var Qt=v-je.left<je.right-v,Xt=Qt==ce;pt=$e+(Xt?0:1),Ut=Xt?"after":"before",bt=Qt?je.left:je.right}else{!ce&&(pt==ee||pt==X)&&pt++,Ut=0==pt?"after":pt==d.text.length?"before":Rs(a,B,pt-(ce?1:0)).bottom+G<=b==ce?"after":"before";var $t=cs(a,St(y,pt,Ut),"line",d,B);bt=$t.left,jt=b<$t.top?-1:b>=$t.bottom?1:0}return vh(y,pt=Ts(d.text,pt,1),Ut,jt,v-bt)}function lm(a,d,y,v,b,B,G){var X=Nn(function(Le){var $e=b[Le],je=1!=$e.level;return _f(cs(a,St(y,je?$e.to:$e.from,je?"before":"after"),"line",d,v),B,G,!0)},0,b.length-1),ee=b[X];if(X>0){var ce=1!=ee.level,xe=cs(a,St(y,ce?ee.from:ee.to,ce?"after":"before"),"line",d,v);_f(xe,B,G,!0)&&xe.top>G&&(ee=b[X-1])}return ee}function um(a,d,y,v,b,B,G){var X=Ip(a,d,v,G),ee=X.begin,ce=X.end;/\s/.test(d.text.charAt(ce-1))&&ce--;for(var xe=null,Le=null,$e=0;$e<b.length;$e++){var je=b[$e];if(!(je.from>=ce||je.to<=ee)){var bt=Rs(a,v,1!=je.level?Math.min(ce,je.to)-1:Math.max(ee,je.from)).right,Ut=bt<B?B-bt+1e9:bt-B;(!xe||Le>Ut)&&(xe=je,Le=Ut)}}return xe||(xe=b[b.length-1]),xe.from<ee&&(xe={from:ee,to:xe.to,level:xe.level}),xe.to>ce&&(xe={from:xe.from,to:ce,level:xe.level}),xe}function Jr(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==Eu){Eu=De("pre",null,"CodeMirror-line-like");for(var d=0;d<49;++d)Eu.appendChild(document.createTextNode("x")),Eu.appendChild(De("br"));Eu.appendChild(document.createTextNode("x"))}Te(a.measure,Eu);var y=Eu.offsetHeight/50;return y>3&&(a.cachedTextHeight=y),_e(a.measure),y||1}function vl(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var d=De("span","xxxxxxxxxx"),y=De("pre",[d],"CodeMirror-line-like");Te(a.measure,y);var v=d.getBoundingClientRect(),b=(v.right-v.left)/10;return b>2&&(a.cachedCharWidth=b),b||10}function Cf(a){for(var d=a.display,y={},v={},b=d.gutters.clientLeft,B=d.gutters.firstChild,G=0;B;B=B.nextSibling,++G){var X=a.display.gutterSpecs[G].className;y[X]=B.offsetLeft+B.clientLeft+b,v[X]=B.clientWidth}return{fixedPos:ln(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:y,gutterWidth:v,wrapperWidth:d.wrapper.clientWidth}}function ln(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function oa(a){var d=Jr(a.display),y=a.options.lineWrapping,v=y&&Math.max(5,a.display.scroller.clientWidth/vl(a.display)-3);return function(b){if(hl(a.doc,b))return 0;var B=0;if(b.widgets)for(var G=0;G<b.widgets.length;G++)b.widgets[G].height&&(B+=b.widgets[G].height);return y?B+(Math.ceil(b.text.length/v)||1)*d:B+d}}function Br(a){var d=a.doc,y=oa(a);d.iter(function(v){var b=y(v);b!=v.height&&Ro(v,b)})}function Ui(a,d,y,v){var b=a.display;if(!y&&"true"==Zs(d).getAttribute("cm-not-content"))return null;var B,G,X=b.lineSpace.getBoundingClientRect();try{B=d.clientX-X.left,G=d.clientY-X.top}catch{return null}var ce,ee=wf(a,B,G);if(v&&ee.xRel>0&&(ce=Cn(a.doc,ee.line).text).length==ee.ch){var xe=cn(ce,ce.length,a.options.tabSize)-ce.length;ee=St(ee.line,Math.max(0,Math.round((B-ya(a.display).left)/vl(a.display))-xe))}return ee}function oo(a,d){if(d>=a.display.viewTo||(d-=a.display.viewFrom)<0)return null;for(var y=a.display.view,v=0;v<y.length;v++)if((d-=y[v].size)<0)return v}function ao(a,d,y,v){null==d&&(d=a.doc.first),null==y&&(y=a.doc.first+a.doc.size),v||(v=0);var b=a.display;if(v&&y<b.viewTo&&(null==b.updateLineNumbers||b.updateLineNumbers>d)&&(b.updateLineNumbers=d),a.curOp.viewChanged=!0,d>=b.viewTo)Ze&&od(a.doc,d)<b.viewTo&&yl(a);else if(y<=b.viewFrom)Ze&&an(a.doc,y+v)>b.viewFrom?yl(a):(b.viewFrom+=v,b.viewTo+=v);else if(d<=b.viewFrom&&y>=b.viewTo)yl(a);else if(d<=b.viewFrom){var B=pc(a,y,y+v,1);B?(b.view=b.view.slice(B.index),b.viewFrom=B.lineN,b.viewTo+=v):yl(a)}else if(y>=b.viewTo){var G=pc(a,d,d,-1);G?(b.view=b.view.slice(0,G.index),b.viewTo=G.lineN):yl(a)}else{var X=pc(a,d,d,-1),ee=pc(a,y,y+v,1);X&&ee?(b.view=b.view.slice(0,X.index).concat(Zo(a,X.lineN,ee.lineN)).concat(b.view.slice(ee.index)),b.viewTo+=v):yl(a)}var ce=b.externalMeasured;ce&&(y<ce.lineN?ce.lineN+=v:d<ce.lineN+ce.size&&(b.externalMeasured=null))}function so(a,d,y){a.curOp.viewChanged=!0;var v=a.display,b=a.display.externalMeasured;if(b&&d>=b.lineN&&d<b.lineN+b.size&&(v.externalMeasured=null),!(d<v.viewFrom||d>=v.viewTo)){var B=v.view[oo(a,d)];if(null!=B.node){var G=B.changes||(B.changes=[]);-1==rt(G,y)&&G.push(y)}}}function yl(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function pc(a,d,y,v){var B,b=oo(a,d),G=a.display.view;if(!Ze||y==a.doc.first+a.doc.size)return{index:b,lineN:y};for(var X=a.display.viewFrom,ee=0;ee<b;ee++)X+=G[ee].size;if(X!=d){if(v>0){if(b==G.length-1)return null;B=X+G[b].size-d,b++}else B=X-d;d+=B,y+=B}for(;od(a.doc,y)!=y;){if(b==(v<0?0:G.length-1))return null;y+=v*G[b-(v<0?1:0)].size,b+=v}return{index:b,lineN:y}}function yh(a){for(var d=a.display.view,y=0,v=0;v<d.length;v++){var b=d[v];!b.hidden&&(!b.node||b.changes)&&++y}return y}function ud(a){a.display.input.showSelection(a.display.input.prepareSelection())}function lo(a,d){void 0===d&&(d=!0);var y=a.doc,v={},b=v.cursors=document.createDocumentFragment(),B=v.selection=document.createDocumentFragment(),G=a.options.$customCursor;G&&(d=!0);for(var X=0;X<y.sel.ranges.length;X++)if(d||X!=y.sel.primIndex){var ee=y.sel.ranges[X];if(!(ee.from().line>=a.display.viewTo||ee.to().line<a.display.viewFrom)){var ce=ee.empty();if(G){var xe=G(a,ee);xe&&fn(a,xe,b)}else(ce||a.options.showCursorWhenSelecting)&&fn(a,ee.head,b);ce||Li(a,ee,B)}}return v}function fn(a,d,y){var v=cs(a,d,"div",null,null,!a.options.singleCursorHeightPerLine),b=y.appendChild(De("div","\xa0","CodeMirror-cursor"));if(b.style.left=v.left+"px",b.style.top=v.top+"px",b.style.height=Math.max(0,v.bottom-v.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var B=ld(a,d,"div",null,null),G=B.right-B.left;b.style.width=(G>0?G:a.defaultCharWidth())+"px"}if(v.other){var X=y.appendChild(De("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));X.style.display="",X.style.left=v.other.left+"px",X.style.top=v.other.top+"px",X.style.height=.85*(v.other.bottom-v.other.top)+"px"}}function Wn(a,d){return a.top-d.top||a.left-d.left}function Li(a,d,y){var v=a.display,b=a.doc,B=document.createDocumentFragment(),G=ya(a.display),X=G.left,ee=Math.max(v.sizerWidth,Er(a)-v.sizer.offsetLeft)-G.right,ce="ltr"==b.direction;function xe(Xt,$t,kn,En){$t<0&&($t=0),$t=Math.round($t),En=Math.round(En),B.appendChild(De("div",null,"CodeMirror-selected","position: absolute; left: "+Xt+"px;\n                             top: "+$t+"px; width: "+(kn??ee-Xt)+"px;\n                             height: "+(En-$t)+"px"))}function Le(Xt,$t,kn){var dr,Ai,En=Cn(b,Xt),nr=En.text.length;function Ei(Oi,da){return ld(a,St(Xt,Oi),"div",En,da)}function jo(Oi,da,Wo){var So=Ap(a,En,null,Oi),zr="ltr"==da==("after"==Wo)?"left":"right";return Ei("after"==Wo?So.begin:So.end-(/\s/.test(En.text.charAt(So.end-1))?2:1),zr)[zr]}var $i=Wa(En,b.direction);return function Vl(a,d,y,v){if(!a)return v(d,y,"ltr",0);for(var b=!1,B=0;B<a.length;++B){var G=a[B];(G.from<y&&G.to>d||d==y&&G.to==d)&&(v(Math.max(G.from,d),Math.min(G.to,y),1==G.level?"rtl":"ltr",B),b=!0)}b||v(d,y,"ltr")}($i,$t||0,kn??nr,function(Oi,da,Wo,So){var zr="ltr"==Wo,xi=Ei(Oi,zr?"left":"right"),ho=Ei(da-1,zr?"right":"left"),jd=null==$t&&0==Oi,Tl=null==kn&&da==nr,Qo=0==So,ol=!$i||So==$i.length-1;if(ho.top-xi.top<=3){var Sl=(ce?jd:Tl)&&Qo?X:(zr?xi:ho).left;xe(Sl,xi.top,((ce?Tl:jd)&&ol?ee:(zr?ho:xi).right)-Sl,xi.bottom)}else{var Ml,Ni,Oc,ns;zr?(Ml=ce&&jd&&Qo?X:xi.left,Ni=ce?ee:jo(Oi,Wo,"before"),Oc=ce?X:jo(da,Wo,"after"),ns=ce&&Tl&&ol?ee:ho.right):(Ml=ce?jo(Oi,Wo,"before"):X,Ni=!ce&&jd&&Qo?ee:xi.right,Oc=!ce&&Tl&&ol?X:ho.left,ns=ce?jo(da,Wo,"after"):ee),xe(Ml,xi.top,Ni-Ml,xi.bottom),xi.bottom<ho.top&&xe(X,xi.bottom,null,ho.top),xe(Oc,ho.top,ns-Oc,ho.bottom)}(!dr||Wn(xi,dr)<0)&&(dr=xi),Wn(ho,dr)<0&&(dr=ho),(!Ai||Wn(xi,Ai)<0)&&(Ai=xi),Wn(ho,Ai)<0&&(Ai=ho)}),{start:dr,end:Ai}}var $e=d.from(),je=d.to();if($e.line==je.line)Le($e.line,$e.ch,je.ch);else{var pt=Cn(b,$e.line),bt=Cn(b,je.line),Ut=tr(pt)==tr(bt),jt=Le($e.line,$e.ch,Ut?pt.text.length+1:null).end,Qt=Le(je.line,Ut?0:null,je.ch).start;Ut&&(jt.top<Qt.top-2?(xe(jt.right,jt.top,null,jt.bottom),xe(X,Qt.top,Qt.left,Qt.bottom)):xe(jt.right,jt.top,Qt.left-jt.right,jt.bottom)),jt.bottom<Qt.top&&xe(X,jt.bottom,null,Qt.top)}y.appendChild(B)}function aa(a){if(a.state.focused){var d=a.display;clearInterval(d.blinker);var y=!0;d.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?d.blinker=setInterval(function(){a.hasFocus()||vi(a),d.cursorDiv.style.visibility=(y=!y)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(d.cursorDiv.style.visibility="hidden")}}function gc(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||bl(a))}function _o(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&vi(a))},100)}function bl(a,d){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),"nocursor"!=a.options.readOnly&&(a.state.focused||(pi(a,"focus",a,d),a.state.focused=!0,Ye(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),N&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),aa(a))}function vi(a,d){a.state.delayingBlurEvent||(a.state.focused&&(pi(a,"blur",a,d),a.state.focused=!1,me(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function el(a){for(var d=a.display,y=d.lineDiv.offsetTop,v=Math.max(0,d.scroller.getBoundingClientRect().top),b=d.lineDiv.getBoundingClientRect().top,B=0,G=0;G<d.view.length;G++){var X=d.view[G],ee=a.options.lineWrapping,ce=void 0,xe=0;if(!X.hidden){if(b+=X.line.height,C&&T<8){var Le=X.node.offsetTop+X.node.offsetHeight;ce=Le-y,y=Le}else{var $e=X.node.getBoundingClientRect();ce=$e.bottom-$e.top,!ee&&X.text.firstChild&&(xe=X.text.firstChild.getBoundingClientRect().right-$e.left-1)}var je=X.line.height-ce;if((je>.005||je<-.005)&&(b<v&&(B-=je),Ro(X.line,ce),sa(X.line),X.rest))for(var pt=0;pt<X.rest.length;pt++)sa(X.rest[pt]);if(xe>a.display.sizerWidth){var bt=Math.ceil(xe/vl(a.display));bt>a.display.maxLineLength&&(a.display.maxLineLength=bt,a.display.maxLine=X.line,a.display.maxLineChanged=!0)}}}Math.abs(B)>2&&(d.scroller.scrollTop+=B)}function sa(a){if(a.widgets)for(var d=0;d<a.widgets.length;++d){var y=a.widgets[d],v=y.node.parentNode;v&&(y.height=v.offsetHeight)}}function Zn(a,d,y){var v=y&&null!=y.top?Math.max(0,y.top):a.scroller.scrollTop;v=Math.floor(v-ls(a));var b=y&&null!=y.bottom?y.bottom:v+a.wrapper.clientHeight,B=Qi(d,v),G=Qi(d,b);if(y&&y.ensure){var X=y.ensure.from.line,ee=y.ensure.to.line;X<B?(B=X,G=Qi(d,Ra(Cn(d,X))+a.wrapper.clientHeight)):Math.min(ee,d.lastLine())>=G&&(B=Qi(d,Ra(Cn(d,ee))-a.wrapper.clientHeight),G=ee)}return{from:B,to:Math.max(G,B+1)}}function Gi(a,d){var y=a.display,v=Jr(a.display);d.top<0&&(d.top=0);var b=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:y.scroller.scrollTop,B=hc(a),G={};d.bottom-d.top>B&&(d.bottom=d.top+B);var X=a.doc.height+us(y),ce=d.bottom>X-v;if(d.top<b)G.scrollTop=d.top<v?0:d.top;else if(d.bottom>b+B){var xe=Math.min(d.top,(ce?X:d.bottom)-B);xe!=b&&(G.scrollTop=xe)}var Le=a.options.fixedGutter?0:y.gutters.offsetWidth,$e=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:y.scroller.scrollLeft-Le,je=Er(a)-y.gutters.offsetWidth,pt=d.right-d.left>je;return pt&&(d.right=d.left+je),d.left<10?G.scrollLeft=0:d.left<$e?G.scrollLeft=Math.max(0,d.left+Le-(pt?0:10)):d.right>je+$e-3&&(G.scrollLeft=d.right+(pt?0:10)-je),G}function ds(a,d){null!=d&&(dd(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+d)}function Za(a){dd(a);var d=a.getCursor();a.curOp.scrollToPos={from:d,to:d,margin:a.options.cursorScrollMargin}}function uo(a,d,y){(null!=d||null!=y)&&dd(a),null!=d&&(a.curOp.scrollLeft=d),null!=y&&(a.curOp.scrollTop=y)}function dd(a){var d=a.curOp.scrollToPos;d&&(a.curOp.scrollToPos=null,wl(a,Mp(a,d.from),Mp(a,d.to),d.margin))}function wl(a,d,y,v){var b=Gi(a,{left:Math.min(d.left,y.left),top:Math.min(d.top,y.top)-v,right:Math.max(d.right,y.right),bottom:Math.max(d.bottom,y.bottom)+v});uo(a,b.scrollLeft,b.scrollTop)}function ur(a,d){Math.abs(a.doc.scrollTop-d)<2||(S||Ja(a,{top:d}),fd(a,d,!0),S&&Ja(a),yi(a,100))}function fd(a,d,y){d=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,d)),(a.display.scroller.scrollTop!=d||y)&&(a.doc.scrollTop=d,a.display.scrollbars.setScrollTop(d),a.display.scroller.scrollTop!=d&&(a.display.scroller.scrollTop=d))}function qa(a,d,y,v){d=Math.max(0,Math.min(d,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),(!(y?d==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-d)<2)||v)&&(a.doc.scrollLeft=d,Op(a),a.display.scroller.scrollLeft!=d&&(a.display.scroller.scrollLeft=d),a.display.scrollbars.setScrollLeft(d))}function hn(a){var d=a.display,y=d.gutters.offsetWidth,v=Math.round(a.doc.height+us(a.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:a.options.fixedGutter?y:0,docHeight:v,scrollHeight:v+wo(a)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:y}}var Vr=function(a,d,y){this.cm=y;var v=this.vert=De("div",[De("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),b=this.horiz=De("div",[De("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");v.tabIndex=b.tabIndex=-1,a(v),a(b),_n(v,"scroll",function(){v.clientHeight&&d(v.scrollTop,"vertical")}),_n(b,"scroll",function(){b.clientWidth&&d(b.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,C&&T<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Vr.prototype.update=function(a){var d=a.scrollWidth>a.clientWidth+1,y=a.scrollHeight>a.clientHeight+1,v=a.nativeBarWidth;return y?(this.vert.style.display="block",this.vert.style.bottom=d?v+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(d?v:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),d?(this.horiz.style.display="block",this.horiz.style.right=y?v+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+(a.viewWidth-a.barLeft-(y?v:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&a.clientHeight>0&&(0==v&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:y?v:0,bottom:d?v:0}},Vr.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Vr.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Vr.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=ae&&!$?"12px":"18px",this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new lt,this.disableVert=new lt},Vr.prototype.enableZeroWidthBar=function(a,d,y){a.style.visibility="",d.set(1e3,function v(){var b=a.getBoundingClientRect();("vert"==y?document.elementFromPoint(b.right-1,(b.top+b.bottom)/2):document.elementFromPoint((b.right+b.left)/2,b.bottom-1))!=a?a.style.visibility="hidden":d.set(1e3,v)})},Vr.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var pn=function(){};function _l(a,d){d||(d=hn(a));var y=a.display.barWidth,v=a.display.barHeight;ks(a,d);for(var b=0;b<4&&y!=a.display.barWidth||v!=a.display.barHeight;b++)y!=a.display.barWidth&&a.options.lineWrapping&&el(a),ks(a,hn(a)),y=a.display.barWidth,v=a.display.barHeight}function ks(a,d){var y=a.display,v=y.scrollbars.update(d);y.sizer.style.paddingRight=(y.barWidth=v.right)+"px",y.sizer.style.paddingBottom=(y.barHeight=v.bottom)+"px",y.heightForcer.style.borderBottom=v.bottom+"px solid transparent",v.right&&v.bottom?(y.scrollbarFiller.style.display="block",y.scrollbarFiller.style.height=v.bottom+"px",y.scrollbarFiller.style.width=v.right+"px"):y.scrollbarFiller.style.display="",v.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(y.gutterFiller.style.display="block",y.gutterFiller.style.height=v.bottom+"px",y.gutterFiller.style.width=d.gutterWidth+"px"):y.gutterFiller.style.display=""}pn.prototype.update=function(){return{bottom:0,right:0}},pn.prototype.setScrollLeft=function(){},pn.prototype.setScrollTop=function(){},pn.prototype.clear=function(){};var hd={native:Vr,null:pn};function Du(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&me(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new hd[a.options.scrollbarStyle](function(d){a.display.wrapper.insertBefore(d,a.display.scrollbarFiller),_n(d,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),d.setAttribute("cm-not-content","true")},function(d,y){"horizontal"==y?qa(a,d):ur(a,d)},a),a.display.scrollbars.addClass&&Ye(a.display.wrapper,a.display.scrollbars.addClass)}var tl=0;function ii(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++tl,markArrays:null},function bu(a){lc?lc.ops.push(a):a.ownsGroup=lc={ops:[a],delayedCallbacks:[]}}(a.curOp)}function Xl(a){var d=a.curOp;d&&function uc(a,d){var y=a.ownsGroup;if(y)try{!function wu(a){var d=a.delayedCallbacks,y=0;do{for(;y<d.length;y++)d[y].call(null);for(var v=0;v<a.ops.length;v++){var b=a.ops[v];if(b.cursorActivityHandlers)for(;b.cursorActivityCalled<b.cursorActivityHandlers.length;)b.cursorActivityHandlers[b.cursorActivityCalled++].call(null,b.cm)}}while(y<d.length)}(y)}finally{lc=null,d(y)}}(d,function(y){for(var v=0;v<y.ops.length;v++)y.ops[v].cm.curOp=null;!function Qa(a){for(var d=a.ops,y=0;y<d.length;y++)La(d[y]);for(var v=0;v<d.length;v++)wh(d[v]);for(var b=0;b<d.length;b++)Tu(d[b]);for(var B=0;B<d.length;B++)xf(d[B]);for(var G=0;G<d.length;G++)fs(d[G])}(y)})}function La(a){var d=a.cm,y=d.display;(function fy(a){var d=a.display;!d.scrollbarsClipped&&d.scroller.offsetWidth&&(d.nativeBarWidth=d.scroller.offsetWidth-d.scroller.clientWidth,d.heightForcer.style.height=wo(a)+"px",d.sizer.style.marginBottom=-d.nativeBarWidth+"px",d.sizer.style.borderRightWidth=wo(a)+"px",d.scrollbarsClipped=!0)})(d),a.updateMaxLine&&yu(d),a.mustUpdate=a.viewChanged||a.forceUpdate||null!=a.scrollTop||a.scrollToPos&&(a.scrollToPos.from.line<y.viewFrom||a.scrollToPos.to.line>=y.viewTo)||y.maxLineChanged&&d.options.lineWrapping,a.update=a.mustUpdate&&new _h(d,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function wh(a){a.updatedDisplay=a.mustUpdate&&Cl(a.cm,a.update)}function Tu(a){var d=a.cm,y=d.display;a.updatedDisplay&&el(d),a.barMeasure=hn(d),y.maxLineChanged&&!d.options.lineWrapping&&(a.adjustWidthTo=Ns(d,y.maxLine,y.maxLine.text.length).left+3,d.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(y.scroller.clientWidth,y.sizer.offsetLeft+a.adjustWidthTo+wo(d)+d.display.barWidth),a.maxScrollLeft=Math.max(0,y.sizer.offsetLeft+a.adjustWidthTo-Er(d))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=y.input.prepareSelection())}function xf(a){var d=a.cm;null!=a.adjustWidthTo&&(d.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<d.doc.scrollLeft&&qa(d,Math.min(d.display.scroller.scrollLeft,a.maxScrollLeft),!0),d.display.maxLineChanged=!1);var y=a.focus&&a.focus==ft(Zt(d));a.preparedSelection&&d.display.input.showSelection(a.preparedSelection,y),(a.updatedDisplay||a.startHeight!=d.doc.height)&&_l(d,a.barMeasure),a.updatedDisplay&&Ch(d,a.barMeasure),a.selectionChanged&&aa(d),d.state.focused&&a.updateInput&&d.display.input.reset(a.typing),y&&gc(a.cm)}function fs(a){var d=a.cm,y=d.display,v=d.doc;a.updatedDisplay&&Kl(d,a.update),null!=y.wheelStartX&&(null!=a.scrollTop||null!=a.scrollLeft||a.scrollToPos)&&(y.wheelStartX=y.wheelStartY=null),null!=a.scrollTop&&fd(d,a.scrollTop,a.forceScroll),null!=a.scrollLeft&&qa(d,a.scrollLeft,!0,!0),a.scrollToPos&&function mc(a,d){if(!Zi(a,"scrollCursorIntoView")){var y=a.display,v=y.sizer.getBoundingClientRect(),b=null,B=y.wrapper.ownerDocument;if(d.top+v.top<0?b=!0:d.bottom+v.top>(B.defaultView.innerHeight||B.documentElement.clientHeight)&&(b=!1),null!=b&&!Q){var G=De("div","\u200b",null,"position: absolute;\n                         top: "+(d.top-y.viewOffset-ls(a.display))+"px;\n                         height: "+(d.bottom-d.top+wo(a)+y.barHeight)+"px;\n                         left: "+d.left+"px; width: "+Math.max(2,d.right-d.left)+"px;");a.display.lineSpace.appendChild(G),G.scrollIntoView(b),a.display.lineSpace.removeChild(G)}}}(d,function bh(a,d,y,v){var b;null==v&&(v=0),!a.options.lineWrapping&&d==y&&(y="before"==d.sticky?St(d.line,d.ch+1,"before"):d,d=d.ch?St(d.line,"before"==d.sticky?d.ch-1:d.ch,"after"):d);for(var B=0;B<5;B++){var G=!1,X=cs(a,d),ee=y&&y!=d?cs(a,y):X,ce=Gi(a,b={left:Math.min(X.left,ee.left),top:Math.min(X.top,ee.top)-v,right:Math.max(X.left,ee.left),bottom:Math.max(X.bottom,ee.bottom)+v}),xe=a.doc.scrollTop,Le=a.doc.scrollLeft;if(null!=ce.scrollTop&&(ur(a,ce.scrollTop),Math.abs(a.doc.scrollTop-xe)>1&&(G=!0)),null!=ce.scrollLeft&&(qa(a,ce.scrollLeft),Math.abs(a.doc.scrollLeft-Le)>1&&(G=!0)),!G)break}return b}(d,nt(v,a.scrollToPos.from),nt(v,a.scrollToPos.to),a.scrollToPos.margin));var B=a.maybeHiddenMarkers,G=a.maybeUnhiddenMarkers;if(B)for(var X=0;X<B.length;++X)B[X].lines.length||pi(B[X],"hide");if(G)for(var ee=0;ee<G.length;++ee)G[ee].lines.length&&pi(G[ee],"unhide");y.wrapper.offsetHeight&&(v.scrollTop=d.display.scroller.scrollTop),a.changeObjs&&pi(d,"changes",d,a.changeObjs),a.update&&a.update.finish()}function la(a,d){if(a.curOp)return d();ii(a);try{return d()}finally{Xl(a)}}function Co(a,d){return function(){if(a.curOp)return d.apply(a,arguments);ii(a);try{return d.apply(a,arguments)}finally{Xl(a)}}}function Po(a){return function(){if(this.curOp)return a.apply(this,arguments);ii(this);try{return a.apply(this,arguments)}finally{Xl(this)}}}function Lo(a){return function(){var d=this.cm;if(!d||d.curOp)return a.apply(this,arguments);ii(d);try{return a.apply(this,arguments)}finally{Xl(d)}}}function yi(a,d){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(d,It(_i,a))}function _i(a){var d=a.doc;if(!(d.highlightFrontier>=a.display.viewTo)){var y=+new Date+a.options.workTime,v=Bt(a,d.highlightFrontier),b=[];d.iter(v.line,Math.min(d.first+d.size,a.display.viewTo+500),function(B){if(v.line>=a.display.viewFrom){var G=B.styles,X=B.text.length>a.options.maxHighlightLength?ki(d.mode,v.state):null,ee=en(a,B,v,!0);X&&(v.state=X),B.styles=ee.styles;var ce=B.styleClasses,xe=ee.classes;xe?B.styleClasses=xe:ce&&(B.styleClasses=null);for(var Le=!G||G.length!=B.styles.length||ce!=xe&&(!ce||!xe||ce.bgClass!=xe.bgClass||ce.textClass!=xe.textClass),$e=0;!Le&&$e<G.length;++$e)Le=G[$e]!=B.styles[$e];Le&&b.push(v.line),B.stateAfter=v.save(),v.nextLine()}else B.text.length<=a.options.maxHighlightLength&&Ar(a,B.text,v),B.stateAfter=v.line%5==0?v.save():null,v.nextLine();if(+new Date>y)return yi(a,a.options.workDelay),!0}),d.highlightFrontier=v.line,d.modeFrontier=Math.max(d.modeFrontier,v.line),b.length&&la(a,function(){for(var B=0;B<b.length;B++)so(a,b[B],"text")})}}var _h=function(a,d,y){var v=a.display;this.viewport=d,this.visible=Zn(v,a.doc,d),this.editorIsHidden=!v.wrapper.offsetWidth,this.wrapperHeight=v.wrapper.clientHeight,this.wrapperWidth=v.wrapper.clientWidth,this.oldDisplayWidth=Er(a),this.force=y,this.dims=Cf(a),this.events=[]};function Cl(a,d){var y=a.display,v=a.doc;if(d.editorIsHidden)return yl(a),!1;if(!d.force&&d.visible.from>=y.viewFrom&&d.visible.to<=y.viewTo&&(null==y.updateLineNumbers||y.updateLineNumbers>=y.viewTo)&&y.renderedView==y.view&&0==yh(a))return!1;cm(a)&&(yl(a),d.dims=Cf(a));var b=v.first+v.size,B=Math.max(d.visible.from-a.options.viewportMargin,v.first),G=Math.min(b,d.visible.to+a.options.viewportMargin);y.viewFrom<B&&B-y.viewFrom<20&&(B=Math.max(v.first,y.viewFrom)),y.viewTo>G&&y.viewTo-G<20&&(G=Math.min(b,y.viewTo)),Ze&&(B=od(a.doc,B),G=an(a.doc,G));var X=B!=y.viewFrom||G!=y.viewTo||y.lastWrapHeight!=d.wrapperHeight||y.lastWrapWidth!=d.wrapperWidth;(function Ef(a,d,y){var v=a.display;0==v.view.length||d>=v.viewTo||y<=v.viewFrom?(v.view=Zo(a,d,y),v.viewFrom=d):(v.viewFrom>d?v.view=Zo(a,d,v.viewFrom).concat(v.view):v.viewFrom<d&&(v.view=v.view.slice(oo(a,d))),v.viewFrom=d,v.viewTo<y?v.view=v.view.concat(Zo(a,v.viewTo,y)):v.viewTo>y&&(v.view=v.view.slice(0,oo(a,y)))),v.viewTo=y})(a,B,G),y.viewOffset=Ra(Cn(a.doc,y.viewFrom)),a.display.mover.style.top=y.viewOffset+"px";var ee=yh(a);if(!X&&0==ee&&!d.force&&y.renderedView==y.view&&(null==y.updateLineNumbers||y.updateLineNumbers>=y.viewTo))return!1;var ce=function hy(a){if(a.hasFocus())return null;var d=ft(Zt(a));if(!d||!at(a.display.lineDiv,d))return null;var y={activeElt:d};if(window.getSelection){var v=Ht(a).getSelection();v.anchorNode&&v.extend&&at(a.display.lineDiv,v.anchorNode)&&(y.anchorNode=v.anchorNode,y.anchorOffset=v.anchorOffset,y.focusNode=v.focusNode,y.focusOffset=v.focusOffset)}return y}(a);return ee>4&&(y.lineDiv.style.display="none"),function pd(a,d,y){var v=a.display,b=a.options.lineNumbers,B=v.lineDiv,G=B.firstChild;function X(pt){var bt=pt.nextSibling;return N&&ae&&a.display.currentWheelTarget==pt?pt.style.display="none":pt.parentNode.removeChild(pt),bt}for(var ee=v.view,ce=v.viewFrom,xe=0;xe<ee.length;xe++){var Le=ee[xe];if(!Le.hidden)if(Le.node&&Le.node.parentNode==B){for(;G!=Le.node;)G=X(G);var je=b&&null!=d&&d<=ce&&Le.lineNumber;Le.changes&&(rt(Le.changes,"gutter")>-1&&(je=!1),fh(a,Le,ce,y)),je&&(_e(Le.lineNumber),Le.lineNumber.appendChild(document.createTextNode(rd(a.options,ce)))),G=Le.node.nextSibling}else{var $e=pf(a,Le,ce,y);B.insertBefore($e,G)}ce+=Le.size}for(;G;)G=X(G)}(a,y.updateLineNumbers,d.dims),ee>4&&(y.lineDiv.style.display=""),y.renderedView=y.view,function Su(a){if(a&&a.activeElt&&a.activeElt!=ft(a.activeElt.ownerDocument)&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&at(document.body,a.anchorNode)&&at(document.body,a.focusNode))){var d=a.activeElt.ownerDocument,y=d.defaultView.getSelection(),v=d.createRange();v.setEnd(a.anchorNode,a.anchorOffset),v.collapse(!1),y.removeAllRanges(),y.addRange(v),y.extend(a.focusNode,a.focusOffset)}}(ce),_e(y.cursorDiv),_e(y.selectionDiv),y.gutters.style.height=y.sizer.style.minHeight=0,X&&(y.lastWrapHeight=d.wrapperHeight,y.lastWrapWidth=d.wrapperWidth,yi(a,400)),y.updateLineNumbers=null,!0}function Kl(a,d){for(var y=d.viewport,v=!0;;v=!1){if(v&&a.options.lineWrapping&&d.oldDisplayWidth!=Er(a))v&&(d.visible=Zn(a.display,a.doc,y));else if(y&&null!=y.top&&(y={top:Math.min(a.doc.height+us(a.display)-hc(a),y.top)}),d.visible=Zn(a.display,a.doc,y),d.visible.from>=a.display.viewFrom&&d.visible.to<=a.display.viewTo)break;if(!Cl(a,d))break;el(a);var b=hn(a);ud(a),_l(a,b),Ch(a,b),d.force=!1}d.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(d.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Ja(a,d){var y=new _h(a,d);if(Cl(a,y)){el(a),Kl(a,y);var v=hn(a);ud(a),_l(a,v),Ch(a,v),y.finish()}}function Df(a){a.sizer.style.marginLeft=a.gutters.offsetWidth+"px",bo(a,"gutterChanged",a)}function Ch(a,d){a.display.sizer.style.minHeight=d.docHeight+"px",a.display.heightForcer.style.top=d.docHeight+"px",a.display.gutters.style.height=d.docHeight+a.display.barHeight+wo(a)+"px"}function Op(a){var d=a.display,y=d.view;if(d.alignWidgets||d.gutters.firstChild&&a.options.fixedGutter){for(var v=ln(d)-d.scroller.scrollLeft+a.doc.scrollLeft,b=d.gutters.offsetWidth,B=v+"px",G=0;G<y.length;G++)if(!y[G].hidden){a.options.fixedGutter&&(y[G].gutter&&(y[G].gutter.style.left=B),y[G].gutterBackground&&(y[G].gutterBackground.style.left=B));var X=y[G].alignable;if(X)for(var ee=0;ee<X.length;ee++)X[ee].style.left=B}a.options.fixedGutter&&(d.gutters.style.left=v+b+"px")}}function cm(a){if(!a.options.lineNumbers)return!1;var d=a.doc,y=rd(a.options,d.first+d.size-1),v=a.display;if(y.length!=v.lineNumChars){var b=v.measure.appendChild(De("div",[De("div",y)],"CodeMirror-linenumber CodeMirror-gutter-elt")),B=b.firstChild.offsetWidth,G=b.offsetWidth-B;return v.lineGutter.style.width="",v.lineNumInnerWidth=Math.max(B,v.lineGutter.offsetWidth-G)+1,v.lineNumWidth=v.lineNumInnerWidth+G,v.lineNumChars=v.lineNumInnerWidth?y.length:-1,v.lineGutter.style.width=v.lineNumWidth+"px",Df(a.display),!0}return!1}function Zl(a,d){for(var y=[],v=!1,b=0;b<a.length;b++){var B=a[b],G=null;if("string"!=typeof B&&(G=B.style,B=B.className),"CodeMirror-linenumbers"==B){if(!d)continue;v=!0}y.push({className:B,style:G})}return d&&!v&&y.push({className:"CodeMirror-linenumbers",style:null}),y}function Tf(a){var d=a.gutters,y=a.gutterSpecs;_e(d),a.lineGutter=null;for(var v=0;v<y.length;++v){var b=y[v],B=b.className,G=b.style,X=d.appendChild(De("div",null,"CodeMirror-gutter "+B));G&&(X.style.cssText=G),"CodeMirror-linenumbers"==B&&(a.lineGutter=X,X.style.width=(a.lineNumWidth||1)+"px")}d.style.display=y.length?"":"none",Df(a)}function Sf(a){Tf(a.display),ao(a),Op(a)}function Eh(a,d,y,v){var b=this;this.input=y,b.scrollbarFiller=De("div",null,"CodeMirror-scrollbar-filler"),b.scrollbarFiller.setAttribute("cm-not-content","true"),b.gutterFiller=De("div",null,"CodeMirror-gutter-filler"),b.gutterFiller.setAttribute("cm-not-content","true"),b.lineDiv=ze("div",null,"CodeMirror-code"),b.selectionDiv=De("div",null,null,"position: relative; z-index: 1"),b.cursorDiv=De("div",null,"CodeMirror-cursors"),b.measure=De("div",null,"CodeMirror-measure"),b.lineMeasure=De("div",null,"CodeMirror-measure"),b.lineSpace=ze("div",[b.measure,b.lineMeasure,b.selectionDiv,b.cursorDiv,b.lineDiv],null,"position: relative; outline: none");var B=ze("div",[b.lineSpace],"CodeMirror-lines");b.mover=De("div",[B],null,"position: relative"),b.sizer=De("div",[b.mover],"CodeMirror-sizer"),b.sizerWidth=null,b.heightForcer=De("div",null,null,"position: absolute; height: "+ht+"px; width: 1px;"),b.gutters=De("div",null,"CodeMirror-gutters"),b.lineGutter=null,b.scroller=De("div",[b.sizer,b.heightForcer,b.gutters],"CodeMirror-scroll"),b.scroller.setAttribute("tabIndex","-1"),b.wrapper=De("div",[b.scrollbarFiller,b.gutterFiller,b.scroller],"CodeMirror"),V&&L>=105&&(b.wrapper.style.clipPath="inset(0px)"),b.wrapper.setAttribute("translate","no"),C&&T<8&&(b.gutters.style.zIndex=-1,b.scroller.style.paddingRight=0),!N&&!(S&&le)&&(b.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(b.wrapper):a(b.wrapper)),b.viewFrom=b.viewTo=d.first,b.reportedViewFrom=b.reportedViewTo=d.first,b.view=[],b.renderedView=null,b.externalMeasured=null,b.viewOffset=0,b.lastWrapHeight=b.lastWrapWidth=0,b.updateLineNumbers=null,b.nativeBarWidth=b.barHeight=b.barWidth=0,b.scrollbarsClipped=!1,b.lineNumWidth=b.lineNumInnerWidth=b.lineNumChars=null,b.alignWidgets=!1,b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.maxLine=null,b.maxLineLength=0,b.maxLineChanged=!1,b.wheelDX=b.wheelDY=b.wheelStartX=b.wheelStartY=null,b.shift=!1,b.selForContextMenu=null,b.activeTouch=null,b.gutterSpecs=Zl(v.gutters,v.lineNumbers),Tf(b),y.init(b)}_h.prototype.signal=function(a,d){Si(a,d)&&this.events.push(arguments)},_h.prototype.finish=function(){for(var a=0;a<this.events.length;a++)pi.apply(null,this.events[a])};var gd=0,co=null;function es(a){var d=a.wheelDeltaX,y=a.wheelDeltaY;return null==d&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(d=a.detail),null==y&&a.detail&&a.axis==a.VERTICAL_AXIS?y=a.detail:null==y&&(y=a.wheelDelta),{x:d,y}}function dm(a){var d=es(a);return d.x*=co,d.y*=co,d}function md(a,d){V&&102==L&&(null==a.display.chromeScrollHack?a.display.sizer.style.pointerEvents="none":clearTimeout(a.display.chromeScrollHack),a.display.chromeScrollHack=setTimeout(function(){a.display.chromeScrollHack=null,a.display.sizer.style.pointerEvents=""},100));var y=es(d),v=y.x,b=y.y,B=co;0===d.deltaMode&&(v=d.deltaX,b=d.deltaY,B=1);var G=a.display,X=G.scroller,ce=X.scrollHeight>X.clientHeight;if(v&&X.scrollWidth>X.clientWidth||b&&ce){if(b&&ae&&N)e:for(var xe=d.target,Le=G.view;xe!=X;xe=xe.parentNode)for(var $e=0;$e<Le.length;$e++)if(Le[$e].node==xe){a.display.currentWheelTarget=xe;break e}if(v&&!S&&!k&&null!=B)return b&&ce&&ur(a,Math.max(0,X.scrollTop+b*B)),qa(a,Math.max(0,X.scrollLeft+v*B)),(!b||b&&ce)&&Vi(d),void(G.wheelStartX=null);if(b&&null!=B){var je=b*B,pt=a.doc.scrollTop,bt=pt+G.wrapper.clientHeight;je<0?pt=Math.max(0,pt+je-50):bt=Math.min(a.doc.height,bt+je+50),Ja(a,{top:pt,bottom:bt})}gd<20&&0!==d.deltaMode&&(null==G.wheelStartX?(G.wheelStartX=X.scrollLeft,G.wheelStartY=X.scrollTop,G.wheelDX=v,G.wheelDY=b,setTimeout(function(){if(null!=G.wheelStartX){var Ut=X.scrollLeft-G.wheelStartX,jt=X.scrollTop-G.wheelStartY,Qt=jt&&G.wheelDY&&jt/G.wheelDY||Ut&&G.wheelDX&&Ut/G.wheelDX;G.wheelStartX=G.wheelStartY=null,Qt&&(co=(co*gd+Qt)/(gd+1),++gd)}},200)):(G.wheelDX+=v,G.wheelDY+=b))}}C?co=-.53:S?co=15:V?co=-.7:H&&(co=-1/3);var ba=function(a,d){this.ranges=a,this.primIndex=d};ba.prototype.primary=function(){return this.ranges[this.primIndex]},ba.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var d=0;d<this.ranges.length;d++){var y=this.ranges[d],v=a.ranges[d];if(!id(y.anchor,v.anchor)||!id(y.head,v.head))return!1}return!0},ba.prototype.deepCopy=function(){for(var a=[],d=0;d<this.ranges.length;d++)a[d]=new Wr(Is(this.ranges[d].anchor),Is(this.ranges[d].head));return new ba(a,this.primIndex)},ba.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},ba.prototype.contains=function(a,d){d||(d=a);for(var y=0;y<this.ranges.length;y++){var v=this.ranges[y];if(Yn(d,v.from())>=0&&Yn(a,v.to())<=0)return y}return-1};var Wr=function(a,d){this.anchor=a,this.head=d};function ua(a,d,y){var v=a&&a.options.selectionsMayTouch,b=d[y];d.sort(function($e,je){return Yn($e.from(),je.from())}),y=rt(d,b);for(var B=1;B<d.length;B++){var G=d[B],X=d[B-1],ee=Yn(X.to(),G.from());if(v&&!G.empty()?ee>0:ee>=0){var ce=Re(X.from(),G.from()),xe=Oe(X.to(),G.to()),Le=X.empty()?G.from()==G.head:X.from()==X.head;B<=y&&--y,d.splice(--B,2,new Wr(Le?xe:ce,Le?ce:xe))}}return new ba(d,y)}function wa(a,d){return new ba([new Wr(a,d||a)],0)}function Fo(a){return a.text?St(a.from.line+a.text.length-1,wn(a.text).length+(1==a.text.length?a.from.ch:0)):a.to}function hs(a,d){if(Yn(a,d.from)<0)return a;if(Yn(a,d.to)<=0)return Fo(d);var y=a.line+d.text.length-(d.to.line-d.from.line)-1,v=a.ch;return a.line==d.to.line&&(v+=Fo(d).ch-d.to.ch),St(y,v)}function Bo(a,d){for(var y=[],v=0;v<a.sel.ranges.length;v++){var b=a.sel.ranges[v];y.push(new Wr(hs(b.anchor,d),hs(b.head,d)))}return ua(a.cm,y,a.sel.primIndex)}function El(a,d,y){return a.line==d.line?St(y.line,a.ch-d.ch+y.ch):St(y.line+(a.line-d.line),a.ch)}function vc(a){a.doc.mode=Oa(a.options,a.doc.modeOption),Mf(a)}function Mf(a){a.doc.iter(function(d){d.stateAfter&&(d.stateAfter=null),d.styles&&(d.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,yi(a,100),a.state.modeGen++,a.curOp&&ao(a)}function vd(a,d){return 0==d.from.ch&&0==d.to.ch&&""==wn(d.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function yc(a,d,y,v){function b(Qt){return y?y[Qt]:null}function B(Qt,Xt,$t){(function Ko(a,d,y,v){a.text=d,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),Ji(a),Qs(a,y);var b=v?v(a):1;b!=a.height&&Ro(a,b)})(Qt,Xt,$t,v),bo(Qt,"change",Qt,d)}function G(Qt,Xt){for(var $t=[],kn=Qt;kn<Xt;++kn)$t.push(new pl(ce[kn],b(kn),v));return $t}var X=d.from,ee=d.to,ce=d.text,xe=Cn(a,X.line),Le=Cn(a,ee.line),$e=wn(ce),je=b(ce.length-1),pt=ee.line-X.line;if(d.full)a.insert(0,G(0,ce.length)),a.remove(ce.length,a.size-ce.length);else if(vd(a,d)){var bt=G(0,ce.length-1);B(Le,Le.text,je),pt&&a.remove(X.line,pt),bt.length&&a.insert(X.line,bt)}else if(xe==Le)if(1==ce.length)B(xe,xe.text.slice(0,X.ch)+$e+xe.text.slice(ee.ch),je);else{var Ut=G(1,ce.length-1);Ut.push(new pl($e+xe.text.slice(ee.ch),je,v)),B(xe,xe.text.slice(0,X.ch)+ce[0],b(0)),a.insert(X.line+1,Ut)}else if(1==ce.length)B(xe,xe.text.slice(0,X.ch)+ce[0]+Le.text.slice(ee.ch),b(0)),a.remove(X.line+1,pt);else{B(xe,xe.text.slice(0,X.ch)+ce[0],b(0)),B(Le,$e+Le.text.slice(ee.ch),je);var jt=G(1,ce.length-1);pt>1&&a.remove(X.line+1,pt-1),a.insert(X.line+1,jt)}bo(a,"change",a,d)}function ps(a,d,y){!function v(b,B,G){if(b.linked)for(var X=0;X<b.linked.length;++X){var ee=b.linked[X];if(ee.doc!=B){var ce=G&&ee.sharedHist;y&&!ce||(d(ee.doc,ce),v(ee.doc,b,ce))}}}(a,null,!0)}function bc(a,d){if(d.cm)throw new Error("This document is already in use.");a.doc=d,d.cm=a,Br(a),vc(a),Np(a),a.options.direction=d.direction,a.options.lineWrapping||yu(a),a.options.mode=d.modeOption,ao(a)}function Np(a){("rtl"==a.doc.direction?Ye:me)(a.display.lineDiv,"CodeMirror-rtl")}function wc(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function Mu(a,d){var y={from:Is(d.from),to:Fo(d),text:li(a,d.from,d.to)};return Pp(a,y,d.from.line,d.to.line+1),ps(a,function(v){return Pp(v,y,d.from.line,d.to.line+1)},!0),y}function xl(a){for(;a.length&&wn(a).ranges;)a.pop()}function fm(a,d,y,v){var b=a.history;b.undone.length=0;var G,X,B=+new Date;if((b.lastOp==v||b.lastOrigin==d.origin&&d.origin&&("+"==d.origin.charAt(0)&&b.lastModTime>B-(a.cm?a.cm.options.historyEventDelay:500)||"*"==d.origin.charAt(0)))&&(G=function Rp(a,d){return d?(xl(a.done),wn(a.done)):a.done.length&&!wn(a.done).ranges?wn(a.done):a.done.length>1&&!a.done[a.done.length-2].ranges?(a.done.pop(),wn(a.done)):void 0}(b,b.lastOp==v)))X=wn(G.changes),0==Yn(d.from,d.to)&&0==Yn(d.from,X.to)?X.to=Fo(d):G.changes.push(Mu(a,d));else{var ee=wn(b.done);for((!ee||!ee.ranges)&&yd(a.sel,b.done),G={changes:[Mu(a,d)],generation:b.generation},b.done.push(G);b.done.length>b.undoDepth;)b.done.shift(),b.done[0].ranges||b.done.shift()}b.done.push(y),b.generation=++b.maxGeneration,b.lastModTime=b.lastSelTime=B,b.lastOp=b.lastSelOp=v,b.lastOrigin=b.lastSelOrigin=d.origin,X||pi(a,"historyAdded")}function kp(a,d,y,v){var b=a.history,B=v&&v.origin;y==b.lastSelOp||B&&b.lastSelOrigin==B&&(b.lastModTime==b.lastSelTime&&b.lastOrigin==B||function py(a,d,y,v){var b=d.charAt(0);return"*"==b||"+"==b&&y.ranges.length==v.ranges.length&&y.somethingSelected()==v.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}(a,B,wn(b.done),d))?b.done[b.done.length-1]=d:yd(d,b.done),b.lastSelTime=+new Date,b.lastSelOrigin=B,b.lastSelOp=y,v&&!1!==v.clearRedo&&xl(b.undone)}function yd(a,d){var y=wn(d);y&&y.ranges&&y.equals(a)||d.push(a)}function Pp(a,d,y,v){var b=d["spans_"+a.id],B=0;a.iter(Math.max(a.first,y),Math.min(a.first+a.size,v),function(G){G.markedSpans&&((b||(b=d["spans_"+a.id]={}))[B]=G.markedSpans),++B})}function hm(a){if(!a)return null;for(var d,y=0;y<a.length;++y)a[y].marker.explicitlyCleared?d||(d=a.slice(0,y)):d&&d.push(a[y]);return d?d.length?d:null:a}function Dh(a,d){var y=function _a(a,d){var y=d["spans_"+a.id];if(!y)return null;for(var v=[],b=0;b<d.text.length;++b)v.push(hm(y[b]));return v}(a,d),v=qs(a,d);if(!y)return v;if(!v)return y;for(var b=0;b<y.length;++b){var B=y[b],G=v[b];if(B&&G)e:for(var X=0;X<G.length;++X){for(var ee=G[X],ce=0;ce<B.length;++ce)if(B[ce].marker==ee.marker)continue e;B.push(ee)}else G&&(y[b]=G)}return y}function _c(a,d,y){for(var v=[],b=0;b<a.length;++b){var B=a[b];if(B.ranges)v.push(y?ba.prototype.deepCopy.call(B):B);else{var G=B.changes,X=[];v.push({changes:X});for(var ee=0;ee<G.length;++ee){var ce=G[ee],xe=void 0;if(X.push({from:ce.from,to:ce.to,text:ce.text}),d)for(var Le in ce)(xe=Le.match(/^spans_(\d+)$/))&&rt(d,Number(xe[1]))>-1&&(wn(X)[Le]=ce[Le],delete ce[Le])}}}return v}function If(a,d,y,v){if(v){var b=a.anchor;if(y){var B=Yn(d,b)<0;B!=Yn(y,b)<0?(b=d,d=y):B!=Yn(d,y)<0&&(d=y)}return new Wr(b,d)}return new Wr(y||d,d)}function bd(a,d,y,v,b){null==b&&(b=a.cm&&(a.cm.display.shift||a.extend)),Eo(a,new ba([If(a.sel.primary(),d,y,b)],0),v)}function Th(a,d,y){for(var v=[],b=a.cm&&(a.cm.display.shift||a.extend),B=0;B<a.sel.ranges.length;B++)v[B]=If(a.sel.ranges[B],d[B],null,b);Eo(a,ua(a.cm,v,a.sel.primIndex),y)}function Sh(a,d,y,v){var b=a.sel.ranges.slice(0);b[d]=y,Eo(a,ua(a.cm,b,a.sel.primIndex),v)}function wd(a,d,y,v){Eo(a,wa(d,y),v)}function Fa(a,d,y){var v=a.history.done,b=wn(v);b&&b.ranges?(v[v.length-1]=d,Cd(a,d,y)):Eo(a,d,y)}function Eo(a,d,y){Cd(a,d,y),kp(a,a.sel,a.cm?a.cm.curOp.id:NaN,y)}function Cd(a,d,y){(Si(a,"beforeSelectionChange")||a.cm&&Si(a.cm,"beforeSelectionChange"))&&(d=function _d(a,d,y){var v={ranges:d.ranges,update:function(b){this.ranges=[];for(var B=0;B<b.length;B++)this.ranges[B]=new Wr(nt(a,b[B].anchor),nt(a,b[B].head))},origin:y&&y.origin};return pi(a,"beforeSelectionChange",a,v),a.cm&&pi(a.cm,"beforeSelectionChange",a.cm,v),v.ranges!=d.ranges?ua(a.cm,v.ranges,v.ranges.length-1):d}(a,d,y));var v=y&&y.bias||(Yn(d.primary().head,a.sel.primary().head)<0?-1:1);fi(a,Ed(a,d,v,!0)),(!y||!1!==y.scroll)&&a.cm&&"nocursor"!=a.cm.getOption("readOnly")&&Za(a.cm)}function fi(a,d){d.equals(a.sel)||(a.sel=d,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,mu(a.cm)),bo(a,"cursorActivity",a))}function Mh(a){fi(a,Ed(a,a.sel,null,!1))}function Ed(a,d,y,v){for(var b,B=0;B<d.ranges.length;B++){var G=d.ranges[B],X=d.ranges.length==a.sel.ranges.length&&a.sel.ranges[B],ee=Ps(a,G.anchor,X&&X.anchor,y,v),ce=G.head==G.anchor?ee:Ps(a,G.head,X&&X.head,y,v);(b||ee!=G.anchor||ce!=G.head)&&(b||(b=d.ranges.slice(0,B)),b[B]=new Wr(ee,ce))}return b?ua(a.cm,b,d.primIndex):d}function ji(a,d,y,v,b){var B=Cn(a,d.line);if(B.markedSpans)for(var G=0;G<B.markedSpans.length;++G){var X=B.markedSpans[G],ee=X.marker,ce="selectLeft"in ee?!ee.selectLeft:ee.inclusiveLeft,xe="selectRight"in ee?!ee.selectRight:ee.inclusiveRight;if((null==X.from||(ce?X.from<=d.ch:X.from<d.ch))&&(null==X.to||(xe?X.to>=d.ch:X.to>d.ch))){if(b&&(pi(ee,"beforeCursorEnter"),ee.explicitlyCleared)){if(B.markedSpans){--G;continue}break}if(!ee.atomic)continue;if(y){var Le=ee.find(v<0?1:-1),$e=void 0;if((v<0?xe:ce)&&(Le=Af(a,Le,-v,Le&&Le.line==d.line?B:null)),Le&&Le.line==d.line&&($e=Yn(Le,y))&&(v<0?$e<0:$e>0))return ji(a,Le,d,v,b)}var je=ee.find(v<0?-1:1);return(v<0?ce:xe)&&(je=Af(a,je,v,je.line==d.line?B:null)),je?ji(a,je,d,v,b):null}}return d}function Ps(a,d,y,v,b){var B=v||1;return ji(a,d,y,B,b)||!b&&ji(a,d,y,B,!0)||ji(a,d,y,-B,b)||!b&&ji(a,d,y,-B,!0)||(a.cantEdit=!0,St(a.first,0))}function Af(a,d,y,v){return y<0&&0==d.ch?d.line>a.first?nt(a,St(d.line-1)):null:y>0&&d.ch==(v||Cn(a,d.line)).text.length?d.line<a.first+a.size-1?St(d.line+1,0):null:new St(d.line,d.ch+y)}function ql(a){a.setSelection(St(a.firstLine(),0),St(a.lastLine()),Tt)}function Ba(a,d,y){var v={canceled:!1,from:d.from,to:d.to,text:d.text,origin:d.origin,cancel:function(){return v.canceled=!0}};return y&&(v.update=function(b,B,G,X){b&&(v.from=nt(a,b)),B&&(v.to=nt(a,B)),G&&(v.text=G),void 0!==X&&(v.origin=X)}),pi(a,"beforeChange",a,v),a.cm&&pi(a.cm,"beforeChange",a.cm,v),v.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:v.from,to:v.to,text:v.text,origin:v.origin}}function Cc(a,d,y){if(a.cm){if(!a.cm.curOp)return Co(a.cm,Cc)(a,d,y);if(a.cm.state.suppressEdits)return}if(!(Si(a,"beforeChange")||a.cm&&Si(a.cm,"beforeChange"))||(d=Ba(a,d,!0))){var v=gr&&!y&&function vo(a,d,y){var v=null;if(a.iter(d.line,y.line+1,function(je){if(je.markedSpans)for(var pt=0;pt<je.markedSpans.length;++pt){var bt=je.markedSpans[pt].marker;bt.readOnly&&(!v||-1==rt(v,bt))&&(v||(v=[])).push(bt)}}),!v)return null;for(var b=[{from:d,to:y}],B=0;B<v.length;++B)for(var G=v[B],X=G.find(0),ee=0;ee<b.length;++ee){var ce=b[ee];if(!(Yn(ce.to,X.from)<0||Yn(ce.from,X.to)>0)){var xe=[ee,1],Le=Yn(ce.from,X.from),$e=Yn(ce.to,X.to);(Le<0||!G.inclusiveLeft&&!Le)&&xe.push({from:ce.from,to:X.from}),($e>0||!G.inclusiveRight&&!$e)&&xe.push({from:X.to,to:ce.to}),b.splice.apply(b,xe),ee+=xe.length-3}}return b}(a,d.from,d.to);if(v)for(var b=v.length-1;b>=0;--b)xd(a,{from:v[b].from,to:v[b].to,text:b?[""]:d.text,origin:d.origin});else xd(a,d)}}function xd(a,d){if(1!=d.text.length||""!=d.text[0]||0!=Yn(d.from,d.to)){var y=Bo(a,d);fm(a,d,y,a.cm?a.cm.curOp.id:NaN),Mr(a,d,y,qs(a,d));var v=[];ps(a,function(b,B){!B&&-1==rt(v,b.history)&&(Lp(b.history,d),v.push(b.history)),Mr(b,d,null,qs(b,d))})}}function Dd(a,d,y){var v=a.cm&&a.cm.state.suppressEdits;if(!v||y){for(var B,b=a.history,G=a.sel,X="undo"==d?b.done:b.undone,ee="undo"==d?b.undone:b.done,ce=0;ce<X.length&&(B=X[ce],!(y?B.ranges&&!B.equals(a.sel):!B.ranges));ce++);if(ce!=X.length){for(b.lastOrigin=b.lastSelOrigin=null;;){if(!(B=X.pop()).ranges){if(v)return void X.push(B);break}if(yd(B,ee),y&&!B.equals(a.sel))return void Eo(a,B,{clearRedo:!1});G=B}var xe=[];yd(G,ee),ee.push({changes:xe,generation:b.generation}),b.generation=B.generation||++b.maxGeneration;for(var Le=Si(a,"beforeChange")||a.cm&&Si(a.cm,"beforeChange"),$e=function(bt){var Ut=B.changes[bt];if(Ut.origin=d,Le&&!Ba(a,Ut,!1))return X.length=0,{};xe.push(Mu(a,Ut));var jt=bt?Bo(a,Ut):wn(X);Mr(a,Ut,jt,Dh(a,Ut)),!bt&&a.cm&&a.cm.scrollIntoView({from:Ut.from,to:Fo(Ut)});var Qt=[];ps(a,function(Xt,$t){!$t&&-1==rt(Qt,Xt.history)&&(Lp(Xt.history,Ut),Qt.push(Xt.history)),Mr(Xt,Ut,null,Dh(Xt,Ut))})},je=B.changes.length-1;je>=0;--je){var pt=$e(je);if(pt)return pt.v}}}}function nl(a,d){if(0!=d&&(a.first+=d,a.sel=new ba(Vn(a.sel.ranges,function(b){return new Wr(St(b.anchor.line+d,b.anchor.ch),St(b.head.line+d,b.head.ch))}),a.sel.primIndex),a.cm)){ao(a.cm,a.first,a.first-d,d);for(var y=a.cm.display,v=y.viewFrom;v<y.viewTo;v++)so(a.cm,v,"gutter")}}function Mr(a,d,y,v){if(a.cm&&!a.cm.curOp)return Co(a.cm,Mr)(a,d,y,v);if(d.to.line<a.first)nl(a,d.text.length-1-(d.to.line-d.from.line));else if(!(d.from.line>a.lastLine())){if(d.from.line<a.first){var b=d.text.length-1-(a.first-d.from.line);nl(a,b),d={from:St(a.first,0),to:St(d.to.line+b,d.to.ch),text:[wn(d.text)],origin:d.origin}}var B=a.lastLine();d.to.line>B&&(d={from:d.from,to:St(B,Cn(a,B).text.length),text:[d.text[0]],origin:d.origin}),d.removed=li(a,d.from,d.to),y||(y=Bo(a,d)),a.cm?function pm(a,d,y){var v=a.doc,b=a.display,B=d.from,G=d.to,X=!1,ee=B.line;a.options.lineWrapping||(ee=Pr(tr(Cn(v,B.line))),v.iter(ee,G.line+1,function(je){if(je==b.maxLine)return X=!0,!0})),v.sel.contains(d.from,d.to)>-1&&mu(a),yc(v,d,y,oa(a)),a.options.lineWrapping||(v.iter(ee,B.line+d.text.length,function(je){var pt=ac(je);pt>b.maxLineLength&&(b.maxLine=je,b.maxLineLength=pt,b.maxLineChanged=!0,X=!1)}),X&&(a.curOp.updateMaxLine=!0)),function ui(a,d){if(a.modeFrontier=Math.min(a.modeFrontier,d),!(a.highlightFrontier<d-10)){for(var y=a.first,v=d-1;v>y;v--){var b=Cn(a,v).stateAfter;if(b&&(!(b instanceof gn)||v+b.lookAhead<d)){y=v+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,y)}}(v,B.line),yi(a,400);var ce=d.text.length-(G.line-B.line)-1;d.full?ao(a):B.line!=G.line||1!=d.text.length||vd(a.doc,d)?ao(a,B.line,G.line+1,ce):so(a,B.line,"text");var xe=Si(a,"changes"),Le=Si(a,"change");if(Le||xe){var $e={from:B,to:G,text:d.text,removed:d.removed,origin:d.origin};Le&&bo(a,"change",a,$e),xe&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push($e)}a.display.selForContextMenu=null}(a.cm,d,v):yc(a,d,v),Cd(a,y,Tt),a.cantEdit&&Ps(a,St(a.firstLine(),0))&&(a.cantEdit=!1)}}function Ql(a,d,y,v,b){var B;v||(v=y),Yn(v,y)<0&&(y=(B=[v,y])[0],v=B[1]),"string"==typeof d&&(d=a.splitLines(d)),Cc(a,{from:y,to:v,text:d,origin:b})}function Ec(a,d,y,v){y<a.line?a.line+=v:d<a.line&&(a.line=d,a.ch=0)}function Ih(a,d,y,v){for(var b=0;b<a.length;++b){var B=a[b],G=!0;if(B.ranges){B.copied||((B=a[b]=B.deepCopy()).copied=!0);for(var X=0;X<B.ranges.length;X++)Ec(B.ranges[X].anchor,d,y,v),Ec(B.ranges[X].head,d,y,v)}else{for(var ee=0;ee<B.changes.length;++ee){var ce=B.changes[ee];if(y<ce.from.line)ce.from=St(ce.from.line+v,ce.from.ch),ce.to=St(ce.to.line+v,ce.to.ch);else if(d<=ce.to.line){G=!1;break}}G||(a.splice(0,b+1),b=0)}}}function Lp(a,d){var y=d.from.line,v=d.to.line,b=d.text.length-(v-y)-1;Ih(a.done,y,v,b),Ih(a.undone,y,v,b)}function Fn(a,d,y,v){var b=d,B=d;return"number"==typeof d?B=Cn(a,Ve(a,d)):b=Pr(d),null==b?null:(v(B,b)&&a.cm&&so(a.cm,b,y),B)}function Iu(a){this.lines=a,this.parent=null;for(var d=0,y=0;y<a.length;++y)a[y].parent=this,d+=a[y].height;this.height=d}function Au(a){this.children=a;for(var d=0,y=0,v=0;v<a.length;++v){var b=a[v];d+=b.chunkSize(),y+=b.height,b.parent=this}this.size=d,this.height=y,this.parent=null}Wr.prototype.from=function(){return Re(this.anchor,this.head)},Wr.prototype.to=function(){return Oe(this.anchor,this.head)},Wr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Iu.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,d){for(var y=a,v=a+d;y<v;++y){var b=this.lines[y];this.height-=b.height,ka(b),bo(b,"delete")}this.lines.splice(a,d)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,d,y){this.height+=y,this.lines=this.lines.slice(0,a).concat(d).concat(this.lines.slice(a));for(var v=0;v<d.length;++v)d[v].parent=this},iterN:function(a,d,y){for(var v=a+d;a<v;++a)if(y(this.lines[a]))return!0}},Au.prototype={chunkSize:function(){return this.size},removeInner:function(a,d){this.size-=d;for(var y=0;y<this.children.length;++y){var v=this.children[y],b=v.chunkSize();if(a<b){var B=Math.min(d,b-a),G=v.height;if(v.removeInner(a,B),this.height-=G-v.height,b==B&&(this.children.splice(y--,1),v.parent=null),0==(d-=B))break;a=0}else a-=b}if(this.size-d<25&&(this.children.length>1||!(this.children[0]instanceof Iu))){var X=[];this.collapse(X),this.children=[new Iu(X)],this.children[0].parent=this}},collapse:function(a){for(var d=0;d<this.children.length;++d)this.children[d].collapse(a)},insertInner:function(a,d,y){this.size+=d.length,this.height+=y;for(var v=0;v<this.children.length;++v){var b=this.children[v],B=b.chunkSize();if(a<=B){if(b.insertInner(a,d,y),b.lines&&b.lines.length>50){for(var G=b.lines.length%25+25,X=G;X<b.lines.length;){var ee=new Iu(b.lines.slice(X,X+=25));b.height-=ee.height,this.children.splice(++v,0,ee),ee.parent=this}b.lines=b.lines.slice(0,G),this.maybeSpill()}break}a-=B}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var y=new Au(a.children.splice(a.children.length-5,5));if(a.parent){a.size-=y.size,a.height-=y.height;var b=rt(a.parent.children,a);a.parent.children.splice(b+1,0,y)}else{var v=new Au(a.children);v.parent=a,a.children=[v,y],a=v}y.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,d,y){for(var v=0;v<this.children.length;++v){var b=this.children[v],B=b.chunkSize();if(a<B){var G=Math.min(d,B-a);if(b.iterN(a,G,y))return!0;if(0==(d-=G))break;a=0}else a-=B}}};var Jl=function(a,d,y){if(y)for(var v in y)y.hasOwnProperty(v)&&(this[v]=y[v]);this.doc=a,this.node=d};function Vo(a,d,y){Ra(d)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&ds(a,y)}Jl.prototype.clear=function(){var a=this.doc.cm,d=this.line.widgets,y=this.line,v=Pr(y);if(null!=v&&d){for(var b=0;b<d.length;++b)d[b]==this&&d.splice(b--,1);d.length||(y.widgets=null);var B=fc(this);Ro(y,Math.max(0,y.height-B)),a&&(la(a,function(){Vo(a,y,-B),so(a,v,"widget")}),bo(a,"lineWidgetCleared",a,this,v))}},Jl.prototype.changed=function(){var a=this,d=this.height,y=this.doc.cm,v=this.line;this.height=null;var b=fc(this)-d;b&&(hl(this.doc,v)||Ro(v,v.height+b),y&&la(y,function(){y.curOp.forceUpdate=!0,Vo(y,v,b),bo(y,"lineWidgetChanged",y,a,Pr(v))}))},Ma(Jl);var Td=0,Ho=function(a,d){this.lines=[],this.type=d,this.doc=a,this.id=++Td};function xc(a,d,y,v,b){if(v&&v.shared)return function gm(a,d,y,v,b){(v=mn(v)).shared=!1;var B=[xc(a,d,y,v,b)],G=B[0],X=v.widgetNode;return ps(a,function(ee){X&&(v.widgetNode=X.cloneNode(!0)),B.push(xc(ee,nt(ee,d),nt(ee,y),v,b));for(var ce=0;ce<ee.linked.length;++ce)if(ee.linked[ce].isParent)return;G=wn(B)}),new Sd(B,G)}(a,d,y,v,b);if(a.cm&&!a.cm.curOp)return Co(a.cm,xc)(a,d,y,v,b);var B=new Ho(a,b),G=Yn(d,y);if(v&&mn(v,B,!1),G>0||0==G&&!1!==B.clearWhenEmpty)return B;if(B.replacedWith&&(B.collapsed=!0,B.widgetNode=ze("span",[B.replacedWith],"CodeMirror-widget"),v.handleMouseEvents||B.widgetNode.setAttribute("cm-ignore-events","true"),v.insertLeft&&(B.widgetNode.insertLeft=!0)),B.collapsed){if(io(a,d.line,d,y,B)||d.line!=y.line&&io(a,y.line,d,y,B))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function vn(){Ze=!0}()}B.addToHistory&&fm(a,{from:d,to:y,origin:"markText"},a.sel,NaN);var ce,X=d.line,ee=a.cm;if(a.iter(X,y.line+1,function(Le){ee&&B.collapsed&&!ee.options.lineWrapping&&tr(Le)==ee.display.maxLine&&(ce=!0),B.collapsed&&X!=d.line&&Ro(Le,0),function mo(a,d,y){var v=y&&window.WeakSet&&(y.markedSpans||(y.markedSpans=new WeakSet));v&&a.markedSpans&&v.has(a.markedSpans)?a.markedSpans.push(d):(a.markedSpans=a.markedSpans?a.markedSpans.concat([d]):[d],v&&v.add(a.markedSpans)),d.marker.attachLine(a)}(Le,new Gn(B,X==d.line?d.ch:null,X==y.line?y.ch:null),a.cm&&a.cm.curOp),++X}),B.collapsed&&a.iter(d.line,y.line+1,function(Le){hl(a,Le)&&Ro(Le,0)}),B.clearOnEnter&&_n(B,"beforeCursorEnter",function(){return B.clear()}),B.readOnly&&(function Fr(){gr=!0}(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),B.collapsed&&(B.id=++Td,B.atomic=!0),ee){if(ce&&(ee.curOp.updateMaxLine=!0),B.collapsed)ao(ee,d.line,y.line+1);else if(B.className||B.startStyle||B.endStyle||B.css||B.attributes||B.title)for(var xe=d.line;xe<=y.line;xe++)so(ee,xe,"text");B.atomic&&Mh(ee.doc),bo(ee,"markerAdded",ee,B)}return B}Ho.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,d=a&&!a.curOp;if(d&&ii(a),Si(this,"clear")){var y=this.find();y&&bo(this,"clear",y.from,y.to)}for(var v=null,b=null,B=0;B<this.lines.length;++B){var G=this.lines[B],X=ci(G.markedSpans,this);a&&!this.collapsed?so(a,Pr(G),"text"):a&&(null!=X.to&&(b=Pr(G)),null!=X.from&&(v=Pr(G))),G.markedSpans=Hi(G.markedSpans,X),null==X.from&&this.collapsed&&!hl(this.doc,G)&&a&&Ro(G,Jr(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var ee=0;ee<this.lines.length;++ee){var ce=tr(this.lines[ee]),xe=ac(ce);xe>a.display.maxLineLength&&(a.display.maxLine=ce,a.display.maxLineLength=xe,a.display.maxLineChanged=!0)}null!=v&&a&&this.collapsed&&ao(a,v,b+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Mh(a.doc)),a&&bo(a,"markerCleared",a,this,v,b),d&&Xl(a),this.parent&&this.parent.clear()}},Ho.prototype.find=function(a,d){null==a&&"bookmark"==this.type&&(a=1);for(var y,v,b=0;b<this.lines.length;++b){var B=this.lines[b],G=ci(B.markedSpans,this);if(null!=G.from&&(y=St(d?B:Pr(B),G.from),-1==a))return y;if(null!=G.to&&(v=St(d?B:Pr(B),G.to),1==a))return v}return y&&{from:y,to:v}},Ho.prototype.changed=function(){var a=this,d=this.find(-1,!0),y=this,v=this.doc.cm;!d||!v||la(v,function(){var b=d.line,B=Pr(d.line),G=jl(v,B);if(G&&(ad(G),v.curOp.selectionChanged=v.curOp.forceUpdate=!0),v.curOp.updateMaxLine=!0,!hl(y.doc,b)&&null!=y.height){var X=y.height;y.height=null;var ee=fc(y)-X;ee&&Ro(b,b.height+ee)}bo(v,"markerChanged",v,a)})},Ho.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(!d.maybeHiddenMarkers||-1==rt(d.maybeHiddenMarkers,this))&&(d.maybeUnhiddenMarkers||(d.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Ho.prototype.detachLine=function(a){if(this.lines.splice(rt(this.lines,a),1),!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(d.maybeHiddenMarkers||(d.maybeHiddenMarkers=[])).push(this)}},Ma(Ho);var Sd=function(a,d){this.markers=a,this.primary=d;for(var y=0;y<a.length;++y)a[y].parent=this};function Fp(a){return a.findMarks(St(a.first,0),a.clipPos(St(a.lastLine())),function(d){return d.parent})}function Rt(a){for(var d=function(v){var b=a[v],B=[b.primary.doc];ps(b.primary.doc,function(ee){return B.push(ee)});for(var G=0;G<b.markers.length;G++){var X=b.markers[G];-1==rt(B,X.doc)&&(X.parent=null,b.markers.splice(G--,1))}},y=0;y<a.length;y++)d(y)}Sd.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();bo(this,"clear")}},Sd.prototype.find=function(a,d){return this.primary.find(a,d)},Ma(Sd);var br=0,Hn=function(a,d,y,v,b){if(!(this instanceof Hn))return new Hn(a,d,y,v,b);null==y&&(y=0),Au.call(this,[new Iu([new pl("",null)])]),this.first=y,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=y;var B=St(y,0);this.sel=wa(B),this.history=new wc(null),this.id=++br,this.modeOption=d,this.lineSep=v,this.direction="rtl"==b?"rtl":"ltr",this.extend=!1,"string"==typeof a&&(a=this.splitLines(a)),yc(this,{from:B,to:B,text:a}),Eo(this,wa(B),Tt)};Hn.prototype=Ri(Au.prototype,{constructor:Hn,iter:function(a,d,y){y?this.iterN(a-this.first,d-a,y):this.iterN(this.first,this.first+this.size,a)},insert:function(a,d){for(var y=0,v=0;v<d.length;++v)y+=d[v].height;this.insertInner(a-this.first,d,y)},remove:function(a,d){this.removeInner(a-this.first,d)},getValue:function(a){var d=$a(this,this.first,this.first+this.size);return!1===a?d:d.join(a||this.lineSeparator())},setValue:Lo(function(a){var d=St(this.first,0),y=this.first+this.size-1;Cc(this,{from:d,to:St(y,Cn(this,y).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&uo(this.cm,0,0),Eo(this,wa(d),Tt)}),replaceRange:function(a,d,y,v){Ql(this,a,d=nt(this,d),y=y?nt(this,y):d,v)},getRange:function(a,d,y){var v=li(this,nt(this,a),nt(this,d));return!1===y?v:v.join(""===y?"":y||this.lineSeparator())},getLine:function(a){var d=this.getLineHandle(a);return d&&d.text},getLineHandle:function(a){if(ko(this,a))return Cn(this,a)},getLineNumber:function(a){return Pr(a)},getLineHandleVisualStart:function(a){return"number"==typeof a&&(a=Cn(this,a)),tr(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return nt(this,a)},getCursor:function(a){var d=this.sel.primary();return null==a||"head"==a?d.head:"anchor"==a?d.anchor:"end"==a||"to"==a||!1===a?d.to():d.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Lo(function(a,d,y){wd(this,nt(this,"number"==typeof a?St(a,d||0):a),null,y)}),setSelection:Lo(function(a,d,y){wd(this,nt(this,a),nt(this,d||a),y)}),extendSelection:Lo(function(a,d,y){bd(this,nt(this,a),d&&nt(this,d),y)}),extendSelections:Lo(function(a,d){Th(this,qt(this,a),d)}),extendSelectionsBy:Lo(function(a,d){Th(this,qt(this,Vn(this.sel.ranges,a)),d)}),setSelections:Lo(function(a,d,y){if(a.length){for(var v=[],b=0;b<a.length;b++)v[b]=new Wr(nt(this,a[b].anchor),nt(this,a[b].head||a[b].anchor));null==d&&(d=Math.min(a.length-1,this.sel.primIndex)),Eo(this,ua(this.cm,v,d),y)}}),addSelection:Lo(function(a,d,y){var v=this.sel.ranges.slice(0);v.push(new Wr(nt(this,a),nt(this,d||a))),Eo(this,ua(this.cm,v,v.length-1),y)}),getSelection:function(a){for(var y,d=this.sel.ranges,v=0;v<d.length;v++){var b=li(this,d[v].from(),d[v].to());y=y?y.concat(b):b}return!1===a?y:y.join(a||this.lineSeparator())},getSelections:function(a){for(var d=[],y=this.sel.ranges,v=0;v<y.length;v++){var b=li(this,y[v].from(),y[v].to());!1!==a&&(b=b.join(a||this.lineSeparator())),d[v]=b}return d},replaceSelection:function(a,d,y){for(var v=[],b=0;b<this.sel.ranges.length;b++)v[b]=a;this.replaceSelections(v,d,y||"+input")},replaceSelections:Lo(function(a,d,y){for(var v=[],b=this.sel,B=0;B<b.ranges.length;B++){var G=b.ranges[B];v[B]={from:G.from(),to:G.to(),text:this.splitLines(a[B]),origin:y}}for(var X=d&&"end"!=d&&function eo(a,d,y){for(var v=[],b=St(a.first,0),B=b,G=0;G<d.length;G++){var X=d[G],ee=El(X.from,b,B),ce=El(Fo(X),b,B);if(b=X.to,B=ce,"around"==y){var xe=a.sel.ranges[G],Le=Yn(xe.head,xe.anchor)<0;v[G]=new Wr(Le?ce:ee,Le?ee:ce)}else v[G]=new Wr(ee,ee)}return new ba(v,a.sel.primIndex)}(this,v,d),ee=v.length-1;ee>=0;ee--)Cc(this,v[ee]);X?Fa(this,X):this.cm&&Za(this.cm)}),undo:Lo(function(){Dd(this,"undo")}),redo:Lo(function(){Dd(this,"redo")}),undoSelection:Lo(function(){Dd(this,"undo",!0)}),redoSelection:Lo(function(){Dd(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,d=0,y=0,v=0;v<a.done.length;v++)a.done[v].ranges||++d;for(var b=0;b<a.undone.length;b++)a.undone[b].ranges||++y;return{undo:d,redo:y}},clearHistory:function(){var a=this;this.history=new wc(this.history),ps(this,function(d){return d.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:_c(this.history.done),undone:_c(this.history.undone)}},setHistory:function(a){var d=this.history=new wc(this.history);d.done=_c(a.done.slice(0),null,!0),d.undone=_c(a.undone.slice(0),null,!0)},setGutterMarker:Lo(function(a,d,y){return Fn(this,a,"gutter",function(v){var b=v.gutterMarkers||(v.gutterMarkers={});return b[d]=y,!y&&jr(b)&&(v.gutterMarkers=null),!0})}),clearGutter:Lo(function(a){var d=this;this.iter(function(y){y.gutterMarkers&&y.gutterMarkers[a]&&Fn(d,y,"gutter",function(){return y.gutterMarkers[a]=null,jr(y.gutterMarkers)&&(y.gutterMarkers=null),!0})})}),lineInfo:function(a){var d;if("number"==typeof a){if(!(ko(this,a)&&(d=a,a=Cn(this,a))))return null}else if(null==(d=Pr(a)))return null;return{line:d,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Lo(function(a,d,y){return Fn(this,a,"gutter"==d?"gutter":"class",function(v){var b="text"==d?"textClass":"background"==d?"bgClass":"gutter"==d?"gutterClass":"wrapClass";if(v[b]){if(ie(y).test(v[b]))return!1;v[b]+=" "+y}else v[b]=y;return!0})}),removeLineClass:Lo(function(a,d,y){return Fn(this,a,"gutter"==d?"gutter":"class",function(v){var b="text"==d?"textClass":"background"==d?"bgClass":"gutter"==d?"gutterClass":"wrapClass",B=v[b];if(!B)return!1;if(null==y)v[b]=null;else{var G=B.match(ie(y));if(!G)return!1;var X=G.index+G[0].length;v[b]=B.slice(0,G.index)+(G.index&&X!=B.length?" ":"")+B.slice(X)||null}return!0})}),addLineWidget:Lo(function(a,d,y){return function Ah(a,d,y,v){var b=new Jl(a,y,v),B=a.cm;return B&&b.noHScroll&&(B.display.alignWidgets=!0),Fn(a,d,"widget",function(G){var X=G.widgets||(G.widgets=[]);if(null==b.insertAt?X.push(b):X.splice(Math.min(X.length,Math.max(0,b.insertAt)),0,b),b.line=G,B&&!hl(a,G)){var ee=Ra(G)<a.scrollTop;Ro(G,G.height+fc(b)),ee&&ds(B,b.height),B.curOp.forceUpdate=!0}return!0}),B&&bo(B,"lineWidgetAdded",B,b,"number"==typeof d?d:Pr(d)),b}(this,a,d,y)}),removeLineWidget:function(a){a.clear()},markText:function(a,d,y){return xc(this,nt(this,a),nt(this,d),y,y&&y.type||"range")},setBookmark:function(a,d){var y={replacedWith:d&&(null==d.nodeType?d.widget:d),insertLeft:d&&d.insertLeft,clearWhenEmpty:!1,shared:d&&d.shared,handleMouseEvents:d&&d.handleMouseEvents};return xc(this,a=nt(this,a),a,y,"bookmark")},findMarksAt:function(a){var d=[],y=Cn(this,(a=nt(this,a)).line).markedSpans;if(y)for(var v=0;v<y.length;++v){var b=y[v];(null==b.from||b.from<=a.ch)&&(null==b.to||b.to>=a.ch)&&d.push(b.marker.parent||b.marker)}return d},findMarks:function(a,d,y){a=nt(this,a),d=nt(this,d);var v=[],b=a.line;return this.iter(a.line,d.line+1,function(B){var G=B.markedSpans;if(G)for(var X=0;X<G.length;X++){var ee=G[X];!(null!=ee.to&&b==a.line&&a.ch>=ee.to||null==ee.from&&b!=a.line||null!=ee.from&&b==d.line&&ee.from>=d.ch)&&(!y||y(ee.marker))&&v.push(ee.marker.parent||ee.marker)}++b}),v},getAllMarks:function(){var a=[];return this.iter(function(d){var y=d.markedSpans;if(y)for(var v=0;v<y.length;++v)null!=y[v].from&&a.push(y[v].marker)}),a},posFromIndex:function(a){var d,y=this.first,v=this.lineSeparator().length;return this.iter(function(b){var B=b.text.length+v;if(B>a)return d=a,!0;a-=B,++y}),nt(this,St(y,d))},indexFromPos:function(a){var d=(a=nt(this,a)).ch;if(a.line<this.first||a.ch<0)return 0;var y=this.lineSeparator().length;return this.iter(this.first,a.line,function(v){d+=v.text.length+y}),d},copy:function(a){var d=new Hn($a(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return d.scrollTop=this.scrollTop,d.scrollLeft=this.scrollLeft,d.sel=this.sel,d.extend=!1,a&&(d.history.undoDepth=this.history.undoDepth,d.setHistory(this.getHistory())),d},linkedDoc:function(a){a||(a={});var d=this.first,y=this.first+this.size;null!=a.from&&a.from>d&&(d=a.from),null!=a.to&&a.to<y&&(y=a.to);var v=new Hn($a(this,d,y),a.mode||this.modeOption,d,this.lineSep,this.direction);return a.sharedHist&&(v.history=this.history),(this.linked||(this.linked=[])).push({doc:v,sharedHist:a.sharedHist}),v.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],function eu(a,d){for(var y=0;y<d.length;y++){var v=d[y],b=v.find(),B=a.clipPos(b.from),G=a.clipPos(b.to);if(Yn(B,G)){var X=xc(a,B,G,v.primary,v.primary.type);v.markers.push(X),X.parent=v}}}(v,Fp(this)),v},unlinkDoc:function(a){if(a instanceof ai&&(a=a.doc),this.linked)for(var d=0;d<this.linked.length;++d)if(this.linked[d].doc==a){this.linked.splice(d,1),a.unlinkDoc(this),Rt(Fp(this));break}if(a.history==this.history){var v=[a.id];ps(a,function(b){return v.push(b.id)},!0),a.history=new wc(null),a.history.done=_c(this.history.done,v),a.history.undone=_c(this.history.undone,v)}},iterLinkedDocs:function(a){ps(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):vu(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Lo(function(a){"rtl"!=a&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(d){return d.order=null}),this.cm&&function xh(a){la(a,function(){Np(a),ao(a)})}(this.cm))})}),Hn.prototype.eachLine=Hn.prototype.iter;var bi=0;function zo(a){var d=this;if(gs(d),!Zi(d,a)&&!ml(d.display,a)){Vi(a),C&&(bi=+new Date);var y=Ui(d,a,!0),v=a.dataTransfer.files;if(y&&!d.isReadOnly())if(v&&v.length&&window.FileReader&&window.File)for(var b=v.length,B=Array(b),G=0,X=function(){++G==b&&Co(d,function(){var je={from:y=nt(d.doc,y),to:y,text:d.doc.splitLines(B.filter(function(pt){return null!=pt}).join(d.doc.lineSeparator())),origin:"paste"};Cc(d.doc,je),Fa(d.doc,wa(nt(d.doc,y),nt(d.doc,Fo(je))))})()},ee=function(je,pt){if(d.options.allowDropFileTypes&&-1==rt(d.options.allowDropFileTypes,je.type))X();else{var bt=new FileReader;bt.onerror=function(){return X()},bt.onload=function(){var Ut=bt.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Ut)||(B[pt]=Ut),X()},bt.readAsText(je)}},ce=0;ce<v.length;ce++)ee(v[ce],ce);else{if(d.state.draggingText&&d.doc.sel.contains(y)>-1)return d.state.draggingText(a),void setTimeout(function(){return d.display.input.focus()},20);try{var xe=a.dataTransfer.getData("Text");if(xe){var Le;if(d.state.draggingText&&!d.state.draggingText.copy&&(Le=d.listSelections()),Cd(d.doc,wa(y,y)),Le)for(var $e=0;$e<Le.length;++$e)Ql(d.doc,"",Le[$e].anchor,Le[$e].head,"drag");d.replaceSelection(xe,"around","paste"),d.display.input.focus()}}catch{}}}}function gs(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Md(a){if(document.getElementsByClassName){for(var d=document.getElementsByClassName("CodeMirror"),y=[],v=0;v<d.length;v++){var b=d[v].CodeMirror;b&&y.push(b)}y.length&&y[0].operation(function(){for(var B=0;B<y.length;B++)a(y[B])})}}var fo=!1;function wi(){fo||(function gy(){var a;_n(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null,Md(Bp)},100))}),_n(window,"blur",function(){return Md(vi)})}(),fo=!0)}function Bp(a){var d=a.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.scrollbarsClipped=!1,a.setSize()}for(var Wi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},xr=0;xr<10;xr++)Wi[xr+48]=Wi[xr+96]=String(xr);for(var tu=65;tu<=90;tu++)Wi[tu]=String.fromCharCode(tu);for(var Ls=1;Ls<=12;Ls++)Wi[Ls+111]=Wi[Ls+63235]="F"+Ls;var Uo={};function Tc(a){var d=a.split(/-(?!$)/);a=d[d.length-1];for(var y,v,b,B,G=0;G<d.length-1;G++){var X=d[G];if(/^(cmd|meta|m)$/i.test(X))B=!0;else if(/^a(lt)?$/i.test(X))y=!0;else if(/^(c|ctrl|control)$/i.test(X))v=!0;else{if(!/^s(hift)?$/i.test(X))throw new Error("Unrecognized modifier name: "+X);b=!0}}return y&&(a="Alt-"+a),v&&(a="Ctrl-"+a),B&&(a="Cmd-"+a),b&&(a="Shift-"+a),a}function Vp(a){var d={};for(var y in a)if(a.hasOwnProperty(y)){var v=a[y];if(/^(name|fallthrough|(de|at)tach)$/.test(y))continue;if("..."==v){delete a[y];continue}for(var b=Vn(y.split(" "),Tc),B=0;B<b.length;B++){var G=void 0,X=void 0;B==b.length-1?(X=b.join(" "),G=v):(X=b.slice(0,B+1).join(" "),G="...");var ee=d[X];if(ee){if(ee!=G)throw new Error("Inconsistent bindings for "+X)}else d[X]=G}delete a[y]}for(var ce in d)a[ce]=d[ce];return a}function rl(a,d,y,v){var b=(d=Ad(d)).call?d.call(a,v):d[a];if(!1===b)return"nothing";if("..."===b)return"multi";if(null!=b&&y(b))return"handled";if(d.fallthrough){if("[object Array]"!=Object.prototype.toString.call(d.fallthrough))return rl(a,d.fallthrough,y,v);for(var B=0;B<d.fallthrough.length;B++){var G=rl(a,d.fallthrough[B],y,v);if(G)return G}}}function Hp(a){var d="string"==typeof a?a:Wi[a.keyCode];return"Ctrl"==d||"Alt"==d||"Shift"==d||"Mod"==d}function Id(a,d,y){var v=a;return d.altKey&&"Alt"!=v&&(a="Alt-"+a),(Z?d.metaKey:d.ctrlKey)&&"Ctrl"!=v&&(a="Ctrl-"+a),(Z?d.ctrlKey:d.metaKey)&&"Mod"!=v&&(a="Cmd-"+a),!y&&d.shiftKey&&"Shift"!=v&&(a="Shift-"+a),a}function Of(a,d){if(k&&34==a.keyCode&&a.char)return!1;var y=Wi[a.keyCode];return null!=y&&!a.altGraphKey&&(3==a.keyCode&&a.code&&(y=a.code),Id(y,a,d))}function Ad(a){return"string"==typeof a?Uo[a]:a}function Fs(a,d){for(var y=a.doc.sel.ranges,v=[],b=0;b<y.length;b++){for(var B=d(y[b]);v.length&&Yn(B.from,wn(v).to)<=0;){var G=v.pop();if(Yn(G.from,B.from)<0){B.from=G.from;break}}v.push(B)}la(a,function(){for(var X=v.length-1;X>=0;X--)Ql(a.doc,"",v[X].from,v[X].to,"+delete");Za(a)})}function Nf(a,d,y){var v=Ts(a.text,d+y,y);return v<0||v>a.text.length?null:v}function Sc(a,d,y){var v=Nf(a,d.ch,y);return null==v?null:new St(d.line,v,y<0?"after":"before")}function nu(a,d,y,v,b){if(a){"rtl"==d.doc.direction&&(b=-b);var B=Wa(y,d.doc.direction);if(B){var ce,G=b<0?wn(B):B[0],ee=b<0==(1==G.level)?"after":"before";if(G.level>0||"rtl"==d.doc.direction){var xe=Wl(d,y),Le=Rs(d,xe,ce=b<0?y.text.length-1:0).top;ce=Nn(function($e){return Rs(d,xe,$e).top==Le},b<0==(1==G.level)?G.from:G.to-1,ce),"before"==ee&&(ce=Nf(y,ce,1))}else ce=b<0?G.to:G.from;return new St(v,ce,ee)}}return new St(v,b<0?y.text.length:0,b<0?"before":"after")}Uo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Uo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Uo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Uo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Uo.default=ae?Uo.macDefault:Uo.pcDefault;var Mc={selectAll:ql,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Tt)},killLine:function(a){return Fs(a,function(d){if(d.empty()){var y=Cn(a.doc,d.head.line).text.length;return d.head.ch==y&&d.head.line<a.lastLine()?{from:d.head,to:St(d.head.line+1,0)}:{from:d.head,to:St(d.head.line,y)}}return{from:d.from(),to:d.to()}})},deleteLine:function(a){return Fs(a,function(d){return{from:St(d.from().line,0),to:nt(a.doc,St(d.to().line+1,0))}})},delLineLeft:function(a){return Fs(a,function(d){return{from:St(d.from().line,0),to:d.from()}})},delWrappedLineLeft:function(a){return Fs(a,function(d){var y=a.charCoords(d.head,"div").top+5;return{from:a.coordsChar({left:0,top:y},"div"),to:d.from()}})},delWrappedLineRight:function(a){return Fs(a,function(d){var y=a.charCoords(d.head,"div").top+5,v=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:y},"div");return{from:d.from(),to:v}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(St(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(St(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(d){return Od(a,d.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(d){return xo(a,d.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(d){return function Nd(a,d){var y=Cn(a.doc,d),v=function Ya(a){for(var d;d=Na(a);)a=d.find(1,!0).line;return a}(y);return v!=y&&(d=Pr(v)),nu(!0,a,y,d,-1)}(a,d.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(d){var y=a.cursorCoords(d.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:y},"div")},Jn)},goLineLeft:function(a){return a.extendSelectionsBy(function(d){var y=a.cursorCoords(d.head,"div").top+5;return a.coordsChar({left:0,top:y},"div")},Jn)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(d){var y=a.cursorCoords(d.head,"div").top+5,v=a.coordsChar({left:0,top:y},"div");return v.ch<a.getLine(v.line).search(/\S/)?xo(a,d.head):v},Jn)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},insertSoftTab:function(a){for(var d=[],y=a.listSelections(),v=a.options.tabSize,b=0;b<y.length;b++){var B=y[b].from(),G=cn(a.getLine(B.line),B.ch,v);d.push(Cr(v-G%v))}a.replaceSelections(d)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return la(a,function(){for(var d=a.listSelections(),y=[],v=0;v<d.length;v++)if(d[v].empty()){var b=d[v].head,B=Cn(a.doc,b.line).text;if(B)if(b.ch==B.length&&(b=new St(b.line,b.ch-1)),b.ch>0)b=new St(b.line,b.ch+1),a.replaceRange(B.charAt(b.ch-1)+B.charAt(b.ch-2),St(b.line,b.ch-2),b,"+transpose");else if(b.line>a.doc.first){var G=Cn(a.doc,b.line-1).text;G&&(b=new St(b.line,1),a.replaceRange(B.charAt(0)+a.doc.lineSeparator()+G.charAt(G.length-1),St(b.line-1,G.length-1),b,"+transpose"))}y.push(new Wr(b,b))}a.setSelections(y)})},newlineAndIndent:function(a){return la(a,function(){for(var d=a.listSelections(),y=d.length-1;y>=0;y--)a.replaceRange(a.doc.lineSeparator(),d[y].anchor,d[y].head,"+input");d=a.listSelections();for(var v=0;v<d.length;v++)a.indentLine(d[v].from().line,null,!0);Za(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function Od(a,d){var y=Cn(a.doc,d),v=tr(y);return v!=y&&(d=Pr(v)),nu(!0,a,v,d,1)}function xo(a,d){var y=Od(a,d.line),v=Cn(a.doc,y.line),b=Wa(v,a.doc.direction);if(!b||0==b[0].level){var B=Math.max(y.ch,v.text.search(/\S/));return St(y.line,d.line==y.line&&d.ch<=B&&d.ch?0:B,y.sticky)}return y}function ru(a,d,y){if("string"==typeof d&&!(d=Mc[d]))return!1;a.display.input.ensurePolled();var v=a.display.shift,b=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),y&&(a.display.shift=!1),b=d(a)!=Ft}finally{a.display.shift=v,a.state.suppressEdits=!1}return b}var Do=new lt;function ts(a,d,y,v){var b=a.state.keySeq;if(b){if(Hp(d))return"handled";if(/\'$/.test(d)?a.state.keySeq=null:Do.set(50,function(){a.state.keySeq==b&&(a.state.keySeq=null,a.display.input.reset())}),Hr(a,b+" "+d,y,v))return!0}return Hr(a,d,y,v)}function Hr(a,d,y,v){var b=function mm(a,d,y){for(var v=0;v<a.state.keyMaps.length;v++){var b=rl(d,a.state.keyMaps[v],y,a);if(b)return b}return a.options.extraKeys&&rl(d,a.options.extraKeys,y,a)||rl(d,a.options.keyMap,y,a)}(a,d,v);return"multi"==b&&(a.state.keySeq=d),"handled"==b&&bo(a,"keyHandled",a,d,y),("handled"==b||"multi"==b)&&(Vi(y),aa(a)),!!b}function Rd(a,d){var y=Of(d,!0);return!!y&&(d.shiftKey&&!a.state.keySeq?ts(a,"Shift-"+y,d,function(v){return ru(a,v,!0)})||ts(a,y,d,function(v){if("string"==typeof v?/^go[A-Z]/.test(v):v.motion)return ru(a,v)}):ts(a,y,d,function(v){return ru(a,v)}))}var To=null;function kd(a){var d=this;if(!(a.target&&a.target!=d.display.input.getField()||(d.curOp.focus=ft(Zt(d)),Zi(d,a)))){C&&T<11&&27==a.keyCode&&(a.returnValue=!1);var y=a.keyCode;d.display.shift=16==y||a.shiftKey;var v=Rd(d,a);k&&(To=v?y:null,!v&&88==y&&!No&&(ae?a.metaKey:a.ctrlKey)&&d.replaceSelection("",null,"cut")),S&&!ae&&!v&&46==y&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==y&&!/\bCodeMirror-crosshair\b/.test(d.display.lineDiv.className)&&function qo(a){var d=a.display.lineDiv;function y(v){(18==v.keyCode||!v.altKey)&&(me(d,"CodeMirror-crosshair"),go(document,"keyup",y),go(document,"mouseover",y))}Ye(d,"CodeMirror-crosshair"),_n(document,"keyup",y),_n(document,"mouseover",y)}(d)}}function Go(a){16==a.keyCode&&(this.doc.sel.shift=!1),Zi(this,a)}function Pd(a){var d=this;if(!(a.target&&a.target!=d.display.input.getField()||ml(d.display,a)||Zi(d,a)||a.ctrlKey&&!a.altKey||ae&&a.metaKey)){var y=a.keyCode,v=a.charCode;if(k&&y==To)return To=null,void Vi(a);if(!k||a.which&&!(a.which<10)||!Rd(d,a)){var b=String.fromCharCode(v??y);"\b"!=b&&(function Nh(a,d,y){return ts(a,"'"+y+"'",d,function(v){return ru(a,v,!0)})}(d,a,b)||d.display.input.onKeyPress(a))}}}var ms,vs,Dl=function(a,d,y){this.time=a,this.pos=d,this.button=y};function Rf(a){var d=this,y=d.display;if(!(Zi(d,a)||y.activeTouch&&y.input.supportsTouch())){if(y.input.ensurePolled(),y.shift=a.shiftKey,ml(y,a))return void(N||(y.scroller.draggable=!1,setTimeout(function(){return y.scroller.draggable=!0},100)));if(!kf(d,a)){var v=Ui(d,a),b=Jc(a),B=v?function Ou(a,d){var y=+new Date;return vs&&vs.compare(y,a,d)?(ms=vs=null,"triple"):ms&&ms.compare(y,a,d)?(vs=new Dl(y,a,d),ms=null,"double"):(ms=new Dl(y,a,d),vs=null,"single")}(v,b):"single";Ht(d).focus(),1==b&&d.state.selectingText&&d.state.selectingText(a),(!v||!function Up(a,d,y,v,b){var B="Click";return"double"==v?B="Double"+B:"triple"==v&&(B="Triple"+B),ts(a,Id(B=(1==d?"Left":2==d?"Middle":"Right")+B,b),b,function(G){if("string"==typeof G&&(G=Mc[G]),!G)return!1;var X=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),X=G(a,y)!=Ft}finally{a.state.suppressEdits=!1}return X})}(d,b,v,B,a))&&(1==b?v?function Gp(a,d,y,v){C?setTimeout(It(gc,a),0):a.curOp.focus=ft(Zt(a));var G,b=function Nu(a,d,y){var v=a.getOption("configureMouse"),b=v?v(a,d,y):{};return null==b.unit&&(b.unit=(de?y.shiftKey&&y.metaKey:y.altKey)?"rectangle":"single"==d?"char":"double"==d?"word":"line"),(null==b.extend||a.doc.extend)&&(b.extend=a.doc.extend||y.shiftKey),null==b.addNew&&(b.addNew=ae?y.metaKey:y.ctrlKey),null==b.moveOnDrag&&(b.moveOnDrag=!(ae?y.altKey:y.ctrlKey)),b}(a,y,v),B=a.doc.sel;a.options.dragDrop&&os&&!a.isReadOnly()&&"single"==y&&(G=B.contains(d))>-1&&(Yn((G=B.ranges[G]).from(),d)<0||d.xRel>0)&&(Yn(G.to(),d)>0||d.xRel<0)?function Ru(a,d,y,v){var b=a.display,B=!1,G=Co(a,function(ce){N&&(b.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:_o(a)),go(b.wrapper.ownerDocument,"mouseup",G),go(b.wrapper.ownerDocument,"mousemove",X),go(b.scroller,"dragstart",ee),go(b.scroller,"drop",G),B||(Vi(ce),v.addNew||bd(a.doc,y,null,null,v.extend),N&&!H||C&&9==T?setTimeout(function(){b.wrapper.ownerDocument.body.focus({preventScroll:!0}),b.input.focus()},20):b.input.focus())}),X=function(ce){B=B||Math.abs(d.clientX-ce.clientX)+Math.abs(d.clientY-ce.clientY)>=10},ee=function(){return B=!0};N&&(b.scroller.draggable=!0),a.state.draggingText=G,G.copy=!v.moveOnDrag,_n(b.wrapper.ownerDocument,"mouseup",G),_n(b.wrapper.ownerDocument,"mousemove",X),_n(b.scroller,"dragstart",ee),_n(b.scroller,"drop",G),a.state.delayingBlurEvent=!0,setTimeout(function(){return b.input.focus()},20),b.scroller.dragDrop&&b.scroller.dragDrop()}(a,v,d,b):function jp(a,d,y,v){C&&_o(a);var b=a.display,B=a.doc;Vi(d);var G,X,ee=B.sel,ce=ee.ranges;if(v.addNew&&!v.extend?(X=B.sel.contains(y),G=X>-1?ce[X]:new Wr(y,y)):(G=B.sel.primary(),X=B.sel.primIndex),"rectangle"==v.unit)v.addNew||(G=new Wr(y,y)),y=Ui(a,d,!0,!0),X=-1;else{var xe=Ic(a,y,v.unit);G=v.extend?If(G,xe.anchor,xe.head,v.extend):xe}v.addNew?-1==X?(X=ce.length,Eo(B,ua(a,ce.concat([G]),X),{scroll:!1,origin:"*mouse"})):ce.length>1&&ce[X].empty()&&"char"==v.unit&&!v.extend?(Eo(B,ua(a,ce.slice(0,X).concat(ce.slice(X+1)),0),{scroll:!1,origin:"*mouse"}),ee=B.sel):Sh(B,X,G,Kn):(X=0,Eo(B,new ba([G],0),Kn),ee=B.sel);var Le=y;function $e(Xt){if(0!=Yn(Le,Xt))if(Le=Xt,"rectangle"==v.unit){for(var $t=[],kn=a.options.tabSize,En=cn(Cn(B,y.line).text,y.ch,kn),nr=cn(Cn(B,Xt.line).text,Xt.ch,kn),dr=Math.min(En,nr),Ai=Math.max(En,nr),Ei=Math.min(y.line,Xt.line),jo=Math.min(a.lastLine(),Math.max(y.line,Xt.line));Ei<=jo;Ei++){var $i=Cn(B,Ei).text,Oi=Tr($i,dr,kn);dr==Ai?$t.push(new Wr(St(Ei,Oi),St(Ei,Oi))):$i.length>Oi&&$t.push(new Wr(St(Ei,Oi),St(Ei,Tr($i,Ai,kn))))}$t.length||$t.push(new Wr(y,y)),Eo(B,ua(a,ee.ranges.slice(0,X).concat($t),X),{origin:"*mouse",scroll:!1}),a.scrollIntoView(Xt)}else{var zr,da=G,Wo=Ic(a,Xt,v.unit),So=da.anchor;Yn(Wo.anchor,So)>0?(zr=Wo.head,So=Re(da.from(),Wo.anchor)):(zr=Wo.anchor,So=Oe(da.to(),Wo.head));var xi=ee.ranges.slice(0);xi[X]=function my(a,d){var y=d.anchor,v=d.head,b=Cn(a.doc,y.line);if(0==Yn(y,v)&&y.sticky==v.sticky)return d;var B=Wa(b);if(!B)return d;var G=Xo(B,y.ch,y.sticky),X=B[G];if(X.from!=y.ch&&X.to!=y.ch)return d;var ce,ee=G+(X.from==y.ch==(1!=X.level)?0:1);if(0==ee||ee==B.length)return d;if(v.line!=y.line)ce=(v.line-y.line)*("ltr"==a.doc.direction?1:-1)>0;else{var xe=Xo(B,v.ch,v.sticky),Le=xe-G||(v.ch-y.ch)*(1==X.level?-1:1);ce=xe==ee-1||xe==ee?Le<0:Le>0}var $e=B[ee+(ce?-1:0)],je=ce==(1==$e.level),pt=je?$e.from:$e.to,bt=je?"after":"before";return y.ch==pt&&y.sticky==bt?d:new Wr(new St(y.line,pt,bt),v)}(a,new Wr(nt(B,So),zr)),Eo(B,ua(a,xi,X),Kn)}}var je=b.wrapper.getBoundingClientRect(),pt=0;function bt(Xt){var $t=++pt,kn=Ui(a,Xt,!0,"rectangle"==v.unit);if(kn)if(0!=Yn(kn,Le)){a.curOp.focus=ft(Zt(a)),$e(kn);var En=Zn(b,B);(kn.line>=En.to||kn.line<En.from)&&setTimeout(Co(a,function(){pt==$t&&bt(Xt)}),150)}else{var nr=Xt.clientY<je.top?-20:Xt.clientY>je.bottom?20:0;nr&&setTimeout(Co(a,function(){pt==$t&&(b.scroller.scrollTop+=nr,bt(Xt))}),50)}}function Ut(Xt){a.state.selectingText=!1,pt=1/0,Xt&&(Vi(Xt),b.input.focus()),go(b.wrapper.ownerDocument,"mousemove",jt),go(b.wrapper.ownerDocument,"mouseup",Qt),B.history.lastSelOrigin=null}var jt=Co(a,function(Xt){0!==Xt.buttons&&Jc(Xt)?bt(Xt):Ut(Xt)}),Qt=Co(a,Ut);a.state.selectingText=Qt,_n(b.wrapper.ownerDocument,"mousemove",jt),_n(b.wrapper.ownerDocument,"mouseup",Qt)}(a,v,d,b)}(d,v,B,a):Zs(a)==y.scroller&&Vi(a):2==b?(v&&bd(d.doc,v),setTimeout(function(){return y.input.focus()},20)):3==b&&(oe?d.display.input.onContextMenu(a):_o(d)))}}}function Ic(a,d,y){if("char"==y)return new Wr(d,d);if("word"==y)return a.findWordAt(d);if("line"==y)return new Wr(St(d.line,0),nt(a.doc,St(d.line+1,0)));var v=y(a,d);return new Wr(v.from,v.to)}function Ld(a,d,y,v){var b,B;if(d.touches)b=d.touches[0].clientX,B=d.touches[0].clientY;else try{b=d.clientX,B=d.clientY}catch{return!1}if(b>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;v&&Vi(d);var G=a.display,X=G.lineDiv.getBoundingClientRect();if(B>X.bottom||!Si(a,y))return Qc(d);B-=X.top-G.viewOffset;for(var ee=0;ee<a.display.gutterSpecs.length;++ee){var ce=G.gutters.childNodes[ee];if(ce&&ce.getBoundingClientRect().right>=b)return pi(a,y,a,Qi(a.doc,B),a.display.gutterSpecs[ee].className,d),Qc(d)}}function kf(a,d){return Ld(a,d,"gutterClick",!0)}function Wp(a,d){ml(a.display,d)||function Pf(a,d){return!!Si(a,"gutterContextMenu")&&Ld(a,d,"gutterContextMenu",!1)}(a,d)||Zi(a,d,"contextmenu")||oe||a.display.input.onContextMenu(d)}function vm(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Yl(a)}Dl.prototype.compare=function(a,d,y){return this.time+400>a&&0==Yn(d,this.pos)&&y==this.button};var Fd={toString:function(){return"CodeMirror.Init"}},Rh={},ku={};function Bd(a,d,y){if(!d!=!(y&&y!=Fd)){var b=a.display.dragFunctions,B=d?_n:go;B(a.display.scroller,"dragstart",b.start),B(a.display.scroller,"dragenter",b.enter),B(a.display.scroller,"dragover",b.over),B(a.display.scroller,"dragleave",b.leave),B(a.display.scroller,"drop",b.drop)}}function kh(a){a.options.lineWrapping?(Ye(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(me(a.display.wrapper,"CodeMirror-wrap"),yu(a)),Br(a),ao(a),Yl(a),setTimeout(function(){return _l(a)},100)}function ai(a,d){var y=this;if(!(this instanceof ai))return new ai(a,d);this.options=d=d?mn(d):{},mn(Rh,d,!1);var v=d.value;"string"==typeof v?v=new Hn(v,d.mode,null,d.lineSeparator,d.direction):d.mode&&(v.modeOption=d.mode),this.doc=v;var b=new ai.inputStyles[d.inputStyle](this),B=this.display=new Eh(a,v,b,d);for(var G in B.wrapper.CodeMirror=this,vm(this),d.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Du(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new lt,keySeq:null,specialChars:null},d.autofocus&&!le&&B.input.focus(),C&&T<11&&setTimeout(function(){return y.display.input.reset(!0)},20),function vy(a){var d=a.display;_n(d.scroller,"mousedown",Co(a,Rf)),_n(d.scroller,"dblclick",C&&T<11?Co(a,function(ee){if(!Zi(a,ee)){var ce=Ui(a,ee);if(ce&&!kf(a,ee)&&!ml(a.display,ee)){Vi(ee);var xe=a.findWordAt(ce);bd(a.doc,xe.anchor,xe.head)}}}):function(ee){return Zi(a,ee)||Vi(ee)}),_n(d.scroller,"contextmenu",function(ee){return Wp(a,ee)}),_n(d.input.getField(),"contextmenu",function(ee){d.scroller.contains(ee.target)||Wp(a,ee)});var y,v={end:0};function b(){d.activeTouch&&(y=setTimeout(function(){return d.activeTouch=null},1e3),(v=d.activeTouch).end=+new Date)}function B(ee){if(1!=ee.touches.length)return!1;var ce=ee.touches[0];return ce.radiusX<=1&&ce.radiusY<=1}function G(ee,ce){if(null==ce.left)return!0;var xe=ce.left-ee.left,Le=ce.top-ee.top;return xe*xe+Le*Le>400}_n(d.scroller,"touchstart",function(ee){if(!Zi(a,ee)&&!B(ee)&&!kf(a,ee)){d.input.ensurePolled(),clearTimeout(y);var ce=+new Date;d.activeTouch={start:ce,moved:!1,prev:ce-v.end<=300?v:null},1==ee.touches.length&&(d.activeTouch.left=ee.touches[0].pageX,d.activeTouch.top=ee.touches[0].pageY)}}),_n(d.scroller,"touchmove",function(){d.activeTouch&&(d.activeTouch.moved=!0)}),_n(d.scroller,"touchend",function(ee){var ce=d.activeTouch;if(ce&&!ml(d,ee)&&null!=ce.left&&!ce.moved&&new Date-ce.start<300){var Le,xe=a.coordsChar(d.activeTouch,"page");Le=!ce.prev||G(ce,ce.prev)?new Wr(xe,xe):!ce.prev.prev||G(ce,ce.prev.prev)?a.findWordAt(xe):new Wr(St(xe.line,0),nt(a.doc,St(xe.line+1,0))),a.setSelection(Le.anchor,Le.head),a.focus(),Vi(ee)}b()}),_n(d.scroller,"touchcancel",b),_n(d.scroller,"scroll",function(){d.scroller.clientHeight&&(ur(a,d.scroller.scrollTop),qa(a,d.scroller.scrollLeft,!0),pi(a,"scroll",a))}),_n(d.scroller,"mousewheel",function(ee){return md(a,ee)}),_n(d.scroller,"DOMMouseScroll",function(ee){return md(a,ee)}),_n(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0}),d.dragFunctions={enter:function(ee){Zi(a,ee)||Ia(ee)},over:function(ee){Zi(a,ee)||(function Dc(a,d){var y=Ui(a,d);if(y){var v=document.createDocumentFragment();fn(a,y,v),a.display.dragCursor||(a.display.dragCursor=De("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),Te(a.display.dragCursor,v)}}(a,ee),Ia(ee))},start:function(ee){return function Oh(a,d){if(C&&(!a.state.draggingText||+new Date-bi<100))Ia(d);else if(!Zi(a,d)&&!ml(a.display,d)&&(d.dataTransfer.setData("Text",a.getSelection()),d.dataTransfer.effectAllowed="copyMove",d.dataTransfer.setDragImage&&!H)){var y=De("img",null,null,"position: fixed; left: 0; top: 0;");y.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",k&&(y.width=y.height=1,a.display.wrapper.appendChild(y),y._top=y.offsetTop),d.dataTransfer.setDragImage(y,0,0),k&&y.parentNode.removeChild(y)}}(a,ee)},drop:Co(a,zo),leave:function(ee){Zi(a,ee)||gs(a)}};var X=d.input.getField();_n(X,"keyup",function(ee){return Go.call(a,ee)}),_n(X,"keydown",Co(a,kd)),_n(X,"keypress",Co(a,Pd)),_n(X,"focus",function(ee){return bl(a,ee)}),_n(X,"blur",function(ee){return vi(a,ee)})}(this),wi(),ii(this),this.curOp.forceUpdate=!0,bc(this,v),d.autofocus&&!le||this.hasFocus()?setTimeout(function(){y.hasFocus()&&!y.state.focused&&bl(y)},20):vi(this),ku)ku.hasOwnProperty(G)&&ku[G](this,d[G],Fd);cm(this),d.finishInit&&d.finishInit(this);for(var X=0;X<Vd.length;++X)Vd[X](this);Xl(this),N&&d.lineWrapping&&"optimizelegibility"==getComputedStyle(B.lineDiv).textRendering&&(B.lineDiv.style.textRendering="auto")}ai.defaults=Rh,ai.optionHandlers=ku;var Vd=[];function Ac(a,d,y,v){var B,b=a.doc;null==y&&(y="add"),"smart"==y&&(b.mode.indent?B=Bt(a,d).state:y="prev");var G=a.options.tabSize,X=Cn(b,d),ee=cn(X.text,null,G);X.stateAfter&&(X.stateAfter=null);var xe,ce=X.text.match(/^\s*/)[0];if(v||/\S/.test(X.text)){if("smart"==y&&((xe=b.mode.indent(B,X.text.slice(ce.length),X.text))==Ft||xe>150)){if(!v)return;y="prev"}}else xe=0,y="not";"prev"==y?xe=d>b.first?cn(Cn(b,d-1).text,null,G):0:"add"==y?xe=ee+a.options.indentUnit:"subtract"==y?xe=ee-a.options.indentUnit:"number"==typeof y&&(xe=ee+y),xe=Math.max(0,xe);var Le="",$e=0;if(a.options.indentWithTabs)for(var je=Math.floor(xe/G);je;--je)$e+=G,Le+="\t";if($e<xe&&(Le+=Cr(xe-$e)),Le!=ce)return Ql(b,Le,St(d,0),St(d,ce.length),"+input"),X.stateAfter=null,!0;for(var pt=0;pt<b.sel.ranges.length;pt++){var bt=b.sel.ranges[pt];if(bt.head.line==d&&bt.head.ch<ce.length){var Ut=St(d,ce.length);Sh(b,pt,new Wr(Ut,Ut));break}}}ai.defineInitHook=function(a){return Vd.push(a)};var Bs=null;function ca(a){Bs=a}function Ph(a,d,y,v,b){var B=a.doc;a.display.shift=!1,v||(v=B.sel);var G=+new Date-200,X="paste"==b||a.state.pasteIncoming>G,ee=vu(d),ce=null;if(X&&v.ranges.length>1)if(Bs&&Bs.text.join("\n")==d){if(v.ranges.length%Bs.text.length==0){ce=[];for(var xe=0;xe<Bs.text.length;xe++)ce.push(B.splitLines(Bs.text[xe]))}}else ee.length==v.ranges.length&&a.options.pasteLinesPerSelection&&(ce=Vn(ee,function(jt){return[jt]}));for(var Le=a.curOp.updateInput,$e=v.ranges.length-1;$e>=0;$e--){var je=v.ranges[$e],pt=je.from(),bt=je.to();je.empty()&&(y&&y>0?pt=St(pt.line,pt.ch-y):a.state.overwrite&&!X?bt=St(bt.line,Math.min(Cn(B,bt.line).text.length,bt.ch+wn(ee).length)):X&&Bs&&Bs.lineWise&&Bs.text.join("\n")==ee.join("\n")&&(pt=bt=St(pt.line,0)));var Ut={from:pt,to:bt,text:ce?ce[$e%ce.length]:ee,origin:b||(X?"paste":a.state.cutIncoming>G?"cut":"+input")};Cc(a.doc,Ut),bo(a,"inputRead",a,Ut)}d&&!X&&Lf(a,d),Za(a),a.curOp.updateInput<2&&(a.curOp.updateInput=Le),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function Hd(a,d){var y=a.clipboardData&&a.clipboardData.getData("Text");if(y)return a.preventDefault(),!d.isReadOnly()&&!d.options.disableInput&&d.hasFocus()&&la(d,function(){return Ph(d,y,0,null,"paste")}),!0}function Lf(a,d){if(a.options.electricChars&&a.options.smartIndent)for(var y=a.doc.sel,v=y.ranges.length-1;v>=0;v--){var b=y.ranges[v];if(!(b.head.ch>100||v&&y.ranges[v-1].head.line==b.head.line)){var B=a.getModeAt(b.head),G=!1;if(B.electricChars){for(var X=0;X<B.electricChars.length;X++)if(d.indexOf(B.electricChars.charAt(X))>-1){G=Ac(a,b.head.line,"smart");break}}else B.electricInput&&B.electricInput.test(Cn(a.doc,b.head.line).text.slice(0,b.head.ch))&&(G=Ac(a,b.head.line,"smart"));G&&bo(a,"electricInput",a,b.head.line)}}}function Lh(a){for(var d=[],y=[],v=0;v<a.doc.sel.ranges.length;v++){var b=a.doc.sel.ranges[v].head.line,B={anchor:St(b,0),head:St(b+1,0)};y.push(B),d.push(a.getRange(B.anchor,B.head))}return{text:d,ranges:y}}function zd(a,d,y,v){a.setAttribute("autocorrect",y?"on":"off"),a.setAttribute("autocapitalize",v?"on":"off"),a.setAttribute("spellcheck",!!d)}function Ff(){var a=De("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),d=De("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return N?a.style.width="1000px":a.setAttribute("wrap","off"),ue&&(a.style.border="1px solid black"),d}function Bf(a,d,y,v,b){var B=d,G=y,X=Cn(a,d.line),ee=b&&"rtl"==a.direction?-y:y;function xe(Qt){var Xt;if("codepoint"==v){var $t=X.text.charCodeAt(d.ch+(y>0?0:-1));Xt=isNaN($t)?null:new St(d.line,Math.max(0,Math.min(X.text.length,d.ch+y*((y>0?$t>=55296&&$t<56320:$t>=56320&&$t<57343)?2:1))),-y)}else Xt=b?function zp(a,d,y,v){var b=Wa(d,a.doc.direction);if(!b)return Sc(d,y,v);y.ch>=d.text.length?(y.ch=d.text.length,y.sticky="before"):y.ch<=0&&(y.ch=0,y.sticky="after");var B=Xo(b,y.ch,y.sticky),G=b[B];if("ltr"==a.doc.direction&&G.level%2==0&&(v>0?G.to>y.ch:G.from<y.ch))return Sc(d,y,v);var ee,X=function(jt,Qt){return Nf(d,jt instanceof St?jt.ch:jt,Qt)},ce=function(jt){return a.options.lineWrapping?(ee=ee||Wl(a,d),Ap(a,d,ee,jt)):{begin:0,end:d.text.length}},xe=ce("before"==y.sticky?X(y,-1):y.ch);if("rtl"==a.doc.direction||1==G.level){var Le=1==G.level==v<0,$e=X(y,Le?1:-1);if(null!=$e&&(Le?$e<=G.to&&$e<=xe.end:$e>=G.from&&$e>=xe.begin))return new St(y.line,$e,Le?"before":"after")}var pt=function(jt,Qt,Xt){for(;jt>=0&&jt<b.length;jt+=Qt){var kn=b[jt],En=Qt>0==(1!=kn.level),nr=En?Xt.begin:X(Xt.end,-1);if(kn.from<=nr&&nr<kn.to||(nr=En?kn.from:X(kn.to,-1),Xt.begin<=nr&&nr<Xt.end))return dr=nr,En?new St(y.line,X(dr,1),"before"):new St(y.line,dr,"after")}var dr},bt=pt(B+v,v,xe);if(bt)return bt;var Ut=v>0?xe.end:X(xe.begin,-1);return null==Ut||v>0&&Ut==d.text.length||!(bt=pt(v>0?0:b.length-1,v,ce(Ut)))?null:bt}(a.cm,X,d,y):Sc(X,d,y);if(null==Xt){if(Qt||!function ce(){var Qt=d.line+ee;return!(Qt<a.first||Qt>=a.first+a.size)&&(d=new St(Qt,d.ch,d.sticky),X=Cn(a,Qt))}())return!1;d=nu(b,a.cm,X,d.line,ee)}else d=Xt;return!0}if("char"==v||"codepoint"==v)xe();else if("column"==v)xe(!0);else if("word"==v||"group"==v)for(var Le=null,$e="group"==v,je=a.cm&&a.cm.getHelper(d,"wordChars"),pt=!0;!(y<0)||xe(!pt);pt=!1){var bt=X.text.charAt(d.ch)||"\n",Ut=Bi(bt,je)?"w":$e&&"\n"==bt?"n":!$e||/\s/.test(bt)?null:"p";if($e&&!pt&&!Ut&&(Ut="s"),Le&&Le!=Ut){y<0&&(y=1,xe(),d.sticky="after");break}if(Ut&&(Le=Ut),y>0&&!xe(!pt))break}var jt=Ps(a,d,B,G,!0);return id(B,jt)&&(jt.hitSide=!0),jt}function Vf(a,d,y,v){var G,ce,b=a.doc,B=d.left;if("page"==v){var X=Math.min(a.display.wrapper.clientHeight,Ht(a).innerHeight||b(a).documentElement.clientHeight),ee=Math.max(X-.5*Jr(a.display),3);G=(y>0?d.bottom:d.top)+y*ee}else"line"==v&&(G=y>0?d.bottom+3:d.top-3);for(;(ce=wf(a,B,G)).outside;){if(y<0?G<=0:G>=b.height){ce.hitSide=!0;break}G+=5*y}return ce}var Kr=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new lt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ud(a,d){var y=jl(a,d.line);if(!y||y.hidden)return null;var v=Cn(a.doc,d.line),b=vf(y,v,d.line),B=Wa(v,a.doc.direction),G="left";B&&(G=Xo(B,d.ch)%2?"right":"left");var ee=_u(b.map,d.ch,G);return ee.offset="right"==ee.collapse?ee.end:ee.start,ee}function il(a,d){return d&&(a.bad=!0),a}function Gd(a,d,y){var v;if(d==a.display.lineDiv){if(!(v=a.display.lineDiv.childNodes[y]))return il(a.clipPos(St(a.display.viewTo-1)),!0);d=null,y=0}else for(v=d;;v=v.parentNode){if(!v||v==a.display.lineDiv)return null;if(v.parentNode&&v.parentNode==a.display.lineDiv)break}for(var b=0;b<a.display.view.length;b++){var B=a.display.view[b];if(B.node==v)return Yp(B,d,y)}}function Yp(a,d,y){var v=a.text.firstChild,b=!1;if(!d||!at(v,d))return il(St(Pr(a.line),0),!0);if(d==v&&(b=!0,d=v.childNodes[y],y=0,!d)){var B=a.rest?wn(a.rest):a.line;return il(St(Pr(B),B.text.length),b)}var G=3==d.nodeType?d:null,X=d;for(!G&&1==d.childNodes.length&&3==d.firstChild.nodeType&&(G=d.firstChild,y&&(y=G.nodeValue.length));X.parentNode!=v;)X=X.parentNode;var ee=a.measure,ce=ee.maps;function xe(Ut,jt,Qt){for(var Xt=-1;Xt<(ce?ce.length:0);Xt++)for(var $t=Xt<0?ee.map:ce[Xt],kn=0;kn<$t.length;kn+=3){var En=$t[kn+2];if(En==Ut||En==jt){var nr=Pr(Xt<0?a.line:a.rest[Xt]),dr=$t[kn]+Qt;return(Qt<0||En!=Ut)&&(dr=$t[kn+(Qt?1:0)]),St(nr,dr)}}}var Le=xe(G,X,y);if(Le)return il(Le,b);for(var $e=X.nextSibling,je=G?G.nodeValue.length-y:0;$e;$e=$e.nextSibling){if(Le=xe($e,$e.firstChild,0))return il(St(Le.line,Le.ch-je),b);je+=$e.textContent.length}for(var pt=X.previousSibling,bt=y;pt;pt=pt.previousSibling){if(Le=xe(pt,pt.firstChild,-1))return il(St(Le.line,Le.ch+bt),b);bt+=pt.textContent.length}}Kr.prototype.init=function(a){var d=this,y=this,v=y.cm,b=y.div=a.lineDiv;function B(X){for(var ee=X.target;ee;ee=ee.parentNode){if(ee==b)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ee.className))break}return!1}function G(X){if(B(X)&&!Zi(v,X)){if(v.somethingSelected())ca({lineWise:!1,text:v.getSelections()}),"cut"==X.type&&v.replaceSelection("",null,"cut");else{if(!v.options.lineWiseCopyCut)return;var ee=Lh(v);ca({lineWise:!0,text:ee.text}),"cut"==X.type&&v.operation(function(){v.setSelections(ee.ranges,0,Tt),v.replaceSelection("",null,"cut")})}if(X.clipboardData){X.clipboardData.clearData();var ce=Bs.text.join("\n");if(X.clipboardData.setData("Text",ce),X.clipboardData.getData("Text")==ce)return void X.preventDefault()}var xe=Ff(),Le=xe.firstChild;zd(Le),v.display.lineSpace.insertBefore(xe,v.display.lineSpace.firstChild),Le.value=Bs.text.join("\n");var $e=ft(b.ownerDocument);Xe(Le),setTimeout(function(){v.display.lineSpace.removeChild(xe),$e.focus(),$e==b&&y.showPrimarySelection()},50)}}b.contentEditable=!0,zd(b,v.options.spellcheck,v.options.autocorrect,v.options.autocapitalize),_n(b,"paste",function(X){!B(X)||Zi(v,X)||Hd(X,v)||T<=11&&setTimeout(Co(v,function(){return d.updateFromDOM()}),20)}),_n(b,"compositionstart",function(X){d.composing={data:X.data,done:!1}}),_n(b,"compositionupdate",function(X){d.composing||(d.composing={data:X.data,done:!1})}),_n(b,"compositionend",function(X){d.composing&&(X.data!=d.composing.data&&d.readFromDOMSoon(),d.composing.done=!0)}),_n(b,"touchstart",function(){return y.forceCompositionEnd()}),_n(b,"input",function(){d.composing||d.readFromDOMSoon()}),_n(b,"copy",G),_n(b,"cut",G)},Kr.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},Kr.prototype.prepareSelection=function(){var a=lo(this.cm,!1);return a.focus=ft(this.div.ownerDocument)==this.div,a},Kr.prototype.showSelection=function(a,d){!a||!this.cm.display.view.length||((a.focus||d)&&this.showPrimarySelection(),this.showMultipleSelections(a))},Kr.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Kr.prototype.showPrimarySelection=function(){var a=this.getSelection(),d=this.cm,y=d.doc.sel.primary(),v=y.from(),b=y.to();if(d.display.viewTo==d.display.viewFrom||v.line>=d.display.viewTo||b.line<d.display.viewFrom)a.removeAllRanges();else{var B=Gd(d,a.anchorNode,a.anchorOffset),G=Gd(d,a.focusNode,a.focusOffset);if(!B||B.bad||!G||G.bad||0!=Yn(Re(B,G),v)||0!=Yn(Oe(B,G),b)){var X=d.display.view,ee=v.line>=d.display.viewFrom&&Ud(d,v)||{node:X[0].measure.map[2],offset:0},ce=b.line<d.display.viewTo&&Ud(d,b);if(!ce){var xe=X[X.length-1].measure,Le=xe.maps?xe.maps[xe.maps.length-1]:xe.map;ce={node:Le[Le.length-1],offset:Le[Le.length-2]-Le[Le.length-3]}}if(!ee||!ce)return void a.removeAllRanges();var je,$e=a.rangeCount&&a.getRangeAt(0);try{je=Be(ee.node,ee.offset,ce.offset,ce.node)}catch{}je&&(!S&&d.state.focused?(a.collapse(ee.node,ee.offset),je.collapsed||(a.removeAllRanges(),a.addRange(je))):(a.removeAllRanges(),a.addRange(je)),$e&&null==a.anchorNode?a.addRange($e):S&&this.startGracePeriod()),this.rememberSelection()}}},Kr.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},Kr.prototype.showMultipleSelections=function(a){Te(this.cm.display.cursorDiv,a.cursors),Te(this.cm.display.selectionDiv,a.selection)},Kr.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},Kr.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var d=a.getRangeAt(0).commonAncestorContainer;return at(this.div,d)},Kr.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||ft(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Kr.prototype.blur=function(){this.div.blur()},Kr.prototype.getField=function(){return this.div},Kr.prototype.supportsTouch=function(){return!0},Kr.prototype.receivedFocus=function(){var a=this,d=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):la(this.cm,function(){return d.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function y(){d.cm.state.focused&&(d.pollSelection(),d.polling.set(d.cm.options.pollInterval,y))})},Kr.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},Kr.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=this.getSelection(),d=this.cm;if(ne&&V&&this.cm.display.gutterSpecs.length&&function bm(a){for(var d=a;d;d=d.parentNode)if(/CodeMirror-gutter-wrapper/.test(d.className))return!0;return!1}(a.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var y=Gd(d,a.anchorNode,a.anchorOffset),v=Gd(d,a.focusNode,a.focusOffset);y&&v&&la(d,function(){Eo(d.doc,wa(y,v),Tt),(y.bad||v.bad)&&(d.curOp.selectionChanged=!0)})}}},Kr.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var B,G,X,a=this.cm,d=a.display,y=a.doc.sel.primary(),v=y.from(),b=y.to();if(0==v.ch&&v.line>a.firstLine()&&(v=St(v.line-1,Cn(a.doc,v.line-1).length)),b.ch==Cn(a.doc,b.line).text.length&&b.line<a.lastLine()&&(b=St(b.line+1,0)),v.line<d.viewFrom||b.line>d.viewTo-1)return!1;v.line==d.viewFrom||0==(B=oo(a,v.line))?(G=Pr(d.view[0].line),X=d.view[0].node):(G=Pr(d.view[B].line),X=d.view[B-1].node.nextSibling);var ce,xe,ee=oo(a,b.line);if(ee==d.view.length-1?(ce=d.viewTo-1,xe=d.lineDiv.lastChild):(ce=Pr(d.view[ee+1].line)-1,xe=d.view[ee+1].node.previousSibling),!X)return!1;for(var Le=a.doc.splitLines(function Pu(a,d,y,v,b){var B="",G=!1,X=a.doc.lineSeparator(),ee=!1;function xe(){G&&(B+=X,ee&&(B+=X),G=ee=!1)}function Le(je){je&&(xe(),B+=je)}function $e(je){if(1==je.nodeType){var pt=je.getAttribute("cm-text");if(pt)return void Le(pt);var Ut,bt=je.getAttribute("cm-marker");if(bt){var jt=a.findMarks(St(v,0),St(b+1,0),function ce(je){return function(pt){return pt.id==je}}(+bt));return void(jt.length&&(Ut=jt[0].find(0))&&Le(li(a.doc,Ut.from,Ut.to).join(X)))}if("false"==je.getAttribute("contenteditable"))return;var Qt=/^(pre|div|p|li|table|br)$/i.test(je.nodeName);if(!/^br$/i.test(je.nodeName)&&0==je.textContent.length)return;Qt&&xe();for(var Xt=0;Xt<je.childNodes.length;Xt++)$e(je.childNodes[Xt]);/^(pre|p)$/i.test(je.nodeName)&&(ee=!0),Qt&&(G=!0)}else 3==je.nodeType&&Le(je.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;$e(d),d!=y;)d=d.nextSibling,ee=!1;return B}(a,X,xe,G,ce)),$e=li(a.doc,St(G,0),St(ce,Cn(a.doc,ce).text.length));Le.length>1&&$e.length>1;)if(wn(Le)==wn($e))Le.pop(),$e.pop(),ce--;else{if(Le[0]!=$e[0])break;Le.shift(),$e.shift(),G++}for(var je=0,pt=0,bt=Le[0],Ut=$e[0],jt=Math.min(bt.length,Ut.length);je<jt&&bt.charCodeAt(je)==Ut.charCodeAt(je);)++je;for(var Qt=wn(Le),Xt=wn($e),$t=Math.min(Qt.length-(1==Le.length?je:0),Xt.length-(1==$e.length?je:0));pt<$t&&Qt.charCodeAt(Qt.length-pt-1)==Xt.charCodeAt(Xt.length-pt-1);)++pt;if(1==Le.length&&1==$e.length&&G==v.line)for(;je&&je>v.ch&&Qt.charCodeAt(Qt.length-pt-1)==Xt.charCodeAt(Xt.length-pt-1);)je--,pt++;Le[Le.length-1]=Qt.slice(0,Qt.length-pt).replace(/^\u200b+/,""),Le[0]=Le[0].slice(je).replace(/\u200b+$/,"");var kn=St(G,je),En=St(ce,$e.length?wn($e).length-pt:0);return Le.length>1||Le[0]||Yn(kn,En)?(Ql(a.doc,Le,kn,En,"+input"),!0):void 0},Kr.prototype.ensurePolled=function(){this.forceCompositionEnd()},Kr.prototype.reset=function(){this.forceCompositionEnd()},Kr.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Kr.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing){if(!a.composing.done)return;a.composing=null}a.updateFromDOM()},80))},Kr.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&la(this.cm,function(){return ao(a.cm)})},Kr.prototype.setUneditable=function(a){a.contentEditable="false"},Kr.prototype.onKeyPress=function(a){0==a.charCode||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Co(this.cm,Ph)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))},Kr.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)},Kr.prototype.onContextMenu=function(){},Kr.prototype.resetPosition=function(){},Kr.prototype.needsContentAttribute=!0;var Ii=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new lt,this.hasSelection=!1,this.composing=null,this.resetting=!1};Ii.prototype.init=function(a){var d=this,y=this,v=this.cm;this.createField(a);var b=this.textarea;function B(G){if(!Zi(v,G)){if(v.somethingSelected())ca({lineWise:!1,text:v.getSelections()});else{if(!v.options.lineWiseCopyCut)return;var X=Lh(v);ca({lineWise:!0,text:X.text}),"cut"==G.type?v.setSelections(X.ranges,null,Tt):(y.prevInput="",b.value=X.text.join("\n"),Xe(b))}"cut"==G.type&&(v.state.cutIncoming=+new Date)}}a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),ue&&(b.style.width="0px"),_n(b,"input",function(){C&&T>=9&&d.hasSelection&&(d.hasSelection=null),y.poll()}),_n(b,"paste",function(G){Zi(v,G)||Hd(G,v)||(v.state.pasteIncoming=+new Date,y.fastPoll())}),_n(b,"cut",B),_n(b,"copy",B),_n(a.scroller,"paste",function(G){if(!ml(a,G)&&!Zi(v,G)){if(!b.dispatchEvent)return v.state.pasteIncoming=+new Date,void y.focus();var X=new Event("paste");X.clipboardData=G.clipboardData,b.dispatchEvent(X)}}),_n(a.lineSpace,"selectstart",function(G){ml(a,G)||Vi(G)}),_n(b,"compositionstart",function(){var G=v.getCursor("from");y.composing&&y.composing.range.clear(),y.composing={start:G,range:v.markText(G,v.getCursor("to"),{className:"CodeMirror-composing"})}}),_n(b,"compositionend",function(){y.composing&&(y.poll(),y.composing.range.clear(),y.composing=null)})},Ii.prototype.createField=function(a){this.wrapper=Ff(),this.textarea=this.wrapper.firstChild;var d=this.cm.options;zd(this.textarea,d.spellcheck,d.autocorrect,d.autocapitalize)},Ii.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},Ii.prototype.prepareSelection=function(){var a=this.cm,d=a.display,y=a.doc,v=lo(a);if(a.options.moveInputWithCursor){var b=cs(a,y.sel.primary().head,"div"),B=d.wrapper.getBoundingClientRect(),G=d.lineDiv.getBoundingClientRect();v.teTop=Math.max(0,Math.min(d.wrapper.clientHeight-10,b.top+G.top-B.top)),v.teLeft=Math.max(0,Math.min(d.wrapper.clientWidth-10,b.left+G.left-B.left))}return v},Ii.prototype.showSelection=function(a){var y=this.cm.display;Te(y.cursorDiv,a.cursors),Te(y.selectionDiv,a.selection),null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},Ii.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing&&a)){var d=this.cm;if(this.resetting=!0,d.somethingSelected()){this.prevInput="";var y=d.getSelection();this.textarea.value=y,d.state.focused&&Xe(this.textarea),C&&T>=9&&(this.hasSelection=y)}else a||(this.prevInput=this.textarea.value="",C&&T>=9&&(this.hasSelection=null));this.resetting=!1}},Ii.prototype.getField=function(){return this.textarea},Ii.prototype.supportsTouch=function(){return!1},Ii.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!le||ft(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},Ii.prototype.blur=function(){this.textarea.blur()},Ii.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ii.prototype.receivedFocus=function(){this.slowPoll()},Ii.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},Ii.prototype.fastPoll=function(){var a=!1,d=this;d.pollingFast=!0,d.polling.set(20,function y(){d.poll()||a?(d.pollingFast=!1,d.slowPoll()):(a=!0,d.polling.set(60,y))})},Ii.prototype.poll=function(){var a=this,d=this.cm,y=this.textarea,v=this.prevInput;if(this.contextMenuPending||this.resetting||!d.state.focused||ec(y)&&!v&&!this.composing||d.isReadOnly()||d.options.disableInput||d.state.keySeq)return!1;var b=y.value;if(b==v&&!d.somethingSelected())return!1;if(C&&T>=9&&this.hasSelection===b||ae&&/[\uf700-\uf7ff]/.test(b))return d.display.input.reset(),!1;if(d.doc.sel==d.display.selForContextMenu){var B=b.charCodeAt(0);if(8203==B&&!v&&(v="\u200b"),8666==B)return this.reset(),this.cm.execCommand("undo")}for(var G=0,X=Math.min(v.length,b.length);G<X&&v.charCodeAt(G)==b.charCodeAt(G);)++G;return la(d,function(){Ph(d,b.slice(G),v.length-G,null,a.composing?"*compose":null),b.length>1e3||b.indexOf("\n")>-1?y.value=a.prevInput="":a.prevInput=b,a.composing&&(a.composing.range.clear(),a.composing.range=d.markText(a.composing.start,d.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ii.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ii.prototype.onKeyPress=function(){C&&T>=9&&(this.hasSelection=null),this.fastPoll()},Ii.prototype.onContextMenu=function(a){var d=this,y=d.cm,v=y.display,b=d.textarea;d.contextMenuPending&&d.contextMenuPending();var B=Ui(y,a),G=v.scroller.scrollTop;if(B&&!k){y.options.resetSelectionOnContextMenu&&-1==y.doc.sel.contains(B)&&Co(y,Eo)(y.doc,wa(B),Tt);var Le,ee=b.style.cssText,ce=d.wrapper.style.cssText,xe=d.wrapper.offsetParent.getBoundingClientRect();if(d.wrapper.style.cssText="position: static",b.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-xe.top-5)+"px; left: "+(a.clientX-xe.left-5)+"px;\n      z-index: 1000; background: "+(C?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",N&&(Le=b.ownerDocument.defaultView.scrollY),v.input.focus(),N&&b.ownerDocument.defaultView.scrollTo(null,Le),v.input.reset(),y.somethingSelected()||(b.value=d.prevInput=" "),d.contextMenuPending=je,v.selForContextMenu=y.doc.sel,clearTimeout(v.detectingSelectAll),C&&T>=9&&$e(),oe){Ia(a);var pt=function(){go(window,"mouseup",pt),setTimeout(je,20)};_n(window,"mouseup",pt)}else setTimeout(je,50)}function $e(){if(null!=b.selectionStart){var bt=y.somethingSelected(),Ut="\u200b"+(bt?b.value:"");b.value="\u21da",b.value=Ut,d.prevInput=bt?"":"\u200b",b.selectionStart=1,b.selectionEnd=Ut.length,v.selForContextMenu=y.doc.sel}}function je(){if(d.contextMenuPending==je&&(d.contextMenuPending=!1,d.wrapper.style.cssText=ce,b.style.cssText=ee,C&&T<9&&v.scrollbars.setScrollTop(v.scroller.scrollTop=G),null!=b.selectionStart)){(!C||C&&T<9)&&$e();var bt=0,Ut=function(){v.selForContextMenu==y.doc.sel&&0==b.selectionStart&&b.selectionEnd>0&&"\u200b"==d.prevInput?Co(y,ql)(y):bt++<10?v.detectingSelectAll=setTimeout(Ut,500):(v.selForContextMenu=null,v.input.reset())};v.detectingSelectAll=setTimeout(Ut,200)}}},Ii.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled="nocursor"==a,this.textarea.readOnly=!!a},Ii.prototype.setUneditable=function(){},Ii.prototype.needsContentAttribute=!1,function ym(a){var d=a.optionHandlers;function y(v,b,B,G){a.defaults[v]=b,B&&(d[v]=G?function(X,ee,ce){ce!=Fd&&B(X,ee,ce)}:B)}a.defineOption=y,a.Init=Fd,y("value","",function(v,b){return v.setValue(b)},!0),y("mode",null,function(v,b){v.doc.modeOption=b,vc(v)},!0),y("indentUnit",2,vc,!0),y("indentWithTabs",!1),y("smartIndent",!0),y("tabSize",4,function(v){Mf(v),Yl(v),ao(v)},!0),y("lineSeparator",null,function(v,b){if(v.doc.lineSep=b,b){var B=[],G=v.doc.first;v.doc.iter(function(ee){for(var ce=0;;){var xe=ee.text.indexOf(b,ce);if(-1==xe)break;ce=xe+b.length,B.push(St(G,xe))}G++});for(var X=B.length-1;X>=0;X--)Ql(v.doc,b,B[X],St(B[X].line,B[X].ch+b.length))}}),y("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(v,b,B){v.state.specialChars=new RegExp(b.source+(b.test("\t")?"":"|\t"),"g"),B!=Fd&&v.refresh()}),y("specialCharPlaceholder",Xa,function(v){return v.refresh()},!0),y("electricChars",!0),y("inputStyle",le?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),y("spellcheck",!1,function(v,b){return v.getInputField().spellcheck=b},!0),y("autocorrect",!1,function(v,b){return v.getInputField().autocorrect=b},!0),y("autocapitalize",!1,function(v,b){return v.getInputField().autocapitalize=b},!0),y("rtlMoveVisually",!te),y("wholeLineUpdateBefore",!0),y("theme","default",function(v){vm(v),Sf(v)},!0),y("keyMap","default",function(v,b,B){var G=Ad(b),X=B!=Fd&&Ad(B);X&&X.detach&&X.detach(v,G),G.attach&&G.attach(v,X||null)}),y("extraKeys",null),y("configureMouse",null),y("lineWrapping",!1,kh,!0),y("gutters",[],function(v,b){v.display.gutterSpecs=Zl(b,v.options.lineNumbers),Sf(v)},!0),y("fixedGutter",!0,function(v,b){v.display.gutters.style.left=b?ln(v.display)+"px":"0",v.refresh()},!0),y("coverGutterNextToScrollbar",!1,function(v){return _l(v)},!0),y("scrollbarStyle","native",function(v){Du(v),_l(v),v.display.scrollbars.setScrollTop(v.doc.scrollTop),v.display.scrollbars.setScrollLeft(v.doc.scrollLeft)},!0),y("lineNumbers",!1,function(v,b){v.display.gutterSpecs=Zl(v.options.gutters,b),Sf(v)},!0),y("firstLineNumber",1,Sf,!0),y("lineNumberFormatter",function(v){return v},Sf,!0),y("showCursorWhenSelecting",!1,ud,!0),y("resetSelectionOnContextMenu",!0),y("lineWiseCopyCut",!0),y("pasteLinesPerSelection",!0),y("selectionsMayTouch",!1),y("readOnly",!1,function(v,b){"nocursor"==b&&(vi(v),v.display.input.blur()),v.display.input.readOnlyChanged(b)}),y("screenReaderLabel",null,function(v,b){v.display.input.screenReaderLabelChanged(b=""===b?null:b)}),y("disableInput",!1,function(v,b){b||v.display.input.reset()},!0),y("dragDrop",!0,Bd),y("allowDropFileTypes",null),y("cursorBlinkRate",530),y("cursorScrollMargin",0),y("cursorHeight",1,ud,!0),y("singleCursorHeightPerLine",!0,ud,!0),y("workTime",100),y("workDelay",100),y("flattenSpans",!0,Mf,!0),y("addModeClass",!1,Mf,!0),y("pollInterval",100),y("undoDepth",200,function(v,b){return v.doc.history.undoDepth=b}),y("historyEventDelay",1250),y("viewportMargin",10,function(v){return v.refresh()},!0),y("maxHighlightLength",1e4,Mf,!0),y("moveInputWithCursor",!0,function(v,b){b||v.display.input.resetPosition()}),y("tabindex",null,function(v,b){return v.display.input.getField().tabIndex=b||""}),y("autofocus",null),y("direction","ltr",function(v,b){return v.doc.setDirection(b)},!0),y("phrases",null)}(ai),function $p(a){var d=a.optionHandlers,y=a.helpers={};a.prototype={constructor:a,focus:function(){Ht(this).focus(),this.display.input.focus()},setOption:function(v,b){var B=this.options,G=B[v];B[v]==b&&"mode"!=v||(B[v]=b,d.hasOwnProperty(v)&&Co(this,d[v])(this,b,G),pi(this,"optionChange",this,v))},getOption:function(v){return this.options[v]},getDoc:function(){return this.doc},addKeyMap:function(v,b){this.state.keyMaps[b?"push":"unshift"](Ad(v))},removeKeyMap:function(v){for(var b=this.state.keyMaps,B=0;B<b.length;++B)if(b[B]==v||b[B].name==v)return b.splice(B,1),!0},addOverlay:Po(function(v,b){var B=v.token?v:a.getMode(this.options,v);if(B.startState)throw new Error("Overlays may not be stateful.");(function Xr(a,d,y){for(var v=0,b=y(d);v<a.length&&y(a[v])<=b;)v++;a.splice(v,0,d)})(this.state.overlays,{mode:B,modeSpec:v,opaque:b&&b.opaque,priority:b&&b.priority||0},function(G){return G.priority}),this.state.modeGen++,ao(this)}),removeOverlay:Po(function(v){for(var b=this.state.overlays,B=0;B<b.length;++B){var G=b[B].modeSpec;if(G==v||"string"==typeof v&&G.name==v)return b.splice(B,1),this.state.modeGen++,void ao(this)}}),indentLine:Po(function(v,b,B){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract"),ko(this.doc,v)&&Ac(this,v,b,B)}),indentSelection:Po(function(v){for(var b=this.doc.sel.ranges,B=-1,G=0;G<b.length;G++){var X=b[G];if(X.empty())X.head.line>B&&(Ac(this,X.head.line,v,!0),B=X.head.line,G==this.doc.sel.primIndex&&Za(this));else{var ee=X.from(),ce=X.to(),xe=Math.max(B,ee.line);B=Math.min(this.lastLine(),ce.line-(ce.ch?0:1))+1;for(var Le=xe;Le<B;++Le)Ac(this,Le,v);var $e=this.doc.sel.ranges;0==ee.ch&&b.length==$e.length&&$e[G].from().ch>0&&Sh(this.doc,G,new Wr(ee,$e[G].to()),Tt)}}}),getTokenAt:function(v,b){return Mn(this,v,b)},getLineTokens:function(v,b){return Mn(this,St(v),b,!0)},getTokenTypeAt:function(v){v=nt(this.doc,v);var ee,b=Un(this,Cn(this.doc,v.line)),B=0,G=(b.length-1)/2,X=v.ch;if(0==X)ee=b[2];else for(;;){var ce=B+G>>1;if((ce?b[2*ce-1]:0)>=X)G=ce;else{if(!(b[2*ce+1]<X)){ee=b[2*ce+2];break}B=ce+1}}var xe=ee?ee.indexOf("overlay "):-1;return xe<0?ee:0==xe?null:ee.slice(0,xe-1)},getModeAt:function(v){var b=this.doc.mode;return b.innerMode?a.innerMode(b,this.getTokenAt(v).state).mode:b},getHelper:function(v,b){return this.getHelpers(v,b)[0]},getHelpers:function(v,b){var B=[];if(!y.hasOwnProperty(b))return B;var G=y[b],X=this.getModeAt(v);if("string"==typeof X[b])G[X[b]]&&B.push(G[X[b]]);else if(X[b])for(var ee=0;ee<X[b].length;ee++){var ce=G[X[b][ee]];ce&&B.push(ce)}else X.helperType&&G[X.helperType]?B.push(G[X.helperType]):G[X.name]&&B.push(G[X.name]);for(var xe=0;xe<G._global.length;xe++){var Le=G._global[xe];Le.pred(X,this)&&-1==rt(B,Le.val)&&B.push(Le.val)}return B},getStateAfter:function(v,b){var B=this.doc;return Bt(this,(v=Ve(B,v??B.first+B.size-1))+1,b).state},cursorCoords:function(v,b){var G=this.doc.sel.primary();return cs(this,null==v?G.head:"object"==typeof v?nt(this.doc,v):v?G.from():G.to(),b||"page")},charCoords:function(v,b){return ld(this,nt(this.doc,v),b||"page")},coordsChar:function(v,b){return wf(this,(v=mh(this,v,b||"page")).left,v.top)},lineAtHeight:function(v,b){return v=mh(this,{top:v,left:0},b||"page").top,Qi(this.doc,v+this.display.viewOffset)},heightAtLine:function(v,b,B){var X,G=!1;if("number"==typeof v){var ee=this.doc.first+this.doc.size-1;v<this.doc.first?v=this.doc.first:v>ee&&(v=ee,G=!0),X=Cn(this.doc,v)}else X=v;return bf(this,X,{top:0,left:0},b||"page",B||G).top+(G?this.doc.height-Ra(X):0)},defaultTextHeight:function(){return Jr(this.display)},defaultCharWidth:function(){return vl(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(v,b,B,G,X){var ee=this.display,ce=(v=cs(this,nt(this.doc,v))).bottom,xe=v.left;if(b.style.position="absolute",b.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(b),ee.sizer.appendChild(b),"over"==G)ce=v.top;else if("above"==G||"near"==G){var Le=Math.max(ee.wrapper.clientHeight,this.doc.height),$e=Math.max(ee.sizer.clientWidth,ee.lineSpace.clientWidth);("above"==G||v.bottom+b.offsetHeight>Le)&&v.top>b.offsetHeight?ce=v.top-b.offsetHeight:v.bottom+b.offsetHeight<=Le&&(ce=v.bottom),xe+b.offsetWidth>$e&&(xe=$e-b.offsetWidth)}b.style.top=ce+"px",b.style.left=b.style.right="","right"==X?(xe=ee.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==X?xe=0:"middle"==X&&(xe=(ee.sizer.clientWidth-b.offsetWidth)/2),b.style.left=xe+"px"),B&&function xu(a,d){var y=Gi(a,d);null!=y.scrollTop&&ur(a,y.scrollTop),null!=y.scrollLeft&&qa(a,y.scrollLeft)}(this,{left:xe,top:ce,right:xe+b.offsetWidth,bottom:ce+b.offsetHeight})},triggerOnKeyDown:Po(kd),triggerOnKeyPress:Po(Pd),triggerOnKeyUp:Go,triggerOnMouseDown:Po(Rf),execCommand:function(v){if(Mc.hasOwnProperty(v))return Mc[v].call(null,this)},triggerElectric:Po(function(v){Lf(this,v)}),findPosH:function(v,b,B,G){var X=1;b<0&&(X=-1,b=-b);for(var ee=nt(this.doc,v),ce=0;ce<b&&!(ee=Bf(this.doc,ee,X,B,G)).hitSide;++ce);return ee},moveH:Po(function(v,b){var B=this;this.extendSelectionsBy(function(G){return B.display.shift||B.doc.extend||G.empty()?Bf(B.doc,G.head,v,b,B.options.rtlMoveVisually):v<0?G.from():G.to()},Jn)}),deleteH:Po(function(v,b){var G=this.doc;this.doc.sel.somethingSelected()?G.replaceSelection("",null,"+delete"):Fs(this,function(X){var ee=Bf(G,X.head,v,b,!1);return v<0?{from:ee,to:X.head}:{from:X.head,to:ee}})}),findPosV:function(v,b,B,G){var X=1,ee=G;b<0&&(X=-1,b=-b);for(var ce=nt(this.doc,v),xe=0;xe<b;++xe){var Le=cs(this,ce,"div");if(null==ee?ee=Le.left:Le.left=ee,(ce=Vf(this,Le,X,B)).hitSide)break}return ce},moveV:Po(function(v,b){var B=this,G=this.doc,X=[],ee=!this.display.shift&&!G.extend&&G.sel.somethingSelected();if(G.extendSelectionsBy(function(xe){if(ee)return v<0?xe.from():xe.to();var Le=cs(B,xe.head,"div");null!=xe.goalColumn&&(Le.left=xe.goalColumn),X.push(Le.left);var $e=Vf(B,Le,v,b);return"page"==b&&xe==G.sel.primary()&&ds(B,ld(B,$e,"div").top-Le.top),$e},Jn),X.length)for(var ce=0;ce<G.sel.ranges.length;ce++)G.sel.ranges[ce].goalColumn=X[ce]}),findWordAt:function(v){var B=Cn(this.doc,v.line).text,G=v.ch,X=v.ch;if(B){var ee=this.getHelper(v,"wordChars");"before"!=v.sticky&&X!=B.length||!G?++X:--G;for(var ce=B.charAt(G),xe=Bi(ce,ee)?function(Le){return Bi(Le,ee)}:/\s/.test(ce)?function(Le){return/\s/.test(Le)}:function(Le){return!/\s/.test(Le)&&!Bi(Le)};G>0&&xe(B.charAt(G-1));)--G;for(;X<B.length&&xe(B.charAt(X));)++X}return new Wr(St(v.line,G),St(v.line,X))},toggleOverwrite:function(v){null!=v&&v==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ye(this.display.cursorDiv,"CodeMirror-overwrite"):me(this.display.cursorDiv,"CodeMirror-overwrite"),pi(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ft(Zt(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Po(function(v,b){uo(this,v,b)}),getScrollInfo:function(){var v=this.display.scroller;return{left:v.scrollLeft,top:v.scrollTop,height:v.scrollHeight-wo(this)-this.display.barHeight,width:v.scrollWidth-wo(this)-this.display.barWidth,clientHeight:hc(this),clientWidth:Er(this)}},scrollIntoView:Po(function(v,b){null==v?(v={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof v?v={from:St(v,0),to:null}:null==v.from&&(v={from:v,to:null}),v.to||(v.to=v.from),v.margin=b||0,null!=v.from.line?function cd(a,d){dd(a),a.curOp.scrollToPos=d}(this,v):wl(this,v.from,v.to,v.margin)}),setSize:Po(function(v,b){var B=this,G=function(ee){return"number"==typeof ee||/^\d+$/.test(String(ee))?ee+"px":ee};null!=v&&(this.display.wrapper.style.width=G(v)),null!=b&&(this.display.wrapper.style.height=G(b)),this.options.lineWrapping&&sd(this);var X=this.display.viewFrom;this.doc.iter(X,this.display.viewTo,function(ee){if(ee.widgets)for(var ce=0;ce<ee.widgets.length;ce++)if(ee.widgets[ce].noHScroll){so(B,X,"widget");break}++X}),this.curOp.forceUpdate=!0,pi(this,"refresh",this)}),operation:function(v){return la(this,v)},startOperation:function(){return ii(this)},endOperation:function(){return Xl(this)},refresh:Po(function(){var v=this.display.cachedTextHeight;ao(this),this.curOp.forceUpdate=!0,Yl(this),uo(this,this.doc.scrollLeft,this.doc.scrollTop),Df(this.display),(null==v||Math.abs(v-Jr(this.display))>.5||this.options.lineWrapping)&&Br(this),pi(this,"refresh",this)}),swapDoc:Po(function(v){var b=this.doc;return b.cm=null,this.state.selectingText&&this.state.selectingText(),bc(this,v),Yl(this),this.display.input.reset(),uo(this,v.scrollLeft,v.scrollTop),this.curOp.forceScroll=!0,bo(this,"swapDoc",this,b),b}),phrase:function(v){var b=this.options.phrases;return b&&Object.prototype.hasOwnProperty.call(b,v)?b[v]:v},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ma(a),a.registerHelper=function(v,b,B){y.hasOwnProperty(v)||(y[v]=a[v]={_global:[]}),y[v][b]=B},a.registerGlobalHelper=function(v,b,B,G){a.registerHelper(v,b,G),y[v]._global.push({pred:B,val:G})}}(ai);var Ci="iter insert remove copy getEditor constructor".split(" ");for(var ys in Hn.prototype)Hn.prototype.hasOwnProperty(ys)&&rt(Ci,ys)<0&&(ai.prototype[ys]=function(a){return function(){return a.apply(this.doc,arguments)}}(Hn.prototype[ys]));return Ma(Hn),ai.inputStyles={textarea:Ii,contenteditable:Kr},ai.defineMode=function(a){!ai.defaults.mode&&"null"!=a&&(ai.defaults.mode=a),rc.apply(this,arguments)},ai.defineMIME=function nd(a,d){Ms[a]=d},ai.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),ai.defineMIME("text/plain","null"),ai.defineExtension=function(a,d){ai.prototype[a]=d},ai.defineDocExtension=function(a,d){Hn.prototype[a]=d},ai.fromTextArea=function Lu(a,d){if((d=d?mn(d):{}).value=a.value,!d.tabindex&&a.tabIndex&&(d.tabindex=a.tabIndex),!d.placeholder&&a.placeholder&&(d.placeholder=a.placeholder),null==d.autofocus){var y=ft(a.ownerDocument);d.autofocus=y==a||null!=a.getAttribute("autofocus")&&y==document.body}function v(){a.value=X.getValue()}var b;if(a.form&&(_n(a.form,"submit",v),!d.leaveSubmitMethodAlone)){var B=a.form;b=B.submit;try{var G=B.submit=function(){v(),B.submit=b,B.submit(),B.submit=G}}catch{}}d.finishInit=function(ee){ee.save=v,ee.getTextArea=function(){return a},ee.toTextArea=function(){ee.toTextArea=isNaN,v(),a.parentNode.removeChild(ee.getWrapperElement()),a.style.display="",a.form&&(go(a.form,"submit",v),!d.leaveSubmitMethodAlone&&"function"==typeof a.form.submit&&(a.form.submit=b))}},a.style.display="none";var X=ai(function(ee){return a.parentNode.insertBefore(ee,a.nextSibling)},d);return X},function Xp(a){a.off=go,a.on=_n,a.wheelEventPixels=dm,a.Doc=Hn,a.splitLines=vu,a.countColumn=cn,a.findColumn=Tr,a.isWordChar=Fi,a.Pass=Ft,a.signal=pi,a.Line=pl,a.changeEnd=Fo,a.scrollbarModel=hd,a.Pos=St,a.cmpPos=Yn,a.modes=nc,a.mimeModes=Ms,a.resolveMode=ni,a.getMode=Oa,a.modeExtensions=Sr,a.extendMode=qi,a.copyState=ki,a.startState=df,a.innerMode=va,a.commands=Mc,a.keyMap=Uo,a.keyName=Of,a.isModifierKey=Hp,a.lookupKey=rl,a.normalizeKeyMap=Vp,a.StringStream=Pi,a.SharedTextMarker=Sd,a.TextMarker=Ho,a.LineWidget=Jl,a.e_preventDefault=Vi,a.e_stopPropagation=Ks,a.e_stop=Ia,a.addClass=Ye,a.contains=at,a.rmClass=me,a.keyNames=Wi}(ai),ai.version="5.65.13",ai}()},1610:function(Y,se,D){var S;Y.exports=(S=D(4465),function(P){var O={};function I(C){if(O[C])return O[C].exports;var T=O[C]={i:C,l:!1,exports:{}};return P[C].call(T.exports,T,T.exports,I),T.l=!0,T.exports}return I.m=P,I.c=O,I.i=function(C){return C},I.d=function(C,T,N){I.o(C,T)||Object.defineProperty(C,T,{configurable:!1,enumerable:!0,get:N})},I.n=function(C){var T=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(T,"a",T),T},I.o=function(C,T){return Object.prototype.hasOwnProperty.call(C,T)},I.p="",I(I.s=7)}([function(P,O){P.exports=S},function(P,O,I){"use strict";var C=I(0).FDLayoutConstants;function T(){}for(var N in C)T[N]=C[N];T.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,T.DEFAULT_RADIAL_SEPARATION=C.DEFAULT_EDGE_LENGTH,T.DEFAULT_COMPONENT_SEPERATION=60,T.TILE=!0,T.TILING_PADDING_VERTICAL=10,T.TILING_PADDING_HORIZONTAL=10,T.TREE_REDUCTION_ON_INCREMENTAL=!1,P.exports=T},function(P,O,I){"use strict";var C=I(0).FDLayoutEdge;function T(A,V,L){C.call(this,A,V,L)}for(var N in T.prototype=Object.create(C.prototype),C)T[N]=C[N];P.exports=T},function(P,O,I){"use strict";var C=I(0).LGraph;function T(A,V,L){C.call(this,A,V,L)}for(var N in T.prototype=Object.create(C.prototype),C)T[N]=C[N];P.exports=T},function(P,O,I){"use strict";var C=I(0).LGraphManager;function T(A){C.call(this,A)}for(var N in T.prototype=Object.create(C.prototype),C)T[N]=C[N];P.exports=T},function(P,O,I){"use strict";var C=I(0).FDLayoutNode,T=I(0).IMath;function N(V,L,k,H){C.call(this,V,L,k,H)}for(var A in N.prototype=Object.create(C.prototype),C)N[A]=C[A];N.prototype.move=function(){var V=this.graphManager.getLayout();this.displacementX=V.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=V.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>V.coolingFactor*V.maxNodeDisplacement&&(this.displacementX=V.coolingFactor*V.maxNodeDisplacement*T.sign(this.displacementX)),Math.abs(this.displacementY)>V.coolingFactor*V.maxNodeDisplacement&&(this.displacementY=V.coolingFactor*V.maxNodeDisplacement*T.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),V.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},N.prototype.propogateDisplacementToChildren=function(V,L){for(var H,k=this.getChild().getNodes(),$=0;$<k.length;$++)null==(H=k[$]).getChild()?(H.moveBy(V,L),H.displacementX+=V,H.displacementY+=L):H.propogateDisplacementToChildren(V,L)},N.prototype.setPred1=function(V){this.pred1=V},N.prototype.getPred1=function(){return pred1},N.prototype.getPred2=function(){return pred2},N.prototype.setNext=function(V){this.next=V},N.prototype.getNext=function(){return next},N.prototype.setProcessed=function(V){this.processed=V},N.prototype.isProcessed=function(){return processed},P.exports=N},function(P,O,I){"use strict";var C=I(0).FDLayout,T=I(4),N=I(3),A=I(5),V=I(2),L=I(1),k=I(0).FDLayoutConstants,H=I(0).LayoutConstants,$=I(0).Point,Q=I(0).PointD,ue=I(0).Layout,ne=I(0).Integer,le=I(0).IGeometry,ae=I(0).LGraph,de=I(0).Transform;function te(){C.call(this),this.toBeTiled={}}for(var pe in te.prototype=Object.create(C.prototype),C)te[pe]=C[pe];te.prototype.newGraphManager=function(){var Z=new T(this);return this.graphManager=Z,Z},te.prototype.newGraph=function(Z){return new N(null,this.graphManager,Z)},te.prototype.newNode=function(Z){return new A(this.graphManager,Z)},te.prototype.newEdge=function(Z){return new V(null,null,Z)},te.prototype.initParameters=function(){C.prototype.initParameters.call(this,arguments),this.isSubLayout||(this.idealEdgeLength=L.DEFAULT_EDGE_LENGTH<10?10:L.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=L.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=k.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=k.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=k.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=k.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=k.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=k.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/k.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=k.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},te.prototype.layout=function(){return H.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},te.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(L.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var oe=new Set(this.getAllNodes()),ie=this.nodesWithGravity.filter(function(Te){return oe.has(Te)});this.graphManager.setAllNodesToApplyGravitation(ie)}}else{var Z=this.getFlatForest();Z.length>0?this.positionNodesRadially(Z):(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),oe=new Set(this.getAllNodes()),ie=this.nodesWithGravity.filter(function(me){return oe.has(me)}),this.graphManager.setAllNodesToApplyGravitation(ie),this.positionNodesRandomly())}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},te.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%k.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var Z=new Set(this.getAllNodes()),oe=this.nodesWithGravity.filter(function(_e){return Z.has(_e)});this.graphManager.setAllNodesToApplyGravitation(oe),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=k.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=k.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var ie=!this.isTreeGrowing&&!this.isGrowthFinished,me=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(ie,me),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},te.prototype.getPositionsData=function(){for(var Z=this.graphManager.getAllNodes(),oe={},ie=0;ie<Z.length;ie++){var me=Z[ie].rect,_e=Z[ie].id;oe[_e]={id:_e,x:me.getCenterX(),y:me.getCenterY(),w:me.width,h:me.height}}return oe},te.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var Z=!1;if("during"===k.ANIMATE)this.emit("layoutstarted");else{for(;!Z;)Z=this.tick();this.graphManager.updateBounds()}},te.prototype.calculateNodesToApplyGravitationTo=function(){var oe,_e,Z=[],ie=this.graphManager.getGraphs(),me=ie.length;for(_e=0;_e<me;_e++)(oe=ie[_e]).updateConnected(),oe.isConnected||(Z=Z.concat(oe.getNodes()));return Z},te.prototype.createBendpoints=function(){var Z=[];Z=Z.concat(this.graphManager.getAllEdges());var ie,oe=new Set;for(ie=0;ie<Z.length;ie++){var me=Z[ie];if(!oe.has(me)){var _e=me.getSource(),Te=me.getTarget();if(_e==Te)me.getBendpoints().push(new Q),me.getBendpoints().push(new Q),this.createDummyNodesForBendpoints(me),oe.add(me);else{var De=[];if(De=(De=De.concat(_e.getEdgeListToNode(Te))).concat(Te.getEdgeListToNode(_e)),!oe.has(De[0])){var ze;if(De.length>1)for(ze=0;ze<De.length;ze++){var Be=De[ze];Be.getBendpoints().push(new Q),this.createDummyNodesForBendpoints(Be)}De.forEach(function(at){oe.add(at)})}}}if(oe.size==Z.length)break}},te.prototype.positionNodesRadially=function(Z){for(var oe=new $(0,0),ie=Math.ceil(Math.sqrt(Z.length)),me=0,_e=0,Te=0,De=new Q(0,0),ze=0;ze<Z.length;ze++){ze%ie==0&&(Te=0,_e=me,0!=ze&&(_e+=L.DEFAULT_COMPONENT_SEPERATION),me=0);var Be=Z[ze],at=ue.findCenterOfTree(Be);oe.x=Te,oe.y=_e,(De=te.radialLayout(Be,at,oe)).y>me&&(me=Math.floor(De.y)),Te=Math.floor(De.x+L.DEFAULT_COMPONENT_SEPERATION)}this.transform(new Q(H.WORLD_CENTER_X-De.x/2,H.WORLD_CENTER_Y-De.y/2))},te.radialLayout=function(Z,oe,ie){var me=Math.max(this.maxDiagonalInTree(Z),L.DEFAULT_RADIAL_SEPARATION);te.branchRadialLayout(oe,null,0,359,0,me);var _e=ae.calculateBounds(Z),Te=new de;Te.setDeviceOrgX(_e.getMinX()),Te.setDeviceOrgY(_e.getMinY()),Te.setWorldOrgX(ie.x),Te.setWorldOrgY(ie.y);for(var De=0;De<Z.length;De++)Z[De].transform(Te);var Be=new Q(_e.getMaxX(),_e.getMaxY());return Te.inverseTransformPoint(Be)},te.branchRadialLayout=function(Z,oe,ie,me,_e,Te){var De=(me-ie+1)/2;De<0&&(De+=180);var Be=(De+ie)%360*le.TWO_PI/360,ft=(Math.cos(Be),_e*Math.cos(Be)),Ye=_e*Math.sin(Be);Z.setCenter(ft,Ye);var Ct=[],Xe=(Ct=Ct.concat(Z.getEdges())).length;null!=oe&&Xe--;for(var It,Zt=0,Ht=Ct.length,mn=Z.getEdgesBetween(oe);mn.length>1;){var cn=mn[0];mn.splice(0,1);var lt=Ct.indexOf(cn);lt>=0&&Ct.splice(lt,1),Ht--,Xe--}It=null!=oe?(Ct.indexOf(mn[0])+1)%Ht:0;for(var rt=Math.abs(me-ie)/Xe,ht=It;Zt!=Xe;ht=++ht%Ht){var Ft=Ct[ht].getOtherEnd(Z);if(Ft!=oe){var Tt=(ie+Zt*rt)%360;te.branchRadialLayout(Ft,Z,Tt,(Tt+rt)%360,_e+Te,Te),Zt++}}},te.maxDiagonalInTree=function(Z){for(var oe=ne.MIN_VALUE,ie=0;ie<Z.length;ie++){var _e=Z[ie].getDiagonal();_e>oe&&(oe=_e)}return oe},te.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},te.prototype.groupZeroDegreeMembers=function(){var Z=this,oe={};this.memberGroups={},this.idToDummyNode={};for(var ie=[],me=this.graphManager.getAllNodes(),_e=0;_e<me.length;_e++){var De=(Te=me[_e]).getParent();0===this.getNodeDegreeWithChildren(Te)&&(null==De.id||!this.getToBeTiled(De))&&ie.push(Te)}for(_e=0;_e<ie.length;_e++){var Te,ze=(Te=ie[_e]).getParent().id;typeof oe[ze]>"u"&&(oe[ze]=[]),oe[ze]=oe[ze].concat(Te)}Object.keys(oe).forEach(function(Be){if(oe[Be].length>1){var at="DummyCompound_"+Be;Z.memberGroups[at]=oe[Be];var ft=oe[Be][0].getParent(),Ye=new A(Z.graphManager);Ye.id=at,Ye.paddingLeft=ft.paddingLeft||0,Ye.paddingRight=ft.paddingRight||0,Ye.paddingBottom=ft.paddingBottom||0,Ye.paddingTop=ft.paddingTop||0,Z.idToDummyNode[at]=Ye;var Ct=Z.getGraphManager().add(Z.newGraph(),Ye),Xe=ft.getChild();Xe.add(Ye);for(var Zt=0;Zt<oe[Be].length;Zt++){var Ht=oe[Be][Zt];Xe.remove(Ht),Ct.add(Ht)}}})},te.prototype.clearCompounds=function(){var Z={},oe={};this.performDFSOnCompounds();for(var ie=0;ie<this.compoundOrder.length;ie++)oe[this.compoundOrder[ie].id]=this.compoundOrder[ie],Z[this.compoundOrder[ie].id]=[].concat(this.compoundOrder[ie].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[ie].getChild()),this.compoundOrder[ie].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(Z,oe)},te.prototype.clearZeroDegreeMembers=function(){var Z=this,oe=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(ie){var me=Z.idToDummyNode[ie];oe[ie]=Z.tileNodes(Z.memberGroups[ie],me.paddingLeft+me.paddingRight),me.rect.width=oe[ie].width,me.rect.height=oe[ie].height})},te.prototype.repopulateCompounds=function(){for(var Z=this.compoundOrder.length-1;Z>=0;Z--){var oe=this.compoundOrder[Z];this.adjustLocations(this.tiledMemberPack[oe.id],oe.rect.x,oe.rect.y,oe.paddingLeft,oe.paddingTop)}},te.prototype.repopulateZeroDegreeMembers=function(){var Z=this,oe=this.tiledZeroDegreePack;Object.keys(oe).forEach(function(ie){var me=Z.idToDummyNode[ie];Z.adjustLocations(oe[ie],me.rect.x,me.rect.y,me.paddingLeft,me.paddingTop)})},te.prototype.getToBeTiled=function(Z){var oe=Z.id;if(null!=this.toBeTiled[oe])return this.toBeTiled[oe];var ie=Z.getChild();if(null==ie)return this.toBeTiled[oe]=!1,!1;for(var me=ie.getNodes(),_e=0;_e<me.length;_e++){var Te=me[_e];if(this.getNodeDegree(Te)>0)return this.toBeTiled[oe]=!1,!1;if(null!=Te.getChild()){if(!this.getToBeTiled(Te))return this.toBeTiled[oe]=!1,!1}else this.toBeTiled[Te.id]=!1}return this.toBeTiled[oe]=!0,!0},te.prototype.getNodeDegree=function(Z){for(var ie=Z.getEdges(),me=0,_e=0;_e<ie.length;_e++){var Te=ie[_e];Te.getSource().id!==Te.getTarget().id&&(me+=1)}return me},te.prototype.getNodeDegreeWithChildren=function(Z){var oe=this.getNodeDegree(Z);if(null==Z.getChild())return oe;for(var ie=Z.getChild().getNodes(),me=0;me<ie.length;me++)oe+=this.getNodeDegreeWithChildren(ie[me]);return oe},te.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},te.prototype.fillCompexOrderByDFS=function(Z){for(var oe=0;oe<Z.length;oe++){var ie=Z[oe];null!=ie.getChild()&&this.fillCompexOrderByDFS(ie.getChild().getNodes()),this.getToBeTiled(ie)&&this.compoundOrder.push(ie)}},te.prototype.adjustLocations=function(Z,oe,ie,me,_e){ie+=_e;for(var Te=oe+=me,De=0;De<Z.rows.length;De++){var ze=Z.rows[De];oe=Te;for(var Be=0,at=0;at<ze.length;at++){var ft=ze[at];ft.rect.x=oe,ft.rect.y=ie,oe+=ft.rect.width+Z.horizontalPadding,ft.rect.height>Be&&(Be=ft.rect.height)}ie+=Be+Z.verticalPadding}},te.prototype.tileCompoundMembers=function(Z,oe){var ie=this;this.tiledMemberPack=[],Object.keys(Z).forEach(function(me){var _e=oe[me];ie.tiledMemberPack[me]=ie.tileNodes(Z[me],_e.paddingLeft+_e.paddingRight),_e.rect.width=ie.tiledMemberPack[me].width,_e.rect.height=ie.tiledMemberPack[me].height})},te.prototype.tileNodes=function(Z,oe){var _e={rows:[],rowWidth:[],rowHeight:[],width:0,height:oe,verticalPadding:L.TILING_PADDING_VERTICAL,horizontalPadding:L.TILING_PADDING_HORIZONTAL};Z.sort(function(ze,Be){return ze.rect.width*ze.rect.height>Be.rect.width*Be.rect.height?-1:ze.rect.width*ze.rect.height<Be.rect.width*Be.rect.height?1:0});for(var Te=0;Te<Z.length;Te++){var De=Z[Te];0==_e.rows.length?this.insertNodeToRow(_e,De,0,oe):this.canAddHorizontal(_e,De.rect.width,De.rect.height)?this.insertNodeToRow(_e,De,this.getShortestRowIndex(_e),oe):this.insertNodeToRow(_e,De,_e.rows.length,oe),this.shiftToLastRow(_e)}return _e},te.prototype.insertNodeToRow=function(Z,oe,ie,me){var _e=me;ie==Z.rows.length&&(Z.rows.push([]),Z.rowWidth.push(_e),Z.rowHeight.push(0));var De=Z.rowWidth[ie]+oe.rect.width;Z.rows[ie].length>0&&(De+=Z.horizontalPadding),Z.rowWidth[ie]=De,Z.width<De&&(Z.width=De);var ze=oe.rect.height;ie>0&&(ze+=Z.verticalPadding);var Be=0;ze>Z.rowHeight[ie]&&(Be=Z.rowHeight[ie],Z.rowHeight[ie]=ze,Be=Z.rowHeight[ie]-Be),Z.height+=Be,Z.rows[ie].push(oe)},te.prototype.getShortestRowIndex=function(Z){for(var oe=-1,ie=Number.MAX_VALUE,me=0;me<Z.rows.length;me++)Z.rowWidth[me]<ie&&(oe=me,ie=Z.rowWidth[me]);return oe},te.prototype.getLongestRowIndex=function(Z){for(var oe=-1,ie=Number.MIN_VALUE,me=0;me<Z.rows.length;me++)Z.rowWidth[me]>ie&&(oe=me,ie=Z.rowWidth[me]);return oe},te.prototype.canAddHorizontal=function(Z,oe,ie){var me=this.getShortestRowIndex(Z);if(me<0)return!0;var _e=Z.rowWidth[me];if(_e+Z.horizontalPadding+oe<=Z.width)return!0;var De,ze,Te=0;return Z.rowHeight[me]<ie&&me>0&&(Te=ie+Z.verticalPadding-Z.rowHeight[me]),De=Z.width-_e>=oe+Z.horizontalPadding?(Z.height+Te)/(_e+oe+Z.horizontalPadding):(Z.height+Te)/Z.width,Te=ie+Z.verticalPadding,(ze=Z.width<oe?(Z.height+Te)/oe:(Z.height+Te)/Z.width)<1&&(ze=1/ze),De<1&&(De=1/De),De<ze},te.prototype.shiftToLastRow=function(Z){var oe=this.getLongestRowIndex(Z),ie=Z.rowWidth.length-1,me=Z.rows[oe],_e=me[me.length-1],Te=_e.width+Z.horizontalPadding;if(Z.width-Z.rowWidth[ie]>Te&&oe!=ie){me.splice(-1,1),Z.rows[ie].push(_e),Z.rowWidth[oe]=Z.rowWidth[oe]-Te,Z.rowWidth[ie]=Z.rowWidth[ie]+Te,Z.width=Z.rowWidth[instance.getLongestRowIndex(Z)];for(var De=Number.MIN_VALUE,ze=0;ze<me.length;ze++)me[ze].height>De&&(De=me[ze].height);oe>0&&(De+=Z.verticalPadding);var Be=Z.rowHeight[oe]+Z.rowHeight[ie];Z.rowHeight[oe]=De,Z.rowHeight[ie]<_e.height+Z.verticalPadding&&(Z.rowHeight[ie]=_e.height+Z.verticalPadding),Z.height+=Z.rowHeight[oe]+Z.rowHeight[ie]-Be,this.shiftToLastRow(Z)}},te.prototype.tilingPreLayout=function(){L.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},te.prototype.tilingPostLayout=function(){L.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},te.prototype.reduceTrees=function(){for(var ie,Z=[],oe=!0;oe;){var me=this.graphManager.getAllNodes(),_e=[];oe=!1;for(var Te=0;Te<me.length;Te++)1==(ie=me[Te]).getEdges().length&&!ie.getEdges()[0].isInterGraph&&null==ie.getChild()&&(_e.push([ie,ie.getEdges()[0],ie.getOwner()]),oe=!0);if(1==oe){for(var De=[],ze=0;ze<_e.length;ze++)1==_e[ze][0].getEdges().length&&(De.push(_e[ze]),_e[ze][0].getOwner().remove(_e[ze][0]));Z.push(De),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=Z},te.prototype.growTree=function(Z){for(var me,ie=Z[Z.length-1],_e=0;_e<ie.length;_e++)this.findPlaceforPrunedNode(me=ie[_e]),me[2].add(me[0]),me[2].add(me[1],me[1].source,me[1].target);Z.splice(Z.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},te.prototype.findPlaceforPrunedNode=function(Z){var oe,ie,me=Z[0],_e=(ie=me==Z[1].source?Z[1].target:Z[1].source).startX,Te=ie.finishX,De=ie.startY,ze=ie.finishY,Ct=[0,0,0,0];if(De>0)for(var Xe=_e;Xe<=Te;Xe++)Ct[0]+=this.grid[Xe][De-1].length+this.grid[Xe][De].length-1;if(Te<this.grid.length-1)for(Xe=De;Xe<=ze;Xe++)Ct[1]+=this.grid[Te+1][Xe].length+this.grid[Te][Xe].length-1;if(ze<this.grid[0].length-1)for(Xe=_e;Xe<=Te;Xe++)Ct[2]+=this.grid[Xe][ze+1].length+this.grid[Xe][ze].length-1;if(_e>0)for(Xe=De;Xe<=ze;Xe++)Ct[3]+=this.grid[_e-1][Xe].length+this.grid[_e][Xe].length-1;for(var Ht,It,Zt=ne.MAX_VALUE,mn=0;mn<Ct.length;mn++)Ct[mn]<Zt?(Zt=Ct[mn],Ht=1,It=mn):Ct[mn]==Zt&&Ht++;if(3==Ht&&0==Zt)0==Ct[0]&&0==Ct[1]&&0==Ct[2]?oe=1:0==Ct[0]&&0==Ct[1]&&0==Ct[3]?oe=0:0==Ct[0]&&0==Ct[2]&&0==Ct[3]?oe=3:0==Ct[1]&&0==Ct[2]&&0==Ct[3]&&(oe=2);else if(2==Ht&&0==Zt){var cn=Math.floor(2*Math.random());oe=0==Ct[0]&&0==Ct[1]?0==cn?0:1:0==Ct[0]&&0==Ct[2]?0==cn?0:2:0==Ct[0]&&0==Ct[3]?0==cn?0:3:0==Ct[1]&&0==Ct[2]?0==cn?1:2:0==Ct[1]&&0==Ct[3]?0==cn?1:3:0==cn?2:3}else oe=4==Ht&&0==Zt?cn=Math.floor(4*Math.random()):It;0==oe?me.setCenter(ie.getCenterX(),ie.getCenterY()-ie.getHeight()/2-k.DEFAULT_EDGE_LENGTH-me.getHeight()/2):1==oe?me.setCenter(ie.getCenterX()+ie.getWidth()/2+k.DEFAULT_EDGE_LENGTH+me.getWidth()/2,ie.getCenterY()):2==oe?me.setCenter(ie.getCenterX(),ie.getCenterY()+ie.getHeight()/2+k.DEFAULT_EDGE_LENGTH+me.getHeight()/2):me.setCenter(ie.getCenterX()-ie.getWidth()/2-k.DEFAULT_EDGE_LENGTH-me.getWidth()/2,ie.getCenterY())},P.exports=te},function(P,O,I){"use strict";var C={};C.layoutBase=I(0),C.CoSEConstants=I(1),C.CoSEEdge=I(2),C.CoSEGraph=I(3),C.CoSEGraphManager=I(4),C.CoSELayout=I(6),C.CoSENode=I(5),P.exports=C}]))},6827:function(Y,se,D){var S,P;Y.exports=(S=D(5886),P=D(1610),function(O){var I={};function C(T){if(I[T])return I[T].exports;var N=I[T]={i:T,l:!1,exports:{}};return O[T].call(N.exports,N,N.exports,C),N.l=!0,N.exports}return C.m=O,C.c=I,C.i=function(T){return T},C.d=function(T,N,A){C.o(T,N)||Object.defineProperty(T,N,{configurable:!1,enumerable:!0,get:A})},C.n=function(T){var N=T&&T.__esModule?function(){return T.default}:function(){return T};return C.d(N,"a",N),N},C.o=function(T,N){return Object.prototype.hasOwnProperty.call(T,N)},C.p="",C(C.s=15)}([function(O,I){O.exports=S},function(O,I,C){"use strict";var T=C(0).layoutBase.FDLayoutConstants;function N(){}for(var A in T)N[A]=T[A];N.DEFAULT_SPRING_STRENGTH=1.5*T.DEFAULT_SPRING_STRENGTH,N.DEFAULT_NODE_SEPARATION=T.DEFAULT_EDGE_LENGTH/4,N.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF=1.4,N.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE=!1,N.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=.1,N.DEFAULT_INNER_EDGE_LENGTH=T.DEFAULT_EDGE_LENGTH/3,N.MAX_ROTATION_ANGLE=Math.PI/36,N.MIN_ROTATION_ANGLE=-N.MAX_ROTATION_ANGLE,N.SWAP_HISTORY_CLEARANCE_PERIOD=6*(N.SWAP_PERIOD=(N.SWAP_IDLE_DURATION=45)+(N.SWAP_PREPERATION_DURATION=5)),N.MIN_DISPLACEMENT_FOR_SWAP=6,N.REVERSE_PERIOD=25,O.exports=N},function(O,I,C){"use strict";O.exports=null!=Object.assign?Object.assign.bind(Object):function(T){for(var N=arguments.length,A=Array(N>1?N-1:0),V=1;V<N;V++)A[V-1]=arguments[V];return A.forEach(function(L){Object.keys(L).forEach(function(k){return T[k]=L[k]})}),T}},function(O,I){O.exports=P},function(O,I,C){"use strict";O.exports=C(16)},function(O,I,C){"use strict";var T=C(0).layoutBase.LGraph,N=C(0).layoutBase.IGeometry,A=C(0).layoutBase.NeedlemanWunsch,V=C(14),L=C(1),k=C(8),H=C(9);function $(ue,ne,le){T.call(this,ue,ne,le),this.intraClusterEdges=null,this.interClusterEdges=null,this.inNodes=[],this.outNodes=[],this.onCircleNodes=[],this.inCircleNodes=[],this.radius=0,this.orderMatrix=null,this.mayBeReversed=!0}for(var Q in $.prototype=Object.create(T.prototype),T)$[Q]=T[Q];$.prototype.setRadius=function(ue){this.radius=ue},$.prototype.getRadius=function(){return this.radius},$.prototype.getInNodes=function(){return this.inNodes},$.prototype.getOutNodes=function(){return this.outNodes},$.prototype.getOnCircleNodes=function(){return this.onCircleNodes},$.prototype.getInCircleNodes=function(){return this.inCircleNodes},$.prototype.setMayNotBeReversed=function(){this.mayBeReversed=!1},$.prototype.getMayBeReversed=function(){return this.mayBeReversed},$.prototype.getChildAt=function(ue){return this.onCircleNodes[ue]},$.prototype.getInterClusterEdges=function(){var ue=this;return null===this.interClusterEdges&&(this.interClusterEdges=[],this.outNodes.forEach(function(ne){for(var le=ne.getOnCircleNodeExt().getInterClusterEdges(),ae=0;ae<le.length;ae++)ue.interClusterEdges.push(le[ae])})),this.interClusterEdges},$.prototype.getIntraClusterEdges=function(){var ue=this;return null===this.intraClusterEdges&&(this.intraClusterEdges=[],this.getEdges().forEach(function(le){le.isIntraEdge()&&ue.intraClusterEdges.push(le)})),this.intraClusterEdges},$.prototype.calculateParentNodeDimension=function(){for(var ne=Number.MIN_SAFE_INTEGER,le=0;le<this.onCircleNodes.length;le++){var ae=this.onCircleNodes[le];ae.getWidth()>ne&&(ne=ae.getWidth()),ae.getHeight()>ne&&(ne=ae.getHeight())}var de=2*(this.radius+this.margin)+ne,te=this.getParent();te.setHeight(de),te.setWidth(de)},$.prototype.computeOrderMatrix=function(){var ue=this.onCircleNodes.length;this.orderMatrix=new Array(ue);for(var ne=0;ne<this.orderMatrix.length;ne++)this.orderMatrix[ne]=new Array(ue);for(var le=0;le<ue;le++)for(var ae=0;ae<ue;ae++)if(ae>le){var de=this.onCircleNodes[ae].getOnCircleNodeExt().getAngle()-this.onCircleNodes[le].getOnCircleNodeExt().getAngle();de<0&&(de+=N.TWO_PI),de<=Math.PI?(this.orderMatrix[le][ae]=!0,this.orderMatrix[ae][le]=!1):(this.orderMatrix[le][ae]=!1,this.orderMatrix[ae][le]=!0)}},$.prototype.rotate=function(){var ue=this.getParent(),ne=this.getOnCircleNodes().length,le=ue.rotationAmount/ne,ae=this.getGraphManager().getLayout();if(0!==le){var de=le/this.radius;de>L.MAX_ROTATION_ANGLE?de=L.MAX_ROTATION_ANGLE:de<L.MIN_ROTATION_ANGLE&&(de=L.MIN_ROTATION_ANGLE);for(var te=0;te<ne;te++){var Z=this.getChildAt(te).getOnCircleNodeExt();Z.setAngle(Z.getAngle()+de),Z.updatePosition()}ae.totalDisplacement+=ue.rotationAmount,ue.rotationAmount=0}},$.prototype.getOrder=function(ue,ne){return this.orderMatrix[ue.getOnCircleNodeExt().getIndex()][ne.getOnCircleNodeExt().getIndex()]},$.prototype.getThisEnd=function(ue){var ne=ue.getSource(),le=ue.getTarget();return ne.getOwner()===this?ne:le},$.prototype.getOtherEnd=function(ue){var ne=ue.getSource(),le=ue.getTarget();return ne.getOwner()===this?le:ne},$.prototype.decomposeForce=function(ue){var ne=void 0;if(0!==ue.displacementX||0!==ue.displacementY){var Te,le=this.getParent(),ae=le.getCenterX(),de=le.getCenterY(),te=ue.getCenterX(),pe=ue.getCenterY(),Z=ue.displacementX,oe=ue.displacementY,ie=N.angleOfVector(ae,de,te,pe),me=N.angleOfVector(0,0,Z,oe),_e=ie+Math.PI;Te=Math.PI<=_e&&_e<N.TWO_PI?ie<=me&&me<_e:!((_e-=N.TWO_PI)<=me&&me<ie);var De=Math.abs(ie-me),ze=Math.sqrt(Z*Z+oe*oe),Be=Math.abs(Math.sin(De)*ze);Te||(Be=-Be),ne=new V(Be,Z,oe)}else ne=new V(0,0,0);return ne},$.prototype.swapNodes=function(ue,ne){var le=ue,ae=ne,de=ue.getOnCircleNodeExt(),te=ne.getOnCircleNodeExt();if(le.getOnCircleNodeExt().getIndex()>ne.getOnCircleNodeExt().getIndex()&&(le=ne,ae=ue),le.getOnCircleNodeExt().getPrevNode()===ae){var pe=ae;ae=le,le=pe}var Z=le.getOnCircleNodeExt(),oe=ae.getOnCircleNodeExt(),ie=Z.getPrevNode(),_e=this.getGraphManager().getLayout().getNodeSeparation(),Te=(ie.getOnCircleNodeExt().getAngle()+(ie.getHalfTheDiagonal()+ae.getHalfTheDiagonal()+_e)/this.radius)%(2*Math.PI);oe.setAngle(Te),Te=(oe.getAngle()+(ae.getHalfTheDiagonal()+le.getHalfTheDiagonal()+_e)/this.radius)%(2*Math.PI),Z.setAngle(Te),Z.updatePosition(),oe.updatePosition();var De=de.getIndex();de.setIndex(te.getIndex()),te.setIndex(De),this.getOnCircleNodes()[de.getIndex()]=ue,this.getOnCircleNodes()[te.getIndex()]=ne,de.updateSwappingConditions(),te.updateSwappingConditions(),de.getNextNode()===ne?(de.getPrevNode().getOnCircleNodeExt().updateSwappingConditions(),te.getNextNode().getOnCircleNodeExt().updateSwappingConditions()):(de.getNextNode().getOnCircleNodeExt().updateSwappingConditions(),te.getPrevNode().getOnCircleNodeExt().updateSwappingConditions())},$.prototype.checkAndReverseIfReverseIsBetter=function(){for(var ue=this.getInterClusterEdges(),ne=new Array(ue.length),le=void 0,ae=this.getParent().getCenter(),de=void 0,te=void 0,Z=void 0,oe=this.onCircleNodes.length,ie=new Array(oe),me=0;me<oe;me++)ie[me]=0;for(var _e=0,Te=0;Te<ue.length;Te++)Z=this.getOtherEnd(de=ue[Te]).getCenter(),le=N.angleOfVector(ae.x,ae.y,Z.x,Z.y),ne[Te]=new k(de,le),ie[(te=this.getThisEnd(de)).getOnCircleNodeExt().getIndex()]++,ie[te.getOnCircleNodeExt().getIndex()]>1&&_e++;for(var De=this.onCircleNodes,ze=oe+_e,Be=new Array(2*ze),at=new Array(2*ze),ft=void 0,Ye=-1,Ct=0;Ct<oe;Ct++){ft=De[Ct],0===ie[Ct]&&(ie[Ct]=1);for(var Xe=0;Xe<ie[Ct];Xe++)Be[++Ye]=Be[ze+Ye]=at[ze-1-Ye]=at[2*ze-1-Ye]=ft.getOnCircleNodeExt().getCharCode()}new H(this,ne);for(var Ht=new Array(ne.length),It=0;It<ne.length;It++)de=ne[It].getEdge(),te=this.getThisEnd(de),Ht[It]=te.getOnCircleNodeExt().getCharCode();var mn=this.computeAlignmentScore(Be,Ht);if(-1!==mn){var cn=this.computeAlignmentScore(at,Ht);if(-1!==cn&&cn>mn)return this.reverseNodes(),this.setMayNotBeReversed(),!0}return!1},$.prototype.computeAlignmentScore=function(ue,ne){return new A(ue,ne,20,-1,-2).getScore()},$.prototype.reverseNodes=function(){for(var ue=this.getOnCircleNodes(),ne=this.getOnCircleNodes().length,le=0;le<ne;le++){var de=ue[le].getOnCircleNodeExt();de.setIndex((ne-de.getIndex())%ne)}this.reCalculateNodeAnglesAndPositions()},$.prototype.moveOnCircleNodeInside=function(ue){var ne=this.onCircleNodes.indexOf(ue);ne>-1&&this.onCircleNodes.splice(ne,1),this.inCircleNodes.push(ue);for(var le=0;le<this.onCircleNodes.length;le++)this.onCircleNodes[le].getOnCircleNodeExt().setIndex(le);ue.setAsNonOnCircleNode(),this.reCalculateCircleSizeAndRadius(),this.reCalculateNodeAnglesAndPositions(),ue.setCenter(this.getParent().getCenterX(),this.getParent().getCenterY())},$.prototype.reCalculateCircleSizeAndRadius=function(){for(var ue=0,ne=this.getOnCircleNodes(),le=0;le<ne.length;le++){var ae=ne[le],de=ae.getWidth()*ae.getWidth()+ae.getHeight()*ae.getHeight();ue+=Math.sqrt(de)}var pe=this.getGraphManager().getLayout().getNodeSeparation(),Z=ue+this.getOnCircleNodes().length*pe;this.radius=Z/(2*Math.PI),this.calculateParentNodeDimension()},$.prototype.reCalculateNodeAnglesAndPositions=function(){var ne=this.getGraphManager().getLayout().getNodeSeparation(),le=this.onCircleNodes;le.sort(function(ie,me){return ie.getOnCircleNodeExt().getIndex()-me.getOnCircleNodeExt().getIndex()});for(var ae=this.getParent().getCenterX(),de=this.getParent().getCenterY(),te=0;te<le.length;te++){var pe=le[te],Z=void 0;if(0===te)Z=0;else{var oe=le[te-1];Z=oe.getOnCircleNodeExt().getAngle()+(pe.getHalfTheDiagonal()+ne+oe.getHalfTheDiagonal())/this.radius}pe.getOnCircleNodeExt().setAngle(Z),pe.setCenter(ae+this.radius*Math.cos(Z),de+this.radius*Math.sin(Z))}},O.exports=$},function(O,I,C){"use strict";var T=C(0).layoutBase.FDLayoutEdge;function N(V,L,k){T.call(this,V,L,k),this.isIntraCluster=!0}for(var A in N.prototype=Object.create(T.prototype),T)N[A]=T[A];N.prototype.isIntraEdge=function(){return this.isIntraCluster},N.prototype.crossesWithEdge=function(V){var L=!1,k=this.getSource().getOnCircleNodeExt(),H=this.getTarget().getOnCircleNodeExt(),$=V.getSource().getOnCircleNodeExt(),Q=V.getTarget().getOnCircleNodeExt(),ue=-1,ne=-1,le=-1,ae=-1;if(null!==k&&(ue=k.getIndex()),null!==H&&(ne=H.getIndex()),null!==$&&(le=$.getIndex()),null!==Q&&(ae=Q.getIndex()),this.isInterGraph||V.isInterGraph)L=!0;else if(this.source.getOwner()!==this.target.getOwner())L=!1;else{(-1===ue||-1===ne||-1===le||-1===ae)&&(L=!1);var de=$.getCircDistWithTheNode(k),te=Q.getCircDistWithTheNode(k),pe=H.getCircDistWithTheNode(k);pe<Math.max(de,te)&&pe>Math.min(de,te)&&0!==te&&0!==de&&(L=!0)}return L},N.prototype.calculateTotalCrossingWithList=function(V){for(var L=0,k=0;k<V.length;k++)L+=this.crossingWithEdge(V[k]);return L},N.prototype.crossingWithEdge=function(V){var k=0;return this.crossesWithEdge(V)&&(k=1),k},O.exports=N},function(O,I,C){"use strict";var T=C(0).layoutBase.LGraphManager;function N(V){T.call(this,V),this.onCircleNodes=[],this.inCircleNodes=[],this.nonOnCircleNodes=[]}for(var A in N.prototype=Object.create(T.prototype),T)N[A]=T[A];N.prototype.getOnCircleNodes=function(){return this.onCircleNodes},N.prototype.getInCircleNodes=function(){return this.inCircleNodes},N.prototype.getNonOnCircleNodes=function(){return this.nonOnCircleNodes},N.prototype.setOnCircleNodes=function(V){this.onCircleNodes=V},N.prototype.setInCircleNodes=function(V){this.inCircleNodes=V},N.prototype.setNonOnCircleNodes=function(V){this.nonOnCircleNodes=V},O.exports=N},function(O,I,C){"use strict";function T(N,A){this.edge=N,this.angle=A}(T.prototype=Object.create(null)).getEdge=function(){return this.edge},T.prototype.getAngle=function(){return this.angle},O.exports=T},function(O,I,C){"use strict";var T=function(){function V(L,k){for(var H=0;H<k.length;H++){var $=k[H];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(L,$.key,$)}}return function(L,k,H){return k&&V(L.prototype,k),H&&V(L,H),L}}();var A=function(){function V(L,k){(function N(V,L){if(!(V instanceof L))throw new TypeError("Cannot call a class as a function")})(this,V),this.ownerCircle=L,this._quicksort(k,0,k.length-1)}return T(V,[{key:"compareFunction",value:function(k,H){return H.getAngle()>k.getAngle()||H.getAngle()===k.getAngle()&&k!==H&&this.ownerCircle.getOrder(this.ownerCircle.getThisEnd(k.getEdge()),this.ownerCircle.getThisEnd(H.getEdge()))}},{key:"_quicksort",value:function(k,H,$){if(H<$){var Q=this._partition(k,H,$);this._quicksort(k,H,Q),this._quicksort(k,Q+1,$)}}},{key:"_partition",value:function(k,H,$){for(var Q=this._get(k,H),ue=H,ne=$;;){for(;this.compareFunction(Q,this._get(k,ne));)ne--;for(;this.compareFunction(this._get(k,ue),Q);)ue++;if(!(ue<ne))return ne;this._swap(k,ue,ne),ue++,ne--}}},{key:"_get",value:function(k,H){return k[H]}},{key:"_set",value:function(k,H,$){k[H]=$}},{key:"_swap",value:function(k,H,$){var Q=this._get(k,H);this._set(k,H,this._get(k,$)),this._set(k,$,Q)}}]),V}();O.exports=A},function(O,I,C){"use strict";var T=C(0).layoutBase.FDLayout,N=C(0).layoutBase.HashMap,A=C(0).layoutBase.PointD,V=C(0).layoutBase.DimensionD,L=C(0).AVSDFConstants,k=C(0).AVSDFLayout,H=C(3).CoSELayout,Q=(C(3),C(1)),ue=C(7),ne=C(5),le=C(11),ae=C(6),de=C(13);function te(){T.call(this),this.incremental=Q.INCREMENTAL,this.nodeSeparation=Q.DEFAULT_NODE_SEPARATION,this.idealInterClusterEdgeLengthCoefficient=Q.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF,this.allowNodesInsideCircle=Q.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE,this.maxRatioOfNodesInsideCircle=Q.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE,this.step=te.STEP_NOT_STARTED,this.phase=te.PHASE_NOT_STARTED,this.swappedPairsInLastIteration=[],this.iterations=0,this.oldTotalDisplacement=0,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/Q.CONVERGENCE_CHECK_PERIOD}for(var pe in te.prototype=Object.create(T.prototype),T)te[pe]=T[pe];te.STEP_NOT_STARTED=0,te.STEP_1=1,te.STEP_2=2,te.STEP_3=3,te.STEP_4=4,te.STEP_5=5,te.PHASE_NOT_STARTED=0,te.PHASE_SWAP_PREPERATION=1,te.PHASE_PERFORM_SWAP=2,te.PHASE_OTHER=3,te.prototype.newGraphManager=function(){return this.graphManager=new ue(this),this.graphManager},te.prototype.newCircleLGraph=function(Z){return new ne(null,this.graphManager,Z)},te.prototype.newNode=function(Z,oe){return new le(this.graphManager,Z,oe,null)},te.prototype.newCiSEOnCircleNode=function(Z,oe){var ie=this.newNode(Z,oe);return ie.setAsOnCircleNode(),ie},te.prototype.newEdge=function(Z,oe,ie){return new ae(Z,oe,ie)},te.prototype.getNodeSeparation=function(){return this.nodeSeparation},te.prototype.convertToClusteredGraph=function(Z,oe,ie){for(var me=this,_e=this,Te={},De=this.graphManager.getRoot(),ze=new N,Be=0;Be<Z.length;Be++)ze.put(Z[Be].data("id"),Z[Be]);if("function"==typeof ie){for(var at=[],ft=[],Ye=0;Ye<Z.length;Ye++){var Ct=ie(Z[Ye]);if(Ct>0&&null!=Ct){var Xe=at.indexOf(Ct);Xe>-1?ft[Xe].push(Z[Ye].data("id")):(at.push(Ct),ft.push([Z[Ye].data("id")]))}}ie=ft}for(var Zt=function(Xr){if(0===ie[Xr].length)return"continue";var dn=me.newNode(null);dn.setClusterId(Xr),De.add(dn);var Ri=me.newCircleLGraph(null);me.graphManager.add(Ri,dn),Ri.margin=Ri.margin+15,ie[Xr].forEach(function(ro){var Fi=ze.get(ro),Bi=Fi.layoutDimensions({nodeDimensionsIncludeLabels:!1}),jr=_e.newCiSEOnCircleNode(new A(Fi.position("x")-Bi.w/2,Fi.position("y")-Bi.h/2),new V(parseFloat(Bi.w),parseFloat(Bi.h)));jr.setId(ro),jr.setClusterId(Xr),Ri.getOnCircleNodes().push(jr),Ri.add(jr),Ri.getInNodes().push(jr),Te[jr.getId()]=jr})},Ht=0;Ht<ie.length;Ht++)Zt(Ht);for(var mn=function(Xr){var dn=!1;if(ie.forEach(function(Bi){Bi.includes(Z[Xr].data("id"))&&(dn=!0)}),!dn){var Ri=Z[Xr],ro=Ri.layoutDimensions({nodeDimensionsIncludeLabels:!1}),Fi=me.newNode(new A(Ri.position("x")-ro.w/2,Ri.position("y")-ro.h/2),new V(parseFloat(ro.w),parseFloat(ro.h)));Fi.setClusterId(-1),Fi.setId(Z[Xr].data("id")),De.add(Fi),Te[Fi.getId()]=Fi}},cn=0;cn<Z.length;cn++)mn(cn);for(var lt=0;lt<oe.length;lt++){var rt=oe[lt],ht=Te[rt.data("source")],Ft=Te[rt.data("target")],Tt=ht.getClusterId(),Kn=Ft.getClusterId();if(ht!==Ft){var Jn=_e.newEdge(ht,Ft,null);Tt===Kn&&-1!==Tt&&-1!==Kn?(Jn.isIntraCluster=!0,Jn.getSource().getOwner().add(Jn,Jn.getSource(),Jn.getTarget())):(Jn.isIntraCluster=!1,this.graphManager.add(Jn,Jn.getSource(),Jn.getTarget()))}}for(var Tr=[],kr=[],Cr=this.graphManager.getAllNodes(),wn=0;wn<Cr.length;wn++)Cr[wn].getOnCircleNodeExt()?Tr.push(Cr[wn]):kr.push(Cr[wn]);return this.graphManager.setOnCircleNodes(Tr),this.graphManager.setNonOnCircleNodes(kr),this.graphManager.edges.forEach(function(Vn){var Xr=Vn.getSource(),dn=Vn.getTarget(),Ri=Xr.getClusterId(),ro=dn.getClusterId();if(-1!==Ri){var Fi=Xr.getOwner(),Bi=Fi.getInNodes().indexOf(Xr);Bi>-1&&(Fi.getInNodes().splice(Bi,1),Fi.getOutNodes().push(Xr))}if(-1!==ro){var jr=dn.getOwner(),Ki=jr.getInNodes().indexOf(dn);Ki>-1&&(jr.getInNodes().splice(Ki,1),jr.getOutNodes().push(dn))}}),Te},te.prototype.doStep1=function(){this.step=te.STEP_1,this.phase=te.PHASE_OTHER;for(var Z=new N,oe=this.graphManager.getGraphs(),ie=0;ie<oe.length;ie++){var me=oe[ie];if(me instanceof ne){L.DEFAULT_NODE_SEPARATION=this.nodeSeparation;for(var _e=new k,Te=_e.graphManager.addRoot(),De=me.getOnCircleNodes(),ze=0;ze<De.length;ze++){var Be=De[ze],at=_e.newNode(null),ft=Be.getLocation();at.setLocation(ft.x,ft.y),at.setWidth(Be.getWidth()),at.setHeight(Be.getHeight()),Te.add(at),Z.put(Be,at)}for(var Ye=this.getAllEdges(),Ct=0;Ct<Ye.length;Ct++){var Xe=Ye[Ct];if(De.includes(Xe.getSource())&&De.includes(Xe.getTarget())){var Zt=Z.get(Xe.getSource()),Ht=Z.get(Xe.getTarget()),It=_e.newEdge("");Te.add(It,Zt,Ht)}}_e.layout();for(var mn=_e.initPostProcess(),cn=0;cn<mn.length;cn++)_e.oneStepPostProcess(mn[cn]);_e.updateNodeAngles(),_e.updateNodeCoordinates();for(var lt=0;lt<De.length;lt++){var rt=De[lt],ht=Z.get(rt),Ft=ht.getLocation();rt.setLocation(Ft.x,Ft.y),rt.getOnCircleNodeExt().setIndex(ht.getIndex()),rt.getOnCircleNodeExt().setAngle(ht.getAngle())}if(De.sort(function(Jn,Tr){return Jn.getOnCircleNodeExt().getIndex()-Tr.getOnCircleNodeExt().getIndex()}),Te.getNodes().length>0){var Tt=me.getParent(),Kn=Te.getParent();Tt.setLocation(Kn.getLocation().x,Kn.getLocation().y),me.setRadius(Te.getRadius()),me.calculateParentNodeDimension()}}}},te.prototype.doStep2=function(){this.step=te.STEP_2,this.phase=te.PHASE_OTHER;var Z=[],oe=[],ie=new N,me=new N,_e=new H;_e.isSubLayout=!1,_e.useMultiLevelScaling=!1,_e.useFRGridVariant=!0,_e.springConstant*=1.5;for(var De=_e.newGraphManager().addRoot(),ze=this.graphManager.getNonOnCircleNodes(),Be=0;Be<ze.length;Be++){var at=ze[Be],ft=_e.newNode(null),Ye=at.getLocation();ft.setLocation(Ye.x,Ye.y),ft.setWidth(at.getWidth()),ft.setHeight(at.getHeight()),null!=at.getChild()&&(ft.setWidth(1.2*ft.getWidth()),ft.setHeight(1.2*ft.getHeight())),ft.id=Be,De.add(ft),Z.push(ft),ie.put(at,ft)}for(var Ct=new Array(Z.length),Xe=0;Xe<Ct.length;Xe++)Ct[Xe]=new Array(Z.length);for(var Zt=this.graphManager.getAllEdges(),Ht=0;Ht<Zt.length;Ht++){var It=Zt[Ht],mn=It.getSource(),cn=It.getTarget();null!=mn.getOnCircleNodeExt()&&(mn=It.getSource().getOwner().getParent()),null!=cn.getOnCircleNodeExt()&&(cn=It.getTarget().getOwner().getParent());var lt=ie.get(mn),rt=ie.get(cn),ht=Z.indexOf(lt),Ft=Z.indexOf(rt),Tt=void 0;ht!==Ft&&(null==Ct[ht][Ft]&&null==Ct[Ft][ht]?(Tt=_e.newEdge(null),De.add(Tt,lt,rt),oe.push(Tt),me.put(Tt,[]),Ct[ht][Ft]=Tt,Ct[Ft][ht]=Tt):Tt=Ct[ht][Ft],me.get(Tt).push(It))}_e.runLayout();for(var Kn=0;Kn<ze.length;Kn++){var Jn=ze[Kn],kr=ie.get(Jn).getLocation();Jn.setLocation(kr.x,kr.y)}for(var Cr=this.graphManager.getOnCircleNodes(),wn=0;wn<Cr.length;wn++){var Vn=Cr[wn],Xr=Vn.getLocation(),dn=Vn.getOwner().getParent().getLocation();Vn.setLocation(Xr.x+dn.x,Xr.y+dn.y)}},te.prototype.step3Init=function(){this.step=te.STEP_3,this.phase=te.PHASE_OTHER,this.initSpringEmbedder(),this.coolingCycle=0},te.prototype.step4Init=function(){this.step=te.STEP_4,this.phase=te.PHASE_OTHER,this.initSpringEmbedder();for(var Z=0;Z<this.graphManager.getOnCircleNodes().length;Z++)this.graphManager.getOnCircleNodes()[Z].getOnCircleNodeExt().updateSwappingConditions();this.coolingCycle=0},te.prototype.step5Init=function(){this.step=te.STEP_5,this.phase=te.PHASE_OTHER,this.initSpringEmbedder(),this.coolingCycle=0},te.prototype.runSpringEmbedderTick=function(){if(this.iterations++,this.totalIterations=this.iterations,this.iterations%Q.CONVERGENCE_CHECK_PERIOD==0){if((this.step!==te.STEP_4||this.iterations>this.maxIterations/4)&&this.isConverged())return!0;this.coolingFactor=this.initialCoolingFactor*((this.maxIterations-this.iterations)/this.maxIterations)}if(this.totalDisplacement=0,this.step===te.STEP_3)this.iterations%Q.REVERSE_PERIOD==0&&this.checkAndReverseIfReverseIsBetter();else if(this.step===te.STEP_4){this.iterations%Q.SWAP_HISTORY_CLEARANCE_PERIOD==0&&(this.swappedPairsInLastIteration=[]);var oe=this.iterations%Q.SWAP_PERIOD;this.phase=oe>=Q.SWAP_IDLE_DURATION?te.PHASE_SWAP_PREPERATION:0===oe?te.PHASE_PERFORM_SWAP:te.PHASE_OTHER}return this.calcSpringForces(),this.calcRepulsionForces(),this.calcGravitationalForces(),this.calcTotalForces(),this.moveNodes(),this.iterations>=this.maxIterations},te.prototype.prepareCirclesForReversal=function(){this.graphManager.getRoot().getNodes().forEach(function(oe){var ie=oe.getChild();null!=ie&&(ie.getInterClusterEdges().length<2&&ie.setMayNotBeReversed(),ie.computeOrderMatrix())})},te.prototype.calcIdealEdgeLengths=function(Z){for(var oe=this.graphManager.getAllEdges(),ie=0;ie<oe.length;ie++){oe[ie].idealLength=Z?1.5*this.idealEdgeLength*this.idealInterClusterEdgeLengthCoefficient:this.idealEdgeLength*this.idealInterClusterEdgeLengthCoefficient}for(var _e=this.graphManager.getInCircleNodes(),Te=0;Te<_e.length;Te++)_e[Te].getEdges().forEach(function(ze){ze.idealLength=Q.DEFAULT_INNER_EDGE_LENGTH})},te.prototype.calcSpringForces=function(){for(var Z=this.graphManager.getAllEdges(),oe=0;oe<Z.length;oe++){var ie=Z[oe],me=ie.getSource(),_e=ie.getTarget();ie.isIntraCluster&&null!=me.getOnCircleNodeExt()&&null!=_e.getOnCircleNodeExt()||this.calcSpringForce(ie,ie.idealLength)}},te.prototype.calcRepulsionForces=function(){for(var Z=this.graphManager.getNonOnCircleNodes(),oe=0;oe<Z.length;oe++)for(var ie=Z[oe],me=oe+1;me<Z.length;me++)this.calcRepulsionForce(ie,Z[me]);for(var Te=this.graphManager.getInCircleNodes(),De=0;De<Te.length;De++)for(var ze=Te[De],at=ze.getOwner().getNodes(),ft=0;ft<at.length;ft++){var Ye=at[ft];Ye!==ze&&this.calcRepulsionForce(ze,Ye)}},te.prototype.calcGravitationalForces=function(){if(!this.graphManager.rootGraph.isConnected)for(var Z=this.graphManager.getNonOnCircleNodes(),oe=0;oe<Z.length;oe++)this.calcGravitationalForce(Z[oe]);for(var me=this.graphManager.getInCircleNodes(),_e=0;_e<me.length;_e++)this.calcGravitationalForce(me[_e])},te.prototype.calcTotalForces=function(){for(var Z=this.graphManager.getAllNodes(),oe=0;oe<Z.length;oe++){var ie=Z[oe];ie.displacementX=this.coolingFactor*(ie.springForceX+ie.repulsionForceX+ie.gravitationForceX),ie.displacementY=this.coolingFactor*(ie.springForceY+ie.repulsionForceY+ie.gravitationForceY),ie.rotationAmount=0,ie.springForceX=0,ie.springForceY=0,ie.repulsionForceX=0,ie.repulsionForceY=0,ie.gravitationForceX=0,ie.gravitationForceY=0}for(var me=this.graphManager.getOnCircleNodes(),_e=0;_e<me.length;_e++){var Te=me[_e],De=Te.getOwner().getParent(),ze=Te.getOwner().decomposeForce(Te);this.phase===te.PHASE_SWAP_PREPERATION&&Te.getOnCircleNodeExt().addDisplacementForSwap(ze.getRotationAmount()),De.displacementX+=ze.getDisplacementX(),De.displacementY+=ze.getDisplacementY(),Te.displacementX=0,Te.displacementY=0,De.rotationAmount+=ze.getRotationAmount(),Te.rotationAmount=0}},te.prototype.moveNodes=function(){if(this.phase!==te.PHASE_PERFORM_SWAP){for(var Z=this.graphManager.getNonOnCircleNodes(),oe=0;oe<Z.length;oe++)Z[oe].move(),null!==Z[oe].getChild()&&void 0!==Z[oe].getChild()&&Z[oe].getChild().rotate();for(var ie=this.graphManager.getInCircleNodes(),me=void 0,_e=0;_e<ie.length;_e++)(me=ie[_e]).displacementX/=20,me.displacementY/=20,me.move()}else{for(var Te=this.graphManager.getOnCircleNodes(),De=Te.length,ze=[],Be=[],at=[],ft=[],Ye=void 0,Ct=void 0,Xe=void 0,Zt=void 0,Ht=void 0,It=void 0,mn=void 0,lt=0;lt<De;lt++)if(Ct=(Ye=Te[lt]).getOnCircleNodeExt().getNextNode(),Xe=Ye.getOnCircleNodeExt(),Zt=Ct.getOnCircleNodeExt(),Xe.canSwapWithNext&&Zt.canSwapWithPrev&&!((mn=(Ht=Xe.getDisplacementForSwap())-(It=Zt.getDisplacementForSwap()))<0)){var rt=new de(Ye,Ct,mn,Ht>0&&It>0||Ht<0&&It<0);0===Ht||0===It?Be.push(rt):ze.push(rt)}var ht=void 0,Ft=!0,Tt=void 0;for(ze.sort(function(Xr,dn){return Xr.getDiscrepancy()-dn.getDiscrepancy()});Ft&&ze.length>0;)if(Ye=(ht=ze[ze.length-1]).getFirstNode(),Ct=ht.getSecondNode(),Xe=Ye.getOnCircleNodeExt(),Zt=Ct.getOnCircleNodeExt(),this.isSwappedPreviously(ht))ze.pop(),ft.push(ht);else{var Kn=Xe.getInterClusterIntersections(Zt);ht.swap(),Tt=!1;var Jn=Xe.getInterClusterIntersections(Zt);!(Tt=Jn>Kn)&&Jn===Kn&&(Tt=ht.inSameDirection()||ht.getDiscrepancy()<Q.MIN_DISPLACEMENT_FOR_SWAP),Tt?(ht.swap(),ze.pop()):(at.push(ht.getFirstNode()),at.push(ht.getSecondNode()),ft.push(ht),Ft=!1)}for(var Tr=0;Tr<Be.length;Tr++){var kr=Be[Tr];kr.inSameDirection()||kr.getDiscrepancy()<Q.MIN_DISPLACEMENT_FOR_SWAP||at.includes(kr.getFirstNode())||at.includes(kr.getSecondNode())||(this.isSwappedPreviously(kr)||(kr.swap(),at.push(kr.getFirstNode()),at.push(kr.getSecondNode())),ft.push(kr))}this.swappedPairsInLastIteration=[];for(var Cr=0;Cr<ft.length;Cr++)this.swappedPairsInLastIteration.push(ft[Cr]);for(var Vn=0;Vn<De;Vn++)Te[Vn].getOnCircleNodeExt().setDisplacementForSwap(0)}},te.prototype.isSwappedPreviously=function(Z){for(var oe=0;oe<this.swappedPairsInLastIteration.length;oe++){var ie=this.swappedPairsInLastIteration[oe];if(ie.getFirstNode()===Z.getFirstNode()&&ie.getSecondNode()===Z.getSecondNode()||ie.getSecondNode()===Z.getFirstNode()&&ie.getFirstNode()===Z.getSecondNode())return!0}return!1},te.prototype.checkAndReverseIfReverseIsBetter=function(){for(var oe=this.getGraphManager().getRoot().getNodes(),me=void 0,_e=0;_e<oe.length;_e++)if(null!=(me=oe[_e].getChild())&&me.getMayBeReversed()&&me.getNodes().length<=52&&me.checkAndReverseIfReverseIsBetter())return!0;return!1},te.prototype.findAndMoveInnerNodes=function(){if(this.allowNodesInsideCircle)for(var Z=this.graphManager.getGraphs(),oe=0;oe<Z.length;oe++){var ie=Z[oe],me=0;if(ie!==this.getGraphManager().getRoot())for(var _e=ie.getNodes().length*this.maxRatioOfNodesInsideCircle,Te=this.findInnerNode(ie);null!=Te&&me<_e;)this.moveInnerNode(Te),++me<_e&&(Te=this.findInnerNode(ie))}},te.prototype.findInnerNode=function(Z){var oe=null,ie=Z.getOnCircleNodes().length,me=Z.getOnCircleNodes();me.sort(function(It,mn){return It.getEdges().length-mn.getEdges().length});for(var _e=ie-1;_e>=0&&null==oe;_e--){var Te=me[_e];if(0===Te.getOnCircleNodeExt().getInterClusterEdges().length){var De=this.findMinimalSpanningSegment(Te);if(0!==De.length){for(var ze=!1,Be=0;Be<De.length;Be++){var at=De[Be];if(ze)break;for(var ft=at.getNeighborsList(),Ye=0;Ye<ft.length;Ye++){var Ct=ft[Ye];if(Ct!==Te&&Ct.getOwner()===Z&&null!=Ct.getOnCircleNodeExt()&&null!=Ct.getOnCircleNodeExt()){var Xe=at.getOnCircleNodeExt().getIndex(),Zt=Ct.getOnCircleNodeExt().getIndex(),Ht=Xe-Zt;if(Ht+=ie,(Ht%=ie)>1&&(Ht=Zt-Xe,Ht+=ie,Ht%=ie),Ht>1){ze=!0;break}}}}ze||(oe=Te)}}}return oe},te.prototype.moveInnerNode=function(Z){Z.getOwner().moveOnCircleNodeInside(Z);var ie=this.graphManager.getOnCircleNodes(),me=ie.indexOf(Z);me>-1&&ie.splice(me,1),this.graphManager.inCircleNodes.push(Z)},te.prototype.findMinimalSpanningSegment=function(Z){var oe=[],ie=Z.getOnCircleNeighbors();if(0===ie.length)return oe;ie.sort(function(mn,cn){return mn.getOnCircleNodeExt().getIndex()-cn.getOnCircleNodeExt().getIndex()});var me=Z.getOwner().getOnCircleNodes();me.sort(function(mn,cn){return mn.getOnCircleNodeExt().getIndex()-cn.getOnCircleNodeExt().getIndex()});var _e=null,Te=null,De=me.length,ze=me.length,Be=ie.length,at=void 0,Ye=void 0,Ct=void 0,Xe=void 0;for(at=0;at<Be;at++)Ye=ie[at],(Xe=((Ct=ie[(at-1+Be)%Be]).getOnCircleNodeExt().getIndex()-Ye.getOnCircleNodeExt().getIndex()+ze)%ze+1)<De&&(_e=Ye,Te=Ct,De=Xe);for(var Zt=!1,Ht=_e;!Zt;)if(Ht!==Z&&oe.push(Ht),Ht===Te)Zt=!0;else{var It=Ht.getOnCircleNodeExt().getIndex()+1;It===me.length&&(It=0),Ht=me[It]}return oe},O.exports=te},function(O,I,C){"use strict";var T=C(0).layoutBase.FDLayoutNode,N=C(0).layoutBase.IMath,A=C(1),V=C(12);function L(H,$,Q,ue){T.call(this,H,$,Q,ue),this.rotationAmount=null,this.onCircleNodeExt=null,this.clusterID=null,this.ID=null}for(var k in L.prototype=Object.create(T.prototype),T)L[k]=T[k];L.prototype.setClusterId=function(H){this.clusterID=H},L.prototype.getClusterId=function(){return this.clusterID},L.prototype.setId=function(H){this.ID=H},L.prototype.getId=function(){return this.ID},L.prototype.setAsOnCircleNode=function(){return this.onCircleNodeExt=new V(this),this.onCircleNodeExt},L.prototype.setAsNonOnCircleNode=function(){this.onCircleNodeExt=null},L.prototype.getOnCircleNodeExt=function(){return this.onCircleNodeExt},L.prototype.getLimitedDisplacement=function(H){return Math.abs(H)>A.MAX_NODE_DISPLACEMENT&&(H=A.MAX_NODE_DISPLACEMENT*N.sign(H)),H},L.prototype.getOnCircleNeighbors=function(){for(var H=Array.from(this.getNeighborsList()),$=[],Q=0;Q<H.length;Q++){var ue=H[Q];null!==ue.getOnCircleNodeExt()&&ue.getClusterId()===this.getClusterId()&&$.push(ue)}return $},L.prototype.getNoOfChildren=function(){return null===this.getChild()||void 0===this.getChild()?1:this.getChild().getNodes().length},L.prototype.move=function(){var H=this.getOwner().getGraphManager().getLayout();if(this.displacementX=this.getLimitedDisplacement(this.displacementX),this.displacementY=this.getLimitedDisplacement(this.displacementY),null!==this.getChild()&&void 0!==this.getChild()){var $=this.getChild().getNodes().length;this.displacementX/=$,this.displacementY/=$;for(var Q=this.getChild().getNodes(),ue=0;ue<Q.length;ue++)Q[ue].moveBy(this.displacementX,this.displacementY),H.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)}this.moveBy(this.displacementX,this.displacementY),H.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),null!==this.getChild()&&void 0!==this.getChild()&&this.getChild().updateBounds(!0)},L.prototype.reset=function(){this.displacementX=0,this.displacementY=0},O.exports=L},function(O,I,C){"use strict";var T=C(0).layoutBase.IGeometry;function N(A){this.ciseNode=A,this.intraClusterEdges=null,this.interClusterEdges=null,this.angle=-1,this.orderIndex=-1,this.canSwapWithNext=null,this.canSwapWithPrevious=null,this.displacementForSwap=null}(N.prototype=Object.create(null)).getCiseNode=function(){return this.ciseNode},N.prototype.getAngle=function(){return this.angle},N.prototype.setAngle=function(A){this.angle=A%T.TWO_PI,this.angle<0&&(this.angle+=T.TWO_PI)},N.prototype.getIndex=function(){return this.orderIndex},N.prototype.setIndex=function(A){this.orderIndex=A},N.prototype.getCharCode=function(){return this.orderIndex<26?String.fromCharCode(97+this.orderIndex):this.orderIndex<52?String.fromCharCode(65+this.orderIndex):"?"},N.prototype.getNextNode=function(){var A=this.ciseNode.getOwner(),V=A.getOnCircleNodes().length,L=this.orderIndex+1;return L===V&&(L=0),A.getOnCircleNodes()[L]},N.prototype.getPrevNode=function(){var A=this.ciseNode.getOwner(),V=this.orderIndex-1;return-1===V&&(V=A.getOnCircleNodes().length-1),A.getOnCircleNodes()[V]},N.prototype.getNextNodeExt=function(){return this.getNextNode().getOnCircleNodeExt()},N.prototype.prevNextNodeExt=function(){return this.getPrevNode().getOnCircleNodeExt()},N.prototype.canSwapWithNext=function(){return this.canSwapWithNext},N.prototype.canSwapWithPrev=function(){return this.canSwapWithPrev},N.prototype.getDisplacementForSwap=function(){return this.displacementForSwap},N.prototype.setDisplacementForSwap=function(A){this.displacementForSwap=A},N.prototype.addDisplacementForSwap=function(A){this.displacementForSwap=A},N.prototype.updatePosition=function(){var A=this.ciseNode.getOwner(),V=A.getParent(),L=V.getCenterX(),k=V.getCenterY(),H=A.getRadius()*Math.cos(this.angle),$=A.getRadius()*Math.sin(this.angle);this.ciseNode.setCenter(L+H,k+$)},N.prototype.getCircDistWithTheNode=function(A){var V=A.getIndex();if(-1===V||-1===this.getIndex())return-1;var L=this.getIndex()-V;return L<0&&(L+=this.ciseNode.getOwner().getOnCircleNodes().length),L},N.prototype.calculateTotalCrossing=function(){var A=this.getIntraClusterEdges(),V=0,L=[];return this.ciseNode.getOwner().getIntraClusterEdges().forEach(function(k){L.push(k)}),this.ciseNode.getEdges().forEach(function(k){var H=L.indexOf(k);H>-1&&L.splice(H,1)}),A.forEach(function(k){V+=k.calculateTotalCrossingWithList(L)}),V},N.prototype.updateSwappingConditions=function(){var A=this.calculateTotalCrossing(),V=this.orderIndex,L=this.getNextNode().getOnCircleNodeExt();this.orderIndex=L.getIndex(),L.setIndex(V);var k=this.calculateTotalCrossing();this.canSwapWithNext=k<=A,L.setIndex(this.orderIndex),this.setIndex(V);var H=this.getPrevNode().getOnCircleNodeExt();this.orderIndex=H.getIndex(),H.setIndex(V),k=this.calculateTotalCrossing(),this.canSwapWithPrevious=k<=A,H.setIndex(this.orderIndex),this.setIndex(V)},N.prototype.swapWith=function(A){this.ciseNode.getOwner().swapNodes(this.ciseNode,A.ciseNode)},N.prototype.getInterClusterIntersections=function(A){for(var V=0,L=this.getInterClusterEdges(),k=A.getInterClusterEdges(),H=0;H<L.length;H++)for(var $=L[H],Q=this.ciseNode.getCenter(),ue=$.getOtherEnd(this.ciseNode).getCenter(),ne=0;ne<k.length;ne++){var le=k[ne],ae=A.ciseNode.getCenter(),de=le.getOtherEnd(A.ciseNode).getCenter();$.getOtherEnd(this.ciseNode)!==le.getOtherEnd(A.ciseNode)&&T.doIntersect(Q,ue,ae,de)&&V++}return V},N.prototype.getInterClusterEdges=function(){if(null===this.interClusterEdges){this.interClusterEdges=[];for(var A=this.ciseNode.getEdges(),V=0;V<A.length;V++){var L=A[V];L.isIntraCluster||this.interClusterEdges.push(L)}}return this.interClusterEdges},N.prototype.getIntraClusterEdges=function(){if(null===this.intraClusterEdges){this.intraClusterEdges=[];for(var A=this.ciseNode.getEdges(),V=0;V<A.length;V++){var L=A[V];L.isIntraCluster&&this.intraClusterEdges.push(L)}}return this.intraClusterEdges},O.exports=N},function(O,I,C){"use strict";function T(N,A,V,L){this.firstNode=N,this.secondNode=A,this.discrepancy=V,this.inSameDir=L}(T.prototype=Object.create).getDiscrepancy=function(){return this.discrepancy},T.prototype.inSameDirection=function(){return this.inSameDir},T.prototype.getFirstNode=function(){return this.firstNode},T.prototype.getSecondNode=function(){return this.secondNode},T.prototype.compareTo=function(N){return this.getDiscrepancy()-N.getDiscrepancy()},T.prototype.swap=function(){this.getFirstNode().getOnCircleNodeExt().swapWith(this.getSecondNode().getOnCircleNodeExt())},T.prototype.equals=function(N){var A=N instanceof T;if(A){var V=N;A&=this.firstNode.equals(V.getFirstNode())&&this.secondNode.equals(V.getSecondNode())||this.secondNode.equals(V.getFirstNode())&&this.firstNode.equals(V.getSecondNode())}return A},T.prototype.hashCode=function(){return this.firstNode.hashCode()+this.secondNode.hashCode()},T.prototype.toString=function(){var N="Swap: "+this.getFirstNode().label;return(N+="<->"+this.getSecondNode().label)+", "+this.getDiscrepancy()},O.exports=T},function(O,I,C){"use strict";function T(N,A,V){this.rotationAmount=N,this.displacementX=A,this.displacementY=V}T.prototype.getRotationAmount=function(){return this.rotationAmount},T.prototype.setRotationAmount=function(N){this.rotationAmount=N},T.prototype.getDisplacementX=function(){return this.displacementX},T.prototype.setDisplacementX=function(N){this.displacementX=N},T.prototype.getDisplacementY=function(){return this.displacementY},T.prototype.setDisplacementY=function(N){this.displacementY=N},O.exports=T},function(O,I,C){"use strict";var T=C(4),N=function(V){V&&V("layout","cise",T)};typeof cytoscape<"u"&&N(cytoscape),O.exports=N},function(O,I,C){"use strict";var T=function(){function te(pe,Z){for(var oe=0;oe<Z.length;oe++){var ie=Z[oe];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(pe,ie.key,ie)}}return function(pe,Z,oe){return Z&&te(pe.prototype,Z),oe&&te(pe,oe),pe}}(),N=function te(pe,Z,oe){null===pe&&(pe=Function.prototype);var ie=Object.getOwnPropertyDescriptor(pe,Z);if(void 0===ie){var me=Object.getPrototypeOf(pe);return null===me?void 0:te(me,Z,oe)}if("value"in ie)return ie.value;var _e=ie.get;return void 0===_e?void 0:_e.call(oe)};var k=C(10),H=C(1),$=C(0).layoutBase.FDLayoutConstants,Q=C(18),ue=Q.defaults,ne=C(2),de=function(te){function pe(Z){!function A(te,pe){if(!(te instanceof pe))throw new TypeError("Cannot call a class as a function")}(this,pe);var oe=function V(te,pe){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!pe||"object"!=typeof pe&&"function"!=typeof pe?te:pe}(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,ne({},ue,Z)));return H.DEFAULT_NODE_SEPARATION=null!=Z.nodeSeparation?Z.nodeSeparation:$.DEFAULT_EDGE_LENGTH/4,H.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF=null!=Z.idealInterClusterEdgeLengthCoefficient?Z.idealInterClusterEdgeLengthCoefficient:1.4,H.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE=null!=Z.allowNodesInsideCircle&&Z.allowNodesInsideCircle,H.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=null!=Z.maxRatioOfNodesInsideCircle?Z.maxRatioOfNodesInsideCircle:.1,H.DEFAULT_SPRING_STRENGTH=null!=Z.springCoeff?Z.springCoeff:1.5*$.DEFAULT_SPRING_STRENGTH,null!=Z.nodeRepulsion&&(H.DEFAULT_REPULSION_STRENGTH=$.DEFAULT_REPULSION_STRENGTH=Z.nodeRepulsion),null!=Z.gravity&&(H.DEFAULT_GRAVITY_STRENGTH=$.DEFAULT_GRAVITY_STRENGTH=Z.gravity),null!=Z.gravityRange&&(H.DEFAULT_GRAVITY_RANGE_FACTOR=$.DEFAULT_GRAVITY_RANGE_FACTOR=Z.gravityRange),H.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=null!=Z.maxRatioOfNodesInsideCircle?Z.maxRatioOfNodesInsideCircle:.1,oe}return function L(te,pe){if("function"!=typeof pe&&null!==pe)throw new TypeError("Super expression must either be null or a function, not "+typeof pe);te.prototype=Object.create(pe&&pe.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),pe&&(Object.setPrototypeOf?Object.setPrototypeOf(te,pe):te.__proto__=pe)}(pe,te),T(pe,[{key:"prerun",value:function(){var oe=this.state,ie=[[]];null!=this.options.clusters&&(ie=this.options.clusters);var me=oe.nodes,_e=oe.edges,Te=this.ciseLayout=new k,De=this.graphManager=Te.newGraphManager(),ze=this.root=De.addRoot();this.idToLNode=Te.convertToClusteredGraph(me,_e,ie),ze.updateConnected(),ze.calcEstimatedSize(),Te.calcNoOfChildrenForAllNodes(),Te.doStep1(),Te.doStep2(),ze.updateBounds(!0),ze.estimatedSize=Math.max(ze.right-ze.left,ze.bottom-ze.top),Te.prepareCirclesForReversal(),Te.calcIdealEdgeLengths(!1),this.initializerIndex=0,this.isDone=!1,this.isStepDone=!1,this.timeToSwitchNextStep=!0}},{key:"tick",value:function(){var oe=this,ie=this;if(this.state.nodes.forEach(function(_e){var Te=oe.getScratch(_e),De=ie.idToLNode[_e.data("id")];Te.x=De.getCenterX(),Te.y=De.getCenterY()}),this.timeToSwitchNextStep){switch(this.initializerIndex){case 0:case 2:this.ciseLayout.step5Init();break;case 1:this.ciseLayout.step3Init();break;case 3:this.ciseLayout.step4Init();break;case 4:this.ciseLayout.findAndMoveInnerNodes(),this.ciseLayout.calcIdealEdgeLengths(!0),this.ciseLayout.step5Init()}this.initializerIndex++,this.ciseLayout.iterations=0,this.ciseLayout.totalDisplacement=1e3,this.timeToSwitchNextStep=!1}return this.isStepDone=this.ciseLayout.runSpringEmbedderTick(),this.isStepDone&&this.initializerIndex<5&&(this.timeToSwitchNextStep=!0),this.isStepDone&&!1===this.timeToSwitchNextStep&&(this.isDone=!0),this.isDone}},{key:"postrun",value:function(){}},{key:"destroy",value:function(){return N(pe.prototype.__proto__||Object.getPrototypeOf(pe.prototype),"destroy",this).call(this),this}}]),pe}(Q);O.exports=de},function(O,I,C){"use strict";O.exports=Object.freeze({animate:!1,refresh:10,maxIterations:2500,maxSimulationTime:5e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,infinite:!1})},function(O,I,C){"use strict";var T=function(){function ae(de,te){for(var pe=0;pe<te.length;pe++){var Z=te[pe];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(de,Z.key,Z)}}return function(de,te,pe){return te&&ae(de.prototype,te),pe&&ae(de,pe),de}}();var A=C(2),V=C(17),L=C(19),k=C(20),H=k.setInitialPositionState,$=k.refreshPositions,Q=k.getNodePositionData,ne=C(21).multitick,le=function(){function ae(de){!function N(ae,de){if(!(ae instanceof de))throw new TypeError("Cannot call a class as a function")}(this,ae);var te=this.options=A({},V,de),pe=this.state=A({},te,{layout:this,nodes:te.eles.nodes(),edges:te.eles.edges(),tickIndex:0,firstUpdate:!0});pe.animateEnd=te.animate&&"end"===te.animate,pe.animateContinuously=te.animate&&!pe.animateEnd}return T(ae,[{key:"getScratch",value:function(te){var pe=this.state.name,Z=te.scratch(pe);return Z||te.scratch(pe,Z={}),Z}},{key:"run",value:function(){var te=this,pe=this.state;if(pe.tickIndex=0,pe.firstUpdate=!0,pe.startTime=Date.now(),pe.running=!0,pe.currentBoundingBox=L(pe.boundingBox,pe.cy),pe.ready&&te.one("ready",pe.ready),pe.stop&&te.one("stop",pe.stop),pe.nodes.forEach(function(Ht){return H(Ht,pe)}),te.prerun(pe),pe.animateContinuously){var me=function(It){!function(It){Q(It,pe).grabbed=It.grabbed()}(It.target)},_e=me,Te=function(It){var mn=It.target,cn=Q(mn,pe),lt=mn.position();cn.x=lt.x,cn.y=lt.y},Be=function(){pe.fit&&pe.animateContinuously&&pe.cy.fit(pe.padding)},at=function(){$(pe.nodes,pe),Be(),requestAnimationFrame(ft)},ft=function(){ne(pe,at,Ye)},Ye=function(){$(pe.nodes,pe),Be(),pe.nodes.forEach(function(It){(function(It){pe.ungrabifyWhileSimulating&&Q(It,pe).grabbable&&It.grabify()})(It),function(It){It.removeListener("grab",me),It.removeListener("free",_e),It.removeListener("drag",Te)}(It)}),pe.running=!1,te.emit("layoutstop")};te.emit("layoutstart"),pe.nodes.forEach(function(Ht){var It;It=Ht,pe.ungrabifyWhileSimulating&&(Q(It,pe).grabbable=It.grabbable())&&It.ungrabify(),function(It){It.on("grab",me),It.on("free",_e),It.on("drag",Te)}(Ht)}),ft()}else{for(var Ct=!1,Xe=function(){},Zt=function(){return Ct=!0};!Ct;)ne(pe,Xe,Zt);pe.eles.layoutPositions(this,pe,function(Ht){var It=Q(Ht,pe);return{x:It.x,y:It.y}})}return te.postrun(pe),this}},{key:"prerun",value:function(){}},{key:"postrun",value:function(){}},{key:"tick",value:function(){}},{key:"stop",value:function(){return this.state.running=!1,this}},{key:"destroy",value:function(){return this}}]),ae}();O.exports=le},function(O,I,C){"use strict";O.exports=function(T,N){return null==(T=null==T?{x1:0,y1:0,w:N.width(),h:N.height()}:{x1:T.x1,x2:T.x2,y1:T.y1,y2:T.y2,w:T.w,h:T.h}).x2&&(T.x2=T.x1+T.w),null==T.w&&(T.w=T.x2-T.x1),null==T.y2&&(T.y2=T.y1+T.h),null==T.h&&(T.h=T.y2-T.y1),T}},function(O,I,C){"use strict";var T=C(2);O.exports={setInitialPositionState:function(k,H){var $=k.position(),Q=H.currentBoundingBox,ue=k.scratch(H.name);null==ue&&k.scratch(H.name,ue={}),T(ue,H.randomize?{x:Q.x1+Math.round(Math.random()*Q.w),y:Q.y1+Math.round(Math.random()*Q.h)}:{x:$.x,y:$.y}),ue.locked=k.locked()},getNodePositionData:function(k,H){return k.scratch(H.name)},refreshPositions:function(k,H){k.positions(function($){var Q=$.scratch(H.name);return{x:Q.x,y:Q.y}})}}},function(O,I,C){"use strict";var T=function(){},N=function(L){var k=L,$=L.layout.tick(k);return k.firstUpdate&&(k.animateContinuously&&k.layout.emit("layoutready"),k.firstUpdate=!1),k.tickIndex++,!k.infinite&&$};O.exports={tick:N,multitick:function(L){for(var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T,$=!1,Q=L,ue=0;ue<Q.refresh&&!($=!Q.running||N(Q));ue++);$?H():k()}}}]))},7944:function(Y,se,D){var S;Y.exports=(S=D(8767),function(P){var O={};function I(C){if(O[C])return O[C].exports;var T=O[C]={i:C,l:!1,exports:{}};return P[C].call(T.exports,T,T.exports,I),T.l=!0,T.exports}return I.m=P,I.c=O,I.d=function(C,T,N){I.o(C,T)||Object.defineProperty(C,T,{enumerable:!0,get:N})},I.r=function(C){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},I.t=function(C,T){if(1&T&&(C=I(C)),8&T||4&T&&"object"==typeof C&&C&&C.__esModule)return C;var N=Object.create(null);if(I.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:C}),2&T&&"string"!=typeof C)for(var A in C)I.d(N,A,function(V){return C[V]}.bind(null,A));return N},I.n=function(C){var T=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(T,"a",T),T},I.o=function(C,T){return Object.prototype.hasOwnProperty.call(C,T)},I.p="",I(I.s=0)}([function(P,O,I){var C=I(1),T=function(A){A&&A("layout","dagre",C)};typeof cytoscape<"u"&&T(cytoscape),P.exports=T},function(P,O,I){function C(k){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function($){return typeof $}:function($){return $&&"function"==typeof Symbol&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(k)}var T=function(H){return"function"==typeof H},N=I(2),A=I(3),V=I(4);function L(k){this.options=A({},N,k)}L.prototype.run=function(){var k=this.options,$=k.cy,Q=k.eles,ue=function(Zt,Ht){return T(Ht)?Ht.apply(Zt,[Zt]):Ht},ne=k.boundingBox||{x1:0,y1:0,w:$.width(),h:$.height()};void 0===ne.x2&&(ne.x2=ne.x1+ne.w),void 0===ne.w&&(ne.w=ne.x2-ne.x1),void 0===ne.y2&&(ne.y2=ne.y1+ne.h),void 0===ne.h&&(ne.h=ne.y2-ne.y1);var le=new V.graphlib.Graph({multigraph:!0,compound:!0}),ae={},de=function(Zt,Ht){null!=Ht&&(ae[Zt]=Ht)};de("nodesep",k.nodeSep),de("edgesep",k.edgeSep),de("ranksep",k.rankSep),de("rankdir",k.rankDir),de("align",k.align),de("ranker",k.ranker),de("acyclicer",k.acyclicer),le.setGraph(ae),le.setDefaultEdgeLabel(function(){return{}}),le.setDefaultNodeLabel(function(){return{}});var te=Q.nodes();T(k.sort)&&(te=te.sort(k.sort));for(var pe=0;pe<te.length;pe++){var Z=te[pe],oe=Z.layoutDimensions(k);le.setNode(Z.id(),{width:oe.w,height:oe.h,name:Z.id()})}for(var ie=0;ie<te.length;ie++){var me=te[ie];me.isChild()&&le.setParent(me.id(),me.parent().id())}var Ye,_e=Q.edges().stdFilter(function(Xe){return!Xe.source().isParent()&&!Xe.target().isParent()});T(k.sort)&&(_e=_e.sort(k.sort));for(var Te=0;Te<_e.length;Te++){var De=_e[Te];le.setEdge(De.source().id(),De.target().id(),{minlen:ue(De,k.minLen),weight:ue(De,k.edgeWeight),name:De.id()},De.id())}V.layout(le);for(var ze=le.nodes(),Be=0;Be<ze.length;Be++){var at=ze[Be],ft=le.node(at);$.getElementById(at).scratch().dagre=ft}k.boundingBox?(Ye={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},te.forEach(function(Xe){var Zt=Xe.scratch().dagre;Ye.x1=Math.min(Ye.x1,Zt.x),Ye.x2=Math.max(Ye.x2,Zt.x),Ye.y1=Math.min(Ye.y1,Zt.y),Ye.y2=Math.max(Ye.y2,Zt.y)}),Ye.w=Ye.x2-Ye.x1,Ye.h=Ye.y2-Ye.y1):Ye=ne;return te.layoutPositions(this,k,function(Xe){var Zt=(Xe="object"===C(Xe)?Xe:this).scratch().dagre;return function(Zt){return k.boundingBox?{x:ne.x1+(0===Ye.w?0:(Zt.x-Ye.x1)/Ye.w)*ne.w,y:ne.y1+(0===Ye.h?0:(Zt.y-Ye.y1)/Ye.h)*ne.h}:Zt}({x:Zt.x,y:Zt.y})}),this},P.exports=L},function(P,O){P.exports={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(T){return 1},edgeWeight:function(T){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(T,N){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(T,N){return N},ready:function(){},sort:void 0,stop:function(){}}},function(P,O){P.exports=null!=Object.assign?Object.assign.bind(Object):function(I){for(var C=arguments.length,T=new Array(C>1?C-1:0),N=1;N<C;N++)T[N-1]=arguments[N];return T.forEach(function(A){Object.keys(A).forEach(function(V){return I[V]=A[V]})}),I}},function(P,O){P.exports=S}]))},3848:function(Y,se,D){var S;Y.exports=(S=D(7925),function(P){var O={};function I(C){if(O[C])return O[C].exports;var T=O[C]={i:C,l:!1,exports:{}};return P[C].call(T.exports,T,T.exports,I),T.l=!0,T.exports}return I.m=P,I.c=O,I.i=function(C){return C},I.d=function(C,T,N){I.o(C,T)||Object.defineProperty(C,T,{configurable:!1,enumerable:!0,get:N})},I.n=function(C){var T=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(T,"a",T),T},I.o=function(C,T){return Object.prototype.hasOwnProperty.call(C,T)},I.p="",I(I.s=7)}([function(P,O,I){"use strict";P.exports=null!=Object.assign?Object.assign.bind(Object):function(C){for(var T=arguments.length,N=Array(T>1?T-1:0),A=1;A<T;A++)N[A-1]=arguments[A];return N.forEach(function(V){null!=V&&Object.keys(V).forEach(function(L){return C[L]=V[L]})}),C}},function(P,O,I){"use strict";var T=I(5).getBoundingBox;P.exports={getRef:function N(A,V){return{getBoundingClientRect:function(){return T(A,V)}}}}},function(P,O,I){"use strict";var C=I(0),N=I(1).getRef,V=I(6).getContent,L={},H=I(8).createPopper;P.exports={getPopper:function $(Q,ue){var ne=N(Q,ue),le=V(Q,ue.content),ae=C({},L,ue.popper);return H(ne,le,ae)}}},function(P,O,I){"use strict";var C=I(0),N=I(2).getPopper,V=I(1).getRef;function H(ne,le){var ae=function(ie){return ie.isNode()?{w:ie.renderedWidth(),h:ie.renderedHeight()}:{w:3,h:3}},pe=ne.cy();return C({},{renderedDimensions:ae,renderedPosition:function(ie){return ie.isNode()?function $(ne,le){var ae=ne.renderedPosition(),de=le(ne);return{x:ae.x-de.w/2,y:ae.y-de.h/2}}(ie,ae):function Q(ne){var le=ne.midpoint(),ae=ne.cy().pan(),de=ne.cy().zoom();return{x:le.x*de+ae.x,y:le.y*de+ae.y}}(ie)},popper:{},cy:pe},le)}function ue(ne){ne.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}P.exports={popper:function L(ne){return ue(this),N(this[0],H(this[0],ne))},popperRef:function k(ne){return ue(this),V(this[0],H(this[0],ne))}}},function(P,O,I){"use strict";var C=I(0),N=I(2).getPopper,V=I(1).getRef;function H($,Q){return C({},{boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},renderedPosition:function(){return{x:0,y:0}},popper:{},cy:$},Q)}P.exports={popper:function L($){return N(this,H(this,$))},popperRef:function k($){return V(this,H(this,$))}}},function(P,O,I){"use strict";P.exports={getBoundingBox:function C(T,N){var A=N.renderedPosition,L=N.renderedDimensions,k=N.cy.container().getBoundingClientRect(),H=L(T),$=A(T);return{top:$.y+k.top,left:$.x+k.left,right:$.x+H.w+k.left,bottom:$.y+H.h+k.top,width:H.w,height:H.h}}}},function(P,O,I){"use strict";P.exports={getContent:function C(T,N){var A;if("function"!=typeof N){if(N instanceof HTMLElement)return N;throw new Error("Can not create popper from 'target' with unknown type")}if(null===(A=N(T)))throw new Error("No 'target' specified to create popper");return A}}},function(P,O,I){"use strict";var C=I(4),T=I(3),N=function(V){V&&(V("core","popper",C.popper),V("collection","popper",T.popper),V("core","popperRef",C.popperRef),V("collection","popperRef",T.popperRef))};typeof cytoscape<"u"&&N(cytoscape),P.exports=N},function(P,O){P.exports=S}]))},6100:(Y,se,D)=>{"use strict";var S=D(4430),P=D(7444),O=D(5440),I=D(7939),C=D(9078);function T(u){return u&&"object"==typeof u&&"default"in u?u:{default:u}}var N=T(S),A=T(P),V=T(O),L=T(I),k=T(C);function H(u){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(u)}function $(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function Q(u,o){for(var l=0;l<o.length;l++){var f=o[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}function ue(u,o,l){return o&&Q(u.prototype,o),l&&Q(u,l),Object.defineProperty(u,"prototype",{writable:!1}),u}function ne(u,o,l){return o in u?Object.defineProperty(u,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):u[o]=l,u}function le(u,o){return function ae(u){if(Array.isArray(u))return u}(u)||function de(u,o){var l=null==u?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(null!=l){var g,w,f=[],h=!0,p=!1;try{for(l=l.call(u);!(h=(g=l.next()).done)&&(f.push(g.value),!o||f.length!==o);h=!0);}catch(x){p=!0,w=x}finally{try{!h&&null!=l.return&&l.return()}finally{if(p)throw w}}return f}}(u,o)||function te(u,o){if(u){if("string"==typeof u)return pe(u,o);var l=Object.prototype.toString.call(u).slice(8,-1);if("Object"===l&&u.constructor&&(l=u.constructor.name),"Map"===l||"Set"===l)return Array.from(u);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return pe(u,o)}}(u,o)||function Z(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(u,o){(null==o||o>u.length)&&(o=u.length);for(var l=0,f=new Array(o);l<o;l++)f[l]=u[l];return f}var oe=typeof window>"u"?null:window,ie=oe?oe.navigator:null,me=H(""),_e=H({}),Te=H(function(){}),De=typeof HTMLElement>"u"?"undefined":H(HTMLElement),ze=function(o){return o&&o.instanceString&&at(o.instanceString)?o.instanceString():null},Be=function(o){return null!=o&&H(o)==me},at=function(o){return null!=o&&H(o)===Te},ft=function(o){return!It(o)&&(Array.isArray?Array.isArray(o):null!=o&&o instanceof Array)},Ye=function(o){return null!=o&&H(o)===_e&&!ft(o)&&o.constructor===Object},Xe=function(o){return null!=o&&H(o)===H(1)&&!isNaN(o)},Ht=function(o){if("undefined"!==De)return null!=o&&o instanceof HTMLElement},It=function(o){return mn(o)||cn(o)},mn=function(o){return"collection"===ze(o)&&o._private.single},cn=function(o){return"collection"===ze(o)&&!o._private.single},lt=function(o){return"core"===ze(o)},rt=function(o){return"stylesheet"===ze(o)},Ft=function(o){return null==o||!(""!==o&&!o.match(/^\s+$/))},Jn=function(o){return function(o){return null!=o&&H(o)===_e}(o)&&at(o.then)},kr=function(o,l){l||(l=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var p=[],g=0;g<arguments.length;g++)p.push(arguments[g]);return p.join("$")});var f=function h(){var w,g=arguments,x=l.apply(this,g),E=h.cache;return(w=E[x])||(w=E[x]=o.apply(this,g)),w};return f.cache={},f},Cr=kr(function(u){return u.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}),wn=kr(function(u){return u.replace(/(-\w)/g,function(o){return o[1].toUpperCase()})}),Vn=kr(function(u,o){return u+o[0].toUpperCase()+o.substring(1)},function(u,o){return u+"$"+o}),Xr=function(o){return Ft(o)?o:o.charAt(0).toUpperCase()+o.substring(1)},dn="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Ri="rgb[a]?\\(("+dn+"[%]?)\\s*,\\s*("+dn+"[%]?)\\s*,\\s*("+dn+"[%]?)(?:\\s*,\\s*("+dn+"))?\\)",ro="rgb[a]?\\((?:"+dn+"[%]?)\\s*,\\s*(?:"+dn+"[%]?)\\s*,\\s*(?:"+dn+"[%]?)(?:\\s*,\\s*(?:"+dn+"))?\\)",Fi="hsl[a]?\\(("+dn+")\\s*,\\s*("+dn+"[%])\\s*,\\s*("+dn+"[%])(?:\\s*,\\s*("+dn+"))?\\)",Bi="hsl[a]?\\((?:"+dn+")\\s*,\\s*(?:"+dn+"[%])\\s*,\\s*(?:"+dn+"[%])(?:\\s*,\\s*(?:"+dn+"))?\\)",ja=function(o,l){return o<l?-1:o>l?1:0},Nn=null!=Object.assign?Object.assign.bind(Object):function(u){for(var o=arguments,l=1;l<o.length;l++){var f=o[l];if(null!=f)for(var h=Object.keys(f),p=0;p<h.length;p++){var g=h[p];u[g]=f[g]}}return u},Ss={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},_n=function(o){for(var l=o.map,f=o.keys,h=f.length,p=0;p<h;p++){var g=f[p];if(Ye(g))throw Error("Tried to set map with object key");p<f.length-1?(null==l[g]&&(l[g]={}),l=l[g]):l[g]=o.value}},ma=function(o){for(var l=o.map,f=o.keys,h=f.length,p=0;p<h;p++){var g=f[p];if(Ye(g))throw Error("Tried to get map with object key");if(null==(l=l[g]))return l}return l},go=oe?oe.performance:null,pi=go&&go.now?function(){return go.now()}:function(){return Date.now()},Zi=function(){if(oe){if(oe.requestAnimationFrame)return function(u){oe.requestAnimationFrame(u)};if(oe.mozRequestAnimationFrame)return function(u){oe.mozRequestAnimationFrame(u)};if(oe.webkitRequestAnimationFrame)return function(u){oe.webkitRequestAnimationFrame(u)};if(oe.msRequestAnimationFrame)return function(u){oe.msRequestAnimationFrame(u)}}return function(u){u&&setTimeout(function(){u(pi())},1e3/60)}}(),mu=function(o){return Zi(o)},Si=pi,Ma=9261,Ks=5381,Qc=function(o){for(var h,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma;!(h=o.next()).done;)f=65599*f+h.value|0;return f},Ia=function(o){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma)+o|0},Zs=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ks;return(l<<5)+l+o|0},os=function(o){return 2097152*o[0]+o[1]},Aa=function(o,l){return[Ia(o[0],l[0]),Zs(o[1],l[1])]},as=function(o,l){var f={value:0,done:!1},h=0,p=o.length;return Qc({next:function(){return h<p?f.value=o.charCodeAt(h++):f.done=!0,f}},l)},ed=function(){return vu(arguments)},vu=function(o){for(var l,f=0;f<o.length;f++){var h=o[f];l=0===f?as(h):as(h,l)}return l},ec=!0,No=null!=console.warn,td=null!=console.trace,tc=Number.MAX_SAFE_INTEGER||9007199254740991,nc=function(){return!0},Ms=function(){return!1},rc=function(){return 0},nd=function(){},ni=function(o){throw new Error(o)},Oa=function(o){if(void 0===o)return ec;ec=!!o},Sr=function(o){Oa()&&(No?console.warn(o):(console.log(o),td&&console.trace()))},ki=function(o){return null==o?o:ft(o)?o.slice():Ye(o)?function(o){return Nn({},o)}(o):o},df=function(o,l){for(l=o="";o++<36;l+=51*o&52?(15^o?8^Math.random()*(20^o?16:4):4).toString(16):"-");return l},Pi={},Cn=function(){return Pi},li=function(o){var l=Object.keys(o);return function(f){for(var h={},p=0;p<l.length;p++){var g=l[p],w=f?.[g];h[g]=void 0===w?o[g]:w}return h}},$a=function(o,l,f){for(var h=o.length-1;h>=0&&(o[h]!==l||(o.splice(h,1),!f));h--);},Ro=function(o){o.splice(0,o.length)},Qi=function(o,l,f){return f&&(l=Vn(f,l)),o[l]},ko=function(o,l,f,h){f&&(l=Vn(f,l)),o[l]=h},St=typeof Map<"u"?Map:function(){function u(){$(this,u),this._obj={}}return ue(u,[{key:"set",value:function(l,f){return this._obj[l]=f,this}},{key:"delete",value:function(l){return this._obj[l]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(l){return void 0!==this._obj[l]}},{key:"get",value:function(l){return this._obj[l]}}]),u}(),id=function(){function u(o){if($(this,u),this._obj=Object.create(null),this.size=0,null!=o){var l;l=null!=o.instanceString&&o.instanceString()===this.instanceString()?o.toArray():o;for(var f=0;f<l.length;f++)this.add(l[f])}}return ue(u,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(l){var f=this._obj;1!==f[l]&&(f[l]=1,this.size++)}},{key:"delete",value:function(l){var f=this._obj;1===f[l]&&(f[l]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(l){return 1===this._obj[l]}},{key:"toArray",value:function(){var l=this;return Object.keys(this._obj).filter(function(f){return l.has(f)})}},{key:"forEach",value:function(l,f){return this.toArray().forEach(l,f)}}]),u}(),Is="undefined"!==(typeof Set>"u"?"undefined":H(Set))?Set:id,Oe=function(o,l){var f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==o&&void 0!==l&&lt(o)){var h=l.group;if(null==h&&(h=l.data&&null!=l.data.source&&null!=l.data.target?"edges":"nodes"),"nodes"===h||"edges"===h){this.length=1,this[0]=this;var p=this._private={cy:o,single:!0,data:l.data||{},position:l.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:h,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!l.selected,selectable:void 0===l.selectable||!!l.selectable,locked:!!l.locked,grabbed:!1,grabbable:void 0===l.grabbable||!!l.grabbable,pannable:void 0===l.pannable?"edges"===h:!!l.pannable,active:!1,classes:new Is,animation:{current:[],queue:[]},rscratch:{},scratch:l.scratch||{},edges:[],children:[],parent:l.parent&&l.parent.isNode()?l.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==p.position.x&&(p.position.x=0),null==p.position.y&&(p.position.y=0),l.renderedPosition){var g=l.renderedPosition,w=o.pan(),x=o.zoom();p.position={x:(g.x-w.x)/x,y:(g.y-w.y)/x}}var E=[];ft(l.classes)?E=l.classes:Be(l.classes)&&(E=l.classes.split(/\s+/));for(var M=0,F=E.length;M<F;M++){var z=E[M];!z||""===z||p.classes.add(z)}this.createEmitter();var W=l.style||l.css;W&&(Sr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(W)),(void 0===f||f)&&this.restore()}else ni("An element must be of type `nodes` or `edges`; you specified `"+h+"`")}else ni("An element must have a core reference and parameters set")},Re=function(o){return o={bfs:o.bfs||!o.dfs,dfs:o.dfs||!o.bfs},function(f,h,p){var g;Ye(f)&&!It(f)&&(f=(g=f).roots||g.root,h=g.visit,p=g.directed),p=2!==arguments.length||at(h)?p:h,h=at(h)?h:function(){};for(var q,w=this._private.cy,x=f=Be(f)?this.filter(f):f,E=[],M=[],F={},z={},W={},j=0,J=this.byGroup(),re=J.nodes,fe=J.edges,he=0;he<x.length;he++){var ve=x[he],Me=ve.id();ve.isNode()&&(E.unshift(ve),o.bfs&&(W[Me]=!0,M.push(ve)),z[Me]=0)}for(var Ie=function(){var He=o.bfs?E.shift():E.pop(),Ne=He.id();if(o.dfs){if(W[Ne])return"continue";W[Ne]=!0,M.push(He)}var vt,Ke=z[Ne],Ue=F[Ne],Ge=null!=Ue?Ue.source():null,ot=null!=Ue?Ue.target():null,ct=null==Ue?void 0:He.same(Ge)?ot[0]:Ge[0];if(!0===(vt=h(He,Ue,ct,j++,Ke)))return q=He,"break";if(!1===vt)return"break";for(var st=He.connectedEdges().filter(function(_t){return(!p||_t.source().same(He))&&fe.has(_t)}),mt=0;mt<st.length;mt++){var At=st[mt],Ot=At.connectedNodes().filter(function(_t){return!_t.same(He)&&re.has(_t)}),Dt=Ot.id();0!==Ot.length&&!W[Dt]&&(E.push(Ot=Ot[0]),o.bfs&&(W[Dt]=!0,M.push(Ot)),F[Dt]=At,z[Dt]=z[Ne]+1)}};0!==E.length;){var ye=Ie();if("continue"!==ye&&"break"===ye)break}for(var Se=w.collection(),we=0;we<M.length;we++){var ke=M[we],Pe=F[ke.id()];null!=Pe&&Se.push(Pe),Se.push(ke)}return{path:w.collection(Se),found:w.collection(q)}}},Ve={breadthFirstSearch:Re({bfs:!0}),depthFirstSearch:Re({dfs:!0})};Ve.bfs=Ve.breadthFirstSearch,Ve.dfs=Ve.depthFirstSearch;var nt=li({root:null,weight:function(o){return 1},directed:!1}),qe={dijkstra:function(o){if(!Ye(o)){var l=arguments;o={root:l[0],weight:l[1],directed:l[2]}}var Ue,Ge,f=nt(o),h=f.root,g=f.directed,w=this,x=f.weight,E=Be(h)?this.filter(h)[0]:h[0],M={},F={},z={},W=this.byGroup(),j=W.nodes,q=W.edges;q.unmergeBy(function(Ke){return Ke.isLoop()});for(var J=function(Ue){return M[Ue.id()]},fe=new A.default(function(Ke,Ue){return J(Ke)-J(Ue)}),he=0;he<j.length;he++){var ve=j[he];M[ve.id()]=ve.same(E)?0:1/0,fe.push(ve)}for(var Me=function(Ue,Ge){for(var vt,ot=(g?Ue.edgesTo(Ge):Ue.edgesWith(Ge)).intersect(q),ct=1/0,st=0;st<ot.length;st++){var mt=ot[st],At=x(mt);(At<ct||!vt)&&(ct=At,vt=mt)}return{edge:vt,dist:ct}};fe.size()>0;){var Ie=fe.pop(),ye=J(Ie),Se=Ie.id();if(z[Se]=ye,ye!==1/0)for(var we=Ie.neighborhood().intersect(j),ke=0;ke<we.length;ke++){var Pe=we[ke],Ee=Pe.id(),He=Me(Ie,Pe),Ne=ye+He.dist;Ne<J(Pe)&&(Ge=Ne,M[(Ue=Pe).id()]=Ge,fe.updateItem(Ue),F[Ee]={node:Ie,edge:He.edge})}}return{distanceTo:function(Ue){var Ge=Be(Ue)?j.filter(Ue)[0]:Ue[0];return z[Ge.id()]},pathTo:function(Ue){var Ge=Be(Ue)?j.filter(Ue)[0]:Ue[0],ot=[],ct=Ge,vt=ct.id();if(Ge.length>0)for(ot.unshift(Ge);F[vt];){var st=F[vt];ot.unshift(st.edge),ot.unshift(st.node),vt=(ct=st.node).id()}return w.spawn(ot)}}}},qt={kruskal:function(o){o=o||function(he){return 1};for(var l=this.byGroup(),f=l.nodes,h=l.edges,p=f.length,g=new Array(p),w=f,x=function(ve){for(var Me=0;Me<g.length;Me++)if(g[Me].has(ve))return Me},E=0;E<p;E++)g[E]=this.spawn(f[E]);for(var M=h.sort(function(he,ve){return o(he)-o(ve)}),F=0;F<M.length;F++){var z=M[F],W=z.source()[0],j=z.target()[0],q=x(W),J=x(j),re=g[q],fe=g[J];q!==J&&(w.merge(z),re.merge(fe),g.splice(J,1))}return w}},gn=li({root:null,goal:null,weight:function(o){return 1},heuristic:function(o){return 0},directed:!1}),Vt={aStar:function(o){var l=this.cy(),f=gn(o),h=f.root,p=f.goal,g=f.heuristic,w=f.directed,x=f.weight;h=l.collection(h)[0],p=l.collection(p)[0];var he,ve,E=h.id(),M=p.id(),F={},z={},W={},j=new A.default(function(vt,st){return z[vt.id()]-z[st.id()]}),q=new Is,J={},re={},fe=function(st,mt){j.push(st),q.add(mt)};fe(h,E),F[E]=0,z[E]=g(h);for(var ye=0;j.size()>0;){if(ve=(he=j.pop()).id(),q.delete(ve),ye++,ve===M){for(var Se=[],we=p,ke=M,Pe=re[ke];Se.unshift(we),null!=Pe&&Se.unshift(Pe),null!=(we=J[ke]);)Pe=re[ke=we.id()];return{found:!0,distance:F[ve],path:this.spawn(Se),steps:ye}}W[ve]=!0;for(var Ee=he._private.edges,He=0;He<Ee.length;He++){var Ne=Ee[He];if(this.hasElementWithId(Ne.id())&&(!w||Ne.data("source")===ve)){var Ke=Ne.source(),Ue=Ne.target(),Ge=Ke.id()!==ve?Ke:Ue,ot=Ge.id();if(this.hasElementWithId(ot)&&!W[ot]){var ct=F[ve]+x(Ne);if(!q.has(ot)){F[ot]=ct,z[ot]=ct+g(Ge),fe(Ge,ot),J[ot]=he,re[ot]=Ne;continue}ct<F[ot]&&(F[ot]=ct,z[ot]=ct+g(Ge),J[ot]=he,re[ot]=Ne)}}}}return{found:!1,distance:void 0,path:void 0,steps:ye}}},en=li({weight:function(o){return 1},directed:!1}),Un={floydWarshall:function(o){for(var l=this.cy(),f=en(o),p=f.directed,g=f.weight,w=this.byGroup(),x=w.nodes,E=w.edges,M=x.length,F=M*M,z=function(At){return x.indexOf(At)},W=function(At){return x[At]},j=new Array(F),q=0;q<F;q++){var J=q%M;j[q]=(q-J)/M===J?0:1/0}for(var fe=new Array(F),he=new Array(F),ve=0;ve<E.length;ve++){var Me=E[ve],Ie=Me.source()[0],ye=Me.target()[0];if(Ie!==ye){var Se=z(Ie),we=z(ye),ke=Se*M+we,Pe=g(Me);if(j[ke]>Pe&&(j[ke]=Pe,fe[ke]=we,he[ke]=Me),!p){var Ee=we*M+Se;!p&&j[Ee]>Pe&&(j[Ee]=Pe,fe[Ee]=Se,he[Ee]=Me)}}}for(var He=0;He<M;He++)for(var Ne=0;Ne<M;Ne++)for(var Ke=Ne*M+He,Ue=0;Ue<M;Ue++){var Ge=Ne*M+Ue,ot=He*M+Ue;j[Ke]+j[ot]<j[Ge]&&(j[Ge]=j[Ke]+j[ot],fe[Ge]=fe[Ke])}var vt=function(At){return z(function(At){return(Be(At)?l.filter(At):At)[0]}(At))};return{distance:function(At,Ot){var Dt=vt(At),_t=vt(Ot);return j[Dt*M+_t]},path:function(At,Ot){var Dt=vt(At),_t=vt(Ot),Je=W(Dt);if(Dt===_t)return Je.collection();if(null==fe[Dt*M+_t])return l.collection();var Mt=l.collection();for(Mt.merge(Je);Dt!==_t;)Mt.merge(he[Dt*M+(Dt=fe[Dt*M+_t])]),Mt.merge(W(Dt));return Mt}}}},Bt=li({weight:function(o){return 1},directed:!1,root:null}),Ar={bellmanFord:function(o){var l=this,f=Bt(o),p=f.directed,g=f.root,w=f.weight,x=this,E=this.cy(),M=this.byGroup(),F=M.edges,z=M.nodes,W=z.length,j=new St,q=!1,J=[];g=E.collection(g)[0],F.unmergeBy(function(xn){return xn.isLoop()});for(var re=F.length,fe=function(un){var Rn=j.get(un.id());return Rn||(Rn={},j.set(un.id(),Rn)),Rn},he=function(un){return(Be(un)?E.$(un):un)[0]},Ie=0;Ie<W;Ie++){var ye=z[Ie],Se=fe(ye);Se.dist=ye.same(g)?0:1/0,Se.pred=null,Se.edge=null}for(var we=!1,ke=function(un,Rn,Nr,fr,$n,zt){var Ce=fr.dist+zt;Ce<$n.dist&&!Nr.same(fr.edge)&&($n.dist=Ce,$n.pred=un,$n.edge=Nr,we=!0)},Pe=1;Pe<W;Pe++){we=!1;for(var Ee=0;Ee<re;Ee++){var He=F[Ee],Ne=He.source(),Ke=He.target(),Ue=w(He),Ge=fe(Ne),ot=fe(Ke);ke(Ne,0,He,Ge,ot,Ue),p||ke(Ke,0,He,ot,Ge,Ue)}if(!we)break}if(we)for(var ct=[],vt=0;vt<re;vt++){var st=F[vt],mt=st.source(),At=st.target(),Ot=w(st),Dt=fe(mt).dist,_t=fe(At).dist;if(Dt+Ot<_t||!p&&_t+Ot<Dt){if(q||(Sr("Graph contains a negative weight cycle for Bellman-Ford"),q=!0),!1===o.findNegativeWeightCycles)break;var Je=[];Dt+Ot<_t&&Je.push(mt),!p&&_t+Ot<Dt&&Je.push(At);for(var Mt=Je.length,Nt=0;Nt<Mt;Nt++){var Wt=Je[Nt],rn=[Wt];rn.push(fe(Wt).edge);for(var Xn=fe(Wt).pred;-1===rn.indexOf(Xn);)rn.push(Xn),rn.push(fe(Xn).edge),Xn=fe(Xn).pred;for(var ar=(rn=rn.slice(rn.indexOf(Xn)))[0].id(),sn=0,Jt=2;Jt<rn.length;Jt+=2)rn[Jt].id()<ar&&(ar=rn[Jt].id(),sn=Jt);(rn=rn.slice(sn).concat(rn.slice(0,sn))).push(rn[0]);var Pn=rn.map(function(xn){return xn.id()}).join(",");-1===ct.indexOf(Pn)&&(J.push(x.spawn(rn)),ct.push(Pn))}}}return{distanceTo:function(un){return fe(he(un)).dist},pathTo:function(un){for(var Rn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,fr=[],$n=he(un);;){if(null==$n)return l.spawn();var zt=fe($n),Ce=zt.edge,dt=zt.pred;if(fr.unshift($n[0]),$n.same(Rn)&&fr.length>0)break;null!=Ce&&fr.unshift(Ce),$n=dt}return x.spawn(fr)},hasNegativeWeightCycle:q,negativeWeightCycles:J}}},er=Math.sqrt(2),or=function(o,l,f){0===f.length&&ni("Karger-Stein must be run on a connected (sub)graph");for(var h=f[o],w=l[h[1]],x=l[h[2]],E=f,M=E.length-1;M>=0;M--){var F=E[M],z=F[1],W=F[2];(l[z]===w&&l[W]===x||l[z]===x&&l[W]===w)&&E.splice(M,1)}for(var j=0;j<E.length;j++){var q=E[j];q[1]===x?(E[j]=q.slice(),E[j][1]=w):q[2]===x&&(E[j]=q.slice(),E[j][2]=w)}for(var J=0;J<l.length;J++)l[J]===x&&(l[J]=w);return E},ri=function(o,l,f,h){for(;f>h;){var p=Math.floor(Math.random()*l.length);l=or(p,o,l),f--}return l},Mn={kargerStein:function(){var o=this,l=this.byGroup(),f=l.nodes,h=l.edges;h.unmergeBy(function(ot){return ot.isLoop()});var p=f.length,g=h.length,w=Math.ceil(Math.pow(Math.log(p)/Math.LN2,2)),x=Math.floor(p/er);if(!(p<2)){for(var E=[],M=0;M<g;M++){var F=h[M];E.push([M,f.indexOf(F.source()),f.indexOf(F.target())])}for(var z=1/0,W=[],j=new Array(p),q=new Array(p),J=new Array(p),re=function(ct,vt){for(var st=0;st<p;st++)vt[st]=ct[st]},fe=0;fe<=w;fe++){for(var he=0;he<p;he++)q[he]=he;var ve=ri(q,E.slice(),p,x),Me=ve.slice();re(q,J);var Ie=ri(q,ve,x,2),ye=ri(J,Me,x,2);Ie.length<=ye.length&&Ie.length<z?(z=Ie.length,W=Ie,re(q,j)):ye.length<=Ie.length&&ye.length<z&&(z=ye.length,W=ye,re(J,j))}for(var Se=this.spawn(W.map(function(ot){return h[ot[0]]})),we=this.spawn(),ke=this.spawn(),Pe=j[0],Ee=0;Ee<j.length;Ee++){var Ne=f[Ee];j[Ee]===Pe?we.merge(Ne):ke.merge(Ne)}var Ke=function(ct){var vt=o.spawn();return ct.forEach(function(st){vt.merge(st),st.connectedEdges().forEach(function(mt){o.contains(mt)&&!Se.contains(mt)&&vt.merge(mt)})}),vt},Ue=[Ke(we),Ke(ke)];return{cut:Se,components:Ue,partition1:we,partition2:ke}}ni("At least 2 nodes are required for Karger-Stein algorithm")}},Lr=function(o,l,f){return{x:o.x*l+f.x,y:o.y*l+f.y}},gi=function(o,l,f){return{x:(o.x-f.x)/l,y:(o.y-f.y)/l}},ui=function(o){return{x:o[0],y:o[1]}},ci=function(o,l){return Math.atan2(l,o)-Math.PI/2},Hi=Math.log2||function(u){return Math.log(u)/Math.log(2)},mo=function(o){return o>0?1:o<0?-1:0},zi=function(o,l){return Math.sqrt(Rr(o,l))},Rr=function(o,l){var f=l.x-o.x,h=l.y-o.y;return f*f+h*h},qs=function(o){for(var l=o.length,f=0,h=0;h<l;h++)f+=o[h];for(var p=0;p<l;p++)o[p]=o[p]/f;return o},di=function(o,l,f,h){return(1-h)*(1-h)*o+2*(1-h)*h*l+h*h*f},vo=function(o,l,f,h){return{x:di(o.x,l.x,f.x,h),y:di(o.y,l.y,f.y,h)}},Qs=function(o,l,f){return Math.max(o,Math.min(f,l))},Mi=function(o){if(null==o)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=o.x1&&null!=o.y1){if(null!=o.x2&&null!=o.y2&&o.x2>=o.x1&&o.y2>=o.y1)return{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,w:o.x2-o.x1,h:o.y2-o.y1};if(null!=o.w&&null!=o.h&&o.w>=0&&o.h>=0)return{x1:o.x1,y1:o.y1,x2:o.x1+o.w,y2:o.y1+o.h,w:o.w,h:o.h}}},zl=function(o,l){o.x1=Math.min(o.x1,l.x1),o.x2=Math.max(o.x2,l.x2),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,l.y1),o.y2=Math.max(o.y2,l.y2),o.h=o.y2-o.y1},oc=function(o,l,f){o.x1=Math.min(o.x1,l),o.x2=Math.max(o.x2,l),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,f),o.y2=Math.max(o.y2,f),o.h=o.y2-o.y1},Na=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.x1-=l,o.x2+=l,o.y1-=l,o.y2+=l,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},As=function(o){var f,h,p,g,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===l.length)f=h=p=g=l[0];else if(2===l.length)f=p=l[0],g=h=l[1];else if(4===l.length){var w=le(l,4);f=w[0],h=w[1],p=w[2],g=w[3]}return o.x1-=g,o.x2+=h,o.y1-=f,o.y2+=p,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},io=function(o,l){o.x1=l.x1,o.y1=l.y1,o.x2=l.x2,o.y2=l.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1},tr=function(o,l){return!(o.x1>l.x2||l.x1>o.x2||o.x2<l.x1||l.x2<o.x1||o.y2<l.y1||l.y2<o.y1||o.y1>l.y2||l.y1>o.y2)},Ya=function(o,l,f){return o.x1<=l&&l<=o.x2&&o.y1<=f&&f<=o.y2},ff=function(o,l){return Ya(o,l.x,l.y)},od=function(o,l){return Ya(o,l.x1,l.y1)&&Ya(o,l.x2,l.y2)},an=function(o,l,f,h,p,g,w){var F,x=wu(p,g),E=p/2,M=g/2,W=h-M-w;if((F=ss(o,l,f,h,f-E+x-w,W,f+E-x+w,W,!1)).length>0)return F;var J=f+E+w;if((F=ss(o,l,f,h,J,h-M+x-w,J,h+M-x+w,!1)).length>0)return F;var Me=h+M+w;if((F=ss(o,l,f,h,f-E+x-w,Me,f+E-x+w,Me,!1)).length>0)return F;var Ee,Se=f-E-w;if((F=ss(o,l,f,h,Se,h-M+x-w,Se,h+M-x+w,!1)).length>0)return F;var He=f-E+x,Ne=h-M+x;if((Ee=gl(o,l,f,h,He,Ne,x+w)).length>0&&Ee[0]<=He&&Ee[1]<=Ne)return[Ee[0],Ee[1]];var Ke=f+E-x,Ue=h-M+x;if((Ee=gl(o,l,f,h,Ke,Ue,x+w)).length>0&&Ee[0]>=Ke&&Ee[1]<=Ue)return[Ee[0],Ee[1]];var Ge=f+E-x,ot=h+M-x;if((Ee=gl(o,l,f,h,Ge,ot,x+w)).length>0&&Ee[0]>=Ge&&Ee[1]>=ot)return[Ee[0],Ee[1]];var ct=f-E+x,vt=h+M-x;return(Ee=gl(o,l,f,h,ct,vt,x+w)).length>0&&Ee[0]<=ct&&Ee[1]>=vt?[Ee[0],Ee[1]]:[]},hl=function(o,l,f,h,p,g,w){var x=w,E=Math.min(f,p),M=Math.max(f,p),F=Math.min(h,g),z=Math.max(h,g);return E-x<=o&&o<=M+x&&F-x<=l&&l<=z+x},Qr=function(o,l,f,h,p,g,w,x,E){var M_x1=Math.min(f,w,p)-E,M_x2=Math.max(f,w,p)+E,M_y1=Math.min(h,x,g)-E,M_y2=Math.max(h,x,g)+E;return!(o<M_x1||o>M_x2||l<M_y1||l>M_y2)},yu=function(o,l,f,h,p,g,w,x){var W=[];!function(o,l,f,h,p){var w,x,E,M,F,z,W,j;0===o&&(o=1e-5),E=-27*(h/=o)+(l/=o)*(9*(f/=o)-l*l*2),w=(x=(3*f-l*l)/9)*x*x+(E/=54)*E,p[1]=0,W=l/3,w>0?(F=(F=E+Math.sqrt(w))<0?-Math.pow(-F,1/3):Math.pow(F,1/3),z=(z=E-Math.sqrt(w))<0?-Math.pow(-z,1/3):Math.pow(z,1/3),p[0]=-W+F+z,p[4]=p[2]=-(W+=(F+z)/2),W=Math.sqrt(3)*(-z+F)/2,p[3]=W,p[5]=-W):(p[5]=p[3]=0,0===w?(j=E<0?-Math.pow(-E,1/3):Math.pow(E,1/3),p[0]=2*j-W,p[4]=p[2]=-(j+W)):(M=(x=-x)*x*x,M=Math.acos(E/Math.sqrt(M)),j=2*Math.sqrt(x),p[0]=-W+j*Math.cos(M/3),p[2]=-W+j*Math.cos((M+2*Math.PI)/3),p[4]=-W+j*Math.cos((M+4*Math.PI)/3)))}(1*f*f-4*f*p+2*f*w+4*p*p-4*p*w+w*w+h*h-4*h*g+2*h*x+4*g*g-4*g*x+x*x,9*f*p-3*f*f-3*f*w-6*p*p+3*p*w+9*h*g-3*h*h-3*h*x-6*g*g+3*g*x,3*f*f-6*f*p+f*w-f*o+2*p*p+2*p*o-w*o+3*h*h-6*h*g+h*x-h*l+2*g*g+2*g*l-x*l,1*f*p-f*f+f*o-p*o+h*g-h*h+h*l-g*l,W);for(var q=[],J=0;J<6;J+=2)Math.abs(W[J+1])<1e-7&&W[J]>=0&&W[J]<=1&&q.push(W[J]);q.push(1),q.push(0);for(var fe,he,ve,re=-1,Me=0;Me<q.length;Me++)fe=Math.pow(1-q[Me],2)*f+2*(1-q[Me])*q[Me]*p+q[Me]*q[Me]*w,he=Math.pow(1-q[Me],2)*h+2*(1-q[Me])*q[Me]*g+q[Me]*q[Me]*x,ve=Math.pow(fe-o,2)+Math.pow(he-l,2),re>=0?ve<re&&(re=ve):re=ve;return re},pl=function(o,l,f,h,p,g){var w=[o-f,l-h],x=[p-f,g-h],E=x[0]*x[0]+x[1]*x[1],M=w[0]*w[0]+w[1]*w[1],F=w[0]*x[0]+w[1]*x[1],z=F*F/E;return F<0?M:z>E?(o-p)*(o-p)+(l-g)*(l-g):M-z},Ko=function(o,l,f){for(var h,p,g,w,E=0,M=0;M<f.length/2;M++)if(p=f[2*M+1],M+1<f.length/2?(g=f[2*(M+1)],w=f[2*(M+1)+1]):(g=f[2*(M+1-f.length/2)],w=f[2*(M+1-f.length/2)+1]),(h=f[2*M])!=o||g!=o){if(!(h>=o&&o>=g||h<=o&&o<=g))continue;(o-h)/(g-h)*(w-p)+p>l&&E++}return E%2!=0},ka=function(o,l,f,h,p,g,w,x,E){var F,q,M=new Array(f.length);null!=x[0]?(F=Math.atan(x[1]/x[0]),x[0]<0?F+=Math.PI/2:F=-F-Math.PI/2):F=x;for(var z=Math.cos(-F),W=Math.sin(-F),j=0;j<M.length/2;j++)M[2*j]=g/2*(f[2*j]*z-f[2*j+1]*W),M[2*j+1]=w/2*(f[2*j+1]*z+f[2*j]*W),M[2*j]+=h,M[2*j+1]+=p;if(E>0){var J=sc(M,-E);q=Ul(J)}else q=M;return Ko(o,l,q)},Ul=function(o){for(var w,x,E,M,l=new Array(o.length/2),F=0;F<o.length/4;F++){F<o.length/4-1?(w=o[4*(F+1)],x=o[4*(F+1)+1],E=o[4*(F+1)+2],M=o[4*(F+1)+3]):(w=o[0],x=o[1],E=o[2],M=o[3]);var z=ss(o[4*F],o[4*F+1],o[4*F+2],o[4*F+3],w,x,E,M,!0);l[2*F]=z[0],l[2*F+1]=z[1]}return l},sc=function(o,l){for(var h,p,g,w,f=new Array(2*o.length),x=0;x<o.length/2;x++){x<o.length/2-1?(g=o[2*(x+1)],w=o[2*(x+1)+1]):(g=o[0],w=o[1]);var E=w-(p=o[2*x+1]),M=-(g-(h=o[2*x])),F=Math.sqrt(E*E+M*M),z=E/F,W=M/F;f[4*x]=h+z*l,f[4*x+1]=p+W*l,f[4*x+2]=g+z*l,f[4*x+3]=w+W*l}return f},Xa=function(o,l,f,h,p,g,w){return o-=p,l-=g,(o/=f/2+w)*o+(l/=h/2+w)*l<=1},gl=function(o,l,f,h,p,g,w){var x=[f-o,h-l],E=[o-p,l-g],M=x[0]*x[0]+x[1]*x[1],F=2*(E[0]*x[0]+E[1]*x[1]),W=F*F-4*M*(E[0]*E[0]+E[1]*E[1]-w*w);if(W<0)return[];var j=(-F+Math.sqrt(W))/(2*M),q=(-F-Math.sqrt(W))/(2*M),J=Math.min(j,q),re=Math.max(j,q),fe=[];if(J>=0&&J<=1&&fe.push(J),re>=0&&re<=1&&fe.push(re),0===fe.length)return[];var he=fe[0]*x[0]+o,ve=fe[0]*x[1]+l;return fe.length>1?fe[0]==fe[1]?[he,ve]:[he,ve,fe[1]*x[0]+o,fe[1]*x[1]+l]:[he,ve]},yo=function(o,l,f){return l<=o&&o<=f||f<=o&&o<=l?o:o<=l&&l<=f||f<=l&&l<=o?l:f},ss=function(o,l,f,h,p,g,w,x,E){var M=o-p,F=f-o,z=w-p,W=l-g,j=h-l,q=x-g,J=z*W-q*M,re=F*W-j*M,fe=q*F-z*j;if(0!==fe){var he=J/fe,ve=re/fe;return-.001<=he&&he<=1.001&&-.001<=ve&&ve<=1.001||E?[o+he*F,l+he*j]:[]}return 0===J||0===re?yo(o,f,w)===w?[w,x]:yo(o,f,p)===p?[p,g]:yo(p,w,f)===f?[f,h]:[]:[]},Gl=function(o,l,f,h,p,g,w,x){var M,W,E=[],F=new Array(f.length),z=!0;if(null==g&&(z=!1),z){for(var j=0;j<F.length/2;j++)F[2*j]=f[2*j]*g+h,F[2*j+1]=f[2*j+1]*w+p;if(x>0){var q=sc(F,-x);W=Ul(q)}else W=F}else W=f;for(var fe,he,ve=0;ve<W.length/2;ve++)ve<W.length/2-1?(fe=W[2*(ve+1)],he=W[2*(ve+1)+1]):(fe=W[0],he=W[1]),0!==(M=ss(o,l,h,p,W[2*ve],W[2*ve+1],fe,he)).length&&E.push(M[0],M[1]);return E},hf=function(o,l,f){var h=[o[0]-l[0],o[1]-l[1]],p=Math.sqrt(h[0]*h[0]+h[1]*h[1]),g=(p-f)/p;return g<0&&(g=1e-5),[l[0]+g*h[0],l[1]+g*h[1]]},Zo=function(o,l){var f=bu(o,l);return lc(f)},lc=function(o){for(var l,f,h=o.length/2,p=1/0,g=1/0,w=-1/0,x=-1/0,E=0;E<h;E++)l=o[2*E],f=o[2*E+1],p=Math.min(p,l),w=Math.max(w,l),g=Math.min(g,f),x=Math.max(x,f);for(var M=2/(w-p),F=2/(x-g),z=0;z<h;z++)l=o[2*z]=o[2*z]*M,f=o[2*z+1]=o[2*z+1]*F,p=Math.min(p,l),w=Math.max(w,l),g=Math.min(g,f),x=Math.max(x,f);if(g<-1)for(var W=0;W<h;W++)f=o[2*W+1]=o[2*W+1]+(-1-g);return o},bu=function(o,l){var f=1/o*2*Math.PI,h=o%2==0?Math.PI/2+f/2:Math.PI/2;h+=l;for(var g,p=new Array(2*o),w=0;w<o;w++)g=w*f+h,p[2*w]=Math.cos(g),p[2*w+1]=Math.sin(-g);return p},wu=function(o,l){return Math.min(o/4,l/4,8)},uc=function(o,l){return Math.min(o/10,l/10,8)},dh=function(o,l){return{heightOffset:Math.min(15,.05*l),widthOffset:Math.min(100,.25*o),ctrlPtOffsetPct:.05}},fh=li({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(o){return 1}}),Js={pageRank:function(o){for(var l=fh(o),f=l.dampingFactor,h=l.precision,p=l.iterations,g=l.weight,w=this._private.cy,x=this.byGroup(),E=x.nodes,M=x.edges,F=E.length,W=M.length,j=new Array(F*F),q=new Array(F),J=(1-f)/F,re=0;re<F;re++){for(var fe=0;fe<F;fe++)j[re*F+fe]=0;q[re]=0}for(var ve=0;ve<W;ve++){var Me=M[ve],Ie=Me.data("source"),ye=Me.data("target");if(Ie!==ye){var Se=E.indexOfId(Ie),we=E.indexOfId(ye),ke=g(Me);j[we*F+Se]+=ke,q[Se]+=ke}}for(var Ee=1/F+J,He=0;He<F;He++)if(0===q[He])for(var Ne=0;Ne<F;Ne++)j[Ne*F+He]=Ee;else for(var Ue=0;Ue<F;Ue++){var Ge=Ue*F+He;j[Ge]=j[Ge]/q[He]+J}for(var vt,ot=new Array(F),ct=new Array(F),st=0;st<F;st++)ot[st]=1;for(var mt=0;mt<p;mt++){for(var At=0;At<F;At++)ct[At]=0;for(var Ot=0;Ot<F;Ot++)for(var Dt=0;Dt<F;Dt++)ct[Ot]+=j[Ot*F+Dt]*ot[Dt];qs(ct),vt=ot,ot=ct,ct=vt;for(var Je=0,Mt=0;Mt<F;Mt++){var Nt=vt[Mt]-ot[Mt];Je+=Nt*Nt}if(Je<h)break}return{rank:function(Xn){return Xn=w.collection(Xn)[0],ot[E.indexOf(Xn)]}}}},xp=li({root:null,weight:function(o){return 1},directed:!1,alpha:0}),Pa={degreeCentralityNormalized:function(o){o=xp(o);var l=this.cy(),f=this.nodes(),h=f.length;if(o.directed){for(var M={},F={},z=0,W=0,j=0;j<h;j++){var q=f[j],J=q.id();o.root=q;var re=this.degreeCentrality(o);z<re.indegree&&(z=re.indegree),W<re.outdegree&&(W=re.outdegree),M[J]=re.indegree,F[J]=re.outdegree}return{indegree:function(he){return 0==z?0:(Be(he)&&(he=l.filter(he)),M[he.id()]/z)},outdegree:function(he){return 0===W?0:(Be(he)&&(he=l.filter(he)),F[he.id()]/W)}}}for(var p={},g=0,w=0;w<h;w++){var x=f[w];o.root=x;var E=this.degreeCentrality(o);g<E.degree&&(g=E.degree),p[x.id()]=E.degree}return{degree:function(he){return 0===g?0:(Be(he)&&(he=l.filter(he)),p[he.id()]/g)}}},degreeCentrality:function(o){o=xp(o);var l=this.cy(),f=this,p=o.root,g=o.weight,w=o.directed,x=o.alpha;if(p=l.collection(p)[0],w){for(var W=p.connectedEdges(),j=W.filter(function(Ie){return Ie.target().same(p)&&f.has(Ie)}),q=W.filter(function(Ie){return Ie.source().same(p)&&f.has(Ie)}),J=j.length,re=q.length,fe=0,he=0,ve=0;ve<j.length;ve++)fe+=g(j[ve]);for(var Me=0;Me<q.length;Me++)he+=g(q[Me]);return{indegree:Math.pow(J,1-x)*Math.pow(fe,x),outdegree:Math.pow(re,1-x)*Math.pow(he,x)}}for(var E=p.connectedEdges().intersection(f),M=E.length,F=0,z=0;z<E.length;z++)F+=g(E[z]);return{degree:Math.pow(M,1-x)*Math.pow(F,x)}}};Pa.dc=Pa.degreeCentrality,Pa.dcn=Pa.degreeCentralityNormalised=Pa.degreeCentralityNormalized;var Dp=li({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Pt={closenessCentralityNormalized:function(o){for(var l=Dp(o),f=l.harmonic,h=l.weight,p=l.directed,g=this.cy(),w={},x=0,E=this.nodes(),M=this.floydWarshall({weight:h,directed:p}),F=0;F<E.length;F++){for(var z=0,W=E[F],j=0;j<E.length;j++)if(F!==j){var q=M.distance(W,E[j]);z+=f?1/q:q}f||(z=1/z),x<z&&(x=z),w[W.id()]=z}return{closeness:function(re){return 0==x?0:(re=Be(re)?g.filter(re)[0].id():re.id(),w[re]/x)}}},closenessCentrality:function(o){var l=Dp(o),f=l.root,h=l.weight,p=l.directed,g=l.harmonic;f=this.filter(f)[0];for(var w=this.dijkstra({root:f,weight:h,directed:p}),x=0,E=this.nodes(),M=0;M<E.length;M++){var F=E[M];if(!F.same(f)){var z=w.distanceTo(F);x+=g?1/z:z}}return g?x:1/x}};Pt.cc=Pt.closenessCentrality,Pt.ccn=Pt.closenessCentralityNormalised=Pt.closenessCentralityNormalized;var hh=li({weight:null,directed:!1}),nn={betweennessCentrality:function(o){for(var l=hh(o),f=l.directed,h=l.weight,p=null!=h,g=this.cy(),w=this.nodes(),x={},E={},M=0,F={set:function(he,ve){E[he]=ve,ve>M&&(M=ve)},get:function(he){return E[he]}},z=0;z<w.length;z++){var W=w[z],j=W.id();x[j]=f?W.outgoers().nodes():W.openNeighborhood().nodes(),F.set(j,0)}for(var q=function(he){for(var ve=w[he].id(),Me=[],Ie={},ye={},Se={},we=new A.default(function(Dt,_t){return Se[Dt]-Se[_t]}),ke=0;ke<w.length;ke++){var Pe=w[ke].id();Ie[Pe]=[],ye[Pe]=0,Se[Pe]=1/0}for(ye[ve]=1,Se[ve]=0,we.push(ve);!we.empty();){var Ee=we.pop();if(Me.push(Ee),p)for(var He=0;He<x[Ee].length;He++){var Ue,Ne=x[Ee][He],Ke=g.getElementById(Ee);Ue=Ke.edgesTo(Ne).length>0?Ke.edgesTo(Ne)[0]:Ne.edgesTo(Ke)[0];var Ge=h(Ue);Ne=Ne.id(),Se[Ne]>Se[Ee]+Ge&&(Se[Ne]=Se[Ee]+Ge,we.nodes.indexOf(Ne)<0?we.push(Ne):we.updateItem(Ne),ye[Ne]=0,Ie[Ne]=[]),Se[Ne]==Se[Ee]+Ge&&(ye[Ne]=ye[Ne]+ye[Ee],Ie[Ne].push(Ee))}else for(var ot=0;ot<x[Ee].length;ot++){var ct=x[Ee][ot].id();Se[ct]==1/0&&(we.push(ct),Se[ct]=Se[Ee]+1),Se[ct]==Se[Ee]+1&&(ye[ct]=ye[ct]+ye[Ee],Ie[ct].push(Ee))}}for(var vt={},st=0;st<w.length;st++)vt[w[st].id()]=0;for(;Me.length>0;){for(var mt=Me.pop(),At=0;At<Ie[mt].length;At++){var Ot=Ie[mt][At];vt[Ot]=vt[Ot]+ye[Ot]/ye[mt]*(1+vt[mt])}mt!=w[he].id()&&F.set(mt,F.get(mt)+vt[mt])}},J=0;J<w.length;J++)q(J);var re={betweenness:function(he){var ve=g.collection(he).id();return F.get(ve)},betweennessNormalized:function(he){if(0==M)return 0;var ve=g.collection(he).id();return F.get(ve)/M}};return re.betweennessNormalised=re.betweennessNormalized,re}};nn.bc=nn.betweennessCentrality;var pf=li({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(u){return 1}]}),dc=function(o,l){for(var f=0,h=0;h<l.length;h++)f+=l[h](o);return f},fc=function(o,l){for(var f,h=0;h<l;h++){f=0;for(var p=0;p<l;p++)f+=o[p*l+h];for(var g=0;g<l;g++)o[g*l+h]=o[g*l+h]/f}},ml=function(o,l,f){for(var h=new Array(f*f),p=0;p<f;p++){for(var g=0;g<f;g++)h[p*f+g]=0;for(var w=0;w<f;w++)for(var x=0;x<f;x++)h[p*f+x]+=o[p*f+w]*l[w*f+x]}return h},ls=function(o,l,f){for(var h=o.slice(0),p=1;p<f;p++)o=ml(o,h,l);return o},us=function(o,l,f){for(var h=new Array(l*l),p=0;p<l*l;p++)h[p]=Math.pow(o[p],f);return fc(h,l),h},ya=function(o,l,f,h){for(var p=0;p<f;p++)if(Math.round(o[p]*Math.pow(10,h))/Math.pow(10,h)!=Math.round(l[p]*Math.pow(10,h))/Math.pow(10,h))return!1;return!0},Er=function(o,l){for(var f=0;f<o.length;f++)if(!l[f]||o[f].id()!==l[f].id())return!1;return!0},mf=function(o){for(var l=this.nodes(),f=this.edges(),h=this.cy(),p=function(o){return pf(o)}(o),g={},w=0;w<l.length;w++)g[l[w].id()]=w;for(var F,x=l.length,E=x*x,M=new Array(E),z=0;z<E;z++)M[z]=0;for(var W=0;W<f.length;W++){var j=f[W],q=g[j.source().id()],J=g[j.target().id()],re=dc(j,p.attributes);M[q*x+J]+=re,M[J*x+q]+=re}(function(o,l,f){for(var h=0;h<l;h++)o[h*l+h]=f})(M,x,p.multFactor),fc(M,x);for(var fe=!0,he=0;fe&&he<p.maxIterations;)fe=!1,F=ls(M,x,p.expandFactor),M=us(F,x,p.inflateFactor),ya(M,F,E,4)||(fe=!0),he++;var ve=function(o,l,f,h){for(var p=[],g=0;g<l;g++){for(var w=[],x=0;x<l;x++)Math.round(1e3*o[g*l+x])/1e3>0&&w.push(f[x]);0!==w.length&&p.push(h.collection(w))}return p}(M,x,l,h);return ve=function(o){for(var l=0;l<o.length;l++)for(var f=0;f<o.length;f++)l!=f&&Er(o[l],o[f])&&o.splice(f,1);return o}(ve),ve},vf={markovClustering:mf,mcl:mf},Tp=function(o){return o},Ns=function(o,l){return Math.abs(l-o)},jl=function(o,l,f){return o+Ns(l,f)},Wl=function(o,l,f){return o+Math.pow(f-l,2)},Rs=function(o){return Math.sqrt(o)},yf=function(o,l,f){return Math.max(o,Ns(l,f))},_u=function(o,l,f,h,p){for(var g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Tp,w=h,M=0;M<o;M++)w=p(w,l(M),f(M));return g(w)},Cu={euclidean:function(o,l,f){return o>=2?_u(o,l,f,0,Wl,Rs):_u(o,l,f,0,jl)},squaredEuclidean:function(o,l,f){return _u(o,l,f,0,Wl)},manhattan:function(o,l,f){return _u(o,l,f,0,jl)},max:function(o,l,f){return _u(o,l,f,-1/0,yf)}};function $l(u,o,l,f,h,p){var g;return g=at(u)?u:Cu[u]||Cu.euclidean,0===o&&at(u)?g(h,p):g(o,l,f,h,p)}Cu["squared-euclidean"]=Cu.squaredEuclidean,Cu.squaredeuclidean=Cu.squaredEuclidean;var Sp=li({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),ad=function(o){return Sp(o)},sd=function(o,l,f,h,p){var w="kMedoids"!==p?function(F){return f[F]}:function(F){return h[F](f)};return $l(o,h.length,w,function(z){return h[z](l)},f,l)},Yl=function(o,l,f){for(var h=f.length,p=new Array(h),g=new Array(h),w=new Array(l),x=null,E=0;E<h;E++)p[E]=o.min(f[E]).value,g[E]=o.max(f[E]).value;for(var M=0;M<l;M++){x=[];for(var F=0;F<h;F++)x[F]=Math.random()*(g[F]-p[F])+p[F];w[M]=x}return w},ph=function(o,l,f,h,p){for(var g=1/0,w=0,x=0;x<l.length;x++){var E=sd(f,o,l[x],h,p);E<g&&(g=E,w=x)}return w},gh=function(o,l,f){for(var h=[],p=null,g=0;g<l.length;g++)f[(p=l[g]).id()]===o&&h.push(p);return h},Ka=function(o,l,f){return Math.abs(l-o)<=f},bf=function(o,l,f){for(var h=0;h<o.length;h++)for(var p=0;p<o[h].length;p++)if(Math.abs(o[h][p]-l[h][p])>f)return!1;return!0},mh=function(o,l,f){for(var h=0;h<f;h++)if(o===l[h])return!0;return!1},ld=function(o,l){var f=new Array(l);if(o.length<50)for(var h=0;h<l;h++){for(var p=o[Math.floor(Math.random()*o.length)];mh(p,f,h);)p=o[Math.floor(Math.random()*o.length)];f[h]=p}else for(var g=0;g<l;g++)f[g]=o[Math.floor(Math.random()*o.length)];return f},cs=function(o,l,f){for(var h=0,p=0;p<l.length;p++)h+=sd("manhattan",l[p],o,f,"kMedoids");return h},wf=function(o,l,f,h,p){for(var g,w,x=0;x<l.length;x++)for(var E=0;E<o.length;E++)h[x][E]=Math.pow(f[x][E],p.m);for(var M=0;M<o.length;M++)for(var F=0;F<p.attributes.length;F++){g=0,w=0;for(var z=0;z<l.length;z++)g+=h[z][M]*p.attributes[F](l[z]),w+=h[z][M];o[M][F]=g/w}},Ip=function(o,l,f,h,p){for(var g=0;g<o.length;g++)l[g]=o[g].slice();for(var w,x,E,M=2/(p.m-1),F=0;F<f.length;F++)for(var z=0;z<h.length;z++){w=0;for(var W=0;W<f.length;W++)x=sd(p.distance,h[z],f[F],p.attributes,"cmeans"),E=sd(p.distance,h[z],f[W],p.attributes,"cmeans"),w+=Math.pow(x/E,M);o[z][F]=1/w}},_f=function(o){var p,g,w,x,E,l=this.cy(),f=this.nodes(),h=ad(o);x=new Array(f.length);for(var M=0;M<f.length;M++)x[M]=new Array(h.k);w=new Array(f.length);for(var F=0;F<f.length;F++)w[F]=new Array(h.k);for(var z=0;z<f.length;z++){for(var W=0,j=0;j<h.k;j++)w[z][j]=Math.random(),W+=w[z][j];for(var q=0;q<h.k;q++)w[z][q]=w[z][q]/W}g=new Array(h.k);for(var J=0;J<h.k;J++)g[J]=new Array(h.attributes.length);E=new Array(f.length);for(var re=0;re<f.length;re++)E[re]=new Array(h.k);for(var fe=!0,he=0;fe&&he<h.maxIterations;)fe=!1,wf(g,f,w,E,h),Ip(w,x,g,f,h),bf(w,x,h.sensitivityThreshold)||(fe=!0),he++;return p=function(o,l,f,h){for(var p=new Array(f.k),g=0;g<p.length;g++)p[g]=[];for(var w,x,E=0;E<l.length;E++){w=-1/0,x=-1;for(var M=0;M<l[0].length;M++)l[E][M]>w&&(w=l[E][M],x=M);p[x].push(o[E])}for(var F=0;F<p.length;F++)p[F]=h.collection(p[F]);return p}(f,w,h,l),{clusters:p,degreeOfMembership:w}},Or={kMeans:function(o){var x,l=this.cy(),f=this.nodes(),h=null,p=ad(o),g=new Array(p.k),w={};x=p.testMode?"number"==typeof p.testCentroids?Yl(f,p.k,p.attributes):"object"===H(p.testCentroids)?p.testCentroids:Yl(f,p.k,p.attributes):Yl(f,p.k,p.attributes);for(var E=!0,M=0;E&&M<p.maxIterations;){for(var F=0;F<f.length;F++)w[(h=f[F]).id()]=ph(h,x,p.distance,p.attributes,"kMeans");E=!1;for(var z=0;z<p.k;z++){var W=gh(z,f,w);if(0!==W.length){for(var j=p.attributes.length,q=x[z],J=new Array(j),re=new Array(j),fe=0;fe<j;fe++){re[fe]=0;for(var he=0;he<W.length;he++)re[fe]+=p.attributes[fe](h=W[he]);J[fe]=re[fe]/W.length,Ka(J[fe],q[fe],p.sensitivityThreshold)||(E=!0)}x[z]=J,g[z]=l.collection(W)}}M++}return g},kMedoids:function(o){var w,E,l=this.cy(),f=this.nodes(),h=null,p=ad(o),g=new Array(p.k),x={},M=new Array(p.k);p.testMode?"number"==typeof p.testCentroids||(w="object"===H(p.testCentroids)?p.testCentroids:ld(f,p.k)):w=ld(f,p.k);for(var F=!0,z=0;F&&z<p.maxIterations;){for(var W=0;W<f.length;W++)x[(h=f[W]).id()]=ph(h,w,p.distance,p.attributes,"kMedoids");F=!1;for(var j=0;j<w.length;j++){var q=gh(j,f,x);if(0!==q.length){M[j]=cs(w[j],q,p.attributes);for(var J=0;J<q.length;J++)(E=cs(q[J],q,p.attributes))<M[j]&&(M[j]=E,w[j]=q[J],F=!0);g[j]=l.collection(q)}}z++}return g},fuzzyCMeans:_f,fcm:_f},lm=li({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),um={single:"min",complete:"max"},Jr=function(o,l,f,h,p){for(var x,g=0,w=1/0,E=p.attributes,M=function(we,ke){return $l(p.distance,E.length,function(Pe){return E[Pe](we)},function(Pe){return E[Pe](ke)},we,ke)},F=0;F<o.length;F++){var z=o[F].key,W=f[z][h[z]];W<w&&(g=z,w=W)}if("threshold"===p.mode&&w>=p.threshold||"dendrogram"===p.mode&&1===o.length)return!1;var J,j=l[g],q=l[h[g]];J="dendrogram"===p.mode?{left:j,right:q,key:j.key}:{value:j.value.concat(q.value),key:j.key},o[j.index]=J,o.splice(q.index,1),l[j.key]=J;for(var re=0;re<o.length;re++){var fe=o[re];j.key===fe.key?x=1/0:"min"===p.linkage?(x=f[j.key][fe.key],f[j.key][fe.key]>f[q.key][fe.key]&&(x=f[q.key][fe.key])):"max"===p.linkage?(x=f[j.key][fe.key],f[j.key][fe.key]<f[q.key][fe.key]&&(x=f[q.key][fe.key])):x="mean"===p.linkage?(f[j.key][fe.key]*j.size+f[q.key][fe.key]*q.size)/(j.size+q.size):"dendrogram"===p.mode?M(fe.value,j.value):M(fe.value[0],j.value[0]),f[j.key][fe.key]=f[fe.key][j.key]=x}for(var he=0;he<o.length;he++){var ve=o[he].key;if(h[ve]===j.key||h[ve]===q.key){for(var Me=ve,Ie=0;Ie<o.length;Ie++){var ye=o[Ie].key;f[ve][ye]<f[ve][Me]&&(Me=ye)}h[ve]=Me}o[he].index=he}return j.key=q.key=j.index=q.index=null,!0},vl=function u(o,l,f){o&&(o.value?l.push(o.value):(o.left&&u(o.left,l),o.right&&u(o.right,l)))},Cf=function u(o,l){if(!o)return"";if(o.left&&o.right){var f=u(o.left,l),h=u(o.right,l),p=l.add({group:"nodes",data:{id:f+","+h}});return l.add({group:"edges",data:{source:f,target:p.id()}}),l.add({group:"edges",data:{source:h,target:p.id()}}),p.id()}return o.value?o.value.id():void 0},ln=function u(o,l,f){if(!o)return[];var h=[],p=[],g=[];return 0===l?(o.left&&vl(o.left,h),o.right&&vl(o.right,p),g=h.concat(p),[f.collection(g)]):1===l?o.value?[f.collection(o.value)]:(o.left&&vl(o.left,h),o.right&&vl(o.right,p),[f.collection(h),f.collection(p)]):o.value?[f.collection(o.value)]:(o.left&&(h=u(o.left,l-1,f)),o.right&&(p=u(o.right,l-1,f)),h.concat(p))},oa=function(o){for(var l=this.cy(),f=this.nodes(),h=function(o){var l=lm(o),f=um[l.linkage];return null!=f&&(l.linkage=f),l}(o),p=h.attributes,g=function(he,ve){return $l(h.distance,p.length,function(Me){return p[Me](he)},function(Me){return p[Me](ve)},he,ve)},w=[],x=[],E=[],M=[],F=0;F<f.length;F++){var z={value:"dendrogram"===h.mode?f[F]:[f[F]],key:F,index:F};w[F]=z,M[F]=z,x[F]=[],E[F]=0}for(var W=0;W<w.length;W++)for(var j=0;j<=W;j++){var q;q="dendrogram"===h.mode?W===j?1/0:g(w[W].value,w[j].value):W===j?1/0:g(w[W].value[0],w[j].value[0]),x[W][j]=q,x[j][W]=q,q<x[W][E[W]]&&(E[W]=j)}for(var J=Jr(w,M,x,E,h);J;)J=Jr(w,M,x,E,h);var re;return"dendrogram"===h.mode?(re=ln(w[0],h.dendrogramDepth,l),h.addDendrogram&&Cf(w[0],l)):(re=new Array(w.length),w.forEach(function(fe,he){fe.key=fe.index=null,re[he]=l.collection(fe.value)})),re},Br={hierarchicalClustering:oa,hca:oa},Ui=li({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),ao=function(o,l,f,h){var p=function(w,x){return h[x](w)};return-$l(o,h.length,function(g){return p(l,g)},function(g){return p(f,g)},l,f)},pc=function(o,l,f){for(var h=[],p=0;p<o;p++){for(var g=-1,w=-1/0,x=0;x<f.length;x++){var E=f[x];l[p*o+E]>w&&(g=E,w=l[p*o+E])}g>0&&h.push(g)}for(var M=0;M<f.length;M++)h[f[M]]=f[M];return h},yh=function(o){for(var l=this.cy(),f=this.nodes(),h=function(o){var l=o.damping,f=o.preference;.5<=l&&l<1||ni("Damping must range on [0.5, 1).  Got: ".concat(l));var h=["median","mean","min","max"];return h.some(function(p){return p===f})||Xe(f)||ni("Preference must be one of [".concat(h.map(function(p){return"'".concat(p,"'")}).join(", "),"] or a number.  Got: ").concat(f)),Ui(o)}(o),p={},g=0;g<f.length;g++)p[f[g].id()]=g;var w,x,E,M,F,z,we;x=(w=f.length)*w,E=new Array(x);for(var W=0;W<x;W++)E[W]=-1/0;for(var j=0;j<w;j++)for(var q=0;q<w;q++)j!==q&&(E[j*w+q]=ao(h.distance,f[j],f[q],h.attributes));M=function(o,l){var f;return f="median"===l?function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(f<o.length&&o.splice(f,o.length-f),l>0&&o.splice(0,l)):o=o.slice(l,f);for(var w=0,x=o.length-1;x>=0;x--)g?isFinite(o[x])||(o[x]=-1/0,w++):o.splice(x,1);p&&o.sort(function(z,W){return z-W});var M=o.length,F=Math.floor(M/2);return M%2!=0?o[F+1+w]:(o[F-1+w]+o[F+w])/2}(o):"mean"===l?function(o){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=0,p=0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g<f;g++){var w=o[g];isFinite(w)&&(h+=w,p++)}return h/p}(o):"min"===l?function(o){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<f;p++){var g=o[p];isFinite(g)&&(h=Math.min(g,h))}return h}(o):"max"===l?function(o){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=-1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<f;p++){var g=o[p];isFinite(g)&&(h=Math.max(g,h))}return h}(o):l,f}(E,h.preference);for(var J=0;J<w;J++)E[J*w+J]=M;F=new Array(x);for(var re=0;re<x;re++)F[re]=0;z=new Array(x);for(var fe=0;fe<x;fe++)z[fe]=0;for(var he=new Array(w),ve=new Array(w),Me=new Array(w),Ie=0;Ie<w;Ie++)he[Ie]=0,ve[Ie]=0,Me[Ie]=0;for(var ye=new Array(w*h.minIterations),Se=0;Se<ye.length;Se++)ye[Se]=0;for(we=0;we<h.maxIterations;we++){for(var ke=0;ke<w;ke++){for(var Pe=-1/0,Ee=-1/0,He=-1,Ne=0,Ke=0;Ke<w;Ke++)he[Ke]=F[ke*w+Ke],(Ne=z[ke*w+Ke]+E[ke*w+Ke])>=Pe?(Ee=Pe,Pe=Ne,He=Ke):Ne>Ee&&(Ee=Ne);for(var Ue=0;Ue<w;Ue++)F[ke*w+Ue]=(1-h.damping)*(E[ke*w+Ue]-Pe)+h.damping*he[Ue];F[ke*w+He]=(1-h.damping)*(E[ke*w+He]-Ee)+h.damping*he[He]}for(var Ge=0;Ge<w;Ge++){for(var ot=0,ct=0;ct<w;ct++)he[ct]=z[ct*w+Ge],ve[ct]=Math.max(0,F[ct*w+Ge]),ot+=ve[ct];ot-=ve[Ge],ve[Ge]=F[Ge*w+Ge],ot+=ve[Ge];for(var vt=0;vt<w;vt++)z[vt*w+Ge]=(1-h.damping)*Math.min(0,ot-ve[vt])+h.damping*he[vt];z[Ge*w+Ge]=(1-h.damping)*(ot-ve[Ge])+h.damping*he[Ge]}for(var st=0,mt=0;mt<w;mt++){var At=z[mt*w+mt]+F[mt*w+mt]>0?1:0;ye[we%h.minIterations*w+mt]=At,st+=At}if(st>0&&(we>=h.minIterations-1||we==h.maxIterations-1)){for(var Ot=0,Dt=0;Dt<w;Dt++){Me[Dt]=0;for(var _t=0;_t<h.minIterations;_t++)Me[Dt]+=ye[_t*w+Dt];(0===Me[Dt]||Me[Dt]===h.minIterations)&&Ot++}if(Ot===w)break}}for(var Je=function(o,l,f){for(var h=[],p=0;p<o;p++)l[p*o+p]+f[p*o+p]>0&&h.push(p);return h}(w,F,z),Mt=function(o,l,f){for(var h=pc(o,l,f),p=0;p<f.length;p++){for(var g=[],w=0;w<h.length;w++)h[w]===f[p]&&g.push(w);for(var x=-1,E=-1/0,M=0;M<g.length;M++){for(var F=0,z=0;z<g.length;z++)F+=l[g[z]*o+g[M]];F>E&&(x=M,E=F)}f[p]=g[x]}return pc(o,l,f)}(w,E,Je),Nt={},Wt=0;Wt<Je.length;Wt++)Nt[Je[Wt]]=[];for(var rn=0;rn<f.length;rn++){var ar=Mt[p[f[rn].id()]];null!=ar&&Nt[ar].push(f[rn])}for(var sn=new Array(Je.length),Jt=0;Jt<Je.length;Jt++)sn[Jt]=l.collection(Nt[Je[Jt]]);return sn},ud={affinityPropagation:yh,ap:yh},lo=li({root:void 0,directed:!1}),fn={hierholzer:function(o){if(!Ye(o)){var l=arguments;o={root:l[0],directed:l[1]}}var x,E,M,f=lo(o),h=f.root,p=f.directed,g=this,w=!1;h&&(M=Be(h)?this.filter(h)[0].id():h[0].id());var F={},z={};g.forEach(p?function(fe){var he=fe.id();if(fe.isNode()){var ve=fe.indegree(!0),Me=fe.outdegree(!0),Ie=ve-Me,ye=Me-ve;1==Ie?x?w=!0:x=he:1==ye?E?w=!0:E=he:(ye>1||Ie>1)&&(w=!0),F[he]=[],fe.outgoers().forEach(function(Se){Se.isEdge()&&F[he].push(Se.id())})}else z[he]=[void 0,fe.target().id()]}:function(fe){var he=fe.id();fe.isNode()?(fe.degree(!0)%2&&(x?E?w=!0:E=he:x=he),F[he]=[],fe.connectedEdges().forEach(function(Me){return F[he].push(Me.id())})):z[he]=[fe.source().id(),fe.target().id()]});var W={found:!1,trail:void 0};if(w)return W;if(E&&x)if(p){if(M&&E!=M)return W;M=E}else{if(M&&E!=M&&x!=M)return W;M||(M=E)}else M||(M=g[0].id());var j=function(he){for(var Ie,ye,Se,ve=he,Me=[he];F[ve].length;)Ie=F[ve].shift(),ye=z[Ie][0],ve!=(Se=z[Ie][1])?(F[Se]=F[Se].filter(function(we){return we!=Ie}),ve=Se):!p&&ve!=ye&&(F[ye]=F[ye].filter(function(we){return we!=Ie}),ve=ye),Me.unshift(Ie),Me.unshift(ve);return Me},q=[],J=[];for(J=j(M);1!=J.length;)0==F[J[0]].length?(q.unshift(g.getElementById(J.shift())),q.unshift(g.getElementById(J.shift()))):J=j(J.shift()).concat(J);for(var re in q.unshift(g.getElementById(J.shift())),F)if(F[re].length)return W;return W.found=!0,W.trail=this.spawn(q,!0),W}},Wn=function(){var o=this,l={},f=0,h=0,p=[],g=[],w={},E=function F(z,W,j){z===j&&(h+=1),l[W]={id:f,low:f++,cutVertex:!1};var J,re,fe,he,q=o.getElementById(W).connectedEdges().intersection(o);0===q.size()?p.push(o.spawn(o.getElementById(W))):q.forEach(function(ve){J=ve.source().id(),re=ve.target().id(),(fe=J===W?re:J)!==j&&(he=ve.id(),w[he]||(w[he]=!0,g.push({x:W,y:fe,edge:ve})),fe in l?l[W].low=Math.min(l[W].low,l[fe].id):(F(z,fe,W),l[W].low=Math.min(l[W].low,l[fe].low),l[W].id<=l[fe].low&&(l[W].cutVertex=!0,function(z,W){for(var j=g.length-1,q=[],J=o.spawn();g[j].x!=z||g[j].y!=W;)q.push(g.pop().edge),j--;q.push(g.pop().edge),q.forEach(function(re){var fe=re.connectedNodes().intersection(o);J.merge(re),fe.forEach(function(he){var ve=he.id(),Me=he.connectedEdges().intersection(o);J.merge(he),J.merge(l[ve].cutVertex?Me.filter(function(Ie){return Ie.isLoop()}):Me)})}),p.push(J)}(W,fe))))})};o.forEach(function(F){if(F.isNode()){var z=F.id();z in l||(h=0,E(z,z),l[z].cutVertex=h>1)}});var M=Object.keys(l).filter(function(F){return l[F].cutVertex}).map(function(F){return o.getElementById(F)});return{cut:o.spawn(M),components:p}},aa=function(){var o=this,l={},f=0,h=[],p=[],g=o.spawn(o),w=function x(E){if(p.push(E),l[E]={index:f,low:f++,explored:!1},o.getElementById(E).connectedEdges().intersection(o).forEach(function(q){var J=q.target().id();J!==E&&(J in l||x(J),l[J].explored||(l[E].low=Math.min(l[E].low,l[J].low)))}),l[E].index===l[E].low){for(var F=o.spawn();;){var z=p.pop();if(F.merge(o.getElementById(z)),l[z].low=l[E].index,l[z].explored=!0,z===E)break}var W=F.edgesWith(F),j=F.merge(W);h.push(j),g=g.difference(j)}};return o.forEach(function(x){if(x.isNode()){var E=x.id();E in l||w(E)}}),{cut:g,components:h}},_o={};[Ve,qe,qt,Vt,Un,Ar,Mn,Js,Pa,Pt,nn,vf,Or,Br,ud,fn,{hopcroftTarjanBiconnected:Wn,htbc:Wn,htb:Wn,hopcroftTarjanBiconnectedComponents:Wn},{tarjanStronglyConnected:aa,tsc:aa,tscc:aa,tarjanStronglyConnectedComponents:aa}].forEach(function(u){Nn(_o,u)});var sa=function u(o){if(!(this instanceof u))return new u(o);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof o&&o.call(this,this.fulfill.bind(this),this.reject.bind(this))};sa.prototype={fulfill:function(o){return Zn(this,1,"fulfillValue",o)},reject:function(o){return Zn(this,2,"rejectReason",o)},then:function(o,l){var f=this,h=new sa;return f.onFulfilled.push(xu(o,h,"fulfill")),f.onRejected.push(xu(l,h,"reject")),mc(f),h.proxy}};var Zn=function(o,l,f,h){return 0===o.state&&(o.state=l,o[f]=h,mc(o)),o},mc=function(o){1===o.state?bh(o,"onFulfilled",o.fulfillValue):2===o.state&&bh(o,"onRejected",o.rejectReason)},bh=function(o,l,f){if(0!==o[l].length){var h=o[l];o[l]=[];var p=function(){for(var w=0;w<h.length;w++)h[w](f)};"function"==typeof setImmediate?setImmediate(p):setTimeout(p,0)}},xu=function(o,l,f){return function(h){if("function"!=typeof o)l[f].call(l,h);else{var p;try{p=o(h)}catch(g){return void l.reject(g)}Gi(l,p)}}},Gi=function u(o,l){if(o!==l&&o.proxy!==l){var f;if("object"===H(l)&&null!==l||"function"==typeof l)try{f=l.then}catch(p){return void o.reject(p)}if("function"!=typeof f)o.fulfill(l);else{var h=!1;try{f.call(l,function(p){h||(h=!0,p===l?o.reject(new TypeError("circular thenable chain")):u(o,p))},function(p){h||(h=!0,o.reject(p))})}catch(p){h||o.reject(p)}}}else o.reject(new TypeError("cannot resolve promise with itself"))};sa.all=function(u){return new sa(function(o,l){for(var f=new Array(u.length),h=0,p=function(x,E){f[x]=E,++h===u.length&&o(f)},g=0;g<u.length;g++)!function(w){var x=u[w];null!=x&&null!=x.then?x.then(function(F){p(w,F)},function(F){l(F)}):p(w,x)}(g)})},sa.resolve=function(u){return new sa(function(o,l){o(u)})},sa.reject=function(u){return new sa(function(o,l){l(u)})};var ds=typeof Promise<"u"?Promise:sa,Za=function(o,l,f){var h=lt(o),p=!h,g=this._private=Nn({duration:1e3},l,f);if(g.target=o,g.style=g.style||g.css,g.started=!1,g.playing=!1,g.hooked=!1,g.applying=!1,g.progress=0,g.completes=[],g.frames=[],g.complete&&at(g.complete)&&g.completes.push(g.complete),p){var w=o.position();g.startPosition=g.startPosition||{x:w.x,y:w.y},g.startStyle=g.startStyle||o.cy().style().getAnimationStartStyle(o,g.style)}if(h){var x=o.pan();g.startPan={x:x.x,y:x.y},g.startZoom=o.zoom()}this.length=1,this[0]=this},uo=Za.prototype;Nn(uo,{instanceString:function(){return"animation"},hook:function(){var o=this._private;if(!o.hooked){var f=o.target._private.animation;(o.queue?f.queue:f.current).push(this),It(o.target)&&o.target.cy().addToAnimationPool(o.target),o.hooked=!0}return this},play:function(){var o=this._private;return 1===o.progress&&(o.progress=0),o.playing=!0,o.started=!1,o.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var o=this._private;return o.applying=!0,o.started=!1,o.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var o=this._private;return o.playing=!1,o.started=!1,this},stop:function(){var o=this._private;return o.playing=!1,o.started=!1,o.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(o){var l=this._private;return void 0===o?l.progress*l.duration:this.progress(o/l.duration)},progress:function(o){var l=this._private,f=l.playing;return void 0===o?l.progress:(f&&this.pause(),l.progress=o,l.started=!1,f&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var o=this._private,l=o.playing;l&&this.pause(),o.progress=1-o.progress,o.started=!1;var f=function(E,M){var F=o[E];null!=F&&(o[E]=o[M],o[M]=F)};if(f("zoom","startZoom"),f("pan","startPan"),f("position","startPosition"),o.style)for(var h=0;h<o.style.length;h++){var p=o.style[h],g=p.name,w=o.startStyle[g];o.startStyle[g]=p,o.style[h]=w}return l&&this.play(),this},promise:function(o){var f,l=this._private;return f="frame"===o?l.frames:l.completes,new ds(function(h,p){f.push(function(){h()})})}}),uo.complete=uo.completed,uo.run=uo.play,uo.running=uo.playing;var dd={data:function(o){return o=Nn({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(h){},beforeSet:function(h,p){},onSet:function(h){},canSet:function(h){return!0}},o),function(h,p){var g=o,w=this,x=void 0!==w.length,E=x?w:[w],M=x?w[0]:w;if(Be(h)){var W,z=-1!==h.indexOf(".")&&k.default(h);if(g.allowGetting&&void 0===p)return M&&(g.beforeGet(M),W=z&&void 0===M._private[g.field][h]?V.default(M._private[g.field],z):M._private[g.field][h]),W;if(g.allowSetting&&void 0!==p&&!g.immutableKeys[h]){var q=ne({},h,p);g.beforeSet(w,q);for(var J=0,re=E.length;J<re;J++){var fe=E[J];g.canSet(fe)&&(z&&void 0===M._private[g.field][h]?L.default(fe._private[g.field],z,p):fe._private[g.field][h]=p)}g.updateStyle&&w.updateStyle(),g.onSet(w),g.settingTriggersEvent&&w[g.triggerFnName](g.settingEvent)}}else if(g.allowSetting&&Ye(h)){var ve,Me,he=h,Ie=Object.keys(he);g.beforeSet(w,he);for(var ye=0;ye<Ie.length;ye++)if(Me=he[ve=Ie[ye]],!g.immutableKeys[ve])for(var we=0;we<E.length;we++){var ke=E[we];g.canSet(ke)&&(ke._private[g.field][ve]=Me)}g.updateStyle&&w.updateStyle(),g.onSet(w),g.settingTriggersEvent&&w[g.triggerFnName](g.settingEvent)}else if(g.allowBinding&&at(h))w.on(g.bindingEvent,h);else if(g.allowGetting&&void 0===h){var Ee;return M&&(g.beforeGet(M),Ee=M._private[g.field]),Ee}return w}},removeData:function(o){return o=Nn({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},o),function(h){var p=o,g=this,x=void 0!==g.length?g:[g];if(Be(h)){for(var E=h.split(/\s+/),M=E.length,F=0;F<M;F++){var z=E[F];if(!Ft(z)&&!p.immutableKeys[z])for(var j=0,q=x.length;j<q;j++)x[j]._private[p.field][z]=void 0}p.triggerEvent&&g[p.triggerFnName](p.event)}else if(void 0===h){for(var J=0,re=x.length;J<re;J++)for(var fe=x[J]._private[p.field],he=Object.keys(fe),ve=0;ve<he.length;ve++){var Me=he[ve];!p.immutableKeys[Me]&&(fe[Me]=void 0)}p.triggerEvent&&g[p.triggerFnName](p.event)}return g}}},wl={eventAliasesOn:function(o){var l=o;l.addListener=l.listen=l.bind=l.on,l.unlisten=l.unbind=l.off=l.removeListener,l.trigger=l.emit,l.pon=l.promiseOn=function(f,h){var p=this,g=Array.prototype.slice.call(arguments,0);return new ds(function(w,x){var M=g.concat([function(W){p.off.apply(p,F),w(W)}]),F=M.concat([]);p.on.apply(p,M)})}}},ur={};[{animated:function(){return function(){var l=this,h=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return!1;var g=h[0];return g?g._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var l=this,h=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return this;for(var g=0;g<h.length;g++)h[g]._private.animation.queue=[];return this}},delay:function(){return function(l,f){return(this._private.cy||this).styleEnabled()?this.animate({delay:l,duration:l,complete:f}):this}},delayAnimation:function(){return function(l,f){return(this._private.cy||this).styleEnabled()?this.animation({delay:l,duration:l,complete:f}):this}},animation:function(){return function(l,f){var h=this,p=void 0!==h.length,g=p?h:[h],w=this._private.cy||this,x=!p,E=!x;if(!w.styleEnabled())return this;var M=w.style();if(l=Nn({},l,f),0===Object.keys(l).length)return new Za(g[0],l);switch(void 0===l.duration&&(l.duration=400),l.duration){case"slow":l.duration=600;break;case"fast":l.duration=200}if(E&&(l.style=M.getPropsList(l.style||l.css),l.css=void 0),E&&null!=l.renderedPosition){var z=l.renderedPosition,W=w.pan(),j=w.zoom();l.position=gi(z,j,W)}if(x&&null!=l.panBy){var q=l.panBy,J=w.pan();l.pan={x:J.x+q.x,y:J.y+q.y}}var re=l.center||l.centre;if(x&&null!=re){var fe=w.getCenterPan(re.eles,l.zoom);null!=fe&&(l.pan=fe)}if(x&&null!=l.fit){var he=l.fit,ve=w.getFitViewport(he.eles||he.boundingBox,he.padding);null!=ve&&(l.pan=ve.pan,l.zoom=ve.zoom)}if(x&&Ye(l.zoom)){var Me=w.getZoomedViewport(l.zoom);null!=Me?(Me.zoomed&&(l.zoom=Me.zoom),Me.panned&&(l.pan=Me.pan)):l.zoom=null}return new Za(g[0],l)}},animate:function(){return function(l,f){var h=this,g=void 0!==h.length?h:[h];if(!(this._private.cy||this).styleEnabled())return this;f&&(l=Nn({},l,f));for(var x=0;x<g.length;x++){var E=g[x],M=E.animated()&&(void 0===l.queue||l.queue);E.animation(l,M?{queue:!0}:void 0).play()}return this}},stop:function(){return function(l,f){var h=this,g=void 0!==h.length?h:[h],w=this._private.cy||this;if(!w.styleEnabled())return this;for(var x=0;x<g.length;x++){for(var M=g[x]._private,F=M.animation.current,z=0;z<F.length;z++)f&&(F[z]._private.duration=0);l&&(M.animation.queue=[]),f||(M.animation.current=[])}return w.notify("draw"),this}}},dd,wl].forEach(function(u){Nn(ur,u)});var fd={animate:ur.animate(),animation:ur.animation(),animated:ur.animated(),clearQueue:ur.clearQueue(),delay:ur.delay(),delayAnimation:ur.delayAnimation(),stop:ur.stop()},qa={classes:function(o){var l=this;if(void 0===o){var f=[];return l[0]._private.classes.forEach(function(j){return f.push(j)}),f}ft(o)||(o=(o||"").match(/\S+/g)||[]);for(var h=[],p=new Is(o),g=0;g<l.length;g++){for(var w=l[g],x=w._private,E=x.classes,M=!1,F=0;F<o.length;F++)if(!E.has(o[F])){M=!0;break}M||(M=E.size!==o.length),M&&(x.classes=p,h.push(w))}return h.length>0&&this.spawn(h).updateStyle().emit("class"),l},addClass:function(o){return this.toggleClass(o,!0)},hasClass:function(o){var l=this[0];return null!=l&&l._private.classes.has(o)},toggleClass:function(o,l){ft(o)||(o=o.match(/\S+/g)||[]);for(var f=this,h=void 0===l,p=[],g=0,w=f.length;g<w;g++)for(var x=f[g],E=x._private.classes,M=!1,F=0;F<o.length;F++){var z=o[F],W=E.has(z),j=!1;l||h&&!W?(E.add(z),j=!0):(!l||h&&W)&&(E.delete(z),j=!0),!M&&j&&(p.push(x),M=!0)}return p.length>0&&this.spawn(p).updateStyle().emit("class"),f},removeClass:function(o){return this.toggleClass(o,!1)},flashClass:function(o,l){var f=this;if(null==l)l=250;else if(0===l)return f;return f.addClass(o),setTimeout(function(){f.removeClass(o)},l),f}};qa.className=qa.classNames=qa.classes;var hn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:dn,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};hn.variable="(?:[\\w-.]|(?:\\\\"+hn.metaChar+"))+",hn.className="(?:[\\w-]|(?:\\\\"+hn.metaChar+"))+",hn.value=hn.string+"|"+hn.number,hn.id=hn.variable,function(){var u,o,l;for(u=hn.comparatorOp.split("|"),l=0;l<u.length;l++)hn.comparatorOp+="|@"+(o=u[l]);for(u=hn.comparatorOp.split("|"),l=0;l<u.length;l++)!((o=u[l]).indexOf("!")>=0)&&"="!==o&&(hn.comparatorOp+="|\\!"+o)}();var _l=[{selector:":selected",matches:function(o){return o.selected()}},{selector:":unselected",matches:function(o){return!o.selected()}},{selector:":selectable",matches:function(o){return o.selectable()}},{selector:":unselectable",matches:function(o){return!o.selectable()}},{selector:":locked",matches:function(o){return o.locked()}},{selector:":unlocked",matches:function(o){return!o.locked()}},{selector:":visible",matches:function(o){return o.visible()}},{selector:":hidden",matches:function(o){return!o.visible()}},{selector:":transparent",matches:function(o){return o.transparent()}},{selector:":grabbed",matches:function(o){return o.grabbed()}},{selector:":free",matches:function(o){return!o.grabbed()}},{selector:":removed",matches:function(o){return o.removed()}},{selector:":inside",matches:function(o){return!o.removed()}},{selector:":grabbable",matches:function(o){return o.grabbable()}},{selector:":ungrabbable",matches:function(o){return!o.grabbable()}},{selector:":animated",matches:function(o){return o.animated()}},{selector:":unanimated",matches:function(o){return!o.animated()}},{selector:":parent",matches:function(o){return o.isParent()}},{selector:":childless",matches:function(o){return o.isChildless()}},{selector:":child",matches:function(o){return o.isChild()}},{selector:":orphan",matches:function(o){return o.isOrphan()}},{selector:":nonorphan",matches:function(o){return o.isChild()}},{selector:":compound",matches:function(o){return o.isNode()?o.isParent():o.source().isParent()||o.target().isParent()}},{selector:":loop",matches:function(o){return o.isLoop()}},{selector:":simple",matches:function(o){return o.isSimple()}},{selector:":active",matches:function(o){return o.active()}},{selector:":inactive",matches:function(o){return!o.active()}},{selector:":backgrounding",matches:function(o){return o.backgrounding()}},{selector:":nonbackgrounding",matches:function(o){return!o.backgrounding()}}].sort(function(u,o){return function(o,l){return-1*ja(o,l)}(u.selector,o.selector)}),ks=function(){for(var o,u={},l=0;l<_l.length;l++)u[(o=_l[l]).selector]=o.matches;return u}(),Du="("+_l.map(function(u){return u.selector}).join("|")+")",tl=function(o){return o.replace(new RegExp("\\\\("+hn.metaChar+")","g"),function(l,f){return f})},ii=function(o,l,f){o[o.length-1]=f},Xl=[{name:"group",query:!0,regex:"("+hn.group+")",populate:function(o,l,f){var p=le(f,1)[0];l.checks.push({type:0,value:"*"===p?p:p+"s"})}},{name:"state",query:!0,regex:Du,populate:function(o,l,f){var h=le(f,1);l.checks.push({type:7,value:h[0]})}},{name:"id",query:!0,regex:"\\#("+hn.id+")",populate:function(o,l,f){var h=le(f,1);l.checks.push({type:8,value:tl(h[0])})}},{name:"className",query:!0,regex:"\\.("+hn.className+")",populate:function(o,l,f){var h=le(f,1);l.checks.push({type:9,value:tl(h[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+hn.variable+")\\s*\\]",populate:function(o,l,f){var h=le(f,1);l.checks.push({type:4,field:tl(h[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+hn.variable+")\\s*("+hn.comparatorOp+")\\s*("+hn.value+")\\s*\\]",populate:function(o,l,f){var h=le(f,3),p=h[0],g=h[1],w=h[2];w=null!=new RegExp("^"+hn.string+"$").exec(w)?w.substring(1,w.length-1):parseFloat(w),l.checks.push({type:3,field:tl(p),operator:g,value:w})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+hn.boolOp+")\\s*("+hn.variable+")\\s*\\]",populate:function(o,l,f){var h=le(f,2),p=h[0];l.checks.push({type:5,field:tl(h[1]),operator:p})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+hn.meta+")\\s*("+hn.comparatorOp+")\\s*("+hn.number+")\\s*\\]\\]",populate:function(o,l,f){var h=le(f,3),g=h[1],w=h[2];l.checks.push({type:6,field:tl(h[0]),operator:g,value:parseFloat(w)})}},{name:"nextQuery",separator:!0,regex:hn.separator,populate:function(o,l){var f=o.currentSubject,h=o.edgeCount,p=o.compoundCount,g=o[o.length-1];return null!=f&&(g.subject=f,o.currentSubject=null),g.edgeCount=h,g.compoundCount=p,o.edgeCount=0,o.compoundCount=0,o[o.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:hn.directedEdge,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},p={checks:[]};return f.checks.push({type:11,source:l,target:p}),ii(o,0,f),o.edgeCount++,p}var g={checks:[]},x={checks:[]};return g.checks.push({type:12,source:l,target:x}),ii(o,0,g),o.edgeCount++,x}},{name:"undirectedEdge",separator:!0,regex:hn.undirectedEdge,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},p={checks:[]};return f.checks.push({type:10,nodes:[l,p]}),ii(o,0,f),o.edgeCount++,p}var g={checks:[]},x={checks:[]};return g.checks.push({type:14,node:l,neighbor:x}),ii(o,0,g),x}},{name:"child",separator:!0,regex:hn.child,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},h={checks:[]};return f.checks.push({type:15,parent:o[o.length-1],child:h}),ii(o,0,f),o.compoundCount++,h}if(o.currentSubject===l){var g={checks:[]},x={checks:[]},E={checks:[]},M={checks:[]},F={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:x,subject:E}),E.checks=l.checks,l.checks=[{type:20}],F.checks.push({type:20}),x.checks.push({type:17,parent:F,child:M}),ii(o,0,g),o.currentSubject=E,o.compoundCount++,M}var z={checks:[]},W={checks:[]},j=[{type:17,parent:z,child:W}];return z.checks=l.checks,l.checks=j,o.compoundCount++,W}},{name:"descendant",separator:!0,regex:hn.descendant,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},h={checks:[]};return f.checks.push({type:16,ancestor:o[o.length-1],descendant:h}),ii(o,0,f),o.compoundCount++,h}if(o.currentSubject===l){var g={checks:[]},x={checks:[]},E={checks:[]},M={checks:[]},F={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:x,subject:E}),E.checks=l.checks,l.checks=[{type:20}],F.checks.push({type:20}),x.checks.push({type:18,ancestor:F,descendant:M}),ii(o,0,g),o.currentSubject=E,o.compoundCount++,M}var z={checks:[]},W={checks:[]},j=[{type:18,ancestor:z,descendant:W}];return z.checks=l.checks,l.checks=j,o.compoundCount++,W}},{name:"subject",modifier:!0,regex:hn.subject,populate:function(o,l){if(null!=o.currentSubject&&o.currentSubject!==l)return Sr("Redefinition of subject in selector `"+o.toString()+"`"),!1;o.currentSubject=l;var h=o[o.length-1].checks[0],p=null==h?null:h.type;11===p?h.type=13:10===p&&(h.type=14,h.node=h.nodes[1],h.neighbor=h.nodes[0],h.nodes=null)}}];Xl.forEach(function(u){return u.regexObj=new RegExp("^"+u.regex)});var Qa=function(o){for(var l,f,h,p=0;p<Xl.length;p++){var g=Xl[p],w=g.name,x=o.match(g.regexObj);if(null!=x){f=x,l=g,h=w,o=o.substring(x[0].length);break}}return{expr:l,match:f,name:h,remaining:o}},xf={parse:function(o){var l=this,f=l.inputText=o,h=l[0]={checks:[]};for(l.length=1,f=function(o){var l=o.match(/^\s+/);return l&&(o=o.substring(l[0].length)),o}(f);;){var p=Qa(f);if(null==p.expr)return Sr("The selector `"+o+"`is invalid"),!1;var g=p.match.slice(1),w=p.expr.populate(l,h,g);if(!1===w)return!1;if(null!=w&&(h=w),(f=p.remaining).match(/^\s*$/))break}var x=l[l.length-1];null!=l.currentSubject&&(x.subject=l.currentSubject),x.edgeCount=l.edgeCount,x.compoundCount=l.compoundCount;for(var E=0;E<l.length;E++){var M=l[E];if(M.compoundCount>0&&M.edgeCount>0)return Sr("The selector `"+o+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(M.edgeCount>1)return Sr("The selector `"+o+"` is invalid because it uses multiple edge selectors"),!1;1===M.edgeCount&&Sr("The selector `"+o+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var o=function(M){return M??""},l=function(M){return Be(M)?'"'+M+'"':o(M)},f=function(M){return" "+M+" "},p=function(M,F){return M.checks.reduce(function(z,W,j){return z+(F===M&&0===j?"$":"")+function(M,F){var W=M.value;switch(M.type){case 0:var j=o(W);return j.substring(0,j.length-1);case 3:return"["+M.field+f(o(M.operator))+l(W)+"]";case 5:var fe=M.field;return"["+o(M.operator)+fe+"]";case 4:return"["+M.field+"]";case 6:return"[["+M.field+f(o(M.operator))+l(W)+"]]";case 7:return W;case 8:return"#"+W;case 9:return"."+W;case 17:case 15:return p(M.parent,F)+f(">")+p(M.child,F);case 18:case 16:return p(M.ancestor,F)+" "+p(M.descendant,F);case 19:var Ie=p(M.left,F),ye=p(M.subject,F),Se=p(M.right,F);return Ie+(Ie.length>0?" ":"")+ye+Se;case 20:return""}}(W,F)},"")},g="",w=0;w<this.length;w++){var x=this[w];g+=p(x,x.subject),this.length>1&&w<this.length-1&&(g+=", ")}return this.toStringCache=g,g}},fs=function(o,l,f){var h,x,E,p=Be(o),g=Xe(o),w=Be(f),M=!1,F=!1,z=!1;switch(l.indexOf("!")>=0&&(l=l.replace("!",""),F=!0),l.indexOf("@")>=0&&(l=l.replace("@",""),M=!0),(p||w||M)&&(x=p||g?""+o:"",E=""+f),M&&(o=x=x.toLowerCase(),f=E=E.toLowerCase()),l){case"*=":h=x.indexOf(E)>=0;break;case"$=":h=x.indexOf(E,x.length-E.length)>=0;break;case"^=":h=0===x.indexOf(E);break;case"=":h=o===f;break;case">":z=!0,h=o>f;break;case">=":z=!0,h=o>=f;break;case"<":z=!0,h=o<f;break;case"<=":z=!0,h=o<=f;break;default:h=!1}return F&&(null!=o||!z)&&(h=!h),h},Po=function(o,l){return o.data(l)},yi=[],_i=function(o,l){return o.checks.every(function(f){return yi[f.type](f,l)})};yi[0]=function(u,o){var l=u.value;return"*"===l||l===o.group()},yi[7]=function(u,o){return function(o,l){return ks[o](l)}(u.value,o)},yi[8]=function(u,o){var l=u.value;return o.id()===l},yi[9]=function(u,o){return o.hasClass(u.value)},yi[6]=function(u,o){var f=u.operator,h=u.value;return fs(function(o,l){return o[l]()}(o,u.field),f,h)},yi[3]=function(u,o){var f=u.operator,h=u.value;return fs(Po(o,u.field),f,h)},yi[5]=function(u,o){var f=u.operator;return function(o,l){switch(l){case"?":return!!o;case"!":return!o;case"^":return void 0===o}}(Po(o,u.field),f)},yi[4]=function(u,o){return function(o){return void 0!==o}(Po(o,u.field))},yi[10]=function(u,o){var l=u.nodes[0],f=u.nodes[1],h=o.source(),p=o.target();return _i(l,h)&&_i(f,p)||_i(f,h)&&_i(l,p)},yi[14]=function(u,o){return _i(u.node,o)&&o.neighborhood().some(function(l){return l.isNode()&&_i(u.neighbor,l)})},yi[11]=function(u,o){return _i(u.source,o.source())&&_i(u.target,o.target())},yi[12]=function(u,o){return _i(u.source,o)&&o.outgoers().some(function(l){return l.isNode()&&_i(u.target,l)})},yi[13]=function(u,o){return _i(u.target,o)&&o.incomers().some(function(l){return l.isNode()&&_i(u.source,l)})},yi[15]=function(u,o){return _i(u.child,o)&&_i(u.parent,o.parent())},yi[17]=function(u,o){return _i(u.parent,o)&&o.children().some(function(l){return _i(u.child,l)})},yi[16]=function(u,o){return _i(u.descendant,o)&&o.ancestors().some(function(l){return _i(u.ancestor,l)})},yi[18]=function(u,o){return _i(u.ancestor,o)&&o.descendants().some(function(l){return _i(u.descendant,l)})},yi[19]=function(u,o){return _i(u.subject,o)&&_i(u.left,o)&&_i(u.right,o)},yi[20]=function(){return!0},yi[1]=function(u,o){return u.value.has(o)},yi[2]=function(u,o){return(0,u.value)(o)};var hy={matches:function(o){for(var f=0;f<this.length;f++)if(_i(this[f],o))return!0;return!1},filter:function(o){var l=this;if(1===l.length&&1===l[0].checks.length&&8===l[0].checks[0].type)return o.getElementById(l[0].checks[0].value).collection();var f=function(p){for(var g=0;g<l.length;g++)if(_i(l[g],p))return!0;return!1};return null==l.text()&&(f=function(){return!0}),o.filter(f)}},Su=function(o){this.inputText=o,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==o||Be(o)&&o.match(/^\s*$/)||(It(o)?this.addQuery({checks:[{type:1,value:o.collection()}]}):at(o)?this.addQuery({checks:[{type:2,value:o}]}):Be(o)?this.parse(o)||(this.invalid=!0):ni("A selector must be created from a string; found "))},Cl=Su.prototype;[xf,hy].forEach(function(u){return Nn(Cl,u)}),Cl.text=function(){return this.inputText},Cl.size=function(){return this.length},Cl.eq=function(u){return this[u]},Cl.sameText=function(u){return!this.invalid&&!u.invalid&&this.text()===u.text()},Cl.addQuery=function(u){this[this.length++]=u},Cl.selector=Cl.toString;var Kl={allAre:function(o){var l=new Su(o);return this.every(function(f){return l.matches(f)})},is:function(o){var l=new Su(o);return this.some(function(f){return l.matches(f)})},some:function(o,l){for(var f=0;f<this.length;f++)if(l?o.apply(l,[this[f],f,this]):o(this[f],f,this))return!0;return!1},every:function(o,l){for(var f=0;f<this.length;f++)if(!(l?o.apply(l,[this[f],f,this]):o(this[f],f,this)))return!1;return!0},same:function(o){if(this===o)return!0;o=this.cy().collection(o);var l=this.length;return l===o.length&&(1===l?this[0]===o[0]:this.every(function(h){return o.hasElementWithId(h.id())}))},anySame:function(o){return o=this.cy().collection(o),this.some(function(l){return o.hasElementWithId(l.id())})},allAreNeighbors:function(o){o=this.cy().collection(o);var l=this.neighborhood();return o.every(function(f){return l.hasElementWithId(f.id())})},contains:function(o){o=this.cy().collection(o);var l=this;return o.every(function(f){return l.hasElementWithId(f.id())})}};Kl.allAreNeighbours=Kl.allAreNeighbors,Kl.has=Kl.contains,Kl.equal=Kl.equals=Kl.same;var Zl,Tf,Ja=function(o,l){return function(h,p,g,w){var M,x=h,E=this;if(null==x?M="":It(x)&&1===x.length&&(M=x.id()),1===E.length&&M){var F=E[0]._private,z=F.traversalCache=F.traversalCache||{},W=z[l]=z[l]||[],j=as(M);return W[j]||(W[j]=o.call(E,h,p,g,w))}return o.call(E,h,p,g,w)}},pd={parent:function(o){var l=[];if(1===this.length){var f=this[0]._private.parent;if(f)return f}for(var h=0;h<this.length;h++){var g=this[h]._private.parent;g&&l.push(g)}return this.spawn(l,!0).filter(o)},parents:function(o){for(var l=[],f=this.parent();f.nonempty();){for(var h=0;h<f.length;h++)l.push(f[h]);f=f.parent()}return this.spawn(l,!0).filter(o)},commonAncestors:function(o){for(var l,f=0;f<this.length;f++){var p=this[f].parents();l=(l=l||p).intersect(p)}return l.filter(o)},orphans:function(o){return this.stdFilter(function(l){return l.isOrphan()}).filter(o)},nonorphans:function(o){return this.stdFilter(function(l){return l.isChild()}).filter(o)},children:Ja(function(u){for(var o=[],l=0;l<this.length;l++)for(var h=this[l]._private.children,p=0;p<h.length;p++)o.push(h[p]);return this.spawn(o,!0).filter(u)},"children"),siblings:function(o){return this.parent().children().not(this).filter(o)},isParent:function(){var o=this[0];if(o)return o.isNode()&&0!==o._private.children.length},isChildless:function(){var o=this[0];if(o)return o.isNode()&&0===o._private.children.length},isChild:function(){var o=this[0];if(o)return o.isNode()&&null!=o._private.parent},isOrphan:function(){var o=this[0];if(o)return o.isNode()&&null==o._private.parent},descendants:function(o){var l=[];return function f(h){for(var p=0;p<h.length;p++){var g=h[p];l.push(g),g.children().nonempty()&&f(g.children())}}(this.children()),this.spawn(l,!0).filter(o)}};function Df(u,o,l,f){for(var h=[],p=new Is,w=u.cy().hasCompoundNodes(),x=0;x<u.length;x++){var E=u[x];l?h.push(E):w&&f(h,p,E)}for(;h.length>0;){var M=h.shift();o(M),p.add(M.id()),w&&f(h,p,M)}return u}function Ch(u,o,l){if(l.isParent())for(var f=l._private.children,h=0;h<f.length;h++){var p=f[h];o.has(p.id())||u.push(p)}}function Op(u,o,l){if(l.isChild()){var f=l._private.parent;o.has(f.id())||u.push(f)}}function cm(u,o,l){Op(u,o,l),Ch(u,o,l)}pd.forEachDown=function(u){return Df(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Ch)},pd.forEachUp=function(u){return Df(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Op)},pd.forEachUpAndDown=function(u){return Df(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],cm)},pd.ancestors=pd.parents,Zl=Tf={data:ur.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ur.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ur.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ur.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ur.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ur.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var o=this[0];if(o)return o._private.data.id}},Zl.attr=Zl.data,Zl.removeAttr=Zl.removeData;var Sf=Tf,Eh={};function gd(u){return function(o){var l=this;if(void 0===o&&(o=!0),0===l.length);else if(l.isNode()&&!l.removed()){for(var f=0,h=l[0],p=h._private.edges,g=0;g<p.length;g++){var w=p[g];!o&&w.isLoop()||(f+=u(h,w))}return f}}}function co(u,o){return function(l){for(var f,h=this.nodes(),p=0;p<h.length;p++){var w=h[p][u](l);void 0!==w&&(void 0===f||o(w,f))&&(f=w)}return f}}Nn(Eh,{degree:gd(function(u,o){return o.source().same(o.target())?2:1}),indegree:gd(function(u,o){return o.target().same(u)?1:0}),outdegree:gd(function(u,o){return o.source().same(u)?1:0})}),Nn(Eh,{minDegree:co("degree",function(u,o){return u<o}),maxDegree:co("degree",function(u,o){return u>o}),minIndegree:co("indegree",function(u,o){return u<o}),maxIndegree:co("indegree",function(u,o){return u>o}),minOutdegree:co("outdegree",function(u,o){return u<o}),maxOutdegree:co("outdegree",function(u,o){return u>o})}),Nn(Eh,{totalDegree:function(o){for(var l=0,f=this.nodes(),h=0;h<f.length;h++)l+=f[h].degree(o);return l}});var es,dm,md=function(o,l,f){for(var h=0;h<o.length;h++){var p=o[h];if(!p.locked()){var g=p._private.position,w={x:null!=l.x?l.x-g.x:0,y:null!=l.y?l.y-g.y:0};p.isParent()&&!(0===w.x&&0===w.y)&&p.children().shift(w,f),p.dirtyBoundingBoxCache()}}},ba={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(o){o.updateCompoundBounds()},beforeSet:function(o,l){md(o,l,!1)},onSet:function(o){o.dirtyCompoundBoundsCache()},canSet:function(o){return!o.locked()}};es=dm={position:ur.data(ba),silentPosition:ur.data(Nn({},ba,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(o,l){md(o,l,!0)},onSet:function(o){o.dirtyCompoundBoundsCache()}})),positions:function(o,l){if(Ye(o))l?this.silentPosition(o):this.position(o);else if(at(o)){var f=o,h=this.cy();h.startBatch();for(var p=0;p<this.length;p++){var w,g=this[p];(w=f(g,p))&&(l?g.silentPosition(w):g.position(w))}h.endBatch()}return this},silentPositions:function(o){return this.positions(o,!0)},shift:function(o,l,f){var h;if(Ye(o)?(h={x:Xe(o.x)?o.x:0,y:Xe(o.y)?o.y:0},f=l):Be(o)&&Xe(l)&&((h={x:0,y:0})[o]=l),null!=h){var p=this.cy();p.startBatch();for(var g=0;g<this.length;g++){var w=this[g];if(!(p.hasCompoundNodes()&&w.isChild()&&w.ancestors().anySame(this))){var x=w.position(),E={x:x.x+h.x,y:x.y+h.y};f?w.silentPosition(E):w.position(E)}}p.endBatch()}return this},silentShift:function(o,l){return Ye(o)?this.shift(o,!0):Be(o)&&Xe(l)&&this.shift(o,l,!0),this},renderedPosition:function(o,l){var f=this[0],h=this.cy(),p=h.zoom(),g=h.pan(),w=Ye(o)?o:void 0,x=void 0!==w||void 0!==l&&Be(o);if(f&&f.isNode()){if(!x){var F=f.position();return w=Lr(F,p,g),void 0===o?w:w[o]}for(var E=0;E<this.length;E++){var M=this[E];void 0!==l?M.position(o,(l-g[o])/p):void 0!==w&&M.position(gi(w,p,g))}}else if(!x)return;return this},relativePosition:function(o,l){var f=this[0],h=this.cy(),p=Ye(o)?o:void 0,g=void 0!==p||void 0!==l&&Be(o),w=h.hasCompoundNodes();if(f&&f.isNode()){if(!g){var j=f.position(),q=w?f.parent():null,J=q&&q.length>0;J&&(q=q[0]);var fe=J?q.position():{x:0,y:0};return p={x:j.x-fe.x,y:j.y-fe.y},void 0===o?p:p[o]}for(var x=0;x<this.length;x++){var E=this[x],M=w?E.parent():null,F=M&&M.length>0;F&&(M=M[0]);var W=F?M.position():{x:0,y:0};void 0!==l?E.position(o,l+W[o]):void 0!==p&&E.position({x:p.x+W.x,y:p.y+W.y})}}else if(!g)return;return this}},es.modelPosition=es.point=es.position,es.modelPositions=es.points=es.positions,es.renderedPoint=es.renderedPosition,es.relativePoint=es.relativePosition;var ua,wa,Wr=dm;ua=wa={},wa.renderedBoundingBox=function(u){var o=this.boundingBox(u),l=this.cy(),f=l.zoom(),h=l.pan(),p=o.x1*f+h.x,g=o.x2*f+h.x,w=o.y1*f+h.y,x=o.y2*f+h.y;return{x1:p,x2:g,y1:w,y2:x,w:g-p,h:x-w}},wa.dirtyCompoundBoundsCache=function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();return o.styleEnabled()&&o.hasCompoundNodes()?(this.forEachUp(function(l){if(l.isParent()){var f=l._private;f.compoundBoundsClean=!1,f.bbCache=null,u||l.emitAndNotify("bounds")}}),this):this},wa.updateCompoundBounds=function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();if(!o.styleEnabled()||!o.hasCompoundNodes())return this;if(!u&&o.batching())return this;function l(g){if(g.isParent()){var w=g._private,x=g.children(),E="include"===g.pstyle("compound-sizing-wrt-labels").value,M={width:{val:g.pstyle("min-width").pfValue,left:g.pstyle("min-width-bias-left"),right:g.pstyle("min-width-bias-right")},height:{val:g.pstyle("min-height").pfValue,top:g.pstyle("min-height-bias-top"),bottom:g.pstyle("min-height-bias-bottom")}},F=x.boundingBox({includeLabels:E,includeOverlays:!1,useCache:!1}),z=w.position;(0===F.w||0===F.h)&&((F={w:g.pstyle("width").pfValue,h:g.pstyle("height").pfValue}).x1=z.x-F.w/2,F.x2=z.x+F.w/2,F.y1=z.y-F.h/2,F.y2=z.y+F.h/2);var q=M.width.left.value;"px"===M.width.left.units&&M.width.val>0&&(q=100*q/M.width.val);var J=M.width.right.value;"px"===M.width.right.units&&M.width.val>0&&(J=100*J/M.width.val);var re=M.height.top.value;"px"===M.height.top.units&&M.height.val>0&&(re=100*re/M.height.val);var fe=M.height.bottom.value;"px"===M.height.bottom.units&&M.height.val>0&&(fe=100*fe/M.height.val);var he=W(M.width.val-F.w,q,J),ve=he.biasDiff,Me=he.biasComplementDiff,Ie=W(M.height.val-F.h,re,fe),ye=Ie.biasDiff,Se=Ie.biasComplementDiff;w.autoPadding=function j(we,ke,Pe,Ee){if("%"!==Pe.units)return"px"===Pe.units?Pe.pfValue:0;switch(Ee){case"width":return we>0?Pe.pfValue*we:0;case"height":return ke>0?Pe.pfValue*ke:0;case"average":return we>0&&ke>0?Pe.pfValue*(we+ke)/2:0;case"min":return we>0&&ke>0?we>ke?Pe.pfValue*ke:Pe.pfValue*we:0;case"max":return we>0&&ke>0?we>ke?Pe.pfValue*we:Pe.pfValue*ke:0;default:return 0}}(F.w,F.h,g.pstyle("padding"),g.pstyle("padding-relative-to").value),w.autoWidth=Math.max(F.w,M.width.val),z.x=(-ve+F.x1+F.x2+Me)/2,w.autoHeight=Math.max(F.h,M.height.val),z.y=(-ye+F.y1+F.y2+Se)/2}function W(we,ke,Pe){var Ee=0,He=0,Ne=ke+Pe;return we>0&&Ne>0&&(Ee=ke/Ne*we,He=Pe/Ne*we),{biasDiff:Ee,biasComplementDiff:He}}}for(var f=0;f<this.length;f++){var h=this[f],p=h._private;(!p.compoundBoundsClean||u)&&(l(h),o.batching()||(p.compoundBoundsClean=!0))}return this};var Fo=function(o){return o===1/0||o===-1/0?0:o},hs=function(o,l,f,h,p){h-l==0||p-f==0||null==l||null==f||null==h||null==p||(o.x1=l<o.x1?l:o.x1,o.x2=h>o.x2?h:o.x2,o.y1=f<o.y1?f:o.y1,o.y2=p>o.y2?p:o.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1)},Bo=function(o,l){return null==l?o:hs(o,l.x1,l.y1,l.x2,l.y2)},El=function(o,l,f){return Qi(o,l,f)},eo=function(o,l,f){if(!l.cy().headless()){var x,E,h=l._private,p=h.rstyle,g=p.arrowWidth/2;if("none"!==l.pstyle(f+"-arrow-shape").value){"source"===f?(x=p.srcX,E=p.srcY):"target"===f?(x=p.tgtX,E=p.tgtY):(x=p.midX,E=p.midY);var M=h.arrowBounds=h.arrowBounds||{},F=M[f]=M[f]||{};F.x1=x-g,F.y1=E-g,F.x2=x+g,F.y2=E+g,F.w=F.x2-F.x1,F.h=F.y2-F.y1,Na(F,1),hs(o,F.x1,F.y1,F.x2,F.y2)}}},vc=function(o,l,f){if(!l.cy().headless()){var h,p=l._private,g=p.rstyle;if(l.pstyle((h=f?f+"-":"")+"label").strValue){var Pe,Ee,He,Ne,x=l.pstyle("text-halign"),E=l.pstyle("text-valign"),M=El(g,"labelWidth",f),F=El(g,"labelHeight",f),z=El(g,"labelX",f),W=El(g,"labelY",f),j=l.pstyle(h+"text-margin-x").pfValue,q=l.pstyle(h+"text-margin-y").pfValue,J=l.isEdge(),re=l.pstyle(h+"text-rotation"),fe=l.pstyle("text-outline-width").pfValue,ve=l.pstyle("text-border-width").pfValue/2,Me=l.pstyle("text-background-padding").pfValue,ye=F,Se=M,we=Se/2,ke=ye/2;if(J)Pe=z-we,Ee=z+we,He=W-ke,Ne=W+ke;else{switch(x.value){case"left":Pe=z-Se,Ee=z;break;case"center":Pe=z-we,Ee=z+we;break;case"right":Pe=z,Ee=z+Se}switch(E.value){case"top":He=W-ye,Ne=W;break;case"center":He=W-ke,Ne=W+ke;break;case"bottom":He=W,Ne=W+ye}}Pe+=j-Math.max(fe,ve)-Me-2,Ee+=j+Math.max(fe,ve)+Me+2,He+=q-Math.max(fe,ve)-Me-2,Ne+=q+Math.max(fe,ve)+Me+2;var Ke=f||"main",Ue=p.labelBounds,Ge=Ue[Ke]=Ue[Ke]||{};Ge.x1=Pe,Ge.y1=He,Ge.x2=Ee,Ge.y2=Ne,Ge.w=Ee-Pe,Ge.h=Ne-He;var ot=J&&"autorotate"===re.strValue;if(ot||null!=re.pfValue&&0!==re.pfValue){var vt=ot?El(p.rstyle,"labelAngle",f):re.pfValue,st=Math.cos(vt),mt=Math.sin(vt),At=(Pe+Ee)/2,Ot=(He+Ne)/2;if(!J){switch(x.value){case"left":At=Ee;break;case"right":At=Pe}switch(E.value){case"top":Ot=Ne;break;case"bottom":Ot=He}}var Dt=function(ar,sn){return{x:(ar-=At)*st-(sn-=Ot)*mt+At,y:ar*mt+sn*st+Ot}},_t=Dt(Pe,He),Je=Dt(Pe,Ne),Mt=Dt(Ee,He),Nt=Dt(Ee,Ne);Pe=Math.min(_t.x,Je.x,Mt.x,Nt.x),Ee=Math.max(_t.x,Je.x,Mt.x,Nt.x),He=Math.min(_t.y,Je.y,Mt.y,Nt.y),Ne=Math.max(_t.y,Je.y,Mt.y,Nt.y)}var Wt=Ke+"Rot",rn=Ue[Wt]=Ue[Wt]||{};rn.x1=Pe,rn.y1=He,rn.x2=Ee,rn.y2=Ne,rn.w=Ee-Pe,rn.h=Ne-He,hs(o,Pe,He,Ee,Ne),hs(p.labelBounds.all,Pe,He,Ee,Ne)}return o}},vd=function(o){var l=0,f=function(g){return(g?1:0)<<l++},h=0;return h+=f(o.incudeNodes),h+=f(o.includeEdges),h+=f(o.includeLabels),h+=f(o.includeMainLabels),h+=f(o.includeSourceLabels),(h+=f(o.includeTargetLabels))+f(o.includeOverlays)},yc=function(o){if(o.isEdge()){var l=o.source().position(),f=o.target().position(),h=function(g){return Math.round(g)};return function(o,l){var f={value:0,done:!1},h=0,p=o.length;return Qc({next:function(){return h<p?f.value=o[h++]:f.done=!0,f}},void 0)}([h(l.x),h(l.y),h(f.x),h(f.y)])}return 0},ps=function(o,l){var h,f=o._private,p=o.isEdge(),w=(null==l?Np:vd(l))===Np,x=yc(o),E=f.bbCachePosKey===x,M=l.useCache&&E,F=function(q){return null==q._private.bbCache||q._private.styleDirty};if(!M||F(o)||p&&F(o.source())||F(o.target())?(E||o.recalculateRenderedStyle(M),h=function(o,l){var M,F,z,W,j,q,f=o._private.cy,h=f.styleEnabled(),p=f.headless(),g=Mi(),w=o._private,x=o.isNode(),E=o.isEdge(),J=w.rstyle,re=x&&h?o.pstyle("bounds-expansion").pfValue:[0],fe=function(Pn){return"none"!==Pn.pstyle("display").value},he=!h||fe(o)&&(!E||fe(o.source())&&fe(o.target()));if(he){var Me=0;h&&l.includeOverlays&&0!==o.pstyle("overlay-opacity").value&&(Me=o.pstyle("overlay-padding").value);var ye=0;h&&l.includeUnderlays&&0!==o.pstyle("underlay-opacity").value&&(ye=o.pstyle("underlay-padding").value);var Se=Math.max(Me,ye),ke=0;if(h&&(ke=o.pstyle("width").pfValue/2),x&&l.includeNodes){var Pe=o.position();j=Pe.x,q=Pe.y;var He=o.outerWidth()/2,Ke=o.outerHeight()/2;hs(g,M=j-He,z=q-Ke,F=j+He,W=q+Ke)}else if(E&&l.includeEdges)if(h&&!p){var Ue=o.pstyle("curve-style").strValue;if(M=Math.min(J.srcX,J.midX,J.tgtX),F=Math.max(J.srcX,J.midX,J.tgtX),z=Math.min(J.srcY,J.midY,J.tgtY),W=Math.max(J.srcY,J.midY,J.tgtY),hs(g,M-=ke,z-=ke,F+=ke,W+=ke),"haystack"===Ue){var Ge=J.haystackPts;if(Ge&&2===Ge.length){if((M=Ge[0].x)>(F=Ge[1].x)){var ot=M;M=F,F=ot}if((z=Ge[0].y)>(W=Ge[1].y)){var ct=z;z=W,W=ct}hs(g,M-ke,z-ke,F+ke,W+ke)}}else if("bezier"===Ue||"unbundled-bezier"===Ue||"segments"===Ue||"taxi"===Ue){var vt;switch(Ue){case"bezier":case"unbundled-bezier":vt=J.bezierPts;break;case"segments":case"taxi":vt=J.linePts}if(null!=vt)for(var st=0;st<vt.length;st++){var mt=vt[st];hs(g,M=mt.x-ke,z=mt.y-ke,F=mt.x+ke,W=mt.y+ke)}}}else{var Ot=o.source().position(),_t=o.target().position();if((M=Ot.x)>(F=_t.x)){var Je=M;M=F,F=Je}if((z=Ot.y)>(W=_t.y)){var Mt=z;z=W,W=Mt}hs(g,M-=ke,z-=ke,F+=ke,W+=ke)}if(h&&l.includeEdges&&E&&(eo(g,o,"mid-source"),eo(g,o,"mid-target"),eo(g,o,"source"),eo(g,o,"target")),h&&"yes"===o.pstyle("ghost").value){var Wt=o.pstyle("ghost-offset-x").pfValue,rn=o.pstyle("ghost-offset-y").pfValue;hs(g,g.x1+Wt,g.y1+rn,g.x2+Wt,g.y2+rn)}var Xn=w.bodyBounds=w.bodyBounds||{};io(Xn,g),As(Xn,re),Na(Xn,1),h&&hs(g,(M=g.x1)-Se,(z=g.y1)-Se,(F=g.x2)+Se,(W=g.y2)+Se);var ar=w.overlayBounds=w.overlayBounds||{};io(ar,g),As(ar,re),Na(ar,1);var sn=w.labelBounds=w.labelBounds||{};null!=sn.all?function(o){o.x1=1/0,o.y1=1/0,o.x2=-1/0,o.y2=-1/0,o.w=0,o.h=0}(sn.all):sn.all=Mi(),h&&l.includeLabels&&(l.includeMainLabels&&vc(g,o,null),E&&(l.includeSourceLabels&&vc(g,o,"source"),l.includeTargetLabels&&vc(g,o,"target")))}return g.x1=Fo(g.x1),g.y1=Fo(g.y1),g.x2=Fo(g.x2),g.y2=Fo(g.y2),g.w=Fo(g.x2-g.x1),g.h=Fo(g.y2-g.y1),g.w>0&&g.h>0&&he&&(As(g,re),Na(g,1)),g}(o,bc),f.bbCache=h,f.bbCachePosKey=x):h=f.bbCache,!w){var W=o.isNode();h=Mi(),(l.includeNodes&&W||l.includeEdges&&!W)&&Bo(h,l.includeOverlays?f.overlayBounds:f.bodyBounds),l.includeLabels&&(l.includeMainLabels&&(!p||l.includeSourceLabels&&l.includeTargetLabels)?Bo(h,f.labelBounds.all):(l.includeMainLabels&&Bo(h,f.labelBounds.mainRot),l.includeSourceLabels&&Bo(h,f.labelBounds.sourceRot),l.includeTargetLabels&&Bo(h,f.labelBounds.targetRot))),h.w=h.x2-h.x1,h.h=h.y2-h.y1}return h},bc={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},Np=vd(bc),xh=li(bc);wa.boundingBox=function(u){var o;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==u&&void 0!==u.useCache&&!0!==u.useCache){o=Mi();var l=xh(u=u||bc),f=this;if(f.cy().styleEnabled())for(var g=0;g<f.length;g++){var w=f[g],x=w._private,E=yc(w);w.recalculateRenderedStyle(l.useCache&&x.bbCachePosKey===E&&!x.styleDirty)}this.updateCompoundBounds(!u.useCache);for(var z=0;z<f.length;z++)Bo(o,ps(f[z],l))}else u=void 0===u?bc:xh(u),o=ps(this[0],u);return o.x1=Fo(o.x1),o.y1=Fo(o.y1),o.x2=Fo(o.x2),o.y2=Fo(o.y2),o.w=Fo(o.x2-o.x1),o.h=Fo(o.y2-o.y1),o},wa.dirtyBoundingBoxCache=function(){for(var u=0;u<this.length;u++){var o=this[u]._private;o.bbCache=null,o.bbCachePosKey=null,o.bodyBounds=null,o.overlayBounds=null,o.labelBounds.all=null,o.labelBounds.source=null,o.labelBounds.target=null,o.labelBounds.main=null,o.labelBounds.sourceRot=null,o.labelBounds.targetRot=null,o.labelBounds.mainRot=null,o.arrowBounds.source=null,o.arrowBounds.target=null,o.arrowBounds["mid-source"]=null,o.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},wa.boundingBoxAt=function(u){var o=this.nodes(),l=this.cy(),f=l.hasCompoundNodes(),h=l.collection();if(f&&(h=o.filter(function(E){return E.isParent()}),o=o.not(h)),Ye(u)){var p=u;u=function(){return p}}l.startBatch(),o.forEach(function(M,F){return M._private.bbAtOldPos=u(M,F)}).silentPositions(u),f&&(h.dirtyCompoundBoundsCache(),h.dirtyBoundingBoxCache(),h.updateCompoundBounds(!0));var x=function(o){return{x1:o.x1,x2:o.x2,w:o.w,y1:o.y1,y2:o.y2,h:o.h}}(this.boundingBox({useCache:!1}));return o.silentPositions(function(M){return M._private.bbAtOldPos}),f&&(h.dirtyCompoundBoundsCache(),h.dirtyBoundingBoxCache(),h.updateCompoundBounds(!0)),l.endBatch(),x},ua.boundingbox=ua.bb=ua.boundingBox,ua.renderedBoundingbox=ua.renderedBoundingBox;var Mu,xl,wc=wa;Mu=xl={};var Rp=function(o){o.uppercaseName=Xr(o.name),o.autoName="auto"+o.uppercaseName,o.labelName="label"+o.uppercaseName,o.outerName="outer"+o.uppercaseName,o.uppercaseOuterName=Xr(o.outerName),Mu[o.name]=function(){var f=this[0],h=f._private;if(f){if(h.cy._private.styleEnabled){if(f.isParent())return f.updateCompoundBounds(),h[o.autoName]||0;var w=f.pstyle(o.name);return"label"===w.strValue?(f.recalculateRenderedStyle(),h.rstyle[o.labelName]||0):w.pfValue}return 1}},Mu["outer"+o.uppercaseName]=function(){var f=this[0];if(f)return f._private.cy._private.styleEnabled?f[o.name]()+f.pstyle("border-width").pfValue+2*f.padding():1},Mu["rendered"+o.uppercaseName]=function(){var f=this[0];if(f)return f[o.name]()*this.cy().zoom()},Mu["rendered"+o.uppercaseOuterName]=function(){var f=this[0];if(f)return f[o.outerName]()*this.cy().zoom()}};Rp({name:"width"}),Rp({name:"height"}),xl.padding=function(){var u=this[0],o=u._private;return u.isParent()?(u.updateCompoundBounds(),void 0!==o.autoPadding?o.autoPadding:u.pstyle("padding").pfValue):u.pstyle("padding").pfValue},xl.paddedHeight=function(){var u=this[0];return u.height()+2*u.padding()},xl.paddedWidth=function(){var u=this[0];return u.width()+2*u.padding()};var fm=xl,If={controlPoints:{get:function(o){return o.renderer().getControlPoints(o)},mult:!0},segmentPoints:{get:function(o){return o.renderer().getSegmentPoints(o)},mult:!0},sourceEndpoint:{get:function(o){return o.renderer().getSourceEndpoint(o)}},targetEndpoint:{get:function(o){return o.renderer().getTargetEndpoint(o)}},midpoint:{get:function(o){return o.renderer().getEdgeMidpoint(o)}}},Th=Object.keys(If).reduce(function(u,o){var l=If[o],f=function(o){return"rendered"+o[0].toUpperCase()+o.substr(1)}(o);return u[o]=function(){return function(o,l){if(o.isEdge())return l(o)}(this,l.get)},u[f]=l.mult?function(){return function(o,l){if(o.isEdge()){var f=o.cy(),h=f.pan(),p=f.zoom();return l(o).map(function(g){return Lr(g,p,h)})}}(this,l.get)}:function(){return function(o,l){if(o.isEdge()){var f=o.cy();return Lr(l(o),f.zoom(),f.pan())}}(this,l.get)},u},{}),Sh=Nn({},Wr,wc,fm,Th),wd=function(o,l){this.recycle(o,l)};function _d(){return!1}function Fa(){return!0}wd.prototype={instanceString:function(){return"event"},recycle:function(o,l){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=_d,null!=o&&o.preventDefault?(this.type=o.type,this.isDefaultPrevented=o.defaultPrevented?Fa:_d):null!=o&&o.type?l=o:this.type=o,null!=l&&(this.originalEvent=l.originalEvent,this.type=null!=l.type?l.type:this.type,this.cy=l.cy,this.target=l.target,this.position=l.position,this.renderedPosition=l.renderedPosition,this.namespace=l.namespace,this.layout=l.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var f=this.position,h=this.cy.zoom(),p=this.cy.pan();this.renderedPosition={x:f.x*h+p.x,y:f.y*h+p.y}}this.timeStamp=o&&o.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Fa;var o=this.originalEvent;o&&o.preventDefault&&o.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Fa;var o=this.originalEvent;o&&o.stopPropagation&&o.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Fa,this.stopPropagation()},isDefaultPrevented:_d,isPropagationStopped:_d,isImmediatePropagationStopped:_d};var Eo=/^([^.]+)(\.(?:[^.]+))?$/,fi={qualifierCompare:function(o,l){return o===l},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(o){return o},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Mh=Object.keys(fi),Ed={};function ji(){for(var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ed,o=arguments.length>1?arguments[1]:void 0,l=0;l<Mh.length;l++){var f=Mh[l];this[f]=u[f]||fi[f]}this.context=o||this.context,this.listeners=[],this.emitting=0}var Ps=ji.prototype,Af=function(o,l,f,h,p,g,w){at(h)&&(p=h,h=null),w&&(g=null==g?w:Nn({},g,w));for(var x=ft(f)?f:f.split(/\s+/),E=0;E<x.length;E++){var M=x[E];if(!Ft(M)){var F=M.match(Eo);if(F&&!1===l(o,M,F[1],F[2]?F[2]:null,h,p,g))break}}},ql=function(o,l){return o.addEventFields(o.context,l),new wd(l.type,l)};Ps.on=Ps.addListener=function(u,o,l,f,h){return Af(this,function(p,g,w,x,E,M,F){at(M)&&p.listeners.push({event:g,callback:M,type:w,namespace:x,qualifier:E,conf:F})},u,o,l,f,h),this},Ps.one=function(u,o,l,f){return this.on(u,o,l,f,{one:!0})},Ps.removeListener=Ps.off=function(u,o,l,f){var h=this;0!==this.emitting&&(this.listeners=function(o){return o.slice()}(this.listeners));for(var p=this.listeners,g=function(E){var M=p[E];Af(h,function(F,z,W,j,q,J){if((M.type===W||"*"===u)&&(!j&&".*"!==M.namespace||M.namespace===j)&&(!q||F.qualifierCompare(M.qualifier,q))&&(!J||M.callback===J))return p.splice(E,1),!1},u,o,l,f)},w=p.length-1;w>=0;w--)g(w);return this},Ps.removeAllListeners=function(){return this.removeListener("*")},Ps.emit=Ps.trigger=function(u,o,l){var f=this.listeners,h=f.length;return this.emitting++,ft(o)||(o=[o]),function(o,l,f){if(function(o){return"event"===ze(o)}(f))l(o,f);else if(Ye(f))l(o,ql(o,f));else for(var h=ft(f)?f:f.split(/\s+/),p=0;p<h.length;p++){var g=h[p];if(!Ft(g)){var w=g.match(Eo);w&&l(o,ql(o,{type:w[1],namespace:w[2]?w[2]:null,target:o.context}))}}}(this,function(p,g){null!=l&&(h=(f=[{event:g.event,type:g.type,namespace:g.namespace,callback:l}]).length);for(var w=function(M){var F=f[M];if(F.type===g.type&&(!F.namespace||F.namespace===g.namespace||".*"===F.namespace)&&p.eventMatches(p.context,F,g)){var z=[g];null!=o&&function(o,l){for(var f=0;f<l.length;f++)o.push(l[f])}(z,o),p.beforeEmit(p.context,F,g),F.conf&&F.conf.one&&(p.listeners=p.listeners.filter(function(q){return q!==F}));var W=p.callbackContext(p.context,F,g),j=F.callback.apply(W,z);p.afterEmit(p.context,F,g),!1===j&&(g.stopPropagation(),g.preventDefault())}},x=0;x<h;x++)w(x);p.bubble(p.context)&&!g.isPropagationStopped()&&p.parent(p.context).emit(g,o)},u),this.emitting--,this};var Cc={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,f){var h=l.qualifier;return null==h||o!==f.target&&mn(f.target)&&h.matches(f.target)},addEventFields:function(o,l){l.cy=o.cy(),l.target=o},callbackContext:function(o,l,f){return null!=l.qualifier?f.target:o},beforeEmit:function(o,l){l.conf&&l.conf.once&&l.conf.onceCollection.removeListener(l.event,l.qualifier,l.callback)},bubble:function(){return!0},parent:function(o){return o.isChild()?o.parent():o.cy()}},xd=function(o){return Be(o)?new Su(o):o},Dd={createEmitter:function(){for(var o=0;o<this.length;o++){var l=this[o],f=l._private;f.emitter||(f.emitter=new ji(Cc,l))}return this},emitter:function(){return this._private.emitter},on:function(o,l,f){for(var h=xd(l),p=0;p<this.length;p++)this[p].emitter().on(o,h,f);return this},removeListener:function(o,l,f){for(var h=xd(l),p=0;p<this.length;p++)this[p].emitter().removeListener(o,h,f);return this},removeAllListeners:function(){for(var o=0;o<this.length;o++)this[o].emitter().removeAllListeners();return this},one:function(o,l,f){for(var h=xd(l),p=0;p<this.length;p++)this[p].emitter().one(o,h,f);return this},once:function(o,l,f){for(var h=xd(l),p=0;p<this.length;p++)this[p].emitter().on(o,h,f,{once:!0,onceCollection:this})},emit:function(o,l){for(var f=0;f<this.length;f++)this[f].emitter().emit(o,l);return this},emitAndNotify:function(o,l){if(0!==this.length)return this.cy().notify(o,this),this.emit(o,l),this}};ur.eventAliasesOn(Dd);var nl={nodes:function(o){return this.filter(function(l){return l.isNode()}).filter(o)},edges:function(o){return this.filter(function(l){return l.isEdge()}).filter(o)},byGroup:function(){for(var o=this.spawn(),l=this.spawn(),f=0;f<this.length;f++){var h=this[f];h.isNode()?o.push(h):l.push(h)}return{nodes:o,edges:l}},filter:function(o,l){if(void 0===o)return this;if(Be(o)||It(o))return new Su(o).filter(this);if(at(o)){for(var f=this.spawn(),h=this,p=0;p<h.length;p++){var g=h[p];(l?o.apply(l,[g,p,h]):o(g,p,h))&&f.push(g)}return f}return this.spawn()},not:function(o){if(o){Be(o)&&(o=this.filter(o));for(var l=this.spawn(),f=0;f<this.length;f++){var h=this[f];o.has(h)||l.push(h)}return l}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(o){if(Be(o))return this.filter(o);for(var f=this.spawn(),g=this.length<o.length,w=g?this:o,x=g?o:this,E=0;E<w.length;E++){var M=w[E];x.has(M)&&f.push(M)}return f},xor:function(o){var l=this._private.cy;Be(o)&&(o=l.$(o));var f=this.spawn(),p=o,g=function(x,E){for(var M=0;M<x.length;M++){var F=x[M];E.hasElementWithId(F._private.data.id)||f.push(F)}};return g(this,p),g(p,this),f},diff:function(o){var l=this._private.cy;Be(o)&&(o=l.$(o));var f=this.spawn(),h=this.spawn(),p=this.spawn(),w=o,x=function(M,F,z){for(var W=0;W<M.length;W++){var j=M[W];F.hasElementWithId(j._private.data.id)?p.merge(j):z.push(j)}};return x(this,w,f),x(w,this,h),{left:f,right:h,both:p}},add:function(o){var l=this._private.cy;if(!o)return this;if(Be(o)){var f=o;o=l.mutableElements().filter(f)}for(var h=this.spawnSelf(),p=0;p<o.length;p++){var g=o[p];!this.has(g)&&h.push(g)}return h},merge:function(o){var l=this._private,f=l.cy;if(!o)return this;if(o&&Be(o)){var h=o;o=f.mutableElements().filter(h)}for(var p=l.map,g=0;g<o.length;g++){var w=o[g],x=w._private.data.id;if(!p.has(x)){var M=this.length++;this[M]=w,p.set(x,{ele:w,index:M})}}return this},unmergeAt:function(o){var f=this[o].id(),p=this._private.map;if(this[o]=void 0,p.delete(f),this.length>1&&o!==this.length-1){var w=this.length-1,x=this[w],E=x._private.data.id;this[w]=void 0,this[o]=x,p.set(E,{ele:x,index:o})}return this.length--,this},unmergeOne:function(o){var p=this._private.map.get((o=o[0])._private.data.id);return p?(this.unmergeAt(p.index),this):this},unmerge:function(o){var l=this._private.cy;if(!o)return this;if(o&&Be(o)){var f=o;o=l.mutableElements().filter(f)}for(var h=0;h<o.length;h++)this.unmergeOne(o[h]);return this},unmergeBy:function(o){for(var l=this.length-1;l>=0;l--)o(this[l])&&this.unmergeAt(l);return this},map:function(o,l){for(var f=[],h=this,p=0;p<h.length;p++){var g=h[p],w=l?o.apply(l,[g,p,h]):o(g,p,h);f.push(w)}return f},reduce:function(o,l){for(var f=l,h=this,p=0;p<h.length;p++)f=o(f,h[p],p,h);return f},max:function(o,l){for(var h,f=-1/0,p=this,g=0;g<p.length;g++){var w=p[g],x=l?o.apply(l,[w,g,p]):o(w,g,p);x>f&&(f=x,h=w)}return{value:f,ele:h}},min:function(o,l){for(var h,f=1/0,p=this,g=0;g<p.length;g++){var w=p[g],x=l?o.apply(l,[w,g,p]):o(w,g,p);x<f&&(f=x,h=w)}return{value:f,ele:h}}},Mr=nl;Mr.u=Mr["|"]=Mr["+"]=Mr.union=Mr.or=Mr.add,Mr["\\"]=Mr["!"]=Mr["-"]=Mr.difference=Mr.relativeComplement=Mr.subtract=Mr.not,Mr.n=Mr["&"]=Mr["."]=Mr.and=Mr.intersection=Mr.intersect,Mr["^"]=Mr["(+)"]=Mr["(-)"]=Mr.symmetricDifference=Mr.symdiff=Mr.xor,Mr.fnFilter=Mr.filterFn=Mr.stdFilter=Mr.filter,Mr.complement=Mr.abscomp=Mr.absoluteComplement;var o,Ql=function(o,l){var h=o.cy().hasCompoundNodes();function p(M){var F=M.pstyle("z-compound-depth");return"auto"===F.value?h?M.zDepth():0:"bottom"===F.value?-1:"top"===F.value?tc:0}var g=p(o)-p(l);if(0!==g)return g;function w(M){return"auto"===M.pstyle("z-index-compare").value&&M.isNode()?1:0}var x=w(o)-w(l);if(0!==x)return x;var E=o.pstyle("z-index").value-l.pstyle("z-index").value;return 0!==E?E:o.poolIndex()-l.poolIndex()},Ec={forEach:function(o,l){if(at(o))for(var f=this.length,h=0;h<f;h++){var p=this[h];if(!1===(l?o.apply(l,[p,h,this]):o(p,h,this)))break}return this},toArray:function(){for(var o=[],l=0;l<this.length;l++)o.push(this[l]);return o},slice:function(o,l){var f=[],h=this.length;null==l&&(l=h),null==o&&(o=0),o<0&&(o=h+o),l<0&&(l=h+l);for(var p=o;p>=0&&p<l&&p<h;p++)f.push(this[p]);return this.spawn(f)},size:function(){return this.length},eq:function(o){return this[o]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(o){if(!at(o))return this;var l=this.toArray().sort(o);return this.spawn(l)},sortByZIndex:function(){return this.sort(Ql)},zDepth:function(){var o=this[0];if(o){var l=o._private;if("nodes"===l.group){var h=l.data.parent?o.parents().size():0;return o.isParent()?h:tc-1}var g=l.target,w=l.source.zDepth(),x=g.zDepth();return Math.max(w,x,0)}}};Ec.each=Ec.forEach,o="undefined",(typeof Symbol>"u"?"undefined":H(Symbol))!=o&&H(Symbol.iterator)!=o&&(Ec[Symbol.iterator]=function(){var f=this,h={value:void 0,done:!1},p=0,g=this.length;return ne({next:function(){return p<g?h.value=f[p++]:(h.value=void 0,h.done=!0),h}},Symbol.iterator,function(){return this})});var Lp=li({nodeDimensionsIncludeLabels:!1}),Fn={layoutDimensions:function(o){var l;if(o=Lp(o),this.takesUpSpace())if(o.nodeDimensionsIncludeLabels){var f=this.boundingBox();l={w:f.w,h:f.h}}else l={w:this.outerWidth(),h:this.outerHeight()};else l={w:0,h:0};return(0===l.w||0===l.h)&&(l.w=l.h=1),l},layoutPositions:function(o,l,f){var h=this.nodes().filter(function(Me){return!Me.isParent()}),p=this.cy(),g=l.eles,w=function(Ie){return Ie.id()},x=kr(f,w);o.emit({type:"layoutstart",layout:o}),o.animations=[];var M=l.spacingFactor&&1!==l.spacingFactor,z=function(){if(!M)return null;for(var Ie=Mi(),ye=0;ye<h.length;ye++){var we=x(h[ye],ye);oc(Ie,we.x,we.y)}return Ie}(),W=kr(function(Me,Ie){var ye=x(Me,Ie);return M&&(ye=function(Ie,ye,Se){var we_x=ye.x1+ye.w/2,we_y=ye.y1+ye.h/2;return{x:we_x+(Se.x-we_x)*Ie,y:we_y+(Se.y-we_y)*Ie}}(Math.abs(l.spacingFactor),z,ye)),null!=l.transform&&(ye=l.transform(Me,ye)),ye},w);if(l.animate){for(var j=0;j<h.length;j++){var q=h[j],J=W(q,j);if(null==l.animateFilter||l.animateFilter(q,j)){var fe=q.animation({position:J,duration:l.animationDuration,easing:l.animationEasing});o.animations.push(fe)}else q.position(J)}if(l.fit){var he=p.animation({fit:{boundingBox:g.boundingBoxAt(W),padding:l.padding},duration:l.animationDuration,easing:l.animationEasing});o.animations.push(he)}else if(void 0!==l.zoom&&void 0!==l.pan){var ve=p.animation({zoom:l.zoom,pan:l.pan,duration:l.animationDuration,easing:l.animationEasing});o.animations.push(ve)}o.animations.forEach(function(Me){return Me.play()}),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),ds.all(o.animations.map(function(Me){return Me.promise()})).then(function(){o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o})})}else h.positions(W),l.fit&&p.fit(l.eles,l.padding),null!=l.zoom&&p.zoom(l.zoom),l.pan&&p.pan(l.pan),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o});return this},layout:function(o){return this.cy().makeLayout(Nn({},o,{eles:this}))}};function Iu(u,o,l){var p,f=l._private,h=f.styleCache=f.styleCache||[];return null!=(p=h[u])||(p=h[u]=o(l)),p}function Au(u,o){return u=as(u),function(f){return Iu(u,o,f)}}function Jl(u,o){u=as(u);var l=function(h){return o.call(h)};return function(){var h=this[0];if(h)return Iu(u,l,h)}}Fn.createLayout=Fn.makeLayout=Fn.layout;var Vo={recalculateRenderedStyle:function(o){var l=this.cy(),f=l.renderer(),h=l.styleEnabled();return f&&h&&f.recalculateRenderedStyle(this,o),this},dirtyStyleCache:function(){var f,o=this.cy(),l=function(p){return p._private.styleCache=null};return o.hasCompoundNodes()?((f=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(f.connectedEdges()),f.forEach(l)):this.forEach(function(h){l(h),h.connectedEdges().forEach(l)}),this},updateStyle:function(o){var l=this._private.cy;if(!l.styleEnabled())return this;if(l.batching())return l._private.batchStyleEles.merge(this),this;var p=this;o=!(!o&&void 0!==o),l.hasCompoundNodes()&&(p=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var g=p;return o?g.emitAndNotify("style"):g.emit("style"),p.forEach(function(w){return w._private.styleDirty=!0}),this},cleanStyle:function(){var o=this.cy();if(o.styleEnabled())for(var l=0;l<this.length;l++){var f=this[l];f._private.styleDirty&&(f._private.styleDirty=!1,o.style().apply(f))}},parsedStyle:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=this[0],h=f.cy();if(h.styleEnabled()&&f)return this.cleanStyle(),f._private.style[o]??(l?h.style().getDefaultProperty(o):null)},numericStyle:function(o){var l=this[0];if(l.cy().styleEnabled()&&l){var f=l.pstyle(o);return void 0!==f.pfValue?f.pfValue:f.value}},numericStyleUnits:function(o){var l=this[0];if(l.cy().styleEnabled()&&l)return l.pstyle(o).units},renderedStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var f=this[0];return f?l.style().getRenderedStyle(f,o):void 0},style:function(o,l){var f=this.cy();if(!f.styleEnabled())return this;var p=f.style();if(Ye(o))p.applyBypass(this,o,!1),this.emitAndNotify("style");else if(Be(o)){if(void 0===l){var w=this[0];return w?p.getStylePropertyValue(w,o):void 0}p.applyBypass(this,o,l,!1),this.emitAndNotify("style")}else if(void 0===o){var x=this[0];return x?p.getRawStyle(x):void 0}return this},removeStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var h=l.style(),p=this;if(void 0===o)for(var g=0;g<p.length;g++)h.removeAllBypasses(p[g],!1);else{o=o.split(/\s+/);for(var x=0;x<p.length;x++)h.removeBypasses(p[x],o,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var o=this.cy();if(!o.styleEnabled())return 1;var l=o.hasCompoundNodes(),f=this[0];if(f){var h=f._private,p=f.pstyle("opacity").value;if(!l)return p;var g=h.data.parent?f.parents():null;if(g)for(var w=0;w<g.length;w++)p*=g[w].pstyle("opacity").value;return p}},transparent:function(){if(!this.cy().styleEnabled())return!1;var l=this[0],f=l.cy().hasCompoundNodes();return l?f?0===l.effectiveOpacity():0===l.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Ah(u,o){var f=u._private.data.parent?u.parents():null;if(f)for(var h=0;h<f.length;h++)if(!o(f[h]))return!1;return!0}function Td(u){var o=u.ok,l=u.edgeOkViaNode||u.ok,f=u.parentOk||u.ok;return function(){var h=this.cy();if(!h.styleEnabled())return!0;var p=this[0],g=h.hasCompoundNodes();if(p){var w=p._private;if(!o(p))return!1;if(p.isNode())return!g||Ah(p,f);var x=w.source,E=w.target;return l(x)&&(!g||Ah(x,l))&&(x===E||l(E)&&(!g||Ah(E,l)))}}}var Ho=Au("eleTakesUpSpace",function(u){return"element"===u.pstyle("display").value&&0!==u.width()&&(!u.isNode()||0!==u.height())});Vo.takesUpSpace=Jl("takesUpSpace",Td({ok:Ho}));var xc=Au("eleInteractive",function(u){return"yes"===u.pstyle("events").value&&"visible"===u.pstyle("visibility").value&&Ho(u)}),Sd=Au("parentInteractive",function(u){return"visible"===u.pstyle("visibility").value&&Ho(u)});Vo.interactive=Jl("interactive",Td({ok:xc,parentOk:Sd,edgeOkViaNode:Ho})),Vo.noninteractive=function(){var u=this[0];if(u)return!u.interactive()};var gm=Au("eleVisible",function(u){return"visible"===u.pstyle("visibility").value&&0!==u.pstyle("opacity").pfValue&&Ho(u)});Vo.visible=Jl("visible",Td({ok:gm,edgeOkViaNode:Ho})),Vo.hidden=function(){var u=this[0];if(u)return!u.visible()},Vo.isBundledBezier=Jl("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Vo.bypass=Vo.css=Vo.style,Vo.renderedCss=Vo.renderedStyle,Vo.removeBypass=Vo.removeCss=Vo.removeStyle,Vo.pstyle=Vo.parsedStyle;var eu={};function Rt(u){return function(){var o=arguments,l=[];if(2===o.length)this.on(u.event,o[0],o[1]);else if(1===o.length&&at(o[0]))this.on(u.event,o[0]);else if(0===o.length||1===o.length&&ft(o[0])){for(var g=1===o.length?o[0]:null,w=0;w<this.length;w++){var x=this[w],E=!u.ableField||x._private[u.ableField],M=x._private[u.field]!=u.value;if(u.overrideAble){var F=u.overrideAble(x);if(void 0!==F&&(E=F,!F))return this}E&&(x._private[u.field]=u.value,M&&l.push(x))}var z=this.spawn(l);z.updateStyle(),z.emit(u.event),g&&z.emit(g)}return this}}function br(u){eu[u.field]=function(){var o=this[0];if(o){if(u.overrideField){var l=u.overrideField(o);if(void 0!==l)return l}return o._private[u.field]}},eu[u.on]=Rt({event:u.on,field:u.field,ableField:u.ableField,overrideAble:u.overrideAble,value:!0}),eu[u.off]=Rt({event:u.off,field:u.field,ableField:u.ableField,overrideAble:u.overrideAble,value:!1})}br({field:"locked",overrideField:function(o){return!!o.cy().autolock()||void 0},on:"lock",off:"unlock"}),br({field:"grabbable",overrideField:function(o){return!o.cy().autoungrabify()&&!o.pannable()&&void 0},on:"grabify",off:"ungrabify"}),br({field:"selected",ableField:"selectable",overrideAble:function(o){return!o.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),br({field:"selectable",overrideField:function(o){return!o.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),eu.deselect=eu.unselect,eu.grabbed=function(){var u=this[0];if(u)return u._private.grabbed},br({field:"active",on:"activate",off:"unactivate"}),br({field:"pannable",on:"panify",off:"unpanify"}),eu.inactive=function(){var u=this[0];if(u)return!u._private.active};var Hn={},bi=function(o){return function(f){for(var p=[],g=0;g<this.length;g++){var w=this[g];if(w.isNode()){for(var x=!1,E=w.connectedEdges(),M=0;M<E.length;M++){var F=E[M],z=F.source(),W=F.target();if(o.noIncomingEdges&&W===w&&z!==w||o.noOutgoingEdges&&z===w&&W!==w){x=!0;break}}x||p.push(w)}}return this.spawn(p,!0).filter(f)}},zo=function(o){return function(l){for(var h=[],p=0;p<this.length;p++){var g=this[p];if(g.isNode())for(var w=g.connectedEdges(),x=0;x<w.length;x++){var E=w[x],M=E.source(),F=E.target();o.outgoing&&M===g?(h.push(E),h.push(F)):o.incoming&&F===g&&(h.push(E),h.push(M))}}return this.spawn(h,!0).filter(l)}},Oh=function(o){return function(l){for(var f=this,h=[],p={};;){var g=o.outgoing?f.outgoers():f.incomers();if(0===g.length)break;for(var w=!1,x=0;x<g.length;x++){var E=g[x],M=E.id();p[M]||(p[M]=!0,h.push(E),w=!0)}if(!w)break;f=g}return this.spawn(h,!0).filter(l)}};function Dc(u){return function(l){for(var f=[],h=0;h<this.length;h++){var g=this[h]._private[u.attr];g&&f.push(g)}return this.spawn(f,!0).filter(l)}}function gs(u){return function(l){var f=[],h=this._private.cy,p=u||{};Be(l)&&(l=h.$(l));for(var g=0;g<l.length;g++)for(var w=l[g]._private.edges,x=0;x<w.length;x++){var E=w[x],M=E._private.data,F=this.hasElementWithId(M.source)&&l.hasElementWithId(M.target),z=l.hasElementWithId(M.source)&&this.hasElementWithId(M.target);(F||z)&&((p.thisIsSrc||p.thisIsTgt)&&(p.thisIsSrc&&!F||p.thisIsTgt&&!z)||f.push(E))}return this.spawn(f,!0)}}function Md(u){return u=Nn({},{codirected:!1},u),function(f){for(var h=[],p=this.edges(),g=u,w=0;w<p.length;w++)for(var E=p[w]._private,M=E.source,F=M._private.data.id,z=E.data.target,W=M._private.edges,j=0;j<W.length;j++){var q=W[j],J=q._private.data,re=J.target,fe=J.source,he=re===z&&fe===F;(g.codirected&&he||!g.codirected&&(he||F===re&&z===fe))&&h.push(q)}return this.spawn(h,!0).filter(f)}}Hn.clearTraversalCache=function(){for(var u=0;u<this.length;u++)this[u]._private.traversalCache=null},Nn(Hn,{roots:bi({noIncomingEdges:!0}),leaves:bi({noOutgoingEdges:!0}),outgoers:Ja(zo({outgoing:!0}),"outgoers"),successors:Oh({outgoing:!0}),incomers:Ja(zo({incoming:!0}),"incomers"),predecessors:Oh({incoming:!0})}),Nn(Hn,{neighborhood:Ja(function(u){for(var o=[],l=this.nodes(),f=0;f<l.length;f++)for(var h=l[f],p=h.connectedEdges(),g=0;g<p.length;g++){var w=p[g],x=w.source(),E=w.target(),M=h===x?E:x;M.length>0&&o.push(M[0]),o.push(w[0])}return this.spawn(o,!0).filter(u)},"neighborhood"),closedNeighborhood:function(o){return this.neighborhood().add(this).filter(o)},openNeighborhood:function(o){return this.neighborhood(o)}}),Hn.neighbourhood=Hn.neighborhood,Hn.closedNeighbourhood=Hn.closedNeighborhood,Hn.openNeighbourhood=Hn.openNeighborhood,Nn(Hn,{source:Ja(function(o){var f,l=this[0];return l&&(f=l._private.source||l.cy().collection()),f&&o?f.filter(o):f},"source"),target:Ja(function(o){var f,l=this[0];return l&&(f=l._private.target||l.cy().collection()),f&&o?f.filter(o):f},"target"),sources:Dc({attr:"source"}),targets:Dc({attr:"target"})}),Nn(Hn,{edgesWith:Ja(gs(),"edgesWith"),edgesTo:Ja(gs({thisIsSrc:!0}),"edgesTo")}),Nn(Hn,{connectedEdges:Ja(function(u){for(var o=[],f=0;f<this.length;f++){var h=this[f];if(h.isNode())for(var p=h._private.edges,g=0;g<p.length;g++)o.push(p[g])}return this.spawn(o,!0).filter(u)},"connectedEdges"),connectedNodes:Ja(function(u){for(var o=[],f=0;f<this.length;f++){var h=this[f];h.isEdge()&&(o.push(h.source()[0]),o.push(h.target()[0]))}return this.spawn(o,!0).filter(u)},"connectedNodes"),parallelEdges:Ja(Md(),"parallelEdges"),codirectedEdges:Ja(Md({codirected:!0}),"codirectedEdges")}),Nn(Hn,{components:function(o){var l=this,f=l.cy(),h=f.collection(),p=null==o?l.nodes():o.nodes(),g=[];null!=o&&p.empty()&&(p=o.sources());var w=function(M,F){h.merge(M),p.unmerge(M),F.merge(M)};if(p.empty())return l.spawn();var x=function(){var M=f.collection();g.push(M);var F=p[0];w(F,M),l.bfs({directed:!1,roots:F,visit:function(W){return w(W,M)}}),M.forEach(function(z){z.connectedEdges().forEach(function(W){l.has(W)&&M.has(W.source())&&M.has(W.target())&&M.merge(W)})})};do{x()}while(p.length>0);return g},component:function(){var o=this[0];return o.cy().mutableElements().components(o)[0]}}),Hn.componentsOf=Hn.components;var fo=function(o,l){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==o){var p=new St,g=!1;if(l){if(l.length>0&&Ye(l[0])&&!mn(l[0])){g=!0;for(var w=[],x=new Is,E=0,M=l.length;E<M;E++){var F=l[E];null==F.data&&(F.data={});var z=F.data;if(null==z.id)z.id=df();else if(o.hasElementWithId(z.id)||x.has(z.id))continue;var W=new Oe(o,F,!1);w.push(W),x.add(z.id)}l=w}}else l=[];this.length=0;for(var j=0,q=l.length;j<q;j++){var J=l[j][0];if(null!=J){var re=J._private.data.id;(!f||!p.has(re))&&(f&&p.set(re,{index:this.length,ele:J}),this[this.length]=J,this.length++)}}this._private={eles:this,cy:o,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(fe){this.lazyMap=fe},rebuildMap:function(){for(var he=this.lazyMap=new St,ve=this.eles,Me=0;Me<ve.length;Me++){var Ie=ve[Me];he.set(Ie.id(),{index:Me,ele:Ie})}}},f&&(this._private.map=p),g&&!h&&this.restore()}else ni("A collection must have a reference to the core")},wi=Oe.prototype=fo.prototype=Object.create(Array.prototype);wi.instanceString=function(){return"collection"},wi.spawn=function(u,o){return new fo(this.cy(),u,o)},wi.spawnSelf=function(){return this.spawn(this)},wi.cy=function(){return this._private.cy},wi.renderer=function(){return this._private.cy.renderer()},wi.element=function(){return this[0]},wi.collection=function(){return cn(this)?this:new fo(this._private.cy,[this])},wi.unique=function(){return new fo(this._private.cy,this,!0)},wi.hasElementWithId=function(u){return this._private.map.has(u=""+u)},wi.getElementById=function(u){var o=this._private.cy,l=this._private.map.get(u=""+u);return l?l.ele:new fo(o)},wi.$id=wi.getElementById,wi.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},wi.indexOf=function(u){return this._private.map.get(u[0]._private.data.id).index},wi.indexOfId=function(u){return this._private.map.get(u=""+u).index},wi.json=function(u){var o=this.element(),l=this.cy();if(null==o&&u)return this;if(null!=o){var f=o._private;if(Ye(u)){if(l.startBatch(),u.data){o.data(u.data);var h=f.data;if(o.isEdge()){var p=!1,g={},w=u.data.source,x=u.data.target;null!=w&&w!=h.source&&(g.source=""+w,p=!0),null!=x&&x!=h.target&&(g.target=""+x,p=!0),p&&(o=o.move(g))}else{var M=u.data.parent;"parent"in u.data&&(null!=M||null!=h.parent)&&M!=h.parent&&(void 0===M&&(M=null),null!=M&&(M=""+M),o=o.move({parent:M}))}}u.position&&o.position(u.position);var F=function(q,J,re){var fe=u[q];null!=fe&&fe!==f[q]&&(fe?o[J]():o[re]())};return F("removed","remove","restore"),F("selected","select","unselect"),F("selectable","selectify","unselectify"),F("locked","lock","unlock"),F("grabbable","grabify","ungrabify"),F("pannable","panify","unpanify"),null!=u.classes&&o.classes(u.classes),l.endBatch(),this}if(void 0===u){var z={data:ki(f.data),position:ki(f.position),group:f.group,removed:f.removed,selected:f.selected,selectable:f.selectable,locked:f.locked,grabbable:f.grabbable,pannable:f.pannable,classes:""},W=0;return f.classes.forEach(function(j){return z.classes+=0==W++?j:" "+j}),z}}},wi.jsons=function(){for(var u=[],o=0;o<this.length;o++){var f=this[o].json();u.push(f)}return u},wi.clone=function(){for(var u=this.cy(),o=[],l=0;l<this.length;l++){var h=this[l].json(),p=new Oe(u,h,!1);o.push(p)}return new fo(u,o)},wi.copy=wi.clone,wi.restore=function(){for(var w,u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,f=l.cy(),h=f._private,p=[],g=[],x=0,E=l.length;x<E;x++){var M=l[x];o&&!M.removed()||(M.isNode()?p.push(M):g.push(M))}w=p.concat(g);var F,z=function(){w.splice(F,1),F--};for(F=0;F<w.length;F++){var W=w[F],j=W._private,q=j.data;if(W.clearTraversalCache(),o||j.removed)if(void 0===q.id)q.id=df();else if(Xe(q.id))q.id=""+q.id;else{if(Ft(q.id)||!Be(q.id)){ni("Can not create element with invalid string ID `"+q.id+"`"),z();continue}if(f.hasElementWithId(q.id)){ni("Can not create second element with ID `"+q.id+"`"),z();continue}}var J=q.id;if(W.isNode()){var re=j.position;null==re.x&&(re.x=0),null==re.y&&(re.y=0)}if(W.isEdge()){for(var fe=W,he=["source","target"],ve=he.length,Me=!1,Ie=0;Ie<ve;Ie++){var ye=he[Ie],Se=q[ye];Xe(Se)&&(Se=q[ye]=""+q[ye]),null==Se||""===Se?(ni("Can not create edge `"+J+"` with unspecified "+ye),Me=!0):f.hasElementWithId(Se)||(ni("Can not create edge `"+J+"` with nonexistant "+ye+" `"+Se+"`"),Me=!0)}if(Me){z();continue}var we=f.getElementById(q.source),ke=f.getElementById(q.target);we.same(ke)?we._private.edges.push(fe):(we._private.edges.push(fe),ke._private.edges.push(fe)),fe._private.source=we,fe._private.target=ke}j.map=new St,j.map.set(J,{ele:W,index:0}),j.removed=!1,o&&f.addToPool(W)}for(var Pe=0;Pe<p.length;Pe++){var Ee=p[Pe],He=Ee._private.data;Xe(He.parent)&&(He.parent=""+He.parent);var Ne=He.parent;if(null!=Ne||Ee._private.parent){var Ue=Ee._private.parent?f.collection().merge(Ee._private.parent):f.getElementById(Ne);if(Ue.empty())He.parent=void 0;else if(Ue[0].removed())Sr("Node added with missing parent, reference to parent removed"),He.parent=void 0,Ee._private.parent=null;else{for(var Ge=!1,ot=Ue;!ot.empty();){if(Ee.same(ot)){Ge=!0,He.parent=void 0;break}ot=ot.parent()}Ge||(Ue[0]._private.children.push(Ee),Ee._private.parent=Ue[0],h.hasCompoundNodes=!0)}}}if(w.length>0){for(var ct=w.length===l.length?l:new fo(f,w),vt=0;vt<ct.length;vt++){var st=ct[vt];st.isNode()||(st.parallelEdges().clearTraversalCache(),st.source().clearTraversalCache(),st.target().clearTraversalCache())}(h.hasCompoundNodes?f.collection().merge(ct).merge(ct.connectedNodes()).merge(ct.parent()):ct).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(u),u?ct.emitAndNotify("add"):o&&ct.emit("add")}return l},wi.removed=function(){var u=this[0];return u&&u._private.removed},wi.inside=function(){var u=this[0];return u&&!u._private.removed},wi.remove=function(){var u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,f=[],h={},p=l._private.cy;function x(Ne){var Ke=h[Ne.id()];o&&Ne.removed()||Ke||(h[Ne.id()]=!0,Ne.isNode()?(f.push(Ne),function g(Ne){for(var Ke=Ne._private.edges,Ue=0;Ue<Ke.length;Ue++)x(Ke[Ue])}(Ne),function w(Ne){for(var Ke=Ne._private.children,Ue=0;Ue<Ke.length;Ue++)x(Ke[Ue])}(Ne)):f.unshift(Ne))}for(var E=0,M=l.length;E<M;E++)x(l[E]);function z(Ne,Ke){$a(Ne._private.edges,Ke),Ne.clearTraversalCache()}var j=[];function q(Ne,Ke){Ke=Ke[0];var Ue=(Ne=Ne[0])._private.children,Ge=Ne.id();$a(Ue,Ke),Ke._private.parent=null,j.ids[Ge]||(j.ids[Ge]=!0,j.push(Ne))}j.ids={},l.dirtyCompoundBoundsCache(),o&&p.removeFromPool(f);for(var J=0;J<f.length;J++){var re=f[J];if(re.isEdge()){var fe=re.source()[0],he=re.target()[0];z(fe,re),z(he,re);for(var ve=re.parallelEdges(),Me=0;Me<ve.length;Me++){var Ie=ve[Me];Ie.clearTraversalCache(),Ie.isBundledBezier()&&Ie.dirtyBoundingBoxCache()}}else{var ye=re.parent();0!==ye.length&&q(ye,re)}o&&(re._private.removed=!0)}var Se=p._private.elements;p._private.hasCompoundNodes=!1;for(var we=0;we<Se.length;we++)if(Se[we].isParent()){p._private.hasCompoundNodes=!0;break}var Pe=new fo(this.cy(),f);Pe.size()>0&&(u?Pe.emitAndNotify("remove"):o&&Pe.emit("remove"));for(var Ee=0;Ee<j.length;Ee++){var He=j[Ee];(!o||!He.removed())&&He.updateStyle()}return Pe},wi.move=function(u){var o=this._private.cy,l=this,f=!1,h=!1,p=function(j){return null==j?j:""+j};if(void 0!==u.source||void 0!==u.target){var g=p(u.source),w=p(u.target),x=null!=g&&o.hasElementWithId(g),E=null!=w&&o.hasElementWithId(w);(x||E)&&(o.batch(function(){l.remove(f,h),l.emitAndNotify("moveout");for(var W=0;W<l.length;W++){var j=l[W],q=j._private.data;j.isEdge()&&(x&&(q.source=g),E&&(q.target=w))}l.restore(f,h)}),l.emitAndNotify("move"))}else if(void 0!==u.parent){var M=p(u.parent);if(null===M||o.hasElementWithId(M)){var z=null===M?void 0:M;o.batch(function(){var W=l.remove(f,h);W.emitAndNotify("moveout");for(var j=0;j<l.length;j++){var q=l[j],J=q._private.data;q.isNode()&&(J.parent=z)}W.restore(f,h)}),l.emitAndNotify("move")}}return this},[_o,fd,qa,Kl,pd,Sf,Eh,Sh,Dd,nl,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var o=this[0];if(o)return o._private.group}},Ec,Fn,Vo,eu,Hn].forEach(function(u){Nn(wi,u)});var gy={add:function(o){var l,f=this;if(It(o)){var h=o;if(h._private.cy===f)l=h.restore();else{for(var p=[],g=0;g<h.length;g++)p.push(h[g].json());l=new fo(f,p)}}else if(ft(o))l=new fo(f,o);else if(Ye(o)&&(ft(o.nodes)||ft(o.edges))){for(var E=o,M=[],F=["nodes","edges"],z=0,W=F.length;z<W;z++){var j=F[z],q=E[j];if(ft(q))for(var J=0,re=q.length;J<re;J++){var fe=Nn({group:j},q[J]);M.push(fe)}}l=new fo(f,M)}else l=new Oe(f,o).collection();return l},remove:function(o){return It(o)||Be(o)&&(o=this.$(o)),o.remove()}};function Bp(u,o,l,f){var E=.1,M=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var F=0;F<4;++F)if("number"!=typeof arguments[F]||isNaN(arguments[F])||!isFinite(arguments[F]))return!1;u=Math.min(u,1),l=Math.min(l,1),u=Math.max(u,0),l=Math.max(l,0);var z=M?new Float32Array(11):new Array(11);function W(ke,Pe){return 1-3*Pe+3*ke}function j(ke,Pe){return 3*Pe-6*ke}function q(ke){return 3*ke}function J(ke,Pe,Ee){return((W(Pe,Ee)*ke+j(Pe,Ee))*ke+q(Pe))*ke}function re(ke,Pe,Ee){return 3*W(Pe,Ee)*ke*ke+2*j(Pe,Ee)*ke+q(Pe)}var Ie=!1;var Se=function(Pe){return Ie||function ye(){Ie=!0,(u!==o||l!==f)&&function he(){for(var ke=0;ke<11;++ke)z[ke]=J(ke*E,u,l)}()}(),u===o&&l===f?Pe:0===Pe?0:1===Pe?1:J(function Me(ke){for(var Pe=0,Ee=1;10!==Ee&&z[Ee]<=ke;++Ee)Pe+=E;--Ee;var Ke=Pe+(ke-z[Ee])/(z[Ee+1]-z[Ee])*E,Ue=re(Ke,u,l);return Ue>=.001?function fe(ke,Pe){for(var Ee=0;Ee<4;++Ee){var He=re(Pe,u,l);if(0===He)return Pe;Pe-=(J(Pe,u,l)-ke)/He}return Pe}(ke,Ke):0===Ue?Ke:function ve(ke,Pe,Ee){var He,Ne,Ke=0;do{(He=J(Ne=Pe+(Ee-Pe)/2,u,l)-ke)>0?Ee=Ne:Pe=Ne}while(Math.abs(He)>1e-7&&++Ke<10);return Ne}(ke,Pe,Pe+E)}(Pe),o,f)};Se.getControlPoints=function(){return[{x:u,y:o},{x:l,y:f}]};var we="generateBezier("+[u,o,l,f]+")";return Se.toString=function(){return we},Se}var Wi=function(){function u(f){return-f.tension*f.x-f.friction*f.v}function o(f,h,p){var g={x:f.x+p.dx*h,v:f.v+p.dv*h,tension:f.tension,friction:f.friction};return{dx:g.v,dv:u(g)}}function l(f,h){var p={dx:f.v,dv:u(f)},g=o(f,.5*h,p),w=o(f,.5*h,g),x=o(f,h,w),M=1/6*(p.dv+2*(g.dv+w.dv)+x.dv);return f.x=f.x+1/6*(p.dx+2*(g.dx+w.dx)+x.dx)*h,f.v=f.v+M*h,f}return function f(h,p,g){var z,W,j,w={x:-1,v:0,tension:null,friction:null},x=[0],E=0,M=1e-4;for(h=parseFloat(h)||500,p=parseFloat(p)||20,g=g||null,w.tension=h,w.friction=p,W=(z=null!==g)?(E=f(h,p))/g*.016:.016;j=l(j||w,W),x.push(1+j.x),E+=16,Math.abs(j.x)>M&&Math.abs(j.v)>M;);return z?function(q){return x[q*(x.length-1)|0]}:E}}(),xr=function(o,l,f,h){var p=Bp(o,l,f,h);return function(g,w,x){return g+(w-g)*p(x)}},tu={linear:function(o,l,f){return o+(l-o)*f},ease:xr(.25,.1,.25,1),"ease-in":xr(.42,0,1,1),"ease-out":xr(0,0,.58,1),"ease-in-out":xr(.42,0,.58,1),"ease-in-sine":xr(.47,0,.745,.715),"ease-out-sine":xr(.39,.575,.565,1),"ease-in-out-sine":xr(.445,.05,.55,.95),"ease-in-quad":xr(.55,.085,.68,.53),"ease-out-quad":xr(.25,.46,.45,.94),"ease-in-out-quad":xr(.455,.03,.515,.955),"ease-in-cubic":xr(.55,.055,.675,.19),"ease-out-cubic":xr(.215,.61,.355,1),"ease-in-out-cubic":xr(.645,.045,.355,1),"ease-in-quart":xr(.895,.03,.685,.22),"ease-out-quart":xr(.165,.84,.44,1),"ease-in-out-quart":xr(.77,0,.175,1),"ease-in-quint":xr(.755,.05,.855,.06),"ease-out-quint":xr(.23,1,.32,1),"ease-in-out-quint":xr(.86,0,.07,1),"ease-in-expo":xr(.95,.05,.795,.035),"ease-out-expo":xr(.19,1,.22,1),"ease-in-out-expo":xr(1,0,0,1),"ease-in-circ":xr(.6,.04,.98,.335),"ease-out-circ":xr(.075,.82,.165,1),"ease-in-out-circ":xr(.785,.135,.15,.86),spring:function(o,l,f){if(0===f)return tu.linear;var h=Wi(o,l,f);return function(p,g,w){return p+(g-p)*h(w)}},"cubic-bezier":xr};function Ls(u,o,l,f,h){if(1===f||o===l)return l;var p=h(o,l,f);return null==u||((u.roundValue||u.color)&&(p=Math.round(p)),void 0!==u.min&&(p=Math.max(p,u.min)),void 0!==u.max&&(p=Math.min(p,u.max))),p}function Uo(u,o){return null!=u.pfValue||null!=u.value?null==u.pfValue||null!=o&&"%"===o.type.units?u.value:u.pfValue:u}function Tc(u,o,l,f,h){var p=null!=h?h.type:null;l<0?l=0:l>1&&(l=1);var g=Uo(u,h),w=Uo(o,h);if(Xe(g)&&Xe(w))return Ls(p,g,w,l,f);if(ft(g)&&ft(w)){for(var x=[],E=0;E<w.length;E++){var M=g[E],F=w[E];if(null!=M&&null!=F){var z=Ls(p,M,F,l,f);x.push(z)}else x.push(F)}return x}}function Vp(u,o,l,f){var h=!f,p=u._private,g=o._private,w=g.easing,x=g.startTime,M=(f?u:u.cy()).style();if(!g.easingImpl)if(null==w)g.easingImpl=tu.linear;else{var F,W,j;F=Be(w)?M.parse("transition-timing-function",w).value:w,Be(F)?(W=F,j=[]):(W=F[1],j=F.slice(2).map(function(ct){return+ct})),j.length>0?("spring"===W&&j.push(g.duration),g.easingImpl=tu[W].apply(null,j)):g.easingImpl=tu[W]}var J,q=g.easingImpl;if(J=0===g.duration?1:(l-x)/g.duration,g.applying&&(J=g.progress),J<0?J=0:J>1&&(J=1),null==g.delay){var re=g.startPosition,fe=g.position;if(fe&&h&&!u.locked()){var he={};rl(re.x,fe.x)&&(he.x=Tc(re.x,fe.x,J,q)),rl(re.y,fe.y)&&(he.y=Tc(re.y,fe.y,J,q)),u.position(he)}var ve=g.startPan,Me=g.pan,Ie=p.pan,ye=null!=Me&&f;ye&&(rl(ve.x,Me.x)&&(Ie.x=Tc(ve.x,Me.x,J,q)),rl(ve.y,Me.y)&&(Ie.y=Tc(ve.y,Me.y,J,q)),u.emit("pan"));var Se=g.startZoom,we=g.zoom,ke=null!=we&&f;ke&&(rl(Se,we)&&(p.zoom=Qs(p.minZoom,Tc(Se,we,J,q),p.maxZoom)),u.emit("zoom")),(ye||ke)&&u.emit("viewport");var Pe=g.style;if(Pe&&Pe.length>0&&h){for(var Ee=0;Ee<Pe.length;Ee++){var He=Pe[Ee],Ne=He.name,Ue=g.startStyle[Ne],ot=Tc(Ue,He,J,q,M.properties[Ue.name]);M.overrideBypass(u,Ne,ot)}u.emit("style")}}return g.progress=J,J}function rl(u,o){return!!(null!=u&&null!=o&&(Xe(u)&&Xe(o)||u&&o))}function Hp(u,o,l,f){var h=o._private;h.started=!0,h.startTime=l-h.progress*h.duration}function Id(u,o){var l=o._private.aniEles,f=[];function h(M,F){var z=M._private,W=z.animation.current,j=z.animation.queue,q=!1;if(0===W.length){var J=j.shift();J&&W.push(J)}for(var re=function(Ie){for(var ye=Ie.length-1;ye>=0;ye--)(0,Ie[ye])();Ie.splice(0,Ie.length)},fe=W.length-1;fe>=0;fe--){var he=W[fe],ve=he._private;ve.stopped?(W.splice(fe,1),ve.hooked=!1,ve.playing=!1,ve.started=!1,re(ve.frames)):!ve.playing&&!ve.applying||(ve.playing&&ve.applying&&(ve.applying=!1),ve.started||Hp(0,he,u),Vp(M,he,u,F),ve.applying&&(ve.applying=!1),re(ve.frames),null!=ve.step&&ve.step(u),he.completed()&&(W.splice(fe,1),ve.hooked=!1,ve.playing=!1,ve.started=!1,re(ve.completes)),q=!0)}return!F&&0===W.length&&0===j.length&&f.push(M),q}for(var p=!1,g=0;g<l.length;g++){var x=h(l[g]);p=p||x}var E=h(o,!0);(p||E)&&(l.length>0?o.notify("draw",l):o.notify("draw")),l.unmerge(f),o.emit("step")}var Of={animate:ur.animate(),animation:ur.animation(),animated:ur.animated(),clearQueue:ur.clearQueue(),delay:ur.delay(),delayAnimation:ur.delayAnimation(),stop:ur.stop(),addToAnimationPool:function(o){this.styleEnabled()&&this._private.aniEles.merge(o)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var o=this;if(o._private.animationsRunning=!0,o.styleEnabled()){var f=o.renderer();f&&f.beforeRender?f.beforeRender(function(p,g){Id(g,o)},f.beforeRenderPriorities.animations):function l(){o._private.animationsRunning&&mu(function(p){Id(p,o),l()})}()}}},Ad={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,f){var h=l.qualifier;return null==h||o!==f.target&&mn(f.target)&&h.matches(f.target)},addEventFields:function(o,l){l.cy=o,l.target=o},callbackContext:function(o,l,f){return null!=l.qualifier?f.target:o}},Fs=function(o){return Be(o)?new Su(o):o},Nf={createEmitter:function(){var o=this._private;return o.emitter||(o.emitter=new ji(Ad,this)),this},emitter:function(){return this._private.emitter},on:function(o,l,f){return this.emitter().on(o,Fs(l),f),this},removeListener:function(o,l,f){return this.emitter().removeListener(o,Fs(l),f),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(o,l,f){return this.emitter().one(o,Fs(l),f),this},once:function(o,l,f){return this.emitter().one(o,Fs(l),f),this},emit:function(o,l){return this.emitter().emit(o,l),this},emitAndNotify:function(o,l){return this.emit(o),this.notify(o,l),this}};ur.eventAliasesOn(Nf);var Sc={png:function(o){return this._private.renderer.png(o=o||{})},jpg:function(o){var l=this._private.renderer;return(o=o||{}).bg=o.bg||"#fff",l.jpg(o)}};Sc.jpeg=Sc.jpg;var nu={layout:function(o){var l=this;if(null!=o)if(null!=o.name){var p,f=o.name,h=l.extension("layout",f);if(null!=h)return p=Be(o.eles)?l.$(o.eles):null!=o.eles?o.eles:l.$(),new h(Nn({},o,{cy:l,eles:p}));ni("No such layout `"+f+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else ni("A `name` must be specified to make a layout");else ni("Layout options must be specified to make a layout")}};nu.createLayout=nu.makeLayout=nu.layout;var zp={notify:function(o,l){var f=this._private;if(this.batching()){f.batchNotifications=f.batchNotifications||{};var h=f.batchNotifications[o]=f.batchNotifications[o]||this.collection();null!=l&&h.merge(l)}else if(f.notificationsEnabled){var p=this.renderer();this.destroyed()||!p||p.notify(o,l)}},notifications:function(o){var l=this._private;return void 0===o?l.notificationsEnabled:(l.notificationsEnabled=!!o,this)},noNotifications:function(o){this.notifications(!1),o(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var o=this._private;return null==o.batchCount&&(o.batchCount=0),0===o.batchCount&&(o.batchStyleEles=this.collection(),o.batchNotifications={}),o.batchCount++,this},endBatch:function(){var o=this._private;if(0===o.batchCount)return this;if(o.batchCount--,0===o.batchCount){o.batchStyleEles.updateStyle();var l=this.renderer();Object.keys(o.batchNotifications).forEach(function(f){var h=o.batchNotifications[f];h.empty()?l.notify(f):l.notify(f,h)})}return this},batch:function(o){return this.startBatch(),o(),this.endBatch(),this},batchData:function(o){var l=this;return this.batch(function(){for(var f=Object.keys(o),h=0;h<f.length;h++){var p=f[h],g=o[p];l.getElementById(p).data(g)}})}},Mc=li({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Od={renderTo:function(o,l,f,h){return this._private.renderer.renderTo(o,l,f,h),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(o){var l=this,f=l.extension("renderer",o.name);if(null!=f){void 0!==o.wheelSensitivity&&Sr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var h=Mc(o);h.cy=l,l._private.renderer=new f(h),this.notify("init")}else ni("Can not initialise: No such renderer `".concat(o.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var o=this;o.notify("destroy");var l=o.container();if(l)for(l._cyreg=null;l.childNodes.length>0;)l.removeChild(l.childNodes[0]);o._private.renderer=null,o.mutableElements().forEach(function(f){var h=f._private;h.rscratch={},h.rstyle={},h.animation.current=[],h.animation.queue=[]})},onRender:function(o){return this.on("render",o)},offRender:function(o){return this.off("render",o)}};Od.invalidateDimensions=Od.resize;var Nd={collection:function(o,l){return Be(o)?this.$(o):It(o)?o.collection():ft(o)?(l||(l={}),new fo(this,o,l.unique,l.removed)):new fo(this)},nodes:function(o){var l=this.$(function(f){return f.isNode()});return o?l.filter(o):l},edges:function(o){var l=this.$(function(f){return f.isEdge()});return o?l.filter(o):l},$:function(o){var l=this._private.elements;return o?l.filter(o):l.spawnSelf()},mutableElements:function(){return this._private.elements}};Nd.elements=Nd.filter=Nd.$;var xo={apply:function(u){for(var o=this,h=o._private.cy.collection(),p=0;p<u.length;p++){var g=u[p],w=o.getContextMeta(g);if(!w.empty){var x=o.getContextStyle(w),E=o.applyContextStyle(w,x,g);g._private.appliedInitStyle?o.updateTransitions(g,E.diffProps):g._private.appliedInitStyle=!0,o.updateStyleHints(g)&&h.push(g)}}return h},getPropertiesDiff:function(u,o){var l=this,f=l._private.propDiffs=l._private.propDiffs||{},h=u+"-"+o,p=f[h];if(p)return p;for(var g=[],w={},x=0;x<l.length;x++){var E=l[x],F="t"===o[x],z="t"===u[x]!==F,W=E.mappedProperties.length>0;if(z||F&&W){var j=void 0;z&&W||z?j=E.properties:W&&(j=E.mappedProperties);for(var q=0;q<j.length;q++){for(var J=j[q],re=J.name,fe=!1,he=x+1;he<l.length&&("t"!==o[he]||!(fe=null!=l[he].properties[J.name]));he++);!w[re]&&!fe&&(w[re]=!0,g.push(re))}}}return f[h]=g,g},getContextMeta:function(u){for(var f,o=this,l="",h=u._private.styleCxtKey||"",p=0;p<o.length;p++){var g=o[p];l+=g.selector&&g.selector.matches(u)?"t":"f"}return f=o.getPropertiesDiff(h,l),u._private.styleCxtKey=l,{key:l,diffPropNames:f,empty:0===f.length}},getContextStyle:function(u){var o=u.key,f=this._private.contextStyles=this._private.contextStyles||{};if(f[o])return f[o];for(var h={_private:{key:o}},p=0;p<this.length;p++){var g=this[p];if("t"===o[p])for(var x=0;x<g.properties.length;x++){var E=g.properties[x];h[E.name]=E}}return f[o]=h,h},applyContextStyle:function(u,o,l){for(var h=u.diffPropNames,p={},g=this.types,w=0;w<h.length;w++){var x=h[w],E=o[x],M=l.pstyle(x);if(!E){if(!M)continue;E=M.bypass?{name:x,deleteBypassed:!0}:{name:x,delete:!0}}if(M!==E){if(E.mapped===g.fn&&null!=M&&null!=M.mapping&&M.mapping.value===E.value){var F=M.mapping;if((F.fnValue=E.value(l))===F.prevFnValue)continue}var W=p[x]={prev:M};this.applyParsedProperty(l,E),W.next=l.pstyle(x),W.next&&W.next.bypass&&(W.next=W.next.bypassed)}}return{diffProps:p}},updateStyleHints:function(u){var f,o=u._private,l=this,h=l.propertyGroupKeys,p=function(Wt,rn,Xn){return l.getPropertiesHash(Wt,rn,Xn)},g=o.styleKey;if(u.removed())return!1;var Wt,w="nodes"===o.group,x=u._private.style;f=Object.keys(x);for(var E=0;E<h.length;E++)o.styleKeys[h[E]]=[Ma,Ks];for(var F=function(Wt,rn){return o.styleKeys[rn][0]=Ia(Wt,o.styleKeys[rn][0])},z=function(Wt,rn){return o.styleKeys[rn][1]=Zs(Wt,o.styleKeys[rn][1])},W=function(Wt,rn){F(Wt,rn),z(Wt,rn)},j=function(Wt,rn){for(var Xn=0;Xn<Wt.length;Xn++){var ar=Wt.charCodeAt(Xn);F(ar,rn),z(ar,rn)}},re=0;re<f.length;re++){var fe=f[re],he=x[fe];if(null!=he){var ve=this.properties[fe],Me=ve.type,Ie=ve.groupKey,ye=void 0;null!=ve.hashOverride?ye=ve.hashOverride(u,he):null!=he.pfValue&&(ye=he.pfValue);var Se=null==ve.enums?he.value:null,we=null!=ye,Ee=he.units;!Me.number||!we&&null==Se||Me.multiple?j(he.strValue,Ie):(W(-128<(Wt=we?ye:Se)&&Wt<128&&Math.floor(Wt)!==Wt?2e9-(1024*Wt|0):Wt,Ie),!we&&null!=Ee&&j(Ee,Ie))}}for(var Ne=[Ma,Ks],Ke=0;Ke<h.length;Ke++){var Ge=o.styleKeys[h[Ke]];Ne[0]=Ia(Ge[0],Ne[0]),Ne[1]=Zs(Ge[1],Ne[1])}o.styleKey=function(o,l){return 2097152*o+l}(Ne[0],Ne[1]);var ot=o.styleKeys;o.labelDimsKey=os(ot.labelDimensions);var ct=p(u,["label"],ot.labelDimensions);if(o.labelKey=os(ct),o.labelStyleKey=os(Aa(ot.commonLabel,ct)),!w){var vt=p(u,["source-label"],ot.labelDimensions);o.sourceLabelKey=os(vt),o.sourceLabelStyleKey=os(Aa(ot.commonLabel,vt));var st=p(u,["target-label"],ot.labelDimensions);o.targetLabelKey=os(st),o.targetLabelStyleKey=os(Aa(ot.commonLabel,st))}if(w){var mt=o.styleKeys,Je=mt.pie,Mt=[mt.nodeBody,mt.nodeBorder,mt.backgroundImage,mt.compound,Je].filter(function(Nt){return null!=Nt}).reduce(Aa,[Ma,Ks]);o.nodeKey=os(Mt),o.hasPie=null!=Je&&Je[0]!==Ma&&Je[1]!==Ks}return g!==o.styleKey},clearStyleHints:function(u){var o=u._private;o.styleCxtKey="",o.styleKeys={},o.styleKey=null,o.labelKey=null,o.labelStyleKey=null,o.sourceLabelKey=null,o.sourceLabelStyleKey=null,o.targetLabelKey=null,o.targetLabelStyleKey=null,o.nodeKey=null,o.hasPie=null},applyParsedProperty:function(u,o){var p,l=this,f=o,h=u._private.style,g=l.types,w=l.properties[f.name].type,x=f.bypass,E=h[f.name],M=E&&E.bypass,F=u._private,z="mapping",W=function(At){return null==At?null:null!=At.pfValue?At.pfValue:At.value},j=function(){var At=W(E),Ot=W(f);l.checkTriggers(u,f.name,At,Ot)};if(f&&"pie"===f.name.substr(0,3)&&Sr("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===o.name&&u.isEdge()&&("bezier"!==o.value&&u.isLoop()||"haystack"===o.value&&(u.source().isParent()||u.target().isParent()))&&(f=o=this.parse(o.name,"bezier",x)),f.delete)return h[f.name]=void 0,j(),!0;if(f.deleteBypassed)return E?!!E.bypass&&(E.bypassed=void 0,j(),!0):(j(),!0);if(f.deleteBypass)return E?!!E.bypass&&(h[f.name]=E.bypassed,j(),!0):(j(),!0);var q=function(){Sr("Do not assign mappings to elements without corresponding data (i.e. ele `"+u.id()+"` has no mapping for property `"+f.name+"` with data field `"+f.field+"`); try a `["+f.field+"]` selector to limit scope to elements with `"+f.field+"` defined")};switch(f.mapped){case g.mapData:for(var J=f.field.split("."),re=F.data,fe=0;fe<J.length&&re;fe++)re=re[J[fe]];if(null==re)return q(),!1;var ve;if(!Xe(re))return Sr("Do not use continuous mappers without specifying numeric data (i.e. `"+f.field+": "+re+"` for `"+u.id()+"` is non-numeric)"),!1;var Me=f.fieldMax-f.fieldMin;if((ve=0===Me?0:(re-f.fieldMin)/Me)<0?ve=0:ve>1&&(ve=1),w.color){var Ie=f.valueMin[0],Se=f.valueMin[1],we=f.valueMax[1],ke=f.valueMin[2],Pe=f.valueMax[2],Ee=null==f.valueMin[3]?1:f.valueMin[3],He=null==f.valueMax[3]?1:f.valueMax[3],Ne=[Math.round(Ie+(f.valueMax[0]-Ie)*ve),Math.round(Se+(we-Se)*ve),Math.round(ke+(Pe-ke)*ve),Math.round(Ee+(He-Ee)*ve)];p={bypass:f.bypass,name:f.name,value:Ne,strValue:"rgb("+Ne[0]+", "+Ne[1]+", "+Ne[2]+")"}}else{if(!w.number)return!1;p=this.parse(f.name,f.valueMin+(f.valueMax-f.valueMin)*ve,f.bypass,z)}if(!p)return q(),!1;p.mapping=f,f=p;break;case g.data:for(var Ue=f.field.split("."),Ge=F.data,ot=0;ot<Ue.length&&Ge;ot++)Ge=Ge[Ue[ot]];if(null!=Ge&&(p=this.parse(f.name,Ge,f.bypass,z)),!p)return q(),!1;p.mapping=f,f=p;break;case g.fn:var st=null!=f.fnValue?f.fnValue:(0,f.value)(u);if(f.prevFnValue=st,null==st)return Sr("Custom function mappers may not return null (i.e. `"+f.name+"` for ele `"+u.id()+"` is null)"),!1;if(!(p=this.parse(f.name,st,f.bypass,z)))return Sr("Custom function mappers may not return invalid values for the property type (i.e. `"+f.name+"` for ele `"+u.id()+"` is invalid)"),!1;p.mapping=ki(f),f=p;break;case void 0:break;default:return!1}return x?(f.bypassed=M?E.bypassed:E,h[f.name]=f):M?E.bypassed=f:h[f.name]=f,j(),!0},cleanElements:function(u,o){for(var l=0;l<u.length;l++){var f=u[l];if(this.clearStyleHints(f),f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),o)for(var h=f._private.style,p=Object.keys(h),g=0;g<p.length;g++){var w=p[g],x=h[w];null!=x&&(x.bypass?x.bypassed=null:h[w]=null)}else f._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(u,o){var l=this,f=u._private,h=u.pstyle("transition-property").value,p=u.pstyle("transition-duration").pfValue,g=u.pstyle("transition-delay").pfValue;if(h.length>0&&p>0){for(var w={},x=!1,E=0;E<h.length;E++){var M=h[E],F=u.pstyle(M),z=o[M];if(z){var j=z.prev,q=null!=z.next?z.next:F,J=!1,re=void 0;j&&(Xe(j.pfValue)&&Xe(q.pfValue)?re=j.pfValue+1e-6*(J=q.pfValue-j.pfValue):Xe(j.value)&&Xe(q.value)?re=j.value+1e-6*(J=q.value-j.value):ft(j.value)&&ft(q.value)&&(J=j.value[0]!==q.value[0]||j.value[1]!==q.value[1]||j.value[2]!==q.value[2],re=j.strValue),J&&(w[M]=q.strValue,this.applyBypass(u,M,re),x=!0))}}if(!x)return;f.transitioning=!0,new ds(function(he){g>0?u.delayAnimation(g).play().promise().then(he):he()}).then(function(){return u.animation({style:w,duration:p,easing:u.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){l.removeBypasses(u,h),u.emitAndNotify("style"),f.transitioning=!1})}else f.transitioning&&(this.removeBypasses(u,h),u.emitAndNotify("style"),f.transitioning=!1)},checkTrigger:function(u,o,l,f,h,p){var g=this.properties[o],w=h(g);null!=w&&w(l,f)&&p(g)},checkZOrderTrigger:function(u,o,l,f){var h=this;this.checkTrigger(u,o,l,f,function(p){return p.triggersZOrder},function(){h._private.cy.notify("zorder",u)})},checkBoundsTrigger:function(u,o,l,f){this.checkTrigger(u,o,l,f,function(h){return h.triggersBounds},function(h){u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),h.triggersBoundsOfParallelBeziers&&("curve-style"===o&&("bezier"===l||"bezier"===f)||"display"===o&&("none"===l||"none"===f))&&u.parallelEdges().forEach(function(p){p.isBundledBezier()&&p.dirtyBoundingBoxCache()})})},checkTriggers:function(u,o,l,f){u.dirtyStyleCache(),this.checkZOrderTrigger(u,o,l,f),this.checkBoundsTrigger(u,o,l,f)}},Do={applyBypass:function(u,o,l,f){var p=[];if("*"===o||"**"===o){if(void 0!==l)for(var w=0;w<this.properties.length;w++){var M=this.parse(this.properties[w].name,l,!0);M&&p.push(M)}}else if(Be(o)){var F=this.parse(o,l,!0);F&&p.push(F)}else{if(!Ye(o))return!1;var z=o;f=l;for(var W=Object.keys(z),j=0;j<W.length;j++){var q=W[j],J=z[q];if(void 0===J&&(J=z[wn(q)]),void 0!==J){var re=this.parse(q,J,!0);re&&p.push(re)}}}if(0===p.length)return!1;for(var fe=!1,he=0;he<u.length;he++){for(var ve=u[he],Me={},Ie=void 0,ye=0;ye<p.length;ye++){var Se=p[ye];if(f){var we=ve.pstyle(Se.name);Ie=Me[Se.name]={prev:we}}fe=this.applyParsedProperty(ve,ki(Se))||fe,f&&(Ie.next=ve.pstyle(Se.name))}fe&&this.updateStyleHints(ve),f&&this.updateTransitions(ve,Me,!0)}return fe},overrideBypass:function(u,o,l){o=Cr(o);for(var f=0;f<u.length;f++){var h=u[f],p=h._private.style[o],g=this.properties[o].type,w=g.color,x=g.mutiple,E=p?null!=p.pfValue?p.pfValue:p.value:null;p&&p.bypass?(p.value=l,null!=p.pfValue&&(p.pfValue=l),p.strValue=w?"rgb("+l.join(",")+")":x?l.join(" "):""+l,this.updateStyleHints(h)):this.applyBypass(h,o,l),this.checkTriggers(h,o,E,l)}},removeAllBypasses:function(u,o){return this.removeBypasses(u,this.propertyNames,o)},removeBypasses:function(u,o,l){for(var h=0;h<u.length;h++){for(var p=u[h],g={},w=0;w<o.length;w++){var x=o[w],E=this.properties[x],M=p.pstyle(E.name);if(M&&M.bypass){var z=this.parse(x,"",!0),W=g[E.name]={prev:M};this.applyParsedProperty(p,z),W.next=p.pstyle(E.name)}}this.updateStyleHints(p),l&&this.updateTransitions(p,g,!0)}}},ts={getEmSizeInPixels:function(){var u=this.containerCss("font-size");return null!=u?parseFloat(u):1},containerCss:function(u){var l=this._private.cy.container();if(oe&&l&&oe.getComputedStyle)return oe.getComputedStyle(l).getPropertyValue(u)}},Hr={getRenderedStyle:function(u,o){return o?this.getStylePropertyValue(u,o,!0):this.getRawStyle(u,!0)},getRawStyle:function(u,o){var l=this;if(u=u[0]){for(var f={},h=0;h<l.properties.length;h++){var p=l.properties[h],g=l.getStylePropertyValue(u,p.name,o);null!=g&&(f[p.name]=g,f[wn(p.name)]=g)}return f}},getIndexedStyle:function(u,o,l,f){return u.pstyle(o)[l][f]??u.cy().style().getDefaultProperty(o)[l][0]},getStylePropertyValue:function(u,o,l){if(u=u[0]){var h=this.properties[o];h.alias&&(h=h.pointsTo);var p=h.type,g=u.pstyle(h.name);if(g){var w=g.value,x=g.units,E=g.strValue;if(l&&p.number&&null!=w&&Xe(w)){var M=u.cy().zoom(),F=function(J){return J*M},z=function(J,re){return F(J)+re},W=ft(w);return(W?x.every(function(q){return null!=q}):null!=x)?W?w.map(function(q,J){return z(q,x[J])}).join(" "):z(w,x):W?w.map(function(q){return Be(q)?q:""+F(q)}).join(" "):""+F(w)}if(null!=E)return E}return null}},getAnimationStartStyle:function(u,o){for(var l={},f=0;f<o.length;f++){var p=o[f].name,g=u.pstyle(p);void 0!==g&&(g=Ye(g)?this.parse(p,g.strValue):this.parse(p,g)),g&&(l[p]=g)}return l},getPropsList:function(u){var l=[],f=u,h=this.properties;if(f)for(var p=Object.keys(f),g=0;g<p.length;g++){var w=p[g],x=f[w],E=h[w]||h[Cr(w)],M=this.parse(E.name,x);M&&l.push(M)}return l},getNonDefaultPropertiesHash:function(u,o,l){var p,g,w,x,E,f=l.slice();for(x=0;x<o.length;x++)if(null!=(p=u.pstyle(o[x],!1)))if(null!=p.pfValue)f[0]=Ia(w,f[0]),f[1]=Zs(w,f[1]);else for(g=p.strValue,E=0;E<g.length;E++)w=g.charCodeAt(E),f[0]=Ia(w,f[0]),f[1]=Zs(w,f[1]);return f}};Hr.getPropertiesHash=Hr.getNonDefaultPropertiesHash;var Rd={appendFromJson:function(u){for(var o=this,l=0;l<u.length;l++){var f=u[l],h=f.selector,p=f.style||f.css,g=Object.keys(p);o.selector(h);for(var w=0;w<g.length;w++){var x=g[w];o.css(x,p[x])}}return o},fromJson:function(u){var o=this;return o.resetToDefault(),o.appendFromJson(u),o},json:function(){for(var u=[],o=this.defaultLength;o<this.length;o++){for(var l=this[o],f=l.selector,h=l.properties,p={},g=0;g<h.length;g++){var w=h[g];p[w.name]=w.strValue}u.push({selector:f?f.toString():"core",style:p})}return u}},Nh={appendFromString:function(u){var h,p,g,l=this,f=""+u;function w(){f=f.length>h.length?f.substr(h.length):""}function x(){p=p.length>g.length?p.substr(g.length):""}for(f=f.replace(/[/][*](\s|.)+?[*][/]/g,"");!f.match(/^\s*$/);){var M=f.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!M){Sr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+f);break}h=M[0];var F=M[1];if("core"!==F&&new Su(F).invalid)Sr("Skipping parsing of block: Invalid selector found in string stylesheet: "+F),w();else{var W=M[2],j=!1;p=W;for(var q=[];!p.match(/^\s*$/);){var re=p.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!re){Sr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+W),j=!0;break}g=re[0];var fe=re[1],he=re[2];this.properties[fe]?l.parse(fe,he)?(q.push({name:fe,val:he}),x()):(Sr("Skipping property: Invalid property definition in: "+g),x()):(Sr("Skipping property: Invalid property name in: "+g),x())}if(j){w();break}l.selector(F);for(var Ie=0;Ie<q.length;Ie++){var ye=q[Ie];l.css(ye.name,ye.val)}w()}}return l},fromString:function(u){var o=this;return o.resetToDefault(),o.appendFromString(u),o}},To={};(function(){var u=dn,o=ro,l=Bi,p=function(Mt){return"^"+Mt+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},g=function(Mt){var Nt=u+"|\\w+|"+o+"|"+l+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Mt+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+u+")\\s*\\,\\s*("+u+")\\s*,\\s*("+Nt+")\\s*\\,\\s*("+Nt+")\\)$"},w=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];To.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:p("data")},layoutData:{mapping:!0,regex:p("layoutData")},scratch:{mapping:!0,regex:p("scratch")},mapData:{mapping:!0,regex:g("mapData")},mapLayoutData:{mapping:!0,regex:g("mapLayoutData")},mapScratch:{mapping:!0,regex:g("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:w,singleRegexMatchValue:!0},urls:{regexes:w,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Mt,Nt){switch(Mt.length){case 2:return"deg"!==Nt[0]&&"rad"!==Nt[0]&&"deg"!==Nt[1]&&"rad"!==Nt[1];case 1:return Be(Mt[0])||"deg"===Nt[0]||"rad"===Nt[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+u+")\\s*,\\s*("+u+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+u+")\\s*,\\s*("+u+")\\s*,\\s*("+u+")\\s*,\\s*("+u+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Mt){var Nt=Mt.length;return 1===Nt||2===Nt||4===Nt}}};var x={zeroNonZero:function(Mt,Nt){return(null==Mt||null==Nt)&&Mt!==Nt||0==Mt&&0!=Nt||0!=Mt&&0==Nt},any:function(Mt,Nt){return Mt!=Nt},emptyNonEmpty:function(Mt,Nt){var Wt=Ft(Mt),rn=Ft(Nt);return Wt&&!rn||!Wt&&rn}},E=To.types,M=[{name:"label",type:E.text,triggersBounds:x.any,triggersZOrder:x.emptyNonEmpty},{name:"text-rotation",type:E.textRotation,triggersBounds:x.any},{name:"text-margin-x",type:E.bidirectionalSize,triggersBounds:x.any},{name:"text-margin-y",type:E.bidirectionalSize,triggersBounds:x.any}],F=[{name:"source-label",type:E.text,triggersBounds:x.any},{name:"source-text-rotation",type:E.textRotation,triggersBounds:x.any},{name:"source-text-margin-x",type:E.bidirectionalSize,triggersBounds:x.any},{name:"source-text-margin-y",type:E.bidirectionalSize,triggersBounds:x.any},{name:"source-text-offset",type:E.size,triggersBounds:x.any}],z=[{name:"target-label",type:E.text,triggersBounds:x.any},{name:"target-text-rotation",type:E.textRotation,triggersBounds:x.any},{name:"target-text-margin-x",type:E.bidirectionalSize,triggersBounds:x.any},{name:"target-text-margin-y",type:E.bidirectionalSize,triggersBounds:x.any},{name:"target-text-offset",type:E.size,triggersBounds:x.any}],W=[{name:"font-family",type:E.fontFamily,triggersBounds:x.any},{name:"font-style",type:E.fontStyle,triggersBounds:x.any},{name:"font-weight",type:E.fontWeight,triggersBounds:x.any},{name:"font-size",type:E.size,triggersBounds:x.any},{name:"text-transform",type:E.textTransform,triggersBounds:x.any},{name:"text-wrap",type:E.textWrap,triggersBounds:x.any},{name:"text-overflow-wrap",type:E.textOverflowWrap,triggersBounds:x.any},{name:"text-max-width",type:E.size,triggersBounds:x.any},{name:"text-outline-width",type:E.size,triggersBounds:x.any},{name:"line-height",type:E.positiveNumber,triggersBounds:x.any}],j=[{name:"text-valign",type:E.valign,triggersBounds:x.any},{name:"text-halign",type:E.halign,triggersBounds:x.any},{name:"color",type:E.color},{name:"text-outline-color",type:E.color},{name:"text-outline-opacity",type:E.zeroOneNumber},{name:"text-background-color",type:E.color},{name:"text-background-opacity",type:E.zeroOneNumber},{name:"text-background-padding",type:E.size,triggersBounds:x.any},{name:"text-border-opacity",type:E.zeroOneNumber},{name:"text-border-color",type:E.color},{name:"text-border-width",type:E.size,triggersBounds:x.any},{name:"text-border-style",type:E.borderStyle,triggersBounds:x.any},{name:"text-background-shape",type:E.textBackgroundShape,triggersBounds:x.any},{name:"text-justification",type:E.justification}],q=[{name:"events",type:E.bool},{name:"text-events",type:E.bool}],J=[{name:"display",type:E.display,triggersZOrder:x.any,triggersBounds:x.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:E.visibility,triggersZOrder:x.any},{name:"opacity",type:E.zeroOneNumber,triggersZOrder:x.zeroNonZero},{name:"text-opacity",type:E.zeroOneNumber},{name:"min-zoomed-font-size",type:E.size},{name:"z-compound-depth",type:E.zCompoundDepth,triggersZOrder:x.any},{name:"z-index-compare",type:E.zIndexCompare,triggersZOrder:x.any},{name:"z-index",type:E.nonNegativeInt,triggersZOrder:x.any}],re=[{name:"overlay-padding",type:E.size,triggersBounds:x.any},{name:"overlay-color",type:E.color},{name:"overlay-opacity",type:E.zeroOneNumber,triggersBounds:x.zeroNonZero},{name:"overlay-shape",type:E.overlayShape,triggersBounds:x.any}],fe=[{name:"underlay-padding",type:E.size,triggersBounds:x.any},{name:"underlay-color",type:E.color},{name:"underlay-opacity",type:E.zeroOneNumber,triggersBounds:x.zeroNonZero},{name:"underlay-shape",type:E.overlayShape,triggersBounds:x.any}],he=[{name:"transition-property",type:E.propList},{name:"transition-duration",type:E.time},{name:"transition-delay",type:E.time},{name:"transition-timing-function",type:E.easing}],ve=function(Mt,Nt){return"label"===Nt.value?-Mt.poolIndex():Nt.pfValue},Me=[{name:"height",type:E.nodeSize,triggersBounds:x.any,hashOverride:ve},{name:"width",type:E.nodeSize,triggersBounds:x.any,hashOverride:ve},{name:"shape",type:E.nodeShape,triggersBounds:x.any},{name:"shape-polygon-points",type:E.polygonPointList,triggersBounds:x.any},{name:"background-color",type:E.color},{name:"background-fill",type:E.fill},{name:"background-opacity",type:E.zeroOneNumber},{name:"background-blacken",type:E.nOneOneNumber},{name:"background-gradient-stop-colors",type:E.colors},{name:"background-gradient-stop-positions",type:E.percentages},{name:"background-gradient-direction",type:E.gradientDirection},{name:"padding",type:E.sizeMaybePercent,triggersBounds:x.any},{name:"padding-relative-to",type:E.paddingRelativeTo,triggersBounds:x.any},{name:"bounds-expansion",type:E.boundsExpansion,triggersBounds:x.any}],Ie=[{name:"border-color",type:E.color},{name:"border-opacity",type:E.zeroOneNumber},{name:"border-width",type:E.size,triggersBounds:x.any},{name:"border-style",type:E.borderStyle}],ye=[{name:"background-image",type:E.urls},{name:"background-image-crossorigin",type:E.bgCrossOrigin},{name:"background-image-opacity",type:E.zeroOneNumbers},{name:"background-image-containment",type:E.bgContainment},{name:"background-image-smoothing",type:E.bools},{name:"background-position-x",type:E.bgPos},{name:"background-position-y",type:E.bgPos},{name:"background-width-relative-to",type:E.bgRelativeTo},{name:"background-height-relative-to",type:E.bgRelativeTo},{name:"background-repeat",type:E.bgRepeat},{name:"background-fit",type:E.bgFit},{name:"background-clip",type:E.bgClip},{name:"background-width",type:E.bgWH},{name:"background-height",type:E.bgWH},{name:"background-offset-x",type:E.bgPos},{name:"background-offset-y",type:E.bgPos}],Se=[{name:"position",type:E.position,triggersBounds:x.any},{name:"compound-sizing-wrt-labels",type:E.compoundIncludeLabels,triggersBounds:x.any},{name:"min-width",type:E.size,triggersBounds:x.any},{name:"min-width-bias-left",type:E.sizeMaybePercent,triggersBounds:x.any},{name:"min-width-bias-right",type:E.sizeMaybePercent,triggersBounds:x.any},{name:"min-height",type:E.size,triggersBounds:x.any},{name:"min-height-bias-top",type:E.sizeMaybePercent,triggersBounds:x.any},{name:"min-height-bias-bottom",type:E.sizeMaybePercent,triggersBounds:x.any}],we=[{name:"line-style",type:E.lineStyle},{name:"line-color",type:E.color},{name:"line-fill",type:E.fill},{name:"line-cap",type:E.lineCap},{name:"line-opacity",type:E.zeroOneNumber},{name:"line-dash-pattern",type:E.numbers},{name:"line-dash-offset",type:E.number},{name:"line-gradient-stop-colors",type:E.colors},{name:"line-gradient-stop-positions",type:E.percentages},{name:"curve-style",type:E.curveStyle,triggersBounds:x.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:E.zeroOneNumber,triggersBounds:x.any},{name:"source-endpoint",type:E.edgeEndpoint,triggersBounds:x.any},{name:"target-endpoint",type:E.edgeEndpoint,triggersBounds:x.any},{name:"control-point-step-size",type:E.size,triggersBounds:x.any},{name:"control-point-distances",type:E.bidirectionalSizes,triggersBounds:x.any},{name:"control-point-weights",type:E.numbers,triggersBounds:x.any},{name:"segment-distances",type:E.bidirectionalSizes,triggersBounds:x.any},{name:"segment-weights",type:E.numbers,triggersBounds:x.any},{name:"taxi-turn",type:E.bidirectionalSizeMaybePercent,triggersBounds:x.any},{name:"taxi-turn-min-distance",type:E.size,triggersBounds:x.any},{name:"taxi-direction",type:E.axisDirection,triggersBounds:x.any},{name:"edge-distances",type:E.edgeDistances,triggersBounds:x.any},{name:"arrow-scale",type:E.positiveNumber,triggersBounds:x.any},{name:"loop-direction",type:E.angle,triggersBounds:x.any},{name:"loop-sweep",type:E.angle,triggersBounds:x.any},{name:"source-distance-from-node",type:E.size,triggersBounds:x.any},{name:"target-distance-from-node",type:E.size,triggersBounds:x.any}],ke=[{name:"ghost",type:E.bool,triggersBounds:x.any},{name:"ghost-offset-x",type:E.bidirectionalSize,triggersBounds:x.any},{name:"ghost-offset-y",type:E.bidirectionalSize,triggersBounds:x.any},{name:"ghost-opacity",type:E.zeroOneNumber}],Pe=[{name:"selection-box-color",type:E.color},{name:"selection-box-opacity",type:E.zeroOneNumber},{name:"selection-box-border-color",type:E.color},{name:"selection-box-border-width",type:E.size},{name:"active-bg-color",type:E.color},{name:"active-bg-opacity",type:E.zeroOneNumber},{name:"active-bg-size",type:E.size},{name:"outside-texture-bg-color",type:E.color},{name:"outside-texture-bg-opacity",type:E.zeroOneNumber}],Ee=[];To.pieBackgroundN=16,Ee.push({name:"pie-size",type:E.sizeMaybePercent});for(var He=1;He<=To.pieBackgroundN;He++)Ee.push({name:"pie-"+He+"-background-color",type:E.color}),Ee.push({name:"pie-"+He+"-background-size",type:E.percent}),Ee.push({name:"pie-"+He+"-background-opacity",type:E.zeroOneNumber});var Ne=[],Ke=To.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:E.arrowShape,triggersBounds:x.any},{name:"arrow-color",type:E.color},{name:"arrow-fill",type:E.arrowFill}].forEach(function(Je){Ke.forEach(function(Mt){Ne.push({name:Mt+"-"+Je.name,type:Je.type,triggersBounds:Je.triggersBounds})})},{});var Ue=To.properties=[].concat(q,he,J,re,fe,ke,j,W,M,F,z,Me,Ie,ye,Ee,Se,we,Ne,Pe),Ge=To.propertyGroups={behavior:q,transition:he,visibility:J,overlay:re,underlay:fe,ghost:ke,commonLabel:j,labelDimensions:W,mainLabel:M,sourceLabel:F,targetLabel:z,nodeBody:Me,nodeBorder:Ie,backgroundImage:ye,pie:Ee,compound:Se,edgeLine:we,edgeArrow:Ne,core:Pe},ot=To.propertyGroupNames={};(To.propertyGroupKeys=Object.keys(Ge)).forEach(function(Je){ot[Je]=Ge[Je].map(function(Mt){return Mt.name}),Ge[Je].forEach(function(Mt){return Mt.groupKey=Je})});var vt=To.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];To.propertyNames=Ue.map(function(Je){return Je.name});for(var st=0;st<Ue.length;st++){var mt=Ue[st];Ue[mt.name]=mt}for(var At=0;At<vt.length;At++){var Ot=vt[At],_t={name:Ot.name,alias:!0,pointsTo:Ue[Ot.pointsTo]};Ue.push(_t),Ue[Ot.name]=_t}})(),To.getDefaultProperty=function(u){return this.getDefaultProperties()[u]},To.getDefaultProperties=function(){var u=this._private;if(null!=u.defaultProperties)return u.defaultProperties;for(var o=Nn({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(x,E){for(var M=1;M<=To.pieBackgroundN;M++)x[E.name.replace("{{i}}",M)]=E.value;return x},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(x,E){return To.arrowPrefixes.forEach(function(M){x[M+"-"+E.name]=E.value}),x},{})),l={},f=0;f<this.properties.length;f++){var h=this.properties[f];if(!h.pointsTo){var p=h.name,w=this.parse(p,o[p]);l[p]=w}}return u.defaultProperties=l,u.defaultProperties},To.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var kd={parse:function(u,o,l,f){var h=this;if(at(o))return h.parseImplWarn(u,o,l,f);var M,x=ed(u,""+o,l?"t":"f","mapping"===f||!0===f||!1===f||null==f?"dontcare":f),E=h.propCache=h.propCache||[];return(M=E[x])||(M=E[x]=h.parseImplWarn(u,o,l,f)),(l||"mapping"===f)&&(M=ki(M))&&(M.value=ki(M.value)),M},parseImplWarn:function(u,o,l,f){var h=this.parseImpl(u,o,l,f);return!h&&null!=o&&Sr("The style property `".concat(u,": ").concat(o,"` is invalid")),h&&("width"===h.name||"height"===h.name)&&"label"===o&&Sr("The style value of `label` is deprecated for `"+h.name+"`"),h}};kd.parseImpl=function(u,o,l,f){var h=this;u=Cr(u);var p=h.properties[u],g=o,w=h.types;if(!p||void 0===o)return null;p.alias&&(u=(p=p.pointsTo).name);var x=Be(o);x&&(o=o.trim());var M,F,E=p.type;if(!E)return null;if(l&&(""===o||null===o))return{name:u,value:o,bypass:!0,deleteBypass:!0};if(at(o))return{name:u,value:o,strValue:"fn",mapped:w.fn,bypass:l};if(!(!x||f||o.length<7||"a"!==o[1])){if(o.length>=7&&"d"===o[0]&&(M=new RegExp(w.data.regex).exec(o)))return!l&&{name:u,value:M,strValue:""+o,mapped:w.data,field:M[1],bypass:l};if(o.length>=10&&"m"===o[0]&&(F=new RegExp(w.mapData.regex).exec(o))){if(l||E.multiple)return!1;var W=w.mapData;if(!E.color&&!E.number)return!1;var j=this.parse(u,F[4]);if(!j||j.mapped)return!1;var q=this.parse(u,F[5]);if(!q||q.mapped)return!1;if(j.pfValue===q.pfValue||j.strValue===q.strValue)return Sr("`"+u+": "+o+"` is not a valid mapper because the output range is zero; converting to `"+u+": "+j.strValue+"`"),this.parse(u,j.strValue);if(E.color){var J=j.value,re=q.value;if(!(J[0]!==re[0]||J[1]!==re[1]||J[2]!==re[2]||J[3]!==re[3]&&(null!=J[3]&&1!==J[3]||null!=re[3]&&1!==re[3])))return!1}return{name:u,value:F,strValue:""+o,mapped:W,field:F[1],fieldMin:parseFloat(F[2]),fieldMax:parseFloat(F[3]),valueMin:j.value,valueMax:q.value,bypass:l}}}if(E.multiple&&"multiple"!==f){var he;if(he=x?o.split(/\s+/):ft(o)?o:[o],E.evenMultiple&&he.length%2!=0)return null;for(var ve=[],Me=[],Ie=[],ye="",Se=!1,we=0;we<he.length;we++){var ke=h.parse(u,he[we],l,"multiple");Se=Se||Be(ke.value),ve.push(ke.value),Ie.push(null!=ke.pfValue?ke.pfValue:ke.value),Me.push(ke.units),ye+=(we>0?" ":"")+ke.strValue}return E.validate&&!E.validate(ve,Me)?null:E.singleEnum&&Se?1===ve.length&&Be(ve[0])?{name:u,value:ve[0],strValue:ve[0],bypass:l}:null:{name:u,value:ve,pfValue:Ie,strValue:ye,bypass:l,units:Me}}var Pe=function(){for(var Nt=0;Nt<E.enums.length;Nt++)if(E.enums[Nt]===o)return{name:u,value:o,strValue:""+o,bypass:l};return null};if(E.number){var Ee,He="px";if(E.units&&(Ee=E.units),E.implicitUnits&&(He=E.implicitUnits),!E.unitless)if(x){var Ne="px|em"+(E.allowPercent?"|\\%":"");Ee&&(Ne=Ee);var Ke=o.match("^("+dn+")("+Ne+")?$");Ke&&(o=Ke[1],Ee=Ke[2]||He)}else(!Ee||E.implicitUnits)&&(Ee=He);if(o=parseFloat(o),isNaN(o)&&void 0===E.enums)return null;if(isNaN(o)&&void 0!==E.enums)return o=g,Pe();if(E.integer&&!function(o){return Xe(o)&&Math.floor(o)===o}(o)||void 0!==E.min&&(o<E.min||E.strictMin&&o===E.min)||void 0!==E.max&&(o>E.max||E.strictMax&&o===E.max))return null;var Ue={name:u,value:o,strValue:""+o+(Ee||""),units:Ee,bypass:l};return Ue.pfValue=E.unitless||"px"!==Ee&&"em"!==Ee?o:"px"!==Ee&&Ee?this.getEmSizeInPixels()*o:o,("ms"===Ee||"s"===Ee)&&(Ue.pfValue="ms"===Ee?o:1e3*o),("deg"===Ee||"rad"===Ee)&&(Ue.pfValue="rad"===Ee?o:function(o){return Math.PI*o/180}(o)),"%"===Ee&&(Ue.pfValue=o/100),Ue}if(E.propList){var Ge=[],ot=""+o;if("none"!==ot){for(var ct=ot.split(/\s*,\s*|\s+/),vt=0;vt<ct.length;vt++){var st=ct[vt].trim();h.properties[st]?Ge.push(st):Sr("`"+st+"` is not a valid property name")}if(0===Ge.length)return null}return{name:u,value:Ge,strValue:0===Ge.length?"none":Ge.join(" "),bypass:l}}if(E.color){var mt=function(o){return(ft(o)?o:null)||function(o){return Ss[o.toLowerCase()]}(o)||function(o){if((4===o.length||7===o.length)&&"#"===o[0]){var f,h,p,g=16;return 4===o.length?(f=parseInt(o[1]+o[1],g),h=parseInt(o[2]+o[2],g),p=parseInt(o[3]+o[3],g)):(f=parseInt(o[1]+o[2],g),h=parseInt(o[3]+o[4],g),p=parseInt(o[5]+o[6],g)),[f,h,p]}}(o)||function(o){var l,f=new RegExp("^"+Ri+"$").exec(o);if(f){l=[];for(var h=[],p=1;p<=3;p++){var g=f[p];if("%"===g[g.length-1]&&(h[p]=!0),g=parseFloat(g),h[p]&&(g=g/100*255),g<0||g>255)return;l.push(Math.floor(g))}if((h[1]||h[2]||h[3])&&!(h[1]&&h[2]&&h[3]))return;var E=f[4];if(void 0!==E){if((E=parseFloat(E))<0||E>1)return;l.push(E)}}return l}(o)||function(o){var l,f,h,p,g,w,x,E;function M(j,q,J){return J<0&&(J+=1),J>1&&(J-=1),J<1/6?j+6*(q-j)*J:J<.5?q:J<2/3?j+(q-j)*(2/3-J)*6:j}var F=new RegExp("^"+Fi+"$").exec(o);if(F){if((f=parseInt(F[1]))<0?f=(360- -1*f%360)%360:f>360&&(f%=360),f/=360,(h=parseFloat(F[2]))<0||h>100||(h/=100,(p=parseFloat(F[3]))<0||p>100)||(p/=100,void 0!==(g=F[4])&&((g=parseFloat(g))<0||g>1)))return;if(0===h)w=x=E=Math.round(255*p);else{var z=p<.5?p*(1+h):p+h-p*h,W=2*p-z;w=Math.round(255*M(W,z,f+1/3)),x=Math.round(255*M(W,z,f)),E=Math.round(255*M(W,z,f-1/3))}l=[w,x,E,g]}return l}(o)}(o);return mt?{name:u,value:mt,pfValue:mt,strValue:"rgb("+mt[0]+","+mt[1]+","+mt[2]+")",bypass:l}:null}if(E.regex||E.regexes){if(E.enums){var At=Pe();if(At)return At}for(var Ot=E.regexes?E.regexes:[E.regex],Dt=0;Dt<Ot.length;Dt++){var Je=new RegExp(Ot[Dt]).exec(o);if(Je)return{name:u,value:E.singleRegexMatchValue?Je[1]:Je,strValue:""+o,bypass:l}}return null}return E.string?{name:u,value:""+o,strValue:""+o,bypass:l}:E.enums?Pe():null};var qo=function u(o){if(!(this instanceof u))return new u(o);lt(o)?(this._private={cy:o,coreStyle:{}},this.length=0,this.resetToDefault()):ni("A style must have a core reference")},Go=qo.prototype;Go.instanceString=function(){return"style"},Go.clear=function(){for(var u=this._private,l=u.cy.elements(),f=0;f<this.length;f++)this[f]=void 0;return this.length=0,u.contextStyles={},u.propDiffs={},this.cleanElements(l,!0),l.forEach(function(h){var p=h[0]._private;p.styleDirty=!0,p.appliedInitStyle=!1}),this},Go.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Go.core=function(u){return this._private.coreStyle[u]||this.getDefaultProperty(u)},Go.selector=function(u){var o="core"===u?null:new Su(u),l=this.length++;return this[l]={selector:o,properties:[],mappedProperties:[],index:l},this},Go.css=function(){var o=arguments;if(1===o.length)for(var l=o[0],f=0;f<this.properties.length;f++){var h=this.properties[f],p=l[h.name];void 0===p&&(p=l[wn(h.name)]),void 0!==p&&this.cssRule(h.name,p)}else 2===o.length&&this.cssRule(o[0],o[1]);return this},Go.style=Go.css,Go.cssRule=function(u,o){var l=this.parse(u,o);if(l){var f=this.length-1;this[f].properties.push(l),this[f].properties[l.name]=l,l.name.match(/pie-(\d+)-background-size/)&&l.value&&(this._private.hasPie=!0),l.mapped&&this[f].mappedProperties.push(l),!this[f].selector&&(this._private.coreStyle[l.name]=l)}return this},Go.append=function(u){return rt(u)?u.appendToStyle(this):ft(u)?this.appendFromJson(u):Be(u)&&this.appendFromString(u),this},qo.fromJson=function(u,o){var l=new qo(u);return l.fromJson(o),l},qo.fromString=function(u,o){return new qo(u).fromString(o)},[xo,Do,ts,Hr,Rd,Nh,To,kd].forEach(function(u){Nn(Go,u)}),qo.types=Go.types,qo.properties=Go.properties,qo.propertyGroups=Go.propertyGroups,qo.propertyGroupNames=Go.propertyGroupNames,qo.propertyGroupKeys=Go.propertyGroupKeys;var Pd={style:function(o){return o&&this.setStyle(o).update(),this._private.style},setStyle:function(o){var l=this._private;return l.style=rt(o)?o.generateStyle(this):ft(o)?qo.fromJson(this,o):Be(o)?qo.fromString(this,o):qo(this),l.style},updateStyle:function(){this.mutableElements().updateStyle()}},Dl={autolock:function(o){return void 0===o?this._private.autolock:(this._private.autolock=!!o,this)},autoungrabify:function(o){return void 0===o?this._private.autoungrabify:(this._private.autoungrabify=!!o,this)},autounselectify:function(o){return void 0===o?this._private.autounselectify:(this._private.autounselectify=!!o,this)},selectionType:function(o){var l=this._private;return null==l.selectionType&&(l.selectionType="single"),void 0===o?l.selectionType:(("additive"===o||"single"===o)&&(l.selectionType=o),this)},panningEnabled:function(o){return void 0===o?this._private.panningEnabled:(this._private.panningEnabled=!!o,this)},userPanningEnabled:function(o){return void 0===o?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!o,this)},zoomingEnabled:function(o){return void 0===o?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!o,this)},userZoomingEnabled:function(o){return void 0===o?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!o,this)},boxSelectionEnabled:function(o){return void 0===o?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!o,this)},pan:function(){var f,h,p,g,w,o=arguments,l=this._private.pan;switch(o.length){case 0:return l;case 1:if(Be(o[0]))return l[f=o[0]];if(Ye(o[0])){if(!this._private.panningEnabled)return this;w=(p=o[0]).y,Xe(g=p.x)&&(l.x=g),Xe(w)&&(l.y=w),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;h=o[1],("x"===(f=o[0])||"y"===f)&&Xe(h)&&(l[f]=h),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(o,l){var p,g,w,x,E,f=arguments,h=this._private.pan;if(!this._private.panningEnabled)return this;switch(f.length){case 1:Ye(o)&&(E=(w=f[0]).y,Xe(x=w.x)&&(h.x+=x),Xe(E)&&(h.y+=E),this.emit("pan viewport"));break;case 2:g=l,("x"===(p=o)||"y"===p)&&Xe(g)&&(h[p]+=g),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(o,l){var f=this.getFitViewport(o,l);if(f){var h=this._private;h.zoom=f.zoom,h.pan=f.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(o,l){var f;if((Xe(o)&&void 0===l&&(l=o,o=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(Be(o)?o=this.$(o):!function(o){return Ye(o)&&Xe(o.x1)&&Xe(o.x2)&&Xe(o.y1)&&Xe(o.y2)}(o)?It(o)||(o=this.mutableElements()):((f={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=f.x2-f.x1,f.h=f.y2-f.y1),!It(o)||!o.empty())){f=f||o.boundingBox();var x,g=this.width(),w=this.height();if(l=Xe(l)?l:0,!isNaN(g)&&!isNaN(w)&&g>0&&w>0&&!isNaN(f.w)&&!isNaN(f.h)&&f.w>0&&f.h>0)return{zoom:x=(x=(x=Math.min((g-2*l)/f.w,(w-2*l)/f.h))>this._private.maxZoom?this._private.maxZoom:x)<this._private.minZoom?this._private.minZoom:x,pan:{x:(g-x*(f.x1+f.x2))/2,y:(w-x*(f.y1+f.y2))/2}}}},zoomRange:function(o,l){var f=this._private;if(null==l){var h=o;o=h.min,l=h.max}return Xe(o)&&Xe(l)&&o<=l?(f.minZoom=o,f.maxZoom=l):Xe(o)&&void 0===l&&o<=f.maxZoom?f.minZoom=o:Xe(l)&&void 0===o&&l>=f.minZoom&&(f.maxZoom=l),this},minZoom:function(o){return void 0===o?this._private.minZoom:this.zoomRange({min:o})},maxZoom:function(o){return void 0===o?this._private.maxZoom:this.zoomRange({max:o})},getZoomedViewport:function(o){var p,g,l=this._private,f=l.pan,h=l.zoom,w=!1;return l.zoomingEnabled||(w=!0),Xe(o)?g=o:Ye(o)&&(g=o.level,null!=o.position?p=Lr(o.position,h,f):null!=o.renderedPosition&&(p=o.renderedPosition),null!=p&&!l.panningEnabled&&(w=!0)),g=(g=g>l.maxZoom?l.maxZoom:g)<l.minZoom?l.minZoom:g,!w&&Xe(g)&&g!==h&&(null==p||Xe(p.x)&&Xe(p.y))?null!=p?{zoomed:!0,panned:!0,zoom:g,pan:{x:-g/h*(p.x-f.x)+p.x,y:-g/h*(p.y-f.y)+p.y}}:{zoomed:!0,panned:!1,zoom:g,pan:f}:null},zoom:function(o){if(void 0===o)return this._private.zoom;var l=this.getZoomedViewport(o),f=this._private;return null!=l&&l.zoomed?(f.zoom=l.zoom,l.panned&&(f.pan.x=l.pan.x,f.pan.y=l.pan.y),this.emit("zoom"+(l.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(o){var l=this._private,f=!0,h=!0,p=[],g=!1,w=!1;if(!o)return this;if(Xe(o.zoom)||(f=!1),Ye(o.pan)||(h=!1),!f&&!h)return this;if(f){var x=o.zoom;x<l.minZoom||x>l.maxZoom||!l.zoomingEnabled?g=!0:(l.zoom=x,p.push("zoom"))}if(h&&(!g||!o.cancelOnFailedZoom)&&l.panningEnabled){var E=o.pan;Xe(E.x)&&(l.pan.x=E.x,w=!1),Xe(E.y)&&(l.pan.y=E.y,w=!1),w||p.push("pan")}return p.length>0&&(p.push("viewport"),this.emit(p.join(" ")),this.notify("viewport")),this},center:function(o){var l=this.getCenterPan(o);return l&&(this._private.pan=l,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(o,l){if(this._private.panningEnabled){if(Be(o)){var f=o;o=this.mutableElements().filter(f)}else It(o)||(o=this.mutableElements());if(0!==o.length){var h=o.boundingBox(),p=this.width(),g=this.height();return{x:(p-(l=void 0===l?this._private.zoom:l)*(h.x1+h.x2))/2,y:(g-l*(h.y1+h.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var f,h,o=this._private,l=o.container;return o.sizeCache=o.sizeCache||(l?(f=oe.getComputedStyle(l),{width:l.clientWidth-(h=function(g){return parseFloat(f.getPropertyValue(g))})("padding-left")-h("padding-right"),height:l.clientHeight-h("padding-top")-h("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var o=this._private.pan,l=this._private.zoom,f=this.renderedExtent(),h={x1:(f.x1-o.x)/l,x2:(f.x2-o.x)/l,y1:(f.y1-o.y)/l,y2:(f.y2-o.y)/l};return h.w=h.x2-h.x1,h.h=h.y2-h.y1,h},renderedExtent:function(){var o=this.width(),l=this.height();return{x1:0,y1:0,x2:o,y2:l,w:o,h:l}},multiClickDebounceTime:function(o){return o?(this._private.multiClickDebounceTime=o,this):this._private.multiClickDebounceTime}};Dl.centre=Dl.center,Dl.autolockNodes=Dl.autolock,Dl.autoungrabifyNodes=Dl.autoungrabify;var ms={data:ur.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ur.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ur.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ur.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};ms.attr=ms.data,ms.removeAttr=ms.removeData;var vs=function(o){var l=this,f=(o=Nn({},o)).container;f&&!Ht(f)&&Ht(f[0])&&(f=f[0]);var h=f?f._cyreg:null;(h=h||{})&&h.cy&&(h.cy.destroy(),h={});var p=h.readies=h.readies||[];f&&(f._cyreg=h),h.cy=l;var g=void 0!==oe&&void 0!==f&&!o.headless,w=o;w.layout=Nn({name:g?"grid":"null"},w.layout),w.renderer=Nn({name:g?"canvas":"null"},w.renderer);var x=function(j,q,J){return void 0!==q?q:void 0!==J?J:j},E=this._private={container:f,ready:!1,options:w,elements:new fo(this),listeners:[],aniEles:new fo(this),data:w.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:x(!0,w.zoomingEnabled),userZoomingEnabled:x(!0,w.userZoomingEnabled),panningEnabled:x(!0,w.panningEnabled),userPanningEnabled:x(!0,w.userPanningEnabled),boxSelectionEnabled:x(!0,w.boxSelectionEnabled),autolock:x(!1,w.autolock,w.autolockNodes),autoungrabify:x(!1,w.autoungrabify,w.autoungrabifyNodes),autounselectify:x(!1,w.autounselectify),styleEnabled:void 0===w.styleEnabled?g:w.styleEnabled,zoom:Xe(w.zoom)?w.zoom:1,pan:{x:Ye(w.pan)&&Xe(w.pan.x)?w.pan.x:0,y:Ye(w.pan)&&Xe(w.pan.y)?w.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:x(250,w.multiClickDebounceTime)};this.createEmitter(),this.selectionType(w.selectionType),this.zoomRange({min:w.minZoom,max:w.maxZoom}),E.styleEnabled&&l.setStyle([]);var F=Nn({},w,w.renderer);l.initRenderer(F),function(j,q){if(j.some(Jn))return ds.all(j).then(q);q(j)}([w.style,w.elements],function(W){var j=W[0],q=W[1];E.styleEnabled&&l.style().append(j),function(j,q,J){l.notifications(!1);var re=l.mutableElements();re.length>0&&re.remove(),null!=j&&(Ye(j)||ft(j))&&l.add(j),l.one("layoutready",function(he){l.notifications(!0),l.emit(he),l.one("load",q),l.emitAndNotify("load")}).one("layoutstop",function(){l.one("done",J),l.emit("done")});var fe=Nn({},l._private.options.layout);fe.eles=l.elements(),l.layout(fe).run()}(q,function(){l.startAnimationLoop(),E.ready=!0,at(w.ready)&&l.on("ready",w.ready);for(var J=0;J<p.length;J++)l.on("ready",p[J]);h&&(h.readies=[]),l.emit("ready")},w.done)})},Ou=vs.prototype;Nn(Ou,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(o){return this.isReady()?this.emitter().emit("ready",[],o):this.on("ready",o),this},destroy:function(){var o=this;if(!o.destroyed())return o.stopAnimationLoop(),o.destroyRenderer(),this.emit("destroy"),o._private.destroyed=!0,o},hasElementWithId:function(o){return this._private.elements.hasElementWithId(o)},getElementById:function(o){return this._private.elements.getElementById(o)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(o){return this._private.elements.merge(o),this},removeFromPool:function(o){return this._private.elements.unmerge(o),this},container:function(){return this._private.container||null},mount:function(o){if(null!=o){var l=this,f=l._private,h=f.options;return!Ht(o)&&Ht(o[0])&&(o=o[0]),l.stopAnimationLoop(),l.destroyRenderer(),f.container=o,f.styleEnabled=!0,l.invalidateSize(),l.initRenderer(Nn({},h,h.renderer,{name:"null"===h.renderer.name?"canvas":h.renderer.name})),l.startAnimationLoop(),l.style(h.style),l.emit("mount"),l}},unmount:function(){var o=this;return o.stopAnimationLoop(),o.destroyRenderer(),o.initRenderer({name:"null"}),o.emit("unmount"),o},options:function(){return ki(this._private.options)},json:function(o){var l=this,f=l._private,h=l.mutableElements();if(Ye(o)){if(l.startBatch(),o.elements){var g={},w=function(ve,Me){for(var Ie=[],ye=[],Se=0;Se<ve.length;Se++){var we=ve[Se];if(we.data.id){var ke=""+we.data.id,Pe=l.getElementById(ke);g[ke]=!0,0!==Pe.length?ye.push({ele:Pe,json:we}):(Me&&(we.group=Me),Ie.push(we))}else Sr("cy.json() cannot handle elements without an ID attribute")}l.add(Ie);for(var Ee=0;Ee<ye.length;Ee++){var He=ye[Ee];He.ele.json(He.json)}};if(ft(o.elements))w(o.elements);else for(var x=["nodes","edges"],E=0;E<x.length;E++){var M=x[E],F=o.elements[M];ft(F)&&w(F,M)}var z=l.collection();h.filter(function(he){return!g[he.id()]}).forEach(function(he){he.isParent()?z.merge(he):he.remove()}),z.forEach(function(he){return he.children().move({parent:null})}),z.forEach(function(he){return(ve=he,l.getElementById(ve.id())).remove();var ve})}o.style&&l.style(o.style),null!=o.zoom&&o.zoom!==f.zoom&&l.zoom(o.zoom),o.pan&&(o.pan.x!==f.pan.x||o.pan.y!==f.pan.y)&&l.pan(o.pan),o.data&&l.data(o.data);for(var W=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],j=0;j<W.length;j++){var q=W[j];null!=o[q]&&l[q](o[q])}return l.endBatch(),this}var re={};o?re.elements=this.elements().map(function(he){return he.json()}):(re.elements={},h.forEach(function(he){var ve=he.group();re.elements[ve]||(re.elements[ve]=[]),re.elements[ve].push(he.json())})),this._private.styleEnabled&&(re.style=l.style().json()),re.data=ki(l.data());var fe=f.options;return re.zoomingEnabled=f.zoomingEnabled,re.userZoomingEnabled=f.userZoomingEnabled,re.zoom=f.zoom,re.minZoom=f.minZoom,re.maxZoom=f.maxZoom,re.panningEnabled=f.panningEnabled,re.userPanningEnabled=f.userPanningEnabled,re.pan=ki(f.pan),re.boxSelectionEnabled=f.boxSelectionEnabled,re.renderer=ki(fe.renderer),re.hideEdgesOnViewport=fe.hideEdgesOnViewport,re.textureOnViewport=fe.textureOnViewport,re.wheelSensitivity=fe.wheelSensitivity,re.motionBlur=fe.motionBlur,re.multiClickDebounceTime=fe.multiClickDebounceTime,re}}),Ou.$id=Ou.getElementById,[gy,Of,Nf,Sc,nu,zp,Od,Nd,Pd,Dl,ms].forEach(function(u){Nn(Ou,u)});var Rf={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}},Up={maximal:!1,acyclic:!1},Nu=function(o){return o.scratch("breadthfirst")},Gp=function(o,l){return o.scratch("breadthfirst",l)};function Ru(u){this.options=Nn({},Rf,Up,u)}Ru.prototype.run=function(){var E,u=this.options,o=u,l=u.cy,f=o.eles,h=f.nodes().filter(function(sn){return!sn.isParent()}),p=f,g=o.directed,w=o.acyclic||o.maximal||o.maximalAdjustments>0,x=Mi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(It(o.roots))E=o.roots;else if(ft(o.roots)){for(var M=[],F=0;F<o.roots.length;F++){var W=l.getElementById(o.roots[F]);M.push(W)}E=l.collection(M)}else if(Be(o.roots))E=l.$(o.roots);else if(g)E=h.roots();else{var j=f.components();E=l.collection();for(var q=function(Jt){var Pn=j[Jt],xn=Pn.maxDegree(!1),un=Pn.filter(function(Rn){return Rn.degree(!1)===xn});E=E.add(un)},J=0;J<j.length;J++)q(J)}var re=[],fe={},he=function(Jt,Pn){null==re[Pn]&&(re[Pn]=[]);var xn=re[Pn].length;re[Pn].push(Jt),Gp(Jt,{index:xn,depth:Pn})};p.bfs({roots:E,directed:o.directed,visit:function(Jt,Pn,xn,un,Rn){var Nr=Jt[0],fr=Nr.id();he(Nr,Rn),fe[fr]=!0}});for(var Me=[],Ie=0;Ie<h.length;Ie++){var ye=h[Ie];fe[ye.id()]||Me.push(ye)}var Se=function(Jt){for(var Pn=re[Jt],xn=0;xn<Pn.length;xn++){var un=Pn[xn];null!=un?Gp(un,{depth:Jt,index:xn}):(Pn.splice(xn,1),xn--)}},we=function(){for(var Jt=0;Jt<re.length;Jt++)Se(Jt)},ke=function(Jt,Pn){for(var xn=Nu(Jt),un=Jt.incomers().filter(function(dt){return dt.isNode()&&f.has(dt)}),Rn=-1,Nr=Jt.id(),fr=0;fr<un.length;fr++){var zt=Nu(un[fr]);Rn=Math.max(Rn,zt.depth)}if(xn.depth<=Rn){if(!o.acyclic&&Pn[Nr])return null;var Ce=Rn+1;return function(Jt,Pn){var xn=Nu(Jt);re[xn.depth][xn.index]=null,he(Jt,Pn)}(Jt,Ce),Pn[Nr]=Ce,!0}return!1};if(g&&w){var Pe=[],Ee={},He=function(Jt){return Pe.push(Jt)};for(h.forEach(function(sn){return Pe.push(sn)});Pe.length>0;){var Ke=Pe.shift(),Ue=ke(Ke,Ee);if(Ue)Ke.outgoers().filter(function(sn){return sn.isNode()&&f.has(sn)}).forEach(He);else if(null===Ue){Sr("Detected double maximal shift for node `"+Ke.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}we();var Ge=0;if(o.avoidOverlap)for(var ot=0;ot<h.length;ot++){var vt=h[ot].layoutDimensions(o);Ge=Math.max(Ge,vt.w,vt.h)}var At={},Ot=function(Jt){if(At[Jt.id()])return At[Jt.id()];for(var Pn=Nu(Jt).depth,xn=Jt.neighborhood(),un=0,Rn=0,Nr=0;Nr<xn.length;Nr++){var fr=xn[Nr];if(!fr.isEdge()&&!fr.isParent()&&h.has(fr)){var $n=Nu(fr);if(null!=$n){var zt=$n.index,Ce=$n.depth;null!=zt&&null!=Ce&&Ce<Pn&&(un+=zt/re[Ce].length,Rn++)}}}return un/=Rn=Math.max(1,Rn),0===Rn&&(un=0),At[Jt.id()]=un,un},Dt=function(Jt,Pn){var Rn=Ot(Jt)-Ot(Pn);return 0===Rn?ja(Jt.id(),Pn.id()):Rn};void 0!==o.depthSort&&(Dt=o.depthSort);for(var _t=0;_t<re.length;_t++)re[_t].sort(Dt),Se(_t);for(var Je=[],Mt=0;Mt<Me.length;Mt++)Je.push(Me[Mt]);re.unshift(Je),we();for(var Nt=0,Wt=0;Wt<re.length;Wt++)Nt=Math.max(re[Wt].length,Nt);var rn_x=x.x1+x.w/2,rn_y=x.x1+x.h/2,Xn=re.reduce(function(sn,Jt){return Math.max(sn,Jt.length)},0);return f.nodes().layoutPositions(this,o,function(Jt){var Pn=Nu(Jt),xn=Pn.depth,un=Pn.index,Rn=re[xn].length,Nr=Math.max(x.w/((o.grid?Xn:Rn)+1),Ge),fr=Math.max(x.h/(re.length+1),Ge),$n=Math.min(x.w/2/re.length,x.h/2/re.length);if($n=Math.max($n,Ge),o.circle){var Ce=$n*xn+$n-(re.length>0&&re[0].length<=3?$n/2:0),dt=2*Math.PI/re[xn].length*un;return 0===xn&&1===re[0].length&&(Ce=1),{x:rn_x+Ce*Math.cos(dt),y:rn_y+Ce*Math.sin(dt)}}return{x:rn_x+(un+1-(Rn+1)/2)*Nr,y:(xn+1)*fr}}),this};var Ic={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function jp(u){this.options=Nn({},Ic,u)}jp.prototype.run=function(){var u=this.options,o=u,l=u.cy,f=o.eles,h=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,p=f.nodes().not(":parent");o.sort&&(p=p.sort(o.sort));for(var M,g=Mi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),w={x:g.x1+g.w/2,y:g.y1+g.h/2},E=(void 0===o.sweep?2*Math.PI-2*Math.PI/p.length:o.sweep)/Math.max(1,p.length-1),F=0,z=0;z<p.length;z++){var j=p[z].layoutDimensions(o);F=Math.max(F,j.w,j.h)}if(M=Xe(o.radius)?o.radius:p.length<=1?0:Math.min(g.h,g.w)/2-F,p.length>1&&o.avoidOverlap){F*=1.75;var re=Math.cos(E)-Math.cos(0),fe=Math.sin(E)-Math.sin(0),he=Math.sqrt(F*F/(re*re+fe*fe));M=Math.max(he,M)}return f.nodes().layoutPositions(this,o,function(Ie,ye){var Se=o.startAngle+ye*E*(h?1:-1),we=M*Math.cos(Se),ke=M*Math.sin(Se);return{x:w.x+we,y:w.y+ke}}),this};var my={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(o){return o.degree()},levelWidth:function(o){return o.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Ld(u){this.options=Nn({},my,u)}Ld.prototype.run=function(){for(var u=this.options,o=u,l=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,f=u.cy,h=o.eles,p=h.nodes().not(":parent"),g=Mi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:f.width(),h:f.height()}),w={x:g.x1+g.w/2,y:g.y1+g.h/2},x=[],E=0,M=0;M<p.length;M++){var z,F=p[M];z=o.concentric(F),x.push({value:z,node:F}),F._private.scratch.concentric=z}p.updateStyle();for(var W=0;W<p.length;W++){var q=p[W].layoutDimensions(o);E=Math.max(E,q.w,q.h)}x.sort(function(sn,Jt){return Jt.value-sn.value});for(var J=o.levelWidth(p),re=[[]],fe=re[0],he=0;he<x.length;he++){var ve=x[he];fe.length>0&&Math.abs(fe[0].value-ve.value)>=J&&re.push(fe=[]),fe.push(ve)}var Ie=E+o.minNodeSpacing;if(!o.avoidOverlap){var ye=re.length>0&&re[0].length>1,Se=Math.min(g.w,g.h)/2-Ie;Ie=Math.min(Ie,Se/(re.length+ye?1:0))}for(var ke=0,Pe=0;Pe<re.length;Pe++){var Ee=re[Pe],He=void 0===o.sweep?2*Math.PI-2*Math.PI/Ee.length:o.sweep,Ne=Ee.dTheta=He/Math.max(1,Ee.length-1);if(Ee.length>1&&o.avoidOverlap){var Ke=Math.cos(Ne)-Math.cos(0),Ue=Math.sin(Ne)-Math.sin(0),Ge=Math.sqrt(Ie*Ie/(Ke*Ke+Ue*Ue));ke=Math.max(Ge,ke)}Ee.r=ke,ke+=Ie}if(o.equidistant){for(var ot=0,ct=0,vt=0;vt<re.length;vt++)ot=Math.max(ot,re[vt].r-ct);ct=0;for(var At=0;At<re.length;At++){var Ot=re[At];0===At&&(ct=Ot.r),Ot.r=ct,ct+=ot}}for(var Dt={},_t=0;_t<re.length;_t++)for(var Je=re[_t],Mt=Je.dTheta,Nt=Je.r,Wt=0;Wt<Je.length;Wt++){var rn=Je[Wt],Xn=o.startAngle+(l?1:-1)*Mt*Wt,ar={x:w.x+Nt*Math.cos(Xn),y:w.y+Nt*Math.sin(Xn)};Dt[rn.node.id()]=ar}return h.nodes().layoutPositions(this,o,function(sn){var Jt=sn.id();return Dt[Jt]}),this};var kf,Wp={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(o,l){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(o){return 2048},nodeOverlap:4,idealEdgeLength:function(o){return 32},edgeElasticity:function(o){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Pf(u){this.options=Nn({},Wp,u),this.options.layout=this}Pf.prototype.run=function(){var u=this.options,o=u.cy,l=this;l.stopped=!1,(!0===u.animate||!1===u.animate)&&l.emit({type:"layoutstart",layout:l}),kf=!0===u.debug;var f=vm(o,l,u);kf&&(void 0)(f),u.randomize&&ym(f);var h=Si(),p=function(){kh(f,o,u),!0===u.fit&&o.fit(u.padding)},g=function(z){return!(l.stopped||z>=u.numIter||(ai(f,u),f.temperature=f.temperature*u.coolingFactor,f.temperature<u.minTemp))},w=function(){if(!0===u.animate||!1===u.animate)p(),l.one("layoutstop",u.stop),l.emit({type:"layoutstop",layout:l});else{var z=u.eles.nodes(),W=Bd(f,u,z);z.layoutPositions(l,u,W)}},x=0,E=!0;if(!0===u.animate)!function F(){for(var z=0;E&&z<u.refresh;)E=g(x),x++,z++;E?(Si()-h>=u.animationThreshold&&p(),mu(F)):($p(f,u),w())}();else{for(;E;)E=g(x),x++;$p(f,u),w()}return this},Pf.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Pf.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var vm=function(o,l,f){for(var h=f.eles.edges(),p=f.eles.nodes(),g=Mi(f.boundingBox?f.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()}),w={isCompound:o.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:p.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:h.size(),temperature:f.initialTemp,clientWidth:g.w,clientHeight:g.h,boundingBox:g},x=f.eles.components(),E={},M=0;M<x.length;M++)for(var F=x[M],z=0;z<F.length;z++)E[F[z].id()]=M;for(M=0;M<w.nodeSize;M++){var q=(j=p[M]).layoutDimensions(f);(J={}).isLocked=j.locked(),J.id=j.data("id"),J.parentId=j.data("parent"),J.cmptId=E[j.id()],J.children=[],J.positionX=j.position("x"),J.positionY=j.position("y"),J.offsetX=0,J.offsetY=0,J.height=q.w,J.width=q.h,J.maxX=J.positionX+J.width/2,J.minX=J.positionX-J.width/2,J.maxY=J.positionY+J.height/2,J.minY=J.positionY-J.height/2,J.padLeft=parseFloat(j.style("padding")),J.padRight=parseFloat(j.style("padding")),J.padTop=parseFloat(j.style("padding")),J.padBottom=parseFloat(j.style("padding")),J.nodeRepulsion=at(f.nodeRepulsion)?f.nodeRepulsion(j):f.nodeRepulsion,w.layoutNodes.push(J),w.idToIndex[J.id]=M}var re=[],fe=0,he=-1,ve=[];for(M=0;M<w.nodeSize;M++){var j,Me=(j=w.layoutNodes[M]).parentId;null!=Me?w.layoutNodes[w.idToIndex[Me]].children.push(j.id):(re[++he]=j.id,ve.push(j.id))}for(w.graphSet.push(ve);fe<=he;){var Ie=re[fe++],Se=w.layoutNodes[w.idToIndex[Ie]].children;if(Se.length>0)for(w.graphSet.push(Se),M=0;M<Se.length;M++)re[++he]=Se[M]}for(M=0;M<w.graphSet.length;M++){var we=w.graphSet[M];for(z=0;z<we.length;z++)w.indexToGraph[w.idToIndex[we[z]]]=M}for(M=0;M<w.edgeSize;M++){var Pe=h[M],Ee={};Ee.id=Pe.data("id"),Ee.sourceId=Pe.data("source"),Ee.targetId=Pe.data("target");var He=at(f.idealEdgeLength)?f.idealEdgeLength(Pe):f.idealEdgeLength,Ne=at(f.edgeElasticity)?f.edgeElasticity(Pe):f.edgeElasticity,Ke=w.idToIndex[Ee.sourceId],Ue=w.idToIndex[Ee.targetId];if(w.indexToGraph[Ke]!=w.indexToGraph[Ue]){for(var ct=Fd(Ee.sourceId,Ee.targetId,w),vt=w.graphSet[ct],st=0,J=w.layoutNodes[Ke];-1===vt.indexOf(J.id);)J=w.layoutNodes[w.idToIndex[J.parentId]],st++;for(J=w.layoutNodes[Ue];-1===vt.indexOf(J.id);)J=w.layoutNodes[w.idToIndex[J.parentId]],st++;He*=st*f.nestingFactor}Ee.idealLength=He,Ee.elasticity=Ne,w.layoutEdges.push(Ee)}return w},Fd=function(o,l,f){var h=Rh(o,l,0,f);return 2>h.count?0:h.graph},Rh=function u(o,l,f,h){var p=h.graphSet[f];if(-1<p.indexOf(o)&&-1<p.indexOf(l))return{count:2,graph:f};for(var g=0,w=0;w<p.length;w++){var M=h.layoutNodes[h.idToIndex[p[w]]].children;if(0!==M.length){var z=u(o,l,h.indexToGraph[h.idToIndex[M[0]]],h);if(0!==z.count){if(1!==z.count)return z;if(2==++g)break}}}return{count:g,graph:f}},ym=function(o,l){for(var f=o.clientWidth,h=o.clientHeight,p=0;p<o.nodeSize;p++){var g=o.layoutNodes[p];0===g.children.length&&!g.isLocked&&(g.positionX=Math.random()*f,g.positionY=Math.random()*h)}},Bd=function(o,l,f){var h=o.boundingBox,p={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return l.boundingBox&&(f.forEach(function(g){var w=o.layoutNodes[o.idToIndex[g.data("id")]];p.x1=Math.min(p.x1,w.positionX),p.x2=Math.max(p.x2,w.positionX),p.y1=Math.min(p.y1,w.positionY),p.y2=Math.max(p.y2,w.positionY)}),p.w=p.x2-p.x1,p.h=p.y2-p.y1),function(g,w){var x=o.layoutNodes[o.idToIndex[g.data("id")]];return l.boundingBox?{x:h.x1+(x.positionX-p.x1)/p.w*h.w,y:h.y1+(x.positionY-p.y1)/p.h*h.h}:{x:x.positionX,y:x.positionY}}},kh=function(o,l,f){var h=f.layout,p=f.eles.nodes(),g=Bd(o,f,p);p.positions(g),!0!==o.ready&&(o.ready=!0,h.one("layoutready",f.ready),h.emit({type:"layoutready",layout:this}))},ai=function(o,l,f){vy(o,l),Ph(o),Hd(o,l),Lf(o),Lh(o)},vy=function(o,l){for(var f=0;f<o.graphSet.length;f++)for(var h=o.graphSet[f],p=h.length,g=0;g<p;g++)for(var w=o.layoutNodes[o.idToIndex[h[g]]],x=g+1;x<p;x++)Ac(w,o.layoutNodes[o.idToIndex[h[x]]],o,l)},Vd=function(o){return-o+2*o*Math.random()},Ac=function(o,l,f,h){if(o.cmptId===l.cmptId||f.isCompound){var w=l.positionX-o.positionX,x=l.positionY-o.positionY;0===w&&0===x&&(w=Vd(1),x=Vd(1));var M=Bs(o,l,w,x);if(M>0)var W=(F=h.nodeOverlap*M)*w/(z=Math.sqrt(w*w+x*x)),j=F*x/z;else{var F,q=ca(o,w,x),J=ca(l,-1*w,-1*x),re=J.x-q.x,fe=J.y-q.y,he=re*re+fe*fe,z=Math.sqrt(he);W=(F=(o.nodeRepulsion+l.nodeRepulsion)/he)*re/z,j=F*fe/z}o.isLocked||(o.offsetX-=W,o.offsetY-=j),l.isLocked||(l.offsetX+=W,l.offsetY+=j)}},Bs=function(o,l,f,h){if(f>0)var p=o.maxX-l.minX;else p=l.maxX-o.minX;if(h>0)var g=o.maxY-l.minY;else g=l.maxY-o.minY;return p>=0&&g>=0?Math.sqrt(p*p+g*g):0},ca=function(o,l,f){var h=o.positionX,p=o.positionY,g=o.height||1,w=o.width||1,x=f/l,E=g/w,M={};return 0===l&&0<f||0===l&&0>f?(M.x=h,M.y=p+g/2,M):0<l&&-1*E<=x&&x<=E?(M.x=h+w/2,M.y=p+w*f/2/l,M):0>l&&-1*E<=x&&x<=E?(M.x=h-w/2,M.y=p-w*f/2/l,M):0<f&&(x<=-1*E||x>=E)?(M.x=h+g*l/2/f,M.y=p+g/2,M):(0>f&&(x<=-1*E||x>=E)&&(M.x=h-g*l/2/f,M.y=p-g/2),M)},Ph=function(o,l){for(var f=0;f<o.edgeSize;f++){var h=o.layoutEdges[f],g=o.layoutNodes[o.idToIndex[h.sourceId]],x=o.layoutNodes[o.idToIndex[h.targetId]],E=x.positionX-g.positionX,M=x.positionY-g.positionY;if(0!==E||0!==M){var F=ca(g,E,M),z=ca(x,-1*E,-1*M),W=z.x-F.x,j=z.y-F.y,q=Math.sqrt(W*W+j*j),J=Math.pow(h.idealLength-q,2)/h.elasticity;if(0!==q)var re=J*W/q,fe=J*j/q;else re=0,fe=0;g.isLocked||(g.offsetX+=re,g.offsetY+=fe),x.isLocked||(x.offsetX-=re,x.offsetY-=fe)}}},Hd=function(o,l){if(0!==l.gravity)for(var h=0;h<o.graphSet.length;h++){var p=o.graphSet[h],g=p.length;if(0===h)var w=o.clientHeight/2,x=o.clientWidth/2;else{var M=o.layoutNodes[o.idToIndex[o.layoutNodes[o.idToIndex[p[0]]].parentId]];w=M.positionX,x=M.positionY}for(var F=0;F<g;F++){var z=o.layoutNodes[o.idToIndex[p[F]]];if(!z.isLocked){var W=w-z.positionX,j=x-z.positionY,q=Math.sqrt(W*W+j*j);if(q>1){var re=l.gravity*j/q;z.offsetX+=l.gravity*W/q,z.offsetY+=re}}}}},Lf=function(o,l){var f=[],h=0,p=-1;for(f.push.apply(f,o.graphSet[0]),p+=o.graphSet[0].length;h<=p;){var g=f[h++],x=o.layoutNodes[o.idToIndex[g]],E=x.children;if(0<E.length&&!x.isLocked){for(var M=x.offsetX,F=x.offsetY,z=0;z<E.length;z++){var W=o.layoutNodes[o.idToIndex[E[z]]];W.offsetX+=M,W.offsetY+=F,f[++p]=E[z]}x.offsetX=0,x.offsetY=0}}},Lh=function(o,l){for(var f=0;f<o.nodeSize;f++)0<(h=o.layoutNodes[f]).children.length&&(h.maxX=void 0,h.minX=void 0,h.maxY=void 0,h.minY=void 0);for(f=0;f<o.nodeSize;f++)if(!(0<(h=o.layoutNodes[f]).children.length||h.isLocked)){var p=zd(h.offsetX,h.offsetY,o.temperature);h.positionX+=p.x,h.positionY+=p.y,h.offsetX=0,h.offsetY=0,h.minX=h.positionX-h.width,h.maxX=h.positionX+h.width,h.minY=h.positionY-h.height,h.maxY=h.positionY+h.height,Ff(h,o)}for(f=0;f<o.nodeSize;f++){var h;0<(h=o.layoutNodes[f]).children.length&&!h.isLocked&&(h.positionX=(h.maxX+h.minX)/2,h.positionY=(h.maxY+h.minY)/2,h.width=h.maxX-h.minX,h.height=h.maxY-h.minY)}},zd=function(o,l,f){var h=Math.sqrt(o*o+l*l);if(h>f)var p={x:f*o/h,y:f*l/h};else p={x:o,y:l};return p},Ff=function u(o,l){var f=o.parentId;if(null!=f){var h=l.layoutNodes[l.idToIndex[f]],p=!1;if((null==h.maxX||o.maxX+h.padRight>h.maxX)&&(h.maxX=o.maxX+h.padRight,p=!0),(null==h.minX||o.minX-h.padLeft<h.minX)&&(h.minX=o.minX-h.padLeft,p=!0),(null==h.maxY||o.maxY+h.padBottom>h.maxY)&&(h.maxY=o.maxY+h.padBottom,p=!0),(null==h.minY||o.minY-h.padTop<h.minY)&&(h.minY=o.minY-h.padTop,p=!0),p)return u(h,l)}},$p=function(o,l){for(var f=o.layoutNodes,h=[],p=0;p<f.length;p++){var g=f[p],w=g.cmptId;(h[w]=h[w]||[]).push(g)}var E=0;for(p=0;p<h.length;p++)if(M=h[p]){M.x1=1/0,M.x2=-1/0,M.y1=1/0,M.y2=-1/0;for(var F=0;F<M.length;F++){var z=M[F];M.x1=Math.min(M.x1,z.positionX-z.width/2),M.x2=Math.max(M.x2,z.positionX+z.width/2),M.y1=Math.min(M.y1,z.positionY-z.height/2),M.y2=Math.max(M.y2,z.positionY+z.height/2)}M.w=M.x2-M.x1,M.h=M.y2-M.y1,E+=M.w*M.h}h.sort(function(fe,he){return he.w*he.h-fe.w*fe.h});var W=0,j=0,q=0,J=0,re=Math.sqrt(E)*o.clientWidth/o.clientHeight;for(p=0;p<h.length;p++){var M;if(M=h[p]){for(F=0;F<M.length;F++)(z=M[F]).isLocked||(z.positionX+=W-M.x1,z.positionY+=j-M.y1);W+=M.w+l.componentSpacing,q+=M.w+l.componentSpacing,J=Math.max(J,M.h),q>re&&(j+=J+l.componentSpacing,W=0,q=0,J=0)}}},Bf={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(o){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Vf(u){this.options=Nn({},Bf,u)}Vf.prototype.run=function(){var u=this.options,o=u,l=u.cy,f=o.eles,h=f.nodes().not(":parent");o.sort&&(h=h.sort(o.sort));var p=Mi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(0===p.h||0===p.w)f.nodes().layoutPositions(this,o,function(At){return{x:p.x1,y:p.y1}});else{var g=h.size(),w=Math.sqrt(g*p.h/p.w),x=Math.round(w),E=Math.round(p.w/p.h*w),M=function(Ot){if(null==Ot)return Math.min(x,E);Math.min(x,E)==x?x=Ot:E=Ot},F=function(Ot){if(null==Ot)return Math.max(x,E);Math.max(x,E)==x?x=Ot:E=Ot},z=o.rows,W=null!=o.cols?o.cols:o.columns;if(null!=z&&null!=W)x=z,E=W;else if(null!=z&&null==W)x=z,E=Math.ceil(g/x);else if(null==z&&null!=W)E=W,x=Math.ceil(g/E);else if(E*x>g){var j=M(),q=F();(j-1)*q>=g?M(j-1):(q-1)*j>=g&&F(q-1)}else for(;E*x<g;){var J=M(),re=F();(re+1)*J>=g?F(re+1):M(J+1)}var fe=p.w/E,he=p.h/x;if(o.condense&&(fe=0,he=0),o.avoidOverlap)for(var ve=0;ve<h.length;ve++){var Me=h[ve],Ie=Me._private.position;(null==Ie.x||null==Ie.y)&&(Ie.x=0,Ie.y=0);var ye=Me.layoutDimensions(o),Se=o.avoidOverlapPadding,ke=ye.h+Se;fe=Math.max(fe,ye.w+Se),he=Math.max(he,ke)}for(var Pe={},Ee=function(Ot,Dt){return!!Pe["c-"+Ot+"-"+Dt]},He=function(Ot,Dt){Pe["c-"+Ot+"-"+Dt]=!0},Ne=0,Ke=0,Ue=function(){++Ke>=E&&(Ke=0,Ne++)},Ge={},ot=0;ot<h.length;ot++){var ct=h[ot],vt=o.position(ct);if(vt&&(void 0!==vt.row||void 0!==vt.col)){var st={row:vt.row,col:vt.col};if(void 0===st.col)for(st.col=0;Ee(st.row,st.col);)st.col++;else if(void 0===st.row)for(st.row=0;Ee(st.row,st.col);)st.row++;Ge[ct.id()]=st,He(st.row,st.col)}}h.layoutPositions(this,o,function(Ot,Dt){var _t,Je;if(Ot.locked()||Ot.isParent())return!1;var Mt=Ge[Ot.id()];if(Mt)_t=Mt.col*fe+fe/2+p.x1,Je=Mt.row*he+he/2+p.y1;else{for(;Ee(Ne,Ke);)Ue();_t=Ke*fe+fe/2+p.x1,Je=Ne*he+he/2+p.y1,He(Ne,Ke),Ue()}return{x:_t,y:Je}})}return this};var Kr={ready:function(){},stop:function(){}};function Ud(u){this.options=Nn({},Kr,u)}Ud.prototype.run=function(){var u=this.options,o=u.eles,l=this;return l.emit("layoutstart"),o.nodes().positions(function(){return{x:0,y:0}}),l.one("layoutready",u.ready),l.emit("layoutready"),l.one("layoutstop",u.stop),l.emit("layoutstop"),this},Ud.prototype.stop=function(){return this};var bm={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function il(u){this.options=Nn({},bm,u)}il.prototype.run=function(){var u=this.options,l=u.eles.nodes(),f=at(u.positions);return l.layoutPositions(this,u,function(p,g){var w=function h(p){return null==u.positions?function(o){return{x:o.x,y:o.y}}(p.position()):f?u.positions(p):u.positions[p._private.data.id]??null}(p);return!p.locked()&&null!=w&&w}),this};var Pu={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Gd(u){this.options=Nn({},Pu,u)}Gd.prototype.run=function(){var u=this.options,o=u.cy,l=u.eles,f=Mi(u.boundingBox?u.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});return l.nodes().layoutPositions(this,u,function(g,w){return{x:f.x1+Math.round(Math.random()*f.w),y:f.y1+Math.round(Math.random()*f.h)}}),this};var Yp=[{name:"breadthfirst",impl:Ru},{name:"circle",impl:jp},{name:"concentric",impl:Ld},{name:"cose",impl:Pf},{name:"grid",impl:Vf},{name:"null",impl:Ud},{name:"preset",impl:il},{name:"random",impl:Gd}];function Ii(u){this.options=u,this.notifications=0}var Lu=function(){},Xp=function(){throw new Error("A headless instance can not render images")};Ii.prototype={recalculateRenderedStyle:Lu,notify:function(){this.notifications++},init:Lu,isHeadless:function(){return!0},png:Xp,jpg:Xp};var Ci={arrowShapeWidth:.3,registerArrowShapes:function(){var u=this.arrowShapes={},o=this,l=function(E,M,F,z,W,j,q){return W.x-F/2-q<=E&&E<=W.x+F/2+q&&W.y-F/2-q<=M&&M<=W.y+F/2+q},f=function(E,M,F,z,W){var j=E*Math.cos(z)-M*Math.sin(z),q=E*Math.sin(z)+M*Math.cos(z);return{x:j*F+W.x,y:q*F+W.y}},h=function(E,M,F,z){for(var W=[],j=0;j<E.length;j+=2)W.push(f(E[j],E[j+1],M,F,z));return W},p=function(E){for(var M=[],F=0;F<E.length;F++){var z=E[F];M.push(z.x,z.y)}return M},g=function(E){return E.pstyle("width").pfValue*E.pstyle("arrow-scale").pfValue*2},w=function(E,M){Be(M)&&(M=u[M]),u[E]=Nn({name:E,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(z,W,j,q,J,re){var fe=p(h(this.points,j+2*re,q,J));return Ko(z,W,fe)},roughCollide:l,draw:function(z,W,j,q){var J=h(this.points,W,j,q);o.arrowShapeImpl("polygon")(z,J)},spacing:function(z){return 0},gap:g},M)};w("none",{collide:Ms,roughCollide:Ms,draw:nd,spacing:rc,gap:rc}),w("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),w("arrow","triangle"),w("triangle-backcurve",{points:u.triangle.points,controlPoint:[0,-.15],roughCollide:l,draw:function(E,M,F,z,W){var j=h(this.points,M,F,z),q=this.controlPoint,J=f(q[0],q[1],M,F,z);o.arrowShapeImpl(this.name)(E,j,J)},gap:function(E){return.8*g(E)}}),w("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(E,M,F,z,W,j,q){var J=p(h(this.points,F+2*q,z,W)),re=p(h(this.pointsTee,F+2*q,z,W));return Ko(E,M,J)||Ko(E,M,re)},draw:function(E,M,F,z,W){var j=h(this.points,M,F,z),q=h(this.pointsTee,M,F,z);o.arrowShapeImpl(this.name)(E,j,q)}}),w("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(E,M,F,z,W,j,q){var J=W,re=Math.pow(J.x-E,2)+Math.pow(J.y-M,2)<=Math.pow((F+2*q)*this.radius,2),fe=p(h(this.points,F+2*q,z,W));return Ko(E,M,fe)||re},draw:function(E,M,F,z,W){var j=h(this.pointsTr,M,F,z);o.arrowShapeImpl(this.name)(E,j,z.x,z.y,this.radius*M)},spacing:function(E){return o.getArrowWidth(E.pstyle("width").pfValue,E.pstyle("arrow-scale").value)*this.radius}}),w("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(E,M){var F=this.baseCrossLinePts.slice(),z=M/E;return F[3]=F[3]-z,F[5]=F[5]-z,F},collide:function(E,M,F,z,W,j,q){var J=p(h(this.points,F+2*q,z,W)),re=p(h(this.crossLinePts(F,j),F+2*q,z,W));return Ko(E,M,J)||Ko(E,M,re)},draw:function(E,M,F,z,W){var j=h(this.points,M,F,z),q=h(this.crossLinePts(M,W),M,F,z);o.arrowShapeImpl(this.name)(E,j,q)}}),w("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(E){return.525*g(E)}}),w("circle",{radius:.15,collide:function(E,M,F,z,W,j,q){var J=W;return Math.pow(J.x-E,2)+Math.pow(J.y-M,2)<=Math.pow((F+2*q)*this.radius,2)},draw:function(E,M,F,z,W){o.arrowShapeImpl(this.name)(E,z.x,z.y,this.radius*M)},spacing:function(E){return o.getArrowWidth(E.pstyle("width").pfValue,E.pstyle("arrow-scale").value)*this.radius}}),w("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(E){return 1},gap:function(E){return 1}}),w("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),w("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(E){return E.pstyle("width").pfValue*E.pstyle("arrow-scale").value}}),w("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(E){return.95*E.pstyle("width").pfValue*E.pstyle("arrow-scale").value}})}},ys={projectIntoViewport:function(u,o){var l=this.cy,f=this.findContainerClientCoords(),h=f[0],p=f[1],g=f[4],w=l.pan(),x=l.zoom();return[((u-h)/g-w.x)/x,((o-p)/g-w.y)/x]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var u=this.container,o=u.getBoundingClientRect(),l=oe.getComputedStyle(u),f=function(re){return parseFloat(l.getPropertyValue(re))},h_left=f("padding-left"),h_right=f("padding-right"),h_top=f("padding-top"),h_bottom=f("padding-bottom"),p_left=f("border-left-width"),p_right=f("border-right-width"),p_top=f("border-top-width"),g=(f("border-bottom-width"),u.clientWidth);return this.containerBB=[o.left+h_left+p_left,o.top+h_top+p_top,g-(h_left+h_right),u.clientHeight-(h_top+h_bottom),o.width/(g+(p_left+p_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(u,o,l,f){return this.findNearestElements(u,o,l,f)[0]},findNearestElements:function(u,o,l,f){var j,q,h=this,p=this,g=p.getCachedZSortedEles(),w=[],x=p.cy.zoom(),E=p.cy.hasCompoundNodes(),M=(f?24:8)/x,F=(f?8:2)/x,z=(f?8:2)/x,W=1/0;function J(ye,Se){if(ye.isNode()){if(q)return;q=ye,w.push(ye)}if(ye.isEdge()&&(null==Se||Se<W))if(j){if(j.pstyle("z-compound-depth").value===ye.pstyle("z-compound-depth").value&&j.pstyle("z-compound-depth").value===ye.pstyle("z-compound-depth").value)for(var we=0;we<w.length;we++)if(w[we].isEdge()){w[we]=ye,j=ye,W=Se??W;break}}else w.push(ye),j=ye,W=Se??W}function re(ye){var Se=ye.outerWidth()+2*F,we=ye.outerHeight()+2*F,ke=Se/2,Pe=we/2,Ee=ye.position();if(Ee.x-ke<=u&&u<=Ee.x+ke&&Ee.y-Pe<=o&&o<=Ee.y+Pe&&p.nodeShapes[h.getNodeShape(ye)].checkPoint(u,o,0,Se,we,Ee.x,Ee.y))return J(ye,0),!0}function fe(ye){var Ke,Se=ye._private,we=Se.rscratch,ke=ye.pstyle("width").pfValue,Pe=ye.pstyle("arrow-scale").value,Ee=ke/2+M,He=Ee*Ee,Ne=2*Ee,ot=Se.source,ct=Se.target;if("segments"===we.edgeType||"straight"===we.edgeType||"haystack"===we.edgeType){for(var Ue=we.allpts,Ge=0;Ge+3<Ue.length;Ge+=2)if(hl(u,o,Ue[Ge],Ue[Ge+1],Ue[Ge+2],Ue[Ge+3],Ne)&&He>(Ke=pl(u,o,Ue[Ge],Ue[Ge+1],Ue[Ge+2],Ue[Ge+3])))return J(ye,Ke),!0}else if("bezier"===we.edgeType||"multibezier"===we.edgeType||"self"===we.edgeType||"compound"===we.edgeType)for(Ue=we.allpts,Ge=0;Ge+5<we.allpts.length;Ge+=4)if(Qr(u,o,Ue[Ge],Ue[Ge+1],Ue[Ge+2],Ue[Ge+3],Ue[Ge+4],Ue[Ge+5],Ne)&&He>(Ke=yu(u,o,Ue[Ge],Ue[Ge+1],Ue[Ge+2],Ue[Ge+3],Ue[Ge+4],Ue[Ge+5])))return J(ye,Ke),!0;ot=ot||Se.source,ct=ct||Se.target;var vt=h.getArrowWidth(ke,Pe),st=[{name:"source",x:we.arrowStartX,y:we.arrowStartY,angle:we.srcArrowAngle},{name:"target",x:we.arrowEndX,y:we.arrowEndY,angle:we.tgtArrowAngle},{name:"mid-source",x:we.midX,y:we.midY,angle:we.midsrcArrowAngle},{name:"mid-target",x:we.midX,y:we.midY,angle:we.midtgtArrowAngle}];for(Ge=0;Ge<st.length;Ge++){var mt=st[Ge],At=p.arrowShapes[ye.pstyle(mt.name+"-arrow-shape").value],Ot=ye.pstyle("width").pfValue;if(At.roughCollide(u,o,vt,mt.angle,{x:mt.x,y:mt.y},Ot,M)&&At.collide(u,o,vt,mt.angle,{x:mt.x,y:mt.y},Ot,M))return J(ye),!0}E&&w.length>0&&(re(ot),re(ct))}function he(ye,Se,we){return Qi(ye,Se,we)}function ve(ye,Se){var Pe,we=ye._private,ke=z;Pe=Se?Se+"-":"",ye.boundingBox();var Ee=we.labelBounds[Se||"main"],He=ye.pstyle(Pe+"label").value;if("yes"===ye.pstyle("text-events").strValue&&He){var Ke=he(we.rscratch,"labelX",Se),Ue=he(we.rscratch,"labelY",Se),Ge=he(we.rscratch,"labelAngle",Se),ot=ye.pstyle(Pe+"text-margin-x").pfValue,ct=ye.pstyle(Pe+"text-margin-y").pfValue,vt=Ee.x1-ke-ot,st=Ee.x2+ke-ot,mt=Ee.y1-ke-ct,At=Ee.y2+ke-ct;if(Ge){var Ot=Math.cos(Ge),Dt=Math.sin(Ge),_t=function(ar,sn){return{x:(ar-=Ke)*Ot-(sn-=Ue)*Dt+Ke,y:ar*Dt+sn*Ot+Ue}},Je=_t(vt,mt),Mt=_t(vt,At),Nt=_t(st,mt),Wt=_t(st,At);if(Ko(u,o,[Je.x+ot,Je.y+ct,Nt.x+ot,Nt.y+ct,Wt.x+ot,Wt.y+ct,Mt.x+ot,Mt.y+ct]))return J(ye),!0}else if(Ya(Ee,u,o))return J(ye),!0}}l&&(g=g.interactive);for(var Me=g.length-1;Me>=0;Me--){var Ie=g[Me];Ie.isNode()?re(Ie)||ve(Ie):fe(Ie)||ve(Ie)||ve(Ie,"source")||ve(Ie,"target")}return w},getAllInBox:function(u,o,l,f){for(var h=this.getCachedZSortedEles().interactive,p=[],g=Math.min(u,l),w=Math.max(u,l),x=Math.min(o,f),E=Math.max(o,f),M=Mi({x1:u=g,y1:o=x,x2:l=w,y2:f=E}),F=0;F<h.length;F++){var z=h[F];if(z.isNode()){var W=z,j=W.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});tr(M,j)&&!od(j,M)&&p.push(W)}else{var q=z,J=q._private,re=J.rscratch;if(null!=re.startX&&null!=re.startY&&!Ya(M,re.startX,re.startY)||null!=re.endX&&null!=re.endY&&!Ya(M,re.endX,re.endY))continue;if("bezier"===re.edgeType||"multibezier"===re.edgeType||"self"===re.edgeType||"compound"===re.edgeType||"segments"===re.edgeType||"haystack"===re.edgeType){for(var fe=J.rstyle.bezierPts||J.rstyle.linePts||J.rstyle.haystackPts,he=!0,ve=0;ve<fe.length;ve++)if(!ff(M,fe[ve])){he=!1;break}he&&p.push(q)}else("haystack"===re.edgeType||"straight"===re.edgeType)&&p.push(q)}}return p}},a={calculateArrowAngles:function(u){var x,E,M,F,z,W,o=u._private.rscratch,l="haystack"===o.edgeType,f="bezier"===o.edgeType,h="multibezier"===o.edgeType,p="segments"===o.edgeType,g="compound"===o.edgeType,w="self"===o.edgeType;l?(M=o.haystackPts[0],F=o.haystackPts[1],z=o.haystackPts[2],W=o.haystackPts[3]):(M=o.arrowStartX,F=o.arrowStartY,z=o.arrowEndX,W=o.arrowEndY),re=o.midX,fe=o.midY,p?(x=M-o.segpts[0],E=F-o.segpts[1]):h||g||w||f?(x=M-di((j=o.allpts)[0],j[2],j[4],.1),E=F-di(j[1],j[3],j[5],.1)):(x=M-re,E=F-fe),o.srcArrowAngle=ci(x,E);var re=o.midX,fe=o.midY;if(l&&(re=(M+z)/2,fe=(F+W)/2),x=z-M,E=W-F,p)if((j=o.allpts).length/2%2==0)x=j[he=j.length/2]-j[ve=he-2],E=j[he+1]-j[ve+1];else{var he,ve,Me=2+(he=j.length/2-1);x=j[he]-j[ve=he-2],E=j[he+1]-j[ve+1]}else if(h||g||w){var ye,Se,we,ke,Ee,Pe,He,j=o.allpts;o.ctrlpts.length/2%2==0?(ye=di(j[Pe=j.length/2-1],j[Ee=Pe+2],j[He=Ee+2],0),Se=di(j[Pe+1],j[Ee+1],j[He+1],0),we=di(j[Pe],j[Ee],j[He],1e-4),ke=di(j[Pe+1],j[Ee+1],j[He+1],1e-4)):(ye=di(j[Pe=(Ee=j.length/2-1)-2],j[Ee],j[He=Ee+2],.4999),Se=di(j[Pe+1],j[Ee+1],j[He+1],.4999),we=di(j[Pe],j[Ee],j[He],.5),ke=di(j[Pe+1],j[Ee+1],j[He+1],.5)),x=we-ye,E=ke-Se}if(o.midtgtArrowAngle=ci(x,E),o.midDispX=x,o.midDispY=E,x*=-1,E*=-1,p&&(j=o.allpts).length/2%2!=0&&(x=-(j[Me=2+(he=j.length/2-1)]-j[he]),E=-(j[Me+1]-j[he+1])),o.midsrcArrowAngle=ci(x,E),p)x=z-o.segpts[o.segpts.length-2],E=W-o.segpts[o.segpts.length-1];else if(h||g||w||f){var Ne=(j=o.allpts).length;x=z-di(j[Ne-6],j[Ne-4],j[Ne-2],.9),E=W-di(j[Ne-5],j[Ne-3],j[Ne-1],.9)}else x=z-re,E=W-fe;o.tgtArrowAngle=ci(x,E)}};a.getArrowWidth=a.getArrowHeight=function(u,o){var l=this.arrowWidthCache=this.arrowWidthCache||{},f=l[u+", "+o];return f||(f=Math.max(Math.pow(13.37*u,.9),29)*o,l[u+", "+o]=f,f)};var d={};function y(u){var o=[];if(null!=u){for(var l=0;l<u.length;l+=2)o.push({x:u[l],y:u[l+1]});return o}}d.findHaystackPoints=function(u){for(var o=0;o<u.length;o++){var l=u[o],f=l._private,h=f.rscratch;if(!h.haystack){var p=2*Math.random()*Math.PI;h.source={x:Math.cos(p),y:Math.sin(p)},p=2*Math.random()*Math.PI,h.target={x:Math.cos(p),y:Math.sin(p)}}var g=f.source,w=f.target,x=g.position(),E=w.position(),M=g.width(),F=w.width(),z=g.height(),W=w.height(),q=l.pstyle("haystack-radius").value/2;h.haystackPts=h.allpts=[h.source.x*M*q+x.x,h.source.y*z*q+x.y,h.target.x*F*q+E.x,h.target.y*W*q+E.y],h.midX=(h.allpts[0]+h.allpts[2])/2,h.midY=(h.allpts[1]+h.allpts[3])/2,h.edgeType="haystack",h.haystack=!0,this.storeEdgeProjections(l),this.calculateArrowAngles(l),this.recalculateEdgeLabelProjections(l),this.calculateLabelAngles(l)}},d.findSegmentsPoints=function(u,o){var l=u._private.rscratch,f=o.posPts,h=o.intersectionPts,p=o.vectorNormInverse,g=u.pstyle("edge-distances").value,w=u.pstyle("segment-weights"),x=u.pstyle("segment-distances"),E=Math.min(w.pfValue.length,x.pfValue.length);l.edgeType="segments",l.segpts=[];for(var M=0;M<E;M++){var F=w.pfValue[M],z=x.pfValue[M],W=1-F,q="node-position"===g?f:h,J={x:q.x1*W+q.x2*F,y:q.y1*W+q.y2*F};l.segpts.push(J.x+p.x*z,J.y+p.y*z)}},d.findLoopPoints=function(u,o,l,f){var h=u._private.rscratch,p=o.dirCounts,g=o.srcPos,w=u.pstyle("control-point-distances"),x=w?w.pfValue[0]:void 0,E=u.pstyle("loop-direction").pfValue,M=u.pstyle("loop-sweep").pfValue,F=u.pstyle("control-point-step-size").pfValue;h.edgeType="self";var z=l,W=F;f&&(z=0,W=x);var j=E-Math.PI/2,q=j-M/2,J=j+M/2,re=E+"_"+M;z=void 0===p[re]?p[re]=0:++p[re],h.ctrlpts=[g.x+1.4*Math.cos(q)*W*(z/3+1),g.y+1.4*Math.sin(q)*W*(z/3+1),g.x+1.4*Math.cos(J)*W*(z/3+1),g.y+1.4*Math.sin(J)*W*(z/3+1)]},d.findCompoundLoopPoints=function(u,o,l,f){var h=u._private.rscratch;h.edgeType="compound";var p=o.srcPos,g=o.tgtPos,w=o.srcW,x=o.srcH,E=o.tgtW,M=o.tgtH,F=u.pstyle("control-point-step-size").pfValue,z=u.pstyle("control-point-distances"),j=l,q=F;f&&(j=0,q=z?z.pfValue[0]:void 0);var re={x:p.x-w/2,y:p.y-x/2},fe={x:g.x-E/2,y:g.y-M/2},he={x:Math.min(re.x,fe.x),y:Math.min(re.y,fe.y)},Me=Math.max(.5,Math.log(.01*w)),Ie=Math.max(.5,Math.log(.01*E));h.ctrlpts=[he.x,he.y-(1+Math.pow(50,1.12)/100)*q*(j/3+1)*Me,he.x-(1+Math.pow(50,1.12)/100)*q*(j/3+1)*Ie,he.y]},d.findStraightEdgePoints=function(u){u._private.rscratch.edgeType="straight"},d.findBezierPoints=function(u,o,l,f,h){var p=u._private.rscratch,g=o.vectorNormInverse,w=o.posPts,x=o.intersectionPts,E=u.pstyle("edge-distances").value,M=u.pstyle("control-point-step-size").pfValue,F=u.pstyle("control-point-distances"),z=u.pstyle("control-point-weights"),W=F&&z?Math.min(F.value.length,z.value.length):1,j=F?F.pfValue[0]:void 0,q=z.value[0],J=f;p.edgeType=J?"multibezier":"bezier",p.ctrlpts=[];for(var re=0;re<W;re++){var he,fe=(.5-o.eles.length/2+l)*M*(h?-1:1),ve=mo(fe);J&&(j=F?F.pfValue[re]:M,q=z.value[re]);var Me=void 0!==(he=f?j:void 0!==j?ve*j:void 0)?he:fe,Ie=1-q,Se="node-position"===E?w:x,we={x:Se.x1*Ie+Se.x2*q,y:Se.y1*Ie+Se.y2*q};p.ctrlpts.push(we.x+g.x*Me,we.y+g.y*Me)}},d.findTaxiPoints=function(u,o){var l=u._private.rscratch;l.edgeType="segments";var f="vertical",h="horizontal",p="leftward",g="rightward",w="downward",x="upward",M=o.posPts,F=o.srcW,z=o.srcH,W=o.tgtW,j=o.tgtH,J="node-position"!==u.pstyle("edge-distances").value,re=u.pstyle("taxi-direction").value,fe=re,he=u.pstyle("taxi-turn"),ve="%"===he.units,Me=he.pfValue,Ie=Me<0,ye=u.pstyle("taxi-turn-min-distance").pfValue,we=J?(z+j)/2:0,ke=M.x2-M.x1,Pe=M.y2-M.y1,Ee=function(Dn,Ur){return Dn>0?Math.max(Dn-Ur,0):Math.min(Dn+Ur,0)},He=Ee(ke,J?(F+W)/2:0),Ne=Ee(Pe,we),Ke=!1;"auto"===fe?re=Math.abs(He)>Math.abs(Ne)?h:f:fe===x||fe===w?(re=f,Ke=!0):(fe===p||fe===g)&&(re=h,Ke=!0);var st,Ue=re===f,Ge=Ue?Ne:He,ot=Ue?Pe:ke,ct=mo(ot),vt=!1;(!Ke||!ve&&!Ie)&&(fe===w&&ot<0||fe===x&&ot>0||fe===p&&ot>0||fe===g&&ot<0)&&(Ge=(ct*=-1)*Math.abs(Ge),vt=!0);var Ot=function(Dn){return Math.abs(Dn)<ye||Math.abs(Dn)>=Math.abs(Ge)},Dt=Ot(st=ve?(Me<0?1+Me:Me)*Ge:(Me<0?Ge:0)+Me*ct),_t=Ot(Math.abs(Ge)-Math.abs(st));if(!Dt&&!_t||vt)if(Ue){var Ce=M.y1+st+(J?z/2*ct:0);l.segpts=[M.x1,Ce,M.x2,Ce]}else{var Et=M.x1+st+(J?F/2*ct:0);l.segpts=[Et,M.y1,Et,M.y2]}else if(Ue){var Mt=Math.abs(ot)<=z/2,Nt=Math.abs(ke)<=W/2;if(Mt){var Wt=(M.x1+M.x2)/2;l.segpts=[Wt,M.y1,Wt,M.y2]}else if(Nt){var ar=(M.y1+M.y2)/2;l.segpts=[M.x1,ar,M.x2,ar]}else l.segpts=[M.x1,M.y2]}else{var Pn=Math.abs(ot)<=F/2,xn=Math.abs(Pe)<=j/2;if(Pn){var un=(M.y1+M.y2)/2;l.segpts=[M.x1,un,M.x2,un]}else if(xn){var fr=(M.x1+M.x2)/2;l.segpts=[fr,M.y1,fr,M.y2]}else l.segpts=[M.x2,M.y1]}},d.tryToCorrectInvalidPoints=function(u,o){var l=u._private.rscratch;if("bezier"===l.edgeType){var f=o.srcPos,h=o.tgtPos,p=o.srcW,g=o.srcH,w=o.tgtW,x=o.tgtH,E=o.srcShape,M=o.tgtShape,F=!Xe(l.startX)||!Xe(l.startY),z=!Xe(l.arrowStartX)||!Xe(l.arrowStartY),W=!Xe(l.endX)||!Xe(l.endY),j=!Xe(l.arrowEndX)||!Xe(l.arrowEndY),re=this.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,fe=zi({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.startX,y:l.startY}),he=fe<re,ve=zi({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.endX,y:l.endY}),Me=ve<re,Ie=!1;if(F||z||he){Ie=!0;var ye={x:l.ctrlpts[0]-f.x,y:l.ctrlpts[1]-f.y},Se=Math.sqrt(ye.x*ye.x+ye.y*ye.y),we={x:ye.x/Se,y:ye.y/Se},ke=Math.max(p,g),Pe={x:l.ctrlpts[0]+2*we.x*ke,y:l.ctrlpts[1]+2*we.y*ke},Ee=E.intersectLine(f.x,f.y,p,g,Pe.x,Pe.y,0);he?(l.ctrlpts[0]=l.ctrlpts[0]+we.x*(re-fe),l.ctrlpts[1]=l.ctrlpts[1]+we.y*(re-fe)):(l.ctrlpts[0]=Ee[0]+we.x*re,l.ctrlpts[1]=Ee[1]+we.y*re)}if(W||j||Me){Ie=!0;var He={x:l.ctrlpts[0]-h.x,y:l.ctrlpts[1]-h.y},Ne=Math.sqrt(He.x*He.x+He.y*He.y),Ke={x:He.x/Ne,y:He.y/Ne},Ue=Math.max(p,g),Ge={x:l.ctrlpts[0]+2*Ke.x*Ue,y:l.ctrlpts[1]+2*Ke.y*Ue},ot=M.intersectLine(h.x,h.y,w,x,Ge.x,Ge.y,0);Me?(l.ctrlpts[0]=l.ctrlpts[0]+Ke.x*(re-ve),l.ctrlpts[1]=l.ctrlpts[1]+Ke.y*(re-ve)):(l.ctrlpts[0]=ot[0]+Ke.x*re,l.ctrlpts[1]=ot[1]+Ke.y*re)}Ie&&this.findEndpoints(u)}},d.storeAllpts=function(u){var o=u._private.rscratch;if("multibezier"===o.edgeType||"bezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType){o.allpts=[],o.allpts.push(o.startX,o.startY);for(var l=0;l+1<o.ctrlpts.length;l+=2)o.allpts.push(o.ctrlpts[l],o.ctrlpts[l+1]),l+3<o.ctrlpts.length&&o.allpts.push((o.ctrlpts[l]+o.ctrlpts[l+2])/2,(o.ctrlpts[l+1]+o.ctrlpts[l+3])/2);var f;o.allpts.push(o.endX,o.endY),o.ctrlpts.length/2%2==0?(o.midX=o.allpts[f=o.allpts.length/2-1],o.midY=o.allpts[f+1]):(o.midX=di(o.allpts[f=o.allpts.length/2-3],o.allpts[f+2],o.allpts[f+4],.5),o.midY=di(o.allpts[f+1],o.allpts[f+3],o.allpts[f+5],.5))}else if("straight"===o.edgeType)o.allpts=[o.startX,o.startY,o.endX,o.endY],o.midX=(o.startX+o.endX+o.arrowStartX+o.arrowEndX)/4,o.midY=(o.startY+o.endY+o.arrowStartY+o.arrowEndY)/4;else if("segments"===o.edgeType)if(o.allpts=[],o.allpts.push(o.startX,o.startY),o.allpts.push.apply(o.allpts,o.segpts),o.allpts.push(o.endX,o.endY),o.segpts.length%4==0){var p=o.segpts.length/2,g=p-2;o.midX=(o.segpts[g]+o.segpts[p])/2,o.midY=(o.segpts[g+1]+o.segpts[p+1])/2}else{var w=o.segpts.length/2-1;o.midX=o.segpts[w],o.midY=o.segpts[w+1]}},d.checkForInvalidEdgeWarning=function(u){var o=u[0]._private.rscratch;o.nodesOverlap||Xe(o.startX)&&Xe(o.startY)&&Xe(o.endX)&&Xe(o.endY)?o.loggedErr=!1:o.loggedErr||(o.loggedErr=!0,Sr("Edge `"+u.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},d.findEdgeControlPoints=function(u){var o=this;if(u&&0!==u.length){for(var l=this,h=l.cy.hasCompoundNodes(),p={map:new St,get:function(ye){var Se=this.map.get(ye[0]);return null!=Se?Se.get(ye[1]):null},set:function(ye,Se){var we=this.map.get(ye[0]);null==we&&(we=new St,this.map.set(ye[0],we)),we.set(ye[1],Se)}},g=[],w=[],x=0;x<u.length;x++){var E=u[x],M=E._private,F=E.pstyle("curve-style").value;if(!E.removed()&&E.takesUpSpace()){if("haystack"===F){w.push(E);continue}var z="unbundled-bezier"===F||"segments"===F||"straight"===F||"straight-triangle"===F||"taxi"===F,W="unbundled-bezier"===F||"bezier"===F,q=M.target,fe=[M.source.poolIndex(),q.poolIndex()].sort(),he=p.get(fe);null==he&&(p.set(fe,he={eles:[]}),g.push(fe)),he.eles.push(E),z&&(he.hasUnbundled=!0),W&&(he.hasBezier=!0)}}for(var ve=function(ye){var we=p.get(g[ye]),ke=void 0;if(!we.hasUnbundled){var Pe=we.eles[0].parallelEdges().filter(function(zt){return zt.isBundledBezier()});Ro(we.eles),Pe.forEach(function(zt){return we.eles.push(zt)}),we.eles.sort(function(zt,Ce){return zt.poolIndex()-Ce.poolIndex()})}var Ee=we.eles[0],He=Ee.source(),Ne=Ee.target();if(He.poolIndex()>Ne.poolIndex()){var Ke=He;He=Ne,Ne=Ke}var Ue=we.srcPos=He.position(),Ge=we.tgtPos=Ne.position(),ot=we.srcW=He.outerWidth(),ct=we.srcH=He.outerHeight(),vt=we.tgtW=Ne.outerWidth(),st=we.tgtH=Ne.outerHeight(),mt=we.srcShape=l.nodeShapes[o.getNodeShape(He)],At=we.tgtShape=l.nodeShapes[o.getNodeShape(Ne)];we.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Ot=0;Ot<we.eles.length;Ot++){var Dt=we.eles[Ot],_t=Dt[0]._private.rscratch,Je=Dt.pstyle("curve-style").value,Mt="unbundled-bezier"===Je||"segments"===Je||"taxi"===Je,Nt=!He.same(Dt.source());if(!we.calculatedIntersection&&He!==Ne&&(we.hasBezier||we.hasUnbundled)){we.calculatedIntersection=!0;var Wt=mt.intersectLine(Ue.x,Ue.y,ot,ct,Ge.x,Ge.y,0),rn=we.srcIntn=Wt,Xn=At.intersectLine(Ge.x,Ge.y,vt,st,Ue.x,Ue.y,0),ar=we.tgtIntn=Xn,sn=we.intersectionPts={x1:Wt[0],x2:Xn[0],y1:Wt[1],y2:Xn[1]},Jt=we.posPts={x1:Ue.x,x2:Ge.x,y1:Ue.y,y2:Ge.y},Pn=Xn[1]-Wt[1],xn=Xn[0]-Wt[0],un=Math.sqrt(xn*xn+Pn*Pn),Rn=we.vector={x:xn,y:Pn},Nr=we.vectorNorm={x:Rn.x/un,y:Rn.y/un},fr={x:-Nr.y,y:Nr.x};we.nodesOverlap=!Xe(un)||At.checkPoint(Wt[0],Wt[1],0,vt,st,Ge.x,Ge.y)||mt.checkPoint(Xn[0],Xn[1],0,ot,ct,Ue.x,Ue.y),we.vectorNormInverse=fr,ke={nodesOverlap:we.nodesOverlap,dirCounts:we.dirCounts,calculatedIntersection:!0,hasBezier:we.hasBezier,hasUnbundled:we.hasUnbundled,eles:we.eles,srcPos:Ge,tgtPos:Ue,srcW:vt,srcH:st,tgtW:ot,tgtH:ct,srcIntn:ar,tgtIntn:rn,srcShape:At,tgtShape:mt,posPts:{x1:Jt.x2,y1:Jt.y2,x2:Jt.x1,y2:Jt.y1},intersectionPts:{x1:sn.x2,y1:sn.y2,x2:sn.x1,y2:sn.y1},vector:{x:-Rn.x,y:-Rn.y},vectorNorm:{x:-Nr.x,y:-Nr.y},vectorNormInverse:{x:-fr.x,y:-fr.y}}}var $n=Nt?ke:we;_t.nodesOverlap=$n.nodesOverlap,_t.srcIntn=$n.srcIntn,_t.tgtIntn=$n.tgtIntn,h&&(He.isParent()||He.isChild()||Ne.isParent()||Ne.isChild())&&(He.parents().anySame(Ne)||Ne.parents().anySame(He)||He.same(Ne)&&He.isParent())?o.findCompoundLoopPoints(Dt,$n,Ot,Mt):He===Ne?o.findLoopPoints(Dt,$n,Ot,Mt):"segments"===Je?o.findSegmentsPoints(Dt,$n):"taxi"===Je?o.findTaxiPoints(Dt,$n):"straight"===Je||!Mt&&we.eles.length%2==1&&Ot===Math.floor(we.eles.length/2)?o.findStraightEdgePoints(Dt):o.findBezierPoints(Dt,$n,Ot,Mt,Nt),o.findEndpoints(Dt),o.tryToCorrectInvalidPoints(Dt,$n),o.checkForInvalidEdgeWarning(Dt),o.storeAllpts(Dt),o.storeEdgeProjections(Dt),o.calculateArrowAngles(Dt),o.recalculateEdgeLabelProjections(Dt),o.calculateLabelAngles(Dt)}},Me=0;Me<g.length;Me++)ve(Me);this.findHaystackPoints(w)}},d.getSegmentPoints=function(u){var o=u[0]._private.rscratch;if("segments"===o.edgeType)return this.recalculateRenderedStyle(u),y(o.segpts)},d.getControlPoints=function(u){var o=u[0]._private.rscratch,l=o.edgeType;if("bezier"===l||"multibezier"===l||"self"===l||"compound"===l)return this.recalculateRenderedStyle(u),y(o.ctrlpts)},d.getEdgeMidpoint=function(u){var o=u[0]._private.rscratch;return this.recalculateRenderedStyle(u),{x:o.midX,y:o.midY}};var v={manualEndptToPx:function(u,o){var f=u.position(),h=u.outerWidth(),p=u.outerHeight();if(2===o.value.length){var g=[o.pfValue[0],o.pfValue[1]];return"%"===o.units[0]&&(g[0]=g[0]*h),"%"===o.units[1]&&(g[1]=g[1]*p),g[0]+=f.x,g[1]+=f.y,g}var w=o.pfValue[0];w=-Math.PI/2+w;var x=2*Math.max(h,p),E=[f.x+Math.cos(w)*x,f.y+Math.sin(w)*x];return this.nodeShapes[this.getNodeShape(u)].intersectLine(f.x,f.y,h,p,E[0],E[1],0)},findEndpoints:function(u){var l,ke,Pe,Ee,He,o=this,f=u.source()[0],h=u.target()[0],p=f.position(),g=h.position(),w=u.pstyle("target-arrow-shape").value,x=u.pstyle("source-arrow-shape").value,E=u.pstyle("target-distance-from-node").pfValue,M=u.pstyle("source-distance-from-node").pfValue,F=u.pstyle("curve-style").value,z=u._private.rscratch,W=z.edgeType,q="self"===W||"compound"===W,J="bezier"===W||"multibezier"===W||q,re="bezier"!==W,fe="straight"===W||"segments"===W,he="segments"===W,ve=J||re||fe,Me=q||"taxi"===F,Ie=u.pstyle("source-endpoint"),ye=Me?"outside-to-node":Ie.value,Se=u.pstyle("target-endpoint"),we=Me?"outside-to-node":Se.value;if(z.srcManEndpt=Ie,z.tgtManEndpt=Se,J){var Ne=[z.ctrlpts[0],z.ctrlpts[1]];ke=re?[z.ctrlpts[z.ctrlpts.length-2],z.ctrlpts[z.ctrlpts.length-1]]:Ne,Pe=Ne}else if(fe){var Ue=he?z.segpts.slice(0,2):[g.x,g.y];ke=he?z.segpts.slice(z.segpts.length-2):[p.x,p.y],Pe=Ue}if("inside-to-node"===we)l=[g.x,g.y];else if(Se.units)l=this.manualEndptToPx(h,Se);else if("outside-to-line"===we)l=z.tgtIntn;else if("outside-to-node"===we||"outside-to-node-or-label"===we?Ee=ke:("outside-to-line"===we||"outside-to-line-or-label"===we)&&(Ee=[p.x,p.y]),l=o.nodeShapes[this.getNodeShape(h)].intersectLine(g.x,g.y,h.outerWidth(),h.outerHeight(),Ee[0],Ee[1],0),"outside-to-node-or-label"===we||"outside-to-line-or-label"===we){var ot=h._private.rscratch,st=ot.labelX,mt=ot.labelY,At=ot.labelWidth/2,Ot=ot.labelHeight/2,Dt=h.pstyle("text-valign").value;"top"===Dt?mt-=Ot:"bottom"===Dt&&(mt+=Ot);var _t=h.pstyle("text-halign").value;"left"===_t?st-=At:"right"===_t&&(st+=At);var Je=Gl(Ee[0],Ee[1],[st-At,mt-Ot,st+At,mt-Ot,st+At,mt+Ot,st-At,mt+Ot],g.x,g.y);if(Je.length>0){var Mt=p,Nt=Rr(Mt,ui(l)),Wt=Rr(Mt,ui(Je)),rn=Nt;Wt<Nt&&(l=Je,rn=Wt),Je.length>2&&Rr(Mt,{x:Je[2],y:Je[3]})<rn&&(l=[Je[2],Je[3]])}}var ar=hf(l,ke,o.arrowShapes[w].spacing(u)+E),sn=hf(l,ke,o.arrowShapes[w].gap(u)+E);if(z.endX=sn[0],z.endY=sn[1],z.arrowEndX=ar[0],z.arrowEndY=ar[1],"inside-to-node"===ye)l=[p.x,p.y];else if(Ie.units)l=this.manualEndptToPx(f,Ie);else if("outside-to-line"===ye)l=z.srcIntn;else if("outside-to-node"===ye||"outside-to-node-or-label"===ye?He=Pe:("outside-to-line"===ye||"outside-to-line-or-label"===ye)&&(He=[g.x,g.y]),l=o.nodeShapes[this.getNodeShape(f)].intersectLine(p.x,p.y,f.outerWidth(),f.outerHeight(),He[0],He[1],0),"outside-to-node-or-label"===ye||"outside-to-line-or-label"===ye){var Jt=f._private.rscratch,un=Jt.labelX,Rn=Jt.labelY,Nr=Jt.labelWidth/2,fr=Jt.labelHeight/2,$n=f.pstyle("text-valign").value;"top"===$n?Rn-=fr:"bottom"===$n&&(Rn+=fr);var zt=f.pstyle("text-halign").value;"left"===zt?un-=Nr:"right"===zt&&(un+=Nr);var Ce=Gl(He[0],He[1],[un-Nr,Rn-fr,un+Nr,Rn-fr,un+Nr,Rn+fr,un-Nr,Rn+fr],p.x,p.y);if(Ce.length>0){var dt=g,kt=Rr(dt,ui(l)),Et=Rr(dt,ui(Ce)),xt=kt;Et<kt&&(l=[Ce[0],Ce[1]],xt=Et),Ce.length>2&&Rr(dt,{x:Ce[2],y:Ce[3]})<xt&&(l=[Ce[2],Ce[3]])}}var Gt=hf(l,Pe,o.arrowShapes[x].spacing(u)+M),Dn=hf(l,Pe,o.arrowShapes[x].gap(u)+M);z.startX=Dn[0],z.startY=Dn[1],z.arrowStartX=Gt[0],z.arrowStartY=Gt[1],ve&&(z.badLine=!(Xe(z.startX)&&Xe(z.startY)&&Xe(z.endX)&&Xe(z.endY)))},getSourceEndpoint:function(u){var o=u[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(u),o.edgeType)?{x:o.haystackPts[0],y:o.haystackPts[1]}:{x:o.arrowStartX,y:o.arrowStartY}},getTargetEndpoint:function(u){var o=u[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(u),o.edgeType)?{x:o.haystackPts[2],y:o.haystackPts[3]}:{x:o.arrowEndX,y:o.arrowEndY}}},b={};function B(u,o,l){for(var f=function(E,M,F,z){return di(E,M,F,z)},p=o._private.rstyle.bezierPts,g=0;g<u.bezierProjPcts.length;g++){var w=u.bezierProjPcts[g];p.push({x:f(l[0],l[2],l[4],w),y:f(l[1],l[3],l[5],w)})}}b.storeEdgeProjections=function(u){var o=u._private,l=o.rscratch,f=l.edgeType;if(o.rstyle.bezierPts=null,o.rstyle.linePts=null,o.rstyle.haystackPts=null,"multibezier"===f||"bezier"===f||"self"===f||"compound"===f){o.rstyle.bezierPts=[];for(var h=0;h+5<l.allpts.length;h+=4)B(this,u,l.allpts.slice(h,h+6))}else if("segments"===f){var p=o.rstyle.linePts=[];for(h=0;h+1<l.allpts.length;h+=2)p.push({x:l.allpts[h],y:l.allpts[h+1]})}else if("haystack"===f){var g=l.haystackPts;o.rstyle.haystackPts=[{x:g[0],y:g[1]},{x:g[2],y:g[3]}]}o.rstyle.arrowWidth=this.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.arrowShapeWidth},b.recalculateEdgeProjections=function(u){this.findEdgeControlPoints(u)};var G={recalculateNodeLabelProjection:function(u){var o=u.pstyle("label").strValue;if(!Ft(o)){var l,f,h=u._private,p=u.width(),g=u.height(),w=u.padding(),x=u.position(),E=u.pstyle("text-halign").strValue,M=u.pstyle("text-valign").strValue,F=h.rscratch,z=h.rstyle;switch(E){case"left":l=x.x-p/2-w;break;case"right":l=x.x+p/2+w;break;default:l=x.x}switch(M){case"top":f=x.y-g/2-w;break;case"bottom":f=x.y+g/2+w;break;default:f=x.y}F.labelX=l,F.labelY=f,z.labelX=l,z.labelY=f,this.calculateLabelAngles(u),this.applyLabelDimensions(u)}}},X=function(o,l){var f=Math.atan(l/o);return 0===o&&f<0&&(f*=-1),f},ee=function(o,l){return X(l.x-o.x,l.y-o.y)};G.recalculateEdgeLabelProjections=function(u){var o,l=u._private,f=l.rscratch,h=this,p={mid:u.pstyle("label").strValue,source:u.pstyle("source-label").strValue,target:u.pstyle("target-label").strValue};if(p.mid||p.source||p.target){var g=function(F,z,W){ko(l.rscratch,F,z,W),ko(l.rstyle,F,z,W)};g("labelX",null,(o={x:f.midX,y:f.midY}).x),g("labelY",null,o.y);var w=X(f.midDispX,f.midDispY);g("labelAutoAngle",null,w);var x=function M(){if(M.cache)return M.cache;for(var F=[],z=0;z+5<f.allpts.length;z+=4)F.push({p0:{x:f.allpts[z],y:f.allpts[z+1]},p1:{x:f.allpts[z+2],y:f.allpts[z+3]},p2:{x:f.allpts[z+4],y:f.allpts[z+5]},startDist:0,length:0,segments:[]});var J=l.rstyle.bezierPts,re=h.bezierProjPcts.length;function fe(ye,Se,we,ke,Pe){var Ee=zi(Se,we),He=ye.segments[ye.segments.length-1];ye.segments.push({p0:Se,p1:we,t0:ke,t1:Pe,startDist:He?He.startDist+He.length:0,length:Ee}),ye.length+=Ee}for(var he=0;he<F.length;he++){var ve=F[he],Me=F[he-1];Me&&(ve.startDist=Me.startDist+Me.length),fe(ve,ve.p0,J[he*re],0,h.bezierProjPcts[0]);for(var Ie=0;Ie<re-1;Ie++)fe(ve,J[he*re+Ie],J[he*re+Ie+1],h.bezierProjPcts[Ie],h.bezierProjPcts[Ie+1]);fe(ve,J[he*re+re-1],ve.p2,h.bezierProjPcts[re-1],1)}return M.cache=F},E=function(F){var z,W="source"===F;if(p[F]){var j=u.pstyle(F+"-text-offset").pfValue;switch(f.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var J,q=x(),re=0,fe=0,he=0;he<q.length;he++){for(var ve=q[W?he:q.length-1-he],Me=0;Me<ve.segments.length;Me++){var Ie=ve.segments[W?Me:ve.segments.length-1-Me];if(re=fe,(fe+=Ie.length)>=j||he===q.length-1&&Me===ve.segments.length-1){J={cp:ve,segment:Ie};break}}if(J)break}var Se=J.cp,we=J.segment,ke=(j-re)/we.length,Pe=we.t1-we.t0,Ee=W?we.t0+Pe*ke:we.t1-Pe*ke;Ee=Qs(0,Ee,1),o=vo(Se.p0,Se.p1,Se.p2,Ee),z=function(o,l,f,h){var p=Qs(0,h-.001,1),g=Qs(0,h+.001,1),w=vo(o,l,f,p),x=vo(o,l,f,g);return ee(w,x)}(Se.p0,Se.p1,Se.p2,Ee);break;case"straight":case"segments":case"haystack":for(var Ne,Ke,Ue,Ge,He=0,ot=f.allpts.length,ct=0;ct+3<ot&&(W?(Ue={x:f.allpts[ct],y:f.allpts[ct+1]},Ge={x:f.allpts[ct+2],y:f.allpts[ct+3]}):(Ue={x:f.allpts[ot-2-ct],y:f.allpts[ot-1-ct]},Ge={x:f.allpts[ot-4-ct],y:f.allpts[ot-3-ct]}),Ke=He,!((He+=Ne=zi(Ue,Ge))>=j));ct+=2);var st=(j-Ke)/Ne;st=Qs(0,st,1),o=function(o,l,f,h){var p_x=l.x-o.x,p_y=l.y-o.y,g=zi(o,l);return f=f??0,{x:o.x+p_x/g*(h=h??f*g),y:o.y+p_y/g*h}}(Ue,Ge,st),z=ee(Ue,Ge)}g("labelX",F,o.x),g("labelY",F,o.y),g("labelAutoAngle",F,z)}};E("source"),E("target"),this.applyLabelDimensions(u)}},G.applyLabelDimensions=function(u){this.applyPrefixedLabelDimensions(u),u.isEdge()&&(this.applyPrefixedLabelDimensions(u,"source"),this.applyPrefixedLabelDimensions(u,"target"))},G.applyPrefixedLabelDimensions=function(u,o){var l=u._private,f=this.getLabelText(u,o),h=this.calculateLabelDimensions(u,f),p=u.pstyle("line-height").pfValue,g=u.pstyle("text-wrap").strValue,w=Qi(l.rscratch,"labelWrapCachedLines",o)||[],x="wrap"!==g?1:Math.max(w.length,1),E=h.height/x,M=E*p,F=h.width,z=h.height+(x-1)*(p-1)*E;ko(l.rstyle,"labelWidth",o,F),ko(l.rscratch,"labelWidth",o,F),ko(l.rstyle,"labelHeight",o,z),ko(l.rscratch,"labelHeight",o,z),ko(l.rscratch,"labelLineHeight",o,M)},G.getLabelText=function(u,o){var l=u._private,h=u.pstyle((o?o+"-":"")+"label").strValue,p=u.pstyle("text-transform").value,g=function(vt,st){return st?(ko(l.rscratch,vt,o,st),st):Qi(l.rscratch,vt,o)};if(!h)return"";"none"==p||("uppercase"==p?h=h.toUpperCase():"lowercase"==p&&(h=h.toLowerCase()));var w=u.pstyle("text-wrap").value;if("wrap"===w){var x=g("labelKey");if(null!=x&&g("labelWrapKey")===x)return g("labelWrapCachedText");for(var M=h.split("\n"),F=u.pstyle("text-max-width").pfValue,W="anywhere"===u.pstyle("text-overflow-wrap").value,j=[],q=/[\s\u200b]+/,J=W?"":" ",re=0;re<M.length;re++){var fe=M[re],ve=this.calculateLabelDimensions(u,fe).width;if(W){var Me=fe.split("").join("\u200b");fe=Me}if(ve>F){for(var Ie=fe.split(q),ye="",Se=0;Se<Ie.length;Se++){var we=Ie[Se];this.calculateLabelDimensions(u,0===ye.length?we:ye+J+we).width<=F?ye+=we+J:(ye&&j.push(ye),ye=we+J)}ye.match(/^[\s\u200b]+$/)||j.push(ye)}else j.push(fe)}g("labelWrapCachedLines",j),h=g("labelWrapCachedText",j.join("\n")),g("labelWrapKey",x)}else if("ellipsis"===w){var He=u.pstyle("text-max-width").pfValue,Ne="",Ue=!1;if(this.calculateLabelDimensions(u,h).width<He)return h;for(var Ge=0;Ge<h.length&&!(this.calculateLabelDimensions(u,Ne+h[Ge]+"\u2026").width>He);Ge++)Ne+=h[Ge],Ge===h.length-1&&(Ue=!0);return Ue||(Ne+="\u2026"),Ne}return h},G.getLabelJustification=function(u){var o=u.pstyle("text-justification").strValue,l=u.pstyle("text-halign").strValue;if("auto"!==o)return o;if(!u.isNode())return"center";switch(l){case"left":return"right";case"right":return"left";default:return"center"}},G.calculateLabelDimensions=function(u,o){var f=as(o,u._private.labelDimsKey),h=this.labelDimCache||(this.labelDimCache=[]),p=h[f];if(null!=p)return p;var w=u.pstyle("font-style").strValue,x=u.pstyle("font-size").pfValue,E=u.pstyle("font-family").strValue,M=u.pstyle("font-weight").strValue,F=this.labelCalcCanvas,z=this.labelCalcCanvasContext;if(!F){F=this.labelCalcCanvas=document.createElement("canvas"),z=this.labelCalcCanvasContext=F.getContext("2d");var W=F.style;W.position="absolute",W.left="-9999px",W.top="-9999px",W.zIndex="-1",W.visibility="hidden",W.pointerEvents="none"}z.font="".concat(w," ").concat(M," ").concat(x,"px ").concat(E);for(var j=0,q=0,J=o.split("\n"),re=0;re<J.length;re++){var he=z.measureText(J[re]),ve=Math.ceil(he.width),Me=x;j=Math.max(ve,j),q+=Me}return h[f]={width:j+=0,height:q+=0}},G.calculateLabelAngle=function(u,o){var f=u._private.rscratch,h=u.isEdge(),g=u.pstyle((o?o+"-":"")+"text-rotation"),w=g.strValue;return"none"===w?0:h&&"autorotate"===w?f.labelAutoAngle:"autorotate"===w?0:g.pfValue},G.calculateLabelAngles=function(u){var o=this,l=u.isEdge(),h=u._private.rscratch;h.labelAngle=o.calculateLabelAngle(u),l&&(h.sourceLabelAngle=o.calculateLabelAngle(u,"source"),h.targetLabelAngle=o.calculateLabelAngle(u,"target"))};var xe={},$e=!1;xe.getNodeShape=function(u){var l=u.pstyle("shape").value;if("cutrectangle"===l&&(u.width()<28||u.height()<28))return $e||(Sr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),$e=!0),"rectangle";if(u.isParent())return"rectangle"===l||"roundrectangle"===l||"round-rectangle"===l||"cutrectangle"===l||"cut-rectangle"===l||"barrel"===l?l:"rectangle";if("polygon"===l){var f=u.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(f).name}return l};var pt={updateCachedGrabbedEles:function(){var u=this.cachedZSortedEles;if(u){u.drag=[],u.nondrag=[];for(var o=[],l=0;l<u.length;l++){var h=(f=u[l])._private.rscratch;f.grabbed()&&!f.isParent()?o.push(f):h.inDragLayer?u.drag.push(f):u.nondrag.push(f)}for(l=0;l<o.length;l++){var f;u.drag.push(f=o[l])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(u){if(u||!this.cachedZSortedEles){var o=this.cy.mutableElements().toArray();o.sort(Ql),o.interactive=o.filter(function(l){return l.interactive()}),this.cachedZSortedEles=o,this.updateCachedGrabbedEles()}else o=this.cachedZSortedEles;return o}},bt={};[ys,a,d,v,b,G,xe,{registerCalculationListeners:function(){var u=this.cy,o=u.collection(),l=this,f=function(g){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o.merge(g),w)for(var x=0;x<g.length;x++){var F=g[x]._private.rstyle;F.clean=!1,F.cleanConnected=!1}};l.binder(u).on("bounds.* dirty.*",function(g){f(g.target)}).on("style.* background.*",function(g){f(g.target,!1)});var h=function(g){if(g){var w=l.onUpdateEleCalcsFns;o.cleanStyle();for(var x=0;x<o.length;x++){var E=o[x],M=E._private.rstyle;E.isNode()&&!M.cleanConnected&&(f(E.connectedEdges()),M.cleanConnected=!0)}if(w)for(var F=0;F<w.length;F++)(0,w[F])(g,o);l.recalculateRenderedStyle(o),o=u.collection()}};l.flushRenderedStyleQueue=function(){h(!0)},l.beforeRender(h,l.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(u){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(u)},recalculateRenderedStyle:function(u,o){var l=function(ve){return ve._private.rstyle.cleanConnected},f=[],h=[];if(!this.destroyed){void 0===o&&(o=!0);for(var p=0;p<u.length;p++){var g=u[p],w=g._private,x=w.rstyle;g.isEdge()&&(!l(g.source())||!l(g.target()))&&(x.clean=!1),!(o&&x.clean||g.removed())&&"none"!==g.pstyle("display").value&&("nodes"===w.group?h.push(g):f.push(g),x.clean=!0)}for(var E=0;E<h.length;E++){var M=h[E],z=M._private.rstyle,W=M.position();this.recalculateNodeLabelProjection(M),z.nodeX=W.x,z.nodeY=W.y,z.nodeW=M.pstyle("width").pfValue,z.nodeH=M.pstyle("height").pfValue}this.recalculateEdgeProjections(f);for(var j=0;j<f.length;j++){var J=f[j]._private,re=J.rstyle,fe=J.rscratch;re.srcX=fe.arrowStartX,re.srcY=fe.arrowStartY,re.tgtX=fe.arrowEndX,re.tgtY=fe.arrowEndY,re.midX=fe.midX,re.midY=fe.midY,re.labelAngle=fe.labelAngle,re.sourceLabelAngle=fe.sourceLabelAngle,re.targetLabelAngle=fe.targetLabelAngle}}}},pt].forEach(function(u){Nn(bt,u)});var Ut={getCachedImage:function(u,o,l){var h=this.imageCache=this.imageCache||{},p=h[u];if(p)return p.image.complete||p.image.addEventListener("load",l),p.image;var g=(p=h[u]=h[u]||{}).image=new Image;g.addEventListener("load",l),g.addEventListener("error",function(){g.error=!0});return"data:"===u.substring(0,5).toLowerCase()||(g.crossOrigin=o="null"===o?null:o),g.src=u,g}},jt={registerBinding:function(u,o,l,f){var h=Array.prototype.slice.apply(arguments,[1]),p=this.binder(u);return p.on.apply(p,h)},binder:function(u){var o=this,l=u===window||u===document||u===document.body||function(o){return!(typeof HTMLElement>"u")&&o instanceof HTMLElement}(u);if(null==o.supportsPassiveEvents){var f=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return f=!0,!0}});window.addEventListener("test",null,h)}catch{}o.supportsPassiveEvents=f}var p=function(w,x,E){var M=Array.prototype.slice.call(arguments);return l&&o.supportsPassiveEvents&&(M[2]={capture:E??!1,passive:!1,once:!1}),o.bindings.push({target:u,args:M}),(u.addEventListener||u.on).apply(u,M),this};return{on:p,addEventListener:p,addListener:p,bind:p}},nodeIsDraggable:function(u){return u&&u.isNode()&&!u.locked()&&u.grabbable()},nodeIsGrabbable:function(u){return this.nodeIsDraggable(u)&&u.interactive()}};jt.load=function(){var u=this,o=function(Ce){return Ce.selected()},l=function(Ce,dt,kt,Et){null==Ce&&(Ce=u.cy);for(var xt=0;xt<dt.length;xt++)Ce.emit({originalEvent:kt,type:dt[xt],position:Et})},f=function(Ce){return Ce.shiftKey||Ce.metaKey||Ce.ctrlKey},h=function(Ce,dt){var kt=!0;if(u.cy.hasCompoundNodes()&&Ce&&Ce.pannable()){for(var Et=0;dt&&Et<dt.length;Et++)if((Ce=dt[Et]).isNode()&&Ce.isParent()&&!Ce.pannable()){kt=!1;break}}else kt=!0;return kt},w=function(Ce){Ce[0]._private.rscratch.inDragLayer=!0},E=function(Ce){Ce[0]._private.rscratch.isGrabTarget=!0},F=function(Ce,dt){var kt=dt.addToList;!kt.has(Ce)&&Ce.grabbable()&&!Ce.locked()&&(kt.merge(Ce),function(Ce){Ce[0]._private.grabbed=!0}(Ce))},W=function(Ce,dt){dt=dt||{};var kt=Ce.cy().hasCompoundNodes();dt.inDragLayer&&(Ce.forEach(w),Ce.neighborhood().stdFilter(function(Et){return!kt||Et.isEdge()}).forEach(w)),dt.addToList&&Ce.forEach(function(Et){F(Et,dt)}),function(Ce,dt){if(Ce.cy().hasCompoundNodes()&&(null!=dt.inDragLayer||null!=dt.addToList)){var kt=Ce.descendants();dt.inDragLayer&&(kt.forEach(w),kt.connectedEdges().forEach(w)),dt.addToList&&F(kt,dt)}}(Ce,dt),J(Ce,{inDragLayer:dt.inDragLayer}),u.updateCachedGrabbedEles()},j=W,q=function(Ce){Ce&&(u.getCachedZSortedEles().forEach(function(dt){(function(Ce){Ce[0]._private.grabbed=!1})(dt),function(Ce){Ce[0]._private.rscratch.inDragLayer=!1}(dt),function(Ce){Ce[0]._private.rscratch.isGrabTarget=!1}(dt)}),u.updateCachedGrabbedEles())},J=function(Ce,dt){if((null!=dt.inDragLayer||null!=dt.addToList)&&Ce.cy().hasCompoundNodes()){var kt=Ce.ancestors().orphans();if(!kt.same(Ce)){var Et=kt.descendants().spawnSelf().merge(kt).unmerge(Ce).unmerge(Ce.descendants()),xt=Et.connectedEdges();dt.inDragLayer&&(xt.forEach(w),Et.forEach(w)),dt.addToList&&Et.forEach(function(mr){F(mr,dt)})}}},re=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},fe=typeof MutationObserver<"u",he=typeof ResizeObserver<"u";fe?(u.removeObserver=new MutationObserver(function(zt){for(var Ce=0;Ce<zt.length;Ce++){var kt=zt[Ce].removedNodes;if(kt)for(var Et=0;Et<kt.length;Et++)if(kt[Et]===u.container){u.destroy();break}}}),u.container.parentNode&&u.removeObserver.observe(u.container.parentNode,{childList:!0})):u.registerBinding(u.container,"DOMNodeRemoved",function(zt){u.destroy()});var ve=N.default(function(){u.cy.resize()},100);fe&&(u.styleObserver=new MutationObserver(ve),u.styleObserver.observe(u.container,{attributes:!0})),u.registerBinding(window,"resize",ve),he&&(u.resizeObserver=new ResizeObserver(ve),u.resizeObserver.observe(u.container));var Ie=function(){u.invalidateContainerClientCoordsCache()};(function(Ce,dt){for(;null!=Ce;)u.registerBinding(zt=Ce,"transitionend",Ie),u.registerBinding(zt,"animationend",Ie),u.registerBinding(zt,"scroll",Ie),Ce=Ce.parentNode;var zt})(u.container),u.registerBinding(u.container,"contextmenu",function(zt){zt.preventDefault()});var we,ke,Pe,Se=function(Ce){for(var dt=u.findContainerClientCoords(),kt=dt[0],Et=dt[1],xt=dt[2],mr=dt[3],Gt=Ce.touches?Ce.touches:[Ce],Dn=!1,Ur=0;Ur<Gt.length;Ur++){var Zr=Gt[Ur];if(kt<=Zr.clientX&&Zr.clientX<=kt+xt&&Et<=Zr.clientY&&Zr.clientY<=Et+mr){Dn=!0;break}}if(!Dn)return!1;for(var hr=u.container,cr=Ce.target.parentNode,wr=!1;cr;){if(cr===hr){wr=!0;break}cr=cr.parentNode}return!!wr};u.registerBinding(u.container,"mousedown",function(Ce){if(Se(Ce)){Ce.preventDefault(),re(),u.hoverData.capture=!0,u.hoverData.which=Ce.which;var dt=u.cy,kt=[Ce.clientX,Ce.clientY],Et=u.projectIntoViewport(kt[0],kt[1]),xt=u.selection,mr=u.findNearestElements(Et[0],Et[1],!0,!1),Gt=mr[0],Dn=u.dragData.possibleDragElements;if(u.hoverData.mdownPos=Et,u.hoverData.mdownGPos=kt,3==Ce.which){u.hoverData.cxtStarted=!0;var Zr={originalEvent:Ce,type:"cxttapstart",position:{x:Et[0],y:Et[1]}};Gt?(Gt.activate(),Gt.emit(Zr),u.hoverData.down=Gt):dt.emit(Zr),u.hoverData.downTime=(new Date).getTime(),u.hoverData.cxtDragged=!1}else if(1==Ce.which){if(Gt&&Gt.activate(),null!=Gt&&u.nodeIsGrabbable(Gt)){var hr=function(to){return{originalEvent:Ce,type:to,position:{x:Et[0],y:Et[1]}}};if(E(Gt),Gt.selected()){Dn=u.dragData.possibleDragElements=dt.collection();var cr=dt.$(function(wr){return wr.isNode()&&wr.selected()&&u.nodeIsGrabbable(wr)});W(cr,{addToList:Dn}),Gt.emit(hr("grabon")),cr.forEach(function(to){to.emit(hr("grab"))})}else Dn=u.dragData.possibleDragElements=dt.collection(),j(Gt,{addToList:Dn}),Gt.emit(hr("grabon")).emit(hr("grab"));u.redrawHint("eles",!0),u.redrawHint("drag",!0)}u.hoverData.down=Gt,u.hoverData.downs=mr,u.hoverData.downTime=(new Date).getTime(),l(Gt,["mousedown","tapstart","vmousedown"],Ce,{x:Et[0],y:Et[1]}),null==Gt?(xt[4]=1,u.data.bgActivePosistion={x:Et[0],y:Et[1]},u.redrawHint("select",!0),u.redraw()):Gt.pannable()&&(xt[4]=1),u.hoverData.tapholdCancelled=!1,clearTimeout(u.hoverData.tapholdTimeout),u.hoverData.tapholdTimeout=setTimeout(function(){if(!u.hoverData.tapholdCancelled){var to=u.hoverData.down;to?to.emit({originalEvent:Ce,type:"taphold",position:{x:Et[0],y:Et[1]}}):dt.emit({originalEvent:Ce,type:"taphold",position:{x:Et[0],y:Et[1]}})}},u.tapholdDuration)}xt[0]=xt[2]=Et[0],xt[1]=xt[3]=Et[1]}},!1),u.registerBinding(window,"mousemove",function(Ce){var au;if(u.hoverData.capture||Se(Ce)){var kt=!1,Et=u.cy,xt=Et.zoom(),mr=[Ce.clientX,Ce.clientY],Gt=u.projectIntoViewport(mr[0],mr[1]),Dn=u.hoverData.mdownPos,Ur=u.hoverData.mdownGPos,Zr=u.selection,hr=null;!u.hoverData.draggingEles&&!u.hoverData.dragging&&!u.hoverData.selecting&&(hr=u.findNearestElement(Gt[0],Gt[1],!0,!1));var no,qr=u.hoverData.last,cr=u.hoverData.down,wr=[Gt[0]-Zr[2],Gt[1]-Zr[3]],to=u.dragData.possibleDragElements;if(Ur){var Il=mr[0]-Ur[0],Ea=mr[1]-Ur[1];u.hoverData.isOverThresholdDrag=no=Il*Il+Ea*Ea>=u.desktopTapThreshold2}var Io=f(Ce);no&&(u.hoverData.tapholdCancelled=!0),kt=!0,l(hr,["mousemove","vmousemove","tapdrag"],Ce,{x:Gt[0],y:Gt[1]});var Gf=function(){u.data.bgActivePosistion=void 0,u.hoverData.selecting||Et.emit({originalEvent:Ce,type:"boxstart",position:{x:Gt[0],y:Gt[1]}}),Zr[4]=1,u.hoverData.selecting=!0,u.redrawHint("select",!0),u.redraw()};if(3===u.hoverData.which){if(no){var Xd={originalEvent:Ce,type:"cxtdrag",position:{x:Gt[0],y:Gt[1]}};cr?cr.emit(Xd):Et.emit(Xd),u.hoverData.cxtDragged=!0,(!u.hoverData.cxtOver||hr!==u.hoverData.cxtOver)&&(u.hoverData.cxtOver&&u.hoverData.cxtOver.emit({originalEvent:Ce,type:"cxtdragout",position:{x:Gt[0],y:Gt[1]}}),u.hoverData.cxtOver=hr,hr&&hr.emit({originalEvent:Ce,type:"cxtdragover",position:{x:Gt[0],y:Gt[1]}}))}}else if(u.hoverData.dragging){if(kt=!0,Et.panningEnabled()&&Et.userPanningEnabled()){var jf;if(u.hoverData.justStartedPan){var ng=u.hoverData.mdownPos;jf={x:(Gt[0]-ng[0])*xt,y:(Gt[1]-ng[1])*xt},u.hoverData.justStartedPan=!1}else jf={x:wr[0]*xt,y:wr[1]*xt};Et.panBy(jf),Et.emit("dragpan"),u.hoverData.dragged=!0}Gt=u.projectIntoViewport(Ce.clientX,Ce.clientY)}else if(1!=Zr[4]||null!=cr&&!cr.pannable()){if(cr&&cr.pannable()&&cr.active()&&cr.unactivate(),(!cr||!cr.grabbed())&&hr!=qr&&(qr&&l(qr,["mouseout","tapdragout"],Ce,{x:Gt[0],y:Gt[1]}),hr&&l(hr,["mouseover","tapdragover"],Ce,{x:Gt[0],y:Gt[1]}),u.hoverData.last=hr),cr)if(no){if(Et.boxSelectionEnabled()&&Io)cr&&cr.grabbed()&&(q(to),cr.emit("freeon"),to.emit("free"),u.dragData.didDrag&&(cr.emit("dragfreeon"),to.emit("dragfree"))),Gf();else if(cr&&cr.grabbed()&&u.nodeIsDraggable(cr)){var ws=!u.dragData.didDrag;ws&&u.redrawHint("eles",!0),u.dragData.didDrag=!0,u.hoverData.draggingEles||W(to,{inDragLayer:!0});var Da={x:0,y:0};if(Xe(wr[0])&&Xe(wr[1])&&(Da.x+=wr[0],Da.y+=wr[1],ws)){var _s=u.hoverData.dragDelta;_s&&Xe(_s[0])&&Xe(_s[1])&&(Da.x+=_s[0],Da.y+=_s[1])}u.hoverData.draggingEles=!0,to.silentShift(Da).emit("position drag"),u.redrawHint("drag",!0),u.redraw()}}else 0===(au=u.hoverData.dragDelta=u.hoverData.dragDelta||[]).length?(au.push(wr[0]),au.push(wr[1])):(au[0]+=wr[0],au[1]+=wr[1]);kt=!0}else no&&(u.hoverData.dragging||!Et.boxSelectionEnabled()||!Io&&Et.panningEnabled()&&Et.userPanningEnabled()?!u.hoverData.selecting&&Et.panningEnabled()&&Et.userPanningEnabled()&&h(cr,u.hoverData.downs)&&(u.hoverData.dragging=!0,u.hoverData.justStartedPan=!0,Zr[4]=0,u.data.bgActivePosistion=ui(Dn),u.redrawHint("select",!0),u.redraw()):Gf(),cr&&cr.pannable()&&cr.active()&&cr.unactivate());if(Zr[2]=Gt[0],Zr[3]=Gt[1],kt)return Ce.stopPropagation&&Ce.stopPropagation(),Ce.preventDefault&&Ce.preventDefault(),!1}},!1),u.registerBinding(window,"mouseup",function(Ce){if(u.hoverData.capture){u.hoverData.capture=!1;var kt=u.cy,Et=u.projectIntoViewport(Ce.clientX,Ce.clientY),xt=u.selection,mr=u.findNearestElement(Et[0],Et[1],!0,!1),Gt=u.dragData.possibleDragElements,Dn=u.hoverData.down,Ur=f(Ce);if(u.data.bgActivePosistion&&(u.redrawHint("select",!0),u.redraw()),u.hoverData.tapholdCancelled=!0,u.data.bgActivePosistion=void 0,Dn&&Dn.unactivate(),3===u.hoverData.which){var Zr={originalEvent:Ce,type:"cxttapend",position:{x:Et[0],y:Et[1]}};if(Dn?Dn.emit(Zr):kt.emit(Zr),!u.hoverData.cxtDragged){var hr={originalEvent:Ce,type:"cxttap",position:{x:Et[0],y:Et[1]}};Dn?Dn.emit(hr):kt.emit(hr)}u.hoverData.cxtDragged=!1,u.hoverData.which=null}else if(1===u.hoverData.which){if(l(mr,["mouseup","tapend","vmouseup"],Ce,{x:Et[0],y:Et[1]}),!u.dragData.didDrag&&!u.hoverData.dragged&&!u.hoverData.selecting&&!u.hoverData.isOverThresholdDrag&&(l(Dn,["click","tap","vclick"],Ce,{x:Et[0],y:Et[1]}),ke=!1,Ce.timeStamp-Pe<=kt.multiClickDebounceTime()?(we&&clearTimeout(we),ke=!0,Pe=null,l(Dn,["dblclick","dbltap","vdblclick"],Ce,{x:Et[0],y:Et[1]})):(we=setTimeout(function(){ke||l(Dn,["oneclick","onetap","voneclick"],Ce,{x:Et[0],y:Et[1]})},kt.multiClickDebounceTime()),Pe=Ce.timeStamp)),null==Dn&&!u.dragData.didDrag&&!u.hoverData.selecting&&!u.hoverData.dragged&&!f(Ce)&&(kt.$(o).unselect(["tapunselect"]),Gt.length>0&&u.redrawHint("eles",!0),u.dragData.possibleDragElements=Gt=kt.collection()),mr==Dn&&!u.dragData.didDrag&&!u.hoverData.selecting&&null!=mr&&mr._private.selectable&&(u.hoverData.dragging||("additive"===kt.selectionType()||Ur?mr.selected()?mr.unselect(["tapunselect"]):mr.select(["tapselect"]):Ur||(kt.$(o).unmerge(mr).unselect(["tapunselect"]),mr.select(["tapselect"]))),u.redrawHint("eles",!0)),u.hoverData.selecting){var qr=kt.collection(u.getAllInBox(xt[0],xt[1],xt[2],xt[3]));u.redrawHint("select",!0),qr.length>0&&u.redrawHint("eles",!0),kt.emit({type:"boxend",originalEvent:Ce,position:{x:Et[0],y:Et[1]}}),"additive"===kt.selectionType()||Ur||kt.$(o).unmerge(qr).unselect(),qr.emit("box").stdFilter(function(no){return no.selectable()&&!no.selected()}).select().emit("boxselect"),u.redraw()}if(u.hoverData.dragging&&(u.hoverData.dragging=!1,u.redrawHint("select",!0),u.redrawHint("eles",!0),u.redraw()),!xt[4]){u.redrawHint("drag",!0),u.redrawHint("eles",!0);var wr=Dn&&Dn.grabbed();q(Gt),wr&&(Dn.emit("freeon"),Gt.emit("free"),u.dragData.didDrag&&(Dn.emit("dragfreeon"),Gt.emit("dragfree")))}}xt[4]=0,u.hoverData.down=null,u.hoverData.cxtStarted=!1,u.hoverData.draggingEles=!1,u.hoverData.selecting=!1,u.hoverData.isOverThresholdDrag=!1,u.dragData.didDrag=!1,u.hoverData.dragged=!1,u.hoverData.dragDelta=[],u.hoverData.mdownPos=null,u.hoverData.mdownGPos=null}},!1);var Ee=function(Ce){if(!u.scrollingPage){var dt=u.cy,kt=dt.zoom(),Et=dt.pan(),xt=u.projectIntoViewport(Ce.clientX,Ce.clientY),mr=[xt[0]*kt+Et.x,xt[1]*kt+Et.y];if(u.hoverData.draggingEles||u.hoverData.dragging||u.hoverData.cxtStarted||0!==u.selection[4])return void Ce.preventDefault();if(dt.panningEnabled()&&dt.userPanningEnabled()&&dt.zoomingEnabled()&&dt.userZoomingEnabled()){var Gt;Ce.preventDefault(),u.data.wheelZooming=!0,clearTimeout(u.data.wheelTimeout),u.data.wheelTimeout=setTimeout(function(){u.data.wheelZooming=!1,u.redrawHint("eles",!0),u.redraw()},150),Gt=null!=Ce.deltaY?Ce.deltaY/-250:null!=Ce.wheelDeltaY?Ce.wheelDeltaY/1e3:Ce.wheelDelta/1e3,Gt*=u.wheelSensitivity,1===Ce.deltaMode&&(Gt*=33);var Ur=dt.zoom()*Math.pow(10,Gt);"gesturechange"===Ce.type&&(Ur=u.gestureStartZoom*Ce.scale),dt.zoom({level:Ur,renderedPosition:{x:mr[0],y:mr[1]}}),dt.emit("gesturechange"===Ce.type?"pinchzoom":"scrollzoom")}}};u.registerBinding(u.container,"wheel",Ee,!0),u.registerBinding(window,"scroll",function(Ce){u.scrollingPage=!0,clearTimeout(u.scrollingPageTimeout),u.scrollingPageTimeout=setTimeout(function(){u.scrollingPage=!1},250)},!0),u.registerBinding(u.container,"gesturestart",function(Ce){u.gestureStartZoom=u.cy.zoom(),u.hasTouchStarted||Ce.preventDefault()},!0),u.registerBinding(u.container,"gesturechange",function(zt){u.hasTouchStarted||Ee(zt)},!0),u.registerBinding(u.container,"mouseout",function(Ce){var dt=u.projectIntoViewport(Ce.clientX,Ce.clientY);u.cy.emit({originalEvent:Ce,type:"mouseout",position:{x:dt[0],y:dt[1]}})},!1),u.registerBinding(u.container,"mouseover",function(Ce){var dt=u.projectIntoViewport(Ce.clientX,Ce.clientY);u.cy.emit({originalEvent:Ce,type:"mouseover",position:{x:dt[0],y:dt[1]}})},!1);var He,Ne,Ke,Ue,Ge,ot,ct,vt,st,mt,At,Ot,Dt,Mt,Nt,Wt,rn,Xn,ar,sn,_t=function(Ce,dt,kt,Et){return Math.sqrt((kt-Ce)*(kt-Ce)+(Et-dt)*(Et-dt))},Je=function(Ce,dt,kt,Et){return(kt-Ce)*(kt-Ce)+(Et-dt)*(Et-dt)};if(u.registerBinding(u.container,"touchstart",Mt=function(Ce){if(u.hasTouchStarted=!0,Se(Ce)){re(),u.touchData.capture=!0,u.data.bgActivePosistion=void 0;var dt=u.cy,kt=u.touchData.now,Et=u.touchData.earlier;if(Ce.touches[0]){var xt=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);kt[0]=xt[0],kt[1]=xt[1]}if(Ce.touches[1]&&(xt=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),kt[2]=xt[0],kt[3]=xt[1]),Ce.touches[2]&&(xt=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),kt[4]=xt[0],kt[5]=xt[1]),Ce.touches[1]){u.touchData.singleTouchMoved=!0,q(u.dragData.touchDragEles);var mr=u.findContainerClientCoords();At=mr[2],Ot=mr[3],Ne=Ce.touches[0].clientY-(mt=mr[1]),Ke=Ce.touches[1].clientX-(st=mr[0]),Ue=Ce.touches[1].clientY-mt,Dt=0<=(He=Ce.touches[0].clientX-st)&&He<=At&&0<=Ke&&Ke<=At&&0<=Ne&&Ne<=Ot&&0<=Ue&&Ue<=Ot;var Gt=dt.pan(),Dn=dt.zoom();if(Ge=_t(He,Ne,Ke,Ue),ot=Je(He,Ne,Ke,Ue),vt=[((ct=[(He+Ke)/2,(Ne+Ue)/2])[0]-Gt.x)/Dn,(ct[1]-Gt.y)/Dn],ot<4e4&&!Ce.touches[2]){var hr=u.findNearestElement(kt[0],kt[1],!0,!0),qr=u.findNearestElement(kt[2],kt[3],!0,!0);return hr&&hr.isNode()?(hr.activate().emit({originalEvent:Ce,type:"cxttapstart",position:{x:kt[0],y:kt[1]}}),u.touchData.start=hr):qr&&qr.isNode()?(qr.activate().emit({originalEvent:Ce,type:"cxttapstart",position:{x:kt[0],y:kt[1]}}),u.touchData.start=qr):dt.emit({originalEvent:Ce,type:"cxttapstart",position:{x:kt[0],y:kt[1]}}),u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxt=!0,u.touchData.cxtDragged=!1,u.data.bgActivePosistion=void 0,void u.redraw()}}if(Ce.touches[2])dt.boxSelectionEnabled()&&Ce.preventDefault();else if(!Ce.touches[1]&&Ce.touches[0]){var cr=u.findNearestElements(kt[0],kt[1],!0,!0),wr=cr[0];if(null!=wr&&(wr.activate(),u.touchData.start=wr,u.touchData.starts=cr,u.nodeIsGrabbable(wr))){var to=u.dragData.touchDragEles=dt.collection(),no=null;u.redrawHint("eles",!0),u.redrawHint("drag",!0),wr.selected()?(no=dt.$(function(is){return is.selected()&&u.nodeIsGrabbable(is)}),W(no,{addToList:to})):j(wr,{addToList:to}),E(wr);var Il=function(Io){return{originalEvent:Ce,type:Io,position:{x:kt[0],y:kt[1]}}};wr.emit(Il("grabon")),no?no.forEach(function(is){is.emit(Il("grab"))}):wr.emit(Il("grab"))}l(wr,["touchstart","tapstart","vmousedown"],Ce,{x:kt[0],y:kt[1]}),null==wr&&(u.data.bgActivePosistion={x:xt[0],y:xt[1]},u.redrawHint("select",!0),u.redraw()),u.touchData.singleTouchMoved=!1,u.touchData.singleTouchStartTime=+new Date,clearTimeout(u.touchData.tapholdTimeout),u.touchData.tapholdTimeout=setTimeout(function(){!1===u.touchData.singleTouchMoved&&!u.pinching&&!u.touchData.selecting&&l(u.touchData.start,["taphold"],Ce,{x:kt[0],y:kt[1]})},u.tapholdDuration)}if(Ce.touches.length>=1){for(var Al=u.touchData.startPosition=[],Ea=0;Ea<kt.length;Ea++)Al[Ea]=Et[Ea]=kt[Ea];var al=Ce.touches[0];u.touchData.startGPosition=[al.clientX,al.clientY]}}},!1),u.registerBinding(window,"touchmove",Nt=function(Ce){var dt=u.touchData.capture;if(dt||Se(Ce)){var kt=u.selection,Et=u.cy,xt=u.touchData.now,mr=u.touchData.earlier,Gt=Et.zoom();if(Ce.touches[0]){var Dn=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);xt[0]=Dn[0],xt[1]=Dn[1]}Ce.touches[1]&&(Dn=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),xt[2]=Dn[0],xt[3]=Dn[1]),Ce.touches[2]&&(Dn=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),xt[4]=Dn[0],xt[5]=Dn[1]);var Zr,Ur=u.touchData.startGPosition;if(dt&&Ce.touches[0]&&Ur){for(var hr=[],qr=0;qr<xt.length;qr++)hr[qr]=xt[qr]-mr[qr];var cr=Ce.touches[0].clientX-Ur[0],to=Ce.touches[0].clientY-Ur[1];Zr=cr*cr+to*to>=u.touchTapThreshold2}if(dt&&u.touchData.cxt){Ce.preventDefault();var Io=Je(Al=Ce.touches[0].clientX-st,Ea=Ce.touches[0].clientY-mt,al=Ce.touches[1].clientX-st,is=Ce.touches[1].clientY-mt);if(Io/ot>=2.25||Io>=22500){u.touchData.cxt=!1,u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);var Kd={originalEvent:Ce,type:"cxttapend",position:{x:xt[0],y:xt[1]}};u.touchData.start?(u.touchData.start.unactivate().emit(Kd),u.touchData.start=null):Et.emit(Kd)}}if(dt&&u.touchData.cxt){Kd={originalEvent:Ce,type:"cxtdrag",position:{x:xt[0],y:xt[1]}},u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),u.touchData.start?u.touchData.start.emit(Kd):Et.emit(Kd),u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxtDragged=!0;var ws=u.findNearestElement(xt[0],xt[1],!0,!0);(!u.touchData.cxtOver||ws!==u.touchData.cxtOver)&&(u.touchData.cxtOver&&u.touchData.cxtOver.emit({originalEvent:Ce,type:"cxtdragout",position:{x:xt[0],y:xt[1]}}),u.touchData.cxtOver=ws,ws&&ws.emit({originalEvent:Ce,type:"cxtdragover",position:{x:xt[0],y:xt[1]}}))}else if(dt&&Ce.touches[2]&&Et.boxSelectionEnabled())Ce.preventDefault(),u.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,u.touchData.selecting||Et.emit({originalEvent:Ce,type:"boxstart",position:{x:xt[0],y:xt[1]}}),u.touchData.selecting=!0,u.touchData.didSelect=!0,kt[4]=1,kt&&0!==kt.length&&void 0!==kt[0]?(kt[2]=(xt[0]+xt[2]+xt[4])/3,kt[3]=(xt[1]+xt[3]+xt[5])/3):(kt[0]=(xt[0]+xt[2]+xt[4])/3,kt[1]=(xt[1]+xt[3]+xt[5])/3,kt[2]=(xt[0]+xt[2]+xt[4])/3+1,kt[3]=(xt[1]+xt[3]+xt[5])/3+1),u.redrawHint("select",!0),u.redraw();else if(dt&&Ce.touches[1]&&!u.touchData.didSelect&&Et.zoomingEnabled()&&Et.panningEnabled()&&Et.userZoomingEnabled()&&Et.userPanningEnabled()){if(Ce.preventDefault(),u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),Da=u.dragData.touchDragEles){u.redrawHint("drag",!0);for(var _s=0;_s<Da.length;_s++){var rg=Da[_s]._private;rg.grabbed=!1,rg.rscratch.inDragLayer=!1}}var Al,Ea,al,is,au=u.touchData.start,Ay=_t(Al=Ce.touches[0].clientX-st,Ea=Ce.touches[0].clientY-mt,al=Ce.touches[1].clientX-st,is=Ce.touches[1].clientY-mt),ig=Ay/Ge;if(Dt){var Ry=(Al-He+(al-Ke))/2,Zx=(Ea-Ne+(is-Ue))/2,og=Et.zoom(),ky=og*ig,Wf=Et.pan(),ag=vt[0]*og+Wf.x,ww=vt[1]*og+Wf.y,qx={x:-ky/og*(ag-Wf.x-Ry)+ag,y:-ky/og*(ww-Wf.y-Zx)+ww};au&&au.active()&&(q(Da=u.dragData.touchDragEles),u.redrawHint("drag",!0),u.redrawHint("eles",!0),au.unactivate().emit("freeon"),Da.emit("free"),u.dragData.didDrag&&(au.emit("dragfreeon"),Da.emit("dragfree"))),Et.viewport({zoom:ky,pan:qx,cancelOnFailedZoom:!0}),Et.emit("pinchzoom"),Ge=Ay,He=Al,Ne=Ea,Ke=al,Ue=is,u.pinching=!0}Ce.touches[0]&&(Dn=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY),xt[0]=Dn[0],xt[1]=Dn[1]),Ce.touches[1]&&(Dn=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),xt[2]=Dn[0],xt[3]=Dn[1]),Ce.touches[2]&&(Dn=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),xt[4]=Dn[0],xt[5]=Dn[1])}else if(Ce.touches[0]&&!u.touchData.didSelect){var sl=u.touchData.start,Mm=u.touchData.last;if(!u.hoverData.draggingEles&&!u.swipePanning&&(ws=u.findNearestElement(xt[0],xt[1],!0,!0)),dt&&null!=sl&&Ce.preventDefault(),dt&&null!=sl&&u.nodeIsDraggable(sl))if(Zr){var Da=u.dragData.touchDragEles,Py=!u.dragData.didDrag;Py&&W(Da,{inDragLayer:!0}),u.dragData.didDrag=!0;var Yh={x:0,y:0};Xe(hr[0])&&Xe(hr[1])&&(Yh.x+=hr[0],Yh.y+=hr[1],Py)&&(u.redrawHint("eles",!0),(Ol=u.touchData.dragDelta)&&Xe(Ol[0])&&Xe(Ol[1])&&(Yh.x+=Ol[0],Yh.y+=Ol[1])),u.hoverData.draggingEles=!0,Da.silentShift(Yh).emit("position drag"),u.redrawHint("drag",!0),u.touchData.startPosition[0]==mr[0]&&u.touchData.startPosition[1]==mr[1]&&u.redrawHint("eles",!0),u.redraw()}else{var Ol;0===(Ol=u.touchData.dragDelta=u.touchData.dragDelta||[]).length?(Ol.push(hr[0]),Ol.push(hr[1])):(Ol[0]+=hr[0],Ol[1]+=hr[1])}if(l(sl||ws,["touchmove","tapdrag","vmousemove"],Ce,{x:xt[0],y:xt[1]}),(!sl||!sl.grabbed())&&ws!=Mm&&(Mm&&Mm.emit({originalEvent:Ce,type:"tapdragout",position:{x:xt[0],y:xt[1]}}),ws&&ws.emit({originalEvent:Ce,type:"tapdragover",position:{x:xt[0],y:xt[1]}})),u.touchData.last=ws,dt)for(_s=0;_s<xt.length;_s++)xt[_s]&&u.touchData.startPosition[_s]&&Zr&&(u.touchData.singleTouchMoved=!0);dt&&(null==sl||sl.pannable())&&Et.panningEnabled()&&Et.userPanningEnabled()&&(h(sl,u.touchData.starts)&&(Ce.preventDefault(),u.data.bgActivePosistion||(u.data.bgActivePosistion=ui(u.touchData.startPosition)),u.swipePanning?(Et.panBy({x:hr[0]*Gt,y:hr[1]*Gt}),Et.emit("dragpan")):Zr&&(u.swipePanning=!0,Et.panBy({x:cr*Gt,y:to*Gt}),Et.emit("dragpan"),sl&&(sl.unactivate(),u.redrawHint("select",!0),u.touchData.start=null))),Dn=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY),xt[0]=Dn[0],xt[1]=Dn[1])}for(qr=0;qr<xt.length;qr++)mr[qr]=xt[qr];dt&&Ce.touches.length>0&&!u.hoverData.draggingEles&&!u.swipePanning&&null!=u.data.bgActivePosistion&&(u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),u.redraw())}},!1),u.registerBinding(window,"touchcancel",Wt=function(Ce){var dt=u.touchData.start;u.touchData.capture=!1,dt&&dt.unactivate()}),u.registerBinding(window,"touchend",rn=function(Ce){var dt=u.touchData.start;if(u.touchData.capture){0===Ce.touches.length&&(u.touchData.capture=!1),Ce.preventDefault();var Et=u.selection;u.swipePanning=!1,u.hoverData.draggingEles=!1;var Zr,xt=u.cy,mr=xt.zoom(),Gt=u.touchData.now,Dn=u.touchData.earlier;if(Ce.touches[0]){var Ur=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);Gt[0]=Ur[0],Gt[1]=Ur[1]}if(Ce.touches[1]&&(Ur=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),Gt[2]=Ur[0],Gt[3]=Ur[1]),Ce.touches[2]&&(Ur=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),Gt[4]=Ur[0],Gt[5]=Ur[1]),dt&&dt.unactivate(),u.touchData.cxt){if(Zr={originalEvent:Ce,type:"cxttapend",position:{x:Gt[0],y:Gt[1]}},dt?dt.emit(Zr):xt.emit(Zr),!u.touchData.cxtDragged){var hr={originalEvent:Ce,type:"cxttap",position:{x:Gt[0],y:Gt[1]}};dt?dt.emit(hr):xt.emit(hr)}return u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxt=!1,u.touchData.start=null,void u.redraw()}if(!Ce.touches[2]&&xt.boxSelectionEnabled()&&u.touchData.selecting){u.touchData.selecting=!1;var qr=xt.collection(u.getAllInBox(Et[0],Et[1],Et[2],Et[3]));Et[0]=void 0,Et[1]=void 0,Et[2]=void 0,Et[3]=void 0,Et[4]=0,u.redrawHint("select",!0),xt.emit({type:"boxend",originalEvent:Ce,position:{x:Gt[0],y:Gt[1]}}),qr.emit("box").stdFilter(function(Xd){return Xd.selectable()&&!Xd.selected()}).select().emit("boxselect"),qr.nonempty()&&u.redrawHint("eles",!0),u.redraw()}if(dt?.unactivate(),Ce.touches[2])u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);else if(!Ce.touches[1]&&!Ce.touches[0]&&!Ce.touches[0]){u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);var wr=u.dragData.touchDragEles;if(null!=dt){var to=dt._private.grabbed;q(wr),u.redrawHint("drag",!0),u.redrawHint("eles",!0),to&&(dt.emit("freeon"),wr.emit("free"),u.dragData.didDrag&&(dt.emit("dragfreeon"),wr.emit("dragfree"))),l(dt,["touchend","tapend","vmouseup","tapdragout"],Ce,{x:Gt[0],y:Gt[1]}),dt.unactivate(),u.touchData.start=null}else{var no=u.findNearestElement(Gt[0],Gt[1],!0,!0);l(no,["touchend","tapend","vmouseup","tapdragout"],Ce,{x:Gt[0],y:Gt[1]})}var Il=u.touchData.startPosition[0]-Gt[0],Ea=u.touchData.startPosition[1]-Gt[1],Io=(Il*Il+Ea*Ea)*mr*mr;u.touchData.singleTouchMoved||(dt||xt.$(":selected").unselect(["tapunselect"]),l(dt,["tap","vclick"],Ce,{x:Gt[0],y:Gt[1]}),Xn=!1,Ce.timeStamp-sn<=xt.multiClickDebounceTime()?(ar&&clearTimeout(ar),Xn=!0,sn=null,l(dt,["dbltap","vdblclick"],Ce,{x:Gt[0],y:Gt[1]})):(ar=setTimeout(function(){Xn||l(dt,["onetap","voneclick"],Ce,{x:Gt[0],y:Gt[1]})},xt.multiClickDebounceTime()),sn=Ce.timeStamp)),null!=dt&&!u.dragData.didDrag&&dt._private.selectable&&Io<u.touchTapThreshold2&&!u.pinching&&("single"===xt.selectionType()?(xt.$(o).unmerge(dt).unselect(["tapunselect"]),dt.select(["tapselect"])):dt.selected()?dt.unselect(["tapunselect"]):dt.select(["tapselect"]),u.redrawHint("eles",!0)),u.touchData.singleTouchMoved=!0}for(var xa=0;xa<Gt.length;xa++)Dn[xa]=Gt[xa];u.dragData.didDrag=!1,0===Ce.touches.length&&(u.touchData.dragDelta=[],u.touchData.startPosition=null,u.touchData.startGPosition=null,u.touchData.didSelect=!1),Ce.touches.length<2&&(1===Ce.touches.length&&(u.touchData.startGPosition=[Ce.touches[0].clientX,Ce.touches[0].clientY]),u.pinching=!1,u.redrawHint("eles",!0),u.redraw())}},!1),typeof TouchEvent>"u"){var Jt=[],Pn=function(Ce){return{clientX:Ce.clientX,clientY:Ce.clientY,force:1,identifier:Ce.pointerId,pageX:Ce.pageX,pageY:Ce.pageY,radiusX:Ce.width/2,radiusY:Ce.height/2,screenX:Ce.screenX,screenY:Ce.screenY,target:Ce.target}},Rn=function(Ce){for(var dt=0;dt<Jt.length;dt++)if(Jt[dt].event.pointerId===Ce.pointerId)return void Jt.splice(dt,1)},fr=function(Ce){Ce.touches=Jt.map(function(dt){return dt.touch})},$n=function(Ce){return"mouse"===Ce.pointerType||4===Ce.pointerType};u.registerBinding(u.container,"pointerdown",function(zt){$n(zt)||(zt.preventDefault(),Jt.push(function(Ce){return{event:Ce,touch:Pn(Ce)}}(zt)),fr(zt),Mt(zt))}),u.registerBinding(u.container,"pointerup",function(zt){$n(zt)||(Rn(zt),fr(zt),rn(zt))}),u.registerBinding(u.container,"pointercancel",function(zt){$n(zt)||(Rn(zt),fr(zt),Wt())}),u.registerBinding(u.container,"pointermove",function(zt){var Ce,dt;$n(zt)||(zt.preventDefault(),Ce=zt,(dt=Jt.filter(function(kt){return kt.event.pointerId===Ce.pointerId})[0]).event=Ce,dt.touch=Pn(Ce),fr(zt),Nt(zt))})}};var Qt={generatePolygon:function(u,o){return this.nodeShapes[u]={renderer:this,name:u,points:o,draw:function(f,h,p,g,w){this.renderer.nodeShapeImpl("polygon",f,h,p,g,w,this.points)},intersectLine:function(f,h,p,g,w,x,E){return Gl(w,x,this.points,f,h,p/2,g/2,E)},checkPoint:function(f,h,p,g,w,x,E){return ka(f,h,this.points,x,E,g,w,[0,-1],p)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,w){return function(o,l,f,h,p,g){var w=f-o,x=h-l;w/=p,x/=g;var E=Math.sqrt(w*w+x*x),M=E-1;if(M<0)return[];var F=M/E;return[(f-o)*F+o,(h-l)*F+l]}(p,g,o,l,f/2+w,h/2+w)},checkPoint:function(o,l,f,h,p,g,w){return Xa(o,l,h,p,g,w,f)}}},generateRoundPolygon:function(u,o){for(var l=new Array(2*o.length),f=0;f<o.length/2;f++){var p,h=2*f;p=f<o.length/2-1?2*(f+1):0,l[4*f]=o[h],l[4*f+1]=o[h+1];var g=o[p]-o[h],w=o[p+1]-o[h+1],x=Math.sqrt(g*g+w*w);l[4*f+2]=g/x,l[4*f+3]=w/x}return this.nodeShapes[u]={renderer:this,name:u,points:l,draw:function(M,F,z,W,j){this.renderer.nodeShapeImpl("round-polygon",M,F,z,W,j,this.points)},intersectLine:function(M,F,z,W,j,q,J){return function(o,l,f,h,p,g,w,x){for(var M,E=[],F=new Array(f.length),z=g/2,W=w/2,j=uc(g,w),q=0;q<f.length/4;q++){var re,J;J=0===q?f.length-2:4*q-2,re=4*q+2;var fe=h+z*f[4*q],he=p+W*f[4*q+1],Me=j/Math.tan(Math.acos(-f[J]*f[re]-f[J+1]*f[re+1])/2),Ie=fe-Me*f[J],ye=he-Me*f[J+1],Se=fe+Me*f[re],we=he+Me*f[re+1];0===q?(F[f.length-2]=Ie,F[f.length-1]=ye):(F[4*q-2]=Ie,F[4*q-1]=ye),F[4*q]=Se,F[4*q+1]=we;var ke=f[J+1],Pe=-f[J];ke*f[re]+Pe*f[re+1]<0&&(ke*=-1,Pe*=-1),0!==(M=gl(o,l,h,p,Ie+ke*j,ye+Pe*j,j)).length&&E.push(M[0],M[1])}for(var Ke=0;Ke<F.length/4;Ke++)0!==(M=ss(o,l,h,p,F[4*Ke],F[4*Ke+1],F[4*Ke+2],F[4*Ke+3],!1)).length&&E.push(M[0],M[1]);if(E.length>2){for(var Ue=[E[0],E[1]],Ge=Math.pow(Ue[0]-o,2)+Math.pow(Ue[1]-l,2),ot=1;ot<E.length/2;ot++){var ct=Math.pow(E[2*ot]-o,2)+Math.pow(E[2*ot+1]-l,2);ct<=Ge&&(Ue[0]=E[2*ot],Ue[1]=E[2*ot+1],Ge=ct)}return Ue}return E}(j,q,this.points,M,F,z,W)},checkPoint:function(M,F,z,W,j,q,J){return function(o,l,f,h,p,g,w){for(var x=new Array(f.length),E=g/2,M=w/2,F=uc(g,w),z=F*F,W=0;W<f.length/4;W++){var q,j;j=0===W?f.length-2:4*W-2,q=4*W+2;var J=h+E*f[4*W],re=p+M*f[4*W+1],he=F/Math.tan(Math.acos(-f[j]*f[q]-f[j+1]*f[q+1])/2),ve=J-he*f[j],Me=re-he*f[j+1],Ie=J+he*f[q],ye=re+he*f[q+1];x[4*W]=ve,x[4*W+1]=Me,x[4*W+2]=Ie,x[4*W+3]=ye;var Se=f[j+1],we=-f[j];Se*f[q]+we*f[q+1]<0&&(Se*=-1,we*=-1);var Ee=Me+we*F;if(Math.pow(ve+Se*F-o,2)+Math.pow(Ee-l,2)<=z)return!0}return Ko(o,l,x)}(M,F,this.points,q,J,W,j)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Zo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,w){return an(p,g,o,l,f,h,w)},checkPoint:function(o,l,f,h,p,g,w){var x=wu(h,p),E=2*x;return!!(ka(o,l,this.points,g,w,h,p-E,[0,-1],f)||ka(o,l,this.points,g,w,h-E,p,[0,-1],f)||Xa(o,l,E,E,g-h/2+x,w-p/2+x,f)||Xa(o,l,E,E,g+h/2-x,w-p/2+x,f)||Xa(o,l,E,E,g+h/2-x,w+p/2-x,f)||Xa(o,l,E,E,g-h/2+x,w+p/2-x,f))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Zo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},generateCutTrianglePts:function(o,l,f,h){var p=this.cornerLength,g=l/2,w=o/2,x=f-w,E=f+w,M=h-g,F=h+g;return{topLeft:[x,M+p,x+p,M,x+p,M+p],topRight:[E-p,M,E,M+p,E-p,M+p],bottomRight:[E,F-p,E-p,F,E-p,F-p],bottomLeft:[x+p,F,x,F-p,x+p,F-p]}},intersectLine:function(o,l,f,h,p,g,w){var x=this.generateCutTrianglePts(f+2*w,h+2*w,o,l),E=[].concat.apply([],[x.topLeft.splice(0,4),x.topRight.splice(0,4),x.bottomRight.splice(0,4),x.bottomLeft.splice(0,4)]);return Gl(p,g,E,o,l)},checkPoint:function(o,l,f,h,p,g,w){if(ka(o,l,this.points,g,w,h,p-2*this.cornerLength,[0,-1],f)||ka(o,l,this.points,g,w,h-2*this.cornerLength,p,[0,-1],f))return!0;var x=this.generateCutTrianglePts(h,p,g,w);return Ko(o,l,x.topLeft)||Ko(o,l,x.topRight)||Ko(o,l,x.bottomRight)||Ko(o,l,x.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Zo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,w){var F=this.generateBarrelBezierPts(f+2*w,h+2*w,o,l),z=function(q){var J=vo({x:q[0],y:q[1]},{x:q[2],y:q[3]},{x:q[4],y:q[5]},.15),re=vo({x:q[0],y:q[1]},{x:q[2],y:q[3]},{x:q[4],y:q[5]},.5),fe=vo({x:q[0],y:q[1]},{x:q[2],y:q[3]},{x:q[4],y:q[5]},.85);return[q[0],q[1],J.x,J.y,re.x,re.y,fe.x,fe.y,q[4],q[5]]},W=[].concat(z(F.topLeft),z(F.topRight),z(F.bottomRight),z(F.bottomLeft));return Gl(p,g,W,o,l)},generateBarrelBezierPts:function(o,l,f,h){var p=l/2,g=o/2,w=f-g,x=f+g,E=h-p,M=h+p,F=dh(o,l),z=F.heightOffset,W=F.widthOffset,j=F.ctrlPtOffsetPct*o,q={topLeft:[w,E+z,w+j,E,w+W,E],topRight:[x-W,E,x-j,E,x,E+z],bottomRight:[x,M-z,x-j,M,x-W,M],bottomLeft:[w+W,M,w+j,M,w,M-z]};return q.topLeft.isTop=!0,q.topRight.isTop=!0,q.bottomLeft.isBottom=!0,q.bottomRight.isBottom=!0,q},checkPoint:function(o,l,f,h,p,g,w){var x=dh(h,p),M=x.widthOffset;if(ka(o,l,this.points,g,w,h,p-2*x.heightOffset,[0,-1],f)||ka(o,l,this.points,g,w,h-2*M,p,[0,-1],f))return!0;for(var F=this.generateBarrelBezierPts(h,p,g,w),z=function(ye,Se,we){var ke=we[4],Pe=we[2],Ee=we[0],He=we[5],Ne=we[1],Ke=Math.min(ke,Ee),Ue=Math.max(ke,Ee),Ge=Math.min(He,Ne),ot=Math.max(He,Ne);if(Ke<=ye&&ye<=Ue&&Ge<=Se&&Se<=ot){var ct=function(o,l,f){return[o-2*l+f,2*(l-o),o]}(ke,Pe,Ee),vt=function(o,l,f,h){var p=l*l-4*o*(f-=h);if(p<0)return[];var g=Math.sqrt(p),w=2*o;return[(-l+g)/w,(-l-g)/w]}(ct[0],ct[1],ct[2],ye),st=vt.filter(function(mt){return 0<=mt&&mt<=1});if(st.length>0)return st[0]}return null},W=Object.keys(F),j=0;j<W.length;j++){var J=F[W[j]],re=z(o,l,J);if(null!=re){var Me=di(J[5],J[3],J[1],re);if(J.isTop&&Me<=l||J.isBottom&&l<=Me)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Zo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,w){var E=l-(h/2+w),z=ss(p,g,o,l,o-(f/2+w),E,o+(f/2+w),E,!1);return z.length>0?z:an(p,g,o,l,f,h,w)},checkPoint:function(o,l,f,h,p,g,w){var x=wu(h,p),E=2*x;if(ka(o,l,this.points,g,w,h,p-E,[0,-1],f)||ka(o,l,this.points,g,w,h-E,p,[0,-1],f))return!0;var M=h/2+2*f,F=p/2+2*f;return!!(Ko(o,l,[g-M,w-F,g-M,w,g+M,w,g+M,w-F])||Xa(o,l,E,E,g+h/2-x,w+p/2-x,f)||Xa(o,l,E,E,g-h/2+x,w+p/2-x,f))}}},registerNodeShapes:function(){var u=this.nodeShapes={},o=this;this.generateEllipse(),this.generatePolygon("triangle",Zo(3,0)),this.generateRoundPolygon("round-triangle",Zo(3,0)),this.generatePolygon("rectangle",Zo(4,0)),u.square=u.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var l=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",l),this.generateRoundPolygon("round-diamond",l),this.generatePolygon("pentagon",Zo(5,0)),this.generateRoundPolygon("round-pentagon",Zo(5,0)),this.generatePolygon("hexagon",Zo(6,0)),this.generateRoundPolygon("round-hexagon",Zo(6,0)),this.generatePolygon("heptagon",Zo(7,0)),this.generateRoundPolygon("round-heptagon",Zo(7,0)),this.generatePolygon("octagon",Zo(8,0)),this.generateRoundPolygon("round-octagon",Zo(8,0));var f=new Array(20),h=bu(5,0),p=bu(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var w=0;w<p.length/2;w++)p[2*w]*=g,p[2*w+1]*=g;for(w=0;w<5;w++)f[4*w]=h[2*w],f[4*w+1]=h[2*w+1],f[4*w+2]=p[2*w],f[4*w+3]=p[2*w+1];f=lc(f),this.generatePolygon("star",f),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var x=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",x),this.generateRoundPolygon("round-tag",x),u.makePolygon=function(E){var z,F="polygon-"+E.join("$");return(z=this[F])?z:o.generatePolygon(F,E)}}},Xt={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(u){u=u||Cn();var o=this;void 0===o.averageRedrawTime&&(o.averageRedrawTime=0),void 0===o.lastRedrawTime&&(o.lastRedrawTime=0),void 0===o.lastDrawTime&&(o.lastDrawTime=0),o.requestedFrame=!0,o.renderOptions=u},beforeRender:function(u,o){if(!this.destroyed){null==o&&ni("Priority is not optional for beforeRender");var l=this.beforeRenderCallbacks;l.push({fn:u,priority:o}),l.sort(function(f,h){return h.priority-f.priority})}}},$t=function(o,l,f){for(var h=o.beforeRenderCallbacks,p=0;p<h.length;p++)h[p].fn(l,f)};Xt.startRenderLoop=function(){var u=this,o=u.cy;u.renderLoopStarted||(u.renderLoopStarted=!0,mu(function f(h){if(!u.destroyed){if(!o.batching())if(u.requestedFrame&&!u.skipFrame){$t(u,!0,h);var p=Si();u.render(u.renderOptions);var g=u.lastDrawTime=Si();void 0===u.averageRedrawTime&&(u.averageRedrawTime=g-p),void 0===u.redrawCount&&(u.redrawCount=0),u.redrawCount++,void 0===u.redrawTotalTime&&(u.redrawTotalTime=0);var w=g-p;u.redrawTotalTime+=w,u.lastRedrawTime=w,u.averageRedrawTime=u.averageRedrawTime/2+w/2,u.requestedFrame=!1}else $t(u,!1,h);u.skipFrame=!1,mu(f)}}))};var En=function(o){this.init(o)},nr=En.prototype;nr.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],nr.init=function(u){var o=this;o.options=u,o.cy=u.cy;var l=o.container=u.cy.container();if(oe){var f=oe.document,h=f.head,p="__________cytoscape_stylesheet",g="__________cytoscape_container",w=null!=f.getElementById(p);if(l.className.indexOf(g)<0&&(l.className=(l.className||"")+" "+g),!w){var x=f.createElement("style");x.id=p,x.textContent="."+g+" { position: relative; }",h.insertBefore(x,h.children[0])}"static"===oe.getComputedStyle(l).getPropertyValue("position")&&Sr("A Cytoscape container has style position:static and so can not use UI extensions properly")}o.selection=[void 0,void 0,void 0,void 0,0],o.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],o.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},o.dragData={possibleDragElements:[]},o.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},o.redraws=0,o.showFps=u.showFps,o.debug=u.debug,o.hideEdgesOnViewport=u.hideEdgesOnViewport,o.textureOnViewport=u.textureOnViewport,o.wheelSensitivity=u.wheelSensitivity,o.motionBlurEnabled=u.motionBlur,o.forcedPixelRatio=Xe(u.pixelRatio)?u.pixelRatio:null,o.motionBlur=u.motionBlur,o.motionBlurOpacity=u.motionBlurOpacity,o.motionBlurTransparency=1-o.motionBlurOpacity,o.motionBlurPxRatio=1,o.mbPxRBlurry=1,o.minMbLowQualFrames=4,o.fullQualityMb=!1,o.clearedForMotionBlur=[],o.desktopTapThreshold=u.desktopTapThreshold,o.desktopTapThreshold2=u.desktopTapThreshold*u.desktopTapThreshold,o.touchTapThreshold=u.touchTapThreshold,o.touchTapThreshold2=u.touchTapThreshold*u.touchTapThreshold,o.tapholdDuration=500,o.bindings=[],o.beforeRenderCallbacks=[],o.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},o.registerNodeShapes(),o.registerArrowShapes(),o.registerCalculationListeners()},nr.notify=function(u,o){var l=this,f=l.cy;if(!this.destroyed){if("init"===u)return void l.load();if("destroy"===u)return void l.destroy();("add"===u||"remove"===u||"move"===u&&f.hasCompoundNodes()||"load"===u||"zorder"===u||"mount"===u)&&l.invalidateCachedZSortedEles(),"viewport"===u&&l.redrawHint("select",!0),("load"===u||"resize"===u||"mount"===u)&&(l.invalidateContainerClientCoordsCache(),l.matchCanvasSize(l.container)),l.redrawHint("eles",!0),l.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},nr.destroy=function(){var u=this;u.destroyed=!0,u.cy.stopAnimationLoop();for(var o=0;o<u.bindings.length;o++){var l=u.bindings[o],h=l.target;(h.off||h.removeEventListener).apply(h,l.args)}if(u.bindings=[],u.beforeRenderCallbacks=[],u.onUpdateEleCalcsFns=[],u.removeObserver&&u.removeObserver.disconnect(),u.styleObserver&&u.styleObserver.disconnect(),u.resizeObserver&&u.resizeObserver.disconnect(),u.labelCalcDiv)try{document.body.removeChild(u.labelCalcDiv)}catch{}},nr.isHeadless=function(){return!1},[Ci,bt,Ut,jt,Qt,Xt].forEach(function(u){Nn(nr,u)});var dr=1e3/60,Ai_setupDequeueing=function(o){return function(){var f=this,h=this.renderer;if(!f.dequeueingSetup){f.dequeueingSetup=!0;var p=N.default(function(){h.redrawHint("eles",!0),h.redrawHint("drag",!0),h.redraw()},o.deqRedrawThreshold);h.beforeRender(function(E,M){var F=Si(),z=h.averageRedrawTime,W=h.lastRedrawTime,j=[],q=h.cy.extent(),J=h.getPixelRatio();for(E||h.flushRenderedStyleQueue();;){var re=Si(),fe=re-F,he=re-M;if(W<dr){if(he>=o.deqFastCost*(dr-(E?z:0)))break}else if(E){if(fe>=o.deqCost*W||fe>=o.deqAvgCost*z)break}else if(he>=o.deqNoDrawCost*dr)break;var Me=o.deq(f,J,q);if(!(Me.length>0))break;for(var Ie=0;Ie<Me.length;Ie++)j.push(Me[Ie])}j.length>0&&(o.onDeqd(f,j),!E&&o.shouldRedraw(f,j,J,q)&&p())},(o.priority||nd)(f))}}},Ei=function(){function u(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ms;$(this,u),this.idsByKey=new St,this.keyForId=new St,this.cachesByLvl=new St,this.lvls=[],this.getKey=o,this.doesEleInvalidateKey=l}return ue(u,[{key:"getIdsFor",value:function(l){null==l&&ni("Can not get id list for null key");var f=this.idsByKey,h=this.idsByKey.get(l);return h||(h=new Is,f.set(l,h)),h}},{key:"addIdForKey",value:function(l,f){null!=l&&this.getIdsFor(l).add(f)}},{key:"deleteIdForKey",value:function(l,f){null!=l&&this.getIdsFor(l).delete(f)}},{key:"getNumberOfIdsForKey",value:function(l){return null==l?0:this.getIdsFor(l).size}},{key:"updateKeyMappingFor",value:function(l){var f=l.id(),h=this.keyForId.get(f),p=this.getKey(l);this.deleteIdForKey(h,f),this.addIdForKey(p,f),this.keyForId.set(f,p)}},{key:"deleteKeyMappingFor",value:function(l){var f=l.id(),h=this.keyForId.get(f);this.deleteIdForKey(h,f),this.keyForId.delete(f)}},{key:"keyHasChangedFor",value:function(l){var f=l.id();return this.keyForId.get(f)!==this.getKey(l)}},{key:"isInvalid",value:function(l){return this.keyHasChangedFor(l)||this.doesEleInvalidateKey(l)}},{key:"getCachesAt",value:function(l){var f=this.cachesByLvl,h=this.lvls,p=f.get(l);return p||(p=new St,f.set(l,p),h.push(l)),p}},{key:"getCache",value:function(l,f){return this.getCachesAt(f).get(l)}},{key:"get",value:function(l,f){var h=this.getKey(l),p=this.getCache(h,f);return null!=p&&this.updateKeyMappingFor(l),p}},{key:"getForCachedKey",value:function(l,f){var h=this.keyForId.get(l.id());return this.getCache(h,f)}},{key:"hasCache",value:function(l,f){return this.getCachesAt(f).has(l)}},{key:"has",value:function(l,f){var h=this.getKey(l);return this.hasCache(h,f)}},{key:"setCache",value:function(l,f,h){h.key=l,this.getCachesAt(f).set(l,h)}},{key:"set",value:function(l,f,h){var p=this.getKey(l);this.setCache(p,f,h),this.updateKeyMappingFor(l)}},{key:"deleteCache",value:function(l,f){this.getCachesAt(f).delete(l)}},{key:"delete",value:function(l,f){var h=this.getKey(l);this.deleteCache(h,f)}},{key:"invalidateKey",value:function(l){var f=this;this.lvls.forEach(function(h){return f.deleteCache(l,h)})}},{key:"invalidate",value:function(l){var f=l.id(),h=this.keyForId.get(f);this.deleteKeyMappingFor(l);var p=this.doesEleInvalidateKey(l);return p&&this.invalidateKey(h),p||0===this.getNumberOfIdsForKey(h)}}]),u}(),Ni={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Oc=li({getKey:null,doesEleInvalidateKey:Ms,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:nc,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),ns=function(o,l){var f=this;f.renderer=o,f.onDequeues=[];var h=Oc(l);Nn(f,h),f.lookup=new Ei(h.getKey,h.doesEleInvalidateKey),f.setupDequeueing()},Jo=ns.prototype;Jo.reasons=Ni,Jo.getTextureQueue=function(u){var o=this;return o.eleImgCaches=o.eleImgCaches||{},o.eleImgCaches[u]=o.eleImgCaches[u]||[]},Jo.getRetiredTextureQueue=function(u){var l=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return l[u]=l[u]||[]},Jo.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new A.default(function(l,f){return f.reqs-l.reqs})},Jo.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Jo.getElement=function(u,o,l,f,h){var p=this,g=this.renderer,w=g.cy.zoom(),x=this.lookup;if(!o||0===o.w||0===o.h||isNaN(o.w)||isNaN(o.h)||!u.visible()||u.removed()||!p.allowEdgeTxrCaching&&u.isEdge()||!p.allowParentTxrCaching&&u.isParent())return null;if(null==f&&(f=Math.ceil(Hi(w*l))),f<-4)f=-4;else if(w>=7.99||f>3)return null;var E=Math.pow(2,f),M=o.h*E,F=o.w*E,z=g.eleTextBiggerThanMin(u,E);if(!this.isVisible(u,z))return null;var j,W=x.get(u,f);if(W&&W.invalidated&&(W.invalidated=!1,W.texture.invalidatedWidth-=W.width),W)return W;if(j=M<=25?25:M<=50?50:50*Math.ceil(M/50),M>1024||F>1024)return null;var q=p.getTextureQueue(j),J=q[q.length-2],re=function(){return p.recycleTexture(j,F)||p.addTexture(j,F)};J||(J=q[q.length-1]),J||(J=re()),J.width-J.usedWidth<F&&(J=re());for(var Ie,fe=function(Ue){return Ue&&Ue.scaledLabelShown===z},he=h&&h===Ni.dequeue,ve=h&&h===Ni.highQuality,Me=h&&h===Ni.downscale,ye=f+1;ye<=3;ye++){var Se=x.get(u,ye);if(Se){Ie=Se;break}}var we=Ie&&Ie.level===f+1?Ie:null,ke=function(){J.context.drawImage(we.texture.canvas,we.x,0,we.width,we.height,J.usedWidth,0,F,M)};if(J.context.setTransform(1,0,0,1,0,0),J.context.clearRect(J.usedWidth,0,F,j),fe(we))ke();else if(fe(Ie)){if(!ve)return p.queueElement(u,Ie.level-1),Ie;for(var Pe=Ie.level;Pe>f;Pe--)we=p.getElement(u,o,l,Pe,Ni.downscale);ke()}else{var Ee;if(!he&&!ve&&!Me)for(var He=f-1;He>=-4;He--){var Ne=x.get(u,He);if(Ne){Ee=Ne;break}}if(fe(Ee))return p.queueElement(u,f),Ee;J.context.translate(J.usedWidth,0),J.context.scale(E,E),this.drawElement(J.context,u,o,z,!1),J.context.scale(1/E,1/E),J.context.translate(-J.usedWidth,0)}return W={x:J.usedWidth,texture:J,level:f,scale:E,width:F,height:M,scaledLabelShown:z},J.usedWidth+=Math.ceil(F+8),J.eleCaches.push(W),x.set(u,f,W),p.checkTextureFullness(J),W},Jo.invalidateElements=function(u){for(var o=0;o<u.length;o++)this.invalidateElement(u[o])},Jo.invalidateElement=function(u){var o=this,l=o.lookup,f=[];if(l.isInvalid(u)){for(var p=-4;p<=3;p++){var g=l.getForCachedKey(u,p);g&&f.push(g)}if(l.invalidate(u))for(var x=0;x<f.length;x++){var E=f[x],M=E.texture;M.invalidatedWidth+=E.width,E.invalidated=!0,o.checkTextureUtility(M)}o.removeFromQueue(u)}},Jo.checkTextureUtility=function(u){u.invalidatedWidth>=.2*u.width&&this.retireTexture(u)},Jo.checkTextureFullness=function(u){var l=this.getTextureQueue(u.height);u.usedWidth/u.width>.8&&u.fullnessChecks>=10?$a(l,u):u.fullnessChecks++},Jo.retireTexture=function(u){var l=u.height,f=this.getTextureQueue(l),h=this.lookup;$a(f,u),u.retired=!0;for(var p=u.eleCaches,g=0;g<p.length;g++){var w=p[g];h.deleteCache(w.key,w.level)}Ro(p),this.getRetiredTextureQueue(l).push(u)},Jo.addTexture=function(u,o){var h={};return this.getTextureQueue(u).push(h),h.eleCaches=[],h.height=u,h.width=Math.max(1024,o),h.usedWidth=0,h.invalidatedWidth=0,h.fullnessChecks=0,h.canvas=this.renderer.makeOffscreenCanvas(h.width,h.height),h.context=h.canvas.getContext("2d"),h},Jo.recycleTexture=function(u,o){for(var f=this.getTextureQueue(u),h=this.getRetiredTextureQueue(u),p=0;p<h.length;p++){var g=h[p];if(g.width>=o)return g.retired=!1,g.usedWidth=0,g.invalidatedWidth=0,g.fullnessChecks=0,Ro(g.eleCaches),g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(0,0,g.width,g.height),$a(h,g),f.push(g),g}},Jo.queueElement=function(u,o){var f=this.getElementQueue(),h=this.getElementKeyToQueue(),p=this.getKey(u),g=h[p];if(g)g.level=Math.max(g.level,o),g.eles.merge(u),g.reqs++,f.updateItem(g);else{var w={eles:u.spawn().merge(u),level:o,reqs:1,key:p};f.push(w),h[p]=w}},Jo.dequeue=function(u){for(var o=this,l=o.getElementQueue(),f=o.getElementKeyToQueue(),h=[],p=o.lookup,g=0;g<1&&l.size()>0;g++){var w=l.pop(),x=w.key,E=w.eles[0],M=p.hasCache(E,w.level);if(f[x]=null,!M){h.push(w);var F=o.getBoundingBox(E);o.getElement(E,F,u,w.level,Ni.dequeue)}}return h},Jo.removeFromQueue=function(u){var l=this.getElementQueue(),f=this.getElementKeyToQueue(),h=this.getKey(u),p=f[h];null!=p&&(1===p.eles.length?(p.reqs=tc,l.updateItem(p),l.pop(),f[h]=null):p.eles.unmerge(u))},Jo.onDequeue=function(u){this.onDequeues.push(u)},Jo.offDequeue=function(u){$a(this.onDequeues,u)},Jo.setupDequeueing=Ai_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l,f){return o.dequeue(l,f)},onDeqd:function(o,l){for(var f=0;f<o.onDequeues.length;f++)(0,o.onDequeues[f])(l)},shouldRedraw:function(o,l,f,h){for(var p=0;p<l.length;p++)for(var g=l[p].eles,w=0;w<g.length;w++){var x=g[w].boundingBox();if(tr(x,h))return!0}return!1},priority:function(o){return o.renderer.beforeRenderPriorities.eleTxrDeq}});var uw=function(o){var l=this,f=l.renderer=o,h=f.cy;l.layersByLevel={},l.firstGet=!0,l.lastInvalidationTime=Si()-500,l.skipping=!1,l.eleTxrDeqs=h.collection(),l.scheduleElementRefinement=N.default(function(){l.refineElementTextures(l.eleTxrDeqs),l.eleTxrDeqs.unmerge(l.eleTxrDeqs)},50),f.beforeRender(function(g,w){l.skipping=w-l.lastInvalidationTime<=250},f.beforeRenderPriorities.lyrTxrSkip),l.layersQueue=new A.default(function(w,x){return x.reqs-w.reqs}),l.setupDequeueing()},Ca=uw.prototype,wy=0,cw=Math.pow(2,53)-1;Ca.makeLayer=function(u,o){var l=Math.pow(2,o),f=Math.ceil(u.w*l),h=Math.ceil(u.h*l),p=this.renderer.makeOffscreenCanvas(f,h),g={id:wy=++wy%cw,bb:u,level:o,width:f,height:h,canvas:p,context:p.getContext("2d"),eles:[],elesQueue:[],reqs:0},w=g.context,x=-g.bb.x1,E=-g.bb.y1;return w.scale(l,l),w.translate(x,E),g},Ca.getLayers=function(u,o,l){var f=this,g=f.renderer.cy.zoom(),w=f.firstGet;if(f.firstGet=!1,null==l)if((l=Math.ceil(Hi(g*o)))<-4)l=-4;else if(g>=3.99||l>2)return null;f.validateLayersElesOrdering(l,u);var F,W,x=f.layersByLevel,E=Math.pow(2,l),M=x[l]=x[l]||[];if(f.levelIsComplete(l,u))return M;!function(){var ke=function(Ke){if(f.validateLayersElesOrdering(Ke,u),f.levelIsComplete(Ke,u))return W=x[Ke],!0},Pe=function(Ke){if(!W)for(var Ue=l+Ke;-4<=Ue&&Ue<=2&&!ke(Ue);Ue+=Ke);};Pe(1),Pe(-1);for(var Ee=M.length-1;Ee>=0;Ee--){var He=M[Ee];He.invalid&&$a(M,He)}}();var J=function(ke){var Pe=(ke=ke||{}).after;if(function(){if(!F){F=Mi();for(var ke=0;ke<u.length;ke++)zl(F,u[ke].boundingBox())}}(),F.w*E*(F.h*E)>16e6)return null;var He=f.makeLayer(F,l);if(null!=Pe){var Ne=M.indexOf(Pe)+1;M.splice(Ne,0,He)}else(void 0===ke.insert||ke.insert)&&M.unshift(He);return He};if(f.skipping&&!w)return null;for(var re=null,fe=u.length/1,he=!w,ve=0;ve<u.length;ve++){var Me=u[ve],Ie=Me._private.rscratch,ye=Ie.imgLayerCaches=Ie.imgLayerCaches||{},Se=ye[l];if(Se)re=Se;else{if((!re||re.eles.length>=fe||!od(re.bb,Me.boundingBox()))&&!(re=J({insert:!0,after:re})))return null;W||he?f.queueLayer(re,Me):f.drawEleInLayer(re,Me,l,o),re.eles.push(Me),ye[l]=re}}return W||(he?null:M)},Ca.getEleLevelForLayerLevel=function(u,o){return u},Ca.drawEleInLayer=function(u,o,l,f){var p=this.renderer,g=u.context,w=o.boundingBox();0===w.w||0===w.h||!o.visible()||(l=this.getEleLevelForLayerLevel(l,f),p.setImgSmoothing(g,!1),p.drawCachedElement(g,o,null,null,l,!0),p.setImgSmoothing(g,!0))},Ca.levelIsComplete=function(u,o){var f=this.layersByLevel[u];if(!f||0===f.length)return!1;for(var h=0,p=0;p<f.length;p++){var g=f[p];if(g.reqs>0||g.invalid)return!1;h+=g.eles.length}return h===o.length},Ca.validateLayersElesOrdering=function(u,o){var l=this.layersByLevel[u];if(l)for(var f=0;f<l.length;f++){for(var h=l[f],p=-1,g=0;g<o.length;g++)if(h.eles[0]===o[g]){p=g;break}if(p<0)this.invalidateLayer(h);else{var w=p;for(g=0;g<h.eles.length;g++)if(h.eles[g]!==o[w+g]){this.invalidateLayer(h);break}}}},Ca.updateElementsInLayers=function(u,o){for(var f=mn(u[0]),h=0;h<u.length;h++)for(var p=f?null:u[h],g=f?u[h]:u[h].ele,w=g._private.rscratch,x=w.imgLayerCaches=w.imgLayerCaches||{},E=-4;E<=2;E++){var M=x[E];M&&(p&&this.getEleLevelForLayerLevel(M.level)!==p.level||o(M,g,p))}},Ca.haveLayers=function(){for(var o=!1,l=-4;l<=2;l++){var f=this.layersByLevel[l];if(f&&f.length>0){o=!0;break}}return o},Ca.invalidateElements=function(u){var o=this;0!==u.length&&(o.lastInvalidationTime=Si(),0!==u.length&&o.haveLayers()&&o.updateElementsInLayers(u,function(f,h,p){o.invalidateLayer(f)}))},Ca.invalidateLayer=function(u){if(this.lastInvalidationTime=Si(),!u.invalid){var o=u.level,l=u.eles;$a(this.layersByLevel[o],u),u.elesQueue=[],u.invalid=!0,u.replacement&&(u.replacement.invalid=!0);for(var h=0;h<l.length;h++){var p=l[h]._private.rscratch.imgLayerCaches;p&&(p[o]=null)}}},Ca.refineElementTextures=function(u){var o=this;o.updateElementsInLayers(u,function(f,h,p){var g=f.replacement;if(g||((g=f.replacement=o.makeLayer(f.bb,f.level)).replaces=f,g.eles=f.eles),!g.reqs)for(var w=0;w<g.eles.length;w++)o.queueLayer(g,g.eles[w])})},Ca.enqueueElementRefinement=function(u){this.eleTxrDeqs.merge(u),this.scheduleElementRefinement()},Ca.queueLayer=function(u,o){var f=this.layersQueue,h=u.elesQueue,p=h.hasId=h.hasId||{};if(!u.replacement){if(o){if(p[o.id()])return;h.push(o),p[o.id()]=!0}u.reqs?(u.reqs++,f.updateItem(u)):(u.reqs=1,f.push(u))}},Ca.dequeue=function(u){for(var o=this,l=o.layersQueue,f=[],h=0;h<1&&0!==l.size();){var p=l.peek();if(p.replacement)l.pop();else if(p.replaces&&p!==p.replaces.replacement)l.pop();else if(p.invalid)l.pop();else{var g=p.elesQueue.shift();g&&(o.drawEleInLayer(p,g,p.level,u),h++),0===f.length&&f.push(!0),0===p.elesQueue.length&&(l.pop(),p.reqs=0,p.replaces&&o.applyLayerReplacement(p),o.requestRedraw())}}return f},Ca.applyLayerReplacement=function(u){var l=this.layersByLevel[u.level],f=u.replaces,h=l.indexOf(f);if(!(h<0||f.invalid)){l[h]=u;for(var p=0;p<u.eles.length;p++){var g=u.eles[p]._private,w=g.imgLayerCaches=g.imgLayerCaches||{};w&&(w[u.level]=u)}this.requestRedraw()}},Ca.requestRedraw=N.default(function(){var u=this.renderer;u.redrawHint("eles",!0),u.redrawHint("drag",!0),u.redraw()},100),Ca.setupDequeueing=Ai_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l){return o.dequeue(l)},onDeqd:nd,shouldRedraw:nc,priority:function(o){return o.renderer.beforeRenderPriorities.lyrTxrDeq}});var _m,Uh={};function dw(u,o){for(var l=0;l<o.length;l++){var f=o[l];u.lineTo(f.x,f.y)}}function _y(u,o,l){for(var f,h=0;h<o.length;h++){var p=o[h];0===h&&(f=p),u.lineTo(p.x,p.y)}u.quadraticCurveTo(l.x,l.y,f.x,f.y)}function fw(u,o,l){u.beginPath&&u.beginPath();for(var f=o,h=0;h<f.length;h++)u.lineTo((p=f[h]).x,p.y);var g=l,w=l[0];for(u.moveTo(w.x,w.y),h=1;h<g.length;h++){var p;u.lineTo((p=g[h]).x,p.y)}u.closePath&&u.closePath()}function Cy(u,o,l,f,h){u.beginPath&&u.beginPath(),u.arc(l,f,h,0,2*Math.PI,!1);var p=o,g=p[0];u.moveTo(g.x,g.y);for(var w=0;w<p.length;w++){var x=p[w];u.lineTo(x.x,x.y)}u.closePath&&u.closePath()}function Yx(u,o,l,f){u.arc(o,l,f,0,2*Math.PI,!1)}Uh.arrowShapeImpl=function(u){return(_m||(_m={polygon:dw,"triangle-backcurve":_y,"triangle-tee":fw,"circle-triangle":Cy,"triangle-cross":fw,circle:Yx}))[u]};var ou={drawElement:function(u,o,l,f,h,p){o.isNode()?this.drawNode(u,o,l,f,h,p):this.drawEdge(u,o,l,f,h,p)},drawElementOverlay:function(u,o){o.isNode()?this.drawNodeOverlay(u,o):this.drawEdgeOverlay(u,o)},drawElementUnderlay:function(u,o){o.isNode()?this.drawNodeUnderlay(u,o):this.drawEdgeUnderlay(u,o)},drawCachedElementPortion:function(u,o,l,f,h,p,g,w){var x=this,E=l.getBoundingBox(o);if(0!==E.w&&0!==E.h){var M=l.getElement(o,E,f,h,p);if(null!=M){var F=w(x,o);if(0===F)return;var re,fe,he,ve,Me,Se,z=g(x,o),W=E.x1,j=E.y1,q=E.w,J=E.h;if(0!==z){var Ie=l.getRotationPoint(o);u.translate(he=Ie.x,ve=Ie.y),u.rotate(z),(Me=x.getImgSmoothing(u))||x.setImgSmoothing(u,!0);var ye=l.getRotationOffset(o);re=ye.x,fe=ye.y}else re=W,fe=j;1!==F&&(u.globalAlpha=(Se=u.globalAlpha)*F),u.drawImage(M.texture.canvas,M.x,0,M.width,M.height,re,fe,q,J),1!==F&&(u.globalAlpha=Se),0!==z&&(u.rotate(-z),u.translate(-he,-ve),Me||x.setImgSmoothing(u,!1))}else l.drawElement(u,o)}}},hw=function(){return 0},Cm=function(o,l){return o.getTextAngle(l,null)},Xx=function(o,l){return o.getTextAngle(l,"source")},Kx=function(o,l){return o.getTextAngle(l,"target")},Em=function(o,l){return l.effectiveOpacity()},Ey=function(o,l){return l.pstyle("text-opacity").pfValue*l.effectiveOpacity()};ou.drawCachedElement=function(u,o,l,f,h,p){var g=this,w=g.data,x=w.eleTxrCache,E=w.lblTxrCache,M=w.slbTxrCache,F=w.tlbTxrCache,z=o.boundingBox(),W=!0===p?x.reasons.highQuality:null;if(0!==z.w&&0!==z.h&&o.visible()&&(!f||tr(z,f))){var j=o.isEdge(),q=o.element()._private.rscratch.badLine;g.drawElementUnderlay(u,o),g.drawCachedElementPortion(u,o,x,l,h,W,hw,Em),(!j||!q)&&g.drawCachedElementPortion(u,o,E,l,h,W,Cm,Ey),j&&!q&&(g.drawCachedElementPortion(u,o,M,l,h,W,Xx,Ey),g.drawCachedElementPortion(u,o,F,l,h,W,Kx,Ey)),g.drawElementOverlay(u,o)}},ou.drawElements=function(u,o){for(var f=0;f<o.length;f++)this.drawElement(u,o[f])},ou.drawCachedElements=function(u,o,l,f){for(var p=0;p<o.length;p++)this.drawCachedElement(u,o[p],l,f)},ou.drawCachedNodes=function(u,o,l,f){for(var p=0;p<o.length;p++){var g=o[p];g.isNode()&&this.drawCachedElement(u,g,l,f)}},ou.drawLayeredElements=function(u,o,l,f){var p=this.data.lyrTxrCache.getLayers(o,l);if(p)for(var g=0;g<p.length;g++){var w=p[g],x=w.bb;0===x.w||0===x.h||u.drawImage(w.canvas,x.x1,x.y1,x.w,x.h)}else this.drawCachedElements(u,o,l,f)};var Nc={drawEdge:function(u,o,l){var f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,w=o._private.rscratch;if((!p||o.visible())&&!w.badLine&&null!=w.allpts&&!isNaN(w.allpts[0])){var x;l&&u.translate(-(x=l).x1,-x.y1);var E=p?o.pstyle("opacity").value:1,M=p?o.pstyle("line-opacity").value:1,F=o.pstyle("curve-style").value,z=o.pstyle("line-style").value,W=o.pstyle("width").pfValue,j=o.pstyle("line-cap").value,q=E*M,J=E*M,re=function(){var Ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;"straight-triangle"===F?(g.eleStrokeStyle(u,o,Ee),g.drawEdgeTrianglePath(o,u,w.allpts)):(u.lineWidth=W,u.lineCap=j,g.eleStrokeStyle(u,o,Ee),g.drawEdgePath(o,u,w.allpts,z),u.lineCap="butt")},ve=function(){g.drawArrowheads(u,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:J)};if(u.lineJoin="round","yes"===o.pstyle("ghost").value){var ye=o.pstyle("ghost-offset-x").pfValue,Se=o.pstyle("ghost-offset-y").pfValue,we=o.pstyle("ghost-opacity").value,ke=q*we;u.translate(ye,Se),re(ke),ve(ke),u.translate(-ye,-Se)}h&&g.drawEdgeUnderlay(u,o),re(),ve(),h&&g.drawEdgeOverlay(u,o),g.drawElementText(u,o,null,f),l&&u.translate(x.x1,x.y1)}}},pw=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,f){if(f.visible()){var h=f.pstyle("".concat(o,"-opacity")).value;if(0!==h){var p=this,g=p.usePaths(),w=f._private.rscratch,E=2*f.pstyle("".concat(o,"-padding")).pfValue,M=f.pstyle("".concat(o,"-color")).value;l.lineWidth=E,l.lineCap="self"!==w.edgeType||g?"round":"butt",p.colorStrokeStyle(l,M[0],M[1],M[2],h),p.drawEdgePath(f,l,w.allpts,"solid")}}}};Nc.drawEdgeOverlay=pw("overlay"),Nc.drawEdgeUnderlay=pw("underlay"),Nc.drawEdgePath=function(u,o,l,f){var g,h=u._private.rscratch,p=o,w=!1,x=this.usePaths(),E=u.pstyle("line-dash-pattern").pfValue,M=u.pstyle("line-dash-offset").pfValue;if(x){var F=l.join("$");h.pathCacheKey&&h.pathCacheKey===F?(g=o=h.pathCache,w=!0):(g=o=new Path2D,h.pathCacheKey=F,h.pathCache=g)}if(p.setLineDash)switch(f){case"dotted":p.setLineDash([1,1]);break;case"dashed":p.setLineDash(E),p.lineDashOffset=M;break;case"solid":p.setLineDash([])}if(!w&&!h.badLine)switch(o.beginPath&&o.beginPath(),o.moveTo(l[0],l[1]),h.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var W=2;W+3<l.length;W+=4)o.quadraticCurveTo(l[W],l[W+1],l[W+2],l[W+3]);break;case"straight":case"segments":case"haystack":for(var j=2;j+1<l.length;j+=2)o.lineTo(l[j],l[j+1])}o=p,x?o.stroke(g):o.stroke(),o.setLineDash&&o.setLineDash([])},Nc.drawEdgeTrianglePath=function(u,o,l){o.fillStyle=o.strokeStyle;for(var f=u.pstyle("width").pfValue,h=0;h+1<l.length;h+=2){var p=[l[h+2]-l[h],l[h+3]-l[h+1]],g=Math.sqrt(p[0]*p[0]+p[1]*p[1]),w=[p[1]/g,-p[0]/g],x=[w[0]*f/2,w[1]*f/2];o.beginPath(),o.moveTo(l[h]-x[0],l[h+1]-x[1]),o.lineTo(l[h]+x[0],l[h+1]+x[1]),o.lineTo(l[h+2],l[h+3]),o.closePath(),o.fill()}},Nc.drawArrowheads=function(u,o,l){var f=o._private.rscratch,h="haystack"===f.edgeType;h||this.drawArrowhead(u,o,"source",f.arrowStartX,f.arrowStartY,f.srcArrowAngle,l),this.drawArrowhead(u,o,"mid-target",f.midX,f.midY,f.midtgtArrowAngle,l),this.drawArrowhead(u,o,"mid-source",f.midX,f.midY,f.midsrcArrowAngle,l),h||this.drawArrowhead(u,o,"target",f.arrowEndX,f.arrowEndY,f.tgtArrowAngle,l)},Nc.drawArrowhead=function(u,o,l,f,h,p,g){if(!(isNaN(f)||null==f||isNaN(h)||null==h||isNaN(p)||null==p)){var w=this,x=o.pstyle(l+"-arrow-shape").value;if("none"!==x){var E="hollow"===o.pstyle(l+"-arrow-fill").value?"both":"filled",M=o.pstyle(l+"-arrow-fill").value,F=o.pstyle("width").pfValue,z=o.pstyle("opacity").value;void 0===g&&(g=z);var W=u.globalCompositeOperation;(1!==g||"hollow"===M)&&(u.globalCompositeOperation="destination-out",w.colorFillStyle(u,255,255,255,1),w.colorStrokeStyle(u,255,255,255,1),w.drawArrowShape(o,u,E,F,x,f,h,p),u.globalCompositeOperation=W);var j=o.pstyle(l+"-arrow-color").value;w.colorFillStyle(u,j[0],j[1],j[2],g),w.colorStrokeStyle(u,j[0],j[1],j[2],g),w.drawArrowShape(o,u,M,F,x,f,h,p)}}},Nc.drawArrowShape=function(u,o,l,f,h,p,g,w){var F,x=this,E=this.usePaths()&&"triangle-cross"!==h,M=!1,z=o,W={x:p,y:g},j=u.pstyle("arrow-scale").value,q=this.getArrowWidth(f,j),J=x.arrowShapes[h];if(E){var re=x.arrowPathCache=x.arrowPathCache||[],fe=as(h),he=re[fe];null!=he?(F=o=he,M=!0):(F=o=new Path2D,re[fe]=F)}M||(o.beginPath&&o.beginPath(),E?J.draw(o,1,0,{x:0,y:0},1):J.draw(o,q,w,W,f),o.closePath&&o.closePath()),o=z,E&&(o.translate(p,g),o.rotate(w),o.scale(q,q)),("filled"===l||"both"===l)&&(E?o.fill(F):o.fill()),("hollow"===l||"both"===l)&&(o.lineWidth=(J.matchEdgeWidth?f:1)/(E?q:1),o.lineJoin="miter",E?o.stroke(F):o.stroke()),E&&(o.scale(1/q,1/q),o.rotate(-w),o.translate(-p,-g))};var xy={safeDrawImage:function(u,o,l,f,h,p,g,w,x,E){if(!(h<=0||p<=0||x<=0||E<=0))try{u.drawImage(o,l,f,h,p,g,w,x,E)}catch(M){Sr(M)}},drawInscribedImage:function(u,o,l,f,h){var p=this,g=l.position(),w=g.x,x=g.y,E=l.cy().style(),M=E.getIndexedStyle.bind(E),F=M(l,"background-fit","value",f),z=M(l,"background-repeat","value",f),W=l.width(),j=l.height(),q=2*l.padding(),J=W+("inner"===M(l,"background-width-relative-to","value",f)?0:q),re=j+("inner"===M(l,"background-height-relative-to","value",f)?0:q),fe=l._private.rscratch,ve="node"===M(l,"background-clip","value",f),Me=M(l,"background-image-opacity","value",f)*h,Ie=M(l,"background-image-smoothing","value",f),ye=o.width||o.cachedW,Se=o.height||o.cachedH;(null==ye||null==Se)&&(document.body.appendChild(o),ye=o.cachedW=o.width||o.offsetWidth,Se=o.cachedH=o.height||o.offsetHeight,document.body.removeChild(o));var we=ye,ke=Se;if("auto"!==M(l,"background-width","value",f)&&(we="%"===M(l,"background-width","units",f)?M(l,"background-width","pfValue",f)*J:M(l,"background-width","pfValue",f)),"auto"!==M(l,"background-height","value",f)&&(ke="%"===M(l,"background-height","units",f)?M(l,"background-height","pfValue",f)*re:M(l,"background-height","pfValue",f)),0!==we&&0!==ke){if("contain"===F)we*=Pe=Math.min(J/we,re/ke),ke*=Pe;else if("cover"===F){var Pe;we*=Pe=Math.max(J/we,re/ke),ke*=Pe}var Ee=w-J/2,He=M(l,"background-position-x","units",f),Ne=M(l,"background-position-x","pfValue",f);Ee+="%"===He?(J-we)*Ne:Ne;var Ke=M(l,"background-offset-x","units",f),Ue=M(l,"background-offset-x","pfValue",f);Ee+="%"===Ke?(J-we)*Ue:Ue;var Ge=x-re/2,ot=M(l,"background-position-y","units",f),ct=M(l,"background-position-y","pfValue",f);Ge+="%"===ot?(re-ke)*ct:ct;var vt=M(l,"background-offset-y","units",f),st=M(l,"background-offset-y","pfValue",f);Ge+="%"===vt?(re-ke)*st:st,fe.pathCache&&(Ee-=w,Ge-=x,w=0,x=0);var mt=u.globalAlpha;u.globalAlpha=Me;var At=p.getImgSmoothing(u),Ot=!1;if("no"===Ie&&At?(p.setImgSmoothing(u,!1),Ot=!0):"yes"===Ie&&!At&&(p.setImgSmoothing(u,!0),Ot=!0),"no-repeat"===z)ve&&(u.save(),fe.pathCache?u.clip(fe.pathCache):(p.nodeShapes[p.getNodeShape(l)].draw(u,w,x,J,re),u.clip())),p.safeDrawImage(u,o,0,0,ye,Se,Ee,Ge,we,ke),ve&&u.restore();else{var Dt=u.createPattern(o,z);u.fillStyle=Dt,p.nodeShapes[p.getNodeShape(l)].draw(u,w,x,J,re),u.translate(Ee,Ge),u.fill(),u.translate(-Ee,-Ge)}u.globalAlpha=mt,Ot&&p.setImgSmoothing(u,At)}}},zf={eleTextBiggerThanMin:function(u,o){if(!o){var l=u.cy().zoom(),f=this.getPixelRatio(),h=Math.ceil(Hi(l*f));o=Math.pow(2,h)}return!(u.pstyle("font-size").pfValue*o<u.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(u,o,l,f,h){var p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this;if(null==f){if(p&&!g.eleTextBiggerThanMin(o))return}else if(!1===f)return;if(o.isNode()){var w=o.pstyle("label");if(!w||!w.value)return;var x=g.getLabelJustification(o);u.textAlign=x,u.textBaseline="bottom"}else{var E=o.element()._private.rscratch.badLine,M=o.pstyle("label"),F=o.pstyle("source-label"),z=o.pstyle("target-label");if(E||(!M||!M.value)&&(!F||!F.value)&&(!z||!z.value))return;u.textAlign="center",u.textBaseline="bottom"}var j,W=!l;l&&u.translate(-(j=l).x1,-j.y1),null==h?(g.drawText(u,o,null,W,p),o.isEdge()&&(g.drawText(u,o,"source",W,p),g.drawText(u,o,"target",W,p))):g.drawText(u,o,h,W,p),l&&u.translate(j.x1,j.y1)},getFontCache:function(u){var o;this.fontCaches=this.fontCaches||[];for(var l=0;l<this.fontCaches.length;l++)if((o=this.fontCaches[l]).context===u)return o;return this.fontCaches.push(o={context:u}),o},setupTextStyle:function(u,o){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=o.pstyle("font-style").strValue,h=o.pstyle("font-size").pfValue+"px",p=o.pstyle("font-family").strValue,g=o.pstyle("font-weight").strValue,w=l?o.effectiveOpacity()*o.pstyle("text-opacity").value:1,x=o.pstyle("text-outline-opacity").value*w,E=o.pstyle("color").value,M=o.pstyle("text-outline-color").value;u.font=f+" "+g+" "+h+" "+p,u.lineJoin="round",this.colorFillStyle(u,E[0],E[1],E[2],w),this.colorStrokeStyle(u,M[0],M[1],M[2],x)},getTextAngle:function(u,o){var h=u._private.rscratch,g=u.pstyle((o?o+"-":"")+"text-rotation"),w=Qi(h,"labelAngle",o);return"autorotate"===g.strValue?u.isEdge()?w:0:"none"===g.strValue?0:g.pfValue},drawText:function(u,o,l){var f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=o._private.rscratch,w=h?o.effectiveOpacity():1;if(!h||0!==w&&0!==o.pstyle("text-opacity").value){"main"===l&&(l=null);var M,F,x=Qi(g,"labelX",l),E=Qi(g,"labelY",l),z=this.getLabelText(o,l);if(null!=z&&""!==z&&!isNaN(x)&&!isNaN(E)){this.setupTextStyle(u,o,h);var Me,W=l?l+"-":"",j=Qi(g,"labelWidth",l),q=Qi(g,"labelHeight",l),J=o.pstyle(W+"text-margin-x").pfValue,re=o.pstyle(W+"text-margin-y").pfValue,fe=o.isEdge(),he=o.pstyle("text-halign").value,ve=o.pstyle("text-valign").value;switch(fe&&(he="center",ve="center"),x+=J,E+=re,0!==(Me=f?this.getTextAngle(o,l):0)&&(u.translate(M=x,F=E),u.rotate(Me),x=0,E=0),ve){case"top":break;case"center":E+=q/2;break;case"bottom":E+=q}var Ie=o.pstyle("text-background-opacity").value,ye=o.pstyle("text-border-opacity").value,Se=o.pstyle("text-border-width").pfValue,we=o.pstyle("text-background-padding").pfValue;if(Ie>0||Se>0&&ye>0){var ke=x-we;switch(he){case"left":ke-=j;break;case"center":ke-=j/2}var Pe=E-q-we,Ee=j+2*we,He=q+2*we;if(Ie>0){var Ne=u.fillStyle,Ke=o.pstyle("text-background-color").value;u.fillStyle="rgba("+Ke[0]+","+Ke[1]+","+Ke[2]+","+Ie*w+")",0===o.pstyle("text-background-shape").strValue.indexOf("round")?function gw(u,o,l,f,h){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;u.beginPath(),u.moveTo(o+p,l),u.lineTo(o+f-p,l),u.quadraticCurveTo(o+f,l,o+f,l+p),u.lineTo(o+f,l+h-p),u.quadraticCurveTo(o+f,l+h,o+f-p,l+h),u.lineTo(o+p,l+h),u.quadraticCurveTo(o,l+h,o,l+h-p),u.lineTo(o,l+p),u.quadraticCurveTo(o,l,o+p,l),u.closePath(),u.fill()}(u,ke,Pe,Ee,He,2):u.fillRect(ke,Pe,Ee,He),u.fillStyle=Ne}if(Se>0&&ye>0){var Ge=u.strokeStyle,ot=u.lineWidth,ct=o.pstyle("text-border-color").value,vt=o.pstyle("text-border-style").value;if(u.strokeStyle="rgba("+ct[0]+","+ct[1]+","+ct[2]+","+ye*w+")",u.lineWidth=Se,u.setLineDash)switch(vt){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash([4,2]);break;case"double":u.lineWidth=Se/4,u.setLineDash([]);break;case"solid":u.setLineDash([])}if(u.strokeRect(ke,Pe,Ee,He),"double"===vt){var st=Se/2;u.strokeRect(ke+st,Pe+st,Ee-2*st,He-2*st)}u.setLineDash&&u.setLineDash([]),u.lineWidth=ot,u.strokeStyle=Ge}}var mt=2*o.pstyle("text-outline-width").pfValue;if(mt>0&&(u.lineWidth=mt),"wrap"===o.pstyle("text-wrap").value){var At=Qi(g,"labelWrapCachedLines",l),Ot=Qi(g,"labelLineHeight",l),Dt=j/2,_t=this.getLabelJustification(o);switch("auto"===_t||("left"===he?"left"===_t?x+=-j:"center"===_t&&(x+=-Dt):"center"===he?"left"===_t?x+=-Dt:"right"===_t&&(x+=Dt):"right"===he&&("center"===_t?x+=Dt:"right"===_t&&(x+=j))),ve){case"top":case"center":case"bottom":E-=(At.length-1)*Ot}for(var Je=0;Je<At.length;Je++)mt>0&&u.strokeText(At[Je],x,E),u.fillText(At[Je],x,E),E+=Ot}else mt>0&&u.strokeText(z,x,E),u.fillText(z,x,E);0!==Me&&(u.rotate(-Me),u.translate(-M,-F))}}}},Bu={drawNode:function(u,o,l){var w,x,f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,E=o._private,M=E.rscratch,F=o.position();if(Xe(F.x)&&Xe(F.y)&&(!p||o.visible())){var j,re,z=p?o.effectiveOpacity():1,W=g.usePaths(),q=!1,J=o.padding();w=o.width()+2*J,x=o.height()+2*J,l&&u.translate(-(re=l).x1,-re.y1);for(var he=o.pstyle("background-image").value,ve=new Array(he.length),Me=new Array(he.length),Ie=0,ye=0;ye<he.length;ye++){var Se=he[ye];if(ve[ye]=null!=Se&&"none"!==Se){var ke=o.cy().style().getIndexedStyle(o,"background-image-crossorigin","value",ye);Ie++,Me[ye]=g.getCachedImage(Se,ke,function(){E.backgroundTimestamp=Date.now(),o.emitAndNotify("background")})}}var Pe=o.pstyle("background-blacken").value,Ee=o.pstyle("border-width").pfValue,He=o.pstyle("background-opacity").value*z,Ne=o.pstyle("border-color").value,Ke=o.pstyle("border-style").value,Ue=o.pstyle("border-opacity").value*z;u.lineJoin="miter";var Ge=function(){g.eleFillStyle(u,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:He)},ot=function(){g.colorStrokeStyle(u,Ne[0],Ne[1],Ne[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue)},ct=o.pstyle("shape").strValue,vt=o.pstyle("shape-polygon-points").pfValue;if(W){u.translate(F.x,F.y);var st=g.nodePathCache=g.nodePathCache||[],mt=ed("polygon"===ct?ct+","+vt.join(","):ct,""+x,""+w),At=st[mt];null!=At?(q=!0,M.pathCache=j=At):(j=new Path2D,st[mt]=M.pathCache=j)}var Ot=function(){if(!q){var un=F;W&&(un={x:0,y:0}),g.nodeShapes[g.getNodeShape(o)].draw(j||u,un.x,un.y,w,x)}W?u.fill(j):u.fill()},Dt=function(){for(var un=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,Rn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Nr=E.backgrounding,fr=0,$n=0;$n<Me.length;$n++){var zt=o.cy().style().getIndexedStyle(o,"background-image-containment","value",$n);Rn&&"over"===zt||!Rn&&"inside"===zt?fr++:ve[$n]&&Me[$n].complete&&!Me[$n].error&&(fr++,g.drawInscribedImage(u,Me[$n],o,$n,un))}E.backgrounding=fr!==Ie,Nr!==E.backgrounding&&o.updateStyle(!1)},_t=function(){var un=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Rn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;g.hasPie(o)&&(g.drawPie(u,o,Rn),un&&(W||g.nodeShapes[g.getNodeShape(o)].draw(u,F.x,F.y,w,x)))},Je=function(){var Nr=Pe>0?0:255;0!==Pe&&(g.colorFillStyle(u,Nr,Nr,Nr,(Pe>0?Pe:-Pe)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:z)),W?u.fill(j):u.fill())},Mt=function(){if(Ee>0){if(u.lineWidth=Ee,u.lineCap="butt",u.setLineDash)switch(Ke){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash([4,2]);break;case"solid":case"double":u.setLineDash([])}if(W?u.stroke(j):u.stroke(),"double"===Ke){u.lineWidth=Ee/3;var un=u.globalCompositeOperation;u.globalCompositeOperation="destination-out",W?u.stroke(j):u.stroke(),u.globalCompositeOperation=un}u.setLineDash&&u.setLineDash([])}};if("yes"===o.pstyle("ghost").value){var ar=o.pstyle("ghost-offset-x").pfValue,sn=o.pstyle("ghost-offset-y").pfValue,Jt=o.pstyle("ghost-opacity").value,Pn=Jt*z;u.translate(ar,sn),Ge(Jt*He),Ot(),Dt(Pn,!0),ot(Jt*Ue),Mt(),_t(0!==Pe||0!==Ee),Dt(Pn,!1),Je(Pn),u.translate(-ar,-sn)}W&&u.translate(-F.x,-F.y),h&&g.drawNodeUnderlay(u,o,F,w,x),W&&u.translate(F.x,F.y),Ge(),Ot(),Dt(z,!0),ot(),Mt(),_t(0!==Pe||0!==Ee),Dt(z,!1),Je(),W&&u.translate(-F.x,-F.y),g.drawElementText(u,o,null,f),h&&g.drawNodeOverlay(u,o,F,w,x),l&&u.translate(re.x1,re.y1)}}},Zp=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,f,h,p,g){if(f.visible()){var x=f.pstyle("".concat(o,"-padding")).pfValue,E=f.pstyle("".concat(o,"-opacity")).value,M=f.pstyle("".concat(o,"-color")).value,F=f.pstyle("".concat(o,"-shape")).value;if(E>0){if(h=h||f.position(),null==p||null==g){var z=f.padding();p=f.width()+2*z,g=f.height()+2*z}this.colorFillStyle(l,M[0],M[1],M[2],E),this.nodeShapes[F].draw(l,h.x,h.y,p+2*x,g+2*x),l.fill()}}}};Bu.drawNodeOverlay=Zp("overlay"),Bu.drawNodeUnderlay=Zp("underlay"),Bu.hasPie=function(u){return(u=u[0])._private.hasPie},Bu.drawPie=function(u,o,l,f){o=o[0],f=f||o.position();var h=o.cy().style(),p=o.pstyle("pie-size"),g=f.x,w=f.y,x=o.width(),E=o.height(),M=Math.min(x,E)/2,F=0;this.usePaths()&&(g=0,w=0),"%"===p.units?M*=p.pfValue:void 0!==p.pfValue&&(M=p.pfValue/2);for(var W=1;W<=h.pieBackgroundN;W++){var j=o.pstyle("pie-"+W+"-background-size").value,q=o.pstyle("pie-"+W+"-background-color").value,J=o.pstyle("pie-"+W+"-background-opacity").value*l,re=j/100;re+F>1&&(re=1-F);var fe=1.5*Math.PI+2*Math.PI*F,ve=fe+2*Math.PI*re;0===j||F>=1||F+re>1||(u.beginPath(),u.moveTo(g,w),u.arc(g,w,M,fe,ve),u.closePath(),this.colorFillStyle(u,q[0],q[1],q[2],J),u.fill(),F+=re)}};for(var bs={getPixelRatio:function(){var u=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(u.backingStorePixelRatio||u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1)},paintCache:function(u){for(var f,o=this.paintCaches=this.paintCaches||[],l=!0,h=0;h<o.length;h++)if((f=o[h]).context===u){l=!1;break}return l&&o.push(f={context:u}),f},createGradientStyleFor:function(u,o,l,f,h){var p,g=this.usePaths(),w=l.pstyle(o+"-gradient-stop-colors").value,x=l.pstyle(o+"-gradient-stop-positions").pfValue;if("radial-gradient"===f)if(l.isEdge()){var E=l.sourceEndpoint(),M=l.targetEndpoint(),F=l.midpoint(),z=zi(E,F),W=zi(M,F);p=u.createRadialGradient(F.x,F.y,0,F.x,F.y,Math.max(z,W))}else{var j=g?{x:0,y:0}:l.position(),q=l.paddedWidth(),J=l.paddedHeight();p=u.createRadialGradient(j.x,j.y,0,j.x,j.y,Math.max(q,J))}else if(l.isEdge()){var re=l.sourceEndpoint(),fe=l.targetEndpoint();p=u.createLinearGradient(re.x,re.y,fe.x,fe.y)}else{var he=g?{x:0,y:0}:l.position(),Ie=l.paddedWidth()/2,ye=l.paddedHeight()/2;switch(l.pstyle("background-gradient-direction").value){case"to-bottom":p=u.createLinearGradient(he.x,he.y-ye,he.x,he.y+ye);break;case"to-top":p=u.createLinearGradient(he.x,he.y+ye,he.x,he.y-ye);break;case"to-left":p=u.createLinearGradient(he.x+Ie,he.y,he.x-Ie,he.y);break;case"to-right":p=u.createLinearGradient(he.x-Ie,he.y,he.x+Ie,he.y);break;case"to-bottom-right":case"to-right-bottom":p=u.createLinearGradient(he.x-Ie,he.y-ye,he.x+Ie,he.y+ye);break;case"to-top-right":case"to-right-top":p=u.createLinearGradient(he.x-Ie,he.y+ye,he.x+Ie,he.y-ye);break;case"to-bottom-left":case"to-left-bottom":p=u.createLinearGradient(he.x+Ie,he.y-ye,he.x-Ie,he.y+ye);break;case"to-top-left":case"to-left-top":p=u.createLinearGradient(he.x+Ie,he.y+ye,he.x-Ie,he.y-ye)}}if(!p)return null;for(var we=x.length===w.length,ke=w.length,Pe=0;Pe<ke;Pe++)p.addColorStop(we?x[Pe]:Pe/(ke-1),"rgba("+w[Pe][0]+","+w[Pe][1]+","+w[Pe][2]+","+h+")");return p},gradientFillStyle:function(u,o,l,f){var h=this.createGradientStyleFor(u,"background",o,l,f);if(!h)return null;u.fillStyle=h},colorFillStyle:function(u,o,l,f,h){u.fillStyle="rgba("+o+","+l+","+f+","+h+")"},eleFillStyle:function(u,o,l){var f=o.pstyle("background-fill").value;if("linear-gradient"===f||"radial-gradient"===f)this.gradientFillStyle(u,o,f,l);else{var h=o.pstyle("background-color").value;this.colorFillStyle(u,h[0],h[1],h[2],l)}},gradientStrokeStyle:function(u,o,l,f){var h=this.createGradientStyleFor(u,"line",o,l,f);if(!h)return null;u.strokeStyle=h},colorStrokeStyle:function(u,o,l,f,h){u.strokeStyle="rgba("+o+","+l+","+f+","+h+")"},eleStrokeStyle:function(u,o,l){var f=o.pstyle("line-fill").value;if("linear-gradient"===f||"radial-gradient"===f)this.gradientStrokeStyle(u,o,f,l);else{var h=o.pstyle("line-color").value;this.colorStrokeStyle(u,h[0],h[1],h[2],l)}},matchCanvasSize:function(u){var o=this,l=o.data,f=o.findContainerClientCoords(),h=f[2],p=f[3],g=o.getPixelRatio();(u===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE]||u===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG])&&(g=o.motionBlurPxRatio);var M,x=h*g,E=p*g;if(x!==o.canvasWidth||E!==o.canvasHeight){o.fontCaches=null;var F=l.canvasContainer;F.style.width=h+"px",F.style.height=p+"px";for(var z=0;z<o.CANVAS_LAYERS;z++)(M=l.canvases[z]).width=x,M.height=E,M.style.width=h+"px",M.style.height=p+"px";for(z=0;z<o.BUFFER_COUNT;z++)(M=l.bufferCanvases[z]).width=x,M.height=E,M.style.width=h+"px",M.style.height=p+"px";o.textureMult=1,g<=1&&(M=l.bufferCanvases[o.TEXTURE_BUFFER],o.textureMult=2,M.width=x*o.textureMult,M.height=E*o.textureMult),o.canvasWidth=x,o.canvasHeight=E}},renderTo:function(u,o,l,f){this.render({forcedContext:u,forcedZoom:o,forcedPan:l,drawAllLayers:!0,forcedPxRatio:f})},render:function(u){var o=(u=u||Cn()).forcedContext,l=u.drawAllLayers,f=u.drawOnlyNodeLayer,h=u.forcedZoom,p=u.forcedPan,g=this,w=void 0===u.forcedPxRatio?this.getPixelRatio():u.forcedPxRatio,x=g.cy,E=g.data,M=E.canvasNeedsRedraw,F=g.textureOnViewport&&!o&&(g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming),z=void 0!==u.motionBlur?u.motionBlur:g.motionBlur,W=g.motionBlurPxRatio,j=x.hasCompoundNodes(),q=g.hoverData.draggingEles,re=z=z&&!o&&g.motionBlurEnabled&&!(g.hoverData.selecting||g.touchData.selecting);o||(g.prevPxRatio!==w&&(g.invalidateContainerClientCoordsCache(),g.matchCanvasSize(g.container),g.redrawHint("eles",!0),g.redrawHint("drag",!0)),g.prevPxRatio=w),!o&&g.motionBlurTimeout&&clearTimeout(g.motionBlurTimeout),z&&(null==g.mbFrames&&(g.mbFrames=0),g.mbFrames++,g.mbFrames<3&&(re=!1),g.mbFrames>g.minMbLowQualFrames&&(g.motionBlurPxRatio=g.mbPxRBlurry)),g.clearingMotionBlur&&(g.motionBlurPxRatio=1),g.textureDrawLastFrame&&!F&&(M[g.NODE]=!0,M[g.SELECT_BOX]=!0);var fe=x.style(),he=x.zoom(),ve=void 0!==h?h:he,Me=x.pan(),Ie={x:Me.x,y:Me.y},ye={zoom:he,pan:{x:Me.x,y:Me.y}},Se=g.prevViewport;!(void 0===Se||ye.zoom!==Se.zoom||ye.pan.x!==Se.pan.x||ye.pan.y!==Se.pan.y)&&!(q&&!j)&&(g.motionBlurPxRatio=1),p&&(Ie=p),ve*=w,Ie.x*=w,Ie.y*=w;var ke=g.getCachedZSortedEles();function Pe(sn,Jt,Pn,xn,un){var Rn=sn.globalCompositeOperation;sn.globalCompositeOperation="destination-out",g.colorFillStyle(sn,255,255,255,g.motionBlurTransparency),sn.fillRect(Jt,Pn,xn,un),sn.globalCompositeOperation=Rn}function Ee(sn,Jt){var Pn,xn,un,Rn;g.clearingMotionBlur||sn!==E.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]&&sn!==E.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]?(Pn=Ie,xn=ve,un=g.canvasWidth,Rn=g.canvasHeight):(Pn={x:Me.x*W,y:Me.y*W},xn=he*W,un=g.canvasWidth*W,Rn=g.canvasHeight*W),sn.setTransform(1,0,0,1,0,0),"motionBlur"===Jt?Pe(sn,0,0,un,Rn):!o&&(void 0===Jt||Jt)&&sn.clearRect(0,0,un,Rn),l||(sn.translate(Pn.x,Pn.y),sn.scale(xn,xn)),p&&sn.translate(p.x,p.y),h&&sn.scale(h,h)}if(F||(g.textureDrawLastFrame=!1),F){if(g.textureDrawLastFrame=!0,!g.textureCache){g.textureCache={},g.textureCache.bb=x.mutableElements().boundingBox(),g.textureCache.texture=g.data.bufferCanvases[g.TEXTURE_BUFFER];var He=g.data.bufferContexts[g.TEXTURE_BUFFER];He.setTransform(1,0,0,1,0,0),He.clearRect(0,0,g.canvasWidth*g.textureMult,g.canvasHeight*g.textureMult),g.render({forcedContext:He,drawOnlyNodeLayer:!0,forcedPxRatio:w*g.textureMult}),(ye=g.textureCache.viewport={zoom:x.zoom(),pan:x.pan(),width:g.canvasWidth,height:g.canvasHeight}).mpan={x:(0-ye.pan.x)/ye.zoom,y:(0-ye.pan.y)/ye.zoom}}M[g.DRAG]=!1,M[g.NODE]=!1;var Ke=g.textureCache.texture;ye=g.textureCache.viewport,(Ne=E.contexts[g.NODE]).setTransform(1,0,0,1,0,0),z?Pe(Ne,0,0,ye.width,ye.height):Ne.clearRect(0,0,ye.width,ye.height);var Ue=fe.core("outside-texture-bg-color").value,Ge=fe.core("outside-texture-bg-opacity").value;g.colorFillStyle(Ne,Ue[0],Ue[1],Ue[2],Ge),Ne.fillRect(0,0,ye.width,ye.height),he=x.zoom(),Ee(Ne,!1),Ne.clearRect(ye.mpan.x,ye.mpan.y,ye.width/ye.zoom/w,ye.height/ye.zoom/w),Ne.drawImage(Ke,ye.mpan.x,ye.mpan.y,ye.width/ye.zoom/w,ye.height/ye.zoom/w)}else g.textureOnViewport&&!o&&(g.textureCache=null);var ot=x.extent(),ct=g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming||g.hoverData.draggingEles||g.cy.animated(),vt=g.hideEdgesOnViewport&&ct,st=[];if(st[g.NODE]=!M[g.NODE]&&z&&!g.clearedForMotionBlur[g.NODE]||g.clearingMotionBlur,st[g.NODE]&&(g.clearedForMotionBlur[g.NODE]=!0),st[g.DRAG]=!M[g.DRAG]&&z&&!g.clearedForMotionBlur[g.DRAG]||g.clearingMotionBlur,st[g.DRAG]&&(g.clearedForMotionBlur[g.DRAG]=!0),M[g.NODE]||l||f||st[g.NODE]){var mt=z&&!st[g.NODE]&&1!==W;Ee(Ne=o||(mt?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]:E.contexts[g.NODE]),z&&!mt?"motionBlur":void 0),vt?g.drawCachedNodes(Ne,ke.nondrag,w,ot):g.drawLayeredElements(Ne,ke.nondrag,w,ot),g.debug&&g.drawDebugPoints(Ne,ke.nondrag),!l&&!z&&(M[g.NODE]=!1)}if(!f&&(M[g.DRAG]||l||st[g.DRAG])&&(mt=z&&!st[g.DRAG]&&1!==W,Ee(Ne=o||(mt?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]:E.contexts[g.DRAG]),z&&!mt?"motionBlur":void 0),vt?g.drawCachedNodes(Ne,ke.drag,w,ot):g.drawCachedElements(Ne,ke.drag,w,ot),g.debug&&g.drawDebugPoints(Ne,ke.drag),!l&&!z&&(M[g.DRAG]=!1)),g.showFps||!f&&M[g.SELECT_BOX]&&!l){var Ne;if(Ee(Ne=o||E.contexts[g.SELECT_BOX]),1==g.selection[4]&&(g.hoverData.selecting||g.touchData.selecting)){he=g.cy.zoom();var Ot=fe.core("selection-box-border-width").value/he;Ne.lineWidth=Ot,Ne.fillStyle="rgba("+fe.core("selection-box-color").value[0]+","+fe.core("selection-box-color").value[1]+","+fe.core("selection-box-color").value[2]+","+fe.core("selection-box-opacity").value+")",Ne.fillRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]),Ot>0&&(Ne.strokeStyle="rgba("+fe.core("selection-box-border-color").value[0]+","+fe.core("selection-box-border-color").value[1]+","+fe.core("selection-box-border-color").value[2]+","+fe.core("selection-box-opacity").value+")",Ne.strokeRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]))}if(E.bgActivePosistion&&!g.hoverData.selecting){he=g.cy.zoom();var Dt=E.bgActivePosistion;Ne.fillStyle="rgba("+fe.core("active-bg-color").value[0]+","+fe.core("active-bg-color").value[1]+","+fe.core("active-bg-color").value[2]+","+fe.core("active-bg-opacity").value+")",Ne.beginPath(),Ne.arc(Dt.x,Dt.y,fe.core("active-bg-size").pfValue/he,0,2*Math.PI),Ne.fill()}var _t=g.lastRedrawTime;if(g.showFps&&_t){_t=Math.round(_t);var Je=Math.round(1e3/_t);Ne.setTransform(1,0,0,1,0,0),Ne.fillStyle="rgba(255, 0, 0, 0.75)",Ne.strokeStyle="rgba(255, 0, 0, 0.75)",Ne.lineWidth=1,Ne.fillText("1 frame = "+_t+" ms = "+Je+" fps",0,20),Ne.strokeRect(0,30,250,20),Ne.fillRect(0,30,250*Math.min(Je/60,1),20)}l||(M[g.SELECT_BOX]=!1)}if(z&&1!==W){var rn=E.contexts[g.DRAG],Xn=g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_DRAG],ar=function(Jt,Pn,xn){Jt.setTransform(1,0,0,1,0,0),xn||!re?Jt.clearRect(0,0,g.canvasWidth,g.canvasHeight):Pe(Jt,0,0,g.canvasWidth,g.canvasHeight),Jt.drawImage(Pn,0,0,g.canvasWidth*W,g.canvasHeight*W,0,0,g.canvasWidth,g.canvasHeight)};(M[g.NODE]||st[g.NODE])&&(ar(E.contexts[g.NODE],g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_NODE],st[g.NODE]),M[g.NODE]=!1),(M[g.DRAG]||st[g.DRAG])&&(ar(rn,Xn,st[g.DRAG]),M[g.DRAG]=!1)}g.prevViewport=ye,g.clearingMotionBlur&&(g.clearingMotionBlur=!1,g.motionBlurCleared=!0,g.motionBlur=!0),z&&(g.motionBlurTimeout=setTimeout(function(){g.motionBlurTimeout=null,g.clearedForMotionBlur[g.NODE]=!1,g.clearedForMotionBlur[g.DRAG]=!1,g.motionBlur=!1,g.clearingMotionBlur=!F,g.mbFrames=0,M[g.NODE]=!0,M[g.DRAG]=!0,g.redraw()},100)),o||x.emit("render")}},Vu={drawPolygonPath:function(u,o,l,f,h,p){var g=f/2,w=h/2;u.beginPath&&u.beginPath(),u.moveTo(o+g*p[0],l+w*p[1]);for(var x=1;x<p.length/2;x++)u.lineTo(o+g*p[2*x],l+w*p[2*x+1]);u.closePath()},drawRoundPolygonPath:function(u,o,l,f,h,p){var g=f/2,w=h/2,x=uc(f,h);u.beginPath&&u.beginPath();for(var E=0;E<p.length/4;E++){var F,M;M=0===E?p.length-2:4*E-2,F=4*E+2;var z=o+g*p[4*E],W=l+w*p[4*E+1],q=x/Math.tan(Math.acos(-p[M]*p[F]-p[M+1]*p[F+1])/2),J=z-q*p[M],re=W-q*p[M+1],fe=z+q*p[F],he=W+q*p[F+1];0===E?u.moveTo(J,re):u.lineTo(J,re),u.arcTo(z,W,fe,he,x)}u.closePath()},drawRoundRectanglePath:function(u,o,l,f,h){var p=f/2,g=h/2,w=wu(f,h);u.beginPath&&u.beginPath(),u.moveTo(o,l-g),u.arcTo(o+p,l-g,o+p,l,w),u.arcTo(o+p,l+g,o,l+g,w),u.arcTo(o-p,l+g,o-p,l,w),u.arcTo(o-p,l-g,o,l-g,w),u.lineTo(o,l-g),u.closePath()},drawBottomRoundRectanglePath:function(u,o,l,f,h){var p=f/2,g=h/2,w=wu(f,h);u.beginPath&&u.beginPath(),u.moveTo(o,l-g),u.lineTo(o+p,l-g),u.lineTo(o+p,l),u.arcTo(o+p,l+g,o,l+g,w),u.arcTo(o-p,l+g,o-p,l,w),u.lineTo(o-p,l-g),u.lineTo(o,l-g),u.closePath()},drawCutRectanglePath:function(u,o,l,f,h){var p=f/2,g=h/2;u.beginPath&&u.beginPath(),u.moveTo(o-p+8,l-g),u.lineTo(o+p-8,l-g),u.lineTo(o+p,l-g+8),u.lineTo(o+p,l+g-8),u.lineTo(o+p-8,l+g),u.lineTo(o-p+8,l+g),u.lineTo(o-p,l+g-8),u.lineTo(o-p,l-g+8),u.closePath()},drawBarrelPath:function(u,o,l,f,h){var p=f/2,g=h/2,w=o-p,x=o+p,E=l-g,M=l+g,F=dh(f,h),z=F.widthOffset,W=F.heightOffset,j=F.ctrlPtOffsetPct*z;u.beginPath&&u.beginPath(),u.moveTo(w,E+W),u.lineTo(w,M-W),u.quadraticCurveTo(w+j,M,w+z,M),u.lineTo(x-z,M),u.quadraticCurveTo(x-j,M,x,M-W),u.lineTo(x,E+W),u.quadraticCurveTo(x-j,E,x-z,E),u.lineTo(w+z,E),u.quadraticCurveTo(w+j,E,w,E+W),u.closePath()}},Wd=Math.sin(0),xm=Math.cos(0),qp={},Uf={},Gh=Math.PI/40,ea=0*Math.PI;ea<2*Math.PI;ea+=Gh)qp[ea]=Math.sin(ea),Uf[ea]=Math.cos(ea);Vu.drawEllipsePath=function(u,o,l,f,h){if(u.beginPath&&u.beginPath(),u.ellipse)u.ellipse(o,l,f/2,h/2,0,0,2*Math.PI);else for(var p,g,w=f/2,x=h/2,E=0*Math.PI;E<2*Math.PI;E+=Gh)p=o-w*qp[E]*Wd+w*Uf[E]*xm,g=l+x*Uf[E]*Wd+x*qp[E]*xm,0===E?u.moveTo(p,g):u.lineTo(p,g);u.closePath()};var jh={};function Ty(u){var o=u.indexOf(",");return u.substr(o+1)}function Dm(u,o,l){var f=function(){return o.toDataURL(l,u.quality)};switch(u.output){case"blob-promise":return new ds(function(h,p){try{o.toBlob(function(g){null!=g?h(g):p(new Error("`canvas.toBlob()` sent a null value in its callback"))},l,u.quality)}catch(g){p(g)}});case"blob":return function mw(u,o){for(var l=atob(u),f=new ArrayBuffer(l.length),h=new Uint8Array(f),p=0;p<l.length;p++)h[p]=l.charCodeAt(p);return new Blob([f],{type:o})}(Ty(f()),l);case"base64":return Ty(f());default:return f()}}jh.createBuffer=function(u,o){var l=document.createElement("canvas");return l.width=u,l.height=o,[l,l.getContext("2d")]},jh.bufferCanvasImage=function(u){var o=this.cy,f=o.mutableElements().boundingBox(),h=this.findContainerClientCoords(),p=u.full?Math.ceil(f.w):h[2],g=u.full?Math.ceil(f.h):h[3],w=Xe(u.maxWidth)||Xe(u.maxHeight),x=this.getPixelRatio(),E=1;if(void 0!==u.scale)p*=u.scale,g*=u.scale,E=u.scale;else if(w){var M=1/0,F=1/0;Xe(u.maxWidth)&&(M=E*u.maxWidth/p),Xe(u.maxHeight)&&(F=E*u.maxHeight/g),p*=E=Math.min(M,F),g*=E}w||(p*=x,g*=x,E*=x);var z=document.createElement("canvas");z.width=p,z.height=g,z.style.width=p+"px",z.style.height=g+"px";var W=z.getContext("2d");if(p>0&&g>0){W.clearRect(0,0,p,g),W.globalCompositeOperation="source-over";var j=this.getCachedZSortedEles();if(u.full)W.translate(-f.x1*E,-f.y1*E),W.scale(E,E),this.drawElements(W,j),W.scale(1/E,1/E),W.translate(f.x1*E,f.y1*E);else{var q=o.pan(),J={x:q.x*E,y:q.y*E};E*=o.zoom(),W.translate(J.x,J.y),W.scale(E,E),this.drawElements(W,j),W.scale(1/E,1/E),W.translate(-J.x,-J.y)}u.bg&&(W.globalCompositeOperation="destination-over",W.fillStyle=u.bg,W.rect(0,0,p,g),W.fill())}return z},jh.png=function(u){return Dm(u,this.bufferCanvasImage(u),"image/png")},jh.jpg=function(u){return Dm(u,this.bufferCanvasImage(u),"image/jpeg")};var vw=Sy,ei=Sy.prototype;function Sy(u){var o=this;o.data={canvases:new Array(ei.CANVAS_LAYERS),contexts:new Array(ei.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ei.CANVAS_LAYERS),bufferCanvases:new Array(ei.BUFFER_COUNT),bufferContexts:new Array(ei.CANVAS_LAYERS)};var l="-webkit-tap-highlight-color",f="rgba(0,0,0,0)";o.data.canvasContainer=document.createElement("div");var h=o.data.canvasContainer.style;o.data.canvasContainer.style[l]=f,h.position="relative",h.zIndex="0",h.overflow="hidden";var p=u.cy.container();p.appendChild(o.data.canvasContainer),p.style[l]=f;var g={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};ie&&ie.userAgent.match(/msie|trident|edge/i)&&(g["-ms-touch-action"]="none",g["touch-action"]="none");for(var w=0;w<ei.CANVAS_LAYERS;w++){var x=o.data.canvases[w]=document.createElement("canvas");o.data.contexts[w]=x.getContext("2d"),Object.keys(g).forEach(function(_t){x.style[_t]=g[_t]}),x.style.position="absolute",x.setAttribute("data-id","layer"+w),x.style.zIndex=String(ei.CANVAS_LAYERS-w),o.data.canvasContainer.appendChild(x),o.data.canvasNeedsRedraw[w]=!1}for(o.data.topCanvas=o.data.canvases[0],o.data.canvases[ei.NODE].setAttribute("data-id","layer"+ei.NODE+"-node"),o.data.canvases[ei.SELECT_BOX].setAttribute("data-id","layer"+ei.SELECT_BOX+"-selectbox"),o.data.canvases[ei.DRAG].setAttribute("data-id","layer"+ei.DRAG+"-drag"),w=0;w<ei.BUFFER_COUNT;w++)o.data.bufferCanvases[w]=document.createElement("canvas"),o.data.bufferContexts[w]=o.data.bufferCanvases[w].getContext("2d"),o.data.bufferCanvases[w].style.position="absolute",o.data.bufferCanvases[w].setAttribute("data-id","buffer"+w),o.data.bufferCanvases[w].style.zIndex=String(-w-1),o.data.bufferCanvases[w].style.visibility="hidden";o.pathsEnabled=!0;var E=Mi(),F=function(Je){return{x:-Je.w/2,y:-Je.h/2}},Me=function(Je){return Je.boundingBox(),Je[0]._private.bodyBounds},Ie=function(Je){return Je.boundingBox(),Je[0]._private.labelBounds.main||E},ye=function(Je){return Je.boundingBox(),Je[0]._private.labelBounds.source||E},Se=function(Je){return Je.boundingBox(),Je[0]._private.labelBounds.target||E},we=function(Je,Mt){return Mt},Pe=function(Je,Mt,Nt){var Wt=Je?Je+"-":"";return{x:Mt.x+Nt.pstyle(Wt+"text-margin-x").pfValue,y:Mt.y+Nt.pstyle(Wt+"text-margin-y").pfValue}},Ee=function(Je,Mt,Nt){var Wt=Je[0]._private.rscratch;return{x:Wt[Mt],y:Wt[Nt]}},vt=o.data.eleTxrCache=new ns(o,{getKey:function(Je){return Je[0]._private.nodeKey},doesEleInvalidateKey:function(Je){var Mt=Je[0]._private;return!(Mt.oldBackgroundTimestamp===Mt.backgroundTimestamp)},drawElement:function(Je,Mt,Nt,Wt,rn){return o.drawElement(Je,Mt,Nt,!1,!1,rn)},getBoundingBox:Me,getRotationPoint:function(Je){return function(Je){return{x:(Je.x1+Je.x2)/2,y:(Je.y1+Je.y2)/2}}(Me(Je))},getRotationOffset:function(Je){return F(Me(Je))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),st=o.data.lblTxrCache=new ns(o,{getKey:function(Je){return Je[0]._private.labelStyleKey},drawElement:function(Je,Mt,Nt,Wt,rn){return o.drawElementText(Je,Mt,Nt,Wt,"main",rn)},getBoundingBox:Ie,getRotationPoint:function(Je){return Pe("",Ee(Je,"labelX","labelY"),Je)},getRotationOffset:function(Je){var Mt=Ie(Je),Nt=F(Ie(Je));if(Je.isNode()){switch(Je.pstyle("text-halign").value){case"left":Nt.x=-Mt.w;break;case"right":Nt.x=0}switch(Je.pstyle("text-valign").value){case"top":Nt.y=-Mt.h;break;case"bottom":Nt.y=0}}return Nt},isVisible:we}),mt=o.data.slbTxrCache=new ns(o,{getKey:function(Je){return Je[0]._private.sourceLabelStyleKey},drawElement:function(Je,Mt,Nt,Wt,rn){return o.drawElementText(Je,Mt,Nt,Wt,"source",rn)},getBoundingBox:ye,getRotationPoint:function(Je){return Pe("source",Ee(Je,"sourceLabelX","sourceLabelY"),Je)},getRotationOffset:function(Je){return F(ye(Je))},isVisible:we}),At=o.data.tlbTxrCache=new ns(o,{getKey:function(Je){return Je[0]._private.targetLabelStyleKey},drawElement:function(Je,Mt,Nt,Wt,rn){return o.drawElementText(Je,Mt,Nt,Wt,"target",rn)},getBoundingBox:Se,getRotationPoint:function(Je){return Pe("target",Ee(Je,"targetLabelX","targetLabelY"),Je)},getRotationOffset:function(Je){return F(Se(Je))},isVisible:we}),Ot=o.data.lyrTxrCache=new uw(o);o.onUpdateEleCalcs(function(Je,Mt){vt.invalidateElements(Mt),st.invalidateElements(Mt),mt.invalidateElements(Mt),At.invalidateElements(Mt),Ot.invalidateElements(Mt);for(var Nt=0;Nt<Mt.length;Nt++){var Wt=Mt[Nt]._private;Wt.oldBackgroundTimestamp=Wt.backgroundTimestamp}});var Dt=function(Je){for(var Mt=0;Mt<Je.length;Mt++)Ot.enqueueElementRefinement(Je[Mt].ele)};vt.onDequeue(Dt),st.onDequeue(Dt),mt.onDequeue(Dt),At.onDequeue(Dt)}ei.CANVAS_LAYERS=3,ei.SELECT_BOX=0,ei.DRAG=1,ei.NODE=2,ei.BUFFER_COUNT=3,ei.TEXTURE_BUFFER=0,ei.MOTIONBLUR_BUFFER_NODE=1,ei.MOTIONBLUR_BUFFER_DRAG=2,ei.redrawHint=function(u,o){var l=this;switch(u){case"eles":l.data.canvasNeedsRedraw[ei.NODE]=o;break;case"drag":l.data.canvasNeedsRedraw[ei.DRAG]=o;break;case"select":l.data.canvasNeedsRedraw[ei.SELECT_BOX]=o}};var My=typeof Path2D<"u";ei.path2dEnabled=function(u){if(void 0===u)return this.pathsEnabled;this.pathsEnabled=!!u},ei.usePaths=function(){return My&&this.pathsEnabled},ei.setImgSmoothing=function(u,o){null!=u.imageSmoothingEnabled?u.imageSmoothingEnabled=o:(u.webkitImageSmoothingEnabled=o,u.mozImageSmoothingEnabled=o,u.msImageSmoothingEnabled=o)},ei.getImgSmoothing=function(u){return null!=u.imageSmoothingEnabled?u.imageSmoothingEnabled:u.webkitImageSmoothingEnabled||u.mozImageSmoothingEnabled||u.msImageSmoothingEnabled},ei.makeOffscreenCanvas=function(u,o){var l;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":H(OffscreenCanvas))?l=new OffscreenCanvas(u,o):((l=document.createElement("canvas")).width=u,l.height=o),l},[Uh,ou,Nc,xy,zf,Bu,bs,Vu,jh,{nodeShapeImpl:function(u,o,l,f,h,p,g){switch(u){case"ellipse":return this.drawEllipsePath(o,l,f,h,p);case"polygon":return this.drawPolygonPath(o,l,f,h,p,g);case"round-polygon":return this.drawRoundPolygonPath(o,l,f,h,p,g);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(o,l,f,h,p);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(o,l,f,h,p);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(o,l,f,h,p);case"barrel":return this.drawBarrelPath(o,l,f,h,p)}}}].forEach(function(u){Nn(ei,u)});var bw=[{type:"layout",extensions:Yp},{type:"renderer",extensions:[{name:"null",impl:Ii},{name:"base",impl:En},{name:"canvas",impl:vw}]}],rs={},Jp={};function Tm(u,o,l){var f=l,h=function(Se){Sr("Can not register `"+o+"` for `"+u+"` since `"+Se+"` already exists in the prototype and can not be overridden")};if("core"===u){if(vs.prototype[o])return h(o);vs.prototype[o]=l}else if("collection"===u){if(fo.prototype[o])return h(o);fo.prototype[o]=l}else if("layout"===u){for(var p=function(Se){this.options=Se,l.call(this,Se),Ye(this._private)||(this._private={}),this._private.cy=Se.cy,this._private.listeners=[],this.createEmitter()},g=p.prototype=Object.create(l.prototype),w=[],x=0;x<w.length;x++){var E=w[x];g[E]=g[E]||function(){return this}}g.start&&!g.run?g.run=function(){return this.start(),this}:!g.start&&g.run&&(g.start=function(){return this.run(),this});var M=l.prototype.stop;g.stop=function(){var ye=this.options;if(ye&&ye.animate){var Se=this.animations;if(Se)for(var we=0;we<Se.length;we++)Se[we].stop()}return M?M.call(this):this.emit("layoutstop"),this},g.destroy||(g.destroy=function(){return this}),g.cy=function(){return this._private.cy};var F=function(Se){return Se._private.cy},z={addEventFields:function(Se,we){we.layout=Se,we.cy=F(Se),we.target=Se},bubble:function(){return!0},parent:function(Se){return F(Se)}};Nn(g,{createEmitter:function(){return this._private.emitter=new ji(z,this),this},emitter:function(){return this._private.emitter},on:function(Se,we){return this.emitter().on(Se,we),this},one:function(Se,we){return this.emitter().one(Se,we),this},once:function(Se,we){return this.emitter().one(Se,we),this},removeListener:function(Se,we){return this.emitter().removeListener(Se,we),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(Se,we){return this.emitter().emit(Se,we),this}}),ur.eventAliasesOn(g),f=p}else if("renderer"===u&&"null"!==o&&"base"!==o){var W=eg("renderer","base"),j=W.prototype,q=l,J=l.prototype,re=function(){W.apply(this,arguments),q.apply(this,arguments)},fe=re.prototype;for(var he in j){var ve=j[he];if(null!=J[he])return h(he);fe[he]=ve}for(var Ie in J)fe[Ie]=J[Ie];j.clientFunctions.forEach(function(ye){fe[ye]=fe[ye]||function(){ni("Renderer does not implement `renderer."+ye+"()` on its prototype")}}),f=re}else if("__proto__"===u||"constructor"===u||"prototype"===u)return ni(u+" is an illegal type to be registered, possibly lead to prototype pollutions");return _n({map:rs,keys:[u,o],value:f})}function eg(u,o){return ma({map:rs,keys:[u,o]})}function Va(u,o,l,f,h){return _n({map:Jp,keys:[u,o,l,f],value:h})}function Wh(u,o,l,f){return ma({map:Jp,keys:[u,o,l,f]})}var tg=function(){return 2===arguments.length?eg.apply(null,arguments):3===arguments.length?Tm.apply(null,arguments):4===arguments.length?Wh.apply(null,arguments):5===arguments.length?Va.apply(null,arguments):void ni("Invalid extension access syntax")};vs.prototype.extension=tg,bw.forEach(function(u){u.extensions.forEach(function(o){Tm(u.type,o.name,o.impl)})});var Sm=function u(){if(!(this instanceof u))return new u;this.length=0},$d=Sm.prototype;$d.instanceString=function(){return"stylesheet"},$d.selector=function(u){return this[this.length++]={selector:u,properties:[]},this},$d.css=function(u,o){var l=this.length-1;if(Be(u))this[l].properties.push({name:u,value:o});else if(Ye(u))for(var f=u,h=Object.keys(f),p=0;p<h.length;p++){var g=h[p],w=f[g];if(null!=w){var x=qo.properties[g]||qo.properties[wn(g)];null!=x&&this[l].properties.push({name:x.name,value:w})}}return this},$d.style=$d.css,$d.generateStyle=function(u){var o=new qo(u);return this.appendToStyle(o)},$d.appendToStyle=function(u){for(var o=0;o<this.length;o++){var l=this[o],h=l.properties;u.selector(l.selector);for(var p=0;p<h.length;p++){var g=h[p];u.css(g.name,g.value)}}return u};var Yd=function(o){return void 0===o&&(o={}),Ye(o)?new vs(o):Be(o)?tg.apply(tg,arguments):void 0};Yd.use=function(u){var o=Array.prototype.slice.call(arguments,1);return o.unshift(Yd),u.apply(null,o),this},Yd.warnings=function(u){return Oa(u)},Yd.version="3.25.0",Yd.stylesheet=Yd.Stylesheet=Sm,Y.exports=Yd},8767:(Y,se,D)=>{Y.exports={graphlib:D(5849),layout:D(4395),debug:D(4232),util:{time:D(9505).time,notime:D(9505).notime},version:D(2187)}},1791:(Y,se,D)=>{"use strict";var S=D(3990),P=D(5123);Y.exports={run:function O(T){var N="greedy"===T.graph().acyclicer?P(T,function A(V){return function(L){return V.edge(L).weight}}(T)):function I(T){var N=[],A={},V={};return S.forEach(T.nodes(),function L(k){S.has(V,k)||(V[k]=!0,A[k]=!0,S.forEach(T.outEdges(k),function(H){S.has(A,H.w)?N.push(H):L(H.w)}),delete A[k])}),N}(T);S.forEach(N,function(V){var L=T.edge(V);T.removeEdge(V),L.forwardName=V.name,L.reversed=!0,T.setEdge(V.w,V.v,L,S.uniqueId("rev"))})},undo:function C(T){S.forEach(T.edges(),function(N){var A=T.edge(N);if(A.reversed){T.removeEdge(N);var V=A.forwardName;delete A.reversed,delete A.forwardName,T.setEdge(N.w,N.v,A,V)}})}}},7130:(Y,se,D)=>{var S=D(3990),P=D(9505);function I(C,T,N,A,V,L){var H=V[T][L-1],$=P.addDummyNode(C,"border",{width:0,height:0,rank:L,borderType:T},N);V[T][L]=$,C.setParent($,A),H&&C.setEdge(H,$,{weight:1})}Y.exports=function O(C){S.forEach(C.children(),function T(N){var A=C.children(N),V=C.node(N);if(A.length&&S.forEach(A,T),S.has(V,"minRank")){V.borderLeft=[],V.borderRight=[];for(var L=V.minRank,k=V.maxRank+1;L<k;++L)I(C,"borderLeft","_bl",N,V,L),I(C,"borderRight","_br",N,V,L)}})}},1048:(Y,se,D)=>{"use strict";var S=D(3990);function I(L){S.forEach(L.nodes(),function(k){C(L.node(k))}),S.forEach(L.edges(),function(k){C(L.edge(k))})}function C(L){var k=L.width;L.width=L.height,L.height=k}function N(L){L.y=-L.y}function V(L){var k=L.x;L.x=L.y,L.y=k}Y.exports={adjust:function P(L){var k=L.graph().rankdir.toLowerCase();("lr"===k||"rl"===k)&&I(L)},undo:function O(L){var k=L.graph().rankdir.toLowerCase();("bt"===k||"rl"===k)&&function T(L){S.forEach(L.nodes(),function(k){N(L.node(k))}),S.forEach(L.edges(),function(k){var H=L.edge(k);S.forEach(H.points,N),S.has(H,"y")&&N(H)})}(L),("lr"===k||"rl"===k)&&(function A(L){S.forEach(L.nodes(),function(k){V(L.node(k))}),S.forEach(L.edges(),function(k){var H=L.edge(k);S.forEach(H.points,V),S.has(H,"x")&&V(H)})}(L),I(L))}}},4312:Y=>{function se(){var P={};P._next=P._prev=P,this._sentinel=P}function D(P){P._prev._next=P._next,P._next._prev=P._prev,delete P._next,delete P._prev}function S(P,O){if("_next"!==P&&"_prev"!==P)return O}Y.exports=se,se.prototype.dequeue=function(){var P=this._sentinel,O=P._prev;if(O!==P)return D(O),O},se.prototype.enqueue=function(P){var O=this._sentinel;P._prev&&P._next&&D(P),P._next=O._next,O._next._prev=P,O._next=P,P._prev=O},se.prototype.toString=function(){for(var P=[],O=this._sentinel,I=O._prev;I!==O;)P.push(JSON.stringify(I,S)),I=I._prev;return"["+P.join(", ")+"]"}},4232:(Y,se,D)=>{var S=D(3990),P=D(9505),O=D(5849).Graph;Y.exports={debugOrdering:function I(C){var T=P.buildLayerMatrix(C),N=new O({compound:!0,multigraph:!0}).setGraph({});return S.forEach(C.nodes(),function(A){N.setNode(A,{label:A}),N.setParent(A,"layer"+C.node(A).rank)}),S.forEach(C.edges(),function(A){N.setEdge(A.v,A.w,{},A.name)}),S.forEach(T,function(A,V){N.setNode("layer"+V,{rank:"same"}),S.reduce(A,function(k,H){return N.setEdge(k,H,{style:"invis"}),H})}),N}}},5849:(Y,se,D)=>{var S;try{S=D(9034)}catch{}S||(S=window.graphlib),Y.exports=S},5123:(Y,se,D)=>{var S=D(3990),P=D(5849).Graph,O=D(4312);Y.exports=function C(L,k){if(L.nodeCount()<=1)return[];var H=function A(L,k){var H=new P,$=0,Q=0;S.forEach(L.nodes(),function(le){H.setNode(le,{v:le,in:0,out:0})}),S.forEach(L.edges(),function(le){var ae=H.edge(le.v,le.w)||0,de=k(le);H.setEdge(le.v,le.w,ae+de),Q=Math.max(Q,H.node(le.v).out+=de),$=Math.max($,H.node(le.w).in+=de)});var ue=S.range(Q+$+3).map(function(){return new O}),ne=$+1;return S.forEach(H.nodes(),function(le){V(ue,ne,H.node(le))}),{graph:H,buckets:ue,zeroIdx:ne}}(L,k||I),$=function T(L,k,H){for(var ne,$=[],Q=k[k.length-1],ue=k[0];L.nodeCount();){for(;ne=ue.dequeue();)N(L,k,H,ne);for(;ne=Q.dequeue();)N(L,k,H,ne);if(L.nodeCount())for(var le=k.length-2;le>0;--le)if(ne=k[le].dequeue()){$=$.concat(N(L,k,H,ne,!0));break}}return $}(H.graph,H.buckets,H.zeroIdx);return S.flatten(S.map($,function(Q){return L.outEdges(Q.v,Q.w)}),!0)};var I=S.constant(1);function N(L,k,H,$,Q){var ue=Q?[]:void 0;return S.forEach(L.inEdges($.v),function(ne){var le=L.edge(ne),ae=L.node(ne.v);Q&&ue.push({v:ne.v,w:ne.w}),ae.out-=le,V(k,H,ae)}),S.forEach(L.outEdges($.v),function(ne){var le=L.edge(ne),de=L.node(ne.w);de.in-=le,V(k,H,de)}),L.removeNode($.v),ue}function V(L,k,H){H.out?H.in?L[H.out-H.in+k].enqueue(H):L[L.length-1].enqueue(H):L[0].enqueue(H)}},4395:(Y,se,D)=>{"use strict";var S=D(3990),P=D(1791),O=D(1684),I=D(3752),C=D(9505).normalizeRanks,T=D(1250),N=D(9505).removeEmptyRanks,A=D(4525),V=D(7130),L=D(1048),k=D(1574),H=D(6403),$=D(9505),Q=D(5849).Graph;Y.exports=function ue(lt,rt){var ht=rt&&rt.debugTiming?$.time:$.notime;ht("layout",function(){var Ft=ht("  buildLayoutGraph",function(){return function _e(lt){var rt=new Q({multigraph:!0,compound:!0}),ht=cn(lt.graph());return rt.setGraph(S.merge({},de,mn(ht,ae),S.pick(ht,te))),S.forEach(lt.nodes(),function(Ft){var Tt=cn(lt.node(Ft));rt.setNode(Ft,S.defaults(mn(Tt,pe),Z)),rt.setParent(Ft,lt.parent(Ft))}),S.forEach(lt.edges(),function(Ft){var Tt=cn(lt.edge(Ft));rt.setEdge(Ft,S.merge({},ie,mn(Tt,oe),S.pick(Tt,me)))}),rt}(lt)});ht("  runLayout",function(){!function ne(lt,rt){rt("    makeSpaceForEdgeLabels",function(){!function Te(lt){var rt=lt.graph();rt.ranksep/=2,S.forEach(lt.edges(),function(ht){var Ft=lt.edge(ht);Ft.minlen*=2,"c"!==Ft.labelpos.toLowerCase()&&("TB"===rt.rankdir||"BT"===rt.rankdir?Ft.width+=Ft.labeloffset:Ft.height+=Ft.labeloffset)})}(lt)}),rt("    removeSelfEdges",function(){!function Zt(lt){S.forEach(lt.edges(),function(rt){if(rt.v===rt.w){var ht=lt.node(rt.v);ht.selfEdges||(ht.selfEdges=[]),ht.selfEdges.push({e:rt,label:lt.edge(rt)}),lt.removeEdge(rt)}})}(lt)}),rt("    acyclic",function(){P.run(lt)}),rt("    nestingGraph.run",function(){A.run(lt)}),rt("    rank",function(){I($.asNonCompoundGraph(lt))}),rt("    injectEdgeLabelProxies",function(){!function De(lt){S.forEach(lt.edges(),function(rt){var ht=lt.edge(rt);if(ht.width&&ht.height){var Ft=lt.node(rt.v),Tt=lt.node(rt.w);$.addDummyNode(lt,"edge-proxy",{rank:(Tt.rank-Ft.rank)/2+Ft.rank,e:rt},"_ep")}})}(lt)}),rt("    removeEmptyRanks",function(){N(lt)}),rt("    nestingGraph.cleanup",function(){A.cleanup(lt)}),rt("    normalizeRanks",function(){C(lt)}),rt("    assignRankMinMax",function(){!function ze(lt){var rt=0;S.forEach(lt.nodes(),function(ht){var Ft=lt.node(ht);Ft.borderTop&&(Ft.minRank=lt.node(Ft.borderTop).rank,Ft.maxRank=lt.node(Ft.borderBottom).rank,rt=S.max(rt,Ft.maxRank))}),lt.graph().maxRank=rt}(lt)}),rt("    removeEdgeLabelProxies",function(){!function Be(lt){S.forEach(lt.nodes(),function(rt){var ht=lt.node(rt);"edge-proxy"===ht.dummy&&(lt.edge(ht.e).labelRank=ht.rank,lt.removeNode(rt))})}(lt)}),rt("    normalize.run",function(){O.run(lt)}),rt("    parentDummyChains",function(){T(lt)}),rt("    addBorderSegments",function(){V(lt)}),rt("    order",function(){k(lt)}),rt("    insertSelfEdges",function(){!function Ht(lt){var rt=$.buildLayerMatrix(lt);S.forEach(rt,function(ht){var Ft=0;S.forEach(ht,function(Tt,Kn){var Jn=lt.node(Tt);Jn.order=Kn+Ft,S.forEach(Jn.selfEdges,function(Tr){$.addDummyNode(lt,"selfedge",{width:Tr.label.width,height:Tr.label.height,rank:Jn.rank,order:Kn+ ++Ft,e:Tr.e,label:Tr.label},"_se")}),delete Jn.selfEdges})})}(lt)}),rt("    adjustCoordinateSystem",function(){L.adjust(lt)}),rt("    position",function(){H(lt)}),rt("    positionSelfEdges",function(){!function It(lt){S.forEach(lt.nodes(),function(rt){var ht=lt.node(rt);if("selfedge"===ht.dummy){var Ft=lt.node(ht.e.v),Tt=Ft.x+Ft.width/2,Kn=Ft.y,Jn=ht.x-Tt,Tr=Ft.height/2;lt.setEdge(ht.e,ht.label),lt.removeNode(rt),ht.label.points=[{x:Tt+2*Jn/3,y:Kn-Tr},{x:Tt+5*Jn/6,y:Kn-Tr},{x:Tt+Jn,y:Kn},{x:Tt+5*Jn/6,y:Kn+Tr},{x:Tt+2*Jn/3,y:Kn+Tr}],ht.label.x=ht.x,ht.label.y=ht.y}})}(lt)}),rt("    removeBorderNodes",function(){!function Xe(lt){S.forEach(lt.nodes(),function(rt){if(lt.children(rt).length){var ht=lt.node(rt),Ft=lt.node(ht.borderTop),Tt=lt.node(ht.borderBottom),Kn=lt.node(S.last(ht.borderLeft)),Jn=lt.node(S.last(ht.borderRight));ht.width=Math.abs(Jn.x-Kn.x),ht.height=Math.abs(Tt.y-Ft.y),ht.x=Kn.x+ht.width/2,ht.y=Ft.y+ht.height/2}}),S.forEach(lt.nodes(),function(rt){"border"===lt.node(rt).dummy&&lt.removeNode(rt)})}(lt)}),rt("    normalize.undo",function(){O.undo(lt)}),rt("    fixupEdgeLabelCoords",function(){!function Ye(lt){S.forEach(lt.edges(),function(rt){var ht=lt.edge(rt);if(S.has(ht,"x"))switch(("l"===ht.labelpos||"r"===ht.labelpos)&&(ht.width-=ht.labeloffset),ht.labelpos){case"l":ht.x-=ht.width/2+ht.labeloffset;break;case"r":ht.x+=ht.width/2+ht.labeloffset}})}(lt)}),rt("    undoCoordinateSystem",function(){L.undo(lt)}),rt("    translateGraph",function(){!function at(lt){var rt=Number.POSITIVE_INFINITY,ht=0,Ft=Number.POSITIVE_INFINITY,Tt=0,Kn=lt.graph(),Jn=Kn.marginx||0,Tr=Kn.marginy||0;function kr(Cr){var wn=Cr.x,Vn=Cr.y,Xr=Cr.width,dn=Cr.height;rt=Math.min(rt,wn-Xr/2),ht=Math.max(ht,wn+Xr/2),Ft=Math.min(Ft,Vn-dn/2),Tt=Math.max(Tt,Vn+dn/2)}S.forEach(lt.nodes(),function(Cr){kr(lt.node(Cr))}),S.forEach(lt.edges(),function(Cr){var wn=lt.edge(Cr);S.has(wn,"x")&&kr(wn)}),rt-=Jn,Ft-=Tr,S.forEach(lt.nodes(),function(Cr){var wn=lt.node(Cr);wn.x-=rt,wn.y-=Ft}),S.forEach(lt.edges(),function(Cr){var wn=lt.edge(Cr);S.forEach(wn.points,function(Vn){Vn.x-=rt,Vn.y-=Ft}),S.has(wn,"x")&&(wn.x-=rt),S.has(wn,"y")&&(wn.y-=Ft)}),Kn.width=ht-rt+Jn,Kn.height=Tt-Ft+Tr}(lt)}),rt("    assignNodeIntersects",function(){!function ft(lt){S.forEach(lt.edges(),function(rt){var Kn,Jn,ht=lt.edge(rt),Ft=lt.node(rt.v),Tt=lt.node(rt.w);ht.points?(Kn=ht.points[0],Jn=ht.points[ht.points.length-1]):(ht.points=[],Kn=Tt,Jn=Ft),ht.points.unshift($.intersectRect(Ft,Kn)),ht.points.push($.intersectRect(Tt,Jn))})}(lt)}),rt("    reversePoints",function(){!function Ct(lt){S.forEach(lt.edges(),function(rt){var ht=lt.edge(rt);ht.reversed&&ht.points.reverse()})}(lt)}),rt("    acyclic.undo",function(){P.undo(lt)})}(Ft,ht)}),ht("  updateInputGraph",function(){!function le(lt,rt){S.forEach(lt.nodes(),function(ht){var Ft=lt.node(ht),Tt=rt.node(ht);Ft&&(Ft.x=Tt.x,Ft.y=Tt.y,rt.children(ht).length&&(Ft.width=Tt.width,Ft.height=Tt.height))}),S.forEach(lt.edges(),function(ht){var Ft=lt.edge(ht),Tt=rt.edge(ht);Ft.points=Tt.points,S.has(Tt,"x")&&(Ft.x=Tt.x,Ft.y=Tt.y)}),lt.graph().width=rt.graph().width,lt.graph().height=rt.graph().height}(lt,Ft)})})};var ae=["nodesep","edgesep","ranksep","marginx","marginy"],de={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},te=["acyclicer","ranker","rankdir","align"],pe=["width","height"],Z={width:0,height:0},oe=["minlen","weight","width","height","labeloffset"],ie={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},me=["labelpos"];function mn(lt,rt){return S.mapValues(S.pick(lt,rt),Number)}function cn(lt){var rt={};return S.forEach(lt,function(ht,Ft){rt[Ft.toLowerCase()]=ht}),rt}},3990:(Y,se,D)=>{var S;try{S={cloneDeep:D(4451),constant:D(1075),defaults:D(5433),each:D(6488),filter:D(7661),find:D(6177),flatten:D(9336),forEach:D(7170),forIn:D(1658),has:D(8669),isUndefined:D(8152),last:D(2819),map:D(8921),mapValues:D(6054),max:D(5664),merge:D(2213),min:D(1007),minBy:D(50),now:D(5533),pick:D(7607),range:D(5953),reduce:D(5909),sortBy:D(7184),uniqueId:D(4538),values:D(8808),zipObject:D(4606)}}catch{}S||(S=window._),Y.exports=S},4525:(Y,se,D)=>{var S=D(3990),P=D(9505);function I(A,V,L,k,H,$,Q){var ue=A.children(Q);if(ue.length){var ne=P.addBorderNode(A,"_bt"),le=P.addBorderNode(A,"_bb"),ae=A.node(Q);A.setParent(ne,Q),ae.borderTop=ne,A.setParent(le,Q),ae.borderBottom=le,S.forEach(ue,function(de){I(A,V,L,k,H,$,de);var te=A.node(de),pe=te.borderTop?te.borderTop:de,Z=te.borderBottom?te.borderBottom:de,oe=te.borderTop?k:2*k,ie=pe!==Z?1:H-$[Q]+1;A.setEdge(ne,pe,{weight:oe,minlen:ie,nestingEdge:!0}),A.setEdge(Z,le,{weight:oe,minlen:ie,nestingEdge:!0})}),A.parent(Q)||A.setEdge(V,ne,{weight:0,minlen:H+$[Q]})}else Q!==V&&A.setEdge(V,Q,{weight:0,minlen:L})}Y.exports={run:function O(A){var V=P.addDummyNode(A,"root",{},"_root"),L=function C(A){var V={};function L(k,H){var $=A.children(k);$&&$.length&&S.forEach($,function(Q){L(Q,H+1)}),V[k]=H}return S.forEach(A.children(),function(k){L(k,1)}),V}(A),k=S.max(S.values(L))-1,H=2*k+1;A.graph().nestingRoot=V,S.forEach(A.edges(),function(Q){A.edge(Q).minlen*=H});var $=function T(A){return S.reduce(A.edges(),function(V,L){return V+A.edge(L).weight},0)}(A)+1;S.forEach(A.children(),function(Q){I(A,V,H,$,k,L,Q)}),A.graph().nodeRankFactor=H},cleanup:function N(A){var V=A.graph();A.removeNode(V.nestingRoot),delete V.nestingRoot,S.forEach(A.edges(),function(L){A.edge(L).nestingEdge&&A.removeEdge(L)})}}},1684:(Y,se,D)=>{"use strict";var S=D(3990),P=D(9505);Y.exports={run:function O(T){T.graph().dummyChains=[],S.forEach(T.edges(),function(N){!function I(T,N){var A=N.v,V=T.node(A).rank,L=N.w,k=T.node(L).rank,H=N.name,$=T.edge(N),Q=$.labelRank;if(k!==V+1){var ue,ne,le;for(T.removeEdge(N),le=0,++V;V<k;++le,++V)$.points=[],ue=P.addDummyNode(T,"edge",ne={width:0,height:0,edgeLabel:$,edgeObj:N,rank:V},"_d"),V===Q&&(ne.width=$.width,ne.height=$.height,ne.dummy="edge-label",ne.labelpos=$.labelpos),T.setEdge(A,ue,{weight:$.weight},H),0===le&&T.graph().dummyChains.push(ue),A=ue;T.setEdge(A,L,{weight:$.weight},H)}}(T,N)})},undo:function C(T){S.forEach(T.graph().dummyChains,function(N){var L,A=T.node(N),V=A.edgeLabel;for(T.setEdge(A.edgeObj,V);A.dummy;)L=T.successors(N)[0],T.removeNode(N),V.points.push({x:A.x,y:A.y}),"edge-label"===A.dummy&&(V.x=A.x,V.y=A.y,V.width=A.width,V.height=A.height),A=T.node(N=L)})}}},9821:(Y,se,D)=>{var S=D(3990);Y.exports=function P(O,I,C){var N,T={};S.forEach(C,function(A){for(var L,k,V=O.parent(A);V;){if((L=O.parent(V))?(k=T[L],T[L]=V):(k=N,N=V),k&&k!==V)return void I.setEdge(k,V);V=L}})}},7995:(Y,se,D)=>{var S=D(3990);Y.exports=function P(O,I){return S.map(I,function(C){var T=O.inEdges(C);if(T.length){var N=S.reduce(T,function(A,V){var L=O.edge(V),k=O.node(V.v);return{sum:A.sum+L.weight*k.order,weight:A.weight+L.weight}},{sum:0,weight:0});return{v:C,barycenter:N.sum/N.weight,weight:N.weight}}return{v:C}})}},9384:(Y,se,D)=>{var S=D(3990),P=D(5849).Graph;Y.exports=function O(C,T,N){var A=function I(C){for(var T;C.hasNode(T=S.uniqueId("_root")););return T}(C),V=new P({compound:!0}).setGraph({root:A}).setDefaultNodeLabel(function(L){return C.node(L)});return S.forEach(C.nodes(),function(L){var k=C.node(L),H=C.parent(L);(k.rank===T||k.minRank<=T&&T<=k.maxRank)&&(V.setNode(L),V.setParent(L,H||A),S.forEach(C[N](L),function($){var Q=$.v===L?$.w:$.v,ue=V.edge(Q,L),ne=S.isUndefined(ue)?0:ue.weight;V.setEdge(Q,L,{weight:C.edge($).weight+ne})}),S.has(k,"minRank")&&V.setNode(L,{borderLeft:k.borderLeft[T],borderRight:k.borderRight[T]}))}),V}},444:(Y,se,D)=>{"use strict";var S=D(3990);function O(I,C,T){for(var N=S.zipObject(T,S.map(T,function($,Q){return Q})),A=S.flatten(S.map(C,function($){return S.sortBy(S.map(I.outEdges($),function(Q){return{pos:N[Q.w],weight:I.edge(Q).weight}}),"pos")}),!0),V=1;V<T.length;)V<<=1;var L=2*V-1;V-=1;var k=S.map(new Array(L),function(){return 0}),H=0;return S.forEach(A.forEach(function($){var Q=$.pos+V;k[Q]+=$.weight;for(var ue=0;Q>0;)Q%2&&(ue+=k[Q+1]),k[Q=Q-1>>1]+=$.weight;H+=$.weight*ue})),H}Y.exports=function P(I,C){for(var T=0,N=1;N<C.length;++N)T+=O(I,C[N-1],C[N]);return T}},1574:(Y,se,D)=>{"use strict";var S=D(3990),P=D(320),O=D(444),I=D(8005),C=D(9384),T=D(9821),N=D(5849).Graph,A=D(9505);function L($,Q,ue){return S.map(Q,function(ne){return C($,ne,ue)})}function k($,Q){var ue=new N;S.forEach($,function(ne){var le=ne.graph().root,ae=I(ne,le,ue,Q);S.forEach(ae.vs,function(de,te){ne.node(de).order=te}),T(ne,ue,ae.vs)})}function H($,Q){S.forEach(Q,function(ue){S.forEach(ue,function(ne,le){$.node(ne).order=le})})}Y.exports=function V($){var Q=A.maxRank($),ue=L($,S.range(1,Q+1),"inEdges"),ne=L($,S.range(Q-1,-1,-1),"outEdges"),le=P($);H($,le);for(var de,ae=Number.POSITIVE_INFINITY,te=0,pe=0;pe<4;++te,++pe){k(te%2?ue:ne,te%4>=2),le=A.buildLayerMatrix($);var Z=O($,le);Z<ae&&(pe=0,de=S.cloneDeep(le),ae=Z)}H($,de)}},320:(Y,se,D)=>{"use strict";var S=D(3990);Y.exports=function P(O){var I={},C=S.filter(O.nodes(),function(L){return!O.children(L).length}),T=S.max(S.map(C,function(L){return O.node(L).rank})),N=S.map(S.range(T+1),function(){return[]}),V=S.sortBy(C,function(L){return O.node(L).rank});return S.forEach(V,function A(L){if(!S.has(I,L)){I[L]=!0;var k=O.node(L);N[k.rank].push(L),S.forEach(O.successors(L),A)}}),N}},6686:(Y,se,D)=>{"use strict";var S=D(3990);Y.exports=function P(C,T){var N={};return S.forEach(C,function(V,L){var k=N[V.v]={indegree:0,in:[],out:[],vs:[V.v],i:L};S.isUndefined(V.barycenter)||(k.barycenter=V.barycenter,k.weight=V.weight)}),S.forEach(T.edges(),function(V){var L=N[V.v],k=N[V.w];!S.isUndefined(L)&&!S.isUndefined(k)&&(k.indegree++,L.out.push(N[V.w]))}),function O(C){var T=[];function N(L){return function(k){k.merged||(S.isUndefined(k.barycenter)||S.isUndefined(L.barycenter)||k.barycenter>=L.barycenter)&&function I(C,T){var N=0,A=0;C.weight&&(N+=C.barycenter*C.weight,A+=C.weight),T.weight&&(N+=T.barycenter*T.weight,A+=T.weight),C.vs=T.vs.concat(C.vs),C.barycenter=N/A,C.weight=A,C.i=Math.min(T.i,C.i),T.merged=!0}(L,k)}}function A(L){return function(k){k.in.push(L),0==--k.indegree&&C.push(k)}}for(;C.length;){var V=C.pop();T.push(V),S.forEach(V.in.reverse(),N(V)),S.forEach(V.out,A(V))}return S.map(S.filter(T,function(L){return!L.merged}),function(L){return S.pick(L,["vs","i","barycenter","weight"])})}(S.filter(N,function(V){return!V.indegree}))}},8005:(Y,se,D)=>{var S=D(3990),P=D(7995),O=D(6686),I=D(8380);Y.exports=function C(A,V,L,k){var H=A.children(V),$=A.node(V),Q=$?$.borderLeft:void 0,ue=$?$.borderRight:void 0,ne={};Q&&(H=S.filter(H,function(Z){return Z!==Q&&Z!==ue}));var le=P(A,H);S.forEach(le,function(Z){if(A.children(Z.v).length){var oe=C(A,Z.v,L,k);ne[Z.v]=oe,S.has(oe,"barycenter")&&function N(A,V){S.isUndefined(A.barycenter)?(A.barycenter=V.barycenter,A.weight=V.weight):(A.barycenter=(A.barycenter*A.weight+V.barycenter*V.weight)/(A.weight+V.weight),A.weight+=V.weight)}(Z,oe)}});var ae=O(le,L);!function T(A,V){S.forEach(A,function(L){L.vs=S.flatten(L.vs.map(function(k){return V[k]?V[k].vs:k}),!0)})}(ae,ne);var de=I(ae,k);if(Q&&(de.vs=S.flatten([Q,de.vs,ue],!0),A.predecessors(Q).length)){var te=A.node(A.predecessors(Q)[0]),pe=A.node(A.predecessors(ue)[0]);S.has(de,"barycenter")||(de.barycenter=0,de.weight=0),de.barycenter=(de.barycenter*de.weight+te.order+pe.order)/(de.weight+2),de.weight+=2}return de}},8380:(Y,se,D)=>{var S=D(3990),P=D(9505);function I(T,N,A){for(var V;N.length&&(V=S.last(N)).i<=A;)N.pop(),T.push(V.vs),A++;return A}Y.exports=function O(T,N){var A=P.partition(T,function(ne){return S.has(ne,"barycenter")}),V=A.lhs,L=S.sortBy(A.rhs,function(ne){return-ne.i}),k=[],H=0,$=0,Q=0;V.sort(function C(T){return function(N,A){return N.barycenter<A.barycenter?-1:N.barycenter>A.barycenter?1:T?A.i-N.i:N.i-A.i}}(!!N)),Q=I(k,L,Q),S.forEach(V,function(ne){Q+=ne.vs.length,k.push(ne.vs),H+=ne.barycenter*ne.weight,$+=ne.weight,Q=I(k,L,Q)});var ue={vs:S.flatten(k,!0)};return $&&(ue.barycenter=H/$,ue.weight=$),ue}},1250:(Y,se,D)=>{var S=D(3990);Y.exports=function P(C){var T=function I(C){var T={},N=0;return S.forEach(C.children(),function A(V){var L=N;S.forEach(C.children(V),A),T[V]={low:L,lim:N++}}),T}(C);S.forEach(C.graph().dummyChains,function(N){for(var A=C.node(N),V=A.edgeObj,L=function O(C,T,N,A){var $,Q,V=[],L=[],k=Math.min(T[N].low,T[A].low),H=Math.max(T[N].lim,T[A].lim);$=N;do{$=C.parent($),V.push($)}while($&&(T[$].low>k||H>T[$].lim));for(Q=$,$=A;($=C.parent($))!==Q;)L.push($);return{path:V.concat(L.reverse()),lca:Q}}(C,T,V.v,V.w),k=L.path,H=L.lca,$=0,Q=k[$],ue=!0;N!==V.w;){if(A=C.node(N),ue){for(;(Q=k[$])!==H&&C.node(Q).maxRank<A.rank;)$++;Q===H&&(ue=!1)}if(!ue){for(;$<k.length-1&&C.node(Q=k[$+1]).minRank<=A.rank;)$++;Q=k[$]}C.setParent(N,Q),N=C.successors(N)[0]}})}},8851:(Y,se,D)=>{"use strict";var S=D(3990),P=D(5849).Graph,O=D(9505);function I(ae,de){var te={};return S.reduce(de,function pe(Z,oe){var ie=0,me=0,_e=Z.length,Te=S.last(oe);return S.forEach(oe,function(De,ze){var Be=function T(ae,de){if(ae.node(de).dummy)return S.find(ae.predecessors(de),function(te){return ae.node(te).dummy})}(ae,De),at=Be?ae.node(Be).order:_e;(Be||De===Te)&&(S.forEach(oe.slice(me,ze+1),function(ft){S.forEach(ae.predecessors(ft),function(Ye){var Ct=ae.node(Ye),Xe=Ct.order;(Xe<ie||at<Xe)&&(!Ct.dummy||!ae.node(ft).dummy)&&N(te,Ye,ft)})}),me=ze+1,ie=at)}),oe}),te}function C(ae,de){var te={};function pe(oe,ie,me,_e,Te){var De;S.forEach(S.range(ie,me),function(ze){ae.node(De=oe[ze]).dummy&&S.forEach(ae.predecessors(De),function(Be){var at=ae.node(Be);at.dummy&&(at.order<_e||at.order>Te)&&N(te,Be,De)})})}return S.reduce(de,function Z(oe,ie){var _e,me=-1,Te=0;return S.forEach(ie,function(De,ze){if("border"===ae.node(De).dummy){var Be=ae.predecessors(De);Be.length&&(_e=ae.node(Be[0]).order,pe(ie,Te,ze,me,_e),Te=ze,me=_e)}pe(ie,Te,ie.length,_e,oe.length)}),ie}),te}function N(ae,de,te){if(de>te){var pe=de;de=te,te=pe}var Z=ae[de];Z||(ae[de]=Z={}),Z[te]=!0}function A(ae,de,te){if(de>te){var pe=de;de=te,te=pe}return S.has(ae[de],te)}function V(ae,de,te,pe){var Z={},oe={},ie={};return S.forEach(de,function(me){S.forEach(me,function(_e,Te){Z[_e]=_e,oe[_e]=_e,ie[_e]=Te})}),S.forEach(de,function(me){var _e=-1;S.forEach(me,function(Te){var De=pe(Te);if(De.length)for(var ze=((De=S.sortBy(De,function(Ye){return ie[Ye]})).length-1)/2,Be=Math.floor(ze),at=Math.ceil(ze);Be<=at;++Be){var ft=De[Be];oe[Te]===Te&&_e<ie[ft]&&!A(te,Te,ft)&&(oe[ft]=Te,oe[Te]=Z[Te]=Z[ft],_e=ie[ft])}})}),{root:Z,align:oe}}function L(ae,de,te,pe,Z){var oe={},ie=function k(ae,de,te,pe){var Z=new P,oe=ae.graph(),ie=function ne(ae,de,te){return function(pe,Z,oe){var Te,ie=pe.node(Z),me=pe.node(oe),_e=0;if(_e+=ie.width/2,S.has(ie,"labelpos"))switch(ie.labelpos.toLowerCase()){case"l":Te=-ie.width/2;break;case"r":Te=ie.width/2}if(Te&&(_e+=te?Te:-Te),Te=0,_e+=(ie.dummy?de:ae)/2,_e+=(me.dummy?de:ae)/2,_e+=me.width/2,S.has(me,"labelpos"))switch(me.labelpos.toLowerCase()){case"l":Te=me.width/2;break;case"r":Te=-me.width/2}return Te&&(_e+=te?Te:-Te),Te=0,_e}}(oe.nodesep,oe.edgesep,pe);return S.forEach(de,function(me){var _e;S.forEach(me,function(Te){var De=te[Te];if(Z.setNode(De),_e){var ze=te[_e],Be=Z.edge(ze,De);Z.setEdge(ze,De,Math.max(ie(ae,Te,_e),Be||0))}_e=Te})}),Z}(ae,de,te,Z),me=Z?"borderLeft":"borderRight";function _e(ze,Be){for(var at=ie.nodes(),ft=at.pop(),Ye={};ft;)Ye[ft]?ze(ft):(Ye[ft]=!0,at.push(ft),at=at.concat(Be(ft))),ft=at.pop()}return _e(function Te(ze){oe[ze]=ie.inEdges(ze).reduce(function(Be,at){return Math.max(Be,oe[at.v]+ie.edge(at))},0)},ie.predecessors.bind(ie)),_e(function De(ze){var Be=ie.outEdges(ze).reduce(function(ft,Ye){return Math.min(ft,oe[Ye.w]-ie.edge(Ye))},Number.POSITIVE_INFINITY),at=ae.node(ze);Be!==Number.POSITIVE_INFINITY&&at.borderType!==me&&(oe[ze]=Math.max(oe[ze],Be))},ie.successors.bind(ie)),S.forEach(pe,function(ze){oe[ze]=oe[te[ze]]}),oe}function H(ae,de){return S.minBy(S.values(de),function(te){var pe=Number.NEGATIVE_INFINITY,Z=Number.POSITIVE_INFINITY;return S.forIn(te,function(oe,ie){var me=function le(ae,de){return ae.node(de).width}(ae,ie)/2;pe=Math.max(oe+me,pe),Z=Math.min(oe-me,Z)}),pe-Z})}function $(ae,de){var te=S.values(de),pe=S.min(te),Z=S.max(te);S.forEach(["u","d"],function(oe){S.forEach(["l","r"],function(ie){var Te,me=oe+ie,_e=ae[me];if(_e!==de){var De=S.values(_e);(Te="l"===ie?pe-S.min(De):Z-S.max(De))&&(ae[me]=S.mapValues(_e,function(ze){return ze+Te}))}})})}function Q(ae,de){return S.mapValues(ae.ul,function(te,pe){if(de)return ae[de.toLowerCase()][pe];var Z=S.sortBy(S.map(ae,pe));return(Z[1]+Z[2])/2})}Y.exports={positionX:function ue(ae){var Z,de=O.buildLayerMatrix(ae),te=S.merge(I(ae,de),C(ae,de)),pe={};S.forEach(["u","d"],function(ie){Z="u"===ie?de:S.values(de).reverse(),S.forEach(["l","r"],function(me){"r"===me&&(Z=S.map(Z,function(ze){return S.values(ze).reverse()}));var _e=("u"===ie?ae.predecessors:ae.successors).bind(ae),Te=V(0,Z,te,_e),De=L(ae,Z,Te.root,Te.align,"r"===me);"r"===me&&(De=S.mapValues(De,function(ze){return-ze})),pe[ie+me]=De})});var oe=H(ae,pe);return $(pe,oe),Q(pe,ae.graph().align)},findType1Conflicts:I,findType2Conflicts:C,addConflict:N,hasConflict:A,verticalAlignment:V,horizontalCompaction:L,alignCoordinates:$,findSmallestWidthAlignment:H,balance:Q}},6403:(Y,se,D)=>{"use strict";var S=D(3990),P=D(9505),O=D(8851).positionX;Y.exports=function I(T){(function C(T){var N=P.buildLayerMatrix(T),A=T.graph().ranksep,V=0;S.forEach(N,function(L){var k=S.max(S.map(L,function(H){return T.node(H).height}));S.forEach(L,function(H){T.node(H).y=V+k/2}),V+=k+A})})(T=P.asNonCompoundGraph(T)),S.forEach(O(T),function(N,A){T.node(A).x=N})}},8214:(Y,se,D)=>{"use strict";var S=D(3990),P=D(5849).Graph,O=D(4216).slack;function C(A,V){return S.forEach(A.nodes(),function L(k){S.forEach(V.nodeEdges(k),function(H){var $=H.v,Q=k===$?H.w:$;!A.hasNode(Q)&&!O(V,H)&&(A.setNode(Q,{}),A.setEdge(k,Q,{}),L(Q))})}),A.nodeCount()}function T(A,V){return S.minBy(V.edges(),function(L){if(A.hasNode(L.v)!==A.hasNode(L.w))return O(V,L)})}function N(A,V,L){S.forEach(A.nodes(),function(k){V.node(k).rank+=L})}Y.exports=function I(A){var H,$,V=new P({directed:!1}),L=A.nodes()[0],k=A.nodeCount();for(V.setNode(L,{});C(V,A)<k;)H=T(V,A),$=V.hasNode(H.v)?O(A,H):-O(A,H),N(V,A,$);return V}},3752:(Y,se,D)=>{"use strict";var P=D(4216).longestPath,O=D(8214),I=D(4857);Y.exports=function C(V){switch(V.graph().ranker){case"network-simplex":default:!function A(V){I(V)}(V);break;case"tight-tree":!function N(V){P(V),O(V)}(V);break;case"longest-path":T(V)}};var T=P},4857:(Y,se,D)=>{"use strict";var S=D(3990),P=D(8214),O=D(4216).slack,I=D(4216).longestPath,C=D(5849).alg.preorder,T=D(5849).alg.postorder,N=D(9505).simplify;function A(te){te=N(te),I(te);var Z,pe=P(te);for(H(pe),V(pe,te);Z=Q(pe);)ne(pe,te,Z,ue(pe,te,Z))}function V(te,pe){var Z=T(te,te.nodes());Z=Z.slice(0,Z.length-1),S.forEach(Z,function(oe){!function L(te,pe,Z){var oe=te.node(Z);te.edge(Z,oe.parent).cutvalue=k(te,pe,Z)}(te,pe,oe)})}function k(te,pe,Z){var ie=te.node(Z).parent,me=!0,_e=pe.edge(Z,ie),Te=0;return _e||(me=!1,_e=pe.edge(ie,Z)),Te=_e.weight,S.forEach(pe.nodeEdges(Z),function(De){var ze=De.v===Z,Be=ze?De.w:De.v;if(Be!==ie){var at=ze===me,ft=pe.edge(De).weight;if(Te+=at?ft:-ft,function ae(te,pe,Z){return te.hasEdge(pe,Z)}(te,Z,Be)){var Ye=te.edge(Z,Be).cutvalue;Te+=at?-Ye:Ye}}}),Te}function H(te,pe){arguments.length<2&&(pe=te.nodes()[0]),$(te,{},1,pe)}function $(te,pe,Z,oe,ie){var me=Z,_e=te.node(oe);return pe[oe]=!0,S.forEach(te.neighbors(oe),function(Te){S.has(pe,Te)||(Z=$(te,pe,Z,Te,oe))}),_e.low=me,_e.lim=Z++,ie?_e.parent=ie:delete _e.parent,Z}function Q(te){return S.find(te.edges(),function(pe){return te.edge(pe).cutvalue<0})}function ue(te,pe,Z){var oe=Z.v,ie=Z.w;pe.hasEdge(oe,ie)||(oe=Z.w,ie=Z.v);var me=te.node(oe),_e=te.node(ie),Te=me,De=!1;me.lim>_e.lim&&(Te=_e,De=!0);var ze=S.filter(pe.edges(),function(Be){return De===de(0,te.node(Be.v),Te)&&De!==de(0,te.node(Be.w),Te)});return S.minBy(ze,function(Be){return O(pe,Be)})}function ne(te,pe,Z,oe){te.removeEdge(Z.v,Z.w),te.setEdge(oe.v,oe.w,{}),H(te),V(te,pe),function le(te,pe){var Z=S.find(te.nodes(),function(ie){return!pe.node(ie).parent}),oe=C(te,Z);oe=oe.slice(1),S.forEach(oe,function(ie){var me=te.node(ie).parent,_e=pe.edge(ie,me),Te=!1;_e||(_e=pe.edge(me,ie),Te=!0),pe.node(ie).rank=pe.node(me).rank+(Te?_e.minlen:-_e.minlen)})}(te,pe)}function de(te,pe,Z){return Z.low<=pe.lim&&pe.lim<=Z.lim}Y.exports=A,A.initLowLimValues=H,A.initCutValues=V,A.calcCutValue=k,A.leaveEdge=Q,A.enterEdge=ue,A.exchangeEdges=ne},4216:(Y,se,D)=>{"use strict";var S=D(3990);Y.exports={longestPath:function P(I){var C={};S.forEach(I.sources(),function T(N){var A=I.node(N);if(S.has(C,N))return A.rank;C[N]=!0;var V=S.min(S.map(I.outEdges(N),function(L){return T(L.w)-I.edge(L).minlen}));return(V===Number.POSITIVE_INFINITY||null==V)&&(V=0),A.rank=V})},slack:function O(I,C){return I.node(C.w).rank-I.node(C.v).rank-I.edge(C).minlen}}},9505:(Y,se,D)=>{"use strict";var S=D(3990),P=D(5849).Graph;function O(le,ae,de,te){var pe;do{pe=S.uniqueId(te)}while(le.hasNode(pe));return de.dummy=ae,le.setNode(pe,de),pe}function $(le){return S.max(S.map(le.nodes(),function(ae){var de=le.node(ae).rank;if(!S.isUndefined(de))return de}))}Y.exports={addDummyNode:O,simplify:function I(le){var ae=(new P).setGraph(le.graph());return S.forEach(le.nodes(),function(de){ae.setNode(de,le.node(de))}),S.forEach(le.edges(),function(de){var te=ae.edge(de.v,de.w)||{weight:0,minlen:1},pe=le.edge(de);ae.setEdge(de.v,de.w,{weight:te.weight+pe.weight,minlen:Math.max(te.minlen,pe.minlen)})}),ae},asNonCompoundGraph:function C(le){var ae=new P({multigraph:le.isMultigraph()}).setGraph(le.graph());return S.forEach(le.nodes(),function(de){le.children(de).length||ae.setNode(de,le.node(de))}),S.forEach(le.edges(),function(de){ae.setEdge(de,le.edge(de))}),ae},successorWeights:function T(le){var ae=S.map(le.nodes(),function(de){var te={};return S.forEach(le.outEdges(de),function(pe){te[pe.w]=(te[pe.w]||0)+le.edge(pe).weight}),te});return S.zipObject(le.nodes(),ae)},predecessorWeights:function N(le){var ae=S.map(le.nodes(),function(de){var te={};return S.forEach(le.inEdges(de),function(pe){te[pe.v]=(te[pe.v]||0)+le.edge(pe).weight}),te});return S.zipObject(le.nodes(),ae)},intersectRect:function A(le,ae){var me,_e,de=le.x,te=le.y,pe=ae.x-de,Z=ae.y-te,oe=le.width/2,ie=le.height/2;if(!pe&&!Z)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(Z)*oe>Math.abs(pe)*ie?(Z<0&&(ie=-ie),me=ie*pe/Z,_e=ie):(pe<0&&(oe=-oe),me=oe,_e=oe*Z/pe),{x:de+me,y:te+_e}},buildLayerMatrix:function V(le){var ae=S.map(S.range($(le)+1),function(){return[]});return S.forEach(le.nodes(),function(de){var te=le.node(de),pe=te.rank;S.isUndefined(pe)||(ae[pe][te.order]=de)}),ae},normalizeRanks:function L(le){var ae=S.min(S.map(le.nodes(),function(de){return le.node(de).rank}));S.forEach(le.nodes(),function(de){var te=le.node(de);S.has(te,"rank")&&(te.rank-=ae)})},removeEmptyRanks:function k(le){var ae=S.min(S.map(le.nodes(),function(Z){return le.node(Z).rank})),de=[];S.forEach(le.nodes(),function(Z){var oe=le.node(Z).rank-ae;de[oe]||(de[oe]=[]),de[oe].push(Z)});var te=0,pe=le.graph().nodeRankFactor;S.forEach(de,function(Z,oe){S.isUndefined(Z)&&oe%pe!=0?--te:te&&S.forEach(Z,function(ie){le.node(ie).rank+=te})})},addBorderNode:function H(le,ae,de,te){var pe={width:0,height:0};return arguments.length>=4&&(pe.rank=de,pe.order=te),O(le,"border",pe,ae)},maxRank:$,partition:function Q(le,ae){var de={lhs:[],rhs:[]};return S.forEach(le,function(te){ae(te)?de.lhs.push(te):de.rhs.push(te)}),de},time:function ue(le,ae){var de=S.now();try{return ae()}finally{console.log(le+" time: "+(S.now()-de)+"ms")}},notime:function ne(le,ae){return ae()}}},2187:Y=>{Y.exports="0.8.5"},9034:(Y,se,D)=>{var S=D(3934);Y.exports={Graph:S.Graph,json:D(2440),alg:D(3955),version:S.version}},1986:(Y,se,D)=>{var S=D(9368);Y.exports=function P(O){var T,I={},C=[];function N(A){S.has(I,A)||(I[A]=!0,T.push(A),S.each(O.successors(A),N),S.each(O.predecessors(A),N))}return S.each(O.nodes(),function(A){T=[],N(A),T.length&&C.push(T)}),C}},1428:(Y,se,D)=>{var S=D(9368);function O(I,C,T,N,A,V){S.has(N,C)||(N[C]=!0,T||V.push(C),S.each(A(C),function(L){O(I,L,T,N,A,V)}),T&&V.push(C))}Y.exports=function P(I,C,T){S.isArray(C)||(C=[C]);var N=(I.isDirected()?I.successors:I.neighbors).bind(I),A=[],V={};return S.each(C,function(L){if(!I.hasNode(L))throw new Error("Graph does not have node: "+L);O(I,L,"post"===T,V,N,A)}),A}},5583:(Y,se,D)=>{var S=D(2644),P=D(9368);Y.exports=function O(I,C,T){return P.transform(I.nodes(),function(N,A){N[A]=S(I,A,C,T)},{})}},2644:(Y,se,D)=>{var S=D(9368),P=D(1321);Y.exports=function I(T,N,A,V){return function C(T,N,A,V){var H,$,L={},k=new P,Q=function(ue){var ne=ue.v!==H?ue.v:ue.w,le=L[ne],ae=A(ue),de=$.distance+ae;if(ae<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+ue+" Weight: "+ae);de<le.distance&&(le.distance=de,le.predecessor=H,k.decrease(ne,de))};for(T.nodes().forEach(function(ue){var ne=ue===N?0:Number.POSITIVE_INFINITY;L[ue]={distance:ne},k.add(ue,ne)});k.size()>0&&(H=k.removeMin(),($=L[H]).distance!==Number.POSITIVE_INFINITY);)V(H).forEach(Q);return L}(T,String(N),A||O,V||function(L){return T.outEdges(L)})};var O=S.constant(1)},7651:(Y,se,D)=>{var S=D(9368),P=D(3628);Y.exports=function O(I){return S.filter(P(I),function(C){return C.length>1||1===C.length&&I.hasEdge(C[0],C[0])})}},5160:(Y,se,D)=>{var S=D(9368);Y.exports=function O(C,T,N){return function I(C,T,N){var A={},V=C.nodes();return V.forEach(function(L){A[L]={},A[L][L]={distance:0},V.forEach(function(k){L!==k&&(A[L][k]={distance:Number.POSITIVE_INFINITY})}),N(L).forEach(function(k){var H=k.v===L?k.w:k.v,$=T(k);A[L][H]={distance:$,predecessor:L}})}),V.forEach(function(L){var k=A[L];V.forEach(function(H){var $=A[H];V.forEach(function(Q){var ne=k[Q],le=$[Q],ae=$[L].distance+ne.distance;ae<le.distance&&(le.distance=ae,le.predecessor=ne.predecessor)})})}),A}(C,T||P,N||function(A){return C.outEdges(A)})};var P=S.constant(1)},3955:(Y,se,D)=>{Y.exports={components:D(1986),dijkstra:D(2644),dijkstraAll:D(5583),findCycles:D(7651),floydWarshall:D(5160),isAcyclic:D(6993),postorder:D(703),preorder:D(6544),prim:D(4338),tarjan:D(3628),topsort:D(5344)}},6993:(Y,se,D)=>{var S=D(5344);Y.exports=function P(O){try{S(O)}catch(I){if(I instanceof S.CycleException)return!1;throw I}return!0}},703:(Y,se,D)=>{var S=D(1428);Y.exports=function P(O,I){return S(O,I,"post")}},6544:(Y,se,D)=>{var S=D(1428);Y.exports=function P(O,I){return S(O,I,"pre")}},4338:(Y,se,D)=>{var S=D(9368),P=D(427),O=D(1321);Y.exports=function I(C,T){var L,N=new P,A={},V=new O;function k($){var Q=$.v===L?$.w:$.v,ue=V.priority(Q);if(void 0!==ue){var ne=T($);ne<ue&&(A[Q]=L,V.decrease(Q,ne))}}if(0===C.nodeCount())return N;S.each(C.nodes(),function($){V.add($,Number.POSITIVE_INFINITY),N.setNode($)}),V.decrease(C.nodes()[0],0);for(var H=!1;V.size()>0;){if(L=V.removeMin(),S.has(A,L))N.setEdge(L,A[L]);else{if(H)throw new Error("Input graph is not connected: "+C);H=!0}C.nodeEdges(L).forEach(k)}return N}},3628:(Y,se,D)=>{var S=D(9368);Y.exports=function P(O){var I=0,C=[],T={},N=[];function A(V){var L=T[V]={onStack:!0,lowlink:I,index:I++};if(C.push(V),O.successors(V).forEach(function($){S.has(T,$)?T[$].onStack&&(L.lowlink=Math.min(L.lowlink,T[$].index)):(A($),L.lowlink=Math.min(L.lowlink,T[$].lowlink))}),L.lowlink===L.index){var H,k=[];do{H=C.pop(),T[H].onStack=!1,k.push(H)}while(V!==H);N.push(k)}}return O.nodes().forEach(function(V){S.has(T,V)||A(V)}),N}},5344:(Y,se,D)=>{var S=D(9368);function P(I){var C={},T={},N=[];if(S.each(I.sinks(),function A(V){if(S.has(T,V))throw new O;S.has(C,V)||(T[V]=!0,C[V]=!0,S.each(I.predecessors(V),A),delete T[V],N.push(V))}),S.size(C)!==I.nodeCount())throw new O;return N}function O(){}Y.exports=P,P.CycleException=O,O.prototype=new Error},1321:(Y,se,D)=>{var S=D(9368);function P(){this._arr=[],this._keyIndices={}}Y.exports=P,P.prototype.size=function(){return this._arr.length},P.prototype.keys=function(){return this._arr.map(function(O){return O.key})},P.prototype.has=function(O){return S.has(this._keyIndices,O)},P.prototype.priority=function(O){var I=this._keyIndices[O];if(void 0!==I)return this._arr[I].priority},P.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},P.prototype.add=function(O,I){var C=this._keyIndices;if(O=String(O),!S.has(C,O)){var T=this._arr,N=T.length;return C[O]=N,T.push({key:O,priority:I}),this._decrease(N),!0}return!1},P.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var O=this._arr.pop();return delete this._keyIndices[O.key],this._heapify(0),O.key},P.prototype.decrease=function(O,I){var C=this._keyIndices[O];if(I>this._arr[C].priority)throw new Error("New priority is greater than current priority. Key: "+O+" Old: "+this._arr[C].priority+" New: "+I);this._arr[C].priority=I,this._decrease(C)},P.prototype._heapify=function(O){var I=this._arr,C=2*O,T=C+1,N=O;C<I.length&&(N=I[C].priority<I[N].priority?C:N,T<I.length&&(N=I[T].priority<I[N].priority?T:N),N!==O&&(this._swap(O,N),this._heapify(N)))},P.prototype._decrease=function(O){for(var T,I=this._arr,C=I[O].priority;0!==O&&!(I[T=O>>1].priority<C);)this._swap(O,T),O=T},P.prototype._swap=function(O,I){var C=this._arr,T=this._keyIndices,N=C[O],A=C[I];C[O]=A,C[I]=N,T[A.key]=O,T[N.key]=I}},427:(Y,se,D)=>{"use strict";var S=D(9368);Y.exports=C;var P="\0",O="\0",I="\x01";function C(k){this._isDirected=!S.has(k,"directed")||k.directed,this._isMultigraph=!!S.has(k,"multigraph")&&k.multigraph,this._isCompound=!!S.has(k,"compound")&&k.compound,this._label=void 0,this._defaultNodeLabelFn=S.constant(void 0),this._defaultEdgeLabelFn=S.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[O]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function T(k,H){k[H]?k[H]++:k[H]=1}function N(k,H){--k[H]||delete k[H]}function A(k,H,$,Q){var ue=""+H,ne=""+$;if(!k&&ue>ne){var le=ue;ue=ne,ne=le}return ue+I+ne+I+(S.isUndefined(Q)?P:Q)}function L(k,H){return A(k,H.v,H.w,H.name)}C.prototype._nodeCount=0,C.prototype._edgeCount=0,C.prototype.isDirected=function(){return this._isDirected},C.prototype.isMultigraph=function(){return this._isMultigraph},C.prototype.isCompound=function(){return this._isCompound},C.prototype.setGraph=function(k){return this._label=k,this},C.prototype.graph=function(){return this._label},C.prototype.setDefaultNodeLabel=function(k){return S.isFunction(k)||(k=S.constant(k)),this._defaultNodeLabelFn=k,this},C.prototype.nodeCount=function(){return this._nodeCount},C.prototype.nodes=function(){return S.keys(this._nodes)},C.prototype.sources=function(){var k=this;return S.filter(this.nodes(),function(H){return S.isEmpty(k._in[H])})},C.prototype.sinks=function(){var k=this;return S.filter(this.nodes(),function(H){return S.isEmpty(k._out[H])})},C.prototype.setNodes=function(k,H){var $=arguments,Q=this;return S.each(k,function(ue){$.length>1?Q.setNode(ue,H):Q.setNode(ue)}),this},C.prototype.setNode=function(k,H){return S.has(this._nodes,k)?(arguments.length>1&&(this._nodes[k]=H),this):(this._nodes[k]=arguments.length>1?H:this._defaultNodeLabelFn(k),this._isCompound&&(this._parent[k]=O,this._children[k]={},this._children[O][k]=!0),this._in[k]={},this._preds[k]={},this._out[k]={},this._sucs[k]={},++this._nodeCount,this)},C.prototype.node=function(k){return this._nodes[k]},C.prototype.hasNode=function(k){return S.has(this._nodes,k)},C.prototype.removeNode=function(k){var H=this;if(S.has(this._nodes,k)){var $=function(Q){H.removeEdge(H._edgeObjs[Q])};delete this._nodes[k],this._isCompound&&(this._removeFromParentsChildList(k),delete this._parent[k],S.each(this.children(k),function(Q){H.setParent(Q)}),delete this._children[k]),S.each(S.keys(this._in[k]),$),delete this._in[k],delete this._preds[k],S.each(S.keys(this._out[k]),$),delete this._out[k],delete this._sucs[k],--this._nodeCount}return this},C.prototype.setParent=function(k,H){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(S.isUndefined(H))H=O;else{for(var $=H+="";!S.isUndefined($);$=this.parent($))if($===k)throw new Error("Setting "+H+" as parent of "+k+" would create a cycle");this.setNode(H)}return this.setNode(k),this._removeFromParentsChildList(k),this._parent[k]=H,this._children[H][k]=!0,this},C.prototype._removeFromParentsChildList=function(k){delete this._children[this._parent[k]][k]},C.prototype.parent=function(k){if(this._isCompound){var H=this._parent[k];if(H!==O)return H}},C.prototype.children=function(k){if(S.isUndefined(k)&&(k=O),this._isCompound){var H=this._children[k];if(H)return S.keys(H)}else{if(k===O)return this.nodes();if(this.hasNode(k))return[]}},C.prototype.predecessors=function(k){var H=this._preds[k];if(H)return S.keys(H)},C.prototype.successors=function(k){var H=this._sucs[k];if(H)return S.keys(H)},C.prototype.neighbors=function(k){var H=this.predecessors(k);if(H)return S.union(H,this.successors(k))},C.prototype.isLeaf=function(k){return 0===(this.isDirected()?this.successors(k):this.neighbors(k)).length},C.prototype.filterNodes=function(k){var H=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});H.setGraph(this.graph());var $=this;S.each(this._nodes,function(ne,le){k(le)&&H.setNode(le,ne)}),S.each(this._edgeObjs,function(ne){H.hasNode(ne.v)&&H.hasNode(ne.w)&&H.setEdge(ne,$.edge(ne))});var Q={};function ue(ne){var le=$.parent(ne);return void 0===le||H.hasNode(le)?(Q[ne]=le,le):le in Q?Q[le]:ue(le)}return this._isCompound&&S.each(H.nodes(),function(ne){H.setParent(ne,ue(ne))}),H},C.prototype.setDefaultEdgeLabel=function(k){return S.isFunction(k)||(k=S.constant(k)),this._defaultEdgeLabelFn=k,this},C.prototype.edgeCount=function(){return this._edgeCount},C.prototype.edges=function(){return S.values(this._edgeObjs)},C.prototype.setPath=function(k,H){var $=this,Q=arguments;return S.reduce(k,function(ue,ne){return Q.length>1?$.setEdge(ue,ne,H):$.setEdge(ue,ne),ne}),this},C.prototype.setEdge=function(){var k,H,$,Q,ue=!1,ne=arguments[0];"object"==typeof ne&&null!==ne&&"v"in ne?(k=ne.v,H=ne.w,$=ne.name,2===arguments.length&&(Q=arguments[1],ue=!0)):(k=ne,H=arguments[1],$=arguments[3],arguments.length>2&&(Q=arguments[2],ue=!0)),k=""+k,H=""+H,S.isUndefined($)||($=""+$);var le=A(this._isDirected,k,H,$);if(S.has(this._edgeLabels,le))return ue&&(this._edgeLabels[le]=Q),this;if(!S.isUndefined($)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(k),this.setNode(H),this._edgeLabels[le]=ue?Q:this._defaultEdgeLabelFn(k,H,$);var ae=function V(k,H,$,Q){var ue=""+H,ne=""+$;if(!k&&ue>ne){var le=ue;ue=ne,ne=le}var ae={v:ue,w:ne};return Q&&(ae.name=Q),ae}(this._isDirected,k,H,$);return k=ae.v,H=ae.w,Object.freeze(ae),this._edgeObjs[le]=ae,T(this._preds[H],k),T(this._sucs[k],H),this._in[H][le]=ae,this._out[k][le]=ae,this._edgeCount++,this},C.prototype.edge=function(k,H,$){var Q=1===arguments.length?L(this._isDirected,arguments[0]):A(this._isDirected,k,H,$);return this._edgeLabels[Q]},C.prototype.hasEdge=function(k,H,$){var Q=1===arguments.length?L(this._isDirected,arguments[0]):A(this._isDirected,k,H,$);return S.has(this._edgeLabels,Q)},C.prototype.removeEdge=function(k,H,$){var Q=1===arguments.length?L(this._isDirected,arguments[0]):A(this._isDirected,k,H,$),ue=this._edgeObjs[Q];return ue&&(k=ue.v,H=ue.w,delete this._edgeLabels[Q],delete this._edgeObjs[Q],N(this._preds[H],k),N(this._sucs[k],H),delete this._in[H][Q],delete this._out[k][Q],this._edgeCount--),this},C.prototype.inEdges=function(k,H){var $=this._in[k];if($){var Q=S.values($);return H?S.filter(Q,function(ue){return ue.v===H}):Q}},C.prototype.outEdges=function(k,H){var $=this._out[k];if($){var Q=S.values($);return H?S.filter(Q,function(ue){return ue.w===H}):Q}},C.prototype.nodeEdges=function(k,H){var $=this.inEdges(k,H);if($)return $.concat(this.outEdges(k,H))}},3934:(Y,se,D)=>{Y.exports={Graph:D(427),version:D(7747)}},2440:(Y,se,D)=>{var S=D(9368),P=D(427);function I(N){return S.map(N.nodes(),function(A){var V=N.node(A),L=N.parent(A),k={v:A};return S.isUndefined(V)||(k.value=V),S.isUndefined(L)||(k.parent=L),k})}function C(N){return S.map(N.edges(),function(A){var V=N.edge(A),L={v:A.v,w:A.w};return S.isUndefined(A.name)||(L.name=A.name),S.isUndefined(V)||(L.value=V),L})}Y.exports={write:function O(N){var A={options:{directed:N.isDirected(),multigraph:N.isMultigraph(),compound:N.isCompound()},nodes:I(N),edges:C(N)};return S.isUndefined(N.graph())||(A.value=S.clone(N.graph())),A},read:function T(N){var A=new P(N.options).setGraph(N.value);return S.each(N.nodes,function(V){A.setNode(V.v,V.value),V.parent&&A.setParent(V.v,V.parent)}),S.each(N.edges,function(V){A.setEdge({v:V.v,w:V.w,name:V.name},V.value)}),A}}},9368:(Y,se,D)=>{var S;try{S={clone:D(8734),constant:D(1075),each:D(6488),filter:D(7661),has:D(8669),isArray:D(2261),isEmpty:D(5350),isFunction:D(6861),isUndefined:D(8152),keys:D(4614),map:D(8921),reduce:D(5909),size:D(5741),transform:D(6893),union:D(2480),values:D(8808)}}catch{}S||(S=window._),Y.exports=S},7747:Y=>{Y.exports="2.1.8"},7444:(Y,se,D)=>{Y.exports=D(7253)},7253:function(Y,se){var D,S,P;(function(){var O,I,C,T,N,A,V,L,k,H,$,Q,ue,ne,le;C=Math.floor,H=Math.min,I=function(ae,de){return ae<de?-1:ae>de?1:0},k=function(ae,de,te,pe,Z){var oe;if(null==te&&(te=0),null==Z&&(Z=I),te<0)throw new Error("lo must be non-negative");for(null==pe&&(pe=ae.length);te<pe;)Z(de,ae[oe=C((te+pe)/2)])<0?pe=oe:te=oe+1;return[].splice.apply(ae,[te,te-te].concat(de)),de},A=function(ae,de,te){return null==te&&(te=I),ae.push(de),ne(ae,0,ae.length-1,te)},N=function(ae,de){var te,pe;return null==de&&(de=I),te=ae.pop(),ae.length?(pe=ae[0],ae[0]=te,le(ae,0,de)):pe=te,pe},L=function(ae,de,te){var pe;return null==te&&(te=I),pe=ae[0],ae[0]=de,le(ae,0,te),pe},V=function(ae,de,te){var pe;return null==te&&(te=I),ae.length&&te(ae[0],de)<0&&(de=(pe=[ae[0],de])[0],ae[0]=pe[1],le(ae,0,te)),de},T=function(ae,de){var pe,oe,me,_e,Te;for(null==de&&(de=I),_e=[],pe=0,oe=(me=function(){Te=[];for(var De=0,ze=C(ae.length/2);0<=ze?De<ze:De>ze;0<=ze?De++:De--)Te.push(De);return Te}.apply(this).reverse()).length;pe<oe;pe++)_e.push(le(ae,me[pe],de));return _e},ue=function(ae,de,te){var pe;if(null==te&&(te=I),-1!==(pe=ae.indexOf(de)))return ne(ae,0,pe,te),le(ae,pe,te)},$=function(ae,de,te){var Z,oe,ie,me;if(null==te&&(te=I),!(Z=ae.slice(0,de)).length)return Z;for(T(Z,te),oe=0,ie=(me=ae.slice(de)).length;oe<ie;oe++)V(Z,me[oe],te);return Z.sort(te).reverse()},Q=function(ae,de,te){var pe,oe,ie,me,_e,Te,De,ze,Be;if(null==te&&(te=I),10*de<=ae.length){if(!(ie=ae.slice(0,de).sort(te)).length)return ie;for(oe=ie[ie.length-1],me=0,Te=(De=ae.slice(de)).length;me<Te;me++)te(pe=De[me],oe)<0&&(k(ie,pe,0,null,te),ie.pop(),oe=ie[ie.length-1]);return ie}for(T(ae,te),Be=[],_e=0,ze=H(de,ae.length);0<=ze?_e<ze:_e>ze;0<=ze?++_e:--_e)Be.push(N(ae,te));return Be},ne=function(ae,de,te,pe){var Z,oe,ie;for(null==pe&&(pe=I),Z=ae[te];te>de&&pe(Z,oe=ae[ie=te-1>>1])<0;)ae[te]=oe,te=ie;return ae[te]=Z},le=function(ae,de,te){var pe,Z,oe,ie,me;for(null==te&&(te=I),Z=ae.length,me=de,oe=ae[de],pe=2*de+1;pe<Z;)(ie=pe+1)<Z&&!(te(ae[pe],ae[ie])<0)&&(pe=ie),ae[de]=ae[pe],pe=2*(de=pe)+1;return ae[de]=oe,ne(ae,me,de,te)},O=function(){function ae(de){this.cmp=de??I,this.nodes=[]}return ae.push=A,ae.pop=N,ae.replace=L,ae.pushpop=V,ae.heapify=T,ae.updateItem=ue,ae.nlargest=$,ae.nsmallest=Q,ae.prototype.push=function(de){return A(this.nodes,de,this.cmp)},ae.prototype.pop=function(){return N(this.nodes,this.cmp)},ae.prototype.peek=function(){return this.nodes[0]},ae.prototype.contains=function(de){return-1!==this.nodes.indexOf(de)},ae.prototype.replace=function(de){return L(this.nodes,de,this.cmp)},ae.prototype.pushpop=function(de){return V(this.nodes,de,this.cmp)},ae.prototype.heapify=function(){return T(this.nodes,this.cmp)},ae.prototype.updateItem=function(de){return ue(this.nodes,de,this.cmp)},ae.prototype.clear=function(){return this.nodes=[]},ae.prototype.empty=function(){return 0===this.nodes.length},ae.prototype.size=function(){return this.nodes.length},ae.prototype.clone=function(){var de;return(de=new ae).nodes=this.nodes.slice(0),de},ae.prototype.toArray=function(){return this.nodes.slice(0)},ae.prototype.insert=ae.prototype.push,ae.prototype.top=ae.prototype.peek,ae.prototype.front=ae.prototype.peek,ae.prototype.has=ae.prototype.contains,ae.prototype.copy=ae.prototype.clone,ae}(),S=[],void 0===(P="function"==typeof(D=function(){return O})?D.apply(se,S):D)||(Y.exports=P)}).call(this)},4465:function(Y){Y.exports=function(se){var D={};function S(P){if(D[P])return D[P].exports;var O=D[P]={i:P,l:!1,exports:{}};return se[P].call(O.exports,O,O.exports,S),O.l=!0,O.exports}return S.m=se,S.c=D,S.i=function(P){return P},S.d=function(P,O,I){S.o(P,O)||Object.defineProperty(P,O,{configurable:!1,enumerable:!0,get:I})},S.n=function(P){var O=P&&P.__esModule?function(){return P.default}:function(){return P};return S.d(O,"a",O),O},S.o=function(P,O){return Object.prototype.hasOwnProperty.call(P,O)},S.p="",S(S.s=26)}([function(se,D,S){"use strict";function P(){}P.QUALITY=1,P.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,P.DEFAULT_INCREMENTAL=!1,P.DEFAULT_ANIMATION_ON_LAYOUT=!0,P.DEFAULT_ANIMATION_DURING_LAYOUT=!1,P.DEFAULT_ANIMATION_PERIOD=50,P.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,P.DEFAULT_GRAPH_MARGIN=15,P.NODE_DIMENSIONS_INCLUDE_LABELS=!1,P.SIMPLE_NODE_HALF_SIZE=(P.SIMPLE_NODE_SIZE=40)/2,P.EMPTY_COMPOUND_NODE_SIZE=40,P.MIN_EDGE_LENGTH=1,P.INITIAL_WORLD_BOUNDARY=(P.WORLD_BOUNDARY=1e6)/1e3,P.WORLD_CENTER_X=1200,P.WORLD_CENTER_Y=900,se.exports=P},function(se,D,S){"use strict";var P=S(2),O=S(8),I=S(9);function C(N,A,V){P.call(this,V),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=V,this.bendpoints=[],this.source=N,this.target=A}for(var T in C.prototype=Object.create(P.prototype),P)C[T]=P[T];C.prototype.getSource=function(){return this.source},C.prototype.getTarget=function(){return this.target},C.prototype.isInterGraph=function(){return this.isInterGraph},C.prototype.getLength=function(){return this.length},C.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},C.prototype.getBendpoints=function(){return this.bendpoints},C.prototype.getLca=function(){return this.lca},C.prototype.getSourceInLca=function(){return this.sourceInLca},C.prototype.getTargetInLca=function(){return this.targetInLca},C.prototype.getOtherEnd=function(N){if(this.source===N)return this.target;if(this.target===N)return this.source;throw"Node is not incident with this edge"},C.prototype.getOtherEndInGraph=function(N,A){for(var V=this.getOtherEnd(N),L=A.getGraphManager().getRoot();;){if(V.getOwner()==A)return V;if(V.getOwner()==L)break;V=V.getOwner().getParent()}return null},C.prototype.updateLength=function(){var N=new Array(4);this.isOverlapingSourceAndTarget=O.getIntersection(this.target.getRect(),this.source.getRect(),N),this.isOverlapingSourceAndTarget||(this.lengthX=N[0]-N[2],this.lengthY=N[1]-N[3],Math.abs(this.lengthX)<1&&(this.lengthX=I.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=I.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},C.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=I.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=I.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},se.exports=C},function(se,D,S){"use strict";se.exports=function P(O){this.vGraphObject=O}},function(se,D,S){"use strict";var P=S(2),O=S(10),I=S(13),C=S(0),T=S(16),N=S(4);function A(L,k,H,$){null==H&&null==$&&($=k),P.call(this,$),null!=L.graphManager&&(L=L.graphManager),this.estimatedSize=O.MIN_VALUE,this.inclusionTreeDepth=O.MAX_VALUE,this.vGraphObject=$,this.edges=[],this.graphManager=L,this.rect=null!=H&&null!=k?new I(k.x,k.y,H.width,H.height):new I}for(var V in A.prototype=Object.create(P.prototype),P)A[V]=P[V];A.prototype.getEdges=function(){return this.edges},A.prototype.getChild=function(){return this.child},A.prototype.getOwner=function(){return this.owner},A.prototype.getWidth=function(){return this.rect.width},A.prototype.setWidth=function(L){this.rect.width=L},A.prototype.getHeight=function(){return this.rect.height},A.prototype.setHeight=function(L){this.rect.height=L},A.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},A.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},A.prototype.getCenter=function(){return new N(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},A.prototype.getLocation=function(){return new N(this.rect.x,this.rect.y)},A.prototype.getRect=function(){return this.rect},A.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},A.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},A.prototype.setRect=function(L,k){this.rect.x=L.x,this.rect.y=L.y,this.rect.width=k.width,this.rect.height=k.height},A.prototype.setCenter=function(L,k){this.rect.x=L-this.rect.width/2,this.rect.y=k-this.rect.height/2},A.prototype.setLocation=function(L,k){this.rect.x=L,this.rect.y=k},A.prototype.moveBy=function(L,k){this.rect.x+=L,this.rect.y+=k},A.prototype.getEdgeListToNode=function(L){var k=[],$=this;return $.edges.forEach(function(Q){if(Q.target==L){if(Q.source!=$)throw"Incorrect edge source!";k.push(Q)}}),k},A.prototype.getEdgesBetween=function(L){var k=[],$=this;return $.edges.forEach(function(Q){if(Q.source!=$&&Q.target!=$)throw"Incorrect edge source and/or target";(Q.target==L||Q.source==L)&&k.push(Q)}),k},A.prototype.getNeighborsList=function(){var L=new Set,k=this;return k.edges.forEach(function(H){if(H.source==k)L.add(H.target);else{if(H.target!=k)throw"Incorrect incidency!";L.add(H.source)}}),L},A.prototype.withChildren=function(){var L=new Set;if(L.add(this),null!=this.child)for(var $=this.child.getNodes(),Q=0;Q<$.length;Q++)$[Q].withChildren().forEach(function(ue){L.add(ue)});return L},A.prototype.getNoOfChildren=function(){var L=0;if(null==this.child)L=1;else for(var H=this.child.getNodes(),$=0;$<H.length;$++)L+=H[$].getNoOfChildren();return 0==L&&(L=1),L},A.prototype.getEstimatedSize=function(){if(this.estimatedSize==O.MIN_VALUE)throw"assert failed";return this.estimatedSize},A.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},A.prototype.scatter=function(){var L,k,H=-C.INITIAL_WORLD_BOUNDARY,$=C.INITIAL_WORLD_BOUNDARY;L=C.WORLD_CENTER_X+T.nextDouble()*($-H)+H;var Q=-C.INITIAL_WORLD_BOUNDARY,ue=C.INITIAL_WORLD_BOUNDARY;k=C.WORLD_CENTER_Y+T.nextDouble()*(ue-Q)+Q,this.rect.x=L,this.rect.y=k},A.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var L=this.getChild();if(L.updateBounds(!0),this.rect.x=L.getLeft(),this.rect.y=L.getTop(),this.setWidth(L.getRight()-L.getLeft()),this.setHeight(L.getBottom()-L.getTop()),C.NODE_DIMENSIONS_INCLUDE_LABELS){var k=L.getRight()-L.getLeft(),H=L.getBottom()-L.getTop();this.labelWidth>k&&(this.rect.x-=(this.labelWidth-k)/2,this.setWidth(this.labelWidth)),this.labelHeight>H&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-H)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-H),this.setHeight(this.labelHeight))}}},A.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==O.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},A.prototype.transform=function(L){var k=this.rect.x;k>C.WORLD_BOUNDARY?k=C.WORLD_BOUNDARY:k<-C.WORLD_BOUNDARY&&(k=-C.WORLD_BOUNDARY);var H=this.rect.y;H>C.WORLD_BOUNDARY?H=C.WORLD_BOUNDARY:H<-C.WORLD_BOUNDARY&&(H=-C.WORLD_BOUNDARY);var $=new N(k,H),Q=L.inverseTransformPoint($);this.setLocation(Q.x,Q.y)},A.prototype.getLeft=function(){return this.rect.x},A.prototype.getRight=function(){return this.rect.x+this.rect.width},A.prototype.getTop=function(){return this.rect.y},A.prototype.getBottom=function(){return this.rect.y+this.rect.height},A.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},se.exports=A},function(se,D,S){"use strict";function P(O,I){null==O&&null==I?(this.x=0,this.y=0):(this.x=O,this.y=I)}P.prototype.getX=function(){return this.x},P.prototype.getY=function(){return this.y},P.prototype.setX=function(O){this.x=O},P.prototype.setY=function(O){this.y=O},P.prototype.getDifference=function(O){return new DimensionD(this.x-O.x,this.y-O.y)},P.prototype.getCopy=function(){return new P(this.x,this.y)},P.prototype.translate=function(O){return this.x+=O.width,this.y+=O.height,this},se.exports=P},function(se,D,S){"use strict";var P=S(2),O=S(10),I=S(0),C=S(6),T=S(3),N=S(1),A=S(13),V=S(12),L=S(11);function k($,Q,ue){P.call(this,ue),this.estimatedSize=O.MIN_VALUE,this.margin=I.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=$,null!=Q&&Q instanceof C?this.graphManager=Q:null!=Q&&Q instanceof Layout&&(this.graphManager=Q.graphManager)}for(var H in k.prototype=Object.create(P.prototype),P)k[H]=P[H];k.prototype.getNodes=function(){return this.nodes},k.prototype.getEdges=function(){return this.edges},k.prototype.getGraphManager=function(){return this.graphManager},k.prototype.getParent=function(){return this.parent},k.prototype.getLeft=function(){return this.left},k.prototype.getRight=function(){return this.right},k.prototype.getTop=function(){return this.top},k.prototype.getBottom=function(){return this.bottom},k.prototype.isConnected=function(){return this.isConnected},k.prototype.add=function($,Q,ue){if(null==Q&&null==ue){var ne=$;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(ne)>-1)throw"Node already in graph!";return ne.owner=this,this.getNodes().push(ne),ne}var le=$;if(!(this.getNodes().indexOf(Q)>-1&&this.getNodes().indexOf(ue)>-1))throw"Source or target not in graph!";if(Q.owner!=ue.owner||Q.owner!=this)throw"Both owners must be this graph!";return Q.owner!=ue.owner?null:(le.source=Q,le.target=ue,le.isInterGraph=!1,this.getEdges().push(le),Q.edges.push(le),ue!=Q&&ue.edges.push(le),le)},k.prototype.remove=function($){var Q=$;if($ instanceof T){if(null==Q)throw"Node is null!";if(null==Q.owner||Q.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var ue=Q.edges.slice(),le=ue.length,ae=0;ae<le;ae++)(ne=ue[ae]).isInterGraph?this.graphManager.remove(ne):ne.source.owner.remove(ne);if(-1==(de=this.nodes.indexOf(Q)))throw"Node not in owner node list!";this.nodes.splice(de,1)}else if($ instanceof N){var ne;if(null==(ne=$))throw"Edge is null!";if(null==ne.source||null==ne.target)throw"Source and/or target is null!";if(null==ne.source.owner||null==ne.target.owner||ne.source.owner!=this||ne.target.owner!=this)throw"Source and/or target owner is invalid!";var de,te=ne.source.edges.indexOf(ne),pe=ne.target.edges.indexOf(ne);if(!(te>-1&&pe>-1))throw"Source and/or target doesn't know this edge!";if(ne.source.edges.splice(te,1),ne.target!=ne.source&&ne.target.edges.splice(pe,1),-1==(de=ne.source.owner.getEdges().indexOf(ne)))throw"Not in owner's edge list!";ne.source.owner.getEdges().splice(de,1)}},k.prototype.updateLeftTop=function(){for(var ue,ne,le,$=O.MAX_VALUE,Q=O.MAX_VALUE,ae=this.getNodes(),de=ae.length,te=0;te<de;te++){var pe=ae[te];$>(ue=pe.getTop())&&($=ue),Q>(ne=pe.getLeft())&&(Q=ne)}return $==O.MAX_VALUE?null:(le=null!=ae[0].getParent().paddingLeft?ae[0].getParent().paddingLeft:this.margin,this.left=Q-le,this.top=$-le,new V(this.left,this.top))},k.prototype.updateBounds=function($){for(var ae,de,te,pe,Z,Q=O.MAX_VALUE,ue=-O.MAX_VALUE,ne=O.MAX_VALUE,le=-O.MAX_VALUE,oe=this.nodes,ie=oe.length,me=0;me<ie;me++){var _e=oe[me];$&&null!=_e.child&&_e.updateBounds(),Q>(ae=_e.getLeft())&&(Q=ae),ue<(de=_e.getRight())&&(ue=de),ne>(te=_e.getTop())&&(ne=te),le<(pe=_e.getBottom())&&(le=pe)}var Te=new A(Q,ne,ue-Q,le-ne);Q==O.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),Z=null!=oe[0].getParent().paddingLeft?oe[0].getParent().paddingLeft:this.margin,this.left=Te.x-Z,this.right=Te.x+Te.width+Z,this.top=Te.y-Z,this.bottom=Te.y+Te.height+Z},k.calculateBounds=function($){for(var ae,de,te,pe,Q=O.MAX_VALUE,ue=-O.MAX_VALUE,ne=O.MAX_VALUE,le=-O.MAX_VALUE,Z=$.length,oe=0;oe<Z;oe++){var ie=$[oe];Q>(ae=ie.getLeft())&&(Q=ae),ue<(de=ie.getRight())&&(ue=de),ne>(te=ie.getTop())&&(ne=te),le<(pe=ie.getBottom())&&(le=pe)}return new A(Q,ne,ue-Q,le-ne)},k.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},k.prototype.getEstimatedSize=function(){if(this.estimatedSize==O.MIN_VALUE)throw"assert failed";return this.estimatedSize},k.prototype.calcEstimatedSize=function(){for(var $=0,Q=this.nodes,ue=Q.length,ne=0;ne<ue;ne++)$+=Q[ne].calcEstimatedSize();return this.estimatedSize=0==$?I.EMPTY_COMPOUND_NODE_SIZE:$/Math.sqrt(this.nodes.length),this.estimatedSize},k.prototype.updateConnected=function(){var $=this;if(0!=this.nodes.length){var le,ae,Q=new L,ue=new Set,ne=this.nodes[0];for(ne.withChildren().forEach(function(me){Q.push(me),ue.add(me)});0!==Q.length;)for(var te=(le=(ne=Q.shift()).getEdges()).length,pe=0;pe<te;pe++)null==(ae=le[pe].getOtherEndInGraph(ne,this))||ue.has(ae)||ae.withChildren().forEach(function(me){Q.push(me),ue.add(me)});if(this.isConnected=!1,ue.size>=this.nodes.length){var ie=0;ue.forEach(function(me){me.owner==$&&ie++}),ie==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},se.exports=k},function(se,D,S){"use strict";var P,O=S(1);function I(C){P=S(5),this.layout=C,this.graphs=[],this.edges=[]}I.prototype.addRoot=function(){var C=this.layout.newGraph(),T=this.layout.newNode(null),N=this.add(C,T);return this.setRootGraph(N),this.rootGraph},I.prototype.add=function(C,T,N,A,V){if(null==N&&null==A&&null==V){if(null==C)throw"Graph is null!";if(null==T)throw"Parent node is null!";if(this.graphs.indexOf(C)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(C),null!=C.parent)throw"Already has a parent!";if(null!=T.child)throw"Already has a child!";return C.parent=T,T.child=C,C}V=N,N=C;var L=(A=T).getOwner(),k=V.getOwner();if(null==L||L.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==k||k.getGraphManager()!=this)throw"Target not in this graph mgr!";if(L==k)return N.isInterGraph=!1,L.add(N,A,V);if(N.isInterGraph=!0,N.source=A,N.target=V,this.edges.indexOf(N)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(N),null==N.source||null==N.target)throw"Edge source and/or target is null!";if(-1!=N.source.edges.indexOf(N)||-1!=N.target.edges.indexOf(N))throw"Edge already in source and/or target incidency list!";return N.source.edges.push(N),N.target.edges.push(N),N},I.prototype.remove=function(C){if(C instanceof P){var T=C;if(T.getGraphManager()!=this)throw"Graph not in this graph mgr";if(T!=this.rootGraph&&(null==T.parent||T.parent.graphManager!=this))throw"Invalid parent node!";for(var A,N=[],V=(N=N.concat(T.getEdges())).length,L=0;L<V;L++)T.remove(A=N[L]);var k=[];for(V=(k=k.concat(T.getNodes())).length,L=0;L<V;L++)T.remove(k[L]);T==this.rootGraph&&this.setRootGraph(null);var $=this.graphs.indexOf(T);this.graphs.splice($,1),T.parent=null}else if(C instanceof O){if(null==(A=C))throw"Edge is null!";if(!A.isInterGraph)throw"Not an inter-graph edge!";if(null==A.source||null==A.target)throw"Source and/or target is null!";if(-1==A.source.edges.indexOf(A)||-1==A.target.edges.indexOf(A))throw"Source and/or target doesn't know this edge!";if($=A.source.edges.indexOf(A),A.source.edges.splice($,1),$=A.target.edges.indexOf(A),A.target.edges.splice($,1),null==A.source.owner||null==A.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==A.source.owner.getGraphManager().edges.indexOf(A))throw"Not in owner graph manager's edge list!";$=A.source.owner.getGraphManager().edges.indexOf(A),A.source.owner.getGraphManager().edges.splice($,1)}},I.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},I.prototype.getGraphs=function(){return this.graphs},I.prototype.getAllNodes=function(){if(null==this.allNodes){for(var C=[],T=this.getGraphs(),N=T.length,A=0;A<N;A++)C=C.concat(T[A].getNodes());this.allNodes=C}return this.allNodes},I.prototype.resetAllNodes=function(){this.allNodes=null},I.prototype.resetAllEdges=function(){this.allEdges=null},I.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},I.prototype.getAllEdges=function(){if(null==this.allEdges){for(var C=[],T=this.getGraphs(),A=0;A<T.length;A++)C=C.concat(T[A].getEdges());C=C.concat(this.edges),this.allEdges=C}return this.allEdges},I.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},I.prototype.setAllNodesToApplyGravitation=function(C){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=C},I.prototype.getRoot=function(){return this.rootGraph},I.prototype.setRootGraph=function(C){if(C.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=C,null==C.parent&&(C.parent=this.layout.newNode("Root node"))},I.prototype.getLayout=function(){return this.layout},I.prototype.isOneAncestorOfOther=function(C,T){if(null==C||null==T)throw"assert failed";if(C==T)return!0;for(var A,N=C.getOwner();null!=(A=N.getParent());){if(A==T)return!0;if(null==(N=A.getOwner()))break}for(N=T.getOwner();null!=(A=N.getParent());){if(A==C)return!0;if(null==(N=A.getOwner()))break}return!1},I.prototype.calcLowestCommonAncestors=function(){for(var C,T,N,A,V,L=this.getAllEdges(),k=L.length,H=0;H<k;H++)if(T=(C=L[H]).source,N=C.target,C.lca=null,C.sourceInLca=T,C.targetInLca=N,T!=N){for(A=T.getOwner();null==C.lca;){for(C.targetInLca=N,V=N.getOwner();null==C.lca;){if(V==A){C.lca=V;break}if(V==this.rootGraph)break;if(null!=C.lca)throw"assert failed";C.targetInLca=V.getParent(),V=C.targetInLca.getOwner()}if(A==this.rootGraph)break;null==C.lca&&(C.sourceInLca=A.getParent(),A=C.sourceInLca.getOwner())}if(null==C.lca)throw"assert failed"}else C.lca=T.getOwner()},I.prototype.calcLowestCommonAncestor=function(C,T){if(C==T)return C.getOwner();for(var N=C.getOwner();null!=N;){for(var A=T.getOwner();null!=A;){if(A==N)return A;A=A.getParent().getOwner()}N=N.getParent().getOwner()}return N},I.prototype.calcInclusionTreeDepths=function(C,T){null==C&&null==T&&(C=this.rootGraph,T=1);for(var N,A=C.getNodes(),V=A.length,L=0;L<V;L++)(N=A[L]).inclusionTreeDepth=T,null!=N.child&&this.calcInclusionTreeDepths(N.child,T+1)},I.prototype.includesInvalidEdge=function(){for(var C,T=this.edges.length,N=0;N<T;N++)if(this.isOneAncestorOfOther((C=this.edges[N]).source,C.target))return!0;return!1},se.exports=I},function(se,D,S){"use strict";var P=S(0);function O(){}for(var I in P)O[I]=P[I];O.MAX_ITERATIONS=2500,O.DEFAULT_EDGE_LENGTH=50,O.DEFAULT_SPRING_STRENGTH=.45,O.DEFAULT_REPULSION_STRENGTH=4500,O.DEFAULT_GRAVITY_STRENGTH=.4,O.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,O.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,O.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,O.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,O.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,O.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,O.COOLING_ADAPTATION_FACTOR=.33,O.ADAPTATION_LOWER_NODE_LIMIT=1e3,O.ADAPTATION_UPPER_NODE_LIMIT=5e3,O.MAX_NODE_DISPLACEMENT=3*(O.MAX_NODE_DISPLACEMENT_INCREMENTAL=100),O.MIN_REPULSION_DIST=O.DEFAULT_EDGE_LENGTH/10,O.CONVERGENCE_CHECK_PERIOD=100,O.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,O.MIN_EDGE_LENGTH=1,O.GRID_CALCULATION_CHECK_PERIOD=10,se.exports=O},function(se,D,S){"use strict";var P=S(12);function O(){}O.calcSeparationAmount=function(I,C,T,N){if(!I.intersects(C))throw"assert failed";var A=new Array(2);this.decideDirectionsForOverlappingNodes(I,C,A),T[0]=Math.min(I.getRight(),C.getRight())-Math.max(I.x,C.x),T[1]=Math.min(I.getBottom(),C.getBottom())-Math.max(I.y,C.y),I.getX()<=C.getX()&&I.getRight()>=C.getRight()?T[0]+=Math.min(C.getX()-I.getX(),I.getRight()-C.getRight()):C.getX()<=I.getX()&&C.getRight()>=I.getRight()&&(T[0]+=Math.min(I.getX()-C.getX(),C.getRight()-I.getRight())),I.getY()<=C.getY()&&I.getBottom()>=C.getBottom()?T[1]+=Math.min(C.getY()-I.getY(),I.getBottom()-C.getBottom()):C.getY()<=I.getY()&&C.getBottom()>=I.getBottom()&&(T[1]+=Math.min(I.getY()-C.getY(),C.getBottom()-I.getBottom()));var V=Math.abs((C.getCenterY()-I.getCenterY())/(C.getCenterX()-I.getCenterX()));C.getCenterY()===I.getCenterY()&&C.getCenterX()===I.getCenterX()&&(V=1);var L=V*T[0],k=T[1]/V;T[0]<k?k=T[0]:L=T[1],T[0]=-1*A[0]*(k/2+N),T[1]=-1*A[1]*(L/2+N)},O.decideDirectionsForOverlappingNodes=function(I,C,T){T[0]=I.getCenterX()<C.getCenterX()?-1:1,T[1]=I.getCenterY()<C.getCenterY()?-1:1},O.getIntersection2=function(I,C,T){var N=I.getCenterX(),A=I.getCenterY(),V=C.getCenterX(),L=C.getCenterY();if(I.intersects(C))return T[0]=N,T[1]=A,T[2]=V,T[3]=L,!0;var k=I.getX(),H=I.getY(),$=I.getRight(),Q=I.getX(),ue=I.getBottom(),ne=I.getRight(),le=I.getWidthHalf(),ae=I.getHeightHalf(),de=C.getX(),te=C.getY(),pe=C.getRight(),Z=C.getX(),oe=C.getBottom(),ie=C.getRight(),me=C.getWidthHalf(),_e=C.getHeightHalf(),Te=!1,De=!1;if(N===V){if(A>L)return T[0]=N,T[1]=H,T[2]=V,T[3]=oe,!1;if(A<L)return T[0]=N,T[1]=ue,T[2]=V,T[3]=te,!1}else if(A===L){if(N>V)return T[0]=k,T[1]=A,T[2]=pe,T[3]=L,!1;if(N<V)return T[0]=$,T[1]=A,T[2]=de,T[3]=L,!1}else{var ze=I.height/I.width,Be=C.height/C.width,at=(L-A)/(V-N),ft=void 0,Ye=void 0,Xe=void 0,Ht=void 0;if(-ze===at?N>V?(T[0]=Q,T[1]=ue,Te=!0):(T[0]=$,T[1]=H,Te=!0):ze===at&&(N>V?(T[0]=k,T[1]=H,Te=!0):(T[0]=ne,T[1]=ue,Te=!0)),-Be===at?V>N?(T[2]=Z,T[3]=oe,De=!0):(T[2]=pe,T[3]=te,De=!0):Be===at&&(V>N?(T[2]=de,T[3]=te,De=!0):(T[2]=ie,T[3]=oe,De=!0)),Te&&De)return!1;if(N>V?A>L?(ft=this.getCardinalDirection(ze,at,4),Ye=this.getCardinalDirection(Be,at,2)):(ft=this.getCardinalDirection(-ze,at,3),Ye=this.getCardinalDirection(-Be,at,1)):A>L?(ft=this.getCardinalDirection(-ze,at,1),Ye=this.getCardinalDirection(-Be,at,3)):(ft=this.getCardinalDirection(ze,at,2),Ye=this.getCardinalDirection(Be,at,4)),!Te)switch(ft){case 1:Xe=H,T[0]=N+-ae/at,T[1]=Xe;break;case 2:Xe=A+le*at,T[0]=ne,T[1]=Xe;break;case 3:Xe=ue,T[0]=N+ae/at,T[1]=Xe;break;case 4:Xe=A+-le*at,T[0]=Q,T[1]=Xe}if(!De)switch(Ye){case 1:Ht=te,T[2]=V+-_e/at,T[3]=Ht;break;case 2:Ht=L+me*at,T[2]=ie,T[3]=Ht;break;case 3:Ht=oe,T[2]=V+_e/at,T[3]=Ht;break;case 4:Ht=L+-me*at,T[2]=Z,T[3]=Ht}}return!1},O.getCardinalDirection=function(I,C,T){return I>C?T:1+T%4},O.getIntersection=function(I,C,T,N){if(null==N)return this.getIntersection2(I,C,T);var ae,de,te,pe,Z,oe,ie,A=I.x,V=I.y,L=C.x,k=C.y,H=T.x,$=T.y,Q=N.x,ue=N.y;return Z=L*V-A*k,oe=Q*$-H*ue,0==(ie=(ae=k-V)*(pe=H-Q)-(de=ue-$)*(te=A-L))?null:new P((te*oe-pe*Z)/ie,(de*Z-ae*oe)/ie)},O.angleOfVector=function(I,C,T,N){var A=void 0;return I!==T?(A=Math.atan((N-C)/(T-I)),T<I?A+=Math.PI:N<C&&(A+=this.TWO_PI)):A=N<C?this.ONE_AND_HALF_PI:this.HALF_PI,A},O.doIntersect=function(I,C,T,N){var A=I.x,V=I.y,L=C.x,k=C.y,H=T.x,$=T.y,Q=N.x,ue=N.y,ne=(L-A)*(ue-$)-(Q-H)*(k-V);if(0===ne)return!1;var le=((ue-$)*(Q-A)+(H-Q)*(ue-V))/ne,ae=((V-k)*(Q-A)+(L-A)*(ue-V))/ne;return 0<le&&le<1&&0<ae&&ae<1},O.HALF_PI=.5*Math.PI,O.ONE_AND_HALF_PI=1.5*Math.PI,O.TWO_PI=2*Math.PI,O.THREE_PI=3*Math.PI,se.exports=O},function(se,D,S){"use strict";function P(){}P.sign=function(O){return O>0?1:O<0?-1:0},P.floor=function(O){return O<0?Math.ceil(O):Math.floor(O)},P.ceil=function(O){return O<0?Math.floor(O):Math.ceil(O)},se.exports=P},function(se,D,S){"use strict";function P(){}P.MAX_VALUE=2147483647,P.MIN_VALUE=-2147483648,se.exports=P},function(se,D,S){"use strict";var P=function(){function A(V,L){for(var k=0;k<L.length;k++){var H=L[k];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(V,H.key,H)}}return function(V,L,k){return L&&A(V.prototype,L),k&&A(V,k),V}}();var I=function(V){return{value:V,next:null,prev:null}},C=function(V,L,k,H){return null!==V?V.next=L:H.head=L,null!==k?k.prev=L:H.tail=L,L.prev=V,L.next=k,H.length++,L},T=function(V,L){var k=V.prev,H=V.next;return null!==k?k.next=H:L.head=H,null!==H?H.prev=k:L.tail=k,V.prev=V.next=null,L.length--,V},N=function(){function A(V){var L=this;(function O(A,V){if(!(A instanceof V))throw new TypeError("Cannot call a class as a function")})(this,A),this.length=0,this.head=null,this.tail=null,V?.forEach(function(k){return L.push(k)})}return P(A,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(L,k){return C(k.prev,I(L),k,this)}},{key:"insertAfter",value:function(L,k){return C(k,I(L),k.next,this)}},{key:"insertNodeBefore",value:function(L,k){return C(k.prev,L,k,this)}},{key:"insertNodeAfter",value:function(L,k){return C(k,L,k.next,this)}},{key:"push",value:function(L){return C(this.tail,I(L),null,this)}},{key:"unshift",value:function(L){return C(null,I(L),this.head,this)}},{key:"remove",value:function(L){return T(L,this)}},{key:"pop",value:function(){return T(this.tail,this).value}},{key:"popNode",value:function(){return T(this.tail,this)}},{key:"shift",value:function(){return T(this.head,this).value}},{key:"shiftNode",value:function(){return T(this.head,this)}},{key:"get_object_at",value:function(L){if(L<=this.length()){for(var k=1,H=this.head;k<L;)H=H.next,k++;return H.value}}},{key:"set_object_at",value:function(L,k){if(L<=this.length()){for(var H=1,$=this.head;H<L;)$=$.next,H++;$.value=k}}}]),A}();se.exports=N},function(se,D,S){"use strict";function P(O,I,C){this.x=null,this.y=null,null==O&&null==I&&null==C?(this.x=0,this.y=0):"number"==typeof O&&"number"==typeof I&&null==C?(this.x=O,this.y=I):"Point"==O.constructor.name&&null==I&&null==C&&(this.x=(C=O).x,this.y=C.y)}P.prototype.getX=function(){return this.x},P.prototype.getY=function(){return this.y},P.prototype.getLocation=function(){return new P(this.x,this.y)},P.prototype.setLocation=function(O,I,C){"Point"==O.constructor.name&&null==I&&null==C?this.setLocation((C=O).x,C.y):"number"==typeof O&&"number"==typeof I&&null==C&&(parseInt(O)==O&&parseInt(I)==I?this.move(O,I):(this.x=Math.floor(O+.5),this.y=Math.floor(I+.5)))},P.prototype.move=function(O,I){this.x=O,this.y=I},P.prototype.translate=function(O,I){this.x+=O,this.y+=I},P.prototype.equals=function(O){return"Point"==O.constructor.name?this.x==O.x&&this.y==O.y:this==O},P.prototype.toString=function(){return(new P).constructor.name+"[x="+this.x+",y="+this.y+"]"},se.exports=P},function(se,D,S){"use strict";function P(O,I,C,T){this.x=0,this.y=0,this.width=0,this.height=0,null!=O&&null!=I&&null!=C&&null!=T&&(this.x=O,this.y=I,this.width=C,this.height=T)}P.prototype.getX=function(){return this.x},P.prototype.setX=function(O){this.x=O},P.prototype.getY=function(){return this.y},P.prototype.setY=function(O){this.y=O},P.prototype.getWidth=function(){return this.width},P.prototype.setWidth=function(O){this.width=O},P.prototype.getHeight=function(){return this.height},P.prototype.setHeight=function(O){this.height=O},P.prototype.getRight=function(){return this.x+this.width},P.prototype.getBottom=function(){return this.y+this.height},P.prototype.intersects=function(O){return!(this.getRight()<O.x||this.getBottom()<O.y||O.getRight()<this.x||O.getBottom()<this.y)},P.prototype.getCenterX=function(){return this.x+this.width/2},P.prototype.getMinX=function(){return this.getX()},P.prototype.getMaxX=function(){return this.getX()+this.width},P.prototype.getCenterY=function(){return this.y+this.height/2},P.prototype.getMinY=function(){return this.getY()},P.prototype.getMaxY=function(){return this.getY()+this.height},P.prototype.getWidthHalf=function(){return this.width/2},P.prototype.getHeightHalf=function(){return this.height/2},se.exports=P},function(se,D,S){"use strict";var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};function O(){}O.lastID=0,O.createID=function(I){return O.isPrimitive(I)?I:(null!=I.uniqueID||(I.uniqueID=O.getString(),O.lastID++),I.uniqueID)},O.getString=function(I){return null==I&&(I=O.lastID),"Object#"+I},O.isPrimitive=function(I){var C=typeof I>"u"?"undefined":P(I);return null==I||"object"!=C&&"function"!=C},se.exports=O},function(se,D,S){"use strict";function P(H){if(Array.isArray(H)){for(var $=0,Q=Array(H.length);$<H.length;$++)Q[$]=H[$];return Q}return Array.from(H)}var O=S(0),I=S(6),C=S(3),T=S(1),N=S(5),A=S(4),V=S(17),L=S(27);function k(H){L.call(this),this.layoutQuality=O.QUALITY,this.createBendsAsNeeded=O.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=O.DEFAULT_INCREMENTAL,this.animationOnLayout=O.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=O.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=O.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=O.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new I(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=H&&(this.isRemoteUse=H)}k.RANDOM_SEED=1,(k.prototype=Object.create(L.prototype)).getGraphManager=function(){return this.graphManager},k.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},k.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},k.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},k.prototype.newGraphManager=function(){var H=new I(this);return this.graphManager=H,H},k.prototype.newGraph=function(H){return new N(null,this.graphManager,H)},k.prototype.newNode=function(H){return new C(this.graphManager,H)},k.prototype.newEdge=function(H){return new T(null,null,H)},k.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},k.prototype.runLayout=function(){var H;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),H=!this.checkLayoutSuccess()&&this.layout(),"during"!==O.ANIMATE&&(H&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,H)},k.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},k.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var $=this.graphManager.getAllEdges(),Q=0;Q<$.length;Q++);var ne=this.graphManager.getRoot().getNodes();for(Q=0;Q<ne.length;Q++);this.update(this.graphManager.getRoot())}},k.prototype.update=function(H){if(null==H)this.update2();else if(H instanceof C){var $=H;if(null!=$.getChild())for(var Q=$.getChild().getNodes(),ue=0;ue<Q.length;ue++)update(Q[ue]);null!=$.vGraphObject&&$.vGraphObject.update($)}else H instanceof T?null!=H.vGraphObject&&H.vGraphObject.update(H):H instanceof N&&null!=H.vGraphObject&&H.vGraphObject.update(H)},k.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=O.QUALITY,this.animationDuringLayout=O.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=O.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=O.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=O.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=O.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=O.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},k.prototype.transform=function(H){if(null==H)this.transform(new A(0,0));else{var $=new V,Q=this.graphManager.getRoot().updateLeftTop();if(null!=Q){$.setWorldOrgX(H.x),$.setWorldOrgY(H.y),$.setDeviceOrgX(Q.x),$.setDeviceOrgY(Q.y);for(var ue=this.getAllNodes(),le=0;le<ue.length;le++)ue[le].transform($)}}},k.prototype.positionNodesRandomly=function(H){if(null==H)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var $,Q,ue=H.getNodes(),ne=0;ne<ue.length;ne++)null==(Q=($=ue[ne]).getChild())||0==Q.getNodes().length?$.scatter():(this.positionNodesRandomly(Q),$.updateBounds())},k.prototype.getFlatForest=function(){for(var H=[],$=!0,Q=this.graphManager.getRoot().getNodes(),ue=!0,ne=0;ne<Q.length;ne++)null!=Q[ne].getChild()&&(ue=!1);if(!ue)return H;var le=new Set,ae=[],de=new Map,te=[];for(te=te.concat(Q);te.length>0&&$;){for(ae.push(te[0]);ae.length>0&&$;){var pe=ae[0];ae.splice(0,1),le.add(pe);var Z=pe.getEdges();for(ne=0;ne<Z.length;ne++){var oe=Z[ne].getOtherEnd(pe);if(de.get(pe)!=oe){if(le.has(oe)){$=!1;break}ae.push(oe),de.set(oe,pe)}}}if($){var ie=[].concat(P(le));for(H.push(ie),ne=0;ne<ie.length;ne++){var _e=te.indexOf(ie[ne]);_e>-1&&te.splice(_e,1)}le=new Set,de=new Map}else H=[]}return H},k.prototype.createDummyNodesForBendpoints=function(H){for(var $=[],Q=H.source,ue=this.graphManager.calcLowestCommonAncestor(H.source,H.target),ne=0;ne<H.bendpoints.length;ne++){var le=this.newNode(null);le.setRect(new Point(0,0),new Dimension(1,1)),ue.add(le);var ae=this.newEdge(null);this.graphManager.add(ae,Q,le),$.add(le),Q=le}return ae=this.newEdge(null),this.graphManager.add(ae,Q,H.target),this.edgeToDummyNodes.set(H,$),H.isInterGraph()?this.graphManager.remove(H):ue.remove(H),$},k.prototype.createBendpointsFromDummyNodes=function(){var H=[];H=H.concat(this.graphManager.getAllEdges()),H=[].concat(P(this.edgeToDummyNodes.keys())).concat(H);for(var $=0;$<H.length;$++){var Q=H[$];if(Q.bendpoints.length>0){for(var ue=this.edgeToDummyNodes.get(Q),ne=0;ne<ue.length;ne++){var le=ue[ne],ae=new A(le.getCenterX(),le.getCenterY()),de=Q.bendpoints.get(ne);de.x=ae.x,de.y=ae.y,le.getOwner().remove(le)}this.graphManager.add(Q,Q.source,Q.target)}}},k.transform=function(H,$,Q,ue){if(null!=Q&&null!=ue){var ne=$;return H<=50?ne-=($-$/Q)/50*(50-H):ne+=($*ue-$)/50*(H-50),ne}var de,te;return H<=50?(de=9*$/500,te=$/10):(de=9*$/50,te=-8*$),de*H+te},k.findCenterOfTree=function(H){var $=[];$=$.concat(H);var Q=[],ue=new Map,ne=!1,le=null;(1==$.length||2==$.length)&&(ne=!0,le=$[0]);for(var ae=0;ae<$.length;ae++){var te=(de=$[ae]).getNeighborsList().size;ue.set(de,de.getNeighborsList().size),1==te&&Q.push(de)}var pe=[];for(pe=pe.concat(Q);!ne;){var Z=[];for(Z=Z.concat(pe),pe=[],ae=0;ae<$.length;ae++){var de,oe=$.indexOf(de=$[ae]);oe>=0&&$.splice(oe,1),de.getNeighborsList().forEach(function(Te){if(Q.indexOf(Te)<0){var ze=ue.get(Te)-1;1==ze&&pe.push(Te),ue.set(Te,ze)}})}Q=Q.concat(pe),(1==$.length||2==$.length)&&(ne=!0,le=$[0])}return le},k.prototype.setGraphManager=function(H){this.graphManager=H},se.exports=k},function(se,D,S){"use strict";function P(){}P.seed=1,P.x=0,P.nextDouble=function(){return(P.x=1e4*Math.sin(P.seed++))-Math.floor(P.x)},se.exports=P},function(se,D,S){"use strict";var P=S(4);function O(I,C){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}O.prototype.getWorldOrgX=function(){return this.lworldOrgX},O.prototype.setWorldOrgX=function(I){this.lworldOrgX=I},O.prototype.getWorldOrgY=function(){return this.lworldOrgY},O.prototype.setWorldOrgY=function(I){this.lworldOrgY=I},O.prototype.getWorldExtX=function(){return this.lworldExtX},O.prototype.setWorldExtX=function(I){this.lworldExtX=I},O.prototype.getWorldExtY=function(){return this.lworldExtY},O.prototype.setWorldExtY=function(I){this.lworldExtY=I},O.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},O.prototype.setDeviceOrgX=function(I){this.ldeviceOrgX=I},O.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},O.prototype.setDeviceOrgY=function(I){this.ldeviceOrgY=I},O.prototype.getDeviceExtX=function(){return this.ldeviceExtX},O.prototype.setDeviceExtX=function(I){this.ldeviceExtX=I},O.prototype.getDeviceExtY=function(){return this.ldeviceExtY},O.prototype.setDeviceExtY=function(I){this.ldeviceExtY=I},O.prototype.transformX=function(I){var C=0,T=this.lworldExtX;return 0!=T&&(C=this.ldeviceOrgX+(I-this.lworldOrgX)*this.ldeviceExtX/T),C},O.prototype.transformY=function(I){var C=0,T=this.lworldExtY;return 0!=T&&(C=this.ldeviceOrgY+(I-this.lworldOrgY)*this.ldeviceExtY/T),C},O.prototype.inverseTransformX=function(I){var C=0,T=this.ldeviceExtX;return 0!=T&&(C=this.lworldOrgX+(I-this.ldeviceOrgX)*this.lworldExtX/T),C},O.prototype.inverseTransformY=function(I){var C=0,T=this.ldeviceExtY;return 0!=T&&(C=this.lworldOrgY+(I-this.ldeviceOrgY)*this.lworldExtY/T),C},O.prototype.inverseTransformPoint=function(I){return new P(this.inverseTransformX(I.x),this.inverseTransformY(I.y))},se.exports=O},function(se,D,S){"use strict";var O=S(15),I=S(7),C=S(0),T=S(8),N=S(9);function A(){O.call(this),this.useSmartIdealEdgeLengthCalculation=I.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=I.DEFAULT_EDGE_LENGTH,this.springConstant=I.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=I.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=I.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=I.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=I.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=I.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*I.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=I.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=I.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=I.MAX_ITERATIONS}for(var V in A.prototype=Object.create(O.prototype),O)A[V]=O[V];A.prototype.initParameters=function(){O.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=I.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},A.prototype.calcIdealEdgeLengths=function(){for(var L,k,H,$,Q,ue,ne=this.getGraphManager().getAllEdges(),le=0;le<ne.length;le++)(L=ne[le]).idealLength=this.idealEdgeLength,L.isInterGraph&&(H=L.getSource(),$=L.getTarget(),Q=L.getSourceInLca().getEstimatedSize(),ue=L.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(L.idealLength+=Q+ue-2*C.SIMPLE_NODE_SIZE),k=L.getLca().getInclusionTreeDepth(),L.idealLength+=I.DEFAULT_EDGE_LENGTH*I.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(H.getInclusionTreeDepth()+$.getInclusionTreeDepth()-2*k))},A.prototype.initSpringEmbedder=function(){var L=this.getAllNodes().length;this.incremental?(L>I.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*I.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(L-I.ADAPTATION_LOWER_NODE_LIMIT)/(I.ADAPTATION_UPPER_NODE_LIMIT-I.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-I.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=I.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.coolingFactor=L>I.ADAPTATION_LOWER_NODE_LIMIT?Math.max(I.COOLING_ADAPTATION_FACTOR,1-(L-I.ADAPTATION_LOWER_NODE_LIMIT)/(I.ADAPTATION_UPPER_NODE_LIMIT-I.ADAPTATION_LOWER_NODE_LIMIT)*(1-I.COOLING_ADAPTATION_FACTOR)):1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=I.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},A.prototype.calcSpringForces=function(){for(var k,L=this.getAllEdges(),H=0;H<L.length;H++)this.calcSpringForce(k=L[H],k.idealLength)},A.prototype.calcRepulsionForces=function(){var H,$,Q,ue,le,L=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],k=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ne=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%I.GRID_CALCULATION_CHECK_PERIOD==1&&L&&this.updateGrid(),le=new Set,H=0;H<ne.length;H++)this.calculateRepulsionForceOfANode(Q=ne[H],le,L,k),le.add(Q);else for(H=0;H<ne.length;H++)for(Q=ne[H],$=H+1;$<ne.length;$++)ue=ne[$],Q.getOwner()==ue.getOwner()&&this.calcRepulsionForce(Q,ue)},A.prototype.calcGravitationalForces=function(){for(var k=this.getAllNodesToApplyGravitation(),H=0;H<k.length;H++)this.calcGravitationalForce(k[H])},A.prototype.moveNodes=function(){for(var L=this.getAllNodes(),H=0;H<L.length;H++)L[H].move()},A.prototype.calcSpringForce=function(L,k){var Q,ue,ne,le,H=L.getSource(),$=L.getTarget();if(this.uniformLeafNodeSizes&&null==H.getChild()&&null==$.getChild())L.updateLengthSimple();else if(L.updateLength(),L.isOverlapingSourceAndTarget)return;0!=(Q=L.getLength())&&(le=(ue=this.springConstant*(Q-k))*(L.lengthY/Q),H.springForceX+=ne=ue*(L.lengthX/Q),H.springForceY+=le,$.springForceX-=ne,$.springForceY-=le)},A.prototype.calcRepulsionForce=function(L,k){var ne,le,ae,de,te,pe,Z,H=L.getRect(),$=k.getRect(),Q=new Array(2),ue=new Array(4);if(H.intersects($)){T.calcSeparationAmount(H,$,Q,I.DEFAULT_EDGE_LENGTH/2),Z=2*Q[1];var oe=L.noOfChildren*k.noOfChildren/(L.noOfChildren+k.noOfChildren);L.repulsionForceX-=oe*(pe=2*Q[0]),L.repulsionForceY-=oe*Z,k.repulsionForceX+=oe*pe,k.repulsionForceY+=oe*Z}else this.uniformLeafNodeSizes&&null==L.getChild()&&null==k.getChild()?(ne=$.getCenterX()-H.getCenterX(),le=$.getCenterY()-H.getCenterY()):(T.getIntersection(H,$,ue),ne=ue[2]-ue[0],le=ue[3]-ue[1]),Math.abs(ne)<I.MIN_REPULSION_DIST&&(ne=N.sign(ne)*I.MIN_REPULSION_DIST),Math.abs(le)<I.MIN_REPULSION_DIST&&(le=N.sign(le)*I.MIN_REPULSION_DIST),ae=ne*ne+le*le,de=Math.sqrt(ae),Z=(te=this.repulsionConstant*L.noOfChildren*k.noOfChildren/ae)*le/de,L.repulsionForceX-=pe=te*ne/de,L.repulsionForceY-=Z,k.repulsionForceX+=pe,k.repulsionForceY+=Z},A.prototype.calcGravitationalForce=function(L){var k,H,$,Q,ue,ne,le,ae;H=((k=L.getOwner()).getRight()+k.getLeft())/2,$=(k.getTop()+k.getBottom())/2,Q=L.getCenterX()-H,ue=L.getCenterY()-$,ne=Math.abs(Q)+L.getWidth()/2,le=Math.abs(ue)+L.getHeight()/2,L.getOwner()==this.graphManager.getRoot()?(ne>(ae=k.getEstimatedSize()*this.gravityRangeFactor)||le>ae)&&(L.gravitationForceX=-this.gravityConstant*Q,L.gravitationForceY=-this.gravityConstant*ue):(ne>(ae=k.getEstimatedSize()*this.compoundGravityRangeFactor)||le>ae)&&(L.gravitationForceX=-this.gravityConstant*Q*this.compoundGravityConstant,L.gravitationForceY=-this.gravityConstant*ue*this.compoundGravityConstant)},A.prototype.isConverged=function(){var L,k=!1;return this.totalIterations>this.maxIterations/3&&(k=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),L=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,L||k},A.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},A.prototype.calcNoOfChildrenForAllNodes=function(){for(var L,k=this.graphManager.getAllNodes(),H=0;H<k.length;H++)(L=k[H]).noOfChildren=L.getNoOfChildren()},A.prototype.calcGrid=function(L){var k,H;k=parseInt(Math.ceil((L.getRight()-L.getLeft())/this.repulsionRange)),H=parseInt(Math.ceil((L.getBottom()-L.getTop())/this.repulsionRange));for(var $=new Array(k),Q=0;Q<k;Q++)$[Q]=new Array(H);for(Q=0;Q<k;Q++)for(var ue=0;ue<H;ue++)$[Q][ue]=new Array;return $},A.prototype.addNodeToGrid=function(L,k,H){var $,Q,ue,ne;$=parseInt(Math.floor((L.getRect().x-k)/this.repulsionRange)),Q=parseInt(Math.floor((L.getRect().width+L.getRect().x-k)/this.repulsionRange)),ue=parseInt(Math.floor((L.getRect().y-H)/this.repulsionRange)),ne=parseInt(Math.floor((L.getRect().height+L.getRect().y-H)/this.repulsionRange));for(var le=$;le<=Q;le++)for(var ae=ue;ae<=ne;ae++)this.grid[le][ae].push(L),L.setGridCoordinates($,Q,ue,ne)},A.prototype.updateGrid=function(){var L,H=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),L=0;L<H.length;L++)this.addNodeToGrid(H[L],this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},A.prototype.calculateRepulsionForceOfANode=function(L,k,H,$){if(this.totalIterations%I.GRID_CALCULATION_CHECK_PERIOD==1&&H||$){var Q=new Set;L.surrounding=new Array;for(var ue,ne=this.grid,le=L.startX-1;le<L.finishX+2;le++)for(var ae=L.startY-1;ae<L.finishY+2;ae++)if(!(le<0||ae<0||le>=ne.length||ae>=ne[0].length))for(var de=0;de<ne[le][ae].length;de++)if(ue=ne[le][ae][de],L.getOwner()==ue.getOwner()&&L!=ue&&!k.has(ue)&&!Q.has(ue)){var te=Math.abs(L.getCenterX()-ue.getCenterX())-(L.getWidth()/2+ue.getWidth()/2),pe=Math.abs(L.getCenterY()-ue.getCenterY())-(L.getHeight()/2+ue.getHeight()/2);te<=this.repulsionRange&&pe<=this.repulsionRange&&Q.add(ue)}L.surrounding=[].concat(function P(L){if(Array.isArray(L)){for(var k=0,H=Array(L.length);k<L.length;k++)H[k]=L[k];return H}return Array.from(L)}(Q))}for(le=0;le<L.surrounding.length;le++)this.calcRepulsionForce(L,L.surrounding[le])},A.prototype.calcRepulsionRange=function(){return 0},se.exports=A},function(se,D,S){"use strict";var P=S(1),O=S(7);function I(T,N,A){P.call(this,T,N,A),this.idealLength=O.DEFAULT_EDGE_LENGTH}for(var C in I.prototype=Object.create(P.prototype),P)I[C]=P[C];se.exports=I},function(se,D,S){"use strict";var P=S(3);function O(C,T,N,A){P.call(this,C,T,N,A),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var I in O.prototype=Object.create(P.prototype),P)O[I]=P[I];O.prototype.setGridCoordinates=function(C,T,N,A){this.startX=C,this.finishX=T,this.startY=N,this.finishY=A},se.exports=O},function(se,D,S){"use strict";function P(O,I){this.width=0,this.height=0,null!==O&&null!==I&&(this.height=I,this.width=O)}P.prototype.getWidth=function(){return this.width},P.prototype.setWidth=function(O){this.width=O},P.prototype.getHeight=function(){return this.height},P.prototype.setHeight=function(O){this.height=O},se.exports=P},function(se,D,S){"use strict";var P=S(14);function O(){this.map={},this.keys=[]}O.prototype.put=function(I,C){var T=P.createID(I);this.contains(T)||(this.map[T]=C,this.keys.push(I))},O.prototype.contains=function(I){return P.createID(I),null!=this.map[I]},O.prototype.get=function(I){var C=P.createID(I);return this.map[C]},O.prototype.keySet=function(){return this.keys},se.exports=O},function(se,D,S){"use strict";var P=S(14);function O(){this.set={}}O.prototype.add=function(I){var C=P.createID(I);this.contains(C)||(this.set[C]=I)},O.prototype.remove=function(I){delete this.set[P.createID(I)]},O.prototype.clear=function(){this.set={}},O.prototype.contains=function(I){return this.set[P.createID(I)]==I},O.prototype.isEmpty=function(){return 0===this.size()},O.prototype.size=function(){return Object.keys(this.set).length},O.prototype.addAllTo=function(I){for(var C=Object.keys(this.set),T=C.length,N=0;N<T;N++)I.push(this.set[C[N]])},O.prototype.size=function(){return Object.keys(this.set).length},O.prototype.addAll=function(I){for(var C=I.length,T=0;T<C;T++)this.add(I[T])},se.exports=O},function(se,D,S){"use strict";var P=function(){function T(N,A){for(var V=0;V<A.length;V++){var L=A[V];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(N,L.key,L)}}return function(N,A,V){return A&&T(N.prototype,A),V&&T(N,V),N}}();var I=S(11),C=function(){function T(N,A){(function O(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")})(this,T),(null!==A||void 0!==A)&&(this.compareFunction=this._defaultCompareFunction);var V;V=N instanceof I?N.size():N.length,this._quicksort(N,0,V-1)}return P(T,[{key:"_quicksort",value:function(A,V,L){if(V<L){var k=this._partition(A,V,L);this._quicksort(A,V,k),this._quicksort(A,k+1,L)}}},{key:"_partition",value:function(A,V,L){for(var k=this._get(A,V),H=V,$=L;;){for(;this.compareFunction(k,this._get(A,$));)$--;for(;this.compareFunction(this._get(A,H),k);)H++;if(!(H<$))return $;this._swap(A,H,$),H++,$--}}},{key:"_get",value:function(A,V){return A instanceof I?A.get_object_at(V):A[V]}},{key:"_set",value:function(A,V,L){A instanceof I?A.set_object_at(V,L):A[V]=L}},{key:"_swap",value:function(A,V,L){var k=this._get(A,V);this._set(A,V,this._get(A,L)),this._set(A,L,k)}},{key:"_defaultCompareFunction",value:function(A,V){return V>A}}]),T}();se.exports=C},function(se,D,S){"use strict";var P=function(){function C(T,N){for(var A=0;A<N.length;A++){var V=N[A];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(T,V.key,V)}}return function(T,N,A){return N&&C(T.prototype,N),A&&C(T,A),T}}();var I=function(){function C(T,N){var A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,L=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;(function O(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")})(this,C),this.sequence1=T,this.sequence2=N,this.match_score=A,this.mismatch_penalty=V,this.gap_penalty=L,this.iMax=T.length+1,this.jMax=N.length+1,this.grid=new Array(this.iMax);for(var k=0;k<this.iMax;k++){this.grid[k]=new Array(this.jMax);for(var H=0;H<this.jMax;H++)this.grid[k][H]=0}this.tracebackGrid=new Array(this.iMax);for(var $=0;$<this.iMax;$++){this.tracebackGrid[$]=new Array(this.jMax);for(var Q=0;Q<this.jMax;Q++)this.tracebackGrid[$][Q]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return P(C,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var N=1;N<this.jMax;N++)this.grid[0][N]=this.grid[0][N-1]+this.gap_penalty,this.tracebackGrid[0][N]=[!1,!1,!0];for(var A=1;A<this.iMax;A++)this.grid[A][0]=this.grid[A-1][0]+this.gap_penalty,this.tracebackGrid[A][0]=[!1,!0,!1];for(var V=1;V<this.iMax;V++)for(var L=1;L<this.jMax;L++){var Q=[this.sequence1[V-1]===this.sequence2[L-1]?this.grid[V-1][L-1]+this.match_score:this.grid[V-1][L-1]+this.mismatch_penalty,this.grid[V-1][L]+this.gap_penalty,this.grid[V][L-1]+this.gap_penalty],ue=this.arrayAllMaxIndexes(Q);this.grid[V][L]=Q[ue[0]],this.tracebackGrid[V][L]=[ue.includes(0),ue.includes(1),ue.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var N=[];for(N.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});N[0];){var A=N[0],V=this.tracebackGrid[A.pos[0]][A.pos[1]];V[0]&&N.push({pos:[A.pos[0]-1,A.pos[1]-1],seq1:this.sequence1[A.pos[0]-1]+A.seq1,seq2:this.sequence2[A.pos[1]-1]+A.seq2}),V[1]&&N.push({pos:[A.pos[0]-1,A.pos[1]],seq1:this.sequence1[A.pos[0]-1]+A.seq1,seq2:"-"+A.seq2}),V[2]&&N.push({pos:[A.pos[0],A.pos[1]-1],seq1:"-"+A.seq1,seq2:this.sequence2[A.pos[1]-1]+A.seq2}),0===A.pos[0]&&0===A.pos[1]&&this.alignments.push({sequence1:A.seq1,sequence2:A.seq2}),N.shift()}return this.alignments}},{key:"getAllIndexes",value:function(N,A){for(var V=[],L=-1;-1!==(L=N.indexOf(A,L+1));)V.push(L);return V}},{key:"arrayAllMaxIndexes",value:function(N){return this.getAllIndexes(N,Math.max.apply(null,N))}}]),C}();se.exports=I},function(se,D,S){"use strict";var P=function(){};P.FDLayout=S(18),P.FDLayoutConstants=S(7),P.FDLayoutEdge=S(19),P.FDLayoutNode=S(20),P.DimensionD=S(21),P.HashMap=S(22),P.HashSet=S(23),P.IGeometry=S(8),P.IMath=S(9),P.Integer=S(10),P.Point=S(12),P.PointD=S(4),P.RandomSeed=S(16),P.RectangleD=S(13),P.Transform=S(17),P.UniqueIDGeneretor=S(14),P.Quicksort=S(24),P.LinkedList=S(11),P.LGraphObject=S(2),P.LGraph=S(5),P.LEdge=S(1),P.LGraphManager=S(6),P.LNode=S(3),P.Layout=S(15),P.LayoutConstants=S(0),P.NeedlemanWunsch=S(25),se.exports=P},function(se,D,S){"use strict";function P(){this.listeners=[]}var O=P.prototype;O.addListener=function(I,C){this.listeners.push({event:I,callback:C})},O.removeListener=function(I,C){for(var T=this.listeners.length;T>=0;T--){var N=this.listeners[T];N.event===I&&N.callback===C&&this.listeners.splice(T,1)}},O.emit=function(I,C){for(var T=0;T<this.listeners.length;T++){var N=this.listeners[T];I===N.event&&N.callback(C)}},se.exports=P}])},6506:(Y,se,D)=>{var O=D(8745)(D(8492),"DataView");Y.exports=O},9618:(Y,se,D)=>{var S=D(5602),P=D(1499),O=D(2990),I=D(480),C=D(4469);function T(N){var A=-1,V=null==N?0:N.length;for(this.clear();++A<V;){var L=N[A];this.set(L[0],L[1])}}T.prototype.clear=S,T.prototype.delete=P,T.prototype.get=O,T.prototype.has=I,T.prototype.set=C,Y.exports=T},3597:(Y,se,D)=>{var S=D(9365),P=D(9343),O=D(4779),I=D(1509),C=D(7137);function T(N){var A=-1,V=null==N?0:N.length;for(this.clear();++A<V;){var L=N[A];this.set(L[0],L[1])}}T.prototype.clear=S,T.prototype.delete=P,T.prototype.get=O,T.prototype.has=I,T.prototype.set=C,Y.exports=T},1136:(Y,se,D)=>{var O=D(8745)(D(8492),"Map");Y.exports=O},1811:(Y,se,D)=>{var S=D(3413),P=D(5419),O=D(7336),I=D(1115),C=D(6648);function T(N){var A=-1,V=null==N?0:N.length;for(this.clear();++A<V;){var L=N[A];this.set(L[0],L[1])}}T.prototype.clear=S,T.prototype.delete=P,T.prototype.get=O,T.prototype.has=I,T.prototype.set=C,Y.exports=T},641:(Y,se,D)=>{var O=D(8745)(D(8492),"Promise");Y.exports=O},1732:(Y,se,D)=>{var O=D(8745)(D(8492),"Set");Y.exports=O},5960:(Y,se,D)=>{var S=D(1811),P=D(6151),O=D(2154);function I(C){var T=-1,N=null==C?0:C.length;for(this.__data__=new S;++T<N;)this.add(C[T])}I.prototype.add=I.prototype.push=P,I.prototype.has=O,Y.exports=I},1339:(Y,se,D)=>{var S=D(3597),P=D(9488),O=D(5943),I=D(5456),C=D(4793),T=D(8689);function N(A){var V=this.__data__=new S(A);this.size=V.size}N.prototype.clear=P,N.prototype.delete=O,N.prototype.get=I,N.prototype.has=C,N.prototype.set=T,Y.exports=N},1763:(Y,se,D)=>{var S=D(8492);Y.exports=S.Symbol},2760:(Y,se,D)=>{var S=D(8492);Y.exports=S.Uint8Array},6413:(Y,se,D)=>{var O=D(8745)(D(8492),"WeakMap");Y.exports=O},7910:Y=>{Y.exports=function se(D,S,P){switch(P.length){case 0:return D.call(S);case 1:return D.call(S,P[0]);case 2:return D.call(S,P[0],P[1]);case 3:return D.call(S,P[0],P[1],P[2])}return D.apply(S,P)}},7772:Y=>{Y.exports=function se(D,S){for(var P=-1,O=null==D?0:D.length;++P<O&&!1!==S(D[P],P,D););return D}},2134:Y=>{Y.exports=function se(D,S){for(var P=-1,O=null==D?0:D.length,I=0,C=[];++P<O;){var T=D[P];S(T,P,D)&&(C[I++]=T)}return C}},8750:(Y,se,D)=>{var S=D(9568);Y.exports=function P(O,I){return!(null==O||!O.length)&&S(O,I,0)>-1}},6736:Y=>{Y.exports=function se(D,S,P){for(var O=-1,I=null==D?0:D.length;++O<I;)if(P(S,D[O]))return!0;return!1}},1384:(Y,se,D)=>{var S=D(5025),P=D(1955),O=D(2261),I=D(7525),C=D(5188),T=D(4868),A=Object.prototype.hasOwnProperty;Y.exports=function V(L,k){var H=O(L),$=!H&&P(L),Q=!H&&!$&&I(L),ue=!H&&!$&&!Q&&T(L),ne=H||$||Q||ue,le=ne?S(L.length,String):[],ae=le.length;for(var de in L)(k||A.call(L,de))&&(!ne||!("length"==de||Q&&("offset"==de||"parent"==de)||ue&&("buffer"==de||"byteLength"==de||"byteOffset"==de)||C(de,ae)))&&le.push(de);return le}},3880:Y=>{Y.exports=function se(D,S){for(var P=-1,O=null==D?0:D.length,I=Array(O);++P<O;)I[P]=S(D[P],P,D);return I}},7853:Y=>{Y.exports=function se(D,S){for(var P=-1,O=S.length,I=D.length;++P<O;)D[I+P]=S[P];return D}},9850:Y=>{Y.exports=function se(D,S,P,O){var I=-1,C=null==D?0:D.length;for(O&&C&&(P=D[++I]);++I<C;)P=S(P,D[I],I,D);return P}},5916:Y=>{Y.exports=function se(D,S){for(var P=-1,O=null==D?0:D.length;++P<O;)if(S(D[P],P,D))return!0;return!1}},6181:(Y,se,D)=>{var P=D(3400)("length");Y.exports=P},6697:(Y,se,D)=>{var S=D(1741),P=D(7826);Y.exports=function O(I,C,T){(void 0!==T&&!P(I[C],T)||void 0===T&&!(C in I))&&S(I,C,T)}},9553:(Y,se,D)=>{var S=D(1741),P=D(7826),I=Object.prototype.hasOwnProperty;Y.exports=function C(T,N,A){var V=T[N];(!I.call(T,N)||!P(V,A)||void 0===A&&!(N in T))&&S(T,N,A)}},4056:(Y,se,D)=>{var S=D(7826);Y.exports=function P(O,I){for(var C=O.length;C--;)if(S(O[C][0],I))return C;return-1}},6234:(Y,se,D)=>{var S=D(5931),P=D(4614);Y.exports=function O(I,C){return I&&S(C,P(C),I)}},4431:(Y,se,D)=>{var S=D(5931),P=D(6402);Y.exports=function O(I,C){return I&&S(C,P(C),I)}},1741:(Y,se,D)=>{var S=D(9383);Y.exports=function P(O,I,C){"__proto__"==I&&S?S(O,I,{configurable:!0,enumerable:!0,value:C,writable:!0}):O[I]=C}},1320:(Y,se,D)=>{var S=D(1339),P=D(7772),O=D(9553),I=D(6234),C=D(4431),T=D(6002),N=D(4231),A=D(9385),V=D(4354),L=D(6131),k=D(2442),H=D(2472),$=D(9431),Q=D(514),ue=D(9225),ne=D(2261),le=D(7525),ae=D(990),de=D(9794),te=D(8611),pe=D(4614),Z=D(6402),_e="[object Arguments]",at="[object Function]",Xe="[object Object]",Vn={};Vn[_e]=Vn["[object Array]"]=Vn["[object ArrayBuffer]"]=Vn["[object DataView]"]=Vn["[object Boolean]"]=Vn["[object Date]"]=Vn["[object Float32Array]"]=Vn["[object Float64Array]"]=Vn["[object Int8Array]"]=Vn["[object Int16Array]"]=Vn["[object Int32Array]"]=Vn["[object Map]"]=Vn["[object Number]"]=Vn[Xe]=Vn["[object RegExp]"]=Vn["[object Set]"]=Vn["[object String]"]=Vn["[object Symbol]"]=Vn["[object Uint8Array]"]=Vn["[object Uint8ClampedArray]"]=Vn["[object Uint16Array]"]=Vn["[object Uint32Array]"]=!0,Vn["[object Error]"]=Vn[at]=Vn["[object WeakMap]"]=!1,Y.exports=function Xr(dn,Ri,ro,Fi,Bi,jr){var Ki,ja=1&Ri,Ts=2&Ri,Nn=4&Ri;if(ro&&(Ki=Bi?ro(dn,Fi,Bi,jr):ro(dn)),void 0!==Ki)return Ki;if(!de(dn))return dn;var Vl=ne(dn);if(Vl){if(Ki=$(dn),!ja)return N(dn,Ki)}else{var Yo=H(dn),Xo=Yo==at||"[object GeneratorFunction]"==Yo;if(le(dn))return T(dn,ja);if(Yo==Xe||Yo==_e||Xo&&!Bi){if(Ki=Ts||Xo?{}:ue(dn),!ja)return Ts?V(dn,C(Ki,dn)):A(dn,I(Ki,dn))}else{if(!Vn[Yo])return Bi?dn:{};Ki=Q(dn,Yo,ja)}}jr||(jr=new S);var fl=jr.get(dn);if(fl)return fl;jr.set(dn,Ki),te(dn)?dn.forEach(function(_n){Ki.add(Xr(_n,Ri,ro,_n,dn,jr))}):ae(dn)&&dn.forEach(function(_n,ma){Ki.set(ma,Xr(_n,Ri,ro,ma,dn,jr))});var Ss=Vl?void 0:(Nn?Ts?k:L:Ts?Z:pe)(dn);return P(Ss||dn,function(_n,ma){Ss&&(_n=dn[ma=_n]),O(Ki,ma,Xr(_n,Ri,ro,ma,dn,jr))}),Ki}},1391:(Y,se,D)=>{var S=D(9794),P=Object.create,O=function(){function I(){}return function(C){if(!S(C))return{};if(P)return P(C);I.prototype=C;var T=new I;return I.prototype=void 0,T}}();Y.exports=O},5103:(Y,se,D)=>{var S=D(7794),O=D(9386)(S);Y.exports=O},4530:(Y,se,D)=>{var S=D(3423);Y.exports=function P(O,I,C){for(var T=-1,N=O.length;++T<N;){var A=O[T],V=I(A);if(null!=V&&(void 0===L?V==V&&!S(V):C(V,L)))var L=V,k=A}return k}},1892:(Y,se,D)=>{var S=D(5103);Y.exports=function P(O,I){var C=[];return S(O,function(T,N,A){I(T,N,A)&&C.push(T)}),C}},4051:Y=>{Y.exports=function se(D,S,P,O){for(var I=D.length,C=P+(O?1:-1);O?C--:++C<I;)if(S(D[C],C,D))return C;return-1}},1883:(Y,se,D)=>{var S=D(7853),P=D(2241);Y.exports=function O(I,C,T,N,A){var V=-1,L=I.length;for(T||(T=P),A||(A=[]);++V<L;){var k=I[V];C>0&&T(k)?C>1?O(k,C-1,T,N,A):S(A,k):N||(A[A.length]=k)}return A}},6483:(Y,se,D)=>{var P=D(2086)();Y.exports=P},7794:(Y,se,D)=>{var S=D(6483),P=D(4614);Y.exports=function O(I,C){return I&&S(I,C,P)}},2202:(Y,se,D)=>{var S=D(4826),P=D(8916);Y.exports=function O(I,C){for(var T=0,N=(C=S(C,I)).length;null!=I&&T<N;)I=I[P(C[T++])];return T&&T==N?I:void 0}},7427:(Y,se,D)=>{var S=D(7853),P=D(2261);Y.exports=function O(I,C,T){var N=C(I);return P(I)?N:S(N,T(I))}},4590:(Y,se,D)=>{var S=D(1763),P=D(5933),O=D(9243),T=S?S.toStringTag:void 0;Y.exports=function N(A){return null==A?void 0===A?"[object Undefined]":"[object Null]":T&&T in Object(A)?P(A):O(A)}},8444:Y=>{Y.exports=function se(D,S){return D>S}},4493:Y=>{var D=Object.prototype.hasOwnProperty;Y.exports=function S(P,O){return null!=P&&D.call(P,O)}},3274:Y=>{Y.exports=function se(D,S){return null!=D&&S in Object(D)}},9568:(Y,se,D)=>{var S=D(4051),P=D(1817),O=D(2528);Y.exports=function I(C,T,N){return T==T?O(C,T,N):S(C,P,N)}},3022:(Y,se,D)=>{var S=D(4590),P=D(3714);Y.exports=function I(C){return P(C)&&"[object Arguments]"==S(C)}},7108:(Y,se,D)=>{var S=D(7946),P=D(3714);Y.exports=function O(I,C,T,N,A){return I===C||(null==I||null==C||!P(I)&&!P(C)?I!=I&&C!=C:S(I,C,T,N,O,A))}},7946:(Y,se,D)=>{var S=D(1339),P=D(7469),O=D(1642),I=D(9462),C=D(2472),T=D(2261),N=D(7525),A=D(4868),L="[object Arguments]",k="[object Array]",H="[object Object]",Q=Object.prototype.hasOwnProperty;Y.exports=function ue(ne,le,ae,de,te,pe){var Z=T(ne),oe=T(le),ie=Z?k:C(ne),me=oe?k:C(le),_e=(ie=ie==L?H:ie)==H,Te=(me=me==L?H:me)==H,De=ie==me;if(De&&N(ne)){if(!N(le))return!1;Z=!0,_e=!1}if(De&&!_e)return pe||(pe=new S),Z||A(ne)?P(ne,le,ae,de,te,pe):O(ne,le,ie,ae,de,te,pe);if(!(1&ae)){var ze=_e&&Q.call(ne,"__wrapped__"),Be=Te&&Q.call(le,"__wrapped__");if(ze||Be){var at=ze?ne.value():ne,ft=Be?le.value():le;return pe||(pe=new S),te(at,ft,ae,de,pe)}}return!!De&&(pe||(pe=new S),I(ne,le,ae,de,te,pe))}},8562:(Y,se,D)=>{var S=D(2472),P=D(3714);Y.exports=function I(C){return P(C)&&"[object Map]"==S(C)}},2527:(Y,se,D)=>{var S=D(1339),P=D(7108);Y.exports=function C(T,N,A,V){var L=A.length,k=L,H=!V;if(null==T)return!k;for(T=Object(T);L--;){var $=A[L];if(H&&$[2]?$[1]!==T[$[0]]:!($[0]in T))return!1}for(;++L<k;){var Q=($=A[L])[0],ue=T[Q],ne=$[1];if(H&&$[2]){if(void 0===ue&&!(Q in T))return!1}else{var le=new S;if(V)var ae=V(ue,ne,Q,T,N,le);if(!(void 0===ae?P(ne,ue,3,V,le):ae))return!1}}return!0}},1817:Y=>{Y.exports=function se(D){return D!=D}},1082:(Y,se,D)=>{var S=D(6861),P=D(9950),O=D(9794),I=D(7075),T=/^\[object .+?Constructor\]$/,k=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");Y.exports=function H($){return!(!O($)||P($))&&(S($)?k:T).test(I($))}},1202:(Y,se,D)=>{var S=D(2472),P=D(3714);Y.exports=function I(C){return P(C)&&"[object Set]"==S(C)}},8902:(Y,se,D)=>{var S=D(4590),P=D(7765),O=D(3714),De={};De["[object Float32Array]"]=De["[object Float64Array]"]=De["[object Int8Array]"]=De["[object Int16Array]"]=De["[object Int32Array]"]=De["[object Uint8Array]"]=De["[object Uint8ClampedArray]"]=De["[object Uint16Array]"]=De["[object Uint32Array]"]=!0,De["[object Arguments]"]=De["[object Array]"]=De["[object ArrayBuffer]"]=De["[object Boolean]"]=De["[object DataView]"]=De["[object Date]"]=De["[object Error]"]=De["[object Function]"]=De["[object Map]"]=De["[object Number]"]=De["[object Object]"]=De["[object RegExp]"]=De["[object Set]"]=De["[object String]"]=De["[object WeakMap]"]=!1,Y.exports=function ze(Be){return O(Be)&&P(Be.length)&&!!De[S(Be)]}},1627:(Y,se,D)=>{var S=D(2924),P=D(8526),O=D(5657),I=D(2261),C=D(2692);Y.exports=function T(N){return"function"==typeof N?N:null==N?O:"object"==typeof N?I(N)?P(N[0],N[1]):S(N):C(N)}},190:(Y,se,D)=>{var S=D(6587),P=D(366),I=Object.prototype.hasOwnProperty;Y.exports=function C(T){if(!S(T))return P(T);var N=[];for(var A in Object(T))I.call(T,A)&&"constructor"!=A&&N.push(A);return N}},7673:(Y,se,D)=>{var S=D(9794),P=D(6587),O=D(8981),C=Object.prototype.hasOwnProperty;Y.exports=function T(N){if(!S(N))return O(N);var A=P(N),V=[];for(var L in N)"constructor"==L&&(A||!C.call(N,L))||V.push(L);return V}},8898:Y=>{Y.exports=function se(D,S){return D<S}},2839:(Y,se,D)=>{var S=D(5103),P=D(2447);Y.exports=function O(I,C){var T=-1,N=P(I)?Array(I.length):[];return S(I,function(A,V,L){N[++T]=C(A,V,L)}),N}},2924:(Y,se,D)=>{var S=D(2527),P=D(7895),O=D(2265);Y.exports=function I(C){var T=P(C);return 1==T.length&&T[0][2]?O(T[0][0],T[0][1]):function(N){return N===C||S(N,C,T)}}},8526:(Y,se,D)=>{var S=D(7108),P=D(5440),O=D(2494),I=D(6300),C=D(3921),T=D(2265),N=D(8916);Y.exports=function L(k,H){return I(k)&&C(H)?T(N(k),H):function($){var Q=P($,k);return void 0===Q&&Q===H?O($,k):S(H,Q,3)}}},3294:(Y,se,D)=>{var S=D(1339),P=D(6697),O=D(6483),I=D(9218),C=D(9794),T=D(6402),N=D(7524);Y.exports=function A(V,L,k,H,$){V!==L&&O(L,function(Q,ue){if($||($=new S),C(Q))I(V,L,ue,k,A,H,$);else{var ne=H?H(N(V,ue),Q,ue+"",V,L,$):void 0;void 0===ne&&(ne=Q),P(V,ue,ne)}},T)}},9218:(Y,se,D)=>{var S=D(6697),P=D(6002),O=D(2501),I=D(4231),C=D(9225),T=D(1955),N=D(2261),A=D(3471),V=D(7525),L=D(6861),k=D(9794),H=D(8168),$=D(4868),Q=D(7524),ue=D(4210);Y.exports=function ne(le,ae,de,te,pe,Z,oe){var ie=Q(le,de),me=Q(ae,de),_e=oe.get(me);if(_e)S(le,de,_e);else{var Te=Z?Z(ie,me,de+"",le,ae,oe):void 0,De=void 0===Te;if(De){var ze=N(me),Be=!ze&&V(me),at=!ze&&!Be&&$(me);Te=me,ze||Be||at?N(ie)?Te=ie:A(ie)?Te=I(ie):Be?(De=!1,Te=P(me,!0)):at?(De=!1,Te=O(me,!0)):Te=[]:H(me)||T(me)?(Te=ie,T(ie)?Te=ue(ie):(!k(ie)||L(ie))&&(Te=C(me))):De=!1}De&&(oe.set(me,Te),pe(Te,me,te,Z,oe),oe.delete(me)),S(le,de,Te)}}},252:(Y,se,D)=>{var S=D(3880),P=D(2202),O=D(1627),I=D(2839),C=D(6389),T=D(5249),N=D(9664),A=D(5657),V=D(2261);Y.exports=function L(k,H,$){H=H.length?S(H,function(ne){return V(ne)?function(le){return P(le,1===ne.length?ne[0]:ne)}:ne}):[A];var Q=-1;H=S(H,T(O));var ue=I(k,function(ne,le,ae){return{criteria:S(H,function(te){return te(ne)}),index:++Q,value:ne}});return C(ue,function(ne,le){return N(ne,le,$)})}},2784:(Y,se,D)=>{var S=D(2772),P=D(2494);Y.exports=function O(I,C){return S(I,C,function(T,N){return P(I,N)})}},2772:(Y,se,D)=>{var S=D(2202),P=D(9478),O=D(4826);Y.exports=function I(C,T,N){for(var A=-1,V=T.length,L={};++A<V;){var k=T[A],H=S(C,k);N(H,k)&&P(L,O(k,C),H)}return L}},3400:Y=>{Y.exports=function se(D){return function(S){return S?.[D]}}},6443:(Y,se,D)=>{var S=D(2202);Y.exports=function P(O){return function(I){return S(I,O)}}},9948:Y=>{var se=Math.ceil,D=Math.max;Y.exports=function S(P,O,I,C){for(var T=-1,N=D(se((O-P)/(I||1)),0),A=Array(N);N--;)A[C?N:++T]=P,P+=I;return A}},8978:Y=>{Y.exports=function se(D,S,P,O,I){return I(D,function(C,T,N){P=O?(O=!1,C):S(P,C,T,N)}),P}},8951:(Y,se,D)=>{var S=D(5657),P=D(2394),O=D(6814);Y.exports=function I(C,T){return O(P(C,T,S),C+"")}},9478:(Y,se,D)=>{var S=D(9553),P=D(4826),O=D(5188),I=D(9794),C=D(8916);Y.exports=function T(N,A,V,L){if(!I(N))return N;for(var k=-1,H=(A=P(A,N)).length,$=H-1,Q=N;null!=Q&&++k<H;){var ue=C(A[k]),ne=V;if("__proto__"===ue||"constructor"===ue||"prototype"===ue)return N;if(k!=$){var le=Q[ue];void 0===(ne=L?L(le,ue,Q):void 0)&&(ne=I(le)?le:O(A[k+1])?[]:{})}S(Q,ue,ne),Q=Q[ue]}return N}},8235:(Y,se,D)=>{var S=D(1075),P=D(9383),O=D(5657);Y.exports=P?function(C,T){return P(C,"toString",{configurable:!0,enumerable:!1,value:S(T),writable:!0})}:O},6389:Y=>{Y.exports=function se(D,S){var P=D.length;for(D.sort(S);P--;)D[P]=D[P].value;return D}},5025:Y=>{Y.exports=function se(D,S){for(var P=-1,O=Array(D);++P<D;)O[P]=S(P);return O}},7002:(Y,se,D)=>{var S=D(1763),P=D(3880),O=D(2261),I=D(3423),T=S?S.prototype:void 0,N=T?T.toString:void 0;Y.exports=function A(V){if("string"==typeof V)return V;if(O(V))return P(V,A)+"";if(I(V))return N?N.call(V):"";var L=V+"";return"0"==L&&1/V==-1/0?"-0":L}},9484:(Y,se,D)=>{var S=D(1781),P=/^\s+/;Y.exports=function O(I){return I&&I.slice(0,S(I)+1).replace(P,"")}},5249:Y=>{Y.exports=function se(D){return function(S){return D(S)}}},9154:(Y,se,D)=>{var S=D(5960),P=D(8750),O=D(6736),I=D(4795),C=D(8433),T=D(8e3);Y.exports=function A(V,L,k){var H=-1,$=P,Q=V.length,ue=!0,ne=[],le=ne;if(k)ue=!1,$=O;else if(Q>=200){var ae=L?null:C(V);if(ae)return T(ae);ue=!1,$=I,le=new S}else le=L?[]:ne;e:for(;++H<Q;){var de=V[H],te=L?L(de):de;if(de=k||0!==de?de:0,ue&&te==te){for(var pe=le.length;pe--;)if(le[pe]===te)continue e;L&&le.push(te),ne.push(de)}else $(le,te,k)||(le!==ne&&le.push(te),ne.push(de))}return ne}},6680:(Y,se,D)=>{var S=D(3880);Y.exports=function P(O,I){return S(I,function(C){return O[C]})}},2255:Y=>{Y.exports=function se(D,S,P){for(var O=-1,I=D.length,C=S.length,T={};++O<I;)P(T,D[O],O<C?S[O]:void 0);return T}},4795:Y=>{Y.exports=function se(D,S){return D.has(S)}},4655:(Y,se,D)=>{var S=D(5657);Y.exports=function P(O){return"function"==typeof O?O:S}},4826:(Y,se,D)=>{var S=D(2261),P=D(6300),O=D(163),I=D(2674);Y.exports=function C(T,N){return S(T)?T:P(T,N)?[T]:O(I(T))}},2355:(Y,se,D)=>{var S=D(2760);Y.exports=function P(O){var I=new O.constructor(O.byteLength);return new S(I).set(new S(O)),I}},6002:(Y,se,D)=>{Y=D.nmd(Y);var S=D(8492),P=se&&!se.nodeType&&se,O=P&&Y&&!Y.nodeType&&Y,C=O&&O.exports===P?S.Buffer:void 0,T=C?C.allocUnsafe:void 0;Y.exports=function N(A,V){if(V)return A.slice();var L=A.length,k=T?T(L):new A.constructor(L);return A.copy(k),k}},6693:(Y,se,D)=>{var S=D(2355);Y.exports=function P(O,I){var C=I?S(O.buffer):O.buffer;return new O.constructor(C,O.byteOffset,O.byteLength)}},497:Y=>{var se=/\w*$/;Y.exports=function D(S){var P=new S.constructor(S.source,se.exec(S));return P.lastIndex=S.lastIndex,P}},3330:(Y,se,D)=>{var S=D(1763),P=S?S.prototype:void 0,O=P?P.valueOf:void 0;Y.exports=function I(C){return O?Object(O.call(C)):{}}},2501:(Y,se,D)=>{var S=D(2355);Y.exports=function P(O,I){var C=I?S(O.buffer):O.buffer;return new O.constructor(C,O.byteOffset,O.length)}},5400:(Y,se,D)=>{var S=D(3423);Y.exports=function P(O,I){if(O!==I){var C=void 0!==O,T=null===O,N=O==O,A=S(O),V=void 0!==I,L=null===I,k=I==I,H=S(I);if(!L&&!H&&!A&&O>I||A&&V&&k&&!L&&!H||T&&V&&k||!C&&k||!N)return 1;if(!T&&!A&&!H&&O<I||H&&C&&N&&!T&&!A||L&&C&&N||!V&&N||!k)return-1}return 0}},9664:(Y,se,D)=>{var S=D(5400);Y.exports=function P(O,I,C){for(var T=-1,N=O.criteria,A=I.criteria,V=N.length,L=C.length;++T<V;){var k=S(N[T],A[T]);if(k)return T>=L?k:k*("desc"==C[T]?-1:1)}return O.index-I.index}},4231:Y=>{Y.exports=function se(D,S){var P=-1,O=D.length;for(S||(S=Array(O));++P<O;)S[P]=D[P];return S}},5931:(Y,se,D)=>{var S=D(9553),P=D(1741);Y.exports=function O(I,C,T,N){var A=!T;T||(T={});for(var V=-1,L=C.length;++V<L;){var k=C[V],H=N?N(T[k],I[k],k,T,I):void 0;void 0===H&&(H=I[k]),A?P(T,k,H):S(T,k,H)}return T}},9385:(Y,se,D)=>{var S=D(5931),P=D(771);Y.exports=function O(I,C){return S(I,P(I),C)}},4354:(Y,se,D)=>{var S=D(5931),P=D(708);Y.exports=function O(I,C){return S(I,P(I),C)}},6189:(Y,se,D)=>{var S=D(8492);Y.exports=S["__core-js_shared__"]},1300:(Y,se,D)=>{var S=D(8951),P=D(3817);Y.exports=function O(I){return S(function(C,T){var N=-1,A=T.length,V=A>1?T[A-1]:void 0,L=A>2?T[2]:void 0;for(V=I.length>3&&"function"==typeof V?(A--,V):void 0,L&&P(T[0],T[1],L)&&(V=A<3?void 0:V,A=1),C=Object(C);++N<A;){var k=T[N];k&&I(C,k,N,V)}return C})}},9386:(Y,se,D)=>{var S=D(2447);Y.exports=function P(O,I){return function(C,T){if(null==C)return C;if(!S(C))return O(C,T);for(var N=C.length,A=I?N:-1,V=Object(C);(I?A--:++A<N)&&!1!==T(V[A],A,V););return C}}},2086:Y=>{Y.exports=function se(D){return function(S,P,O){for(var I=-1,C=Object(S),T=O(S),N=T.length;N--;){var A=T[D?N:++I];if(!1===P(C[A],A,C))break}return S}}},6738:(Y,se,D)=>{var S=D(1627),P=D(2447),O=D(4614);Y.exports=function I(C){return function(T,N,A){var V=Object(T);if(!P(T)){var L=S(N,3);T=O(T),N=function(H){return L(V[H],H,V)}}var k=C(T,N,A);return k>-1?V[L?T[k]:k]:void 0}}},4222:(Y,se,D)=>{var S=D(9948),P=D(3817),O=D(9292);Y.exports=function I(C){return function(T,N,A){return A&&"number"!=typeof A&&P(T,N,A)&&(N=A=void 0),T=O(T),void 0===N?(N=T,T=0):N=O(N),A=void 0===A?T<N?1:-1:O(A),S(T,N,A,C)}}},8433:(Y,se,D)=>{var S=D(1732),P=D(4249),O=D(8e3),C=S&&1/O(new S([,-0]))[1]==1/0?function(T){return new S(T)}:P;Y.exports=C},9383:(Y,se,D)=>{var S=D(8745),P=function(){try{var O=S(Object,"defineProperty");return O({},"",{}),O}catch{}}();Y.exports=P},7469:(Y,se,D)=>{var S=D(5960),P=D(5916),O=D(4795);Y.exports=function T(N,A,V,L,k,H){var $=1&V,Q=N.length,ue=A.length;if(Q!=ue&&!($&&ue>Q))return!1;var ne=H.get(N),le=H.get(A);if(ne&&le)return ne==A&&le==N;var ae=-1,de=!0,te=2&V?new S:void 0;for(H.set(N,A),H.set(A,N);++ae<Q;){var pe=N[ae],Z=A[ae];if(L)var oe=$?L(Z,pe,ae,A,N,H):L(pe,Z,ae,N,A,H);if(void 0!==oe){if(oe)continue;de=!1;break}if(te){if(!P(A,function(ie,me){if(!O(te,me)&&(pe===ie||k(pe,ie,V,L,H)))return te.push(me)})){de=!1;break}}else if(pe!==Z&&!k(pe,Z,V,L,H)){de=!1;break}}return H.delete(N),H.delete(A),de}},1642:(Y,se,D)=>{var S=D(1763),P=D(2760),O=D(7826),I=D(7469),C=D(1575),T=D(8e3),te=S?S.prototype:void 0,pe=te?te.valueOf:void 0;Y.exports=function Z(oe,ie,me,_e,Te,De,ze){switch(me){case"[object DataView]":if(oe.byteLength!=ie.byteLength||oe.byteOffset!=ie.byteOffset)return!1;oe=oe.buffer,ie=ie.buffer;case"[object ArrayBuffer]":return!(oe.byteLength!=ie.byteLength||!De(new P(oe),new P(ie)));case"[object Boolean]":case"[object Date]":case"[object Number]":return O(+oe,+ie);case"[object Error]":return oe.name==ie.name&&oe.message==ie.message;case"[object RegExp]":case"[object String]":return oe==ie+"";case"[object Map]":var Be=C;case"[object Set]":if(Be||(Be=T),oe.size!=ie.size&&!(1&_e))return!1;var ft=ze.get(oe);if(ft)return ft==ie;_e|=2,ze.set(oe,ie);var Ye=I(Be(oe),Be(ie),_e,Te,De,ze);return ze.delete(oe),Ye;case"[object Symbol]":if(pe)return pe.call(oe)==pe.call(ie)}return!1}},9462:(Y,se,D)=>{var S=D(6131),I=Object.prototype.hasOwnProperty;Y.exports=function C(T,N,A,V,L,k){var H=1&A,$=S(T),Q=$.length;if(Q!=S(N).length&&!H)return!1;for(var le=Q;le--;){var ae=$[le];if(!(H?ae in N:I.call(N,ae)))return!1}var de=k.get(T),te=k.get(N);if(de&&te)return de==N&&te==T;var pe=!0;k.set(T,N),k.set(N,T);for(var Z=H;++le<Q;){var oe=T[ae=$[le]],ie=N[ae];if(V)var me=H?V(ie,oe,ae,N,T,k):V(oe,ie,ae,T,N,k);if(!(void 0===me?oe===ie||L(oe,ie,A,V,k):me)){pe=!1;break}Z||(Z="constructor"==ae)}if(pe&&!Z){var _e=T.constructor,Te=N.constructor;_e!=Te&&"constructor"in T&&"constructor"in N&&!("function"==typeof _e&&_e instanceof _e&&"function"==typeof Te&&Te instanceof Te)&&(pe=!1)}return k.delete(T),k.delete(N),pe}},6801:(Y,se,D)=>{var S=D(9336),P=D(2394),O=D(6814);Y.exports=function I(C){return O(P(C,void 0,S),C+"")}},248:Y=>{var se="object"==typeof global&&global&&global.Object===Object&&global;Y.exports=se},6131:(Y,se,D)=>{var S=D(7427),P=D(771),O=D(4614);Y.exports=function I(C){return S(C,O,P)}},2442:(Y,se,D)=>{var S=D(7427),P=D(708),O=D(6402);Y.exports=function I(C){return S(C,O,P)}},4113:(Y,se,D)=>{var S=D(29);Y.exports=function P(O,I){var C=O.__data__;return S(I)?C["string"==typeof I?"string":"hash"]:C.map}},7895:(Y,se,D)=>{var S=D(3921),P=D(4614);Y.exports=function O(I){for(var C=P(I),T=C.length;T--;){var N=C[T],A=I[N];C[T]=[N,A,S(A)]}return C}},8745:(Y,se,D)=>{var S=D(1082),P=D(1015);Y.exports=function O(I,C){var T=P(I,C);return S(T)?T:void 0}},6186:(Y,se,D)=>{var P=D(3106)(Object.getPrototypeOf,Object);Y.exports=P},5933:(Y,se,D)=>{var S=D(1763),P=Object.prototype,O=P.hasOwnProperty,I=P.toString,C=S?S.toStringTag:void 0;Y.exports=function T(N){var A=O.call(N,C),V=N[C];try{N[C]=void 0;var L=!0}catch{}var k=I.call(N);return L&&(A?N[C]=V:delete N[C]),k}},771:(Y,se,D)=>{var S=D(2134),P=D(1315),I=Object.prototype.propertyIsEnumerable,C=Object.getOwnPropertySymbols;Y.exports=C?function(N){return null==N?[]:(N=Object(N),S(C(N),function(A){return I.call(N,A)}))}:P},708:(Y,se,D)=>{var S=D(7853),P=D(6186),O=D(771),I=D(1315);Y.exports=Object.getOwnPropertySymbols?function(N){for(var A=[];N;)S(A,O(N)),N=P(N);return A}:I},2472:(Y,se,D)=>{var S=D(6506),P=D(1136),O=D(641),I=D(1732),C=D(6413),T=D(4590),N=D(7075),A="[object Map]",L="[object Promise]",k="[object Set]",H="[object WeakMap]",$="[object DataView]",Q=N(S),ue=N(P),ne=N(O),le=N(I),ae=N(C),de=T;(S&&de(new S(new ArrayBuffer(1)))!=$||P&&de(new P)!=A||O&&de(O.resolve())!=L||I&&de(new I)!=k||C&&de(new C)!=H)&&(de=function(te){var pe=T(te),Z="[object Object]"==pe?te.constructor:void 0,oe=Z?N(Z):"";if(oe)switch(oe){case Q:return $;case ue:return A;case ne:return L;case le:return k;case ae:return H}return pe}),Y.exports=de},1015:Y=>{Y.exports=function se(D,S){return D?.[S]}},4583:(Y,se,D)=>{var S=D(4826),P=D(1955),O=D(2261),I=D(5188),C=D(7765),T=D(8916);Y.exports=function N(A,V,L){for(var k=-1,H=(V=S(V,A)).length,$=!1;++k<H;){var Q=T(V[k]);if(!($=null!=A&&L(A,Q)))break;A=A[Q]}return $||++k!=H?$:!!(H=null==A?0:A.length)&&C(H)&&I(Q,H)&&(O(A)||P(A))}},3687:Y=>{var T=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");Y.exports=function N(A){return T.test(A)}},5602:(Y,se,D)=>{var S=D(893);Y.exports=function P(){this.__data__=S?S(null):{},this.size=0}},1499:Y=>{Y.exports=function se(D){var S=this.has(D)&&delete this.__data__[D];return this.size-=S?1:0,S}},2990:(Y,se,D)=>{var S=D(893),I=Object.prototype.hasOwnProperty;Y.exports=function C(T){var N=this.__data__;if(S){var A=N[T];return"__lodash_hash_undefined__"===A?void 0:A}return I.call(N,T)?N[T]:void 0}},480:(Y,se,D)=>{var S=D(893),O=Object.prototype.hasOwnProperty;Y.exports=function I(C){var T=this.__data__;return S?void 0!==T[C]:O.call(T,C)}},4469:(Y,se,D)=>{var S=D(893);Y.exports=function O(I,C){var T=this.__data__;return this.size+=this.has(I)?0:1,T[I]=S&&void 0===C?"__lodash_hash_undefined__":C,this}},9431:Y=>{var D=Object.prototype.hasOwnProperty;Y.exports=function S(P){var O=P.length,I=new P.constructor(O);return O&&"string"==typeof P[0]&&D.call(P,"index")&&(I.index=P.index,I.input=P.input),I}},514:(Y,se,D)=>{var S=D(2355),P=D(6693),O=D(497),I=D(3330),C=D(2501);Y.exports=function me(_e,Te,De){var ze=_e.constructor;switch(Te){case"[object ArrayBuffer]":return S(_e);case"[object Boolean]":case"[object Date]":return new ze(+_e);case"[object DataView]":return P(_e,De);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return C(_e,De);case"[object Map]":case"[object Set]":return new ze;case"[object Number]":case"[object String]":return new ze(_e);case"[object RegExp]":return O(_e);case"[object Symbol]":return I(_e)}}},9225:(Y,se,D)=>{var S=D(1391),P=D(6186),O=D(6587);Y.exports=function I(C){return"function"!=typeof C.constructor||O(C)?{}:S(P(C))}},2241:(Y,se,D)=>{var S=D(1763),P=D(1955),O=D(2261),I=S?S.isConcatSpreadable:void 0;Y.exports=function C(T){return O(T)||P(T)||!!(I&&T&&T[I])}},5188:Y=>{var D=/^(?:0|[1-9]\d*)$/;Y.exports=function S(P,O){var I=typeof P;return!!(O=O??9007199254740991)&&("number"==I||"symbol"!=I&&D.test(P))&&P>-1&&P%1==0&&P<O}},3817:(Y,se,D)=>{var S=D(7826),P=D(2447),O=D(5188),I=D(9794);Y.exports=function C(T,N,A){if(!I(A))return!1;var V=typeof N;return!!("number"==V?P(A)&&O(N,A.length):"string"==V&&N in A)&&S(A[N],T)}},6300:(Y,se,D)=>{var S=D(2261),P=D(3423),O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I=/^\w*$/;Y.exports=function C(T,N){if(S(T))return!1;var A=typeof T;return!("number"!=A&&"symbol"!=A&&"boolean"!=A&&null!=T&&!P(T))||I.test(T)||!O.test(T)||null!=N&&T in Object(N)}},29:Y=>{Y.exports=function se(D){var S=typeof D;return"string"==S||"number"==S||"symbol"==S||"boolean"==S?"__proto__"!==D:null===D}},9950:(Y,se,D)=>{var I,S=D(6189),P=(I=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"";Y.exports=function O(I){return!!P&&P in I}},6587:Y=>{var se=Object.prototype;Y.exports=function D(S){var P=S&&S.constructor;return S===("function"==typeof P&&P.prototype||se)}},3921:(Y,se,D)=>{var S=D(9794);Y.exports=function P(O){return O==O&&!S(O)}},9365:Y=>{Y.exports=function se(){this.__data__=[],this.size=0}},9343:(Y,se,D)=>{var S=D(4056),O=Array.prototype.splice;Y.exports=function I(C){var T=this.__data__,N=S(T,C);return!(N<0||(N==T.length-1?T.pop():O.call(T,N,1),--this.size,0))}},4779:(Y,se,D)=>{var S=D(4056);Y.exports=function P(O){var I=this.__data__,C=S(I,O);return C<0?void 0:I[C][1]}},1509:(Y,se,D)=>{var S=D(4056);Y.exports=function P(O){return S(this.__data__,O)>-1}},7137:(Y,se,D)=>{var S=D(4056);Y.exports=function P(O,I){var C=this.__data__,T=S(C,O);return T<0?(++this.size,C.push([O,I])):C[T][1]=I,this}},3413:(Y,se,D)=>{var S=D(9618),P=D(3597),O=D(1136);Y.exports=function I(){this.size=0,this.__data__={hash:new S,map:new(O||P),string:new S}}},5419:(Y,se,D)=>{var S=D(4113);Y.exports=function P(O){var I=S(this,O).delete(O);return this.size-=I?1:0,I}},7336:(Y,se,D)=>{var S=D(4113);Y.exports=function P(O){return S(this,O).get(O)}},1115:(Y,se,D)=>{var S=D(4113);Y.exports=function P(O){return S(this,O).has(O)}},6648:(Y,se,D)=>{var S=D(4113);Y.exports=function P(O,I){var C=S(this,O),T=C.size;return C.set(O,I),this.size+=C.size==T?0:1,this}},1575:Y=>{Y.exports=function se(D){var S=-1,P=Array(D.size);return D.forEach(function(O,I){P[++S]=[I,O]}),P}},2265:Y=>{Y.exports=function se(D,S){return function(P){return null!=P&&P[D]===S&&(void 0!==S||D in Object(P))}}},7371:(Y,se,D)=>{var S=D(7659);Y.exports=function O(I){var C=S(I,function(N){return 500===T.size&&T.clear(),N}),T=C.cache;return C}},893:(Y,se,D)=>{var P=D(8745)(Object,"create");Y.exports=P},366:(Y,se,D)=>{var P=D(3106)(Object.keys,Object);Y.exports=P},8981:Y=>{Y.exports=function se(D){var S=[];if(null!=D)for(var P in Object(D))S.push(P);return S}},8849:(Y,se,D)=>{Y=D.nmd(Y);var S=D(248),P=se&&!se.nodeType&&se,O=P&&Y&&!Y.nodeType&&Y,C=O&&O.exports===P&&S.process,T=function(){try{return O&&O.require&&O.require("util").types||C&&C.binding&&C.binding("util")}catch{}}();Y.exports=T},9243:Y=>{var D=Object.prototype.toString;Y.exports=function S(P){return D.call(P)}},3106:Y=>{Y.exports=function se(D,S){return function(P){return D(S(P))}}},2394:(Y,se,D)=>{var S=D(7910),P=Math.max;Y.exports=function O(I,C,T){return C=P(void 0===C?I.length-1:C,0),function(){for(var N=arguments,A=-1,V=P(N.length-C,0),L=Array(V);++A<V;)L[A]=N[C+A];A=-1;for(var k=Array(C+1);++A<C;)k[A]=N[A];return k[C]=T(L),S(I,this,k)}}},8492:(Y,se,D)=>{var S=D(248),P="object"==typeof self&&self&&self.Object===Object&&self,O=S||P||Function("return this")();Y.exports=O},7524:Y=>{Y.exports=function se(D,S){if(("constructor"!==S||"function"!=typeof D[S])&&"__proto__"!=S)return D[S]}},6151:Y=>{Y.exports=function D(S){return this.__data__.set(S,"__lodash_hash_undefined__"),this}},2154:Y=>{Y.exports=function se(D){return this.__data__.has(D)}},8e3:Y=>{Y.exports=function se(D){var S=-1,P=Array(D.size);return D.forEach(function(O){P[++S]=O}),P}},6814:(Y,se,D)=>{var S=D(8235),O=D(9531)(S);Y.exports=O},9531:Y=>{var S=Date.now;Y.exports=function P(O){var I=0,C=0;return function(){var T=S(),N=16-(T-C);if(C=T,N>0){if(++I>=800)return arguments[0]}else I=0;return O.apply(void 0,arguments)}}},9488:(Y,se,D)=>{var S=D(3597);Y.exports=function P(){this.__data__=new S,this.size=0}},5943:Y=>{Y.exports=function se(D){var S=this.__data__,P=S.delete(D);return this.size=S.size,P}},5456:Y=>{Y.exports=function se(D){return this.__data__.get(D)}},4793:Y=>{Y.exports=function se(D){return this.__data__.has(D)}},8689:(Y,se,D)=>{var S=D(3597),P=D(1136),O=D(1811);Y.exports=function C(T,N){var A=this.__data__;if(A instanceof S){var V=A.__data__;if(!P||V.length<199)return V.push([T,N]),this.size=++A.size,this;A=this.__data__=new O(V)}return A.set(T,N),this.size=A.size,this}},2528:Y=>{Y.exports=function se(D,S,P){for(var O=P-1,I=D.length;++O<I;)if(D[O]===S)return O;return-1}},7339:(Y,se,D)=>{var S=D(6181),P=D(3687),O=D(9164);Y.exports=function I(C){return P(C)?O(C):S(C)}},163:(Y,se,D)=>{var S=D(7371),P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,O=/\\(\\)?/g,I=S(function(C){var T=[];return 46===C.charCodeAt(0)&&T.push(""),C.replace(P,function(N,A,V,L){T.push(V?L.replace(O,"$1"):A||N)}),T});Y.exports=I},8916:(Y,se,D)=>{var S=D(3423);Y.exports=function O(I){if("string"==typeof I||S(I))return I;var C=I+"";return"0"==C&&1/I==-1/0?"-0":C}},7075:Y=>{var D=Function.prototype.toString;Y.exports=function S(P){if(null!=P){try{return D.call(P)}catch{}try{return P+""}catch{}}return""}},1781:Y=>{var se=/\s/;Y.exports=function D(S){for(var P=S.length;P--&&se.test(S.charAt(P)););return P}},9164:Y=>{var se="\\ud800-\\udfff",C="["+se+"]",T="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",N="\\ud83c[\\udffb-\\udfff]",V="[^"+se+"]",L="(?:\\ud83c[\\udde6-\\uddff]){2}",k="[\\ud800-\\udbff][\\udc00-\\udfff]",$="(?:"+T+"|"+N+")?",Q="[\\ufe0e\\ufe0f]?",ne=Q+$+"(?:\\u200d(?:"+[V,L,k].join("|")+")"+Q+$+")*",le="(?:"+[V+T+"?",T,L,k,C].join("|")+")",ae=RegExp(N+"(?="+N+")|"+le+ne,"g");Y.exports=function de(te){for(var pe=ae.lastIndex=0;ae.test(te);)++pe;return pe}},8734:(Y,se,D)=>{var S=D(1320);Y.exports=function O(I){return S(I,4)}},4451:(Y,se,D)=>{var S=D(1320);Y.exports=function I(C){return S(C,5)}},1075:Y=>{Y.exports=function se(D){return function(){return D}}},4430:(Y,se,D)=>{var S=D(9794),P=D(5533),O=D(4282),C=Math.max,T=Math.min;Y.exports=function N(A,V,L){var k,H,$,Q,ue,ne,le=0,ae=!1,de=!1,te=!0;if("function"!=typeof A)throw new TypeError("Expected a function");function pe(Be){var at=k,ft=H;return k=H=void 0,le=Be,Q=A.apply(ft,at)}function ie(Be){var at=Be-ne;return void 0===ne||at>=V||at<0||de&&Be-le>=$}function me(){var Be=P();if(ie(Be))return _e(Be);ue=setTimeout(me,function oe(Be){var Ye=V-(Be-ne);return de?T(Ye,$-(Be-le)):Ye}(Be))}function _e(Be){return ue=void 0,te&&k?pe(Be):(k=H=void 0,Q)}function ze(){var Be=P(),at=ie(Be);if(k=arguments,H=this,ne=Be,at){if(void 0===ue)return function Z(Be){return le=Be,ue=setTimeout(me,V),ae?pe(Be):Q}(ne);if(de)return clearTimeout(ue),ue=setTimeout(me,V),pe(ne)}return void 0===ue&&(ue=setTimeout(me,V)),Q}return V=O(V)||0,S(L)&&(ae=!!L.leading,$=(de="maxWait"in L)?C(O(L.maxWait)||0,V):$,te="trailing"in L?!!L.trailing:te),ze.cancel=function Te(){void 0!==ue&&clearTimeout(ue),le=0,k=ne=H=ue=void 0},ze.flush=function De(){return void 0===ue?Q:_e(P())},ze}},5433:(Y,se,D)=>{var S=D(8951),P=D(7826),O=D(3817),I=D(6402),C=Object.prototype,T=C.hasOwnProperty,N=S(function(A,V){A=Object(A);var L=-1,k=V.length,H=k>2?V[2]:void 0;for(H&&O(V[0],V[1],H)&&(k=1);++L<k;)for(var $=V[L],Q=I($),ue=-1,ne=Q.length;++ue<ne;){var le=Q[ue],ae=A[le];(void 0===ae||P(ae,C[le])&&!T.call(A,le))&&(A[le]=$[le])}return A});Y.exports=N},6488:(Y,se,D)=>{Y.exports=D(7170)},7826:Y=>{Y.exports=function se(D,S){return D===S||D!=D&&S!=S}},7661:(Y,se,D)=>{var S=D(2134),P=D(1892),O=D(1627),I=D(2261);Y.exports=function C(T,N){return(I(T)?S:P)(T,O(N,3))}},6177:(Y,se,D)=>{var O=D(6738)(D(1904));Y.exports=O},1904:(Y,se,D)=>{var S=D(4051),P=D(1627),O=D(481),I=Math.max;Y.exports=function C(T,N,A){var V=null==T?0:T.length;if(!V)return-1;var L=null==A?0:O(A);return L<0&&(L=I(V+L,0)),S(T,P(N,3),L)}},9336:(Y,se,D)=>{var S=D(1883);Y.exports=function P(O){return null!=O&&O.length?S(O,1):[]}},7170:(Y,se,D)=>{var S=D(7772),P=D(5103),O=D(4655),I=D(2261);Y.exports=function C(T,N){return(I(T)?S:P)(T,O(N))}},1658:(Y,se,D)=>{var S=D(6483),P=D(4655),O=D(6402);Y.exports=function I(C,T){return null==C?C:S(C,P(T),O)}},5440:(Y,se,D)=>{var S=D(2202);Y.exports=function P(O,I,C){var T=null==O?void 0:S(O,I);return void 0===T?C:T}},8669:(Y,se,D)=>{var S=D(4493),P=D(4583);Y.exports=function O(I,C){return null!=I&&P(I,C,S)}},2494:(Y,se,D)=>{var S=D(3274),P=D(4583);Y.exports=function O(I,C){return null!=I&&P(I,C,S)}},5657:Y=>{Y.exports=function se(D){return D}},1955:(Y,se,D)=>{var S=D(3022),P=D(3714),O=Object.prototype,I=O.hasOwnProperty,C=O.propertyIsEnumerable,T=S(function(){return arguments}())?S:function(N){return P(N)&&I.call(N,"callee")&&!C.call(N,"callee")};Y.exports=T},2261:Y=>{Y.exports=Array.isArray},2447:(Y,se,D)=>{var S=D(6861),P=D(7765);Y.exports=function O(I){return null!=I&&P(I.length)&&!S(I)}},3471:(Y,se,D)=>{var S=D(2447),P=D(3714);Y.exports=function O(I){return P(I)&&S(I)}},7525:(Y,se,D)=>{Y=D.nmd(Y);var S=D(8492),P=D(5706),O=se&&!se.nodeType&&se,I=O&&Y&&!Y.nodeType&&Y,T=I&&I.exports===O?S.Buffer:void 0;Y.exports=(T?T.isBuffer:void 0)||P},5350:(Y,se,D)=>{var S=D(190),P=D(2472),O=D(1955),I=D(2261),C=D(2447),T=D(7525),N=D(6587),A=D(4868),H=Object.prototype.hasOwnProperty;Y.exports=function $(Q){if(null==Q)return!0;if(C(Q)&&(I(Q)||"string"==typeof Q||"function"==typeof Q.splice||T(Q)||A(Q)||O(Q)))return!Q.length;var ue=P(Q);if("[object Map]"==ue||"[object Set]"==ue)return!Q.size;if(N(Q))return!S(Q).length;for(var ne in Q)if(H.call(Q,ne))return!1;return!0}},6861:(Y,se,D)=>{var S=D(4590),P=D(9794);Y.exports=function N(A){if(!P(A))return!1;var V=S(A);return"[object Function]"==V||"[object GeneratorFunction]"==V||"[object AsyncFunction]"==V||"[object Proxy]"==V}},7765:Y=>{Y.exports=function D(S){return"number"==typeof S&&S>-1&&S%1==0&&S<=9007199254740991}},990:(Y,se,D)=>{var S=D(8562),P=D(5249),O=D(8849),I=O&&O.isMap,C=I?P(I):S;Y.exports=C},9794:Y=>{Y.exports=function se(D){var S=typeof D;return null!=D&&("object"==S||"function"==S)}},3714:Y=>{Y.exports=function se(D){return null!=D&&"object"==typeof D}},8168:(Y,se,D)=>{var S=D(4590),P=D(6186),O=D(3714),N=Function.prototype.toString,A=Object.prototype.hasOwnProperty,V=N.call(Object);Y.exports=function L(k){if(!O(k)||"[object Object]"!=S(k))return!1;var H=P(k);if(null===H)return!0;var $=A.call(H,"constructor")&&H.constructor;return"function"==typeof $&&$ instanceof $&&N.call($)==V}},8611:(Y,se,D)=>{var S=D(1202),P=D(5249),O=D(8849),I=O&&O.isSet,C=I?P(I):S;Y.exports=C},2164:(Y,se,D)=>{var S=D(4590),P=D(2261),O=D(3714);Y.exports=function C(T){return"string"==typeof T||!P(T)&&O(T)&&"[object String]"==S(T)}},3423:(Y,se,D)=>{var S=D(4590),P=D(3714);Y.exports=function I(C){return"symbol"==typeof C||P(C)&&"[object Symbol]"==S(C)}},4868:(Y,se,D)=>{var S=D(8902),P=D(5249),O=D(8849),I=O&&O.isTypedArray,C=I?P(I):S;Y.exports=C},8152:Y=>{Y.exports=function se(D){return void 0===D}},4614:(Y,se,D)=>{var S=D(1384),P=D(190),O=D(2447);Y.exports=function I(C){return O(C)?S(C):P(C)}},6402:(Y,se,D)=>{var S=D(1384),P=D(7673),O=D(2447);Y.exports=function I(C){return O(C)?S(C,!0):P(C)}},2819:Y=>{Y.exports=function se(D){var S=null==D?0:D.length;return S?D[S-1]:void 0}},8921:(Y,se,D)=>{var S=D(3880),P=D(1627),O=D(2839),I=D(2261);Y.exports=function C(T,N){return(I(T)?S:O)(T,P(N,3))}},6054:(Y,se,D)=>{var S=D(1741),P=D(7794),O=D(1627);Y.exports=function I(C,T){var N={};return T=O(T,3),P(C,function(A,V,L){S(N,V,T(A,V,L))}),N}},5664:(Y,se,D)=>{var S=D(4530),P=D(8444),O=D(5657);Y.exports=function I(C){return C&&C.length?S(C,O,P):void 0}},7659:(Y,se,D)=>{var S=D(1811);function O(I,C){if("function"!=typeof I||null!=C&&"function"!=typeof C)throw new TypeError("Expected a function");var T=function(){var N=arguments,A=C?C.apply(this,N):N[0],V=T.cache;if(V.has(A))return V.get(A);var L=I.apply(this,N);return T.cache=V.set(A,L)||V,L};return T.cache=new(O.Cache||S),T}O.Cache=S,Y.exports=O},2213:(Y,se,D)=>{var S=D(3294),O=D(1300)(function(I,C,T){S(I,C,T)});Y.exports=O},1007:(Y,se,D)=>{var S=D(4530),P=D(8898),O=D(5657);Y.exports=function I(C){return C&&C.length?S(C,O,P):void 0}},50:(Y,se,D)=>{var S=D(4530),P=D(1627),O=D(8898);Y.exports=function I(C,T){return C&&C.length?S(C,P(T,2),O):void 0}},4249:Y=>{Y.exports=function se(){}},5533:(Y,se,D)=>{var S=D(8492);Y.exports=function(){return S.Date.now()}},7607:(Y,se,D)=>{var S=D(2784),O=D(6801)(function(I,C){return null==I?{}:S(I,C)});Y.exports=O},2692:(Y,se,D)=>{var S=D(3400),P=D(6443),O=D(6300),I=D(8916);Y.exports=function C(T){return O(T)?S(I(T)):P(T)}},5953:(Y,se,D)=>{var P=D(4222)();Y.exports=P},5909:(Y,se,D)=>{var S=D(9850),P=D(5103),O=D(1627),I=D(8978),C=D(2261);Y.exports=function T(N,A,V){var L=C(N)?S:I,k=arguments.length<3;return L(N,O(A,4),V,k,P)}},7939:(Y,se,D)=>{var S=D(9478);Y.exports=function P(O,I,C){return null==O?O:S(O,I,C)}},5741:(Y,se,D)=>{var S=D(190),P=D(2472),O=D(2447),I=D(2164),C=D(7339);Y.exports=function A(V){if(null==V)return 0;if(O(V))return I(V)?C(V):V.length;var L=P(V);return"[object Map]"==L||"[object Set]"==L?V.size:S(V).length}},7184:(Y,se,D)=>{var S=D(1883),P=D(252),O=D(8951),I=D(3817),C=O(function(T,N){if(null==T)return[];var A=N.length;return A>1&&I(T,N[0],N[1])?N=[]:A>2&&I(N[0],N[1],N[2])&&(N=[N[0]]),P(T,S(N,1),[])});Y.exports=C},1315:Y=>{Y.exports=function se(){return[]}},5706:Y=>{Y.exports=function se(){return!1}},9292:(Y,se,D)=>{var S=D(4282),P=1/0;Y.exports=function I(C){return C?(C=S(C))===P||C===-P?17976931348623157e292*(C<0?-1:1):C==C?C:0:0===C?C:0}},481:(Y,se,D)=>{var S=D(9292);Y.exports=function P(O){var I=S(O),C=I%1;return I==I?C?I-C:I:0}},4282:(Y,se,D)=>{var S=D(9484),P=D(9794),O=D(3423),C=/^[-+]0x[0-9a-f]+$/i,T=/^0b[01]+$/i,N=/^0o[0-7]+$/i,A=parseInt;Y.exports=function V(L){if("number"==typeof L)return L;if(O(L))return NaN;if(P(L)){var k="function"==typeof L.valueOf?L.valueOf():L;L=P(k)?k+"":k}if("string"!=typeof L)return 0===L?L:+L;L=S(L);var H=T.test(L);return H||N.test(L)?A(L.slice(2),H?2:8):C.test(L)?NaN:+L}},9078:(Y,se,D)=>{var S=D(3880),P=D(4231),O=D(2261),I=D(3423),C=D(163),T=D(8916),N=D(2674);Y.exports=function A(V){return O(V)?S(V,T):I(V)?[V]:P(C(N(V)))}},4210:(Y,se,D)=>{var S=D(5931),P=D(6402);Y.exports=function O(I){return S(I,P(I))}},2674:(Y,se,D)=>{var S=D(7002);Y.exports=function P(O){return null==O?"":S(O)}},6893:(Y,se,D)=>{var S=D(7772),P=D(1391),O=D(7794),I=D(1627),C=D(6186),T=D(2261),N=D(7525),A=D(6861),V=D(9794),L=D(4868);Y.exports=function k(H,$,Q){var ue=T(H),ne=ue||N(H)||L(H);if($=I($,4),null==Q){var le=H&&H.constructor;Q=ne?ue?new le:[]:V(H)&&A(le)?P(C(H)):{}}return(ne?S:O)(H,function(ae,de,te){return $(Q,ae,de,te)}),Q}},2480:(Y,se,D)=>{var S=D(1883),P=D(8951),O=D(9154),I=D(3471),C=P(function(T){return O(S(T,1,I,!0))});Y.exports=C},4538:(Y,se,D)=>{var S=D(2674),P=0;Y.exports=function O(I){var C=++P;return S(I)+C}},8808:(Y,se,D)=>{var S=D(6680),P=D(4614);Y.exports=function O(I){return null==I?[]:S(I,P(I))}},4606:(Y,se,D)=>{var S=D(9553),P=D(2255);Y.exports=function O(I,C){return P(I||[],C||[],S)}}},Y=>{Y(Y.s=2523)}]);
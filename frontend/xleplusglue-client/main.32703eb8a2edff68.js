(self.webpackChunkgswb_client=self.webpackChunkgswb_client||[]).push([[179],{2589:(Y,se,D)=>{"use strict";function T(t){return"function"==typeof t}function P(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const N=P(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function I(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class C{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(T(r))try{r()}catch(s){n=s instanceof N?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{A(s)}catch(c){n=n??[],c instanceof N?n=[...n,...c.errors]:n.push(c)}}if(n)throw new N(n)}}add(n){var e;if(n&&n!==this)if(this.closed)A(n);else{if(n instanceof C){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&I(e,n)}remove(n){const{_finalizers:e}=this;e&&I(e,n),n instanceof C&&n._removeParent(this)}}C.EMPTY=(()=>{const t=new C;return t.closed=!0,t})();const S=C.EMPTY;function R(t){return t instanceof C||t&&"closed"in t&&T(t.remove)&&T(t.add)&&T(t.unsubscribe)}function A(t){T(t)?t():t.unsubscribe()}const V={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},L={setTimeout(t,n,...e){const{delegate:r}=L;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=L;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function k(t){L.setTimeout(()=>{const{onUnhandledError:n}=V;if(!n)throw t;n(t)})}function H(){}const $=ne("C",void 0,void 0);function ne(t,n,e){return{kind:t,value:n,error:e}}let le=null;function ae(t){if(V.useDeprecatedSynchronousErrorHandling){const n=!le;if(n&&(le={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=le;if(le=null,e)throw r}}else t()}class te extends C{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,R(n)&&n.add(this)):this.destination=De}static create(n,e,r){return new ie(n,e,r)}next(n){this.isStopped?Se(function ue(t){return ne("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Se(function Q(t){return ne("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Se($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pe=Function.prototype.bind;function q(t,n){return pe.call(t,n)}class oe{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){me(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){me(r)}else me(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){me(e)}}}class ie extends te{constructor(n,e,r){let i;if(super(),T(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let s;this&&V.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&q(n.next,s),error:n.error&&q(n.error,s),complete:n.complete&&q(n.complete,s)}):i=n}this.destination=new oe(i)}}function me(t){V.useDeprecatedSynchronousErrorHandling?function de(t){V.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=t)}(t):k(t)}function Se(t,n){const{onStoppedNotification:e}=V;e&&L.setTimeout(()=>e(t,n))}const De={closed:!0,next:H,error:function we(t){throw t},complete:H},ze="function"==typeof Symbol&&Symbol.observable||"@@observable";function Be(t){return t}function ht(t){return 0===t.length?Be:1===t.length?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}let Ze=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){const s=function Zt(t){return t&&t instanceof te||function Qe(t){return t&&T(t.next)&&T(t.error)&&T(t.complete)}(t)&&R(t)}(e)?e:new ie(e,r,i);return ae(()=>{const{operator:c,source:m}=this;s.add(c?c.call(s,m):m?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Ct(r))((i,s)=>{const c=new ie({next:m=>{try{e(m)}catch(_){s(_),c.unsubscribe()}},error:s,complete:i});this.subscribe(c)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[ze](){return this}pipe(...e){return ht(e)(this)}toPromise(e){return new(e=Ct(e))((r,i)=>{let s;this.subscribe(c=>s=c,c=>i(c),()=>r(s))})}}return t.create=n=>new t(n),t})();function Ct(t){var n;return null!==(n=t??V.Promise)&&void 0!==n?n:Promise}const zt=P(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let It=(()=>{class t extends Ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new bn(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new zt}next(e){ae(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){ae(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){ae(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:s}=this;return r||i?S:(this.currentObservers=null,s.push(e),new C(()=>{this.currentObservers=null,I(s,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:s}=this;r?e.error(i):s&&e.complete()}asObservable(){const e=new Ze;return e.source=this,e}}return t.create=(n,e)=>new bn(n,e),t})();class bn extends It{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:S}}class hn extends It{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function ut(t){return T(t?.lift)}function it(t){return n=>{if(ut(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pt(t,n,e,r,i){return new Ft(t,n,e,r,i)}class Ft extends te{constructor(n,e,r,i,s,c){super(n),this.onFinalize=s,this.shouldUnsubscribe=c,this._next=e?function(m){try{e(m)}catch(_){n.error(_)}}:super._next,this._error=i?function(m){try{i(m)}catch(_){n.error(_)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(m){n.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function St(t,n){return it((e,r)=>{let i=0;e.subscribe(pt(r,s=>{r.next(t.call(n,s,i++))}))})}function Ko(t){return this instanceof Ko?(this.v=t,this):new Ko(t)}function Os(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Ya(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(s){e[s]=t[s]&&function(c){return new Promise(function(m,_){!function i(s,c,m,_){Promise.resolve(_).then(function(O){s({value:O,done:m})},c)}(m,_,(c=t[s](c)).done,c.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Oa=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Js(t){return T(t?.then)}function id(t){return T(t[ze])}function us(t){return Symbol.asyncIterator&&T(t?.[Symbol.asyncIterator])}function Na(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const cs=function ph(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function od(t){return T(t?.[cs])}function _u(t){return function pl(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(t,n||[]),s=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(ge){r[ge]&&(i[ge]=function(ve){return new Promise(function(Me,Fe){s.push([ge,ve,Me,Fe])>1||m(ge,ve)})})}function m(ge,ve){try{!function _(ge){ge.value instanceof Ko?Promise.resolve(ge.value.v).then(O,U):K(s[0][2],ge)}(r[ge](ve))}catch(Me){K(s[0][3],Me)}}function O(ge){m("next",ge)}function U(ge){m("throw",ge)}function K(ge,ve){ge(ve),s.shift(),s.length&&m(s[0][0],s[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:i}=yield Ko(e.read());if(i)return yield Ko(void 0);yield yield Ko(r)}}finally{e.releaseLock()}})}function ic(t){return T(t?.getReader)}function Ro(t){if(t instanceof Ze)return t;if(null!=t){if(id(t))return function ad(t){return new Ze(n=>{const e=t[ze]();if(T(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Oa(t))return function oc(t){return new Ze(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(Js(t))return function ac(t){return new Ze(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,k)})}(t);if(us(t))return sc(t);if(od(t))return function Ns(t){return new Ze(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(ic(t))return function sd(t){return sc(_u(t))}(t)}throw Na(t)}function sc(t){return new Ze(n=>{(function oi(t,n){var e,r,i,s;return function Fi(t,n,e,r){return new(e||(e=Promise))(function(s,c){function m(U){try{O(r.next(U))}catch(K){c(K)}}function _(U){try{O(r.throw(U))}catch(K){c(K)}}function O(U){U.done?s(U.value):function i(s){return s instanceof e?s:new e(function(c){c(s)})}(U.value).then(m,_)}O((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Os(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(c){i={error:c}}finally{try{r&&!r.done&&(s=e.return)&&(yield s.call(e))}finally{if(i)throw i.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Ra(t,n,e,r=0,i=!1){const s=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Zi(t,n,e=1/0){return T(n)?Zi((r,i)=>St((s,c)=>n(r,s,i,c))(Ro(t(r,i))),e):("number"==typeof n&&(e=n),it((r,i)=>function Ir(t,n,e,r,i,s,c,m){const _=[];let O=0,U=0,K=!1;const ge=()=>{K&&!_.length&&!O&&n.complete()},ve=Fe=>O<r?Me(Fe):_.push(Fe),Me=Fe=>{s&&n.next(Fe),O++;let Xe=!1;Ro(e(Fe,U++)).subscribe(pt(n,ct=>{i?.(ct),s?ve(ct):n.next(ct)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(O--;_.length&&O<r;){const ct=_.shift();c?Ra(n,c,()=>Me(ct)):Me(ct)}ge()}catch(ct){n.error(ct)}}))};return t.subscribe(pt(n,ve,()=>{K=!0,ge()})),()=>{m?.()}}(r,i,t,e)))}function ki(t=1/0){return Zi(Be,t)}const qo=new Ze(t=>t.complete());function Tn(t){return t&&T(t.schedule)}function ui(t){return t[t.length-1]}function Ka(t){return T(ui(t))?t.pop():void 0}function ko(t){return Tn(ui(t))?t.pop():void 0}function Qi(t,n=0){return it((e,r)=>{e.subscribe(pt(r,i=>Ra(r,t,()=>r.next(i),n),()=>Ra(r,t,()=>r.complete(),n),i=>Ra(r,t,()=>r.error(i),n)))})}function Po(t,n=0){return it((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function Rs(t,n){if(!t)throw new Error("Iterable cannot be null");return new Ze(e=>{Ra(e,n,()=>{const r=t[Symbol.asyncIterator]();Ra(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Ve(t,n){return n?function Re(t,n){if(null!=t){if(id(t))return function ld(t,n){return Ro(t).pipe(Po(n),Qi(n))}(t,n);if(Oa(t))return function Yn(t,n){return new Ze(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(Js(t))return function Tt(t,n){return Ro(t).pipe(Po(n),Qi(n))}(t,n);if(us(t))return Rs(t,n);if(od(t))return function ud(t,n){return new Ze(e=>{let r;return Ra(e,n,()=>{r=t[cs](),Ra(e,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(c){return void e.error(c)}s?e.complete():e.next(i)},0,!0)}),()=>T(r?.return)&&r.return()})}(t,n);if(ic(t))return function Oe(t,n){return Rs(_u(t),n)}(t,n)}throw Na(t)}(t,n):Ro(t)}function rt(...t){const n=ko(t),e=function Fr(t,n){return"number"==typeof ui(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?Ro(r[0]):ki(e)(Ve(r,n)):qo}function tt(...t){return Ve(t,ko(t))}function Qt(t={}){const{connector:n=(()=>new It),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let c,m,_,O=0,U=!1,K=!1;const ge=()=>{m?.unsubscribe(),m=void 0},ve=()=>{ge(),c=_=void 0,U=K=!1},Me=()=>{const Fe=c;ve(),Fe?.unsubscribe()};return it((Fe,Xe)=>{O++,!K&&!U&&ge();const ct=_=_??n();Xe.add(()=>{O--,0===O&&!K&&!U&&(m=yn(Me,i))}),ct.subscribe(Xe),!c&&O>0&&(c=new ie({next:qe=>ct.next(qe),error:qe=>{K=!0,ge(),m=yn(ve,e,qe),ct.error(qe)},complete:()=>{U=!0,ge(),m=yn(ve,r),ct.complete()}}),Ro(Fe).subscribe(c))})(s)}}function yn(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new ie({next:()=>{r.unsubscribe(),t()}});return Ro(n(...e)).subscribe(r)}function Ht(t,n){return it((e,r)=>{let i=null,s=0,c=!1;const m=()=>c&&!i&&r.complete();e.subscribe(pt(r,_=>{i?.unsubscribe();let O=0;const U=s++;Ro(t(_,U)).subscribe(i=pt(r,K=>r.next(n?n(_,K,U,O++):K),()=>{i=null,m()}))},()=>{c=!0,m()}))})}function tn(t,n=Be){return t=t??Un,it((e,r)=>{let i,s=!0;e.subscribe(pt(r,c=>{const m=n(c);(s||!t(i,m))&&(s=!1,i=m,r.next(c))}))})}function Un(t,n){return t===n}function Vt(t){for(let n in t)if(t[n]===Vt)return n;throw Error("Could not find renamed property on target object.")}function Rr(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function er(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(er).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function or(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ai=Vt({__forward_ref__:Vt});function On(t){return t.__forward_ref__=On,t.toString=function(){return er(this())},t}function on(t){return Br(t)?t():t}function Br(t){return"function"==typeof t&&t.hasOwnProperty(ai)&&t.__forward_ref__===On}function mi(t){return t&&!!t.\u0275providers}const vr="https://g.co/ng/security#xss";class et extends Error{constructor(n,e){super(function Vr(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function _n(t){return"string"==typeof t?t:null==t?"":String(t)}function zi(t,n){throw new et(-201,!1)}function io(t,n){null==t&&function tr(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function an(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ei(t){return{providers:t.providers||[],imports:t.imports||[]}}function Pa(t){return wu(t,La)||wu(t,jl)}function wu(t,n){return t.hasOwnProperty(n)?t[n]:null}function Zo(t){return t&&(t.hasOwnProperty(Ps)||t.hasOwnProperty(dc))?t[Ps]:null}const La=Vt({\u0275prov:Vt}),Ps=Vt({\u0275inj:Vt}),jl=Vt({ngInjectableDef:Vt}),dc=Vt({ngInjectorDef:Vt});var Vn=(()=>((Vn=Vn||{})[Vn.Default=0]="Default",Vn[Vn.Host=1]="Host",Vn[Vn.Self=2]="Self",Vn[Vn.SkipSelf=4]="SkipSelf",Vn[Vn.Optional=8]="Optional",Vn))();let Za;function yo(t){const n=Za;return Za=t,n}function ds(t,n,e){const r=Pa(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Vn.Optional?null:void 0!==n?n:void zi(er(t))}const vi=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Cu={},xu="__NG_DI_FLAG__",hc="ngTempTokenPath",bo=/\n/gm,mh="__source";let nl;function Fa(t){const n=nl;return nl=t,n}function kp(t,n=Vn.Default){if(void 0===nl)throw new et(-203,!1);return null===nl?ds(t,void 0,n):nl.get(t,n&Vn.Optional?null:void 0,n)}function Pt(t,n=Vn.Default){return(function vl(){return Za}()||kp)(on(t),n)}function nn(t,n=Vn.Default){return Pt(t,yf(n))}function yf(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function bf(t){const n=[];for(let e=0;e<t.length;e++){const r=on(t[e]);if(Array.isArray(r)){if(0===r.length)throw new et(900,!1);let i,s=Vn.Default;for(let c=0;c<r.length;c++){const m=r[c],_=pm(m);"number"==typeof _?-1===_?i=m.token:s|=_:i=m}n.push(Pt(i,s))}else n.push(Pt(r))}return n}function gc(t,n){return t[xu]=n,t.prototype[xu]=n,t}function pm(t){return t[xu]}function fs(t){return{toString:t}.toString()}var hs=(()=>((hs=hs||{})[hs.OnPush=0]="OnPush",hs[hs.Default=1]="Default",hs))(),ba=(()=>{return(t=ba||(ba={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",ba;var t})();const _o={},Dr=[],vc=Vt({\u0275cmp:Vt}),_f=Vt({\u0275dir:Vt}),wf=Vt({\u0275pipe:Vt}),Pp=Vt({\u0275mod:Vt}),Ls=Vt({\u0275fac:Vt}),$l=Vt({__NG_ELEMENT_ID__:Vt}),Yl=Vt({__NG_ENV_ID__:Vt});function Fs(t,n,e){let r=t.length;for(;;){const i=t.indexOf(n,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=n.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}e=i+1}}function Cf(t,n,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const s=e[r++],c=e[r++],m=e[r++];t.setAttribute(n,c,m,s)}else{const s=i,c=e[++r];Du(s)?t.setProperty(n,s,c):t.setAttribute(n,s,c),r++}}return r}function Eu(t){return 3===t||4===t||6===t}function Du(t){return 64===t.charCodeAt(0)}function Xl(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?e=i:0===e||Lp(t,e,i,null,-1===e||2===e?n[++r]:null)}}return t}function Lp(t,n,e,r,i){let s=0,c=t.length;if(-1===n)c=-1;else for(;s<t.length;){const m=t[s++];if("number"==typeof m){if(m===n){c=-1;break}if(m>n){c=s-1;break}}}for(;s<t.length;){const m=t[s];if("number"==typeof m)break;if(m===e){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==c&&(t.splice(c,0,n),s=c+1),t.splice(s++,0,e),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const dd="ng-template";function fd(t,n,e){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const c=t[r++];if(e&&"class"===s&&-1!==Fs(c.toLowerCase(),n,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===n)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Kl(t){return 4===t.type&&t.value!==dd}function yh(t,n,e){return n===(4!==t.type||e?t.value:dd)}function bh(t,n,e){let r=4;const i=t.attrs||[],s=function ps(t){for(let n=0;n<t.length;n++)if(Eu(t[n]))return n;return t.length}(i);let c=!1;for(let m=0;m<n.length;m++){const _=n[m];if("number"!=typeof _){if(!c)if(4&r){if(r=2|1&r,""!==_&&!yh(t,_,e)||""===_&&1===n.length){if(Qa(r))return!1;c=!0}}else{const O=8&r?_:n[++m];if(8&r&&null!==t.attrs){if(!fd(t.attrs,O,e)){if(Qa(r))return!1;c=!0}continue}const K=xf(8&r?"class":_,i,Kl(t),e);if(-1===K){if(Qa(r))return!1;c=!0;continue}if(""!==O){let ge;ge=K>s?"":i[K+1].toLowerCase();const ve=8&r?ge:null;if(ve&&-1!==Fs(ve,O,0)||2&r&&O!==ge){if(Qa(r))return!1;c=!0}}}}else{if(!c&&!Qa(r)&&!Qa(_))return!1;if(c&&Qa(_))continue;c=!1,r=_|1&r}}return Qa(r)||c}function Qa(t){return 0==(1&t)}function xf(t,n,e,r){if(null===n)return-1;let i=0;if(r||!e){let s=!1;for(;i<n.length;){const c=n[i];if(c===t)return i;if(3===c||6===c)s=!0;else{if(1===c||2===c){let m=n[++i];for(;"string"==typeof m;)m=n[++i];continue}if(4===c)break;if(0===c){i+=4;continue}}i+=s?1:2}return-1}return function Fp(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function _h(t,n,e=!1){for(let r=0;r<n.length;r++)if(bh(t,n[r],e))return!0;return!1}function wh(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Ef(t,n){return t?":not("+n.trim()+")":n}function Bp(t){let n=t[0],e=1,r=2,i="",s=!1;for(;e<t.length;){let c=t[e];if("string"==typeof c)if(2&r){const m=t[++e];i+="["+c+(m.length>0?'="'+m+'"':"")+"]"}else 8&r?i+="."+c:4&r&&(i+=" "+c);else""!==i&&!Qa(c)&&(n+=Ef(s,i),i=""),r=c,s=s||!Qa(r);e++}return""!==i&&(n+=Ef(s,i)),n}function cr(t){return fs(()=>{const n=_l(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===hs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ba.Emulated,styles:t.styles||Dr,_:null,schemas:t.schemas||null,tView:null,id:""};yc(e);const r=t.dependencies;return e.directiveDefs=Tf(r,!1),e.pipeDefs=Tf(r,!0),e.id=function pd(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of e)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(e),e})}function mm(t){return Hr(t)||Ui(t)}function Su(t){return null!==t}function ti(t){return fs(()=>({type:t.type,bootstrap:t.bootstrap||Dr,declarations:t.declarations||Dr,imports:t.imports||Dr,exports:t.exports||Dr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Sf(t,n){if(null==t)return _o;const e={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),e[i]=r,n&&(n[i]=s)}return e}function un(t){return fs(()=>{const n=_l(t);return yc(n),n})}function Hr(t){return t[vc]||null}function Ui(t){return t[_f]||null}function oo(t){return t[wf]||null}function so(t,n){const e=t[Pp]||null;if(!e&&!0===n)throw new Error(`Type ${er(t)} does not have '\u0275mod' property.`);return e}function _l(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||_o,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Dr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Sf(t.inputs,n),outputs:Sf(t.outputs)}}function yc(t){t.features?.forEach(n=>n(t))}function Tf(t,n){if(!t)return null;const e=n?oo:mm;return()=>("function"==typeof t?t():t).map(r=>e(r)).filter(Su)}const lo=0,gn=1,Wn=2,Li=3,la=4,bc=5,wo=6,wl=7,yi=8,rl=9,ua=10,qn=11,_c=12,xh=13,Tu=14,Gi=15,gs=16,Ja=17,uo=18,gd=19,md=20,Cl=21,dr=22,vd=23,es=24,mn=25,vn=1,xl=2,Bs=7,Mu=9,si=11;function ts(t){return Array.isArray(t)&&"object"==typeof t[vn]}function Ba(t){return Array.isArray(t)&&!0===t[vn]}function Eh(t){return 0!=(4&t.flags)}function Iu(t){return t.componentOffset>-1}function Mf(t){return 1==(1&t.flags)}function ms(t){return!!t.template}function ca(t){return 0!=(512&t[Wn])}function co(t,n){return t.hasOwnProperty(Ls)?t[Ls]:null}let da=vi.WeakRef??class Yr{constructor(n){this.ref=n}deref(){return this.ref}},vs=0,Vo=null,Dl=!1;function eo(t){const n=Vo;return Vo=t,n}class wc{constructor(){this.id=vs++,this.ref=function wa(t){return new da(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,e]of this.producers){const r=e.producerNode.deref();if(void 0!==r&&e.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(e.seenValueVersion))return!0}else this.producers.delete(n),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=Dl;Dl=!0;try{for(const[e,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(e),i?.producers.delete(this.id))}}finally{Dl=n}}producerAccessed(){if(Dl)throw new Error("");if(null===Vo)return;let n=Vo.producers.get(this.id);void 0===n?(n={consumerNode:Vo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Vo.trackingVersion},Vo.producers.set(this.id,n),this.consumers.set(Vo.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=Vo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Vo?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let Mh=null;const xd=()=>{};class jp extends wc{constructor(n,e,r){super(),this.watch=n,this.schedule=e,this.dirty=!1,this.cleanupFn=xd,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=eo(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=xd,this.watch(this.registerOnCleanup)}finally{eo(n)}}cleanup(){this.cleanupFn()}}class _m{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ca(){return Ih}function Ih(t){return t.type.prototype.ngOnChanges&&(t.setInput=Rf),Dc}function Dc(){const t=Ah(this),n=t?.current;if(n){const e=t.previous;if(e===_o)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function Rf(t,n,e,r){const i=this.declaredInputs[e],s=Ah(t)||function Oh(t,n){return t[Ed]=n}(t,{previous:_o,current:null}),c=s.current||(s.current={}),m=s.previous,_=m[i];c[i]=new _m(_&&_.currentValue,n,m===_o),t[r]=n}Ca.ngInherit=!0;const Ed="__ngSimpleChanges__";function Ah(t){return t[Ed]||null}const Va=function(t,n,e){};function hi(t){for(;Array.isArray(t);)t=t[lo];return t}function Md(t,n){return hi(n[t])}function ji(t,n){return hi(n[t.index])}function kf(t,n){return t.data[n]}function Ha(t,n){const e=n[t];return ts(e)?e:e[lo]}function ol(t,n){return null==n?null:t[n]}function Ar(t){t[Ja]=0}function wm(t){1024&t[Wn]||(t[Wn]|=1024,Tc(t,1))}function eu(t){1024&t[Wn]&&(t[Wn]&=-1025,Tc(t,-1))}function Tc(t,n){let e=t[Li];if(null===e)return;e[bc]+=n;let r=e;for(e=e[Li];null!==e&&(1===n&&1===r[bc]||-1===n&&0===r[bc]);)e[bc]+=n,r=e,e=e[Li]}const Hn={lFrame:Nc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Od(){return Hn.bindingsEnabled}function zo(){return null!==Hn.skipHydrationRootTNode}function Rt(){return Hn.lFrame.lView}function Cr(){return Hn.lFrame.tView}function Ln(t){return Hn.lFrame.contextLView=t,t[yi]}function ni(t){return Hn.lFrame.contextLView=null,t}function Uo(){let t=Ph();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ph(){return Hn.lFrame.currentTNode}function bs(t,n){const e=Hn.lFrame;e.currentTNode=t,e.isParent=n}function Rd(){return Hn.lFrame.isParent}function fo(){Hn.lFrame.isParent=!1}function Wi(){const t=Hn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Hs(){return Hn.lFrame.bindingIndex++}function Go(t){const n=Hn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function al(t,n){const e=Hn.lFrame;e.bindingIndex=e.bindingRootIndex=t,kd(n)}function kd(t){Hn.lFrame.currentDirectiveIndex=t}function Pd(){return Hn.lFrame.currentQueryIndex}function zs(t){Hn.lFrame.currentQueryIndex=t}function Lf(t){const n=t[gn];return 2===n.type?n.declTNode:1===n.type?t[wo]:null}function Oc(t,n,e){if(e&Vn.SkipSelf){let i=n,s=t;for(;!(i=i.parent,null!==i||e&Vn.Host||(i=Lf(s),null===i||(s=s[Tu],10&i.type))););if(null===i)return!1;n=i,t=s}const r=Hn.lFrame=qp();return r.currentTNode=n,r.lView=t,!0}function iu(t){const n=qp(),e=t[gn];Hn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function qp(){const t=Hn.lFrame,n=null===t?null:t.child;return null===n?Nc(t):n}function Nc(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ld(){const t=Hn.lFrame;return Hn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Fd=Ld;function Eo(){const t=Ld();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Do(){return Hn.lFrame.selectedIndex}function is(t){Hn.lFrame.selectedIndex=t}function Ur(){const t=Hn.lFrame;return kf(t.tView,t.selectedIndex)}let jo=!0;function Hd(){return jo}function au(t){jo=t}function _s(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const s=t.data[e].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:m,ngAfterViewInit:_,ngAfterViewChecked:O,ngOnDestroy:U}=s;c&&(t.contentHooks??=[]).push(-e,c),m&&((t.contentHooks??=[]).push(e,m),(t.contentCheckHooks??=[]).push(e,m)),_&&(t.viewHooks??=[]).push(-e,_),O&&((t.viewHooks??=[]).push(e,O),(t.viewCheckHooks??=[]).push(e,O)),null!=U&&(t.destroyHooks??=[]).push(e,U)}}function ws(t,n,e){Zp(t,n,3,e)}function ku(t,n,e,r){(3&t[Wn])===e&&Zp(t,n,e,r)}function Ff(t,n){let e=t[Wn];(3&e)===n&&(e&=8191,e+=1,t[Wn]=e)}function Zp(t,n,e,r){const s=r??-1,c=n.length-1;let m=0;for(let _=void 0!==r?65535&t[Ja]:0;_<c;_++)if("number"==typeof n[_+1]){if(m=n[_],null!=r&&m>=r)break}else n[_]<0&&(t[Ja]+=65536),(m<s||-1==s)&&(Qp(t,e,n,_),t[Ja]=(4294901760&t[Ja])+_+2),_++}function Pu(t,n){Va(4,t,n);const e=eo(null);try{n.call(t)}finally{eo(e),Va(5,t,n)}}function Qp(t,n,e,r){const i=e[r]<0,s=e[r+1],m=t[i?-e[r]:e[r]];i?t[Wn]>>13<t[Ja]>>16&&(3&t[Wn])===n&&(t[Wn]+=8192,Pu(m,s)):Pu(m,s)}const Lu=-1;class Rc{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Fh(t){return t!==Lu}function Fu(t){return 32767&t}function Gd(t,n){let e=function Dm(t){return t>>16}(t),r=n;for(;e>0;)r=r[Tu],e--;return r}let Bh=!0;function li(t){const n=Bh;return Bh=t,n}const jd=255,kc=5;let Us=0;const fa={};function Wd(t,n){const e=Hh(t,n);if(-1!==e)return e;const r=n[gn];r.firstCreatePass&&(t.injectorIndex=n.length,Hf(r.data,t),Hf(n,null),Hf(r.blueprint,null));const i=$d(t,n),s=t.injectorIndex;if(Fh(i)){const c=Fu(i),m=Gd(i,n),_=m[gn].data;for(let O=0;O<8;O++)n[s+O]=m[c+O]|_[c+O]}return n[s+8]=i,s}function Hf(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Hh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function $d(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;null!==i;){if(r=d(i),null===r)return Lu;if(e++,i=i[Tu],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return Lu}function zf(t,n,e){!function Vh(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty($l)&&(r=e[$l]),null==r&&(r=e[$l]=Us++);const i=r&jd;n.data[t+(i>>kc)]|=1<<i}(t,n,e)}function Uf(t,n,e){if(e&Vn.Optional||void 0!==t)return t;zi()}function Gf(t,n,e,r){if(e&Vn.Optional&&void 0===r&&(r=null),!(e&(Vn.Self|Vn.Host))){const i=t[rl],s=yo(void 0);try{return i?i.get(n,r,e&Vn.Optional):ds(n,r,e&Vn.Optional)}finally{yo(s)}}return Uf(r,0,e)}function Zr(t,n,e,r=Vn.Default,i){if(null!==t){if(2048&n[Wn]&&!(r&Vn.Self)){const c=function a(t,n,e,r,i){let s=t,c=n;for(;null!==s&&null!==c&&2048&c[Wn]&&!(512&c[Wn]);){const m=Yd(s,c,e,r|Vn.Self,fa);if(m!==fa)return m;let _=s.parent;if(!_){const O=c[md];if(O){const U=O.get(e,fa,r);if(U!==fa)return U}_=d(c),c=c[Tu]}s=_}return i}(t,n,e,r,fa);if(c!==fa)return c}const s=Yd(t,n,e,r,fa);if(s!==fa)return s}return Gf(n,e,r,i)}function Yd(t,n,e,r,i){const s=function Xd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty($l)?t[$l]:void 0;return"number"==typeof n?n>=0?n&jd:rg:n}(e);if("function"==typeof s){if(!Oc(n,t,r))return r&Vn.Host?Uf(i,0,r):Gf(n,e,r,i);try{const c=s(r);if(null!=c||r&Vn.Optional)return c;zi()}finally{Fd()}}else if("number"==typeof s){let c=null,m=Hh(t,n),_=Lu,O=r&Vn.Host?n[Gi][wo]:null;for((-1===m||r&Vn.SkipSelf)&&(_=-1===m?$d(t,n):n[m+8],_!==Lu&&Ii(r,!1)?(c=n[gn],m=Fu(_),n=Gd(_,n)):m=-1);-1!==m;){const U=n[gn];if(ng(s,m,U.data)){const K=Sm(m,n,e,c,r,O);if(K!==fa)return K}_=n[m+8],_!==Lu&&Ii(r,n[gn].data[m+8]===O)&&ng(s,m,n)?(c=U,m=Fu(_),n=Gd(_,n)):m=-1}}return i}function Sm(t,n,e,r,i,s){const c=n[gn],m=c.data[t+8],U=sl(m,c,e,null==r?Iu(m)&&Bh:r!=c&&0!=(3&m.type),i&Vn.Host&&s===m);return null!==U?Bu(n,c,U,m):fa}function sl(t,n,e,r,i){const s=t.providerIndexes,c=n.data,m=1048575&s,_=t.directiveStart,U=s>>20,ge=i?m+U:t.directiveEnd;for(let ve=r?m:m+U;ve<ge;ve++){const Me=c[ve];if(ve<_&&e===Me||ve>=_&&Me.type===e)return ve}if(i){const ve=c[_];if(ve&&ms(ve)&&ve.type===e)return _}return null}function Bu(t,n,e,r){let i=t[e];const s=n.data;if(function Jp(t){return t instanceof Rc}(i)){const c=i;c.resolving&&function di(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new et(-200,`Circular dependency in DI detected for ${t}${e}`)}(function Gn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_n(t)}(s[e]));const m=li(c.canSeeViewProviders);c.resolving=!0;const _=c.injectImpl?yo(c.injectImpl):null;Oc(t,r,Vn.Default);try{i=t[e]=c.factory(void 0,s,t,r),n.firstCreatePass&&e>=r.directiveStart&&function Tl(t,n,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){const c=Ih(n);(e.preOrderHooks??=[]).push(t,c),(e.preOrderCheckHooks??=[]).push(t,c)}i&&(e.preOrderHooks??=[]).push(0-t,i),s&&((e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s))}(e,s[e],n)}finally{null!==_&&yo(_),li(m),c.resolving=!1,Fd()}}return i}function ng(t,n,e){return!!(e[n+(t>>kc)]&1<<t)}function Ii(t,n){return!(t&Vn.Self||t&Vn.Host&&n)}class Vu{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return Zr(this._tNode,this._lView,n,yf(r),e)}}function rg(){return new Vu(Uo(),Rt())}function Ci(t){return fs(()=>{const n=t.prototype.constructor,e=n[Ls]||Cs(n),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ls]||Cs(i);if(s&&s!==e)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Cs(t){return Br(t)?()=>{const n=Cs(on(t));return n&&n()}:co(t)}function d(t){const n=t[gn],e=n.type;return 2===e?n.declTNode:1===e?t[wo]:null}function y(t){return function tg(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const s=e[i];if(Eu(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(s===n)return e[i+1];i+=2}}}return null}(Uo(),t)}const b="__parameters__";function ee(t,n,e){return fs(()=>{const r=function X(t){return function(...e){if(t){const r=t(...e);for(const i in r)this[i]=r[i]}}}(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;const c=new i(...s);return m.annotation=c,m;function m(_,O,U){const K=_.hasOwnProperty(b)?_[b]:Object.defineProperty(_,b,{value:[]})[b];for(;K.length<=U;)K.push(null);return(K[U]=K[U]||[]).push(c),_}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ai(t,n){t.forEach(e=>Array.isArray(e)?Ai(e,n):n(e))}function xi(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Wo(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function $i(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function Gr(t,n,e){let r=ho(t,n);return r>=0?t[1|r]=e:(r=~r,function $o(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(1===i)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function Ei(t,n){const e=ho(t,n);if(e>=0)return t[1|e]}function ho(t,n){return function Ml(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){const s=r+(i-r>>1),c=t[s<<e];if(n===c)return s<<e;c>n?i=s:r=s+1}return~(i<<e)}(t,n,1)}const os=gc(ee("Optional"),8),Uh=gc(ee("SkipSelf"),4);function $f(t){return 128==(128&t.flags)}var na=(()=>((na=na||{})[na.Important=1]="Important",na[na.DashCase=2]="DashCase",na))();const Xh=/^>|^->|<!--|-->|--!>|<!-$/g,w_=/(<|>)/,Ay="\u200b$1\u200b";const sg=new Map;let C_=0;const ug="__ngContext__";function za(t,n){ts(n)?(t[ug]=n[gd],function Oy(t){sg.set(t[gd],t)}(n)):t[ug]=n}let p;function g(t,n){return p(t,n)}function E(t){const n=t[Li];return Ba(n)?n[Li]:n}function F(t){return W(t[_c])}function z(t){return W(t[la])}function W(t){for(;null!==t&&!Ba(t);)t=t[la];return t}function j(t,n,e,r,i){if(null!=r){let s,c=!1;Ba(r)?s=r:ts(r)&&(c=!0,r=r[lo]);const m=hi(r);0===t&&null!==e?null==i?at(n,e,m):We(n,e,m,i||null,!0):1===t&&null!==e?We(n,e,m,i||null,!0):2===t?function ar(t,n,e){const r=yt(t,n);r&&function bt(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,m,c):3===t&&n.destroyNode(m),null!=s&&function Pn(t,n,e,r,i){const s=e[Bs];s!==hi(e)&&j(n,t,r,s,i);for(let m=si;m<e.length;m++){const _=e[m];Bn(_[gn],_,t,n,r,s)}}(n,t,s,e,i)}}function re(t,n){return t.createComment(function Nm(t){return t.replace(Xh,n=>n.replace(w_,Ay))}(n))}function fe(t,n,e){return t.createElement(n,e)}function _e(t,n){const e=t[Mu],r=e.indexOf(n);eu(n),e.splice(r,1)}function ke(t,n){if(t.length<=si)return;const e=si+n,r=t[e];if(r){const i=r[gs];null!==i&&i!==t&&_e(i,r),n>0&&(t[e-1][la]=r[la]);const s=Wo(t,si+n);!function he(t,n){Bn(t,n,n[qn],2,null,null),n[lo]=null,n[wo]=null}(r[gn],r);const c=s[uo];null!==c&&c.detachView(s[gn]),r[Li]=null,r[la]=null,r[Wn]&=-129}return r}function Pe(t,n){if(!(256&n[Wn])){const e=n[qn];n[vd]?.destroy(),n[es]?.destroy(),e.destroyNode&&Bn(t,n,e,3,null,null),function Ae(t){let n=t[_c];if(!n)return xe(t[gn],t);for(;n;){let e=null;if(ts(n))e=n[_c];else{const r=n[si];r&&(e=r)}if(!e){for(;n&&!n[la]&&n!==t;)ts(n)&&xe(n[gn],n),n=n[Li];null===n&&(n=t),ts(n)&&xe(n[gn],n),e=n&&n[la]}n=e}}(n)}}function xe(t,n){if(!(256&n[Wn])){n[Wn]&=-129,n[Wn]|=256,function Ne(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const i=n[e[r]];if(!(i instanceof Rc)){const s=e[r+1];if(Array.isArray(s))for(let c=0;c<s.length;c+=2){const m=i[s[c]],_=s[c+1];Va(4,m,_);try{_.call(m)}finally{Va(5,m,_)}}else{Va(4,i,s);try{s.call(i)}finally{Va(5,i,s)}}}}}(t,n),function He(t,n){const e=t.cleanup,r=n[wl];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const c=e[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else e[s].call(r[e[s+1]]);null!==r&&(n[wl]=null);const i=n[Cl];if(null!==i){n[Cl]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,n),1===n[gn].type&&n[qn].destroy();const e=n[gs];if(null!==e&&Ba(n[Li])){e!==n[Li]&&_e(e,n);const r=n[uo];null!==r&&r.detachView(t)}!function x_(t){sg.delete(t[gd])}(n)}}function Je(t,n,e){return function Ue(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[lo];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===ba.None||s===ba.Emulated)return null}return ji(r,e)}}(t,n.parent,e)}function We(t,n,e,r,i){t.insertBefore(n,e,r,i)}function at(t,n,e){t.appendChild(n,e)}function dt(t,n,e,r,i){null!==r?We(t,n,e,r,i):at(t,n,e)}function yt(t,n){return t.parentNode(n)}function Ot(t,n,e){return wt(t,n,e)}let nt,Ce,An,gr,wt=function Dt(t,n,e){return 40&t.type?ji(t,e):null};function Nt(t,n,e,r){const i=Je(t,r,n),s=n[qn],m=Ot(r.parent||n[wo],r,n);if(null!=i)if(Array.isArray(e))for(let _=0;_<e.length;_++)dt(s,i,e[_],m,!1);else dt(s,i,e,m,!1);void 0!==nt&&nt(s,r,n,e,i)}function Yt(t,n){if(null!==n){const e=n.type;if(3&e)return ji(n,t);if(4&e)return Xn(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return Yt(t,r);{const i=t[n.index];return Ba(i)?Xn(-1,i):hi(i)}}if(32&e)return g(n,t)()||hi(t[n.index]);{const r=rn(t,n);return null!==r?Array.isArray(r)?r[0]:Yt(E(t[Gi]),r):Yt(t,n.next)}}return null}function rn(t,n){return null!==n?t[Gi][wo].projection[n.projection]:null}function Xn(t,n){const e=si+t+1;if(e<n.length){const r=n[e],i=r[gn].firstChild;if(null!==i)return Yt(r,i)}return n[Bs]}function en(t,n,e,r,i,s,c){for(;null!=e;){const m=r[e.index],_=e.type;if(c&&0===n&&(m&&za(hi(m),r),e.flags|=2),32!=(32&e.flags))if(8&_)en(t,n,e.child,r,i,s,!1),j(n,t,i,m,s);else if(32&_){const O=g(e,r);let U;for(;U=O();)j(n,t,i,U,s);j(n,t,i,m,s)}else 16&_?cn(t,n,r,e,i,s):j(n,t,i,m,s);e=c?e.projectionNext:e.next}}function Bn(t,n,e,r,i,s){en(e,r,t.firstChild,n,i,s,!1)}function cn(t,n,e,r,i,s){const c=e[Gi],_=c[wo].projection[r.projection];if(Array.isArray(_))for(let O=0;O<_.length;O++)j(n,t,i,_[O],s);else{let O=_;const U=c[Li];$f(r)&&(O.flags|=128),en(t,n,O,U,i,s,!0)}}function $n(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Ut(t,n,e){const{mergedAttrs:r,classes:i,styles:s}=e;null!==r&&Cf(t,n,r),null!==i&&$n(t,n,i),null!==s&&function pr(t,n,e){t.setAttribute(n,"style",e)}(t,n,s)}function kt(t){return function ft(){if(void 0===Ce&&(Ce=null,vi.trustedTypes))try{Ce=vi.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ce}()?.createHTML(t)||t}function Qr(){if(void 0!==An)return An;if(typeof document<"u")return document;throw new et(210,!1)}function Jr(){if(void 0===gr&&(gr=null,vi.trustedTypes))try{gr=vi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return gr}function fr(t){return Jr()?.createHTML(t)||t}function to(t){return Jr()?.createScriptURL(t)||t}class no{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vr})`}}class Ol extends no{getTypeName(){return"HTML"}}class Nl extends no{getTypeName(){return"Style"}}class Ea extends no{getTypeName(){return"Script"}}class ul extends no{getTypeName(){return"URL"}}class ss extends no{getTypeName(){return"ResourceURL"}}function Io(t){return t instanceof no?t.changingThisBreaksApplicationSecurity:t}function Da(t,n){const e=function Yf(t){return t instanceof no&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${vr})`)}return e===n}class Ds{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(kt(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class fg{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=kt(n),e}}const ky=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hg(t){return(t=String(t)).match(ky)?t:"unsafe:"+t}function Gu(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function qh(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const Py=Gu("area,br,col,hr,img,wbr"),Ly=Gu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fy=Gu("rp,rt"),Kf=qh(Py,qh(Ly,Gu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qh(Fy,Gu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qh(Fy,Ly)),gg=Gu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cl=qh(gg,Gu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pm=Gu("script,style,template");class Vy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!Kf.hasOwnProperty(e))return this.sanitizedSomething=!0,!Pm.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),c=s.name,m=c.toLowerCase();if(!cl.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let _=s.value;gg[m]&&(_=hg(_)),this.buf.push(" ",c,'="',Hy(_),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();Kf.hasOwnProperty(e)&&!Py.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(Hy(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const Zh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rl=/([^\#-~ |!])/g;function Hy(t){return t.replace(/&/g,"&amp;").replace(Zh,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Rl,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zy;function aD(t,n){let e=null;try{zy=zy||function Sa(t){const n=new fg(t);return function lu(){try{return!!(new window.DOMParser).parseFromString(kt(""),"text/html")}catch{return!1}}()?new Ds(n):n}(t);let r=n?String(n):"";e=zy.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=e.innerHTML,e=zy.getInertBodyElement(r)}while(r!==s);return kt((new Vy).sanitizeChildren(S_(e)||e))}finally{if(e){const r=S_(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function S_(t){return"content"in t&&function Lk(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var pi=(()=>((pi=pi||{})[pi.NONE=0]="NONE",pi[pi.HTML=1]="HTML",pi[pi.STYLE=2]="STYLE",pi[pi.SCRIPT=3]="SCRIPT",pi[pi.URL=4]="URL",pi[pi.RESOURCE_URL=5]="RESOURCE_URL",pi))();function sD(t){const n=Lm();return n?fr(n.sanitize(pi.HTML,t)||""):Da(t,"HTML")?fr(Io(t)):aD(Qr(),_n(t))}function lD(t){const n=Lm();return n?n.sanitize(pi.URL,t)||"":Da(t,"URL")?Io(t):hg(_n(t))}function uD(t){const n=Lm();if(n)return to(n.sanitize(pi.RESOURCE_URL,t)||"");if(Da(t,"ResourceURL"))return to(Io(t));throw new et(904,!1)}function Lm(){const t=Rt();return t&&t[ua].sanitizer}class qt{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=an({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Fm=new qt("ENVIRONMENT_INITIALIZER"),dD=new qt("INJECTOR",-1),fD=new qt("INJECTOR_DEF_TYPES");class hD{get(n,e=Cu){if(e===Cu){const r=new Error(`NullInjectorError: No provider for ${er(n)}!`);throw r.name="NullInjectorError",r}return e}}function Uk(...t){return{\u0275providers:pD(0,t),\u0275fromNgModule:!0}}function pD(t,...n){const e=[],r=new Set;let i;return Ai(n,s=>{const c=s;M_(c,e,[],r)&&(i||=[],i.push(c))}),void 0!==i&&gD(i,e),e}function gD(t,n){for(let e=0;e<t.length;e++){const{providers:i}=t[e];I_(i,s=>{n.push(s)})}}function M_(t,n,e,r){if(!(t=on(t)))return!1;let i=null,s=Zo(t);const c=!s&&Hr(t);if(s||c){if(c&&!c.standalone)return!1;i=t}else{const _=t.ngModule;if(s=Zo(_),!s)return!1;i=_}const m=r.has(i);if(c){if(m)return!1;if(r.add(i),c.dependencies){const _="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const O of _)M_(O,n,e,r)}}else{if(!s)return!1;{if(null!=s.imports&&!m){let O;r.add(i);try{Ai(s.imports,U=>{M_(U,n,e,r)&&(O||=[],O.push(U))})}finally{}void 0!==O&&gD(O,n)}if(!m){const O=co(i)||(()=>new i);n.push({provide:i,useFactory:O,deps:Dr},{provide:fD,useValue:i,multi:!0},{provide:Fm,useValue:()=>Pt(i),multi:!0})}const _=s.providers;null==_||m||I_(_,U=>{n.push(U)})}}return i!==t&&void 0!==t.providers}function I_(t,n){for(let e of t)mi(e)&&(e=e.\u0275providers),Array.isArray(e)?I_(e,n):n(e)}const Gk=Vt({provide:String,useValue:Vt});function A_(t){return null!==t&&"object"==typeof t&&Gk in t}function Qh(t){return"function"==typeof t}const O_=new qt("Set Injector scope."),Uy={},Wk={};let N_;function Gy(){return void 0===N_&&(N_=new hD),N_}class Fc{}class R_ extends Fc{get destroyed(){return this._destroyed}constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,P_(n,c=>this.processProvider(c)),this.records.set(dD,mg(void 0,this)),i.has("environment")&&this.records.set(Fc,mg(void 0,this));const s=this.records.get(O_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(fD.multi,Dr,Vn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of n)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Fa(this),r=yo(void 0);try{return n()}finally{Fa(e),yo(r)}}get(n,e=Cu,r=Vn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Yl))return n[Yl](this);r=yf(r);const i=Fa(this),s=yo(void 0);try{if(!(r&Vn.SkipSelf)){let m=this.records.get(n);if(void 0===m){const _=function qk(t){return"function"==typeof t||"object"==typeof t&&t instanceof qt}(n)&&Pa(n);m=_&&this.injectableDefInScope(_)?mg(k_(n),Uy):null,this.records.set(n,m)}if(null!=m)return this.hydrate(n,m)}return(r&Vn.Self?Gy():this.parent).get(n,e=r&Vn.Optional&&e===Cu?null:e)}catch(c){if("NullInjectorError"===c.name){if((c[hc]=c[hc]||[]).unshift(er(n)),i)throw c;return function mc(t,n,e,r){const i=t[hc];throw n[mh]&&i.unshift(n[mh]),t.message=function yl(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=er(n);if(Array.isArray(n))i=n.map(er).join(" -> ");else if("object"==typeof n){let s=[];for(let c in n)if(n.hasOwnProperty(c)){let m=n[c];s.push(c+":"+("string"==typeof m?JSON.stringify(m):er(m)))}i=`{${s.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(bo,"\n  ")}`}("\n"+t.message,i,e,r),t.ngTokenPath=i,t[hc]=null,t}(c,n,"R3InjectorError",this.source)}throw c}finally{yo(s),Fa(i)}}resolveInjectorInitializers(){const n=Fa(this),e=yo(void 0);try{const r=this.get(Fm.multi,Dr,Vn.Self);for(const i of r)i()}finally{Fa(n),yo(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(er(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new et(205,!1)}processProvider(n){let e=Qh(n=on(n))?n:on(n&&n.provide);const r=function Yk(t){return A_(t)?mg(void 0,t.useValue):mg(yD(t),Uy)}(n);if(Qh(n)||!0!==n.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=mg(void 0,Uy,!0),i.factory=()=>bf(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===Uy&&(e.value=Wk,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Kk(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=on(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function k_(t){const n=Pa(t),e=null!==n?n.factory:co(t);if(null!==e)return e;if(t instanceof qt)throw new et(204,!1);if(t instanceof Function)return function $k(t){const n=t.length;if(n>0)throw $i(n,"?"),new et(204,!1);const e=function ml(t){return t&&(t[La]||t[jl])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new et(204,!1)}function yD(t,n,e){let r;if(Qh(t)){const i=on(t);return co(i)||k_(i)}if(A_(t))r=()=>on(t.useValue);else if(function vD(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...bf(t.deps||[]));else if(function mD(t){return!(!t||!t.useExisting)}(t))r=()=>Pt(on(t.useExisting));else{const i=on(t&&(t.useClass||t.provide));if(!function Xk(t){return!!t.deps}(t))return co(i)||k_(i);r=()=>new i(...bf(t.deps))}return r}function mg(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function P_(t,n){for(const e of t)Array.isArray(e)?P_(e,n):e&&mi(e)?P_(e.\u0275providers,n):n(e)}const jy=new qt("AppId",{providedIn:"root",factory:()=>Zk}),Zk="ng",bD=new qt("Platform Initializer"),qf=new qt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Bc=new qt("AnimationModuleType"),L_=new qt("CSP nonce",{providedIn:"root",factory:()=>Qr().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let wD=(t,n)=>null;function CD(t,n){return wD(t,n)}class aP{}class DD{}class lP{resolveComponentFactory(n){throw function sP(t){const n=Error(`No component factory found for ${er(t)}.`);return n.ngComponent=t,n}(n)}}let vg=(()=>{class t{}return t.NULL=new lP,t})();function uP(){return yg(Uo(),Rt())}function yg(t,n){return new ii(ji(t,n))}let ii=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=uP,t})();function cP(t){return t instanceof ii?t.nativeElement:t}class zm{}let tf=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function dP(){const t=Rt(),e=Ha(Uo().index,t);return(ts(e)?e:t)[qn]}(),t})(),fP=(()=>{class t{}return t.\u0275prov=an({token:t,providedIn:"root",factory:()=>null}),t})();class Jh{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const hP=new Jh("16.1.3"),Y_={};function Um(t){for(;t;){t[Wn]|=64;const n=E(t);if(ca(t)&&!n)return t;t=n}return null}function X_(t){return t.ngOriginalError}class Vc{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&X_(n);for(;e&&X_(e);)e=X_(e);return e||null}}const ID=new qt("",{providedIn:"root",factory:()=>!1});function nf(t){return t instanceof Function?t():t}class kD extends wc{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){Um(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,e,r){const i=eo(this);this.trackingVersion++;try{n(e,r)}finally{eo(i)}}destroy(){this.trackingVersion++}}let qy=null;function PD(){return qy??=new kD,qy}function LD(t,n){return t[n]??PD()}function FD(t,n){const e=PD();e.hasReadASignal&&(t[n]=qy,e.lView=t,qy=new kD)}const br={};function Bt(t){BD(Cr(),Rt(),Do()+t,!1)}function BD(t,n,e,r){if(!r)if(3==(3&n[Wn])){const s=t.preOrderCheckHooks;null!==s&&ws(n,s,e)}else{const s=t.preOrderHooks;null!==s&&ku(n,s,0,e)}is(e)}function UD(t,n=null,e=null,r){const i=GD(t,n,e,r);return i.resolveInjectorInitializers(),i}function GD(t,n=null,e=null,r,i=new Set){const s=[e||Dr,Uk(t)];return r=r||("object"==typeof t?void 0:er(t)),new R_(s,n||Gy(),r||null,i)}let ju=(()=>{class t{static create(e,r){if(Array.isArray(e))return UD({name:""},r,e,"");{const i=e.name??"";return UD({name:i},e.parent,e.providers,i)}}}return t.THROW_IF_NOT_FOUND=Cu,t.NULL=new hD,t.\u0275prov=an({token:t,providedIn:"any",factory:()=>Pt(dD)}),t.__NG_ELEMENT_ID__=-1,t})();function Ye(t,n=Vn.Default){const e=Rt();return null===e?Pt(t,n):Zr(Uo(),e,on(t),n)}function K_(){throw new Error("invalid")}function Zy(t,n,e,r,i,s,c,m,_,O,U){const K=n.blueprint.slice();return K[lo]=i,K[Wn]=140|r,(null!==O||t&&2048&t[Wn])&&(K[Wn]|=2048),Ar(K),K[Li]=K[Tu]=t,K[yi]=e,K[ua]=c||t&&t[ua],K[qn]=m||t&&t[qn],K[rl]=_||t&&t[rl]||null,K[wo]=s,K[gd]=function ri(){return C_++}(),K[dr]=U,K[md]=O,K[Gi]=2==n.type?t[Gi]:K,K}function _g(t,n,e,r,i){let s=t.data[n];if(null===s)s=function q_(t,n,e,r,i){const s=Ph(),c=Rd(),_=t.data[n]=function kP(t,n,e,r,i,s){let c=n?n.injectorIndex:-1,m=0;return zo()&&(m|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:m,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?s:s&&s.parent,e,n,r,i);return null===t.firstChild&&(t.firstChild=_),null!==s&&(c?null==s.child&&null!==_.parent&&(s.child=_):null===s.next&&(s.next=_,_.prev=s)),_}(t,n,e,r,i),function Ac(){return Hn.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=r,s.attrs=i;const c=function Ic(){const t=Hn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();s.injectorIndex=null===c?-1:c.injectorIndex}return bs(s,!0),s}function Gm(t,n,e,r){if(0===e)return-1;const i=n.length;for(let s=0;s<e;s++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function jD(t,n,e,r,i){const s=LD(n,vd),c=Do(),m=2&r;try{if(is(-1),m&&n.length>mn&&BD(t,n,mn,!1),Va(m?2:0,i),m)s.runInContext(e,r,i);else{const O=eo(null);try{e(r,i)}finally{eo(O)}}}finally{m&&null===n[vd]&&FD(n,vd),is(c),Va(m?3:1,i)}}function Z_(t,n,e){if(Eh(n)){const r=eo(null);try{const s=n.directiveEnd;for(let c=n.directiveStart;c<s;c++){const m=t.data[c];m.contentQueries&&m.contentQueries(1,e[c],c)}}finally{eo(r)}}}function Q_(t,n,e){Od()&&(function zP(t,n,e,r){const i=e.directiveStart,s=e.directiveEnd;Iu(e)&&function XP(t,n,e){const r=ji(n,t),i=WD(e);let c=16;e.signals?c=4096:e.onPush&&(c=64);const m=Qy(t,Zy(t,i,null,c,r,n,null,t[ua].rendererFactory.createRenderer(r,e),null,null,null));t[n.index]=m}(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||Wd(e,n),za(r,n);const c=e.initialInputs;for(let m=i;m<s;m++){const _=t.data[m],O=Bu(n,t,m,e);za(O,n),null!==c&&KP(0,m-i,O,_,0,c),ms(_)&&(Ha(e.index,n)[yi]=Bu(n,t,m,e))}}(t,n,e,ji(e,n)),64==(64&e.flags)&&qD(t,n,e))}function J_(t,n,e=ji){const r=n.localNames;if(null!==r){let i=n.index+1;for(let s=0;s<r.length;s+=2){const c=r[s+1],m=-1===c?e(n,t):t[c];t[i++]=m}}}function WD(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ew(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function ew(t,n,e,r,i,s,c,m,_,O,U){const K=mn+r,ge=K+i,ve=function MP(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:br);return e}(K,ge),Me="function"==typeof O?O():O;return ve[gn]={type:t,blueprint:ve,template:e,queries:null,viewQuery:m,declTNode:n,data:ve.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:_,consts:Me,incompleteFirstPass:!1,ssrId:U}}let $D=t=>null;function YD(t,n,e,r){for(let i in t)if(t.hasOwnProperty(i)){e=null===e?{}:e;const s=t[i];null===r?XD(e,n,i,s):r.hasOwnProperty(i)&&XD(e,n,r[i],s)}return e}function XD(t,n,e,r){t.hasOwnProperty(e)?t[e].push(n,r):t[e]=[n,r]}function tw(t,n,e,r){if(Od()){const i=null===r?null:{"":-1},s=function GP(t,n){const e=t.directiveRegistry;let r=null,i=null;if(e)for(let s=0;s<e.length;s++){const c=e[s];if(_h(n,c.selectors,!1))if(r||(r=[]),ms(c))if(null!==c.findHostDirectiveDefs){const m=[];i=i||new Map,c.findHostDirectiveDefs(c,m,i),r.unshift(...m,c),nw(t,n,m.length)}else r.unshift(c),nw(t,n,0);else i=i||new Map,c.findHostDirectiveDefs?.(c,r,i),r.push(c)}return null===r?null:[r,i]}(t,e);let c,m;null===s?c=m=null:[c,m]=s,null!==c&&KD(t,n,e,c,i,m),i&&function jP(t,n,e){if(n){const r=t.localNames=[];for(let i=0;i<n.length;i+=2){const s=e[n[i+1]];if(null==s)throw new et(-301,!1);r.push(n[i],s)}}}(e,r,i)}e.mergedAttrs=Xl(e.mergedAttrs,e.attrs)}function KD(t,n,e,r,i,s){for(let O=0;O<r.length;O++)zf(Wd(e,n),t,r[O].type);!function $P(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,r.length);for(let O=0;O<r.length;O++){const U=r[O];U.providersResolver&&U.providersResolver(U)}let c=!1,m=!1,_=Gm(t,n,r.length,null);for(let O=0;O<r.length;O++){const U=r[O];e.mergedAttrs=Xl(e.mergedAttrs,U.hostAttrs),YP(t,e,n,_,U),WP(_,U,i),null!==U.contentQueries&&(e.flags|=4),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(e.flags|=64);const K=U.type.prototype;!c&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),c=!0),!m&&(K.ngOnChanges||K.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),m=!0),_++}!function PP(t,n,e){const i=n.directiveEnd,s=t.data,c=n.attrs,m=[];let _=null,O=null;for(let U=n.directiveStart;U<i;U++){const K=s[U],ge=e?e.get(K):null,Me=ge?ge.outputs:null;_=YD(K.inputs,U,_,ge?ge.inputs:null),O=YD(K.outputs,U,O,Me);const Fe=null===_||null===c||Kl(n)?null:qP(_,U,c);m.push(Fe)}null!==_&&(_.hasOwnProperty("class")&&(n.flags|=8),_.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=m,n.inputs=_,n.outputs=O}(t,e,s)}function qD(t,n,e){const r=e.directiveStart,i=e.directiveEnd,s=e.index,c=function Kp(){return Hn.lFrame.currentDirectiveIndex}();try{is(s);for(let m=r;m<i;m++){const _=t.data[m],O=n[m];kd(m),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&UP(_,O)}}finally{is(-1),kd(c)}}function UP(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function nw(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function WP(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;ms(n)&&(e[""]=t)}}function YP(t,n,e,r,i){t.data[r]=i;const s=i.factory||(i.factory=co(i.type)),c=new Rc(s,ms(i),Ye);t.blueprint[r]=c,e[r]=c,function VP(t,n,e,r,i){const s=i.hostBindings;if(s){let c=t.hostBindingOpCodes;null===c&&(c=t.hostBindingOpCodes=[]);const m=~n.index;(function HP(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(c)!=m&&c.push(m),c.push(e,r,s)}}(t,n,r,Gm(t,e,i.hostVars,br),i)}function Hc(t,n,e,r,i,s){const c=ji(t,n);!function rw(t,n,e,r,i,s,c){if(null==s)t.removeAttribute(n,i,e);else{const m=null==c?_n(s):c(s,r||"",i);t.setAttribute(n,i,m,e)}}(n[qn],c,s,t.value,e,r,i)}function KP(t,n,e,r,i,s){const c=s[n];if(null!==c)for(let m=0;m<c.length;)ZD(r,e,c[m++],c[m++],c[m++])}function ZD(t,n,e,r,i){const s=eo(null);try{const c=t.inputTransforms;null!==c&&c.hasOwnProperty(r)&&(i=c[r].call(n,i)),null!==t.setInput?t.setInput(n,i,e,r):n[r]=i}finally{eo(s)}}function qP(t,n,e){let r=null,i=0;for(;i<e.length;){const s=e[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const c=t[s];for(let m=0;m<c.length;m+=2)if(c[m]===n){r.push(s,c[m+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function QD(t,n,e,r){return[t,!0,!1,n,null,0,r,e,null,null,null]}function JD(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const s=e[r+1];if(-1!==s){const c=t.data[s];zs(e[r]),c.contentQueries(2,n[s],s)}}}function Qy(t,n){return t[_c]?t[xh][la]=n:t[_c]=n,t[xh]=n,n}function iw(t,n,e){zs(0);const r=eo(null);try{n(t,e)}finally{eo(r)}}function e1(t){return t[wl]||(t[wl]=[])}function t1(t){return t.cleanup||(t.cleanup=[])}function r1(t,n){const e=t[rl],r=e?e.get(Vc,null):null;r&&r.handleError(n)}function ow(t,n,e,r,i){for(let s=0;s<e.length;){const c=e[s++],m=e[s++];ZD(t.data[c],n[c],r,m,i)}}function rf(t,n,e){const r=Md(n,t);!function J(t,n,e){t.setValue(n,e)}(t[qn],r,e)}function ZP(t,n){const e=Ha(n,t),r=e[gn];!function QP(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(r,e);const i=e[lo];null!==i&&null===e[dr]&&(e[dr]=CD(i,e[rl])),aw(r,e,e[yi])}function aw(t,n,e){iu(n);try{const r=t.viewQuery;null!==r&&iw(1,r,e);const i=t.template;null!==i&&jD(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&JD(t,n),t.staticViewQueries&&iw(2,t.viewQuery,e);const s=t.components;null!==s&&function JP(t,n){for(let e=0;e<n.length;e++)ZP(t,n[e])}(n,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[Wn]&=-5,Eo()}}let o1=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(e,r,i){const s=typeof Zone>"u"?null:Zone.current,c=new jp(e,O=>{this.all.has(O)&&this.queue.set(O,s)},i);let m;this.all.add(c),c.notify();const _=()=>{c.cleanup(),m?.(),this.all.delete(c),this.queue.delete(c)};return m=r?.onDestroy(_),{destroy:_}}flush(){if(0!==this.queue.size)for(const[e,r]of this.queue)this.queue.delete(e),r?r.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=an({token:t,providedIn:"root",factory:()=>new t}),t})();function Jy(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,s=0;if(null!==n)for(let c=0;c<n.length;c++){const m=n[c];"number"==typeof m?s=m:1==s?i=or(i,m):2==s&&(r=or(r,m+": "+n[++c]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function jm(t,n,e,r,i=!1){for(;null!==e;){const s=n[e.index];if(null!==s&&r.push(hi(s)),Ba(s)){for(let m=si;m<s.length;m++){const _=s[m],O=_[gn].firstChild;null!==O&&jm(_[gn],_,O,r)}s[Bs]!==s[lo]&&r.push(s[Bs])}const c=e.type;if(8&c)jm(t,n,e.child,r);else if(32&c){const m=g(e,n);let _;for(;_=m();)r.push(_)}else if(16&c){const m=rn(n,e);if(Array.isArray(m))r.push(...m);else{const _=E(n[Gi]);jm(_[gn],_,m,r,!0)}}e=i?e.projectionNext:e.next}return r}function eb(t,n,e,r=!0){const i=n[ua].rendererFactory;i.begin&&i.begin();try{a1(t,n,t.template,e)}catch(c){throw r&&r1(n,c),c}finally{i.end&&i.end(),n[ua].effectManager?.flush()}}function a1(t,n,e,r){const i=n[Wn];if(256!=(256&i)){n[ua].effectManager?.flush(),iu(n);try{Ar(n),function ru(t){return Hn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&jD(t,n,e,2,r);const c=3==(3&i);if(c){const O=t.preOrderCheckHooks;null!==O&&ws(n,O,null)}else{const O=t.preOrderHooks;null!==O&&ku(n,O,0,null),Ff(n,0)}if(function iL(t){for(let n=F(t);null!==n;n=z(n)){if(!n[xl])continue;const e=n[Mu];for(let r=0;r<e.length;r++){wm(e[r])}}}(n),s1(n,2),null!==t.contentQueries&&JD(t,n),c){const O=t.contentCheckHooks;null!==O&&ws(n,O)}else{const O=t.contentHooks;null!==O&&ku(n,O,1),Ff(n,1)}!function TP(t,n){const e=t.hostBindingOpCodes;if(null===e)return;const r=LD(n,es);try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)is(~s);else{const c=s,m=e[++i],_=e[++i];al(m,c),r.runInContext(_,2,n[c])}}}finally{null===n[es]&&FD(n,es),is(-1)}}(t,n);const m=t.components;null!==m&&u1(n,m,0);const _=t.viewQuery;if(null!==_&&iw(2,_,r),c){const O=t.viewCheckHooks;null!==O&&ws(n,O)}else{const O=t.viewHooks;null!==O&&ku(n,O,2),Ff(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Wn]&=-73,eu(n)}finally{Eo()}}}function s1(t,n){for(let e=F(t);null!==e;e=z(e))for(let r=si;r<e.length;r++)l1(e[r],n)}function oL(t,n,e){l1(Ha(n,t),e)}function l1(t,n){if(!function Id(t){return 128==(128&t[Wn])}(t))return;const e=t[gn];if(80&t[Wn]&&0===n||1024&t[Wn]||2===n)a1(e,t,e.template,t[yi]);else if(t[bc]>0){s1(t,1);const i=t[gn].components;null!==i&&u1(t,i,1)}}function u1(t,n,e){for(let r=0;r<n.length;r++)oL(t,n[r],e)}class Wm{get rootNodes(){const n=this._lView,e=n[gn];return jm(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yi]}set context(n){this._lView[yi]=n}get destroyed(){return 256==(256&this._lView[Wn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Li];if(Ba(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(ke(n,r),Wo(e,r))}this._attachedToViewContainer=!1}Pe(this._lView[gn],this._lView)}onDestroy(n){!function Rh(t,n){if(256==(256&t[Wn]))throw new et(911,!1);null===t[Cl]&&(t[Cl]=[]),t[Cl].push(n)}(this._lView,n)}markForCheck(){Um(this._cdRefInjectingView||this._lView)}detach(){this._lView[Wn]&=-129}reattach(){this._lView[Wn]|=128}detectChanges(){eb(this._lView[gn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new et(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ie(t,n){Bn(t,n,n[qn],2,null,null)}(this._lView[gn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new et(902,!1);this._appRef=n}}class aL extends Wm{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;eb(n[gn],n,n[yi],!1)}checkNoChanges(){}get context(){return null}}class c1 extends vg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Hr(n);return new $m(e,this.ngModule)}}function d1(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class lL{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=yf(r);const i=this.injector.get(n,Y_,r);return i!==Y_||e===Y_?i:this.parentInjector.get(n,e,r)}}class $m extends DD{get inputs(){const n=this.componentDef,e=n.inputTransforms,r=d1(n.inputs);if(null!==e)for(const i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return d1(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function Vp(t){return t.map(Bp).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){let s=(i=i||this.ngModule)instanceof Fc?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const c=s?new lL(n,s):n,m=c.get(zm,null);if(null===m)throw new et(407,!1);const U={rendererFactory:m,sanitizer:c.get(fP,null),effectManager:c.get(o1,null)},K=m.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",ve=r?function IP(t,n,e,r){const s=r.get(ID,!1)||e===ba.ShadowDom,c=t.selectRootElement(n,s);return function AP(t){$D(t)}(c),c}(K,r,this.componentDef.encapsulation,c):fe(K,ge,function sL(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(ge)),Xe=this.componentDef.signals?4608:this.componentDef.onPush?576:528,ct=ew(0,null,null,1,0,null,null,null,null,null,null),qe=Zy(null,ct,null,Xe,null,null,U,K,c,null,null);let vt,ln;iu(qe);try{const fn=this.componentDef;let _r,ot=null;fn.findHostDirectiveDefs?(_r=[],ot=new Map,fn.findHostDirectiveDefs(fn,_r,ot),_r.push(fn)):_r=[fn];const va=function cL(t,n){const e=t[gn],r=mn;return t[r]=n,_g(e,r,2,"#host",null)}(qe,ve),Is=function dL(t,n,e,r,i,s,c){const m=i[gn];!function fL(t,n,e,r){for(const i of t)n.mergedAttrs=Xl(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Jy(n,n.mergedAttrs,!0),null!==e&&Ut(r,e,n))}(r,t,n,c);let _=null;null!==n&&(_=CD(n,i[rl]));const O=s.rendererFactory.createRenderer(n,e);let U=16;e.signals?U=4096:e.onPush&&(U=64);const K=Zy(i,WD(e),null,U,i[t.index],t,s,O,null,null,_);return m.firstCreatePass&&nw(m,t,r.length-1),Qy(i,K),i[t.index]=K}(va,ve,fn,_r,qe,U,K);ln=kf(ct,mn),ve&&function pL(t,n,e,r){if(r)Cf(t,e,["ng-version",hP.full]);else{const{attrs:i,classes:s}=function Df(t){const n=[],e=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&n.push(s,t[++r]):8===i&&e.push(s);else{if(!Qa(i))break;i=s}r++}return{attrs:n,classes:e}}(n.selectors[0]);i&&Cf(t,e,i),s&&s.length>0&&$n(t,e,s.join(" "))}}(K,fn,ve,r),void 0!==e&&function gL(t,n,e){const r=t.projection=[];for(let i=0;i<n.length;i++){const s=e[i];r.push(null!=s?Array.from(s):null)}}(ln,this.ngContentSelectors,e),vt=function hL(t,n,e,r,i,s){const c=Uo(),m=i[gn],_=ji(c,i);KD(m,i,c,e,null,r);for(let U=0;U<e.length;U++)za(Bu(i,m,c.directiveStart+U,c),i);qD(m,i,c),_&&za(_,i);const O=Bu(i,m,c.directiveStart+c.componentOffset,c);if(t[yi]=i[yi]=O,null!==s)for(const U of s)U(O,n);return Z_(m,c,t),O}(Is,fn,_r,ot,qe,[mL]),aw(ct,qe,null)}finally{Eo()}return new uL(this.componentType,vt,yg(ln,qe),qe,ln)}}class uL extends aP{constructor(n,e,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new aL(i),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const s=this._rootLView;ow(s[gn],s,i,n,e),this.previousInputValues.set(n,e),Um(Ha(this._tNode.index,s))}}get injector(){return new Vu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function mL(){const t=Uo();_s(Rt()[gn],t)}function Zn(t){let n=function f1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let i;if(ms(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new et(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);const c=t;c.inputs=tb(t.inputs),c.inputTransforms=tb(t.inputTransforms),c.declaredInputs=tb(t.declaredInputs),c.outputs=tb(t.outputs);const m=i.hostBindings;m&&_L(t,m);const _=i.viewQuery,O=i.contentQueries;if(_&&yL(t,_),O&&bL(t,O),Rr(t.inputs,i.inputs),Rr(t.declaredInputs,i.declaredInputs),Rr(t.outputs,i.outputs),null!==i.inputTransforms&&(null===c.inputTransforms&&(c.inputTransforms={}),Rr(c.inputTransforms,i.inputTransforms)),ms(i)&&i.data.animation){const U=t.data;U.animation=(U.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let c=0;c<s.length;c++){const m=s[c];m&&m.ngInherit&&m(t),m===Zn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function vL(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Xl(i.hostAttrs,e=Xl(e,i.hostAttrs))}}(r)}function tb(t){return t===_o?{}:t===Dr?[]:t}function yL(t,n){const e=t.viewQuery;t.viewQuery=e?(r,i)=>{n(r,i),e(r,i)}:n}function bL(t,n){const e=t.contentQueries;t.contentQueries=e?(r,i,s)=>{n(r,i,s),e(r,i,s)}:n}function _L(t,n){const e=t.hostBindings;t.hostBindings=e?(r,i)=>{n(r,i),e(r,i)}:n}function m1(t){const n=t.inputConfig,e={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];Array.isArray(i)&&i[2]&&(e[r]=i[2])}t.inputTransforms=e}function nb(t){return!!sw(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function sw(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function zc(t,n,e){return t[n]=e}function Ss(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function ep(t,n,e,r){const i=Ss(t,n,e);return Ss(t,n+1,r)||i}function Ts(t,n,e,r){const i=Rt();return Ss(i,Hs(),n)&&(Cr(),Hc(Ur(),i,t,n,e,r)),Ts}function xg(t,n,e,r,i,s){const m=ep(t,function Sr(){return Hn.lFrame.bindingIndex}(),e,i);return Go(2),m?n+_n(e)+r+_n(i)+s:br}function sr(t,n,e,r,i,s,c,m){const _=Rt(),O=Cr(),U=t+mn,K=O.firstCreatePass?function WL(t,n,e,r,i,s,c,m,_){const O=n.consts,U=_g(n,t,4,c||null,ol(O,m));tw(n,e,U,ol(O,_)),_s(n,U);const K=U.tView=ew(2,U,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,O,null);return null!==n.queries&&(n.queries.template(n,U),K.queries=n.queries.embeddedTView(U)),U}(U,O,_,n,e,r,i,s,c):O.data[U];bs(K,!1);const ge=I1(O,_,K,t);Hd()&&Nt(O,_,ge,K),za(ge,_),Qy(_,_[U]=QD(ge,_,ge,K)),Mf(K)&&Q_(O,_,K),null!=c&&J_(_,K,m)}let I1=function A1(t,n,e,r){return au(!0),n[qn].createComment("")};function Gs(t){return function Jl(t,n){return t[n]}(function _i(){return Hn.lFrame.contextLView}(),mn+t)}function Wt(t,n,e){const r=Rt();return Ss(r,Hs(),n)&&function kl(t,n,e,r,i,s,c,m){const _=ji(n,e);let U,O=n.inputs;!m&&null!=O&&(U=O[r])?(ow(t,e,U,r,i),Iu(n)&&function FP(t,n){const e=Ha(n,t);16&e[Wn]||(e[Wn]|=64)}(e,n.index)):3&n.type&&(r=function LP(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=c?c(i,n.value||"",r):i,s.setProperty(_,r,i))}(Cr(),Ur(),r,t,n,r[qn],e,!1),Wt}function hw(t,n,e,r,i){const c=i?"class":"style";ow(t,e,n.inputs[c],c,r)}function je(t,n,e,r){const i=Rt(),s=Cr(),c=mn+t,m=i[qn],_=s.firstCreatePass?function KL(t,n,e,r,i,s){const c=n.consts,_=_g(n,t,2,r,ol(c,i));return tw(n,e,_,ol(c,s)),null!==_.attrs&&Jy(_,_.attrs,!1),null!==_.mergedAttrs&&Jy(_,_.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,_),_}(c,s,i,n,e,r):s.data[c],O=O1(s,i,_,m,n,t);i[c]=O;const U=Mf(_);return bs(_,!0),Ut(m,O,_),32!=(32&_.flags)&&Hd()&&Nt(s,i,O,_),0===function tu(){return Hn.lFrame.elementDepthCount}()&&za(O,i),function Ho(){Hn.lFrame.elementDepthCount++}(),U&&(Q_(s,i,_),Z_(s,_,i)),null!==r&&J_(i,_),je}function Ge(){let t=Uo();Rd()?fo():(t=t.parent,bs(t,!1));const n=t;(function Mc(t){return Hn.skipHydrationRootTNode===t})(n)&&function nu(){Hn.skipHydrationRootTNode=null}(),function kh(){Hn.lFrame.elementDepthCount--}();const e=Cr();return e.firstCreatePass&&(_s(e,t),Eh(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function eg(t){return 0!=(8&t.flags)}(n)&&hw(e,n,Rt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Vf(t){return 0!=(16&t.flags)}(n)&&hw(e,n,Rt(),n.stylesWithoutHost,!1),Ge}function dn(t,n,e,r){return je(t,n,e,r),Ge(),dn}let O1=(t,n,e,r,i,s)=>(au(!0),fe(r,i,function Jo(){return Hn.lFrame.currentNamespace}()));function tp(t,n,e){const r=Rt(),i=Cr(),s=t+mn,c=i.firstCreatePass?function QL(t,n,e,r,i){const s=n.consts,c=ol(s,r),m=_g(n,t,8,"ng-container",c);return null!==c&&Jy(m,c,!0),tw(n,e,m,ol(s,i)),null!==n.queries&&n.queries.elementStart(n,m),m}(s,i,r,n,e):i.data[s];bs(c,!0);const m=N1(i,r,c,t);return r[s]=m,Hd()&&Nt(i,r,m,c),za(m,r),Mf(c)&&(Q_(i,r,c),Z_(i,c,r)),null!=e&&J_(r,c),tp}function np(){let t=Uo();const n=Cr();return Rd()?fo():(t=t.parent,bs(t,!1)),n.firstCreatePass&&(_s(n,t),Eh(t)&&n.queries.elementEnd(t)),np}function Zm(t,n,e){return tp(t,n,e),np(),Zm}let N1=(t,n,e,r)=>(au(!0),re(n[qn],""));function Ua(){return Rt()}function Qm(t){return!!t&&"function"==typeof t.then}function R1(t){return!!t&&"function"==typeof t.subscribe}function wn(t,n,e,r){const i=Rt(),s=Cr(),c=Uo();return function P1(t,n,e,r,i,s,c){const m=Mf(r),O=t.firstCreatePass&&t1(t),U=n[yi],K=e1(n);let ge=!0;if(3&r.type||c){const Fe=ji(r,n),Xe=c?c(Fe):Fe,ct=K.length,qe=c?ln=>c(hi(ln[r.index])):r.index;let vt=null;if(!c&&m&&(vt=function tF(t,n,e,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const c=i[s];if(c===e&&i[s+1]===r){const m=n[wl],_=i[s+2];return m.length>_?m[_]:null}"string"==typeof c&&(s+=2)}return null}(t,n,i,r.index)),null!==vt)(vt.__ngLastListenerFn__||vt).__ngNextListenerFn__=s,vt.__ngLastListenerFn__=s,ge=!1;else{s=F1(r,n,U,s,!1);const ln=e.listen(Xe,i,s);K.push(s,ln),O&&O.push(i,qe,ct,ct+1)}}else s=F1(r,n,U,s,!1);const ve=r.outputs;let Me;if(ge&&null!==ve&&(Me=ve[i])){const Fe=Me.length;if(Fe)for(let Xe=0;Xe<Fe;Xe+=2){const fn=n[Me[Xe]][Me[Xe+1]].subscribe(s),_r=K.length;K.push(s,fn),O&&O.push(i,r.index,_r,-(_r+1))}}}(s,i,i[qn],c,t,n,r),wn}function L1(t,n,e,r){try{return Va(6,n,e),!1!==e(r)}catch(i){return r1(t,i),!1}finally{Va(7,n,e)}}function F1(t,n,e,r,i){return function s(c){if(c===Function)return r;Um(t.componentOffset>-1?Ha(t.index,n):n);let _=L1(n,e,r,c),O=s.__ngNextListenerFn__;for(;O;)_=L1(n,e,O,c)&&_,O=O.__ngNextListenerFn__;return i&&!1===_&&c.preventDefault(),_}}function Or(t=1){return function ou(t){return(Hn.lFrame.contextLView=function xm(t,n){for(;t>0;)n=n[Tu],t--;return n}(t,Hn.lFrame.contextLView))[yi]}(t)}function nF(t,n){let e=null;const r=function hd(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let i=0;i<n.length;i++){const s=n[i];if("*"!==s){if(null===r?_h(t,s,!0):wh(r,s))return i}else e=i}return e}function rp(t){const n=Rt()[Gi][wo];if(!n.projection){const r=n.projection=$i(t?t.length:1,null),i=r.slice();let s=n.child;for(;null!==s;){const c=t?nF(s,t):0;null!==c&&(i[c]?i[c].projectionNext=s:r[c]=s,i[c]=s),s=s.next}}}function ip(t,n=0,e){const r=Rt(),i=Cr(),s=_g(i,mn+t,16,null,e||null);null===s.projection&&(s.projection=n),fo(),(!r[dr]||zo())&&32!=(32&s.flags)&&function In(t,n,e){cn(n[qn],0,n,e,Je(t,e,n),Ot(e.parent||n[wo],e,n))}(i,r,s)}function sb(t,n){return t<<17|n<<2}function Zf(t){return t>>17&32767}function gw(t){return 2|t}function op(t){return(131068&t)>>2}function mw(t,n){return-131069&t|n<<2}function vw(t){return 1|t}function Y1(t,n,e,r,i){const s=t[e+1],c=null===n;let m=r?Zf(s):op(s),_=!1;for(;0!==m&&(!1===_||c);){const U=t[m+1];lF(t[m],n)&&(_=!0,t[m+1]=r?vw(U):gw(U)),m=r?Zf(U):op(U)}_&&(t[e+1]=r?gw(s):vw(s))}function lF(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ho(t,n)>=0}function Jm(t,n,e){return Wu(t,n,e,!1),Jm}function Ga(t,n){return Wu(t,n,null,!0),Ga}function Wu(t,n,e,r){const i=Rt(),s=Cr(),c=Go(2);s.firstUpdatePass&&function tS(t,n,e,r){const i=t.data;if(null===i[e+1]){const s=i[Do()],c=function eS(t,n){return n>=t.expandoStartIndex}(t,e);(function oS(t,n){return 0!=(t.flags&(n?8:16))})(s,r)&&null===n&&!c&&(n=!1),n=function vF(t,n,e,r){const i=function Pf(t){const n=Hn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let s=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(e=ev(e=yw(null,t,n,e,r),n.attrs,r),s=null);else{const c=n.directiveStylingLast;if(-1===c||t[c]!==i)if(e=yw(i,t,n,e,r),null===s){let _=function yF(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==op(r))return t[Zf(r)]}(t,n,r);void 0!==_&&Array.isArray(_)&&(_=yw(null,t,n,_[1],r),_=ev(_,n.attrs,r),function bF(t,n,e,r){t[Zf(e?n.classBindings:n.styleBindings)]=r}(t,n,r,_))}else s=function _F(t,n,e){let r;const i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++)r=ev(r,t[s].hostAttrs,e);return ev(r,n.attrs,e)}(t,n,r)}return void 0!==s&&(r?n.residualClasses=s:n.residualStyles=s),e}(i,s,n,r),function aF(t,n,e,r,i,s){let c=s?n.classBindings:n.styleBindings,m=Zf(c),_=op(c);t[r]=e;let U,O=!1;if(Array.isArray(e)?(U=e[1],(null===U||ho(e,U)>0)&&(O=!0)):U=e,i)if(0!==_){const ge=Zf(t[m+1]);t[r+1]=sb(ge,m),0!==ge&&(t[ge+1]=mw(t[ge+1],r)),t[m+1]=function iF(t,n){return 131071&t|n<<17}(t[m+1],r)}else t[r+1]=sb(m,0),0!==m&&(t[m+1]=mw(t[m+1],r)),m=r;else t[r+1]=sb(_,0),0===m?m=r:t[_+1]=mw(t[_+1],r),_=r;O&&(t[r+1]=gw(t[r+1])),Y1(t,U,r,!0),Y1(t,U,r,!1),function sF(t,n,e,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof n&&ho(s,n)>=0&&(e[r+1]=vw(e[r+1]))}(n,U,t,r,s),c=sb(m,_),s?n.classBindings=c:n.styleBindings=c}(i,s,n,e,c,r)}}(s,t,c,r),n!==br&&Ss(i,c,n)&&function rS(t,n,e,r,i,s,c,m){if(!(3&n.type))return;const _=t.data,O=_[m+1],U=function oF(t){return 1==(1&t)}(O)?iS(_,n,e,i,op(O),c):void 0;lb(U)||(lb(s)||function rF(t){return 2==(2&t)}(O)&&(s=iS(_,null,e,i,m,c)),function kr(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let s=-1===r.indexOf("-")?void 0:na.DashCase;null==i?t.removeStyle(e,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=na.Important),t.setStyle(e,r,i,s))}}(r,c,Md(Do(),e),i,s))}(s,s.data[Do()],i,i[qn],t,i[c+1]=function EF(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=er(Io(t)))),t}(n,e),r,c)}function yw(t,n,e,r,i){let s=null;const c=e.directiveEnd;let m=e.directiveStylingLast;for(-1===m?m=e.directiveStart:m++;m<c&&(s=n[m],r=ev(r,s.hostAttrs,i),s!==t);)m++;return null!==t&&(e.directiveStylingLast=m),r}function ev(t,n,e){const r=e?1:2;let i=-1;if(null!==n)for(let s=0;s<n.length;s++){const c=n[s];"number"==typeof c?i=c:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Gr(t,c,!!e||n[++s]))}return void 0===t?null:t}function iS(t,n,e,r,i,s){const c=null===n;let m;for(;i>0;){const _=t[i],O=Array.isArray(_),U=O?_[1]:_,K=null===U;let ge=e[i+1];ge===br&&(ge=K?Dr:void 0);let ve=K?Ei(ge,r):U===r?ge:void 0;if(O&&!lb(ve)&&(ve=Ei(_,r)),lb(ve)&&(m=ve,c))return m;const Me=t[i+1];i=c?Zf(Me):op(Me)}if(null!==n){let _=s?n.residualClasses:n.residualStyles;null!=_&&(m=Ei(_,r))}return m}function lb(t){return void 0!==t}function mt(t,n=""){const e=Rt(),r=Cr(),i=t+mn,s=r.firstCreatePass?_g(r,i,1,n,null):r.data[i],c=aS(r,e,s,n,t);e[i]=c,Hd()&&Nt(r,e,c,s),bs(s,!1)}let aS=(t,n,e,r,i)=>(au(!0),function Z(t,n){return t.createText(n)}(n[qn],r));function ap(t){return Pl("",t,""),ap}function Pl(t,n,e){const r=Rt(),i=function Cg(t,n,e,r){return Ss(t,Hs(),e)?n+_n(e)+r:br}(r,t,n,e);return i!==br&&rf(r,Do(),i),Pl}function ub(t,n,e,r,i){const s=Rt(),c=xg(s,t,n,e,r,i);return c!==br&&rf(s,Do(),c),ub}const Ng="en-US";let TS=Ng;function ww(t,n,e,r,i){if(t=on(t),Array.isArray(t))for(let s=0;s<t.length;s++)ww(t[s],n,e,r,i);else{const s=Cr(),c=Rt();let m=Qh(t)?t:on(t.provide),_=yD(t);const O=Uo(),U=1048575&O.providerIndexes,K=O.directiveStart,ge=O.providerIndexes>>20;if(Qh(t)||!t.multi){const ve=new Rc(_,i,Ye),Me=xw(m,n,i?U:U+ge,K);-1===Me?(zf(Wd(O,c),s,m),Cw(s,t,n.length),n.push(m),O.directiveStart++,O.directiveEnd++,i&&(O.providerIndexes+=1048576),e.push(ve),c.push(ve)):(e[Me]=ve,c[Me]=ve)}else{const ve=xw(m,n,U+ge,K),Me=xw(m,n,U,U+ge),Xe=Me>=0&&e[Me];if(i&&!Xe||!i&&!(ve>=0&&e[ve])){zf(Wd(O,c),s,m);const ct=function W2(t,n,e,r,i){const s=new Rc(t,e,Ye);return s.multi=[],s.index=n,s.componentProviders=0,QS(s,i,r&&!e),s}(i?j2:G2,e.length,i,r,_);!i&&Xe&&(e[Me].providerFactory=ct),Cw(s,t,n.length,0),n.push(m),O.directiveStart++,O.directiveEnd++,i&&(O.providerIndexes+=1048576),e.push(ct),c.push(ct)}else Cw(s,t,ve>-1?ve:Me,QS(e[i?Me:ve],_,!i&&r));!i&&r&&Xe&&e[Me].componentProviders++}}}function Cw(t,n,e,r){const i=Qh(n),s=function jk(t){return!!t.useClass}(n);if(i||s){const _=(s?on(n.useClass):n).prototype.ngOnDestroy;if(_){const O=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const U=O.indexOf(e);-1===U?O.push(e,[r,_]):O[U+1].push(r,_)}else O.push(e,_)}}}function QS(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function xw(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function G2(t,n,e,r){return Ew(this.multi,[])}function j2(t,n,e,r){const i=this.multi;let s;if(this.providerFactory){const c=this.providerFactory.componentProviders,m=Bu(e,e[gn],this.providerFactory.index,r);s=m.slice(0,c),Ew(i,s);for(let _=c;_<m.length;_++)s.push(m[_])}else s=[],Ew(i,s);return s}function Ew(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Xr(t,n=[]){return e=>{e.providersResolver=(r,i)=>function U2(t,n,e){const r=Cr();if(r.firstCreatePass){const i=ms(t);ww(e,r.data,r.blueprint,i,!0),ww(n,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,n)}}class Rg{}class JS{}class Dw extends Rg{constructor(n,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new c1(this);const i=so(n);this._bootstrapComponents=nf(i.bootstrap),this._r3Injector=GD(n,e,[{provide:Rg,useValue:this},{provide:vg,useValue:this.componentFactoryResolver},...r],er(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Sw extends JS{constructor(n){super(),this.moduleType=n}create(n){return new Dw(this.moduleType,n,[])}}class eT extends Rg{constructor(n){super(),this.componentFactoryResolver=new c1(this),this.instance=null;const e=new R_([...n.providers,{provide:Rg,useValue:this},{provide:vg,useValue:this.componentFactoryResolver}],n.parent||Gy(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Tw(t,n,e=null){return new eT({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let X2=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=pD(0,e.type),i=r.length>0?Tw([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=an({token:t,providedIn:"environment",factory:()=>new t(Pt(Fc))}),t})();function tT(t){t.getStandaloneInjector=n=>n.get(X2).getOrCreateStandaloneInjector(t)}function pb(t,n,e){const r=Wi()+t,i=Rt();return i[r]===br?zc(i,r,e?n.call(e):n()):function Ym(t,n){return t[n]}(i,r)}function Yu(t,n,e,r){return function lT(t,n,e,r,i,s){const c=n+e;return Ss(t,c,i)?zc(t,c+1,s?r.call(s,i):r(i)):av(t,c+1)}(Rt(),Wi(),t,n,e,r)}function Iw(t,n,e,r,i){return function uT(t,n,e,r,i,s,c){const m=n+e;return ep(t,m,i,s)?zc(t,m+2,c?r.call(c,i,s):r(i,s)):av(t,m+2)}(Rt(),Wi(),t,n,e,r,i)}function av(t,n){const e=t[n];return e===br?void 0:e}function Aw(t){return n=>{setTimeout(t,void 0,n)}}const ur=class vB extends It{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let i=n,s=e||(()=>null),c=r;if(n&&"object"==typeof n){const _=n;i=_.next?.bind(_),s=_.error?.bind(_),c=_.complete?.bind(_)}this.__isAsync&&(s=Aw(s),i&&(i=Aw(i)),c&&(c=Aw(c)));const m=super.subscribe({next:i,error:s,complete:c});return n instanceof C&&n.add(m),m}};function yB(){return this._results[Symbol.iterator]()}class kg{get changes(){return this._changes||(this._changes=new ur)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=kg.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=yB)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const i=function hr(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function nr(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=n[r];if(e&&(i=e(i),s=e(s)),s!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ws=(()=>{class t{}return t.__NG_ELEMENT_ID__=wB,t})();const bB=Ws,_B=class extends bB{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e,null)}createEmbeddedViewImpl(n,e,r){const c=this._declarationTContainer.tView,m=Zy(this._declarationLView,c,n,4096&this._declarationLView[Wn]?4096:16,null,c.declTNode,null,null,null,e||null,r||null);m[gs]=this._declarationLView[this._declarationTContainer.index];const O=this._declarationLView[uo];return null!==O&&(m[uo]=O.createEmbeddedView(c)),aw(c,m,n),new Wm(m)}};function wB(){return gb(Uo(),Rt())}function gb(t,n){return 4&t.type?new _B(n,t,yg(t,n)):null}let ja=(()=>{class t{}return t.__NG_ELEMENT_ID__=MB,t})();function MB(){return yT(Uo(),Rt())}const IB=ja,mT=class extends IB{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return yg(this._hostTNode,this._hostLView)}get injector(){return new Vu(this._hostTNode,this._hostLView)}get parentInjector(){const n=$d(this._hostTNode,this._hostLView);if(Fh(n)){const e=Gd(n,this._hostLView),r=Fu(n);return new Vu(e[gn].data[r+8],e)}return new Vu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=vT(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-si}createEmbeddedView(n,e,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const m=n.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(m,i,false),m}createComponent(n,e,r,i,s){const c=n&&!function Mn(t){return"function"==typeof t}(n);let m;if(c)m=e;else{const Fe=e||{};m=Fe.index,r=Fe.injector,i=Fe.projectableNodes,s=Fe.environmentInjector||Fe.ngModuleRef}const _=c?n:new $m(Hr(n)),O=r||this.parentInjector;if(!s&&null==_.ngModule){const Xe=(c?O:this.parentInjector).get(Fc,null);Xe&&(s=Xe)}Hr(_.componentType??{});const ve=_.create(O,i,null,s);return this.insertImpl(ve.hostView,m,false),ve}insert(n,e){return this.insertImpl(n,e,!1)}insertImpl(n,e,r){const i=n._lView,s=i[gn];if(function Ad(t){return Ba(t[Li])}(i)){const _=this.indexOf(n);if(-1!==_)this.detach(_);else{const O=i[Li],U=new mT(O,O[wo],O[Li]);U.detach(U.indexOf(n))}}const c=this._adjustIndex(e),m=this._lContainer;if(function be(t,n,e,r){const i=si+r,s=e.length;r>0&&(e[i-1][la]=n),r<s-si?(n[la]=e[i],xi(e,si+r,n)):(e.push(n),n[la]=null),n[Li]=e;const c=n[gs];null!==c&&e!==c&&function Te(t,n){const e=t[Mu];n[Gi]!==n[Li][Li][Gi]&&(t[xl]=!0),null===e?t[Mu]=[n]:e.push(n)}(c,n);const m=n[uo];null!==m&&m.insertView(t),n[Wn]|=128}(s,i,m,c),!r){const _=Xn(c,m),O=i[qn],U=yt(O,m[Bs]);null!==U&&function ye(t,n,e,r,i,s){r[lo]=i,r[wo]=n,Bn(t,r,e,1,i,s)}(s,m[wo],O,i,U,_)}return n.attachToViewContainerRef(),xi(Nw(m),c,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=vT(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=ke(this._lContainer,e);r&&(Wo(Nw(this._lContainer),e),Pe(r[gn],r))}detach(n){const e=this._adjustIndex(n,-1),r=ke(this._lContainer,e);return r&&null!=Wo(Nw(this._lContainer),e)?new Wm(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function vT(t){return t[8]}function Nw(t){return t[8]||(t[8]=[])}function yT(t,n){let e;const r=n[t.index];return Ba(r)?e=r:(e=QD(r,n,null,t),n[t.index]=e,Qy(n,e)),bT(e,n,t,r),new mT(e,t,n)}let bT=function _T(t,n,e,r){if(t[Bs])return;let i;i=8&e.type?hi(r):function AB(t,n){const e=t[qn],r=e.createComment(""),i=ji(n,t);return We(e,yt(e,i),r,function At(t,n){return t.nextSibling(n)}(e,i),!1),r}(n,e),t[Bs]=i};class Rw{constructor(n){this.queryList=n,this.matches=null}clone(){return new Rw(this.queryList)}setDirty(){this.queryList.setDirty()}}class kw{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,i=[];for(let s=0;s<r;s++){const c=e.getByIndex(s);i.push(this.queries[c.indexInDeclarationView].clone())}return new kw(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==DT(n,e).matches&&this.queries[e].setDirty()}}class wT{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class Pw{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,s=this.getByIndex(r).embeddedTView(n,i);s&&(s.indexInDeclarationView=r,null!==e?e.push(s):e=[s])}return null!==e?new Pw(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Lw{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Lw(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(n,e,RB(e,s)),this.matchTNodeWithReadOption(n,e,sl(e,n,s,!1,!1))}else r===Ws?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,sl(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ii||i===ja||i===Ws&&4&e.type)this.addMatch(e.index,-2);else{const s=sl(e,n,i,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function RB(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function PB(t,n,e,r){return-1===e?function kB(t,n){return 11&t.type?yg(t,n):4&t.type?gb(t,n):null}(n,t):-2===e?function LB(t,n,e){return e===ii?yg(n,t):e===Ws?gb(n,t):e===ja?yT(n,t):void 0}(t,n,r):Bu(t,t[gn],e,n)}function CT(t,n,e,r){const i=n[uo].queries[r];if(null===i.matches){const s=t.data,c=e.matches,m=[];for(let _=0;_<c.length;_+=2){const O=c[_];m.push(O<0?null:PB(n,s[O],c[_+1],e.metadata.read))}i.matches=m}return i.matches}function Fw(t,n,e,r){const i=t.queries.getByIndex(e),s=i.matches;if(null!==s){const c=CT(t,n,i,e);for(let m=0;m<s.length;m+=2){const _=s[m];if(_>0)r.push(c[m/2]);else{const O=s[m+1],U=n[-_];for(let K=si;K<U.length;K++){const ge=U[K];ge[gs]===ge[Li]&&Fw(ge[gn],ge,O,r)}if(null!==U[Mu]){const K=U[Mu];for(let ge=0;ge<K.length;ge++){const ve=K[ge];Fw(ve[gn],ve,O,r)}}}}}return r}function xn(t){const n=Rt(),e=Cr(),r=Pd();zs(r+1);const i=DT(e,r);if(t.dirty&&function Sc(t){return 4==(4&t[Wn])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Fw(e,n,r,[]):CT(e,n,i,r);t.reset(s,cP),t.notifyOnChanges()}return!0}return!1}function Nn(t,n,e){const r=Cr();r.firstCreatePass&&(ET(r,new wT(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),xT(r,Rt(),n)}function Qf(t,n,e,r){const i=Cr();if(i.firstCreatePass){const s=Uo();ET(i,new wT(n,e,r),s.index),function BB(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(i,t),2==(2&e)&&(i.staticContentQueries=!0)}xT(i,Rt(),e)}function En(){return function FB(t,n){return t[uo].queries[n].queryList}(Rt(),Pd())}function xT(t,n,e){const r=new kg(4==(4&e));(function RP(t,n,e,r){const i=e1(n);i.push(e),t.firstCreatePass&&t1(t).push(r,i.length-1)})(t,n,r,r.destroy),null===n[uo]&&(n[uo]=new kw),n[uo].queries.push(new Rw(r))}function ET(t,n,e){null===t.queries&&(t.queries=new Pw),t.queries.track(new Lw(n,e))}function DT(t,n){return t.queries.getByIndex(n)}function ST(t,n){return gb(t,n)}const Gw=new qt("Application Initializer");let jw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=nn(Gw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const i of this.appInits){const s=i();if(Qm(s))e.push(s);else if(R1(s)){const c=new Promise((m,_)=>{s.subscribe({complete:m,error:_})});e.push(c)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),GT=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const jc=new qt("LocaleId",{providedIn:"root",factory:()=>nn(jc,Vn.Optional|Vn.SkipSelf)||function oV(){return typeof $localize<"u"&&$localize.locale||Ng}()});let vb=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new hn(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class sV{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let jT=(()=>{class t{compileModuleSync(e){return new Sw(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),s=nf(so(e).declarations).reduce((c,m)=>{const _=Hr(m);return _&&c.push(new $m(_)),c},[]);return new sV(r,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function YT(...t){}class Kr{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ur(!1),this.onMicrotaskEmpty=new ur(!1),this.onStable=new ur(!1),this.onError=new ur(!1),typeof Zone>"u")throw new et(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function cV(){let t=vi.requestAnimationFrame,n=vi.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function hV(t){const n=()=>{!function fV(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(vi,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,$w(t),t.isCheckStableRunning=!0,Ww(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),$w(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,s,c,m)=>{try{return XT(t),e.invokeTask(i,s,c,m)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&n(),KT(t)}},onInvoke:(e,r,i,s,c,m,_)=>{try{return XT(t),e.invoke(i,s,c,m,_)}finally{t.shouldCoalesceRunChangeDetection&&n(),KT(t)}},onHasTask:(e,r,i,s)=>{e.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,$w(t),Ww(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,r,i,s)=>(e.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Kr.isInAngularZone())throw new et(909,!1)}static assertNotInAngularZone(){if(Kr.isInAngularZone())throw new et(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){const s=this._inner,c=s.scheduleEventTask("NgZoneEvent: "+i,n,dV,YT,YT);try{return s.runTask(c,e,r)}finally{s.cancelTask(c)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const dV={};function Ww(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $w(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function XT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function KT(t){t._nesting--,Ww(t)}class pV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ur,this.onMicrotaskEmpty=new ur,this.onStable=new ur,this.onError=new ur}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}}const qT=new qt("",{providedIn:"root",factory:ZT});function ZT(){const t=nn(Kr);let n=!0;return rt(new Ze(i=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(n),i.complete()})}),new Ze(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Kr.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const c=t.onUnstable.subscribe(()=>{Kr.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),c.unsubscribe()}}).pipe(Qt()))}const QT=new qt(""),yb=new qt("");let Kw,Yw=(()=>{class t{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Kw||(function gV(t){Kw=t}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Kr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==s),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}}return t.\u0275fac=function(e){return new(e||t)(Pt(Kr),Pt(Xw),Pt(yb))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})(),Xw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return Kw?.findTestabilityInTree(this,e,r)??null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Jf=null;const JT=new qt("AllowMultipleToken"),qw=new qt("PlatformDestroyListeners"),Zw=new qt("appBootstrapListener");class tM{constructor(n,e){this.name=n,this.token=e}}function rM(t,n,e=[]){const r=`Platform: ${n}`,i=new qt(r);return(s=[])=>{let c=Qw();if(!c||c.injector.get(JT,!1)){const m=[...e,...s,{provide:i,useValue:!0}];t?t(m):function yV(t){if(Jf&&!Jf.get(JT,!1))throw new et(400,!1);(function eM(){!function Ou(t){Mh=t}(()=>{throw new et(600,!1)})})(),Jf=t;const n=t.get(oM);(function nM(t){t.get(bD,null)?.forEach(e=>e())})(t)}(function iM(t=[],n){return ju.create({name:n,providers:[{provide:O_,useValue:"platform"},{provide:qw,useValue:new Set([()=>Jf=null])},...t]})}(m,r))}return function _V(t){const n=Qw();if(!n)throw new et(401,!1);return n}()}}function Qw(){return Jf?.get(oM)??null}let oM=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function wV(t="zone.js",n){return"noop"===t?new pV:"zone.js"===t?new Kr(n):t}(r?.ngZone,function aM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function Y2(t,n,e){return new Dw(t,n,e)}(e.moduleType,this.injector,function dM(t){return[{provide:Kr,useFactory:t},{provide:Fm,multi:!0,useFactory:()=>{const n=nn(xV,{optional:!0});return()=>n.initialize()}},{provide:cM,useFactory:CV},{provide:qT,useFactory:ZT}]}(()=>i)),c=s.injector.get(Vc,null);return i.runOutsideAngular(()=>{const m=i.onError.subscribe({next:_=>{c.handleError(_)}});s.onDestroy(()=>{bb(this._modules,s),m.unsubscribe()})}),function sM(t,n,e){try{const r=e();return Qm(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(c,i,()=>{const m=s.injector.get(jw);return m.runInitializers(),m.donePromise.then(()=>(function MS(t){io(t,"Expected localeId to be defined"),"string"==typeof t&&(TS=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(jc,Ng)||Ng),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,r=[]){const i=lM({},r);return function mV(t,n,e){const r=new Sw(e);return Promise.resolve(r)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(e){const r=e.injector.get(lp);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new et(-403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new et(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(qw,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Pt(ju))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function lM(t,n){return Array.isArray(n)?n.reduce(lM,t):{...t,...n}}let lp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nn(cM),this.zoneIsStable=nn(qT),this.componentTypes=[],this.components=[],this.isStable=nn(vb).hasPendingTasks.pipe(Ht(e=>e?tt(!1):this.zoneIsStable),tn(),Qt()),this._injector=nn(Fc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof DD;if(!this._injector.get(jw).done)throw!i&&function ao(t){const n=Hr(t)||Ui(t)||oo(t);return null!==n&&n.standalone}(e),new et(405,!1);let c;c=i?e:this._injector.get(vg).resolveComponentFactory(e),this.componentTypes.push(c.componentType);const m=function vV(t){return t.isBoundToModule}(c)?void 0:this._injector.get(Rg),O=c.create(ju.NULL,[],r||c.selector,m),U=O.location.nativeElement,K=O.injector.get(QT,null);return K?.registerApplication(U),O.onDestroy(()=>{this.detachView(O.hostView),bb(this.components,O),K?.unregisterApplication(U)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new et(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;bb(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(Zw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>bb(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new et(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bb(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const cM=new qt("",{providedIn:"root",factory:()=>nn(Vc).handleError.bind(void 0)});function CV(){const t=nn(Kr),n=nn(Vc);return e=>t.runOutsideAngular(()=>n.handleError(e))}let xV=(()=>{class t{constructor(){this.zone=nn(Kr),this.applicationRef=nn(lp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let ls=(()=>{class t{}return t.__NG_ELEMENT_ID__=DV,t})();function DV(t){return function SV(t,n,e){if(Iu(t)&&!e){const r=Ha(t.index,n);return new Wm(r,r)}return 47&t.type?new Wm(n[Gi],n):null}(Uo(),Rt(),16==(16&t))}class gM{constructor(){}supports(n){return nb(n)}create(n){return new NV(n)}}const OV=(t,n)=>n;class NV{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||OV}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,s=null;for(;e||r;){const c=!r||e&&e.currentIndex<vM(r,i,s)?e:r,m=vM(c,i,s),_=c.currentIndex;if(c===r)i--,r=r._nextRemoved;else if(e=e._next,null==c.previousIndex)i++;else{s||(s=[]);const O=m-i,U=_-i;if(O!=U){for(let ge=0;ge<O;ge++){const ve=ge<s.length?s[ge]:s[ge]=0,Me=ve+ge;U<=Me&&Me<O&&(s[ge]=ve+1)}s[c.previousIndex]=U-O}}m!==_&&n(c,m,_)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!nb(n))throw new et(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,s,c,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let m=0;m<this.length;m++)s=n[m],c=this._trackByFn(m,s),null!==e&&Object.is(e.trackById,c)?(r&&(e=this._verifyReinsertion(e,s,c,m)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,c,m),r=!0),e=e._next}else i=0,function TL(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,m=>{c=this._trackByFn(i,m),null!==e&&Object.is(e.trackById,c)?(r&&(e=this._verifyReinsertion(e,m,c,i)),Object.is(e.item,m)||this._addIdentityChange(e,m)):(e=this._mismatch(e,m,c,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,s,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,s,i)):n=this._addAfter(new RV(e,r),s,i),n}_verifyReinsertion(n,e,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,s=n._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const i=null===e?this._itHead:e._next;return n._next=i,n._prev=e,null===i?this._itTail=n:i._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new mM),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mM),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class RV{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kV{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class mM{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new kV,this.map.set(e,r)),r.add(n)}get(n,e){const i=this.map.get(n);return i?i.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vM(t,n,e){const r=t.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}class yM{constructor(){}supports(n){return n instanceof Map||sw(n)}create(){return new PV}}class PV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||sw(n)))throw new et(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,e);const s=i._prev,c=i._next;return s&&(s._next=c),c&&(c._prev=s),i._next=null,i._prev=null,i}const r=new LV(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}}class LV{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bM(){return new cp([new gM])}let cp=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||bM()),deps:[[t,new Uh,new os]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new et(901,!1)}}return t.\u0275prov=an({token:t,providedIn:"root",factory:bM}),t})();function _M(){return new uv([new yM])}let uv=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||_M()),deps:[[t,new Uh,new os]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new et(901,!1)}}return t.\u0275prov=an({token:t,providedIn:"root",factory:_M}),t})();const VV=rM(null,"core",[]);let HV=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(Pt(lp))},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({}),t})();function Fg(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let oC=null;function eh(){return oC}class QV{}const Di=new qt("DocumentToken");let aC=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(eH)},providedIn:"platform"}),t})();const JV=new qt("Location Initialized");let eH=(()=>{class t extends aC{constructor(){super(),this._doc=nn(Di),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return eh().getBaseHref(this._doc)}onPopState(e){const r=eh().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=eh().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function sC(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function TM(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function af(t){return t&&"?"!==t[0]?"?"+t:t}let dp=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(IM)},providedIn:"root"}),t})();const MM=new qt("appBaseHref");let IM=(()=>{class t extends dp{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??nn(Di).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return sC(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+af(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){const c=this.prepareExternalUrl(i+af(s));this._platformLocation.pushState(e,r,c)}replaceState(e,r,i,s){const c=this.prepareExternalUrl(i+af(s));this._platformLocation.replaceState(e,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(aC),Pt(MM,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tH=(()=>{class t extends dp{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=sC(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let c=this.prepareExternalUrl(i+af(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,r,c)}replaceState(e,r,i,s){let c=this.prepareExternalUrl(i+af(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(aC),Pt(MM,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})(),lC=(()=>{class t{constructor(e){this._subject=new ur,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function iH(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(TM(AM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+af(r))}normalize(e){return t.stripTrailingSlash(function rH(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,AM(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+af(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+af(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return t.normalizeQueryParams=af,t.joinWithSlash=sC,t.stripTrailingSlash=TM,t.\u0275fac=function(e){return new(e||t)(Pt(dp))},t.\u0275prov=an({token:t,factory:function(){return function nH(){return new lC(Pt(dp))}()},providedIn:"root"}),t})();function AM(t){return t.replace(/\/index.html$/,"")}function VM(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}const yC=/\s+/,HM=[];let fv=(()=>{class t{constructor(e,r,i,s){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=HM,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(yC):HM}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(yC):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(yC).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(e){return new(e||t)(Ye(cp),Ye(uv),Ye(ii),Ye(tf))},t.\u0275dir=un({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class UH{constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bg=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,s,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new UH(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===s?void 0:s);else if(null!==s){const m=r.get(s);r.move(m,c),UM(m,i)}});for(let i=0,s=r.length;i<s;i++){const m=r.get(i).context;m.index=i,m.count=s,m.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{UM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ye(ja),Ye(Ws),Ye(cp))},t.\u0275dir=un({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function UM(t,n){t.context.$implicit=n.item}let fl=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new GH,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){GM("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){GM("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ye(ja),Ye(Ws))},t.\u0275dir=un({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class GH{constructor(){this.$implicit=null,this.ngIf=null}}function GM(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${er(n)}'.`)}let wC=(()=>{class t{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,s]=e.split("."),c=-1===i.indexOf("-")?void 0:na.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(uv),Ye(tf))},t.\u0275dir=un({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),t})(),EC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({}),t})();const $M="browser";function YM(t){return"server"===t}let _3=(()=>{class t{}return t.\u0275prov=an({token:t,providedIn:"root",factory:()=>new w3(Pt(Di),window)}),t})();class w3{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function C3(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const c=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=XM(this.window.history)||XM(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function XM(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class KM{}class W3 extends QV{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class TC extends W3{static makeCurrent(){!function ZV(t){oC||(oC=t)}(new TC)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function $3(){return pv=pv||document.querySelector("base"),pv?pv.getAttribute("href"):null}();return null==e?null:function Y3(t){kb=kb||document.createElement("a"),kb.setAttribute("href",t);const n=kb.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){pv=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return VM(document.cookie,n)}}let kb,pv=null,K3=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const MC=new qt("EventManagerPlugins");let eI=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new et(5101,!1);return this._eventNameToPlugin.set(e,r),r}}return t.\u0275fac=function(e){return new(e||t)(Pt(MC),Pt(Kr))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();class tI{constructor(n){this._doc=n}}const IC="ng-app-id";let nI=(()=>{class t{constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=YM(s),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${IC}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const s=i.get(e);return s.usage+=r,s.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===e)return i.delete(r),s.removeAttribute(IC),s;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(IC,this.appId),c}}addStyleToHost(e,r){const i=this.getStyleElement(e,r);e.appendChild(i);const s=this.styleRef,c=s.get(r)?.elements;c?c.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di),Pt(jy),Pt(L_,8),Pt(qf))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const AC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},OC=/%COMP%/g,J3=new qt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function iI(t,n){return n.map(e=>e.replace(OC,t))}let NC=(()=>{class t{constructor(e,r,i,s,c,m,_,O=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=m,this.ngZone=_,this.nonce=O,this.rendererByCompId=new Map,this.platformIsServer=YM(m),this.defaultRenderer=new RC(e,c,_,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ba.ShadowDom&&(r={...r,encapsulation:ba.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof aI?i.applyToHost(e):i instanceof kC&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const c=this.doc,m=this.ngZone,_=this.eventManager,O=this.sharedStylesHost,U=this.removeStylesOnCompDestroy,K=this.platformIsServer;switch(r.encapsulation){case ba.Emulated:s=new aI(_,O,r,this.appId,U,c,m,K);break;case ba.ShadowDom:return new r5(_,O,e,r,c,m,this.nonce,K);default:s=new kC(_,O,r,U,c,m,K)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(e){return new(e||t)(Pt(eI),Pt(nI),Pt(jy),Pt(J3),Pt(Di),Pt(qf),Pt(Kr),Pt(L_))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();class RC{constructor(n,e,r,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(AC[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(oI(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(oI(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new et(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;const s=AC[i];s?n.setAttributeNS(s,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const i=AC[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(na.DashCase|na.Important)?n.style.setProperty(e,r,i&na.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&na.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){if("string"==typeof n&&!(n=eh().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function oI(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class r5 extends RC{constructor(n,e,r,i,s,c,m,_){super(n,s,c,_),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const O=iI(i.id,i.styles);for(const U of O){const K=document.createElement("style");m&&K.setAttribute("nonce",m),K.textContent=U,this.shadowRoot.appendChild(K)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kC extends RC{constructor(n,e,r,i,s,c,m,_){super(n,s,c,m),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.rendererUsageCount=0,this.styles=_?iI(_,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class aI extends kC{constructor(n,e,r,i,s,c,m,_){const O=i+"-"+r.id;super(n,e,r,s,c,m,_,O),this.contentAttr=function e5(t){return"_ngcontent-%COMP%".replace(OC,t)}(O),this.hostAttr=function t5(t){return"_nghost-%COMP%".replace(OC,t)}(O)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}let o5=(()=>{class t extends tI{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const sI=["alt","control","meta","shift"],a5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},s5={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let l5=(()=>{class t extends tI{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,i){const s=t.parseEventName(r),c=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>eh().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let c="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),c="code."),sI.forEach(O=>{const U=r.indexOf(O);U>-1&&(r.splice(U,1),c+=O+".")}),c+=s,0!=r.length||0===s.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(e,r){let i=a5[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),sI.forEach(c=>{c!==i&&(0,s5[c])(e)&&(s+=c+".")}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{t.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const f5=rM(VV,"browser",[{provide:qf,useValue:$M},{provide:bD,useValue:function u5(){TC.makeCurrent()},multi:!0},{provide:Di,useFactory:function d5(){return function jr(t){An=t}(document),document},deps:[]}]),h5=new qt(""),cI=[{provide:yb,useClass:class X3{addToWindow(n){vi.getAngularTestability=(r,i=!0)=>{const s=n.findTestabilityInTree(r,i);if(null==s)throw new et(5103,!1);return s},vi.getAllAngularTestabilities=()=>n.getAllTestabilities(),vi.getAllAngularRootElements=()=>n.getAllRootElements(),vi.frameworkStabilizers||(vi.frameworkStabilizers=[]),vi.frameworkStabilizers.push(r=>{const i=vi.getAllAngularTestabilities();let s=i.length,c=!1;const m=function(_){c=c||_,s--,0==s&&r(c)};i.forEach(_=>{_.whenStable(m)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?eh().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:QT,useClass:Yw,deps:[Kr,Xw,yb]},{provide:Yw,useClass:Yw,deps:[Kr,Xw,yb]}],dI=[{provide:O_,useValue:"root"},{provide:Vc,useFactory:function c5(){return new Vc},deps:[]},{provide:MC,useClass:o5,multi:!0,deps:[Di,Kr,qf]},{provide:MC,useClass:l5,multi:!0,deps:[Di]},NC,nI,eI,{provide:zm,useExisting:NC},{provide:KM,useClass:K3,deps:[]},[]];let fI=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:jy,useValue:e.appId}]}}}return t.\u0275fac=function(e){return new(e||t)(Pt(h5,12))},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({providers:[...dI,...cI],imports:[EC,HV]}),t})(),hI=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di))},t.\u0275prov=an({token:t,factory:function(e){let r=null;return r=e?new e:function g5(){return new hI(Pt(Di))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;let Pb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(e){let r=null;return r=e?new(e||t):Pt(mI),r},providedIn:"root"}),t})(),mI=(()=>{class t extends Pb{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case pi.NONE:return r;case pi.HTML:return Da(r,"HTML")?Io(r):aD(this._doc,String(r)).toString();case pi.STYLE:return Da(r,"Style")?Io(r):r;case pi.SCRIPT:if(Da(r,"Script"))return Io(r);throw new et(5200,!1);case pi.URL:return Da(r,"URL")?Io(r):hg(String(r));case pi.RESOURCE_URL:if(Da(r,"ResourceURL"))return Io(r);throw new et(5201,!1);default:throw new et(5202,!1)}}bypassSecurityTrustHtml(e){return function Jd(t){return new Ol(t)}(e)}bypassSecurityTrustStyle(e){return function Xf(t){return new Nl(t)}(e)}bypassSecurityTrustScript(e){return function dg(t){return new Ea(t)}(e)}bypassSecurityTrustUrl(e){return function ef(t){return new ul(t)}(e)}bypassSecurityTrustResourceUrl(e){return function Es(t){return new ss(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di))},t.\u0275prov=an({token:t,factory:function(e){let r=null;return r=e?new e:function b5(t){return new mI(t.get(Di))}(Pt(ju)),r},providedIn:"root"}),t})();var Zu=(()=>((Zu=Zu||{})[Zu.Hide=0]="Hide",Zu[Zu.Show=1]="Show",Zu))();let yI=(()=>{class t{constructor(){this.toggleSubject=new It,this.toggleObservable=this.toggleSubject.asObservable()}hideAllComponents(e){this.toggleSubject.next({action:Zu.Hide,type:e})}showAllComponents(e){this.toggleSubject.next({action:Zu.Show,type:e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Lb(t){return!!t&&(t instanceof Ze||T(t.lift)&&T(t.subscribe))}const{isArray:_5}=Array,{getPrototypeOf:w5,prototype:C5,keys:x5}=Object;function bI(t){if(1===t.length){const n=t[0];if(_5(n))return{args:n,keys:null};if(function E5(t){return t&&"object"==typeof t&&w5(t)===C5}(n)){const e=x5(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:D5}=Array;function LC(t){return St(n=>function S5(t,n){return D5(n)?t(...n):t(n)}(t,n))}function _I(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function Fb(...t){const n=ko(t),e=Ka(t),{args:r,keys:i}=bI(t);if(0===r.length)return Ve([],n);const s=new Ze(function T5(t,n,e=Be){return r=>{wI(n,()=>{const{length:i}=t,s=new Array(i);let c=i,m=i;for(let _=0;_<i;_++)wI(n,()=>{const O=Ve(t[_],n);let U=!1;O.subscribe(pt(r,K=>{s[_]=K,U||(U=!0,m--),m||r.next(e(s.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,n,i?c=>_I(i,c):Be));return e?s.pipe(LC(e)):s}function wI(t,n,e){t?Ra(e,t,n):n()}const Bb=P(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Vb(...t){return function M5(){return ki(1)}()(Ve(t,ko(t)))}function CI(t){return new Ze(n=>{Ro(t()).subscribe(n)})}function Vg(t,n){const e=T(t)?t:()=>t,r=i=>i.error(e());return new Ze(n?i=>n.schedule(r,0,i):r)}function FC(){return it((t,n)=>{let e=null;t._refCount++;const r=pt(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const i=t._connection,s=e;e=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class BC extends Ze{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ut(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new C;const e=this.getSubject();n.add(this.source.subscribe(pt(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=C.EMPTY)}return n}refCount(){return FC()(this)}}function Wc(t){return t<=0?()=>qo:it((n,e)=>{let r=0;n.subscribe(pt(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function gv(...t){const n=ko(t);return it((e,r)=>{(n?Vb(t,e,n):Vb(t,e)).subscribe(r)})}function Ll(t,n){return it((e,r)=>{let i=0;e.subscribe(pt(r,s=>t.call(n,s,i++)&&r.next(s)))})}function Hb(t){return it((n,e)=>{let r=!1;n.subscribe(pt(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function xI(t=I5){return it((n,e)=>{let r=!1;n.subscribe(pt(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function I5(){return new Bb}function fp(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Ll((i,s)=>t(i,s,r)):Be,Wc(1),e?Hb(n):xI(()=>new Bb))}function Hg(t,n){return T(n)?Zi(t,n,1):Zi(t,1)}function oa(t,n,e){const r=T(t)||n||e?{next:t,error:n,complete:e}:t;return r?it((i,s)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let m=!0;i.subscribe(pt(s,_=>{var O;null===(O=r.next)||void 0===O||O.call(r,_),s.next(_)},()=>{var _;m=!1,null===(_=r.complete)||void 0===_||_.call(r),s.complete()},_=>{var O;m=!1,null===(O=r.error)||void 0===O||O.call(r,_),s.error(_)},()=>{var _,O;m&&(null===(_=r.unsubscribe)||void 0===_||_.call(r)),null===(O=r.finalize)||void 0===O||O.call(r)}))}):Be}function $c(t){return it((n,e)=>{let s,r=null,i=!1;r=n.subscribe(pt(e,void 0,void 0,c=>{s=Ro(t(c,$c(t)(n))),r?(r.unsubscribe(),r=null,s.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(e))})}function VC(t){return t<=0?()=>qo:it((n,e)=>{let r=[];n.subscribe(pt(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function zg(t){return it((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const Tr="primary",mv=Symbol("RouteTitle");class k5{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ug(t){return new k5(t)}function P5(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const c=r[s],m=t[s];if(c.startsWith(":"))i[c.substring(1)]=m;else if(c!==m.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Yc(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!EI(t[i],n[i]))return!1;return!0}function EI(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((i,s)=>r[s]===i)}return t===n}function DI(t){return t.length>0?t[t.length-1]:null}function nh(t){return Lb(t)?t:Qm(t)?Ve(Promise.resolve(t)):tt(t)}const F5={exact:function MI(t,n,e){if(!hp(t.segments,n.segments)||!zb(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!MI(t.children[r],n.children[r],e))return!1;return!0},subset:II},SI={exact:function B5(t,n){return Yc(t,n)},subset:function V5(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>EI(t[e],n[e]))},ignored:()=>!0};function TI(t,n,e){return F5[e.paths](t.root,n.root,e.matrixParams)&&SI[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function II(t,n,e){return AI(t,n,n.segments,e)}function AI(t,n,e,r){if(t.segments.length>e.length){const i=t.segments.slice(0,e.length);return!(!hp(i,e)||n.hasChildren()||!zb(i,e,r))}if(t.segments.length===e.length){if(!hp(t.segments,e)||!zb(t.segments,e,r))return!1;for(const i in n.children)if(!t.children[i]||!II(t.children[i],n.children[i],r))return!1;return!0}{const i=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(hp(t.segments,i)&&zb(t.segments,i,r)&&t.children[Tr])&&AI(t.children[Tr],n,s,r)}}function zb(t,n,e){return n.every((r,i)=>SI[e](t[i].parameters,r.parameters))}class Gg{constructor(n=new Si([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ug(this.queryParams)),this._queryParamMap}toString(){return U5.serialize(this)}}class Si{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ub(this)}}class vv{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ug(this.parameters)),this._parameterMap}toString(){return RI(this)}}function hp(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}let yv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return new HC},providedIn:"root"}),t})();class HC{parse(n){const e=new J5(n);return new Gg(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${bv(n.root,!0)}`,r=function W5(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(i=>`${Gb(e)}=${Gb(i)}`).join("&"):`${Gb(e)}=${Gb(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function G5(t){return encodeURI(t)}(n.fragment)}`:""}`}}const U5=new HC;function Ub(t){return t.segments.map(n=>RI(n)).join("/")}function bv(t,n){if(!t.hasChildren())return Ub(t);if(n){const e=t.children[Tr]?bv(t.children[Tr],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Tr&&r.push(`${i}:${bv(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function z5(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===Tr&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Tr&&(e=e.concat(n(i,r)))}),e}(t,(r,i)=>i===Tr?[bv(t.children[Tr],!1)]:[`${i}:${bv(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Tr]?`${Ub(t)}/${e[0]}`:`${Ub(t)}/(${e.join("//")})`}}function OI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gb(t){return OI(t).replace(/%3B/gi,";")}function zC(t){return OI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jb(t){return decodeURIComponent(t)}function NI(t){return jb(t.replace(/\+/g,"%20"))}function RI(t){return`${zC(t.path)}${function j5(t){return Object.keys(t).map(n=>`;${zC(n)}=${zC(t[n])}`).join("")}(t.parameters)}`}const $5=/^[^\/()?;#]+/;function UC(t){const n=t.match($5);return n?n[0]:""}const Y5=/^[^\/()?;=#]+/,K5=/^[^=?&#]+/,Z5=/^[^&#]+/;class J5{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Si([],{}):new Si([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Tr]=new Si(n,e)),r}parseSegment(){const n=UC(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new et(4009,!1);return this.capture(n),new vv(jb(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function X5(t){const n=t.match(Y5);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=UC(this.remaining);i&&(r=i,this.capture(r))}n[jb(e)]=jb(r)}parseQueryParam(n){const e=function q5(t){const n=t.match(K5);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const c=function Q5(t){const n=t.match(Z5);return n?n[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=NI(e),s=NI(r);if(n.hasOwnProperty(i)){let c=n[i];Array.isArray(c)||(c=[c],n[i]=c),c.push(s)}else n[i]=s}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=UC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new et(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=Tr);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[Tr]:new Si([],c),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new et(4011,!1)}}function kI(t){return t.segments.length>0?new Si([],{[Tr]:t}):t}function PI(t){const n={};for(const r of Object.keys(t.children)){const s=PI(t.children[r]);if(r===Tr&&0===s.segments.length&&s.hasChildren())for(const[c,m]of Object.entries(s.children))n[c]=m;else(s.segments.length>0||s.hasChildren())&&(n[r]=s)}return function e4(t){if(1===t.numberOfChildren&&t.children[Tr]){const n=t.children[Tr];return new Si(t.segments.concat(n.segments),n.children)}return t}(new Si(t.segments,n))}function pp(t){return t instanceof Gg}function LI(t){let n;const i=kI(function e(s){const c={};for(const _ of s.children){const O=e(_);c[_.outlet]=O}const m=new Si(s.url,c);return s===t&&(n=m),m}(t.root));return n??i}function FI(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(0===n.length)return GC(i,i,i,e,r);const s=function n4(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new VI(!0,0,t);let n=0,e=!1;const r=t.reduce((i,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const m={};return Object.entries(s.outlets).forEach(([_,O])=>{m[_]="string"==typeof O?O.split("/"):O}),[...i,{outlets:m}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===c?(s.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?e=!0:".."===m?n++:""!=m&&i.push(m))}),i):[...i,s]},[]);return new VI(e,n,r)}(n);if(s.toRoot())return GC(i,i,new Si([],{}),e,r);const c=function r4(t,n,e){if(t.isAbsolute)return new $b(n,!0,0);if(!e)return new $b(n,!1,NaN);if(null===e.parent)return new $b(e,!0,0);const r=Wb(t.commands[0])?0:1;return function o4(t,n,e){let r=t,i=n,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new et(4005,!1);i=r.segments.length}return new $b(r,!1,i-s)}(e,e.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),m=c.processChildren?wv(c.segmentGroup,c.index,s.commands):HI(c.segmentGroup,c.index,s.commands);return GC(i,c.segmentGroup,m,e,r)}function Wb(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function _v(t){return"object"==typeof t&&null!=t&&t.outlets}function GC(t,n,e,r,i){let c,s={};r&&Object.entries(r).forEach(([_,O])=>{s[_]=Array.isArray(O)?O.map(U=>`${U}`):`${O}`}),c=t===n?e:BI(t,n,e);const m=kI(PI(c));return new Gg(m,s,i)}function BI(t,n,e){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===n?e:BI(s,n,e)}),new Si(t.segments,r)}class VI{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Wb(r[0]))throw new et(4003,!1);const i=r.find(_v);if(i&&i!==DI(r))throw new et(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $b{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function HI(t,n,e){if(t||(t=new Si([],{})),0===t.segments.length&&t.hasChildren())return wv(t,n,e);const r=function s4(t,n,e){let r=0,i=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return s;const c=t.segments[i],m=e[r];if(_v(m))break;const _=`${m}`,O=r<e.length-1?e[r+1]:null;if(i>0&&void 0===_)break;if(_&&O&&"object"==typeof O&&void 0===O.outlets){if(!UI(_,O,c))return s;r+=2}else{if(!UI(_,{},c))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Si(t.segments.slice(0,r.pathIndex),{});return s.children[Tr]=new Si(t.segments.slice(r.pathIndex),t.children),wv(s,0,i)}return r.match&&0===i.length?new Si(t.segments,{}):r.match&&!t.hasChildren()?jC(t,n,e):r.match?wv(t,0,i):jC(t,n,e)}function wv(t,n,e){if(0===e.length)return new Si(t.segments,{});{const r=function a4(t){return _v(t[0])?t[0].outlets:{[Tr]:t}}(e),i={};if(!r[Tr]&&t.children[Tr]&&1===t.numberOfChildren&&0===t.children[Tr].segments.length){const s=wv(t.children[Tr],n,e);return new Si(t.segments,s.children)}return Object.entries(r).forEach(([s,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(i[s]=HI(t.children[s],n,c))}),Object.entries(t.children).forEach(([s,c])=>{void 0===r[s]&&(i[s]=c)}),new Si(t.segments,i)}}function jC(t,n,e){const r=t.segments.slice(0,n);let i=0;for(;i<e.length;){const s=e[i];if(_v(s)){const _=l4(s.outlets);return new Si(r,_)}if(0===i&&Wb(e[0])){r.push(new vv(t.segments[n].path,zI(e[0]))),i++;continue}const c=_v(s)?s.outlets[Tr]:`${s}`,m=i<e.length-1?e[i+1]:null;c&&m&&Wb(m)?(r.push(new vv(c,zI(m))),i+=2):(r.push(new vv(c,{})),i++)}return new Si(r,{})}function l4(t){const n={};return Object.entries(t).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[e]=jC(new Si([],{}),0,r))}),n}function zI(t){const n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function UI(t,n,e){return t==e.path&&Yc(n,e.parameters)}const Cv="imperative";class Xc{constructor(n,e){this.id=n,this.url=e}}class WC extends Xc{constructor(n,e,r="imperative",i=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gp extends Xc{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yb extends Xc{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xv extends Xc{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=16}}class $C extends Xc{constructor(n,e,r,i){super(n,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class u4 extends Xc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c4 extends Xc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d4 extends Xc{constructor(n,e,r,i,s){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class f4 extends Xc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h4 extends Xc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p4{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class g4{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class m4{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v4{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y4{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b4{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GI{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _4{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ev,this.attachRef=null}}let Ev=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new _4,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class jI{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=YC(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=YC(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=XC(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return XC(n,this._root).map(e=>e.value)}}function YC(t,n){if(t===n.value)return n;for(const e of n.children){const r=YC(t,e);if(r)return r}return null}function XC(t,n){if(t===n.value)return[n];for(const e of n.children){const r=XC(t,e);if(r.length)return r.unshift(n),r}return[]}class lf{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function jg(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class WI extends jI{constructor(n,e){super(n),this.snapshot=e,KC(this,n)}toString(){return this.snapshot.toString()}}function $I(t,n){const e=function w4(t,n){const c=new Xb([],{},{},"",{},Tr,n,null,{});return new XI("",new lf(c,[]))}(0,n),r=new hn([new vv("",{})]),i=new hn({}),s=new hn({}),c=new hn({}),m=new hn(""),_=new Wg(r,i,c,m,s,Tr,n,e.root);return _.snapshot=e.root,new WI(new lf(_,[]),e)}class Wg{constructor(n,e,r,i,s,c,m,_){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=c,this.component=m,this._futureSnapshot=_,this.title=this.dataSubject?.pipe(St(O=>O[mv]))??tt(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(St(n=>Ug(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(St(n=>Ug(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function YI(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const i=e[r],s=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function C4(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Xb{get title(){return this.data?.[mv]}constructor(n,e,r,i,s,c,m,_,O){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=m,this.routeConfig=_,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ug(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ug(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class XI extends jI{constructor(n,e){super(e),this.url=n,KC(this,e)}toString(){return KI(this._root)}}function KC(t,n){n.value._routerState=t,n.children.forEach(e=>KC(t,e))}function KI(t){const n=t.children.length>0?` { ${t.children.map(KI).join(", ")} } `:"";return`${t.value}${n}`}function qC(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Yc(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Yc(n.params,e.params)||t.paramsSubject.next(e.params),function L5(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Yc(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),Yc(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ZC(t,n){const e=Yc(t.params,n.params)&&function H5(t,n){return hp(t,n)&&t.every((e,r)=>Yc(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||ZC(t.parent,n.parent))}let QC=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Tr,this.activateEvents=new ur,this.deactivateEvents=new ur,this.attachEvents=new ur,this.detachEvents=new ur,this.parentContexts=nn(Ev),this.location=nn(ja),this.changeDetector=nn(ls),this.environmentInjector=nn(Fc),this.inputBinder=nn(Kb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new et(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new et(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new et(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new et(4013,!1);this._activatedRoute=e;const i=this.location,c=e.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,_=new x4(e,m,i.injector);this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=un({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ca]}),t})();class x4{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Wg?this.route:n===Ev?this.childContexts:this.parent.get(n,e)}}const Kb=new qt("");let qI=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,i=Fb([r.queryParams,r.params,r.data]).pipe(Ht(([s,c,m],_)=>(m={...s,...c,...m},0===_?tt(m):Promise.resolve(m)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const c=function qV(t){const n=Hr(t);if(!n)return null;const e=new $m(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(c)for(const{templateName:m}of c.inputs)e.activatedComponentRef.setInput(m,s[m]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();function Dv(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const i=function D4(t,n,e){return n.children.map(r=>{for(const i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Dv(t,r,i);return Dv(t,r)})}(t,n,e);return new lf(r,i)}{if(t.shouldAttach(n.value)){const s=t.retrieve(n.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=n.value,c.children=n.children.map(m=>Dv(t,m)),c}}const r=function S4(t){return new Wg(new hn(t.url),new hn(t.params),new hn(t.queryParams),new hn(t.fragment),new hn(t.data),t.outlet,t.component,t)}(n.value),i=n.children.map(s=>Dv(t,s));return new lf(r,i)}}const JC="ngNavigationCancelingError";function ZI(t,n){const{redirectTo:e,navigationBehaviorOptions:r}=pp(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=QI(!1,0,n);return i.url=e,i.navigationBehaviorOptions=r,i}function QI(t,n,e){const r=new Error("NavigationCancelingError: "+(t||""));return r[JC]=!0,r.cancellationCode=n,e&&(r.url=e),r}function JI(t){return eA(t)&&pp(t.url)}function eA(t){return t&&t[JC]}let tA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["ng-component"]],standalone:!0,features:[tT],decls:1,vars:0,template:function(e,r){1&e&&dn(0,"router-outlet")},dependencies:[QC],encapsulation:2}),t})();function ex(t){const n=t.children&&t.children.map(ex),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Tr&&(e.component=tA),e}function Qu(t){return t.outlet||Tr}function Sv(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class R4{constructor(n,e,r,i,s){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),qC(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const i=jg(e);n.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,i[c],r),delete i[c]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,e,r){const i=n.value,s=e?e.value:null;if(i===s)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(n,e,c.children)}else this.deactivateChildRoutes(n,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,s=jg(n);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);if(r&&r.outlet){const c=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:c,route:n,contexts:m})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,s=jg(n);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){const i=jg(e);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new b4(s.value.snapshot))}),n.children.length&&this.forwardEvent(new v4(n.value.snapshot))}activateRoutes(n,e,r){const i=n.value,s=e?e.value:null;if(qC(i),i===s)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,c.children)}else this.activateChildRoutes(n,e,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(m.contexts),c.attachRef=m.componentRef,c.route=m.route.value,c.outlet&&c.outlet.attach(m.componentRef,m.route.value),qC(m.route.value),this.activateChildRoutes(n,null,c.children)}else{const m=Sv(i.snapshot);c.attachRef=null,c.route=i,c.injector=m,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(n,null,c.children)}}else this.activateChildRoutes(n,null,r)}}class nA{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class qb{constructor(n,e){this.component=n,this.route=e}}function k4(t,n,e){const r=t._root;return Tv(r,n?n._root:null,e,[r.value])}function $g(t,n){const e=Symbol(),r=n.get(t,e);return r===e?"function"!=typeof t||function cc(t){return null!==Pa(t)}(t)?n.get(t):t:r}function Tv(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=jg(n);return t.children.forEach(c=>{(function L4(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,c=n?n.value:null,m=e?e.getContext(t.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const _=function F4(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!hp(t.url,n.url);case"pathParamsOrQueryParamsChange":return!hp(t.url,n.url)||!Yc(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ZC(t,n)||!Yc(t.queryParams,n.queryParams);default:return!ZC(t,n)}}(c,s,s.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new nA(r)):(s.data=c.data,s._resolvedData=c._resolvedData),Tv(t,n,s.component?m?m.children:null:e,r,i),_&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new qb(m.outlet.component,c))}else c&&Mv(n,m,i),i.canActivateChecks.push(new nA(r)),Tv(t,null,s.component?m?m.children:null:e,r,i)})(c,s[c.value.outlet],e,r.concat([c.value]),i),delete s[c.value.outlet]}),Object.entries(s).forEach(([c,m])=>Mv(m,e.getContext(c),i)),i}function Mv(t,n,e){const r=jg(t),i=t.value;Object.entries(r).forEach(([s,c])=>{Mv(c,i.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new qb(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Iv(t){return"function"==typeof t}function rA(t){return t instanceof Bb||"EmptyError"===t?.name}const Zb=Symbol("INITIAL_VALUE");function Yg(){return Ht(t=>Fb(t.map(n=>n.pipe(Wc(1),gv(Zb)))).pipe(St(n=>{for(const e of n)if(!0!==e){if(e===Zb)return Zb;if(!1===e||e instanceof Gg)return e}return!0}),Ll(n=>n!==Zb),Wc(1)))}function iA(t){return function st(...t){return ht(t)}(oa(n=>{if(pp(n))throw ZI(0,n)}),St(n=>!0===n))}class Qb{constructor(n){this.segmentGroup=n||null}}class oA{constructor(n){this.urlTree=n}}function Xg(t){return Vg(new Qb(t))}function aA(t){return Vg(new oA(t))}class rz{constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new et(4002,!1)}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return tt(r);if(i.numberOfChildren>1||!i.children[Tr])return Vg(new et(4e3,!1));i=i.children[Tr]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreateUrlTree(n,e,r,i){const s=this.createSegmentGroup(n,e.root,r,i);return new Gg(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Object.entries(n).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);r[i]=e[m]}else r[i]=s}),r}createSegmentGroup(n,e,r,i){const s=this.createSegments(n,e.segments,r,i);let c={};return Object.entries(e.children).forEach(([m,_])=>{c[m]=this.createSegmentGroup(n,_,r,i)}),new Si(s,c)}createSegments(n,e,r,i){return e.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,e,r){const i=r[e.path.substring(1)];if(!i)throw new et(4001,!1);return i}findOrReturn(n,e){let r=0;for(const i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}}const tx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iz(t,n,e,r,i){const s=nx(t,n,e);return s.matched?(r=function T4(t,n){return t.providers&&!t._injector&&(t._injector=Tw(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,r),function ez(t,n,e,r){const i=n.canMatch;return i&&0!==i.length?tt(i.map(c=>{const m=$g(c,t);return nh(function G4(t){return t&&Iv(t.canMatch)}(m)?m.canMatch(n,e):t.runInContext(()=>m(n,e)))})).pipe(Yg(),iA()):tt(!0)}(r,n,e).pipe(St(c=>!0===c?s:{...tx}))):tt(s)}function nx(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...tx}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||P5)(e,t,n);if(!i)return{...tx};const s={};Object.entries(i.posParams??{}).forEach(([m,_])=>{s[m]=_.path});const c=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function sA(t,n,e,r){return e.length>0&&function sz(t,n,e){return e.some(r=>Jb(t,n,r)&&Qu(r)!==Tr)}(t,e,r)?{segmentGroup:new Si(n,az(r,new Si(e,t.children))),slicedSegments:[]}:0===e.length&&function lz(t,n,e){return e.some(r=>Jb(t,n,r))}(t,e,r)?{segmentGroup:new Si(t.segments,oz(t,0,e,r,t.children)),slicedSegments:e}:{segmentGroup:new Si(t.segments,t.children),slicedSegments:e}}function oz(t,n,e,r,i){const s={};for(const c of r)if(Jb(t,e,c)&&!i[Qu(c)]){const m=new Si([],{});s[Qu(c)]=m}return{...i,...s}}function az(t,n){const e={};e[Tr]=n;for(const r of t)if(""===r.path&&Qu(r)!==Tr){const i=new Si([],{});e[Qu(r)]=i}return e}function Jb(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class fz{constructor(n,e,r,i,s,c,m){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=c,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new rz(this.urlSerializer,this.urlTree)}noMatchError(n){return new et(4002,!1)}recognize(){const n=sA(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Tr).pipe($c(e=>{if(e instanceof oA)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Qb?this.noMatchError(e):e}),St(e=>{const r=new Xb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Tr,this.rootComponentType,null,{}),i=new lf(r,e),s=new XI("",i),c=function t4(t,n,e=null,r=null){return FI(LI(t),n,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(s._root),{state:s,tree:c}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Tr).pipe($c(r=>{throw r instanceof Qb?this.noMatchError(r):r}))}inheritParamsAndData(n){const e=n.value,r=YI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,i,!0)}processChildren(n,e,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ve(i).pipe(Hg(s=>{const c=r.children[s],m=function O4(t,n){const e=t.filter(r=>Qu(r)===n);return e.push(...t.filter(r=>Qu(r)!==n)),e}(e,s);return this.processSegmentGroup(n,m,c,s)}),function O5(t,n){return it(function A5(t,n,e,r,i){return(s,c)=>{let m=e,_=n,O=0;s.subscribe(pt(c,U=>{const K=O++;_=m?t(_,U,K):(m=!0,U),r&&c.next(_)},i&&(()=>{m&&c.next(_),c.complete()})))}}(t,n,arguments.length>=2,!0))}((s,c)=>(s.push(...c),s)),Hb(null),function N5(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Ll((i,s)=>t(i,s,r)):Be,VC(1),e?Hb(n):xI(()=>new Bb))}(),Zi(s=>{if(null===s)return Xg(r);const c=lA(s);return function hz(t){t.sort((n,e)=>n.value.outlet===Tr?-1:e.value.outlet===Tr?1:n.value.outlet.localeCompare(e.value.outlet))}(c),tt(c)}))}processSegment(n,e,r,i,s,c){return Ve(e).pipe(Hg(m=>this.processSegmentAgainstRoute(m._injector??n,e,m,r,i,s,c).pipe($c(_=>{if(_ instanceof Qb)return tt(null);throw _}))),fp(m=>!!m),$c(m=>{if(rA(m))return function cz(t,n,e){return 0===n.length&&!t.children[e]}(r,i,s)?tt([]):Xg(r);throw m}))}processSegmentAgainstRoute(n,e,r,i,s,c,m){return function uz(t,n,e,r){return!!(Qu(t)===r||r!==Tr&&Jb(n,e,t))&&("**"===t.path||nx(n,t,e).matched)}(r,i,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,s,c,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,s,c):Xg(i):Xg(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,s,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?aA(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Zi(c=>{const m=new Si(c,{});return this.processSegment(n,e,m,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,s,c){const{matched:m,consumedSegments:_,remainingSegments:O,positionalParamSegments:U}=nx(e,i,s);if(!m)return Xg(e);const K=this.applyRedirects.applyRedirectCommands(_,i.redirectTo,U);return i.redirectTo.startsWith("/")?aA(K):this.applyRedirects.lineralizeSegments(i,K).pipe(Zi(ge=>this.processSegment(n,r,e,ge.concat(O),c,!1)))}matchSegmentAgainstRoute(n,e,r,i,s,c){let m;if("**"===r.path){const _=i.length>0?DI(i).parameters:{};m=tt({snapshot:new Xb(i,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uA(r),Qu(r),r.component??r._loadedComponent??null,r,cA(r)),consumedSegments:[],remainingSegments:[]}),e.children={}}else m=iz(e,r,i,n).pipe(St(({matched:_,consumedSegments:O,remainingSegments:U,parameters:K})=>_?{snapshot:new Xb(O,K,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uA(r),Qu(r),r.component??r._loadedComponent??null,r,cA(r)),consumedSegments:O,remainingSegments:U}:null));return m.pipe(Ht(_=>null===_?Xg(e):this.getChildConfig(n=r._injector??n,r,i).pipe(Ht(({routes:O})=>{const U=r._loadedInjector??n,{snapshot:K,consumedSegments:ge,remainingSegments:ve}=_,{segmentGroup:Me,slicedSegments:Fe}=sA(e,ge,ve,O);if(0===Fe.length&&Me.hasChildren())return this.processChildren(U,O,Me).pipe(St(ct=>null===ct?null:[new lf(K,ct)]));if(0===O.length&&0===Fe.length)return tt([new lf(K,[])]);const Xe=Qu(r)===s;return this.processSegment(U,O,Me,Fe,Xe?Tr:s,!0).pipe(St(ct=>[new lf(K,ct)]))}))))}getChildConfig(n,e,r){return e.children?tt({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?tt({routes:e._loadedRoutes,injector:e._loadedInjector}):function J4(t,n,e,r){const i=n.canLoad;return void 0===i||0===i.length?tt(!0):tt(i.map(c=>{const m=$g(c,t);return nh(function V4(t){return t&&Iv(t.canLoad)}(m)?m.canLoad(n,e):t.runInContext(()=>m(n,e)))})).pipe(Yg(),iA())}(n,e,r).pipe(Zi(i=>i?this.configLoader.loadChildren(n,e).pipe(oa(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function nz(t){return Vg(QI(!1,3))}())):tt({routes:[],injector:n})}}function pz(t){const n=t.value.routeConfig;return n&&""===n.path}function lA(t){const n=[],e=new Set;for(const r of t){if(!pz(r)){n.push(r);continue}const i=n.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):n.push(r)}for(const r of e){const i=lA(r.children);n.push(new lf(r.value,i))}return n.filter(r=>!e.has(r))}function uA(t){return t.data||{}}function cA(t){return t.resolve||{}}function dA(t){return"string"==typeof t.title||null===t.title}function rx(t){return Ht(n=>{const e=t(n);return e?Ve(e).pipe(St(()=>n)):tt(n)})}const Kg=new qt("ROUTES");let ix=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=nn(jT)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return tt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=nh(e.loadComponent()).pipe(St(fA),oa(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),zg(()=>{this.componentLoaders.delete(e)})),i=new BC(r,()=>new It).pipe(FC());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return tt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(St(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,O;return Array.isArray(m)?O=m:(_=m.create(e).injector,O=_.get(Kg,[],Vn.Self|Vn.Optional).flat()),{routes:O.map(ex),injector:_}}),zg(()=>{this.childrenLoaders.delete(r)})),c=new BC(s,()=>new It).pipe(FC());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(e){return nh(e()).pipe(St(fA),Zi(r=>r instanceof JS||Array.isArray(r)?tt(r):Ve(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fA(t){return function wz(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let e0=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new It,this.configLoader=nn(ix),this.environmentInjector=nn(Fc),this.urlSerializer=nn(yv),this.rootContexts=nn(Ev),this.inputBindingEnabled=null!==nn(Kb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>tt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new g4(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new p4(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new hn({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Cv,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ll(r=>0!==r.id),St(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),Ht(r=>{let i=!1,s=!1;return tt(r).pipe(oa(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ht(c=>{const m=e.browserUrlTree.toString(),_=!e.navigated||c.extractedUrl.toString()!==m||m!==e.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const U="";return this.events.next(new xv(c.id,e.serializeUrl(r.rawUrl),U,0)),e.rawUrlTree=c.rawUrl,c.resolve(null),qo}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return hA(c.source)&&(e.browserUrlTree=c.extractedUrl),tt(c).pipe(Ht(U=>{const K=this.transitions?.getValue();return this.events.next(new WC(U.id,this.urlSerializer.serialize(U.extractedUrl),U.source,U.restoredState)),K!==this.transitions?.getValue()?qo:Promise.resolve(U)}),function gz(t,n,e,r,i,s){return Zi(c=>function dz(t,n,e,r,i,s,c="emptyOnly"){return new fz(t,n,e,r,i,c,s).recognize()}(t,n,e,r,c.extractedUrl,i,s).pipe(St(({state:m,tree:_})=>({...c,targetSnapshot:m,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),oa(U=>{if(r.targetSnapshot=U.targetSnapshot,r.urlAfterRedirects=U.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:U.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!U.extras.skipLocationChange){const ge=e.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl);e.setBrowserUrl(ge,U)}e.browserUrlTree=U.urlAfterRedirects}const K=new u4(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects),U.targetSnapshot);this.events.next(K)}));if(_&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:U,extractedUrl:K,source:ge,restoredState:ve,extras:Me}=c,Fe=new WC(U,this.urlSerializer.serialize(K),ge,ve);this.events.next(Fe);const Xe=$I(0,this.rootComponentType).snapshot;return tt(r={...c,targetSnapshot:Xe,urlAfterRedirects:K,extras:{...Me,skipLocationChange:!1,replaceUrl:!1}})}{const U="";return this.events.next(new xv(c.id,e.serializeUrl(r.extractedUrl),U,1)),e.rawUrlTree=c.rawUrl,c.resolve(null),qo}}),oa(c=>{const m=new c4(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(m)}),St(c=>r={...c,guards:k4(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function W4(t,n){return Zi(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?tt({...e,guardsResult:!0}):function $4(t,n,e,r){return Ve(t).pipe(Zi(i=>function Q4(t,n,e,r,i){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?tt(s.map(m=>{const _=Sv(n)??i,O=$g(m,_);return nh(function U4(t){return t&&Iv(t.canDeactivate)}(O)?O.canDeactivate(t,n,e,r):_.runInContext(()=>O(t,n,e,r))).pipe(fp())})).pipe(Yg()):tt(!0)}(i.component,i.route,e,n,r)),fp(i=>!0!==i,!0))}(c,r,i,t).pipe(Zi(m=>m&&function B4(t){return"boolean"==typeof t}(m)?function Y4(t,n,e,r){return Ve(n).pipe(Hg(i=>Vb(function K4(t,n){return null!==t&&n&&n(new m4(t)),tt(!0)}(i.route.parent,r),function X4(t,n){return null!==t&&n&&n(new y4(t)),tt(!0)}(i.route,r),function Z4(t,n,e){const r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(c=>function P4(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(c)).filter(c=>null!==c).map(c=>CI(()=>tt(c.guards.map(_=>{const O=Sv(c.node)??e,U=$g(_,O);return nh(function z4(t){return t&&Iv(t.canActivateChild)}(U)?U.canActivateChild(r,t):O.runInContext(()=>U(r,t))).pipe(fp())})).pipe(Yg())));return tt(s).pipe(Yg())}(t,i.path,e),function q4(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return tt(!0);const i=r.map(s=>CI(()=>{const c=Sv(n)??e,m=$g(s,c);return nh(function H4(t){return t&&Iv(t.canActivate)}(m)?m.canActivate(n,t):c.runInContext(()=>m(n,t))).pipe(fp())}));return tt(i).pipe(Yg())}(t,i.route,e))),fp(i=>!0!==i,!0))}(r,s,t,n):tt(m)),St(m=>({...e,guardsResult:m})))})}(this.environmentInjector,c=>this.events.next(c)),oa(c=>{if(r.guardsResult=c.guardsResult,pp(c.guardsResult))throw ZI(0,c.guardsResult);const m=new d4(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(m)}),Ll(c=>!!c.guardsResult||(e.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),rx(c=>{if(c.guards.canActivateChecks.length)return tt(c).pipe(oa(m=>{const _=new f4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}),Ht(m=>{let _=!1;return tt(m).pipe(function mz(t,n){return Zi(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return tt(e);let s=0;return Ve(i).pipe(Hg(c=>function vz(t,n,e,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!dA(i)&&(s[mv]=i.title),function yz(t,n,e,r){const i=function bz(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return tt({});const s={};return Ve(i).pipe(Zi(c=>function _z(t,n,e,r){const i=Sv(n)??r,s=$g(t,i);return nh(s.resolve?s.resolve(n,e):i.runInContext(()=>s(n,e)))}(t[c],n,e,r).pipe(fp(),oa(m=>{s[c]=m}))),VC(1),function R5(t){return St(()=>t)}(s),$c(c=>rA(c)?qo:Vg(c)))}(s,t,n,r).pipe(St(c=>(t._resolvedData=c,t.data=YI(t,e).resolve,i&&dA(i)&&(t.data[mv]=i.title),null)))}(c.route,r,t,n)),oa(()=>s++),VC(1),Zi(c=>s===i.length?tt(e):qo))})}(e.paramsInheritanceStrategy,this.environmentInjector),oa({next:()=>_=!0,complete:()=>{_||(e.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),oa(m=>{const _=new h4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}))}),rx(c=>{const m=_=>{const O=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&O.push(this.configLoader.loadComponent(_.routeConfig).pipe(oa(U=>{_.component=U}),St(()=>{})));for(const U of _.children)O.push(...m(U));return O};return Fb(m(c.targetSnapshot.root)).pipe(Hb(),Wc(1))}),rx(()=>this.afterPreactivation()),St(c=>{const m=function E4(t,n,e){const r=Dv(t,n._root,e?e._root:void 0);return new WI(r,n)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:m}}),oa(c=>{e.currentUrlTree=c.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),e.routerState=c.targetRouterState,"deferred"===e.urlUpdateStrategy&&(c.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,c),e.browserUrlTree=c.urlAfterRedirects)}),((t,n,e,r)=>St(i=>(new R4(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Wc(1),oa({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new gp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),zg(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),$c(c=>{if(s=!0,eA(c)){JI(c)||(e.navigated=!0,e.restoreHistory(r,!0));const m=new Yb(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(m),JI(c)){const _=e.urlHandlingStrategy.merge(c.url,e.rawUrlTree),O={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||hA(r.source)};e.scheduleNavigation(_,Cv,null,O,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const m=new $C(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(e.errorHandler(c))}catch(_){r.reject(_)}}return qo}))}))}cancelNavigationTransition(e,r,i){const s=new Yb(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(s),e.resolve(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function hA(t){return t!==Cv}let pA=(()=>{class t{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Tr);return r}getResolvedTitleForRoute(e){return e.data[mv]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(Cz)},providedIn:"root"}),t})(),Cz=(()=>{class t extends pA{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(e){return new(e||t)(Pt(hI))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(Dz)},providedIn:"root"}),t})();class Ez{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let Dz=(()=>{class t extends Ez{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const t0=new qt("",{providedIn:"root",factory:()=>({})});let Sz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(Tz)},providedIn:"root"}),t})(),Tz=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Fl=(()=>((Fl=Fl||{})[Fl.COMPLETE=0]="COMPLETE",Fl[Fl.FAILED=1]="FAILED",Fl[Fl.REDIRECTING=2]="REDIRECTING",Fl))();function gA(t,n){t.events.pipe(Ll(e=>e instanceof gp||e instanceof Yb||e instanceof $C||e instanceof xv),St(e=>e instanceof gp||e instanceof xv?Fl.COMPLETE:e instanceof Yb&&(0===e.code||1===e.code)?Fl.REDIRECTING:Fl.FAILED),Ll(e=>e!==Fl.REDIRECTING),Wc(1)).subscribe(()=>{n()})}function Mz(t){throw t}function Iz(t,n,e){return n.parse("/")}const Az={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Oz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fu=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=nn(GT),this.isNgZoneEnabled=!1,this.options=nn(t0,{optional:!0})||{},this.pendingTasks=nn(vb),this.errorHandler=this.options.errorHandler||Mz,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Iz,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=nn(Sz),this.routeReuseStrategy=nn(xz),this.titleStrategy=nn(pA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=nn(Kg,{optional:!0})?.flat()??[],this.navigationTransitions=nn(e0),this.urlSerializer=nn(yv),this.location=nn(lC),this.componentInputBindingEnabled=!!nn(Kb,{optional:!0}),this.isNgZoneEnabled=nn(Kr)instanceof Kr&&Kr.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Gg,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$I(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Cv,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const s={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(s.state=_)}const m=this.parseUrl(e);this.scheduleNavigation(m,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(ex),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:s,fragment:c,queryParamsHandling:m,preserveFragment:_}=r,O=_?this.currentUrlTree.fragment:c;let K,U=null;switch(m){case"merge":U={...this.currentUrlTree.queryParams,...s};break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=s||null}null!==U&&(U=this.removeEmptyProps(U));try{K=LI(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),K=this.currentUrlTree.root}return FI(K,e,U,O??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=pp(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Cv,null,r)}navigate(e,r={skipLocationChange:!1}){return function Nz(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new et(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...Az}:!1===r?{...Oz}:r,pp(e))return TI(this.currentUrlTree,e,i);const s=this.parseUrl(e);return TI(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const s=e[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(e,r,i,s,c){if(this.disposed)return Promise.resolve(!1);let m,_,O;c?(m=c.resolve,_=c.reject,O=c.promise):O=new Promise((K,ge)=>{m=K,_=ge});const U=this.pendingTasks.add();return gA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(U))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:m,reject:_,promise:O,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),O.catch(K=>Promise.reject(K))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),n0=(()=>{class t{constructor(e,r,i,s,c,m){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=c,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new It,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=e.events.subscribe(O=>{O instanceof gp&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,s,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||i||s||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function cD(t,n,e){return function zk(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?uD:lD}(n,e)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,e,r):i.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(e){return new(e||t)(Ye(fu),Ye(Wg),y("tabindex"),Ye(tf),Ye(ii),Ye(dp))},t.\u0275dir=un({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,r){1&e&&wn("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&Ts("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Fg],skipLocationChange:["skipLocationChange","skipLocationChange",Fg],replaceUrl:["replaceUrl","replaceUrl",Fg],routerLink:"routerLink"},standalone:!0,features:[m1,Ca]}),t})();class mA{}let Pz=(()=>{class t{constructor(e,r,i,s,c){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ll(e=>e instanceof gp),Hg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Tw(s.providers,e,`Route: ${s.path}`));const c=s._injector??e,m=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(m,s.children??s._loadedRoutes))}return Ve(i).pipe(ki())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):tt(null);const s=i.pipe(Zi(c=>null===c?tt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));return r.loadComponent&&!r._loadedComponent?Ve([s,this.loader.loadComponent(r)]).pipe(ki()):s})}}return t.\u0275fac=function(e){return new(e||t)(Pt(fu),Pt(jT),Pt(Fc),Pt(mA),Pt(ix))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ox=new qt("");let vA=(()=>{class t{constructor(e,r,i,s,c={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof WC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof gp?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof xv&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof GI&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new GI(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(e){K_()},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();function uf(t,n){return{\u0275kind:t,\u0275providers:n}}function bA(){const t=nn(ju);return n=>{const e=t.get(lp);if(n!==e.components[0])return;const r=t.get(fu),i=t.get(_A);1===t.get(ax)&&r.initialNavigation(),t.get(wA,null,Vn.Optional)?.setUpPreloading(),t.get(ox,null,Vn.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const _A=new qt("",{factory:()=>new It}),ax=new qt("",{providedIn:"root",factory:()=>1}),wA=new qt("");function Vz(t){return uf(0,[{provide:wA,useExisting:Pz},{provide:mA,useExisting:t}])}const CA=new qt("ROUTER_FORROOT_GUARD"),zz=[lC,{provide:yv,useClass:HC},fu,Ev,{provide:Wg,useFactory:function yA(t){return t.routerState.root},deps:[fu]},ix,[]];function Uz(){return new tM("Router",fu)}let xA=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[zz,[],{provide:Kg,multi:!0,useValue:e},{provide:CA,useFactory:$z,deps:[[fu,new os,new Uh]]},{provide:t0,useValue:r||{}},r?.useHash?{provide:dp,useClass:tH}:{provide:dp,useClass:IM},{provide:ox,useFactory:()=>{const t=nn(_3),n=nn(Kr),e=nn(t0),r=nn(e0),i=nn(yv);return e.scrollOffset&&t.setOffset(e.scrollOffset),new vA(i,r,t,n,e)}},r?.preloadingStrategy?Vz(r.preloadingStrategy).\u0275providers:[],{provide:tM,multi:!0,useFactory:Uz},r?.initialNavigation?Yz(r):[],r?.bindToComponentInputs?uf(8,[qI,{provide:Kb,useExisting:qI}]).\u0275providers:[],[{provide:EA,useFactory:bA},{provide:Zw,multi:!0,useExisting:EA}]]}}static forChild(e){return{ngModule:t,providers:[{provide:Kg,multi:!0,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)(Pt(CA,8))},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({}),t})();function $z(t){return"guarded"}function Yz(t){return["disabled"===t.initialNavigation?uf(3,[{provide:Gw,multi:!0,useFactory:()=>{const n=nn(fu);return()=>{n.setUpLocationChangeListener()}}},{provide:ax,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?uf(2,[{provide:ax,useValue:0},{provide:Gw,multi:!0,deps:[ju],useFactory:n=>{const e=n.get(JV,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=n.get(fu),s=n.get(_A);gA(i,()=>{r(!0)}),n.get(e0).afterPreactivation=()=>(r(!0),s.closed?tt(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const EA=new qt("");function Kz(t,n){1&t&&(je(0,"div",6)(1,"ul")(2,"li",7)(3,"a",8),mt(4,"Analysis"),Ge(),je(5,"ul",9)(6,"li")(7,"a",10),mt(8,"GSWB"),Ge()(),je(9,"li")(10,"a",11),mt(11,"LiGER"),Ge()()()(),je(12,"li")(13,"a",12),mt(14,"Regression testing"),Ge()(),je(15,"li")(16,"a",13),mt(17,"Chat"),Ge()(),je(18,"li")(19,"a",14),mt(20,"Home"),Ge()()()())}let qz=(()=>{class t{constructor(e){this.hideComponentsService=e,this.isNavigationVisible=!1,this.isAllHidden=!1}toggleAll(){this.isAllHidden?this.hideComponentsService.showAllComponents("liger"):this.hideComponentsService.hideAllComponents("liger"),this.isAllHidden=!this.isAllHidden}showNavigation(){this.isNavigationVisible=!0}hideNavigation(){this.isNavigationVisible=!1}}return t.\u0275fac=function(e){return new(e||t)(Ye(yI))},t.\u0275cmp=cr({type:t,selectors:[["app-navigation"]],decls:8,vars:3,consts:[[1,"navigation",3,"mouseenter","mouseleave"],[1,"switch"],["type","checkbox",3,"change"],[1,"slider"],["class","navigation-content",4,"ngIf"],[1,"page-content"],[1,"navigation-content"],[1,"has-submenu"],["routerLink","/demo"],[1,"submenu"],["routerLink","/glue"],["routerLink","/liger"],["routerLink","/regression"],["routerLink","/chat"],["routerLink","/home"]],template:function(e,r){1&e&&(je(0,"div",0),wn("mouseenter",function(){return r.showNavigation()})("mouseleave",function(){return r.hideNavigation()}),mt(1," LiGER: "),je(2,"label",1)(3,"input",2),wn("change",function(){return r.toggleAll()}),Ge(),dn(4,"span",3),Ge(),sr(5,Kz,21,0,"div",4),Ge(),je(6,"div",5),dn(7,"router-outlet"),Ge()),2&e&&(Ga("expanded",r.isNavigationVisible),Bt(5),Wt("ngIf",r.isNavigationVisible))},dependencies:[fl,QC,n0],styles:['.navigation[_ngcontent-%COMP%]{position:fixed;left:0;top:0;width:50px;height:100vh;background-color:#fff;border:1px solid #00a9e0;transition:width .3s ease-in-out;overflow:hidden}.navigation.expanded[_ngcontent-%COMP%]{width:250px}.navigation-content[_ngcontent-%COMP%]{padding:16px;width:100%}.page-content[_ngcontent-%COMP%]{margin-left:50px;transition:margin-left .3s ease-in-out}.navigation.expanded[_ngcontent-%COMP%] ~ .page-content[_ngcontent-%COMP%]{margin-left:250px}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:square;padding-left:20px}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:2}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em;text-decoration:none;white-space:nowrap}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#2196f3;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%;transform:translate(26px)}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ccc}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(0)}.has-submenu[_ngcontent-%COMP%]{position:relative}.has-submenu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]{display:none;list-style-type:square;margin:0;padding-left:20px;background-color:#fff;border-left:2px solid #00a9e0}.has-submenu[_ngcontent-%COMP%]:hover   .submenu[_ngcontent-%COMP%]{display:block}.submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:2}.submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:400;font-size:1em;text-decoration:none;white-space:nowrap;display:block}']}),t})(),Zz=(()=>{class t{constructor(){this.title="gswb-client"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){1&e&&dn(0,"app-navigation")},dependencies:[qz]}),t})();function DA(...t){const n=Ka(t),{args:e,keys:r}=bI(t),i=new Ze(s=>{const{length:c}=e;if(!c)return void s.complete();const m=new Array(c);let _=c,O=c;for(let U=0;U<c;U++){let K=!1;Ro(e[U]).subscribe(pt(s,ge=>{K||(K=!0,O--),m[U]=ge},()=>_--,void 0,()=>{(!_||!K)&&(O||s.next(r?_I(r,m):m),s.complete())}))}});return n?i.pipe(LC(n)):i}let SA=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(Ye(tf),Ye(ii))},t.\u0275dir=un({type:t}),t})(),mp=(()=>{class t extends SA{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=un({type:t,features:[Zn]}),t})();const Kc=new qt("NgValueAccessor"),Qz={provide:Kc,useExisting:On(()=>r0),multi:!0};let r0=(()=>{class t extends mp{writeValue(e){this.setProperty("checked",e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=un({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,r){1&e&&wn("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Xr([Qz]),Zn]}),t})();const Jz={provide:Kc,useExisting:On(()=>qg),multi:!0},tU=new qt("CompositionEventMode");let qg=(()=>{class t extends SA{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function eU(){const t=eh()?eh().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(Ye(tf),Ye(ii),Ye(tU,8))},t.\u0275dir=un({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&wn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Xr([Jz]),Zn]}),t})();function rh(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function TA(t){return null!=t&&"number"==typeof t.length}const Ms=new qt("NgValidators"),ih=new qt("NgAsyncValidators"),nU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Av{static min(n){return function MA(t){return n=>{if(rh(n.value)||rh(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function IA(t){return n=>{if(rh(n.value)||rh(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function AA(t){return rh(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function OA(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function NA(t){return rh(t.value)||nU.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function RA(t){return n=>rh(n.value)||!TA(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function kA(t){return n=>TA(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function PA(t){if(!t)return o0;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(rh(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return zA(n)}static composeAsync(n){return UA(n)}}function o0(t){return null}function LA(t){return null!=t}function FA(t){return Qm(t)?Ve(t):t}function BA(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function VA(t,n){return n.map(e=>e(t))}function HA(t){return t.map(n=>function rU(t){return!t.validate}(n)?n:e=>n.validate(e))}function zA(t){if(!t)return null;const n=t.filter(LA);return 0==n.length?null:function(e){return BA(VA(e,n))}}function sx(t){return null!=t?zA(HA(t)):null}function UA(t){if(!t)return null;const n=t.filter(LA);return 0==n.length?null:function(e){return DA(VA(e,n).map(FA)).pipe(St(BA))}}function lx(t){return null!=t?UA(HA(t)):null}function GA(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function jA(t){return t._rawValidators}function WA(t){return t._rawAsyncValidators}function ux(t){return t?Array.isArray(t)?t:[t]:[]}function a0(t,n){return Array.isArray(t)?t.includes(n):t===n}function $A(t,n){const e=ux(n);return ux(t).forEach(i=>{a0(e,i)||e.push(i)}),e}function YA(t,n){return ux(n).filter(e=>!a0(t,e))}class XA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=sx(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=lx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Ys extends XA{get formDirective(){return null}get path(){return null}}class oh extends XA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class KA{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Zg=(()=>{class t extends KA{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(Ye(oh,2))},t.\u0275dir=un({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Ga("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Zn]}),t})(),cx=(()=>{class t extends KA{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(Ye(Ys,10))},t.\u0275dir=un({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Ga("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Zn]}),t})();const Ov="VALID",l0="INVALID",Qg="PENDING",Nv="DISABLED";function hx(t){return(u0(t)?t.validators:t)||null}function px(t,n){return(u0(n)?n.asyncValidators:t)||null}function u0(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function ZA(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new et(1e3,"");if(!r[e])throw new et(1001,"")}function QA(t,n,e){t._forEachChild((r,i)=>{if(void 0===e[i])throw new et(1002,"")})}class c0{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Ov}get invalid(){return this.status===l0}get pending(){return this.status==Qg}get disabled(){return this.status===Nv}get enabled(){return this.status!==Nv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators($A(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators($A(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(YA(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(YA(n,this._rawAsyncValidators))}hasValidator(n){return a0(this._rawValidators,n)}hasAsyncValidator(n){return a0(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Qg,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Nv,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Ov,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ov||this.status===Qg)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nv:Ov}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Qg,this._hasOwnPendingAsyncValidator=!0;const e=FA(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new ur,this.statusChanges=new ur}_calculateStatus(){return this._allControlsDisabled()?Nv:this.errors?l0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qg)?Qg:this._anyControlsHaveStatus(l0)?l0:Ov}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){u0(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function sU(t){return Array.isArray(t)?sx(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function lU(t){return Array.isArray(t)?lx(t):t||null}(this._rawAsyncValidators)}}class Rv extends c0{constructor(n,e,r){super(hx(e),px(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){QA(this,0,n),Object.keys(n).forEach(r=>{ZA(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class JA extends Rv{}const vp=new qt("CallSetDisabledState",{providedIn:"root",factory:()=>kv}),kv="always";function d0(t,n){return[...n.path,t]}function Pv(t,n,e=kv){gx(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function cU(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&eO(t,n)})}(t,n),function fU(t,n){const e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function dU(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&eO(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function uU(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function f0(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),p0(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function h0(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function gx(t,n){const e=jA(t);null!==n.validator?t.setValidators(GA(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=WA(t);null!==n.asyncValidator?t.setAsyncValidators(GA(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();h0(n._rawValidators,i),h0(n._rawAsyncValidators,i)}function p0(t,n){let e=!1;if(null!==t){if(null!==n.validator){const i=jA(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==n.validator);s.length!==i.length&&(e=!0,t.setValidators(s))}}if(null!==n.asyncValidator){const i=WA(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==n.asyncValidator);s.length!==i.length&&(e=!0,t.setAsyncValidators(s))}}}const r=()=>{};return h0(n._rawValidators,r),h0(n._rawAsyncValidators,r),e}function eO(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function vx(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function yx(t,n){if(!n)return null;let e,r,i;return Array.isArray(n),n.forEach(s=>{s.constructor===qg?e=s:function gU(t){return Object.getPrototypeOf(t.constructor)===mp}(s)?r=s:i=s}),i||r||e||null}function rO(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function iO(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Fv=class extends c0{constructor(n=null,e,r){super(hx(e),px(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),u0(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=iO(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){rO(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){rO(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){iO(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},_U={provide:oh,useExisting:On(()=>Bv)},sO=(()=>Promise.resolve())();let Bv=(()=>{class t extends oh{constructor(e,r,i,s,c,m){super(),this._changeDetectorRef=c,this.callSetDisabledState=m,this.control=new Fv,this._registered=!1,this.name="",this.update=new ur,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=yx(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),vx(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){sO.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&Fg(r);sO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?d0(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(Ye(Ys,9),Ye(Ms,10),Ye(ih,10),Ye(Kc,10),Ye(ls,8),Ye(vp,8))},t.\u0275dir=un({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xr([_U]),Zn,Ca]}),t})(),_x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=un({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),uO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({}),t})();const wx=new qt("NgModelWithFormControlWarning"),SU={provide:Ys,useExisting:On(()=>Vv)};let Vv=(()=>{class t extends Ys{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ur,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(p0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Pv(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){f0(e.control||null,e,!1),function mU(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function nO(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(f0(r||null,e),(t=>t instanceof Fv)(i)&&(Pv(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function tO(t,n){gx(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function hU(t,n){return p0(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gx(this.form,this),this._oldForm&&p0(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(Ye(Ms,10),Ye(ih,10),Ye(vp,8))},t.\u0275dir=un({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&wn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xr([SU]),Zn,Ca]}),t})();const IU={provide:oh,useExisting:On(()=>g0)};let g0=(()=>{class t extends oh{set isDisabled(e){}constructor(e,r,i,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new ur,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=yx(0,s)}ngOnChanges(e){this._added||this._setUpControl(),vx(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return d0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(Ye(Ys,13),Ye(Ms,10),Ye(ih,10),Ye(Kc,10),Ye(wx,8))},t.\u0275dir=un({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Xr([IU]),Zn,Ca]}),t})();const AU={provide:Kc,useExisting:On(()=>Hv),multi:!0};function pO(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Hv=(()=>{class t extends mp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=pO(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function OU(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=un({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&wn("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xr([AU]),Zn]}),t})(),Ex=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(pO(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(tf),Ye(Hv,9))},t.\u0275dir=un({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const NU={provide:Kc,useExisting:On(()=>Dx),multi:!0};function gO(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Dx=(()=>{class t extends mp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(s=>this._getOptionId(s));r=(s,c)=>{s._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const c=s;for(let m=0;m<c.length;m++){const O=this._getOptionValue(c[m].value);i.push(O)}}else{const c=r.options;for(let m=0;m<c.length;m++){const _=c[m];if(_.selected){const O=this._getOptionValue(_.value);i.push(O)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function RU(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=un({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&wn("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xr([NU]),Zn]}),t})(),Sx=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(gO(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(gO(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(tf),Ye(Dx,9))},t.\u0275dir=un({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),DO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({imports:[uO]}),t})();class SO extends c0{constructor(n,e,r){super(hx(e),px(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,r={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,e={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){QA(this,0,n),n.forEach((r,i)=>{ZA(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,r)=>{n(e,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function TO(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let MO=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new t;return e.useNonNullable=!0,e}group(e,r=null){const i=this._reduceControls(e);let s={};return TO(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Rv(i,s)}record(e,r=null){const i=this._reduceControls(e);return new JA(i,r)}control(e,r,i){let s={};return this.useNonNullable?(TO(r)?s=r:(s.validators=r,s.asyncValidators=i),new Fv(e,{...s,nonNullable:!0})):new Fv(e,r,i)}array(e,r,i){const s=e.map(c=>this._createControl(c));return new SO(s,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof Fv||e instanceof c0?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),UU=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:vp,useValue:e.callSetDisabledState??kv}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({imports:[DO]}),t})(),GU=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:wx,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:vp,useValue:e.callSetDisabledState??kv}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({imports:[DO]}),t})();class m0{}class v0{}class qc{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),s=i.toLowerCase(),c=e.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof qc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new qc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof qc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const i=("a"===n.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const s=n.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(m=>-1===s.indexOf(m)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const r=(Array.isArray(e)?e:[e]).map(s=>s.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class jU{encodeKey(n){return IO(n)}encodeValue(n){return IO(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const $U=/%(\d[a-f0-9])/gi,YU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function IO(t){return encodeURIComponent(t).replace($U,(n,e)=>YU[e]??n)}function y0(t){return`${t}`}class ah{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new jU,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function WU(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[c,m]=-1==s?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,s)),n.decodeValue(i.slice(s+1))],_=e.get(c)||[];_.push(m),e.set(c,_)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],i=Array.isArray(r)?r.map(y0):[y0(r)];this.map.set(e,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new ah({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(y0(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(y0(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class XU{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function AO(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function OO(t){return typeof Blob<"u"&&t instanceof Blob}function NO(t){return typeof FormData<"u"&&t instanceof FormData}class zv{constructor(n,e,r,i){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function KU(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new qc),this.context||(this.context=new XU),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+c}}else this.params=new ah,this.urlWithParams=e}serializeBody(){return null===this.body?null:AO(this.body)||OO(this.body)||NO(this.body)||function qU(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ah?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||NO(this.body)?null:OO(this.body)?this.body.type||null:AO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ah?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,c=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,m=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let _=n.headers||this.headers,O=n.params||this.params;const U=n.context??this.context;return void 0!==n.setHeaders&&(_=Object.keys(n.setHeaders).reduce((K,ge)=>K.set(ge,n.setHeaders[ge]),_)),n.setParams&&(O=Object.keys(n.setParams).reduce((K,ge)=>K.set(ge,n.setParams[ge]),O)),new zv(e,r,s,{params:O,headers:_,context:U,reportProgress:m,responseType:i,withCredentials:c})}}var ma=(()=>((ma=ma||{})[ma.Sent=0]="Sent",ma[ma.UploadProgress=1]="UploadProgress",ma[ma.ResponseHeader=2]="ResponseHeader",ma[ma.DownloadProgress=3]="DownloadProgress",ma[ma.Response=4]="Response",ma[ma.User=5]="User",ma))();class Mx{constructor(n,e=200,r="OK"){this.headers=n.headers||new qc,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Ix extends Mx{constructor(n={}){super(n),this.type=ma.ResponseHeader}clone(n={}){return new Ix({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Jg extends Mx{constructor(n={}){super(n),this.type=ma.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Jg({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class RO extends Mx{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Ax(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let b0=(()=>{class t{constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof zv)s=e;else{let _,O;_=i.headers instanceof qc?i.headers:new qc(i.headers),i.params&&(O=i.params instanceof ah?i.params:new ah({fromObject:i.params})),s=new zv(e,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:O,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=tt(s).pipe(Hg(_=>this.handler.handle(_)));if(e instanceof zv||"events"===i.observe)return c;const m=c.pipe(Ll(_=>_ instanceof Jg));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return m.pipe(St(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return m.pipe(St(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return m.pipe(St(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return m.pipe(St(_=>_.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new ah).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Ax(i,r))}post(e,r,i={}){return this.request("POST",e,Ax(i,r))}put(e,r,i={}){return this.request("PUT",e,Ax(i,r))}}return t.\u0275fac=function(e){return new(e||t)(Pt(m0))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();function LO(t,n){return n(t)}function QU(t,n){return(e,r)=>n.intercept(e,{handle:i=>t(i,r)})}const eG=new qt(""),Uv=new qt(""),FO=new qt("");function tG(){let t=null;return(n,e)=>{null===t&&(t=(nn(eG,{optional:!0})??[]).reduceRight(QU,LO));const r=nn(vb),i=r.add();return t(n,e).pipe(zg(()=>r.remove(i)))}}let BO=(()=>{class t extends m0{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null,this.pendingTasks=nn(vb)}handle(e){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Uv),...this.injector.get(FO,[])]));this.chain=i.reduceRight((s,c)=>function JU(t,n,e){return(r,i)=>e.runInContext(()=>n(r,s=>t(s,i)))}(s,c,this.injector),LO)}const r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(zg(()=>this.pendingTasks.remove(r)))}}return t.\u0275fac=function(e){return new(e||t)(Pt(v0),Pt(Fc))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const oG=/^\)\]\}',?\n/;let HO=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new et(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Ve(r.\u0275loadImpl()):tt(null)).pipe(Ht(()=>new Ze(s=>{const c=r.build();if(c.open(e.method,e.urlWithParams),e.withCredentials&&(c.withCredentials=!0),e.headers.forEach((Fe,Xe)=>c.setRequestHeader(Fe,Xe.join(","))),e.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Fe=e.detectContentTypeHeader();null!==Fe&&c.setRequestHeader("Content-Type",Fe)}if(e.responseType){const Fe=e.responseType.toLowerCase();c.responseType="json"!==Fe?Fe:"text"}const m=e.serializeBody();let _=null;const O=()=>{if(null!==_)return _;const Fe=c.statusText||"OK",Xe=new qc(c.getAllResponseHeaders()),ct=function aG(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(c)||e.url;return _=new Ix({headers:Xe,status:c.status,statusText:Fe,url:ct}),_},U=()=>{let{headers:Fe,status:Xe,statusText:ct,url:qe}=O(),vt=null;204!==Xe&&(vt=typeof c.response>"u"?c.responseText:c.response),0===Xe&&(Xe=vt?200:0);let ln=Xe>=200&&Xe<300;if("json"===e.responseType&&"string"==typeof vt){const fn=vt;vt=vt.replace(oG,"");try{vt=""!==vt?JSON.parse(vt):null}catch(_r){vt=fn,ln&&(ln=!1,vt={error:_r,text:vt})}}ln?(s.next(new Jg({body:vt,headers:Fe,status:Xe,statusText:ct,url:qe||void 0})),s.complete()):s.error(new RO({error:vt,headers:Fe,status:Xe,statusText:ct,url:qe||void 0}))},K=Fe=>{const{url:Xe}=O(),ct=new RO({error:Fe,status:c.status||0,statusText:c.statusText||"Unknown Error",url:Xe||void 0});s.error(ct)};let ge=!1;const ve=Fe=>{ge||(s.next(O()),ge=!0);let Xe={type:ma.DownloadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(Xe.total=Fe.total),"text"===e.responseType&&c.responseText&&(Xe.partialText=c.responseText),s.next(Xe)},Me=Fe=>{let Xe={type:ma.UploadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(Xe.total=Fe.total),s.next(Xe)};return c.addEventListener("load",U),c.addEventListener("error",K),c.addEventListener("timeout",K),c.addEventListener("abort",K),e.reportProgress&&(c.addEventListener("progress",ve),null!==m&&c.upload&&c.upload.addEventListener("progress",Me)),c.send(m),s.next({type:ma.Sent}),()=>{c.removeEventListener("error",K),c.removeEventListener("abort",K),c.removeEventListener("load",U),c.removeEventListener("timeout",K),e.reportProgress&&(c.removeEventListener("progress",ve),null!==m&&c.upload&&c.upload.removeEventListener("progress",Me)),c.readyState!==c.DONE&&c.abort()}})))}}return t.\u0275fac=function(e){return new(e||t)(Pt(KM))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const Ox=new qt("XSRF_ENABLED"),zO=new qt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),UO=new qt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class GO{}let uG=(()=>{class t{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=VM(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di),Pt(qf),Pt(zO))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();function cG(t,n){const e=t.url.toLowerCase();if(!nn(Ox)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const r=nn(GO).getToken(),i=nn(UO);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),n(t)}var po=(()=>((po=po||{})[po.Interceptors=0]="Interceptors",po[po.LegacyInterceptors=1]="LegacyInterceptors",po[po.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",po[po.NoXsrfProtection=3]="NoXsrfProtection",po[po.JsonpSupport=4]="JsonpSupport",po[po.RequestsMadeViaParent=5]="RequestsMadeViaParent",po[po.Fetch=6]="Fetch",po))();function bp(t,n){return{\u0275kind:t,\u0275providers:n}}function dG(...t){const n=[b0,HO,BO,{provide:m0,useExisting:BO},{provide:v0,useExisting:HO},{provide:Uv,useValue:cG,multi:!0},{provide:Ox,useValue:!0},{provide:GO,useClass:uG}];for(const e of t)n.push(...e.\u0275providers);return function T_(t){return{\u0275providers:t}}(n)}const jO=new qt("LEGACY_INTERCEPTOR_FN");let hG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({providers:[dG(bp(po.LegacyInterceptors,[{provide:jO,useFactory:tG},{provide:Uv,useExisting:jO,multi:!0}]))]}),t})();class WO{}class bG{}const cf="*";function _G(t,n){return{type:7,name:t,definitions:n,options:{}}}function Nx(t,n=null){return{type:4,styles:n,timings:t}}function $O(t,n=null){return{type:2,steps:t,options:n}}function _p(t){return{type:6,styles:t,offset:null}}function Rx(t,n,e){return{type:0,name:t,styles:n,options:e}}function kx(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}class Gv{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class YO{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++r==s&&this._onDestroy()}),c.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,m)=>Math.max(c,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function XO(t){return new et(3e3,!1)}function sh(t){switch(t.length){case 0:return new Gv;case 1:return t[0];default:return new YO(t)}}function KO(t,n,e=new Map,r=new Map){const i=[],s=[];let c=-1,m=null;if(n.forEach(_=>{const O=_.get("offset"),U=O==c,K=U&&m||new Map;_.forEach((ge,ve)=>{let Me=ve,Fe=ge;if("offset"!==ve)switch(Me=t.normalizePropertyName(Me,i),Fe){case"!":Fe=e.get(ve);break;case cf:Fe=r.get(ve);break;default:Fe=t.normalizeStyleValue(ve,Me,Fe,i)}K.set(Me,Fe)}),U||s.push(K),m=K,c=O}),i.length)throw function GG(t){return new et(3502,!1)}();return s}function Lx(t,n,e,r){switch(n){case"start":t.onStart(()=>r(e&&Fx(e,"start",t)));break;case"done":t.onDone(()=>r(e&&Fx(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&Fx(e,"destroy",t)))}}function Fx(t,n,e){const s=Bx(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),c=t._data;return null!=c&&(s._data=c),s}function Bx(t,n,e,r,i="",s=0,c){return{element:t,triggerName:n,fromState:e,toState:r,phaseName:i,totalTime:s,disabled:!!c}}function Bl(t,n,e){let r=t.get(n);return r||t.set(n,r=e),r}function qO(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const t8=(()=>typeof document>"u"?null:document.documentElement)();function Vx(t){const n=t.parentNode||t.host||null;return n===t8?null:n}let wp=null,ZO=!1;function QO(t,n){for(;n;){if(n===t)return!0;n=Vx(n)}return!1}function JO(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const r=t.querySelector(n);return r?[r]:[]}let eN=(()=>{class t{validateStyleProperty(e){return function r8(t){wp||(wp=function i8(){return typeof document<"u"?document.body:null}()||{},ZO=!!wp.style&&"WebkitAppearance"in wp.style);let n=!0;return wp.style&&!function n8(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in wp.style,!n&&ZO&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in wp.style)),n}(e)}matchesElement(e,r){return!1}containsElement(e,r){return QO(e,r)}getParentElement(e){return Vx(e)}query(e,r,i){return JO(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,s,c,m=[],_){return new Gv(i,s)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})(),Hx=(()=>{class t{}return t.NOOP=new eN,t})();const o8=1e3,zx="ng-enter",w0="ng-leave",C0="ng-trigger",x0=".ng-trigger",nN="ng-animating",Ux=".ng-animating";function df(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Gx(parseFloat(n[1]),n[2])}function Gx(t,n){return"s"===n?t*o8:t}function E0(t,n,e){return t.hasOwnProperty("duration")?t:function s8(t,n,e){let i,s=0,c="";if("string"==typeof t){const m=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return n.push(XO()),{duration:0,delay:0,easing:""};i=Gx(parseFloat(m[1]),m[2]);const _=m[3];null!=_&&(s=Gx(parseFloat(_),m[4]));const O=m[5];O&&(c=O)}else i=t;if(!e){let m=!1,_=n.length;i<0&&(n.push(function wG(){return new et(3100,!1)}()),m=!0),s<0&&(n.push(function CG(){return new et(3101,!1)}()),m=!0),m&&n.splice(_,0,XO())}return{duration:i,delay:s,easing:c}}(t,n,e)}function jv(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function rN(t){const n=new Map;return Object.keys(t).forEach(e=>{n.set(e,t[e])}),n}function lh(t,n=new Map,e){if(e)for(let[r,i]of e)n.set(r,i);for(let[r,i]of t)n.set(r,i);return n}function Zc(t,n,e){n.forEach((r,i)=>{const s=Wx(i);e&&!e.has(i)&&e.set(i,t.style[s]),t.style[s]=r})}function Cp(t,n){n.forEach((e,r)=>{const i=Wx(r);t.style[i]=""})}function Wv(t){return Array.isArray(t)?1==t.length?t[0]:$O(t):t}const jx=new RegExp("{{\\s*(.+?)\\s*}}","g");function oN(t){let n=[];if("string"==typeof t){let e;for(;e=jx.exec(t);)n.push(e[1]);jx.lastIndex=0}return n}function $v(t,n,e){const r=t.toString(),i=r.replace(jx,(s,c)=>{let m=n[c];return null==m&&(e.push(function EG(t){return new et(3003,!1)}()),m=""),m.toString()});return i==r?t:i}function D0(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const c8=/-+([a-z0-9])/g;function Wx(t){return t.replace(c8,(...n)=>n[1].toUpperCase())}function Vl(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function DG(t){return new et(3004,!1)}()}}function aN(t,n){return window.getComputedStyle(t)[n]}const S0="*";function h8(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function p8(t,n,e){if(":"==t[0]){const _=function g8(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(function VG(t){return new et(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof _)return void n.push(_);t=_}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function BG(t){return new et(3015,!1)}()),n;const i=r[1],s=r[2],c=r[3];n.push(sN(i,c));"<"==s[0]&&!(i==S0&&c==S0)&&n.push(sN(c,i))}(r,e,n)):e.push(t),e}const T0=new Set(["true","1"]),M0=new Set(["false","0"]);function sN(t,n){const e=T0.has(t)||M0.has(t),r=T0.has(n)||M0.has(n);return(i,s)=>{let c=t==S0||t==i,m=n==S0||n==s;return!c&&e&&"boolean"==typeof i&&(c=i?T0.has(t):M0.has(t)),!m&&r&&"boolean"==typeof s&&(m=s?T0.has(n):M0.has(n)),c&&m}}const m8=new RegExp("s*:selfs*,?","g");function $x(t,n,e,r){return new v8(t).build(n,e,r)}class v8{constructor(n){this._driver=n}build(n,e,r){const i=new _8(e);return this._resetContextStyleTimingState(i),Vl(this,Wv(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,i=e.depCount=0;const s=[],c=[];return"@"==n.name.charAt(0)&&e.errors.push(function TG(){return new et(3006,!1)}()),n.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const _=m,O=_.name;O.toString().split(/\s*,\s*/).forEach(U=>{_.name=U,s.push(this.visitState(_,e))}),_.name=O}else if(1==m.type){const _=this.visitTransition(m,e);r+=_.queryCount,i+=_.depCount,c.push(_)}else e.errors.push(function MG(){return new et(3007,!1)}())}),{type:7,name:n.name,states:s,transitions:c,queryCount:r,depCount:i,options:null}}visitState(n,e){const r=this.visitStyle(n.styles,e),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const s=new Set,c=i||{};r.styles.forEach(m=>{m instanceof Map&&m.forEach(_=>{oN(_).forEach(O=>{c.hasOwnProperty(O)||s.add(O)})})}),s.size&&(D0(s.values()),e.errors.push(function IG(t,n){return new et(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const r=Vl(this,Wv(n.animation),e);return{type:1,matchers:h8(n.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:xp(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(r=>Vl(this,r,e)),options:xp(n.options)}}visitGroup(n,e){const r=e.currentTime;let i=0;const s=n.steps.map(c=>{e.currentTime=r;const m=Vl(this,c,e);return i=Math.max(i,e.currentTime),m});return e.currentTime=i,{type:3,steps:s,options:xp(n.options)}}visitAnimate(n,e){const r=function C8(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return Yx(E0(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Yx(0,0,"");return s.dynamic=!0,s.strValue=e,s}const i=E0(e,n);return Yx(i.duration,i.delay,i.easing)}(n.timings,e.errors);e.currentAnimateTimings=r;let i,s=n.styles?n.styles:_p({});if(5==s.type)i=this.visitKeyframes(s,e);else{let c=n.styles,m=!1;if(!c){m=!0;const O={};r.easing&&(O.easing=r.easing),c=_p(O)}e.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,e);_.isEmptyStep=m,i=_}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,e){const r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let m of i)"string"==typeof m?m===cf?r.push(m):e.errors.push(new et(3002,!1)):r.push(rN(m));let s=!1,c=null;return r.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(c=m.get("easing"),m.delete("easing")),!s))for(let _ of m.values())if(_.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:c,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,e){const r=e.currentAnimateTimings;let i=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),n.styles.forEach(c=>{"string"!=typeof c&&c.forEach((m,_)=>{const O=e.collectedStyles.get(e.currentQuerySelector),U=O.get(_);let K=!0;U&&(s!=i&&s>=U.startTime&&i<=U.endTime&&(e.errors.push(function OG(t,n,e,r,i){return new et(3010,!1)}()),K=!1),s=U.startTime),K&&O.set(_,{startTime:s,endTime:i}),e.options&&function u8(t,n,e){const r=n.params||{},i=oN(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||e.push(function xG(t){return new et(3001,!1)}())})}(m,e.options,e.errors)})})}visitKeyframes(n,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function NG(){return new et(3011,!1)}()),r;let s=0;const c=[];let m=!1,_=!1,O=0;const U=n.steps.map(ct=>{const qe=this._makeStyleAst(ct,e);let vt=null!=qe.offset?qe.offset:function w8(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(qe.styles),ln=0;return null!=vt&&(s++,ln=qe.offset=vt),_=_||ln<0||ln>1,m=m||ln<O,O=ln,c.push(ln),qe});_&&e.errors.push(function RG(){return new et(3012,!1)}()),m&&e.errors.push(function kG(){return new et(3200,!1)}());const K=n.steps.length;let ge=0;s>0&&s<K?e.errors.push(function PG(){return new et(3202,!1)}()):0==s&&(ge=1/(K-1));const ve=K-1,Me=e.currentTime,Fe=e.currentAnimateTimings,Xe=Fe.duration;return U.forEach((ct,qe)=>{const vt=ge>0?qe==ve?1:ge*qe:c[qe],ln=vt*Xe;e.currentTime=Me+Fe.delay+ln,Fe.duration=ln,this._validateStyleAst(ct,e),ct.offset=vt,r.styles.push(ct)}),r}visitReference(n,e){return{type:8,animation:Vl(this,Wv(n.animation),e),options:xp(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:xp(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:xp(n.options)}}visitQuery(n,e){const r=e.currentQuerySelector,i=n.options||{};e.queryCount++,e.currentQuery=n;const[s,c]=function y8(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(m8,"")),t=t.replace(/@\*/g,x0).replace(/@\w+/g,e=>x0+"-"+e.slice(1)).replace(/:animating/g,Ux),[t,n]}(n.selector);e.currentQuerySelector=r.length?r+" "+s:s,Bl(e.collectedStyles,e.currentQuerySelector,new Map);const m=Vl(this,Wv(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:m,originalSelector:n.selector,options:xp(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function LG(){return new et(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:E0(n.timings,e.errors,!0);return{type:12,animation:Vl(this,Wv(n.animation),e),timings:r,options:null}}}class _8{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xp(t){return t?(t=jv(t)).params&&(t.params=function b8(t){return t?jv(t):null}(t.params)):t={},t}function Yx(t,n,e){return{duration:t,delay:n,easing:e}}function Xx(t,n,e,r,i,s,c=null,m=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:c,subTimeline:m}}class I0{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const D8=new RegExp(":enter","g"),T8=new RegExp(":leave","g");function Kx(t,n,e,r,i,s=new Map,c=new Map,m,_,O=[]){return(new M8).buildKeyframes(t,n,e,r,i,s,c,m,_,O)}class M8{buildKeyframes(n,e,r,i,s,c,m,_,O,U=[]){O=O||new I0;const K=new qx(n,e,O,i,s,U,[]);K.options=_;const ge=_.delay?df(_.delay):0;K.currentTimeline.delayNextStep(ge),K.currentTimeline.setStyles([c],null,K.errors,_),Vl(this,r,K);const ve=K.timelines.filter(Me=>Me.containsAnimation());if(ve.length&&m.size){let Me;for(let Fe=ve.length-1;Fe>=0;Fe--){const Xe=ve[Fe];if(Xe.element===e){Me=Xe;break}}Me&&!Me.allowOnlyTimelineStyles()&&Me.setStyles([m],null,K.errors,_)}return ve.length?ve.map(Me=>Me.buildKeyframes()):[Xx(e,[],[],[],0,ge,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(n.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=n}visitAnimateRef(n,e){const r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,r),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,r){for(const i of n){const s=i?.delay;if(s){const c="number"==typeof s?s:df($v(s,i?.params??{},e.errors));r.delayNextStep(c)}}}_visitSubInstructions(n,e,r){let s=e.currentTimeline.currentTime;const c=null!=r.duration?df(r.duration):null,m=null!=r.delay?df(r.delay):null;return 0!==c&&n.forEach(_=>{const O=e.appendInstructionToTimeline(_,c,m);s=Math.max(s,O.duration+O.delay)}),s}visitReference(n,e){e.updateOptions(n.options,!0),Vl(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const r=e.subContextCount;let i=e;const s=n.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=A0);const c=df(s.delay);i.delayNextStep(c)}n.steps.length&&(n.steps.forEach(c=>Vl(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const r=[];let i=e.currentTimeline.currentTime;const s=n.options&&n.options.delay?df(n.options.delay):0;n.steps.forEach(c=>{const m=e.createSubContext(n.options);s&&m.delayNextStep(s),Vl(this,c,m),i=Math.max(i,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(i),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const r=n.strValue;return E0(e.params?$v(r,e.params,e.errors):r,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const r=e.currentAnimateTimings=this._visitTiming(n.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(r.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(s):r.setStyles(n.styles,s,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,s=r.duration,m=e.createSubContext().currentTimeline;m.easing=r.easing,n.styles.forEach(_=>{m.forwardTime((_.offset||0)*s),m.setStyles(_.styles,_.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(i+s),e.previousNode=n}visitQuery(n,e){const r=e.currentTimeline.currentTime,i=n.options||{},s=i.delay?df(i.delay):0;s&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=A0);let c=r;const m=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=m.length;let _=null;m.forEach((O,U)=>{e.currentQueryIndex=U;const K=e.createSubContext(n.options,O);s&&K.delayNextStep(s),O===e.element&&(_=K.currentTimeline),Vl(this,n.animation,K),K.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,K.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const r=e.parentContext,i=e.currentTimeline,s=n.timings,c=Math.abs(s.duration),m=c*(e.currentQueryTotal-1);let _=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":_=m-_;break;case"full":_=r.currentStaggerTime}const U=e.currentTimeline;_&&U.delayNextStep(_);const K=U.currentTime;Vl(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=i.currentTime-K+(i.startTime-r.currentTimeline.startTime)}}const A0={};class qx{constructor(n,e,r,i,s,c,m,_){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=c,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=A0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new O0(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=df(r.duration)),null!=r.delay&&(i.delay=df(r.delay));const s=r.params;if(s){let c=i.params;c||(c=this.options.params={}),Object.keys(s).forEach(m=>{(!e||!c.hasOwnProperty(m))&&(c[m]=$v(s[m],c,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const r=n.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return n}createSubContext(n=null,e,r){const i=e||this.element,s=new qx(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=A0,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){const i={duration:e??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},s=new I8(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,i,s,c){let m=[];if(i&&m.push(this.element),n.length>0){n=(n=n.replace(D8,"."+this._enterClassName)).replace(T8,"."+this._leaveClassName);let O=this._driver.query(this.element,n,1!=r);0!==r&&(O=r<0?O.slice(O.length+r,O.length):O.slice(0,r)),m.push(...O)}return!s&&0==m.length&&c.push(function FG(t){return new et(3014,!1)}()),m}}class O0{constructor(n,e,r,i){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new O0(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||cf),this._currentKeyframe.set(e,cf);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,i){e&&this._previousKeyframe.set("easing",e);const s=i&&i.params||{},c=function A8(t,n){const e=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||n.keys();for(let s of r)e.set(s,cf)}else lh(i,e)}),e}(n,this._globalTimelineStyles);for(let[m,_]of c){const O=$v(_,s,r);this._pendingStyles.set(m,O),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??cf),this._updateStyle(m,O)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((m,_)=>{const O=lh(m,new Map,this._backFill);O.forEach((U,K)=>{"!"===U?n.add(K):U===cf&&e.add(K)}),r||O.set("offset",_/this.duration),i.push(O)});const s=n.size?D0(n.values()):[],c=e.size?D0(e.values()):[];if(r){const m=i[0],_=new Map(m);m.set("offset",0),_.set("offset",1),i=[m,_]}return Xx(this.element,i,s,c,this.duration,this.startTime,this.easing,!1)}}class I8 extends O0{constructor(n,e,r,i,s,c,m=!1){super(n,e,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=m,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=r+e,m=e/c,_=lh(n[0]);_.set("offset",0),s.push(_);const O=lh(n[0]);O.set("offset",cN(m)),s.push(O);const U=n.length-1;for(let K=1;K<=U;K++){let ge=lh(n[K]);const ve=ge.get("offset");ge.set("offset",cN((e+ve*r)/c)),s.push(ge)}r=c,e=0,i="",n=s}return Xx(this.element,n,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function cN(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class Zx{}const O8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class N8 extends Zx{normalizePropertyName(n,e){return Wx(n)}normalizeStyleValue(n,e,r,i){let s="";const c=r.toString().trim();if(O8.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&i.push(function SG(t,n){return new et(3005,!1)}())}return c+s}}function dN(t,n,e,r,i,s,c,m,_,O,U,K,ge){return{type:0,element:t,triggerName:n,isRemovalTransition:i,fromState:e,fromStyles:s,toState:r,toStyles:c,timelines:m,queriedElements:_,preStyleProps:O,postStyleProps:U,totalTime:K,errors:ge}}const Qx={};class fN{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,i){return function R8(t,n,e,r,i){return t.some(s=>s(n,e,r,i))}(this.ast.matchers,n,e,r,i)}buildStyles(n,e,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(e,r):new Map}build(n,e,r,i,s,c,m,_,O,U){const K=[],ge=this.ast.options&&this.ast.options.params||Qx,Me=this.buildStyles(r,m&&m.params||Qx,K),Fe=_&&_.params||Qx,Xe=this.buildStyles(i,Fe,K),ct=new Set,qe=new Map,vt=new Map,ln="void"===i,fn={params:k8(Fe,ge),delay:this.ast.options?.delay},_r=U?[]:Kx(n,e,this.ast.animation,s,c,Me,Xe,fn,O,K);let ot=0;if(_r.forEach(Is=>{ot=Math.max(Is.duration+Is.delay,ot)}),K.length)return dN(e,this._triggerName,r,i,ln,Me,Xe,[],[],qe,vt,ot,K);_r.forEach(Is=>{const Oo=Is.element,fh=Bl(qe,Oo,new Set);Is.preStyleProps.forEach(Ia=>fh.add(Ia));const mu=Bl(vt,Oo,new Set);Is.postStyleProps.forEach(Ia=>mu.add(Ia)),Oo!==e&&ct.add(Oo)});const va=D0(ct.values());return dN(e,this._triggerName,r,i,ln,Me,Xe,_r,va,qe,vt,ot)}}function k8(t,n){const e=jv(n);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(e[r]=t[r]);return e}class P8{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){const r=new Map,i=jv(this.defaultParams);return Object.keys(n).forEach(s=>{const c=n[s];null!==c&&(i[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,m)=>{c&&(c=$v(c,i,e));const _=this.normalizer.normalizePropertyName(m,e);c=this.normalizer.normalizeStyleValue(m,_,c,e),r.set(m,c)})}),r}}class F8{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new P8(i.style,i.options&&i.options.params||{},r))}),hN(this.states,"true","1"),hN(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new fN(n,i,this.states))}),this.fallbackTransition=function B8(t,n,e){return new fN(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,m)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,i){return this.transitionFactories.find(c=>c.match(n,e,r,i))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}}function hN(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const V8=new I0;class H8{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const r=[],s=$x(this._driver,e,r,[]);if(r.length)throw function jG(t){return new et(3503,!1)}();this._animations.set(n,s)}_buildPlayer(n,e,r){const i=n.element,s=KO(this._normalizer,n.keyframes,e,r);return this._driver.animate(i,s,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){const i=[],s=this._animations.get(n);let c;const m=new Map;if(s?(c=Kx(this._driver,e,s,zx,w0,new Map,new Map,r,V8,i),c.forEach(U=>{const K=Bl(m,U.element,new Map);U.postStyleProps.forEach(ge=>K.set(ge,null))})):(i.push(function WG(){return new et(3300,!1)}()),c=[]),i.length)throw function $G(t){return new et(3504,!1)}();m.forEach((U,K)=>{U.forEach((ge,ve)=>{U.set(ve,this._driver.computeStyle(K,ve,cf))})});const O=sh(c.map(U=>{const K=m.get(U.element);return this._buildPlayer(U,new Map,K)}));return this._playersById.set(n,O),O.onDestroy(()=>this.destroy(n)),this.players.push(O),O}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function YG(t){return new et(3301,!1)}();return e}listen(n,e,r,i){const s=Bx(e,"","","");return Lx(this._getPlayer(n),r,s,i),()=>{}}command(n,e,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,e,i[0]||{});const s=this._getPlayer(n);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const pN="ng-animate-queued",Jx="ng-animate-disabled",W8=[],gN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hu="__ng_removed";class eE{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const r=n&&n.hasOwnProperty("value");if(this.value=function q8(t){return t??null}(r?n.value:n),r){const s=jv(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Yv="void",tE=new eE(Yv);class Y8{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,pu(e,this._hostClassName)}listen(n,e,r,i){if(!this._triggers.has(e))throw function XG(t,n){return new et(3302,!1)}();if(null==r||0==r.length)throw function KG(t){return new et(3303,!1)}();if(!function Z8(t){return"start"==t||"done"==t}(r))throw function qG(t,n){return new et(3400,!1)}();const s=Bl(this._elementListeners,n,[]),c={name:e,phase:r,callback:i};s.push(c);const m=Bl(this._engine.statesByElement,n,new Map);return m.has(e)||(pu(n,C0),pu(n,C0+"-"+e),m.set(e,tE)),()=>{this._engine.afterFlush(()=>{const _=s.indexOf(c);_>=0&&s.splice(_,1),this._triggers.has(e)||m.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function ZG(t){return new et(3401,!1)}();return e}trigger(n,e,r,i=!0){const s=this._getTrigger(e),c=new nE(this.id,e,n);let m=this._engine.statesByElement.get(n);m||(pu(n,C0),pu(n,C0+"-"+e),this._engine.statesByElement.set(n,m=new Map));let _=m.get(e);const O=new eE(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&O.absorbOptions(_.options),m.set(e,O),_||(_=tE),O.value!==Yv&&_.value===O.value){if(!function ej(t,n){const e=Object.keys(t),r=Object.keys(n);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const s=e[i];if(!n.hasOwnProperty(s)||t[s]!==n[s])return!1}return!0}(_.params,O.params)){const Fe=[],Xe=s.matchStyles(_.value,_.params,Fe),ct=s.matchStyles(O.value,O.params,Fe);Fe.length?this._engine.reportError(Fe):this._engine.afterFlush(()=>{Cp(n,Xe),Zc(n,ct)})}return}const ge=Bl(this._engine.playersByElement,n,[]);ge.forEach(Fe=>{Fe.namespaceId==this.id&&Fe.triggerName==e&&Fe.queued&&Fe.destroy()});let ve=s.matchTransition(_.value,O.value,n,O.params),Me=!1;if(!ve){if(!i)return;ve=s.fallbackTransition,Me=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:ve,fromState:_,toState:O,player:c,isFallbackTransition:Me}),Me||(pu(n,pN),c.onStart(()=>{em(n,pN)})),c.onDone(()=>{let Fe=this.players.indexOf(c);Fe>=0&&this.players.splice(Fe,1);const Xe=this._engine.playersByElement.get(n);if(Xe){let ct=Xe.indexOf(c);ct>=0&&Xe.splice(ct,1)}}),this.players.push(c),ge.push(c),c}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const r=this._engine.driver.query(n,x0,!0);r.forEach(i=>{if(i[hu])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(c=>c.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,e,r,i){const s=this._engine.statesByElement.get(n),c=new Map;if(s){const m=[];if(s.forEach((_,O)=>{if(c.set(O,_.value),this._triggers.has(O)){const U=this.trigger(n,O,Yv,i);U&&m.push(U)}}),m.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,c),r&&sh(m).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){const i=new Set;e.forEach(s=>{const c=s.name;if(i.has(c))return;i.add(c);const _=this._triggers.get(c).fallbackTransition,O=r.get(c)||tE,U=new eE(Yv),K=new nE(this.id,c,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:c,transition:_,fromState:O,toState:U,player:K,isFallbackTransition:!0})})}}removeNode(n,e){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(n):[];if(s&&s.length)i=!0;else{let c=n;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,e);else{const s=n[hu];(!s||s===gN)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){pu(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,c=this._elementListeners.get(s);c&&c.forEach(m=>{if(m.name==r.triggerName){const _=Bx(s,r.triggerName,r.fromState.value,r.toState.value);_._data=n,Lx(r.player,m.phase,_,m.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const s=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(r=>r.element===n)||e,e}}class X8{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,r){this.bodyNode=n,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){const r=new Y8(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,m=this.driver.getParentElement(e);for(;m;){const _=i.get(m);if(_){const O=r.indexOf(_);r.splice(O+1,0,n),c=!0;break}m=this.driver.getParentElement(m)}c||r.unshift(n)}else r.push(n);return i.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let i=this._namespaceLookup[n];i&&i.register(e,r)&&this.totalAnimations++}destroy(n,e){if(!n)return;const r=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[n];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&e.add(s)}return e}trigger(n,e,r,i){if(N0(e)){const s=this._fetchNamespace(n);if(s)return s.trigger(e,r,i),!0}return!1}insertNode(n,e,r,i){if(!N0(e))return;const s=e[hu];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(n){const c=this._fetchNamespace(n);c&&c.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),pu(n,Jx)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),em(n,Jx))}removeNode(n,e,r){if(N0(e)){const i=n?this._fetchNamespace(n):null;i?i.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r);const s=this.namespacesByHostElement.get(e);s&&s.id!==n&&s.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,r,i,s){this.collectedLeaveElements.push(e),e[hu]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,e,r,i,s){return N0(e)?this._fetchNamespace(n).listen(e,r,i,s):()=>{}}_buildInstruction(n,e,r,i,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,e,s)}destroyInnerAnimations(n){let e=this.driver.query(n,x0,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,Ux,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return sh(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[hu];if(e&&e.setForRemoval){if(n[hu]=gN,e.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(Jx)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)pu(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?sh(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function QG(t){return new et(3402,!1)}()}_flushAnimations(n,e){const r=new I0,i=[],s=new Map,c=[],m=new Map,_=new Map,O=new Map,U=new Set;this.disabledNodes.forEach(Rn=>{U.add(Rn);const jn=this.driver.query(Rn,".ng-animate-queued",!0);for(let Qn=0;Qn<jn.length;Qn++)U.add(jn[Qn])});const K=this.bodyNode,ge=Array.from(this.statesByElement.keys()),ve=yN(ge,this.collectedEnterElements),Me=new Map;let Fe=0;ve.forEach((Rn,jn)=>{const Qn=zx+Fe++;Me.set(jn,Qn),Rn.forEach(wr=>pu(wr,Qn))});const Xe=[],ct=new Set,qe=new Set;for(let Rn=0;Rn<this.collectedLeaveElements.length;Rn++){const jn=this.collectedLeaveElements[Rn],Qn=jn[hu];Qn&&Qn.setForRemoval&&(Xe.push(jn),ct.add(jn),Qn.hasAnimation?this.driver.query(jn,".ng-star-inserted",!0).forEach(wr=>ct.add(wr)):qe.add(jn))}const vt=new Map,ln=yN(ge,Array.from(ct));ln.forEach((Rn,jn)=>{const Qn=w0+Fe++;vt.set(jn,Qn),Rn.forEach(wr=>pu(wr,Qn))}),n.push(()=>{ve.forEach((Rn,jn)=>{const Qn=Me.get(jn);Rn.forEach(wr=>em(wr,Qn))}),ln.forEach((Rn,jn)=>{const Qn=vt.get(jn);Rn.forEach(wr=>em(wr,Qn))}),Xe.forEach(Rn=>{this.processLeaveNode(Rn)})});const fn=[],_r=[];for(let Rn=this._namespaceList.length-1;Rn>=0;Rn--)this._namespaceList[Rn].drainQueuedTransitions(e).forEach(Qn=>{const wr=Qn.player,aa=Qn.element;if(fn.push(wr),this.collectedEnterElements.length){const $a=aa[hu];if($a&&$a.setForMove){if($a.previousTriggersValues&&$a.previousTriggersValues.has(Qn.triggerName)){const tc=$a.previousTriggersValues.get(Qn.triggerName),qs=this.statesByElement.get(Qn.element);if(qs&&qs.has(Qn.triggerName)){const Ap=qs.get(Qn.triggerName);Ap.value=tc,qs.set(Qn.triggerName,Ap)}}return void wr.destroy()}}const Hl=!K||!this.driver.containsElement(K,aa),Wa=vt.get(aa),nd=Me.get(aa),Xi=this._buildInstruction(Qn,r,nd,Wa,Hl);if(Xi.errors&&Xi.errors.length)return void _r.push(Xi);if(Hl)return wr.onStart(()=>Cp(aa,Xi.fromStyles)),wr.onDestroy(()=>Zc(aa,Xi.toStyles)),void i.push(wr);if(Qn.isFallbackTransition)return wr.onStart(()=>Cp(aa,Xi.fromStyles)),wr.onDestroy(()=>Zc(aa,Xi.toStyles)),void i.push(wr);const hy=[];Xi.timelines.forEach($a=>{$a.stretchStartingKeyframe=!0,this.disabledNodes.has($a.element)||hy.push($a)}),Xi.timelines=hy,r.append(aa,Xi.timelines),c.push({instruction:Xi,player:wr,element:aa}),Xi.queriedElements.forEach($a=>Bl(m,$a,[]).push(wr)),Xi.preStyleProps.forEach(($a,tc)=>{if($a.size){let qs=_.get(tc);qs||_.set(tc,qs=new Set),$a.forEach((Ap,hm)=>qs.add(hm))}}),Xi.postStyleProps.forEach(($a,tc)=>{let qs=O.get(tc);qs||O.set(tc,qs=new Set),$a.forEach((Ap,hm)=>qs.add(hm))})});if(_r.length){const Rn=[];_r.forEach(jn=>{Rn.push(function JG(t,n){return new et(3505,!1)}())}),fn.forEach(jn=>jn.destroy()),this.reportError(Rn)}const ot=new Map,va=new Map;c.forEach(Rn=>{const jn=Rn.element;r.has(jn)&&(va.set(jn,jn),this._beforeAnimationBuild(Rn.player.namespaceId,Rn.instruction,ot))}),i.forEach(Rn=>{const jn=Rn.element;this._getPreviousPlayers(jn,!1,Rn.namespaceId,Rn.triggerName,null).forEach(wr=>{Bl(ot,jn,[]).push(wr),wr.destroy()})});const Is=Xe.filter(Rn=>_N(Rn,_,O)),Oo=new Map;vN(Oo,this.driver,qe,O,cf).forEach(Rn=>{_N(Rn,_,O)&&Is.push(Rn)});const mu=new Map;ve.forEach((Rn,jn)=>{vN(mu,this.driver,new Set(Rn),_,"!")}),Is.forEach(Rn=>{const jn=Oo.get(Rn),Qn=mu.get(Rn);Oo.set(Rn,new Map([...jn?.entries()??[],...Qn?.entries()??[]]))});const Ia=[],vu=[],td={};c.forEach(Rn=>{const{element:jn,player:Qn,instruction:wr}=Rn;if(r.has(jn)){if(U.has(jn))return Qn.onDestroy(()=>Zc(jn,wr.toStyles)),Qn.disabled=!0,Qn.overrideTotalTime(wr.totalTime),void i.push(Qn);let aa=td;if(va.size>1){let Wa=jn;const nd=[];for(;Wa=Wa.parentNode;){const Xi=va.get(Wa);if(Xi){aa=Xi;break}nd.push(Wa)}nd.forEach(Xi=>va.set(Xi,aa))}const Hl=this._buildAnimation(Qn.namespaceId,wr,ot,s,mu,Oo);if(Qn.setRealPlayer(Hl),aa===td)Ia.push(Qn);else{const Wa=this.playersByElement.get(aa);Wa&&Wa.length&&(Qn.parentPlayer=sh(Wa)),i.push(Qn)}}else Cp(jn,wr.fromStyles),Qn.onDestroy(()=>Zc(jn,wr.toStyles)),vu.push(Qn),U.has(jn)&&i.push(Qn)}),vu.forEach(Rn=>{const jn=s.get(Rn.element);if(jn&&jn.length){const Qn=sh(jn);Rn.setRealPlayer(Qn)}}),i.forEach(Rn=>{Rn.parentPlayer?Rn.syncPlayerEvents(Rn.parentPlayer):Rn.destroy()});for(let Rn=0;Rn<Xe.length;Rn++){const jn=Xe[Rn],Qn=jn[hu];if(em(jn,w0),Qn&&Qn.hasAnimation)continue;let wr=[];if(m.size){let Hl=m.get(jn);Hl&&Hl.length&&wr.push(...Hl);let Wa=this.driver.query(jn,Ux,!0);for(let nd=0;nd<Wa.length;nd++){let Xi=m.get(Wa[nd]);Xi&&Xi.length&&wr.push(...Xi)}}const aa=wr.filter(Hl=>!Hl.destroyed);aa.length?Q8(this,jn,aa):this.processLeaveNode(jn)}return Xe.length=0,Ia.forEach(Rn=>{this.players.push(Rn),Rn.onDone(()=>{Rn.destroy();const jn=this.players.indexOf(Rn);this.players.splice(jn,1)}),Rn.play()}),Ia}elementContainsData(n,e){let r=!1;const i=e[hu];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(n).elementContainsData(e)||r}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,i,s){let c=[];if(e){const m=this.playersByQueriedElement.get(n);m&&(c=m)}else{const m=this.playersByElement.get(n);if(m){const _=!s||s==Yv;m.forEach(O=>{O.queued||!_&&O.triggerName!=i||c.push(O)})}}return(r||i)&&(c=c.filter(m=>!(r&&r!=m.namespaceId||i&&i!=m.triggerName))),c}_beforeAnimationBuild(n,e,r){const s=e.element,c=e.isRemovalTransition?void 0:n,m=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const O=_.element,U=O!==s,K=Bl(r,O,[]);this._getPreviousPlayers(O,U,c,m,e.toState).forEach(ve=>{const Me=ve.getRealPlayer();Me.beforeDestroy&&Me.beforeDestroy(),ve.destroy(),K.push(ve)})}Cp(s,e.fromStyles)}_buildAnimation(n,e,r,i,s,c){const m=e.triggerName,_=e.element,O=[],U=new Set,K=new Set,ge=e.timelines.map(Me=>{const Fe=Me.element;U.add(Fe);const Xe=Fe[hu];if(Xe&&Xe.removedBeforeQueried)return new Gv(Me.duration,Me.delay);const ct=Fe!==_,qe=function J8(t){const n=[];return bN(t,n),n}((r.get(Fe)||W8).map(ot=>ot.getRealPlayer())).filter(ot=>!!ot.element&&ot.element===Fe),vt=s.get(Fe),ln=c.get(Fe),fn=KO(this._normalizer,Me.keyframes,vt,ln),_r=this._buildPlayer(Me,fn,qe);if(Me.subTimeline&&i&&K.add(Fe),ct){const ot=new nE(n,m,Fe);ot.setRealPlayer(_r),O.push(ot)}return _r});O.forEach(Me=>{Bl(this.playersByQueriedElement,Me.element,[]).push(Me),Me.onDone(()=>function K8(t,n,e){let r=t.get(n);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&t.delete(n)}return r}(this.playersByQueriedElement,Me.element,Me))}),U.forEach(Me=>pu(Me,nN));const ve=sh(ge);return ve.onDestroy(()=>{U.forEach(Me=>em(Me,nN)),Zc(_,e.toStyles)}),K.forEach(Me=>{Bl(i,Me,[]).push(ve)}),ve}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new Gv(n.duration,n.delay)}}class nE{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new Gv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>Lx(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Bl(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function N0(t){return t&&1===t.nodeType}function mN(t,n){const e=t.style.display;return t.style.display=n??"none",e}function vN(t,n,e,r,i){const s=[];e.forEach(_=>s.push(mN(_)));const c=[];r.forEach((_,O)=>{const U=new Map;_.forEach(K=>{const ge=n.computeStyle(O,K,i);U.set(K,ge),(!ge||0==ge.length)&&(O[hu]=$8,c.push(O))}),t.set(O,U)});let m=0;return e.forEach(_=>mN(_,s[m++])),c}function yN(t,n){const e=new Map;if(t.forEach(m=>e.set(m,[])),0==n.length)return e;const i=new Set(n),s=new Map;function c(m){if(!m)return 1;let _=s.get(m);if(_)return _;const O=m.parentNode;return _=e.has(O)?O:i.has(O)?1:c(O),s.set(m,_),_}return n.forEach(m=>{const _=c(m);1!==_&&e.get(_).push(m)}),e}function pu(t,n){t.classList?.add(n)}function em(t,n){t.classList?.remove(n)}function Q8(t,n,e){sh(e).onDone(()=>t.processLeaveNode(n))}function bN(t,n){for(let e=0;e<t.length;e++){const r=t[e];r instanceof YO?bN(r.players,n):n.push(r)}}function _N(t,n,e){const r=e.get(t);if(!r)return!1;let i=n.get(t);return i?r.forEach(s=>i.add(s)):n.set(t,r),e.delete(t),!0}class R0{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new X8(n,e,r),this._timelineEngine=new H8(n,e,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(n,e,r,i,s){const c=n+"-"+i;let m=this._triggerCache[c];if(!m){const _=[],U=$x(this._driver,s,_,[]);if(_.length)throw function UG(t,n){return new et(3404,!1)}();m=function L8(t,n,e){return new F8(t,n,e)}(i,U,this._normalizer),this._triggerCache[c]=m}this._transitionEngine.registerTrigger(e,i,m)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,i){this._transitionEngine.insertNode(n,e,r,i)}onRemove(n,e,r){this._transitionEngine.removeNode(n,e,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,i){if("@"==r.charAt(0)){const[s,c]=qO(r);this._timelineEngine.command(s,e,c,i)}else this._transitionEngine.trigger(n,e,r,i)}listen(n,e,r,i,s){if("@"==r.charAt(0)){const[c,m]=qO(r);return this._timelineEngine.listen(c,e,m,s)}return this._transitionEngine.listen(n,e,r,i,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let nj=(()=>{class t{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(e);s||t.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Zc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zc(this._element,this._initialStyles),this._endStyles&&(Zc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Cp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cp(this._element,this._endStyles),this._endStyles=null),Zc(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function rE(t){let n=null;return t.forEach((e,r)=>{(function rj(t){return"display"===t||"position"===t})(r)&&(n=n||new Map,n.set(r,e))}),n}class wN{constructor(n,e,r,i){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(n,e,r){return n.animate(this._convertKeyframesToObject(e),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:aN(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class ij{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return QO(n,e)}getParentElement(n){return Vx(n)}query(n,e,r){return JO(n,e,r)}computeStyle(n,e,r){return window.getComputedStyle(n)[e]}animate(n,e,r,i,s,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(_.easing=s);const O=new Map,U=c.filter(ve=>ve instanceof wN);(function d8(t,n){return 0===t||0===n})(r,i)&&U.forEach(ve=>{ve.currentSnapshot.forEach((Me,Fe)=>O.set(Fe,Me))});let K=function l8(t){return t.length?t[0]instanceof Map?t:t.map(n=>rN(n)):[]}(e).map(ve=>lh(ve));K=function f8(t,n,e){if(e.size&&n.length){let r=n[0],i=[];if(e.forEach((s,c)=>{r.has(c)||i.push(c),r.set(c,s)}),i.length)for(let s=1;s<n.length;s++){let c=n[s];i.forEach(m=>c.set(m,aN(t,m)))}}return n}(n,K,O);const ge=function tj(t,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=rE(n[0]),n.length>1&&(r=rE(n[n.length-1]))):n instanceof Map&&(e=rE(n)),e||r?new nj(t,e,r):null}(n,K);return new wN(n,K,_,ge)}}let oj=(()=>{class t extends WO{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:ba.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?$O(e):e;return CN(this._renderer,null,r,"register",[i]),new aj(r,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Pt(zm),Pt(Di))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();class aj extends bG{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new sj(this._id,n,e||{},this._renderer)}}class sj{constructor(n,e,r,i){this.id=n,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return CN(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function CN(t,n,e,r,i){return t.setProperty(n,`@@${e}:${r}`,i)}const xN="@.disabled";let lj=(()=>{class t{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,c)=>{const m=c?.parentNode(s);m&&c.removeChild(m,s)}}createRenderer(e,r){const s=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let U=this._rendererCache.get(s);return U||(U=new EN("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,U)),U}const c=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const _=U=>{Array.isArray(U)?U.forEach(_):this.engine.registerTrigger(c,m,e,U.name,U)};return r.data.animation.forEach(_),new uj(this,m,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,m]=s;c(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Pt(zm),Pt(R0),Pt(Kr))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();class EN{constructor(n,e,r,i){this.namespaceId=n,this.delegate=e,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,i=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,i)}removeChild(n,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,i){this.delegate.setAttribute(n,e,r,i)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,i){this.delegate.setStyle(n,e,r,i)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){"@"==e.charAt(0)&&e==xN?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class uj extends EN{constructor(n,e,r,i,s){super(e,r,i,s),this.factory=n,this.namespaceId=e}setProperty(n,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==xN?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,e.slice(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if("@"==e.charAt(0)){const i=function cj(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let s=e.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function dj(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(s)),this.engine.listen(this.namespaceId,i,s,c,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(n,e,r)}}const DN=[{provide:WO,useClass:oj},{provide:Zx,useFactory:function hj(){return new N8}},{provide:R0,useClass:(()=>{class t extends R0{constructor(e,r,i,s){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di),Pt(Hx),Pt(Zx),Pt(lp))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})()},{provide:zm,useFactory:function pj(t,n,e){return new lj(t,n,e)},deps:[NC,R0,Kr]}],iE=[{provide:Hx,useFactory:()=>new ij},{provide:Bc,useValue:"BrowserAnimations"},...DN],SN=[{provide:Hx,useClass:eN},{provide:Bc,useValue:"NoopAnimations"},...DN];let gj=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?SN:iE}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({providers:iE,imports:[fI]}),t})(),tm=(()=>{class t{constructor(e){this.http=e,this.vampirepage="http://localhost:8082",this.gswbpage="http://localhost:8081",this.ligerpage="http://localhost:8080"}gswbDeduce(e){return this.http.post(`${this.gswbpage}/deduce`,e)}gswbBatchDeduce(e){return this.http.post(`${this.gswbpage}/gswb_batch_proof`,e)}ligerAnnotate(e){return this.http.post(`${this.ligerpage}/apply_rules_xle`,e)}ligerMulti(e){return this.http.post(`${this.ligerpage}/parse_xle`,e)}ligerBatchAnnotate(e){return this.http.post(`${this.ligerpage}/apply_rules_to_batch`,e)}ligerBatchMultistage(e){return this.http.post(`${this.ligerpage}/multistage_to_batch`,e)}getFileTree(e){return this.http.post(`${this.ligerpage}/list_grammars1`,e)}changeGrammar(e){return this.http.post(`${this.ligerpage}/change_grammar`,e)}loadRules(e){return this.http.post(`${this.ligerpage}/load_rules`,e)}callVampire(e){return this.http.post(`${this.vampirepage}/vampire_request`,e)}callBatchVampire(e){return this.http.post(`${this.vampirepage}/vampire_multiple_request`,e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(b0))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var oE=D(656);D(3163);const mj=["host"];oE.defineMode("liger",function(){return{token:function(t,n){return t.match("==>")?"rule_separator":t.match(/#[A-Za-z0-9]+/)?"liger_node_var":t.match(/%[A-Za-z0-9]+/)?"liger_val_var":t.match(/(\&|\.)/)?"liger_conjunction":t.match("//")?(t.skipToEnd(),"comment"):(t.next(),null)}}}),oE.defineMode("glue",function(){return{token:function(t,n){return t.match(":")?"rule_separator":t.match(/-o/)?"liger_node_var":t.match(/(\[|\])/)?"liger_conjunction":t.match(/(\(|\))/)?"liger_val_var":t.match(/(<|>)/)?"angular_brackets":t.match("//")?(t.skipToEnd(),"comment"):(t.next(),null)}}});let Ep=(()=>{class t{constructor(){this.defaultWidth="800px",this.defaultHeight="300px"}ngAfterViewInit(){console.log("mode is "+this.mode),this.codeMirror=oE.fromTextArea(this.host.nativeElement,{mode:this.mode,viewportMargin:1/0,lineNumbers:!0,matchBrackets:!0,autoCloseBrackets:!0}),"liger"===this.mode?this.codeMirror.setValue("--replace(true);\n\n//Nounmodifiers\n#n MOD #m in_set #p PRED %p & #p TYPE %k & #n s:: #s ==>\n#p GLUE lam(P,lam(X,merge(drs([],[rel(%k,'strip(%p)',X)]),app(P,X)))) : ((#s_e -o #s_t) -o (#s_e -o #s_t)) || noscope.\n\n\n//Degree (gradable) adjectives\n#x PREDLINK #a & #x s:: #y EV #z &\n#a ATYPE 'predicative' & #a SEMTYPE 'degree' &\n#a SUBJ #b s:: #c &\n#a PRED %a &  #a s:: #s\n==> & #s DEGREE #d & #s DEGREE-HOLDER #z & #s DEGREE-PRED #p &\n#p GLUE lam(P,lam(D,lam(X,drs([],[rel(strip(%a),X,D)])))) : ((#s_v -o #s_t) -o (#d_d -o (#s_v -o #s_t))).\n\n//This works\n#x ADJUNCT #n in_set #a & #x s:: #y &\n#a ATYPE 'attributive' & #a SEMTYPE 'degree' &\n#a PRED %a & #a s:: #s\n==> #s DEGREE #d & #s DEGREE-HOLDER #y & #s DEGREE-PRED #p &\n#p GLUE lam(P,lam(D,lam(X,drs([],[rel(strip(%a),X,D)])))) : ((#s_e -o #s_t) -o (#d_d -o (#s_e -o #s_t))).\n\n\n// Rules for positive uses\n// attributive\n#x ADJUNCT #n in_set #a & #x PRED %x &\n#a ATYPE 'attributive' &\n#a PRED %a & #a s:: #b DEGREE #d & #b DEGREE-HOLDER #e\n==> #d GLUE lam(P,merge(drs([D],[]),merge(drs([],[eq(th_strip(%a)('strip(%x)'),D)]),app(P,D)))) : ((#d_d -o #e_t) -o #e_t) || noscope.\n\n// predicative\n#x PREDLINK #a & #x SUBJ #y PRED %x &\n#a ATYPE 'predicative' &\n#a PRED %a & #a s:: #b DEGREE #d & #b DEGREE-HOLDER #e\n==> #d GLUE lam(P,merge(drs([D],[]),merge(drs([],[eq(th_strip(%a)('strip(%x)'),D)]),app(P,D)))) : ((#d_d -o #e_t) -o #e_t) || noscope.\n\n//Rules for comparative uses\n#a ATYPE %u & #a DEGREE 'comparative' & #a PRED %p &\n#a s:: #b DEGREE #d & #b DEGREE-HOLDER #e & #b DEGREE-PRED #p &\n#a ADJUNCT #f in_set #c OBL-COMP #m OBJ #n s:: #o\n==>\n#o DEGREE #x & #o DEGREE-HOLDER #y &\n#d GLUE lam(P,lam(Q,lam(E,\n\t\tmerge(drs([D:d],[]),merge(app(app(P,D),E),drs([],[not(merge(drs([V],[]),app(app(Q,D),V)))])))))) :\n\t\t((#d_d -o (#b_v -o #b_t)) -o ((#x_d -o (#y_v -o #m_t)) -o (#b_v -o #b_t))) || noscope &\n#m GLUE lam(D,lam(E,drs([],[rel(strip(%p),E,D)]))) : (#x_d -o (#y_v -o #m_t)) &\n#n GLUE lam(V,lam(X,lam(E,merge(app(V,E),drs([],[rel(arg1,E,X)]))))) :\n\t\t((#y_v -o #m_t) -o (#o_e -o (#y_v -o #m_t))).\n\n//Axioms\n\n//Be equality axiom\n#p PRED %p & strip(%p) == 'be' & #p PREDLINK #c s:: #s TYPE 'entity' ==>\n#p AXIOM all(X,all(Y,all(Z,imp(and(be(X),and(arg1(X,Y),arg2(X,Z))),eq(Y,Z))))).\n\n//Comparative axioms\n#a ATYPE %u & #a DEGREE 'comparative' & #a PRED %p ==>\n#a AXIOM all(X, all(Y, all(D:d, imp(and(arg1(X, Y), fast(X, D)), fast(Y, D))))).\n\n#a ATYPE %u & #a DEGREE 'comparative' & #a PRED %p &\n#a s:: #b DEGREE #d & #b DEGREE-HOLDER #e & #b DEGREE-PRED #p &\n#a ADJUNCT #f in_set #c OBL-COMP #m OBJ #n s:: #o ==>\n#a MONO #q & #q AXIOM all(X, all(Delta1:d, iff(strip(%p)(X, Delta1), all(Delta2:d, imp(lessEq(Delta2, Delta1), strip(%p)(X, Delta2)))))) &\n#a CP #r & #r AXIOM all(X, all(Y, imp(some(D:d, and(strip(%p)(X, D), not(strip(%p)(Y, D)))), all(D2:d, imp(strip(%p)(Y, D2), strip(%p)(X, D2)))))) &\n#a MAX #s & #s AXIOM all(X, some(Delta1:d, and(strip(%p)(X, Delta1), not(some(Delta2:d, and(greater(Delta2, Delta1), strip(%p)(X, Delta2))))))).\n\n"):"text"===this.mode?this.codeMirror.setValue("{\nA Swede won a Nobel prize.\nEvery Swede is a Scandinavian.  \n====\nA Scandinavian won a Nobel prize.\n>>> 1\n}\n{\nA dog appeared.\n====\nNo dog appeared.\n>>> -1\n}\n{\nA dog appeared.\n====\nNo cat appeared.\n>>> 0\n}\n{\nVincent knows every boxer.\nButch is a boxer.\n====\nVincent knows Butch.\n>>> 1\n}\n\n{\nIf Mia snorts, then Vincent smokes.\nVincent smokes.\n====\nMia snorts.\n>>> 0\n}\n\n{\nA woman loves every man.\nEvery boxer is a man.\n====\nA woman loves every boxer.\n>>> 1\n}\n\n{\nAll boxers are crazy.\nButch is a boxer.\n====\nButch is crazy.\n>>> 1\n}\n\n{\nAll boxers are slow.\nButch is a boxer.\n====\nButch is not slow.\n>>> -1\n}\n\n{\nAll boxers are slow.\nButch is a boxer.\n====\nMia likes Butch.\n>>> 0\n}\n\n{\nAll boxers are crazy.\nButch is a boxer.\n====\nButch is crazy.\n>>> 1\n}\n\n{\nAll boxers are crazy.\nButch is a boxer.\n====\nButch loves Fabian.\n>>> 0\n}\n\n{\nAll boxers are slow.\nButch is a boxer.\n====\nMia likes Butch.\n>>> 0\n}"):"vampire"===this.mode&&this.codeMirror.setValue("tff(fast_type, type, fast: ($i * $int) > $o).\ntff(kind_type, type, kind: ($i * $i) > $o).\ntff(arg1_type, type, arg1: ($i * $i) > $o).\ntff(arg2_type, type, arg2: ($i * $i) > $o).\ntff(computer_type, type, computer: $i > $o).\ntff(be_type, type, be: $i > $o).\n\ntff(pn_type1, type, 'pc-6082': $i).\ntff(pn_type2, type, 'itel-zx': $i).\n")}updateContent(e){this.codeMirror&&(this.codeMirror.setValue(""),this.codeMirror.clearHistory(),this.codeMirror.setValue(e),this.codeMirror.refresh())}getContent(){return this.codeMirror.getValue()}resizeToDefault(){this.codeMirror.setSize(this.defaultWidth,this.defaultHeight)}downloadFile(e){let r=this.codeMirror.getValue(),i=new Blob([r],{type:"text/plain"}),s=window.URL.createObjectURL(i),c=document.createElement("a");c.href=s,c.download=e||"default.txt",c.click(),setTimeout(()=>window.URL.revokeObjectURL(s),1e4)}get codeMirrorInstance(){return this.codeMirror}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-editor"]],viewQuery:function(e,r){if(1&e&&Nn(mj,5),2&e){let i;xn(i=En())&&(r.host=i.first)}},inputs:{id:"id",mode:"mode"},decls:9,vars:1,consts:[[1,"editor-container"],["host",""],[1,"resize",3,"click"],[3,"click"],["placeholder","Enter filename",3,"ngModel","ngModelChange"]],template:function(e,r){1&e&&(je(0,"div",0),dn(1,"textarea",null,1),Ge(),je(3,"button",2),wn("click",function(){return r.resizeToDefault()}),mt(4,"Resize to Default"),Ge(),je(5,"button",3),wn("click",function(){return r.downloadFile(r.filename)}),mt(6,"Download as: "),Ge(),je(7,"input",4),wn("ngModelChange",function(s){return r.filename=s}),Ge(),dn(8,"div")),2&e&&(Bt(7),Wt("ngModel",r.filename))},dependencies:[qg,Zg,Bv],styles:['.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;inset:-50px 0 0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:white}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;inset:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}\n',".CodeMirror{resize:both;max-width:100%;max-height:100%}.editor-container{position:relative;display:block;border-style:solid;border-color:#00a9e0;overflow:hidden;min-width:780px;max-width:100%;max-height:100%;background-color:#add8e6}.cm-rule_separator{color:#0900ff;font-weight:700}.cm-liger_node_var{color:#00c4ff}.cm-liger_val_var{color:#08d700}.cm-liger_conjunction{color:red}.cm-angular_brackets{color:#d100ff}.CodeMirror-matchingbracket{background-color:#ffa50080!important;border-radius:3px}.CodeMirror-nonmatchingbracket{background-color:#ff0000b3!important;border-radius:3px}\n"],encapsulation:2}),t})();var _j=D(6100),Xs=D.n(_j),wj=D(7944),P0=D.n(wj),Xv=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",Cj=function(){for(var t=["Edge","Trident","Firefox"],n=0;n<t.length;n+=1)if(Xv&&navigator.userAgent.indexOf(t[n])>=0)return 1;return 0}(),Sj=Xv&&window.Promise?function xj(t){var n=!1;return function(){n||(n=!0,window.Promise.resolve().then(function(){n=!1,t()}))}}:function Ej(t){var n=!1;return function(){n||(n=!0,setTimeout(function(){n=!1,t()},Cj))}};function TN(t){return t&&"[object Function]"==={}.toString.call(t)}function Dp(t,n){if(1!==t.nodeType)return[];var r=t.ownerDocument.defaultView.getComputedStyle(t,null);return n?r[n]:r}function aE(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function Kv(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var n=Dp(t);return/(auto|scroll|overlay)/.test(n.overflow+n.overflowY+n.overflowX)?t:Kv(aE(t))}function MN(t){return t&&t.referenceNode?t.referenceNode:t}var IN=Xv&&!(!window.MSInputMethodContext||!document.documentMode),AN=Xv&&/MSIE 10/.test(navigator.userAgent);function nm(t){return 11===t?IN:10===t?AN:IN||AN}function rm(t){if(!t)return document.documentElement;for(var n=nm(10)?document.body:null,e=t.offsetParent||null;e===n&&t.nextElementSibling;)e=(t=t.nextElementSibling).offsetParent;var r=e&&e.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(e.nodeName)&&"static"===Dp(e,"position")?rm(e):e:t?t.ownerDocument.documentElement:document.documentElement}function sE(t){return null!==t.parentNode?sE(t.parentNode):t}function L0(t,n){if(!(t&&t.nodeType&&n&&n.nodeType))return document.documentElement;var e=t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,r=e?t:n,i=e?n:t,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);var c=s.commonAncestorContainer;if(t!==c&&n!==c||r.contains(i))return function Tj(t){var n=t.nodeName;return"BODY"!==n&&("HTML"===n||rm(t.firstElementChild)===t)}(c)?c:rm(c);var m=sE(t);return m.host?L0(m.host,n):L0(t,sE(n).host)}function im(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",r=t.nodeName;return"BODY"===r||"HTML"===r?(t.ownerDocument.scrollingElement||t.ownerDocument.documentElement)[e]:t[e]}function ON(t,n){var e="x"===n?"Left":"Top",r="Left"===e?"Right":"Bottom";return parseFloat(t["border"+e+"Width"])+parseFloat(t["border"+r+"Width"])}function NN(t,n,e,r){return Math.max(n["offset"+t],n["scroll"+t],e["client"+t],e["offset"+t],e["scroll"+t],nm(10)?parseInt(e["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function RN(t){var n=t.body,e=t.documentElement,r=nm(10)&&getComputedStyle(e);return{height:NN("Height",n,e,r),width:NN("Width",n,e,r)}}var Aj=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),om=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t},gu=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};function uh(t){return gu({},t,{right:t.left+t.width,bottom:t.top+t.height})}function lE(t){var n={};try{if(nm(10)){n=t.getBoundingClientRect();var e=im(t,"top"),r=im(t,"left");n.top+=e,n.left+=r,n.bottom+=e,n.right+=r}else n=t.getBoundingClientRect()}catch{}var i={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},s="HTML"===t.nodeName?RN(t.ownerDocument):{},_=t.offsetWidth-(s.width||t.clientWidth||i.width),O=t.offsetHeight-(s.height||t.clientHeight||i.height);if(_||O){var U=Dp(t);_-=ON(U,"x"),O-=ON(U,"y"),i.width-=_,i.height-=O}return uh(i)}function uE(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=nm(10),i="HTML"===n.nodeName,s=lE(t),c=lE(n),m=Kv(t),_=Dp(n),O=parseFloat(_.borderTopWidth),U=parseFloat(_.borderLeftWidth);e&&i&&(c.top=Math.max(c.top,0),c.left=Math.max(c.left,0));var K=uh({top:s.top-c.top-O,left:s.left-c.left-U,width:s.width,height:s.height});if(K.marginTop=0,K.marginLeft=0,!r&&i){var ge=parseFloat(_.marginTop),ve=parseFloat(_.marginLeft);K.top-=O-ge,K.bottom-=O-ge,K.left-=U-ve,K.right-=U-ve,K.marginTop=ge,K.marginLeft=ve}return(r&&!e?n.contains(m):n===m&&"BODY"!==m.nodeName)&&(K=function Mj(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=im(n,"top"),i=im(n,"left"),s=e?-1:1;return t.top+=r*s,t.bottom+=r*s,t.left+=i*s,t.right+=i*s,t}(K,n)),K}function kN(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===Dp(t,"position"))return!0;var e=aE(t);return!!e&&kN(e)}function PN(t){if(!t||!t.parentElement||nm())return document.documentElement;for(var n=t.parentElement;n&&"none"===Dp(n,"transform");)n=n.parentElement;return n||document.documentElement}function cE(t,n,e,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},c=i?PN(t):L0(t,MN(n));if("viewport"===r)s=function Oj(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=t.ownerDocument.documentElement,r=uE(t,e),i=Math.max(e.clientWidth,window.innerWidth||0),s=Math.max(e.clientHeight,window.innerHeight||0),c=n?0:im(e),m=n?0:im(e,"left");return uh({top:c-r.top+r.marginTop,left:m-r.left+r.marginLeft,width:i,height:s})}(c,i);else{var m=void 0;"scrollParent"===r?"BODY"===(m=Kv(aE(n))).nodeName&&(m=t.ownerDocument.documentElement):m="window"===r?t.ownerDocument.documentElement:r;var _=uE(m,c,i);if("HTML"!==m.nodeName||kN(c))s=_;else{var O=RN(t.ownerDocument),U=O.height,K=O.width;s.top+=_.top-_.marginTop,s.bottom=U+_.top,s.left+=_.left-_.marginLeft,s.right=K+_.left}}var ge="number"==typeof(e=e||0);return s.left+=ge?e:e.left||0,s.top+=ge?e:e.top||0,s.right-=ge?e:e.right||0,s.bottom-=ge?e:e.bottom||0,s}function Nj(t){return t.width*t.height}function LN(t,n,e,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var c=cE(e,r,s,i),m={top:{width:c.width,height:n.top-c.top},right:{width:c.right-n.right,height:c.height},bottom:{width:c.width,height:c.bottom-n.bottom},left:{width:n.left-c.left,height:c.height}},_=Object.keys(m).map(function(ge){return gu({key:ge},m[ge],{area:Nj(m[ge])})}).sort(function(ge,ve){return ve.area-ge.area}),O=_.filter(function(ge){return ge.width>=e.clientWidth&&ge.height>=e.clientHeight}),U=O.length>0?O[0].key:_[0].key,K=t.split("-")[1];return U+(K?"-"+K:"")}function FN(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return uE(e,r?PN(n):L0(n,MN(e)),r)}function BN(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),r=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+r}}function F0(t){var n={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(e){return n[e]})}function VN(t,n,e){e=e.split("-")[0];var r=BN(t),i={width:r.width,height:r.height},s=-1!==["right","left"].indexOf(e),c=s?"top":"left",m=s?"left":"top",_=s?"height":"width",O=s?"width":"height";return i[c]=n[c]+n[_]/2-r[_]/2,i[m]=e===m?n[m]-r[O]:n[F0(m)],i}function qv(t,n){return Array.prototype.find?t.find(n):t.filter(n)[0]}function HN(t,n,e){var r=void 0===e?t:t.slice(0,function Rj(t,n,e){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[n]===e});var r=qv(t,function(i){return i[n]===e});return t.indexOf(r)}(t,"name",e));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var s=i.function||i.fn;i.enabled&&TN(s)&&(n.offsets.popper=uh(n.offsets.popper),n.offsets.reference=uh(n.offsets.reference),n=s(n,i))}),n}function kj(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=FN(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=LN(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=VN(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=HN(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function zN(t,n){return t.some(function(e){return e.enabled&&e.name===n})}function dE(t){for(var n=[!1,"ms","Webkit","Moz","O"],e=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<n.length;r++){var i=n[r],s=i?""+i+e:t;if(typeof document.body.style[s]<"u")return s}return null}function Pj(){return this.state.isDestroyed=!0,zN(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[dE("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function UN(t){var n=t.ownerDocument;return n?n.defaultView:window}function GN(t,n,e,r){var i="BODY"===t.nodeName,s=i?t.ownerDocument.defaultView:t;s.addEventListener(n,e,{passive:!0}),i||GN(Kv(s.parentNode),n,e,r),r.push(s)}function Lj(t,n,e,r){e.updateBound=r,UN(t).addEventListener("resize",e.updateBound,{passive:!0});var i=Kv(t);return GN(i,"scroll",e.updateBound,e.scrollParents),e.scrollElement=i,e.eventsEnabled=!0,e}function Fj(){this.state.eventsEnabled||(this.state=Lj(this.reference,0,this.state,this.scheduleUpdate))}function Vj(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function Bj(t,n){return UN(t).removeEventListener("resize",n.updateBound),n.scrollParents.forEach(function(e){e.removeEventListener("scroll",n.updateBound)}),n.updateBound=null,n.scrollParents=[],n.scrollElement=null,n.eventsEnabled=!1,n}(this.reference,this.state))}function fE(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function hE(t,n){Object.keys(n).forEach(function(e){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&fE(n[e])&&(r="px"),t.style[e]=n[e]+r})}var jj=Xv&&/Firefox/i.test(navigator.userAgent);function jN(t,n,e){var r=qv(t,function(m){return m.name===n}),i=!!r&&t.some(function(m){return m.name===e&&m.enabled&&m.order<r.order});if(!i){var s="`"+n+"`";console.warn("`"+e+"` modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return i}var WN=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],pE=WN.slice(3);function $N(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=pE.indexOf(t),r=pE.slice(e+1).concat(pE.slice(0,e));return n?r.reverse():r}var iW={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function eW(t){var n=t.placement,e=n.split("-")[0],r=n.split("-")[1];if(r){var i=t.offsets,s=i.reference,c=i.popper,m=-1!==["bottom","top"].indexOf(e),_=m?"left":"top",O=m?"width":"height",U={start:om({},_,s[_]),end:om({},_,s[_]+s[O]-c[O])};t.offsets.popper=gu({},c,U[r])}return t}},offset:{order:200,enabled:!0,fn:function Qj(t,n){var _,e=n.offset,i=t.offsets,s=i.popper,c=i.reference,m=t.placement.split("-")[0];return _=fE(+e)?[+e,0]:function Zj(t,n,e,r){var i=[0,0],s=-1!==["right","left"].indexOf(r),c=t.split(/(\+|\-)/).map(function(U){return U.trim()}),m=c.indexOf(qv(c,function(U){return-1!==U.search(/,|\s/)}));c[m]&&-1===c[m].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var _=/\s*,\s*|\s+/,O=-1!==m?[c.slice(0,m).concat([c[m].split(_)[0]]),[c[m].split(_)[1]].concat(c.slice(m+1))]:[c];return O=O.map(function(U,K){var ge=(1===K?!s:s)?"height":"width",ve=!1;return U.reduce(function(Me,Fe){return""===Me[Me.length-1]&&-1!==["+","-"].indexOf(Fe)?(Me[Me.length-1]=Fe,ve=!0,Me):ve?(Me[Me.length-1]+=Fe,ve=!1,Me):Me.concat(Fe)},[]).map(function(Me){return function qj(t,n,e,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+i[1],c=i[2];return s?0===c.indexOf("%")?uh("%p"===c?e:r)[n]/100*s:"vh"===c||"vw"===c?("vh"===c?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s:s:t}(Me,ge,n,e)})}),O.forEach(function(U,K){U.forEach(function(ge,ve){fE(ge)&&(i[K]+=ge*("-"===U[ve-1]?-1:1))})}),i}(e,s,c,m),"left"===m?(s.top+=_[0],s.left-=_[1]):"right"===m?(s.top+=_[0],s.left+=_[1]):"top"===m?(s.left+=_[0],s.top-=_[1]):"bottom"===m&&(s.left+=_[0],s.top+=_[1]),t.popper=s,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function Jj(t,n){var e=n.boundariesElement||rm(t.instance.popper);t.instance.reference===e&&(e=rm(e));var r=dE("transform"),i=t.instance.popper.style,s=i.top,c=i.left,m=i[r];i.top="",i.left="",i[r]="";var _=cE(t.instance.popper,t.instance.reference,n.padding,e,t.positionFixed);i.top=s,i.left=c,i[r]=m,n.boundaries=_;var U=t.offsets.popper,K={primary:function(ve){var Me=U[ve];return U[ve]<_[ve]&&!n.escapeWithReference&&(Me=Math.max(U[ve],_[ve])),om({},ve,Me)},secondary:function(ve){var Me="right"===ve?"left":"top",Fe=U[Me];return U[ve]>_[ve]&&!n.escapeWithReference&&(Fe=Math.min(U[Me],_[ve]-("right"===ve?U.width:U.height))),om({},Me,Fe)}};return n.priority.forEach(function(ge){var ve=-1!==["left","top"].indexOf(ge)?"primary":"secondary";U=gu({},U,K[ve](ge))}),t.offsets.popper=U,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function Kj(t){var n=t.offsets,e=n.popper,r=n.reference,i=t.placement.split("-")[0],s=Math.floor,c=-1!==["top","bottom"].indexOf(i),m=c?"right":"bottom",_=c?"left":"top",O=c?"width":"height";return e[m]<s(r[_])&&(t.offsets.popper[_]=s(r[_])-e[O]),e[_]>s(r[m])&&(t.offsets.popper[_]=s(r[m])),t}},arrow:{order:500,enabled:!0,fn:function $j(t,n){var e;if(!jN(t.instance.modifiers,"arrow","keepTogether"))return t;var r=n.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],s=t.offsets,c=s.popper,m=s.reference,_=-1!==["left","right"].indexOf(i),O=_?"height":"width",U=_?"Top":"Left",K=U.toLowerCase(),ge=_?"left":"top",ve=_?"bottom":"right",Me=BN(r)[O];m[ve]-Me<c[K]&&(t.offsets.popper[K]-=c[K]-(m[ve]-Me)),m[K]+Me>c[ve]&&(t.offsets.popper[K]+=m[K]+Me-c[ve]),t.offsets.popper=uh(t.offsets.popper);var Fe=m[K]+m[O]/2-Me/2,Xe=Dp(t.instance.popper),ct=parseFloat(Xe["margin"+U]),qe=parseFloat(Xe["border"+U+"Width"]),vt=Fe-t.offsets.popper[K]-ct-qe;return vt=Math.max(Math.min(c[O]-Me,vt),0),t.arrowElement=r,t.offsets.arrow=(om(e={},K,Math.round(vt)),om(e,ge,""),e),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function Xj(t,n){if(zN(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var e=cE(t.instance.popper,t.instance.reference,n.padding,n.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=F0(r),s=t.placement.split("-")[1]||"",c=[];switch(n.behavior){case"flip":c=[r,i];break;case"clockwise":c=$N(r);break;case"counterclockwise":c=$N(r,!0);break;default:c=n.behavior}return c.forEach(function(m,_){if(r!==m||c.length===_+1)return t;r=t.placement.split("-")[0],i=F0(r);var O=t.offsets.popper,U=t.offsets.reference,K=Math.floor,ge="left"===r&&K(O.right)>K(U.left)||"right"===r&&K(O.left)<K(U.right)||"top"===r&&K(O.bottom)>K(U.top)||"bottom"===r&&K(O.top)<K(U.bottom),ve=K(O.left)<K(e.left),Me=K(O.right)>K(e.right),Fe=K(O.top)<K(e.top),Xe=K(O.bottom)>K(e.bottom),ct="left"===r&&ve||"right"===r&&Me||"top"===r&&Fe||"bottom"===r&&Xe,qe=-1!==["top","bottom"].indexOf(r),fn=!!n.flipVariations&&(qe&&"start"===s&&ve||qe&&"end"===s&&Me||!qe&&"start"===s&&Fe||!qe&&"end"===s&&Xe)||!!n.flipVariationsByContent&&(qe&&"start"===s&&Me||qe&&"end"===s&&ve||!qe&&"start"===s&&Xe||!qe&&"end"===s&&Fe);(ge||ct||fn)&&(t.flipped=!0,(ge||ct)&&(r=c[_+1]),fn&&(s=function Yj(t){return"end"===t?"start":"start"===t?"end":t}(s)),t.placement=r+(s?"-"+s:""),t.offsets.popper=gu({},t.offsets.popper,VN(t.instance.popper,t.offsets.reference,t.placement)),t=HN(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function nW(t){var n=t.placement,e=n.split("-")[0],r=t.offsets,i=r.popper,s=r.reference,c=-1!==["left","right"].indexOf(e),m=-1===["top","left"].indexOf(e);return i[c?"left":"top"]=s[e]-(m?i[c?"width":"height"]:0),t.placement=F0(n),t.offsets.popper=uh(i),t}},hide:{order:800,enabled:!0,fn:function tW(t){if(!jN(t.instance.modifiers,"hide","preventOverflow"))return t;var n=t.offsets.reference,e=qv(t.instance.modifiers,function(r){return"preventOverflow"===r.name}).boundaries;if(n.bottom<e.top||n.left>e.right||n.top>e.bottom||n.right<e.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function Wj(t,n){var e=n.x,r=n.y,i=t.offsets.popper,s=qv(t.instance.modifiers,function(vt){return"applyStyle"===vt.name}).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var Me,Fe,c=void 0!==s?s:n.gpuAcceleration,m=rm(t.instance.popper),_=lE(m),O={position:i.position},U=function Gj(t,n){var e=t.offsets,r=e.popper,s=Math.round,c=Math.floor,m=function(ct){return ct},_=s(e.reference.width),O=s(r.width),U=-1!==["left","right"].indexOf(t.placement),K=-1!==t.placement.indexOf("-"),Me=n?U||K||_%2==O%2?s:c:m,Fe=n?s:m;return{left:Me(_%2==1&&O%2==1&&!K&&n?r.left-1:r.left),top:Fe(r.top),bottom:Fe(r.bottom),right:Me(r.right)}}(t,window.devicePixelRatio<2||!jj),K="bottom"===e?"top":"bottom",ge="right"===r?"left":"right",ve=dE("transform");if(Fe="bottom"===K?"HTML"===m.nodeName?-m.clientHeight+U.bottom:-_.height+U.bottom:U.top,Me="right"===ge?"HTML"===m.nodeName?-m.clientWidth+U.right:-_.width+U.right:U.left,c&&ve)O[ve]="translate3d("+Me+"px, "+Fe+"px, 0)",O[K]=0,O[ge]=0,O.willChange="transform";else{var ct="right"===ge?-1:1;O[K]=Fe*("bottom"===K?-1:1),O[ge]=Me*ct,O.willChange=K+", "+ge}return t.attributes=gu({},{"x-placement":t.placement},t.attributes),t.styles=gu({},O,t.styles),t.arrowStyles=gu({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function zj(t){return hE(t.instance.popper,t.styles),function Hj(t,n){Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})}(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&hE(t.arrowElement,t.arrowStyles),t},onLoad:function Uj(t,n,e,r,i){var s=FN(i,n,t,e.positionFixed),c=LN(e.placement,s,n,t,e.modifiers.flip.boundariesElement,e.modifiers.flip.padding);return n.setAttribute("x-placement",c),hE(n,{position:e.positionFixed?"fixed":"absolute"}),e},gpuAcceleration:void 0}}},B0=function(){function t(n,e){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=Sj(this.update.bind(this)),this.options=gu({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n&&n.jquery?n[0]:n,this.popper=e&&e.jquery?e[0]:e,this.options.modifiers={},Object.keys(gu({},t.Defaults.modifiers,i.modifiers)).forEach(function(c){r.options.modifiers[c]=gu({},t.Defaults.modifiers[c]||{},i.modifiers?i.modifiers[c]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(c){return gu({name:c},r.options.modifiers[c])}).sort(function(c,m){return c.order-m.order}),this.modifiers.forEach(function(c){c.enabled&&TN(c.onLoad)&&c.onLoad(r.reference,r.popper,r.options,c,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return Aj(t,[{key:"update",value:function(){return kj.call(this)}},{key:"destroy",value:function(){return Pj.call(this)}},{key:"enableEventListeners",value:function(){return Fj.call(this)}},{key:"disableEventListeners",value:function(){return Vj.call(this)}}]),t}();B0.Utils=(typeof window<"u"?window:global).PopperUtils,B0.placements=WN,B0.Defaults=iW;const oW=B0;function Ks(){return Ks=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Ks.apply(this,arguments)}var Zv=typeof window<"u"&&typeof document<"u",YN=Zv?navigator.userAgent:"",XN=/MSIE |Trident\//.test(YN),KN=/UCBrowser\//.test(YN),qN=Zv&&/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,Qc={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrow:!1,arrowType:"sharp",boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},placement:"top",popperOptions:{},role:"tooltip",showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,wait:null,zIndex:9999},lW=["arrow","arrowType","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],Qv=Zv?Element.prototype:{},mE=Qv.matches||Qv.matchesSelector||Qv.webkitMatchesSelector||Qv.mozMatchesSelector||Qv.msMatchesSelector;function Jv(t){return[].slice.call(t)}function V0(t,n){return vE(t,function(e){return mE.call(e,n)})}function vE(t,n){for(;t;){if(n(t))return t;t=t.parentElement}return null}var yE={passive:!0},bE=4,_E="x-placement",wE="x-out-of-boundaries",ZN="tippy-iOS",QN="tippy-active",JN="tippy-popper",eR="tippy-tooltip",tR="tippy-content",nR="tippy-backdrop",rR="tippy-arrow",iR="tippy-roundarrow",CE=".".concat(JN),uW=".".concat(eR),cW=".".concat(tR),dW=".".concat(nR),fW=".".concat(rR),hW=".".concat(iR),ch=!1;function pW(){ch||(ch=!0,qN&&document.body.classList.add(ZN),window.performance&&document.addEventListener("mousemove",aR))}var oR=0;function aR(){var t=performance.now();t-oR<20&&(ch=!1,document.removeEventListener("mousemove",aR),qN||document.body.classList.remove(ZN)),oR=t}function gW(){var n=document.activeElement;n&&n.blur&&n._tippy&&n.blur()}var vW=Object.keys(Qc);function H0(t,n){return{}.hasOwnProperty.call(t,n)}function z0(t,n,e){return Array.isArray(t)?t[n]??e:t}function sR(t,n){return 0===n?t:function(r){clearTimeout(e),e=setTimeout(function(){t(r)},n)};var e}function U0(t,n){return t&&t.modifiers&&t.modifiers[n]}function xE(t,n){return t.indexOf(n)>-1}function ey(t){return t instanceof Element}function lR(t){return!(!t||!H0(t,"isVirtual"))||ey(t)}function EE(t,n){return"function"==typeof t?t.apply(null,n):t}function cR(t,n){t.filter(function(e){return"flip"===e.name})[0].enabled=n}function ty(){return document.createElement("div")}function ny(t,n){t.forEach(function(e){e&&(e.style.transitionDuration="".concat(n,"ms"))})}function dR(t,n){t.forEach(function(e){e&&e.setAttribute("data-state",n)})}function fR(t,n){var e=Ks({},n,{content:EE(n.content,[t])},n.ignoreAttributes?{}:function yW(t){return vW.reduce(function(n,e){var r=(t.getAttribute("data-tippy-".concat(e))||"").trim();if(!r)return n;if("content"===e)n[e]=r;else try{n[e]=JSON.parse(r)}catch{n[e]=r}return n},{})}(t));return(e.arrow||KN)&&(e.animateFill=!1),e}function hR(t,n){Object.keys(t).forEach(function(e){if(!H0(n,e))throw new Error("[tippy]: `".concat(e,"` is not a valid option"))})}function pR(t,n){t.innerHTML=ey(n)?n.innerHTML:n}function gR(t,n){ey(n.content)?(pR(t,""),t.appendChild(n.content)):"function"!=typeof n.content&&(t[n.allowHTML?"innerHTML":"textContent"]=n.content)}function DE(t){return{tooltip:t.querySelector(uW),backdrop:t.querySelector(dW),content:t.querySelector(cW),arrow:t.querySelector(fW)||t.querySelector(hW)}}function mR(t){t.setAttribute("data-inertia","")}function SE(t){var n=ty();return"round"===t?(n.className=iR,pR(n,'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>')):n.className=rR,n}function vR(){var t=ty();return t.className=nR,t.setAttribute("data-state","hidden"),t}function yR(t,n){t.setAttribute("tabindex","-1"),n.setAttribute("data-interactive","")}function TE(t,n,e){var r=KN&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";t[n+"EventListener"](r,e)}function ME(t){var n=t.getAttribute(_E);return n?n.split("-")[0]:""}function IE(t,n,e){e.split(" ").forEach(function(r){t.classList[n](r+"-theme")})}var NW=1,G0=[];function bR(t,n){var e=fR(t,n);if(!e.multiple&&t._tippy)return null;var r,i,s,c,m,U,ve,Me,Xe,_=!1,O=!1,K=!1,ge=!1,Fe=[],ct=sR(hy,e.interactiveDebounce),qe=NW++,vt=function TW(t,n){var e=ty();e.className=JN,e.id="tippy-".concat(t),e.style.zIndex=""+n.zIndex,e.style.position="absolute",e.style.top="0",e.style.left="0",n.role&&e.setAttribute("role",n.role);var r=ty();r.className=eR,r.style.maxWidth=n.maxWidth+("number"==typeof n.maxWidth?"px":""),r.setAttribute("data-size",n.size),r.setAttribute("data-animation",n.animation),r.setAttribute("data-state","hidden"),IE(r,"add",n.theme);var i=ty();return i.className=tR,i.setAttribute("data-state","hidden"),n.interactive&&yR(e,r),n.arrow&&r.appendChild(SE(n.arrowType)),n.animateFill&&(r.appendChild(vR()),r.setAttribute("data-animatefill","")),n.inertia&&mR(r),gR(i,n),r.appendChild(i),e.appendChild(r),e}(qe,e),ln=DE(vt),ot={id:qe,reference:t,popper:vt,popperChildren:ln,popperInstance:null,props:e,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},clearDelayTimeouts:s_,set:Nk,setContent:function nX(Lt){Nk({content:Lt})},show:eD,hide:py,enable:function eX(){ot.state.isEnabled=!0},disable:function tX(){ot.state.isEnabled=!1},destroy:function rX(Lt){if(!ot.state.isDestroyed){O=!0,ot.state.isMounted&&py(0),Hl(),delete t._tippy;var ir=ot.props.target;ir&&Lt&&ey(t)&&Jv(t.querySelectorAll(ir)).forEach(function(mr){mr._tippy&&mr._tippy.destroy()}),ot.popperInstance&&ot.popperInstance.destroy(),O=!1,ot.state.isDestroyed=!0}}};return t._tippy=ot,vt._tippy=ot,aa(),e.lazy||o_(),e.showOnInit&&a_(),e.a11y&&!e.target&&!function xW(t){return!ey(t)||mE.call(t,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!t.hasAttribute("disabled")}(Oo())&&Oo().setAttribute("tabindex","0"),vt.addEventListener("mouseenter",function(Lt){ot.props.interactive&&ot.state.isVisible&&"mouseenter"===r&&a_(Lt,!0)}),vt.addEventListener("mouseleave",function(){ot.props.interactive&&"mouseenter"===r&&document.addEventListener("mousemove",ct)}),ot;function va(){document.removeEventListener("mousemove",Wa)}function Is(){document.body.removeEventListener("mouseleave",Op),document.removeEventListener("mousemove",ct),G0=G0.filter(function(Lt){return Lt!==ct})}function Oo(){return ot.props.triggerTarget||t}function fh(){document.addEventListener("click",Ok,!0)}function mu(){document.removeEventListener("click",Ok,!0)}function Ia(){return[ot.popperChildren.tooltip,ot.popperChildren.backdrop,ot.popperChildren.content]}function vu(){var Lt=ot.props.followCursor;return Lt&&"focus"!==r||ch&&"initial"===Lt}function Qn(Lt,ir){var mr=ot.popperChildren.tooltip;function No(hh){hh.target===mr&&(TE(mr,"remove",No),ir())}if(0===Lt)return ir();TE(mr,"remove",Me),TE(mr,"add",No),Me=No}function wr(Lt,ir){var mr=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Oo().addEventListener(Lt,ir,mr),Fe.push({eventType:Lt,handler:ir,options:mr})}function aa(){ot.props.touchHold&&!ot.props.target&&(wr("touchstart",Xi,yE),wr("touchend",i_,yE)),ot.props.trigger.trim().split(" ").forEach(function(Lt){if("manual"!==Lt)if(ot.props.target)switch(Lt){case"mouseenter":wr("mouseover",tc),wr("mouseout",qs);break;case"focus":wr("focusin",tc),wr("focusout",qs);break;case"click":wr(Lt,tc)}else switch(wr(Lt,Xi),Lt){case"mouseenter":wr("mouseleave",i_);break;case"focus":wr(XN?"focusout":"blur",$a)}})}function Hl(){Fe.forEach(function(Lt){var ir=Lt.eventType,mr=Lt.handler,No=Lt.options;Oo().removeEventListener(ir,mr,No)}),Fe=[]}function Wa(Lt){var ir=i=Lt,mr=ir.clientX,No=ir.clientY;if(Xe){var hh=vE(Lt.target,function(Pk){return Pk===t}),Np=t.getBoundingClientRect(),gy=ot.props.followCursor,nc="horizontal"===gy,yu="vertical"===gy,rc=xE(["top","bottom"],ME(vt)),Zs=vt.getAttribute(_E),hf=!!Zs&&!!Zs.split("-")[1],pf=rc?vt.offsetWidth:vt.offsetHeight,l_=pf/2,Rk=rc?0:hf?pf:l_,kk=rc?hf?pf:l_:0;(hh||!ot.props.interactive)&&(ot.popperInstance.reference=Ks({},ot.popperInstance.reference,{referenceNode:t,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:rc?pf:0,height:rc?0:pf,top:(nc?Np.top:No)-Rk,bottom:(nc?Np.bottom:No)+Rk,left:(yu?Np.left:mr)-kk,right:(yu?Np.right:mr)+kk}}}),ot.popperInstance.update()),"initial"===gy&&ot.state.isVisible&&va()}}function Xi(Lt){!ot.state.isEnabled||Ap(Lt)||(ot.state.isVisible||(r=Lt.type,Lt instanceof MouseEvent&&(i=Lt,G0.forEach(function(ir){return ir(Lt)}))),"click"===Lt.type&&!1!==ot.props.hideOnClick&&ot.state.isVisible?Op():a_(Lt))}function hy(Lt){var ir=V0(Lt.target,CE)===vt,mr=vE(Lt.target,function(No){return No===t});ir||mr||function AW(t,n,e,r){if(!t)return!0;var i=e.clientX,s=e.clientY,c=r.interactiveBorder,m=r.distance;return n.top-s>("top"===t?c+m:c)||s-n.bottom>("bottom"===t?c+m:c)||n.left-i>("left"===t?c+m:c)||i-n.right>("right"===t?c+m:c)}(ME(vt),vt.getBoundingClientRect(),Lt,ot.props)&&(Is(),Op())}function i_(Lt){if(!Ap(Lt)){if(ot.props.interactive)return document.body.addEventListener("mouseleave",Op),document.addEventListener("mousemove",ct),void G0.push(ct);Op()}}function $a(Lt){Lt.target===Oo()&&(ot.props.interactive&&Lt.relatedTarget&&vt.contains(Lt.relatedTarget)||Op())}function tc(Lt){V0(Lt.target,ot.props.target)&&a_(Lt)}function qs(Lt){V0(Lt.target,ot.props.target)&&Op()}function Ap(Lt){var ir="ontouchstart"in window,mr=xE(Lt.type,"touch"),No=ot.props.touchHold;return ir&&ch&&No&&!mr||ch&&!No&&mr}function hm(){!ge&&ve&&(ge=!0,ve())}function o_(){var Lt=ot.props.popperOptions,ir=ot.popperChildren,mr=ir.tooltip,No=ir.arrow,hh=U0(Lt,"preventOverflow");function Np(nc){ot.props.flip&&!ot.props.flipOnUpdate&&(nc.flipped&&(ot.popperInstance.options.placement=nc.placement),cR(ot.popperInstance.modifiers,!1)),mr.setAttribute(_E,nc.placement),!1!==nc.attributes[wE]?mr.setAttribute(wE,""):mr.removeAttribute(wE),U&&U!==nc.placement&&K&&(mr.style.transition="none",requestAnimationFrame(function(){mr.style.transition=""})),U=nc.placement,K=ot.state.isVisible;var yu=ME(vt),rc=mr.style;rc.top=rc.bottom=rc.left=rc.right="",rc[yu]=function OW(t){return-(t-10)+"px"}(ot.props.distance);var Zs=hh&&void 0!==hh.padding?hh.padding:bE,hf="number"==typeof Zs,pf=Ks({top:hf?Zs:Zs.top,bottom:hf?Zs:Zs.bottom,left:hf?Zs:Zs.left,right:hf?Zs:Zs.right},!hf&&Zs);pf[yu]=hf?Zs+ot.props.distance:(Zs[yu]||0)+ot.props.distance,ot.popperInstance.modifiers.filter(function(l_){return"preventOverflow"===l_.name})[0].padding=pf,Xe=pf}var gy=Ks({eventsEnabled:!1,placement:ot.props.placement},Lt,{modifiers:Ks({},Lt?Lt.modifiers:{},{preventOverflow:Ks({boundariesElement:ot.props.boundary,padding:bE},hh),arrow:Ks({element:No,enabled:!!No},U0(Lt,"arrow")),flip:Ks({enabled:ot.props.flip,padding:ot.props.distance+bE,behavior:ot.props.flipBehavior},U0(Lt,"flip")),offset:Ks({offset:ot.props.offset},U0(Lt,"offset"))}),onCreate:function(yu){Np(yu),hm(),Lt&&Lt.onCreate&&Lt.onCreate(yu)},onUpdate:function(yu){Np(yu),hm(),Lt&&Lt.onUpdate&&Lt.onUpdate(yu)}});ot.popperInstance=new oW(t,vt,gy)}function a_(Lt,ir){if(s_(),!ot.state.isVisible){if(ot.props.target)return function nd(Lt){if(Lt){var ir=V0(Lt.target,ot.props.target);ir&&!ir._tippy&&bR(ir,Ks({},ot.props,{content:EE(n.content,[ir]),appendTo:n.appendTo,target:"",showOnInit:!0}))}}(Lt);if(_=!0,Lt&&!ir&&ot.props.onTrigger(ot,Lt),ot.props.wait)return ot.props.wait(ot,Lt);vu()&&!ot.state.isMounted&&(ot.popperInstance||o_(),document.addEventListener("mousemove",Wa)),fh();var mr=z0(ot.props.delay,0,Qc.delay);mr?s=setTimeout(function(){eD()},mr):eD()}}function Op(){if(s_(),!ot.state.isVisible)return va(),void mu();_=!1;var Lt=z0(ot.props.delay,1,Qc.delay);Lt?c=setTimeout(function(){ot.state.isVisible&&py()},Lt):m=requestAnimationFrame(function(){py()})}function Ok(Lt){ot.props.interactive&&vt.contains(Lt.target)||Oo().contains(Lt.target)&&(ch||ot.state.isVisible&&xE(ot.props.trigger,"click"))||!0===ot.props.hideOnClick&&(s_(),py())}function s_(){clearTimeout(s),clearTimeout(c),cancelAnimationFrame(m)}function Nk(Lt){hR(Lt=Lt||{},Qc),Hl();var ir=ot.props,mr=fR(t,Ks({},ot.props,{},Lt,{ignoreAttributes:!0}));mr.ignoreAttributes=H0(Lt,"ignoreAttributes")?Lt.ignoreAttributes||!1:ir.ignoreAttributes,ot.props=mr,aa(),Is(),ct=sR(hy,mr.interactiveDebounce),function MW(t,n,e){var r=DE(t),i=r.tooltip,s=r.content,c=r.backdrop,m=r.arrow;t.style.zIndex=""+e.zIndex,i.setAttribute("data-size",e.size),i.setAttribute("data-animation",e.animation),i.style.maxWidth=e.maxWidth+("number"==typeof e.maxWidth?"px":""),e.role?t.setAttribute("role",e.role):t.removeAttribute("role"),n.content!==e.content&&gR(s,e),!n.animateFill&&e.animateFill?(i.appendChild(vR()),i.setAttribute("data-animatefill","")):n.animateFill&&!e.animateFill&&(i.removeChild(c),i.removeAttribute("data-animatefill")),!n.arrow&&e.arrow?i.appendChild(SE(e.arrowType)):n.arrow&&!e.arrow&&i.removeChild(m),n.arrow&&e.arrow&&n.arrowType!==e.arrowType&&i.replaceChild(SE(e.arrowType),m),!n.interactive&&e.interactive?yR(t,i):n.interactive&&!e.interactive&&function DW(t,n){t.removeAttribute("tabindex"),n.removeAttribute("data-interactive")}(t,i),!n.inertia&&e.inertia?mR(i):n.inertia&&!e.inertia&&function EW(t){t.removeAttribute("data-inertia")}(i),n.theme!==e.theme&&(IE(i,"remove",n.theme),IE(i,"add",e.theme))}(vt,ir,mr),ot.popperChildren=DE(vt),ot.popperInstance&&(lW.some(function(No){return H0(Lt,No)&&Lt[No]!==ir[No]})?(ot.popperInstance.destroy(),o_(),ot.state.isVisible&&ot.popperInstance.enableEventListeners(),ot.props.followCursor&&i&&Wa(i)):ot.popperInstance.update())}function eD(){var Lt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z0(ot.props.duration,0,Qc.duration[1]);if(!ot.state.isDestroyed&&ot.state.isEnabled&&(!ch||ot.props.touch)&&!Oo().hasAttribute("disabled")&&!1!==ot.props.onShow(ot)){fh(),vt.style.visibility="visible",ot.state.isVisible=!0,ot.props.interactive&&Oo().classList.add(QN);var ir=Ia();ny(ir.concat(vt),0),ve=function(){if(ot.state.isVisible){var No=vu();No&&i?Wa(i):No||ot.popperInstance.update(),ot.popperChildren.backdrop&&(ot.popperChildren.content.style.transitionDelay=Math.round(Lt/12)+"ms"),ot.props.sticky&&function td(){ny([vt],XN?0:ot.props.updateDuration);var Lt=t.getBoundingClientRect();!function ir(){var mr=t.getBoundingClientRect();(Lt.top!==mr.top||Lt.right!==mr.right||Lt.bottom!==mr.bottom||Lt.left!==mr.left)&&ot.popperInstance.scheduleUpdate(),Lt=mr,ot.state.isMounted&&requestAnimationFrame(ir)}()}(),ny([vt],ot.props.updateDuration),ny(ir,Lt),dR(ir,"visible"),function jn(Lt,ir){Qn(Lt,ir)}(Lt,function(){ot.props.aria&&Oo().setAttribute("aria-".concat(ot.props.aria),vt.id),ot.props.onShown(ot),ot.state.isShown=!0})}},function JY(){ge=!1;var Lt=vu();ot.popperInstance?(cR(ot.popperInstance.modifiers,ot.props.flip),Lt||(ot.popperInstance.reference=t,ot.popperInstance.enableEventListeners()),ot.popperInstance.scheduleUpdate()):(o_(),Lt||ot.popperInstance.enableEventListeners());var ir=ot.props.appendTo,mr="parent"===ir?t.parentNode:EE(ir,[t]);mr.contains(vt)||(mr.appendChild(vt),ot.props.onMount(ot),ot.state.isMounted=!0)}()}}function py(){var Lt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z0(ot.props.duration,1,Qc.duration[1]);if(!ot.state.isDestroyed&&(ot.state.isEnabled||O)&&(!1!==ot.props.onHide(ot)||O)){mu(),vt.style.visibility="hidden",ot.state.isVisible=!1,ot.state.isShown=!1,K=!1,ot.props.interactive&&Oo().classList.remove(QN);var ir=Ia();ny(ir,Lt),dR(ir,"hidden"),function Rn(Lt,ir){Qn(Lt,function(){!ot.state.isVisible&&vt.parentNode&&vt.parentNode.contains(vt)&&ir()})}(Lt,function(){_||va(),ot.props.aria&&Oo().removeAttribute("aria-".concat(ot.props.aria)),ot.popperInstance.disableEventListeners(),ot.popperInstance.options.placement=ot.props.placement,vt.parentNode.removeChild(vt),ot.props.onHidden(ot),ot.state.isMounted=!1})}}}var _R=!1;function Sp(t,n){hR(n||{},Qc),_R||(function mW(){document.addEventListener("touchstart",pW,yE),window.addEventListener("blur",gW)}(),_R=!0);var e=Ks({},Qc,{},n);(function _W(t){return"[object Object]"==={}.toString.call(t)&&!t.addEventListener})(t)&&function bW(t){var n={isVirtual:!0,attributes:t.attributes||{},contains:function(){},setAttribute:function(i,s){t.attributes[i]=s},getAttribute:function(i){return t.attributes[i]},removeAttribute:function(i){delete t.attributes[i]},hasAttribute:function(i){return i in t.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(i){t.classList.classNames[i]=!0},remove:function(i){delete t.classList.classNames[i]},contains:function(i){return i in t.classList.classNames}}};for(var e in n)t[e]=n[e]}(t);var r=function CW(t){if(lR(t))return[t];if(t instanceof NodeList)return Jv(t);if(Array.isArray(t))return t;try{return Jv(document.querySelectorAll(t))}catch{return[]}}(t).reduce(function(i,s){var c=s&&bR(s,e);return c&&i.push(c),i},[]);return lR(t)?r[0]:r}Sp.version="4.3.5",Sp.defaults=Qc,Sp.setDefaults=function(t){Object.keys(t).forEach(function(n){Qc[n]=t[n]})},Sp.hideAll=function IW(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.exclude,e=t.duration;Jv(document.querySelectorAll(CE)).forEach(function(r){var i=r._tippy;if(i){var s=!1;n&&(s=function wW(t){return!!t._tippy&&!mE.call(t,CE)}(n)?i.reference===n:r===n.popper),s||i.hide(e)}})},Sp.group=function RW(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.delay,r=void 0===e?t[0].props.delay:e,i=n.duration,s=void 0===i?0:i,c=!1;function m(ge){c=ge,K()}function _(ge){ge._originalProps.onShow(ge),t.forEach(function(ve){ve.set({duration:s}),ve.state.isVisible&&ve.hide()}),m(!0)}function O(ge){ge._originalProps.onHide(ge),m(!1)}function U(ge){ge._originalProps.onShown(ge),ge.set({duration:ge._originalProps.duration})}function K(){t.forEach(function(ge){ge.set({onShow:_,onShown:U,onHide:O,delay:c?[0,Array.isArray(r)?r[1]:r]:r,duration:c?s:ge._originalProps.duration})})}t.forEach(function(ge){ge._originalProps?ge.set(ge._originalProps):ge._originalProps=Ks({},ge.props)}),K()},Zv&&setTimeout(function kW(){Jv(document.querySelectorAll("[data-tippy]")).forEach(function(t){var n=t.getAttribute("data-tippy");n&&Sp(t,{content:n})})}),function PW(t){if(Zv){var n=document.createElement("style");n.type="text/css",n.textContent=t,n.setAttribute("data-tippy-stylesheet","");var e=document.head,r=e.querySelector("style,link");r?e.insertBefore(n,r):e.appendChild(n)}}('.tippy-iOS{cursor:pointer!important;-webkit-tap-highlight-color:transparent}.tippy-popper{transition-timing-function:cubic-bezier(.165,.84,.44,1);max-width:calc(100% - 8px);pointer-events:none;outline:0}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-7px;bottom:-6.5px;-webkit-transform-origin:50% 0;transform-origin:50% 0;margin:0 3px}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 3px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(-10px);transform:perspective(700px) translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(60deg);transform:perspective(700px) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=top] [data-animation=scale]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px) scale(.5);transform:translateY(-10px) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-7px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;margin:0 3px}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(10px);transform:perspective(700px) translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(-60deg);transform:perspective(700px) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=scale]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px) scale(.5);transform:translateY(10px) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-12px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%;margin:3px 0}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(-10px);transform:perspective(700px) translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(-60deg);transform:perspective(700px) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=left] [data-animation=scale]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px) scale(.5);transform:translateX(-10px) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-12px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%;margin:3px 0}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(10px);transform:perspective(700px) translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(60deg);transform:perspective(700px) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=right] [data-animation=scale]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px) scale(.5);transform:translateX(10px) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:.25rem;font-size:.875rem;padding:.3125rem .5625rem;line-height:1.4;text-align:center;background-color:#333}.tippy-tooltip[data-size=small]{padding:.1875rem .375rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.375rem .75rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:initial}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] .tippy-roundarrow path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:18px;height:7px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}');const ry=Sp;var LW=D(6827),FW=D.n(LW);Xs().use(FW()),Xs().use(P0());const BW=[{selector:'node[node_type="input"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="cnode"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="annotation"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="proj"]',style:{width:3,"line-color":"#ccc","line-style":"dashed","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:"edge[label]",style:{label:"data(label)","text-rotation":"autorotate","text-margin-x":15,"text-margin-y":0}}],VW=[{selector:'node[color="yellow"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="red"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="blue"]',style:{content:"data(id)",color:"back",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="green"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="orange"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"orange white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'edge[edge_type="default"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="external"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","line-style":"dashed","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="parent"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}];let HW=(()=>{class t{ngAfterViewInit(){"liger"==this.graphStyle?(this.styleArray=BW,this.layout="dagre"):"glue"==this.graphStyle&&(this.styleArray=VW,this.layout="cise"),this.cy=Xs()({container:document.getElementById(this.graphID),style:this.styleArray,layout:{name:this.layout}})}renderGraph(e){this.cy=Xs()({container:document.getElementById(this.graphID),elements:e,style:this.styleArray,layout:{name:this.layout}}),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy),"liger"==this.graphStyle?this.createAndBindLigerPoppers():"glue"==this.graphStyle&&this.createAndBindGswbPoppers()}makeLigerPopper(e){const r=e.popperRef();e.tippy=ry(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;if(s.hasOwnProperty("avp"))for(var c in s.avp)i.innerHTML=i.innerHTML+c+" : "+s.avp[c]+"<br>";return i},trigger:"manual"})}createAndBindLigerPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("avp")&&(this.makeLigerPopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}makeGswbPopper(e){const r=e.popperRef();e.tippy=ry(r,{content:()=>{let i=document.createElement("div");i.style.backgroundColor="black";var s=e._private.data;if(s.hasOwnProperty("solutions"))for(var c of s.solutions)i.innerHTML=i.innerHTML+c+"<br>";return i},trigger:"manual"})}createAndBindGswbPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("solutions")&&(this.makeGswbPopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-sub-graph"]],inputs:{graphStyle:"graphStyle",graphID:"graphID"},decls:2,vars:1,consts:[[1,"cy",3,"id"]],template:function(e,r){1&e&&(je(0,"div"),dn(1,"div",0),Ge()),2&e&&(Bt(1),Wt("id",r.graphID))},styles:["div.cy[_ngcontent-%COMP%]{width:800px;height:600px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const zW=["subgraphVis"],UW=["subGraphDialog"];let AE=(()=>{class t{setContent(e){console.log(e),setTimeout(()=>{this.subgraphVis.renderGraph(e)},0)}showDialog(){this.subGraphDialog.nativeElement.show()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-sub-graph-dialog"]],viewQuery:function(e,r){if(1&e&&(Nn(zW,5),Nn(UW,5)),2&e){let i;xn(i=En())&&(r.subgraphVis=i.first),xn(i=En())&&(r.subGraphDialog=i.first)}},inputs:{subgraphID:"subgraphID",subgraphStyle:"subgraphStyle"},decls:7,vars:2,consts:[[1,"center-dialog"],["subGraphDialog",""],[3,"graphID","graphStyle"],["subgraphVis",""],[3,"click"]],template:function(e,r){if(1&e){const i=Ua();je(0,"dialog",0,1)(2,"div"),dn(3,"app-sub-graph",2,3),Ge(),je(5,"button",4),wn("click",function(){return Ln(i),ni(Gs(1).close())}),mt(6," OK "),Ge()()}2&e&&(Bt(3),Wt("graphID",r.subgraphID)("graphStyle",r.subgraphStyle))},dependencies:[HW],styles:[".center-dialog[_ngcontent-%COMP%]{position:fixed;z-index:9999;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),t})();const GW=["graphContainer"],jW=["subgraphDialog"];Xs().use(P0());const wR=[{selector:'node[color="yellow"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="red"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="blue"]',style:{content:"data(id)",color:"back",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="green"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="orange"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"orange white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="parent"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}];let CR=(()=>{class t{constructor(){this.defaultWidth="800px",this.defaultHeight="600px"}ngAfterViewInit(){this.cy=Xs()({container:document.getElementById(this.graphID),style:wR,layout:{name:"dagre"}})}handleNodeDoubleClick(e,r){console.log("Clicked node with id: ",e),setTimeout(()=>{this.subgraphDialog.setContent(r.graphElements)},0),setTimeout(()=>{this.subgraphDialog.showDialog()},0)}renderGraph(e){this.cy=Xs()({container:document.getElementById(this.graphID),elements:e,style:wR,layout:{name:"dagre"}}),this.createAndBindPoppers(),this.cy.on("dblclick","node",r=>{let i=r.target,s=i.id(),c=i.data();console.log(c),c.hasOwnProperty("subgraph")&&this.handleNodeDoubleClick(s,c.subgraph)})}makePopper(e){const r=e.popperRef();e.tippy=ry(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;if(s.hasOwnProperty("solutions"))for(var c of s.solutions)i.innerHTML=i.innerHTML+c+"<br>";return i},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("solutions")&&(this.makePopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}resizeToDefault(){const e=this.graphContainer.nativeElement;e.style.width=this.defaultWidth,e.style.height=this.defaultHeight}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-gswb-graph-vis"]],viewQuery:function(e,r){if(1&e&&(Nn(GW,5),Nn(jW,5)),2&e){let i;xn(i=En())&&(r.graphContainer=i.first),xn(i=En())&&(r.subgraphDialog=i.first)}},inputs:{graphID:"graphID"},decls:7,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[1,"resize",3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(e,r){1&e&&(je(0,"div"),dn(1,"div",0,1),je(3,"button",2),wn("click",function(){return r.resizeToDefault()}),mt(4,"Resize to Default"),Ge(),dn(5,"app-sub-graph-dialog",3,4),Ge()),2&e&&(Bt(1),Wt("id",r.graphID),Bt(4),Wt("subgraphID","sub"+r.graphID)("subgraphStyle","glue"))},dependencies:[AE],styles:["div.cy[_ngcontent-%COMP%]{width:760px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const WW=["editorVis"],$W=["graphVis"];function YW(t,n){1&t&&(je(0,"div",1),dn(1,"app-editor",2,3),Ge()),2&t&&(Bt(1),Wt("mode","glue"))}function XW(t,n){1&t&&(je(0,"div",1),dn(1,"app-gswb-graph-vis",4,5),Ge()),2&t&&(Bt(1),Wt("graphID","gswbCy1"))}let KW=(()=>{class t{ngAfterViewInit(){this.showEditor=!1,this.showGraph=!1}editorVisUpdateContent(e){console.log(this.editorVis),this.editorVis.updateContent(e)}graphVisUpdateContent(e){console.log(this.graphVis),this.graphVis.renderGraph(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-derivation-container"]],viewQuery:function(e,r){if(1&e&&(Nn(WW,5),Nn($W,5)),2&e){let i;xn(i=En())&&(r.editorVis=i.first),xn(i=En())&&(r.graphVis=i.first)}},decls:4,vars:2,consts:[["class","viscontainer",4,"ngIf"],[1,"viscontainer"],[3,"mode"],["editorVis",""],[3,"graphID"],["graphVis",""]],template:function(e,r){1&e&&(je(0,"h3"),mt(1,"Derivation:"),Ge(),sr(2,YW,3,1,"div",0),sr(3,XW,3,1,"div",0)),2&e&&(Bt(2),Wt("ngIf",r.showEditor),Bt(1),Wt("ngIf",r.showGraph))},dependencies:[fl,Ep,CR],styles:["div.viscontainer[_ngcontent-%COMP%]{max-width:800px}"]}),t})();const qW=["dialog"],ZW=["graphVis"],QW=["editorVis"];function JW(t,n){1&t&&(je(0,"div"),dn(1,"app-editor",4,5),Ge()),2&t&&(Bt(1),Wt("mode","glue"))}function e6(t,n){1&t&&(je(0,"div"),dn(1,"app-gswb-graph-vis",6,7),Ge()),2&t&&(Bt(1),Wt("graphID","gswbCy2"))}let xR=(()=>{class t{ngAfterViewInit(){this.showEdit=!1,this.showGraph=!1}setContent(e){console.log("Content of dialog window:",e),"string"==typeof e||e instanceof String?(this.showGraph=!1,this.showEdit=!0,e=e.toString(),setTimeout(()=>{this.editorVis?this.editorVis.updateContent(e):console.warn("Editor component not initialized yet")},0)):(this.showEdit=!1,this.showGraph=!0,setTimeout(()=>{this.graphVis?this.graphVis.renderGraph(e):console.warn("Graph component not initialized yet")},0))}showDialog(){this.dialog.nativeElement.show()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-dialog"]],viewQuery:function(e,r){if(1&e&&(Nn(qW,5),Nn(ZW,5),Nn(QW,5)),2&e){let i;xn(i=En())&&(r.dialog=i.first),xn(i=En())&&(r.graphVis=i.first),xn(i=En())&&(r.editorVis=i.first)}},decls:10,vars:2,consts:[[1,"center-dialog"],["dialog",""],[4,"ngIf"],[3,"click"],[3,"mode"],["editorVis",""],[3,"graphID"],["graphVis",""]],template:function(e,r){if(1&e){const i=Ua();je(0,"dialog",0,1)(2,"h3"),mt(3,"Derivation:"),Ge(),sr(4,JW,3,1,"div",2),sr(5,e6,3,1,"div",2),je(6,"button",3),wn("click",function(){return Ln(i),ni(Gs(1).close())}),mt(7," OK "),Ge()(),je(8,"button",3),wn("click",function(){return r.showDialog()}),mt(9,"Open in new window"),Ge()}2&e&&(Bt(4),Wt("ngIf",r.showEdit),Bt(1),Wt("ngIf",r.showGraph))},dependencies:[fl,Ep,CR],styles:[".center-dialog[_ngcontent-%COMP%]{position:fixed;z-index:9999;top:50%;left:50%;transform:translate(-50%,-50%);min-width:800px;max-width:90%;border-style:solid;border-radius:25px;border-color:#00a9e0}dialog[_ngcontent-%COMP%]{max-width:90%}div[_ngcontent-%COMP%]{max-width:90%}"]}),t})();function t6(t,n){1&t&&(je(0,"div")(1,"label",21),dn(2,"input",22),mt(3," Resolve DRS "),Ge()())}let j0=(()=>{class t{constructor(e){this.fb=e,this.showResolveDrs=!1,this.gswbPreferences={prover:0,debugging:!1,outputstyle:0,parseSem:!1,betaReduce:!0,resolveDrs:!1,glueOnly:!1,meaningOnly:!1,explainFail:!1,naturalDeductionStyle:0},this.gswbPreferencesForm=this.fb.group({prover:[0,Av.required],outputstyle:[0,Av.required],parseSem:[!1],betaReduce:[!0],resolveDrs:[!1],explain:[!1],debugging:[!1],ndstyle:[0,Av.required]}),this.gswbPreferencesForm.get("outputstyle")?.valueChanges.subscribe(r=>{console.log("outputstyle changed to:",r),"4"===r?this.showResolveDrs=!0:(this.showResolveDrs=!1,this.gswbPreferencesForm.get("resolveDrs")?.setValue(!1))}),this.gswbPreferencesForm.valueChanges.subscribe(()=>{this.onSubmit()})}onSubmit(){const e={prover:this.gswbPreferencesForm.value.prover,outputstyle:this.gswbPreferencesForm.value.outputstyle,parseSem:this.gswbPreferencesForm.value.parseSem,betaReduce:this.gswbPreferencesForm.value.betaReduce,resolveDrs:this.gswbPreferencesForm.value.resolveDrs,glueOnly:!1,meaningOnly:!1,explainFail:this.gswbPreferencesForm.value.explain,debugging:this.gswbPreferencesForm.value.debugging,naturalDeductionStyle:this.gswbPreferencesForm.value.ndstyle};console.log("Gswb preferences: ",e),this.gswbPreferences=e}updateFormFromPreferences(e){this.gswbPreferencesForm.patchValue({prover:e.prover,outputstyle:e.outputstyle,parseSem:e.parseSem,betaReduce:e.betaReduce,resolveDrs:e.resolveDrs,explain:e.explainFail,debugging:e.debugging,ndstyle:e.naturalDeductionStyle}),this.showResolveDrs=4===e.outputstyle}}return t.\u0275fac=function(e){return new(e||t)(Ye(MO))},t.\u0275cmp=cr({type:t,selectors:[["app-gswb-settings"]],decls:54,vars:2,consts:[["novalidate","",3,"formGroup","ngSubmit"],["for","prover"],["formControlName","prover","id","prover","name","prover"],["value","0"],["value","1"],["value","2"],["value","3"],["for","outputstyle"],["formControlName","outputstyle","id","outputstyle","name","outputstyle"],["value","4"],["for","parseSem"],["type","checkbox","formControlName","parseSem","id","parseSem","name","parseSem"],["for","betaReduce"],["type","checkbox","formControlName","betaReduce","id","betaReduce","name","betaReduce"],[4,"ngIf"],["for","explain"],["type","checkbox","formControlName","explain","id","explain","name","explain"],["for","debugging"],["type","checkbox","formControlName","debugging","id","debugging","name","debugging"],["for","ndstyle"],["formControlName","ndstyle","id","ndstyle","name","ndstyle"],["for","resolveDrs"],["type","checkbox","formControlName","resolveDrs","id","resolveDrs","name","resolveDrs"]],template:function(e,r){1&e&&(je(0,"h3"),mt(1,"Settings:"),Ge(),je(2,"form",0),wn("ngSubmit",function(){return r.onSubmit()}),je(3,"div")(4,"label",1),mt(5,"Prover:"),Ge(),je(6,"select",2)(7,"option",3),mt(8,"Hepple"),Ge(),je(9,"option",4),mt(10,"Lev"),Ge(),je(11,"option",5),mt(12,"Lev optimized "),Ge(),je(13,"option",6),mt(14,"Multi stage proving"),Ge()()(),je(15,"div")(16,"label",7),mt(17,"Output Style:"),Ge(),je(18,"select",8)(19,"option",3),mt(20,"Plain"),Ge(),je(21,"option",4),mt(22,"Prolog"),Ge(),je(23,"option",6),mt(24,"NLTK"),Ge(),je(25,"option",9),mt(26,"Prolog DRT"),Ge()()(),je(27,"div")(28,"label",10),dn(29,"input",11),mt(30," Parse Semantics "),Ge()(),je(31,"div")(32,"label",12),dn(33,"input",13),mt(34," Beta Reduce "),Ge()(),sr(35,t6,4,0,"div",14),je(36,"div")(37,"label",15),dn(38,"input",16),mt(39," Explanation "),Ge()(),je(40,"div")(41,"label",17),dn(42,"input",18),mt(43," Debugging "),Ge()(),je(44,"div")(45,"label",19),mt(46,"Natural deduction style:"),Ge(),je(47,"select",20)(48,"option",3),mt(49,"Full semantics"),Ge(),je(50,"option",4),mt(51,"Reduced semantics"),Ge(),je(52,"option",5),mt(53,"No semantics"),Ge()()()()),2&e&&(Bt(2),Wt("formGroup",r.gswbPreferencesForm),Bt(33),Wt("ngIf",r.showResolveDrs))},dependencies:[fl,_x,Ex,Sx,r0,Hv,Zg,cx,Vv,g0],styles:["form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}div[_ngcontent-%COMP%]{flex-basis:50%;margin-bottom:10px}label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:5px}select[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{width:auto;margin-right:5px}"]}),t})();const n6=["edit1"],r6=["derivation"],i6=["sem1"],o6=["log1"],a6=["dialog"],s6=["gswbPrefs"],l6=["errorhandle"];function u6(t,n){1&t&&(je(0,"span"),mt(1,"Calculate semantics"),Ge())}function c6(t,n){1&t&&dn(0,"span",13)}function d6(t,n){1&t&&(je(0,"span"),mt(1,"Loading..."),Ge())}let ER=(()=>{class t{ngAfterViewInit(){this.gswbPreferences?(this.gswbPreferences.gswbPreferences={prover:1,debugging:!1,outputstyle:4,parseSem:!1,resolveDrs:!0,betaReduce:!0,glueOnly:!1,meaningOnly:!1,explainFail:!1,naturalDeductionStyle:0},this.gswbPreferences.updateFormFromPreferences(this.gswbPreferences.gswbPreferences)):console.error("ERROR: `gswbPreferences` ViewChild not initialized!")}constructor(e){this.dataService=e,this.loading=!1}calculateSemantics(){this.loading=!0,this.gswbPreferences.onSubmit();const e={premises:this.editor1.getContent(),gswbPreferences:this.gswbPreferences.gswbPreferences};this.displayMessage("["+(new Date).toLocaleTimeString()+"] Sending request to GSWB ...","blue"),this.dataService.gswbDeduce(e).subscribe(r=>{if(this.loading=!1,r.hasOwnProperty("solutions"))if(r.solutions.length>0){r.solutions.forEach(s=>{console.log(s),this.sem.updateContent(s)});let i=r.solutions.join("\n");this.sem.updateContent(i)}else this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] No solutions found.");else this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] No solutions found.");if(r.hasOwnProperty("log")&&this.log.updateContent(r.log),r.hasOwnProperty("derivation")&&this.gswbPreferences.gswbPreferences.explainFail)if(console.log(r.derivation),r.derivation.hasOwnProperty("graphElements")){console.log(r.derivation.graphElements),this.derivationContainer.showEditor=!1,this.derivationContainer.showGraph=!0;const i=r.derivation.graphElements;setTimeout(()=>{this.derivationContainer.graphVisUpdateContent(i)},0),this.dialog.setContent(i)}else this.derivationContainer.showGraph=!1,this.derivationContainer.showEditor=!0,setTimeout(()=>{this.derivationContainer.editorVisUpdateContent(r.derivation.toString())},0),this.dialog.setContent(r.derivation.toString());this.displayMessage("GSWB deduction completed.","green")},r=>{console.log("ERROR: ",r),this.loading=!1,this.displayMessage("An error occurred during GSWB deduction.","red"),console.log("Sent following request: ",e)})}displayMessage(e,r){this.errorhandle.nativeElement.style.color=r,this.errorhandle.nativeElement.innerHTML="["+(new Date).toLocaleTimeString()+"] "+e}}return t.\u0275fac=function(e){return new(e||t)(Ye(tm))},t.\u0275cmp=cr({type:t,selectors:[["app-gswb-vis"]],viewQuery:function(e,r){if(1&e&&(Nn(n6,5),Nn(r6,5),Nn(i6,5),Nn(o6,5),Nn(a6,5),Nn(s6,5),Nn(l6,5)),2&e){let i;xn(i=En())&&(r.editor1=i.first),xn(i=En())&&(r.derivationContainer=i.first),xn(i=En())&&(r.sem=i.first),xn(i=En())&&(r.log=i.first),xn(i=En())&&(r.dialog=i.first),xn(i=En())&&(r.gswbPreferences=i.first),xn(i=En())&&(r.errorhandle=i.first)}},decls:27,vars:6,consts:[[1,"editor-restr"],[3,"mode"],["edit1",""],["gswbPrefs",""],[3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"errorhandling"],["errorhandle",""],["sem1",""],["log1",""],["derivation",""],["dialog",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,r){1&e&&(je(0,"h3"),mt(1," Meaning constructors:\n"),Ge(),je(2,"div",0),dn(3,"app-editor",1,2),Ge(),dn(5,"app-gswb-settings",null,3),je(7,"button",4),wn("click",function(){return r.calculateSemantics()}),sr(8,u6,2,0,"span",5),sr(9,c6,1,0,"span",6),sr(10,d6,2,0,"span",5),Ge(),dn(11,"div",7,8),je(13,"h3"),mt(14," Semantics: "),Ge(),je(15,"div",0),dn(16,"app-editor",1,9),Ge(),je(18,"h3"),mt(19,"Log:"),Ge(),je(20,"div",0),dn(21,"app-editor",1,10),Ge(),dn(23,"app-derivation-container",null,11)(25,"app-dialog",null,12)),2&e&&(Bt(3),Wt("mode","glue"),Bt(5),Wt("ngIf",!r.loading),Bt(1),Wt("ngIf",r.loading),Bt(1),Wt("ngIf",r.loading),Bt(6),Wt("mode","glue"),Bt(5),Wt("mode","glue"))},dependencies:[fl,Ep,KW,xR,j0],styles:[".spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}div.errorhandling[_ngcontent-%COMP%]{color:red;padding-bottom:10px}"]}),t})(),f6=(()=>{class t{constructor(){this.delete=new ur,this.calculateFromRule=new ur}onDelete(){this.delete.emit(this.data)}calculate(){this.calculateFromRule.emit(this.data)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-rule-list-element"]],inputs:{data:"data"},outputs:{delete:"delete",calculateFromRule:"calculateFromRule"},decls:7,vars:3,consts:[[1,"rule"],[3,"ngModel","ngModelChange"],[3,"click"]],template:function(e,r){1&e&&(je(0,"div",0)(1,"textarea",1),wn("ngModelChange",function(s){return r.data.rule.rule=s}),mt(2," "),Ge(),je(3,"button",2),wn("click",function(){return r.calculate()}),mt(4),Ge(),je(5,"button",2),wn("click",function(){return r.onDelete()}),mt(6,"Delete"),Ge()()),2&e&&(Bt(1),Wt("ngModel",r.data.rule.rule),Bt(3),ub(" Calculate graph at rule: ",r.data.rule.index," (line ",r.data.rule.lineNumber,") "))},dependencies:[qg,Zg,Bv],styles:["div.rule[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{width:100%;resize:none}"]}),t})();function h6(t,n){if(1&t){const e=Ua();je(0,"div",1)(1,"app-rule-list-element",2),wn("delete",function(){const s=Ln(e).index;return ni(Or().removeElement(s))})("calculateFromRule",function(i){return Ln(e),ni(Or().calculateFromRuleList(i))}),Ge()()}if(2&t){const e=n.$implicit;Bt(1),Wt("data",e)}}let p6=(()=>{class t{constructor(){this.elements=[],this.delete=new ur,this.calculateFromRule=new ur}addElement(e){this.elements.push(e),console.log(e)}removeElement(e){e>=0&&e<this.elements.length&&this.elements.splice(e,1)}calculateFromRuleList(e){this.calculateFromRule.emit(e)}clearList(){this.elements=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-rule-list"]],outputs:{delete:"delete",calculateFromRule:"calculateFromRule"},decls:2,vars:1,consts:[["class","rule-container",4,"ngFor","ngForOf"],[1,"rule-container"],[3,"data","delete","calculateFromRule"]],template:function(e,r){1&e&&(je(0,"div"),sr(1,h6,2,1,"div",0),Ge()),2&e&&(Bt(1),Wt("ngForOf",r.elements))},dependencies:[Bg,f6],styles:["div[_ngcontent-%COMP%]{width:800px;border:2px solid #00a9e0;margin:5px;overflow:auto;box-sizing:border-box}div.rule-container[_ngcontent-%COMP%]{width:100%;column-gap:20px;padding:5px;border:2px solid #00a9e0;align-items:flex-start;box-sizing:border-box}"]}),t})();var g6=D(3848),DR=D.n(g6);const m6=["graphContainer"],v6=["subgraphDialog"];Xs().use(P0()),Xs().use(DR());const SR=[{selector:'node[node_type="input"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="cnode"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="annotation"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="proj"]',style:{width:3,"line-color":"#ccc","line-style":"dashed","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:"edge[label]",style:{label:"data(label)","text-rotation":"autorotate","text-margin-x":15,"text-margin-y":0}}];let y6=(()=>{class t{constructor(){this.nodesHidden=!1,this.selector='node[node_type="cnode"]',this.defaultWidth="800px",this.defaultHeight="600px"}ngOnInit(){this.cy=Xs()({container:document.getElementById("cy"),style:SR,layout:{name:"dagre"}})}makePopper(e){const r=e.popperRef();e.tippy=ry(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;if(s.hasOwnProperty("avp"))for(var c in s.avp)i.innerHTML=i.innerHTML+c+" : "+s.avp[c]+"<br>";return i},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("avp")&&(this.makePopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}renderGraph(e){this.cy=Xs()({container:document.getElementById(this.graphID),elements:e,style:SR,layout:{name:"dagre"}}),this.createAndBindPoppers(),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy)}resizeToDefault(){const e=this.graphContainer.nativeElement;e.style.width=this.defaultWidth,e.style.height=this.defaultHeight}showDialog(){this.subgraphDialog.setContent(this.cy.data()),this.subgraphDialog.showDialog()}toggleNodes(){const e=this.cy.nodes(this.selector);this.cy.batch(()=>{e.style("display",this.nodesHidden?"element":"none"),this.nodesHidden=!this.nodesHidden})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-graph-vis"]],viewQuery:function(e,r){if(1&e&&(Nn(m6,5),Nn(v6,5)),2&e){let i;xn(i=En())&&(r.graphContainer=i.first),xn(i=En())&&(r.subgraphDialog=i.first)}},inputs:{graphID:"graphID"},decls:9,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(e,r){1&e&&(je(0,"div"),dn(1,"div",0,1),je(3,"button",2),wn("click",function(){return r.resizeToDefault()}),mt(4,"Resize to Default"),Ge(),je(5,"button",2),wn("click",function(){return r.toggleNodes()}),mt(6,"Toggle c-structure"),Ge(),dn(7,"app-sub-graph-dialog",3,4),Ge()),2&e&&(Bt(1),Wt("id",r.graphID),Bt(6),Wt("subgraphID","sub"+r.graphID)("subgraphStyle","liger"))},dependencies:[AE],styles:["div.cy[_ngcontent-%COMP%]{width:800px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const b6=["*"];let am=(()=>{class t{constructor(e){this.hideComponentService=e,this.showText="Show Content",this.hideText="Hide Content",this.isHidden=!1}ngOnInit(){this.hideSubscription=this.hideComponentService.toggleObservable.subscribe(e=>{if(!e.type||e.type===this.type)switch(e.action){case Zu.Hide:this.isHidden=!0;break;case Zu.Show:this.isHidden=!1}})}ngOnDestroy(){this.hideSubscription.unsubscribe()}toggleDisplay(){this.isHidden=!this.isHidden}}return t.\u0275fac=function(e){return new(e||t)(Ye(yI))},t.\u0275cmp=cr({type:t,selectors:[["app-toggle-display"]],inputs:{type:"type",showText:"showText",hideText:"hideText"},ngContentSelectors:b6,decls:4,vars:3,consts:[[1,"hide-button",3,"click"]],template:function(e,r){1&e&&(rp(),je(0,"div"),ip(1),Ge(),je(2,"button",0),wn("click",function(){return r.toggleDisplay()}),mt(3),Ge()),2&e&&(Jm("display",r.isHidden?"none":"block"),Bt(3),ap(r.isHidden?r.showText:r.hideText))},encapsulation:2}),t})();class _6{}class C6{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(n=!1,e,r=!0,i){this._multiple=n,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new It,e&&e.length&&(n?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(r=>this._markSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...n){this._verifyValueAssignment(n),n.forEach(r=>this._unmarkSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...n){this._verifyValueAssignment(n);const e=this.selected,r=new Set(n);n.forEach(s=>this._markSelected(s)),e.filter(s=>!r.has(s)).forEach(s=>this._unmarkSelected(s));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();const e=this._hasQueuedChanges();return n&&this._emitChangeEvent(),e}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(n){if(this.compareWith){for(let e of this._selection)if(this.compareWith(n,e))return e;return n}return n}}function Ju(t){return it((n,e)=>{Ro(t).subscribe(pt(e,()=>e.complete(),H)),!e.closed&&n.subscribe(e)})}function hl(t){return null!=t&&"false"!=`${t}`}function dh(t,n=0){return function x6(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function TR(t){return Array.isArray(t)?t:[t]}function sm(t){return t instanceof ii?t.nativeElement:t}const E6=new qt("cdk-dir-doc",{providedIn:"root",factory:function D6(){return nn(Di)}}),S6=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let lm=(()=>{class t{constructor(e){this.value="ltr",this.change=new ur,e&&(this.value=function T6(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?S6.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Pt(E6,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),MR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({}),t})();class M6{constructor(){this.expansionModel=new C6(!0)}toggle(n){this.expansionModel.toggle(this._trackByValue(n))}expand(n){this.expansionModel.select(this._trackByValue(n))}collapse(n){this.expansionModel.deselect(this._trackByValue(n))}isExpanded(n){return this.expansionModel.isSelected(this._trackByValue(n))}toggleDescendants(n){this.expansionModel.isSelected(this._trackByValue(n))?this.collapseDescendants(n):this.expandDescendants(n)}collapseAll(){this.expansionModel.clear()}expandDescendants(n){let e=[n];e.push(...this.getDescendants(n)),this.expansionModel.select(...e.map(r=>this._trackByValue(r)))}collapseDescendants(n){let e=[n];e.push(...this.getDescendants(n)),this.expansionModel.deselect(...e.map(r=>this._trackByValue(r)))}_trackByValue(n){return this.trackBy?this.trackBy(n):n}}class I6 extends M6{constructor(n,e){super(),this.getChildren=n,this.options=e,this.options&&(this.trackBy=this.options.trackBy)}expandAll(){this.expansionModel.clear();const n=this.dataNodes.reduce((e,r)=>[...e,...this.getDescendants(r),r],[]);this.expansionModel.select(...n.map(e=>this._trackByValue(e)))}getDescendants(n){const e=[];return this._getDescendants(e,n),e.splice(1)}_getDescendants(n,e){n.push(e);const r=this.getChildren(e);Array.isArray(r)?r.forEach(i=>this._getDescendants(n,i)):Lb(r)&&r.pipe(Wc(1),Ll(Boolean)).subscribe(i=>{for(const s of i)this._getDescendants(n,s)})}}const W0=new qt("CDK_TREE_NODE_OUTLET_NODE");let iy=(()=>{class t{constructor(e,r){this.viewContainer=e,this._node=r}}return t.\u0275fac=function(e){return new(e||t)(Ye(ja),Ye(W0,8))},t.\u0275dir=un({type:t,selectors:[["","cdkTreeNodeOutlet",""]]}),t})();class A6{constructor(n){this.$implicit=n}}let $0=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(Ye(Ws))},t.\u0275dir=un({type:t,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),t})(),ff=(()=>{class t{get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}constructor(e,r){this._differs=e,this._changeDetectorRef=r,this._onDestroy=new It,this._levels=new Map,this.viewChange=new hn({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const e=this._nodeDefs.filter(r=>!r.when);this._defaultNodeDef=e[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let e;!function w6(t){return t&&"function"==typeof t.connect&&!(t instanceof BC)}(this._dataSource)?Lb(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=tt(this._dataSource)):e=this._dataSource.connect(this),e&&(this._dataSubscription=e.pipe(Ju(this._onDestroy)).subscribe(r=>this.renderNodeChanges(r)))}renderNodeChanges(e,r=this._dataDiffer,i=this._nodeOutlet.viewContainer,s){const c=r.diff(e);c&&(c.forEachOperation((m,_,O)=>{if(null==m.previousIndex)this.insertNode(e[O],O,i,s);else if(null==O)i.remove(_),this._levels.delete(m.item);else{const U=i.get(_);i.move(U,O)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(e,r){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(s=>s.when&&s.when(r,e))||this._defaultNodeDef}insertNode(e,r,i,s){const c=this._getNodeDef(e,r),m=new A6(e);m.level=this.treeControl.getLevel?this.treeControl.getLevel(e):typeof s<"u"&&this._levels.has(s)?this._levels.get(s)+1:0,this._levels.set(e,m.level),(i||this._nodeOutlet.viewContainer).createEmbeddedView(c.template,m,r),Jc.mostRecentTreeNode&&(Jc.mostRecentTreeNode.data=e)}}return t.\u0275fac=function(e){return new(e||t)(Ye(cp),Ye(ls))},t.\u0275cmp=cr({type:t,selectors:[["cdk-tree"]],contentQueries:function(e,r,i){if(1&e&&Qf(i,$0,5),2&e){let s;xn(s=En())&&(r._nodeDefs=s)}},viewQuery:function(e,r){if(1&e&&Nn(iy,7),2&e){let i;xn(i=En())&&(r._nodeOutlet=i.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(e,r){1&e&&Zm(0,0)},dependencies:[iy],encapsulation:2}),t})(),Jc=(()=>{class t{get role(){return"treeitem"}set role(e){this._elementRef.nativeElement.setAttribute("role",e)}get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(e,r){this._elementRef=e,this._tree=r,this._destroyed=new It,this._dataChanges=new It,t.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function O6(t){let n=t.parentElement;for(;n&&!N6(n);)n=n.parentElement;return n?n.classList.contains("cdk-nested-tree-node")?dh(n.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){t.mostRecentTreeNode===this&&(t.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return t.mostRecentTreeNode=null,t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(ff))},t.\u0275dir=un({type:t,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(e,r){2&e&&Ts("aria-expanded",r.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),t})();function N6(t){const n=t.classList;return!(!n?.contains("cdk-nested-tree-node")&&!n?.contains("cdk-tree"))}let kE,OE=(()=>{class t extends Jc{constructor(e,r,i){super(e,r),this._differs=i}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);const e=this._tree.treeControl.getChildren(this.data);Array.isArray(e)?this.updateChildrenNodes(e):Lb(e)&&e.pipe(Ju(this._destroyed)).subscribe(r=>this.updateChildrenNodes(r)),this.nodeOutlet.changes.pipe(Ju(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(e){const r=this._getNodeOutlet();e&&(this._children=e),r&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,r.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const e=this._getNodeOutlet();e&&(e.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const e=this.nodeOutlet;return e&&e.find(r=>!r._node||r._node===this)}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(ff),Ye(cp))},t.\u0275dir=un({type:t,selectors:[["cdk-nested-tree-node"]],contentQueries:function(e,r,i){if(1&e&&Qf(i,iy,5),2&e){let s;xn(s=En())&&(r.nodeOutlet=s)}},hostAttrs:[1,"cdk-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["cdkNestedTreeNode"],features:[Xr([{provide:Jc,useExisting:t},{provide:W0,useExisting:t}]),Zn]}),t})(),RE=(()=>{class t{get recursive(){return this._recursive}set recursive(e){this._recursive=hl(e)}constructor(e,r){this._tree=e,this._treeNode=r,this._recursive=!1}_toggle(e){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),e.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(Ye(ff),Ye(Jc))},t.\u0275dir=un({type:t,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(e,r){1&e&&wn("click",function(s){return r._toggle(s)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),t})(),k6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({}),t})();try{kE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{kE=!1}let oy,PE,ec=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function b3(t){return t===$M}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!kE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Pt(qf))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ay(t){return function P6(){if(null==oy&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>oy=!0}))}finally{oy=oy||!1}return oy}()?t:!!t.capture}function cm(t){return t.composedPath?t.composedPath()[0]:t.target}function AR(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class o$ extends C{constructor(n,e){super()}schedule(n,e=0){return this}}const X0={setInterval(t,n,...e){const{delegate:r}=X0;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=X0;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class LE extends o${constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,e),this}requestAsyncId(n,e,r=0){return X0.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&X0.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i,r=!1;try{this.work(n)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,I(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const OR={now:()=>(OR.delegate||Date).now(),delegate:void 0};class sy{constructor(n,e=sy.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}sy.now=OR.now;class FE extends sy{constructor(n,e=sy.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}const BE=new FE(LE),a$=BE;function VE(t,n=BE){return it((e,r)=>{let i=null,s=null,c=null;const m=()=>{if(i){i.unsubscribe(),i=null;const O=s;s=null,r.next(O)}};function _(){const O=c+t,U=n.now();if(U<O)return i=this.schedule(void 0,O-U),void r.add(i);m()}e.subscribe(pt(r,O=>{s=O,c=n.now(),i||(i=n.schedule(_,t),r.add(i))},()=>{m(),r.complete()},void 0,()=>{s=i=null}))})}function HE(t){return Ll((n,e)=>t<=e)}let NR=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),s$=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=sm(e);return new Ze(i=>{const c=this._observeElement(r).subscribe(i);return()=>{c.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new It,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return t.\u0275fac=function(e){return new(e||t)(Pt(NR))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),l$=(()=>{class t{get disabled(){return this._disabled}set disabled(e){this._disabled=hl(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=dh(e),this._subscribe()}constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new ur,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(VE(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ye(s$),Ye(ii),Ye(Kr))},t.\u0275dir=un({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),RR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({providers:[NR]}),t})();const kR=new Set;let Mp,u$=(()=>{class t{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):d$}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function c$(t,n){if(!kR.has(t))try{Mp||(Mp=document.createElement("style"),n&&(Mp.nonce=n),Mp.setAttribute("type","text/css"),document.head.appendChild(Mp)),Mp.sheet&&(Mp.sheet.insertRule(`@media ${t} {body{ }}`,0),kR.add(t))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(ec),Pt(L_,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function d$(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let f$=(()=>{class t{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new It}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return PR(TR(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let s=Fb(PR(TR(e)).map(c=>this._registerQuery(c).observable));return s=Vb(s.pipe(Wc(1)),s.pipe(HE(1),VE(0))),s.pipe(St(c=>{const m={matches:!1,breakpoints:{}};return c.forEach(({matches:_,query:O})=>{m.matches=m.matches||_,m.breakpoints[O]=_}),m}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),s={observable:new Ze(c=>{const m=_=>this._zone.run(()=>c.next(_));return r.addListener(m),()=>{r.removeListener(m)}}).pipe(gv(r),St(({matches:c})=>({query:e,matches:c})),Ju(this._destroySubject)),mql:r};return this._queries.set(e,s),s}}return t.\u0275fac=function(e){return new(e||t)(Pt(u$),Pt(Kr))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function PR(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}class g${constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new It,this._typeaheadSubscription=C.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new It,this.change=new It,n instanceof kg&&(this._itemChangesSubscription=n.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(oa(e=>this._pressedLetters.push(e)),VE(n),Ll(()=>this._pressedLetters.length>0),St(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,c=r[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!n[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex+this._pageUpAndDown.delta,c=this._getItemsArray().length;this._setActiveItemByIndex(s<c?s:c-1,-1);break}return;default:return void((i||AR(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),r="number"==typeof n?n:e.indexOf(n);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+n*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const r=this._getItemsArray();if(r[n]){for(;this._skipPredicateFn(r[n]);)if(!r[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof kg?this._items.toArray():this._items}}class m$ extends g${constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}function VR(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function HR(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const C$=new qt("cdk-input-modality-detector-options"),x$={ignoreKeys:[18,17,224,91,16]},dm=ay({passive:!0,capture:!0});let E$=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(e,r,i,s){this._platform=e,this._mostRecentTarget=null,this._modality=new hn(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(m=>m===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=cm(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(VR(c)?"keyboard":"mouse"),this._mostRecentTarget=cm(c))},this._onTouchstart=c=>{HR(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=cm(c))},this._options={...x$,...s},this.modalityDetected=this._modality.pipe(HE(1)),this.modalityChanged=this.modalityDetected.pipe(tn()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,dm),i.addEventListener("mousedown",this._onMousedown,dm),i.addEventListener("touchstart",this._onTouchstart,dm)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dm),document.removeEventListener("mousedown",this._onMousedown,dm),document.removeEventListener("touchstart",this._onTouchstart,dm))}}return t.\u0275fac=function(e){return new(e||t)(Pt(ec),Pt(Kr),Pt(Di),Pt(C$,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const S$=new qt("cdk-focus-monitor-default-options"),K0=ay({passive:!0,capture:!0});let UR=(()=>{class t{constructor(e,r,i,s,c){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new It,this._rootNodeFocusAndBlurListener=m=>{for(let O=cm(m);O;O=O.parentElement)"focus"===m.type?this._onFocus(m,O):this._onBlur(m,O)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(e,r=!1){const i=sm(e);if(!this._platform.isBrowser||1!==i.nodeType)return tt();const s=function F6(t){if(function L6(){if(null==PE){const t=typeof document<"u"?document.head:null;PE=!(!t||!t.createShadowRoot&&!t.attachShadow)}return PE}()){const n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const m={checkChildren:r,subject:new It,rootNode:s};return this._elementInfo.set(i,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const r=sm(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const s=sm(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([m,_])=>this._originChanged(m,r,_)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),s=cm(e);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,K0),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,K0)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ju(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,K0),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,K0),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,s)=>{(s===e||i.checkChildren&&s.contains(e))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(r))return!0;return!1}}return t.\u0275fac=function(e){return new(e||t)(Pt(Kr),Pt(ec),Pt(E$),Pt(Di,8),Pt(S$,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),T$=(()=>{class t{constructor(e,r){this._elementRef=e,this._focusMonitor=r,this._focusOrigin=null,this.cdkFocusChange=new ur}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(UR))},t.\u0275dir=un({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),t})();const GR="cdk-high-contrast-black-on-white",jR="cdk-high-contrast-white-on-black",zE="cdk-high-contrast-active";let WR=(()=>{class t{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=nn(f$).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(zE,GR,jR),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(zE,GR):2===r&&e.add(zE,jR)}}}return t.\u0275fac=function(e){return new(e||t)(Pt(ec),Pt(Di))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),M$=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(Pt(WR))},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({imports:[RR]}),t})();const A$=new qt("mat-sanity-checks",{providedIn:"root",factory:function I$(){return!0}});let ed=(()=>{class t{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function B6(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return t.\u0275fac=function(e){return new(e||t)(Pt(WR),Pt(A$,8),Pt(Di))},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({imports:[MR,MR]}),t})();function q0(t){return class extends t{get disabled(){return this._disabled}set disabled(n){this._disabled=hl(n)}constructor(...n){super(...n),this._disabled=!1}}}function UE(t,n){return class extends t{get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...e){super(...e),this.defaultColor=n,this.color=n}}}function XR(t){return class extends t{get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=hl(n)}constructor(...n){super(...n),this._disableRipple=!1}}}function O$(t,n=0){return class extends t{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?dh(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=n,this.defaultTabIndex=n}}}class R${constructor(n,e,r,i=!1){this._renderer=n,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const KR=ay({passive:!0,capture:!0});class k${constructor(){this._events=new Map,this._delegateEventHandler=n=>{const e=cm(n);e&&this._events.get(n.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(s=>s.handleEvent(n))})}}addHandler(n,e,r,i){const s=this._events.get(e);if(s){const c=s.get(r);c?c.add(i):s.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,KR)})}removeHandler(n,e,r){const i=this._events.get(n);if(!i)return;const s=i.get(e);s&&(s.delete(r),0===s.size&&i.delete(e),0===i.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,KR)))}}const qR={enterDuration:225,exitDuration:150},ZR=ay({passive:!0,capture:!0}),QR=["mousedown","touchstart"],JR=["mouseup","mouseleave","touchend","touchcancel"];class fm{constructor(n,e,r,i){this._target=n,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=sm(r))}fadeInRipple(n,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...qR,...r.animation};r.centered&&(n=i.left+i.width/2,e=i.top+i.height/2);const c=r.radius||function L$(t,n,e){const r=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),i=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(r*r+i*i)}(n,e,i),m=n-i.left,_=e-i.top,O=s.enterDuration,U=document.createElement("div");U.classList.add("mat-ripple-element"),U.style.left=m-c+"px",U.style.top=_-c+"px",U.style.height=2*c+"px",U.style.width=2*c+"px",null!=r.color&&(U.style.backgroundColor=r.color),U.style.transitionDuration=`${O}ms`,this._containerElement.appendChild(U);const K=window.getComputedStyle(U),ve=K.transitionDuration,Me="none"===K.transitionProperty||"0s"===ve||"0s, 0s"===ve||0===i.width&&0===i.height,Fe=new R$(this,U,r,Me);U.style.transform="scale3d(1, 1, 1)",Fe.state=0,r.persistent||(this._mostRecentTransientRipple=Fe);let Xe=null;return!Me&&(O||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ct=()=>this._finishRippleTransition(Fe),qe=()=>this._destroyRipple(Fe);U.addEventListener("transitionend",ct),U.addEventListener("transitioncancel",qe),Xe={onTransitionEnd:ct,onTransitionCancel:qe}}),this._activeRipples.set(Fe,Xe),(Me||!O)&&this._finishRippleTransition(Fe),Fe}fadeOutRipple(n){if(2===n.state||3===n.state)return;const e=n.element,r={...qR,...n.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=sm(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,QR.forEach(r=>{fm._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{JR.forEach(e=>{this._triggerElement.addEventListener(e,this,ZR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const e=n===this._mostRecentTransientRipple,{persistent:r}=n.config;n.state=1,!r&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==e&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){const e=VR(n),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!HR(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(QR.forEach(e=>fm._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&JR.forEach(e=>n.removeEventListener(e,this,ZR)))}}fm._eventManager=new k$;const ek=new qt("mat-ripple-global-options");let GE=(()=>{class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,i,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new fm(this,r,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(Kr),Ye(ec),Ye(ek,8),Ye(Bc,8))},t.\u0275dir=un({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&Ga("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),t})(),tk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({imports:[ed,ed]}),t})();const F$=O$(q0(Jc));let nk=(()=>{class t extends F${constructor(e,r,i){super(e,r),this.tabIndex=Number(i)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(ff),y("tabindex"))},t.\u0275dir=un({type:t,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[Xr([{provide:Jc,useExisting:t}]),Zn]}),t})(),rk=(()=>{class t extends $0{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=un({type:t,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[Xr([{provide:$0,useExisting:t}]),Zn]}),t})(),ik=(()=>{class t extends OE{get disabled(){return this._disabled}set disabled(e){this._disabled=hl(e)}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=e??0}constructor(e,r,i,s){super(e,r,i),this._disabled=!1,this.tabIndex=Number(s)||0}ngOnInit(){super.ngOnInit()}ngAfterContentInit(){super.ngAfterContentInit()}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(ff),Ye(cp),y("tabindex"))},t.\u0275dir=un({type:t,selectors:[["mat-nested-tree-node"]],hostAttrs:[1,"mat-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex",node:["matNestedTreeNode","node"]},exportAs:["matNestedTreeNode"],features:[Xr([{provide:OE,useExisting:t},{provide:Jc,useExisting:t},{provide:W0,useExisting:t}]),Zn]}),t})(),Z0=(()=>{class t{constructor(e,r){this.viewContainer=e,this._node=r}}return t.\u0275fac=function(e){return new(e||t)(Ye(ja),Ye(W0,8))},t.\u0275dir=un({type:t,selectors:[["","matTreeNodeOutlet",""]],features:[Xr([{provide:iy,useExisting:t}])]}),t})(),ok=(()=>{class t extends ff{constructor(){super(...arguments),this._nodeOutlet=void 0}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275cmp=cr({type:t,selectors:[["mat-tree"]],viewQuery:function(e,r){if(1&e&&Nn(Z0,7),2&e){let i;xn(i=En())&&(r._nodeOutlet=i.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[Xr([{provide:ff,useExisting:t}]),Zn],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(e,r){1&e&&Zm(0,0)},dependencies:[Z0],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2}),t})(),ak=(()=>{class t extends RE{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=un({type:t,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[Xr([{provide:RE,useExisting:t}]),Zn]}),t})(),V$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({imports:[k6,ed,ed]}),t})();class H$ extends _6{constructor(){super(...arguments),this._data=new hn([])}get data(){return this._data.value}set data(n){this._data.next(n)}connect(n){return rt(n.viewChange,this._data).pipe(St(()=>this.data))}disconnect(){}}const z$=["*"];let Q0;function uy(t){return function U$(){if(void 0===Q0&&(Q0=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(Q0=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return Q0}()?.createHTML(t)||t}function sk(t){return Error(`Unable to find icon with the name "${t}"`)}function lk(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function uk(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Ip{constructor(n,e,r){this.url=n,this.svgText=e,this.options=r}}let J0=(()=>{class t{constructor(e,r,i,s){this._httpClient=e,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,s){return this._addSvgIconConfig(e,r,new Ip(i,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,s){const c=this._sanitizer.sanitize(pi.HTML,i);if(!c)throw uk(i);const m=uy(c);return this._addSvgIconConfig(e,r,new Ip("",m,s))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Ip(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const s=this._sanitizer.sanitize(pi.HTML,r);if(!s)throw uk(r);const c=uy(s);return this._addSvgIconSetConfig(e,new Ip("",c,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(pi.RESOURCE_URL,e);if(!r)throw lk(e);const i=this._cachedIconsByUrl.get(r);return i?tt(e_(i)):this._loadSvgIconFromConfig(new Ip(e,null)).pipe(oa(s=>this._cachedIconsByUrl.set(r,s)),St(s=>e_(s)))}getNamedSvgIcon(e,r=""){const i=ck(r,e);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,e),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(e,c):Vg(sk(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?tt(e_(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(St(r=>e_(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?tt(i):DA(r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe($c(m=>{const O=`Loading icon set URL: ${this._sanitizer.sanitize(pi.RESOURCE_URL,c.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(O)),tt(null)})))).pipe(St(()=>{const c=this._extractIconWithNameFromAnySet(e,r);if(!c)throw sk(e);return c}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),m=this._extractSvgIconFromSet(c,e,s.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(oa(r=>e.svgText=r),St(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?tt(null):this._fetchIcon(e).pipe(oa(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const s=e.querySelector(`[id="${r}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,i);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),i);const m=this._svgElementFromString(uy("<svg></svg>"));return m.appendChild(c),this._setSvgAttributes(m,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(uy("<svg></svg>")),i=e.attributes;for(let s=0;s<i.length;s++){const{name:c,value:m}=i[s];"id"!==c&&r.setAttribute(c,m)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,s=i?.withCredentials??!1;if(!this._httpClient)throw function G$(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const c=this._sanitizer.sanitize(pi.RESOURCE_URL,r);if(!c)throw lk(r);const m=this._inProgressUrlFetches.get(c);if(m)return m;const _=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe(St(O=>uy(O)),zg(()=>this._inProgressUrlFetches.delete(c)),Qt());return this._inProgressUrlFetches.set(c,_),_}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(ck(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,e);if(s)return W$(s)?new Ip(s.url,null,s.options):new Ip(s,null)}}}return t.\u0275fac=function(e){return new(e||t)(Pt(b0,8),Pt(Pb),Pt(Di,8),Pt(Vc))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function e_(t){return t.cloneNode(!0)}function ck(t,n){return t+":"+n}function W$(t){return!(!t.url||!t.options)}const $$=UE(class{constructor(t){this._elementRef=t}}),Y$=new qt("MAT_ICON_DEFAULT_OPTIONS"),X$=new qt("mat-icon-location",{providedIn:"root",factory:function K$(){const t=nn(Di),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),dk=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],q$=dk.map(t=>`[${t}]`).join(", "),Z$=/^url\(['"]?#(.*?)['"]?\)$/;let Q$=(()=>{class t extends $${get inline(){return this._inline}set inline(e){this._inline=hl(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,i,s,c,m){super(e),this._iconRegistry=r,this._location=s,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=C.EMPTY,m&&(m.color&&(this.color=this.defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(q$),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)dk.forEach(c=>{const m=r[s],_=m.getAttribute(c),O=_?_.match(Z$):null;if(O){let U=i.get(m);U||(U=[],i.set(m,U)),U.push({name:c,value:O[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Wc(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(J0),y("aria-hidden"),Ye(X$),Ye(Vc),Ye(Y$,8))},t.\u0275cmp=cr({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,r){2&e&&(Ts("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ga("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Zn],ngContentSelectors:z$,decls:1,vars:0,template:function(e,r){1&e&&(rp(),ip(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),t})(),J$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({imports:[ed,ed]}),t})();const t9=["mat-icon-button",""],n9=["*"],fk={capture:!0},hk=["focus","click","mouseenter","touchstart"],cy="mat-button-ripple-uninitialized";let r9=(()=>{class t{constructor(){this._document=nn(Di,{optional:!0}),this._animationMode=nn(Bc,{optional:!0}),this._globalRippleOptions=nn(ek,{optional:!0}),this._platform=nn(ec),this._ngZone=nn(Kr),this._onInteraction=e=>{if(e.target===this._document)return;const i=e.target.closest(`[${cy}]`);i&&(i.removeAttribute(cy),this._appendRipple(i))},this._ngZone.runOutsideAngular(()=>{for(const e of hk)this._document?.addEventListener(e,this._onInteraction,fk)})}ngOnDestroy(){for(const e of hk)this._document?.removeEventListener(e,this._onInteraction,fk)}_appendRipple(e){if(!this._document)return;const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new i9(e,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);i.rippleConfig.centered=e.hasAttribute("mat-icon-button"),new fm(i,this._ngZone,r,this._platform).setupTriggerEvents(e),e.append(r)}_createMatRipple(e){if(!this._document)return;e.querySelector(".mat-mdc-button-ripple")?.remove(),e.removeAttribute(cy);const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new GE(new ii(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return i._isInitialized=!0,i.trigger=e,e.append(r),i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class i9{constructor(n,e,r){this._button=n,this._globalRippleOptions=e,this._setRippleConfig(e,r)}_setRippleConfig(n,e){this.rippleConfig=n||{},"NoopAnimations"===e&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const o9=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],a9=UE(q0(XR(class{constructor(t){this._elementRef=t}})));let s9=(()=>{class t extends a9{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(e){this._ripple=e}constructor(e,r,i,s){super(e),this._platform=r,this._ngZone=i,this._animationMode=s,this._focusMonitor=nn(UR),this._rippleLoader=nn(r9),this._isFab=!1;const c=e.nativeElement.classList;for(const m of o9)this._hasHostAttributes(m.selector)&&m.mdcClasses.forEach(_=>{c.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...e){return e.some(r=>this._elementRef.nativeElement.hasAttribute(r))}}return t.\u0275fac=function(e){K_()},t.\u0275dir=un({type:t,features:[Zn,Ca]}),t})(),c9=(()=>{class t extends s9{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(e,r,i,s){super(e,r,i,s)}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(ec),Ye(Kr),Ye(Bc,8))},t.\u0275cmp=cr({type:t,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,r){2&e&&(Ts("disabled",r.disabled||null),Ga("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Zn],attrs:t9,ngContentSelectors:n9,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(rp(),dn(0,"span",0),ip(1),dn(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),t})(),d9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({imports:[ed,tk,ed]}),t})();const f9=function(){return{border:"none","padding-left":"10px"}};function h9(t,n){1&t&&(je(0,"ul",7),Zm(1,8),Ge()),2&t&&Wt("ngStyle",pb(1,f9))}const p9=function(){return{border:"2px solid #00a9e0","border-radius":"5px","padding-left":"10px","margin-bottom":"10px",width:"100%"}};function g9(t,n){if(1&t&&(je(0,"mat-nested-tree-node")(1,"li",3)(2,"div",4)(3,"button",5)(4,"mat-icon"),mt(5),Ge()(),mt(6),Ge(),sr(7,h9,2,2,"ul",6),Ge()()),2&t){const e=n.$implicit,r=Or();Bt(1),Wt("ngStyle",pb(4,p9)),Bt(4),Pl(" ",r.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),Bt(1),Pl(" ",e.name," "),Bt(1),Wt("ngIf",r.treeControl.isExpanded(e))}}const m9=function(t){return{selected:t}},v9=function(){return{"padding-left":"10px","padding-right":"10px",width:"100%"}};function y9(t,n){if(1&t){const e=Ua();je(0,"mat-tree-node")(1,"li",9),wn("dblclick",function(){const s=Ln(e).$implicit;return ni(Or().onNodeDoubleClick(s))}),je(2,"div",10),wn("click",function(){const s=Ln(e).$implicit;return ni(Or().onNodeSelect(s))}),dn(3,"button",11),mt(4),Ge()()()}if(2&t){const e=n.$implicit,r=Or();Bt(1),Jm("background-color",e===r.selectedNode?"#00a9e0":"transparent")("color",e===r.selectedNode?"white":"black"),Wt("ngClass",Yu(7,m9,e===r.selectedNode))("ngStyle",pb(9,v9)),Bt(3),Pl(" ",e.name," ")}}let pk=(()=>{class t{constructor(){this.fileTree=[],this.nodeSelected=new ur,this.nodeDoubleClicked=new ur,this.selectedNode=null,this.treeControl=new I6(e=>e.children),this.dataSource=new H$}ngOnInit(){this.fileTree?this.updateTreeData():console.error("File tree data not available")}ngOnChanges(e){e.fileTree&&this.updateTreeData()}updateTreeData(){if(this.fileTree&&Array.isArray(this.fileTree)){const e=this.sortTree(this.fileTree);this.dataSource.data=e,this.treeControl.dataNodes=e}else console.error("fileTree is not initialized or empty")}onNodeSelect(e){e?e.isDirectory?console.log("Cannot select directories."):(this.selectedNode=e,this.nodeSelected.emit(e.path)):console.error("Node is undefined or invalid")}onNodeDoubleClick(e){e.isDirectory||this.nodeDoubleClicked.emit(e.path)}sortTree(e){return e.map(r=>(r.children&&r.children.length>0&&(r.children=this.sortTree(r.children)),r)).sort((r,i)=>r.isDirectory&&!i.isDirectory?-1:!r.isDirectory&&i.isDirectory?1:r.name.localeCompare(i.name))}isDirectory(e,r){return r?.isDirectory??!1}isFile(e,r){return!r?.isDirectory}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-file-tree"]],inputs:{fileTree:"fileTree"},outputs:{nodeSelected:"nodeSelected",nodeDoubleClicked:"nodeDoubleClicked"},features:[Ca],decls:4,vars:4,consts:[[1,"filetreecontainer"],[3,"dataSource","treeControl"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"tree-node-wrapper","folder-node",3,"ngStyle"],[1,"mat-tree-node"],["mat-icon-button","","matTreeNodeToggle",""],["class","folder-contents",3,"ngStyle",4,"ngIf"],[1,"folder-contents",3,"ngStyle"],["matTreeNodeOutlet",""],[1,"tree-node-wrapper","file-node",3,"ngClass","ngStyle","dblclick"],[3,"click"],["mat-icon-button","","disabled",""]],template:function(e,r){1&e&&(je(0,"div",0)(1,"mat-tree",1),sr(2,g9,8,5,"mat-nested-tree-node",2),sr(3,y9,5,10,"mat-tree-node",2),Ge()()),2&e&&(Bt(1),Wt("dataSource",r.dataSource)("treeControl",r.treeControl),Bt(1),Wt("matTreeNodeDefWhen",r.isDirectory),Bt(1),Wt("matTreeNodeDefWhen",r.isFile))},dependencies:[fv,fl,wC,ik,rk,ak,ok,nk,Z0,Q$,c9],styles:["[_ngcontent-%COMP%]:root{--highlight-color: #00a9e0}.mat-tree-node[_ngcontent-%COMP%]{cursor:pointer;padding:5px;display:flex;align-items:center;width:100%;box-sizing:border-box}.mat-tree-node[_ngcontent-%COMP%]:hover{background-color:#00a9e040}.tree-node-wrapper[_ngcontent-%COMP%]{display:block;width:100%;margin:0;box-sizing:border-box}.folder-node[_ngcontent-%COMP%]{margin-bottom:10px}.folder-contents[_ngcontent-%COMP%]{margin-top:5px;border:2px solid var(--highlight-color);border-radius:5px;padding:10px;box-sizing:border-box}li[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;box-sizing:border-box}div.filetreecontainer[_ngcontent-%COMP%]{width:760px;border:2px solid var(--highlight-color);border-radius:5px;padding:10px;box-sizing:border-box;overflow:hidden}"]}),t})();const b9=["grammarListSelector"],_9=["statusMessage"],w9=["toggleDisplayComponent"];let t_=(()=>{class t{constructor(e,r){this.dataService=e,this.cd=r,this.grammarList=[],this.defaultGrammar="./grammars/fracas_inference_grammar/main_fracas_grammar.lfg.glue",this.grammarsDirectory="./grammars",this.currentStatusMessage="",this.grammarFileTree=[],this.selectedPath=""}ngOnInit(){this.getGrammars(this.grammarsDirectory),console.log("Initial file tree:",this.grammarFileTree),this.selectedPath=this.defaultGrammar,this.updateGrammar()}ngAfterViewInit(){this.toggleDisplayComponent?this.toggleDisplayComponent.isHidden=!0:console.error("toggleDisplayComponent is still undefined in ngAfterViewInit.")}onFileSelected(e){console.log("Selected path from file tree:",e),this.selectedPath=e}updateGrammar(){this.selectedPath?(console.log("Changing grammar to: "+this.selectedPath),this.dataService.changeGrammar({grammar:this.selectedPath}).subscribe(e=>{console.log(e),e.hasOwnProperty("grammar")&&"success"===e.grammar?(console.log("Successfully changed grammar to: "+this.selectedPath),this.currentStatusMessage="Currently loaded grammar: "+this.selectedPath,this.cd.detectChanges(),this.toggleDisplayComponent.isHidden=!0):this.currentStatusMessage="Failed to load grammar: "+this.selectedPath},e=>{console.log("ERROR: ",e),this.currentStatusMessage="Failed to load grammar: "+this.selectedPath})):console.error("No file or folder selected!")}getGrammars(e){console.log("Fetching grammars via POST request"),this.dataService.getFileTree({grammar:e}).subscribe(r=>{console.log(r),r.hasOwnProperty("children")&&(console.log("Grammar file tree:",r.children),this.grammarFileTree=this.buildFileTree(r.children))},r=>{console.error("Failed to fetch grammars:",r)})}buildFileTree(e){return e.map(r=>({name:r.name,path:r.path,isDirectory:r.isDirectory||r.directory,children:r.children&&r.children.length>0?this.buildFileTree(r.children):[]}))}}return t.\u0275fac=function(e){return new(e||t)(Ye(tm),Ye(ls))},t.\u0275cmp=cr({type:t,selectors:[["app-grammar-loader"]],viewQuery:function(e,r){if(1&e&&(Nn(b9,5),Nn(_9,5),Nn(w9,5)),2&e){let i;xn(i=En())&&(r.grammarListSelector=i.first),xn(i=En())&&(r.statusMessageDiv=i.first),xn(i=En())&&(r.toggleDisplayComponent=i.first)}},decls:9,vars:2,consts:[[1,"status-message"],["statusMessage",""],["type","fileTree","showText","Select file","hideText","Hide file selection"],["toggleDisplayComponent",""],[3,"fileTree","nodeSelected","nodeDoubleClicked"],[3,"click"]],template:function(e,r){1&e&&(je(0,"div",0,1),mt(2),Ge(),je(3,"app-toggle-display",2,3)(5,"div")(6,"app-file-tree",4),wn("nodeSelected",function(s){return r.onFileSelected(s)})("nodeDoubleClicked",function(){return r.updateGrammar()}),Ge(),je(7,"button",5),wn("click",function(){return r.updateGrammar()}),mt(8,"Update"),Ge()()()),2&e&&(Bt(2),Pl(" ",r.currentStatusMessage,"\n"),Bt(4),Wt("fileTree",r.grammarFileTree))},dependencies:[am,pk],styles:[".status-message[_ngcontent-%COMP%]{color:red}"]}),t})();const C9=["edit1"],x9=["rl1"],E9=["cy1"],D9=["textareaElement"],S9=["errorhandle"];function T9(t,n){1&t&&(je(0,"span"),mt(1,"Parse and rewrite"),Ge())}function M9(t,n){1&t&&dn(0,"span",18)}function I9(t,n){1&t&&(je(0,"span"),mt(1,"Loading..."),Ge())}function A9(t,n){1&t&&(je(0,"span"),mt(1,"Extract multi-stage"),Ge())}function O9(t,n){1&t&&dn(0,"span",18)}function N9(t,n){1&t&&(je(0,"span"),mt(1,"Loading..."),Ge())}let gk=(()=>{class t{constructor(e){this.dataService=e,this.defaultValue="Every man hugged a woman.",this.changeDetector=new ur,this.loading=!1}analyzeSentence(e,r){this.loading=!0,this.errorhandle.nativeElement.innerHTML="",this.dataService.ligerAnnotate({sentence:e,ruleString:r}).subscribe(c=>{if(this.loading=!1,this.errorhandle.nativeElement.innerHTML="",c.hasOwnProperty("graph")?c.graph.hasOwnProperty("graphElements")&&(0!=c.graph.graphElements.length?(console.log(c.graph.graphElements),this.cy1.renderGraph(c.graph.graphElements),this.graphElements=c.graph.graphElements,this.displayMessage("Parsing successful...","green")):this.displayMessage("Parsing failed...","red")):this.displayMessage("Parsing failed...","red"),c.hasOwnProperty("appliedRules")&&null!==c.appliedRules){console.log(c.appliedRules),this.rulelist1.clearList();for(let m=0;m<c.appliedRules.length;m++)this.rulelist1.addElement({rule:c.appliedRules[m],index:m})}c.hasOwnProperty("meaningConstructors")&&(console.log(c.meaningConstructors),this.meaningConstructors=c.meaningConstructors,this.changeDetector.emit(c.meaningConstructors)),c.hasOwnProperty("axioms")&&console.log("Axioms: ",c.axioms)},c=>{this.loading=!1,console.log("ERROR: ",c),this.displayMessage("An error occurred while calling LiGER...","red")})}parseSentence(e,r){const i=e;this.errorhandle.nativeElement.innerHTML="",this.loading=!0,this.dataService.ligerMulti({sentence:i,ruleString:""}).subscribe(c=>{this.loading=!1,c.hasOwnProperty("graph")?c.graph.hasOwnProperty("graphElements")&&(0!=c.graph.graphElements.length?(console.log(c.graph.graphElements),this.cy1.renderGraph(c.graph.graphElements),this.graphElements=c.graph.graphElements):this.displayMessage("Parsing failed...","red")):this.displayMessage("Parsing failed...","red"),c.hasOwnProperty("meaningConstructors")&&(console.log(c.meaningConstructors),this.meaningConstructors=c.meaningConstructors,this.changeDetector.emit(c.meaningConstructors))},c=>{console.log("ERROR: ",c),this.displayMessage("An error occurred...","red"),this.loading=!1})}calculateFromRuleList(e){let r=[];for(let s=0;s<=e.index;s++)r.push(this.rulelist1.elements[s].rule);console.log("New rules: \n",r);let i=r.map(s=>s.rule).join("\n");i="--replace(true);\n"+i,console.log("Rule string: \n",i),this.analyzeSentence(this.textarea.nativeElement.value,i)}showDialog(){this.cy1.subgraphDialog.setContent(this.graphElements),this.cy1.subgraphDialog.showDialog()}displayMessage(e,r){this.errorhandle.nativeElement.style.color=r,this.errorhandle.nativeElement.innerHTML="["+(new Date).toLocaleTimeString()+"] "+e}}return t.\u0275fac=function(e){return new(e||t)(Ye(tm))},t.\u0275cmp=cr({type:t,selectors:[["app-liger-vis"]],viewQuery:function(e,r){if(1&e&&(Nn(C9,5),Nn(x9,5),Nn(E9,5),Nn(D9,5),Nn(S9,5)),2&e){let i;xn(i=En())&&(r.editor1=i.first),xn(i=En())&&(r.rulelist1=i.first),xn(i=En())&&(r.cy1=i.first),xn(i=En())&&(r.textarea=i.first),xn(i=En())&&(r.errorhandle=i.first)}},decls:37,vars:8,consts:[[3,"value"],["textareaElement",""],[1,"errorhandling"],["errorhandle",""],[3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"button","beta",3,"click"],["type","liger","showText","Show input rules","hideText","Hide input rules"],[1,"editor-restr"],[3,"mode"],["edit1",""],["showText","Show graph vis","hideText","Hide graph vis"],[1,"ligergraphcontainer"],["cy1",""],["type","liger","showText","Show applied rules","hideText","Hide applied rules"],[3,"calculateFromRule"],["rl1",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,r){if(1&e){const i=Ua();je(0,"h3"),mt(1," Test sentence: "),Ge(),dn(2,"textarea",0,1)(4,"br")(5,"div",2,3),je(7,"button",4),wn("click",function(){Ln(i);const c=Gs(3),m=Gs(22);return ni(r.analyzeSentence(c.value,m.getContent()))}),sr(8,T9,2,0,"span",5),sr(9,M9,1,0,"span",6),sr(10,I9,2,0,"span",5),Ge(),je(11,"button",7),wn("click",function(){Ln(i);const c=Gs(3),m=Gs(22);return ni(r.parseSentence(c.value,m.getContent()))}),sr(12,A9,2,0,"span",5),sr(13,O9,1,0,"span",6),sr(14,N9,2,0,"span",5),Ge(),dn(15,"br")(16,"app-grammar-loader"),je(17,"app-toggle-display",8)(18,"h3"),mt(19," Input rules: "),Ge(),je(20,"div",9),dn(21,"app-editor",10,11),Ge()(),je(23,"app-toggle-display",12)(24,"h3"),mt(25," Graph visualization: "),Ge(),je(26,"div",13),dn(27,"app-graph-vis",null,14),je(29,"button",4),wn("click",function(){return r.showDialog()}),mt(30,"Show dialog"),Ge()(),dn(31,"br"),Ge(),je(32,"app-toggle-display",15)(33,"h3"),mt(34," Rule list: "),Ge(),je(35,"app-rule-list",16,17),wn("calculateFromRule",function(c){return r.calculateFromRuleList(c)}),Ge()()}2&e&&(Bt(2),Wt("value",r.defaultValue),Bt(6),Wt("ngIf",!r.loading),Bt(1),Wt("ngIf",r.loading),Bt(1),Wt("ngIf",r.loading),Bt(2),Wt("ngIf",!r.loading),Bt(1),Wt("ngIf",r.loading),Bt(1),Wt("ngIf",r.loading),Bt(7),Wt("mode","liger"))},dependencies:[fl,Ep,p6,y6,am,t_],styles:["textarea[_ngcontent-%COMP%]{width:600px;height:50px;overflow:auto;display:block;resize:none}div.ligergraphcontainer[_ngcontent-%COMP%]{max-width:800px;width:800px;height:650px}div.errorhandling[_ngcontent-%COMP%]{color:red;padding-bottom:10px}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}"]}),t})();const R9=["l1"],k9=["g1"];function P9(t,n){if(1&t){const e=Ua();je(0,"button",6),wn("click",function(){Ln(e);const i=Or();return ni(i.isFirstDivMinimized=!i.isFirstDivMinimized)}),mt(1," >> "),Ge()}}function L9(t,n){if(1&t){const e=Ua();je(0,"button",6),wn("click",function(){Ln(e);const i=Or();return ni(i.isSecondDivMinimized=!i.isSecondDivMinimized)}),mt(1," << "),Ge()}}const mk=function(t){return{display:t}};let F9=(()=>{class t{constructor(){this.isFirstDivMinimized=!1,this.isSecondDivMinimized=!1}ngAfterViewInit(){this.liger.changeDetector.subscribe(e=>{this.glue.editor1.updateContent(e)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-glue-interface"]],viewQuery:function(e,r){if(1&e&&(Nn(R9,5),Nn(k9,5)),2&e){let i;xn(i=En())&&(r.liger=i.first),xn(i=En())&&(r.glue=i.first)}},decls:13,vars:8,consts:[[1,"container"],[1,"scrollable-div",3,"ngStyle"],[1,"toggle-button",3,"click"],["l1",""],["class","toggle-button-max",3,"click",4,"ngIf"],["g1",""],[1,"toggle-button-max",3,"click"]],template:function(e,r){1&e&&(je(0,"div",0)(1,"div",1)(2,"button",2),wn("click",function(){return r.isFirstDivMinimized=!r.isFirstDivMinimized}),mt(3," << "),Ge(),dn(4,"app-liger-vis",null,3),Ge(),sr(6,P9,2,0,"button",4),je(7,"div",1)(8,"button",2),wn("click",function(){return r.isSecondDivMinimized=!r.isSecondDivMinimized}),mt(9," >> "),Ge(),dn(10,"app-gswb-vis",null,5),Ge(),sr(12,L9,2,0,"button",4),Ge()),2&e&&(Bt(1),Wt("ngStyle",Yu(4,mk,r.isFirstDivMinimized?"none":"block")),Bt(5),Wt("ngIf",r.isFirstDivMinimized),Bt(1),Wt("ngStyle",Yu(6,mk,r.isSecondDivMinimized?"none":"block")),Bt(5),Wt("ngIf",r.isSecondDivMinimized))},dependencies:[fl,wC,ER,gk],styles:[".toggle-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:50px;height:100%;background-color:#fff;border:none;cursor:pointer;opacity:0;transition:opacity .3s;font-weight:700}.toggle-button[_ngcontent-%COMP%]:hover{opacity:.8;background:#00a9e0;color:#fff;border-radius:10px}.toggle-button-max[_ngcontent-%COMP%]{width:50px;height:100vh;font-weight:700;background-color:#fff;border:none;cursor:pointer}.toggle-button-max[_ngcontent-%COMP%]:hover{opacity:.2;background:#00a9e0;color:#fff;border-radius:10px}",".container[_ngcontent-%COMP%] {\n    padding: 15px;\n    display: flex;\n    flex-wrap: nowrap;\n  }\n  .scrollable-div[_ngcontent-%COMP%] {\n    position: relative;\n    flex: 1;\n    overflow-y: auto;\n    max-height: 100vh;\n    flex-basis: 50%;\n    padding-left: 60px\n  }\n\n  \n\n  @media (max-width: 1400px) {\n    .container[_ngcontent-%COMP%] {\n      flex-direction: column;\n    }\n    .scrollable-div[_ngcontent-%COMP%] {\n      max-height: none;\n      overflow-y: initial;\n    }\n  }"]}),t})();class jE{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class B9 extends jE{constructor(n,e,r,i,s){super(),this.component=n,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class WE extends jE{constructor(n,e,r,i){super(),this.templateRef=n,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class V9 extends jE{constructor(n){super(),this.element=n instanceof ii?n.nativeElement:n}}class H9{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof B9?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof WE?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof V9?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}let z9=(()=>{class t extends WE{constructor(e,r){super(e,r)}}return t.\u0275fac=function(e){return new(e||t)(Ye(Ws),Ye(ja))},t.\u0275dir=un({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Zn]}),t})(),$E=(()=>{class t extends H9{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new ur,this.attachDomPortal=s=>{const c=s.element,m=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(m,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(c,m)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=r.createComponent(s,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return t.\u0275fac=function(e){return new(e||t)(Ye(vg),Ye(ja),Ye(Di))},t.\u0275dir=un({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Zn]}),t})(),U9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({}),t})();const G9=["addListener","removeListener"],j9=["addEventListener","removeEventListener"],W9=["on","off"];function dy(t,n,e,r){if(T(e)&&(r=e,e=void 0),r)return dy(t,n,e).pipe(LC(r));const[i,s]=function X9(t){return T(t.addEventListener)&&T(t.removeEventListener)}(t)?j9.map(c=>m=>t[c](n,m,e)):function $9(t){return T(t.addListener)&&T(t.removeListener)}(t)?G9.map(vk(t,n)):function Y9(t){return T(t.on)&&T(t.off)}(t)?W9.map(vk(t,n)):[];if(!i&&Oa(t))return Zi(c=>dy(c,n,e))(Ro(t));if(!i)throw new TypeError("Invalid event target");return new Ze(c=>{const m=(..._)=>c.next(1<_.length?_:_[0]);return i(m),()=>s(m)})}function vk(t,n){return e=>r=>t[e](n,r)}function yk(t=0,n,e=a$){let r=-1;return null!=n&&(Tn(n)?e=n:r=n),new Ze(i=>{let s=function K9(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;s<0&&(s=0);let c=0;return e.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},s)})}const fy={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=fy;r&&(n=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=n(s=>{e=void 0,t(s)});return new C(()=>e?.(i))},requestAnimationFrame(...t){const{delegate:n}=fy;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=fy;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class Z9 extends FE{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class q9 extends LE{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=fy.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:s}=n;null!=e&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==e&&(fy.cancelAnimationFrame(e),n._scheduled=void 0)}});let YE,J9=1;const n_={};function bk(t){return t in n_&&(delete n_[t],!0)}const e7={setImmediate(t){const n=J9++;return n_[n]=!0,YE||(YE=Promise.resolve()),YE.then(()=>bk(n)&&t()),n},clearImmediate(t){bk(t)}},{setImmediate:t7,clearImmediate:n7}=e7,r_={setImmediate(...t){const{delegate:n}=r_;return(n?.setImmediate||t7)(...t)},clearImmediate(t){const{delegate:n}=r_;return(n?.clearImmediate||n7)(t)},delegate:void 0};new class i7 extends FE{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class r7 extends LE{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=r_.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:s}=n;null!=e&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==e&&(r_.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}});let XE=(()=>{class t{constructor(e,r,i){this._platform=e,this._change=new It,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,s=i.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(function s7(t,n=BE){return function a7(t){return it((n,e)=>{let r=!1,i=null,s=null,c=!1;const m=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const O=i;i=null,e.next(O)}c&&e.complete()},_=()=>{s=null,c&&e.complete()};n.subscribe(pt(e,O=>{r=!0,i=O,s||Ro(t(O)).subscribe(s=pt(e,m,_))},()=>{c=!0,(!r||!s||s.closed)&&e.complete()}))})}(()=>yk(t,n))}(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Pt(ec),Pt(Kr),Pt(Di,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function u7(t,n){}const c7=function(t){return{animationDuration:t}},d7=function(t,n){return{value:t,params:n}};function f7(t,n){1&t&&ip(0)}const _k=["*"],h7=["tabListContainer"],p7=["tabList"],g7=["tabListInner"],m7=["nextPaginator"],v7=["previousPaginator"],y7=["tabBodyWrapper"],b7=["tabHeader"];function _7(t,n){}function w7(t,n){1&t&&sr(0,_7,0,0,"ng-template",14),2&t&&Wt("cdkPortalOutlet",Or().$implicit.templateLabel)}function C7(t,n){1&t&&mt(0),2&t&&ap(Or().$implicit.textLabel)}function x7(t,n){if(1&t){const e=Ua();je(0,"div",6,7),wn("click",function(){const i=Ln(e),s=i.$implicit,c=i.index,m=Or(),_=Gs(1);return ni(m._handleClick(s,_,c))})("cdkFocusChange",function(i){const c=Ln(e).index;return ni(Or()._tabFocusChanged(i,c))}),dn(2,"span",8)(3,"div",9),je(4,"span",10)(5,"span",11),sr(6,w7,1,1,"ng-template",12),sr(7,C7,1,1,"ng-template",null,13,ST),Ge()()()}if(2&t){const e=n.$implicit,r=n.index,i=Gs(1),s=Gs(8),c=Or();Ga("mdc-tab--active",c.selectedIndex===r),Wt("id",c._getTabLabelId(r))("ngClass",e.labelClass)("disabled",e.disabled)("fitInkBarToContent",c.fitInkBarToContent),Ts("tabIndex",c._getTabIndex(r))("aria-posinset",r+1)("aria-setsize",c._tabs.length)("aria-controls",c._getTabContentId(r))("aria-selected",c.selectedIndex===r)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),Bt(3),Wt("matRippleTrigger",i)("matRippleDisabled",e.disabled||c.disableRipple),Bt(3),Wt("ngIf",e.templateLabel)("ngIfElse",s)}}function E7(t,n){if(1&t){const e=Ua();je(0,"mat-tab-body",15),wn("_onCentered",function(){return Ln(e),ni(Or()._removeTabBodyWrapperHeight())})("_onCentering",function(i){return Ln(e),ni(Or()._setTabBodyWrapperHeight(i))}),Ge()}if(2&t){const e=n.$implicit,r=n.index,i=Or();Ga("mat-mdc-tab-body-active",i.selectedIndex===r),Wt("id",i._getTabContentId(r))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",i.animationDuration)("preserveContent",i.preserveContent),Ts("tabindex",null!=i.contentTabIndex&&i.selectedIndex===r?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(r))}}const D7={translateTab:_G("translateTab",[Rx("center, void, left-origin-center, right-origin-center",_p({transform:"none"})),Rx("left",_p({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Rx("right",_p({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),kx("* => left, * => right, left => center, right => center",Nx("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),kx("void => left-origin-center",[_p({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Nx("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),kx("void => right-origin-center",[_p({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Nx("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let S7=(()=>{class t extends $E{constructor(e,r,i,s){super(e,r,s),this._host=i,this._centeringSub=C.EMPTY,this._leavingSub=C.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(gv(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ye(vg),Ye(ja),Ye(On(()=>wk)),Ye(Di))},t.\u0275dir=un({type:t,selectors:[["","matTabBodyHost",""]],features:[Zn]}),t})(),T7=(()=>{class t{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,r,i){this._elementRef=e,this._dir=r,this._dirChangeSubscription=C.EMPTY,this._translateTabComplete=new It,this._onCentering=new ur,this._beforeCentering=new ur,this._afterLeavingCenter=new ur,this._onCentered=new ur(!0),this.animationDuration="500ms",this.preserveContent=!1,r&&(this._dirChangeSubscription=r.change.subscribe(s=>{this._computePositionAnimationState(s),i.markForCheck()})),this._translateTabComplete.pipe(tn((s,c)=>s.fromState===c.fromState&&s.toState===c.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const r=this._isCenterPosition(e.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const r=this._getLayoutDirection();return"ltr"==r&&e<=0||"rtl"==r&&e>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(lm,8),Ye(ls))},t.\u0275dir=un({type:t,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),wk=(()=>{class t extends T7{constructor(e,r,i){super(e,r,i)}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(lm,8),Ye(ls))},t.\u0275cmp=cr({type:t,selectors:[["mat-tab-body"]],viewQuery:function(e,r){if(1&e&&Nn($E,5),2&e){let i;xn(i=En())&&(r._portalHost=i.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[Zn],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,r){1&e&&(je(0,"div",0,1),wn("@translateTab.start",function(s){return r._onTranslateTabStarted(s)})("@translateTab.done",function(s){return r._translateTabComplete.next(s)}),sr(2,u7,0,0,"ng-template",2),Ge()),2&e&&Wt("@translateTab",Iw(3,d7,r._position,Yu(1,c7,r.animationDuration)))},dependencies:[S7],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[D7.translateTab]}}),t})();const M7=new qt("MatTabContent");let I7=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(Ye(Ws))},t.\u0275dir=un({type:t,selectors:[["","matTabContent",""]],features:[Xr([{provide:M7,useExisting:t}])]}),t})();const A7=new qt("MatTabLabel"),Ck=new qt("MAT_TAB");let O7=(()=>{class t extends z9{constructor(e,r,i){super(e,r),this._closestTab=i}}return t.\u0275fac=function(e){return new(e||t)(Ye(Ws),Ye(ja),Ye(Ck,8))},t.\u0275dir=un({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Xr([{provide:A7,useExisting:t}]),Zn]}),t})();const KE="mdc-tab-indicator--active",xk="mdc-tab-indicator--no-transition";class N7{constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar())}alignToElement(n){const e=this._items.find(i=>i.elementRef.nativeElement===n),r=this._currentItem;if(e!==r&&(r?.deactivateInkBar(),e)){const i=r?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(i),this._currentItem=e}}}function R7(t){return class extends t{constructor(...n){super(...n),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(n){const e=hl(n);this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(n){const e=this.elementRef.nativeElement;if(!n||!e.getBoundingClientRect||!this._inkBarContentElement)return void e.classList.add(KE);const r=e.getBoundingClientRect(),i=n.width/r.width,s=n.left-r.left;e.classList.add(xk),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${i})`),e.getBoundingClientRect(),e.classList.remove(xk),e.classList.add(KE),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(KE)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const n=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=n.createElement("span"),this._inkBarContentElement=n.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const P7=q0(class{}),L7=R7((()=>{class t extends P7{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii))},t.\u0275dir=un({type:t,features:[Zn]}),t})());let Ek=(()=>{class t extends L7{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=un({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,r){2&e&&(Ts("aria-disabled",!!r.disabled),Ga("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[Zn]}),t})();const F7=q0(class{}),Dk=new qt("MAT_TAB_GROUP");let B7=(()=>{class t extends F7{get content(){return this._contentPortal}constructor(e,r){super(),this._viewContainerRef=e,this._closestTabGroup=r,this.textLabel="",this._contentPortal=null,this._stateChanges=new It,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new WE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return t.\u0275fac=function(e){return new(e||t)(Ye(ja),Ye(Dk,8))},t.\u0275dir=un({type:t,viewQuery:function(e,r){if(1&e&&Nn(Ws,7),2&e){let i;xn(i=En())&&(r._implicitContent=i.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[Zn,Ca]}),t})(),qE=(()=>{class t extends B7{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275cmp=cr({type:t,selectors:[["mat-tab"]],contentQueries:function(e,r,i){if(1&e&&(Qf(i,I7,7,Ws),Qf(i,O7,5)),2&e){let s;xn(s=En())&&(r._explicitContent=s.first),xn(s=En())&&(r.templateLabel=s.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[Xr([{provide:Ck,useExisting:t}]),Zn],ngContentSelectors:_k,decls:1,vars:0,template:function(e,r){1&e&&(rp(),sr(0,f7,1,0,"ng-template"))},encapsulation:2}),t})();const Sk=ay({passive:!0});let z7=(()=>{class t{get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=hl(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=dh(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}constructor(e,r,i,s,c,m,_){this._elementRef=e,this._changeDetectorRef=r,this._viewportRuler=i,this._dir=s,this._ngZone=c,this._platform=m,this._animationMode=_,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new It,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new It,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new ur,this.indexFocused=new ur,c.runOutsideAngular(()=>{dy(e.nativeElement,"mouseleave").pipe(Ju(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){dy(this._previousPaginator.nativeElement,"touchstart",Sk).pipe(Ju(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),dy(this._nextPaginator.nativeElement,"touchstart",Sk).pipe(Ju(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:tt("ltr"),r=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new m$(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Wc(1)).subscribe(i),rt(e,r,this._items.changes,this._itemsResized()).pipe(Ju(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),i()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?qo:this._items.changes.pipe(gv(this._items),Ht(e=>new Ze(r=>this._ngZone.runOutsideAngular(()=>{const i=new ResizeObserver(s=>r.next(s));return e.forEach(s=>i.observe(s.elementRef.nativeElement)),()=>{i.disconnect()}}))),HE(1),Ll(e=>e.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!AR(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const r=this._items.get(this.focusIndex);r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const r=this._tabListContainer.nativeElement;r.scrollLeft="ltr"==this._getLayoutDirection()?0:r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,r="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const r=this._items?this._items.toArray()[e]:null;if(!r)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:c}=r.elementRef.nativeElement;let m,_;"ltr"==this._getLayoutDirection()?(m=s,_=m+c):(_=this._tabListInner.nativeElement.offsetWidth-s,m=_-c);const O=this.scrollDistance,U=this.scrollDistance+i;m<O?this.scrollDistance-=O-m:_>U&&(this.scrollDistance+=Math.min(_-U,m-O))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=e?e.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,r){r&&null!=r.button&&0!==r.button||(this._stopInterval(),yk(650,100).pipe(Ju(rt(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:i,distance:s}=this._scrollHeader(e);(0===s||s>=i)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(ls),Ye(XE),Ye(lm,8),Ye(Kr),Ye(ec),Ye(Bc,8))},t.\u0275dir=un({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),U7=(()=>{class t extends z7{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=hl(e)}constructor(e,r,i,s,c,m,_){super(e,r,i,s,c,m,_),this._disableRipple=!1}_itemSelected(e){e.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(ls),Ye(XE),Ye(lm,8),Ye(Kr),Ye(ec),Ye(Bc,8))},t.\u0275dir=un({type:t,inputs:{disableRipple:"disableRipple"},features:[Zn]}),t})(),G7=(()=>{class t extends U7{constructor(e,r,i,s,c,m,_){super(e,r,i,s,c,m,_)}ngAfterContentInit(){this._inkBar=new N7(this._items),super.ngAfterContentInit()}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(ls),Ye(XE),Ye(lm,8),Ye(Kr),Ye(ec),Ye(Bc,8))},t.\u0275cmp=cr({type:t,selectors:[["mat-tab-header"]],contentQueries:function(e,r,i){if(1&e&&Qf(i,Ek,4),2&e){let s;xn(s=En())&&(r._items=s)}},viewQuery:function(e,r){if(1&e&&(Nn(h7,7),Nn(p7,7),Nn(g7,7),Nn(m7,5),Nn(v7,5)),2&e){let i;xn(i=En())&&(r._tabListContainer=i.first),xn(i=En())&&(r._tabList=i.first),xn(i=En())&&(r._tabListInner=i.first),xn(i=En())&&(r._nextPaginator=i.first),xn(i=En())&&(r._previousPaginator=i.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(e,r){2&e&&Ga("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Zn],ngContentSelectors:_k,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,r){1&e&&(rp(),je(0,"button",0,1),wn("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(s){return r._handlePaginatorPress("before",s)})("touchend",function(){return r._stopInterval()}),dn(2,"div",2),Ge(),je(3,"div",3,4),wn("keydown",function(s){return r._handleKeydown(s)}),je(5,"div",5,6),wn("cdkObserveContent",function(){return r._onContentChanges()}),je(7,"div",7,8),ip(9),Ge()()(),je(10,"button",9,10),wn("mousedown",function(s){return r._handlePaginatorPress("after",s)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),dn(12,"div",2),Ge()),2&e&&(Ga("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),Wt("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),Bt(3),Ga("_mat-animation-noopable","NoopAnimations"===r._animationMode),Bt(7),Ga("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),Wt("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[GE,l$],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2}),t})();const Tk=new qt("MAT_TABS_CONFIG");let j7=0;const W7=UE(XR(class{constructor(t){this._elementRef=t}}),"primary");let $7=(()=>{class t extends W7{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=hl(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=dh(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=dh(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=hl(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=hl(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&r.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,r,i,s){super(e),this._changeDetectorRef=r,this._animationMode=s,this._tabs=new kg,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=C.EMPTY,this._tabLabelSubscription=C.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new ur,this.focusChange=new ur,this.animationDone=new ur,this.selectedTabChange=new ur(!0),this._groupId=j7++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination,this.dynamicHeight=!(!i||null==i.dynamicHeight)&&i.dynamicHeight,this.contentTabIndex=i?.contentTabIndex??null,this.preserveContent=!!i?.preserveContent}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const r=null==this._selectedIndex;if(!r){this.selectedTabChange.emit(this._createChangeEvent(e));const i=this._tabBodyWrapper.nativeElement;i.style.minHeight=i.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((i,s)=>i.isActive=s===e),r||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,i)=>{r.position=i-e,null!=this._selectedIndex&&0==r.position&&!r.origin&&(r.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const r=this._tabs.toArray();let i;for(let s=0;s<r.length;s++)if(r[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,i=r[s];break}!i&&r[e]&&Promise.resolve().then(()=>{r[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(gv(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const r=this._tabHeader;r&&(r.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const r=new Y7;return r.index=e,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[e]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=rt(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,r,i){r.focusIndex=i,e.disabled||(this.selectedIndex=i)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,r){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=r)}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(ls),Ye(Tk,8),Ye(Bc,8))},t.\u0275dir=un({type:t,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[Zn]}),t})(),Mk=(()=>{class t extends $7{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=hl(e),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(e){this._stretchTabs=hl(e)}constructor(e,r,i,s){super(e,r,i,s),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!i||null==i.fitInkBarToContent)&&i.fitInkBarToContent,this.stretchTabs=!i||null==i.stretchTabs||i.stretchTabs}}return t.\u0275fac=function(e){return new(e||t)(Ye(ii),Ye(ls),Ye(Tk,8),Ye(Bc,8))},t.\u0275cmp=cr({type:t,selectors:[["mat-tab-group"]],contentQueries:function(e,r,i){if(1&e&&Qf(i,qE,5),2&e){let s;xn(s=En())&&(r._allTabs=s)}},viewQuery:function(e,r){if(1&e&&(Nn(y7,5),Nn(b7,5)),2&e){let i;xn(i=En())&&(r._tabBodyWrapper=i.first),xn(i=En())&&(r._tabHeader=i.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:8,hostBindings:function(e,r){2&e&&(Jm("--mat-tab-animation-duration",r.animationDuration),Ga("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[Xr([{provide:Dk,useExisting:t}]),Zn],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(e,r){1&e&&(je(0,"mat-tab-header",0,1),wn("indexFocused",function(s){return r._focusChanged(s)})("selectFocusedIndex",function(s){return r.selectedIndex=s}),sr(2,x7,9,17,"div",2),Ge(),je(3,"div",3,4),sr(5,E7,1,11,"mat-tab-body",5),Ge()),2&e&&(Wt("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),Bt(2),Wt("ngForOf",r._tabs),Bt(1),Ga("_mat-animation-noopable","NoopAnimations"===r._animationMode),Bt(2),Wt("ngForOf",r._tabs))},dependencies:[fv,Bg,fl,$E,GE,T$,wk,Ek,G7],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-letter-spacing);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2}),t})();class Y7{}let X7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({imports:[EC,ed,U9,tk,RR,M$,ed]}),t})();const K7=["contextPruning"];function q7(t,n){if(1&t){const e=Ua();tp(0,10),wn("click",function(){Ln(e);const i=Or(2).$implicit;return ni(Or().toggleGlyphVisibility(i))}),dn(1,"div",20),np()}if(2&t){const e=Or(2).$implicit,r=Or();Bt(1),Wt("innerHTML",r.sanitizeSvg(e.glyph),sD)}}function Z7(t,n){1&t&&(tp(0),je(1,"div"),mt(2,"V"),Ge(),np())}const Ik=function(t){return{minimized:t}};function Q7(t,n){if(1&t){const e=Ua();je(0,"div",17),wn("click",function(){Ln(e);const i=Or().$implicit;return ni(Or().toggleGlyphVisibility(i))}),sr(1,q7,2,1,"ng-container",18),sr(2,Z7,3,0,"ng-container",19),Ge()}if(2&t){const e=Or().$implicit;Wt("ngClass",Yu(3,Ik,!e.showGlyph)),Bt(1),Wt("ngIf",e.showGlyph),Bt(1),Wt("ngIf",!e.showGlyph)}}function J7(t,n){if(1&t){const e=Ua();tp(0,10),wn("click",function(){Ln(e);const i=Or(2).$implicit;return ni(Or().toggleDetailVisibility(i))}),je(1,"div"),mt(2),Ge(),np()}if(2&t){const e=Or(2).$implicit;Bt(2),ap(e.detailText)}}function eY(t,n){1&t&&(tp(0),je(1,"div"),mt(2,"TPTP"),Ge(),np())}function tY(t,n){if(1&t){const e=Ua();je(0,"div",21),wn("click",function(){Ln(e);const i=Or().$implicit;return ni(Or().toggleDetailVisibility(i))}),sr(1,J7,3,1,"ng-container",18),sr(2,eY,3,0,"ng-container",19),Ge()}if(2&t){const e=Or().$implicit;Wt("ngClass",Yu(3,Ik,!e.showDetail)),Bt(1),Wt("ngIf",e.showDetail),Bt(1),Wt("ngIf",!e.showDetail)}}const nY=function(t,n){return{"user-message":t,"bot-message":n}};function rY(t,n){if(1&t&&(je(0,"div",11)(1,"span",12),mt(2),Ge(),je(3,"pre",13),mt(4),Ge(),je(5,"div",14),sr(6,Q7,3,5,"div",15),sr(7,tY,3,5,"div",16),Ge()()),2&t){const e=n.$implicit;Wt("ngClass",Iw(5,nY,"User"===e.sender,"Bot"===e.sender)),Bt(2),Pl("",e.sender,":"),Bt(2),ap(e.text),Bt(2),Wt("ngIf",e.glyph),Bt(1),Wt("ngIf",e.detailText)}}function iY(t,n){1&t&&(je(0,"div",22),dn(1,"div",23),Ge())}let oY=(()=>{class t{constructor(e,r,i){this.dataService=e,this.changeDetector=r,this.sanitizer=i,this.ruleString="",this.history=[],this.historyChange=new ur,this.axioms="",this.axiomsChanged=new ur,this.activeIndices=[],this.clearSelection=new ur,this.chatHistory=[],this.userInput="",this.meaningConstructors="",this.axiomCounter=0,this.context=[],this.loading=!1}sendMessage(){if(!this.userInput.trim())return;console.log("Gswb preferences: ",this.gswbPreferences.gswbPreferences),console.log("Vampire preferences: ",this.vampirePreferences.vampirePreferences),this.loading=!0;const e=this.userInput;var r="",i="";this.chatHistory.push({text:e,sender:"User"});const s=0===this.vampirePreferences.vampirePreferences.logic_type?"fof":"tff",c={sentence:e,ruleString:this.ruleString,logicType:s};console.log("Liger request: ",c),this.dataService.ligerAnnotate(c).subscribe(m=>{if(console.log("Liger response: ",m),!m.hasOwnProperty("graph")||!m.graph.hasOwnProperty("graphElements")||0===m.graph.graphElements.length)return this.chatHistory.push({text:"Syntactic analysis failed for this input!",sender:"Bot"}),void(this.loading=!1);if(!m.hasOwnProperty("meaningConstructors"))return this.chatHistory.push({text:"Could not find meaning constructors for this input!",sender:"Bot"}),void(this.loading=!1);{if(this.meaningConstructors=m.meaningConstructors,m.hasOwnProperty("axioms")&&null!=m.axioms){console.log("Axioms: ",m.axioms);let O="";for(let U of m.axioms)""!==U.trim()&&!this.axioms.includes(U.trim())&&(O+=s+"(axiom"+this.axiomCounter+",axiom,"+U+").\n",this.axiomCounter++);""!==O.trim()&&(""!=this.axioms&&(this.axioms+="\n"),this.axioms+=O+"\n",this.updateAxioms(this.axioms))}const _={premises:this.meaningConstructors,gswbPreferences:this.gswbPreferences.gswbPreferences};console.log("Gswb request: ",_),this.dataService.gswbDeduce(_).subscribe(O=>{let U="";if(!(O.hasOwnProperty("solutions")&&O.solutions.length>0&&""!=O.solutions[0]))return this.chatHistory.push({text:"No semantic analyses found for this input!",sender:"Bot"}),void(this.loading=!1);{U=O.solutions.join("\n");const ge={text:e,context:this.context,axioms:this.axioms,hypothesis:U,pruning:this.contextPruning.nativeElement.checked,active_indices:this.activeIndices,vampire_preferences:this.vampirePreferences.vampirePreferences};console.log("Vampire request: ",ge),this.dataService.callVampire(ge).subscribe(ve=>{if(console.log("Vampire response: ",ve),this.clearSelected(),ve.hasOwnProperty("context")){const qe=ve.context;this.history.push(qe),this.context=qe,this.historyChange.emit(this.history),this.changeDetector.detectChanges();var Fe=null,Xe=null,ct=null;if(Object.keys(ve.context_checks_mapping).length>0&&(r=ve.context_checks_mapping[0].glyph,Xe=ve.context_checks_mapping[0].informative,Fe=ve.context_checks_mapping[0].consistent,ct=ve.context_checks_mapping[0].relevant),ve.context.length>0)for(let vt=0;vt<ve.context.length;vt++)ve.context[vt].hasOwnProperty("tptp")&&(i+=ve.context[vt].tptp+"\n");this.chatHistory.push({text:null===Fe?"Okay ...":Fe?Xe?ct?"I may not fully understand your input. I assume it is informative and consistent":"Your input is informative and consistent.":"Your input is not informative.":"Your input does not make sense.",sender:"Bot",glyph:r,showGlyph:!1,detailText:i,showDetail:!1})}this.loading=!1},ve=>{console.log("An error occurred during the call to Vampire"),this.loading=!1})}},O=>{console.log("ERROR: ",O),this.chatHistory.push({text:"An error occurred during the semantic analysis",sender:"Bot"}),this.loading=!1})}},m=>{this.chatHistory.push({text:"An unknown error occurred.",sender:"Bot"}),console.log("ERROR: ",m),this.loading=!1}),this.userInput=""}clearSelected(){this.clearSelection.emit(),console.log("Selection cleared in chat component")}sanitizeSvg(e){return this.sanitizer.bypassSecurityTrustHtml(e)}toggleGlyphVisibility(e){e.showGlyph=!e.showGlyph}updateAxioms(e){this.axioms=e,this.axiomsChanged.emit(this.axioms),console.log("Axioms updated in chat component:",this.axioms)}toggleDetailVisibility(e){e.showDetail=!e.showDetail}}return t.\u0275fac=function(e){return new(e||t)(Ye(tm),Ye(ls),Ye(Pb))},t.\u0275cmp=cr({type:t,selectors:[["app-chat"]],viewQuery:function(e,r){if(1&e&&Nn(K7,5),2&e){let i;xn(i=En())&&(r.contextPruning=i.first)}},inputs:{ruleString:"ruleString",gswbPreferences:"gswbPreferences",vampirePreferences:"vampirePreferences",history:"history",axioms:"axioms",activeIndices:"activeIndices"},outputs:{historyChange:"historyChange",axiomsChanged:"axiomsChanged",clearSelection:"clearSelection"},decls:13,vars:3,consts:[[1,"pruning-container"],["type","checkbox","id","contextPruning"],["contextPruning",""],["for","contextPruning"],[1,"chat-container"],[1,"chat-history"],["class","message-container",3,"ngClass",4,"ngFor","ngForOf"],["class","loading-container",4,"ngIf"],[1,"chat-input"],["placeholder","Type your message...",3,"ngModel","ngModelChange","keyup.enter"],[3,"click"],[1,"message-container",3,"ngClass"],[1,"message-sender"],[1,"message-text"],[1,"pill-container"],["class","message-glyph",3,"ngClass","click",4,"ngIf"],["class","message-detail",3,"ngClass","click",4,"ngIf"],[1,"message-glyph",3,"ngClass","click"],[3,"click",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],[1,"message-detail",3,"ngClass","click"],[1,"loading-container"],[1,"loading-spinner"]],template:function(e,r){1&e&&(je(0,"div",0),dn(1,"input",1,2),je(3,"label",3),mt(4,"Pruning"),Ge()(),je(5,"div",4)(6,"div",5),sr(7,rY,8,8,"div",6),sr(8,iY,2,0,"div",7),Ge(),je(9,"div",8)(10,"input",9),wn("ngModelChange",function(s){return r.userInput=s})("keyup.enter",function(){return r.sendMessage()}),Ge(),je(11,"button",10),wn("click",function(){return r.sendMessage()}),mt(12,"Send"),Ge()()()),2&e&&(Bt(7),Wt("ngForOf",r.chatHistory),Bt(1),Wt("ngIf",r.loading),Bt(2),Wt("ngModel",r.userInput))},dependencies:[fv,Bg,fl,qg,Zg,Bv],styles:[".chat-container[_ngcontent-%COMP%]{overflow-x:visible}.chat-history[_ngcontent-%COMP%]{position:relative;overflow:visible;isolation:isolate}.message-container[_ngcontent-%COMP%], .message-container.user-message[_ngcontent-%COMP%], .message-container.bot-message[_ngcontent-%COMP%]{position:relative;overflow:visible!important;z-index:0;padding-bottom:28px}.message-container[_ngcontent-%COMP%]:has(.message-glyph:not(.minimized), .message-detail[_ngcontent-%COMP%]:not(.minimized)){z-index:3}.pill-container[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:-4px;display:flex;gap:6px;align-items:center;overflow:visible;z-index:2}.message-glyph[_ngcontent-%COMP%], .message-detail[_ngcontent-%COMP%]{position:static;border-radius:4px;height:82px;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid #ccc;cursor:pointer;transition:all .2s ease-in-out;margin:0 2pt;overflow:auto}.message-glyph[_ngcontent-%COMP%]{width:98px}.message-detail[_ngcontent-%COMP%]{width:600px}.message-glyph.minimized[_ngcontent-%COMP%]{width:20px;height:20px;background:green;border:none;color:#fff}.message-detail.minimized[_ngcontent-%COMP%]{width:40px;height:20px;background:blue;border:none;color:#fff}.message-glyph[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;background:#fff}.chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-width:600px;margin:auto;border:1px solid #ccc;border-radius:8px;background:#fff}.chat-history[_ngcontent-%COMP%]{flex:1;padding:16px;display:flex;flex-direction:column;background:#f9f9f9}.message-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:75%;padding:8px;border-radius:8px;margin:4px 0}.user-message[_ngcontent-%COMP%]{align-self:flex-end;text-align:right;background:#00a9e0;color:#fff}.bot-message[_ngcontent-%COMP%]{align-self:flex-start;text-align:left;background:#ddd;color:#000}.message-text[_ngcontent-%COMP%]{font-family:Courier New,Courier,Lucida Console,DejaVu Sans Mono,Monaco,Menlo,Consolas,monospace;white-space:pre-wrap;word-break:break-word;overflow-wrap:anywhere}.message-sender[_ngcontent-%COMP%]{font-size:12px;font-weight:700;display:block;margin-bottom:2px}.chat-input[_ngcontent-%COMP%]{display:flex;padding:12px;background:#fff;border-top:1px solid #ccc}.chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:4px}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px;padding:10px 16px;border:none;background:#00a9e0;color:#fff;border-radius:4px;cursor:pointer;font-weight:700}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0079b3}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:16px}.loading-spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid rgba(0,0,0,.1);border-top-color:#00a9e0;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),t})();const aY=["grammarListSelector"],sY=["statusMessage"],lY=["toggleDisplayComponent"];let ZE=(()=>{class t{constructor(e,r){this.dataService=e,this.cd=r,this.dataEmitter=new ur,this.grammarList=[],this.defaultRules="./liger_resources/rules/be_axiom_rule.txt",this.grammarsDirectory="./liger_resources/rules",this.currentStatusMessage="",this.grammarFileTree=[],this.selectedPath="",this.rules=""}ngOnInit(){this.getGrammars(this.grammarsDirectory),console.log("Initial file tree:",this.grammarFileTree),this.selectedPath=this.defaultRules,this.updateGrammar(),this.sendRules()}ngAfterViewInit(){this.toggleDisplayComponent?this.toggleDisplayComponent.isHidden=!0:console.error("toggleDisplayComponent is still undefined in ngAfterViewInit.")}onFileSelected(e){console.log("Selected path from file tree:",e),this.selectedPath=e}updateGrammar(){this.selectedPath?(console.log("Changing rules to: "+this.selectedPath),this.dataService.loadRules({grammar:this.selectedPath}).subscribe(e=>{console.log(e),e.hasOwnProperty("grammar")?(console.log("Successfully loaded rules: "+this.selectedPath),this.currentStatusMessage="Currently loaded rules: "+this.selectedPath,this.cd.detectChanges(),this.toggleDisplayComponent.isHidden=!0,this.rules=e.grammar,this.sendRules()):this.currentStatusMessage="Failed to load grammar: "+this.selectedPath},e=>{console.log("ERROR: ",e),this.currentStatusMessage="Failed to load rules: "+this.selectedPath})):console.error("No file or folder selected!")}getGrammars(e){console.log("Fetching grammars via POST request"),this.dataService.getFileTree({grammar:e}).subscribe(r=>{console.log(r),r.hasOwnProperty("children")&&(console.log("Grammar file tree:",r.children),this.grammarFileTree=this.buildFileTree(r.children))},r=>{console.error("Failed to fetch grammars:",r)})}buildFileTree(e){return e.map(r=>({name:r.name,path:r.path,isDirectory:r.isDirectory||r.directory,children:r.children&&r.children.length>0?this.buildFileTree(r.children):[]}))}sendRules(){this.dataEmitter.emit(this.rules)}}return t.\u0275fac=function(e){return new(e||t)(Ye(tm),Ye(ls))},t.\u0275cmp=cr({type:t,selectors:[["app-rule-loader"]],viewQuery:function(e,r){if(1&e&&(Nn(aY,5),Nn(sY,5),Nn(lY,5)),2&e){let i;xn(i=En())&&(r.grammarListSelector=i.first),xn(i=En())&&(r.statusMessageDiv=i.first),xn(i=En())&&(r.toggleDisplayComponent=i.first)}},outputs:{dataEmitter:"dataEmitter"},decls:9,vars:2,consts:[[1,"status-message"],["statusMessage",""],["type","fileTree","showText","Select file","hideText","Hide file selection"],["toggleDisplayComponent",""],[3,"fileTree","nodeSelected","nodeDoubleClicked"],[3,"click"]],template:function(e,r){1&e&&(je(0,"div",0,1),mt(2),Ge(),je(3,"app-toggle-display",2,3)(5,"div")(6,"app-file-tree",4),wn("nodeSelected",function(s){return r.onFileSelected(s)})("nodeDoubleClicked",function(){return r.updateGrammar()}),Ge(),je(7,"button",5),wn("click",function(){return r.updateGrammar()}),mt(8,"Update"),Ge()()()),2&e&&(Bt(2),Pl(" ",r.currentStatusMessage,"\n"),Bt(4),Wt("fileTree",r.grammarFileTree))},dependencies:[am,pk],styles:[".status-message[_ngcontent-%COMP%]{color:red}"]}),t})();function uY(t,n){if(1&t){const e=Ua();je(0,"div",5),wn("click",function(){const s=Ln(e).index,c=Or().index,m=Or();return ni(c===m.history.length-1?m.toggleSelection(s):null)}),mt(1),Ge()}if(2&t){const e=n.$implicit,r=n.index,i=Or().index,s=Or();Ga("selected",s.isSelected(r)&&i===s.history.length-1),Bt(1),Pl(" ",e.box," ")}}function cY(t,n){if(1&t&&(je(0,"div",3),sr(1,uY,2,3,"div",4),Ge()),2&t){const e=n.$implicit;Bt(1),Wt("ngForOf",e)}}let dY=(()=>{class t{constructor(){this.history=[],this.selectionChanged=new ur,this.selectedIndices=[]}addHistoryEntry(e){this.history.push(e),this.selectedIndices=[],this.emitSelection()}clearHistory(){this.history=[],this.selectedIndices=[],this.emitSelection()}toggleSelection(e){this.selectedIndices.includes(e)?this.selectedIndices=this.selectedIndices.filter(r=>r!==e):this.selectedIndices.push(e),this.emitSelection()}selectAllLastEntry(){this.history.length>0&&(this.selectedIndices=this.history[this.history.length-1].map((r,i)=>i),this.emitSelection())}clearSelection(){this.selectedIndices=[],this.selectionChanged.emit(this.selectedIndices),console.log("Selection cleared in history component",this.selectedIndices)}isSelected(e){return this.selectedIndices.includes(e)}emitSelection(){this.selectionChanged.emit(this.selectedIndices)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-history"]],inputs:{history:"history"},outputs:{selectionChanged:"selectionChanged"},decls:4,vars:1,consts:[[1,"history-container"],["class","history-row",4,"ngFor","ngForOf"],[3,"click"],[1,"history-row"],["class","history-box",3,"selected","click",4,"ngFor","ngForOf"],[1,"history-box",3,"click"]],template:function(e,r){1&e&&(je(0,"div",0),sr(1,cY,2,1,"div",1),Ge(),je(2,"button",2),wn("click",function(){return r.selectAllLastEntry()}),mt(3,"Select All (Last Entry)"),Ge()),2&e&&(Bt(1),Wt("ngForOf",r.history))},dependencies:[Bg],styles:[".history-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-height:400px;overflow-y:auto;border:1px solid #ccc;padding:10px;width:80%;margin:auto}.history-row[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-bottom:10px}.history-box[_ngcontent-%COMP%]{font-family:monospace;white-space:pre-wrap;text-align:center;background-color:#f4f4f4;padding:10px;border-radius:5px;border:1px solid #ddd;min-width:100px;cursor:pointer;transition:background-color .2s ease-in-out,border-color .2s ease-in-out}.history-box.selected[_ngcontent-%COMP%]{background-color:#add8e6;border-color:#00f;font-weight:700}.history-box[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}button[_ngcontent-%COMP%]{margin-top:10px;padding:8px 15px;font-size:14px;cursor:pointer;border:1px solid #007bff;background-color:#007bff;color:#fff;border-radius:4px;transition:background-color .2s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]}),t})(),QE=(()=>{class t{constructor(e){this.fb=e,this.vampirePreferences={logic_type:0,model_building:!0,max_duration:10,layered:!1},this.vampirePreferencesForm=this.fb.group({logic_type:[0,Av.required],model_building:[!0],max_duration:[10,Av.required],layered:[!1]}),this.vampirePreferencesForm.valueChanges.subscribe(()=>{this.onSubmit()})}onSubmit(){const e={logic_type:this.vampirePreferencesForm.value.logic_type,model_building:this.vampirePreferencesForm.value.model_building,max_duration:this.vampirePreferencesForm.value.max_duration,layered:this.vampirePreferencesForm.value.layered};console.log("Gswb preferences: ",e),this.vampirePreferences=e}updateFormFromPreferences(e){this.vampirePreferencesForm.patchValue({logic_type:e.logic_type,model_building:e.model_building,max_duration:e.max_duration,layered:e.layered})}}return t.\u0275fac=function(e){return new(e||t)(Ye(MO))},t.\u0275cmp=cr({type:t,selectors:[["app-inference-settings"]],decls:51,vars:1,consts:[["novalidate","",3,"formGroup","ngSubmit"],["for","logic_type"],["formControlName","logic_type","id","logic_type","name","logic_type"],["value","0"],["value","1"],["for","duration"],["formControlName","max_duration","id","duration","name","duration"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","15"],["value","30"],["value","45"],["value","60"],["for","model-building"],["type","checkbox","formControlName","model_building","id","model-building","name","model-building"],["for","layered"],["type","checkbox","formControlName","layered","id","layered","name","layered"]],template:function(e,r){1&e&&(je(0,"h3"),mt(1,"Settings:"),Ge(),je(2,"form",0),wn("ngSubmit",function(){return r.onSubmit()}),je(3,"div")(4,"label",1),mt(5,"Logic type:"),Ge(),je(6,"select",2)(7,"option",3),mt(8,"first-order logic (fof)"),Ge(),je(9,"option",4),mt(10,"typed first-order logic (tff)"),Ge()()(),je(11,"div")(12,"label",5),mt(13,"Proof search duration:"),Ge(),je(14,"select",6)(15,"option",4),mt(16,"1s"),Ge(),je(17,"option",7),mt(18,"2s"),Ge(),je(19,"option",8),mt(20,"3s"),Ge(),je(21,"option",9),mt(22,"4s"),Ge(),je(23,"option",10),mt(24,"5s"),Ge(),je(25,"option",11),mt(26,"6s"),Ge(),je(27,"option",12),mt(28,"7s"),Ge(),je(29,"option",13),mt(30,"8s"),Ge(),je(31,"option",14),mt(32,"9s"),Ge(),je(33,"option",15),mt(34,"10s"),Ge(),je(35,"option",16),mt(36,"15s"),Ge(),je(37,"option",17),mt(38,"30s"),Ge(),je(39,"option",18),mt(40,"45s"),Ge(),je(41,"option",19),mt(42,"60s"),Ge()()(),je(43,"div")(44,"label",20),dn(45,"input",21),mt(46," Try model building "),Ge()(),je(47,"div")(48,"label",22),dn(49,"input",23),mt(50," Layered analysis "),Ge()()()),2&e&&(Bt(2),Wt("formGroup",r.vampirePreferencesForm))},dependencies:[_x,Ex,Sx,r0,Hv,Zg,cx,Vv,g0],styles:["form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}div[_ngcontent-%COMP%]{flex-basis:50%;margin-bottom:10px}label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:5px}select[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{width:auto;margin-right:5px}"]}),t})();const fY=["gswbPrefs"],hY=["vampirePrefs"],pY=["chat"],gY=["history"],mY=["axiomEdit"];function vY(t,n){if(1&t){const e=Ua();je(0,"mat-tab-group",8),wn("selectedIndexChange",function(i){return Ln(e),ni(Or().onTabChange(i))}),je(1,"mat-tab",9)(2,"div",10)(3,"app-chat",11),wn("historyChange",function(i){return Ln(e),ni(Or().updateHistory(i))})("clearSelection",function(){return Ln(e),ni(Or().onClearSelection())})("axiomsChanged",function(i){return Ln(e),ni(Or().updateAxioms(i))}),mt(4," >"),Ge()()(),je(5,"mat-tab",12)(6,"div",10)(7,"app-history",13),wn("selectionChanged",function(i){return Ln(e),ni(Or().onSelectionChanged(i))}),Ge()()(),je(8,"mat-tab",14)(9,"div",10)(10,"div",15),dn(11,"app-editor",16,17),Ge()()()()}if(2&t){const e=Or(),r=Gs(15),i=Gs(17);Bt(3),Wt("ruleString",e.ruleFile)("axioms",e.axioms)("gswbPreferences",r)("vampirePreferences",i)("history",e.history)("activeIndices",e.selectedElements),Bt(4),Wt("history",e.history),Bt(4),Wt("mode","vampire")}}let yY=(()=>{class t{constructor(e){this.cdRef=e,this.ruleFile="",this.history=[],this.axioms="tff(fast_type, type, fast: ($i * $int) > $o).\ntff(kind_type, type, kind: ($i * $i) > $o).\ntff(arg1_type, type, arg1: ($i * $i) > $o).\ntff(arg2_type, type, arg2: ($i * $i) > $o).\ntff(computer_type, type, computer: $i > $o).\ntff(be_type, type, be: $i > $o).\n\ntff(pn_type1, type, 'pc-6082': $i).\ntff(pn_type2, type, 'itel-zx': $i).\n",this.selectedElements=[],this.tabsInitialized=!1}ngAfterViewInit(){this.cdRef.detectChanges(),this.gswbPreferences?(this.gswbPreferences.gswbPreferences={prover:1,debugging:!1,outputstyle:4,parseSem:!1,betaReduce:!0,resolveDrs:!1,glueOnly:!1,meaningOnly:!1,explainFail:!1,naturalDeductionStyle:0},this.gswbPreferences.updateFormFromPreferences(this.gswbPreferences.gswbPreferences)):console.error("ERROR: `gswbPreferences` ViewChild not initialized!"),this.vampirePreferences?(this.vampirePreferences.vampirePreferences={logic_type:1,model_building:!0,max_duration:10,layered:!1},this.vampirePreferences.updateFormFromPreferences(this.vampirePreferences.vampirePreferences)):console.error("ERROR: `vampirePreferences` ViewChild not initialized!"),this.tabsInitialized=!0}updateData(e){this.ruleFile=e}updateHistory(e){console.log("History updated:",e),this.history=e}onSelectionChanged(e){this.selectedElements=e,console.log("Selected elements updated in parent:",this.selectedElements)}onClearSelection(){this.selectedElements=[],this.historyComponent&&this.historyComponent.clearSelection(),console.log("Called onClearSelection in parent component")}onTabChange(e){setTimeout(()=>{this.editor?.getContent&&(console.log("Updating axioms to: ",this.editor.getContent()),this.axioms=this.editor.getContent(),this.editor.codeMirrorInstance.refresh())})}updateAxioms(e){this.axioms=e,this.editor&&(this.editor.updateContent(e),this.editor.codeMirrorInstance.refresh())}}return t.\u0275fac=function(e){return new(e||t)(Ye(ls))},t.\u0275cmp=cr({type:t,selectors:[["app-inference-vis"]],viewQuery:function(e,r){if(1&e&&(Nn(fY,5),Nn(hY,5),Nn(pY,5),Nn(gY,5),Nn(mY,5)),2&e){let i;xn(i=En())&&(r.gswbPreferences=i.first),xn(i=En())&&(r.vampirePreferences=i.first),xn(i=En())&&(r.chatComponent=i.first),xn(i=En())&&(r.historyComponent=i.first),xn(i=En())&&(r.editor=i.first)}},decls:19,vars:1,consts:[[1,"container"],["type","fileTree","showText","Show settings","hideText","Hide settings"],["toggleDisplayComponent",""],[1,"grammar-loader-container"],[3,"dataEmitter"],["gswbPrefs",""],["vampirePrefs",""],[3,"selectedIndexChange",4,"ngIf"],[3,"selectedIndexChange"],["label","Chat"],[1,"tab-content"],[3,"ruleString","axioms","gswbPreferences","vampirePreferences","history","activeIndices","historyChange","clearSelection","axiomsChanged"],["label","History"],[3,"history","selectionChanged"],["label","Axioms"],[1,"editor-restr"],[3,"mode"],["axiomEdit",""]],template:function(e,r){1&e&&(je(0,"div",0)(1,"h1"),mt(2,"Semantic parser settings"),Ge(),je(3,"app-toggle-display",1,2)(5,"div",3)(6,"div")(7,"h2"),mt(8,"Grammar selection:"),Ge(),dn(9,"app-grammar-loader"),Ge(),je(10,"div")(11,"h2"),mt(12,"Rule file selection:"),Ge(),je(13,"app-rule-loader",4),wn("dataEmitter",function(s){return r.updateData(s)}),Ge()()(),dn(14,"app-gswb-settings",null,5)(16,"app-inference-settings",null,6),Ge()(),sr(18,vY,13,8,"mat-tab-group",7)),2&e&&(Bt(18),Wt("ngIf",r.tabsInitialized))},dependencies:[fl,qE,Mk,Ep,am,j0,t_,oY,ZE,dY,QE],styles:["mat-tab-group[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.tab-content[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:16px;overflow:auto;background:#f5f5f5;height:calc(85vh - 48px);width:100%;flex-shrink:0}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}app-chat[_ngcontent-%COMP%]{flex:1;min-height:0}.grammar-loader-container[_ngcontent-%COMP%]{padding:5px;display:flex;gap:16px}.container[_ngcontent-%COMP%]{padding:15px}.editor-restr[_ngcontent-%COMP%]{flex:1;width:800px;justify-content:center;align-items:center}"]}),t})();const bY=["graphContainer"],_Y=["subgraphDialog"];Xs().use(P0()),Xs().use(DR());let wY=(()=>{class t{constructor(){this.style=[{selector:'node[node_type="rule"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow red","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}],this.defaultWidth="800px",this.defaultHeight="600px"}ngOnInit(){this.cy=Xs()({container:document.getElementById("cy"),style:this.style,layout:{name:"dagre"}})}makePopper(e){const r=e.popperRef();e.tippy=ry(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;return s.hasOwnProperty("rule")&&(i.innerHTML=i.innerHTML+"Rule "+s.id+": "+s.rule+"at line: "+s.line+"<br>"),i},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("rule")&&(this.makePopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}renderGraph(e){this.cy=Xs()({container:document.getElementById(this.graphID),elements:e,style:this.calculateStyle(e),layout:{name:"dagre"}}),this.createAndBindPoppers(),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy)}calculateStyle(e){let r=e.filter(U=>U.data.hasOwnProperty("rule"));r.sort((U,K)=>U.data.id>K.data.id?1:-1),console.log("Sorted nodes: ",r);let i=10;for(;r.length<i;)i/=2;const s=Math.floor(r.length/i);console.log("NodeBucket: ",s);let c=0,m=[];for(let U=0;U<r.length;U++){U%s==0&&c++;let K="style"+c;r[U].data.node_style=K,m.includes(K)||m.push(K)}console.log("Styles: ",m);let _=[],O=[];O=r.length>1?this.calculateColorStops("#FFFF00","#FF0000",m.length):["#FFFF00"];for(let U=0;U<m.length;U++){let ve={selector:'node[node_style="'+m[U]+'"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":O[U]+" white","background-gradient-stop-positions":"100 100"}};console.log("Current cyto style: ",ve),_.push(ve)}return _}resizeToDefault(){const e=this.graphContainer.nativeElement;e.style.width=this.defaultWidth,e.style.height=this.defaultHeight}showDialog(){this.subgraphDialog.setContent(this.cy.data()),this.subgraphDialog.showDialog()}calculateColorStops(e,r,i){let s=[];for(let c=0;c<i;c++){const _=this.calculateColor(e,r,c/(i-1));s.push(_)}return s}calculateColor(e,r,i){const s=Math.round(this.interpolate(e.slice(1,3),r.slice(1,3),i)),c=Math.round(this.interpolate(e.slice(3,5),r.slice(3,5),i)),m=Math.round(this.interpolate(e.slice(5,7),r.slice(5,7),i));return`#${this.componentToHex(s)}${this.componentToHex(c)}${this.componentToHex(m)}`}interpolate(e,r,i){return(1-i)*parseInt(e,16)+i*parseInt(r,16)}componentToHex(e){const r=e.toString(16);return 1===r.length?"0"+r:r}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-applied-rules-graph"]],viewQuery:function(e,r){if(1&e&&(Nn(bY,5),Nn(_Y,5)),2&e){let i;xn(i=En())&&(r.graphContainer=i.first),xn(i=En())&&(r.subgraphDialog=i.first)}},inputs:{graphID:"graphID"},decls:7,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(e,r){1&e&&(je(0,"div"),dn(1,"div",0,1),je(3,"button",2),wn("click",function(){return r.resizeToDefault()}),mt(4,"Resize to Default"),Ge(),dn(5,"app-sub-graph-dialog",3,4),Ge()),2&e&&(Bt(1),Wt("id",r.graphID),Bt(4),Wt("subgraphID","sub"+r.graphID)("subgraphStyle","liger"))},dependencies:[AE],styles:["div.cy[_ngcontent-%COMP%]{width:760px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const CY=["solution"],xY=function(t){return{"highlight-block":t}},JE=function(t){return{"zero-value":t}};let EY=(()=>{class t{constructor(){this.sentence_id="",this.sentence="",this.numberOfAppliedRules=0,this.numberOfMCsets=0,this.noOfSolutions=0,this.ligerMCsets="",this.gswbSolutions=[],this.solutionsContent=""}ngOnInit(){this.data&&(this.sentence_id=this.data.sentence_id,this.sentence=this.data.sentence,this.numberOfAppliedRules=this.data.noOfAppliedRules,this.numberOfMCsets=this.data.noOfMCsets,this.noOfSolutions=this.data.noOfSolutions,this.gswbDerivation=this.data.gswbDerivation,this.ligerGraph=this.data.ligerGraph,this.ligerMCsets=this.data.ligerMCsets,this.solutionsContent=this.data.gswbSolutions.join("\n"),console.log("Solutions content:",this.solutionsContent))}ngAfterViewInit(){setTimeout(()=>{this.dialog&&this.solutionsContent&&this.dialog.setContent(this.solutionsContent)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-test-result"]],viewQuery:function(e,r){if(1&e&&Nn(CY,5),2&e){let i;xn(i=En())&&(r.dialog=i.first)}},inputs:{data:"data"},decls:16,vars:17,consts:[[3,"ngClass"],["solution",""]],template:function(e,r){1&e&&(je(0,"p",0),mt(1),dn(2,"br"),mt(3," Number of applied rules: "),je(4,"span",0),mt(5),Ge(),dn(6,"br"),mt(7," Number of meaning constructor sets: "),je(8,"span",0),mt(9),Ge(),dn(10,"br"),mt(11," Number of solutions: "),je(12,"span",0),mt(13),Ge()(),dn(14,"app-dialog",null,1)),2&e&&(Wt("ngClass",Yu(9,xY,0===r.numberOfMCsets||0===r.noOfSolutions)),Bt(1),ub(" ",r.sentence_id,": ",r.sentence,""),Bt(3),Wt("ngClass",Yu(11,JE,0===r.numberOfAppliedRules)),Bt(1),Pl(" ",r.numberOfAppliedRules," "),Bt(3),Wt("ngClass",Yu(13,JE,0===r.numberOfMCsets)),Bt(1),Pl(" ",r.numberOfMCsets," "),Bt(3),Wt("ngClass",Yu(15,JE,0===r.noOfSolutions)),Bt(1),Pl(" ",r.noOfSolutions," "))},dependencies:[fv,xR],styles:["div.rule[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{width:100%;resize:none}.highlight-block[_ngcontent-%COMP%]{background-color:#ff000014;border-radius:4px;padding:6px}.zero-value[_ngcontent-%COMP%]{color:red;font-weight:700}"]}),t})(),DY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-inference-result"]],inputs:{data:"data"},decls:2,vars:0,template:function(e,r){1&e&&(je(0,"p"),mt(1,"inference-result works!"),Ge())}}),t})();const SY=["arcy"],TY=["ligerreport"],MY=["gswbreport"],IY=["gswbSettings"],AY=["vampirePrefs"],OY=["contextPruning"],NY=["testfile"],RY=["ligerRules"],kY=["errorhandle"];function PY(t,n){1&t&&(je(0,"span"),mt(1,"Parse all"),Ge())}function LY(t,n){1&t&&dn(0,"span",32)}function FY(t,n){1&t&&(je(0,"span"),mt(1,"Loading..."),Ge())}function BY(t,n){1&t&&(je(0,"span"),mt(1,"Multistage"),Ge())}function VY(t,n){1&t&&dn(0,"span",32)}function HY(t,n){1&t&&(je(0,"span"),mt(1,"Loading..."),Ge())}function zY(t,n){if(1&t&&(je(0,"div",33),dn(1,"app-test-result",34),Ge()),2&t){const e=n.$implicit;Bt(1),Wt("data",e)}}function UY(t,n){if(1&t&&(je(0,"div",33),dn(1,"app-inference-result",34),Ge()),2&t){const e=n.$implicit;Bt(1),Wt("data",e)}}let GY=(()=>{class t{constructor(e){this.dataService=e,this.regressionTestResults=[],this.inferenceResults=[],this.inferenceSummary="",this.regressionTestItems=[],this.sentenceMap={},this.loading=!1}ngAfterViewInit(){this.gswbPreferences?(this.gswbPreferences.gswbPreferences={prover:1,debugging:!1,outputstyle:4,parseSem:!1,resolveDrs:!0,betaReduce:!0,glueOnly:!1,meaningOnly:!1,explainFail:!1,naturalDeductionStyle:0},this.gswbPreferences.updateFormFromPreferences(this.gswbPreferences.gswbPreferences)):console.error("ERROR: `gswbPreferences` ViewChild not initialized!"),this.vampirePreferences?(this.vampirePreferences.vampirePreferences={logic_type:0,model_building:!0,max_duration:10,layered:!1},this.vampirePreferences.updateFormFromPreferences(this.vampirePreferences.vampirePreferences)):console.error("ERROR: `vampirePreferences` ViewChild not initialized!")}batchParse(e,r){this.errorhandle.nativeElement.innerHTML="",this.loading=!0,this.regressionTestResults=[],this.regressionTestItems=[],this.gswbPreferences.onSubmit();const i=0===this.vampirePreferences.vampirePreferences.logic_type?"fof":"tff";this.parse_testfile(e),this.displayMessage("Sending testsuite to LiGER for parsing ...","blue"),this.dataService.ligerBatchAnnotate({sentences:this.sentenceMap,ruleString:r,logicType:i}).subscribe(c=>{if(c.hasOwnProperty("annotations")){console.log("Annotations:",c.annotations);let m={};for(let[O,U]of Object.entries(c.annotations))m[O]=U.meaningConstructors;let _={};Object.keys(m).sort((O,U)=>parseInt(O.match(/\d+/)[0])-parseInt(U.match(/\d+/)[0])).forEach(O=>{_[O]=m[O]}),console.log("sorted MCs",_),this.gswbMultipleRequest={premises:_,gswbPreferences:this.gswbPreferences.gswbPreferences},console.log("Specified request: ",this.gswbMultipleRequest)}c.hasOwnProperty("ruleApplicationGraph")&&(console.log(c.ruleApplicationGraph),this.cy1.renderGraph(c.ruleApplicationGraph)),this.displayMessage("Sending parsing results to GSWB for deduction ...","blue"),this.batchDeduce(this.gswbMultipleRequest).subscribe(m=>{const _=m.outputs;console.log("GSWB outputs: ",_);const O=new Map;for(const Xe in _)O.set(Xe,_[Xe]);console.log("GSWB Map: ",O);let U=0,K=[];for(let Xe of Object.keys(this.sentenceMap)){O.get(Xe).solutions.length>0&&(U++,K.push(Xe));let ct={sentence_id:Xe,sentence:this.sentenceMap[Xe],noOfAppliedRules:c.annotations[Xe].appliedRules.length,noOfMCsets:c.annotations[Xe].numberOfMCsets,noOfSolutions:O.get(Xe).solutions.length,ligerGraph:c.annotations[Xe].graph,ligerMCsets:c.annotations[Xe].meaningConstructors,gswbSolutions:O.get(Xe).solutions,gswbDerivation:O.get(Xe).derivation,result_type:"parseResult"};console.log("Regression test result for "+Xe+": ",ct),this.regressionTestResults.push(ct)}console.log("Successful keys: ",K);let ge="Parsed "+U+" of "+Object.keys(this.sentenceMap).length+" sentences! \n";this.loading=!1,this.displayMessage(ge+"Batch processing completed successfully.","green"),this.displayMessage("Sending NLI items to Vampire ...","blue"),console.log("Preparing call to Vampire ...");let ve={};console.log("Current regression test items:",this.regressionTestItems);for(let Xe of this.regressionTestItems){let ct="",qe=0,vt=[];for(let fn of Xe.premises)if(O.has(fn)&&O.get(fn).solutions.length>0){vt.push(O.get(fn).solutions.join("\n")),console.log("Extracting axioms for premise:",fn);const _r=c.annotations[fn];if(null!=_r.axioms&&_r.axioms.length>0)for(let ot of _r.axioms)""!==ot.trim()&&!ct.includes(ot.trim())&&(ct+=i+"(axiom"+qe+",axiom,"+ot+").\n",qe++);else console.log("No axioms for premise:",fn)}console.log("Finished processing premises");let ln=[];for(let fn of Xe.conclusion)if(O.has(fn)&&O.get(fn).solutions.length>0){ln.push(O.get(fn).solutions.join("\n")),console.log("Extracting axioms for conclusion:",fn);const _r=c.annotations[fn];if(null!=_r.axioms&&_r.axioms.length>0)for(let ot of c.annotations.axioms)""!==ot.trim()&&!ct.includes(ot.trim())&&(ct+=i+"(axiom"+qe+",axiom,"+ot+").\n",qe++);else console.log("No axioms for conclusion:",fn)}console.log("premise strings:",vt),console.log("conclusion strings:",ln),vt.length>0&&ln.length>0&&(ve[Xe.id]={premises:vt,hypothesis:ln,axioms:ct})}console.log("Inference items: ",ve);let Fe={nli_items:ve,vampire_preferences:this.vampirePreferences.vampirePreferences,pruning:this.contextPruning.nativeElement.checked};console.log("Vampire multiple request:",Fe),this.batchVampire(Fe).subscribe(Xe=>{console.log("Vampire results: ",Xe),this.displayMessage("Batch processing completed successfully.","green");let ct=0,qe=0,vt=0,ln=0,fn=0,_r=0;for(let[ot,va]of Object.entries(Xe.results)){let Is=va.filter(td=>td.informative).length,Oo=va.filter(td=>td.consistent).length,fh=Is>va.length/2,mu=Oo>va.length/2,Ia="0";fh&&mu?Ia="0":!fh&&mu?Ia="1":mu||(Ia="-1"),console.log("Entailment label for "+ot+": ",Ia);let vu=this.regressionTestItems.find(td=>td.id===ot);console.log("Gold label: ",vu.gold_label),vu.gold_label===Ia&&("1"===Ia?ln++:"0"===Ia?fn++:"-1"===Ia&&_r++),"1"===vu.gold_label?ct++:"0"===vu.gold_label?qe++:"-1"===vu.gold_label&&vt++}this.inferenceSummary="Inference results summary:\nSuccessful entailment prediction ratio: "+ln/ct+" ("+ln+" of "+ct+")\nSuccessful neutral prediction ratio: "+fn/qe+" ("+fn+" of "+qe+")\nSuccessful contradiction prediction ratio: "+_r/vt+" ("+_r+" of "+vt+")\nOverall accuracy: "+(ln+fn+_r)/Object.keys(Xe.results).length,this.loading=!1})})},c=>{console.error("An error occurred:",c),this.displayMessage("An error occurred during batch parsing.","red"),this.loading=!1})}batchMultistage(e){this.gswbPreferences.onSubmit();let r=e.split("\n").filter(c=>{let m=c.trim();return""!==m&&!m.startsWith("#")}),i={};for(let c=0;c<r.length;c++)i["S"+c]=r[c];this.dataService.ligerBatchMultistage({sentences:i,ruleString:null}).subscribe(c=>{if(console.log(c),c.hasOwnProperty("annotations")){console.log(c.annotations);let m={};for(let[_,O]of Object.entries(c.annotations))m[_]=O.meaningConstructors;this.gswbMultipleRequest={premises:m,gswbPreferences:this.gswbPreferences.gswbPreferences},console.log("Specified request: ",this.gswbMultipleRequest)}c.hasOwnProperty("report")&&(this.ligerreport.nativeElement.innerHTML=c.report),this.batchDeduce(this.gswbMultipleRequest)},c=>{console.error("An error occurred:",c),this.loading=!1})}updateData(e){this.ligerRules.updateContent(e)}batchVampire(e){return this.dataService.callBatchVampire(e).pipe(oa(r=>{console.log("Vampire data:",r)}),$c(r=>(console.error("An error occurred:",r),this.displayMessage("An error occurred during Vampire processing.","red"),this.loading=!1,qo)))}batchDeduce(e){return this.dataService.gswbBatchDeduce(e).pipe(oa(r=>{if(console.log("Full data:",r),r.hasOwnProperty("outputs")){console.log("Outputs map:");for(const i in r.outputs)console.log(i,r.outputs[i])}}),$c(r=>(console.error("An error occurred:",r),this.displayMessage("An error occurred during GSWB deduction.","red"),this.loading=!1,qo)))}displayMessage(e,r){this.errorhandle.nativeElement.style.color=r,this.errorhandle.nativeElement.innerHTML="["+(new Date).toLocaleTimeString()+"] "+e}parse_testfile(e){this.regressionTestItems=[];let r=[],i=e.split("\n"),s={},c=0,m=0;for(let _=0;_<i.length;_++){const O=i[_];if(""!==O.trim()&&!O.trim().startsWith("#")&&(O.trim().length>2&&(s["S"+c]=O.trim(),c++),"{"===O.trim())){_++;let U=[],K=[],ge=[],ve=null,Me=!0;for(;"}"!==i[_].trim()&&_<i.length;){const Xe=i[_];if(""!==Xe.trim()){if(Xe.trim().startsWith("}"))break;Xe.trim().startsWith("#")?_++:"===="!==Xe.trim()?(Xe.trim().startsWith(">>>")?ve=Xe.trim().substring(3).trim():Xe.trim().length>2&&(U.push(Xe.trim()),Me?(K.push("S"+c),s["S"+c]=Xe.trim(),c++):(ge.push("S"+c),s["S"+c]=Xe.trim(),c++)),_++):(Me=!1,_++)}else _++}let Fe={id:"n"+m,sentences:U,premises:K,conclusion:ge,gold_label:ve};m++,r.push(Fe)}}console.log("Parsed items:",r),console.log("Sentence map:",s),this.sentenceMap=s,this.regressionTestItems.push(...r)}sortResultsByTrueCount(e){const r={...e};return Object.keys(r.results).forEach(i=>{r.results[i]=r.results[i].sort((s,c)=>this.countTrues(c)-this.countTrues(s))}),r}countTrues(e){return Object.values(e).filter(r=>!0===r).length}}return t.\u0275fac=function(e){return new(e||t)(Ye(tm))},t.\u0275cmp=cr({type:t,selectors:[["app-regression-testing-interface"]],viewQuery:function(e,r){if(1&e&&(Nn(SY,5),Nn(TY,5),Nn(MY,5),Nn(IY,5),Nn(AY,5),Nn(OY,5),Nn(NY,5),Nn(RY,5),Nn(kY,5)),2&e){let i;xn(i=En())&&(r.cy1=i.first),xn(i=En())&&(r.ligerreport=i.first),xn(i=En())&&(r.gswbreport=i.first),xn(i=En())&&(r.gswbPreferences=i.first),xn(i=En())&&(r.vampirePreferences=i.first),xn(i=En())&&(r.contextPruning=i.first),xn(i=En())&&(r.testfile=i.first),xn(i=En())&&(r.ligerRules=i.first),xn(i=En())&&(r.errorhandle=i.first)}},decls:72,vars:12,consts:[[1,"frame"],[1,"container"],["type","fileTree","showText","Show settings","hideText","Hide settings"],["toggleDisplayComponent",""],[1,"grammar-loader-container"],[3,"dataEmitter"],[1,"editor-restr"],[3,"mode"],["testsuite",""],["type","liger","showText","Show input rules","hideText","Hide input rules"],[1,"gradient-container"],["ligerRules",""],[1,"bar-container"],[1,"gradient-bar"],[1,"empty-space"],["gswbSettings",""],["vampirePrefs",""],[1,"pruning-container"],["type","checkbox","id","contextPruning"],["contextPruning",""],["for","contextPruning"],[3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"button","beta",3,"click"],[1,"errorhandling"],["errorhandle",""],["type","liger","showText","Show parsing results","hideText","Hide parsing results"],["class","result-container",4,"ngFor","ngForOf"],["type","liger","showText","Show applied rules","hideText","Hide applied rules"],[3,"graphID"],["arcy",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"result-container"],[3,"data"]],template:function(e,r){if(1&e){const i=Ua();je(0,"div",0)(1,"div",1)(2,"h1"),mt(3,"Semantic parser settings"),Ge(),je(4,"app-toggle-display",2,3)(6,"div",4)(7,"div")(8,"h2"),mt(9,"Grammar selection:"),Ge(),dn(10,"app-grammar-loader"),Ge(),je(11,"div")(12,"h2"),mt(13,"Rule file selection:"),Ge(),je(14,"app-rule-loader",5),wn("dataEmitter",function(c){return r.updateData(c)}),Ge()()()()(),je(15,"h3"),mt(16," Testsuite:\n"),Ge(),je(17,"div",6),dn(18,"app-editor",7,8),Ge(),dn(20,"br"),je(21,"app-toggle-display",9)(22,"h3"),mt(23," Test rules:\n"),Ge(),je(24,"div",10)(25,"div",6),dn(26,"app-editor",7,11),Ge(),je(28,"div",12),dn(29,"div",13)(30,"div",14),Ge()()(),dn(31,"app-gswb-settings",null,15)(33,"app-inference-settings",null,16),je(35,"div",17),dn(36,"input",18,19),je(38,"label",20),mt(39,"Pruning"),Ge()(),je(40,"button",21),wn("click",function(){Ln(i);const c=Gs(19),m=Gs(27);return ni(r.batchParse(c.getContent(),m.getContent()))}),sr(41,PY,2,0,"span",22),sr(42,LY,1,0,"span",23),sr(43,FY,2,0,"span",22),Ge(),je(44,"button",24),wn("click",function(){Ln(i);const c=Gs(19);return ni(r.batchMultistage(c.getContent()))}),sr(45,BY,2,0,"span",22),sr(46,VY,1,0,"span",23),sr(47,HY,2,0,"span",22),Ge(),dn(48,"div",25,26),je(50,"h3"),mt(51," Parsing report:\n"),Ge(),je(52,"app-toggle-display",27)(53,"div"),sr(54,zY,2,1,"div",28),Ge()(),dn(55,"br")(56,"br"),je(57,"h3"),mt(58," Inference report: "),Ge(),je(59,"app-toggle-display",27)(60,"div"),sr(61,UY,2,1,"div",28),Ge()(),dn(62,"br")(63,"br"),je(64,"pre"),mt(65),Ge(),je(66,"app-toggle-display",29)(67,"h3"),mt(68," Applied rules:\n"),Ge(),je(69,"div"),dn(70,"app-applied-rules-graph",30,31),Ge()()()}2&e&&(Bt(18),Wt("mode","text"),Bt(8),Wt("mode","liger"),Bt(15),Wt("ngIf",!r.loading),Bt(1),Wt("ngIf",r.loading),Bt(1),Wt("ngIf",r.loading),Bt(2),Wt("ngIf",!r.loading),Bt(1),Wt("ngIf",r.loading),Bt(1),Wt("ngIf",r.loading),Bt(7),Wt("ngForOf",r.regressionTestResults),Bt(7),Wt("ngForOf",r.inferenceResults),Bt(4),ap(r.inferenceSummary),Bt(5),Wt("graphID","arCy1"))},dependencies:[Bg,fl,Ep,wY,am,j0,t_,ZE,EY,QE,DY],styles:[".gradient-container[_ngcontent-%COMP%]{display:flex;align-items:stretch;max-width:100%}.bar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.gradient-bar[_ngcontent-%COMP%]{flex-grow:1;width:20px;background:linear-gradient(to bottom,yellow,red)}.empty-space[_ngcontent-%COMP%]{width:20px;height:30px}textarea[_ngcontent-%COMP%]{width:50%;resize:both;overflow:auto;padding-left:20px}.frame[_ngcontent-%COMP%]{padding-left:10px}div.result-container[_ngcontent-%COMP%]{width:800px;column-gap:20px;padding:5px;border:2px solid #00a9e0;align-items:flex-start;box-sizing:border-box}div.errorhandling[_ngcontent-%COMP%]{color:red;padding-bottom:10px}"]}),t})(),jY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-home"]],decls:32,vars:0,consts:[["href","https://github.com/Mmaz1988/GlueSemWorkbench_v2"],["href","https://github.com/Mmaz1988/liger"],["href","https://github.com/Mmaz1988/xle-glueworkbench-interface"],["href","https://github.com/Mmaz1988/xleplusglue-client"],["href","/demo "],["href","/regression"],["href","/inference"]],template:function(e,r){1&e&&(je(0,"div")(1,"h1"),mt(2," The XLE+Glue web application"),Ge(),je(3,"p"),mt(4,"This application presents several resources used for exploring LFG's glue semantics. Concretely, it presents the\n"),je(5,"a",0),mt(6," Glue semantics workbench "),Ge(),mt(7,"and the "),je(8,"a",1),mt(9," LiGER rewrite system "),Ge(),mt(10,". It also serves as a revised frontend for the original "),je(11,"a",2),mt(12,"XLE + Glue"),Ge(),mt(13,". As all of these resources, this frontend is open source.\nIt is available at: "),je(14,"a",3),mt(15,"XLE+Glue client"),Ge()(),je(16,"h2"),mt(17,"Using the system"),Ge(),mt(18," This system is designed for explorative analysis of formal linguistic annotation tools. It provides several interfaces: "),je(19,"ul")(20,"li")(21,"a",4),mt(22,"Demo"),Ge(),mt(23," - a simple interface for testing the LiGER rewrite system and the Glue semantics workbench."),Ge(),je(24,"li")(25,"a",5),mt(26,"Regression testing"),Ge(),mt(27," - An interface for incremental testing of XLE+Glue grammars."),Ge(),je(28,"li")(29,"a",6),mt(30,"Inference"),Ge(),mt(31," - An interface for testing the inference capabilities of XLE+Glue."),Ge()()())},styles:["div[_ngcontent-%COMP%]{padding-left:20px}p[_ngcontent-%COMP%]{width:800px}"]}),t})();const WY=["gswbPrefs"],$Y=["axiomEdit"];function YY(t,n){if(1&t){const e=Ua();je(0,"mat-tab-group",8),wn("selectedIndexChange",function(i){return Ln(e),ni(Or().onTabChange(i))}),je(1,"mat-tab",9)(2,"div",10),mt(3," This works "),Ge()(),je(4,"mat-tab",11)(5,"div",10)(6,"div",12),dn(7,"app-editor",13,14),Ge()()()()}2&t&&(Bt(7),Wt("mode","glue"))}let XY=(()=>{class t{constructor(e){this.cdRef=e,this.ruleFile="",this.history=[],this.axioms="",this.tabsInitialized=!1}ngAfterViewInit(){this.cdRef.detectChanges(),this.gswbPreferences?this.gswbPreferences.gswbPreferences={prover:1,debugging:!1,outputstyle:4,parseSem:!1,betaReduce:!0,resolveDrs:!1,glueOnly:!1,meaningOnly:!1,explainFail:!1,naturalDeductionStyle:0}:console.error("ERROR: `gswbPreferences` ViewChild not initialized!"),this.tabsInitialized=!0}updateData(e){this.ruleFile=e}updateHistory(e){console.log("History updated:",e),this.history=e}onTabChange(e){setTimeout(()=>{this.editor?.getContent&&(console.log("Updating axioms to: ",this.editor.getContent()),this.axioms=this.editor.getContent(),this.cdRef.detectChanges())})}}return t.\u0275fac=function(e){return new(e||t)(Ye(ls))},t.\u0275cmp=cr({type:t,selectors:[["app-inference-interface"]],viewQuery:function(e,r){if(1&e&&(Nn(WY,5),Nn($Y,5)),2&e){let i;xn(i=En())&&(r.gswbPreferences=i.first),xn(i=En())&&(r.editor=i.first)}},decls:19,vars:1,consts:[[1,"container"],["type","fileTree","showText","Show settings","hideText","Hide settings"],["toggleDisplayComponent",""],[1,"grammar-loader-container"],[3,"dataEmitter"],["gswbPrefs",""],["vampirePrefs",""],[3,"selectedIndexChange",4,"ngIf"],[3,"selectedIndexChange"],["label","Test items"],[1,"tab-content"],["label","Axioms"],[1,"editor-restr"],[3,"mode"],["axiomEdit",""]],template:function(e,r){1&e&&(je(0,"div",0)(1,"h1"),mt(2,"Semantig parser settings"),Ge(),je(3,"app-toggle-display",1,2)(5,"div",3)(6,"div")(7,"h2"),mt(8,"Grammar selection:"),Ge(),dn(9,"app-grammar-loader"),Ge(),je(10,"div")(11,"h2"),mt(12,"Rule file selection:"),Ge(),je(13,"app-rule-loader",4),wn("dataEmitter",function(s){return r.updateData(s)}),Ge()()(),dn(14,"app-gswb-settings",null,5)(16,"app-inference-settings",null,6),Ge()(),sr(18,YY,9,1,"mat-tab-group",7)),2&e&&(Bt(18),Wt("ngIf",r.tabsInitialized))},dependencies:[fl,qE,Mk,Ep,am,j0,t_,ZE,QE],styles:["mat-tab-group[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.tab-content[_ngcontent-%COMP%]{flex:1;padding:16px;overflow:auto;background:#f5f5f5;height:calc(85vh - 48px)}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}app-chat[_ngcontent-%COMP%]{flex:1;min-height:0}.grammar-loader-container[_ngcontent-%COMP%]{padding:5px;display:flex;gap:16px}.container[_ngcontent-%COMP%]{padding:15px}"]}),t})();const KY=["*"];let Ak=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-center-container"]],ngContentSelectors:KY,decls:2,vars:0,consts:[[1,"center-container"]],template:function(e,r){1&e&&(rp(),je(0,"div",0),ip(1),Ge())},styles:[".center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:16px;overflow:auto;background:#f5f5f5;width:100%;flex-shrink:0}"]}),t})();const qY=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"demo",component:F9},{path:"regression",component:GY},{path:"inference",component:XY},{path:"chat",component:yY},{path:"home",component:jY},{path:"glue",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-gswb-vis-container"]],decls:2,vars:0,template:function(e,r){1&e&&(je(0,"app-center-container"),dn(1,"app-gswb-vis"),Ge())},dependencies:[ER,Ak]}),t})()},{path:"liger",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=cr({type:t,selectors:[["app-liger-vis-container"]],decls:2,vars:0,template:function(e,r){1&e&&(je(0,"app-center-container"),dn(1,"app-liger-vis"),Ge())},dependencies:[gk,Ak]}),t})()}];let ZY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({imports:[xA.forRoot(qY),xA]}),t})(),QY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ti({type:t,bootstrap:[Zz]}),t.\u0275inj=ei({imports:[fI,GU,hG,UU,EC,ZY,V$,J$,d9,X7,gj]}),t})();f5().bootstrapModule(QY).catch(t=>console.error(t))},7925:(Y,se,D)=>{"use strict";D.r(se),D.d(se,{afterMain:()=>te,afterRead:()=>le,afterWrite:()=>oe,applyStyles:()=>ht,arrow:()=>Bi,auto:()=>C,basePlacements:()=>S,beforeMain:()=>ae,beforeRead:()=>ue,beforeWrite:()=>pe,bottom:()=>P,clippingParents:()=>V,computeStyles:()=>zl,createPopper:()=>Yn,createPopperBase:()=>ld,createPopperLite:()=>Rs,detectOverflow:()=>Na,end:()=>A,eventListeners:()=>pl,flip:()=>_u,hide:()=>oc,left:()=>I,main:()=>de,modifierPhases:()=>ie,offset:()=>sc,placements:()=>Q,popper:()=>k,popperGenerator:()=>Po,popperOffsets:()=>oi,preventOverflow:()=>Zi,read:()=>ne,reference:()=>H,right:()=>N,start:()=>R,top:()=>T,variationPlacements:()=>$,viewport:()=>L,write:()=>q});var T="top",P="bottom",N="right",I="left",C="auto",S=[T,P,N,I],R="start",A="end",V="clippingParents",L="viewport",k="popper",H="reference",$=S.reduce(function(Oe,Re){return Oe.concat([Re+"-"+R,Re+"-"+A])},[]),Q=[].concat(S,[C]).reduce(function(Oe,Re){return Oe.concat([Re,Re+"-"+R,Re+"-"+A])},[]),ue="beforeRead",ne="read",le="afterRead",ae="beforeMain",de="main",te="afterMain",pe="beforeWrite",q="write",oe="afterWrite",ie=[ue,ne,le,ae,de,te,pe,q,oe];function me(Oe){return Oe?(Oe.nodeName||"").toLowerCase():null}function we(Oe){if(null==Oe)return window;if("[object Window]"!==Oe.toString()){var Re=Oe.ownerDocument;return Re&&Re.defaultView||window}return Oe}function Se(Oe){return Oe instanceof we(Oe).Element||Oe instanceof Element}function De(Oe){return Oe instanceof we(Oe).HTMLElement||Oe instanceof HTMLElement}function ze(Oe){return!(typeof ShadowRoot>"u")&&(Oe instanceof we(Oe).ShadowRoot||Oe instanceof ShadowRoot)}const ht={name:"applyStyles",enabled:!0,phase:"write",fn:function Be(Oe){var Re=Oe.state;Object.keys(Re.elements).forEach(function(Ve){var rt=Re.styles[Ve]||{},tt=Re.attributes[Ve]||{},Qt=Re.elements[Ve];!De(Qt)||!me(Qt)||(Object.assign(Qt.style,rt),Object.keys(tt).forEach(function(yn){var Ht=tt[yn];!1===Ht?Qt.removeAttribute(yn):Qt.setAttribute(yn,!0===Ht?"":Ht)}))})},effect:function st(Oe){var Re=Oe.state,Ve={popper:{position:Re.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(Re.elements.popper.style,Ve.popper),Re.styles=Ve,Re.elements.arrow&&Object.assign(Re.elements.arrow.style,Ve.arrow),function(){Object.keys(Re.elements).forEach(function(rt){var tt=Re.elements[rt],Qt=Re.attributes[rt]||{},Ht=Object.keys(Re.styles.hasOwnProperty(rt)?Re.styles[rt]:Ve[rt]).reduce(function(tn,Un){return tn[Un]="",tn},{});!De(tt)||!me(tt)||(Object.assign(tt.style,Ht),Object.keys(Qt).forEach(function(tn){tt.removeAttribute(tn)}))})}},requires:["computeStyles"]};function Ze(Oe){return Oe.split("-")[0]}var Ct=Math.max,Qe=Math.min,Zt=Math.round;function zt(){var Oe=navigator.userAgentData;return null!=Oe&&Oe.brands&&Array.isArray(Oe.brands)?Oe.brands.map(function(Re){return Re.brand+"/"+Re.version}).join(" "):navigator.userAgent}function It(){return!/^((?!chrome|android).)*safari/i.test(zt())}function bn(Oe,Re,Ve){void 0===Re&&(Re=!1),void 0===Ve&&(Ve=!1);var rt=Oe.getBoundingClientRect(),tt=1,Qt=1;Re&&De(Oe)&&(tt=Oe.offsetWidth>0&&Zt(rt.width)/Oe.offsetWidth||1,Qt=Oe.offsetHeight>0&&Zt(rt.height)/Oe.offsetHeight||1);var Ht=(Se(Oe)?we(Oe):window).visualViewport,tn=!It()&&Ve,Un=(rt.left+(tn&&Ht?Ht.offsetLeft:0))/tt,Vt=(rt.top+(tn&&Ht?Ht.offsetTop:0))/Qt,Rr=rt.width/tt,er=rt.height/Qt;return{width:Rr,height:er,top:Vt,right:Un+Rr,bottom:Vt+er,left:Un,x:Un,y:Vt}}function hn(Oe){var Re=bn(Oe),Ve=Oe.offsetWidth,rt=Oe.offsetHeight;return Math.abs(Re.width-Ve)<=1&&(Ve=Re.width),Math.abs(Re.height-rt)<=1&&(rt=Re.height),{x:Oe.offsetLeft,y:Oe.offsetTop,width:Ve,height:rt}}function ut(Oe,Re){var Ve=Re.getRootNode&&Re.getRootNode();if(Oe.contains(Re))return!0;if(Ve&&ze(Ve)){var rt=Re;do{if(rt&&Oe.isSameNode(rt))return!0;rt=rt.parentNode||rt.host}while(rt)}return!1}function it(Oe){return we(Oe).getComputedStyle(Oe)}function pt(Oe){return["table","td","th"].indexOf(me(Oe))>=0}function Ft(Oe){return((Se(Oe)?Oe.ownerDocument:Oe.document)||window.document).documentElement}function St(Oe){return"html"===me(Oe)?Oe:Oe.assignedSlot||Oe.parentNode||(ze(Oe)?Oe.host:null)||Ft(Oe)}function Kn(Oe){return De(Oe)&&"fixed"!==it(Oe).position?Oe.offsetParent:null}function Mr(Oe){for(var Re=we(Oe),Ve=Kn(Oe);Ve&&pt(Ve)&&"static"===it(Ve).position;)Ve=Kn(Ve);return Ve&&("html"===me(Ve)||"body"===me(Ve)&&"static"===it(Ve).position)?Re:Ve||function Jn(Oe){var Re=/firefox/i.test(zt());if(/Trident/i.test(zt())&&De(Oe)&&"fixed"===it(Oe).position)return null;var tt=St(Oe);for(ze(tt)&&(tt=tt.host);De(tt)&&["html","body"].indexOf(me(tt))<0;){var Qt=it(tt);if("none"!==Qt.transform||"none"!==Qt.perspective||"paint"===Qt.contain||-1!==["transform","perspective"].indexOf(Qt.willChange)||Re&&"filter"===Qt.willChange||Re&&Qt.filter&&"none"!==Qt.filter)return tt;tt=tt.parentNode}return null}(Oe)||Re}function Lr(Oe){return["top","bottom"].indexOf(Oe)>=0?"x":"y"}function Er(Oe,Re,Ve){return Ct(Oe,Qe(Re,Ve))}function qr(Oe){return Object.assign({},{top:0,right:0,bottom:0,left:0},Oe)}function pn(Oe,Re){return Re.reduce(function(Ve,rt){return Ve[rt]=Oe,Ve},{})}const Bi={name:"arrow",enabled:!0,phase:"main",fn:function ro(Oe){var Re,Ve=Oe.state,rt=Oe.name,tt=Oe.options,Qt=Ve.elements.arrow,yn=Ve.modifiersData.popperOffsets,Ht=Ze(Ve.placement),tn=Lr(Ht),Vt=[I,N].indexOf(Ht)>=0?"height":"width";if(Qt&&yn){var Rr=function(Re,Ve){return qr("number"!=typeof(Re="function"==typeof Re?Re(Object.assign({},Ve.rects,{placement:Ve.placement})):Re)?Re:pn(Re,S))}(tt.padding,Ve),er=hn(Qt),or="y"===tn?T:I,ai="y"===tn?P:N,On=Ve.rects.reference[Vt]+Ve.rects.reference[tn]-yn[tn]-Ve.rects.popper[Vt],on=yn[tn]-Ve.rects.reference[tn],Br=Mr(Qt),mi=Br?"y"===tn?Br.clientHeight||0:Br.clientWidth||0:0,Vr=mi/2-er[Vt]/2+(On/2-on/2),_n=Er(Rr[or],Vr,mi-er[Vt]-Rr[ai]);Ve.modifiersData[rt]=((Re={})[tn]=_n,Re.centerOffset=_n-Vr,Re)}},effect:function Fi(Oe){var Re=Oe.state,rt=Oe.options.element,tt=void 0===rt?"[data-popper-arrow]":rt;null!=tt&&("string"==typeof tt&&!(tt=Re.elements.popper.querySelector(tt))||ut(Re.elements.popper,tt)&&(Re.elements.arrow=tt))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $r(Oe){return Oe.split("-")[1]}var Ki={top:"auto",right:"auto",bottom:"auto",left:"auto"};function As(Oe){var Re,Ve=Oe.popper,rt=Oe.popperRect,tt=Oe.placement,Qt=Oe.variation,yn=Oe.offsets,Ht=Oe.position,tn=Oe.gpuAcceleration,Un=Oe.adaptive,Vt=Oe.roundOffsets,Rr=Oe.isFixed,er=yn.x,or=void 0===er?0:er,ai=yn.y,On=void 0===ai?0:ai,on="function"==typeof Vt?Vt({x:or,y:On}):{x:or,y:On};or=on.x,On=on.y;var Br=yn.hasOwnProperty("x"),mi=yn.hasOwnProperty("y"),ci=I,vr=T,et=window;if(Un){var Vr=Mr(Ve),_n="clientHeight",Gn="clientWidth";Vr===we(Ve)&&"static"!==it(Vr=Ft(Ve)).position&&"absolute"===Ht&&(_n="scrollHeight",Gn="scrollWidth"),(tt===T||(tt===I||tt===N)&&Qt===A)&&(vr=P,On-=(Rr&&Vr===et&&et.visualViewport?et.visualViewport.height:Vr[_n])-rt.height,On*=tn?1:-1),tt!==I&&(tt!==T&&tt!==P||Qt!==A)||(ci=N,or-=(Rr&&Vr===et&&et.visualViewport?et.visualViewport.width:Vr[Gn])-rt.width,or*=tn?1:-1)}var Pr,mo=Object.assign({position:Ht},Un&&Ki),zi=!0===Vt?function Ya(Oe,Re){var rt=Oe.y,tt=Re.devicePixelRatio||1;return{x:Zt(Oe.x*tt)/tt||0,y:Zt(rt*tt)/tt||0}}({x:or,y:On},we(Ve)):{x:or,y:On};return or=zi.x,On=zi.y,Object.assign({},mo,tn?((Pr={})[vr]=mi?"0":"",Pr[ci]=Br?"0":"",Pr.transform=(et.devicePixelRatio||1)<=1?"translate("+or+"px, "+On+"px)":"translate3d("+or+"px, "+On+"px, 0)",Pr):((Re={})[vr]=mi?On+"px":"",Re[ci]=Br?or+"px":"",Re.transform="",Re))}const zl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function kn(Oe){var Re=Oe.state,Ve=Oe.options,rt=Ve.gpuAcceleration,tt=void 0===rt||rt,Qt=Ve.adaptive,yn=void 0===Qt||Qt,Ht=Ve.roundOffsets,tn=void 0===Ht||Ht,Un={placement:Ze(Re.placement),variation:$r(Re.placement),popper:Re.elements.popper,popperRect:Re.rects.popper,gpuAcceleration:tt,isFixed:"fixed"===Re.options.strategy};null!=Re.modifiersData.popperOffsets&&(Re.styles.popper=Object.assign({},Re.styles.popper,As(Object.assign({},Un,{offsets:Re.modifiersData.popperOffsets,position:Re.options.strategy,adaptive:yn,roundOffsets:tn})))),null!=Re.modifiersData.arrow&&(Re.styles.arrow=Object.assign({},Re.styles.arrow,As(Object.assign({},Un,{offsets:Re.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:tn})))),Re.attributes.popper=Object.assign({},Re.attributes.popper,{"data-popper-placement":Re.placement})},data:{}};var Xo={passive:!0};const pl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Ko(Oe){var Re=Oe.state,Ve=Oe.instance,rt=Oe.options,tt=rt.scroll,Qt=void 0===tt||tt,yn=rt.resize,Ht=void 0===yn||yn,tn=we(Re.elements.popper),Un=[].concat(Re.scrollParents.reference,Re.scrollParents.popper);return Qt&&Un.forEach(function(Vt){Vt.addEventListener("scroll",Ve.update,Xo)}),Ht&&tn.addEventListener("resize",Ve.update,Xo),function(){Qt&&Un.forEach(function(Vt){Vt.removeEventListener("scroll",Ve.update,Xo)}),Ht&&tn.removeEventListener("resize",Ve.update,Xo)}},data:{}};var Xa={left:"right",right:"left",bottom:"top",top:"bottom"};function Os(Oe){return Oe.replace(/left|right|bottom|top/g,function(Re){return Xa[Re]})}var Sn={start:"end",end:"start"};function ya(Oe){return Oe.replace(/start|end/g,function(Re){return Sn[Re]})}function go(Oe){var Re=we(Oe);return{scrollLeft:Re.pageXOffset,scrollTop:Re.pageYOffset}}function gi(Oe){return bn(Ft(Oe)).left+go(Oe).scrollLeft}function Ti(Oe){var Re=it(Oe);return/auto|scroll|overlay|hidden/.test(Re.overflow+Re.overflowY+Re.overflowX)}function Aa(Oe){return["html","body","#document"].indexOf(me(Oe))>=0?Oe.ownerDocument.body:De(Oe)&&Ti(Oe)?Oe:Aa(St(Oe))}function Vi(Oe,Re){var Ve;void 0===Re&&(Re=[]);var rt=Aa(Oe),tt=rt===(null==(Ve=Oe.ownerDocument)?void 0:Ve.body),Qt=we(rt),yn=tt?[Qt].concat(Qt.visualViewport||[],Ti(rt)?rt:[]):rt,Ht=Re.concat(yn);return tt?Ht:Ht.concat(Vi(St(yn)))}function Qs(Oe){return Object.assign({},Oe,{left:Oe.x,top:Oe.y,right:Oe.x+Oe.width,bottom:Oe.y+Oe.height})}function Oa(Oe,Re,Ve){return Re===L?Qs(function qi(Oe,Re){var Ve=we(Oe),rt=Ft(Oe),tt=Ve.visualViewport,Qt=rt.clientWidth,yn=rt.clientHeight,Ht=0,tn=0;if(tt){Qt=tt.width,yn=tt.height;var Un=It();(Un||!Un&&"fixed"===Re)&&(Ht=tt.offsetLeft,tn=tt.offsetTop)}return{width:Qt,height:yn,x:Ht+gi(Oe),y:tn}}(Oe,Ve)):Se(Re)?function rd(Oe,Re){var Ve=bn(Oe,!1,"fixed"===Re);return Ve.top=Ve.top+Oe.clientTop,Ve.left=Ve.left+Oe.clientLeft,Ve.bottom=Ve.top+Oe.clientHeight,Ve.right=Ve.left+Oe.clientWidth,Ve.width=Oe.clientWidth,Ve.height=Oe.clientHeight,Ve.x=Ve.left,Ve.y=Ve.top,Ve}(Re,Ve):Qs(function bu(Oe){var Re,Ve=Ft(Oe),rt=go(Oe),tt=null==(Re=Oe.ownerDocument)?void 0:Re.body,Qt=Ct(Ve.scrollWidth,Ve.clientWidth,tt?tt.scrollWidth:0,tt?tt.clientWidth:0),yn=Ct(Ve.scrollHeight,Ve.clientHeight,tt?tt.scrollHeight:0,tt?tt.clientHeight:0),Ht=-rt.scrollLeft+gi(Oe),tn=-rt.scrollTop;return"rtl"===it(tt||Ve).direction&&(Ht+=Ct(Ve.clientWidth,tt?tt.clientWidth:0)-Qt),{width:Qt,height:yn,x:Ht,y:tn}}(Ft(Oe)))}function us(Oe){var tn,Re=Oe.reference,Ve=Oe.element,rt=Oe.placement,tt=rt?Ze(rt):null,Qt=rt?$r(rt):null,yn=Re.x+Re.width/2-Ve.width/2,Ht=Re.y+Re.height/2-Ve.height/2;switch(tt){case T:tn={x:yn,y:Re.y-Ve.height};break;case P:tn={x:yn,y:Re.y+Re.height};break;case N:tn={x:Re.x+Re.width,y:Ht};break;case I:tn={x:Re.x-Ve.width,y:Ht};break;default:tn={x:Re.x,y:Re.y}}var Un=tt?Lr(tt):null;if(null!=Un){var Vt="y"===Un?"height":"width";switch(Qt){case R:tn[Un]=tn[Un]-(Re[Vt]/2-Ve[Vt]/2);break;case A:tn[Un]=tn[Un]+(Re[Vt]/2-Ve[Vt]/2)}}return tn}function Na(Oe,Re){void 0===Re&&(Re={});var rt=Re.placement,tt=void 0===rt?Oe.placement:rt,Qt=Re.strategy,yn=void 0===Qt?Oe.strategy:Qt,Ht=Re.boundary,tn=void 0===Ht?V:Ht,Un=Re.rootBoundary,Vt=void 0===Un?L:Un,Rr=Re.elementContext,er=void 0===Rr?k:Rr,or=Re.altBoundary,ai=void 0!==or&&or,On=Re.padding,on=void 0===On?0:On,Br=qr("number"!=typeof on?on:pn(on,S)),ci=Oe.rects.popper,vr=Oe.elements[ai?er===k?H:k:er],et=function id(Oe,Re,Ve,rt){var tt="clippingParents"===Re?function Js(Oe){var Re=Vi(St(Oe)),rt=["absolute","fixed"].indexOf(it(Oe).position)>=0&&De(Oe)?Mr(Oe):Oe;return Se(rt)?Re.filter(function(tt){return Se(tt)&&ut(tt,rt)&&"body"!==me(tt)}):[]}(Oe):[].concat(Re),Qt=[].concat(tt,[Ve]),Ht=Qt.reduce(function(tn,Un){var Vt=Oa(Oe,Un,rt);return tn.top=Ct(Vt.top,tn.top),tn.right=Qe(Vt.right,tn.right),tn.bottom=Qe(Vt.bottom,tn.bottom),tn.left=Ct(Vt.left,tn.left),tn},Oa(Oe,Qt[0],rt));return Ht.width=Ht.right-Ht.left,Ht.height=Ht.bottom-Ht.top,Ht.x=Ht.left,Ht.y=Ht.top,Ht}(Se(vr)?vr:vr.contextElement||Ft(Oe.elements.popper),tn,Vt,yn),Vr=bn(Oe.elements.reference),_n=us({reference:Vr,element:ci,strategy:"absolute",placement:tt}),Gn=Qs(Object.assign({},ci,_n)),di=er===k?Gn:Vr,Hi={top:et.top-di.top+Br.top,bottom:di.bottom-et.bottom+Br.bottom,left:et.left-di.left+Br.left,right:di.right-et.right+Br.right},mo=Oe.modifiersData.offset;if(er===k&&mo){var zi=mo[tt];Object.keys(Hi).forEach(function(Pr){var el=[N,P].indexOf(Pr)>=0?1:-1,fi=[T,P].indexOf(Pr)>=0?"y":"x";Hi[Pr]+=zi[fi]*el})}return Hi}const _u={name:"flip",enabled:!0,phase:"main",fn:function od(Oe){var Re=Oe.state,Ve=Oe.options,rt=Oe.name;if(!Re.modifiersData[rt]._skip){for(var tt=Ve.mainAxis,Qt=void 0===tt||tt,yn=Ve.altAxis,Ht=void 0===yn||yn,tn=Ve.fallbackPlacements,Un=Ve.padding,Vt=Ve.boundary,Rr=Ve.rootBoundary,er=Ve.altBoundary,or=Ve.flipVariations,ai=void 0===or||or,On=Ve.allowedAutoPlacements,on=Re.options.placement,Br=Ze(on),ci=tn||(Br!==on&&ai?function cs(Oe){if(Ze(Oe)===C)return[];var Re=Os(Oe);return[ya(Oe),Re,ya(Re)]}(on):[Os(on)]),vr=[on].concat(ci).reduce(function(ka,ks){return ka.concat(Ze(ks)===C?function ph(Oe,Re){void 0===Re&&(Re={});var tt=Re.boundary,Qt=Re.rootBoundary,yn=Re.padding,Ht=Re.flipVariations,tn=Re.allowedAutoPlacements,Un=void 0===tn?Q:tn,Vt=$r(Re.placement),Rr=Vt?Ht?$:$.filter(function(ai){return $r(ai)===Vt}):S,er=Rr.filter(function(ai){return Un.indexOf(ai)>=0});0===er.length&&(er=Rr);var or=er.reduce(function(ai,On){return ai[On]=Na(Oe,{placement:On,boundary:tt,rootBoundary:Qt,padding:yn})[Ze(On)],ai},{});return Object.keys(or).sort(function(ai,On){return or[ai]-or[On]})}(Re,{placement:ks,boundary:Vt,rootBoundary:Rr,padding:Un,flipVariations:ai,allowedAutoPlacements:On}):ks)},[]),et=Re.rects.reference,Vr=Re.rects.popper,_n=new Map,Gn=!0,di=vr[0],Hi=0;Hi<vr.length;Hi++){var mo=vr[Hi],zi=Ze(mo),Pr=$r(mo)===R,el=[T,P].indexOf(zi)>=0,fi=el?"width":"height",vo=Na(Re,{placement:mo,boundary:Vt,rootBoundary:Rr,altBoundary:er,padding:Un}),Ji=el?Pr?N:I:Pr?P:T;et[fi]>Vr[fi]&&(Ji=Os(Ji));var tl=Os(Ji),Mi=[];if(Qt&&Mi.push(vo[zi]<=0),Ht&&Mi.push(vo[Ji]<=0,vo[tl]<=0),Mi.every(function(ka){return ka})){di=mo,Gn=!1;break}_n.set(mo,Mi)}if(Gn)for(var lc=function(ks){var io=vr.find(function(tr){var qa=_n.get(tr);if(qa)return qa.slice(0,ks).every(function(mf){return mf})});if(io)return di=io,"break"},Gl=ai?3:1;Gl>0&&"break"!==lc(Gl);Gl--);Re.placement!==di&&(Re.modifiersData[rt]._skip=!0,Re.placement=di,Re.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ic(Oe,Re,Ve){return void 0===Ve&&(Ve={x:0,y:0}),{top:Oe.top-Re.height-Ve.y,right:Oe.right-Re.width+Ve.x,bottom:Oe.bottom-Re.height+Ve.y,left:Oe.left-Re.width-Ve.x}}function Ro(Oe){return[T,N,P,I].some(function(Re){return Oe[Re]>=0})}const oc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function ad(Oe){var Re=Oe.state,Ve=Oe.name,rt=Re.rects.reference,tt=Re.rects.popper,Qt=Re.modifiersData.preventOverflow,yn=Na(Re,{elementContext:"reference"}),Ht=Na(Re,{altBoundary:!0}),tn=ic(yn,rt),Un=ic(Ht,tt,Qt),Vt=Ro(tn),Rr=Ro(Un);Re.modifiersData[Ve]={referenceClippingOffsets:tn,popperEscapeOffsets:Un,isReferenceHidden:Vt,hasPopperEscaped:Rr},Re.attributes.popper=Object.assign({},Re.attributes.popper,{"data-popper-reference-hidden":Vt,"data-popper-escaped":Rr})}},sc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Ns(Oe){var Re=Oe.state,rt=Oe.name,tt=Oe.options.offset,Qt=void 0===tt?[0,0]:tt,yn=Q.reduce(function(Vt,Rr){return Vt[Rr]=function ac(Oe,Re,Ve){var rt=Ze(Oe),tt=[I,T].indexOf(rt)>=0?-1:1,Qt="function"==typeof Ve?Ve(Object.assign({},Re,{placement:Oe})):Ve,yn=Qt[0],Ht=Qt[1];return yn=yn||0,Ht=(Ht||0)*tt,[I,N].indexOf(rt)>=0?{x:Ht,y:yn}:{x:yn,y:Ht}}(Rr,Re.rects,Qt),Vt},{}),Ht=yn[Re.placement],Un=Ht.y;null!=Re.modifiersData.popperOffsets&&(Re.modifiersData.popperOffsets.x+=Ht.x,Re.modifiersData.popperOffsets.y+=Un),Re.modifiersData[rt]=yn}},oi={name:"popperOffsets",enabled:!0,phase:"read",fn:function sd(Oe){var Re=Oe.state;Re.modifiersData[Oe.name]=us({reference:Re.rects.reference,element:Re.rects.popper,strategy:"absolute",placement:Re.placement})},data:{}},Zi={name:"preventOverflow",enabled:!0,phase:"main",fn:function Ir(Oe){var Re=Oe.state,Ve=Oe.options,rt=Oe.name,tt=Ve.mainAxis,Qt=void 0===tt||tt,yn=Ve.altAxis,Ht=void 0!==yn&&yn,er=Ve.tether,or=void 0===er||er,ai=Ve.tetherOffset,On=void 0===ai?0:ai,on=Na(Re,{boundary:Ve.boundary,rootBoundary:Ve.rootBoundary,padding:Ve.padding,altBoundary:Ve.altBoundary}),Br=Ze(Re.placement),mi=$r(Re.placement),ci=!mi,vr=Lr(Br),et=function Ra(Oe){return"x"===Oe?"y":"x"}(vr),Vr=Re.modifiersData.popperOffsets,_n=Re.rects.reference,Gn=Re.rects.popper,di="function"==typeof On?On(Object.assign({},Re.rects,{placement:Re.placement})):On,Hi="number"==typeof di?{mainAxis:di,altAxis:di}:Object.assign({mainAxis:0,altAxis:0},di),mo=Re.modifiersData.offset?Re.modifiersData.offset[Re.placement]:null,zi={x:0,y:0};if(Vr){if(Qt){var Pr,el="y"===vr?T:I,fi="y"===vr?P:N,vo="y"===vr?"height":"width",Ji=Vr[vr],tl=Ji+on[el],Mi=Ji-on[fi],Ul=or?-Gn[vo]/2:0,lc=mi===R?_n[vo]:Gn[vo],Gl=mi===R?-Gn[vo]:-_n[vo],uc=Re.elements.arrow,ka=or&&uc?hn(uc):{width:0,height:0},ks=Re.modifiersData["arrow#persistent"]?Re.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},io=ks[el],tr=ks[fi],qa=Er(0,_n[vo],ka[vo]),mf=ci?_n[vo]/2-Ul-qa-io-Hi.mainAxis:lc-qa-io-Hi.mainAxis,cd=ci?-_n[vo]/2+Ul+qa+tr+Hi.mainAxis:Gl+qa+tr+Hi.mainAxis,an=Re.elements.arrow&&Mr(Re.elements.arrow),gl=an?"y"===vr?an.clientTop||0:an.clientLeft||0:0,ei=null!=(Pr=mo?.[vr])?Pr:0,cc=Ji+cd-ei,wu=Er(or?Qe(tl,Ji+mf-ei-gl):tl,Ji,or?Ct(Mi,cc):Mi);Vr[vr]=wu,zi[vr]=wu-Ji}if(Ht){var ml,Ps=Vr[et],jl="y"===et?"height":"width",dc=Ps+on["x"===vr?T:I],Vn=Ps-on["x"===vr?P:N],Za=-1!==[T,I].indexOf(Br),vl=null!=(ml=mo?.[et])?ml:0,yo=Za?dc:Ps-_n[jl]-Gn[jl]-vl+Hi.altAxis,ds=Za?Ps+_n[jl]+Gn[jl]-vl-Hi.altAxis:Vn,Wl=or&&Za?function Dn(Oe,Re,Ve){var rt=Er(Oe,Re,Ve);return rt>Ve?Ve:rt}(yo,Ps,ds):Er(or?yo:dc,Ps,or?ds:Vn);Vr[et]=Wl,zi[et]=Wl-Ps}Re.modifiersData[rt]=zi}},requiresIfExists:["offset"]};function Pi(Oe,Re,Ve){void 0===Ve&&(Ve=!1);var rt=De(Re),tt=De(Re)&&function gf(Oe){var Re=Oe.getBoundingClientRect(),Ve=Zt(Re.width)/Oe.offsetWidth||1,rt=Zt(Re.height)/Oe.offsetHeight||1;return 1!==Ve||1!==rt}(Re),Qt=Ft(Re),yn=bn(Oe,tt,Ve),Ht={scrollLeft:0,scrollTop:0},tn={x:0,y:0};return(rt||!rt&&!Ve)&&(("body"!==me(Re)||Ti(Qt))&&(Ht=function qo(Oe){return Oe!==we(Oe)&&De(Oe)?function ki(Oe){return{scrollLeft:Oe.scrollLeft,scrollTop:Oe.scrollTop}}(Oe):go(Oe)}(Re)),De(Re)?((tn=bn(Re,!0)).x+=Re.clientLeft,tn.y+=Re.clientTop):Qt&&(tn.x=gi(Qt))),{x:yn.left+Ht.scrollLeft-tn.x,y:yn.top+Ht.scrollTop-tn.y,width:yn.width,height:yn.height}}function Tn(Oe){var Re=new Map,Ve=new Set,rt=[];function tt(Qt){Ve.add(Qt.name),[].concat(Qt.requires||[],Qt.requiresIfExists||[]).forEach(function(Ht){if(!Ve.has(Ht)){var tn=Re.get(Ht);tn&&tt(tn)}}),rt.push(Qt)}return Oe.forEach(function(Qt){Re.set(Qt.name,Qt)}),Oe.forEach(function(Qt){Ve.has(Qt.name)||tt(Qt)}),rt}function Ka(Oe){var Re;return function(){return Re||(Re=new Promise(function(Ve){Promise.resolve().then(function(){Re=void 0,Ve(Oe())})})),Re}}var Fr={placement:"bottom",modifiers:[],strategy:"absolute"};function Qi(){for(var Oe=arguments.length,Re=new Array(Oe),Ve=0;Ve<Oe;Ve++)Re[Ve]=arguments[Ve];return!Re.some(function(rt){return!(rt&&"function"==typeof rt.getBoundingClientRect)})}function Po(Oe){void 0===Oe&&(Oe={});var Ve=Oe.defaultModifiers,rt=void 0===Ve?[]:Ve,tt=Oe.defaultOptions,Qt=void 0===tt?Fr:tt;return function(Ht,tn,Un){void 0===Un&&(Un=Qt);var Vt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fr,Qt),modifiersData:{},elements:{reference:Ht,popper:tn},attributes:{},styles:{}},Rr=[],er=!1,or={state:Vt,setOptions:function(Br){var mi="function"==typeof Br?Br(Vt.options):Br;On(),Vt.options=Object.assign({},Qt,Vt.options,mi),Vt.scrollParents={reference:Se(Ht)?Vi(Ht):Ht.contextElement?Vi(Ht.contextElement):[],popper:Vi(tn)};var ci=function ui(Oe){var Re=Tn(Oe);return ie.reduce(function(Ve,rt){return Ve.concat(Re.filter(function(tt){return tt.phase===rt}))},[])}(function ko(Oe){var Re=Oe.reduce(function(Ve,rt){var tt=Ve[rt.name];return Ve[rt.name]=tt?Object.assign({},tt,rt,{options:Object.assign({},tt.options,rt.options),data:Object.assign({},tt.data,rt.data)}):rt,Ve},{});return Object.keys(Re).map(function(Ve){return Re[Ve]})}([].concat(rt,Vt.options.modifiers)));return Vt.orderedModifiers=ci.filter(function(vr){return vr.enabled}),function ai(){Vt.orderedModifiers.forEach(function(on){var mi=on.options,vr=on.effect;if("function"==typeof vr){var et=vr({state:Vt,name:on.name,instance:or,options:void 0===mi?{}:mi});Rr.push(et||function(){})}})}(),or.update()},forceUpdate:function(){if(!er){var Br=Vt.elements,mi=Br.reference,ci=Br.popper;if(Qi(mi,ci)){Vt.rects={reference:Pi(mi,Mr(ci),"fixed"===Vt.options.strategy),popper:hn(ci)},Vt.reset=!1,Vt.placement=Vt.options.placement,Vt.orderedModifiers.forEach(function(Hi){return Vt.modifiersData[Hi.name]=Object.assign({},Hi.data)});for(var vr=0;vr<Vt.orderedModifiers.length;vr++)if(!0!==Vt.reset){var et=Vt.orderedModifiers[vr],Vr=et.fn,_n=et.options;"function"==typeof Vr&&(Vt=Vr({state:Vt,options:void 0===_n?{}:_n,name:et.name,instance:or})||Vt)}else Vt.reset=!1,vr=-1}}},update:Ka(function(){return new Promise(function(on){or.forceUpdate(),on(Vt)})}),destroy:function(){On(),er=!0}};if(!Qi(Ht,tn))return or;function On(){Rr.forEach(function(on){return on()}),Rr=[]}return or.setOptions(Un).then(function(on){!er&&Un.onFirstUpdate&&Un.onFirstUpdate(on)}),or}}var ld=Po(),Yn=Po({defaultModifiers:[pl,oi,zl,ht,sc,_u,Zi,Bi,oc]}),Rs=Po({defaultModifiers:[pl,oi,zl,ht]})},5886:function(Y,se,D){var T;Y.exports=(T=D(4465),function(P){var N={};function I(C){if(N[C])return N[C].exports;var S=N[C]={i:C,l:!1,exports:{}};return P[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=P,I.c=N,I.i=function(C){return C},I.d=function(C,S,R){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:R})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=6)}([function(P,N){P.exports=T},function(P,N,I){"use strict";var C=I(0).LGraph;function S(A,V,L){C.call(this,A,V,L),this.inOrder=void 0,this.currentIndex=0,this.nodeSeparation=void 0,this.stack=[],this.perimeter=0,this.centerX=0,this.centerY=0,this.radius=0}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];S.prototype.initOrdering=function(){this.inOrder=[]},S.prototype.getOrder=function(){return this.inOrder},S.prototype.getCenterX=function(){return this.centerX},S.prototype.getCenterY=function(){return this.centerY},S.prototype.getRadius=function(){return this.radius},S.prototype.getSize=function(){return this.getNodes().length},S.prototype.getTotalCrossingOfCircle=function(){var V=0;for(var L in this.inOrder){var k=L.getTotalCrossingOfEdges();if(-1===k)return-1;V+=k}return V/4},S.prototype.hasFinishedOrdering=function(){return this.currentIndex===this.getNodes().length},S.prototype.getNodeSeparation=function(){return this.nodeSeparation},S.prototype.setNodeSeparation=function(A){this.nodeSeparation=A},S.prototype.correctAngles=function(){var A=this;A.currentIndex=0,A.inOrder.forEach(function(V){return A.putInOrder(V)})},S.prototype.putInOrder=function(A){for(var V=this,L=V.getNodes(),k=!1,H=0;H<L.length;H++)if(L[H].id==A.id){k=!0;break}if(!k)throw"The node must be a member of LGraph";V.inOrder[V.currentIndex]=A,A.setIndex(V.currentIndex),A.setAngle(0===V.currentIndex?0:V.inOrder[V.currentIndex-1].getAngle()+2*Math.PI*(A.getDiagonal()/2+V.nodeSeparation+V.inOrder[V.currentIndex-1].getDiagonal()/2)/V.perimeter),V.currentIndex++},S.prototype.findNodeToPlace=function(){var A=this,V=void 0;if(0===A.stack.length)V=A.findUnorderedSmallestDegreeNode();else{for(var L=!1;!L&&0!==A.stack.length;)L=!(V=A.stack.pop()).isOrdered();L||(V=void 0)}if(void 0===V&&(V=A.findUnorderedSmallestDegreeNode()),void 0!==V)for(var k=V.getNeighborsSortedByDegree(),H=k.length-1;H>=0;H--){var $=k[H];$.isOrdered()||A.stack.push($)}return V},S.prototype.calculateRadius=function(){var A=this,V=0;A.getNodes().forEach(function(k){return V+=Math.sqrt(k.getWidth()*k.getWidth()+k.getHeight()*k.getHeight())}),A.perimeter=V+A.getNodes().length*A.nodeSeparation;var L=A.perimeter/(2*Math.PI);A.getParent().setWidth(2*L),A.getParent().setHeight(2*L),A.getParent().setCenter(A.getParent().getWidth(),A.getParent().getHeight()),A.centerX=A.getParent().getCenterX(),A.centerY=A.getParent().getCenterY(),A.radius=A.getParent().getHeight()/2},S.prototype.calculateEdgeCrossingsOfNodes=function(){this.getNodes().forEach(function(A){return A.calculateTotalCrossing()})},S.prototype.loadOldIndicesOfNodes=function(){for(var V=0;V<this.inOrder.length;V++)this.inOrder[V].setIndex(V)},S.prototype.reOrderVertices=function(){var A=this;this.getNodes().forEach(function(V){return A.inOrder[V.getIndex()]=V})},S.prototype.findUnorderedSmallestDegreeNode=function(){var A=Number.MAX_SAFE_INTEGER,V=void 0;return this.getNodes().forEach(function(L){L.getDegree()<A&&!L.isOrdered()&&(A=L.getDegree(),V=L)}),V},P.exports=S},function(P,N,I){"use strict";var C=I(0).LayoutConstants;function S(){}for(var R in C)S[R]=C[R];S.DEFAULT_NODE_SEPARATION=60,P.exports=S},function(P,N,I){"use strict";var C=I(0).LEdge;function S(A,V,L){C.call(this,A,V,L)}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];S.prototype.getOtherEnd=function(A){return C.prototype.getOtherEnd(A)},S.prototype.crossesWithEdge=function(A){var V=this,L=V.getSource().getIndex(),k=V.getTarget().getIndex(),H=A.getSource().getIndex(),$=A.getTarget().getIndex();if(-1===L||-1===k||-1===H||-1===$)return!1;var Q=A.getSource().getCircDistWithTheNode(V.getSource()),ue=A.getTarget().getCircDistWithTheNode(V.getSource()),ne=V.getTarget().getCircDistWithTheNode(V.getSource());return ne<Math.max(Q,ue)&&ne>Math.min(Q,ue)&&0!==ue&&0!==Q},S.prototype.crossingWithEdge=function(A){return this.crossesWithEdge(A)?1:0},S.prototype.calculateTotalCrossingWithList=function(A){var V=this,L=0;return A.forEach(function(k){return L+=V.crossingWithEdge(k)}),L},P.exports=S},function(P,N,I){"use strict";var C=I(0).LNode;function R(V,L,k,H){void 0!==k&&void 0!==H?C.call(this,V,L,k,H):C.call(this,V,L),this.angle=0,this.circleIndex=-1,this.totalCrossingOfEdges=-1,this.isCrossingNumberValid=!1}for(var A in I(0),R.prototype=Object.create(C.prototype),C)R[A]=C[A];R.prototype.getCircle=function(){return this.getOwner()},R.prototype.setIndex=function(V){this.circleIndex=V,this.isCrossingNumberValid=!1},R.prototype.getIndex=function(){return this.circleIndex},R.prototype.getNeighborsSortedByDegree=function(){var L=Array.from(this.getNeighborsList());return(L=L.filter(function(k){return-1===k.getIndex()})).sort(function(k,H){return k.getDegree()-H.getDegree()}),L},R.prototype.getDegree=function(){return this.getEdges().length},R.prototype.isOrdered=function(){return this.getIndex()>-1},R.prototype.setAngle=function(V){this.angle=V},R.prototype.getAngle=function(){return this.angle},R.prototype.getCircDistWithTheNode=function(V){var L=this,k=V.getIndex();if(-1===k||-1===L.getIndex())return-1;var H=L.getIndex()-k;return H<0&&(H+=L.getCircle().getSize()),H},R.prototype.getCrossingNumberWithNode=function(V){var k=0;return this.getEdges().forEach(function(H){V.getEdges().forEach(function($){k+=H.crossingWithEdge($)})}),k},R.prototype.getTotalCrossingOfEdges=function(){var V=this;return V.isCrossingNumberValid||(V.calculateTotalCrossing(),V.isCrossingNumberValid=!0),V.totalCrossingOfEdges},R.prototype.calculateTotalCrossing=function(){var V=this,L=0,k=[];k.push.apply(k,V.getCircle().getEdges()),k=k.filter(function(H){return V.getEdges().indexOf(H)<0}),V.getEdges().forEach(function(H){return L+=H.calculateTotalCrossingWithList(k)}),V.totalCrossingOfEdges=L},P.exports=R},function(P,N,I){"use strict";var C=I(0).Layout,S=I(2),R=I(1),A=I(4),V=I(3);function L(){C.call(this),this.nodeSeparation=S.DEFAULT_NODE_SEPARATION}for(var k in L.prototype=Object.create(C.prototype),C)L[k]=C[k];L.prototype.newGraph=function(H){return this.avsdfCircle=new R(null,this.graphManager,H),this.avsdfCircle},L.prototype.newNode=function(H){return new A(this.graphManager,H)},L.prototype.newEdge=function(H){return new V(null,null,H)},L.prototype.getPositionsData=function(){for(var H=this.graphManager.getAllNodes(),$={},Q=0;Q<H.length;Q++){var ue=H[Q].rect,ne=H[Q].id;$[ne]={id:ne,x:ue.getCenterX(),y:ue.getCenterY(),w:ue.width,h:ue.height}}return $},L.prototype.layout=function(){if(this.graphManager.getGraphs().length>1)return!1;var $=this.avsdfCircle;for($.setNodeSeparation(this.nodeSeparation),$.calculateRadius(),$.initOrdering();!$.hasFinishedOrdering();){var Q=$.findNodeToPlace();$.putInOrder(Q)}return!0},L.prototype.updateNodeAngles=function(){this.graphManager.getRoot().correctAngles()},L.prototype.updateNodeCoordinates=function(){var H=this.graphManager.getRoot();H.getNodes().forEach(function($){$.setCenter(H.getCenterX()+H.getRadius()*Math.cos($.getAngle()),H.getCenterY()+H.getRadius()*Math.sin($.getAngle()))})},L.prototype.initPostProcess=function(){this.avsdfCircle.calculateEdgeCrossingsOfNodes();var H=this.avsdfCircle.getNodes();return H.sort(function($,Q){return Q.getTotalCrossingOfEdges()-$.getTotalCrossingOfEdges()}),H},L.prototype.oneStepPostProcess=function(H){for(var $=this,Q=H.getTotalCrossingOfEdges(),ue=void 0,ne=Array.from(H.getNeighborsList()),le=0;le<ne.length;le++){var ae=ne[le],de=H.getIndex(),te=(ae.getIndex()+1)%$.avsdfCircle.getSize();if(de!==te){H.setIndex(te),de<H.getIndex()&&(de+=$.avsdfCircle.getSize());for(var pe=H.getIndex();pe<de;){var q=$.avsdfCircle.getOrder()[pe%$.avsdfCircle.getSize()];q.setIndex((q.getIndex()+1)%$.avsdfCircle.getSize()),pe+=1}H.calculateTotalCrossing(),(ue=H.getTotalCrossingOfEdges())>=Q?$.avsdfCircle.loadOldIndicesOfNodes():($.avsdfCircle.reOrderVertices(),Q=ue)}}},P.exports=L},function(P,N,I){"use strict";var C={};C.layoutBase=I(0),C.AVSDFConstants=I(2),C.AVSDFEdge=I(3),C.AVSDFCircle=I(1),C.AVSDFLayout=I(5),C.AVSDFNode=I(4),P.exports=C}]))},3163:(Y,se,D)=>{!function(T){var P=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),N=T.Pos,I={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function C(k){return k&&k.bracketRegex||/[(){}[\]]/}function S(k,H,$){var Q=k.getLineHandle(H.line),ue=H.ch-1,ne=$&&$.afterCursor;null==ne&&(ne=/(^| )cm-fat-cursor($| )/.test(k.getWrapperElement().className));var le=C($),ae=!ne&&ue>=0&&le.test(Q.text.charAt(ue))&&I[Q.text.charAt(ue)]||le.test(Q.text.charAt(ue+1))&&I[Q.text.charAt(++ue)];if(!ae)return null;var de=">"==ae.charAt(1)?1:-1;if($&&$.strict&&de>0!=(ue==H.ch))return null;var te=k.getTokenTypeAt(N(H.line,ue+1)),pe=R(k,N(H.line,ue+(de>0?1:0)),de,te,$);return null==pe?null:{from:N(H.line,ue),to:pe&&pe.pos,match:pe&&pe.ch==ae.charAt(0),forward:de>0}}function R(k,H,$,Q,ue){for(var ne=ue&&ue.maxScanLineLength||1e4,le=ue&&ue.maxScanLines||1e3,ae=[],de=C(ue),te=$>0?Math.min(H.line+le,k.lastLine()+1):Math.max(k.firstLine()-1,H.line-le),pe=H.line;pe!=te;pe+=$){var q=k.getLine(pe);if(q){var oe=$>0?0:q.length-1,ie=$>0?q.length:-1;if(!(q.length>ne))for(pe==H.line&&(oe=H.ch-($<0?1:0));oe!=ie;oe+=$){var me=q.charAt(oe);if(de.test(me)&&(void 0===Q||(k.getTokenTypeAt(N(pe,oe+1))||"")==(Q||""))){var we=I[me];if(we&&">"==we.charAt(1)==$>0)ae.push(me);else{if(!ae.length)return{pos:N(pe,oe),ch:me};ae.pop()}}}}}return pe-$!=($>0?k.lastLine():k.firstLine())&&null}function A(k,H,$){for(var Q=k.state.matchBrackets.maxHighlightLineLength||1e3,ue=$&&$.highlightNonMatching,ne=[],le=k.listSelections(),ae=0;ae<le.length;ae++){var de=le[ae].empty()&&S(k,le[ae].head,$);if(de&&(de.match||!1!==ue)&&k.getLine(de.from.line).length<=Q){var te=de.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";ne.push(k.markText(de.from,N(de.from.line,de.from.ch+1),{className:te})),de.to&&k.getLine(de.to.line).length<=Q&&ne.push(k.markText(de.to,N(de.to.line,de.to.ch+1),{className:te}))}}if(ne.length){P&&k.state.focused&&k.focus();var pe=function(){k.operation(function(){for(var q=0;q<ne.length;q++)ne[q].clear()})};if(!H)return pe;setTimeout(pe,800)}}function V(k){k.operation(function(){k.state.matchBrackets.currentlyHighlighted&&(k.state.matchBrackets.currentlyHighlighted(),k.state.matchBrackets.currentlyHighlighted=null),k.state.matchBrackets.currentlyHighlighted=A(k,!1,k.state.matchBrackets)})}function L(k){k.state.matchBrackets&&k.state.matchBrackets.currentlyHighlighted&&(k.state.matchBrackets.currentlyHighlighted(),k.state.matchBrackets.currentlyHighlighted=null)}T.defineOption("matchBrackets",!1,function(k,H,$){$&&$!=T.Init&&(k.off("cursorActivity",V),k.off("focus",V),k.off("blur",L),L(k)),H&&(k.state.matchBrackets="object"==typeof H?H:{},k.on("cursorActivity",V),k.on("focus",V),k.on("blur",L))}),T.defineExtension("matchBrackets",function(){A(this,!0)}),T.defineExtension("findMatchingBracket",function(k,H,$){return($||"boolean"==typeof H)&&($?($.strict=H,H=$):H=H?{strict:!0}:null),S(this,k,H)}),T.defineExtension("scanForBracket",function(k,H,$,Q){return R(this,k,H,$,Q)})}(D(656))},656:function(Y){Y.exports=function(){"use strict";var se=navigator.userAgent,D=navigator.platform,T=/gecko\/\d/i.test(se),P=/MSIE \d/.test(se),N=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(se),I=/Edge\/(\d+)/.exec(se),C=P||N||I,S=C&&(P?document.documentMode||6:+(I||N)[1]),R=!I&&/WebKit\//.test(se),A=R&&/Qt\/\d+\.\d+/.test(se),V=!I&&/Chrome\/(\d+)/.exec(se),L=V&&+V[1],k=/Opera\//.test(se),H=/Apple Computer/.test(navigator.vendor),$=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(se),Q=/PhantomJS/.test(se),ue=H&&(/Mobile\/\w+/.test(se)||navigator.maxTouchPoints>2),ne=/Android/.test(se),le=ue||ne||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(se),ae=ue||/Mac/.test(D),de=/\bCrOS\b/.test(se),te=/win/i.test(D),pe=k&&se.match(/Version\/(\d*\.\d*)/);pe&&(pe=Number(pe[1])),pe&&pe>=15&&(k=!1,R=!0);var q=ae&&(A||k&&(null==pe||pe<12.11)),oe=T||C&&S>=9;function ie(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var Be,me=function(a,d){var y=a.className,v=ie(d).exec(y);if(v){var b=y.slice(v.index+v[0].length);a.className=y.slice(0,v.index)+(b?v[1]+b:"")}};function we(a){for(var d=a.childNodes.length;d>0;--d)a.removeChild(a.firstChild);return a}function Se(a,d){return we(a).appendChild(d)}function De(a,d,y,v){var b=document.createElement(a);if(y&&(b.className=y),v&&(b.style.cssText=v),"string"==typeof d)b.appendChild(document.createTextNode(d));else if(d)for(var B=0;B<d.length;++B)b.appendChild(d[B]);return b}function ze(a,d,y,v){var b=De(a,d,y,v);return b.setAttribute("role","presentation"),b}function st(a,d){if(3==d.nodeType&&(d=d.parentNode),a.contains)return a.contains(d);do{if(11==d.nodeType&&(d=d.host),d==a)return!0}while(d=d.parentNode)}function ht(a){var d;try{d=a.activeElement}catch{d=a.body||null}for(;d&&d.shadowRoot&&d.shadowRoot.activeElement;)d=d.shadowRoot.activeElement;return d}function Ze(a,d){var y=a.className;ie(d).test(y)||(a.className+=(y?" ":"")+d)}function Ct(a,d){for(var y=a.split(" "),v=0;v<y.length;v++)y[v]&&!ie(y[v]).test(d)&&(d+=" "+y[v]);return d}Be=document.createRange?function(a,d,y,v){var b=document.createRange();return b.setEnd(v||a,y),b.setStart(a,d),b}:function(a,d,y){var v=document.body.createTextRange();try{v.moveToElementText(a.parentNode)}catch{return v}return v.collapse(!0),v.moveEnd("character",y),v.moveStart("character",d),v};var Qe=function(a){a.select()};function Zt(a){return a.display.wrapper.ownerDocument}function zt(a){return Zt(a).defaultView}function It(a){var d=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,d)}}function bn(a,d,y){for(var v in d||(d={}),a)a.hasOwnProperty(v)&&(!1!==y||!d.hasOwnProperty(v))&&(d[v]=a[v]);return d}function hn(a,d,y,v,b){null==d&&-1==(d=a.search(/[^\s\u00a0]/))&&(d=a.length);for(var B=v||0,G=b||0;;){var X=a.indexOf("\t",B);if(X<0||X>=d)return G+(d-B);G+=X-B,G+=y-G%y,B=X+1}}ue?Qe=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:C&&(Qe=function(a){try{a.select()}catch{}});var ut=function(){this.id=null,this.f=null,this.time=0,this.handler=It(this.onTimeout,this)};function it(a,d){for(var y=0;y<a.length;++y)if(a[y]==d)return y;return-1}ut.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},ut.prototype.set=function(a,d){this.f=d;var y=+new Date+a;(!this.id||y<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=y)};var pt=50,Ft={toString:function(){return"CodeMirror.Pass"}},St={scroll:!1},Kn={origin:"*mouse"},Jn={origin:"+move"};function Mr(a,d,y){for(var v=0,b=0;;){var B=a.indexOf("\t",v);-1==B&&(B=a.length);var G=B-v;if(B==a.length||b+G>=d)return v+Math.min(G,d-b);if(b+=B-v,v=B+1,(b+=y-b%y)>=d)return v}}var Lr=[""];function Er(a){for(;Lr.length<=a;)Lr.push(Dn(Lr)+" ");return Lr[a]}function Dn(a){return a[a.length-1]}function zn(a,d){for(var y=[],v=0;v<a.length;v++)y[v]=d(a[v],v);return y}function pn(){}function Ri(a,d){var y;return Object.create?y=Object.create(a):(pn.prototype=a,y=new pn),d&&bn(d,y),y}var ro=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Fi(a){return/\w/.test(a)||a>"\x80"&&(a.toUpperCase()!=a.toLowerCase()||ro.test(a))}function Bi(a,d){return d?!!(d.source.indexOf("\\w")>-1&&Fi(a))||d.test(a):Fi(a)}function $r(a){for(var d in a)if(a.hasOwnProperty(d)&&a[d])return!1;return!0}var Ki=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Ya(a){return a.charCodeAt(0)>=768&&Ki.test(a)}function As(a,d,y){for(;(y<0?d>0:d<a.length)&&Ya(a.charAt(d));)d+=y;return d}function kn(a,d,y){for(var v=d>y?-1:1;;){if(d==y)return d;var b=(d+y)/2,B=v<0?Math.ceil(b):Math.floor(b);if(B==d)return a(B)?d:y;a(B)?y=B:d=B+v}}var Xo=null;function Ko(a,d,y){var v;Xo=null;for(var b=0;b<a.length;++b){var B=a[b];if(B.from<d&&B.to>d)return b;B.to==d&&(B.from!=B.to&&"before"==y?v=b:Xo=b),B.from==d&&(B.from!=B.to&&"before"!=y?v=b:Xo=b)}return v??Xo}var pl=function(){function y(ce){return ce<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(ce):1424<=ce&&ce<=1524?"R":1536<=ce&&ce<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(ce-1536):1774<=ce&&ce<=2220?"r":8192<=ce&&ce<=8203?"w":8204==ce?"b":"L"}var v=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,b=/[stwN]/,B=/[LRr]/,G=/[Lb1n]/,X=/[1n]/;function ee(ce,Ee,Le){this.level=ce,this.from=Ee,this.to=Le}return function(ce,Ee){var Le="ltr"==Ee?"L":"R";if(0==ce.length||"ltr"==Ee&&!v.test(ce))return!1;for(var Ke=ce.length,$e=[],gt=0;gt<Ke;++gt)$e.push(y(ce.charCodeAt(gt)));for(var _t=0,Gt=Le;_t<Ke;++_t){var $t=$e[_t];"m"==$t?$e[_t]=Gt:Gt=$t}for(var Jt=0,Kt=Le;Jt<Ke;++Jt){var Xt=$e[Jt];"1"==Xt&&"r"==Kt?$e[Jt]="n":B.test(Xt)&&(Kt=Xt,"r"==Xt&&($e[Jt]="R"))}for(var Fn=1,Mn=$e[0];Fn<Ke-1;++Fn){var nr=$e[Fn];"+"==nr&&"1"==Mn&&"1"==$e[Fn+1]?$e[Fn]="1":","==nr&&Mn==$e[Fn+1]&&("1"==Mn||"n"==Mn)&&($e[Fn]=Mn),Mn=nr}for(var hr=0;hr<Ke;++hr){var Ai=$e[hr];if(","==Ai)$e[hr]="N";else if("%"==Ai){var xi=void 0;for(xi=hr+1;xi<Ke&&"%"==$e[xi];++xi);for(var Wo=hr&&"!"==$e[hr-1]||xi<Ke&&"1"==$e[xi]?"1":"N",$i=hr;$i<xi;++$i)$e[$i]=Wo;hr=xi-1}}for(var Oi=0,ha=Le;Oi<Ke;++Oi){var $o=$e[Oi];"L"==ha&&"1"==$o?$e[Oi]="L":B.test($o)&&(ha=$o)}for(var To=0;To<Ke;++To)if(b.test($e[To])){var Gr=void 0;for(Gr=To+1;Gr<Ke&&b.test($e[Gr]);++Gr);for(var Ei="L"==(To?$e[To-1]:Le),Kd=Ei==("L"==(Gr<Ke?$e[Gr]:Le))?Ei?"L":"R":Le,Ml=To;Ml<Gr;++Ml)$e[Ml]=Kd;To=Gr-1}for(var ll,ea=[],Mo=0;Mo<Ke;)if(G.test($e[Mo])){var zh=Mo;for(++Mo;Mo<Ke&&G.test($e[Mo]);++Mo);ea.push(new ee(0,zh,Mo))}else{var Il=Mo,Hu=ea.length,Al="rtl"==Ee?1:0;for(++Mo;Mo<Ke&&"L"!=$e[Mo];++Mo);for(var Ni=Il;Ni<Mo;)if(X.test($e[Ni])){Il<Ni&&(ea.splice(Hu,0,new ee(1,Il,Ni)),Hu+=Al);var Pc=Ni;for(++Ni;Ni<Mo&&X.test($e[Ni]);++Ni);ea.splice(Hu,0,new ee(2,Pc,Ni)),Hu+=Al,Il=Ni}else++Ni;Il<Mo&&ea.splice(Hu,0,new ee(1,Il,Mo))}return"ltr"==Ee&&(1==ea[0].level&&(ll=ce.match(/^\s+/))&&(ea[0].from=ll[0].length,ea.unshift(new ee(0,0,ll[0].length))),1==Dn(ea).level&&(ll=ce.match(/\s+$/))&&(Dn(ea).to-=ll[0].length,ea.push(new ee(0,Ke-ll[0].length,Ke)))),"rtl"==Ee?ea.reverse():ea}}();function Xa(a,d){var y=a.order;return null==y&&(y=a.order=pl(a.text,d)),y}var Os=[],Sn=function(a,d,y){if(a.addEventListener)a.addEventListener(d,y,!1);else if(a.attachEvent)a.attachEvent("on"+d,y);else{var v=a._handlers||(a._handlers={});v[d]=(v[d]||Os).concat(y)}};function ya(a,d){return a._handlers&&a._handlers[d]||Os}function go(a,d,y){if(a.removeEventListener)a.removeEventListener(d,y,!1);else if(a.detachEvent)a.detachEvent("on"+d,y);else{var v=a._handlers,b=v&&v[d];if(b){var B=it(b,y);B>-1&&(v[d]=b.slice(0,B).concat(b.slice(B+1)))}}}function gi(a,d){var y=ya(a,d);if(y.length)for(var v=Array.prototype.slice.call(arguments,2),b=0;b<y.length;++b)y[b].apply(null,v)}function qi(a,d,y){return"string"==typeof d&&(d={type:d,preventDefault:function(){this.defaultPrevented=!0}}),gi(a,y||d.type,a,d),rd(d)||d.codemirrorIgnore}function bu(a){var d=a._handlers&&a._handlers.cursorActivity;if(d)for(var y=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),v=0;v<d.length;++v)-1==it(y,d[v])&&y.push(d[v])}function Ti(a,d){return ya(a,d).length>0}function Aa(a){a.prototype.on=function(d,y){Sn(this,d,y)},a.prototype.off=function(d,y){go(this,d,y)}}function Vi(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Qs(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function rd(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function Oa(a){Vi(a),Qs(a)}function Js(a){return a.target||a.srcElement}function id(a){var d=a.which;return null==d&&(1&a.button?d=1:2&a.button?d=3:4&a.button&&(d=2)),ae&&a.ctrlKey&&1==d&&(d=3),d}var Na,cs,us=function(){if(C&&S<9)return!1;var a=De("div");return"draggable"in a||"dragDrop"in a}();function ph(a){if(null==Na){var d=De("span","\u200b");Se(a,De("span",[d,document.createTextNode("x")])),0!=a.firstChild.offsetHeight&&(Na=d.offsetWidth<=1&&d.offsetHeight>2&&!(C&&S<8))}var y=Na?De("span","\u200b"):De("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return y.setAttribute("cm-text",""),y}function od(a){if(null!=cs)return cs;var d=Se(a,document.createTextNode("A\u062eA")),y=Be(d,0,1).getBoundingClientRect(),v=Be(d,1,2).getBoundingClientRect();return we(a),!(!y||y.left==y.right)&&(cs=v.right-y.right<3)}var a,_u=3!="\n\nb".split(/\n/).length?function(a){for(var d=0,y=[],v=a.length;d<=v;){var b=a.indexOf("\n",d);-1==b&&(b=a.length);var B=a.slice(d,"\r"==a.charAt(b-1)?b-1:b),G=B.indexOf("\r");-1!=G?(y.push(B.slice(0,G)),d+=G+1):(y.push(B),d=b+1)}return y}:function(a){return a.split(/\r\n?|\n/)},ic=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var d;try{d=a.ownerDocument.selection.createRange()}catch{}return!(!d||d.parentElement()!=a)&&0!=d.compareEndPoints("StartToEnd",d)},Ro="oncopy"in(a=De("div"))||(a.setAttribute("oncopy","return;"),"function"==typeof a.oncopy),ad=null;var ac={},Ns={};function sc(a,d){arguments.length>2&&(d.dependencies=Array.prototype.slice.call(arguments,2)),ac[a]=d}function oi(a){if("string"==typeof a&&Ns.hasOwnProperty(a))a=Ns[a];else if(a&&"string"==typeof a.name&&Ns.hasOwnProperty(a.name)){var d=Ns[a.name];"string"==typeof d&&(d={name:d}),(a=Ri(d,a)).name=d.name}else{if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return oi("application/xml");if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return oi("application/json")}return"string"==typeof a?{name:a}:a||{name:"null"}}function Ra(a,d){d=oi(d);var y=ac[d.name];if(!y)return Ra(a,"text/plain");var v=y(a,d);if(Ir.hasOwnProperty(d.name)){var b=Ir[d.name];for(var B in b)b.hasOwnProperty(B)&&(v.hasOwnProperty(B)&&(v["_"+B]=v[B]),v[B]=b[B])}if(v.name=d.name,d.helperType&&(v.helperType=d.helperType),d.modeProps)for(var G in d.modeProps)v[G]=d.modeProps[G];return v}var Ir={};function Zi(a,d){bn(d,Ir.hasOwnProperty(a)?Ir[a]:Ir[a]={})}function ki(a,d){if(!0===d)return d;if(a.copyState)return a.copyState(d);var y={};for(var v in d){var b=d[v];b instanceof Array&&(b=b.concat([])),y[v]=b}return y}function qo(a,d){for(var y;a.innerMode&&(y=a.innerMode(d))&&y.mode!=a;)d=y.state,a=y.mode;return y||{mode:a,state:d}}function gf(a,d,y){return!a.startState||a.startState(d,y)}var Pi=function(a,d,y){this.pos=this.start=0,this.string=a,this.tabSize=d||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=y};function Tn(a,d){if((d-=a.first)<0||d>=a.size)throw new Error("There is no line "+(d+a.first)+" in the document.");for(var y=a;!y.lines;)for(var v=0;;++v){var b=y.children[v],B=b.chunkSize();if(d<B){y=b;break}d-=B}return y.lines[d]}function ui(a,d,y){var v=[],b=d.line;return a.iter(d.line,y.line+1,function(B){var G=B.text;b==y.line&&(G=G.slice(0,y.ch)),b==d.line&&(G=G.slice(d.ch)),v.push(G),++b}),v}function Ka(a,d,y){var v=[];return a.iter(d,y,function(b){v.push(b.text)}),v}function ko(a,d){var y=d-a.height;if(y)for(var v=a;v;v=v.parent)v.height+=y}function Fr(a){if(null==a.parent)return null;for(var d=a.parent,y=it(d.lines,a),v=d.parent;v;d=v,v=v.parent)for(var b=0;v.children[b]!=d;++b)y+=v.children[b].chunkSize();return y+d.first}function Qi(a,d){var y=a.first;e:do{for(var v=0;v<a.children.length;++v){var b=a.children[v],B=b.height;if(d<B){a=b;continue e}d-=B,y+=b.chunkSize()}return y}while(!a.lines);for(var G=0;G<a.lines.length;++G){var ee=a.lines[G].height;if(d<ee)break;d-=ee}return y+G}function Po(a,d){return d>=a.first&&d<a.first+a.size}function ld(a,d){return String(a.lineNumberFormatter(d+a.firstLineNumber))}function Tt(a,d,y){if(void 0===y&&(y=null),!(this instanceof Tt))return new Tt(a,d,y);this.line=a,this.ch=d,this.sticky=y}function Yn(a,d){return a.line-d.line||a.ch-d.ch}function ud(a,d){return a.sticky==d.sticky&&0==Yn(a,d)}function Rs(a){return Tt(a.line,a.ch)}function Oe(a,d){return Yn(a,d)<0?d:a}function Re(a,d){return Yn(a,d)<0?a:d}function Ve(a,d){return Math.max(a.first,Math.min(d,a.first+a.size-1))}function rt(a,d){if(d.line<a.first)return Tt(a.first,0);var y=a.first+a.size-1;return d.line>y?Tt(y,Tn(a,y).text.length):function tt(a,d){var y=a.ch;return null==y||y>d?Tt(a.line,d):y<0?Tt(a.line,0):a}(d,Tn(a,d.line).text.length)}function Qt(a,d){for(var y=[],v=0;v<d.length;v++)y[v]=rt(a,d[v]);return y}Pi.prototype.eol=function(){return this.pos>=this.string.length},Pi.prototype.sol=function(){return this.pos==this.lineStart},Pi.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Pi.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Pi.prototype.eat=function(a){var d=this.string.charAt(this.pos);if("string"==typeof a?d==a:d&&(a.test?a.test(d):a(d)))return++this.pos,d},Pi.prototype.eatWhile=function(a){for(var d=this.pos;this.eat(a););return this.pos>d},Pi.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},Pi.prototype.skipToEnd=function(){this.pos=this.string.length},Pi.prototype.skipTo=function(a){var d=this.string.indexOf(a,this.pos);if(d>-1)return this.pos=d,!0},Pi.prototype.backUp=function(a){this.pos-=a},Pi.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=hn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?hn(this.string,this.lineStart,this.tabSize):0)},Pi.prototype.indentation=function(){return hn(this.string,null,this.tabSize)-(this.lineStart?hn(this.string,this.lineStart,this.tabSize):0)},Pi.prototype.match=function(a,d,y){if("string"!=typeof a){var B=this.string.slice(this.pos).match(a);return B&&B.index>0?null:(B&&!1!==d&&(this.pos+=B[0].length),B)}var v=function(G){return y?G.toLowerCase():G};if(v(this.string.substr(this.pos,a.length))==v(a))return!1!==d&&(this.pos+=a.length),!0},Pi.prototype.current=function(){return this.string.slice(this.start,this.pos)},Pi.prototype.hideFirstChars=function(a,d){this.lineStart+=a;try{return d()}finally{this.lineStart-=a}},Pi.prototype.lookAhead=function(a){var d=this.lineOracle;return d&&d.lookAhead(a)},Pi.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var yn=function(a,d){this.state=a,this.lookAhead=d},Ht=function(a,d,y,v){this.state=d,this.doc=a,this.line=y,this.maxLookAhead=v||0,this.baseTokens=null,this.baseTokenPos=1};function tn(a,d,y,v){var b=[a.state.modeGen],B={};Br(a,d.text,a.doc.mode,y,function(ce,Ee){return b.push(ce,Ee)},B,v);for(var G=y.state,X=function(ce){y.baseTokens=b;var Ee=a.state.overlays[ce],Le=1,Ke=0;y.state=!0,Br(a,d.text,Ee.mode,y,function($e,gt){for(var _t=Le;Ke<$e;){var Gt=b[Le];Gt>$e&&b.splice(Le,1,$e,b[Le+1],Gt),Le+=2,Ke=Math.min($e,Gt)}if(gt)if(Ee.opaque)b.splice(_t,Le-_t,$e,"overlay "+gt),Le=_t+2;else for(;_t<Le;_t+=2){var $t=b[_t+1];b[_t+1]=($t?$t+" ":"")+"overlay "+gt}},B),y.state=G,y.baseTokens=null,y.baseTokenPos=1},ee=0;ee<a.state.overlays.length;++ee)X(ee);return{styles:b,classes:B.bgClass||B.textClass?B:null}}function Un(a,d,y){if(!d.styles||d.styles[0]!=a.state.modeGen){var v=Vt(a,Fr(d)),b=d.text.length>a.options.maxHighlightLength&&ki(a.doc.mode,v.state),B=tn(a,d,v);b&&(v.state=b),d.stateAfter=v.save(!b),d.styles=B.styles,B.classes?d.styleClasses=B.classes:d.styleClasses&&(d.styleClasses=null),y===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return d.styles}function Vt(a,d,y){var v=a.doc,b=a.display;if(!v.mode.startState)return new Ht(v,!0,d);var B=function mi(a,d,y){for(var v,b,B=a.doc,G=y?-1:d-(a.doc.mode.innerMode?1e3:100),X=d;X>G;--X){if(X<=B.first)return B.first;var ee=Tn(B,X-1),ce=ee.stateAfter;if(ce&&(!y||X+(ce instanceof yn?ce.lookAhead:0)<=B.modeFrontier))return X;var Ee=hn(ee.text,null,a.options.tabSize);(null==b||v>Ee)&&(b=X-1,v=Ee)}return b}(a,d,y),G=B>v.first&&Tn(v,B-1).stateAfter,X=G?Ht.fromSaved(v,G,B):new Ht(v,gf(v.mode),B);return v.iter(B,d,function(ee){Rr(a,ee.text,X);var ce=X.line;ee.stateAfter=ce==d-1||ce%5==0||ce>=b.viewFrom&&ce<b.viewTo?X.save():null,X.nextLine()}),y&&(v.modeFrontier=X.line),X}function Rr(a,d,y,v){var b=a.doc.mode,B=new Pi(d,a.options.tabSize,y);for(B.start=B.pos=v||0,""==d&&er(b,y.state);!B.eol();)or(b,B,y.state),B.start=B.pos}function er(a,d){if(a.blankLine)return a.blankLine(d);if(a.innerMode){var y=qo(a,d);if(y.mode.blankLine)return y.mode.blankLine(y.state)}}function or(a,d,y,v){for(var b=0;b<10;b++){v&&(v[0]=qo(a,y).mode);var B=a.token(d,y);if(d.pos>d.start)return B}throw new Error("Mode "+a.name+" failed to advance stream.")}Ht.prototype.lookAhead=function(a){var d=this.doc.getLine(this.line+a);return null!=d&&a>this.maxLookAhead&&(this.maxLookAhead=a),d},Ht.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var d=this.baseTokens[this.baseTokenPos+1];return{type:d&&d.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Ht.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Ht.fromSaved=function(a,d,y){return d instanceof yn?new Ht(a,ki(a.mode,d.state),y,d.lookAhead):new Ht(a,ki(a.mode,d),y)},Ht.prototype.save=function(a){var d=!1!==a?ki(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new yn(d,this.maxLookAhead):d};var ai=function(a,d,y){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=d||null,this.state=y};function On(a,d,y,v){var G,Ee,b=a.doc,B=b.mode,X=Tn(b,(d=rt(b,d)).line),ee=Vt(a,d.line,y),ce=new Pi(X.text,a.options.tabSize,ee);for(v&&(Ee=[]);(v||ce.pos<d.ch)&&!ce.eol();)ce.start=ce.pos,G=or(B,ce,ee.state),v&&Ee.push(new ai(ce,G,ki(b.mode,ee.state)));return v?Ee:new ai(ce,G,ee.state)}function on(a,d){if(a)for(;;){var y=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!y)break;a=a.slice(0,y.index)+a.slice(y.index+y[0].length);var v=y[1]?"bgClass":"textClass";null==d[v]?d[v]=y[2]:new RegExp("(?:^|\\s)"+y[2]+"(?:$|\\s)").test(d[v])||(d[v]+=" "+y[2])}return a}function Br(a,d,y,v,b,B,G){var X=y.flattenSpans;null==X&&(X=a.options.flattenSpans);var Le,ee=0,ce=null,Ee=new Pi(d,a.options.tabSize,v),Ke=a.options.addModeClass&&[null];for(""==d&&on(er(y,v.state),B);!Ee.eol();){if(Ee.pos>a.options.maxHighlightLength?(X=!1,G&&Rr(a,d,v,Ee.pos),Ee.pos=d.length,Le=null):Le=on(or(y,Ee,v.state,Ke),B),Ke){var $e=Ke[0].name;$e&&(Le="m-"+(Le?$e+" "+Le:$e))}if(!X||ce!=Le){for(;ee<Ee.start;)b(ee=Math.min(Ee.start,ee+5e3),ce);ce=Le}Ee.start=Ee.pos}for(;ee<Ee.pos;){var gt=Math.min(Ee.pos,ee+5e3);b(gt,ce),ee=gt}}var vr=!1,et=!1;function Gn(a,d,y){this.marker=a,this.from=d,this.to=y}function di(a,d){if(a)for(var y=0;y<a.length;++y){var v=a[y];if(v.marker==d)return v}}function Hi(a,d){for(var y,v=0;v<a.length;++v)a[v]!=d&&(y||(y=[])).push(a[v]);return y}function el(a,d){if(d.full)return null;var y=Po(a,d.from.line)&&Tn(a,d.from.line).markedSpans,v=Po(a,d.to.line)&&Tn(a,d.to.line).markedSpans;if(!y&&!v)return null;var b=d.from.ch,B=d.to.ch,G=0==Yn(d.from,d.to),X=function zi(a,d,y){var v;if(a)for(var b=0;b<a.length;++b){var B=a[b],G=B.marker;null!=B.from&&!(G.inclusiveLeft?B.from<=d:B.from<d)&&(B.from!=d||"bookmark"!=G.type||y&&B.marker.insertLeft)||(v||(v=[])).push(new Gn(G,B.from,null==B.to||(G.inclusiveRight?B.to>=d:B.to>d)?null:B.to))}return v}(y,b,G),ee=function Pr(a,d,y){var v;if(a)for(var b=0;b<a.length;++b){var B=a[b],G=B.marker;(null==B.to||(G.inclusiveRight?B.to>=d:B.to>d)||B.from==d&&"bookmark"==G.type&&(!y||B.marker.insertLeft))&&(v||(v=[])).push(new Gn(G,null==B.from||(G.inclusiveLeft?B.from<=d:B.from<d)?null:B.from-d,null==B.to?null:B.to-d))}return v}(v,B,G),ce=1==d.text.length,Ee=Dn(d.text).length+(ce?b:0);if(X)for(var Le=0;Le<X.length;++Le){var Ke=X[Le];if(null==Ke.to){var $e=di(ee,Ke.marker);$e?ce&&(Ke.to=null==$e.to?null:$e.to+Ee):Ke.to=b}}if(ee)for(var gt=0;gt<ee.length;++gt){var _t=ee[gt];null!=_t.to&&(_t.to+=Ee),null==_t.from?di(X,_t.marker)||(_t.from=Ee,ce&&(X||(X=[])).push(_t)):(_t.from+=Ee,ce&&(X||(X=[])).push(_t))}X&&(X=fi(X)),ee&&ee!=X&&(ee=fi(ee));var $t=[X];if(!ce){var Kt,Jt=d.text.length-2;if(Jt>0&&X)for(var Xt=0;Xt<X.length;++Xt)null==X[Xt].to&&(Kt||(Kt=[])).push(new Gn(X[Xt].marker,null,null));for(var Fn=0;Fn<Jt;++Fn)$t.push(Kt);$t.push(ee)}return $t}function fi(a){for(var d=0;d<a.length;++d){var y=a[d];null!=y.from&&y.from==y.to&&!1!==y.marker.clearWhenEmpty&&a.splice(d--,1)}return a.length?a:null}function Ji(a){var d=a.markedSpans;if(d){for(var y=0;y<d.length;++y)d[y].marker.detachLine(a);a.markedSpans=null}}function tl(a,d){if(d){for(var y=0;y<d.length;++y)d[y].marker.attachLine(a);a.markedSpans=d}}function Mi(a){return a.inclusiveLeft?-1:0}function Ul(a){return a.inclusiveRight?1:0}function lc(a,d){var y=a.lines.length-d.lines.length;if(0!=y)return y;var v=a.find(),b=d.find(),B=Yn(v.from,b.from)||Mi(a)-Mi(d);return B?-B:Yn(v.to,b.to)||Ul(a)-Ul(d)||d.id-a.id}function Gl(a,d){var v,y=et&&a.markedSpans;if(y)for(var b=void 0,B=0;B<y.length;++B)(b=y[B]).marker.collapsed&&null==(d?b.from:b.to)&&(!v||lc(v,b.marker)<0)&&(v=b.marker);return v}function uc(a){return Gl(a,!0)}function ka(a){return Gl(a,!1)}function ks(a,d){var v,y=et&&a.markedSpans;if(y)for(var b=0;b<y.length;++b){var B=y[b];B.marker.collapsed&&(null==B.from||B.from<d)&&(null==B.to||B.to>d)&&(!v||lc(v,B.marker)<0)&&(v=B.marker)}return v}function io(a,d,y,v,b){var B=Tn(a,d),G=et&&B.markedSpans;if(G)for(var X=0;X<G.length;++X){var ee=G[X];if(ee.marker.collapsed){var ce=ee.marker.find(0),Ee=Yn(ce.from,y)||Mi(ee.marker)-Mi(b),Le=Yn(ce.to,v)||Ul(ee.marker)-Ul(b);if(!(Ee>=0&&Le<=0||Ee<=0&&Le>=0)&&(Ee<=0&&(ee.marker.inclusiveRight&&b.inclusiveLeft?Yn(ce.to,y)>=0:Yn(ce.to,y)>0)||Ee>=0&&(ee.marker.inclusiveRight&&b.inclusiveLeft?Yn(ce.from,v)<=0:Yn(ce.from,v)<0)))return!0}}}function tr(a){for(var d;d=uc(a);)a=d.find(-1,!0).line;return a}function cd(a,d){var y=Tn(a,d),v=tr(y);return y==v?d:Fr(v)}function an(a,d){if(d>a.lastLine())return d;var v,y=Tn(a,d);if(!gl(a,y))return d;for(;v=ka(y);)y=v.find(1,!0).line;return Fr(y)+1}function gl(a,d){var y=et&&d.markedSpans;if(y)for(var v=void 0,b=0;b<y.length;++b)if((v=y[b]).marker.collapsed){if(null==v.from)return!0;if(!v.marker.widgetNode&&0==v.from&&v.marker.inclusiveLeft&&ei(a,d,v))return!0}}function ei(a,d,y){if(null==y.to){var v=y.marker.find(1,!0);return ei(a,v.line,di(v.line.markedSpans,y.marker))}if(y.marker.inclusiveRight&&y.to==d.text.length)return!0;for(var b=void 0,B=0;B<d.markedSpans.length;++B)if((b=d.markedSpans[B]).marker.collapsed&&!b.marker.widgetNode&&b.from==y.to&&(null==b.to||b.to!=y.from)&&(b.marker.inclusiveLeft||y.marker.inclusiveRight)&&ei(a,d,b))return!0}function Pa(a){for(var d=0,y=(a=tr(a)).parent,v=0;v<y.lines.length;++v){var b=y.lines[v];if(b==a)break;d+=b.height}for(var B=y.parent;B;B=(y=B).parent)for(var G=0;G<B.children.length;++G){var X=B.children[G];if(X==y)break;d+=X.height}return d}function cc(a){if(0==a.height)return 0;for(var y,d=a.text.length,v=a;y=uc(v);){var b=y.find(0,!0);v=b.from.line,d+=b.from.ch-b.to.ch}for(v=a;y=ka(v);){var B=y.find(0,!0);d-=v.text.length-B.from.ch,d+=(v=B.to.line).text.length-B.to.ch}return d}function wu(a){var d=a.display,y=a.doc;d.maxLine=Tn(y,y.first),d.maxLineLength=cc(d.maxLine),d.maxLineChanged=!0,y.iter(function(v){var b=cc(v);b>d.maxLineLength&&(d.maxLineLength=b,d.maxLine=v)})}var ml=function(a,d,y){this.text=a,tl(this,d),this.height=y?y(this):1};function La(a){a.parent=null,Ji(a)}ml.prototype.lineNo=function(){return Fr(this)},Aa(ml);var Ps={},jl={};function dc(a,d){if(!a||/^\s*$/.test(a))return null;var y=d.addModeClass?jl:Ps;return y[a]||(y[a]=a.replace(/\S+/g,"cm-$&"))}function Vn(a,d){var y=ze("span",null,null,R?"padding-right: .1px":null),v={pre:ze("pre",[y],"CodeMirror-line"),content:y,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};d.measure={};for(var b=0;b<=(d.rest?d.rest.length:0);b++){var B=b?d.rest[b-1]:d.line,G=void 0;v.pos=0,v.addToken=vl,od(a.display.measure)&&(G=Xa(B,a.doc.direction))&&(v.addToken=ds(v.addToken,G)),v.map=[],vi(B,v,Un(a,B,d!=a.display.externalMeasured&&Fr(B))),B.styleClasses&&(B.styleClasses.bgClass&&(v.bgClass=Ct(B.styleClasses.bgClass,v.bgClass||"")),B.styleClasses.textClass&&(v.textClass=Ct(B.styleClasses.textClass,v.textClass||""))),0==v.map.length&&v.map.push(0,0,v.content.appendChild(ph(a.display.measure))),0==b?(d.measure.map=v.map,d.measure.cache={}):((d.measure.maps||(d.measure.maps=[])).push(v.map),(d.measure.caches||(d.measure.caches=[])).push({}))}if(R){var ee=v.content.lastChild;(/\bcm-tab\b/.test(ee.className)||ee.querySelector&&ee.querySelector(".cm-tab"))&&(v.content.className="cm-tab-wrap-hack")}return gi(a,"renderLine",a,d.line,v.pre),v.pre.className&&(v.textClass=Ct(v.pre.className,v.textClass||"")),v}function Za(a){var d=De("span","\u2022","cm-invalidchar");return d.title="\\u"+a.charCodeAt(0).toString(16),d.setAttribute("aria-label",d.title),d}function vl(a,d,y,v,b,B,G){if(d){var Ee,X=a.splitSpaces?function yo(a,d){if(a.length>1&&!/  /.test(a))return a;for(var y=d,v="",b=0;b<a.length;b++){var B=a.charAt(b);" "==B&&y&&(b==a.length-1||32==a.charCodeAt(b+1))&&(B="\xa0"),v+=B,y=" "==B}return v}(d,a.trailingSpace):d,ee=a.cm.state.specialChars,ce=!1;if(ee.test(d)){Ee=document.createDocumentFragment();for(var Le=0;;){ee.lastIndex=Le;var Ke=ee.exec(d),$e=Ke?Ke.index-Le:d.length-Le;if($e){var gt=document.createTextNode(X.slice(Le,Le+$e));Ee.appendChild(C&&S<9?De("span",[gt]):gt),a.map.push(a.pos,a.pos+$e,gt),a.col+=$e,a.pos+=$e}if(!Ke)break;Le+=$e+1;var _t=void 0;if("\t"==Ke[0]){var Gt=a.cm.options.tabSize,$t=Gt-a.col%Gt;(_t=Ee.appendChild(De("span",Er($t),"cm-tab"))).setAttribute("role","presentation"),_t.setAttribute("cm-text","\t"),a.col+=$t}else"\r"==Ke[0]||"\n"==Ke[0]?((_t=Ee.appendChild(De("span","\r"==Ke[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",Ke[0]),a.col+=1):((_t=a.cm.options.specialCharPlaceholder(Ke[0])).setAttribute("cm-text",Ke[0]),Ee.appendChild(C&&S<9?De("span",[_t]):_t),a.col+=1);a.map.push(a.pos,a.pos+1,_t),a.pos++}}else a.col+=d.length,Ee=document.createTextNode(X),a.map.push(a.pos,a.pos+d.length,Ee),C&&S<9&&(ce=!0),a.pos+=d.length;if(a.trailingSpace=32==X.charCodeAt(d.length-1),y||v||b||ce||B||G){var Jt=y||"";v&&(Jt+=v),b&&(Jt+=b);var Kt=De("span",[Ee],Jt,B);if(G)for(var Xt in G)G.hasOwnProperty(Xt)&&"style"!=Xt&&"class"!=Xt&&Kt.setAttribute(Xt,G[Xt]);return a.content.appendChild(Kt)}a.content.appendChild(Ee)}}function ds(a,d){return function(y,v,b,B,G,X,ee){b=b?b+" cm-force-border":"cm-force-border";for(var ce=y.pos,Ee=ce+v.length;;){for(var Le=void 0,Ke=0;Ke<d.length&&!((Le=d[Ke]).to>ce&&Le.from<=ce);Ke++);if(Le.to>=Ee)return a(y,v,b,B,G,X,ee);a(y,v.slice(0,Le.to-ce),b,B,null,X,ee),B=null,v=v.slice(Le.to-ce),ce=Le.to}}}function Wl(a,d,y,v){var b=!v&&y.widgetNode;b&&a.map.push(a.pos,a.pos+d,b),!v&&a.cm.display.input.needsContentAttribute&&(b||(b=a.content.appendChild(document.createElement("span"))),b.setAttribute("cm-marker",y.id)),b&&(a.cm.display.input.setUneditable(b),a.content.appendChild(b)),a.pos+=d,a.trailingSpace=!1}function vi(a,d,y){var v=a.markedSpans,b=a.text,B=0;if(v)for(var Le,Ke,gt,_t,Gt,$t,Jt,X=b.length,ee=0,ce=1,Ee="",$e=0;;){if($e==ee){gt=_t=Gt=Ke="",Jt=null,$t=null,$e=1/0;for(var Kt=[],Xt=void 0,Fn=0;Fn<v.length;++Fn){var Mn=v[Fn],nr=Mn.marker;if("bookmark"==nr.type&&Mn.from==ee&&nr.widgetNode)Kt.push(nr);else if(Mn.from<=ee&&(null==Mn.to||Mn.to>ee||nr.collapsed&&Mn.to==ee&&Mn.from==ee)){if(null!=Mn.to&&Mn.to!=ee&&$e>Mn.to&&($e=Mn.to,_t=""),nr.className&&(gt+=" "+nr.className),nr.css&&(Ke=(Ke?Ke+";":"")+nr.css),nr.startStyle&&Mn.from==ee&&(Gt+=" "+nr.startStyle),nr.endStyle&&Mn.to==$e&&(Xt||(Xt=[])).push(nr.endStyle,Mn.to),nr.title&&((Jt||(Jt={})).title=nr.title),nr.attributes)for(var hr in nr.attributes)(Jt||(Jt={}))[hr]=nr.attributes[hr];nr.collapsed&&(!$t||lc($t.marker,nr)<0)&&($t=Mn)}else Mn.from>ee&&$e>Mn.from&&($e=Mn.from)}if(Xt)for(var Ai=0;Ai<Xt.length;Ai+=2)Xt[Ai+1]==$e&&(_t+=" "+Xt[Ai]);if(!$t||$t.from==ee)for(var xi=0;xi<Kt.length;++xi)Wl(d,0,Kt[xi]);if($t&&($t.from||0)==ee){if(Wl(d,(null==$t.to?X+1:$t.to)-ee,$t.marker,null==$t.from),null==$t.to)return;$t.to==ee&&($t=!1)}}if(ee>=X)break;for(var Wo=Math.min(X,$e);;){if(Ee){var $i=ee+Ee.length;if(!$t){var Oi=$i>Wo?Ee.slice(0,Wo-ee):Ee;d.addToken(d,Oi,Le?Le+gt:gt,Gt,ee+Oi.length==$e?_t:"",Ke,Jt)}if($i>=Wo){Ee=Ee.slice(Wo-ee),ee=Wo;break}ee=$i,Gt=""}Ee=b.slice(B,B=y[ce++]),Le=dc(y[ce++],d.cm.options)}}else for(var G=1;G<y.length;G+=2)d.addToken(d,b.slice(B,B=y[G]),dc(y[G+1],d.cm.options))}function vf(a,d,y){this.line=d,this.rest=function mf(a){for(var d,y;d=ka(a);)a=d.find(1,!0).line,(y||(y=[])).push(a);return y}(d),this.size=this.rest?Fr(Dn(this.rest))-y+1:1,this.node=this.text=null,this.hidden=gl(a,d)}function Qo(a,d,y){for(var b,v=[],B=d;B<y;B=b){var G=new vf(a.doc,Tn(a.doc,B),B);b=B+G.size,v.push(G)}return v}var fc=null;var pc=null;function bo(a,d){var y=ya(a,d);if(y.length){var b,v=Array.prototype.slice.call(arguments,2);fc?b=fc.delayedCallbacks:pc?b=pc:(b=pc=[],setTimeout(gh,0));for(var B=function(X){b.push(function(){return y[X].apply(null,v)})},G=0;G<y.length;++G)B(G)}}function gh(){var a=pc;pc=null;for(var d=0;d<a.length;++d)a[d]()}function mh(a,d,y,v){for(var b=0;b<d.changes.length;b++){var B=d.changes[b];"text"==B?kp(a,d):"gutter"==B?vh(a,d,y,v):"class"==B?Pt(a,d):"widget"==B&&nn(a,d,v)}d.changes=null}function nl(a){return a.node==a.text&&(a.node=De("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),C&&S<8&&(a.node.style.zIndex=2)),a.node}function Fa(a,d){var y=a.display.externalMeasured;return y&&y.line==d.line?(a.display.externalMeasured=null,d.measure=y.measure,y.built):Vn(a,d)}function kp(a,d){var y=d.text.className,v=Fa(a,d);d.text==d.node&&(d.node=v.pre),d.text.parentNode.replaceChild(v.pre,d.text),d.text=v.pre,v.bgClass!=d.bgClass||v.textClass!=d.textClass?(d.bgClass=v.bgClass,d.textClass=v.textClass,Pt(a,d)):y&&(d.text.className=y)}function Pt(a,d){(function Rp(a,d){var y=d.bgClass?d.bgClass+" "+(d.line.bgClass||""):d.line.bgClass;if(y&&(y+=" CodeMirror-linebackground"),d.background)y?d.background.className=y:(d.background.parentNode.removeChild(d.background),d.background=null);else if(y){var v=nl(d);d.background=v.insertBefore(De("div",null,y),v.firstChild),a.display.input.setUneditable(d.background)}})(a,d),d.line.wrapClass?nl(d).className=d.line.wrapClass:d.node!=d.text&&(d.node.className=""),d.text.className=(d.textClass?d.textClass+" "+(d.line.textClass||""):d.line.textClass)||""}function vh(a,d,y,v){if(d.gutter&&(d.node.removeChild(d.gutter),d.gutter=null),d.gutterBackground&&(d.node.removeChild(d.gutterBackground),d.gutterBackground=null),d.line.gutterClass){var b=nl(d);d.gutterBackground=De("div",null,"CodeMirror-gutter-background "+d.line.gutterClass,"left: "+(a.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px; width: "+v.gutterTotalWidth+"px"),a.display.input.setUneditable(d.gutterBackground),b.insertBefore(d.gutterBackground,d.text)}var B=d.line.gutterMarkers;if(a.options.lineNumbers||B){var G=nl(d),X=d.gutter=De("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px");if(X.setAttribute("aria-hidden","true"),a.display.input.setUneditable(X),G.insertBefore(X,d.text),d.line.gutterClass&&(X.className+=" "+d.line.gutterClass),a.options.lineNumbers&&(!B||!B["CodeMirror-linenumbers"])&&(d.lineNumber=X.appendChild(De("div",ld(a.options,y),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+v.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),B)for(var ee=0;ee<a.display.gutterSpecs.length;++ee){var ce=a.display.gutterSpecs[ee].className,Ee=B.hasOwnProperty(ce)&&B[ce];Ee&&X.appendChild(De("div",[Ee],"CodeMirror-gutter-elt","left: "+v.gutterLeft[ce]+"px; width: "+v.gutterWidth[ce]+"px"))}}}function nn(a,d,y){d.alignable&&(d.alignable=null);for(var v=ie("CodeMirror-linewidget"),b=d.node.firstChild,B=void 0;b;b=B)B=b.nextSibling,v.test(b.className)&&d.node.removeChild(b);bf(a,d,y)}function yf(a,d,y,v){var b=Fa(a,d);return d.text=d.node=b.pre,b.bgClass&&(d.bgClass=b.bgClass),b.textClass&&(d.textClass=b.textClass),Pt(a,d),vh(a,d,y,v),bf(a,d,v),d.node}function bf(a,d,y){if(gc(a,d.line,d,y,!0),d.rest)for(var v=0;v<d.rest.length;v++)gc(a,d.rest[v],d,y,!1)}function gc(a,d,y,v,b){if(d.widgets)for(var B=nl(y),G=0,X=d.widgets;G<X.length;++G){var ee=X[G],ce=De("div",[ee.node],"CodeMirror-linewidget"+(ee.className?" "+ee.className:""));ee.handleMouseEvents||ce.setAttribute("cm-ignore-events","true"),pm(ee,ce,y,v),a.display.input.setUneditable(ce),b&&ee.above?B.insertBefore(ce,y.gutter||y.text):B.appendChild(ce),bo(ee,"redraw")}}function pm(a,d,y,v){if(a.noHScroll){(y.alignable||(y.alignable=[])).push(d);var b=v.wrapperWidth;d.style.left=v.fixedPos+"px",a.coverGutter||(b-=v.gutterTotalWidth,d.style.paddingLeft=v.gutterTotalWidth+"px"),d.style.width=b+"px"}a.coverGutter&&(d.style.zIndex=5,d.style.position="relative",a.noHScroll||(d.style.marginLeft=-v.gutterTotalWidth+"px"))}function mc(a){if(null!=a.height)return a.height;var d=a.doc.cm;if(!d)return 0;if(!st(document.body,a.node)){var y="position: relative;";a.coverGutter&&(y+="margin-left: -"+d.display.gutters.offsetWidth+"px;"),a.noHScroll&&(y+="width: "+d.display.wrapper.clientWidth+"px;"),Se(d.display.measure,De("div",[a.node],null,y))}return a.height=a.node.parentNode.offsetHeight}function yl(a,d){for(var y=Js(d);y!=a.wrapper;y=y.parentNode)if(!y||1==y.nodeType&&"true"==y.getAttribute("cm-ignore-events")||y.parentNode==a.sizer&&y!=a.mover)return!0}function fs(a){return a.lineSpace.offsetTop}function hs(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function ba(a){if(a.cachedPaddingH)return a.cachedPaddingH;var d=Se(a.measure,De("pre","x","CodeMirror-line-like")),y=window.getComputedStyle?window.getComputedStyle(d):d.currentStyle,v={left:parseInt(y.paddingLeft),right:parseInt(y.paddingRight)};return!isNaN(v.left)&&!isNaN(v.right)&&(a.cachedPaddingH=v),v}function _o(a){return pt-a.display.nativeBarWidth}function Dr(a){return a.display.scroller.clientWidth-_o(a)-a.display.barWidth}function vc(a){return a.display.scroller.clientHeight-_o(a)-a.display.barHeight}function wf(a,d,y){if(a.line==d)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var v=0;v<a.rest.length;v++)if(a.rest[v]==d)return{map:a.measure.maps[v],cache:a.measure.caches[v]};for(var b=0;b<a.rest.length;b++)if(Fr(a.rest[b])>y)return{map:a.measure.maps[b],cache:a.measure.caches[b],before:!0}}}function Ls(a,d,y,v){return Fs(a,Yl(a,d),y,v)}function $l(a,d){if(d>=a.display.viewFrom&&d<a.display.viewTo)return a.display.view[oo(a,d)];var y=a.display.externalMeasured;return y&&d>=y.lineN&&d<y.lineN+y.size?y:void 0}function Yl(a,d){var y=Fr(d),v=$l(a,y);v&&!v.text?v=null:v&&v.changes&&(mh(a,v,y,Sf(a)),a.curOp.forceUpdate=!0),v||(v=function Pp(a,d){var y=Fr(d=tr(d)),v=a.display.externalMeasured=new vf(a.doc,d,y);v.lineN=y;var b=v.built=Vn(a,v);return v.text=b.pre,Se(a.display.lineMeasure,b.pre),v}(a,d));var b=wf(v,d,y);return{line:d,view:v,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function Fs(a,d,y,v,b){d.before&&(y=-1);var G,B=y+(v||"");return d.cache.hasOwnProperty(B)?G=d.cache[B]:(d.rect||(d.rect=d.view.text.getBoundingClientRect()),d.hasHeights||(function _f(a,d,y){var v=a.options.lineWrapping,b=v&&Dr(a);if(!d.measure.heights||v&&d.measure.width!=b){var B=d.measure.heights=[];if(v){d.measure.width=b;for(var G=d.text.firstChild.getClientRects(),X=0;X<G.length-1;X++){var ee=G[X],ce=G[X+1];Math.abs(ee.bottom-ce.bottom)>2&&B.push((ee.bottom+ce.top)/2-y.top)}}B.push(y.bottom-y.top)}}(a,d.view,d.rect),d.hasHeights=!0),(G=function Xl(a,d,y,v){var ce,b=Eu(d.map,y,v),B=b.node,G=b.start,X=b.end,ee=b.collapse;if(3==B.nodeType){for(var Ee=0;Ee<4;Ee++){for(;G&&Ya(d.line.text.charAt(b.coverStart+G));)--G;for(;b.coverStart+X<b.coverEnd&&Ya(d.line.text.charAt(b.coverStart+X));)++X;if((ce=C&&S<9&&0==G&&X==b.coverEnd-b.coverStart?B.parentNode.getBoundingClientRect():Du(Be(B,G,X).getClientRects(),v)).left||ce.right||0==G)break;X=G,G-=1,ee="right"}C&&S<11&&(ce=function Lp(a,d){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function oc(a){if(null!=ad)return ad;var d=Se(a,De("span","x")),y=d.getBoundingClientRect(),v=Be(d,0,1).getBoundingClientRect();return ad=Math.abs(y.left-v.left)>1}(a))return d;var y=screen.logicalXDPI/screen.deviceXDPI,v=screen.logicalYDPI/screen.deviceYDPI;return{left:d.left*y,right:d.right*y,top:d.top*v,bottom:d.bottom*v}}(a.display.measure,ce))}else{var Le;G>0&&(ee=v="right"),ce=a.options.lineWrapping&&(Le=B.getClientRects()).length>1?Le["right"==v?Le.length-1:0]:B.getBoundingClientRect()}if(C&&S<9&&!G&&(!ce||!ce.left&&!ce.right)){var Ke=B.parentNode.getClientRects()[0];ce=Ke?{left:Ke.left,right:Ke.left+bl(a.display),top:Ke.top,bottom:Ke.bottom}:Cf}for(var $e=ce.top-d.rect.top,gt=ce.bottom-d.rect.top,_t=($e+gt)/2,Gt=d.view.measure.heights,$t=0;$t<Gt.length-1&&!(_t<Gt[$t]);$t++);var Xt={left:("right"==ee?ce.right:ce.left)-d.rect.left,right:("left"==ee?ce.left:ce.right)-d.rect.left,top:$t?Gt[$t-1]:0,bottom:Gt[$t]};return!ce.left&&!ce.right&&(Xt.bogus=!0),a.options.singleCursorHeightPerLine||(Xt.rtop=$e,Xt.rbottom=gt),Xt}(a,d,y,v)).bogus||(d.cache[B]=G)),{left:G.left,right:G.right,top:b?G.rtop:G.top,bottom:b?G.rbottom:G.bottom}}var Su,Cf={left:0,right:0,top:0,bottom:0};function Eu(a,d,y){for(var v,b,B,G,X,ee,ce=0;ce<a.length;ce+=3)if(ee=a[ce+1],d<(X=a[ce])?(b=0,B=1,G="left"):d<ee?B=1+(b=d-X):(ce==a.length-3||d==ee&&a[ce+3]>d)&&(b=(B=ee-X)-1,d>=ee&&(G="right")),null!=b){if(v=a[ce+2],X==ee&&y==(v.insertLeft?"left":"right")&&(G=y),"left"==y&&0==b)for(;ce&&a[ce-2]==a[ce-3]&&a[ce-1].insertLeft;)v=a[2+(ce-=3)],G="left";if("right"==y&&b==ee-X)for(;ce<a.length-3&&a[ce+3]==a[ce+4]&&!a[ce+5].insertLeft;)v=a[(ce+=3)+2],G="right";break}return{node:v,start:b,end:B,collapse:G,coverStart:X,coverEnd:ee}}function Du(a,d){var y=Cf;if("left"==d)for(var v=0;v<a.length&&(y=a[v]).left==y.right;v++);else for(var b=a.length-1;b>=0&&(y=a[b]).left==y.right;b--);return y}function dd(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var d=0;d<a.rest.length;d++)a.measure.caches[d]={}}function fd(a){a.display.externalMeasure=null,we(a.display.lineMeasure);for(var d=0;d<a.display.view.length;d++)dd(a.display.view[d])}function Kl(a){fd(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function yh(a){return V&&ne?-(a.body.getBoundingClientRect().left-parseInt(getComputedStyle(a.body).marginLeft)):a.defaultView.pageXOffset||(a.documentElement||a.body).scrollLeft}function bh(a){return V&&ne?-(a.body.getBoundingClientRect().top-parseInt(getComputedStyle(a.body).marginTop)):a.defaultView.pageYOffset||(a.documentElement||a.body).scrollTop}function Qa(a){var y=tr(a).widgets,v=0;if(y)for(var b=0;b<y.length;++b)y[b].above&&(v+=mc(y[b]));return v}function xf(a,d,y,v,b){if(!b){var B=Qa(d);y.top+=B,y.bottom+=B}if("line"==v)return y;v||(v="local");var G=Pa(d);if("local"==v?G+=fs(a.display):G-=a.display.viewOffset,"page"==v||"window"==v){var X=a.display.lineSpace.getBoundingClientRect();G+=X.top+("window"==v?0:bh(Zt(a)));var ee=X.left+("window"==v?0:yh(Zt(a)));y.left+=ee,y.right+=ee}return y.top+=G,y.bottom+=G,y}function _h(a,d,y){if("div"==y)return d;var v=d.left,b=d.top;if("page"==y)v-=yh(Zt(a)),b-=bh(Zt(a));else if("local"==y||!y){var B=a.display.sizer.getBoundingClientRect();v+=B.left,b+=B.top}var G=a.display.lineSpace.getBoundingClientRect();return{left:v-G.left,top:b-G.top}}function hd(a,d,y,v,b){return v||(v=Tn(a.doc,d.line)),xf(a,v,Ls(a,v,d.ch,b),y)}function ps(a,d,y,v,b,B){function G(gt,_t){var Gt=Fs(a,b,gt,_t?"right":"left",B);return _t?Gt.left=Gt.right:Gt.right=Gt.left,xf(a,v,Gt,y)}v=v||Tn(a.doc,d.line),b||(b=Yl(a,v));var X=Xa(v,a.doc.direction),ee=d.ch,ce=d.sticky;if(ee>=v.text.length?(ee=v.text.length,ce="before"):ee<=0&&(ee=0,ce="after"),!X)return G("before"==ce?ee-1:ee,"before"==ce);function Ee(gt,_t,Gt){return G(Gt?gt-1:gt,1==X[_t].level!=Gt)}var Le=Ko(X,ee,ce),Ke=Xo,$e=Ee(ee,Le,"before"==ce);return null!=Ke&&($e.other=Ee(ee,Ke,"before"!=ce)),$e}function Fp(a,d){var y=0;d=rt(a.doc,d),a.options.lineWrapping||(y=bl(a.display)*d.ch);var v=Tn(a.doc,d.line),b=Pa(v)+fs(a.display);return{left:y,right:y,top:b,bottom:b+v.height}}function wh(a,d,y,v,b){var B=Tt(a,d,y);return B.xRel=b,v&&(B.outside=v),B}function Ef(a,d,y){var v=a.doc;if((y+=a.display.viewOffset)<0)return wh(v.first,0,null,-1,-1);var b=Qi(v,y),B=v.first+v.size-1;if(b>B)return wh(v.first+v.size-1,Tn(v,B).text.length,null,1,1);d<0&&(d=0);for(var G=Tn(v,b);;){var X=cr(a,G,b,d,y),ee=ks(G,X.ch+(X.xRel>0||X.outside>0?1:0));if(!ee)return X;var ce=ee.find(1);if(ce.line==b)return ce;G=Tn(v,b=ce.line)}}function Bp(a,d,y,v){v-=Qa(d);var b=d.text.length,B=kn(function(G){return Fs(a,y,G-1).bottom<=v},b,0);return{begin:B,end:b=kn(function(G){return Fs(a,y,G).top>v},B,b)}}function Vp(a,d,y,v){return y||(y=Yl(a,d)),Bp(a,d,y,xf(a,d,Fs(a,y,v),"line").top)}function Df(a,d,y,v){return!(a.bottom<=y)&&(a.top>y||(v?a.left:a.right)>d)}function cr(a,d,y,v,b){b-=Pa(d);var B=Yl(a,d),G=Qa(d),X=0,ee=d.text.length,ce=!0,Ee=Xa(d,a.doc.direction);if(Ee){var Le=(a.options.lineWrapping?mm:gm)(a,d,y,B,Ee,v,b);X=(ce=1!=Le.level)?Le.from:Le.to-1,ee=ce?Le.to:Le.from-1}var _t,Gt,Ke=null,$e=null,gt=kn(function(Fn){var Mn=Fs(a,B,Fn);return Mn.top+=G,Mn.bottom+=G,!!Df(Mn,v,b,!1)&&(Mn.top<=b&&Mn.left<=v&&(Ke=Fn,$e=Mn),!0)},X,ee),$t=!1;if($e){var Jt=v-$e.left<$e.right-v,Kt=Jt==ce;gt=Ke+(Kt?0:1),Gt=Kt?"after":"before",_t=Jt?$e.left:$e.right}else{!ce&&(gt==ee||gt==X)&&gt++,Gt=0==gt?"after":gt==d.text.length?"before":Fs(a,B,gt-(ce?1:0)).bottom+G<=b==ce?"after":"before";var Xt=ps(a,Tt(y,gt,Gt),"line",d,B);_t=Xt.left,$t=b<Xt.top?-1:b>=Xt.bottom?1:0}return wh(y,gt=As(d.text,gt,1),Gt,$t,v-_t)}function gm(a,d,y,v,b,B,G){var X=kn(function(Le){var Ke=b[Le],$e=1!=Ke.level;return Df(ps(a,Tt(y,$e?Ke.to:Ke.from,$e?"before":"after"),"line",d,v),B,G,!0)},0,b.length-1),ee=b[X];if(X>0){var ce=1!=ee.level,Ee=ps(a,Tt(y,ce?ee.from:ee.to,ce?"after":"before"),"line",d,v);Df(Ee,B,G,!0)&&Ee.top>G&&(ee=b[X-1])}return ee}function mm(a,d,y,v,b,B,G){var X=Bp(a,d,v,G),ee=X.begin,ce=X.end;/\s/.test(d.text.charAt(ce-1))&&ce--;for(var Ee=null,Le=null,Ke=0;Ke<b.length;Ke++){var $e=b[Ke];if(!($e.from>=ce||$e.to<=ee)){var _t=Fs(a,v,1!=$e.level?Math.min(ce,$e.to)-1:Math.max(ee,$e.from)).right,Gt=_t<B?B-_t+1e9:_t-B;(!Ee||Le>Gt)&&(Ee=$e,Le=Gt)}}return Ee||(Ee=b[b.length-1]),Ee.from<ee&&(Ee={from:ee,to:Ee.to,level:Ee.level}),Ee.to>ce&&(Ee={from:Ee.from,to:ce,level:Ee.level}),Ee}function ti(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==Su){Su=De("pre",null,"CodeMirror-line-like");for(var d=0;d<49;++d)Su.appendChild(document.createTextNode("x")),Su.appendChild(De("br"));Su.appendChild(document.createTextNode("x"))}Se(a.measure,Su);var y=Su.offsetHeight/50;return y>3&&(a.cachedTextHeight=y),we(a.measure),y||1}function bl(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var d=De("span","xxxxxxxxxx"),y=De("pre",[d],"CodeMirror-line-like");Se(a.measure,y);var v=d.getBoundingClientRect(),b=(v.right-v.left)/10;return b>2&&(a.cachedCharWidth=b),b||10}function Sf(a){for(var d=a.display,y={},v={},b=d.gutters.clientLeft,B=d.gutters.firstChild,G=0;B;B=B.nextSibling,++G){var X=a.display.gutterSpecs[G].className;y[X]=B.offsetLeft+B.clientLeft+b,v[X]=B.clientWidth}return{fixedPos:un(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:y,gutterWidth:v,wrapperWidth:d.wrapper.clientWidth}}function un(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function sa(a){var d=ti(a.display),y=a.options.lineWrapping,v=y&&Math.max(5,a.display.scroller.clientWidth/bl(a.display)-3);return function(b){if(gl(a.doc,b))return 0;var B=0;if(b.widgets)for(var G=0;G<b.widgets.length;G++)b.widgets[G].height&&(B+=b.widgets[G].height);return y?B+(Math.ceil(b.text.length/v)||1)*d:B+d}}function Hr(a){var d=a.doc,y=sa(a);d.iter(function(v){var b=y(v);b!=v.height&&ko(v,b)})}function Ui(a,d,y,v){var b=a.display;if(!y&&"true"==Js(d).getAttribute("cm-not-content"))return null;var B,G,X=b.lineSpace.getBoundingClientRect();try{B=d.clientX-X.left,G=d.clientY-X.top}catch{return null}var ce,ee=Ef(a,B,G);if(v&&ee.xRel>0&&(ce=Tn(a.doc,ee.line).text).length==ee.ch){var Ee=hn(ce,ce.length,a.options.tabSize)-ce.length;ee=Tt(ee.line,Math.max(0,Math.round((B-ba(a.display).left)/bl(a.display))-Ee))}return ee}function oo(a,d){if(d>=a.display.viewTo||(d-=a.display.viewFrom)<0)return null;for(var y=a.display.view,v=0;v<y.length;v++)if((d-=y[v].size)<0)return v}function ao(a,d,y,v){null==d&&(d=a.doc.first),null==y&&(y=a.doc.first+a.doc.size),v||(v=0);var b=a.display;if(v&&y<b.viewTo&&(null==b.updateLineNumbers||b.updateLineNumbers>d)&&(b.updateLineNumbers=d),a.curOp.viewChanged=!0,d>=b.viewTo)et&&cd(a.doc,d)<b.viewTo&&_l(a);else if(y<=b.viewFrom)et&&an(a.doc,y+v)>b.viewFrom?_l(a):(b.viewFrom+=v,b.viewTo+=v);else if(d<=b.viewFrom&&y>=b.viewTo)_l(a);else if(d<=b.viewFrom){var B=yc(a,y,y+v,1);B?(b.view=b.view.slice(B.index),b.viewFrom=B.lineN,b.viewTo+=v):_l(a)}else if(y>=b.viewTo){var G=yc(a,d,d,-1);G?(b.view=b.view.slice(0,G.index),b.viewTo=G.lineN):_l(a)}else{var X=yc(a,d,d,-1),ee=yc(a,y,y+v,1);X&&ee?(b.view=b.view.slice(0,X.index).concat(Qo(a,X.lineN,ee.lineN)).concat(b.view.slice(ee.index)),b.viewTo+=v):_l(a)}var ce=b.externalMeasured;ce&&(y<ce.lineN?ce.lineN+=v:d<ce.lineN+ce.size&&(b.externalMeasured=null))}function so(a,d,y){a.curOp.viewChanged=!0;var v=a.display,b=a.display.externalMeasured;if(b&&d>=b.lineN&&d<b.lineN+b.size&&(v.externalMeasured=null),!(d<v.viewFrom||d>=v.viewTo)){var B=v.view[oo(a,d)];if(null!=B.node){var G=B.changes||(B.changes=[]);-1==it(G,y)&&G.push(y)}}}function _l(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function yc(a,d,y,v){var B,b=oo(a,d),G=a.display.view;if(!et||y==a.doc.first+a.doc.size)return{index:b,lineN:y};for(var X=a.display.viewFrom,ee=0;ee<b;ee++)X+=G[ee].size;if(X!=d){if(v>0){if(b==G.length-1)return null;B=X+G[b].size-d,b++}else B=X-d;d+=B,y+=B}for(;cd(a.doc,y)!=y;){if(b==(v<0?0:G.length-1))return null;y+=v*G[b-(v<0?1:0)].size,b+=v}return{index:b,lineN:y}}function Ch(a){for(var d=a.display.view,y=0,v=0;v<d.length;v++){var b=d[v];!b.hidden&&(!b.node||b.changes)&&++y}return y}function pd(a){a.display.input.showSelection(a.display.input.prepareSelection())}function lo(a,d){void 0===d&&(d=!0);var y=a.doc,v={},b=v.cursors=document.createDocumentFragment(),B=v.selection=document.createDocumentFragment(),G=a.options.$customCursor;G&&(d=!0);for(var X=0;X<y.sel.ranges.length;X++)if(d||X!=y.sel.primIndex){var ee=y.sel.ranges[X];if(!(ee.from().line>=a.display.viewTo||ee.to().line<a.display.viewFrom)){var ce=ee.empty();if(G){var Ee=G(a,ee);Ee&&gn(a,Ee,b)}else(ce||a.options.showCursorWhenSelecting)&&gn(a,ee.head,b);ce||Li(a,ee,B)}}return v}function gn(a,d,y){var v=ps(a,d,"div",null,null,!a.options.singleCursorHeightPerLine),b=y.appendChild(De("div","\xa0","CodeMirror-cursor"));if(b.style.left=v.left+"px",b.style.top=v.top+"px",b.style.height=Math.max(0,v.bottom-v.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var B=hd(a,d,"div",null,null),G=B.right-B.left;b.style.width=(G>0?G:a.defaultCharWidth())+"px"}if(v.other){var X=y.appendChild(De("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));X.style.display="",X.style.left=v.other.left+"px",X.style.top=v.other.top+"px",X.style.height=.85*(v.other.bottom-v.other.top)+"px"}}function Wn(a,d){return a.top-d.top||a.left-d.left}function Li(a,d,y){var v=a.display,b=a.doc,B=document.createDocumentFragment(),G=ba(a.display),X=G.left,ee=Math.max(v.sizerWidth,Dr(a)-v.sizer.offsetLeft)-G.right,ce="ltr"==b.direction;function Ee(Kt,Xt,Fn,Mn){Xt<0&&(Xt=0),Xt=Math.round(Xt),Mn=Math.round(Mn),B.appendChild(De("div",null,"CodeMirror-selected","position: absolute; left: "+Kt+"px;\n                             top: "+Xt+"px; width: "+(Fn??ee-Kt)+"px;\n                             height: "+(Mn-Xt)+"px"))}function Le(Kt,Xt,Fn){var hr,Ai,Mn=Tn(b,Kt),nr=Mn.text.length;function xi(Oi,ha){return hd(a,Tt(Kt,Oi),"div",Mn,ha)}function Wo(Oi,ha,$o){var To=Vp(a,Mn,null,Oi),Gr="ltr"==ha==("after"==$o)?"left":"right";return xi("after"==$o?To.begin:To.end-(/\s/.test(Mn.text.charAt(To.end-1))?2:1),Gr)[Gr]}var $i=Xa(Mn,b.direction);return function zl(a,d,y,v){if(!a)return v(d,y,"ltr",0);for(var b=!1,B=0;B<a.length;++B){var G=a[B];(G.from<y&&G.to>d||d==y&&G.to==d)&&(v(Math.max(G.from,d),Math.min(G.to,y),1==G.level?"rtl":"ltr",B),b=!0)}b||v(d,y,"ltr")}($i,Xt||0,Fn??nr,function(Oi,ha,$o,To){var Gr="ltr"==$o,Ei=xi(Oi,Gr?"left":"right"),ho=xi(ha-1,Gr?"right":"left"),Kd=null==Xt&&0==Oi,Ml=null==Fn&&ha==nr,ea=0==To,ll=!$i||To==$i.length-1;if(ho.top-Ei.top<=3){var Il=(ce?Kd:Ml)&&ea?X:(Gr?Ei:ho).left;Ee(Il,Ei.top,((ce?Ml:Kd)&&ll?ee:(Gr?ho:Ei).right)-Il,Ei.bottom)}else{var Al,Ni,Pc,os;Gr?(Al=ce&&Kd&&ea?X:Ei.left,Ni=ce?ee:Wo(Oi,$o,"before"),Pc=ce?X:Wo(ha,$o,"after"),os=ce&&Ml&&ll?ee:ho.right):(Al=ce?Wo(Oi,$o,"before"):X,Ni=!ce&&Kd&&ea?ee:Ei.right,Pc=!ce&&Ml&&ll?X:ho.left,os=ce?Wo(ha,$o,"after"):ee),Ee(Al,Ei.top,Ni-Al,Ei.bottom),Ei.bottom<ho.top&&Ee(X,Ei.bottom,null,ho.top),Ee(Pc,ho.top,os-Pc,ho.bottom)}(!hr||Wn(Ei,hr)<0)&&(hr=Ei),Wn(ho,hr)<0&&(hr=ho),(!Ai||Wn(Ei,Ai)<0)&&(Ai=Ei),Wn(ho,Ai)<0&&(Ai=ho)}),{start:hr,end:Ai}}var Ke=d.from(),$e=d.to();if(Ke.line==$e.line)Le(Ke.line,Ke.ch,$e.ch);else{var gt=Tn(b,Ke.line),_t=Tn(b,$e.line),Gt=tr(gt)==tr(_t),$t=Le(Ke.line,Ke.ch,Gt?gt.text.length+1:null).end,Jt=Le($e.line,Gt?0:null,$e.ch).start;Gt&&($t.top<Jt.top-2?(Ee($t.right,$t.top,null,$t.bottom),Ee(X,Jt.top,Jt.left,Jt.bottom)):Ee($t.right,$t.top,Jt.left-$t.right,$t.bottom)),$t.bottom<Jt.top&&Ee(X,$t.bottom,null,Jt.top)}y.appendChild(B)}function la(a){if(a.state.focused){var d=a.display;clearInterval(d.blinker);var y=!0;d.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?d.blinker=setInterval(function(){a.hasFocus()||yi(a),d.cursorDiv.style.visibility=(y=!y)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(d.cursorDiv.style.visibility="hidden")}}function bc(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||wl(a))}function wo(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&yi(a))},100)}function wl(a,d){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),"nocursor"!=a.options.readOnly&&(a.state.focused||(gi(a,"focus",a,d),a.state.focused=!0,Ze(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),R&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),la(a))}function yi(a,d){a.state.delayingBlurEvent||(a.state.focused&&(gi(a,"blur",a,d),a.state.focused=!1,me(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function rl(a){for(var d=a.display,y=d.lineDiv.offsetTop,v=Math.max(0,d.scroller.getBoundingClientRect().top),b=d.lineDiv.getBoundingClientRect().top,B=0,G=0;G<d.view.length;G++){var X=d.view[G],ee=a.options.lineWrapping,ce=void 0,Ee=0;if(!X.hidden){if(b+=X.line.height,C&&S<8){var Le=X.node.offsetTop+X.node.offsetHeight;ce=Le-y,y=Le}else{var Ke=X.node.getBoundingClientRect();ce=Ke.bottom-Ke.top,!ee&&X.text.firstChild&&(Ee=X.text.firstChild.getBoundingClientRect().right-Ke.left-1)}var $e=X.line.height-ce;if(($e>.005||$e<-.005)&&(b<v&&(B-=$e),ko(X.line,ce),ua(X.line),X.rest))for(var gt=0;gt<X.rest.length;gt++)ua(X.rest[gt]);if(Ee>a.display.sizerWidth){var _t=Math.ceil(Ee/bl(a.display));_t>a.display.maxLineLength&&(a.display.maxLineLength=_t,a.display.maxLine=X.line,a.display.maxLineChanged=!0)}}}Math.abs(B)>2&&(d.scroller.scrollTop+=B)}function ua(a){if(a.widgets)for(var d=0;d<a.widgets.length;++d){var y=a.widgets[d],v=y.node.parentNode;v&&(y.height=v.offsetHeight)}}function qn(a,d,y){var v=y&&null!=y.top?Math.max(0,y.top):a.scroller.scrollTop;v=Math.floor(v-fs(a));var b=y&&null!=y.bottom?y.bottom:v+a.wrapper.clientHeight,B=Qi(d,v),G=Qi(d,b);if(y&&y.ensure){var X=y.ensure.from.line,ee=y.ensure.to.line;X<B?(B=X,G=Qi(d,Pa(Tn(d,X))+a.wrapper.clientHeight)):Math.min(ee,d.lastLine())>=G&&(B=Qi(d,Pa(Tn(d,ee))-a.wrapper.clientHeight),G=ee)}return{from:B,to:Math.max(G,B+1)}}function Gi(a,d){var y=a.display,v=ti(a.display);d.top<0&&(d.top=0);var b=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:y.scroller.scrollTop,B=vc(a),G={};d.bottom-d.top>B&&(d.bottom=d.top+B);var X=a.doc.height+hs(y),ce=d.bottom>X-v;if(d.top<b)G.scrollTop=d.top<v?0:d.top;else if(d.bottom>b+B){var Ee=Math.min(d.top,(ce?X:d.bottom)-B);Ee!=b&&(G.scrollTop=Ee)}var Le=a.options.fixedGutter?0:y.gutters.offsetWidth,Ke=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:y.scroller.scrollLeft-Le,$e=Dr(a)-y.gutters.offsetWidth,gt=d.right-d.left>$e;return gt&&(d.right=d.left+$e),d.left<10?G.scrollLeft=0:d.left<Ke?G.scrollLeft=Math.max(0,d.left+Le-(gt?0:10)):d.right>$e+Ke-3&&(G.scrollLeft=d.right+(gt?0:10)-$e),G}function gs(a,d){null!=d&&(md(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+d)}function Ja(a){md(a);var d=a.getCursor();a.curOp.scrollToPos={from:d,to:d,margin:a.options.cursorScrollMargin}}function uo(a,d,y){(null!=d||null!=y)&&md(a),null!=d&&(a.curOp.scrollLeft=d),null!=y&&(a.curOp.scrollTop=y)}function md(a){var d=a.curOp.scrollToPos;d&&(a.curOp.scrollToPos=null,Cl(a,Fp(a,d.from),Fp(a,d.to),d.margin))}function Cl(a,d,y,v){var b=Gi(a,{left:Math.min(d.left,y.left),top:Math.min(d.top,y.top)-v,right:Math.max(d.right,y.right),bottom:Math.max(d.bottom,y.bottom)+v});uo(a,b.scrollLeft,b.scrollTop)}function dr(a,d){Math.abs(a.doc.scrollTop-d)<2||(T||ns(a,{top:d}),vd(a,d,!0),T&&ns(a),bi(a,100))}function vd(a,d,y){d=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,d)),(a.display.scroller.scrollTop!=d||y)&&(a.doc.scrollTop=d,a.display.scrollbars.setScrollTop(d),a.display.scroller.scrollTop!=d&&(a.display.scroller.scrollTop=d))}function es(a,d,y,v){d=Math.max(0,Math.min(d,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),(!(y?d==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-d)<2)||v)&&(a.doc.scrollLeft=d,Hp(a),a.display.scroller.scrollLeft!=d&&(a.display.scroller.scrollLeft=d),a.display.scrollbars.setScrollLeft(d))}function mn(a){var d=a.display,y=d.gutters.offsetWidth,v=Math.round(a.doc.height+hs(a.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:a.options.fixedGutter?y:0,docHeight:v,scrollHeight:v+_o(a)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:y}}var zr=function(a,d,y){this.cm=y;var v=this.vert=De("div",[De("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),b=this.horiz=De("div",[De("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");v.tabIndex=b.tabIndex=-1,a(v),a(b),Sn(v,"scroll",function(){v.clientHeight&&d(v.scrollTop,"vertical")}),Sn(b,"scroll",function(){b.clientWidth&&d(b.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,C&&S<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};zr.prototype.update=function(a){var d=a.scrollWidth>a.clientWidth+1,y=a.scrollHeight>a.clientHeight+1,v=a.nativeBarWidth;return y?(this.vert.style.display="block",this.vert.style.bottom=d?v+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(d?v:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),d?(this.horiz.style.display="block",this.horiz.style.right=y?v+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+(a.viewWidth-a.barLeft-(y?v:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&a.clientHeight>0&&(0==v&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:y?v:0,bottom:d?v:0}},zr.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},zr.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},zr.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=ae&&!$?"12px":"18px",this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new ut,this.disableVert=new ut},zr.prototype.enableZeroWidthBar=function(a,d,y){a.style.visibility="",d.set(1e3,function v(){var b=a.getBoundingClientRect();("vert"==y?document.elementFromPoint(b.right-1,(b.top+b.bottom)/2):document.elementFromPoint((b.right+b.left)/2,b.bottom-1))!=a?a.style.visibility="hidden":d.set(1e3,v)})},zr.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var vn=function(){};function xl(a,d){d||(d=mn(a));var y=a.display.barWidth,v=a.display.barHeight;Bs(a,d);for(var b=0;b<4&&y!=a.display.barWidth||v!=a.display.barHeight;b++)y!=a.display.barWidth&&a.options.lineWrapping&&rl(a),Bs(a,mn(a)),y=a.display.barWidth,v=a.display.barHeight}function Bs(a,d){var y=a.display,v=y.scrollbars.update(d);y.sizer.style.paddingRight=(y.barWidth=v.right)+"px",y.sizer.style.paddingBottom=(y.barHeight=v.bottom)+"px",y.heightForcer.style.borderBottom=v.bottom+"px solid transparent",v.right&&v.bottom?(y.scrollbarFiller.style.display="block",y.scrollbarFiller.style.height=v.bottom+"px",y.scrollbarFiller.style.width=v.right+"px"):y.scrollbarFiller.style.display="",v.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(y.gutterFiller.style.display="block",y.gutterFiller.style.height=v.bottom+"px",y.gutterFiller.style.width=d.gutterWidth+"px"):y.gutterFiller.style.display=""}vn.prototype.update=function(){return{bottom:0,right:0}},vn.prototype.setScrollLeft=function(){},vn.prototype.setScrollTop=function(){},vn.prototype.clear=function(){};var yd={native:zr,null:vn};function Mu(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&me(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new yd[a.options.scrollbarStyle](function(d){a.display.wrapper.insertBefore(d,a.display.scrollbarFiller),Sn(d,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),d.setAttribute("cm-not-content","true")},function(d,y){"horizontal"==y?es(a,d):dr(a,d)},a),a.display.scrollbars.addClass&&Ze(a.display.wrapper,a.display.scrollbars.addClass)}var il=0;function si(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++il,markArrays:null},function Cu(a){fc?fc.ops.push(a):a.ownsGroup=fc={ops:[a],delayedCallbacks:[]}}(a.curOp)}function ql(a){var d=a.curOp;d&&function hc(a,d){var y=a.ownsGroup;if(y)try{!function xu(a){var d=a.delayedCallbacks,y=0;do{for(;y<d.length;y++)d[y].call(null);for(var v=0;v<a.ops.length;v++){var b=a.ops[v];if(b.cursorActivityHandlers)for(;b.cursorActivityCalled<b.cursorActivityHandlers.length;)b.cursorActivityHandlers[b.cursorActivityCalled++].call(null,b.cm)}}while(y<d.length)}(y)}finally{fc=null,d(y)}}(d,function(y){for(var v=0;v<y.ops.length;v++)y.ops[v].cm.curOp=null;!function ts(a){for(var d=a.ops,y=0;y<d.length;y++)Ba(d[y]);for(var v=0;v<d.length;v++)Eh(d[v]);for(var b=0;b<d.length;b++)Iu(d[b]);for(var B=0;B<d.length;B++)Mf(d[B]);for(var G=0;G<d.length;G++)ms(d[G])}(y)})}function Ba(a){var d=a.cm,y=d.display;(function my(a){var d=a.display;!d.scrollbarsClipped&&d.scroller.offsetWidth&&(d.nativeBarWidth=d.scroller.offsetWidth-d.scroller.clientWidth,d.heightForcer.style.height=_o(a)+"px",d.sizer.style.marginBottom=-d.nativeBarWidth+"px",d.sizer.style.borderRightWidth=_o(a)+"px",d.scrollbarsClipped=!0)})(d),a.updateMaxLine&&wu(d),a.mustUpdate=a.viewChanged||a.forceUpdate||null!=a.scrollTop||a.scrollToPos&&(a.scrollToPos.from.line<y.viewFrom||a.scrollToPos.to.line>=y.viewTo)||y.maxLineChanged&&d.options.lineWrapping,a.update=a.mustUpdate&&new Dh(d,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function Eh(a){a.updatedDisplay=a.mustUpdate&&El(a.cm,a.update)}function Iu(a){var d=a.cm,y=d.display;a.updatedDisplay&&rl(d),a.barMeasure=mn(d),y.maxLineChanged&&!d.options.lineWrapping&&(a.adjustWidthTo=Ls(d,y.maxLine,y.maxLine.text.length).left+3,d.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(y.scroller.clientWidth,y.sizer.offsetLeft+a.adjustWidthTo+_o(d)+d.display.barWidth),a.maxScrollLeft=Math.max(0,y.sizer.offsetLeft+a.adjustWidthTo-Dr(d))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=y.input.prepareSelection())}function Mf(a){var d=a.cm;null!=a.adjustWidthTo&&(d.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<d.doc.scrollLeft&&es(d,Math.min(d.display.scroller.scrollLeft,a.maxScrollLeft),!0),d.display.maxLineChanged=!1);var y=a.focus&&a.focus==ht(Zt(d));a.preparedSelection&&d.display.input.showSelection(a.preparedSelection,y),(a.updatedDisplay||a.startHeight!=d.doc.height)&&xl(d,a.barMeasure),a.updatedDisplay&&Sh(d,a.barMeasure),a.selectionChanged&&la(d),d.state.focused&&a.updateInput&&d.display.input.reset(a.typing),y&&bc(a.cm)}function ms(a){var d=a.cm,y=d.display,v=d.doc;a.updatedDisplay&&Zl(d,a.update),null!=y.wheelStartX&&(null!=a.scrollTop||null!=a.scrollLeft||a.scrollToPos)&&(y.wheelStartX=y.wheelStartY=null),null!=a.scrollTop&&vd(d,a.scrollTop,a.forceScroll),null!=a.scrollLeft&&es(d,a.scrollLeft,!0,!0),a.scrollToPos&&function _c(a,d){if(!qi(a,"scrollCursorIntoView")){var y=a.display,v=y.sizer.getBoundingClientRect(),b=null,B=y.wrapper.ownerDocument;if(d.top+v.top<0?b=!0:d.bottom+v.top>(B.defaultView.innerHeight||B.documentElement.clientHeight)&&(b=!1),null!=b&&!Q){var G=De("div","\u200b",null,"position: absolute;\n                         top: "+(d.top-y.viewOffset-fs(a.display))+"px;\n                         height: "+(d.bottom-d.top+_o(a)+y.barHeight)+"px;\n                         left: "+d.left+"px; width: "+Math.max(2,d.right-d.left)+"px;");a.display.lineSpace.appendChild(G),G.scrollIntoView(b),a.display.lineSpace.removeChild(G)}}}(d,function xh(a,d,y,v){var b;null==v&&(v=0),!a.options.lineWrapping&&d==y&&(y="before"==d.sticky?Tt(d.line,d.ch+1,"before"):d,d=d.ch?Tt(d.line,"before"==d.sticky?d.ch-1:d.ch,"after"):d);for(var B=0;B<5;B++){var G=!1,X=ps(a,d),ee=y&&y!=d?ps(a,y):X,ce=Gi(a,b={left:Math.min(X.left,ee.left),top:Math.min(X.top,ee.top)-v,right:Math.max(X.left,ee.left),bottom:Math.max(X.bottom,ee.bottom)+v}),Ee=a.doc.scrollTop,Le=a.doc.scrollLeft;if(null!=ce.scrollTop&&(dr(a,ce.scrollTop),Math.abs(a.doc.scrollTop-Ee)>1&&(G=!0)),null!=ce.scrollLeft&&(es(a,ce.scrollLeft),Math.abs(a.doc.scrollLeft-Le)>1&&(G=!0)),!G)break}return b}(d,rt(v,a.scrollToPos.from),rt(v,a.scrollToPos.to),a.scrollToPos.margin));var B=a.maybeHiddenMarkers,G=a.maybeUnhiddenMarkers;if(B)for(var X=0;X<B.length;++X)B[X].lines.length||gi(B[X],"hide");if(G)for(var ee=0;ee<G.length;++ee)G[ee].lines.length&&gi(G[ee],"unhide");y.wrapper.offsetHeight&&(v.scrollTop=d.display.scroller.scrollTop),a.changeObjs&&gi(d,"changes",d,a.changeObjs),a.update&&a.update.finish()}function ca(a,d){if(a.curOp)return d();si(a);try{return d()}finally{ql(a)}}function Co(a,d){return function(){if(a.curOp)return d.apply(a,arguments);si(a);try{return d.apply(a,arguments)}finally{ql(a)}}}function Lo(a){return function(){if(this.curOp)return a.apply(this,arguments);si(this);try{return a.apply(this,arguments)}finally{ql(this)}}}function Fo(a){return function(){var d=this.cm;if(!d||d.curOp)return a.apply(this,arguments);si(d);try{return a.apply(this,arguments)}finally{ql(d)}}}function bi(a,d){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(d,It(wi,a))}function wi(a){var d=a.doc;if(!(d.highlightFrontier>=a.display.viewTo)){var y=+new Date+a.options.workTime,v=Vt(a,d.highlightFrontier),b=[];d.iter(v.line,Math.min(d.first+d.size,a.display.viewTo+500),function(B){if(v.line>=a.display.viewFrom){var G=B.styles,X=B.text.length>a.options.maxHighlightLength?ki(d.mode,v.state):null,ee=tn(a,B,v,!0);X&&(v.state=X),B.styles=ee.styles;var ce=B.styleClasses,Ee=ee.classes;Ee?B.styleClasses=Ee:ce&&(B.styleClasses=null);for(var Le=!G||G.length!=B.styles.length||ce!=Ee&&(!ce||!Ee||ce.bgClass!=Ee.bgClass||ce.textClass!=Ee.textClass),Ke=0;!Le&&Ke<G.length;++Ke)Le=G[Ke]!=B.styles[Ke];Le&&b.push(v.line),B.stateAfter=v.save(),v.nextLine()}else B.text.length<=a.options.maxHighlightLength&&Rr(a,B.text,v),B.stateAfter=v.line%5==0?v.save():null,v.nextLine();if(+new Date>y)return bi(a,a.options.workDelay),!0}),d.highlightFrontier=v.line,d.modeFrontier=Math.max(d.modeFrontier,v.line),b.length&&ca(a,function(){for(var B=0;B<b.length;B++)so(a,b[B],"text")})}}var Dh=function(a,d,y){var v=a.display;this.viewport=d,this.visible=qn(v,a.doc,d),this.editorIsHidden=!v.wrapper.offsetWidth,this.wrapperHeight=v.wrapper.clientHeight,this.wrapperWidth=v.wrapper.clientWidth,this.oldDisplayWidth=Dr(a),this.force=y,this.dims=Sf(a),this.events=[]};function El(a,d){var y=a.display,v=a.doc;if(d.editorIsHidden)return _l(a),!1;if(!d.force&&d.visible.from>=y.viewFrom&&d.visible.to<=y.viewTo&&(null==y.updateLineNumbers||y.updateLineNumbers>=y.viewTo)&&y.renderedView==y.view&&0==Ch(a))return!1;vm(a)&&(_l(a),d.dims=Sf(a));var b=v.first+v.size,B=Math.max(d.visible.from-a.options.viewportMargin,v.first),G=Math.min(b,d.visible.to+a.options.viewportMargin);y.viewFrom<B&&B-y.viewFrom<20&&(B=Math.max(v.first,y.viewFrom)),y.viewTo>G&&y.viewTo-G<20&&(G=Math.min(b,y.viewTo)),et&&(B=cd(a.doc,B),G=an(a.doc,G));var X=B!=y.viewFrom||G!=y.viewTo||y.lastWrapHeight!=d.wrapperHeight||y.lastWrapWidth!=d.wrapperWidth;(function Tf(a,d,y){var v=a.display;0==v.view.length||d>=v.viewTo||y<=v.viewFrom?(v.view=Qo(a,d,y),v.viewFrom=d):(v.viewFrom>d?v.view=Qo(a,d,v.viewFrom).concat(v.view):v.viewFrom<d&&(v.view=v.view.slice(oo(a,d))),v.viewFrom=d,v.viewTo<y?v.view=v.view.concat(Qo(a,v.viewTo,y)):v.viewTo>y&&(v.view=v.view.slice(0,oo(a,y)))),v.viewTo=y})(a,B,G),y.viewOffset=Pa(Tn(a.doc,y.viewFrom)),a.display.mover.style.top=y.viewOffset+"px";var ee=Ch(a);if(!X&&0==ee&&!d.force&&y.renderedView==y.view&&(null==y.updateLineNumbers||y.updateLineNumbers>=y.viewTo))return!1;var ce=function vy(a){if(a.hasFocus())return null;var d=ht(Zt(a));if(!d||!st(a.display.lineDiv,d))return null;var y={activeElt:d};if(window.getSelection){var v=zt(a).getSelection();v.anchorNode&&v.extend&&st(a.display.lineDiv,v.anchorNode)&&(y.anchorNode=v.anchorNode,y.anchorOffset=v.anchorOffset,y.focusNode=v.focusNode,y.focusOffset=v.focusOffset)}return y}(a);return ee>4&&(y.lineDiv.style.display="none"),function bd(a,d,y){var v=a.display,b=a.options.lineNumbers,B=v.lineDiv,G=B.firstChild;function X(gt){var _t=gt.nextSibling;return R&&ae&&a.display.currentWheelTarget==gt?gt.style.display="none":gt.parentNode.removeChild(gt),_t}for(var ee=v.view,ce=v.viewFrom,Ee=0;Ee<ee.length;Ee++){var Le=ee[Ee];if(!Le.hidden)if(Le.node&&Le.node.parentNode==B){for(;G!=Le.node;)G=X(G);var $e=b&&null!=d&&d<=ce&&Le.lineNumber;Le.changes&&(it(Le.changes,"gutter")>-1&&($e=!1),mh(a,Le,ce,y)),$e&&(we(Le.lineNumber),Le.lineNumber.appendChild(document.createTextNode(ld(a.options,ce)))),G=Le.node.nextSibling}else{var Ke=yf(a,Le,ce,y);B.insertBefore(Ke,G)}ce+=Le.size}for(;G;)G=X(G)}(a,y.updateLineNumbers,d.dims),ee>4&&(y.lineDiv.style.display=""),y.renderedView=y.view,function Au(a){if(a&&a.activeElt&&a.activeElt!=ht(a.activeElt.ownerDocument)&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&st(document.body,a.anchorNode)&&st(document.body,a.focusNode))){var d=a.activeElt.ownerDocument,y=d.defaultView.getSelection(),v=d.createRange();v.setEnd(a.anchorNode,a.anchorOffset),v.collapse(!1),y.removeAllRanges(),y.addRange(v),y.extend(a.focusNode,a.focusOffset)}}(ce),we(y.cursorDiv),we(y.selectionDiv),y.gutters.style.height=y.sizer.style.minHeight=0,X&&(y.lastWrapHeight=d.wrapperHeight,y.lastWrapWidth=d.wrapperWidth,bi(a,400)),y.updateLineNumbers=null,!0}function Zl(a,d){for(var y=d.viewport,v=!0;;v=!1){if(v&&a.options.lineWrapping&&d.oldDisplayWidth!=Dr(a))v&&(d.visible=qn(a.display,a.doc,y));else if(y&&null!=y.top&&(y={top:Math.min(a.doc.height+hs(a.display)-vc(a),y.top)}),d.visible=qn(a.display,a.doc,y),d.visible.from>=a.display.viewFrom&&d.visible.to<=a.display.viewTo)break;if(!El(a,d))break;rl(a);var b=mn(a);pd(a),xl(a,b),Sh(a,b),d.force=!1}d.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(d.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function ns(a,d){var y=new Dh(a,d);if(El(a,y)){rl(a),Zl(a,y);var v=mn(a);pd(a),xl(a,v),Sh(a,v),y.finish()}}function If(a){a.sizer.style.marginLeft=a.gutters.offsetWidth+"px",bo(a,"gutterChanged",a)}function Sh(a,d){a.display.sizer.style.minHeight=d.docHeight+"px",a.display.heightForcer.style.top=d.docHeight+"px",a.display.gutters.style.height=d.docHeight+a.display.barHeight+_o(a)+"px"}function Hp(a){var d=a.display,y=d.view;if(d.alignWidgets||d.gutters.firstChild&&a.options.fixedGutter){for(var v=un(d)-d.scroller.scrollLeft+a.doc.scrollLeft,b=d.gutters.offsetWidth,B=v+"px",G=0;G<y.length;G++)if(!y[G].hidden){a.options.fixedGutter&&(y[G].gutter&&(y[G].gutter.style.left=B),y[G].gutterBackground&&(y[G].gutterBackground.style.left=B));var X=y[G].alignable;if(X)for(var ee=0;ee<X.length;ee++)X[ee].style.left=B}a.options.fixedGutter&&(d.gutters.style.left=v+b+"px")}}function vm(a){if(!a.options.lineNumbers)return!1;var d=a.doc,y=ld(a.options,d.first+d.size-1),v=a.display;if(y.length!=v.lineNumChars){var b=v.measure.appendChild(De("div",[De("div",y)],"CodeMirror-linenumber CodeMirror-gutter-elt")),B=b.firstChild.offsetWidth,G=b.offsetWidth-B;return v.lineGutter.style.width="",v.lineNumInnerWidth=Math.max(B,v.lineGutter.offsetWidth-G)+1,v.lineNumWidth=v.lineNumInnerWidth+G,v.lineNumChars=v.lineNumInnerWidth?y.length:-1,v.lineGutter.style.width=v.lineNumWidth+"px",If(a.display),!0}return!1}function Ql(a,d){for(var y=[],v=!1,b=0;b<a.length;b++){var B=a[b],G=null;if("string"!=typeof B&&(G=B.style,B=B.className),"CodeMirror-linenumbers"==B){if(!d)continue;v=!0}y.push({className:B,style:G})}return d&&!v&&y.push({className:"CodeMirror-linenumbers",style:null}),y}function Af(a){var d=a.gutters,y=a.gutterSpecs;we(d),a.lineGutter=null;for(var v=0;v<y.length;++v){var b=y[v],B=b.className,G=b.style,X=d.appendChild(De("div",null,"CodeMirror-gutter "+B));G&&(X.style.cssText=G),"CodeMirror-linenumbers"==B&&(a.lineGutter=X,X.style.width=(a.lineNumWidth||1)+"px")}d.style.display=y.length?"":"none",If(a)}function Of(a){Af(a.display),ao(a),Hp(a)}function Th(a,d,y,v){var b=this;this.input=y,b.scrollbarFiller=De("div",null,"CodeMirror-scrollbar-filler"),b.scrollbarFiller.setAttribute("cm-not-content","true"),b.gutterFiller=De("div",null,"CodeMirror-gutter-filler"),b.gutterFiller.setAttribute("cm-not-content","true"),b.lineDiv=ze("div",null,"CodeMirror-code"),b.selectionDiv=De("div",null,null,"position: relative; z-index: 1"),b.cursorDiv=De("div",null,"CodeMirror-cursors"),b.measure=De("div",null,"CodeMirror-measure"),b.lineMeasure=De("div",null,"CodeMirror-measure"),b.lineSpace=ze("div",[b.measure,b.lineMeasure,b.selectionDiv,b.cursorDiv,b.lineDiv],null,"position: relative; outline: none");var B=ze("div",[b.lineSpace],"CodeMirror-lines");b.mover=De("div",[B],null,"position: relative"),b.sizer=De("div",[b.mover],"CodeMirror-sizer"),b.sizerWidth=null,b.heightForcer=De("div",null,null,"position: absolute; height: "+pt+"px; width: 1px;"),b.gutters=De("div",null,"CodeMirror-gutters"),b.lineGutter=null,b.scroller=De("div",[b.sizer,b.heightForcer,b.gutters],"CodeMirror-scroll"),b.scroller.setAttribute("tabIndex","-1"),b.wrapper=De("div",[b.scrollbarFiller,b.gutterFiller,b.scroller],"CodeMirror"),V&&L>=105&&(b.wrapper.style.clipPath="inset(0px)"),b.wrapper.setAttribute("translate","no"),C&&S<8&&(b.gutters.style.zIndex=-1,b.scroller.style.paddingRight=0),!R&&!(T&&le)&&(b.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(b.wrapper):a(b.wrapper)),b.viewFrom=b.viewTo=d.first,b.reportedViewFrom=b.reportedViewTo=d.first,b.view=[],b.renderedView=null,b.externalMeasured=null,b.viewOffset=0,b.lastWrapHeight=b.lastWrapWidth=0,b.updateLineNumbers=null,b.nativeBarWidth=b.barHeight=b.barWidth=0,b.scrollbarsClipped=!1,b.lineNumWidth=b.lineNumInnerWidth=b.lineNumChars=null,b.alignWidgets=!1,b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.maxLine=null,b.maxLineLength=0,b.maxLineChanged=!1,b.wheelDX=b.wheelDY=b.wheelStartX=b.wheelStartY=null,b.shift=!1,b.selForContextMenu=null,b.activeTouch=null,b.gutterSpecs=Ql(v.gutters,v.lineNumbers),Af(b),y.init(b)}Dh.prototype.signal=function(a,d){Ti(a,d)&&this.events.push(arguments)},Dh.prototype.finish=function(){for(var a=0;a<this.events.length;a++)gi.apply(null,this.events[a])};var _d=0,co=null;function rs(a){var d=a.wheelDeltaX,y=a.wheelDeltaY;return null==d&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(d=a.detail),null==y&&a.detail&&a.axis==a.VERTICAL_AXIS?y=a.detail:null==y&&(y=a.wheelDelta),{x:d,y}}function ym(a){var d=rs(a);return d.x*=co,d.y*=co,d}function wd(a,d){V&&102==L&&(null==a.display.chromeScrollHack?a.display.sizer.style.pointerEvents="none":clearTimeout(a.display.chromeScrollHack),a.display.chromeScrollHack=setTimeout(function(){a.display.chromeScrollHack=null,a.display.sizer.style.pointerEvents=""},100));var y=rs(d),v=y.x,b=y.y,B=co;0===d.deltaMode&&(v=d.deltaX,b=d.deltaY,B=1);var G=a.display,X=G.scroller,ce=X.scrollHeight>X.clientHeight;if(v&&X.scrollWidth>X.clientWidth||b&&ce){if(b&&ae&&R)e:for(var Ee=d.target,Le=G.view;Ee!=X;Ee=Ee.parentNode)for(var Ke=0;Ke<Le.length;Ke++)if(Le[Ke].node==Ee){a.display.currentWheelTarget=Ee;break e}if(v&&!T&&!k&&null!=B)return b&&ce&&dr(a,Math.max(0,X.scrollTop+b*B)),es(a,Math.max(0,X.scrollLeft+v*B)),(!b||b&&ce)&&Vi(d),void(G.wheelStartX=null);if(b&&null!=B){var $e=b*B,gt=a.doc.scrollTop,_t=gt+G.wrapper.clientHeight;$e<0?gt=Math.max(0,gt+$e-50):_t=Math.min(a.doc.height,_t+$e+50),ns(a,{top:gt,bottom:_t})}_d<20&&0!==d.deltaMode&&(null==G.wheelStartX?(G.wheelStartX=X.scrollLeft,G.wheelStartY=X.scrollTop,G.wheelDX=v,G.wheelDY=b,setTimeout(function(){if(null!=G.wheelStartX){var Gt=X.scrollLeft-G.wheelStartX,$t=X.scrollTop-G.wheelStartY,Jt=$t&&G.wheelDY&&$t/G.wheelDY||Gt&&G.wheelDX&&Gt/G.wheelDX;G.wheelStartX=G.wheelStartY=null,Jt&&(co=(co*_d+Jt)/(_d+1),++_d)}},200)):(G.wheelDX+=v,G.wheelDY+=b))}}C?co=-.53:T?co=15:V?co=-.7:H&&(co=-1/3);var _a=function(a,d){this.ranges=a,this.primIndex=d};_a.prototype.primary=function(){return this.ranges[this.primIndex]},_a.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var d=0;d<this.ranges.length;d++){var y=this.ranges[d],v=a.ranges[d];if(!ud(y.anchor,v.anchor)||!ud(y.head,v.head))return!1}return!0},_a.prototype.deepCopy=function(){for(var a=[],d=0;d<this.ranges.length;d++)a[d]=new Yr(Rs(this.ranges[d].anchor),Rs(this.ranges[d].head));return new _a(a,this.primIndex)},_a.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},_a.prototype.contains=function(a,d){d||(d=a);for(var y=0;y<this.ranges.length;y++){var v=this.ranges[y];if(Yn(d,v.from())>=0&&Yn(a,v.to())<=0)return y}return-1};var Yr=function(a,d){this.anchor=a,this.head=d};function da(a,d,y){var v=a&&a.options.selectionsMayTouch,b=d[y];d.sort(function(Ke,$e){return Yn(Ke.from(),$e.from())}),y=it(d,b);for(var B=1;B<d.length;B++){var G=d[B],X=d[B-1],ee=Yn(X.to(),G.from());if(v&&!G.empty()?ee>0:ee>=0){var ce=Re(X.from(),G.from()),Ee=Oe(X.to(),G.to()),Le=X.empty()?G.from()==G.head:X.from()==X.head;B<=y&&--y,d.splice(--B,2,new Yr(Le?Ee:ce,Le?ce:Ee))}}return new _a(d,y)}function wa(a,d){return new _a([new Yr(a,d||a)],0)}function Bo(a){return a.text?Tt(a.from.line+a.text.length-1,Dn(a.text).length+(1==a.text.length?a.from.ch:0)):a.to}function vs(a,d){if(Yn(a,d.from)<0)return a;if(Yn(a,d.to)<=0)return Bo(d);var y=a.line+d.text.length-(d.to.line-d.from.line)-1,v=a.ch;return a.line==d.to.line&&(v+=Bo(d).ch-d.to.ch),Tt(y,v)}function Vo(a,d){for(var y=[],v=0;v<a.sel.ranges.length;v++){var b=a.sel.ranges[v];y.push(new Yr(vs(b.anchor,d),vs(b.head,d)))}return da(a.cm,y,a.sel.primIndex)}function Dl(a,d,y){return a.line==d.line?Tt(y.line,a.ch-d.ch+y.ch):Tt(y.line+(a.line-d.line),a.ch)}function wc(a){a.doc.mode=Ra(a.options,a.doc.modeOption),Nf(a)}function Nf(a){a.doc.iter(function(d){d.stateAfter&&(d.stateAfter=null),d.styles&&(d.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,bi(a,100),a.state.modeGen++,a.curOp&&ao(a)}function Cd(a,d){return 0==d.from.ch&&0==d.to.ch&&""==Dn(d.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Cc(a,d,y,v){function b(Jt){return y?y[Jt]:null}function B(Jt,Kt,Xt){(function Zo(a,d,y,v){a.text=d,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),Ji(a),tl(a,y);var b=v?v(a):1;b!=a.height&&ko(a,b)})(Jt,Kt,Xt,v),bo(Jt,"change",Jt,d)}function G(Jt,Kt){for(var Xt=[],Fn=Jt;Fn<Kt;++Fn)Xt.push(new ml(ce[Fn],b(Fn),v));return Xt}var X=d.from,ee=d.to,ce=d.text,Ee=Tn(a,X.line),Le=Tn(a,ee.line),Ke=Dn(ce),$e=b(ce.length-1),gt=ee.line-X.line;if(d.full)a.insert(0,G(0,ce.length)),a.remove(ce.length,a.size-ce.length);else if(Cd(a,d)){var _t=G(0,ce.length-1);B(Le,Le.text,$e),gt&&a.remove(X.line,gt),_t.length&&a.insert(X.line,_t)}else if(Ee==Le)if(1==ce.length)B(Ee,Ee.text.slice(0,X.ch)+Ke+Ee.text.slice(ee.ch),$e);else{var Gt=G(1,ce.length-1);Gt.push(new ml(Ke+Ee.text.slice(ee.ch),$e,v)),B(Ee,Ee.text.slice(0,X.ch)+ce[0],b(0)),a.insert(X.line+1,Gt)}else if(1==ce.length)B(Ee,Ee.text.slice(0,X.ch)+ce[0]+Le.text.slice(ee.ch),b(0)),a.remove(X.line+1,gt);else{B(Ee,Ee.text.slice(0,X.ch)+ce[0],b(0)),B(Le,Ke+Le.text.slice(ee.ch),$e);var $t=G(1,ce.length-1);gt>1&&a.remove(X.line+1,gt-1),a.insert(X.line+1,$t)}bo(a,"change",a,d)}function ys(a,d,y){!function v(b,B,G){if(b.linked)for(var X=0;X<b.linked.length;++X){var ee=b.linked[X];if(ee.doc!=B){var ce=G&&ee.sharedHist;y&&!ce||(d(ee.doc,ce),v(ee.doc,b,ce))}}}(a,null,!0)}function xc(a,d){if(d.cm)throw new Error("This document is already in use.");a.doc=d,d.cm=a,Hr(a),wc(a),zp(a),a.options.direction=d.direction,a.options.lineWrapping||wu(a),a.options.mode=d.modeOption,ao(a)}function zp(a){("rtl"==a.doc.direction?Ze:me)(a.display.lineDiv,"CodeMirror-rtl")}function Ec(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function Ou(a,d){var y={from:Rs(d.from),to:Bo(d),text:ui(a,d.from,d.to)};return jp(a,y,d.from.line,d.to.line+1),ys(a,function(v){return jp(v,y,d.from.line,d.to.line+1)},!0),y}function Sl(a){for(;a.length&&Dn(a).ranges;)a.pop()}function bm(a,d,y,v){var b=a.history;b.undone.length=0;var G,X,B=+new Date;if((b.lastOp==v||b.lastOrigin==d.origin&&d.origin&&("+"==d.origin.charAt(0)&&b.lastModTime>B-(a.cm?a.cm.options.historyEventDelay:500)||"*"==d.origin.charAt(0)))&&(G=function Up(a,d){return d?(Sl(a.done),Dn(a.done)):a.done.length&&!Dn(a.done).ranges?Dn(a.done):a.done.length>1&&!a.done[a.done.length-2].ranges?(a.done.pop(),Dn(a.done)):void 0}(b,b.lastOp==v)))X=Dn(G.changes),0==Yn(d.from,d.to)&&0==Yn(d.from,X.to)?X.to=Bo(d):G.changes.push(Ou(a,d));else{var ee=Dn(b.done);for((!ee||!ee.ranges)&&xd(a.sel,b.done),G={changes:[Ou(a,d)],generation:b.generation},b.done.push(G);b.done.length>b.undoDepth;)b.done.shift(),b.done[0].ranges||b.done.shift()}b.done.push(y),b.generation=++b.maxGeneration,b.lastModTime=b.lastSelTime=B,b.lastOp=b.lastSelOp=v,b.lastOrigin=b.lastSelOrigin=d.origin,X||gi(a,"historyAdded")}function Gp(a,d,y,v){var b=a.history,B=v&&v.origin;y==b.lastSelOp||B&&b.lastSelOrigin==B&&(b.lastModTime==b.lastSelTime&&b.lastOrigin==B||function yy(a,d,y,v){var b=d.charAt(0);return"*"==b||"+"==b&&y.ranges.length==v.ranges.length&&y.somethingSelected()==v.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}(a,B,Dn(b.done),d))?b.done[b.done.length-1]=d:xd(d,b.done),b.lastSelTime=+new Date,b.lastSelOrigin=B,b.lastSelOp=y,v&&!1!==v.clearRedo&&Sl(b.undone)}function xd(a,d){var y=Dn(d);y&&y.ranges&&y.equals(a)||d.push(a)}function jp(a,d,y,v){var b=d["spans_"+a.id],B=0;a.iter(Math.max(a.first,y),Math.min(a.first+a.size,v),function(G){G.markedSpans&&((b||(b=d["spans_"+a.id]={}))[B]=G.markedSpans),++B})}function _m(a){if(!a)return null;for(var d,y=0;y<a.length;++y)a[y].marker.explicitlyCleared?d||(d=a.slice(0,y)):d&&d.push(a[y]);return d?d.length?d:null:a}function Ih(a,d){var y=function Ca(a,d){var y=d["spans_"+a.id];if(!y)return null;for(var v=[],b=0;b<d.text.length;++b)v.push(_m(y[b]));return v}(a,d),v=el(a,d);if(!y)return v;if(!v)return y;for(var b=0;b<y.length;++b){var B=y[b],G=v[b];if(B&&G)e:for(var X=0;X<G.length;++X){for(var ee=G[X],ce=0;ce<B.length;++ce)if(B[ce].marker==ee.marker)continue e;B.push(ee)}else G&&(y[b]=G)}return y}function Dc(a,d,y){for(var v=[],b=0;b<a.length;++b){var B=a[b];if(B.ranges)v.push(y?_a.prototype.deepCopy.call(B):B);else{var G=B.changes,X=[];v.push({changes:X});for(var ee=0;ee<G.length;++ee){var ce=G[ee],Ee=void 0;if(X.push({from:ce.from,to:ce.to,text:ce.text}),d)for(var Le in ce)(Ee=Le.match(/^spans_(\d+)$/))&&it(d,Number(Ee[1]))>-1&&(Dn(X)[Le]=ce[Le],delete ce[Le])}}}return v}function Rf(a,d,y,v){if(v){var b=a.anchor;if(y){var B=Yn(d,b)<0;B!=Yn(y,b)<0?(b=d,d=y):B!=Yn(d,y)<0&&(d=y)}return new Yr(b,d)}return new Yr(y||d,d)}function Ed(a,d,y,v,b){null==b&&(b=a.cm&&(a.cm.display.shift||a.extend)),xo(a,new _a([Rf(a.sel.primary(),d,y,b)],0),v)}function Ah(a,d,y){for(var v=[],b=a.cm&&(a.cm.display.shift||a.extend),B=0;B<a.sel.ranges.length;B++)v[B]=Rf(a.sel.ranges[B],d[B],null,b);xo(a,da(a.cm,v,a.sel.primIndex),y)}function Oh(a,d,y,v){var b=a.sel.ranges.slice(0);b[d]=y,xo(a,da(a.cm,b,a.sel.primIndex),v)}function Dd(a,d,y,v){xo(a,wa(d,y),v)}function Va(a,d,y){var v=a.history.done,b=Dn(v);b&&b.ranges?(v[v.length-1]=d,Td(a,d,y)):xo(a,d,y)}function xo(a,d,y){Td(a,d,y),Gp(a,a.sel,a.cm?a.cm.curOp.id:NaN,y)}function Td(a,d,y){(Ti(a,"beforeSelectionChange")||a.cm&&Ti(a.cm,"beforeSelectionChange"))&&(d=function Sd(a,d,y){var v={ranges:d.ranges,update:function(b){this.ranges=[];for(var B=0;B<b.length;B++)this.ranges[B]=new Yr(rt(a,b[B].anchor),rt(a,b[B].head))},origin:y&&y.origin};return gi(a,"beforeSelectionChange",a,v),a.cm&&gi(a.cm,"beforeSelectionChange",a.cm,v),v.ranges!=d.ranges?da(a.cm,v.ranges,v.ranges.length-1):d}(a,d,y));var v=y&&y.bias||(Yn(d.primary().head,a.sel.primary().head)<0?-1:1);hi(a,Md(a,d,v,!0)),(!y||!1!==y.scroll)&&a.cm&&"nocursor"!=a.cm.getOption("readOnly")&&Ja(a.cm)}function hi(a,d){d.equals(a.sel)||(a.sel=d,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,bu(a.cm)),bo(a,"cursorActivity",a))}function Nh(a){hi(a,Md(a,a.sel,null,!1))}function Md(a,d,y,v){for(var b,B=0;B<d.ranges.length;B++){var G=d.ranges[B],X=d.ranges.length==a.sel.ranges.length&&a.sel.ranges[B],ee=Vs(a,G.anchor,X&&X.anchor,y,v),ce=G.head==G.anchor?ee:Vs(a,G.head,X&&X.head,y,v);(b||ee!=G.anchor||ce!=G.head)&&(b||(b=d.ranges.slice(0,B)),b[B]=new Yr(ee,ce))}return b?da(a.cm,b,d.primIndex):d}function ji(a,d,y,v,b){var B=Tn(a,d.line);if(B.markedSpans)for(var G=0;G<B.markedSpans.length;++G){var X=B.markedSpans[G],ee=X.marker,ce="selectLeft"in ee?!ee.selectLeft:ee.inclusiveLeft,Ee="selectRight"in ee?!ee.selectRight:ee.inclusiveRight;if((null==X.from||(ce?X.from<=d.ch:X.from<d.ch))&&(null==X.to||(Ee?X.to>=d.ch:X.to>d.ch))){if(b&&(gi(ee,"beforeCursorEnter"),ee.explicitlyCleared)){if(B.markedSpans){--G;continue}break}if(!ee.atomic)continue;if(y){var Le=ee.find(v<0?1:-1),Ke=void 0;if((v<0?Ee:ce)&&(Le=kf(a,Le,-v,Le&&Le.line==d.line?B:null)),Le&&Le.line==d.line&&(Ke=Yn(Le,y))&&(v<0?Ke<0:Ke>0))return ji(a,Le,d,v,b)}var $e=ee.find(v<0?-1:1);return(v<0?ce:Ee)&&($e=kf(a,$e,v,$e.line==d.line?B:null)),$e?ji(a,$e,d,v,b):null}}return d}function Vs(a,d,y,v,b){var B=v||1;return ji(a,d,y,B,b)||!b&&ji(a,d,y,B,!0)||ji(a,d,y,-B,b)||!b&&ji(a,d,y,-B,!0)||(a.cantEdit=!0,Tt(a.first,0))}function kf(a,d,y,v){return y<0&&0==d.ch?d.line>a.first?rt(a,Tt(d.line-1)):null:y>0&&d.ch==(v||Tn(a,d.line)).text.length?d.line<a.first+a.size-1?Tt(d.line+1,0):null:new Tt(d.line,d.ch+y)}function Jl(a){a.setSelection(Tt(a.firstLine(),0),Tt(a.lastLine()),St)}function Ha(a,d,y){var v={canceled:!1,from:d.from,to:d.to,text:d.text,origin:d.origin,cancel:function(){return v.canceled=!0}};return y&&(v.update=function(b,B,G,X){b&&(v.from=rt(a,b)),B&&(v.to=rt(a,B)),G&&(v.text=G),void 0!==X&&(v.origin=X)}),gi(a,"beforeChange",a,v),a.cm&&gi(a.cm,"beforeChange",a.cm,v),v.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:v.from,to:v.to,text:v.text,origin:v.origin}}function Sc(a,d,y){if(a.cm){if(!a.cm.curOp)return Co(a.cm,Sc)(a,d,y);if(a.cm.state.suppressEdits)return}if(!(Ti(a,"beforeChange")||a.cm&&Ti(a.cm,"beforeChange"))||(d=Ha(a,d,!0))){var v=vr&&!y&&function vo(a,d,y){var v=null;if(a.iter(d.line,y.line+1,function($e){if($e.markedSpans)for(var gt=0;gt<$e.markedSpans.length;++gt){var _t=$e.markedSpans[gt].marker;_t.readOnly&&(!v||-1==it(v,_t))&&(v||(v=[])).push(_t)}}),!v)return null;for(var b=[{from:d,to:y}],B=0;B<v.length;++B)for(var G=v[B],X=G.find(0),ee=0;ee<b.length;++ee){var ce=b[ee];if(!(Yn(ce.to,X.from)<0||Yn(ce.from,X.to)>0)){var Ee=[ee,1],Le=Yn(ce.from,X.from),Ke=Yn(ce.to,X.to);(Le<0||!G.inclusiveLeft&&!Le)&&Ee.push({from:ce.from,to:X.from}),(Ke>0||!G.inclusiveRight&&!Ke)&&Ee.push({from:X.to,to:ce.to}),b.splice.apply(b,Ee),ee+=Ee.length-3}}return b}(a,d.from,d.to);if(v)for(var b=v.length-1;b>=0;--b)Id(a,{from:v[b].from,to:v[b].to,text:b?[""]:d.text,origin:d.origin});else Id(a,d)}}function Id(a,d){if(1!=d.text.length||""!=d.text[0]||0!=Yn(d.from,d.to)){var y=Vo(a,d);bm(a,d,y,a.cm?a.cm.curOp.id:NaN),Ar(a,d,y,el(a,d));var v=[];ys(a,function(b,B){!B&&-1==it(v,b.history)&&(Wp(b.history,d),v.push(b.history)),Ar(b,d,null,el(b,d))})}}function Ad(a,d,y){var v=a.cm&&a.cm.state.suppressEdits;if(!v||y){for(var B,b=a.history,G=a.sel,X="undo"==d?b.done:b.undone,ee="undo"==d?b.undone:b.done,ce=0;ce<X.length&&(B=X[ce],!(y?B.ranges&&!B.equals(a.sel):!B.ranges));ce++);if(ce!=X.length){for(b.lastOrigin=b.lastSelOrigin=null;;){if(!(B=X.pop()).ranges){if(v)return void X.push(B);break}if(xd(B,ee),y&&!B.equals(a.sel))return void xo(a,B,{clearRedo:!1});G=B}var Ee=[];xd(G,ee),ee.push({changes:Ee,generation:b.generation}),b.generation=B.generation||++b.maxGeneration;for(var Le=Ti(a,"beforeChange")||a.cm&&Ti(a.cm,"beforeChange"),Ke=function(_t){var Gt=B.changes[_t];if(Gt.origin=d,Le&&!Ha(a,Gt,!1))return X.length=0,{};Ee.push(Ou(a,Gt));var $t=_t?Vo(a,Gt):Dn(X);Ar(a,Gt,$t,Ih(a,Gt)),!_t&&a.cm&&a.cm.scrollIntoView({from:Gt.from,to:Bo(Gt)});var Jt=[];ys(a,function(Kt,Xt){!Xt&&-1==it(Jt,Kt.history)&&(Wp(Kt.history,Gt),Jt.push(Kt.history)),Ar(Kt,Gt,null,Ih(Kt,Gt))})},$e=B.changes.length-1;$e>=0;--$e){var gt=Ke($e);if(gt)return gt.v}}}}function ol(a,d){if(0!=d&&(a.first+=d,a.sel=new _a(zn(a.sel.ranges,function(b){return new Yr(Tt(b.anchor.line+d,b.anchor.ch),Tt(b.head.line+d,b.head.ch))}),a.sel.primIndex),a.cm)){ao(a.cm,a.first,a.first-d,d);for(var y=a.cm.display,v=y.viewFrom;v<y.viewTo;v++)so(a.cm,v,"gutter")}}function Ar(a,d,y,v){if(a.cm&&!a.cm.curOp)return Co(a.cm,Ar)(a,d,y,v);if(d.to.line<a.first)ol(a,d.text.length-1-(d.to.line-d.from.line));else if(!(d.from.line>a.lastLine())){if(d.from.line<a.first){var b=d.text.length-1-(a.first-d.from.line);ol(a,b),d={from:Tt(a.first,0),to:Tt(d.to.line+b,d.to.ch),text:[Dn(d.text)],origin:d.origin}}var B=a.lastLine();d.to.line>B&&(d={from:d.from,to:Tt(B,Tn(a,B).text.length),text:[d.text[0]],origin:d.origin}),d.removed=ui(a,d.from,d.to),y||(y=Vo(a,d)),a.cm?function wm(a,d,y){var v=a.doc,b=a.display,B=d.from,G=d.to,X=!1,ee=B.line;a.options.lineWrapping||(ee=Fr(tr(Tn(v,B.line))),v.iter(ee,G.line+1,function($e){if($e==b.maxLine)return X=!0,!0})),v.sel.contains(d.from,d.to)>-1&&bu(a),Cc(v,d,y,sa(a)),a.options.lineWrapping||(v.iter(ee,B.line+d.text.length,function($e){var gt=cc($e);gt>b.maxLineLength&&(b.maxLine=$e,b.maxLineLength=gt,b.maxLineChanged=!0,X=!1)}),X&&(a.curOp.updateMaxLine=!0)),function ci(a,d){if(a.modeFrontier=Math.min(a.modeFrontier,d),!(a.highlightFrontier<d-10)){for(var y=a.first,v=d-1;v>y;v--){var b=Tn(a,v).stateAfter;if(b&&(!(b instanceof yn)||v+b.lookAhead<d)){y=v+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,y)}}(v,B.line),bi(a,400);var ce=d.text.length-(G.line-B.line)-1;d.full?ao(a):B.line!=G.line||1!=d.text.length||Cd(a.doc,d)?ao(a,B.line,G.line+1,ce):so(a,B.line,"text");var Ee=Ti(a,"changes"),Le=Ti(a,"change");if(Le||Ee){var Ke={from:B,to:G,text:d.text,removed:d.removed,origin:d.origin};Le&&bo(a,"change",a,Ke),Ee&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(Ke)}a.display.selForContextMenu=null}(a.cm,d,v):Cc(a,d,v),Td(a,y,St),a.cantEdit&&Vs(a,Tt(a.firstLine(),0))&&(a.cantEdit=!1)}}function eu(a,d,y,v,b){var B;v||(v=y),Yn(v,y)<0&&(y=(B=[v,y])[0],v=B[1]),"string"==typeof d&&(d=a.splitLines(d)),Sc(a,{from:y,to:v,text:d,origin:b})}function Tc(a,d,y,v){y<a.line?a.line+=v:d<a.line&&(a.line=d,a.ch=0)}function Rh(a,d,y,v){for(var b=0;b<a.length;++b){var B=a[b],G=!0;if(B.ranges){B.copied||((B=a[b]=B.deepCopy()).copied=!0);for(var X=0;X<B.ranges.length;X++)Tc(B.ranges[X].anchor,d,y,v),Tc(B.ranges[X].head,d,y,v)}else{for(var ee=0;ee<B.changes.length;++ee){var ce=B.changes[ee];if(y<ce.from.line)ce.from=Tt(ce.from.line+v,ce.from.ch),ce.to=Tt(ce.to.line+v,ce.to.ch);else if(d<=ce.to.line){G=!1;break}}G||(a.splice(0,b+1),b=0)}}}function Wp(a,d){var y=d.from.line,v=d.to.line,b=d.text.length-(v-y)-1;Rh(a.done,y,v,b),Rh(a.undone,y,v,b)}function Hn(a,d,y,v){var b=d,B=d;return"number"==typeof d?B=Tn(a,Ve(a,d)):b=Fr(d),null==b?null:(v(B,b)&&a.cm&&so(a.cm,b,y),B)}function Nu(a){this.lines=a,this.parent=null;for(var d=0,y=0;y<a.length;++y)a[y].parent=this,d+=a[y].height;this.height=d}function Ru(a){this.children=a;for(var d=0,y=0,v=0;v<a.length;++v){var b=a[v];d+=b.chunkSize(),y+=b.height,b.parent=this}this.size=d,this.height=y,this.parent=null}Yr.prototype.from=function(){return Re(this.anchor,this.head)},Yr.prototype.to=function(){return Oe(this.anchor,this.head)},Yr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Nu.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,d){for(var y=a,v=a+d;y<v;++y){var b=this.lines[y];this.height-=b.height,La(b),bo(b,"delete")}this.lines.splice(a,d)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,d,y){this.height+=y,this.lines=this.lines.slice(0,a).concat(d).concat(this.lines.slice(a));for(var v=0;v<d.length;++v)d[v].parent=this},iterN:function(a,d,y){for(var v=a+d;a<v;++a)if(y(this.lines[a]))return!0}},Ru.prototype={chunkSize:function(){return this.size},removeInner:function(a,d){this.size-=d;for(var y=0;y<this.children.length;++y){var v=this.children[y],b=v.chunkSize();if(a<b){var B=Math.min(d,b-a),G=v.height;if(v.removeInner(a,B),this.height-=G-v.height,b==B&&(this.children.splice(y--,1),v.parent=null),0==(d-=B))break;a=0}else a-=b}if(this.size-d<25&&(this.children.length>1||!(this.children[0]instanceof Nu))){var X=[];this.collapse(X),this.children=[new Nu(X)],this.children[0].parent=this}},collapse:function(a){for(var d=0;d<this.children.length;++d)this.children[d].collapse(a)},insertInner:function(a,d,y){this.size+=d.length,this.height+=y;for(var v=0;v<this.children.length;++v){var b=this.children[v],B=b.chunkSize();if(a<=B){if(b.insertInner(a,d,y),b.lines&&b.lines.length>50){for(var G=b.lines.length%25+25,X=G;X<b.lines.length;){var ee=new Nu(b.lines.slice(X,X+=25));b.height-=ee.height,this.children.splice(++v,0,ee),ee.parent=this}b.lines=b.lines.slice(0,G),this.maybeSpill()}break}a-=B}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var y=new Ru(a.children.splice(a.children.length-5,5));if(a.parent){a.size-=y.size,a.height-=y.height;var b=it(a.parent.children,a);a.parent.children.splice(b+1,0,y)}else{var v=new Ru(a.children);v.parent=a,a.children=[v,y],a=v}y.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,d,y){for(var v=0;v<this.children.length;++v){var b=this.children[v],B=b.chunkSize();if(a<B){var G=Math.min(d,B-a);if(b.iterN(a,G,y))return!0;if(0==(d-=G))break;a=0}else a-=B}}};var tu=function(a,d,y){if(y)for(var v in y)y.hasOwnProperty(v)&&(this[v]=y[v]);this.doc=a,this.node=d};function Ho(a,d,y){Pa(d)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&gs(a,y)}tu.prototype.clear=function(){var a=this.doc.cm,d=this.line.widgets,y=this.line,v=Fr(y);if(null!=v&&d){for(var b=0;b<d.length;++b)d[b]==this&&d.splice(b--,1);d.length||(y.widgets=null);var B=mc(this);ko(y,Math.max(0,y.height-B)),a&&(ca(a,function(){Ho(a,y,-B),so(a,v,"widget")}),bo(a,"lineWidgetCleared",a,this,v))}},tu.prototype.changed=function(){var a=this,d=this.height,y=this.doc.cm,v=this.line;this.height=null;var b=mc(this)-d;b&&(gl(this.doc,v)||ko(v,v.height+b),y&&ca(y,function(){y.curOp.forceUpdate=!0,Ho(y,v,b),bo(y,"lineWidgetChanged",y,a,Fr(v))}))},Aa(tu);var Od=0,zo=function(a,d){this.lines=[],this.type=d,this.doc=a,this.id=++Od};function Mc(a,d,y,v,b){if(v&&v.shared)return function Cm(a,d,y,v,b){(v=bn(v)).shared=!1;var B=[Mc(a,d,y,v,b)],G=B[0],X=v.widgetNode;return ys(a,function(ee){X&&(v.widgetNode=X.cloneNode(!0)),B.push(Mc(ee,rt(ee,d),rt(ee,y),v,b));for(var ce=0;ce<ee.linked.length;++ce)if(ee.linked[ce].isParent)return;G=Dn(B)}),new Nd(B,G)}(a,d,y,v,b);if(a.cm&&!a.cm.curOp)return Co(a.cm,Mc)(a,d,y,v,b);var B=new zo(a,b),G=Yn(d,y);if(v&&bn(v,B,!1),G>0||0==G&&!1!==B.clearWhenEmpty)return B;if(B.replacedWith&&(B.collapsed=!0,B.widgetNode=ze("span",[B.replacedWith],"CodeMirror-widget"),v.handleMouseEvents||B.widgetNode.setAttribute("cm-ignore-events","true"),v.insertLeft&&(B.widgetNode.insertLeft=!0)),B.collapsed){if(io(a,d.line,d,y,B)||d.line!=y.line&&io(a,y.line,d,y,B))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function _n(){et=!0}()}B.addToHistory&&bm(a,{from:d,to:y,origin:"markText"},a.sel,NaN);var ce,X=d.line,ee=a.cm;if(a.iter(X,y.line+1,function(Le){ee&&B.collapsed&&!ee.options.lineWrapping&&tr(Le)==ee.display.maxLine&&(ce=!0),B.collapsed&&X!=d.line&&ko(Le,0),function mo(a,d,y){var v=y&&window.WeakSet&&(y.markedSpans||(y.markedSpans=new WeakSet));v&&a.markedSpans&&v.has(a.markedSpans)?a.markedSpans.push(d):(a.markedSpans=a.markedSpans?a.markedSpans.concat([d]):[d],v&&v.add(a.markedSpans)),d.marker.attachLine(a)}(Le,new Gn(B,X==d.line?d.ch:null,X==y.line?y.ch:null),a.cm&&a.cm.curOp),++X}),B.collapsed&&a.iter(d.line,y.line+1,function(Le){gl(a,Le)&&ko(Le,0)}),B.clearOnEnter&&Sn(B,"beforeCursorEnter",function(){return B.clear()}),B.readOnly&&(function Vr(){vr=!0}(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),B.collapsed&&(B.id=++Od,B.atomic=!0),ee){if(ce&&(ee.curOp.updateMaxLine=!0),B.collapsed)ao(ee,d.line,y.line+1);else if(B.className||B.startStyle||B.endStyle||B.css||B.attributes||B.title)for(var Ee=d.line;Ee<=y.line;Ee++)so(ee,Ee,"text");B.atomic&&Nh(ee.doc),bo(ee,"markerAdded",ee,B)}return B}zo.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,d=a&&!a.curOp;if(d&&si(a),Ti(this,"clear")){var y=this.find();y&&bo(this,"clear",y.from,y.to)}for(var v=null,b=null,B=0;B<this.lines.length;++B){var G=this.lines[B],X=di(G.markedSpans,this);a&&!this.collapsed?so(a,Fr(G),"text"):a&&(null!=X.to&&(b=Fr(G)),null!=X.from&&(v=Fr(G))),G.markedSpans=Hi(G.markedSpans,X),null==X.from&&this.collapsed&&!gl(this.doc,G)&&a&&ko(G,ti(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var ee=0;ee<this.lines.length;++ee){var ce=tr(this.lines[ee]),Ee=cc(ce);Ee>a.display.maxLineLength&&(a.display.maxLine=ce,a.display.maxLineLength=Ee,a.display.maxLineChanged=!0)}null!=v&&a&&this.collapsed&&ao(a,v,b+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Nh(a.doc)),a&&bo(a,"markerCleared",a,this,v,b),d&&ql(a),this.parent&&this.parent.clear()}},zo.prototype.find=function(a,d){null==a&&"bookmark"==this.type&&(a=1);for(var y,v,b=0;b<this.lines.length;++b){var B=this.lines[b],G=di(B.markedSpans,this);if(null!=G.from&&(y=Tt(d?B:Fr(B),G.from),-1==a))return y;if(null!=G.to&&(v=Tt(d?B:Fr(B),G.to),1==a))return v}return y&&{from:y,to:v}},zo.prototype.changed=function(){var a=this,d=this.find(-1,!0),y=this,v=this.doc.cm;!d||!v||ca(v,function(){var b=d.line,B=Fr(d.line),G=$l(v,B);if(G&&(dd(G),v.curOp.selectionChanged=v.curOp.forceUpdate=!0),v.curOp.updateMaxLine=!0,!gl(y.doc,b)&&null!=y.height){var X=y.height;y.height=null;var ee=mc(y)-X;ee&&ko(b,b.height+ee)}bo(v,"markerChanged",v,a)})},zo.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(!d.maybeHiddenMarkers||-1==it(d.maybeHiddenMarkers,this))&&(d.maybeUnhiddenMarkers||(d.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},zo.prototype.detachLine=function(a){if(this.lines.splice(it(this.lines,a),1),!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(d.maybeHiddenMarkers||(d.maybeHiddenMarkers=[])).push(this)}},Aa(zo);var Nd=function(a,d){this.markers=a,this.primary=d;for(var y=0;y<a.length;++y)a[y].parent=this};function $p(a){return a.findMarks(Tt(a.first,0),a.clipPos(Tt(a.lastLine())),function(d){return d.parent})}function Rt(a){for(var d=function(v){var b=a[v],B=[b.primary.doc];ys(b.primary.doc,function(ee){return B.push(ee)});for(var G=0;G<b.markers.length;G++){var X=b.markers[G];-1==it(B,X.doc)&&(X.parent=null,b.markers.splice(G--,1))}},y=0;y<a.length;y++)d(y)}Nd.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();bo(this,"clear")}},Nd.prototype.find=function(a,d){return this.primary.find(a,d)},Aa(Nd);var Cr=0,Ln=function(a,d,y,v,b){if(!(this instanceof Ln))return new Ln(a,d,y,v,b);null==y&&(y=0),Ru.call(this,[new Nu([new ml("",null)])]),this.first=y,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=y;var B=Tt(y,0);this.sel=wa(B),this.history=new Ec(null),this.id=++Cr,this.modeOption=d,this.lineSep=v,this.direction="rtl"==b?"rtl":"ltr",this.extend=!1,"string"==typeof a&&(a=this.splitLines(a)),Cc(this,{from:B,to:B,text:a}),xo(this,wa(B),St)};Ln.prototype=Ri(Ru.prototype,{constructor:Ln,iter:function(a,d,y){y?this.iterN(a-this.first,d-a,y):this.iterN(this.first,this.first+this.size,a)},insert:function(a,d){for(var y=0,v=0;v<d.length;++v)y+=d[v].height;this.insertInner(a-this.first,d,y)},remove:function(a,d){this.removeInner(a-this.first,d)},getValue:function(a){var d=Ka(this,this.first,this.first+this.size);return!1===a?d:d.join(a||this.lineSeparator())},setValue:Fo(function(a){var d=Tt(this.first,0),y=this.first+this.size-1;Sc(this,{from:d,to:Tt(y,Tn(this,y).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&uo(this.cm,0,0),xo(this,wa(d),St)}),replaceRange:function(a,d,y,v){eu(this,a,d=rt(this,d),y=y?rt(this,y):d,v)},getRange:function(a,d,y){var v=ui(this,rt(this,a),rt(this,d));return!1===y?v:v.join(""===y?"":y||this.lineSeparator())},getLine:function(a){var d=this.getLineHandle(a);return d&&d.text},getLineHandle:function(a){if(Po(this,a))return Tn(this,a)},getLineNumber:function(a){return Fr(a)},getLineHandleVisualStart:function(a){return"number"==typeof a&&(a=Tn(this,a)),tr(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return rt(this,a)},getCursor:function(a){var d=this.sel.primary();return null==a||"head"==a?d.head:"anchor"==a?d.anchor:"end"==a||"to"==a||!1===a?d.to():d.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Fo(function(a,d,y){Dd(this,rt(this,"number"==typeof a?Tt(a,d||0):a),null,y)}),setSelection:Fo(function(a,d,y){Dd(this,rt(this,a),rt(this,d||a),y)}),extendSelection:Fo(function(a,d,y){Ed(this,rt(this,a),d&&rt(this,d),y)}),extendSelections:Fo(function(a,d){Ah(this,Qt(this,a),d)}),extendSelectionsBy:Fo(function(a,d){Ah(this,Qt(this,zn(this.sel.ranges,a)),d)}),setSelections:Fo(function(a,d,y){if(a.length){for(var v=[],b=0;b<a.length;b++)v[b]=new Yr(rt(this,a[b].anchor),rt(this,a[b].head||a[b].anchor));null==d&&(d=Math.min(a.length-1,this.sel.primIndex)),xo(this,da(this.cm,v,d),y)}}),addSelection:Fo(function(a,d,y){var v=this.sel.ranges.slice(0);v.push(new Yr(rt(this,a),rt(this,d||a))),xo(this,da(this.cm,v,v.length-1),y)}),getSelection:function(a){for(var y,d=this.sel.ranges,v=0;v<d.length;v++){var b=ui(this,d[v].from(),d[v].to());y=y?y.concat(b):b}return!1===a?y:y.join(a||this.lineSeparator())},getSelections:function(a){for(var d=[],y=this.sel.ranges,v=0;v<y.length;v++){var b=ui(this,y[v].from(),y[v].to());!1!==a&&(b=b.join(a||this.lineSeparator())),d[v]=b}return d},replaceSelection:function(a,d,y){for(var v=[],b=0;b<this.sel.ranges.length;b++)v[b]=a;this.replaceSelections(v,d,y||"+input")},replaceSelections:Fo(function(a,d,y){for(var v=[],b=this.sel,B=0;B<b.ranges.length;B++){var G=b.ranges[B];v[B]={from:G.from(),to:G.to(),text:this.splitLines(a[B]),origin:y}}for(var X=d&&"end"!=d&&function eo(a,d,y){for(var v=[],b=Tt(a.first,0),B=b,G=0;G<d.length;G++){var X=d[G],ee=Dl(X.from,b,B),ce=Dl(Bo(X),b,B);if(b=X.to,B=ce,"around"==y){var Ee=a.sel.ranges[G],Le=Yn(Ee.head,Ee.anchor)<0;v[G]=new Yr(Le?ce:ee,Le?ee:ce)}else v[G]=new Yr(ee,ee)}return new _a(v,a.sel.primIndex)}(this,v,d),ee=v.length-1;ee>=0;ee--)Sc(this,v[ee]);X?Va(this,X):this.cm&&Ja(this.cm)}),undo:Fo(function(){Ad(this,"undo")}),redo:Fo(function(){Ad(this,"redo")}),undoSelection:Fo(function(){Ad(this,"undo",!0)}),redoSelection:Fo(function(){Ad(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,d=0,y=0,v=0;v<a.done.length;v++)a.done[v].ranges||++d;for(var b=0;b<a.undone.length;b++)a.undone[b].ranges||++y;return{undo:d,redo:y}},clearHistory:function(){var a=this;this.history=new Ec(this.history),ys(this,function(d){return d.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Dc(this.history.done),undone:Dc(this.history.undone)}},setHistory:function(a){var d=this.history=new Ec(this.history);d.done=Dc(a.done.slice(0),null,!0),d.undone=Dc(a.undone.slice(0),null,!0)},setGutterMarker:Fo(function(a,d,y){return Hn(this,a,"gutter",function(v){var b=v.gutterMarkers||(v.gutterMarkers={});return b[d]=y,!y&&$r(b)&&(v.gutterMarkers=null),!0})}),clearGutter:Fo(function(a){var d=this;this.iter(function(y){y.gutterMarkers&&y.gutterMarkers[a]&&Hn(d,y,"gutter",function(){return y.gutterMarkers[a]=null,$r(y.gutterMarkers)&&(y.gutterMarkers=null),!0})})}),lineInfo:function(a){var d;if("number"==typeof a){if(!(Po(this,a)&&(d=a,a=Tn(this,a))))return null}else if(null==(d=Fr(a)))return null;return{line:d,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Fo(function(a,d,y){return Hn(this,a,"gutter"==d?"gutter":"class",function(v){var b="text"==d?"textClass":"background"==d?"bgClass":"gutter"==d?"gutterClass":"wrapClass";if(v[b]){if(ie(y).test(v[b]))return!1;v[b]+=" "+y}else v[b]=y;return!0})}),removeLineClass:Fo(function(a,d,y){return Hn(this,a,"gutter"==d?"gutter":"class",function(v){var b="text"==d?"textClass":"background"==d?"bgClass":"gutter"==d?"gutterClass":"wrapClass",B=v[b];if(!B)return!1;if(null==y)v[b]=null;else{var G=B.match(ie(y));if(!G)return!1;var X=G.index+G[0].length;v[b]=B.slice(0,G.index)+(G.index&&X!=B.length?" ":"")+B.slice(X)||null}return!0})}),addLineWidget:Fo(function(a,d,y){return function kh(a,d,y,v){var b=new tu(a,y,v),B=a.cm;return B&&b.noHScroll&&(B.display.alignWidgets=!0),Hn(a,d,"widget",function(G){var X=G.widgets||(G.widgets=[]);if(null==b.insertAt?X.push(b):X.splice(Math.min(X.length,Math.max(0,b.insertAt)),0,b),b.line=G,B&&!gl(a,G)){var ee=Pa(G)<a.scrollTop;ko(G,G.height+mc(b)),ee&&gs(B,b.height),B.curOp.forceUpdate=!0}return!0}),B&&bo(B,"lineWidgetAdded",B,b,"number"==typeof d?d:Fr(d)),b}(this,a,d,y)}),removeLineWidget:function(a){a.clear()},markText:function(a,d,y){return Mc(this,rt(this,a),rt(this,d),y,y&&y.type||"range")},setBookmark:function(a,d){var y={replacedWith:d&&(null==d.nodeType?d.widget:d),insertLeft:d&&d.insertLeft,clearWhenEmpty:!1,shared:d&&d.shared,handleMouseEvents:d&&d.handleMouseEvents};return Mc(this,a=rt(this,a),a,y,"bookmark")},findMarksAt:function(a){var d=[],y=Tn(this,(a=rt(this,a)).line).markedSpans;if(y)for(var v=0;v<y.length;++v){var b=y[v];(null==b.from||b.from<=a.ch)&&(null==b.to||b.to>=a.ch)&&d.push(b.marker.parent||b.marker)}return d},findMarks:function(a,d,y){a=rt(this,a),d=rt(this,d);var v=[],b=a.line;return this.iter(a.line,d.line+1,function(B){var G=B.markedSpans;if(G)for(var X=0;X<G.length;X++){var ee=G[X];!(null!=ee.to&&b==a.line&&a.ch>=ee.to||null==ee.from&&b!=a.line||null!=ee.from&&b==d.line&&ee.from>=d.ch)&&(!y||y(ee.marker))&&v.push(ee.marker.parent||ee.marker)}++b}),v},getAllMarks:function(){var a=[];return this.iter(function(d){var y=d.markedSpans;if(y)for(var v=0;v<y.length;++v)null!=y[v].from&&a.push(y[v].marker)}),a},posFromIndex:function(a){var d,y=this.first,v=this.lineSeparator().length;return this.iter(function(b){var B=b.text.length+v;if(B>a)return d=a,!0;a-=B,++y}),rt(this,Tt(y,d))},indexFromPos:function(a){var d=(a=rt(this,a)).ch;if(a.line<this.first||a.ch<0)return 0;var y=this.lineSeparator().length;return this.iter(this.first,a.line,function(v){d+=v.text.length+y}),d},copy:function(a){var d=new Ln(Ka(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return d.scrollTop=this.scrollTop,d.scrollLeft=this.scrollLeft,d.sel=this.sel,d.extend=!1,a&&(d.history.undoDepth=this.history.undoDepth,d.setHistory(this.getHistory())),d},linkedDoc:function(a){a||(a={});var d=this.first,y=this.first+this.size;null!=a.from&&a.from>d&&(d=a.from),null!=a.to&&a.to<y&&(y=a.to);var v=new Ln(Ka(this,d,y),a.mode||this.modeOption,d,this.lineSep,this.direction);return a.sharedHist&&(v.history=this.history),(this.linked||(this.linked=[])).push({doc:v,sharedHist:a.sharedHist}),v.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],function nu(a,d){for(var y=0;y<d.length;y++){var v=d[y],b=v.find(),B=a.clipPos(b.from),G=a.clipPos(b.to);if(Yn(B,G)){var X=Mc(a,B,G,v.primary,v.primary.type);v.markers.push(X),X.parent=v}}}(v,$p(this)),v},unlinkDoc:function(a){if(a instanceof li&&(a=a.doc),this.linked)for(var d=0;d<this.linked.length;++d)if(this.linked[d].doc==a){this.linked.splice(d,1),a.unlinkDoc(this),Rt($p(this));break}if(a.history==this.history){var v=[a.id];ys(a,function(b){return v.push(b.id)},!0),a.history=new Ec(null),a.history.done=Dc(this.history.done,v),a.history.undone=Dc(this.history.undone,v)}},iterLinkedDocs:function(a){ys(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):_u(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Fo(function(a){"rtl"!=a&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(d){return d.order=null}),this.cm&&function Mh(a){ca(a,function(){zp(a),ao(a)})}(this.cm))})}),Ln.prototype.eachLine=Ln.prototype.iter;var ni=0;function Uo(a){var d=this;if(bs(d),!qi(d,a)&&!yl(d.display,a)){Vi(a),C&&(ni=+new Date);var y=Ui(d,a,!0),v=a.dataTransfer.files;if(y&&!d.isReadOnly())if(v&&v.length&&window.FileReader&&window.File)for(var b=v.length,B=Array(b),G=0,X=function(){++G==b&&Co(d,function(){var $e={from:y=rt(d.doc,y),to:y,text:d.doc.splitLines(B.filter(function(gt){return null!=gt}).join(d.doc.lineSeparator())),origin:"paste"};Sc(d.doc,$e),Va(d.doc,wa(rt(d.doc,y),rt(d.doc,Bo($e))))})()},ee=function($e,gt){if(d.options.allowDropFileTypes&&-1==it(d.options.allowDropFileTypes,$e.type))X();else{var _t=new FileReader;_t.onerror=function(){return X()},_t.onload=function(){var Gt=_t.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Gt)||(B[gt]=Gt),X()},_t.readAsText($e)}},ce=0;ce<v.length;ce++)ee(v[ce],ce);else{if(d.state.draggingText&&d.doc.sel.contains(y)>-1)return d.state.draggingText(a),void setTimeout(function(){return d.display.input.focus()},20);try{var Ee=a.dataTransfer.getData("Text");if(Ee){var Le;if(d.state.draggingText&&!d.state.draggingText.copy&&(Le=d.listSelections()),Td(d.doc,wa(y,y)),Le)for(var Ke=0;Ke<Le.length;++Ke)eu(d.doc,"",Le[Ke].anchor,Le[Ke].head,"drag");d.replaceSelection(Ee,"around","paste"),d.display.input.focus()}}catch{}}}}function bs(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Rd(a){if(document.getElementsByClassName){for(var d=document.getElementsByClassName("CodeMirror"),y=[],v=0;v<d.length;v++){var b=d[v].CodeMirror;b&&y.push(b)}y.length&&y[0].operation(function(){for(var B=0;B<y.length;B++)a(y[B])})}}var fo=!1;function _i(){fo||(function by(){var a;Sn(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null,Rd(Yp)},100))}),Sn(window,"blur",function(){return Rd(yi)})}(),fo=!0)}function Yp(a){var d=a.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.scrollbarsClipped=!1,a.setSize()}for(var Wi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Sr=0;Sr<10;Sr++)Wi[Sr+48]=Wi[Sr+96]=String(Sr);for(var ru=65;ru<=90;ru++)Wi[ru]=String.fromCharCode(ru);for(var Hs=1;Hs<=12;Hs++)Wi[Hs+111]=Wi[Hs+63235]="F"+Hs;var Go={};function Ac(a){var d=a.split(/-(?!$)/);a=d[d.length-1];for(var y,v,b,B,G=0;G<d.length-1;G++){var X=d[G];if(/^(cmd|meta|m)$/i.test(X))B=!0;else if(/^a(lt)?$/i.test(X))y=!0;else if(/^(c|ctrl|control)$/i.test(X))v=!0;else{if(!/^s(hift)?$/i.test(X))throw new Error("Unrecognized modifier name: "+X);b=!0}}return y&&(a="Alt-"+a),v&&(a="Ctrl-"+a),B&&(a="Cmd-"+a),b&&(a="Shift-"+a),a}function Xp(a){var d={};for(var y in a)if(a.hasOwnProperty(y)){var v=a[y];if(/^(name|fallthrough|(de|at)tach)$/.test(y))continue;if("..."==v){delete a[y];continue}for(var b=zn(y.split(" "),Ac),B=0;B<b.length;B++){var G=void 0,X=void 0;B==b.length-1?(X=b.join(" "),G=v):(X=b.slice(0,B+1).join(" "),G="...");var ee=d[X];if(ee){if(ee!=G)throw new Error("Inconsistent bindings for "+X)}else d[X]=G}delete a[y]}for(var ce in d)a[ce]=d[ce];return a}function al(a,d,y,v){var b=(d=Pd(d)).call?d.call(a,v):d[a];if(!1===b)return"nothing";if("..."===b)return"multi";if(null!=b&&y(b))return"handled";if(d.fallthrough){if("[object Array]"!=Object.prototype.toString.call(d.fallthrough))return al(a,d.fallthrough,y,v);for(var B=0;B<d.fallthrough.length;B++){var G=al(a,d.fallthrough[B],y,v);if(G)return G}}}function Kp(a){var d="string"==typeof a?a:Wi[a.keyCode];return"Ctrl"==d||"Alt"==d||"Shift"==d||"Mod"==d}function kd(a,d,y){var v=a;return d.altKey&&"Alt"!=v&&(a="Alt-"+a),(q?d.metaKey:d.ctrlKey)&&"Ctrl"!=v&&(a="Ctrl-"+a),(q?d.ctrlKey:d.metaKey)&&"Mod"!=v&&(a="Cmd-"+a),!y&&d.shiftKey&&"Shift"!=v&&(a="Shift-"+a),a}function Pf(a,d){if(k&&34==a.keyCode&&a.char)return!1;var y=Wi[a.keyCode];return null!=y&&!a.altGraphKey&&(3==a.keyCode&&a.code&&(y=a.code),kd(y,a,d))}function Pd(a){return"string"==typeof a?Go[a]:a}function zs(a,d){for(var y=a.doc.sel.ranges,v=[],b=0;b<y.length;b++){for(var B=d(y[b]);v.length&&Yn(B.from,Dn(v).to)<=0;){var G=v.pop();if(Yn(G.from,B.from)<0){B.from=G.from;break}}v.push(B)}ca(a,function(){for(var X=v.length-1;X>=0;X--)eu(a.doc,"",v[X].from,v[X].to,"+delete");Ja(a)})}function Lf(a,d,y){var v=As(a.text,d+y,y);return v<0||v>a.text.length?null:v}function Oc(a,d,y){var v=Lf(a,d.ch,y);return null==v?null:new Tt(d.line,v,y<0?"after":"before")}function iu(a,d,y,v,b){if(a){"rtl"==d.doc.direction&&(b=-b);var B=Xa(y,d.doc.direction);if(B){var ce,G=b<0?Dn(B):B[0],ee=b<0==(1==G.level)?"after":"before";if(G.level>0||"rtl"==d.doc.direction){var Ee=Yl(d,y),Le=Fs(d,Ee,ce=b<0?y.text.length-1:0).top;ce=kn(function(Ke){return Fs(d,Ee,Ke).top==Le},b<0==(1==G.level)?G.from:G.to-1,ce),"before"==ee&&(ce=Lf(y,ce,1))}else ce=b<0?G.to:G.from;return new Tt(v,ce,ee)}}return new Tt(v,b<0?y.text.length:0,b<0?"before":"after")}Go.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Go.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Go.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Go.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Go.default=ae?Go.macDefault:Go.pcDefault;var Nc={selectAll:Jl,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),St)},killLine:function(a){return zs(a,function(d){if(d.empty()){var y=Tn(a.doc,d.head.line).text.length;return d.head.ch==y&&d.head.line<a.lastLine()?{from:d.head,to:Tt(d.head.line+1,0)}:{from:d.head,to:Tt(d.head.line,y)}}return{from:d.from(),to:d.to()}})},deleteLine:function(a){return zs(a,function(d){return{from:Tt(d.from().line,0),to:rt(a.doc,Tt(d.to().line+1,0))}})},delLineLeft:function(a){return zs(a,function(d){return{from:Tt(d.from().line,0),to:d.from()}})},delWrappedLineLeft:function(a){return zs(a,function(d){var y=a.charCoords(d.head,"div").top+5;return{from:a.coordsChar({left:0,top:y},"div"),to:d.from()}})},delWrappedLineRight:function(a){return zs(a,function(d){var y=a.charCoords(d.head,"div").top+5,v=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:y},"div");return{from:d.from(),to:v}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(Tt(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(Tt(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(d){return Ld(a,d.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(d){return Eo(a,d.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(d){return function Fd(a,d){var y=Tn(a.doc,d),v=function qa(a){for(var d;d=ka(a);)a=d.find(1,!0).line;return a}(y);return v!=y&&(d=Fr(v)),iu(!0,a,y,d,-1)}(a,d.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(d){var y=a.cursorCoords(d.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:y},"div")},Jn)},goLineLeft:function(a){return a.extendSelectionsBy(function(d){var y=a.cursorCoords(d.head,"div").top+5;return a.coordsChar({left:0,top:y},"div")},Jn)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(d){var y=a.cursorCoords(d.head,"div").top+5,v=a.coordsChar({left:0,top:y},"div");return v.ch<a.getLine(v.line).search(/\S/)?Eo(a,d.head):v},Jn)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},insertSoftTab:function(a){for(var d=[],y=a.listSelections(),v=a.options.tabSize,b=0;b<y.length;b++){var B=y[b].from(),G=hn(a.getLine(B.line),B.ch,v);d.push(Er(v-G%v))}a.replaceSelections(d)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return ca(a,function(){for(var d=a.listSelections(),y=[],v=0;v<d.length;v++)if(d[v].empty()){var b=d[v].head,B=Tn(a.doc,b.line).text;if(B)if(b.ch==B.length&&(b=new Tt(b.line,b.ch-1)),b.ch>0)b=new Tt(b.line,b.ch+1),a.replaceRange(B.charAt(b.ch-1)+B.charAt(b.ch-2),Tt(b.line,b.ch-2),b,"+transpose");else if(b.line>a.doc.first){var G=Tn(a.doc,b.line-1).text;G&&(b=new Tt(b.line,1),a.replaceRange(B.charAt(0)+a.doc.lineSeparator()+G.charAt(G.length-1),Tt(b.line-1,G.length-1),b,"+transpose"))}y.push(new Yr(b,b))}a.setSelections(y)})},newlineAndIndent:function(a){return ca(a,function(){for(var d=a.listSelections(),y=d.length-1;y>=0;y--)a.replaceRange(a.doc.lineSeparator(),d[y].anchor,d[y].head,"+input");d=a.listSelections();for(var v=0;v<d.length;v++)a.indentLine(d[v].from().line,null,!0);Ja(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function Ld(a,d){var y=Tn(a.doc,d),v=tr(y);return v!=y&&(d=Fr(v)),iu(!0,a,v,d,1)}function Eo(a,d){var y=Ld(a,d.line),v=Tn(a.doc,y.line),b=Xa(v,a.doc.direction);if(!b||0==b[0].level){var B=Math.max(y.ch,v.text.search(/\S/));return Tt(y.line,d.line==y.line&&d.ch<=B&&d.ch?0:B,y.sticky)}return y}function ou(a,d,y){if("string"==typeof d&&!(d=Nc[d]))return!1;a.display.input.ensurePolled();var v=a.display.shift,b=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),y&&(a.display.shift=!1),b=d(a)!=Ft}finally{a.display.shift=v,a.state.suppressEdits=!1}return b}var Do=new ut;function is(a,d,y,v){var b=a.state.keySeq;if(b){if(Kp(d))return"handled";if(/\'$/.test(d)?a.state.keySeq=null:Do.set(50,function(){a.state.keySeq==b&&(a.state.keySeq=null,a.display.input.reset())}),Ur(a,b+" "+d,y,v))return!0}return Ur(a,d,y,v)}function Ur(a,d,y,v){var b=function xm(a,d,y){for(var v=0;v<a.state.keyMaps.length;v++){var b=al(d,a.state.keyMaps[v],y,a);if(b)return b}return a.options.extraKeys&&al(d,a.options.extraKeys,y,a)||al(d,a.options.keyMap,y,a)}(a,d,v);return"multi"==b&&(a.state.keySeq=d),"handled"==b&&bo(a,"keyHandled",a,d,y),("handled"==b||"multi"==b)&&(Vi(y),la(a)),!!b}function Bd(a,d){var y=Pf(d,!0);return!!y&&(d.shiftKey&&!a.state.keySeq?is(a,"Shift-"+y,d,function(v){return ou(a,v,!0)})||is(a,y,d,function(v){if("string"==typeof v?/^go[A-Z]/.test(v):v.motion)return ou(a,v)}):is(a,y,d,function(v){return ou(a,v)}))}var So=null;function Vd(a){var d=this;if(!(a.target&&a.target!=d.display.input.getField()||(d.curOp.focus=ht(Zt(d)),qi(d,a)))){C&&S<11&&27==a.keyCode&&(a.returnValue=!1);var y=a.keyCode;d.display.shift=16==y||a.shiftKey;var v=Bd(d,a);k&&(So=v?y:null,!v&&88==y&&!Ro&&(ae?a.metaKey:a.ctrlKey)&&d.replaceSelection("",null,"cut")),T&&!ae&&!v&&46==y&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==y&&!/\bCodeMirror-crosshair\b/.test(d.display.lineDiv.className)&&function Jo(a){var d=a.display.lineDiv;function y(v){(18==v.keyCode||!v.altKey)&&(me(d,"CodeMirror-crosshair"),go(document,"keyup",y),go(document,"mouseover",y))}Ze(d,"CodeMirror-crosshair"),Sn(document,"keyup",y),Sn(document,"mouseover",y)}(d)}}function jo(a){16==a.keyCode&&(this.doc.sel.shift=!1),qi(this,a)}function Hd(a){var d=this;if(!(a.target&&a.target!=d.display.input.getField()||yl(d.display,a)||qi(d,a)||a.ctrlKey&&!a.altKey||ae&&a.metaKey)){var y=a.keyCode,v=a.charCode;if(k&&y==So)return So=null,void Vi(a);if(!k||a.which&&!(a.which<10)||!Bd(d,a)){var b=String.fromCharCode(v??y);"\b"!=b&&(function Lh(a,d,y){return is(a,"'"+y+"'",d,function(v){return ou(a,v,!0)})}(d,a,b)||d.display.input.onKeyPress(a))}}}var _s,ws,Tl=function(a,d,y){this.time=a,this.pos=d,this.button=y};function Ff(a){var d=this,y=d.display;if(!(qi(d,a)||y.activeTouch&&y.input.supportsTouch())){if(y.input.ensurePolled(),y.shift=a.shiftKey,yl(y,a))return void(R||(y.scroller.draggable=!1,setTimeout(function(){return y.scroller.draggable=!0},100)));if(!Bf(d,a)){var v=Ui(d,a),b=id(a),B=v?function ku(a,d){var y=+new Date;return ws&&ws.compare(y,a,d)?(_s=ws=null,"triple"):_s&&_s.compare(y,a,d)?(ws=new Tl(y,a,d),_s=null,"double"):(_s=new Tl(y,a,d),ws=null,"single")}(v,b):"single";zt(d).focus(),1==b&&d.state.selectingText&&d.state.selectingText(a),(!v||!function Zp(a,d,y,v,b){var B="Click";return"double"==v?B="Double"+B:"triple"==v&&(B="Triple"+B),is(a,kd(B=(1==d?"Left":2==d?"Middle":"Right")+B,b),b,function(G){if("string"==typeof G&&(G=Nc[G]),!G)return!1;var X=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),X=G(a,y)!=Ft}finally{a.state.suppressEdits=!1}return X})}(d,b,v,B,a))&&(1==b?v?function Qp(a,d,y,v){C?setTimeout(It(bc,a),0):a.curOp.focus=ht(Zt(a));var G,b=function Pu(a,d,y){var v=a.getOption("configureMouse"),b=v?v(a,d,y):{};return null==b.unit&&(b.unit=(de?y.shiftKey&&y.metaKey:y.altKey)?"rectangle":"single"==d?"char":"double"==d?"word":"line"),(null==b.extend||a.doc.extend)&&(b.extend=a.doc.extend||y.shiftKey),null==b.addNew&&(b.addNew=ae?y.metaKey:y.ctrlKey),null==b.moveOnDrag&&(b.moveOnDrag=!(ae?y.altKey:y.ctrlKey)),b}(a,y,v),B=a.doc.sel;a.options.dragDrop&&us&&!a.isReadOnly()&&"single"==y&&(G=B.contains(d))>-1&&(Yn((G=B.ranges[G]).from(),d)<0||d.xRel>0)&&(Yn(G.to(),d)>0||d.xRel<0)?function Lu(a,d,y,v){var b=a.display,B=!1,G=Co(a,function(ce){R&&(b.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:wo(a)),go(b.wrapper.ownerDocument,"mouseup",G),go(b.wrapper.ownerDocument,"mousemove",X),go(b.scroller,"dragstart",ee),go(b.scroller,"drop",G),B||(Vi(ce),v.addNew||Ed(a.doc,y,null,null,v.extend),R&&!H||C&&9==S?setTimeout(function(){b.wrapper.ownerDocument.body.focus({preventScroll:!0}),b.input.focus()},20):b.input.focus())}),X=function(ce){B=B||Math.abs(d.clientX-ce.clientX)+Math.abs(d.clientY-ce.clientY)>=10},ee=function(){return B=!0};R&&(b.scroller.draggable=!0),a.state.draggingText=G,G.copy=!v.moveOnDrag,Sn(b.wrapper.ownerDocument,"mouseup",G),Sn(b.wrapper.ownerDocument,"mousemove",X),Sn(b.scroller,"dragstart",ee),Sn(b.scroller,"drop",G),a.state.delayingBlurEvent=!0,setTimeout(function(){return b.input.focus()},20),b.scroller.dragDrop&&b.scroller.dragDrop()}(a,v,d,b):function Jp(a,d,y,v){C&&wo(a);var b=a.display,B=a.doc;Vi(d);var G,X,ee=B.sel,ce=ee.ranges;if(v.addNew&&!v.extend?(X=B.sel.contains(y),G=X>-1?ce[X]:new Yr(y,y)):(G=B.sel.primary(),X=B.sel.primIndex),"rectangle"==v.unit)v.addNew||(G=new Yr(y,y)),y=Ui(a,d,!0,!0),X=-1;else{var Ee=Rc(a,y,v.unit);G=v.extend?Rf(G,Ee.anchor,Ee.head,v.extend):Ee}v.addNew?-1==X?(X=ce.length,xo(B,da(a,ce.concat([G]),X),{scroll:!1,origin:"*mouse"})):ce.length>1&&ce[X].empty()&&"char"==v.unit&&!v.extend?(xo(B,da(a,ce.slice(0,X).concat(ce.slice(X+1)),0),{scroll:!1,origin:"*mouse"}),ee=B.sel):Oh(B,X,G,Kn):(X=0,xo(B,new _a([G],0),Kn),ee=B.sel);var Le=y;function Ke(Kt){if(0!=Yn(Le,Kt))if(Le=Kt,"rectangle"==v.unit){for(var Xt=[],Fn=a.options.tabSize,Mn=hn(Tn(B,y.line).text,y.ch,Fn),nr=hn(Tn(B,Kt.line).text,Kt.ch,Fn),hr=Math.min(Mn,nr),Ai=Math.max(Mn,nr),xi=Math.min(y.line,Kt.line),Wo=Math.min(a.lastLine(),Math.max(y.line,Kt.line));xi<=Wo;xi++){var $i=Tn(B,xi).text,Oi=Mr($i,hr,Fn);hr==Ai?Xt.push(new Yr(Tt(xi,Oi),Tt(xi,Oi))):$i.length>Oi&&Xt.push(new Yr(Tt(xi,Oi),Tt(xi,Mr($i,Ai,Fn))))}Xt.length||Xt.push(new Yr(y,y)),xo(B,da(a,ee.ranges.slice(0,X).concat(Xt),X),{origin:"*mouse",scroll:!1}),a.scrollIntoView(Kt)}else{var Gr,ha=G,$o=Rc(a,Kt,v.unit),To=ha.anchor;Yn($o.anchor,To)>0?(Gr=$o.head,To=Re(ha.from(),$o.anchor)):(Gr=$o.anchor,To=Oe(ha.to(),$o.head));var Ei=ee.ranges.slice(0);Ei[X]=function _y(a,d){var y=d.anchor,v=d.head,b=Tn(a.doc,y.line);if(0==Yn(y,v)&&y.sticky==v.sticky)return d;var B=Xa(b);if(!B)return d;var G=Ko(B,y.ch,y.sticky),X=B[G];if(X.from!=y.ch&&X.to!=y.ch)return d;var ce,ee=G+(X.from==y.ch==(1!=X.level)?0:1);if(0==ee||ee==B.length)return d;if(v.line!=y.line)ce=(v.line-y.line)*("ltr"==a.doc.direction?1:-1)>0;else{var Ee=Ko(B,v.ch,v.sticky),Le=Ee-G||(v.ch-y.ch)*(1==X.level?-1:1);ce=Ee==ee-1||Ee==ee?Le<0:Le>0}var Ke=B[ee+(ce?-1:0)],$e=ce==(1==Ke.level),gt=$e?Ke.from:Ke.to,_t=$e?"after":"before";return y.ch==gt&&y.sticky==_t?d:new Yr(new Tt(y.line,gt,_t),v)}(a,new Yr(rt(B,To),Gr)),xo(B,da(a,Ei,X),Kn)}}var $e=b.wrapper.getBoundingClientRect(),gt=0;function _t(Kt){var Xt=++gt,Fn=Ui(a,Kt,!0,"rectangle"==v.unit);if(Fn)if(0!=Yn(Fn,Le)){a.curOp.focus=ht(Zt(a)),Ke(Fn);var Mn=qn(b,B);(Fn.line>=Mn.to||Fn.line<Mn.from)&&setTimeout(Co(a,function(){gt==Xt&&_t(Kt)}),150)}else{var nr=Kt.clientY<$e.top?-20:Kt.clientY>$e.bottom?20:0;nr&&setTimeout(Co(a,function(){gt==Xt&&(b.scroller.scrollTop+=nr,_t(Kt))}),50)}}function Gt(Kt){a.state.selectingText=!1,gt=1/0,Kt&&(Vi(Kt),b.input.focus()),go(b.wrapper.ownerDocument,"mousemove",$t),go(b.wrapper.ownerDocument,"mouseup",Jt),B.history.lastSelOrigin=null}var $t=Co(a,function(Kt){0!==Kt.buttons&&id(Kt)?_t(Kt):Gt(Kt)}),Jt=Co(a,Gt);a.state.selectingText=Jt,Sn(b.wrapper.ownerDocument,"mousemove",$t),Sn(b.wrapper.ownerDocument,"mouseup",Jt)}(a,v,d,b)}(d,v,B,a):Js(a)==y.scroller&&Vi(a):2==b?(v&&Ed(d.doc,v),setTimeout(function(){return y.input.focus()},20)):3==b&&(oe?d.display.input.onContextMenu(a):wo(d)))}}}function Rc(a,d,y){if("char"==y)return new Yr(d,d);if("word"==y)return a.findWordAt(d);if("line"==y)return new Yr(Tt(d.line,0),rt(a.doc,Tt(d.line+1,0)));var v=y(a,d);return new Yr(v.from,v.to)}function zd(a,d,y,v){var b,B;if(d.touches)b=d.touches[0].clientX,B=d.touches[0].clientY;else try{b=d.clientX,B=d.clientY}catch{return!1}if(b>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;v&&Vi(d);var G=a.display,X=G.lineDiv.getBoundingClientRect();if(B>X.bottom||!Ti(a,y))return rd(d);B-=X.top-G.viewOffset;for(var ee=0;ee<a.display.gutterSpecs.length;++ee){var ce=G.gutters.childNodes[ee];if(ce&&ce.getBoundingClientRect().right>=b)return gi(a,y,a,Qi(a.doc,B),a.display.gutterSpecs[ee].className,d),rd(d)}}function Bf(a,d){return zd(a,d,"gutterClick",!0)}function eg(a,d){yl(a.display,d)||function Vf(a,d){return!!Ti(a,"gutterContextMenu")&&zd(a,d,"gutterContextMenu",!1)}(a,d)||qi(a,d,"contextmenu")||oe||a.display.input.onContextMenu(d)}function Em(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Kl(a)}Tl.prototype.compare=function(a,d,y){return this.time+400>a&&0==Yn(d,this.pos)&&y==this.button};var Ud={toString:function(){return"CodeMirror.Init"}},Fh={},Fu={};function Gd(a,d,y){if(!d!=!(y&&y!=Ud)){var b=a.display.dragFunctions,B=d?Sn:go;B(a.display.scroller,"dragstart",b.start),B(a.display.scroller,"dragenter",b.enter),B(a.display.scroller,"dragover",b.over),B(a.display.scroller,"dragleave",b.leave),B(a.display.scroller,"drop",b.drop)}}function Bh(a){a.options.lineWrapping?(Ze(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(me(a.display.wrapper,"CodeMirror-wrap"),wu(a)),Hr(a),ao(a),Kl(a),setTimeout(function(){return xl(a)},100)}function li(a,d){var y=this;if(!(this instanceof li))return new li(a,d);this.options=d=d?bn(d):{},bn(Fh,d,!1);var v=d.value;"string"==typeof v?v=new Ln(v,d.mode,null,d.lineSeparator,d.direction):d.mode&&(v.modeOption=d.mode),this.doc=v;var b=new li.inputStyles[d.inputStyle](this),B=this.display=new Th(a,v,b,d);for(var G in B.wrapper.CodeMirror=this,Em(this),d.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Mu(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ut,keySeq:null,specialChars:null},d.autofocus&&!le&&B.input.focus(),C&&S<11&&setTimeout(function(){return y.display.input.reset(!0)},20),function wy(a){var d=a.display;Sn(d.scroller,"mousedown",Co(a,Ff)),Sn(d.scroller,"dblclick",C&&S<11?Co(a,function(ee){if(!qi(a,ee)){var ce=Ui(a,ee);if(ce&&!Bf(a,ee)&&!yl(a.display,ee)){Vi(ee);var Ee=a.findWordAt(ce);Ed(a.doc,Ee.anchor,Ee.head)}}}):function(ee){return qi(a,ee)||Vi(ee)}),Sn(d.scroller,"contextmenu",function(ee){return eg(a,ee)}),Sn(d.input.getField(),"contextmenu",function(ee){d.scroller.contains(ee.target)||eg(a,ee)});var y,v={end:0};function b(){d.activeTouch&&(y=setTimeout(function(){return d.activeTouch=null},1e3),(v=d.activeTouch).end=+new Date)}function B(ee){if(1!=ee.touches.length)return!1;var ce=ee.touches[0];return ce.radiusX<=1&&ce.radiusY<=1}function G(ee,ce){if(null==ce.left)return!0;var Ee=ce.left-ee.left,Le=ce.top-ee.top;return Ee*Ee+Le*Le>400}Sn(d.scroller,"touchstart",function(ee){if(!qi(a,ee)&&!B(ee)&&!Bf(a,ee)){d.input.ensurePolled(),clearTimeout(y);var ce=+new Date;d.activeTouch={start:ce,moved:!1,prev:ce-v.end<=300?v:null},1==ee.touches.length&&(d.activeTouch.left=ee.touches[0].pageX,d.activeTouch.top=ee.touches[0].pageY)}}),Sn(d.scroller,"touchmove",function(){d.activeTouch&&(d.activeTouch.moved=!0)}),Sn(d.scroller,"touchend",function(ee){var ce=d.activeTouch;if(ce&&!yl(d,ee)&&null!=ce.left&&!ce.moved&&new Date-ce.start<300){var Le,Ee=a.coordsChar(d.activeTouch,"page");Le=!ce.prev||G(ce,ce.prev)?new Yr(Ee,Ee):!ce.prev.prev||G(ce,ce.prev.prev)?a.findWordAt(Ee):new Yr(Tt(Ee.line,0),rt(a.doc,Tt(Ee.line+1,0))),a.setSelection(Le.anchor,Le.head),a.focus(),Vi(ee)}b()}),Sn(d.scroller,"touchcancel",b),Sn(d.scroller,"scroll",function(){d.scroller.clientHeight&&(dr(a,d.scroller.scrollTop),es(a,d.scroller.scrollLeft,!0),gi(a,"scroll",a))}),Sn(d.scroller,"mousewheel",function(ee){return wd(a,ee)}),Sn(d.scroller,"DOMMouseScroll",function(ee){return wd(a,ee)}),Sn(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0}),d.dragFunctions={enter:function(ee){qi(a,ee)||Oa(ee)},over:function(ee){qi(a,ee)||(function Ic(a,d){var y=Ui(a,d);if(y){var v=document.createDocumentFragment();gn(a,y,v),a.display.dragCursor||(a.display.dragCursor=De("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),Se(a.display.dragCursor,v)}}(a,ee),Oa(ee))},start:function(ee){return function Ph(a,d){if(C&&(!a.state.draggingText||+new Date-ni<100))Oa(d);else if(!qi(a,d)&&!yl(a.display,d)&&(d.dataTransfer.setData("Text",a.getSelection()),d.dataTransfer.effectAllowed="copyMove",d.dataTransfer.setDragImage&&!H)){var y=De("img",null,null,"position: fixed; left: 0; top: 0;");y.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",k&&(y.width=y.height=1,a.display.wrapper.appendChild(y),y._top=y.offsetTop),d.dataTransfer.setDragImage(y,0,0),k&&y.parentNode.removeChild(y)}}(a,ee)},drop:Co(a,Uo),leave:function(ee){qi(a,ee)||bs(a)}};var X=d.input.getField();Sn(X,"keyup",function(ee){return jo.call(a,ee)}),Sn(X,"keydown",Co(a,Vd)),Sn(X,"keypress",Co(a,Hd)),Sn(X,"focus",function(ee){return wl(a,ee)}),Sn(X,"blur",function(ee){return yi(a,ee)})}(this),_i(),si(this),this.curOp.forceUpdate=!0,xc(this,v),d.autofocus&&!le||this.hasFocus()?setTimeout(function(){y.hasFocus()&&!y.state.focused&&wl(y)},20):yi(this),Fu)Fu.hasOwnProperty(G)&&Fu[G](this,d[G],Ud);vm(this),d.finishInit&&d.finishInit(this);for(var X=0;X<jd.length;++X)jd[X](this);ql(this),R&&d.lineWrapping&&"optimizelegibility"==getComputedStyle(B.lineDiv).textRendering&&(B.lineDiv.style.textRendering="auto")}li.defaults=Fh,li.optionHandlers=Fu;var jd=[];function kc(a,d,y,v){var B,b=a.doc;null==y&&(y="add"),"smart"==y&&(b.mode.indent?B=Vt(a,d).state:y="prev");var G=a.options.tabSize,X=Tn(b,d),ee=hn(X.text,null,G);X.stateAfter&&(X.stateAfter=null);var Ee,ce=X.text.match(/^\s*/)[0];if(v||/\S/.test(X.text)){if("smart"==y&&((Ee=b.mode.indent(B,X.text.slice(ce.length),X.text))==Ft||Ee>150)){if(!v)return;y="prev"}}else Ee=0,y="not";"prev"==y?Ee=d>b.first?hn(Tn(b,d-1).text,null,G):0:"add"==y?Ee=ee+a.options.indentUnit:"subtract"==y?Ee=ee-a.options.indentUnit:"number"==typeof y&&(Ee=ee+y),Ee=Math.max(0,Ee);var Le="",Ke=0;if(a.options.indentWithTabs)for(var $e=Math.floor(Ee/G);$e;--$e)Ke+=G,Le+="\t";if(Ke<Ee&&(Le+=Er(Ee-Ke)),Le!=ce)return eu(b,Le,Tt(d,0),Tt(d,ce.length),"+input"),X.stateAfter=null,!0;for(var gt=0;gt<b.sel.ranges.length;gt++){var _t=b.sel.ranges[gt];if(_t.head.line==d&&_t.head.ch<ce.length){var Gt=Tt(d,ce.length);Oh(b,gt,new Yr(Gt,Gt));break}}}li.defineInitHook=function(a){return jd.push(a)};var Us=null;function fa(a){Us=a}function Vh(a,d,y,v,b){var B=a.doc;a.display.shift=!1,v||(v=B.sel);var G=+new Date-200,X="paste"==b||a.state.pasteIncoming>G,ee=_u(d),ce=null;if(X&&v.ranges.length>1)if(Us&&Us.text.join("\n")==d){if(v.ranges.length%Us.text.length==0){ce=[];for(var Ee=0;Ee<Us.text.length;Ee++)ce.push(B.splitLines(Us.text[Ee]))}}else ee.length==v.ranges.length&&a.options.pasteLinesPerSelection&&(ce=zn(ee,function($t){return[$t]}));for(var Le=a.curOp.updateInput,Ke=v.ranges.length-1;Ke>=0;Ke--){var $e=v.ranges[Ke],gt=$e.from(),_t=$e.to();$e.empty()&&(y&&y>0?gt=Tt(gt.line,gt.ch-y):a.state.overwrite&&!X?_t=Tt(_t.line,Math.min(Tn(B,_t.line).text.length,_t.ch+Dn(ee).length)):X&&Us&&Us.lineWise&&Us.text.join("\n")==ee.join("\n")&&(gt=_t=Tt(gt.line,0)));var Gt={from:gt,to:_t,text:ce?ce[Ke%ce.length]:ee,origin:b||(X?"paste":a.state.cutIncoming>G?"cut":"+input")};Sc(a.doc,Gt),bo(a,"inputRead",a,Gt)}d&&!X&&Hf(a,d),Ja(a),a.curOp.updateInput<2&&(a.curOp.updateInput=Le),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function Wd(a,d){var y=a.clipboardData&&a.clipboardData.getData("Text");if(y)return a.preventDefault(),!d.isReadOnly()&&!d.options.disableInput&&d.hasFocus()&&ca(d,function(){return Vh(d,y,0,null,"paste")}),!0}function Hf(a,d){if(a.options.electricChars&&a.options.smartIndent)for(var y=a.doc.sel,v=y.ranges.length-1;v>=0;v--){var b=y.ranges[v];if(!(b.head.ch>100||v&&y.ranges[v-1].head.line==b.head.line)){var B=a.getModeAt(b.head),G=!1;if(B.electricChars){for(var X=0;X<B.electricChars.length;X++)if(d.indexOf(B.electricChars.charAt(X))>-1){G=kc(a,b.head.line,"smart");break}}else B.electricInput&&B.electricInput.test(Tn(a.doc,b.head.line).text.slice(0,b.head.ch))&&(G=kc(a,b.head.line,"smart"));G&&bo(a,"electricInput",a,b.head.line)}}}function Hh(a){for(var d=[],y=[],v=0;v<a.doc.sel.ranges.length;v++){var b=a.doc.sel.ranges[v].head.line,B={anchor:Tt(b,0),head:Tt(b+1,0)};y.push(B),d.push(a.getRange(B.anchor,B.head))}return{text:d,ranges:y}}function $d(a,d,y,v){a.setAttribute("autocorrect",y?"on":"off"),a.setAttribute("autocapitalize",v?"on":"off"),a.setAttribute("spellcheck",!!d)}function zf(){var a=De("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),d=De("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return R?a.style.width="1000px":a.setAttribute("wrap","off"),ue&&(a.style.border="1px solid black"),d}function Uf(a,d,y,v,b){var B=d,G=y,X=Tn(a,d.line),ee=b&&"rtl"==a.direction?-y:y;function Ee(Jt){var Kt;if("codepoint"==v){var Xt=X.text.charCodeAt(d.ch+(y>0?0:-1));Kt=isNaN(Xt)?null:new Tt(d.line,Math.max(0,Math.min(X.text.length,d.ch+y*((y>0?Xt>=55296&&Xt<56320:Xt>=56320&&Xt<57343)?2:1))),-y)}else Kt=b?function qp(a,d,y,v){var b=Xa(d,a.doc.direction);if(!b)return Oc(d,y,v);y.ch>=d.text.length?(y.ch=d.text.length,y.sticky="before"):y.ch<=0&&(y.ch=0,y.sticky="after");var B=Ko(b,y.ch,y.sticky),G=b[B];if("ltr"==a.doc.direction&&G.level%2==0&&(v>0?G.to>y.ch:G.from<y.ch))return Oc(d,y,v);var ee,X=function($t,Jt){return Lf(d,$t instanceof Tt?$t.ch:$t,Jt)},ce=function($t){return a.options.lineWrapping?(ee=ee||Yl(a,d),Vp(a,d,ee,$t)):{begin:0,end:d.text.length}},Ee=ce("before"==y.sticky?X(y,-1):y.ch);if("rtl"==a.doc.direction||1==G.level){var Le=1==G.level==v<0,Ke=X(y,Le?1:-1);if(null!=Ke&&(Le?Ke<=G.to&&Ke<=Ee.end:Ke>=G.from&&Ke>=Ee.begin))return new Tt(y.line,Ke,Le?"before":"after")}var gt=function($t,Jt,Kt){for(;$t>=0&&$t<b.length;$t+=Jt){var Fn=b[$t],Mn=Jt>0==(1!=Fn.level),nr=Mn?Kt.begin:X(Kt.end,-1);if(Fn.from<=nr&&nr<Fn.to||(nr=Mn?Fn.from:X(Fn.to,-1),Kt.begin<=nr&&nr<Kt.end))return hr=nr,Mn?new Tt(y.line,X(hr,1),"before"):new Tt(y.line,hr,"after")}var hr},_t=gt(B+v,v,Ee);if(_t)return _t;var Gt=v>0?Ee.end:X(Ee.begin,-1);return null==Gt||v>0&&Gt==d.text.length||!(_t=gt(v>0?0:b.length-1,v,ce(Gt)))?null:_t}(a.cm,X,d,y):Oc(X,d,y);if(null==Kt){if(Jt||!function ce(){var Jt=d.line+ee;return!(Jt<a.first||Jt>=a.first+a.size)&&(d=new Tt(Jt,d.ch,d.sticky),X=Tn(a,Jt))}())return!1;d=iu(b,a.cm,X,d.line,ee)}else d=Kt;return!0}if("char"==v||"codepoint"==v)Ee();else if("column"==v)Ee(!0);else if("word"==v||"group"==v)for(var Le=null,Ke="group"==v,$e=a.cm&&a.cm.getHelper(d,"wordChars"),gt=!0;!(y<0)||Ee(!gt);gt=!1){var _t=X.text.charAt(d.ch)||"\n",Gt=Bi(_t,$e)?"w":Ke&&"\n"==_t?"n":!Ke||/\s/.test(_t)?null:"p";if(Ke&&!gt&&!Gt&&(Gt="s"),Le&&Le!=Gt){y<0&&(y=1,Ee(),d.sticky="after");break}if(Gt&&(Le=Gt),y>0&&!Ee(!gt))break}var $t=Vs(a,d,B,G,!0);return ud(B,$t)&&($t.hitSide=!0),$t}function Gf(a,d,y,v){var G,ce,b=a.doc,B=d.left;if("page"==v){var X=Math.min(a.display.wrapper.clientHeight,zt(a).innerHeight||b(a).documentElement.clientHeight),ee=Math.max(X-.5*ti(a.display),3);G=(y>0?d.bottom:d.top)+y*ee}else"line"==v&&(G=y>0?d.bottom+3:d.top-3);for(;(ce=Ef(a,B,G)).outside;){if(y<0?G<=0:G>=b.height){ce.hitSide=!0;break}G+=5*y}return ce}var Zr=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ut,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Yd(a,d){var y=$l(a,d.line);if(!y||y.hidden)return null;var v=Tn(a.doc,d.line),b=wf(y,v,d.line),B=Xa(v,a.doc.direction),G="left";B&&(G=Ko(B,d.ch)%2?"right":"left");var ee=Eu(b.map,d.ch,G);return ee.offset="right"==ee.collapse?ee.end:ee.start,ee}function sl(a,d){return d&&(a.bad=!0),a}function Xd(a,d,y){var v;if(d==a.display.lineDiv){if(!(v=a.display.lineDiv.childNodes[y]))return sl(a.clipPos(Tt(a.display.viewTo-1)),!0);d=null,y=0}else for(v=d;;v=v.parentNode){if(!v||v==a.display.lineDiv)return null;if(v.parentNode&&v.parentNode==a.display.lineDiv)break}for(var b=0;b<a.display.view.length;b++){var B=a.display.view[b];if(B.node==v)return ng(B,d,y)}}function ng(a,d,y){var v=a.text.firstChild,b=!1;if(!d||!st(v,d))return sl(Tt(Fr(a.line),0),!0);if(d==v&&(b=!0,d=v.childNodes[y],y=0,!d)){var B=a.rest?Dn(a.rest):a.line;return sl(Tt(Fr(B),B.text.length),b)}var G=3==d.nodeType?d:null,X=d;for(!G&&1==d.childNodes.length&&3==d.firstChild.nodeType&&(G=d.firstChild,y&&(y=G.nodeValue.length));X.parentNode!=v;)X=X.parentNode;var ee=a.measure,ce=ee.maps;function Ee(Gt,$t,Jt){for(var Kt=-1;Kt<(ce?ce.length:0);Kt++)for(var Xt=Kt<0?ee.map:ce[Kt],Fn=0;Fn<Xt.length;Fn+=3){var Mn=Xt[Fn+2];if(Mn==Gt||Mn==$t){var nr=Fr(Kt<0?a.line:a.rest[Kt]),hr=Xt[Fn]+Jt;return(Jt<0||Mn!=Gt)&&(hr=Xt[Fn+(Jt?1:0)]),Tt(nr,hr)}}}var Le=Ee(G,X,y);if(Le)return sl(Le,b);for(var Ke=X.nextSibling,$e=G?G.nodeValue.length-y:0;Ke;Ke=Ke.nextSibling){if(Le=Ee(Ke,Ke.firstChild,0))return sl(Tt(Le.line,Le.ch-$e),b);$e+=Ke.textContent.length}for(var gt=X.previousSibling,_t=y;gt;gt=gt.previousSibling){if(Le=Ee(gt,gt.firstChild,-1))return sl(Tt(Le.line,Le.ch+_t),b);_t+=gt.textContent.length}}Zr.prototype.init=function(a){var d=this,y=this,v=y.cm,b=y.div=a.lineDiv;function B(X){for(var ee=X.target;ee;ee=ee.parentNode){if(ee==b)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ee.className))break}return!1}function G(X){if(B(X)&&!qi(v,X)){if(v.somethingSelected())fa({lineWise:!1,text:v.getSelections()}),"cut"==X.type&&v.replaceSelection("",null,"cut");else{if(!v.options.lineWiseCopyCut)return;var ee=Hh(v);fa({lineWise:!0,text:ee.text}),"cut"==X.type&&v.operation(function(){v.setSelections(ee.ranges,0,St),v.replaceSelection("",null,"cut")})}if(X.clipboardData){X.clipboardData.clearData();var ce=Us.text.join("\n");if(X.clipboardData.setData("Text",ce),X.clipboardData.getData("Text")==ce)return void X.preventDefault()}var Ee=zf(),Le=Ee.firstChild;$d(Le),v.display.lineSpace.insertBefore(Ee,v.display.lineSpace.firstChild),Le.value=Us.text.join("\n");var Ke=ht(b.ownerDocument);Qe(Le),setTimeout(function(){v.display.lineSpace.removeChild(Ee),Ke.focus(),Ke==b&&y.showPrimarySelection()},50)}}b.contentEditable=!0,$d(b,v.options.spellcheck,v.options.autocorrect,v.options.autocapitalize),Sn(b,"paste",function(X){!B(X)||qi(v,X)||Wd(X,v)||S<=11&&setTimeout(Co(v,function(){return d.updateFromDOM()}),20)}),Sn(b,"compositionstart",function(X){d.composing={data:X.data,done:!1}}),Sn(b,"compositionupdate",function(X){d.composing||(d.composing={data:X.data,done:!1})}),Sn(b,"compositionend",function(X){d.composing&&(X.data!=d.composing.data&&d.readFromDOMSoon(),d.composing.done=!0)}),Sn(b,"touchstart",function(){return y.forceCompositionEnd()}),Sn(b,"input",function(){d.composing||d.readFromDOMSoon()}),Sn(b,"copy",G),Sn(b,"cut",G)},Zr.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},Zr.prototype.prepareSelection=function(){var a=lo(this.cm,!1);return a.focus=ht(this.div.ownerDocument)==this.div,a},Zr.prototype.showSelection=function(a,d){!a||!this.cm.display.view.length||((a.focus||d)&&this.showPrimarySelection(),this.showMultipleSelections(a))},Zr.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Zr.prototype.showPrimarySelection=function(){var a=this.getSelection(),d=this.cm,y=d.doc.sel.primary(),v=y.from(),b=y.to();if(d.display.viewTo==d.display.viewFrom||v.line>=d.display.viewTo||b.line<d.display.viewFrom)a.removeAllRanges();else{var B=Xd(d,a.anchorNode,a.anchorOffset),G=Xd(d,a.focusNode,a.focusOffset);if(!B||B.bad||!G||G.bad||0!=Yn(Re(B,G),v)||0!=Yn(Oe(B,G),b)){var X=d.display.view,ee=v.line>=d.display.viewFrom&&Yd(d,v)||{node:X[0].measure.map[2],offset:0},ce=b.line<d.display.viewTo&&Yd(d,b);if(!ce){var Ee=X[X.length-1].measure,Le=Ee.maps?Ee.maps[Ee.maps.length-1]:Ee.map;ce={node:Le[Le.length-1],offset:Le[Le.length-2]-Le[Le.length-3]}}if(!ee||!ce)return void a.removeAllRanges();var $e,Ke=a.rangeCount&&a.getRangeAt(0);try{$e=Be(ee.node,ee.offset,ce.offset,ce.node)}catch{}$e&&(!T&&d.state.focused?(a.collapse(ee.node,ee.offset),$e.collapsed||(a.removeAllRanges(),a.addRange($e))):(a.removeAllRanges(),a.addRange($e)),Ke&&null==a.anchorNode?a.addRange(Ke):T&&this.startGracePeriod()),this.rememberSelection()}}},Zr.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},Zr.prototype.showMultipleSelections=function(a){Se(this.cm.display.cursorDiv,a.cursors),Se(this.cm.display.selectionDiv,a.selection)},Zr.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},Zr.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var d=a.getRangeAt(0).commonAncestorContainer;return st(this.div,d)},Zr.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||ht(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Zr.prototype.blur=function(){this.div.blur()},Zr.prototype.getField=function(){return this.div},Zr.prototype.supportsTouch=function(){return!0},Zr.prototype.receivedFocus=function(){var a=this,d=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):ca(this.cm,function(){return d.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function y(){d.cm.state.focused&&(d.pollSelection(),d.polling.set(d.cm.options.pollInterval,y))})},Zr.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},Zr.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=this.getSelection(),d=this.cm;if(ne&&V&&this.cm.display.gutterSpecs.length&&function Sm(a){for(var d=a;d;d=d.parentNode)if(/CodeMirror-gutter-wrapper/.test(d.className))return!0;return!1}(a.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var y=Xd(d,a.anchorNode,a.anchorOffset),v=Xd(d,a.focusNode,a.focusOffset);y&&v&&ca(d,function(){xo(d.doc,wa(y,v),St),(y.bad||v.bad)&&(d.curOp.selectionChanged=!0)})}}},Zr.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var B,G,X,a=this.cm,d=a.display,y=a.doc.sel.primary(),v=y.from(),b=y.to();if(0==v.ch&&v.line>a.firstLine()&&(v=Tt(v.line-1,Tn(a.doc,v.line-1).length)),b.ch==Tn(a.doc,b.line).text.length&&b.line<a.lastLine()&&(b=Tt(b.line+1,0)),v.line<d.viewFrom||b.line>d.viewTo-1)return!1;v.line==d.viewFrom||0==(B=oo(a,v.line))?(G=Fr(d.view[0].line),X=d.view[0].node):(G=Fr(d.view[B].line),X=d.view[B-1].node.nextSibling);var ce,Ee,ee=oo(a,b.line);if(ee==d.view.length-1?(ce=d.viewTo-1,Ee=d.lineDiv.lastChild):(ce=Fr(d.view[ee+1].line)-1,Ee=d.view[ee+1].node.previousSibling),!X)return!1;for(var Le=a.doc.splitLines(function Bu(a,d,y,v,b){var B="",G=!1,X=a.doc.lineSeparator(),ee=!1;function Ee(){G&&(B+=X,ee&&(B+=X),G=ee=!1)}function Le($e){$e&&(Ee(),B+=$e)}function Ke($e){if(1==$e.nodeType){var gt=$e.getAttribute("cm-text");if(gt)return void Le(gt);var Gt,_t=$e.getAttribute("cm-marker");if(_t){var $t=a.findMarks(Tt(v,0),Tt(b+1,0),function ce($e){return function(gt){return gt.id==$e}}(+_t));return void($t.length&&(Gt=$t[0].find(0))&&Le(ui(a.doc,Gt.from,Gt.to).join(X)))}if("false"==$e.getAttribute("contenteditable"))return;var Jt=/^(pre|div|p|li|table|br)$/i.test($e.nodeName);if(!/^br$/i.test($e.nodeName)&&0==$e.textContent.length)return;Jt&&Ee();for(var Kt=0;Kt<$e.childNodes.length;Kt++)Ke($e.childNodes[Kt]);/^(pre|p)$/i.test($e.nodeName)&&(ee=!0),Jt&&(G=!0)}else 3==$e.nodeType&&Le($e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ke(d),d!=y;)d=d.nextSibling,ee=!1;return B}(a,X,Ee,G,ce)),Ke=ui(a.doc,Tt(G,0),Tt(ce,Tn(a.doc,ce).text.length));Le.length>1&&Ke.length>1;)if(Dn(Le)==Dn(Ke))Le.pop(),Ke.pop(),ce--;else{if(Le[0]!=Ke[0])break;Le.shift(),Ke.shift(),G++}for(var $e=0,gt=0,_t=Le[0],Gt=Ke[0],$t=Math.min(_t.length,Gt.length);$e<$t&&_t.charCodeAt($e)==Gt.charCodeAt($e);)++$e;for(var Jt=Dn(Le),Kt=Dn(Ke),Xt=Math.min(Jt.length-(1==Le.length?$e:0),Kt.length-(1==Ke.length?$e:0));gt<Xt&&Jt.charCodeAt(Jt.length-gt-1)==Kt.charCodeAt(Kt.length-gt-1);)++gt;if(1==Le.length&&1==Ke.length&&G==v.line)for(;$e&&$e>v.ch&&Jt.charCodeAt(Jt.length-gt-1)==Kt.charCodeAt(Kt.length-gt-1);)$e--,gt++;Le[Le.length-1]=Jt.slice(0,Jt.length-gt).replace(/^\u200b+/,""),Le[0]=Le[0].slice($e).replace(/\u200b+$/,"");var Fn=Tt(G,$e),Mn=Tt(ce,Ke.length?Dn(Ke).length-gt:0);return Le.length>1||Le[0]||Yn(Fn,Mn)?(eu(a.doc,Le,Fn,Mn,"+input"),!0):void 0},Zr.prototype.ensurePolled=function(){this.forceCompositionEnd()},Zr.prototype.reset=function(){this.forceCompositionEnd()},Zr.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Zr.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing){if(!a.composing.done)return;a.composing=null}a.updateFromDOM()},80))},Zr.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&ca(this.cm,function(){return ao(a.cm)})},Zr.prototype.setUneditable=function(a){a.contentEditable="false"},Zr.prototype.onKeyPress=function(a){0==a.charCode||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Co(this.cm,Vh)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))},Zr.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)},Zr.prototype.onContextMenu=function(){},Zr.prototype.resetPosition=function(){},Zr.prototype.needsContentAttribute=!0;var Ii=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new ut,this.hasSelection=!1,this.composing=null,this.resetting=!1};Ii.prototype.init=function(a){var d=this,y=this,v=this.cm;this.createField(a);var b=this.textarea;function B(G){if(!qi(v,G)){if(v.somethingSelected())fa({lineWise:!1,text:v.getSelections()});else{if(!v.options.lineWiseCopyCut)return;var X=Hh(v);fa({lineWise:!0,text:X.text}),"cut"==G.type?v.setSelections(X.ranges,null,St):(y.prevInput="",b.value=X.text.join("\n"),Qe(b))}"cut"==G.type&&(v.state.cutIncoming=+new Date)}}a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),ue&&(b.style.width="0px"),Sn(b,"input",function(){C&&S>=9&&d.hasSelection&&(d.hasSelection=null),y.poll()}),Sn(b,"paste",function(G){qi(v,G)||Wd(G,v)||(v.state.pasteIncoming=+new Date,y.fastPoll())}),Sn(b,"cut",B),Sn(b,"copy",B),Sn(a.scroller,"paste",function(G){if(!yl(a,G)&&!qi(v,G)){if(!b.dispatchEvent)return v.state.pasteIncoming=+new Date,void y.focus();var X=new Event("paste");X.clipboardData=G.clipboardData,b.dispatchEvent(X)}}),Sn(a.lineSpace,"selectstart",function(G){yl(a,G)||Vi(G)}),Sn(b,"compositionstart",function(){var G=v.getCursor("from");y.composing&&y.composing.range.clear(),y.composing={start:G,range:v.markText(G,v.getCursor("to"),{className:"CodeMirror-composing"})}}),Sn(b,"compositionend",function(){y.composing&&(y.poll(),y.composing.range.clear(),y.composing=null)})},Ii.prototype.createField=function(a){this.wrapper=zf(),this.textarea=this.wrapper.firstChild;var d=this.cm.options;$d(this.textarea,d.spellcheck,d.autocorrect,d.autocapitalize)},Ii.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},Ii.prototype.prepareSelection=function(){var a=this.cm,d=a.display,y=a.doc,v=lo(a);if(a.options.moveInputWithCursor){var b=ps(a,y.sel.primary().head,"div"),B=d.wrapper.getBoundingClientRect(),G=d.lineDiv.getBoundingClientRect();v.teTop=Math.max(0,Math.min(d.wrapper.clientHeight-10,b.top+G.top-B.top)),v.teLeft=Math.max(0,Math.min(d.wrapper.clientWidth-10,b.left+G.left-B.left))}return v},Ii.prototype.showSelection=function(a){var y=this.cm.display;Se(y.cursorDiv,a.cursors),Se(y.selectionDiv,a.selection),null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},Ii.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing&&a)){var d=this.cm;if(this.resetting=!0,d.somethingSelected()){this.prevInput="";var y=d.getSelection();this.textarea.value=y,d.state.focused&&Qe(this.textarea),C&&S>=9&&(this.hasSelection=y)}else a||(this.prevInput=this.textarea.value="",C&&S>=9&&(this.hasSelection=null));this.resetting=!1}},Ii.prototype.getField=function(){return this.textarea},Ii.prototype.supportsTouch=function(){return!1},Ii.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!le||ht(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},Ii.prototype.blur=function(){this.textarea.blur()},Ii.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ii.prototype.receivedFocus=function(){this.slowPoll()},Ii.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},Ii.prototype.fastPoll=function(){var a=!1,d=this;d.pollingFast=!0,d.polling.set(20,function y(){d.poll()||a?(d.pollingFast=!1,d.slowPoll()):(a=!0,d.polling.set(60,y))})},Ii.prototype.poll=function(){var a=this,d=this.cm,y=this.textarea,v=this.prevInput;if(this.contextMenuPending||this.resetting||!d.state.focused||ic(y)&&!v&&!this.composing||d.isReadOnly()||d.options.disableInput||d.state.keySeq)return!1;var b=y.value;if(b==v&&!d.somethingSelected())return!1;if(C&&S>=9&&this.hasSelection===b||ae&&/[\uf700-\uf7ff]/.test(b))return d.display.input.reset(),!1;if(d.doc.sel==d.display.selForContextMenu){var B=b.charCodeAt(0);if(8203==B&&!v&&(v="\u200b"),8666==B)return this.reset(),this.cm.execCommand("undo")}for(var G=0,X=Math.min(v.length,b.length);G<X&&v.charCodeAt(G)==b.charCodeAt(G);)++G;return ca(d,function(){Vh(d,b.slice(G),v.length-G,null,a.composing?"*compose":null),b.length>1e3||b.indexOf("\n")>-1?y.value=a.prevInput="":a.prevInput=b,a.composing&&(a.composing.range.clear(),a.composing.range=d.markText(a.composing.start,d.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ii.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ii.prototype.onKeyPress=function(){C&&S>=9&&(this.hasSelection=null),this.fastPoll()},Ii.prototype.onContextMenu=function(a){var d=this,y=d.cm,v=y.display,b=d.textarea;d.contextMenuPending&&d.contextMenuPending();var B=Ui(y,a),G=v.scroller.scrollTop;if(B&&!k){y.options.resetSelectionOnContextMenu&&-1==y.doc.sel.contains(B)&&Co(y,xo)(y.doc,wa(B),St);var Le,ee=b.style.cssText,ce=d.wrapper.style.cssText,Ee=d.wrapper.offsetParent.getBoundingClientRect();if(d.wrapper.style.cssText="position: static",b.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-Ee.top-5)+"px; left: "+(a.clientX-Ee.left-5)+"px;\n      z-index: 1000; background: "+(C?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",R&&(Le=b.ownerDocument.defaultView.scrollY),v.input.focus(),R&&b.ownerDocument.defaultView.scrollTo(null,Le),v.input.reset(),y.somethingSelected()||(b.value=d.prevInput=" "),d.contextMenuPending=$e,v.selForContextMenu=y.doc.sel,clearTimeout(v.detectingSelectAll),C&&S>=9&&Ke(),oe){Oa(a);var gt=function(){go(window,"mouseup",gt),setTimeout($e,20)};Sn(window,"mouseup",gt)}else setTimeout($e,50)}function Ke(){if(null!=b.selectionStart){var _t=y.somethingSelected(),Gt="\u200b"+(_t?b.value:"");b.value="\u21da",b.value=Gt,d.prevInput=_t?"":"\u200b",b.selectionStart=1,b.selectionEnd=Gt.length,v.selForContextMenu=y.doc.sel}}function $e(){if(d.contextMenuPending==$e&&(d.contextMenuPending=!1,d.wrapper.style.cssText=ce,b.style.cssText=ee,C&&S<9&&v.scrollbars.setScrollTop(v.scroller.scrollTop=G),null!=b.selectionStart)){(!C||C&&S<9)&&Ke();var _t=0,Gt=function(){v.selForContextMenu==y.doc.sel&&0==b.selectionStart&&b.selectionEnd>0&&"\u200b"==d.prevInput?Co(y,Jl)(y):_t++<10?v.detectingSelectAll=setTimeout(Gt,500):(v.selForContextMenu=null,v.input.reset())};v.detectingSelectAll=setTimeout(Gt,200)}}},Ii.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled="nocursor"==a,this.textarea.readOnly=!!a},Ii.prototype.setUneditable=function(){},Ii.prototype.needsContentAttribute=!1,function Dm(a){var d=a.optionHandlers;function y(v,b,B,G){a.defaults[v]=b,B&&(d[v]=G?function(X,ee,ce){ce!=Ud&&B(X,ee,ce)}:B)}a.defineOption=y,a.Init=Ud,y("value","",function(v,b){return v.setValue(b)},!0),y("mode",null,function(v,b){v.doc.modeOption=b,wc(v)},!0),y("indentUnit",2,wc,!0),y("indentWithTabs",!1),y("smartIndent",!0),y("tabSize",4,function(v){Nf(v),Kl(v),ao(v)},!0),y("lineSeparator",null,function(v,b){if(v.doc.lineSep=b,b){var B=[],G=v.doc.first;v.doc.iter(function(ee){for(var ce=0;;){var Ee=ee.text.indexOf(b,ce);if(-1==Ee)break;ce=Ee+b.length,B.push(Tt(G,Ee))}G++});for(var X=B.length-1;X>=0;X--)eu(v.doc,b,B[X],Tt(B[X].line,B[X].ch+b.length))}}),y("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(v,b,B){v.state.specialChars=new RegExp(b.source+(b.test("\t")?"":"|\t"),"g"),B!=Ud&&v.refresh()}),y("specialCharPlaceholder",Za,function(v){return v.refresh()},!0),y("electricChars",!0),y("inputStyle",le?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),y("spellcheck",!1,function(v,b){return v.getInputField().spellcheck=b},!0),y("autocorrect",!1,function(v,b){return v.getInputField().autocorrect=b},!0),y("autocapitalize",!1,function(v,b){return v.getInputField().autocapitalize=b},!0),y("rtlMoveVisually",!te),y("wholeLineUpdateBefore",!0),y("theme","default",function(v){Em(v),Of(v)},!0),y("keyMap","default",function(v,b,B){var G=Pd(b),X=B!=Ud&&Pd(B);X&&X.detach&&X.detach(v,G),G.attach&&G.attach(v,X||null)}),y("extraKeys",null),y("configureMouse",null),y("lineWrapping",!1,Bh,!0),y("gutters",[],function(v,b){v.display.gutterSpecs=Ql(b,v.options.lineNumbers),Of(v)},!0),y("fixedGutter",!0,function(v,b){v.display.gutters.style.left=b?un(v.display)+"px":"0",v.refresh()},!0),y("coverGutterNextToScrollbar",!1,function(v){return xl(v)},!0),y("scrollbarStyle","native",function(v){Mu(v),xl(v),v.display.scrollbars.setScrollTop(v.doc.scrollTop),v.display.scrollbars.setScrollLeft(v.doc.scrollLeft)},!0),y("lineNumbers",!1,function(v,b){v.display.gutterSpecs=Ql(v.options.gutters,b),Of(v)},!0),y("firstLineNumber",1,Of,!0),y("lineNumberFormatter",function(v){return v},Of,!0),y("showCursorWhenSelecting",!1,pd,!0),y("resetSelectionOnContextMenu",!0),y("lineWiseCopyCut",!0),y("pasteLinesPerSelection",!0),y("selectionsMayTouch",!1),y("readOnly",!1,function(v,b){"nocursor"==b&&(yi(v),v.display.input.blur()),v.display.input.readOnlyChanged(b)}),y("screenReaderLabel",null,function(v,b){v.display.input.screenReaderLabelChanged(b=""===b?null:b)}),y("disableInput",!1,function(v,b){b||v.display.input.reset()},!0),y("dragDrop",!0,Gd),y("allowDropFileTypes",null),y("cursorBlinkRate",530),y("cursorScrollMargin",0),y("cursorHeight",1,pd,!0),y("singleCursorHeightPerLine",!0,pd,!0),y("workTime",100),y("workDelay",100),y("flattenSpans",!0,Nf,!0),y("addModeClass",!1,Nf,!0),y("pollInterval",100),y("undoDepth",200,function(v,b){return v.doc.history.undoDepth=b}),y("historyEventDelay",1250),y("viewportMargin",10,function(v){return v.refresh()},!0),y("maxHighlightLength",1e4,Nf,!0),y("moveInputWithCursor",!0,function(v,b){b||v.display.input.resetPosition()}),y("tabindex",null,function(v,b){return v.display.input.getField().tabIndex=b||""}),y("autofocus",null),y("direction","ltr",function(v,b){return v.doc.setDirection(b)},!0),y("phrases",null)}(li),function tg(a){var d=a.optionHandlers,y=a.helpers={};a.prototype={constructor:a,focus:function(){zt(this).focus(),this.display.input.focus()},setOption:function(v,b){var B=this.options,G=B[v];B[v]==b&&"mode"!=v||(B[v]=b,d.hasOwnProperty(v)&&Co(this,d[v])(this,b,G),gi(this,"optionChange",this,v))},getOption:function(v){return this.options[v]},getDoc:function(){return this.doc},addKeyMap:function(v,b){this.state.keyMaps[b?"push":"unshift"](Pd(v))},removeKeyMap:function(v){for(var b=this.state.keyMaps,B=0;B<b.length;++B)if(b[B]==v||b[B].name==v)return b.splice(B,1),!0},addOverlay:Lo(function(v,b){var B=v.token?v:a.getMode(this.options,v);if(B.startState)throw new Error("Overlays may not be stateful.");(function qr(a,d,y){for(var v=0,b=y(d);v<a.length&&y(a[v])<=b;)v++;a.splice(v,0,d)})(this.state.overlays,{mode:B,modeSpec:v,opaque:b&&b.opaque,priority:b&&b.priority||0},function(G){return G.priority}),this.state.modeGen++,ao(this)}),removeOverlay:Lo(function(v){for(var b=this.state.overlays,B=0;B<b.length;++B){var G=b[B].modeSpec;if(G==v||"string"==typeof v&&G.name==v)return b.splice(B,1),this.state.modeGen++,void ao(this)}}),indentLine:Lo(function(v,b,B){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract"),Po(this.doc,v)&&kc(this,v,b,B)}),indentSelection:Lo(function(v){for(var b=this.doc.sel.ranges,B=-1,G=0;G<b.length;G++){var X=b[G];if(X.empty())X.head.line>B&&(kc(this,X.head.line,v,!0),B=X.head.line,G==this.doc.sel.primIndex&&Ja(this));else{var ee=X.from(),ce=X.to(),Ee=Math.max(B,ee.line);B=Math.min(this.lastLine(),ce.line-(ce.ch?0:1))+1;for(var Le=Ee;Le<B;++Le)kc(this,Le,v);var Ke=this.doc.sel.ranges;0==ee.ch&&b.length==Ke.length&&Ke[G].from().ch>0&&Oh(this.doc,G,new Yr(ee,Ke[G].to()),St)}}}),getTokenAt:function(v,b){return On(this,v,b)},getLineTokens:function(v,b){return On(this,Tt(v),b,!0)},getTokenTypeAt:function(v){v=rt(this.doc,v);var ee,b=Un(this,Tn(this.doc,v.line)),B=0,G=(b.length-1)/2,X=v.ch;if(0==X)ee=b[2];else for(;;){var ce=B+G>>1;if((ce?b[2*ce-1]:0)>=X)G=ce;else{if(!(b[2*ce+1]<X)){ee=b[2*ce+2];break}B=ce+1}}var Ee=ee?ee.indexOf("overlay "):-1;return Ee<0?ee:0==Ee?null:ee.slice(0,Ee-1)},getModeAt:function(v){var b=this.doc.mode;return b.innerMode?a.innerMode(b,this.getTokenAt(v).state).mode:b},getHelper:function(v,b){return this.getHelpers(v,b)[0]},getHelpers:function(v,b){var B=[];if(!y.hasOwnProperty(b))return B;var G=y[b],X=this.getModeAt(v);if("string"==typeof X[b])G[X[b]]&&B.push(G[X[b]]);else if(X[b])for(var ee=0;ee<X[b].length;ee++){var ce=G[X[b][ee]];ce&&B.push(ce)}else X.helperType&&G[X.helperType]?B.push(G[X.helperType]):G[X.name]&&B.push(G[X.name]);for(var Ee=0;Ee<G._global.length;Ee++){var Le=G._global[Ee];Le.pred(X,this)&&-1==it(B,Le.val)&&B.push(Le.val)}return B},getStateAfter:function(v,b){var B=this.doc;return Vt(this,(v=Ve(B,v??B.first+B.size-1))+1,b).state},cursorCoords:function(v,b){var G=this.doc.sel.primary();return ps(this,null==v?G.head:"object"==typeof v?rt(this.doc,v):v?G.from():G.to(),b||"page")},charCoords:function(v,b){return hd(this,rt(this.doc,v),b||"page")},coordsChar:function(v,b){return Ef(this,(v=_h(this,v,b||"page")).left,v.top)},lineAtHeight:function(v,b){return v=_h(this,{top:v,left:0},b||"page").top,Qi(this.doc,v+this.display.viewOffset)},heightAtLine:function(v,b,B){var X,G=!1;if("number"==typeof v){var ee=this.doc.first+this.doc.size-1;v<this.doc.first?v=this.doc.first:v>ee&&(v=ee,G=!0),X=Tn(this.doc,v)}else X=v;return xf(this,X,{top:0,left:0},b||"page",B||G).top+(G?this.doc.height-Pa(X):0)},defaultTextHeight:function(){return ti(this.display)},defaultCharWidth:function(){return bl(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(v,b,B,G,X){var ee=this.display,ce=(v=ps(this,rt(this.doc,v))).bottom,Ee=v.left;if(b.style.position="absolute",b.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(b),ee.sizer.appendChild(b),"over"==G)ce=v.top;else if("above"==G||"near"==G){var Le=Math.max(ee.wrapper.clientHeight,this.doc.height),Ke=Math.max(ee.sizer.clientWidth,ee.lineSpace.clientWidth);("above"==G||v.bottom+b.offsetHeight>Le)&&v.top>b.offsetHeight?ce=v.top-b.offsetHeight:v.bottom+b.offsetHeight<=Le&&(ce=v.bottom),Ee+b.offsetWidth>Ke&&(Ee=Ke-b.offsetWidth)}b.style.top=ce+"px",b.style.left=b.style.right="","right"==X?(Ee=ee.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==X?Ee=0:"middle"==X&&(Ee=(ee.sizer.clientWidth-b.offsetWidth)/2),b.style.left=Ee+"px"),B&&function Tu(a,d){var y=Gi(a,d);null!=y.scrollTop&&dr(a,y.scrollTop),null!=y.scrollLeft&&es(a,y.scrollLeft)}(this,{left:Ee,top:ce,right:Ee+b.offsetWidth,bottom:ce+b.offsetHeight})},triggerOnKeyDown:Lo(Vd),triggerOnKeyPress:Lo(Hd),triggerOnKeyUp:jo,triggerOnMouseDown:Lo(Ff),execCommand:function(v){if(Nc.hasOwnProperty(v))return Nc[v].call(null,this)},triggerElectric:Lo(function(v){Hf(this,v)}),findPosH:function(v,b,B,G){var X=1;b<0&&(X=-1,b=-b);for(var ee=rt(this.doc,v),ce=0;ce<b&&!(ee=Uf(this.doc,ee,X,B,G)).hitSide;++ce);return ee},moveH:Lo(function(v,b){var B=this;this.extendSelectionsBy(function(G){return B.display.shift||B.doc.extend||G.empty()?Uf(B.doc,G.head,v,b,B.options.rtlMoveVisually):v<0?G.from():G.to()},Jn)}),deleteH:Lo(function(v,b){var G=this.doc;this.doc.sel.somethingSelected()?G.replaceSelection("",null,"+delete"):zs(this,function(X){var ee=Uf(G,X.head,v,b,!1);return v<0?{from:ee,to:X.head}:{from:X.head,to:ee}})}),findPosV:function(v,b,B,G){var X=1,ee=G;b<0&&(X=-1,b=-b);for(var ce=rt(this.doc,v),Ee=0;Ee<b;++Ee){var Le=ps(this,ce,"div");if(null==ee?ee=Le.left:Le.left=ee,(ce=Gf(this,Le,X,B)).hitSide)break}return ce},moveV:Lo(function(v,b){var B=this,G=this.doc,X=[],ee=!this.display.shift&&!G.extend&&G.sel.somethingSelected();if(G.extendSelectionsBy(function(Ee){if(ee)return v<0?Ee.from():Ee.to();var Le=ps(B,Ee.head,"div");null!=Ee.goalColumn&&(Le.left=Ee.goalColumn),X.push(Le.left);var Ke=Gf(B,Le,v,b);return"page"==b&&Ee==G.sel.primary()&&gs(B,hd(B,Ke,"div").top-Le.top),Ke},Jn),X.length)for(var ce=0;ce<G.sel.ranges.length;ce++)G.sel.ranges[ce].goalColumn=X[ce]}),findWordAt:function(v){var B=Tn(this.doc,v.line).text,G=v.ch,X=v.ch;if(B){var ee=this.getHelper(v,"wordChars");"before"!=v.sticky&&X!=B.length||!G?++X:--G;for(var ce=B.charAt(G),Ee=Bi(ce,ee)?function(Le){return Bi(Le,ee)}:/\s/.test(ce)?function(Le){return/\s/.test(Le)}:function(Le){return!/\s/.test(Le)&&!Bi(Le)};G>0&&Ee(B.charAt(G-1));)--G;for(;X<B.length&&Ee(B.charAt(X));)++X}return new Yr(Tt(v.line,G),Tt(v.line,X))},toggleOverwrite:function(v){null!=v&&v==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ze(this.display.cursorDiv,"CodeMirror-overwrite"):me(this.display.cursorDiv,"CodeMirror-overwrite"),gi(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ht(Zt(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Lo(function(v,b){uo(this,v,b)}),getScrollInfo:function(){var v=this.display.scroller;return{left:v.scrollLeft,top:v.scrollTop,height:v.scrollHeight-_o(this)-this.display.barHeight,width:v.scrollWidth-_o(this)-this.display.barWidth,clientHeight:vc(this),clientWidth:Dr(this)}},scrollIntoView:Lo(function(v,b){null==v?(v={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof v?v={from:Tt(v,0),to:null}:null==v.from&&(v={from:v,to:null}),v.to||(v.to=v.from),v.margin=b||0,null!=v.from.line?function gd(a,d){md(a),a.curOp.scrollToPos=d}(this,v):Cl(this,v.from,v.to,v.margin)}),setSize:Lo(function(v,b){var B=this,G=function(ee){return"number"==typeof ee||/^\d+$/.test(String(ee))?ee+"px":ee};null!=v&&(this.display.wrapper.style.width=G(v)),null!=b&&(this.display.wrapper.style.height=G(b)),this.options.lineWrapping&&fd(this);var X=this.display.viewFrom;this.doc.iter(X,this.display.viewTo,function(ee){if(ee.widgets)for(var ce=0;ce<ee.widgets.length;ce++)if(ee.widgets[ce].noHScroll){so(B,X,"widget");break}++X}),this.curOp.forceUpdate=!0,gi(this,"refresh",this)}),operation:function(v){return ca(this,v)},startOperation:function(){return si(this)},endOperation:function(){return ql(this)},refresh:Lo(function(){var v=this.display.cachedTextHeight;ao(this),this.curOp.forceUpdate=!0,Kl(this),uo(this,this.doc.scrollLeft,this.doc.scrollTop),If(this.display),(null==v||Math.abs(v-ti(this.display))>.5||this.options.lineWrapping)&&Hr(this),gi(this,"refresh",this)}),swapDoc:Lo(function(v){var b=this.doc;return b.cm=null,this.state.selectingText&&this.state.selectingText(),xc(this,v),Kl(this),this.display.input.reset(),uo(this,v.scrollLeft,v.scrollTop),this.curOp.forceScroll=!0,bo(this,"swapDoc",this,b),b}),phrase:function(v){var b=this.options.phrases;return b&&Object.prototype.hasOwnProperty.call(b,v)?b[v]:v},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Aa(a),a.registerHelper=function(v,b,B){y.hasOwnProperty(v)||(y[v]=a[v]={_global:[]}),y[v][b]=B},a.registerGlobalHelper=function(v,b,B,G){a.registerHelper(v,b,G),y[v]._global.push({pred:B,val:G})}}(li);var Ci="iter insert remove copy getEditor constructor".split(" ");for(var Cs in Ln.prototype)Ln.prototype.hasOwnProperty(Cs)&&it(Ci,Cs)<0&&(li.prototype[Cs]=function(a){return function(){return a.apply(this.doc,arguments)}}(Ln.prototype[Cs]));return Aa(Ln),li.inputStyles={textarea:Ii,contenteditable:Zr},li.defineMode=function(a){!li.defaults.mode&&"null"!=a&&(li.defaults.mode=a),sc.apply(this,arguments)},li.defineMIME=function sd(a,d){Ns[a]=d},li.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),li.defineMIME("text/plain","null"),li.defineExtension=function(a,d){li.prototype[a]=d},li.defineDocExtension=function(a,d){Ln.prototype[a]=d},li.fromTextArea=function Vu(a,d){if((d=d?bn(d):{}).value=a.value,!d.tabindex&&a.tabIndex&&(d.tabindex=a.tabIndex),!d.placeholder&&a.placeholder&&(d.placeholder=a.placeholder),null==d.autofocus){var y=ht(a.ownerDocument);d.autofocus=y==a||null!=a.getAttribute("autofocus")&&y==document.body}function v(){a.value=X.getValue()}var b;if(a.form&&(Sn(a.form,"submit",v),!d.leaveSubmitMethodAlone)){var B=a.form;b=B.submit;try{var G=B.submit=function(){v(),B.submit=b,B.submit(),B.submit=G}}catch{}}d.finishInit=function(ee){ee.save=v,ee.getTextArea=function(){return a},ee.toTextArea=function(){ee.toTextArea=isNaN,v(),a.parentNode.removeChild(ee.getWrapperElement()),a.style.display="",a.form&&(go(a.form,"submit",v),!d.leaveSubmitMethodAlone&&"function"==typeof a.form.submit&&(a.form.submit=b))}},a.style.display="none";var X=li(function(ee){return a.parentNode.insertBefore(ee,a.nextSibling)},d);return X},function rg(a){a.off=go,a.on=Sn,a.wheelEventPixels=ym,a.Doc=Ln,a.splitLines=_u,a.countColumn=hn,a.findColumn=Mr,a.isWordChar=Fi,a.Pass=Ft,a.signal=gi,a.Line=ml,a.changeEnd=Bo,a.scrollbarModel=yd,a.Pos=Tt,a.cmpPos=Yn,a.modes=ac,a.mimeModes=Ns,a.resolveMode=oi,a.getMode=Ra,a.modeExtensions=Ir,a.extendMode=Zi,a.copyState=ki,a.startState=gf,a.innerMode=qo,a.commands=Nc,a.keyMap=Go,a.keyName=Pf,a.isModifierKey=Kp,a.lookupKey=al,a.normalizeKeyMap=Xp,a.StringStream=Pi,a.SharedTextMarker=Nd,a.TextMarker=zo,a.LineWidget=tu,a.e_preventDefault=Vi,a.e_stopPropagation=Qs,a.e_stop=Oa,a.addClass=Ze,a.contains=st,a.rmClass=me,a.keyNames=Wi}(li),li.version="5.65.13",li}()},1610:function(Y,se,D){var T;Y.exports=(T=D(4465),function(P){var N={};function I(C){if(N[C])return N[C].exports;var S=N[C]={i:C,l:!1,exports:{}};return P[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=P,I.c=N,I.i=function(C){return C},I.d=function(C,S,R){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:R})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=7)}([function(P,N){P.exports=T},function(P,N,I){"use strict";var C=I(0).FDLayoutConstants;function S(){}for(var R in C)S[R]=C[R];S.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,S.DEFAULT_RADIAL_SEPARATION=C.DEFAULT_EDGE_LENGTH,S.DEFAULT_COMPONENT_SEPERATION=60,S.TILE=!0,S.TILING_PADDING_VERTICAL=10,S.TILING_PADDING_HORIZONTAL=10,S.TREE_REDUCTION_ON_INCREMENTAL=!1,P.exports=S},function(P,N,I){"use strict";var C=I(0).FDLayoutEdge;function S(A,V,L){C.call(this,A,V,L)}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];P.exports=S},function(P,N,I){"use strict";var C=I(0).LGraph;function S(A,V,L){C.call(this,A,V,L)}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];P.exports=S},function(P,N,I){"use strict";var C=I(0).LGraphManager;function S(A){C.call(this,A)}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];P.exports=S},function(P,N,I){"use strict";var C=I(0).FDLayoutNode,S=I(0).IMath;function R(V,L,k,H){C.call(this,V,L,k,H)}for(var A in R.prototype=Object.create(C.prototype),C)R[A]=C[A];R.prototype.move=function(){var V=this.graphManager.getLayout();this.displacementX=V.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=V.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>V.coolingFactor*V.maxNodeDisplacement&&(this.displacementX=V.coolingFactor*V.maxNodeDisplacement*S.sign(this.displacementX)),Math.abs(this.displacementY)>V.coolingFactor*V.maxNodeDisplacement&&(this.displacementY=V.coolingFactor*V.maxNodeDisplacement*S.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),V.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},R.prototype.propogateDisplacementToChildren=function(V,L){for(var H,k=this.getChild().getNodes(),$=0;$<k.length;$++)null==(H=k[$]).getChild()?(H.moveBy(V,L),H.displacementX+=V,H.displacementY+=L):H.propogateDisplacementToChildren(V,L)},R.prototype.setPred1=function(V){this.pred1=V},R.prototype.getPred1=function(){return pred1},R.prototype.getPred2=function(){return pred2},R.prototype.setNext=function(V){this.next=V},R.prototype.getNext=function(){return next},R.prototype.setProcessed=function(V){this.processed=V},R.prototype.isProcessed=function(){return processed},P.exports=R},function(P,N,I){"use strict";var C=I(0).FDLayout,S=I(4),R=I(3),A=I(5),V=I(2),L=I(1),k=I(0).FDLayoutConstants,H=I(0).LayoutConstants,$=I(0).Point,Q=I(0).PointD,ue=I(0).Layout,ne=I(0).Integer,le=I(0).IGeometry,ae=I(0).LGraph,de=I(0).Transform;function te(){C.call(this),this.toBeTiled={}}for(var pe in te.prototype=Object.create(C.prototype),C)te[pe]=C[pe];te.prototype.newGraphManager=function(){var q=new S(this);return this.graphManager=q,q},te.prototype.newGraph=function(q){return new R(null,this.graphManager,q)},te.prototype.newNode=function(q){return new A(this.graphManager,q)},te.prototype.newEdge=function(q){return new V(null,null,q)},te.prototype.initParameters=function(){C.prototype.initParameters.call(this,arguments),this.isSubLayout||(this.idealEdgeLength=L.DEFAULT_EDGE_LENGTH<10?10:L.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=L.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=k.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=k.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=k.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=k.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=k.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=k.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/k.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=k.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},te.prototype.layout=function(){return H.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},te.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(L.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var oe=new Set(this.getAllNodes()),ie=this.nodesWithGravity.filter(function(Se){return oe.has(Se)});this.graphManager.setAllNodesToApplyGravitation(ie)}}else{var q=this.getFlatForest();q.length>0?this.positionNodesRadially(q):(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),oe=new Set(this.getAllNodes()),ie=this.nodesWithGravity.filter(function(me){return oe.has(me)}),this.graphManager.setAllNodesToApplyGravitation(ie),this.positionNodesRandomly())}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},te.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%k.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var q=new Set(this.getAllNodes()),oe=this.nodesWithGravity.filter(function(we){return q.has(we)});this.graphManager.setAllNodesToApplyGravitation(oe),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=k.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=k.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var ie=!this.isTreeGrowing&&!this.isGrowthFinished,me=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(ie,me),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},te.prototype.getPositionsData=function(){for(var q=this.graphManager.getAllNodes(),oe={},ie=0;ie<q.length;ie++){var me=q[ie].rect,we=q[ie].id;oe[we]={id:we,x:me.getCenterX(),y:me.getCenterY(),w:me.width,h:me.height}}return oe},te.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var q=!1;if("during"===k.ANIMATE)this.emit("layoutstarted");else{for(;!q;)q=this.tick();this.graphManager.updateBounds()}},te.prototype.calculateNodesToApplyGravitationTo=function(){var oe,we,q=[],ie=this.graphManager.getGraphs(),me=ie.length;for(we=0;we<me;we++)(oe=ie[we]).updateConnected(),oe.isConnected||(q=q.concat(oe.getNodes()));return q},te.prototype.createBendpoints=function(){var q=[];q=q.concat(this.graphManager.getAllEdges());var ie,oe=new Set;for(ie=0;ie<q.length;ie++){var me=q[ie];if(!oe.has(me)){var we=me.getSource(),Se=me.getTarget();if(we==Se)me.getBendpoints().push(new Q),me.getBendpoints().push(new Q),this.createDummyNodesForBendpoints(me),oe.add(me);else{var De=[];if(De=(De=De.concat(we.getEdgeListToNode(Se))).concat(Se.getEdgeListToNode(we)),!oe.has(De[0])){var ze;if(De.length>1)for(ze=0;ze<De.length;ze++){var Be=De[ze];Be.getBendpoints().push(new Q),this.createDummyNodesForBendpoints(Be)}De.forEach(function(st){oe.add(st)})}}}if(oe.size==q.length)break}},te.prototype.positionNodesRadially=function(q){for(var oe=new $(0,0),ie=Math.ceil(Math.sqrt(q.length)),me=0,we=0,Se=0,De=new Q(0,0),ze=0;ze<q.length;ze++){ze%ie==0&&(Se=0,we=me,0!=ze&&(we+=L.DEFAULT_COMPONENT_SEPERATION),me=0);var Be=q[ze],st=ue.findCenterOfTree(Be);oe.x=Se,oe.y=we,(De=te.radialLayout(Be,st,oe)).y>me&&(me=Math.floor(De.y)),Se=Math.floor(De.x+L.DEFAULT_COMPONENT_SEPERATION)}this.transform(new Q(H.WORLD_CENTER_X-De.x/2,H.WORLD_CENTER_Y-De.y/2))},te.radialLayout=function(q,oe,ie){var me=Math.max(this.maxDiagonalInTree(q),L.DEFAULT_RADIAL_SEPARATION);te.branchRadialLayout(oe,null,0,359,0,me);var we=ae.calculateBounds(q),Se=new de;Se.setDeviceOrgX(we.getMinX()),Se.setDeviceOrgY(we.getMinY()),Se.setWorldOrgX(ie.x),Se.setWorldOrgY(ie.y);for(var De=0;De<q.length;De++)q[De].transform(Se);var Be=new Q(we.getMaxX(),we.getMaxY());return Se.inverseTransformPoint(Be)},te.branchRadialLayout=function(q,oe,ie,me,we,Se){var De=(me-ie+1)/2;De<0&&(De+=180);var Be=(De+ie)%360*le.TWO_PI/360,ht=(Math.cos(Be),we*Math.cos(Be)),Ze=we*Math.sin(Be);q.setCenter(ht,Ze);var Ct=[],Qe=(Ct=Ct.concat(q.getEdges())).length;null!=oe&&Qe--;for(var It,Zt=0,zt=Ct.length,bn=q.getEdgesBetween(oe);bn.length>1;){var hn=bn[0];bn.splice(0,1);var ut=Ct.indexOf(hn);ut>=0&&Ct.splice(ut,1),zt--,Qe--}It=null!=oe?(Ct.indexOf(bn[0])+1)%zt:0;for(var it=Math.abs(me-ie)/Qe,pt=It;Zt!=Qe;pt=++pt%zt){var Ft=Ct[pt].getOtherEnd(q);if(Ft!=oe){var St=(ie+Zt*it)%360;te.branchRadialLayout(Ft,q,St,(St+it)%360,we+Se,Se),Zt++}}},te.maxDiagonalInTree=function(q){for(var oe=ne.MIN_VALUE,ie=0;ie<q.length;ie++){var we=q[ie].getDiagonal();we>oe&&(oe=we)}return oe},te.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},te.prototype.groupZeroDegreeMembers=function(){var q=this,oe={};this.memberGroups={},this.idToDummyNode={};for(var ie=[],me=this.graphManager.getAllNodes(),we=0;we<me.length;we++){var De=(Se=me[we]).getParent();0===this.getNodeDegreeWithChildren(Se)&&(null==De.id||!this.getToBeTiled(De))&&ie.push(Se)}for(we=0;we<ie.length;we++){var Se,ze=(Se=ie[we]).getParent().id;typeof oe[ze]>"u"&&(oe[ze]=[]),oe[ze]=oe[ze].concat(Se)}Object.keys(oe).forEach(function(Be){if(oe[Be].length>1){var st="DummyCompound_"+Be;q.memberGroups[st]=oe[Be];var ht=oe[Be][0].getParent(),Ze=new A(q.graphManager);Ze.id=st,Ze.paddingLeft=ht.paddingLeft||0,Ze.paddingRight=ht.paddingRight||0,Ze.paddingBottom=ht.paddingBottom||0,Ze.paddingTop=ht.paddingTop||0,q.idToDummyNode[st]=Ze;var Ct=q.getGraphManager().add(q.newGraph(),Ze),Qe=ht.getChild();Qe.add(Ze);for(var Zt=0;Zt<oe[Be].length;Zt++){var zt=oe[Be][Zt];Qe.remove(zt),Ct.add(zt)}}})},te.prototype.clearCompounds=function(){var q={},oe={};this.performDFSOnCompounds();for(var ie=0;ie<this.compoundOrder.length;ie++)oe[this.compoundOrder[ie].id]=this.compoundOrder[ie],q[this.compoundOrder[ie].id]=[].concat(this.compoundOrder[ie].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[ie].getChild()),this.compoundOrder[ie].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(q,oe)},te.prototype.clearZeroDegreeMembers=function(){var q=this,oe=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(ie){var me=q.idToDummyNode[ie];oe[ie]=q.tileNodes(q.memberGroups[ie],me.paddingLeft+me.paddingRight),me.rect.width=oe[ie].width,me.rect.height=oe[ie].height})},te.prototype.repopulateCompounds=function(){for(var q=this.compoundOrder.length-1;q>=0;q--){var oe=this.compoundOrder[q];this.adjustLocations(this.tiledMemberPack[oe.id],oe.rect.x,oe.rect.y,oe.paddingLeft,oe.paddingTop)}},te.prototype.repopulateZeroDegreeMembers=function(){var q=this,oe=this.tiledZeroDegreePack;Object.keys(oe).forEach(function(ie){var me=q.idToDummyNode[ie];q.adjustLocations(oe[ie],me.rect.x,me.rect.y,me.paddingLeft,me.paddingTop)})},te.prototype.getToBeTiled=function(q){var oe=q.id;if(null!=this.toBeTiled[oe])return this.toBeTiled[oe];var ie=q.getChild();if(null==ie)return this.toBeTiled[oe]=!1,!1;for(var me=ie.getNodes(),we=0;we<me.length;we++){var Se=me[we];if(this.getNodeDegree(Se)>0)return this.toBeTiled[oe]=!1,!1;if(null!=Se.getChild()){if(!this.getToBeTiled(Se))return this.toBeTiled[oe]=!1,!1}else this.toBeTiled[Se.id]=!1}return this.toBeTiled[oe]=!0,!0},te.prototype.getNodeDegree=function(q){for(var ie=q.getEdges(),me=0,we=0;we<ie.length;we++){var Se=ie[we];Se.getSource().id!==Se.getTarget().id&&(me+=1)}return me},te.prototype.getNodeDegreeWithChildren=function(q){var oe=this.getNodeDegree(q);if(null==q.getChild())return oe;for(var ie=q.getChild().getNodes(),me=0;me<ie.length;me++)oe+=this.getNodeDegreeWithChildren(ie[me]);return oe},te.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},te.prototype.fillCompexOrderByDFS=function(q){for(var oe=0;oe<q.length;oe++){var ie=q[oe];null!=ie.getChild()&&this.fillCompexOrderByDFS(ie.getChild().getNodes()),this.getToBeTiled(ie)&&this.compoundOrder.push(ie)}},te.prototype.adjustLocations=function(q,oe,ie,me,we){ie+=we;for(var Se=oe+=me,De=0;De<q.rows.length;De++){var ze=q.rows[De];oe=Se;for(var Be=0,st=0;st<ze.length;st++){var ht=ze[st];ht.rect.x=oe,ht.rect.y=ie,oe+=ht.rect.width+q.horizontalPadding,ht.rect.height>Be&&(Be=ht.rect.height)}ie+=Be+q.verticalPadding}},te.prototype.tileCompoundMembers=function(q,oe){var ie=this;this.tiledMemberPack=[],Object.keys(q).forEach(function(me){var we=oe[me];ie.tiledMemberPack[me]=ie.tileNodes(q[me],we.paddingLeft+we.paddingRight),we.rect.width=ie.tiledMemberPack[me].width,we.rect.height=ie.tiledMemberPack[me].height})},te.prototype.tileNodes=function(q,oe){var we={rows:[],rowWidth:[],rowHeight:[],width:0,height:oe,verticalPadding:L.TILING_PADDING_VERTICAL,horizontalPadding:L.TILING_PADDING_HORIZONTAL};q.sort(function(ze,Be){return ze.rect.width*ze.rect.height>Be.rect.width*Be.rect.height?-1:ze.rect.width*ze.rect.height<Be.rect.width*Be.rect.height?1:0});for(var Se=0;Se<q.length;Se++){var De=q[Se];0==we.rows.length?this.insertNodeToRow(we,De,0,oe):this.canAddHorizontal(we,De.rect.width,De.rect.height)?this.insertNodeToRow(we,De,this.getShortestRowIndex(we),oe):this.insertNodeToRow(we,De,we.rows.length,oe),this.shiftToLastRow(we)}return we},te.prototype.insertNodeToRow=function(q,oe,ie,me){var we=me;ie==q.rows.length&&(q.rows.push([]),q.rowWidth.push(we),q.rowHeight.push(0));var De=q.rowWidth[ie]+oe.rect.width;q.rows[ie].length>0&&(De+=q.horizontalPadding),q.rowWidth[ie]=De,q.width<De&&(q.width=De);var ze=oe.rect.height;ie>0&&(ze+=q.verticalPadding);var Be=0;ze>q.rowHeight[ie]&&(Be=q.rowHeight[ie],q.rowHeight[ie]=ze,Be=q.rowHeight[ie]-Be),q.height+=Be,q.rows[ie].push(oe)},te.prototype.getShortestRowIndex=function(q){for(var oe=-1,ie=Number.MAX_VALUE,me=0;me<q.rows.length;me++)q.rowWidth[me]<ie&&(oe=me,ie=q.rowWidth[me]);return oe},te.prototype.getLongestRowIndex=function(q){for(var oe=-1,ie=Number.MIN_VALUE,me=0;me<q.rows.length;me++)q.rowWidth[me]>ie&&(oe=me,ie=q.rowWidth[me]);return oe},te.prototype.canAddHorizontal=function(q,oe,ie){var me=this.getShortestRowIndex(q);if(me<0)return!0;var we=q.rowWidth[me];if(we+q.horizontalPadding+oe<=q.width)return!0;var De,ze,Se=0;return q.rowHeight[me]<ie&&me>0&&(Se=ie+q.verticalPadding-q.rowHeight[me]),De=q.width-we>=oe+q.horizontalPadding?(q.height+Se)/(we+oe+q.horizontalPadding):(q.height+Se)/q.width,Se=ie+q.verticalPadding,(ze=q.width<oe?(q.height+Se)/oe:(q.height+Se)/q.width)<1&&(ze=1/ze),De<1&&(De=1/De),De<ze},te.prototype.shiftToLastRow=function(q){var oe=this.getLongestRowIndex(q),ie=q.rowWidth.length-1,me=q.rows[oe],we=me[me.length-1],Se=we.width+q.horizontalPadding;if(q.width-q.rowWidth[ie]>Se&&oe!=ie){me.splice(-1,1),q.rows[ie].push(we),q.rowWidth[oe]=q.rowWidth[oe]-Se,q.rowWidth[ie]=q.rowWidth[ie]+Se,q.width=q.rowWidth[instance.getLongestRowIndex(q)];for(var De=Number.MIN_VALUE,ze=0;ze<me.length;ze++)me[ze].height>De&&(De=me[ze].height);oe>0&&(De+=q.verticalPadding);var Be=q.rowHeight[oe]+q.rowHeight[ie];q.rowHeight[oe]=De,q.rowHeight[ie]<we.height+q.verticalPadding&&(q.rowHeight[ie]=we.height+q.verticalPadding),q.height+=q.rowHeight[oe]+q.rowHeight[ie]-Be,this.shiftToLastRow(q)}},te.prototype.tilingPreLayout=function(){L.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},te.prototype.tilingPostLayout=function(){L.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},te.prototype.reduceTrees=function(){for(var ie,q=[],oe=!0;oe;){var me=this.graphManager.getAllNodes(),we=[];oe=!1;for(var Se=0;Se<me.length;Se++)1==(ie=me[Se]).getEdges().length&&!ie.getEdges()[0].isInterGraph&&null==ie.getChild()&&(we.push([ie,ie.getEdges()[0],ie.getOwner()]),oe=!0);if(1==oe){for(var De=[],ze=0;ze<we.length;ze++)1==we[ze][0].getEdges().length&&(De.push(we[ze]),we[ze][0].getOwner().remove(we[ze][0]));q.push(De),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=q},te.prototype.growTree=function(q){for(var me,ie=q[q.length-1],we=0;we<ie.length;we++)this.findPlaceforPrunedNode(me=ie[we]),me[2].add(me[0]),me[2].add(me[1],me[1].source,me[1].target);q.splice(q.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},te.prototype.findPlaceforPrunedNode=function(q){var oe,ie,me=q[0],we=(ie=me==q[1].source?q[1].target:q[1].source).startX,Se=ie.finishX,De=ie.startY,ze=ie.finishY,Ct=[0,0,0,0];if(De>0)for(var Qe=we;Qe<=Se;Qe++)Ct[0]+=this.grid[Qe][De-1].length+this.grid[Qe][De].length-1;if(Se<this.grid.length-1)for(Qe=De;Qe<=ze;Qe++)Ct[1]+=this.grid[Se+1][Qe].length+this.grid[Se][Qe].length-1;if(ze<this.grid[0].length-1)for(Qe=we;Qe<=Se;Qe++)Ct[2]+=this.grid[Qe][ze+1].length+this.grid[Qe][ze].length-1;if(we>0)for(Qe=De;Qe<=ze;Qe++)Ct[3]+=this.grid[we-1][Qe].length+this.grid[we][Qe].length-1;for(var zt,It,Zt=ne.MAX_VALUE,bn=0;bn<Ct.length;bn++)Ct[bn]<Zt?(Zt=Ct[bn],zt=1,It=bn):Ct[bn]==Zt&&zt++;if(3==zt&&0==Zt)0==Ct[0]&&0==Ct[1]&&0==Ct[2]?oe=1:0==Ct[0]&&0==Ct[1]&&0==Ct[3]?oe=0:0==Ct[0]&&0==Ct[2]&&0==Ct[3]?oe=3:0==Ct[1]&&0==Ct[2]&&0==Ct[3]&&(oe=2);else if(2==zt&&0==Zt){var hn=Math.floor(2*Math.random());oe=0==Ct[0]&&0==Ct[1]?0==hn?0:1:0==Ct[0]&&0==Ct[2]?0==hn?0:2:0==Ct[0]&&0==Ct[3]?0==hn?0:3:0==Ct[1]&&0==Ct[2]?0==hn?1:2:0==Ct[1]&&0==Ct[3]?0==hn?1:3:0==hn?2:3}else oe=4==zt&&0==Zt?hn=Math.floor(4*Math.random()):It;0==oe?me.setCenter(ie.getCenterX(),ie.getCenterY()-ie.getHeight()/2-k.DEFAULT_EDGE_LENGTH-me.getHeight()/2):1==oe?me.setCenter(ie.getCenterX()+ie.getWidth()/2+k.DEFAULT_EDGE_LENGTH+me.getWidth()/2,ie.getCenterY()):2==oe?me.setCenter(ie.getCenterX(),ie.getCenterY()+ie.getHeight()/2+k.DEFAULT_EDGE_LENGTH+me.getHeight()/2):me.setCenter(ie.getCenterX()-ie.getWidth()/2-k.DEFAULT_EDGE_LENGTH-me.getWidth()/2,ie.getCenterY())},P.exports=te},function(P,N,I){"use strict";var C={};C.layoutBase=I(0),C.CoSEConstants=I(1),C.CoSEEdge=I(2),C.CoSEGraph=I(3),C.CoSEGraphManager=I(4),C.CoSELayout=I(6),C.CoSENode=I(5),P.exports=C}]))},6827:function(Y,se,D){var T,P;Y.exports=(T=D(5886),P=D(1610),function(N){var I={};function C(S){if(I[S])return I[S].exports;var R=I[S]={i:S,l:!1,exports:{}};return N[S].call(R.exports,R,R.exports,C),R.l=!0,R.exports}return C.m=N,C.c=I,C.i=function(S){return S},C.d=function(S,R,A){C.o(S,R)||Object.defineProperty(S,R,{configurable:!1,enumerable:!0,get:A})},C.n=function(S){var R=S&&S.__esModule?function(){return S.default}:function(){return S};return C.d(R,"a",R),R},C.o=function(S,R){return Object.prototype.hasOwnProperty.call(S,R)},C.p="",C(C.s=15)}([function(N,I){N.exports=T},function(N,I,C){"use strict";var S=C(0).layoutBase.FDLayoutConstants;function R(){}for(var A in S)R[A]=S[A];R.DEFAULT_SPRING_STRENGTH=1.5*S.DEFAULT_SPRING_STRENGTH,R.DEFAULT_NODE_SEPARATION=S.DEFAULT_EDGE_LENGTH/4,R.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF=1.4,R.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE=!1,R.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=.1,R.DEFAULT_INNER_EDGE_LENGTH=S.DEFAULT_EDGE_LENGTH/3,R.MAX_ROTATION_ANGLE=Math.PI/36,R.MIN_ROTATION_ANGLE=-R.MAX_ROTATION_ANGLE,R.SWAP_HISTORY_CLEARANCE_PERIOD=6*(R.SWAP_PERIOD=(R.SWAP_IDLE_DURATION=45)+(R.SWAP_PREPERATION_DURATION=5)),R.MIN_DISPLACEMENT_FOR_SWAP=6,R.REVERSE_PERIOD=25,N.exports=R},function(N,I,C){"use strict";N.exports=null!=Object.assign?Object.assign.bind(Object):function(S){for(var R=arguments.length,A=Array(R>1?R-1:0),V=1;V<R;V++)A[V-1]=arguments[V];return A.forEach(function(L){Object.keys(L).forEach(function(k){return S[k]=L[k]})}),S}},function(N,I){N.exports=P},function(N,I,C){"use strict";N.exports=C(16)},function(N,I,C){"use strict";var S=C(0).layoutBase.LGraph,R=C(0).layoutBase.IGeometry,A=C(0).layoutBase.NeedlemanWunsch,V=C(14),L=C(1),k=C(8),H=C(9);function $(ue,ne,le){S.call(this,ue,ne,le),this.intraClusterEdges=null,this.interClusterEdges=null,this.inNodes=[],this.outNodes=[],this.onCircleNodes=[],this.inCircleNodes=[],this.radius=0,this.orderMatrix=null,this.mayBeReversed=!0}for(var Q in $.prototype=Object.create(S.prototype),S)$[Q]=S[Q];$.prototype.setRadius=function(ue){this.radius=ue},$.prototype.getRadius=function(){return this.radius},$.prototype.getInNodes=function(){return this.inNodes},$.prototype.getOutNodes=function(){return this.outNodes},$.prototype.getOnCircleNodes=function(){return this.onCircleNodes},$.prototype.getInCircleNodes=function(){return this.inCircleNodes},$.prototype.setMayNotBeReversed=function(){this.mayBeReversed=!1},$.prototype.getMayBeReversed=function(){return this.mayBeReversed},$.prototype.getChildAt=function(ue){return this.onCircleNodes[ue]},$.prototype.getInterClusterEdges=function(){var ue=this;return null===this.interClusterEdges&&(this.interClusterEdges=[],this.outNodes.forEach(function(ne){for(var le=ne.getOnCircleNodeExt().getInterClusterEdges(),ae=0;ae<le.length;ae++)ue.interClusterEdges.push(le[ae])})),this.interClusterEdges},$.prototype.getIntraClusterEdges=function(){var ue=this;return null===this.intraClusterEdges&&(this.intraClusterEdges=[],this.getEdges().forEach(function(le){le.isIntraEdge()&&ue.intraClusterEdges.push(le)})),this.intraClusterEdges},$.prototype.calculateParentNodeDimension=function(){for(var ne=Number.MIN_SAFE_INTEGER,le=0;le<this.onCircleNodes.length;le++){var ae=this.onCircleNodes[le];ae.getWidth()>ne&&(ne=ae.getWidth()),ae.getHeight()>ne&&(ne=ae.getHeight())}var de=2*(this.radius+this.margin)+ne,te=this.getParent();te.setHeight(de),te.setWidth(de)},$.prototype.computeOrderMatrix=function(){var ue=this.onCircleNodes.length;this.orderMatrix=new Array(ue);for(var ne=0;ne<this.orderMatrix.length;ne++)this.orderMatrix[ne]=new Array(ue);for(var le=0;le<ue;le++)for(var ae=0;ae<ue;ae++)if(ae>le){var de=this.onCircleNodes[ae].getOnCircleNodeExt().getAngle()-this.onCircleNodes[le].getOnCircleNodeExt().getAngle();de<0&&(de+=R.TWO_PI),de<=Math.PI?(this.orderMatrix[le][ae]=!0,this.orderMatrix[ae][le]=!1):(this.orderMatrix[le][ae]=!1,this.orderMatrix[ae][le]=!0)}},$.prototype.rotate=function(){var ue=this.getParent(),ne=this.getOnCircleNodes().length,le=ue.rotationAmount/ne,ae=this.getGraphManager().getLayout();if(0!==le){var de=le/this.radius;de>L.MAX_ROTATION_ANGLE?de=L.MAX_ROTATION_ANGLE:de<L.MIN_ROTATION_ANGLE&&(de=L.MIN_ROTATION_ANGLE);for(var te=0;te<ne;te++){var q=this.getChildAt(te).getOnCircleNodeExt();q.setAngle(q.getAngle()+de),q.updatePosition()}ae.totalDisplacement+=ue.rotationAmount,ue.rotationAmount=0}},$.prototype.getOrder=function(ue,ne){return this.orderMatrix[ue.getOnCircleNodeExt().getIndex()][ne.getOnCircleNodeExt().getIndex()]},$.prototype.getThisEnd=function(ue){var ne=ue.getSource(),le=ue.getTarget();return ne.getOwner()===this?ne:le},$.prototype.getOtherEnd=function(ue){var ne=ue.getSource(),le=ue.getTarget();return ne.getOwner()===this?le:ne},$.prototype.decomposeForce=function(ue){var ne=void 0;if(0!==ue.displacementX||0!==ue.displacementY){var Se,le=this.getParent(),ae=le.getCenterX(),de=le.getCenterY(),te=ue.getCenterX(),pe=ue.getCenterY(),q=ue.displacementX,oe=ue.displacementY,ie=R.angleOfVector(ae,de,te,pe),me=R.angleOfVector(0,0,q,oe),we=ie+Math.PI;Se=Math.PI<=we&&we<R.TWO_PI?ie<=me&&me<we:!((we-=R.TWO_PI)<=me&&me<ie);var De=Math.abs(ie-me),ze=Math.sqrt(q*q+oe*oe),Be=Math.abs(Math.sin(De)*ze);Se||(Be=-Be),ne=new V(Be,q,oe)}else ne=new V(0,0,0);return ne},$.prototype.swapNodes=function(ue,ne){var le=ue,ae=ne,de=ue.getOnCircleNodeExt(),te=ne.getOnCircleNodeExt();if(le.getOnCircleNodeExt().getIndex()>ne.getOnCircleNodeExt().getIndex()&&(le=ne,ae=ue),le.getOnCircleNodeExt().getPrevNode()===ae){var pe=ae;ae=le,le=pe}var q=le.getOnCircleNodeExt(),oe=ae.getOnCircleNodeExt(),ie=q.getPrevNode(),we=this.getGraphManager().getLayout().getNodeSeparation(),Se=(ie.getOnCircleNodeExt().getAngle()+(ie.getHalfTheDiagonal()+ae.getHalfTheDiagonal()+we)/this.radius)%(2*Math.PI);oe.setAngle(Se),Se=(oe.getAngle()+(ae.getHalfTheDiagonal()+le.getHalfTheDiagonal()+we)/this.radius)%(2*Math.PI),q.setAngle(Se),q.updatePosition(),oe.updatePosition();var De=de.getIndex();de.setIndex(te.getIndex()),te.setIndex(De),this.getOnCircleNodes()[de.getIndex()]=ue,this.getOnCircleNodes()[te.getIndex()]=ne,de.updateSwappingConditions(),te.updateSwappingConditions(),de.getNextNode()===ne?(de.getPrevNode().getOnCircleNodeExt().updateSwappingConditions(),te.getNextNode().getOnCircleNodeExt().updateSwappingConditions()):(de.getNextNode().getOnCircleNodeExt().updateSwappingConditions(),te.getPrevNode().getOnCircleNodeExt().updateSwappingConditions())},$.prototype.checkAndReverseIfReverseIsBetter=function(){for(var ue=this.getInterClusterEdges(),ne=new Array(ue.length),le=void 0,ae=this.getParent().getCenter(),de=void 0,te=void 0,q=void 0,oe=this.onCircleNodes.length,ie=new Array(oe),me=0;me<oe;me++)ie[me]=0;for(var we=0,Se=0;Se<ue.length;Se++)q=this.getOtherEnd(de=ue[Se]).getCenter(),le=R.angleOfVector(ae.x,ae.y,q.x,q.y),ne[Se]=new k(de,le),ie[(te=this.getThisEnd(de)).getOnCircleNodeExt().getIndex()]++,ie[te.getOnCircleNodeExt().getIndex()]>1&&we++;for(var De=this.onCircleNodes,ze=oe+we,Be=new Array(2*ze),st=new Array(2*ze),ht=void 0,Ze=-1,Ct=0;Ct<oe;Ct++){ht=De[Ct],0===ie[Ct]&&(ie[Ct]=1);for(var Qe=0;Qe<ie[Ct];Qe++)Be[++Ze]=Be[ze+Ze]=st[ze-1-Ze]=st[2*ze-1-Ze]=ht.getOnCircleNodeExt().getCharCode()}new H(this,ne);for(var zt=new Array(ne.length),It=0;It<ne.length;It++)de=ne[It].getEdge(),te=this.getThisEnd(de),zt[It]=te.getOnCircleNodeExt().getCharCode();var bn=this.computeAlignmentScore(Be,zt);if(-1!==bn){var hn=this.computeAlignmentScore(st,zt);if(-1!==hn&&hn>bn)return this.reverseNodes(),this.setMayNotBeReversed(),!0}return!1},$.prototype.computeAlignmentScore=function(ue,ne){return new A(ue,ne,20,-1,-2).getScore()},$.prototype.reverseNodes=function(){for(var ue=this.getOnCircleNodes(),ne=this.getOnCircleNodes().length,le=0;le<ne;le++){var de=ue[le].getOnCircleNodeExt();de.setIndex((ne-de.getIndex())%ne)}this.reCalculateNodeAnglesAndPositions()},$.prototype.moveOnCircleNodeInside=function(ue){var ne=this.onCircleNodes.indexOf(ue);ne>-1&&this.onCircleNodes.splice(ne,1),this.inCircleNodes.push(ue);for(var le=0;le<this.onCircleNodes.length;le++)this.onCircleNodes[le].getOnCircleNodeExt().setIndex(le);ue.setAsNonOnCircleNode(),this.reCalculateCircleSizeAndRadius(),this.reCalculateNodeAnglesAndPositions(),ue.setCenter(this.getParent().getCenterX(),this.getParent().getCenterY())},$.prototype.reCalculateCircleSizeAndRadius=function(){for(var ue=0,ne=this.getOnCircleNodes(),le=0;le<ne.length;le++){var ae=ne[le],de=ae.getWidth()*ae.getWidth()+ae.getHeight()*ae.getHeight();ue+=Math.sqrt(de)}var pe=this.getGraphManager().getLayout().getNodeSeparation(),q=ue+this.getOnCircleNodes().length*pe;this.radius=q/(2*Math.PI),this.calculateParentNodeDimension()},$.prototype.reCalculateNodeAnglesAndPositions=function(){var ne=this.getGraphManager().getLayout().getNodeSeparation(),le=this.onCircleNodes;le.sort(function(ie,me){return ie.getOnCircleNodeExt().getIndex()-me.getOnCircleNodeExt().getIndex()});for(var ae=this.getParent().getCenterX(),de=this.getParent().getCenterY(),te=0;te<le.length;te++){var pe=le[te],q=void 0;if(0===te)q=0;else{var oe=le[te-1];q=oe.getOnCircleNodeExt().getAngle()+(pe.getHalfTheDiagonal()+ne+oe.getHalfTheDiagonal())/this.radius}pe.getOnCircleNodeExt().setAngle(q),pe.setCenter(ae+this.radius*Math.cos(q),de+this.radius*Math.sin(q))}},N.exports=$},function(N,I,C){"use strict";var S=C(0).layoutBase.FDLayoutEdge;function R(V,L,k){S.call(this,V,L,k),this.isIntraCluster=!0}for(var A in R.prototype=Object.create(S.prototype),S)R[A]=S[A];R.prototype.isIntraEdge=function(){return this.isIntraCluster},R.prototype.crossesWithEdge=function(V){var L=!1,k=this.getSource().getOnCircleNodeExt(),H=this.getTarget().getOnCircleNodeExt(),$=V.getSource().getOnCircleNodeExt(),Q=V.getTarget().getOnCircleNodeExt(),ue=-1,ne=-1,le=-1,ae=-1;if(null!==k&&(ue=k.getIndex()),null!==H&&(ne=H.getIndex()),null!==$&&(le=$.getIndex()),null!==Q&&(ae=Q.getIndex()),this.isInterGraph||V.isInterGraph)L=!0;else if(this.source.getOwner()!==this.target.getOwner())L=!1;else{(-1===ue||-1===ne||-1===le||-1===ae)&&(L=!1);var de=$.getCircDistWithTheNode(k),te=Q.getCircDistWithTheNode(k),pe=H.getCircDistWithTheNode(k);pe<Math.max(de,te)&&pe>Math.min(de,te)&&0!==te&&0!==de&&(L=!0)}return L},R.prototype.calculateTotalCrossingWithList=function(V){for(var L=0,k=0;k<V.length;k++)L+=this.crossingWithEdge(V[k]);return L},R.prototype.crossingWithEdge=function(V){var k=0;return this.crossesWithEdge(V)&&(k=1),k},N.exports=R},function(N,I,C){"use strict";var S=C(0).layoutBase.LGraphManager;function R(V){S.call(this,V),this.onCircleNodes=[],this.inCircleNodes=[],this.nonOnCircleNodes=[]}for(var A in R.prototype=Object.create(S.prototype),S)R[A]=S[A];R.prototype.getOnCircleNodes=function(){return this.onCircleNodes},R.prototype.getInCircleNodes=function(){return this.inCircleNodes},R.prototype.getNonOnCircleNodes=function(){return this.nonOnCircleNodes},R.prototype.setOnCircleNodes=function(V){this.onCircleNodes=V},R.prototype.setInCircleNodes=function(V){this.inCircleNodes=V},R.prototype.setNonOnCircleNodes=function(V){this.nonOnCircleNodes=V},N.exports=R},function(N,I,C){"use strict";function S(R,A){this.edge=R,this.angle=A}(S.prototype=Object.create(null)).getEdge=function(){return this.edge},S.prototype.getAngle=function(){return this.angle},N.exports=S},function(N,I,C){"use strict";var S=function(){function V(L,k){for(var H=0;H<k.length;H++){var $=k[H];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(L,$.key,$)}}return function(L,k,H){return k&&V(L.prototype,k),H&&V(L,H),L}}();var A=function(){function V(L,k){(function R(V,L){if(!(V instanceof L))throw new TypeError("Cannot call a class as a function")})(this,V),this.ownerCircle=L,this._quicksort(k,0,k.length-1)}return S(V,[{key:"compareFunction",value:function(k,H){return H.getAngle()>k.getAngle()||H.getAngle()===k.getAngle()&&k!==H&&this.ownerCircle.getOrder(this.ownerCircle.getThisEnd(k.getEdge()),this.ownerCircle.getThisEnd(H.getEdge()))}},{key:"_quicksort",value:function(k,H,$){if(H<$){var Q=this._partition(k,H,$);this._quicksort(k,H,Q),this._quicksort(k,Q+1,$)}}},{key:"_partition",value:function(k,H,$){for(var Q=this._get(k,H),ue=H,ne=$;;){for(;this.compareFunction(Q,this._get(k,ne));)ne--;for(;this.compareFunction(this._get(k,ue),Q);)ue++;if(!(ue<ne))return ne;this._swap(k,ue,ne),ue++,ne--}}},{key:"_get",value:function(k,H){return k[H]}},{key:"_set",value:function(k,H,$){k[H]=$}},{key:"_swap",value:function(k,H,$){var Q=this._get(k,H);this._set(k,H,this._get(k,$)),this._set(k,$,Q)}}]),V}();N.exports=A},function(N,I,C){"use strict";var S=C(0).layoutBase.FDLayout,R=C(0).layoutBase.HashMap,A=C(0).layoutBase.PointD,V=C(0).layoutBase.DimensionD,L=C(0).AVSDFConstants,k=C(0).AVSDFLayout,H=C(3).CoSELayout,Q=(C(3),C(1)),ue=C(7),ne=C(5),le=C(11),ae=C(6),de=C(13);function te(){S.call(this),this.incremental=Q.INCREMENTAL,this.nodeSeparation=Q.DEFAULT_NODE_SEPARATION,this.idealInterClusterEdgeLengthCoefficient=Q.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF,this.allowNodesInsideCircle=Q.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE,this.maxRatioOfNodesInsideCircle=Q.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE,this.step=te.STEP_NOT_STARTED,this.phase=te.PHASE_NOT_STARTED,this.swappedPairsInLastIteration=[],this.iterations=0,this.oldTotalDisplacement=0,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/Q.CONVERGENCE_CHECK_PERIOD}for(var pe in te.prototype=Object.create(S.prototype),S)te[pe]=S[pe];te.STEP_NOT_STARTED=0,te.STEP_1=1,te.STEP_2=2,te.STEP_3=3,te.STEP_4=4,te.STEP_5=5,te.PHASE_NOT_STARTED=0,te.PHASE_SWAP_PREPERATION=1,te.PHASE_PERFORM_SWAP=2,te.PHASE_OTHER=3,te.prototype.newGraphManager=function(){return this.graphManager=new ue(this),this.graphManager},te.prototype.newCircleLGraph=function(q){return new ne(null,this.graphManager,q)},te.prototype.newNode=function(q,oe){return new le(this.graphManager,q,oe,null)},te.prototype.newCiSEOnCircleNode=function(q,oe){var ie=this.newNode(q,oe);return ie.setAsOnCircleNode(),ie},te.prototype.newEdge=function(q,oe,ie){return new ae(q,oe,ie)},te.prototype.getNodeSeparation=function(){return this.nodeSeparation},te.prototype.convertToClusteredGraph=function(q,oe,ie){for(var me=this,we=this,Se={},De=this.graphManager.getRoot(),ze=new R,Be=0;Be<q.length;Be++)ze.put(q[Be].data("id"),q[Be]);if("function"==typeof ie){for(var st=[],ht=[],Ze=0;Ze<q.length;Ze++){var Ct=ie(q[Ze]);if(Ct>0&&null!=Ct){var Qe=st.indexOf(Ct);Qe>-1?ht[Qe].push(q[Ze].data("id")):(st.push(Ct),ht.push([q[Ze].data("id")]))}}ie=ht}for(var Zt=function(qr){if(0===ie[qr].length)return"continue";var pn=me.newNode(null);pn.setClusterId(qr),De.add(pn);var Ri=me.newCircleLGraph(null);me.graphManager.add(Ri,pn),Ri.margin=Ri.margin+15,ie[qr].forEach(function(ro){var Fi=ze.get(ro),Bi=Fi.layoutDimensions({nodeDimensionsIncludeLabels:!1}),$r=we.newCiSEOnCircleNode(new A(Fi.position("x")-Bi.w/2,Fi.position("y")-Bi.h/2),new V(parseFloat(Bi.w),parseFloat(Bi.h)));$r.setId(ro),$r.setClusterId(qr),Ri.getOnCircleNodes().push($r),Ri.add($r),Ri.getInNodes().push($r),Se[$r.getId()]=$r})},zt=0;zt<ie.length;zt++)Zt(zt);for(var bn=function(qr){var pn=!1;if(ie.forEach(function(Bi){Bi.includes(q[qr].data("id"))&&(pn=!0)}),!pn){var Ri=q[qr],ro=Ri.layoutDimensions({nodeDimensionsIncludeLabels:!1}),Fi=me.newNode(new A(Ri.position("x")-ro.w/2,Ri.position("y")-ro.h/2),new V(parseFloat(ro.w),parseFloat(ro.h)));Fi.setClusterId(-1),Fi.setId(q[qr].data("id")),De.add(Fi),Se[Fi.getId()]=Fi}},hn=0;hn<q.length;hn++)bn(hn);for(var ut=0;ut<oe.length;ut++){var it=oe[ut],pt=Se[it.data("source")],Ft=Se[it.data("target")],St=pt.getClusterId(),Kn=Ft.getClusterId();if(pt!==Ft){var Jn=we.newEdge(pt,Ft,null);St===Kn&&-1!==St&&-1!==Kn?(Jn.isIntraCluster=!0,Jn.getSource().getOwner().add(Jn,Jn.getSource(),Jn.getTarget())):(Jn.isIntraCluster=!1,this.graphManager.add(Jn,Jn.getSource(),Jn.getTarget()))}}for(var Mr=[],Lr=[],Er=this.graphManager.getAllNodes(),Dn=0;Dn<Er.length;Dn++)Er[Dn].getOnCircleNodeExt()?Mr.push(Er[Dn]):Lr.push(Er[Dn]);return this.graphManager.setOnCircleNodes(Mr),this.graphManager.setNonOnCircleNodes(Lr),this.graphManager.edges.forEach(function(zn){var qr=zn.getSource(),pn=zn.getTarget(),Ri=qr.getClusterId(),ro=pn.getClusterId();if(-1!==Ri){var Fi=qr.getOwner(),Bi=Fi.getInNodes().indexOf(qr);Bi>-1&&(Fi.getInNodes().splice(Bi,1),Fi.getOutNodes().push(qr))}if(-1!==ro){var $r=pn.getOwner(),Ki=$r.getInNodes().indexOf(pn);Ki>-1&&($r.getInNodes().splice(Ki,1),$r.getOutNodes().push(pn))}}),Se},te.prototype.doStep1=function(){this.step=te.STEP_1,this.phase=te.PHASE_OTHER;for(var q=new R,oe=this.graphManager.getGraphs(),ie=0;ie<oe.length;ie++){var me=oe[ie];if(me instanceof ne){L.DEFAULT_NODE_SEPARATION=this.nodeSeparation;for(var we=new k,Se=we.graphManager.addRoot(),De=me.getOnCircleNodes(),ze=0;ze<De.length;ze++){var Be=De[ze],st=we.newNode(null),ht=Be.getLocation();st.setLocation(ht.x,ht.y),st.setWidth(Be.getWidth()),st.setHeight(Be.getHeight()),Se.add(st),q.put(Be,st)}for(var Ze=this.getAllEdges(),Ct=0;Ct<Ze.length;Ct++){var Qe=Ze[Ct];if(De.includes(Qe.getSource())&&De.includes(Qe.getTarget())){var Zt=q.get(Qe.getSource()),zt=q.get(Qe.getTarget()),It=we.newEdge("");Se.add(It,Zt,zt)}}we.layout();for(var bn=we.initPostProcess(),hn=0;hn<bn.length;hn++)we.oneStepPostProcess(bn[hn]);we.updateNodeAngles(),we.updateNodeCoordinates();for(var ut=0;ut<De.length;ut++){var it=De[ut],pt=q.get(it),Ft=pt.getLocation();it.setLocation(Ft.x,Ft.y),it.getOnCircleNodeExt().setIndex(pt.getIndex()),it.getOnCircleNodeExt().setAngle(pt.getAngle())}if(De.sort(function(Jn,Mr){return Jn.getOnCircleNodeExt().getIndex()-Mr.getOnCircleNodeExt().getIndex()}),Se.getNodes().length>0){var St=me.getParent(),Kn=Se.getParent();St.setLocation(Kn.getLocation().x,Kn.getLocation().y),me.setRadius(Se.getRadius()),me.calculateParentNodeDimension()}}}},te.prototype.doStep2=function(){this.step=te.STEP_2,this.phase=te.PHASE_OTHER;var q=[],oe=[],ie=new R,me=new R,we=new H;we.isSubLayout=!1,we.useMultiLevelScaling=!1,we.useFRGridVariant=!0,we.springConstant*=1.5;for(var De=we.newGraphManager().addRoot(),ze=this.graphManager.getNonOnCircleNodes(),Be=0;Be<ze.length;Be++){var st=ze[Be],ht=we.newNode(null),Ze=st.getLocation();ht.setLocation(Ze.x,Ze.y),ht.setWidth(st.getWidth()),ht.setHeight(st.getHeight()),null!=st.getChild()&&(ht.setWidth(1.2*ht.getWidth()),ht.setHeight(1.2*ht.getHeight())),ht.id=Be,De.add(ht),q.push(ht),ie.put(st,ht)}for(var Ct=new Array(q.length),Qe=0;Qe<Ct.length;Qe++)Ct[Qe]=new Array(q.length);for(var Zt=this.graphManager.getAllEdges(),zt=0;zt<Zt.length;zt++){var It=Zt[zt],bn=It.getSource(),hn=It.getTarget();null!=bn.getOnCircleNodeExt()&&(bn=It.getSource().getOwner().getParent()),null!=hn.getOnCircleNodeExt()&&(hn=It.getTarget().getOwner().getParent());var ut=ie.get(bn),it=ie.get(hn),pt=q.indexOf(ut),Ft=q.indexOf(it),St=void 0;pt!==Ft&&(null==Ct[pt][Ft]&&null==Ct[Ft][pt]?(St=we.newEdge(null),De.add(St,ut,it),oe.push(St),me.put(St,[]),Ct[pt][Ft]=St,Ct[Ft][pt]=St):St=Ct[pt][Ft],me.get(St).push(It))}we.runLayout();for(var Kn=0;Kn<ze.length;Kn++){var Jn=ze[Kn],Lr=ie.get(Jn).getLocation();Jn.setLocation(Lr.x,Lr.y)}for(var Er=this.graphManager.getOnCircleNodes(),Dn=0;Dn<Er.length;Dn++){var zn=Er[Dn],qr=zn.getLocation(),pn=zn.getOwner().getParent().getLocation();zn.setLocation(qr.x+pn.x,qr.y+pn.y)}},te.prototype.step3Init=function(){this.step=te.STEP_3,this.phase=te.PHASE_OTHER,this.initSpringEmbedder(),this.coolingCycle=0},te.prototype.step4Init=function(){this.step=te.STEP_4,this.phase=te.PHASE_OTHER,this.initSpringEmbedder();for(var q=0;q<this.graphManager.getOnCircleNodes().length;q++)this.graphManager.getOnCircleNodes()[q].getOnCircleNodeExt().updateSwappingConditions();this.coolingCycle=0},te.prototype.step5Init=function(){this.step=te.STEP_5,this.phase=te.PHASE_OTHER,this.initSpringEmbedder(),this.coolingCycle=0},te.prototype.runSpringEmbedderTick=function(){if(this.iterations++,this.totalIterations=this.iterations,this.iterations%Q.CONVERGENCE_CHECK_PERIOD==0){if((this.step!==te.STEP_4||this.iterations>this.maxIterations/4)&&this.isConverged())return!0;this.coolingFactor=this.initialCoolingFactor*((this.maxIterations-this.iterations)/this.maxIterations)}if(this.totalDisplacement=0,this.step===te.STEP_3)this.iterations%Q.REVERSE_PERIOD==0&&this.checkAndReverseIfReverseIsBetter();else if(this.step===te.STEP_4){this.iterations%Q.SWAP_HISTORY_CLEARANCE_PERIOD==0&&(this.swappedPairsInLastIteration=[]);var oe=this.iterations%Q.SWAP_PERIOD;this.phase=oe>=Q.SWAP_IDLE_DURATION?te.PHASE_SWAP_PREPERATION:0===oe?te.PHASE_PERFORM_SWAP:te.PHASE_OTHER}return this.calcSpringForces(),this.calcRepulsionForces(),this.calcGravitationalForces(),this.calcTotalForces(),this.moveNodes(),this.iterations>=this.maxIterations},te.prototype.prepareCirclesForReversal=function(){this.graphManager.getRoot().getNodes().forEach(function(oe){var ie=oe.getChild();null!=ie&&(ie.getInterClusterEdges().length<2&&ie.setMayNotBeReversed(),ie.computeOrderMatrix())})},te.prototype.calcIdealEdgeLengths=function(q){for(var oe=this.graphManager.getAllEdges(),ie=0;ie<oe.length;ie++){oe[ie].idealLength=q?1.5*this.idealEdgeLength*this.idealInterClusterEdgeLengthCoefficient:this.idealEdgeLength*this.idealInterClusterEdgeLengthCoefficient}for(var we=this.graphManager.getInCircleNodes(),Se=0;Se<we.length;Se++)we[Se].getEdges().forEach(function(ze){ze.idealLength=Q.DEFAULT_INNER_EDGE_LENGTH})},te.prototype.calcSpringForces=function(){for(var q=this.graphManager.getAllEdges(),oe=0;oe<q.length;oe++){var ie=q[oe],me=ie.getSource(),we=ie.getTarget();ie.isIntraCluster&&null!=me.getOnCircleNodeExt()&&null!=we.getOnCircleNodeExt()||this.calcSpringForce(ie,ie.idealLength)}},te.prototype.calcRepulsionForces=function(){for(var q=this.graphManager.getNonOnCircleNodes(),oe=0;oe<q.length;oe++)for(var ie=q[oe],me=oe+1;me<q.length;me++)this.calcRepulsionForce(ie,q[me]);for(var Se=this.graphManager.getInCircleNodes(),De=0;De<Se.length;De++)for(var ze=Se[De],st=ze.getOwner().getNodes(),ht=0;ht<st.length;ht++){var Ze=st[ht];Ze!==ze&&this.calcRepulsionForce(ze,Ze)}},te.prototype.calcGravitationalForces=function(){if(!this.graphManager.rootGraph.isConnected)for(var q=this.graphManager.getNonOnCircleNodes(),oe=0;oe<q.length;oe++)this.calcGravitationalForce(q[oe]);for(var me=this.graphManager.getInCircleNodes(),we=0;we<me.length;we++)this.calcGravitationalForce(me[we])},te.prototype.calcTotalForces=function(){for(var q=this.graphManager.getAllNodes(),oe=0;oe<q.length;oe++){var ie=q[oe];ie.displacementX=this.coolingFactor*(ie.springForceX+ie.repulsionForceX+ie.gravitationForceX),ie.displacementY=this.coolingFactor*(ie.springForceY+ie.repulsionForceY+ie.gravitationForceY),ie.rotationAmount=0,ie.springForceX=0,ie.springForceY=0,ie.repulsionForceX=0,ie.repulsionForceY=0,ie.gravitationForceX=0,ie.gravitationForceY=0}for(var me=this.graphManager.getOnCircleNodes(),we=0;we<me.length;we++){var Se=me[we],De=Se.getOwner().getParent(),ze=Se.getOwner().decomposeForce(Se);this.phase===te.PHASE_SWAP_PREPERATION&&Se.getOnCircleNodeExt().addDisplacementForSwap(ze.getRotationAmount()),De.displacementX+=ze.getDisplacementX(),De.displacementY+=ze.getDisplacementY(),Se.displacementX=0,Se.displacementY=0,De.rotationAmount+=ze.getRotationAmount(),Se.rotationAmount=0}},te.prototype.moveNodes=function(){if(this.phase!==te.PHASE_PERFORM_SWAP){for(var q=this.graphManager.getNonOnCircleNodes(),oe=0;oe<q.length;oe++)q[oe].move(),null!==q[oe].getChild()&&void 0!==q[oe].getChild()&&q[oe].getChild().rotate();for(var ie=this.graphManager.getInCircleNodes(),me=void 0,we=0;we<ie.length;we++)(me=ie[we]).displacementX/=20,me.displacementY/=20,me.move()}else{for(var Se=this.graphManager.getOnCircleNodes(),De=Se.length,ze=[],Be=[],st=[],ht=[],Ze=void 0,Ct=void 0,Qe=void 0,Zt=void 0,zt=void 0,It=void 0,bn=void 0,ut=0;ut<De;ut++)if(Ct=(Ze=Se[ut]).getOnCircleNodeExt().getNextNode(),Qe=Ze.getOnCircleNodeExt(),Zt=Ct.getOnCircleNodeExt(),Qe.canSwapWithNext&&Zt.canSwapWithPrev&&!((bn=(zt=Qe.getDisplacementForSwap())-(It=Zt.getDisplacementForSwap()))<0)){var it=new de(Ze,Ct,bn,zt>0&&It>0||zt<0&&It<0);0===zt||0===It?Be.push(it):ze.push(it)}var pt=void 0,Ft=!0,St=void 0;for(ze.sort(function(qr,pn){return qr.getDiscrepancy()-pn.getDiscrepancy()});Ft&&ze.length>0;)if(Ze=(pt=ze[ze.length-1]).getFirstNode(),Ct=pt.getSecondNode(),Qe=Ze.getOnCircleNodeExt(),Zt=Ct.getOnCircleNodeExt(),this.isSwappedPreviously(pt))ze.pop(),ht.push(pt);else{var Kn=Qe.getInterClusterIntersections(Zt);pt.swap(),St=!1;var Jn=Qe.getInterClusterIntersections(Zt);!(St=Jn>Kn)&&Jn===Kn&&(St=pt.inSameDirection()||pt.getDiscrepancy()<Q.MIN_DISPLACEMENT_FOR_SWAP),St?(pt.swap(),ze.pop()):(st.push(pt.getFirstNode()),st.push(pt.getSecondNode()),ht.push(pt),Ft=!1)}for(var Mr=0;Mr<Be.length;Mr++){var Lr=Be[Mr];Lr.inSameDirection()||Lr.getDiscrepancy()<Q.MIN_DISPLACEMENT_FOR_SWAP||st.includes(Lr.getFirstNode())||st.includes(Lr.getSecondNode())||(this.isSwappedPreviously(Lr)||(Lr.swap(),st.push(Lr.getFirstNode()),st.push(Lr.getSecondNode())),ht.push(Lr))}this.swappedPairsInLastIteration=[];for(var Er=0;Er<ht.length;Er++)this.swappedPairsInLastIteration.push(ht[Er]);for(var zn=0;zn<De;zn++)Se[zn].getOnCircleNodeExt().setDisplacementForSwap(0)}},te.prototype.isSwappedPreviously=function(q){for(var oe=0;oe<this.swappedPairsInLastIteration.length;oe++){var ie=this.swappedPairsInLastIteration[oe];if(ie.getFirstNode()===q.getFirstNode()&&ie.getSecondNode()===q.getSecondNode()||ie.getSecondNode()===q.getFirstNode()&&ie.getFirstNode()===q.getSecondNode())return!0}return!1},te.prototype.checkAndReverseIfReverseIsBetter=function(){for(var oe=this.getGraphManager().getRoot().getNodes(),me=void 0,we=0;we<oe.length;we++)if(null!=(me=oe[we].getChild())&&me.getMayBeReversed()&&me.getNodes().length<=52&&me.checkAndReverseIfReverseIsBetter())return!0;return!1},te.prototype.findAndMoveInnerNodes=function(){if(this.allowNodesInsideCircle)for(var q=this.graphManager.getGraphs(),oe=0;oe<q.length;oe++){var ie=q[oe],me=0;if(ie!==this.getGraphManager().getRoot())for(var we=ie.getNodes().length*this.maxRatioOfNodesInsideCircle,Se=this.findInnerNode(ie);null!=Se&&me<we;)this.moveInnerNode(Se),++me<we&&(Se=this.findInnerNode(ie))}},te.prototype.findInnerNode=function(q){var oe=null,ie=q.getOnCircleNodes().length,me=q.getOnCircleNodes();me.sort(function(It,bn){return It.getEdges().length-bn.getEdges().length});for(var we=ie-1;we>=0&&null==oe;we--){var Se=me[we];if(0===Se.getOnCircleNodeExt().getInterClusterEdges().length){var De=this.findMinimalSpanningSegment(Se);if(0!==De.length){for(var ze=!1,Be=0;Be<De.length;Be++){var st=De[Be];if(ze)break;for(var ht=st.getNeighborsList(),Ze=0;Ze<ht.length;Ze++){var Ct=ht[Ze];if(Ct!==Se&&Ct.getOwner()===q&&null!=Ct.getOnCircleNodeExt()&&null!=Ct.getOnCircleNodeExt()){var Qe=st.getOnCircleNodeExt().getIndex(),Zt=Ct.getOnCircleNodeExt().getIndex(),zt=Qe-Zt;if(zt+=ie,(zt%=ie)>1&&(zt=Zt-Qe,zt+=ie,zt%=ie),zt>1){ze=!0;break}}}}ze||(oe=Se)}}}return oe},te.prototype.moveInnerNode=function(q){q.getOwner().moveOnCircleNodeInside(q);var ie=this.graphManager.getOnCircleNodes(),me=ie.indexOf(q);me>-1&&ie.splice(me,1),this.graphManager.inCircleNodes.push(q)},te.prototype.findMinimalSpanningSegment=function(q){var oe=[],ie=q.getOnCircleNeighbors();if(0===ie.length)return oe;ie.sort(function(bn,hn){return bn.getOnCircleNodeExt().getIndex()-hn.getOnCircleNodeExt().getIndex()});var me=q.getOwner().getOnCircleNodes();me.sort(function(bn,hn){return bn.getOnCircleNodeExt().getIndex()-hn.getOnCircleNodeExt().getIndex()});var we=null,Se=null,De=me.length,ze=me.length,Be=ie.length,st=void 0,Ze=void 0,Ct=void 0,Qe=void 0;for(st=0;st<Be;st++)Ze=ie[st],(Qe=((Ct=ie[(st-1+Be)%Be]).getOnCircleNodeExt().getIndex()-Ze.getOnCircleNodeExt().getIndex()+ze)%ze+1)<De&&(we=Ze,Se=Ct,De=Qe);for(var Zt=!1,zt=we;!Zt;)if(zt!==q&&oe.push(zt),zt===Se)Zt=!0;else{var It=zt.getOnCircleNodeExt().getIndex()+1;It===me.length&&(It=0),zt=me[It]}return oe},N.exports=te},function(N,I,C){"use strict";var S=C(0).layoutBase.FDLayoutNode,R=C(0).layoutBase.IMath,A=C(1),V=C(12);function L(H,$,Q,ue){S.call(this,H,$,Q,ue),this.rotationAmount=null,this.onCircleNodeExt=null,this.clusterID=null,this.ID=null}for(var k in L.prototype=Object.create(S.prototype),S)L[k]=S[k];L.prototype.setClusterId=function(H){this.clusterID=H},L.prototype.getClusterId=function(){return this.clusterID},L.prototype.setId=function(H){this.ID=H},L.prototype.getId=function(){return this.ID},L.prototype.setAsOnCircleNode=function(){return this.onCircleNodeExt=new V(this),this.onCircleNodeExt},L.prototype.setAsNonOnCircleNode=function(){this.onCircleNodeExt=null},L.prototype.getOnCircleNodeExt=function(){return this.onCircleNodeExt},L.prototype.getLimitedDisplacement=function(H){return Math.abs(H)>A.MAX_NODE_DISPLACEMENT&&(H=A.MAX_NODE_DISPLACEMENT*R.sign(H)),H},L.prototype.getOnCircleNeighbors=function(){for(var H=Array.from(this.getNeighborsList()),$=[],Q=0;Q<H.length;Q++){var ue=H[Q];null!==ue.getOnCircleNodeExt()&&ue.getClusterId()===this.getClusterId()&&$.push(ue)}return $},L.prototype.getNoOfChildren=function(){return null===this.getChild()||void 0===this.getChild()?1:this.getChild().getNodes().length},L.prototype.move=function(){var H=this.getOwner().getGraphManager().getLayout();if(this.displacementX=this.getLimitedDisplacement(this.displacementX),this.displacementY=this.getLimitedDisplacement(this.displacementY),null!==this.getChild()&&void 0!==this.getChild()){var $=this.getChild().getNodes().length;this.displacementX/=$,this.displacementY/=$;for(var Q=this.getChild().getNodes(),ue=0;ue<Q.length;ue++)Q[ue].moveBy(this.displacementX,this.displacementY),H.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)}this.moveBy(this.displacementX,this.displacementY),H.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),null!==this.getChild()&&void 0!==this.getChild()&&this.getChild().updateBounds(!0)},L.prototype.reset=function(){this.displacementX=0,this.displacementY=0},N.exports=L},function(N,I,C){"use strict";var S=C(0).layoutBase.IGeometry;function R(A){this.ciseNode=A,this.intraClusterEdges=null,this.interClusterEdges=null,this.angle=-1,this.orderIndex=-1,this.canSwapWithNext=null,this.canSwapWithPrevious=null,this.displacementForSwap=null}(R.prototype=Object.create(null)).getCiseNode=function(){return this.ciseNode},R.prototype.getAngle=function(){return this.angle},R.prototype.setAngle=function(A){this.angle=A%S.TWO_PI,this.angle<0&&(this.angle+=S.TWO_PI)},R.prototype.getIndex=function(){return this.orderIndex},R.prototype.setIndex=function(A){this.orderIndex=A},R.prototype.getCharCode=function(){return this.orderIndex<26?String.fromCharCode(97+this.orderIndex):this.orderIndex<52?String.fromCharCode(65+this.orderIndex):"?"},R.prototype.getNextNode=function(){var A=this.ciseNode.getOwner(),V=A.getOnCircleNodes().length,L=this.orderIndex+1;return L===V&&(L=0),A.getOnCircleNodes()[L]},R.prototype.getPrevNode=function(){var A=this.ciseNode.getOwner(),V=this.orderIndex-1;return-1===V&&(V=A.getOnCircleNodes().length-1),A.getOnCircleNodes()[V]},R.prototype.getNextNodeExt=function(){return this.getNextNode().getOnCircleNodeExt()},R.prototype.prevNextNodeExt=function(){return this.getPrevNode().getOnCircleNodeExt()},R.prototype.canSwapWithNext=function(){return this.canSwapWithNext},R.prototype.canSwapWithPrev=function(){return this.canSwapWithPrev},R.prototype.getDisplacementForSwap=function(){return this.displacementForSwap},R.prototype.setDisplacementForSwap=function(A){this.displacementForSwap=A},R.prototype.addDisplacementForSwap=function(A){this.displacementForSwap=A},R.prototype.updatePosition=function(){var A=this.ciseNode.getOwner(),V=A.getParent(),L=V.getCenterX(),k=V.getCenterY(),H=A.getRadius()*Math.cos(this.angle),$=A.getRadius()*Math.sin(this.angle);this.ciseNode.setCenter(L+H,k+$)},R.prototype.getCircDistWithTheNode=function(A){var V=A.getIndex();if(-1===V||-1===this.getIndex())return-1;var L=this.getIndex()-V;return L<0&&(L+=this.ciseNode.getOwner().getOnCircleNodes().length),L},R.prototype.calculateTotalCrossing=function(){var A=this.getIntraClusterEdges(),V=0,L=[];return this.ciseNode.getOwner().getIntraClusterEdges().forEach(function(k){L.push(k)}),this.ciseNode.getEdges().forEach(function(k){var H=L.indexOf(k);H>-1&&L.splice(H,1)}),A.forEach(function(k){V+=k.calculateTotalCrossingWithList(L)}),V},R.prototype.updateSwappingConditions=function(){var A=this.calculateTotalCrossing(),V=this.orderIndex,L=this.getNextNode().getOnCircleNodeExt();this.orderIndex=L.getIndex(),L.setIndex(V);var k=this.calculateTotalCrossing();this.canSwapWithNext=k<=A,L.setIndex(this.orderIndex),this.setIndex(V);var H=this.getPrevNode().getOnCircleNodeExt();this.orderIndex=H.getIndex(),H.setIndex(V),k=this.calculateTotalCrossing(),this.canSwapWithPrevious=k<=A,H.setIndex(this.orderIndex),this.setIndex(V)},R.prototype.swapWith=function(A){this.ciseNode.getOwner().swapNodes(this.ciseNode,A.ciseNode)},R.prototype.getInterClusterIntersections=function(A){for(var V=0,L=this.getInterClusterEdges(),k=A.getInterClusterEdges(),H=0;H<L.length;H++)for(var $=L[H],Q=this.ciseNode.getCenter(),ue=$.getOtherEnd(this.ciseNode).getCenter(),ne=0;ne<k.length;ne++){var le=k[ne],ae=A.ciseNode.getCenter(),de=le.getOtherEnd(A.ciseNode).getCenter();$.getOtherEnd(this.ciseNode)!==le.getOtherEnd(A.ciseNode)&&S.doIntersect(Q,ue,ae,de)&&V++}return V},R.prototype.getInterClusterEdges=function(){if(null===this.interClusterEdges){this.interClusterEdges=[];for(var A=this.ciseNode.getEdges(),V=0;V<A.length;V++){var L=A[V];L.isIntraCluster||this.interClusterEdges.push(L)}}return this.interClusterEdges},R.prototype.getIntraClusterEdges=function(){if(null===this.intraClusterEdges){this.intraClusterEdges=[];for(var A=this.ciseNode.getEdges(),V=0;V<A.length;V++){var L=A[V];L.isIntraCluster&&this.intraClusterEdges.push(L)}}return this.intraClusterEdges},N.exports=R},function(N,I,C){"use strict";function S(R,A,V,L){this.firstNode=R,this.secondNode=A,this.discrepancy=V,this.inSameDir=L}(S.prototype=Object.create).getDiscrepancy=function(){return this.discrepancy},S.prototype.inSameDirection=function(){return this.inSameDir},S.prototype.getFirstNode=function(){return this.firstNode},S.prototype.getSecondNode=function(){return this.secondNode},S.prototype.compareTo=function(R){return this.getDiscrepancy()-R.getDiscrepancy()},S.prototype.swap=function(){this.getFirstNode().getOnCircleNodeExt().swapWith(this.getSecondNode().getOnCircleNodeExt())},S.prototype.equals=function(R){var A=R instanceof S;if(A){var V=R;A&=this.firstNode.equals(V.getFirstNode())&&this.secondNode.equals(V.getSecondNode())||this.secondNode.equals(V.getFirstNode())&&this.firstNode.equals(V.getSecondNode())}return A},S.prototype.hashCode=function(){return this.firstNode.hashCode()+this.secondNode.hashCode()},S.prototype.toString=function(){var R="Swap: "+this.getFirstNode().label;return(R+="<->"+this.getSecondNode().label)+", "+this.getDiscrepancy()},N.exports=S},function(N,I,C){"use strict";function S(R,A,V){this.rotationAmount=R,this.displacementX=A,this.displacementY=V}S.prototype.getRotationAmount=function(){return this.rotationAmount},S.prototype.setRotationAmount=function(R){this.rotationAmount=R},S.prototype.getDisplacementX=function(){return this.displacementX},S.prototype.setDisplacementX=function(R){this.displacementX=R},S.prototype.getDisplacementY=function(){return this.displacementY},S.prototype.setDisplacementY=function(R){this.displacementY=R},N.exports=S},function(N,I,C){"use strict";var S=C(4),R=function(V){V&&V("layout","cise",S)};typeof cytoscape<"u"&&R(cytoscape),N.exports=R},function(N,I,C){"use strict";var S=function(){function te(pe,q){for(var oe=0;oe<q.length;oe++){var ie=q[oe];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(pe,ie.key,ie)}}return function(pe,q,oe){return q&&te(pe.prototype,q),oe&&te(pe,oe),pe}}(),R=function te(pe,q,oe){null===pe&&(pe=Function.prototype);var ie=Object.getOwnPropertyDescriptor(pe,q);if(void 0===ie){var me=Object.getPrototypeOf(pe);return null===me?void 0:te(me,q,oe)}if("value"in ie)return ie.value;var we=ie.get;return void 0===we?void 0:we.call(oe)};var k=C(10),H=C(1),$=C(0).layoutBase.FDLayoutConstants,Q=C(18),ue=Q.defaults,ne=C(2),de=function(te){function pe(q){!function A(te,pe){if(!(te instanceof pe))throw new TypeError("Cannot call a class as a function")}(this,pe);var oe=function V(te,pe){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!pe||"object"!=typeof pe&&"function"!=typeof pe?te:pe}(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,ne({},ue,q)));return H.DEFAULT_NODE_SEPARATION=null!=q.nodeSeparation?q.nodeSeparation:$.DEFAULT_EDGE_LENGTH/4,H.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF=null!=q.idealInterClusterEdgeLengthCoefficient?q.idealInterClusterEdgeLengthCoefficient:1.4,H.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE=null!=q.allowNodesInsideCircle&&q.allowNodesInsideCircle,H.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=null!=q.maxRatioOfNodesInsideCircle?q.maxRatioOfNodesInsideCircle:.1,H.DEFAULT_SPRING_STRENGTH=null!=q.springCoeff?q.springCoeff:1.5*$.DEFAULT_SPRING_STRENGTH,null!=q.nodeRepulsion&&(H.DEFAULT_REPULSION_STRENGTH=$.DEFAULT_REPULSION_STRENGTH=q.nodeRepulsion),null!=q.gravity&&(H.DEFAULT_GRAVITY_STRENGTH=$.DEFAULT_GRAVITY_STRENGTH=q.gravity),null!=q.gravityRange&&(H.DEFAULT_GRAVITY_RANGE_FACTOR=$.DEFAULT_GRAVITY_RANGE_FACTOR=q.gravityRange),H.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=null!=q.maxRatioOfNodesInsideCircle?q.maxRatioOfNodesInsideCircle:.1,oe}return function L(te,pe){if("function"!=typeof pe&&null!==pe)throw new TypeError("Super expression must either be null or a function, not "+typeof pe);te.prototype=Object.create(pe&&pe.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),pe&&(Object.setPrototypeOf?Object.setPrototypeOf(te,pe):te.__proto__=pe)}(pe,te),S(pe,[{key:"prerun",value:function(){var oe=this.state,ie=[[]];null!=this.options.clusters&&(ie=this.options.clusters);var me=oe.nodes,we=oe.edges,Se=this.ciseLayout=new k,De=this.graphManager=Se.newGraphManager(),ze=this.root=De.addRoot();this.idToLNode=Se.convertToClusteredGraph(me,we,ie),ze.updateConnected(),ze.calcEstimatedSize(),Se.calcNoOfChildrenForAllNodes(),Se.doStep1(),Se.doStep2(),ze.updateBounds(!0),ze.estimatedSize=Math.max(ze.right-ze.left,ze.bottom-ze.top),Se.prepareCirclesForReversal(),Se.calcIdealEdgeLengths(!1),this.initializerIndex=0,this.isDone=!1,this.isStepDone=!1,this.timeToSwitchNextStep=!0}},{key:"tick",value:function(){var oe=this,ie=this;if(this.state.nodes.forEach(function(we){var Se=oe.getScratch(we),De=ie.idToLNode[we.data("id")];Se.x=De.getCenterX(),Se.y=De.getCenterY()}),this.timeToSwitchNextStep){switch(this.initializerIndex){case 0:case 2:this.ciseLayout.step5Init();break;case 1:this.ciseLayout.step3Init();break;case 3:this.ciseLayout.step4Init();break;case 4:this.ciseLayout.findAndMoveInnerNodes(),this.ciseLayout.calcIdealEdgeLengths(!0),this.ciseLayout.step5Init()}this.initializerIndex++,this.ciseLayout.iterations=0,this.ciseLayout.totalDisplacement=1e3,this.timeToSwitchNextStep=!1}return this.isStepDone=this.ciseLayout.runSpringEmbedderTick(),this.isStepDone&&this.initializerIndex<5&&(this.timeToSwitchNextStep=!0),this.isStepDone&&!1===this.timeToSwitchNextStep&&(this.isDone=!0),this.isDone}},{key:"postrun",value:function(){}},{key:"destroy",value:function(){return R(pe.prototype.__proto__||Object.getPrototypeOf(pe.prototype),"destroy",this).call(this),this}}]),pe}(Q);N.exports=de},function(N,I,C){"use strict";N.exports=Object.freeze({animate:!1,refresh:10,maxIterations:2500,maxSimulationTime:5e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,infinite:!1})},function(N,I,C){"use strict";var S=function(){function ae(de,te){for(var pe=0;pe<te.length;pe++){var q=te[pe];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(de,q.key,q)}}return function(de,te,pe){return te&&ae(de.prototype,te),pe&&ae(de,pe),de}}();var A=C(2),V=C(17),L=C(19),k=C(20),H=k.setInitialPositionState,$=k.refreshPositions,Q=k.getNodePositionData,ne=C(21).multitick,le=function(){function ae(de){!function R(ae,de){if(!(ae instanceof de))throw new TypeError("Cannot call a class as a function")}(this,ae);var te=this.options=A({},V,de),pe=this.state=A({},te,{layout:this,nodes:te.eles.nodes(),edges:te.eles.edges(),tickIndex:0,firstUpdate:!0});pe.animateEnd=te.animate&&"end"===te.animate,pe.animateContinuously=te.animate&&!pe.animateEnd}return S(ae,[{key:"getScratch",value:function(te){var pe=this.state.name,q=te.scratch(pe);return q||te.scratch(pe,q={}),q}},{key:"run",value:function(){var te=this,pe=this.state;if(pe.tickIndex=0,pe.firstUpdate=!0,pe.startTime=Date.now(),pe.running=!0,pe.currentBoundingBox=L(pe.boundingBox,pe.cy),pe.ready&&te.one("ready",pe.ready),pe.stop&&te.one("stop",pe.stop),pe.nodes.forEach(function(zt){return H(zt,pe)}),te.prerun(pe),pe.animateContinuously){var me=function(It){!function(It){Q(It,pe).grabbed=It.grabbed()}(It.target)},we=me,Se=function(It){var bn=It.target,hn=Q(bn,pe),ut=bn.position();hn.x=ut.x,hn.y=ut.y},Be=function(){pe.fit&&pe.animateContinuously&&pe.cy.fit(pe.padding)},st=function(){$(pe.nodes,pe),Be(),requestAnimationFrame(ht)},ht=function(){ne(pe,st,Ze)},Ze=function(){$(pe.nodes,pe),Be(),pe.nodes.forEach(function(It){(function(It){pe.ungrabifyWhileSimulating&&Q(It,pe).grabbable&&It.grabify()})(It),function(It){It.removeListener("grab",me),It.removeListener("free",we),It.removeListener("drag",Se)}(It)}),pe.running=!1,te.emit("layoutstop")};te.emit("layoutstart"),pe.nodes.forEach(function(zt){var It;It=zt,pe.ungrabifyWhileSimulating&&(Q(It,pe).grabbable=It.grabbable())&&It.ungrabify(),function(It){It.on("grab",me),It.on("free",we),It.on("drag",Se)}(zt)}),ht()}else{for(var Ct=!1,Qe=function(){},Zt=function(){return Ct=!0};!Ct;)ne(pe,Qe,Zt);pe.eles.layoutPositions(this,pe,function(zt){var It=Q(zt,pe);return{x:It.x,y:It.y}})}return te.postrun(pe),this}},{key:"prerun",value:function(){}},{key:"postrun",value:function(){}},{key:"tick",value:function(){}},{key:"stop",value:function(){return this.state.running=!1,this}},{key:"destroy",value:function(){return this}}]),ae}();N.exports=le},function(N,I,C){"use strict";N.exports=function(S,R){return null==(S=null==S?{x1:0,y1:0,w:R.width(),h:R.height()}:{x1:S.x1,x2:S.x2,y1:S.y1,y2:S.y2,w:S.w,h:S.h}).x2&&(S.x2=S.x1+S.w),null==S.w&&(S.w=S.x2-S.x1),null==S.y2&&(S.y2=S.y1+S.h),null==S.h&&(S.h=S.y2-S.y1),S}},function(N,I,C){"use strict";var S=C(2);N.exports={setInitialPositionState:function(k,H){var $=k.position(),Q=H.currentBoundingBox,ue=k.scratch(H.name);null==ue&&k.scratch(H.name,ue={}),S(ue,H.randomize?{x:Q.x1+Math.round(Math.random()*Q.w),y:Q.y1+Math.round(Math.random()*Q.h)}:{x:$.x,y:$.y}),ue.locked=k.locked()},getNodePositionData:function(k,H){return k.scratch(H.name)},refreshPositions:function(k,H){k.positions(function($){var Q=$.scratch(H.name);return{x:Q.x,y:Q.y}})}}},function(N,I,C){"use strict";var S=function(){},R=function(L){var k=L,$=L.layout.tick(k);return k.firstUpdate&&(k.animateContinuously&&k.layout.emit("layoutready"),k.firstUpdate=!1),k.tickIndex++,!k.infinite&&$};N.exports={tick:R,multitick:function(L){for(var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,$=!1,Q=L,ue=0;ue<Q.refresh&&!($=!Q.running||R(Q));ue++);$?H():k()}}}]))},7944:function(Y,se,D){var T;Y.exports=(T=D(8767),function(P){var N={};function I(C){if(N[C])return N[C].exports;var S=N[C]={i:C,l:!1,exports:{}};return P[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=P,I.c=N,I.d=function(C,S,R){I.o(C,S)||Object.defineProperty(C,S,{enumerable:!0,get:R})},I.r=function(C){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},I.t=function(C,S){if(1&S&&(C=I(C)),8&S||4&S&&"object"==typeof C&&C&&C.__esModule)return C;var R=Object.create(null);if(I.r(R),Object.defineProperty(R,"default",{enumerable:!0,value:C}),2&S&&"string"!=typeof C)for(var A in C)I.d(R,A,function(V){return C[V]}.bind(null,A));return R},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=0)}([function(P,N,I){var C=I(1),S=function(A){A&&A("layout","dagre",C)};typeof cytoscape<"u"&&S(cytoscape),P.exports=S},function(P,N,I){function C(k){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function($){return typeof $}:function($){return $&&"function"==typeof Symbol&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(k)}var S=function(H){return"function"==typeof H},R=I(2),A=I(3),V=I(4);function L(k){this.options=A({},R,k)}L.prototype.run=function(){var k=this.options,$=k.cy,Q=k.eles,ue=function(Zt,zt){return S(zt)?zt.apply(Zt,[Zt]):zt},ne=k.boundingBox||{x1:0,y1:0,w:$.width(),h:$.height()};void 0===ne.x2&&(ne.x2=ne.x1+ne.w),void 0===ne.w&&(ne.w=ne.x2-ne.x1),void 0===ne.y2&&(ne.y2=ne.y1+ne.h),void 0===ne.h&&(ne.h=ne.y2-ne.y1);var le=new V.graphlib.Graph({multigraph:!0,compound:!0}),ae={},de=function(Zt,zt){null!=zt&&(ae[Zt]=zt)};de("nodesep",k.nodeSep),de("edgesep",k.edgeSep),de("ranksep",k.rankSep),de("rankdir",k.rankDir),de("align",k.align),de("ranker",k.ranker),de("acyclicer",k.acyclicer),le.setGraph(ae),le.setDefaultEdgeLabel(function(){return{}}),le.setDefaultNodeLabel(function(){return{}});var te=Q.nodes();S(k.sort)&&(te=te.sort(k.sort));for(var pe=0;pe<te.length;pe++){var q=te[pe],oe=q.layoutDimensions(k);le.setNode(q.id(),{width:oe.w,height:oe.h,name:q.id()})}for(var ie=0;ie<te.length;ie++){var me=te[ie];me.isChild()&&le.setParent(me.id(),me.parent().id())}var Ze,we=Q.edges().stdFilter(function(Qe){return!Qe.source().isParent()&&!Qe.target().isParent()});S(k.sort)&&(we=we.sort(k.sort));for(var Se=0;Se<we.length;Se++){var De=we[Se];le.setEdge(De.source().id(),De.target().id(),{minlen:ue(De,k.minLen),weight:ue(De,k.edgeWeight),name:De.id()},De.id())}V.layout(le);for(var ze=le.nodes(),Be=0;Be<ze.length;Be++){var st=ze[Be],ht=le.node(st);$.getElementById(st).scratch().dagre=ht}k.boundingBox?(Ze={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},te.forEach(function(Qe){var Zt=Qe.scratch().dagre;Ze.x1=Math.min(Ze.x1,Zt.x),Ze.x2=Math.max(Ze.x2,Zt.x),Ze.y1=Math.min(Ze.y1,Zt.y),Ze.y2=Math.max(Ze.y2,Zt.y)}),Ze.w=Ze.x2-Ze.x1,Ze.h=Ze.y2-Ze.y1):Ze=ne;return te.layoutPositions(this,k,function(Qe){var Zt=(Qe="object"===C(Qe)?Qe:this).scratch().dagre;return function(Zt){return k.boundingBox?{x:ne.x1+(0===Ze.w?0:(Zt.x-Ze.x1)/Ze.w)*ne.w,y:ne.y1+(0===Ze.h?0:(Zt.y-Ze.y1)/Ze.h)*ne.h}:Zt}({x:Zt.x,y:Zt.y})}),this},P.exports=L},function(P,N){P.exports={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(S){return 1},edgeWeight:function(S){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(S,R){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(S,R){return R},ready:function(){},sort:void 0,stop:function(){}}},function(P,N){P.exports=null!=Object.assign?Object.assign.bind(Object):function(I){for(var C=arguments.length,S=new Array(C>1?C-1:0),R=1;R<C;R++)S[R-1]=arguments[R];return S.forEach(function(A){Object.keys(A).forEach(function(V){return I[V]=A[V]})}),I}},function(P,N){P.exports=T}]))},3848:function(Y,se,D){var T;Y.exports=(T=D(7925),function(P){var N={};function I(C){if(N[C])return N[C].exports;var S=N[C]={i:C,l:!1,exports:{}};return P[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=P,I.c=N,I.i=function(C){return C},I.d=function(C,S,R){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:R})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=7)}([function(P,N,I){"use strict";P.exports=null!=Object.assign?Object.assign.bind(Object):function(C){for(var S=arguments.length,R=Array(S>1?S-1:0),A=1;A<S;A++)R[A-1]=arguments[A];return R.forEach(function(V){null!=V&&Object.keys(V).forEach(function(L){return C[L]=V[L]})}),C}},function(P,N,I){"use strict";var S=I(5).getBoundingBox;P.exports={getRef:function R(A,V){return{getBoundingClientRect:function(){return S(A,V)}}}}},function(P,N,I){"use strict";var C=I(0),R=I(1).getRef,V=I(6).getContent,L={},H=I(8).createPopper;P.exports={getPopper:function $(Q,ue){var ne=R(Q,ue),le=V(Q,ue.content),ae=C({},L,ue.popper);return H(ne,le,ae)}}},function(P,N,I){"use strict";var C=I(0),R=I(2).getPopper,V=I(1).getRef;function H(ne,le){var ae=function(ie){return ie.isNode()?{w:ie.renderedWidth(),h:ie.renderedHeight()}:{w:3,h:3}},pe=ne.cy();return C({},{renderedDimensions:ae,renderedPosition:function(ie){return ie.isNode()?function $(ne,le){var ae=ne.renderedPosition(),de=le(ne);return{x:ae.x-de.w/2,y:ae.y-de.h/2}}(ie,ae):function Q(ne){var le=ne.midpoint(),ae=ne.cy().pan(),de=ne.cy().zoom();return{x:le.x*de+ae.x,y:le.y*de+ae.y}}(ie)},popper:{},cy:pe},le)}function ue(ne){ne.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}P.exports={popper:function L(ne){return ue(this),R(this[0],H(this[0],ne))},popperRef:function k(ne){return ue(this),V(this[0],H(this[0],ne))}}},function(P,N,I){"use strict";var C=I(0),R=I(2).getPopper,V=I(1).getRef;function H($,Q){return C({},{boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},renderedPosition:function(){return{x:0,y:0}},popper:{},cy:$},Q)}P.exports={popper:function L($){return R(this,H(this,$))},popperRef:function k($){return V(this,H(this,$))}}},function(P,N,I){"use strict";P.exports={getBoundingBox:function C(S,R){var A=R.renderedPosition,L=R.renderedDimensions,k=R.cy.container().getBoundingClientRect(),H=L(S),$=A(S);return{top:$.y+k.top,left:$.x+k.left,right:$.x+H.w+k.left,bottom:$.y+H.h+k.top,width:H.w,height:H.h}}}},function(P,N,I){"use strict";P.exports={getContent:function C(S,R){var A;if("function"!=typeof R){if(R instanceof HTMLElement)return R;throw new Error("Can not create popper from 'target' with unknown type")}if(null===(A=R(S)))throw new Error("No 'target' specified to create popper");return A}}},function(P,N,I){"use strict";var C=I(4),S=I(3),R=function(V){V&&(V("core","popper",C.popper),V("collection","popper",S.popper),V("core","popperRef",C.popperRef),V("collection","popperRef",S.popperRef))};typeof cytoscape<"u"&&R(cytoscape),P.exports=R},function(P,N){P.exports=T}]))},6100:(Y,se,D)=>{"use strict";var T=D(4430),P=D(7444),N=D(5440),I=D(7939),C=D(9078);function S(u){return u&&"object"==typeof u&&"default"in u?u:{default:u}}var R=S(T),A=S(P),V=S(N),L=S(I),k=S(C);function H(u){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(u)}function $(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function Q(u,o){for(var l=0;l<o.length;l++){var f=o[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}function ue(u,o,l){return o&&Q(u.prototype,o),l&&Q(u,l),Object.defineProperty(u,"prototype",{writable:!1}),u}function ne(u,o,l){return o in u?Object.defineProperty(u,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):u[o]=l,u}function le(u,o){return function ae(u){if(Array.isArray(u))return u}(u)||function de(u,o){var l=null==u?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(null!=l){var g,w,f=[],h=!0,p=!1;try{for(l=l.call(u);!(h=(g=l.next()).done)&&(f.push(g.value),!o||f.length!==o);h=!0);}catch(E){p=!0,w=E}finally{try{!h&&null!=l.return&&l.return()}finally{if(p)throw w}}return f}}(u,o)||function te(u,o){if(u){if("string"==typeof u)return pe(u,o);var l=Object.prototype.toString.call(u).slice(8,-1);if("Object"===l&&u.constructor&&(l=u.constructor.name),"Map"===l||"Set"===l)return Array.from(u);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return pe(u,o)}}(u,o)||function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(u,o){(null==o||o>u.length)&&(o=u.length);for(var l=0,f=new Array(o);l<o;l++)f[l]=u[l];return f}var oe=typeof window>"u"?null:window,ie=oe?oe.navigator:null,me=H(""),we=H({}),Se=H(function(){}),De=typeof HTMLElement>"u"?"undefined":H(HTMLElement),ze=function(o){return o&&o.instanceString&&st(o.instanceString)?o.instanceString():null},Be=function(o){return null!=o&&H(o)==me},st=function(o){return null!=o&&H(o)===Se},ht=function(o){return!It(o)&&(Array.isArray?Array.isArray(o):null!=o&&o instanceof Array)},Ze=function(o){return null!=o&&H(o)===we&&!ht(o)&&o.constructor===Object},Qe=function(o){return null!=o&&H(o)===H(1)&&!isNaN(o)},zt=function(o){if("undefined"!==De)return null!=o&&o instanceof HTMLElement},It=function(o){return bn(o)||hn(o)},bn=function(o){return"collection"===ze(o)&&o._private.single},hn=function(o){return"collection"===ze(o)&&!o._private.single},ut=function(o){return"core"===ze(o)},it=function(o){return"stylesheet"===ze(o)},Ft=function(o){return null==o||!(""!==o&&!o.match(/^\s+$/))},Jn=function(o){return function(o){return null!=o&&H(o)===we}(o)&&st(o.then)},Lr=function(o,l){l||(l=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var p=[],g=0;g<arguments.length;g++)p.push(arguments[g]);return p.join("$")});var f=function h(){var w,g=arguments,E=l.apply(this,g),x=h.cache;return(w=x[E])||(w=x[E]=o.apply(this,g)),w};return f.cache={},f},Er=Lr(function(u){return u.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}),Dn=Lr(function(u){return u.replace(/(-\w)/g,function(o){return o[1].toUpperCase()})}),zn=Lr(function(u,o){return u+o[0].toUpperCase()+o.substring(1)},function(u,o){return u+"$"+o}),qr=function(o){return Ft(o)?o:o.charAt(0).toUpperCase()+o.substring(1)},pn="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Ri="rgb[a]?\\(("+pn+"[%]?)\\s*,\\s*("+pn+"[%]?)\\s*,\\s*("+pn+"[%]?)(?:\\s*,\\s*("+pn+"))?\\)",ro="rgb[a]?\\((?:"+pn+"[%]?)\\s*,\\s*(?:"+pn+"[%]?)\\s*,\\s*(?:"+pn+"[%]?)(?:\\s*,\\s*(?:"+pn+"))?\\)",Fi="hsl[a]?\\(("+pn+")\\s*,\\s*("+pn+"[%])\\s*,\\s*("+pn+"[%])(?:\\s*,\\s*("+pn+"))?\\)",Bi="hsl[a]?\\((?:"+pn+")\\s*,\\s*(?:"+pn+"[%])\\s*,\\s*(?:"+pn+"[%])(?:\\s*,\\s*(?:"+pn+"))?\\)",Ya=function(o,l){return o<l?-1:o>l?1:0},kn=null!=Object.assign?Object.assign.bind(Object):function(u){for(var o=arguments,l=1;l<o.length;l++){var f=o[l];if(null!=f)for(var h=Object.keys(f),p=0;p<h.length;p++){var g=h[p];u[g]=f[g]}}return u},Os={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Sn=function(o){for(var l=o.map,f=o.keys,h=f.length,p=0;p<h;p++){var g=f[p];if(Ze(g))throw Error("Tried to set map with object key");p<f.length-1?(null==l[g]&&(l[g]={}),l=l[g]):l[g]=o.value}},ya=function(o){for(var l=o.map,f=o.keys,h=f.length,p=0;p<h;p++){var g=f[p];if(Ze(g))throw Error("Tried to get map with object key");if(null==(l=l[g]))return l}return l},go=oe?oe.performance:null,gi=go&&go.now?function(){return go.now()}:function(){return Date.now()},qi=function(){if(oe){if(oe.requestAnimationFrame)return function(u){oe.requestAnimationFrame(u)};if(oe.mozRequestAnimationFrame)return function(u){oe.mozRequestAnimationFrame(u)};if(oe.webkitRequestAnimationFrame)return function(u){oe.webkitRequestAnimationFrame(u)};if(oe.msRequestAnimationFrame)return function(u){oe.msRequestAnimationFrame(u)}}return function(u){u&&setTimeout(function(){u(gi())},1e3/60)}}(),bu=function(o){return qi(o)},Ti=gi,Aa=9261,Qs=5381,rd=function(o){for(var h,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Aa;!(h=o.next()).done;)f=65599*f+h.value|0;return f},Oa=function(o){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Aa)+o|0},Js=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qs;return(l<<5)+l+o|0},us=function(o){return 2097152*o[0]+o[1]},Na=function(o,l){return[Oa(o[0],l[0]),Js(o[1],l[1])]},cs=function(o,l){var f={value:0,done:!1},h=0,p=o.length;return rd({next:function(){return h<p?f.value=o.charCodeAt(h++):f.done=!0,f}},l)},od=function(){return _u(arguments)},_u=function(o){for(var l,f=0;f<o.length;f++){var h=o[f];l=0===f?cs(h):cs(h,l)}return l},ic=!0,Ro=null!=console.warn,ad=null!=console.trace,oc=Number.MAX_SAFE_INTEGER||9007199254740991,ac=function(){return!0},Ns=function(){return!1},sc=function(){return 0},sd=function(){},oi=function(o){throw new Error(o)},Ra=function(o){if(void 0===o)return ic;ic=!!o},Ir=function(o){Ra()&&(Ro?console.warn(o):(console.log(o),ad&&console.trace()))},ki=function(o){return null==o?o:ht(o)?o.slice():Ze(o)?function(o){return kn({},o)}(o):o},gf=function(o,l){for(l=o="";o++<36;l+=51*o&52?(15^o?8^Math.random()*(20^o?16:4):4).toString(16):"-");return l},Pi={},Tn=function(){return Pi},ui=function(o){var l=Object.keys(o);return function(f){for(var h={},p=0;p<l.length;p++){var g=l[p],w=f?.[g];h[g]=void 0===w?o[g]:w}return h}},Ka=function(o,l,f){for(var h=o.length-1;h>=0&&(o[h]!==l||(o.splice(h,1),!f));h--);},ko=function(o){o.splice(0,o.length)},Qi=function(o,l,f){return f&&(l=zn(f,l)),o[l]},Po=function(o,l,f,h){f&&(l=zn(f,l)),o[l]=h},Tt=typeof Map<"u"?Map:function(){function u(){$(this,u),this._obj={}}return ue(u,[{key:"set",value:function(l,f){return this._obj[l]=f,this}},{key:"delete",value:function(l){return this._obj[l]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(l){return void 0!==this._obj[l]}},{key:"get",value:function(l){return this._obj[l]}}]),u}(),ud=function(){function u(o){if($(this,u),this._obj=Object.create(null),this.size=0,null!=o){var l;l=null!=o.instanceString&&o.instanceString()===this.instanceString()?o.toArray():o;for(var f=0;f<l.length;f++)this.add(l[f])}}return ue(u,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(l){var f=this._obj;1!==f[l]&&(f[l]=1,this.size++)}},{key:"delete",value:function(l){var f=this._obj;1===f[l]&&(f[l]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(l){return 1===this._obj[l]}},{key:"toArray",value:function(){var l=this;return Object.keys(this._obj).filter(function(f){return l.has(f)})}},{key:"forEach",value:function(l,f){return this.toArray().forEach(l,f)}}]),u}(),Rs="undefined"!==(typeof Set>"u"?"undefined":H(Set))?Set:ud,Oe=function(o,l){var f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==o&&void 0!==l&&ut(o)){var h=l.group;if(null==h&&(h=l.data&&null!=l.data.source&&null!=l.data.target?"edges":"nodes"),"nodes"===h||"edges"===h){this.length=1,this[0]=this;var p=this._private={cy:o,single:!0,data:l.data||{},position:l.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:h,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!l.selected,selectable:void 0===l.selectable||!!l.selectable,locked:!!l.locked,grabbed:!1,grabbable:void 0===l.grabbable||!!l.grabbable,pannable:void 0===l.pannable?"edges"===h:!!l.pannable,active:!1,classes:new Rs,animation:{current:[],queue:[]},rscratch:{},scratch:l.scratch||{},edges:[],children:[],parent:l.parent&&l.parent.isNode()?l.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==p.position.x&&(p.position.x=0),null==p.position.y&&(p.position.y=0),l.renderedPosition){var g=l.renderedPosition,w=o.pan(),E=o.zoom();p.position={x:(g.x-w.x)/E,y:(g.y-w.y)/E}}var x=[];ht(l.classes)?x=l.classes:Be(l.classes)&&(x=l.classes.split(/\s+/));for(var M=0,F=x.length;M<F;M++){var z=x[M];!z||""===z||p.classes.add(z)}this.createEmitter();var W=l.style||l.css;W&&(Ir("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(W)),(void 0===f||f)&&this.restore()}else oi("An element must be of type `nodes` or `edges`; you specified `"+h+"`")}else oi("An element must have a core reference and parameters set")},Re=function(o){return o={bfs:o.bfs||!o.dfs,dfs:o.dfs||!o.bfs},function(f,h,p){var g;Ze(f)&&!It(f)&&(f=(g=f).roots||g.root,h=g.visit,p=g.directed),p=2!==arguments.length||st(h)?p:h,h=st(h)?h:function(){};for(var Z,w=this._private.cy,E=f=Be(f)?this.filter(f):f,x=[],M=[],F={},z={},W={},j=0,J=this.byGroup(),re=J.nodes,fe=J.edges,he=0;he<E.length;he++){var ye=E[he],Ie=ye.id();ye.isNode()&&(x.unshift(ye),o.bfs&&(W[Ie]=!0,M.push(ye)),z[Ie]=0)}for(var Ae=function(){var He=o.bfs?x.shift():x.pop(),Ne=He.id();if(o.dfs){if(W[Ne])return"continue";W[Ne]=!0,M.push(He)}var bt,Je=z[Ne],Ue=F[Ne],We=null!=Ue?Ue.source():null,at=null!=Ue?Ue.target():null,dt=null==Ue?void 0:He.same(We)?at[0]:We[0];if(!0===(bt=h(He,Ue,dt,j++,Je)))return Z=He,"break";if(!1===bt)return"break";for(var lt=He.connectedEdges().filter(function(wt){return(!p||wt.source().same(He))&&fe.has(wt)}),yt=0;yt<lt.length;yt++){var At=lt[yt],Ot=At.connectedNodes().filter(function(wt){return!wt.same(He)&&re.has(wt)}),Dt=Ot.id();0!==Ot.length&&!W[Dt]&&(x.push(Ot=Ot[0]),o.bfs&&(W[Dt]=!0,M.push(Ot)),F[Dt]=At,z[Dt]=z[Ne]+1)}};0!==x.length;){var be=Ae();if("continue"!==be&&"break"===be)break}for(var Te=w.collection(),_e=0;_e<M.length;_e++){var ke=M[_e],Pe=F[ke.id()];null!=Pe&&Te.push(Pe),Te.push(ke)}return{path:w.collection(Te),found:w.collection(Z)}}},Ve={breadthFirstSearch:Re({bfs:!0}),depthFirstSearch:Re({dfs:!0})};Ve.bfs=Ve.breadthFirstSearch,Ve.dfs=Ve.depthFirstSearch;var rt=ui({root:null,weight:function(o){return 1},directed:!1}),tt={dijkstra:function(o){if(!Ze(o)){var l=arguments;o={root:l[0],weight:l[1],directed:l[2]}}var Ue,We,f=rt(o),h=f.root,g=f.directed,w=this,E=f.weight,x=Be(h)?this.filter(h)[0]:h[0],M={},F={},z={},W=this.byGroup(),j=W.nodes,Z=W.edges;Z.unmergeBy(function(Je){return Je.isLoop()});for(var J=function(Ue){return M[Ue.id()]},fe=new A.default(function(Je,Ue){return J(Je)-J(Ue)}),he=0;he<j.length;he++){var ye=j[he];M[ye.id()]=ye.same(x)?0:1/0,fe.push(ye)}for(var Ie=function(Ue,We){for(var bt,at=(g?Ue.edgesTo(We):Ue.edgesWith(We)).intersect(Z),dt=1/0,lt=0;lt<at.length;lt++){var yt=at[lt],At=E(yt);(At<dt||!bt)&&(dt=At,bt=yt)}return{edge:bt,dist:dt}};fe.size()>0;){var Ae=fe.pop(),be=J(Ae),Te=Ae.id();if(z[Te]=be,be!==1/0)for(var _e=Ae.neighborhood().intersect(j),ke=0;ke<_e.length;ke++){var Pe=_e[ke],xe=Pe.id(),He=Ie(Ae,Pe),Ne=be+He.dist;Ne<J(Pe)&&(We=Ne,M[(Ue=Pe).id()]=We,fe.updateItem(Ue),F[xe]={node:Ae,edge:He.edge})}}return{distanceTo:function(Ue){var We=Be(Ue)?j.filter(Ue)[0]:Ue[0];return z[We.id()]},pathTo:function(Ue){var We=Be(Ue)?j.filter(Ue)[0]:Ue[0],at=[],dt=We,bt=dt.id();if(We.length>0)for(at.unshift(We);F[bt];){var lt=F[bt];at.unshift(lt.edge),at.unshift(lt.node),bt=(dt=lt.node).id()}return w.spawn(at)}}}},Qt={kruskal:function(o){o=o||function(he){return 1};for(var l=this.byGroup(),f=l.nodes,h=l.edges,p=f.length,g=new Array(p),w=f,E=function(ye){for(var Ie=0;Ie<g.length;Ie++)if(g[Ie].has(ye))return Ie},x=0;x<p;x++)g[x]=this.spawn(f[x]);for(var M=h.sort(function(he,ye){return o(he)-o(ye)}),F=0;F<M.length;F++){var z=M[F],W=z.source()[0],j=z.target()[0],Z=E(W),J=E(j),re=g[Z],fe=g[J];Z!==J&&(w.merge(z),re.merge(fe),g.splice(J,1))}return w}},yn=ui({root:null,goal:null,weight:function(o){return 1},heuristic:function(o){return 0},directed:!1}),Ht={aStar:function(o){var l=this.cy(),f=yn(o),h=f.root,p=f.goal,g=f.heuristic,w=f.directed,E=f.weight;h=l.collection(h)[0],p=l.collection(p)[0];var he,ye,x=h.id(),M=p.id(),F={},z={},W={},j=new A.default(function(bt,lt){return z[bt.id()]-z[lt.id()]}),Z=new Rs,J={},re={},fe=function(lt,yt){j.push(lt),Z.add(yt)};fe(h,x),F[x]=0,z[x]=g(h);for(var be=0;j.size()>0;){if(ye=(he=j.pop()).id(),Z.delete(ye),be++,ye===M){for(var Te=[],_e=p,ke=M,Pe=re[ke];Te.unshift(_e),null!=Pe&&Te.unshift(Pe),null!=(_e=J[ke]);)Pe=re[ke=_e.id()];return{found:!0,distance:F[ye],path:this.spawn(Te),steps:be}}W[ye]=!0;for(var xe=he._private.edges,He=0;He<xe.length;He++){var Ne=xe[He];if(this.hasElementWithId(Ne.id())&&(!w||Ne.data("source")===ye)){var Je=Ne.source(),Ue=Ne.target(),We=Je.id()!==ye?Je:Ue,at=We.id();if(this.hasElementWithId(at)&&!W[at]){var dt=F[ye]+E(Ne);if(!Z.has(at)){F[at]=dt,z[at]=dt+g(We),fe(We,at),J[at]=he,re[at]=Ne;continue}dt<F[at]&&(F[at]=dt,z[at]=dt+g(We),J[at]=he,re[at]=Ne)}}}}return{found:!1,distance:void 0,path:void 0,steps:be}}},tn=ui({weight:function(o){return 1},directed:!1}),Un={floydWarshall:function(o){for(var l=this.cy(),f=tn(o),p=f.directed,g=f.weight,w=this.byGroup(),E=w.nodes,x=w.edges,M=E.length,F=M*M,z=function(At){return E.indexOf(At)},W=function(At){return E[At]},j=new Array(F),Z=0;Z<F;Z++){var J=Z%M;j[Z]=(Z-J)/M===J?0:1/0}for(var fe=new Array(F),he=new Array(F),ye=0;ye<x.length;ye++){var Ie=x[ye],Ae=Ie.source()[0],be=Ie.target()[0];if(Ae!==be){var Te=z(Ae),_e=z(be),ke=Te*M+_e,Pe=g(Ie);if(j[ke]>Pe&&(j[ke]=Pe,fe[ke]=_e,he[ke]=Ie),!p){var xe=_e*M+Te;!p&&j[xe]>Pe&&(j[xe]=Pe,fe[xe]=Te,he[xe]=Ie)}}}for(var He=0;He<M;He++)for(var Ne=0;Ne<M;Ne++)for(var Je=Ne*M+He,Ue=0;Ue<M;Ue++){var We=Ne*M+Ue,at=He*M+Ue;j[Je]+j[at]<j[We]&&(j[We]=j[Je]+j[at],fe[We]=fe[Je])}var bt=function(At){return z(function(At){return(Be(At)?l.filter(At):At)[0]}(At))};return{distance:function(At,Ot){var Dt=bt(At),wt=bt(Ot);return j[Dt*M+wt]},path:function(At,Ot){var Dt=bt(At),wt=bt(Ot),nt=W(Dt);if(Dt===wt)return nt.collection();if(null==fe[Dt*M+wt])return l.collection();var Mt=l.collection();for(Mt.merge(nt);Dt!==wt;)Mt.merge(he[Dt*M+(Dt=fe[Dt*M+wt])]),Mt.merge(W(Dt));return Mt}}}},Vt=ui({weight:function(o){return 1},directed:!1,root:null}),Rr={bellmanFord:function(o){var l=this,f=Vt(o),p=f.directed,g=f.root,w=f.weight,E=this,x=this.cy(),M=this.byGroup(),F=M.edges,z=M.nodes,W=z.length,j=new Tt,Z=!1,J=[];g=x.collection(g)[0],F.unmergeBy(function(In){return In.isLoop()});for(var re=F.length,fe=function(cn){var Pn=j.get(cn.id());return Pn||(Pn={},j.set(cn.id(),Pn)),Pn},he=function(cn){return(Be(cn)?x.$(cn):cn)[0]},Ae=0;Ae<W;Ae++){var be=z[Ae],Te=fe(be);Te.dist=be.same(g)?0:1/0,Te.pred=null,Te.edge=null}for(var _e=!1,ke=function(cn,Pn,kr,pr,$n,Ut){var Ce=pr.dist+Ut;Ce<$n.dist&&!kr.same(pr.edge)&&($n.dist=Ce,$n.pred=cn,$n.edge=kr,_e=!0)},Pe=1;Pe<W;Pe++){_e=!1;for(var xe=0;xe<re;xe++){var He=F[xe],Ne=He.source(),Je=He.target(),Ue=w(He),We=fe(Ne),at=fe(Je);ke(Ne,0,He,We,at,Ue),p||ke(Je,0,He,at,We,Ue)}if(!_e)break}if(_e)for(var dt=[],bt=0;bt<re;bt++){var lt=F[bt],yt=lt.source(),At=lt.target(),Ot=w(lt),Dt=fe(yt).dist,wt=fe(At).dist;if(Dt+Ot<wt||!p&&wt+Ot<Dt){if(Z||(Ir("Graph contains a negative weight cycle for Bellman-Ford"),Z=!0),!1===o.findNegativeWeightCycles)break;var nt=[];Dt+Ot<wt&&nt.push(yt),!p&&wt+Ot<Dt&&nt.push(At);for(var Mt=nt.length,Nt=0;Nt<Mt;Nt++){var Yt=nt[Nt],rn=[Yt];rn.push(fe(Yt).edge);for(var Xn=fe(Yt).pred;-1===rn.indexOf(Xn);)rn.push(Xn),rn.push(fe(Xn).edge),Xn=fe(Xn).pred;for(var ar=(rn=rn.slice(rn.indexOf(Xn)))[0].id(),sn=0,en=2;en<rn.length;en+=2)rn[en].id()<ar&&(ar=rn[en].id(),sn=en);(rn=rn.slice(sn).concat(rn.slice(0,sn))).push(rn[0]);var Bn=rn.map(function(In){return In.id()}).join(",");-1===dt.indexOf(Bn)&&(J.push(E.spawn(rn)),dt.push(Bn))}}}return{distanceTo:function(cn){return fe(he(cn)).dist},pathTo:function(cn){for(var Pn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,pr=[],$n=he(cn);;){if(null==$n)return l.spawn();var Ut=fe($n),Ce=Ut.edge,ft=Ut.pred;if(pr.unshift($n[0]),$n.same(Pn)&&pr.length>0)break;null!=Ce&&pr.unshift(Ce),$n=ft}return E.spawn(pr)},hasNegativeWeightCycle:Z,negativeWeightCycles:J}}},er=Math.sqrt(2),or=function(o,l,f){0===f.length&&oi("Karger-Stein must be run on a connected (sub)graph");for(var h=f[o],w=l[h[1]],E=l[h[2]],x=f,M=x.length-1;M>=0;M--){var F=x[M],z=F[1],W=F[2];(l[z]===w&&l[W]===E||l[z]===E&&l[W]===w)&&x.splice(M,1)}for(var j=0;j<x.length;j++){var Z=x[j];Z[1]===E?(x[j]=Z.slice(),x[j][1]=w):Z[2]===E&&(x[j]=Z.slice(),x[j][2]=w)}for(var J=0;J<l.length;J++)l[J]===E&&(l[J]=w);return x},ai=function(o,l,f,h){for(;f>h;){var p=Math.floor(Math.random()*l.length);l=or(p,o,l),f--}return l},On={kargerStein:function(){var o=this,l=this.byGroup(),f=l.nodes,h=l.edges;h.unmergeBy(function(at){return at.isLoop()});var p=f.length,g=h.length,w=Math.ceil(Math.pow(Math.log(p)/Math.LN2,2)),E=Math.floor(p/er);if(!(p<2)){for(var x=[],M=0;M<g;M++){var F=h[M];x.push([M,f.indexOf(F.source()),f.indexOf(F.target())])}for(var z=1/0,W=[],j=new Array(p),Z=new Array(p),J=new Array(p),re=function(dt,bt){for(var lt=0;lt<p;lt++)bt[lt]=dt[lt]},fe=0;fe<=w;fe++){for(var he=0;he<p;he++)Z[he]=he;var ye=ai(Z,x.slice(),p,E),Ie=ye.slice();re(Z,J);var Ae=ai(Z,ye,E,2),be=ai(J,Ie,E,2);Ae.length<=be.length&&Ae.length<z?(z=Ae.length,W=Ae,re(Z,j)):be.length<=Ae.length&&be.length<z&&(z=be.length,W=be,re(J,j))}for(var Te=this.spawn(W.map(function(at){return h[at[0]]})),_e=this.spawn(),ke=this.spawn(),Pe=j[0],xe=0;xe<j.length;xe++){var Ne=f[xe];j[xe]===Pe?_e.merge(Ne):ke.merge(Ne)}var Je=function(dt){var bt=o.spawn();return dt.forEach(function(lt){bt.merge(lt),lt.connectedEdges().forEach(function(yt){o.contains(yt)&&!Te.contains(yt)&&bt.merge(yt)})}),bt},Ue=[Je(_e),Je(ke)];return{cut:Te,components:Ue,partition1:_e,partition2:ke}}oi("At least 2 nodes are required for Karger-Stein algorithm")}},Br=function(o,l,f){return{x:o.x*l+f.x,y:o.y*l+f.y}},mi=function(o,l,f){return{x:(o.x-f.x)/l,y:(o.y-f.y)/l}},ci=function(o){return{x:o[0],y:o[1]}},di=function(o,l){return Math.atan2(l,o)-Math.PI/2},Hi=Math.log2||function(u){return Math.log(u)/Math.log(2)},mo=function(o){return o>0?1:o<0?-1:0},zi=function(o,l){return Math.sqrt(Pr(o,l))},Pr=function(o,l){var f=l.x-o.x,h=l.y-o.y;return f*f+h*h},el=function(o){for(var l=o.length,f=0,h=0;h<l;h++)f+=o[h];for(var p=0;p<l;p++)o[p]=o[p]/f;return o},fi=function(o,l,f,h){return(1-h)*(1-h)*o+2*(1-h)*h*l+h*h*f},vo=function(o,l,f,h){return{x:fi(o.x,l.x,f.x,h),y:fi(o.y,l.y,f.y,h)}},tl=function(o,l,f){return Math.max(o,Math.min(f,l))},Mi=function(o){if(null==o)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=o.x1&&null!=o.y1){if(null!=o.x2&&null!=o.y2&&o.x2>=o.x1&&o.y2>=o.y1)return{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,w:o.x2-o.x1,h:o.y2-o.y1};if(null!=o.w&&null!=o.h&&o.w>=0&&o.h>=0)return{x1:o.x1,y1:o.y1,x2:o.x1+o.w,y2:o.y1+o.h,w:o.w,h:o.h}}},Gl=function(o,l){o.x1=Math.min(o.x1,l.x1),o.x2=Math.max(o.x2,l.x2),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,l.y1),o.y2=Math.max(o.y2,l.y2),o.h=o.y2-o.y1},uc=function(o,l,f){o.x1=Math.min(o.x1,l),o.x2=Math.max(o.x2,l),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,f),o.y2=Math.max(o.y2,f),o.h=o.y2-o.y1},ka=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.x1-=l,o.x2+=l,o.y1-=l,o.y2+=l,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},ks=function(o){var f,h,p,g,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===l.length)f=h=p=g=l[0];else if(2===l.length)f=p=l[0],g=h=l[1];else if(4===l.length){var w=le(l,4);f=w[0],h=w[1],p=w[2],g=w[3]}return o.x1-=g,o.x2+=h,o.y1-=f,o.y2+=p,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},io=function(o,l){o.x1=l.x1,o.y1=l.y1,o.x2=l.x2,o.y2=l.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1},tr=function(o,l){return!(o.x1>l.x2||l.x1>o.x2||o.x2<l.x1||l.x2<o.x1||o.y2<l.y1||l.y2<o.y1||o.y1>l.y2||l.y1>o.y2)},qa=function(o,l,f){return o.x1<=l&&l<=o.x2&&o.y1<=f&&f<=o.y2},mf=function(o,l){return qa(o,l.x,l.y)},cd=function(o,l){return qa(o,l.x1,l.y1)&&qa(o,l.x2,l.y2)},an=function(o,l,f,h,p,g,w){var F,E=xu(p,g),x=p/2,M=g/2,W=h-M-w;if((F=ds(o,l,f,h,f-x+E-w,W,f+x-E+w,W,!1)).length>0)return F;var J=f+x+w;if((F=ds(o,l,f,h,J,h-M+E-w,J,h+M-E+w,!1)).length>0)return F;var Ie=h+M+w;if((F=ds(o,l,f,h,f-x+E-w,Ie,f+x-E+w,Ie,!1)).length>0)return F;var xe,Te=f-x-w;if((F=ds(o,l,f,h,Te,h-M+E-w,Te,h+M-E+w,!1)).length>0)return F;var He=f-x+E,Ne=h-M+E;if((xe=vl(o,l,f,h,He,Ne,E+w)).length>0&&xe[0]<=He&&xe[1]<=Ne)return[xe[0],xe[1]];var Je=f+x-E,Ue=h-M+E;if((xe=vl(o,l,f,h,Je,Ue,E+w)).length>0&&xe[0]>=Je&&xe[1]<=Ue)return[xe[0],xe[1]];var We=f+x-E,at=h+M-E;if((xe=vl(o,l,f,h,We,at,E+w)).length>0&&xe[0]>=We&&xe[1]>=at)return[xe[0],xe[1]];var dt=f-x+E,bt=h+M-E;return(xe=vl(o,l,f,h,dt,bt,E+w)).length>0&&xe[0]<=dt&&xe[1]>=bt?[xe[0],xe[1]]:[]},gl=function(o,l,f,h,p,g,w){var E=w,x=Math.min(f,p),M=Math.max(f,p),F=Math.min(h,g),z=Math.max(h,g);return x-E<=o&&o<=M+E&&F-E<=l&&l<=z+E},ei=function(o,l,f,h,p,g,w,E,x){var M_x1=Math.min(f,w,p)-x,M_x2=Math.max(f,w,p)+x,M_y1=Math.min(h,E,g)-x,M_y2=Math.max(h,E,g)+x;return!(o<M_x1||o>M_x2||l<M_y1||l>M_y2)},wu=function(o,l,f,h,p,g,w,E){var W=[];!function(o,l,f,h,p){var w,E,x,M,F,z,W,j;0===o&&(o=1e-5),x=-27*(h/=o)+(l/=o)*(9*(f/=o)-l*l*2),w=(E=(3*f-l*l)/9)*E*E+(x/=54)*x,p[1]=0,W=l/3,w>0?(F=(F=x+Math.sqrt(w))<0?-Math.pow(-F,1/3):Math.pow(F,1/3),z=(z=x-Math.sqrt(w))<0?-Math.pow(-z,1/3):Math.pow(z,1/3),p[0]=-W+F+z,p[4]=p[2]=-(W+=(F+z)/2),W=Math.sqrt(3)*(-z+F)/2,p[3]=W,p[5]=-W):(p[5]=p[3]=0,0===w?(j=x<0?-Math.pow(-x,1/3):Math.pow(x,1/3),p[0]=2*j-W,p[4]=p[2]=-(j+W)):(M=(E=-E)*E*E,M=Math.acos(x/Math.sqrt(M)),j=2*Math.sqrt(E),p[0]=-W+j*Math.cos(M/3),p[2]=-W+j*Math.cos((M+2*Math.PI)/3),p[4]=-W+j*Math.cos((M+4*Math.PI)/3)))}(1*f*f-4*f*p+2*f*w+4*p*p-4*p*w+w*w+h*h-4*h*g+2*h*E+4*g*g-4*g*E+E*E,9*f*p-3*f*f-3*f*w-6*p*p+3*p*w+9*h*g-3*h*h-3*h*E-6*g*g+3*g*E,3*f*f-6*f*p+f*w-f*o+2*p*p+2*p*o-w*o+3*h*h-6*h*g+h*E-h*l+2*g*g+2*g*l-E*l,1*f*p-f*f+f*o-p*o+h*g-h*h+h*l-g*l,W);for(var Z=[],J=0;J<6;J+=2)Math.abs(W[J+1])<1e-7&&W[J]>=0&&W[J]<=1&&Z.push(W[J]);Z.push(1),Z.push(0);for(var fe,he,ye,re=-1,Ie=0;Ie<Z.length;Ie++)fe=Math.pow(1-Z[Ie],2)*f+2*(1-Z[Ie])*Z[Ie]*p+Z[Ie]*Z[Ie]*w,he=Math.pow(1-Z[Ie],2)*h+2*(1-Z[Ie])*Z[Ie]*g+Z[Ie]*Z[Ie]*E,ye=Math.pow(fe-o,2)+Math.pow(he-l,2),re>=0?ye<re&&(re=ye):re=ye;return re},ml=function(o,l,f,h,p,g){var w=[o-f,l-h],E=[p-f,g-h],x=E[0]*E[0]+E[1]*E[1],M=w[0]*w[0]+w[1]*w[1],F=w[0]*E[0]+w[1]*E[1],z=F*F/x;return F<0?M:z>x?(o-p)*(o-p)+(l-g)*(l-g):M-z},Zo=function(o,l,f){for(var h,p,g,w,x=0,M=0;M<f.length/2;M++)if(p=f[2*M+1],M+1<f.length/2?(g=f[2*(M+1)],w=f[2*(M+1)+1]):(g=f[2*(M+1-f.length/2)],w=f[2*(M+1-f.length/2)+1]),(h=f[2*M])!=o||g!=o){if(!(h>=o&&o>=g||h<=o&&o<=g))continue;(o-h)/(g-h)*(w-p)+p>l&&x++}return x%2!=0},La=function(o,l,f,h,p,g,w,E,x){var F,Z,M=new Array(f.length);null!=E[0]?(F=Math.atan(E[1]/E[0]),E[0]<0?F+=Math.PI/2:F=-F-Math.PI/2):F=E;for(var z=Math.cos(-F),W=Math.sin(-F),j=0;j<M.length/2;j++)M[2*j]=g/2*(f[2*j]*z-f[2*j+1]*W),M[2*j+1]=w/2*(f[2*j+1]*z+f[2*j]*W),M[2*j]+=h,M[2*j+1]+=p;if(x>0){var J=dc(M,-x);Z=jl(J)}else Z=M;return Zo(o,l,Z)},jl=function(o){for(var w,E,x,M,l=new Array(o.length/2),F=0;F<o.length/4;F++){F<o.length/4-1?(w=o[4*(F+1)],E=o[4*(F+1)+1],x=o[4*(F+1)+2],M=o[4*(F+1)+3]):(w=o[0],E=o[1],x=o[2],M=o[3]);var z=ds(o[4*F],o[4*F+1],o[4*F+2],o[4*F+3],w,E,x,M,!0);l[2*F]=z[0],l[2*F+1]=z[1]}return l},dc=function(o,l){for(var h,p,g,w,f=new Array(2*o.length),E=0;E<o.length/2;E++){E<o.length/2-1?(g=o[2*(E+1)],w=o[2*(E+1)+1]):(g=o[0],w=o[1]);var x=w-(p=o[2*E+1]),M=-(g-(h=o[2*E])),F=Math.sqrt(x*x+M*M),z=x/F,W=M/F;f[4*E]=h+z*l,f[4*E+1]=p+W*l,f[4*E+2]=g+z*l,f[4*E+3]=w+W*l}return f},Za=function(o,l,f,h,p,g,w){return o-=p,l-=g,(o/=f/2+w)*o+(l/=h/2+w)*l<=1},vl=function(o,l,f,h,p,g,w){var E=[f-o,h-l],x=[o-p,l-g],M=E[0]*E[0]+E[1]*E[1],F=2*(x[0]*E[0]+x[1]*E[1]),W=F*F-4*M*(x[0]*x[0]+x[1]*x[1]-w*w);if(W<0)return[];var j=(-F+Math.sqrt(W))/(2*M),Z=(-F-Math.sqrt(W))/(2*M),J=Math.min(j,Z),re=Math.max(j,Z),fe=[];if(J>=0&&J<=1&&fe.push(J),re>=0&&re<=1&&fe.push(re),0===fe.length)return[];var he=fe[0]*E[0]+o,ye=fe[0]*E[1]+l;return fe.length>1?fe[0]==fe[1]?[he,ye]:[he,ye,fe[1]*E[0]+o,fe[1]*E[1]+l]:[he,ye]},yo=function(o,l,f){return l<=o&&o<=f||f<=o&&o<=l?o:o<=l&&l<=f||f<=l&&l<=o?l:f},ds=function(o,l,f,h,p,g,w,E,x){var M=o-p,F=f-o,z=w-p,W=l-g,j=h-l,Z=E-g,J=z*W-Z*M,re=F*W-j*M,fe=Z*F-z*j;if(0!==fe){var he=J/fe,ye=re/fe;return-.001<=he&&he<=1.001&&-.001<=ye&&ye<=1.001||x?[o+he*F,l+he*j]:[]}return 0===J||0===re?yo(o,f,w)===w?[w,E]:yo(o,f,p)===p?[p,g]:yo(p,w,f)===f?[f,h]:[]:[]},Wl=function(o,l,f,h,p,g,w,E){var M,W,x=[],F=new Array(f.length),z=!0;if(null==g&&(z=!1),z){for(var j=0;j<F.length/2;j++)F[2*j]=f[2*j]*g+h,F[2*j+1]=f[2*j+1]*w+p;if(E>0){var Z=dc(F,-E);W=jl(Z)}else W=F}else W=f;for(var fe,he,ye=0;ye<W.length/2;ye++)ye<W.length/2-1?(fe=W[2*(ye+1)],he=W[2*(ye+1)+1]):(fe=W[0],he=W[1]),0!==(M=ds(o,l,h,p,W[2*ye],W[2*ye+1],fe,he)).length&&x.push(M[0],M[1]);return x},vf=function(o,l,f){var h=[o[0]-l[0],o[1]-l[1]],p=Math.sqrt(h[0]*h[0]+h[1]*h[1]),g=(p-f)/p;return g<0&&(g=1e-5),[l[0]+g*h[0],l[1]+g*h[1]]},Qo=function(o,l){var f=Cu(o,l);return fc(f)},fc=function(o){for(var l,f,h=o.length/2,p=1/0,g=1/0,w=-1/0,E=-1/0,x=0;x<h;x++)l=o[2*x],f=o[2*x+1],p=Math.min(p,l),w=Math.max(w,l),g=Math.min(g,f),E=Math.max(E,f);for(var M=2/(w-p),F=2/(E-g),z=0;z<h;z++)l=o[2*z]=o[2*z]*M,f=o[2*z+1]=o[2*z+1]*F,p=Math.min(p,l),w=Math.max(w,l),g=Math.min(g,f),E=Math.max(E,f);if(g<-1)for(var W=0;W<h;W++)f=o[2*W+1]=o[2*W+1]+(-1-g);return o},Cu=function(o,l){var f=1/o*2*Math.PI,h=o%2==0?Math.PI/2+f/2:Math.PI/2;h+=l;for(var g,p=new Array(2*o),w=0;w<o;w++)g=w*f+h,p[2*w]=Math.cos(g),p[2*w+1]=Math.sin(-g);return p},xu=function(o,l){return Math.min(o/4,l/4,8)},hc=function(o,l){return Math.min(o/10,l/10,8)},gh=function(o,l){return{heightOffset:Math.min(15,.05*l),widthOffset:Math.min(100,.25*o),ctrlPtOffsetPct:.05}},mh=ui({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(o){return 1}}),nl={pageRank:function(o){for(var l=mh(o),f=l.dampingFactor,h=l.precision,p=l.iterations,g=l.weight,w=this._private.cy,E=this.byGroup(),x=E.nodes,M=E.edges,F=x.length,W=M.length,j=new Array(F*F),Z=new Array(F),J=(1-f)/F,re=0;re<F;re++){for(var fe=0;fe<F;fe++)j[re*F+fe]=0;Z[re]=0}for(var ye=0;ye<W;ye++){var Ie=M[ye],Ae=Ie.data("source"),be=Ie.data("target");if(Ae!==be){var Te=x.indexOfId(Ae),_e=x.indexOfId(be),ke=g(Ie);j[_e*F+Te]+=ke,Z[Te]+=ke}}for(var xe=1/F+J,He=0;He<F;He++)if(0===Z[He])for(var Ne=0;Ne<F;Ne++)j[Ne*F+He]=xe;else for(var Ue=0;Ue<F;Ue++){var We=Ue*F+He;j[We]=j[We]/Z[He]+J}for(var bt,at=new Array(F),dt=new Array(F),lt=0;lt<F;lt++)at[lt]=1;for(var yt=0;yt<p;yt++){for(var At=0;At<F;At++)dt[At]=0;for(var Ot=0;Ot<F;Ot++)for(var Dt=0;Dt<F;Dt++)dt[Ot]+=j[Ot*F+Dt]*at[Dt];el(dt),bt=at,at=dt,dt=bt;for(var nt=0,Mt=0;Mt<F;Mt++){var Nt=bt[Mt]-at[Mt];nt+=Nt*Nt}if(nt<h)break}return{rank:function(Xn){return Xn=w.collection(Xn)[0],at[x.indexOf(Xn)]}}}},Rp=ui({root:null,weight:function(o){return 1},directed:!1,alpha:0}),Fa={degreeCentralityNormalized:function(o){o=Rp(o);var l=this.cy(),f=this.nodes(),h=f.length;if(o.directed){for(var M={},F={},z=0,W=0,j=0;j<h;j++){var Z=f[j],J=Z.id();o.root=Z;var re=this.degreeCentrality(o);z<re.indegree&&(z=re.indegree),W<re.outdegree&&(W=re.outdegree),M[J]=re.indegree,F[J]=re.outdegree}return{indegree:function(he){return 0==z?0:(Be(he)&&(he=l.filter(he)),M[he.id()]/z)},outdegree:function(he){return 0===W?0:(Be(he)&&(he=l.filter(he)),F[he.id()]/W)}}}for(var p={},g=0,w=0;w<h;w++){var E=f[w];o.root=E;var x=this.degreeCentrality(o);g<x.degree&&(g=x.degree),p[E.id()]=x.degree}return{degree:function(he){return 0===g?0:(Be(he)&&(he=l.filter(he)),p[he.id()]/g)}}},degreeCentrality:function(o){o=Rp(o);var l=this.cy(),f=this,p=o.root,g=o.weight,w=o.directed,E=o.alpha;if(p=l.collection(p)[0],w){for(var W=p.connectedEdges(),j=W.filter(function(Ae){return Ae.target().same(p)&&f.has(Ae)}),Z=W.filter(function(Ae){return Ae.source().same(p)&&f.has(Ae)}),J=j.length,re=Z.length,fe=0,he=0,ye=0;ye<j.length;ye++)fe+=g(j[ye]);for(var Ie=0;Ie<Z.length;Ie++)he+=g(Z[Ie]);return{indegree:Math.pow(J,1-E)*Math.pow(fe,E),outdegree:Math.pow(re,1-E)*Math.pow(he,E)}}for(var x=p.connectedEdges().intersection(f),M=x.length,F=0,z=0;z<x.length;z++)F+=g(x[z]);return{degree:Math.pow(M,1-E)*Math.pow(F,E)}}};Fa.dc=Fa.degreeCentrality,Fa.dcn=Fa.degreeCentralityNormalised=Fa.degreeCentralityNormalized;var kp=ui({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Pt={closenessCentralityNormalized:function(o){for(var l=kp(o),f=l.harmonic,h=l.weight,p=l.directed,g=this.cy(),w={},E=0,x=this.nodes(),M=this.floydWarshall({weight:h,directed:p}),F=0;F<x.length;F++){for(var z=0,W=x[F],j=0;j<x.length;j++)if(F!==j){var Z=M.distance(W,x[j]);z+=f?1/Z:Z}f||(z=1/z),E<z&&(E=z),w[W.id()]=z}return{closeness:function(re){return 0==E?0:(re=Be(re)?g.filter(re)[0].id():re.id(),w[re]/E)}}},closenessCentrality:function(o){var l=kp(o),f=l.root,h=l.weight,p=l.directed,g=l.harmonic;f=this.filter(f)[0];for(var w=this.dijkstra({root:f,weight:h,directed:p}),E=0,x=this.nodes(),M=0;M<x.length;M++){var F=x[M];if(!F.same(f)){var z=w.distanceTo(F);E+=g?1/z:z}}return g?E:1/E}};Pt.cc=Pt.closenessCentrality,Pt.ccn=Pt.closenessCentralityNormalised=Pt.closenessCentralityNormalized;var vh=ui({weight:null,directed:!1}),nn={betweennessCentrality:function(o){for(var l=vh(o),f=l.directed,h=l.weight,p=null!=h,g=this.cy(),w=this.nodes(),E={},x={},M=0,F={set:function(he,ye){x[he]=ye,ye>M&&(M=ye)},get:function(he){return x[he]}},z=0;z<w.length;z++){var W=w[z],j=W.id();E[j]=f?W.outgoers().nodes():W.openNeighborhood().nodes(),F.set(j,0)}for(var Z=function(he){for(var ye=w[he].id(),Ie=[],Ae={},be={},Te={},_e=new A.default(function(Dt,wt){return Te[Dt]-Te[wt]}),ke=0;ke<w.length;ke++){var Pe=w[ke].id();Ae[Pe]=[],be[Pe]=0,Te[Pe]=1/0}for(be[ye]=1,Te[ye]=0,_e.push(ye);!_e.empty();){var xe=_e.pop();if(Ie.push(xe),p)for(var He=0;He<E[xe].length;He++){var Ue,Ne=E[xe][He],Je=g.getElementById(xe);Ue=Je.edgesTo(Ne).length>0?Je.edgesTo(Ne)[0]:Ne.edgesTo(Je)[0];var We=h(Ue);Ne=Ne.id(),Te[Ne]>Te[xe]+We&&(Te[Ne]=Te[xe]+We,_e.nodes.indexOf(Ne)<0?_e.push(Ne):_e.updateItem(Ne),be[Ne]=0,Ae[Ne]=[]),Te[Ne]==Te[xe]+We&&(be[Ne]=be[Ne]+be[xe],Ae[Ne].push(xe))}else for(var at=0;at<E[xe].length;at++){var dt=E[xe][at].id();Te[dt]==1/0&&(_e.push(dt),Te[dt]=Te[xe]+1),Te[dt]==Te[xe]+1&&(be[dt]=be[dt]+be[xe],Ae[dt].push(xe))}}for(var bt={},lt=0;lt<w.length;lt++)bt[w[lt].id()]=0;for(;Ie.length>0;){for(var yt=Ie.pop(),At=0;At<Ae[yt].length;At++){var Ot=Ae[yt][At];bt[Ot]=bt[Ot]+be[Ot]/be[yt]*(1+bt[yt])}yt!=w[he].id()&&F.set(yt,F.get(yt)+bt[yt])}},J=0;J<w.length;J++)Z(J);var re={betweenness:function(he){var ye=g.collection(he).id();return F.get(ye)},betweennessNormalized:function(he){if(0==M)return 0;var ye=g.collection(he).id();return F.get(ye)/M}};return re.betweennessNormalised=re.betweennessNormalized,re}};nn.bc=nn.betweennessCentrality;var yf=ui({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(u){return 1}]}),gc=function(o,l){for(var f=0,h=0;h<l.length;h++)f+=l[h](o);return f},mc=function(o,l){for(var f,h=0;h<l;h++){f=0;for(var p=0;p<l;p++)f+=o[p*l+h];for(var g=0;g<l;g++)o[g*l+h]=o[g*l+h]/f}},yl=function(o,l,f){for(var h=new Array(f*f),p=0;p<f;p++){for(var g=0;g<f;g++)h[p*f+g]=0;for(var w=0;w<f;w++)for(var E=0;E<f;E++)h[p*f+E]+=o[p*f+w]*l[w*f+E]}return h},fs=function(o,l,f){for(var h=o.slice(0),p=1;p<f;p++)o=yl(o,h,l);return o},hs=function(o,l,f){for(var h=new Array(l*l),p=0;p<l*l;p++)h[p]=Math.pow(o[p],f);return mc(h,l),h},ba=function(o,l,f,h){for(var p=0;p<f;p++)if(Math.round(o[p]*Math.pow(10,h))/Math.pow(10,h)!=Math.round(l[p]*Math.pow(10,h))/Math.pow(10,h))return!1;return!0},Dr=function(o,l){for(var f=0;f<o.length;f++)if(!l[f]||o[f].id()!==l[f].id())return!1;return!0},_f=function(o){for(var l=this.nodes(),f=this.edges(),h=this.cy(),p=function(o){return yf(o)}(o),g={},w=0;w<l.length;w++)g[l[w].id()]=w;for(var F,E=l.length,x=E*E,M=new Array(x),z=0;z<x;z++)M[z]=0;for(var W=0;W<f.length;W++){var j=f[W],Z=g[j.source().id()],J=g[j.target().id()],re=gc(j,p.attributes);M[Z*E+J]+=re,M[J*E+Z]+=re}(function(o,l,f){for(var h=0;h<l;h++)o[h*l+h]=f})(M,E,p.multFactor),mc(M,E);for(var fe=!0,he=0;fe&&he<p.maxIterations;)fe=!1,F=fs(M,E,p.expandFactor),M=hs(F,E,p.inflateFactor),ba(M,F,x,4)||(fe=!0),he++;var ye=function(o,l,f,h){for(var p=[],g=0;g<l;g++){for(var w=[],E=0;E<l;E++)Math.round(1e3*o[g*l+E])/1e3>0&&w.push(f[E]);0!==w.length&&p.push(h.collection(w))}return p}(M,E,l,h);return ye=function(o){for(var l=0;l<o.length;l++)for(var f=0;f<o.length;f++)l!=f&&Dr(o[l],o[f])&&o.splice(f,1);return o}(ye),ye},wf={markovClustering:_f,mcl:_f},Pp=function(o){return o},Ls=function(o,l){return Math.abs(l-o)},$l=function(o,l,f){return o+Ls(l,f)},Yl=function(o,l,f){return o+Math.pow(f-l,2)},Fs=function(o){return Math.sqrt(o)},Cf=function(o,l,f){return Math.max(o,Ls(l,f))},Eu=function(o,l,f,h,p){for(var g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Pp,w=h,M=0;M<o;M++)w=p(w,l(M),f(M));return g(w)},Du={euclidean:function(o,l,f){return o>=2?Eu(o,l,f,0,Yl,Fs):Eu(o,l,f,0,$l)},squaredEuclidean:function(o,l,f){return Eu(o,l,f,0,Yl)},manhattan:function(o,l,f){return Eu(o,l,f,0,$l)},max:function(o,l,f){return Eu(o,l,f,-1/0,Cf)}};function Xl(u,o,l,f,h,p){var g;return g=st(u)?u:Du[u]||Du.euclidean,0===o&&st(u)?g(h,p):g(o,l,f,h,p)}Du["squared-euclidean"]=Du.squaredEuclidean,Du.squaredeuclidean=Du.squaredEuclidean;var Lp=ui({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),dd=function(o){return Lp(o)},fd=function(o,l,f,h,p){var w="kMedoids"!==p?function(F){return f[F]}:function(F){return h[F](f)};return Xl(o,h.length,w,function(z){return h[z](l)},f,l)},Kl=function(o,l,f){for(var h=f.length,p=new Array(h),g=new Array(h),w=new Array(l),E=null,x=0;x<h;x++)p[x]=o.min(f[x]).value,g[x]=o.max(f[x]).value;for(var M=0;M<l;M++){E=[];for(var F=0;F<h;F++)E[F]=Math.random()*(g[F]-p[F])+p[F];w[M]=E}return w},yh=function(o,l,f,h,p){for(var g=1/0,w=0,E=0;E<l.length;E++){var x=fd(f,o,l[E],h,p);x<g&&(g=x,w=E)}return w},bh=function(o,l,f){for(var h=[],p=null,g=0;g<l.length;g++)f[(p=l[g]).id()]===o&&h.push(p);return h},Qa=function(o,l,f){return Math.abs(l-o)<=f},xf=function(o,l,f){for(var h=0;h<o.length;h++)for(var p=0;p<o[h].length;p++)if(Math.abs(o[h][p]-l[h][p])>f)return!1;return!0},_h=function(o,l,f){for(var h=0;h<f;h++)if(o===l[h])return!0;return!1},hd=function(o,l){var f=new Array(l);if(o.length<50)for(var h=0;h<l;h++){for(var p=o[Math.floor(Math.random()*o.length)];_h(p,f,h);)p=o[Math.floor(Math.random()*o.length)];f[h]=p}else for(var g=0;g<l;g++)f[g]=o[Math.floor(Math.random()*o.length)];return f},ps=function(o,l,f){for(var h=0,p=0;p<l.length;p++)h+=fd("manhattan",l[p],o,f,"kMedoids");return h},Ef=function(o,l,f,h,p){for(var g,w,E=0;E<l.length;E++)for(var x=0;x<o.length;x++)h[E][x]=Math.pow(f[E][x],p.m);for(var M=0;M<o.length;M++)for(var F=0;F<p.attributes.length;F++){g=0,w=0;for(var z=0;z<l.length;z++)g+=h[z][M]*p.attributes[F](l[z]),w+=h[z][M];o[M][F]=g/w}},Bp=function(o,l,f,h,p){for(var g=0;g<o.length;g++)l[g]=o[g].slice();for(var w,E,x,M=2/(p.m-1),F=0;F<f.length;F++)for(var z=0;z<h.length;z++){w=0;for(var W=0;W<f.length;W++)E=fd(p.distance,h[z],f[F],p.attributes,"cmeans"),x=fd(p.distance,h[z],f[W],p.attributes,"cmeans"),w+=Math.pow(E/x,M);o[z][F]=1/w}},Df=function(o){var p,g,w,E,x,l=this.cy(),f=this.nodes(),h=dd(o);E=new Array(f.length);for(var M=0;M<f.length;M++)E[M]=new Array(h.k);w=new Array(f.length);for(var F=0;F<f.length;F++)w[F]=new Array(h.k);for(var z=0;z<f.length;z++){for(var W=0,j=0;j<h.k;j++)w[z][j]=Math.random(),W+=w[z][j];for(var Z=0;Z<h.k;Z++)w[z][Z]=w[z][Z]/W}g=new Array(h.k);for(var J=0;J<h.k;J++)g[J]=new Array(h.attributes.length);x=new Array(f.length);for(var re=0;re<f.length;re++)x[re]=new Array(h.k);for(var fe=!0,he=0;fe&&he<h.maxIterations;)fe=!1,Ef(g,f,w,x,h),Bp(w,E,g,f,h),xf(w,E,h.sensitivityThreshold)||(fe=!0),he++;return p=function(o,l,f,h){for(var p=new Array(f.k),g=0;g<p.length;g++)p[g]=[];for(var w,E,x=0;x<l.length;x++){w=-1/0,E=-1;for(var M=0;M<l[0].length;M++)l[x][M]>w&&(w=l[x][M],E=M);p[E].push(o[x])}for(var F=0;F<p.length;F++)p[F]=h.collection(p[F]);return p}(f,w,h,l),{clusters:p,degreeOfMembership:w}},cr={kMeans:function(o){var E,l=this.cy(),f=this.nodes(),h=null,p=dd(o),g=new Array(p.k),w={};E=p.testMode?"number"==typeof p.testCentroids?Kl(f,p.k,p.attributes):"object"===H(p.testCentroids)?p.testCentroids:Kl(f,p.k,p.attributes):Kl(f,p.k,p.attributes);for(var x=!0,M=0;x&&M<p.maxIterations;){for(var F=0;F<f.length;F++)w[(h=f[F]).id()]=yh(h,E,p.distance,p.attributes,"kMeans");x=!1;for(var z=0;z<p.k;z++){var W=bh(z,f,w);if(0!==W.length){for(var j=p.attributes.length,Z=E[z],J=new Array(j),re=new Array(j),fe=0;fe<j;fe++){re[fe]=0;for(var he=0;he<W.length;he++)re[fe]+=p.attributes[fe](h=W[he]);J[fe]=re[fe]/W.length,Qa(J[fe],Z[fe],p.sensitivityThreshold)||(x=!0)}E[z]=J,g[z]=l.collection(W)}}M++}return g},kMedoids:function(o){var w,x,l=this.cy(),f=this.nodes(),h=null,p=dd(o),g=new Array(p.k),E={},M=new Array(p.k);p.testMode?"number"==typeof p.testCentroids||(w="object"===H(p.testCentroids)?p.testCentroids:hd(f,p.k)):w=hd(f,p.k);for(var F=!0,z=0;F&&z<p.maxIterations;){for(var W=0;W<f.length;W++)E[(h=f[W]).id()]=yh(h,w,p.distance,p.attributes,"kMedoids");F=!1;for(var j=0;j<w.length;j++){var Z=bh(j,f,E);if(0!==Z.length){M[j]=ps(w[j],Z,p.attributes);for(var J=0;J<Z.length;J++)(x=ps(Z[J],Z,p.attributes))<M[j]&&(M[j]=x,w[j]=Z[J],F=!0);g[j]=l.collection(Z)}}z++}return g},fuzzyCMeans:Df,fcm:Df},gm=ui({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),mm={single:"min",complete:"max"},ti=function(o,l,f,h,p){for(var E,g=0,w=1/0,x=p.attributes,M=function(_e,ke){return Xl(p.distance,x.length,function(Pe){return x[Pe](_e)},function(Pe){return x[Pe](ke)},_e,ke)},F=0;F<o.length;F++){var z=o[F].key,W=f[z][h[z]];W<w&&(g=z,w=W)}if("threshold"===p.mode&&w>=p.threshold||"dendrogram"===p.mode&&1===o.length)return!1;var J,j=l[g],Z=l[h[g]];J="dendrogram"===p.mode?{left:j,right:Z,key:j.key}:{value:j.value.concat(Z.value),key:j.key},o[j.index]=J,o.splice(Z.index,1),l[j.key]=J;for(var re=0;re<o.length;re++){var fe=o[re];j.key===fe.key?E=1/0:"min"===p.linkage?(E=f[j.key][fe.key],f[j.key][fe.key]>f[Z.key][fe.key]&&(E=f[Z.key][fe.key])):"max"===p.linkage?(E=f[j.key][fe.key],f[j.key][fe.key]<f[Z.key][fe.key]&&(E=f[Z.key][fe.key])):E="mean"===p.linkage?(f[j.key][fe.key]*j.size+f[Z.key][fe.key]*Z.size)/(j.size+Z.size):"dendrogram"===p.mode?M(fe.value,j.value):M(fe.value[0],j.value[0]),f[j.key][fe.key]=f[fe.key][j.key]=E}for(var he=0;he<o.length;he++){var ye=o[he].key;if(h[ye]===j.key||h[ye]===Z.key){for(var Ie=ye,Ae=0;Ae<o.length;Ae++){var be=o[Ae].key;f[ye][be]<f[ye][Ie]&&(Ie=be)}h[ye]=Ie}o[he].index=he}return j.key=Z.key=j.index=Z.index=null,!0},bl=function u(o,l,f){o&&(o.value?l.push(o.value):(o.left&&u(o.left,l),o.right&&u(o.right,l)))},Sf=function u(o,l){if(!o)return"";if(o.left&&o.right){var f=u(o.left,l),h=u(o.right,l),p=l.add({group:"nodes",data:{id:f+","+h}});return l.add({group:"edges",data:{source:f,target:p.id()}}),l.add({group:"edges",data:{source:h,target:p.id()}}),p.id()}return o.value?o.value.id():void 0},un=function u(o,l,f){if(!o)return[];var h=[],p=[],g=[];return 0===l?(o.left&&bl(o.left,h),o.right&&bl(o.right,p),g=h.concat(p),[f.collection(g)]):1===l?o.value?[f.collection(o.value)]:(o.left&&bl(o.left,h),o.right&&bl(o.right,p),[f.collection(h),f.collection(p)]):o.value?[f.collection(o.value)]:(o.left&&(h=u(o.left,l-1,f)),o.right&&(p=u(o.right,l-1,f)),h.concat(p))},sa=function(o){for(var l=this.cy(),f=this.nodes(),h=function(o){var l=gm(o),f=mm[l.linkage];return null!=f&&(l.linkage=f),l}(o),p=h.attributes,g=function(he,ye){return Xl(h.distance,p.length,function(Ie){return p[Ie](he)},function(Ie){return p[Ie](ye)},he,ye)},w=[],E=[],x=[],M=[],F=0;F<f.length;F++){var z={value:"dendrogram"===h.mode?f[F]:[f[F]],key:F,index:F};w[F]=z,M[F]=z,E[F]=[],x[F]=0}for(var W=0;W<w.length;W++)for(var j=0;j<=W;j++){var Z;Z="dendrogram"===h.mode?W===j?1/0:g(w[W].value,w[j].value):W===j?1/0:g(w[W].value[0],w[j].value[0]),E[W][j]=Z,E[j][W]=Z,Z<E[W][x[W]]&&(x[W]=j)}for(var J=ti(w,M,E,x,h);J;)J=ti(w,M,E,x,h);var re;return"dendrogram"===h.mode?(re=un(w[0],h.dendrogramDepth,l),h.addDendrogram&&Sf(w[0],l)):(re=new Array(w.length),w.forEach(function(fe,he){fe.key=fe.index=null,re[he]=l.collection(fe.value)})),re},Hr={hierarchicalClustering:sa,hca:sa},Ui=ui({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),ao=function(o,l,f,h){var p=function(w,E){return h[E](w)};return-Xl(o,h.length,function(g){return p(l,g)},function(g){return p(f,g)},l,f)},yc=function(o,l,f){for(var h=[],p=0;p<o;p++){for(var g=-1,w=-1/0,E=0;E<f.length;E++){var x=f[E];l[p*o+x]>w&&(g=x,w=l[p*o+x])}g>0&&h.push(g)}for(var M=0;M<f.length;M++)h[f[M]]=f[M];return h},Ch=function(o){for(var l=this.cy(),f=this.nodes(),h=function(o){var l=o.damping,f=o.preference;.5<=l&&l<1||oi("Damping must range on [0.5, 1).  Got: ".concat(l));var h=["median","mean","min","max"];return h.some(function(p){return p===f})||Qe(f)||oi("Preference must be one of [".concat(h.map(function(p){return"'".concat(p,"'")}).join(", "),"] or a number.  Got: ").concat(f)),Ui(o)}(o),p={},g=0;g<f.length;g++)p[f[g].id()]=g;var w,E,x,M,F,z,_e;E=(w=f.length)*w,x=new Array(E);for(var W=0;W<E;W++)x[W]=-1/0;for(var j=0;j<w;j++)for(var Z=0;Z<w;Z++)j!==Z&&(x[j*w+Z]=ao(h.distance,f[j],f[Z],h.attributes));M=function(o,l){var f;return f="median"===l?function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(f<o.length&&o.splice(f,o.length-f),l>0&&o.splice(0,l)):o=o.slice(l,f);for(var w=0,E=o.length-1;E>=0;E--)g?isFinite(o[E])||(o[E]=-1/0,w++):o.splice(E,1);p&&o.sort(function(z,W){return z-W});var M=o.length,F=Math.floor(M/2);return M%2!=0?o[F+1+w]:(o[F-1+w]+o[F+w])/2}(o):"mean"===l?function(o){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=0,p=0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g<f;g++){var w=o[g];isFinite(w)&&(h+=w,p++)}return h/p}(o):"min"===l?function(o){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<f;p++){var g=o[p];isFinite(g)&&(h=Math.min(g,h))}return h}(o):"max"===l?function(o){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=-1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<f;p++){var g=o[p];isFinite(g)&&(h=Math.max(g,h))}return h}(o):l,f}(x,h.preference);for(var J=0;J<w;J++)x[J*w+J]=M;F=new Array(E);for(var re=0;re<E;re++)F[re]=0;z=new Array(E);for(var fe=0;fe<E;fe++)z[fe]=0;for(var he=new Array(w),ye=new Array(w),Ie=new Array(w),Ae=0;Ae<w;Ae++)he[Ae]=0,ye[Ae]=0,Ie[Ae]=0;for(var be=new Array(w*h.minIterations),Te=0;Te<be.length;Te++)be[Te]=0;for(_e=0;_e<h.maxIterations;_e++){for(var ke=0;ke<w;ke++){for(var Pe=-1/0,xe=-1/0,He=-1,Ne=0,Je=0;Je<w;Je++)he[Je]=F[ke*w+Je],(Ne=z[ke*w+Je]+x[ke*w+Je])>=Pe?(xe=Pe,Pe=Ne,He=Je):Ne>xe&&(xe=Ne);for(var Ue=0;Ue<w;Ue++)F[ke*w+Ue]=(1-h.damping)*(x[ke*w+Ue]-Pe)+h.damping*he[Ue];F[ke*w+He]=(1-h.damping)*(x[ke*w+He]-xe)+h.damping*he[He]}for(var We=0;We<w;We++){for(var at=0,dt=0;dt<w;dt++)he[dt]=z[dt*w+We],ye[dt]=Math.max(0,F[dt*w+We]),at+=ye[dt];at-=ye[We],ye[We]=F[We*w+We],at+=ye[We];for(var bt=0;bt<w;bt++)z[bt*w+We]=(1-h.damping)*Math.min(0,at-ye[bt])+h.damping*he[bt];z[We*w+We]=(1-h.damping)*(at-ye[We])+h.damping*he[We]}for(var lt=0,yt=0;yt<w;yt++){var At=z[yt*w+yt]+F[yt*w+yt]>0?1:0;be[_e%h.minIterations*w+yt]=At,lt+=At}if(lt>0&&(_e>=h.minIterations-1||_e==h.maxIterations-1)){for(var Ot=0,Dt=0;Dt<w;Dt++){Ie[Dt]=0;for(var wt=0;wt<h.minIterations;wt++)Ie[Dt]+=be[wt*w+Dt];(0===Ie[Dt]||Ie[Dt]===h.minIterations)&&Ot++}if(Ot===w)break}}for(var nt=function(o,l,f){for(var h=[],p=0;p<o;p++)l[p*o+p]+f[p*o+p]>0&&h.push(p);return h}(w,F,z),Mt=function(o,l,f){for(var h=yc(o,l,f),p=0;p<f.length;p++){for(var g=[],w=0;w<h.length;w++)h[w]===f[p]&&g.push(w);for(var E=-1,x=-1/0,M=0;M<g.length;M++){for(var F=0,z=0;z<g.length;z++)F+=l[g[z]*o+g[M]];F>x&&(E=M,x=F)}f[p]=g[E]}return yc(o,l,f)}(w,x,nt),Nt={},Yt=0;Yt<nt.length;Yt++)Nt[nt[Yt]]=[];for(var rn=0;rn<f.length;rn++){var ar=Mt[p[f[rn].id()]];null!=ar&&Nt[ar].push(f[rn])}for(var sn=new Array(nt.length),en=0;en<nt.length;en++)sn[en]=l.collection(Nt[nt[en]]);return sn},pd={affinityPropagation:Ch,ap:Ch},lo=ui({root:void 0,directed:!1}),gn={hierholzer:function(o){if(!Ze(o)){var l=arguments;o={root:l[0],directed:l[1]}}var E,x,M,f=lo(o),h=f.root,p=f.directed,g=this,w=!1;h&&(M=Be(h)?this.filter(h)[0].id():h[0].id());var F={},z={};g.forEach(p?function(fe){var he=fe.id();if(fe.isNode()){var ye=fe.indegree(!0),Ie=fe.outdegree(!0),Ae=ye-Ie,be=Ie-ye;1==Ae?E?w=!0:E=he:1==be?x?w=!0:x=he:(be>1||Ae>1)&&(w=!0),F[he]=[],fe.outgoers().forEach(function(Te){Te.isEdge()&&F[he].push(Te.id())})}else z[he]=[void 0,fe.target().id()]}:function(fe){var he=fe.id();fe.isNode()?(fe.degree(!0)%2&&(E?x?w=!0:x=he:E=he),F[he]=[],fe.connectedEdges().forEach(function(Ie){return F[he].push(Ie.id())})):z[he]=[fe.source().id(),fe.target().id()]});var W={found:!1,trail:void 0};if(w)return W;if(x&&E)if(p){if(M&&x!=M)return W;M=x}else{if(M&&x!=M&&E!=M)return W;M||(M=x)}else M||(M=g[0].id());var j=function(he){for(var Ae,be,Te,ye=he,Ie=[he];F[ye].length;)Ae=F[ye].shift(),be=z[Ae][0],ye!=(Te=z[Ae][1])?(F[Te]=F[Te].filter(function(_e){return _e!=Ae}),ye=Te):!p&&ye!=be&&(F[be]=F[be].filter(function(_e){return _e!=Ae}),ye=be),Ie.unshift(Ae),Ie.unshift(ye);return Ie},Z=[],J=[];for(J=j(M);1!=J.length;)0==F[J[0]].length?(Z.unshift(g.getElementById(J.shift())),Z.unshift(g.getElementById(J.shift()))):J=j(J.shift()).concat(J);for(var re in Z.unshift(g.getElementById(J.shift())),F)if(F[re].length)return W;return W.found=!0,W.trail=this.spawn(Z,!0),W}},Wn=function(){var o=this,l={},f=0,h=0,p=[],g=[],w={},x=function F(z,W,j){z===j&&(h+=1),l[W]={id:f,low:f++,cutVertex:!1};var J,re,fe,he,Z=o.getElementById(W).connectedEdges().intersection(o);0===Z.size()?p.push(o.spawn(o.getElementById(W))):Z.forEach(function(ye){J=ye.source().id(),re=ye.target().id(),(fe=J===W?re:J)!==j&&(he=ye.id(),w[he]||(w[he]=!0,g.push({x:W,y:fe,edge:ye})),fe in l?l[W].low=Math.min(l[W].low,l[fe].id):(F(z,fe,W),l[W].low=Math.min(l[W].low,l[fe].low),l[W].id<=l[fe].low&&(l[W].cutVertex=!0,function(z,W){for(var j=g.length-1,Z=[],J=o.spawn();g[j].x!=z||g[j].y!=W;)Z.push(g.pop().edge),j--;Z.push(g.pop().edge),Z.forEach(function(re){var fe=re.connectedNodes().intersection(o);J.merge(re),fe.forEach(function(he){var ye=he.id(),Ie=he.connectedEdges().intersection(o);J.merge(he),J.merge(l[ye].cutVertex?Ie.filter(function(Ae){return Ae.isLoop()}):Ie)})}),p.push(J)}(W,fe))))})};o.forEach(function(F){if(F.isNode()){var z=F.id();z in l||(h=0,x(z,z),l[z].cutVertex=h>1)}});var M=Object.keys(l).filter(function(F){return l[F].cutVertex}).map(function(F){return o.getElementById(F)});return{cut:o.spawn(M),components:p}},la=function(){var o=this,l={},f=0,h=[],p=[],g=o.spawn(o),w=function E(x){if(p.push(x),l[x]={index:f,low:f++,explored:!1},o.getElementById(x).connectedEdges().intersection(o).forEach(function(Z){var J=Z.target().id();J!==x&&(J in l||E(J),l[J].explored||(l[x].low=Math.min(l[x].low,l[J].low)))}),l[x].index===l[x].low){for(var F=o.spawn();;){var z=p.pop();if(F.merge(o.getElementById(z)),l[z].low=l[x].index,l[z].explored=!0,z===x)break}var W=F.edgesWith(F),j=F.merge(W);h.push(j),g=g.difference(j)}};return o.forEach(function(E){if(E.isNode()){var x=E.id();x in l||w(x)}}),{cut:g,components:h}},wo={};[Ve,tt,Qt,Ht,Un,Rr,On,nl,Fa,Pt,nn,wf,cr,Hr,pd,gn,{hopcroftTarjanBiconnected:Wn,htbc:Wn,htb:Wn,hopcroftTarjanBiconnectedComponents:Wn},{tarjanStronglyConnected:la,tsc:la,tscc:la,tarjanStronglyConnectedComponents:la}].forEach(function(u){kn(wo,u)});var ua=function u(o){if(!(this instanceof u))return new u(o);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof o&&o.call(this,this.fulfill.bind(this),this.reject.bind(this))};ua.prototype={fulfill:function(o){return qn(this,1,"fulfillValue",o)},reject:function(o){return qn(this,2,"rejectReason",o)},then:function(o,l){var f=this,h=new ua;return f.onFulfilled.push(Tu(o,h,"fulfill")),f.onRejected.push(Tu(l,h,"reject")),_c(f),h.proxy}};var qn=function(o,l,f,h){return 0===o.state&&(o.state=l,o[f]=h,_c(o)),o},_c=function(o){1===o.state?xh(o,"onFulfilled",o.fulfillValue):2===o.state&&xh(o,"onRejected",o.rejectReason)},xh=function(o,l,f){if(0!==o[l].length){var h=o[l];o[l]=[];var p=function(){for(var w=0;w<h.length;w++)h[w](f)};"function"==typeof setImmediate?setImmediate(p):setTimeout(p,0)}},Tu=function(o,l,f){return function(h){if("function"!=typeof o)l[f].call(l,h);else{var p;try{p=o(h)}catch(g){return void l.reject(g)}Gi(l,p)}}},Gi=function u(o,l){if(o!==l&&o.proxy!==l){var f;if("object"===H(l)&&null!==l||"function"==typeof l)try{f=l.then}catch(p){return void o.reject(p)}if("function"!=typeof f)o.fulfill(l);else{var h=!1;try{f.call(l,function(p){h||(h=!0,p===l?o.reject(new TypeError("circular thenable chain")):u(o,p))},function(p){h||(h=!0,o.reject(p))})}catch(p){h||o.reject(p)}}}else o.reject(new TypeError("cannot resolve promise with itself"))};ua.all=function(u){return new ua(function(o,l){for(var f=new Array(u.length),h=0,p=function(E,x){f[E]=x,++h===u.length&&o(f)},g=0;g<u.length;g++)!function(w){var E=u[w];null!=E&&null!=E.then?E.then(function(F){p(w,F)},function(F){l(F)}):p(w,E)}(g)})},ua.resolve=function(u){return new ua(function(o,l){o(u)})},ua.reject=function(u){return new ua(function(o,l){l(u)})};var gs=typeof Promise<"u"?Promise:ua,Ja=function(o,l,f){var h=ut(o),p=!h,g=this._private=kn({duration:1e3},l,f);if(g.target=o,g.style=g.style||g.css,g.started=!1,g.playing=!1,g.hooked=!1,g.applying=!1,g.progress=0,g.completes=[],g.frames=[],g.complete&&st(g.complete)&&g.completes.push(g.complete),p){var w=o.position();g.startPosition=g.startPosition||{x:w.x,y:w.y},g.startStyle=g.startStyle||o.cy().style().getAnimationStartStyle(o,g.style)}if(h){var E=o.pan();g.startPan={x:E.x,y:E.y},g.startZoom=o.zoom()}this.length=1,this[0]=this},uo=Ja.prototype;kn(uo,{instanceString:function(){return"animation"},hook:function(){var o=this._private;if(!o.hooked){var f=o.target._private.animation;(o.queue?f.queue:f.current).push(this),It(o.target)&&o.target.cy().addToAnimationPool(o.target),o.hooked=!0}return this},play:function(){var o=this._private;return 1===o.progress&&(o.progress=0),o.playing=!0,o.started=!1,o.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var o=this._private;return o.applying=!0,o.started=!1,o.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var o=this._private;return o.playing=!1,o.started=!1,this},stop:function(){var o=this._private;return o.playing=!1,o.started=!1,o.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(o){var l=this._private;return void 0===o?l.progress*l.duration:this.progress(o/l.duration)},progress:function(o){var l=this._private,f=l.playing;return void 0===o?l.progress:(f&&this.pause(),l.progress=o,l.started=!1,f&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var o=this._private,l=o.playing;l&&this.pause(),o.progress=1-o.progress,o.started=!1;var f=function(x,M){var F=o[x];null!=F&&(o[x]=o[M],o[M]=F)};if(f("zoom","startZoom"),f("pan","startPan"),f("position","startPosition"),o.style)for(var h=0;h<o.style.length;h++){var p=o.style[h],g=p.name,w=o.startStyle[g];o.startStyle[g]=p,o.style[h]=w}return l&&this.play(),this},promise:function(o){var f,l=this._private;return f="frame"===o?l.frames:l.completes,new gs(function(h,p){f.push(function(){h()})})}}),uo.complete=uo.completed,uo.run=uo.play,uo.running=uo.playing;var md={data:function(o){return o=kn({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(h){},beforeSet:function(h,p){},onSet:function(h){},canSet:function(h){return!0}},o),function(h,p){var g=o,w=this,E=void 0!==w.length,x=E?w:[w],M=E?w[0]:w;if(Be(h)){var W,z=-1!==h.indexOf(".")&&k.default(h);if(g.allowGetting&&void 0===p)return M&&(g.beforeGet(M),W=z&&void 0===M._private[g.field][h]?V.default(M._private[g.field],z):M._private[g.field][h]),W;if(g.allowSetting&&void 0!==p&&!g.immutableKeys[h]){var Z=ne({},h,p);g.beforeSet(w,Z);for(var J=0,re=x.length;J<re;J++){var fe=x[J];g.canSet(fe)&&(z&&void 0===M._private[g.field][h]?L.default(fe._private[g.field],z,p):fe._private[g.field][h]=p)}g.updateStyle&&w.updateStyle(),g.onSet(w),g.settingTriggersEvent&&w[g.triggerFnName](g.settingEvent)}}else if(g.allowSetting&&Ze(h)){var ye,Ie,he=h,Ae=Object.keys(he);g.beforeSet(w,he);for(var be=0;be<Ae.length;be++)if(Ie=he[ye=Ae[be]],!g.immutableKeys[ye])for(var _e=0;_e<x.length;_e++){var ke=x[_e];g.canSet(ke)&&(ke._private[g.field][ye]=Ie)}g.updateStyle&&w.updateStyle(),g.onSet(w),g.settingTriggersEvent&&w[g.triggerFnName](g.settingEvent)}else if(g.allowBinding&&st(h))w.on(g.bindingEvent,h);else if(g.allowGetting&&void 0===h){var xe;return M&&(g.beforeGet(M),xe=M._private[g.field]),xe}return w}},removeData:function(o){return o=kn({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},o),function(h){var p=o,g=this,E=void 0!==g.length?g:[g];if(Be(h)){for(var x=h.split(/\s+/),M=x.length,F=0;F<M;F++){var z=x[F];if(!Ft(z)&&!p.immutableKeys[z])for(var j=0,Z=E.length;j<Z;j++)E[j]._private[p.field][z]=void 0}p.triggerEvent&&g[p.triggerFnName](p.event)}else if(void 0===h){for(var J=0,re=E.length;J<re;J++)for(var fe=E[J]._private[p.field],he=Object.keys(fe),ye=0;ye<he.length;ye++){var Ie=he[ye];!p.immutableKeys[Ie]&&(fe[Ie]=void 0)}p.triggerEvent&&g[p.triggerFnName](p.event)}return g}}},Cl={eventAliasesOn:function(o){var l=o;l.addListener=l.listen=l.bind=l.on,l.unlisten=l.unbind=l.off=l.removeListener,l.trigger=l.emit,l.pon=l.promiseOn=function(f,h){var p=this,g=Array.prototype.slice.call(arguments,0);return new gs(function(w,E){var M=g.concat([function(W){p.off.apply(p,F),w(W)}]),F=M.concat([]);p.on.apply(p,M)})}}},dr={};[{animated:function(){return function(){var l=this,h=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return!1;var g=h[0];return g?g._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var l=this,h=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return this;for(var g=0;g<h.length;g++)h[g]._private.animation.queue=[];return this}},delay:function(){return function(l,f){return(this._private.cy||this).styleEnabled()?this.animate({delay:l,duration:l,complete:f}):this}},delayAnimation:function(){return function(l,f){return(this._private.cy||this).styleEnabled()?this.animation({delay:l,duration:l,complete:f}):this}},animation:function(){return function(l,f){var h=this,p=void 0!==h.length,g=p?h:[h],w=this._private.cy||this,E=!p,x=!E;if(!w.styleEnabled())return this;var M=w.style();if(l=kn({},l,f),0===Object.keys(l).length)return new Ja(g[0],l);switch(void 0===l.duration&&(l.duration=400),l.duration){case"slow":l.duration=600;break;case"fast":l.duration=200}if(x&&(l.style=M.getPropsList(l.style||l.css),l.css=void 0),x&&null!=l.renderedPosition){var z=l.renderedPosition,W=w.pan(),j=w.zoom();l.position=mi(z,j,W)}if(E&&null!=l.panBy){var Z=l.panBy,J=w.pan();l.pan={x:J.x+Z.x,y:J.y+Z.y}}var re=l.center||l.centre;if(E&&null!=re){var fe=w.getCenterPan(re.eles,l.zoom);null!=fe&&(l.pan=fe)}if(E&&null!=l.fit){var he=l.fit,ye=w.getFitViewport(he.eles||he.boundingBox,he.padding);null!=ye&&(l.pan=ye.pan,l.zoom=ye.zoom)}if(E&&Ze(l.zoom)){var Ie=w.getZoomedViewport(l.zoom);null!=Ie?(Ie.zoomed&&(l.zoom=Ie.zoom),Ie.panned&&(l.pan=Ie.pan)):l.zoom=null}return new Ja(g[0],l)}},animate:function(){return function(l,f){var h=this,g=void 0!==h.length?h:[h];if(!(this._private.cy||this).styleEnabled())return this;f&&(l=kn({},l,f));for(var E=0;E<g.length;E++){var x=g[E],M=x.animated()&&(void 0===l.queue||l.queue);x.animation(l,M?{queue:!0}:void 0).play()}return this}},stop:function(){return function(l,f){var h=this,g=void 0!==h.length?h:[h],w=this._private.cy||this;if(!w.styleEnabled())return this;for(var E=0;E<g.length;E++){for(var M=g[E]._private,F=M.animation.current,z=0;z<F.length;z++)f&&(F[z]._private.duration=0);l&&(M.animation.queue=[]),f||(M.animation.current=[])}return w.notify("draw"),this}}},md,Cl].forEach(function(u){kn(dr,u)});var vd={animate:dr.animate(),animation:dr.animation(),animated:dr.animated(),clearQueue:dr.clearQueue(),delay:dr.delay(),delayAnimation:dr.delayAnimation(),stop:dr.stop()},es={classes:function(o){var l=this;if(void 0===o){var f=[];return l[0]._private.classes.forEach(function(j){return f.push(j)}),f}ht(o)||(o=(o||"").match(/\S+/g)||[]);for(var h=[],p=new Rs(o),g=0;g<l.length;g++){for(var w=l[g],E=w._private,x=E.classes,M=!1,F=0;F<o.length;F++)if(!x.has(o[F])){M=!0;break}M||(M=x.size!==o.length),M&&(E.classes=p,h.push(w))}return h.length>0&&this.spawn(h).updateStyle().emit("class"),l},addClass:function(o){return this.toggleClass(o,!0)},hasClass:function(o){var l=this[0];return null!=l&&l._private.classes.has(o)},toggleClass:function(o,l){ht(o)||(o=o.match(/\S+/g)||[]);for(var f=this,h=void 0===l,p=[],g=0,w=f.length;g<w;g++)for(var E=f[g],x=E._private.classes,M=!1,F=0;F<o.length;F++){var z=o[F],W=x.has(z),j=!1;l||h&&!W?(x.add(z),j=!0):(!l||h&&W)&&(x.delete(z),j=!0),!M&&j&&(p.push(E),M=!0)}return p.length>0&&this.spawn(p).updateStyle().emit("class"),f},removeClass:function(o){return this.toggleClass(o,!1)},flashClass:function(o,l){var f=this;if(null==l)l=250;else if(0===l)return f;return f.addClass(o),setTimeout(function(){f.removeClass(o)},l),f}};es.className=es.classNames=es.classes;var mn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:pn,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};mn.variable="(?:[\\w-.]|(?:\\\\"+mn.metaChar+"))+",mn.className="(?:[\\w-]|(?:\\\\"+mn.metaChar+"))+",mn.value=mn.string+"|"+mn.number,mn.id=mn.variable,function(){var u,o,l;for(u=mn.comparatorOp.split("|"),l=0;l<u.length;l++)mn.comparatorOp+="|@"+(o=u[l]);for(u=mn.comparatorOp.split("|"),l=0;l<u.length;l++)!((o=u[l]).indexOf("!")>=0)&&"="!==o&&(mn.comparatorOp+="|\\!"+o)}();var xl=[{selector:":selected",matches:function(o){return o.selected()}},{selector:":unselected",matches:function(o){return!o.selected()}},{selector:":selectable",matches:function(o){return o.selectable()}},{selector:":unselectable",matches:function(o){return!o.selectable()}},{selector:":locked",matches:function(o){return o.locked()}},{selector:":unlocked",matches:function(o){return!o.locked()}},{selector:":visible",matches:function(o){return o.visible()}},{selector:":hidden",matches:function(o){return!o.visible()}},{selector:":transparent",matches:function(o){return o.transparent()}},{selector:":grabbed",matches:function(o){return o.grabbed()}},{selector:":free",matches:function(o){return!o.grabbed()}},{selector:":removed",matches:function(o){return o.removed()}},{selector:":inside",matches:function(o){return!o.removed()}},{selector:":grabbable",matches:function(o){return o.grabbable()}},{selector:":ungrabbable",matches:function(o){return!o.grabbable()}},{selector:":animated",matches:function(o){return o.animated()}},{selector:":unanimated",matches:function(o){return!o.animated()}},{selector:":parent",matches:function(o){return o.isParent()}},{selector:":childless",matches:function(o){return o.isChildless()}},{selector:":child",matches:function(o){return o.isChild()}},{selector:":orphan",matches:function(o){return o.isOrphan()}},{selector:":nonorphan",matches:function(o){return o.isChild()}},{selector:":compound",matches:function(o){return o.isNode()?o.isParent():o.source().isParent()||o.target().isParent()}},{selector:":loop",matches:function(o){return o.isLoop()}},{selector:":simple",matches:function(o){return o.isSimple()}},{selector:":active",matches:function(o){return o.active()}},{selector:":inactive",matches:function(o){return!o.active()}},{selector:":backgrounding",matches:function(o){return o.backgrounding()}},{selector:":nonbackgrounding",matches:function(o){return!o.backgrounding()}}].sort(function(u,o){return function(o,l){return-1*Ya(o,l)}(u.selector,o.selector)}),Bs=function(){for(var o,u={},l=0;l<xl.length;l++)u[(o=xl[l]).selector]=o.matches;return u}(),Mu="("+xl.map(function(u){return u.selector}).join("|")+")",il=function(o){return o.replace(new RegExp("\\\\("+mn.metaChar+")","g"),function(l,f){return f})},si=function(o,l,f){o[o.length-1]=f},ql=[{name:"group",query:!0,regex:"("+mn.group+")",populate:function(o,l,f){var p=le(f,1)[0];l.checks.push({type:0,value:"*"===p?p:p+"s"})}},{name:"state",query:!0,regex:Mu,populate:function(o,l,f){var h=le(f,1);l.checks.push({type:7,value:h[0]})}},{name:"id",query:!0,regex:"\\#("+mn.id+")",populate:function(o,l,f){var h=le(f,1);l.checks.push({type:8,value:il(h[0])})}},{name:"className",query:!0,regex:"\\.("+mn.className+")",populate:function(o,l,f){var h=le(f,1);l.checks.push({type:9,value:il(h[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+mn.variable+")\\s*\\]",populate:function(o,l,f){var h=le(f,1);l.checks.push({type:4,field:il(h[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+mn.variable+")\\s*("+mn.comparatorOp+")\\s*("+mn.value+")\\s*\\]",populate:function(o,l,f){var h=le(f,3),p=h[0],g=h[1],w=h[2];w=null!=new RegExp("^"+mn.string+"$").exec(w)?w.substring(1,w.length-1):parseFloat(w),l.checks.push({type:3,field:il(p),operator:g,value:w})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+mn.boolOp+")\\s*("+mn.variable+")\\s*\\]",populate:function(o,l,f){var h=le(f,2),p=h[0];l.checks.push({type:5,field:il(h[1]),operator:p})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+mn.meta+")\\s*("+mn.comparatorOp+")\\s*("+mn.number+")\\s*\\]\\]",populate:function(o,l,f){var h=le(f,3),g=h[1],w=h[2];l.checks.push({type:6,field:il(h[0]),operator:g,value:parseFloat(w)})}},{name:"nextQuery",separator:!0,regex:mn.separator,populate:function(o,l){var f=o.currentSubject,h=o.edgeCount,p=o.compoundCount,g=o[o.length-1];return null!=f&&(g.subject=f,o.currentSubject=null),g.edgeCount=h,g.compoundCount=p,o.edgeCount=0,o.compoundCount=0,o[o.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:mn.directedEdge,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},p={checks:[]};return f.checks.push({type:11,source:l,target:p}),si(o,0,f),o.edgeCount++,p}var g={checks:[]},E={checks:[]};return g.checks.push({type:12,source:l,target:E}),si(o,0,g),o.edgeCount++,E}},{name:"undirectedEdge",separator:!0,regex:mn.undirectedEdge,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},p={checks:[]};return f.checks.push({type:10,nodes:[l,p]}),si(o,0,f),o.edgeCount++,p}var g={checks:[]},E={checks:[]};return g.checks.push({type:14,node:l,neighbor:E}),si(o,0,g),E}},{name:"child",separator:!0,regex:mn.child,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},h={checks:[]};return f.checks.push({type:15,parent:o[o.length-1],child:h}),si(o,0,f),o.compoundCount++,h}if(o.currentSubject===l){var g={checks:[]},E={checks:[]},x={checks:[]},M={checks:[]},F={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:E,subject:x}),x.checks=l.checks,l.checks=[{type:20}],F.checks.push({type:20}),E.checks.push({type:17,parent:F,child:M}),si(o,0,g),o.currentSubject=x,o.compoundCount++,M}var z={checks:[]},W={checks:[]},j=[{type:17,parent:z,child:W}];return z.checks=l.checks,l.checks=j,o.compoundCount++,W}},{name:"descendant",separator:!0,regex:mn.descendant,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},h={checks:[]};return f.checks.push({type:16,ancestor:o[o.length-1],descendant:h}),si(o,0,f),o.compoundCount++,h}if(o.currentSubject===l){var g={checks:[]},E={checks:[]},x={checks:[]},M={checks:[]},F={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:E,subject:x}),x.checks=l.checks,l.checks=[{type:20}],F.checks.push({type:20}),E.checks.push({type:18,ancestor:F,descendant:M}),si(o,0,g),o.currentSubject=x,o.compoundCount++,M}var z={checks:[]},W={checks:[]},j=[{type:18,ancestor:z,descendant:W}];return z.checks=l.checks,l.checks=j,o.compoundCount++,W}},{name:"subject",modifier:!0,regex:mn.subject,populate:function(o,l){if(null!=o.currentSubject&&o.currentSubject!==l)return Ir("Redefinition of subject in selector `"+o.toString()+"`"),!1;o.currentSubject=l;var h=o[o.length-1].checks[0],p=null==h?null:h.type;11===p?h.type=13:10===p&&(h.type=14,h.node=h.nodes[1],h.neighbor=h.nodes[0],h.nodes=null)}}];ql.forEach(function(u){return u.regexObj=new RegExp("^"+u.regex)});var ts=function(o){for(var l,f,h,p=0;p<ql.length;p++){var g=ql[p],w=g.name,E=o.match(g.regexObj);if(null!=E){f=E,l=g,h=w,o=o.substring(E[0].length);break}}return{expr:l,match:f,name:h,remaining:o}},Mf={parse:function(o){var l=this,f=l.inputText=o,h=l[0]={checks:[]};for(l.length=1,f=function(o){var l=o.match(/^\s+/);return l&&(o=o.substring(l[0].length)),o}(f);;){var p=ts(f);if(null==p.expr)return Ir("The selector `"+o+"`is invalid"),!1;var g=p.match.slice(1),w=p.expr.populate(l,h,g);if(!1===w)return!1;if(null!=w&&(h=w),(f=p.remaining).match(/^\s*$/))break}var E=l[l.length-1];null!=l.currentSubject&&(E.subject=l.currentSubject),E.edgeCount=l.edgeCount,E.compoundCount=l.compoundCount;for(var x=0;x<l.length;x++){var M=l[x];if(M.compoundCount>0&&M.edgeCount>0)return Ir("The selector `"+o+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(M.edgeCount>1)return Ir("The selector `"+o+"` is invalid because it uses multiple edge selectors"),!1;1===M.edgeCount&&Ir("The selector `"+o+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var o=function(M){return M??""},l=function(M){return Be(M)?'"'+M+'"':o(M)},f=function(M){return" "+M+" "},p=function(M,F){return M.checks.reduce(function(z,W,j){return z+(F===M&&0===j?"$":"")+function(M,F){var W=M.value;switch(M.type){case 0:var j=o(W);return j.substring(0,j.length-1);case 3:return"["+M.field+f(o(M.operator))+l(W)+"]";case 5:var fe=M.field;return"["+o(M.operator)+fe+"]";case 4:return"["+M.field+"]";case 6:return"[["+M.field+f(o(M.operator))+l(W)+"]]";case 7:return W;case 8:return"#"+W;case 9:return"."+W;case 17:case 15:return p(M.parent,F)+f(">")+p(M.child,F);case 18:case 16:return p(M.ancestor,F)+" "+p(M.descendant,F);case 19:var Ae=p(M.left,F),be=p(M.subject,F),Te=p(M.right,F);return Ae+(Ae.length>0?" ":"")+be+Te;case 20:return""}}(W,F)},"")},g="",w=0;w<this.length;w++){var E=this[w];g+=p(E,E.subject),this.length>1&&w<this.length-1&&(g+=", ")}return this.toStringCache=g,g}},ms=function(o,l,f){var h,E,x,p=Be(o),g=Qe(o),w=Be(f),M=!1,F=!1,z=!1;switch(l.indexOf("!")>=0&&(l=l.replace("!",""),F=!0),l.indexOf("@")>=0&&(l=l.replace("@",""),M=!0),(p||w||M)&&(E=p||g?""+o:"",x=""+f),M&&(o=E=E.toLowerCase(),f=x=x.toLowerCase()),l){case"*=":h=E.indexOf(x)>=0;break;case"$=":h=E.indexOf(x,E.length-x.length)>=0;break;case"^=":h=0===E.indexOf(x);break;case"=":h=o===f;break;case">":z=!0,h=o>f;break;case">=":z=!0,h=o>=f;break;case"<":z=!0,h=o<f;break;case"<=":z=!0,h=o<=f;break;default:h=!1}return F&&(null!=o||!z)&&(h=!h),h},Lo=function(o,l){return o.data(l)},bi=[],wi=function(o,l){return o.checks.every(function(f){return bi[f.type](f,l)})};bi[0]=function(u,o){var l=u.value;return"*"===l||l===o.group()},bi[7]=function(u,o){return function(o,l){return Bs[o](l)}(u.value,o)},bi[8]=function(u,o){var l=u.value;return o.id()===l},bi[9]=function(u,o){return o.hasClass(u.value)},bi[6]=function(u,o){var f=u.operator,h=u.value;return ms(function(o,l){return o[l]()}(o,u.field),f,h)},bi[3]=function(u,o){var f=u.operator,h=u.value;return ms(Lo(o,u.field),f,h)},bi[5]=function(u,o){var f=u.operator;return function(o,l){switch(l){case"?":return!!o;case"!":return!o;case"^":return void 0===o}}(Lo(o,u.field),f)},bi[4]=function(u,o){return function(o){return void 0!==o}(Lo(o,u.field))},bi[10]=function(u,o){var l=u.nodes[0],f=u.nodes[1],h=o.source(),p=o.target();return wi(l,h)&&wi(f,p)||wi(f,h)&&wi(l,p)},bi[14]=function(u,o){return wi(u.node,o)&&o.neighborhood().some(function(l){return l.isNode()&&wi(u.neighbor,l)})},bi[11]=function(u,o){return wi(u.source,o.source())&&wi(u.target,o.target())},bi[12]=function(u,o){return wi(u.source,o)&&o.outgoers().some(function(l){return l.isNode()&&wi(u.target,l)})},bi[13]=function(u,o){return wi(u.target,o)&&o.incomers().some(function(l){return l.isNode()&&wi(u.source,l)})},bi[15]=function(u,o){return wi(u.child,o)&&wi(u.parent,o.parent())},bi[17]=function(u,o){return wi(u.parent,o)&&o.children().some(function(l){return wi(u.child,l)})},bi[16]=function(u,o){return wi(u.descendant,o)&&o.ancestors().some(function(l){return wi(u.ancestor,l)})},bi[18]=function(u,o){return wi(u.ancestor,o)&&o.descendants().some(function(l){return wi(u.descendant,l)})},bi[19]=function(u,o){return wi(u.subject,o)&&wi(u.left,o)&&wi(u.right,o)},bi[20]=function(){return!0},bi[1]=function(u,o){return u.value.has(o)},bi[2]=function(u,o){return(0,u.value)(o)};var vy={matches:function(o){for(var f=0;f<this.length;f++)if(wi(this[f],o))return!0;return!1},filter:function(o){var l=this;if(1===l.length&&1===l[0].checks.length&&8===l[0].checks[0].type)return o.getElementById(l[0].checks[0].value).collection();var f=function(p){for(var g=0;g<l.length;g++)if(wi(l[g],p))return!0;return!1};return null==l.text()&&(f=function(){return!0}),o.filter(f)}},Au=function(o){this.inputText=o,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==o||Be(o)&&o.match(/^\s*$/)||(It(o)?this.addQuery({checks:[{type:1,value:o.collection()}]}):st(o)?this.addQuery({checks:[{type:2,value:o}]}):Be(o)?this.parse(o)||(this.invalid=!0):oi("A selector must be created from a string; found "))},El=Au.prototype;[Mf,vy].forEach(function(u){return kn(El,u)}),El.text=function(){return this.inputText},El.size=function(){return this.length},El.eq=function(u){return this[u]},El.sameText=function(u){return!this.invalid&&!u.invalid&&this.text()===u.text()},El.addQuery=function(u){this[this.length++]=u},El.selector=El.toString;var Zl={allAre:function(o){var l=new Au(o);return this.every(function(f){return l.matches(f)})},is:function(o){var l=new Au(o);return this.some(function(f){return l.matches(f)})},some:function(o,l){for(var f=0;f<this.length;f++)if(l?o.apply(l,[this[f],f,this]):o(this[f],f,this))return!0;return!1},every:function(o,l){for(var f=0;f<this.length;f++)if(!(l?o.apply(l,[this[f],f,this]):o(this[f],f,this)))return!1;return!0},same:function(o){if(this===o)return!0;o=this.cy().collection(o);var l=this.length;return l===o.length&&(1===l?this[0]===o[0]:this.every(function(h){return o.hasElementWithId(h.id())}))},anySame:function(o){return o=this.cy().collection(o),this.some(function(l){return o.hasElementWithId(l.id())})},allAreNeighbors:function(o){o=this.cy().collection(o);var l=this.neighborhood();return o.every(function(f){return l.hasElementWithId(f.id())})},contains:function(o){o=this.cy().collection(o);var l=this;return o.every(function(f){return l.hasElementWithId(f.id())})}};Zl.allAreNeighbours=Zl.allAreNeighbors,Zl.has=Zl.contains,Zl.equal=Zl.equals=Zl.same;var Ql,Af,ns=function(o,l){return function(h,p,g,w){var M,E=h,x=this;if(null==E?M="":It(E)&&1===E.length&&(M=E.id()),1===x.length&&M){var F=x[0]._private,z=F.traversalCache=F.traversalCache||{},W=z[l]=z[l]||[],j=cs(M);return W[j]||(W[j]=o.call(x,h,p,g,w))}return o.call(x,h,p,g,w)}},bd={parent:function(o){var l=[];if(1===this.length){var f=this[0]._private.parent;if(f)return f}for(var h=0;h<this.length;h++){var g=this[h]._private.parent;g&&l.push(g)}return this.spawn(l,!0).filter(o)},parents:function(o){for(var l=[],f=this.parent();f.nonempty();){for(var h=0;h<f.length;h++)l.push(f[h]);f=f.parent()}return this.spawn(l,!0).filter(o)},commonAncestors:function(o){for(var l,f=0;f<this.length;f++){var p=this[f].parents();l=(l=l||p).intersect(p)}return l.filter(o)},orphans:function(o){return this.stdFilter(function(l){return l.isOrphan()}).filter(o)},nonorphans:function(o){return this.stdFilter(function(l){return l.isChild()}).filter(o)},children:ns(function(u){for(var o=[],l=0;l<this.length;l++)for(var h=this[l]._private.children,p=0;p<h.length;p++)o.push(h[p]);return this.spawn(o,!0).filter(u)},"children"),siblings:function(o){return this.parent().children().not(this).filter(o)},isParent:function(){var o=this[0];if(o)return o.isNode()&&0!==o._private.children.length},isChildless:function(){var o=this[0];if(o)return o.isNode()&&0===o._private.children.length},isChild:function(){var o=this[0];if(o)return o.isNode()&&null!=o._private.parent},isOrphan:function(){var o=this[0];if(o)return o.isNode()&&null==o._private.parent},descendants:function(o){var l=[];return function f(h){for(var p=0;p<h.length;p++){var g=h[p];l.push(g),g.children().nonempty()&&f(g.children())}}(this.children()),this.spawn(l,!0).filter(o)}};function If(u,o,l,f){for(var h=[],p=new Rs,w=u.cy().hasCompoundNodes(),E=0;E<u.length;E++){var x=u[E];l?h.push(x):w&&f(h,p,x)}for(;h.length>0;){var M=h.shift();o(M),p.add(M.id()),w&&f(h,p,M)}return u}function Sh(u,o,l){if(l.isParent())for(var f=l._private.children,h=0;h<f.length;h++){var p=f[h];o.has(p.id())||u.push(p)}}function Hp(u,o,l){if(l.isChild()){var f=l._private.parent;o.has(f.id())||u.push(f)}}function vm(u,o,l){Hp(u,o,l),Sh(u,o,l)}bd.forEachDown=function(u){return If(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Sh)},bd.forEachUp=function(u){return If(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Hp)},bd.forEachUpAndDown=function(u){return If(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],vm)},bd.ancestors=bd.parents,Ql=Af={data:dr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:dr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:dr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:dr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:dr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:dr.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var o=this[0];if(o)return o._private.data.id}},Ql.attr=Ql.data,Ql.removeAttr=Ql.removeData;var Of=Af,Th={};function _d(u){return function(o){var l=this;if(void 0===o&&(o=!0),0===l.length);else if(l.isNode()&&!l.removed()){for(var f=0,h=l[0],p=h._private.edges,g=0;g<p.length;g++){var w=p[g];!o&&w.isLoop()||(f+=u(h,w))}return f}}}function co(u,o){return function(l){for(var f,h=this.nodes(),p=0;p<h.length;p++){var w=h[p][u](l);void 0!==w&&(void 0===f||o(w,f))&&(f=w)}return f}}kn(Th,{degree:_d(function(u,o){return o.source().same(o.target())?2:1}),indegree:_d(function(u,o){return o.target().same(u)?1:0}),outdegree:_d(function(u,o){return o.source().same(u)?1:0})}),kn(Th,{minDegree:co("degree",function(u,o){return u<o}),maxDegree:co("degree",function(u,o){return u>o}),minIndegree:co("indegree",function(u,o){return u<o}),maxIndegree:co("indegree",function(u,o){return u>o}),minOutdegree:co("outdegree",function(u,o){return u<o}),maxOutdegree:co("outdegree",function(u,o){return u>o})}),kn(Th,{totalDegree:function(o){for(var l=0,f=this.nodes(),h=0;h<f.length;h++)l+=f[h].degree(o);return l}});var rs,ym,wd=function(o,l,f){for(var h=0;h<o.length;h++){var p=o[h];if(!p.locked()){var g=p._private.position,w={x:null!=l.x?l.x-g.x:0,y:null!=l.y?l.y-g.y:0};p.isParent()&&!(0===w.x&&0===w.y)&&p.children().shift(w,f),p.dirtyBoundingBoxCache()}}},_a={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(o){o.updateCompoundBounds()},beforeSet:function(o,l){wd(o,l,!1)},onSet:function(o){o.dirtyCompoundBoundsCache()},canSet:function(o){return!o.locked()}};rs=ym={position:dr.data(_a),silentPosition:dr.data(kn({},_a,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(o,l){wd(o,l,!0)},onSet:function(o){o.dirtyCompoundBoundsCache()}})),positions:function(o,l){if(Ze(o))l?this.silentPosition(o):this.position(o);else if(st(o)){var f=o,h=this.cy();h.startBatch();for(var p=0;p<this.length;p++){var w,g=this[p];(w=f(g,p))&&(l?g.silentPosition(w):g.position(w))}h.endBatch()}return this},silentPositions:function(o){return this.positions(o,!0)},shift:function(o,l,f){var h;if(Ze(o)?(h={x:Qe(o.x)?o.x:0,y:Qe(o.y)?o.y:0},f=l):Be(o)&&Qe(l)&&((h={x:0,y:0})[o]=l),null!=h){var p=this.cy();p.startBatch();for(var g=0;g<this.length;g++){var w=this[g];if(!(p.hasCompoundNodes()&&w.isChild()&&w.ancestors().anySame(this))){var E=w.position(),x={x:E.x+h.x,y:E.y+h.y};f?w.silentPosition(x):w.position(x)}}p.endBatch()}return this},silentShift:function(o,l){return Ze(o)?this.shift(o,!0):Be(o)&&Qe(l)&&this.shift(o,l,!0),this},renderedPosition:function(o,l){var f=this[0],h=this.cy(),p=h.zoom(),g=h.pan(),w=Ze(o)?o:void 0,E=void 0!==w||void 0!==l&&Be(o);if(f&&f.isNode()){if(!E){var F=f.position();return w=Br(F,p,g),void 0===o?w:w[o]}for(var x=0;x<this.length;x++){var M=this[x];void 0!==l?M.position(o,(l-g[o])/p):void 0!==w&&M.position(mi(w,p,g))}}else if(!E)return;return this},relativePosition:function(o,l){var f=this[0],h=this.cy(),p=Ze(o)?o:void 0,g=void 0!==p||void 0!==l&&Be(o),w=h.hasCompoundNodes();if(f&&f.isNode()){if(!g){var j=f.position(),Z=w?f.parent():null,J=Z&&Z.length>0;J&&(Z=Z[0]);var fe=J?Z.position():{x:0,y:0};return p={x:j.x-fe.x,y:j.y-fe.y},void 0===o?p:p[o]}for(var E=0;E<this.length;E++){var x=this[E],M=w?x.parent():null,F=M&&M.length>0;F&&(M=M[0]);var W=F?M.position():{x:0,y:0};void 0!==l?x.position(o,l+W[o]):void 0!==p&&x.position({x:p.x+W.x,y:p.y+W.y})}}else if(!g)return;return this}},rs.modelPosition=rs.point=rs.position,rs.modelPositions=rs.points=rs.positions,rs.renderedPoint=rs.renderedPosition,rs.relativePoint=rs.relativePosition;var da,wa,Yr=ym;da=wa={},wa.renderedBoundingBox=function(u){var o=this.boundingBox(u),l=this.cy(),f=l.zoom(),h=l.pan(),p=o.x1*f+h.x,g=o.x2*f+h.x,w=o.y1*f+h.y,E=o.y2*f+h.y;return{x1:p,x2:g,y1:w,y2:E,w:g-p,h:E-w}},wa.dirtyCompoundBoundsCache=function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();return o.styleEnabled()&&o.hasCompoundNodes()?(this.forEachUp(function(l){if(l.isParent()){var f=l._private;f.compoundBoundsClean=!1,f.bbCache=null,u||l.emitAndNotify("bounds")}}),this):this},wa.updateCompoundBounds=function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();if(!o.styleEnabled()||!o.hasCompoundNodes())return this;if(!u&&o.batching())return this;function l(g){if(g.isParent()){var w=g._private,E=g.children(),x="include"===g.pstyle("compound-sizing-wrt-labels").value,M={width:{val:g.pstyle("min-width").pfValue,left:g.pstyle("min-width-bias-left"),right:g.pstyle("min-width-bias-right")},height:{val:g.pstyle("min-height").pfValue,top:g.pstyle("min-height-bias-top"),bottom:g.pstyle("min-height-bias-bottom")}},F=E.boundingBox({includeLabels:x,includeOverlays:!1,useCache:!1}),z=w.position;(0===F.w||0===F.h)&&((F={w:g.pstyle("width").pfValue,h:g.pstyle("height").pfValue}).x1=z.x-F.w/2,F.x2=z.x+F.w/2,F.y1=z.y-F.h/2,F.y2=z.y+F.h/2);var Z=M.width.left.value;"px"===M.width.left.units&&M.width.val>0&&(Z=100*Z/M.width.val);var J=M.width.right.value;"px"===M.width.right.units&&M.width.val>0&&(J=100*J/M.width.val);var re=M.height.top.value;"px"===M.height.top.units&&M.height.val>0&&(re=100*re/M.height.val);var fe=M.height.bottom.value;"px"===M.height.bottom.units&&M.height.val>0&&(fe=100*fe/M.height.val);var he=W(M.width.val-F.w,Z,J),ye=he.biasDiff,Ie=he.biasComplementDiff,Ae=W(M.height.val-F.h,re,fe),be=Ae.biasDiff,Te=Ae.biasComplementDiff;w.autoPadding=function j(_e,ke,Pe,xe){if("%"!==Pe.units)return"px"===Pe.units?Pe.pfValue:0;switch(xe){case"width":return _e>0?Pe.pfValue*_e:0;case"height":return ke>0?Pe.pfValue*ke:0;case"average":return _e>0&&ke>0?Pe.pfValue*(_e+ke)/2:0;case"min":return _e>0&&ke>0?_e>ke?Pe.pfValue*ke:Pe.pfValue*_e:0;case"max":return _e>0&&ke>0?_e>ke?Pe.pfValue*_e:Pe.pfValue*ke:0;default:return 0}}(F.w,F.h,g.pstyle("padding"),g.pstyle("padding-relative-to").value),w.autoWidth=Math.max(F.w,M.width.val),z.x=(-ye+F.x1+F.x2+Ie)/2,w.autoHeight=Math.max(F.h,M.height.val),z.y=(-be+F.y1+F.y2+Te)/2}function W(_e,ke,Pe){var xe=0,He=0,Ne=ke+Pe;return _e>0&&Ne>0&&(xe=ke/Ne*_e,He=Pe/Ne*_e),{biasDiff:xe,biasComplementDiff:He}}}for(var f=0;f<this.length;f++){var h=this[f],p=h._private;(!p.compoundBoundsClean||u)&&(l(h),o.batching()||(p.compoundBoundsClean=!0))}return this};var Bo=function(o){return o===1/0||o===-1/0?0:o},vs=function(o,l,f,h,p){h-l==0||p-f==0||null==l||null==f||null==h||null==p||(o.x1=l<o.x1?l:o.x1,o.x2=h>o.x2?h:o.x2,o.y1=f<o.y1?f:o.y1,o.y2=p>o.y2?p:o.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1)},Vo=function(o,l){return null==l?o:vs(o,l.x1,l.y1,l.x2,l.y2)},Dl=function(o,l,f){return Qi(o,l,f)},eo=function(o,l,f){if(!l.cy().headless()){var E,x,h=l._private,p=h.rstyle,g=p.arrowWidth/2;if("none"!==l.pstyle(f+"-arrow-shape").value){"source"===f?(E=p.srcX,x=p.srcY):"target"===f?(E=p.tgtX,x=p.tgtY):(E=p.midX,x=p.midY);var M=h.arrowBounds=h.arrowBounds||{},F=M[f]=M[f]||{};F.x1=E-g,F.y1=x-g,F.x2=E+g,F.y2=x+g,F.w=F.x2-F.x1,F.h=F.y2-F.y1,ka(F,1),vs(o,F.x1,F.y1,F.x2,F.y2)}}},wc=function(o,l,f){if(!l.cy().headless()){var h,p=l._private,g=p.rstyle;if(l.pstyle((h=f?f+"-":"")+"label").strValue){var Pe,xe,He,Ne,E=l.pstyle("text-halign"),x=l.pstyle("text-valign"),M=Dl(g,"labelWidth",f),F=Dl(g,"labelHeight",f),z=Dl(g,"labelX",f),W=Dl(g,"labelY",f),j=l.pstyle(h+"text-margin-x").pfValue,Z=l.pstyle(h+"text-margin-y").pfValue,J=l.isEdge(),re=l.pstyle(h+"text-rotation"),fe=l.pstyle("text-outline-width").pfValue,ye=l.pstyle("text-border-width").pfValue/2,Ie=l.pstyle("text-background-padding").pfValue,be=F,Te=M,_e=Te/2,ke=be/2;if(J)Pe=z-_e,xe=z+_e,He=W-ke,Ne=W+ke;else{switch(E.value){case"left":Pe=z-Te,xe=z;break;case"center":Pe=z-_e,xe=z+_e;break;case"right":Pe=z,xe=z+Te}switch(x.value){case"top":He=W-be,Ne=W;break;case"center":He=W-ke,Ne=W+ke;break;case"bottom":He=W,Ne=W+be}}Pe+=j-Math.max(fe,ye)-Ie-2,xe+=j+Math.max(fe,ye)+Ie+2,He+=Z-Math.max(fe,ye)-Ie-2,Ne+=Z+Math.max(fe,ye)+Ie+2;var Je=f||"main",Ue=p.labelBounds,We=Ue[Je]=Ue[Je]||{};We.x1=Pe,We.y1=He,We.x2=xe,We.y2=Ne,We.w=xe-Pe,We.h=Ne-He;var at=J&&"autorotate"===re.strValue;if(at||null!=re.pfValue&&0!==re.pfValue){var bt=at?Dl(p.rstyle,"labelAngle",f):re.pfValue,lt=Math.cos(bt),yt=Math.sin(bt),At=(Pe+xe)/2,Ot=(He+Ne)/2;if(!J){switch(E.value){case"left":At=xe;break;case"right":At=Pe}switch(x.value){case"top":Ot=Ne;break;case"bottom":Ot=He}}var Dt=function(ar,sn){return{x:(ar-=At)*lt-(sn-=Ot)*yt+At,y:ar*yt+sn*lt+Ot}},wt=Dt(Pe,He),nt=Dt(Pe,Ne),Mt=Dt(xe,He),Nt=Dt(xe,Ne);Pe=Math.min(wt.x,nt.x,Mt.x,Nt.x),xe=Math.max(wt.x,nt.x,Mt.x,Nt.x),He=Math.min(wt.y,nt.y,Mt.y,Nt.y),Ne=Math.max(wt.y,nt.y,Mt.y,Nt.y)}var Yt=Je+"Rot",rn=Ue[Yt]=Ue[Yt]||{};rn.x1=Pe,rn.y1=He,rn.x2=xe,rn.y2=Ne,rn.w=xe-Pe,rn.h=Ne-He,vs(o,Pe,He,xe,Ne),vs(p.labelBounds.all,Pe,He,xe,Ne)}return o}},Cd=function(o){var l=0,f=function(g){return(g?1:0)<<l++},h=0;return h+=f(o.incudeNodes),h+=f(o.includeEdges),h+=f(o.includeLabels),h+=f(o.includeMainLabels),h+=f(o.includeSourceLabels),(h+=f(o.includeTargetLabels))+f(o.includeOverlays)},Cc=function(o){if(o.isEdge()){var l=o.source().position(),f=o.target().position(),h=function(g){return Math.round(g)};return function(o,l){var f={value:0,done:!1},h=0,p=o.length;return rd({next:function(){return h<p?f.value=o[h++]:f.done=!0,f}},void 0)}([h(l.x),h(l.y),h(f.x),h(f.y)])}return 0},ys=function(o,l){var h,f=o._private,p=o.isEdge(),w=(null==l?zp:Cd(l))===zp,E=Cc(o),x=f.bbCachePosKey===E,M=l.useCache&&x,F=function(Z){return null==Z._private.bbCache||Z._private.styleDirty};if(!M||F(o)||p&&F(o.source())||F(o.target())?(x||o.recalculateRenderedStyle(M),h=function(o,l){var M,F,z,W,j,Z,f=o._private.cy,h=f.styleEnabled(),p=f.headless(),g=Mi(),w=o._private,E=o.isNode(),x=o.isEdge(),J=w.rstyle,re=E&&h?o.pstyle("bounds-expansion").pfValue:[0],fe=function(Bn){return"none"!==Bn.pstyle("display").value},he=!h||fe(o)&&(!x||fe(o.source())&&fe(o.target()));if(he){var Ie=0;h&&l.includeOverlays&&0!==o.pstyle("overlay-opacity").value&&(Ie=o.pstyle("overlay-padding").value);var be=0;h&&l.includeUnderlays&&0!==o.pstyle("underlay-opacity").value&&(be=o.pstyle("underlay-padding").value);var Te=Math.max(Ie,be),ke=0;if(h&&(ke=o.pstyle("width").pfValue/2),E&&l.includeNodes){var Pe=o.position();j=Pe.x,Z=Pe.y;var He=o.outerWidth()/2,Je=o.outerHeight()/2;vs(g,M=j-He,z=Z-Je,F=j+He,W=Z+Je)}else if(x&&l.includeEdges)if(h&&!p){var Ue=o.pstyle("curve-style").strValue;if(M=Math.min(J.srcX,J.midX,J.tgtX),F=Math.max(J.srcX,J.midX,J.tgtX),z=Math.min(J.srcY,J.midY,J.tgtY),W=Math.max(J.srcY,J.midY,J.tgtY),vs(g,M-=ke,z-=ke,F+=ke,W+=ke),"haystack"===Ue){var We=J.haystackPts;if(We&&2===We.length){if((M=We[0].x)>(F=We[1].x)){var at=M;M=F,F=at}if((z=We[0].y)>(W=We[1].y)){var dt=z;z=W,W=dt}vs(g,M-ke,z-ke,F+ke,W+ke)}}else if("bezier"===Ue||"unbundled-bezier"===Ue||"segments"===Ue||"taxi"===Ue){var bt;switch(Ue){case"bezier":case"unbundled-bezier":bt=J.bezierPts;break;case"segments":case"taxi":bt=J.linePts}if(null!=bt)for(var lt=0;lt<bt.length;lt++){var yt=bt[lt];vs(g,M=yt.x-ke,z=yt.y-ke,F=yt.x+ke,W=yt.y+ke)}}}else{var Ot=o.source().position(),wt=o.target().position();if((M=Ot.x)>(F=wt.x)){var nt=M;M=F,F=nt}if((z=Ot.y)>(W=wt.y)){var Mt=z;z=W,W=Mt}vs(g,M-=ke,z-=ke,F+=ke,W+=ke)}if(h&&l.includeEdges&&x&&(eo(g,o,"mid-source"),eo(g,o,"mid-target"),eo(g,o,"source"),eo(g,o,"target")),h&&"yes"===o.pstyle("ghost").value){var Yt=o.pstyle("ghost-offset-x").pfValue,rn=o.pstyle("ghost-offset-y").pfValue;vs(g,g.x1+Yt,g.y1+rn,g.x2+Yt,g.y2+rn)}var Xn=w.bodyBounds=w.bodyBounds||{};io(Xn,g),ks(Xn,re),ka(Xn,1),h&&vs(g,(M=g.x1)-Te,(z=g.y1)-Te,(F=g.x2)+Te,(W=g.y2)+Te);var ar=w.overlayBounds=w.overlayBounds||{};io(ar,g),ks(ar,re),ka(ar,1);var sn=w.labelBounds=w.labelBounds||{};null!=sn.all?function(o){o.x1=1/0,o.y1=1/0,o.x2=-1/0,o.y2=-1/0,o.w=0,o.h=0}(sn.all):sn.all=Mi(),h&&l.includeLabels&&(l.includeMainLabels&&wc(g,o,null),x&&(l.includeSourceLabels&&wc(g,o,"source"),l.includeTargetLabels&&wc(g,o,"target")))}return g.x1=Bo(g.x1),g.y1=Bo(g.y1),g.x2=Bo(g.x2),g.y2=Bo(g.y2),g.w=Bo(g.x2-g.x1),g.h=Bo(g.y2-g.y1),g.w>0&&g.h>0&&he&&(ks(g,re),ka(g,1)),g}(o,xc),f.bbCache=h,f.bbCachePosKey=E):h=f.bbCache,!w){var W=o.isNode();h=Mi(),(l.includeNodes&&W||l.includeEdges&&!W)&&Vo(h,l.includeOverlays?f.overlayBounds:f.bodyBounds),l.includeLabels&&(l.includeMainLabels&&(!p||l.includeSourceLabels&&l.includeTargetLabels)?Vo(h,f.labelBounds.all):(l.includeMainLabels&&Vo(h,f.labelBounds.mainRot),l.includeSourceLabels&&Vo(h,f.labelBounds.sourceRot),l.includeTargetLabels&&Vo(h,f.labelBounds.targetRot))),h.w=h.x2-h.x1,h.h=h.y2-h.y1}return h},xc={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},zp=Cd(xc),Mh=ui(xc);wa.boundingBox=function(u){var o;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==u&&void 0!==u.useCache&&!0!==u.useCache){o=Mi();var l=Mh(u=u||xc),f=this;if(f.cy().styleEnabled())for(var g=0;g<f.length;g++){var w=f[g],E=w._private,x=Cc(w);w.recalculateRenderedStyle(l.useCache&&E.bbCachePosKey===x&&!E.styleDirty)}this.updateCompoundBounds(!u.useCache);for(var z=0;z<f.length;z++)Vo(o,ys(f[z],l))}else u=void 0===u?xc:Mh(u),o=ys(this[0],u);return o.x1=Bo(o.x1),o.y1=Bo(o.y1),o.x2=Bo(o.x2),o.y2=Bo(o.y2),o.w=Bo(o.x2-o.x1),o.h=Bo(o.y2-o.y1),o},wa.dirtyBoundingBoxCache=function(){for(var u=0;u<this.length;u++){var o=this[u]._private;o.bbCache=null,o.bbCachePosKey=null,o.bodyBounds=null,o.overlayBounds=null,o.labelBounds.all=null,o.labelBounds.source=null,o.labelBounds.target=null,o.labelBounds.main=null,o.labelBounds.sourceRot=null,o.labelBounds.targetRot=null,o.labelBounds.mainRot=null,o.arrowBounds.source=null,o.arrowBounds.target=null,o.arrowBounds["mid-source"]=null,o.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},wa.boundingBoxAt=function(u){var o=this.nodes(),l=this.cy(),f=l.hasCompoundNodes(),h=l.collection();if(f&&(h=o.filter(function(x){return x.isParent()}),o=o.not(h)),Ze(u)){var p=u;u=function(){return p}}l.startBatch(),o.forEach(function(M,F){return M._private.bbAtOldPos=u(M,F)}).silentPositions(u),f&&(h.dirtyCompoundBoundsCache(),h.dirtyBoundingBoxCache(),h.updateCompoundBounds(!0));var E=function(o){return{x1:o.x1,x2:o.x2,w:o.w,y1:o.y1,y2:o.y2,h:o.h}}(this.boundingBox({useCache:!1}));return o.silentPositions(function(M){return M._private.bbAtOldPos}),f&&(h.dirtyCompoundBoundsCache(),h.dirtyBoundingBoxCache(),h.updateCompoundBounds(!0)),l.endBatch(),E},da.boundingbox=da.bb=da.boundingBox,da.renderedBoundingbox=da.renderedBoundingBox;var Ou,Sl,Ec=wa;Ou=Sl={};var Up=function(o){o.uppercaseName=qr(o.name),o.autoName="auto"+o.uppercaseName,o.labelName="label"+o.uppercaseName,o.outerName="outer"+o.uppercaseName,o.uppercaseOuterName=qr(o.outerName),Ou[o.name]=function(){var f=this[0],h=f._private;if(f){if(h.cy._private.styleEnabled){if(f.isParent())return f.updateCompoundBounds(),h[o.autoName]||0;var w=f.pstyle(o.name);return"label"===w.strValue?(f.recalculateRenderedStyle(),h.rstyle[o.labelName]||0):w.pfValue}return 1}},Ou["outer"+o.uppercaseName]=function(){var f=this[0];if(f)return f._private.cy._private.styleEnabled?f[o.name]()+f.pstyle("border-width").pfValue+2*f.padding():1},Ou["rendered"+o.uppercaseName]=function(){var f=this[0];if(f)return f[o.name]()*this.cy().zoom()},Ou["rendered"+o.uppercaseOuterName]=function(){var f=this[0];if(f)return f[o.outerName]()*this.cy().zoom()}};Up({name:"width"}),Up({name:"height"}),Sl.padding=function(){var u=this[0],o=u._private;return u.isParent()?(u.updateCompoundBounds(),void 0!==o.autoPadding?o.autoPadding:u.pstyle("padding").pfValue):u.pstyle("padding").pfValue},Sl.paddedHeight=function(){var u=this[0];return u.height()+2*u.padding()},Sl.paddedWidth=function(){var u=this[0];return u.width()+2*u.padding()};var bm=Sl,Rf={controlPoints:{get:function(o){return o.renderer().getControlPoints(o)},mult:!0},segmentPoints:{get:function(o){return o.renderer().getSegmentPoints(o)},mult:!0},sourceEndpoint:{get:function(o){return o.renderer().getSourceEndpoint(o)}},targetEndpoint:{get:function(o){return o.renderer().getTargetEndpoint(o)}},midpoint:{get:function(o){return o.renderer().getEdgeMidpoint(o)}}},Ah=Object.keys(Rf).reduce(function(u,o){var l=Rf[o],f=function(o){return"rendered"+o[0].toUpperCase()+o.substr(1)}(o);return u[o]=function(){return function(o,l){if(o.isEdge())return l(o)}(this,l.get)},u[f]=l.mult?function(){return function(o,l){if(o.isEdge()){var f=o.cy(),h=f.pan(),p=f.zoom();return l(o).map(function(g){return Br(g,p,h)})}}(this,l.get)}:function(){return function(o,l){if(o.isEdge()){var f=o.cy();return Br(l(o),f.zoom(),f.pan())}}(this,l.get)},u},{}),Oh=kn({},Yr,Ec,bm,Ah),Dd=function(o,l){this.recycle(o,l)};function Sd(){return!1}function Va(){return!0}Dd.prototype={instanceString:function(){return"event"},recycle:function(o,l){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Sd,null!=o&&o.preventDefault?(this.type=o.type,this.isDefaultPrevented=o.defaultPrevented?Va:Sd):null!=o&&o.type?l=o:this.type=o,null!=l&&(this.originalEvent=l.originalEvent,this.type=null!=l.type?l.type:this.type,this.cy=l.cy,this.target=l.target,this.position=l.position,this.renderedPosition=l.renderedPosition,this.namespace=l.namespace,this.layout=l.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var f=this.position,h=this.cy.zoom(),p=this.cy.pan();this.renderedPosition={x:f.x*h+p.x,y:f.y*h+p.y}}this.timeStamp=o&&o.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Va;var o=this.originalEvent;o&&o.preventDefault&&o.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Va;var o=this.originalEvent;o&&o.stopPropagation&&o.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Va,this.stopPropagation()},isDefaultPrevented:Sd,isPropagationStopped:Sd,isImmediatePropagationStopped:Sd};var xo=/^([^.]+)(\.(?:[^.]+))?$/,hi={qualifierCompare:function(o,l){return o===l},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(o){return o},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Nh=Object.keys(hi),Md={};function ji(){for(var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Md,o=arguments.length>1?arguments[1]:void 0,l=0;l<Nh.length;l++){var f=Nh[l];this[f]=u[f]||hi[f]}this.context=o||this.context,this.listeners=[],this.emitting=0}var Vs=ji.prototype,kf=function(o,l,f,h,p,g,w){st(h)&&(p=h,h=null),w&&(g=null==g?w:kn({},g,w));for(var E=ht(f)?f:f.split(/\s+/),x=0;x<E.length;x++){var M=E[x];if(!Ft(M)){var F=M.match(xo);if(F&&!1===l(o,M,F[1],F[2]?F[2]:null,h,p,g))break}}},Jl=function(o,l){return o.addEventFields(o.context,l),new Dd(l.type,l)};Vs.on=Vs.addListener=function(u,o,l,f,h){return kf(this,function(p,g,w,E,x,M,F){st(M)&&p.listeners.push({event:g,callback:M,type:w,namespace:E,qualifier:x,conf:F})},u,o,l,f,h),this},Vs.one=function(u,o,l,f){return this.on(u,o,l,f,{one:!0})},Vs.removeListener=Vs.off=function(u,o,l,f){var h=this;0!==this.emitting&&(this.listeners=function(o){return o.slice()}(this.listeners));for(var p=this.listeners,g=function(x){var M=p[x];kf(h,function(F,z,W,j,Z,J){if((M.type===W||"*"===u)&&(!j&&".*"!==M.namespace||M.namespace===j)&&(!Z||F.qualifierCompare(M.qualifier,Z))&&(!J||M.callback===J))return p.splice(x,1),!1},u,o,l,f)},w=p.length-1;w>=0;w--)g(w);return this},Vs.removeAllListeners=function(){return this.removeListener("*")},Vs.emit=Vs.trigger=function(u,o,l){var f=this.listeners,h=f.length;return this.emitting++,ht(o)||(o=[o]),function(o,l,f){if(function(o){return"event"===ze(o)}(f))l(o,f);else if(Ze(f))l(o,Jl(o,f));else for(var h=ht(f)?f:f.split(/\s+/),p=0;p<h.length;p++){var g=h[p];if(!Ft(g)){var w=g.match(xo);w&&l(o,Jl(o,{type:w[1],namespace:w[2]?w[2]:null,target:o.context}))}}}(this,function(p,g){null!=l&&(h=(f=[{event:g.event,type:g.type,namespace:g.namespace,callback:l}]).length);for(var w=function(M){var F=f[M];if(F.type===g.type&&(!F.namespace||F.namespace===g.namespace||".*"===F.namespace)&&p.eventMatches(p.context,F,g)){var z=[g];null!=o&&function(o,l){for(var f=0;f<l.length;f++)o.push(l[f])}(z,o),p.beforeEmit(p.context,F,g),F.conf&&F.conf.one&&(p.listeners=p.listeners.filter(function(Z){return Z!==F}));var W=p.callbackContext(p.context,F,g),j=F.callback.apply(W,z);p.afterEmit(p.context,F,g),!1===j&&(g.stopPropagation(),g.preventDefault())}},E=0;E<h;E++)w(E);p.bubble(p.context)&&!g.isPropagationStopped()&&p.parent(p.context).emit(g,o)},u),this.emitting--,this};var Sc={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,f){var h=l.qualifier;return null==h||o!==f.target&&bn(f.target)&&h.matches(f.target)},addEventFields:function(o,l){l.cy=o.cy(),l.target=o},callbackContext:function(o,l,f){return null!=l.qualifier?f.target:o},beforeEmit:function(o,l){l.conf&&l.conf.once&&l.conf.onceCollection.removeListener(l.event,l.qualifier,l.callback)},bubble:function(){return!0},parent:function(o){return o.isChild()?o.parent():o.cy()}},Id=function(o){return Be(o)?new Au(o):o},Ad={createEmitter:function(){for(var o=0;o<this.length;o++){var l=this[o],f=l._private;f.emitter||(f.emitter=new ji(Sc,l))}return this},emitter:function(){return this._private.emitter},on:function(o,l,f){for(var h=Id(l),p=0;p<this.length;p++)this[p].emitter().on(o,h,f);return this},removeListener:function(o,l,f){for(var h=Id(l),p=0;p<this.length;p++)this[p].emitter().removeListener(o,h,f);return this},removeAllListeners:function(){for(var o=0;o<this.length;o++)this[o].emitter().removeAllListeners();return this},one:function(o,l,f){for(var h=Id(l),p=0;p<this.length;p++)this[p].emitter().one(o,h,f);return this},once:function(o,l,f){for(var h=Id(l),p=0;p<this.length;p++)this[p].emitter().on(o,h,f,{once:!0,onceCollection:this})},emit:function(o,l){for(var f=0;f<this.length;f++)this[f].emitter().emit(o,l);return this},emitAndNotify:function(o,l){if(0!==this.length)return this.cy().notify(o,this),this.emit(o,l),this}};dr.eventAliasesOn(Ad);var ol={nodes:function(o){return this.filter(function(l){return l.isNode()}).filter(o)},edges:function(o){return this.filter(function(l){return l.isEdge()}).filter(o)},byGroup:function(){for(var o=this.spawn(),l=this.spawn(),f=0;f<this.length;f++){var h=this[f];h.isNode()?o.push(h):l.push(h)}return{nodes:o,edges:l}},filter:function(o,l){if(void 0===o)return this;if(Be(o)||It(o))return new Au(o).filter(this);if(st(o)){for(var f=this.spawn(),h=this,p=0;p<h.length;p++){var g=h[p];(l?o.apply(l,[g,p,h]):o(g,p,h))&&f.push(g)}return f}return this.spawn()},not:function(o){if(o){Be(o)&&(o=this.filter(o));for(var l=this.spawn(),f=0;f<this.length;f++){var h=this[f];o.has(h)||l.push(h)}return l}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(o){if(Be(o))return this.filter(o);for(var f=this.spawn(),g=this.length<o.length,w=g?this:o,E=g?o:this,x=0;x<w.length;x++){var M=w[x];E.has(M)&&f.push(M)}return f},xor:function(o){var l=this._private.cy;Be(o)&&(o=l.$(o));var f=this.spawn(),p=o,g=function(E,x){for(var M=0;M<E.length;M++){var F=E[M];x.hasElementWithId(F._private.data.id)||f.push(F)}};return g(this,p),g(p,this),f},diff:function(o){var l=this._private.cy;Be(o)&&(o=l.$(o));var f=this.spawn(),h=this.spawn(),p=this.spawn(),w=o,E=function(M,F,z){for(var W=0;W<M.length;W++){var j=M[W];F.hasElementWithId(j._private.data.id)?p.merge(j):z.push(j)}};return E(this,w,f),E(w,this,h),{left:f,right:h,both:p}},add:function(o){var l=this._private.cy;if(!o)return this;if(Be(o)){var f=o;o=l.mutableElements().filter(f)}for(var h=this.spawnSelf(),p=0;p<o.length;p++){var g=o[p];!this.has(g)&&h.push(g)}return h},merge:function(o){var l=this._private,f=l.cy;if(!o)return this;if(o&&Be(o)){var h=o;o=f.mutableElements().filter(h)}for(var p=l.map,g=0;g<o.length;g++){var w=o[g],E=w._private.data.id;if(!p.has(E)){var M=this.length++;this[M]=w,p.set(E,{ele:w,index:M})}}return this},unmergeAt:function(o){var f=this[o].id(),p=this._private.map;if(this[o]=void 0,p.delete(f),this.length>1&&o!==this.length-1){var w=this.length-1,E=this[w],x=E._private.data.id;this[w]=void 0,this[o]=E,p.set(x,{ele:E,index:o})}return this.length--,this},unmergeOne:function(o){var p=this._private.map.get((o=o[0])._private.data.id);return p?(this.unmergeAt(p.index),this):this},unmerge:function(o){var l=this._private.cy;if(!o)return this;if(o&&Be(o)){var f=o;o=l.mutableElements().filter(f)}for(var h=0;h<o.length;h++)this.unmergeOne(o[h]);return this},unmergeBy:function(o){for(var l=this.length-1;l>=0;l--)o(this[l])&&this.unmergeAt(l);return this},map:function(o,l){for(var f=[],h=this,p=0;p<h.length;p++){var g=h[p],w=l?o.apply(l,[g,p,h]):o(g,p,h);f.push(w)}return f},reduce:function(o,l){for(var f=l,h=this,p=0;p<h.length;p++)f=o(f,h[p],p,h);return f},max:function(o,l){for(var h,f=-1/0,p=this,g=0;g<p.length;g++){var w=p[g],E=l?o.apply(l,[w,g,p]):o(w,g,p);E>f&&(f=E,h=w)}return{value:f,ele:h}},min:function(o,l){for(var h,f=1/0,p=this,g=0;g<p.length;g++){var w=p[g],E=l?o.apply(l,[w,g,p]):o(w,g,p);E<f&&(f=E,h=w)}return{value:f,ele:h}}},Ar=ol;Ar.u=Ar["|"]=Ar["+"]=Ar.union=Ar.or=Ar.add,Ar["\\"]=Ar["!"]=Ar["-"]=Ar.difference=Ar.relativeComplement=Ar.subtract=Ar.not,Ar.n=Ar["&"]=Ar["."]=Ar.and=Ar.intersection=Ar.intersect,Ar["^"]=Ar["(+)"]=Ar["(-)"]=Ar.symmetricDifference=Ar.symdiff=Ar.xor,Ar.fnFilter=Ar.filterFn=Ar.stdFilter=Ar.filter,Ar.complement=Ar.abscomp=Ar.absoluteComplement;var o,eu=function(o,l){var h=o.cy().hasCompoundNodes();function p(M){var F=M.pstyle("z-compound-depth");return"auto"===F.value?h?M.zDepth():0:"bottom"===F.value?-1:"top"===F.value?oc:0}var g=p(o)-p(l);if(0!==g)return g;function w(M){return"auto"===M.pstyle("z-index-compare").value&&M.isNode()?1:0}var E=w(o)-w(l);if(0!==E)return E;var x=o.pstyle("z-index").value-l.pstyle("z-index").value;return 0!==x?x:o.poolIndex()-l.poolIndex()},Tc={forEach:function(o,l){if(st(o))for(var f=this.length,h=0;h<f;h++){var p=this[h];if(!1===(l?o.apply(l,[p,h,this]):o(p,h,this)))break}return this},toArray:function(){for(var o=[],l=0;l<this.length;l++)o.push(this[l]);return o},slice:function(o,l){var f=[],h=this.length;null==l&&(l=h),null==o&&(o=0),o<0&&(o=h+o),l<0&&(l=h+l);for(var p=o;p>=0&&p<l&&p<h;p++)f.push(this[p]);return this.spawn(f)},size:function(){return this.length},eq:function(o){return this[o]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(o){if(!st(o))return this;var l=this.toArray().sort(o);return this.spawn(l)},sortByZIndex:function(){return this.sort(eu)},zDepth:function(){var o=this[0];if(o){var l=o._private;if("nodes"===l.group){var h=l.data.parent?o.parents().size():0;return o.isParent()?h:oc-1}var g=l.target,w=l.source.zDepth(),E=g.zDepth();return Math.max(w,E,0)}}};Tc.each=Tc.forEach,o="undefined",(typeof Symbol>"u"?"undefined":H(Symbol))!=o&&H(Symbol.iterator)!=o&&(Tc[Symbol.iterator]=function(){var f=this,h={value:void 0,done:!1},p=0,g=this.length;return ne({next:function(){return p<g?h.value=f[p++]:(h.value=void 0,h.done=!0),h}},Symbol.iterator,function(){return this})});var Wp=ui({nodeDimensionsIncludeLabels:!1}),Hn={layoutDimensions:function(o){var l;if(o=Wp(o),this.takesUpSpace())if(o.nodeDimensionsIncludeLabels){var f=this.boundingBox();l={w:f.w,h:f.h}}else l={w:this.outerWidth(),h:this.outerHeight()};else l={w:0,h:0};return(0===l.w||0===l.h)&&(l.w=l.h=1),l},layoutPositions:function(o,l,f){var h=this.nodes().filter(function(Ie){return!Ie.isParent()}),p=this.cy(),g=l.eles,w=function(Ae){return Ae.id()},E=Lr(f,w);o.emit({type:"layoutstart",layout:o}),o.animations=[];var M=l.spacingFactor&&1!==l.spacingFactor,z=function(){if(!M)return null;for(var Ae=Mi(),be=0;be<h.length;be++){var _e=E(h[be],be);uc(Ae,_e.x,_e.y)}return Ae}(),W=Lr(function(Ie,Ae){var be=E(Ie,Ae);return M&&(be=function(Ae,be,Te){var _e_x=be.x1+be.w/2,_e_y=be.y1+be.h/2;return{x:_e_x+(Te.x-_e_x)*Ae,y:_e_y+(Te.y-_e_y)*Ae}}(Math.abs(l.spacingFactor),z,be)),null!=l.transform&&(be=l.transform(Ie,be)),be},w);if(l.animate){for(var j=0;j<h.length;j++){var Z=h[j],J=W(Z,j);if(null==l.animateFilter||l.animateFilter(Z,j)){var fe=Z.animation({position:J,duration:l.animationDuration,easing:l.animationEasing});o.animations.push(fe)}else Z.position(J)}if(l.fit){var he=p.animation({fit:{boundingBox:g.boundingBoxAt(W),padding:l.padding},duration:l.animationDuration,easing:l.animationEasing});o.animations.push(he)}else if(void 0!==l.zoom&&void 0!==l.pan){var ye=p.animation({zoom:l.zoom,pan:l.pan,duration:l.animationDuration,easing:l.animationEasing});o.animations.push(ye)}o.animations.forEach(function(Ie){return Ie.play()}),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),gs.all(o.animations.map(function(Ie){return Ie.promise()})).then(function(){o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o})})}else h.positions(W),l.fit&&p.fit(l.eles,l.padding),null!=l.zoom&&p.zoom(l.zoom),l.pan&&p.pan(l.pan),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o});return this},layout:function(o){return this.cy().makeLayout(kn({},o,{eles:this}))}};function Nu(u,o,l){var p,f=l._private,h=f.styleCache=f.styleCache||[];return null!=(p=h[u])||(p=h[u]=o(l)),p}function Ru(u,o){return u=cs(u),function(f){return Nu(u,o,f)}}function tu(u,o){u=cs(u);var l=function(h){return o.call(h)};return function(){var h=this[0];if(h)return Nu(u,l,h)}}Hn.createLayout=Hn.makeLayout=Hn.layout;var Ho={recalculateRenderedStyle:function(o){var l=this.cy(),f=l.renderer(),h=l.styleEnabled();return f&&h&&f.recalculateRenderedStyle(this,o),this},dirtyStyleCache:function(){var f,o=this.cy(),l=function(p){return p._private.styleCache=null};return o.hasCompoundNodes()?((f=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(f.connectedEdges()),f.forEach(l)):this.forEach(function(h){l(h),h.connectedEdges().forEach(l)}),this},updateStyle:function(o){var l=this._private.cy;if(!l.styleEnabled())return this;if(l.batching())return l._private.batchStyleEles.merge(this),this;var p=this;o=!(!o&&void 0!==o),l.hasCompoundNodes()&&(p=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var g=p;return o?g.emitAndNotify("style"):g.emit("style"),p.forEach(function(w){return w._private.styleDirty=!0}),this},cleanStyle:function(){var o=this.cy();if(o.styleEnabled())for(var l=0;l<this.length;l++){var f=this[l];f._private.styleDirty&&(f._private.styleDirty=!1,o.style().apply(f))}},parsedStyle:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=this[0],h=f.cy();if(h.styleEnabled()&&f)return this.cleanStyle(),f._private.style[o]??(l?h.style().getDefaultProperty(o):null)},numericStyle:function(o){var l=this[0];if(l.cy().styleEnabled()&&l){var f=l.pstyle(o);return void 0!==f.pfValue?f.pfValue:f.value}},numericStyleUnits:function(o){var l=this[0];if(l.cy().styleEnabled()&&l)return l.pstyle(o).units},renderedStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var f=this[0];return f?l.style().getRenderedStyle(f,o):void 0},style:function(o,l){var f=this.cy();if(!f.styleEnabled())return this;var p=f.style();if(Ze(o))p.applyBypass(this,o,!1),this.emitAndNotify("style");else if(Be(o)){if(void 0===l){var w=this[0];return w?p.getStylePropertyValue(w,o):void 0}p.applyBypass(this,o,l,!1),this.emitAndNotify("style")}else if(void 0===o){var E=this[0];return E?p.getRawStyle(E):void 0}return this},removeStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var h=l.style(),p=this;if(void 0===o)for(var g=0;g<p.length;g++)h.removeAllBypasses(p[g],!1);else{o=o.split(/\s+/);for(var E=0;E<p.length;E++)h.removeBypasses(p[E],o,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var o=this.cy();if(!o.styleEnabled())return 1;var l=o.hasCompoundNodes(),f=this[0];if(f){var h=f._private,p=f.pstyle("opacity").value;if(!l)return p;var g=h.data.parent?f.parents():null;if(g)for(var w=0;w<g.length;w++)p*=g[w].pstyle("opacity").value;return p}},transparent:function(){if(!this.cy().styleEnabled())return!1;var l=this[0],f=l.cy().hasCompoundNodes();return l?f?0===l.effectiveOpacity():0===l.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function kh(u,o){var f=u._private.data.parent?u.parents():null;if(f)for(var h=0;h<f.length;h++)if(!o(f[h]))return!1;return!0}function Od(u){var o=u.ok,l=u.edgeOkViaNode||u.ok,f=u.parentOk||u.ok;return function(){var h=this.cy();if(!h.styleEnabled())return!0;var p=this[0],g=h.hasCompoundNodes();if(p){var w=p._private;if(!o(p))return!1;if(p.isNode())return!g||kh(p,f);var E=w.source,x=w.target;return l(E)&&(!g||kh(E,l))&&(E===x||l(x)&&(!g||kh(x,l)))}}}var zo=Ru("eleTakesUpSpace",function(u){return"element"===u.pstyle("display").value&&0!==u.width()&&(!u.isNode()||0!==u.height())});Ho.takesUpSpace=tu("takesUpSpace",Od({ok:zo}));var Mc=Ru("eleInteractive",function(u){return"yes"===u.pstyle("events").value&&"visible"===u.pstyle("visibility").value&&zo(u)}),Nd=Ru("parentInteractive",function(u){return"visible"===u.pstyle("visibility").value&&zo(u)});Ho.interactive=tu("interactive",Od({ok:Mc,parentOk:Nd,edgeOkViaNode:zo})),Ho.noninteractive=function(){var u=this[0];if(u)return!u.interactive()};var Cm=Ru("eleVisible",function(u){return"visible"===u.pstyle("visibility").value&&0!==u.pstyle("opacity").pfValue&&zo(u)});Ho.visible=tu("visible",Od({ok:Cm,edgeOkViaNode:zo})),Ho.hidden=function(){var u=this[0];if(u)return!u.visible()},Ho.isBundledBezier=tu("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Ho.bypass=Ho.css=Ho.style,Ho.renderedCss=Ho.renderedStyle,Ho.removeBypass=Ho.removeCss=Ho.removeStyle,Ho.pstyle=Ho.parsedStyle;var nu={};function Rt(u){return function(){var o=arguments,l=[];if(2===o.length)this.on(u.event,o[0],o[1]);else if(1===o.length&&st(o[0]))this.on(u.event,o[0]);else if(0===o.length||1===o.length&&ht(o[0])){for(var g=1===o.length?o[0]:null,w=0;w<this.length;w++){var E=this[w],x=!u.ableField||E._private[u.ableField],M=E._private[u.field]!=u.value;if(u.overrideAble){var F=u.overrideAble(E);if(void 0!==F&&(x=F,!F))return this}x&&(E._private[u.field]=u.value,M&&l.push(E))}var z=this.spawn(l);z.updateStyle(),z.emit(u.event),g&&z.emit(g)}return this}}function Cr(u){nu[u.field]=function(){var o=this[0];if(o){if(u.overrideField){var l=u.overrideField(o);if(void 0!==l)return l}return o._private[u.field]}},nu[u.on]=Rt({event:u.on,field:u.field,ableField:u.ableField,overrideAble:u.overrideAble,value:!0}),nu[u.off]=Rt({event:u.off,field:u.field,ableField:u.ableField,overrideAble:u.overrideAble,value:!1})}Cr({field:"locked",overrideField:function(o){return!!o.cy().autolock()||void 0},on:"lock",off:"unlock"}),Cr({field:"grabbable",overrideField:function(o){return!o.cy().autoungrabify()&&!o.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Cr({field:"selected",ableField:"selectable",overrideAble:function(o){return!o.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Cr({field:"selectable",overrideField:function(o){return!o.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),nu.deselect=nu.unselect,nu.grabbed=function(){var u=this[0];if(u)return u._private.grabbed},Cr({field:"active",on:"activate",off:"unactivate"}),Cr({field:"pannable",on:"panify",off:"unpanify"}),nu.inactive=function(){var u=this[0];if(u)return!u._private.active};var Ln={},ni=function(o){return function(f){for(var p=[],g=0;g<this.length;g++){var w=this[g];if(w.isNode()){for(var E=!1,x=w.connectedEdges(),M=0;M<x.length;M++){var F=x[M],z=F.source(),W=F.target();if(o.noIncomingEdges&&W===w&&z!==w||o.noOutgoingEdges&&z===w&&W!==w){E=!0;break}}E||p.push(w)}}return this.spawn(p,!0).filter(f)}},Uo=function(o){return function(l){for(var h=[],p=0;p<this.length;p++){var g=this[p];if(g.isNode())for(var w=g.connectedEdges(),E=0;E<w.length;E++){var x=w[E],M=x.source(),F=x.target();o.outgoing&&M===g?(h.push(x),h.push(F)):o.incoming&&F===g&&(h.push(x),h.push(M))}}return this.spawn(h,!0).filter(l)}},Ph=function(o){return function(l){for(var f=this,h=[],p={};;){var g=o.outgoing?f.outgoers():f.incomers();if(0===g.length)break;for(var w=!1,E=0;E<g.length;E++){var x=g[E],M=x.id();p[M]||(p[M]=!0,h.push(x),w=!0)}if(!w)break;f=g}return this.spawn(h,!0).filter(l)}};function Ic(u){return function(l){for(var f=[],h=0;h<this.length;h++){var g=this[h]._private[u.attr];g&&f.push(g)}return this.spawn(f,!0).filter(l)}}function bs(u){return function(l){var f=[],h=this._private.cy,p=u||{};Be(l)&&(l=h.$(l));for(var g=0;g<l.length;g++)for(var w=l[g]._private.edges,E=0;E<w.length;E++){var x=w[E],M=x._private.data,F=this.hasElementWithId(M.source)&&l.hasElementWithId(M.target),z=l.hasElementWithId(M.source)&&this.hasElementWithId(M.target);(F||z)&&((p.thisIsSrc||p.thisIsTgt)&&(p.thisIsSrc&&!F||p.thisIsTgt&&!z)||f.push(x))}return this.spawn(f,!0)}}function Rd(u){return u=kn({},{codirected:!1},u),function(f){for(var h=[],p=this.edges(),g=u,w=0;w<p.length;w++)for(var x=p[w]._private,M=x.source,F=M._private.data.id,z=x.data.target,W=M._private.edges,j=0;j<W.length;j++){var Z=W[j],J=Z._private.data,re=J.target,fe=J.source,he=re===z&&fe===F;(g.codirected&&he||!g.codirected&&(he||F===re&&z===fe))&&h.push(Z)}return this.spawn(h,!0).filter(f)}}Ln.clearTraversalCache=function(){for(var u=0;u<this.length;u++)this[u]._private.traversalCache=null},kn(Ln,{roots:ni({noIncomingEdges:!0}),leaves:ni({noOutgoingEdges:!0}),outgoers:ns(Uo({outgoing:!0}),"outgoers"),successors:Ph({outgoing:!0}),incomers:ns(Uo({incoming:!0}),"incomers"),predecessors:Ph({incoming:!0})}),kn(Ln,{neighborhood:ns(function(u){for(var o=[],l=this.nodes(),f=0;f<l.length;f++)for(var h=l[f],p=h.connectedEdges(),g=0;g<p.length;g++){var w=p[g],E=w.source(),x=w.target(),M=h===E?x:E;M.length>0&&o.push(M[0]),o.push(w[0])}return this.spawn(o,!0).filter(u)},"neighborhood"),closedNeighborhood:function(o){return this.neighborhood().add(this).filter(o)},openNeighborhood:function(o){return this.neighborhood(o)}}),Ln.neighbourhood=Ln.neighborhood,Ln.closedNeighbourhood=Ln.closedNeighborhood,Ln.openNeighbourhood=Ln.openNeighborhood,kn(Ln,{source:ns(function(o){var f,l=this[0];return l&&(f=l._private.source||l.cy().collection()),f&&o?f.filter(o):f},"source"),target:ns(function(o){var f,l=this[0];return l&&(f=l._private.target||l.cy().collection()),f&&o?f.filter(o):f},"target"),sources:Ic({attr:"source"}),targets:Ic({attr:"target"})}),kn(Ln,{edgesWith:ns(bs(),"edgesWith"),edgesTo:ns(bs({thisIsSrc:!0}),"edgesTo")}),kn(Ln,{connectedEdges:ns(function(u){for(var o=[],f=0;f<this.length;f++){var h=this[f];if(h.isNode())for(var p=h._private.edges,g=0;g<p.length;g++)o.push(p[g])}return this.spawn(o,!0).filter(u)},"connectedEdges"),connectedNodes:ns(function(u){for(var o=[],f=0;f<this.length;f++){var h=this[f];h.isEdge()&&(o.push(h.source()[0]),o.push(h.target()[0]))}return this.spawn(o,!0).filter(u)},"connectedNodes"),parallelEdges:ns(Rd(),"parallelEdges"),codirectedEdges:ns(Rd({codirected:!0}),"codirectedEdges")}),kn(Ln,{components:function(o){var l=this,f=l.cy(),h=f.collection(),p=null==o?l.nodes():o.nodes(),g=[];null!=o&&p.empty()&&(p=o.sources());var w=function(M,F){h.merge(M),p.unmerge(M),F.merge(M)};if(p.empty())return l.spawn();var E=function(){var M=f.collection();g.push(M);var F=p[0];w(F,M),l.bfs({directed:!1,roots:F,visit:function(W){return w(W,M)}}),M.forEach(function(z){z.connectedEdges().forEach(function(W){l.has(W)&&M.has(W.source())&&M.has(W.target())&&M.merge(W)})})};do{E()}while(p.length>0);return g},component:function(){var o=this[0];return o.cy().mutableElements().components(o)[0]}}),Ln.componentsOf=Ln.components;var fo=function(o,l){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==o){var p=new Tt,g=!1;if(l){if(l.length>0&&Ze(l[0])&&!bn(l[0])){g=!0;for(var w=[],E=new Rs,x=0,M=l.length;x<M;x++){var F=l[x];null==F.data&&(F.data={});var z=F.data;if(null==z.id)z.id=gf();else if(o.hasElementWithId(z.id)||E.has(z.id))continue;var W=new Oe(o,F,!1);w.push(W),E.add(z.id)}l=w}}else l=[];this.length=0;for(var j=0,Z=l.length;j<Z;j++){var J=l[j][0];if(null!=J){var re=J._private.data.id;(!f||!p.has(re))&&(f&&p.set(re,{index:this.length,ele:J}),this[this.length]=J,this.length++)}}this._private={eles:this,cy:o,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(fe){this.lazyMap=fe},rebuildMap:function(){for(var he=this.lazyMap=new Tt,ye=this.eles,Ie=0;Ie<ye.length;Ie++){var Ae=ye[Ie];he.set(Ae.id(),{index:Ie,ele:Ae})}}},f&&(this._private.map=p),g&&!h&&this.restore()}else oi("A collection must have a reference to the core")},_i=Oe.prototype=fo.prototype=Object.create(Array.prototype);_i.instanceString=function(){return"collection"},_i.spawn=function(u,o){return new fo(this.cy(),u,o)},_i.spawnSelf=function(){return this.spawn(this)},_i.cy=function(){return this._private.cy},_i.renderer=function(){return this._private.cy.renderer()},_i.element=function(){return this[0]},_i.collection=function(){return hn(this)?this:new fo(this._private.cy,[this])},_i.unique=function(){return new fo(this._private.cy,this,!0)},_i.hasElementWithId=function(u){return this._private.map.has(u=""+u)},_i.getElementById=function(u){var o=this._private.cy,l=this._private.map.get(u=""+u);return l?l.ele:new fo(o)},_i.$id=_i.getElementById,_i.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},_i.indexOf=function(u){return this._private.map.get(u[0]._private.data.id).index},_i.indexOfId=function(u){return this._private.map.get(u=""+u).index},_i.json=function(u){var o=this.element(),l=this.cy();if(null==o&&u)return this;if(null!=o){var f=o._private;if(Ze(u)){if(l.startBatch(),u.data){o.data(u.data);var h=f.data;if(o.isEdge()){var p=!1,g={},w=u.data.source,E=u.data.target;null!=w&&w!=h.source&&(g.source=""+w,p=!0),null!=E&&E!=h.target&&(g.target=""+E,p=!0),p&&(o=o.move(g))}else{var M=u.data.parent;"parent"in u.data&&(null!=M||null!=h.parent)&&M!=h.parent&&(void 0===M&&(M=null),null!=M&&(M=""+M),o=o.move({parent:M}))}}u.position&&o.position(u.position);var F=function(Z,J,re){var fe=u[Z];null!=fe&&fe!==f[Z]&&(fe?o[J]():o[re]())};return F("removed","remove","restore"),F("selected","select","unselect"),F("selectable","selectify","unselectify"),F("locked","lock","unlock"),F("grabbable","grabify","ungrabify"),F("pannable","panify","unpanify"),null!=u.classes&&o.classes(u.classes),l.endBatch(),this}if(void 0===u){var z={data:ki(f.data),position:ki(f.position),group:f.group,removed:f.removed,selected:f.selected,selectable:f.selectable,locked:f.locked,grabbable:f.grabbable,pannable:f.pannable,classes:""},W=0;return f.classes.forEach(function(j){return z.classes+=0==W++?j:" "+j}),z}}},_i.jsons=function(){for(var u=[],o=0;o<this.length;o++){var f=this[o].json();u.push(f)}return u},_i.clone=function(){for(var u=this.cy(),o=[],l=0;l<this.length;l++){var h=this[l].json(),p=new Oe(u,h,!1);o.push(p)}return new fo(u,o)},_i.copy=_i.clone,_i.restore=function(){for(var w,u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,f=l.cy(),h=f._private,p=[],g=[],E=0,x=l.length;E<x;E++){var M=l[E];o&&!M.removed()||(M.isNode()?p.push(M):g.push(M))}w=p.concat(g);var F,z=function(){w.splice(F,1),F--};for(F=0;F<w.length;F++){var W=w[F],j=W._private,Z=j.data;if(W.clearTraversalCache(),o||j.removed)if(void 0===Z.id)Z.id=gf();else if(Qe(Z.id))Z.id=""+Z.id;else{if(Ft(Z.id)||!Be(Z.id)){oi("Can not create element with invalid string ID `"+Z.id+"`"),z();continue}if(f.hasElementWithId(Z.id)){oi("Can not create second element with ID `"+Z.id+"`"),z();continue}}var J=Z.id;if(W.isNode()){var re=j.position;null==re.x&&(re.x=0),null==re.y&&(re.y=0)}if(W.isEdge()){for(var fe=W,he=["source","target"],ye=he.length,Ie=!1,Ae=0;Ae<ye;Ae++){var be=he[Ae],Te=Z[be];Qe(Te)&&(Te=Z[be]=""+Z[be]),null==Te||""===Te?(oi("Can not create edge `"+J+"` with unspecified "+be),Ie=!0):f.hasElementWithId(Te)||(oi("Can not create edge `"+J+"` with nonexistant "+be+" `"+Te+"`"),Ie=!0)}if(Ie){z();continue}var _e=f.getElementById(Z.source),ke=f.getElementById(Z.target);_e.same(ke)?_e._private.edges.push(fe):(_e._private.edges.push(fe),ke._private.edges.push(fe)),fe._private.source=_e,fe._private.target=ke}j.map=new Tt,j.map.set(J,{ele:W,index:0}),j.removed=!1,o&&f.addToPool(W)}for(var Pe=0;Pe<p.length;Pe++){var xe=p[Pe],He=xe._private.data;Qe(He.parent)&&(He.parent=""+He.parent);var Ne=He.parent;if(null!=Ne||xe._private.parent){var Ue=xe._private.parent?f.collection().merge(xe._private.parent):f.getElementById(Ne);if(Ue.empty())He.parent=void 0;else if(Ue[0].removed())Ir("Node added with missing parent, reference to parent removed"),He.parent=void 0,xe._private.parent=null;else{for(var We=!1,at=Ue;!at.empty();){if(xe.same(at)){We=!0,He.parent=void 0;break}at=at.parent()}We||(Ue[0]._private.children.push(xe),xe._private.parent=Ue[0],h.hasCompoundNodes=!0)}}}if(w.length>0){for(var dt=w.length===l.length?l:new fo(f,w),bt=0;bt<dt.length;bt++){var lt=dt[bt];lt.isNode()||(lt.parallelEdges().clearTraversalCache(),lt.source().clearTraversalCache(),lt.target().clearTraversalCache())}(h.hasCompoundNodes?f.collection().merge(dt).merge(dt.connectedNodes()).merge(dt.parent()):dt).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(u),u?dt.emitAndNotify("add"):o&&dt.emit("add")}return l},_i.removed=function(){var u=this[0];return u&&u._private.removed},_i.inside=function(){var u=this[0];return u&&!u._private.removed},_i.remove=function(){var u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,f=[],h={},p=l._private.cy;function E(Ne){var Je=h[Ne.id()];o&&Ne.removed()||Je||(h[Ne.id()]=!0,Ne.isNode()?(f.push(Ne),function g(Ne){for(var Je=Ne._private.edges,Ue=0;Ue<Je.length;Ue++)E(Je[Ue])}(Ne),function w(Ne){for(var Je=Ne._private.children,Ue=0;Ue<Je.length;Ue++)E(Je[Ue])}(Ne)):f.unshift(Ne))}for(var x=0,M=l.length;x<M;x++)E(l[x]);function z(Ne,Je){Ka(Ne._private.edges,Je),Ne.clearTraversalCache()}var j=[];function Z(Ne,Je){Je=Je[0];var Ue=(Ne=Ne[0])._private.children,We=Ne.id();Ka(Ue,Je),Je._private.parent=null,j.ids[We]||(j.ids[We]=!0,j.push(Ne))}j.ids={},l.dirtyCompoundBoundsCache(),o&&p.removeFromPool(f);for(var J=0;J<f.length;J++){var re=f[J];if(re.isEdge()){var fe=re.source()[0],he=re.target()[0];z(fe,re),z(he,re);for(var ye=re.parallelEdges(),Ie=0;Ie<ye.length;Ie++){var Ae=ye[Ie];Ae.clearTraversalCache(),Ae.isBundledBezier()&&Ae.dirtyBoundingBoxCache()}}else{var be=re.parent();0!==be.length&&Z(be,re)}o&&(re._private.removed=!0)}var Te=p._private.elements;p._private.hasCompoundNodes=!1;for(var _e=0;_e<Te.length;_e++)if(Te[_e].isParent()){p._private.hasCompoundNodes=!0;break}var Pe=new fo(this.cy(),f);Pe.size()>0&&(u?Pe.emitAndNotify("remove"):o&&Pe.emit("remove"));for(var xe=0;xe<j.length;xe++){var He=j[xe];(!o||!He.removed())&&He.updateStyle()}return Pe},_i.move=function(u){var o=this._private.cy,l=this,f=!1,h=!1,p=function(j){return null==j?j:""+j};if(void 0!==u.source||void 0!==u.target){var g=p(u.source),w=p(u.target),E=null!=g&&o.hasElementWithId(g),x=null!=w&&o.hasElementWithId(w);(E||x)&&(o.batch(function(){l.remove(f,h),l.emitAndNotify("moveout");for(var W=0;W<l.length;W++){var j=l[W],Z=j._private.data;j.isEdge()&&(E&&(Z.source=g),x&&(Z.target=w))}l.restore(f,h)}),l.emitAndNotify("move"))}else if(void 0!==u.parent){var M=p(u.parent);if(null===M||o.hasElementWithId(M)){var z=null===M?void 0:M;o.batch(function(){var W=l.remove(f,h);W.emitAndNotify("moveout");for(var j=0;j<l.length;j++){var Z=l[j],J=Z._private.data;Z.isNode()&&(J.parent=z)}W.restore(f,h)}),l.emitAndNotify("move")}}return this},[wo,vd,es,Zl,bd,Of,Th,Oh,Ad,ol,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var o=this[0];if(o)return o._private.group}},Tc,Hn,Ho,nu,Ln].forEach(function(u){kn(_i,u)});var by={add:function(o){var l,f=this;if(It(o)){var h=o;if(h._private.cy===f)l=h.restore();else{for(var p=[],g=0;g<h.length;g++)p.push(h[g].json());l=new fo(f,p)}}else if(ht(o))l=new fo(f,o);else if(Ze(o)&&(ht(o.nodes)||ht(o.edges))){for(var x=o,M=[],F=["nodes","edges"],z=0,W=F.length;z<W;z++){var j=F[z],Z=x[j];if(ht(Z))for(var J=0,re=Z.length;J<re;J++){var fe=kn({group:j},Z[J]);M.push(fe)}}l=new fo(f,M)}else l=new Oe(f,o).collection();return l},remove:function(o){return It(o)||Be(o)&&(o=this.$(o)),o.remove()}};function Yp(u,o,l,f){var x=.1,M=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var F=0;F<4;++F)if("number"!=typeof arguments[F]||isNaN(arguments[F])||!isFinite(arguments[F]))return!1;u=Math.min(u,1),l=Math.min(l,1),u=Math.max(u,0),l=Math.max(l,0);var z=M?new Float32Array(11):new Array(11);function W(ke,Pe){return 1-3*Pe+3*ke}function j(ke,Pe){return 3*Pe-6*ke}function Z(ke){return 3*ke}function J(ke,Pe,xe){return((W(Pe,xe)*ke+j(Pe,xe))*ke+Z(Pe))*ke}function re(ke,Pe,xe){return 3*W(Pe,xe)*ke*ke+2*j(Pe,xe)*ke+Z(Pe)}var Ae=!1;var Te=function(Pe){return Ae||function be(){Ae=!0,(u!==o||l!==f)&&function he(){for(var ke=0;ke<11;++ke)z[ke]=J(ke*x,u,l)}()}(),u===o&&l===f?Pe:0===Pe?0:1===Pe?1:J(function Ie(ke){for(var Pe=0,xe=1;10!==xe&&z[xe]<=ke;++xe)Pe+=x;--xe;var Je=Pe+(ke-z[xe])/(z[xe+1]-z[xe])*x,Ue=re(Je,u,l);return Ue>=.001?function fe(ke,Pe){for(var xe=0;xe<4;++xe){var He=re(Pe,u,l);if(0===He)return Pe;Pe-=(J(Pe,u,l)-ke)/He}return Pe}(ke,Je):0===Ue?Je:function ye(ke,Pe,xe){var He,Ne,Je=0;do{(He=J(Ne=Pe+(xe-Pe)/2,u,l)-ke)>0?xe=Ne:Pe=Ne}while(Math.abs(He)>1e-7&&++Je<10);return Ne}(ke,Pe,Pe+x)}(Pe),o,f)};Te.getControlPoints=function(){return[{x:u,y:o},{x:l,y:f}]};var _e="generateBezier("+[u,o,l,f]+")";return Te.toString=function(){return _e},Te}var Wi=function(){function u(f){return-f.tension*f.x-f.friction*f.v}function o(f,h,p){var g={x:f.x+p.dx*h,v:f.v+p.dv*h,tension:f.tension,friction:f.friction};return{dx:g.v,dv:u(g)}}function l(f,h){var p={dx:f.v,dv:u(f)},g=o(f,.5*h,p),w=o(f,.5*h,g),E=o(f,h,w),M=1/6*(p.dv+2*(g.dv+w.dv)+E.dv);return f.x=f.x+1/6*(p.dx+2*(g.dx+w.dx)+E.dx)*h,f.v=f.v+M*h,f}return function f(h,p,g){var z,W,j,w={x:-1,v:0,tension:null,friction:null},E=[0],x=0,M=1e-4;for(h=parseFloat(h)||500,p=parseFloat(p)||20,g=g||null,w.tension=h,w.friction=p,W=(z=null!==g)?(x=f(h,p))/g*.016:.016;j=l(j||w,W),E.push(1+j.x),x+=16,Math.abs(j.x)>M&&Math.abs(j.v)>M;);return z?function(Z){return E[Z*(E.length-1)|0]}:x}}(),Sr=function(o,l,f,h){var p=Yp(o,l,f,h);return function(g,w,E){return g+(w-g)*p(E)}},ru={linear:function(o,l,f){return o+(l-o)*f},ease:Sr(.25,.1,.25,1),"ease-in":Sr(.42,0,1,1),"ease-out":Sr(0,0,.58,1),"ease-in-out":Sr(.42,0,.58,1),"ease-in-sine":Sr(.47,0,.745,.715),"ease-out-sine":Sr(.39,.575,.565,1),"ease-in-out-sine":Sr(.445,.05,.55,.95),"ease-in-quad":Sr(.55,.085,.68,.53),"ease-out-quad":Sr(.25,.46,.45,.94),"ease-in-out-quad":Sr(.455,.03,.515,.955),"ease-in-cubic":Sr(.55,.055,.675,.19),"ease-out-cubic":Sr(.215,.61,.355,1),"ease-in-out-cubic":Sr(.645,.045,.355,1),"ease-in-quart":Sr(.895,.03,.685,.22),"ease-out-quart":Sr(.165,.84,.44,1),"ease-in-out-quart":Sr(.77,0,.175,1),"ease-in-quint":Sr(.755,.05,.855,.06),"ease-out-quint":Sr(.23,1,.32,1),"ease-in-out-quint":Sr(.86,0,.07,1),"ease-in-expo":Sr(.95,.05,.795,.035),"ease-out-expo":Sr(.19,1,.22,1),"ease-in-out-expo":Sr(1,0,0,1),"ease-in-circ":Sr(.6,.04,.98,.335),"ease-out-circ":Sr(.075,.82,.165,1),"ease-in-out-circ":Sr(.785,.135,.15,.86),spring:function(o,l,f){if(0===f)return ru.linear;var h=Wi(o,l,f);return function(p,g,w){return p+(g-p)*h(w)}},"cubic-bezier":Sr};function Hs(u,o,l,f,h){if(1===f||o===l)return l;var p=h(o,l,f);return null==u||((u.roundValue||u.color)&&(p=Math.round(p)),void 0!==u.min&&(p=Math.max(p,u.min)),void 0!==u.max&&(p=Math.min(p,u.max))),p}function Go(u,o){return null!=u.pfValue||null!=u.value?null==u.pfValue||null!=o&&"%"===o.type.units?u.value:u.pfValue:u}function Ac(u,o,l,f,h){var p=null!=h?h.type:null;l<0?l=0:l>1&&(l=1);var g=Go(u,h),w=Go(o,h);if(Qe(g)&&Qe(w))return Hs(p,g,w,l,f);if(ht(g)&&ht(w)){for(var E=[],x=0;x<w.length;x++){var M=g[x],F=w[x];if(null!=M&&null!=F){var z=Hs(p,M,F,l,f);E.push(z)}else E.push(F)}return E}}function Xp(u,o,l,f){var h=!f,p=u._private,g=o._private,w=g.easing,E=g.startTime,M=(f?u:u.cy()).style();if(!g.easingImpl)if(null==w)g.easingImpl=ru.linear;else{var F,W,j;F=Be(w)?M.parse("transition-timing-function",w).value:w,Be(F)?(W=F,j=[]):(W=F[1],j=F.slice(2).map(function(dt){return+dt})),j.length>0?("spring"===W&&j.push(g.duration),g.easingImpl=ru[W].apply(null,j)):g.easingImpl=ru[W]}var J,Z=g.easingImpl;if(J=0===g.duration?1:(l-E)/g.duration,g.applying&&(J=g.progress),J<0?J=0:J>1&&(J=1),null==g.delay){var re=g.startPosition,fe=g.position;if(fe&&h&&!u.locked()){var he={};al(re.x,fe.x)&&(he.x=Ac(re.x,fe.x,J,Z)),al(re.y,fe.y)&&(he.y=Ac(re.y,fe.y,J,Z)),u.position(he)}var ye=g.startPan,Ie=g.pan,Ae=p.pan,be=null!=Ie&&f;be&&(al(ye.x,Ie.x)&&(Ae.x=Ac(ye.x,Ie.x,J,Z)),al(ye.y,Ie.y)&&(Ae.y=Ac(ye.y,Ie.y,J,Z)),u.emit("pan"));var Te=g.startZoom,_e=g.zoom,ke=null!=_e&&f;ke&&(al(Te,_e)&&(p.zoom=tl(p.minZoom,Ac(Te,_e,J,Z),p.maxZoom)),u.emit("zoom")),(be||ke)&&u.emit("viewport");var Pe=g.style;if(Pe&&Pe.length>0&&h){for(var xe=0;xe<Pe.length;xe++){var He=Pe[xe],Ne=He.name,Ue=g.startStyle[Ne],at=Ac(Ue,He,J,Z,M.properties[Ue.name]);M.overrideBypass(u,Ne,at)}u.emit("style")}}return g.progress=J,J}function al(u,o){return!!(null!=u&&null!=o&&(Qe(u)&&Qe(o)||u&&o))}function Kp(u,o,l,f){var h=o._private;h.started=!0,h.startTime=l-h.progress*h.duration}function kd(u,o){var l=o._private.aniEles,f=[];function h(M,F){var z=M._private,W=z.animation.current,j=z.animation.queue,Z=!1;if(0===W.length){var J=j.shift();J&&W.push(J)}for(var re=function(Ae){for(var be=Ae.length-1;be>=0;be--)(0,Ae[be])();Ae.splice(0,Ae.length)},fe=W.length-1;fe>=0;fe--){var he=W[fe],ye=he._private;ye.stopped?(W.splice(fe,1),ye.hooked=!1,ye.playing=!1,ye.started=!1,re(ye.frames)):!ye.playing&&!ye.applying||(ye.playing&&ye.applying&&(ye.applying=!1),ye.started||Kp(0,he,u),Xp(M,he,u,F),ye.applying&&(ye.applying=!1),re(ye.frames),null!=ye.step&&ye.step(u),he.completed()&&(W.splice(fe,1),ye.hooked=!1,ye.playing=!1,ye.started=!1,re(ye.completes)),Z=!0)}return!F&&0===W.length&&0===j.length&&f.push(M),Z}for(var p=!1,g=0;g<l.length;g++){var E=h(l[g]);p=p||E}var x=h(o,!0);(p||x)&&(l.length>0?o.notify("draw",l):o.notify("draw")),l.unmerge(f),o.emit("step")}var Pf={animate:dr.animate(),animation:dr.animation(),animated:dr.animated(),clearQueue:dr.clearQueue(),delay:dr.delay(),delayAnimation:dr.delayAnimation(),stop:dr.stop(),addToAnimationPool:function(o){this.styleEnabled()&&this._private.aniEles.merge(o)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var o=this;if(o._private.animationsRunning=!0,o.styleEnabled()){var f=o.renderer();f&&f.beforeRender?f.beforeRender(function(p,g){kd(g,o)},f.beforeRenderPriorities.animations):function l(){o._private.animationsRunning&&bu(function(p){kd(p,o),l()})}()}}},Pd={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,f){var h=l.qualifier;return null==h||o!==f.target&&bn(f.target)&&h.matches(f.target)},addEventFields:function(o,l){l.cy=o,l.target=o},callbackContext:function(o,l,f){return null!=l.qualifier?f.target:o}},zs=function(o){return Be(o)?new Au(o):o},Lf={createEmitter:function(){var o=this._private;return o.emitter||(o.emitter=new ji(Pd,this)),this},emitter:function(){return this._private.emitter},on:function(o,l,f){return this.emitter().on(o,zs(l),f),this},removeListener:function(o,l,f){return this.emitter().removeListener(o,zs(l),f),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(o,l,f){return this.emitter().one(o,zs(l),f),this},once:function(o,l,f){return this.emitter().one(o,zs(l),f),this},emit:function(o,l){return this.emitter().emit(o,l),this},emitAndNotify:function(o,l){return this.emit(o),this.notify(o,l),this}};dr.eventAliasesOn(Lf);var Oc={png:function(o){return this._private.renderer.png(o=o||{})},jpg:function(o){var l=this._private.renderer;return(o=o||{}).bg=o.bg||"#fff",l.jpg(o)}};Oc.jpeg=Oc.jpg;var iu={layout:function(o){var l=this;if(null!=o)if(null!=o.name){var p,f=o.name,h=l.extension("layout",f);if(null!=h)return p=Be(o.eles)?l.$(o.eles):null!=o.eles?o.eles:l.$(),new h(kn({},o,{cy:l,eles:p}));oi("No such layout `"+f+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else oi("A `name` must be specified to make a layout");else oi("Layout options must be specified to make a layout")}};iu.createLayout=iu.makeLayout=iu.layout;var qp={notify:function(o,l){var f=this._private;if(this.batching()){f.batchNotifications=f.batchNotifications||{};var h=f.batchNotifications[o]=f.batchNotifications[o]||this.collection();null!=l&&h.merge(l)}else if(f.notificationsEnabled){var p=this.renderer();this.destroyed()||!p||p.notify(o,l)}},notifications:function(o){var l=this._private;return void 0===o?l.notificationsEnabled:(l.notificationsEnabled=!!o,this)},noNotifications:function(o){this.notifications(!1),o(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var o=this._private;return null==o.batchCount&&(o.batchCount=0),0===o.batchCount&&(o.batchStyleEles=this.collection(),o.batchNotifications={}),o.batchCount++,this},endBatch:function(){var o=this._private;if(0===o.batchCount)return this;if(o.batchCount--,0===o.batchCount){o.batchStyleEles.updateStyle();var l=this.renderer();Object.keys(o.batchNotifications).forEach(function(f){var h=o.batchNotifications[f];h.empty()?l.notify(f):l.notify(f,h)})}return this},batch:function(o){return this.startBatch(),o(),this.endBatch(),this},batchData:function(o){var l=this;return this.batch(function(){for(var f=Object.keys(o),h=0;h<f.length;h++){var p=f[h],g=o[p];l.getElementById(p).data(g)}})}},Nc=ui({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Ld={renderTo:function(o,l,f,h){return this._private.renderer.renderTo(o,l,f,h),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(o){var l=this,f=l.extension("renderer",o.name);if(null!=f){void 0!==o.wheelSensitivity&&Ir("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var h=Nc(o);h.cy=l,l._private.renderer=new f(h),this.notify("init")}else oi("Can not initialise: No such renderer `".concat(o.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var o=this;o.notify("destroy");var l=o.container();if(l)for(l._cyreg=null;l.childNodes.length>0;)l.removeChild(l.childNodes[0]);o._private.renderer=null,o.mutableElements().forEach(function(f){var h=f._private;h.rscratch={},h.rstyle={},h.animation.current=[],h.animation.queue=[]})},onRender:function(o){return this.on("render",o)},offRender:function(o){return this.off("render",o)}};Ld.invalidateDimensions=Ld.resize;var Fd={collection:function(o,l){return Be(o)?this.$(o):It(o)?o.collection():ht(o)?(l||(l={}),new fo(this,o,l.unique,l.removed)):new fo(this)},nodes:function(o){var l=this.$(function(f){return f.isNode()});return o?l.filter(o):l},edges:function(o){var l=this.$(function(f){return f.isEdge()});return o?l.filter(o):l},$:function(o){var l=this._private.elements;return o?l.filter(o):l.spawnSelf()},mutableElements:function(){return this._private.elements}};Fd.elements=Fd.filter=Fd.$;var Eo={apply:function(u){for(var o=this,h=o._private.cy.collection(),p=0;p<u.length;p++){var g=u[p],w=o.getContextMeta(g);if(!w.empty){var E=o.getContextStyle(w),x=o.applyContextStyle(w,E,g);g._private.appliedInitStyle?o.updateTransitions(g,x.diffProps):g._private.appliedInitStyle=!0,o.updateStyleHints(g)&&h.push(g)}}return h},getPropertiesDiff:function(u,o){var l=this,f=l._private.propDiffs=l._private.propDiffs||{},h=u+"-"+o,p=f[h];if(p)return p;for(var g=[],w={},E=0;E<l.length;E++){var x=l[E],F="t"===o[E],z="t"===u[E]!==F,W=x.mappedProperties.length>0;if(z||F&&W){var j=void 0;z&&W||z?j=x.properties:W&&(j=x.mappedProperties);for(var Z=0;Z<j.length;Z++){for(var J=j[Z],re=J.name,fe=!1,he=E+1;he<l.length&&("t"!==o[he]||!(fe=null!=l[he].properties[J.name]));he++);!w[re]&&!fe&&(w[re]=!0,g.push(re))}}}return f[h]=g,g},getContextMeta:function(u){for(var f,o=this,l="",h=u._private.styleCxtKey||"",p=0;p<o.length;p++){var g=o[p];l+=g.selector&&g.selector.matches(u)?"t":"f"}return f=o.getPropertiesDiff(h,l),u._private.styleCxtKey=l,{key:l,diffPropNames:f,empty:0===f.length}},getContextStyle:function(u){var o=u.key,f=this._private.contextStyles=this._private.contextStyles||{};if(f[o])return f[o];for(var h={_private:{key:o}},p=0;p<this.length;p++){var g=this[p];if("t"===o[p])for(var E=0;E<g.properties.length;E++){var x=g.properties[E];h[x.name]=x}}return f[o]=h,h},applyContextStyle:function(u,o,l){for(var h=u.diffPropNames,p={},g=this.types,w=0;w<h.length;w++){var E=h[w],x=o[E],M=l.pstyle(E);if(!x){if(!M)continue;x=M.bypass?{name:E,deleteBypassed:!0}:{name:E,delete:!0}}if(M!==x){if(x.mapped===g.fn&&null!=M&&null!=M.mapping&&M.mapping.value===x.value){var F=M.mapping;if((F.fnValue=x.value(l))===F.prevFnValue)continue}var W=p[E]={prev:M};this.applyParsedProperty(l,x),W.next=l.pstyle(E),W.next&&W.next.bypass&&(W.next=W.next.bypassed)}}return{diffProps:p}},updateStyleHints:function(u){var f,o=u._private,l=this,h=l.propertyGroupKeys,p=function(Yt,rn,Xn){return l.getPropertiesHash(Yt,rn,Xn)},g=o.styleKey;if(u.removed())return!1;var Yt,w="nodes"===o.group,E=u._private.style;f=Object.keys(E);for(var x=0;x<h.length;x++)o.styleKeys[h[x]]=[Aa,Qs];for(var F=function(Yt,rn){return o.styleKeys[rn][0]=Oa(Yt,o.styleKeys[rn][0])},z=function(Yt,rn){return o.styleKeys[rn][1]=Js(Yt,o.styleKeys[rn][1])},W=function(Yt,rn){F(Yt,rn),z(Yt,rn)},j=function(Yt,rn){for(var Xn=0;Xn<Yt.length;Xn++){var ar=Yt.charCodeAt(Xn);F(ar,rn),z(ar,rn)}},re=0;re<f.length;re++){var fe=f[re],he=E[fe];if(null!=he){var ye=this.properties[fe],Ie=ye.type,Ae=ye.groupKey,be=void 0;null!=ye.hashOverride?be=ye.hashOverride(u,he):null!=he.pfValue&&(be=he.pfValue);var Te=null==ye.enums?he.value:null,_e=null!=be,xe=he.units;!Ie.number||!_e&&null==Te||Ie.multiple?j(he.strValue,Ae):(W(-128<(Yt=_e?be:Te)&&Yt<128&&Math.floor(Yt)!==Yt?2e9-(1024*Yt|0):Yt,Ae),!_e&&null!=xe&&j(xe,Ae))}}for(var Ne=[Aa,Qs],Je=0;Je<h.length;Je++){var We=o.styleKeys[h[Je]];Ne[0]=Oa(We[0],Ne[0]),Ne[1]=Js(We[1],Ne[1])}o.styleKey=function(o,l){return 2097152*o+l}(Ne[0],Ne[1]);var at=o.styleKeys;o.labelDimsKey=us(at.labelDimensions);var dt=p(u,["label"],at.labelDimensions);if(o.labelKey=us(dt),o.labelStyleKey=us(Na(at.commonLabel,dt)),!w){var bt=p(u,["source-label"],at.labelDimensions);o.sourceLabelKey=us(bt),o.sourceLabelStyleKey=us(Na(at.commonLabel,bt));var lt=p(u,["target-label"],at.labelDimensions);o.targetLabelKey=us(lt),o.targetLabelStyleKey=us(Na(at.commonLabel,lt))}if(w){var yt=o.styleKeys,nt=yt.pie,Mt=[yt.nodeBody,yt.nodeBorder,yt.backgroundImage,yt.compound,nt].filter(function(Nt){return null!=Nt}).reduce(Na,[Aa,Qs]);o.nodeKey=us(Mt),o.hasPie=null!=nt&&nt[0]!==Aa&&nt[1]!==Qs}return g!==o.styleKey},clearStyleHints:function(u){var o=u._private;o.styleCxtKey="",o.styleKeys={},o.styleKey=null,o.labelKey=null,o.labelStyleKey=null,o.sourceLabelKey=null,o.sourceLabelStyleKey=null,o.targetLabelKey=null,o.targetLabelStyleKey=null,o.nodeKey=null,o.hasPie=null},applyParsedProperty:function(u,o){var p,l=this,f=o,h=u._private.style,g=l.types,w=l.properties[f.name].type,E=f.bypass,x=h[f.name],M=x&&x.bypass,F=u._private,z="mapping",W=function(At){return null==At?null:null!=At.pfValue?At.pfValue:At.value},j=function(){var At=W(x),Ot=W(f);l.checkTriggers(u,f.name,At,Ot)};if(f&&"pie"===f.name.substr(0,3)&&Ir("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===o.name&&u.isEdge()&&("bezier"!==o.value&&u.isLoop()||"haystack"===o.value&&(u.source().isParent()||u.target().isParent()))&&(f=o=this.parse(o.name,"bezier",E)),f.delete)return h[f.name]=void 0,j(),!0;if(f.deleteBypassed)return x?!!x.bypass&&(x.bypassed=void 0,j(),!0):(j(),!0);if(f.deleteBypass)return x?!!x.bypass&&(h[f.name]=x.bypassed,j(),!0):(j(),!0);var Z=function(){Ir("Do not assign mappings to elements without corresponding data (i.e. ele `"+u.id()+"` has no mapping for property `"+f.name+"` with data field `"+f.field+"`); try a `["+f.field+"]` selector to limit scope to elements with `"+f.field+"` defined")};switch(f.mapped){case g.mapData:for(var J=f.field.split("."),re=F.data,fe=0;fe<J.length&&re;fe++)re=re[J[fe]];if(null==re)return Z(),!1;var ye;if(!Qe(re))return Ir("Do not use continuous mappers without specifying numeric data (i.e. `"+f.field+": "+re+"` for `"+u.id()+"` is non-numeric)"),!1;var Ie=f.fieldMax-f.fieldMin;if((ye=0===Ie?0:(re-f.fieldMin)/Ie)<0?ye=0:ye>1&&(ye=1),w.color){var Ae=f.valueMin[0],Te=f.valueMin[1],_e=f.valueMax[1],ke=f.valueMin[2],Pe=f.valueMax[2],xe=null==f.valueMin[3]?1:f.valueMin[3],He=null==f.valueMax[3]?1:f.valueMax[3],Ne=[Math.round(Ae+(f.valueMax[0]-Ae)*ye),Math.round(Te+(_e-Te)*ye),Math.round(ke+(Pe-ke)*ye),Math.round(xe+(He-xe)*ye)];p={bypass:f.bypass,name:f.name,value:Ne,strValue:"rgb("+Ne[0]+", "+Ne[1]+", "+Ne[2]+")"}}else{if(!w.number)return!1;p=this.parse(f.name,f.valueMin+(f.valueMax-f.valueMin)*ye,f.bypass,z)}if(!p)return Z(),!1;p.mapping=f,f=p;break;case g.data:for(var Ue=f.field.split("."),We=F.data,at=0;at<Ue.length&&We;at++)We=We[Ue[at]];if(null!=We&&(p=this.parse(f.name,We,f.bypass,z)),!p)return Z(),!1;p.mapping=f,f=p;break;case g.fn:var lt=null!=f.fnValue?f.fnValue:(0,f.value)(u);if(f.prevFnValue=lt,null==lt)return Ir("Custom function mappers may not return null (i.e. `"+f.name+"` for ele `"+u.id()+"` is null)"),!1;if(!(p=this.parse(f.name,lt,f.bypass,z)))return Ir("Custom function mappers may not return invalid values for the property type (i.e. `"+f.name+"` for ele `"+u.id()+"` is invalid)"),!1;p.mapping=ki(f),f=p;break;case void 0:break;default:return!1}return E?(f.bypassed=M?x.bypassed:x,h[f.name]=f):M?x.bypassed=f:h[f.name]=f,j(),!0},cleanElements:function(u,o){for(var l=0;l<u.length;l++){var f=u[l];if(this.clearStyleHints(f),f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),o)for(var h=f._private.style,p=Object.keys(h),g=0;g<p.length;g++){var w=p[g],E=h[w];null!=E&&(E.bypass?E.bypassed=null:h[w]=null)}else f._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(u,o){var l=this,f=u._private,h=u.pstyle("transition-property").value,p=u.pstyle("transition-duration").pfValue,g=u.pstyle("transition-delay").pfValue;if(h.length>0&&p>0){for(var w={},E=!1,x=0;x<h.length;x++){var M=h[x],F=u.pstyle(M),z=o[M];if(z){var j=z.prev,Z=null!=z.next?z.next:F,J=!1,re=void 0;j&&(Qe(j.pfValue)&&Qe(Z.pfValue)?re=j.pfValue+1e-6*(J=Z.pfValue-j.pfValue):Qe(j.value)&&Qe(Z.value)?re=j.value+1e-6*(J=Z.value-j.value):ht(j.value)&&ht(Z.value)&&(J=j.value[0]!==Z.value[0]||j.value[1]!==Z.value[1]||j.value[2]!==Z.value[2],re=j.strValue),J&&(w[M]=Z.strValue,this.applyBypass(u,M,re),E=!0))}}if(!E)return;f.transitioning=!0,new gs(function(he){g>0?u.delayAnimation(g).play().promise().then(he):he()}).then(function(){return u.animation({style:w,duration:p,easing:u.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){l.removeBypasses(u,h),u.emitAndNotify("style"),f.transitioning=!1})}else f.transitioning&&(this.removeBypasses(u,h),u.emitAndNotify("style"),f.transitioning=!1)},checkTrigger:function(u,o,l,f,h,p){var g=this.properties[o],w=h(g);null!=w&&w(l,f)&&p(g)},checkZOrderTrigger:function(u,o,l,f){var h=this;this.checkTrigger(u,o,l,f,function(p){return p.triggersZOrder},function(){h._private.cy.notify("zorder",u)})},checkBoundsTrigger:function(u,o,l,f){this.checkTrigger(u,o,l,f,function(h){return h.triggersBounds},function(h){u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),h.triggersBoundsOfParallelBeziers&&("curve-style"===o&&("bezier"===l||"bezier"===f)||"display"===o&&("none"===l||"none"===f))&&u.parallelEdges().forEach(function(p){p.isBundledBezier()&&p.dirtyBoundingBoxCache()})})},checkTriggers:function(u,o,l,f){u.dirtyStyleCache(),this.checkZOrderTrigger(u,o,l,f),this.checkBoundsTrigger(u,o,l,f)}},Do={applyBypass:function(u,o,l,f){var p=[];if("*"===o||"**"===o){if(void 0!==l)for(var w=0;w<this.properties.length;w++){var M=this.parse(this.properties[w].name,l,!0);M&&p.push(M)}}else if(Be(o)){var F=this.parse(o,l,!0);F&&p.push(F)}else{if(!Ze(o))return!1;var z=o;f=l;for(var W=Object.keys(z),j=0;j<W.length;j++){var Z=W[j],J=z[Z];if(void 0===J&&(J=z[Dn(Z)]),void 0!==J){var re=this.parse(Z,J,!0);re&&p.push(re)}}}if(0===p.length)return!1;for(var fe=!1,he=0;he<u.length;he++){for(var ye=u[he],Ie={},Ae=void 0,be=0;be<p.length;be++){var Te=p[be];if(f){var _e=ye.pstyle(Te.name);Ae=Ie[Te.name]={prev:_e}}fe=this.applyParsedProperty(ye,ki(Te))||fe,f&&(Ae.next=ye.pstyle(Te.name))}fe&&this.updateStyleHints(ye),f&&this.updateTransitions(ye,Ie,!0)}return fe},overrideBypass:function(u,o,l){o=Er(o);for(var f=0;f<u.length;f++){var h=u[f],p=h._private.style[o],g=this.properties[o].type,w=g.color,E=g.mutiple,x=p?null!=p.pfValue?p.pfValue:p.value:null;p&&p.bypass?(p.value=l,null!=p.pfValue&&(p.pfValue=l),p.strValue=w?"rgb("+l.join(",")+")":E?l.join(" "):""+l,this.updateStyleHints(h)):this.applyBypass(h,o,l),this.checkTriggers(h,o,x,l)}},removeAllBypasses:function(u,o){return this.removeBypasses(u,this.propertyNames,o)},removeBypasses:function(u,o,l){for(var h=0;h<u.length;h++){for(var p=u[h],g={},w=0;w<o.length;w++){var E=o[w],x=this.properties[E],M=p.pstyle(x.name);if(M&&M.bypass){var z=this.parse(E,"",!0),W=g[x.name]={prev:M};this.applyParsedProperty(p,z),W.next=p.pstyle(x.name)}}this.updateStyleHints(p),l&&this.updateTransitions(p,g,!0)}}},is={getEmSizeInPixels:function(){var u=this.containerCss("font-size");return null!=u?parseFloat(u):1},containerCss:function(u){var l=this._private.cy.container();if(oe&&l&&oe.getComputedStyle)return oe.getComputedStyle(l).getPropertyValue(u)}},Ur={getRenderedStyle:function(u,o){return o?this.getStylePropertyValue(u,o,!0):this.getRawStyle(u,!0)},getRawStyle:function(u,o){var l=this;if(u=u[0]){for(var f={},h=0;h<l.properties.length;h++){var p=l.properties[h],g=l.getStylePropertyValue(u,p.name,o);null!=g&&(f[p.name]=g,f[Dn(p.name)]=g)}return f}},getIndexedStyle:function(u,o,l,f){return u.pstyle(o)[l][f]??u.cy().style().getDefaultProperty(o)[l][0]},getStylePropertyValue:function(u,o,l){if(u=u[0]){var h=this.properties[o];h.alias&&(h=h.pointsTo);var p=h.type,g=u.pstyle(h.name);if(g){var w=g.value,E=g.units,x=g.strValue;if(l&&p.number&&null!=w&&Qe(w)){var M=u.cy().zoom(),F=function(J){return J*M},z=function(J,re){return F(J)+re},W=ht(w);return(W?E.every(function(Z){return null!=Z}):null!=E)?W?w.map(function(Z,J){return z(Z,E[J])}).join(" "):z(w,E):W?w.map(function(Z){return Be(Z)?Z:""+F(Z)}).join(" "):""+F(w)}if(null!=x)return x}return null}},getAnimationStartStyle:function(u,o){for(var l={},f=0;f<o.length;f++){var p=o[f].name,g=u.pstyle(p);void 0!==g&&(g=Ze(g)?this.parse(p,g.strValue):this.parse(p,g)),g&&(l[p]=g)}return l},getPropsList:function(u){var l=[],f=u,h=this.properties;if(f)for(var p=Object.keys(f),g=0;g<p.length;g++){var w=p[g],E=f[w],x=h[w]||h[Er(w)],M=this.parse(x.name,E);M&&l.push(M)}return l},getNonDefaultPropertiesHash:function(u,o,l){var p,g,w,E,x,f=l.slice();for(E=0;E<o.length;E++)if(null!=(p=u.pstyle(o[E],!1)))if(null!=p.pfValue)f[0]=Oa(w,f[0]),f[1]=Js(w,f[1]);else for(g=p.strValue,x=0;x<g.length;x++)w=g.charCodeAt(x),f[0]=Oa(w,f[0]),f[1]=Js(w,f[1]);return f}};Ur.getPropertiesHash=Ur.getNonDefaultPropertiesHash;var Bd={appendFromJson:function(u){for(var o=this,l=0;l<u.length;l++){var f=u[l],h=f.selector,p=f.style||f.css,g=Object.keys(p);o.selector(h);for(var w=0;w<g.length;w++){var E=g[w];o.css(E,p[E])}}return o},fromJson:function(u){var o=this;return o.resetToDefault(),o.appendFromJson(u),o},json:function(){for(var u=[],o=this.defaultLength;o<this.length;o++){for(var l=this[o],f=l.selector,h=l.properties,p={},g=0;g<h.length;g++){var w=h[g];p[w.name]=w.strValue}u.push({selector:f?f.toString():"core",style:p})}return u}},Lh={appendFromString:function(u){var h,p,g,l=this,f=""+u;function w(){f=f.length>h.length?f.substr(h.length):""}function E(){p=p.length>g.length?p.substr(g.length):""}for(f=f.replace(/[/][*](\s|.)+?[*][/]/g,"");!f.match(/^\s*$/);){var M=f.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!M){Ir("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+f);break}h=M[0];var F=M[1];if("core"!==F&&new Au(F).invalid)Ir("Skipping parsing of block: Invalid selector found in string stylesheet: "+F),w();else{var W=M[2],j=!1;p=W;for(var Z=[];!p.match(/^\s*$/);){var re=p.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!re){Ir("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+W),j=!0;break}g=re[0];var fe=re[1],he=re[2];this.properties[fe]?l.parse(fe,he)?(Z.push({name:fe,val:he}),E()):(Ir("Skipping property: Invalid property definition in: "+g),E()):(Ir("Skipping property: Invalid property name in: "+g),E())}if(j){w();break}l.selector(F);for(var Ae=0;Ae<Z.length;Ae++){var be=Z[Ae];l.css(be.name,be.val)}w()}}return l},fromString:function(u){var o=this;return o.resetToDefault(),o.appendFromString(u),o}},So={};(function(){var u=pn,o=ro,l=Bi,p=function(Mt){return"^"+Mt+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},g=function(Mt){var Nt=u+"|\\w+|"+o+"|"+l+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Mt+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+u+")\\s*\\,\\s*("+u+")\\s*,\\s*("+Nt+")\\s*\\,\\s*("+Nt+")\\)$"},w=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];So.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:p("data")},layoutData:{mapping:!0,regex:p("layoutData")},scratch:{mapping:!0,regex:p("scratch")},mapData:{mapping:!0,regex:g("mapData")},mapLayoutData:{mapping:!0,regex:g("mapLayoutData")},mapScratch:{mapping:!0,regex:g("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:w,singleRegexMatchValue:!0},urls:{regexes:w,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Mt,Nt){switch(Mt.length){case 2:return"deg"!==Nt[0]&&"rad"!==Nt[0]&&"deg"!==Nt[1]&&"rad"!==Nt[1];case 1:return Be(Mt[0])||"deg"===Nt[0]||"rad"===Nt[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+u+")\\s*,\\s*("+u+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+u+")\\s*,\\s*("+u+")\\s*,\\s*("+u+")\\s*,\\s*("+u+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Mt){var Nt=Mt.length;return 1===Nt||2===Nt||4===Nt}}};var E={zeroNonZero:function(Mt,Nt){return(null==Mt||null==Nt)&&Mt!==Nt||0==Mt&&0!=Nt||0!=Mt&&0==Nt},any:function(Mt,Nt){return Mt!=Nt},emptyNonEmpty:function(Mt,Nt){var Yt=Ft(Mt),rn=Ft(Nt);return Yt&&!rn||!Yt&&rn}},x=So.types,M=[{name:"label",type:x.text,triggersBounds:E.any,triggersZOrder:E.emptyNonEmpty},{name:"text-rotation",type:x.textRotation,triggersBounds:E.any},{name:"text-margin-x",type:x.bidirectionalSize,triggersBounds:E.any},{name:"text-margin-y",type:x.bidirectionalSize,triggersBounds:E.any}],F=[{name:"source-label",type:x.text,triggersBounds:E.any},{name:"source-text-rotation",type:x.textRotation,triggersBounds:E.any},{name:"source-text-margin-x",type:x.bidirectionalSize,triggersBounds:E.any},{name:"source-text-margin-y",type:x.bidirectionalSize,triggersBounds:E.any},{name:"source-text-offset",type:x.size,triggersBounds:E.any}],z=[{name:"target-label",type:x.text,triggersBounds:E.any},{name:"target-text-rotation",type:x.textRotation,triggersBounds:E.any},{name:"target-text-margin-x",type:x.bidirectionalSize,triggersBounds:E.any},{name:"target-text-margin-y",type:x.bidirectionalSize,triggersBounds:E.any},{name:"target-text-offset",type:x.size,triggersBounds:E.any}],W=[{name:"font-family",type:x.fontFamily,triggersBounds:E.any},{name:"font-style",type:x.fontStyle,triggersBounds:E.any},{name:"font-weight",type:x.fontWeight,triggersBounds:E.any},{name:"font-size",type:x.size,triggersBounds:E.any},{name:"text-transform",type:x.textTransform,triggersBounds:E.any},{name:"text-wrap",type:x.textWrap,triggersBounds:E.any},{name:"text-overflow-wrap",type:x.textOverflowWrap,triggersBounds:E.any},{name:"text-max-width",type:x.size,triggersBounds:E.any},{name:"text-outline-width",type:x.size,triggersBounds:E.any},{name:"line-height",type:x.positiveNumber,triggersBounds:E.any}],j=[{name:"text-valign",type:x.valign,triggersBounds:E.any},{name:"text-halign",type:x.halign,triggersBounds:E.any},{name:"color",type:x.color},{name:"text-outline-color",type:x.color},{name:"text-outline-opacity",type:x.zeroOneNumber},{name:"text-background-color",type:x.color},{name:"text-background-opacity",type:x.zeroOneNumber},{name:"text-background-padding",type:x.size,triggersBounds:E.any},{name:"text-border-opacity",type:x.zeroOneNumber},{name:"text-border-color",type:x.color},{name:"text-border-width",type:x.size,triggersBounds:E.any},{name:"text-border-style",type:x.borderStyle,triggersBounds:E.any},{name:"text-background-shape",type:x.textBackgroundShape,triggersBounds:E.any},{name:"text-justification",type:x.justification}],Z=[{name:"events",type:x.bool},{name:"text-events",type:x.bool}],J=[{name:"display",type:x.display,triggersZOrder:E.any,triggersBounds:E.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:x.visibility,triggersZOrder:E.any},{name:"opacity",type:x.zeroOneNumber,triggersZOrder:E.zeroNonZero},{name:"text-opacity",type:x.zeroOneNumber},{name:"min-zoomed-font-size",type:x.size},{name:"z-compound-depth",type:x.zCompoundDepth,triggersZOrder:E.any},{name:"z-index-compare",type:x.zIndexCompare,triggersZOrder:E.any},{name:"z-index",type:x.nonNegativeInt,triggersZOrder:E.any}],re=[{name:"overlay-padding",type:x.size,triggersBounds:E.any},{name:"overlay-color",type:x.color},{name:"overlay-opacity",type:x.zeroOneNumber,triggersBounds:E.zeroNonZero},{name:"overlay-shape",type:x.overlayShape,triggersBounds:E.any}],fe=[{name:"underlay-padding",type:x.size,triggersBounds:E.any},{name:"underlay-color",type:x.color},{name:"underlay-opacity",type:x.zeroOneNumber,triggersBounds:E.zeroNonZero},{name:"underlay-shape",type:x.overlayShape,triggersBounds:E.any}],he=[{name:"transition-property",type:x.propList},{name:"transition-duration",type:x.time},{name:"transition-delay",type:x.time},{name:"transition-timing-function",type:x.easing}],ye=function(Mt,Nt){return"label"===Nt.value?-Mt.poolIndex():Nt.pfValue},Ie=[{name:"height",type:x.nodeSize,triggersBounds:E.any,hashOverride:ye},{name:"width",type:x.nodeSize,triggersBounds:E.any,hashOverride:ye},{name:"shape",type:x.nodeShape,triggersBounds:E.any},{name:"shape-polygon-points",type:x.polygonPointList,triggersBounds:E.any},{name:"background-color",type:x.color},{name:"background-fill",type:x.fill},{name:"background-opacity",type:x.zeroOneNumber},{name:"background-blacken",type:x.nOneOneNumber},{name:"background-gradient-stop-colors",type:x.colors},{name:"background-gradient-stop-positions",type:x.percentages},{name:"background-gradient-direction",type:x.gradientDirection},{name:"padding",type:x.sizeMaybePercent,triggersBounds:E.any},{name:"padding-relative-to",type:x.paddingRelativeTo,triggersBounds:E.any},{name:"bounds-expansion",type:x.boundsExpansion,triggersBounds:E.any}],Ae=[{name:"border-color",type:x.color},{name:"border-opacity",type:x.zeroOneNumber},{name:"border-width",type:x.size,triggersBounds:E.any},{name:"border-style",type:x.borderStyle}],be=[{name:"background-image",type:x.urls},{name:"background-image-crossorigin",type:x.bgCrossOrigin},{name:"background-image-opacity",type:x.zeroOneNumbers},{name:"background-image-containment",type:x.bgContainment},{name:"background-image-smoothing",type:x.bools},{name:"background-position-x",type:x.bgPos},{name:"background-position-y",type:x.bgPos},{name:"background-width-relative-to",type:x.bgRelativeTo},{name:"background-height-relative-to",type:x.bgRelativeTo},{name:"background-repeat",type:x.bgRepeat},{name:"background-fit",type:x.bgFit},{name:"background-clip",type:x.bgClip},{name:"background-width",type:x.bgWH},{name:"background-height",type:x.bgWH},{name:"background-offset-x",type:x.bgPos},{name:"background-offset-y",type:x.bgPos}],Te=[{name:"position",type:x.position,triggersBounds:E.any},{name:"compound-sizing-wrt-labels",type:x.compoundIncludeLabels,triggersBounds:E.any},{name:"min-width",type:x.size,triggersBounds:E.any},{name:"min-width-bias-left",type:x.sizeMaybePercent,triggersBounds:E.any},{name:"min-width-bias-right",type:x.sizeMaybePercent,triggersBounds:E.any},{name:"min-height",type:x.size,triggersBounds:E.any},{name:"min-height-bias-top",type:x.sizeMaybePercent,triggersBounds:E.any},{name:"min-height-bias-bottom",type:x.sizeMaybePercent,triggersBounds:E.any}],_e=[{name:"line-style",type:x.lineStyle},{name:"line-color",type:x.color},{name:"line-fill",type:x.fill},{name:"line-cap",type:x.lineCap},{name:"line-opacity",type:x.zeroOneNumber},{name:"line-dash-pattern",type:x.numbers},{name:"line-dash-offset",type:x.number},{name:"line-gradient-stop-colors",type:x.colors},{name:"line-gradient-stop-positions",type:x.percentages},{name:"curve-style",type:x.curveStyle,triggersBounds:E.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:x.zeroOneNumber,triggersBounds:E.any},{name:"source-endpoint",type:x.edgeEndpoint,triggersBounds:E.any},{name:"target-endpoint",type:x.edgeEndpoint,triggersBounds:E.any},{name:"control-point-step-size",type:x.size,triggersBounds:E.any},{name:"control-point-distances",type:x.bidirectionalSizes,triggersBounds:E.any},{name:"control-point-weights",type:x.numbers,triggersBounds:E.any},{name:"segment-distances",type:x.bidirectionalSizes,triggersBounds:E.any},{name:"segment-weights",type:x.numbers,triggersBounds:E.any},{name:"taxi-turn",type:x.bidirectionalSizeMaybePercent,triggersBounds:E.any},{name:"taxi-turn-min-distance",type:x.size,triggersBounds:E.any},{name:"taxi-direction",type:x.axisDirection,triggersBounds:E.any},{name:"edge-distances",type:x.edgeDistances,triggersBounds:E.any},{name:"arrow-scale",type:x.positiveNumber,triggersBounds:E.any},{name:"loop-direction",type:x.angle,triggersBounds:E.any},{name:"loop-sweep",type:x.angle,triggersBounds:E.any},{name:"source-distance-from-node",type:x.size,triggersBounds:E.any},{name:"target-distance-from-node",type:x.size,triggersBounds:E.any}],ke=[{name:"ghost",type:x.bool,triggersBounds:E.any},{name:"ghost-offset-x",type:x.bidirectionalSize,triggersBounds:E.any},{name:"ghost-offset-y",type:x.bidirectionalSize,triggersBounds:E.any},{name:"ghost-opacity",type:x.zeroOneNumber}],Pe=[{name:"selection-box-color",type:x.color},{name:"selection-box-opacity",type:x.zeroOneNumber},{name:"selection-box-border-color",type:x.color},{name:"selection-box-border-width",type:x.size},{name:"active-bg-color",type:x.color},{name:"active-bg-opacity",type:x.zeroOneNumber},{name:"active-bg-size",type:x.size},{name:"outside-texture-bg-color",type:x.color},{name:"outside-texture-bg-opacity",type:x.zeroOneNumber}],xe=[];So.pieBackgroundN=16,xe.push({name:"pie-size",type:x.sizeMaybePercent});for(var He=1;He<=So.pieBackgroundN;He++)xe.push({name:"pie-"+He+"-background-color",type:x.color}),xe.push({name:"pie-"+He+"-background-size",type:x.percent}),xe.push({name:"pie-"+He+"-background-opacity",type:x.zeroOneNumber});var Ne=[],Je=So.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:x.arrowShape,triggersBounds:E.any},{name:"arrow-color",type:x.color},{name:"arrow-fill",type:x.arrowFill}].forEach(function(nt){Je.forEach(function(Mt){Ne.push({name:Mt+"-"+nt.name,type:nt.type,triggersBounds:nt.triggersBounds})})},{});var Ue=So.properties=[].concat(Z,he,J,re,fe,ke,j,W,M,F,z,Ie,Ae,be,xe,Te,_e,Ne,Pe),We=So.propertyGroups={behavior:Z,transition:he,visibility:J,overlay:re,underlay:fe,ghost:ke,commonLabel:j,labelDimensions:W,mainLabel:M,sourceLabel:F,targetLabel:z,nodeBody:Ie,nodeBorder:Ae,backgroundImage:be,pie:xe,compound:Te,edgeLine:_e,edgeArrow:Ne,core:Pe},at=So.propertyGroupNames={};(So.propertyGroupKeys=Object.keys(We)).forEach(function(nt){at[nt]=We[nt].map(function(Mt){return Mt.name}),We[nt].forEach(function(Mt){return Mt.groupKey=nt})});var bt=So.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];So.propertyNames=Ue.map(function(nt){return nt.name});for(var lt=0;lt<Ue.length;lt++){var yt=Ue[lt];Ue[yt.name]=yt}for(var At=0;At<bt.length;At++){var Ot=bt[At],wt={name:Ot.name,alias:!0,pointsTo:Ue[Ot.pointsTo]};Ue.push(wt),Ue[Ot.name]=wt}})(),So.getDefaultProperty=function(u){return this.getDefaultProperties()[u]},So.getDefaultProperties=function(){var u=this._private;if(null!=u.defaultProperties)return u.defaultProperties;for(var o=kn({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(E,x){for(var M=1;M<=So.pieBackgroundN;M++)E[x.name.replace("{{i}}",M)]=x.value;return E},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(E,x){return So.arrowPrefixes.forEach(function(M){E[M+"-"+x.name]=x.value}),E},{})),l={},f=0;f<this.properties.length;f++){var h=this.properties[f];if(!h.pointsTo){var p=h.name,w=this.parse(p,o[p]);l[p]=w}}return u.defaultProperties=l,u.defaultProperties},So.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Vd={parse:function(u,o,l,f){var h=this;if(st(o))return h.parseImplWarn(u,o,l,f);var M,E=od(u,""+o,l?"t":"f","mapping"===f||!0===f||!1===f||null==f?"dontcare":f),x=h.propCache=h.propCache||[];return(M=x[E])||(M=x[E]=h.parseImplWarn(u,o,l,f)),(l||"mapping"===f)&&(M=ki(M))&&(M.value=ki(M.value)),M},parseImplWarn:function(u,o,l,f){var h=this.parseImpl(u,o,l,f);return!h&&null!=o&&Ir("The style property `".concat(u,": ").concat(o,"` is invalid")),h&&("width"===h.name||"height"===h.name)&&"label"===o&&Ir("The style value of `label` is deprecated for `"+h.name+"`"),h}};Vd.parseImpl=function(u,o,l,f){var h=this;u=Er(u);var p=h.properties[u],g=o,w=h.types;if(!p||void 0===o)return null;p.alias&&(u=(p=p.pointsTo).name);var E=Be(o);E&&(o=o.trim());var M,F,x=p.type;if(!x)return null;if(l&&(""===o||null===o))return{name:u,value:o,bypass:!0,deleteBypass:!0};if(st(o))return{name:u,value:o,strValue:"fn",mapped:w.fn,bypass:l};if(!(!E||f||o.length<7||"a"!==o[1])){if(o.length>=7&&"d"===o[0]&&(M=new RegExp(w.data.regex).exec(o)))return!l&&{name:u,value:M,strValue:""+o,mapped:w.data,field:M[1],bypass:l};if(o.length>=10&&"m"===o[0]&&(F=new RegExp(w.mapData.regex).exec(o))){if(l||x.multiple)return!1;var W=w.mapData;if(!x.color&&!x.number)return!1;var j=this.parse(u,F[4]);if(!j||j.mapped)return!1;var Z=this.parse(u,F[5]);if(!Z||Z.mapped)return!1;if(j.pfValue===Z.pfValue||j.strValue===Z.strValue)return Ir("`"+u+": "+o+"` is not a valid mapper because the output range is zero; converting to `"+u+": "+j.strValue+"`"),this.parse(u,j.strValue);if(x.color){var J=j.value,re=Z.value;if(!(J[0]!==re[0]||J[1]!==re[1]||J[2]!==re[2]||J[3]!==re[3]&&(null!=J[3]&&1!==J[3]||null!=re[3]&&1!==re[3])))return!1}return{name:u,value:F,strValue:""+o,mapped:W,field:F[1],fieldMin:parseFloat(F[2]),fieldMax:parseFloat(F[3]),valueMin:j.value,valueMax:Z.value,bypass:l}}}if(x.multiple&&"multiple"!==f){var he;if(he=E?o.split(/\s+/):ht(o)?o:[o],x.evenMultiple&&he.length%2!=0)return null;for(var ye=[],Ie=[],Ae=[],be="",Te=!1,_e=0;_e<he.length;_e++){var ke=h.parse(u,he[_e],l,"multiple");Te=Te||Be(ke.value),ye.push(ke.value),Ae.push(null!=ke.pfValue?ke.pfValue:ke.value),Ie.push(ke.units),be+=(_e>0?" ":"")+ke.strValue}return x.validate&&!x.validate(ye,Ie)?null:x.singleEnum&&Te?1===ye.length&&Be(ye[0])?{name:u,value:ye[0],strValue:ye[0],bypass:l}:null:{name:u,value:ye,pfValue:Ae,strValue:be,bypass:l,units:Ie}}var Pe=function(){for(var Nt=0;Nt<x.enums.length;Nt++)if(x.enums[Nt]===o)return{name:u,value:o,strValue:""+o,bypass:l};return null};if(x.number){var xe,He="px";if(x.units&&(xe=x.units),x.implicitUnits&&(He=x.implicitUnits),!x.unitless)if(E){var Ne="px|em"+(x.allowPercent?"|\\%":"");xe&&(Ne=xe);var Je=o.match("^("+pn+")("+Ne+")?$");Je&&(o=Je[1],xe=Je[2]||He)}else(!xe||x.implicitUnits)&&(xe=He);if(o=parseFloat(o),isNaN(o)&&void 0===x.enums)return null;if(isNaN(o)&&void 0!==x.enums)return o=g,Pe();if(x.integer&&!function(o){return Qe(o)&&Math.floor(o)===o}(o)||void 0!==x.min&&(o<x.min||x.strictMin&&o===x.min)||void 0!==x.max&&(o>x.max||x.strictMax&&o===x.max))return null;var Ue={name:u,value:o,strValue:""+o+(xe||""),units:xe,bypass:l};return Ue.pfValue=x.unitless||"px"!==xe&&"em"!==xe?o:"px"!==xe&&xe?this.getEmSizeInPixels()*o:o,("ms"===xe||"s"===xe)&&(Ue.pfValue="ms"===xe?o:1e3*o),("deg"===xe||"rad"===xe)&&(Ue.pfValue="rad"===xe?o:function(o){return Math.PI*o/180}(o)),"%"===xe&&(Ue.pfValue=o/100),Ue}if(x.propList){var We=[],at=""+o;if("none"!==at){for(var dt=at.split(/\s*,\s*|\s+/),bt=0;bt<dt.length;bt++){var lt=dt[bt].trim();h.properties[lt]?We.push(lt):Ir("`"+lt+"` is not a valid property name")}if(0===We.length)return null}return{name:u,value:We,strValue:0===We.length?"none":We.join(" "),bypass:l}}if(x.color){var yt=function(o){return(ht(o)?o:null)||function(o){return Os[o.toLowerCase()]}(o)||function(o){if((4===o.length||7===o.length)&&"#"===o[0]){var f,h,p,g=16;return 4===o.length?(f=parseInt(o[1]+o[1],g),h=parseInt(o[2]+o[2],g),p=parseInt(o[3]+o[3],g)):(f=parseInt(o[1]+o[2],g),h=parseInt(o[3]+o[4],g),p=parseInt(o[5]+o[6],g)),[f,h,p]}}(o)||function(o){var l,f=new RegExp("^"+Ri+"$").exec(o);if(f){l=[];for(var h=[],p=1;p<=3;p++){var g=f[p];if("%"===g[g.length-1]&&(h[p]=!0),g=parseFloat(g),h[p]&&(g=g/100*255),g<0||g>255)return;l.push(Math.floor(g))}if((h[1]||h[2]||h[3])&&!(h[1]&&h[2]&&h[3]))return;var x=f[4];if(void 0!==x){if((x=parseFloat(x))<0||x>1)return;l.push(x)}}return l}(o)||function(o){var l,f,h,p,g,w,E,x;function M(j,Z,J){return J<0&&(J+=1),J>1&&(J-=1),J<1/6?j+6*(Z-j)*J:J<.5?Z:J<2/3?j+(Z-j)*(2/3-J)*6:j}var F=new RegExp("^"+Fi+"$").exec(o);if(F){if((f=parseInt(F[1]))<0?f=(360- -1*f%360)%360:f>360&&(f%=360),f/=360,(h=parseFloat(F[2]))<0||h>100||(h/=100,(p=parseFloat(F[3]))<0||p>100)||(p/=100,void 0!==(g=F[4])&&((g=parseFloat(g))<0||g>1)))return;if(0===h)w=E=x=Math.round(255*p);else{var z=p<.5?p*(1+h):p+h-p*h,W=2*p-z;w=Math.round(255*M(W,z,f+1/3)),E=Math.round(255*M(W,z,f)),x=Math.round(255*M(W,z,f-1/3))}l=[w,E,x,g]}return l}(o)}(o);return yt?{name:u,value:yt,pfValue:yt,strValue:"rgb("+yt[0]+","+yt[1]+","+yt[2]+")",bypass:l}:null}if(x.regex||x.regexes){if(x.enums){var At=Pe();if(At)return At}for(var Ot=x.regexes?x.regexes:[x.regex],Dt=0;Dt<Ot.length;Dt++){var nt=new RegExp(Ot[Dt]).exec(o);if(nt)return{name:u,value:x.singleRegexMatchValue?nt[1]:nt,strValue:""+o,bypass:l}}return null}return x.string?{name:u,value:""+o,strValue:""+o,bypass:l}:x.enums?Pe():null};var Jo=function u(o){if(!(this instanceof u))return new u(o);ut(o)?(this._private={cy:o,coreStyle:{}},this.length=0,this.resetToDefault()):oi("A style must have a core reference")},jo=Jo.prototype;jo.instanceString=function(){return"style"},jo.clear=function(){for(var u=this._private,l=u.cy.elements(),f=0;f<this.length;f++)this[f]=void 0;return this.length=0,u.contextStyles={},u.propDiffs={},this.cleanElements(l,!0),l.forEach(function(h){var p=h[0]._private;p.styleDirty=!0,p.appliedInitStyle=!1}),this},jo.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},jo.core=function(u){return this._private.coreStyle[u]||this.getDefaultProperty(u)},jo.selector=function(u){var o="core"===u?null:new Au(u),l=this.length++;return this[l]={selector:o,properties:[],mappedProperties:[],index:l},this},jo.css=function(){var o=arguments;if(1===o.length)for(var l=o[0],f=0;f<this.properties.length;f++){var h=this.properties[f],p=l[h.name];void 0===p&&(p=l[Dn(h.name)]),void 0!==p&&this.cssRule(h.name,p)}else 2===o.length&&this.cssRule(o[0],o[1]);return this},jo.style=jo.css,jo.cssRule=function(u,o){var l=this.parse(u,o);if(l){var f=this.length-1;this[f].properties.push(l),this[f].properties[l.name]=l,l.name.match(/pie-(\d+)-background-size/)&&l.value&&(this._private.hasPie=!0),l.mapped&&this[f].mappedProperties.push(l),!this[f].selector&&(this._private.coreStyle[l.name]=l)}return this},jo.append=function(u){return it(u)?u.appendToStyle(this):ht(u)?this.appendFromJson(u):Be(u)&&this.appendFromString(u),this},Jo.fromJson=function(u,o){var l=new Jo(u);return l.fromJson(o),l},Jo.fromString=function(u,o){return new Jo(u).fromString(o)},[Eo,Do,is,Ur,Bd,Lh,So,Vd].forEach(function(u){kn(jo,u)}),Jo.types=jo.types,Jo.properties=jo.properties,Jo.propertyGroups=jo.propertyGroups,Jo.propertyGroupNames=jo.propertyGroupNames,Jo.propertyGroupKeys=jo.propertyGroupKeys;var Hd={style:function(o){return o&&this.setStyle(o).update(),this._private.style},setStyle:function(o){var l=this._private;return l.style=it(o)?o.generateStyle(this):ht(o)?Jo.fromJson(this,o):Be(o)?Jo.fromString(this,o):Jo(this),l.style},updateStyle:function(){this.mutableElements().updateStyle()}},Tl={autolock:function(o){return void 0===o?this._private.autolock:(this._private.autolock=!!o,this)},autoungrabify:function(o){return void 0===o?this._private.autoungrabify:(this._private.autoungrabify=!!o,this)},autounselectify:function(o){return void 0===o?this._private.autounselectify:(this._private.autounselectify=!!o,this)},selectionType:function(o){var l=this._private;return null==l.selectionType&&(l.selectionType="single"),void 0===o?l.selectionType:(("additive"===o||"single"===o)&&(l.selectionType=o),this)},panningEnabled:function(o){return void 0===o?this._private.panningEnabled:(this._private.panningEnabled=!!o,this)},userPanningEnabled:function(o){return void 0===o?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!o,this)},zoomingEnabled:function(o){return void 0===o?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!o,this)},userZoomingEnabled:function(o){return void 0===o?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!o,this)},boxSelectionEnabled:function(o){return void 0===o?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!o,this)},pan:function(){var f,h,p,g,w,o=arguments,l=this._private.pan;switch(o.length){case 0:return l;case 1:if(Be(o[0]))return l[f=o[0]];if(Ze(o[0])){if(!this._private.panningEnabled)return this;w=(p=o[0]).y,Qe(g=p.x)&&(l.x=g),Qe(w)&&(l.y=w),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;h=o[1],("x"===(f=o[0])||"y"===f)&&Qe(h)&&(l[f]=h),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(o,l){var p,g,w,E,x,f=arguments,h=this._private.pan;if(!this._private.panningEnabled)return this;switch(f.length){case 1:Ze(o)&&(x=(w=f[0]).y,Qe(E=w.x)&&(h.x+=E),Qe(x)&&(h.y+=x),this.emit("pan viewport"));break;case 2:g=l,("x"===(p=o)||"y"===p)&&Qe(g)&&(h[p]+=g),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(o,l){var f=this.getFitViewport(o,l);if(f){var h=this._private;h.zoom=f.zoom,h.pan=f.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(o,l){var f;if((Qe(o)&&void 0===l&&(l=o,o=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(Be(o)?o=this.$(o):!function(o){return Ze(o)&&Qe(o.x1)&&Qe(o.x2)&&Qe(o.y1)&&Qe(o.y2)}(o)?It(o)||(o=this.mutableElements()):((f={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=f.x2-f.x1,f.h=f.y2-f.y1),!It(o)||!o.empty())){f=f||o.boundingBox();var E,g=this.width(),w=this.height();if(l=Qe(l)?l:0,!isNaN(g)&&!isNaN(w)&&g>0&&w>0&&!isNaN(f.w)&&!isNaN(f.h)&&f.w>0&&f.h>0)return{zoom:E=(E=(E=Math.min((g-2*l)/f.w,(w-2*l)/f.h))>this._private.maxZoom?this._private.maxZoom:E)<this._private.minZoom?this._private.minZoom:E,pan:{x:(g-E*(f.x1+f.x2))/2,y:(w-E*(f.y1+f.y2))/2}}}},zoomRange:function(o,l){var f=this._private;if(null==l){var h=o;o=h.min,l=h.max}return Qe(o)&&Qe(l)&&o<=l?(f.minZoom=o,f.maxZoom=l):Qe(o)&&void 0===l&&o<=f.maxZoom?f.minZoom=o:Qe(l)&&void 0===o&&l>=f.minZoom&&(f.maxZoom=l),this},minZoom:function(o){return void 0===o?this._private.minZoom:this.zoomRange({min:o})},maxZoom:function(o){return void 0===o?this._private.maxZoom:this.zoomRange({max:o})},getZoomedViewport:function(o){var p,g,l=this._private,f=l.pan,h=l.zoom,w=!1;return l.zoomingEnabled||(w=!0),Qe(o)?g=o:Ze(o)&&(g=o.level,null!=o.position?p=Br(o.position,h,f):null!=o.renderedPosition&&(p=o.renderedPosition),null!=p&&!l.panningEnabled&&(w=!0)),g=(g=g>l.maxZoom?l.maxZoom:g)<l.minZoom?l.minZoom:g,!w&&Qe(g)&&g!==h&&(null==p||Qe(p.x)&&Qe(p.y))?null!=p?{zoomed:!0,panned:!0,zoom:g,pan:{x:-g/h*(p.x-f.x)+p.x,y:-g/h*(p.y-f.y)+p.y}}:{zoomed:!0,panned:!1,zoom:g,pan:f}:null},zoom:function(o){if(void 0===o)return this._private.zoom;var l=this.getZoomedViewport(o),f=this._private;return null!=l&&l.zoomed?(f.zoom=l.zoom,l.panned&&(f.pan.x=l.pan.x,f.pan.y=l.pan.y),this.emit("zoom"+(l.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(o){var l=this._private,f=!0,h=!0,p=[],g=!1,w=!1;if(!o)return this;if(Qe(o.zoom)||(f=!1),Ze(o.pan)||(h=!1),!f&&!h)return this;if(f){var E=o.zoom;E<l.minZoom||E>l.maxZoom||!l.zoomingEnabled?g=!0:(l.zoom=E,p.push("zoom"))}if(h&&(!g||!o.cancelOnFailedZoom)&&l.panningEnabled){var x=o.pan;Qe(x.x)&&(l.pan.x=x.x,w=!1),Qe(x.y)&&(l.pan.y=x.y,w=!1),w||p.push("pan")}return p.length>0&&(p.push("viewport"),this.emit(p.join(" ")),this.notify("viewport")),this},center:function(o){var l=this.getCenterPan(o);return l&&(this._private.pan=l,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(o,l){if(this._private.panningEnabled){if(Be(o)){var f=o;o=this.mutableElements().filter(f)}else It(o)||(o=this.mutableElements());if(0!==o.length){var h=o.boundingBox(),p=this.width(),g=this.height();return{x:(p-(l=void 0===l?this._private.zoom:l)*(h.x1+h.x2))/2,y:(g-l*(h.y1+h.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var f,h,o=this._private,l=o.container;return o.sizeCache=o.sizeCache||(l?(f=oe.getComputedStyle(l),{width:l.clientWidth-(h=function(g){return parseFloat(f.getPropertyValue(g))})("padding-left")-h("padding-right"),height:l.clientHeight-h("padding-top")-h("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var o=this._private.pan,l=this._private.zoom,f=this.renderedExtent(),h={x1:(f.x1-o.x)/l,x2:(f.x2-o.x)/l,y1:(f.y1-o.y)/l,y2:(f.y2-o.y)/l};return h.w=h.x2-h.x1,h.h=h.y2-h.y1,h},renderedExtent:function(){var o=this.width(),l=this.height();return{x1:0,y1:0,x2:o,y2:l,w:o,h:l}},multiClickDebounceTime:function(o){return o?(this._private.multiClickDebounceTime=o,this):this._private.multiClickDebounceTime}};Tl.centre=Tl.center,Tl.autolockNodes=Tl.autolock,Tl.autoungrabifyNodes=Tl.autoungrabify;var _s={data:dr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:dr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:dr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:dr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};_s.attr=_s.data,_s.removeAttr=_s.removeData;var ws=function(o){var l=this,f=(o=kn({},o)).container;f&&!zt(f)&&zt(f[0])&&(f=f[0]);var h=f?f._cyreg:null;(h=h||{})&&h.cy&&(h.cy.destroy(),h={});var p=h.readies=h.readies||[];f&&(f._cyreg=h),h.cy=l;var g=void 0!==oe&&void 0!==f&&!o.headless,w=o;w.layout=kn({name:g?"grid":"null"},w.layout),w.renderer=kn({name:g?"canvas":"null"},w.renderer);var E=function(j,Z,J){return void 0!==Z?Z:void 0!==J?J:j},x=this._private={container:f,ready:!1,options:w,elements:new fo(this),listeners:[],aniEles:new fo(this),data:w.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:E(!0,w.zoomingEnabled),userZoomingEnabled:E(!0,w.userZoomingEnabled),panningEnabled:E(!0,w.panningEnabled),userPanningEnabled:E(!0,w.userPanningEnabled),boxSelectionEnabled:E(!0,w.boxSelectionEnabled),autolock:E(!1,w.autolock,w.autolockNodes),autoungrabify:E(!1,w.autoungrabify,w.autoungrabifyNodes),autounselectify:E(!1,w.autounselectify),styleEnabled:void 0===w.styleEnabled?g:w.styleEnabled,zoom:Qe(w.zoom)?w.zoom:1,pan:{x:Ze(w.pan)&&Qe(w.pan.x)?w.pan.x:0,y:Ze(w.pan)&&Qe(w.pan.y)?w.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:E(250,w.multiClickDebounceTime)};this.createEmitter(),this.selectionType(w.selectionType),this.zoomRange({min:w.minZoom,max:w.maxZoom}),x.styleEnabled&&l.setStyle([]);var F=kn({},w,w.renderer);l.initRenderer(F),function(j,Z){if(j.some(Jn))return gs.all(j).then(Z);Z(j)}([w.style,w.elements],function(W){var j=W[0],Z=W[1];x.styleEnabled&&l.style().append(j),function(j,Z,J){l.notifications(!1);var re=l.mutableElements();re.length>0&&re.remove(),null!=j&&(Ze(j)||ht(j))&&l.add(j),l.one("layoutready",function(he){l.notifications(!0),l.emit(he),l.one("load",Z),l.emitAndNotify("load")}).one("layoutstop",function(){l.one("done",J),l.emit("done")});var fe=kn({},l._private.options.layout);fe.eles=l.elements(),l.layout(fe).run()}(Z,function(){l.startAnimationLoop(),x.ready=!0,st(w.ready)&&l.on("ready",w.ready);for(var J=0;J<p.length;J++)l.on("ready",p[J]);h&&(h.readies=[]),l.emit("ready")},w.done)})},ku=ws.prototype;kn(ku,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(o){return this.isReady()?this.emitter().emit("ready",[],o):this.on("ready",o),this},destroy:function(){var o=this;if(!o.destroyed())return o.stopAnimationLoop(),o.destroyRenderer(),this.emit("destroy"),o._private.destroyed=!0,o},hasElementWithId:function(o){return this._private.elements.hasElementWithId(o)},getElementById:function(o){return this._private.elements.getElementById(o)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(o){return this._private.elements.merge(o),this},removeFromPool:function(o){return this._private.elements.unmerge(o),this},container:function(){return this._private.container||null},mount:function(o){if(null!=o){var l=this,f=l._private,h=f.options;return!zt(o)&&zt(o[0])&&(o=o[0]),l.stopAnimationLoop(),l.destroyRenderer(),f.container=o,f.styleEnabled=!0,l.invalidateSize(),l.initRenderer(kn({},h,h.renderer,{name:"null"===h.renderer.name?"canvas":h.renderer.name})),l.startAnimationLoop(),l.style(h.style),l.emit("mount"),l}},unmount:function(){var o=this;return o.stopAnimationLoop(),o.destroyRenderer(),o.initRenderer({name:"null"}),o.emit("unmount"),o},options:function(){return ki(this._private.options)},json:function(o){var l=this,f=l._private,h=l.mutableElements();if(Ze(o)){if(l.startBatch(),o.elements){var g={},w=function(ye,Ie){for(var Ae=[],be=[],Te=0;Te<ye.length;Te++){var _e=ye[Te];if(_e.data.id){var ke=""+_e.data.id,Pe=l.getElementById(ke);g[ke]=!0,0!==Pe.length?be.push({ele:Pe,json:_e}):(Ie&&(_e.group=Ie),Ae.push(_e))}else Ir("cy.json() cannot handle elements without an ID attribute")}l.add(Ae);for(var xe=0;xe<be.length;xe++){var He=be[xe];He.ele.json(He.json)}};if(ht(o.elements))w(o.elements);else for(var E=["nodes","edges"],x=0;x<E.length;x++){var M=E[x],F=o.elements[M];ht(F)&&w(F,M)}var z=l.collection();h.filter(function(he){return!g[he.id()]}).forEach(function(he){he.isParent()?z.merge(he):he.remove()}),z.forEach(function(he){return he.children().move({parent:null})}),z.forEach(function(he){return(ye=he,l.getElementById(ye.id())).remove();var ye})}o.style&&l.style(o.style),null!=o.zoom&&o.zoom!==f.zoom&&l.zoom(o.zoom),o.pan&&(o.pan.x!==f.pan.x||o.pan.y!==f.pan.y)&&l.pan(o.pan),o.data&&l.data(o.data);for(var W=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],j=0;j<W.length;j++){var Z=W[j];null!=o[Z]&&l[Z](o[Z])}return l.endBatch(),this}var re={};o?re.elements=this.elements().map(function(he){return he.json()}):(re.elements={},h.forEach(function(he){var ye=he.group();re.elements[ye]||(re.elements[ye]=[]),re.elements[ye].push(he.json())})),this._private.styleEnabled&&(re.style=l.style().json()),re.data=ki(l.data());var fe=f.options;return re.zoomingEnabled=f.zoomingEnabled,re.userZoomingEnabled=f.userZoomingEnabled,re.zoom=f.zoom,re.minZoom=f.minZoom,re.maxZoom=f.maxZoom,re.panningEnabled=f.panningEnabled,re.userPanningEnabled=f.userPanningEnabled,re.pan=ki(f.pan),re.boxSelectionEnabled=f.boxSelectionEnabled,re.renderer=ki(fe.renderer),re.hideEdgesOnViewport=fe.hideEdgesOnViewport,re.textureOnViewport=fe.textureOnViewport,re.wheelSensitivity=fe.wheelSensitivity,re.motionBlur=fe.motionBlur,re.multiClickDebounceTime=fe.multiClickDebounceTime,re}}),ku.$id=ku.getElementById,[by,Pf,Lf,Oc,iu,qp,Ld,Fd,Hd,Tl,_s].forEach(function(u){kn(ku,u)});var Ff={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}},Zp={maximal:!1,acyclic:!1},Pu=function(o){return o.scratch("breadthfirst")},Qp=function(o,l){return o.scratch("breadthfirst",l)};function Lu(u){this.options=kn({},Ff,Zp,u)}Lu.prototype.run=function(){var x,u=this.options,o=u,l=u.cy,f=o.eles,h=f.nodes().filter(function(sn){return!sn.isParent()}),p=f,g=o.directed,w=o.acyclic||o.maximal||o.maximalAdjustments>0,E=Mi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(It(o.roots))x=o.roots;else if(ht(o.roots)){for(var M=[],F=0;F<o.roots.length;F++){var W=l.getElementById(o.roots[F]);M.push(W)}x=l.collection(M)}else if(Be(o.roots))x=l.$(o.roots);else if(g)x=h.roots();else{var j=f.components();x=l.collection();for(var Z=function(en){var Bn=j[en],In=Bn.maxDegree(!1),cn=Bn.filter(function(Pn){return Pn.degree(!1)===In});x=x.add(cn)},J=0;J<j.length;J++)Z(J)}var re=[],fe={},he=function(en,Bn){null==re[Bn]&&(re[Bn]=[]);var In=re[Bn].length;re[Bn].push(en),Qp(en,{index:In,depth:Bn})};p.bfs({roots:x,directed:o.directed,visit:function(en,Bn,In,cn,Pn){var kr=en[0],pr=kr.id();he(kr,Pn),fe[pr]=!0}});for(var Ie=[],Ae=0;Ae<h.length;Ae++){var be=h[Ae];fe[be.id()]||Ie.push(be)}var Te=function(en){for(var Bn=re[en],In=0;In<Bn.length;In++){var cn=Bn[In];null!=cn?Qp(cn,{depth:en,index:In}):(Bn.splice(In,1),In--)}},_e=function(){for(var en=0;en<re.length;en++)Te(en)},ke=function(en,Bn){for(var In=Pu(en),cn=en.incomers().filter(function(ft){return ft.isNode()&&f.has(ft)}),Pn=-1,kr=en.id(),pr=0;pr<cn.length;pr++){var Ut=Pu(cn[pr]);Pn=Math.max(Pn,Ut.depth)}if(In.depth<=Pn){if(!o.acyclic&&Bn[kr])return null;var Ce=Pn+1;return function(en,Bn){var In=Pu(en);re[In.depth][In.index]=null,he(en,Bn)}(en,Ce),Bn[kr]=Ce,!0}return!1};if(g&&w){var Pe=[],xe={},He=function(en){return Pe.push(en)};for(h.forEach(function(sn){return Pe.push(sn)});Pe.length>0;){var Je=Pe.shift(),Ue=ke(Je,xe);if(Ue)Je.outgoers().filter(function(sn){return sn.isNode()&&f.has(sn)}).forEach(He);else if(null===Ue){Ir("Detected double maximal shift for node `"+Je.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}_e();var We=0;if(o.avoidOverlap)for(var at=0;at<h.length;at++){var bt=h[at].layoutDimensions(o);We=Math.max(We,bt.w,bt.h)}var At={},Ot=function(en){if(At[en.id()])return At[en.id()];for(var Bn=Pu(en).depth,In=en.neighborhood(),cn=0,Pn=0,kr=0;kr<In.length;kr++){var pr=In[kr];if(!pr.isEdge()&&!pr.isParent()&&h.has(pr)){var $n=Pu(pr);if(null!=$n){var Ut=$n.index,Ce=$n.depth;null!=Ut&&null!=Ce&&Ce<Bn&&(cn+=Ut/re[Ce].length,Pn++)}}}return cn/=Pn=Math.max(1,Pn),0===Pn&&(cn=0),At[en.id()]=cn,cn},Dt=function(en,Bn){var Pn=Ot(en)-Ot(Bn);return 0===Pn?Ya(en.id(),Bn.id()):Pn};void 0!==o.depthSort&&(Dt=o.depthSort);for(var wt=0;wt<re.length;wt++)re[wt].sort(Dt),Te(wt);for(var nt=[],Mt=0;Mt<Ie.length;Mt++)nt.push(Ie[Mt]);re.unshift(nt),_e();for(var Nt=0,Yt=0;Yt<re.length;Yt++)Nt=Math.max(re[Yt].length,Nt);var rn_x=E.x1+E.w/2,rn_y=E.x1+E.h/2,Xn=re.reduce(function(sn,en){return Math.max(sn,en.length)},0);return f.nodes().layoutPositions(this,o,function(en){var Bn=Pu(en),In=Bn.depth,cn=Bn.index,Pn=re[In].length,kr=Math.max(E.w/((o.grid?Xn:Pn)+1),We),pr=Math.max(E.h/(re.length+1),We),$n=Math.min(E.w/2/re.length,E.h/2/re.length);if($n=Math.max($n,We),o.circle){var Ce=$n*In+$n-(re.length>0&&re[0].length<=3?$n/2:0),ft=2*Math.PI/re[In].length*cn;return 0===In&&1===re[0].length&&(Ce=1),{x:rn_x+Ce*Math.cos(ft),y:rn_y+Ce*Math.sin(ft)}}return{x:rn_x+(cn+1-(Pn+1)/2)*kr,y:(In+1)*pr}}),this};var Rc={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Jp(u){this.options=kn({},Rc,u)}Jp.prototype.run=function(){var u=this.options,o=u,l=u.cy,f=o.eles,h=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,p=f.nodes().not(":parent");o.sort&&(p=p.sort(o.sort));for(var M,g=Mi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),w={x:g.x1+g.w/2,y:g.y1+g.h/2},x=(void 0===o.sweep?2*Math.PI-2*Math.PI/p.length:o.sweep)/Math.max(1,p.length-1),F=0,z=0;z<p.length;z++){var j=p[z].layoutDimensions(o);F=Math.max(F,j.w,j.h)}if(M=Qe(o.radius)?o.radius:p.length<=1?0:Math.min(g.h,g.w)/2-F,p.length>1&&o.avoidOverlap){F*=1.75;var re=Math.cos(x)-Math.cos(0),fe=Math.sin(x)-Math.sin(0),he=Math.sqrt(F*F/(re*re+fe*fe));M=Math.max(he,M)}return f.nodes().layoutPositions(this,o,function(Ae,be){var Te=o.startAngle+be*x*(h?1:-1),_e=M*Math.cos(Te),ke=M*Math.sin(Te);return{x:w.x+_e,y:w.y+ke}}),this};var _y={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(o){return o.degree()},levelWidth:function(o){return o.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function zd(u){this.options=kn({},_y,u)}zd.prototype.run=function(){for(var u=this.options,o=u,l=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,f=u.cy,h=o.eles,p=h.nodes().not(":parent"),g=Mi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:f.width(),h:f.height()}),w={x:g.x1+g.w/2,y:g.y1+g.h/2},E=[],x=0,M=0;M<p.length;M++){var z,F=p[M];z=o.concentric(F),E.push({value:z,node:F}),F._private.scratch.concentric=z}p.updateStyle();for(var W=0;W<p.length;W++){var Z=p[W].layoutDimensions(o);x=Math.max(x,Z.w,Z.h)}E.sort(function(sn,en){return en.value-sn.value});for(var J=o.levelWidth(p),re=[[]],fe=re[0],he=0;he<E.length;he++){var ye=E[he];fe.length>0&&Math.abs(fe[0].value-ye.value)>=J&&re.push(fe=[]),fe.push(ye)}var Ae=x+o.minNodeSpacing;if(!o.avoidOverlap){var be=re.length>0&&re[0].length>1,Te=Math.min(g.w,g.h)/2-Ae;Ae=Math.min(Ae,Te/(re.length+be?1:0))}for(var ke=0,Pe=0;Pe<re.length;Pe++){var xe=re[Pe],He=void 0===o.sweep?2*Math.PI-2*Math.PI/xe.length:o.sweep,Ne=xe.dTheta=He/Math.max(1,xe.length-1);if(xe.length>1&&o.avoidOverlap){var Je=Math.cos(Ne)-Math.cos(0),Ue=Math.sin(Ne)-Math.sin(0),We=Math.sqrt(Ae*Ae/(Je*Je+Ue*Ue));ke=Math.max(We,ke)}xe.r=ke,ke+=Ae}if(o.equidistant){for(var at=0,dt=0,bt=0;bt<re.length;bt++)at=Math.max(at,re[bt].r-dt);dt=0;for(var At=0;At<re.length;At++){var Ot=re[At];0===At&&(dt=Ot.r),Ot.r=dt,dt+=at}}for(var Dt={},wt=0;wt<re.length;wt++)for(var nt=re[wt],Mt=nt.dTheta,Nt=nt.r,Yt=0;Yt<nt.length;Yt++){var rn=nt[Yt],Xn=o.startAngle+(l?1:-1)*Mt*Yt,ar={x:w.x+Nt*Math.cos(Xn),y:w.y+Nt*Math.sin(Xn)};Dt[rn.node.id()]=ar}return h.nodes().layoutPositions(this,o,function(sn){var en=sn.id();return Dt[en]}),this};var Bf,eg={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(o,l){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(o){return 2048},nodeOverlap:4,idealEdgeLength:function(o){return 32},edgeElasticity:function(o){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Vf(u){this.options=kn({},eg,u),this.options.layout=this}Vf.prototype.run=function(){var u=this.options,o=u.cy,l=this;l.stopped=!1,(!0===u.animate||!1===u.animate)&&l.emit({type:"layoutstart",layout:l}),Bf=!0===u.debug;var f=Em(o,l,u);Bf&&(void 0)(f),u.randomize&&Dm(f);var h=Ti(),p=function(){Bh(f,o,u),!0===u.fit&&o.fit(u.padding)},g=function(z){return!(l.stopped||z>=u.numIter||(li(f,u),f.temperature=f.temperature*u.coolingFactor,f.temperature<u.minTemp))},w=function(){if(!0===u.animate||!1===u.animate)p(),l.one("layoutstop",u.stop),l.emit({type:"layoutstop",layout:l});else{var z=u.eles.nodes(),W=Gd(f,u,z);z.layoutPositions(l,u,W)}},E=0,x=!0;if(!0===u.animate)!function F(){for(var z=0;x&&z<u.refresh;)x=g(E),E++,z++;x?(Ti()-h>=u.animationThreshold&&p(),bu(F)):(tg(f,u),w())}();else{for(;x;)x=g(E),E++;tg(f,u),w()}return this},Vf.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Vf.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Em=function(o,l,f){for(var h=f.eles.edges(),p=f.eles.nodes(),g=Mi(f.boundingBox?f.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()}),w={isCompound:o.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:p.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:h.size(),temperature:f.initialTemp,clientWidth:g.w,clientHeight:g.h,boundingBox:g},E=f.eles.components(),x={},M=0;M<E.length;M++)for(var F=E[M],z=0;z<F.length;z++)x[F[z].id()]=M;for(M=0;M<w.nodeSize;M++){var Z=(j=p[M]).layoutDimensions(f);(J={}).isLocked=j.locked(),J.id=j.data("id"),J.parentId=j.data("parent"),J.cmptId=x[j.id()],J.children=[],J.positionX=j.position("x"),J.positionY=j.position("y"),J.offsetX=0,J.offsetY=0,J.height=Z.w,J.width=Z.h,J.maxX=J.positionX+J.width/2,J.minX=J.positionX-J.width/2,J.maxY=J.positionY+J.height/2,J.minY=J.positionY-J.height/2,J.padLeft=parseFloat(j.style("padding")),J.padRight=parseFloat(j.style("padding")),J.padTop=parseFloat(j.style("padding")),J.padBottom=parseFloat(j.style("padding")),J.nodeRepulsion=st(f.nodeRepulsion)?f.nodeRepulsion(j):f.nodeRepulsion,w.layoutNodes.push(J),w.idToIndex[J.id]=M}var re=[],fe=0,he=-1,ye=[];for(M=0;M<w.nodeSize;M++){var j,Ie=(j=w.layoutNodes[M]).parentId;null!=Ie?w.layoutNodes[w.idToIndex[Ie]].children.push(j.id):(re[++he]=j.id,ye.push(j.id))}for(w.graphSet.push(ye);fe<=he;){var Ae=re[fe++],Te=w.layoutNodes[w.idToIndex[Ae]].children;if(Te.length>0)for(w.graphSet.push(Te),M=0;M<Te.length;M++)re[++he]=Te[M]}for(M=0;M<w.graphSet.length;M++){var _e=w.graphSet[M];for(z=0;z<_e.length;z++)w.indexToGraph[w.idToIndex[_e[z]]]=M}for(M=0;M<w.edgeSize;M++){var Pe=h[M],xe={};xe.id=Pe.data("id"),xe.sourceId=Pe.data("source"),xe.targetId=Pe.data("target");var He=st(f.idealEdgeLength)?f.idealEdgeLength(Pe):f.idealEdgeLength,Ne=st(f.edgeElasticity)?f.edgeElasticity(Pe):f.edgeElasticity,Je=w.idToIndex[xe.sourceId],Ue=w.idToIndex[xe.targetId];if(w.indexToGraph[Je]!=w.indexToGraph[Ue]){for(var dt=Ud(xe.sourceId,xe.targetId,w),bt=w.graphSet[dt],lt=0,J=w.layoutNodes[Je];-1===bt.indexOf(J.id);)J=w.layoutNodes[w.idToIndex[J.parentId]],lt++;for(J=w.layoutNodes[Ue];-1===bt.indexOf(J.id);)J=w.layoutNodes[w.idToIndex[J.parentId]],lt++;He*=lt*f.nestingFactor}xe.idealLength=He,xe.elasticity=Ne,w.layoutEdges.push(xe)}return w},Ud=function(o,l,f){var h=Fh(o,l,0,f);return 2>h.count?0:h.graph},Fh=function u(o,l,f,h){var p=h.graphSet[f];if(-1<p.indexOf(o)&&-1<p.indexOf(l))return{count:2,graph:f};for(var g=0,w=0;w<p.length;w++){var M=h.layoutNodes[h.idToIndex[p[w]]].children;if(0!==M.length){var z=u(o,l,h.indexToGraph[h.idToIndex[M[0]]],h);if(0!==z.count){if(1!==z.count)return z;if(2==++g)break}}}return{count:g,graph:f}},Dm=function(o,l){for(var f=o.clientWidth,h=o.clientHeight,p=0;p<o.nodeSize;p++){var g=o.layoutNodes[p];0===g.children.length&&!g.isLocked&&(g.positionX=Math.random()*f,g.positionY=Math.random()*h)}},Gd=function(o,l,f){var h=o.boundingBox,p={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return l.boundingBox&&(f.forEach(function(g){var w=o.layoutNodes[o.idToIndex[g.data("id")]];p.x1=Math.min(p.x1,w.positionX),p.x2=Math.max(p.x2,w.positionX),p.y1=Math.min(p.y1,w.positionY),p.y2=Math.max(p.y2,w.positionY)}),p.w=p.x2-p.x1,p.h=p.y2-p.y1),function(g,w){var E=o.layoutNodes[o.idToIndex[g.data("id")]];return l.boundingBox?{x:h.x1+(E.positionX-p.x1)/p.w*h.w,y:h.y1+(E.positionY-p.y1)/p.h*h.h}:{x:E.positionX,y:E.positionY}}},Bh=function(o,l,f){var h=f.layout,p=f.eles.nodes(),g=Gd(o,f,p);p.positions(g),!0!==o.ready&&(o.ready=!0,h.one("layoutready",f.ready),h.emit({type:"layoutready",layout:this}))},li=function(o,l,f){wy(o,l),Vh(o),Wd(o,l),Hf(o),Hh(o)},wy=function(o,l){for(var f=0;f<o.graphSet.length;f++)for(var h=o.graphSet[f],p=h.length,g=0;g<p;g++)for(var w=o.layoutNodes[o.idToIndex[h[g]]],E=g+1;E<p;E++)kc(w,o.layoutNodes[o.idToIndex[h[E]]],o,l)},jd=function(o){return-o+2*o*Math.random()},kc=function(o,l,f,h){if(o.cmptId===l.cmptId||f.isCompound){var w=l.positionX-o.positionX,E=l.positionY-o.positionY;0===w&&0===E&&(w=jd(1),E=jd(1));var M=Us(o,l,w,E);if(M>0)var W=(F=h.nodeOverlap*M)*w/(z=Math.sqrt(w*w+E*E)),j=F*E/z;else{var F,Z=fa(o,w,E),J=fa(l,-1*w,-1*E),re=J.x-Z.x,fe=J.y-Z.y,he=re*re+fe*fe,z=Math.sqrt(he);W=(F=(o.nodeRepulsion+l.nodeRepulsion)/he)*re/z,j=F*fe/z}o.isLocked||(o.offsetX-=W,o.offsetY-=j),l.isLocked||(l.offsetX+=W,l.offsetY+=j)}},Us=function(o,l,f,h){if(f>0)var p=o.maxX-l.minX;else p=l.maxX-o.minX;if(h>0)var g=o.maxY-l.minY;else g=l.maxY-o.minY;return p>=0&&g>=0?Math.sqrt(p*p+g*g):0},fa=function(o,l,f){var h=o.positionX,p=o.positionY,g=o.height||1,w=o.width||1,E=f/l,x=g/w,M={};return 0===l&&0<f||0===l&&0>f?(M.x=h,M.y=p+g/2,M):0<l&&-1*x<=E&&E<=x?(M.x=h+w/2,M.y=p+w*f/2/l,M):0>l&&-1*x<=E&&E<=x?(M.x=h-w/2,M.y=p-w*f/2/l,M):0<f&&(E<=-1*x||E>=x)?(M.x=h+g*l/2/f,M.y=p+g/2,M):(0>f&&(E<=-1*x||E>=x)&&(M.x=h-g*l/2/f,M.y=p-g/2),M)},Vh=function(o,l){for(var f=0;f<o.edgeSize;f++){var h=o.layoutEdges[f],g=o.layoutNodes[o.idToIndex[h.sourceId]],E=o.layoutNodes[o.idToIndex[h.targetId]],x=E.positionX-g.positionX,M=E.positionY-g.positionY;if(0!==x||0!==M){var F=fa(g,x,M),z=fa(E,-1*x,-1*M),W=z.x-F.x,j=z.y-F.y,Z=Math.sqrt(W*W+j*j),J=Math.pow(h.idealLength-Z,2)/h.elasticity;if(0!==Z)var re=J*W/Z,fe=J*j/Z;else re=0,fe=0;g.isLocked||(g.offsetX+=re,g.offsetY+=fe),E.isLocked||(E.offsetX-=re,E.offsetY-=fe)}}},Wd=function(o,l){if(0!==l.gravity)for(var h=0;h<o.graphSet.length;h++){var p=o.graphSet[h],g=p.length;if(0===h)var w=o.clientHeight/2,E=o.clientWidth/2;else{var M=o.layoutNodes[o.idToIndex[o.layoutNodes[o.idToIndex[p[0]]].parentId]];w=M.positionX,E=M.positionY}for(var F=0;F<g;F++){var z=o.layoutNodes[o.idToIndex[p[F]]];if(!z.isLocked){var W=w-z.positionX,j=E-z.positionY,Z=Math.sqrt(W*W+j*j);if(Z>1){var re=l.gravity*j/Z;z.offsetX+=l.gravity*W/Z,z.offsetY+=re}}}}},Hf=function(o,l){var f=[],h=0,p=-1;for(f.push.apply(f,o.graphSet[0]),p+=o.graphSet[0].length;h<=p;){var g=f[h++],E=o.layoutNodes[o.idToIndex[g]],x=E.children;if(0<x.length&&!E.isLocked){for(var M=E.offsetX,F=E.offsetY,z=0;z<x.length;z++){var W=o.layoutNodes[o.idToIndex[x[z]]];W.offsetX+=M,W.offsetY+=F,f[++p]=x[z]}E.offsetX=0,E.offsetY=0}}},Hh=function(o,l){for(var f=0;f<o.nodeSize;f++)0<(h=o.layoutNodes[f]).children.length&&(h.maxX=void 0,h.minX=void 0,h.maxY=void 0,h.minY=void 0);for(f=0;f<o.nodeSize;f++)if(!(0<(h=o.layoutNodes[f]).children.length||h.isLocked)){var p=$d(h.offsetX,h.offsetY,o.temperature);h.positionX+=p.x,h.positionY+=p.y,h.offsetX=0,h.offsetY=0,h.minX=h.positionX-h.width,h.maxX=h.positionX+h.width,h.minY=h.positionY-h.height,h.maxY=h.positionY+h.height,zf(h,o)}for(f=0;f<o.nodeSize;f++){var h;0<(h=o.layoutNodes[f]).children.length&&!h.isLocked&&(h.positionX=(h.maxX+h.minX)/2,h.positionY=(h.maxY+h.minY)/2,h.width=h.maxX-h.minX,h.height=h.maxY-h.minY)}},$d=function(o,l,f){var h=Math.sqrt(o*o+l*l);if(h>f)var p={x:f*o/h,y:f*l/h};else p={x:o,y:l};return p},zf=function u(o,l){var f=o.parentId;if(null!=f){var h=l.layoutNodes[l.idToIndex[f]],p=!1;if((null==h.maxX||o.maxX+h.padRight>h.maxX)&&(h.maxX=o.maxX+h.padRight,p=!0),(null==h.minX||o.minX-h.padLeft<h.minX)&&(h.minX=o.minX-h.padLeft,p=!0),(null==h.maxY||o.maxY+h.padBottom>h.maxY)&&(h.maxY=o.maxY+h.padBottom,p=!0),(null==h.minY||o.minY-h.padTop<h.minY)&&(h.minY=o.minY-h.padTop,p=!0),p)return u(h,l)}},tg=function(o,l){for(var f=o.layoutNodes,h=[],p=0;p<f.length;p++){var g=f[p],w=g.cmptId;(h[w]=h[w]||[]).push(g)}var x=0;for(p=0;p<h.length;p++)if(M=h[p]){M.x1=1/0,M.x2=-1/0,M.y1=1/0,M.y2=-1/0;for(var F=0;F<M.length;F++){var z=M[F];M.x1=Math.min(M.x1,z.positionX-z.width/2),M.x2=Math.max(M.x2,z.positionX+z.width/2),M.y1=Math.min(M.y1,z.positionY-z.height/2),M.y2=Math.max(M.y2,z.positionY+z.height/2)}M.w=M.x2-M.x1,M.h=M.y2-M.y1,x+=M.w*M.h}h.sort(function(fe,he){return he.w*he.h-fe.w*fe.h});var W=0,j=0,Z=0,J=0,re=Math.sqrt(x)*o.clientWidth/o.clientHeight;for(p=0;p<h.length;p++){var M;if(M=h[p]){for(F=0;F<M.length;F++)(z=M[F]).isLocked||(z.positionX+=W-M.x1,z.positionY+=j-M.y1);W+=M.w+l.componentSpacing,Z+=M.w+l.componentSpacing,J=Math.max(J,M.h),Z>re&&(j+=J+l.componentSpacing,W=0,Z=0,J=0)}}},Uf={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(o){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Gf(u){this.options=kn({},Uf,u)}Gf.prototype.run=function(){var u=this.options,o=u,l=u.cy,f=o.eles,h=f.nodes().not(":parent");o.sort&&(h=h.sort(o.sort));var p=Mi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(0===p.h||0===p.w)f.nodes().layoutPositions(this,o,function(At){return{x:p.x1,y:p.y1}});else{var g=h.size(),w=Math.sqrt(g*p.h/p.w),E=Math.round(w),x=Math.round(p.w/p.h*w),M=function(Ot){if(null==Ot)return Math.min(E,x);Math.min(E,x)==E?E=Ot:x=Ot},F=function(Ot){if(null==Ot)return Math.max(E,x);Math.max(E,x)==E?E=Ot:x=Ot},z=o.rows,W=null!=o.cols?o.cols:o.columns;if(null!=z&&null!=W)E=z,x=W;else if(null!=z&&null==W)E=z,x=Math.ceil(g/E);else if(null==z&&null!=W)x=W,E=Math.ceil(g/x);else if(x*E>g){var j=M(),Z=F();(j-1)*Z>=g?M(j-1):(Z-1)*j>=g&&F(Z-1)}else for(;x*E<g;){var J=M(),re=F();(re+1)*J>=g?F(re+1):M(J+1)}var fe=p.w/x,he=p.h/E;if(o.condense&&(fe=0,he=0),o.avoidOverlap)for(var ye=0;ye<h.length;ye++){var Ie=h[ye],Ae=Ie._private.position;(null==Ae.x||null==Ae.y)&&(Ae.x=0,Ae.y=0);var be=Ie.layoutDimensions(o),Te=o.avoidOverlapPadding,ke=be.h+Te;fe=Math.max(fe,be.w+Te),he=Math.max(he,ke)}for(var Pe={},xe=function(Ot,Dt){return!!Pe["c-"+Ot+"-"+Dt]},He=function(Ot,Dt){Pe["c-"+Ot+"-"+Dt]=!0},Ne=0,Je=0,Ue=function(){++Je>=x&&(Je=0,Ne++)},We={},at=0;at<h.length;at++){var dt=h[at],bt=o.position(dt);if(bt&&(void 0!==bt.row||void 0!==bt.col)){var lt={row:bt.row,col:bt.col};if(void 0===lt.col)for(lt.col=0;xe(lt.row,lt.col);)lt.col++;else if(void 0===lt.row)for(lt.row=0;xe(lt.row,lt.col);)lt.row++;We[dt.id()]=lt,He(lt.row,lt.col)}}h.layoutPositions(this,o,function(Ot,Dt){var wt,nt;if(Ot.locked()||Ot.isParent())return!1;var Mt=We[Ot.id()];if(Mt)wt=Mt.col*fe+fe/2+p.x1,nt=Mt.row*he+he/2+p.y1;else{for(;xe(Ne,Je);)Ue();wt=Je*fe+fe/2+p.x1,nt=Ne*he+he/2+p.y1,He(Ne,Je),Ue()}return{x:wt,y:nt}})}return this};var Zr={ready:function(){},stop:function(){}};function Yd(u){this.options=kn({},Zr,u)}Yd.prototype.run=function(){var u=this.options,o=u.eles,l=this;return l.emit("layoutstart"),o.nodes().positions(function(){return{x:0,y:0}}),l.one("layoutready",u.ready),l.emit("layoutready"),l.one("layoutstop",u.stop),l.emit("layoutstop"),this},Yd.prototype.stop=function(){return this};var Sm={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function sl(u){this.options=kn({},Sm,u)}sl.prototype.run=function(){var u=this.options,l=u.eles.nodes(),f=st(u.positions);return l.layoutPositions(this,u,function(p,g){var w=function h(p){return null==u.positions?function(o){return{x:o.x,y:o.y}}(p.position()):f?u.positions(p):u.positions[p._private.data.id]??null}(p);return!p.locked()&&null!=w&&w}),this};var Bu={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Xd(u){this.options=kn({},Bu,u)}Xd.prototype.run=function(){var u=this.options,o=u.cy,l=u.eles,f=Mi(u.boundingBox?u.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});return l.nodes().layoutPositions(this,u,function(g,w){return{x:f.x1+Math.round(Math.random()*f.w),y:f.y1+Math.round(Math.random()*f.h)}}),this};var ng=[{name:"breadthfirst",impl:Lu},{name:"circle",impl:Jp},{name:"concentric",impl:zd},{name:"cose",impl:Vf},{name:"grid",impl:Gf},{name:"null",impl:Yd},{name:"preset",impl:sl},{name:"random",impl:Xd}];function Ii(u){this.options=u,this.notifications=0}var Vu=function(){},rg=function(){throw new Error("A headless instance can not render images")};Ii.prototype={recalculateRenderedStyle:Vu,notify:function(){this.notifications++},init:Vu,isHeadless:function(){return!0},png:rg,jpg:rg};var Ci={arrowShapeWidth:.3,registerArrowShapes:function(){var u=this.arrowShapes={},o=this,l=function(x,M,F,z,W,j,Z){return W.x-F/2-Z<=x&&x<=W.x+F/2+Z&&W.y-F/2-Z<=M&&M<=W.y+F/2+Z},f=function(x,M,F,z,W){var j=x*Math.cos(z)-M*Math.sin(z),Z=x*Math.sin(z)+M*Math.cos(z);return{x:j*F+W.x,y:Z*F+W.y}},h=function(x,M,F,z){for(var W=[],j=0;j<x.length;j+=2)W.push(f(x[j],x[j+1],M,F,z));return W},p=function(x){for(var M=[],F=0;F<x.length;F++){var z=x[F];M.push(z.x,z.y)}return M},g=function(x){return x.pstyle("width").pfValue*x.pstyle("arrow-scale").pfValue*2},w=function(x,M){Be(M)&&(M=u[M]),u[x]=kn({name:x,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(z,W,j,Z,J,re){var fe=p(h(this.points,j+2*re,Z,J));return Zo(z,W,fe)},roughCollide:l,draw:function(z,W,j,Z){var J=h(this.points,W,j,Z);o.arrowShapeImpl("polygon")(z,J)},spacing:function(z){return 0},gap:g},M)};w("none",{collide:Ns,roughCollide:Ns,draw:sd,spacing:sc,gap:sc}),w("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),w("arrow","triangle"),w("triangle-backcurve",{points:u.triangle.points,controlPoint:[0,-.15],roughCollide:l,draw:function(x,M,F,z,W){var j=h(this.points,M,F,z),Z=this.controlPoint,J=f(Z[0],Z[1],M,F,z);o.arrowShapeImpl(this.name)(x,j,J)},gap:function(x){return.8*g(x)}}),w("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(x,M,F,z,W,j,Z){var J=p(h(this.points,F+2*Z,z,W)),re=p(h(this.pointsTee,F+2*Z,z,W));return Zo(x,M,J)||Zo(x,M,re)},draw:function(x,M,F,z,W){var j=h(this.points,M,F,z),Z=h(this.pointsTee,M,F,z);o.arrowShapeImpl(this.name)(x,j,Z)}}),w("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(x,M,F,z,W,j,Z){var J=W,re=Math.pow(J.x-x,2)+Math.pow(J.y-M,2)<=Math.pow((F+2*Z)*this.radius,2),fe=p(h(this.points,F+2*Z,z,W));return Zo(x,M,fe)||re},draw:function(x,M,F,z,W){var j=h(this.pointsTr,M,F,z);o.arrowShapeImpl(this.name)(x,j,z.x,z.y,this.radius*M)},spacing:function(x){return o.getArrowWidth(x.pstyle("width").pfValue,x.pstyle("arrow-scale").value)*this.radius}}),w("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(x,M){var F=this.baseCrossLinePts.slice(),z=M/x;return F[3]=F[3]-z,F[5]=F[5]-z,F},collide:function(x,M,F,z,W,j,Z){var J=p(h(this.points,F+2*Z,z,W)),re=p(h(this.crossLinePts(F,j),F+2*Z,z,W));return Zo(x,M,J)||Zo(x,M,re)},draw:function(x,M,F,z,W){var j=h(this.points,M,F,z),Z=h(this.crossLinePts(M,W),M,F,z);o.arrowShapeImpl(this.name)(x,j,Z)}}),w("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(x){return.525*g(x)}}),w("circle",{radius:.15,collide:function(x,M,F,z,W,j,Z){var J=W;return Math.pow(J.x-x,2)+Math.pow(J.y-M,2)<=Math.pow((F+2*Z)*this.radius,2)},draw:function(x,M,F,z,W){o.arrowShapeImpl(this.name)(x,z.x,z.y,this.radius*M)},spacing:function(x){return o.getArrowWidth(x.pstyle("width").pfValue,x.pstyle("arrow-scale").value)*this.radius}}),w("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(x){return 1},gap:function(x){return 1}}),w("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),w("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(x){return x.pstyle("width").pfValue*x.pstyle("arrow-scale").value}}),w("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(x){return.95*x.pstyle("width").pfValue*x.pstyle("arrow-scale").value}})}},Cs={projectIntoViewport:function(u,o){var l=this.cy,f=this.findContainerClientCoords(),h=f[0],p=f[1],g=f[4],w=l.pan(),E=l.zoom();return[((u-h)/g-w.x)/E,((o-p)/g-w.y)/E]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var u=this.container,o=u.getBoundingClientRect(),l=oe.getComputedStyle(u),f=function(re){return parseFloat(l.getPropertyValue(re))},h_left=f("padding-left"),h_right=f("padding-right"),h_top=f("padding-top"),h_bottom=f("padding-bottom"),p_left=f("border-left-width"),p_right=f("border-right-width"),p_top=f("border-top-width"),g=(f("border-bottom-width"),u.clientWidth);return this.containerBB=[o.left+h_left+p_left,o.top+h_top+p_top,g-(h_left+h_right),u.clientHeight-(h_top+h_bottom),o.width/(g+(p_left+p_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(u,o,l,f){return this.findNearestElements(u,o,l,f)[0]},findNearestElements:function(u,o,l,f){var j,Z,h=this,p=this,g=p.getCachedZSortedEles(),w=[],E=p.cy.zoom(),x=p.cy.hasCompoundNodes(),M=(f?24:8)/E,F=(f?8:2)/E,z=(f?8:2)/E,W=1/0;function J(be,Te){if(be.isNode()){if(Z)return;Z=be,w.push(be)}if(be.isEdge()&&(null==Te||Te<W))if(j){if(j.pstyle("z-compound-depth").value===be.pstyle("z-compound-depth").value&&j.pstyle("z-compound-depth").value===be.pstyle("z-compound-depth").value)for(var _e=0;_e<w.length;_e++)if(w[_e].isEdge()){w[_e]=be,j=be,W=Te??W;break}}else w.push(be),j=be,W=Te??W}function re(be){var Te=be.outerWidth()+2*F,_e=be.outerHeight()+2*F,ke=Te/2,Pe=_e/2,xe=be.position();if(xe.x-ke<=u&&u<=xe.x+ke&&xe.y-Pe<=o&&o<=xe.y+Pe&&p.nodeShapes[h.getNodeShape(be)].checkPoint(u,o,0,Te,_e,xe.x,xe.y))return J(be,0),!0}function fe(be){var Je,Te=be._private,_e=Te.rscratch,ke=be.pstyle("width").pfValue,Pe=be.pstyle("arrow-scale").value,xe=ke/2+M,He=xe*xe,Ne=2*xe,at=Te.source,dt=Te.target;if("segments"===_e.edgeType||"straight"===_e.edgeType||"haystack"===_e.edgeType){for(var Ue=_e.allpts,We=0;We+3<Ue.length;We+=2)if(gl(u,o,Ue[We],Ue[We+1],Ue[We+2],Ue[We+3],Ne)&&He>(Je=ml(u,o,Ue[We],Ue[We+1],Ue[We+2],Ue[We+3])))return J(be,Je),!0}else if("bezier"===_e.edgeType||"multibezier"===_e.edgeType||"self"===_e.edgeType||"compound"===_e.edgeType)for(Ue=_e.allpts,We=0;We+5<_e.allpts.length;We+=4)if(ei(u,o,Ue[We],Ue[We+1],Ue[We+2],Ue[We+3],Ue[We+4],Ue[We+5],Ne)&&He>(Je=wu(u,o,Ue[We],Ue[We+1],Ue[We+2],Ue[We+3],Ue[We+4],Ue[We+5])))return J(be,Je),!0;at=at||Te.source,dt=dt||Te.target;var bt=h.getArrowWidth(ke,Pe),lt=[{name:"source",x:_e.arrowStartX,y:_e.arrowStartY,angle:_e.srcArrowAngle},{name:"target",x:_e.arrowEndX,y:_e.arrowEndY,angle:_e.tgtArrowAngle},{name:"mid-source",x:_e.midX,y:_e.midY,angle:_e.midsrcArrowAngle},{name:"mid-target",x:_e.midX,y:_e.midY,angle:_e.midtgtArrowAngle}];for(We=0;We<lt.length;We++){var yt=lt[We],At=p.arrowShapes[be.pstyle(yt.name+"-arrow-shape").value],Ot=be.pstyle("width").pfValue;if(At.roughCollide(u,o,bt,yt.angle,{x:yt.x,y:yt.y},Ot,M)&&At.collide(u,o,bt,yt.angle,{x:yt.x,y:yt.y},Ot,M))return J(be),!0}x&&w.length>0&&(re(at),re(dt))}function he(be,Te,_e){return Qi(be,Te,_e)}function ye(be,Te){var Pe,_e=be._private,ke=z;Pe=Te?Te+"-":"",be.boundingBox();var xe=_e.labelBounds[Te||"main"],He=be.pstyle(Pe+"label").value;if("yes"===be.pstyle("text-events").strValue&&He){var Je=he(_e.rscratch,"labelX",Te),Ue=he(_e.rscratch,"labelY",Te),We=he(_e.rscratch,"labelAngle",Te),at=be.pstyle(Pe+"text-margin-x").pfValue,dt=be.pstyle(Pe+"text-margin-y").pfValue,bt=xe.x1-ke-at,lt=xe.x2+ke-at,yt=xe.y1-ke-dt,At=xe.y2+ke-dt;if(We){var Ot=Math.cos(We),Dt=Math.sin(We),wt=function(ar,sn){return{x:(ar-=Je)*Ot-(sn-=Ue)*Dt+Je,y:ar*Dt+sn*Ot+Ue}},nt=wt(bt,yt),Mt=wt(bt,At),Nt=wt(lt,yt),Yt=wt(lt,At);if(Zo(u,o,[nt.x+at,nt.y+dt,Nt.x+at,Nt.y+dt,Yt.x+at,Yt.y+dt,Mt.x+at,Mt.y+dt]))return J(be),!0}else if(qa(xe,u,o))return J(be),!0}}l&&(g=g.interactive);for(var Ie=g.length-1;Ie>=0;Ie--){var Ae=g[Ie];Ae.isNode()?re(Ae)||ye(Ae):fe(Ae)||ye(Ae)||ye(Ae,"source")||ye(Ae,"target")}return w},getAllInBox:function(u,o,l,f){for(var h=this.getCachedZSortedEles().interactive,p=[],g=Math.min(u,l),w=Math.max(u,l),E=Math.min(o,f),x=Math.max(o,f),M=Mi({x1:u=g,y1:o=E,x2:l=w,y2:f=x}),F=0;F<h.length;F++){var z=h[F];if(z.isNode()){var W=z,j=W.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});tr(M,j)&&!cd(j,M)&&p.push(W)}else{var Z=z,J=Z._private,re=J.rscratch;if(null!=re.startX&&null!=re.startY&&!qa(M,re.startX,re.startY)||null!=re.endX&&null!=re.endY&&!qa(M,re.endX,re.endY))continue;if("bezier"===re.edgeType||"multibezier"===re.edgeType||"self"===re.edgeType||"compound"===re.edgeType||"segments"===re.edgeType||"haystack"===re.edgeType){for(var fe=J.rstyle.bezierPts||J.rstyle.linePts||J.rstyle.haystackPts,he=!0,ye=0;ye<fe.length;ye++)if(!mf(M,fe[ye])){he=!1;break}he&&p.push(Z)}else("haystack"===re.edgeType||"straight"===re.edgeType)&&p.push(Z)}}return p}},a={calculateArrowAngles:function(u){var E,x,M,F,z,W,o=u._private.rscratch,l="haystack"===o.edgeType,f="bezier"===o.edgeType,h="multibezier"===o.edgeType,p="segments"===o.edgeType,g="compound"===o.edgeType,w="self"===o.edgeType;l?(M=o.haystackPts[0],F=o.haystackPts[1],z=o.haystackPts[2],W=o.haystackPts[3]):(M=o.arrowStartX,F=o.arrowStartY,z=o.arrowEndX,W=o.arrowEndY),re=o.midX,fe=o.midY,p?(E=M-o.segpts[0],x=F-o.segpts[1]):h||g||w||f?(E=M-fi((j=o.allpts)[0],j[2],j[4],.1),x=F-fi(j[1],j[3],j[5],.1)):(E=M-re,x=F-fe),o.srcArrowAngle=di(E,x);var re=o.midX,fe=o.midY;if(l&&(re=(M+z)/2,fe=(F+W)/2),E=z-M,x=W-F,p)if((j=o.allpts).length/2%2==0)E=j[he=j.length/2]-j[ye=he-2],x=j[he+1]-j[ye+1];else{var he,ye,Ie=2+(he=j.length/2-1);E=j[he]-j[ye=he-2],x=j[he+1]-j[ye+1]}else if(h||g||w){var be,Te,_e,ke,xe,Pe,He,j=o.allpts;o.ctrlpts.length/2%2==0?(be=fi(j[Pe=j.length/2-1],j[xe=Pe+2],j[He=xe+2],0),Te=fi(j[Pe+1],j[xe+1],j[He+1],0),_e=fi(j[Pe],j[xe],j[He],1e-4),ke=fi(j[Pe+1],j[xe+1],j[He+1],1e-4)):(be=fi(j[Pe=(xe=j.length/2-1)-2],j[xe],j[He=xe+2],.4999),Te=fi(j[Pe+1],j[xe+1],j[He+1],.4999),_e=fi(j[Pe],j[xe],j[He],.5),ke=fi(j[Pe+1],j[xe+1],j[He+1],.5)),E=_e-be,x=ke-Te}if(o.midtgtArrowAngle=di(E,x),o.midDispX=E,o.midDispY=x,E*=-1,x*=-1,p&&(j=o.allpts).length/2%2!=0&&(E=-(j[Ie=2+(he=j.length/2-1)]-j[he]),x=-(j[Ie+1]-j[he+1])),o.midsrcArrowAngle=di(E,x),p)E=z-o.segpts[o.segpts.length-2],x=W-o.segpts[o.segpts.length-1];else if(h||g||w||f){var Ne=(j=o.allpts).length;E=z-fi(j[Ne-6],j[Ne-4],j[Ne-2],.9),x=W-fi(j[Ne-5],j[Ne-3],j[Ne-1],.9)}else E=z-re,x=W-fe;o.tgtArrowAngle=di(E,x)}};a.getArrowWidth=a.getArrowHeight=function(u,o){var l=this.arrowWidthCache=this.arrowWidthCache||{},f=l[u+", "+o];return f||(f=Math.max(Math.pow(13.37*u,.9),29)*o,l[u+", "+o]=f,f)};var d={};function y(u){var o=[];if(null!=u){for(var l=0;l<u.length;l+=2)o.push({x:u[l],y:u[l+1]});return o}}d.findHaystackPoints=function(u){for(var o=0;o<u.length;o++){var l=u[o],f=l._private,h=f.rscratch;if(!h.haystack){var p=2*Math.random()*Math.PI;h.source={x:Math.cos(p),y:Math.sin(p)},p=2*Math.random()*Math.PI,h.target={x:Math.cos(p),y:Math.sin(p)}}var g=f.source,w=f.target,E=g.position(),x=w.position(),M=g.width(),F=w.width(),z=g.height(),W=w.height(),Z=l.pstyle("haystack-radius").value/2;h.haystackPts=h.allpts=[h.source.x*M*Z+E.x,h.source.y*z*Z+E.y,h.target.x*F*Z+x.x,h.target.y*W*Z+x.y],h.midX=(h.allpts[0]+h.allpts[2])/2,h.midY=(h.allpts[1]+h.allpts[3])/2,h.edgeType="haystack",h.haystack=!0,this.storeEdgeProjections(l),this.calculateArrowAngles(l),this.recalculateEdgeLabelProjections(l),this.calculateLabelAngles(l)}},d.findSegmentsPoints=function(u,o){var l=u._private.rscratch,f=o.posPts,h=o.intersectionPts,p=o.vectorNormInverse,g=u.pstyle("edge-distances").value,w=u.pstyle("segment-weights"),E=u.pstyle("segment-distances"),x=Math.min(w.pfValue.length,E.pfValue.length);l.edgeType="segments",l.segpts=[];for(var M=0;M<x;M++){var F=w.pfValue[M],z=E.pfValue[M],W=1-F,Z="node-position"===g?f:h,J={x:Z.x1*W+Z.x2*F,y:Z.y1*W+Z.y2*F};l.segpts.push(J.x+p.x*z,J.y+p.y*z)}},d.findLoopPoints=function(u,o,l,f){var h=u._private.rscratch,p=o.dirCounts,g=o.srcPos,w=u.pstyle("control-point-distances"),E=w?w.pfValue[0]:void 0,x=u.pstyle("loop-direction").pfValue,M=u.pstyle("loop-sweep").pfValue,F=u.pstyle("control-point-step-size").pfValue;h.edgeType="self";var z=l,W=F;f&&(z=0,W=E);var j=x-Math.PI/2,Z=j-M/2,J=j+M/2,re=x+"_"+M;z=void 0===p[re]?p[re]=0:++p[re],h.ctrlpts=[g.x+1.4*Math.cos(Z)*W*(z/3+1),g.y+1.4*Math.sin(Z)*W*(z/3+1),g.x+1.4*Math.cos(J)*W*(z/3+1),g.y+1.4*Math.sin(J)*W*(z/3+1)]},d.findCompoundLoopPoints=function(u,o,l,f){var h=u._private.rscratch;h.edgeType="compound";var p=o.srcPos,g=o.tgtPos,w=o.srcW,E=o.srcH,x=o.tgtW,M=o.tgtH,F=u.pstyle("control-point-step-size").pfValue,z=u.pstyle("control-point-distances"),j=l,Z=F;f&&(j=0,Z=z?z.pfValue[0]:void 0);var re={x:p.x-w/2,y:p.y-E/2},fe={x:g.x-x/2,y:g.y-M/2},he={x:Math.min(re.x,fe.x),y:Math.min(re.y,fe.y)},Ie=Math.max(.5,Math.log(.01*w)),Ae=Math.max(.5,Math.log(.01*x));h.ctrlpts=[he.x,he.y-(1+Math.pow(50,1.12)/100)*Z*(j/3+1)*Ie,he.x-(1+Math.pow(50,1.12)/100)*Z*(j/3+1)*Ae,he.y]},d.findStraightEdgePoints=function(u){u._private.rscratch.edgeType="straight"},d.findBezierPoints=function(u,o,l,f,h){var p=u._private.rscratch,g=o.vectorNormInverse,w=o.posPts,E=o.intersectionPts,x=u.pstyle("edge-distances").value,M=u.pstyle("control-point-step-size").pfValue,F=u.pstyle("control-point-distances"),z=u.pstyle("control-point-weights"),W=F&&z?Math.min(F.value.length,z.value.length):1,j=F?F.pfValue[0]:void 0,Z=z.value[0],J=f;p.edgeType=J?"multibezier":"bezier",p.ctrlpts=[];for(var re=0;re<W;re++){var he,fe=(.5-o.eles.length/2+l)*M*(h?-1:1),ye=mo(fe);J&&(j=F?F.pfValue[re]:M,Z=z.value[re]);var Ie=void 0!==(he=f?j:void 0!==j?ye*j:void 0)?he:fe,Ae=1-Z,Te="node-position"===x?w:E,_e={x:Te.x1*Ae+Te.x2*Z,y:Te.y1*Ae+Te.y2*Z};p.ctrlpts.push(_e.x+g.x*Ie,_e.y+g.y*Ie)}},d.findTaxiPoints=function(u,o){var l=u._private.rscratch;l.edgeType="segments";var f="vertical",h="horizontal",p="leftward",g="rightward",w="downward",E="upward",M=o.posPts,F=o.srcW,z=o.srcH,W=o.tgtW,j=o.tgtH,J="node-position"!==u.pstyle("edge-distances").value,re=u.pstyle("taxi-direction").value,fe=re,he=u.pstyle("taxi-turn"),ye="%"===he.units,Ie=he.pfValue,Ae=Ie<0,be=u.pstyle("taxi-turn-min-distance").pfValue,_e=J?(z+j)/2:0,ke=M.x2-M.x1,Pe=M.y2-M.y1,xe=function(An,jr){return An>0?Math.max(An-jr,0):Math.min(An+jr,0)},He=xe(ke,J?(F+W)/2:0),Ne=xe(Pe,_e),Je=!1;"auto"===fe?re=Math.abs(He)>Math.abs(Ne)?h:f:fe===E||fe===w?(re=f,Je=!0):(fe===p||fe===g)&&(re=h,Je=!0);var lt,Ue=re===f,We=Ue?Ne:He,at=Ue?Pe:ke,dt=mo(at),bt=!1;(!Je||!ye&&!Ae)&&(fe===w&&at<0||fe===E&&at>0||fe===p&&at>0||fe===g&&at<0)&&(We=(dt*=-1)*Math.abs(We),bt=!0);var Ot=function(An){return Math.abs(An)<be||Math.abs(An)>=Math.abs(We)},Dt=Ot(lt=ye?(Ie<0?1+Ie:Ie)*We:(Ie<0?We:0)+Ie*dt),wt=Ot(Math.abs(We)-Math.abs(lt));if(!Dt&&!wt||bt)if(Ue){var Ce=M.y1+lt+(J?z/2*dt:0);l.segpts=[M.x1,Ce,M.x2,Ce]}else{var xt=M.x1+lt+(J?F/2*dt:0);l.segpts=[xt,M.y1,xt,M.y2]}else if(Ue){var Mt=Math.abs(at)<=z/2,Nt=Math.abs(ke)<=W/2;if(Mt){var Yt=(M.x1+M.x2)/2;l.segpts=[Yt,M.y1,Yt,M.y2]}else if(Nt){var ar=(M.y1+M.y2)/2;l.segpts=[M.x1,ar,M.x2,ar]}else l.segpts=[M.x1,M.y2]}else{var Bn=Math.abs(at)<=F/2,In=Math.abs(Pe)<=j/2;if(Bn){var cn=(M.y1+M.y2)/2;l.segpts=[M.x1,cn,M.x2,cn]}else if(In){var pr=(M.x1+M.x2)/2;l.segpts=[pr,M.y1,pr,M.y2]}else l.segpts=[M.x2,M.y1]}},d.tryToCorrectInvalidPoints=function(u,o){var l=u._private.rscratch;if("bezier"===l.edgeType){var f=o.srcPos,h=o.tgtPos,p=o.srcW,g=o.srcH,w=o.tgtW,E=o.tgtH,x=o.srcShape,M=o.tgtShape,F=!Qe(l.startX)||!Qe(l.startY),z=!Qe(l.arrowStartX)||!Qe(l.arrowStartY),W=!Qe(l.endX)||!Qe(l.endY),j=!Qe(l.arrowEndX)||!Qe(l.arrowEndY),re=this.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,fe=zi({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.startX,y:l.startY}),he=fe<re,ye=zi({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.endX,y:l.endY}),Ie=ye<re,Ae=!1;if(F||z||he){Ae=!0;var be={x:l.ctrlpts[0]-f.x,y:l.ctrlpts[1]-f.y},Te=Math.sqrt(be.x*be.x+be.y*be.y),_e={x:be.x/Te,y:be.y/Te},ke=Math.max(p,g),Pe={x:l.ctrlpts[0]+2*_e.x*ke,y:l.ctrlpts[1]+2*_e.y*ke},xe=x.intersectLine(f.x,f.y,p,g,Pe.x,Pe.y,0);he?(l.ctrlpts[0]=l.ctrlpts[0]+_e.x*(re-fe),l.ctrlpts[1]=l.ctrlpts[1]+_e.y*(re-fe)):(l.ctrlpts[0]=xe[0]+_e.x*re,l.ctrlpts[1]=xe[1]+_e.y*re)}if(W||j||Ie){Ae=!0;var He={x:l.ctrlpts[0]-h.x,y:l.ctrlpts[1]-h.y},Ne=Math.sqrt(He.x*He.x+He.y*He.y),Je={x:He.x/Ne,y:He.y/Ne},Ue=Math.max(p,g),We={x:l.ctrlpts[0]+2*Je.x*Ue,y:l.ctrlpts[1]+2*Je.y*Ue},at=M.intersectLine(h.x,h.y,w,E,We.x,We.y,0);Ie?(l.ctrlpts[0]=l.ctrlpts[0]+Je.x*(re-ye),l.ctrlpts[1]=l.ctrlpts[1]+Je.y*(re-ye)):(l.ctrlpts[0]=at[0]+Je.x*re,l.ctrlpts[1]=at[1]+Je.y*re)}Ae&&this.findEndpoints(u)}},d.storeAllpts=function(u){var o=u._private.rscratch;if("multibezier"===o.edgeType||"bezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType){o.allpts=[],o.allpts.push(o.startX,o.startY);for(var l=0;l+1<o.ctrlpts.length;l+=2)o.allpts.push(o.ctrlpts[l],o.ctrlpts[l+1]),l+3<o.ctrlpts.length&&o.allpts.push((o.ctrlpts[l]+o.ctrlpts[l+2])/2,(o.ctrlpts[l+1]+o.ctrlpts[l+3])/2);var f;o.allpts.push(o.endX,o.endY),o.ctrlpts.length/2%2==0?(o.midX=o.allpts[f=o.allpts.length/2-1],o.midY=o.allpts[f+1]):(o.midX=fi(o.allpts[f=o.allpts.length/2-3],o.allpts[f+2],o.allpts[f+4],.5),o.midY=fi(o.allpts[f+1],o.allpts[f+3],o.allpts[f+5],.5))}else if("straight"===o.edgeType)o.allpts=[o.startX,o.startY,o.endX,o.endY],o.midX=(o.startX+o.endX+o.arrowStartX+o.arrowEndX)/4,o.midY=(o.startY+o.endY+o.arrowStartY+o.arrowEndY)/4;else if("segments"===o.edgeType)if(o.allpts=[],o.allpts.push(o.startX,o.startY),o.allpts.push.apply(o.allpts,o.segpts),o.allpts.push(o.endX,o.endY),o.segpts.length%4==0){var p=o.segpts.length/2,g=p-2;o.midX=(o.segpts[g]+o.segpts[p])/2,o.midY=(o.segpts[g+1]+o.segpts[p+1])/2}else{var w=o.segpts.length/2-1;o.midX=o.segpts[w],o.midY=o.segpts[w+1]}},d.checkForInvalidEdgeWarning=function(u){var o=u[0]._private.rscratch;o.nodesOverlap||Qe(o.startX)&&Qe(o.startY)&&Qe(o.endX)&&Qe(o.endY)?o.loggedErr=!1:o.loggedErr||(o.loggedErr=!0,Ir("Edge `"+u.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},d.findEdgeControlPoints=function(u){var o=this;if(u&&0!==u.length){for(var l=this,h=l.cy.hasCompoundNodes(),p={map:new Tt,get:function(be){var Te=this.map.get(be[0]);return null!=Te?Te.get(be[1]):null},set:function(be,Te){var _e=this.map.get(be[0]);null==_e&&(_e=new Tt,this.map.set(be[0],_e)),_e.set(be[1],Te)}},g=[],w=[],E=0;E<u.length;E++){var x=u[E],M=x._private,F=x.pstyle("curve-style").value;if(!x.removed()&&x.takesUpSpace()){if("haystack"===F){w.push(x);continue}var z="unbundled-bezier"===F||"segments"===F||"straight"===F||"straight-triangle"===F||"taxi"===F,W="unbundled-bezier"===F||"bezier"===F,Z=M.target,fe=[M.source.poolIndex(),Z.poolIndex()].sort(),he=p.get(fe);null==he&&(p.set(fe,he={eles:[]}),g.push(fe)),he.eles.push(x),z&&(he.hasUnbundled=!0),W&&(he.hasBezier=!0)}}for(var ye=function(be){var _e=p.get(g[be]),ke=void 0;if(!_e.hasUnbundled){var Pe=_e.eles[0].parallelEdges().filter(function(Ut){return Ut.isBundledBezier()});ko(_e.eles),Pe.forEach(function(Ut){return _e.eles.push(Ut)}),_e.eles.sort(function(Ut,Ce){return Ut.poolIndex()-Ce.poolIndex()})}var xe=_e.eles[0],He=xe.source(),Ne=xe.target();if(He.poolIndex()>Ne.poolIndex()){var Je=He;He=Ne,Ne=Je}var Ue=_e.srcPos=He.position(),We=_e.tgtPos=Ne.position(),at=_e.srcW=He.outerWidth(),dt=_e.srcH=He.outerHeight(),bt=_e.tgtW=Ne.outerWidth(),lt=_e.tgtH=Ne.outerHeight(),yt=_e.srcShape=l.nodeShapes[o.getNodeShape(He)],At=_e.tgtShape=l.nodeShapes[o.getNodeShape(Ne)];_e.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Ot=0;Ot<_e.eles.length;Ot++){var Dt=_e.eles[Ot],wt=Dt[0]._private.rscratch,nt=Dt.pstyle("curve-style").value,Mt="unbundled-bezier"===nt||"segments"===nt||"taxi"===nt,Nt=!He.same(Dt.source());if(!_e.calculatedIntersection&&He!==Ne&&(_e.hasBezier||_e.hasUnbundled)){_e.calculatedIntersection=!0;var Yt=yt.intersectLine(Ue.x,Ue.y,at,dt,We.x,We.y,0),rn=_e.srcIntn=Yt,Xn=At.intersectLine(We.x,We.y,bt,lt,Ue.x,Ue.y,0),ar=_e.tgtIntn=Xn,sn=_e.intersectionPts={x1:Yt[0],x2:Xn[0],y1:Yt[1],y2:Xn[1]},en=_e.posPts={x1:Ue.x,x2:We.x,y1:Ue.y,y2:We.y},Bn=Xn[1]-Yt[1],In=Xn[0]-Yt[0],cn=Math.sqrt(In*In+Bn*Bn),Pn=_e.vector={x:In,y:Bn},kr=_e.vectorNorm={x:Pn.x/cn,y:Pn.y/cn},pr={x:-kr.y,y:kr.x};_e.nodesOverlap=!Qe(cn)||At.checkPoint(Yt[0],Yt[1],0,bt,lt,We.x,We.y)||yt.checkPoint(Xn[0],Xn[1],0,at,dt,Ue.x,Ue.y),_e.vectorNormInverse=pr,ke={nodesOverlap:_e.nodesOverlap,dirCounts:_e.dirCounts,calculatedIntersection:!0,hasBezier:_e.hasBezier,hasUnbundled:_e.hasUnbundled,eles:_e.eles,srcPos:We,tgtPos:Ue,srcW:bt,srcH:lt,tgtW:at,tgtH:dt,srcIntn:ar,tgtIntn:rn,srcShape:At,tgtShape:yt,posPts:{x1:en.x2,y1:en.y2,x2:en.x1,y2:en.y1},intersectionPts:{x1:sn.x2,y1:sn.y2,x2:sn.x1,y2:sn.y1},vector:{x:-Pn.x,y:-Pn.y},vectorNorm:{x:-kr.x,y:-kr.y},vectorNormInverse:{x:-pr.x,y:-pr.y}}}var $n=Nt?ke:_e;wt.nodesOverlap=$n.nodesOverlap,wt.srcIntn=$n.srcIntn,wt.tgtIntn=$n.tgtIntn,h&&(He.isParent()||He.isChild()||Ne.isParent()||Ne.isChild())&&(He.parents().anySame(Ne)||Ne.parents().anySame(He)||He.same(Ne)&&He.isParent())?o.findCompoundLoopPoints(Dt,$n,Ot,Mt):He===Ne?o.findLoopPoints(Dt,$n,Ot,Mt):"segments"===nt?o.findSegmentsPoints(Dt,$n):"taxi"===nt?o.findTaxiPoints(Dt,$n):"straight"===nt||!Mt&&_e.eles.length%2==1&&Ot===Math.floor(_e.eles.length/2)?o.findStraightEdgePoints(Dt):o.findBezierPoints(Dt,$n,Ot,Mt,Nt),o.findEndpoints(Dt),o.tryToCorrectInvalidPoints(Dt,$n),o.checkForInvalidEdgeWarning(Dt),o.storeAllpts(Dt),o.storeEdgeProjections(Dt),o.calculateArrowAngles(Dt),o.recalculateEdgeLabelProjections(Dt),o.calculateLabelAngles(Dt)}},Ie=0;Ie<g.length;Ie++)ye(Ie);this.findHaystackPoints(w)}},d.getSegmentPoints=function(u){var o=u[0]._private.rscratch;if("segments"===o.edgeType)return this.recalculateRenderedStyle(u),y(o.segpts)},d.getControlPoints=function(u){var o=u[0]._private.rscratch,l=o.edgeType;if("bezier"===l||"multibezier"===l||"self"===l||"compound"===l)return this.recalculateRenderedStyle(u),y(o.ctrlpts)},d.getEdgeMidpoint=function(u){var o=u[0]._private.rscratch;return this.recalculateRenderedStyle(u),{x:o.midX,y:o.midY}};var v={manualEndptToPx:function(u,o){var f=u.position(),h=u.outerWidth(),p=u.outerHeight();if(2===o.value.length){var g=[o.pfValue[0],o.pfValue[1]];return"%"===o.units[0]&&(g[0]=g[0]*h),"%"===o.units[1]&&(g[1]=g[1]*p),g[0]+=f.x,g[1]+=f.y,g}var w=o.pfValue[0];w=-Math.PI/2+w;var E=2*Math.max(h,p),x=[f.x+Math.cos(w)*E,f.y+Math.sin(w)*E];return this.nodeShapes[this.getNodeShape(u)].intersectLine(f.x,f.y,h,p,x[0],x[1],0)},findEndpoints:function(u){var l,ke,Pe,xe,He,o=this,f=u.source()[0],h=u.target()[0],p=f.position(),g=h.position(),w=u.pstyle("target-arrow-shape").value,E=u.pstyle("source-arrow-shape").value,x=u.pstyle("target-distance-from-node").pfValue,M=u.pstyle("source-distance-from-node").pfValue,F=u.pstyle("curve-style").value,z=u._private.rscratch,W=z.edgeType,Z="self"===W||"compound"===W,J="bezier"===W||"multibezier"===W||Z,re="bezier"!==W,fe="straight"===W||"segments"===W,he="segments"===W,ye=J||re||fe,Ie=Z||"taxi"===F,Ae=u.pstyle("source-endpoint"),be=Ie?"outside-to-node":Ae.value,Te=u.pstyle("target-endpoint"),_e=Ie?"outside-to-node":Te.value;if(z.srcManEndpt=Ae,z.tgtManEndpt=Te,J){var Ne=[z.ctrlpts[0],z.ctrlpts[1]];ke=re?[z.ctrlpts[z.ctrlpts.length-2],z.ctrlpts[z.ctrlpts.length-1]]:Ne,Pe=Ne}else if(fe){var Ue=he?z.segpts.slice(0,2):[g.x,g.y];ke=he?z.segpts.slice(z.segpts.length-2):[p.x,p.y],Pe=Ue}if("inside-to-node"===_e)l=[g.x,g.y];else if(Te.units)l=this.manualEndptToPx(h,Te);else if("outside-to-line"===_e)l=z.tgtIntn;else if("outside-to-node"===_e||"outside-to-node-or-label"===_e?xe=ke:("outside-to-line"===_e||"outside-to-line-or-label"===_e)&&(xe=[p.x,p.y]),l=o.nodeShapes[this.getNodeShape(h)].intersectLine(g.x,g.y,h.outerWidth(),h.outerHeight(),xe[0],xe[1],0),"outside-to-node-or-label"===_e||"outside-to-line-or-label"===_e){var at=h._private.rscratch,lt=at.labelX,yt=at.labelY,At=at.labelWidth/2,Ot=at.labelHeight/2,Dt=h.pstyle("text-valign").value;"top"===Dt?yt-=Ot:"bottom"===Dt&&(yt+=Ot);var wt=h.pstyle("text-halign").value;"left"===wt?lt-=At:"right"===wt&&(lt+=At);var nt=Wl(xe[0],xe[1],[lt-At,yt-Ot,lt+At,yt-Ot,lt+At,yt+Ot,lt-At,yt+Ot],g.x,g.y);if(nt.length>0){var Mt=p,Nt=Pr(Mt,ci(l)),Yt=Pr(Mt,ci(nt)),rn=Nt;Yt<Nt&&(l=nt,rn=Yt),nt.length>2&&Pr(Mt,{x:nt[2],y:nt[3]})<rn&&(l=[nt[2],nt[3]])}}var ar=vf(l,ke,o.arrowShapes[w].spacing(u)+x),sn=vf(l,ke,o.arrowShapes[w].gap(u)+x);if(z.endX=sn[0],z.endY=sn[1],z.arrowEndX=ar[0],z.arrowEndY=ar[1],"inside-to-node"===be)l=[p.x,p.y];else if(Ae.units)l=this.manualEndptToPx(f,Ae);else if("outside-to-line"===be)l=z.srcIntn;else if("outside-to-node"===be||"outside-to-node-or-label"===be?He=Pe:("outside-to-line"===be||"outside-to-line-or-label"===be)&&(He=[g.x,g.y]),l=o.nodeShapes[this.getNodeShape(f)].intersectLine(p.x,p.y,f.outerWidth(),f.outerHeight(),He[0],He[1],0),"outside-to-node-or-label"===be||"outside-to-line-or-label"===be){var en=f._private.rscratch,cn=en.labelX,Pn=en.labelY,kr=en.labelWidth/2,pr=en.labelHeight/2,$n=f.pstyle("text-valign").value;"top"===$n?Pn-=pr:"bottom"===$n&&(Pn+=pr);var Ut=f.pstyle("text-halign").value;"left"===Ut?cn-=kr:"right"===Ut&&(cn+=kr);var Ce=Wl(He[0],He[1],[cn-kr,Pn-pr,cn+kr,Pn-pr,cn+kr,Pn+pr,cn-kr,Pn+pr],p.x,p.y);if(Ce.length>0){var ft=g,kt=Pr(ft,ci(l)),xt=Pr(ft,ci(Ce)),Et=kt;xt<kt&&(l=[Ce[0],Ce[1]],Et=xt),Ce.length>2&&Pr(ft,{x:Ce[2],y:Ce[3]})<Et&&(l=[Ce[2],Ce[3]])}}var jt=vf(l,Pe,o.arrowShapes[E].spacing(u)+M),An=vf(l,Pe,o.arrowShapes[E].gap(u)+M);z.startX=An[0],z.startY=An[1],z.arrowStartX=jt[0],z.arrowStartY=jt[1],ye&&(z.badLine=!(Qe(z.startX)&&Qe(z.startY)&&Qe(z.endX)&&Qe(z.endY)))},getSourceEndpoint:function(u){var o=u[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(u),o.edgeType)?{x:o.haystackPts[0],y:o.haystackPts[1]}:{x:o.arrowStartX,y:o.arrowStartY}},getTargetEndpoint:function(u){var o=u[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(u),o.edgeType)?{x:o.haystackPts[2],y:o.haystackPts[3]}:{x:o.arrowEndX,y:o.arrowEndY}}},b={};function B(u,o,l){for(var f=function(x,M,F,z){return fi(x,M,F,z)},p=o._private.rstyle.bezierPts,g=0;g<u.bezierProjPcts.length;g++){var w=u.bezierProjPcts[g];p.push({x:f(l[0],l[2],l[4],w),y:f(l[1],l[3],l[5],w)})}}b.storeEdgeProjections=function(u){var o=u._private,l=o.rscratch,f=l.edgeType;if(o.rstyle.bezierPts=null,o.rstyle.linePts=null,o.rstyle.haystackPts=null,"multibezier"===f||"bezier"===f||"self"===f||"compound"===f){o.rstyle.bezierPts=[];for(var h=0;h+5<l.allpts.length;h+=4)B(this,u,l.allpts.slice(h,h+6))}else if("segments"===f){var p=o.rstyle.linePts=[];for(h=0;h+1<l.allpts.length;h+=2)p.push({x:l.allpts[h],y:l.allpts[h+1]})}else if("haystack"===f){var g=l.haystackPts;o.rstyle.haystackPts=[{x:g[0],y:g[1]},{x:g[2],y:g[3]}]}o.rstyle.arrowWidth=this.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.arrowShapeWidth},b.recalculateEdgeProjections=function(u){this.findEdgeControlPoints(u)};var G={recalculateNodeLabelProjection:function(u){var o=u.pstyle("label").strValue;if(!Ft(o)){var l,f,h=u._private,p=u.width(),g=u.height(),w=u.padding(),E=u.position(),x=u.pstyle("text-halign").strValue,M=u.pstyle("text-valign").strValue,F=h.rscratch,z=h.rstyle;switch(x){case"left":l=E.x-p/2-w;break;case"right":l=E.x+p/2+w;break;default:l=E.x}switch(M){case"top":f=E.y-g/2-w;break;case"bottom":f=E.y+g/2+w;break;default:f=E.y}F.labelX=l,F.labelY=f,z.labelX=l,z.labelY=f,this.calculateLabelAngles(u),this.applyLabelDimensions(u)}}},X=function(o,l){var f=Math.atan(l/o);return 0===o&&f<0&&(f*=-1),f},ee=function(o,l){return X(l.x-o.x,l.y-o.y)};G.recalculateEdgeLabelProjections=function(u){var o,l=u._private,f=l.rscratch,h=this,p={mid:u.pstyle("label").strValue,source:u.pstyle("source-label").strValue,target:u.pstyle("target-label").strValue};if(p.mid||p.source||p.target){var g=function(F,z,W){Po(l.rscratch,F,z,W),Po(l.rstyle,F,z,W)};g("labelX",null,(o={x:f.midX,y:f.midY}).x),g("labelY",null,o.y);var w=X(f.midDispX,f.midDispY);g("labelAutoAngle",null,w);var E=function M(){if(M.cache)return M.cache;for(var F=[],z=0;z+5<f.allpts.length;z+=4)F.push({p0:{x:f.allpts[z],y:f.allpts[z+1]},p1:{x:f.allpts[z+2],y:f.allpts[z+3]},p2:{x:f.allpts[z+4],y:f.allpts[z+5]},startDist:0,length:0,segments:[]});var J=l.rstyle.bezierPts,re=h.bezierProjPcts.length;function fe(be,Te,_e,ke,Pe){var xe=zi(Te,_e),He=be.segments[be.segments.length-1];be.segments.push({p0:Te,p1:_e,t0:ke,t1:Pe,startDist:He?He.startDist+He.length:0,length:xe}),be.length+=xe}for(var he=0;he<F.length;he++){var ye=F[he],Ie=F[he-1];Ie&&(ye.startDist=Ie.startDist+Ie.length),fe(ye,ye.p0,J[he*re],0,h.bezierProjPcts[0]);for(var Ae=0;Ae<re-1;Ae++)fe(ye,J[he*re+Ae],J[he*re+Ae+1],h.bezierProjPcts[Ae],h.bezierProjPcts[Ae+1]);fe(ye,J[he*re+re-1],ye.p2,h.bezierProjPcts[re-1],1)}return M.cache=F},x=function(F){var z,W="source"===F;if(p[F]){var j=u.pstyle(F+"-text-offset").pfValue;switch(f.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var J,Z=E(),re=0,fe=0,he=0;he<Z.length;he++){for(var ye=Z[W?he:Z.length-1-he],Ie=0;Ie<ye.segments.length;Ie++){var Ae=ye.segments[W?Ie:ye.segments.length-1-Ie];if(re=fe,(fe+=Ae.length)>=j||he===Z.length-1&&Ie===ye.segments.length-1){J={cp:ye,segment:Ae};break}}if(J)break}var Te=J.cp,_e=J.segment,ke=(j-re)/_e.length,Pe=_e.t1-_e.t0,xe=W?_e.t0+Pe*ke:_e.t1-Pe*ke;xe=tl(0,xe,1),o=vo(Te.p0,Te.p1,Te.p2,xe),z=function(o,l,f,h){var p=tl(0,h-.001,1),g=tl(0,h+.001,1),w=vo(o,l,f,p),E=vo(o,l,f,g);return ee(w,E)}(Te.p0,Te.p1,Te.p2,xe);break;case"straight":case"segments":case"haystack":for(var Ne,Je,Ue,We,He=0,at=f.allpts.length,dt=0;dt+3<at&&(W?(Ue={x:f.allpts[dt],y:f.allpts[dt+1]},We={x:f.allpts[dt+2],y:f.allpts[dt+3]}):(Ue={x:f.allpts[at-2-dt],y:f.allpts[at-1-dt]},We={x:f.allpts[at-4-dt],y:f.allpts[at-3-dt]}),Je=He,!((He+=Ne=zi(Ue,We))>=j));dt+=2);var lt=(j-Je)/Ne;lt=tl(0,lt,1),o=function(o,l,f,h){var p_x=l.x-o.x,p_y=l.y-o.y,g=zi(o,l);return f=f??0,{x:o.x+p_x/g*(h=h??f*g),y:o.y+p_y/g*h}}(Ue,We,lt),z=ee(Ue,We)}g("labelX",F,o.x),g("labelY",F,o.y),g("labelAutoAngle",F,z)}};x("source"),x("target"),this.applyLabelDimensions(u)}},G.applyLabelDimensions=function(u){this.applyPrefixedLabelDimensions(u),u.isEdge()&&(this.applyPrefixedLabelDimensions(u,"source"),this.applyPrefixedLabelDimensions(u,"target"))},G.applyPrefixedLabelDimensions=function(u,o){var l=u._private,f=this.getLabelText(u,o),h=this.calculateLabelDimensions(u,f),p=u.pstyle("line-height").pfValue,g=u.pstyle("text-wrap").strValue,w=Qi(l.rscratch,"labelWrapCachedLines",o)||[],E="wrap"!==g?1:Math.max(w.length,1),x=h.height/E,M=x*p,F=h.width,z=h.height+(E-1)*(p-1)*x;Po(l.rstyle,"labelWidth",o,F),Po(l.rscratch,"labelWidth",o,F),Po(l.rstyle,"labelHeight",o,z),Po(l.rscratch,"labelHeight",o,z),Po(l.rscratch,"labelLineHeight",o,M)},G.getLabelText=function(u,o){var l=u._private,h=u.pstyle((o?o+"-":"")+"label").strValue,p=u.pstyle("text-transform").value,g=function(bt,lt){return lt?(Po(l.rscratch,bt,o,lt),lt):Qi(l.rscratch,bt,o)};if(!h)return"";"none"==p||("uppercase"==p?h=h.toUpperCase():"lowercase"==p&&(h=h.toLowerCase()));var w=u.pstyle("text-wrap").value;if("wrap"===w){var E=g("labelKey");if(null!=E&&g("labelWrapKey")===E)return g("labelWrapCachedText");for(var M=h.split("\n"),F=u.pstyle("text-max-width").pfValue,W="anywhere"===u.pstyle("text-overflow-wrap").value,j=[],Z=/[\s\u200b]+/,J=W?"":" ",re=0;re<M.length;re++){var fe=M[re],ye=this.calculateLabelDimensions(u,fe).width;if(W){var Ie=fe.split("").join("\u200b");fe=Ie}if(ye>F){for(var Ae=fe.split(Z),be="",Te=0;Te<Ae.length;Te++){var _e=Ae[Te];this.calculateLabelDimensions(u,0===be.length?_e:be+J+_e).width<=F?be+=_e+J:(be&&j.push(be),be=_e+J)}be.match(/^[\s\u200b]+$/)||j.push(be)}else j.push(fe)}g("labelWrapCachedLines",j),h=g("labelWrapCachedText",j.join("\n")),g("labelWrapKey",E)}else if("ellipsis"===w){var He=u.pstyle("text-max-width").pfValue,Ne="",Ue=!1;if(this.calculateLabelDimensions(u,h).width<He)return h;for(var We=0;We<h.length&&!(this.calculateLabelDimensions(u,Ne+h[We]+"\u2026").width>He);We++)Ne+=h[We],We===h.length-1&&(Ue=!0);return Ue||(Ne+="\u2026"),Ne}return h},G.getLabelJustification=function(u){var o=u.pstyle("text-justification").strValue,l=u.pstyle("text-halign").strValue;if("auto"!==o)return o;if(!u.isNode())return"center";switch(l){case"left":return"right";case"right":return"left";default:return"center"}},G.calculateLabelDimensions=function(u,o){var f=cs(o,u._private.labelDimsKey),h=this.labelDimCache||(this.labelDimCache=[]),p=h[f];if(null!=p)return p;var w=u.pstyle("font-style").strValue,E=u.pstyle("font-size").pfValue,x=u.pstyle("font-family").strValue,M=u.pstyle("font-weight").strValue,F=this.labelCalcCanvas,z=this.labelCalcCanvasContext;if(!F){F=this.labelCalcCanvas=document.createElement("canvas"),z=this.labelCalcCanvasContext=F.getContext("2d");var W=F.style;W.position="absolute",W.left="-9999px",W.top="-9999px",W.zIndex="-1",W.visibility="hidden",W.pointerEvents="none"}z.font="".concat(w," ").concat(M," ").concat(E,"px ").concat(x);for(var j=0,Z=0,J=o.split("\n"),re=0;re<J.length;re++){var he=z.measureText(J[re]),ye=Math.ceil(he.width),Ie=E;j=Math.max(ye,j),Z+=Ie}return h[f]={width:j+=0,height:Z+=0}},G.calculateLabelAngle=function(u,o){var f=u._private.rscratch,h=u.isEdge(),g=u.pstyle((o?o+"-":"")+"text-rotation"),w=g.strValue;return"none"===w?0:h&&"autorotate"===w?f.labelAutoAngle:"autorotate"===w?0:g.pfValue},G.calculateLabelAngles=function(u){var o=this,l=u.isEdge(),h=u._private.rscratch;h.labelAngle=o.calculateLabelAngle(u),l&&(h.sourceLabelAngle=o.calculateLabelAngle(u,"source"),h.targetLabelAngle=o.calculateLabelAngle(u,"target"))};var Ee={},Ke=!1;Ee.getNodeShape=function(u){var l=u.pstyle("shape").value;if("cutrectangle"===l&&(u.width()<28||u.height()<28))return Ke||(Ir("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Ke=!0),"rectangle";if(u.isParent())return"rectangle"===l||"roundrectangle"===l||"round-rectangle"===l||"cutrectangle"===l||"cut-rectangle"===l||"barrel"===l?l:"rectangle";if("polygon"===l){var f=u.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(f).name}return l};var gt={updateCachedGrabbedEles:function(){var u=this.cachedZSortedEles;if(u){u.drag=[],u.nondrag=[];for(var o=[],l=0;l<u.length;l++){var h=(f=u[l])._private.rscratch;f.grabbed()&&!f.isParent()?o.push(f):h.inDragLayer?u.drag.push(f):u.nondrag.push(f)}for(l=0;l<o.length;l++){var f;u.drag.push(f=o[l])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(u){if(u||!this.cachedZSortedEles){var o=this.cy.mutableElements().toArray();o.sort(eu),o.interactive=o.filter(function(l){return l.interactive()}),this.cachedZSortedEles=o,this.updateCachedGrabbedEles()}else o=this.cachedZSortedEles;return o}},_t={};[Cs,a,d,v,b,G,Ee,{registerCalculationListeners:function(){var u=this.cy,o=u.collection(),l=this,f=function(g){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o.merge(g),w)for(var E=0;E<g.length;E++){var F=g[E]._private.rstyle;F.clean=!1,F.cleanConnected=!1}};l.binder(u).on("bounds.* dirty.*",function(g){f(g.target)}).on("style.* background.*",function(g){f(g.target,!1)});var h=function(g){if(g){var w=l.onUpdateEleCalcsFns;o.cleanStyle();for(var E=0;E<o.length;E++){var x=o[E],M=x._private.rstyle;x.isNode()&&!M.cleanConnected&&(f(x.connectedEdges()),M.cleanConnected=!0)}if(w)for(var F=0;F<w.length;F++)(0,w[F])(g,o);l.recalculateRenderedStyle(o),o=u.collection()}};l.flushRenderedStyleQueue=function(){h(!0)},l.beforeRender(h,l.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(u){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(u)},recalculateRenderedStyle:function(u,o){var l=function(ye){return ye._private.rstyle.cleanConnected},f=[],h=[];if(!this.destroyed){void 0===o&&(o=!0);for(var p=0;p<u.length;p++){var g=u[p],w=g._private,E=w.rstyle;g.isEdge()&&(!l(g.source())||!l(g.target()))&&(E.clean=!1),!(o&&E.clean||g.removed())&&"none"!==g.pstyle("display").value&&("nodes"===w.group?h.push(g):f.push(g),E.clean=!0)}for(var x=0;x<h.length;x++){var M=h[x],z=M._private.rstyle,W=M.position();this.recalculateNodeLabelProjection(M),z.nodeX=W.x,z.nodeY=W.y,z.nodeW=M.pstyle("width").pfValue,z.nodeH=M.pstyle("height").pfValue}this.recalculateEdgeProjections(f);for(var j=0;j<f.length;j++){var J=f[j]._private,re=J.rstyle,fe=J.rscratch;re.srcX=fe.arrowStartX,re.srcY=fe.arrowStartY,re.tgtX=fe.arrowEndX,re.tgtY=fe.arrowEndY,re.midX=fe.midX,re.midY=fe.midY,re.labelAngle=fe.labelAngle,re.sourceLabelAngle=fe.sourceLabelAngle,re.targetLabelAngle=fe.targetLabelAngle}}}},gt].forEach(function(u){kn(_t,u)});var Gt={getCachedImage:function(u,o,l){var h=this.imageCache=this.imageCache||{},p=h[u];if(p)return p.image.complete||p.image.addEventListener("load",l),p.image;var g=(p=h[u]=h[u]||{}).image=new Image;g.addEventListener("load",l),g.addEventListener("error",function(){g.error=!0});return"data:"===u.substring(0,5).toLowerCase()||(g.crossOrigin=o="null"===o?null:o),g.src=u,g}},$t={registerBinding:function(u,o,l,f){var h=Array.prototype.slice.apply(arguments,[1]),p=this.binder(u);return p.on.apply(p,h)},binder:function(u){var o=this,l=u===window||u===document||u===document.body||function(o){return!(typeof HTMLElement>"u")&&o instanceof HTMLElement}(u);if(null==o.supportsPassiveEvents){var f=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return f=!0,!0}});window.addEventListener("test",null,h)}catch{}o.supportsPassiveEvents=f}var p=function(w,E,x){var M=Array.prototype.slice.call(arguments);return l&&o.supportsPassiveEvents&&(M[2]={capture:x??!1,passive:!1,once:!1}),o.bindings.push({target:u,args:M}),(u.addEventListener||u.on).apply(u,M),this};return{on:p,addEventListener:p,addListener:p,bind:p}},nodeIsDraggable:function(u){return u&&u.isNode()&&!u.locked()&&u.grabbable()},nodeIsGrabbable:function(u){return this.nodeIsDraggable(u)&&u.interactive()}};$t.load=function(){var u=this,o=function(Ce){return Ce.selected()},l=function(Ce,ft,kt,xt){null==Ce&&(Ce=u.cy);for(var Et=0;Et<ft.length;Et++)Ce.emit({originalEvent:kt,type:ft[Et],position:xt})},f=function(Ce){return Ce.shiftKey||Ce.metaKey||Ce.ctrlKey},h=function(Ce,ft){var kt=!0;if(u.cy.hasCompoundNodes()&&Ce&&Ce.pannable()){for(var xt=0;ft&&xt<ft.length;xt++)if((Ce=ft[xt]).isNode()&&Ce.isParent()&&!Ce.pannable()){kt=!1;break}}else kt=!0;return kt},w=function(Ce){Ce[0]._private.rscratch.inDragLayer=!0},x=function(Ce){Ce[0]._private.rscratch.isGrabTarget=!0},F=function(Ce,ft){var kt=ft.addToList;!kt.has(Ce)&&Ce.grabbable()&&!Ce.locked()&&(kt.merge(Ce),function(Ce){Ce[0]._private.grabbed=!0}(Ce))},W=function(Ce,ft){ft=ft||{};var kt=Ce.cy().hasCompoundNodes();ft.inDragLayer&&(Ce.forEach(w),Ce.neighborhood().stdFilter(function(xt){return!kt||xt.isEdge()}).forEach(w)),ft.addToList&&Ce.forEach(function(xt){F(xt,ft)}),function(Ce,ft){if(Ce.cy().hasCompoundNodes()&&(null!=ft.inDragLayer||null!=ft.addToList)){var kt=Ce.descendants();ft.inDragLayer&&(kt.forEach(w),kt.connectedEdges().forEach(w)),ft.addToList&&F(kt,ft)}}(Ce,ft),J(Ce,{inDragLayer:ft.inDragLayer}),u.updateCachedGrabbedEles()},j=W,Z=function(Ce){Ce&&(u.getCachedZSortedEles().forEach(function(ft){(function(Ce){Ce[0]._private.grabbed=!1})(ft),function(Ce){Ce[0]._private.rscratch.inDragLayer=!1}(ft),function(Ce){Ce[0]._private.rscratch.isGrabTarget=!1}(ft)}),u.updateCachedGrabbedEles())},J=function(Ce,ft){if((null!=ft.inDragLayer||null!=ft.addToList)&&Ce.cy().hasCompoundNodes()){var kt=Ce.ancestors().orphans();if(!kt.same(Ce)){var xt=kt.descendants().spawnSelf().merge(kt).unmerge(Ce).unmerge(Ce.descendants()),Et=xt.connectedEdges();ft.inDragLayer&&(Et.forEach(w),xt.forEach(w)),ft.addToList&&xt.forEach(function(yr){F(yr,ft)})}}},re=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},fe=typeof MutationObserver<"u",he=typeof ResizeObserver<"u";fe?(u.removeObserver=new MutationObserver(function(Ut){for(var Ce=0;Ce<Ut.length;Ce++){var kt=Ut[Ce].removedNodes;if(kt)for(var xt=0;xt<kt.length;xt++)if(kt[xt]===u.container){u.destroy();break}}}),u.container.parentNode&&u.removeObserver.observe(u.container.parentNode,{childList:!0})):u.registerBinding(u.container,"DOMNodeRemoved",function(Ut){u.destroy()});var ye=R.default(function(){u.cy.resize()},100);fe&&(u.styleObserver=new MutationObserver(ye),u.styleObserver.observe(u.container,{attributes:!0})),u.registerBinding(window,"resize",ye),he&&(u.resizeObserver=new ResizeObserver(ye),u.resizeObserver.observe(u.container));var Ae=function(){u.invalidateContainerClientCoordsCache()};(function(Ce,ft){for(;null!=Ce;)u.registerBinding(Ut=Ce,"transitionend",Ae),u.registerBinding(Ut,"animationend",Ae),u.registerBinding(Ut,"scroll",Ae),Ce=Ce.parentNode;var Ut})(u.container),u.registerBinding(u.container,"contextmenu",function(Ut){Ut.preventDefault()});var _e,ke,Pe,Te=function(Ce){for(var ft=u.findContainerClientCoords(),kt=ft[0],xt=ft[1],Et=ft[2],yr=ft[3],jt=Ce.touches?Ce.touches:[Ce],An=!1,jr=0;jr<jt.length;jr++){var Qr=jt[jr];if(kt<=Qr.clientX&&Qr.clientX<=kt+Et&&xt<=Qr.clientY&&Qr.clientY<=xt+yr){An=!0;break}}if(!An)return!1;for(var gr=u.container,fr=Ce.target.parentNode,xr=!1;fr;){if(fr===gr){xr=!0;break}fr=fr.parentNode}return!!xr};u.registerBinding(u.container,"mousedown",function(Ce){if(Te(Ce)){Ce.preventDefault(),re(),u.hoverData.capture=!0,u.hoverData.which=Ce.which;var ft=u.cy,kt=[Ce.clientX,Ce.clientY],xt=u.projectIntoViewport(kt[0],kt[1]),Et=u.selection,yr=u.findNearestElements(xt[0],xt[1],!0,!1),jt=yr[0],An=u.dragData.possibleDragElements;if(u.hoverData.mdownPos=xt,u.hoverData.mdownGPos=kt,3==Ce.which){u.hoverData.cxtStarted=!0;var Qr={originalEvent:Ce,type:"cxttapstart",position:{x:xt[0],y:xt[1]}};jt?(jt.activate(),jt.emit(Qr),u.hoverData.down=jt):ft.emit(Qr),u.hoverData.downTime=(new Date).getTime(),u.hoverData.cxtDragged=!1}else if(1==Ce.which){if(jt&&jt.activate(),null!=jt&&u.nodeIsGrabbable(jt)){var gr=function(to){return{originalEvent:Ce,type:to,position:{x:xt[0],y:xt[1]}}};if(x(jt),jt.selected()){An=u.dragData.possibleDragElements=ft.collection();var fr=ft.$(function(xr){return xr.isNode()&&xr.selected()&&u.nodeIsGrabbable(xr)});W(fr,{addToList:An}),jt.emit(gr("grabon")),fr.forEach(function(to){to.emit(gr("grab"))})}else An=u.dragData.possibleDragElements=ft.collection(),j(jt,{addToList:An}),jt.emit(gr("grabon")).emit(gr("grab"));u.redrawHint("eles",!0),u.redrawHint("drag",!0)}u.hoverData.down=jt,u.hoverData.downs=yr,u.hoverData.downTime=(new Date).getTime(),l(jt,["mousedown","tapstart","vmousedown"],Ce,{x:xt[0],y:xt[1]}),null==jt?(Et[4]=1,u.data.bgActivePosistion={x:xt[0],y:xt[1]},u.redrawHint("select",!0),u.redraw()):jt.pannable()&&(Et[4]=1),u.hoverData.tapholdCancelled=!1,clearTimeout(u.hoverData.tapholdTimeout),u.hoverData.tapholdTimeout=setTimeout(function(){if(!u.hoverData.tapholdCancelled){var to=u.hoverData.down;to?to.emit({originalEvent:Ce,type:"taphold",position:{x:xt[0],y:xt[1]}}):ft.emit({originalEvent:Ce,type:"taphold",position:{x:xt[0],y:xt[1]}})}},u.tapholdDuration)}Et[0]=Et[2]=xt[0],Et[1]=Et[3]=xt[1]}},!1),u.registerBinding(window,"mousemove",function(Ce){var lu;if(u.hoverData.capture||Te(Ce)){var kt=!1,xt=u.cy,Et=xt.zoom(),yr=[Ce.clientX,Ce.clientY],jt=u.projectIntoViewport(yr[0],yr[1]),An=u.hoverData.mdownPos,jr=u.hoverData.mdownGPos,Qr=u.selection,gr=null;!u.hoverData.draggingEles&&!u.hoverData.dragging&&!u.hoverData.selecting&&(gr=u.findNearestElement(jt[0],jt[1],!0,!1));var no,Jr=u.hoverData.last,fr=u.hoverData.down,xr=[jt[0]-Qr[2],jt[1]-Qr[3]],to=u.dragData.possibleDragElements;if(jr){var Ol=yr[0]-jr[0],Ea=yr[1]-jr[1];u.hoverData.isOverThresholdDrag=no=Ol*Ol+Ea*Ea>=u.desktopTapThreshold2}var Io=f(Ce);no&&(u.hoverData.tapholdCancelled=!0),kt=!0,l(gr,["mousemove","vmousemove","tapdrag"],Ce,{x:jt[0],y:jt[1]});var Yf=function(){u.data.bgActivePosistion=void 0,u.hoverData.selecting||xt.emit({originalEvent:Ce,type:"boxstart",position:{x:jt[0],y:jt[1]}}),Qr[4]=1,u.hoverData.selecting=!0,u.redrawHint("select",!0),u.redraw()};if(3===u.hoverData.which){if(no){var Jd={originalEvent:Ce,type:"cxtdrag",position:{x:jt[0],y:jt[1]}};fr?fr.emit(Jd):xt.emit(Jd),u.hoverData.cxtDragged=!0,(!u.hoverData.cxtOver||gr!==u.hoverData.cxtOver)&&(u.hoverData.cxtOver&&u.hoverData.cxtOver.emit({originalEvent:Ce,type:"cxtdragout",position:{x:jt[0],y:jt[1]}}),u.hoverData.cxtOver=gr,gr&&gr.emit({originalEvent:Ce,type:"cxtdragover",position:{x:jt[0],y:jt[1]}}))}}else if(u.hoverData.dragging){if(kt=!0,xt.panningEnabled()&&xt.userPanningEnabled()){var Xf;if(u.hoverData.justStartedPan){var dg=u.hoverData.mdownPos;Xf={x:(jt[0]-dg[0])*Et,y:(jt[1]-dg[1])*Et},u.hoverData.justStartedPan=!1}else Xf={x:xr[0]*Et,y:xr[1]*Et};xt.panBy(Xf),xt.emit("dragpan"),u.hoverData.dragged=!0}jt=u.projectIntoViewport(Ce.clientX,Ce.clientY)}else if(1!=Qr[4]||null!=fr&&!fr.pannable()){if(fr&&fr.pannable()&&fr.active()&&fr.unactivate(),(!fr||!fr.grabbed())&&gr!=Jr&&(Jr&&l(Jr,["mouseout","tapdragout"],Ce,{x:jt[0],y:jt[1]}),gr&&l(gr,["mouseover","tapdragover"],Ce,{x:jt[0],y:jt[1]}),u.hoverData.last=gr),fr)if(no){if(xt.boxSelectionEnabled()&&Io)fr&&fr.grabbed()&&(Z(to),fr.emit("freeon"),to.emit("free"),u.dragData.didDrag&&(fr.emit("dragfreeon"),to.emit("dragfree"))),Yf();else if(fr&&fr.grabbed()&&u.nodeIsDraggable(fr)){var Es=!u.dragData.didDrag;Es&&u.redrawHint("eles",!0),u.dragData.didDrag=!0,u.hoverData.draggingEles||W(to,{inDragLayer:!0});var Sa={x:0,y:0};if(Qe(xr[0])&&Qe(xr[1])&&(Sa.x+=xr[0],Sa.y+=xr[1],Es)){var Ds=u.hoverData.dragDelta;Ds&&Qe(Ds[0])&&Qe(Ds[1])&&(Sa.x+=Ds[0],Sa.y+=Ds[1])}u.hoverData.draggingEles=!0,to.silentShift(Sa).emit("position drag"),u.redrawHint("drag",!0),u.redraw()}}else 0===(lu=u.hoverData.dragDelta=u.hoverData.dragDelta||[]).length?(lu.push(xr[0]),lu.push(xr[1])):(lu[0]+=xr[0],lu[1]+=xr[1]);kt=!0}else no&&(u.hoverData.dragging||!xt.boxSelectionEnabled()||!Io&&xt.panningEnabled()&&xt.userPanningEnabled()?!u.hoverData.selecting&&xt.panningEnabled()&&xt.userPanningEnabled()&&h(fr,u.hoverData.downs)&&(u.hoverData.dragging=!0,u.hoverData.justStartedPan=!0,Qr[4]=0,u.data.bgActivePosistion=ci(An),u.redrawHint("select",!0),u.redraw()):Yf(),fr&&fr.pannable()&&fr.active()&&fr.unactivate());if(Qr[2]=jt[0],Qr[3]=jt[1],kt)return Ce.stopPropagation&&Ce.stopPropagation(),Ce.preventDefault&&Ce.preventDefault(),!1}},!1),u.registerBinding(window,"mouseup",function(Ce){if(u.hoverData.capture){u.hoverData.capture=!1;var kt=u.cy,xt=u.projectIntoViewport(Ce.clientX,Ce.clientY),Et=u.selection,yr=u.findNearestElement(xt[0],xt[1],!0,!1),jt=u.dragData.possibleDragElements,An=u.hoverData.down,jr=f(Ce);if(u.data.bgActivePosistion&&(u.redrawHint("select",!0),u.redraw()),u.hoverData.tapholdCancelled=!0,u.data.bgActivePosistion=void 0,An&&An.unactivate(),3===u.hoverData.which){var Qr={originalEvent:Ce,type:"cxttapend",position:{x:xt[0],y:xt[1]}};if(An?An.emit(Qr):kt.emit(Qr),!u.hoverData.cxtDragged){var gr={originalEvent:Ce,type:"cxttap",position:{x:xt[0],y:xt[1]}};An?An.emit(gr):kt.emit(gr)}u.hoverData.cxtDragged=!1,u.hoverData.which=null}else if(1===u.hoverData.which){if(l(yr,["mouseup","tapend","vmouseup"],Ce,{x:xt[0],y:xt[1]}),!u.dragData.didDrag&&!u.hoverData.dragged&&!u.hoverData.selecting&&!u.hoverData.isOverThresholdDrag&&(l(An,["click","tap","vclick"],Ce,{x:xt[0],y:xt[1]}),ke=!1,Ce.timeStamp-Pe<=kt.multiClickDebounceTime()?(_e&&clearTimeout(_e),ke=!0,Pe=null,l(An,["dblclick","dbltap","vdblclick"],Ce,{x:xt[0],y:xt[1]})):(_e=setTimeout(function(){ke||l(An,["oneclick","onetap","voneclick"],Ce,{x:xt[0],y:xt[1]})},kt.multiClickDebounceTime()),Pe=Ce.timeStamp)),null==An&&!u.dragData.didDrag&&!u.hoverData.selecting&&!u.hoverData.dragged&&!f(Ce)&&(kt.$(o).unselect(["tapunselect"]),jt.length>0&&u.redrawHint("eles",!0),u.dragData.possibleDragElements=jt=kt.collection()),yr==An&&!u.dragData.didDrag&&!u.hoverData.selecting&&null!=yr&&yr._private.selectable&&(u.hoverData.dragging||("additive"===kt.selectionType()||jr?yr.selected()?yr.unselect(["tapunselect"]):yr.select(["tapselect"]):jr||(kt.$(o).unmerge(yr).unselect(["tapunselect"]),yr.select(["tapselect"]))),u.redrawHint("eles",!0)),u.hoverData.selecting){var Jr=kt.collection(u.getAllInBox(Et[0],Et[1],Et[2],Et[3]));u.redrawHint("select",!0),Jr.length>0&&u.redrawHint("eles",!0),kt.emit({type:"boxend",originalEvent:Ce,position:{x:xt[0],y:xt[1]}}),"additive"===kt.selectionType()||jr||kt.$(o).unmerge(Jr).unselect(),Jr.emit("box").stdFilter(function(no){return no.selectable()&&!no.selected()}).select().emit("boxselect"),u.redraw()}if(u.hoverData.dragging&&(u.hoverData.dragging=!1,u.redrawHint("select",!0),u.redrawHint("eles",!0),u.redraw()),!Et[4]){u.redrawHint("drag",!0),u.redrawHint("eles",!0);var xr=An&&An.grabbed();Z(jt),xr&&(An.emit("freeon"),jt.emit("free"),u.dragData.didDrag&&(An.emit("dragfreeon"),jt.emit("dragfree")))}}Et[4]=0,u.hoverData.down=null,u.hoverData.cxtStarted=!1,u.hoverData.draggingEles=!1,u.hoverData.selecting=!1,u.hoverData.isOverThresholdDrag=!1,u.dragData.didDrag=!1,u.hoverData.dragged=!1,u.hoverData.dragDelta=[],u.hoverData.mdownPos=null,u.hoverData.mdownGPos=null}},!1);var xe=function(Ce){if(!u.scrollingPage){var ft=u.cy,kt=ft.zoom(),xt=ft.pan(),Et=u.projectIntoViewport(Ce.clientX,Ce.clientY),yr=[Et[0]*kt+xt.x,Et[1]*kt+xt.y];if(u.hoverData.draggingEles||u.hoverData.dragging||u.hoverData.cxtStarted||0!==u.selection[4])return void Ce.preventDefault();if(ft.panningEnabled()&&ft.userPanningEnabled()&&ft.zoomingEnabled()&&ft.userZoomingEnabled()){var jt;Ce.preventDefault(),u.data.wheelZooming=!0,clearTimeout(u.data.wheelTimeout),u.data.wheelTimeout=setTimeout(function(){u.data.wheelZooming=!1,u.redrawHint("eles",!0),u.redraw()},150),jt=null!=Ce.deltaY?Ce.deltaY/-250:null!=Ce.wheelDeltaY?Ce.wheelDeltaY/1e3:Ce.wheelDelta/1e3,jt*=u.wheelSensitivity,1===Ce.deltaMode&&(jt*=33);var jr=ft.zoom()*Math.pow(10,jt);"gesturechange"===Ce.type&&(jr=u.gestureStartZoom*Ce.scale),ft.zoom({level:jr,renderedPosition:{x:yr[0],y:yr[1]}}),ft.emit("gesturechange"===Ce.type?"pinchzoom":"scrollzoom")}}};u.registerBinding(u.container,"wheel",xe,!0),u.registerBinding(window,"scroll",function(Ce){u.scrollingPage=!0,clearTimeout(u.scrollingPageTimeout),u.scrollingPageTimeout=setTimeout(function(){u.scrollingPage=!1},250)},!0),u.registerBinding(u.container,"gesturestart",function(Ce){u.gestureStartZoom=u.cy.zoom(),u.hasTouchStarted||Ce.preventDefault()},!0),u.registerBinding(u.container,"gesturechange",function(Ut){u.hasTouchStarted||xe(Ut)},!0),u.registerBinding(u.container,"mouseout",function(Ce){var ft=u.projectIntoViewport(Ce.clientX,Ce.clientY);u.cy.emit({originalEvent:Ce,type:"mouseout",position:{x:ft[0],y:ft[1]}})},!1),u.registerBinding(u.container,"mouseover",function(Ce){var ft=u.projectIntoViewport(Ce.clientX,Ce.clientY);u.cy.emit({originalEvent:Ce,type:"mouseover",position:{x:ft[0],y:ft[1]}})},!1);var He,Ne,Je,Ue,We,at,dt,bt,lt,yt,At,Ot,Dt,Mt,Nt,Yt,rn,Xn,ar,sn,wt=function(Ce,ft,kt,xt){return Math.sqrt((kt-Ce)*(kt-Ce)+(xt-ft)*(xt-ft))},nt=function(Ce,ft,kt,xt){return(kt-Ce)*(kt-Ce)+(xt-ft)*(xt-ft)};if(u.registerBinding(u.container,"touchstart",Mt=function(Ce){if(u.hasTouchStarted=!0,Te(Ce)){re(),u.touchData.capture=!0,u.data.bgActivePosistion=void 0;var ft=u.cy,kt=u.touchData.now,xt=u.touchData.earlier;if(Ce.touches[0]){var Et=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);kt[0]=Et[0],kt[1]=Et[1]}if(Ce.touches[1]&&(Et=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),kt[2]=Et[0],kt[3]=Et[1]),Ce.touches[2]&&(Et=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),kt[4]=Et[0],kt[5]=Et[1]),Ce.touches[1]){u.touchData.singleTouchMoved=!0,Z(u.dragData.touchDragEles);var yr=u.findContainerClientCoords();At=yr[2],Ot=yr[3],Ne=Ce.touches[0].clientY-(yt=yr[1]),Je=Ce.touches[1].clientX-(lt=yr[0]),Ue=Ce.touches[1].clientY-yt,Dt=0<=(He=Ce.touches[0].clientX-lt)&&He<=At&&0<=Je&&Je<=At&&0<=Ne&&Ne<=Ot&&0<=Ue&&Ue<=Ot;var jt=ft.pan(),An=ft.zoom();if(We=wt(He,Ne,Je,Ue),at=nt(He,Ne,Je,Ue),bt=[((dt=[(He+Je)/2,(Ne+Ue)/2])[0]-jt.x)/An,(dt[1]-jt.y)/An],at<4e4&&!Ce.touches[2]){var gr=u.findNearestElement(kt[0],kt[1],!0,!0),Jr=u.findNearestElement(kt[2],kt[3],!0,!0);return gr&&gr.isNode()?(gr.activate().emit({originalEvent:Ce,type:"cxttapstart",position:{x:kt[0],y:kt[1]}}),u.touchData.start=gr):Jr&&Jr.isNode()?(Jr.activate().emit({originalEvent:Ce,type:"cxttapstart",position:{x:kt[0],y:kt[1]}}),u.touchData.start=Jr):ft.emit({originalEvent:Ce,type:"cxttapstart",position:{x:kt[0],y:kt[1]}}),u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxt=!0,u.touchData.cxtDragged=!1,u.data.bgActivePosistion=void 0,void u.redraw()}}if(Ce.touches[2])ft.boxSelectionEnabled()&&Ce.preventDefault();else if(!Ce.touches[1]&&Ce.touches[0]){var fr=u.findNearestElements(kt[0],kt[1],!0,!0),xr=fr[0];if(null!=xr&&(xr.activate(),u.touchData.start=xr,u.touchData.starts=fr,u.nodeIsGrabbable(xr))){var to=u.dragData.touchDragEles=ft.collection(),no=null;u.redrawHint("eles",!0),u.redrawHint("drag",!0),xr.selected()?(no=ft.$(function(ss){return ss.selected()&&u.nodeIsGrabbable(ss)}),W(no,{addToList:to})):j(xr,{addToList:to}),x(xr);var Ol=function(Io){return{originalEvent:Ce,type:Io,position:{x:kt[0],y:kt[1]}}};xr.emit(Ol("grabon")),no?no.forEach(function(ss){ss.emit(Ol("grab"))}):xr.emit(Ol("grab"))}l(xr,["touchstart","tapstart","vmousedown"],Ce,{x:kt[0],y:kt[1]}),null==xr&&(u.data.bgActivePosistion={x:Et[0],y:Et[1]},u.redrawHint("select",!0),u.redraw()),u.touchData.singleTouchMoved=!1,u.touchData.singleTouchStartTime=+new Date,clearTimeout(u.touchData.tapholdTimeout),u.touchData.tapholdTimeout=setTimeout(function(){!1===u.touchData.singleTouchMoved&&!u.pinching&&!u.touchData.selecting&&l(u.touchData.start,["taphold"],Ce,{x:kt[0],y:kt[1]})},u.tapholdDuration)}if(Ce.touches.length>=1){for(var Nl=u.touchData.startPosition=[],Ea=0;Ea<kt.length;Ea++)Nl[Ea]=xt[Ea]=kt[Ea];var ul=Ce.touches[0];u.touchData.startGPosition=[ul.clientX,ul.clientY]}}},!1),u.registerBinding(window,"touchmove",Nt=function(Ce){var ft=u.touchData.capture;if(ft||Te(Ce)){var kt=u.selection,xt=u.cy,Et=u.touchData.now,yr=u.touchData.earlier,jt=xt.zoom();if(Ce.touches[0]){var An=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);Et[0]=An[0],Et[1]=An[1]}Ce.touches[1]&&(An=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),Et[2]=An[0],Et[3]=An[1]),Ce.touches[2]&&(An=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),Et[4]=An[0],Et[5]=An[1]);var Qr,jr=u.touchData.startGPosition;if(ft&&Ce.touches[0]&&jr){for(var gr=[],Jr=0;Jr<Et.length;Jr++)gr[Jr]=Et[Jr]-yr[Jr];var fr=Ce.touches[0].clientX-jr[0],to=Ce.touches[0].clientY-jr[1];Qr=fr*fr+to*to>=u.touchTapThreshold2}if(ft&&u.touchData.cxt){Ce.preventDefault();var Io=nt(Nl=Ce.touches[0].clientX-lt,Ea=Ce.touches[0].clientY-yt,ul=Ce.touches[1].clientX-lt,ss=Ce.touches[1].clientY-yt);if(Io/at>=2.25||Io>=22500){u.touchData.cxt=!1,u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);var ef={originalEvent:Ce,type:"cxttapend",position:{x:Et[0],y:Et[1]}};u.touchData.start?(u.touchData.start.unactivate().emit(ef),u.touchData.start=null):xt.emit(ef)}}if(ft&&u.touchData.cxt){ef={originalEvent:Ce,type:"cxtdrag",position:{x:Et[0],y:Et[1]}},u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),u.touchData.start?u.touchData.start.emit(ef):xt.emit(ef),u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxtDragged=!0;var Es=u.findNearestElement(Et[0],Et[1],!0,!0);(!u.touchData.cxtOver||Es!==u.touchData.cxtOver)&&(u.touchData.cxtOver&&u.touchData.cxtOver.emit({originalEvent:Ce,type:"cxtdragout",position:{x:Et[0],y:Et[1]}}),u.touchData.cxtOver=Es,Es&&Es.emit({originalEvent:Ce,type:"cxtdragover",position:{x:Et[0],y:Et[1]}}))}else if(ft&&Ce.touches[2]&&xt.boxSelectionEnabled())Ce.preventDefault(),u.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,u.touchData.selecting||xt.emit({originalEvent:Ce,type:"boxstart",position:{x:Et[0],y:Et[1]}}),u.touchData.selecting=!0,u.touchData.didSelect=!0,kt[4]=1,kt&&0!==kt.length&&void 0!==kt[0]?(kt[2]=(Et[0]+Et[2]+Et[4])/3,kt[3]=(Et[1]+Et[3]+Et[5])/3):(kt[0]=(Et[0]+Et[2]+Et[4])/3,kt[1]=(Et[1]+Et[3]+Et[5])/3,kt[2]=(Et[0]+Et[2]+Et[4])/3+1,kt[3]=(Et[1]+Et[3]+Et[5])/3+1),u.redrawHint("select",!0),u.redraw();else if(ft&&Ce.touches[1]&&!u.touchData.didSelect&&xt.zoomingEnabled()&&xt.panningEnabled()&&xt.userZoomingEnabled()&&xt.userPanningEnabled()){if(Ce.preventDefault(),u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),Sa=u.dragData.touchDragEles){u.redrawHint("drag",!0);for(var Ds=0;Ds<Sa.length;Ds++){var fg=Sa[Ds]._private;fg.grabbed=!1,fg.rscratch.inDragLayer=!1}}var Nl,Ea,ul,ss,lu=u.touchData.start,ky=wt(Nl=Ce.touches[0].clientX-lt,Ea=Ce.touches[0].clientY-yt,ul=Ce.touches[1].clientX-lt,ss=Ce.touches[1].clientY-yt),hg=ky/We;if(Dt){var Fy=(Nl-He+(ul-Je))/2,iD=(Ea-Ne+(ss-Ue))/2,pg=xt.zoom(),By=pg*hg,Kf=xt.pan(),gg=bt[0]*pg+Kf.x,D_=bt[1]*pg+Kf.y,oD={x:-By/pg*(gg-Kf.x-Fy)+gg,y:-By/pg*(D_-Kf.y-iD)+D_};lu&&lu.active()&&(Z(Sa=u.dragData.touchDragEles),u.redrawHint("drag",!0),u.redrawHint("eles",!0),lu.unactivate().emit("freeon"),Sa.emit("free"),u.dragData.didDrag&&(lu.emit("dragfreeon"),Sa.emit("dragfree"))),xt.viewport({zoom:By,pan:oD,cancelOnFailedZoom:!0}),xt.emit("pinchzoom"),We=ky,He=Nl,Ne=Ea,Je=ul,Ue=ss,u.pinching=!0}Ce.touches[0]&&(An=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY),Et[0]=An[0],Et[1]=An[1]),Ce.touches[1]&&(An=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),Et[2]=An[0],Et[3]=An[1]),Ce.touches[2]&&(An=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),Et[4]=An[0],Et[5]=An[1])}else if(Ce.touches[0]&&!u.touchData.didSelect){var cl=u.touchData.start,Pm=u.touchData.last;if(!u.hoverData.draggingEles&&!u.swipePanning&&(Es=u.findNearestElement(Et[0],Et[1],!0,!0)),ft&&null!=cl&&Ce.preventDefault(),ft&&null!=cl&&u.nodeIsDraggable(cl))if(Qr){var Sa=u.dragData.touchDragEles,Vy=!u.dragData.didDrag;Vy&&W(Sa,{inDragLayer:!0}),u.dragData.didDrag=!0;var Zh={x:0,y:0};Qe(gr[0])&&Qe(gr[1])&&(Zh.x+=gr[0],Zh.y+=gr[1],Vy)&&(u.redrawHint("eles",!0),(Rl=u.touchData.dragDelta)&&Qe(Rl[0])&&Qe(Rl[1])&&(Zh.x+=Rl[0],Zh.y+=Rl[1])),u.hoverData.draggingEles=!0,Sa.silentShift(Zh).emit("position drag"),u.redrawHint("drag",!0),u.touchData.startPosition[0]==yr[0]&&u.touchData.startPosition[1]==yr[1]&&u.redrawHint("eles",!0),u.redraw()}else{var Rl;0===(Rl=u.touchData.dragDelta=u.touchData.dragDelta||[]).length?(Rl.push(gr[0]),Rl.push(gr[1])):(Rl[0]+=gr[0],Rl[1]+=gr[1])}if(l(cl||Es,["touchmove","tapdrag","vmousemove"],Ce,{x:Et[0],y:Et[1]}),(!cl||!cl.grabbed())&&Es!=Pm&&(Pm&&Pm.emit({originalEvent:Ce,type:"tapdragout",position:{x:Et[0],y:Et[1]}}),Es&&Es.emit({originalEvent:Ce,type:"tapdragover",position:{x:Et[0],y:Et[1]}})),u.touchData.last=Es,ft)for(Ds=0;Ds<Et.length;Ds++)Et[Ds]&&u.touchData.startPosition[Ds]&&Qr&&(u.touchData.singleTouchMoved=!0);ft&&(null==cl||cl.pannable())&&xt.panningEnabled()&&xt.userPanningEnabled()&&(h(cl,u.touchData.starts)&&(Ce.preventDefault(),u.data.bgActivePosistion||(u.data.bgActivePosistion=ci(u.touchData.startPosition)),u.swipePanning?(xt.panBy({x:gr[0]*jt,y:gr[1]*jt}),xt.emit("dragpan")):Qr&&(u.swipePanning=!0,xt.panBy({x:fr*jt,y:to*jt}),xt.emit("dragpan"),cl&&(cl.unactivate(),u.redrawHint("select",!0),u.touchData.start=null))),An=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY),Et[0]=An[0],Et[1]=An[1])}for(Jr=0;Jr<Et.length;Jr++)yr[Jr]=Et[Jr];ft&&Ce.touches.length>0&&!u.hoverData.draggingEles&&!u.swipePanning&&null!=u.data.bgActivePosistion&&(u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),u.redraw())}},!1),u.registerBinding(window,"touchcancel",Yt=function(Ce){var ft=u.touchData.start;u.touchData.capture=!1,ft&&ft.unactivate()}),u.registerBinding(window,"touchend",rn=function(Ce){var ft=u.touchData.start;if(u.touchData.capture){0===Ce.touches.length&&(u.touchData.capture=!1),Ce.preventDefault();var xt=u.selection;u.swipePanning=!1,u.hoverData.draggingEles=!1;var Qr,Et=u.cy,yr=Et.zoom(),jt=u.touchData.now,An=u.touchData.earlier;if(Ce.touches[0]){var jr=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);jt[0]=jr[0],jt[1]=jr[1]}if(Ce.touches[1]&&(jr=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),jt[2]=jr[0],jt[3]=jr[1]),Ce.touches[2]&&(jr=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),jt[4]=jr[0],jt[5]=jr[1]),ft&&ft.unactivate(),u.touchData.cxt){if(Qr={originalEvent:Ce,type:"cxttapend",position:{x:jt[0],y:jt[1]}},ft?ft.emit(Qr):Et.emit(Qr),!u.touchData.cxtDragged){var gr={originalEvent:Ce,type:"cxttap",position:{x:jt[0],y:jt[1]}};ft?ft.emit(gr):Et.emit(gr)}return u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxt=!1,u.touchData.start=null,void u.redraw()}if(!Ce.touches[2]&&Et.boxSelectionEnabled()&&u.touchData.selecting){u.touchData.selecting=!1;var Jr=Et.collection(u.getAllInBox(xt[0],xt[1],xt[2],xt[3]));xt[0]=void 0,xt[1]=void 0,xt[2]=void 0,xt[3]=void 0,xt[4]=0,u.redrawHint("select",!0),Et.emit({type:"boxend",originalEvent:Ce,position:{x:jt[0],y:jt[1]}}),Jr.emit("box").stdFilter(function(Jd){return Jd.selectable()&&!Jd.selected()}).select().emit("boxselect"),Jr.nonempty()&&u.redrawHint("eles",!0),u.redraw()}if(ft?.unactivate(),Ce.touches[2])u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);else if(!Ce.touches[1]&&!Ce.touches[0]&&!Ce.touches[0]){u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);var xr=u.dragData.touchDragEles;if(null!=ft){var to=ft._private.grabbed;Z(xr),u.redrawHint("drag",!0),u.redrawHint("eles",!0),to&&(ft.emit("freeon"),xr.emit("free"),u.dragData.didDrag&&(ft.emit("dragfreeon"),xr.emit("dragfree"))),l(ft,["touchend","tapend","vmouseup","tapdragout"],Ce,{x:jt[0],y:jt[1]}),ft.unactivate(),u.touchData.start=null}else{var no=u.findNearestElement(jt[0],jt[1],!0,!0);l(no,["touchend","tapend","vmouseup","tapdragout"],Ce,{x:jt[0],y:jt[1]})}var Ol=u.touchData.startPosition[0]-jt[0],Ea=u.touchData.startPosition[1]-jt[1],Io=(Ol*Ol+Ea*Ea)*yr*yr;u.touchData.singleTouchMoved||(ft||Et.$(":selected").unselect(["tapunselect"]),l(ft,["tap","vclick"],Ce,{x:jt[0],y:jt[1]}),Xn=!1,Ce.timeStamp-sn<=Et.multiClickDebounceTime()?(ar&&clearTimeout(ar),Xn=!0,sn=null,l(ft,["dbltap","vdblclick"],Ce,{x:jt[0],y:jt[1]})):(ar=setTimeout(function(){Xn||l(ft,["onetap","voneclick"],Ce,{x:jt[0],y:jt[1]})},Et.multiClickDebounceTime()),sn=Ce.timeStamp)),null!=ft&&!u.dragData.didDrag&&ft._private.selectable&&Io<u.touchTapThreshold2&&!u.pinching&&("single"===Et.selectionType()?(Et.$(o).unmerge(ft).unselect(["tapunselect"]),ft.select(["tapselect"])):ft.selected()?ft.unselect(["tapunselect"]):ft.select(["tapselect"]),u.redrawHint("eles",!0)),u.touchData.singleTouchMoved=!0}for(var Da=0;Da<jt.length;Da++)An[Da]=jt[Da];u.dragData.didDrag=!1,0===Ce.touches.length&&(u.touchData.dragDelta=[],u.touchData.startPosition=null,u.touchData.startGPosition=null,u.touchData.didSelect=!1),Ce.touches.length<2&&(1===Ce.touches.length&&(u.touchData.startGPosition=[Ce.touches[0].clientX,Ce.touches[0].clientY]),u.pinching=!1,u.redrawHint("eles",!0),u.redraw())}},!1),typeof TouchEvent>"u"){var en=[],Bn=function(Ce){return{clientX:Ce.clientX,clientY:Ce.clientY,force:1,identifier:Ce.pointerId,pageX:Ce.pageX,pageY:Ce.pageY,radiusX:Ce.width/2,radiusY:Ce.height/2,screenX:Ce.screenX,screenY:Ce.screenY,target:Ce.target}},Pn=function(Ce){for(var ft=0;ft<en.length;ft++)if(en[ft].event.pointerId===Ce.pointerId)return void en.splice(ft,1)},pr=function(Ce){Ce.touches=en.map(function(ft){return ft.touch})},$n=function(Ce){return"mouse"===Ce.pointerType||4===Ce.pointerType};u.registerBinding(u.container,"pointerdown",function(Ut){$n(Ut)||(Ut.preventDefault(),en.push(function(Ce){return{event:Ce,touch:Bn(Ce)}}(Ut)),pr(Ut),Mt(Ut))}),u.registerBinding(u.container,"pointerup",function(Ut){$n(Ut)||(Pn(Ut),pr(Ut),rn(Ut))}),u.registerBinding(u.container,"pointercancel",function(Ut){$n(Ut)||(Pn(Ut),pr(Ut),Yt())}),u.registerBinding(u.container,"pointermove",function(Ut){var Ce,ft;$n(Ut)||(Ut.preventDefault(),Ce=Ut,(ft=en.filter(function(kt){return kt.event.pointerId===Ce.pointerId})[0]).event=Ce,ft.touch=Bn(Ce),pr(Ut),Nt(Ut))})}};var Jt={generatePolygon:function(u,o){return this.nodeShapes[u]={renderer:this,name:u,points:o,draw:function(f,h,p,g,w){this.renderer.nodeShapeImpl("polygon",f,h,p,g,w,this.points)},intersectLine:function(f,h,p,g,w,E,x){return Wl(w,E,this.points,f,h,p/2,g/2,x)},checkPoint:function(f,h,p,g,w,E,x){return La(f,h,this.points,E,x,g,w,[0,-1],p)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,w){return function(o,l,f,h,p,g){var w=f-o,E=h-l;w/=p,E/=g;var x=Math.sqrt(w*w+E*E),M=x-1;if(M<0)return[];var F=M/x;return[(f-o)*F+o,(h-l)*F+l]}(p,g,o,l,f/2+w,h/2+w)},checkPoint:function(o,l,f,h,p,g,w){return Za(o,l,h,p,g,w,f)}}},generateRoundPolygon:function(u,o){for(var l=new Array(2*o.length),f=0;f<o.length/2;f++){var p,h=2*f;p=f<o.length/2-1?2*(f+1):0,l[4*f]=o[h],l[4*f+1]=o[h+1];var g=o[p]-o[h],w=o[p+1]-o[h+1],E=Math.sqrt(g*g+w*w);l[4*f+2]=g/E,l[4*f+3]=w/E}return this.nodeShapes[u]={renderer:this,name:u,points:l,draw:function(M,F,z,W,j){this.renderer.nodeShapeImpl("round-polygon",M,F,z,W,j,this.points)},intersectLine:function(M,F,z,W,j,Z,J){return function(o,l,f,h,p,g,w,E){for(var M,x=[],F=new Array(f.length),z=g/2,W=w/2,j=hc(g,w),Z=0;Z<f.length/4;Z++){var re,J;J=0===Z?f.length-2:4*Z-2,re=4*Z+2;var fe=h+z*f[4*Z],he=p+W*f[4*Z+1],Ie=j/Math.tan(Math.acos(-f[J]*f[re]-f[J+1]*f[re+1])/2),Ae=fe-Ie*f[J],be=he-Ie*f[J+1],Te=fe+Ie*f[re],_e=he+Ie*f[re+1];0===Z?(F[f.length-2]=Ae,F[f.length-1]=be):(F[4*Z-2]=Ae,F[4*Z-1]=be),F[4*Z]=Te,F[4*Z+1]=_e;var ke=f[J+1],Pe=-f[J];ke*f[re]+Pe*f[re+1]<0&&(ke*=-1,Pe*=-1),0!==(M=vl(o,l,h,p,Ae+ke*j,be+Pe*j,j)).length&&x.push(M[0],M[1])}for(var Je=0;Je<F.length/4;Je++)0!==(M=ds(o,l,h,p,F[4*Je],F[4*Je+1],F[4*Je+2],F[4*Je+3],!1)).length&&x.push(M[0],M[1]);if(x.length>2){for(var Ue=[x[0],x[1]],We=Math.pow(Ue[0]-o,2)+Math.pow(Ue[1]-l,2),at=1;at<x.length/2;at++){var dt=Math.pow(x[2*at]-o,2)+Math.pow(x[2*at+1]-l,2);dt<=We&&(Ue[0]=x[2*at],Ue[1]=x[2*at+1],We=dt)}return Ue}return x}(j,Z,this.points,M,F,z,W)},checkPoint:function(M,F,z,W,j,Z,J){return function(o,l,f,h,p,g,w){for(var E=new Array(f.length),x=g/2,M=w/2,F=hc(g,w),z=F*F,W=0;W<f.length/4;W++){var Z,j;j=0===W?f.length-2:4*W-2,Z=4*W+2;var J=h+x*f[4*W],re=p+M*f[4*W+1],he=F/Math.tan(Math.acos(-f[j]*f[Z]-f[j+1]*f[Z+1])/2),ye=J-he*f[j],Ie=re-he*f[j+1],Ae=J+he*f[Z],be=re+he*f[Z+1];E[4*W]=ye,E[4*W+1]=Ie,E[4*W+2]=Ae,E[4*W+3]=be;var Te=f[j+1],_e=-f[j];Te*f[Z]+_e*f[Z+1]<0&&(Te*=-1,_e*=-1);var xe=Ie+_e*F;if(Math.pow(ye+Te*F-o,2)+Math.pow(xe-l,2)<=z)return!0}return Zo(o,l,E)}(M,F,this.points,Z,J,W,j)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Qo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,w){return an(p,g,o,l,f,h,w)},checkPoint:function(o,l,f,h,p,g,w){var E=xu(h,p),x=2*E;return!!(La(o,l,this.points,g,w,h,p-x,[0,-1],f)||La(o,l,this.points,g,w,h-x,p,[0,-1],f)||Za(o,l,x,x,g-h/2+E,w-p/2+E,f)||Za(o,l,x,x,g+h/2-E,w-p/2+E,f)||Za(o,l,x,x,g+h/2-E,w+p/2-E,f)||Za(o,l,x,x,g-h/2+E,w+p/2-E,f))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Qo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},generateCutTrianglePts:function(o,l,f,h){var p=this.cornerLength,g=l/2,w=o/2,E=f-w,x=f+w,M=h-g,F=h+g;return{topLeft:[E,M+p,E+p,M,E+p,M+p],topRight:[x-p,M,x,M+p,x-p,M+p],bottomRight:[x,F-p,x-p,F,x-p,F-p],bottomLeft:[E+p,F,E,F-p,E+p,F-p]}},intersectLine:function(o,l,f,h,p,g,w){var E=this.generateCutTrianglePts(f+2*w,h+2*w,o,l),x=[].concat.apply([],[E.topLeft.splice(0,4),E.topRight.splice(0,4),E.bottomRight.splice(0,4),E.bottomLeft.splice(0,4)]);return Wl(p,g,x,o,l)},checkPoint:function(o,l,f,h,p,g,w){if(La(o,l,this.points,g,w,h,p-2*this.cornerLength,[0,-1],f)||La(o,l,this.points,g,w,h-2*this.cornerLength,p,[0,-1],f))return!0;var E=this.generateCutTrianglePts(h,p,g,w);return Zo(o,l,E.topLeft)||Zo(o,l,E.topRight)||Zo(o,l,E.bottomRight)||Zo(o,l,E.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Qo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,w){var F=this.generateBarrelBezierPts(f+2*w,h+2*w,o,l),z=function(Z){var J=vo({x:Z[0],y:Z[1]},{x:Z[2],y:Z[3]},{x:Z[4],y:Z[5]},.15),re=vo({x:Z[0],y:Z[1]},{x:Z[2],y:Z[3]},{x:Z[4],y:Z[5]},.5),fe=vo({x:Z[0],y:Z[1]},{x:Z[2],y:Z[3]},{x:Z[4],y:Z[5]},.85);return[Z[0],Z[1],J.x,J.y,re.x,re.y,fe.x,fe.y,Z[4],Z[5]]},W=[].concat(z(F.topLeft),z(F.topRight),z(F.bottomRight),z(F.bottomLeft));return Wl(p,g,W,o,l)},generateBarrelBezierPts:function(o,l,f,h){var p=l/2,g=o/2,w=f-g,E=f+g,x=h-p,M=h+p,F=gh(o,l),z=F.heightOffset,W=F.widthOffset,j=F.ctrlPtOffsetPct*o,Z={topLeft:[w,x+z,w+j,x,w+W,x],topRight:[E-W,x,E-j,x,E,x+z],bottomRight:[E,M-z,E-j,M,E-W,M],bottomLeft:[w+W,M,w+j,M,w,M-z]};return Z.topLeft.isTop=!0,Z.topRight.isTop=!0,Z.bottomLeft.isBottom=!0,Z.bottomRight.isBottom=!0,Z},checkPoint:function(o,l,f,h,p,g,w){var E=gh(h,p),M=E.widthOffset;if(La(o,l,this.points,g,w,h,p-2*E.heightOffset,[0,-1],f)||La(o,l,this.points,g,w,h-2*M,p,[0,-1],f))return!0;for(var F=this.generateBarrelBezierPts(h,p,g,w),z=function(be,Te,_e){var ke=_e[4],Pe=_e[2],xe=_e[0],He=_e[5],Ne=_e[1],Je=Math.min(ke,xe),Ue=Math.max(ke,xe),We=Math.min(He,Ne),at=Math.max(He,Ne);if(Je<=be&&be<=Ue&&We<=Te&&Te<=at){var dt=function(o,l,f){return[o-2*l+f,2*(l-o),o]}(ke,Pe,xe),bt=function(o,l,f,h){var p=l*l-4*o*(f-=h);if(p<0)return[];var g=Math.sqrt(p),w=2*o;return[(-l+g)/w,(-l-g)/w]}(dt[0],dt[1],dt[2],be),lt=bt.filter(function(yt){return 0<=yt&&yt<=1});if(lt.length>0)return lt[0]}return null},W=Object.keys(F),j=0;j<W.length;j++){var J=F[W[j]],re=z(o,l,J);if(null!=re){var Ie=fi(J[5],J[3],J[1],re);if(J.isTop&&Ie<=l||J.isBottom&&l<=Ie)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Qo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,w){var x=l-(h/2+w),z=ds(p,g,o,l,o-(f/2+w),x,o+(f/2+w),x,!1);return z.length>0?z:an(p,g,o,l,f,h,w)},checkPoint:function(o,l,f,h,p,g,w){var E=xu(h,p),x=2*E;if(La(o,l,this.points,g,w,h,p-x,[0,-1],f)||La(o,l,this.points,g,w,h-x,p,[0,-1],f))return!0;var M=h/2+2*f,F=p/2+2*f;return!!(Zo(o,l,[g-M,w-F,g-M,w,g+M,w,g+M,w-F])||Za(o,l,x,x,g+h/2-E,w+p/2-E,f)||Za(o,l,x,x,g-h/2+E,w+p/2-E,f))}}},registerNodeShapes:function(){var u=this.nodeShapes={},o=this;this.generateEllipse(),this.generatePolygon("triangle",Qo(3,0)),this.generateRoundPolygon("round-triangle",Qo(3,0)),this.generatePolygon("rectangle",Qo(4,0)),u.square=u.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var l=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",l),this.generateRoundPolygon("round-diamond",l),this.generatePolygon("pentagon",Qo(5,0)),this.generateRoundPolygon("round-pentagon",Qo(5,0)),this.generatePolygon("hexagon",Qo(6,0)),this.generateRoundPolygon("round-hexagon",Qo(6,0)),this.generatePolygon("heptagon",Qo(7,0)),this.generateRoundPolygon("round-heptagon",Qo(7,0)),this.generatePolygon("octagon",Qo(8,0)),this.generateRoundPolygon("round-octagon",Qo(8,0));var f=new Array(20),h=Cu(5,0),p=Cu(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var w=0;w<p.length/2;w++)p[2*w]*=g,p[2*w+1]*=g;for(w=0;w<5;w++)f[4*w]=h[2*w],f[4*w+1]=h[2*w+1],f[4*w+2]=p[2*w],f[4*w+3]=p[2*w+1];f=fc(f),this.generatePolygon("star",f),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var E=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",E),this.generateRoundPolygon("round-tag",E),u.makePolygon=function(x){var z,F="polygon-"+x.join("$");return(z=this[F])?z:o.generatePolygon(F,x)}}},Kt={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(u){u=u||Tn();var o=this;void 0===o.averageRedrawTime&&(o.averageRedrawTime=0),void 0===o.lastRedrawTime&&(o.lastRedrawTime=0),void 0===o.lastDrawTime&&(o.lastDrawTime=0),o.requestedFrame=!0,o.renderOptions=u},beforeRender:function(u,o){if(!this.destroyed){null==o&&oi("Priority is not optional for beforeRender");var l=this.beforeRenderCallbacks;l.push({fn:u,priority:o}),l.sort(function(f,h){return h.priority-f.priority})}}},Xt=function(o,l,f){for(var h=o.beforeRenderCallbacks,p=0;p<h.length;p++)h[p].fn(l,f)};Kt.startRenderLoop=function(){var u=this,o=u.cy;u.renderLoopStarted||(u.renderLoopStarted=!0,bu(function f(h){if(!u.destroyed){if(!o.batching())if(u.requestedFrame&&!u.skipFrame){Xt(u,!0,h);var p=Ti();u.render(u.renderOptions);var g=u.lastDrawTime=Ti();void 0===u.averageRedrawTime&&(u.averageRedrawTime=g-p),void 0===u.redrawCount&&(u.redrawCount=0),u.redrawCount++,void 0===u.redrawTotalTime&&(u.redrawTotalTime=0);var w=g-p;u.redrawTotalTime+=w,u.lastRedrawTime=w,u.averageRedrawTime=u.averageRedrawTime/2+w/2,u.requestedFrame=!1}else Xt(u,!1,h);u.skipFrame=!1,bu(f)}}))};var Mn=function(o){this.init(o)},nr=Mn.prototype;nr.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],nr.init=function(u){var o=this;o.options=u,o.cy=u.cy;var l=o.container=u.cy.container();if(oe){var f=oe.document,h=f.head,p="__________cytoscape_stylesheet",g="__________cytoscape_container",w=null!=f.getElementById(p);if(l.className.indexOf(g)<0&&(l.className=(l.className||"")+" "+g),!w){var E=f.createElement("style");E.id=p,E.textContent="."+g+" { position: relative; }",h.insertBefore(E,h.children[0])}"static"===oe.getComputedStyle(l).getPropertyValue("position")&&Ir("A Cytoscape container has style position:static and so can not use UI extensions properly")}o.selection=[void 0,void 0,void 0,void 0,0],o.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],o.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},o.dragData={possibleDragElements:[]},o.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},o.redraws=0,o.showFps=u.showFps,o.debug=u.debug,o.hideEdgesOnViewport=u.hideEdgesOnViewport,o.textureOnViewport=u.textureOnViewport,o.wheelSensitivity=u.wheelSensitivity,o.motionBlurEnabled=u.motionBlur,o.forcedPixelRatio=Qe(u.pixelRatio)?u.pixelRatio:null,o.motionBlur=u.motionBlur,o.motionBlurOpacity=u.motionBlurOpacity,o.motionBlurTransparency=1-o.motionBlurOpacity,o.motionBlurPxRatio=1,o.mbPxRBlurry=1,o.minMbLowQualFrames=4,o.fullQualityMb=!1,o.clearedForMotionBlur=[],o.desktopTapThreshold=u.desktopTapThreshold,o.desktopTapThreshold2=u.desktopTapThreshold*u.desktopTapThreshold,o.touchTapThreshold=u.touchTapThreshold,o.touchTapThreshold2=u.touchTapThreshold*u.touchTapThreshold,o.tapholdDuration=500,o.bindings=[],o.beforeRenderCallbacks=[],o.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},o.registerNodeShapes(),o.registerArrowShapes(),o.registerCalculationListeners()},nr.notify=function(u,o){var l=this,f=l.cy;if(!this.destroyed){if("init"===u)return void l.load();if("destroy"===u)return void l.destroy();("add"===u||"remove"===u||"move"===u&&f.hasCompoundNodes()||"load"===u||"zorder"===u||"mount"===u)&&l.invalidateCachedZSortedEles(),"viewport"===u&&l.redrawHint("select",!0),("load"===u||"resize"===u||"mount"===u)&&(l.invalidateContainerClientCoordsCache(),l.matchCanvasSize(l.container)),l.redrawHint("eles",!0),l.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},nr.destroy=function(){var u=this;u.destroyed=!0,u.cy.stopAnimationLoop();for(var o=0;o<u.bindings.length;o++){var l=u.bindings[o],h=l.target;(h.off||h.removeEventListener).apply(h,l.args)}if(u.bindings=[],u.beforeRenderCallbacks=[],u.onUpdateEleCalcsFns=[],u.removeObserver&&u.removeObserver.disconnect(),u.styleObserver&&u.styleObserver.disconnect(),u.resizeObserver&&u.resizeObserver.disconnect(),u.labelCalcDiv)try{document.body.removeChild(u.labelCalcDiv)}catch{}},nr.isHeadless=function(){return!1},[Ci,_t,Gt,$t,Jt,Kt].forEach(function(u){kn(nr,u)});var hr=1e3/60,Ai_setupDequeueing=function(o){return function(){var f=this,h=this.renderer;if(!f.dequeueingSetup){f.dequeueingSetup=!0;var p=R.default(function(){h.redrawHint("eles",!0),h.redrawHint("drag",!0),h.redraw()},o.deqRedrawThreshold);h.beforeRender(function(x,M){var F=Ti(),z=h.averageRedrawTime,W=h.lastRedrawTime,j=[],Z=h.cy.extent(),J=h.getPixelRatio();for(x||h.flushRenderedStyleQueue();;){var re=Ti(),fe=re-F,he=re-M;if(W<hr){if(he>=o.deqFastCost*(hr-(x?z:0)))break}else if(x){if(fe>=o.deqCost*W||fe>=o.deqAvgCost*z)break}else if(he>=o.deqNoDrawCost*hr)break;var Ie=o.deq(f,J,Z);if(!(Ie.length>0))break;for(var Ae=0;Ae<Ie.length;Ae++)j.push(Ie[Ae])}j.length>0&&(o.onDeqd(f,j),!x&&o.shouldRedraw(f,j,J,Z)&&p())},(o.priority||sd)(f))}}},xi=function(){function u(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ns;$(this,u),this.idsByKey=new Tt,this.keyForId=new Tt,this.cachesByLvl=new Tt,this.lvls=[],this.getKey=o,this.doesEleInvalidateKey=l}return ue(u,[{key:"getIdsFor",value:function(l){null==l&&oi("Can not get id list for null key");var f=this.idsByKey,h=this.idsByKey.get(l);return h||(h=new Rs,f.set(l,h)),h}},{key:"addIdForKey",value:function(l,f){null!=l&&this.getIdsFor(l).add(f)}},{key:"deleteIdForKey",value:function(l,f){null!=l&&this.getIdsFor(l).delete(f)}},{key:"getNumberOfIdsForKey",value:function(l){return null==l?0:this.getIdsFor(l).size}},{key:"updateKeyMappingFor",value:function(l){var f=l.id(),h=this.keyForId.get(f),p=this.getKey(l);this.deleteIdForKey(h,f),this.addIdForKey(p,f),this.keyForId.set(f,p)}},{key:"deleteKeyMappingFor",value:function(l){var f=l.id(),h=this.keyForId.get(f);this.deleteIdForKey(h,f),this.keyForId.delete(f)}},{key:"keyHasChangedFor",value:function(l){var f=l.id();return this.keyForId.get(f)!==this.getKey(l)}},{key:"isInvalid",value:function(l){return this.keyHasChangedFor(l)||this.doesEleInvalidateKey(l)}},{key:"getCachesAt",value:function(l){var f=this.cachesByLvl,h=this.lvls,p=f.get(l);return p||(p=new Tt,f.set(l,p),h.push(l)),p}},{key:"getCache",value:function(l,f){return this.getCachesAt(f).get(l)}},{key:"get",value:function(l,f){var h=this.getKey(l),p=this.getCache(h,f);return null!=p&&this.updateKeyMappingFor(l),p}},{key:"getForCachedKey",value:function(l,f){var h=this.keyForId.get(l.id());return this.getCache(h,f)}},{key:"hasCache",value:function(l,f){return this.getCachesAt(f).has(l)}},{key:"has",value:function(l,f){var h=this.getKey(l);return this.hasCache(h,f)}},{key:"setCache",value:function(l,f,h){h.key=l,this.getCachesAt(f).set(l,h)}},{key:"set",value:function(l,f,h){var p=this.getKey(l);this.setCache(p,f,h),this.updateKeyMappingFor(l)}},{key:"deleteCache",value:function(l,f){this.getCachesAt(f).delete(l)}},{key:"delete",value:function(l,f){var h=this.getKey(l);this.deleteCache(h,f)}},{key:"invalidateKey",value:function(l){var f=this;this.lvls.forEach(function(h){return f.deleteCache(l,h)})}},{key:"invalidate",value:function(l){var f=l.id(),h=this.keyForId.get(f);this.deleteKeyMappingFor(l);var p=this.doesEleInvalidateKey(l);return p&&this.invalidateKey(h),p||0===this.getNumberOfIdsForKey(h)}}]),u}(),Ni={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Pc=ui({getKey:null,doesEleInvalidateKey:Ns,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:ac,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),os=function(o,l){var f=this;f.renderer=o,f.onDequeues=[];var h=Pc(l);kn(f,h),f.lookup=new xi(h.getKey,h.doesEleInvalidateKey),f.setupDequeueing()},ta=os.prototype;ta.reasons=Ni,ta.getTextureQueue=function(u){var o=this;return o.eleImgCaches=o.eleImgCaches||{},o.eleImgCaches[u]=o.eleImgCaches[u]||[]},ta.getRetiredTextureQueue=function(u){var l=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return l[u]=l[u]||[]},ta.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new A.default(function(l,f){return f.reqs-l.reqs})},ta.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},ta.getElement=function(u,o,l,f,h){var p=this,g=this.renderer,w=g.cy.zoom(),E=this.lookup;if(!o||0===o.w||0===o.h||isNaN(o.w)||isNaN(o.h)||!u.visible()||u.removed()||!p.allowEdgeTxrCaching&&u.isEdge()||!p.allowParentTxrCaching&&u.isParent())return null;if(null==f&&(f=Math.ceil(Hi(w*l))),f<-4)f=-4;else if(w>=7.99||f>3)return null;var x=Math.pow(2,f),M=o.h*x,F=o.w*x,z=g.eleTextBiggerThanMin(u,x);if(!this.isVisible(u,z))return null;var j,W=E.get(u,f);if(W&&W.invalidated&&(W.invalidated=!1,W.texture.invalidatedWidth-=W.width),W)return W;if(j=M<=25?25:M<=50?50:50*Math.ceil(M/50),M>1024||F>1024)return null;var Z=p.getTextureQueue(j),J=Z[Z.length-2],re=function(){return p.recycleTexture(j,F)||p.addTexture(j,F)};J||(J=Z[Z.length-1]),J||(J=re()),J.width-J.usedWidth<F&&(J=re());for(var Ae,fe=function(Ue){return Ue&&Ue.scaledLabelShown===z},he=h&&h===Ni.dequeue,ye=h&&h===Ni.highQuality,Ie=h&&h===Ni.downscale,be=f+1;be<=3;be++){var Te=E.get(u,be);if(Te){Ae=Te;break}}var _e=Ae&&Ae.level===f+1?Ae:null,ke=function(){J.context.drawImage(_e.texture.canvas,_e.x,0,_e.width,_e.height,J.usedWidth,0,F,M)};if(J.context.setTransform(1,0,0,1,0,0),J.context.clearRect(J.usedWidth,0,F,j),fe(_e))ke();else if(fe(Ae)){if(!ye)return p.queueElement(u,Ae.level-1),Ae;for(var Pe=Ae.level;Pe>f;Pe--)_e=p.getElement(u,o,l,Pe,Ni.downscale);ke()}else{var xe;if(!he&&!ye&&!Ie)for(var He=f-1;He>=-4;He--){var Ne=E.get(u,He);if(Ne){xe=Ne;break}}if(fe(xe))return p.queueElement(u,f),xe;J.context.translate(J.usedWidth,0),J.context.scale(x,x),this.drawElement(J.context,u,o,z,!1),J.context.scale(1/x,1/x),J.context.translate(-J.usedWidth,0)}return W={x:J.usedWidth,texture:J,level:f,scale:x,width:F,height:M,scaledLabelShown:z},J.usedWidth+=Math.ceil(F+8),J.eleCaches.push(W),E.set(u,f,W),p.checkTextureFullness(J),W},ta.invalidateElements=function(u){for(var o=0;o<u.length;o++)this.invalidateElement(u[o])},ta.invalidateElement=function(u){var o=this,l=o.lookup,f=[];if(l.isInvalid(u)){for(var p=-4;p<=3;p++){var g=l.getForCachedKey(u,p);g&&f.push(g)}if(l.invalidate(u))for(var E=0;E<f.length;E++){var x=f[E],M=x.texture;M.invalidatedWidth+=x.width,x.invalidated=!0,o.checkTextureUtility(M)}o.removeFromQueue(u)}},ta.checkTextureUtility=function(u){u.invalidatedWidth>=.2*u.width&&this.retireTexture(u)},ta.checkTextureFullness=function(u){var l=this.getTextureQueue(u.height);u.usedWidth/u.width>.8&&u.fullnessChecks>=10?Ka(l,u):u.fullnessChecks++},ta.retireTexture=function(u){var l=u.height,f=this.getTextureQueue(l),h=this.lookup;Ka(f,u),u.retired=!0;for(var p=u.eleCaches,g=0;g<p.length;g++){var w=p[g];h.deleteCache(w.key,w.level)}ko(p),this.getRetiredTextureQueue(l).push(u)},ta.addTexture=function(u,o){var h={};return this.getTextureQueue(u).push(h),h.eleCaches=[],h.height=u,h.width=Math.max(1024,o),h.usedWidth=0,h.invalidatedWidth=0,h.fullnessChecks=0,h.canvas=this.renderer.makeOffscreenCanvas(h.width,h.height),h.context=h.canvas.getContext("2d"),h},ta.recycleTexture=function(u,o){for(var f=this.getTextureQueue(u),h=this.getRetiredTextureQueue(u),p=0;p<h.length;p++){var g=h[p];if(g.width>=o)return g.retired=!1,g.usedWidth=0,g.invalidatedWidth=0,g.fullnessChecks=0,ko(g.eleCaches),g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(0,0,g.width,g.height),Ka(h,g),f.push(g),g}},ta.queueElement=function(u,o){var f=this.getElementQueue(),h=this.getElementKeyToQueue(),p=this.getKey(u),g=h[p];if(g)g.level=Math.max(g.level,o),g.eles.merge(u),g.reqs++,f.updateItem(g);else{var w={eles:u.spawn().merge(u),level:o,reqs:1,key:p};f.push(w),h[p]=w}},ta.dequeue=function(u){for(var o=this,l=o.getElementQueue(),f=o.getElementKeyToQueue(),h=[],p=o.lookup,g=0;g<1&&l.size()>0;g++){var w=l.pop(),E=w.key,x=w.eles[0],M=p.hasCache(x,w.level);if(f[E]=null,!M){h.push(w);var F=o.getBoundingBox(x);o.getElement(x,F,u,w.level,Ni.dequeue)}}return h},ta.removeFromQueue=function(u){var l=this.getElementQueue(),f=this.getElementKeyToQueue(),h=this.getKey(u),p=f[h];null!=p&&(1===p.eles.length?(p.reqs=oc,l.updateItem(p),l.pop(),f[h]=null):p.eles.unmerge(u))},ta.onDequeue=function(u){this.onDequeues.push(u)},ta.offDequeue=function(u){Ka(this.onDequeues,u)},ta.setupDequeueing=Ai_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l,f){return o.dequeue(l,f)},onDeqd:function(o,l){for(var f=0;f<o.onDequeues.length;f++)(0,o.onDequeues[f])(l)},shouldRedraw:function(o,l,f,h){for(var p=0;p<l.length;p++)for(var g=l[p].eles,w=0;w<g.length;w++){var E=g[w].boundingBox();if(tr(E,h))return!0}return!1},priority:function(o){return o.renderer.beforeRenderPriorities.eleTxrDeq}});var p_=function(o){var l=this,f=l.renderer=o,h=f.cy;l.layersByLevel={},l.firstGet=!0,l.lastInvalidationTime=Ti()-500,l.skipping=!1,l.eleTxrDeqs=h.collection(),l.scheduleElementRefinement=R.default(function(){l.refineElementTextures(l.eleTxrDeqs),l.eleTxrDeqs.unmerge(l.eleTxrDeqs)},50),f.beforeRender(function(g,w){l.skipping=w-l.lastInvalidationTime<=250},f.beforeRenderPriorities.lyrTxrSkip),l.layersQueue=new A.default(function(w,E){return E.reqs-w.reqs}),l.setupDequeueing()},xa=p_.prototype,Ey=0,g_=Math.pow(2,53)-1;xa.makeLayer=function(u,o){var l=Math.pow(2,o),f=Math.ceil(u.w*l),h=Math.ceil(u.h*l),p=this.renderer.makeOffscreenCanvas(f,h),g={id:Ey=++Ey%g_,bb:u,level:o,width:f,height:h,canvas:p,context:p.getContext("2d"),eles:[],elesQueue:[],reqs:0},w=g.context,E=-g.bb.x1,x=-g.bb.y1;return w.scale(l,l),w.translate(E,x),g},xa.getLayers=function(u,o,l){var f=this,g=f.renderer.cy.zoom(),w=f.firstGet;if(f.firstGet=!1,null==l)if((l=Math.ceil(Hi(g*o)))<-4)l=-4;else if(g>=3.99||l>2)return null;f.validateLayersElesOrdering(l,u);var F,W,E=f.layersByLevel,x=Math.pow(2,l),M=E[l]=E[l]||[];if(f.levelIsComplete(l,u))return M;!function(){var ke=function(Je){if(f.validateLayersElesOrdering(Je,u),f.levelIsComplete(Je,u))return W=E[Je],!0},Pe=function(Je){if(!W)for(var Ue=l+Je;-4<=Ue&&Ue<=2&&!ke(Ue);Ue+=Je);};Pe(1),Pe(-1);for(var xe=M.length-1;xe>=0;xe--){var He=M[xe];He.invalid&&Ka(M,He)}}();var J=function(ke){var Pe=(ke=ke||{}).after;if(function(){if(!F){F=Mi();for(var ke=0;ke<u.length;ke++)Gl(F,u[ke].boundingBox())}}(),F.w*x*(F.h*x)>16e6)return null;var He=f.makeLayer(F,l);if(null!=Pe){var Ne=M.indexOf(Pe)+1;M.splice(Ne,0,He)}else(void 0===ke.insert||ke.insert)&&M.unshift(He);return He};if(f.skipping&&!w)return null;for(var re=null,fe=u.length/1,he=!w,ye=0;ye<u.length;ye++){var Ie=u[ye],Ae=Ie._private.rscratch,be=Ae.imgLayerCaches=Ae.imgLayerCaches||{},Te=be[l];if(Te)re=Te;else{if((!re||re.eles.length>=fe||!cd(re.bb,Ie.boundingBox()))&&!(re=J({insert:!0,after:re})))return null;W||he?f.queueLayer(re,Ie):f.drawEleInLayer(re,Ie,l,o),re.eles.push(Ie),be[l]=re}}return W||(he?null:M)},xa.getEleLevelForLayerLevel=function(u,o){return u},xa.drawEleInLayer=function(u,o,l,f){var p=this.renderer,g=u.context,w=o.boundingBox();0===w.w||0===w.h||!o.visible()||(l=this.getEleLevelForLayerLevel(l,f),p.setImgSmoothing(g,!1),p.drawCachedElement(g,o,null,null,l,!0),p.setImgSmoothing(g,!0))},xa.levelIsComplete=function(u,o){var f=this.layersByLevel[u];if(!f||0===f.length)return!1;for(var h=0,p=0;p<f.length;p++){var g=f[p];if(g.reqs>0||g.invalid)return!1;h+=g.eles.length}return h===o.length},xa.validateLayersElesOrdering=function(u,o){var l=this.layersByLevel[u];if(l)for(var f=0;f<l.length;f++){for(var h=l[f],p=-1,g=0;g<o.length;g++)if(h.eles[0]===o[g]){p=g;break}if(p<0)this.invalidateLayer(h);else{var w=p;for(g=0;g<h.eles.length;g++)if(h.eles[g]!==o[w+g]){this.invalidateLayer(h);break}}}},xa.updateElementsInLayers=function(u,o){for(var f=bn(u[0]),h=0;h<u.length;h++)for(var p=f?null:u[h],g=f?u[h]:u[h].ele,w=g._private.rscratch,E=w.imgLayerCaches=w.imgLayerCaches||{},x=-4;x<=2;x++){var M=E[x];M&&(p&&this.getEleLevelForLayerLevel(M.level)!==p.level||o(M,g,p))}},xa.haveLayers=function(){for(var o=!1,l=-4;l<=2;l++){var f=this.layersByLevel[l];if(f&&f.length>0){o=!0;break}}return o},xa.invalidateElements=function(u){var o=this;0!==u.length&&(o.lastInvalidationTime=Ti(),0!==u.length&&o.haveLayers()&&o.updateElementsInLayers(u,function(f,h,p){o.invalidateLayer(f)}))},xa.invalidateLayer=function(u){if(this.lastInvalidationTime=Ti(),!u.invalid){var o=u.level,l=u.eles;Ka(this.layersByLevel[o],u),u.elesQueue=[],u.invalid=!0,u.replacement&&(u.replacement.invalid=!0);for(var h=0;h<l.length;h++){var p=l[h]._private.rscratch.imgLayerCaches;p&&(p[o]=null)}}},xa.refineElementTextures=function(u){var o=this;o.updateElementsInLayers(u,function(f,h,p){var g=f.replacement;if(g||((g=f.replacement=o.makeLayer(f.bb,f.level)).replaces=f,g.eles=f.eles),!g.reqs)for(var w=0;w<g.eles.length;w++)o.queueLayer(g,g.eles[w])})},xa.enqueueElementRefinement=function(u){this.eleTxrDeqs.merge(u),this.scheduleElementRefinement()},xa.queueLayer=function(u,o){var f=this.layersQueue,h=u.elesQueue,p=h.hasId=h.hasId||{};if(!u.replacement){if(o){if(p[o.id()])return;h.push(o),p[o.id()]=!0}u.reqs?(u.reqs++,f.updateItem(u)):(u.reqs=1,f.push(u))}},xa.dequeue=function(u){for(var o=this,l=o.layersQueue,f=[],h=0;h<1&&0!==l.size();){var p=l.peek();if(p.replacement)l.pop();else if(p.replaces&&p!==p.replaces.replacement)l.pop();else if(p.invalid)l.pop();else{var g=p.elesQueue.shift();g&&(o.drawEleInLayer(p,g,p.level,u),h++),0===f.length&&f.push(!0),0===p.elesQueue.length&&(l.pop(),p.reqs=0,p.replaces&&o.applyLayerReplacement(p),o.requestRedraw())}}return f},xa.applyLayerReplacement=function(u){var l=this.layersByLevel[u.level],f=u.replaces,h=l.indexOf(f);if(!(h<0||f.invalid)){l[h]=u;for(var p=0;p<u.eles.length;p++){var g=u.eles[p]._private,w=g.imgLayerCaches=g.imgLayerCaches||{};w&&(w[u.level]=u)}this.requestRedraw()}},xa.requestRedraw=R.default(function(){var u=this.renderer;u.redrawHint("eles",!0),u.redrawHint("drag",!0),u.redraw()},100),xa.setupDequeueing=Ai_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l){return o.dequeue(l)},onDeqd:sd,shouldRedraw:ac,priority:function(o){return o.renderer.beforeRenderPriorities.lyrTxrDeq}});var Mm,$h={};function m_(u,o){for(var l=0;l<o.length;l++){var f=o[l];u.lineTo(f.x,f.y)}}function Dy(u,o,l){for(var f,h=0;h<o.length;h++){var p=o[h];0===h&&(f=p),u.lineTo(p.x,p.y)}u.quadraticCurveTo(l.x,l.y,f.x,f.y)}function v_(u,o,l){u.beginPath&&u.beginPath();for(var f=o,h=0;h<f.length;h++)u.lineTo((p=f[h]).x,p.y);var g=l,w=l[0];for(u.moveTo(w.x,w.y),h=1;h<g.length;h++){var p;u.lineTo((p=g[h]).x,p.y)}u.closePath&&u.closePath()}function Sy(u,o,l,f,h){u.beginPath&&u.beginPath(),u.arc(l,f,h,0,2*Math.PI,!1);var p=o,g=p[0];u.moveTo(g.x,g.y);for(var w=0;w<p.length;w++){var E=p[w];u.lineTo(E.x,E.y)}u.closePath&&u.closePath()}function tD(u,o,l,f){u.arc(o,l,f,0,2*Math.PI,!1)}$h.arrowShapeImpl=function(u){return(Mm||(Mm={polygon:m_,"triangle-backcurve":Dy,"triangle-tee":v_,"circle-triangle":Sy,"triangle-cross":v_,circle:tD}))[u]};var su={drawElement:function(u,o,l,f,h,p){o.isNode()?this.drawNode(u,o,l,f,h,p):this.drawEdge(u,o,l,f,h,p)},drawElementOverlay:function(u,o){o.isNode()?this.drawNodeOverlay(u,o):this.drawEdgeOverlay(u,o)},drawElementUnderlay:function(u,o){o.isNode()?this.drawNodeUnderlay(u,o):this.drawEdgeUnderlay(u,o)},drawCachedElementPortion:function(u,o,l,f,h,p,g,w){var E=this,x=l.getBoundingBox(o);if(0!==x.w&&0!==x.h){var M=l.getElement(o,x,f,h,p);if(null!=M){var F=w(E,o);if(0===F)return;var re,fe,he,ye,Ie,Te,z=g(E,o),W=x.x1,j=x.y1,Z=x.w,J=x.h;if(0!==z){var Ae=l.getRotationPoint(o);u.translate(he=Ae.x,ye=Ae.y),u.rotate(z),(Ie=E.getImgSmoothing(u))||E.setImgSmoothing(u,!0);var be=l.getRotationOffset(o);re=be.x,fe=be.y}else re=W,fe=j;1!==F&&(u.globalAlpha=(Te=u.globalAlpha)*F),u.drawImage(M.texture.canvas,M.x,0,M.width,M.height,re,fe,Z,J),1!==F&&(u.globalAlpha=Te),0!==z&&(u.rotate(-z),u.translate(-he,-ye),Ie||E.setImgSmoothing(u,!1))}else l.drawElement(u,o)}}},y_=function(){return 0},Im=function(o,l){return o.getTextAngle(l,null)},nD=function(o,l){return o.getTextAngle(l,"source")},rD=function(o,l){return o.getTextAngle(l,"target")},Am=function(o,l){return l.effectiveOpacity()},Ty=function(o,l){return l.pstyle("text-opacity").pfValue*l.effectiveOpacity()};su.drawCachedElement=function(u,o,l,f,h,p){var g=this,w=g.data,E=w.eleTxrCache,x=w.lblTxrCache,M=w.slbTxrCache,F=w.tlbTxrCache,z=o.boundingBox(),W=!0===p?E.reasons.highQuality:null;if(0!==z.w&&0!==z.h&&o.visible()&&(!f||tr(z,f))){var j=o.isEdge(),Z=o.element()._private.rscratch.badLine;g.drawElementUnderlay(u,o),g.drawCachedElementPortion(u,o,E,l,h,W,y_,Am),(!j||!Z)&&g.drawCachedElementPortion(u,o,x,l,h,W,Im,Ty),j&&!Z&&(g.drawCachedElementPortion(u,o,M,l,h,W,nD,Ty),g.drawCachedElementPortion(u,o,F,l,h,W,rD,Ty)),g.drawElementOverlay(u,o)}},su.drawElements=function(u,o){for(var f=0;f<o.length;f++)this.drawElement(u,o[f])},su.drawCachedElements=function(u,o,l,f){for(var p=0;p<o.length;p++)this.drawCachedElement(u,o[p],l,f)},su.drawCachedNodes=function(u,o,l,f){for(var p=0;p<o.length;p++){var g=o[p];g.isNode()&&this.drawCachedElement(u,g,l,f)}},su.drawLayeredElements=function(u,o,l,f){var p=this.data.lyrTxrCache.getLayers(o,l);if(p)for(var g=0;g<p.length;g++){var w=p[g],E=w.bb;0===E.w||0===E.h||u.drawImage(w.canvas,E.x1,E.y1,E.w,E.h)}else this.drawCachedElements(u,o,l,f)};var Lc={drawEdge:function(u,o,l){var f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,w=o._private.rscratch;if((!p||o.visible())&&!w.badLine&&null!=w.allpts&&!isNaN(w.allpts[0])){var E;l&&u.translate(-(E=l).x1,-E.y1);var x=p?o.pstyle("opacity").value:1,M=p?o.pstyle("line-opacity").value:1,F=o.pstyle("curve-style").value,z=o.pstyle("line-style").value,W=o.pstyle("width").pfValue,j=o.pstyle("line-cap").value,Z=x*M,J=x*M,re=function(){var xe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;"straight-triangle"===F?(g.eleStrokeStyle(u,o,xe),g.drawEdgeTrianglePath(o,u,w.allpts)):(u.lineWidth=W,u.lineCap=j,g.eleStrokeStyle(u,o,xe),g.drawEdgePath(o,u,w.allpts,z),u.lineCap="butt")},ye=function(){g.drawArrowheads(u,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:J)};if(u.lineJoin="round","yes"===o.pstyle("ghost").value){var be=o.pstyle("ghost-offset-x").pfValue,Te=o.pstyle("ghost-offset-y").pfValue,_e=o.pstyle("ghost-opacity").value,ke=Z*_e;u.translate(be,Te),re(ke),ye(ke),u.translate(-be,-Te)}h&&g.drawEdgeUnderlay(u,o),re(),ye(),h&&g.drawEdgeOverlay(u,o),g.drawElementText(u,o,null,f),l&&u.translate(E.x1,E.y1)}}},b_=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,f){if(f.visible()){var h=f.pstyle("".concat(o,"-opacity")).value;if(0!==h){var p=this,g=p.usePaths(),w=f._private.rscratch,x=2*f.pstyle("".concat(o,"-padding")).pfValue,M=f.pstyle("".concat(o,"-color")).value;l.lineWidth=x,l.lineCap="self"!==w.edgeType||g?"round":"butt",p.colorStrokeStyle(l,M[0],M[1],M[2],h),p.drawEdgePath(f,l,w.allpts,"solid")}}}};Lc.drawEdgeOverlay=b_("overlay"),Lc.drawEdgeUnderlay=b_("underlay"),Lc.drawEdgePath=function(u,o,l,f){var g,h=u._private.rscratch,p=o,w=!1,E=this.usePaths(),x=u.pstyle("line-dash-pattern").pfValue,M=u.pstyle("line-dash-offset").pfValue;if(E){var F=l.join("$");h.pathCacheKey&&h.pathCacheKey===F?(g=o=h.pathCache,w=!0):(g=o=new Path2D,h.pathCacheKey=F,h.pathCache=g)}if(p.setLineDash)switch(f){case"dotted":p.setLineDash([1,1]);break;case"dashed":p.setLineDash(x),p.lineDashOffset=M;break;case"solid":p.setLineDash([])}if(!w&&!h.badLine)switch(o.beginPath&&o.beginPath(),o.moveTo(l[0],l[1]),h.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var W=2;W+3<l.length;W+=4)o.quadraticCurveTo(l[W],l[W+1],l[W+2],l[W+3]);break;case"straight":case"segments":case"haystack":for(var j=2;j+1<l.length;j+=2)o.lineTo(l[j],l[j+1])}o=p,E?o.stroke(g):o.stroke(),o.setLineDash&&o.setLineDash([])},Lc.drawEdgeTrianglePath=function(u,o,l){o.fillStyle=o.strokeStyle;for(var f=u.pstyle("width").pfValue,h=0;h+1<l.length;h+=2){var p=[l[h+2]-l[h],l[h+3]-l[h+1]],g=Math.sqrt(p[0]*p[0]+p[1]*p[1]),w=[p[1]/g,-p[0]/g],E=[w[0]*f/2,w[1]*f/2];o.beginPath(),o.moveTo(l[h]-E[0],l[h+1]-E[1]),o.lineTo(l[h]+E[0],l[h+1]+E[1]),o.lineTo(l[h+2],l[h+3]),o.closePath(),o.fill()}},Lc.drawArrowheads=function(u,o,l){var f=o._private.rscratch,h="haystack"===f.edgeType;h||this.drawArrowhead(u,o,"source",f.arrowStartX,f.arrowStartY,f.srcArrowAngle,l),this.drawArrowhead(u,o,"mid-target",f.midX,f.midY,f.midtgtArrowAngle,l),this.drawArrowhead(u,o,"mid-source",f.midX,f.midY,f.midsrcArrowAngle,l),h||this.drawArrowhead(u,o,"target",f.arrowEndX,f.arrowEndY,f.tgtArrowAngle,l)},Lc.drawArrowhead=function(u,o,l,f,h,p,g){if(!(isNaN(f)||null==f||isNaN(h)||null==h||isNaN(p)||null==p)){var w=this,E=o.pstyle(l+"-arrow-shape").value;if("none"!==E){var x="hollow"===o.pstyle(l+"-arrow-fill").value?"both":"filled",M=o.pstyle(l+"-arrow-fill").value,F=o.pstyle("width").pfValue,z=o.pstyle("opacity").value;void 0===g&&(g=z);var W=u.globalCompositeOperation;(1!==g||"hollow"===M)&&(u.globalCompositeOperation="destination-out",w.colorFillStyle(u,255,255,255,1),w.colorStrokeStyle(u,255,255,255,1),w.drawArrowShape(o,u,x,F,E,f,h,p),u.globalCompositeOperation=W);var j=o.pstyle(l+"-arrow-color").value;w.colorFillStyle(u,j[0],j[1],j[2],g),w.colorStrokeStyle(u,j[0],j[1],j[2],g),w.drawArrowShape(o,u,M,F,E,f,h,p)}}},Lc.drawArrowShape=function(u,o,l,f,h,p,g,w){var F,E=this,x=this.usePaths()&&"triangle-cross"!==h,M=!1,z=o,W={x:p,y:g},j=u.pstyle("arrow-scale").value,Z=this.getArrowWidth(f,j),J=E.arrowShapes[h];if(x){var re=E.arrowPathCache=E.arrowPathCache||[],fe=cs(h),he=re[fe];null!=he?(F=o=he,M=!0):(F=o=new Path2D,re[fe]=F)}M||(o.beginPath&&o.beginPath(),x?J.draw(o,1,0,{x:0,y:0},1):J.draw(o,Z,w,W,f),o.closePath&&o.closePath()),o=z,x&&(o.translate(p,g),o.rotate(w),o.scale(Z,Z)),("filled"===l||"both"===l)&&(x?o.fill(F):o.fill()),("hollow"===l||"both"===l)&&(o.lineWidth=(J.matchEdgeWidth?f:1)/(x?Z:1),o.lineJoin="miter",x?o.stroke(F):o.stroke()),x&&(o.scale(1/Z,1/Z),o.rotate(-w),o.translate(-p,-g))};var My={safeDrawImage:function(u,o,l,f,h,p,g,w,E,x){if(!(h<=0||p<=0||E<=0||x<=0))try{u.drawImage(o,l,f,h,p,g,w,E,x)}catch(M){Ir(M)}},drawInscribedImage:function(u,o,l,f,h){var p=this,g=l.position(),w=g.x,E=g.y,x=l.cy().style(),M=x.getIndexedStyle.bind(x),F=M(l,"background-fit","value",f),z=M(l,"background-repeat","value",f),W=l.width(),j=l.height(),Z=2*l.padding(),J=W+("inner"===M(l,"background-width-relative-to","value",f)?0:Z),re=j+("inner"===M(l,"background-height-relative-to","value",f)?0:Z),fe=l._private.rscratch,ye="node"===M(l,"background-clip","value",f),Ie=M(l,"background-image-opacity","value",f)*h,Ae=M(l,"background-image-smoothing","value",f),be=o.width||o.cachedW,Te=o.height||o.cachedH;(null==be||null==Te)&&(document.body.appendChild(o),be=o.cachedW=o.width||o.offsetWidth,Te=o.cachedH=o.height||o.offsetHeight,document.body.removeChild(o));var _e=be,ke=Te;if("auto"!==M(l,"background-width","value",f)&&(_e="%"===M(l,"background-width","units",f)?M(l,"background-width","pfValue",f)*J:M(l,"background-width","pfValue",f)),"auto"!==M(l,"background-height","value",f)&&(ke="%"===M(l,"background-height","units",f)?M(l,"background-height","pfValue",f)*re:M(l,"background-height","pfValue",f)),0!==_e&&0!==ke){if("contain"===F)_e*=Pe=Math.min(J/_e,re/ke),ke*=Pe;else if("cover"===F){var Pe;_e*=Pe=Math.max(J/_e,re/ke),ke*=Pe}var xe=w-J/2,He=M(l,"background-position-x","units",f),Ne=M(l,"background-position-x","pfValue",f);xe+="%"===He?(J-_e)*Ne:Ne;var Je=M(l,"background-offset-x","units",f),Ue=M(l,"background-offset-x","pfValue",f);xe+="%"===Je?(J-_e)*Ue:Ue;var We=E-re/2,at=M(l,"background-position-y","units",f),dt=M(l,"background-position-y","pfValue",f);We+="%"===at?(re-ke)*dt:dt;var bt=M(l,"background-offset-y","units",f),lt=M(l,"background-offset-y","pfValue",f);We+="%"===bt?(re-ke)*lt:lt,fe.pathCache&&(xe-=w,We-=E,w=0,E=0);var yt=u.globalAlpha;u.globalAlpha=Ie;var At=p.getImgSmoothing(u),Ot=!1;if("no"===Ae&&At?(p.setImgSmoothing(u,!1),Ot=!0):"yes"===Ae&&!At&&(p.setImgSmoothing(u,!0),Ot=!0),"no-repeat"===z)ye&&(u.save(),fe.pathCache?u.clip(fe.pathCache):(p.nodeShapes[p.getNodeShape(l)].draw(u,w,E,J,re),u.clip())),p.safeDrawImage(u,o,0,0,be,Te,xe,We,_e,ke),ye&&u.restore();else{var Dt=u.createPattern(o,z);u.fillStyle=Dt,p.nodeShapes[p.getNodeShape(l)].draw(u,w,E,J,re),u.translate(xe,We),u.fill(),u.translate(-xe,-We)}u.globalAlpha=yt,Ot&&p.setImgSmoothing(u,At)}}},Wf={eleTextBiggerThanMin:function(u,o){if(!o){var l=u.cy().zoom(),f=this.getPixelRatio(),h=Math.ceil(Hi(l*f));o=Math.pow(2,h)}return!(u.pstyle("font-size").pfValue*o<u.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(u,o,l,f,h){var p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this;if(null==f){if(p&&!g.eleTextBiggerThanMin(o))return}else if(!1===f)return;if(o.isNode()){var w=o.pstyle("label");if(!w||!w.value)return;var E=g.getLabelJustification(o);u.textAlign=E,u.textBaseline="bottom"}else{var x=o.element()._private.rscratch.badLine,M=o.pstyle("label"),F=o.pstyle("source-label"),z=o.pstyle("target-label");if(x||(!M||!M.value)&&(!F||!F.value)&&(!z||!z.value))return;u.textAlign="center",u.textBaseline="bottom"}var j,W=!l;l&&u.translate(-(j=l).x1,-j.y1),null==h?(g.drawText(u,o,null,W,p),o.isEdge()&&(g.drawText(u,o,"source",W,p),g.drawText(u,o,"target",W,p))):g.drawText(u,o,h,W,p),l&&u.translate(j.x1,j.y1)},getFontCache:function(u){var o;this.fontCaches=this.fontCaches||[];for(var l=0;l<this.fontCaches.length;l++)if((o=this.fontCaches[l]).context===u)return o;return this.fontCaches.push(o={context:u}),o},setupTextStyle:function(u,o){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=o.pstyle("font-style").strValue,h=o.pstyle("font-size").pfValue+"px",p=o.pstyle("font-family").strValue,g=o.pstyle("font-weight").strValue,w=l?o.effectiveOpacity()*o.pstyle("text-opacity").value:1,E=o.pstyle("text-outline-opacity").value*w,x=o.pstyle("color").value,M=o.pstyle("text-outline-color").value;u.font=f+" "+g+" "+h+" "+p,u.lineJoin="round",this.colorFillStyle(u,x[0],x[1],x[2],w),this.colorStrokeStyle(u,M[0],M[1],M[2],E)},getTextAngle:function(u,o){var h=u._private.rscratch,g=u.pstyle((o?o+"-":"")+"text-rotation"),w=Qi(h,"labelAngle",o);return"autorotate"===g.strValue?u.isEdge()?w:0:"none"===g.strValue?0:g.pfValue},drawText:function(u,o,l){var f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=o._private.rscratch,w=h?o.effectiveOpacity():1;if(!h||0!==w&&0!==o.pstyle("text-opacity").value){"main"===l&&(l=null);var M,F,E=Qi(g,"labelX",l),x=Qi(g,"labelY",l),z=this.getLabelText(o,l);if(null!=z&&""!==z&&!isNaN(E)&&!isNaN(x)){this.setupTextStyle(u,o,h);var Ie,W=l?l+"-":"",j=Qi(g,"labelWidth",l),Z=Qi(g,"labelHeight",l),J=o.pstyle(W+"text-margin-x").pfValue,re=o.pstyle(W+"text-margin-y").pfValue,fe=o.isEdge(),he=o.pstyle("text-halign").value,ye=o.pstyle("text-valign").value;switch(fe&&(he="center",ye="center"),E+=J,x+=re,0!==(Ie=f?this.getTextAngle(o,l):0)&&(u.translate(M=E,F=x),u.rotate(Ie),E=0,x=0),ye){case"top":break;case"center":x+=Z/2;break;case"bottom":x+=Z}var Ae=o.pstyle("text-background-opacity").value,be=o.pstyle("text-border-opacity").value,Te=o.pstyle("text-border-width").pfValue,_e=o.pstyle("text-background-padding").pfValue;if(Ae>0||Te>0&&be>0){var ke=E-_e;switch(he){case"left":ke-=j;break;case"center":ke-=j/2}var Pe=x-Z-_e,xe=j+2*_e,He=Z+2*_e;if(Ae>0){var Ne=u.fillStyle,Je=o.pstyle("text-background-color").value;u.fillStyle="rgba("+Je[0]+","+Je[1]+","+Je[2]+","+Ae*w+")",0===o.pstyle("text-background-shape").strValue.indexOf("round")?function __(u,o,l,f,h){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;u.beginPath(),u.moveTo(o+p,l),u.lineTo(o+f-p,l),u.quadraticCurveTo(o+f,l,o+f,l+p),u.lineTo(o+f,l+h-p),u.quadraticCurveTo(o+f,l+h,o+f-p,l+h),u.lineTo(o+p,l+h),u.quadraticCurveTo(o,l+h,o,l+h-p),u.lineTo(o,l+p),u.quadraticCurveTo(o,l,o+p,l),u.closePath(),u.fill()}(u,ke,Pe,xe,He,2):u.fillRect(ke,Pe,xe,He),u.fillStyle=Ne}if(Te>0&&be>0){var We=u.strokeStyle,at=u.lineWidth,dt=o.pstyle("text-border-color").value,bt=o.pstyle("text-border-style").value;if(u.strokeStyle="rgba("+dt[0]+","+dt[1]+","+dt[2]+","+be*w+")",u.lineWidth=Te,u.setLineDash)switch(bt){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash([4,2]);break;case"double":u.lineWidth=Te/4,u.setLineDash([]);break;case"solid":u.setLineDash([])}if(u.strokeRect(ke,Pe,xe,He),"double"===bt){var lt=Te/2;u.strokeRect(ke+lt,Pe+lt,xe-2*lt,He-2*lt)}u.setLineDash&&u.setLineDash([]),u.lineWidth=at,u.strokeStyle=We}}var yt=2*o.pstyle("text-outline-width").pfValue;if(yt>0&&(u.lineWidth=yt),"wrap"===o.pstyle("text-wrap").value){var At=Qi(g,"labelWrapCachedLines",l),Ot=Qi(g,"labelLineHeight",l),Dt=j/2,wt=this.getLabelJustification(o);switch("auto"===wt||("left"===he?"left"===wt?E+=-j:"center"===wt&&(E+=-Dt):"center"===he?"left"===wt?E+=-Dt:"right"===wt&&(E+=Dt):"right"===he&&("center"===wt?E+=Dt:"right"===wt&&(E+=j))),ye){case"top":case"center":case"bottom":x-=(At.length-1)*Ot}for(var nt=0;nt<At.length;nt++)yt>0&&u.strokeText(At[nt],E,x),u.fillText(At[nt],E,x),x+=Ot}else yt>0&&u.strokeText(z,E,x),u.fillText(z,E,x);0!==Ie&&(u.rotate(-Ie),u.translate(-M,-F))}}}},zu={drawNode:function(u,o,l){var w,E,f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,x=o._private,M=x.rscratch,F=o.position();if(Qe(F.x)&&Qe(F.y)&&(!p||o.visible())){var j,re,z=p?o.effectiveOpacity():1,W=g.usePaths(),Z=!1,J=o.padding();w=o.width()+2*J,E=o.height()+2*J,l&&u.translate(-(re=l).x1,-re.y1);for(var he=o.pstyle("background-image").value,ye=new Array(he.length),Ie=new Array(he.length),Ae=0,be=0;be<he.length;be++){var Te=he[be];if(ye[be]=null!=Te&&"none"!==Te){var ke=o.cy().style().getIndexedStyle(o,"background-image-crossorigin","value",be);Ae++,Ie[be]=g.getCachedImage(Te,ke,function(){x.backgroundTimestamp=Date.now(),o.emitAndNotify("background")})}}var Pe=o.pstyle("background-blacken").value,xe=o.pstyle("border-width").pfValue,He=o.pstyle("background-opacity").value*z,Ne=o.pstyle("border-color").value,Je=o.pstyle("border-style").value,Ue=o.pstyle("border-opacity").value*z;u.lineJoin="miter";var We=function(){g.eleFillStyle(u,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:He)},at=function(){g.colorStrokeStyle(u,Ne[0],Ne[1],Ne[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue)},dt=o.pstyle("shape").strValue,bt=o.pstyle("shape-polygon-points").pfValue;if(W){u.translate(F.x,F.y);var lt=g.nodePathCache=g.nodePathCache||[],yt=od("polygon"===dt?dt+","+bt.join(","):dt,""+E,""+w),At=lt[yt];null!=At?(Z=!0,M.pathCache=j=At):(j=new Path2D,lt[yt]=M.pathCache=j)}var Ot=function(){if(!Z){var cn=F;W&&(cn={x:0,y:0}),g.nodeShapes[g.getNodeShape(o)].draw(j||u,cn.x,cn.y,w,E)}W?u.fill(j):u.fill()},Dt=function(){for(var cn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,Pn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],kr=x.backgrounding,pr=0,$n=0;$n<Ie.length;$n++){var Ut=o.cy().style().getIndexedStyle(o,"background-image-containment","value",$n);Pn&&"over"===Ut||!Pn&&"inside"===Ut?pr++:ye[$n]&&Ie[$n].complete&&!Ie[$n].error&&(pr++,g.drawInscribedImage(u,Ie[$n],o,$n,cn))}x.backgrounding=pr!==Ae,kr!==x.backgrounding&&o.updateStyle(!1)},wt=function(){var cn=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Pn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;g.hasPie(o)&&(g.drawPie(u,o,Pn),cn&&(W||g.nodeShapes[g.getNodeShape(o)].draw(u,F.x,F.y,w,E)))},nt=function(){var kr=Pe>0?0:255;0!==Pe&&(g.colorFillStyle(u,kr,kr,kr,(Pe>0?Pe:-Pe)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:z)),W?u.fill(j):u.fill())},Mt=function(){if(xe>0){if(u.lineWidth=xe,u.lineCap="butt",u.setLineDash)switch(Je){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash([4,2]);break;case"solid":case"double":u.setLineDash([])}if(W?u.stroke(j):u.stroke(),"double"===Je){u.lineWidth=xe/3;var cn=u.globalCompositeOperation;u.globalCompositeOperation="destination-out",W?u.stroke(j):u.stroke(),u.globalCompositeOperation=cn}u.setLineDash&&u.setLineDash([])}};if("yes"===o.pstyle("ghost").value){var ar=o.pstyle("ghost-offset-x").pfValue,sn=o.pstyle("ghost-offset-y").pfValue,en=o.pstyle("ghost-opacity").value,Bn=en*z;u.translate(ar,sn),We(en*He),Ot(),Dt(Bn,!0),at(en*Ue),Mt(),wt(0!==Pe||0!==xe),Dt(Bn,!1),nt(Bn),u.translate(-ar,-sn)}W&&u.translate(-F.x,-F.y),h&&g.drawNodeUnderlay(u,o,F,w,E),W&&u.translate(F.x,F.y),We(),Ot(),Dt(z,!0),at(),Mt(),wt(0!==Pe||0!==xe),Dt(z,!1),nt(),W&&u.translate(-F.x,-F.y),g.drawElementText(u,o,null,f),h&&g.drawNodeOverlay(u,o,F,w,E),l&&u.translate(re.x1,re.y1)}}},og=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,f,h,p,g){if(f.visible()){var E=f.pstyle("".concat(o,"-padding")).pfValue,x=f.pstyle("".concat(o,"-opacity")).value,M=f.pstyle("".concat(o,"-color")).value,F=f.pstyle("".concat(o,"-shape")).value;if(x>0){if(h=h||f.position(),null==p||null==g){var z=f.padding();p=f.width()+2*z,g=f.height()+2*z}this.colorFillStyle(l,M[0],M[1],M[2],x),this.nodeShapes[F].draw(l,h.x,h.y,p+2*E,g+2*E),l.fill()}}}};zu.drawNodeOverlay=og("overlay"),zu.drawNodeUnderlay=og("underlay"),zu.hasPie=function(u){return(u=u[0])._private.hasPie},zu.drawPie=function(u,o,l,f){o=o[0],f=f||o.position();var h=o.cy().style(),p=o.pstyle("pie-size"),g=f.x,w=f.y,E=o.width(),x=o.height(),M=Math.min(E,x)/2,F=0;this.usePaths()&&(g=0,w=0),"%"===p.units?M*=p.pfValue:void 0!==p.pfValue&&(M=p.pfValue/2);for(var W=1;W<=h.pieBackgroundN;W++){var j=o.pstyle("pie-"+W+"-background-size").value,Z=o.pstyle("pie-"+W+"-background-color").value,J=o.pstyle("pie-"+W+"-background-opacity").value*l,re=j/100;re+F>1&&(re=1-F);var fe=1.5*Math.PI+2*Math.PI*F,ye=fe+2*Math.PI*re;0===j||F>=1||F+re>1||(u.beginPath(),u.moveTo(g,w),u.arc(g,w,M,fe,ye),u.closePath(),this.colorFillStyle(u,Z[0],Z[1],Z[2],J),u.fill(),F+=re)}};for(var xs={getPixelRatio:function(){var u=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(u.backingStorePixelRatio||u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1)},paintCache:function(u){for(var f,o=this.paintCaches=this.paintCaches||[],l=!0,h=0;h<o.length;h++)if((f=o[h]).context===u){l=!1;break}return l&&o.push(f={context:u}),f},createGradientStyleFor:function(u,o,l,f,h){var p,g=this.usePaths(),w=l.pstyle(o+"-gradient-stop-colors").value,E=l.pstyle(o+"-gradient-stop-positions").pfValue;if("radial-gradient"===f)if(l.isEdge()){var x=l.sourceEndpoint(),M=l.targetEndpoint(),F=l.midpoint(),z=zi(x,F),W=zi(M,F);p=u.createRadialGradient(F.x,F.y,0,F.x,F.y,Math.max(z,W))}else{var j=g?{x:0,y:0}:l.position(),Z=l.paddedWidth(),J=l.paddedHeight();p=u.createRadialGradient(j.x,j.y,0,j.x,j.y,Math.max(Z,J))}else if(l.isEdge()){var re=l.sourceEndpoint(),fe=l.targetEndpoint();p=u.createLinearGradient(re.x,re.y,fe.x,fe.y)}else{var he=g?{x:0,y:0}:l.position(),Ae=l.paddedWidth()/2,be=l.paddedHeight()/2;switch(l.pstyle("background-gradient-direction").value){case"to-bottom":p=u.createLinearGradient(he.x,he.y-be,he.x,he.y+be);break;case"to-top":p=u.createLinearGradient(he.x,he.y+be,he.x,he.y-be);break;case"to-left":p=u.createLinearGradient(he.x+Ae,he.y,he.x-Ae,he.y);break;case"to-right":p=u.createLinearGradient(he.x-Ae,he.y,he.x+Ae,he.y);break;case"to-bottom-right":case"to-right-bottom":p=u.createLinearGradient(he.x-Ae,he.y-be,he.x+Ae,he.y+be);break;case"to-top-right":case"to-right-top":p=u.createLinearGradient(he.x-Ae,he.y+be,he.x+Ae,he.y-be);break;case"to-bottom-left":case"to-left-bottom":p=u.createLinearGradient(he.x+Ae,he.y-be,he.x-Ae,he.y+be);break;case"to-top-left":case"to-left-top":p=u.createLinearGradient(he.x+Ae,he.y+be,he.x-Ae,he.y-be)}}if(!p)return null;for(var _e=E.length===w.length,ke=w.length,Pe=0;Pe<ke;Pe++)p.addColorStop(_e?E[Pe]:Pe/(ke-1),"rgba("+w[Pe][0]+","+w[Pe][1]+","+w[Pe][2]+","+h+")");return p},gradientFillStyle:function(u,o,l,f){var h=this.createGradientStyleFor(u,"background",o,l,f);if(!h)return null;u.fillStyle=h},colorFillStyle:function(u,o,l,f,h){u.fillStyle="rgba("+o+","+l+","+f+","+h+")"},eleFillStyle:function(u,o,l){var f=o.pstyle("background-fill").value;if("linear-gradient"===f||"radial-gradient"===f)this.gradientFillStyle(u,o,f,l);else{var h=o.pstyle("background-color").value;this.colorFillStyle(u,h[0],h[1],h[2],l)}},gradientStrokeStyle:function(u,o,l,f){var h=this.createGradientStyleFor(u,"line",o,l,f);if(!h)return null;u.strokeStyle=h},colorStrokeStyle:function(u,o,l,f,h){u.strokeStyle="rgba("+o+","+l+","+f+","+h+")"},eleStrokeStyle:function(u,o,l){var f=o.pstyle("line-fill").value;if("linear-gradient"===f||"radial-gradient"===f)this.gradientStrokeStyle(u,o,f,l);else{var h=o.pstyle("line-color").value;this.colorStrokeStyle(u,h[0],h[1],h[2],l)}},matchCanvasSize:function(u){var o=this,l=o.data,f=o.findContainerClientCoords(),h=f[2],p=f[3],g=o.getPixelRatio();(u===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE]||u===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG])&&(g=o.motionBlurPxRatio);var M,E=h*g,x=p*g;if(E!==o.canvasWidth||x!==o.canvasHeight){o.fontCaches=null;var F=l.canvasContainer;F.style.width=h+"px",F.style.height=p+"px";for(var z=0;z<o.CANVAS_LAYERS;z++)(M=l.canvases[z]).width=E,M.height=x,M.style.width=h+"px",M.style.height=p+"px";for(z=0;z<o.BUFFER_COUNT;z++)(M=l.bufferCanvases[z]).width=E,M.height=x,M.style.width=h+"px",M.style.height=p+"px";o.textureMult=1,g<=1&&(M=l.bufferCanvases[o.TEXTURE_BUFFER],o.textureMult=2,M.width=E*o.textureMult,M.height=x*o.textureMult),o.canvasWidth=E,o.canvasHeight=x}},renderTo:function(u,o,l,f){this.render({forcedContext:u,forcedZoom:o,forcedPan:l,drawAllLayers:!0,forcedPxRatio:f})},render:function(u){var o=(u=u||Tn()).forcedContext,l=u.drawAllLayers,f=u.drawOnlyNodeLayer,h=u.forcedZoom,p=u.forcedPan,g=this,w=void 0===u.forcedPxRatio?this.getPixelRatio():u.forcedPxRatio,E=g.cy,x=g.data,M=x.canvasNeedsRedraw,F=g.textureOnViewport&&!o&&(g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming),z=void 0!==u.motionBlur?u.motionBlur:g.motionBlur,W=g.motionBlurPxRatio,j=E.hasCompoundNodes(),Z=g.hoverData.draggingEles,re=z=z&&!o&&g.motionBlurEnabled&&!(g.hoverData.selecting||g.touchData.selecting);o||(g.prevPxRatio!==w&&(g.invalidateContainerClientCoordsCache(),g.matchCanvasSize(g.container),g.redrawHint("eles",!0),g.redrawHint("drag",!0)),g.prevPxRatio=w),!o&&g.motionBlurTimeout&&clearTimeout(g.motionBlurTimeout),z&&(null==g.mbFrames&&(g.mbFrames=0),g.mbFrames++,g.mbFrames<3&&(re=!1),g.mbFrames>g.minMbLowQualFrames&&(g.motionBlurPxRatio=g.mbPxRBlurry)),g.clearingMotionBlur&&(g.motionBlurPxRatio=1),g.textureDrawLastFrame&&!F&&(M[g.NODE]=!0,M[g.SELECT_BOX]=!0);var fe=E.style(),he=E.zoom(),ye=void 0!==h?h:he,Ie=E.pan(),Ae={x:Ie.x,y:Ie.y},be={zoom:he,pan:{x:Ie.x,y:Ie.y}},Te=g.prevViewport;!(void 0===Te||be.zoom!==Te.zoom||be.pan.x!==Te.pan.x||be.pan.y!==Te.pan.y)&&!(Z&&!j)&&(g.motionBlurPxRatio=1),p&&(Ae=p),ye*=w,Ae.x*=w,Ae.y*=w;var ke=g.getCachedZSortedEles();function Pe(sn,en,Bn,In,cn){var Pn=sn.globalCompositeOperation;sn.globalCompositeOperation="destination-out",g.colorFillStyle(sn,255,255,255,g.motionBlurTransparency),sn.fillRect(en,Bn,In,cn),sn.globalCompositeOperation=Pn}function xe(sn,en){var Bn,In,cn,Pn;g.clearingMotionBlur||sn!==x.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]&&sn!==x.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]?(Bn=Ae,In=ye,cn=g.canvasWidth,Pn=g.canvasHeight):(Bn={x:Ie.x*W,y:Ie.y*W},In=he*W,cn=g.canvasWidth*W,Pn=g.canvasHeight*W),sn.setTransform(1,0,0,1,0,0),"motionBlur"===en?Pe(sn,0,0,cn,Pn):!o&&(void 0===en||en)&&sn.clearRect(0,0,cn,Pn),l||(sn.translate(Bn.x,Bn.y),sn.scale(In,In)),p&&sn.translate(p.x,p.y),h&&sn.scale(h,h)}if(F||(g.textureDrawLastFrame=!1),F){if(g.textureDrawLastFrame=!0,!g.textureCache){g.textureCache={},g.textureCache.bb=E.mutableElements().boundingBox(),g.textureCache.texture=g.data.bufferCanvases[g.TEXTURE_BUFFER];var He=g.data.bufferContexts[g.TEXTURE_BUFFER];He.setTransform(1,0,0,1,0,0),He.clearRect(0,0,g.canvasWidth*g.textureMult,g.canvasHeight*g.textureMult),g.render({forcedContext:He,drawOnlyNodeLayer:!0,forcedPxRatio:w*g.textureMult}),(be=g.textureCache.viewport={zoom:E.zoom(),pan:E.pan(),width:g.canvasWidth,height:g.canvasHeight}).mpan={x:(0-be.pan.x)/be.zoom,y:(0-be.pan.y)/be.zoom}}M[g.DRAG]=!1,M[g.NODE]=!1;var Je=g.textureCache.texture;be=g.textureCache.viewport,(Ne=x.contexts[g.NODE]).setTransform(1,0,0,1,0,0),z?Pe(Ne,0,0,be.width,be.height):Ne.clearRect(0,0,be.width,be.height);var Ue=fe.core("outside-texture-bg-color").value,We=fe.core("outside-texture-bg-opacity").value;g.colorFillStyle(Ne,Ue[0],Ue[1],Ue[2],We),Ne.fillRect(0,0,be.width,be.height),he=E.zoom(),xe(Ne,!1),Ne.clearRect(be.mpan.x,be.mpan.y,be.width/be.zoom/w,be.height/be.zoom/w),Ne.drawImage(Je,be.mpan.x,be.mpan.y,be.width/be.zoom/w,be.height/be.zoom/w)}else g.textureOnViewport&&!o&&(g.textureCache=null);var at=E.extent(),dt=g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming||g.hoverData.draggingEles||g.cy.animated(),bt=g.hideEdgesOnViewport&&dt,lt=[];if(lt[g.NODE]=!M[g.NODE]&&z&&!g.clearedForMotionBlur[g.NODE]||g.clearingMotionBlur,lt[g.NODE]&&(g.clearedForMotionBlur[g.NODE]=!0),lt[g.DRAG]=!M[g.DRAG]&&z&&!g.clearedForMotionBlur[g.DRAG]||g.clearingMotionBlur,lt[g.DRAG]&&(g.clearedForMotionBlur[g.DRAG]=!0),M[g.NODE]||l||f||lt[g.NODE]){var yt=z&&!lt[g.NODE]&&1!==W;xe(Ne=o||(yt?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]:x.contexts[g.NODE]),z&&!yt?"motionBlur":void 0),bt?g.drawCachedNodes(Ne,ke.nondrag,w,at):g.drawLayeredElements(Ne,ke.nondrag,w,at),g.debug&&g.drawDebugPoints(Ne,ke.nondrag),!l&&!z&&(M[g.NODE]=!1)}if(!f&&(M[g.DRAG]||l||lt[g.DRAG])&&(yt=z&&!lt[g.DRAG]&&1!==W,xe(Ne=o||(yt?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]:x.contexts[g.DRAG]),z&&!yt?"motionBlur":void 0),bt?g.drawCachedNodes(Ne,ke.drag,w,at):g.drawCachedElements(Ne,ke.drag,w,at),g.debug&&g.drawDebugPoints(Ne,ke.drag),!l&&!z&&(M[g.DRAG]=!1)),g.showFps||!f&&M[g.SELECT_BOX]&&!l){var Ne;if(xe(Ne=o||x.contexts[g.SELECT_BOX]),1==g.selection[4]&&(g.hoverData.selecting||g.touchData.selecting)){he=g.cy.zoom();var Ot=fe.core("selection-box-border-width").value/he;Ne.lineWidth=Ot,Ne.fillStyle="rgba("+fe.core("selection-box-color").value[0]+","+fe.core("selection-box-color").value[1]+","+fe.core("selection-box-color").value[2]+","+fe.core("selection-box-opacity").value+")",Ne.fillRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]),Ot>0&&(Ne.strokeStyle="rgba("+fe.core("selection-box-border-color").value[0]+","+fe.core("selection-box-border-color").value[1]+","+fe.core("selection-box-border-color").value[2]+","+fe.core("selection-box-opacity").value+")",Ne.strokeRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]))}if(x.bgActivePosistion&&!g.hoverData.selecting){he=g.cy.zoom();var Dt=x.bgActivePosistion;Ne.fillStyle="rgba("+fe.core("active-bg-color").value[0]+","+fe.core("active-bg-color").value[1]+","+fe.core("active-bg-color").value[2]+","+fe.core("active-bg-opacity").value+")",Ne.beginPath(),Ne.arc(Dt.x,Dt.y,fe.core("active-bg-size").pfValue/he,0,2*Math.PI),Ne.fill()}var wt=g.lastRedrawTime;if(g.showFps&&wt){wt=Math.round(wt);var nt=Math.round(1e3/wt);Ne.setTransform(1,0,0,1,0,0),Ne.fillStyle="rgba(255, 0, 0, 0.75)",Ne.strokeStyle="rgba(255, 0, 0, 0.75)",Ne.lineWidth=1,Ne.fillText("1 frame = "+wt+" ms = "+nt+" fps",0,20),Ne.strokeRect(0,30,250,20),Ne.fillRect(0,30,250*Math.min(nt/60,1),20)}l||(M[g.SELECT_BOX]=!1)}if(z&&1!==W){var rn=x.contexts[g.DRAG],Xn=g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_DRAG],ar=function(en,Bn,In){en.setTransform(1,0,0,1,0,0),In||!re?en.clearRect(0,0,g.canvasWidth,g.canvasHeight):Pe(en,0,0,g.canvasWidth,g.canvasHeight),en.drawImage(Bn,0,0,g.canvasWidth*W,g.canvasHeight*W,0,0,g.canvasWidth,g.canvasHeight)};(M[g.NODE]||lt[g.NODE])&&(ar(x.contexts[g.NODE],g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_NODE],lt[g.NODE]),M[g.NODE]=!1),(M[g.DRAG]||lt[g.DRAG])&&(ar(rn,Xn,lt[g.DRAG]),M[g.DRAG]=!1)}g.prevViewport=be,g.clearingMotionBlur&&(g.clearingMotionBlur=!1,g.motionBlurCleared=!0,g.motionBlur=!0),z&&(g.motionBlurTimeout=setTimeout(function(){g.motionBlurTimeout=null,g.clearedForMotionBlur[g.NODE]=!1,g.clearedForMotionBlur[g.DRAG]=!1,g.motionBlur=!1,g.clearingMotionBlur=!F,g.mbFrames=0,M[g.NODE]=!0,M[g.DRAG]=!0,g.redraw()},100)),o||E.emit("render")}},Uu={drawPolygonPath:function(u,o,l,f,h,p){var g=f/2,w=h/2;u.beginPath&&u.beginPath(),u.moveTo(o+g*p[0],l+w*p[1]);for(var E=1;E<p.length/2;E++)u.lineTo(o+g*p[2*E],l+w*p[2*E+1]);u.closePath()},drawRoundPolygonPath:function(u,o,l,f,h,p){var g=f/2,w=h/2,E=hc(f,h);u.beginPath&&u.beginPath();for(var x=0;x<p.length/4;x++){var F,M;M=0===x?p.length-2:4*x-2,F=4*x+2;var z=o+g*p[4*x],W=l+w*p[4*x+1],Z=E/Math.tan(Math.acos(-p[M]*p[F]-p[M+1]*p[F+1])/2),J=z-Z*p[M],re=W-Z*p[M+1],fe=z+Z*p[F],he=W+Z*p[F+1];0===x?u.moveTo(J,re):u.lineTo(J,re),u.arcTo(z,W,fe,he,E)}u.closePath()},drawRoundRectanglePath:function(u,o,l,f,h){var p=f/2,g=h/2,w=xu(f,h);u.beginPath&&u.beginPath(),u.moveTo(o,l-g),u.arcTo(o+p,l-g,o+p,l,w),u.arcTo(o+p,l+g,o,l+g,w),u.arcTo(o-p,l+g,o-p,l,w),u.arcTo(o-p,l-g,o,l-g,w),u.lineTo(o,l-g),u.closePath()},drawBottomRoundRectanglePath:function(u,o,l,f,h){var p=f/2,g=h/2,w=xu(f,h);u.beginPath&&u.beginPath(),u.moveTo(o,l-g),u.lineTo(o+p,l-g),u.lineTo(o+p,l),u.arcTo(o+p,l+g,o,l+g,w),u.arcTo(o-p,l+g,o-p,l,w),u.lineTo(o-p,l-g),u.lineTo(o,l-g),u.closePath()},drawCutRectanglePath:function(u,o,l,f,h){var p=f/2,g=h/2;u.beginPath&&u.beginPath(),u.moveTo(o-p+8,l-g),u.lineTo(o+p-8,l-g),u.lineTo(o+p,l-g+8),u.lineTo(o+p,l+g-8),u.lineTo(o+p-8,l+g),u.lineTo(o-p+8,l+g),u.lineTo(o-p,l+g-8),u.lineTo(o-p,l-g+8),u.closePath()},drawBarrelPath:function(u,o,l,f,h){var p=f/2,g=h/2,w=o-p,E=o+p,x=l-g,M=l+g,F=gh(f,h),z=F.widthOffset,W=F.heightOffset,j=F.ctrlPtOffsetPct*z;u.beginPath&&u.beginPath(),u.moveTo(w,x+W),u.lineTo(w,M-W),u.quadraticCurveTo(w+j,M,w+z,M),u.lineTo(E-z,M),u.quadraticCurveTo(E-j,M,E,M-W),u.lineTo(E,x+W),u.quadraticCurveTo(E-j,x,E-z,x),u.lineTo(w+z,x),u.quadraticCurveTo(w+j,x,w,x+W),u.closePath()}},qd=Math.sin(0),Om=Math.cos(0),ag={},$f={},Yh=Math.PI/40,na=0*Math.PI;na<2*Math.PI;na+=Yh)ag[na]=Math.sin(na),$f[na]=Math.cos(na);Uu.drawEllipsePath=function(u,o,l,f,h){if(u.beginPath&&u.beginPath(),u.ellipse)u.ellipse(o,l,f/2,h/2,0,0,2*Math.PI);else for(var p,g,w=f/2,E=h/2,x=0*Math.PI;x<2*Math.PI;x+=Yh)p=o-w*ag[x]*qd+w*$f[x]*Om,g=l+E*$f[x]*qd+E*ag[x]*Om,0===x?u.moveTo(p,g):u.lineTo(p,g);u.closePath()};var Xh={};function Ay(u){var o=u.indexOf(",");return u.substr(o+1)}function Nm(u,o,l){var f=function(){return o.toDataURL(l,u.quality)};switch(u.output){case"blob-promise":return new gs(function(h,p){try{o.toBlob(function(g){null!=g?h(g):p(new Error("`canvas.toBlob()` sent a null value in its callback"))},l,u.quality)}catch(g){p(g)}});case"blob":return function w_(u,o){for(var l=atob(u),f=new ArrayBuffer(l.length),h=new Uint8Array(f),p=0;p<l.length;p++)h[p]=l.charCodeAt(p);return new Blob([f],{type:o})}(Ay(f()),l);case"base64":return Ay(f());default:return f()}}Xh.createBuffer=function(u,o){var l=document.createElement("canvas");return l.width=u,l.height=o,[l,l.getContext("2d")]},Xh.bufferCanvasImage=function(u){var o=this.cy,f=o.mutableElements().boundingBox(),h=this.findContainerClientCoords(),p=u.full?Math.ceil(f.w):h[2],g=u.full?Math.ceil(f.h):h[3],w=Qe(u.maxWidth)||Qe(u.maxHeight),E=this.getPixelRatio(),x=1;if(void 0!==u.scale)p*=u.scale,g*=u.scale,x=u.scale;else if(w){var M=1/0,F=1/0;Qe(u.maxWidth)&&(M=x*u.maxWidth/p),Qe(u.maxHeight)&&(F=x*u.maxHeight/g),p*=x=Math.min(M,F),g*=x}w||(p*=E,g*=E,x*=E);var z=document.createElement("canvas");z.width=p,z.height=g,z.style.width=p+"px",z.style.height=g+"px";var W=z.getContext("2d");if(p>0&&g>0){W.clearRect(0,0,p,g),W.globalCompositeOperation="source-over";var j=this.getCachedZSortedEles();if(u.full)W.translate(-f.x1*x,-f.y1*x),W.scale(x,x),this.drawElements(W,j),W.scale(1/x,1/x),W.translate(f.x1*x,f.y1*x);else{var Z=o.pan(),J={x:Z.x*x,y:Z.y*x};x*=o.zoom(),W.translate(J.x,J.y),W.scale(x,x),this.drawElements(W,j),W.scale(1/x,1/x),W.translate(-J.x,-J.y)}u.bg&&(W.globalCompositeOperation="destination-over",W.fillStyle=u.bg,W.rect(0,0,p,g),W.fill())}return z},Xh.png=function(u){return Nm(u,this.bufferCanvasImage(u),"image/png")},Xh.jpg=function(u){return Nm(u,this.bufferCanvasImage(u),"image/jpeg")};var C_=Oy,ri=Oy.prototype;function Oy(u){var o=this;o.data={canvases:new Array(ri.CANVAS_LAYERS),contexts:new Array(ri.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ri.CANVAS_LAYERS),bufferCanvases:new Array(ri.BUFFER_COUNT),bufferContexts:new Array(ri.CANVAS_LAYERS)};var l="-webkit-tap-highlight-color",f="rgba(0,0,0,0)";o.data.canvasContainer=document.createElement("div");var h=o.data.canvasContainer.style;o.data.canvasContainer.style[l]=f,h.position="relative",h.zIndex="0",h.overflow="hidden";var p=u.cy.container();p.appendChild(o.data.canvasContainer),p.style[l]=f;var g={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};ie&&ie.userAgent.match(/msie|trident|edge/i)&&(g["-ms-touch-action"]="none",g["touch-action"]="none");for(var w=0;w<ri.CANVAS_LAYERS;w++){var E=o.data.canvases[w]=document.createElement("canvas");o.data.contexts[w]=E.getContext("2d"),Object.keys(g).forEach(function(wt){E.style[wt]=g[wt]}),E.style.position="absolute",E.setAttribute("data-id","layer"+w),E.style.zIndex=String(ri.CANVAS_LAYERS-w),o.data.canvasContainer.appendChild(E),o.data.canvasNeedsRedraw[w]=!1}for(o.data.topCanvas=o.data.canvases[0],o.data.canvases[ri.NODE].setAttribute("data-id","layer"+ri.NODE+"-node"),o.data.canvases[ri.SELECT_BOX].setAttribute("data-id","layer"+ri.SELECT_BOX+"-selectbox"),o.data.canvases[ri.DRAG].setAttribute("data-id","layer"+ri.DRAG+"-drag"),w=0;w<ri.BUFFER_COUNT;w++)o.data.bufferCanvases[w]=document.createElement("canvas"),o.data.bufferContexts[w]=o.data.bufferCanvases[w].getContext("2d"),o.data.bufferCanvases[w].style.position="absolute",o.data.bufferCanvases[w].setAttribute("data-id","buffer"+w),o.data.bufferCanvases[w].style.zIndex=String(-w-1),o.data.bufferCanvases[w].style.visibility="hidden";o.pathsEnabled=!0;var x=Mi(),F=function(nt){return{x:-nt.w/2,y:-nt.h/2}},Ie=function(nt){return nt.boundingBox(),nt[0]._private.bodyBounds},Ae=function(nt){return nt.boundingBox(),nt[0]._private.labelBounds.main||x},be=function(nt){return nt.boundingBox(),nt[0]._private.labelBounds.source||x},Te=function(nt){return nt.boundingBox(),nt[0]._private.labelBounds.target||x},_e=function(nt,Mt){return Mt},Pe=function(nt,Mt,Nt){var Yt=nt?nt+"-":"";return{x:Mt.x+Nt.pstyle(Yt+"text-margin-x").pfValue,y:Mt.y+Nt.pstyle(Yt+"text-margin-y").pfValue}},xe=function(nt,Mt,Nt){var Yt=nt[0]._private.rscratch;return{x:Yt[Mt],y:Yt[Nt]}},bt=o.data.eleTxrCache=new os(o,{getKey:function(nt){return nt[0]._private.nodeKey},doesEleInvalidateKey:function(nt){var Mt=nt[0]._private;return!(Mt.oldBackgroundTimestamp===Mt.backgroundTimestamp)},drawElement:function(nt,Mt,Nt,Yt,rn){return o.drawElement(nt,Mt,Nt,!1,!1,rn)},getBoundingBox:Ie,getRotationPoint:function(nt){return function(nt){return{x:(nt.x1+nt.x2)/2,y:(nt.y1+nt.y2)/2}}(Ie(nt))},getRotationOffset:function(nt){return F(Ie(nt))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),lt=o.data.lblTxrCache=new os(o,{getKey:function(nt){return nt[0]._private.labelStyleKey},drawElement:function(nt,Mt,Nt,Yt,rn){return o.drawElementText(nt,Mt,Nt,Yt,"main",rn)},getBoundingBox:Ae,getRotationPoint:function(nt){return Pe("",xe(nt,"labelX","labelY"),nt)},getRotationOffset:function(nt){var Mt=Ae(nt),Nt=F(Ae(nt));if(nt.isNode()){switch(nt.pstyle("text-halign").value){case"left":Nt.x=-Mt.w;break;case"right":Nt.x=0}switch(nt.pstyle("text-valign").value){case"top":Nt.y=-Mt.h;break;case"bottom":Nt.y=0}}return Nt},isVisible:_e}),yt=o.data.slbTxrCache=new os(o,{getKey:function(nt){return nt[0]._private.sourceLabelStyleKey},drawElement:function(nt,Mt,Nt,Yt,rn){return o.drawElementText(nt,Mt,Nt,Yt,"source",rn)},getBoundingBox:be,getRotationPoint:function(nt){return Pe("source",xe(nt,"sourceLabelX","sourceLabelY"),nt)},getRotationOffset:function(nt){return F(be(nt))},isVisible:_e}),At=o.data.tlbTxrCache=new os(o,{getKey:function(nt){return nt[0]._private.targetLabelStyleKey},drawElement:function(nt,Mt,Nt,Yt,rn){return o.drawElementText(nt,Mt,Nt,Yt,"target",rn)},getBoundingBox:Te,getRotationPoint:function(nt){return Pe("target",xe(nt,"targetLabelX","targetLabelY"),nt)},getRotationOffset:function(nt){return F(Te(nt))},isVisible:_e}),Ot=o.data.lyrTxrCache=new p_(o);o.onUpdateEleCalcs(function(nt,Mt){bt.invalidateElements(Mt),lt.invalidateElements(Mt),yt.invalidateElements(Mt),At.invalidateElements(Mt),Ot.invalidateElements(Mt);for(var Nt=0;Nt<Mt.length;Nt++){var Yt=Mt[Nt]._private;Yt.oldBackgroundTimestamp=Yt.backgroundTimestamp}});var Dt=function(nt){for(var Mt=0;Mt<nt.length;Mt++)Ot.enqueueElementRefinement(nt[Mt].ele)};bt.onDequeue(Dt),lt.onDequeue(Dt),yt.onDequeue(Dt),At.onDequeue(Dt)}ri.CANVAS_LAYERS=3,ri.SELECT_BOX=0,ri.DRAG=1,ri.NODE=2,ri.BUFFER_COUNT=3,ri.TEXTURE_BUFFER=0,ri.MOTIONBLUR_BUFFER_NODE=1,ri.MOTIONBLUR_BUFFER_DRAG=2,ri.redrawHint=function(u,o){var l=this;switch(u){case"eles":l.data.canvasNeedsRedraw[ri.NODE]=o;break;case"drag":l.data.canvasNeedsRedraw[ri.DRAG]=o;break;case"select":l.data.canvasNeedsRedraw[ri.SELECT_BOX]=o}};var Ny=typeof Path2D<"u";ri.path2dEnabled=function(u){if(void 0===u)return this.pathsEnabled;this.pathsEnabled=!!u},ri.usePaths=function(){return Ny&&this.pathsEnabled},ri.setImgSmoothing=function(u,o){null!=u.imageSmoothingEnabled?u.imageSmoothingEnabled=o:(u.webkitImageSmoothingEnabled=o,u.mozImageSmoothingEnabled=o,u.msImageSmoothingEnabled=o)},ri.getImgSmoothing=function(u){return null!=u.imageSmoothingEnabled?u.imageSmoothingEnabled:u.webkitImageSmoothingEnabled||u.mozImageSmoothingEnabled||u.msImageSmoothingEnabled},ri.makeOffscreenCanvas=function(u,o){var l;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":H(OffscreenCanvas))?l=new OffscreenCanvas(u,o):((l=document.createElement("canvas")).width=u,l.height=o),l},[$h,su,Lc,My,Wf,zu,xs,Uu,Xh,{nodeShapeImpl:function(u,o,l,f,h,p,g){switch(u){case"ellipse":return this.drawEllipsePath(o,l,f,h,p);case"polygon":return this.drawPolygonPath(o,l,f,h,p,g);case"round-polygon":return this.drawRoundPolygonPath(o,l,f,h,p,g);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(o,l,f,h,p);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(o,l,f,h,p);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(o,l,f,h,p);case"barrel":return this.drawBarrelPath(o,l,f,h,p)}}}].forEach(function(u){kn(ri,u)});var E_=[{type:"layout",extensions:ng},{type:"renderer",extensions:[{name:"null",impl:Ii},{name:"base",impl:Mn},{name:"canvas",impl:C_}]}],as={},lg={};function Rm(u,o,l){var f=l,h=function(Te){Ir("Can not register `"+o+"` for `"+u+"` since `"+Te+"` already exists in the prototype and can not be overridden")};if("core"===u){if(ws.prototype[o])return h(o);ws.prototype[o]=l}else if("collection"===u){if(fo.prototype[o])return h(o);fo.prototype[o]=l}else if("layout"===u){for(var p=function(Te){this.options=Te,l.call(this,Te),Ze(this._private)||(this._private={}),this._private.cy=Te.cy,this._private.listeners=[],this.createEmitter()},g=p.prototype=Object.create(l.prototype),w=[],E=0;E<w.length;E++){var x=w[E];g[x]=g[x]||function(){return this}}g.start&&!g.run?g.run=function(){return this.start(),this}:!g.start&&g.run&&(g.start=function(){return this.run(),this});var M=l.prototype.stop;g.stop=function(){var be=this.options;if(be&&be.animate){var Te=this.animations;if(Te)for(var _e=0;_e<Te.length;_e++)Te[_e].stop()}return M?M.call(this):this.emit("layoutstop"),this},g.destroy||(g.destroy=function(){return this}),g.cy=function(){return this._private.cy};var F=function(Te){return Te._private.cy},z={addEventFields:function(Te,_e){_e.layout=Te,_e.cy=F(Te),_e.target=Te},bubble:function(){return!0},parent:function(Te){return F(Te)}};kn(g,{createEmitter:function(){return this._private.emitter=new ji(z,this),this},emitter:function(){return this._private.emitter},on:function(Te,_e){return this.emitter().on(Te,_e),this},one:function(Te,_e){return this.emitter().one(Te,_e),this},once:function(Te,_e){return this.emitter().one(Te,_e),this},removeListener:function(Te,_e){return this.emitter().removeListener(Te,_e),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(Te,_e){return this.emitter().emit(Te,_e),this}}),dr.eventAliasesOn(g),f=p}else if("renderer"===u&&"null"!==o&&"base"!==o){var W=ug("renderer","base"),j=W.prototype,Z=l,J=l.prototype,re=function(){W.apply(this,arguments),Z.apply(this,arguments)},fe=re.prototype;for(var he in j){var ye=j[he];if(null!=J[he])return h(he);fe[he]=ye}for(var Ae in J)fe[Ae]=J[Ae];j.clientFunctions.forEach(function(be){fe[be]=fe[be]||function(){oi("Renderer does not implement `renderer."+be+"()` on its prototype")}}),f=re}else if("__proto__"===u||"constructor"===u||"prototype"===u)return oi(u+" is an illegal type to be registered, possibly lead to prototype pollutions");return Sn({map:as,keys:[u,o],value:f})}function ug(u,o){return ya({map:as,keys:[u,o]})}function za(u,o,l,f,h){return Sn({map:lg,keys:[u,o,l,f],value:h})}function Kh(u,o,l,f){return ya({map:lg,keys:[u,o,l,f]})}var cg=function(){return 2===arguments.length?ug.apply(null,arguments):3===arguments.length?Rm.apply(null,arguments):4===arguments.length?Kh.apply(null,arguments):5===arguments.length?za.apply(null,arguments):void oi("Invalid extension access syntax")};ws.prototype.extension=cg,E_.forEach(function(u){u.extensions.forEach(function(o){Rm(u.type,o.name,o.impl)})});var km=function u(){if(!(this instanceof u))return new u;this.length=0},Zd=km.prototype;Zd.instanceString=function(){return"stylesheet"},Zd.selector=function(u){return this[this.length++]={selector:u,properties:[]},this},Zd.css=function(u,o){var l=this.length-1;if(Be(u))this[l].properties.push({name:u,value:o});else if(Ze(u))for(var f=u,h=Object.keys(f),p=0;p<h.length;p++){var g=h[p],w=f[g];if(null!=w){var E=Jo.properties[g]||Jo.properties[Dn(g)];null!=E&&this[l].properties.push({name:E.name,value:w})}}return this},Zd.style=Zd.css,Zd.generateStyle=function(u){var o=new Jo(u);return this.appendToStyle(o)},Zd.appendToStyle=function(u){for(var o=0;o<this.length;o++){var l=this[o],h=l.properties;u.selector(l.selector);for(var p=0;p<h.length;p++){var g=h[p];u.css(g.name,g.value)}}return u};var Qd=function(o){return void 0===o&&(o={}),Ze(o)?new ws(o):Be(o)?cg.apply(cg,arguments):void 0};Qd.use=function(u){var o=Array.prototype.slice.call(arguments,1);return o.unshift(Qd),u.apply(null,o),this},Qd.warnings=function(u){return Ra(u)},Qd.version="3.25.0",Qd.stylesheet=Qd.Stylesheet=km,Y.exports=Qd},8767:(Y,se,D)=>{Y.exports={graphlib:D(5849),layout:D(4395),debug:D(4232),util:{time:D(9505).time,notime:D(9505).notime},version:D(2187)}},1791:(Y,se,D)=>{"use strict";var T=D(3990),P=D(5123);Y.exports={run:function N(S){var R="greedy"===S.graph().acyclicer?P(S,function A(V){return function(L){return V.edge(L).weight}}(S)):function I(S){var R=[],A={},V={};return T.forEach(S.nodes(),function L(k){T.has(V,k)||(V[k]=!0,A[k]=!0,T.forEach(S.outEdges(k),function(H){T.has(A,H.w)?R.push(H):L(H.w)}),delete A[k])}),R}(S);T.forEach(R,function(V){var L=S.edge(V);S.removeEdge(V),L.forwardName=V.name,L.reversed=!0,S.setEdge(V.w,V.v,L,T.uniqueId("rev"))})},undo:function C(S){T.forEach(S.edges(),function(R){var A=S.edge(R);if(A.reversed){S.removeEdge(R);var V=A.forwardName;delete A.reversed,delete A.forwardName,S.setEdge(R.w,R.v,A,V)}})}}},7130:(Y,se,D)=>{var T=D(3990),P=D(9505);function I(C,S,R,A,V,L){var H=V[S][L-1],$=P.addDummyNode(C,"border",{width:0,height:0,rank:L,borderType:S},R);V[S][L]=$,C.setParent($,A),H&&C.setEdge(H,$,{weight:1})}Y.exports=function N(C){T.forEach(C.children(),function S(R){var A=C.children(R),V=C.node(R);if(A.length&&T.forEach(A,S),T.has(V,"minRank")){V.borderLeft=[],V.borderRight=[];for(var L=V.minRank,k=V.maxRank+1;L<k;++L)I(C,"borderLeft","_bl",R,V,L),I(C,"borderRight","_br",R,V,L)}})}},1048:(Y,se,D)=>{"use strict";var T=D(3990);function I(L){T.forEach(L.nodes(),function(k){C(L.node(k))}),T.forEach(L.edges(),function(k){C(L.edge(k))})}function C(L){var k=L.width;L.width=L.height,L.height=k}function R(L){L.y=-L.y}function V(L){var k=L.x;L.x=L.y,L.y=k}Y.exports={adjust:function P(L){var k=L.graph().rankdir.toLowerCase();("lr"===k||"rl"===k)&&I(L)},undo:function N(L){var k=L.graph().rankdir.toLowerCase();("bt"===k||"rl"===k)&&function S(L){T.forEach(L.nodes(),function(k){R(L.node(k))}),T.forEach(L.edges(),function(k){var H=L.edge(k);T.forEach(H.points,R),T.has(H,"y")&&R(H)})}(L),("lr"===k||"rl"===k)&&(function A(L){T.forEach(L.nodes(),function(k){V(L.node(k))}),T.forEach(L.edges(),function(k){var H=L.edge(k);T.forEach(H.points,V),T.has(H,"x")&&V(H)})}(L),I(L))}}},4312:Y=>{function se(){var P={};P._next=P._prev=P,this._sentinel=P}function D(P){P._prev._next=P._next,P._next._prev=P._prev,delete P._next,delete P._prev}function T(P,N){if("_next"!==P&&"_prev"!==P)return N}Y.exports=se,se.prototype.dequeue=function(){var P=this._sentinel,N=P._prev;if(N!==P)return D(N),N},se.prototype.enqueue=function(P){var N=this._sentinel;P._prev&&P._next&&D(P),P._next=N._next,N._next._prev=P,N._next=P,P._prev=N},se.prototype.toString=function(){for(var P=[],N=this._sentinel,I=N._prev;I!==N;)P.push(JSON.stringify(I,T)),I=I._prev;return"["+P.join(", ")+"]"}},4232:(Y,se,D)=>{var T=D(3990),P=D(9505),N=D(5849).Graph;Y.exports={debugOrdering:function I(C){var S=P.buildLayerMatrix(C),R=new N({compound:!0,multigraph:!0}).setGraph({});return T.forEach(C.nodes(),function(A){R.setNode(A,{label:A}),R.setParent(A,"layer"+C.node(A).rank)}),T.forEach(C.edges(),function(A){R.setEdge(A.v,A.w,{},A.name)}),T.forEach(S,function(A,V){R.setNode("layer"+V,{rank:"same"}),T.reduce(A,function(k,H){return R.setEdge(k,H,{style:"invis"}),H})}),R}}},5849:(Y,se,D)=>{var T;try{T=D(9034)}catch{}T||(T=window.graphlib),Y.exports=T},5123:(Y,se,D)=>{var T=D(3990),P=D(5849).Graph,N=D(4312);Y.exports=function C(L,k){if(L.nodeCount()<=1)return[];var H=function A(L,k){var H=new P,$=0,Q=0;T.forEach(L.nodes(),function(le){H.setNode(le,{v:le,in:0,out:0})}),T.forEach(L.edges(),function(le){var ae=H.edge(le.v,le.w)||0,de=k(le);H.setEdge(le.v,le.w,ae+de),Q=Math.max(Q,H.node(le.v).out+=de),$=Math.max($,H.node(le.w).in+=de)});var ue=T.range(Q+$+3).map(function(){return new N}),ne=$+1;return T.forEach(H.nodes(),function(le){V(ue,ne,H.node(le))}),{graph:H,buckets:ue,zeroIdx:ne}}(L,k||I),$=function S(L,k,H){for(var ne,$=[],Q=k[k.length-1],ue=k[0];L.nodeCount();){for(;ne=ue.dequeue();)R(L,k,H,ne);for(;ne=Q.dequeue();)R(L,k,H,ne);if(L.nodeCount())for(var le=k.length-2;le>0;--le)if(ne=k[le].dequeue()){$=$.concat(R(L,k,H,ne,!0));break}}return $}(H.graph,H.buckets,H.zeroIdx);return T.flatten(T.map($,function(Q){return L.outEdges(Q.v,Q.w)}),!0)};var I=T.constant(1);function R(L,k,H,$,Q){var ue=Q?[]:void 0;return T.forEach(L.inEdges($.v),function(ne){var le=L.edge(ne),ae=L.node(ne.v);Q&&ue.push({v:ne.v,w:ne.w}),ae.out-=le,V(k,H,ae)}),T.forEach(L.outEdges($.v),function(ne){var le=L.edge(ne),de=L.node(ne.w);de.in-=le,V(k,H,de)}),L.removeNode($.v),ue}function V(L,k,H){H.out?H.in?L[H.out-H.in+k].enqueue(H):L[L.length-1].enqueue(H):L[0].enqueue(H)}},4395:(Y,se,D)=>{"use strict";var T=D(3990),P=D(1791),N=D(1684),I=D(3752),C=D(9505).normalizeRanks,S=D(1250),R=D(9505).removeEmptyRanks,A=D(4525),V=D(7130),L=D(1048),k=D(1574),H=D(6403),$=D(9505),Q=D(5849).Graph;Y.exports=function ue(ut,it){var pt=it&&it.debugTiming?$.time:$.notime;pt("layout",function(){var Ft=pt("  buildLayoutGraph",function(){return function we(ut){var it=new Q({multigraph:!0,compound:!0}),pt=hn(ut.graph());return it.setGraph(T.merge({},de,bn(pt,ae),T.pick(pt,te))),T.forEach(ut.nodes(),function(Ft){var St=hn(ut.node(Ft));it.setNode(Ft,T.defaults(bn(St,pe),q)),it.setParent(Ft,ut.parent(Ft))}),T.forEach(ut.edges(),function(Ft){var St=hn(ut.edge(Ft));it.setEdge(Ft,T.merge({},ie,bn(St,oe),T.pick(St,me)))}),it}(ut)});pt("  runLayout",function(){!function ne(ut,it){it("    makeSpaceForEdgeLabels",function(){!function Se(ut){var it=ut.graph();it.ranksep/=2,T.forEach(ut.edges(),function(pt){var Ft=ut.edge(pt);Ft.minlen*=2,"c"!==Ft.labelpos.toLowerCase()&&("TB"===it.rankdir||"BT"===it.rankdir?Ft.width+=Ft.labeloffset:Ft.height+=Ft.labeloffset)})}(ut)}),it("    removeSelfEdges",function(){!function Zt(ut){T.forEach(ut.edges(),function(it){if(it.v===it.w){var pt=ut.node(it.v);pt.selfEdges||(pt.selfEdges=[]),pt.selfEdges.push({e:it,label:ut.edge(it)}),ut.removeEdge(it)}})}(ut)}),it("    acyclic",function(){P.run(ut)}),it("    nestingGraph.run",function(){A.run(ut)}),it("    rank",function(){I($.asNonCompoundGraph(ut))}),it("    injectEdgeLabelProxies",function(){!function De(ut){T.forEach(ut.edges(),function(it){var pt=ut.edge(it);if(pt.width&&pt.height){var Ft=ut.node(it.v),St=ut.node(it.w);$.addDummyNode(ut,"edge-proxy",{rank:(St.rank-Ft.rank)/2+Ft.rank,e:it},"_ep")}})}(ut)}),it("    removeEmptyRanks",function(){R(ut)}),it("    nestingGraph.cleanup",function(){A.cleanup(ut)}),it("    normalizeRanks",function(){C(ut)}),it("    assignRankMinMax",function(){!function ze(ut){var it=0;T.forEach(ut.nodes(),function(pt){var Ft=ut.node(pt);Ft.borderTop&&(Ft.minRank=ut.node(Ft.borderTop).rank,Ft.maxRank=ut.node(Ft.borderBottom).rank,it=T.max(it,Ft.maxRank))}),ut.graph().maxRank=it}(ut)}),it("    removeEdgeLabelProxies",function(){!function Be(ut){T.forEach(ut.nodes(),function(it){var pt=ut.node(it);"edge-proxy"===pt.dummy&&(ut.edge(pt.e).labelRank=pt.rank,ut.removeNode(it))})}(ut)}),it("    normalize.run",function(){N.run(ut)}),it("    parentDummyChains",function(){S(ut)}),it("    addBorderSegments",function(){V(ut)}),it("    order",function(){k(ut)}),it("    insertSelfEdges",function(){!function zt(ut){var it=$.buildLayerMatrix(ut);T.forEach(it,function(pt){var Ft=0;T.forEach(pt,function(St,Kn){var Jn=ut.node(St);Jn.order=Kn+Ft,T.forEach(Jn.selfEdges,function(Mr){$.addDummyNode(ut,"selfedge",{width:Mr.label.width,height:Mr.label.height,rank:Jn.rank,order:Kn+ ++Ft,e:Mr.e,label:Mr.label},"_se")}),delete Jn.selfEdges})})}(ut)}),it("    adjustCoordinateSystem",function(){L.adjust(ut)}),it("    position",function(){H(ut)}),it("    positionSelfEdges",function(){!function It(ut){T.forEach(ut.nodes(),function(it){var pt=ut.node(it);if("selfedge"===pt.dummy){var Ft=ut.node(pt.e.v),St=Ft.x+Ft.width/2,Kn=Ft.y,Jn=pt.x-St,Mr=Ft.height/2;ut.setEdge(pt.e,pt.label),ut.removeNode(it),pt.label.points=[{x:St+2*Jn/3,y:Kn-Mr},{x:St+5*Jn/6,y:Kn-Mr},{x:St+Jn,y:Kn},{x:St+5*Jn/6,y:Kn+Mr},{x:St+2*Jn/3,y:Kn+Mr}],pt.label.x=pt.x,pt.label.y=pt.y}})}(ut)}),it("    removeBorderNodes",function(){!function Qe(ut){T.forEach(ut.nodes(),function(it){if(ut.children(it).length){var pt=ut.node(it),Ft=ut.node(pt.borderTop),St=ut.node(pt.borderBottom),Kn=ut.node(T.last(pt.borderLeft)),Jn=ut.node(T.last(pt.borderRight));pt.width=Math.abs(Jn.x-Kn.x),pt.height=Math.abs(St.y-Ft.y),pt.x=Kn.x+pt.width/2,pt.y=Ft.y+pt.height/2}}),T.forEach(ut.nodes(),function(it){"border"===ut.node(it).dummy&&ut.removeNode(it)})}(ut)}),it("    normalize.undo",function(){N.undo(ut)}),it("    fixupEdgeLabelCoords",function(){!function Ze(ut){T.forEach(ut.edges(),function(it){var pt=ut.edge(it);if(T.has(pt,"x"))switch(("l"===pt.labelpos||"r"===pt.labelpos)&&(pt.width-=pt.labeloffset),pt.labelpos){case"l":pt.x-=pt.width/2+pt.labeloffset;break;case"r":pt.x+=pt.width/2+pt.labeloffset}})}(ut)}),it("    undoCoordinateSystem",function(){L.undo(ut)}),it("    translateGraph",function(){!function st(ut){var it=Number.POSITIVE_INFINITY,pt=0,Ft=Number.POSITIVE_INFINITY,St=0,Kn=ut.graph(),Jn=Kn.marginx||0,Mr=Kn.marginy||0;function Lr(Er){var Dn=Er.x,zn=Er.y,qr=Er.width,pn=Er.height;it=Math.min(it,Dn-qr/2),pt=Math.max(pt,Dn+qr/2),Ft=Math.min(Ft,zn-pn/2),St=Math.max(St,zn+pn/2)}T.forEach(ut.nodes(),function(Er){Lr(ut.node(Er))}),T.forEach(ut.edges(),function(Er){var Dn=ut.edge(Er);T.has(Dn,"x")&&Lr(Dn)}),it-=Jn,Ft-=Mr,T.forEach(ut.nodes(),function(Er){var Dn=ut.node(Er);Dn.x-=it,Dn.y-=Ft}),T.forEach(ut.edges(),function(Er){var Dn=ut.edge(Er);T.forEach(Dn.points,function(zn){zn.x-=it,zn.y-=Ft}),T.has(Dn,"x")&&(Dn.x-=it),T.has(Dn,"y")&&(Dn.y-=Ft)}),Kn.width=pt-it+Jn,Kn.height=St-Ft+Mr}(ut)}),it("    assignNodeIntersects",function(){!function ht(ut){T.forEach(ut.edges(),function(it){var Kn,Jn,pt=ut.edge(it),Ft=ut.node(it.v),St=ut.node(it.w);pt.points?(Kn=pt.points[0],Jn=pt.points[pt.points.length-1]):(pt.points=[],Kn=St,Jn=Ft),pt.points.unshift($.intersectRect(Ft,Kn)),pt.points.push($.intersectRect(St,Jn))})}(ut)}),it("    reversePoints",function(){!function Ct(ut){T.forEach(ut.edges(),function(it){var pt=ut.edge(it);pt.reversed&&pt.points.reverse()})}(ut)}),it("    acyclic.undo",function(){P.undo(ut)})}(Ft,pt)}),pt("  updateInputGraph",function(){!function le(ut,it){T.forEach(ut.nodes(),function(pt){var Ft=ut.node(pt),St=it.node(pt);Ft&&(Ft.x=St.x,Ft.y=St.y,it.children(pt).length&&(Ft.width=St.width,Ft.height=St.height))}),T.forEach(ut.edges(),function(pt){var Ft=ut.edge(pt),St=it.edge(pt);Ft.points=St.points,T.has(St,"x")&&(Ft.x=St.x,Ft.y=St.y)}),ut.graph().width=it.graph().width,ut.graph().height=it.graph().height}(ut,Ft)})})};var ae=["nodesep","edgesep","ranksep","marginx","marginy"],de={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},te=["acyclicer","ranker","rankdir","align"],pe=["width","height"],q={width:0,height:0},oe=["minlen","weight","width","height","labeloffset"],ie={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},me=["labelpos"];function bn(ut,it){return T.mapValues(T.pick(ut,it),Number)}function hn(ut){var it={};return T.forEach(ut,function(pt,Ft){it[Ft.toLowerCase()]=pt}),it}},3990:(Y,se,D)=>{var T;try{T={cloneDeep:D(4451),constant:D(1075),defaults:D(5433),each:D(6488),filter:D(7661),find:D(6177),flatten:D(9336),forEach:D(7170),forIn:D(1658),has:D(8669),isUndefined:D(8152),last:D(2819),map:D(8921),mapValues:D(6054),max:D(5664),merge:D(2213),min:D(1007),minBy:D(50),now:D(5533),pick:D(7607),range:D(5953),reduce:D(5909),sortBy:D(7184),uniqueId:D(4538),values:D(8808),zipObject:D(4606)}}catch{}T||(T=window._),Y.exports=T},4525:(Y,se,D)=>{var T=D(3990),P=D(9505);function I(A,V,L,k,H,$,Q){var ue=A.children(Q);if(ue.length){var ne=P.addBorderNode(A,"_bt"),le=P.addBorderNode(A,"_bb"),ae=A.node(Q);A.setParent(ne,Q),ae.borderTop=ne,A.setParent(le,Q),ae.borderBottom=le,T.forEach(ue,function(de){I(A,V,L,k,H,$,de);var te=A.node(de),pe=te.borderTop?te.borderTop:de,q=te.borderBottom?te.borderBottom:de,oe=te.borderTop?k:2*k,ie=pe!==q?1:H-$[Q]+1;A.setEdge(ne,pe,{weight:oe,minlen:ie,nestingEdge:!0}),A.setEdge(q,le,{weight:oe,minlen:ie,nestingEdge:!0})}),A.parent(Q)||A.setEdge(V,ne,{weight:0,minlen:H+$[Q]})}else Q!==V&&A.setEdge(V,Q,{weight:0,minlen:L})}Y.exports={run:function N(A){var V=P.addDummyNode(A,"root",{},"_root"),L=function C(A){var V={};function L(k,H){var $=A.children(k);$&&$.length&&T.forEach($,function(Q){L(Q,H+1)}),V[k]=H}return T.forEach(A.children(),function(k){L(k,1)}),V}(A),k=T.max(T.values(L))-1,H=2*k+1;A.graph().nestingRoot=V,T.forEach(A.edges(),function(Q){A.edge(Q).minlen*=H});var $=function S(A){return T.reduce(A.edges(),function(V,L){return V+A.edge(L).weight},0)}(A)+1;T.forEach(A.children(),function(Q){I(A,V,H,$,k,L,Q)}),A.graph().nodeRankFactor=H},cleanup:function R(A){var V=A.graph();A.removeNode(V.nestingRoot),delete V.nestingRoot,T.forEach(A.edges(),function(L){A.edge(L).nestingEdge&&A.removeEdge(L)})}}},1684:(Y,se,D)=>{"use strict";var T=D(3990),P=D(9505);Y.exports={run:function N(S){S.graph().dummyChains=[],T.forEach(S.edges(),function(R){!function I(S,R){var A=R.v,V=S.node(A).rank,L=R.w,k=S.node(L).rank,H=R.name,$=S.edge(R),Q=$.labelRank;if(k!==V+1){var ue,ne,le;for(S.removeEdge(R),le=0,++V;V<k;++le,++V)$.points=[],ue=P.addDummyNode(S,"edge",ne={width:0,height:0,edgeLabel:$,edgeObj:R,rank:V},"_d"),V===Q&&(ne.width=$.width,ne.height=$.height,ne.dummy="edge-label",ne.labelpos=$.labelpos),S.setEdge(A,ue,{weight:$.weight},H),0===le&&S.graph().dummyChains.push(ue),A=ue;S.setEdge(A,L,{weight:$.weight},H)}}(S,R)})},undo:function C(S){T.forEach(S.graph().dummyChains,function(R){var L,A=S.node(R),V=A.edgeLabel;for(S.setEdge(A.edgeObj,V);A.dummy;)L=S.successors(R)[0],S.removeNode(R),V.points.push({x:A.x,y:A.y}),"edge-label"===A.dummy&&(V.x=A.x,V.y=A.y,V.width=A.width,V.height=A.height),A=S.node(R=L)})}}},9821:(Y,se,D)=>{var T=D(3990);Y.exports=function P(N,I,C){var R,S={};T.forEach(C,function(A){for(var L,k,V=N.parent(A);V;){if((L=N.parent(V))?(k=S[L],S[L]=V):(k=R,R=V),k&&k!==V)return void I.setEdge(k,V);V=L}})}},7995:(Y,se,D)=>{var T=D(3990);Y.exports=function P(N,I){return T.map(I,function(C){var S=N.inEdges(C);if(S.length){var R=T.reduce(S,function(A,V){var L=N.edge(V),k=N.node(V.v);return{sum:A.sum+L.weight*k.order,weight:A.weight+L.weight}},{sum:0,weight:0});return{v:C,barycenter:R.sum/R.weight,weight:R.weight}}return{v:C}})}},9384:(Y,se,D)=>{var T=D(3990),P=D(5849).Graph;Y.exports=function N(C,S,R){var A=function I(C){for(var S;C.hasNode(S=T.uniqueId("_root")););return S}(C),V=new P({compound:!0}).setGraph({root:A}).setDefaultNodeLabel(function(L){return C.node(L)});return T.forEach(C.nodes(),function(L){var k=C.node(L),H=C.parent(L);(k.rank===S||k.minRank<=S&&S<=k.maxRank)&&(V.setNode(L),V.setParent(L,H||A),T.forEach(C[R](L),function($){var Q=$.v===L?$.w:$.v,ue=V.edge(Q,L),ne=T.isUndefined(ue)?0:ue.weight;V.setEdge(Q,L,{weight:C.edge($).weight+ne})}),T.has(k,"minRank")&&V.setNode(L,{borderLeft:k.borderLeft[S],borderRight:k.borderRight[S]}))}),V}},444:(Y,se,D)=>{"use strict";var T=D(3990);function N(I,C,S){for(var R=T.zipObject(S,T.map(S,function($,Q){return Q})),A=T.flatten(T.map(C,function($){return T.sortBy(T.map(I.outEdges($),function(Q){return{pos:R[Q.w],weight:I.edge(Q).weight}}),"pos")}),!0),V=1;V<S.length;)V<<=1;var L=2*V-1;V-=1;var k=T.map(new Array(L),function(){return 0}),H=0;return T.forEach(A.forEach(function($){var Q=$.pos+V;k[Q]+=$.weight;for(var ue=0;Q>0;)Q%2&&(ue+=k[Q+1]),k[Q=Q-1>>1]+=$.weight;H+=$.weight*ue})),H}Y.exports=function P(I,C){for(var S=0,R=1;R<C.length;++R)S+=N(I,C[R-1],C[R]);return S}},1574:(Y,se,D)=>{"use strict";var T=D(3990),P=D(320),N=D(444),I=D(8005),C=D(9384),S=D(9821),R=D(5849).Graph,A=D(9505);function L($,Q,ue){return T.map(Q,function(ne){return C($,ne,ue)})}function k($,Q){var ue=new R;T.forEach($,function(ne){var le=ne.graph().root,ae=I(ne,le,ue,Q);T.forEach(ae.vs,function(de,te){ne.node(de).order=te}),S(ne,ue,ae.vs)})}function H($,Q){T.forEach(Q,function(ue){T.forEach(ue,function(ne,le){$.node(ne).order=le})})}Y.exports=function V($){var Q=A.maxRank($),ue=L($,T.range(1,Q+1),"inEdges"),ne=L($,T.range(Q-1,-1,-1),"outEdges"),le=P($);H($,le);for(var de,ae=Number.POSITIVE_INFINITY,te=0,pe=0;pe<4;++te,++pe){k(te%2?ue:ne,te%4>=2),le=A.buildLayerMatrix($);var q=N($,le);q<ae&&(pe=0,de=T.cloneDeep(le),ae=q)}H($,de)}},320:(Y,se,D)=>{"use strict";var T=D(3990);Y.exports=function P(N){var I={},C=T.filter(N.nodes(),function(L){return!N.children(L).length}),S=T.max(T.map(C,function(L){return N.node(L).rank})),R=T.map(T.range(S+1),function(){return[]}),V=T.sortBy(C,function(L){return N.node(L).rank});return T.forEach(V,function A(L){if(!T.has(I,L)){I[L]=!0;var k=N.node(L);R[k.rank].push(L),T.forEach(N.successors(L),A)}}),R}},6686:(Y,se,D)=>{"use strict";var T=D(3990);Y.exports=function P(C,S){var R={};return T.forEach(C,function(V,L){var k=R[V.v]={indegree:0,in:[],out:[],vs:[V.v],i:L};T.isUndefined(V.barycenter)||(k.barycenter=V.barycenter,k.weight=V.weight)}),T.forEach(S.edges(),function(V){var L=R[V.v],k=R[V.w];!T.isUndefined(L)&&!T.isUndefined(k)&&(k.indegree++,L.out.push(R[V.w]))}),function N(C){var S=[];function R(L){return function(k){k.merged||(T.isUndefined(k.barycenter)||T.isUndefined(L.barycenter)||k.barycenter>=L.barycenter)&&function I(C,S){var R=0,A=0;C.weight&&(R+=C.barycenter*C.weight,A+=C.weight),S.weight&&(R+=S.barycenter*S.weight,A+=S.weight),C.vs=S.vs.concat(C.vs),C.barycenter=R/A,C.weight=A,C.i=Math.min(S.i,C.i),S.merged=!0}(L,k)}}function A(L){return function(k){k.in.push(L),0==--k.indegree&&C.push(k)}}for(;C.length;){var V=C.pop();S.push(V),T.forEach(V.in.reverse(),R(V)),T.forEach(V.out,A(V))}return T.map(T.filter(S,function(L){return!L.merged}),function(L){return T.pick(L,["vs","i","barycenter","weight"])})}(T.filter(R,function(V){return!V.indegree}))}},8005:(Y,se,D)=>{var T=D(3990),P=D(7995),N=D(6686),I=D(8380);Y.exports=function C(A,V,L,k){var H=A.children(V),$=A.node(V),Q=$?$.borderLeft:void 0,ue=$?$.borderRight:void 0,ne={};Q&&(H=T.filter(H,function(q){return q!==Q&&q!==ue}));var le=P(A,H);T.forEach(le,function(q){if(A.children(q.v).length){var oe=C(A,q.v,L,k);ne[q.v]=oe,T.has(oe,"barycenter")&&function R(A,V){T.isUndefined(A.barycenter)?(A.barycenter=V.barycenter,A.weight=V.weight):(A.barycenter=(A.barycenter*A.weight+V.barycenter*V.weight)/(A.weight+V.weight),A.weight+=V.weight)}(q,oe)}});var ae=N(le,L);!function S(A,V){T.forEach(A,function(L){L.vs=T.flatten(L.vs.map(function(k){return V[k]?V[k].vs:k}),!0)})}(ae,ne);var de=I(ae,k);if(Q&&(de.vs=T.flatten([Q,de.vs,ue],!0),A.predecessors(Q).length)){var te=A.node(A.predecessors(Q)[0]),pe=A.node(A.predecessors(ue)[0]);T.has(de,"barycenter")||(de.barycenter=0,de.weight=0),de.barycenter=(de.barycenter*de.weight+te.order+pe.order)/(de.weight+2),de.weight+=2}return de}},8380:(Y,se,D)=>{var T=D(3990),P=D(9505);function I(S,R,A){for(var V;R.length&&(V=T.last(R)).i<=A;)R.pop(),S.push(V.vs),A++;return A}Y.exports=function N(S,R){var A=P.partition(S,function(ne){return T.has(ne,"barycenter")}),V=A.lhs,L=T.sortBy(A.rhs,function(ne){return-ne.i}),k=[],H=0,$=0,Q=0;V.sort(function C(S){return function(R,A){return R.barycenter<A.barycenter?-1:R.barycenter>A.barycenter?1:S?A.i-R.i:R.i-A.i}}(!!R)),Q=I(k,L,Q),T.forEach(V,function(ne){Q+=ne.vs.length,k.push(ne.vs),H+=ne.barycenter*ne.weight,$+=ne.weight,Q=I(k,L,Q)});var ue={vs:T.flatten(k,!0)};return $&&(ue.barycenter=H/$,ue.weight=$),ue}},1250:(Y,se,D)=>{var T=D(3990);Y.exports=function P(C){var S=function I(C){var S={},R=0;return T.forEach(C.children(),function A(V){var L=R;T.forEach(C.children(V),A),S[V]={low:L,lim:R++}}),S}(C);T.forEach(C.graph().dummyChains,function(R){for(var A=C.node(R),V=A.edgeObj,L=function N(C,S,R,A){var $,Q,V=[],L=[],k=Math.min(S[R].low,S[A].low),H=Math.max(S[R].lim,S[A].lim);$=R;do{$=C.parent($),V.push($)}while($&&(S[$].low>k||H>S[$].lim));for(Q=$,$=A;($=C.parent($))!==Q;)L.push($);return{path:V.concat(L.reverse()),lca:Q}}(C,S,V.v,V.w),k=L.path,H=L.lca,$=0,Q=k[$],ue=!0;R!==V.w;){if(A=C.node(R),ue){for(;(Q=k[$])!==H&&C.node(Q).maxRank<A.rank;)$++;Q===H&&(ue=!1)}if(!ue){for(;$<k.length-1&&C.node(Q=k[$+1]).minRank<=A.rank;)$++;Q=k[$]}C.setParent(R,Q),R=C.successors(R)[0]}})}},8851:(Y,se,D)=>{"use strict";var T=D(3990),P=D(5849).Graph,N=D(9505);function I(ae,de){var te={};return T.reduce(de,function pe(q,oe){var ie=0,me=0,we=q.length,Se=T.last(oe);return T.forEach(oe,function(De,ze){var Be=function S(ae,de){if(ae.node(de).dummy)return T.find(ae.predecessors(de),function(te){return ae.node(te).dummy})}(ae,De),st=Be?ae.node(Be).order:we;(Be||De===Se)&&(T.forEach(oe.slice(me,ze+1),function(ht){T.forEach(ae.predecessors(ht),function(Ze){var Ct=ae.node(Ze),Qe=Ct.order;(Qe<ie||st<Qe)&&(!Ct.dummy||!ae.node(ht).dummy)&&R(te,Ze,ht)})}),me=ze+1,ie=st)}),oe}),te}function C(ae,de){var te={};function pe(oe,ie,me,we,Se){var De;T.forEach(T.range(ie,me),function(ze){ae.node(De=oe[ze]).dummy&&T.forEach(ae.predecessors(De),function(Be){var st=ae.node(Be);st.dummy&&(st.order<we||st.order>Se)&&R(te,Be,De)})})}return T.reduce(de,function q(oe,ie){var we,me=-1,Se=0;return T.forEach(ie,function(De,ze){if("border"===ae.node(De).dummy){var Be=ae.predecessors(De);Be.length&&(we=ae.node(Be[0]).order,pe(ie,Se,ze,me,we),Se=ze,me=we)}pe(ie,Se,ie.length,we,oe.length)}),ie}),te}function R(ae,de,te){if(de>te){var pe=de;de=te,te=pe}var q=ae[de];q||(ae[de]=q={}),q[te]=!0}function A(ae,de,te){if(de>te){var pe=de;de=te,te=pe}return T.has(ae[de],te)}function V(ae,de,te,pe){var q={},oe={},ie={};return T.forEach(de,function(me){T.forEach(me,function(we,Se){q[we]=we,oe[we]=we,ie[we]=Se})}),T.forEach(de,function(me){var we=-1;T.forEach(me,function(Se){var De=pe(Se);if(De.length)for(var ze=((De=T.sortBy(De,function(Ze){return ie[Ze]})).length-1)/2,Be=Math.floor(ze),st=Math.ceil(ze);Be<=st;++Be){var ht=De[Be];oe[Se]===Se&&we<ie[ht]&&!A(te,Se,ht)&&(oe[ht]=Se,oe[Se]=q[Se]=q[ht],we=ie[ht])}})}),{root:q,align:oe}}function L(ae,de,te,pe,q){var oe={},ie=function k(ae,de,te,pe){var q=new P,oe=ae.graph(),ie=function ne(ae,de,te){return function(pe,q,oe){var Se,ie=pe.node(q),me=pe.node(oe),we=0;if(we+=ie.width/2,T.has(ie,"labelpos"))switch(ie.labelpos.toLowerCase()){case"l":Se=-ie.width/2;break;case"r":Se=ie.width/2}if(Se&&(we+=te?Se:-Se),Se=0,we+=(ie.dummy?de:ae)/2,we+=(me.dummy?de:ae)/2,we+=me.width/2,T.has(me,"labelpos"))switch(me.labelpos.toLowerCase()){case"l":Se=me.width/2;break;case"r":Se=-me.width/2}return Se&&(we+=te?Se:-Se),Se=0,we}}(oe.nodesep,oe.edgesep,pe);return T.forEach(de,function(me){var we;T.forEach(me,function(Se){var De=te[Se];if(q.setNode(De),we){var ze=te[we],Be=q.edge(ze,De);q.setEdge(ze,De,Math.max(ie(ae,Se,we),Be||0))}we=Se})}),q}(ae,de,te,q),me=q?"borderLeft":"borderRight";function we(ze,Be){for(var st=ie.nodes(),ht=st.pop(),Ze={};ht;)Ze[ht]?ze(ht):(Ze[ht]=!0,st.push(ht),st=st.concat(Be(ht))),ht=st.pop()}return we(function Se(ze){oe[ze]=ie.inEdges(ze).reduce(function(Be,st){return Math.max(Be,oe[st.v]+ie.edge(st))},0)},ie.predecessors.bind(ie)),we(function De(ze){var Be=ie.outEdges(ze).reduce(function(ht,Ze){return Math.min(ht,oe[Ze.w]-ie.edge(Ze))},Number.POSITIVE_INFINITY),st=ae.node(ze);Be!==Number.POSITIVE_INFINITY&&st.borderType!==me&&(oe[ze]=Math.max(oe[ze],Be))},ie.successors.bind(ie)),T.forEach(pe,function(ze){oe[ze]=oe[te[ze]]}),oe}function H(ae,de){return T.minBy(T.values(de),function(te){var pe=Number.NEGATIVE_INFINITY,q=Number.POSITIVE_INFINITY;return T.forIn(te,function(oe,ie){var me=function le(ae,de){return ae.node(de).width}(ae,ie)/2;pe=Math.max(oe+me,pe),q=Math.min(oe-me,q)}),pe-q})}function $(ae,de){var te=T.values(de),pe=T.min(te),q=T.max(te);T.forEach(["u","d"],function(oe){T.forEach(["l","r"],function(ie){var Se,me=oe+ie,we=ae[me];if(we!==de){var De=T.values(we);(Se="l"===ie?pe-T.min(De):q-T.max(De))&&(ae[me]=T.mapValues(we,function(ze){return ze+Se}))}})})}function Q(ae,de){return T.mapValues(ae.ul,function(te,pe){if(de)return ae[de.toLowerCase()][pe];var q=T.sortBy(T.map(ae,pe));return(q[1]+q[2])/2})}Y.exports={positionX:function ue(ae){var q,de=N.buildLayerMatrix(ae),te=T.merge(I(ae,de),C(ae,de)),pe={};T.forEach(["u","d"],function(ie){q="u"===ie?de:T.values(de).reverse(),T.forEach(["l","r"],function(me){"r"===me&&(q=T.map(q,function(ze){return T.values(ze).reverse()}));var we=("u"===ie?ae.predecessors:ae.successors).bind(ae),Se=V(0,q,te,we),De=L(ae,q,Se.root,Se.align,"r"===me);"r"===me&&(De=T.mapValues(De,function(ze){return-ze})),pe[ie+me]=De})});var oe=H(ae,pe);return $(pe,oe),Q(pe,ae.graph().align)},findType1Conflicts:I,findType2Conflicts:C,addConflict:R,hasConflict:A,verticalAlignment:V,horizontalCompaction:L,alignCoordinates:$,findSmallestWidthAlignment:H,balance:Q}},6403:(Y,se,D)=>{"use strict";var T=D(3990),P=D(9505),N=D(8851).positionX;Y.exports=function I(S){(function C(S){var R=P.buildLayerMatrix(S),A=S.graph().ranksep,V=0;T.forEach(R,function(L){var k=T.max(T.map(L,function(H){return S.node(H).height}));T.forEach(L,function(H){S.node(H).y=V+k/2}),V+=k+A})})(S=P.asNonCompoundGraph(S)),T.forEach(N(S),function(R,A){S.node(A).x=R})}},8214:(Y,se,D)=>{"use strict";var T=D(3990),P=D(5849).Graph,N=D(4216).slack;function C(A,V){return T.forEach(A.nodes(),function L(k){T.forEach(V.nodeEdges(k),function(H){var $=H.v,Q=k===$?H.w:$;!A.hasNode(Q)&&!N(V,H)&&(A.setNode(Q,{}),A.setEdge(k,Q,{}),L(Q))})}),A.nodeCount()}function S(A,V){return T.minBy(V.edges(),function(L){if(A.hasNode(L.v)!==A.hasNode(L.w))return N(V,L)})}function R(A,V,L){T.forEach(A.nodes(),function(k){V.node(k).rank+=L})}Y.exports=function I(A){var H,$,V=new P({directed:!1}),L=A.nodes()[0],k=A.nodeCount();for(V.setNode(L,{});C(V,A)<k;)H=S(V,A),$=V.hasNode(H.v)?N(A,H):-N(A,H),R(V,A,$);return V}},3752:(Y,se,D)=>{"use strict";var P=D(4216).longestPath,N=D(8214),I=D(4857);Y.exports=function C(V){switch(V.graph().ranker){case"network-simplex":default:!function A(V){I(V)}(V);break;case"tight-tree":!function R(V){P(V),N(V)}(V);break;case"longest-path":S(V)}};var S=P},4857:(Y,se,D)=>{"use strict";var T=D(3990),P=D(8214),N=D(4216).slack,I=D(4216).longestPath,C=D(5849).alg.preorder,S=D(5849).alg.postorder,R=D(9505).simplify;function A(te){te=R(te),I(te);var q,pe=P(te);for(H(pe),V(pe,te);q=Q(pe);)ne(pe,te,q,ue(pe,te,q))}function V(te,pe){var q=S(te,te.nodes());q=q.slice(0,q.length-1),T.forEach(q,function(oe){!function L(te,pe,q){var oe=te.node(q);te.edge(q,oe.parent).cutvalue=k(te,pe,q)}(te,pe,oe)})}function k(te,pe,q){var ie=te.node(q).parent,me=!0,we=pe.edge(q,ie),Se=0;return we||(me=!1,we=pe.edge(ie,q)),Se=we.weight,T.forEach(pe.nodeEdges(q),function(De){var ze=De.v===q,Be=ze?De.w:De.v;if(Be!==ie){var st=ze===me,ht=pe.edge(De).weight;if(Se+=st?ht:-ht,function ae(te,pe,q){return te.hasEdge(pe,q)}(te,q,Be)){var Ze=te.edge(q,Be).cutvalue;Se+=st?-Ze:Ze}}}),Se}function H(te,pe){arguments.length<2&&(pe=te.nodes()[0]),$(te,{},1,pe)}function $(te,pe,q,oe,ie){var me=q,we=te.node(oe);return pe[oe]=!0,T.forEach(te.neighbors(oe),function(Se){T.has(pe,Se)||(q=$(te,pe,q,Se,oe))}),we.low=me,we.lim=q++,ie?we.parent=ie:delete we.parent,q}function Q(te){return T.find(te.edges(),function(pe){return te.edge(pe).cutvalue<0})}function ue(te,pe,q){var oe=q.v,ie=q.w;pe.hasEdge(oe,ie)||(oe=q.w,ie=q.v);var me=te.node(oe),we=te.node(ie),Se=me,De=!1;me.lim>we.lim&&(Se=we,De=!0);var ze=T.filter(pe.edges(),function(Be){return De===de(0,te.node(Be.v),Se)&&De!==de(0,te.node(Be.w),Se)});return T.minBy(ze,function(Be){return N(pe,Be)})}function ne(te,pe,q,oe){te.removeEdge(q.v,q.w),te.setEdge(oe.v,oe.w,{}),H(te),V(te,pe),function le(te,pe){var q=T.find(te.nodes(),function(ie){return!pe.node(ie).parent}),oe=C(te,q);oe=oe.slice(1),T.forEach(oe,function(ie){var me=te.node(ie).parent,we=pe.edge(ie,me),Se=!1;we||(we=pe.edge(me,ie),Se=!0),pe.node(ie).rank=pe.node(me).rank+(Se?we.minlen:-we.minlen)})}(te,pe)}function de(te,pe,q){return q.low<=pe.lim&&pe.lim<=q.lim}Y.exports=A,A.initLowLimValues=H,A.initCutValues=V,A.calcCutValue=k,A.leaveEdge=Q,A.enterEdge=ue,A.exchangeEdges=ne},4216:(Y,se,D)=>{"use strict";var T=D(3990);Y.exports={longestPath:function P(I){var C={};T.forEach(I.sources(),function S(R){var A=I.node(R);if(T.has(C,R))return A.rank;C[R]=!0;var V=T.min(T.map(I.outEdges(R),function(L){return S(L.w)-I.edge(L).minlen}));return(V===Number.POSITIVE_INFINITY||null==V)&&(V=0),A.rank=V})},slack:function N(I,C){return I.node(C.w).rank-I.node(C.v).rank-I.edge(C).minlen}}},9505:(Y,se,D)=>{"use strict";var T=D(3990),P=D(5849).Graph;function N(le,ae,de,te){var pe;do{pe=T.uniqueId(te)}while(le.hasNode(pe));return de.dummy=ae,le.setNode(pe,de),pe}function $(le){return T.max(T.map(le.nodes(),function(ae){var de=le.node(ae).rank;if(!T.isUndefined(de))return de}))}Y.exports={addDummyNode:N,simplify:function I(le){var ae=(new P).setGraph(le.graph());return T.forEach(le.nodes(),function(de){ae.setNode(de,le.node(de))}),T.forEach(le.edges(),function(de){var te=ae.edge(de.v,de.w)||{weight:0,minlen:1},pe=le.edge(de);ae.setEdge(de.v,de.w,{weight:te.weight+pe.weight,minlen:Math.max(te.minlen,pe.minlen)})}),ae},asNonCompoundGraph:function C(le){var ae=new P({multigraph:le.isMultigraph()}).setGraph(le.graph());return T.forEach(le.nodes(),function(de){le.children(de).length||ae.setNode(de,le.node(de))}),T.forEach(le.edges(),function(de){ae.setEdge(de,le.edge(de))}),ae},successorWeights:function S(le){var ae=T.map(le.nodes(),function(de){var te={};return T.forEach(le.outEdges(de),function(pe){te[pe.w]=(te[pe.w]||0)+le.edge(pe).weight}),te});return T.zipObject(le.nodes(),ae)},predecessorWeights:function R(le){var ae=T.map(le.nodes(),function(de){var te={};return T.forEach(le.inEdges(de),function(pe){te[pe.v]=(te[pe.v]||0)+le.edge(pe).weight}),te});return T.zipObject(le.nodes(),ae)},intersectRect:function A(le,ae){var me,we,de=le.x,te=le.y,pe=ae.x-de,q=ae.y-te,oe=le.width/2,ie=le.height/2;if(!pe&&!q)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(q)*oe>Math.abs(pe)*ie?(q<0&&(ie=-ie),me=ie*pe/q,we=ie):(pe<0&&(oe=-oe),me=oe,we=oe*q/pe),{x:de+me,y:te+we}},buildLayerMatrix:function V(le){var ae=T.map(T.range($(le)+1),function(){return[]});return T.forEach(le.nodes(),function(de){var te=le.node(de),pe=te.rank;T.isUndefined(pe)||(ae[pe][te.order]=de)}),ae},normalizeRanks:function L(le){var ae=T.min(T.map(le.nodes(),function(de){return le.node(de).rank}));T.forEach(le.nodes(),function(de){var te=le.node(de);T.has(te,"rank")&&(te.rank-=ae)})},removeEmptyRanks:function k(le){var ae=T.min(T.map(le.nodes(),function(q){return le.node(q).rank})),de=[];T.forEach(le.nodes(),function(q){var oe=le.node(q).rank-ae;de[oe]||(de[oe]=[]),de[oe].push(q)});var te=0,pe=le.graph().nodeRankFactor;T.forEach(de,function(q,oe){T.isUndefined(q)&&oe%pe!=0?--te:te&&T.forEach(q,function(ie){le.node(ie).rank+=te})})},addBorderNode:function H(le,ae,de,te){var pe={width:0,height:0};return arguments.length>=4&&(pe.rank=de,pe.order=te),N(le,"border",pe,ae)},maxRank:$,partition:function Q(le,ae){var de={lhs:[],rhs:[]};return T.forEach(le,function(te){ae(te)?de.lhs.push(te):de.rhs.push(te)}),de},time:function ue(le,ae){var de=T.now();try{return ae()}finally{console.log(le+" time: "+(T.now()-de)+"ms")}},notime:function ne(le,ae){return ae()}}},2187:Y=>{Y.exports="0.8.5"},9034:(Y,se,D)=>{var T=D(3934);Y.exports={Graph:T.Graph,json:D(2440),alg:D(3955),version:T.version}},1986:(Y,se,D)=>{var T=D(9368);Y.exports=function P(N){var S,I={},C=[];function R(A){T.has(I,A)||(I[A]=!0,S.push(A),T.each(N.successors(A),R),T.each(N.predecessors(A),R))}return T.each(N.nodes(),function(A){S=[],R(A),S.length&&C.push(S)}),C}},1428:(Y,se,D)=>{var T=D(9368);function N(I,C,S,R,A,V){T.has(R,C)||(R[C]=!0,S||V.push(C),T.each(A(C),function(L){N(I,L,S,R,A,V)}),S&&V.push(C))}Y.exports=function P(I,C,S){T.isArray(C)||(C=[C]);var R=(I.isDirected()?I.successors:I.neighbors).bind(I),A=[],V={};return T.each(C,function(L){if(!I.hasNode(L))throw new Error("Graph does not have node: "+L);N(I,L,"post"===S,V,R,A)}),A}},5583:(Y,se,D)=>{var T=D(2644),P=D(9368);Y.exports=function N(I,C,S){return P.transform(I.nodes(),function(R,A){R[A]=T(I,A,C,S)},{})}},2644:(Y,se,D)=>{var T=D(9368),P=D(1321);Y.exports=function I(S,R,A,V){return function C(S,R,A,V){var H,$,L={},k=new P,Q=function(ue){var ne=ue.v!==H?ue.v:ue.w,le=L[ne],ae=A(ue),de=$.distance+ae;if(ae<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+ue+" Weight: "+ae);de<le.distance&&(le.distance=de,le.predecessor=H,k.decrease(ne,de))};for(S.nodes().forEach(function(ue){var ne=ue===R?0:Number.POSITIVE_INFINITY;L[ue]={distance:ne},k.add(ue,ne)});k.size()>0&&(H=k.removeMin(),($=L[H]).distance!==Number.POSITIVE_INFINITY);)V(H).forEach(Q);return L}(S,String(R),A||N,V||function(L){return S.outEdges(L)})};var N=T.constant(1)},7651:(Y,se,D)=>{var T=D(9368),P=D(3628);Y.exports=function N(I){return T.filter(P(I),function(C){return C.length>1||1===C.length&&I.hasEdge(C[0],C[0])})}},5160:(Y,se,D)=>{var T=D(9368);Y.exports=function N(C,S,R){return function I(C,S,R){var A={},V=C.nodes();return V.forEach(function(L){A[L]={},A[L][L]={distance:0},V.forEach(function(k){L!==k&&(A[L][k]={distance:Number.POSITIVE_INFINITY})}),R(L).forEach(function(k){var H=k.v===L?k.w:k.v,$=S(k);A[L][H]={distance:$,predecessor:L}})}),V.forEach(function(L){var k=A[L];V.forEach(function(H){var $=A[H];V.forEach(function(Q){var ne=k[Q],le=$[Q],ae=$[L].distance+ne.distance;ae<le.distance&&(le.distance=ae,le.predecessor=ne.predecessor)})})}),A}(C,S||P,R||function(A){return C.outEdges(A)})};var P=T.constant(1)},3955:(Y,se,D)=>{Y.exports={components:D(1986),dijkstra:D(2644),dijkstraAll:D(5583),findCycles:D(7651),floydWarshall:D(5160),isAcyclic:D(6993),postorder:D(703),preorder:D(6544),prim:D(4338),tarjan:D(3628),topsort:D(5344)}},6993:(Y,se,D)=>{var T=D(5344);Y.exports=function P(N){try{T(N)}catch(I){if(I instanceof T.CycleException)return!1;throw I}return!0}},703:(Y,se,D)=>{var T=D(1428);Y.exports=function P(N,I){return T(N,I,"post")}},6544:(Y,se,D)=>{var T=D(1428);Y.exports=function P(N,I){return T(N,I,"pre")}},4338:(Y,se,D)=>{var T=D(9368),P=D(427),N=D(1321);Y.exports=function I(C,S){var L,R=new P,A={},V=new N;function k($){var Q=$.v===L?$.w:$.v,ue=V.priority(Q);if(void 0!==ue){var ne=S($);ne<ue&&(A[Q]=L,V.decrease(Q,ne))}}if(0===C.nodeCount())return R;T.each(C.nodes(),function($){V.add($,Number.POSITIVE_INFINITY),R.setNode($)}),V.decrease(C.nodes()[0],0);for(var H=!1;V.size()>0;){if(L=V.removeMin(),T.has(A,L))R.setEdge(L,A[L]);else{if(H)throw new Error("Input graph is not connected: "+C);H=!0}C.nodeEdges(L).forEach(k)}return R}},3628:(Y,se,D)=>{var T=D(9368);Y.exports=function P(N){var I=0,C=[],S={},R=[];function A(V){var L=S[V]={onStack:!0,lowlink:I,index:I++};if(C.push(V),N.successors(V).forEach(function($){T.has(S,$)?S[$].onStack&&(L.lowlink=Math.min(L.lowlink,S[$].index)):(A($),L.lowlink=Math.min(L.lowlink,S[$].lowlink))}),L.lowlink===L.index){var H,k=[];do{H=C.pop(),S[H].onStack=!1,k.push(H)}while(V!==H);R.push(k)}}return N.nodes().forEach(function(V){T.has(S,V)||A(V)}),R}},5344:(Y,se,D)=>{var T=D(9368);function P(I){var C={},S={},R=[];if(T.each(I.sinks(),function A(V){if(T.has(S,V))throw new N;T.has(C,V)||(S[V]=!0,C[V]=!0,T.each(I.predecessors(V),A),delete S[V],R.push(V))}),T.size(C)!==I.nodeCount())throw new N;return R}function N(){}Y.exports=P,P.CycleException=N,N.prototype=new Error},1321:(Y,se,D)=>{var T=D(9368);function P(){this._arr=[],this._keyIndices={}}Y.exports=P,P.prototype.size=function(){return this._arr.length},P.prototype.keys=function(){return this._arr.map(function(N){return N.key})},P.prototype.has=function(N){return T.has(this._keyIndices,N)},P.prototype.priority=function(N){var I=this._keyIndices[N];if(void 0!==I)return this._arr[I].priority},P.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},P.prototype.add=function(N,I){var C=this._keyIndices;if(N=String(N),!T.has(C,N)){var S=this._arr,R=S.length;return C[N]=R,S.push({key:N,priority:I}),this._decrease(R),!0}return!1},P.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var N=this._arr.pop();return delete this._keyIndices[N.key],this._heapify(0),N.key},P.prototype.decrease=function(N,I){var C=this._keyIndices[N];if(I>this._arr[C].priority)throw new Error("New priority is greater than current priority. Key: "+N+" Old: "+this._arr[C].priority+" New: "+I);this._arr[C].priority=I,this._decrease(C)},P.prototype._heapify=function(N){var I=this._arr,C=2*N,S=C+1,R=N;C<I.length&&(R=I[C].priority<I[R].priority?C:R,S<I.length&&(R=I[S].priority<I[R].priority?S:R),R!==N&&(this._swap(N,R),this._heapify(R)))},P.prototype._decrease=function(N){for(var S,I=this._arr,C=I[N].priority;0!==N&&!(I[S=N>>1].priority<C);)this._swap(N,S),N=S},P.prototype._swap=function(N,I){var C=this._arr,S=this._keyIndices,R=C[N],A=C[I];C[N]=A,C[I]=R,S[A.key]=N,S[R.key]=I}},427:(Y,se,D)=>{"use strict";var T=D(9368);Y.exports=C;var P="\0",N="\0",I="\x01";function C(k){this._isDirected=!T.has(k,"directed")||k.directed,this._isMultigraph=!!T.has(k,"multigraph")&&k.multigraph,this._isCompound=!!T.has(k,"compound")&&k.compound,this._label=void 0,this._defaultNodeLabelFn=T.constant(void 0),this._defaultEdgeLabelFn=T.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[N]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function S(k,H){k[H]?k[H]++:k[H]=1}function R(k,H){--k[H]||delete k[H]}function A(k,H,$,Q){var ue=""+H,ne=""+$;if(!k&&ue>ne){var le=ue;ue=ne,ne=le}return ue+I+ne+I+(T.isUndefined(Q)?P:Q)}function L(k,H){return A(k,H.v,H.w,H.name)}C.prototype._nodeCount=0,C.prototype._edgeCount=0,C.prototype.isDirected=function(){return this._isDirected},C.prototype.isMultigraph=function(){return this._isMultigraph},C.prototype.isCompound=function(){return this._isCompound},C.prototype.setGraph=function(k){return this._label=k,this},C.prototype.graph=function(){return this._label},C.prototype.setDefaultNodeLabel=function(k){return T.isFunction(k)||(k=T.constant(k)),this._defaultNodeLabelFn=k,this},C.prototype.nodeCount=function(){return this._nodeCount},C.prototype.nodes=function(){return T.keys(this._nodes)},C.prototype.sources=function(){var k=this;return T.filter(this.nodes(),function(H){return T.isEmpty(k._in[H])})},C.prototype.sinks=function(){var k=this;return T.filter(this.nodes(),function(H){return T.isEmpty(k._out[H])})},C.prototype.setNodes=function(k,H){var $=arguments,Q=this;return T.each(k,function(ue){$.length>1?Q.setNode(ue,H):Q.setNode(ue)}),this},C.prototype.setNode=function(k,H){return T.has(this._nodes,k)?(arguments.length>1&&(this._nodes[k]=H),this):(this._nodes[k]=arguments.length>1?H:this._defaultNodeLabelFn(k),this._isCompound&&(this._parent[k]=N,this._children[k]={},this._children[N][k]=!0),this._in[k]={},this._preds[k]={},this._out[k]={},this._sucs[k]={},++this._nodeCount,this)},C.prototype.node=function(k){return this._nodes[k]},C.prototype.hasNode=function(k){return T.has(this._nodes,k)},C.prototype.removeNode=function(k){var H=this;if(T.has(this._nodes,k)){var $=function(Q){H.removeEdge(H._edgeObjs[Q])};delete this._nodes[k],this._isCompound&&(this._removeFromParentsChildList(k),delete this._parent[k],T.each(this.children(k),function(Q){H.setParent(Q)}),delete this._children[k]),T.each(T.keys(this._in[k]),$),delete this._in[k],delete this._preds[k],T.each(T.keys(this._out[k]),$),delete this._out[k],delete this._sucs[k],--this._nodeCount}return this},C.prototype.setParent=function(k,H){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(T.isUndefined(H))H=N;else{for(var $=H+="";!T.isUndefined($);$=this.parent($))if($===k)throw new Error("Setting "+H+" as parent of "+k+" would create a cycle");this.setNode(H)}return this.setNode(k),this._removeFromParentsChildList(k),this._parent[k]=H,this._children[H][k]=!0,this},C.prototype._removeFromParentsChildList=function(k){delete this._children[this._parent[k]][k]},C.prototype.parent=function(k){if(this._isCompound){var H=this._parent[k];if(H!==N)return H}},C.prototype.children=function(k){if(T.isUndefined(k)&&(k=N),this._isCompound){var H=this._children[k];if(H)return T.keys(H)}else{if(k===N)return this.nodes();if(this.hasNode(k))return[]}},C.prototype.predecessors=function(k){var H=this._preds[k];if(H)return T.keys(H)},C.prototype.successors=function(k){var H=this._sucs[k];if(H)return T.keys(H)},C.prototype.neighbors=function(k){var H=this.predecessors(k);if(H)return T.union(H,this.successors(k))},C.prototype.isLeaf=function(k){return 0===(this.isDirected()?this.successors(k):this.neighbors(k)).length},C.prototype.filterNodes=function(k){var H=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});H.setGraph(this.graph());var $=this;T.each(this._nodes,function(ne,le){k(le)&&H.setNode(le,ne)}),T.each(this._edgeObjs,function(ne){H.hasNode(ne.v)&&H.hasNode(ne.w)&&H.setEdge(ne,$.edge(ne))});var Q={};function ue(ne){var le=$.parent(ne);return void 0===le||H.hasNode(le)?(Q[ne]=le,le):le in Q?Q[le]:ue(le)}return this._isCompound&&T.each(H.nodes(),function(ne){H.setParent(ne,ue(ne))}),H},C.prototype.setDefaultEdgeLabel=function(k){return T.isFunction(k)||(k=T.constant(k)),this._defaultEdgeLabelFn=k,this},C.prototype.edgeCount=function(){return this._edgeCount},C.prototype.edges=function(){return T.values(this._edgeObjs)},C.prototype.setPath=function(k,H){var $=this,Q=arguments;return T.reduce(k,function(ue,ne){return Q.length>1?$.setEdge(ue,ne,H):$.setEdge(ue,ne),ne}),this},C.prototype.setEdge=function(){var k,H,$,Q,ue=!1,ne=arguments[0];"object"==typeof ne&&null!==ne&&"v"in ne?(k=ne.v,H=ne.w,$=ne.name,2===arguments.length&&(Q=arguments[1],ue=!0)):(k=ne,H=arguments[1],$=arguments[3],arguments.length>2&&(Q=arguments[2],ue=!0)),k=""+k,H=""+H,T.isUndefined($)||($=""+$);var le=A(this._isDirected,k,H,$);if(T.has(this._edgeLabels,le))return ue&&(this._edgeLabels[le]=Q),this;if(!T.isUndefined($)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(k),this.setNode(H),this._edgeLabels[le]=ue?Q:this._defaultEdgeLabelFn(k,H,$);var ae=function V(k,H,$,Q){var ue=""+H,ne=""+$;if(!k&&ue>ne){var le=ue;ue=ne,ne=le}var ae={v:ue,w:ne};return Q&&(ae.name=Q),ae}(this._isDirected,k,H,$);return k=ae.v,H=ae.w,Object.freeze(ae),this._edgeObjs[le]=ae,S(this._preds[H],k),S(this._sucs[k],H),this._in[H][le]=ae,this._out[k][le]=ae,this._edgeCount++,this},C.prototype.edge=function(k,H,$){var Q=1===arguments.length?L(this._isDirected,arguments[0]):A(this._isDirected,k,H,$);return this._edgeLabels[Q]},C.prototype.hasEdge=function(k,H,$){var Q=1===arguments.length?L(this._isDirected,arguments[0]):A(this._isDirected,k,H,$);return T.has(this._edgeLabels,Q)},C.prototype.removeEdge=function(k,H,$){var Q=1===arguments.length?L(this._isDirected,arguments[0]):A(this._isDirected,k,H,$),ue=this._edgeObjs[Q];return ue&&(k=ue.v,H=ue.w,delete this._edgeLabels[Q],delete this._edgeObjs[Q],R(this._preds[H],k),R(this._sucs[k],H),delete this._in[H][Q],delete this._out[k][Q],this._edgeCount--),this},C.prototype.inEdges=function(k,H){var $=this._in[k];if($){var Q=T.values($);return H?T.filter(Q,function(ue){return ue.v===H}):Q}},C.prototype.outEdges=function(k,H){var $=this._out[k];if($){var Q=T.values($);return H?T.filter(Q,function(ue){return ue.w===H}):Q}},C.prototype.nodeEdges=function(k,H){var $=this.inEdges(k,H);if($)return $.concat(this.outEdges(k,H))}},3934:(Y,se,D)=>{Y.exports={Graph:D(427),version:D(7747)}},2440:(Y,se,D)=>{var T=D(9368),P=D(427);function I(R){return T.map(R.nodes(),function(A){var V=R.node(A),L=R.parent(A),k={v:A};return T.isUndefined(V)||(k.value=V),T.isUndefined(L)||(k.parent=L),k})}function C(R){return T.map(R.edges(),function(A){var V=R.edge(A),L={v:A.v,w:A.w};return T.isUndefined(A.name)||(L.name=A.name),T.isUndefined(V)||(L.value=V),L})}Y.exports={write:function N(R){var A={options:{directed:R.isDirected(),multigraph:R.isMultigraph(),compound:R.isCompound()},nodes:I(R),edges:C(R)};return T.isUndefined(R.graph())||(A.value=T.clone(R.graph())),A},read:function S(R){var A=new P(R.options).setGraph(R.value);return T.each(R.nodes,function(V){A.setNode(V.v,V.value),V.parent&&A.setParent(V.v,V.parent)}),T.each(R.edges,function(V){A.setEdge({v:V.v,w:V.w,name:V.name},V.value)}),A}}},9368:(Y,se,D)=>{var T;try{T={clone:D(8734),constant:D(1075),each:D(6488),filter:D(7661),has:D(8669),isArray:D(2261),isEmpty:D(5350),isFunction:D(6861),isUndefined:D(8152),keys:D(4614),map:D(8921),reduce:D(5909),size:D(5741),transform:D(6893),union:D(2480),values:D(8808)}}catch{}T||(T=window._),Y.exports=T},7747:Y=>{Y.exports="2.1.8"},7444:(Y,se,D)=>{Y.exports=D(7253)},7253:function(Y,se){var D,T,P;(function(){var N,I,C,S,R,A,V,L,k,H,$,Q,ue,ne,le;C=Math.floor,H=Math.min,I=function(ae,de){return ae<de?-1:ae>de?1:0},k=function(ae,de,te,pe,q){var oe;if(null==te&&(te=0),null==q&&(q=I),te<0)throw new Error("lo must be non-negative");for(null==pe&&(pe=ae.length);te<pe;)q(de,ae[oe=C((te+pe)/2)])<0?pe=oe:te=oe+1;return[].splice.apply(ae,[te,te-te].concat(de)),de},A=function(ae,de,te){return null==te&&(te=I),ae.push(de),ne(ae,0,ae.length-1,te)},R=function(ae,de){var te,pe;return null==de&&(de=I),te=ae.pop(),ae.length?(pe=ae[0],ae[0]=te,le(ae,0,de)):pe=te,pe},L=function(ae,de,te){var pe;return null==te&&(te=I),pe=ae[0],ae[0]=de,le(ae,0,te),pe},V=function(ae,de,te){var pe;return null==te&&(te=I),ae.length&&te(ae[0],de)<0&&(de=(pe=[ae[0],de])[0],ae[0]=pe[1],le(ae,0,te)),de},S=function(ae,de){var pe,oe,me,we,Se;for(null==de&&(de=I),we=[],pe=0,oe=(me=function(){Se=[];for(var De=0,ze=C(ae.length/2);0<=ze?De<ze:De>ze;0<=ze?De++:De--)Se.push(De);return Se}.apply(this).reverse()).length;pe<oe;pe++)we.push(le(ae,me[pe],de));return we},ue=function(ae,de,te){var pe;if(null==te&&(te=I),-1!==(pe=ae.indexOf(de)))return ne(ae,0,pe,te),le(ae,pe,te)},$=function(ae,de,te){var q,oe,ie,me;if(null==te&&(te=I),!(q=ae.slice(0,de)).length)return q;for(S(q,te),oe=0,ie=(me=ae.slice(de)).length;oe<ie;oe++)V(q,me[oe],te);return q.sort(te).reverse()},Q=function(ae,de,te){var pe,oe,ie,me,we,Se,De,ze,Be;if(null==te&&(te=I),10*de<=ae.length){if(!(ie=ae.slice(0,de).sort(te)).length)return ie;for(oe=ie[ie.length-1],me=0,Se=(De=ae.slice(de)).length;me<Se;me++)te(pe=De[me],oe)<0&&(k(ie,pe,0,null,te),ie.pop(),oe=ie[ie.length-1]);return ie}for(S(ae,te),Be=[],we=0,ze=H(de,ae.length);0<=ze?we<ze:we>ze;0<=ze?++we:--we)Be.push(R(ae,te));return Be},ne=function(ae,de,te,pe){var q,oe,ie;for(null==pe&&(pe=I),q=ae[te];te>de&&pe(q,oe=ae[ie=te-1>>1])<0;)ae[te]=oe,te=ie;return ae[te]=q},le=function(ae,de,te){var pe,q,oe,ie,me;for(null==te&&(te=I),q=ae.length,me=de,oe=ae[de],pe=2*de+1;pe<q;)(ie=pe+1)<q&&!(te(ae[pe],ae[ie])<0)&&(pe=ie),ae[de]=ae[pe],pe=2*(de=pe)+1;return ae[de]=oe,ne(ae,me,de,te)},N=function(){function ae(de){this.cmp=de??I,this.nodes=[]}return ae.push=A,ae.pop=R,ae.replace=L,ae.pushpop=V,ae.heapify=S,ae.updateItem=ue,ae.nlargest=$,ae.nsmallest=Q,ae.prototype.push=function(de){return A(this.nodes,de,this.cmp)},ae.prototype.pop=function(){return R(this.nodes,this.cmp)},ae.prototype.peek=function(){return this.nodes[0]},ae.prototype.contains=function(de){return-1!==this.nodes.indexOf(de)},ae.prototype.replace=function(de){return L(this.nodes,de,this.cmp)},ae.prototype.pushpop=function(de){return V(this.nodes,de,this.cmp)},ae.prototype.heapify=function(){return S(this.nodes,this.cmp)},ae.prototype.updateItem=function(de){return ue(this.nodes,de,this.cmp)},ae.prototype.clear=function(){return this.nodes=[]},ae.prototype.empty=function(){return 0===this.nodes.length},ae.prototype.size=function(){return this.nodes.length},ae.prototype.clone=function(){var de;return(de=new ae).nodes=this.nodes.slice(0),de},ae.prototype.toArray=function(){return this.nodes.slice(0)},ae.prototype.insert=ae.prototype.push,ae.prototype.top=ae.prototype.peek,ae.prototype.front=ae.prototype.peek,ae.prototype.has=ae.prototype.contains,ae.prototype.copy=ae.prototype.clone,ae}(),T=[],void 0===(P="function"==typeof(D=function(){return N})?D.apply(se,T):D)||(Y.exports=P)}).call(this)},4465:function(Y){Y.exports=function(se){var D={};function T(P){if(D[P])return D[P].exports;var N=D[P]={i:P,l:!1,exports:{}};return se[P].call(N.exports,N,N.exports,T),N.l=!0,N.exports}return T.m=se,T.c=D,T.i=function(P){return P},T.d=function(P,N,I){T.o(P,N)||Object.defineProperty(P,N,{configurable:!1,enumerable:!0,get:I})},T.n=function(P){var N=P&&P.__esModule?function(){return P.default}:function(){return P};return T.d(N,"a",N),N},T.o=function(P,N){return Object.prototype.hasOwnProperty.call(P,N)},T.p="",T(T.s=26)}([function(se,D,T){"use strict";function P(){}P.QUALITY=1,P.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,P.DEFAULT_INCREMENTAL=!1,P.DEFAULT_ANIMATION_ON_LAYOUT=!0,P.DEFAULT_ANIMATION_DURING_LAYOUT=!1,P.DEFAULT_ANIMATION_PERIOD=50,P.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,P.DEFAULT_GRAPH_MARGIN=15,P.NODE_DIMENSIONS_INCLUDE_LABELS=!1,P.SIMPLE_NODE_HALF_SIZE=(P.SIMPLE_NODE_SIZE=40)/2,P.EMPTY_COMPOUND_NODE_SIZE=40,P.MIN_EDGE_LENGTH=1,P.INITIAL_WORLD_BOUNDARY=(P.WORLD_BOUNDARY=1e6)/1e3,P.WORLD_CENTER_X=1200,P.WORLD_CENTER_Y=900,se.exports=P},function(se,D,T){"use strict";var P=T(2),N=T(8),I=T(9);function C(R,A,V){P.call(this,V),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=V,this.bendpoints=[],this.source=R,this.target=A}for(var S in C.prototype=Object.create(P.prototype),P)C[S]=P[S];C.prototype.getSource=function(){return this.source},C.prototype.getTarget=function(){return this.target},C.prototype.isInterGraph=function(){return this.isInterGraph},C.prototype.getLength=function(){return this.length},C.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},C.prototype.getBendpoints=function(){return this.bendpoints},C.prototype.getLca=function(){return this.lca},C.prototype.getSourceInLca=function(){return this.sourceInLca},C.prototype.getTargetInLca=function(){return this.targetInLca},C.prototype.getOtherEnd=function(R){if(this.source===R)return this.target;if(this.target===R)return this.source;throw"Node is not incident with this edge"},C.prototype.getOtherEndInGraph=function(R,A){for(var V=this.getOtherEnd(R),L=A.getGraphManager().getRoot();;){if(V.getOwner()==A)return V;if(V.getOwner()==L)break;V=V.getOwner().getParent()}return null},C.prototype.updateLength=function(){var R=new Array(4);this.isOverlapingSourceAndTarget=N.getIntersection(this.target.getRect(),this.source.getRect(),R),this.isOverlapingSourceAndTarget||(this.lengthX=R[0]-R[2],this.lengthY=R[1]-R[3],Math.abs(this.lengthX)<1&&(this.lengthX=I.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=I.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},C.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=I.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=I.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},se.exports=C},function(se,D,T){"use strict";se.exports=function P(N){this.vGraphObject=N}},function(se,D,T){"use strict";var P=T(2),N=T(10),I=T(13),C=T(0),S=T(16),R=T(4);function A(L,k,H,$){null==H&&null==$&&($=k),P.call(this,$),null!=L.graphManager&&(L=L.graphManager),this.estimatedSize=N.MIN_VALUE,this.inclusionTreeDepth=N.MAX_VALUE,this.vGraphObject=$,this.edges=[],this.graphManager=L,this.rect=null!=H&&null!=k?new I(k.x,k.y,H.width,H.height):new I}for(var V in A.prototype=Object.create(P.prototype),P)A[V]=P[V];A.prototype.getEdges=function(){return this.edges},A.prototype.getChild=function(){return this.child},A.prototype.getOwner=function(){return this.owner},A.prototype.getWidth=function(){return this.rect.width},A.prototype.setWidth=function(L){this.rect.width=L},A.prototype.getHeight=function(){return this.rect.height},A.prototype.setHeight=function(L){this.rect.height=L},A.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},A.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},A.prototype.getCenter=function(){return new R(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},A.prototype.getLocation=function(){return new R(this.rect.x,this.rect.y)},A.prototype.getRect=function(){return this.rect},A.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},A.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},A.prototype.setRect=function(L,k){this.rect.x=L.x,this.rect.y=L.y,this.rect.width=k.width,this.rect.height=k.height},A.prototype.setCenter=function(L,k){this.rect.x=L-this.rect.width/2,this.rect.y=k-this.rect.height/2},A.prototype.setLocation=function(L,k){this.rect.x=L,this.rect.y=k},A.prototype.moveBy=function(L,k){this.rect.x+=L,this.rect.y+=k},A.prototype.getEdgeListToNode=function(L){var k=[],$=this;return $.edges.forEach(function(Q){if(Q.target==L){if(Q.source!=$)throw"Incorrect edge source!";k.push(Q)}}),k},A.prototype.getEdgesBetween=function(L){var k=[],$=this;return $.edges.forEach(function(Q){if(Q.source!=$&&Q.target!=$)throw"Incorrect edge source and/or target";(Q.target==L||Q.source==L)&&k.push(Q)}),k},A.prototype.getNeighborsList=function(){var L=new Set,k=this;return k.edges.forEach(function(H){if(H.source==k)L.add(H.target);else{if(H.target!=k)throw"Incorrect incidency!";L.add(H.source)}}),L},A.prototype.withChildren=function(){var L=new Set;if(L.add(this),null!=this.child)for(var $=this.child.getNodes(),Q=0;Q<$.length;Q++)$[Q].withChildren().forEach(function(ue){L.add(ue)});return L},A.prototype.getNoOfChildren=function(){var L=0;if(null==this.child)L=1;else for(var H=this.child.getNodes(),$=0;$<H.length;$++)L+=H[$].getNoOfChildren();return 0==L&&(L=1),L},A.prototype.getEstimatedSize=function(){if(this.estimatedSize==N.MIN_VALUE)throw"assert failed";return this.estimatedSize},A.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},A.prototype.scatter=function(){var L,k,H=-C.INITIAL_WORLD_BOUNDARY,$=C.INITIAL_WORLD_BOUNDARY;L=C.WORLD_CENTER_X+S.nextDouble()*($-H)+H;var Q=-C.INITIAL_WORLD_BOUNDARY,ue=C.INITIAL_WORLD_BOUNDARY;k=C.WORLD_CENTER_Y+S.nextDouble()*(ue-Q)+Q,this.rect.x=L,this.rect.y=k},A.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var L=this.getChild();if(L.updateBounds(!0),this.rect.x=L.getLeft(),this.rect.y=L.getTop(),this.setWidth(L.getRight()-L.getLeft()),this.setHeight(L.getBottom()-L.getTop()),C.NODE_DIMENSIONS_INCLUDE_LABELS){var k=L.getRight()-L.getLeft(),H=L.getBottom()-L.getTop();this.labelWidth>k&&(this.rect.x-=(this.labelWidth-k)/2,this.setWidth(this.labelWidth)),this.labelHeight>H&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-H)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-H),this.setHeight(this.labelHeight))}}},A.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==N.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},A.prototype.transform=function(L){var k=this.rect.x;k>C.WORLD_BOUNDARY?k=C.WORLD_BOUNDARY:k<-C.WORLD_BOUNDARY&&(k=-C.WORLD_BOUNDARY);var H=this.rect.y;H>C.WORLD_BOUNDARY?H=C.WORLD_BOUNDARY:H<-C.WORLD_BOUNDARY&&(H=-C.WORLD_BOUNDARY);var $=new R(k,H),Q=L.inverseTransformPoint($);this.setLocation(Q.x,Q.y)},A.prototype.getLeft=function(){return this.rect.x},A.prototype.getRight=function(){return this.rect.x+this.rect.width},A.prototype.getTop=function(){return this.rect.y},A.prototype.getBottom=function(){return this.rect.y+this.rect.height},A.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},se.exports=A},function(se,D,T){"use strict";function P(N,I){null==N&&null==I?(this.x=0,this.y=0):(this.x=N,this.y=I)}P.prototype.getX=function(){return this.x},P.prototype.getY=function(){return this.y},P.prototype.setX=function(N){this.x=N},P.prototype.setY=function(N){this.y=N},P.prototype.getDifference=function(N){return new DimensionD(this.x-N.x,this.y-N.y)},P.prototype.getCopy=function(){return new P(this.x,this.y)},P.prototype.translate=function(N){return this.x+=N.width,this.y+=N.height,this},se.exports=P},function(se,D,T){"use strict";var P=T(2),N=T(10),I=T(0),C=T(6),S=T(3),R=T(1),A=T(13),V=T(12),L=T(11);function k($,Q,ue){P.call(this,ue),this.estimatedSize=N.MIN_VALUE,this.margin=I.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=$,null!=Q&&Q instanceof C?this.graphManager=Q:null!=Q&&Q instanceof Layout&&(this.graphManager=Q.graphManager)}for(var H in k.prototype=Object.create(P.prototype),P)k[H]=P[H];k.prototype.getNodes=function(){return this.nodes},k.prototype.getEdges=function(){return this.edges},k.prototype.getGraphManager=function(){return this.graphManager},k.prototype.getParent=function(){return this.parent},k.prototype.getLeft=function(){return this.left},k.prototype.getRight=function(){return this.right},k.prototype.getTop=function(){return this.top},k.prototype.getBottom=function(){return this.bottom},k.prototype.isConnected=function(){return this.isConnected},k.prototype.add=function($,Q,ue){if(null==Q&&null==ue){var ne=$;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(ne)>-1)throw"Node already in graph!";return ne.owner=this,this.getNodes().push(ne),ne}var le=$;if(!(this.getNodes().indexOf(Q)>-1&&this.getNodes().indexOf(ue)>-1))throw"Source or target not in graph!";if(Q.owner!=ue.owner||Q.owner!=this)throw"Both owners must be this graph!";return Q.owner!=ue.owner?null:(le.source=Q,le.target=ue,le.isInterGraph=!1,this.getEdges().push(le),Q.edges.push(le),ue!=Q&&ue.edges.push(le),le)},k.prototype.remove=function($){var Q=$;if($ instanceof S){if(null==Q)throw"Node is null!";if(null==Q.owner||Q.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var ue=Q.edges.slice(),le=ue.length,ae=0;ae<le;ae++)(ne=ue[ae]).isInterGraph?this.graphManager.remove(ne):ne.source.owner.remove(ne);if(-1==(de=this.nodes.indexOf(Q)))throw"Node not in owner node list!";this.nodes.splice(de,1)}else if($ instanceof R){var ne;if(null==(ne=$))throw"Edge is null!";if(null==ne.source||null==ne.target)throw"Source and/or target is null!";if(null==ne.source.owner||null==ne.target.owner||ne.source.owner!=this||ne.target.owner!=this)throw"Source and/or target owner is invalid!";var de,te=ne.source.edges.indexOf(ne),pe=ne.target.edges.indexOf(ne);if(!(te>-1&&pe>-1))throw"Source and/or target doesn't know this edge!";if(ne.source.edges.splice(te,1),ne.target!=ne.source&&ne.target.edges.splice(pe,1),-1==(de=ne.source.owner.getEdges().indexOf(ne)))throw"Not in owner's edge list!";ne.source.owner.getEdges().splice(de,1)}},k.prototype.updateLeftTop=function(){for(var ue,ne,le,$=N.MAX_VALUE,Q=N.MAX_VALUE,ae=this.getNodes(),de=ae.length,te=0;te<de;te++){var pe=ae[te];$>(ue=pe.getTop())&&($=ue),Q>(ne=pe.getLeft())&&(Q=ne)}return $==N.MAX_VALUE?null:(le=null!=ae[0].getParent().paddingLeft?ae[0].getParent().paddingLeft:this.margin,this.left=Q-le,this.top=$-le,new V(this.left,this.top))},k.prototype.updateBounds=function($){for(var ae,de,te,pe,q,Q=N.MAX_VALUE,ue=-N.MAX_VALUE,ne=N.MAX_VALUE,le=-N.MAX_VALUE,oe=this.nodes,ie=oe.length,me=0;me<ie;me++){var we=oe[me];$&&null!=we.child&&we.updateBounds(),Q>(ae=we.getLeft())&&(Q=ae),ue<(de=we.getRight())&&(ue=de),ne>(te=we.getTop())&&(ne=te),le<(pe=we.getBottom())&&(le=pe)}var Se=new A(Q,ne,ue-Q,le-ne);Q==N.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),q=null!=oe[0].getParent().paddingLeft?oe[0].getParent().paddingLeft:this.margin,this.left=Se.x-q,this.right=Se.x+Se.width+q,this.top=Se.y-q,this.bottom=Se.y+Se.height+q},k.calculateBounds=function($){for(var ae,de,te,pe,Q=N.MAX_VALUE,ue=-N.MAX_VALUE,ne=N.MAX_VALUE,le=-N.MAX_VALUE,q=$.length,oe=0;oe<q;oe++){var ie=$[oe];Q>(ae=ie.getLeft())&&(Q=ae),ue<(de=ie.getRight())&&(ue=de),ne>(te=ie.getTop())&&(ne=te),le<(pe=ie.getBottom())&&(le=pe)}return new A(Q,ne,ue-Q,le-ne)},k.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},k.prototype.getEstimatedSize=function(){if(this.estimatedSize==N.MIN_VALUE)throw"assert failed";return this.estimatedSize},k.prototype.calcEstimatedSize=function(){for(var $=0,Q=this.nodes,ue=Q.length,ne=0;ne<ue;ne++)$+=Q[ne].calcEstimatedSize();return this.estimatedSize=0==$?I.EMPTY_COMPOUND_NODE_SIZE:$/Math.sqrt(this.nodes.length),this.estimatedSize},k.prototype.updateConnected=function(){var $=this;if(0!=this.nodes.length){var le,ae,Q=new L,ue=new Set,ne=this.nodes[0];for(ne.withChildren().forEach(function(me){Q.push(me),ue.add(me)});0!==Q.length;)for(var te=(le=(ne=Q.shift()).getEdges()).length,pe=0;pe<te;pe++)null==(ae=le[pe].getOtherEndInGraph(ne,this))||ue.has(ae)||ae.withChildren().forEach(function(me){Q.push(me),ue.add(me)});if(this.isConnected=!1,ue.size>=this.nodes.length){var ie=0;ue.forEach(function(me){me.owner==$&&ie++}),ie==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},se.exports=k},function(se,D,T){"use strict";var P,N=T(1);function I(C){P=T(5),this.layout=C,this.graphs=[],this.edges=[]}I.prototype.addRoot=function(){var C=this.layout.newGraph(),S=this.layout.newNode(null),R=this.add(C,S);return this.setRootGraph(R),this.rootGraph},I.prototype.add=function(C,S,R,A,V){if(null==R&&null==A&&null==V){if(null==C)throw"Graph is null!";if(null==S)throw"Parent node is null!";if(this.graphs.indexOf(C)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(C),null!=C.parent)throw"Already has a parent!";if(null!=S.child)throw"Already has a child!";return C.parent=S,S.child=C,C}V=R,R=C;var L=(A=S).getOwner(),k=V.getOwner();if(null==L||L.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==k||k.getGraphManager()!=this)throw"Target not in this graph mgr!";if(L==k)return R.isInterGraph=!1,L.add(R,A,V);if(R.isInterGraph=!0,R.source=A,R.target=V,this.edges.indexOf(R)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(R),null==R.source||null==R.target)throw"Edge source and/or target is null!";if(-1!=R.source.edges.indexOf(R)||-1!=R.target.edges.indexOf(R))throw"Edge already in source and/or target incidency list!";return R.source.edges.push(R),R.target.edges.push(R),R},I.prototype.remove=function(C){if(C instanceof P){var S=C;if(S.getGraphManager()!=this)throw"Graph not in this graph mgr";if(S!=this.rootGraph&&(null==S.parent||S.parent.graphManager!=this))throw"Invalid parent node!";for(var A,R=[],V=(R=R.concat(S.getEdges())).length,L=0;L<V;L++)S.remove(A=R[L]);var k=[];for(V=(k=k.concat(S.getNodes())).length,L=0;L<V;L++)S.remove(k[L]);S==this.rootGraph&&this.setRootGraph(null);var $=this.graphs.indexOf(S);this.graphs.splice($,1),S.parent=null}else if(C instanceof N){if(null==(A=C))throw"Edge is null!";if(!A.isInterGraph)throw"Not an inter-graph edge!";if(null==A.source||null==A.target)throw"Source and/or target is null!";if(-1==A.source.edges.indexOf(A)||-1==A.target.edges.indexOf(A))throw"Source and/or target doesn't know this edge!";if($=A.source.edges.indexOf(A),A.source.edges.splice($,1),$=A.target.edges.indexOf(A),A.target.edges.splice($,1),null==A.source.owner||null==A.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==A.source.owner.getGraphManager().edges.indexOf(A))throw"Not in owner graph manager's edge list!";$=A.source.owner.getGraphManager().edges.indexOf(A),A.source.owner.getGraphManager().edges.splice($,1)}},I.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},I.prototype.getGraphs=function(){return this.graphs},I.prototype.getAllNodes=function(){if(null==this.allNodes){for(var C=[],S=this.getGraphs(),R=S.length,A=0;A<R;A++)C=C.concat(S[A].getNodes());this.allNodes=C}return this.allNodes},I.prototype.resetAllNodes=function(){this.allNodes=null},I.prototype.resetAllEdges=function(){this.allEdges=null},I.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},I.prototype.getAllEdges=function(){if(null==this.allEdges){for(var C=[],S=this.getGraphs(),A=0;A<S.length;A++)C=C.concat(S[A].getEdges());C=C.concat(this.edges),this.allEdges=C}return this.allEdges},I.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},I.prototype.setAllNodesToApplyGravitation=function(C){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=C},I.prototype.getRoot=function(){return this.rootGraph},I.prototype.setRootGraph=function(C){if(C.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=C,null==C.parent&&(C.parent=this.layout.newNode("Root node"))},I.prototype.getLayout=function(){return this.layout},I.prototype.isOneAncestorOfOther=function(C,S){if(null==C||null==S)throw"assert failed";if(C==S)return!0;for(var A,R=C.getOwner();null!=(A=R.getParent());){if(A==S)return!0;if(null==(R=A.getOwner()))break}for(R=S.getOwner();null!=(A=R.getParent());){if(A==C)return!0;if(null==(R=A.getOwner()))break}return!1},I.prototype.calcLowestCommonAncestors=function(){for(var C,S,R,A,V,L=this.getAllEdges(),k=L.length,H=0;H<k;H++)if(S=(C=L[H]).source,R=C.target,C.lca=null,C.sourceInLca=S,C.targetInLca=R,S!=R){for(A=S.getOwner();null==C.lca;){for(C.targetInLca=R,V=R.getOwner();null==C.lca;){if(V==A){C.lca=V;break}if(V==this.rootGraph)break;if(null!=C.lca)throw"assert failed";C.targetInLca=V.getParent(),V=C.targetInLca.getOwner()}if(A==this.rootGraph)break;null==C.lca&&(C.sourceInLca=A.getParent(),A=C.sourceInLca.getOwner())}if(null==C.lca)throw"assert failed"}else C.lca=S.getOwner()},I.prototype.calcLowestCommonAncestor=function(C,S){if(C==S)return C.getOwner();for(var R=C.getOwner();null!=R;){for(var A=S.getOwner();null!=A;){if(A==R)return A;A=A.getParent().getOwner()}R=R.getParent().getOwner()}return R},I.prototype.calcInclusionTreeDepths=function(C,S){null==C&&null==S&&(C=this.rootGraph,S=1);for(var R,A=C.getNodes(),V=A.length,L=0;L<V;L++)(R=A[L]).inclusionTreeDepth=S,null!=R.child&&this.calcInclusionTreeDepths(R.child,S+1)},I.prototype.includesInvalidEdge=function(){for(var C,S=this.edges.length,R=0;R<S;R++)if(this.isOneAncestorOfOther((C=this.edges[R]).source,C.target))return!0;return!1},se.exports=I},function(se,D,T){"use strict";var P=T(0);function N(){}for(var I in P)N[I]=P[I];N.MAX_ITERATIONS=2500,N.DEFAULT_EDGE_LENGTH=50,N.DEFAULT_SPRING_STRENGTH=.45,N.DEFAULT_REPULSION_STRENGTH=4500,N.DEFAULT_GRAVITY_STRENGTH=.4,N.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,N.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,N.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,N.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,N.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,N.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,N.COOLING_ADAPTATION_FACTOR=.33,N.ADAPTATION_LOWER_NODE_LIMIT=1e3,N.ADAPTATION_UPPER_NODE_LIMIT=5e3,N.MAX_NODE_DISPLACEMENT=3*(N.MAX_NODE_DISPLACEMENT_INCREMENTAL=100),N.MIN_REPULSION_DIST=N.DEFAULT_EDGE_LENGTH/10,N.CONVERGENCE_CHECK_PERIOD=100,N.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,N.MIN_EDGE_LENGTH=1,N.GRID_CALCULATION_CHECK_PERIOD=10,se.exports=N},function(se,D,T){"use strict";var P=T(12);function N(){}N.calcSeparationAmount=function(I,C,S,R){if(!I.intersects(C))throw"assert failed";var A=new Array(2);this.decideDirectionsForOverlappingNodes(I,C,A),S[0]=Math.min(I.getRight(),C.getRight())-Math.max(I.x,C.x),S[1]=Math.min(I.getBottom(),C.getBottom())-Math.max(I.y,C.y),I.getX()<=C.getX()&&I.getRight()>=C.getRight()?S[0]+=Math.min(C.getX()-I.getX(),I.getRight()-C.getRight()):C.getX()<=I.getX()&&C.getRight()>=I.getRight()&&(S[0]+=Math.min(I.getX()-C.getX(),C.getRight()-I.getRight())),I.getY()<=C.getY()&&I.getBottom()>=C.getBottom()?S[1]+=Math.min(C.getY()-I.getY(),I.getBottom()-C.getBottom()):C.getY()<=I.getY()&&C.getBottom()>=I.getBottom()&&(S[1]+=Math.min(I.getY()-C.getY(),C.getBottom()-I.getBottom()));var V=Math.abs((C.getCenterY()-I.getCenterY())/(C.getCenterX()-I.getCenterX()));C.getCenterY()===I.getCenterY()&&C.getCenterX()===I.getCenterX()&&(V=1);var L=V*S[0],k=S[1]/V;S[0]<k?k=S[0]:L=S[1],S[0]=-1*A[0]*(k/2+R),S[1]=-1*A[1]*(L/2+R)},N.decideDirectionsForOverlappingNodes=function(I,C,S){S[0]=I.getCenterX()<C.getCenterX()?-1:1,S[1]=I.getCenterY()<C.getCenterY()?-1:1},N.getIntersection2=function(I,C,S){var R=I.getCenterX(),A=I.getCenterY(),V=C.getCenterX(),L=C.getCenterY();if(I.intersects(C))return S[0]=R,S[1]=A,S[2]=V,S[3]=L,!0;var k=I.getX(),H=I.getY(),$=I.getRight(),Q=I.getX(),ue=I.getBottom(),ne=I.getRight(),le=I.getWidthHalf(),ae=I.getHeightHalf(),de=C.getX(),te=C.getY(),pe=C.getRight(),q=C.getX(),oe=C.getBottom(),ie=C.getRight(),me=C.getWidthHalf(),we=C.getHeightHalf(),Se=!1,De=!1;if(R===V){if(A>L)return S[0]=R,S[1]=H,S[2]=V,S[3]=oe,!1;if(A<L)return S[0]=R,S[1]=ue,S[2]=V,S[3]=te,!1}else if(A===L){if(R>V)return S[0]=k,S[1]=A,S[2]=pe,S[3]=L,!1;if(R<V)return S[0]=$,S[1]=A,S[2]=de,S[3]=L,!1}else{var ze=I.height/I.width,Be=C.height/C.width,st=(L-A)/(V-R),ht=void 0,Ze=void 0,Qe=void 0,zt=void 0;if(-ze===st?R>V?(S[0]=Q,S[1]=ue,Se=!0):(S[0]=$,S[1]=H,Se=!0):ze===st&&(R>V?(S[0]=k,S[1]=H,Se=!0):(S[0]=ne,S[1]=ue,Se=!0)),-Be===st?V>R?(S[2]=q,S[3]=oe,De=!0):(S[2]=pe,S[3]=te,De=!0):Be===st&&(V>R?(S[2]=de,S[3]=te,De=!0):(S[2]=ie,S[3]=oe,De=!0)),Se&&De)return!1;if(R>V?A>L?(ht=this.getCardinalDirection(ze,st,4),Ze=this.getCardinalDirection(Be,st,2)):(ht=this.getCardinalDirection(-ze,st,3),Ze=this.getCardinalDirection(-Be,st,1)):A>L?(ht=this.getCardinalDirection(-ze,st,1),Ze=this.getCardinalDirection(-Be,st,3)):(ht=this.getCardinalDirection(ze,st,2),Ze=this.getCardinalDirection(Be,st,4)),!Se)switch(ht){case 1:Qe=H,S[0]=R+-ae/st,S[1]=Qe;break;case 2:Qe=A+le*st,S[0]=ne,S[1]=Qe;break;case 3:Qe=ue,S[0]=R+ae/st,S[1]=Qe;break;case 4:Qe=A+-le*st,S[0]=Q,S[1]=Qe}if(!De)switch(Ze){case 1:zt=te,S[2]=V+-we/st,S[3]=zt;break;case 2:zt=L+me*st,S[2]=ie,S[3]=zt;break;case 3:zt=oe,S[2]=V+we/st,S[3]=zt;break;case 4:zt=L+-me*st,S[2]=q,S[3]=zt}}return!1},N.getCardinalDirection=function(I,C,S){return I>C?S:1+S%4},N.getIntersection=function(I,C,S,R){if(null==R)return this.getIntersection2(I,C,S);var ae,de,te,pe,q,oe,ie,A=I.x,V=I.y,L=C.x,k=C.y,H=S.x,$=S.y,Q=R.x,ue=R.y;return q=L*V-A*k,oe=Q*$-H*ue,0==(ie=(ae=k-V)*(pe=H-Q)-(de=ue-$)*(te=A-L))?null:new P((te*oe-pe*q)/ie,(de*q-ae*oe)/ie)},N.angleOfVector=function(I,C,S,R){var A=void 0;return I!==S?(A=Math.atan((R-C)/(S-I)),S<I?A+=Math.PI:R<C&&(A+=this.TWO_PI)):A=R<C?this.ONE_AND_HALF_PI:this.HALF_PI,A},N.doIntersect=function(I,C,S,R){var A=I.x,V=I.y,L=C.x,k=C.y,H=S.x,$=S.y,Q=R.x,ue=R.y,ne=(L-A)*(ue-$)-(Q-H)*(k-V);if(0===ne)return!1;var le=((ue-$)*(Q-A)+(H-Q)*(ue-V))/ne,ae=((V-k)*(Q-A)+(L-A)*(ue-V))/ne;return 0<le&&le<1&&0<ae&&ae<1},N.HALF_PI=.5*Math.PI,N.ONE_AND_HALF_PI=1.5*Math.PI,N.TWO_PI=2*Math.PI,N.THREE_PI=3*Math.PI,se.exports=N},function(se,D,T){"use strict";function P(){}P.sign=function(N){return N>0?1:N<0?-1:0},P.floor=function(N){return N<0?Math.ceil(N):Math.floor(N)},P.ceil=function(N){return N<0?Math.floor(N):Math.ceil(N)},se.exports=P},function(se,D,T){"use strict";function P(){}P.MAX_VALUE=2147483647,P.MIN_VALUE=-2147483648,se.exports=P},function(se,D,T){"use strict";var P=function(){function A(V,L){for(var k=0;k<L.length;k++){var H=L[k];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(V,H.key,H)}}return function(V,L,k){return L&&A(V.prototype,L),k&&A(V,k),V}}();var I=function(V){return{value:V,next:null,prev:null}},C=function(V,L,k,H){return null!==V?V.next=L:H.head=L,null!==k?k.prev=L:H.tail=L,L.prev=V,L.next=k,H.length++,L},S=function(V,L){var k=V.prev,H=V.next;return null!==k?k.next=H:L.head=H,null!==H?H.prev=k:L.tail=k,V.prev=V.next=null,L.length--,V},R=function(){function A(V){var L=this;(function N(A,V){if(!(A instanceof V))throw new TypeError("Cannot call a class as a function")})(this,A),this.length=0,this.head=null,this.tail=null,V?.forEach(function(k){return L.push(k)})}return P(A,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(L,k){return C(k.prev,I(L),k,this)}},{key:"insertAfter",value:function(L,k){return C(k,I(L),k.next,this)}},{key:"insertNodeBefore",value:function(L,k){return C(k.prev,L,k,this)}},{key:"insertNodeAfter",value:function(L,k){return C(k,L,k.next,this)}},{key:"push",value:function(L){return C(this.tail,I(L),null,this)}},{key:"unshift",value:function(L){return C(null,I(L),this.head,this)}},{key:"remove",value:function(L){return S(L,this)}},{key:"pop",value:function(){return S(this.tail,this).value}},{key:"popNode",value:function(){return S(this.tail,this)}},{key:"shift",value:function(){return S(this.head,this).value}},{key:"shiftNode",value:function(){return S(this.head,this)}},{key:"get_object_at",value:function(L){if(L<=this.length()){for(var k=1,H=this.head;k<L;)H=H.next,k++;return H.value}}},{key:"set_object_at",value:function(L,k){if(L<=this.length()){for(var H=1,$=this.head;H<L;)$=$.next,H++;$.value=k}}}]),A}();se.exports=R},function(se,D,T){"use strict";function P(N,I,C){this.x=null,this.y=null,null==N&&null==I&&null==C?(this.x=0,this.y=0):"number"==typeof N&&"number"==typeof I&&null==C?(this.x=N,this.y=I):"Point"==N.constructor.name&&null==I&&null==C&&(this.x=(C=N).x,this.y=C.y)}P.prototype.getX=function(){return this.x},P.prototype.getY=function(){return this.y},P.prototype.getLocation=function(){return new P(this.x,this.y)},P.prototype.setLocation=function(N,I,C){"Point"==N.constructor.name&&null==I&&null==C?this.setLocation((C=N).x,C.y):"number"==typeof N&&"number"==typeof I&&null==C&&(parseInt(N)==N&&parseInt(I)==I?this.move(N,I):(this.x=Math.floor(N+.5),this.y=Math.floor(I+.5)))},P.prototype.move=function(N,I){this.x=N,this.y=I},P.prototype.translate=function(N,I){this.x+=N,this.y+=I},P.prototype.equals=function(N){return"Point"==N.constructor.name?this.x==N.x&&this.y==N.y:this==N},P.prototype.toString=function(){return(new P).constructor.name+"[x="+this.x+",y="+this.y+"]"},se.exports=P},function(se,D,T){"use strict";function P(N,I,C,S){this.x=0,this.y=0,this.width=0,this.height=0,null!=N&&null!=I&&null!=C&&null!=S&&(this.x=N,this.y=I,this.width=C,this.height=S)}P.prototype.getX=function(){return this.x},P.prototype.setX=function(N){this.x=N},P.prototype.getY=function(){return this.y},P.prototype.setY=function(N){this.y=N},P.prototype.getWidth=function(){return this.width},P.prototype.setWidth=function(N){this.width=N},P.prototype.getHeight=function(){return this.height},P.prototype.setHeight=function(N){this.height=N},P.prototype.getRight=function(){return this.x+this.width},P.prototype.getBottom=function(){return this.y+this.height},P.prototype.intersects=function(N){return!(this.getRight()<N.x||this.getBottom()<N.y||N.getRight()<this.x||N.getBottom()<this.y)},P.prototype.getCenterX=function(){return this.x+this.width/2},P.prototype.getMinX=function(){return this.getX()},P.prototype.getMaxX=function(){return this.getX()+this.width},P.prototype.getCenterY=function(){return this.y+this.height/2},P.prototype.getMinY=function(){return this.getY()},P.prototype.getMaxY=function(){return this.getY()+this.height},P.prototype.getWidthHalf=function(){return this.width/2},P.prototype.getHeightHalf=function(){return this.height/2},se.exports=P},function(se,D,T){"use strict";var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};function N(){}N.lastID=0,N.createID=function(I){return N.isPrimitive(I)?I:(null!=I.uniqueID||(I.uniqueID=N.getString(),N.lastID++),I.uniqueID)},N.getString=function(I){return null==I&&(I=N.lastID),"Object#"+I},N.isPrimitive=function(I){var C=typeof I>"u"?"undefined":P(I);return null==I||"object"!=C&&"function"!=C},se.exports=N},function(se,D,T){"use strict";function P(H){if(Array.isArray(H)){for(var $=0,Q=Array(H.length);$<H.length;$++)Q[$]=H[$];return Q}return Array.from(H)}var N=T(0),I=T(6),C=T(3),S=T(1),R=T(5),A=T(4),V=T(17),L=T(27);function k(H){L.call(this),this.layoutQuality=N.QUALITY,this.createBendsAsNeeded=N.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=N.DEFAULT_INCREMENTAL,this.animationOnLayout=N.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=N.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=N.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=N.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new I(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=H&&(this.isRemoteUse=H)}k.RANDOM_SEED=1,(k.prototype=Object.create(L.prototype)).getGraphManager=function(){return this.graphManager},k.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},k.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},k.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},k.prototype.newGraphManager=function(){var H=new I(this);return this.graphManager=H,H},k.prototype.newGraph=function(H){return new R(null,this.graphManager,H)},k.prototype.newNode=function(H){return new C(this.graphManager,H)},k.prototype.newEdge=function(H){return new S(null,null,H)},k.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},k.prototype.runLayout=function(){var H;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),H=!this.checkLayoutSuccess()&&this.layout(),"during"!==N.ANIMATE&&(H&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,H)},k.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},k.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var $=this.graphManager.getAllEdges(),Q=0;Q<$.length;Q++);var ne=this.graphManager.getRoot().getNodes();for(Q=0;Q<ne.length;Q++);this.update(this.graphManager.getRoot())}},k.prototype.update=function(H){if(null==H)this.update2();else if(H instanceof C){var $=H;if(null!=$.getChild())for(var Q=$.getChild().getNodes(),ue=0;ue<Q.length;ue++)update(Q[ue]);null!=$.vGraphObject&&$.vGraphObject.update($)}else H instanceof S?null!=H.vGraphObject&&H.vGraphObject.update(H):H instanceof R&&null!=H.vGraphObject&&H.vGraphObject.update(H)},k.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=N.QUALITY,this.animationDuringLayout=N.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=N.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=N.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=N.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=N.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=N.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},k.prototype.transform=function(H){if(null==H)this.transform(new A(0,0));else{var $=new V,Q=this.graphManager.getRoot().updateLeftTop();if(null!=Q){$.setWorldOrgX(H.x),$.setWorldOrgY(H.y),$.setDeviceOrgX(Q.x),$.setDeviceOrgY(Q.y);for(var ue=this.getAllNodes(),le=0;le<ue.length;le++)ue[le].transform($)}}},k.prototype.positionNodesRandomly=function(H){if(null==H)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var $,Q,ue=H.getNodes(),ne=0;ne<ue.length;ne++)null==(Q=($=ue[ne]).getChild())||0==Q.getNodes().length?$.scatter():(this.positionNodesRandomly(Q),$.updateBounds())},k.prototype.getFlatForest=function(){for(var H=[],$=!0,Q=this.graphManager.getRoot().getNodes(),ue=!0,ne=0;ne<Q.length;ne++)null!=Q[ne].getChild()&&(ue=!1);if(!ue)return H;var le=new Set,ae=[],de=new Map,te=[];for(te=te.concat(Q);te.length>0&&$;){for(ae.push(te[0]);ae.length>0&&$;){var pe=ae[0];ae.splice(0,1),le.add(pe);var q=pe.getEdges();for(ne=0;ne<q.length;ne++){var oe=q[ne].getOtherEnd(pe);if(de.get(pe)!=oe){if(le.has(oe)){$=!1;break}ae.push(oe),de.set(oe,pe)}}}if($){var ie=[].concat(P(le));for(H.push(ie),ne=0;ne<ie.length;ne++){var we=te.indexOf(ie[ne]);we>-1&&te.splice(we,1)}le=new Set,de=new Map}else H=[]}return H},k.prototype.createDummyNodesForBendpoints=function(H){for(var $=[],Q=H.source,ue=this.graphManager.calcLowestCommonAncestor(H.source,H.target),ne=0;ne<H.bendpoints.length;ne++){var le=this.newNode(null);le.setRect(new Point(0,0),new Dimension(1,1)),ue.add(le);var ae=this.newEdge(null);this.graphManager.add(ae,Q,le),$.add(le),Q=le}return ae=this.newEdge(null),this.graphManager.add(ae,Q,H.target),this.edgeToDummyNodes.set(H,$),H.isInterGraph()?this.graphManager.remove(H):ue.remove(H),$},k.prototype.createBendpointsFromDummyNodes=function(){var H=[];H=H.concat(this.graphManager.getAllEdges()),H=[].concat(P(this.edgeToDummyNodes.keys())).concat(H);for(var $=0;$<H.length;$++){var Q=H[$];if(Q.bendpoints.length>0){for(var ue=this.edgeToDummyNodes.get(Q),ne=0;ne<ue.length;ne++){var le=ue[ne],ae=new A(le.getCenterX(),le.getCenterY()),de=Q.bendpoints.get(ne);de.x=ae.x,de.y=ae.y,le.getOwner().remove(le)}this.graphManager.add(Q,Q.source,Q.target)}}},k.transform=function(H,$,Q,ue){if(null!=Q&&null!=ue){var ne=$;return H<=50?ne-=($-$/Q)/50*(50-H):ne+=($*ue-$)/50*(H-50),ne}var de,te;return H<=50?(de=9*$/500,te=$/10):(de=9*$/50,te=-8*$),de*H+te},k.findCenterOfTree=function(H){var $=[];$=$.concat(H);var Q=[],ue=new Map,ne=!1,le=null;(1==$.length||2==$.length)&&(ne=!0,le=$[0]);for(var ae=0;ae<$.length;ae++){var te=(de=$[ae]).getNeighborsList().size;ue.set(de,de.getNeighborsList().size),1==te&&Q.push(de)}var pe=[];for(pe=pe.concat(Q);!ne;){var q=[];for(q=q.concat(pe),pe=[],ae=0;ae<$.length;ae++){var de,oe=$.indexOf(de=$[ae]);oe>=0&&$.splice(oe,1),de.getNeighborsList().forEach(function(Se){if(Q.indexOf(Se)<0){var ze=ue.get(Se)-1;1==ze&&pe.push(Se),ue.set(Se,ze)}})}Q=Q.concat(pe),(1==$.length||2==$.length)&&(ne=!0,le=$[0])}return le},k.prototype.setGraphManager=function(H){this.graphManager=H},se.exports=k},function(se,D,T){"use strict";function P(){}P.seed=1,P.x=0,P.nextDouble=function(){return(P.x=1e4*Math.sin(P.seed++))-Math.floor(P.x)},se.exports=P},function(se,D,T){"use strict";var P=T(4);function N(I,C){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}N.prototype.getWorldOrgX=function(){return this.lworldOrgX},N.prototype.setWorldOrgX=function(I){this.lworldOrgX=I},N.prototype.getWorldOrgY=function(){return this.lworldOrgY},N.prototype.setWorldOrgY=function(I){this.lworldOrgY=I},N.prototype.getWorldExtX=function(){return this.lworldExtX},N.prototype.setWorldExtX=function(I){this.lworldExtX=I},N.prototype.getWorldExtY=function(){return this.lworldExtY},N.prototype.setWorldExtY=function(I){this.lworldExtY=I},N.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},N.prototype.setDeviceOrgX=function(I){this.ldeviceOrgX=I},N.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},N.prototype.setDeviceOrgY=function(I){this.ldeviceOrgY=I},N.prototype.getDeviceExtX=function(){return this.ldeviceExtX},N.prototype.setDeviceExtX=function(I){this.ldeviceExtX=I},N.prototype.getDeviceExtY=function(){return this.ldeviceExtY},N.prototype.setDeviceExtY=function(I){this.ldeviceExtY=I},N.prototype.transformX=function(I){var C=0,S=this.lworldExtX;return 0!=S&&(C=this.ldeviceOrgX+(I-this.lworldOrgX)*this.ldeviceExtX/S),C},N.prototype.transformY=function(I){var C=0,S=this.lworldExtY;return 0!=S&&(C=this.ldeviceOrgY+(I-this.lworldOrgY)*this.ldeviceExtY/S),C},N.prototype.inverseTransformX=function(I){var C=0,S=this.ldeviceExtX;return 0!=S&&(C=this.lworldOrgX+(I-this.ldeviceOrgX)*this.lworldExtX/S),C},N.prototype.inverseTransformY=function(I){var C=0,S=this.ldeviceExtY;return 0!=S&&(C=this.lworldOrgY+(I-this.ldeviceOrgY)*this.lworldExtY/S),C},N.prototype.inverseTransformPoint=function(I){return new P(this.inverseTransformX(I.x),this.inverseTransformY(I.y))},se.exports=N},function(se,D,T){"use strict";var N=T(15),I=T(7),C=T(0),S=T(8),R=T(9);function A(){N.call(this),this.useSmartIdealEdgeLengthCalculation=I.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=I.DEFAULT_EDGE_LENGTH,this.springConstant=I.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=I.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=I.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=I.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=I.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=I.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*I.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=I.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=I.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=I.MAX_ITERATIONS}for(var V in A.prototype=Object.create(N.prototype),N)A[V]=N[V];A.prototype.initParameters=function(){N.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=I.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},A.prototype.calcIdealEdgeLengths=function(){for(var L,k,H,$,Q,ue,ne=this.getGraphManager().getAllEdges(),le=0;le<ne.length;le++)(L=ne[le]).idealLength=this.idealEdgeLength,L.isInterGraph&&(H=L.getSource(),$=L.getTarget(),Q=L.getSourceInLca().getEstimatedSize(),ue=L.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(L.idealLength+=Q+ue-2*C.SIMPLE_NODE_SIZE),k=L.getLca().getInclusionTreeDepth(),L.idealLength+=I.DEFAULT_EDGE_LENGTH*I.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(H.getInclusionTreeDepth()+$.getInclusionTreeDepth()-2*k))},A.prototype.initSpringEmbedder=function(){var L=this.getAllNodes().length;this.incremental?(L>I.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*I.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(L-I.ADAPTATION_LOWER_NODE_LIMIT)/(I.ADAPTATION_UPPER_NODE_LIMIT-I.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-I.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=I.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.coolingFactor=L>I.ADAPTATION_LOWER_NODE_LIMIT?Math.max(I.COOLING_ADAPTATION_FACTOR,1-(L-I.ADAPTATION_LOWER_NODE_LIMIT)/(I.ADAPTATION_UPPER_NODE_LIMIT-I.ADAPTATION_LOWER_NODE_LIMIT)*(1-I.COOLING_ADAPTATION_FACTOR)):1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=I.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},A.prototype.calcSpringForces=function(){for(var k,L=this.getAllEdges(),H=0;H<L.length;H++)this.calcSpringForce(k=L[H],k.idealLength)},A.prototype.calcRepulsionForces=function(){var H,$,Q,ue,le,L=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],k=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ne=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%I.GRID_CALCULATION_CHECK_PERIOD==1&&L&&this.updateGrid(),le=new Set,H=0;H<ne.length;H++)this.calculateRepulsionForceOfANode(Q=ne[H],le,L,k),le.add(Q);else for(H=0;H<ne.length;H++)for(Q=ne[H],$=H+1;$<ne.length;$++)ue=ne[$],Q.getOwner()==ue.getOwner()&&this.calcRepulsionForce(Q,ue)},A.prototype.calcGravitationalForces=function(){for(var k=this.getAllNodesToApplyGravitation(),H=0;H<k.length;H++)this.calcGravitationalForce(k[H])},A.prototype.moveNodes=function(){for(var L=this.getAllNodes(),H=0;H<L.length;H++)L[H].move()},A.prototype.calcSpringForce=function(L,k){var Q,ue,ne,le,H=L.getSource(),$=L.getTarget();if(this.uniformLeafNodeSizes&&null==H.getChild()&&null==$.getChild())L.updateLengthSimple();else if(L.updateLength(),L.isOverlapingSourceAndTarget)return;0!=(Q=L.getLength())&&(le=(ue=this.springConstant*(Q-k))*(L.lengthY/Q),H.springForceX+=ne=ue*(L.lengthX/Q),H.springForceY+=le,$.springForceX-=ne,$.springForceY-=le)},A.prototype.calcRepulsionForce=function(L,k){var ne,le,ae,de,te,pe,q,H=L.getRect(),$=k.getRect(),Q=new Array(2),ue=new Array(4);if(H.intersects($)){S.calcSeparationAmount(H,$,Q,I.DEFAULT_EDGE_LENGTH/2),q=2*Q[1];var oe=L.noOfChildren*k.noOfChildren/(L.noOfChildren+k.noOfChildren);L.repulsionForceX-=oe*(pe=2*Q[0]),L.repulsionForceY-=oe*q,k.repulsionForceX+=oe*pe,k.repulsionForceY+=oe*q}else this.uniformLeafNodeSizes&&null==L.getChild()&&null==k.getChild()?(ne=$.getCenterX()-H.getCenterX(),le=$.getCenterY()-H.getCenterY()):(S.getIntersection(H,$,ue),ne=ue[2]-ue[0],le=ue[3]-ue[1]),Math.abs(ne)<I.MIN_REPULSION_DIST&&(ne=R.sign(ne)*I.MIN_REPULSION_DIST),Math.abs(le)<I.MIN_REPULSION_DIST&&(le=R.sign(le)*I.MIN_REPULSION_DIST),ae=ne*ne+le*le,de=Math.sqrt(ae),q=(te=this.repulsionConstant*L.noOfChildren*k.noOfChildren/ae)*le/de,L.repulsionForceX-=pe=te*ne/de,L.repulsionForceY-=q,k.repulsionForceX+=pe,k.repulsionForceY+=q},A.prototype.calcGravitationalForce=function(L){var k,H,$,Q,ue,ne,le,ae;H=((k=L.getOwner()).getRight()+k.getLeft())/2,$=(k.getTop()+k.getBottom())/2,Q=L.getCenterX()-H,ue=L.getCenterY()-$,ne=Math.abs(Q)+L.getWidth()/2,le=Math.abs(ue)+L.getHeight()/2,L.getOwner()==this.graphManager.getRoot()?(ne>(ae=k.getEstimatedSize()*this.gravityRangeFactor)||le>ae)&&(L.gravitationForceX=-this.gravityConstant*Q,L.gravitationForceY=-this.gravityConstant*ue):(ne>(ae=k.getEstimatedSize()*this.compoundGravityRangeFactor)||le>ae)&&(L.gravitationForceX=-this.gravityConstant*Q*this.compoundGravityConstant,L.gravitationForceY=-this.gravityConstant*ue*this.compoundGravityConstant)},A.prototype.isConverged=function(){var L,k=!1;return this.totalIterations>this.maxIterations/3&&(k=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),L=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,L||k},A.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},A.prototype.calcNoOfChildrenForAllNodes=function(){for(var L,k=this.graphManager.getAllNodes(),H=0;H<k.length;H++)(L=k[H]).noOfChildren=L.getNoOfChildren()},A.prototype.calcGrid=function(L){var k,H;k=parseInt(Math.ceil((L.getRight()-L.getLeft())/this.repulsionRange)),H=parseInt(Math.ceil((L.getBottom()-L.getTop())/this.repulsionRange));for(var $=new Array(k),Q=0;Q<k;Q++)$[Q]=new Array(H);for(Q=0;Q<k;Q++)for(var ue=0;ue<H;ue++)$[Q][ue]=new Array;return $},A.prototype.addNodeToGrid=function(L,k,H){var $,Q,ue,ne;$=parseInt(Math.floor((L.getRect().x-k)/this.repulsionRange)),Q=parseInt(Math.floor((L.getRect().width+L.getRect().x-k)/this.repulsionRange)),ue=parseInt(Math.floor((L.getRect().y-H)/this.repulsionRange)),ne=parseInt(Math.floor((L.getRect().height+L.getRect().y-H)/this.repulsionRange));for(var le=$;le<=Q;le++)for(var ae=ue;ae<=ne;ae++)this.grid[le][ae].push(L),L.setGridCoordinates($,Q,ue,ne)},A.prototype.updateGrid=function(){var L,H=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),L=0;L<H.length;L++)this.addNodeToGrid(H[L],this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},A.prototype.calculateRepulsionForceOfANode=function(L,k,H,$){if(this.totalIterations%I.GRID_CALCULATION_CHECK_PERIOD==1&&H||$){var Q=new Set;L.surrounding=new Array;for(var ue,ne=this.grid,le=L.startX-1;le<L.finishX+2;le++)for(var ae=L.startY-1;ae<L.finishY+2;ae++)if(!(le<0||ae<0||le>=ne.length||ae>=ne[0].length))for(var de=0;de<ne[le][ae].length;de++)if(ue=ne[le][ae][de],L.getOwner()==ue.getOwner()&&L!=ue&&!k.has(ue)&&!Q.has(ue)){var te=Math.abs(L.getCenterX()-ue.getCenterX())-(L.getWidth()/2+ue.getWidth()/2),pe=Math.abs(L.getCenterY()-ue.getCenterY())-(L.getHeight()/2+ue.getHeight()/2);te<=this.repulsionRange&&pe<=this.repulsionRange&&Q.add(ue)}L.surrounding=[].concat(function P(L){if(Array.isArray(L)){for(var k=0,H=Array(L.length);k<L.length;k++)H[k]=L[k];return H}return Array.from(L)}(Q))}for(le=0;le<L.surrounding.length;le++)this.calcRepulsionForce(L,L.surrounding[le])},A.prototype.calcRepulsionRange=function(){return 0},se.exports=A},function(se,D,T){"use strict";var P=T(1),N=T(7);function I(S,R,A){P.call(this,S,R,A),this.idealLength=N.DEFAULT_EDGE_LENGTH}for(var C in I.prototype=Object.create(P.prototype),P)I[C]=P[C];se.exports=I},function(se,D,T){"use strict";var P=T(3);function N(C,S,R,A){P.call(this,C,S,R,A),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var I in N.prototype=Object.create(P.prototype),P)N[I]=P[I];N.prototype.setGridCoordinates=function(C,S,R,A){this.startX=C,this.finishX=S,this.startY=R,this.finishY=A},se.exports=N},function(se,D,T){"use strict";function P(N,I){this.width=0,this.height=0,null!==N&&null!==I&&(this.height=I,this.width=N)}P.prototype.getWidth=function(){return this.width},P.prototype.setWidth=function(N){this.width=N},P.prototype.getHeight=function(){return this.height},P.prototype.setHeight=function(N){this.height=N},se.exports=P},function(se,D,T){"use strict";var P=T(14);function N(){this.map={},this.keys=[]}N.prototype.put=function(I,C){var S=P.createID(I);this.contains(S)||(this.map[S]=C,this.keys.push(I))},N.prototype.contains=function(I){return P.createID(I),null!=this.map[I]},N.prototype.get=function(I){var C=P.createID(I);return this.map[C]},N.prototype.keySet=function(){return this.keys},se.exports=N},function(se,D,T){"use strict";var P=T(14);function N(){this.set={}}N.prototype.add=function(I){var C=P.createID(I);this.contains(C)||(this.set[C]=I)},N.prototype.remove=function(I){delete this.set[P.createID(I)]},N.prototype.clear=function(){this.set={}},N.prototype.contains=function(I){return this.set[P.createID(I)]==I},N.prototype.isEmpty=function(){return 0===this.size()},N.prototype.size=function(){return Object.keys(this.set).length},N.prototype.addAllTo=function(I){for(var C=Object.keys(this.set),S=C.length,R=0;R<S;R++)I.push(this.set[C[R]])},N.prototype.size=function(){return Object.keys(this.set).length},N.prototype.addAll=function(I){for(var C=I.length,S=0;S<C;S++)this.add(I[S])},se.exports=N},function(se,D,T){"use strict";var P=function(){function S(R,A){for(var V=0;V<A.length;V++){var L=A[V];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,L.key,L)}}return function(R,A,V){return A&&S(R.prototype,A),V&&S(R,V),R}}();var I=T(11),C=function(){function S(R,A){(function N(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")})(this,S),(null!==A||void 0!==A)&&(this.compareFunction=this._defaultCompareFunction);var V;V=R instanceof I?R.size():R.length,this._quicksort(R,0,V-1)}return P(S,[{key:"_quicksort",value:function(A,V,L){if(V<L){var k=this._partition(A,V,L);this._quicksort(A,V,k),this._quicksort(A,k+1,L)}}},{key:"_partition",value:function(A,V,L){for(var k=this._get(A,V),H=V,$=L;;){for(;this.compareFunction(k,this._get(A,$));)$--;for(;this.compareFunction(this._get(A,H),k);)H++;if(!(H<$))return $;this._swap(A,H,$),H++,$--}}},{key:"_get",value:function(A,V){return A instanceof I?A.get_object_at(V):A[V]}},{key:"_set",value:function(A,V,L){A instanceof I?A.set_object_at(V,L):A[V]=L}},{key:"_swap",value:function(A,V,L){var k=this._get(A,V);this._set(A,V,this._get(A,L)),this._set(A,L,k)}},{key:"_defaultCompareFunction",value:function(A,V){return V>A}}]),S}();se.exports=C},function(se,D,T){"use strict";var P=function(){function C(S,R){for(var A=0;A<R.length;A++){var V=R[A];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,V.key,V)}}return function(S,R,A){return R&&C(S.prototype,R),A&&C(S,A),S}}();var I=function(){function C(S,R){var A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,L=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;(function N(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")})(this,C),this.sequence1=S,this.sequence2=R,this.match_score=A,this.mismatch_penalty=V,this.gap_penalty=L,this.iMax=S.length+1,this.jMax=R.length+1,this.grid=new Array(this.iMax);for(var k=0;k<this.iMax;k++){this.grid[k]=new Array(this.jMax);for(var H=0;H<this.jMax;H++)this.grid[k][H]=0}this.tracebackGrid=new Array(this.iMax);for(var $=0;$<this.iMax;$++){this.tracebackGrid[$]=new Array(this.jMax);for(var Q=0;Q<this.jMax;Q++)this.tracebackGrid[$][Q]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return P(C,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var R=1;R<this.jMax;R++)this.grid[0][R]=this.grid[0][R-1]+this.gap_penalty,this.tracebackGrid[0][R]=[!1,!1,!0];for(var A=1;A<this.iMax;A++)this.grid[A][0]=this.grid[A-1][0]+this.gap_penalty,this.tracebackGrid[A][0]=[!1,!0,!1];for(var V=1;V<this.iMax;V++)for(var L=1;L<this.jMax;L++){var Q=[this.sequence1[V-1]===this.sequence2[L-1]?this.grid[V-1][L-1]+this.match_score:this.grid[V-1][L-1]+this.mismatch_penalty,this.grid[V-1][L]+this.gap_penalty,this.grid[V][L-1]+this.gap_penalty],ue=this.arrayAllMaxIndexes(Q);this.grid[V][L]=Q[ue[0]],this.tracebackGrid[V][L]=[ue.includes(0),ue.includes(1),ue.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var R=[];for(R.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});R[0];){var A=R[0],V=this.tracebackGrid[A.pos[0]][A.pos[1]];V[0]&&R.push({pos:[A.pos[0]-1,A.pos[1]-1],seq1:this.sequence1[A.pos[0]-1]+A.seq1,seq2:this.sequence2[A.pos[1]-1]+A.seq2}),V[1]&&R.push({pos:[A.pos[0]-1,A.pos[1]],seq1:this.sequence1[A.pos[0]-1]+A.seq1,seq2:"-"+A.seq2}),V[2]&&R.push({pos:[A.pos[0],A.pos[1]-1],seq1:"-"+A.seq1,seq2:this.sequence2[A.pos[1]-1]+A.seq2}),0===A.pos[0]&&0===A.pos[1]&&this.alignments.push({sequence1:A.seq1,sequence2:A.seq2}),R.shift()}return this.alignments}},{key:"getAllIndexes",value:function(R,A){for(var V=[],L=-1;-1!==(L=R.indexOf(A,L+1));)V.push(L);return V}},{key:"arrayAllMaxIndexes",value:function(R){return this.getAllIndexes(R,Math.max.apply(null,R))}}]),C}();se.exports=I},function(se,D,T){"use strict";var P=function(){};P.FDLayout=T(18),P.FDLayoutConstants=T(7),P.FDLayoutEdge=T(19),P.FDLayoutNode=T(20),P.DimensionD=T(21),P.HashMap=T(22),P.HashSet=T(23),P.IGeometry=T(8),P.IMath=T(9),P.Integer=T(10),P.Point=T(12),P.PointD=T(4),P.RandomSeed=T(16),P.RectangleD=T(13),P.Transform=T(17),P.UniqueIDGeneretor=T(14),P.Quicksort=T(24),P.LinkedList=T(11),P.LGraphObject=T(2),P.LGraph=T(5),P.LEdge=T(1),P.LGraphManager=T(6),P.LNode=T(3),P.Layout=T(15),P.LayoutConstants=T(0),P.NeedlemanWunsch=T(25),se.exports=P},function(se,D,T){"use strict";function P(){this.listeners=[]}var N=P.prototype;N.addListener=function(I,C){this.listeners.push({event:I,callback:C})},N.removeListener=function(I,C){for(var S=this.listeners.length;S>=0;S--){var R=this.listeners[S];R.event===I&&R.callback===C&&this.listeners.splice(S,1)}},N.emit=function(I,C){for(var S=0;S<this.listeners.length;S++){var R=this.listeners[S];I===R.event&&R.callback(C)}},se.exports=P}])},6506:(Y,se,D)=>{var N=D(8745)(D(8492),"DataView");Y.exports=N},9618:(Y,se,D)=>{var T=D(5602),P=D(1499),N=D(2990),I=D(480),C=D(4469);function S(R){var A=-1,V=null==R?0:R.length;for(this.clear();++A<V;){var L=R[A];this.set(L[0],L[1])}}S.prototype.clear=T,S.prototype.delete=P,S.prototype.get=N,S.prototype.has=I,S.prototype.set=C,Y.exports=S},3597:(Y,se,D)=>{var T=D(9365),P=D(9343),N=D(4779),I=D(1509),C=D(7137);function S(R){var A=-1,V=null==R?0:R.length;for(this.clear();++A<V;){var L=R[A];this.set(L[0],L[1])}}S.prototype.clear=T,S.prototype.delete=P,S.prototype.get=N,S.prototype.has=I,S.prototype.set=C,Y.exports=S},1136:(Y,se,D)=>{var N=D(8745)(D(8492),"Map");Y.exports=N},1811:(Y,se,D)=>{var T=D(3413),P=D(5419),N=D(7336),I=D(1115),C=D(6648);function S(R){var A=-1,V=null==R?0:R.length;for(this.clear();++A<V;){var L=R[A];this.set(L[0],L[1])}}S.prototype.clear=T,S.prototype.delete=P,S.prototype.get=N,S.prototype.has=I,S.prototype.set=C,Y.exports=S},641:(Y,se,D)=>{var N=D(8745)(D(8492),"Promise");Y.exports=N},1732:(Y,se,D)=>{var N=D(8745)(D(8492),"Set");Y.exports=N},5960:(Y,se,D)=>{var T=D(1811),P=D(6151),N=D(2154);function I(C){var S=-1,R=null==C?0:C.length;for(this.__data__=new T;++S<R;)this.add(C[S])}I.prototype.add=I.prototype.push=P,I.prototype.has=N,Y.exports=I},1339:(Y,se,D)=>{var T=D(3597),P=D(9488),N=D(5943),I=D(5456),C=D(4793),S=D(8689);function R(A){var V=this.__data__=new T(A);this.size=V.size}R.prototype.clear=P,R.prototype.delete=N,R.prototype.get=I,R.prototype.has=C,R.prototype.set=S,Y.exports=R},1763:(Y,se,D)=>{var T=D(8492);Y.exports=T.Symbol},2760:(Y,se,D)=>{var T=D(8492);Y.exports=T.Uint8Array},6413:(Y,se,D)=>{var N=D(8745)(D(8492),"WeakMap");Y.exports=N},7910:Y=>{Y.exports=function se(D,T,P){switch(P.length){case 0:return D.call(T);case 1:return D.call(T,P[0]);case 2:return D.call(T,P[0],P[1]);case 3:return D.call(T,P[0],P[1],P[2])}return D.apply(T,P)}},7772:Y=>{Y.exports=function se(D,T){for(var P=-1,N=null==D?0:D.length;++P<N&&!1!==T(D[P],P,D););return D}},2134:Y=>{Y.exports=function se(D,T){for(var P=-1,N=null==D?0:D.length,I=0,C=[];++P<N;){var S=D[P];T(S,P,D)&&(C[I++]=S)}return C}},8750:(Y,se,D)=>{var T=D(9568);Y.exports=function P(N,I){return!(null==N||!N.length)&&T(N,I,0)>-1}},6736:Y=>{Y.exports=function se(D,T,P){for(var N=-1,I=null==D?0:D.length;++N<I;)if(P(T,D[N]))return!0;return!1}},1384:(Y,se,D)=>{var T=D(5025),P=D(1955),N=D(2261),I=D(7525),C=D(5188),S=D(4868),A=Object.prototype.hasOwnProperty;Y.exports=function V(L,k){var H=N(L),$=!H&&P(L),Q=!H&&!$&&I(L),ue=!H&&!$&&!Q&&S(L),ne=H||$||Q||ue,le=ne?T(L.length,String):[],ae=le.length;for(var de in L)(k||A.call(L,de))&&(!ne||!("length"==de||Q&&("offset"==de||"parent"==de)||ue&&("buffer"==de||"byteLength"==de||"byteOffset"==de)||C(de,ae)))&&le.push(de);return le}},3880:Y=>{Y.exports=function se(D,T){for(var P=-1,N=null==D?0:D.length,I=Array(N);++P<N;)I[P]=T(D[P],P,D);return I}},7853:Y=>{Y.exports=function se(D,T){for(var P=-1,N=T.length,I=D.length;++P<N;)D[I+P]=T[P];return D}},9850:Y=>{Y.exports=function se(D,T,P,N){var I=-1,C=null==D?0:D.length;for(N&&C&&(P=D[++I]);++I<C;)P=T(P,D[I],I,D);return P}},5916:Y=>{Y.exports=function se(D,T){for(var P=-1,N=null==D?0:D.length;++P<N;)if(T(D[P],P,D))return!0;return!1}},6181:(Y,se,D)=>{var P=D(3400)("length");Y.exports=P},6697:(Y,se,D)=>{var T=D(1741),P=D(7826);Y.exports=function N(I,C,S){(void 0!==S&&!P(I[C],S)||void 0===S&&!(C in I))&&T(I,C,S)}},9553:(Y,se,D)=>{var T=D(1741),P=D(7826),I=Object.prototype.hasOwnProperty;Y.exports=function C(S,R,A){var V=S[R];(!I.call(S,R)||!P(V,A)||void 0===A&&!(R in S))&&T(S,R,A)}},4056:(Y,se,D)=>{var T=D(7826);Y.exports=function P(N,I){for(var C=N.length;C--;)if(T(N[C][0],I))return C;return-1}},6234:(Y,se,D)=>{var T=D(5931),P=D(4614);Y.exports=function N(I,C){return I&&T(C,P(C),I)}},4431:(Y,se,D)=>{var T=D(5931),P=D(6402);Y.exports=function N(I,C){return I&&T(C,P(C),I)}},1741:(Y,se,D)=>{var T=D(9383);Y.exports=function P(N,I,C){"__proto__"==I&&T?T(N,I,{configurable:!0,enumerable:!0,value:C,writable:!0}):N[I]=C}},1320:(Y,se,D)=>{var T=D(1339),P=D(7772),N=D(9553),I=D(6234),C=D(4431),S=D(6002),R=D(4231),A=D(9385),V=D(4354),L=D(6131),k=D(2442),H=D(2472),$=D(9431),Q=D(514),ue=D(9225),ne=D(2261),le=D(7525),ae=D(990),de=D(9794),te=D(8611),pe=D(4614),q=D(6402),we="[object Arguments]",st="[object Function]",Qe="[object Object]",zn={};zn[we]=zn["[object Array]"]=zn["[object ArrayBuffer]"]=zn["[object DataView]"]=zn["[object Boolean]"]=zn["[object Date]"]=zn["[object Float32Array]"]=zn["[object Float64Array]"]=zn["[object Int8Array]"]=zn["[object Int16Array]"]=zn["[object Int32Array]"]=zn["[object Map]"]=zn["[object Number]"]=zn[Qe]=zn["[object RegExp]"]=zn["[object Set]"]=zn["[object String]"]=zn["[object Symbol]"]=zn["[object Uint8Array]"]=zn["[object Uint8ClampedArray]"]=zn["[object Uint16Array]"]=zn["[object Uint32Array]"]=!0,zn["[object Error]"]=zn[st]=zn["[object WeakMap]"]=!1,Y.exports=function qr(pn,Ri,ro,Fi,Bi,$r){var Ki,Ya=1&Ri,As=2&Ri,kn=4&Ri;if(ro&&(Ki=Bi?ro(pn,Fi,Bi,$r):ro(pn)),void 0!==Ki)return Ki;if(!de(pn))return pn;var zl=ne(pn);if(zl){if(Ki=$(pn),!Ya)return R(pn,Ki)}else{var Xo=H(pn),Ko=Xo==st||"[object GeneratorFunction]"==Xo;if(le(pn))return S(pn,Ya);if(Xo==Qe||Xo==we||Ko&&!Bi){if(Ki=As||Ko?{}:ue(pn),!Ya)return As?V(pn,C(Ki,pn)):A(pn,I(Ki,pn))}else{if(!zn[Xo])return Bi?pn:{};Ki=Q(pn,Xo,Ya)}}$r||($r=new T);var pl=$r.get(pn);if(pl)return pl;$r.set(pn,Ki),te(pn)?pn.forEach(function(Sn){Ki.add(qr(Sn,Ri,ro,Sn,pn,$r))}):ae(pn)&&pn.forEach(function(Sn,ya){Ki.set(ya,qr(Sn,Ri,ro,ya,pn,$r))});var Os=zl?void 0:(kn?As?k:L:As?q:pe)(pn);return P(Os||pn,function(Sn,ya){Os&&(Sn=pn[ya=Sn]),N(Ki,ya,qr(Sn,Ri,ro,ya,pn,$r))}),Ki}},1391:(Y,se,D)=>{var T=D(9794),P=Object.create,N=function(){function I(){}return function(C){if(!T(C))return{};if(P)return P(C);I.prototype=C;var S=new I;return I.prototype=void 0,S}}();Y.exports=N},5103:(Y,se,D)=>{var T=D(7794),N=D(9386)(T);Y.exports=N},4530:(Y,se,D)=>{var T=D(3423);Y.exports=function P(N,I,C){for(var S=-1,R=N.length;++S<R;){var A=N[S],V=I(A);if(null!=V&&(void 0===L?V==V&&!T(V):C(V,L)))var L=V,k=A}return k}},1892:(Y,se,D)=>{var T=D(5103);Y.exports=function P(N,I){var C=[];return T(N,function(S,R,A){I(S,R,A)&&C.push(S)}),C}},4051:Y=>{Y.exports=function se(D,T,P,N){for(var I=D.length,C=P+(N?1:-1);N?C--:++C<I;)if(T(D[C],C,D))return C;return-1}},1883:(Y,se,D)=>{var T=D(7853),P=D(2241);Y.exports=function N(I,C,S,R,A){var V=-1,L=I.length;for(S||(S=P),A||(A=[]);++V<L;){var k=I[V];C>0&&S(k)?C>1?N(k,C-1,S,R,A):T(A,k):R||(A[A.length]=k)}return A}},6483:(Y,se,D)=>{var P=D(2086)();Y.exports=P},7794:(Y,se,D)=>{var T=D(6483),P=D(4614);Y.exports=function N(I,C){return I&&T(I,C,P)}},2202:(Y,se,D)=>{var T=D(4826),P=D(8916);Y.exports=function N(I,C){for(var S=0,R=(C=T(C,I)).length;null!=I&&S<R;)I=I[P(C[S++])];return S&&S==R?I:void 0}},7427:(Y,se,D)=>{var T=D(7853),P=D(2261);Y.exports=function N(I,C,S){var R=C(I);return P(I)?R:T(R,S(I))}},4590:(Y,se,D)=>{var T=D(1763),P=D(5933),N=D(9243),S=T?T.toStringTag:void 0;Y.exports=function R(A){return null==A?void 0===A?"[object Undefined]":"[object Null]":S&&S in Object(A)?P(A):N(A)}},8444:Y=>{Y.exports=function se(D,T){return D>T}},4493:Y=>{var D=Object.prototype.hasOwnProperty;Y.exports=function T(P,N){return null!=P&&D.call(P,N)}},3274:Y=>{Y.exports=function se(D,T){return null!=D&&T in Object(D)}},9568:(Y,se,D)=>{var T=D(4051),P=D(1817),N=D(2528);Y.exports=function I(C,S,R){return S==S?N(C,S,R):T(C,P,R)}},3022:(Y,se,D)=>{var T=D(4590),P=D(3714);Y.exports=function I(C){return P(C)&&"[object Arguments]"==T(C)}},7108:(Y,se,D)=>{var T=D(7946),P=D(3714);Y.exports=function N(I,C,S,R,A){return I===C||(null==I||null==C||!P(I)&&!P(C)?I!=I&&C!=C:T(I,C,S,R,N,A))}},7946:(Y,se,D)=>{var T=D(1339),P=D(7469),N=D(1642),I=D(9462),C=D(2472),S=D(2261),R=D(7525),A=D(4868),L="[object Arguments]",k="[object Array]",H="[object Object]",Q=Object.prototype.hasOwnProperty;Y.exports=function ue(ne,le,ae,de,te,pe){var q=S(ne),oe=S(le),ie=q?k:C(ne),me=oe?k:C(le),we=(ie=ie==L?H:ie)==H,Se=(me=me==L?H:me)==H,De=ie==me;if(De&&R(ne)){if(!R(le))return!1;q=!0,we=!1}if(De&&!we)return pe||(pe=new T),q||A(ne)?P(ne,le,ae,de,te,pe):N(ne,le,ie,ae,de,te,pe);if(!(1&ae)){var ze=we&&Q.call(ne,"__wrapped__"),Be=Se&&Q.call(le,"__wrapped__");if(ze||Be){var st=ze?ne.value():ne,ht=Be?le.value():le;return pe||(pe=new T),te(st,ht,ae,de,pe)}}return!!De&&(pe||(pe=new T),I(ne,le,ae,de,te,pe))}},8562:(Y,se,D)=>{var T=D(2472),P=D(3714);Y.exports=function I(C){return P(C)&&"[object Map]"==T(C)}},2527:(Y,se,D)=>{var T=D(1339),P=D(7108);Y.exports=function C(S,R,A,V){var L=A.length,k=L,H=!V;if(null==S)return!k;for(S=Object(S);L--;){var $=A[L];if(H&&$[2]?$[1]!==S[$[0]]:!($[0]in S))return!1}for(;++L<k;){var Q=($=A[L])[0],ue=S[Q],ne=$[1];if(H&&$[2]){if(void 0===ue&&!(Q in S))return!1}else{var le=new T;if(V)var ae=V(ue,ne,Q,S,R,le);if(!(void 0===ae?P(ne,ue,3,V,le):ae))return!1}}return!0}},1817:Y=>{Y.exports=function se(D){return D!=D}},1082:(Y,se,D)=>{var T=D(6861),P=D(9950),N=D(9794),I=D(7075),S=/^\[object .+?Constructor\]$/,k=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");Y.exports=function H($){return!(!N($)||P($))&&(T($)?k:S).test(I($))}},1202:(Y,se,D)=>{var T=D(2472),P=D(3714);Y.exports=function I(C){return P(C)&&"[object Set]"==T(C)}},8902:(Y,se,D)=>{var T=D(4590),P=D(7765),N=D(3714),De={};De["[object Float32Array]"]=De["[object Float64Array]"]=De["[object Int8Array]"]=De["[object Int16Array]"]=De["[object Int32Array]"]=De["[object Uint8Array]"]=De["[object Uint8ClampedArray]"]=De["[object Uint16Array]"]=De["[object Uint32Array]"]=!0,De["[object Arguments]"]=De["[object Array]"]=De["[object ArrayBuffer]"]=De["[object Boolean]"]=De["[object DataView]"]=De["[object Date]"]=De["[object Error]"]=De["[object Function]"]=De["[object Map]"]=De["[object Number]"]=De["[object Object]"]=De["[object RegExp]"]=De["[object Set]"]=De["[object String]"]=De["[object WeakMap]"]=!1,Y.exports=function ze(Be){return N(Be)&&P(Be.length)&&!!De[T(Be)]}},1627:(Y,se,D)=>{var T=D(2924),P=D(8526),N=D(5657),I=D(2261),C=D(2692);Y.exports=function S(R){return"function"==typeof R?R:null==R?N:"object"==typeof R?I(R)?P(R[0],R[1]):T(R):C(R)}},190:(Y,se,D)=>{var T=D(6587),P=D(366),I=Object.prototype.hasOwnProperty;Y.exports=function C(S){if(!T(S))return P(S);var R=[];for(var A in Object(S))I.call(S,A)&&"constructor"!=A&&R.push(A);return R}},7673:(Y,se,D)=>{var T=D(9794),P=D(6587),N=D(8981),C=Object.prototype.hasOwnProperty;Y.exports=function S(R){if(!T(R))return N(R);var A=P(R),V=[];for(var L in R)"constructor"==L&&(A||!C.call(R,L))||V.push(L);return V}},8898:Y=>{Y.exports=function se(D,T){return D<T}},2839:(Y,se,D)=>{var T=D(5103),P=D(2447);Y.exports=function N(I,C){var S=-1,R=P(I)?Array(I.length):[];return T(I,function(A,V,L){R[++S]=C(A,V,L)}),R}},2924:(Y,se,D)=>{var T=D(2527),P=D(7895),N=D(2265);Y.exports=function I(C){var S=P(C);return 1==S.length&&S[0][2]?N(S[0][0],S[0][1]):function(R){return R===C||T(R,C,S)}}},8526:(Y,se,D)=>{var T=D(7108),P=D(5440),N=D(2494),I=D(6300),C=D(3921),S=D(2265),R=D(8916);Y.exports=function L(k,H){return I(k)&&C(H)?S(R(k),H):function($){var Q=P($,k);return void 0===Q&&Q===H?N($,k):T(H,Q,3)}}},3294:(Y,se,D)=>{var T=D(1339),P=D(6697),N=D(6483),I=D(9218),C=D(9794),S=D(6402),R=D(7524);Y.exports=function A(V,L,k,H,$){V!==L&&N(L,function(Q,ue){if($||($=new T),C(Q))I(V,L,ue,k,A,H,$);else{var ne=H?H(R(V,ue),Q,ue+"",V,L,$):void 0;void 0===ne&&(ne=Q),P(V,ue,ne)}},S)}},9218:(Y,se,D)=>{var T=D(6697),P=D(6002),N=D(2501),I=D(4231),C=D(9225),S=D(1955),R=D(2261),A=D(3471),V=D(7525),L=D(6861),k=D(9794),H=D(8168),$=D(4868),Q=D(7524),ue=D(4210);Y.exports=function ne(le,ae,de,te,pe,q,oe){var ie=Q(le,de),me=Q(ae,de),we=oe.get(me);if(we)T(le,de,we);else{var Se=q?q(ie,me,de+"",le,ae,oe):void 0,De=void 0===Se;if(De){var ze=R(me),Be=!ze&&V(me),st=!ze&&!Be&&$(me);Se=me,ze||Be||st?R(ie)?Se=ie:A(ie)?Se=I(ie):Be?(De=!1,Se=P(me,!0)):st?(De=!1,Se=N(me,!0)):Se=[]:H(me)||S(me)?(Se=ie,S(ie)?Se=ue(ie):(!k(ie)||L(ie))&&(Se=C(me))):De=!1}De&&(oe.set(me,Se),pe(Se,me,te,q,oe),oe.delete(me)),T(le,de,Se)}}},252:(Y,se,D)=>{var T=D(3880),P=D(2202),N=D(1627),I=D(2839),C=D(6389),S=D(5249),R=D(9664),A=D(5657),V=D(2261);Y.exports=function L(k,H,$){H=H.length?T(H,function(ne){return V(ne)?function(le){return P(le,1===ne.length?ne[0]:ne)}:ne}):[A];var Q=-1;H=T(H,S(N));var ue=I(k,function(ne,le,ae){return{criteria:T(H,function(te){return te(ne)}),index:++Q,value:ne}});return C(ue,function(ne,le){return R(ne,le,$)})}},2784:(Y,se,D)=>{var T=D(2772),P=D(2494);Y.exports=function N(I,C){return T(I,C,function(S,R){return P(I,R)})}},2772:(Y,se,D)=>{var T=D(2202),P=D(9478),N=D(4826);Y.exports=function I(C,S,R){for(var A=-1,V=S.length,L={};++A<V;){var k=S[A],H=T(C,k);R(H,k)&&P(L,N(k,C),H)}return L}},3400:Y=>{Y.exports=function se(D){return function(T){return T?.[D]}}},6443:(Y,se,D)=>{var T=D(2202);Y.exports=function P(N){return function(I){return T(I,N)}}},9948:Y=>{var se=Math.ceil,D=Math.max;Y.exports=function T(P,N,I,C){for(var S=-1,R=D(se((N-P)/(I||1)),0),A=Array(R);R--;)A[C?R:++S]=P,P+=I;return A}},8978:Y=>{Y.exports=function se(D,T,P,N,I){return I(D,function(C,S,R){P=N?(N=!1,C):T(P,C,S,R)}),P}},8951:(Y,se,D)=>{var T=D(5657),P=D(2394),N=D(6814);Y.exports=function I(C,S){return N(P(C,S,T),C+"")}},9478:(Y,se,D)=>{var T=D(9553),P=D(4826),N=D(5188),I=D(9794),C=D(8916);Y.exports=function S(R,A,V,L){if(!I(R))return R;for(var k=-1,H=(A=P(A,R)).length,$=H-1,Q=R;null!=Q&&++k<H;){var ue=C(A[k]),ne=V;if("__proto__"===ue||"constructor"===ue||"prototype"===ue)return R;if(k!=$){var le=Q[ue];void 0===(ne=L?L(le,ue,Q):void 0)&&(ne=I(le)?le:N(A[k+1])?[]:{})}T(Q,ue,ne),Q=Q[ue]}return R}},8235:(Y,se,D)=>{var T=D(1075),P=D(9383),N=D(5657);Y.exports=P?function(C,S){return P(C,"toString",{configurable:!0,enumerable:!1,value:T(S),writable:!0})}:N},6389:Y=>{Y.exports=function se(D,T){var P=D.length;for(D.sort(T);P--;)D[P]=D[P].value;return D}},5025:Y=>{Y.exports=function se(D,T){for(var P=-1,N=Array(D);++P<D;)N[P]=T(P);return N}},7002:(Y,se,D)=>{var T=D(1763),P=D(3880),N=D(2261),I=D(3423),S=T?T.prototype:void 0,R=S?S.toString:void 0;Y.exports=function A(V){if("string"==typeof V)return V;if(N(V))return P(V,A)+"";if(I(V))return R?R.call(V):"";var L=V+"";return"0"==L&&1/V==-1/0?"-0":L}},9484:(Y,se,D)=>{var T=D(1781),P=/^\s+/;Y.exports=function N(I){return I&&I.slice(0,T(I)+1).replace(P,"")}},5249:Y=>{Y.exports=function se(D){return function(T){return D(T)}}},9154:(Y,se,D)=>{var T=D(5960),P=D(8750),N=D(6736),I=D(4795),C=D(8433),S=D(8e3);Y.exports=function A(V,L,k){var H=-1,$=P,Q=V.length,ue=!0,ne=[],le=ne;if(k)ue=!1,$=N;else if(Q>=200){var ae=L?null:C(V);if(ae)return S(ae);ue=!1,$=I,le=new T}else le=L?[]:ne;e:for(;++H<Q;){var de=V[H],te=L?L(de):de;if(de=k||0!==de?de:0,ue&&te==te){for(var pe=le.length;pe--;)if(le[pe]===te)continue e;L&&le.push(te),ne.push(de)}else $(le,te,k)||(le!==ne&&le.push(te),ne.push(de))}return ne}},6680:(Y,se,D)=>{var T=D(3880);Y.exports=function P(N,I){return T(I,function(C){return N[C]})}},2255:Y=>{Y.exports=function se(D,T,P){for(var N=-1,I=D.length,C=T.length,S={};++N<I;)P(S,D[N],N<C?T[N]:void 0);return S}},4795:Y=>{Y.exports=function se(D,T){return D.has(T)}},4655:(Y,se,D)=>{var T=D(5657);Y.exports=function P(N){return"function"==typeof N?N:T}},4826:(Y,se,D)=>{var T=D(2261),P=D(6300),N=D(163),I=D(2674);Y.exports=function C(S,R){return T(S)?S:P(S,R)?[S]:N(I(S))}},2355:(Y,se,D)=>{var T=D(2760);Y.exports=function P(N){var I=new N.constructor(N.byteLength);return new T(I).set(new T(N)),I}},6002:(Y,se,D)=>{Y=D.nmd(Y);var T=D(8492),P=se&&!se.nodeType&&se,N=P&&Y&&!Y.nodeType&&Y,C=N&&N.exports===P?T.Buffer:void 0,S=C?C.allocUnsafe:void 0;Y.exports=function R(A,V){if(V)return A.slice();var L=A.length,k=S?S(L):new A.constructor(L);return A.copy(k),k}},6693:(Y,se,D)=>{var T=D(2355);Y.exports=function P(N,I){var C=I?T(N.buffer):N.buffer;return new N.constructor(C,N.byteOffset,N.byteLength)}},497:Y=>{var se=/\w*$/;Y.exports=function D(T){var P=new T.constructor(T.source,se.exec(T));return P.lastIndex=T.lastIndex,P}},3330:(Y,se,D)=>{var T=D(1763),P=T?T.prototype:void 0,N=P?P.valueOf:void 0;Y.exports=function I(C){return N?Object(N.call(C)):{}}},2501:(Y,se,D)=>{var T=D(2355);Y.exports=function P(N,I){var C=I?T(N.buffer):N.buffer;return new N.constructor(C,N.byteOffset,N.length)}},5400:(Y,se,D)=>{var T=D(3423);Y.exports=function P(N,I){if(N!==I){var C=void 0!==N,S=null===N,R=N==N,A=T(N),V=void 0!==I,L=null===I,k=I==I,H=T(I);if(!L&&!H&&!A&&N>I||A&&V&&k&&!L&&!H||S&&V&&k||!C&&k||!R)return 1;if(!S&&!A&&!H&&N<I||H&&C&&R&&!S&&!A||L&&C&&R||!V&&R||!k)return-1}return 0}},9664:(Y,se,D)=>{var T=D(5400);Y.exports=function P(N,I,C){for(var S=-1,R=N.criteria,A=I.criteria,V=R.length,L=C.length;++S<V;){var k=T(R[S],A[S]);if(k)return S>=L?k:k*("desc"==C[S]?-1:1)}return N.index-I.index}},4231:Y=>{Y.exports=function se(D,T){var P=-1,N=D.length;for(T||(T=Array(N));++P<N;)T[P]=D[P];return T}},5931:(Y,se,D)=>{var T=D(9553),P=D(1741);Y.exports=function N(I,C,S,R){var A=!S;S||(S={});for(var V=-1,L=C.length;++V<L;){var k=C[V],H=R?R(S[k],I[k],k,S,I):void 0;void 0===H&&(H=I[k]),A?P(S,k,H):T(S,k,H)}return S}},9385:(Y,se,D)=>{var T=D(5931),P=D(771);Y.exports=function N(I,C){return T(I,P(I),C)}},4354:(Y,se,D)=>{var T=D(5931),P=D(708);Y.exports=function N(I,C){return T(I,P(I),C)}},6189:(Y,se,D)=>{var T=D(8492);Y.exports=T["__core-js_shared__"]},1300:(Y,se,D)=>{var T=D(8951),P=D(3817);Y.exports=function N(I){return T(function(C,S){var R=-1,A=S.length,V=A>1?S[A-1]:void 0,L=A>2?S[2]:void 0;for(V=I.length>3&&"function"==typeof V?(A--,V):void 0,L&&P(S[0],S[1],L)&&(V=A<3?void 0:V,A=1),C=Object(C);++R<A;){var k=S[R];k&&I(C,k,R,V)}return C})}},9386:(Y,se,D)=>{var T=D(2447);Y.exports=function P(N,I){return function(C,S){if(null==C)return C;if(!T(C))return N(C,S);for(var R=C.length,A=I?R:-1,V=Object(C);(I?A--:++A<R)&&!1!==S(V[A],A,V););return C}}},2086:Y=>{Y.exports=function se(D){return function(T,P,N){for(var I=-1,C=Object(T),S=N(T),R=S.length;R--;){var A=S[D?R:++I];if(!1===P(C[A],A,C))break}return T}}},6738:(Y,se,D)=>{var T=D(1627),P=D(2447),N=D(4614);Y.exports=function I(C){return function(S,R,A){var V=Object(S);if(!P(S)){var L=T(R,3);S=N(S),R=function(H){return L(V[H],H,V)}}var k=C(S,R,A);return k>-1?V[L?S[k]:k]:void 0}}},4222:(Y,se,D)=>{var T=D(9948),P=D(3817),N=D(9292);Y.exports=function I(C){return function(S,R,A){return A&&"number"!=typeof A&&P(S,R,A)&&(R=A=void 0),S=N(S),void 0===R?(R=S,S=0):R=N(R),A=void 0===A?S<R?1:-1:N(A),T(S,R,A,C)}}},8433:(Y,se,D)=>{var T=D(1732),P=D(4249),N=D(8e3),C=T&&1/N(new T([,-0]))[1]==1/0?function(S){return new T(S)}:P;Y.exports=C},9383:(Y,se,D)=>{var T=D(8745),P=function(){try{var N=T(Object,"defineProperty");return N({},"",{}),N}catch{}}();Y.exports=P},7469:(Y,se,D)=>{var T=D(5960),P=D(5916),N=D(4795);Y.exports=function S(R,A,V,L,k,H){var $=1&V,Q=R.length,ue=A.length;if(Q!=ue&&!($&&ue>Q))return!1;var ne=H.get(R),le=H.get(A);if(ne&&le)return ne==A&&le==R;var ae=-1,de=!0,te=2&V?new T:void 0;for(H.set(R,A),H.set(A,R);++ae<Q;){var pe=R[ae],q=A[ae];if(L)var oe=$?L(q,pe,ae,A,R,H):L(pe,q,ae,R,A,H);if(void 0!==oe){if(oe)continue;de=!1;break}if(te){if(!P(A,function(ie,me){if(!N(te,me)&&(pe===ie||k(pe,ie,V,L,H)))return te.push(me)})){de=!1;break}}else if(pe!==q&&!k(pe,q,V,L,H)){de=!1;break}}return H.delete(R),H.delete(A),de}},1642:(Y,se,D)=>{var T=D(1763),P=D(2760),N=D(7826),I=D(7469),C=D(1575),S=D(8e3),te=T?T.prototype:void 0,pe=te?te.valueOf:void 0;Y.exports=function q(oe,ie,me,we,Se,De,ze){switch(me){case"[object DataView]":if(oe.byteLength!=ie.byteLength||oe.byteOffset!=ie.byteOffset)return!1;oe=oe.buffer,ie=ie.buffer;case"[object ArrayBuffer]":return!(oe.byteLength!=ie.byteLength||!De(new P(oe),new P(ie)));case"[object Boolean]":case"[object Date]":case"[object Number]":return N(+oe,+ie);case"[object Error]":return oe.name==ie.name&&oe.message==ie.message;case"[object RegExp]":case"[object String]":return oe==ie+"";case"[object Map]":var Be=C;case"[object Set]":if(Be||(Be=S),oe.size!=ie.size&&!(1&we))return!1;var ht=ze.get(oe);if(ht)return ht==ie;we|=2,ze.set(oe,ie);var Ze=I(Be(oe),Be(ie),we,Se,De,ze);return ze.delete(oe),Ze;case"[object Symbol]":if(pe)return pe.call(oe)==pe.call(ie)}return!1}},9462:(Y,se,D)=>{var T=D(6131),I=Object.prototype.hasOwnProperty;Y.exports=function C(S,R,A,V,L,k){var H=1&A,$=T(S),Q=$.length;if(Q!=T(R).length&&!H)return!1;for(var le=Q;le--;){var ae=$[le];if(!(H?ae in R:I.call(R,ae)))return!1}var de=k.get(S),te=k.get(R);if(de&&te)return de==R&&te==S;var pe=!0;k.set(S,R),k.set(R,S);for(var q=H;++le<Q;){var oe=S[ae=$[le]],ie=R[ae];if(V)var me=H?V(ie,oe,ae,R,S,k):V(oe,ie,ae,S,R,k);if(!(void 0===me?oe===ie||L(oe,ie,A,V,k):me)){pe=!1;break}q||(q="constructor"==ae)}if(pe&&!q){var we=S.constructor,Se=R.constructor;we!=Se&&"constructor"in S&&"constructor"in R&&!("function"==typeof we&&we instanceof we&&"function"==typeof Se&&Se instanceof Se)&&(pe=!1)}return k.delete(S),k.delete(R),pe}},6801:(Y,se,D)=>{var T=D(9336),P=D(2394),N=D(6814);Y.exports=function I(C){return N(P(C,void 0,T),C+"")}},248:Y=>{var se="object"==typeof global&&global&&global.Object===Object&&global;Y.exports=se},6131:(Y,se,D)=>{var T=D(7427),P=D(771),N=D(4614);Y.exports=function I(C){return T(C,N,P)}},2442:(Y,se,D)=>{var T=D(7427),P=D(708),N=D(6402);Y.exports=function I(C){return T(C,N,P)}},4113:(Y,se,D)=>{var T=D(29);Y.exports=function P(N,I){var C=N.__data__;return T(I)?C["string"==typeof I?"string":"hash"]:C.map}},7895:(Y,se,D)=>{var T=D(3921),P=D(4614);Y.exports=function N(I){for(var C=P(I),S=C.length;S--;){var R=C[S],A=I[R];C[S]=[R,A,T(A)]}return C}},8745:(Y,se,D)=>{var T=D(1082),P=D(1015);Y.exports=function N(I,C){var S=P(I,C);return T(S)?S:void 0}},6186:(Y,se,D)=>{var P=D(3106)(Object.getPrototypeOf,Object);Y.exports=P},5933:(Y,se,D)=>{var T=D(1763),P=Object.prototype,N=P.hasOwnProperty,I=P.toString,C=T?T.toStringTag:void 0;Y.exports=function S(R){var A=N.call(R,C),V=R[C];try{R[C]=void 0;var L=!0}catch{}var k=I.call(R);return L&&(A?R[C]=V:delete R[C]),k}},771:(Y,se,D)=>{var T=D(2134),P=D(1315),I=Object.prototype.propertyIsEnumerable,C=Object.getOwnPropertySymbols;Y.exports=C?function(R){return null==R?[]:(R=Object(R),T(C(R),function(A){return I.call(R,A)}))}:P},708:(Y,se,D)=>{var T=D(7853),P=D(6186),N=D(771),I=D(1315);Y.exports=Object.getOwnPropertySymbols?function(R){for(var A=[];R;)T(A,N(R)),R=P(R);return A}:I},2472:(Y,se,D)=>{var T=D(6506),P=D(1136),N=D(641),I=D(1732),C=D(6413),S=D(4590),R=D(7075),A="[object Map]",L="[object Promise]",k="[object Set]",H="[object WeakMap]",$="[object DataView]",Q=R(T),ue=R(P),ne=R(N),le=R(I),ae=R(C),de=S;(T&&de(new T(new ArrayBuffer(1)))!=$||P&&de(new P)!=A||N&&de(N.resolve())!=L||I&&de(new I)!=k||C&&de(new C)!=H)&&(de=function(te){var pe=S(te),q="[object Object]"==pe?te.constructor:void 0,oe=q?R(q):"";if(oe)switch(oe){case Q:return $;case ue:return A;case ne:return L;case le:return k;case ae:return H}return pe}),Y.exports=de},1015:Y=>{Y.exports=function se(D,T){return D?.[T]}},4583:(Y,se,D)=>{var T=D(4826),P=D(1955),N=D(2261),I=D(5188),C=D(7765),S=D(8916);Y.exports=function R(A,V,L){for(var k=-1,H=(V=T(V,A)).length,$=!1;++k<H;){var Q=S(V[k]);if(!($=null!=A&&L(A,Q)))break;A=A[Q]}return $||++k!=H?$:!!(H=null==A?0:A.length)&&C(H)&&I(Q,H)&&(N(A)||P(A))}},3687:Y=>{var S=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");Y.exports=function R(A){return S.test(A)}},5602:(Y,se,D)=>{var T=D(893);Y.exports=function P(){this.__data__=T?T(null):{},this.size=0}},1499:Y=>{Y.exports=function se(D){var T=this.has(D)&&delete this.__data__[D];return this.size-=T?1:0,T}},2990:(Y,se,D)=>{var T=D(893),I=Object.prototype.hasOwnProperty;Y.exports=function C(S){var R=this.__data__;if(T){var A=R[S];return"__lodash_hash_undefined__"===A?void 0:A}return I.call(R,S)?R[S]:void 0}},480:(Y,se,D)=>{var T=D(893),N=Object.prototype.hasOwnProperty;Y.exports=function I(C){var S=this.__data__;return T?void 0!==S[C]:N.call(S,C)}},4469:(Y,se,D)=>{var T=D(893);Y.exports=function N(I,C){var S=this.__data__;return this.size+=this.has(I)?0:1,S[I]=T&&void 0===C?"__lodash_hash_undefined__":C,this}},9431:Y=>{var D=Object.prototype.hasOwnProperty;Y.exports=function T(P){var N=P.length,I=new P.constructor(N);return N&&"string"==typeof P[0]&&D.call(P,"index")&&(I.index=P.index,I.input=P.input),I}},514:(Y,se,D)=>{var T=D(2355),P=D(6693),N=D(497),I=D(3330),C=D(2501);Y.exports=function me(we,Se,De){var ze=we.constructor;switch(Se){case"[object ArrayBuffer]":return T(we);case"[object Boolean]":case"[object Date]":return new ze(+we);case"[object DataView]":return P(we,De);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return C(we,De);case"[object Map]":case"[object Set]":return new ze;case"[object Number]":case"[object String]":return new ze(we);case"[object RegExp]":return N(we);case"[object Symbol]":return I(we)}}},9225:(Y,se,D)=>{var T=D(1391),P=D(6186),N=D(6587);Y.exports=function I(C){return"function"!=typeof C.constructor||N(C)?{}:T(P(C))}},2241:(Y,se,D)=>{var T=D(1763),P=D(1955),N=D(2261),I=T?T.isConcatSpreadable:void 0;Y.exports=function C(S){return N(S)||P(S)||!!(I&&S&&S[I])}},5188:Y=>{var D=/^(?:0|[1-9]\d*)$/;Y.exports=function T(P,N){var I=typeof P;return!!(N=N??9007199254740991)&&("number"==I||"symbol"!=I&&D.test(P))&&P>-1&&P%1==0&&P<N}},3817:(Y,se,D)=>{var T=D(7826),P=D(2447),N=D(5188),I=D(9794);Y.exports=function C(S,R,A){if(!I(A))return!1;var V=typeof R;return!!("number"==V?P(A)&&N(R,A.length):"string"==V&&R in A)&&T(A[R],S)}},6300:(Y,se,D)=>{var T=D(2261),P=D(3423),N=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I=/^\w*$/;Y.exports=function C(S,R){if(T(S))return!1;var A=typeof S;return!("number"!=A&&"symbol"!=A&&"boolean"!=A&&null!=S&&!P(S))||I.test(S)||!N.test(S)||null!=R&&S in Object(R)}},29:Y=>{Y.exports=function se(D){var T=typeof D;return"string"==T||"number"==T||"symbol"==T||"boolean"==T?"__proto__"!==D:null===D}},9950:(Y,se,D)=>{var I,T=D(6189),P=(I=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"";Y.exports=function N(I){return!!P&&P in I}},6587:Y=>{var se=Object.prototype;Y.exports=function D(T){var P=T&&T.constructor;return T===("function"==typeof P&&P.prototype||se)}},3921:(Y,se,D)=>{var T=D(9794);Y.exports=function P(N){return N==N&&!T(N)}},9365:Y=>{Y.exports=function se(){this.__data__=[],this.size=0}},9343:(Y,se,D)=>{var T=D(4056),N=Array.prototype.splice;Y.exports=function I(C){var S=this.__data__,R=T(S,C);return!(R<0||(R==S.length-1?S.pop():N.call(S,R,1),--this.size,0))}},4779:(Y,se,D)=>{var T=D(4056);Y.exports=function P(N){var I=this.__data__,C=T(I,N);return C<0?void 0:I[C][1]}},1509:(Y,se,D)=>{var T=D(4056);Y.exports=function P(N){return T(this.__data__,N)>-1}},7137:(Y,se,D)=>{var T=D(4056);Y.exports=function P(N,I){var C=this.__data__,S=T(C,N);return S<0?(++this.size,C.push([N,I])):C[S][1]=I,this}},3413:(Y,se,D)=>{var T=D(9618),P=D(3597),N=D(1136);Y.exports=function I(){this.size=0,this.__data__={hash:new T,map:new(N||P),string:new T}}},5419:(Y,se,D)=>{var T=D(4113);Y.exports=function P(N){var I=T(this,N).delete(N);return this.size-=I?1:0,I}},7336:(Y,se,D)=>{var T=D(4113);Y.exports=function P(N){return T(this,N).get(N)}},1115:(Y,se,D)=>{var T=D(4113);Y.exports=function P(N){return T(this,N).has(N)}},6648:(Y,se,D)=>{var T=D(4113);Y.exports=function P(N,I){var C=T(this,N),S=C.size;return C.set(N,I),this.size+=C.size==S?0:1,this}},1575:Y=>{Y.exports=function se(D){var T=-1,P=Array(D.size);return D.forEach(function(N,I){P[++T]=[I,N]}),P}},2265:Y=>{Y.exports=function se(D,T){return function(P){return null!=P&&P[D]===T&&(void 0!==T||D in Object(P))}}},7371:(Y,se,D)=>{var T=D(7659);Y.exports=function N(I){var C=T(I,function(R){return 500===S.size&&S.clear(),R}),S=C.cache;return C}},893:(Y,se,D)=>{var P=D(8745)(Object,"create");Y.exports=P},366:(Y,se,D)=>{var P=D(3106)(Object.keys,Object);Y.exports=P},8981:Y=>{Y.exports=function se(D){var T=[];if(null!=D)for(var P in Object(D))T.push(P);return T}},8849:(Y,se,D)=>{Y=D.nmd(Y);var T=D(248),P=se&&!se.nodeType&&se,N=P&&Y&&!Y.nodeType&&Y,C=N&&N.exports===P&&T.process,S=function(){try{return N&&N.require&&N.require("util").types||C&&C.binding&&C.binding("util")}catch{}}();Y.exports=S},9243:Y=>{var D=Object.prototype.toString;Y.exports=function T(P){return D.call(P)}},3106:Y=>{Y.exports=function se(D,T){return function(P){return D(T(P))}}},2394:(Y,se,D)=>{var T=D(7910),P=Math.max;Y.exports=function N(I,C,S){return C=P(void 0===C?I.length-1:C,0),function(){for(var R=arguments,A=-1,V=P(R.length-C,0),L=Array(V);++A<V;)L[A]=R[C+A];A=-1;for(var k=Array(C+1);++A<C;)k[A]=R[A];return k[C]=S(L),T(I,this,k)}}},8492:(Y,se,D)=>{var T=D(248),P="object"==typeof self&&self&&self.Object===Object&&self,N=T||P||Function("return this")();Y.exports=N},7524:Y=>{Y.exports=function se(D,T){if(("constructor"!==T||"function"!=typeof D[T])&&"__proto__"!=T)return D[T]}},6151:Y=>{Y.exports=function D(T){return this.__data__.set(T,"__lodash_hash_undefined__"),this}},2154:Y=>{Y.exports=function se(D){return this.__data__.has(D)}},8e3:Y=>{Y.exports=function se(D){var T=-1,P=Array(D.size);return D.forEach(function(N){P[++T]=N}),P}},6814:(Y,se,D)=>{var T=D(8235),N=D(9531)(T);Y.exports=N},9531:Y=>{var T=Date.now;Y.exports=function P(N){var I=0,C=0;return function(){var S=T(),R=16-(S-C);if(C=S,R>0){if(++I>=800)return arguments[0]}else I=0;return N.apply(void 0,arguments)}}},9488:(Y,se,D)=>{var T=D(3597);Y.exports=function P(){this.__data__=new T,this.size=0}},5943:Y=>{Y.exports=function se(D){var T=this.__data__,P=T.delete(D);return this.size=T.size,P}},5456:Y=>{Y.exports=function se(D){return this.__data__.get(D)}},4793:Y=>{Y.exports=function se(D){return this.__data__.has(D)}},8689:(Y,se,D)=>{var T=D(3597),P=D(1136),N=D(1811);Y.exports=function C(S,R){var A=this.__data__;if(A instanceof T){var V=A.__data__;if(!P||V.length<199)return V.push([S,R]),this.size=++A.size,this;A=this.__data__=new N(V)}return A.set(S,R),this.size=A.size,this}},2528:Y=>{Y.exports=function se(D,T,P){for(var N=P-1,I=D.length;++N<I;)if(D[N]===T)return N;return-1}},7339:(Y,se,D)=>{var T=D(6181),P=D(3687),N=D(9164);Y.exports=function I(C){return P(C)?N(C):T(C)}},163:(Y,se,D)=>{var T=D(7371),P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/\\(\\)?/g,I=T(function(C){var S=[];return 46===C.charCodeAt(0)&&S.push(""),C.replace(P,function(R,A,V,L){S.push(V?L.replace(N,"$1"):A||R)}),S});Y.exports=I},8916:(Y,se,D)=>{var T=D(3423);Y.exports=function N(I){if("string"==typeof I||T(I))return I;var C=I+"";return"0"==C&&1/I==-1/0?"-0":C}},7075:Y=>{var D=Function.prototype.toString;Y.exports=function T(P){if(null!=P){try{return D.call(P)}catch{}try{return P+""}catch{}}return""}},1781:Y=>{var se=/\s/;Y.exports=function D(T){for(var P=T.length;P--&&se.test(T.charAt(P)););return P}},9164:Y=>{var se="\\ud800-\\udfff",C="["+se+"]",S="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",R="\\ud83c[\\udffb-\\udfff]",V="[^"+se+"]",L="(?:\\ud83c[\\udde6-\\uddff]){2}",k="[\\ud800-\\udbff][\\udc00-\\udfff]",$="(?:"+S+"|"+R+")?",Q="[\\ufe0e\\ufe0f]?",ne=Q+$+"(?:\\u200d(?:"+[V,L,k].join("|")+")"+Q+$+")*",le="(?:"+[V+S+"?",S,L,k,C].join("|")+")",ae=RegExp(R+"(?="+R+")|"+le+ne,"g");Y.exports=function de(te){for(var pe=ae.lastIndex=0;ae.test(te);)++pe;return pe}},8734:(Y,se,D)=>{var T=D(1320);Y.exports=function N(I){return T(I,4)}},4451:(Y,se,D)=>{var T=D(1320);Y.exports=function I(C){return T(C,5)}},1075:Y=>{Y.exports=function se(D){return function(){return D}}},4430:(Y,se,D)=>{var T=D(9794),P=D(5533),N=D(4282),C=Math.max,S=Math.min;Y.exports=function R(A,V,L){var k,H,$,Q,ue,ne,le=0,ae=!1,de=!1,te=!0;if("function"!=typeof A)throw new TypeError("Expected a function");function pe(Be){var st=k,ht=H;return k=H=void 0,le=Be,Q=A.apply(ht,st)}function ie(Be){var st=Be-ne;return void 0===ne||st>=V||st<0||de&&Be-le>=$}function me(){var Be=P();if(ie(Be))return we(Be);ue=setTimeout(me,function oe(Be){var Ze=V-(Be-ne);return de?S(Ze,$-(Be-le)):Ze}(Be))}function we(Be){return ue=void 0,te&&k?pe(Be):(k=H=void 0,Q)}function ze(){var Be=P(),st=ie(Be);if(k=arguments,H=this,ne=Be,st){if(void 0===ue)return function q(Be){return le=Be,ue=setTimeout(me,V),ae?pe(Be):Q}(ne);if(de)return clearTimeout(ue),ue=setTimeout(me,V),pe(ne)}return void 0===ue&&(ue=setTimeout(me,V)),Q}return V=N(V)||0,T(L)&&(ae=!!L.leading,$=(de="maxWait"in L)?C(N(L.maxWait)||0,V):$,te="trailing"in L?!!L.trailing:te),ze.cancel=function Se(){void 0!==ue&&clearTimeout(ue),le=0,k=ne=H=ue=void 0},ze.flush=function De(){return void 0===ue?Q:we(P())},ze}},5433:(Y,se,D)=>{var T=D(8951),P=D(7826),N=D(3817),I=D(6402),C=Object.prototype,S=C.hasOwnProperty,R=T(function(A,V){A=Object(A);var L=-1,k=V.length,H=k>2?V[2]:void 0;for(H&&N(V[0],V[1],H)&&(k=1);++L<k;)for(var $=V[L],Q=I($),ue=-1,ne=Q.length;++ue<ne;){var le=Q[ue],ae=A[le];(void 0===ae||P(ae,C[le])&&!S.call(A,le))&&(A[le]=$[le])}return A});Y.exports=R},6488:(Y,se,D)=>{Y.exports=D(7170)},7826:Y=>{Y.exports=function se(D,T){return D===T||D!=D&&T!=T}},7661:(Y,se,D)=>{var T=D(2134),P=D(1892),N=D(1627),I=D(2261);Y.exports=function C(S,R){return(I(S)?T:P)(S,N(R,3))}},6177:(Y,se,D)=>{var N=D(6738)(D(1904));Y.exports=N},1904:(Y,se,D)=>{var T=D(4051),P=D(1627),N=D(481),I=Math.max;Y.exports=function C(S,R,A){var V=null==S?0:S.length;if(!V)return-1;var L=null==A?0:N(A);return L<0&&(L=I(V+L,0)),T(S,P(R,3),L)}},9336:(Y,se,D)=>{var T=D(1883);Y.exports=function P(N){return null!=N&&N.length?T(N,1):[]}},7170:(Y,se,D)=>{var T=D(7772),P=D(5103),N=D(4655),I=D(2261);Y.exports=function C(S,R){return(I(S)?T:P)(S,N(R))}},1658:(Y,se,D)=>{var T=D(6483),P=D(4655),N=D(6402);Y.exports=function I(C,S){return null==C?C:T(C,P(S),N)}},5440:(Y,se,D)=>{var T=D(2202);Y.exports=function P(N,I,C){var S=null==N?void 0:T(N,I);return void 0===S?C:S}},8669:(Y,se,D)=>{var T=D(4493),P=D(4583);Y.exports=function N(I,C){return null!=I&&P(I,C,T)}},2494:(Y,se,D)=>{var T=D(3274),P=D(4583);Y.exports=function N(I,C){return null!=I&&P(I,C,T)}},5657:Y=>{Y.exports=function se(D){return D}},1955:(Y,se,D)=>{var T=D(3022),P=D(3714),N=Object.prototype,I=N.hasOwnProperty,C=N.propertyIsEnumerable,S=T(function(){return arguments}())?T:function(R){return P(R)&&I.call(R,"callee")&&!C.call(R,"callee")};Y.exports=S},2261:Y=>{Y.exports=Array.isArray},2447:(Y,se,D)=>{var T=D(6861),P=D(7765);Y.exports=function N(I){return null!=I&&P(I.length)&&!T(I)}},3471:(Y,se,D)=>{var T=D(2447),P=D(3714);Y.exports=function N(I){return P(I)&&T(I)}},7525:(Y,se,D)=>{Y=D.nmd(Y);var T=D(8492),P=D(5706),N=se&&!se.nodeType&&se,I=N&&Y&&!Y.nodeType&&Y,S=I&&I.exports===N?T.Buffer:void 0;Y.exports=(S?S.isBuffer:void 0)||P},5350:(Y,se,D)=>{var T=D(190),P=D(2472),N=D(1955),I=D(2261),C=D(2447),S=D(7525),R=D(6587),A=D(4868),H=Object.prototype.hasOwnProperty;Y.exports=function $(Q){if(null==Q)return!0;if(C(Q)&&(I(Q)||"string"==typeof Q||"function"==typeof Q.splice||S(Q)||A(Q)||N(Q)))return!Q.length;var ue=P(Q);if("[object Map]"==ue||"[object Set]"==ue)return!Q.size;if(R(Q))return!T(Q).length;for(var ne in Q)if(H.call(Q,ne))return!1;return!0}},6861:(Y,se,D)=>{var T=D(4590),P=D(9794);Y.exports=function R(A){if(!P(A))return!1;var V=T(A);return"[object Function]"==V||"[object GeneratorFunction]"==V||"[object AsyncFunction]"==V||"[object Proxy]"==V}},7765:Y=>{Y.exports=function D(T){return"number"==typeof T&&T>-1&&T%1==0&&T<=9007199254740991}},990:(Y,se,D)=>{var T=D(8562),P=D(5249),N=D(8849),I=N&&N.isMap,C=I?P(I):T;Y.exports=C},9794:Y=>{Y.exports=function se(D){var T=typeof D;return null!=D&&("object"==T||"function"==T)}},3714:Y=>{Y.exports=function se(D){return null!=D&&"object"==typeof D}},8168:(Y,se,D)=>{var T=D(4590),P=D(6186),N=D(3714),R=Function.prototype.toString,A=Object.prototype.hasOwnProperty,V=R.call(Object);Y.exports=function L(k){if(!N(k)||"[object Object]"!=T(k))return!1;var H=P(k);if(null===H)return!0;var $=A.call(H,"constructor")&&H.constructor;return"function"==typeof $&&$ instanceof $&&R.call($)==V}},8611:(Y,se,D)=>{var T=D(1202),P=D(5249),N=D(8849),I=N&&N.isSet,C=I?P(I):T;Y.exports=C},2164:(Y,se,D)=>{var T=D(4590),P=D(2261),N=D(3714);Y.exports=function C(S){return"string"==typeof S||!P(S)&&N(S)&&"[object String]"==T(S)}},3423:(Y,se,D)=>{var T=D(4590),P=D(3714);Y.exports=function I(C){return"symbol"==typeof C||P(C)&&"[object Symbol]"==T(C)}},4868:(Y,se,D)=>{var T=D(8902),P=D(5249),N=D(8849),I=N&&N.isTypedArray,C=I?P(I):T;Y.exports=C},8152:Y=>{Y.exports=function se(D){return void 0===D}},4614:(Y,se,D)=>{var T=D(1384),P=D(190),N=D(2447);Y.exports=function I(C){return N(C)?T(C):P(C)}},6402:(Y,se,D)=>{var T=D(1384),P=D(7673),N=D(2447);Y.exports=function I(C){return N(C)?T(C,!0):P(C)}},2819:Y=>{Y.exports=function se(D){var T=null==D?0:D.length;return T?D[T-1]:void 0}},8921:(Y,se,D)=>{var T=D(3880),P=D(1627),N=D(2839),I=D(2261);Y.exports=function C(S,R){return(I(S)?T:N)(S,P(R,3))}},6054:(Y,se,D)=>{var T=D(1741),P=D(7794),N=D(1627);Y.exports=function I(C,S){var R={};return S=N(S,3),P(C,function(A,V,L){T(R,V,S(A,V,L))}),R}},5664:(Y,se,D)=>{var T=D(4530),P=D(8444),N=D(5657);Y.exports=function I(C){return C&&C.length?T(C,N,P):void 0}},7659:(Y,se,D)=>{var T=D(1811);function N(I,C){if("function"!=typeof I||null!=C&&"function"!=typeof C)throw new TypeError("Expected a function");var S=function(){var R=arguments,A=C?C.apply(this,R):R[0],V=S.cache;if(V.has(A))return V.get(A);var L=I.apply(this,R);return S.cache=V.set(A,L)||V,L};return S.cache=new(N.Cache||T),S}N.Cache=T,Y.exports=N},2213:(Y,se,D)=>{var T=D(3294),N=D(1300)(function(I,C,S){T(I,C,S)});Y.exports=N},1007:(Y,se,D)=>{var T=D(4530),P=D(8898),N=D(5657);Y.exports=function I(C){return C&&C.length?T(C,N,P):void 0}},50:(Y,se,D)=>{var T=D(4530),P=D(1627),N=D(8898);Y.exports=function I(C,S){return C&&C.length?T(C,P(S,2),N):void 0}},4249:Y=>{Y.exports=function se(){}},5533:(Y,se,D)=>{var T=D(8492);Y.exports=function(){return T.Date.now()}},7607:(Y,se,D)=>{var T=D(2784),N=D(6801)(function(I,C){return null==I?{}:T(I,C)});Y.exports=N},2692:(Y,se,D)=>{var T=D(3400),P=D(6443),N=D(6300),I=D(8916);Y.exports=function C(S){return N(S)?T(I(S)):P(S)}},5953:(Y,se,D)=>{var P=D(4222)();Y.exports=P},5909:(Y,se,D)=>{var T=D(9850),P=D(5103),N=D(1627),I=D(8978),C=D(2261);Y.exports=function S(R,A,V){var L=C(R)?T:I,k=arguments.length<3;return L(R,N(A,4),V,k,P)}},7939:(Y,se,D)=>{var T=D(9478);Y.exports=function P(N,I,C){return null==N?N:T(N,I,C)}},5741:(Y,se,D)=>{var T=D(190),P=D(2472),N=D(2447),I=D(2164),C=D(7339);Y.exports=function A(V){if(null==V)return 0;if(N(V))return I(V)?C(V):V.length;var L=P(V);return"[object Map]"==L||"[object Set]"==L?V.size:T(V).length}},7184:(Y,se,D)=>{var T=D(1883),P=D(252),N=D(8951),I=D(3817),C=N(function(S,R){if(null==S)return[];var A=R.length;return A>1&&I(S,R[0],R[1])?R=[]:A>2&&I(R[0],R[1],R[2])&&(R=[R[0]]),P(S,T(R,1),[])});Y.exports=C},1315:Y=>{Y.exports=function se(){return[]}},5706:Y=>{Y.exports=function se(){return!1}},9292:(Y,se,D)=>{var T=D(4282),P=1/0;Y.exports=function I(C){return C?(C=T(C))===P||C===-P?17976931348623157e292*(C<0?-1:1):C==C?C:0:0===C?C:0}},481:(Y,se,D)=>{var T=D(9292);Y.exports=function P(N){var I=T(N),C=I%1;return I==I?C?I-C:I:0}},4282:(Y,se,D)=>{var T=D(9484),P=D(9794),N=D(3423),C=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,R=/^0o[0-7]+$/i,A=parseInt;Y.exports=function V(L){if("number"==typeof L)return L;if(N(L))return NaN;if(P(L)){var k="function"==typeof L.valueOf?L.valueOf():L;L=P(k)?k+"":k}if("string"!=typeof L)return 0===L?L:+L;L=T(L);var H=S.test(L);return H||R.test(L)?A(L.slice(2),H?2:8):C.test(L)?NaN:+L}},9078:(Y,se,D)=>{var T=D(3880),P=D(4231),N=D(2261),I=D(3423),C=D(163),S=D(8916),R=D(2674);Y.exports=function A(V){return N(V)?T(V,S):I(V)?[V]:P(C(R(V)))}},4210:(Y,se,D)=>{var T=D(5931),P=D(6402);Y.exports=function N(I){return T(I,P(I))}},2674:(Y,se,D)=>{var T=D(7002);Y.exports=function P(N){return null==N?"":T(N)}},6893:(Y,se,D)=>{var T=D(7772),P=D(1391),N=D(7794),I=D(1627),C=D(6186),S=D(2261),R=D(7525),A=D(6861),V=D(9794),L=D(4868);Y.exports=function k(H,$,Q){var ue=S(H),ne=ue||R(H)||L(H);if($=I($,4),null==Q){var le=H&&H.constructor;Q=ne?ue?new le:[]:V(H)&&A(le)?P(C(H)):{}}return(ne?T:N)(H,function(ae,de,te){return $(Q,ae,de,te)}),Q}},2480:(Y,se,D)=>{var T=D(1883),P=D(8951),N=D(9154),I=D(3471),C=P(function(S){return N(T(S,1,I,!0))});Y.exports=C},4538:(Y,se,D)=>{var T=D(2674),P=0;Y.exports=function N(I){var C=++P;return T(I)+C}},8808:(Y,se,D)=>{var T=D(6680),P=D(4614);Y.exports=function N(I){return null==I?[]:T(I,P(I))}},4606:(Y,se,D)=>{var T=D(9553),P=D(2255);Y.exports=function N(I,C){return P(I||[],C||[],T)}}},Y=>{Y(Y.s=2589)}]);
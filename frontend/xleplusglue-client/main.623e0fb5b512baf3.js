(self.webpackChunkgswb_client=self.webpackChunkgswb_client||[]).push([[179],{7171:(Y,se,D)=>{"use strict";function T(t){return"function"==typeof t}function P(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const O=P(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function I(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class C{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(T(r))try{r()}catch(s){n=s instanceof O?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{A(s)}catch(c){n=n??[],c instanceof O?n=[...n,...c.errors]:n.push(c)}}if(n)throw new O(n)}}add(n){var e;if(n&&n!==this)if(this.closed)A(n);else{if(n instanceof C){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&I(e,n)}remove(n){const{_finalizers:e}=this;e&&I(e,n),n instanceof C&&n._removeParent(this)}}C.EMPTY=(()=>{const t=new C;return t.closed=!0,t})();const S=C.EMPTY;function R(t){return t instanceof C||t&&"closed"in t&&T(t.remove)&&T(t.add)&&T(t.unsubscribe)}function A(t){T(t)?t():t.unsubscribe()}const V={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},L={setTimeout(t,n,...e){const{delegate:r}=L;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=L;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function k(t){L.setTimeout(()=>{const{onUnhandledError:n}=V;if(!n)throw t;n(t)})}function H(){}const $=ne("C",void 0,void 0);function ne(t,n,e){return{kind:t,value:n,error:e}}let le=null;function ae(t){if(V.useDeprecatedSynchronousErrorHandling){const n=!le;if(n&&(le={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=le;if(le=null,e)throw r}}else t()}class te extends C{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,R(n)&&n.add(this)):this.destination=De}static create(n,e,r){return new ie(n,e,r)}next(n){this.isStopped?Te(function ue(t){return ne("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Te(function Q(t){return ne("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Te($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pe=Function.prototype.bind;function Z(t,n){return pe.call(t,n)}class oe{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){me(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){me(r)}else me(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){me(e)}}}class ie extends te{constructor(n,e,r){let i;if(super(),T(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let s;this&&V.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Z(n.next,s),error:n.error&&Z(n.error,s),complete:n.complete&&Z(n.complete,s)}):i=n}this.destination=new oe(i)}}function me(t){V.useDeprecatedSynchronousErrorHandling?function de(t){V.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=t)}(t):k(t)}function Te(t,n){const{onStoppedNotification:e}=V;e&&L.setTimeout(()=>e(t,n))}const De={closed:!0,next:H,error:function _e(t){throw t},complete:H},ze="function"==typeof Symbol&&Symbol.observable||"@@observable";function Be(t){return t}function ht(t){return 0===t.length?Be:1===t.length?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}let Ke=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){const s=function qt(t){return t&&t instanceof te||function Ze(t){return t&&T(t.next)&&T(t.error)&&T(t.complete)}(t)&&R(t)}(e)?e:new ie(e,r,i);return ae(()=>{const{operator:c,source:m}=this;s.add(c?c.call(s,m):m?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Ct(r))((i,s)=>{const c=new ie({next:m=>{try{e(m)}catch(w){s(w),c.unsubscribe()}},error:s,complete:i});this.subscribe(c)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[ze](){return this}pipe(...e){return ht(e)(this)}toPromise(e){return new(e=Ct(e))((r,i)=>{let s;this.subscribe(c=>s=c,c=>i(c),()=>r(s))})}}return t.create=n=>new t(n),t})();function Ct(t){var n;return null!==(n=t??V.Promise)&&void 0!==n?n:Promise}const Ht=P(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let It=(()=>{class t extends Ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new mn(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Ht}next(e){ae(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){ae(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){ae(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:s}=this;return r||i?S:(this.currentObservers=null,s.push(e),new C(()=>{this.currentObservers=null,I(s,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:s}=this;r?e.error(i):s&&e.complete()}asObservable(){const e=new Ke;return e.source=this,e}}return t.create=(n,e)=>new mn(n,e),t})();class mn extends It{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:S}}class cn extends It{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function lt(t){return T(t?.lift)}function it(t){return n=>{if(lt(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pt(t,n,e,r,i){return new Ft(t,n,e,r,i)}class Ft extends te{constructor(n,e,r,i,s,c){super(n),this.onFinalize=s,this.shouldUnsubscribe=c,this._next=e?function(m){try{e(m)}catch(w){n.error(w)}}:super._next,this._error=i?function(m){try{i(m)}catch(w){n.error(w)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(m){n.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function St(t,n){return it((e,r)=>{let i=0;e.subscribe(pt(r,s=>{r.next(t.call(n,s,i++))}))})}function Xo(t){return this instanceof Xo?(this.v=t,this):new Xo(t)}function Ms(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function ja(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(s){e[s]=t[s]&&function(c){return new Promise(function(m,w){!function i(s,c,m,w){Promise.resolve(w).then(function(N){s({value:N,done:m})},c)}(m,w,(c=t[s](c)).done,c.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ia=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function qs(t){return T(t?.then)}function ed(t){return T(t[ze])}function as(t){return Symbol.asyncIterator&&T(t?.[Symbol.asyncIterator])}function Aa(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ss=function dh(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function td(t){return T(t?.[ss])}function vu(t){return function fl(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(t,n||[]),s=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(ge){r[ge]&&(i[ge]=function(be){return new Promise(function(Se,Fe){s.push([ge,be,Se,Fe])>1||m(ge,be)})})}function m(ge,be){try{!function w(ge){ge.value instanceof Xo?Promise.resolve(ge.value.v).then(N,U):K(s[0][2],ge)}(r[ge](be))}catch(Se){K(s[0][3],Se)}}function N(ge){m("next",ge)}function U(ge){m("throw",ge)}function K(ge,be){ge(be),s.shift(),s.length&&m(s[0][0],s[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:i}=yield Xo(e.read());if(i)return yield Xo(void 0);yield yield Xo(r)}}finally{e.releaseLock()}})}function ec(t){return T(t?.getReader)}function No(t){if(t instanceof Ke)return t;if(null!=t){if(ed(t))return function nd(t){return new Ke(n=>{const e=t[ze]();if(T(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Ia(t))return function tc(t){return new Ke(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(qs(t))return function nc(t){return new Ke(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,k)})}(t);if(as(t))return rc(t);if(td(t))return function Is(t){return new Ke(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(ec(t))return function rd(t){return rc(vu(t))}(t)}throw Aa(t)}function rc(t){return new Ke(n=>{(function ri(t,n){var e,r,i,s;return function Fi(t,n,e,r){return new(e||(e=Promise))(function(s,c){function m(U){try{N(r.next(U))}catch(K){c(K)}}function w(U){try{N(r.throw(U))}catch(K){c(K)}}function N(U){U.done?s(U.value):function i(s){return s instanceof e?s:new e(function(c){c(s)})}(U.value).then(m,w)}N((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Ms(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(c){i={error:c}}finally{try{r&&!r.done&&(s=e.return)&&(yield s.call(e))}finally{if(i)throw i.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Oa(t,n,e,r=0,i=!1){const s=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function qi(t,n,e=1/0){return T(n)?qi((r,i)=>St((s,c)=>n(r,s,i,c))(No(t(r,i))),e):("number"==typeof n&&(e=n),it((r,i)=>function Mr(t,n,e,r,i,s,c,m){const w=[];let N=0,U=0,K=!1;const ge=()=>{K&&!w.length&&!N&&n.complete()},be=Fe=>N<r?Se(Fe):w.push(Fe),Se=Fe=>{s&&n.next(Fe),N++;let nt=!1;No(e(Fe,U++)).subscribe(pt(n,mt=>{i?.(mt),s?be(mt):n.next(mt)},()=>{nt=!0},void 0,()=>{if(nt)try{for(N--;w.length&&N<r;){const mt=w.shift();c?Oa(n,c,()=>Se(mt)):Se(mt)}ge()}catch(mt){n.error(mt)}}))};return t.subscribe(pt(n,be,()=>{K=!0,ge()})),()=>{m?.()}}(r,i,t,e)))}function ki(t=1/0){return qi(Be,t)}const oa=new Ke(t=>t.complete());function En(t){return t&&T(t.schedule)}function li(t){return t[t.length-1]}function $a(t){return T(li(t))?t.pop():void 0}function Ro(t){return En(li(t))?t.pop():void 0}function Qi(t,n=0){return it((e,r)=>{e.subscribe(pt(r,i=>Oa(r,t,()=>r.next(i),n),()=>Oa(r,t,()=>r.complete(),n),i=>Oa(r,t,()=>r.error(i),n)))})}function ko(t,n=0){return it((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function As(t,n){if(!t)throw new Error("Iterable cannot be null");return new Ke(e=>{Oa(e,n,()=>{const r=t[Symbol.asyncIterator]();Oa(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Ve(t,n){return n?function Re(t,n){if(null!=t){if(ed(t))return function id(t,n){return No(t).pipe(ko(n),Qi(n))}(t,n);if(Ia(t))return function Yn(t,n){return new Ke(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(qs(t))return function Tt(t,n){return No(t).pipe(ko(n),Qi(n))}(t,n);if(as(t))return As(t,n);if(td(t))return function od(t,n){return new Ke(e=>{let r;return Oa(e,n,()=>{r=t[ss](),Oa(e,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(c){return void e.error(c)}s?e.complete():e.next(i)},0,!0)}),()=>T(r?.return)&&r.return()})}(t,n);if(ec(t))return function Oe(t,n){return As(vu(t),n)}(t,n)}throw Aa(t)}(t,n):No(t)}function rt(...t){const n=Ro(t),e=function Pr(t,n){return"number"==typeof li(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?No(r[0]):ki(e)(Ve(r,n)):oa}function Je(...t){return Ve(t,Ro(t))}function Qt(t={}){const{connector:n=(()=>new It),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let c,m,w,N=0,U=!1,K=!1;const ge=()=>{m?.unsubscribe(),m=void 0},be=()=>{ge(),c=w=void 0,U=K=!1},Se=()=>{const Fe=c;be(),Fe?.unsubscribe()};return it((Fe,nt)=>{N++,!K&&!U&&ge();const mt=w=w??n();nt.add(()=>{N--,0===N&&!K&&!U&&(m=gn(Se,i))}),mt.subscribe(nt),!c&&N>0&&(c=new ie({next:et=>mt.next(et),error:et=>{K=!0,ge(),m=gn(be,e,et),mt.error(et)},complete:()=>{U=!0,ge(),m=gn(be,r),mt.complete()}}),No(Fe).subscribe(c))})(s)}}function gn(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new ie({next:()=>{r.unsubscribe(),t()}});return No(n(...e)).subscribe(r)}function Vt(t,n){return it((e,r)=>{let i=null,s=0,c=!1;const m=()=>c&&!i&&r.complete();e.subscribe(pt(r,w=>{i?.unsubscribe();let N=0;const U=s++;No(t(w,U)).subscribe(i=pt(r,K=>r.next(n?n(w,K,U,N++):K),()=>{i=null,m()}))},()=>{c=!0,m()}))})}function tn(t,n=Be){return t=t??Un,it((e,r)=>{let i,s=!0;e.subscribe(pt(r,c=>{const m=n(c);(s||!t(i,m))&&(s=!1,i=m,r.next(c))}))})}function Un(t,n){return t===n}function Bt(t){for(let n in t)if(t[n]===Bt)return n;throw Error("Could not find renamed property on target object.")}function Or(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function er(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(er).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function or(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ii=Bt({__forward_ref__:Bt});function An(t){return t.__forward_ref__=An,t.toString=function(){return er(this())},t}function on(t){return Lr(t)?t():t}function Lr(t){return"function"==typeof t&&t.hasOwnProperty(ii)&&t.__forward_ref__===An}function mi(t){return t&&!!t.\u0275providers}const gr="https://g.co/ng/security#xss";class Qe extends Error{constructor(n,e){super(function Fr(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function vn(t){return"string"==typeof t?t:null==t?"":String(t)}function zi(t,n){throw new Qe(-201,!1)}function io(t,n){null==t&&function tr(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function an(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ra(t){return yu(t,ka)||yu(t,Gl)}function yu(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ko(t){return t&&(t.hasOwnProperty(Ns)||t.hasOwnProperty(sc))?t[Ns]:null}const ka=Bt({\u0275prov:Bt}),Ns=Bt({\u0275inj:Bt}),Gl=Bt({ngInjectableDef:Bt}),sc=Bt({ngInjectorDef:Bt});var Fn=(()=>((Fn=Fn||{})[Fn.Default=0]="Default",Fn[Fn.Host=1]="Host",Fn[Fn.Self=2]="Self",Fn[Fn.SkipSelf=4]="SkipSelf",Fn[Fn.Optional=8]="Optional",Fn))();let Xa;function yo(t){const n=Xa;return Xa=t,n}function ls(t,n,e){const r=Ra(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Fn.Optional?null:void 0!==n?n:void zi(er(t))}const vi=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),bu={},wu="__NG_DI_FLAG__",uc="ngTempTokenPath",bo=/\n/gm,hh="__source";let el;function Pa(t){const n=el;return el=t,n}function Sp(t,n=Fn.Default){if(void 0===el)throw new Qe(-203,!1);return null===el?ls(t,void 0,n):el.get(t,n&Fn.Optional?null:void 0,n)}function Pt(t,n=Fn.Default){return(function gl(){return Xa}()||Sp)(on(t),n)}function nn(t,n=Fn.Default){return Pt(t,gf(n))}function gf(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mf(t){const n=[];for(let e=0;e<t.length;e++){const r=on(t[e]);if(Array.isArray(r)){if(0===r.length)throw new Qe(900,!1);let i,s=Fn.Default;for(let c=0;c<r.length;c++){const m=r[c],w=um(m);"number"==typeof w?-1===w?i=m.token:s|=w:i=m}n.push(Pt(i,s))}else n.push(Pt(r))}return n}function dc(t,n){return t[wu]=n,t.prototype[wu]=n,t}function um(t){return t[wu]}function us(t){return{toString:t}.toString()}var cs=(()=>((cs=cs||{})[cs.OnPush=0]="OnPush",cs[cs.Default=1]="Default",cs))(),ya=(()=>{return(t=ya||(ya={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",ya;var t})();const wo={},xr=[],hc=Bt({\u0275cmp:Bt}),vf=Bt({\u0275dir:Bt}),yf=Bt({\u0275pipe:Bt}),Tp=Bt({\u0275mod:Bt}),Rs=Bt({\u0275fac:Bt}),Wl=Bt({__NG_ELEMENT_ID__:Bt}),$l=Bt({__NG_ENV_ID__:Bt});function ks(t,n,e){let r=t.length;for(;;){const i=t.indexOf(n,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=n.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}e=i+1}}function bf(t,n,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const s=e[r++],c=e[r++],m=e[r++];t.setAttribute(n,c,m,s)}else{const s=i,c=e[++r];Cu(s)?t.setProperty(n,s,c):t.setAttribute(n,s,c),r++}}return r}function _u(t){return 3===t||4===t||6===t}function Cu(t){return 64===t.charCodeAt(0)}function Yl(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?e=i:0===e||Mp(t,e,i,null,-1===e||2===e?n[++r]:null)}}return t}function Mp(t,n,e,r,i){let s=0,c=t.length;if(-1===n)c=-1;else for(;s<t.length;){const m=t[s++];if("number"==typeof m){if(m===n){c=-1;break}if(m>n){c=s-1;break}}}for(;s<t.length;){const m=t[s];if("number"==typeof m)break;if(m===e){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==c&&(t.splice(c,0,n),s=c+1),t.splice(s++,0,e),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const sd="ng-template";function ld(t,n,e){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const c=t[r++];if(e&&"class"===s&&-1!==ks(c.toLowerCase(),n,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===n)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Xl(t){return 4===t.type&&t.value!==sd}function gh(t,n,e){return n===(4!==t.type||e?t.value:sd)}function mh(t,n,e){let r=4;const i=t.attrs||[],s=function ds(t){for(let n=0;n<t.length;n++)if(_u(t[n]))return n;return t.length}(i);let c=!1;for(let m=0;m<n.length;m++){const w=n[m];if("number"!=typeof w){if(!c)if(4&r){if(r=2|1&r,""!==w&&!gh(t,w,e)||""===w&&1===n.length){if(Ka(r))return!1;c=!0}}else{const N=8&r?w:n[++m];if(8&r&&null!==t.attrs){if(!ld(t.attrs,N,e)){if(Ka(r))return!1;c=!0}continue}const K=wf(8&r?"class":w,i,Xl(t),e);if(-1===K){if(Ka(r))return!1;c=!0;continue}if(""!==N){let ge;ge=K>s?"":i[K+1].toLowerCase();const be=8&r?ge:null;if(be&&-1!==ks(be,N,0)||2&r&&N!==ge){if(Ka(r))return!1;c=!0}}}}else{if(!c&&!Ka(r)&&!Ka(w))return!1;if(c&&Ka(w))continue;c=!1,r=w|1&r}}return Ka(r)||c}function Ka(t){return 0==(1&t)}function wf(t,n,e,r){if(null===n)return-1;let i=0;if(r||!e){let s=!1;for(;i<n.length;){const c=n[i];if(c===t)return i;if(3===c||6===c)s=!0;else{if(1===c||2===c){let m=n[++i];for(;"string"==typeof m;)m=n[++i];continue}if(4===c)break;if(0===c){i+=4;continue}}i+=s?1:2}return-1}return function Ip(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function vh(t,n,e=!1){for(let r=0;r<n.length;r++)if(mh(t,n[r],e))return!0;return!1}function yh(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function _f(t,n){return t?":not("+n.trim()+")":n}function Ap(t){let n=t[0],e=1,r=2,i="",s=!1;for(;e<t.length;){let c=t[e];if("string"==typeof c)if(2&r){const m=t[++e];i+="["+c+(m.length>0?'="'+m+'"':"")+"]"}else 8&r?i+="."+c:4&r&&(i+=" "+c);else""!==i&&!Ka(c)&&(n+=_f(s,i),i=""),r=c,s=s||!Ka(r);e++}return""!==i&&(n+=_f(s,i)),n}function Er(t){return us(()=>{const n=yl(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===cs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ya.Emulated,styles:t.styles||xr,_:null,schemas:t.schemas||null,tView:null,id:""};pc(e);const r=t.dependencies;return e.directiveDefs=Ef(r,!1),e.pipeDefs=Ef(r,!0),e.id=function cd(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of e)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(e),e})}function dm(t){return Br(t)||Ui(t)}function xu(t){return null!==t}function Jr(t){return us(()=>({type:t.type,bootstrap:t.bootstrap||xr,declarations:t.declarations||xr,imports:t.imports||xr,exports:t.exports||xr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function xf(t,n){if(null==t)return wo;const e={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),e[i]=r,n&&(n[i]=s)}return e}function ln(t){return us(()=>{const n=yl(t);return pc(n),n})}function Br(t){return t[hc]||null}function Ui(t){return t[vf]||null}function oo(t){return t[yf]||null}function so(t,n){const e=t[Tp]||null;if(!e&&!0===n)throw new Error(`Type ${er(t)} does not have '\u0275mod' property.`);return e}function yl(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||wo,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||xr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xf(t.inputs,n),outputs:xf(t.outputs)}}function pc(t){t.features?.forEach(n=>n(t))}function Ef(t,n){if(!t)return null;const e=n?oo:dm;return()=>("function"==typeof t?t():t).map(r=>e(r)).filter(xu)}const lo=0,fn=1,Wn=2,Li=3,sa=4,gc=5,_o=6,bl=7,yi=8,tl=9,la=10,Zn=11,mc=12,wh=13,Eu=14,Gi=15,fs=16,Za=17,uo=18,dd=19,fd=20,wl=21,ur=22,hd=23,qa=24,hn=25,pn=1,_l=2,Ps=7,Du=9,oi=11;function Qa(t){return Array.isArray(t)&&"object"==typeof t[pn]}function La(t){return Array.isArray(t)&&!0===t[pn]}function _h(t){return 0!=(4&t.flags)}function Su(t){return t.componentOffset>-1}function Df(t){return 1==(1&t.flags)}function hs(t){return!!t.template}function ua(t){return 0!=(512&t[Wn])}function co(t,n){return t.hasOwnProperty(Rs)?t[Rs]:null}let ca=vi.WeakRef??class Wr{constructor(n){this.ref=n}deref(){return this.ref}},ps=0,Bo=null,xl=!1;function eo(t){const n=Bo;return Bo=t,n}class vc{constructor(){this.id=ps++,this.ref=function wa(t){return new ca(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,e]of this.producers){const r=e.producerNode.deref();if(void 0!==r&&e.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(e.seenValueVersion))return!0}else this.producers.delete(n),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=xl;xl=!0;try{for(const[e,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(e),i?.producers.delete(this.id))}}finally{xl=n}}producerAccessed(){if(xl)throw new Error("");if(null===Bo)return;let n=Bo.producers.get(this.id);void 0===n?(n={consumerNode:Bo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Bo.trackingVersion},Bo.producers.set(this.id,n),this.consumers.set(Bo.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=Bo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Bo?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let Dh=null;const bd=()=>{};class Lp extends vc{constructor(n,e,r){super(),this.watch=n,this.schedule=e,this.dirty=!1,this.cleanupFn=bd,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=eo(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=bd,this.watch(this.registerOnCleanup)}finally{eo(n)}}cleanup(){this.cleanupFn()}}class gm{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function _a(){return Sh}function Sh(t){return t.type.prototype.ngOnChanges&&(t.setInput=Af),_c}function _c(){const t=Th(this),n=t?.current;if(n){const e=t.previous;if(e===wo)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function Af(t,n,e,r){const i=this.declaredInputs[e],s=Th(t)||function Mh(t,n){return t[wd]=n}(t,{previous:wo,current:null}),c=s.current||(s.current={}),m=s.previous,w=m[i];c[i]=new gm(w&&w.currentValue,n,m===wo),t[r]=n}_a.ngInherit=!0;const wd="__ngSimpleChanges__";function Th(t){return t[wd]||null}const Fa=function(t,n,e){};function fi(t){for(;Array.isArray(t);)t=t[lo];return t}function Ed(t,n){return fi(n[t])}function ji(t,n){return fi(n[t.index])}function Of(t,n){return t.data[n]}function Ba(t,n){const e=n[t];return Qa(e)?e:e[lo]}function rl(t,n){return null==n?null:t[n]}function Ir(t){t[Za]=0}function mm(t){1024&t[Wn]||(t[Wn]|=1024,xc(t,1))}function Jl(t){1024&t[Wn]&&(t[Wn]&=-1025,xc(t,-1))}function xc(t,n){let e=t[Li];if(null===e)return;e[gc]+=n;let r=e;for(e=e[Li];null!==e&&(1===n&&1===r[gc]||-1===n&&0===r[gc]);)e[gc]+=n,r=e,e=e[Li]}const Bn={lFrame:Mc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Td(){return Bn.bindingsEnabled}function Ho(){return null!==Bn.skipHydrationRootTNode}function Rt(){return Bn.lFrame.lView}function wr(){return Bn.lFrame.tView}function Vn(t){return Bn.lFrame.contextLView=t,t[yi]}function hi(t){return Bn.lFrame.contextLView=null,t}function zo(){let t=Nh();for(;null!==t&&64===t.type;)t=t.parent;return t}function Nh(){return Bn.lFrame.currentTNode}function ms(t,n){const e=Bn.lFrame;e.currentTNode=t,e.isParent=n}function Id(){return Bn.lFrame.isParent}function fo(){Bn.lFrame.isParent=!1}function Wi(){const t=Bn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Fs(){return Bn.lFrame.bindingIndex++}function Uo(t){const n=Bn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function il(t,n){const e=Bn.lFrame;e.bindingIndex=e.bindingRootIndex=t,Ad(n)}function Ad(t){Bn.lFrame.currentDirectiveIndex=t}function Od(){return Bn.lFrame.currentQueryIndex}function Bs(t){Bn.lFrame.currentQueryIndex=t}function Rf(t){const n=t[fn];return 2===n.type?n.declTNode:1===n.type?t[_o]:null}function Tc(t,n,e){if(e&Fn.SkipSelf){let i=n,s=t;for(;!(i=i.parent,null!==i||e&Fn.Host||(i=Rf(s),null===i||(s=s[Eu],10&i.type))););if(null===i)return!1;n=i,t=s}const r=Bn.lFrame=Up();return r.currentTNode=n,r.lView=t,!0}function ru(t){const n=Up(),e=t[fn];Bn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Up(){const t=Bn.lFrame,n=null===t?null:t.child;return null===n?Mc(t):n}function Mc(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Nd(){const t=Bn.lFrame;return Bn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Rd=Nd;function Eo(){const t=Nd();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Do(){return Bn.lFrame.selectedIndex}function ts(t){Bn.lFrame.selectedIndex=t}function Hr(){const t=Bn.lFrame;return Of(t.tView,t.selectedIndex)}let Go=!0;function Ld(){return Go}function ou(t){Go=t}function vs(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const s=t.data[e].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:m,ngAfterViewInit:w,ngAfterViewChecked:N,ngOnDestroy:U}=s;c&&(t.contentHooks??=[]).push(-e,c),m&&((t.contentHooks??=[]).push(e,m),(t.contentCheckHooks??=[]).push(e,m)),w&&(t.viewHooks??=[]).push(-e,w),N&&((t.viewHooks??=[]).push(e,N),(t.viewCheckHooks??=[]).push(e,N)),null!=U&&(t.destroyHooks??=[]).push(e,U)}}function ys(t,n,e){Gp(t,n,3,e)}function Ou(t,n,e,r){(3&t[Wn])===e&&Gp(t,n,e,r)}function kf(t,n){let e=t[Wn];(3&e)===n&&(e&=8191,e+=1,t[Wn]=e)}function Gp(t,n,e,r){const s=r??-1,c=n.length-1;let m=0;for(let w=void 0!==r?65535&t[Za]:0;w<c;w++)if("number"==typeof n[w+1]){if(m=n[w],null!=r&&m>=r)break}else n[w]<0&&(t[Za]+=65536),(m<s||-1==s)&&(jp(t,e,n,w),t[Za]=(4294901760&t[Za])+w+2),w++}function Nu(t,n){Fa(4,t,n);const e=eo(null);try{n.call(t)}finally{eo(e),Fa(5,t,n)}}function jp(t,n,e,r){const i=e[r]<0,s=e[r+1],m=t[i?-e[r]:e[r]];i?t[Wn]>>13<t[Za]>>16&&(3&t[Wn])===n&&(t[Wn]+=8192,Nu(m,s)):Nu(m,s)}const Ru=-1;class Ic{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function kh(t){return t!==Ru}function ku(t){return 32767&t}function Vd(t,n){let e=function wm(t){return t>>16}(t),r=n;for(;e>0;)r=r[Eu],e--;return r}let Ph=!0;function ai(t){const n=Ph;return Ph=t,n}const Hd=255,Ac=5;let Vs=0;const da={};function zd(t,n){const e=Fh(t,n);if(-1!==e)return e;const r=n[fn];r.firstCreatePass&&(t.injectorIndex=n.length,Ff(r.data,t),Ff(n,null),Ff(r.blueprint,null));const i=Ud(t,n),s=t.injectorIndex;if(kh(i)){const c=ku(i),m=Vd(i,n),w=m[fn].data;for(let N=0;N<8;N++)n[s+N]=m[c+N]|w[c+N]}return n[s+8]=i,s}function Ff(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Fh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ud(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;null!==i;){if(r=d(i),null===r)return Ru;if(e++,i=i[Eu],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return Ru}function Bf(t,n,e){!function Lh(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Wl)&&(r=e[Wl]),null==r&&(r=e[Wl]=Vs++);const i=r&Hd;n.data[t+(i>>Ac)]|=1<<i}(t,n,e)}function Vf(t,n,e){if(e&Fn.Optional||void 0!==t)return t;zi()}function Hf(t,n,e,r){if(e&Fn.Optional&&void 0===r&&(r=null),!(e&(Fn.Self|Fn.Host))){const i=t[tl],s=yo(void 0);try{return i?i.get(n,r,e&Fn.Optional):ls(n,r,e&Fn.Optional)}finally{yo(s)}}return Vf(r,0,e)}function Kr(t,n,e,r=Fn.Default,i){if(null!==t){if(2048&n[Wn]&&!(r&Fn.Self)){const c=function a(t,n,e,r,i){let s=t,c=n;for(;null!==s&&null!==c&&2048&c[Wn]&&!(512&c[Wn]);){const m=Gd(s,c,e,r|Fn.Self,da);if(m!==da)return m;let w=s.parent;if(!w){const N=c[fd];if(N){const U=N.get(e,da,r);if(U!==da)return U}w=d(c),c=c[Eu]}s=w}return i}(t,n,e,r,da);if(c!==da)return c}const s=Gd(t,n,e,r,da);if(s!==da)return s}return Hf(n,e,r,i)}function Gd(t,n,e,r,i){const s=function jd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Wl)?t[Wl]:void 0;return"number"==typeof n?n>=0?n&Hd:Kp:n}(e);if("function"==typeof s){if(!Tc(n,t,r))return r&Fn.Host?Vf(i,0,r):Hf(n,e,r,i);try{const c=s(r);if(null!=c||r&Fn.Optional)return c;zi()}finally{Rd()}}else if("number"==typeof s){let c=null,m=Fh(t,n),w=Ru,N=r&Fn.Host?n[Gi][_o]:null;for((-1===m||r&Fn.SkipSelf)&&(w=-1===m?Ud(t,n):n[m+8],w!==Ru&&Ii(r,!1)?(c=n[fn],m=ku(w),n=Vd(w,n)):m=-1);-1!==m;){const U=n[fn];if(Xp(s,m,U.data)){const K=_m(m,n,e,c,r,N);if(K!==da)return K}w=n[m+8],w!==Ru&&Ii(r,n[fn].data[m+8]===N)&&Xp(s,m,n)?(c=U,m=ku(w),n=Vd(w,n)):m=-1}}return i}function _m(t,n,e,r,i,s){const c=n[fn],m=c.data[t+8],U=ol(m,c,e,null==r?Su(m)&&Ph:r!=c&&0!=(3&m.type),i&Fn.Host&&s===m);return null!==U?Pu(n,c,U,m):da}function ol(t,n,e,r,i){const s=t.providerIndexes,c=n.data,m=1048575&s,w=t.directiveStart,U=s>>20,ge=i?m+U:t.directiveEnd;for(let be=r?m:m+U;be<ge;be++){const Se=c[be];if(be<w&&e===Se||be>=w&&Se.type===e)return be}if(i){const be=c[w];if(be&&hs(be)&&be.type===e)return w}return null}function Pu(t,n,e,r){let i=t[e];const s=n.data;if(function Wp(t){return t instanceof Ic}(i)){const c=i;c.resolving&&function ci(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Qe(-200,`Circular dependency in DI detected for ${t}${e}`)}(function Gn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():vn(t)}(s[e]));const m=ai(c.canSeeViewProviders);c.resolving=!0;const w=c.injectImpl?yo(c.injectImpl):null;Tc(t,r,Fn.Default);try{i=t[e]=c.factory(void 0,s,t,r),n.firstCreatePass&&e>=r.directiveStart&&function Dl(t,n,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){const c=Sh(n);(e.preOrderHooks??=[]).push(t,c),(e.preOrderCheckHooks??=[]).push(t,c)}i&&(e.preOrderHooks??=[]).push(0-t,i),s&&((e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s))}(e,s[e],n)}finally{null!==w&&yo(w),ai(m),c.resolving=!1,Rd()}}return i}function Xp(t,n,e){return!!(e[n+(t>>Ac)]&1<<t)}function Ii(t,n){return!(t&Fn.Self||t&Fn.Host&&n)}class Lu{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return Kr(this._tNode,this._lView,n,gf(r),e)}}function Kp(){return new Lu(zo(),Rt())}function Ci(t){return us(()=>{const n=t.prototype.constructor,e=n[Rs]||bs(n),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Rs]||bs(i);if(s&&s!==e)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function bs(t){return Lr(t)?()=>{const n=bs(on(t));return n&&n()}:co(t)}function d(t){const n=t[fn],e=n.type;return 2===e?n.declTNode:1===e?t[_o]:null}function y(t){return function Yp(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const s=e[i];if(_u(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(s===n)return e[i+1];i+=2}}}return null}(zo(),t)}const b="__parameters__";function ee(t,n,e){return us(()=>{const r=function X(t){return function(...e){if(t){const r=t(...e);for(const i in r)this[i]=r[i]}}}(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;const c=new i(...s);return m.annotation=c,m;function m(w,N,U){const K=w.hasOwnProperty(b)?w[b]:Object.defineProperty(w,b,{value:[]})[b];for(;K.length<=U;)K.push(null);return(K[U]=K[U]||[]).push(c),w}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ai(t,n){t.forEach(e=>Array.isArray(e)?Ai(e,n):n(e))}function xi(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function jo(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function $i(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function zr(t,n,e){let r=ho(t,n);return r>=0?t[1|r]=e:(r=~r,function Wo(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(1===i)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function Ei(t,n){const e=ho(t,n);if(e>=0)return t[1|e]}function ho(t,n){return function Sl(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){const s=r+(i-r>>1),c=t[s<<e];if(n===c)return s<<e;c>n?i=s:r=s+1}return~(i<<e)}(t,n,1)}const ns=dc(ee("Optional"),8),Vh=dc(ee("SkipSelf"),4);function Gf(t){return 128==(128&t.flags)}var ea=(()=>((ea=ea||{})[ea.Important=1]="Important",ea[ea.DashCase=2]="DashCase",ea))();const Wh=/^>|^->|<!--|-->|--!>|<!-$/g,_w=/(<|>)/,Iy="\u200b$1\u200b";const Jp=new Map;let Cw=0;const tg="__ngContext__";function Va(t,n){Qa(n)?(t[tg]=n[dd],function Ay(t){Jp.set(t[dd],t)}(n)):t[tg]=n}let p;function g(t,n){return p(t,n)}function E(t){const n=t[Li];return La(n)?n[Li]:n}function F(t){return W(t[mc])}function z(t){return W(t[sa])}function W(t){for(;null!==t&&!La(t);)t=t[sa];return t}function j(t,n,e,r,i){if(null!=r){let s,c=!1;La(r)?s=r:Qa(r)&&(c=!0,r=r[lo]);const m=fi(r);0===t&&null!==e?null==i?ot(n,e,m):Ge(n,e,m,i||null,!0):1===t&&null!==e?Ge(n,e,m,i||null,!0):2===t?function ar(t,n,e){const r=vt(t,n);r&&function yt(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,m,c):3===t&&n.destroyNode(m),null!=s&&function Rn(t,n,e,r,i){const s=e[Ps];s!==fi(e)&&j(n,t,r,s,i);for(let m=oi;m<e.length;m++){const w=e[m];Pn(w[fn],w,t,n,r,s)}}(n,t,s,e,i)}}function re(t,n){return t.createComment(function Tm(t){return t.replace(Wh,n=>n.replace(_w,Iy))}(n))}function fe(t,n,e){return t.createElement(n,e)}function we(t,n){const e=t[Du],r=e.indexOf(n);Jl(n),e.splice(r,1)}function ke(t,n){if(t.length<=oi)return;const e=oi+n,r=t[e];if(r){const i=r[fs];null!==i&&i!==t&&we(i,r),n>0&&(t[e-1][sa]=r[sa]);const s=jo(t,oi+n);!function he(t,n){Pn(t,n,n[Zn],2,null,null),n[lo]=null,n[_o]=null}(r[fn],r);const c=s[uo];null!==c&&c.detachView(s[fn]),r[Li]=null,r[sa]=null,r[Wn]&=-129}return r}function Pe(t,n){if(!(256&n[Wn])){const e=n[Zn];n[hd]?.destroy(),n[qa]?.destroy(),e.destroyNode&&Pn(t,n,e,3,null,null),function Ae(t){let n=t[mc];if(!n)return xe(t[fn],t);for(;n;){let e=null;if(Qa(n))e=n[mc];else{const r=n[oi];r&&(e=r)}if(!e){for(;n&&!n[sa]&&n!==t;)Qa(n)&&xe(n[fn],n),n=n[Li];null===n&&(n=t),Qa(n)&&xe(n[fn],n),e=n&&n[sa]}n=e}}(n)}}function xe(t,n){if(!(256&n[Wn])){n[Wn]&=-129,n[Wn]|=256,function Ne(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const i=n[e[r]];if(!(i instanceof Ic)){const s=e[r+1];if(Array.isArray(s))for(let c=0;c<s.length;c+=2){const m=i[s[c]],w=s[c+1];Fa(4,m,w);try{w.call(m)}finally{Fa(5,m,w)}}else{Fa(4,i,s);try{s.call(i)}finally{Fa(5,i,s)}}}}}(t,n),function He(t,n){const e=t.cleanup,r=n[bl];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const c=e[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else e[s].call(r[e[s+1]]);null!==r&&(n[bl]=null);const i=n[wl];if(null!==i){n[wl]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,n),1===n[fn].type&&n[Zn].destroy();const e=n[fs];if(null!==e&&La(n[Li])){e!==n[Li]&&we(e,n);const r=n[uo];null!==r&&r.detachView(t)}!function xw(t){Jp.delete(t[dd])}(n)}}function qe(t,n,e){return function Ue(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[lo];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===ya.None||s===ya.Emulated)return null}return ji(r,e)}}(t,n.parent,e)}function Ge(t,n,e,r,i){t.insertBefore(n,e,r,i)}function ot(t,n,e){t.appendChild(n,e)}function ct(t,n,e,r,i){null!==r?Ge(t,n,e,r,i):ot(t,n,e)}function vt(t,n){return t.parentNode(n)}function Ot(t,n,e){return _t(t,n,e)}let tt,Ce,Tn,hr,_t=function Dt(t,n,e){return 40&t.type?ji(t,e):null};function Nt(t,n,e,r){const i=qe(t,r,n),s=n[Zn],m=Ot(r.parent||n[_o],r,n);if(null!=i)if(Array.isArray(e))for(let w=0;w<e.length;w++)ct(s,i,e[w],m,!1);else ct(s,i,e,m,!1);void 0!==tt&&tt(s,r,n,e,i)}function $t(t,n){if(null!==n){const e=n.type;if(3&e)return ji(n,t);if(4&e)return Xn(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return $t(t,r);{const i=t[n.index];return La(i)?Xn(-1,i):fi(i)}}if(32&e)return g(n,t)()||fi(t[n.index]);{const r=rn(t,n);return null!==r?Array.isArray(r)?r[0]:$t(E(t[Gi]),r):$t(t,n.next)}}return null}function rn(t,n){return null!==n?t[Gi][_o].projection[n.projection]:null}function Xn(t,n){const e=oi+t+1;if(e<n.length){const r=n[e],i=r[fn].firstChild;if(null!==i)return $t(r,i)}return n[Ps]}function en(t,n,e,r,i,s,c){for(;null!=e;){const m=r[e.index],w=e.type;if(c&&0===n&&(m&&Va(fi(m),r),e.flags|=2),32!=(32&e.flags))if(8&w)en(t,n,e.child,r,i,s,!1),j(n,t,i,m,s);else if(32&w){const N=g(e,r);let U;for(;U=N();)j(n,t,i,U,s);j(n,t,i,m,s)}else 16&w?un(t,n,r,e,i,s):j(n,t,i,m,s);e=c?e.projectionNext:e.next}}function Pn(t,n,e,r,i,s){en(e,r,t.firstChild,n,i,s,!1)}function un(t,n,e,r,i,s){const c=e[Gi],w=c[_o].projection[r.projection];if(Array.isArray(w))for(let N=0;N<w.length;N++)j(n,t,i,w[N],s);else{let N=w;const U=c[Li];Gf(r)&&(N.flags|=128),en(t,n,N,U,i,s,!0)}}function $n(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function zt(t,n,e){const{mergedAttrs:r,classes:i,styles:s}=e;null!==r&&bf(t,n,r),null!==i&&$n(t,n,i),null!==s&&function fr(t,n,e){t.setAttribute(n,"style",e)}(t,n,s)}function kt(t){return function dt(){if(void 0===Ce&&(Ce=null,vi.trustedTypes))try{Ce=vi.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ce}()?.createHTML(t)||t}function Zr(){if(void 0!==Tn)return Tn;if(typeof document<"u")return document;throw new Qe(210,!1)}function qr(){if(void 0===hr&&(hr=null,vi.trustedTypes))try{hr=vi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hr}function cr(t){return qr()?.createHTML(t)||t}function to(t){return qr()?.createScriptURL(t)||t}class no{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gr})`}}class Il extends no{getTypeName(){return"HTML"}}class Al extends no{getTypeName(){return"Style"}}class xa extends no{getTypeName(){return"Script"}}class sl extends no{getTypeName(){return"URL"}}class is extends no{getTypeName(){return"ResourceURL"}}function Io(t){return t instanceof no?t.changingThisBreaksApplicationSecurity:t}function Ea(t,n){const e=function jf(t){return t instanceof no&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${gr})`)}return e===n}class Cs{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(kt(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class ig{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=kt(n),e}}const Ry=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function og(t){return(t=String(t)).match(Ry)?t:"unsafe:"+t}function Hu(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Yh(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const ky=Hu("area,br,col,hr,img,wbr"),Py=Hu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ly=Hu("rp,rt"),$f=Yh(ky,Yh(Py,Hu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yh(Ly,Hu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yh(Ly,Py)),sg=Hu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ll=Yh(sg,Hu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Am=Hu("script,style,template");class By{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!$f.hasOwnProperty(e))return this.sanitizedSomething=!0,!Am.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),c=s.name,m=c.toLowerCase();if(!ll.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let w=s.value;sg[m]&&(w=og(w)),this.buf.push(" ",c,'="',Vy(w),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();$f.hasOwnProperty(e)&&!ky.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(Vy(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const Xh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ol=/([^\#-~ |!])/g;function Vy(t){return t.replace(/&/g,"&amp;").replace(Xh,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Ol,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hy;function oD(t,n){let e=null;try{Hy=Hy||function Da(t){const n=new ig(t);return function su(){try{return!!(new window.DOMParser).parseFromString(kt(""),"text/html")}catch{return!1}}()?new Cs(n):n}(t);let r=n?String(n):"";e=Hy.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=e.innerHTML,e=Hy.getInertBodyElement(r)}while(r!==s);return kt((new By).sanitizeChildren(Sw(e)||e))}finally{if(e){const r=Sw(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Sw(t){return"content"in t&&function Nk(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var pi=(()=>((pi=pi||{})[pi.NONE=0]="NONE",pi[pi.HTML=1]="HTML",pi[pi.STYLE=2]="STYLE",pi[pi.SCRIPT=3]="SCRIPT",pi[pi.URL=4]="URL",pi[pi.RESOURCE_URL=5]="RESOURCE_URL",pi))();function aD(t){const n=Om();return n?cr(n.sanitize(pi.HTML,t)||""):Ea(t,"HTML")?cr(Io(t)):oD(Zr(),vn(t))}function sD(t){const n=Om();return n?n.sanitize(pi.URL,t)||"":Ea(t,"URL")?Io(t):og(vn(t))}function lD(t){const n=Om();if(n)return to(n.sanitize(pi.RESOURCE_URL,t)||"");if(Ea(t,"ResourceURL"))return to(Io(t));throw new Qe(904,!1)}function Om(){const t=Rt();return t&&t[la].sanitizer}class Zt{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=an({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Nm=new Zt("ENVIRONMENT_INITIALIZER"),cD=new Zt("INJECTOR",-1),dD=new Zt("INJECTOR_DEF_TYPES");class fD{get(n,e=bu){if(e===bu){const r=new Error(`NullInjectorError: No provider for ${er(n)}!`);throw r.name="NullInjectorError",r}return e}}function Bk(...t){return{\u0275providers:hD(0,t),\u0275fromNgModule:!0}}function hD(t,...n){const e=[],r=new Set;let i;return Ai(n,s=>{const c=s;Mw(c,e,[],r)&&(i||=[],i.push(c))}),void 0!==i&&pD(i,e),e}function pD(t,n){for(let e=0;e<t.length;e++){const{providers:i}=t[e];Iw(i,s=>{n.push(s)})}}function Mw(t,n,e,r){if(!(t=on(t)))return!1;let i=null,s=Ko(t);const c=!s&&Br(t);if(s||c){if(c&&!c.standalone)return!1;i=t}else{const w=t.ngModule;if(s=Ko(w),!s)return!1;i=w}const m=r.has(i);if(c){if(m)return!1;if(r.add(i),c.dependencies){const w="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const N of w)Mw(N,n,e,r)}}else{if(!s)return!1;{if(null!=s.imports&&!m){let N;r.add(i);try{Ai(s.imports,U=>{Mw(U,n,e,r)&&(N||=[],N.push(U))})}finally{}void 0!==N&&pD(N,n)}if(!m){const N=co(i)||(()=>new i);n.push({provide:i,useFactory:N,deps:xr},{provide:dD,useValue:i,multi:!0},{provide:Nm,useValue:()=>Pt(i),multi:!0})}const w=s.providers;null==w||m||Iw(w,U=>{n.push(U)})}}return i!==t&&void 0!==t.providers}function Iw(t,n){for(let e of t)mi(e)&&(e=e.\u0275providers),Array.isArray(e)?Iw(e,n):n(e)}const Vk=Bt({provide:String,useValue:Bt});function Aw(t){return null!==t&&"object"==typeof t&&Vk in t}function Kh(t){return"function"==typeof t}const Ow=new Zt("Set Injector scope."),zy={},zk={};let Nw;function Uy(){return void 0===Nw&&(Nw=new fD),Nw}class Rc{}class Rw extends Rc{get destroyed(){return this._destroyed}constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pw(n,c=>this.processProvider(c)),this.records.set(cD,lg(void 0,this)),i.has("environment")&&this.records.set(Rc,lg(void 0,this));const s=this.records.get(Ow);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(dD.multi,xr,Fn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of n)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Pa(this),r=yo(void 0);try{return n()}finally{Pa(e),yo(r)}}get(n,e=bu,r=Fn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty($l))return n[$l](this);r=gf(r);const i=Pa(this),s=yo(void 0);try{if(!(r&Fn.SkipSelf)){let m=this.records.get(n);if(void 0===m){const w=function $k(t){return"function"==typeof t||"object"==typeof t&&t instanceof Zt}(n)&&Ra(n);m=w&&this.injectableDefInScope(w)?lg(kw(n),zy):null,this.records.set(n,m)}if(null!=m)return this.hydrate(n,m)}return(r&Fn.Self?Uy():this.parent).get(n,e=r&Fn.Optional&&e===bu?null:e)}catch(c){if("NullInjectorError"===c.name){if((c[uc]=c[uc]||[]).unshift(er(n)),i)throw c;return function fc(t,n,e,r){const i=t[uc];throw n[hh]&&i.unshift(n[hh]),t.message=function ml(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=er(n);if(Array.isArray(n))i=n.map(er).join(" -> ");else if("object"==typeof n){let s=[];for(let c in n)if(n.hasOwnProperty(c)){let m=n[c];s.push(c+":"+("string"==typeof m?JSON.stringify(m):er(m)))}i=`{${s.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(bo,"\n  ")}`}("\n"+t.message,i,e,r),t.ngTokenPath=i,t[uc]=null,t}(c,n,"R3InjectorError",this.source)}throw c}finally{yo(s),Pa(i)}}resolveInjectorInitializers(){const n=Pa(this),e=yo(void 0);try{const r=this.get(Nm.multi,xr,Fn.Self);for(const i of r)i()}finally{Pa(n),yo(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(er(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qe(205,!1)}processProvider(n){let e=Kh(n=on(n))?n:on(n&&n.provide);const r=function Gk(t){return Aw(t)?lg(void 0,t.useValue):lg(vD(t),zy)}(n);if(Kh(n)||!0!==n.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=lg(void 0,zy,!0),i.factory=()=>mf(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===zy&&(e.value=zk,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Wk(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=on(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function kw(t){const n=Ra(t),e=null!==n?n.factory:co(t);if(null!==e)return e;if(t instanceof Zt)throw new Qe(204,!1);if(t instanceof Function)return function Uk(t){const n=t.length;if(n>0)throw $i(n,"?"),new Qe(204,!1);const e=function pl(t){return t&&(t[ka]||t[Gl])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Qe(204,!1)}function vD(t,n,e){let r;if(Kh(t)){const i=on(t);return co(i)||kw(i)}if(Aw(t))r=()=>on(t.useValue);else if(function mD(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...mf(t.deps||[]));else if(function gD(t){return!(!t||!t.useExisting)}(t))r=()=>Pt(on(t.useExisting));else{const i=on(t&&(t.useClass||t.provide));if(!function jk(t){return!!t.deps}(t))return co(i)||kw(i);r=()=>new i(...mf(t.deps))}return r}function lg(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Pw(t,n){for(const e of t)Array.isArray(e)?Pw(e,n):e&&mi(e)?Pw(e.\u0275providers,n):n(e)}const Gy=new Zt("AppId",{providedIn:"root",factory:()=>Yk}),Yk="ng",yD=new Zt("Platform Initializer"),Yf=new Zt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),kc=new Zt("AnimationModuleType"),Lw=new Zt("CSP nonce",{providedIn:"root",factory:()=>Zr().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let wD=(t,n)=>null;function _D(t,n){return wD(t,n)}class nP{}class ED{}class iP{resolveComponentFactory(n){throw function rP(t){const n=Error(`No component factory found for ${er(t)}.`);return n.ngComponent=t,n}(n)}}let ug=(()=>{class t{}return t.NULL=new iP,t})();function oP(){return cg(zo(),Rt())}function cg(t,n){return new ti(ji(t,n))}let ti=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=oP,t})();function aP(t){return t instanceof ti?t.nativeElement:t}class Lm{}let qd=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function sP(){const t=Rt(),e=Ba(zo().index,t);return(Qa(e)?e:t)[Zn]}(),t})(),lP=(()=>{class t{}return t.\u0275prov=an({token:t,providedIn:"root",factory:()=>null}),t})();class Zh{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const uP=new Zh("16.1.3"),Yw={};function Fm(t){for(;t;){t[Wn]|=64;const n=E(t);if(ua(t)&&!n)return t;t=n}return null}function Xw(t){return t.ngOriginalError}class Pc{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Xw(n);for(;e&&Xw(e);)e=Xw(e);return e||null}}const MD=new Zt("",{providedIn:"root",factory:()=>!1});function Qd(t){return t instanceof Function?t():t}class RD extends vc{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){Fm(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,e,r){const i=eo(this);this.trackingVersion++;try{n(e,r)}finally{eo(i)}}destroy(){this.trackingVersion++}}let Ky=null;function kD(){return Ky??=new RD,Ky}function PD(t,n){return t[n]??kD()}function LD(t,n){const e=kD();e.hasReadASignal&&(t[n]=Ky,e.lView=t,Ky=new RD)}const vr={};function jt(t){FD(wr(),Rt(),Do()+t,!1)}function FD(t,n,e,r){if(!r)if(3==(3&n[Wn])){const s=t.preOrderCheckHooks;null!==s&&ys(n,s,e)}else{const s=t.preOrderHooks;null!==s&&Ou(n,s,0,e)}ts(e)}function zD(t,n=null,e=null,r){const i=UD(t,n,e,r);return i.resolveInjectorInitializers(),i}function UD(t,n=null,e=null,r,i=new Set){const s=[e||xr,Bk(t)];return r=r||("object"==typeof t?void 0:er(t)),new Rw(s,n||Uy(),r||null,i)}let zu=(()=>{class t{static create(e,r){if(Array.isArray(e))return zD({name:""},r,e,"");{const i=e.name??"";return zD({name:i},e.parent,e.providers,i)}}}return t.THROW_IF_NOT_FOUND=bu,t.NULL=new fD,t.\u0275prov=an({token:t,providedIn:"any",factory:()=>Pt(cD)}),t.__NG_ELEMENT_ID__=-1,t})();function We(t,n=Fn.Default){const e=Rt();return null===e?Pt(t,n):Kr(zo(),e,on(t),n)}function Kw(){throw new Error("invalid")}function Zy(t,n,e,r,i,s,c,m,w,N,U){const K=n.blueprint.slice();return K[lo]=i,K[Wn]=140|r,(null!==N||t&&2048&t[Wn])&&(K[Wn]|=2048),Ir(K),K[Li]=K[Eu]=t,K[yi]=e,K[la]=c||t&&t[la],K[Zn]=m||t&&t[Zn],K[tl]=w||t&&t[tl]||null,K[_o]=s,K[dd]=function ei(){return Cw++}(),K[ur]=U,K[fd]=N,K[Gi]=2==n.type?t[Gi]:K,K}function fg(t,n,e,r,i){let s=t.data[n];if(null===s)s=function Zw(t,n,e,r,i){const s=Nh(),c=Id(),w=t.data[n]=function AP(t,n,e,r,i,s){let c=n?n.injectorIndex:-1,m=0;return Ho()&&(m|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:m,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?s:s&&s.parent,e,n,r,i);return null===t.firstChild&&(t.firstChild=w),null!==s&&(c?null==s.child&&null!==w.parent&&(s.child=w):null===s.next&&(s.next=w,w.prev=s)),w}(t,n,e,r,i),function Sc(){return Bn.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=r,s.attrs=i;const c=function Dc(){const t=Bn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();s.injectorIndex=null===c?-1:c.injectorIndex}return ms(s,!0),s}function Bm(t,n,e,r){if(0===e)return-1;const i=n.length;for(let s=0;s<e;s++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function GD(t,n,e,r,i){const s=PD(n,hd),c=Do(),m=2&r;try{if(ts(-1),m&&n.length>hn&&FD(t,n,hn,!1),Fa(m?2:0,i),m)s.runInContext(e,r,i);else{const N=eo(null);try{e(r,i)}finally{eo(N)}}}finally{m&&null===n[hd]&&LD(n,hd),ts(c),Fa(m?3:1,i)}}function qw(t,n,e){if(_h(n)){const r=eo(null);try{const s=n.directiveEnd;for(let c=n.directiveStart;c<s;c++){const m=t.data[c];m.contentQueries&&m.contentQueries(1,e[c],c)}}finally{eo(r)}}}function Qw(t,n,e){Td()&&(function FP(t,n,e,r){const i=e.directiveStart,s=e.directiveEnd;Su(e)&&function jP(t,n,e){const r=ji(n,t),i=jD(e);let c=16;e.signals?c=4096:e.onPush&&(c=64);const m=qy(t,Zy(t,i,null,c,r,n,null,t[la].rendererFactory.createRenderer(r,e),null,null,null));t[n.index]=m}(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||zd(e,n),Va(r,n);const c=e.initialInputs;for(let m=i;m<s;m++){const w=t.data[m],N=Pu(n,t,m,e);Va(N,n),null!==c&&WP(0,m-i,N,w,0,c),hs(w)&&(Ba(e.index,n)[yi]=Pu(n,t,m,e))}}(t,n,e,ji(e,n)),64==(64&e.flags)&&KD(t,n,e))}function Jw(t,n,e=ji){const r=n.localNames;if(null!==r){let i=n.index+1;for(let s=0;s<r.length;s+=2){const c=r[s+1],m=-1===c?e(n,t):t[c];t[i++]=m}}}function jD(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=e_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function e_(t,n,e,r,i,s,c,m,w,N,U){const K=hn+r,ge=K+i,be=function EP(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:vr);return e}(K,ge),Se="function"==typeof N?N():N;return be[fn]={type:t,blueprint:be,template:e,queries:null,viewQuery:m,declTNode:n,data:be.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:w,consts:Se,incompleteFirstPass:!1,ssrId:U}}let WD=t=>null;function $D(t,n,e,r){for(let i in t)if(t.hasOwnProperty(i)){e=null===e?{}:e;const s=t[i];null===r?YD(e,n,i,s):r.hasOwnProperty(i)&&YD(e,n,r[i],s)}return e}function YD(t,n,e,r){t.hasOwnProperty(e)?t[e].push(n,r):t[e]=[n,r]}function t_(t,n,e,r){if(Td()){const i=null===r?null:{"":-1},s=function VP(t,n){const e=t.directiveRegistry;let r=null,i=null;if(e)for(let s=0;s<e.length;s++){const c=e[s];if(vh(n,c.selectors,!1))if(r||(r=[]),hs(c))if(null!==c.findHostDirectiveDefs){const m=[];i=i||new Map,c.findHostDirectiveDefs(c,m,i),r.unshift(...m,c),n_(t,n,m.length)}else r.unshift(c),n_(t,n,0);else i=i||new Map,c.findHostDirectiveDefs?.(c,r,i),r.push(c)}return null===r?null:[r,i]}(t,e);let c,m;null===s?c=m=null:[c,m]=s,null!==c&&XD(t,n,e,c,i,m),i&&function HP(t,n,e){if(n){const r=t.localNames=[];for(let i=0;i<n.length;i+=2){const s=e[n[i+1]];if(null==s)throw new Qe(-301,!1);r.push(n[i],s)}}}(e,r,i)}e.mergedAttrs=Yl(e.mergedAttrs,e.attrs)}function XD(t,n,e,r,i,s){for(let N=0;N<r.length;N++)Bf(zd(e,n),t,r[N].type);!function UP(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,r.length);for(let N=0;N<r.length;N++){const U=r[N];U.providersResolver&&U.providersResolver(U)}let c=!1,m=!1,w=Bm(t,n,r.length,null);for(let N=0;N<r.length;N++){const U=r[N];e.mergedAttrs=Yl(e.mergedAttrs,U.hostAttrs),GP(t,e,n,w,U),zP(w,U,i),null!==U.contentQueries&&(e.flags|=4),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(e.flags|=64);const K=U.type.prototype;!c&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),c=!0),!m&&(K.ngOnChanges||K.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),m=!0),w++}!function OP(t,n,e){const i=n.directiveEnd,s=t.data,c=n.attrs,m=[];let w=null,N=null;for(let U=n.directiveStart;U<i;U++){const K=s[U],ge=e?e.get(K):null,Se=ge?ge.outputs:null;w=$D(K.inputs,U,w,ge?ge.inputs:null),N=$D(K.outputs,U,N,Se);const Fe=null===w||null===c||Xl(n)?null:$P(w,U,c);m.push(Fe)}null!==w&&(w.hasOwnProperty("class")&&(n.flags|=8),w.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=m,n.inputs=w,n.outputs=N}(t,e,s)}function KD(t,n,e){const r=e.directiveStart,i=e.directiveEnd,s=e.index,c=function zp(){return Bn.lFrame.currentDirectiveIndex}();try{ts(s);for(let m=r;m<i;m++){const w=t.data[m],N=n[m];Ad(m),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&BP(w,N)}}finally{ts(-1),Ad(c)}}function BP(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function n_(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function zP(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;hs(n)&&(e[""]=t)}}function GP(t,n,e,r,i){t.data[r]=i;const s=i.factory||(i.factory=co(i.type)),c=new Ic(s,hs(i),We);t.blueprint[r]=c,e[r]=c,function PP(t,n,e,r,i){const s=i.hostBindings;if(s){let c=t.hostBindingOpCodes;null===c&&(c=t.hostBindingOpCodes=[]);const m=~n.index;(function LP(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(c)!=m&&c.push(m),c.push(e,r,s)}}(t,n,r,Bm(t,e,i.hostVars,vr),i)}function Lc(t,n,e,r,i,s){const c=ji(t,n);!function r_(t,n,e,r,i,s,c){if(null==s)t.removeAttribute(n,i,e);else{const m=null==c?vn(s):c(s,r||"",i);t.setAttribute(n,i,m,e)}}(n[Zn],c,s,t.value,e,r,i)}function WP(t,n,e,r,i,s){const c=s[n];if(null!==c)for(let m=0;m<c.length;)ZD(r,e,c[m++],c[m++],c[m++])}function ZD(t,n,e,r,i){const s=eo(null);try{const c=t.inputTransforms;null!==c&&c.hasOwnProperty(r)&&(i=c[r].call(n,i)),null!==t.setInput?t.setInput(n,i,e,r):n[r]=i}finally{eo(s)}}function $P(t,n,e){let r=null,i=0;for(;i<e.length;){const s=e[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const c=t[s];for(let m=0;m<c.length;m+=2)if(c[m]===n){r.push(s,c[m+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function qD(t,n,e,r){return[t,!0,!1,n,null,0,r,e,null,null,null]}function QD(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const s=e[r+1];if(-1!==s){const c=t.data[s];Bs(e[r]),c.contentQueries(2,n[s],s)}}}function qy(t,n){return t[mc]?t[wh][sa]=n:t[mc]=n,t[wh]=n,n}function i_(t,n,e){Bs(0);const r=eo(null);try{n(t,e)}finally{eo(r)}}function JD(t){return t[bl]||(t[bl]=[])}function e1(t){return t.cleanup||(t.cleanup=[])}function n1(t,n){const e=t[tl],r=e?e.get(Pc,null):null;r&&r.handleError(n)}function o_(t,n,e,r,i){for(let s=0;s<e.length;){const c=e[s++],m=e[s++];ZD(t.data[c],n[c],r,m,i)}}function Jd(t,n,e){const r=Ed(n,t);!function J(t,n,e){t.setValue(n,e)}(t[Zn],r,e)}function YP(t,n){const e=Ba(n,t),r=e[fn];!function XP(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(r,e);const i=e[lo];null!==i&&null===e[ur]&&(e[ur]=_D(i,e[tl])),a_(r,e,e[yi])}function a_(t,n,e){ru(n);try{const r=t.viewQuery;null!==r&&i_(1,r,e);const i=t.template;null!==i&&GD(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&QD(t,n),t.staticViewQueries&&i_(2,t.viewQuery,e);const s=t.components;null!==s&&function KP(t,n){for(let e=0;e<n.length;e++)YP(t,n[e])}(n,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[Wn]&=-5,Eo()}}let r1=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(e,r,i){const s=typeof Zone>"u"?null:Zone.current,c=new Lp(e,N=>{this.all.has(N)&&this.queue.set(N,s)},i);let m;this.all.add(c),c.notify();const w=()=>{c.cleanup(),m?.(),this.all.delete(c),this.queue.delete(c)};return m=r?.onDestroy(w),{destroy:w}}flush(){if(0!==this.queue.size)for(const[e,r]of this.queue)this.queue.delete(e),r?r.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=an({token:t,providedIn:"root",factory:()=>new t}),t})();function Qy(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,s=0;if(null!==n)for(let c=0;c<n.length;c++){const m=n[c];"number"==typeof m?s=m:1==s?i=or(i,m):2==s&&(r=or(r,m+": "+n[++c]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function Vm(t,n,e,r,i=!1){for(;null!==e;){const s=n[e.index];if(null!==s&&r.push(fi(s)),La(s)){for(let m=oi;m<s.length;m++){const w=s[m],N=w[fn].firstChild;null!==N&&Vm(w[fn],w,N,r)}s[Ps]!==s[lo]&&r.push(s[Ps])}const c=e.type;if(8&c)Vm(t,n,e.child,r);else if(32&c){const m=g(e,n);let w;for(;w=m();)r.push(w)}else if(16&c){const m=rn(n,e);if(Array.isArray(m))r.push(...m);else{const w=E(n[Gi]);Vm(w[fn],w,m,r,!0)}}e=i?e.projectionNext:e.next}return r}function Jy(t,n,e,r=!0){const i=n[la].rendererFactory;i.begin&&i.begin();try{o1(t,n,t.template,e)}catch(c){throw r&&n1(n,c),c}finally{i.end&&i.end(),n[la].effectManager?.flush()}}function o1(t,n,e,r){const i=n[Wn];if(256!=(256&i)){n[la].effectManager?.flush(),ru(n);try{Ir(n),function nu(t){return Bn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&GD(t,n,e,2,r);const c=3==(3&i);if(c){const N=t.preOrderCheckHooks;null!==N&&ys(n,N,null)}else{const N=t.preOrderHooks;null!==N&&Ou(n,N,0,null),kf(n,0)}if(function eL(t){for(let n=F(t);null!==n;n=z(n)){if(!n[_l])continue;const e=n[Du];for(let r=0;r<e.length;r++){mm(e[r])}}}(n),a1(n,2),null!==t.contentQueries&&QD(t,n),c){const N=t.contentCheckHooks;null!==N&&ys(n,N)}else{const N=t.contentHooks;null!==N&&Ou(n,N,1),kf(n,1)}!function xP(t,n){const e=t.hostBindingOpCodes;if(null===e)return;const r=PD(n,qa);try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)ts(~s);else{const c=s,m=e[++i],w=e[++i];il(m,c),r.runInContext(w,2,n[c])}}}finally{null===n[qa]&&LD(n,qa),ts(-1)}}(t,n);const m=t.components;null!==m&&l1(n,m,0);const w=t.viewQuery;if(null!==w&&i_(2,w,r),c){const N=t.viewCheckHooks;null!==N&&ys(n,N)}else{const N=t.viewHooks;null!==N&&Ou(n,N,2),kf(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Wn]&=-73,Jl(n)}finally{Eo()}}}function a1(t,n){for(let e=F(t);null!==e;e=z(e))for(let r=oi;r<e.length;r++)s1(e[r],n)}function tL(t,n,e){s1(Ba(n,t),e)}function s1(t,n){if(!function Dd(t){return 128==(128&t[Wn])}(t))return;const e=t[fn];if(80&t[Wn]&&0===n||1024&t[Wn]||2===n)o1(e,t,e.template,t[yi]);else if(t[gc]>0){a1(t,1);const i=t[fn].components;null!==i&&l1(t,i,1)}}function l1(t,n,e){for(let r=0;r<n.length;r++)tL(t,n[r],e)}class Hm{get rootNodes(){const n=this._lView,e=n[fn];return Vm(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yi]}set context(n){this._lView[yi]=n}get destroyed(){return 256==(256&this._lView[Wn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Li];if(La(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(ke(n,r),jo(e,r))}this._attachedToViewContainer=!1}Pe(this._lView[fn],this._lView)}onDestroy(n){!function Ah(t,n){if(256==(256&t[Wn]))throw new Qe(911,!1);null===t[wl]&&(t[wl]=[]),t[wl].push(n)}(this._lView,n)}markForCheck(){Fm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Wn]&=-129}reattach(){this._lView[Wn]|=128}detectChanges(){Jy(this._lView[fn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ie(t,n){Pn(t,n,n[Zn],2,null,null)}(this._lView[fn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Qe(902,!1);this._appRef=n}}class nL extends Hm{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Jy(n[fn],n,n[yi],!1)}checkNoChanges(){}get context(){return null}}class u1 extends ug{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Br(n);return new zm(e,this.ngModule)}}function c1(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class iL{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=gf(r);const i=this.injector.get(n,Yw,r);return i!==Yw||e===Yw?i:this.parentInjector.get(n,e,r)}}class zm extends ED{get inputs(){const n=this.componentDef,e=n.inputTransforms,r=c1(n.inputs);if(null!==e)for(const i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return c1(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function Op(t){return t.map(Ap).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){let s=(i=i||this.ngModule)instanceof Rc?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const c=s?new iL(n,s):n,m=c.get(Lm,null);if(null===m)throw new Qe(407,!1);const U={rendererFactory:m,sanitizer:c.get(lP,null),effectManager:c.get(r1,null)},K=m.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",be=r?function DP(t,n,e,r){const s=r.get(MD,!1)||e===ya.ShadowDom,c=t.selectRootElement(n,s);return function SP(t){WD(t)}(c),c}(K,r,this.componentDef.encapsulation,c):fe(K,ge,function rL(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(ge)),nt=this.componentDef.signals?4608:this.componentDef.onPush?576:528,mt=e_(0,null,null,1,0,null,null,null,null,null,null),et=Zy(null,mt,null,nt,null,null,U,K,c,null,null);let bt,wn;ru(et);try{const Hn=this.componentDef;let si,ut=null;Hn.findHostDirectiveDefs?(si=[],ut=new Map,Hn.findHostDirectiveDefs(Hn,si,ut),si.push(Hn)):si=[Hn];const Ys=function aL(t,n){const e=t[fn],r=hn;return t[r]=n,fg(e,r,2,"#host",null)}(et,be),dl=function sL(t,n,e,r,i,s,c){const m=i[fn];!function lL(t,n,e,r){for(const i of t)n.mergedAttrs=Yl(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Qy(n,n.mergedAttrs,!0),null!==e&&zt(r,e,n))}(r,t,n,c);let w=null;null!==n&&(w=_D(n,i[tl]));const N=s.rendererFactory.createRenderer(n,e);let U=16;e.signals?U=4096:e.onPush&&(U=64);const K=Zy(i,jD(e),null,U,i[t.index],t,s,N,null,null,w);return m.firstCreatePass&&n_(m,t,r.length-1),qy(i,K),i[t.index]=K}(Ys,be,Hn,si,et,U,K);wn=Of(mt,hn),be&&function cL(t,n,e,r){if(r)bf(t,e,["ng-version",uP.full]);else{const{attrs:i,classes:s}=function Cf(t){const n=[],e=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&n.push(s,t[++r]):8===i&&e.push(s);else{if(!Ka(i))break;i=s}r++}return{attrs:n,classes:e}}(n.selectors[0]);i&&bf(t,e,i),s&&s.length>0&&$n(t,e,s.join(" "))}}(K,Hn,be,r),void 0!==e&&function dL(t,n,e){const r=t.projection=[];for(let i=0;i<n.length;i++){const s=e[i];r.push(null!=s?Array.from(s):null)}}(wn,this.ngContentSelectors,e),bt=function uL(t,n,e,r,i,s){const c=zo(),m=i[fn],w=ji(c,i);XD(m,i,c,e,null,r);for(let U=0;U<e.length;U++)Va(Pu(i,m,c.directiveStart+U,c),i);KD(m,i,c),w&&Va(w,i);const N=Pu(i,m,c.directiveStart+c.componentOffset,c);if(t[yi]=i[yi]=N,null!==s)for(const U of s)U(N,n);return qw(m,c,t),N}(dl,Hn,si,ut,et,[fL]),a_(mt,et,null)}finally{Eo()}return new oL(this.componentType,bt,cg(wn,et),et,wn)}}class oL extends nP{constructor(n,e,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new nL(i),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const s=this._rootLView;o_(s[fn],s,i,n,e),this.previousInputValues.set(n,e),Fm(Ba(this._tNode.index,s))}}get injector(){return new Lu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function fL(){const t=zo();vs(Rt()[fn],t)}function qn(t){let n=function d1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let i;if(hs(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Qe(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);const c=t;c.inputs=eb(t.inputs),c.inputTransforms=eb(t.inputTransforms),c.declaredInputs=eb(t.declaredInputs),c.outputs=eb(t.outputs);const m=i.hostBindings;m&&mL(t,m);const w=i.viewQuery,N=i.contentQueries;if(w&&pL(t,w),N&&gL(t,N),Or(t.inputs,i.inputs),Or(t.declaredInputs,i.declaredInputs),Or(t.outputs,i.outputs),null!==i.inputTransforms&&(null===c.inputTransforms&&(c.inputTransforms={}),Or(c.inputTransforms,i.inputTransforms)),hs(i)&&i.data.animation){const U=t.data;U.animation=(U.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let c=0;c<s.length;c++){const m=s[c];m&&m.ngInherit&&m(t),m===qn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function hL(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Yl(i.hostAttrs,e=Yl(e,i.hostAttrs))}}(r)}function eb(t){return t===wo?{}:t===xr?[]:t}function pL(t,n){const e=t.viewQuery;t.viewQuery=e?(r,i)=>{n(r,i),e(r,i)}:n}function gL(t,n){const e=t.contentQueries;t.contentQueries=e?(r,i,s)=>{n(r,i,s),e(r,i,s)}:n}function mL(t,n){const e=t.hostBindings;t.hostBindings=e?(r,i)=>{n(r,i),e(r,i)}:n}function g1(t){const n=t.inputConfig,e={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];Array.isArray(i)&&i[2]&&(e[r]=i[2])}t.inputTransforms=e}function tb(t){return!!s_(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function s_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fc(t,n,e){return t[n]=e}function xs(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function qh(t,n,e,r){const i=xs(t,n,e);return xs(t,n+1,r)||i}function Es(t,n,e,r){const i=Rt();return xs(i,Fs(),n)&&(wr(),Lc(Hr(),i,t,n,e,r)),Es}function gg(t,n,e,r,i,s){const m=qh(t,function Dr(){return Bn.lFrame.bindingIndex}(),e,i);return Uo(2),m?n+vn(e)+r+vn(i)+s:vr}function yr(t,n,e,r,i,s,c,m){const w=Rt(),N=wr(),U=t+hn,K=N.firstCreatePass?function zL(t,n,e,r,i,s,c,m,w){const N=n.consts,U=fg(n,t,4,c||null,rl(N,m));t_(n,e,U,rl(N,w)),vs(n,U);const K=U.tView=e_(2,U,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,N,null);return null!==n.queries&&(n.queries.template(n,U),K.queries=n.queries.embeddedTView(U)),U}(U,N,w,n,e,r,i,s,c):N.data[U];ms(K,!1);const ge=M1(N,w,K,t);Ld()&&Nt(N,w,ge,K),Va(ge,w),qy(w,w[U]=qD(ge,w,ge,K)),Df(K)&&Qw(N,w,K),null!=c&&Jw(w,K,m)}let M1=function I1(t,n,e,r){return ou(!0),n[Zn].createComment("")};function Hs(t){return function Ql(t,n){return t[n]}(function wi(){return Bn.lFrame.contextLView}(),hn+t)}function Xt(t,n,e){const r=Rt();return xs(r,Fs(),n)&&function Nl(t,n,e,r,i,s,c,m){const w=ji(n,e);let U,N=n.inputs;!m&&null!=N&&(U=N[r])?(o_(t,e,U,r,i),Su(n)&&function RP(t,n){const e=Ba(n,t);16&e[Wn]||(e[Wn]|=64)}(e,n.index)):3&n.type&&(r=function NP(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=c?c(i,n.value||"",r):i,s.setProperty(w,r,i))}(wr(),Hr(),r,t,n,r[Zn],e,!1),Xt}function h_(t,n,e,r,i){const c=i?"class":"style";o_(t,e,n.inputs[c],c,r)}function Ye(t,n,e,r){const i=Rt(),s=wr(),c=hn+t,m=i[Zn],w=s.firstCreatePass?function WL(t,n,e,r,i,s){const c=n.consts,w=fg(n,t,2,r,rl(c,i));return t_(n,e,w,rl(c,s)),null!==w.attrs&&Qy(w,w.attrs,!1),null!==w.mergedAttrs&&Qy(w,w.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,w),w}(c,s,i,n,e,r):s.data[c],N=A1(s,i,w,m,n,t);i[c]=N;const U=Df(w);return ms(w,!0),zt(m,N,w),32!=(32&w.flags)&&Ld()&&Nt(s,i,N,w),0===function eu(){return Bn.lFrame.elementDepthCount}()&&Va(N,i),function Vo(){Bn.lFrame.elementDepthCount++}(),U&&(Qw(s,i,w),qw(s,w,i)),null!==r&&Jw(i,w),Ye}function $e(){let t=zo();Id()?fo():(t=t.parent,ms(t,!1));const n=t;(function Ec(t){return Bn.skipHydrationRootTNode===t})(n)&&function tu(){Bn.skipHydrationRootTNode=null}(),function Oh(){Bn.lFrame.elementDepthCount--}();const e=wr();return e.firstCreatePass&&(vs(e,t),_h(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function $p(t){return 0!=(8&t.flags)}(n)&&h_(e,n,Rt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Lf(t){return 0!=(16&t.flags)}(n)&&h_(e,n,Rt(),n.stylesWithoutHost,!1),$e}function yn(t,n,e,r){return Ye(t,n,e,r),$e(),yn}let A1=(t,n,e,r,i,s)=>(ou(!0),fe(r,i,function qo(){return Bn.lFrame.currentNamespace}()));function $m(t,n,e){const r=Rt(),i=wr(),s=t+hn,c=i.firstCreatePass?function XL(t,n,e,r,i){const s=n.consts,c=rl(s,r),m=fg(n,t,8,"ng-container",c);return null!==c&&Qy(m,c,!0),t_(n,e,m,rl(s,i)),null!==n.queries&&n.queries.elementStart(n,m),m}(s,i,r,n,e):i.data[s];ms(c,!0);const m=O1(i,r,c,t);return r[s]=m,Ld()&&Nt(i,r,m,c),Va(m,r),Df(c)&&(Qw(i,r,c),qw(i,c,r)),null!=e&&Jw(r,c),$m}function Ym(){let t=zo();const n=wr();return Id()?fo():(t=t.parent,ms(t,!1)),n.firstCreatePass&&(vs(n,t),_h(t)&&n.queries.elementEnd(t)),Ym}function Xm(t,n,e){return $m(t,n,e),Ym(),Xm}let O1=(t,n,e,r)=>(ou(!0),re(n[Zn],""));function Ds(){return Rt()}function Km(t){return!!t&&"function"==typeof t.then}function N1(t){return!!t&&"function"==typeof t.subscribe}function Cn(t,n,e,r){const i=Rt(),s=wr(),c=zo();return function k1(t,n,e,r,i,s,c){const m=Df(r),N=t.firstCreatePass&&e1(t),U=n[yi],K=JD(n);let ge=!0;if(3&r.type||c){const Fe=ji(r,n),nt=c?c(Fe):Fe,mt=K.length,et=c?wn=>c(fi(wn[r.index])):r.index;let bt=null;if(!c&&m&&(bt=function qL(t,n,e,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const c=i[s];if(c===e&&i[s+1]===r){const m=n[bl],w=i[s+2];return m.length>w?m[w]:null}"string"==typeof c&&(s+=2)}return null}(t,n,i,r.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=s,bt.__ngLastListenerFn__=s,ge=!1;else{s=L1(r,n,U,s,!1);const wn=e.listen(nt,i,s);K.push(s,wn),N&&N.push(i,et,mt,mt+1)}}else s=L1(r,n,U,s,!1);const be=r.outputs;let Se;if(ge&&null!==be&&(Se=be[i])){const Fe=Se.length;if(Fe)for(let nt=0;nt<Fe;nt+=2){const Hn=n[Se[nt]][Se[nt+1]].subscribe(s),si=K.length;K.push(s,Hn),N&&N.push(i,r.index,si,-(si+1))}}}(s,i,i[Zn],c,t,n,r),Cn}function P1(t,n,e,r){try{return Fa(6,n,e),!1!==e(r)}catch(i){return n1(t,i),!1}finally{Fa(7,n,e)}}function L1(t,n,e,r,i){return function s(c){if(c===Function)return r;Fm(t.componentOffset>-1?Ba(t.index,n):n);let w=P1(n,e,r,c),N=s.__ngNextListenerFn__;for(;N;)w=P1(n,e,N,c)&&w,N=N.__ngNextListenerFn__;return i&&!1===w&&c.preventDefault(),w}}function ni(t=1){return function iu(t){return(Bn.lFrame.contextLView=function ym(t,n){for(;t>0;)n=n[Eu],t--;return n}(t,Bn.lFrame.contextLView))[yi]}(t)}function QL(t,n){let e=null;const r=function ud(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let i=0;i<n.length;i++){const s=n[i];if("*"!==s){if(null===r?vh(t,s,!0):yh(r,s))return i}else e=i}return e}function Cg(t){const n=Rt()[Gi][_o];if(!n.projection){const r=n.projection=$i(t?t.length:1,null),i=r.slice();let s=n.child;for(;null!==s;){const c=t?QL(s,t):0;null!==c&&(i[c]?i[c].projectionNext=s:r[c]=s,i[c]=s),s=s.next}}}function xg(t,n=0,e){const r=Rt(),i=wr(),s=fg(i,hn+t,16,null,e||null);null===s.projection&&(s.projection=n),fo(),(!r[ur]||Ho())&&32!=(32&s.flags)&&function Sn(t,n,e){un(n[Zn],0,n,e,qe(t,e,n),Ot(e.parent||n[_o],e,n))}(i,r,s)}function ab(t,n){return t<<17|n<<2}function Xf(t){return t>>17&32767}function g_(t){return 2|t}function Qh(t){return(131068&t)>>2}function m_(t,n){return-131069&t|n<<2}function v_(t){return 1|t}function $1(t,n,e,r,i){const s=t[e+1],c=null===n;let m=r?Xf(s):Qh(s),w=!1;for(;0!==m&&(!1===w||c);){const U=t[m+1];iF(t[m],n)&&(w=!0,t[m+1]=r?v_(U):g_(U)),m=r?Xf(U):Qh(U)}w&&(t[e+1]=r?g_(s):v_(s))}function iF(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ho(t,n)>=0}function Zm(t,n,e){return Uu(t,n,e,!1),Zm}function Ha(t,n){return Uu(t,n,null,!0),Ha}function Uu(t,n,e,r){const i=Rt(),s=wr(),c=Uo(2);s.firstUpdatePass&&function eS(t,n,e,r){const i=t.data;if(null===i[e+1]){const s=i[Do()],c=function J1(t,n){return n>=t.expandoStartIndex}(t,e);(function iS(t,n){return 0!=(t.flags&(n?8:16))})(s,r)&&null===n&&!c&&(n=!1),n=function hF(t,n,e,r){const i=function Nf(t){const n=Bn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let s=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(e=qm(e=y_(null,t,n,e,r),n.attrs,r),s=null);else{const c=n.directiveStylingLast;if(-1===c||t[c]!==i)if(e=y_(i,t,n,e,r),null===s){let w=function pF(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==Qh(r))return t[Xf(r)]}(t,n,r);void 0!==w&&Array.isArray(w)&&(w=y_(null,t,n,w[1],r),w=qm(w,n.attrs,r),function gF(t,n,e,r){t[Xf(e?n.classBindings:n.styleBindings)]=r}(t,n,r,w))}else s=function mF(t,n,e){let r;const i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++)r=qm(r,t[s].hostAttrs,e);return qm(r,n.attrs,e)}(t,n,r)}return void 0!==s&&(r?n.residualClasses=s:n.residualStyles=s),e}(i,s,n,r),function nF(t,n,e,r,i,s){let c=s?n.classBindings:n.styleBindings,m=Xf(c),w=Qh(c);t[r]=e;let U,N=!1;if(Array.isArray(e)?(U=e[1],(null===U||ho(e,U)>0)&&(N=!0)):U=e,i)if(0!==w){const ge=Xf(t[m+1]);t[r+1]=ab(ge,m),0!==ge&&(t[ge+1]=m_(t[ge+1],r)),t[m+1]=function eF(t,n){return 131071&t|n<<17}(t[m+1],r)}else t[r+1]=ab(m,0),0!==m&&(t[m+1]=m_(t[m+1],r)),m=r;else t[r+1]=ab(w,0),0===m?m=r:t[w+1]=m_(t[w+1],r),w=r;N&&(t[r+1]=g_(t[r+1])),$1(t,U,r,!0),$1(t,U,r,!1),function rF(t,n,e,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof n&&ho(s,n)>=0&&(e[r+1]=v_(e[r+1]))}(n,U,t,r,s),c=ab(m,w),s?n.classBindings=c:n.styleBindings=c}(i,s,n,e,c,r)}}(s,t,c,r),n!==vr&&xs(i,c,n)&&function nS(t,n,e,r,i,s,c,m){if(!(3&n.type))return;const w=t.data,N=w[m+1],U=function tF(t){return 1==(1&t)}(N)?rS(w,n,e,i,Qh(N),c):void 0;sb(U)||(sb(s)||function JL(t){return 2==(2&t)}(N)&&(s=rS(w,null,e,i,m,c)),function Nr(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let s=-1===r.indexOf("-")?void 0:ea.DashCase;null==i?t.removeStyle(e,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ea.Important),t.setStyle(e,r,i,s))}}(r,c,Ed(Do(),e),i,s))}(s,s.data[Do()],i,i[Zn],t,i[c+1]=function wF(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=er(Io(t)))),t}(n,e),r,c)}function y_(t,n,e,r,i){let s=null;const c=e.directiveEnd;let m=e.directiveStylingLast;for(-1===m?m=e.directiveStart:m++;m<c&&(s=n[m],r=qm(r,s.hostAttrs,i),s!==t);)m++;return null!==t&&(e.directiveStylingLast=m),r}function qm(t,n,e){const r=e?1:2;let i=-1;if(null!==n)for(let s=0;s<n.length;s++){const c=n[s];"number"==typeof c?i=c:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),zr(t,c,!!e||n[++s]))}return void 0===t?null:t}function rS(t,n,e,r,i,s){const c=null===n;let m;for(;i>0;){const w=t[i],N=Array.isArray(w),U=N?w[1]:w,K=null===U;let ge=e[i+1];ge===vr&&(ge=K?xr:void 0);let be=K?Ei(ge,r):U===r?ge:void 0;if(N&&!sb(be)&&(be=Ei(w,r)),sb(be)&&(m=be,c))return m;const Se=t[i+1];i=c?Xf(Se):Qh(Se)}if(null!==n){let w=s?n.residualClasses:n.residualStyles;null!=w&&(m=Ei(w,r))}return m}function sb(t){return void 0!==t}function ft(t,n=""){const e=Rt(),r=wr(),i=t+hn,s=r.firstCreatePass?fg(r,i,1,n,null):r.data[i],c=oS(r,e,s,n,t);e[i]=c,Ld()&&Nt(r,e,c,s),ms(s,!1)}let oS=(t,n,e,r,i)=>(ou(!0),function q(t,n){return t.createText(n)}(n[Zn],r));function Qm(t){return Rl("",t,""),Qm}function Rl(t,n,e){const r=Rt(),i=function pg(t,n,e,r){return xs(t,Fs(),e)?n+vn(e)+r:vr}(r,t,n,e);return i!==vr&&Jd(r,Do(),i),Rl}function lb(t,n,e,r,i){const s=Rt(),c=gg(s,t,n,e,r,i);return c!==vr&&Jd(s,Do(),c),lb}const Sg="en-US";let SS=Sg;function __(t,n,e,r,i){if(t=on(t),Array.isArray(t))for(let s=0;s<t.length;s++)__(t[s],n,e,r,i);else{const s=wr(),c=Rt();let m=Kh(t)?t:on(t.provide),w=vD(t);const N=zo(),U=1048575&N.providerIndexes,K=N.directiveStart,ge=N.providerIndexes>>20;if(Kh(t)||!t.multi){const be=new Ic(w,i,We),Se=x_(m,n,i?U:U+ge,K);-1===Se?(Bf(zd(N,c),s,m),C_(s,t,n.length),n.push(m),N.directiveStart++,N.directiveEnd++,i&&(N.providerIndexes+=1048576),e.push(be),c.push(be)):(e[Se]=be,c[Se]=be)}else{const be=x_(m,n,U+ge,K),Se=x_(m,n,U,U+ge),nt=Se>=0&&e[Se];if(i&&!nt||!i&&!(be>=0&&e[be])){Bf(zd(N,c),s,m);const mt=function z2(t,n,e,r,i){const s=new Ic(t,e,We);return s.multi=[],s.index=n,s.componentProviders=0,qS(s,i,r&&!e),s}(i?H2:V2,e.length,i,r,w);!i&&nt&&(e[Se].providerFactory=mt),C_(s,t,n.length,0),n.push(m),N.directiveStart++,N.directiveEnd++,i&&(N.providerIndexes+=1048576),e.push(mt),c.push(mt)}else C_(s,t,be>-1?be:Se,qS(e[i?Se:be],w,!i&&r));!i&&r&&nt&&e[Se].componentProviders++}}}function C_(t,n,e,r){const i=Kh(n),s=function Hk(t){return!!t.useClass}(n);if(i||s){const w=(s?on(n.useClass):n).prototype.ngOnDestroy;if(w){const N=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const U=N.indexOf(e);-1===U?N.push(e,[r,w]):N[U+1].push(r,w)}else N.push(e,w)}}}function qS(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function x_(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function V2(t,n,e,r){return E_(this.multi,[])}function H2(t,n,e,r){const i=this.multi;let s;if(this.providerFactory){const c=this.providerFactory.componentProviders,m=Pu(e,e[fn],this.providerFactory.index,r);s=m.slice(0,c),E_(i,s);for(let w=c;w<m.length;w++)s.push(m[w])}else s=[],E_(i,s);return s}function E_(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function $r(t,n=[]){return e=>{e.providersResolver=(r,i)=>function B2(t,n,e){const r=wr();if(r.firstCreatePass){const i=hs(t);__(e,r.data,r.blueprint,i,!0),__(n,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,n)}}class Tg{}class QS{}class D_ extends Tg{constructor(n,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new u1(this);const i=so(n);this._bootstrapComponents=Qd(i.bootstrap),this._r3Injector=UD(n,e,[{provide:Tg,useValue:this},{provide:ug,useValue:this.componentFactoryResolver},...r],er(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class S_ extends QS{constructor(n){super(),this.moduleType=n}create(n){return new D_(this.moduleType,n,[])}}class JS extends Tg{constructor(n){super(),this.componentFactoryResolver=new u1(this),this.instance=null;const e=new Rw([...n.providers,{provide:Tg,useValue:this},{provide:ug,useValue:this.componentFactoryResolver}],n.parent||Uy(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function T_(t,n,e=null){return new JS({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let j2=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=hD(0,e.type),i=r.length>0?T_([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=an({token:t,providedIn:"environment",factory:()=>new t(Pt(Rc))}),t})();function eT(t){t.getStandaloneInjector=n=>n.get(j2).getOrCreateStandaloneInjector(t)}function hb(t,n,e){const r=Wi()+t,i=Rt();return i[r]===vr?Fc(i,r,e?n.call(e):n()):function Um(t,n){return t[n]}(i,r)}function Hc(t,n,e,r){return function sT(t,n,e,r,i,s){const c=n+e;return xs(t,c,i)?Fc(t,c+1,s?r.call(s,i):r(i)):iv(t,c+1)}(Rt(),Wi(),t,n,e,r)}function I_(t,n,e,r,i){return function lT(t,n,e,r,i,s,c){const m=n+e;return qh(t,m,i,s)?Fc(t,m+2,c?r.call(c,i,s):r(i,s)):iv(t,m+2)}(Rt(),Wi(),t,n,e,r,i)}function iv(t,n){const e=t[n];return e===vr?void 0:e}function A_(t){return n=>{setTimeout(t,void 0,n)}}const lr=class hB extends It{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let i=n,s=e||(()=>null),c=r;if(n&&"object"==typeof n){const w=n;i=w.next?.bind(w),s=w.error?.bind(w),c=w.complete?.bind(w)}this.__isAsync&&(s=A_(s),i&&(i=A_(i)),c&&(c=A_(c)));const m=super.subscribe({next:i,error:s,complete:c});return n instanceof C&&n.add(m),m}};function pB(){return this._results[Symbol.iterator]()}class Mg{get changes(){return this._changes||(this._changes=new lr)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Mg.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=pB)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const i=function dr(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function nr(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=n[r];if(e&&(i=e(i),s=e(s)),s!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Us=(()=>{class t{}return t.__NG_ELEMENT_ID__=vB,t})();const gB=Us,mB=class extends gB{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e,null)}createEmbeddedViewImpl(n,e,r){const c=this._declarationTContainer.tView,m=Zy(this._declarationLView,c,n,4096&this._declarationLView[Wn]?4096:16,null,c.declTNode,null,null,null,e||null,r||null);m[fs]=this._declarationLView[this._declarationTContainer.index];const N=this._declarationLView[uo];return null!==N&&(m[uo]=N.createEmbeddedView(c)),a_(c,m,n),new Hm(m)}};function vB(){return pb(zo(),Rt())}function pb(t,n){return 4&t.type?new mB(n,t,cg(t,n)):null}let za=(()=>{class t{}return t.__NG_ELEMENT_ID__=EB,t})();function EB(){return vT(zo(),Rt())}const DB=za,gT=class extends DB{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return cg(this._hostTNode,this._hostLView)}get injector(){return new Lu(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ud(this._hostTNode,this._hostLView);if(kh(n)){const e=Vd(n,this._hostLView),r=ku(n);return new Lu(e[fn].data[r+8],e)}return new Lu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=mT(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-oi}createEmbeddedView(n,e,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const m=n.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(m,i,false),m}createComponent(n,e,r,i,s){const c=n&&!function Dn(t){return"function"==typeof t}(n);let m;if(c)m=e;else{const Fe=e||{};m=Fe.index,r=Fe.injector,i=Fe.projectableNodes,s=Fe.environmentInjector||Fe.ngModuleRef}const w=c?n:new zm(Br(n)),N=r||this.parentInjector;if(!s&&null==w.ngModule){const nt=(c?N:this.parentInjector).get(Rc,null);nt&&(s=nt)}Br(w.componentType??{});const be=w.create(N,i,null,s);return this.insertImpl(be.hostView,m,false),be}insert(n,e){return this.insertImpl(n,e,!1)}insertImpl(n,e,r){const i=n._lView,s=i[fn];if(function Sd(t){return La(t[Li])}(i)){const w=this.indexOf(n);if(-1!==w)this.detach(w);else{const N=i[Li],U=new gT(N,N[_o],N[Li]);U.detach(U.indexOf(n))}}const c=this._adjustIndex(e),m=this._lContainer;if(function ye(t,n,e,r){const i=oi+r,s=e.length;r>0&&(e[i-1][sa]=n),r<s-oi?(n[sa]=e[i],xi(e,oi+r,n)):(e.push(n),n[sa]=null),n[Li]=e;const c=n[fs];null!==c&&e!==c&&function Me(t,n){const e=t[Du];n[Gi]!==n[Li][Li][Gi]&&(t[_l]=!0),null===e?t[Du]=[n]:e.push(n)}(c,n);const m=n[uo];null!==m&&m.insertView(t),n[Wn]|=128}(s,i,m,c),!r){const w=Xn(c,m),N=i[Zn],U=vt(N,m[Ps]);null!==U&&function ve(t,n,e,r,i,s){r[lo]=i,r[_o]=n,Pn(t,r,e,1,i,s)}(s,m[_o],N,i,U,w)}return n.attachToViewContainerRef(),xi(N_(m),c,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=mT(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=ke(this._lContainer,e);r&&(jo(N_(this._lContainer),e),Pe(r[fn],r))}detach(n){const e=this._adjustIndex(n,-1),r=ke(this._lContainer,e);return r&&null!=jo(N_(this._lContainer),e)?new Hm(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function mT(t){return t[8]}function N_(t){return t[8]||(t[8]=[])}function vT(t,n){let e;const r=n[t.index];return La(r)?e=r:(e=qD(r,n,null,t),n[t.index]=e,qy(n,e)),yT(e,n,t,r),new gT(e,t,n)}let yT=function bT(t,n,e,r){if(t[Ps])return;let i;i=8&e.type?fi(r):function SB(t,n){const e=t[Zn],r=e.createComment(""),i=ji(n,t);return Ge(e,vt(e,i),r,function At(t,n){return t.nextSibling(n)}(e,i),!1),r}(n,e),t[Ps]=i};class R_{constructor(n){this.queryList=n,this.matches=null}clone(){return new R_(this.queryList)}setDirty(){this.queryList.setDirty()}}class k_{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,i=[];for(let s=0;s<r;s++){const c=e.getByIndex(s);i.push(this.queries[c.indexInDeclarationView].clone())}return new k_(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==ET(n,e).matches&&this.queries[e].setDirty()}}class wT{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class P_{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,s=this.getByIndex(r).embeddedTView(n,i);s&&(s.indexInDeclarationView=r,null!==e?e.push(s):e=[s])}return null!==e?new P_(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class L_{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new L_(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(n,e,IB(e,s)),this.matchTNodeWithReadOption(n,e,ol(e,n,s,!1,!1))}else r===Us?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,ol(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ti||i===za||i===Us&&4&e.type)this.addMatch(e.index,-2);else{const s=ol(e,n,i,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function IB(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function OB(t,n,e,r){return-1===e?function AB(t,n){return 11&t.type?cg(t,n):4&t.type?pb(t,n):null}(n,t):-2===e?function NB(t,n,e){return e===ti?cg(n,t):e===Us?pb(n,t):e===za?vT(n,t):void 0}(t,n,r):Pu(t,t[fn],e,n)}function _T(t,n,e,r){const i=n[uo].queries[r];if(null===i.matches){const s=t.data,c=e.matches,m=[];for(let w=0;w<c.length;w+=2){const N=c[w];m.push(N<0?null:OB(n,s[N],c[w+1],e.metadata.read))}i.matches=m}return i.matches}function F_(t,n,e,r){const i=t.queries.getByIndex(e),s=i.matches;if(null!==s){const c=_T(t,n,i,e);for(let m=0;m<s.length;m+=2){const w=s[m];if(w>0)r.push(c[m/2]);else{const N=s[m+1],U=n[-w];for(let K=oi;K<U.length;K++){const ge=U[K];ge[fs]===ge[Li]&&F_(ge[fn],ge,N,r)}if(null!==U[Du]){const K=U[Du];for(let ge=0;ge<K.length;ge++){const be=K[ge];F_(be[fn],be,N,r)}}}}}return r}function Mn(t){const n=Rt(),e=wr(),r=Od();Bs(r+1);const i=ET(e,r);if(t.dirty&&function Cc(t){return 4==(4&t[Wn])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?F_(e,n,r,[]):_T(e,n,i,r);t.reset(s,aP),t.notifyOnChanges()}return!0}return!1}function Ln(t,n,e){const r=wr();r.firstCreatePass&&(xT(r,new wT(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),CT(r,Rt(),n)}function Kf(t,n,e,r){const i=wr();if(i.firstCreatePass){const s=zo();xT(i,new wT(n,e,r),s.index),function kB(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(i,t),2==(2&e)&&(i.staticContentQueries=!0)}CT(i,Rt(),e)}function In(){return function RB(t,n){return t[uo].queries[n].queryList}(Rt(),Od())}function CT(t,n,e){const r=new Mg(4==(4&e));(function IP(t,n,e,r){const i=JD(n);i.push(e),t.firstCreatePass&&e1(t).push(r,i.length-1)})(t,n,r,r.destroy),null===n[uo]&&(n[uo]=new k_),n[uo].queries.push(new R_(r))}function xT(t,n,e){null===t.queries&&(t.queries=new P_),t.queries.track(new L_(n,e))}function ET(t,n){return t.queries.getByIndex(n)}function DT(t,n){return pb(t,n)}const G_=new Zt("Application Initializer");let j_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=nn(G_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const i of this.appInits){const s=i();if(Km(s))e.push(s);else if(N1(s)){const c=new Promise((m,w)=>{s.subscribe({complete:m,error:w})});e.push(c)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),UT=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const zc=new Zt("LocaleId",{providedIn:"root",factory:()=>nn(zc,Fn.Optional|Fn.SkipSelf)||function tV(){return typeof $localize<"u"&&$localize.locale||Sg}()});let mb=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new cn(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class rV{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let GT=(()=>{class t{compileModuleSync(e){return new S_(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),s=Qd(so(e).declarations).reduce((c,m)=>{const w=Br(m);return w&&c.push(new zm(w)),c},[]);return new rV(r,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $T(...t){}class Yr{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lr(!1),this.onMicrotaskEmpty=new lr(!1),this.onStable=new lr(!1),this.onError=new lr(!1),typeof Zone>"u")throw new Qe(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function aV(){let t=vi.requestAnimationFrame,n=vi.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function uV(t){const n=()=>{!function lV(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(vi,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,$_(t),t.isCheckStableRunning=!0,W_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),$_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,s,c,m)=>{try{return YT(t),e.invokeTask(i,s,c,m)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&n(),XT(t)}},onInvoke:(e,r,i,s,c,m,w)=>{try{return YT(t),e.invoke(i,s,c,m,w)}finally{t.shouldCoalesceRunChangeDetection&&n(),XT(t)}},onHasTask:(e,r,i,s)=>{e.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,$_(t),W_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,r,i,s)=>(e.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yr.isInAngularZone())throw new Qe(909,!1)}static assertNotInAngularZone(){if(Yr.isInAngularZone())throw new Qe(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){const s=this._inner,c=s.scheduleEventTask("NgZoneEvent: "+i,n,sV,$T,$T);try{return s.runTask(c,e,r)}finally{s.cancelTask(c)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const sV={};function W_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function YT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function XT(t){t._nesting--,W_(t)}class cV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lr,this.onMicrotaskEmpty=new lr,this.onStable=new lr,this.onError=new lr}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}}const KT=new Zt("",{providedIn:"root",factory:ZT});function ZT(){const t=nn(Yr);let n=!0;return rt(new Ke(i=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(n),i.complete()})}),new Ke(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Yr.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const c=t.onUnstable.subscribe(()=>{Yr.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),c.unsubscribe()}}).pipe(Qt()))}const qT=new Zt(""),vb=new Zt("");let K_,Y_=(()=>{class t{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,K_||(function dV(t){K_=t}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==s),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}}return t.\u0275fac=function(e){return new(e||t)(Pt(Yr),Pt(X_),Pt(vb))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})(),X_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return K_?.findTestabilityInTree(this,e,r)??null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Zf=null;const QT=new Zt("AllowMultipleToken"),Z_=new Zt("PlatformDestroyListeners"),q_=new Zt("appBootstrapListener");class eM{constructor(n,e){this.name=n,this.token=e}}function nM(t,n,e=[]){const r=`Platform: ${n}`,i=new Zt(r);return(s=[])=>{let c=Q_();if(!c||c.injector.get(QT,!1)){const m=[...e,...s,{provide:i,useValue:!0}];t?t(m):function pV(t){if(Zf&&!Zf.get(QT,!1))throw new Qe(400,!1);(function JT(){!function Mu(t){Dh=t}(()=>{throw new Qe(600,!1)})})(),Zf=t;const n=t.get(iM);(function tM(t){t.get(yD,null)?.forEach(e=>e())})(t)}(function rM(t=[],n){return zu.create({name:n,providers:[{provide:Ow,useValue:"platform"},{provide:Z_,useValue:new Set([()=>Zf=null])},...t]})}(m,r))}return function mV(t){const n=Q_();if(!n)throw new Qe(401,!1);return n}()}}function Q_(){return Zf?.get(iM)??null}let iM=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function vV(t="zone.js",n){return"noop"===t?new cV:"zone.js"===t?new Yr(n):t}(r?.ngZone,function oM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function G2(t,n,e){return new D_(t,n,e)}(e.moduleType,this.injector,function cM(t){return[{provide:Yr,useFactory:t},{provide:Nm,multi:!0,useFactory:()=>{const n=nn(bV,{optional:!0});return()=>n.initialize()}},{provide:uM,useFactory:yV},{provide:KT,useFactory:ZT}]}(()=>i)),c=s.injector.get(Pc,null);return i.runOutsideAngular(()=>{const m=i.onError.subscribe({next:w=>{c.handleError(w)}});s.onDestroy(()=>{yb(this._modules,s),m.unsubscribe()})}),function aM(t,n,e){try{const r=e();return Km(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(c,i,()=>{const m=s.injector.get(j_);return m.runInitializers(),m.donePromise.then(()=>(function TS(t){io(t,"Expected localeId to be defined"),"string"==typeof t&&(SS=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(zc,Sg)||Sg),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,r=[]){const i=sM({},r);return function fV(t,n,e){const r=new S_(e);return Promise.resolve(r)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(e){const r=e.injector.get(ep);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new Qe(-403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(Z_,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Pt(zu))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function sM(t,n){return Array.isArray(n)?n.reduce(sM,t):{...t,...n}}let ep=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nn(uM),this.zoneIsStable=nn(KT),this.componentTypes=[],this.components=[],this.isStable=nn(mb).hasPendingTasks.pipe(Vt(e=>e?Je(!1):this.zoneIsStable),tn(),Qt()),this._injector=nn(Rc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof ED;if(!this._injector.get(j_).done)throw!i&&function ao(t){const n=Br(t)||Ui(t)||oo(t);return null!==n&&n.standalone}(e),new Qe(405,!1);let c;c=i?e:this._injector.get(ug).resolveComponentFactory(e),this.componentTypes.push(c.componentType);const m=function hV(t){return t.isBoundToModule}(c)?void 0:this._injector.get(Tg),N=c.create(zu.NULL,[],r||c.selector,m),U=N.location.nativeElement,K=N.injector.get(qT,null);return K?.registerApplication(U),N.onDestroy(()=>{this.detachView(N.hostView),yb(this.components,N),K?.unregisterApplication(U)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new Qe(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;yb(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(q_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>yb(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Qe(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yb(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const uM=new Zt("",{providedIn:"root",factory:()=>nn(Pc).handleError.bind(void 0)});function yV(){const t=nn(Yr),n=nn(Pc);return e=>t.runOutsideAngular(()=>n.handleError(e))}let bV=(()=>{class t{constructor(){this.zone=nn(Yr),this.applicationRef=nn(ep)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let os=(()=>{class t{}return t.__NG_ELEMENT_ID__=_V,t})();function _V(t){return function CV(t,n,e){if(Su(t)&&!e){const r=Ba(t.index,n);return new Hm(r,r)}return 47&t.type?new Hm(n[Gi],n):null}(zo(),Rt(),16==(16&t))}class pM{constructor(){}supports(n){return tb(n)}create(n){return new MV(n)}}const TV=(t,n)=>n;class MV{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||TV}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,s=null;for(;e||r;){const c=!r||e&&e.currentIndex<mM(r,i,s)?e:r,m=mM(c,i,s),w=c.currentIndex;if(c===r)i--,r=r._nextRemoved;else if(e=e._next,null==c.previousIndex)i++;else{s||(s=[]);const N=m-i,U=w-i;if(N!=U){for(let ge=0;ge<N;ge++){const be=ge<s.length?s[ge]:s[ge]=0,Se=be+ge;U<=Se&&Se<N&&(s[ge]=be+1)}s[c.previousIndex]=U-N}}m!==w&&n(c,m,w)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!tb(n))throw new Qe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,s,c,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let m=0;m<this.length;m++)s=n[m],c=this._trackByFn(m,s),null!==e&&Object.is(e.trackById,c)?(r&&(e=this._verifyReinsertion(e,s,c,m)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,c,m),r=!0),e=e._next}else i=0,function xL(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,m=>{c=this._trackByFn(i,m),null!==e&&Object.is(e.trackById,c)?(r&&(e=this._verifyReinsertion(e,m,c,i)),Object.is(e.item,m)||this._addIdentityChange(e,m)):(e=this._mismatch(e,m,c,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,s,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,s,i)):n=this._addAfter(new IV(e,r),s,i),n}_verifyReinsertion(n,e,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,s=n._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const i=null===e?this._itHead:e._next;return n._next=i,n._prev=e,null===i?this._itTail=n:i._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new gM),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gM),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class IV{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AV{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class gM{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new AV,this.map.set(e,r)),r.add(n)}get(n,e){const i=this.map.get(n);return i?i.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mM(t,n,e){const r=t.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}class vM{constructor(){}supports(n){return n instanceof Map||s_(n)}create(){return new OV}}class OV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||s_(n)))throw new Qe(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,e);const s=i._prev,c=i._next;return s&&(s._next=c),c&&(c._prev=s),i._next=null,i._prev=null,i}const r=new NV(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}}class NV{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yM(){return new np([new pM])}let np=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||yM()),deps:[[t,new Vh,new ns]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new Qe(901,!1)}}return t.\u0275prov=an({token:t,providedIn:"root",factory:yM}),t})();function bM(){return new sv([new vM])}let sv=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||bM()),deps:[[t,new Vh,new ns]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new Qe(901,!1)}}return t.\u0275prov=an({token:t,providedIn:"root",factory:bM}),t})();const PV=nM(null,"core",[]);let LV=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(Pt(ep))},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({}),t})();function Og(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let oC=null;function qf(){return oC}class XV{}const Di=new Zt("DocumentToken");let aC=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(ZV)},providedIn:"platform"}),t})();const KV=new Zt("Location Initialized");let ZV=(()=>{class t extends aC{constructor(){super(),this._doc=nn(Di),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qf().getBaseHref(this._doc)}onPopState(e){const r=qf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=qf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function sC(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function SM(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function ef(t){return t&&"?"!==t[0]?"?"+t:t}let rp=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(MM)},providedIn:"root"}),t})();const TM=new Zt("appBaseHref");let MM=(()=>{class t extends rp{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??nn(Di).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return sC(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+ef(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){const c=this.prepareExternalUrl(i+ef(s));this._platformLocation.pushState(e,r,c)}replaceState(e,r,i,s){const c=this.prepareExternalUrl(i+ef(s));this._platformLocation.replaceState(e,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(aC),Pt(TM,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qV=(()=>{class t extends rp{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=sC(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let c=this.prepareExternalUrl(i+ef(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,r,c)}replaceState(e,r,i,s){let c=this.prepareExternalUrl(i+ef(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(aC),Pt(TM,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})(),lC=(()=>{class t{constructor(e){this._subject=new lr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function eH(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(SM(IM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+ef(r))}normalize(e){return t.stripTrailingSlash(function JV(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,IM(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ef(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ef(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return t.normalizeQueryParams=ef,t.joinWithSlash=sC,t.stripTrailingSlash=SM,t.\u0275fac=function(e){return new(e||t)(Pt(rp))},t.\u0275prov=an({token:t,factory:function(){return function QV(){return new lC(Pt(rp))}()},providedIn:"root"}),t})();function IM(t){return t.replace(/\/index.html$/,"")}function BM(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}const yC=/\s+/,VM=[];let cv=(()=>{class t{constructor(e,r,i,s){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=VM,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(yC):VM}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(yC):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(yC).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(e){return new(e||t)(We(np),We(sv),We(ti),We(qd))},t.\u0275dir=ln({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class BH{constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ng=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,s,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new BH(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===s?void 0:s);else if(null!==s){const m=r.get(s);r.move(m,c),zM(m,i)}});for(let i=0,s=r.length;i<s;i++){const m=r.get(i).context;m.index=i,m.count=s,m.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{zM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(Us),We(np))},t.\u0275dir=ln({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function zM(t,n){t.context.$implicit=n.item}let kl=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new VH,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){UM("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){UM("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(Us))},t.\u0275dir=ln({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class VH{constructor(){this.$implicit=null,this.ngIf=null}}function UM(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${er(n)}'.`)}let _C=(()=>{class t{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,s]=e.split("."),c=-1===i.indexOf("-")?void 0:ea.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(sv),We(qd))},t.\u0275dir=ln({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),t})(),EC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({}),t})();const WM="browser";function $M(t){return"server"===t}let m3=(()=>{class t{}return t.\u0275prov=an({token:t,providedIn:"root",factory:()=>new v3(Pt(Di),window)}),t})();class v3{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function y3(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const c=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=YM(this.window.history)||YM(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function YM(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class XM{}class z3 extends XV{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class TC extends z3{static makeCurrent(){!function YV(t){oC||(oC=t)}(new TC)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function U3(){return fv=fv||document.querySelector("base"),fv?fv.getAttribute("href"):null}();return null==e?null:function G3(t){Rb=Rb||document.createElement("a"),Rb.setAttribute("href",t);const n=Rb.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){fv=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return BM(document.cookie,n)}}let Rb,fv=null,W3=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const MC=new Zt("EventManagerPlugins");let JM=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new Qe(5101,!1);return this._eventNameToPlugin.set(e,r),r}}return t.\u0275fac=function(e){return new(e||t)(Pt(MC),Pt(Yr))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();class eI{constructor(n){this._doc=n}}const IC="ng-app-id";let tI=(()=>{class t{constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$M(s),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${IC}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const s=i.get(e);return s.usage+=r,s.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===e)return i.delete(r),s.removeAttribute(IC),s;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(IC,this.appId),c}}addStyleToHost(e,r){const i=this.getStyleElement(e,r);e.appendChild(i);const s=this.styleRef,c=s.get(r)?.elements;c?c.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di),Pt(Gy),Pt(Lw,8),Pt(Yf))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const AC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},OC=/%COMP%/g,K3=new Zt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function rI(t,n){return n.map(e=>e.replace(OC,t))}let NC=(()=>{class t{constructor(e,r,i,s,c,m,w,N=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=m,this.ngZone=w,this.nonce=N,this.rendererByCompId=new Map,this.platformIsServer=$M(m),this.defaultRenderer=new RC(e,c,w,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ya.ShadowDom&&(r={...r,encapsulation:ya.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof oI?i.applyToHost(e):i instanceof kC&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const c=this.doc,m=this.ngZone,w=this.eventManager,N=this.sharedStylesHost,U=this.removeStylesOnCompDestroy,K=this.platformIsServer;switch(r.encapsulation){case ya.Emulated:s=new oI(w,N,r,this.appId,U,c,m,K);break;case ya.ShadowDom:return new J3(w,N,e,r,c,m,this.nonce,K);default:s=new kC(w,N,r,U,c,m,K)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(e){return new(e||t)(Pt(JM),Pt(tI),Pt(Gy),Pt(K3),Pt(Di),Pt(Yf),Pt(Yr),Pt(Lw))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();class RC{constructor(n,e,r,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(AC[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(iI(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(iI(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new Qe(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;const s=AC[i];s?n.setAttributeNS(s,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const i=AC[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(ea.DashCase|ea.Important)?n.style.setProperty(e,r,i&ea.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&ea.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){if("string"==typeof n&&!(n=qf().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function iI(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class J3 extends RC{constructor(n,e,r,i,s,c,m,w){super(n,s,c,w),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const N=rI(i.id,i.styles);for(const U of N){const K=document.createElement("style");m&&K.setAttribute("nonce",m),K.textContent=U,this.shadowRoot.appendChild(K)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kC extends RC{constructor(n,e,r,i,s,c,m,w){super(n,s,c,m),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.rendererUsageCount=0,this.styles=w?rI(w,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class oI extends kC{constructor(n,e,r,i,s,c,m,w){const N=i+"-"+r.id;super(n,e,r,s,c,m,w,N),this.contentAttr=function Z3(t){return"_ngcontent-%COMP%".replace(OC,t)}(N),this.hostAttr=function q3(t){return"_nghost-%COMP%".replace(OC,t)}(N)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}let e5=(()=>{class t extends eI{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const aI=["alt","control","meta","shift"],t5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},n5={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let r5=(()=>{class t extends eI{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,i){const s=t.parseEventName(r),c=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qf().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let c="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),c="code."),aI.forEach(N=>{const U=r.indexOf(N);U>-1&&(r.splice(U,1),c+=N+".")}),c+=s,0!=r.length||0===s.length)return null;const w={};return w.domEventName=i,w.fullKey=c,w}static matchEventFullKeyCode(e,r){let i=t5[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),aI.forEach(c=>{c!==i&&(0,n5[c])(e)&&(s+=c+".")}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{t.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const l5=nM(PV,"browser",[{provide:Yf,useValue:WM},{provide:yD,useValue:function o5(){TC.makeCurrent()},multi:!0},{provide:Di,useFactory:function s5(){return function Ur(t){Tn=t}(document),document},deps:[]}]),u5=new Zt(""),uI=[{provide:vb,useClass:class j3{addToWindow(n){vi.getAngularTestability=(r,i=!0)=>{const s=n.findTestabilityInTree(r,i);if(null==s)throw new Qe(5103,!1);return s},vi.getAllAngularTestabilities=()=>n.getAllTestabilities(),vi.getAllAngularRootElements=()=>n.getAllRootElements(),vi.frameworkStabilizers||(vi.frameworkStabilizers=[]),vi.frameworkStabilizers.push(r=>{const i=vi.getAllAngularTestabilities();let s=i.length,c=!1;const m=function(w){c=c||w,s--,0==s&&r(c)};i.forEach(w=>{w.whenStable(m)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?qf().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:qT,useClass:Y_,deps:[Yr,X_,vb]},{provide:Y_,useClass:Y_,deps:[Yr,X_,vb]}],cI=[{provide:Ow,useValue:"root"},{provide:Pc,useFactory:function a5(){return new Pc},deps:[]},{provide:MC,useClass:e5,multi:!0,deps:[Di,Yr,Yf]},{provide:MC,useClass:r5,multi:!0,deps:[Di]},NC,tI,JM,{provide:Lm,useExisting:NC},{provide:XM,useClass:W3,deps:[]},[]];let dI=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Gy,useValue:e.appId}]}}}return t.\u0275fac=function(e){return new(e||t)(Pt(u5,12))},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({providers:[...cI,...uI],imports:[EC,LV]}),t})(),fI=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di))},t.\u0275prov=an({token:t,factory:function(e){let r=null;return r=e?new e:function d5(){return new fI(Pt(Di))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;let kb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(e){let r=null;return r=e?new(e||t):Pt(gI),r},providedIn:"root"}),t})(),gI=(()=>{class t extends kb{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case pi.NONE:return r;case pi.HTML:return Ea(r,"HTML")?Io(r):oD(this._doc,String(r)).toString();case pi.STYLE:return Ea(r,"Style")?Io(r):r;case pi.SCRIPT:if(Ea(r,"Script"))return Io(r);throw new Qe(5200,!1);case pi.URL:return Ea(r,"URL")?Io(r):og(String(r));case pi.RESOURCE_URL:if(Ea(r,"ResourceURL"))return Io(r);throw new Qe(5201,!1);default:throw new Qe(5202,!1)}}bypassSecurityTrustHtml(e){return function Kd(t){return new Il(t)}(e)}bypassSecurityTrustStyle(e){return function Wf(t){return new Al(t)}(e)}bypassSecurityTrustScript(e){return function rg(t){return new xa(t)}(e)}bypassSecurityTrustUrl(e){return function Zd(t){return new sl(t)}(e)}bypassSecurityTrustResourceUrl(e){return function _s(t){return new is(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di))},t.\u0275prov=an({token:t,factory:function(e){let r=null;return r=e?new e:function g5(t){return new gI(t.get(Di))}(Pt(zu)),r},providedIn:"root"}),t})();var Yu=(()=>((Yu=Yu||{})[Yu.Hide=0]="Hide",Yu[Yu.Show=1]="Show",Yu))();let vI=(()=>{class t{constructor(){this.toggleSubject=new It,this.toggleObservable=this.toggleSubject.asObservable()}hideAllComponents(e){this.toggleSubject.next({action:Yu.Hide,type:e})}showAllComponents(e){this.toggleSubject.next({action:Yu.Show,type:e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Pb(t){return!!t&&(t instanceof Ke||T(t.lift)&&T(t.subscribe))}const{isArray:m5}=Array,{getPrototypeOf:v5,prototype:y5,keys:b5}=Object;function yI(t){if(1===t.length){const n=t[0];if(m5(n))return{args:n,keys:null};if(function w5(t){return t&&"object"==typeof t&&v5(t)===y5}(n)){const e=b5(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:_5}=Array;function LC(t){return St(n=>function C5(t,n){return _5(n)?t(...n):t(n)}(t,n))}function bI(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function Lb(...t){const n=Ro(t),e=$a(t),{args:r,keys:i}=yI(t);if(0===r.length)return Ve([],n);const s=new Ke(function x5(t,n,e=Be){return r=>{wI(n,()=>{const{length:i}=t,s=new Array(i);let c=i,m=i;for(let w=0;w<i;w++)wI(n,()=>{const N=Ve(t[w],n);let U=!1;N.subscribe(pt(r,K=>{s[w]=K,U||(U=!0,m--),m||r.next(e(s.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,n,i?c=>bI(i,c):Be));return e?s.pipe(LC(e)):s}function wI(t,n,e){t?Oa(e,t,n):n()}const Fb=P(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Bb(...t){return function E5(){return ki(1)}()(Ve(t,Ro(t)))}function _I(t){return new Ke(n=>{No(t()).subscribe(n)})}function Rg(t,n){const e=T(t)?t:()=>t,r=i=>i.error(e());return new Ke(n?i=>n.schedule(r,0,i):r)}function FC(){return it((t,n)=>{let e=null;t._refCount++;const r=pt(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const i=t._connection,s=e;e=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class BC extends Ke{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,lt(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new C;const e=this.getSubject();n.add(this.source.subscribe(pt(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=C.EMPTY)}return n}refCount(){return FC()(this)}}function Uc(t){return t<=0?()=>oa:it((n,e)=>{let r=0;n.subscribe(pt(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function hv(...t){const n=Ro(t);return it((e,r)=>{(n?Bb(t,e,n):Bb(t,e)).subscribe(r)})}function Pl(t,n){return it((e,r)=>{let i=0;e.subscribe(pt(r,s=>t.call(n,s,i++)&&r.next(s)))})}function Vb(t){return it((n,e)=>{let r=!1;n.subscribe(pt(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function CI(t=D5){return it((n,e)=>{let r=!1;n.subscribe(pt(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function D5(){return new Fb}function ip(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Pl((i,s)=>t(i,s,r)):Be,Uc(1),e?Vb(n):CI(()=>new Fb))}function kg(t,n){return T(n)?qi(t,n,1):qi(t,1)}function ga(t,n,e){const r=T(t)||n||e?{next:t,error:n,complete:e}:t;return r?it((i,s)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let m=!0;i.subscribe(pt(s,w=>{var N;null===(N=r.next)||void 0===N||N.call(r,w),s.next(w)},()=>{var w;m=!1,null===(w=r.complete)||void 0===w||w.call(r),s.complete()},w=>{var N;m=!1,null===(N=r.error)||void 0===N||N.call(r,w),s.error(w)},()=>{var w,N;m&&(null===(w=r.unsubscribe)||void 0===w||w.call(r)),null===(N=r.finalize)||void 0===N||N.call(r)}))}):Be}function nf(t){return it((n,e)=>{let s,r=null,i=!1;r=n.subscribe(pt(e,void 0,void 0,c=>{s=No(t(c,nf(t)(n))),r?(r.unsubscribe(),r=null,s.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(e))})}function VC(t){return t<=0?()=>oa:it((n,e)=>{let r=[];n.subscribe(pt(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Pg(t){return it((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const Sr="primary",pv=Symbol("RouteTitle");class A5{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Lg(t){return new A5(t)}function O5(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const c=r[s],m=t[s];if(c.startsWith(":"))i[c.substring(1)]=m;else if(c!==m.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Gc(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!xI(t[i],n[i]))return!1;return!0}function xI(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((i,s)=>r[s]===i)}return t===n}function EI(t){return t.length>0?t[t.length-1]:null}function Jf(t){return Pb(t)?t:Km(t)?Ve(Promise.resolve(t)):Je(t)}const R5={exact:function TI(t,n,e){if(!op(t.segments,n.segments)||!Hb(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!TI(t.children[r],n.children[r],e))return!1;return!0},subset:MI},DI={exact:function k5(t,n){return Gc(t,n)},subset:function P5(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>xI(t[e],n[e]))},ignored:()=>!0};function SI(t,n,e){return R5[e.paths](t.root,n.root,e.matrixParams)&&DI[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function MI(t,n,e){return II(t,n,n.segments,e)}function II(t,n,e,r){if(t.segments.length>e.length){const i=t.segments.slice(0,e.length);return!(!op(i,e)||n.hasChildren()||!Hb(i,e,r))}if(t.segments.length===e.length){if(!op(t.segments,e)||!Hb(t.segments,e,r))return!1;for(const i in n.children)if(!t.children[i]||!MI(t.children[i],n.children[i],r))return!1;return!0}{const i=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(op(t.segments,i)&&Hb(t.segments,i,r)&&t.children[Sr])&&II(t.children[Sr],n,s,r)}}function Hb(t,n,e){return n.every((r,i)=>DI[e](t[i].parameters,r.parameters))}class Fg{constructor(n=new Si([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lg(this.queryParams)),this._queryParamMap}toString(){return B5.serialize(this)}}class Si{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zb(this)}}class gv{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Lg(this.parameters)),this._parameterMap}toString(){return NI(this)}}function op(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}let mv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return new HC},providedIn:"root"}),t})();class HC{parse(n){const e=new K5(n);return new Fg(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${vv(n.root,!0)}`,r=function z5(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(i=>`${Ub(e)}=${Ub(i)}`).join("&"):`${Ub(e)}=${Ub(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function V5(t){return encodeURI(t)}(n.fragment)}`:""}`}}const B5=new HC;function zb(t){return t.segments.map(n=>NI(n)).join("/")}function vv(t,n){if(!t.hasChildren())return zb(t);if(n){const e=t.children[Sr]?vv(t.children[Sr],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Sr&&r.push(`${i}:${vv(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function F5(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===Sr&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Sr&&(e=e.concat(n(i,r)))}),e}(t,(r,i)=>i===Sr?[vv(t.children[Sr],!1)]:[`${i}:${vv(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Sr]?`${zb(t)}/${e[0]}`:`${zb(t)}/(${e.join("//")})`}}function AI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ub(t){return AI(t).replace(/%3B/gi,";")}function zC(t){return AI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gb(t){return decodeURIComponent(t)}function OI(t){return Gb(t.replace(/\+/g,"%20"))}function NI(t){return`${zC(t.path)}${function H5(t){return Object.keys(t).map(n=>`;${zC(n)}=${zC(t[n])}`).join("")}(t.parameters)}`}const U5=/^[^\/()?;#]+/;function UC(t){const n=t.match(U5);return n?n[0]:""}const G5=/^[^\/()?;=#]+/,W5=/^[^=?&#]+/,Y5=/^[^&#]+/;class K5{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Si([],{}):new Si([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Sr]=new Si(n,e)),r}parseSegment(){const n=UC(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Qe(4009,!1);return this.capture(n),new gv(Gb(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function j5(t){const n=t.match(G5);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=UC(this.remaining);i&&(r=i,this.capture(r))}n[Gb(e)]=Gb(r)}parseQueryParam(n){const e=function $5(t){const n=t.match(W5);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const c=function X5(t){const n=t.match(Y5);return n?n[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=OI(e),s=OI(r);if(n.hasOwnProperty(i)){let c=n[i];Array.isArray(c)||(c=[c],n[i]=c),c.push(s)}else n[i]=s}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=UC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Qe(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=Sr);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[Sr]:new Si([],c),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Qe(4011,!1)}}function RI(t){return t.segments.length>0?new Si([],{[Sr]:t}):t}function kI(t){const n={};for(const r of Object.keys(t.children)){const s=kI(t.children[r]);if(r===Sr&&0===s.segments.length&&s.hasChildren())for(const[c,m]of Object.entries(s.children))n[c]=m;else(s.segments.length>0||s.hasChildren())&&(n[r]=s)}return function Z5(t){if(1===t.numberOfChildren&&t.children[Sr]){const n=t.children[Sr];return new Si(t.segments.concat(n.segments),n.children)}return t}(new Si(t.segments,n))}function ap(t){return t instanceof Fg}function PI(t){let n;const i=RI(function e(s){const c={};for(const w of s.children){const N=e(w);c[w.outlet]=N}const m=new Si(s.url,c);return s===t&&(n=m),m}(t.root));return n??i}function LI(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(0===n.length)return GC(i,i,i,e,r);const s=function Q5(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new BI(!0,0,t);let n=0,e=!1;const r=t.reduce((i,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const m={};return Object.entries(s.outlets).forEach(([w,N])=>{m[w]="string"==typeof N?N.split("/"):N}),[...i,{outlets:m}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===c?(s.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?e=!0:".."===m?n++:""!=m&&i.push(m))}),i):[...i,s]},[]);return new BI(e,n,r)}(n);if(s.toRoot())return GC(i,i,new Si([],{}),e,r);const c=function J5(t,n,e){if(t.isAbsolute)return new Wb(n,!0,0);if(!e)return new Wb(n,!1,NaN);if(null===e.parent)return new Wb(e,!0,0);const r=jb(t.commands[0])?0:1;return function e4(t,n,e){let r=t,i=n,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Qe(4005,!1);i=r.segments.length}return new Wb(r,!1,i-s)}(e,e.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),m=c.processChildren?bv(c.segmentGroup,c.index,s.commands):VI(c.segmentGroup,c.index,s.commands);return GC(i,c.segmentGroup,m,e,r)}function jb(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function yv(t){return"object"==typeof t&&null!=t&&t.outlets}function GC(t,n,e,r,i){let c,s={};r&&Object.entries(r).forEach(([w,N])=>{s[w]=Array.isArray(N)?N.map(U=>`${U}`):`${N}`}),c=t===n?e:FI(t,n,e);const m=RI(kI(c));return new Fg(m,s,i)}function FI(t,n,e){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===n?e:FI(s,n,e)}),new Si(t.segments,r)}class BI{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&jb(r[0]))throw new Qe(4003,!1);const i=r.find(yv);if(i&&i!==EI(r))throw new Qe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wb{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function VI(t,n,e){if(t||(t=new Si([],{})),0===t.segments.length&&t.hasChildren())return bv(t,n,e);const r=function n4(t,n,e){let r=0,i=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return s;const c=t.segments[i],m=e[r];if(yv(m))break;const w=`${m}`,N=r<e.length-1?e[r+1]:null;if(i>0&&void 0===w)break;if(w&&N&&"object"==typeof N&&void 0===N.outlets){if(!zI(w,N,c))return s;r+=2}else{if(!zI(w,{},c))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Si(t.segments.slice(0,r.pathIndex),{});return s.children[Sr]=new Si(t.segments.slice(r.pathIndex),t.children),bv(s,0,i)}return r.match&&0===i.length?new Si(t.segments,{}):r.match&&!t.hasChildren()?jC(t,n,e):r.match?bv(t,0,i):jC(t,n,e)}function bv(t,n,e){if(0===e.length)return new Si(t.segments,{});{const r=function t4(t){return yv(t[0])?t[0].outlets:{[Sr]:t}}(e),i={};if(!r[Sr]&&t.children[Sr]&&1===t.numberOfChildren&&0===t.children[Sr].segments.length){const s=bv(t.children[Sr],n,e);return new Si(t.segments,s.children)}return Object.entries(r).forEach(([s,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(i[s]=VI(t.children[s],n,c))}),Object.entries(t.children).forEach(([s,c])=>{void 0===r[s]&&(i[s]=c)}),new Si(t.segments,i)}}function jC(t,n,e){const r=t.segments.slice(0,n);let i=0;for(;i<e.length;){const s=e[i];if(yv(s)){const w=r4(s.outlets);return new Si(r,w)}if(0===i&&jb(e[0])){r.push(new gv(t.segments[n].path,HI(e[0]))),i++;continue}const c=yv(s)?s.outlets[Sr]:`${s}`,m=i<e.length-1?e[i+1]:null;c&&m&&jb(m)?(r.push(new gv(c,HI(m))),i+=2):(r.push(new gv(c,{})),i++)}return new Si(r,{})}function r4(t){const n={};return Object.entries(t).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[e]=jC(new Si([],{}),0,r))}),n}function HI(t){const n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function zI(t,n,e){return t==e.path&&Gc(n,e.parameters)}const wv="imperative";class jc{constructor(n,e){this.id=n,this.url=e}}class WC extends jc{constructor(n,e,r="imperative",i=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sp extends jc{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $b extends jc{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _v extends jc{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=16}}class $C extends jc{constructor(n,e,r,i){super(n,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class o4 extends jc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a4 extends jc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s4 extends jc{constructor(n,e,r,i,s){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class l4 extends jc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u4 extends jc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c4{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class d4{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class f4{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h4{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class p4{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g4{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UI{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class m4{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Cv,this.attachRef=null}}let Cv=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new m4,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class GI{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=YC(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=YC(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=XC(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return XC(n,this._root).map(e=>e.value)}}function YC(t,n){if(t===n.value)return n;for(const e of n.children){const r=YC(t,e);if(r)return r}return null}function XC(t,n){if(t===n.value)return[n];for(const e of n.children){const r=XC(t,e);if(r.length)return r.unshift(n),r}return[]}class rf{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Bg(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class jI extends GI{constructor(n,e){super(n),this.snapshot=e,KC(this,n)}toString(){return this.snapshot.toString()}}function WI(t,n){const e=function v4(t,n){const c=new Yb([],{},{},"",{},Sr,n,null,{});return new YI("",new rf(c,[]))}(0,n),r=new cn([new gv("",{})]),i=new cn({}),s=new cn({}),c=new cn({}),m=new cn(""),w=new Vg(r,i,c,m,s,Sr,n,e.root);return w.snapshot=e.root,new jI(new rf(w,[]),e)}class Vg{constructor(n,e,r,i,s,c,m,w){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=c,this.component=m,this._futureSnapshot=w,this.title=this.dataSubject?.pipe(St(N=>N[pv]))??Je(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(St(n=>Lg(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(St(n=>Lg(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $I(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const i=e[r],s=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function y4(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Yb{get title(){return this.data?.[pv]}constructor(n,e,r,i,s,c,m,w,N){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=m,this.routeConfig=w,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YI extends GI{constructor(n,e){super(e),this.url=n,KC(this,e)}toString(){return XI(this._root)}}function KC(t,n){n.value._routerState=t,n.children.forEach(e=>KC(t,e))}function XI(t){const n=t.children.length>0?` { ${t.children.map(XI).join(", ")} } `:"";return`${t.value}${n}`}function ZC(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Gc(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Gc(n.params,e.params)||t.paramsSubject.next(e.params),function N5(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Gc(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),Gc(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function qC(t,n){const e=Gc(t.params,n.params)&&function L5(t,n){return op(t,n)&&t.every((e,r)=>Gc(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||qC(t.parent,n.parent))}let QC=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Sr,this.activateEvents=new lr,this.deactivateEvents=new lr,this.attachEvents=new lr,this.detachEvents=new lr,this.parentContexts=nn(Cv),this.location=nn(za),this.changeDetector=nn(os),this.environmentInjector=nn(Rc),this.inputBinder=nn(Xb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Qe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Qe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Qe(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Qe(4013,!1);this._activatedRoute=e;const i=this.location,c=e.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,w=new b4(e,m,i.injector);this.activated=i.createComponent(c,{index:i.length,injector:w,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ln({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_a]}),t})();class b4{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Vg?this.route:n===Cv?this.childContexts:this.parent.get(n,e)}}const Xb=new Zt("");let KI=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,i=Lb([r.queryParams,r.params,r.data]).pipe(Vt(([s,c,m],w)=>(m={...s,...c,...m},0===w?Je(m):Promise.resolve(m)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const c=function $V(t){const n=Br(t);if(!n)return null;const e=new zm(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(c)for(const{templateName:m}of c.inputs)e.activatedComponentRef.setInput(m,s[m]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();function xv(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const i=function _4(t,n,e){return n.children.map(r=>{for(const i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return xv(t,r,i);return xv(t,r)})}(t,n,e);return new rf(r,i)}{if(t.shouldAttach(n.value)){const s=t.retrieve(n.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=n.value,c.children=n.children.map(m=>xv(t,m)),c}}const r=function C4(t){return new Vg(new cn(t.url),new cn(t.params),new cn(t.queryParams),new cn(t.fragment),new cn(t.data),t.outlet,t.component,t)}(n.value),i=n.children.map(s=>xv(t,s));return new rf(r,i)}}const JC="ngNavigationCancelingError";function ZI(t,n){const{redirectTo:e,navigationBehaviorOptions:r}=ap(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=qI(!1,0,n);return i.url=e,i.navigationBehaviorOptions=r,i}function qI(t,n,e){const r=new Error("NavigationCancelingError: "+(t||""));return r[JC]=!0,r.cancellationCode=n,e&&(r.url=e),r}function QI(t){return JI(t)&&ap(t.url)}function JI(t){return t&&t[JC]}let eA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Er({type:t,selectors:[["ng-component"]],standalone:!0,features:[eT],decls:1,vars:0,template:function(e,r){1&e&&yn(0,"router-outlet")},dependencies:[QC],encapsulation:2}),t})();function ex(t){const n=t.children&&t.children.map(ex),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Sr&&(e.component=eA),e}function Xu(t){return t.outlet||Sr}function Ev(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class I4{constructor(n,e,r,i,s){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),ZC(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const i=Bg(e);n.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,i[c],r),delete i[c]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,e,r){const i=n.value,s=e?e.value:null;if(i===s)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(n,e,c.children)}else this.deactivateChildRoutes(n,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,s=Bg(n);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);if(r&&r.outlet){const c=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:c,route:n,contexts:m})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,s=Bg(n);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){const i=Bg(e);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new g4(s.value.snapshot))}),n.children.length&&this.forwardEvent(new h4(n.value.snapshot))}activateRoutes(n,e,r){const i=n.value,s=e?e.value:null;if(ZC(i),i===s)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,c.children)}else this.activateChildRoutes(n,e,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(m.contexts),c.attachRef=m.componentRef,c.route=m.route.value,c.outlet&&c.outlet.attach(m.componentRef,m.route.value),ZC(m.route.value),this.activateChildRoutes(n,null,c.children)}else{const m=Ev(i.snapshot);c.attachRef=null,c.route=i,c.injector=m,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(n,null,c.children)}}else this.activateChildRoutes(n,null,r)}}class tA{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Kb{constructor(n,e){this.component=n,this.route=e}}function A4(t,n,e){const r=t._root;return Dv(r,n?n._root:null,e,[r.value])}function Hg(t,n){const e=Symbol(),r=n.get(t,e);return r===e?"function"!=typeof t||function ac(t){return null!==Ra(t)}(t)?n.get(t):t:r}function Dv(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Bg(n);return t.children.forEach(c=>{(function N4(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,c=n?n.value:null,m=e?e.getContext(t.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const w=function R4(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!op(t.url,n.url);case"pathParamsOrQueryParamsChange":return!op(t.url,n.url)||!Gc(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qC(t,n)||!Gc(t.queryParams,n.queryParams);default:return!qC(t,n)}}(c,s,s.routeConfig.runGuardsAndResolvers);w?i.canActivateChecks.push(new tA(r)):(s.data=c.data,s._resolvedData=c._resolvedData),Dv(t,n,s.component?m?m.children:null:e,r,i),w&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new Kb(m.outlet.component,c))}else c&&Sv(n,m,i),i.canActivateChecks.push(new tA(r)),Dv(t,null,s.component?m?m.children:null:e,r,i)})(c,s[c.value.outlet],e,r.concat([c.value]),i),delete s[c.value.outlet]}),Object.entries(s).forEach(([c,m])=>Sv(m,e.getContext(c),i)),i}function Sv(t,n,e){const r=Bg(t),i=t.value;Object.entries(r).forEach(([s,c])=>{Sv(c,i.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new Kb(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Tv(t){return"function"==typeof t}function nA(t){return t instanceof Fb||"EmptyError"===t?.name}const Zb=Symbol("INITIAL_VALUE");function zg(){return Vt(t=>Lb(t.map(n=>n.pipe(Uc(1),hv(Zb)))).pipe(St(n=>{for(const e of n)if(!0!==e){if(e===Zb)return Zb;if(!1===e||e instanceof Fg)return e}return!0}),Pl(n=>n!==Zb),Uc(1)))}function rA(t){return function at(...t){return ht(t)}(ga(n=>{if(ap(n))throw ZI(0,n)}),St(n=>!0===n))}class qb{constructor(n){this.segmentGroup=n||null}}class iA{constructor(n){this.urlTree=n}}function Ug(t){return Rg(new qb(t))}function oA(t){return Rg(new iA(t))}class J4{constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new Qe(4002,!1)}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Je(r);if(i.numberOfChildren>1||!i.children[Sr])return Rg(new Qe(4e3,!1));i=i.children[Sr]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreateUrlTree(n,e,r,i){const s=this.createSegmentGroup(n,e.root,r,i);return new Fg(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Object.entries(n).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);r[i]=e[m]}else r[i]=s}),r}createSegmentGroup(n,e,r,i){const s=this.createSegments(n,e.segments,r,i);let c={};return Object.entries(e.children).forEach(([m,w])=>{c[m]=this.createSegmentGroup(n,w,r,i)}),new Si(s,c)}createSegments(n,e,r,i){return e.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,e,r){const i=r[e.path.substring(1)];if(!i)throw new Qe(4001,!1);return i}findOrReturn(n,e){let r=0;for(const i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}}const tx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ez(t,n,e,r,i){const s=nx(t,n,e);return s.matched?(r=function x4(t,n){return t.providers&&!t._injector&&(t._injector=T_(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,r),function Z4(t,n,e,r){const i=n.canMatch;return i&&0!==i.length?Je(i.map(c=>{const m=Hg(c,t);return Jf(function V4(t){return t&&Tv(t.canMatch)}(m)?m.canMatch(n,e):t.runInContext(()=>m(n,e)))})).pipe(zg(),rA()):Je(!0)}(r,n,e).pipe(St(c=>!0===c?s:{...tx}))):Je(s)}function nx(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...tx}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||O5)(e,t,n);if(!i)return{...tx};const s={};Object.entries(i.posParams??{}).forEach(([m,w])=>{s[m]=w.path});const c=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function aA(t,n,e,r){return e.length>0&&function rz(t,n,e){return e.some(r=>Qb(t,n,r)&&Xu(r)!==Sr)}(t,e,r)?{segmentGroup:new Si(n,nz(r,new Si(e,t.children))),slicedSegments:[]}:0===e.length&&function iz(t,n,e){return e.some(r=>Qb(t,n,r))}(t,e,r)?{segmentGroup:new Si(t.segments,tz(t,0,e,r,t.children)),slicedSegments:e}:{segmentGroup:new Si(t.segments,t.children),slicedSegments:e}}function tz(t,n,e,r,i){const s={};for(const c of r)if(Qb(t,e,c)&&!i[Xu(c)]){const m=new Si([],{});s[Xu(c)]=m}return{...i,...s}}function nz(t,n){const e={};e[Sr]=n;for(const r of t)if(""===r.path&&Xu(r)!==Sr){const i=new Si([],{});e[Xu(r)]=i}return e}function Qb(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class lz{constructor(n,e,r,i,s,c,m){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=c,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new J4(this.urlSerializer,this.urlTree)}noMatchError(n){return new Qe(4002,!1)}recognize(){const n=aA(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Sr).pipe(nf(e=>{if(e instanceof iA)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof qb?this.noMatchError(e):e}),St(e=>{const r=new Yb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Sr,this.rootComponentType,null,{}),i=new rf(r,e),s=new YI("",i),c=function q5(t,n,e=null,r=null){return LI(PI(t),n,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(s._root),{state:s,tree:c}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Sr).pipe(nf(r=>{throw r instanceof qb?this.noMatchError(r):r}))}inheritParamsAndData(n){const e=n.value,r=$I(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,i,!0)}processChildren(n,e,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ve(i).pipe(kg(s=>{const c=r.children[s],m=function T4(t,n){const e=t.filter(r=>Xu(r)===n);return e.push(...t.filter(r=>Xu(r)!==n)),e}(e,s);return this.processSegmentGroup(n,m,c,s)}),function T5(t,n){return it(function S5(t,n,e,r,i){return(s,c)=>{let m=e,w=n,N=0;s.subscribe(pt(c,U=>{const K=N++;w=m?t(w,U,K):(m=!0,U),r&&c.next(w)},i&&(()=>{m&&c.next(w),c.complete()})))}}(t,n,arguments.length>=2,!0))}((s,c)=>(s.push(...c),s)),Vb(null),function M5(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Pl((i,s)=>t(i,s,r)):Be,VC(1),e?Vb(n):CI(()=>new Fb))}(),qi(s=>{if(null===s)return Ug(r);const c=sA(s);return function uz(t){t.sort((n,e)=>n.value.outlet===Sr?-1:e.value.outlet===Sr?1:n.value.outlet.localeCompare(e.value.outlet))}(c),Je(c)}))}processSegment(n,e,r,i,s,c){return Ve(e).pipe(kg(m=>this.processSegmentAgainstRoute(m._injector??n,e,m,r,i,s,c).pipe(nf(w=>{if(w instanceof qb)return Je(null);throw w}))),ip(m=>!!m),nf(m=>{if(nA(m))return function az(t,n,e){return 0===n.length&&!t.children[e]}(r,i,s)?Je([]):Ug(r);throw m}))}processSegmentAgainstRoute(n,e,r,i,s,c,m){return function oz(t,n,e,r){return!!(Xu(t)===r||r!==Sr&&Qb(n,e,t))&&("**"===t.path||nx(n,t,e).matched)}(r,i,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,s,c,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,s,c):Ug(i):Ug(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,s,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?oA(s):this.applyRedirects.lineralizeSegments(r,s).pipe(qi(c=>{const m=new Si(c,{});return this.processSegment(n,e,m,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,s,c){const{matched:m,consumedSegments:w,remainingSegments:N,positionalParamSegments:U}=nx(e,i,s);if(!m)return Ug(e);const K=this.applyRedirects.applyRedirectCommands(w,i.redirectTo,U);return i.redirectTo.startsWith("/")?oA(K):this.applyRedirects.lineralizeSegments(i,K).pipe(qi(ge=>this.processSegment(n,r,e,ge.concat(N),c,!1)))}matchSegmentAgainstRoute(n,e,r,i,s,c){let m;if("**"===r.path){const w=i.length>0?EI(i).parameters:{};m=Je({snapshot:new Yb(i,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lA(r),Xu(r),r.component??r._loadedComponent??null,r,uA(r)),consumedSegments:[],remainingSegments:[]}),e.children={}}else m=ez(e,r,i,n).pipe(St(({matched:w,consumedSegments:N,remainingSegments:U,parameters:K})=>w?{snapshot:new Yb(N,K,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lA(r),Xu(r),r.component??r._loadedComponent??null,r,uA(r)),consumedSegments:N,remainingSegments:U}:null));return m.pipe(Vt(w=>null===w?Ug(e):this.getChildConfig(n=r._injector??n,r,i).pipe(Vt(({routes:N})=>{const U=r._loadedInjector??n,{snapshot:K,consumedSegments:ge,remainingSegments:be}=w,{segmentGroup:Se,slicedSegments:Fe}=aA(e,ge,be,N);if(0===Fe.length&&Se.hasChildren())return this.processChildren(U,N,Se).pipe(St(mt=>null===mt?null:[new rf(K,mt)]));if(0===N.length&&0===Fe.length)return Je([new rf(K,[])]);const nt=Xu(r)===s;return this.processSegment(U,N,Se,Fe,nt?Sr:s,!0).pipe(St(mt=>[new rf(K,mt)]))}))))}getChildConfig(n,e,r){return e.children?Je({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?Je({routes:e._loadedRoutes,injector:e._loadedInjector}):function K4(t,n,e,r){const i=n.canLoad;return void 0===i||0===i.length?Je(!0):Je(i.map(c=>{const m=Hg(c,t);return Jf(function P4(t){return t&&Tv(t.canLoad)}(m)?m.canLoad(n,e):t.runInContext(()=>m(n,e)))})).pipe(zg(),rA())}(n,e,r).pipe(qi(i=>i?this.configLoader.loadChildren(n,e).pipe(ga(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function Q4(t){return Rg(qI(!1,3))}())):Je({routes:[],injector:n})}}function cz(t){const n=t.value.routeConfig;return n&&""===n.path}function sA(t){const n=[],e=new Set;for(const r of t){if(!cz(r)){n.push(r);continue}const i=n.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):n.push(r)}for(const r of e){const i=sA(r.children);n.push(new rf(r.value,i))}return n.filter(r=>!e.has(r))}function lA(t){return t.data||{}}function uA(t){return t.resolve||{}}function cA(t){return"string"==typeof t.title||null===t.title}function rx(t){return Vt(n=>{const e=t(n);return e?Ve(e).pipe(St(()=>n)):Je(n)})}const Gg=new Zt("ROUTES");let ix=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=nn(GT)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Je(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Jf(e.loadComponent()).pipe(St(dA),ga(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Pg(()=>{this.componentLoaders.delete(e)})),i=new BC(r,()=>new It).pipe(FC());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Je({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(St(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,N;return Array.isArray(m)?N=m:(w=m.create(e).injector,N=w.get(Gg,[],Fn.Self|Fn.Optional).flat()),{routes:N.map(ex),injector:w}}),Pg(()=>{this.childrenLoaders.delete(r)})),c=new BC(s,()=>new It).pipe(FC());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(e){return Jf(e()).pipe(St(dA),qi(r=>r instanceof QS||Array.isArray(r)?Je(r):Ve(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function dA(t){return function vz(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Jb=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new It,this.configLoader=nn(ix),this.environmentInjector=nn(Rc),this.urlSerializer=nn(mv),this.rootContexts=nn(Cv),this.inputBindingEnabled=null!==nn(Xb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Je(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new d4(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new c4(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new cn({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wv,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pl(r=>0!==r.id),St(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),Vt(r=>{let i=!1,s=!1;return Je(r).pipe(ga(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Vt(c=>{const m=e.browserUrlTree.toString(),w=!e.navigated||c.extractedUrl.toString()!==m||m!==e.currentUrlTree.toString();if(!w&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const U="";return this.events.next(new _v(c.id,e.serializeUrl(r.rawUrl),U,0)),e.rawUrlTree=c.rawUrl,c.resolve(null),oa}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return fA(c.source)&&(e.browserUrlTree=c.extractedUrl),Je(c).pipe(Vt(U=>{const K=this.transitions?.getValue();return this.events.next(new WC(U.id,this.urlSerializer.serialize(U.extractedUrl),U.source,U.restoredState)),K!==this.transitions?.getValue()?oa:Promise.resolve(U)}),function dz(t,n,e,r,i,s){return qi(c=>function sz(t,n,e,r,i,s,c="emptyOnly"){return new lz(t,n,e,r,i,c,s).recognize()}(t,n,e,r,c.extractedUrl,i,s).pipe(St(({state:m,tree:w})=>({...c,targetSnapshot:m,urlAfterRedirects:w}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),ga(U=>{if(r.targetSnapshot=U.targetSnapshot,r.urlAfterRedirects=U.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:U.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!U.extras.skipLocationChange){const ge=e.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl);e.setBrowserUrl(ge,U)}e.browserUrlTree=U.urlAfterRedirects}const K=new o4(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects),U.targetSnapshot);this.events.next(K)}));if(w&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:U,extractedUrl:K,source:ge,restoredState:be,extras:Se}=c,Fe=new WC(U,this.urlSerializer.serialize(K),ge,be);this.events.next(Fe);const nt=WI(0,this.rootComponentType).snapshot;return Je(r={...c,targetSnapshot:nt,urlAfterRedirects:K,extras:{...Se,skipLocationChange:!1,replaceUrl:!1}})}{const U="";return this.events.next(new _v(c.id,e.serializeUrl(r.extractedUrl),U,1)),e.rawUrlTree=c.rawUrl,c.resolve(null),oa}}),ga(c=>{const m=new a4(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(m)}),St(c=>r={...c,guards:A4(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function z4(t,n){return qi(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?Je({...e,guardsResult:!0}):function U4(t,n,e,r){return Ve(t).pipe(qi(i=>function X4(t,n,e,r,i){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?Je(s.map(m=>{const w=Ev(n)??i,N=Hg(m,w);return Jf(function B4(t){return t&&Tv(t.canDeactivate)}(N)?N.canDeactivate(t,n,e,r):w.runInContext(()=>N(t,n,e,r))).pipe(ip())})).pipe(zg()):Je(!0)}(i.component,i.route,e,n,r)),ip(i=>!0!==i,!0))}(c,r,i,t).pipe(qi(m=>m&&function k4(t){return"boolean"==typeof t}(m)?function G4(t,n,e,r){return Ve(n).pipe(kg(i=>Bb(function W4(t,n){return null!==t&&n&&n(new f4(t)),Je(!0)}(i.route.parent,r),function j4(t,n){return null!==t&&n&&n(new p4(t)),Je(!0)}(i.route,r),function Y4(t,n,e){const r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(c=>function O4(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(c)).filter(c=>null!==c).map(c=>_I(()=>Je(c.guards.map(w=>{const N=Ev(c.node)??e,U=Hg(w,N);return Jf(function F4(t){return t&&Tv(t.canActivateChild)}(U)?U.canActivateChild(r,t):N.runInContext(()=>U(r,t))).pipe(ip())})).pipe(zg())));return Je(s).pipe(zg())}(t,i.path,e),function $4(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Je(!0);const i=r.map(s=>_I(()=>{const c=Ev(n)??e,m=Hg(s,c);return Jf(function L4(t){return t&&Tv(t.canActivate)}(m)?m.canActivate(n,t):c.runInContext(()=>m(n,t))).pipe(ip())}));return Je(i).pipe(zg())}(t,i.route,e))),ip(i=>!0!==i,!0))}(r,s,t,n):Je(m)),St(m=>({...e,guardsResult:m})))})}(this.environmentInjector,c=>this.events.next(c)),ga(c=>{if(r.guardsResult=c.guardsResult,ap(c.guardsResult))throw ZI(0,c.guardsResult);const m=new s4(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(m)}),Pl(c=>!!c.guardsResult||(e.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),rx(c=>{if(c.guards.canActivateChecks.length)return Je(c).pipe(ga(m=>{const w=new l4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}),Vt(m=>{let w=!1;return Je(m).pipe(function fz(t,n){return qi(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Je(e);let s=0;return Ve(i).pipe(kg(c=>function hz(t,n,e,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!cA(i)&&(s[pv]=i.title),function pz(t,n,e,r){const i=function gz(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Je({});const s={};return Ve(i).pipe(qi(c=>function mz(t,n,e,r){const i=Ev(n)??r,s=Hg(t,i);return Jf(s.resolve?s.resolve(n,e):i.runInContext(()=>s(n,e)))}(t[c],n,e,r).pipe(ip(),ga(m=>{s[c]=m}))),VC(1),function I5(t){return St(()=>t)}(s),nf(c=>nA(c)?oa:Rg(c)))}(s,t,n,r).pipe(St(c=>(t._resolvedData=c,t.data=$I(t,e).resolve,i&&cA(i)&&(t.data[pv]=i.title),null)))}(c.route,r,t,n)),ga(()=>s++),VC(1),qi(c=>s===i.length?Je(e):oa))})}(e.paramsInheritanceStrategy,this.environmentInjector),ga({next:()=>w=!0,complete:()=>{w||(e.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),ga(m=>{const w=new u4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}))}),rx(c=>{const m=w=>{const N=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&N.push(this.configLoader.loadComponent(w.routeConfig).pipe(ga(U=>{w.component=U}),St(()=>{})));for(const U of w.children)N.push(...m(U));return N};return Lb(m(c.targetSnapshot.root)).pipe(Vb(),Uc(1))}),rx(()=>this.afterPreactivation()),St(c=>{const m=function w4(t,n,e){const r=xv(t,n._root,e?e._root:void 0);return new jI(r,n)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:m}}),ga(c=>{e.currentUrlTree=c.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),e.routerState=c.targetRouterState,"deferred"===e.urlUpdateStrategy&&(c.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,c),e.browserUrlTree=c.urlAfterRedirects)}),((t,n,e,r)=>St(i=>(new I4(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Uc(1),ga({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new sp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Pg(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),nf(c=>{if(s=!0,JI(c)){QI(c)||(e.navigated=!0,e.restoreHistory(r,!0));const m=new $b(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(m),QI(c)){const w=e.urlHandlingStrategy.merge(c.url,e.rawUrlTree),N={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||fA(r.source)};e.scheduleNavigation(w,wv,null,N,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const m=new $C(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(e.errorHandler(c))}catch(w){r.reject(w)}}return oa}))}))}cancelNavigationTransition(e,r,i){const s=new $b(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(s),e.resolve(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fA(t){return t!==wv}let hA=(()=>{class t{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Sr);return r}getResolvedTitleForRoute(e){return e.data[pv]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(yz)},providedIn:"root"}),t})(),yz=(()=>{class t extends hA{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(e){return new(e||t)(Pt(fI))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),bz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(_z)},providedIn:"root"}),t})();class wz{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let _z=(()=>{class t extends wz{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const e0=new Zt("",{providedIn:"root",factory:()=>({})});let Cz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:function(){return nn(xz)},providedIn:"root"}),t})(),xz=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Ll=(()=>((Ll=Ll||{})[Ll.COMPLETE=0]="COMPLETE",Ll[Ll.FAILED=1]="FAILED",Ll[Ll.REDIRECTING=2]="REDIRECTING",Ll))();function pA(t,n){t.events.pipe(Pl(e=>e instanceof sp||e instanceof $b||e instanceof $C||e instanceof _v),St(e=>e instanceof sp||e instanceof _v?Ll.COMPLETE:e instanceof $b&&(0===e.code||1===e.code)?Ll.REDIRECTING:Ll.FAILED),Pl(e=>e!==Ll.REDIRECTING),Uc(1)).subscribe(()=>{n()})}function Ez(t){throw t}function Dz(t,n,e){return n.parse("/")}const Sz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let du=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=nn(UT),this.isNgZoneEnabled=!1,this.options=nn(e0,{optional:!0})||{},this.pendingTasks=nn(mb),this.errorHandler=this.options.errorHandler||Ez,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Dz,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=nn(Cz),this.routeReuseStrategy=nn(bz),this.titleStrategy=nn(hA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=nn(Gg,{optional:!0})?.flat()??[],this.navigationTransitions=nn(Jb),this.urlSerializer=nn(mv),this.location=nn(lC),this.componentInputBindingEnabled=!!nn(Xb,{optional:!0}),this.isNgZoneEnabled=nn(Yr)instanceof Yr&&Yr.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Fg,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=WI(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),wv,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const s={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const w={...i};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(s.state=w)}const m=this.parseUrl(e);this.scheduleNavigation(m,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(ex),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:s,fragment:c,queryParamsHandling:m,preserveFragment:w}=r,N=w?this.currentUrlTree.fragment:c;let K,U=null;switch(m){case"merge":U={...this.currentUrlTree.queryParams,...s};break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=s||null}null!==U&&(U=this.removeEmptyProps(U));try{K=PI(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),K=this.currentUrlTree.root}return LI(K,e,U,N??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=ap(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,wv,null,r)}navigate(e,r={skipLocationChange:!1}){return function Mz(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new Qe(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...Sz}:!1===r?{...Tz}:r,ap(e))return SI(this.currentUrlTree,e,i);const s=this.parseUrl(e);return SI(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const s=e[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(e,r,i,s,c){if(this.disposed)return Promise.resolve(!1);let m,w,N;c?(m=c.resolve,w=c.reject,N=c.promise):N=new Promise((K,ge)=>{m=K,w=ge});const U=this.pendingTasks.add();return pA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(U))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:m,reject:w,promise:N,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),N.catch(K=>Promise.reject(K))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),t0=(()=>{class t{constructor(e,r,i,s,c,m){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=c,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new It,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const w=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===w||"area"===w,this.isAnchorElement?this.subscription=e.events.subscribe(N=>{N instanceof sp&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,s,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||i||s||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function uD(t,n,e){return function Fk(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?lD:sD}(n,e)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,e,r):i.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(e){return new(e||t)(We(du),We(Vg),y("tabindex"),We(qd),We(ti),We(rp))},t.\u0275dir=ln({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,r){1&e&&Cn("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&Es("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Og],skipLocationChange:["skipLocationChange","skipLocationChange",Og],replaceUrl:["replaceUrl","replaceUrl",Og],routerLink:"routerLink"},standalone:!0,features:[g1,_a]}),t})();class gA{}let Oz=(()=>{class t{constructor(e,r,i,s,c){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Pl(e=>e instanceof sp),kg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=T_(s.providers,e,`Route: ${s.path}`));const c=s._injector??e,m=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(m,s.children??s._loadedRoutes))}return Ve(i).pipe(ki())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Je(null);const s=i.pipe(qi(c=>null===c?Je(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));return r.loadComponent&&!r._loadedComponent?Ve([s,this.loader.loadComponent(r)]).pipe(ki()):s})}}return t.\u0275fac=function(e){return new(e||t)(Pt(du),Pt(GT),Pt(Rc),Pt(gA),Pt(ix))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ox=new Zt("");let mA=(()=>{class t{constructor(e,r,i,s,c={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof WC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof sp?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof _v&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof UI&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new UI(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(e){Kw()},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();function af(t,n){return{\u0275kind:t,\u0275providers:n}}function yA(){const t=nn(zu);return n=>{const e=t.get(ep);if(n!==e.components[0])return;const r=t.get(du),i=t.get(bA);1===t.get(ax)&&r.initialNavigation(),t.get(wA,null,Fn.Optional)?.setUpPreloading(),t.get(ox,null,Fn.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const bA=new Zt("",{factory:()=>new It}),ax=new Zt("",{providedIn:"root",factory:()=>1}),wA=new Zt("");function Pz(t){return af(0,[{provide:wA,useExisting:Oz},{provide:gA,useExisting:t}])}const _A=new Zt("ROUTER_FORROOT_GUARD"),Fz=[lC,{provide:mv,useClass:HC},du,Cv,{provide:Vg,useFactory:function vA(t){return t.routerState.root},deps:[du]},ix,[]];function Bz(){return new eM("Router",du)}let CA=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[Fz,[],{provide:Gg,multi:!0,useValue:e},{provide:_A,useFactory:Uz,deps:[[du,new ns,new Vh]]},{provide:e0,useValue:r||{}},r?.useHash?{provide:rp,useClass:qV}:{provide:rp,useClass:MM},{provide:ox,useFactory:()=>{const t=nn(m3),n=nn(Yr),e=nn(e0),r=nn(Jb),i=nn(mv);return e.scrollOffset&&t.setOffset(e.scrollOffset),new mA(i,r,t,n,e)}},r?.preloadingStrategy?Pz(r.preloadingStrategy).\u0275providers:[],{provide:eM,multi:!0,useFactory:Bz},r?.initialNavigation?Gz(r):[],r?.bindToComponentInputs?af(8,[KI,{provide:Xb,useExisting:KI}]).\u0275providers:[],[{provide:xA,useFactory:yA},{provide:q_,multi:!0,useExisting:xA}]]}}static forChild(e){return{ngModule:t,providers:[{provide:Gg,multi:!0,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)(Pt(_A,8))},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({}),t})();function Uz(t){return"guarded"}function Gz(t){return["disabled"===t.initialNavigation?af(3,[{provide:G_,multi:!0,useFactory:()=>{const n=nn(du);return()=>{n.setUpLocationChangeListener()}}},{provide:ax,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?af(2,[{provide:ax,useValue:0},{provide:G_,multi:!0,deps:[zu],useFactory:n=>{const e=n.get(KV,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=n.get(du),s=n.get(bA);pA(i,()=>{r(!0)}),n.get(Jb).afterPreactivation=()=>(r(!0),s.closed?Je(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const xA=new Zt("");function Wz(t,n){1&t&&(Ye(0,"div",6)(1,"ul")(2,"li")(3,"a",7),ft(4,"Analysis"),$e()(),Ye(5,"li")(6,"a",8),ft(7,"Regression testing"),$e()(),Ye(8,"li")(9,"a",9),ft(10,"Inference"),$e()(),Ye(11,"li")(12,"a",10),ft(13,"Chat"),$e()(),Ye(14,"li")(15,"a",11),ft(16,"Home"),$e()()()())}let $z=(()=>{class t{constructor(e){this.hideComponentsService=e,this.isNavigationVisible=!1,this.isAllHidden=!1}toggleAll(){this.isAllHidden?this.hideComponentsService.showAllComponents("liger"):this.hideComponentsService.hideAllComponents("liger"),this.isAllHidden=!this.isAllHidden}showNavigation(){this.isNavigationVisible=!0}hideNavigation(){this.isNavigationVisible=!1}}return t.\u0275fac=function(e){return new(e||t)(We(vI))},t.\u0275cmp=Er({type:t,selectors:[["app-navigation"]],decls:8,vars:3,consts:[[1,"navigation",3,"mouseenter","mouseleave"],[1,"switch"],["type","checkbox",3,"change"],[1,"slider"],["class","navigation-content",4,"ngIf"],[1,"page-content"],[1,"navigation-content"],["routerLink","/demo"],["routerLink","/regression"],["routerLink","/inference"],["routerLink","/chat"],["routerLink","/home"]],template:function(e,r){1&e&&(Ye(0,"div",0),Cn("mouseenter",function(){return r.showNavigation()})("mouseleave",function(){return r.hideNavigation()}),ft(1," LiGER: "),Ye(2,"label",1)(3,"input",2),Cn("change",function(){return r.toggleAll()}),$e(),yn(4,"span",3),$e(),yr(5,Wz,17,0,"div",4),$e(),Ye(6,"div",5),yn(7,"router-outlet"),$e()),2&e&&(Ha("expanded",r.isNavigationVisible),jt(5),Xt("ngIf",r.isNavigationVisible))},dependencies:[kl,QC,t0],styles:['.navigation[_ngcontent-%COMP%]{position:fixed;left:0;top:0;width:50px;height:100vh;background-color:#fff;border:1px solid #00a9e0;transition:width .3s ease-in-out;overflow:hidden}.navigation.expanded[_ngcontent-%COMP%]{width:250px}.navigation-content[_ngcontent-%COMP%]{padding:16px;width:100%}.page-content[_ngcontent-%COMP%]{margin-left:50px;transition:margin-left .3s ease-in-out}.navigation.expanded[_ngcontent-%COMP%] ~ .page-content[_ngcontent-%COMP%]{margin-left:250px}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:square;padding-left:20px}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:2}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em;text-decoration:none;white-space:nowrap}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#2196f3;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%;transform:translate(26px)}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ccc}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(0)}']}),t})(),Yz=(()=>{class t{constructor(){this.title="gswb-client"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Er({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){1&e&&yn(0,"app-navigation")},dependencies:[$z]}),t})();function EA(...t){const n=$a(t),{args:e,keys:r}=yI(t),i=new Ke(s=>{const{length:c}=e;if(!c)return void s.complete();const m=new Array(c);let w=c,N=c;for(let U=0;U<c;U++){let K=!1;No(e[U]).subscribe(pt(s,ge=>{K||(K=!0,N--),m[U]=ge},()=>w--,void 0,()=>{(!w||!K)&&(N||s.next(r?bI(r,m):m),s.complete())}))}});return n?i.pipe(LC(n)):i}let DA=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(We(qd),We(ti))},t.\u0275dir=ln({type:t}),t})(),lp=(()=>{class t extends DA{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,features:[qn]}),t})();const Wc=new Zt("NgValueAccessor"),Xz={provide:Wc,useExisting:An(()=>n0),multi:!0};let n0=(()=>{class t extends lp{writeValue(e){this.setProperty("checked",e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,r){1&e&&Cn("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[$r([Xz]),qn]}),t})();const Kz={provide:Wc,useExisting:An(()=>jg),multi:!0},qz=new Zt("CompositionEventMode");let jg=(()=>{class t extends DA{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Zz(){const t=qf()?qf().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(We(qd),We(ti),We(qz,8))},t.\u0275dir=ln({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&Cn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[$r([Kz]),qn]}),t})();function eh(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function SA(t){return null!=t&&"number"==typeof t.length}const Ss=new Zt("NgValidators"),th=new Zt("NgAsyncValidators"),Qz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Mv{static min(n){return function TA(t){return n=>{if(eh(n.value)||eh(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function MA(t){return n=>{if(eh(n.value)||eh(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function IA(t){return eh(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function AA(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function OA(t){return eh(t.value)||Qz.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function NA(t){return n=>eh(n.value)||!SA(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function RA(t){return n=>SA(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function kA(t){if(!t)return r0;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(eh(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return HA(n)}static composeAsync(n){return zA(n)}}function r0(t){return null}function PA(t){return null!=t}function LA(t){return Km(t)?Ve(t):t}function FA(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function BA(t,n){return n.map(e=>e(t))}function VA(t){return t.map(n=>function Jz(t){return!t.validate}(n)?n:e=>n.validate(e))}function HA(t){if(!t)return null;const n=t.filter(PA);return 0==n.length?null:function(e){return FA(BA(e,n))}}function sx(t){return null!=t?HA(VA(t)):null}function zA(t){if(!t)return null;const n=t.filter(PA);return 0==n.length?null:function(e){return EA(BA(e,n).map(LA)).pipe(St(FA))}}function lx(t){return null!=t?zA(VA(t)):null}function UA(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function GA(t){return t._rawValidators}function jA(t){return t._rawAsyncValidators}function ux(t){return t?Array.isArray(t)?t:[t]:[]}function o0(t,n){return Array.isArray(t)?t.includes(n):t===n}function WA(t,n){const e=ux(n);return ux(t).forEach(i=>{o0(e,i)||e.push(i)}),e}function $A(t,n){return ux(n).filter(e=>!o0(t,e))}class YA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=sx(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=lx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class js extends YA{get formDirective(){return null}get path(){return null}}class nh extends YA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class XA{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Wg=(()=>{class t extends XA{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(We(nh,2))},t.\u0275dir=ln({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Ha("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[qn]}),t})(),cx=(()=>{class t extends XA{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(We(js,10))},t.\u0275dir=ln({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Ha("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[qn]}),t})();const Iv="VALID",s0="INVALID",$g="PENDING",Av="DISABLED";function hx(t){return(l0(t)?t.validators:t)||null}function px(t,n){return(l0(n)?n.asyncValidators:t)||null}function l0(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function ZA(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new Qe(1e3,"");if(!r[e])throw new Qe(1001,"")}function qA(t,n,e){t._forEachChild((r,i)=>{if(void 0===e[i])throw new Qe(1002,"")})}class u0{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Iv}get invalid(){return this.status===s0}get pending(){return this.status==$g}get disabled(){return this.status===Av}get enabled(){return this.status!==Av}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(WA(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(WA(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators($A(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators($A(n,this._rawAsyncValidators))}hasValidator(n){return o0(this._rawValidators,n)}hasAsyncValidator(n){return o0(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=$g,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Av,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Iv,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Iv||this.status===$g)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Av:Iv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=$g,this._hasOwnPendingAsyncValidator=!0;const e=LA(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new lr,this.statusChanges=new lr}_calculateStatus(){return this._allControlsDisabled()?Av:this.errors?s0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($g)?$g:this._anyControlsHaveStatus(s0)?s0:Iv}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){l0(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function rU(t){return Array.isArray(t)?sx(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function iU(t){return Array.isArray(t)?lx(t):t||null}(this._rawAsyncValidators)}}class Ov extends u0{constructor(n,e,r){super(hx(e),px(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){qA(this,0,n),Object.keys(n).forEach(r=>{ZA(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class QA extends Ov{}const up=new Zt("CallSetDisabledState",{providedIn:"root",factory:()=>Nv}),Nv="always";function c0(t,n){return[...n.path,t]}function Rv(t,n,e=Nv){gx(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function aU(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&JA(t,n)})}(t,n),function lU(t,n){const e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function sU(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&JA(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function oU(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function d0(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),h0(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function f0(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function gx(t,n){const e=GA(t);null!==n.validator?t.setValidators(UA(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=jA(t);null!==n.asyncValidator?t.setAsyncValidators(UA(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();f0(n._rawValidators,i),f0(n._rawAsyncValidators,i)}function h0(t,n){let e=!1;if(null!==t){if(null!==n.validator){const i=GA(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==n.validator);s.length!==i.length&&(e=!0,t.setValidators(s))}}if(null!==n.asyncValidator){const i=jA(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==n.asyncValidator);s.length!==i.length&&(e=!0,t.setAsyncValidators(s))}}}const r=()=>{};return f0(n._rawValidators,r),f0(n._rawAsyncValidators,r),e}function JA(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function vx(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function yx(t,n){if(!n)return null;let e,r,i;return Array.isArray(n),n.forEach(s=>{s.constructor===jg?e=s:function dU(t){return Object.getPrototypeOf(t.constructor)===lp}(s)?r=s:i=s}),i||r||e||null}function nO(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function rO(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Pv=class extends u0{constructor(n=null,e,r){super(hx(e),px(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),l0(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=rO(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){nO(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){nO(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){rO(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},mU={provide:nh,useExisting:An(()=>Lv)},aO=(()=>Promise.resolve())();let Lv=(()=>{class t extends nh{constructor(e,r,i,s,c,m){super(),this._changeDetectorRef=c,this.callSetDisabledState=m,this.control=new Pv,this._registered=!1,this.name="",this.update=new lr,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=yx(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),vx(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){aO.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&Og(r);aO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?c0(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(We(js,9),We(Ss,10),We(th,10),We(Wc,10),We(os,8),We(up,8))},t.\u0275dir=ln({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$r([mU]),qn,_a]}),t})(),wx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ln({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),lO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({}),t})();const _x=new Zt("NgModelWithFormControlWarning"),CU={provide:js,useExisting:An(()=>Fv)};let Fv=(()=>{class t extends js{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new lr,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(h0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Rv(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){d0(e.control||null,e,!1),function fU(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function tO(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(d0(r||null,e),(t=>t instanceof Pv)(i)&&(Rv(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function eO(t,n){gx(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function uU(t,n){return h0(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gx(this.form,this),this._oldForm&&h0(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(We(Ss,10),We(th,10),We(up,8))},t.\u0275dir=ln({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&Cn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$r([CU]),qn,_a]}),t})();const DU={provide:nh,useExisting:An(()=>p0)};let p0=(()=>{class t extends nh{set isDisabled(e){}constructor(e,r,i,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new lr,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=yx(0,s)}ngOnChanges(e){this._added||this._setUpControl(),vx(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return c0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(We(js,13),We(Ss,10),We(th,10),We(Wc,10),We(_x,8))},t.\u0275dir=ln({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[$r([DU]),qn,_a]}),t})();const SU={provide:Wc,useExisting:An(()=>Bv),multi:!0};function hO(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Bv=(()=>{class t extends lp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=hO(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function TU(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&Cn("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[$r([SU]),qn]}),t})(),Ex=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(hO(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(qd),We(Bv,9))},t.\u0275dir=ln({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const MU={provide:Wc,useExisting:An(()=>Dx),multi:!0};function pO(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Dx=(()=>{class t extends lp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(s=>this._getOptionId(s));r=(s,c)=>{s._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const c=s;for(let m=0;m<c.length;m++){const N=this._getOptionValue(c[m].value);i.push(N)}}else{const c=r.options;for(let m=0;m<c.length;m++){const w=c[m];if(w.selected){const N=this._getOptionValue(w.value);i.push(N)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function IU(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&Cn("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[$r([MU]),qn]}),t})(),Sx=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(pO(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(pO(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(qd),We(Dx,9))},t.\u0275dir=ln({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),EO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[lO]}),t})();class DO extends u0{constructor(n,e,r){super(hx(e),px(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,r={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,e={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){qA(this,0,n),n.forEach((r,i)=>{ZA(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,r)=>{n(e,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function SO(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let TO=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new t;return e.useNonNullable=!0,e}group(e,r=null){const i=this._reduceControls(e);let s={};return SO(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Ov(i,s)}record(e,r=null){const i=this._reduceControls(e);return new QA(i,r)}control(e,r,i){let s={};return this.useNonNullable?(SO(r)?s=r:(s.validators=r,s.asyncValidators=i),new Pv(e,{...s,nonNullable:!0})):new Pv(e,r,i)}array(e,r,i){const s=e.map(c=>this._createControl(c));return new DO(s,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof Pv||e instanceof u0?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),BU=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:up,useValue:e.callSetDisabledState??Nv}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[EO]}),t})(),VU=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:_x,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:up,useValue:e.callSetDisabledState??Nv}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[EO]}),t})();class g0{}class m0{}class $c{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),s=i.toLowerCase(),c=e.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof $c?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new $c;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof $c?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const i=("a"===n.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const s=n.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(m=>-1===s.indexOf(m)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const r=(Array.isArray(e)?e:[e]).map(s=>s.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class HU{encodeKey(n){return MO(n)}encodeValue(n){return MO(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const UU=/%(\d[a-f0-9])/gi,GU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MO(t){return encodeURIComponent(t).replace(UU,(n,e)=>GU[e]??n)}function v0(t){return`${t}`}class rh{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new HU,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zU(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[c,m]=-1==s?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,s)),n.decodeValue(i.slice(s+1))],w=e.get(c)||[];w.push(m),e.set(c,w)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],i=Array.isArray(r)?r.map(v0):[v0(r)];this.map.set(e,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new rh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(v0(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(v0(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class jU{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function IO(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function AO(t){return typeof Blob<"u"&&t instanceof Blob}function OO(t){return typeof FormData<"u"&&t instanceof FormData}class Vv{constructor(n,e,r,i){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function WU(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new $c),this.context||(this.context=new jU),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+c}}else this.params=new rh,this.urlWithParams=e}serializeBody(){return null===this.body?null:IO(this.body)||AO(this.body)||OO(this.body)||function $U(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||OO(this.body)?null:AO(this.body)?this.body.type||null:IO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,c=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,m=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let w=n.headers||this.headers,N=n.params||this.params;const U=n.context??this.context;return void 0!==n.setHeaders&&(w=Object.keys(n.setHeaders).reduce((K,ge)=>K.set(ge,n.setHeaders[ge]),w)),n.setParams&&(N=Object.keys(n.setParams).reduce((K,ge)=>K.set(ge,n.setParams[ge]),N)),new Vv(e,r,s,{params:N,headers:w,context:U,reportProgress:m,responseType:i,withCredentials:c})}}var ma=(()=>((ma=ma||{})[ma.Sent=0]="Sent",ma[ma.UploadProgress=1]="UploadProgress",ma[ma.ResponseHeader=2]="ResponseHeader",ma[ma.DownloadProgress=3]="DownloadProgress",ma[ma.Response=4]="Response",ma[ma.User=5]="User",ma))();class Mx{constructor(n,e=200,r="OK"){this.headers=n.headers||new $c,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Ix extends Mx{constructor(n={}){super(n),this.type=ma.ResponseHeader}clone(n={}){return new Ix({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Yg extends Mx{constructor(n={}){super(n),this.type=ma.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Yg({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class NO extends Mx{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Ax(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let y0=(()=>{class t{constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof Vv)s=e;else{let w,N;w=i.headers instanceof $c?i.headers:new $c(i.headers),i.params&&(N=i.params instanceof rh?i.params:new rh({fromObject:i.params})),s=new Vv(e,r,void 0!==i.body?i.body:null,{headers:w,context:i.context,params:N,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=Je(s).pipe(kg(w=>this.handler.handle(w)));if(e instanceof Vv||"events"===i.observe)return c;const m=c.pipe(Pl(w=>w instanceof Yg));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return m.pipe(St(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return m.pipe(St(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return m.pipe(St(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return m.pipe(St(w=>w.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new rh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Ax(i,r))}post(e,r,i={}){return this.request("POST",e,Ax(i,r))}put(e,r,i={}){return this.request("PUT",e,Ax(i,r))}}return t.\u0275fac=function(e){return new(e||t)(Pt(g0))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();function PO(t,n){return n(t)}function XU(t,n){return(e,r)=>n.intercept(e,{handle:i=>t(i,r)})}const ZU=new Zt(""),Hv=new Zt(""),LO=new Zt("");function qU(){let t=null;return(n,e)=>{null===t&&(t=(nn(ZU,{optional:!0})??[]).reduceRight(XU,PO));const r=nn(mb),i=r.add();return t(n,e).pipe(Pg(()=>r.remove(i)))}}let FO=(()=>{class t extends g0{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null,this.pendingTasks=nn(mb)}handle(e){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Hv),...this.injector.get(LO,[])]));this.chain=i.reduceRight((s,c)=>function KU(t,n,e){return(r,i)=>e.runInContext(()=>n(r,s=>t(s,i)))}(s,c,this.injector),PO)}const r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(Pg(()=>this.pendingTasks.remove(r)))}}return t.\u0275fac=function(e){return new(e||t)(Pt(m0),Pt(Rc))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const tG=/^\)\]\}',?\n/;let VO=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Qe(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Ve(r.\u0275loadImpl()):Je(null)).pipe(Vt(()=>new Ke(s=>{const c=r.build();if(c.open(e.method,e.urlWithParams),e.withCredentials&&(c.withCredentials=!0),e.headers.forEach((Fe,nt)=>c.setRequestHeader(Fe,nt.join(","))),e.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Fe=e.detectContentTypeHeader();null!==Fe&&c.setRequestHeader("Content-Type",Fe)}if(e.responseType){const Fe=e.responseType.toLowerCase();c.responseType="json"!==Fe?Fe:"text"}const m=e.serializeBody();let w=null;const N=()=>{if(null!==w)return w;const Fe=c.statusText||"OK",nt=new $c(c.getAllResponseHeaders()),mt=function nG(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(c)||e.url;return w=new Ix({headers:nt,status:c.status,statusText:Fe,url:mt}),w},U=()=>{let{headers:Fe,status:nt,statusText:mt,url:et}=N(),bt=null;204!==nt&&(bt=typeof c.response>"u"?c.responseText:c.response),0===nt&&(nt=bt?200:0);let wn=nt>=200&&nt<300;if("json"===e.responseType&&"string"==typeof bt){const Hn=bt;bt=bt.replace(tG,"");try{bt=""!==bt?JSON.parse(bt):null}catch(si){bt=Hn,wn&&(wn=!1,bt={error:si,text:bt})}}wn?(s.next(new Yg({body:bt,headers:Fe,status:nt,statusText:mt,url:et||void 0})),s.complete()):s.error(new NO({error:bt,headers:Fe,status:nt,statusText:mt,url:et||void 0}))},K=Fe=>{const{url:nt}=N(),mt=new NO({error:Fe,status:c.status||0,statusText:c.statusText||"Unknown Error",url:nt||void 0});s.error(mt)};let ge=!1;const be=Fe=>{ge||(s.next(N()),ge=!0);let nt={type:ma.DownloadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(nt.total=Fe.total),"text"===e.responseType&&c.responseText&&(nt.partialText=c.responseText),s.next(nt)},Se=Fe=>{let nt={type:ma.UploadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(nt.total=Fe.total),s.next(nt)};return c.addEventListener("load",U),c.addEventListener("error",K),c.addEventListener("timeout",K),c.addEventListener("abort",K),e.reportProgress&&(c.addEventListener("progress",be),null!==m&&c.upload&&c.upload.addEventListener("progress",Se)),c.send(m),s.next({type:ma.Sent}),()=>{c.removeEventListener("error",K),c.removeEventListener("abort",K),c.removeEventListener("load",U),c.removeEventListener("timeout",K),e.reportProgress&&(c.removeEventListener("progress",be),null!==m&&c.upload&&c.upload.removeEventListener("progress",Se)),c.readyState!==c.DONE&&c.abort()}})))}}return t.\u0275fac=function(e){return new(e||t)(Pt(XM))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();const Ox=new Zt("XSRF_ENABLED"),HO=new Zt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),zO=new Zt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class UO{}let oG=(()=>{class t{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=BM(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di),Pt(Yf),Pt(HO))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();function aG(t,n){const e=t.url.toLowerCase();if(!nn(Ox)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const r=nn(UO).getToken(),i=nn(zO);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),n(t)}var po=(()=>((po=po||{})[po.Interceptors=0]="Interceptors",po[po.LegacyInterceptors=1]="LegacyInterceptors",po[po.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",po[po.NoXsrfProtection=3]="NoXsrfProtection",po[po.JsonpSupport=4]="JsonpSupport",po[po.RequestsMadeViaParent=5]="RequestsMadeViaParent",po[po.Fetch=6]="Fetch",po))();function dp(t,n){return{\u0275kind:t,\u0275providers:n}}function sG(...t){const n=[y0,VO,FO,{provide:g0,useExisting:FO},{provide:m0,useExisting:VO},{provide:Hv,useValue:aG,multi:!0},{provide:Ox,useValue:!0},{provide:UO,useClass:oG}];for(const e of t)n.push(...e.\u0275providers);return function Tw(t){return{\u0275providers:t}}(n)}const GO=new Zt("LEGACY_INTERCEPTOR_FN");let uG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({providers:[sG(dp(po.LegacyInterceptors,[{provide:GO,useFactory:qU},{provide:Hv,useExisting:GO,multi:!0}]))]}),t})();class jO{}class gG{}const sf="*";function mG(t,n){return{type:7,name:t,definitions:n,options:{}}}function Nx(t,n=null){return{type:4,styles:n,timings:t}}function WO(t,n=null){return{type:2,steps:t,options:n}}function fp(t){return{type:6,styles:t,offset:null}}function Rx(t,n,e){return{type:0,name:t,styles:n,options:e}}function kx(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}class zv{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class $O{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++r==s&&this._onDestroy()}),c.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,m)=>Math.max(c,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function YO(t){return new Qe(3e3,!1)}function ih(t){switch(t.length){case 0:return new zv;case 1:return t[0];default:return new $O(t)}}function XO(t,n,e=new Map,r=new Map){const i=[],s=[];let c=-1,m=null;if(n.forEach(w=>{const N=w.get("offset"),U=N==c,K=U&&m||new Map;w.forEach((ge,be)=>{let Se=be,Fe=ge;if("offset"!==be)switch(Se=t.normalizePropertyName(Se,i),Fe){case"!":Fe=e.get(be);break;case sf:Fe=r.get(be);break;default:Fe=t.normalizeStyleValue(be,Se,Fe,i)}K.set(Se,Fe)}),U||s.push(K),m=K,c=N}),i.length)throw function VG(t){return new Qe(3502,!1)}();return s}function Lx(t,n,e,r){switch(n){case"start":t.onStart(()=>r(e&&Fx(e,"start",t)));break;case"done":t.onDone(()=>r(e&&Fx(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&Fx(e,"destroy",t)))}}function Fx(t,n,e){const s=Bx(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),c=t._data;return null!=c&&(s._data=c),s}function Bx(t,n,e,r,i="",s=0,c){return{element:t,triggerName:n,fromState:e,toState:r,phaseName:i,totalTime:s,disabled:!!c}}function Fl(t,n,e){let r=t.get(n);return r||t.set(n,r=e),r}function KO(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const qG=(()=>typeof document>"u"?null:document.documentElement)();function Vx(t){const n=t.parentNode||t.host||null;return n===qG?null:n}let hp=null,ZO=!1;function qO(t,n){for(;n;){if(n===t)return!0;n=Vx(n)}return!1}function QO(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const r=t.querySelector(n);return r?[r]:[]}let JO=(()=>{class t{validateStyleProperty(e){return function JG(t){hp||(hp=function e8(){return typeof document<"u"?document.body:null}()||{},ZO=!!hp.style&&"WebkitAppearance"in hp.style);let n=!0;return hp.style&&!function QG(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in hp.style,!n&&ZO&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in hp.style)),n}(e)}matchesElement(e,r){return!1}containsElement(e,r){return qO(e,r)}getParentElement(e){return Vx(e)}query(e,r,i){return QO(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,s,c,m=[],w){return new zv(i,s)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})(),Hx=(()=>{class t{}return t.NOOP=new JO,t})();const t8=1e3,zx="ng-enter",w0="ng-leave",_0="ng-trigger",C0=".ng-trigger",tN="ng-animating",Ux=".ng-animating";function lf(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Gx(parseFloat(n[1]),n[2])}function Gx(t,n){return"s"===n?t*t8:t}function x0(t,n,e){return t.hasOwnProperty("duration")?t:function r8(t,n,e){let i,s=0,c="";if("string"==typeof t){const m=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return n.push(YO()),{duration:0,delay:0,easing:""};i=Gx(parseFloat(m[1]),m[2]);const w=m[3];null!=w&&(s=Gx(parseFloat(w),m[4]));const N=m[5];N&&(c=N)}else i=t;if(!e){let m=!1,w=n.length;i<0&&(n.push(function vG(){return new Qe(3100,!1)}()),m=!0),s<0&&(n.push(function yG(){return new Qe(3101,!1)}()),m=!0),m&&n.splice(w,0,YO())}return{duration:i,delay:s,easing:c}}(t,n,e)}function Uv(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function nN(t){const n=new Map;return Object.keys(t).forEach(e=>{n.set(e,t[e])}),n}function oh(t,n=new Map,e){if(e)for(let[r,i]of e)n.set(r,i);for(let[r,i]of t)n.set(r,i);return n}function Yc(t,n,e){n.forEach((r,i)=>{const s=Wx(i);e&&!e.has(i)&&e.set(i,t.style[s]),t.style[s]=r})}function pp(t,n){n.forEach((e,r)=>{const i=Wx(r);t.style[i]=""})}function Gv(t){return Array.isArray(t)?1==t.length?t[0]:WO(t):t}const jx=new RegExp("{{\\s*(.+?)\\s*}}","g");function iN(t){let n=[];if("string"==typeof t){let e;for(;e=jx.exec(t);)n.push(e[1]);jx.lastIndex=0}return n}function jv(t,n,e){const r=t.toString(),i=r.replace(jx,(s,c)=>{let m=n[c];return null==m&&(e.push(function wG(t){return new Qe(3003,!1)}()),m=""),m.toString()});return i==r?t:i}function E0(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const a8=/-+([a-z0-9])/g;function Wx(t){return t.replace(a8,(...n)=>n[1].toUpperCase())}function Bl(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function _G(t){return new Qe(3004,!1)}()}}function oN(t,n){return window.getComputedStyle(t)[n]}const D0="*";function u8(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function c8(t,n,e){if(":"==t[0]){const w=function d8(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(function PG(t){return new Qe(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof w)return void n.push(w);t=w}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function kG(t){return new Qe(3015,!1)}()),n;const i=r[1],s=r[2],c=r[3];n.push(aN(i,c));"<"==s[0]&&!(i==D0&&c==D0)&&n.push(aN(c,i))}(r,e,n)):e.push(t),e}const S0=new Set(["true","1"]),T0=new Set(["false","0"]);function aN(t,n){const e=S0.has(t)||T0.has(t),r=S0.has(n)||T0.has(n);return(i,s)=>{let c=t==D0||t==i,m=n==D0||n==s;return!c&&e&&"boolean"==typeof i&&(c=i?S0.has(t):T0.has(t)),!m&&r&&"boolean"==typeof s&&(m=s?S0.has(n):T0.has(n)),c&&m}}const f8=new RegExp("s*:selfs*,?","g");function $x(t,n,e,r){return new h8(t).build(n,e,r)}class h8{constructor(n){this._driver=n}build(n,e,r){const i=new m8(e);return this._resetContextStyleTimingState(i),Bl(this,Gv(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,i=e.depCount=0;const s=[],c=[];return"@"==n.name.charAt(0)&&e.errors.push(function xG(){return new Qe(3006,!1)}()),n.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const w=m,N=w.name;N.toString().split(/\s*,\s*/).forEach(U=>{w.name=U,s.push(this.visitState(w,e))}),w.name=N}else if(1==m.type){const w=this.visitTransition(m,e);r+=w.queryCount,i+=w.depCount,c.push(w)}else e.errors.push(function EG(){return new Qe(3007,!1)}())}),{type:7,name:n.name,states:s,transitions:c,queryCount:r,depCount:i,options:null}}visitState(n,e){const r=this.visitStyle(n.styles,e),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const s=new Set,c=i||{};r.styles.forEach(m=>{m instanceof Map&&m.forEach(w=>{iN(w).forEach(N=>{c.hasOwnProperty(N)||s.add(N)})})}),s.size&&(E0(s.values()),e.errors.push(function DG(t,n){return new Qe(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const r=Bl(this,Gv(n.animation),e);return{type:1,matchers:u8(n.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:gp(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(r=>Bl(this,r,e)),options:gp(n.options)}}visitGroup(n,e){const r=e.currentTime;let i=0;const s=n.steps.map(c=>{e.currentTime=r;const m=Bl(this,c,e);return i=Math.max(i,e.currentTime),m});return e.currentTime=i,{type:3,steps:s,options:gp(n.options)}}visitAnimate(n,e){const r=function y8(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return Yx(x0(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Yx(0,0,"");return s.dynamic=!0,s.strValue=e,s}const i=x0(e,n);return Yx(i.duration,i.delay,i.easing)}(n.timings,e.errors);e.currentAnimateTimings=r;let i,s=n.styles?n.styles:fp({});if(5==s.type)i=this.visitKeyframes(s,e);else{let c=n.styles,m=!1;if(!c){m=!0;const N={};r.easing&&(N.easing=r.easing),c=fp(N)}e.currentTime+=r.duration+r.delay;const w=this.visitStyle(c,e);w.isEmptyStep=m,i=w}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,e){const r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let m of i)"string"==typeof m?m===sf?r.push(m):e.errors.push(new Qe(3002,!1)):r.push(nN(m));let s=!1,c=null;return r.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(c=m.get("easing"),m.delete("easing")),!s))for(let w of m.values())if(w.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:c,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,e){const r=e.currentAnimateTimings;let i=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),n.styles.forEach(c=>{"string"!=typeof c&&c.forEach((m,w)=>{const N=e.collectedStyles.get(e.currentQuerySelector),U=N.get(w);let K=!0;U&&(s!=i&&s>=U.startTime&&i<=U.endTime&&(e.errors.push(function TG(t,n,e,r,i){return new Qe(3010,!1)}()),K=!1),s=U.startTime),K&&N.set(w,{startTime:s,endTime:i}),e.options&&function o8(t,n,e){const r=n.params||{},i=iN(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||e.push(function bG(t){return new Qe(3001,!1)}())})}(m,e.options,e.errors)})})}visitKeyframes(n,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function MG(){return new Qe(3011,!1)}()),r;let s=0;const c=[];let m=!1,w=!1,N=0;const U=n.steps.map(mt=>{const et=this._makeStyleAst(mt,e);let bt=null!=et.offset?et.offset:function v8(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(et.styles),wn=0;return null!=bt&&(s++,wn=et.offset=bt),w=w||wn<0||wn>1,m=m||wn<N,N=wn,c.push(wn),et});w&&e.errors.push(function IG(){return new Qe(3012,!1)}()),m&&e.errors.push(function AG(){return new Qe(3200,!1)}());const K=n.steps.length;let ge=0;s>0&&s<K?e.errors.push(function OG(){return new Qe(3202,!1)}()):0==s&&(ge=1/(K-1));const be=K-1,Se=e.currentTime,Fe=e.currentAnimateTimings,nt=Fe.duration;return U.forEach((mt,et)=>{const bt=ge>0?et==be?1:ge*et:c[et],wn=bt*nt;e.currentTime=Se+Fe.delay+wn,Fe.duration=wn,this._validateStyleAst(mt,e),mt.offset=bt,r.styles.push(mt)}),r}visitReference(n,e){return{type:8,animation:Bl(this,Gv(n.animation),e),options:gp(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:gp(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:gp(n.options)}}visitQuery(n,e){const r=e.currentQuerySelector,i=n.options||{};e.queryCount++,e.currentQuery=n;const[s,c]=function p8(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(f8,"")),t=t.replace(/@\*/g,C0).replace(/@\w+/g,e=>C0+"-"+e.slice(1)).replace(/:animating/g,Ux),[t,n]}(n.selector);e.currentQuerySelector=r.length?r+" "+s:s,Fl(e.collectedStyles,e.currentQuerySelector,new Map);const m=Bl(this,Gv(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:m,originalSelector:n.selector,options:gp(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function NG(){return new Qe(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:x0(n.timings,e.errors,!0);return{type:12,animation:Bl(this,Gv(n.animation),e),timings:r,options:null}}}class m8{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gp(t){return t?(t=Uv(t)).params&&(t.params=function g8(t){return t?Uv(t):null}(t.params)):t={},t}function Yx(t,n,e){return{duration:t,delay:n,easing:e}}function Xx(t,n,e,r,i,s,c=null,m=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:c,subTimeline:m}}class M0{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const _8=new RegExp(":enter","g"),x8=new RegExp(":leave","g");function Kx(t,n,e,r,i,s=new Map,c=new Map,m,w,N=[]){return(new E8).buildKeyframes(t,n,e,r,i,s,c,m,w,N)}class E8{buildKeyframes(n,e,r,i,s,c,m,w,N,U=[]){N=N||new M0;const K=new Zx(n,e,N,i,s,U,[]);K.options=w;const ge=w.delay?lf(w.delay):0;K.currentTimeline.delayNextStep(ge),K.currentTimeline.setStyles([c],null,K.errors,w),Bl(this,r,K);const be=K.timelines.filter(Se=>Se.containsAnimation());if(be.length&&m.size){let Se;for(let Fe=be.length-1;Fe>=0;Fe--){const nt=be[Fe];if(nt.element===e){Se=nt;break}}Se&&!Se.allowOnlyTimelineStyles()&&Se.setStyles([m],null,K.errors,w)}return be.length?be.map(Se=>Se.buildKeyframes()):[Xx(e,[],[],[],0,ge,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(n.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=n}visitAnimateRef(n,e){const r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,r),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,r){for(const i of n){const s=i?.delay;if(s){const c="number"==typeof s?s:lf(jv(s,i?.params??{},e.errors));r.delayNextStep(c)}}}_visitSubInstructions(n,e,r){let s=e.currentTimeline.currentTime;const c=null!=r.duration?lf(r.duration):null,m=null!=r.delay?lf(r.delay):null;return 0!==c&&n.forEach(w=>{const N=e.appendInstructionToTimeline(w,c,m);s=Math.max(s,N.duration+N.delay)}),s}visitReference(n,e){e.updateOptions(n.options,!0),Bl(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const r=e.subContextCount;let i=e;const s=n.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=I0);const c=lf(s.delay);i.delayNextStep(c)}n.steps.length&&(n.steps.forEach(c=>Bl(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const r=[];let i=e.currentTimeline.currentTime;const s=n.options&&n.options.delay?lf(n.options.delay):0;n.steps.forEach(c=>{const m=e.createSubContext(n.options);s&&m.delayNextStep(s),Bl(this,c,m),i=Math.max(i,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(i),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const r=n.strValue;return x0(e.params?jv(r,e.params,e.errors):r,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const r=e.currentAnimateTimings=this._visitTiming(n.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(r.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(s):r.setStyles(n.styles,s,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,s=r.duration,m=e.createSubContext().currentTimeline;m.easing=r.easing,n.styles.forEach(w=>{m.forwardTime((w.offset||0)*s),m.setStyles(w.styles,w.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(i+s),e.previousNode=n}visitQuery(n,e){const r=e.currentTimeline.currentTime,i=n.options||{},s=i.delay?lf(i.delay):0;s&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=I0);let c=r;const m=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=m.length;let w=null;m.forEach((N,U)=>{e.currentQueryIndex=U;const K=e.createSubContext(n.options,N);s&&K.delayNextStep(s),N===e.element&&(w=K.currentTimeline),Bl(this,n.animation,K),K.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,K.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),w&&(e.currentTimeline.mergeTimelineCollectedStyles(w),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const r=e.parentContext,i=e.currentTimeline,s=n.timings,c=Math.abs(s.duration),m=c*(e.currentQueryTotal-1);let w=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":w=m-w;break;case"full":w=r.currentStaggerTime}const U=e.currentTimeline;w&&U.delayNextStep(w);const K=U.currentTime;Bl(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=i.currentTime-K+(i.startTime-r.currentTimeline.startTime)}}const I0={};class Zx{constructor(n,e,r,i,s,c,m,w){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=c,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=I0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new A0(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=lf(r.duration)),null!=r.delay&&(i.delay=lf(r.delay));const s=r.params;if(s){let c=i.params;c||(c=this.options.params={}),Object.keys(s).forEach(m=>{(!e||!c.hasOwnProperty(m))&&(c[m]=jv(s[m],c,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const r=n.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return n}createSubContext(n=null,e,r){const i=e||this.element,s=new Zx(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=I0,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){const i={duration:e??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},s=new D8(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,i,s,c){let m=[];if(i&&m.push(this.element),n.length>0){n=(n=n.replace(_8,"."+this._enterClassName)).replace(x8,"."+this._leaveClassName);let N=this._driver.query(this.element,n,1!=r);0!==r&&(N=r<0?N.slice(N.length+r,N.length):N.slice(0,r)),m.push(...N)}return!s&&0==m.length&&c.push(function RG(t){return new Qe(3014,!1)}()),m}}class A0{constructor(n,e,r,i){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new A0(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||sf),this._currentKeyframe.set(e,sf);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,i){e&&this._previousKeyframe.set("easing",e);const s=i&&i.params||{},c=function S8(t,n){const e=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||n.keys();for(let s of r)e.set(s,sf)}else oh(i,e)}),e}(n,this._globalTimelineStyles);for(let[m,w]of c){const N=jv(w,s,r);this._pendingStyles.set(m,N),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??sf),this._updateStyle(m,N)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((m,w)=>{const N=oh(m,new Map,this._backFill);N.forEach((U,K)=>{"!"===U?n.add(K):U===sf&&e.add(K)}),r||N.set("offset",w/this.duration),i.push(N)});const s=n.size?E0(n.values()):[],c=e.size?E0(e.values()):[];if(r){const m=i[0],w=new Map(m);m.set("offset",0),w.set("offset",1),i=[m,w]}return Xx(this.element,i,s,c,this.duration,this.startTime,this.easing,!1)}}class D8 extends A0{constructor(n,e,r,i,s,c,m=!1){super(n,e,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=m,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=r+e,m=e/c,w=oh(n[0]);w.set("offset",0),s.push(w);const N=oh(n[0]);N.set("offset",uN(m)),s.push(N);const U=n.length-1;for(let K=1;K<=U;K++){let ge=oh(n[K]);const be=ge.get("offset");ge.set("offset",uN((e+be*r)/c)),s.push(ge)}r=c,e=0,i="",n=s}return Xx(this.element,n,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function uN(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class qx{}const T8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class M8 extends qx{normalizePropertyName(n,e){return Wx(n)}normalizeStyleValue(n,e,r,i){let s="";const c=r.toString().trim();if(T8.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&i.push(function CG(t,n){return new Qe(3005,!1)}())}return c+s}}function cN(t,n,e,r,i,s,c,m,w,N,U,K,ge){return{type:0,element:t,triggerName:n,isRemovalTransition:i,fromState:e,fromStyles:s,toState:r,toStyles:c,timelines:m,queriedElements:w,preStyleProps:N,postStyleProps:U,totalTime:K,errors:ge}}const Qx={};class dN{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,i){return function I8(t,n,e,r,i){return t.some(s=>s(n,e,r,i))}(this.ast.matchers,n,e,r,i)}buildStyles(n,e,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(e,r):new Map}build(n,e,r,i,s,c,m,w,N,U){const K=[],ge=this.ast.options&&this.ast.options.params||Qx,Se=this.buildStyles(r,m&&m.params||Qx,K),Fe=w&&w.params||Qx,nt=this.buildStyles(i,Fe,K),mt=new Set,et=new Map,bt=new Map,wn="void"===i,Hn={params:A8(Fe,ge),delay:this.ast.options?.delay},si=U?[]:Kx(n,e,this.ast.animation,s,c,Se,nt,Hn,N,K);let ut=0;if(si.forEach(dl=>{ut=Math.max(dl.duration+dl.delay,ut)}),K.length)return cN(e,this._triggerName,r,i,wn,Se,nt,[],[],et,bt,ut,K);si.forEach(dl=>{const ra=dl.element,dy=Fl(et,ra,new Set);dl.preStyleProps.forEach(qc=>dy.add(qc));const uh=Fl(bt,ra,new Set);dl.postStyleProps.forEach(qc=>uh.add(qc)),ra!==e&&mt.add(ra)});const Ys=E0(mt.values());return cN(e,this._triggerName,r,i,wn,Se,nt,si,Ys,et,bt,ut)}}function A8(t,n){const e=Uv(n);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(e[r]=t[r]);return e}class O8{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){const r=new Map,i=Uv(this.defaultParams);return Object.keys(n).forEach(s=>{const c=n[s];null!==c&&(i[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,m)=>{c&&(c=jv(c,i,e));const w=this.normalizer.normalizePropertyName(m,e);c=this.normalizer.normalizeStyleValue(m,w,c,e),r.set(m,c)})}),r}}class R8{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new O8(i.style,i.options&&i.options.params||{},r))}),fN(this.states,"true","1"),fN(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new dN(n,i,this.states))}),this.fallbackTransition=function k8(t,n,e){return new dN(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,m)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,i){return this.transitionFactories.find(c=>c.match(n,e,r,i))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}}function fN(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const P8=new M0;class L8{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const r=[],s=$x(this._driver,e,r,[]);if(r.length)throw function HG(t){return new Qe(3503,!1)}();this._animations.set(n,s)}_buildPlayer(n,e,r){const i=n.element,s=XO(this._normalizer,n.keyframes,e,r);return this._driver.animate(i,s,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){const i=[],s=this._animations.get(n);let c;const m=new Map;if(s?(c=Kx(this._driver,e,s,zx,w0,new Map,new Map,r,P8,i),c.forEach(U=>{const K=Fl(m,U.element,new Map);U.postStyleProps.forEach(ge=>K.set(ge,null))})):(i.push(function zG(){return new Qe(3300,!1)}()),c=[]),i.length)throw function UG(t){return new Qe(3504,!1)}();m.forEach((U,K)=>{U.forEach((ge,be)=>{U.set(be,this._driver.computeStyle(K,be,sf))})});const N=ih(c.map(U=>{const K=m.get(U.element);return this._buildPlayer(U,new Map,K)}));return this._playersById.set(n,N),N.onDestroy(()=>this.destroy(n)),this.players.push(N),N}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function GG(t){return new Qe(3301,!1)}();return e}listen(n,e,r,i){const s=Bx(e,"","","");return Lx(this._getPlayer(n),r,s,i),()=>{}}command(n,e,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,e,i[0]||{});const s=this._getPlayer(n);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const hN="ng-animate-queued",Jx="ng-animate-disabled",z8=[],pN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},U8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fu="__ng_removed";class eE{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const r=n&&n.hasOwnProperty("value");if(this.value=function $8(t){return t??null}(r?n.value:n),r){const s=Uv(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Wv="void",tE=new eE(Wv);class G8{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,hu(e,this._hostClassName)}listen(n,e,r,i){if(!this._triggers.has(e))throw function jG(t,n){return new Qe(3302,!1)}();if(null==r||0==r.length)throw function WG(t){return new Qe(3303,!1)}();if(!function Y8(t){return"start"==t||"done"==t}(r))throw function $G(t,n){return new Qe(3400,!1)}();const s=Fl(this._elementListeners,n,[]),c={name:e,phase:r,callback:i};s.push(c);const m=Fl(this._engine.statesByElement,n,new Map);return m.has(e)||(hu(n,_0),hu(n,_0+"-"+e),m.set(e,tE)),()=>{this._engine.afterFlush(()=>{const w=s.indexOf(c);w>=0&&s.splice(w,1),this._triggers.has(e)||m.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function YG(t){return new Qe(3401,!1)}();return e}trigger(n,e,r,i=!0){const s=this._getTrigger(e),c=new nE(this.id,e,n);let m=this._engine.statesByElement.get(n);m||(hu(n,_0),hu(n,_0+"-"+e),this._engine.statesByElement.set(n,m=new Map));let w=m.get(e);const N=new eE(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&w&&N.absorbOptions(w.options),m.set(e,N),w||(w=tE),N.value!==Wv&&w.value===N.value){if(!function Z8(t,n){const e=Object.keys(t),r=Object.keys(n);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const s=e[i];if(!n.hasOwnProperty(s)||t[s]!==n[s])return!1}return!0}(w.params,N.params)){const Fe=[],nt=s.matchStyles(w.value,w.params,Fe),mt=s.matchStyles(N.value,N.params,Fe);Fe.length?this._engine.reportError(Fe):this._engine.afterFlush(()=>{pp(n,nt),Yc(n,mt)})}return}const ge=Fl(this._engine.playersByElement,n,[]);ge.forEach(Fe=>{Fe.namespaceId==this.id&&Fe.triggerName==e&&Fe.queued&&Fe.destroy()});let be=s.matchTransition(w.value,N.value,n,N.params),Se=!1;if(!be){if(!i)return;be=s.fallbackTransition,Se=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:be,fromState:w,toState:N,player:c,isFallbackTransition:Se}),Se||(hu(n,hN),c.onStart(()=>{Xg(n,hN)})),c.onDone(()=>{let Fe=this.players.indexOf(c);Fe>=0&&this.players.splice(Fe,1);const nt=this._engine.playersByElement.get(n);if(nt){let mt=nt.indexOf(c);mt>=0&&nt.splice(mt,1)}}),this.players.push(c),ge.push(c),c}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const r=this._engine.driver.query(n,C0,!0);r.forEach(i=>{if(i[fu])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(c=>c.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,e,r,i){const s=this._engine.statesByElement.get(n),c=new Map;if(s){const m=[];if(s.forEach((w,N)=>{if(c.set(N,w.value),this._triggers.has(N)){const U=this.trigger(n,N,Wv,i);U&&m.push(U)}}),m.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,c),r&&ih(m).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){const i=new Set;e.forEach(s=>{const c=s.name;if(i.has(c))return;i.add(c);const w=this._triggers.get(c).fallbackTransition,N=r.get(c)||tE,U=new eE(Wv),K=new nE(this.id,c,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:c,transition:w,fromState:N,toState:U,player:K,isFallbackTransition:!0})})}}removeNode(n,e){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(n):[];if(s&&s.length)i=!0;else{let c=n;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,e);else{const s=n[fu];(!s||s===pN)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){hu(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,c=this._elementListeners.get(s);c&&c.forEach(m=>{if(m.name==r.triggerName){const w=Bx(s,r.triggerName,r.fromState.value,r.toState.value);w._data=n,Lx(r.player,m.phase,w,m.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const s=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(r=>r.element===n)||e,e}}class j8{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,r){this.bodyNode=n,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){const r=new G8(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,m=this.driver.getParentElement(e);for(;m;){const w=i.get(m);if(w){const N=r.indexOf(w);r.splice(N+1,0,n),c=!0;break}m=this.driver.getParentElement(m)}c||r.unshift(n)}else r.push(n);return i.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let i=this._namespaceLookup[n];i&&i.register(e,r)&&this.totalAnimations++}destroy(n,e){if(!n)return;const r=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[n];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&e.add(s)}return e}trigger(n,e,r,i){if(O0(e)){const s=this._fetchNamespace(n);if(s)return s.trigger(e,r,i),!0}return!1}insertNode(n,e,r,i){if(!O0(e))return;const s=e[fu];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(n){const c=this._fetchNamespace(n);c&&c.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),hu(n,Jx)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Xg(n,Jx))}removeNode(n,e,r){if(O0(e)){const i=n?this._fetchNamespace(n):null;i?i.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r);const s=this.namespacesByHostElement.get(e);s&&s.id!==n&&s.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,r,i,s){this.collectedLeaveElements.push(e),e[fu]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,e,r,i,s){return O0(e)?this._fetchNamespace(n).listen(e,r,i,s):()=>{}}_buildInstruction(n,e,r,i,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,e,s)}destroyInnerAnimations(n){let e=this.driver.query(n,C0,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,Ux,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return ih(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[fu];if(e&&e.setForRemoval){if(n[fu]=pN,e.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(Jx)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)hu(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?ih(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function XG(t){return new Qe(3402,!1)}()}_flushAnimations(n,e){const r=new M0,i=[],s=new Map,c=[],m=new Map,w=new Map,N=new Map,U=new Set;this.disabledNodes.forEach(On=>{U.add(On);const jn=this.driver.query(On,".ng-animate-queued",!0);for(let Qn=0;Qn<jn.length;Qn++)U.add(jn[Qn])});const K=this.bodyNode,ge=Array.from(this.statesByElement.keys()),be=vN(ge,this.collectedEnterElements),Se=new Map;let Fe=0;be.forEach((On,jn)=>{const Qn=zx+Fe++;Se.set(jn,Qn),On.forEach(br=>hu(br,Qn))});const nt=[],mt=new Set,et=new Set;for(let On=0;On<this.collectedLeaveElements.length;On++){const jn=this.collectedLeaveElements[On],Qn=jn[fu];Qn&&Qn.setForRemoval&&(nt.push(jn),mt.add(jn),Qn.hasAnimation?this.driver.query(jn,".ng-star-inserted",!0).forEach(br=>mt.add(br)):et.add(jn))}const bt=new Map,wn=vN(ge,Array.from(mt));wn.forEach((On,jn)=>{const Qn=w0+Fe++;bt.set(jn,Qn),On.forEach(br=>hu(br,Qn))}),n.push(()=>{be.forEach((On,jn)=>{const Qn=Se.get(jn);On.forEach(br=>Xg(br,Qn))}),wn.forEach((On,jn)=>{const Qn=bt.get(jn);On.forEach(br=>Xg(br,Qn))}),nt.forEach(On=>{this.processLeaveNode(On)})});const Hn=[],si=[];for(let On=this._namespaceList.length-1;On>=0;On--)this._namespaceList[On].drainQueuedTransitions(e).forEach(Qn=>{const br=Qn.player,ia=Qn.element;if(Hn.push(br),this.collectedEnterElements.length){const Ga=ia[fu];if(Ga&&Ga.setForMove){if(Ga.previousTriggersValues&&Ga.previousTriggersValues.has(Qn.triggerName)){const qu=Ga.previousTriggersValues.get(Qn.triggerName),Xs=this.statesByElement.get(Qn.element);if(Xs&&Xs.has(Qn.triggerName)){const Cp=Xs.get(Qn.triggerName);Cp.value=qu,Xs.set(Qn.triggerName,Cp)}}return void br.destroy()}}const Vl=!K||!this.driver.containsElement(K,ia),Ua=bt.get(ia),Qc=Se.get(ia),Xi=this._buildInstruction(Qn,r,Qc,Ua,Vl);if(Xi.errors&&Xi.errors.length)return void si.push(Xi);if(Vl)return br.onStart(()=>pp(ia,Xi.fromStyles)),br.onDestroy(()=>Yc(ia,Xi.toStyles)),void i.push(br);if(Qn.isFallbackTransition)return br.onStart(()=>pp(ia,Xi.fromStyles)),br.onDestroy(()=>Yc(ia,Xi.toStyles)),void i.push(br);const fy=[];Xi.timelines.forEach(Ga=>{Ga.stretchStartingKeyframe=!0,this.disabledNodes.has(Ga.element)||fy.push(Ga)}),Xi.timelines=fy,r.append(ia,Xi.timelines),c.push({instruction:Xi,player:br,element:ia}),Xi.queriedElements.forEach(Ga=>Fl(m,Ga,[]).push(br)),Xi.preStyleProps.forEach((Ga,qu)=>{if(Ga.size){let Xs=w.get(qu);Xs||w.set(qu,Xs=new Set),Ga.forEach((Cp,lm)=>Xs.add(lm))}}),Xi.postStyleProps.forEach((Ga,qu)=>{let Xs=N.get(qu);Xs||N.set(qu,Xs=new Set),Ga.forEach((Cp,lm)=>Xs.add(lm))})});if(si.length){const On=[];si.forEach(jn=>{On.push(function KG(t,n){return new Qe(3505,!1)}())}),Hn.forEach(jn=>jn.destroy()),this.reportError(On)}const ut=new Map,Ys=new Map;c.forEach(On=>{const jn=On.element;r.has(jn)&&(Ys.set(jn,jn),this._beforeAnimationBuild(On.player.namespaceId,On.instruction,ut))}),i.forEach(On=>{const jn=On.element;this._getPreviousPlayers(jn,!1,On.namespaceId,On.triggerName,null).forEach(br=>{Fl(ut,jn,[]).push(br),br.destroy()})});const dl=nt.filter(On=>bN(On,w,N)),ra=new Map;mN(ra,this.driver,et,N,sf).forEach(On=>{bN(On,w,N)&&dl.push(On)});const uh=new Map;be.forEach((On,jn)=>{mN(uh,this.driver,new Set(On),w,"!")}),dl.forEach(On=>{const jn=ra.get(On),Qn=uh.get(On);ra.set(On,new Map([...jn?.entries()??[],...Qn?.entries()??[]]))});const qc=[],sm=[],rw={};c.forEach(On=>{const{element:jn,player:Qn,instruction:br}=On;if(r.has(jn)){if(U.has(jn))return Qn.onDestroy(()=>Yc(jn,br.toStyles)),Qn.disabled=!0,Qn.overrideTotalTime(br.totalTime),void i.push(Qn);let ia=rw;if(Ys.size>1){let Ua=jn;const Qc=[];for(;Ua=Ua.parentNode;){const Xi=Ys.get(Ua);if(Xi){ia=Xi;break}Qc.push(Ua)}Qc.forEach(Xi=>Ys.set(Xi,ia))}const Vl=this._buildAnimation(Qn.namespaceId,br,ut,s,uh,ra);if(Qn.setRealPlayer(Vl),ia===rw)qc.push(Qn);else{const Ua=this.playersByElement.get(ia);Ua&&Ua.length&&(Qn.parentPlayer=ih(Ua)),i.push(Qn)}}else pp(jn,br.fromStyles),Qn.onDestroy(()=>Yc(jn,br.toStyles)),sm.push(Qn),U.has(jn)&&i.push(Qn)}),sm.forEach(On=>{const jn=s.get(On.element);if(jn&&jn.length){const Qn=ih(jn);On.setRealPlayer(Qn)}}),i.forEach(On=>{On.parentPlayer?On.syncPlayerEvents(On.parentPlayer):On.destroy()});for(let On=0;On<nt.length;On++){const jn=nt[On],Qn=jn[fu];if(Xg(jn,w0),Qn&&Qn.hasAnimation)continue;let br=[];if(m.size){let Vl=m.get(jn);Vl&&Vl.length&&br.push(...Vl);let Ua=this.driver.query(jn,Ux,!0);for(let Qc=0;Qc<Ua.length;Qc++){let Xi=m.get(Ua[Qc]);Xi&&Xi.length&&br.push(...Xi)}}const ia=br.filter(Vl=>!Vl.destroyed);ia.length?X8(this,jn,ia):this.processLeaveNode(jn)}return nt.length=0,qc.forEach(On=>{this.players.push(On),On.onDone(()=>{On.destroy();const jn=this.players.indexOf(On);this.players.splice(jn,1)}),On.play()}),qc}elementContainsData(n,e){let r=!1;const i=e[fu];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(n).elementContainsData(e)||r}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,i,s){let c=[];if(e){const m=this.playersByQueriedElement.get(n);m&&(c=m)}else{const m=this.playersByElement.get(n);if(m){const w=!s||s==Wv;m.forEach(N=>{N.queued||!w&&N.triggerName!=i||c.push(N)})}}return(r||i)&&(c=c.filter(m=>!(r&&r!=m.namespaceId||i&&i!=m.triggerName))),c}_beforeAnimationBuild(n,e,r){const s=e.element,c=e.isRemovalTransition?void 0:n,m=e.isRemovalTransition?void 0:e.triggerName;for(const w of e.timelines){const N=w.element,U=N!==s,K=Fl(r,N,[]);this._getPreviousPlayers(N,U,c,m,e.toState).forEach(be=>{const Se=be.getRealPlayer();Se.beforeDestroy&&Se.beforeDestroy(),be.destroy(),K.push(be)})}pp(s,e.fromStyles)}_buildAnimation(n,e,r,i,s,c){const m=e.triggerName,w=e.element,N=[],U=new Set,K=new Set,ge=e.timelines.map(Se=>{const Fe=Se.element;U.add(Fe);const nt=Fe[fu];if(nt&&nt.removedBeforeQueried)return new zv(Se.duration,Se.delay);const mt=Fe!==w,et=function K8(t){const n=[];return yN(t,n),n}((r.get(Fe)||z8).map(ut=>ut.getRealPlayer())).filter(ut=>!!ut.element&&ut.element===Fe),bt=s.get(Fe),wn=c.get(Fe),Hn=XO(this._normalizer,Se.keyframes,bt,wn),si=this._buildPlayer(Se,Hn,et);if(Se.subTimeline&&i&&K.add(Fe),mt){const ut=new nE(n,m,Fe);ut.setRealPlayer(si),N.push(ut)}return si});N.forEach(Se=>{Fl(this.playersByQueriedElement,Se.element,[]).push(Se),Se.onDone(()=>function W8(t,n,e){let r=t.get(n);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&t.delete(n)}return r}(this.playersByQueriedElement,Se.element,Se))}),U.forEach(Se=>hu(Se,tN));const be=ih(ge);return be.onDestroy(()=>{U.forEach(Se=>Xg(Se,tN)),Yc(w,e.toStyles)}),K.forEach(Se=>{Fl(i,Se,[]).push(be)}),be}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new zv(n.duration,n.delay)}}class nE{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new zv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>Lx(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Fl(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function O0(t){return t&&1===t.nodeType}function gN(t,n){const e=t.style.display;return t.style.display=n??"none",e}function mN(t,n,e,r,i){const s=[];e.forEach(w=>s.push(gN(w)));const c=[];r.forEach((w,N)=>{const U=new Map;w.forEach(K=>{const ge=n.computeStyle(N,K,i);U.set(K,ge),(!ge||0==ge.length)&&(N[fu]=U8,c.push(N))}),t.set(N,U)});let m=0;return e.forEach(w=>gN(w,s[m++])),c}function vN(t,n){const e=new Map;if(t.forEach(m=>e.set(m,[])),0==n.length)return e;const i=new Set(n),s=new Map;function c(m){if(!m)return 1;let w=s.get(m);if(w)return w;const N=m.parentNode;return w=e.has(N)?N:i.has(N)?1:c(N),s.set(m,w),w}return n.forEach(m=>{const w=c(m);1!==w&&e.get(w).push(m)}),e}function hu(t,n){t.classList?.add(n)}function Xg(t,n){t.classList?.remove(n)}function X8(t,n,e){ih(e).onDone(()=>t.processLeaveNode(n))}function yN(t,n){for(let e=0;e<t.length;e++){const r=t[e];r instanceof $O?yN(r.players,n):n.push(r)}}function bN(t,n,e){const r=e.get(t);if(!r)return!1;let i=n.get(t);return i?r.forEach(s=>i.add(s)):n.set(t,r),e.delete(t),!0}class N0{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new j8(n,e,r),this._timelineEngine=new L8(n,e,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(n,e,r,i,s){const c=n+"-"+i;let m=this._triggerCache[c];if(!m){const w=[],U=$x(this._driver,s,w,[]);if(w.length)throw function BG(t,n){return new Qe(3404,!1)}();m=function N8(t,n,e){return new R8(t,n,e)}(i,U,this._normalizer),this._triggerCache[c]=m}this._transitionEngine.registerTrigger(e,i,m)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,i){this._transitionEngine.insertNode(n,e,r,i)}onRemove(n,e,r){this._transitionEngine.removeNode(n,e,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,i){if("@"==r.charAt(0)){const[s,c]=KO(r);this._timelineEngine.command(s,e,c,i)}else this._transitionEngine.trigger(n,e,r,i)}listen(n,e,r,i,s){if("@"==r.charAt(0)){const[c,m]=KO(r);return this._timelineEngine.listen(c,e,m,s)}return this._transitionEngine.listen(n,e,r,i,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let Q8=(()=>{class t{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(e);s||t.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Yc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yc(this._element,this._initialStyles),this._endStyles&&(Yc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(pp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pp(this._element,this._endStyles),this._endStyles=null),Yc(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function rE(t){let n=null;return t.forEach((e,r)=>{(function J8(t){return"display"===t||"position"===t})(r)&&(n=n||new Map,n.set(r,e))}),n}class wN{constructor(n,e,r,i){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(n,e,r){return n.animate(this._convertKeyframesToObject(e),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:oN(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class ej{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return qO(n,e)}getParentElement(n){return Vx(n)}query(n,e,r){return QO(n,e,r)}computeStyle(n,e,r){return window.getComputedStyle(n)[e]}animate(n,e,r,i,s,c=[]){const w={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(w.easing=s);const N=new Map,U=c.filter(be=>be instanceof wN);(function s8(t,n){return 0===t||0===n})(r,i)&&U.forEach(be=>{be.currentSnapshot.forEach((Se,Fe)=>N.set(Fe,Se))});let K=function i8(t){return t.length?t[0]instanceof Map?t:t.map(n=>nN(n)):[]}(e).map(be=>oh(be));K=function l8(t,n,e){if(e.size&&n.length){let r=n[0],i=[];if(e.forEach((s,c)=>{r.has(c)||i.push(c),r.set(c,s)}),i.length)for(let s=1;s<n.length;s++){let c=n[s];i.forEach(m=>c.set(m,oN(t,m)))}}return n}(n,K,N);const ge=function q8(t,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=rE(n[0]),n.length>1&&(r=rE(n[n.length-1]))):n instanceof Map&&(e=rE(n)),e||r?new Q8(t,e,r):null}(n,K);return new wN(n,K,w,ge)}}let tj=(()=>{class t extends jO{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:ya.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?WO(e):e;return _N(this._renderer,null,r,"register",[i]),new nj(r,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Lm),Pt(Di))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();class nj extends gG{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new rj(this._id,n,e||{},this._renderer)}}class rj{constructor(n,e,r,i){this.id=n,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return _N(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function _N(t,n,e,r,i){return t.setProperty(n,`@@${e}:${r}`,i)}const CN="@.disabled";let ij=(()=>{class t{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,c)=>{const m=c?.parentNode(s);m&&c.removeChild(m,s)}}createRenderer(e,r){const s=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let U=this._rendererCache.get(s);return U||(U=new xN("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,U)),U}const c=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const w=U=>{Array.isArray(U)?U.forEach(w):this.engine.registerTrigger(c,m,e,U.name,U)};return r.data.animation.forEach(w),new oj(this,m,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,m]=s;c(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Pt(Lm),Pt(N0),Pt(Yr))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})();class xN{constructor(n,e,r,i){this.namespaceId=n,this.delegate=e,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,i=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,i)}removeChild(n,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,i){this.delegate.setAttribute(n,e,r,i)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,i){this.delegate.setStyle(n,e,r,i)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){"@"==e.charAt(0)&&e==CN?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class oj extends xN{constructor(n,e,r,i,s){super(e,r,i,s),this.factory=n,this.namespaceId=e}setProperty(n,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==CN?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,e.slice(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if("@"==e.charAt(0)){const i=function aj(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let s=e.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function sj(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(s)),this.engine.listen(this.namespaceId,i,s,c,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(n,e,r)}}const EN=[{provide:jO,useClass:tj},{provide:qx,useFactory:function uj(){return new M8}},{provide:N0,useClass:(()=>{class t extends N0{constructor(e,r,i,s){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(Pt(Di),Pt(Hx),Pt(qx),Pt(ep))},t.\u0275prov=an({token:t,factory:t.\u0275fac}),t})()},{provide:Lm,useFactory:function cj(t,n,e){return new ij(t,n,e)},deps:[NC,N0,Yr]}],iE=[{provide:Hx,useFactory:()=>new ej},{provide:kc,useValue:"BrowserAnimations"},...EN],DN=[{provide:Hx,useClass:JO},{provide:kc,useValue:"NoopAnimations"},...EN];let dj=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?DN:iE}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({providers:iE,imports:[dI]}),t})(),Kg=(()=>{class t{constructor(e){this.http=e,this.vampirepage="http://localhost:8082",this.gswbpage="http://localhost:8081",this.ligerpage="http://localhost:8080"}gswbDeduce(e){return this.http.post(`${this.gswbpage}/deduce`,e)}gswbBatchDeduce(e){return this.http.post(`${this.gswbpage}/gswb_batch_proof`,e)}ligerAnnotate(e){return this.http.post(`${this.ligerpage}/apply_rules_xle`,e)}ligerMulti(e){return this.http.post(`${this.ligerpage}/parse_xle`,e)}ligerBatchAnnotate(e){return this.http.post(`${this.ligerpage}/apply_rules_to_batch`,e)}ligerBatchMultistage(e){return this.http.post(`${this.ligerpage}/multistage_to_batch`,e)}getFileTree(e){return this.http.post(`${this.ligerpage}/list_grammars1`,e)}changeGrammar(e){return this.http.post(`${this.ligerpage}/change_grammar`,e)}loadRules(e){return this.http.post(`${this.ligerpage}/load_rules`,e)}callVampire(e){return this.http.post(`${this.vampirepage}/vampire_request`,e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(y0))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var oE=D(656);D(3163);const fj=["host"];oE.defineMode("liger",function(){return{token:function(t,n){return t.match("==>")?"rule_separator":t.match(/#[A-Za-z0-9]+/)?"liger_node_var":t.match(/%[A-Za-z0-9]+/)?"liger_val_var":t.match(/(\&|\.)/)?"liger_conjunction":t.match("//")?(t.skipToEnd(),"comment"):(t.next(),null)}}}),oE.defineMode("glue",function(){return{token:function(t,n){return t.match(":")?"rule_separator":t.match(/-o/)?"liger_node_var":t.match(/(\[|\])/)?"liger_conjunction":t.match(/(\(|\))/)?"liger_val_var":t.match(/(<|>)/)?"angular_brackets":t.match("//")?(t.skipToEnd(),"comment"):(t.next(),null)}}});let mp=(()=>{class t{constructor(){this.defaultWidth="800px",this.defaultHeight="300px"}ngAfterViewInit(){console.log("mode is "+this.mode),this.codeMirror=oE.fromTextArea(this.host.nativeElement,{mode:this.mode,viewportMargin:1/0,lineNumbers:!0,matchBrackets:!0,autoCloseBrackets:!0}),"liger"===this.mode?this.codeMirror.setValue("--replace(true);\n\n//Nounmodifiers\n#n MOD #m in_set #p PRED %p & #p TYPE %k & #n s:: #s ==>\n#p GLUE lam(P,lam(X,merge(drs([],[rel(%k,'strip(%p)',X)]),app(P,X)))) : ((#s_e -o #s_t) -o (#s_e -o #s_t)) || noscope.\n\n\n//Degree (gradable) adjectives\n#x PREDLINK #a & #x s:: #y EV #z &\n#a ATYPE 'predicative' & #a SEMTYPE 'degree' &\n#a SUBJ #b s:: #c &\n#a PRED %a &  #a s:: #s\n==> & #s DEGREE #d & #s DEGREE-HOLDER #z & #s DEGREE-PRED #p &\n#p GLUE lam(P,lam(D,lam(X,drs([],[rel(strip(%a),X,D)])))) : ((#s_v -o #s_t) -o (#d_d -o (#s_v -o #s_t))).\n\n//This works\n#x ADJUNCT #n in_set #a & #x s:: #y &\n#a ATYPE 'attributive' & #a SEMTYPE 'degree' &\n#a PRED %a & #a s:: #s\n==> #s DEGREE #d & #s DEGREE-HOLDER #y & #s DEGREE-PRED #p &\n#p GLUE lam(P,lam(D,lam(X,drs([],[rel(strip(%a),X,D)])))) : ((#s_e -o #s_t) -o (#d_d -o (#s_e -o #s_t))).\n\n\n// Rules for positive uses\n// attributive\n#x ADJUNCT #n in_set #a & #x PRED %x &\n#a ATYPE 'attributive' &\n#a PRED %a & #a s:: #b DEGREE #d & #b DEGREE-HOLDER #e\n==> #d GLUE lam(P,merge(drs([D],[]),merge(drs([],[eq(th_strip(%a)('strip(%x)'),D)]),app(P,D)))) : ((#d_d -o #e_t) -o #e_t) || noscope.\n\n// predicative\n#x PREDLINK #a & #x SUBJ #y PRED %x &\n#a ATYPE 'predicative' &\n#a PRED %a & #a s:: #b DEGREE #d & #b DEGREE-HOLDER #e\n==> #d GLUE lam(P,merge(drs([D],[]),merge(drs([],[eq(th_strip(%a)('strip(%x)'),D)]),app(P,D)))) : ((#d_d -o #e_t) -o #e_t) || noscope.\n\n//Rules for comparative uses\n#a ATYPE %u & #a DEGREE 'comparative' & #a PRED %p &\n#a s:: #b DEGREE #d & #b DEGREE-HOLDER #e & #b DEGREE-PRED #p &\n#a ADJUNCT #f in_set #c OBL-COMP #m OBJ #n s:: #o\n==>\n#o DEGREE #x & #o DEGREE-HOLDER #y &\n#d GLUE lam(P,lam(Q,lam(E,\n\t\tmerge(drs([D:d],[]),merge(app(app(P,D),E),drs([],[not(merge(drs([V],[]),app(app(Q,D),V)))])))))) :\n\t\t((#d_d -o (#b_v -o #b_t)) -o ((#x_d -o (#y_v -o #m_t)) -o (#b_v -o #b_t))) || noscope &\n#m GLUE lam(D,lam(E,drs([],[rel(strip(%p),E,D)]))) : (#x_d -o (#y_v -o #m_t)) &\n#n GLUE lam(V,lam(X,lam(E,merge(app(V,E),drs([],[rel(arg1,E,X)]))))) :\n\t\t((#y_v -o #m_t) -o (#o_e -o (#y_v -o #m_t))).\n\n//Axioms\n\n//Be equality axiom\n#p PRED %p & strip(%p) == 'be' & #p PREDLINK #c s:: #s TYPE 'entity' ==>\n#p AXIOM all(X,all(Y,all(Z,imp(and(be(X),and(arg1(X,Y),arg2(X,Z))),eq(Y,Z))))).\n\n//Comparative axioms\n#a ATYPE %u & #a DEGREE 'comparative' & #a PRED %p ==>\n#a AXIOM all(X, all(Y, all(D:d, imp(and(arg1(X, Y), fast(X, D)), fast(Y, D))))).\n\n#a ATYPE %u & #a DEGREE 'comparative' & #a PRED %p &\n#a s:: #b DEGREE #d & #b DEGREE-HOLDER #e & #b DEGREE-PRED #p &\n#a ADJUNCT #f in_set #c OBL-COMP #m OBJ #n s:: #o ==>\n#a MONO #q & #q AXIOM all(X, all(Delta1:d, iff(strip(%p)(X, Delta1), all(Delta2:d, imp(lessEq(Delta2, Delta1), strip(%p)(X, Delta2)))))) &\n#a CP #r & #r AXIOM all(X, all(Y, imp(some(D:d, and(strip(%p)(X, D), not(strip(%p)(Y, D)))), all(D2:d, imp(strip(%p)(Y, D2), strip(%p)(X, D2)))))) &\n#a MAX #s & #s AXIOM all(X, some(Delta1:d, and(strip(%p)(X, Delta1), not(some(Delta2:d, and(greater(Delta2, Delta1), strip(%p)(X, Delta2))))))).\n\n"):"text"===this.mode?this.codeMirror.setValue("#transitive\n\na big black dog appeared.\n\n#optional transitives\n\na dog escaped.\n\na dog escaped the cage.\n\n#transitive\n\nevery dog devoured a bone.\n\n#di-transitive\n\nMary gave a student every grade.\n\nMary gave a grade to a student.\n\n#COMP-verb\n\nMary thinks that a cat meowed.\n\n#XCOMPs\n\na cat seemed to meow.\n\na dog tried to meow.\n\n#passives\n\na bone was devoured by a dog.\n\na program was implemented by a developer.\n\na solution was implemented.\n\n# The following two sentences need fixing in the basic grammar (clash with OT mark and unwanted semantics)\n\na grade was given to every student by Mary.\n\na student was given every grade by Mary.\n\n#PP-attachment\n\na big black dog appeared on the table.\n\nPeter saw the monkey with the telescope."):"vampire"===this.mode&&this.codeMirror.setValue("tff(fast_type, type, fast: ($i * $int) > $o).\ntff(kind_type, type, kind: ($i * $i) > $o).\ntff(arg1_type, type, arg1: ($i * $i) > $o).\ntff(arg2_type, type, arg2: ($i * $i) > $o).\ntff(computer_type, type, computer: $i > $o).\ntff(be_type, type, be: $i > $o).\n\ntff(pn_type1, type, 'pc-6082': $i).\ntff(pn_type2, type, 'itel-zx': $i).\n")}updateContent(e){this.codeMirror&&(this.codeMirror.setValue(""),this.codeMirror.clearHistory(),this.codeMirror.setValue(e),this.codeMirror.refresh())}getContent(){return this.codeMirror.getValue()}resizeToDefault(){this.codeMirror.setSize(this.defaultWidth,this.defaultHeight)}downloadFile(e){let r=this.codeMirror.getValue(),i=new Blob([r],{type:"text/plain"}),s=window.URL.createObjectURL(i),c=document.createElement("a");c.href=s,c.download=e||"default.txt",c.click(),setTimeout(()=>window.URL.revokeObjectURL(s),1e4)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Er({type:t,selectors:[["app-editor"]],viewQuery:function(e,r){if(1&e&&Ln(fj,5),2&e){let i;Mn(i=In())&&(r.host=i.first)}},inputs:{id:"id",mode:"mode"},decls:9,vars:1,consts:[[1,"editor-container"],["host",""],[1,"resize",3,"click"],[3,"click"],["placeholder","Enter filename",3,"ngModel","ngModelChange"]],template:function(e,r){1&e&&(Ye(0,"div",0),yn(1,"textarea",null,1),$e(),Ye(3,"button",2),Cn("click",function(){return r.resizeToDefault()}),ft(4,"Resize to Default"),$e(),Ye(5,"button",3),Cn("click",function(){return r.downloadFile(r.filename)}),ft(6,"Download as: "),$e(),Ye(7,"input",4),Cn("ngModelChange",function(s){return r.filename=s}),$e(),yn(8,"div")),2&e&&(jt(7),Xt("ngModel",r.filename))},dependencies:[jg,Wg,Lv],styles:['.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;inset:-50px 0 0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:white}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;inset:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}\n',".CodeMirror{resize:both;max-width:100%;max-height:100%}.editor-container{position:relative;display:block;border-style:solid;border-color:#00a9e0;overflow:hidden;max-width:100%;max-height:100%;background-color:#add8e6}.cm-rule_separator{color:#0900ff;font-weight:700}.cm-liger_node_var{color:#00c4ff}.cm-liger_val_var{color:#08d700}.cm-liger_conjunction{color:red}.cm-angular_brackets{color:#d100ff}.CodeMirror-matchingbracket{background-color:#ffa50080!important;border-radius:3px}.CodeMirror-nonmatchingbracket{background-color:#ff0000b3!important;border-radius:3px}\n"],encapsulation:2}),t})();var mj=D(6100),Ws=D.n(mj),vj=D(7944),k0=D.n(vj),$v=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",yj=function(){for(var t=["Edge","Trident","Firefox"],n=0;n<t.length;n+=1)if($v&&navigator.userAgent.indexOf(t[n])>=0)return 1;return 0}(),Cj=$v&&window.Promise?function bj(t){var n=!1;return function(){n||(n=!0,window.Promise.resolve().then(function(){n=!1,t()}))}}:function wj(t){var n=!1;return function(){n||(n=!0,setTimeout(function(){n=!1,t()},yj))}};function SN(t){return t&&"[object Function]"==={}.toString.call(t)}function vp(t,n){if(1!==t.nodeType)return[];var r=t.ownerDocument.defaultView.getComputedStyle(t,null);return n?r[n]:r}function aE(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function Yv(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var n=vp(t);return/(auto|scroll|overlay)/.test(n.overflow+n.overflowY+n.overflowX)?t:Yv(aE(t))}function TN(t){return t&&t.referenceNode?t.referenceNode:t}var MN=$v&&!(!window.MSInputMethodContext||!document.documentMode),IN=$v&&/MSIE 10/.test(navigator.userAgent);function Zg(t){return 11===t?MN:10===t?IN:MN||IN}function qg(t){if(!t)return document.documentElement;for(var n=Zg(10)?document.body:null,e=t.offsetParent||null;e===n&&t.nextElementSibling;)e=(t=t.nextElementSibling).offsetParent;var r=e&&e.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(e.nodeName)&&"static"===vp(e,"position")?qg(e):e:t?t.ownerDocument.documentElement:document.documentElement}function sE(t){return null!==t.parentNode?sE(t.parentNode):t}function P0(t,n){if(!(t&&t.nodeType&&n&&n.nodeType))return document.documentElement;var e=t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,r=e?t:n,i=e?n:t,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);var c=s.commonAncestorContainer;if(t!==c&&n!==c||r.contains(i))return function xj(t){var n=t.nodeName;return"BODY"!==n&&("HTML"===n||qg(t.firstElementChild)===t)}(c)?c:qg(c);var m=sE(t);return m.host?P0(m.host,n):P0(t,sE(n).host)}function Qg(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",r=t.nodeName;return"BODY"===r||"HTML"===r?(t.ownerDocument.scrollingElement||t.ownerDocument.documentElement)[e]:t[e]}function AN(t,n){var e="x"===n?"Left":"Top",r="Left"===e?"Right":"Bottom";return parseFloat(t["border"+e+"Width"])+parseFloat(t["border"+r+"Width"])}function ON(t,n,e,r){return Math.max(n["offset"+t],n["scroll"+t],e["client"+t],e["offset"+t],e["scroll"+t],Zg(10)?parseInt(e["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function NN(t){var n=t.body,e=t.documentElement,r=Zg(10)&&getComputedStyle(e);return{height:ON("Height",n,e,r),width:ON("Width",n,e,r)}}var Sj=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),Jg=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t},pu=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};function ah(t){return pu({},t,{right:t.left+t.width,bottom:t.top+t.height})}function lE(t){var n={};try{if(Zg(10)){n=t.getBoundingClientRect();var e=Qg(t,"top"),r=Qg(t,"left");n.top+=e,n.left+=r,n.bottom+=e,n.right+=r}else n=t.getBoundingClientRect()}catch{}var i={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},s="HTML"===t.nodeName?NN(t.ownerDocument):{},w=t.offsetWidth-(s.width||t.clientWidth||i.width),N=t.offsetHeight-(s.height||t.clientHeight||i.height);if(w||N){var U=vp(t);w-=AN(U,"x"),N-=AN(U,"y"),i.width-=w,i.height-=N}return ah(i)}function uE(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Zg(10),i="HTML"===n.nodeName,s=lE(t),c=lE(n),m=Yv(t),w=vp(n),N=parseFloat(w.borderTopWidth),U=parseFloat(w.borderLeftWidth);e&&i&&(c.top=Math.max(c.top,0),c.left=Math.max(c.left,0));var K=ah({top:s.top-c.top-N,left:s.left-c.left-U,width:s.width,height:s.height});if(K.marginTop=0,K.marginLeft=0,!r&&i){var ge=parseFloat(w.marginTop),be=parseFloat(w.marginLeft);K.top-=N-ge,K.bottom-=N-ge,K.left-=U-be,K.right-=U-be,K.marginTop=ge,K.marginLeft=be}return(r&&!e?n.contains(m):n===m&&"BODY"!==m.nodeName)&&(K=function Ej(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Qg(n,"top"),i=Qg(n,"left"),s=e?-1:1;return t.top+=r*s,t.bottom+=r*s,t.left+=i*s,t.right+=i*s,t}(K,n)),K}function RN(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===vp(t,"position"))return!0;var e=aE(t);return!!e&&RN(e)}function kN(t){if(!t||!t.parentElement||Zg())return document.documentElement;for(var n=t.parentElement;n&&"none"===vp(n,"transform");)n=n.parentElement;return n||document.documentElement}function cE(t,n,e,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},c=i?kN(t):P0(t,TN(n));if("viewport"===r)s=function Tj(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=t.ownerDocument.documentElement,r=uE(t,e),i=Math.max(e.clientWidth,window.innerWidth||0),s=Math.max(e.clientHeight,window.innerHeight||0),c=n?0:Qg(e),m=n?0:Qg(e,"left");return ah({top:c-r.top+r.marginTop,left:m-r.left+r.marginLeft,width:i,height:s})}(c,i);else{var m=void 0;"scrollParent"===r?"BODY"===(m=Yv(aE(n))).nodeName&&(m=t.ownerDocument.documentElement):m="window"===r?t.ownerDocument.documentElement:r;var w=uE(m,c,i);if("HTML"!==m.nodeName||RN(c))s=w;else{var N=NN(t.ownerDocument),U=N.height,K=N.width;s.top+=w.top-w.marginTop,s.bottom=U+w.top,s.left+=w.left-w.marginLeft,s.right=K+w.left}}var ge="number"==typeof(e=e||0);return s.left+=ge?e:e.left||0,s.top+=ge?e:e.top||0,s.right-=ge?e:e.right||0,s.bottom-=ge?e:e.bottom||0,s}function Mj(t){return t.width*t.height}function PN(t,n,e,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var c=cE(e,r,s,i),m={top:{width:c.width,height:n.top-c.top},right:{width:c.right-n.right,height:c.height},bottom:{width:c.width,height:c.bottom-n.bottom},left:{width:n.left-c.left,height:c.height}},w=Object.keys(m).map(function(ge){return pu({key:ge},m[ge],{area:Mj(m[ge])})}).sort(function(ge,be){return be.area-ge.area}),N=w.filter(function(ge){return ge.width>=e.clientWidth&&ge.height>=e.clientHeight}),U=N.length>0?N[0].key:w[0].key,K=t.split("-")[1];return U+(K?"-"+K:"")}function LN(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return uE(e,r?kN(n):P0(n,TN(e)),r)}function FN(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),r=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+r}}function L0(t){var n={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(e){return n[e]})}function BN(t,n,e){e=e.split("-")[0];var r=FN(t),i={width:r.width,height:r.height},s=-1!==["right","left"].indexOf(e),c=s?"top":"left",m=s?"left":"top",w=s?"height":"width",N=s?"width":"height";return i[c]=n[c]+n[w]/2-r[w]/2,i[m]=e===m?n[m]-r[N]:n[L0(m)],i}function Xv(t,n){return Array.prototype.find?t.find(n):t.filter(n)[0]}function VN(t,n,e){var r=void 0===e?t:t.slice(0,function Ij(t,n,e){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[n]===e});var r=Xv(t,function(i){return i[n]===e});return t.indexOf(r)}(t,"name",e));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var s=i.function||i.fn;i.enabled&&SN(s)&&(n.offsets.popper=ah(n.offsets.popper),n.offsets.reference=ah(n.offsets.reference),n=s(n,i))}),n}function Aj(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=LN(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=PN(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=BN(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=VN(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function HN(t,n){return t.some(function(e){return e.enabled&&e.name===n})}function dE(t){for(var n=[!1,"ms","Webkit","Moz","O"],e=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<n.length;r++){var i=n[r],s=i?""+i+e:t;if(typeof document.body.style[s]<"u")return s}return null}function Oj(){return this.state.isDestroyed=!0,HN(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[dE("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function zN(t){var n=t.ownerDocument;return n?n.defaultView:window}function UN(t,n,e,r){var i="BODY"===t.nodeName,s=i?t.ownerDocument.defaultView:t;s.addEventListener(n,e,{passive:!0}),i||UN(Yv(s.parentNode),n,e,r),r.push(s)}function Nj(t,n,e,r){e.updateBound=r,zN(t).addEventListener("resize",e.updateBound,{passive:!0});var i=Yv(t);return UN(i,"scroll",e.updateBound,e.scrollParents),e.scrollElement=i,e.eventsEnabled=!0,e}function Rj(){this.state.eventsEnabled||(this.state=Nj(this.reference,0,this.state,this.scheduleUpdate))}function Pj(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function kj(t,n){return zN(t).removeEventListener("resize",n.updateBound),n.scrollParents.forEach(function(e){e.removeEventListener("scroll",n.updateBound)}),n.updateBound=null,n.scrollParents=[],n.scrollElement=null,n.eventsEnabled=!1,n}(this.reference,this.state))}function fE(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function hE(t,n){Object.keys(n).forEach(function(e){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&fE(n[e])&&(r="px"),t.style[e]=n[e]+r})}var Hj=$v&&/Firefox/i.test(navigator.userAgent);function GN(t,n,e){var r=Xv(t,function(m){return m.name===n}),i=!!r&&t.some(function(m){return m.name===e&&m.enabled&&m.order<r.order});if(!i){var s="`"+n+"`";console.warn("`"+e+"` modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return i}var jN=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],pE=jN.slice(3);function WN(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=pE.indexOf(t),r=pE.slice(e+1).concat(pE.slice(0,e));return n?r.reverse():r}var eW={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function Zj(t){var n=t.placement,e=n.split("-")[0],r=n.split("-")[1];if(r){var i=t.offsets,s=i.reference,c=i.popper,m=-1!==["bottom","top"].indexOf(e),w=m?"left":"top",N=m?"width":"height",U={start:Jg({},w,s[w]),end:Jg({},w,s[w]+s[N]-c[N])};t.offsets.popper=pu({},c,U[r])}return t}},offset:{order:200,enabled:!0,fn:function Xj(t,n){var w,e=n.offset,i=t.offsets,s=i.popper,c=i.reference,m=t.placement.split("-")[0];return w=fE(+e)?[+e,0]:function Yj(t,n,e,r){var i=[0,0],s=-1!==["right","left"].indexOf(r),c=t.split(/(\+|\-)/).map(function(U){return U.trim()}),m=c.indexOf(Xv(c,function(U){return-1!==U.search(/,|\s/)}));c[m]&&-1===c[m].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var w=/\s*,\s*|\s+/,N=-1!==m?[c.slice(0,m).concat([c[m].split(w)[0]]),[c[m].split(w)[1]].concat(c.slice(m+1))]:[c];return N=N.map(function(U,K){var ge=(1===K?!s:s)?"height":"width",be=!1;return U.reduce(function(Se,Fe){return""===Se[Se.length-1]&&-1!==["+","-"].indexOf(Fe)?(Se[Se.length-1]=Fe,be=!0,Se):be?(Se[Se.length-1]+=Fe,be=!1,Se):Se.concat(Fe)},[]).map(function(Se){return function $j(t,n,e,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+i[1],c=i[2];return s?0===c.indexOf("%")?ah("%p"===c?e:r)[n]/100*s:"vh"===c||"vw"===c?("vh"===c?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s:s:t}(Se,ge,n,e)})}),N.forEach(function(U,K){U.forEach(function(ge,be){fE(ge)&&(i[K]+=ge*("-"===U[be-1]?-1:1))})}),i}(e,s,c,m),"left"===m?(s.top+=w[0],s.left-=w[1]):"right"===m?(s.top+=w[0],s.left+=w[1]):"top"===m?(s.left+=w[0],s.top-=w[1]):"bottom"===m&&(s.left+=w[0],s.top+=w[1]),t.popper=s,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function Kj(t,n){var e=n.boundariesElement||qg(t.instance.popper);t.instance.reference===e&&(e=qg(e));var r=dE("transform"),i=t.instance.popper.style,s=i.top,c=i.left,m=i[r];i.top="",i.left="",i[r]="";var w=cE(t.instance.popper,t.instance.reference,n.padding,e,t.positionFixed);i.top=s,i.left=c,i[r]=m,n.boundaries=w;var U=t.offsets.popper,K={primary:function(be){var Se=U[be];return U[be]<w[be]&&!n.escapeWithReference&&(Se=Math.max(U[be],w[be])),Jg({},be,Se)},secondary:function(be){var Se="right"===be?"left":"top",Fe=U[Se];return U[be]>w[be]&&!n.escapeWithReference&&(Fe=Math.min(U[Se],w[be]-("right"===be?U.width:U.height))),Jg({},Se,Fe)}};return n.priority.forEach(function(ge){var be=-1!==["left","top"].indexOf(ge)?"primary":"secondary";U=pu({},U,K[be](ge))}),t.offsets.popper=U,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function Wj(t){var n=t.offsets,e=n.popper,r=n.reference,i=t.placement.split("-")[0],s=Math.floor,c=-1!==["top","bottom"].indexOf(i),m=c?"right":"bottom",w=c?"left":"top",N=c?"width":"height";return e[m]<s(r[w])&&(t.offsets.popper[w]=s(r[w])-e[N]),e[w]>s(r[m])&&(t.offsets.popper[w]=s(r[m])),t}},arrow:{order:500,enabled:!0,fn:function Uj(t,n){var e;if(!GN(t.instance.modifiers,"arrow","keepTogether"))return t;var r=n.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],s=t.offsets,c=s.popper,m=s.reference,w=-1!==["left","right"].indexOf(i),N=w?"height":"width",U=w?"Top":"Left",K=U.toLowerCase(),ge=w?"left":"top",be=w?"bottom":"right",Se=FN(r)[N];m[be]-Se<c[K]&&(t.offsets.popper[K]-=c[K]-(m[be]-Se)),m[K]+Se>c[be]&&(t.offsets.popper[K]+=m[K]+Se-c[be]),t.offsets.popper=ah(t.offsets.popper);var Fe=m[K]+m[N]/2-Se/2,nt=vp(t.instance.popper),mt=parseFloat(nt["margin"+U]),et=parseFloat(nt["border"+U+"Width"]),bt=Fe-t.offsets.popper[K]-mt-et;return bt=Math.max(Math.min(c[N]-Se,bt),0),t.arrowElement=r,t.offsets.arrow=(Jg(e={},K,Math.round(bt)),Jg(e,ge,""),e),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function jj(t,n){if(HN(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var e=cE(t.instance.popper,t.instance.reference,n.padding,n.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=L0(r),s=t.placement.split("-")[1]||"",c=[];switch(n.behavior){case"flip":c=[r,i];break;case"clockwise":c=WN(r);break;case"counterclockwise":c=WN(r,!0);break;default:c=n.behavior}return c.forEach(function(m,w){if(r!==m||c.length===w+1)return t;r=t.placement.split("-")[0],i=L0(r);var N=t.offsets.popper,U=t.offsets.reference,K=Math.floor,ge="left"===r&&K(N.right)>K(U.left)||"right"===r&&K(N.left)<K(U.right)||"top"===r&&K(N.bottom)>K(U.top)||"bottom"===r&&K(N.top)<K(U.bottom),be=K(N.left)<K(e.left),Se=K(N.right)>K(e.right),Fe=K(N.top)<K(e.top),nt=K(N.bottom)>K(e.bottom),mt="left"===r&&be||"right"===r&&Se||"top"===r&&Fe||"bottom"===r&&nt,et=-1!==["top","bottom"].indexOf(r),Hn=!!n.flipVariations&&(et&&"start"===s&&be||et&&"end"===s&&Se||!et&&"start"===s&&Fe||!et&&"end"===s&&nt)||!!n.flipVariationsByContent&&(et&&"start"===s&&Se||et&&"end"===s&&be||!et&&"start"===s&&nt||!et&&"end"===s&&Fe);(ge||mt||Hn)&&(t.flipped=!0,(ge||mt)&&(r=c[w+1]),Hn&&(s=function Gj(t){return"end"===t?"start":"start"===t?"end":t}(s)),t.placement=r+(s?"-"+s:""),t.offsets.popper=pu({},t.offsets.popper,BN(t.instance.popper,t.offsets.reference,t.placement)),t=VN(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function Qj(t){var n=t.placement,e=n.split("-")[0],r=t.offsets,i=r.popper,s=r.reference,c=-1!==["left","right"].indexOf(e),m=-1===["top","left"].indexOf(e);return i[c?"left":"top"]=s[e]-(m?i[c?"width":"height"]:0),t.placement=L0(n),t.offsets.popper=ah(i),t}},hide:{order:800,enabled:!0,fn:function qj(t){if(!GN(t.instance.modifiers,"hide","preventOverflow"))return t;var n=t.offsets.reference,e=Xv(t.instance.modifiers,function(r){return"preventOverflow"===r.name}).boundaries;if(n.bottom<e.top||n.left>e.right||n.top>e.bottom||n.right<e.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function zj(t,n){var e=n.x,r=n.y,i=t.offsets.popper,s=Xv(t.instance.modifiers,function(bt){return"applyStyle"===bt.name}).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var Se,Fe,c=void 0!==s?s:n.gpuAcceleration,m=qg(t.instance.popper),w=lE(m),N={position:i.position},U=function Vj(t,n){var e=t.offsets,r=e.popper,s=Math.round,c=Math.floor,m=function(mt){return mt},w=s(e.reference.width),N=s(r.width),U=-1!==["left","right"].indexOf(t.placement),K=-1!==t.placement.indexOf("-"),Se=n?U||K||w%2==N%2?s:c:m,Fe=n?s:m;return{left:Se(w%2==1&&N%2==1&&!K&&n?r.left-1:r.left),top:Fe(r.top),bottom:Fe(r.bottom),right:Se(r.right)}}(t,window.devicePixelRatio<2||!Hj),K="bottom"===e?"top":"bottom",ge="right"===r?"left":"right",be=dE("transform");if(Fe="bottom"===K?"HTML"===m.nodeName?-m.clientHeight+U.bottom:-w.height+U.bottom:U.top,Se="right"===ge?"HTML"===m.nodeName?-m.clientWidth+U.right:-w.width+U.right:U.left,c&&be)N[be]="translate3d("+Se+"px, "+Fe+"px, 0)",N[K]=0,N[ge]=0,N.willChange="transform";else{var mt="right"===ge?-1:1;N[K]=Fe*("bottom"===K?-1:1),N[ge]=Se*mt,N.willChange=K+", "+ge}return t.attributes=pu({},{"x-placement":t.placement},t.attributes),t.styles=pu({},N,t.styles),t.arrowStyles=pu({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function Fj(t){return hE(t.instance.popper,t.styles),function Lj(t,n){Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})}(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&hE(t.arrowElement,t.arrowStyles),t},onLoad:function Bj(t,n,e,r,i){var s=LN(i,n,t,e.positionFixed),c=PN(e.placement,s,n,t,e.modifiers.flip.boundariesElement,e.modifiers.flip.padding);return n.setAttribute("x-placement",c),hE(n,{position:e.positionFixed?"fixed":"absolute"}),e},gpuAcceleration:void 0}}},F0=function(){function t(n,e){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=Cj(this.update.bind(this)),this.options=pu({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n&&n.jquery?n[0]:n,this.popper=e&&e.jquery?e[0]:e,this.options.modifiers={},Object.keys(pu({},t.Defaults.modifiers,i.modifiers)).forEach(function(c){r.options.modifiers[c]=pu({},t.Defaults.modifiers[c]||{},i.modifiers?i.modifiers[c]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(c){return pu({name:c},r.options.modifiers[c])}).sort(function(c,m){return c.order-m.order}),this.modifiers.forEach(function(c){c.enabled&&SN(c.onLoad)&&c.onLoad(r.reference,r.popper,r.options,c,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return Sj(t,[{key:"update",value:function(){return Aj.call(this)}},{key:"destroy",value:function(){return Oj.call(this)}},{key:"enableEventListeners",value:function(){return Rj.call(this)}},{key:"disableEventListeners",value:function(){return Pj.call(this)}}]),t}();F0.Utils=(typeof window<"u"?window:global).PopperUtils,F0.placements=jN,F0.Defaults=eW;const tW=F0;function $s(){return $s=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},$s.apply(this,arguments)}var Kv=typeof window<"u"&&typeof document<"u",$N=Kv?navigator.userAgent:"",YN=/MSIE |Trident\//.test($N),XN=/UCBrowser\//.test($N),KN=Kv&&/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,Xc={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrow:!1,arrowType:"sharp",boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},placement:"top",popperOptions:{},role:"tooltip",showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,wait:null,zIndex:9999},iW=["arrow","arrowType","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],Zv=Kv?Element.prototype:{},mE=Zv.matches||Zv.matchesSelector||Zv.webkitMatchesSelector||Zv.mozMatchesSelector||Zv.msMatchesSelector;function qv(t){return[].slice.call(t)}function B0(t,n){return vE(t,function(e){return mE.call(e,n)})}function vE(t,n){for(;t;){if(n(t))return t;t=t.parentElement}return null}var yE={passive:!0},bE=4,wE="x-placement",_E="x-out-of-boundaries",ZN="tippy-iOS",qN="tippy-active",QN="tippy-popper",JN="tippy-tooltip",eR="tippy-content",tR="tippy-backdrop",nR="tippy-arrow",rR="tippy-roundarrow",CE=".".concat(QN),oW=".".concat(JN),aW=".".concat(eR),sW=".".concat(tR),lW=".".concat(nR),uW=".".concat(rR),sh=!1;function cW(){sh||(sh=!0,KN&&document.body.classList.add(ZN),window.performance&&document.addEventListener("mousemove",oR))}var iR=0;function oR(){var t=performance.now();t-iR<20&&(sh=!1,document.removeEventListener("mousemove",oR),KN||document.body.classList.remove(ZN)),iR=t}function dW(){var n=document.activeElement;n&&n.blur&&n._tippy&&n.blur()}var hW=Object.keys(Xc);function V0(t,n){return{}.hasOwnProperty.call(t,n)}function H0(t,n,e){return Array.isArray(t)?t[n]??e:t}function aR(t,n){return 0===n?t:function(r){clearTimeout(e),e=setTimeout(function(){t(r)},n)};var e}function z0(t,n){return t&&t.modifiers&&t.modifiers[n]}function xE(t,n){return t.indexOf(n)>-1}function Qv(t){return t instanceof Element}function sR(t){return!(!t||!V0(t,"isVirtual"))||Qv(t)}function EE(t,n){return"function"==typeof t?t.apply(null,n):t}function uR(t,n){t.filter(function(e){return"flip"===e.name})[0].enabled=n}function Jv(){return document.createElement("div")}function ey(t,n){t.forEach(function(e){e&&(e.style.transitionDuration="".concat(n,"ms"))})}function cR(t,n){t.forEach(function(e){e&&e.setAttribute("data-state",n)})}function dR(t,n){var e=$s({},n,{content:EE(n.content,[t])},n.ignoreAttributes?{}:function pW(t){return hW.reduce(function(n,e){var r=(t.getAttribute("data-tippy-".concat(e))||"").trim();if(!r)return n;if("content"===e)n[e]=r;else try{n[e]=JSON.parse(r)}catch{n[e]=r}return n},{})}(t));return(e.arrow||XN)&&(e.animateFill=!1),e}function fR(t,n){Object.keys(t).forEach(function(e){if(!V0(n,e))throw new Error("[tippy]: `".concat(e,"` is not a valid option"))})}function hR(t,n){t.innerHTML=Qv(n)?n.innerHTML:n}function pR(t,n){Qv(n.content)?(hR(t,""),t.appendChild(n.content)):"function"!=typeof n.content&&(t[n.allowHTML?"innerHTML":"textContent"]=n.content)}function DE(t){return{tooltip:t.querySelector(oW),backdrop:t.querySelector(sW),content:t.querySelector(aW),arrow:t.querySelector(lW)||t.querySelector(uW)}}function gR(t){t.setAttribute("data-inertia","")}function SE(t){var n=Jv();return"round"===t?(n.className=rR,hR(n,'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>')):n.className=nR,n}function mR(){var t=Jv();return t.className=tR,t.setAttribute("data-state","hidden"),t}function vR(t,n){t.setAttribute("tabindex","-1"),n.setAttribute("data-interactive","")}function TE(t,n,e){var r=XN&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";t[n+"EventListener"](r,e)}function ME(t){var n=t.getAttribute(wE);return n?n.split("-")[0]:""}function IE(t,n,e){e.split(" ").forEach(function(r){t.classList[n](r+"-theme")})}var MW=1,U0=[];function yR(t,n){var e=dR(t,n);if(!e.multiple&&t._tippy)return null;var r,i,s,c,m,U,be,Se,nt,w=!1,N=!1,K=!1,ge=!1,Fe=[],mt=aR(fy,e.interactiveDebounce),et=MW++,bt=function xW(t,n){var e=Jv();e.className=QN,e.id="tippy-".concat(t),e.style.zIndex=""+n.zIndex,e.style.position="absolute",e.style.top="0",e.style.left="0",n.role&&e.setAttribute("role",n.role);var r=Jv();r.className=JN,r.style.maxWidth=n.maxWidth+("number"==typeof n.maxWidth?"px":""),r.setAttribute("data-size",n.size),r.setAttribute("data-animation",n.animation),r.setAttribute("data-state","hidden"),IE(r,"add",n.theme);var i=Jv();return i.className=eR,i.setAttribute("data-state","hidden"),n.interactive&&vR(e,r),n.arrow&&r.appendChild(SE(n.arrowType)),n.animateFill&&(r.appendChild(mR()),r.setAttribute("data-animatefill","")),n.inertia&&gR(r),pR(i,n),r.appendChild(i),e.appendChild(r),e}(et,e),wn=DE(bt),ut={id:et,reference:t,popper:bt,popperChildren:wn,popperInstance:null,props:e,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},clearDelayTimeouts:sw,set:Mk,setContent:function GY(Lt){Mk({content:Lt})},show:JE,hide:hy,enable:function zY(){ut.state.isEnabled=!0},disable:function UY(){ut.state.isEnabled=!1},destroy:function jY(Lt){if(!ut.state.isDestroyed){N=!0,ut.state.isMounted&&hy(0),Vl(),delete t._tippy;var ir=ut.props.target;ir&&Lt&&Qv(t)&&qv(t.querySelectorAll(ir)).forEach(function(pr){pr._tippy&&pr._tippy.destroy()}),ut.popperInstance&&ut.popperInstance.destroy(),N=!1,ut.state.isDestroyed=!0}}};return t._tippy=ut,bt._tippy=ut,ia(),e.lazy||ow(),e.showOnInit&&aw(),e.a11y&&!e.target&&!function bW(t){return!Qv(t)||mE.call(t,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!t.hasAttribute("disabled")}(ra())&&ra().setAttribute("tabindex","0"),bt.addEventListener("mouseenter",function(Lt){ut.props.interactive&&ut.state.isVisible&&"mouseenter"===r&&aw(Lt,!0)}),bt.addEventListener("mouseleave",function(){ut.props.interactive&&"mouseenter"===r&&document.addEventListener("mousemove",mt)}),ut;function Ys(){document.removeEventListener("mousemove",Ua)}function dl(){document.body.removeEventListener("mouseleave",xp),document.removeEventListener("mousemove",mt),U0=U0.filter(function(Lt){return Lt!==mt})}function ra(){return ut.props.triggerTarget||t}function dy(){document.addEventListener("click",Tk,!0)}function uh(){document.removeEventListener("click",Tk,!0)}function qc(){return[ut.popperChildren.tooltip,ut.popperChildren.backdrop,ut.popperChildren.content]}function sm(){var Lt=ut.props.followCursor;return Lt&&"focus"!==r||sh&&"initial"===Lt}function Qn(Lt,ir){var pr=ut.popperChildren.tooltip;function Oo(ch){ch.target===pr&&(TE(pr,"remove",Oo),ir())}if(0===Lt)return ir();TE(pr,"remove",Se),TE(pr,"add",Oo),Se=Oo}function br(Lt,ir){var pr=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ra().addEventListener(Lt,ir,pr),Fe.push({eventType:Lt,handler:ir,options:pr})}function ia(){ut.props.touchHold&&!ut.props.target&&(br("touchstart",Xi,yE),br("touchend",iw,yE)),ut.props.trigger.trim().split(" ").forEach(function(Lt){if("manual"!==Lt)if(ut.props.target)switch(Lt){case"mouseenter":br("mouseover",qu),br("mouseout",Xs);break;case"focus":br("focusin",qu),br("focusout",Xs);break;case"click":br(Lt,qu)}else switch(br(Lt,Xi),Lt){case"mouseenter":br("mouseleave",iw);break;case"focus":br(YN?"focusout":"blur",Ga)}})}function Vl(){Fe.forEach(function(Lt){var ir=Lt.eventType,pr=Lt.handler,Oo=Lt.options;ra().removeEventListener(ir,pr,Oo)}),Fe=[]}function Ua(Lt){var ir=i=Lt,pr=ir.clientX,Oo=ir.clientY;if(nt){var ch=vE(Lt.target,function(Ok){return Ok===t}),Ep=t.getBoundingClientRect(),py=ut.props.followCursor,Qu="horizontal"===py,gu="vertical"===py,Ju=xE(["top","bottom"],ME(bt)),Ks=bt.getAttribute(wE),cf=!!Ks&&!!Ks.split("-")[1],df=Ju?bt.offsetWidth:bt.offsetHeight,lw=df/2,Ik=Ju?0:cf?df:lw,Ak=Ju?cf?df:lw:0;(ch||!ut.props.interactive)&&(ut.popperInstance.reference=$s({},ut.popperInstance.reference,{referenceNode:t,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:Ju?df:0,height:Ju?0:df,top:(Qu?Ep.top:Oo)-Ik,bottom:(Qu?Ep.bottom:Oo)+Ik,left:(gu?Ep.left:pr)-Ak,right:(gu?Ep.right:pr)+Ak}}}),ut.popperInstance.update()),"initial"===py&&ut.state.isVisible&&Ys()}}function Xi(Lt){!ut.state.isEnabled||Cp(Lt)||(ut.state.isVisible||(r=Lt.type,Lt instanceof MouseEvent&&(i=Lt,U0.forEach(function(ir){return ir(Lt)}))),"click"===Lt.type&&!1!==ut.props.hideOnClick&&ut.state.isVisible?xp():aw(Lt))}function fy(Lt){var ir=B0(Lt.target,CE)===bt,pr=vE(Lt.target,function(Oo){return Oo===t});ir||pr||function SW(t,n,e,r){if(!t)return!0;var i=e.clientX,s=e.clientY,c=r.interactiveBorder,m=r.distance;return n.top-s>("top"===t?c+m:c)||s-n.bottom>("bottom"===t?c+m:c)||n.left-i>("left"===t?c+m:c)||i-n.right>("right"===t?c+m:c)}(ME(bt),bt.getBoundingClientRect(),Lt,ut.props)&&(dl(),xp())}function iw(Lt){if(!Cp(Lt)){if(ut.props.interactive)return document.body.addEventListener("mouseleave",xp),document.addEventListener("mousemove",mt),void U0.push(mt);xp()}}function Ga(Lt){Lt.target===ra()&&(ut.props.interactive&&Lt.relatedTarget&&bt.contains(Lt.relatedTarget)||xp())}function qu(Lt){B0(Lt.target,ut.props.target)&&aw(Lt)}function Xs(Lt){B0(Lt.target,ut.props.target)&&xp()}function Cp(Lt){var ir="ontouchstart"in window,pr=xE(Lt.type,"touch"),Oo=ut.props.touchHold;return ir&&sh&&Oo&&!pr||sh&&!Oo&&pr}function lm(){!ge&&be&&(ge=!0,be())}function ow(){var Lt=ut.props.popperOptions,ir=ut.popperChildren,pr=ir.tooltip,Oo=ir.arrow,ch=z0(Lt,"preventOverflow");function Ep(Qu){ut.props.flip&&!ut.props.flipOnUpdate&&(Qu.flipped&&(ut.popperInstance.options.placement=Qu.placement),uR(ut.popperInstance.modifiers,!1)),pr.setAttribute(wE,Qu.placement),!1!==Qu.attributes[_E]?pr.setAttribute(_E,""):pr.removeAttribute(_E),U&&U!==Qu.placement&&K&&(pr.style.transition="none",requestAnimationFrame(function(){pr.style.transition=""})),U=Qu.placement,K=ut.state.isVisible;var gu=ME(bt),Ju=pr.style;Ju.top=Ju.bottom=Ju.left=Ju.right="",Ju[gu]=function TW(t){return-(t-10)+"px"}(ut.props.distance);var Ks=ch&&void 0!==ch.padding?ch.padding:bE,cf="number"==typeof Ks,df=$s({top:cf?Ks:Ks.top,bottom:cf?Ks:Ks.bottom,left:cf?Ks:Ks.left,right:cf?Ks:Ks.right},!cf&&Ks);df[gu]=cf?Ks+ut.props.distance:(Ks[gu]||0)+ut.props.distance,ut.popperInstance.modifiers.filter(function(lw){return"preventOverflow"===lw.name})[0].padding=df,nt=df}var py=$s({eventsEnabled:!1,placement:ut.props.placement},Lt,{modifiers:$s({},Lt?Lt.modifiers:{},{preventOverflow:$s({boundariesElement:ut.props.boundary,padding:bE},ch),arrow:$s({element:Oo,enabled:!!Oo},z0(Lt,"arrow")),flip:$s({enabled:ut.props.flip,padding:ut.props.distance+bE,behavior:ut.props.flipBehavior},z0(Lt,"flip")),offset:$s({offset:ut.props.offset},z0(Lt,"offset"))}),onCreate:function(gu){Ep(gu),lm(),Lt&&Lt.onCreate&&Lt.onCreate(gu)},onUpdate:function(gu){Ep(gu),lm(),Lt&&Lt.onUpdate&&Lt.onUpdate(gu)}});ut.popperInstance=new tW(t,bt,py)}function aw(Lt,ir){if(sw(),!ut.state.isVisible){if(ut.props.target)return function Qc(Lt){if(Lt){var ir=B0(Lt.target,ut.props.target);ir&&!ir._tippy&&yR(ir,$s({},ut.props,{content:EE(n.content,[ir]),appendTo:n.appendTo,target:"",showOnInit:!0}))}}(Lt);if(w=!0,Lt&&!ir&&ut.props.onTrigger(ut,Lt),ut.props.wait)return ut.props.wait(ut,Lt);sm()&&!ut.state.isMounted&&(ut.popperInstance||ow(),document.addEventListener("mousemove",Ua)),dy();var pr=H0(ut.props.delay,0,Xc.delay);pr?s=setTimeout(function(){JE()},pr):JE()}}function xp(){if(sw(),!ut.state.isVisible)return Ys(),void uh();w=!1;var Lt=H0(ut.props.delay,1,Xc.delay);Lt?c=setTimeout(function(){ut.state.isVisible&&hy()},Lt):m=requestAnimationFrame(function(){hy()})}function Tk(Lt){ut.props.interactive&&bt.contains(Lt.target)||ra().contains(Lt.target)&&(sh||ut.state.isVisible&&xE(ut.props.trigger,"click"))||!0===ut.props.hideOnClick&&(sw(),hy())}function sw(){clearTimeout(s),clearTimeout(c),cancelAnimationFrame(m)}function Mk(Lt){fR(Lt=Lt||{},Xc),Vl();var ir=ut.props,pr=dR(t,$s({},ut.props,{},Lt,{ignoreAttributes:!0}));pr.ignoreAttributes=V0(Lt,"ignoreAttributes")?Lt.ignoreAttributes||!1:ir.ignoreAttributes,ut.props=pr,ia(),dl(),mt=aR(fy,pr.interactiveDebounce),function EW(t,n,e){var r=DE(t),i=r.tooltip,s=r.content,c=r.backdrop,m=r.arrow;t.style.zIndex=""+e.zIndex,i.setAttribute("data-size",e.size),i.setAttribute("data-animation",e.animation),i.style.maxWidth=e.maxWidth+("number"==typeof e.maxWidth?"px":""),e.role?t.setAttribute("role",e.role):t.removeAttribute("role"),n.content!==e.content&&pR(s,e),!n.animateFill&&e.animateFill?(i.appendChild(mR()),i.setAttribute("data-animatefill","")):n.animateFill&&!e.animateFill&&(i.removeChild(c),i.removeAttribute("data-animatefill")),!n.arrow&&e.arrow?i.appendChild(SE(e.arrowType)):n.arrow&&!e.arrow&&i.removeChild(m),n.arrow&&e.arrow&&n.arrowType!==e.arrowType&&i.replaceChild(SE(e.arrowType),m),!n.interactive&&e.interactive?vR(t,i):n.interactive&&!e.interactive&&function _W(t,n){t.removeAttribute("tabindex"),n.removeAttribute("data-interactive")}(t,i),!n.inertia&&e.inertia?gR(i):n.inertia&&!e.inertia&&function wW(t){t.removeAttribute("data-inertia")}(i),n.theme!==e.theme&&(IE(i,"remove",n.theme),IE(i,"add",e.theme))}(bt,ir,pr),ut.popperChildren=DE(bt),ut.popperInstance&&(iW.some(function(Oo){return V0(Lt,Oo)&&Lt[Oo]!==ir[Oo]})?(ut.popperInstance.destroy(),ow(),ut.state.isVisible&&ut.popperInstance.enableEventListeners(),ut.props.followCursor&&i&&Ua(i)):ut.popperInstance.update())}function JE(){var Lt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H0(ut.props.duration,0,Xc.duration[1]);if(!ut.state.isDestroyed&&ut.state.isEnabled&&(!sh||ut.props.touch)&&!ra().hasAttribute("disabled")&&!1!==ut.props.onShow(ut)){dy(),bt.style.visibility="visible",ut.state.isVisible=!0,ut.props.interactive&&ra().classList.add(qN);var ir=qc();ey(ir.concat(bt),0),be=function(){if(ut.state.isVisible){var Oo=sm();Oo&&i?Ua(i):Oo||ut.popperInstance.update(),ut.popperChildren.backdrop&&(ut.popperChildren.content.style.transitionDelay=Math.round(Lt/12)+"ms"),ut.props.sticky&&function rw(){ey([bt],YN?0:ut.props.updateDuration);var Lt=t.getBoundingClientRect();!function ir(){var pr=t.getBoundingClientRect();(Lt.top!==pr.top||Lt.right!==pr.right||Lt.bottom!==pr.bottom||Lt.left!==pr.left)&&ut.popperInstance.scheduleUpdate(),Lt=pr,ut.state.isMounted&&requestAnimationFrame(ir)}()}(),ey([bt],ut.props.updateDuration),ey(ir,Lt),cR(ir,"visible"),function jn(Lt,ir){Qn(Lt,ir)}(Lt,function(){ut.props.aria&&ra().setAttribute("aria-".concat(ut.props.aria),bt.id),ut.props.onShown(ut),ut.state.isShown=!0})}},function HY(){ge=!1;var Lt=sm();ut.popperInstance?(uR(ut.popperInstance.modifiers,ut.props.flip),Lt||(ut.popperInstance.reference=t,ut.popperInstance.enableEventListeners()),ut.popperInstance.scheduleUpdate()):(ow(),Lt||ut.popperInstance.enableEventListeners());var ir=ut.props.appendTo,pr="parent"===ir?t.parentNode:EE(ir,[t]);pr.contains(bt)||(pr.appendChild(bt),ut.props.onMount(ut),ut.state.isMounted=!0)}()}}function hy(){var Lt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H0(ut.props.duration,1,Xc.duration[1]);if(!ut.state.isDestroyed&&(ut.state.isEnabled||N)&&(!1!==ut.props.onHide(ut)||N)){uh(),bt.style.visibility="hidden",ut.state.isVisible=!1,ut.state.isShown=!1,K=!1,ut.props.interactive&&ra().classList.remove(qN);var ir=qc();ey(ir,Lt),cR(ir,"hidden"),function On(Lt,ir){Qn(Lt,function(){!ut.state.isVisible&&bt.parentNode&&bt.parentNode.contains(bt)&&ir()})}(Lt,function(){w||Ys(),ut.props.aria&&ra().removeAttribute("aria-".concat(ut.props.aria)),ut.popperInstance.disableEventListeners(),ut.popperInstance.options.placement=ut.props.placement,bt.parentNode.removeChild(bt),ut.props.onHidden(ut),ut.state.isMounted=!1})}}}var bR=!1;function yp(t,n){fR(n||{},Xc),bR||(function fW(){document.addEventListener("touchstart",cW,yE),window.addEventListener("blur",dW)}(),bR=!0);var e=$s({},Xc,{},n);(function mW(t){return"[object Object]"==={}.toString.call(t)&&!t.addEventListener})(t)&&function gW(t){var n={isVirtual:!0,attributes:t.attributes||{},contains:function(){},setAttribute:function(i,s){t.attributes[i]=s},getAttribute:function(i){return t.attributes[i]},removeAttribute:function(i){delete t.attributes[i]},hasAttribute:function(i){return i in t.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(i){t.classList.classNames[i]=!0},remove:function(i){delete t.classList.classNames[i]},contains:function(i){return i in t.classList.classNames}}};for(var e in n)t[e]=n[e]}(t);var r=function yW(t){if(sR(t))return[t];if(t instanceof NodeList)return qv(t);if(Array.isArray(t))return t;try{return qv(document.querySelectorAll(t))}catch{return[]}}(t).reduce(function(i,s){var c=s&&yR(s,e);return c&&i.push(c),i},[]);return sR(t)?r[0]:r}yp.version="4.3.5",yp.defaults=Xc,yp.setDefaults=function(t){Object.keys(t).forEach(function(n){Xc[n]=t[n]})},yp.hideAll=function DW(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.exclude,e=t.duration;qv(document.querySelectorAll(CE)).forEach(function(r){var i=r._tippy;if(i){var s=!1;n&&(s=function vW(t){return!!t._tippy&&!mE.call(t,CE)}(n)?i.reference===n:r===n.popper),s||i.hide(e)}})},yp.group=function IW(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.delay,r=void 0===e?t[0].props.delay:e,i=n.duration,s=void 0===i?0:i,c=!1;function m(ge){c=ge,K()}function w(ge){ge._originalProps.onShow(ge),t.forEach(function(be){be.set({duration:s}),be.state.isVisible&&be.hide()}),m(!0)}function N(ge){ge._originalProps.onHide(ge),m(!1)}function U(ge){ge._originalProps.onShown(ge),ge.set({duration:ge._originalProps.duration})}function K(){t.forEach(function(ge){ge.set({onShow:w,onShown:U,onHide:N,delay:c?[0,Array.isArray(r)?r[1]:r]:r,duration:c?s:ge._originalProps.duration})})}t.forEach(function(ge){ge._originalProps?ge.set(ge._originalProps):ge._originalProps=$s({},ge.props)}),K()},Kv&&setTimeout(function AW(){qv(document.querySelectorAll("[data-tippy]")).forEach(function(t){var n=t.getAttribute("data-tippy");n&&yp(t,{content:n})})}),function OW(t){if(Kv){var n=document.createElement("style");n.type="text/css",n.textContent=t,n.setAttribute("data-tippy-stylesheet","");var e=document.head,r=e.querySelector("style,link");r?e.insertBefore(n,r):e.appendChild(n)}}('.tippy-iOS{cursor:pointer!important;-webkit-tap-highlight-color:transparent}.tippy-popper{transition-timing-function:cubic-bezier(.165,.84,.44,1);max-width:calc(100% - 8px);pointer-events:none;outline:0}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-7px;bottom:-6.5px;-webkit-transform-origin:50% 0;transform-origin:50% 0;margin:0 3px}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 3px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(-10px);transform:perspective(700px) translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(60deg);transform:perspective(700px) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=top] [data-animation=scale]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px) scale(.5);transform:translateY(-10px) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-7px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;margin:0 3px}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(10px);transform:perspective(700px) translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(-60deg);transform:perspective(700px) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=scale]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px) scale(.5);transform:translateY(10px) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-12px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%;margin:3px 0}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(-10px);transform:perspective(700px) translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(-60deg);transform:perspective(700px) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=left] [data-animation=scale]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px) scale(.5);transform:translateX(-10px) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-12px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%;margin:3px 0}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(10px);transform:perspective(700px) translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(60deg);transform:perspective(700px) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=right] [data-animation=scale]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px) scale(.5);transform:translateX(10px) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:.25rem;font-size:.875rem;padding:.3125rem .5625rem;line-height:1.4;text-align:center;background-color:#333}.tippy-tooltip[data-size=small]{padding:.1875rem .375rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.375rem .75rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:initial}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] .tippy-roundarrow path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:18px;height:7px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}');const ty=yp;var NW=D(6827),RW=D.n(NW);Ws().use(RW()),Ws().use(k0());const kW=[{selector:'node[node_type="input"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="cnode"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="annotation"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="proj"]',style:{width:3,"line-color":"#ccc","line-style":"dashed","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:"edge[label]",style:{label:"data(label)","text-rotation":"autorotate","text-margin-x":15,"text-margin-y":0}}],PW=[{selector:'node[color="yellow"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="red"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="blue"]',style:{content:"data(id)",color:"back",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="green"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="orange"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"orange white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'edge[edge_type="default"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="external"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","line-style":"dashed","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="parent"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}];let LW=(()=>{class t{ngAfterViewInit(){"liger"==this.graphStyle?(this.styleArray=kW,this.layout="dagre"):"glue"==this.graphStyle&&(this.styleArray=PW,this.layout="cise"),this.cy=Ws()({container:document.getElementById(this.graphID),style:this.styleArray,layout:{name:this.layout}})}renderGraph(e){this.cy=Ws()({container:document.getElementById(this.graphID),elements:e,style:this.styleArray,layout:{name:this.layout}}),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy),"liger"==this.graphStyle?this.createAndBindLigerPoppers():"glue"==this.graphStyle&&this.createAndBindGswbPoppers()}makeLigerPopper(e){const r=e.popperRef();e.tippy=ty(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;if(s.hasOwnProperty("avp"))for(var c in s.avp)i.innerHTML=i.innerHTML+c+" : "+s.avp[c]+"<br>";return i},trigger:"manual"})}createAndBindLigerPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("avp")&&(this.makeLigerPopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}makeGswbPopper(e){const r=e.popperRef();e.tippy=ty(r,{content:()=>{let i=document.createElement("div");i.style.backgroundColor="black";var s=e._private.data;if(s.hasOwnProperty("solutions"))for(var c of s.solutions)i.innerHTML=i.innerHTML+c+"<br>";return i},trigger:"manual"})}createAndBindGswbPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("solutions")&&(this.makeGswbPopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Er({type:t,selectors:[["app-sub-graph"]],inputs:{graphStyle:"graphStyle",graphID:"graphID"},decls:2,vars:1,consts:[[1,"cy",3,"id"]],template:function(e,r){1&e&&(Ye(0,"div"),yn(1,"div",0),$e()),2&e&&(jt(1),Xt("id",r.graphID))},styles:["div.cy[_ngcontent-%COMP%]{width:800px;height:600px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const FW=["subgraphVis"],BW=["subGraphDialog"];let AE=(()=>{class t{setContent(e){console.log(e),setTimeout(()=>{this.subgraphVis.renderGraph(e)},0)}showDialog(){this.subGraphDialog.nativeElement.show()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Er({type:t,selectors:[["app-sub-graph-dialog"]],viewQuery:function(e,r){if(1&e&&(Ln(FW,5),Ln(BW,5)),2&e){let i;Mn(i=In())&&(r.subgraphVis=i.first),Mn(i=In())&&(r.subGraphDialog=i.first)}},inputs:{subgraphID:"subgraphID",subgraphStyle:"subgraphStyle"},decls:7,vars:2,consts:[[1,"center-dialog"],["subGraphDialog",""],[3,"graphID","graphStyle"],["subgraphVis",""],[3,"click"]],template:function(e,r){if(1&e){const i=Ds();Ye(0,"dialog",0,1)(2,"div"),yn(3,"app-sub-graph",2,3),$e(),Ye(5,"button",4),Cn("click",function(){return Vn(i),hi(Hs(1).close())}),ft(6," OK "),$e()()}2&e&&(jt(3),Xt("graphID",r.subgraphID)("graphStyle",r.subgraphStyle))},dependencies:[LW],styles:[".center-dialog[_ngcontent-%COMP%]{position:fixed;z-index:9999;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),t})();const VW=["graphContainer"],HW=["subgraphDialog"];Ws().use(k0());const wR=[{selector:'node[color="yellow"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="red"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="blue"]',style:{content:"data(id)",color:"back",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="green"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="orange"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"orange white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="parent"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}];let _R=(()=>{class t{constructor(){this.defaultWidth="800px",this.defaultHeight="600px"}ngAfterViewInit(){this.cy=Ws()({container:document.getElementById(this.graphID),style:wR,layout:{name:"dagre"}})}handleNodeDoubleClick(e,r){console.log("Clicked node with id: ",e),setTimeout(()=>{this.subgraphDialog.setContent(r.graphElements)},0),setTimeout(()=>{this.subgraphDialog.showDialog()},0)}renderGraph(e){this.cy=Ws()({container:document.getElementById(this.graphID),elements:e,style:wR,layout:{name:"dagre"}}),this.createAndBindPoppers(),this.cy.on("dblclick","node",r=>{let i=r.target,s=i.id(),c=i.data();console.log(c),c.hasOwnProperty("subgraph")&&this.handleNodeDoubleClick(s,c.subgraph)})}makePopper(e){const r=e.popperRef();e.tippy=ty(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;if(s.hasOwnProperty("solutions"))for(var c of s.solutions)i.innerHTML=i.innerHTML+c+"<br>";return i},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("solutions")&&(this.makePopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}resizeToDefault(){const e=this.graphContainer.nativeElement;e.style.width=this.defaultWidth,e.style.height=this.defaultHeight}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Er({type:t,selectors:[["app-gswb-graph-vis"]],viewQuery:function(e,r){if(1&e&&(Ln(VW,5),Ln(HW,5)),2&e){let i;Mn(i=In())&&(r.graphContainer=i.first),Mn(i=In())&&(r.subgraphDialog=i.first)}},inputs:{graphID:"graphID"},decls:7,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[1,"resize",3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(e,r){1&e&&(Ye(0,"div"),yn(1,"div",0,1),Ye(3,"button",2),Cn("click",function(){return r.resizeToDefault()}),ft(4,"Resize to Default"),$e(),yn(5,"app-sub-graph-dialog",3,4),$e()),2&e&&(jt(1),Xt("id",r.graphID),jt(4),Xt("subgraphID","sub"+r.graphID)("subgraphStyle","glue"))},dependencies:[AE],styles:["div.cy[_ngcontent-%COMP%]{width:760px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const zW=["editorVis"],UW=["graphVis"];function GW(t,n){1&t&&(Ye(0,"div",1),yn(1,"app-editor",2,3),$e()),2&t&&(jt(1),Xt("mode","glue"))}function jW(t,n){1&t&&(Ye(0,"div",1),yn(1,"app-gswb-graph-vis",4,5),$e()),2&t&&(jt(1),Xt("graphID","gswbCy1"))}let WW=(()=>{class t{ngAfterViewInit(){this.showEditor=!1,this.showGraph=!1}editorVisUpdateContent(e){console.log(this.editorVis),this.editorVis.updateContent(e)}graphVisUpdateContent(e){console.log(this.graphVis),this.graphVis.renderGraph(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Er({type:t,selectors:[["app-derivation-container"]],viewQuery:function(e,r){if(1&e&&(Ln(zW,5),Ln(UW,5)),2&e){let i;Mn(i=In())&&(r.editorVis=i.first),Mn(i=In())&&(r.graphVis=i.first)}},decls:4,vars:2,consts:[["class","viscontainer",4,"ngIf"],[1,"viscontainer"],[3,"mode"],["editorVis",""],[3,"graphID"],["graphVis",""]],template:function(e,r){1&e&&(Ye(0,"h3"),ft(1,"Derivation:"),$e(),yr(2,GW,3,1,"div",0),yr(3,jW,3,1,"div",0)),2&e&&(jt(2),Xt("ngIf",r.showEditor),jt(1),Xt("ngIf",r.showGraph))},dependencies:[kl,mp,_R],styles:["div.viscontainer[_ngcontent-%COMP%]{max-width:800px}"]}),t})();const $W=["dialog"],YW=["graphVis"],XW=["editorVis"];function KW(t,n){1&t&&(Ye(0,"div"),yn(1,"app-editor",4,5),$e()),2&t&&(jt(1),Xt("mode","glue"))}function ZW(t,n){1&t&&(Ye(0,"div"),yn(1,"app-gswb-graph-vis",6,7),$e()),2&t&&(jt(1),Xt("graphID","gswbCy2"))}let CR=(()=>{class t{ngAfterViewInit(){this.showEdit=!1,this.showGraph=!1}setContent(e){console.log("Content of dialog window:",e),"string"==typeof e||e instanceof String?(this.showGraph=!1,this.showEdit=!0,e=e.toString(),setTimeout(()=>{this.editorVis?this.editorVis.updateContent(e):console.warn("Editor component not initialized yet")},0)):(this.showEdit=!1,this.showGraph=!0,setTimeout(()=>{this.graphVis?this.graphVis.renderGraph(e):console.warn("Graph component not initialized yet")},0))}showDialog(){this.dialog.nativeElement.show()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Er({type:t,selectors:[["app-dialog"]],viewQuery:function(e,r){if(1&e&&(Ln($W,5),Ln(YW,5),Ln(XW,5)),2&e){let i;Mn(i=In())&&(r.dialog=i.first),Mn(i=In())&&(r.graphVis=i.first),Mn(i=In())&&(r.editorVis=i.first)}},decls:10,vars:2,consts:[[1,"center-dialog"],["dialog",""],[4,"ngIf"],[3,"click"],[3,"mode"],["editorVis",""],[3,"graphID"],["graphVis",""]],template:function(e,r){if(1&e){const i=Ds();Ye(0,"dialog",0,1)(2,"h3"),ft(3,"Derivation:"),$e(),yr(4,KW,3,1,"div",2),yr(5,ZW,3,1,"div",2),Ye(6,"button",3),Cn("click",function(){return Vn(i),hi(Hs(1).close())}),ft(7," OK "),$e()(),Ye(8,"button",3),Cn("click",function(){return r.showDialog()}),ft(9,"Open in new window"),$e()}2&e&&(jt(4),Xt("ngIf",r.showEdit),jt(1),Xt("ngIf",r.showGraph))},dependencies:[kl,mp,_R],styles:[".center-dialog[_ngcontent-%COMP%]{position:fixed;z-index:9999;top:50%;left:50%;transform:translate(-50%,-50%);min-width:800px;max-width:90%;border-style:solid;border-radius:25px;border-color:#00a9e0}dialog[_ngcontent-%COMP%]{max-width:90%}div[_ngcontent-%COMP%]{max-width:90%}"]}),t})(),G0=(()=>{class t{constructor(e){this.fb=e,this.gswbPreferences={prover:0,debugging:!1,outputstyle:0,parseSem:!1,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:!1,naturalDeductionStyle:0},this.gswbPreferencesForm=this.fb.group({prover:[0,Mv.required],outputstyle:[0,Mv.required],parseSem:[!1],explain:[!1],debugging:[!1],ndstyle:[0,Mv.required]})}onSubmit(){const e={prover:this.gswbPreferencesForm.value.prover,outputstyle:this.gswbPreferencesForm.value.outputstyle,parseSem:this.gswbPreferencesForm.value.parseSem,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:this.gswbPreferencesForm.value.explain,debugging:this.gswbPreferencesForm.value.debugging,naturalDeductionStyle:this.gswbPreferencesForm.value.ndstyle};console.log("Gswb preferences: ",e),this.gswbPreferences=e}}return t.\u0275fac=function(e){return new(e||t)(We(TO))},t.\u0275cmp=Er({type:t,selectors:[["app-gswb-settings"]],decls:49,vars:1,consts:[["novalidate","",3,"formGroup","ngSubmit"],["for","prover"],["formControlName","prover","id","prover","name","prover"],["value","0"],["value","1"],["value","2"],["value","3"],["for","outputstyle"],["formControlName","outputstyle","id","outputstyle","name","outputstyle"],["value","4"],["for","parseSem"],["type","checkbox","formControlName","parseSem","id","parseSem","name","parseSem"],["for","explain"],["type","checkbox","formControlName","explain","id","explain","name","explain"],["for","debugging"],["type","checkbox","formControlName","debugging","id","debugging","name","debugging"],["for","ndstyle"],["formControlName","ndstyle","id","ndstyle","name","ndstyle"]],template:function(e,r){1&e&&(Ye(0,"h3"),ft(1,"Settings:"),$e(),Ye(2,"form",0),Cn("ngSubmit",function(){return r.onSubmit()}),Ye(3,"div")(4,"label",1),ft(5,"Prover:"),$e(),Ye(6,"select",2)(7,"option",3),ft(8,"Hepple"),$e(),Ye(9,"option",4),ft(10,"Lev"),$e(),Ye(11,"option",5),ft(12,"Lev optimized "),$e(),Ye(13,"option",6),ft(14,"Multi stage proving"),$e()()(),Ye(15,"div")(16,"label",7),ft(17,"Output Style:"),$e(),Ye(18,"select",8)(19,"option",3),ft(20,"Plain"),$e(),Ye(21,"option",4),ft(22,"Prolog"),$e(),Ye(23,"option",6),ft(24,"NLTK"),$e(),Ye(25,"option",9),ft(26,"Prolog DRT"),$e()()(),Ye(27,"div")(28,"label",10),yn(29,"input",11),ft(30," Parse Semantics "),$e()(),Ye(31,"div")(32,"label",12),yn(33,"input",13),ft(34," Explanation "),$e()(),Ye(35,"div")(36,"label",14),yn(37,"input",15),ft(38," Debugging "),$e()(),Ye(39,"div")(40,"label",16),ft(41,"Natural deduction style:"),$e(),Ye(42,"select",17)(43,"option",3),ft(44,"Full semantics"),$e(),Ye(45,"option",4),ft(46,"Reduced semantics"),$e(),Ye(47,"option",5),ft(48,"No semantics"),$e()()()()),2&e&&(jt(2),Xt("formGroup",r.gswbPreferencesForm))},dependencies:[wx,Ex,Sx,n0,Bv,Wg,cx,Fv,p0],styles:["form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}div[_ngcontent-%COMP%]{flex-basis:50%;margin-bottom:10px}label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:5px}select[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{width:auto;margin-right:5px}"]}),t})();const qW=["edit1"],QW=["derivation"],JW=["sem1"],e6=["log1"],t6=["dialog"],n6=["gswbPrefs"];function r6(t,n){1&t&&(Ye(0,"span"),ft(1,"Calculate semantics"),$e())}function i6(t,n){1&t&&yn(0,"span",11)}function o6(t,n){1&t&&(Ye(0,"span"),ft(1,"Loading..."),$e())}let a6=(()=>{class t{constructor(e){this.dataService=e,this.loading=!1}calculateSemantics(){this.loading=!0,this.gswbPreferences.onSubmit();const e={premises:this.editor1.getContent(),gswbPreferences:this.gswbPreferences.gswbPreferences};this.dataService.gswbDeduce(e).subscribe(r=>{if(this.loading=!1,r.hasOwnProperty("solutions"))if(r.solutions.length>0){r.solutions.forEach(s=>{console.log(s),this.sem.updateContent(s)});let i=r.solutions.join("\n");this.sem.updateContent(i)}else this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] No solutions found.");else this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] No solutions found.");if(r.hasOwnProperty("log")&&this.log.updateContent(r.log),r.hasOwnProperty("derivation")&&this.gswbPreferences.gswbPreferences.explainFail)if(console.log(r.derivation),r.derivation.hasOwnProperty("graphElements")){console.log(r.derivation.graphElements),this.derivationContainer.showEditor=!1,this.derivationContainer.showGraph=!0;const i=r.derivation.graphElements;setTimeout(()=>{this.derivationContainer.graphVisUpdateContent(i)},0),this.dialog.setContent(i)}else this.derivationContainer.showGraph=!1,this.derivationContainer.showEditor=!0,setTimeout(()=>{this.derivationContainer.editorVisUpdateContent(r.derivation.toString())},0),this.dialog.setContent(r.derivation.toString())},r=>{console.log("ERROR: ",r),this.loading=!1,this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] An error occurred."),console.log("Sent following request: ",e)})}}return t.\u0275fac=function(e){return new(e||t)(We(Kg))},t.\u0275cmp=Er({type:t,selectors:[["app-gswb-vis"]],viewQuery:function(e,r){if(1&e&&(Ln(qW,5),Ln(QW,5),Ln(JW,5),Ln(e6,5),Ln(t6,5),Ln(n6,5)),2&e){let i;Mn(i=In())&&(r.editor1=i.first),Mn(i=In())&&(r.derivationContainer=i.first),Mn(i=In())&&(r.sem=i.first),Mn(i=In())&&(r.log=i.first),Mn(i=In())&&(r.dialog=i.first),Mn(i=In())&&(r.gswbPreferences=i.first)}},decls:25,vars:6,consts:[[1,"editor-restr"],[3,"mode"],["edit1",""],["gswbPrefs",""],[3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["sem1",""],["log1",""],["derivation",""],["dialog",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,r){1&e&&(Ye(0,"h3"),ft(1," Meaning constructors:\n"),$e(),Ye(2,"div",0),yn(3,"app-editor",1,2),$e(),yn(5,"app-gswb-settings",null,3),Ye(7,"button",4),Cn("click",function(){return r.calculateSemantics()}),yr(8,r6,2,0,"span",5),yr(9,i6,1,0,"span",6),yr(10,o6,2,0,"span",5),$e(),Ye(11,"h3"),ft(12," Semantics: "),$e(),Ye(13,"div",0),yn(14,"app-editor",1,7),$e(),Ye(16,"h3"),ft(17,"Log:"),$e(),Ye(18,"div",0),yn(19,"app-editor",1,8),$e(),yn(21,"app-derivation-container",null,9)(23,"app-dialog",null,10)),2&e&&(jt(3),Xt("mode","glue"),jt(5),Xt("ngIf",!r.loading),jt(1),Xt("ngIf",r.loading),jt(1),Xt("ngIf",r.loading),jt(4),Xt("mode","glue"),jt(5),Xt("mode","glue"))},dependencies:[kl,mp,WW,CR,G0],styles:[".spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}"]}),t})(),s6=(()=>{class t{constructor(){this.delete=new lr,this.calculateFromRule=new lr}onDelete(){this.delete.emit(this.data)}calculate(){this.calculateFromRule.emit(this.data)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Er({type:t,selectors:[["app-rule-list-element"]],inputs:{data:"data"},outputs:{delete:"delete",calculateFromRule:"calculateFromRule"},decls:7,vars:3,consts:[[1,"rule"],[3,"ngModel","ngModelChange"],[3,"click"]],template:function(e,r){1&e&&(Ye(0,"div",0)(1,"textarea",1),Cn("ngModelChange",function(s){return r.data.rule.rule=s}),ft(2," "),$e(),Ye(3,"button",2),Cn("click",function(){return r.calculate()}),ft(4),$e(),Ye(5,"button",2),Cn("click",function(){return r.onDelete()}),ft(6,"Delete"),$e()()),2&e&&(jt(1),Xt("ngModel",r.data.rule.rule),jt(3),lb(" Calculate graph at rule: ",r.data.rule.index," (line ",r.data.rule.lineNumber,") "))},dependencies:[jg,Wg,Lv],styles:["div.rule[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{width:100%;resize:none}"]}),t})();function l6(t,n){if(1&t){const e=Ds();Ye(0,"div",1)(1,"app-rule-list-element",2),Cn("delete",function(){const s=Vn(e).index;return hi(ni().removeElement(s))})("calculateFromRule",function(i){return Vn(e),hi(ni().calculateFromRuleList(i))}),$e()()}if(2&t){const e=n.$implicit;jt(1),Xt("data",e)}}let u6=(()=>{class t{constructor(){this.elements=[],this.delete=new lr,this.calculateFromRule=new lr}addElement(e){this.elements.push(e),console.log(e)}removeElement(e){e>=0&&e<this.elements.length&&this.elements.splice(e,1)}calculateFromRuleList(e){this.calculateFromRule.emit(e)}clearList(){this.elements=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Er({type:t,selectors:[["app-rule-list"]],outputs:{delete:"delete",calculateFromRule:"calculateFromRule"},decls:2,vars:1,consts:[["class","rule-container",4,"ngFor","ngForOf"],[1,"rule-container"],[3,"data","delete","calculateFromRule"]],template:function(e,r){1&e&&(Ye(0,"div"),yr(1,l6,2,1,"div",0),$e()),2&e&&(jt(1),Xt("ngForOf",r.elements))},dependencies:[Ng,s6],styles:["div[_ngcontent-%COMP%]{width:800px;border:2px solid #00a9e0;margin:5px;overflow:auto;box-sizing:border-box}div.rule-container[_ngcontent-%COMP%]{width:100%;column-gap:20px;padding:5px;border:2px solid #00a9e0;align-items:flex-start;box-sizing:border-box}"]}),t})();var c6=D(3848),xR=D.n(c6);const d6=["graphContainer"],f6=["subgraphDialog"];Ws().use(k0()),Ws().use(xR());const ER=[{selector:'node[node_type="input"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="cnode"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="annotation"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="proj"]',style:{width:3,"line-color":"#ccc","line-style":"dashed","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:"edge[label]",style:{label:"data(label)","text-rotation":"autorotate","text-margin-x":15,"text-margin-y":0}}];let h6=(()=>{class t{constructor(){this.nodesHidden=!1,this.selector='node[node_type="cnode"]',this.defaultWidth="800px",this.defaultHeight="600px"}ngOnInit(){this.cy=Ws()({container:document.getElementById("cy"),style:ER,layout:{name:"dagre"}})}makePopper(e){const r=e.popperRef();e.tippy=ty(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;if(s.hasOwnProperty("avp"))for(var c in s.avp)i.innerHTML=i.innerHTML+c+" : "+s.avp[c]+"<br>";return i},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("avp")&&(this.makePopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}renderGraph(e){this.cy=Ws()({container:document.getElementById(this.graphID),elements:e,style:ER,layout:{name:"dagre"}}),this.createAndBindPoppers(),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy)}resizeToDefault(){const e=this.graphContainer.nativeElement;e.style.width=this.defaultWidth,e.style.height=this.defaultHeight}showDialog(){this.subgraphDialog.setContent(this.cy.data()),this.subgraphDialog.showDialog()}toggleNodes(){const e=this.cy.nodes(this.selector);this.cy.batch(()=>{e.style("display",this.nodesHidden?"element":"none"),this.nodesHidden=!this.nodesHidden})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Er({type:t,selectors:[["app-graph-vis"]],viewQuery:function(e,r){if(1&e&&(Ln(d6,5),Ln(f6,5)),2&e){let i;Mn(i=In())&&(r.graphContainer=i.first),Mn(i=In())&&(r.subgraphDialog=i.first)}},inputs:{graphID:"graphID"},decls:9,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(e,r){1&e&&(Ye(0,"div"),yn(1,"div",0,1),Ye(3,"button",2),Cn("click",function(){return r.resizeToDefault()}),ft(4,"Resize to Default"),$e(),Ye(5,"button",2),Cn("click",function(){return r.toggleNodes()}),ft(6,"Toggle c-structure"),$e(),yn(7,"app-sub-graph-dialog",3,4),$e()),2&e&&(jt(1),Xt("id",r.graphID),jt(6),Xt("subgraphID","sub"+r.graphID)("subgraphStyle","liger"))},dependencies:[AE],styles:["div.cy[_ngcontent-%COMP%]{width:800px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const p6=["*"];let em=(()=>{class t{constructor(e){this.hideComponentService=e,this.showText="Show Content",this.hideText="Hide Content",this.isHidden=!1}ngOnInit(){this.hideSubscription=this.hideComponentService.toggleObservable.subscribe(e=>{if(!e.type||e.type===this.type)switch(e.action){case Yu.Hide:this.isHidden=!0;break;case Yu.Show:this.isHidden=!1}})}ngOnDestroy(){this.hideSubscription.unsubscribe()}toggleDisplay(){this.isHidden=!this.isHidden}}return t.\u0275fac=function(e){return new(e||t)(We(vI))},t.\u0275cmp=Er({type:t,selectors:[["app-toggle-display"]],inputs:{type:"type",showText:"showText",hideText:"hideText"},ngContentSelectors:p6,decls:4,vars:3,consts:[[1,"hide-button",3,"click"]],template:function(e,r){1&e&&(Cg(),Ye(0,"div"),xg(1),$e(),Ye(2,"button",0),Cn("click",function(){return r.toggleDisplay()}),ft(3),$e()),2&e&&(Zm("display",r.isHidden?"none":"block"),jt(3),Qm(r.isHidden?r.showText:r.hideText))},encapsulation:2}),t})();class g6{}class v6{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(n=!1,e,r=!0,i){this._multiple=n,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new It,e&&e.length&&(n?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(r=>this._markSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...n){this._verifyValueAssignment(n),n.forEach(r=>this._unmarkSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...n){this._verifyValueAssignment(n);const e=this.selected,r=new Set(n);n.forEach(s=>this._markSelected(s)),e.filter(s=>!r.has(s)).forEach(s=>this._unmarkSelected(s));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();const e=this._hasQueuedChanges();return n&&this._emitChangeEvent(),e}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(n){if(this.compareWith){for(let e of this._selection)if(this.compareWith(n,e))return e;return n}return n}}function Ku(t){return it((n,e)=>{No(t).subscribe(pt(e,()=>e.complete(),H)),!e.closed&&n.subscribe(e)})}function cl(t){return null!=t&&"false"!=`${t}`}function lh(t,n=0){return function y6(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function DR(t){return Array.isArray(t)?t:[t]}function tm(t){return t instanceof ti?t.nativeElement:t}const b6=new Zt("cdk-dir-doc",{providedIn:"root",factory:function w6(){return nn(Di)}}),_6=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let nm=(()=>{class t{constructor(e){this.value="ltr",this.change=new lr,e&&(this.value=function C6(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?_6.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Pt(b6,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),SR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({}),t})();class x6{constructor(){this.expansionModel=new v6(!0)}toggle(n){this.expansionModel.toggle(this._trackByValue(n))}expand(n){this.expansionModel.select(this._trackByValue(n))}collapse(n){this.expansionModel.deselect(this._trackByValue(n))}isExpanded(n){return this.expansionModel.isSelected(this._trackByValue(n))}toggleDescendants(n){this.expansionModel.isSelected(this._trackByValue(n))?this.collapseDescendants(n):this.expandDescendants(n)}collapseAll(){this.expansionModel.clear()}expandDescendants(n){let e=[n];e.push(...this.getDescendants(n)),this.expansionModel.select(...e.map(r=>this._trackByValue(r)))}collapseDescendants(n){let e=[n];e.push(...this.getDescendants(n)),this.expansionModel.deselect(...e.map(r=>this._trackByValue(r)))}_trackByValue(n){return this.trackBy?this.trackBy(n):n}}class E6 extends x6{constructor(n,e){super(),this.getChildren=n,this.options=e,this.options&&(this.trackBy=this.options.trackBy)}expandAll(){this.expansionModel.clear();const n=this.dataNodes.reduce((e,r)=>[...e,...this.getDescendants(r),r],[]);this.expansionModel.select(...n.map(e=>this._trackByValue(e)))}getDescendants(n){const e=[];return this._getDescendants(e,n),e.splice(1)}_getDescendants(n,e){n.push(e);const r=this.getChildren(e);Array.isArray(r)?r.forEach(i=>this._getDescendants(n,i)):Pb(r)&&r.pipe(Uc(1),Pl(Boolean)).subscribe(i=>{for(const s of i)this._getDescendants(n,s)})}}const j0=new Zt("CDK_TREE_NODE_OUTLET_NODE");let ny=(()=>{class t{constructor(e,r){this.viewContainer=e,this._node=r}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(j0,8))},t.\u0275dir=ln({type:t,selectors:[["","cdkTreeNodeOutlet",""]]}),t})();class D6{constructor(n){this.$implicit=n}}let W0=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(We(Us))},t.\u0275dir=ln({type:t,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),t})(),uf=(()=>{class t{get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}constructor(e,r){this._differs=e,this._changeDetectorRef=r,this._onDestroy=new It,this._levels=new Map,this.viewChange=new cn({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const e=this._nodeDefs.filter(r=>!r.when);this._defaultNodeDef=e[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let e;!function m6(t){return t&&"function"==typeof t.connect&&!(t instanceof BC)}(this._dataSource)?Pb(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=Je(this._dataSource)):e=this._dataSource.connect(this),e&&(this._dataSubscription=e.pipe(Ku(this._onDestroy)).subscribe(r=>this.renderNodeChanges(r)))}renderNodeChanges(e,r=this._dataDiffer,i=this._nodeOutlet.viewContainer,s){const c=r.diff(e);c&&(c.forEachOperation((m,w,N)=>{if(null==m.previousIndex)this.insertNode(e[N],N,i,s);else if(null==N)i.remove(w),this._levels.delete(m.item);else{const U=i.get(w);i.move(U,N)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(e,r){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(s=>s.when&&s.when(r,e))||this._defaultNodeDef}insertNode(e,r,i,s){const c=this._getNodeDef(e,r),m=new D6(e);m.level=this.treeControl.getLevel?this.treeControl.getLevel(e):typeof s<"u"&&this._levels.has(s)?this._levels.get(s)+1:0,this._levels.set(e,m.level),(i||this._nodeOutlet.viewContainer).createEmbeddedView(c.template,m,r),Kc.mostRecentTreeNode&&(Kc.mostRecentTreeNode.data=e)}}return t.\u0275fac=function(e){return new(e||t)(We(np),We(os))},t.\u0275cmp=Er({type:t,selectors:[["cdk-tree"]],contentQueries:function(e,r,i){if(1&e&&Kf(i,W0,5),2&e){let s;Mn(s=In())&&(r._nodeDefs=s)}},viewQuery:function(e,r){if(1&e&&Ln(ny,7),2&e){let i;Mn(i=In())&&(r._nodeOutlet=i.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(e,r){1&e&&Xm(0,0)},dependencies:[ny],encapsulation:2}),t})(),Kc=(()=>{class t{get role(){return"treeitem"}set role(e){this._elementRef.nativeElement.setAttribute("role",e)}get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(e,r){this._elementRef=e,this._tree=r,this._destroyed=new It,this._dataChanges=new It,t.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function S6(t){let n=t.parentElement;for(;n&&!T6(n);)n=n.parentElement;return n?n.classList.contains("cdk-nested-tree-node")?lh(n.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){t.mostRecentTreeNode===this&&(t.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return t.mostRecentTreeNode=null,t.\u0275fac=function(e){return new(e||t)(We(ti),We(uf))},t.\u0275dir=ln({type:t,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(e,r){2&e&&Es("aria-expanded",r.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),t})();function T6(t){const n=t.classList;return!(!n?.contains("cdk-nested-tree-node")&&!n?.contains("cdk-tree"))}let kE,OE=(()=>{class t extends Kc{constructor(e,r,i){super(e,r),this._differs=i}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);const e=this._tree.treeControl.getChildren(this.data);Array.isArray(e)?this.updateChildrenNodes(e):Pb(e)&&e.pipe(Ku(this._destroyed)).subscribe(r=>this.updateChildrenNodes(r)),this.nodeOutlet.changes.pipe(Ku(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(e){const r=this._getNodeOutlet();e&&(this._children=e),r&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,r.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const e=this._getNodeOutlet();e&&(e.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const e=this.nodeOutlet;return e&&e.find(r=>!r._node||r._node===this)}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(uf),We(np))},t.\u0275dir=ln({type:t,selectors:[["cdk-nested-tree-node"]],contentQueries:function(e,r,i){if(1&e&&Kf(i,ny,5),2&e){let s;Mn(s=In())&&(r.nodeOutlet=s)}},hostAttrs:[1,"cdk-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["cdkNestedTreeNode"],features:[$r([{provide:Kc,useExisting:t},{provide:j0,useExisting:t}]),qn]}),t})(),RE=(()=>{class t{get recursive(){return this._recursive}set recursive(e){this._recursive=cl(e)}constructor(e,r){this._tree=e,this._treeNode=r,this._recursive=!1}_toggle(e){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),e.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(We(uf),We(Kc))},t.\u0275dir=ln({type:t,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(e,r){1&e&&Cn("click",function(s){return r._toggle(s)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),t})(),I6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({}),t})();try{kE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{kE=!1}let ry,PE,Zu=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function g3(t){return t===WM}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!kE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Pt(Yf))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function iy(t){return function A6(){if(null==ry&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ry=!0}))}finally{ry=ry||!1}return ry}()?t:!!t.capture}function im(t){return t.composedPath?t.composedPath()[0]:t.target}function MR(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class e$ extends C{constructor(n,e){super()}schedule(n,e=0){return this}}const Y0={setInterval(t,n,...e){const{delegate:r}=Y0;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=Y0;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class LE extends e${constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,e),this}requestAsyncId(n,e,r=0){return Y0.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&Y0.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i,r=!1;try{this.work(n)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,I(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const IR={now:()=>(IR.delegate||Date).now(),delegate:void 0};class oy{constructor(n,e=oy.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}oy.now=IR.now;class FE extends oy{constructor(n,e=oy.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}const BE=new FE(LE),t$=BE;function VE(t,n=BE){return it((e,r)=>{let i=null,s=null,c=null;const m=()=>{if(i){i.unsubscribe(),i=null;const N=s;s=null,r.next(N)}};function w(){const N=c+t,U=n.now();if(U<N)return i=this.schedule(void 0,N-U),void r.add(i);m()}e.subscribe(pt(r,N=>{s=N,c=n.now(),i||(i=n.schedule(w,t),r.add(i))},()=>{m(),r.complete()},void 0,()=>{s=i=null}))})}function HE(t){return Pl((n,e)=>t<=e)}let AR=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),n$=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=tm(e);return new Ke(i=>{const c=this._observeElement(r).subscribe(i);return()=>{c.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new It,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return t.\u0275fac=function(e){return new(e||t)(Pt(AR))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),r$=(()=>{class t{get disabled(){return this._disabled}set disabled(e){this._disabled=cl(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=lh(e),this._subscribe()}constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new lr,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(VE(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(We(n$),We(ti),We(Yr))},t.\u0275dir=ln({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),OR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({providers:[AR]}),t})();const NR=new Set;let wp,i$=(()=>{class t{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):a$}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function o$(t,n){if(!NR.has(t))try{wp||(wp=document.createElement("style"),n&&(wp.nonce=n),wp.setAttribute("type","text/css"),document.head.appendChild(wp)),wp.sheet&&(wp.sheet.insertRule(`@media ${t} {body{ }}`,0),NR.add(t))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Zu),Pt(Lw,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function a$(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let s$=(()=>{class t{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new It}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return RR(DR(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let s=Lb(RR(DR(e)).map(c=>this._registerQuery(c).observable));return s=Bb(s.pipe(Uc(1)),s.pipe(HE(1),VE(0))),s.pipe(St(c=>{const m={matches:!1,breakpoints:{}};return c.forEach(({matches:w,query:N})=>{m.matches=m.matches||w,m.breakpoints[N]=w}),m}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),s={observable:new Ke(c=>{const m=w=>this._zone.run(()=>c.next(w));return r.addListener(m),()=>{r.removeListener(m)}}).pipe(hv(r),St(({matches:c})=>({query:e,matches:c})),Ku(this._destroySubject)),mql:r};return this._queries.set(e,s),s}}return t.\u0275fac=function(e){return new(e||t)(Pt(i$),Pt(Yr))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function RR(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}class c${constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new It,this._typeaheadSubscription=C.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new It,this.change=new It,n instanceof Mg&&(this._itemChangesSubscription=n.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ga(e=>this._pressedLetters.push(e)),VE(n),Pl(()=>this._pressedLetters.length>0),St(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,c=r[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!n[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex+this._pageUpAndDown.delta,c=this._getItemsArray().length;this._setActiveItemByIndex(s<c?s:c-1,-1);break}return;default:return void((i||MR(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),r="number"==typeof n?n:e.indexOf(n);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+n*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const r=this._getItemsArray();if(r[n]){for(;this._skipPredicateFn(r[n]);)if(!r[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof Mg?this._items.toArray():this._items}}class d$ extends c${constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}function FR(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function BR(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const v$=new Zt("cdk-input-modality-detector-options"),y$={ignoreKeys:[18,17,224,91,16]},om=iy({passive:!0,capture:!0});let b$=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(e,r,i,s){this._platform=e,this._mostRecentTarget=null,this._modality=new cn(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(m=>m===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=im(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(FR(c)?"keyboard":"mouse"),this._mostRecentTarget=im(c))},this._onTouchstart=c=>{BR(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=im(c))},this._options={...y$,...s},this.modalityDetected=this._modality.pipe(HE(1)),this.modalityChanged=this.modalityDetected.pipe(tn()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,om),i.addEventListener("mousedown",this._onMousedown,om),i.addEventListener("touchstart",this._onTouchstart,om)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,om),document.removeEventListener("mousedown",this._onMousedown,om),document.removeEventListener("touchstart",this._onTouchstart,om))}}return t.\u0275fac=function(e){return new(e||t)(Pt(Zu),Pt(Yr),Pt(Di),Pt(v$,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const _$=new Zt("cdk-focus-monitor-default-options"),X0=iy({passive:!0,capture:!0});let HR=(()=>{class t{constructor(e,r,i,s,c){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new It,this._rootNodeFocusAndBlurListener=m=>{for(let N=im(m);N;N=N.parentElement)"focus"===m.type?this._onFocus(m,N):this._onBlur(m,N)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(e,r=!1){const i=tm(e);if(!this._platform.isBrowser||1!==i.nodeType)return Je();const s=function N6(t){if(function O6(){if(null==PE){const t=typeof document<"u"?document.head:null;PE=!(!t||!t.createShadowRoot&&!t.attachShadow)}return PE}()){const n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const m={checkChildren:r,subject:new It,rootNode:s};return this._elementInfo.set(i,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const r=tm(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const s=tm(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([m,w])=>this._originChanged(m,r,w)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),s=im(e);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,X0),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,X0)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ku(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,X0),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,X0),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,s)=>{(s===e||i.checkChildren&&s.contains(e))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(r))return!0;return!1}}return t.\u0275fac=function(e){return new(e||t)(Pt(Yr),Pt(Zu),Pt(b$),Pt(Di,8),Pt(_$,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),C$=(()=>{class t{constructor(e,r){this._elementRef=e,this._focusMonitor=r,this._focusOrigin=null,this.cdkFocusChange=new lr}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(HR))},t.\u0275dir=ln({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),t})();const zR="cdk-high-contrast-black-on-white",UR="cdk-high-contrast-white-on-black",zE="cdk-high-contrast-active";let GR=(()=>{class t{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=nn(s$).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(zE,zR,UR),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(zE,zR):2===r&&e.add(zE,UR)}}}return t.\u0275fac=function(e){return new(e||t)(Pt(Zu),Pt(Di))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),x$=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(Pt(GR))},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[OR]}),t})();const D$=new Zt("mat-sanity-checks",{providedIn:"root",factory:function E$(){return!0}});let Zc=(()=>{class t{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function R6(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return t.\u0275fac=function(e){return new(e||t)(Pt(GR),Pt(D$,8),Pt(Di))},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[SR,SR]}),t})();function K0(t){return class extends t{get disabled(){return this._disabled}set disabled(n){this._disabled=cl(n)}constructor(...n){super(...n),this._disabled=!1}}}function UE(t,n){return class extends t{get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...e){super(...e),this.defaultColor=n,this.color=n}}}function $R(t){return class extends t{get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=cl(n)}constructor(...n){super(...n),this._disableRipple=!1}}}function S$(t,n=0){return class extends t{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?lh(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=n,this.defaultTabIndex=n}}}class M${constructor(n,e,r,i=!1){this._renderer=n,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const YR=iy({passive:!0,capture:!0});class I${constructor(){this._events=new Map,this._delegateEventHandler=n=>{const e=im(n);e&&this._events.get(n.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(s=>s.handleEvent(n))})}}addHandler(n,e,r,i){const s=this._events.get(e);if(s){const c=s.get(r);c?c.add(i):s.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,YR)})}removeHandler(n,e,r){const i=this._events.get(n);if(!i)return;const s=i.get(e);s&&(s.delete(r),0===s.size&&i.delete(e),0===i.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,YR)))}}const XR={enterDuration:225,exitDuration:150},KR=iy({passive:!0,capture:!0}),ZR=["mousedown","touchstart"],qR=["mouseup","mouseleave","touchend","touchcancel"];class am{constructor(n,e,r,i){this._target=n,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=tm(r))}fadeInRipple(n,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...XR,...r.animation};r.centered&&(n=i.left+i.width/2,e=i.top+i.height/2);const c=r.radius||function O$(t,n,e){const r=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),i=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(r*r+i*i)}(n,e,i),m=n-i.left,w=e-i.top,N=s.enterDuration,U=document.createElement("div");U.classList.add("mat-ripple-element"),U.style.left=m-c+"px",U.style.top=w-c+"px",U.style.height=2*c+"px",U.style.width=2*c+"px",null!=r.color&&(U.style.backgroundColor=r.color),U.style.transitionDuration=`${N}ms`,this._containerElement.appendChild(U);const K=window.getComputedStyle(U),be=K.transitionDuration,Se="none"===K.transitionProperty||"0s"===be||"0s, 0s"===be||0===i.width&&0===i.height,Fe=new M$(this,U,r,Se);U.style.transform="scale3d(1, 1, 1)",Fe.state=0,r.persistent||(this._mostRecentTransientRipple=Fe);let nt=null;return!Se&&(N||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const mt=()=>this._finishRippleTransition(Fe),et=()=>this._destroyRipple(Fe);U.addEventListener("transitionend",mt),U.addEventListener("transitioncancel",et),nt={onTransitionEnd:mt,onTransitionCancel:et}}),this._activeRipples.set(Fe,nt),(Se||!N)&&this._finishRippleTransition(Fe),Fe}fadeOutRipple(n){if(2===n.state||3===n.state)return;const e=n.element,r={...XR,...n.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=tm(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,ZR.forEach(r=>{am._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{qR.forEach(e=>{this._triggerElement.addEventListener(e,this,KR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const e=n===this._mostRecentTransientRipple,{persistent:r}=n.config;n.state=1,!r&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==e&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){const e=FR(n),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!BR(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(ZR.forEach(e=>am._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&qR.forEach(e=>n.removeEventListener(e,this,KR)))}}am._eventManager=new I$;const QR=new Zt("mat-ripple-global-options");let GE=(()=>{class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,i,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new am(this,r,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(Yr),We(Zu),We(QR,8),We(kc,8))},t.\u0275dir=ln({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&Ha("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),t})(),JR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[Zc,Zc]}),t})();const N$=S$(K0(Kc));let ek=(()=>{class t extends N${constructor(e,r,i){super(e,r),this.tabIndex=Number(i)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(uf),y("tabindex"))},t.\u0275dir=ln({type:t,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[$r([{provide:Kc,useExisting:t}]),qn]}),t})(),tk=(()=>{class t extends W0{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[$r([{provide:W0,useExisting:t}]),qn]}),t})(),nk=(()=>{class t extends OE{get disabled(){return this._disabled}set disabled(e){this._disabled=cl(e)}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=e??0}constructor(e,r,i,s){super(e,r,i),this._disabled=!1,this.tabIndex=Number(s)||0}ngOnInit(){super.ngOnInit()}ngAfterContentInit(){super.ngAfterContentInit()}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(uf),We(np),y("tabindex"))},t.\u0275dir=ln({type:t,selectors:[["mat-nested-tree-node"]],hostAttrs:[1,"mat-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex",node:["matNestedTreeNode","node"]},exportAs:["matNestedTreeNode"],features:[$r([{provide:OE,useExisting:t},{provide:Kc,useExisting:t},{provide:j0,useExisting:t}]),qn]}),t})(),Z0=(()=>{class t{constructor(e,r){this.viewContainer=e,this._node=r}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(j0,8))},t.\u0275dir=ln({type:t,selectors:[["","matTreeNodeOutlet",""]],features:[$r([{provide:ny,useExisting:t}])]}),t})(),rk=(()=>{class t extends uf{constructor(){super(...arguments),this._nodeOutlet=void 0}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275cmp=Er({type:t,selectors:[["mat-tree"]],viewQuery:function(e,r){if(1&e&&Ln(Z0,7),2&e){let i;Mn(i=In())&&(r._nodeOutlet=i.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[$r([{provide:uf,useExisting:t}]),qn],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(e,r){1&e&&Xm(0,0)},dependencies:[Z0],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2}),t})(),ik=(()=>{class t extends RE{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[$r([{provide:RE,useExisting:t}]),qn]}),t})(),k$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[I6,Zc,Zc]}),t})();class P$ extends g6{constructor(){super(...arguments),this._data=new cn([])}get data(){return this._data.value}set data(n){this._data.next(n)}connect(n){return rt(n.viewChange,this._data).pipe(St(()=>this.data))}disconnect(){}}const L$=["*"];let q0;function sy(t){return function F$(){if(void 0===q0&&(q0=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(q0=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return q0}()?.createHTML(t)||t}function ok(t){return Error(`Unable to find icon with the name "${t}"`)}function ak(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function sk(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class _p{constructor(n,e,r){this.url=n,this.svgText=e,this.options=r}}let Q0=(()=>{class t{constructor(e,r,i,s){this._httpClient=e,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,s){return this._addSvgIconConfig(e,r,new _p(i,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,s){const c=this._sanitizer.sanitize(pi.HTML,i);if(!c)throw sk(i);const m=sy(c);return this._addSvgIconConfig(e,r,new _p("",m,s))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new _p(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const s=this._sanitizer.sanitize(pi.HTML,r);if(!s)throw sk(r);const c=sy(s);return this._addSvgIconSetConfig(e,new _p("",c,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(pi.RESOURCE_URL,e);if(!r)throw ak(e);const i=this._cachedIconsByUrl.get(r);return i?Je(J0(i)):this._loadSvgIconFromConfig(new _p(e,null)).pipe(ga(s=>this._cachedIconsByUrl.set(r,s)),St(s=>J0(s)))}getNamedSvgIcon(e,r=""){const i=lk(r,e);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,e),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(e,c):Rg(ok(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Je(J0(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(St(r=>J0(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?Je(i):EA(r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(nf(m=>{const N=`Loading icon set URL: ${this._sanitizer.sanitize(pi.RESOURCE_URL,c.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(N)),Je(null)})))).pipe(St(()=>{const c=this._extractIconWithNameFromAnySet(e,r);if(!c)throw ok(e);return c}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),m=this._extractSvgIconFromSet(c,e,s.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(ga(r=>e.svgText=r),St(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Je(null):this._fetchIcon(e).pipe(ga(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const s=e.querySelector(`[id="${r}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,i);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),i);const m=this._svgElementFromString(sy("<svg></svg>"));return m.appendChild(c),this._setSvgAttributes(m,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(sy("<svg></svg>")),i=e.attributes;for(let s=0;s<i.length;s++){const{name:c,value:m}=i[s];"id"!==c&&r.setAttribute(c,m)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,s=i?.withCredentials??!1;if(!this._httpClient)throw function B$(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const c=this._sanitizer.sanitize(pi.RESOURCE_URL,r);if(!c)throw ak(r);const m=this._inProgressUrlFetches.get(c);if(m)return m;const w=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe(St(N=>sy(N)),Pg(()=>this._inProgressUrlFetches.delete(c)),Qt());return this._inProgressUrlFetches.set(c,w),w}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(lk(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,e);if(s)return H$(s)?new _p(s.url,null,s.options):new _p(s,null)}}}return t.\u0275fac=function(e){return new(e||t)(Pt(y0,8),Pt(kb),Pt(Di,8),Pt(Pc))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function J0(t){return t.cloneNode(!0)}function lk(t,n){return t+":"+n}function H$(t){return!(!t.url||!t.options)}const z$=UE(class{constructor(t){this._elementRef=t}}),U$=new Zt("MAT_ICON_DEFAULT_OPTIONS"),G$=new Zt("mat-icon-location",{providedIn:"root",factory:function j$(){const t=nn(Di),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),uk=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],W$=uk.map(t=>`[${t}]`).join(", "),$$=/^url\(['"]?#(.*?)['"]?\)$/;let Y$=(()=>{class t extends z${get inline(){return this._inline}set inline(e){this._inline=cl(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,i,s,c,m){super(e),this._iconRegistry=r,this._location=s,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=C.EMPTY,m&&(m.color&&(this.color=this.defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(W$),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)uk.forEach(c=>{const m=r[s],w=m.getAttribute(c),N=w?w.match($$):null;if(N){let U=i.get(m);U||(U=[],i.set(m,U)),U.push({name:c,value:N[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Uc(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(Q0),y("aria-hidden"),We(G$),We(Pc),We(U$,8))},t.\u0275cmp=Er({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,r){2&e&&(Es("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ha("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[qn],ngContentSelectors:L$,decls:1,vars:0,template:function(e,r){1&e&&(Cg(),xg(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),t})(),X$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[Zc,Zc]}),t})();const Z$=["mat-icon-button",""],q$=["*"],ck={capture:!0},dk=["focus","click","mouseenter","touchstart"],ly="mat-button-ripple-uninitialized";let Q$=(()=>{class t{constructor(){this._document=nn(Di,{optional:!0}),this._animationMode=nn(kc,{optional:!0}),this._globalRippleOptions=nn(QR,{optional:!0}),this._platform=nn(Zu),this._ngZone=nn(Yr),this._onInteraction=e=>{if(e.target===this._document)return;const i=e.target.closest(`[${ly}]`);i&&(i.removeAttribute(ly),this._appendRipple(i))},this._ngZone.runOutsideAngular(()=>{for(const e of dk)this._document?.addEventListener(e,this._onInteraction,ck)})}ngOnDestroy(){for(const e of dk)this._document?.removeEventListener(e,this._onInteraction,ck)}_appendRipple(e){if(!this._document)return;const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new J$(e,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);i.rippleConfig.centered=e.hasAttribute("mat-icon-button"),new am(i,this._ngZone,r,this._platform).setupTriggerEvents(e),e.append(r)}_createMatRipple(e){if(!this._document)return;e.querySelector(".mat-mdc-button-ripple")?.remove(),e.removeAttribute(ly);const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new GE(new ti(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return i._isInitialized=!0,i.trigger=e,e.append(r),i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class J${constructor(n,e,r){this._button=n,this._globalRippleOptions=e,this._setRippleConfig(e,r)}_setRippleConfig(n,e){this.rippleConfig=n||{},"NoopAnimations"===e&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const e9=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],t9=UE(K0($R(class{constructor(t){this._elementRef=t}})));let n9=(()=>{class t extends t9{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(e){this._ripple=e}constructor(e,r,i,s){super(e),this._platform=r,this._ngZone=i,this._animationMode=s,this._focusMonitor=nn(HR),this._rippleLoader=nn(Q$),this._isFab=!1;const c=e.nativeElement.classList;for(const m of e9)this._hasHostAttributes(m.selector)&&m.mdcClasses.forEach(w=>{c.add(w)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...e){return e.some(r=>this._elementRef.nativeElement.hasAttribute(r))}}return t.\u0275fac=function(e){Kw()},t.\u0275dir=ln({type:t,features:[qn,_a]}),t})(),o9=(()=>{class t extends n9{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(e,r,i,s){super(e,r,i,s)}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(Zu),We(Yr),We(kc,8))},t.\u0275cmp=Er({type:t,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,r){2&e&&(Es("disabled",r.disabled||null),Ha("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[qn],attrs:Z$,ngContentSelectors:q$,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(Cg(),yn(0,"span",0),xg(1),yn(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),t})(),a9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[Zc,JR,Zc]}),t})();const s9=function(){return{border:"none","padding-left":"10px"}};function l9(t,n){1&t&&(Ye(0,"ul",7),Xm(1,8),$e()),2&t&&Xt("ngStyle",hb(1,s9))}const u9=function(){return{border:"2px solid #00a9e0","border-radius":"5px","padding-left":"10px","margin-bottom":"10px",width:"100%"}};function c9(t,n){if(1&t&&(Ye(0,"mat-nested-tree-node")(1,"li",3)(2,"div",4)(3,"button",5)(4,"mat-icon"),ft(5),$e()(),ft(6),$e(),yr(7,l9,2,2,"ul",6),$e()()),2&t){const e=n.$implicit,r=ni();jt(1),Xt("ngStyle",hb(4,u9)),jt(4),Rl(" ",r.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),jt(1),Rl(" ",e.name," "),jt(1),Xt("ngIf",r.treeControl.isExpanded(e))}}const d9=function(t){return{selected:t}},f9=function(){return{"padding-left":"10px","padding-right":"10px",width:"100%"}};function h9(t,n){if(1&t){const e=Ds();Ye(0,"mat-tree-node")(1,"li",9),Cn("dblclick",function(){const s=Vn(e).$implicit;return hi(ni().onNodeDoubleClick(s))}),Ye(2,"div",10),Cn("click",function(){const s=Vn(e).$implicit;return hi(ni().onNodeSelect(s))}),yn(3,"button",11),ft(4),$e()()()}if(2&t){const e=n.$implicit,r=ni();jt(1),Zm("background-color",e===r.selectedNode?"#00a9e0":"transparent")("color",e===r.selectedNode?"white":"black"),Xt("ngClass",Hc(7,d9,e===r.selectedNode))("ngStyle",hb(9,f9)),jt(3),Rl(" ",e.name," ")}}let fk=(()=>{class t{constructor(){this.fileTree=[],this.nodeSelected=new lr,this.nodeDoubleClicked=new lr,this.selectedNode=null,this.treeControl=new E6(e=>e.children),this.dataSource=new P$}ngOnInit(){this.fileTree?this.updateTreeData():console.error("File tree data not available")}ngOnChanges(e){e.fileTree&&this.updateTreeData()}updateTreeData(){if(this.fileTree&&Array.isArray(this.fileTree)){const e=this.sortTree(this.fileTree);this.dataSource.data=e,this.treeControl.dataNodes=e}else console.error("fileTree is not initialized or empty")}onNodeSelect(e){e?e.isDirectory?console.log("Cannot select directories."):(this.selectedNode=e,this.nodeSelected.emit(e.path)):console.error("Node is undefined or invalid")}onNodeDoubleClick(e){e.isDirectory||this.nodeDoubleClicked.emit(e.path)}sortTree(e){return e.map(r=>(r.children&&r.children.length>0&&(r.children=this.sortTree(r.children)),r)).sort((r,i)=>r.isDirectory&&!i.isDirectory?-1:!r.isDirectory&&i.isDirectory?1:r.name.localeCompare(i.name))}isDirectory(e,r){return r?.isDirectory??!1}isFile(e,r){return!r?.isDirectory}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Er({type:t,selectors:[["app-file-tree"]],inputs:{fileTree:"fileTree"},outputs:{nodeSelected:"nodeSelected",nodeDoubleClicked:"nodeDoubleClicked"},features:[_a],decls:4,vars:4,consts:[[1,"filetreecontainer"],[3,"dataSource","treeControl"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"tree-node-wrapper","folder-node",3,"ngStyle"],[1,"mat-tree-node"],["mat-icon-button","","matTreeNodeToggle",""],["class","folder-contents",3,"ngStyle",4,"ngIf"],[1,"folder-contents",3,"ngStyle"],["matTreeNodeOutlet",""],[1,"tree-node-wrapper","file-node",3,"ngClass","ngStyle","dblclick"],[3,"click"],["mat-icon-button","","disabled",""]],template:function(e,r){1&e&&(Ye(0,"div",0)(1,"mat-tree",1),yr(2,c9,8,5,"mat-nested-tree-node",2),yr(3,h9,5,10,"mat-tree-node",2),$e()()),2&e&&(jt(1),Xt("dataSource",r.dataSource)("treeControl",r.treeControl),jt(1),Xt("matTreeNodeDefWhen",r.isDirectory),jt(1),Xt("matTreeNodeDefWhen",r.isFile))},dependencies:[cv,kl,_C,nk,tk,ik,rk,ek,Z0,Y$,o9],styles:["[_ngcontent-%COMP%]:root{--highlight-color: #00a9e0}.mat-tree-node[_ngcontent-%COMP%]{cursor:pointer;padding:5px;display:flex;align-items:center;width:100%;box-sizing:border-box}.mat-tree-node[_ngcontent-%COMP%]:hover{background-color:#00a9e040}.tree-node-wrapper[_ngcontent-%COMP%]{display:block;width:100%;margin:0;box-sizing:border-box}.folder-node[_ngcontent-%COMP%]{margin-bottom:10px}.folder-contents[_ngcontent-%COMP%]{margin-top:5px;border:2px solid var(--highlight-color);border-radius:5px;padding:10px;box-sizing:border-box}li[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;box-sizing:border-box}div.filetreecontainer[_ngcontent-%COMP%]{width:760px;border:2px solid var(--highlight-color);border-radius:5px;padding:10px;box-sizing:border-box;overflow:hidden}"]}),t})();const p9=["grammarListSelector"],g9=["statusMessage"],m9=["toggleDisplayComponent"];let ew=(()=>{class t{constructor(e,r){this.dataService=e,this.cd=r,this.grammarList=[],this.defaultGrammar="./grammars/fracas_inference_grammar/main_fracas_grammar.lfg.glue",this.grammarsDirectory="./grammars",this.currentStatusMessage="",this.grammarFileTree=[],this.selectedPath=""}ngOnInit(){this.getGrammars(this.grammarsDirectory),console.log("Initial file tree:",this.grammarFileTree),this.selectedPath=this.defaultGrammar,this.updateGrammar()}ngAfterViewInit(){this.toggleDisplayComponent?this.toggleDisplayComponent.isHidden=!0:console.error("toggleDisplayComponent is still undefined in ngAfterViewInit.")}onFileSelected(e){console.log("Selected path from file tree:",e),this.selectedPath=e}updateGrammar(){this.selectedPath?(console.log("Changing grammar to: "+this.selectedPath),this.dataService.changeGrammar({grammar:this.selectedPath}).subscribe(e=>{console.log(e),e.hasOwnProperty("grammar")&&"success"===e.grammar?(console.log("Successfully changed grammar to: "+this.selectedPath),this.currentStatusMessage="Currently loaded grammar: "+this.selectedPath,this.cd.detectChanges(),this.toggleDisplayComponent.isHidden=!0):this.currentStatusMessage="Failed to load grammar: "+this.selectedPath},e=>{console.log("ERROR: ",e),this.currentStatusMessage="Failed to load grammar: "+this.selectedPath})):console.error("No file or folder selected!")}getGrammars(e){console.log("Fetching grammars via POST request"),this.dataService.getFileTree({grammar:e}).subscribe(r=>{console.log(r),r.hasOwnProperty("children")&&(console.log("Grammar file tree:",r.children),this.grammarFileTree=this.buildFileTree(r.children))},r=>{console.error("Failed to fetch grammars:",r)})}buildFileTree(e){return e.map(r=>({name:r.name,path:r.path,isDirectory:r.isDirectory||r.directory,children:r.children&&r.children.length>0?this.buildFileTree(r.children):[]}))}}return t.\u0275fac=function(e){return new(e||t)(We(Kg),We(os))},t.\u0275cmp=Er({type:t,selectors:[["app-grammar-loader"]],viewQuery:function(e,r){if(1&e&&(Ln(p9,5),Ln(g9,5),Ln(m9,5)),2&e){let i;Mn(i=In())&&(r.grammarListSelector=i.first),Mn(i=In())&&(r.statusMessageDiv=i.first),Mn(i=In())&&(r.toggleDisplayComponent=i.first)}},decls:9,vars:2,consts:[[1,"status-message"],["statusMessage",""],["type","fileTree","showText","Select file","hideText","Hide file selection"],["toggleDisplayComponent",""],[3,"fileTree","nodeSelected","nodeDoubleClicked"],[3,"click"]],template:function(e,r){1&e&&(Ye(0,"div",0,1),ft(2),$e(),Ye(3,"app-toggle-display",2,3)(5,"div")(6,"app-file-tree",4),Cn("nodeSelected",function(s){return r.onFileSelected(s)})("nodeDoubleClicked",function(){return r.updateGrammar()}),$e(),Ye(7,"button",5),Cn("click",function(){return r.updateGrammar()}),ft(8,"Update"),$e()()()),2&e&&(jt(2),Rl(" ",r.currentStatusMessage,"\n"),jt(4),Xt("fileTree",r.grammarFileTree))},dependencies:[em,fk],styles:[".status-message[_ngcontent-%COMP%]{color:red}"]}),t})();const v9=["edit1"],y9=["rl1"],b9=["cy1"],w9=["textareaElement"],_9=["errorhandle"];function C9(t,n){1&t&&(Ye(0,"span"),ft(1,"Parse and rewrite"),$e())}function x9(t,n){1&t&&yn(0,"span",18)}function E9(t,n){1&t&&(Ye(0,"span"),ft(1,"Loading..."),$e())}function D9(t,n){1&t&&(Ye(0,"span"),ft(1,"Extract multi-stage"),$e())}function S9(t,n){1&t&&yn(0,"span",18)}function T9(t,n){1&t&&(Ye(0,"span"),ft(1,"Loading..."),$e())}let M9=(()=>{class t{constructor(e){this.dataService=e,this.defaultValue="Every man hugged a woman.",this.changeDetector=new lr,this.loading=!1}analyzeSentence(e,r){this.loading=!0,this.errorhandle.nativeElement.innerHTML="",this.dataService.ligerAnnotate({sentence:e,ruleString:r}).subscribe(c=>{if(this.loading=!1,this.errorhandle.nativeElement.innerHTML="",c.hasOwnProperty("graph")?c.graph.hasOwnProperty("graphElements")&&(0!=c.graph.graphElements.length?(console.log(c.graph.graphElements),this.cy1.renderGraph(c.graph.graphElements),this.graphElements=c.graph.graphElements,this.displayMessage("Parsing successful...","green")):this.displayMessage("Parsing failed...","red")):this.displayMessage("Parsing failed...","red"),c.hasOwnProperty("appliedRules")&&null!==c.appliedRules){console.log(c.appliedRules),this.rulelist1.clearList();for(let m=0;m<c.appliedRules.length;m++)this.rulelist1.addElement({rule:c.appliedRules[m],index:m})}c.hasOwnProperty("meaningConstructors")&&(console.log(c.meaningConstructors),this.meaningConstructors=c.meaningConstructors,this.changeDetector.emit(c.meaningConstructors)),c.hasOwnProperty("axioms")&&console.log("Axioms: ",c.axioms)},c=>{this.loading=!1,console.log("ERROR: ",c),this.displayMessage("An error occurred...","red")})}parseSentence(e,r){const i=e;this.errorhandle.nativeElement.innerHTML="",this.loading=!0,this.dataService.ligerMulti({sentence:i,ruleString:""}).subscribe(c=>{this.loading=!1,c.hasOwnProperty("graph")?c.graph.hasOwnProperty("graphElements")&&(0!=c.graph.graphElements.length?(console.log(c.graph.graphElements),this.cy1.renderGraph(c.graph.graphElements),this.graphElements=c.graph.graphElements):this.displayMessage("Parsing failed...","red")):this.displayMessage("Parsing failed...","red"),c.hasOwnProperty("meaningConstructors")&&(console.log(c.meaningConstructors),this.meaningConstructors=c.meaningConstructors,this.changeDetector.emit(c.meaningConstructors))},c=>{console.log("ERROR: ",c),this.displayMessage("An error occurred...","red"),this.loading=!1})}calculateFromRuleList(e){let r=[];for(let s=0;s<=e.index;s++)r.push(this.rulelist1.elements[s].rule);console.log("New rules: \n",r);let i=r.map(s=>s.rule).join("\n");i="--replace(true);\n"+i,console.log("Rule string: \n",i),this.analyzeSentence(this.textarea.nativeElement.value,i)}showDialog(){this.cy1.subgraphDialog.setContent(this.graphElements),this.cy1.subgraphDialog.showDialog()}displayMessage(e,r){this.errorhandle.nativeElement.style.color=r,this.errorhandle.nativeElement.innerHTML="["+(new Date).toLocaleTimeString()+"] "+e}}return t.\u0275fac=function(e){return new(e||t)(We(Kg))},t.\u0275cmp=Er({type:t,selectors:[["app-liger-vis"]],viewQuery:function(e,r){if(1&e&&(Ln(v9,5),Ln(y9,5),Ln(b9,5),Ln(w9,5),Ln(_9,5)),2&e){let i;Mn(i=In())&&(r.editor1=i.first),Mn(i=In())&&(r.rulelist1=i.first),Mn(i=In())&&(r.cy1=i.first),Mn(i=In())&&(r.textarea=i.first),Mn(i=In())&&(r.errorhandle=i.first)}},decls:37,vars:8,consts:[[3,"value"],["textareaElement",""],[1,"errorhandling"],["errorhandle",""],[3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"button","beta",3,"click"],["type","liger","showText","Show input rules","hideText","Hide input rules"],[1,"editor-restr"],[3,"mode"],["edit1",""],["showText","Show graph vis","hideText","Hide graph vis"],[1,"ligergraphcontainer"],["cy1",""],["type","liger","showText","Show applied rules","hideText","Hide applied rules"],[3,"calculateFromRule"],["rl1",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,r){if(1&e){const i=Ds();Ye(0,"h3"),ft(1," Test sentence: "),$e(),yn(2,"textarea",0,1)(4,"br")(5,"div",2,3),Ye(7,"button",4),Cn("click",function(){Vn(i);const c=Hs(3),m=Hs(22);return hi(r.analyzeSentence(c.value,m.getContent()))}),yr(8,C9,2,0,"span",5),yr(9,x9,1,0,"span",6),yr(10,E9,2,0,"span",5),$e(),Ye(11,"button",7),Cn("click",function(){Vn(i);const c=Hs(3),m=Hs(22);return hi(r.parseSentence(c.value,m.getContent()))}),yr(12,D9,2,0,"span",5),yr(13,S9,1,0,"span",6),yr(14,T9,2,0,"span",5),$e(),yn(15,"br")(16,"app-grammar-loader"),Ye(17,"app-toggle-display",8)(18,"h3"),ft(19," Input rules: "),$e(),Ye(20,"div",9),yn(21,"app-editor",10,11),$e()(),Ye(23,"app-toggle-display",12)(24,"h3"),ft(25," Graph visualization: "),$e(),Ye(26,"div",13),yn(27,"app-graph-vis",null,14),Ye(29,"button",4),Cn("click",function(){return r.showDialog()}),ft(30,"Show dialog"),$e()(),yn(31,"br"),$e(),Ye(32,"app-toggle-display",15)(33,"h3"),ft(34," Rule list: "),$e(),Ye(35,"app-rule-list",16,17),Cn("calculateFromRule",function(c){return r.calculateFromRuleList(c)}),$e()()}2&e&&(jt(2),Xt("value",r.defaultValue),jt(6),Xt("ngIf",!r.loading),jt(1),Xt("ngIf",r.loading),jt(1),Xt("ngIf",r.loading),jt(2),Xt("ngIf",!r.loading),jt(1),Xt("ngIf",r.loading),jt(1),Xt("ngIf",r.loading),jt(7),Xt("mode","liger"))},dependencies:[kl,mp,u6,h6,em,ew],styles:["textarea[_ngcontent-%COMP%]{width:600px;height:50px;overflow:auto;display:block;resize:none}div.ligergraphcontainer[_ngcontent-%COMP%]{max-width:800px;width:800px;height:650px}div.errorhandling[_ngcontent-%COMP%]{color:red;padding-bottom:10px}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}"]}),t})();const I9=["l1"],A9=["g1"];function O9(t,n){if(1&t){const e=Ds();Ye(0,"button",6),Cn("click",function(){Vn(e);const i=ni();return hi(i.isFirstDivMinimized=!i.isFirstDivMinimized)}),ft(1," >> "),$e()}}function N9(t,n){if(1&t){const e=Ds();Ye(0,"button",6),Cn("click",function(){Vn(e);const i=ni();return hi(i.isSecondDivMinimized=!i.isSecondDivMinimized)}),ft(1," << "),$e()}}const hk=function(t){return{display:t}};let R9=(()=>{class t{constructor(){this.isFirstDivMinimized=!1,this.isSecondDivMinimized=!1}ngAfterViewInit(){this.liger.changeDetector.subscribe(e=>{this.glue.editor1.updateContent(e)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Er({type:t,selectors:[["app-glue-interface"]],viewQuery:function(e,r){if(1&e&&(Ln(I9,5),Ln(A9,5)),2&e){let i;Mn(i=In())&&(r.liger=i.first),Mn(i=In())&&(r.glue=i.first)}},decls:13,vars:8,consts:[[1,"container"],[1,"scrollable-div",3,"ngStyle"],[1,"toggle-button",3,"click"],["l1",""],["class","toggle-button-max",3,"click",4,"ngIf"],["g1",""],[1,"toggle-button-max",3,"click"]],template:function(e,r){1&e&&(Ye(0,"div",0)(1,"div",1)(2,"button",2),Cn("click",function(){return r.isFirstDivMinimized=!r.isFirstDivMinimized}),ft(3," << "),$e(),yn(4,"app-liger-vis",null,3),$e(),yr(6,O9,2,0,"button",4),Ye(7,"div",1)(8,"button",2),Cn("click",function(){return r.isSecondDivMinimized=!r.isSecondDivMinimized}),ft(9," >> "),$e(),yn(10,"app-gswb-vis",null,5),$e(),yr(12,N9,2,0,"button",4),$e()),2&e&&(jt(1),Xt("ngStyle",Hc(4,hk,r.isFirstDivMinimized?"none":"block")),jt(5),Xt("ngIf",r.isFirstDivMinimized),jt(1),Xt("ngStyle",Hc(6,hk,r.isSecondDivMinimized?"none":"block")),jt(5),Xt("ngIf",r.isSecondDivMinimized))},dependencies:[kl,_C,a6,M9],styles:[".toggle-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:50px;height:100%;background-color:#fff;border:none;cursor:pointer;opacity:0;transition:opacity .3s;font-weight:700}.toggle-button[_ngcontent-%COMP%]:hover{opacity:.8;background:#00a9e0;color:#fff;border-radius:10px}.toggle-button-max[_ngcontent-%COMP%]{width:50px;height:100vh;font-weight:700;background-color:#fff;border:none;cursor:pointer}.toggle-button-max[_ngcontent-%COMP%]:hover{opacity:.2;background:#00a9e0;color:#fff;border-radius:10px}",".container[_ngcontent-%COMP%] {\n    padding: 15px;\n    display: flex;\n    flex-wrap: nowrap;\n  }\n  .scrollable-div[_ngcontent-%COMP%] {\n    position: relative;\n    flex: 1;\n    overflow-y: auto;\n    max-height: 100vh;\n    flex-basis: 50%;\n    padding-left: 60px\n  }\n\n  \n\n  @media (max-width: 1400px) {\n    .container[_ngcontent-%COMP%] {\n      flex-direction: column;\n    }\n    .scrollable-div[_ngcontent-%COMP%] {\n      max-height: none;\n      overflow-y: initial;\n    }\n  }"]}),t})();class jE{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class k9 extends jE{constructor(n,e,r,i,s){super(),this.component=n,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class WE extends jE{constructor(n,e,r,i){super(),this.templateRef=n,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class P9 extends jE{constructor(n){super(),this.element=n instanceof ti?n.nativeElement:n}}class L9{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof k9?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof WE?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof P9?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}let F9=(()=>{class t extends WE{constructor(e,r){super(e,r)}}return t.\u0275fac=function(e){return new(e||t)(We(Us),We(za))},t.\u0275dir=ln({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[qn]}),t})(),$E=(()=>{class t extends L9{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new lr,this.attachDomPortal=s=>{const c=s.element,m=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(m,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(c,m)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=r.createComponent(s,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return t.\u0275fac=function(e){return new(e||t)(We(ug),We(za),We(Di))},t.\u0275dir=ln({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[qn]}),t})(),B9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({}),t})();const V9=["addListener","removeListener"],H9=["addEventListener","removeEventListener"],z9=["on","off"];function uy(t,n,e,r){if(T(e)&&(r=e,e=void 0),r)return uy(t,n,e).pipe(LC(r));const[i,s]=function j9(t){return T(t.addEventListener)&&T(t.removeEventListener)}(t)?H9.map(c=>m=>t[c](n,m,e)):function U9(t){return T(t.addListener)&&T(t.removeListener)}(t)?V9.map(pk(t,n)):function G9(t){return T(t.on)&&T(t.off)}(t)?z9.map(pk(t,n)):[];if(!i&&Ia(t))return qi(c=>uy(c,n,e))(No(t));if(!i)throw new TypeError("Invalid event target");return new Ke(c=>{const m=(...w)=>c.next(1<w.length?w:w[0]);return i(m),()=>s(m)})}function pk(t,n){return e=>r=>t[e](n,r)}function gk(t=0,n,e=t$){let r=-1;return null!=n&&(En(n)?e=n:r=n),new Ke(i=>{let s=function W9(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;s<0&&(s=0);let c=0;return e.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},s)})}const cy={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=cy;r&&(n=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=n(s=>{e=void 0,t(s)});return new C(()=>e?.(i))},requestAnimationFrame(...t){const{delegate:n}=cy;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=cy;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class Y9 extends FE{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class $9 extends LE{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=cy.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:s}=n;null!=e&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==e&&(cy.cancelAnimationFrame(e),n._scheduled=void 0)}});let YE,K9=1;const tw={};function mk(t){return t in tw&&(delete tw[t],!0)}const Z9={setImmediate(t){const n=K9++;return tw[n]=!0,YE||(YE=Promise.resolve()),YE.then(()=>mk(n)&&t()),n},clearImmediate(t){mk(t)}},{setImmediate:q9,clearImmediate:Q9}=Z9,nw={setImmediate(...t){const{delegate:n}=nw;return(n?.setImmediate||q9)(...t)},clearImmediate(t){const{delegate:n}=nw;return(n?.clearImmediate||Q9)(t)},delegate:void 0};new class e7 extends FE{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class J9 extends LE{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=nw.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:s}=n;null!=e&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==e&&(nw.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}});let XE=(()=>{class t{constructor(e,r,i){this._platform=e,this._change=new It,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,s=i.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(function r7(t,n=BE){return function n7(t){return it((n,e)=>{let r=!1,i=null,s=null,c=!1;const m=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const N=i;i=null,e.next(N)}c&&e.complete()},w=()=>{s=null,c&&e.complete()};n.subscribe(pt(e,N=>{r=!0,i=N,s||No(t(N)).subscribe(s=pt(e,m,w))},()=>{c=!0,(!r||!s||s.closed)&&e.complete()}))})}(()=>gk(t,n))}(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Pt(Zu),Pt(Yr),Pt(Di,8))},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function o7(t,n){}const a7=function(t){return{animationDuration:t}},s7=function(t,n){return{value:t,params:n}};function l7(t,n){1&t&&xg(0)}const vk=["*"],u7=["tabListContainer"],c7=["tabList"],d7=["tabListInner"],f7=["nextPaginator"],h7=["previousPaginator"],p7=["tabBodyWrapper"],g7=["tabHeader"];function m7(t,n){}function v7(t,n){1&t&&yr(0,m7,0,0,"ng-template",14),2&t&&Xt("cdkPortalOutlet",ni().$implicit.templateLabel)}function y7(t,n){1&t&&ft(0),2&t&&Qm(ni().$implicit.textLabel)}function b7(t,n){if(1&t){const e=Ds();Ye(0,"div",6,7),Cn("click",function(){const i=Vn(e),s=i.$implicit,c=i.index,m=ni(),w=Hs(1);return hi(m._handleClick(s,w,c))})("cdkFocusChange",function(i){const c=Vn(e).index;return hi(ni()._tabFocusChanged(i,c))}),yn(2,"span",8)(3,"div",9),Ye(4,"span",10)(5,"span",11),yr(6,v7,1,1,"ng-template",12),yr(7,y7,1,1,"ng-template",null,13,DT),$e()()()}if(2&t){const e=n.$implicit,r=n.index,i=Hs(1),s=Hs(8),c=ni();Ha("mdc-tab--active",c.selectedIndex===r),Xt("id",c._getTabLabelId(r))("ngClass",e.labelClass)("disabled",e.disabled)("fitInkBarToContent",c.fitInkBarToContent),Es("tabIndex",c._getTabIndex(r))("aria-posinset",r+1)("aria-setsize",c._tabs.length)("aria-controls",c._getTabContentId(r))("aria-selected",c.selectedIndex===r)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),jt(3),Xt("matRippleTrigger",i)("matRippleDisabled",e.disabled||c.disableRipple),jt(3),Xt("ngIf",e.templateLabel)("ngIfElse",s)}}function w7(t,n){if(1&t){const e=Ds();Ye(0,"mat-tab-body",15),Cn("_onCentered",function(){return Vn(e),hi(ni()._removeTabBodyWrapperHeight())})("_onCentering",function(i){return Vn(e),hi(ni()._setTabBodyWrapperHeight(i))}),$e()}if(2&t){const e=n.$implicit,r=n.index,i=ni();Ha("mat-mdc-tab-body-active",i.selectedIndex===r),Xt("id",i._getTabContentId(r))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",i.animationDuration)("preserveContent",i.preserveContent),Es("tabindex",null!=i.contentTabIndex&&i.selectedIndex===r?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(r))}}const _7={translateTab:mG("translateTab",[Rx("center, void, left-origin-center, right-origin-center",fp({transform:"none"})),Rx("left",fp({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Rx("right",fp({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),kx("* => left, * => right, left => center, right => center",Nx("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),kx("void => left-origin-center",[fp({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Nx("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),kx("void => right-origin-center",[fp({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Nx("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let C7=(()=>{class t extends $E{constructor(e,r,i,s){super(e,r,s),this._host=i,this._centeringSub=C.EMPTY,this._leavingSub=C.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(hv(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(We(ug),We(za),We(An(()=>yk)),We(Di))},t.\u0275dir=ln({type:t,selectors:[["","matTabBodyHost",""]],features:[qn]}),t})(),x7=(()=>{class t{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,r,i){this._elementRef=e,this._dir=r,this._dirChangeSubscription=C.EMPTY,this._translateTabComplete=new It,this._onCentering=new lr,this._beforeCentering=new lr,this._afterLeavingCenter=new lr,this._onCentered=new lr(!0),this.animationDuration="500ms",this.preserveContent=!1,r&&(this._dirChangeSubscription=r.change.subscribe(s=>{this._computePositionAnimationState(s),i.markForCheck()})),this._translateTabComplete.pipe(tn((s,c)=>s.fromState===c.fromState&&s.toState===c.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const r=this._isCenterPosition(e.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const r=this._getLayoutDirection();return"ltr"==r&&e<=0||"rtl"==r&&e>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(nm,8),We(os))},t.\u0275dir=ln({type:t,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),yk=(()=>{class t extends x7{constructor(e,r,i){super(e,r,i)}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(nm,8),We(os))},t.\u0275cmp=Er({type:t,selectors:[["mat-tab-body"]],viewQuery:function(e,r){if(1&e&&Ln($E,5),2&e){let i;Mn(i=In())&&(r._portalHost=i.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[qn],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,r){1&e&&(Ye(0,"div",0,1),Cn("@translateTab.start",function(s){return r._onTranslateTabStarted(s)})("@translateTab.done",function(s){return r._translateTabComplete.next(s)}),yr(2,o7,0,0,"ng-template",2),$e()),2&e&&Xt("@translateTab",I_(3,s7,r._position,Hc(1,a7,r.animationDuration)))},dependencies:[C7],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[_7.translateTab]}}),t})();const E7=new Zt("MatTabContent");let D7=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(We(Us))},t.\u0275dir=ln({type:t,selectors:[["","matTabContent",""]],features:[$r([{provide:E7,useExisting:t}])]}),t})();const S7=new Zt("MatTabLabel"),bk=new Zt("MAT_TAB");let T7=(()=>{class t extends F9{constructor(e,r,i){super(e,r),this._closestTab=i}}return t.\u0275fac=function(e){return new(e||t)(We(Us),We(za),We(bk,8))},t.\u0275dir=ln({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[$r([{provide:S7,useExisting:t}]),qn]}),t})();const KE="mdc-tab-indicator--active",wk="mdc-tab-indicator--no-transition";class M7{constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar())}alignToElement(n){const e=this._items.find(i=>i.elementRef.nativeElement===n),r=this._currentItem;if(e!==r&&(r?.deactivateInkBar(),e)){const i=r?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(i),this._currentItem=e}}}function I7(t){return class extends t{constructor(...n){super(...n),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(n){const e=cl(n);this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(n){const e=this.elementRef.nativeElement;if(!n||!e.getBoundingClientRect||!this._inkBarContentElement)return void e.classList.add(KE);const r=e.getBoundingClientRect(),i=n.width/r.width,s=n.left-r.left;e.classList.add(wk),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${i})`),e.getBoundingClientRect(),e.classList.remove(wk),e.classList.add(KE),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(KE)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const n=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=n.createElement("span"),this._inkBarContentElement=n.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const O7=K0(class{}),N7=I7((()=>{class t extends O7{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(We(ti))},t.\u0275dir=ln({type:t,features:[qn]}),t})());let _k=(()=>{class t extends N7{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275dir=ln({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,r){2&e&&(Es("aria-disabled",!!r.disabled),Ha("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[qn]}),t})();const R7=K0(class{}),Ck=new Zt("MAT_TAB_GROUP");let k7=(()=>{class t extends R7{get content(){return this._contentPortal}constructor(e,r){super(),this._viewContainerRef=e,this._closestTabGroup=r,this.textLabel="",this._contentPortal=null,this._stateChanges=new It,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new WE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(Ck,8))},t.\u0275dir=ln({type:t,viewQuery:function(e,r){if(1&e&&Ln(Us,7),2&e){let i;Mn(i=In())&&(r._implicitContent=i.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[qn,_a]}),t})(),ZE=(()=>{class t extends k7{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Ci(t)))(r||t)}}(),t.\u0275cmp=Er({type:t,selectors:[["mat-tab"]],contentQueries:function(e,r,i){if(1&e&&(Kf(i,D7,7,Us),Kf(i,T7,5)),2&e){let s;Mn(s=In())&&(r._explicitContent=s.first),Mn(s=In())&&(r.templateLabel=s.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[$r([{provide:bk,useExisting:t}]),qn],ngContentSelectors:vk,decls:1,vars:0,template:function(e,r){1&e&&(Cg(),yr(0,l7,1,0,"ng-template"))},encapsulation:2}),t})();const xk=iy({passive:!0});let F7=(()=>{class t{get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=cl(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=lh(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}constructor(e,r,i,s,c,m,w){this._elementRef=e,this._changeDetectorRef=r,this._viewportRuler=i,this._dir=s,this._ngZone=c,this._platform=m,this._animationMode=w,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new It,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new It,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new lr,this.indexFocused=new lr,c.runOutsideAngular(()=>{uy(e.nativeElement,"mouseleave").pipe(Ku(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){uy(this._previousPaginator.nativeElement,"touchstart",xk).pipe(Ku(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),uy(this._nextPaginator.nativeElement,"touchstart",xk).pipe(Ku(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Je("ltr"),r=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new d$(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Uc(1)).subscribe(i),rt(e,r,this._items.changes,this._itemsResized()).pipe(Ku(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),i()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?oa:this._items.changes.pipe(hv(this._items),Vt(e=>new Ke(r=>this._ngZone.runOutsideAngular(()=>{const i=new ResizeObserver(s=>r.next(s));return e.forEach(s=>i.observe(s.elementRef.nativeElement)),()=>{i.disconnect()}}))),HE(1),Pl(e=>e.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!MR(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const r=this._items.get(this.focusIndex);r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const r=this._tabListContainer.nativeElement;r.scrollLeft="ltr"==this._getLayoutDirection()?0:r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,r="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const r=this._items?this._items.toArray()[e]:null;if(!r)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:c}=r.elementRef.nativeElement;let m,w;"ltr"==this._getLayoutDirection()?(m=s,w=m+c):(w=this._tabListInner.nativeElement.offsetWidth-s,m=w-c);const N=this.scrollDistance,U=this.scrollDistance+i;m<N?this.scrollDistance-=N-m:w>U&&(this.scrollDistance+=Math.min(w-U,m-N))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=e?e.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,r){r&&null!=r.button&&0!==r.button||(this._stopInterval(),gk(650,100).pipe(Ku(rt(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:i,distance:s}=this._scrollHeader(e);(0===s||s>=i)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(os),We(XE),We(nm,8),We(Yr),We(Zu),We(kc,8))},t.\u0275dir=ln({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),B7=(()=>{class t extends F7{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=cl(e)}constructor(e,r,i,s,c,m,w){super(e,r,i,s,c,m,w),this._disableRipple=!1}_itemSelected(e){e.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(os),We(XE),We(nm,8),We(Yr),We(Zu),We(kc,8))},t.\u0275dir=ln({type:t,inputs:{disableRipple:"disableRipple"},features:[qn]}),t})(),V7=(()=>{class t extends B7{constructor(e,r,i,s,c,m,w){super(e,r,i,s,c,m,w)}ngAfterContentInit(){this._inkBar=new M7(this._items),super.ngAfterContentInit()}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(os),We(XE),We(nm,8),We(Yr),We(Zu),We(kc,8))},t.\u0275cmp=Er({type:t,selectors:[["mat-tab-header"]],contentQueries:function(e,r,i){if(1&e&&Kf(i,_k,4),2&e){let s;Mn(s=In())&&(r._items=s)}},viewQuery:function(e,r){if(1&e&&(Ln(u7,7),Ln(c7,7),Ln(d7,7),Ln(f7,5),Ln(h7,5)),2&e){let i;Mn(i=In())&&(r._tabListContainer=i.first),Mn(i=In())&&(r._tabList=i.first),Mn(i=In())&&(r._tabListInner=i.first),Mn(i=In())&&(r._nextPaginator=i.first),Mn(i=In())&&(r._previousPaginator=i.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(e,r){2&e&&Ha("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[qn],ngContentSelectors:vk,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,r){1&e&&(Cg(),Ye(0,"button",0,1),Cn("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(s){return r._handlePaginatorPress("before",s)})("touchend",function(){return r._stopInterval()}),yn(2,"div",2),$e(),Ye(3,"div",3,4),Cn("keydown",function(s){return r._handleKeydown(s)}),Ye(5,"div",5,6),Cn("cdkObserveContent",function(){return r._onContentChanges()}),Ye(7,"div",7,8),xg(9),$e()()(),Ye(10,"button",9,10),Cn("mousedown",function(s){return r._handlePaginatorPress("after",s)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),yn(12,"div",2),$e()),2&e&&(Ha("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),Xt("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),jt(3),Ha("_mat-animation-noopable","NoopAnimations"===r._animationMode),jt(7),Ha("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),Xt("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[GE,r$],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2}),t})();const Ek=new Zt("MAT_TABS_CONFIG");let H7=0;const z7=UE($R(class{constructor(t){this._elementRef=t}}),"primary");let U7=(()=>{class t extends z7{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=cl(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=lh(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=lh(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=cl(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=cl(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&r.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,r,i,s){super(e),this._changeDetectorRef=r,this._animationMode=s,this._tabs=new Mg,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=C.EMPTY,this._tabLabelSubscription=C.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new lr,this.focusChange=new lr,this.animationDone=new lr,this.selectedTabChange=new lr(!0),this._groupId=H7++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination,this.dynamicHeight=!(!i||null==i.dynamicHeight)&&i.dynamicHeight,this.contentTabIndex=i?.contentTabIndex??null,this.preserveContent=!!i?.preserveContent}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const r=null==this._selectedIndex;if(!r){this.selectedTabChange.emit(this._createChangeEvent(e));const i=this._tabBodyWrapper.nativeElement;i.style.minHeight=i.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((i,s)=>i.isActive=s===e),r||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,i)=>{r.position=i-e,null!=this._selectedIndex&&0==r.position&&!r.origin&&(r.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const r=this._tabs.toArray();let i;for(let s=0;s<r.length;s++)if(r[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,i=r[s];break}!i&&r[e]&&Promise.resolve().then(()=>{r[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(hv(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const r=this._tabHeader;r&&(r.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const r=new G7;return r.index=e,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[e]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=rt(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,r,i){r.focusIndex=i,e.disabled||(this.selectedIndex=i)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,r){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=r)}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(os),We(Ek,8),We(kc,8))},t.\u0275dir=ln({type:t,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[qn]}),t})(),Dk=(()=>{class t extends U7{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=cl(e),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(e){this._stretchTabs=cl(e)}constructor(e,r,i,s){super(e,r,i,s),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!i||null==i.fitInkBarToContent)&&i.fitInkBarToContent,this.stretchTabs=!i||null==i.stretchTabs||i.stretchTabs}}return t.\u0275fac=function(e){return new(e||t)(We(ti),We(os),We(Ek,8),We(kc,8))},t.\u0275cmp=Er({type:t,selectors:[["mat-tab-group"]],contentQueries:function(e,r,i){if(1&e&&Kf(i,ZE,5),2&e){let s;Mn(s=In())&&(r._allTabs=s)}},viewQuery:function(e,r){if(1&e&&(Ln(p7,5),Ln(g7,5)),2&e){let i;Mn(i=In())&&(r._tabBodyWrapper=i.first),Mn(i=In())&&(r._tabHeader=i.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:8,hostBindings:function(e,r){2&e&&(Zm("--mat-tab-animation-duration",r.animationDuration),Ha("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[$r([{provide:Ck,useExisting:t}]),qn],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(e,r){1&e&&(Ye(0,"mat-tab-header",0,1),Cn("indexFocused",function(s){return r._focusChanged(s)})("selectFocusedIndex",function(s){return r.selectedIndex=s}),yr(2,b7,9,17,"div",2),$e(),Ye(3,"div",3,4),yr(5,w7,1,11,"mat-tab-body",5),$e()),2&e&&(Xt("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),jt(2),Xt("ngForOf",r._tabs),jt(1),Ha("_mat-animation-noopable","NoopAnimations"===r._animationMode),jt(2),Xt("ngForOf",r._tabs))},dependencies:[cv,Ng,kl,$E,GE,C$,yk,_k,V7],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-letter-spacing);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2}),t})();class G7{}let j7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[EC,Zc,B9,JR,OR,x$,Zc]}),t})();const W7=["contextPruning"];function $7(t,n){if(1&t){const e=Ds();$m(0,10),Cn("click",function(){Vn(e);const i=ni(2).$implicit;return hi(ni().toggleGlyphVisibility(i))}),yn(1,"div",18),Ym()}if(2&t){const e=ni(2).$implicit,r=ni();jt(1),Xt("innerHTML",r.sanitizeSvg(e.glyph),aD)}}function Y7(t,n){1&t&&($m(0),Ye(1,"div"),ft(2,"V"),$e(),Ym())}const X7=function(t){return{minimized:t}};function K7(t,n){if(1&t){const e=Ds();Ye(0,"div",15),Cn("click",function(){Vn(e);const i=ni().$implicit;return hi(ni().toggleGlyphVisibility(i))}),yr(1,$7,2,1,"ng-container",16),yr(2,Y7,3,0,"ng-container",17),$e()}if(2&t){const e=ni().$implicit;Xt("ngClass",Hc(3,X7,!e.showGlyph)),jt(1),Xt("ngIf",e.showGlyph),jt(1),Xt("ngIf",!e.showGlyph)}}const Z7=function(t,n){return{"user-message":t,"bot-message":n}};function q7(t,n){if(1&t&&(Ye(0,"div",11)(1,"span",12),ft(2),$e(),Ye(3,"pre",13),ft(4),$e(),yr(5,K7,3,5,"div",14),$e()),2&t){const e=n.$implicit;Xt("ngClass",I_(4,Z7,"User"===e.sender,"Bot"===e.sender)),jt(2),Rl("",e.sender,":"),jt(2),Qm(e.text),jt(1),Xt("ngIf",e.glyph)}}function Q7(t,n){1&t&&(Ye(0,"div",19),yn(1,"div",20),$e())}let J7=(()=>{class t{constructor(e,r,i){this.dataService=e,this.changeDetector=r,this.sanitizer=i,this.ruleString="",this.history=[],this.historyChange=new lr,this.axioms="",this.activeIndices=[],this.clearSelection=new lr,this.chatHistory=[],this.userInput="",this.meaningConstructors="",this.axiomCounter=0,this.context=[],this.loading=!1}sendMessage(){if(!this.userInput.trim())return;console.log("Gswb preferences: ",this.gswbPreferences.gswbPreferences),console.log("Vampire preferences: ",this.vampirePreferences.vampirePreferences),this.loading=!0;const e=this.userInput;var r="";this.chatHistory.push({text:e,sender:"User"});const i=0===this.vampirePreferences.vampirePreferences.logic_type?"fof":"tff",s={sentence:e,ruleString:this.ruleString,logicType:i};console.log("Liger request: ",s),this.dataService.ligerAnnotate(s).subscribe(c=>{if(console.log("Liger response: ",c),!c.hasOwnProperty("graph")||!c.graph.hasOwnProperty("graphElements")||0===c.graph.graphElements.length)return this.chatHistory.push({text:"Syntactic analysis failed for this input!",sender:"Bot"}),void(this.loading=!1);if(!c.hasOwnProperty("meaningConstructors"))return this.chatHistory.push({text:"Could not find meaning constructors for this input!",sender:"Bot"}),void(this.loading=!1);{if(this.meaningConstructors=c.meaningConstructors,c.hasOwnProperty("axioms")&&null!=c.axioms){console.log("Axioms: ",c.axioms);let w="";for(let N of c.axioms)""!==N.trim()&&!this.axioms.includes(N.trim())&&(w+=i+"(axiom"+this.axiomCounter+",axiom,"+N+").\n",this.axiomCounter++);""!==w.trim()&&(""!=this.axioms&&(this.axioms+="\n"),this.axioms+=w+"\n")}const m={premises:this.meaningConstructors,gswbPreferences:this.gswbPreferences.gswbPreferences};console.log("Gswb request: ",m),this.dataService.gswbDeduce(m).subscribe(w=>{let N="";if(!(w.hasOwnProperty("solutions")&&w.solutions.length>0&&""!=w.solutions[0]))return this.chatHistory.push({text:"No semantic analyses found for this input!",sender:"Bot"}),void(this.loading=!1);{N=w.solutions.join("\n");const K={text:e,context:this.context,axioms:this.axioms,hypothesis:N,pruning:this.contextPruning.nativeElement.checked,active_indices:this.activeIndices,vampire_preferences:this.vampirePreferences.vampirePreferences};console.log("Vampire request: ",K),this.dataService.callVampire(K).subscribe(ge=>{if(console.log("Vampire response: ",ge),this.clearSelected(),ge.hasOwnProperty("context")){const mt=ge.context;this.history.push(mt),this.context=mt,this.historyChange.emit(this.history),this.changeDetector.detectChanges();var Se=null,Fe=null,nt=null;Object.keys(ge.context_checks_mapping).length>0&&(r=ge.context_checks_mapping[0].glyph,Fe=ge.context_checks_mapping[0].informative,Se=ge.context_checks_mapping[0].consistent,nt=ge.context_checks_mapping[0].relevant),this.chatHistory.push({text:null===Se?"Okay ...":Se?Fe?nt?"I may not fully understand your input. I assume it is informative and consistent":"Your input is informative and consistent.":"Your input is not informative.":"Your input does not make sense.",sender:"Bot",glyph:r,showGlyph:!1})}this.loading=!1},ge=>{console.log("An error occurred during the call to Vampire"),this.loading=!1})}},w=>{console.log("ERROR: ",w),this.chatHistory.push({text:"An error occurred during the semantic analysis",sender:"Bot"}),this.loading=!1})}},c=>{this.chatHistory.push({text:"An unknown error occurred.",sender:"Bot"}),console.log("ERROR: ",c),this.loading=!1}),this.userInput=""}clearSelected(){this.clearSelection.emit(),console.log("Selection cleared in chat component")}sanitizeSvg(e){return this.sanitizer.bypassSecurityTrustHtml(e)}toggleGlyphVisibility(e){e.showGlyph=!e.showGlyph}}return t.\u0275fac=function(e){return new(e||t)(We(Kg),We(os),We(kb))},t.\u0275cmp=Er({type:t,selectors:[["app-chat"]],viewQuery:function(e,r){if(1&e&&Ln(W7,5),2&e){let i;Mn(i=In())&&(r.contextPruning=i.first)}},inputs:{ruleString:"ruleString",gswbPreferences:"gswbPreferences",vampirePreferences:"vampirePreferences",history:"history",axioms:"axioms",activeIndices:"activeIndices"},outputs:{historyChange:"historyChange",clearSelection:"clearSelection"},decls:13,vars:3,consts:[[1,"pruning-container"],["type","checkbox","id","contextPruning"],["contextPruning",""],["for","contextPruning"],[1,"chat-container"],[1,"chat-history"],["class","message-container",3,"ngClass",4,"ngFor","ngForOf"],["class","loading-container",4,"ngIf"],[1,"chat-input"],["placeholder","Type your message...",3,"ngModel","ngModelChange","keyup.enter"],[3,"click"],[1,"message-container",3,"ngClass"],[1,"message-sender"],[1,"message-text"],["class","message-glyph",3,"ngClass","click",4,"ngIf"],[1,"message-glyph",3,"ngClass","click"],[3,"click",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],[1,"loading-container"],[1,"loading-spinner"]],template:function(e,r){1&e&&(Ye(0,"div",0),yn(1,"input",1,2),Ye(3,"label",3),ft(4,"Pruning"),$e()(),Ye(5,"div",4)(6,"div",5),yr(7,q7,6,7,"div",6),yr(8,Q7,2,0,"div",7),$e(),Ye(9,"div",8)(10,"input",9),Cn("ngModelChange",function(s){return r.userInput=s})("keyup.enter",function(){return r.sendMessage()}),$e(),Ye(11,"button",10),Cn("click",function(){return r.sendMessage()}),ft(12,"Send"),$e()()()),2&e&&(jt(7),Xt("ngForOf",r.chatHistory),jt(1),Xt("ngIf",r.loading),jt(2),Xt("ngModel",r.userInput))},dependencies:[cv,Ng,kl,jg,Wg,Lv],styles:[".chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-width:600px;margin:auto;border:1px solid #ccc;border-radius:8px;overflow:hidden;background:white}.chat-history[_ngcontent-%COMP%]{flex:1;padding:16px;overflow-y:auto;display:flex;flex-direction:column;background:#f9f9f9}.message-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;max-width:75%;padding:8px;border-radius:8px;margin:4px 0}.user-message[_ngcontent-%COMP%]{align-self:flex-end;text-align:right;background:#00a9e0;color:#fff}.bot-message[_ngcontent-%COMP%]{align-self:flex-start;text-align:left;background:#ddd;color:#000}.message-text[_ngcontent-%COMP%]{font-family:Courier New,Courier,Lucida Console,DejaVu Sans Mono,Monaco,Menlo,Consolas,monospace;white-space:pre-wrap;word-break:break-word;overflow-wrap:anywhere}.message-sender[_ngcontent-%COMP%]{font-size:12px;font-weight:700;display:block;margin-bottom:2px}.message-glyph[_ngcontent-%COMP%]{border-radius:4px;position:absolute;bottom:4px;right:4px;width:98px;height:82px;display:flex;align-items:center;justify-content:center;background:white;border:1px solid #ccc;cursor:pointer;transition:all .3s ease-in-out}.message-glyph.minimized[_ngcontent-%COMP%]{width:20px;height:20px;background:green;border-radius:4px;display:flex;align-items:center;justify-content:center;border:none;overflow:hidden;color:#fff;text-align:center}.message-glyph[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;background:white}.chat-input[_ngcontent-%COMP%]{display:flex;padding:12px;background:#fff;border-top:1px solid #ccc}.chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:4px}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px;padding:10px 16px;border:none;background:#00a9e0;color:#fff;border-radius:4px;cursor:pointer;font-weight:700}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0079b3}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:16px}.loading-spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid rgba(0,0,0,.1);border-top-color:#00a9e0;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),t})();const eY=["grammarListSelector"],tY=["statusMessage"],nY=["toggleDisplayComponent"];let qE=(()=>{class t{constructor(e,r){this.dataService=e,this.cd=r,this.dataEmitter=new lr,this.grammarList=[],this.defaultRules="./liger_resources/rules/degree_rules_ev.txt",this.grammarsDirectory="./liger_resources/rules",this.currentStatusMessage="",this.grammarFileTree=[],this.selectedPath="",this.rules=""}ngOnInit(){this.getGrammars(this.grammarsDirectory),console.log("Initial file tree:",this.grammarFileTree),this.selectedPath=this.defaultRules,this.updateGrammar(),this.sendRules()}ngAfterViewInit(){this.toggleDisplayComponent?this.toggleDisplayComponent.isHidden=!0:console.error("toggleDisplayComponent is still undefined in ngAfterViewInit.")}onFileSelected(e){console.log("Selected path from file tree:",e),this.selectedPath=e}updateGrammar(){this.selectedPath?(console.log("Changing rules to: "+this.selectedPath),this.dataService.loadRules({grammar:this.selectedPath}).subscribe(e=>{console.log(e),e.hasOwnProperty("grammar")?(console.log("Successfully loaded rules: "+this.selectedPath),this.currentStatusMessage="Currently loaded rules: "+this.selectedPath,this.cd.detectChanges(),this.toggleDisplayComponent.isHidden=!0,this.rules=e.grammar,this.sendRules()):this.currentStatusMessage="Failed to load grammar: "+this.selectedPath},e=>{console.log("ERROR: ",e),this.currentStatusMessage="Failed to load rules: "+this.selectedPath})):console.error("No file or folder selected!")}getGrammars(e){console.log("Fetching grammars via POST request"),this.dataService.getFileTree({grammar:e}).subscribe(r=>{console.log(r),r.hasOwnProperty("children")&&(console.log("Grammar file tree:",r.children),this.grammarFileTree=this.buildFileTree(r.children))},r=>{console.error("Failed to fetch grammars:",r)})}buildFileTree(e){return e.map(r=>({name:r.name,path:r.path,isDirectory:r.isDirectory||r.directory,children:r.children&&r.children.length>0?this.buildFileTree(r.children):[]}))}sendRules(){this.dataEmitter.emit(this.rules)}}return t.\u0275fac=function(e){return new(e||t)(We(Kg),We(os))},t.\u0275cmp=Er({type:t,selectors:[["app-rule-loader"]],viewQuery:function(e,r){if(1&e&&(Ln(eY,5),Ln(tY,5),Ln(nY,5)),2&e){let i;Mn(i=In())&&(r.grammarListSelector=i.first),Mn(i=In())&&(r.statusMessageDiv=i.first),Mn(i=In())&&(r.toggleDisplayComponent=i.first)}},outputs:{dataEmitter:"dataEmitter"},decls:9,vars:2,consts:[[1,"status-message"],["statusMessage",""],["type","fileTree","showText","Select file","hideText","Hide file selection"],["toggleDisplayComponent",""],[3,"fileTree","nodeSelected","nodeDoubleClicked"],[3,"click"]],template:function(e,r){1&e&&(Ye(0,"div",0,1),ft(2),$e(),Ye(3,"app-toggle-display",2,3)(5,"div")(6,"app-file-tree",4),Cn("nodeSelected",function(s){return r.onFileSelected(s)})("nodeDoubleClicked",function(){return r.updateGrammar()}),$e(),Ye(7,"button",5),Cn("click",function(){return r.updateGrammar()}),ft(8,"Update"),$e()()()),2&e&&(jt(2),Rl(" ",r.currentStatusMessage,"\n"),jt(4),Xt("fileTree",r.grammarFileTree))},dependencies:[em,fk],styles:[".status-message[_ngcontent-%COMP%]{color:red}"]}),t})();function rY(t,n){if(1&t){const e=Ds();Ye(0,"div",5),Cn("click",function(){const s=Vn(e).index,c=ni().index,m=ni();return hi(c===m.history.length-1?m.toggleSelection(s):null)}),ft(1),$e()}if(2&t){const e=n.$implicit,r=n.index,i=ni().index,s=ni();Ha("selected",s.isSelected(r)&&i===s.history.length-1),jt(1),Rl(" ",e.box," ")}}function iY(t,n){if(1&t&&(Ye(0,"div",3),yr(1,rY,2,3,"div",4),$e()),2&t){const e=n.$implicit;jt(1),Xt("ngForOf",e)}}let oY=(()=>{class t{constructor(){this.history=[],this.selectionChanged=new lr,this.selectedIndices=[]}addHistoryEntry(e){this.history.push(e),this.selectedIndices=[],this.emitSelection()}clearHistory(){this.history=[],this.selectedIndices=[],this.emitSelection()}toggleSelection(e){this.selectedIndices.includes(e)?this.selectedIndices=this.selectedIndices.filter(r=>r!==e):this.selectedIndices.push(e),this.emitSelection()}selectAllLastEntry(){this.history.length>0&&(this.selectedIndices=this.history[this.history.length-1].map((r,i)=>i),this.emitSelection())}clearSelection(){this.selectedIndices=[],this.selectionChanged.emit(this.selectedIndices),console.log("Selection cleared in history component",this.selectedIndices)}isSelected(e){return this.selectedIndices.includes(e)}emitSelection(){this.selectionChanged.emit(this.selectedIndices)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Er({type:t,selectors:[["app-history"]],inputs:{history:"history"},outputs:{selectionChanged:"selectionChanged"},decls:4,vars:1,consts:[[1,"history-container"],["class","history-row",4,"ngFor","ngForOf"],[3,"click"],[1,"history-row"],["class","history-box",3,"selected","click",4,"ngFor","ngForOf"],[1,"history-box",3,"click"]],template:function(e,r){1&e&&(Ye(0,"div",0),yr(1,iY,2,1,"div",1),$e(),Ye(2,"button",2),Cn("click",function(){return r.selectAllLastEntry()}),ft(3,"Select All (Last Entry)"),$e()),2&e&&(jt(1),Xt("ngForOf",r.history))},dependencies:[Ng],styles:[".history-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-height:400px;overflow-y:auto;border:1px solid #ccc;padding:10px;width:80%;margin:auto}.history-row[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-bottom:10px}.history-box[_ngcontent-%COMP%]{font-family:monospace;white-space:pre-wrap;text-align:center;background-color:#f4f4f4;padding:10px;border-radius:5px;border:1px solid #ddd;min-width:100px;cursor:pointer;transition:background-color .2s ease-in-out,border-color .2s ease-in-out}.history-box.selected[_ngcontent-%COMP%]{background-color:#add8e6;border-color:#00f;font-weight:700}.history-box[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}button[_ngcontent-%COMP%]{margin-top:10px;padding:8px 15px;font-size:14px;cursor:pointer;border:1px solid #007bff;background-color:#007bff;color:#fff;border-radius:4px;transition:background-color .2s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]}),t})(),Sk=(()=>{class t{constructor(e){this.fb=e,this.vampirePreferences={logic_type:0,model_building:!0,max_duration:10,layered:!1},this.vampirePreferencesForm=this.fb.group({logic_type:[0,Mv.required],model_building:[!0],max_duration:[10,Mv.required],layered:[!1]}),this.vampirePreferencesForm.valueChanges.subscribe(()=>{this.onSubmit()})}onSubmit(){const e={logic_type:this.vampirePreferencesForm.value.logic_type,model_building:this.vampirePreferencesForm.value.model_building,max_duration:this.vampirePreferencesForm.value.max_duration,layered:this.vampirePreferencesForm.value.layered};console.log("Gswb preferences: ",e),this.vampirePreferences=e}}return t.\u0275fac=function(e){return new(e||t)(We(TO))},t.\u0275cmp=Er({type:t,selectors:[["app-inference-settings"]],decls:51,vars:1,consts:[["novalidate","",3,"formGroup","ngSubmit"],["for","logic_type"],["formControlName","logic_type","id","logic_type","name","logic_type"],["value","0"],["value","1"],["for","duration"],["formControlName","max_duration","id","duration","name","duration"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","15"],["value","30"],["value","45"],["value","60"],["for","model-building"],["type","checkbox","formControlName","model_building","id","model-building","name","model-building"],["for","layered"],["type","checkbox","formControlName","layered","id","layered","name","layered"]],template:function(e,r){1&e&&(Ye(0,"h3"),ft(1,"Settings:"),$e(),Ye(2,"form",0),Cn("ngSubmit",function(){return r.onSubmit()}),Ye(3,"div")(4,"label",1),ft(5,"Logic type:"),$e(),Ye(6,"select",2)(7,"option",3),ft(8,"first-order logic (fof)"),$e(),Ye(9,"option",4),ft(10,"typed first-order logic (tff)"),$e()()(),Ye(11,"div")(12,"label",5),ft(13,"Proof search duration:"),$e(),Ye(14,"select",6)(15,"option",4),ft(16,"1s"),$e(),Ye(17,"option",7),ft(18,"2s"),$e(),Ye(19,"option",8),ft(20,"3s"),$e(),Ye(21,"option",9),ft(22,"4s"),$e(),Ye(23,"option",10),ft(24,"5s"),$e(),Ye(25,"option",11),ft(26,"6s"),$e(),Ye(27,"option",12),ft(28,"7s"),$e(),Ye(29,"option",13),ft(30,"8s"),$e(),Ye(31,"option",14),ft(32,"9s"),$e(),Ye(33,"option",15),ft(34,"10s"),$e(),Ye(35,"option",16),ft(36,"15s"),$e(),Ye(37,"option",17),ft(38,"30s"),$e(),Ye(39,"option",18),ft(40,"45s"),$e(),Ye(41,"option",19),ft(42,"60s"),$e()()(),Ye(43,"div")(44,"label",20),yn(45,"input",21),ft(46," Try model building "),$e()(),Ye(47,"div")(48,"label",22),yn(49,"input",23),ft(50," Layered analysis "),$e()()()),2&e&&(jt(2),Xt("formGroup",r.vampirePreferencesForm))},dependencies:[wx,Ex,Sx,n0,Bv,Wg,cx,Fv,p0],styles:["form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}div[_ngcontent-%COMP%]{flex-basis:50%;margin-bottom:10px}label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:5px}select[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{width:auto;margin-right:5px}"]}),t})();const aY=["gswbPrefs"],sY=["vampirePrefs"],lY=["chat"],uY=["history"],cY=["axiomEdit"];function dY(t,n){if(1&t){const e=Ds();Ye(0,"mat-tab-group",8),Cn("selectedIndexChange",function(i){return Vn(e),hi(ni().onTabChange(i))}),Ye(1,"mat-tab",9)(2,"div",10)(3,"app-chat",11),Cn("historyChange",function(i){return Vn(e),hi(ni().updateHistory(i))})("clearSelection",function(){return Vn(e),hi(ni().onClearSelection())}),ft(4," >"),$e()()(),Ye(5,"mat-tab",12)(6,"div",10)(7,"app-history",13),Cn("selectionChanged",function(i){return Vn(e),hi(ni().onSelectionChanged(i))}),$e()()(),Ye(8,"mat-tab",14)(9,"div",10)(10,"div",15),yn(11,"app-editor",16,17),$e()()()()}if(2&t){const e=ni(),r=Hs(15),i=Hs(17);jt(3),Xt("ruleString",e.ruleFile)("axioms",e.axioms)("gswbPreferences",r)("vampirePreferences",i)("history",e.history)("activeIndices",e.selectedElements),jt(4),Xt("history",e.history),jt(4),Xt("mode","vampire")}}let fY=(()=>{class t{constructor(e){this.cdRef=e,this.ruleFile="",this.history=[],this.axioms="",this.selectedElements=[],this.tabsInitialized=!1}ngAfterViewInit(){this.cdRef.detectChanges(),this.gswbPreferences?this.gswbPreferences.gswbPreferences={prover:1,debugging:!1,outputstyle:4,parseSem:!1,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:!1,naturalDeductionStyle:0}:console.error("ERROR: `gswbPreferences` ViewChild not initialized!"),this.vampirePreferences?this.vampirePreferences.vampirePreferences={logic_type:0,model_building:!0,max_duration:10,layered:!1}:console.error("ERROR: `vampirePreferences` ViewChild not initialized!"),this.tabsInitialized=!0}updateData(e){this.ruleFile=e}updateHistory(e){console.log("History updated:",e),this.history=e}onSelectionChanged(e){this.selectedElements=e,console.log("Selected elements updated in parent:",this.selectedElements)}onClearSelection(){this.selectedElements=[],this.historyComponent&&this.historyComponent.clearSelection(),console.log("Called onClearSelection in parent component")}onTabChange(e){setTimeout(()=>{this.editor?.getContent&&(console.log("Updating axioms to: ",this.editor.getContent()),this.axioms=this.editor.getContent(),this.cdRef.detectChanges())})}}return t.\u0275fac=function(e){return new(e||t)(We(os))},t.\u0275cmp=Er({type:t,selectors:[["app-inference-vis"]],viewQuery:function(e,r){if(1&e&&(Ln(aY,5),Ln(sY,5),Ln(lY,5),Ln(uY,5),Ln(cY,5)),2&e){let i;Mn(i=In())&&(r.gswbPreferences=i.first),Mn(i=In())&&(r.vampirePreferences=i.first),Mn(i=In())&&(r.chatComponent=i.first),Mn(i=In())&&(r.historyComponent=i.first),Mn(i=In())&&(r.editor=i.first)}},decls:19,vars:1,consts:[[1,"container"],["type","fileTree","showText","Show settings","hideText","Hide settings"],["toggleDisplayComponent",""],[1,"grammar-loader-container"],[3,"dataEmitter"],["gswbPrefs",""],["vampirePrefs",""],[3,"selectedIndexChange",4,"ngIf"],[3,"selectedIndexChange"],["label","Chat"],[1,"tab-content"],[3,"ruleString","axioms","gswbPreferences","vampirePreferences","history","activeIndices","historyChange","clearSelection"],["label","History"],[3,"history","selectionChanged"],["label","Axioms"],[1,"editor-restr"],[3,"mode"],["axiomEdit",""]],template:function(e,r){1&e&&(Ye(0,"div",0)(1,"h1"),ft(2,"Semantig parser settings"),$e(),Ye(3,"app-toggle-display",1,2)(5,"div",3)(6,"div")(7,"h2"),ft(8,"Grammar selection:"),$e(),yn(9,"app-grammar-loader"),$e(),Ye(10,"div")(11,"h2"),ft(12,"Rule file selection:"),$e(),Ye(13,"app-rule-loader",4),Cn("dataEmitter",function(s){return r.updateData(s)}),$e()()(),yn(14,"app-gswb-settings",null,5)(16,"app-inference-settings",null,6),$e()(),yr(18,dY,13,8,"mat-tab-group",7)),2&e&&(jt(18),Xt("ngIf",r.tabsInitialized))},dependencies:[kl,ZE,Dk,mp,em,G0,ew,J7,qE,oY,Sk],styles:["mat-tab-group[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.tab-content[_ngcontent-%COMP%]{flex:1;padding:16px;overflow:auto;background:#f5f5f5;height:calc(85vh - 48px)}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}app-chat[_ngcontent-%COMP%]{flex:1;min-height:0}.grammar-loader-container[_ngcontent-%COMP%]{padding:5px;display:flex;gap:16px}.container[_ngcontent-%COMP%]{padding:15px}"]}),t})();const hY=["graphContainer"],pY=["subgraphDialog"];Ws().use(k0()),Ws().use(xR());let gY=(()=>{class t{constructor(){this.style=[{selector:'node[node_type="rule"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow red","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}],this.defaultWidth="800px",this.defaultHeight="600px"}ngOnInit(){this.cy=Ws()({container:document.getElementById("cy"),style:this.style,layout:{name:"dagre"}})}makePopper(e){const r=e.popperRef();e.tippy=ty(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;return s.hasOwnProperty("rule")&&(i.innerHTML=i.innerHTML+"Rule "+s.id+": "+s.rule+"at line: "+s.line+"<br>"),i},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("rule")&&(this.makePopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}renderGraph(e){this.cy=Ws()({container:document.getElementById(this.graphID),elements:e,style:this.calculateStyle(e),layout:{name:"dagre"}}),this.createAndBindPoppers(),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy)}calculateStyle(e){let r=e.filter(N=>N.data.hasOwnProperty("rule"));r.sort((N,U)=>N.data.id>U.data.id?1:-1),console.log("Sorted nodes: ",r);const i=Math.floor(r.length/10);console.log("NodeBucket: ",i);let s=0,c=[];for(let N=0;N<r.length;N++){N%i==0&&s++;let U="style"+s;r[N].data.node_style=U,c.includes(U)||c.push(U)}console.log("Styles: ",c);let m=[],w=this.calculateColorStops("#FFFF00","#FF0000",c.length);for(let N=0;N<c.length;N++){let ge={selector:'node[node_style="'+c[N]+'"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":w[N]+" white","background-gradient-stop-positions":"100 100"}};console.log("Current cyto style: ",ge),m.push(ge)}return m}resizeToDefault(){const e=this.graphContainer.nativeElement;e.style.width=this.defaultWidth,e.style.height=this.defaultHeight}showDialog(){this.subgraphDialog.setContent(this.cy.data()),this.subgraphDialog.showDialog()}calculateColorStops(e,r,i){let s=[];for(let c=0;c<i;c++){const w=this.calculateColor(e,r,c/(i-1));s.push(w)}return s}calculateColor(e,r,i){const s=Math.round(this.interpolate(e.slice(1,3),r.slice(1,3),i)),c=Math.round(this.interpolate(e.slice(3,5),r.slice(3,5),i)),m=Math.round(this.interpolate(e.slice(5,7),r.slice(5,7),i));return`#${this.componentToHex(s)}${this.componentToHex(c)}${this.componentToHex(m)}`}interpolate(e,r,i){return(1-i)*parseInt(e,16)+i*parseInt(r,16)}componentToHex(e){const r=e.toString(16);return 1===r.length?"0"+r:r}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Er({type:t,selectors:[["app-applied-rules-graph"]],viewQuery:function(e,r){if(1&e&&(Ln(hY,5),Ln(pY,5)),2&e){let i;Mn(i=In())&&(r.graphContainer=i.first),Mn(i=In())&&(r.subgraphDialog=i.first)}},inputs:{graphID:"graphID"},decls:7,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(e,r){1&e&&(Ye(0,"div"),yn(1,"div",0,1),Ye(3,"button",2),Cn("click",function(){return r.resizeToDefault()}),ft(4,"Resize to Default"),$e(),yn(5,"app-sub-graph-dialog",3,4),$e()),2&e&&(jt(1),Xt("id",r.graphID),jt(4),Xt("subgraphID","sub"+r.graphID)("subgraphStyle","liger"))},dependencies:[AE],styles:["div.cy[_ngcontent-%COMP%]{width:760px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const mY=["solution"],vY=function(t){return{"highlight-block":t}},QE=function(t){return{"zero-value":t}};let yY=(()=>{class t{constructor(){this.sentence_id="",this.sentence="",this.numberOfAppliedRules=0,this.numberOfMCsets=0,this.noOfSolutions=0,this.ligerMCsets="",this.gswbSolutions=[],this.solutionsContent=""}ngOnInit(){this.data&&(this.sentence_id=this.data.sentence_id,this.sentence=this.data.sentence,this.numberOfAppliedRules=this.data.noOfAppliedRules,this.numberOfMCsets=this.data.noOfMCsets,this.noOfSolutions=this.data.noOfSolutions,this.gswbDerivation=this.data.gswbDerivation,this.ligerGraph=this.data.ligerGraph,this.ligerMCsets=this.data.ligerMCsets,this.solutionsContent=this.data.gswbSolutions.join("\n"),console.log("Solutions content:",this.solutionsContent))}ngAfterViewInit(){setTimeout(()=>{this.dialog&&this.solutionsContent&&this.dialog.setContent(this.solutionsContent)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Er({type:t,selectors:[["app-test-result"]],viewQuery:function(e,r){if(1&e&&Ln(mY,5),2&e){let i;Mn(i=In())&&(r.dialog=i.first)}},inputs:{data:"data"},decls:16,vars:17,consts:[[3,"ngClass"],["solution",""]],template:function(e,r){1&e&&(Ye(0,"p",0),ft(1),yn(2,"br"),ft(3," Number of applied rules: "),Ye(4,"span",0),ft(5),$e(),yn(6,"br"),ft(7," Number of meaning constructor sets: "),Ye(8,"span",0),ft(9),$e(),yn(10,"br"),ft(11," Number of solutions: "),Ye(12,"span",0),ft(13),$e()(),yn(14,"app-dialog",null,1)),2&e&&(Xt("ngClass",Hc(9,vY,0===r.numberOfMCsets||0===r.noOfSolutions)),jt(1),lb(" ",r.sentence_id,": ",r.sentence,""),jt(3),Xt("ngClass",Hc(11,QE,0===r.numberOfAppliedRules)),jt(1),Rl(" ",r.numberOfAppliedRules," "),jt(3),Xt("ngClass",Hc(13,QE,0===r.numberOfMCsets)),jt(1),Rl(" ",r.numberOfMCsets," "),jt(3),Xt("ngClass",Hc(15,QE,0===r.noOfSolutions)),jt(1),Rl(" ",r.noOfSolutions," "))},dependencies:[cv,CR],styles:["div.rule[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{width:100%;resize:none}.highlight-block[_ngcontent-%COMP%]{background-color:#ff000014;border-radius:4px;padding:6px}.zero-value[_ngcontent-%COMP%]{color:red;font-weight:700}"]}),t})();const bY=["arcy"],wY=["ligerreport"],_Y=["gswbreport"],CY=["gswbSettings"],xY=["ligerRules"],EY=["errorhandle"];function DY(t,n){1&t&&(Ye(0,"span"),ft(1,"Parse all"),$e())}function SY(t,n){1&t&&yn(0,"span",26)}function TY(t,n){1&t&&(Ye(0,"span"),ft(1,"Loading..."),$e())}function MY(t,n){1&t&&(Ye(0,"span"),ft(1,"Multistage"),$e())}function IY(t,n){1&t&&yn(0,"span",26)}function AY(t,n){1&t&&(Ye(0,"span"),ft(1,"Loading..."),$e())}function OY(t,n){if(1&t&&(Ye(0,"div",27),yn(1,"app-test-result",28),$e()),2&t){const e=n.$implicit;jt(1),Xt("data",e)}}let NY=(()=>{class t{constructor(e){this.dataService=e,this.regressionTestResults=[],this.loading=!1}batchParse(e,r){this.errorhandle.nativeElement.innerHTML="",this.loading=!0,this.regressionTestResults=[],this.gswbPreferences.onSubmit();let i=e.split("\n").filter(m=>{let w=m.trim();return""!==w&&!w.startsWith("#")}),s={};for(let m=0;m<i.length;m++)s["S"+(m+1)]=i[m];this.displayMessage("Sending testsuite to LiGER for parsing ...","blue"),this.dataService.ligerBatchAnnotate({sentences:s,ruleString:r}).subscribe(m=>{if(m.hasOwnProperty("annotations")){console.log("Annotations:",m.annotations);let w={};for(let[U,K]of Object.entries(m.annotations))w[U]=K.meaningConstructors;let N={};Object.keys(w).sort((U,K)=>parseInt(U.match(/\d+/)[0])-parseInt(K.match(/\d+/)[0])).forEach(U=>{N[U]=w[U]}),console.log("sorted MCs",N),this.gswbMultipleRequest={premises:N,gswbPreferences:this.gswbPreferences.gswbPreferences},console.log("Specified request: ",this.gswbMultipleRequest)}m.hasOwnProperty("ruleApplicationGraph")&&(console.log(m.ruleApplicationGraph),this.cy1.renderGraph(m.ruleApplicationGraph)),this.displayMessage("Sending parsing results to GSWB for deduction ...","blue"),this.batchDeduce(this.gswbMultipleRequest).subscribe(w=>{const N=w.outputs;console.log("GSWB outputs: ",N);const U=new Map;for(const Se in N)U.set(Se,N[Se]);console.log("GSWB Map: ",U);let K=0,ge=[];for(let Se of Object.keys(s)){U.get(Se).solutions.length>0&&(K++,ge.push(Se));let Fe={sentence_id:Se,sentence:s[Se],noOfAppliedRules:m.annotations[Se].appliedRules.length,noOfMCsets:m.annotations[Se].numberOfMCsets,noOfSolutions:U.get(Se).solutions.length,ligerGraph:m.annotations[Se].graph,ligerMCsets:m.annotations[Se].meaningConstructors,gswbSolutions:U.get(Se).solutions,gswbDerivation:U.get(Se).derivation};console.log("Regression test result for "+Se+": ",Fe),this.regressionTestResults.push(Fe)}console.log("Successful keys: ",ge);let be="Parsed "+K+" of "+Object.keys(s).length+" sentences! \n";this.loading=!1,this.displayMessage(be+"Batch processing completed successfully.","green")})},m=>{console.error("An error occurred:",m),this.displayMessage("An error occurred during batch parsing.","red"),this.loading=!1})}batchMultistage(e){this.gswbPreferences.onSubmit();let r=e.split("\n").filter(c=>{let m=c.trim();return""!==m&&!m.startsWith("#")}),i={};for(let c=0;c<r.length;c++)i["S"+c]=r[c];this.dataService.ligerBatchMultistage({sentences:i,ruleString:null}).subscribe(c=>{if(console.log(c),c.hasOwnProperty("annotations")){console.log(c.annotations);let m={};for(let[w,N]of Object.entries(c.annotations))m[w]=N.meaningConstructors;this.gswbMultipleRequest={premises:m,gswbPreferences:this.gswbPreferences.gswbPreferences},console.log("Specified request: ",this.gswbMultipleRequest)}c.hasOwnProperty("report")&&(this.ligerreport.nativeElement.innerHTML=c.report),this.batchDeduce(this.gswbMultipleRequest)},c=>{console.error("An error occurred:",c),this.loading=!1})}updateData(e){this.ligerRules.updateContent(e)}batchDeduce(e){return this.dataService.gswbBatchDeduce(e).pipe(ga(r=>{if(console.log("Full data:",r),r.hasOwnProperty("outputs")){console.log("Outputs map:");for(const i in r.outputs)console.log(i,r.outputs[i])}}),nf(r=>(console.error("An error occurred:",r),this.displayMessage("An error occurred during GSWB deduction.","red"),this.loading=!1,oa)))}displayMessage(e,r){this.errorhandle.nativeElement.style.color=r,this.errorhandle.nativeElement.innerHTML="["+(new Date).toLocaleTimeString()+"] "+e}}return t.\u0275fac=function(e){return new(e||t)(We(Kg))},t.\u0275cmp=Er({type:t,selectors:[["app-regression-testing-interface"]],viewQuery:function(e,r){if(1&e&&(Ln(bY,5),Ln(wY,5),Ln(_Y,5),Ln(CY,5),Ln(xY,5),Ln(EY,5)),2&e){let i;Mn(i=In())&&(r.cy1=i.first),Mn(i=In())&&(r.ligerreport=i.first),Mn(i=In())&&(r.gswbreport=i.first),Mn(i=In())&&(r.gswbPreferences=i.first),Mn(i=In())&&(r.ligerRules=i.first),Mn(i=In())&&(r.errorhandle=i.first)}},decls:55,vars:10,consts:[[1,"frame"],[1,"container"],["type","fileTree","showText","Show settings","hideText","Hide settings"],["toggleDisplayComponent",""],[1,"grammar-loader-container"],[3,"dataEmitter"],[1,"editor-restr"],[3,"mode"],["testsuite",""],["type","liger","showText","Show input rules","hideText","Hide input rules"],[1,"gradient-container"],["ligerRules",""],[1,"bar-container"],[1,"gradient-bar"],[1,"empty-space"],["gswbSettings",""],[3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"button","beta",3,"click"],[1,"errorhandling"],["errorhandle",""],["class","result-container",4,"ngFor","ngForOf"],["type","liger","showText","Show applied rules","hideText","Hide applied rules"],[3,"graphID"],["arcy",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"result-container"],[3,"data"]],template:function(e,r){if(1&e){const i=Ds();Ye(0,"div",0)(1,"div",1)(2,"h1"),ft(3,"Semantig parser settings"),$e(),Ye(4,"app-toggle-display",2,3)(6,"div",4)(7,"div")(8,"h2"),ft(9,"Grammar selection:"),$e(),yn(10,"app-grammar-loader"),$e(),Ye(11,"div")(12,"h2"),ft(13,"Rule file selection:"),$e(),Ye(14,"app-rule-loader",5),Cn("dataEmitter",function(c){return r.updateData(c)}),$e()()()()(),Ye(15,"h3"),ft(16," Testsuite:\n"),$e(),Ye(17,"div",6),yn(18,"app-editor",7,8),$e(),yn(20,"br"),Ye(21,"app-toggle-display",9)(22,"h3"),ft(23," Test rules:\n"),$e(),Ye(24,"div",10)(25,"div",6),yn(26,"app-editor",7,11),$e(),Ye(28,"div",12),yn(29,"div",13)(30,"div",14),$e()()(),yn(31,"app-gswb-settings",null,15),Ye(33,"button",16),Cn("click",function(){Vn(i);const c=Hs(19),m=Hs(27);return hi(r.batchParse(c.getContent(),m.getContent()))}),yr(34,DY,2,0,"span",17),yr(35,SY,1,0,"span",18),yr(36,TY,2,0,"span",17),$e(),Ye(37,"button",19),Cn("click",function(){Vn(i);const c=Hs(19);return hi(r.batchMultistage(c.getContent()))}),yr(38,MY,2,0,"span",17),yr(39,IY,1,0,"span",18),yr(40,AY,2,0,"span",17),$e(),yn(41,"div",20,21),Ye(43,"h3"),ft(44," Report:\n"),$e(),Ye(45,"div"),yr(46,OY,2,1,"div",22),$e(),yn(47,"br")(48,"br"),Ye(49,"app-toggle-display",23)(50,"h3"),ft(51," Applied rules:\n"),$e(),Ye(52,"div"),yn(53,"app-applied-rules-graph",24,25),$e()()()}2&e&&(jt(18),Xt("mode","text"),jt(8),Xt("mode","liger"),jt(8),Xt("ngIf",!r.loading),jt(1),Xt("ngIf",r.loading),jt(1),Xt("ngIf",r.loading),jt(2),Xt("ngIf",!r.loading),jt(1),Xt("ngIf",r.loading),jt(1),Xt("ngIf",r.loading),jt(6),Xt("ngForOf",r.regressionTestResults),jt(7),Xt("graphID","arCy1"))},dependencies:[Ng,kl,mp,gY,em,G0,ew,qE,yY],styles:[".gradient-container[_ngcontent-%COMP%]{display:flex;align-items:stretch;max-width:100%}.bar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.gradient-bar[_ngcontent-%COMP%]{flex-grow:1;width:20px;background:linear-gradient(to bottom,yellow,red)}.empty-space[_ngcontent-%COMP%]{width:20px;height:30px}textarea[_ngcontent-%COMP%]{width:50%;resize:both;overflow:auto;padding-left:20px}.frame[_ngcontent-%COMP%]{padding-left:10px}div.result-container[_ngcontent-%COMP%]{width:800px;column-gap:20px;padding:5px;border:2px solid #00a9e0;align-items:flex-start;box-sizing:border-box}div.errorhandling[_ngcontent-%COMP%]{color:red;padding-bottom:10px}"]}),t})(),RY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Er({type:t,selectors:[["app-home"]],decls:55,vars:0,consts:[["href","https://github.com/Mmaz1988/GlueSemWorkbench_v2"],["href","https://github.com/Mmaz1988/liger"],["href","https://github.com/Mmaz1988/xle-glueworkbench-interface"],["href","https://github.com/Mmaz1988/xleplusglue-client"],["href","https://cloud.uni-konstanz.de/index.php/s/RQ6ziY2xkHkjpGM"]],template:function(e,r){1&e&&(Ye(0,"div")(1,"h1"),ft(2," The XLE+Glue web application"),$e(),Ye(3,"p"),ft(4,"This page presents several resources used for exploring LFG's glue semantics. Concretely, it presents the\n"),Ye(5,"a",0),ft(6," Glue semantics workbench "),$e(),ft(7,"and the "),Ye(8,"a",1),ft(9," LiGER rewrite system "),$e(),ft(10,". It also serves as a revised frontend for the original "),Ye(11,"a",2),ft(12,"XLE + Glue"),$e(),ft(13,". As all of these resources, this frontend is open source.\nIt is available at: "),Ye(14,"a",3),ft(15,"XLE+Glue client"),$e()(),Ye(16,"h2"),ft(17,"Quick start"),$e(),Ye(18,"h2"),ft(19,"Running the system locally"),$e(),Ye(20,"p"),ft(21," To run this system, you require: "),$e(),Ye(22,"ul")(23,"li"),ft(24," A running version of the GSWB "),$e(),Ye(25,"li"),ft(26," A running version of LiGER "),$e(),Ye(27,"li"),ft(28," A running version of the client "),$e()(),Ye(29,"p"),ft(30," You either need to compile your own jar files for the GSWB and LiGER, or you can use the ones provided at "),Ye(31,"a",4),ft(32,"XLE+Glue resources"),$e(),ft(33,". Please contact Mark-Matthias Zymla if you can't access the relevant files. You need to run both -jar files with the "),Ye(34,"b"),ft(35,"-web"),$e(),ft(36," parameter. Furthermore, they require resource folders to be present in the same directory as the jar files. These resource folders contain additional requirements explained on the corresponding github pages. "),$e(),Ye(37,"p"),ft(38," The frontend is written in angular. To use it locally, you need to install node.js and npm. Then, you can run "),Ye(39,"b"),ft(40,"ng build"),$e(),ft(41," in the client directory to build the frontend, which is then stored in the dist directory. You can use "),Ye(42,"b"),ft(43,"http-server"),$e(),ft(44," to serve the frontend. It can be installed with "),Ye(45,"b"),ft(46,"npm install -g http-server"),$e(),ft(47,". Then, you can run "),Ye(48,"b"),ft(49,"http-server dist/xleplusglue-cient"),$e(),ft(50," to serve the frontend. Http-server will tell you the correct address. "),$e(),Ye(51,"p"),ft(52,"If you have node.js and http-server installed, you can also try to use the pre-build version available at: "),yn(53,"a",3),ft(54,". There, you also find the relevant resource folders for the GSWB\nand LiGER and a .sh file that allows you to execute the backend (i.e., the GSWB and LiGER jars) and frontend with a single command. "),$e()())},styles:["div[_ngcontent-%COMP%]{padding-left:20px}p[_ngcontent-%COMP%]{width:800px}"]}),t})();const kY=["gswbPrefs"],PY=["axiomEdit"];function LY(t,n){if(1&t){const e=Ds();Ye(0,"mat-tab-group",8),Cn("selectedIndexChange",function(i){return Vn(e),hi(ni().onTabChange(i))}),Ye(1,"mat-tab",9)(2,"div",10),ft(3," This works "),$e()(),Ye(4,"mat-tab",11)(5,"div",10)(6,"div",12),yn(7,"app-editor",13,14),$e()()()()}2&t&&(jt(7),Xt("mode","glue"))}const FY=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"demo",component:R9},{path:"regression",component:NY},{path:"inference",component:(()=>{class t{constructor(e){this.cdRef=e,this.ruleFile="",this.history=[],this.axioms="",this.tabsInitialized=!1}ngAfterViewInit(){this.cdRef.detectChanges(),this.gswbPreferences?this.gswbPreferences.gswbPreferences={prover:1,debugging:!1,outputstyle:4,parseSem:!1,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:!1,naturalDeductionStyle:0}:console.error("ERROR: `gswbPreferences` ViewChild not initialized!"),this.tabsInitialized=!0}updateData(e){this.ruleFile=e}updateHistory(e){console.log("History updated:",e),this.history=e}onTabChange(e){setTimeout(()=>{this.editor?.getContent&&(console.log("Updating axioms to: ",this.editor.getContent()),this.axioms=this.editor.getContent(),this.cdRef.detectChanges())})}}return t.\u0275fac=function(e){return new(e||t)(We(os))},t.\u0275cmp=Er({type:t,selectors:[["app-inference-interface"]],viewQuery:function(e,r){if(1&e&&(Ln(kY,5),Ln(PY,5)),2&e){let i;Mn(i=In())&&(r.gswbPreferences=i.first),Mn(i=In())&&(r.editor=i.first)}},decls:19,vars:1,consts:[[1,"container"],["type","fileTree","showText","Show settings","hideText","Hide settings"],["toggleDisplayComponent",""],[1,"grammar-loader-container"],[3,"dataEmitter"],["gswbPrefs",""],["vampirePrefs",""],[3,"selectedIndexChange",4,"ngIf"],[3,"selectedIndexChange"],["label","Test items"],[1,"tab-content"],["label","Axioms"],[1,"editor-restr"],[3,"mode"],["axiomEdit",""]],template:function(e,r){1&e&&(Ye(0,"div",0)(1,"h1"),ft(2,"Semantig parser settings"),$e(),Ye(3,"app-toggle-display",1,2)(5,"div",3)(6,"div")(7,"h2"),ft(8,"Grammar selection:"),$e(),yn(9,"app-grammar-loader"),$e(),Ye(10,"div")(11,"h2"),ft(12,"Rule file selection:"),$e(),Ye(13,"app-rule-loader",4),Cn("dataEmitter",function(s){return r.updateData(s)}),$e()()(),yn(14,"app-gswb-settings",null,5)(16,"app-inference-settings",null,6),$e()(),yr(18,LY,9,1,"mat-tab-group",7)),2&e&&(jt(18),Xt("ngIf",r.tabsInitialized))},dependencies:[kl,ZE,Dk,mp,em,G0,ew,qE,Sk],styles:["mat-tab-group[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.tab-content[_ngcontent-%COMP%]{flex:1;padding:16px;overflow:auto;background:#f5f5f5;height:calc(85vh - 48px)}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}app-chat[_ngcontent-%COMP%]{flex:1;min-height:0}.grammar-loader-container[_ngcontent-%COMP%]{padding:5px;display:flex;gap:16px}.container[_ngcontent-%COMP%]{padding:15px}"]}),t})()},{path:"chat",component:fY},{path:"home",component:RY}];let BY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t}),t.\u0275inj=Qr({imports:[CA.forRoot(FY),CA]}),t})(),VY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Jr({type:t,bootstrap:[Yz]}),t.\u0275inj=Qr({imports:[dI,VU,uG,BU,EC,BY,k$,X$,a9,j7,dj]}),t})();l5().bootstrapModule(VY).catch(t=>console.error(t))},7925:(Y,se,D)=>{"use strict";D.r(se),D.d(se,{afterMain:()=>te,afterRead:()=>le,afterWrite:()=>oe,applyStyles:()=>ht,arrow:()=>Bi,auto:()=>C,basePlacements:()=>S,beforeMain:()=>ae,beforeRead:()=>ue,beforeWrite:()=>pe,bottom:()=>P,clippingParents:()=>V,computeStyles:()=>Hl,createPopper:()=>Yn,createPopperBase:()=>id,createPopperLite:()=>As,detectOverflow:()=>Aa,end:()=>A,eventListeners:()=>fl,flip:()=>vu,hide:()=>tc,left:()=>I,main:()=>de,modifierPhases:()=>ie,offset:()=>rc,placements:()=>Q,popper:()=>k,popperGenerator:()=>ko,popperOffsets:()=>ri,preventOverflow:()=>qi,read:()=>ne,reference:()=>H,right:()=>O,start:()=>R,top:()=>T,variationPlacements:()=>$,viewport:()=>L,write:()=>Z});var T="top",P="bottom",O="right",I="left",C="auto",S=[T,P,O,I],R="start",A="end",V="clippingParents",L="viewport",k="popper",H="reference",$=S.reduce(function(Oe,Re){return Oe.concat([Re+"-"+R,Re+"-"+A])},[]),Q=[].concat(S,[C]).reduce(function(Oe,Re){return Oe.concat([Re,Re+"-"+R,Re+"-"+A])},[]),ue="beforeRead",ne="read",le="afterRead",ae="beforeMain",de="main",te="afterMain",pe="beforeWrite",Z="write",oe="afterWrite",ie=[ue,ne,le,ae,de,te,pe,Z,oe];function me(Oe){return Oe?(Oe.nodeName||"").toLowerCase():null}function _e(Oe){if(null==Oe)return window;if("[object Window]"!==Oe.toString()){var Re=Oe.ownerDocument;return Re&&Re.defaultView||window}return Oe}function Te(Oe){return Oe instanceof _e(Oe).Element||Oe instanceof Element}function De(Oe){return Oe instanceof _e(Oe).HTMLElement||Oe instanceof HTMLElement}function ze(Oe){return!(typeof ShadowRoot>"u")&&(Oe instanceof _e(Oe).ShadowRoot||Oe instanceof ShadowRoot)}const ht={name:"applyStyles",enabled:!0,phase:"write",fn:function Be(Oe){var Re=Oe.state;Object.keys(Re.elements).forEach(function(Ve){var rt=Re.styles[Ve]||{},Je=Re.attributes[Ve]||{},Qt=Re.elements[Ve];!De(Qt)||!me(Qt)||(Object.assign(Qt.style,rt),Object.keys(Je).forEach(function(gn){var Vt=Je[gn];!1===Vt?Qt.removeAttribute(gn):Qt.setAttribute(gn,!0===Vt?"":Vt)}))})},effect:function at(Oe){var Re=Oe.state,Ve={popper:{position:Re.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(Re.elements.popper.style,Ve.popper),Re.styles=Ve,Re.elements.arrow&&Object.assign(Re.elements.arrow.style,Ve.arrow),function(){Object.keys(Re.elements).forEach(function(rt){var Je=Re.elements[rt],Qt=Re.attributes[rt]||{},Vt=Object.keys(Re.styles.hasOwnProperty(rt)?Re.styles[rt]:Ve[rt]).reduce(function(tn,Un){return tn[Un]="",tn},{});!De(Je)||!me(Je)||(Object.assign(Je.style,Vt),Object.keys(Qt).forEach(function(tn){Je.removeAttribute(tn)}))})}},requires:["computeStyles"]};function Ke(Oe){return Oe.split("-")[0]}var Ct=Math.max,Ze=Math.min,qt=Math.round;function Ht(){var Oe=navigator.userAgentData;return null!=Oe&&Oe.brands&&Array.isArray(Oe.brands)?Oe.brands.map(function(Re){return Re.brand+"/"+Re.version}).join(" "):navigator.userAgent}function It(){return!/^((?!chrome|android).)*safari/i.test(Ht())}function mn(Oe,Re,Ve){void 0===Re&&(Re=!1),void 0===Ve&&(Ve=!1);var rt=Oe.getBoundingClientRect(),Je=1,Qt=1;Re&&De(Oe)&&(Je=Oe.offsetWidth>0&&qt(rt.width)/Oe.offsetWidth||1,Qt=Oe.offsetHeight>0&&qt(rt.height)/Oe.offsetHeight||1);var Vt=(Te(Oe)?_e(Oe):window).visualViewport,tn=!It()&&Ve,Un=(rt.left+(tn&&Vt?Vt.offsetLeft:0))/Je,Bt=(rt.top+(tn&&Vt?Vt.offsetTop:0))/Qt,Or=rt.width/Je,er=rt.height/Qt;return{width:Or,height:er,top:Bt,right:Un+Or,bottom:Bt+er,left:Un,x:Un,y:Bt}}function cn(Oe){var Re=mn(Oe),Ve=Oe.offsetWidth,rt=Oe.offsetHeight;return Math.abs(Re.width-Ve)<=1&&(Ve=Re.width),Math.abs(Re.height-rt)<=1&&(rt=Re.height),{x:Oe.offsetLeft,y:Oe.offsetTop,width:Ve,height:rt}}function lt(Oe,Re){var Ve=Re.getRootNode&&Re.getRootNode();if(Oe.contains(Re))return!0;if(Ve&&ze(Ve)){var rt=Re;do{if(rt&&Oe.isSameNode(rt))return!0;rt=rt.parentNode||rt.host}while(rt)}return!1}function it(Oe){return _e(Oe).getComputedStyle(Oe)}function pt(Oe){return["table","td","th"].indexOf(me(Oe))>=0}function Ft(Oe){return((Te(Oe)?Oe.ownerDocument:Oe.document)||window.document).documentElement}function St(Oe){return"html"===me(Oe)?Oe:Oe.assignedSlot||Oe.parentNode||(ze(Oe)?Oe.host:null)||Ft(Oe)}function Kn(Oe){return De(Oe)&&"fixed"!==it(Oe).position?Oe.offsetParent:null}function Tr(Oe){for(var Re=_e(Oe),Ve=Kn(Oe);Ve&&pt(Ve)&&"static"===it(Ve).position;)Ve=Kn(Ve);return Ve&&("html"===me(Ve)||"body"===me(Ve)&&"static"===it(Ve).position)?Re:Ve||function Jn(Oe){var Re=/firefox/i.test(Ht());if(/Trident/i.test(Ht())&&De(Oe)&&"fixed"===it(Oe).position)return null;var Je=St(Oe);for(ze(Je)&&(Je=Je.host);De(Je)&&["html","body"].indexOf(me(Je))<0;){var Qt=it(Je);if("none"!==Qt.transform||"none"!==Qt.perspective||"paint"===Qt.contain||-1!==["transform","perspective"].indexOf(Qt.willChange)||Re&&"filter"===Qt.willChange||Re&&Qt.filter&&"none"!==Qt.filter)return Je;Je=Je.parentNode}return null}(Oe)||Re}function kr(Oe){return["top","bottom"].indexOf(Oe)>=0?"x":"y"}function Cr(Oe,Re,Ve){return Ct(Oe,Ze(Re,Ve))}function Xr(Oe){return Object.assign({},{top:0,right:0,bottom:0,left:0},Oe)}function dn(Oe,Re){return Re.reduce(function(Ve,rt){return Ve[rt]=Oe,Ve},{})}const Bi={name:"arrow",enabled:!0,phase:"main",fn:function ro(Oe){var Re,Ve=Oe.state,rt=Oe.name,Je=Oe.options,Qt=Ve.elements.arrow,gn=Ve.modifiersData.popperOffsets,Vt=Ke(Ve.placement),tn=kr(Vt),Bt=[I,O].indexOf(Vt)>=0?"height":"width";if(Qt&&gn){var Or=function(Re,Ve){return Xr("number"!=typeof(Re="function"==typeof Re?Re(Object.assign({},Ve.rects,{placement:Ve.placement})):Re)?Re:dn(Re,S))}(Je.padding,Ve),er=cn(Qt),or="y"===tn?T:I,ii="y"===tn?P:O,An=Ve.rects.reference[Bt]+Ve.rects.reference[tn]-gn[tn]-Ve.rects.popper[Bt],on=gn[tn]-Ve.rects.reference[tn],Lr=Tr(Qt),mi=Lr?"y"===tn?Lr.clientHeight||0:Lr.clientWidth||0:0,Fr=mi/2-er[Bt]/2+(An/2-on/2),vn=Cr(Or[or],Fr,mi-er[Bt]-Or[ii]);Ve.modifiersData[rt]=((Re={})[tn]=vn,Re.centerOffset=vn-Fr,Re)}},effect:function Fi(Oe){var Re=Oe.state,rt=Oe.options.element,Je=void 0===rt?"[data-popper-arrow]":rt;null!=Je&&("string"==typeof Je&&!(Je=Re.elements.popper.querySelector(Je))||lt(Re.elements.popper,Je)&&(Re.elements.arrow=Je))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jr(Oe){return Oe.split("-")[1]}var Ki={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ts(Oe){var Re,Ve=Oe.popper,rt=Oe.popperRect,Je=Oe.placement,Qt=Oe.variation,gn=Oe.offsets,Vt=Oe.position,tn=Oe.gpuAcceleration,Un=Oe.adaptive,Bt=Oe.roundOffsets,Or=Oe.isFixed,er=gn.x,or=void 0===er?0:er,ii=gn.y,An=void 0===ii?0:ii,on="function"==typeof Bt?Bt({x:or,y:An}):{x:or,y:An};or=on.x,An=on.y;var Lr=gn.hasOwnProperty("x"),mi=gn.hasOwnProperty("y"),ui=I,gr=T,Qe=window;if(Un){var Fr=Tr(Ve),vn="clientHeight",Gn="clientWidth";Fr===_e(Ve)&&"static"!==it(Fr=Ft(Ve)).position&&"absolute"===Vt&&(vn="scrollHeight",Gn="scrollWidth"),(Je===T||(Je===I||Je===O)&&Qt===A)&&(gr=P,An-=(Or&&Fr===Qe&&Qe.visualViewport?Qe.visualViewport.height:Fr[vn])-rt.height,An*=tn?1:-1),Je!==I&&(Je!==T&&Je!==P||Qt!==A)||(ui=O,or-=(Or&&Fr===Qe&&Qe.visualViewport?Qe.visualViewport.width:Fr[Gn])-rt.width,or*=tn?1:-1)}var Rr,mo=Object.assign({position:Vt},Un&&Ki),zi=!0===Bt?function ja(Oe,Re){var rt=Oe.y,Je=Re.devicePixelRatio||1;return{x:qt(Oe.x*Je)/Je||0,y:qt(rt*Je)/Je||0}}({x:or,y:An},_e(Ve)):{x:or,y:An};return or=zi.x,An=zi.y,Object.assign({},mo,tn?((Rr={})[gr]=mi?"0":"",Rr[ui]=Lr?"0":"",Rr.transform=(Qe.devicePixelRatio||1)<=1?"translate("+or+"px, "+An+"px)":"translate3d("+or+"px, "+An+"px, 0)",Rr):((Re={})[gr]=mi?An+"px":"",Re[ui]=Lr?or+"px":"",Re.transform="",Re))}const Hl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Nn(Oe){var Re=Oe.state,Ve=Oe.options,rt=Ve.gpuAcceleration,Je=void 0===rt||rt,Qt=Ve.adaptive,gn=void 0===Qt||Qt,Vt=Ve.roundOffsets,tn=void 0===Vt||Vt,Un={placement:Ke(Re.placement),variation:jr(Re.placement),popper:Re.elements.popper,popperRect:Re.rects.popper,gpuAcceleration:Je,isFixed:"fixed"===Re.options.strategy};null!=Re.modifiersData.popperOffsets&&(Re.styles.popper=Object.assign({},Re.styles.popper,Ts(Object.assign({},Un,{offsets:Re.modifiersData.popperOffsets,position:Re.options.strategy,adaptive:gn,roundOffsets:tn})))),null!=Re.modifiersData.arrow&&(Re.styles.arrow=Object.assign({},Re.styles.arrow,Ts(Object.assign({},Un,{offsets:Re.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:tn})))),Re.attributes.popper=Object.assign({},Re.attributes.popper,{"data-popper-placement":Re.placement})},data:{}};var Yo={passive:!0};const fl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Xo(Oe){var Re=Oe.state,Ve=Oe.instance,rt=Oe.options,Je=rt.scroll,Qt=void 0===Je||Je,gn=rt.resize,Vt=void 0===gn||gn,tn=_e(Re.elements.popper),Un=[].concat(Re.scrollParents.reference,Re.scrollParents.popper);return Qt&&Un.forEach(function(Bt){Bt.addEventListener("scroll",Ve.update,Yo)}),Vt&&tn.addEventListener("resize",Ve.update,Yo),function(){Qt&&Un.forEach(function(Bt){Bt.removeEventListener("scroll",Ve.update,Yo)}),Vt&&tn.removeEventListener("resize",Ve.update,Yo)}},data:{}};var Wa={left:"right",right:"left",bottom:"top",top:"bottom"};function Ms(Oe){return Oe.replace(/left|right|bottom|top/g,function(Re){return Wa[Re]})}var xn={start:"end",end:"start"};function va(Oe){return Oe.replace(/start|end/g,function(Re){return xn[Re]})}function go(Oe){var Re=_e(Oe);return{scrollLeft:Re.pageXOffset,scrollTop:Re.pageYOffset}}function gi(Oe){return mn(Ft(Oe)).left+go(Oe).scrollLeft}function Ti(Oe){var Re=it(Oe);return/auto|scroll|overlay|hidden/.test(Re.overflow+Re.overflowY+Re.overflowX)}function Ma(Oe){return["html","body","#document"].indexOf(me(Oe))>=0?Oe.ownerDocument.body:De(Oe)&&Ti(Oe)?Oe:Ma(St(Oe))}function Vi(Oe,Re){var Ve;void 0===Re&&(Re=[]);var rt=Ma(Oe),Je=rt===(null==(Ve=Oe.ownerDocument)?void 0:Ve.body),Qt=_e(rt),gn=Je?[Qt].concat(Qt.visualViewport||[],Ti(rt)?rt:[]):rt,Vt=Re.concat(gn);return Je?Vt:Vt.concat(Vi(St(gn)))}function Zs(Oe){return Object.assign({},Oe,{left:Oe.x,top:Oe.y,right:Oe.x+Oe.width,bottom:Oe.y+Oe.height})}function Ia(Oe,Re,Ve){return Re===L?Zs(function Zi(Oe,Re){var Ve=_e(Oe),rt=Ft(Oe),Je=Ve.visualViewport,Qt=rt.clientWidth,gn=rt.clientHeight,Vt=0,tn=0;if(Je){Qt=Je.width,gn=Je.height;var Un=It();(Un||!Un&&"fixed"===Re)&&(Vt=Je.offsetLeft,tn=Je.offsetTop)}return{width:Qt,height:gn,x:Vt+gi(Oe),y:tn}}(Oe,Ve)):Te(Re)?function Jc(Oe,Re){var Ve=mn(Oe,!1,"fixed"===Re);return Ve.top=Ve.top+Oe.clientTop,Ve.left=Ve.left+Oe.clientLeft,Ve.bottom=Ve.top+Oe.clientHeight,Ve.right=Ve.left+Oe.clientWidth,Ve.width=Oe.clientWidth,Ve.height=Oe.clientHeight,Ve.x=Ve.left,Ve.y=Ve.top,Ve}(Re,Ve):Zs(function mu(Oe){var Re,Ve=Ft(Oe),rt=go(Oe),Je=null==(Re=Oe.ownerDocument)?void 0:Re.body,Qt=Ct(Ve.scrollWidth,Ve.clientWidth,Je?Je.scrollWidth:0,Je?Je.clientWidth:0),gn=Ct(Ve.scrollHeight,Ve.clientHeight,Je?Je.scrollHeight:0,Je?Je.clientHeight:0),Vt=-rt.scrollLeft+gi(Oe),tn=-rt.scrollTop;return"rtl"===it(Je||Ve).direction&&(Vt+=Ct(Ve.clientWidth,Je?Je.clientWidth:0)-Qt),{width:Qt,height:gn,x:Vt,y:tn}}(Ft(Oe)))}function as(Oe){var tn,Re=Oe.reference,Ve=Oe.element,rt=Oe.placement,Je=rt?Ke(rt):null,Qt=rt?jr(rt):null,gn=Re.x+Re.width/2-Ve.width/2,Vt=Re.y+Re.height/2-Ve.height/2;switch(Je){case T:tn={x:gn,y:Re.y-Ve.height};break;case P:tn={x:gn,y:Re.y+Re.height};break;case O:tn={x:Re.x+Re.width,y:Vt};break;case I:tn={x:Re.x-Ve.width,y:Vt};break;default:tn={x:Re.x,y:Re.y}}var Un=Je?kr(Je):null;if(null!=Un){var Bt="y"===Un?"height":"width";switch(Qt){case R:tn[Un]=tn[Un]-(Re[Bt]/2-Ve[Bt]/2);break;case A:tn[Un]=tn[Un]+(Re[Bt]/2-Ve[Bt]/2)}}return tn}function Aa(Oe,Re){void 0===Re&&(Re={});var rt=Re.placement,Je=void 0===rt?Oe.placement:rt,Qt=Re.strategy,gn=void 0===Qt?Oe.strategy:Qt,Vt=Re.boundary,tn=void 0===Vt?V:Vt,Un=Re.rootBoundary,Bt=void 0===Un?L:Un,Or=Re.elementContext,er=void 0===Or?k:Or,or=Re.altBoundary,ii=void 0!==or&&or,An=Re.padding,on=void 0===An?0:An,Lr=Xr("number"!=typeof on?on:dn(on,S)),ui=Oe.rects.popper,gr=Oe.elements[ii?er===k?H:k:er],Qe=function ed(Oe,Re,Ve,rt){var Je="clippingParents"===Re?function qs(Oe){var Re=Vi(St(Oe)),rt=["absolute","fixed"].indexOf(it(Oe).position)>=0&&De(Oe)?Tr(Oe):Oe;return Te(rt)?Re.filter(function(Je){return Te(Je)&&lt(Je,rt)&&"body"!==me(Je)}):[]}(Oe):[].concat(Re),Qt=[].concat(Je,[Ve]),Vt=Qt.reduce(function(tn,Un){var Bt=Ia(Oe,Un,rt);return tn.top=Ct(Bt.top,tn.top),tn.right=Ze(Bt.right,tn.right),tn.bottom=Ze(Bt.bottom,tn.bottom),tn.left=Ct(Bt.left,tn.left),tn},Ia(Oe,Qt[0],rt));return Vt.width=Vt.right-Vt.left,Vt.height=Vt.bottom-Vt.top,Vt.x=Vt.left,Vt.y=Vt.top,Vt}(Te(gr)?gr:gr.contextElement||Ft(Oe.elements.popper),tn,Bt,gn),Fr=mn(Oe.elements.reference),vn=as({reference:Fr,element:ui,strategy:"absolute",placement:Je}),Gn=Zs(Object.assign({},ui,vn)),ci=er===k?Gn:Fr,Hi={top:Qe.top-ci.top+Lr.top,bottom:ci.bottom-Qe.bottom+Lr.bottom,left:Qe.left-ci.left+Lr.left,right:ci.right-Qe.right+Lr.right},mo=Oe.modifiersData.offset;if(er===k&&mo){var zi=mo[Je];Object.keys(Hi).forEach(function(Rr){var Qs=[O,P].indexOf(Rr)>=0?1:-1,di=[T,P].indexOf(Rr)>=0?"y":"x";Hi[Rr]+=zi[di]*Qs})}return Hi}const vu={name:"flip",enabled:!0,phase:"main",fn:function td(Oe){var Re=Oe.state,Ve=Oe.options,rt=Oe.name;if(!Re.modifiersData[rt]._skip){for(var Je=Ve.mainAxis,Qt=void 0===Je||Je,gn=Ve.altAxis,Vt=void 0===gn||gn,tn=Ve.fallbackPlacements,Un=Ve.padding,Bt=Ve.boundary,Or=Ve.rootBoundary,er=Ve.altBoundary,or=Ve.flipVariations,ii=void 0===or||or,An=Ve.allowedAutoPlacements,on=Re.options.placement,Lr=Ke(on),ui=tn||(Lr!==on&&ii?function ss(Oe){if(Ke(Oe)===C)return[];var Re=Ms(Oe);return[va(Oe),Re,va(Re)]}(on):[Ms(on)]),gr=[on].concat(ui).reduce(function(Na,Os){return Na.concat(Ke(Os)===C?function dh(Oe,Re){void 0===Re&&(Re={});var Je=Re.boundary,Qt=Re.rootBoundary,gn=Re.padding,Vt=Re.flipVariations,tn=Re.allowedAutoPlacements,Un=void 0===tn?Q:tn,Bt=jr(Re.placement),Or=Bt?Vt?$:$.filter(function(ii){return jr(ii)===Bt}):S,er=Or.filter(function(ii){return Un.indexOf(ii)>=0});0===er.length&&(er=Or);var or=er.reduce(function(ii,An){return ii[An]=Aa(Oe,{placement:An,boundary:Je,rootBoundary:Qt,padding:gn})[Ke(An)],ii},{});return Object.keys(or).sort(function(ii,An){return or[ii]-or[An]})}(Re,{placement:Os,boundary:Bt,rootBoundary:Or,padding:Un,flipVariations:ii,allowedAutoPlacements:An}):Os)},[]),Qe=Re.rects.reference,Fr=Re.rects.popper,vn=new Map,Gn=!0,ci=gr[0],Hi=0;Hi<gr.length;Hi++){var mo=gr[Hi],zi=Ke(mo),Rr=jr(mo)===R,Qs=[T,P].indexOf(zi)>=0,di=Qs?"width":"height",vo=Aa(Re,{placement:mo,boundary:Bt,rootBoundary:Or,altBoundary:er,padding:Un}),Ji=Qs?Rr?O:I:Rr?P:T;Qe[di]>Fr[di]&&(Ji=Ms(Ji));var Js=Ms(Ji),Mi=[];if(Qt&&Mi.push(vo[zi]<=0),Vt&&Mi.push(vo[Ji]<=0,vo[Js]<=0),Mi.every(function(Na){return Na})){ci=mo,Gn=!1;break}vn.set(mo,Mi)}if(Gn)for(var ic=function(Os){var io=gr.find(function(tr){var Ya=vn.get(tr);if(Ya)return Ya.slice(0,Os).every(function(hf){return hf})});if(io)return ci=io,"break"},Ul=ii?3:1;Ul>0&&"break"!==ic(Ul);Ul--);Re.placement!==ci&&(Re.modifiersData[rt]._skip=!0,Re.placement=ci,Re.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ec(Oe,Re,Ve){return void 0===Ve&&(Ve={x:0,y:0}),{top:Oe.top-Re.height-Ve.y,right:Oe.right-Re.width+Ve.x,bottom:Oe.bottom-Re.height+Ve.y,left:Oe.left-Re.width-Ve.x}}function No(Oe){return[T,O,P,I].some(function(Re){return Oe[Re]>=0})}const tc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function nd(Oe){var Re=Oe.state,Ve=Oe.name,rt=Re.rects.reference,Je=Re.rects.popper,Qt=Re.modifiersData.preventOverflow,gn=Aa(Re,{elementContext:"reference"}),Vt=Aa(Re,{altBoundary:!0}),tn=ec(gn,rt),Un=ec(Vt,Je,Qt),Bt=No(tn),Or=No(Un);Re.modifiersData[Ve]={referenceClippingOffsets:tn,popperEscapeOffsets:Un,isReferenceHidden:Bt,hasPopperEscaped:Or},Re.attributes.popper=Object.assign({},Re.attributes.popper,{"data-popper-reference-hidden":Bt,"data-popper-escaped":Or})}},rc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Is(Oe){var Re=Oe.state,rt=Oe.name,Je=Oe.options.offset,Qt=void 0===Je?[0,0]:Je,gn=Q.reduce(function(Bt,Or){return Bt[Or]=function nc(Oe,Re,Ve){var rt=Ke(Oe),Je=[I,T].indexOf(rt)>=0?-1:1,Qt="function"==typeof Ve?Ve(Object.assign({},Re,{placement:Oe})):Ve,gn=Qt[0],Vt=Qt[1];return gn=gn||0,Vt=(Vt||0)*Je,[I,O].indexOf(rt)>=0?{x:Vt,y:gn}:{x:gn,y:Vt}}(Or,Re.rects,Qt),Bt},{}),Vt=gn[Re.placement],Un=Vt.y;null!=Re.modifiersData.popperOffsets&&(Re.modifiersData.popperOffsets.x+=Vt.x,Re.modifiersData.popperOffsets.y+=Un),Re.modifiersData[rt]=gn}},ri={name:"popperOffsets",enabled:!0,phase:"read",fn:function rd(Oe){var Re=Oe.state;Re.modifiersData[Oe.name]=as({reference:Re.rects.reference,element:Re.rects.popper,strategy:"absolute",placement:Re.placement})},data:{}},qi={name:"preventOverflow",enabled:!0,phase:"main",fn:function Mr(Oe){var Re=Oe.state,Ve=Oe.options,rt=Oe.name,Je=Ve.mainAxis,Qt=void 0===Je||Je,gn=Ve.altAxis,Vt=void 0!==gn&&gn,er=Ve.tether,or=void 0===er||er,ii=Ve.tetherOffset,An=void 0===ii?0:ii,on=Aa(Re,{boundary:Ve.boundary,rootBoundary:Ve.rootBoundary,padding:Ve.padding,altBoundary:Ve.altBoundary}),Lr=Ke(Re.placement),mi=jr(Re.placement),ui=!mi,gr=kr(Lr),Qe=function Oa(Oe){return"x"===Oe?"y":"x"}(gr),Fr=Re.modifiersData.popperOffsets,vn=Re.rects.reference,Gn=Re.rects.popper,ci="function"==typeof An?An(Object.assign({},Re.rects,{placement:Re.placement})):An,Hi="number"==typeof ci?{mainAxis:ci,altAxis:ci}:Object.assign({mainAxis:0,altAxis:0},ci),mo=Re.modifiersData.offset?Re.modifiersData.offset[Re.placement]:null,zi={x:0,y:0};if(Fr){if(Qt){var Rr,Qs="y"===gr?T:I,di="y"===gr?P:O,vo="y"===gr?"height":"width",Ji=Fr[gr],Js=Ji+on[Qs],Mi=Ji-on[di],zl=or?-Gn[vo]/2:0,ic=mi===R?vn[vo]:Gn[vo],Ul=mi===R?-Gn[vo]:-vn[vo],oc=Re.elements.arrow,Na=or&&oc?cn(oc):{width:0,height:0},Os=Re.modifiersData["arrow#persistent"]?Re.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},io=Os[Qs],tr=Os[di],Ya=Cr(0,vn[vo],Na[vo]),hf=ui?vn[vo]/2-zl-Ya-io-Hi.mainAxis:ic-Ya-io-Hi.mainAxis,ad=ui?-vn[vo]/2+zl+Ya+tr+Hi.mainAxis:Ul+Ya+tr+Hi.mainAxis,an=Re.elements.arrow&&Tr(Re.elements.arrow),hl=an?"y"===gr?an.clientTop||0:an.clientLeft||0:0,Qr=null!=(Rr=mo?.[gr])?Rr:0,ac=Ji+ad-Qr,yu=Cr(or?Ze(Js,Ji+hf-Qr-hl):Js,Ji,or?Ct(Mi,ac):Mi);Fr[gr]=yu,zi[gr]=yu-Ji}if(Vt){var pl,Ns=Fr[Qe],Gl="y"===Qe?"height":"width",sc=Ns+on["x"===gr?T:I],Fn=Ns-on["x"===gr?P:O],Xa=-1!==[T,I].indexOf(Lr),gl=null!=(pl=mo?.[Qe])?pl:0,yo=Xa?sc:Ns-vn[Gl]-Gn[Gl]-gl+Hi.altAxis,ls=Xa?Ns+vn[Gl]+Gn[Gl]-gl-Hi.altAxis:Fn,jl=or&&Xa?function _n(Oe,Re,Ve){var rt=Cr(Oe,Re,Ve);return rt>Ve?Ve:rt}(yo,Ns,ls):Cr(or?yo:sc,Ns,or?ls:Fn);Fr[Qe]=jl,zi[Qe]=jl-Ns}Re.modifiersData[rt]=zi}},requiresIfExists:["offset"]};function Pi(Oe,Re,Ve){void 0===Ve&&(Ve=!1);var rt=De(Re),Je=De(Re)&&function ff(Oe){var Re=Oe.getBoundingClientRect(),Ve=qt(Re.width)/Oe.offsetWidth||1,rt=qt(Re.height)/Oe.offsetHeight||1;return 1!==Ve||1!==rt}(Re),Qt=Ft(Re),gn=mn(Oe,Je,Ve),Vt={scrollLeft:0,scrollTop:0},tn={x:0,y:0};return(rt||!rt&&!Ve)&&(("body"!==me(Re)||Ti(Qt))&&(Vt=function oa(Oe){return Oe!==_e(Oe)&&De(Oe)?function ki(Oe){return{scrollLeft:Oe.scrollLeft,scrollTop:Oe.scrollTop}}(Oe):go(Oe)}(Re)),De(Re)?((tn=mn(Re,!0)).x+=Re.clientLeft,tn.y+=Re.clientTop):Qt&&(tn.x=gi(Qt))),{x:gn.left+Vt.scrollLeft-tn.x,y:gn.top+Vt.scrollTop-tn.y,width:gn.width,height:gn.height}}function En(Oe){var Re=new Map,Ve=new Set,rt=[];function Je(Qt){Ve.add(Qt.name),[].concat(Qt.requires||[],Qt.requiresIfExists||[]).forEach(function(Vt){if(!Ve.has(Vt)){var tn=Re.get(Vt);tn&&Je(tn)}}),rt.push(Qt)}return Oe.forEach(function(Qt){Re.set(Qt.name,Qt)}),Oe.forEach(function(Qt){Ve.has(Qt.name)||Je(Qt)}),rt}function $a(Oe){var Re;return function(){return Re||(Re=new Promise(function(Ve){Promise.resolve().then(function(){Re=void 0,Ve(Oe())})})),Re}}var Pr={placement:"bottom",modifiers:[],strategy:"absolute"};function Qi(){for(var Oe=arguments.length,Re=new Array(Oe),Ve=0;Ve<Oe;Ve++)Re[Ve]=arguments[Ve];return!Re.some(function(rt){return!(rt&&"function"==typeof rt.getBoundingClientRect)})}function ko(Oe){void 0===Oe&&(Oe={});var Ve=Oe.defaultModifiers,rt=void 0===Ve?[]:Ve,Je=Oe.defaultOptions,Qt=void 0===Je?Pr:Je;return function(Vt,tn,Un){void 0===Un&&(Un=Qt);var Bt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Pr,Qt),modifiersData:{},elements:{reference:Vt,popper:tn},attributes:{},styles:{}},Or=[],er=!1,or={state:Bt,setOptions:function(Lr){var mi="function"==typeof Lr?Lr(Bt.options):Lr;An(),Bt.options=Object.assign({},Qt,Bt.options,mi),Bt.scrollParents={reference:Te(Vt)?Vi(Vt):Vt.contextElement?Vi(Vt.contextElement):[],popper:Vi(tn)};var ui=function li(Oe){var Re=En(Oe);return ie.reduce(function(Ve,rt){return Ve.concat(Re.filter(function(Je){return Je.phase===rt}))},[])}(function Ro(Oe){var Re=Oe.reduce(function(Ve,rt){var Je=Ve[rt.name];return Ve[rt.name]=Je?Object.assign({},Je,rt,{options:Object.assign({},Je.options,rt.options),data:Object.assign({},Je.data,rt.data)}):rt,Ve},{});return Object.keys(Re).map(function(Ve){return Re[Ve]})}([].concat(rt,Bt.options.modifiers)));return Bt.orderedModifiers=ui.filter(function(gr){return gr.enabled}),function ii(){Bt.orderedModifiers.forEach(function(on){var mi=on.options,gr=on.effect;if("function"==typeof gr){var Qe=gr({state:Bt,name:on.name,instance:or,options:void 0===mi?{}:mi});Or.push(Qe||function(){})}})}(),or.update()},forceUpdate:function(){if(!er){var Lr=Bt.elements,mi=Lr.reference,ui=Lr.popper;if(Qi(mi,ui)){Bt.rects={reference:Pi(mi,Tr(ui),"fixed"===Bt.options.strategy),popper:cn(ui)},Bt.reset=!1,Bt.placement=Bt.options.placement,Bt.orderedModifiers.forEach(function(Hi){return Bt.modifiersData[Hi.name]=Object.assign({},Hi.data)});for(var gr=0;gr<Bt.orderedModifiers.length;gr++)if(!0!==Bt.reset){var Qe=Bt.orderedModifiers[gr],Fr=Qe.fn,vn=Qe.options;"function"==typeof Fr&&(Bt=Fr({state:Bt,options:void 0===vn?{}:vn,name:Qe.name,instance:or})||Bt)}else Bt.reset=!1,gr=-1}}},update:$a(function(){return new Promise(function(on){or.forceUpdate(),on(Bt)})}),destroy:function(){An(),er=!0}};if(!Qi(Vt,tn))return or;function An(){Or.forEach(function(on){return on()}),Or=[]}return or.setOptions(Un).then(function(on){!er&&Un.onFirstUpdate&&Un.onFirstUpdate(on)}),or}}var id=ko(),Yn=ko({defaultModifiers:[fl,ri,Hl,ht,rc,vu,qi,Bi,tc]}),As=ko({defaultModifiers:[fl,ri,Hl,ht]})},5886:function(Y,se,D){var T;Y.exports=(T=D(4465),function(P){var O={};function I(C){if(O[C])return O[C].exports;var S=O[C]={i:C,l:!1,exports:{}};return P[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=P,I.c=O,I.i=function(C){return C},I.d=function(C,S,R){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:R})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=6)}([function(P,O){P.exports=T},function(P,O,I){"use strict";var C=I(0).LGraph;function S(A,V,L){C.call(this,A,V,L),this.inOrder=void 0,this.currentIndex=0,this.nodeSeparation=void 0,this.stack=[],this.perimeter=0,this.centerX=0,this.centerY=0,this.radius=0}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];S.prototype.initOrdering=function(){this.inOrder=[]},S.prototype.getOrder=function(){return this.inOrder},S.prototype.getCenterX=function(){return this.centerX},S.prototype.getCenterY=function(){return this.centerY},S.prototype.getRadius=function(){return this.radius},S.prototype.getSize=function(){return this.getNodes().length},S.prototype.getTotalCrossingOfCircle=function(){var V=0;for(var L in this.inOrder){var k=L.getTotalCrossingOfEdges();if(-1===k)return-1;V+=k}return V/4},S.prototype.hasFinishedOrdering=function(){return this.currentIndex===this.getNodes().length},S.prototype.getNodeSeparation=function(){return this.nodeSeparation},S.prototype.setNodeSeparation=function(A){this.nodeSeparation=A},S.prototype.correctAngles=function(){var A=this;A.currentIndex=0,A.inOrder.forEach(function(V){return A.putInOrder(V)})},S.prototype.putInOrder=function(A){for(var V=this,L=V.getNodes(),k=!1,H=0;H<L.length;H++)if(L[H].id==A.id){k=!0;break}if(!k)throw"The node must be a member of LGraph";V.inOrder[V.currentIndex]=A,A.setIndex(V.currentIndex),A.setAngle(0===V.currentIndex?0:V.inOrder[V.currentIndex-1].getAngle()+2*Math.PI*(A.getDiagonal()/2+V.nodeSeparation+V.inOrder[V.currentIndex-1].getDiagonal()/2)/V.perimeter),V.currentIndex++},S.prototype.findNodeToPlace=function(){var A=this,V=void 0;if(0===A.stack.length)V=A.findUnorderedSmallestDegreeNode();else{for(var L=!1;!L&&0!==A.stack.length;)L=!(V=A.stack.pop()).isOrdered();L||(V=void 0)}if(void 0===V&&(V=A.findUnorderedSmallestDegreeNode()),void 0!==V)for(var k=V.getNeighborsSortedByDegree(),H=k.length-1;H>=0;H--){var $=k[H];$.isOrdered()||A.stack.push($)}return V},S.prototype.calculateRadius=function(){var A=this,V=0;A.getNodes().forEach(function(k){return V+=Math.sqrt(k.getWidth()*k.getWidth()+k.getHeight()*k.getHeight())}),A.perimeter=V+A.getNodes().length*A.nodeSeparation;var L=A.perimeter/(2*Math.PI);A.getParent().setWidth(2*L),A.getParent().setHeight(2*L),A.getParent().setCenter(A.getParent().getWidth(),A.getParent().getHeight()),A.centerX=A.getParent().getCenterX(),A.centerY=A.getParent().getCenterY(),A.radius=A.getParent().getHeight()/2},S.prototype.calculateEdgeCrossingsOfNodes=function(){this.getNodes().forEach(function(A){return A.calculateTotalCrossing()})},S.prototype.loadOldIndicesOfNodes=function(){for(var V=0;V<this.inOrder.length;V++)this.inOrder[V].setIndex(V)},S.prototype.reOrderVertices=function(){var A=this;this.getNodes().forEach(function(V){return A.inOrder[V.getIndex()]=V})},S.prototype.findUnorderedSmallestDegreeNode=function(){var A=Number.MAX_SAFE_INTEGER,V=void 0;return this.getNodes().forEach(function(L){L.getDegree()<A&&!L.isOrdered()&&(A=L.getDegree(),V=L)}),V},P.exports=S},function(P,O,I){"use strict";var C=I(0).LayoutConstants;function S(){}for(var R in C)S[R]=C[R];S.DEFAULT_NODE_SEPARATION=60,P.exports=S},function(P,O,I){"use strict";var C=I(0).LEdge;function S(A,V,L){C.call(this,A,V,L)}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];S.prototype.getOtherEnd=function(A){return C.prototype.getOtherEnd(A)},S.prototype.crossesWithEdge=function(A){var V=this,L=V.getSource().getIndex(),k=V.getTarget().getIndex(),H=A.getSource().getIndex(),$=A.getTarget().getIndex();if(-1===L||-1===k||-1===H||-1===$)return!1;var Q=A.getSource().getCircDistWithTheNode(V.getSource()),ue=A.getTarget().getCircDistWithTheNode(V.getSource()),ne=V.getTarget().getCircDistWithTheNode(V.getSource());return ne<Math.max(Q,ue)&&ne>Math.min(Q,ue)&&0!==ue&&0!==Q},S.prototype.crossingWithEdge=function(A){return this.crossesWithEdge(A)?1:0},S.prototype.calculateTotalCrossingWithList=function(A){var V=this,L=0;return A.forEach(function(k){return L+=V.crossingWithEdge(k)}),L},P.exports=S},function(P,O,I){"use strict";var C=I(0).LNode;function R(V,L,k,H){void 0!==k&&void 0!==H?C.call(this,V,L,k,H):C.call(this,V,L),this.angle=0,this.circleIndex=-1,this.totalCrossingOfEdges=-1,this.isCrossingNumberValid=!1}for(var A in I(0),R.prototype=Object.create(C.prototype),C)R[A]=C[A];R.prototype.getCircle=function(){return this.getOwner()},R.prototype.setIndex=function(V){this.circleIndex=V,this.isCrossingNumberValid=!1},R.prototype.getIndex=function(){return this.circleIndex},R.prototype.getNeighborsSortedByDegree=function(){var L=Array.from(this.getNeighborsList());return(L=L.filter(function(k){return-1===k.getIndex()})).sort(function(k,H){return k.getDegree()-H.getDegree()}),L},R.prototype.getDegree=function(){return this.getEdges().length},R.prototype.isOrdered=function(){return this.getIndex()>-1},R.prototype.setAngle=function(V){this.angle=V},R.prototype.getAngle=function(){return this.angle},R.prototype.getCircDistWithTheNode=function(V){var L=this,k=V.getIndex();if(-1===k||-1===L.getIndex())return-1;var H=L.getIndex()-k;return H<0&&(H+=L.getCircle().getSize()),H},R.prototype.getCrossingNumberWithNode=function(V){var k=0;return this.getEdges().forEach(function(H){V.getEdges().forEach(function($){k+=H.crossingWithEdge($)})}),k},R.prototype.getTotalCrossingOfEdges=function(){var V=this;return V.isCrossingNumberValid||(V.calculateTotalCrossing(),V.isCrossingNumberValid=!0),V.totalCrossingOfEdges},R.prototype.calculateTotalCrossing=function(){var V=this,L=0,k=[];k.push.apply(k,V.getCircle().getEdges()),k=k.filter(function(H){return V.getEdges().indexOf(H)<0}),V.getEdges().forEach(function(H){return L+=H.calculateTotalCrossingWithList(k)}),V.totalCrossingOfEdges=L},P.exports=R},function(P,O,I){"use strict";var C=I(0).Layout,S=I(2),R=I(1),A=I(4),V=I(3);function L(){C.call(this),this.nodeSeparation=S.DEFAULT_NODE_SEPARATION}for(var k in L.prototype=Object.create(C.prototype),C)L[k]=C[k];L.prototype.newGraph=function(H){return this.avsdfCircle=new R(null,this.graphManager,H),this.avsdfCircle},L.prototype.newNode=function(H){return new A(this.graphManager,H)},L.prototype.newEdge=function(H){return new V(null,null,H)},L.prototype.getPositionsData=function(){for(var H=this.graphManager.getAllNodes(),$={},Q=0;Q<H.length;Q++){var ue=H[Q].rect,ne=H[Q].id;$[ne]={id:ne,x:ue.getCenterX(),y:ue.getCenterY(),w:ue.width,h:ue.height}}return $},L.prototype.layout=function(){if(this.graphManager.getGraphs().length>1)return!1;var $=this.avsdfCircle;for($.setNodeSeparation(this.nodeSeparation),$.calculateRadius(),$.initOrdering();!$.hasFinishedOrdering();){var Q=$.findNodeToPlace();$.putInOrder(Q)}return!0},L.prototype.updateNodeAngles=function(){this.graphManager.getRoot().correctAngles()},L.prototype.updateNodeCoordinates=function(){var H=this.graphManager.getRoot();H.getNodes().forEach(function($){$.setCenter(H.getCenterX()+H.getRadius()*Math.cos($.getAngle()),H.getCenterY()+H.getRadius()*Math.sin($.getAngle()))})},L.prototype.initPostProcess=function(){this.avsdfCircle.calculateEdgeCrossingsOfNodes();var H=this.avsdfCircle.getNodes();return H.sort(function($,Q){return Q.getTotalCrossingOfEdges()-$.getTotalCrossingOfEdges()}),H},L.prototype.oneStepPostProcess=function(H){for(var $=this,Q=H.getTotalCrossingOfEdges(),ue=void 0,ne=Array.from(H.getNeighborsList()),le=0;le<ne.length;le++){var ae=ne[le],de=H.getIndex(),te=(ae.getIndex()+1)%$.avsdfCircle.getSize();if(de!==te){H.setIndex(te),de<H.getIndex()&&(de+=$.avsdfCircle.getSize());for(var pe=H.getIndex();pe<de;){var Z=$.avsdfCircle.getOrder()[pe%$.avsdfCircle.getSize()];Z.setIndex((Z.getIndex()+1)%$.avsdfCircle.getSize()),pe+=1}H.calculateTotalCrossing(),(ue=H.getTotalCrossingOfEdges())>=Q?$.avsdfCircle.loadOldIndicesOfNodes():($.avsdfCircle.reOrderVertices(),Q=ue)}}},P.exports=L},function(P,O,I){"use strict";var C={};C.layoutBase=I(0),C.AVSDFConstants=I(2),C.AVSDFEdge=I(3),C.AVSDFCircle=I(1),C.AVSDFLayout=I(5),C.AVSDFNode=I(4),P.exports=C}]))},3163:(Y,se,D)=>{!function(T){var P=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),O=T.Pos,I={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function C(k){return k&&k.bracketRegex||/[(){}[\]]/}function S(k,H,$){var Q=k.getLineHandle(H.line),ue=H.ch-1,ne=$&&$.afterCursor;null==ne&&(ne=/(^| )cm-fat-cursor($| )/.test(k.getWrapperElement().className));var le=C($),ae=!ne&&ue>=0&&le.test(Q.text.charAt(ue))&&I[Q.text.charAt(ue)]||le.test(Q.text.charAt(ue+1))&&I[Q.text.charAt(++ue)];if(!ae)return null;var de=">"==ae.charAt(1)?1:-1;if($&&$.strict&&de>0!=(ue==H.ch))return null;var te=k.getTokenTypeAt(O(H.line,ue+1)),pe=R(k,O(H.line,ue+(de>0?1:0)),de,te,$);return null==pe?null:{from:O(H.line,ue),to:pe&&pe.pos,match:pe&&pe.ch==ae.charAt(0),forward:de>0}}function R(k,H,$,Q,ue){for(var ne=ue&&ue.maxScanLineLength||1e4,le=ue&&ue.maxScanLines||1e3,ae=[],de=C(ue),te=$>0?Math.min(H.line+le,k.lastLine()+1):Math.max(k.firstLine()-1,H.line-le),pe=H.line;pe!=te;pe+=$){var Z=k.getLine(pe);if(Z){var oe=$>0?0:Z.length-1,ie=$>0?Z.length:-1;if(!(Z.length>ne))for(pe==H.line&&(oe=H.ch-($<0?1:0));oe!=ie;oe+=$){var me=Z.charAt(oe);if(de.test(me)&&(void 0===Q||(k.getTokenTypeAt(O(pe,oe+1))||"")==(Q||""))){var _e=I[me];if(_e&&">"==_e.charAt(1)==$>0)ae.push(me);else{if(!ae.length)return{pos:O(pe,oe),ch:me};ae.pop()}}}}}return pe-$!=($>0?k.lastLine():k.firstLine())&&null}function A(k,H,$){for(var Q=k.state.matchBrackets.maxHighlightLineLength||1e3,ue=$&&$.highlightNonMatching,ne=[],le=k.listSelections(),ae=0;ae<le.length;ae++){var de=le[ae].empty()&&S(k,le[ae].head,$);if(de&&(de.match||!1!==ue)&&k.getLine(de.from.line).length<=Q){var te=de.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";ne.push(k.markText(de.from,O(de.from.line,de.from.ch+1),{className:te})),de.to&&k.getLine(de.to.line).length<=Q&&ne.push(k.markText(de.to,O(de.to.line,de.to.ch+1),{className:te}))}}if(ne.length){P&&k.state.focused&&k.focus();var pe=function(){k.operation(function(){for(var Z=0;Z<ne.length;Z++)ne[Z].clear()})};if(!H)return pe;setTimeout(pe,800)}}function V(k){k.operation(function(){k.state.matchBrackets.currentlyHighlighted&&(k.state.matchBrackets.currentlyHighlighted(),k.state.matchBrackets.currentlyHighlighted=null),k.state.matchBrackets.currentlyHighlighted=A(k,!1,k.state.matchBrackets)})}function L(k){k.state.matchBrackets&&k.state.matchBrackets.currentlyHighlighted&&(k.state.matchBrackets.currentlyHighlighted(),k.state.matchBrackets.currentlyHighlighted=null)}T.defineOption("matchBrackets",!1,function(k,H,$){$&&$!=T.Init&&(k.off("cursorActivity",V),k.off("focus",V),k.off("blur",L),L(k)),H&&(k.state.matchBrackets="object"==typeof H?H:{},k.on("cursorActivity",V),k.on("focus",V),k.on("blur",L))}),T.defineExtension("matchBrackets",function(){A(this,!0)}),T.defineExtension("findMatchingBracket",function(k,H,$){return($||"boolean"==typeof H)&&($?($.strict=H,H=$):H=H?{strict:!0}:null),S(this,k,H)}),T.defineExtension("scanForBracket",function(k,H,$,Q){return R(this,k,H,$,Q)})}(D(656))},656:function(Y){Y.exports=function(){"use strict";var se=navigator.userAgent,D=navigator.platform,T=/gecko\/\d/i.test(se),P=/MSIE \d/.test(se),O=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(se),I=/Edge\/(\d+)/.exec(se),C=P||O||I,S=C&&(P?document.documentMode||6:+(I||O)[1]),R=!I&&/WebKit\//.test(se),A=R&&/Qt\/\d+\.\d+/.test(se),V=!I&&/Chrome\/(\d+)/.exec(se),L=V&&+V[1],k=/Opera\//.test(se),H=/Apple Computer/.test(navigator.vendor),$=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(se),Q=/PhantomJS/.test(se),ue=H&&(/Mobile\/\w+/.test(se)||navigator.maxTouchPoints>2),ne=/Android/.test(se),le=ue||ne||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(se),ae=ue||/Mac/.test(D),de=/\bCrOS\b/.test(se),te=/win/i.test(D),pe=k&&se.match(/Version\/(\d*\.\d*)/);pe&&(pe=Number(pe[1])),pe&&pe>=15&&(k=!1,R=!0);var Z=ae&&(A||k&&(null==pe||pe<12.11)),oe=T||C&&S>=9;function ie(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var Be,me=function(a,d){var y=a.className,v=ie(d).exec(y);if(v){var b=y.slice(v.index+v[0].length);a.className=y.slice(0,v.index)+(b?v[1]+b:"")}};function _e(a){for(var d=a.childNodes.length;d>0;--d)a.removeChild(a.firstChild);return a}function Te(a,d){return _e(a).appendChild(d)}function De(a,d,y,v){var b=document.createElement(a);if(y&&(b.className=y),v&&(b.style.cssText=v),"string"==typeof d)b.appendChild(document.createTextNode(d));else if(d)for(var B=0;B<d.length;++B)b.appendChild(d[B]);return b}function ze(a,d,y,v){var b=De(a,d,y,v);return b.setAttribute("role","presentation"),b}function at(a,d){if(3==d.nodeType&&(d=d.parentNode),a.contains)return a.contains(d);do{if(11==d.nodeType&&(d=d.host),d==a)return!0}while(d=d.parentNode)}function ht(a){var d;try{d=a.activeElement}catch{d=a.body||null}for(;d&&d.shadowRoot&&d.shadowRoot.activeElement;)d=d.shadowRoot.activeElement;return d}function Ke(a,d){var y=a.className;ie(d).test(y)||(a.className+=(y?" ":"")+d)}function Ct(a,d){for(var y=a.split(" "),v=0;v<y.length;v++)y[v]&&!ie(y[v]).test(d)&&(d+=" "+y[v]);return d}Be=document.createRange?function(a,d,y,v){var b=document.createRange();return b.setEnd(v||a,y),b.setStart(a,d),b}:function(a,d,y){var v=document.body.createTextRange();try{v.moveToElementText(a.parentNode)}catch{return v}return v.collapse(!0),v.moveEnd("character",y),v.moveStart("character",d),v};var Ze=function(a){a.select()};function qt(a){return a.display.wrapper.ownerDocument}function Ht(a){return qt(a).defaultView}function It(a){var d=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,d)}}function mn(a,d,y){for(var v in d||(d={}),a)a.hasOwnProperty(v)&&(!1!==y||!d.hasOwnProperty(v))&&(d[v]=a[v]);return d}function cn(a,d,y,v,b){null==d&&-1==(d=a.search(/[^\s\u00a0]/))&&(d=a.length);for(var B=v||0,G=b||0;;){var X=a.indexOf("\t",B);if(X<0||X>=d)return G+(d-B);G+=X-B,G+=y-G%y,B=X+1}}ue?Ze=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:C&&(Ze=function(a){try{a.select()}catch{}});var lt=function(){this.id=null,this.f=null,this.time=0,this.handler=It(this.onTimeout,this)};function it(a,d){for(var y=0;y<a.length;++y)if(a[y]==d)return y;return-1}lt.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},lt.prototype.set=function(a,d){this.f=d;var y=+new Date+a;(!this.id||y<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=y)};var pt=50,Ft={toString:function(){return"CodeMirror.Pass"}},St={scroll:!1},Kn={origin:"*mouse"},Jn={origin:"+move"};function Tr(a,d,y){for(var v=0,b=0;;){var B=a.indexOf("\t",v);-1==B&&(B=a.length);var G=B-v;if(B==a.length||b+G>=d)return v+Math.min(G,d-b);if(b+=B-v,v=B+1,(b+=y-b%y)>=d)return v}}var kr=[""];function Cr(a){for(;kr.length<=a;)kr.push(_n(kr)+" ");return kr[a]}function _n(a){return a[a.length-1]}function zn(a,d){for(var y=[],v=0;v<a.length;v++)y[v]=d(a[v],v);return y}function dn(){}function Ri(a,d){var y;return Object.create?y=Object.create(a):(dn.prototype=a,y=new dn),d&&mn(d,y),y}var ro=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Fi(a){return/\w/.test(a)||a>"\x80"&&(a.toUpperCase()!=a.toLowerCase()||ro.test(a))}function Bi(a,d){return d?!!(d.source.indexOf("\\w")>-1&&Fi(a))||d.test(a):Fi(a)}function jr(a){for(var d in a)if(a.hasOwnProperty(d)&&a[d])return!1;return!0}var Ki=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ja(a){return a.charCodeAt(0)>=768&&Ki.test(a)}function Ts(a,d,y){for(;(y<0?d>0:d<a.length)&&ja(a.charAt(d));)d+=y;return d}function Nn(a,d,y){for(var v=d>y?-1:1;;){if(d==y)return d;var b=(d+y)/2,B=v<0?Math.ceil(b):Math.floor(b);if(B==d)return a(B)?d:y;a(B)?y=B:d=B+v}}var Yo=null;function Xo(a,d,y){var v;Yo=null;for(var b=0;b<a.length;++b){var B=a[b];if(B.from<d&&B.to>d)return b;B.to==d&&(B.from!=B.to&&"before"==y?v=b:Yo=b),B.from==d&&(B.from!=B.to&&"before"!=y?v=b:Yo=b)}return v??Yo}var fl=function(){function y(ce){return ce<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(ce):1424<=ce&&ce<=1524?"R":1536<=ce&&ce<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(ce-1536):1774<=ce&&ce<=2220?"r":8192<=ce&&ce<=8203?"w":8204==ce?"b":"L"}var v=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,b=/[stwN]/,B=/[LRr]/,G=/[Lb1n]/,X=/[1n]/;function ee(ce,Ee,Le){this.level=ce,this.from=Ee,this.to=Le}return function(ce,Ee){var Le="ltr"==Ee?"L":"R";if(0==ce.length||"ltr"==Ee&&!v.test(ce))return!1;for(var Xe=ce.length,je=[],gt=0;gt<Xe;++gt)je.push(y(ce.charCodeAt(gt)));for(var wt=0,Ut=Le;wt<Xe;++wt){var Wt=je[wt];"m"==Wt?je[wt]=Ut:Ut=Wt}for(var Jt=0,Kt=Le;Jt<Xe;++Jt){var Yt=je[Jt];"1"==Yt&&"r"==Kt?je[Jt]="n":B.test(Yt)&&(Kt=Yt,"r"==Yt&&(je[Jt]="R"))}for(var kn=1,Dn=je[0];kn<Xe-1;++kn){var nr=je[kn];"+"==nr&&"1"==Dn&&"1"==je[kn+1]?je[kn]="1":","==nr&&Dn==je[kn+1]&&("1"==Dn||"n"==Dn)&&(je[kn]=Dn),Dn=nr}for(var dr=0;dr<Xe;++dr){var Ai=je[dr];if(","==Ai)je[dr]="N";else if("%"==Ai){var xi=void 0;for(xi=dr+1;xi<Xe&&"%"==je[xi];++xi);for(var jo=dr&&"!"==je[dr-1]||xi<Xe&&"1"==je[xi]?"1":"N",$i=dr;$i<xi;++$i)je[$i]=jo;dr=xi-1}}for(var Oi=0,fa=Le;Oi<Xe;++Oi){var Wo=je[Oi];"L"==fa&&"1"==Wo?je[Oi]="L":B.test(Wo)&&(fa=Wo)}for(var To=0;To<Xe;++To)if(b.test(je[To])){var zr=void 0;for(zr=To+1;zr<Xe&&b.test(je[zr]);++zr);for(var Ei="L"==(To?je[To-1]:Le),Wd=Ei==("L"==(zr<Xe?je[zr]:Le))?Ei?"L":"R":Le,Sl=To;Sl<zr;++Sl)je[Sl]=Wd;To=zr-1}for(var al,Qo=[],Mo=0;Mo<Xe;)if(G.test(je[Mo])){var Bh=Mo;for(++Mo;Mo<Xe&&G.test(je[Mo]);++Mo);Qo.push(new ee(0,Bh,Mo))}else{var Tl=Mo,Fu=Qo.length,Ml="rtl"==Ee?1:0;for(++Mo;Mo<Xe&&"L"!=je[Mo];++Mo);for(var Ni=Tl;Ni<Mo;)if(X.test(je[Ni])){Tl<Ni&&(Qo.splice(Fu,0,new ee(1,Tl,Ni)),Fu+=Ml);var Oc=Ni;for(++Ni;Ni<Mo&&X.test(je[Ni]);++Ni);Qo.splice(Fu,0,new ee(2,Oc,Ni)),Fu+=Ml,Tl=Ni}else++Ni;Tl<Mo&&Qo.splice(Fu,0,new ee(1,Tl,Mo))}return"ltr"==Ee&&(1==Qo[0].level&&(al=ce.match(/^\s+/))&&(Qo[0].from=al[0].length,Qo.unshift(new ee(0,0,al[0].length))),1==_n(Qo).level&&(al=ce.match(/\s+$/))&&(_n(Qo).to-=al[0].length,Qo.push(new ee(0,Xe-al[0].length,Xe)))),"rtl"==Ee?Qo.reverse():Qo}}();function Wa(a,d){var y=a.order;return null==y&&(y=a.order=fl(a.text,d)),y}var Ms=[],xn=function(a,d,y){if(a.addEventListener)a.addEventListener(d,y,!1);else if(a.attachEvent)a.attachEvent("on"+d,y);else{var v=a._handlers||(a._handlers={});v[d]=(v[d]||Ms).concat(y)}};function va(a,d){return a._handlers&&a._handlers[d]||Ms}function go(a,d,y){if(a.removeEventListener)a.removeEventListener(d,y,!1);else if(a.detachEvent)a.detachEvent("on"+d,y);else{var v=a._handlers,b=v&&v[d];if(b){var B=it(b,y);B>-1&&(v[d]=b.slice(0,B).concat(b.slice(B+1)))}}}function gi(a,d){var y=va(a,d);if(y.length)for(var v=Array.prototype.slice.call(arguments,2),b=0;b<y.length;++b)y[b].apply(null,v)}function Zi(a,d,y){return"string"==typeof d&&(d={type:d,preventDefault:function(){this.defaultPrevented=!0}}),gi(a,y||d.type,a,d),Jc(d)||d.codemirrorIgnore}function mu(a){var d=a._handlers&&a._handlers.cursorActivity;if(d)for(var y=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),v=0;v<d.length;++v)-1==it(y,d[v])&&y.push(d[v])}function Ti(a,d){return va(a,d).length>0}function Ma(a){a.prototype.on=function(d,y){xn(this,d,y)},a.prototype.off=function(d,y){go(this,d,y)}}function Vi(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Zs(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Jc(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function Ia(a){Vi(a),Zs(a)}function qs(a){return a.target||a.srcElement}function ed(a){var d=a.which;return null==d&&(1&a.button?d=1:2&a.button?d=3:4&a.button&&(d=2)),ae&&a.ctrlKey&&1==d&&(d=3),d}var Aa,ss,as=function(){if(C&&S<9)return!1;var a=De("div");return"draggable"in a||"dragDrop"in a}();function dh(a){if(null==Aa){var d=De("span","\u200b");Te(a,De("span",[d,document.createTextNode("x")])),0!=a.firstChild.offsetHeight&&(Aa=d.offsetWidth<=1&&d.offsetHeight>2&&!(C&&S<8))}var y=Aa?De("span","\u200b"):De("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return y.setAttribute("cm-text",""),y}function td(a){if(null!=ss)return ss;var d=Te(a,document.createTextNode("A\u062eA")),y=Be(d,0,1).getBoundingClientRect(),v=Be(d,1,2).getBoundingClientRect();return _e(a),!(!y||y.left==y.right)&&(ss=v.right-y.right<3)}var a,vu=3!="\n\nb".split(/\n/).length?function(a){for(var d=0,y=[],v=a.length;d<=v;){var b=a.indexOf("\n",d);-1==b&&(b=a.length);var B=a.slice(d,"\r"==a.charAt(b-1)?b-1:b),G=B.indexOf("\r");-1!=G?(y.push(B.slice(0,G)),d+=G+1):(y.push(B),d=b+1)}return y}:function(a){return a.split(/\r\n?|\n/)},ec=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var d;try{d=a.ownerDocument.selection.createRange()}catch{}return!(!d||d.parentElement()!=a)&&0!=d.compareEndPoints("StartToEnd",d)},No="oncopy"in(a=De("div"))||(a.setAttribute("oncopy","return;"),"function"==typeof a.oncopy),nd=null;var nc={},Is={};function rc(a,d){arguments.length>2&&(d.dependencies=Array.prototype.slice.call(arguments,2)),nc[a]=d}function ri(a){if("string"==typeof a&&Is.hasOwnProperty(a))a=Is[a];else if(a&&"string"==typeof a.name&&Is.hasOwnProperty(a.name)){var d=Is[a.name];"string"==typeof d&&(d={name:d}),(a=Ri(d,a)).name=d.name}else{if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return ri("application/xml");if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return ri("application/json")}return"string"==typeof a?{name:a}:a||{name:"null"}}function Oa(a,d){d=ri(d);var y=nc[d.name];if(!y)return Oa(a,"text/plain");var v=y(a,d);if(Mr.hasOwnProperty(d.name)){var b=Mr[d.name];for(var B in b)b.hasOwnProperty(B)&&(v.hasOwnProperty(B)&&(v["_"+B]=v[B]),v[B]=b[B])}if(v.name=d.name,d.helperType&&(v.helperType=d.helperType),d.modeProps)for(var G in d.modeProps)v[G]=d.modeProps[G];return v}var Mr={};function qi(a,d){mn(d,Mr.hasOwnProperty(a)?Mr[a]:Mr[a]={})}function ki(a,d){if(!0===d)return d;if(a.copyState)return a.copyState(d);var y={};for(var v in d){var b=d[v];b instanceof Array&&(b=b.concat([])),y[v]=b}return y}function oa(a,d){for(var y;a.innerMode&&(y=a.innerMode(d))&&y.mode!=a;)d=y.state,a=y.mode;return y||{mode:a,state:d}}function ff(a,d,y){return!a.startState||a.startState(d,y)}var Pi=function(a,d,y){this.pos=this.start=0,this.string=a,this.tabSize=d||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=y};function En(a,d){if((d-=a.first)<0||d>=a.size)throw new Error("There is no line "+(d+a.first)+" in the document.");for(var y=a;!y.lines;)for(var v=0;;++v){var b=y.children[v],B=b.chunkSize();if(d<B){y=b;break}d-=B}return y.lines[d]}function li(a,d,y){var v=[],b=d.line;return a.iter(d.line,y.line+1,function(B){var G=B.text;b==y.line&&(G=G.slice(0,y.ch)),b==d.line&&(G=G.slice(d.ch)),v.push(G),++b}),v}function $a(a,d,y){var v=[];return a.iter(d,y,function(b){v.push(b.text)}),v}function Ro(a,d){var y=d-a.height;if(y)for(var v=a;v;v=v.parent)v.height+=y}function Pr(a){if(null==a.parent)return null;for(var d=a.parent,y=it(d.lines,a),v=d.parent;v;d=v,v=v.parent)for(var b=0;v.children[b]!=d;++b)y+=v.children[b].chunkSize();return y+d.first}function Qi(a,d){var y=a.first;e:do{for(var v=0;v<a.children.length;++v){var b=a.children[v],B=b.height;if(d<B){a=b;continue e}d-=B,y+=b.chunkSize()}return y}while(!a.lines);for(var G=0;G<a.lines.length;++G){var ee=a.lines[G].height;if(d<ee)break;d-=ee}return y+G}function ko(a,d){return d>=a.first&&d<a.first+a.size}function id(a,d){return String(a.lineNumberFormatter(d+a.firstLineNumber))}function Tt(a,d,y){if(void 0===y&&(y=null),!(this instanceof Tt))return new Tt(a,d,y);this.line=a,this.ch=d,this.sticky=y}function Yn(a,d){return a.line-d.line||a.ch-d.ch}function od(a,d){return a.sticky==d.sticky&&0==Yn(a,d)}function As(a){return Tt(a.line,a.ch)}function Oe(a,d){return Yn(a,d)<0?d:a}function Re(a,d){return Yn(a,d)<0?a:d}function Ve(a,d){return Math.max(a.first,Math.min(d,a.first+a.size-1))}function rt(a,d){if(d.line<a.first)return Tt(a.first,0);var y=a.first+a.size-1;return d.line>y?Tt(y,En(a,y).text.length):function Je(a,d){var y=a.ch;return null==y||y>d?Tt(a.line,d):y<0?Tt(a.line,0):a}(d,En(a,d.line).text.length)}function Qt(a,d){for(var y=[],v=0;v<d.length;v++)y[v]=rt(a,d[v]);return y}Pi.prototype.eol=function(){return this.pos>=this.string.length},Pi.prototype.sol=function(){return this.pos==this.lineStart},Pi.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Pi.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Pi.prototype.eat=function(a){var d=this.string.charAt(this.pos);if("string"==typeof a?d==a:d&&(a.test?a.test(d):a(d)))return++this.pos,d},Pi.prototype.eatWhile=function(a){for(var d=this.pos;this.eat(a););return this.pos>d},Pi.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},Pi.prototype.skipToEnd=function(){this.pos=this.string.length},Pi.prototype.skipTo=function(a){var d=this.string.indexOf(a,this.pos);if(d>-1)return this.pos=d,!0},Pi.prototype.backUp=function(a){this.pos-=a},Pi.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=cn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?cn(this.string,this.lineStart,this.tabSize):0)},Pi.prototype.indentation=function(){return cn(this.string,null,this.tabSize)-(this.lineStart?cn(this.string,this.lineStart,this.tabSize):0)},Pi.prototype.match=function(a,d,y){if("string"!=typeof a){var B=this.string.slice(this.pos).match(a);return B&&B.index>0?null:(B&&!1!==d&&(this.pos+=B[0].length),B)}var v=function(G){return y?G.toLowerCase():G};if(v(this.string.substr(this.pos,a.length))==v(a))return!1!==d&&(this.pos+=a.length),!0},Pi.prototype.current=function(){return this.string.slice(this.start,this.pos)},Pi.prototype.hideFirstChars=function(a,d){this.lineStart+=a;try{return d()}finally{this.lineStart-=a}},Pi.prototype.lookAhead=function(a){var d=this.lineOracle;return d&&d.lookAhead(a)},Pi.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var gn=function(a,d){this.state=a,this.lookAhead=d},Vt=function(a,d,y,v){this.state=d,this.doc=a,this.line=y,this.maxLookAhead=v||0,this.baseTokens=null,this.baseTokenPos=1};function tn(a,d,y,v){var b=[a.state.modeGen],B={};Lr(a,d.text,a.doc.mode,y,function(ce,Ee){return b.push(ce,Ee)},B,v);for(var G=y.state,X=function(ce){y.baseTokens=b;var Ee=a.state.overlays[ce],Le=1,Xe=0;y.state=!0,Lr(a,d.text,Ee.mode,y,function(je,gt){for(var wt=Le;Xe<je;){var Ut=b[Le];Ut>je&&b.splice(Le,1,je,b[Le+1],Ut),Le+=2,Xe=Math.min(je,Ut)}if(gt)if(Ee.opaque)b.splice(wt,Le-wt,je,"overlay "+gt),Le=wt+2;else for(;wt<Le;wt+=2){var Wt=b[wt+1];b[wt+1]=(Wt?Wt+" ":"")+"overlay "+gt}},B),y.state=G,y.baseTokens=null,y.baseTokenPos=1},ee=0;ee<a.state.overlays.length;++ee)X(ee);return{styles:b,classes:B.bgClass||B.textClass?B:null}}function Un(a,d,y){if(!d.styles||d.styles[0]!=a.state.modeGen){var v=Bt(a,Pr(d)),b=d.text.length>a.options.maxHighlightLength&&ki(a.doc.mode,v.state),B=tn(a,d,v);b&&(v.state=b),d.stateAfter=v.save(!b),d.styles=B.styles,B.classes?d.styleClasses=B.classes:d.styleClasses&&(d.styleClasses=null),y===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return d.styles}function Bt(a,d,y){var v=a.doc,b=a.display;if(!v.mode.startState)return new Vt(v,!0,d);var B=function mi(a,d,y){for(var v,b,B=a.doc,G=y?-1:d-(a.doc.mode.innerMode?1e3:100),X=d;X>G;--X){if(X<=B.first)return B.first;var ee=En(B,X-1),ce=ee.stateAfter;if(ce&&(!y||X+(ce instanceof gn?ce.lookAhead:0)<=B.modeFrontier))return X;var Ee=cn(ee.text,null,a.options.tabSize);(null==b||v>Ee)&&(b=X-1,v=Ee)}return b}(a,d,y),G=B>v.first&&En(v,B-1).stateAfter,X=G?Vt.fromSaved(v,G,B):new Vt(v,ff(v.mode),B);return v.iter(B,d,function(ee){Or(a,ee.text,X);var ce=X.line;ee.stateAfter=ce==d-1||ce%5==0||ce>=b.viewFrom&&ce<b.viewTo?X.save():null,X.nextLine()}),y&&(v.modeFrontier=X.line),X}function Or(a,d,y,v){var b=a.doc.mode,B=new Pi(d,a.options.tabSize,y);for(B.start=B.pos=v||0,""==d&&er(b,y.state);!B.eol();)or(b,B,y.state),B.start=B.pos}function er(a,d){if(a.blankLine)return a.blankLine(d);if(a.innerMode){var y=oa(a,d);if(y.mode.blankLine)return y.mode.blankLine(y.state)}}function or(a,d,y,v){for(var b=0;b<10;b++){v&&(v[0]=oa(a,y).mode);var B=a.token(d,y);if(d.pos>d.start)return B}throw new Error("Mode "+a.name+" failed to advance stream.")}Vt.prototype.lookAhead=function(a){var d=this.doc.getLine(this.line+a);return null!=d&&a>this.maxLookAhead&&(this.maxLookAhead=a),d},Vt.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var d=this.baseTokens[this.baseTokenPos+1];return{type:d&&d.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Vt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Vt.fromSaved=function(a,d,y){return d instanceof gn?new Vt(a,ki(a.mode,d.state),y,d.lookAhead):new Vt(a,ki(a.mode,d),y)},Vt.prototype.save=function(a){var d=!1!==a?ki(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new gn(d,this.maxLookAhead):d};var ii=function(a,d,y){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=d||null,this.state=y};function An(a,d,y,v){var G,Ee,b=a.doc,B=b.mode,X=En(b,(d=rt(b,d)).line),ee=Bt(a,d.line,y),ce=new Pi(X.text,a.options.tabSize,ee);for(v&&(Ee=[]);(v||ce.pos<d.ch)&&!ce.eol();)ce.start=ce.pos,G=or(B,ce,ee.state),v&&Ee.push(new ii(ce,G,ki(b.mode,ee.state)));return v?Ee:new ii(ce,G,ee.state)}function on(a,d){if(a)for(;;){var y=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!y)break;a=a.slice(0,y.index)+a.slice(y.index+y[0].length);var v=y[1]?"bgClass":"textClass";null==d[v]?d[v]=y[2]:new RegExp("(?:^|\\s)"+y[2]+"(?:$|\\s)").test(d[v])||(d[v]+=" "+y[2])}return a}function Lr(a,d,y,v,b,B,G){var X=y.flattenSpans;null==X&&(X=a.options.flattenSpans);var Le,ee=0,ce=null,Ee=new Pi(d,a.options.tabSize,v),Xe=a.options.addModeClass&&[null];for(""==d&&on(er(y,v.state),B);!Ee.eol();){if(Ee.pos>a.options.maxHighlightLength?(X=!1,G&&Or(a,d,v,Ee.pos),Ee.pos=d.length,Le=null):Le=on(or(y,Ee,v.state,Xe),B),Xe){var je=Xe[0].name;je&&(Le="m-"+(Le?je+" "+Le:je))}if(!X||ce!=Le){for(;ee<Ee.start;)b(ee=Math.min(Ee.start,ee+5e3),ce);ce=Le}Ee.start=Ee.pos}for(;ee<Ee.pos;){var gt=Math.min(Ee.pos,ee+5e3);b(gt,ce),ee=gt}}var gr=!1,Qe=!1;function Gn(a,d,y){this.marker=a,this.from=d,this.to=y}function ci(a,d){if(a)for(var y=0;y<a.length;++y){var v=a[y];if(v.marker==d)return v}}function Hi(a,d){for(var y,v=0;v<a.length;++v)a[v]!=d&&(y||(y=[])).push(a[v]);return y}function Qs(a,d){if(d.full)return null;var y=ko(a,d.from.line)&&En(a,d.from.line).markedSpans,v=ko(a,d.to.line)&&En(a,d.to.line).markedSpans;if(!y&&!v)return null;var b=d.from.ch,B=d.to.ch,G=0==Yn(d.from,d.to),X=function zi(a,d,y){var v;if(a)for(var b=0;b<a.length;++b){var B=a[b],G=B.marker;null!=B.from&&!(G.inclusiveLeft?B.from<=d:B.from<d)&&(B.from!=d||"bookmark"!=G.type||y&&B.marker.insertLeft)||(v||(v=[])).push(new Gn(G,B.from,null==B.to||(G.inclusiveRight?B.to>=d:B.to>d)?null:B.to))}return v}(y,b,G),ee=function Rr(a,d,y){var v;if(a)for(var b=0;b<a.length;++b){var B=a[b],G=B.marker;(null==B.to||(G.inclusiveRight?B.to>=d:B.to>d)||B.from==d&&"bookmark"==G.type&&(!y||B.marker.insertLeft))&&(v||(v=[])).push(new Gn(G,null==B.from||(G.inclusiveLeft?B.from<=d:B.from<d)?null:B.from-d,null==B.to?null:B.to-d))}return v}(v,B,G),ce=1==d.text.length,Ee=_n(d.text).length+(ce?b:0);if(X)for(var Le=0;Le<X.length;++Le){var Xe=X[Le];if(null==Xe.to){var je=ci(ee,Xe.marker);je?ce&&(Xe.to=null==je.to?null:je.to+Ee):Xe.to=b}}if(ee)for(var gt=0;gt<ee.length;++gt){var wt=ee[gt];null!=wt.to&&(wt.to+=Ee),null==wt.from?ci(X,wt.marker)||(wt.from=Ee,ce&&(X||(X=[])).push(wt)):(wt.from+=Ee,ce&&(X||(X=[])).push(wt))}X&&(X=di(X)),ee&&ee!=X&&(ee=di(ee));var Wt=[X];if(!ce){var Kt,Jt=d.text.length-2;if(Jt>0&&X)for(var Yt=0;Yt<X.length;++Yt)null==X[Yt].to&&(Kt||(Kt=[])).push(new Gn(X[Yt].marker,null,null));for(var kn=0;kn<Jt;++kn)Wt.push(Kt);Wt.push(ee)}return Wt}function di(a){for(var d=0;d<a.length;++d){var y=a[d];null!=y.from&&y.from==y.to&&!1!==y.marker.clearWhenEmpty&&a.splice(d--,1)}return a.length?a:null}function Ji(a){var d=a.markedSpans;if(d){for(var y=0;y<d.length;++y)d[y].marker.detachLine(a);a.markedSpans=null}}function Js(a,d){if(d){for(var y=0;y<d.length;++y)d[y].marker.attachLine(a);a.markedSpans=d}}function Mi(a){return a.inclusiveLeft?-1:0}function zl(a){return a.inclusiveRight?1:0}function ic(a,d){var y=a.lines.length-d.lines.length;if(0!=y)return y;var v=a.find(),b=d.find(),B=Yn(v.from,b.from)||Mi(a)-Mi(d);return B?-B:Yn(v.to,b.to)||zl(a)-zl(d)||d.id-a.id}function Ul(a,d){var v,y=Qe&&a.markedSpans;if(y)for(var b=void 0,B=0;B<y.length;++B)(b=y[B]).marker.collapsed&&null==(d?b.from:b.to)&&(!v||ic(v,b.marker)<0)&&(v=b.marker);return v}function oc(a){return Ul(a,!0)}function Na(a){return Ul(a,!1)}function Os(a,d){var v,y=Qe&&a.markedSpans;if(y)for(var b=0;b<y.length;++b){var B=y[b];B.marker.collapsed&&(null==B.from||B.from<d)&&(null==B.to||B.to>d)&&(!v||ic(v,B.marker)<0)&&(v=B.marker)}return v}function io(a,d,y,v,b){var B=En(a,d),G=Qe&&B.markedSpans;if(G)for(var X=0;X<G.length;++X){var ee=G[X];if(ee.marker.collapsed){var ce=ee.marker.find(0),Ee=Yn(ce.from,y)||Mi(ee.marker)-Mi(b),Le=Yn(ce.to,v)||zl(ee.marker)-zl(b);if(!(Ee>=0&&Le<=0||Ee<=0&&Le>=0)&&(Ee<=0&&(ee.marker.inclusiveRight&&b.inclusiveLeft?Yn(ce.to,y)>=0:Yn(ce.to,y)>0)||Ee>=0&&(ee.marker.inclusiveRight&&b.inclusiveLeft?Yn(ce.from,v)<=0:Yn(ce.from,v)<0)))return!0}}}function tr(a){for(var d;d=oc(a);)a=d.find(-1,!0).line;return a}function ad(a,d){var y=En(a,d),v=tr(y);return y==v?d:Pr(v)}function an(a,d){if(d>a.lastLine())return d;var v,y=En(a,d);if(!hl(a,y))return d;for(;v=Na(y);)y=v.find(1,!0).line;return Pr(y)+1}function hl(a,d){var y=Qe&&d.markedSpans;if(y)for(var v=void 0,b=0;b<y.length;++b)if((v=y[b]).marker.collapsed){if(null==v.from)return!0;if(!v.marker.widgetNode&&0==v.from&&v.marker.inclusiveLeft&&Qr(a,d,v))return!0}}function Qr(a,d,y){if(null==y.to){var v=y.marker.find(1,!0);return Qr(a,v.line,ci(v.line.markedSpans,y.marker))}if(y.marker.inclusiveRight&&y.to==d.text.length)return!0;for(var b=void 0,B=0;B<d.markedSpans.length;++B)if((b=d.markedSpans[B]).marker.collapsed&&!b.marker.widgetNode&&b.from==y.to&&(null==b.to||b.to!=y.from)&&(b.marker.inclusiveLeft||y.marker.inclusiveRight)&&Qr(a,d,b))return!0}function Ra(a){for(var d=0,y=(a=tr(a)).parent,v=0;v<y.lines.length;++v){var b=y.lines[v];if(b==a)break;d+=b.height}for(var B=y.parent;B;B=(y=B).parent)for(var G=0;G<B.children.length;++G){var X=B.children[G];if(X==y)break;d+=X.height}return d}function ac(a){if(0==a.height)return 0;for(var y,d=a.text.length,v=a;y=oc(v);){var b=y.find(0,!0);v=b.from.line,d+=b.from.ch-b.to.ch}for(v=a;y=Na(v);){var B=y.find(0,!0);d-=v.text.length-B.from.ch,d+=(v=B.to.line).text.length-B.to.ch}return d}function yu(a){var d=a.display,y=a.doc;d.maxLine=En(y,y.first),d.maxLineLength=ac(d.maxLine),d.maxLineChanged=!0,y.iter(function(v){var b=ac(v);b>d.maxLineLength&&(d.maxLineLength=b,d.maxLine=v)})}var pl=function(a,d,y){this.text=a,Js(this,d),this.height=y?y(this):1};function ka(a){a.parent=null,Ji(a)}pl.prototype.lineNo=function(){return Pr(this)},Ma(pl);var Ns={},Gl={};function sc(a,d){if(!a||/^\s*$/.test(a))return null;var y=d.addModeClass?Gl:Ns;return y[a]||(y[a]=a.replace(/\S+/g,"cm-$&"))}function Fn(a,d){var y=ze("span",null,null,R?"padding-right: .1px":null),v={pre:ze("pre",[y],"CodeMirror-line"),content:y,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};d.measure={};for(var b=0;b<=(d.rest?d.rest.length:0);b++){var B=b?d.rest[b-1]:d.line,G=void 0;v.pos=0,v.addToken=gl,td(a.display.measure)&&(G=Wa(B,a.doc.direction))&&(v.addToken=ls(v.addToken,G)),v.map=[],vi(B,v,Un(a,B,d!=a.display.externalMeasured&&Pr(B))),B.styleClasses&&(B.styleClasses.bgClass&&(v.bgClass=Ct(B.styleClasses.bgClass,v.bgClass||"")),B.styleClasses.textClass&&(v.textClass=Ct(B.styleClasses.textClass,v.textClass||""))),0==v.map.length&&v.map.push(0,0,v.content.appendChild(dh(a.display.measure))),0==b?(d.measure.map=v.map,d.measure.cache={}):((d.measure.maps||(d.measure.maps=[])).push(v.map),(d.measure.caches||(d.measure.caches=[])).push({}))}if(R){var ee=v.content.lastChild;(/\bcm-tab\b/.test(ee.className)||ee.querySelector&&ee.querySelector(".cm-tab"))&&(v.content.className="cm-tab-wrap-hack")}return gi(a,"renderLine",a,d.line,v.pre),v.pre.className&&(v.textClass=Ct(v.pre.className,v.textClass||"")),v}function Xa(a){var d=De("span","\u2022","cm-invalidchar");return d.title="\\u"+a.charCodeAt(0).toString(16),d.setAttribute("aria-label",d.title),d}function gl(a,d,y,v,b,B,G){if(d){var Ee,X=a.splitSpaces?function yo(a,d){if(a.length>1&&!/  /.test(a))return a;for(var y=d,v="",b=0;b<a.length;b++){var B=a.charAt(b);" "==B&&y&&(b==a.length-1||32==a.charCodeAt(b+1))&&(B="\xa0"),v+=B,y=" "==B}return v}(d,a.trailingSpace):d,ee=a.cm.state.specialChars,ce=!1;if(ee.test(d)){Ee=document.createDocumentFragment();for(var Le=0;;){ee.lastIndex=Le;var Xe=ee.exec(d),je=Xe?Xe.index-Le:d.length-Le;if(je){var gt=document.createTextNode(X.slice(Le,Le+je));Ee.appendChild(C&&S<9?De("span",[gt]):gt),a.map.push(a.pos,a.pos+je,gt),a.col+=je,a.pos+=je}if(!Xe)break;Le+=je+1;var wt=void 0;if("\t"==Xe[0]){var Ut=a.cm.options.tabSize,Wt=Ut-a.col%Ut;(wt=Ee.appendChild(De("span",Cr(Wt),"cm-tab"))).setAttribute("role","presentation"),wt.setAttribute("cm-text","\t"),a.col+=Wt}else"\r"==Xe[0]||"\n"==Xe[0]?((wt=Ee.appendChild(De("span","\r"==Xe[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",Xe[0]),a.col+=1):((wt=a.cm.options.specialCharPlaceholder(Xe[0])).setAttribute("cm-text",Xe[0]),Ee.appendChild(C&&S<9?De("span",[wt]):wt),a.col+=1);a.map.push(a.pos,a.pos+1,wt),a.pos++}}else a.col+=d.length,Ee=document.createTextNode(X),a.map.push(a.pos,a.pos+d.length,Ee),C&&S<9&&(ce=!0),a.pos+=d.length;if(a.trailingSpace=32==X.charCodeAt(d.length-1),y||v||b||ce||B||G){var Jt=y||"";v&&(Jt+=v),b&&(Jt+=b);var Kt=De("span",[Ee],Jt,B);if(G)for(var Yt in G)G.hasOwnProperty(Yt)&&"style"!=Yt&&"class"!=Yt&&Kt.setAttribute(Yt,G[Yt]);return a.content.appendChild(Kt)}a.content.appendChild(Ee)}}function ls(a,d){return function(y,v,b,B,G,X,ee){b=b?b+" cm-force-border":"cm-force-border";for(var ce=y.pos,Ee=ce+v.length;;){for(var Le=void 0,Xe=0;Xe<d.length&&!((Le=d[Xe]).to>ce&&Le.from<=ce);Xe++);if(Le.to>=Ee)return a(y,v,b,B,G,X,ee);a(y,v.slice(0,Le.to-ce),b,B,null,X,ee),B=null,v=v.slice(Le.to-ce),ce=Le.to}}}function jl(a,d,y,v){var b=!v&&y.widgetNode;b&&a.map.push(a.pos,a.pos+d,b),!v&&a.cm.display.input.needsContentAttribute&&(b||(b=a.content.appendChild(document.createElement("span"))),b.setAttribute("cm-marker",y.id)),b&&(a.cm.display.input.setUneditable(b),a.content.appendChild(b)),a.pos+=d,a.trailingSpace=!1}function vi(a,d,y){var v=a.markedSpans,b=a.text,B=0;if(v)for(var Le,Xe,gt,wt,Ut,Wt,Jt,X=b.length,ee=0,ce=1,Ee="",je=0;;){if(je==ee){gt=wt=Ut=Xe="",Jt=null,Wt=null,je=1/0;for(var Kt=[],Yt=void 0,kn=0;kn<v.length;++kn){var Dn=v[kn],nr=Dn.marker;if("bookmark"==nr.type&&Dn.from==ee&&nr.widgetNode)Kt.push(nr);else if(Dn.from<=ee&&(null==Dn.to||Dn.to>ee||nr.collapsed&&Dn.to==ee&&Dn.from==ee)){if(null!=Dn.to&&Dn.to!=ee&&je>Dn.to&&(je=Dn.to,wt=""),nr.className&&(gt+=" "+nr.className),nr.css&&(Xe=(Xe?Xe+";":"")+nr.css),nr.startStyle&&Dn.from==ee&&(Ut+=" "+nr.startStyle),nr.endStyle&&Dn.to==je&&(Yt||(Yt=[])).push(nr.endStyle,Dn.to),nr.title&&((Jt||(Jt={})).title=nr.title),nr.attributes)for(var dr in nr.attributes)(Jt||(Jt={}))[dr]=nr.attributes[dr];nr.collapsed&&(!Wt||ic(Wt.marker,nr)<0)&&(Wt=Dn)}else Dn.from>ee&&je>Dn.from&&(je=Dn.from)}if(Yt)for(var Ai=0;Ai<Yt.length;Ai+=2)Yt[Ai+1]==je&&(wt+=" "+Yt[Ai]);if(!Wt||Wt.from==ee)for(var xi=0;xi<Kt.length;++xi)jl(d,0,Kt[xi]);if(Wt&&(Wt.from||0)==ee){if(jl(d,(null==Wt.to?X+1:Wt.to)-ee,Wt.marker,null==Wt.from),null==Wt.to)return;Wt.to==ee&&(Wt=!1)}}if(ee>=X)break;for(var jo=Math.min(X,je);;){if(Ee){var $i=ee+Ee.length;if(!Wt){var Oi=$i>jo?Ee.slice(0,jo-ee):Ee;d.addToken(d,Oi,Le?Le+gt:gt,Ut,ee+Oi.length==je?wt:"",Xe,Jt)}if($i>=jo){Ee=Ee.slice(jo-ee),ee=jo;break}ee=$i,Ut=""}Ee=b.slice(B,B=y[ce++]),Le=sc(y[ce++],d.cm.options)}}else for(var G=1;G<y.length;G+=2)d.addToken(d,b.slice(B,B=y[G]),sc(y[G+1],d.cm.options))}function pf(a,d,y){this.line=d,this.rest=function hf(a){for(var d,y;d=Na(a);)a=d.find(1,!0).line,(y||(y=[])).push(a);return y}(d),this.size=this.rest?Pr(_n(this.rest))-y+1:1,this.node=this.text=null,this.hidden=hl(a,d)}function Zo(a,d,y){for(var b,v=[],B=d;B<y;B=b){var G=new pf(a.doc,En(a.doc,B),B);b=B+G.size,v.push(G)}return v}var lc=null;var cc=null;function bo(a,d){var y=va(a,d);if(y.length){var b,v=Array.prototype.slice.call(arguments,2);lc?b=lc.delayedCallbacks:cc?b=cc:(b=cc=[],setTimeout(fh,0));for(var B=function(X){b.push(function(){return y[X].apply(null,v)})},G=0;G<y.length;++G)B(G)}}function fh(){var a=cc;cc=null;for(var d=0;d<a.length;++d)a[d]()}function hh(a,d,y,v){for(var b=0;b<d.changes.length;b++){var B=d.changes[b];"text"==B?Sp(a,d):"gutter"==B?ph(a,d,y,v):"class"==B?Pt(a,d):"widget"==B&&nn(a,d,v)}d.changes=null}function el(a){return a.node==a.text&&(a.node=De("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),C&&S<8&&(a.node.style.zIndex=2)),a.node}function Pa(a,d){var y=a.display.externalMeasured;return y&&y.line==d.line?(a.display.externalMeasured=null,d.measure=y.measure,y.built):Fn(a,d)}function Sp(a,d){var y=d.text.className,v=Pa(a,d);d.text==d.node&&(d.node=v.pre),d.text.parentNode.replaceChild(v.pre,d.text),d.text=v.pre,v.bgClass!=d.bgClass||v.textClass!=d.textClass?(d.bgClass=v.bgClass,d.textClass=v.textClass,Pt(a,d)):y&&(d.text.className=y)}function Pt(a,d){(function Dp(a,d){var y=d.bgClass?d.bgClass+" "+(d.line.bgClass||""):d.line.bgClass;if(y&&(y+=" CodeMirror-linebackground"),d.background)y?d.background.className=y:(d.background.parentNode.removeChild(d.background),d.background=null);else if(y){var v=el(d);d.background=v.insertBefore(De("div",null,y),v.firstChild),a.display.input.setUneditable(d.background)}})(a,d),d.line.wrapClass?el(d).className=d.line.wrapClass:d.node!=d.text&&(d.node.className=""),d.text.className=(d.textClass?d.textClass+" "+(d.line.textClass||""):d.line.textClass)||""}function ph(a,d,y,v){if(d.gutter&&(d.node.removeChild(d.gutter),d.gutter=null),d.gutterBackground&&(d.node.removeChild(d.gutterBackground),d.gutterBackground=null),d.line.gutterClass){var b=el(d);d.gutterBackground=De("div",null,"CodeMirror-gutter-background "+d.line.gutterClass,"left: "+(a.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px; width: "+v.gutterTotalWidth+"px"),a.display.input.setUneditable(d.gutterBackground),b.insertBefore(d.gutterBackground,d.text)}var B=d.line.gutterMarkers;if(a.options.lineNumbers||B){var G=el(d),X=d.gutter=De("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px");if(X.setAttribute("aria-hidden","true"),a.display.input.setUneditable(X),G.insertBefore(X,d.text),d.line.gutterClass&&(X.className+=" "+d.line.gutterClass),a.options.lineNumbers&&(!B||!B["CodeMirror-linenumbers"])&&(d.lineNumber=X.appendChild(De("div",id(a.options,y),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+v.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),B)for(var ee=0;ee<a.display.gutterSpecs.length;++ee){var ce=a.display.gutterSpecs[ee].className,Ee=B.hasOwnProperty(ce)&&B[ce];Ee&&X.appendChild(De("div",[Ee],"CodeMirror-gutter-elt","left: "+v.gutterLeft[ce]+"px; width: "+v.gutterWidth[ce]+"px"))}}}function nn(a,d,y){d.alignable&&(d.alignable=null);for(var v=ie("CodeMirror-linewidget"),b=d.node.firstChild,B=void 0;b;b=B)B=b.nextSibling,v.test(b.className)&&d.node.removeChild(b);mf(a,d,y)}function gf(a,d,y,v){var b=Pa(a,d);return d.text=d.node=b.pre,b.bgClass&&(d.bgClass=b.bgClass),b.textClass&&(d.textClass=b.textClass),Pt(a,d),ph(a,d,y,v),mf(a,d,v),d.node}function mf(a,d,y){if(dc(a,d.line,d,y,!0),d.rest)for(var v=0;v<d.rest.length;v++)dc(a,d.rest[v],d,y,!1)}function dc(a,d,y,v,b){if(d.widgets)for(var B=el(y),G=0,X=d.widgets;G<X.length;++G){var ee=X[G],ce=De("div",[ee.node],"CodeMirror-linewidget"+(ee.className?" "+ee.className:""));ee.handleMouseEvents||ce.setAttribute("cm-ignore-events","true"),um(ee,ce,y,v),a.display.input.setUneditable(ce),b&&ee.above?B.insertBefore(ce,y.gutter||y.text):B.appendChild(ce),bo(ee,"redraw")}}function um(a,d,y,v){if(a.noHScroll){(y.alignable||(y.alignable=[])).push(d);var b=v.wrapperWidth;d.style.left=v.fixedPos+"px",a.coverGutter||(b-=v.gutterTotalWidth,d.style.paddingLeft=v.gutterTotalWidth+"px"),d.style.width=b+"px"}a.coverGutter&&(d.style.zIndex=5,d.style.position="relative",a.noHScroll||(d.style.marginLeft=-v.gutterTotalWidth+"px"))}function fc(a){if(null!=a.height)return a.height;var d=a.doc.cm;if(!d)return 0;if(!at(document.body,a.node)){var y="position: relative;";a.coverGutter&&(y+="margin-left: -"+d.display.gutters.offsetWidth+"px;"),a.noHScroll&&(y+="width: "+d.display.wrapper.clientWidth+"px;"),Te(d.display.measure,De("div",[a.node],null,y))}return a.height=a.node.parentNode.offsetHeight}function ml(a,d){for(var y=qs(d);y!=a.wrapper;y=y.parentNode)if(!y||1==y.nodeType&&"true"==y.getAttribute("cm-ignore-events")||y.parentNode==a.sizer&&y!=a.mover)return!0}function us(a){return a.lineSpace.offsetTop}function cs(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function ya(a){if(a.cachedPaddingH)return a.cachedPaddingH;var d=Te(a.measure,De("pre","x","CodeMirror-line-like")),y=window.getComputedStyle?window.getComputedStyle(d):d.currentStyle,v={left:parseInt(y.paddingLeft),right:parseInt(y.paddingRight)};return!isNaN(v.left)&&!isNaN(v.right)&&(a.cachedPaddingH=v),v}function wo(a){return pt-a.display.nativeBarWidth}function xr(a){return a.display.scroller.clientWidth-wo(a)-a.display.barWidth}function hc(a){return a.display.scroller.clientHeight-wo(a)-a.display.barHeight}function yf(a,d,y){if(a.line==d)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var v=0;v<a.rest.length;v++)if(a.rest[v]==d)return{map:a.measure.maps[v],cache:a.measure.caches[v]};for(var b=0;b<a.rest.length;b++)if(Pr(a.rest[b])>y)return{map:a.measure.maps[b],cache:a.measure.caches[b],before:!0}}}function Rs(a,d,y,v){return ks(a,$l(a,d),y,v)}function Wl(a,d){if(d>=a.display.viewFrom&&d<a.display.viewTo)return a.display.view[oo(a,d)];var y=a.display.externalMeasured;return y&&d>=y.lineN&&d<y.lineN+y.size?y:void 0}function $l(a,d){var y=Pr(d),v=Wl(a,y);v&&!v.text?v=null:v&&v.changes&&(hh(a,v,y,xf(a)),a.curOp.forceUpdate=!0),v||(v=function Tp(a,d){var y=Pr(d=tr(d)),v=a.display.externalMeasured=new pf(a.doc,d,y);v.lineN=y;var b=v.built=Fn(a,v);return v.text=b.pre,Te(a.display.lineMeasure,b.pre),v}(a,d));var b=yf(v,d,y);return{line:d,view:v,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function ks(a,d,y,v,b){d.before&&(y=-1);var G,B=y+(v||"");return d.cache.hasOwnProperty(B)?G=d.cache[B]:(d.rect||(d.rect=d.view.text.getBoundingClientRect()),d.hasHeights||(function vf(a,d,y){var v=a.options.lineWrapping,b=v&&xr(a);if(!d.measure.heights||v&&d.measure.width!=b){var B=d.measure.heights=[];if(v){d.measure.width=b;for(var G=d.text.firstChild.getClientRects(),X=0;X<G.length-1;X++){var ee=G[X],ce=G[X+1];Math.abs(ee.bottom-ce.bottom)>2&&B.push((ee.bottom+ce.top)/2-y.top)}}B.push(y.bottom-y.top)}}(a,d.view,d.rect),d.hasHeights=!0),(G=function Yl(a,d,y,v){var ce,b=_u(d.map,y,v),B=b.node,G=b.start,X=b.end,ee=b.collapse;if(3==B.nodeType){for(var Ee=0;Ee<4;Ee++){for(;G&&ja(d.line.text.charAt(b.coverStart+G));)--G;for(;b.coverStart+X<b.coverEnd&&ja(d.line.text.charAt(b.coverStart+X));)++X;if((ce=C&&S<9&&0==G&&X==b.coverEnd-b.coverStart?B.parentNode.getBoundingClientRect():Cu(Be(B,G,X).getClientRects(),v)).left||ce.right||0==G)break;X=G,G-=1,ee="right"}C&&S<11&&(ce=function Mp(a,d){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function tc(a){if(null!=nd)return nd;var d=Te(a,De("span","x")),y=d.getBoundingClientRect(),v=Be(d,0,1).getBoundingClientRect();return nd=Math.abs(y.left-v.left)>1}(a))return d;var y=screen.logicalXDPI/screen.deviceXDPI,v=screen.logicalYDPI/screen.deviceYDPI;return{left:d.left*y,right:d.right*y,top:d.top*v,bottom:d.bottom*v}}(a.display.measure,ce))}else{var Le;G>0&&(ee=v="right"),ce=a.options.lineWrapping&&(Le=B.getClientRects()).length>1?Le["right"==v?Le.length-1:0]:B.getBoundingClientRect()}if(C&&S<9&&!G&&(!ce||!ce.left&&!ce.right)){var Xe=B.parentNode.getClientRects()[0];ce=Xe?{left:Xe.left,right:Xe.left+vl(a.display),top:Xe.top,bottom:Xe.bottom}:bf}for(var je=ce.top-d.rect.top,gt=ce.bottom-d.rect.top,wt=(je+gt)/2,Ut=d.view.measure.heights,Wt=0;Wt<Ut.length-1&&!(wt<Ut[Wt]);Wt++);var Yt={left:("right"==ee?ce.right:ce.left)-d.rect.left,right:("left"==ee?ce.left:ce.right)-d.rect.left,top:Wt?Ut[Wt-1]:0,bottom:Ut[Wt]};return!ce.left&&!ce.right&&(Yt.bogus=!0),a.options.singleCursorHeightPerLine||(Yt.rtop=je,Yt.rbottom=gt),Yt}(a,d,y,v)).bogus||(d.cache[B]=G)),{left:G.left,right:G.right,top:b?G.rtop:G.top,bottom:b?G.rbottom:G.bottom}}var xu,bf={left:0,right:0,top:0,bottom:0};function _u(a,d,y){for(var v,b,B,G,X,ee,ce=0;ce<a.length;ce+=3)if(ee=a[ce+1],d<(X=a[ce])?(b=0,B=1,G="left"):d<ee?B=1+(b=d-X):(ce==a.length-3||d==ee&&a[ce+3]>d)&&(b=(B=ee-X)-1,d>=ee&&(G="right")),null!=b){if(v=a[ce+2],X==ee&&y==(v.insertLeft?"left":"right")&&(G=y),"left"==y&&0==b)for(;ce&&a[ce-2]==a[ce-3]&&a[ce-1].insertLeft;)v=a[2+(ce-=3)],G="left";if("right"==y&&b==ee-X)for(;ce<a.length-3&&a[ce+3]==a[ce+4]&&!a[ce+5].insertLeft;)v=a[(ce+=3)+2],G="right";break}return{node:v,start:b,end:B,collapse:G,coverStart:X,coverEnd:ee}}function Cu(a,d){var y=bf;if("left"==d)for(var v=0;v<a.length&&(y=a[v]).left==y.right;v++);else for(var b=a.length-1;b>=0&&(y=a[b]).left==y.right;b--);return y}function sd(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var d=0;d<a.rest.length;d++)a.measure.caches[d]={}}function ld(a){a.display.externalMeasure=null,_e(a.display.lineMeasure);for(var d=0;d<a.display.view.length;d++)sd(a.display.view[d])}function Xl(a){ld(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function gh(a){return V&&ne?-(a.body.getBoundingClientRect().left-parseInt(getComputedStyle(a.body).marginLeft)):a.defaultView.pageXOffset||(a.documentElement||a.body).scrollLeft}function mh(a){return V&&ne?-(a.body.getBoundingClientRect().top-parseInt(getComputedStyle(a.body).marginTop)):a.defaultView.pageYOffset||(a.documentElement||a.body).scrollTop}function Ka(a){var y=tr(a).widgets,v=0;if(y)for(var b=0;b<y.length;++b)y[b].above&&(v+=fc(y[b]));return v}function wf(a,d,y,v,b){if(!b){var B=Ka(d);y.top+=B,y.bottom+=B}if("line"==v)return y;v||(v="local");var G=Ra(d);if("local"==v?G+=us(a.display):G-=a.display.viewOffset,"page"==v||"window"==v){var X=a.display.lineSpace.getBoundingClientRect();G+=X.top+("window"==v?0:mh(qt(a)));var ee=X.left+("window"==v?0:gh(qt(a)));y.left+=ee,y.right+=ee}return y.top+=G,y.bottom+=G,y}function vh(a,d,y){if("div"==y)return d;var v=d.left,b=d.top;if("page"==y)v-=gh(qt(a)),b-=mh(qt(a));else if("local"==y||!y){var B=a.display.sizer.getBoundingClientRect();v+=B.left,b+=B.top}var G=a.display.lineSpace.getBoundingClientRect();return{left:v-G.left,top:b-G.top}}function ud(a,d,y,v,b){return v||(v=En(a.doc,d.line)),wf(a,v,Rs(a,v,d.ch,b),y)}function ds(a,d,y,v,b,B){function G(gt,wt){var Ut=ks(a,b,gt,wt?"right":"left",B);return wt?Ut.left=Ut.right:Ut.right=Ut.left,wf(a,v,Ut,y)}v=v||En(a.doc,d.line),b||(b=$l(a,v));var X=Wa(v,a.doc.direction),ee=d.ch,ce=d.sticky;if(ee>=v.text.length?(ee=v.text.length,ce="before"):ee<=0&&(ee=0,ce="after"),!X)return G("before"==ce?ee-1:ee,"before"==ce);function Ee(gt,wt,Ut){return G(Ut?gt-1:gt,1==X[wt].level!=Ut)}var Le=Xo(X,ee,ce),Xe=Yo,je=Ee(ee,Le,"before"==ce);return null!=Xe&&(je.other=Ee(ee,Xe,"before"!=ce)),je}function Ip(a,d){var y=0;d=rt(a.doc,d),a.options.lineWrapping||(y=vl(a.display)*d.ch);var v=En(a.doc,d.line),b=Ra(v)+us(a.display);return{left:y,right:y,top:b,bottom:b+v.height}}function yh(a,d,y,v,b){var B=Tt(a,d,y);return B.xRel=b,v&&(B.outside=v),B}function _f(a,d,y){var v=a.doc;if((y+=a.display.viewOffset)<0)return yh(v.first,0,null,-1,-1);var b=Qi(v,y),B=v.first+v.size-1;if(b>B)return yh(v.first+v.size-1,En(v,B).text.length,null,1,1);d<0&&(d=0);for(var G=En(v,b);;){var X=Er(a,G,b,d,y),ee=Os(G,X.ch+(X.xRel>0||X.outside>0?1:0));if(!ee)return X;var ce=ee.find(1);if(ce.line==b)return ce;G=En(v,b=ce.line)}}function Ap(a,d,y,v){v-=Ka(d);var b=d.text.length,B=Nn(function(G){return ks(a,y,G-1).bottom<=v},b,0);return{begin:B,end:b=Nn(function(G){return ks(a,y,G).top>v},B,b)}}function Op(a,d,y,v){return y||(y=$l(a,d)),Ap(a,d,y,wf(a,d,ks(a,y,v),"line").top)}function Cf(a,d,y,v){return!(a.bottom<=y)&&(a.top>y||(v?a.left:a.right)>d)}function Er(a,d,y,v,b){b-=Ra(d);var B=$l(a,d),G=Ka(d),X=0,ee=d.text.length,ce=!0,Ee=Wa(d,a.doc.direction);if(Ee){var Le=(a.options.lineWrapping?dm:cm)(a,d,y,B,Ee,v,b);X=(ce=1!=Le.level)?Le.from:Le.to-1,ee=ce?Le.to:Le.from-1}var wt,Ut,Xe=null,je=null,gt=Nn(function(kn){var Dn=ks(a,B,kn);return Dn.top+=G,Dn.bottom+=G,!!Cf(Dn,v,b,!1)&&(Dn.top<=b&&Dn.left<=v&&(Xe=kn,je=Dn),!0)},X,ee),Wt=!1;if(je){var Jt=v-je.left<je.right-v,Kt=Jt==ce;gt=Xe+(Kt?0:1),Ut=Kt?"after":"before",wt=Jt?je.left:je.right}else{!ce&&(gt==ee||gt==X)&&gt++,Ut=0==gt?"after":gt==d.text.length?"before":ks(a,B,gt-(ce?1:0)).bottom+G<=b==ce?"after":"before";var Yt=ds(a,Tt(y,gt,Ut),"line",d,B);wt=Yt.left,Wt=b<Yt.top?-1:b>=Yt.bottom?1:0}return yh(y,gt=Ts(d.text,gt,1),Ut,Wt,v-wt)}function cm(a,d,y,v,b,B,G){var X=Nn(function(Le){var Xe=b[Le],je=1!=Xe.level;return Cf(ds(a,Tt(y,je?Xe.to:Xe.from,je?"before":"after"),"line",d,v),B,G,!0)},0,b.length-1),ee=b[X];if(X>0){var ce=1!=ee.level,Ee=ds(a,Tt(y,ce?ee.from:ee.to,ce?"after":"before"),"line",d,v);Cf(Ee,B,G,!0)&&Ee.top>G&&(ee=b[X-1])}return ee}function dm(a,d,y,v,b,B,G){var X=Ap(a,d,v,G),ee=X.begin,ce=X.end;/\s/.test(d.text.charAt(ce-1))&&ce--;for(var Ee=null,Le=null,Xe=0;Xe<b.length;Xe++){var je=b[Xe];if(!(je.from>=ce||je.to<=ee)){var wt=ks(a,v,1!=je.level?Math.min(ce,je.to)-1:Math.max(ee,je.from)).right,Ut=wt<B?B-wt+1e9:wt-B;(!Ee||Le>Ut)&&(Ee=je,Le=Ut)}}return Ee||(Ee=b[b.length-1]),Ee.from<ee&&(Ee={from:ee,to:Ee.to,level:Ee.level}),Ee.to>ce&&(Ee={from:Ee.from,to:ce,level:Ee.level}),Ee}function Jr(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==xu){xu=De("pre",null,"CodeMirror-line-like");for(var d=0;d<49;++d)xu.appendChild(document.createTextNode("x")),xu.appendChild(De("br"));xu.appendChild(document.createTextNode("x"))}Te(a.measure,xu);var y=xu.offsetHeight/50;return y>3&&(a.cachedTextHeight=y),_e(a.measure),y||1}function vl(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var d=De("span","xxxxxxxxxx"),y=De("pre",[d],"CodeMirror-line-like");Te(a.measure,y);var v=d.getBoundingClientRect(),b=(v.right-v.left)/10;return b>2&&(a.cachedCharWidth=b),b||10}function xf(a){for(var d=a.display,y={},v={},b=d.gutters.clientLeft,B=d.gutters.firstChild,G=0;B;B=B.nextSibling,++G){var X=a.display.gutterSpecs[G].className;y[X]=B.offsetLeft+B.clientLeft+b,v[X]=B.clientWidth}return{fixedPos:ln(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:y,gutterWidth:v,wrapperWidth:d.wrapper.clientWidth}}function ln(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function aa(a){var d=Jr(a.display),y=a.options.lineWrapping,v=y&&Math.max(5,a.display.scroller.clientWidth/vl(a.display)-3);return function(b){if(hl(a.doc,b))return 0;var B=0;if(b.widgets)for(var G=0;G<b.widgets.length;G++)b.widgets[G].height&&(B+=b.widgets[G].height);return y?B+(Math.ceil(b.text.length/v)||1)*d:B+d}}function Br(a){var d=a.doc,y=aa(a);d.iter(function(v){var b=y(v);b!=v.height&&Ro(v,b)})}function Ui(a,d,y,v){var b=a.display;if(!y&&"true"==qs(d).getAttribute("cm-not-content"))return null;var B,G,X=b.lineSpace.getBoundingClientRect();try{B=d.clientX-X.left,G=d.clientY-X.top}catch{return null}var ce,ee=_f(a,B,G);if(v&&ee.xRel>0&&(ce=En(a.doc,ee.line).text).length==ee.ch){var Ee=cn(ce,ce.length,a.options.tabSize)-ce.length;ee=Tt(ee.line,Math.max(0,Math.round((B-ya(a.display).left)/vl(a.display))-Ee))}return ee}function oo(a,d){if(d>=a.display.viewTo||(d-=a.display.viewFrom)<0)return null;for(var y=a.display.view,v=0;v<y.length;v++)if((d-=y[v].size)<0)return v}function ao(a,d,y,v){null==d&&(d=a.doc.first),null==y&&(y=a.doc.first+a.doc.size),v||(v=0);var b=a.display;if(v&&y<b.viewTo&&(null==b.updateLineNumbers||b.updateLineNumbers>d)&&(b.updateLineNumbers=d),a.curOp.viewChanged=!0,d>=b.viewTo)Qe&&ad(a.doc,d)<b.viewTo&&yl(a);else if(y<=b.viewFrom)Qe&&an(a.doc,y+v)>b.viewFrom?yl(a):(b.viewFrom+=v,b.viewTo+=v);else if(d<=b.viewFrom&&y>=b.viewTo)yl(a);else if(d<=b.viewFrom){var B=pc(a,y,y+v,1);B?(b.view=b.view.slice(B.index),b.viewFrom=B.lineN,b.viewTo+=v):yl(a)}else if(y>=b.viewTo){var G=pc(a,d,d,-1);G?(b.view=b.view.slice(0,G.index),b.viewTo=G.lineN):yl(a)}else{var X=pc(a,d,d,-1),ee=pc(a,y,y+v,1);X&&ee?(b.view=b.view.slice(0,X.index).concat(Zo(a,X.lineN,ee.lineN)).concat(b.view.slice(ee.index)),b.viewTo+=v):yl(a)}var ce=b.externalMeasured;ce&&(y<ce.lineN?ce.lineN+=v:d<ce.lineN+ce.size&&(b.externalMeasured=null))}function so(a,d,y){a.curOp.viewChanged=!0;var v=a.display,b=a.display.externalMeasured;if(b&&d>=b.lineN&&d<b.lineN+b.size&&(v.externalMeasured=null),!(d<v.viewFrom||d>=v.viewTo)){var B=v.view[oo(a,d)];if(null!=B.node){var G=B.changes||(B.changes=[]);-1==it(G,y)&&G.push(y)}}}function yl(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function pc(a,d,y,v){var B,b=oo(a,d),G=a.display.view;if(!Qe||y==a.doc.first+a.doc.size)return{index:b,lineN:y};for(var X=a.display.viewFrom,ee=0;ee<b;ee++)X+=G[ee].size;if(X!=d){if(v>0){if(b==G.length-1)return null;B=X+G[b].size-d,b++}else B=X-d;d+=B,y+=B}for(;ad(a.doc,y)!=y;){if(b==(v<0?0:G.length-1))return null;y+=v*G[b-(v<0?1:0)].size,b+=v}return{index:b,lineN:y}}function bh(a){for(var d=a.display.view,y=0,v=0;v<d.length;v++){var b=d[v];!b.hidden&&(!b.node||b.changes)&&++y}return y}function cd(a){a.display.input.showSelection(a.display.input.prepareSelection())}function lo(a,d){void 0===d&&(d=!0);var y=a.doc,v={},b=v.cursors=document.createDocumentFragment(),B=v.selection=document.createDocumentFragment(),G=a.options.$customCursor;G&&(d=!0);for(var X=0;X<y.sel.ranges.length;X++)if(d||X!=y.sel.primIndex){var ee=y.sel.ranges[X];if(!(ee.from().line>=a.display.viewTo||ee.to().line<a.display.viewFrom)){var ce=ee.empty();if(G){var Ee=G(a,ee);Ee&&fn(a,Ee,b)}else(ce||a.options.showCursorWhenSelecting)&&fn(a,ee.head,b);ce||Li(a,ee,B)}}return v}function fn(a,d,y){var v=ds(a,d,"div",null,null,!a.options.singleCursorHeightPerLine),b=y.appendChild(De("div","\xa0","CodeMirror-cursor"));if(b.style.left=v.left+"px",b.style.top=v.top+"px",b.style.height=Math.max(0,v.bottom-v.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var B=ud(a,d,"div",null,null),G=B.right-B.left;b.style.width=(G>0?G:a.defaultCharWidth())+"px"}if(v.other){var X=y.appendChild(De("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));X.style.display="",X.style.left=v.other.left+"px",X.style.top=v.other.top+"px",X.style.height=.85*(v.other.bottom-v.other.top)+"px"}}function Wn(a,d){return a.top-d.top||a.left-d.left}function Li(a,d,y){var v=a.display,b=a.doc,B=document.createDocumentFragment(),G=ya(a.display),X=G.left,ee=Math.max(v.sizerWidth,xr(a)-v.sizer.offsetLeft)-G.right,ce="ltr"==b.direction;function Ee(Kt,Yt,kn,Dn){Yt<0&&(Yt=0),Yt=Math.round(Yt),Dn=Math.round(Dn),B.appendChild(De("div",null,"CodeMirror-selected","position: absolute; left: "+Kt+"px;\n                             top: "+Yt+"px; width: "+(kn??ee-Kt)+"px;\n                             height: "+(Dn-Yt)+"px"))}function Le(Kt,Yt,kn){var dr,Ai,Dn=En(b,Kt),nr=Dn.text.length;function xi(Oi,fa){return ud(a,Tt(Kt,Oi),"div",Dn,fa)}function jo(Oi,fa,Wo){var To=Op(a,Dn,null,Oi),zr="ltr"==fa==("after"==Wo)?"left":"right";return xi("after"==Wo?To.begin:To.end-(/\s/.test(Dn.text.charAt(To.end-1))?2:1),zr)[zr]}var $i=Wa(Dn,b.direction);return function Hl(a,d,y,v){if(!a)return v(d,y,"ltr",0);for(var b=!1,B=0;B<a.length;++B){var G=a[B];(G.from<y&&G.to>d||d==y&&G.to==d)&&(v(Math.max(G.from,d),Math.min(G.to,y),1==G.level?"rtl":"ltr",B),b=!0)}b||v(d,y,"ltr")}($i,Yt||0,kn??nr,function(Oi,fa,Wo,To){var zr="ltr"==Wo,Ei=xi(Oi,zr?"left":"right"),ho=xi(fa-1,zr?"right":"left"),Wd=null==Yt&&0==Oi,Sl=null==kn&&fa==nr,Qo=0==To,al=!$i||To==$i.length-1;if(ho.top-Ei.top<=3){var Tl=(ce?Wd:Sl)&&Qo?X:(zr?Ei:ho).left;Ee(Tl,Ei.top,((ce?Sl:Wd)&&al?ee:(zr?ho:Ei).right)-Tl,Ei.bottom)}else{var Ml,Ni,Oc,ns;zr?(Ml=ce&&Wd&&Qo?X:Ei.left,Ni=ce?ee:jo(Oi,Wo,"before"),Oc=ce?X:jo(fa,Wo,"after"),ns=ce&&Sl&&al?ee:ho.right):(Ml=ce?jo(Oi,Wo,"before"):X,Ni=!ce&&Wd&&Qo?ee:Ei.right,Oc=!ce&&Sl&&al?X:ho.left,ns=ce?jo(fa,Wo,"after"):ee),Ee(Ml,Ei.top,Ni-Ml,Ei.bottom),Ei.bottom<ho.top&&Ee(X,Ei.bottom,null,ho.top),Ee(Oc,ho.top,ns-Oc,ho.bottom)}(!dr||Wn(Ei,dr)<0)&&(dr=Ei),Wn(ho,dr)<0&&(dr=ho),(!Ai||Wn(Ei,Ai)<0)&&(Ai=Ei),Wn(ho,Ai)<0&&(Ai=ho)}),{start:dr,end:Ai}}var Xe=d.from(),je=d.to();if(Xe.line==je.line)Le(Xe.line,Xe.ch,je.ch);else{var gt=En(b,Xe.line),wt=En(b,je.line),Ut=tr(gt)==tr(wt),Wt=Le(Xe.line,Xe.ch,Ut?gt.text.length+1:null).end,Jt=Le(je.line,Ut?0:null,je.ch).start;Ut&&(Wt.top<Jt.top-2?(Ee(Wt.right,Wt.top,null,Wt.bottom),Ee(X,Jt.top,Jt.left,Jt.bottom)):Ee(Wt.right,Wt.top,Jt.left-Wt.right,Wt.bottom)),Wt.bottom<Jt.top&&Ee(X,Wt.bottom,null,Jt.top)}y.appendChild(B)}function sa(a){if(a.state.focused){var d=a.display;clearInterval(d.blinker);var y=!0;d.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?d.blinker=setInterval(function(){a.hasFocus()||yi(a),d.cursorDiv.style.visibility=(y=!y)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(d.cursorDiv.style.visibility="hidden")}}function gc(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||bl(a))}function _o(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&yi(a))},100)}function bl(a,d){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),"nocursor"!=a.options.readOnly&&(a.state.focused||(gi(a,"focus",a,d),a.state.focused=!0,Ke(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),R&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),sa(a))}function yi(a,d){a.state.delayingBlurEvent||(a.state.focused&&(gi(a,"blur",a,d),a.state.focused=!1,me(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function tl(a){for(var d=a.display,y=d.lineDiv.offsetTop,v=Math.max(0,d.scroller.getBoundingClientRect().top),b=d.lineDiv.getBoundingClientRect().top,B=0,G=0;G<d.view.length;G++){var X=d.view[G],ee=a.options.lineWrapping,ce=void 0,Ee=0;if(!X.hidden){if(b+=X.line.height,C&&S<8){var Le=X.node.offsetTop+X.node.offsetHeight;ce=Le-y,y=Le}else{var Xe=X.node.getBoundingClientRect();ce=Xe.bottom-Xe.top,!ee&&X.text.firstChild&&(Ee=X.text.firstChild.getBoundingClientRect().right-Xe.left-1)}var je=X.line.height-ce;if((je>.005||je<-.005)&&(b<v&&(B-=je),Ro(X.line,ce),la(X.line),X.rest))for(var gt=0;gt<X.rest.length;gt++)la(X.rest[gt]);if(Ee>a.display.sizerWidth){var wt=Math.ceil(Ee/vl(a.display));wt>a.display.maxLineLength&&(a.display.maxLineLength=wt,a.display.maxLine=X.line,a.display.maxLineChanged=!0)}}}Math.abs(B)>2&&(d.scroller.scrollTop+=B)}function la(a){if(a.widgets)for(var d=0;d<a.widgets.length;++d){var y=a.widgets[d],v=y.node.parentNode;v&&(y.height=v.offsetHeight)}}function Zn(a,d,y){var v=y&&null!=y.top?Math.max(0,y.top):a.scroller.scrollTop;v=Math.floor(v-us(a));var b=y&&null!=y.bottom?y.bottom:v+a.wrapper.clientHeight,B=Qi(d,v),G=Qi(d,b);if(y&&y.ensure){var X=y.ensure.from.line,ee=y.ensure.to.line;X<B?(B=X,G=Qi(d,Ra(En(d,X))+a.wrapper.clientHeight)):Math.min(ee,d.lastLine())>=G&&(B=Qi(d,Ra(En(d,ee))-a.wrapper.clientHeight),G=ee)}return{from:B,to:Math.max(G,B+1)}}function Gi(a,d){var y=a.display,v=Jr(a.display);d.top<0&&(d.top=0);var b=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:y.scroller.scrollTop,B=hc(a),G={};d.bottom-d.top>B&&(d.bottom=d.top+B);var X=a.doc.height+cs(y),ce=d.bottom>X-v;if(d.top<b)G.scrollTop=d.top<v?0:d.top;else if(d.bottom>b+B){var Ee=Math.min(d.top,(ce?X:d.bottom)-B);Ee!=b&&(G.scrollTop=Ee)}var Le=a.options.fixedGutter?0:y.gutters.offsetWidth,Xe=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:y.scroller.scrollLeft-Le,je=xr(a)-y.gutters.offsetWidth,gt=d.right-d.left>je;return gt&&(d.right=d.left+je),d.left<10?G.scrollLeft=0:d.left<Xe?G.scrollLeft=Math.max(0,d.left+Le-(gt?0:10)):d.right>je+Xe-3&&(G.scrollLeft=d.right+(gt?0:10)-je),G}function fs(a,d){null!=d&&(fd(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+d)}function Za(a){fd(a);var d=a.getCursor();a.curOp.scrollToPos={from:d,to:d,margin:a.options.cursorScrollMargin}}function uo(a,d,y){(null!=d||null!=y)&&fd(a),null!=d&&(a.curOp.scrollLeft=d),null!=y&&(a.curOp.scrollTop=y)}function fd(a){var d=a.curOp.scrollToPos;d&&(a.curOp.scrollToPos=null,wl(a,Ip(a,d.from),Ip(a,d.to),d.margin))}function wl(a,d,y,v){var b=Gi(a,{left:Math.min(d.left,y.left),top:Math.min(d.top,y.top)-v,right:Math.max(d.right,y.right),bottom:Math.max(d.bottom,y.bottom)+v});uo(a,b.scrollLeft,b.scrollTop)}function ur(a,d){Math.abs(a.doc.scrollTop-d)<2||(T||Ja(a,{top:d}),hd(a,d,!0),T&&Ja(a),bi(a,100))}function hd(a,d,y){d=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,d)),(a.display.scroller.scrollTop!=d||y)&&(a.doc.scrollTop=d,a.display.scrollbars.setScrollTop(d),a.display.scroller.scrollTop!=d&&(a.display.scroller.scrollTop=d))}function qa(a,d,y,v){d=Math.max(0,Math.min(d,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),(!(y?d==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-d)<2)||v)&&(a.doc.scrollLeft=d,Np(a),a.display.scroller.scrollLeft!=d&&(a.display.scroller.scrollLeft=d),a.display.scrollbars.setScrollLeft(d))}function hn(a){var d=a.display,y=d.gutters.offsetWidth,v=Math.round(a.doc.height+cs(a.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:a.options.fixedGutter?y:0,docHeight:v,scrollHeight:v+wo(a)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:y}}var Vr=function(a,d,y){this.cm=y;var v=this.vert=De("div",[De("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),b=this.horiz=De("div",[De("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");v.tabIndex=b.tabIndex=-1,a(v),a(b),xn(v,"scroll",function(){v.clientHeight&&d(v.scrollTop,"vertical")}),xn(b,"scroll",function(){b.clientWidth&&d(b.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,C&&S<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Vr.prototype.update=function(a){var d=a.scrollWidth>a.clientWidth+1,y=a.scrollHeight>a.clientHeight+1,v=a.nativeBarWidth;return y?(this.vert.style.display="block",this.vert.style.bottom=d?v+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(d?v:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),d?(this.horiz.style.display="block",this.horiz.style.right=y?v+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+(a.viewWidth-a.barLeft-(y?v:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&a.clientHeight>0&&(0==v&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:y?v:0,bottom:d?v:0}},Vr.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Vr.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Vr.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=ae&&!$?"12px":"18px",this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new lt,this.disableVert=new lt},Vr.prototype.enableZeroWidthBar=function(a,d,y){a.style.visibility="",d.set(1e3,function v(){var b=a.getBoundingClientRect();("vert"==y?document.elementFromPoint(b.right-1,(b.top+b.bottom)/2):document.elementFromPoint((b.right+b.left)/2,b.bottom-1))!=a?a.style.visibility="hidden":d.set(1e3,v)})},Vr.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var pn=function(){};function _l(a,d){d||(d=hn(a));var y=a.display.barWidth,v=a.display.barHeight;Ps(a,d);for(var b=0;b<4&&y!=a.display.barWidth||v!=a.display.barHeight;b++)y!=a.display.barWidth&&a.options.lineWrapping&&tl(a),Ps(a,hn(a)),y=a.display.barWidth,v=a.display.barHeight}function Ps(a,d){var y=a.display,v=y.scrollbars.update(d);y.sizer.style.paddingRight=(y.barWidth=v.right)+"px",y.sizer.style.paddingBottom=(y.barHeight=v.bottom)+"px",y.heightForcer.style.borderBottom=v.bottom+"px solid transparent",v.right&&v.bottom?(y.scrollbarFiller.style.display="block",y.scrollbarFiller.style.height=v.bottom+"px",y.scrollbarFiller.style.width=v.right+"px"):y.scrollbarFiller.style.display="",v.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(y.gutterFiller.style.display="block",y.gutterFiller.style.height=v.bottom+"px",y.gutterFiller.style.width=d.gutterWidth+"px"):y.gutterFiller.style.display=""}pn.prototype.update=function(){return{bottom:0,right:0}},pn.prototype.setScrollLeft=function(){},pn.prototype.setScrollTop=function(){},pn.prototype.clear=function(){};var pd={native:Vr,null:pn};function Du(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&me(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new pd[a.options.scrollbarStyle](function(d){a.display.wrapper.insertBefore(d,a.display.scrollbarFiller),xn(d,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),d.setAttribute("cm-not-content","true")},function(d,y){"horizontal"==y?qa(a,d):ur(a,d)},a),a.display.scrollbars.addClass&&Ke(a.display.wrapper,a.display.scrollbars.addClass)}var nl=0;function oi(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++nl,markArrays:null},function bu(a){lc?lc.ops.push(a):a.ownsGroup=lc={ops:[a],delayedCallbacks:[]}}(a.curOp)}function Kl(a){var d=a.curOp;d&&function uc(a,d){var y=a.ownsGroup;if(y)try{!function wu(a){var d=a.delayedCallbacks,y=0;do{for(;y<d.length;y++)d[y].call(null);for(var v=0;v<a.ops.length;v++){var b=a.ops[v];if(b.cursorActivityHandlers)for(;b.cursorActivityCalled<b.cursorActivityHandlers.length;)b.cursorActivityHandlers[b.cursorActivityCalled++].call(null,b.cm)}}while(y<d.length)}(y)}finally{lc=null,d(y)}}(d,function(y){for(var v=0;v<y.ops.length;v++)y.ops[v].cm.curOp=null;!function Qa(a){for(var d=a.ops,y=0;y<d.length;y++)La(d[y]);for(var v=0;v<d.length;v++)_h(d[v]);for(var b=0;b<d.length;b++)Su(d[b]);for(var B=0;B<d.length;B++)Df(d[B]);for(var G=0;G<d.length;G++)hs(d[G])}(y)})}function La(a){var d=a.cm,y=d.display;(function gy(a){var d=a.display;!d.scrollbarsClipped&&d.scroller.offsetWidth&&(d.nativeBarWidth=d.scroller.offsetWidth-d.scroller.clientWidth,d.heightForcer.style.height=wo(a)+"px",d.sizer.style.marginBottom=-d.nativeBarWidth+"px",d.sizer.style.borderRightWidth=wo(a)+"px",d.scrollbarsClipped=!0)})(d),a.updateMaxLine&&yu(d),a.mustUpdate=a.viewChanged||a.forceUpdate||null!=a.scrollTop||a.scrollToPos&&(a.scrollToPos.from.line<y.viewFrom||a.scrollToPos.to.line>=y.viewTo)||y.maxLineChanged&&d.options.lineWrapping,a.update=a.mustUpdate&&new Ch(d,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function _h(a){a.updatedDisplay=a.mustUpdate&&Cl(a.cm,a.update)}function Su(a){var d=a.cm,y=d.display;a.updatedDisplay&&tl(d),a.barMeasure=hn(d),y.maxLineChanged&&!d.options.lineWrapping&&(a.adjustWidthTo=Rs(d,y.maxLine,y.maxLine.text.length).left+3,d.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(y.scroller.clientWidth,y.sizer.offsetLeft+a.adjustWidthTo+wo(d)+d.display.barWidth),a.maxScrollLeft=Math.max(0,y.sizer.offsetLeft+a.adjustWidthTo-xr(d))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=y.input.prepareSelection())}function Df(a){var d=a.cm;null!=a.adjustWidthTo&&(d.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<d.doc.scrollLeft&&qa(d,Math.min(d.display.scroller.scrollLeft,a.maxScrollLeft),!0),d.display.maxLineChanged=!1);var y=a.focus&&a.focus==ht(qt(d));a.preparedSelection&&d.display.input.showSelection(a.preparedSelection,y),(a.updatedDisplay||a.startHeight!=d.doc.height)&&_l(d,a.barMeasure),a.updatedDisplay&&xh(d,a.barMeasure),a.selectionChanged&&sa(d),d.state.focused&&a.updateInput&&d.display.input.reset(a.typing),y&&gc(a.cm)}function hs(a){var d=a.cm,y=d.display,v=d.doc;a.updatedDisplay&&Zl(d,a.update),null!=y.wheelStartX&&(null!=a.scrollTop||null!=a.scrollLeft||a.scrollToPos)&&(y.wheelStartX=y.wheelStartY=null),null!=a.scrollTop&&hd(d,a.scrollTop,a.forceScroll),null!=a.scrollLeft&&qa(d,a.scrollLeft,!0,!0),a.scrollToPos&&function mc(a,d){if(!Zi(a,"scrollCursorIntoView")){var y=a.display,v=y.sizer.getBoundingClientRect(),b=null,B=y.wrapper.ownerDocument;if(d.top+v.top<0?b=!0:d.bottom+v.top>(B.defaultView.innerHeight||B.documentElement.clientHeight)&&(b=!1),null!=b&&!Q){var G=De("div","\u200b",null,"position: absolute;\n                         top: "+(d.top-y.viewOffset-us(a.display))+"px;\n                         height: "+(d.bottom-d.top+wo(a)+y.barHeight)+"px;\n                         left: "+d.left+"px; width: "+Math.max(2,d.right-d.left)+"px;");a.display.lineSpace.appendChild(G),G.scrollIntoView(b),a.display.lineSpace.removeChild(G)}}}(d,function wh(a,d,y,v){var b;null==v&&(v=0),!a.options.lineWrapping&&d==y&&(y="before"==d.sticky?Tt(d.line,d.ch+1,"before"):d,d=d.ch?Tt(d.line,"before"==d.sticky?d.ch-1:d.ch,"after"):d);for(var B=0;B<5;B++){var G=!1,X=ds(a,d),ee=y&&y!=d?ds(a,y):X,ce=Gi(a,b={left:Math.min(X.left,ee.left),top:Math.min(X.top,ee.top)-v,right:Math.max(X.left,ee.left),bottom:Math.max(X.bottom,ee.bottom)+v}),Ee=a.doc.scrollTop,Le=a.doc.scrollLeft;if(null!=ce.scrollTop&&(ur(a,ce.scrollTop),Math.abs(a.doc.scrollTop-Ee)>1&&(G=!0)),null!=ce.scrollLeft&&(qa(a,ce.scrollLeft),Math.abs(a.doc.scrollLeft-Le)>1&&(G=!0)),!G)break}return b}(d,rt(v,a.scrollToPos.from),rt(v,a.scrollToPos.to),a.scrollToPos.margin));var B=a.maybeHiddenMarkers,G=a.maybeUnhiddenMarkers;if(B)for(var X=0;X<B.length;++X)B[X].lines.length||gi(B[X],"hide");if(G)for(var ee=0;ee<G.length;++ee)G[ee].lines.length&&gi(G[ee],"unhide");y.wrapper.offsetHeight&&(v.scrollTop=d.display.scroller.scrollTop),a.changeObjs&&gi(d,"changes",d,a.changeObjs),a.update&&a.update.finish()}function ua(a,d){if(a.curOp)return d();oi(a);try{return d()}finally{Kl(a)}}function Co(a,d){return function(){if(a.curOp)return d.apply(a,arguments);oi(a);try{return d.apply(a,arguments)}finally{Kl(a)}}}function Po(a){return function(){if(this.curOp)return a.apply(this,arguments);oi(this);try{return a.apply(this,arguments)}finally{Kl(this)}}}function Lo(a){return function(){var d=this.cm;if(!d||d.curOp)return a.apply(this,arguments);oi(d);try{return a.apply(this,arguments)}finally{Kl(d)}}}function bi(a,d){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(d,It(_i,a))}function _i(a){var d=a.doc;if(!(d.highlightFrontier>=a.display.viewTo)){var y=+new Date+a.options.workTime,v=Bt(a,d.highlightFrontier),b=[];d.iter(v.line,Math.min(d.first+d.size,a.display.viewTo+500),function(B){if(v.line>=a.display.viewFrom){var G=B.styles,X=B.text.length>a.options.maxHighlightLength?ki(d.mode,v.state):null,ee=tn(a,B,v,!0);X&&(v.state=X),B.styles=ee.styles;var ce=B.styleClasses,Ee=ee.classes;Ee?B.styleClasses=Ee:ce&&(B.styleClasses=null);for(var Le=!G||G.length!=B.styles.length||ce!=Ee&&(!ce||!Ee||ce.bgClass!=Ee.bgClass||ce.textClass!=Ee.textClass),Xe=0;!Le&&Xe<G.length;++Xe)Le=G[Xe]!=B.styles[Xe];Le&&b.push(v.line),B.stateAfter=v.save(),v.nextLine()}else B.text.length<=a.options.maxHighlightLength&&Or(a,B.text,v),B.stateAfter=v.line%5==0?v.save():null,v.nextLine();if(+new Date>y)return bi(a,a.options.workDelay),!0}),d.highlightFrontier=v.line,d.modeFrontier=Math.max(d.modeFrontier,v.line),b.length&&ua(a,function(){for(var B=0;B<b.length;B++)so(a,b[B],"text")})}}var Ch=function(a,d,y){var v=a.display;this.viewport=d,this.visible=Zn(v,a.doc,d),this.editorIsHidden=!v.wrapper.offsetWidth,this.wrapperHeight=v.wrapper.clientHeight,this.wrapperWidth=v.wrapper.clientWidth,this.oldDisplayWidth=xr(a),this.force=y,this.dims=xf(a),this.events=[]};function Cl(a,d){var y=a.display,v=a.doc;if(d.editorIsHidden)return yl(a),!1;if(!d.force&&d.visible.from>=y.viewFrom&&d.visible.to<=y.viewTo&&(null==y.updateLineNumbers||y.updateLineNumbers>=y.viewTo)&&y.renderedView==y.view&&0==bh(a))return!1;fm(a)&&(yl(a),d.dims=xf(a));var b=v.first+v.size,B=Math.max(d.visible.from-a.options.viewportMargin,v.first),G=Math.min(b,d.visible.to+a.options.viewportMargin);y.viewFrom<B&&B-y.viewFrom<20&&(B=Math.max(v.first,y.viewFrom)),y.viewTo>G&&y.viewTo-G<20&&(G=Math.min(b,y.viewTo)),Qe&&(B=ad(a.doc,B),G=an(a.doc,G));var X=B!=y.viewFrom||G!=y.viewTo||y.lastWrapHeight!=d.wrapperHeight||y.lastWrapWidth!=d.wrapperWidth;(function Ef(a,d,y){var v=a.display;0==v.view.length||d>=v.viewTo||y<=v.viewFrom?(v.view=Zo(a,d,y),v.viewFrom=d):(v.viewFrom>d?v.view=Zo(a,d,v.viewFrom).concat(v.view):v.viewFrom<d&&(v.view=v.view.slice(oo(a,d))),v.viewFrom=d,v.viewTo<y?v.view=v.view.concat(Zo(a,v.viewTo,y)):v.viewTo>y&&(v.view=v.view.slice(0,oo(a,y)))),v.viewTo=y})(a,B,G),y.viewOffset=Ra(En(a.doc,y.viewFrom)),a.display.mover.style.top=y.viewOffset+"px";var ee=bh(a);if(!X&&0==ee&&!d.force&&y.renderedView==y.view&&(null==y.updateLineNumbers||y.updateLineNumbers>=y.viewTo))return!1;var ce=function my(a){if(a.hasFocus())return null;var d=ht(qt(a));if(!d||!at(a.display.lineDiv,d))return null;var y={activeElt:d};if(window.getSelection){var v=Ht(a).getSelection();v.anchorNode&&v.extend&&at(a.display.lineDiv,v.anchorNode)&&(y.anchorNode=v.anchorNode,y.anchorOffset=v.anchorOffset,y.focusNode=v.focusNode,y.focusOffset=v.focusOffset)}return y}(a);return ee>4&&(y.lineDiv.style.display="none"),function gd(a,d,y){var v=a.display,b=a.options.lineNumbers,B=v.lineDiv,G=B.firstChild;function X(gt){var wt=gt.nextSibling;return R&&ae&&a.display.currentWheelTarget==gt?gt.style.display="none":gt.parentNode.removeChild(gt),wt}for(var ee=v.view,ce=v.viewFrom,Ee=0;Ee<ee.length;Ee++){var Le=ee[Ee];if(!Le.hidden)if(Le.node&&Le.node.parentNode==B){for(;G!=Le.node;)G=X(G);var je=b&&null!=d&&d<=ce&&Le.lineNumber;Le.changes&&(it(Le.changes,"gutter")>-1&&(je=!1),hh(a,Le,ce,y)),je&&(_e(Le.lineNumber),Le.lineNumber.appendChild(document.createTextNode(id(a.options,ce)))),G=Le.node.nextSibling}else{var Xe=gf(a,Le,ce,y);B.insertBefore(Xe,G)}ce+=Le.size}for(;G;)G=X(G)}(a,y.updateLineNumbers,d.dims),ee>4&&(y.lineDiv.style.display=""),y.renderedView=y.view,function Tu(a){if(a&&a.activeElt&&a.activeElt!=ht(a.activeElt.ownerDocument)&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&at(document.body,a.anchorNode)&&at(document.body,a.focusNode))){var d=a.activeElt.ownerDocument,y=d.defaultView.getSelection(),v=d.createRange();v.setEnd(a.anchorNode,a.anchorOffset),v.collapse(!1),y.removeAllRanges(),y.addRange(v),y.extend(a.focusNode,a.focusOffset)}}(ce),_e(y.cursorDiv),_e(y.selectionDiv),y.gutters.style.height=y.sizer.style.minHeight=0,X&&(y.lastWrapHeight=d.wrapperHeight,y.lastWrapWidth=d.wrapperWidth,bi(a,400)),y.updateLineNumbers=null,!0}function Zl(a,d){for(var y=d.viewport,v=!0;;v=!1){if(v&&a.options.lineWrapping&&d.oldDisplayWidth!=xr(a))v&&(d.visible=Zn(a.display,a.doc,y));else if(y&&null!=y.top&&(y={top:Math.min(a.doc.height+cs(a.display)-hc(a),y.top)}),d.visible=Zn(a.display,a.doc,y),d.visible.from>=a.display.viewFrom&&d.visible.to<=a.display.viewTo)break;if(!Cl(a,d))break;tl(a);var b=hn(a);cd(a),_l(a,b),xh(a,b),d.force=!1}d.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(d.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Ja(a,d){var y=new Ch(a,d);if(Cl(a,y)){tl(a),Zl(a,y);var v=hn(a);cd(a),_l(a,v),xh(a,v),y.finish()}}function Sf(a){a.sizer.style.marginLeft=a.gutters.offsetWidth+"px",bo(a,"gutterChanged",a)}function xh(a,d){a.display.sizer.style.minHeight=d.docHeight+"px",a.display.heightForcer.style.top=d.docHeight+"px",a.display.gutters.style.height=d.docHeight+a.display.barHeight+wo(a)+"px"}function Np(a){var d=a.display,y=d.view;if(d.alignWidgets||d.gutters.firstChild&&a.options.fixedGutter){for(var v=ln(d)-d.scroller.scrollLeft+a.doc.scrollLeft,b=d.gutters.offsetWidth,B=v+"px",G=0;G<y.length;G++)if(!y[G].hidden){a.options.fixedGutter&&(y[G].gutter&&(y[G].gutter.style.left=B),y[G].gutterBackground&&(y[G].gutterBackground.style.left=B));var X=y[G].alignable;if(X)for(var ee=0;ee<X.length;ee++)X[ee].style.left=B}a.options.fixedGutter&&(d.gutters.style.left=v+b+"px")}}function fm(a){if(!a.options.lineNumbers)return!1;var d=a.doc,y=id(a.options,d.first+d.size-1),v=a.display;if(y.length!=v.lineNumChars){var b=v.measure.appendChild(De("div",[De("div",y)],"CodeMirror-linenumber CodeMirror-gutter-elt")),B=b.firstChild.offsetWidth,G=b.offsetWidth-B;return v.lineGutter.style.width="",v.lineNumInnerWidth=Math.max(B,v.lineGutter.offsetWidth-G)+1,v.lineNumWidth=v.lineNumInnerWidth+G,v.lineNumChars=v.lineNumInnerWidth?y.length:-1,v.lineGutter.style.width=v.lineNumWidth+"px",Sf(a.display),!0}return!1}function ql(a,d){for(var y=[],v=!1,b=0;b<a.length;b++){var B=a[b],G=null;if("string"!=typeof B&&(G=B.style,B=B.className),"CodeMirror-linenumbers"==B){if(!d)continue;v=!0}y.push({className:B,style:G})}return d&&!v&&y.push({className:"CodeMirror-linenumbers",style:null}),y}function Tf(a){var d=a.gutters,y=a.gutterSpecs;_e(d),a.lineGutter=null;for(var v=0;v<y.length;++v){var b=y[v],B=b.className,G=b.style,X=d.appendChild(De("div",null,"CodeMirror-gutter "+B));G&&(X.style.cssText=G),"CodeMirror-linenumbers"==B&&(a.lineGutter=X,X.style.width=(a.lineNumWidth||1)+"px")}d.style.display=y.length?"":"none",Sf(a)}function Mf(a){Tf(a.display),ao(a),Np(a)}function Eh(a,d,y,v){var b=this;this.input=y,b.scrollbarFiller=De("div",null,"CodeMirror-scrollbar-filler"),b.scrollbarFiller.setAttribute("cm-not-content","true"),b.gutterFiller=De("div",null,"CodeMirror-gutter-filler"),b.gutterFiller.setAttribute("cm-not-content","true"),b.lineDiv=ze("div",null,"CodeMirror-code"),b.selectionDiv=De("div",null,null,"position: relative; z-index: 1"),b.cursorDiv=De("div",null,"CodeMirror-cursors"),b.measure=De("div",null,"CodeMirror-measure"),b.lineMeasure=De("div",null,"CodeMirror-measure"),b.lineSpace=ze("div",[b.measure,b.lineMeasure,b.selectionDiv,b.cursorDiv,b.lineDiv],null,"position: relative; outline: none");var B=ze("div",[b.lineSpace],"CodeMirror-lines");b.mover=De("div",[B],null,"position: relative"),b.sizer=De("div",[b.mover],"CodeMirror-sizer"),b.sizerWidth=null,b.heightForcer=De("div",null,null,"position: absolute; height: "+pt+"px; width: 1px;"),b.gutters=De("div",null,"CodeMirror-gutters"),b.lineGutter=null,b.scroller=De("div",[b.sizer,b.heightForcer,b.gutters],"CodeMirror-scroll"),b.scroller.setAttribute("tabIndex","-1"),b.wrapper=De("div",[b.scrollbarFiller,b.gutterFiller,b.scroller],"CodeMirror"),V&&L>=105&&(b.wrapper.style.clipPath="inset(0px)"),b.wrapper.setAttribute("translate","no"),C&&S<8&&(b.gutters.style.zIndex=-1,b.scroller.style.paddingRight=0),!R&&!(T&&le)&&(b.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(b.wrapper):a(b.wrapper)),b.viewFrom=b.viewTo=d.first,b.reportedViewFrom=b.reportedViewTo=d.first,b.view=[],b.renderedView=null,b.externalMeasured=null,b.viewOffset=0,b.lastWrapHeight=b.lastWrapWidth=0,b.updateLineNumbers=null,b.nativeBarWidth=b.barHeight=b.barWidth=0,b.scrollbarsClipped=!1,b.lineNumWidth=b.lineNumInnerWidth=b.lineNumChars=null,b.alignWidgets=!1,b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.maxLine=null,b.maxLineLength=0,b.maxLineChanged=!1,b.wheelDX=b.wheelDY=b.wheelStartX=b.wheelStartY=null,b.shift=!1,b.selForContextMenu=null,b.activeTouch=null,b.gutterSpecs=ql(v.gutters,v.lineNumbers),Tf(b),y.init(b)}Ch.prototype.signal=function(a,d){Ti(a,d)&&this.events.push(arguments)},Ch.prototype.finish=function(){for(var a=0;a<this.events.length;a++)gi.apply(null,this.events[a])};var md=0,co=null;function es(a){var d=a.wheelDeltaX,y=a.wheelDeltaY;return null==d&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(d=a.detail),null==y&&a.detail&&a.axis==a.VERTICAL_AXIS?y=a.detail:null==y&&(y=a.wheelDelta),{x:d,y}}function hm(a){var d=es(a);return d.x*=co,d.y*=co,d}function vd(a,d){V&&102==L&&(null==a.display.chromeScrollHack?a.display.sizer.style.pointerEvents="none":clearTimeout(a.display.chromeScrollHack),a.display.chromeScrollHack=setTimeout(function(){a.display.chromeScrollHack=null,a.display.sizer.style.pointerEvents=""},100));var y=es(d),v=y.x,b=y.y,B=co;0===d.deltaMode&&(v=d.deltaX,b=d.deltaY,B=1);var G=a.display,X=G.scroller,ce=X.scrollHeight>X.clientHeight;if(v&&X.scrollWidth>X.clientWidth||b&&ce){if(b&&ae&&R)e:for(var Ee=d.target,Le=G.view;Ee!=X;Ee=Ee.parentNode)for(var Xe=0;Xe<Le.length;Xe++)if(Le[Xe].node==Ee){a.display.currentWheelTarget=Ee;break e}if(v&&!T&&!k&&null!=B)return b&&ce&&ur(a,Math.max(0,X.scrollTop+b*B)),qa(a,Math.max(0,X.scrollLeft+v*B)),(!b||b&&ce)&&Vi(d),void(G.wheelStartX=null);if(b&&null!=B){var je=b*B,gt=a.doc.scrollTop,wt=gt+G.wrapper.clientHeight;je<0?gt=Math.max(0,gt+je-50):wt=Math.min(a.doc.height,wt+je+50),Ja(a,{top:gt,bottom:wt})}md<20&&0!==d.deltaMode&&(null==G.wheelStartX?(G.wheelStartX=X.scrollLeft,G.wheelStartY=X.scrollTop,G.wheelDX=v,G.wheelDY=b,setTimeout(function(){if(null!=G.wheelStartX){var Ut=X.scrollLeft-G.wheelStartX,Wt=X.scrollTop-G.wheelStartY,Jt=Wt&&G.wheelDY&&Wt/G.wheelDY||Ut&&G.wheelDX&&Ut/G.wheelDX;G.wheelStartX=G.wheelStartY=null,Jt&&(co=(co*md+Jt)/(md+1),++md)}},200)):(G.wheelDX+=v,G.wheelDY+=b))}}C?co=-.53:T?co=15:V?co=-.7:H&&(co=-1/3);var ba=function(a,d){this.ranges=a,this.primIndex=d};ba.prototype.primary=function(){return this.ranges[this.primIndex]},ba.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var d=0;d<this.ranges.length;d++){var y=this.ranges[d],v=a.ranges[d];if(!od(y.anchor,v.anchor)||!od(y.head,v.head))return!1}return!0},ba.prototype.deepCopy=function(){for(var a=[],d=0;d<this.ranges.length;d++)a[d]=new Wr(As(this.ranges[d].anchor),As(this.ranges[d].head));return new ba(a,this.primIndex)},ba.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},ba.prototype.contains=function(a,d){d||(d=a);for(var y=0;y<this.ranges.length;y++){var v=this.ranges[y];if(Yn(d,v.from())>=0&&Yn(a,v.to())<=0)return y}return-1};var Wr=function(a,d){this.anchor=a,this.head=d};function ca(a,d,y){var v=a&&a.options.selectionsMayTouch,b=d[y];d.sort(function(Xe,je){return Yn(Xe.from(),je.from())}),y=it(d,b);for(var B=1;B<d.length;B++){var G=d[B],X=d[B-1],ee=Yn(X.to(),G.from());if(v&&!G.empty()?ee>0:ee>=0){var ce=Re(X.from(),G.from()),Ee=Oe(X.to(),G.to()),Le=X.empty()?G.from()==G.head:X.from()==X.head;B<=y&&--y,d.splice(--B,2,new Wr(Le?Ee:ce,Le?ce:Ee))}}return new ba(d,y)}function wa(a,d){return new ba([new Wr(a,d||a)],0)}function Fo(a){return a.text?Tt(a.from.line+a.text.length-1,_n(a.text).length+(1==a.text.length?a.from.ch:0)):a.to}function ps(a,d){if(Yn(a,d.from)<0)return a;if(Yn(a,d.to)<=0)return Fo(d);var y=a.line+d.text.length-(d.to.line-d.from.line)-1,v=a.ch;return a.line==d.to.line&&(v+=Fo(d).ch-d.to.ch),Tt(y,v)}function Bo(a,d){for(var y=[],v=0;v<a.sel.ranges.length;v++){var b=a.sel.ranges[v];y.push(new Wr(ps(b.anchor,d),ps(b.head,d)))}return ca(a.cm,y,a.sel.primIndex)}function xl(a,d,y){return a.line==d.line?Tt(y.line,a.ch-d.ch+y.ch):Tt(y.line+(a.line-d.line),a.ch)}function vc(a){a.doc.mode=Oa(a.options,a.doc.modeOption),If(a)}function If(a){a.doc.iter(function(d){d.stateAfter&&(d.stateAfter=null),d.styles&&(d.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,bi(a,100),a.state.modeGen++,a.curOp&&ao(a)}function yd(a,d){return 0==d.from.ch&&0==d.to.ch&&""==_n(d.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function yc(a,d,y,v){function b(Jt){return y?y[Jt]:null}function B(Jt,Kt,Yt){(function Ko(a,d,y,v){a.text=d,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),Ji(a),Js(a,y);var b=v?v(a):1;b!=a.height&&Ro(a,b)})(Jt,Kt,Yt,v),bo(Jt,"change",Jt,d)}function G(Jt,Kt){for(var Yt=[],kn=Jt;kn<Kt;++kn)Yt.push(new pl(ce[kn],b(kn),v));return Yt}var X=d.from,ee=d.to,ce=d.text,Ee=En(a,X.line),Le=En(a,ee.line),Xe=_n(ce),je=b(ce.length-1),gt=ee.line-X.line;if(d.full)a.insert(0,G(0,ce.length)),a.remove(ce.length,a.size-ce.length);else if(yd(a,d)){var wt=G(0,ce.length-1);B(Le,Le.text,je),gt&&a.remove(X.line,gt),wt.length&&a.insert(X.line,wt)}else if(Ee==Le)if(1==ce.length)B(Ee,Ee.text.slice(0,X.ch)+Xe+Ee.text.slice(ee.ch),je);else{var Ut=G(1,ce.length-1);Ut.push(new pl(Xe+Ee.text.slice(ee.ch),je,v)),B(Ee,Ee.text.slice(0,X.ch)+ce[0],b(0)),a.insert(X.line+1,Ut)}else if(1==ce.length)B(Ee,Ee.text.slice(0,X.ch)+ce[0]+Le.text.slice(ee.ch),b(0)),a.remove(X.line+1,gt);else{B(Ee,Ee.text.slice(0,X.ch)+ce[0],b(0)),B(Le,Xe+Le.text.slice(ee.ch),je);var Wt=G(1,ce.length-1);gt>1&&a.remove(X.line+1,gt-1),a.insert(X.line+1,Wt)}bo(a,"change",a,d)}function gs(a,d,y){!function v(b,B,G){if(b.linked)for(var X=0;X<b.linked.length;++X){var ee=b.linked[X];if(ee.doc!=B){var ce=G&&ee.sharedHist;y&&!ce||(d(ee.doc,ce),v(ee.doc,b,ce))}}}(a,null,!0)}function bc(a,d){if(d.cm)throw new Error("This document is already in use.");a.doc=d,d.cm=a,Br(a),vc(a),Rp(a),a.options.direction=d.direction,a.options.lineWrapping||yu(a),a.options.mode=d.modeOption,ao(a)}function Rp(a){("rtl"==a.doc.direction?Ke:me)(a.display.lineDiv,"CodeMirror-rtl")}function wc(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function Mu(a,d){var y={from:As(d.from),to:Fo(d),text:li(a,d.from,d.to)};return Lp(a,y,d.from.line,d.to.line+1),gs(a,function(v){return Lp(v,y,d.from.line,d.to.line+1)},!0),y}function El(a){for(;a.length&&_n(a).ranges;)a.pop()}function pm(a,d,y,v){var b=a.history;b.undone.length=0;var G,X,B=+new Date;if((b.lastOp==v||b.lastOrigin==d.origin&&d.origin&&("+"==d.origin.charAt(0)&&b.lastModTime>B-(a.cm?a.cm.options.historyEventDelay:500)||"*"==d.origin.charAt(0)))&&(G=function kp(a,d){return d?(El(a.done),_n(a.done)):a.done.length&&!_n(a.done).ranges?_n(a.done):a.done.length>1&&!a.done[a.done.length-2].ranges?(a.done.pop(),_n(a.done)):void 0}(b,b.lastOp==v)))X=_n(G.changes),0==Yn(d.from,d.to)&&0==Yn(d.from,X.to)?X.to=Fo(d):G.changes.push(Mu(a,d));else{var ee=_n(b.done);for((!ee||!ee.ranges)&&bd(a.sel,b.done),G={changes:[Mu(a,d)],generation:b.generation},b.done.push(G);b.done.length>b.undoDepth;)b.done.shift(),b.done[0].ranges||b.done.shift()}b.done.push(y),b.generation=++b.maxGeneration,b.lastModTime=b.lastSelTime=B,b.lastOp=b.lastSelOp=v,b.lastOrigin=b.lastSelOrigin=d.origin,X||gi(a,"historyAdded")}function Pp(a,d,y,v){var b=a.history,B=v&&v.origin;y==b.lastSelOp||B&&b.lastSelOrigin==B&&(b.lastModTime==b.lastSelTime&&b.lastOrigin==B||function vy(a,d,y,v){var b=d.charAt(0);return"*"==b||"+"==b&&y.ranges.length==v.ranges.length&&y.somethingSelected()==v.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}(a,B,_n(b.done),d))?b.done[b.done.length-1]=d:bd(d,b.done),b.lastSelTime=+new Date,b.lastSelOrigin=B,b.lastSelOp=y,v&&!1!==v.clearRedo&&El(b.undone)}function bd(a,d){var y=_n(d);y&&y.ranges&&y.equals(a)||d.push(a)}function Lp(a,d,y,v){var b=d["spans_"+a.id],B=0;a.iter(Math.max(a.first,y),Math.min(a.first+a.size,v),function(G){G.markedSpans&&((b||(b=d["spans_"+a.id]={}))[B]=G.markedSpans),++B})}function gm(a){if(!a)return null;for(var d,y=0;y<a.length;++y)a[y].marker.explicitlyCleared?d||(d=a.slice(0,y)):d&&d.push(a[y]);return d?d.length?d:null:a}function Sh(a,d){var y=function _a(a,d){var y=d["spans_"+a.id];if(!y)return null;for(var v=[],b=0;b<d.text.length;++b)v.push(gm(y[b]));return v}(a,d),v=Qs(a,d);if(!y)return v;if(!v)return y;for(var b=0;b<y.length;++b){var B=y[b],G=v[b];if(B&&G)e:for(var X=0;X<G.length;++X){for(var ee=G[X],ce=0;ce<B.length;++ce)if(B[ce].marker==ee.marker)continue e;B.push(ee)}else G&&(y[b]=G)}return y}function _c(a,d,y){for(var v=[],b=0;b<a.length;++b){var B=a[b];if(B.ranges)v.push(y?ba.prototype.deepCopy.call(B):B);else{var G=B.changes,X=[];v.push({changes:X});for(var ee=0;ee<G.length;++ee){var ce=G[ee],Ee=void 0;if(X.push({from:ce.from,to:ce.to,text:ce.text}),d)for(var Le in ce)(Ee=Le.match(/^spans_(\d+)$/))&&it(d,Number(Ee[1]))>-1&&(_n(X)[Le]=ce[Le],delete ce[Le])}}}return v}function Af(a,d,y,v){if(v){var b=a.anchor;if(y){var B=Yn(d,b)<0;B!=Yn(y,b)<0?(b=d,d=y):B!=Yn(d,y)<0&&(d=y)}return new Wr(b,d)}return new Wr(y||d,d)}function wd(a,d,y,v,b){null==b&&(b=a.cm&&(a.cm.display.shift||a.extend)),xo(a,new ba([Af(a.sel.primary(),d,y,b)],0),v)}function Th(a,d,y){for(var v=[],b=a.cm&&(a.cm.display.shift||a.extend),B=0;B<a.sel.ranges.length;B++)v[B]=Af(a.sel.ranges[B],d[B],null,b);xo(a,ca(a.cm,v,a.sel.primIndex),y)}function Mh(a,d,y,v){var b=a.sel.ranges.slice(0);b[d]=y,xo(a,ca(a.cm,b,a.sel.primIndex),v)}function _d(a,d,y,v){xo(a,wa(d,y),v)}function Fa(a,d,y){var v=a.history.done,b=_n(v);b&&b.ranges?(v[v.length-1]=d,xd(a,d,y)):xo(a,d,y)}function xo(a,d,y){xd(a,d,y),Pp(a,a.sel,a.cm?a.cm.curOp.id:NaN,y)}function xd(a,d,y){(Ti(a,"beforeSelectionChange")||a.cm&&Ti(a.cm,"beforeSelectionChange"))&&(d=function Cd(a,d,y){var v={ranges:d.ranges,update:function(b){this.ranges=[];for(var B=0;B<b.length;B++)this.ranges[B]=new Wr(rt(a,b[B].anchor),rt(a,b[B].head))},origin:y&&y.origin};return gi(a,"beforeSelectionChange",a,v),a.cm&&gi(a.cm,"beforeSelectionChange",a.cm,v),v.ranges!=d.ranges?ca(a.cm,v.ranges,v.ranges.length-1):d}(a,d,y));var v=y&&y.bias||(Yn(d.primary().head,a.sel.primary().head)<0?-1:1);fi(a,Ed(a,d,v,!0)),(!y||!1!==y.scroll)&&a.cm&&"nocursor"!=a.cm.getOption("readOnly")&&Za(a.cm)}function fi(a,d){d.equals(a.sel)||(a.sel=d,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,mu(a.cm)),bo(a,"cursorActivity",a))}function Ih(a){fi(a,Ed(a,a.sel,null,!1))}function Ed(a,d,y,v){for(var b,B=0;B<d.ranges.length;B++){var G=d.ranges[B],X=d.ranges.length==a.sel.ranges.length&&a.sel.ranges[B],ee=Ls(a,G.anchor,X&&X.anchor,y,v),ce=G.head==G.anchor?ee:Ls(a,G.head,X&&X.head,y,v);(b||ee!=G.anchor||ce!=G.head)&&(b||(b=d.ranges.slice(0,B)),b[B]=new Wr(ee,ce))}return b?ca(a.cm,b,d.primIndex):d}function ji(a,d,y,v,b){var B=En(a,d.line);if(B.markedSpans)for(var G=0;G<B.markedSpans.length;++G){var X=B.markedSpans[G],ee=X.marker,ce="selectLeft"in ee?!ee.selectLeft:ee.inclusiveLeft,Ee="selectRight"in ee?!ee.selectRight:ee.inclusiveRight;if((null==X.from||(ce?X.from<=d.ch:X.from<d.ch))&&(null==X.to||(Ee?X.to>=d.ch:X.to>d.ch))){if(b&&(gi(ee,"beforeCursorEnter"),ee.explicitlyCleared)){if(B.markedSpans){--G;continue}break}if(!ee.atomic)continue;if(y){var Le=ee.find(v<0?1:-1),Xe=void 0;if((v<0?Ee:ce)&&(Le=Of(a,Le,-v,Le&&Le.line==d.line?B:null)),Le&&Le.line==d.line&&(Xe=Yn(Le,y))&&(v<0?Xe<0:Xe>0))return ji(a,Le,d,v,b)}var je=ee.find(v<0?-1:1);return(v<0?ce:Ee)&&(je=Of(a,je,v,je.line==d.line?B:null)),je?ji(a,je,d,v,b):null}}return d}function Ls(a,d,y,v,b){var B=v||1;return ji(a,d,y,B,b)||!b&&ji(a,d,y,B,!0)||ji(a,d,y,-B,b)||!b&&ji(a,d,y,-B,!0)||(a.cantEdit=!0,Tt(a.first,0))}function Of(a,d,y,v){return y<0&&0==d.ch?d.line>a.first?rt(a,Tt(d.line-1)):null:y>0&&d.ch==(v||En(a,d.line)).text.length?d.line<a.first+a.size-1?Tt(d.line+1,0):null:new Tt(d.line,d.ch+y)}function Ql(a){a.setSelection(Tt(a.firstLine(),0),Tt(a.lastLine()),St)}function Ba(a,d,y){var v={canceled:!1,from:d.from,to:d.to,text:d.text,origin:d.origin,cancel:function(){return v.canceled=!0}};return y&&(v.update=function(b,B,G,X){b&&(v.from=rt(a,b)),B&&(v.to=rt(a,B)),G&&(v.text=G),void 0!==X&&(v.origin=X)}),gi(a,"beforeChange",a,v),a.cm&&gi(a.cm,"beforeChange",a.cm,v),v.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:v.from,to:v.to,text:v.text,origin:v.origin}}function Cc(a,d,y){if(a.cm){if(!a.cm.curOp)return Co(a.cm,Cc)(a,d,y);if(a.cm.state.suppressEdits)return}if(!(Ti(a,"beforeChange")||a.cm&&Ti(a.cm,"beforeChange"))||(d=Ba(a,d,!0))){var v=gr&&!y&&function vo(a,d,y){var v=null;if(a.iter(d.line,y.line+1,function(je){if(je.markedSpans)for(var gt=0;gt<je.markedSpans.length;++gt){var wt=je.markedSpans[gt].marker;wt.readOnly&&(!v||-1==it(v,wt))&&(v||(v=[])).push(wt)}}),!v)return null;for(var b=[{from:d,to:y}],B=0;B<v.length;++B)for(var G=v[B],X=G.find(0),ee=0;ee<b.length;++ee){var ce=b[ee];if(!(Yn(ce.to,X.from)<0||Yn(ce.from,X.to)>0)){var Ee=[ee,1],Le=Yn(ce.from,X.from),Xe=Yn(ce.to,X.to);(Le<0||!G.inclusiveLeft&&!Le)&&Ee.push({from:ce.from,to:X.from}),(Xe>0||!G.inclusiveRight&&!Xe)&&Ee.push({from:X.to,to:ce.to}),b.splice.apply(b,Ee),ee+=Ee.length-3}}return b}(a,d.from,d.to);if(v)for(var b=v.length-1;b>=0;--b)Dd(a,{from:v[b].from,to:v[b].to,text:b?[""]:d.text,origin:d.origin});else Dd(a,d)}}function Dd(a,d){if(1!=d.text.length||""!=d.text[0]||0!=Yn(d.from,d.to)){var y=Bo(a,d);pm(a,d,y,a.cm?a.cm.curOp.id:NaN),Ir(a,d,y,Qs(a,d));var v=[];gs(a,function(b,B){!B&&-1==it(v,b.history)&&(Fp(b.history,d),v.push(b.history)),Ir(b,d,null,Qs(b,d))})}}function Sd(a,d,y){var v=a.cm&&a.cm.state.suppressEdits;if(!v||y){for(var B,b=a.history,G=a.sel,X="undo"==d?b.done:b.undone,ee="undo"==d?b.undone:b.done,ce=0;ce<X.length&&(B=X[ce],!(y?B.ranges&&!B.equals(a.sel):!B.ranges));ce++);if(ce!=X.length){for(b.lastOrigin=b.lastSelOrigin=null;;){if(!(B=X.pop()).ranges){if(v)return void X.push(B);break}if(bd(B,ee),y&&!B.equals(a.sel))return void xo(a,B,{clearRedo:!1});G=B}var Ee=[];bd(G,ee),ee.push({changes:Ee,generation:b.generation}),b.generation=B.generation||++b.maxGeneration;for(var Le=Ti(a,"beforeChange")||a.cm&&Ti(a.cm,"beforeChange"),Xe=function(wt){var Ut=B.changes[wt];if(Ut.origin=d,Le&&!Ba(a,Ut,!1))return X.length=0,{};Ee.push(Mu(a,Ut));var Wt=wt?Bo(a,Ut):_n(X);Ir(a,Ut,Wt,Sh(a,Ut)),!wt&&a.cm&&a.cm.scrollIntoView({from:Ut.from,to:Fo(Ut)});var Jt=[];gs(a,function(Kt,Yt){!Yt&&-1==it(Jt,Kt.history)&&(Fp(Kt.history,Ut),Jt.push(Kt.history)),Ir(Kt,Ut,null,Sh(Kt,Ut))})},je=B.changes.length-1;je>=0;--je){var gt=Xe(je);if(gt)return gt.v}}}}function rl(a,d){if(0!=d&&(a.first+=d,a.sel=new ba(zn(a.sel.ranges,function(b){return new Wr(Tt(b.anchor.line+d,b.anchor.ch),Tt(b.head.line+d,b.head.ch))}),a.sel.primIndex),a.cm)){ao(a.cm,a.first,a.first-d,d);for(var y=a.cm.display,v=y.viewFrom;v<y.viewTo;v++)so(a.cm,v,"gutter")}}function Ir(a,d,y,v){if(a.cm&&!a.cm.curOp)return Co(a.cm,Ir)(a,d,y,v);if(d.to.line<a.first)rl(a,d.text.length-1-(d.to.line-d.from.line));else if(!(d.from.line>a.lastLine())){if(d.from.line<a.first){var b=d.text.length-1-(a.first-d.from.line);rl(a,b),d={from:Tt(a.first,0),to:Tt(d.to.line+b,d.to.ch),text:[_n(d.text)],origin:d.origin}}var B=a.lastLine();d.to.line>B&&(d={from:d.from,to:Tt(B,En(a,B).text.length),text:[d.text[0]],origin:d.origin}),d.removed=li(a,d.from,d.to),y||(y=Bo(a,d)),a.cm?function mm(a,d,y){var v=a.doc,b=a.display,B=d.from,G=d.to,X=!1,ee=B.line;a.options.lineWrapping||(ee=Pr(tr(En(v,B.line))),v.iter(ee,G.line+1,function(je){if(je==b.maxLine)return X=!0,!0})),v.sel.contains(d.from,d.to)>-1&&mu(a),yc(v,d,y,aa(a)),a.options.lineWrapping||(v.iter(ee,B.line+d.text.length,function(je){var gt=ac(je);gt>b.maxLineLength&&(b.maxLine=je,b.maxLineLength=gt,b.maxLineChanged=!0,X=!1)}),X&&(a.curOp.updateMaxLine=!0)),function ui(a,d){if(a.modeFrontier=Math.min(a.modeFrontier,d),!(a.highlightFrontier<d-10)){for(var y=a.first,v=d-1;v>y;v--){var b=En(a,v).stateAfter;if(b&&(!(b instanceof gn)||v+b.lookAhead<d)){y=v+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,y)}}(v,B.line),bi(a,400);var ce=d.text.length-(G.line-B.line)-1;d.full?ao(a):B.line!=G.line||1!=d.text.length||yd(a.doc,d)?ao(a,B.line,G.line+1,ce):so(a,B.line,"text");var Ee=Ti(a,"changes"),Le=Ti(a,"change");if(Le||Ee){var Xe={from:B,to:G,text:d.text,removed:d.removed,origin:d.origin};Le&&bo(a,"change",a,Xe),Ee&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(Xe)}a.display.selForContextMenu=null}(a.cm,d,v):yc(a,d,v),xd(a,y,St),a.cantEdit&&Ls(a,Tt(a.firstLine(),0))&&(a.cantEdit=!1)}}function Jl(a,d,y,v,b){var B;v||(v=y),Yn(v,y)<0&&(y=(B=[v,y])[0],v=B[1]),"string"==typeof d&&(d=a.splitLines(d)),Cc(a,{from:y,to:v,text:d,origin:b})}function xc(a,d,y,v){y<a.line?a.line+=v:d<a.line&&(a.line=d,a.ch=0)}function Ah(a,d,y,v){for(var b=0;b<a.length;++b){var B=a[b],G=!0;if(B.ranges){B.copied||((B=a[b]=B.deepCopy()).copied=!0);for(var X=0;X<B.ranges.length;X++)xc(B.ranges[X].anchor,d,y,v),xc(B.ranges[X].head,d,y,v)}else{for(var ee=0;ee<B.changes.length;++ee){var ce=B.changes[ee];if(y<ce.from.line)ce.from=Tt(ce.from.line+v,ce.from.ch),ce.to=Tt(ce.to.line+v,ce.to.ch);else if(d<=ce.to.line){G=!1;break}}G||(a.splice(0,b+1),b=0)}}}function Fp(a,d){var y=d.from.line,v=d.to.line,b=d.text.length-(v-y)-1;Ah(a.done,y,v,b),Ah(a.undone,y,v,b)}function Bn(a,d,y,v){var b=d,B=d;return"number"==typeof d?B=En(a,Ve(a,d)):b=Pr(d),null==b?null:(v(B,b)&&a.cm&&so(a.cm,b,y),B)}function Iu(a){this.lines=a,this.parent=null;for(var d=0,y=0;y<a.length;++y)a[y].parent=this,d+=a[y].height;this.height=d}function Au(a){this.children=a;for(var d=0,y=0,v=0;v<a.length;++v){var b=a[v];d+=b.chunkSize(),y+=b.height,b.parent=this}this.size=d,this.height=y,this.parent=null}Wr.prototype.from=function(){return Re(this.anchor,this.head)},Wr.prototype.to=function(){return Oe(this.anchor,this.head)},Wr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Iu.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,d){for(var y=a,v=a+d;y<v;++y){var b=this.lines[y];this.height-=b.height,ka(b),bo(b,"delete")}this.lines.splice(a,d)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,d,y){this.height+=y,this.lines=this.lines.slice(0,a).concat(d).concat(this.lines.slice(a));for(var v=0;v<d.length;++v)d[v].parent=this},iterN:function(a,d,y){for(var v=a+d;a<v;++a)if(y(this.lines[a]))return!0}},Au.prototype={chunkSize:function(){return this.size},removeInner:function(a,d){this.size-=d;for(var y=0;y<this.children.length;++y){var v=this.children[y],b=v.chunkSize();if(a<b){var B=Math.min(d,b-a),G=v.height;if(v.removeInner(a,B),this.height-=G-v.height,b==B&&(this.children.splice(y--,1),v.parent=null),0==(d-=B))break;a=0}else a-=b}if(this.size-d<25&&(this.children.length>1||!(this.children[0]instanceof Iu))){var X=[];this.collapse(X),this.children=[new Iu(X)],this.children[0].parent=this}},collapse:function(a){for(var d=0;d<this.children.length;++d)this.children[d].collapse(a)},insertInner:function(a,d,y){this.size+=d.length,this.height+=y;for(var v=0;v<this.children.length;++v){var b=this.children[v],B=b.chunkSize();if(a<=B){if(b.insertInner(a,d,y),b.lines&&b.lines.length>50){for(var G=b.lines.length%25+25,X=G;X<b.lines.length;){var ee=new Iu(b.lines.slice(X,X+=25));b.height-=ee.height,this.children.splice(++v,0,ee),ee.parent=this}b.lines=b.lines.slice(0,G),this.maybeSpill()}break}a-=B}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var y=new Au(a.children.splice(a.children.length-5,5));if(a.parent){a.size-=y.size,a.height-=y.height;var b=it(a.parent.children,a);a.parent.children.splice(b+1,0,y)}else{var v=new Au(a.children);v.parent=a,a.children=[v,y],a=v}y.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,d,y){for(var v=0;v<this.children.length;++v){var b=this.children[v],B=b.chunkSize();if(a<B){var G=Math.min(d,B-a);if(b.iterN(a,G,y))return!0;if(0==(d-=G))break;a=0}else a-=B}}};var eu=function(a,d,y){if(y)for(var v in y)y.hasOwnProperty(v)&&(this[v]=y[v]);this.doc=a,this.node=d};function Vo(a,d,y){Ra(d)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&fs(a,y)}eu.prototype.clear=function(){var a=this.doc.cm,d=this.line.widgets,y=this.line,v=Pr(y);if(null!=v&&d){for(var b=0;b<d.length;++b)d[b]==this&&d.splice(b--,1);d.length||(y.widgets=null);var B=fc(this);Ro(y,Math.max(0,y.height-B)),a&&(ua(a,function(){Vo(a,y,-B),so(a,v,"widget")}),bo(a,"lineWidgetCleared",a,this,v))}},eu.prototype.changed=function(){var a=this,d=this.height,y=this.doc.cm,v=this.line;this.height=null;var b=fc(this)-d;b&&(hl(this.doc,v)||Ro(v,v.height+b),y&&ua(y,function(){y.curOp.forceUpdate=!0,Vo(y,v,b),bo(y,"lineWidgetChanged",y,a,Pr(v))}))},Ma(eu);var Td=0,Ho=function(a,d){this.lines=[],this.type=d,this.doc=a,this.id=++Td};function Ec(a,d,y,v,b){if(v&&v.shared)return function vm(a,d,y,v,b){(v=mn(v)).shared=!1;var B=[Ec(a,d,y,v,b)],G=B[0],X=v.widgetNode;return gs(a,function(ee){X&&(v.widgetNode=X.cloneNode(!0)),B.push(Ec(ee,rt(ee,d),rt(ee,y),v,b));for(var ce=0;ce<ee.linked.length;++ce)if(ee.linked[ce].isParent)return;G=_n(B)}),new Md(B,G)}(a,d,y,v,b);if(a.cm&&!a.cm.curOp)return Co(a.cm,Ec)(a,d,y,v,b);var B=new Ho(a,b),G=Yn(d,y);if(v&&mn(v,B,!1),G>0||0==G&&!1!==B.clearWhenEmpty)return B;if(B.replacedWith&&(B.collapsed=!0,B.widgetNode=ze("span",[B.replacedWith],"CodeMirror-widget"),v.handleMouseEvents||B.widgetNode.setAttribute("cm-ignore-events","true"),v.insertLeft&&(B.widgetNode.insertLeft=!0)),B.collapsed){if(io(a,d.line,d,y,B)||d.line!=y.line&&io(a,y.line,d,y,B))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function vn(){Qe=!0}()}B.addToHistory&&pm(a,{from:d,to:y,origin:"markText"},a.sel,NaN);var ce,X=d.line,ee=a.cm;if(a.iter(X,y.line+1,function(Le){ee&&B.collapsed&&!ee.options.lineWrapping&&tr(Le)==ee.display.maxLine&&(ce=!0),B.collapsed&&X!=d.line&&Ro(Le,0),function mo(a,d,y){var v=y&&window.WeakSet&&(y.markedSpans||(y.markedSpans=new WeakSet));v&&a.markedSpans&&v.has(a.markedSpans)?a.markedSpans.push(d):(a.markedSpans=a.markedSpans?a.markedSpans.concat([d]):[d],v&&v.add(a.markedSpans)),d.marker.attachLine(a)}(Le,new Gn(B,X==d.line?d.ch:null,X==y.line?y.ch:null),a.cm&&a.cm.curOp),++X}),B.collapsed&&a.iter(d.line,y.line+1,function(Le){hl(a,Le)&&Ro(Le,0)}),B.clearOnEnter&&xn(B,"beforeCursorEnter",function(){return B.clear()}),B.readOnly&&(function Fr(){gr=!0}(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),B.collapsed&&(B.id=++Td,B.atomic=!0),ee){if(ce&&(ee.curOp.updateMaxLine=!0),B.collapsed)ao(ee,d.line,y.line+1);else if(B.className||B.startStyle||B.endStyle||B.css||B.attributes||B.title)for(var Ee=d.line;Ee<=y.line;Ee++)so(ee,Ee,"text");B.atomic&&Ih(ee.doc),bo(ee,"markerAdded",ee,B)}return B}Ho.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,d=a&&!a.curOp;if(d&&oi(a),Ti(this,"clear")){var y=this.find();y&&bo(this,"clear",y.from,y.to)}for(var v=null,b=null,B=0;B<this.lines.length;++B){var G=this.lines[B],X=ci(G.markedSpans,this);a&&!this.collapsed?so(a,Pr(G),"text"):a&&(null!=X.to&&(b=Pr(G)),null!=X.from&&(v=Pr(G))),G.markedSpans=Hi(G.markedSpans,X),null==X.from&&this.collapsed&&!hl(this.doc,G)&&a&&Ro(G,Jr(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var ee=0;ee<this.lines.length;++ee){var ce=tr(this.lines[ee]),Ee=ac(ce);Ee>a.display.maxLineLength&&(a.display.maxLine=ce,a.display.maxLineLength=Ee,a.display.maxLineChanged=!0)}null!=v&&a&&this.collapsed&&ao(a,v,b+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Ih(a.doc)),a&&bo(a,"markerCleared",a,this,v,b),d&&Kl(a),this.parent&&this.parent.clear()}},Ho.prototype.find=function(a,d){null==a&&"bookmark"==this.type&&(a=1);for(var y,v,b=0;b<this.lines.length;++b){var B=this.lines[b],G=ci(B.markedSpans,this);if(null!=G.from&&(y=Tt(d?B:Pr(B),G.from),-1==a))return y;if(null!=G.to&&(v=Tt(d?B:Pr(B),G.to),1==a))return v}return y&&{from:y,to:v}},Ho.prototype.changed=function(){var a=this,d=this.find(-1,!0),y=this,v=this.doc.cm;!d||!v||ua(v,function(){var b=d.line,B=Pr(d.line),G=Wl(v,B);if(G&&(sd(G),v.curOp.selectionChanged=v.curOp.forceUpdate=!0),v.curOp.updateMaxLine=!0,!hl(y.doc,b)&&null!=y.height){var X=y.height;y.height=null;var ee=fc(y)-X;ee&&Ro(b,b.height+ee)}bo(v,"markerChanged",v,a)})},Ho.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(!d.maybeHiddenMarkers||-1==it(d.maybeHiddenMarkers,this))&&(d.maybeUnhiddenMarkers||(d.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Ho.prototype.detachLine=function(a){if(this.lines.splice(it(this.lines,a),1),!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(d.maybeHiddenMarkers||(d.maybeHiddenMarkers=[])).push(this)}},Ma(Ho);var Md=function(a,d){this.markers=a,this.primary=d;for(var y=0;y<a.length;++y)a[y].parent=this};function Bp(a){return a.findMarks(Tt(a.first,0),a.clipPos(Tt(a.lastLine())),function(d){return d.parent})}function Rt(a){for(var d=function(v){var b=a[v],B=[b.primary.doc];gs(b.primary.doc,function(ee){return B.push(ee)});for(var G=0;G<b.markers.length;G++){var X=b.markers[G];-1==it(B,X.doc)&&(X.parent=null,b.markers.splice(G--,1))}},y=0;y<a.length;y++)d(y)}Md.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();bo(this,"clear")}},Md.prototype.find=function(a,d){return this.primary.find(a,d)},Ma(Md);var wr=0,Vn=function(a,d,y,v,b){if(!(this instanceof Vn))return new Vn(a,d,y,v,b);null==y&&(y=0),Au.call(this,[new Iu([new pl("",null)])]),this.first=y,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=y;var B=Tt(y,0);this.sel=wa(B),this.history=new wc(null),this.id=++wr,this.modeOption=d,this.lineSep=v,this.direction="rtl"==b?"rtl":"ltr",this.extend=!1,"string"==typeof a&&(a=this.splitLines(a)),yc(this,{from:B,to:B,text:a}),xo(this,wa(B),St)};Vn.prototype=Ri(Au.prototype,{constructor:Vn,iter:function(a,d,y){y?this.iterN(a-this.first,d-a,y):this.iterN(this.first,this.first+this.size,a)},insert:function(a,d){for(var y=0,v=0;v<d.length;++v)y+=d[v].height;this.insertInner(a-this.first,d,y)},remove:function(a,d){this.removeInner(a-this.first,d)},getValue:function(a){var d=$a(this,this.first,this.first+this.size);return!1===a?d:d.join(a||this.lineSeparator())},setValue:Lo(function(a){var d=Tt(this.first,0),y=this.first+this.size-1;Cc(this,{from:d,to:Tt(y,En(this,y).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&uo(this.cm,0,0),xo(this,wa(d),St)}),replaceRange:function(a,d,y,v){Jl(this,a,d=rt(this,d),y=y?rt(this,y):d,v)},getRange:function(a,d,y){var v=li(this,rt(this,a),rt(this,d));return!1===y?v:v.join(""===y?"":y||this.lineSeparator())},getLine:function(a){var d=this.getLineHandle(a);return d&&d.text},getLineHandle:function(a){if(ko(this,a))return En(this,a)},getLineNumber:function(a){return Pr(a)},getLineHandleVisualStart:function(a){return"number"==typeof a&&(a=En(this,a)),tr(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return rt(this,a)},getCursor:function(a){var d=this.sel.primary();return null==a||"head"==a?d.head:"anchor"==a?d.anchor:"end"==a||"to"==a||!1===a?d.to():d.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Lo(function(a,d,y){_d(this,rt(this,"number"==typeof a?Tt(a,d||0):a),null,y)}),setSelection:Lo(function(a,d,y){_d(this,rt(this,a),rt(this,d||a),y)}),extendSelection:Lo(function(a,d,y){wd(this,rt(this,a),d&&rt(this,d),y)}),extendSelections:Lo(function(a,d){Th(this,Qt(this,a),d)}),extendSelectionsBy:Lo(function(a,d){Th(this,Qt(this,zn(this.sel.ranges,a)),d)}),setSelections:Lo(function(a,d,y){if(a.length){for(var v=[],b=0;b<a.length;b++)v[b]=new Wr(rt(this,a[b].anchor),rt(this,a[b].head||a[b].anchor));null==d&&(d=Math.min(a.length-1,this.sel.primIndex)),xo(this,ca(this.cm,v,d),y)}}),addSelection:Lo(function(a,d,y){var v=this.sel.ranges.slice(0);v.push(new Wr(rt(this,a),rt(this,d||a))),xo(this,ca(this.cm,v,v.length-1),y)}),getSelection:function(a){for(var y,d=this.sel.ranges,v=0;v<d.length;v++){var b=li(this,d[v].from(),d[v].to());y=y?y.concat(b):b}return!1===a?y:y.join(a||this.lineSeparator())},getSelections:function(a){for(var d=[],y=this.sel.ranges,v=0;v<y.length;v++){var b=li(this,y[v].from(),y[v].to());!1!==a&&(b=b.join(a||this.lineSeparator())),d[v]=b}return d},replaceSelection:function(a,d,y){for(var v=[],b=0;b<this.sel.ranges.length;b++)v[b]=a;this.replaceSelections(v,d,y||"+input")},replaceSelections:Lo(function(a,d,y){for(var v=[],b=this.sel,B=0;B<b.ranges.length;B++){var G=b.ranges[B];v[B]={from:G.from(),to:G.to(),text:this.splitLines(a[B]),origin:y}}for(var X=d&&"end"!=d&&function eo(a,d,y){for(var v=[],b=Tt(a.first,0),B=b,G=0;G<d.length;G++){var X=d[G],ee=xl(X.from,b,B),ce=xl(Fo(X),b,B);if(b=X.to,B=ce,"around"==y){var Ee=a.sel.ranges[G],Le=Yn(Ee.head,Ee.anchor)<0;v[G]=new Wr(Le?ce:ee,Le?ee:ce)}else v[G]=new Wr(ee,ee)}return new ba(v,a.sel.primIndex)}(this,v,d),ee=v.length-1;ee>=0;ee--)Cc(this,v[ee]);X?Fa(this,X):this.cm&&Za(this.cm)}),undo:Lo(function(){Sd(this,"undo")}),redo:Lo(function(){Sd(this,"redo")}),undoSelection:Lo(function(){Sd(this,"undo",!0)}),redoSelection:Lo(function(){Sd(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,d=0,y=0,v=0;v<a.done.length;v++)a.done[v].ranges||++d;for(var b=0;b<a.undone.length;b++)a.undone[b].ranges||++y;return{undo:d,redo:y}},clearHistory:function(){var a=this;this.history=new wc(this.history),gs(this,function(d){return d.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:_c(this.history.done),undone:_c(this.history.undone)}},setHistory:function(a){var d=this.history=new wc(this.history);d.done=_c(a.done.slice(0),null,!0),d.undone=_c(a.undone.slice(0),null,!0)},setGutterMarker:Lo(function(a,d,y){return Bn(this,a,"gutter",function(v){var b=v.gutterMarkers||(v.gutterMarkers={});return b[d]=y,!y&&jr(b)&&(v.gutterMarkers=null),!0})}),clearGutter:Lo(function(a){var d=this;this.iter(function(y){y.gutterMarkers&&y.gutterMarkers[a]&&Bn(d,y,"gutter",function(){return y.gutterMarkers[a]=null,jr(y.gutterMarkers)&&(y.gutterMarkers=null),!0})})}),lineInfo:function(a){var d;if("number"==typeof a){if(!(ko(this,a)&&(d=a,a=En(this,a))))return null}else if(null==(d=Pr(a)))return null;return{line:d,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Lo(function(a,d,y){return Bn(this,a,"gutter"==d?"gutter":"class",function(v){var b="text"==d?"textClass":"background"==d?"bgClass":"gutter"==d?"gutterClass":"wrapClass";if(v[b]){if(ie(y).test(v[b]))return!1;v[b]+=" "+y}else v[b]=y;return!0})}),removeLineClass:Lo(function(a,d,y){return Bn(this,a,"gutter"==d?"gutter":"class",function(v){var b="text"==d?"textClass":"background"==d?"bgClass":"gutter"==d?"gutterClass":"wrapClass",B=v[b];if(!B)return!1;if(null==y)v[b]=null;else{var G=B.match(ie(y));if(!G)return!1;var X=G.index+G[0].length;v[b]=B.slice(0,G.index)+(G.index&&X!=B.length?" ":"")+B.slice(X)||null}return!0})}),addLineWidget:Lo(function(a,d,y){return function Oh(a,d,y,v){var b=new eu(a,y,v),B=a.cm;return B&&b.noHScroll&&(B.display.alignWidgets=!0),Bn(a,d,"widget",function(G){var X=G.widgets||(G.widgets=[]);if(null==b.insertAt?X.push(b):X.splice(Math.min(X.length,Math.max(0,b.insertAt)),0,b),b.line=G,B&&!hl(a,G)){var ee=Ra(G)<a.scrollTop;Ro(G,G.height+fc(b)),ee&&fs(B,b.height),B.curOp.forceUpdate=!0}return!0}),B&&bo(B,"lineWidgetAdded",B,b,"number"==typeof d?d:Pr(d)),b}(this,a,d,y)}),removeLineWidget:function(a){a.clear()},markText:function(a,d,y){return Ec(this,rt(this,a),rt(this,d),y,y&&y.type||"range")},setBookmark:function(a,d){var y={replacedWith:d&&(null==d.nodeType?d.widget:d),insertLeft:d&&d.insertLeft,clearWhenEmpty:!1,shared:d&&d.shared,handleMouseEvents:d&&d.handleMouseEvents};return Ec(this,a=rt(this,a),a,y,"bookmark")},findMarksAt:function(a){var d=[],y=En(this,(a=rt(this,a)).line).markedSpans;if(y)for(var v=0;v<y.length;++v){var b=y[v];(null==b.from||b.from<=a.ch)&&(null==b.to||b.to>=a.ch)&&d.push(b.marker.parent||b.marker)}return d},findMarks:function(a,d,y){a=rt(this,a),d=rt(this,d);var v=[],b=a.line;return this.iter(a.line,d.line+1,function(B){var G=B.markedSpans;if(G)for(var X=0;X<G.length;X++){var ee=G[X];!(null!=ee.to&&b==a.line&&a.ch>=ee.to||null==ee.from&&b!=a.line||null!=ee.from&&b==d.line&&ee.from>=d.ch)&&(!y||y(ee.marker))&&v.push(ee.marker.parent||ee.marker)}++b}),v},getAllMarks:function(){var a=[];return this.iter(function(d){var y=d.markedSpans;if(y)for(var v=0;v<y.length;++v)null!=y[v].from&&a.push(y[v].marker)}),a},posFromIndex:function(a){var d,y=this.first,v=this.lineSeparator().length;return this.iter(function(b){var B=b.text.length+v;if(B>a)return d=a,!0;a-=B,++y}),rt(this,Tt(y,d))},indexFromPos:function(a){var d=(a=rt(this,a)).ch;if(a.line<this.first||a.ch<0)return 0;var y=this.lineSeparator().length;return this.iter(this.first,a.line,function(v){d+=v.text.length+y}),d},copy:function(a){var d=new Vn($a(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return d.scrollTop=this.scrollTop,d.scrollLeft=this.scrollLeft,d.sel=this.sel,d.extend=!1,a&&(d.history.undoDepth=this.history.undoDepth,d.setHistory(this.getHistory())),d},linkedDoc:function(a){a||(a={});var d=this.first,y=this.first+this.size;null!=a.from&&a.from>d&&(d=a.from),null!=a.to&&a.to<y&&(y=a.to);var v=new Vn($a(this,d,y),a.mode||this.modeOption,d,this.lineSep,this.direction);return a.sharedHist&&(v.history=this.history),(this.linked||(this.linked=[])).push({doc:v,sharedHist:a.sharedHist}),v.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],function tu(a,d){for(var y=0;y<d.length;y++){var v=d[y],b=v.find(),B=a.clipPos(b.from),G=a.clipPos(b.to);if(Yn(B,G)){var X=Ec(a,B,G,v.primary,v.primary.type);v.markers.push(X),X.parent=v}}}(v,Bp(this)),v},unlinkDoc:function(a){if(a instanceof ai&&(a=a.doc),this.linked)for(var d=0;d<this.linked.length;++d)if(this.linked[d].doc==a){this.linked.splice(d,1),a.unlinkDoc(this),Rt(Bp(this));break}if(a.history==this.history){var v=[a.id];gs(a,function(b){return v.push(b.id)},!0),a.history=new wc(null),a.history.done=_c(this.history.done,v),a.history.undone=_c(this.history.undone,v)}},iterLinkedDocs:function(a){gs(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):vu(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Lo(function(a){"rtl"!=a&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(d){return d.order=null}),this.cm&&function Dh(a){ua(a,function(){Rp(a),ao(a)})}(this.cm))})}),Vn.prototype.eachLine=Vn.prototype.iter;var hi=0;function zo(a){var d=this;if(ms(d),!Zi(d,a)&&!ml(d.display,a)){Vi(a),C&&(hi=+new Date);var y=Ui(d,a,!0),v=a.dataTransfer.files;if(y&&!d.isReadOnly())if(v&&v.length&&window.FileReader&&window.File)for(var b=v.length,B=Array(b),G=0,X=function(){++G==b&&Co(d,function(){var je={from:y=rt(d.doc,y),to:y,text:d.doc.splitLines(B.filter(function(gt){return null!=gt}).join(d.doc.lineSeparator())),origin:"paste"};Cc(d.doc,je),Fa(d.doc,wa(rt(d.doc,y),rt(d.doc,Fo(je))))})()},ee=function(je,gt){if(d.options.allowDropFileTypes&&-1==it(d.options.allowDropFileTypes,je.type))X();else{var wt=new FileReader;wt.onerror=function(){return X()},wt.onload=function(){var Ut=wt.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Ut)||(B[gt]=Ut),X()},wt.readAsText(je)}},ce=0;ce<v.length;ce++)ee(v[ce],ce);else{if(d.state.draggingText&&d.doc.sel.contains(y)>-1)return d.state.draggingText(a),void setTimeout(function(){return d.display.input.focus()},20);try{var Ee=a.dataTransfer.getData("Text");if(Ee){var Le;if(d.state.draggingText&&!d.state.draggingText.copy&&(Le=d.listSelections()),xd(d.doc,wa(y,y)),Le)for(var Xe=0;Xe<Le.length;++Xe)Jl(d.doc,"",Le[Xe].anchor,Le[Xe].head,"drag");d.replaceSelection(Ee,"around","paste"),d.display.input.focus()}}catch{}}}}function ms(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Id(a){if(document.getElementsByClassName){for(var d=document.getElementsByClassName("CodeMirror"),y=[],v=0;v<d.length;v++){var b=d[v].CodeMirror;b&&y.push(b)}y.length&&y[0].operation(function(){for(var B=0;B<y.length;B++)a(y[B])})}}var fo=!1;function wi(){fo||(function yy(){var a;xn(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null,Id(Vp)},100))}),xn(window,"blur",function(){return Id(yi)})}(),fo=!0)}function Vp(a){var d=a.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.scrollbarsClipped=!1,a.setSize()}for(var Wi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Dr=0;Dr<10;Dr++)Wi[Dr+48]=Wi[Dr+96]=String(Dr);for(var nu=65;nu<=90;nu++)Wi[nu]=String.fromCharCode(nu);for(var Fs=1;Fs<=12;Fs++)Wi[Fs+111]=Wi[Fs+63235]="F"+Fs;var Uo={};function Sc(a){var d=a.split(/-(?!$)/);a=d[d.length-1];for(var y,v,b,B,G=0;G<d.length-1;G++){var X=d[G];if(/^(cmd|meta|m)$/i.test(X))B=!0;else if(/^a(lt)?$/i.test(X))y=!0;else if(/^(c|ctrl|control)$/i.test(X))v=!0;else{if(!/^s(hift)?$/i.test(X))throw new Error("Unrecognized modifier name: "+X);b=!0}}return y&&(a="Alt-"+a),v&&(a="Ctrl-"+a),B&&(a="Cmd-"+a),b&&(a="Shift-"+a),a}function Hp(a){var d={};for(var y in a)if(a.hasOwnProperty(y)){var v=a[y];if(/^(name|fallthrough|(de|at)tach)$/.test(y))continue;if("..."==v){delete a[y];continue}for(var b=zn(y.split(" "),Sc),B=0;B<b.length;B++){var G=void 0,X=void 0;B==b.length-1?(X=b.join(" "),G=v):(X=b.slice(0,B+1).join(" "),G="...");var ee=d[X];if(ee){if(ee!=G)throw new Error("Inconsistent bindings for "+X)}else d[X]=G}delete a[y]}for(var ce in d)a[ce]=d[ce];return a}function il(a,d,y,v){var b=(d=Od(d)).call?d.call(a,v):d[a];if(!1===b)return"nothing";if("..."===b)return"multi";if(null!=b&&y(b))return"handled";if(d.fallthrough){if("[object Array]"!=Object.prototype.toString.call(d.fallthrough))return il(a,d.fallthrough,y,v);for(var B=0;B<d.fallthrough.length;B++){var G=il(a,d.fallthrough[B],y,v);if(G)return G}}}function zp(a){var d="string"==typeof a?a:Wi[a.keyCode];return"Ctrl"==d||"Alt"==d||"Shift"==d||"Mod"==d}function Ad(a,d,y){var v=a;return d.altKey&&"Alt"!=v&&(a="Alt-"+a),(Z?d.metaKey:d.ctrlKey)&&"Ctrl"!=v&&(a="Ctrl-"+a),(Z?d.ctrlKey:d.metaKey)&&"Mod"!=v&&(a="Cmd-"+a),!y&&d.shiftKey&&"Shift"!=v&&(a="Shift-"+a),a}function Nf(a,d){if(k&&34==a.keyCode&&a.char)return!1;var y=Wi[a.keyCode];return null!=y&&!a.altGraphKey&&(3==a.keyCode&&a.code&&(y=a.code),Ad(y,a,d))}function Od(a){return"string"==typeof a?Uo[a]:a}function Bs(a,d){for(var y=a.doc.sel.ranges,v=[],b=0;b<y.length;b++){for(var B=d(y[b]);v.length&&Yn(B.from,_n(v).to)<=0;){var G=v.pop();if(Yn(G.from,B.from)<0){B.from=G.from;break}}v.push(B)}ua(a,function(){for(var X=v.length-1;X>=0;X--)Jl(a.doc,"",v[X].from,v[X].to,"+delete");Za(a)})}function Rf(a,d,y){var v=Ts(a.text,d+y,y);return v<0||v>a.text.length?null:v}function Tc(a,d,y){var v=Rf(a,d.ch,y);return null==v?null:new Tt(d.line,v,y<0?"after":"before")}function ru(a,d,y,v,b){if(a){"rtl"==d.doc.direction&&(b=-b);var B=Wa(y,d.doc.direction);if(B){var ce,G=b<0?_n(B):B[0],ee=b<0==(1==G.level)?"after":"before";if(G.level>0||"rtl"==d.doc.direction){var Ee=$l(d,y),Le=ks(d,Ee,ce=b<0?y.text.length-1:0).top;ce=Nn(function(Xe){return ks(d,Ee,Xe).top==Le},b<0==(1==G.level)?G.from:G.to-1,ce),"before"==ee&&(ce=Rf(y,ce,1))}else ce=b<0?G.to:G.from;return new Tt(v,ce,ee)}}return new Tt(v,b<0?y.text.length:0,b<0?"before":"after")}Uo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Uo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Uo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Uo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Uo.default=ae?Uo.macDefault:Uo.pcDefault;var Mc={selectAll:Ql,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),St)},killLine:function(a){return Bs(a,function(d){if(d.empty()){var y=En(a.doc,d.head.line).text.length;return d.head.ch==y&&d.head.line<a.lastLine()?{from:d.head,to:Tt(d.head.line+1,0)}:{from:d.head,to:Tt(d.head.line,y)}}return{from:d.from(),to:d.to()}})},deleteLine:function(a){return Bs(a,function(d){return{from:Tt(d.from().line,0),to:rt(a.doc,Tt(d.to().line+1,0))}})},delLineLeft:function(a){return Bs(a,function(d){return{from:Tt(d.from().line,0),to:d.from()}})},delWrappedLineLeft:function(a){return Bs(a,function(d){var y=a.charCoords(d.head,"div").top+5;return{from:a.coordsChar({left:0,top:y},"div"),to:d.from()}})},delWrappedLineRight:function(a){return Bs(a,function(d){var y=a.charCoords(d.head,"div").top+5,v=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:y},"div");return{from:d.from(),to:v}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(Tt(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(Tt(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(d){return Nd(a,d.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(d){return Eo(a,d.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(d){return function Rd(a,d){var y=En(a.doc,d),v=function Ya(a){for(var d;d=Na(a);)a=d.find(1,!0).line;return a}(y);return v!=y&&(d=Pr(v)),ru(!0,a,y,d,-1)}(a,d.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(d){var y=a.cursorCoords(d.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:y},"div")},Jn)},goLineLeft:function(a){return a.extendSelectionsBy(function(d){var y=a.cursorCoords(d.head,"div").top+5;return a.coordsChar({left:0,top:y},"div")},Jn)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(d){var y=a.cursorCoords(d.head,"div").top+5,v=a.coordsChar({left:0,top:y},"div");return v.ch<a.getLine(v.line).search(/\S/)?Eo(a,d.head):v},Jn)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},insertSoftTab:function(a){for(var d=[],y=a.listSelections(),v=a.options.tabSize,b=0;b<y.length;b++){var B=y[b].from(),G=cn(a.getLine(B.line),B.ch,v);d.push(Cr(v-G%v))}a.replaceSelections(d)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return ua(a,function(){for(var d=a.listSelections(),y=[],v=0;v<d.length;v++)if(d[v].empty()){var b=d[v].head,B=En(a.doc,b.line).text;if(B)if(b.ch==B.length&&(b=new Tt(b.line,b.ch-1)),b.ch>0)b=new Tt(b.line,b.ch+1),a.replaceRange(B.charAt(b.ch-1)+B.charAt(b.ch-2),Tt(b.line,b.ch-2),b,"+transpose");else if(b.line>a.doc.first){var G=En(a.doc,b.line-1).text;G&&(b=new Tt(b.line,1),a.replaceRange(B.charAt(0)+a.doc.lineSeparator()+G.charAt(G.length-1),Tt(b.line-1,G.length-1),b,"+transpose"))}y.push(new Wr(b,b))}a.setSelections(y)})},newlineAndIndent:function(a){return ua(a,function(){for(var d=a.listSelections(),y=d.length-1;y>=0;y--)a.replaceRange(a.doc.lineSeparator(),d[y].anchor,d[y].head,"+input");d=a.listSelections();for(var v=0;v<d.length;v++)a.indentLine(d[v].from().line,null,!0);Za(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function Nd(a,d){var y=En(a.doc,d),v=tr(y);return v!=y&&(d=Pr(v)),ru(!0,a,v,d,1)}function Eo(a,d){var y=Nd(a,d.line),v=En(a.doc,y.line),b=Wa(v,a.doc.direction);if(!b||0==b[0].level){var B=Math.max(y.ch,v.text.search(/\S/));return Tt(y.line,d.line==y.line&&d.ch<=B&&d.ch?0:B,y.sticky)}return y}function iu(a,d,y){if("string"==typeof d&&!(d=Mc[d]))return!1;a.display.input.ensurePolled();var v=a.display.shift,b=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),y&&(a.display.shift=!1),b=d(a)!=Ft}finally{a.display.shift=v,a.state.suppressEdits=!1}return b}var Do=new lt;function ts(a,d,y,v){var b=a.state.keySeq;if(b){if(zp(d))return"handled";if(/\'$/.test(d)?a.state.keySeq=null:Do.set(50,function(){a.state.keySeq==b&&(a.state.keySeq=null,a.display.input.reset())}),Hr(a,b+" "+d,y,v))return!0}return Hr(a,d,y,v)}function Hr(a,d,y,v){var b=function ym(a,d,y){for(var v=0;v<a.state.keyMaps.length;v++){var b=il(d,a.state.keyMaps[v],y,a);if(b)return b}return a.options.extraKeys&&il(d,a.options.extraKeys,y,a)||il(d,a.options.keyMap,y,a)}(a,d,v);return"multi"==b&&(a.state.keySeq=d),"handled"==b&&bo(a,"keyHandled",a,d,y),("handled"==b||"multi"==b)&&(Vi(y),sa(a)),!!b}function kd(a,d){var y=Nf(d,!0);return!!y&&(d.shiftKey&&!a.state.keySeq?ts(a,"Shift-"+y,d,function(v){return iu(a,v,!0)})||ts(a,y,d,function(v){if("string"==typeof v?/^go[A-Z]/.test(v):v.motion)return iu(a,v)}):ts(a,y,d,function(v){return iu(a,v)}))}var So=null;function Pd(a){var d=this;if(!(a.target&&a.target!=d.display.input.getField()||(d.curOp.focus=ht(qt(d)),Zi(d,a)))){C&&S<11&&27==a.keyCode&&(a.returnValue=!1);var y=a.keyCode;d.display.shift=16==y||a.shiftKey;var v=kd(d,a);k&&(So=v?y:null,!v&&88==y&&!No&&(ae?a.metaKey:a.ctrlKey)&&d.replaceSelection("",null,"cut")),T&&!ae&&!v&&46==y&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==y&&!/\bCodeMirror-crosshair\b/.test(d.display.lineDiv.className)&&function qo(a){var d=a.display.lineDiv;function y(v){(18==v.keyCode||!v.altKey)&&(me(d,"CodeMirror-crosshair"),go(document,"keyup",y),go(document,"mouseover",y))}Ke(d,"CodeMirror-crosshair"),xn(document,"keyup",y),xn(document,"mouseover",y)}(d)}}function Go(a){16==a.keyCode&&(this.doc.sel.shift=!1),Zi(this,a)}function Ld(a){var d=this;if(!(a.target&&a.target!=d.display.input.getField()||ml(d.display,a)||Zi(d,a)||a.ctrlKey&&!a.altKey||ae&&a.metaKey)){var y=a.keyCode,v=a.charCode;if(k&&y==So)return So=null,void Vi(a);if(!k||a.which&&!(a.which<10)||!kd(d,a)){var b=String.fromCharCode(v??y);"\b"!=b&&(function Rh(a,d,y){return ts(a,"'"+y+"'",d,function(v){return iu(a,v,!0)})}(d,a,b)||d.display.input.onKeyPress(a))}}}var vs,ys,Dl=function(a,d,y){this.time=a,this.pos=d,this.button=y};function kf(a){var d=this,y=d.display;if(!(Zi(d,a)||y.activeTouch&&y.input.supportsTouch())){if(y.input.ensurePolled(),y.shift=a.shiftKey,ml(y,a))return void(R||(y.scroller.draggable=!1,setTimeout(function(){return y.scroller.draggable=!0},100)));if(!Pf(d,a)){var v=Ui(d,a),b=ed(a),B=v?function Ou(a,d){var y=+new Date;return ys&&ys.compare(y,a,d)?(vs=ys=null,"triple"):vs&&vs.compare(y,a,d)?(ys=new Dl(y,a,d),vs=null,"double"):(vs=new Dl(y,a,d),ys=null,"single")}(v,b):"single";Ht(d).focus(),1==b&&d.state.selectingText&&d.state.selectingText(a),(!v||!function Gp(a,d,y,v,b){var B="Click";return"double"==v?B="Double"+B:"triple"==v&&(B="Triple"+B),ts(a,Ad(B=(1==d?"Left":2==d?"Middle":"Right")+B,b),b,function(G){if("string"==typeof G&&(G=Mc[G]),!G)return!1;var X=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),X=G(a,y)!=Ft}finally{a.state.suppressEdits=!1}return X})}(d,b,v,B,a))&&(1==b?v?function jp(a,d,y,v){C?setTimeout(It(gc,a),0):a.curOp.focus=ht(qt(a));var G,b=function Nu(a,d,y){var v=a.getOption("configureMouse"),b=v?v(a,d,y):{};return null==b.unit&&(b.unit=(de?y.shiftKey&&y.metaKey:y.altKey)?"rectangle":"single"==d?"char":"double"==d?"word":"line"),(null==b.extend||a.doc.extend)&&(b.extend=a.doc.extend||y.shiftKey),null==b.addNew&&(b.addNew=ae?y.metaKey:y.ctrlKey),null==b.moveOnDrag&&(b.moveOnDrag=!(ae?y.altKey:y.ctrlKey)),b}(a,y,v),B=a.doc.sel;a.options.dragDrop&&as&&!a.isReadOnly()&&"single"==y&&(G=B.contains(d))>-1&&(Yn((G=B.ranges[G]).from(),d)<0||d.xRel>0)&&(Yn(G.to(),d)>0||d.xRel<0)?function Ru(a,d,y,v){var b=a.display,B=!1,G=Co(a,function(ce){R&&(b.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:_o(a)),go(b.wrapper.ownerDocument,"mouseup",G),go(b.wrapper.ownerDocument,"mousemove",X),go(b.scroller,"dragstart",ee),go(b.scroller,"drop",G),B||(Vi(ce),v.addNew||wd(a.doc,y,null,null,v.extend),R&&!H||C&&9==S?setTimeout(function(){b.wrapper.ownerDocument.body.focus({preventScroll:!0}),b.input.focus()},20):b.input.focus())}),X=function(ce){B=B||Math.abs(d.clientX-ce.clientX)+Math.abs(d.clientY-ce.clientY)>=10},ee=function(){return B=!0};R&&(b.scroller.draggable=!0),a.state.draggingText=G,G.copy=!v.moveOnDrag,xn(b.wrapper.ownerDocument,"mouseup",G),xn(b.wrapper.ownerDocument,"mousemove",X),xn(b.scroller,"dragstart",ee),xn(b.scroller,"drop",G),a.state.delayingBlurEvent=!0,setTimeout(function(){return b.input.focus()},20),b.scroller.dragDrop&&b.scroller.dragDrop()}(a,v,d,b):function Wp(a,d,y,v){C&&_o(a);var b=a.display,B=a.doc;Vi(d);var G,X,ee=B.sel,ce=ee.ranges;if(v.addNew&&!v.extend?(X=B.sel.contains(y),G=X>-1?ce[X]:new Wr(y,y)):(G=B.sel.primary(),X=B.sel.primIndex),"rectangle"==v.unit)v.addNew||(G=new Wr(y,y)),y=Ui(a,d,!0,!0),X=-1;else{var Ee=Ic(a,y,v.unit);G=v.extend?Af(G,Ee.anchor,Ee.head,v.extend):Ee}v.addNew?-1==X?(X=ce.length,xo(B,ca(a,ce.concat([G]),X),{scroll:!1,origin:"*mouse"})):ce.length>1&&ce[X].empty()&&"char"==v.unit&&!v.extend?(xo(B,ca(a,ce.slice(0,X).concat(ce.slice(X+1)),0),{scroll:!1,origin:"*mouse"}),ee=B.sel):Mh(B,X,G,Kn):(X=0,xo(B,new ba([G],0),Kn),ee=B.sel);var Le=y;function Xe(Kt){if(0!=Yn(Le,Kt))if(Le=Kt,"rectangle"==v.unit){for(var Yt=[],kn=a.options.tabSize,Dn=cn(En(B,y.line).text,y.ch,kn),nr=cn(En(B,Kt.line).text,Kt.ch,kn),dr=Math.min(Dn,nr),Ai=Math.max(Dn,nr),xi=Math.min(y.line,Kt.line),jo=Math.min(a.lastLine(),Math.max(y.line,Kt.line));xi<=jo;xi++){var $i=En(B,xi).text,Oi=Tr($i,dr,kn);dr==Ai?Yt.push(new Wr(Tt(xi,Oi),Tt(xi,Oi))):$i.length>Oi&&Yt.push(new Wr(Tt(xi,Oi),Tt(xi,Tr($i,Ai,kn))))}Yt.length||Yt.push(new Wr(y,y)),xo(B,ca(a,ee.ranges.slice(0,X).concat(Yt),X),{origin:"*mouse",scroll:!1}),a.scrollIntoView(Kt)}else{var zr,fa=G,Wo=Ic(a,Kt,v.unit),To=fa.anchor;Yn(Wo.anchor,To)>0?(zr=Wo.head,To=Re(fa.from(),Wo.anchor)):(zr=Wo.anchor,To=Oe(fa.to(),Wo.head));var Ei=ee.ranges.slice(0);Ei[X]=function by(a,d){var y=d.anchor,v=d.head,b=En(a.doc,y.line);if(0==Yn(y,v)&&y.sticky==v.sticky)return d;var B=Wa(b);if(!B)return d;var G=Xo(B,y.ch,y.sticky),X=B[G];if(X.from!=y.ch&&X.to!=y.ch)return d;var ce,ee=G+(X.from==y.ch==(1!=X.level)?0:1);if(0==ee||ee==B.length)return d;if(v.line!=y.line)ce=(v.line-y.line)*("ltr"==a.doc.direction?1:-1)>0;else{var Ee=Xo(B,v.ch,v.sticky),Le=Ee-G||(v.ch-y.ch)*(1==X.level?-1:1);ce=Ee==ee-1||Ee==ee?Le<0:Le>0}var Xe=B[ee+(ce?-1:0)],je=ce==(1==Xe.level),gt=je?Xe.from:Xe.to,wt=je?"after":"before";return y.ch==gt&&y.sticky==wt?d:new Wr(new Tt(y.line,gt,wt),v)}(a,new Wr(rt(B,To),zr)),xo(B,ca(a,Ei,X),Kn)}}var je=b.wrapper.getBoundingClientRect(),gt=0;function wt(Kt){var Yt=++gt,kn=Ui(a,Kt,!0,"rectangle"==v.unit);if(kn)if(0!=Yn(kn,Le)){a.curOp.focus=ht(qt(a)),Xe(kn);var Dn=Zn(b,B);(kn.line>=Dn.to||kn.line<Dn.from)&&setTimeout(Co(a,function(){gt==Yt&&wt(Kt)}),150)}else{var nr=Kt.clientY<je.top?-20:Kt.clientY>je.bottom?20:0;nr&&setTimeout(Co(a,function(){gt==Yt&&(b.scroller.scrollTop+=nr,wt(Kt))}),50)}}function Ut(Kt){a.state.selectingText=!1,gt=1/0,Kt&&(Vi(Kt),b.input.focus()),go(b.wrapper.ownerDocument,"mousemove",Wt),go(b.wrapper.ownerDocument,"mouseup",Jt),B.history.lastSelOrigin=null}var Wt=Co(a,function(Kt){0!==Kt.buttons&&ed(Kt)?wt(Kt):Ut(Kt)}),Jt=Co(a,Ut);a.state.selectingText=Jt,xn(b.wrapper.ownerDocument,"mousemove",Wt),xn(b.wrapper.ownerDocument,"mouseup",Jt)}(a,v,d,b)}(d,v,B,a):qs(a)==y.scroller&&Vi(a):2==b?(v&&wd(d.doc,v),setTimeout(function(){return y.input.focus()},20)):3==b&&(oe?d.display.input.onContextMenu(a):_o(d)))}}}function Ic(a,d,y){if("char"==y)return new Wr(d,d);if("word"==y)return a.findWordAt(d);if("line"==y)return new Wr(Tt(d.line,0),rt(a.doc,Tt(d.line+1,0)));var v=y(a,d);return new Wr(v.from,v.to)}function Fd(a,d,y,v){var b,B;if(d.touches)b=d.touches[0].clientX,B=d.touches[0].clientY;else try{b=d.clientX,B=d.clientY}catch{return!1}if(b>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;v&&Vi(d);var G=a.display,X=G.lineDiv.getBoundingClientRect();if(B>X.bottom||!Ti(a,y))return Jc(d);B-=X.top-G.viewOffset;for(var ee=0;ee<a.display.gutterSpecs.length;++ee){var ce=G.gutters.childNodes[ee];if(ce&&ce.getBoundingClientRect().right>=b)return gi(a,y,a,Qi(a.doc,B),a.display.gutterSpecs[ee].className,d),Jc(d)}}function Pf(a,d){return Fd(a,d,"gutterClick",!0)}function $p(a,d){ml(a.display,d)||function Lf(a,d){return!!Ti(a,"gutterContextMenu")&&Fd(a,d,"gutterContextMenu",!1)}(a,d)||Zi(a,d,"contextmenu")||oe||a.display.input.onContextMenu(d)}function bm(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Xl(a)}Dl.prototype.compare=function(a,d,y){return this.time+400>a&&0==Yn(d,this.pos)&&y==this.button};var Bd={toString:function(){return"CodeMirror.Init"}},kh={},ku={};function Vd(a,d,y){if(!d!=!(y&&y!=Bd)){var b=a.display.dragFunctions,B=d?xn:go;B(a.display.scroller,"dragstart",b.start),B(a.display.scroller,"dragenter",b.enter),B(a.display.scroller,"dragover",b.over),B(a.display.scroller,"dragleave",b.leave),B(a.display.scroller,"drop",b.drop)}}function Ph(a){a.options.lineWrapping?(Ke(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(me(a.display.wrapper,"CodeMirror-wrap"),yu(a)),Br(a),ao(a),Xl(a),setTimeout(function(){return _l(a)},100)}function ai(a,d){var y=this;if(!(this instanceof ai))return new ai(a,d);this.options=d=d?mn(d):{},mn(kh,d,!1);var v=d.value;"string"==typeof v?v=new Vn(v,d.mode,null,d.lineSeparator,d.direction):d.mode&&(v.modeOption=d.mode),this.doc=v;var b=new ai.inputStyles[d.inputStyle](this),B=this.display=new Eh(a,v,b,d);for(var G in B.wrapper.CodeMirror=this,bm(this),d.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Du(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new lt,keySeq:null,specialChars:null},d.autofocus&&!le&&B.input.focus(),C&&S<11&&setTimeout(function(){return y.display.input.reset(!0)},20),function wy(a){var d=a.display;xn(d.scroller,"mousedown",Co(a,kf)),xn(d.scroller,"dblclick",C&&S<11?Co(a,function(ee){if(!Zi(a,ee)){var ce=Ui(a,ee);if(ce&&!Pf(a,ee)&&!ml(a.display,ee)){Vi(ee);var Ee=a.findWordAt(ce);wd(a.doc,Ee.anchor,Ee.head)}}}):function(ee){return Zi(a,ee)||Vi(ee)}),xn(d.scroller,"contextmenu",function(ee){return $p(a,ee)}),xn(d.input.getField(),"contextmenu",function(ee){d.scroller.contains(ee.target)||$p(a,ee)});var y,v={end:0};function b(){d.activeTouch&&(y=setTimeout(function(){return d.activeTouch=null},1e3),(v=d.activeTouch).end=+new Date)}function B(ee){if(1!=ee.touches.length)return!1;var ce=ee.touches[0];return ce.radiusX<=1&&ce.radiusY<=1}function G(ee,ce){if(null==ce.left)return!0;var Ee=ce.left-ee.left,Le=ce.top-ee.top;return Ee*Ee+Le*Le>400}xn(d.scroller,"touchstart",function(ee){if(!Zi(a,ee)&&!B(ee)&&!Pf(a,ee)){d.input.ensurePolled(),clearTimeout(y);var ce=+new Date;d.activeTouch={start:ce,moved:!1,prev:ce-v.end<=300?v:null},1==ee.touches.length&&(d.activeTouch.left=ee.touches[0].pageX,d.activeTouch.top=ee.touches[0].pageY)}}),xn(d.scroller,"touchmove",function(){d.activeTouch&&(d.activeTouch.moved=!0)}),xn(d.scroller,"touchend",function(ee){var ce=d.activeTouch;if(ce&&!ml(d,ee)&&null!=ce.left&&!ce.moved&&new Date-ce.start<300){var Le,Ee=a.coordsChar(d.activeTouch,"page");Le=!ce.prev||G(ce,ce.prev)?new Wr(Ee,Ee):!ce.prev.prev||G(ce,ce.prev.prev)?a.findWordAt(Ee):new Wr(Tt(Ee.line,0),rt(a.doc,Tt(Ee.line+1,0))),a.setSelection(Le.anchor,Le.head),a.focus(),Vi(ee)}b()}),xn(d.scroller,"touchcancel",b),xn(d.scroller,"scroll",function(){d.scroller.clientHeight&&(ur(a,d.scroller.scrollTop),qa(a,d.scroller.scrollLeft,!0),gi(a,"scroll",a))}),xn(d.scroller,"mousewheel",function(ee){return vd(a,ee)}),xn(d.scroller,"DOMMouseScroll",function(ee){return vd(a,ee)}),xn(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0}),d.dragFunctions={enter:function(ee){Zi(a,ee)||Ia(ee)},over:function(ee){Zi(a,ee)||(function Dc(a,d){var y=Ui(a,d);if(y){var v=document.createDocumentFragment();fn(a,y,v),a.display.dragCursor||(a.display.dragCursor=De("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),Te(a.display.dragCursor,v)}}(a,ee),Ia(ee))},start:function(ee){return function Nh(a,d){if(C&&(!a.state.draggingText||+new Date-hi<100))Ia(d);else if(!Zi(a,d)&&!ml(a.display,d)&&(d.dataTransfer.setData("Text",a.getSelection()),d.dataTransfer.effectAllowed="copyMove",d.dataTransfer.setDragImage&&!H)){var y=De("img",null,null,"position: fixed; left: 0; top: 0;");y.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",k&&(y.width=y.height=1,a.display.wrapper.appendChild(y),y._top=y.offsetTop),d.dataTransfer.setDragImage(y,0,0),k&&y.parentNode.removeChild(y)}}(a,ee)},drop:Co(a,zo),leave:function(ee){Zi(a,ee)||ms(a)}};var X=d.input.getField();xn(X,"keyup",function(ee){return Go.call(a,ee)}),xn(X,"keydown",Co(a,Pd)),xn(X,"keypress",Co(a,Ld)),xn(X,"focus",function(ee){return bl(a,ee)}),xn(X,"blur",function(ee){return yi(a,ee)})}(this),wi(),oi(this),this.curOp.forceUpdate=!0,bc(this,v),d.autofocus&&!le||this.hasFocus()?setTimeout(function(){y.hasFocus()&&!y.state.focused&&bl(y)},20):yi(this),ku)ku.hasOwnProperty(G)&&ku[G](this,d[G],Bd);fm(this),d.finishInit&&d.finishInit(this);for(var X=0;X<Hd.length;++X)Hd[X](this);Kl(this),R&&d.lineWrapping&&"optimizelegibility"==getComputedStyle(B.lineDiv).textRendering&&(B.lineDiv.style.textRendering="auto")}ai.defaults=kh,ai.optionHandlers=ku;var Hd=[];function Ac(a,d,y,v){var B,b=a.doc;null==y&&(y="add"),"smart"==y&&(b.mode.indent?B=Bt(a,d).state:y="prev");var G=a.options.tabSize,X=En(b,d),ee=cn(X.text,null,G);X.stateAfter&&(X.stateAfter=null);var Ee,ce=X.text.match(/^\s*/)[0];if(v||/\S/.test(X.text)){if("smart"==y&&((Ee=b.mode.indent(B,X.text.slice(ce.length),X.text))==Ft||Ee>150)){if(!v)return;y="prev"}}else Ee=0,y="not";"prev"==y?Ee=d>b.first?cn(En(b,d-1).text,null,G):0:"add"==y?Ee=ee+a.options.indentUnit:"subtract"==y?Ee=ee-a.options.indentUnit:"number"==typeof y&&(Ee=ee+y),Ee=Math.max(0,Ee);var Le="",Xe=0;if(a.options.indentWithTabs)for(var je=Math.floor(Ee/G);je;--je)Xe+=G,Le+="\t";if(Xe<Ee&&(Le+=Cr(Ee-Xe)),Le!=ce)return Jl(b,Le,Tt(d,0),Tt(d,ce.length),"+input"),X.stateAfter=null,!0;for(var gt=0;gt<b.sel.ranges.length;gt++){var wt=b.sel.ranges[gt];if(wt.head.line==d&&wt.head.ch<ce.length){var Ut=Tt(d,ce.length);Mh(b,gt,new Wr(Ut,Ut));break}}}ai.defineInitHook=function(a){return Hd.push(a)};var Vs=null;function da(a){Vs=a}function Lh(a,d,y,v,b){var B=a.doc;a.display.shift=!1,v||(v=B.sel);var G=+new Date-200,X="paste"==b||a.state.pasteIncoming>G,ee=vu(d),ce=null;if(X&&v.ranges.length>1)if(Vs&&Vs.text.join("\n")==d){if(v.ranges.length%Vs.text.length==0){ce=[];for(var Ee=0;Ee<Vs.text.length;Ee++)ce.push(B.splitLines(Vs.text[Ee]))}}else ee.length==v.ranges.length&&a.options.pasteLinesPerSelection&&(ce=zn(ee,function(Wt){return[Wt]}));for(var Le=a.curOp.updateInput,Xe=v.ranges.length-1;Xe>=0;Xe--){var je=v.ranges[Xe],gt=je.from(),wt=je.to();je.empty()&&(y&&y>0?gt=Tt(gt.line,gt.ch-y):a.state.overwrite&&!X?wt=Tt(wt.line,Math.min(En(B,wt.line).text.length,wt.ch+_n(ee).length)):X&&Vs&&Vs.lineWise&&Vs.text.join("\n")==ee.join("\n")&&(gt=wt=Tt(gt.line,0)));var Ut={from:gt,to:wt,text:ce?ce[Xe%ce.length]:ee,origin:b||(X?"paste":a.state.cutIncoming>G?"cut":"+input")};Cc(a.doc,Ut),bo(a,"inputRead",a,Ut)}d&&!X&&Ff(a,d),Za(a),a.curOp.updateInput<2&&(a.curOp.updateInput=Le),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function zd(a,d){var y=a.clipboardData&&a.clipboardData.getData("Text");if(y)return a.preventDefault(),!d.isReadOnly()&&!d.options.disableInput&&d.hasFocus()&&ua(d,function(){return Lh(d,y,0,null,"paste")}),!0}function Ff(a,d){if(a.options.electricChars&&a.options.smartIndent)for(var y=a.doc.sel,v=y.ranges.length-1;v>=0;v--){var b=y.ranges[v];if(!(b.head.ch>100||v&&y.ranges[v-1].head.line==b.head.line)){var B=a.getModeAt(b.head),G=!1;if(B.electricChars){for(var X=0;X<B.electricChars.length;X++)if(d.indexOf(B.electricChars.charAt(X))>-1){G=Ac(a,b.head.line,"smart");break}}else B.electricInput&&B.electricInput.test(En(a.doc,b.head.line).text.slice(0,b.head.ch))&&(G=Ac(a,b.head.line,"smart"));G&&bo(a,"electricInput",a,b.head.line)}}}function Fh(a){for(var d=[],y=[],v=0;v<a.doc.sel.ranges.length;v++){var b=a.doc.sel.ranges[v].head.line,B={anchor:Tt(b,0),head:Tt(b+1,0)};y.push(B),d.push(a.getRange(B.anchor,B.head))}return{text:d,ranges:y}}function Ud(a,d,y,v){a.setAttribute("autocorrect",y?"on":"off"),a.setAttribute("autocapitalize",v?"on":"off"),a.setAttribute("spellcheck",!!d)}function Bf(){var a=De("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),d=De("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return R?a.style.width="1000px":a.setAttribute("wrap","off"),ue&&(a.style.border="1px solid black"),d}function Vf(a,d,y,v,b){var B=d,G=y,X=En(a,d.line),ee=b&&"rtl"==a.direction?-y:y;function Ee(Jt){var Kt;if("codepoint"==v){var Yt=X.text.charCodeAt(d.ch+(y>0?0:-1));Kt=isNaN(Yt)?null:new Tt(d.line,Math.max(0,Math.min(X.text.length,d.ch+y*((y>0?Yt>=55296&&Yt<56320:Yt>=56320&&Yt<57343)?2:1))),-y)}else Kt=b?function Up(a,d,y,v){var b=Wa(d,a.doc.direction);if(!b)return Tc(d,y,v);y.ch>=d.text.length?(y.ch=d.text.length,y.sticky="before"):y.ch<=0&&(y.ch=0,y.sticky="after");var B=Xo(b,y.ch,y.sticky),G=b[B];if("ltr"==a.doc.direction&&G.level%2==0&&(v>0?G.to>y.ch:G.from<y.ch))return Tc(d,y,v);var ee,X=function(Wt,Jt){return Rf(d,Wt instanceof Tt?Wt.ch:Wt,Jt)},ce=function(Wt){return a.options.lineWrapping?(ee=ee||$l(a,d),Op(a,d,ee,Wt)):{begin:0,end:d.text.length}},Ee=ce("before"==y.sticky?X(y,-1):y.ch);if("rtl"==a.doc.direction||1==G.level){var Le=1==G.level==v<0,Xe=X(y,Le?1:-1);if(null!=Xe&&(Le?Xe<=G.to&&Xe<=Ee.end:Xe>=G.from&&Xe>=Ee.begin))return new Tt(y.line,Xe,Le?"before":"after")}var gt=function(Wt,Jt,Kt){for(;Wt>=0&&Wt<b.length;Wt+=Jt){var kn=b[Wt],Dn=Jt>0==(1!=kn.level),nr=Dn?Kt.begin:X(Kt.end,-1);if(kn.from<=nr&&nr<kn.to||(nr=Dn?kn.from:X(kn.to,-1),Kt.begin<=nr&&nr<Kt.end))return dr=nr,Dn?new Tt(y.line,X(dr,1),"before"):new Tt(y.line,dr,"after")}var dr},wt=gt(B+v,v,Ee);if(wt)return wt;var Ut=v>0?Ee.end:X(Ee.begin,-1);return null==Ut||v>0&&Ut==d.text.length||!(wt=gt(v>0?0:b.length-1,v,ce(Ut)))?null:wt}(a.cm,X,d,y):Tc(X,d,y);if(null==Kt){if(Jt||!function ce(){var Jt=d.line+ee;return!(Jt<a.first||Jt>=a.first+a.size)&&(d=new Tt(Jt,d.ch,d.sticky),X=En(a,Jt))}())return!1;d=ru(b,a.cm,X,d.line,ee)}else d=Kt;return!0}if("char"==v||"codepoint"==v)Ee();else if("column"==v)Ee(!0);else if("word"==v||"group"==v)for(var Le=null,Xe="group"==v,je=a.cm&&a.cm.getHelper(d,"wordChars"),gt=!0;!(y<0)||Ee(!gt);gt=!1){var wt=X.text.charAt(d.ch)||"\n",Ut=Bi(wt,je)?"w":Xe&&"\n"==wt?"n":!Xe||/\s/.test(wt)?null:"p";if(Xe&&!gt&&!Ut&&(Ut="s"),Le&&Le!=Ut){y<0&&(y=1,Ee(),d.sticky="after");break}if(Ut&&(Le=Ut),y>0&&!Ee(!gt))break}var Wt=Ls(a,d,B,G,!0);return od(B,Wt)&&(Wt.hitSide=!0),Wt}function Hf(a,d,y,v){var G,ce,b=a.doc,B=d.left;if("page"==v){var X=Math.min(a.display.wrapper.clientHeight,Ht(a).innerHeight||b(a).documentElement.clientHeight),ee=Math.max(X-.5*Jr(a.display),3);G=(y>0?d.bottom:d.top)+y*ee}else"line"==v&&(G=y>0?d.bottom+3:d.top-3);for(;(ce=_f(a,B,G)).outside;){if(y<0?G<=0:G>=b.height){ce.hitSide=!0;break}G+=5*y}return ce}var Kr=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new lt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Gd(a,d){var y=Wl(a,d.line);if(!y||y.hidden)return null;var v=En(a.doc,d.line),b=yf(y,v,d.line),B=Wa(v,a.doc.direction),G="left";B&&(G=Xo(B,d.ch)%2?"right":"left");var ee=_u(b.map,d.ch,G);return ee.offset="right"==ee.collapse?ee.end:ee.start,ee}function ol(a,d){return d&&(a.bad=!0),a}function jd(a,d,y){var v;if(d==a.display.lineDiv){if(!(v=a.display.lineDiv.childNodes[y]))return ol(a.clipPos(Tt(a.display.viewTo-1)),!0);d=null,y=0}else for(v=d;;v=v.parentNode){if(!v||v==a.display.lineDiv)return null;if(v.parentNode&&v.parentNode==a.display.lineDiv)break}for(var b=0;b<a.display.view.length;b++){var B=a.display.view[b];if(B.node==v)return Xp(B,d,y)}}function Xp(a,d,y){var v=a.text.firstChild,b=!1;if(!d||!at(v,d))return ol(Tt(Pr(a.line),0),!0);if(d==v&&(b=!0,d=v.childNodes[y],y=0,!d)){var B=a.rest?_n(a.rest):a.line;return ol(Tt(Pr(B),B.text.length),b)}var G=3==d.nodeType?d:null,X=d;for(!G&&1==d.childNodes.length&&3==d.firstChild.nodeType&&(G=d.firstChild,y&&(y=G.nodeValue.length));X.parentNode!=v;)X=X.parentNode;var ee=a.measure,ce=ee.maps;function Ee(Ut,Wt,Jt){for(var Kt=-1;Kt<(ce?ce.length:0);Kt++)for(var Yt=Kt<0?ee.map:ce[Kt],kn=0;kn<Yt.length;kn+=3){var Dn=Yt[kn+2];if(Dn==Ut||Dn==Wt){var nr=Pr(Kt<0?a.line:a.rest[Kt]),dr=Yt[kn]+Jt;return(Jt<0||Dn!=Ut)&&(dr=Yt[kn+(Jt?1:0)]),Tt(nr,dr)}}}var Le=Ee(G,X,y);if(Le)return ol(Le,b);for(var Xe=X.nextSibling,je=G?G.nodeValue.length-y:0;Xe;Xe=Xe.nextSibling){if(Le=Ee(Xe,Xe.firstChild,0))return ol(Tt(Le.line,Le.ch-je),b);je+=Xe.textContent.length}for(var gt=X.previousSibling,wt=y;gt;gt=gt.previousSibling){if(Le=Ee(gt,gt.firstChild,-1))return ol(Tt(Le.line,Le.ch+wt),b);wt+=gt.textContent.length}}Kr.prototype.init=function(a){var d=this,y=this,v=y.cm,b=y.div=a.lineDiv;function B(X){for(var ee=X.target;ee;ee=ee.parentNode){if(ee==b)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ee.className))break}return!1}function G(X){if(B(X)&&!Zi(v,X)){if(v.somethingSelected())da({lineWise:!1,text:v.getSelections()}),"cut"==X.type&&v.replaceSelection("",null,"cut");else{if(!v.options.lineWiseCopyCut)return;var ee=Fh(v);da({lineWise:!0,text:ee.text}),"cut"==X.type&&v.operation(function(){v.setSelections(ee.ranges,0,St),v.replaceSelection("",null,"cut")})}if(X.clipboardData){X.clipboardData.clearData();var ce=Vs.text.join("\n");if(X.clipboardData.setData("Text",ce),X.clipboardData.getData("Text")==ce)return void X.preventDefault()}var Ee=Bf(),Le=Ee.firstChild;Ud(Le),v.display.lineSpace.insertBefore(Ee,v.display.lineSpace.firstChild),Le.value=Vs.text.join("\n");var Xe=ht(b.ownerDocument);Ze(Le),setTimeout(function(){v.display.lineSpace.removeChild(Ee),Xe.focus(),Xe==b&&y.showPrimarySelection()},50)}}b.contentEditable=!0,Ud(b,v.options.spellcheck,v.options.autocorrect,v.options.autocapitalize),xn(b,"paste",function(X){!B(X)||Zi(v,X)||zd(X,v)||S<=11&&setTimeout(Co(v,function(){return d.updateFromDOM()}),20)}),xn(b,"compositionstart",function(X){d.composing={data:X.data,done:!1}}),xn(b,"compositionupdate",function(X){d.composing||(d.composing={data:X.data,done:!1})}),xn(b,"compositionend",function(X){d.composing&&(X.data!=d.composing.data&&d.readFromDOMSoon(),d.composing.done=!0)}),xn(b,"touchstart",function(){return y.forceCompositionEnd()}),xn(b,"input",function(){d.composing||d.readFromDOMSoon()}),xn(b,"copy",G),xn(b,"cut",G)},Kr.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},Kr.prototype.prepareSelection=function(){var a=lo(this.cm,!1);return a.focus=ht(this.div.ownerDocument)==this.div,a},Kr.prototype.showSelection=function(a,d){!a||!this.cm.display.view.length||((a.focus||d)&&this.showPrimarySelection(),this.showMultipleSelections(a))},Kr.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Kr.prototype.showPrimarySelection=function(){var a=this.getSelection(),d=this.cm,y=d.doc.sel.primary(),v=y.from(),b=y.to();if(d.display.viewTo==d.display.viewFrom||v.line>=d.display.viewTo||b.line<d.display.viewFrom)a.removeAllRanges();else{var B=jd(d,a.anchorNode,a.anchorOffset),G=jd(d,a.focusNode,a.focusOffset);if(!B||B.bad||!G||G.bad||0!=Yn(Re(B,G),v)||0!=Yn(Oe(B,G),b)){var X=d.display.view,ee=v.line>=d.display.viewFrom&&Gd(d,v)||{node:X[0].measure.map[2],offset:0},ce=b.line<d.display.viewTo&&Gd(d,b);if(!ce){var Ee=X[X.length-1].measure,Le=Ee.maps?Ee.maps[Ee.maps.length-1]:Ee.map;ce={node:Le[Le.length-1],offset:Le[Le.length-2]-Le[Le.length-3]}}if(!ee||!ce)return void a.removeAllRanges();var je,Xe=a.rangeCount&&a.getRangeAt(0);try{je=Be(ee.node,ee.offset,ce.offset,ce.node)}catch{}je&&(!T&&d.state.focused?(a.collapse(ee.node,ee.offset),je.collapsed||(a.removeAllRanges(),a.addRange(je))):(a.removeAllRanges(),a.addRange(je)),Xe&&null==a.anchorNode?a.addRange(Xe):T&&this.startGracePeriod()),this.rememberSelection()}}},Kr.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},Kr.prototype.showMultipleSelections=function(a){Te(this.cm.display.cursorDiv,a.cursors),Te(this.cm.display.selectionDiv,a.selection)},Kr.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},Kr.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var d=a.getRangeAt(0).commonAncestorContainer;return at(this.div,d)},Kr.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||ht(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Kr.prototype.blur=function(){this.div.blur()},Kr.prototype.getField=function(){return this.div},Kr.prototype.supportsTouch=function(){return!0},Kr.prototype.receivedFocus=function(){var a=this,d=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):ua(this.cm,function(){return d.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function y(){d.cm.state.focused&&(d.pollSelection(),d.polling.set(d.cm.options.pollInterval,y))})},Kr.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},Kr.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=this.getSelection(),d=this.cm;if(ne&&V&&this.cm.display.gutterSpecs.length&&function _m(a){for(var d=a;d;d=d.parentNode)if(/CodeMirror-gutter-wrapper/.test(d.className))return!0;return!1}(a.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var y=jd(d,a.anchorNode,a.anchorOffset),v=jd(d,a.focusNode,a.focusOffset);y&&v&&ua(d,function(){xo(d.doc,wa(y,v),St),(y.bad||v.bad)&&(d.curOp.selectionChanged=!0)})}}},Kr.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var B,G,X,a=this.cm,d=a.display,y=a.doc.sel.primary(),v=y.from(),b=y.to();if(0==v.ch&&v.line>a.firstLine()&&(v=Tt(v.line-1,En(a.doc,v.line-1).length)),b.ch==En(a.doc,b.line).text.length&&b.line<a.lastLine()&&(b=Tt(b.line+1,0)),v.line<d.viewFrom||b.line>d.viewTo-1)return!1;v.line==d.viewFrom||0==(B=oo(a,v.line))?(G=Pr(d.view[0].line),X=d.view[0].node):(G=Pr(d.view[B].line),X=d.view[B-1].node.nextSibling);var ce,Ee,ee=oo(a,b.line);if(ee==d.view.length-1?(ce=d.viewTo-1,Ee=d.lineDiv.lastChild):(ce=Pr(d.view[ee+1].line)-1,Ee=d.view[ee+1].node.previousSibling),!X)return!1;for(var Le=a.doc.splitLines(function Pu(a,d,y,v,b){var B="",G=!1,X=a.doc.lineSeparator(),ee=!1;function Ee(){G&&(B+=X,ee&&(B+=X),G=ee=!1)}function Le(je){je&&(Ee(),B+=je)}function Xe(je){if(1==je.nodeType){var gt=je.getAttribute("cm-text");if(gt)return void Le(gt);var Ut,wt=je.getAttribute("cm-marker");if(wt){var Wt=a.findMarks(Tt(v,0),Tt(b+1,0),function ce(je){return function(gt){return gt.id==je}}(+wt));return void(Wt.length&&(Ut=Wt[0].find(0))&&Le(li(a.doc,Ut.from,Ut.to).join(X)))}if("false"==je.getAttribute("contenteditable"))return;var Jt=/^(pre|div|p|li|table|br)$/i.test(je.nodeName);if(!/^br$/i.test(je.nodeName)&&0==je.textContent.length)return;Jt&&Ee();for(var Kt=0;Kt<je.childNodes.length;Kt++)Xe(je.childNodes[Kt]);/^(pre|p)$/i.test(je.nodeName)&&(ee=!0),Jt&&(G=!0)}else 3==je.nodeType&&Le(je.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Xe(d),d!=y;)d=d.nextSibling,ee=!1;return B}(a,X,Ee,G,ce)),Xe=li(a.doc,Tt(G,0),Tt(ce,En(a.doc,ce).text.length));Le.length>1&&Xe.length>1;)if(_n(Le)==_n(Xe))Le.pop(),Xe.pop(),ce--;else{if(Le[0]!=Xe[0])break;Le.shift(),Xe.shift(),G++}for(var je=0,gt=0,wt=Le[0],Ut=Xe[0],Wt=Math.min(wt.length,Ut.length);je<Wt&&wt.charCodeAt(je)==Ut.charCodeAt(je);)++je;for(var Jt=_n(Le),Kt=_n(Xe),Yt=Math.min(Jt.length-(1==Le.length?je:0),Kt.length-(1==Xe.length?je:0));gt<Yt&&Jt.charCodeAt(Jt.length-gt-1)==Kt.charCodeAt(Kt.length-gt-1);)++gt;if(1==Le.length&&1==Xe.length&&G==v.line)for(;je&&je>v.ch&&Jt.charCodeAt(Jt.length-gt-1)==Kt.charCodeAt(Kt.length-gt-1);)je--,gt++;Le[Le.length-1]=Jt.slice(0,Jt.length-gt).replace(/^\u200b+/,""),Le[0]=Le[0].slice(je).replace(/\u200b+$/,"");var kn=Tt(G,je),Dn=Tt(ce,Xe.length?_n(Xe).length-gt:0);return Le.length>1||Le[0]||Yn(kn,Dn)?(Jl(a.doc,Le,kn,Dn,"+input"),!0):void 0},Kr.prototype.ensurePolled=function(){this.forceCompositionEnd()},Kr.prototype.reset=function(){this.forceCompositionEnd()},Kr.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Kr.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing){if(!a.composing.done)return;a.composing=null}a.updateFromDOM()},80))},Kr.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&ua(this.cm,function(){return ao(a.cm)})},Kr.prototype.setUneditable=function(a){a.contentEditable="false"},Kr.prototype.onKeyPress=function(a){0==a.charCode||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Co(this.cm,Lh)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))},Kr.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)},Kr.prototype.onContextMenu=function(){},Kr.prototype.resetPosition=function(){},Kr.prototype.needsContentAttribute=!0;var Ii=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new lt,this.hasSelection=!1,this.composing=null,this.resetting=!1};Ii.prototype.init=function(a){var d=this,y=this,v=this.cm;this.createField(a);var b=this.textarea;function B(G){if(!Zi(v,G)){if(v.somethingSelected())da({lineWise:!1,text:v.getSelections()});else{if(!v.options.lineWiseCopyCut)return;var X=Fh(v);da({lineWise:!0,text:X.text}),"cut"==G.type?v.setSelections(X.ranges,null,St):(y.prevInput="",b.value=X.text.join("\n"),Ze(b))}"cut"==G.type&&(v.state.cutIncoming=+new Date)}}a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),ue&&(b.style.width="0px"),xn(b,"input",function(){C&&S>=9&&d.hasSelection&&(d.hasSelection=null),y.poll()}),xn(b,"paste",function(G){Zi(v,G)||zd(G,v)||(v.state.pasteIncoming=+new Date,y.fastPoll())}),xn(b,"cut",B),xn(b,"copy",B),xn(a.scroller,"paste",function(G){if(!ml(a,G)&&!Zi(v,G)){if(!b.dispatchEvent)return v.state.pasteIncoming=+new Date,void y.focus();var X=new Event("paste");X.clipboardData=G.clipboardData,b.dispatchEvent(X)}}),xn(a.lineSpace,"selectstart",function(G){ml(a,G)||Vi(G)}),xn(b,"compositionstart",function(){var G=v.getCursor("from");y.composing&&y.composing.range.clear(),y.composing={start:G,range:v.markText(G,v.getCursor("to"),{className:"CodeMirror-composing"})}}),xn(b,"compositionend",function(){y.composing&&(y.poll(),y.composing.range.clear(),y.composing=null)})},Ii.prototype.createField=function(a){this.wrapper=Bf(),this.textarea=this.wrapper.firstChild;var d=this.cm.options;Ud(this.textarea,d.spellcheck,d.autocorrect,d.autocapitalize)},Ii.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},Ii.prototype.prepareSelection=function(){var a=this.cm,d=a.display,y=a.doc,v=lo(a);if(a.options.moveInputWithCursor){var b=ds(a,y.sel.primary().head,"div"),B=d.wrapper.getBoundingClientRect(),G=d.lineDiv.getBoundingClientRect();v.teTop=Math.max(0,Math.min(d.wrapper.clientHeight-10,b.top+G.top-B.top)),v.teLeft=Math.max(0,Math.min(d.wrapper.clientWidth-10,b.left+G.left-B.left))}return v},Ii.prototype.showSelection=function(a){var y=this.cm.display;Te(y.cursorDiv,a.cursors),Te(y.selectionDiv,a.selection),null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},Ii.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing&&a)){var d=this.cm;if(this.resetting=!0,d.somethingSelected()){this.prevInput="";var y=d.getSelection();this.textarea.value=y,d.state.focused&&Ze(this.textarea),C&&S>=9&&(this.hasSelection=y)}else a||(this.prevInput=this.textarea.value="",C&&S>=9&&(this.hasSelection=null));this.resetting=!1}},Ii.prototype.getField=function(){return this.textarea},Ii.prototype.supportsTouch=function(){return!1},Ii.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!le||ht(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},Ii.prototype.blur=function(){this.textarea.blur()},Ii.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ii.prototype.receivedFocus=function(){this.slowPoll()},Ii.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},Ii.prototype.fastPoll=function(){var a=!1,d=this;d.pollingFast=!0,d.polling.set(20,function y(){d.poll()||a?(d.pollingFast=!1,d.slowPoll()):(a=!0,d.polling.set(60,y))})},Ii.prototype.poll=function(){var a=this,d=this.cm,y=this.textarea,v=this.prevInput;if(this.contextMenuPending||this.resetting||!d.state.focused||ec(y)&&!v&&!this.composing||d.isReadOnly()||d.options.disableInput||d.state.keySeq)return!1;var b=y.value;if(b==v&&!d.somethingSelected())return!1;if(C&&S>=9&&this.hasSelection===b||ae&&/[\uf700-\uf7ff]/.test(b))return d.display.input.reset(),!1;if(d.doc.sel==d.display.selForContextMenu){var B=b.charCodeAt(0);if(8203==B&&!v&&(v="\u200b"),8666==B)return this.reset(),this.cm.execCommand("undo")}for(var G=0,X=Math.min(v.length,b.length);G<X&&v.charCodeAt(G)==b.charCodeAt(G);)++G;return ua(d,function(){Lh(d,b.slice(G),v.length-G,null,a.composing?"*compose":null),b.length>1e3||b.indexOf("\n")>-1?y.value=a.prevInput="":a.prevInput=b,a.composing&&(a.composing.range.clear(),a.composing.range=d.markText(a.composing.start,d.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ii.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ii.prototype.onKeyPress=function(){C&&S>=9&&(this.hasSelection=null),this.fastPoll()},Ii.prototype.onContextMenu=function(a){var d=this,y=d.cm,v=y.display,b=d.textarea;d.contextMenuPending&&d.contextMenuPending();var B=Ui(y,a),G=v.scroller.scrollTop;if(B&&!k){y.options.resetSelectionOnContextMenu&&-1==y.doc.sel.contains(B)&&Co(y,xo)(y.doc,wa(B),St);var Le,ee=b.style.cssText,ce=d.wrapper.style.cssText,Ee=d.wrapper.offsetParent.getBoundingClientRect();if(d.wrapper.style.cssText="position: static",b.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-Ee.top-5)+"px; left: "+(a.clientX-Ee.left-5)+"px;\n      z-index: 1000; background: "+(C?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",R&&(Le=b.ownerDocument.defaultView.scrollY),v.input.focus(),R&&b.ownerDocument.defaultView.scrollTo(null,Le),v.input.reset(),y.somethingSelected()||(b.value=d.prevInput=" "),d.contextMenuPending=je,v.selForContextMenu=y.doc.sel,clearTimeout(v.detectingSelectAll),C&&S>=9&&Xe(),oe){Ia(a);var gt=function(){go(window,"mouseup",gt),setTimeout(je,20)};xn(window,"mouseup",gt)}else setTimeout(je,50)}function Xe(){if(null!=b.selectionStart){var wt=y.somethingSelected(),Ut="\u200b"+(wt?b.value:"");b.value="\u21da",b.value=Ut,d.prevInput=wt?"":"\u200b",b.selectionStart=1,b.selectionEnd=Ut.length,v.selForContextMenu=y.doc.sel}}function je(){if(d.contextMenuPending==je&&(d.contextMenuPending=!1,d.wrapper.style.cssText=ce,b.style.cssText=ee,C&&S<9&&v.scrollbars.setScrollTop(v.scroller.scrollTop=G),null!=b.selectionStart)){(!C||C&&S<9)&&Xe();var wt=0,Ut=function(){v.selForContextMenu==y.doc.sel&&0==b.selectionStart&&b.selectionEnd>0&&"\u200b"==d.prevInput?Co(y,Ql)(y):wt++<10?v.detectingSelectAll=setTimeout(Ut,500):(v.selForContextMenu=null,v.input.reset())};v.detectingSelectAll=setTimeout(Ut,200)}}},Ii.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled="nocursor"==a,this.textarea.readOnly=!!a},Ii.prototype.setUneditable=function(){},Ii.prototype.needsContentAttribute=!1,function wm(a){var d=a.optionHandlers;function y(v,b,B,G){a.defaults[v]=b,B&&(d[v]=G?function(X,ee,ce){ce!=Bd&&B(X,ee,ce)}:B)}a.defineOption=y,a.Init=Bd,y("value","",function(v,b){return v.setValue(b)},!0),y("mode",null,function(v,b){v.doc.modeOption=b,vc(v)},!0),y("indentUnit",2,vc,!0),y("indentWithTabs",!1),y("smartIndent",!0),y("tabSize",4,function(v){If(v),Xl(v),ao(v)},!0),y("lineSeparator",null,function(v,b){if(v.doc.lineSep=b,b){var B=[],G=v.doc.first;v.doc.iter(function(ee){for(var ce=0;;){var Ee=ee.text.indexOf(b,ce);if(-1==Ee)break;ce=Ee+b.length,B.push(Tt(G,Ee))}G++});for(var X=B.length-1;X>=0;X--)Jl(v.doc,b,B[X],Tt(B[X].line,B[X].ch+b.length))}}),y("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(v,b,B){v.state.specialChars=new RegExp(b.source+(b.test("\t")?"":"|\t"),"g"),B!=Bd&&v.refresh()}),y("specialCharPlaceholder",Xa,function(v){return v.refresh()},!0),y("electricChars",!0),y("inputStyle",le?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),y("spellcheck",!1,function(v,b){return v.getInputField().spellcheck=b},!0),y("autocorrect",!1,function(v,b){return v.getInputField().autocorrect=b},!0),y("autocapitalize",!1,function(v,b){return v.getInputField().autocapitalize=b},!0),y("rtlMoveVisually",!te),y("wholeLineUpdateBefore",!0),y("theme","default",function(v){bm(v),Mf(v)},!0),y("keyMap","default",function(v,b,B){var G=Od(b),X=B!=Bd&&Od(B);X&&X.detach&&X.detach(v,G),G.attach&&G.attach(v,X||null)}),y("extraKeys",null),y("configureMouse",null),y("lineWrapping",!1,Ph,!0),y("gutters",[],function(v,b){v.display.gutterSpecs=ql(b,v.options.lineNumbers),Mf(v)},!0),y("fixedGutter",!0,function(v,b){v.display.gutters.style.left=b?ln(v.display)+"px":"0",v.refresh()},!0),y("coverGutterNextToScrollbar",!1,function(v){return _l(v)},!0),y("scrollbarStyle","native",function(v){Du(v),_l(v),v.display.scrollbars.setScrollTop(v.doc.scrollTop),v.display.scrollbars.setScrollLeft(v.doc.scrollLeft)},!0),y("lineNumbers",!1,function(v,b){v.display.gutterSpecs=ql(v.options.gutters,b),Mf(v)},!0),y("firstLineNumber",1,Mf,!0),y("lineNumberFormatter",function(v){return v},Mf,!0),y("showCursorWhenSelecting",!1,cd,!0),y("resetSelectionOnContextMenu",!0),y("lineWiseCopyCut",!0),y("pasteLinesPerSelection",!0),y("selectionsMayTouch",!1),y("readOnly",!1,function(v,b){"nocursor"==b&&(yi(v),v.display.input.blur()),v.display.input.readOnlyChanged(b)}),y("screenReaderLabel",null,function(v,b){v.display.input.screenReaderLabelChanged(b=""===b?null:b)}),y("disableInput",!1,function(v,b){b||v.display.input.reset()},!0),y("dragDrop",!0,Vd),y("allowDropFileTypes",null),y("cursorBlinkRate",530),y("cursorScrollMargin",0),y("cursorHeight",1,cd,!0),y("singleCursorHeightPerLine",!0,cd,!0),y("workTime",100),y("workDelay",100),y("flattenSpans",!0,If,!0),y("addModeClass",!1,If,!0),y("pollInterval",100),y("undoDepth",200,function(v,b){return v.doc.history.undoDepth=b}),y("historyEventDelay",1250),y("viewportMargin",10,function(v){return v.refresh()},!0),y("maxHighlightLength",1e4,If,!0),y("moveInputWithCursor",!0,function(v,b){b||v.display.input.resetPosition()}),y("tabindex",null,function(v,b){return v.display.input.getField().tabIndex=b||""}),y("autofocus",null),y("direction","ltr",function(v,b){return v.doc.setDirection(b)},!0),y("phrases",null)}(ai),function Yp(a){var d=a.optionHandlers,y=a.helpers={};a.prototype={constructor:a,focus:function(){Ht(this).focus(),this.display.input.focus()},setOption:function(v,b){var B=this.options,G=B[v];B[v]==b&&"mode"!=v||(B[v]=b,d.hasOwnProperty(v)&&Co(this,d[v])(this,b,G),gi(this,"optionChange",this,v))},getOption:function(v){return this.options[v]},getDoc:function(){return this.doc},addKeyMap:function(v,b){this.state.keyMaps[b?"push":"unshift"](Od(v))},removeKeyMap:function(v){for(var b=this.state.keyMaps,B=0;B<b.length;++B)if(b[B]==v||b[B].name==v)return b.splice(B,1),!0},addOverlay:Po(function(v,b){var B=v.token?v:a.getMode(this.options,v);if(B.startState)throw new Error("Overlays may not be stateful.");(function Xr(a,d,y){for(var v=0,b=y(d);v<a.length&&y(a[v])<=b;)v++;a.splice(v,0,d)})(this.state.overlays,{mode:B,modeSpec:v,opaque:b&&b.opaque,priority:b&&b.priority||0},function(G){return G.priority}),this.state.modeGen++,ao(this)}),removeOverlay:Po(function(v){for(var b=this.state.overlays,B=0;B<b.length;++B){var G=b[B].modeSpec;if(G==v||"string"==typeof v&&G.name==v)return b.splice(B,1),this.state.modeGen++,void ao(this)}}),indentLine:Po(function(v,b,B){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract"),ko(this.doc,v)&&Ac(this,v,b,B)}),indentSelection:Po(function(v){for(var b=this.doc.sel.ranges,B=-1,G=0;G<b.length;G++){var X=b[G];if(X.empty())X.head.line>B&&(Ac(this,X.head.line,v,!0),B=X.head.line,G==this.doc.sel.primIndex&&Za(this));else{var ee=X.from(),ce=X.to(),Ee=Math.max(B,ee.line);B=Math.min(this.lastLine(),ce.line-(ce.ch?0:1))+1;for(var Le=Ee;Le<B;++Le)Ac(this,Le,v);var Xe=this.doc.sel.ranges;0==ee.ch&&b.length==Xe.length&&Xe[G].from().ch>0&&Mh(this.doc,G,new Wr(ee,Xe[G].to()),St)}}}),getTokenAt:function(v,b){return An(this,v,b)},getLineTokens:function(v,b){return An(this,Tt(v),b,!0)},getTokenTypeAt:function(v){v=rt(this.doc,v);var ee,b=Un(this,En(this.doc,v.line)),B=0,G=(b.length-1)/2,X=v.ch;if(0==X)ee=b[2];else for(;;){var ce=B+G>>1;if((ce?b[2*ce-1]:0)>=X)G=ce;else{if(!(b[2*ce+1]<X)){ee=b[2*ce+2];break}B=ce+1}}var Ee=ee?ee.indexOf("overlay "):-1;return Ee<0?ee:0==Ee?null:ee.slice(0,Ee-1)},getModeAt:function(v){var b=this.doc.mode;return b.innerMode?a.innerMode(b,this.getTokenAt(v).state).mode:b},getHelper:function(v,b){return this.getHelpers(v,b)[0]},getHelpers:function(v,b){var B=[];if(!y.hasOwnProperty(b))return B;var G=y[b],X=this.getModeAt(v);if("string"==typeof X[b])G[X[b]]&&B.push(G[X[b]]);else if(X[b])for(var ee=0;ee<X[b].length;ee++){var ce=G[X[b][ee]];ce&&B.push(ce)}else X.helperType&&G[X.helperType]?B.push(G[X.helperType]):G[X.name]&&B.push(G[X.name]);for(var Ee=0;Ee<G._global.length;Ee++){var Le=G._global[Ee];Le.pred(X,this)&&-1==it(B,Le.val)&&B.push(Le.val)}return B},getStateAfter:function(v,b){var B=this.doc;return Bt(this,(v=Ve(B,v??B.first+B.size-1))+1,b).state},cursorCoords:function(v,b){var G=this.doc.sel.primary();return ds(this,null==v?G.head:"object"==typeof v?rt(this.doc,v):v?G.from():G.to(),b||"page")},charCoords:function(v,b){return ud(this,rt(this.doc,v),b||"page")},coordsChar:function(v,b){return _f(this,(v=vh(this,v,b||"page")).left,v.top)},lineAtHeight:function(v,b){return v=vh(this,{top:v,left:0},b||"page").top,Qi(this.doc,v+this.display.viewOffset)},heightAtLine:function(v,b,B){var X,G=!1;if("number"==typeof v){var ee=this.doc.first+this.doc.size-1;v<this.doc.first?v=this.doc.first:v>ee&&(v=ee,G=!0),X=En(this.doc,v)}else X=v;return wf(this,X,{top:0,left:0},b||"page",B||G).top+(G?this.doc.height-Ra(X):0)},defaultTextHeight:function(){return Jr(this.display)},defaultCharWidth:function(){return vl(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(v,b,B,G,X){var ee=this.display,ce=(v=ds(this,rt(this.doc,v))).bottom,Ee=v.left;if(b.style.position="absolute",b.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(b),ee.sizer.appendChild(b),"over"==G)ce=v.top;else if("above"==G||"near"==G){var Le=Math.max(ee.wrapper.clientHeight,this.doc.height),Xe=Math.max(ee.sizer.clientWidth,ee.lineSpace.clientWidth);("above"==G||v.bottom+b.offsetHeight>Le)&&v.top>b.offsetHeight?ce=v.top-b.offsetHeight:v.bottom+b.offsetHeight<=Le&&(ce=v.bottom),Ee+b.offsetWidth>Xe&&(Ee=Xe-b.offsetWidth)}b.style.top=ce+"px",b.style.left=b.style.right="","right"==X?(Ee=ee.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==X?Ee=0:"middle"==X&&(Ee=(ee.sizer.clientWidth-b.offsetWidth)/2),b.style.left=Ee+"px"),B&&function Eu(a,d){var y=Gi(a,d);null!=y.scrollTop&&ur(a,y.scrollTop),null!=y.scrollLeft&&qa(a,y.scrollLeft)}(this,{left:Ee,top:ce,right:Ee+b.offsetWidth,bottom:ce+b.offsetHeight})},triggerOnKeyDown:Po(Pd),triggerOnKeyPress:Po(Ld),triggerOnKeyUp:Go,triggerOnMouseDown:Po(kf),execCommand:function(v){if(Mc.hasOwnProperty(v))return Mc[v].call(null,this)},triggerElectric:Po(function(v){Ff(this,v)}),findPosH:function(v,b,B,G){var X=1;b<0&&(X=-1,b=-b);for(var ee=rt(this.doc,v),ce=0;ce<b&&!(ee=Vf(this.doc,ee,X,B,G)).hitSide;++ce);return ee},moveH:Po(function(v,b){var B=this;this.extendSelectionsBy(function(G){return B.display.shift||B.doc.extend||G.empty()?Vf(B.doc,G.head,v,b,B.options.rtlMoveVisually):v<0?G.from():G.to()},Jn)}),deleteH:Po(function(v,b){var G=this.doc;this.doc.sel.somethingSelected()?G.replaceSelection("",null,"+delete"):Bs(this,function(X){var ee=Vf(G,X.head,v,b,!1);return v<0?{from:ee,to:X.head}:{from:X.head,to:ee}})}),findPosV:function(v,b,B,G){var X=1,ee=G;b<0&&(X=-1,b=-b);for(var ce=rt(this.doc,v),Ee=0;Ee<b;++Ee){var Le=ds(this,ce,"div");if(null==ee?ee=Le.left:Le.left=ee,(ce=Hf(this,Le,X,B)).hitSide)break}return ce},moveV:Po(function(v,b){var B=this,G=this.doc,X=[],ee=!this.display.shift&&!G.extend&&G.sel.somethingSelected();if(G.extendSelectionsBy(function(Ee){if(ee)return v<0?Ee.from():Ee.to();var Le=ds(B,Ee.head,"div");null!=Ee.goalColumn&&(Le.left=Ee.goalColumn),X.push(Le.left);var Xe=Hf(B,Le,v,b);return"page"==b&&Ee==G.sel.primary()&&fs(B,ud(B,Xe,"div").top-Le.top),Xe},Jn),X.length)for(var ce=0;ce<G.sel.ranges.length;ce++)G.sel.ranges[ce].goalColumn=X[ce]}),findWordAt:function(v){var B=En(this.doc,v.line).text,G=v.ch,X=v.ch;if(B){var ee=this.getHelper(v,"wordChars");"before"!=v.sticky&&X!=B.length||!G?++X:--G;for(var ce=B.charAt(G),Ee=Bi(ce,ee)?function(Le){return Bi(Le,ee)}:/\s/.test(ce)?function(Le){return/\s/.test(Le)}:function(Le){return!/\s/.test(Le)&&!Bi(Le)};G>0&&Ee(B.charAt(G-1));)--G;for(;X<B.length&&Ee(B.charAt(X));)++X}return new Wr(Tt(v.line,G),Tt(v.line,X))},toggleOverwrite:function(v){null!=v&&v==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ke(this.display.cursorDiv,"CodeMirror-overwrite"):me(this.display.cursorDiv,"CodeMirror-overwrite"),gi(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ht(qt(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Po(function(v,b){uo(this,v,b)}),getScrollInfo:function(){var v=this.display.scroller;return{left:v.scrollLeft,top:v.scrollTop,height:v.scrollHeight-wo(this)-this.display.barHeight,width:v.scrollWidth-wo(this)-this.display.barWidth,clientHeight:hc(this),clientWidth:xr(this)}},scrollIntoView:Po(function(v,b){null==v?(v={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof v?v={from:Tt(v,0),to:null}:null==v.from&&(v={from:v,to:null}),v.to||(v.to=v.from),v.margin=b||0,null!=v.from.line?function dd(a,d){fd(a),a.curOp.scrollToPos=d}(this,v):wl(this,v.from,v.to,v.margin)}),setSize:Po(function(v,b){var B=this,G=function(ee){return"number"==typeof ee||/^\d+$/.test(String(ee))?ee+"px":ee};null!=v&&(this.display.wrapper.style.width=G(v)),null!=b&&(this.display.wrapper.style.height=G(b)),this.options.lineWrapping&&ld(this);var X=this.display.viewFrom;this.doc.iter(X,this.display.viewTo,function(ee){if(ee.widgets)for(var ce=0;ce<ee.widgets.length;ce++)if(ee.widgets[ce].noHScroll){so(B,X,"widget");break}++X}),this.curOp.forceUpdate=!0,gi(this,"refresh",this)}),operation:function(v){return ua(this,v)},startOperation:function(){return oi(this)},endOperation:function(){return Kl(this)},refresh:Po(function(){var v=this.display.cachedTextHeight;ao(this),this.curOp.forceUpdate=!0,Xl(this),uo(this,this.doc.scrollLeft,this.doc.scrollTop),Sf(this.display),(null==v||Math.abs(v-Jr(this.display))>.5||this.options.lineWrapping)&&Br(this),gi(this,"refresh",this)}),swapDoc:Po(function(v){var b=this.doc;return b.cm=null,this.state.selectingText&&this.state.selectingText(),bc(this,v),Xl(this),this.display.input.reset(),uo(this,v.scrollLeft,v.scrollTop),this.curOp.forceScroll=!0,bo(this,"swapDoc",this,b),b}),phrase:function(v){var b=this.options.phrases;return b&&Object.prototype.hasOwnProperty.call(b,v)?b[v]:v},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ma(a),a.registerHelper=function(v,b,B){y.hasOwnProperty(v)||(y[v]=a[v]={_global:[]}),y[v][b]=B},a.registerGlobalHelper=function(v,b,B,G){a.registerHelper(v,b,G),y[v]._global.push({pred:B,val:G})}}(ai);var Ci="iter insert remove copy getEditor constructor".split(" ");for(var bs in Vn.prototype)Vn.prototype.hasOwnProperty(bs)&&it(Ci,bs)<0&&(ai.prototype[bs]=function(a){return function(){return a.apply(this.doc,arguments)}}(Vn.prototype[bs]));return Ma(Vn),ai.inputStyles={textarea:Ii,contenteditable:Kr},ai.defineMode=function(a){!ai.defaults.mode&&"null"!=a&&(ai.defaults.mode=a),rc.apply(this,arguments)},ai.defineMIME=function rd(a,d){Is[a]=d},ai.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),ai.defineMIME("text/plain","null"),ai.defineExtension=function(a,d){ai.prototype[a]=d},ai.defineDocExtension=function(a,d){Vn.prototype[a]=d},ai.fromTextArea=function Lu(a,d){if((d=d?mn(d):{}).value=a.value,!d.tabindex&&a.tabIndex&&(d.tabindex=a.tabIndex),!d.placeholder&&a.placeholder&&(d.placeholder=a.placeholder),null==d.autofocus){var y=ht(a.ownerDocument);d.autofocus=y==a||null!=a.getAttribute("autofocus")&&y==document.body}function v(){a.value=X.getValue()}var b;if(a.form&&(xn(a.form,"submit",v),!d.leaveSubmitMethodAlone)){var B=a.form;b=B.submit;try{var G=B.submit=function(){v(),B.submit=b,B.submit(),B.submit=G}}catch{}}d.finishInit=function(ee){ee.save=v,ee.getTextArea=function(){return a},ee.toTextArea=function(){ee.toTextArea=isNaN,v(),a.parentNode.removeChild(ee.getWrapperElement()),a.style.display="",a.form&&(go(a.form,"submit",v),!d.leaveSubmitMethodAlone&&"function"==typeof a.form.submit&&(a.form.submit=b))}},a.style.display="none";var X=ai(function(ee){return a.parentNode.insertBefore(ee,a.nextSibling)},d);return X},function Kp(a){a.off=go,a.on=xn,a.wheelEventPixels=hm,a.Doc=Vn,a.splitLines=vu,a.countColumn=cn,a.findColumn=Tr,a.isWordChar=Fi,a.Pass=Ft,a.signal=gi,a.Line=pl,a.changeEnd=Fo,a.scrollbarModel=pd,a.Pos=Tt,a.cmpPos=Yn,a.modes=nc,a.mimeModes=Is,a.resolveMode=ri,a.getMode=Oa,a.modeExtensions=Mr,a.extendMode=qi,a.copyState=ki,a.startState=ff,a.innerMode=oa,a.commands=Mc,a.keyMap=Uo,a.keyName=Nf,a.isModifierKey=zp,a.lookupKey=il,a.normalizeKeyMap=Hp,a.StringStream=Pi,a.SharedTextMarker=Md,a.TextMarker=Ho,a.LineWidget=eu,a.e_preventDefault=Vi,a.e_stopPropagation=Zs,a.e_stop=Ia,a.addClass=Ke,a.contains=at,a.rmClass=me,a.keyNames=Wi}(ai),ai.version="5.65.13",ai}()},1610:function(Y,se,D){var T;Y.exports=(T=D(4465),function(P){var O={};function I(C){if(O[C])return O[C].exports;var S=O[C]={i:C,l:!1,exports:{}};return P[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=P,I.c=O,I.i=function(C){return C},I.d=function(C,S,R){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:R})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=7)}([function(P,O){P.exports=T},function(P,O,I){"use strict";var C=I(0).FDLayoutConstants;function S(){}for(var R in C)S[R]=C[R];S.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,S.DEFAULT_RADIAL_SEPARATION=C.DEFAULT_EDGE_LENGTH,S.DEFAULT_COMPONENT_SEPERATION=60,S.TILE=!0,S.TILING_PADDING_VERTICAL=10,S.TILING_PADDING_HORIZONTAL=10,S.TREE_REDUCTION_ON_INCREMENTAL=!1,P.exports=S},function(P,O,I){"use strict";var C=I(0).FDLayoutEdge;function S(A,V,L){C.call(this,A,V,L)}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];P.exports=S},function(P,O,I){"use strict";var C=I(0).LGraph;function S(A,V,L){C.call(this,A,V,L)}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];P.exports=S},function(P,O,I){"use strict";var C=I(0).LGraphManager;function S(A){C.call(this,A)}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];P.exports=S},function(P,O,I){"use strict";var C=I(0).FDLayoutNode,S=I(0).IMath;function R(V,L,k,H){C.call(this,V,L,k,H)}for(var A in R.prototype=Object.create(C.prototype),C)R[A]=C[A];R.prototype.move=function(){var V=this.graphManager.getLayout();this.displacementX=V.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=V.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>V.coolingFactor*V.maxNodeDisplacement&&(this.displacementX=V.coolingFactor*V.maxNodeDisplacement*S.sign(this.displacementX)),Math.abs(this.displacementY)>V.coolingFactor*V.maxNodeDisplacement&&(this.displacementY=V.coolingFactor*V.maxNodeDisplacement*S.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),V.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},R.prototype.propogateDisplacementToChildren=function(V,L){for(var H,k=this.getChild().getNodes(),$=0;$<k.length;$++)null==(H=k[$]).getChild()?(H.moveBy(V,L),H.displacementX+=V,H.displacementY+=L):H.propogateDisplacementToChildren(V,L)},R.prototype.setPred1=function(V){this.pred1=V},R.prototype.getPred1=function(){return pred1},R.prototype.getPred2=function(){return pred2},R.prototype.setNext=function(V){this.next=V},R.prototype.getNext=function(){return next},R.prototype.setProcessed=function(V){this.processed=V},R.prototype.isProcessed=function(){return processed},P.exports=R},function(P,O,I){"use strict";var C=I(0).FDLayout,S=I(4),R=I(3),A=I(5),V=I(2),L=I(1),k=I(0).FDLayoutConstants,H=I(0).LayoutConstants,$=I(0).Point,Q=I(0).PointD,ue=I(0).Layout,ne=I(0).Integer,le=I(0).IGeometry,ae=I(0).LGraph,de=I(0).Transform;function te(){C.call(this),this.toBeTiled={}}for(var pe in te.prototype=Object.create(C.prototype),C)te[pe]=C[pe];te.prototype.newGraphManager=function(){var Z=new S(this);return this.graphManager=Z,Z},te.prototype.newGraph=function(Z){return new R(null,this.graphManager,Z)},te.prototype.newNode=function(Z){return new A(this.graphManager,Z)},te.prototype.newEdge=function(Z){return new V(null,null,Z)},te.prototype.initParameters=function(){C.prototype.initParameters.call(this,arguments),this.isSubLayout||(this.idealEdgeLength=L.DEFAULT_EDGE_LENGTH<10?10:L.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=L.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=k.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=k.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=k.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=k.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=k.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=k.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/k.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=k.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},te.prototype.layout=function(){return H.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},te.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(L.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var oe=new Set(this.getAllNodes()),ie=this.nodesWithGravity.filter(function(Te){return oe.has(Te)});this.graphManager.setAllNodesToApplyGravitation(ie)}}else{var Z=this.getFlatForest();Z.length>0?this.positionNodesRadially(Z):(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),oe=new Set(this.getAllNodes()),ie=this.nodesWithGravity.filter(function(me){return oe.has(me)}),this.graphManager.setAllNodesToApplyGravitation(ie),this.positionNodesRandomly())}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},te.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%k.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var Z=new Set(this.getAllNodes()),oe=this.nodesWithGravity.filter(function(_e){return Z.has(_e)});this.graphManager.setAllNodesToApplyGravitation(oe),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=k.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=k.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var ie=!this.isTreeGrowing&&!this.isGrowthFinished,me=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(ie,me),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},te.prototype.getPositionsData=function(){for(var Z=this.graphManager.getAllNodes(),oe={},ie=0;ie<Z.length;ie++){var me=Z[ie].rect,_e=Z[ie].id;oe[_e]={id:_e,x:me.getCenterX(),y:me.getCenterY(),w:me.width,h:me.height}}return oe},te.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var Z=!1;if("during"===k.ANIMATE)this.emit("layoutstarted");else{for(;!Z;)Z=this.tick();this.graphManager.updateBounds()}},te.prototype.calculateNodesToApplyGravitationTo=function(){var oe,_e,Z=[],ie=this.graphManager.getGraphs(),me=ie.length;for(_e=0;_e<me;_e++)(oe=ie[_e]).updateConnected(),oe.isConnected||(Z=Z.concat(oe.getNodes()));return Z},te.prototype.createBendpoints=function(){var Z=[];Z=Z.concat(this.graphManager.getAllEdges());var ie,oe=new Set;for(ie=0;ie<Z.length;ie++){var me=Z[ie];if(!oe.has(me)){var _e=me.getSource(),Te=me.getTarget();if(_e==Te)me.getBendpoints().push(new Q),me.getBendpoints().push(new Q),this.createDummyNodesForBendpoints(me),oe.add(me);else{var De=[];if(De=(De=De.concat(_e.getEdgeListToNode(Te))).concat(Te.getEdgeListToNode(_e)),!oe.has(De[0])){var ze;if(De.length>1)for(ze=0;ze<De.length;ze++){var Be=De[ze];Be.getBendpoints().push(new Q),this.createDummyNodesForBendpoints(Be)}De.forEach(function(at){oe.add(at)})}}}if(oe.size==Z.length)break}},te.prototype.positionNodesRadially=function(Z){for(var oe=new $(0,0),ie=Math.ceil(Math.sqrt(Z.length)),me=0,_e=0,Te=0,De=new Q(0,0),ze=0;ze<Z.length;ze++){ze%ie==0&&(Te=0,_e=me,0!=ze&&(_e+=L.DEFAULT_COMPONENT_SEPERATION),me=0);var Be=Z[ze],at=ue.findCenterOfTree(Be);oe.x=Te,oe.y=_e,(De=te.radialLayout(Be,at,oe)).y>me&&(me=Math.floor(De.y)),Te=Math.floor(De.x+L.DEFAULT_COMPONENT_SEPERATION)}this.transform(new Q(H.WORLD_CENTER_X-De.x/2,H.WORLD_CENTER_Y-De.y/2))},te.radialLayout=function(Z,oe,ie){var me=Math.max(this.maxDiagonalInTree(Z),L.DEFAULT_RADIAL_SEPARATION);te.branchRadialLayout(oe,null,0,359,0,me);var _e=ae.calculateBounds(Z),Te=new de;Te.setDeviceOrgX(_e.getMinX()),Te.setDeviceOrgY(_e.getMinY()),Te.setWorldOrgX(ie.x),Te.setWorldOrgY(ie.y);for(var De=0;De<Z.length;De++)Z[De].transform(Te);var Be=new Q(_e.getMaxX(),_e.getMaxY());return Te.inverseTransformPoint(Be)},te.branchRadialLayout=function(Z,oe,ie,me,_e,Te){var De=(me-ie+1)/2;De<0&&(De+=180);var Be=(De+ie)%360*le.TWO_PI/360,ht=(Math.cos(Be),_e*Math.cos(Be)),Ke=_e*Math.sin(Be);Z.setCenter(ht,Ke);var Ct=[],Ze=(Ct=Ct.concat(Z.getEdges())).length;null!=oe&&Ze--;for(var It,qt=0,Ht=Ct.length,mn=Z.getEdgesBetween(oe);mn.length>1;){var cn=mn[0];mn.splice(0,1);var lt=Ct.indexOf(cn);lt>=0&&Ct.splice(lt,1),Ht--,Ze--}It=null!=oe?(Ct.indexOf(mn[0])+1)%Ht:0;for(var it=Math.abs(me-ie)/Ze,pt=It;qt!=Ze;pt=++pt%Ht){var Ft=Ct[pt].getOtherEnd(Z);if(Ft!=oe){var St=(ie+qt*it)%360;te.branchRadialLayout(Ft,Z,St,(St+it)%360,_e+Te,Te),qt++}}},te.maxDiagonalInTree=function(Z){for(var oe=ne.MIN_VALUE,ie=0;ie<Z.length;ie++){var _e=Z[ie].getDiagonal();_e>oe&&(oe=_e)}return oe},te.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},te.prototype.groupZeroDegreeMembers=function(){var Z=this,oe={};this.memberGroups={},this.idToDummyNode={};for(var ie=[],me=this.graphManager.getAllNodes(),_e=0;_e<me.length;_e++){var De=(Te=me[_e]).getParent();0===this.getNodeDegreeWithChildren(Te)&&(null==De.id||!this.getToBeTiled(De))&&ie.push(Te)}for(_e=0;_e<ie.length;_e++){var Te,ze=(Te=ie[_e]).getParent().id;typeof oe[ze]>"u"&&(oe[ze]=[]),oe[ze]=oe[ze].concat(Te)}Object.keys(oe).forEach(function(Be){if(oe[Be].length>1){var at="DummyCompound_"+Be;Z.memberGroups[at]=oe[Be];var ht=oe[Be][0].getParent(),Ke=new A(Z.graphManager);Ke.id=at,Ke.paddingLeft=ht.paddingLeft||0,Ke.paddingRight=ht.paddingRight||0,Ke.paddingBottom=ht.paddingBottom||0,Ke.paddingTop=ht.paddingTop||0,Z.idToDummyNode[at]=Ke;var Ct=Z.getGraphManager().add(Z.newGraph(),Ke),Ze=ht.getChild();Ze.add(Ke);for(var qt=0;qt<oe[Be].length;qt++){var Ht=oe[Be][qt];Ze.remove(Ht),Ct.add(Ht)}}})},te.prototype.clearCompounds=function(){var Z={},oe={};this.performDFSOnCompounds();for(var ie=0;ie<this.compoundOrder.length;ie++)oe[this.compoundOrder[ie].id]=this.compoundOrder[ie],Z[this.compoundOrder[ie].id]=[].concat(this.compoundOrder[ie].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[ie].getChild()),this.compoundOrder[ie].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(Z,oe)},te.prototype.clearZeroDegreeMembers=function(){var Z=this,oe=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(ie){var me=Z.idToDummyNode[ie];oe[ie]=Z.tileNodes(Z.memberGroups[ie],me.paddingLeft+me.paddingRight),me.rect.width=oe[ie].width,me.rect.height=oe[ie].height})},te.prototype.repopulateCompounds=function(){for(var Z=this.compoundOrder.length-1;Z>=0;Z--){var oe=this.compoundOrder[Z];this.adjustLocations(this.tiledMemberPack[oe.id],oe.rect.x,oe.rect.y,oe.paddingLeft,oe.paddingTop)}},te.prototype.repopulateZeroDegreeMembers=function(){var Z=this,oe=this.tiledZeroDegreePack;Object.keys(oe).forEach(function(ie){var me=Z.idToDummyNode[ie];Z.adjustLocations(oe[ie],me.rect.x,me.rect.y,me.paddingLeft,me.paddingTop)})},te.prototype.getToBeTiled=function(Z){var oe=Z.id;if(null!=this.toBeTiled[oe])return this.toBeTiled[oe];var ie=Z.getChild();if(null==ie)return this.toBeTiled[oe]=!1,!1;for(var me=ie.getNodes(),_e=0;_e<me.length;_e++){var Te=me[_e];if(this.getNodeDegree(Te)>0)return this.toBeTiled[oe]=!1,!1;if(null!=Te.getChild()){if(!this.getToBeTiled(Te))return this.toBeTiled[oe]=!1,!1}else this.toBeTiled[Te.id]=!1}return this.toBeTiled[oe]=!0,!0},te.prototype.getNodeDegree=function(Z){for(var ie=Z.getEdges(),me=0,_e=0;_e<ie.length;_e++){var Te=ie[_e];Te.getSource().id!==Te.getTarget().id&&(me+=1)}return me},te.prototype.getNodeDegreeWithChildren=function(Z){var oe=this.getNodeDegree(Z);if(null==Z.getChild())return oe;for(var ie=Z.getChild().getNodes(),me=0;me<ie.length;me++)oe+=this.getNodeDegreeWithChildren(ie[me]);return oe},te.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},te.prototype.fillCompexOrderByDFS=function(Z){for(var oe=0;oe<Z.length;oe++){var ie=Z[oe];null!=ie.getChild()&&this.fillCompexOrderByDFS(ie.getChild().getNodes()),this.getToBeTiled(ie)&&this.compoundOrder.push(ie)}},te.prototype.adjustLocations=function(Z,oe,ie,me,_e){ie+=_e;for(var Te=oe+=me,De=0;De<Z.rows.length;De++){var ze=Z.rows[De];oe=Te;for(var Be=0,at=0;at<ze.length;at++){var ht=ze[at];ht.rect.x=oe,ht.rect.y=ie,oe+=ht.rect.width+Z.horizontalPadding,ht.rect.height>Be&&(Be=ht.rect.height)}ie+=Be+Z.verticalPadding}},te.prototype.tileCompoundMembers=function(Z,oe){var ie=this;this.tiledMemberPack=[],Object.keys(Z).forEach(function(me){var _e=oe[me];ie.tiledMemberPack[me]=ie.tileNodes(Z[me],_e.paddingLeft+_e.paddingRight),_e.rect.width=ie.tiledMemberPack[me].width,_e.rect.height=ie.tiledMemberPack[me].height})},te.prototype.tileNodes=function(Z,oe){var _e={rows:[],rowWidth:[],rowHeight:[],width:0,height:oe,verticalPadding:L.TILING_PADDING_VERTICAL,horizontalPadding:L.TILING_PADDING_HORIZONTAL};Z.sort(function(ze,Be){return ze.rect.width*ze.rect.height>Be.rect.width*Be.rect.height?-1:ze.rect.width*ze.rect.height<Be.rect.width*Be.rect.height?1:0});for(var Te=0;Te<Z.length;Te++){var De=Z[Te];0==_e.rows.length?this.insertNodeToRow(_e,De,0,oe):this.canAddHorizontal(_e,De.rect.width,De.rect.height)?this.insertNodeToRow(_e,De,this.getShortestRowIndex(_e),oe):this.insertNodeToRow(_e,De,_e.rows.length,oe),this.shiftToLastRow(_e)}return _e},te.prototype.insertNodeToRow=function(Z,oe,ie,me){var _e=me;ie==Z.rows.length&&(Z.rows.push([]),Z.rowWidth.push(_e),Z.rowHeight.push(0));var De=Z.rowWidth[ie]+oe.rect.width;Z.rows[ie].length>0&&(De+=Z.horizontalPadding),Z.rowWidth[ie]=De,Z.width<De&&(Z.width=De);var ze=oe.rect.height;ie>0&&(ze+=Z.verticalPadding);var Be=0;ze>Z.rowHeight[ie]&&(Be=Z.rowHeight[ie],Z.rowHeight[ie]=ze,Be=Z.rowHeight[ie]-Be),Z.height+=Be,Z.rows[ie].push(oe)},te.prototype.getShortestRowIndex=function(Z){for(var oe=-1,ie=Number.MAX_VALUE,me=0;me<Z.rows.length;me++)Z.rowWidth[me]<ie&&(oe=me,ie=Z.rowWidth[me]);return oe},te.prototype.getLongestRowIndex=function(Z){for(var oe=-1,ie=Number.MIN_VALUE,me=0;me<Z.rows.length;me++)Z.rowWidth[me]>ie&&(oe=me,ie=Z.rowWidth[me]);return oe},te.prototype.canAddHorizontal=function(Z,oe,ie){var me=this.getShortestRowIndex(Z);if(me<0)return!0;var _e=Z.rowWidth[me];if(_e+Z.horizontalPadding+oe<=Z.width)return!0;var De,ze,Te=0;return Z.rowHeight[me]<ie&&me>0&&(Te=ie+Z.verticalPadding-Z.rowHeight[me]),De=Z.width-_e>=oe+Z.horizontalPadding?(Z.height+Te)/(_e+oe+Z.horizontalPadding):(Z.height+Te)/Z.width,Te=ie+Z.verticalPadding,(ze=Z.width<oe?(Z.height+Te)/oe:(Z.height+Te)/Z.width)<1&&(ze=1/ze),De<1&&(De=1/De),De<ze},te.prototype.shiftToLastRow=function(Z){var oe=this.getLongestRowIndex(Z),ie=Z.rowWidth.length-1,me=Z.rows[oe],_e=me[me.length-1],Te=_e.width+Z.horizontalPadding;if(Z.width-Z.rowWidth[ie]>Te&&oe!=ie){me.splice(-1,1),Z.rows[ie].push(_e),Z.rowWidth[oe]=Z.rowWidth[oe]-Te,Z.rowWidth[ie]=Z.rowWidth[ie]+Te,Z.width=Z.rowWidth[instance.getLongestRowIndex(Z)];for(var De=Number.MIN_VALUE,ze=0;ze<me.length;ze++)me[ze].height>De&&(De=me[ze].height);oe>0&&(De+=Z.verticalPadding);var Be=Z.rowHeight[oe]+Z.rowHeight[ie];Z.rowHeight[oe]=De,Z.rowHeight[ie]<_e.height+Z.verticalPadding&&(Z.rowHeight[ie]=_e.height+Z.verticalPadding),Z.height+=Z.rowHeight[oe]+Z.rowHeight[ie]-Be,this.shiftToLastRow(Z)}},te.prototype.tilingPreLayout=function(){L.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},te.prototype.tilingPostLayout=function(){L.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},te.prototype.reduceTrees=function(){for(var ie,Z=[],oe=!0;oe;){var me=this.graphManager.getAllNodes(),_e=[];oe=!1;for(var Te=0;Te<me.length;Te++)1==(ie=me[Te]).getEdges().length&&!ie.getEdges()[0].isInterGraph&&null==ie.getChild()&&(_e.push([ie,ie.getEdges()[0],ie.getOwner()]),oe=!0);if(1==oe){for(var De=[],ze=0;ze<_e.length;ze++)1==_e[ze][0].getEdges().length&&(De.push(_e[ze]),_e[ze][0].getOwner().remove(_e[ze][0]));Z.push(De),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=Z},te.prototype.growTree=function(Z){for(var me,ie=Z[Z.length-1],_e=0;_e<ie.length;_e++)this.findPlaceforPrunedNode(me=ie[_e]),me[2].add(me[0]),me[2].add(me[1],me[1].source,me[1].target);Z.splice(Z.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},te.prototype.findPlaceforPrunedNode=function(Z){var oe,ie,me=Z[0],_e=(ie=me==Z[1].source?Z[1].target:Z[1].source).startX,Te=ie.finishX,De=ie.startY,ze=ie.finishY,Ct=[0,0,0,0];if(De>0)for(var Ze=_e;Ze<=Te;Ze++)Ct[0]+=this.grid[Ze][De-1].length+this.grid[Ze][De].length-1;if(Te<this.grid.length-1)for(Ze=De;Ze<=ze;Ze++)Ct[1]+=this.grid[Te+1][Ze].length+this.grid[Te][Ze].length-1;if(ze<this.grid[0].length-1)for(Ze=_e;Ze<=Te;Ze++)Ct[2]+=this.grid[Ze][ze+1].length+this.grid[Ze][ze].length-1;if(_e>0)for(Ze=De;Ze<=ze;Ze++)Ct[3]+=this.grid[_e-1][Ze].length+this.grid[_e][Ze].length-1;for(var Ht,It,qt=ne.MAX_VALUE,mn=0;mn<Ct.length;mn++)Ct[mn]<qt?(qt=Ct[mn],Ht=1,It=mn):Ct[mn]==qt&&Ht++;if(3==Ht&&0==qt)0==Ct[0]&&0==Ct[1]&&0==Ct[2]?oe=1:0==Ct[0]&&0==Ct[1]&&0==Ct[3]?oe=0:0==Ct[0]&&0==Ct[2]&&0==Ct[3]?oe=3:0==Ct[1]&&0==Ct[2]&&0==Ct[3]&&(oe=2);else if(2==Ht&&0==qt){var cn=Math.floor(2*Math.random());oe=0==Ct[0]&&0==Ct[1]?0==cn?0:1:0==Ct[0]&&0==Ct[2]?0==cn?0:2:0==Ct[0]&&0==Ct[3]?0==cn?0:3:0==Ct[1]&&0==Ct[2]?0==cn?1:2:0==Ct[1]&&0==Ct[3]?0==cn?1:3:0==cn?2:3}else oe=4==Ht&&0==qt?cn=Math.floor(4*Math.random()):It;0==oe?me.setCenter(ie.getCenterX(),ie.getCenterY()-ie.getHeight()/2-k.DEFAULT_EDGE_LENGTH-me.getHeight()/2):1==oe?me.setCenter(ie.getCenterX()+ie.getWidth()/2+k.DEFAULT_EDGE_LENGTH+me.getWidth()/2,ie.getCenterY()):2==oe?me.setCenter(ie.getCenterX(),ie.getCenterY()+ie.getHeight()/2+k.DEFAULT_EDGE_LENGTH+me.getHeight()/2):me.setCenter(ie.getCenterX()-ie.getWidth()/2-k.DEFAULT_EDGE_LENGTH-me.getWidth()/2,ie.getCenterY())},P.exports=te},function(P,O,I){"use strict";var C={};C.layoutBase=I(0),C.CoSEConstants=I(1),C.CoSEEdge=I(2),C.CoSEGraph=I(3),C.CoSEGraphManager=I(4),C.CoSELayout=I(6),C.CoSENode=I(5),P.exports=C}]))},6827:function(Y,se,D){var T,P;Y.exports=(T=D(5886),P=D(1610),function(O){var I={};function C(S){if(I[S])return I[S].exports;var R=I[S]={i:S,l:!1,exports:{}};return O[S].call(R.exports,R,R.exports,C),R.l=!0,R.exports}return C.m=O,C.c=I,C.i=function(S){return S},C.d=function(S,R,A){C.o(S,R)||Object.defineProperty(S,R,{configurable:!1,enumerable:!0,get:A})},C.n=function(S){var R=S&&S.__esModule?function(){return S.default}:function(){return S};return C.d(R,"a",R),R},C.o=function(S,R){return Object.prototype.hasOwnProperty.call(S,R)},C.p="",C(C.s=15)}([function(O,I){O.exports=T},function(O,I,C){"use strict";var S=C(0).layoutBase.FDLayoutConstants;function R(){}for(var A in S)R[A]=S[A];R.DEFAULT_SPRING_STRENGTH=1.5*S.DEFAULT_SPRING_STRENGTH,R.DEFAULT_NODE_SEPARATION=S.DEFAULT_EDGE_LENGTH/4,R.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF=1.4,R.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE=!1,R.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=.1,R.DEFAULT_INNER_EDGE_LENGTH=S.DEFAULT_EDGE_LENGTH/3,R.MAX_ROTATION_ANGLE=Math.PI/36,R.MIN_ROTATION_ANGLE=-R.MAX_ROTATION_ANGLE,R.SWAP_HISTORY_CLEARANCE_PERIOD=6*(R.SWAP_PERIOD=(R.SWAP_IDLE_DURATION=45)+(R.SWAP_PREPERATION_DURATION=5)),R.MIN_DISPLACEMENT_FOR_SWAP=6,R.REVERSE_PERIOD=25,O.exports=R},function(O,I,C){"use strict";O.exports=null!=Object.assign?Object.assign.bind(Object):function(S){for(var R=arguments.length,A=Array(R>1?R-1:0),V=1;V<R;V++)A[V-1]=arguments[V];return A.forEach(function(L){Object.keys(L).forEach(function(k){return S[k]=L[k]})}),S}},function(O,I){O.exports=P},function(O,I,C){"use strict";O.exports=C(16)},function(O,I,C){"use strict";var S=C(0).layoutBase.LGraph,R=C(0).layoutBase.IGeometry,A=C(0).layoutBase.NeedlemanWunsch,V=C(14),L=C(1),k=C(8),H=C(9);function $(ue,ne,le){S.call(this,ue,ne,le),this.intraClusterEdges=null,this.interClusterEdges=null,this.inNodes=[],this.outNodes=[],this.onCircleNodes=[],this.inCircleNodes=[],this.radius=0,this.orderMatrix=null,this.mayBeReversed=!0}for(var Q in $.prototype=Object.create(S.prototype),S)$[Q]=S[Q];$.prototype.setRadius=function(ue){this.radius=ue},$.prototype.getRadius=function(){return this.radius},$.prototype.getInNodes=function(){return this.inNodes},$.prototype.getOutNodes=function(){return this.outNodes},$.prototype.getOnCircleNodes=function(){return this.onCircleNodes},$.prototype.getInCircleNodes=function(){return this.inCircleNodes},$.prototype.setMayNotBeReversed=function(){this.mayBeReversed=!1},$.prototype.getMayBeReversed=function(){return this.mayBeReversed},$.prototype.getChildAt=function(ue){return this.onCircleNodes[ue]},$.prototype.getInterClusterEdges=function(){var ue=this;return null===this.interClusterEdges&&(this.interClusterEdges=[],this.outNodes.forEach(function(ne){for(var le=ne.getOnCircleNodeExt().getInterClusterEdges(),ae=0;ae<le.length;ae++)ue.interClusterEdges.push(le[ae])})),this.interClusterEdges},$.prototype.getIntraClusterEdges=function(){var ue=this;return null===this.intraClusterEdges&&(this.intraClusterEdges=[],this.getEdges().forEach(function(le){le.isIntraEdge()&&ue.intraClusterEdges.push(le)})),this.intraClusterEdges},$.prototype.calculateParentNodeDimension=function(){for(var ne=Number.MIN_SAFE_INTEGER,le=0;le<this.onCircleNodes.length;le++){var ae=this.onCircleNodes[le];ae.getWidth()>ne&&(ne=ae.getWidth()),ae.getHeight()>ne&&(ne=ae.getHeight())}var de=2*(this.radius+this.margin)+ne,te=this.getParent();te.setHeight(de),te.setWidth(de)},$.prototype.computeOrderMatrix=function(){var ue=this.onCircleNodes.length;this.orderMatrix=new Array(ue);for(var ne=0;ne<this.orderMatrix.length;ne++)this.orderMatrix[ne]=new Array(ue);for(var le=0;le<ue;le++)for(var ae=0;ae<ue;ae++)if(ae>le){var de=this.onCircleNodes[ae].getOnCircleNodeExt().getAngle()-this.onCircleNodes[le].getOnCircleNodeExt().getAngle();de<0&&(de+=R.TWO_PI),de<=Math.PI?(this.orderMatrix[le][ae]=!0,this.orderMatrix[ae][le]=!1):(this.orderMatrix[le][ae]=!1,this.orderMatrix[ae][le]=!0)}},$.prototype.rotate=function(){var ue=this.getParent(),ne=this.getOnCircleNodes().length,le=ue.rotationAmount/ne,ae=this.getGraphManager().getLayout();if(0!==le){var de=le/this.radius;de>L.MAX_ROTATION_ANGLE?de=L.MAX_ROTATION_ANGLE:de<L.MIN_ROTATION_ANGLE&&(de=L.MIN_ROTATION_ANGLE);for(var te=0;te<ne;te++){var Z=this.getChildAt(te).getOnCircleNodeExt();Z.setAngle(Z.getAngle()+de),Z.updatePosition()}ae.totalDisplacement+=ue.rotationAmount,ue.rotationAmount=0}},$.prototype.getOrder=function(ue,ne){return this.orderMatrix[ue.getOnCircleNodeExt().getIndex()][ne.getOnCircleNodeExt().getIndex()]},$.prototype.getThisEnd=function(ue){var ne=ue.getSource(),le=ue.getTarget();return ne.getOwner()===this?ne:le},$.prototype.getOtherEnd=function(ue){var ne=ue.getSource(),le=ue.getTarget();return ne.getOwner()===this?le:ne},$.prototype.decomposeForce=function(ue){var ne=void 0;if(0!==ue.displacementX||0!==ue.displacementY){var Te,le=this.getParent(),ae=le.getCenterX(),de=le.getCenterY(),te=ue.getCenterX(),pe=ue.getCenterY(),Z=ue.displacementX,oe=ue.displacementY,ie=R.angleOfVector(ae,de,te,pe),me=R.angleOfVector(0,0,Z,oe),_e=ie+Math.PI;Te=Math.PI<=_e&&_e<R.TWO_PI?ie<=me&&me<_e:!((_e-=R.TWO_PI)<=me&&me<ie);var De=Math.abs(ie-me),ze=Math.sqrt(Z*Z+oe*oe),Be=Math.abs(Math.sin(De)*ze);Te||(Be=-Be),ne=new V(Be,Z,oe)}else ne=new V(0,0,0);return ne},$.prototype.swapNodes=function(ue,ne){var le=ue,ae=ne,de=ue.getOnCircleNodeExt(),te=ne.getOnCircleNodeExt();if(le.getOnCircleNodeExt().getIndex()>ne.getOnCircleNodeExt().getIndex()&&(le=ne,ae=ue),le.getOnCircleNodeExt().getPrevNode()===ae){var pe=ae;ae=le,le=pe}var Z=le.getOnCircleNodeExt(),oe=ae.getOnCircleNodeExt(),ie=Z.getPrevNode(),_e=this.getGraphManager().getLayout().getNodeSeparation(),Te=(ie.getOnCircleNodeExt().getAngle()+(ie.getHalfTheDiagonal()+ae.getHalfTheDiagonal()+_e)/this.radius)%(2*Math.PI);oe.setAngle(Te),Te=(oe.getAngle()+(ae.getHalfTheDiagonal()+le.getHalfTheDiagonal()+_e)/this.radius)%(2*Math.PI),Z.setAngle(Te),Z.updatePosition(),oe.updatePosition();var De=de.getIndex();de.setIndex(te.getIndex()),te.setIndex(De),this.getOnCircleNodes()[de.getIndex()]=ue,this.getOnCircleNodes()[te.getIndex()]=ne,de.updateSwappingConditions(),te.updateSwappingConditions(),de.getNextNode()===ne?(de.getPrevNode().getOnCircleNodeExt().updateSwappingConditions(),te.getNextNode().getOnCircleNodeExt().updateSwappingConditions()):(de.getNextNode().getOnCircleNodeExt().updateSwappingConditions(),te.getPrevNode().getOnCircleNodeExt().updateSwappingConditions())},$.prototype.checkAndReverseIfReverseIsBetter=function(){for(var ue=this.getInterClusterEdges(),ne=new Array(ue.length),le=void 0,ae=this.getParent().getCenter(),de=void 0,te=void 0,Z=void 0,oe=this.onCircleNodes.length,ie=new Array(oe),me=0;me<oe;me++)ie[me]=0;for(var _e=0,Te=0;Te<ue.length;Te++)Z=this.getOtherEnd(de=ue[Te]).getCenter(),le=R.angleOfVector(ae.x,ae.y,Z.x,Z.y),ne[Te]=new k(de,le),ie[(te=this.getThisEnd(de)).getOnCircleNodeExt().getIndex()]++,ie[te.getOnCircleNodeExt().getIndex()]>1&&_e++;for(var De=this.onCircleNodes,ze=oe+_e,Be=new Array(2*ze),at=new Array(2*ze),ht=void 0,Ke=-1,Ct=0;Ct<oe;Ct++){ht=De[Ct],0===ie[Ct]&&(ie[Ct]=1);for(var Ze=0;Ze<ie[Ct];Ze++)Be[++Ke]=Be[ze+Ke]=at[ze-1-Ke]=at[2*ze-1-Ke]=ht.getOnCircleNodeExt().getCharCode()}new H(this,ne);for(var Ht=new Array(ne.length),It=0;It<ne.length;It++)de=ne[It].getEdge(),te=this.getThisEnd(de),Ht[It]=te.getOnCircleNodeExt().getCharCode();var mn=this.computeAlignmentScore(Be,Ht);if(-1!==mn){var cn=this.computeAlignmentScore(at,Ht);if(-1!==cn&&cn>mn)return this.reverseNodes(),this.setMayNotBeReversed(),!0}return!1},$.prototype.computeAlignmentScore=function(ue,ne){return new A(ue,ne,20,-1,-2).getScore()},$.prototype.reverseNodes=function(){for(var ue=this.getOnCircleNodes(),ne=this.getOnCircleNodes().length,le=0;le<ne;le++){var de=ue[le].getOnCircleNodeExt();de.setIndex((ne-de.getIndex())%ne)}this.reCalculateNodeAnglesAndPositions()},$.prototype.moveOnCircleNodeInside=function(ue){var ne=this.onCircleNodes.indexOf(ue);ne>-1&&this.onCircleNodes.splice(ne,1),this.inCircleNodes.push(ue);for(var le=0;le<this.onCircleNodes.length;le++)this.onCircleNodes[le].getOnCircleNodeExt().setIndex(le);ue.setAsNonOnCircleNode(),this.reCalculateCircleSizeAndRadius(),this.reCalculateNodeAnglesAndPositions(),ue.setCenter(this.getParent().getCenterX(),this.getParent().getCenterY())},$.prototype.reCalculateCircleSizeAndRadius=function(){for(var ue=0,ne=this.getOnCircleNodes(),le=0;le<ne.length;le++){var ae=ne[le],de=ae.getWidth()*ae.getWidth()+ae.getHeight()*ae.getHeight();ue+=Math.sqrt(de)}var pe=this.getGraphManager().getLayout().getNodeSeparation(),Z=ue+this.getOnCircleNodes().length*pe;this.radius=Z/(2*Math.PI),this.calculateParentNodeDimension()},$.prototype.reCalculateNodeAnglesAndPositions=function(){var ne=this.getGraphManager().getLayout().getNodeSeparation(),le=this.onCircleNodes;le.sort(function(ie,me){return ie.getOnCircleNodeExt().getIndex()-me.getOnCircleNodeExt().getIndex()});for(var ae=this.getParent().getCenterX(),de=this.getParent().getCenterY(),te=0;te<le.length;te++){var pe=le[te],Z=void 0;if(0===te)Z=0;else{var oe=le[te-1];Z=oe.getOnCircleNodeExt().getAngle()+(pe.getHalfTheDiagonal()+ne+oe.getHalfTheDiagonal())/this.radius}pe.getOnCircleNodeExt().setAngle(Z),pe.setCenter(ae+this.radius*Math.cos(Z),de+this.radius*Math.sin(Z))}},O.exports=$},function(O,I,C){"use strict";var S=C(0).layoutBase.FDLayoutEdge;function R(V,L,k){S.call(this,V,L,k),this.isIntraCluster=!0}for(var A in R.prototype=Object.create(S.prototype),S)R[A]=S[A];R.prototype.isIntraEdge=function(){return this.isIntraCluster},R.prototype.crossesWithEdge=function(V){var L=!1,k=this.getSource().getOnCircleNodeExt(),H=this.getTarget().getOnCircleNodeExt(),$=V.getSource().getOnCircleNodeExt(),Q=V.getTarget().getOnCircleNodeExt(),ue=-1,ne=-1,le=-1,ae=-1;if(null!==k&&(ue=k.getIndex()),null!==H&&(ne=H.getIndex()),null!==$&&(le=$.getIndex()),null!==Q&&(ae=Q.getIndex()),this.isInterGraph||V.isInterGraph)L=!0;else if(this.source.getOwner()!==this.target.getOwner())L=!1;else{(-1===ue||-1===ne||-1===le||-1===ae)&&(L=!1);var de=$.getCircDistWithTheNode(k),te=Q.getCircDistWithTheNode(k),pe=H.getCircDistWithTheNode(k);pe<Math.max(de,te)&&pe>Math.min(de,te)&&0!==te&&0!==de&&(L=!0)}return L},R.prototype.calculateTotalCrossingWithList=function(V){for(var L=0,k=0;k<V.length;k++)L+=this.crossingWithEdge(V[k]);return L},R.prototype.crossingWithEdge=function(V){var k=0;return this.crossesWithEdge(V)&&(k=1),k},O.exports=R},function(O,I,C){"use strict";var S=C(0).layoutBase.LGraphManager;function R(V){S.call(this,V),this.onCircleNodes=[],this.inCircleNodes=[],this.nonOnCircleNodes=[]}for(var A in R.prototype=Object.create(S.prototype),S)R[A]=S[A];R.prototype.getOnCircleNodes=function(){return this.onCircleNodes},R.prototype.getInCircleNodes=function(){return this.inCircleNodes},R.prototype.getNonOnCircleNodes=function(){return this.nonOnCircleNodes},R.prototype.setOnCircleNodes=function(V){this.onCircleNodes=V},R.prototype.setInCircleNodes=function(V){this.inCircleNodes=V},R.prototype.setNonOnCircleNodes=function(V){this.nonOnCircleNodes=V},O.exports=R},function(O,I,C){"use strict";function S(R,A){this.edge=R,this.angle=A}(S.prototype=Object.create(null)).getEdge=function(){return this.edge},S.prototype.getAngle=function(){return this.angle},O.exports=S},function(O,I,C){"use strict";var S=function(){function V(L,k){for(var H=0;H<k.length;H++){var $=k[H];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(L,$.key,$)}}return function(L,k,H){return k&&V(L.prototype,k),H&&V(L,H),L}}();var A=function(){function V(L,k){(function R(V,L){if(!(V instanceof L))throw new TypeError("Cannot call a class as a function")})(this,V),this.ownerCircle=L,this._quicksort(k,0,k.length-1)}return S(V,[{key:"compareFunction",value:function(k,H){return H.getAngle()>k.getAngle()||H.getAngle()===k.getAngle()&&k!==H&&this.ownerCircle.getOrder(this.ownerCircle.getThisEnd(k.getEdge()),this.ownerCircle.getThisEnd(H.getEdge()))}},{key:"_quicksort",value:function(k,H,$){if(H<$){var Q=this._partition(k,H,$);this._quicksort(k,H,Q),this._quicksort(k,Q+1,$)}}},{key:"_partition",value:function(k,H,$){for(var Q=this._get(k,H),ue=H,ne=$;;){for(;this.compareFunction(Q,this._get(k,ne));)ne--;for(;this.compareFunction(this._get(k,ue),Q);)ue++;if(!(ue<ne))return ne;this._swap(k,ue,ne),ue++,ne--}}},{key:"_get",value:function(k,H){return k[H]}},{key:"_set",value:function(k,H,$){k[H]=$}},{key:"_swap",value:function(k,H,$){var Q=this._get(k,H);this._set(k,H,this._get(k,$)),this._set(k,$,Q)}}]),V}();O.exports=A},function(O,I,C){"use strict";var S=C(0).layoutBase.FDLayout,R=C(0).layoutBase.HashMap,A=C(0).layoutBase.PointD,V=C(0).layoutBase.DimensionD,L=C(0).AVSDFConstants,k=C(0).AVSDFLayout,H=C(3).CoSELayout,Q=(C(3),C(1)),ue=C(7),ne=C(5),le=C(11),ae=C(6),de=C(13);function te(){S.call(this),this.incremental=Q.INCREMENTAL,this.nodeSeparation=Q.DEFAULT_NODE_SEPARATION,this.idealInterClusterEdgeLengthCoefficient=Q.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF,this.allowNodesInsideCircle=Q.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE,this.maxRatioOfNodesInsideCircle=Q.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE,this.step=te.STEP_NOT_STARTED,this.phase=te.PHASE_NOT_STARTED,this.swappedPairsInLastIteration=[],this.iterations=0,this.oldTotalDisplacement=0,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/Q.CONVERGENCE_CHECK_PERIOD}for(var pe in te.prototype=Object.create(S.prototype),S)te[pe]=S[pe];te.STEP_NOT_STARTED=0,te.STEP_1=1,te.STEP_2=2,te.STEP_3=3,te.STEP_4=4,te.STEP_5=5,te.PHASE_NOT_STARTED=0,te.PHASE_SWAP_PREPERATION=1,te.PHASE_PERFORM_SWAP=2,te.PHASE_OTHER=3,te.prototype.newGraphManager=function(){return this.graphManager=new ue(this),this.graphManager},te.prototype.newCircleLGraph=function(Z){return new ne(null,this.graphManager,Z)},te.prototype.newNode=function(Z,oe){return new le(this.graphManager,Z,oe,null)},te.prototype.newCiSEOnCircleNode=function(Z,oe){var ie=this.newNode(Z,oe);return ie.setAsOnCircleNode(),ie},te.prototype.newEdge=function(Z,oe,ie){return new ae(Z,oe,ie)},te.prototype.getNodeSeparation=function(){return this.nodeSeparation},te.prototype.convertToClusteredGraph=function(Z,oe,ie){for(var me=this,_e=this,Te={},De=this.graphManager.getRoot(),ze=new R,Be=0;Be<Z.length;Be++)ze.put(Z[Be].data("id"),Z[Be]);if("function"==typeof ie){for(var at=[],ht=[],Ke=0;Ke<Z.length;Ke++){var Ct=ie(Z[Ke]);if(Ct>0&&null!=Ct){var Ze=at.indexOf(Ct);Ze>-1?ht[Ze].push(Z[Ke].data("id")):(at.push(Ct),ht.push([Z[Ke].data("id")]))}}ie=ht}for(var qt=function(Xr){if(0===ie[Xr].length)return"continue";var dn=me.newNode(null);dn.setClusterId(Xr),De.add(dn);var Ri=me.newCircleLGraph(null);me.graphManager.add(Ri,dn),Ri.margin=Ri.margin+15,ie[Xr].forEach(function(ro){var Fi=ze.get(ro),Bi=Fi.layoutDimensions({nodeDimensionsIncludeLabels:!1}),jr=_e.newCiSEOnCircleNode(new A(Fi.position("x")-Bi.w/2,Fi.position("y")-Bi.h/2),new V(parseFloat(Bi.w),parseFloat(Bi.h)));jr.setId(ro),jr.setClusterId(Xr),Ri.getOnCircleNodes().push(jr),Ri.add(jr),Ri.getInNodes().push(jr),Te[jr.getId()]=jr})},Ht=0;Ht<ie.length;Ht++)qt(Ht);for(var mn=function(Xr){var dn=!1;if(ie.forEach(function(Bi){Bi.includes(Z[Xr].data("id"))&&(dn=!0)}),!dn){var Ri=Z[Xr],ro=Ri.layoutDimensions({nodeDimensionsIncludeLabels:!1}),Fi=me.newNode(new A(Ri.position("x")-ro.w/2,Ri.position("y")-ro.h/2),new V(parseFloat(ro.w),parseFloat(ro.h)));Fi.setClusterId(-1),Fi.setId(Z[Xr].data("id")),De.add(Fi),Te[Fi.getId()]=Fi}},cn=0;cn<Z.length;cn++)mn(cn);for(var lt=0;lt<oe.length;lt++){var it=oe[lt],pt=Te[it.data("source")],Ft=Te[it.data("target")],St=pt.getClusterId(),Kn=Ft.getClusterId();if(pt!==Ft){var Jn=_e.newEdge(pt,Ft,null);St===Kn&&-1!==St&&-1!==Kn?(Jn.isIntraCluster=!0,Jn.getSource().getOwner().add(Jn,Jn.getSource(),Jn.getTarget())):(Jn.isIntraCluster=!1,this.graphManager.add(Jn,Jn.getSource(),Jn.getTarget()))}}for(var Tr=[],kr=[],Cr=this.graphManager.getAllNodes(),_n=0;_n<Cr.length;_n++)Cr[_n].getOnCircleNodeExt()?Tr.push(Cr[_n]):kr.push(Cr[_n]);return this.graphManager.setOnCircleNodes(Tr),this.graphManager.setNonOnCircleNodes(kr),this.graphManager.edges.forEach(function(zn){var Xr=zn.getSource(),dn=zn.getTarget(),Ri=Xr.getClusterId(),ro=dn.getClusterId();if(-1!==Ri){var Fi=Xr.getOwner(),Bi=Fi.getInNodes().indexOf(Xr);Bi>-1&&(Fi.getInNodes().splice(Bi,1),Fi.getOutNodes().push(Xr))}if(-1!==ro){var jr=dn.getOwner(),Ki=jr.getInNodes().indexOf(dn);Ki>-1&&(jr.getInNodes().splice(Ki,1),jr.getOutNodes().push(dn))}}),Te},te.prototype.doStep1=function(){this.step=te.STEP_1,this.phase=te.PHASE_OTHER;for(var Z=new R,oe=this.graphManager.getGraphs(),ie=0;ie<oe.length;ie++){var me=oe[ie];if(me instanceof ne){L.DEFAULT_NODE_SEPARATION=this.nodeSeparation;for(var _e=new k,Te=_e.graphManager.addRoot(),De=me.getOnCircleNodes(),ze=0;ze<De.length;ze++){var Be=De[ze],at=_e.newNode(null),ht=Be.getLocation();at.setLocation(ht.x,ht.y),at.setWidth(Be.getWidth()),at.setHeight(Be.getHeight()),Te.add(at),Z.put(Be,at)}for(var Ke=this.getAllEdges(),Ct=0;Ct<Ke.length;Ct++){var Ze=Ke[Ct];if(De.includes(Ze.getSource())&&De.includes(Ze.getTarget())){var qt=Z.get(Ze.getSource()),Ht=Z.get(Ze.getTarget()),It=_e.newEdge("");Te.add(It,qt,Ht)}}_e.layout();for(var mn=_e.initPostProcess(),cn=0;cn<mn.length;cn++)_e.oneStepPostProcess(mn[cn]);_e.updateNodeAngles(),_e.updateNodeCoordinates();for(var lt=0;lt<De.length;lt++){var it=De[lt],pt=Z.get(it),Ft=pt.getLocation();it.setLocation(Ft.x,Ft.y),it.getOnCircleNodeExt().setIndex(pt.getIndex()),it.getOnCircleNodeExt().setAngle(pt.getAngle())}if(De.sort(function(Jn,Tr){return Jn.getOnCircleNodeExt().getIndex()-Tr.getOnCircleNodeExt().getIndex()}),Te.getNodes().length>0){var St=me.getParent(),Kn=Te.getParent();St.setLocation(Kn.getLocation().x,Kn.getLocation().y),me.setRadius(Te.getRadius()),me.calculateParentNodeDimension()}}}},te.prototype.doStep2=function(){this.step=te.STEP_2,this.phase=te.PHASE_OTHER;var Z=[],oe=[],ie=new R,me=new R,_e=new H;_e.isSubLayout=!1,_e.useMultiLevelScaling=!1,_e.useFRGridVariant=!0,_e.springConstant*=1.5;for(var De=_e.newGraphManager().addRoot(),ze=this.graphManager.getNonOnCircleNodes(),Be=0;Be<ze.length;Be++){var at=ze[Be],ht=_e.newNode(null),Ke=at.getLocation();ht.setLocation(Ke.x,Ke.y),ht.setWidth(at.getWidth()),ht.setHeight(at.getHeight()),null!=at.getChild()&&(ht.setWidth(1.2*ht.getWidth()),ht.setHeight(1.2*ht.getHeight())),ht.id=Be,De.add(ht),Z.push(ht),ie.put(at,ht)}for(var Ct=new Array(Z.length),Ze=0;Ze<Ct.length;Ze++)Ct[Ze]=new Array(Z.length);for(var qt=this.graphManager.getAllEdges(),Ht=0;Ht<qt.length;Ht++){var It=qt[Ht],mn=It.getSource(),cn=It.getTarget();null!=mn.getOnCircleNodeExt()&&(mn=It.getSource().getOwner().getParent()),null!=cn.getOnCircleNodeExt()&&(cn=It.getTarget().getOwner().getParent());var lt=ie.get(mn),it=ie.get(cn),pt=Z.indexOf(lt),Ft=Z.indexOf(it),St=void 0;pt!==Ft&&(null==Ct[pt][Ft]&&null==Ct[Ft][pt]?(St=_e.newEdge(null),De.add(St,lt,it),oe.push(St),me.put(St,[]),Ct[pt][Ft]=St,Ct[Ft][pt]=St):St=Ct[pt][Ft],me.get(St).push(It))}_e.runLayout();for(var Kn=0;Kn<ze.length;Kn++){var Jn=ze[Kn],kr=ie.get(Jn).getLocation();Jn.setLocation(kr.x,kr.y)}for(var Cr=this.graphManager.getOnCircleNodes(),_n=0;_n<Cr.length;_n++){var zn=Cr[_n],Xr=zn.getLocation(),dn=zn.getOwner().getParent().getLocation();zn.setLocation(Xr.x+dn.x,Xr.y+dn.y)}},te.prototype.step3Init=function(){this.step=te.STEP_3,this.phase=te.PHASE_OTHER,this.initSpringEmbedder(),this.coolingCycle=0},te.prototype.step4Init=function(){this.step=te.STEP_4,this.phase=te.PHASE_OTHER,this.initSpringEmbedder();for(var Z=0;Z<this.graphManager.getOnCircleNodes().length;Z++)this.graphManager.getOnCircleNodes()[Z].getOnCircleNodeExt().updateSwappingConditions();this.coolingCycle=0},te.prototype.step5Init=function(){this.step=te.STEP_5,this.phase=te.PHASE_OTHER,this.initSpringEmbedder(),this.coolingCycle=0},te.prototype.runSpringEmbedderTick=function(){if(this.iterations++,this.totalIterations=this.iterations,this.iterations%Q.CONVERGENCE_CHECK_PERIOD==0){if((this.step!==te.STEP_4||this.iterations>this.maxIterations/4)&&this.isConverged())return!0;this.coolingFactor=this.initialCoolingFactor*((this.maxIterations-this.iterations)/this.maxIterations)}if(this.totalDisplacement=0,this.step===te.STEP_3)this.iterations%Q.REVERSE_PERIOD==0&&this.checkAndReverseIfReverseIsBetter();else if(this.step===te.STEP_4){this.iterations%Q.SWAP_HISTORY_CLEARANCE_PERIOD==0&&(this.swappedPairsInLastIteration=[]);var oe=this.iterations%Q.SWAP_PERIOD;this.phase=oe>=Q.SWAP_IDLE_DURATION?te.PHASE_SWAP_PREPERATION:0===oe?te.PHASE_PERFORM_SWAP:te.PHASE_OTHER}return this.calcSpringForces(),this.calcRepulsionForces(),this.calcGravitationalForces(),this.calcTotalForces(),this.moveNodes(),this.iterations>=this.maxIterations},te.prototype.prepareCirclesForReversal=function(){this.graphManager.getRoot().getNodes().forEach(function(oe){var ie=oe.getChild();null!=ie&&(ie.getInterClusterEdges().length<2&&ie.setMayNotBeReversed(),ie.computeOrderMatrix())})},te.prototype.calcIdealEdgeLengths=function(Z){for(var oe=this.graphManager.getAllEdges(),ie=0;ie<oe.length;ie++){oe[ie].idealLength=Z?1.5*this.idealEdgeLength*this.idealInterClusterEdgeLengthCoefficient:this.idealEdgeLength*this.idealInterClusterEdgeLengthCoefficient}for(var _e=this.graphManager.getInCircleNodes(),Te=0;Te<_e.length;Te++)_e[Te].getEdges().forEach(function(ze){ze.idealLength=Q.DEFAULT_INNER_EDGE_LENGTH})},te.prototype.calcSpringForces=function(){for(var Z=this.graphManager.getAllEdges(),oe=0;oe<Z.length;oe++){var ie=Z[oe],me=ie.getSource(),_e=ie.getTarget();ie.isIntraCluster&&null!=me.getOnCircleNodeExt()&&null!=_e.getOnCircleNodeExt()||this.calcSpringForce(ie,ie.idealLength)}},te.prototype.calcRepulsionForces=function(){for(var Z=this.graphManager.getNonOnCircleNodes(),oe=0;oe<Z.length;oe++)for(var ie=Z[oe],me=oe+1;me<Z.length;me++)this.calcRepulsionForce(ie,Z[me]);for(var Te=this.graphManager.getInCircleNodes(),De=0;De<Te.length;De++)for(var ze=Te[De],at=ze.getOwner().getNodes(),ht=0;ht<at.length;ht++){var Ke=at[ht];Ke!==ze&&this.calcRepulsionForce(ze,Ke)}},te.prototype.calcGravitationalForces=function(){if(!this.graphManager.rootGraph.isConnected)for(var Z=this.graphManager.getNonOnCircleNodes(),oe=0;oe<Z.length;oe++)this.calcGravitationalForce(Z[oe]);for(var me=this.graphManager.getInCircleNodes(),_e=0;_e<me.length;_e++)this.calcGravitationalForce(me[_e])},te.prototype.calcTotalForces=function(){for(var Z=this.graphManager.getAllNodes(),oe=0;oe<Z.length;oe++){var ie=Z[oe];ie.displacementX=this.coolingFactor*(ie.springForceX+ie.repulsionForceX+ie.gravitationForceX),ie.displacementY=this.coolingFactor*(ie.springForceY+ie.repulsionForceY+ie.gravitationForceY),ie.rotationAmount=0,ie.springForceX=0,ie.springForceY=0,ie.repulsionForceX=0,ie.repulsionForceY=0,ie.gravitationForceX=0,ie.gravitationForceY=0}for(var me=this.graphManager.getOnCircleNodes(),_e=0;_e<me.length;_e++){var Te=me[_e],De=Te.getOwner().getParent(),ze=Te.getOwner().decomposeForce(Te);this.phase===te.PHASE_SWAP_PREPERATION&&Te.getOnCircleNodeExt().addDisplacementForSwap(ze.getRotationAmount()),De.displacementX+=ze.getDisplacementX(),De.displacementY+=ze.getDisplacementY(),Te.displacementX=0,Te.displacementY=0,De.rotationAmount+=ze.getRotationAmount(),Te.rotationAmount=0}},te.prototype.moveNodes=function(){if(this.phase!==te.PHASE_PERFORM_SWAP){for(var Z=this.graphManager.getNonOnCircleNodes(),oe=0;oe<Z.length;oe++)Z[oe].move(),null!==Z[oe].getChild()&&void 0!==Z[oe].getChild()&&Z[oe].getChild().rotate();for(var ie=this.graphManager.getInCircleNodes(),me=void 0,_e=0;_e<ie.length;_e++)(me=ie[_e]).displacementX/=20,me.displacementY/=20,me.move()}else{for(var Te=this.graphManager.getOnCircleNodes(),De=Te.length,ze=[],Be=[],at=[],ht=[],Ke=void 0,Ct=void 0,Ze=void 0,qt=void 0,Ht=void 0,It=void 0,mn=void 0,lt=0;lt<De;lt++)if(Ct=(Ke=Te[lt]).getOnCircleNodeExt().getNextNode(),Ze=Ke.getOnCircleNodeExt(),qt=Ct.getOnCircleNodeExt(),Ze.canSwapWithNext&&qt.canSwapWithPrev&&!((mn=(Ht=Ze.getDisplacementForSwap())-(It=qt.getDisplacementForSwap()))<0)){var it=new de(Ke,Ct,mn,Ht>0&&It>0||Ht<0&&It<0);0===Ht||0===It?Be.push(it):ze.push(it)}var pt=void 0,Ft=!0,St=void 0;for(ze.sort(function(Xr,dn){return Xr.getDiscrepancy()-dn.getDiscrepancy()});Ft&&ze.length>0;)if(Ke=(pt=ze[ze.length-1]).getFirstNode(),Ct=pt.getSecondNode(),Ze=Ke.getOnCircleNodeExt(),qt=Ct.getOnCircleNodeExt(),this.isSwappedPreviously(pt))ze.pop(),ht.push(pt);else{var Kn=Ze.getInterClusterIntersections(qt);pt.swap(),St=!1;var Jn=Ze.getInterClusterIntersections(qt);!(St=Jn>Kn)&&Jn===Kn&&(St=pt.inSameDirection()||pt.getDiscrepancy()<Q.MIN_DISPLACEMENT_FOR_SWAP),St?(pt.swap(),ze.pop()):(at.push(pt.getFirstNode()),at.push(pt.getSecondNode()),ht.push(pt),Ft=!1)}for(var Tr=0;Tr<Be.length;Tr++){var kr=Be[Tr];kr.inSameDirection()||kr.getDiscrepancy()<Q.MIN_DISPLACEMENT_FOR_SWAP||at.includes(kr.getFirstNode())||at.includes(kr.getSecondNode())||(this.isSwappedPreviously(kr)||(kr.swap(),at.push(kr.getFirstNode()),at.push(kr.getSecondNode())),ht.push(kr))}this.swappedPairsInLastIteration=[];for(var Cr=0;Cr<ht.length;Cr++)this.swappedPairsInLastIteration.push(ht[Cr]);for(var zn=0;zn<De;zn++)Te[zn].getOnCircleNodeExt().setDisplacementForSwap(0)}},te.prototype.isSwappedPreviously=function(Z){for(var oe=0;oe<this.swappedPairsInLastIteration.length;oe++){var ie=this.swappedPairsInLastIteration[oe];if(ie.getFirstNode()===Z.getFirstNode()&&ie.getSecondNode()===Z.getSecondNode()||ie.getSecondNode()===Z.getFirstNode()&&ie.getFirstNode()===Z.getSecondNode())return!0}return!1},te.prototype.checkAndReverseIfReverseIsBetter=function(){for(var oe=this.getGraphManager().getRoot().getNodes(),me=void 0,_e=0;_e<oe.length;_e++)if(null!=(me=oe[_e].getChild())&&me.getMayBeReversed()&&me.getNodes().length<=52&&me.checkAndReverseIfReverseIsBetter())return!0;return!1},te.prototype.findAndMoveInnerNodes=function(){if(this.allowNodesInsideCircle)for(var Z=this.graphManager.getGraphs(),oe=0;oe<Z.length;oe++){var ie=Z[oe],me=0;if(ie!==this.getGraphManager().getRoot())for(var _e=ie.getNodes().length*this.maxRatioOfNodesInsideCircle,Te=this.findInnerNode(ie);null!=Te&&me<_e;)this.moveInnerNode(Te),++me<_e&&(Te=this.findInnerNode(ie))}},te.prototype.findInnerNode=function(Z){var oe=null,ie=Z.getOnCircleNodes().length,me=Z.getOnCircleNodes();me.sort(function(It,mn){return It.getEdges().length-mn.getEdges().length});for(var _e=ie-1;_e>=0&&null==oe;_e--){var Te=me[_e];if(0===Te.getOnCircleNodeExt().getInterClusterEdges().length){var De=this.findMinimalSpanningSegment(Te);if(0!==De.length){for(var ze=!1,Be=0;Be<De.length;Be++){var at=De[Be];if(ze)break;for(var ht=at.getNeighborsList(),Ke=0;Ke<ht.length;Ke++){var Ct=ht[Ke];if(Ct!==Te&&Ct.getOwner()===Z&&null!=Ct.getOnCircleNodeExt()&&null!=Ct.getOnCircleNodeExt()){var Ze=at.getOnCircleNodeExt().getIndex(),qt=Ct.getOnCircleNodeExt().getIndex(),Ht=Ze-qt;if(Ht+=ie,(Ht%=ie)>1&&(Ht=qt-Ze,Ht+=ie,Ht%=ie),Ht>1){ze=!0;break}}}}ze||(oe=Te)}}}return oe},te.prototype.moveInnerNode=function(Z){Z.getOwner().moveOnCircleNodeInside(Z);var ie=this.graphManager.getOnCircleNodes(),me=ie.indexOf(Z);me>-1&&ie.splice(me,1),this.graphManager.inCircleNodes.push(Z)},te.prototype.findMinimalSpanningSegment=function(Z){var oe=[],ie=Z.getOnCircleNeighbors();if(0===ie.length)return oe;ie.sort(function(mn,cn){return mn.getOnCircleNodeExt().getIndex()-cn.getOnCircleNodeExt().getIndex()});var me=Z.getOwner().getOnCircleNodes();me.sort(function(mn,cn){return mn.getOnCircleNodeExt().getIndex()-cn.getOnCircleNodeExt().getIndex()});var _e=null,Te=null,De=me.length,ze=me.length,Be=ie.length,at=void 0,Ke=void 0,Ct=void 0,Ze=void 0;for(at=0;at<Be;at++)Ke=ie[at],(Ze=((Ct=ie[(at-1+Be)%Be]).getOnCircleNodeExt().getIndex()-Ke.getOnCircleNodeExt().getIndex()+ze)%ze+1)<De&&(_e=Ke,Te=Ct,De=Ze);for(var qt=!1,Ht=_e;!qt;)if(Ht!==Z&&oe.push(Ht),Ht===Te)qt=!0;else{var It=Ht.getOnCircleNodeExt().getIndex()+1;It===me.length&&(It=0),Ht=me[It]}return oe},O.exports=te},function(O,I,C){"use strict";var S=C(0).layoutBase.FDLayoutNode,R=C(0).layoutBase.IMath,A=C(1),V=C(12);function L(H,$,Q,ue){S.call(this,H,$,Q,ue),this.rotationAmount=null,this.onCircleNodeExt=null,this.clusterID=null,this.ID=null}for(var k in L.prototype=Object.create(S.prototype),S)L[k]=S[k];L.prototype.setClusterId=function(H){this.clusterID=H},L.prototype.getClusterId=function(){return this.clusterID},L.prototype.setId=function(H){this.ID=H},L.prototype.getId=function(){return this.ID},L.prototype.setAsOnCircleNode=function(){return this.onCircleNodeExt=new V(this),this.onCircleNodeExt},L.prototype.setAsNonOnCircleNode=function(){this.onCircleNodeExt=null},L.prototype.getOnCircleNodeExt=function(){return this.onCircleNodeExt},L.prototype.getLimitedDisplacement=function(H){return Math.abs(H)>A.MAX_NODE_DISPLACEMENT&&(H=A.MAX_NODE_DISPLACEMENT*R.sign(H)),H},L.prototype.getOnCircleNeighbors=function(){for(var H=Array.from(this.getNeighborsList()),$=[],Q=0;Q<H.length;Q++){var ue=H[Q];null!==ue.getOnCircleNodeExt()&&ue.getClusterId()===this.getClusterId()&&$.push(ue)}return $},L.prototype.getNoOfChildren=function(){return null===this.getChild()||void 0===this.getChild()?1:this.getChild().getNodes().length},L.prototype.move=function(){var H=this.getOwner().getGraphManager().getLayout();if(this.displacementX=this.getLimitedDisplacement(this.displacementX),this.displacementY=this.getLimitedDisplacement(this.displacementY),null!==this.getChild()&&void 0!==this.getChild()){var $=this.getChild().getNodes().length;this.displacementX/=$,this.displacementY/=$;for(var Q=this.getChild().getNodes(),ue=0;ue<Q.length;ue++)Q[ue].moveBy(this.displacementX,this.displacementY),H.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)}this.moveBy(this.displacementX,this.displacementY),H.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),null!==this.getChild()&&void 0!==this.getChild()&&this.getChild().updateBounds(!0)},L.prototype.reset=function(){this.displacementX=0,this.displacementY=0},O.exports=L},function(O,I,C){"use strict";var S=C(0).layoutBase.IGeometry;function R(A){this.ciseNode=A,this.intraClusterEdges=null,this.interClusterEdges=null,this.angle=-1,this.orderIndex=-1,this.canSwapWithNext=null,this.canSwapWithPrevious=null,this.displacementForSwap=null}(R.prototype=Object.create(null)).getCiseNode=function(){return this.ciseNode},R.prototype.getAngle=function(){return this.angle},R.prototype.setAngle=function(A){this.angle=A%S.TWO_PI,this.angle<0&&(this.angle+=S.TWO_PI)},R.prototype.getIndex=function(){return this.orderIndex},R.prototype.setIndex=function(A){this.orderIndex=A},R.prototype.getCharCode=function(){return this.orderIndex<26?String.fromCharCode(97+this.orderIndex):this.orderIndex<52?String.fromCharCode(65+this.orderIndex):"?"},R.prototype.getNextNode=function(){var A=this.ciseNode.getOwner(),V=A.getOnCircleNodes().length,L=this.orderIndex+1;return L===V&&(L=0),A.getOnCircleNodes()[L]},R.prototype.getPrevNode=function(){var A=this.ciseNode.getOwner(),V=this.orderIndex-1;return-1===V&&(V=A.getOnCircleNodes().length-1),A.getOnCircleNodes()[V]},R.prototype.getNextNodeExt=function(){return this.getNextNode().getOnCircleNodeExt()},R.prototype.prevNextNodeExt=function(){return this.getPrevNode().getOnCircleNodeExt()},R.prototype.canSwapWithNext=function(){return this.canSwapWithNext},R.prototype.canSwapWithPrev=function(){return this.canSwapWithPrev},R.prototype.getDisplacementForSwap=function(){return this.displacementForSwap},R.prototype.setDisplacementForSwap=function(A){this.displacementForSwap=A},R.prototype.addDisplacementForSwap=function(A){this.displacementForSwap=A},R.prototype.updatePosition=function(){var A=this.ciseNode.getOwner(),V=A.getParent(),L=V.getCenterX(),k=V.getCenterY(),H=A.getRadius()*Math.cos(this.angle),$=A.getRadius()*Math.sin(this.angle);this.ciseNode.setCenter(L+H,k+$)},R.prototype.getCircDistWithTheNode=function(A){var V=A.getIndex();if(-1===V||-1===this.getIndex())return-1;var L=this.getIndex()-V;return L<0&&(L+=this.ciseNode.getOwner().getOnCircleNodes().length),L},R.prototype.calculateTotalCrossing=function(){var A=this.getIntraClusterEdges(),V=0,L=[];return this.ciseNode.getOwner().getIntraClusterEdges().forEach(function(k){L.push(k)}),this.ciseNode.getEdges().forEach(function(k){var H=L.indexOf(k);H>-1&&L.splice(H,1)}),A.forEach(function(k){V+=k.calculateTotalCrossingWithList(L)}),V},R.prototype.updateSwappingConditions=function(){var A=this.calculateTotalCrossing(),V=this.orderIndex,L=this.getNextNode().getOnCircleNodeExt();this.orderIndex=L.getIndex(),L.setIndex(V);var k=this.calculateTotalCrossing();this.canSwapWithNext=k<=A,L.setIndex(this.orderIndex),this.setIndex(V);var H=this.getPrevNode().getOnCircleNodeExt();this.orderIndex=H.getIndex(),H.setIndex(V),k=this.calculateTotalCrossing(),this.canSwapWithPrevious=k<=A,H.setIndex(this.orderIndex),this.setIndex(V)},R.prototype.swapWith=function(A){this.ciseNode.getOwner().swapNodes(this.ciseNode,A.ciseNode)},R.prototype.getInterClusterIntersections=function(A){for(var V=0,L=this.getInterClusterEdges(),k=A.getInterClusterEdges(),H=0;H<L.length;H++)for(var $=L[H],Q=this.ciseNode.getCenter(),ue=$.getOtherEnd(this.ciseNode).getCenter(),ne=0;ne<k.length;ne++){var le=k[ne],ae=A.ciseNode.getCenter(),de=le.getOtherEnd(A.ciseNode).getCenter();$.getOtherEnd(this.ciseNode)!==le.getOtherEnd(A.ciseNode)&&S.doIntersect(Q,ue,ae,de)&&V++}return V},R.prototype.getInterClusterEdges=function(){if(null===this.interClusterEdges){this.interClusterEdges=[];for(var A=this.ciseNode.getEdges(),V=0;V<A.length;V++){var L=A[V];L.isIntraCluster||this.interClusterEdges.push(L)}}return this.interClusterEdges},R.prototype.getIntraClusterEdges=function(){if(null===this.intraClusterEdges){this.intraClusterEdges=[];for(var A=this.ciseNode.getEdges(),V=0;V<A.length;V++){var L=A[V];L.isIntraCluster&&this.intraClusterEdges.push(L)}}return this.intraClusterEdges},O.exports=R},function(O,I,C){"use strict";function S(R,A,V,L){this.firstNode=R,this.secondNode=A,this.discrepancy=V,this.inSameDir=L}(S.prototype=Object.create).getDiscrepancy=function(){return this.discrepancy},S.prototype.inSameDirection=function(){return this.inSameDir},S.prototype.getFirstNode=function(){return this.firstNode},S.prototype.getSecondNode=function(){return this.secondNode},S.prototype.compareTo=function(R){return this.getDiscrepancy()-R.getDiscrepancy()},S.prototype.swap=function(){this.getFirstNode().getOnCircleNodeExt().swapWith(this.getSecondNode().getOnCircleNodeExt())},S.prototype.equals=function(R){var A=R instanceof S;if(A){var V=R;A&=this.firstNode.equals(V.getFirstNode())&&this.secondNode.equals(V.getSecondNode())||this.secondNode.equals(V.getFirstNode())&&this.firstNode.equals(V.getSecondNode())}return A},S.prototype.hashCode=function(){return this.firstNode.hashCode()+this.secondNode.hashCode()},S.prototype.toString=function(){var R="Swap: "+this.getFirstNode().label;return(R+="<->"+this.getSecondNode().label)+", "+this.getDiscrepancy()},O.exports=S},function(O,I,C){"use strict";function S(R,A,V){this.rotationAmount=R,this.displacementX=A,this.displacementY=V}S.prototype.getRotationAmount=function(){return this.rotationAmount},S.prototype.setRotationAmount=function(R){this.rotationAmount=R},S.prototype.getDisplacementX=function(){return this.displacementX},S.prototype.setDisplacementX=function(R){this.displacementX=R},S.prototype.getDisplacementY=function(){return this.displacementY},S.prototype.setDisplacementY=function(R){this.displacementY=R},O.exports=S},function(O,I,C){"use strict";var S=C(4),R=function(V){V&&V("layout","cise",S)};typeof cytoscape<"u"&&R(cytoscape),O.exports=R},function(O,I,C){"use strict";var S=function(){function te(pe,Z){for(var oe=0;oe<Z.length;oe++){var ie=Z[oe];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(pe,ie.key,ie)}}return function(pe,Z,oe){return Z&&te(pe.prototype,Z),oe&&te(pe,oe),pe}}(),R=function te(pe,Z,oe){null===pe&&(pe=Function.prototype);var ie=Object.getOwnPropertyDescriptor(pe,Z);if(void 0===ie){var me=Object.getPrototypeOf(pe);return null===me?void 0:te(me,Z,oe)}if("value"in ie)return ie.value;var _e=ie.get;return void 0===_e?void 0:_e.call(oe)};var k=C(10),H=C(1),$=C(0).layoutBase.FDLayoutConstants,Q=C(18),ue=Q.defaults,ne=C(2),de=function(te){function pe(Z){!function A(te,pe){if(!(te instanceof pe))throw new TypeError("Cannot call a class as a function")}(this,pe);var oe=function V(te,pe){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!pe||"object"!=typeof pe&&"function"!=typeof pe?te:pe}(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,ne({},ue,Z)));return H.DEFAULT_NODE_SEPARATION=null!=Z.nodeSeparation?Z.nodeSeparation:$.DEFAULT_EDGE_LENGTH/4,H.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF=null!=Z.idealInterClusterEdgeLengthCoefficient?Z.idealInterClusterEdgeLengthCoefficient:1.4,H.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE=null!=Z.allowNodesInsideCircle&&Z.allowNodesInsideCircle,H.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=null!=Z.maxRatioOfNodesInsideCircle?Z.maxRatioOfNodesInsideCircle:.1,H.DEFAULT_SPRING_STRENGTH=null!=Z.springCoeff?Z.springCoeff:1.5*$.DEFAULT_SPRING_STRENGTH,null!=Z.nodeRepulsion&&(H.DEFAULT_REPULSION_STRENGTH=$.DEFAULT_REPULSION_STRENGTH=Z.nodeRepulsion),null!=Z.gravity&&(H.DEFAULT_GRAVITY_STRENGTH=$.DEFAULT_GRAVITY_STRENGTH=Z.gravity),null!=Z.gravityRange&&(H.DEFAULT_GRAVITY_RANGE_FACTOR=$.DEFAULT_GRAVITY_RANGE_FACTOR=Z.gravityRange),H.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=null!=Z.maxRatioOfNodesInsideCircle?Z.maxRatioOfNodesInsideCircle:.1,oe}return function L(te,pe){if("function"!=typeof pe&&null!==pe)throw new TypeError("Super expression must either be null or a function, not "+typeof pe);te.prototype=Object.create(pe&&pe.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),pe&&(Object.setPrototypeOf?Object.setPrototypeOf(te,pe):te.__proto__=pe)}(pe,te),S(pe,[{key:"prerun",value:function(){var oe=this.state,ie=[[]];null!=this.options.clusters&&(ie=this.options.clusters);var me=oe.nodes,_e=oe.edges,Te=this.ciseLayout=new k,De=this.graphManager=Te.newGraphManager(),ze=this.root=De.addRoot();this.idToLNode=Te.convertToClusteredGraph(me,_e,ie),ze.updateConnected(),ze.calcEstimatedSize(),Te.calcNoOfChildrenForAllNodes(),Te.doStep1(),Te.doStep2(),ze.updateBounds(!0),ze.estimatedSize=Math.max(ze.right-ze.left,ze.bottom-ze.top),Te.prepareCirclesForReversal(),Te.calcIdealEdgeLengths(!1),this.initializerIndex=0,this.isDone=!1,this.isStepDone=!1,this.timeToSwitchNextStep=!0}},{key:"tick",value:function(){var oe=this,ie=this;if(this.state.nodes.forEach(function(_e){var Te=oe.getScratch(_e),De=ie.idToLNode[_e.data("id")];Te.x=De.getCenterX(),Te.y=De.getCenterY()}),this.timeToSwitchNextStep){switch(this.initializerIndex){case 0:case 2:this.ciseLayout.step5Init();break;case 1:this.ciseLayout.step3Init();break;case 3:this.ciseLayout.step4Init();break;case 4:this.ciseLayout.findAndMoveInnerNodes(),this.ciseLayout.calcIdealEdgeLengths(!0),this.ciseLayout.step5Init()}this.initializerIndex++,this.ciseLayout.iterations=0,this.ciseLayout.totalDisplacement=1e3,this.timeToSwitchNextStep=!1}return this.isStepDone=this.ciseLayout.runSpringEmbedderTick(),this.isStepDone&&this.initializerIndex<5&&(this.timeToSwitchNextStep=!0),this.isStepDone&&!1===this.timeToSwitchNextStep&&(this.isDone=!0),this.isDone}},{key:"postrun",value:function(){}},{key:"destroy",value:function(){return R(pe.prototype.__proto__||Object.getPrototypeOf(pe.prototype),"destroy",this).call(this),this}}]),pe}(Q);O.exports=de},function(O,I,C){"use strict";O.exports=Object.freeze({animate:!1,refresh:10,maxIterations:2500,maxSimulationTime:5e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,infinite:!1})},function(O,I,C){"use strict";var S=function(){function ae(de,te){for(var pe=0;pe<te.length;pe++){var Z=te[pe];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(de,Z.key,Z)}}return function(de,te,pe){return te&&ae(de.prototype,te),pe&&ae(de,pe),de}}();var A=C(2),V=C(17),L=C(19),k=C(20),H=k.setInitialPositionState,$=k.refreshPositions,Q=k.getNodePositionData,ne=C(21).multitick,le=function(){function ae(de){!function R(ae,de){if(!(ae instanceof de))throw new TypeError("Cannot call a class as a function")}(this,ae);var te=this.options=A({},V,de),pe=this.state=A({},te,{layout:this,nodes:te.eles.nodes(),edges:te.eles.edges(),tickIndex:0,firstUpdate:!0});pe.animateEnd=te.animate&&"end"===te.animate,pe.animateContinuously=te.animate&&!pe.animateEnd}return S(ae,[{key:"getScratch",value:function(te){var pe=this.state.name,Z=te.scratch(pe);return Z||te.scratch(pe,Z={}),Z}},{key:"run",value:function(){var te=this,pe=this.state;if(pe.tickIndex=0,pe.firstUpdate=!0,pe.startTime=Date.now(),pe.running=!0,pe.currentBoundingBox=L(pe.boundingBox,pe.cy),pe.ready&&te.one("ready",pe.ready),pe.stop&&te.one("stop",pe.stop),pe.nodes.forEach(function(Ht){return H(Ht,pe)}),te.prerun(pe),pe.animateContinuously){var me=function(It){!function(It){Q(It,pe).grabbed=It.grabbed()}(It.target)},_e=me,Te=function(It){var mn=It.target,cn=Q(mn,pe),lt=mn.position();cn.x=lt.x,cn.y=lt.y},Be=function(){pe.fit&&pe.animateContinuously&&pe.cy.fit(pe.padding)},at=function(){$(pe.nodes,pe),Be(),requestAnimationFrame(ht)},ht=function(){ne(pe,at,Ke)},Ke=function(){$(pe.nodes,pe),Be(),pe.nodes.forEach(function(It){(function(It){pe.ungrabifyWhileSimulating&&Q(It,pe).grabbable&&It.grabify()})(It),function(It){It.removeListener("grab",me),It.removeListener("free",_e),It.removeListener("drag",Te)}(It)}),pe.running=!1,te.emit("layoutstop")};te.emit("layoutstart"),pe.nodes.forEach(function(Ht){var It;It=Ht,pe.ungrabifyWhileSimulating&&(Q(It,pe).grabbable=It.grabbable())&&It.ungrabify(),function(It){It.on("grab",me),It.on("free",_e),It.on("drag",Te)}(Ht)}),ht()}else{for(var Ct=!1,Ze=function(){},qt=function(){return Ct=!0};!Ct;)ne(pe,Ze,qt);pe.eles.layoutPositions(this,pe,function(Ht){var It=Q(Ht,pe);return{x:It.x,y:It.y}})}return te.postrun(pe),this}},{key:"prerun",value:function(){}},{key:"postrun",value:function(){}},{key:"tick",value:function(){}},{key:"stop",value:function(){return this.state.running=!1,this}},{key:"destroy",value:function(){return this}}]),ae}();O.exports=le},function(O,I,C){"use strict";O.exports=function(S,R){return null==(S=null==S?{x1:0,y1:0,w:R.width(),h:R.height()}:{x1:S.x1,x2:S.x2,y1:S.y1,y2:S.y2,w:S.w,h:S.h}).x2&&(S.x2=S.x1+S.w),null==S.w&&(S.w=S.x2-S.x1),null==S.y2&&(S.y2=S.y1+S.h),null==S.h&&(S.h=S.y2-S.y1),S}},function(O,I,C){"use strict";var S=C(2);O.exports={setInitialPositionState:function(k,H){var $=k.position(),Q=H.currentBoundingBox,ue=k.scratch(H.name);null==ue&&k.scratch(H.name,ue={}),S(ue,H.randomize?{x:Q.x1+Math.round(Math.random()*Q.w),y:Q.y1+Math.round(Math.random()*Q.h)}:{x:$.x,y:$.y}),ue.locked=k.locked()},getNodePositionData:function(k,H){return k.scratch(H.name)},refreshPositions:function(k,H){k.positions(function($){var Q=$.scratch(H.name);return{x:Q.x,y:Q.y}})}}},function(O,I,C){"use strict";var S=function(){},R=function(L){var k=L,$=L.layout.tick(k);return k.firstUpdate&&(k.animateContinuously&&k.layout.emit("layoutready"),k.firstUpdate=!1),k.tickIndex++,!k.infinite&&$};O.exports={tick:R,multitick:function(L){for(var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,$=!1,Q=L,ue=0;ue<Q.refresh&&!($=!Q.running||R(Q));ue++);$?H():k()}}}]))},7944:function(Y,se,D){var T;Y.exports=(T=D(8767),function(P){var O={};function I(C){if(O[C])return O[C].exports;var S=O[C]={i:C,l:!1,exports:{}};return P[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=P,I.c=O,I.d=function(C,S,R){I.o(C,S)||Object.defineProperty(C,S,{enumerable:!0,get:R})},I.r=function(C){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},I.t=function(C,S){if(1&S&&(C=I(C)),8&S||4&S&&"object"==typeof C&&C&&C.__esModule)return C;var R=Object.create(null);if(I.r(R),Object.defineProperty(R,"default",{enumerable:!0,value:C}),2&S&&"string"!=typeof C)for(var A in C)I.d(R,A,function(V){return C[V]}.bind(null,A));return R},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=0)}([function(P,O,I){var C=I(1),S=function(A){A&&A("layout","dagre",C)};typeof cytoscape<"u"&&S(cytoscape),P.exports=S},function(P,O,I){function C(k){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function($){return typeof $}:function($){return $&&"function"==typeof Symbol&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(k)}var S=function(H){return"function"==typeof H},R=I(2),A=I(3),V=I(4);function L(k){this.options=A({},R,k)}L.prototype.run=function(){var k=this.options,$=k.cy,Q=k.eles,ue=function(qt,Ht){return S(Ht)?Ht.apply(qt,[qt]):Ht},ne=k.boundingBox||{x1:0,y1:0,w:$.width(),h:$.height()};void 0===ne.x2&&(ne.x2=ne.x1+ne.w),void 0===ne.w&&(ne.w=ne.x2-ne.x1),void 0===ne.y2&&(ne.y2=ne.y1+ne.h),void 0===ne.h&&(ne.h=ne.y2-ne.y1);var le=new V.graphlib.Graph({multigraph:!0,compound:!0}),ae={},de=function(qt,Ht){null!=Ht&&(ae[qt]=Ht)};de("nodesep",k.nodeSep),de("edgesep",k.edgeSep),de("ranksep",k.rankSep),de("rankdir",k.rankDir),de("align",k.align),de("ranker",k.ranker),de("acyclicer",k.acyclicer),le.setGraph(ae),le.setDefaultEdgeLabel(function(){return{}}),le.setDefaultNodeLabel(function(){return{}});var te=Q.nodes();S(k.sort)&&(te=te.sort(k.sort));for(var pe=0;pe<te.length;pe++){var Z=te[pe],oe=Z.layoutDimensions(k);le.setNode(Z.id(),{width:oe.w,height:oe.h,name:Z.id()})}for(var ie=0;ie<te.length;ie++){var me=te[ie];me.isChild()&&le.setParent(me.id(),me.parent().id())}var Ke,_e=Q.edges().stdFilter(function(Ze){return!Ze.source().isParent()&&!Ze.target().isParent()});S(k.sort)&&(_e=_e.sort(k.sort));for(var Te=0;Te<_e.length;Te++){var De=_e[Te];le.setEdge(De.source().id(),De.target().id(),{minlen:ue(De,k.minLen),weight:ue(De,k.edgeWeight),name:De.id()},De.id())}V.layout(le);for(var ze=le.nodes(),Be=0;Be<ze.length;Be++){var at=ze[Be],ht=le.node(at);$.getElementById(at).scratch().dagre=ht}k.boundingBox?(Ke={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},te.forEach(function(Ze){var qt=Ze.scratch().dagre;Ke.x1=Math.min(Ke.x1,qt.x),Ke.x2=Math.max(Ke.x2,qt.x),Ke.y1=Math.min(Ke.y1,qt.y),Ke.y2=Math.max(Ke.y2,qt.y)}),Ke.w=Ke.x2-Ke.x1,Ke.h=Ke.y2-Ke.y1):Ke=ne;return te.layoutPositions(this,k,function(Ze){var qt=(Ze="object"===C(Ze)?Ze:this).scratch().dagre;return function(qt){return k.boundingBox?{x:ne.x1+(0===Ke.w?0:(qt.x-Ke.x1)/Ke.w)*ne.w,y:ne.y1+(0===Ke.h?0:(qt.y-Ke.y1)/Ke.h)*ne.h}:qt}({x:qt.x,y:qt.y})}),this},P.exports=L},function(P,O){P.exports={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(S){return 1},edgeWeight:function(S){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(S,R){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(S,R){return R},ready:function(){},sort:void 0,stop:function(){}}},function(P,O){P.exports=null!=Object.assign?Object.assign.bind(Object):function(I){for(var C=arguments.length,S=new Array(C>1?C-1:0),R=1;R<C;R++)S[R-1]=arguments[R];return S.forEach(function(A){Object.keys(A).forEach(function(V){return I[V]=A[V]})}),I}},function(P,O){P.exports=T}]))},3848:function(Y,se,D){var T;Y.exports=(T=D(7925),function(P){var O={};function I(C){if(O[C])return O[C].exports;var S=O[C]={i:C,l:!1,exports:{}};return P[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=P,I.c=O,I.i=function(C){return C},I.d=function(C,S,R){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:R})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=7)}([function(P,O,I){"use strict";P.exports=null!=Object.assign?Object.assign.bind(Object):function(C){for(var S=arguments.length,R=Array(S>1?S-1:0),A=1;A<S;A++)R[A-1]=arguments[A];return R.forEach(function(V){null!=V&&Object.keys(V).forEach(function(L){return C[L]=V[L]})}),C}},function(P,O,I){"use strict";var S=I(5).getBoundingBox;P.exports={getRef:function R(A,V){return{getBoundingClientRect:function(){return S(A,V)}}}}},function(P,O,I){"use strict";var C=I(0),R=I(1).getRef,V=I(6).getContent,L={},H=I(8).createPopper;P.exports={getPopper:function $(Q,ue){var ne=R(Q,ue),le=V(Q,ue.content),ae=C({},L,ue.popper);return H(ne,le,ae)}}},function(P,O,I){"use strict";var C=I(0),R=I(2).getPopper,V=I(1).getRef;function H(ne,le){var ae=function(ie){return ie.isNode()?{w:ie.renderedWidth(),h:ie.renderedHeight()}:{w:3,h:3}},pe=ne.cy();return C({},{renderedDimensions:ae,renderedPosition:function(ie){return ie.isNode()?function $(ne,le){var ae=ne.renderedPosition(),de=le(ne);return{x:ae.x-de.w/2,y:ae.y-de.h/2}}(ie,ae):function Q(ne){var le=ne.midpoint(),ae=ne.cy().pan(),de=ne.cy().zoom();return{x:le.x*de+ae.x,y:le.y*de+ae.y}}(ie)},popper:{},cy:pe},le)}function ue(ne){ne.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}P.exports={popper:function L(ne){return ue(this),R(this[0],H(this[0],ne))},popperRef:function k(ne){return ue(this),V(this[0],H(this[0],ne))}}},function(P,O,I){"use strict";var C=I(0),R=I(2).getPopper,V=I(1).getRef;function H($,Q){return C({},{boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},renderedPosition:function(){return{x:0,y:0}},popper:{},cy:$},Q)}P.exports={popper:function L($){return R(this,H(this,$))},popperRef:function k($){return V(this,H(this,$))}}},function(P,O,I){"use strict";P.exports={getBoundingBox:function C(S,R){var A=R.renderedPosition,L=R.renderedDimensions,k=R.cy.container().getBoundingClientRect(),H=L(S),$=A(S);return{top:$.y+k.top,left:$.x+k.left,right:$.x+H.w+k.left,bottom:$.y+H.h+k.top,width:H.w,height:H.h}}}},function(P,O,I){"use strict";P.exports={getContent:function C(S,R){var A;if("function"!=typeof R){if(R instanceof HTMLElement)return R;throw new Error("Can not create popper from 'target' with unknown type")}if(null===(A=R(S)))throw new Error("No 'target' specified to create popper");return A}}},function(P,O,I){"use strict";var C=I(4),S=I(3),R=function(V){V&&(V("core","popper",C.popper),V("collection","popper",S.popper),V("core","popperRef",C.popperRef),V("collection","popperRef",S.popperRef))};typeof cytoscape<"u"&&R(cytoscape),P.exports=R},function(P,O){P.exports=T}]))},6100:(Y,se,D)=>{"use strict";var T=D(4430),P=D(7444),O=D(5440),I=D(7939),C=D(9078);function S(u){return u&&"object"==typeof u&&"default"in u?u:{default:u}}var R=S(T),A=S(P),V=S(O),L=S(I),k=S(C);function H(u){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(u)}function $(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function Q(u,o){for(var l=0;l<o.length;l++){var f=o[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}function ue(u,o,l){return o&&Q(u.prototype,o),l&&Q(u,l),Object.defineProperty(u,"prototype",{writable:!1}),u}function ne(u,o,l){return o in u?Object.defineProperty(u,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):u[o]=l,u}function le(u,o){return function ae(u){if(Array.isArray(u))return u}(u)||function de(u,o){var l=null==u?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(null!=l){var g,_,f=[],h=!0,p=!1;try{for(l=l.call(u);!(h=(g=l.next()).done)&&(f.push(g.value),!o||f.length!==o);h=!0);}catch(E){p=!0,_=E}finally{try{!h&&null!=l.return&&l.return()}finally{if(p)throw _}}return f}}(u,o)||function te(u,o){if(u){if("string"==typeof u)return pe(u,o);var l=Object.prototype.toString.call(u).slice(8,-1);if("Object"===l&&u.constructor&&(l=u.constructor.name),"Map"===l||"Set"===l)return Array.from(u);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return pe(u,o)}}(u,o)||function Z(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(u,o){(null==o||o>u.length)&&(o=u.length);for(var l=0,f=new Array(o);l<o;l++)f[l]=u[l];return f}var oe=typeof window>"u"?null:window,ie=oe?oe.navigator:null,me=H(""),_e=H({}),Te=H(function(){}),De=typeof HTMLElement>"u"?"undefined":H(HTMLElement),ze=function(o){return o&&o.instanceString&&at(o.instanceString)?o.instanceString():null},Be=function(o){return null!=o&&H(o)==me},at=function(o){return null!=o&&H(o)===Te},ht=function(o){return!It(o)&&(Array.isArray?Array.isArray(o):null!=o&&o instanceof Array)},Ke=function(o){return null!=o&&H(o)===_e&&!ht(o)&&o.constructor===Object},Ze=function(o){return null!=o&&H(o)===H(1)&&!isNaN(o)},Ht=function(o){if("undefined"!==De)return null!=o&&o instanceof HTMLElement},It=function(o){return mn(o)||cn(o)},mn=function(o){return"collection"===ze(o)&&o._private.single},cn=function(o){return"collection"===ze(o)&&!o._private.single},lt=function(o){return"core"===ze(o)},it=function(o){return"stylesheet"===ze(o)},Ft=function(o){return null==o||!(""!==o&&!o.match(/^\s+$/))},Jn=function(o){return function(o){return null!=o&&H(o)===_e}(o)&&at(o.then)},kr=function(o,l){l||(l=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var p=[],g=0;g<arguments.length;g++)p.push(arguments[g]);return p.join("$")});var f=function h(){var _,g=arguments,E=l.apply(this,g),x=h.cache;return(_=x[E])||(_=x[E]=o.apply(this,g)),_};return f.cache={},f},Cr=kr(function(u){return u.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}),_n=kr(function(u){return u.replace(/(-\w)/g,function(o){return o[1].toUpperCase()})}),zn=kr(function(u,o){return u+o[0].toUpperCase()+o.substring(1)},function(u,o){return u+"$"+o}),Xr=function(o){return Ft(o)?o:o.charAt(0).toUpperCase()+o.substring(1)},dn="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Ri="rgb[a]?\\(("+dn+"[%]?)\\s*,\\s*("+dn+"[%]?)\\s*,\\s*("+dn+"[%]?)(?:\\s*,\\s*("+dn+"))?\\)",ro="rgb[a]?\\((?:"+dn+"[%]?)\\s*,\\s*(?:"+dn+"[%]?)\\s*,\\s*(?:"+dn+"[%]?)(?:\\s*,\\s*(?:"+dn+"))?\\)",Fi="hsl[a]?\\(("+dn+")\\s*,\\s*("+dn+"[%])\\s*,\\s*("+dn+"[%])(?:\\s*,\\s*("+dn+"))?\\)",Bi="hsl[a]?\\((?:"+dn+")\\s*,\\s*(?:"+dn+"[%])\\s*,\\s*(?:"+dn+"[%])(?:\\s*,\\s*(?:"+dn+"))?\\)",ja=function(o,l){return o<l?-1:o>l?1:0},Nn=null!=Object.assign?Object.assign.bind(Object):function(u){for(var o=arguments,l=1;l<o.length;l++){var f=o[l];if(null!=f)for(var h=Object.keys(f),p=0;p<h.length;p++){var g=h[p];u[g]=f[g]}}return u},Ms={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},xn=function(o){for(var l=o.map,f=o.keys,h=f.length,p=0;p<h;p++){var g=f[p];if(Ke(g))throw Error("Tried to set map with object key");p<f.length-1?(null==l[g]&&(l[g]={}),l=l[g]):l[g]=o.value}},va=function(o){for(var l=o.map,f=o.keys,h=f.length,p=0;p<h;p++){var g=f[p];if(Ke(g))throw Error("Tried to get map with object key");if(null==(l=l[g]))return l}return l},go=oe?oe.performance:null,gi=go&&go.now?function(){return go.now()}:function(){return Date.now()},Zi=function(){if(oe){if(oe.requestAnimationFrame)return function(u){oe.requestAnimationFrame(u)};if(oe.mozRequestAnimationFrame)return function(u){oe.mozRequestAnimationFrame(u)};if(oe.webkitRequestAnimationFrame)return function(u){oe.webkitRequestAnimationFrame(u)};if(oe.msRequestAnimationFrame)return function(u){oe.msRequestAnimationFrame(u)}}return function(u){u&&setTimeout(function(){u(gi())},1e3/60)}}(),mu=function(o){return Zi(o)},Ti=gi,Ma=9261,Zs=5381,Jc=function(o){for(var h,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma;!(h=o.next()).done;)f=65599*f+h.value|0;return f},Ia=function(o){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma)+o|0},qs=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zs;return(l<<5)+l+o|0},as=function(o){return 2097152*o[0]+o[1]},Aa=function(o,l){return[Ia(o[0],l[0]),qs(o[1],l[1])]},ss=function(o,l){var f={value:0,done:!1},h=0,p=o.length;return Jc({next:function(){return h<p?f.value=o.charCodeAt(h++):f.done=!0,f}},l)},td=function(){return vu(arguments)},vu=function(o){for(var l,f=0;f<o.length;f++){var h=o[f];l=0===f?ss(h):ss(h,l)}return l},ec=!0,No=null!=console.warn,nd=null!=console.trace,tc=Number.MAX_SAFE_INTEGER||9007199254740991,nc=function(){return!0},Is=function(){return!1},rc=function(){return 0},rd=function(){},ri=function(o){throw new Error(o)},Oa=function(o){if(void 0===o)return ec;ec=!!o},Mr=function(o){Oa()&&(No?console.warn(o):(console.log(o),nd&&console.trace()))},ki=function(o){return null==o?o:ht(o)?o.slice():Ke(o)?function(o){return Nn({},o)}(o):o},ff=function(o,l){for(l=o="";o++<36;l+=51*o&52?(15^o?8^Math.random()*(20^o?16:4):4).toString(16):"-");return l},Pi={},En=function(){return Pi},li=function(o){var l=Object.keys(o);return function(f){for(var h={},p=0;p<l.length;p++){var g=l[p],_=f?.[g];h[g]=void 0===_?o[g]:_}return h}},$a=function(o,l,f){for(var h=o.length-1;h>=0&&(o[h]!==l||(o.splice(h,1),!f));h--);},Ro=function(o){o.splice(0,o.length)},Qi=function(o,l,f){return f&&(l=zn(f,l)),o[l]},ko=function(o,l,f,h){f&&(l=zn(f,l)),o[l]=h},Tt=typeof Map<"u"?Map:function(){function u(){$(this,u),this._obj={}}return ue(u,[{key:"set",value:function(l,f){return this._obj[l]=f,this}},{key:"delete",value:function(l){return this._obj[l]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(l){return void 0!==this._obj[l]}},{key:"get",value:function(l){return this._obj[l]}}]),u}(),od=function(){function u(o){if($(this,u),this._obj=Object.create(null),this.size=0,null!=o){var l;l=null!=o.instanceString&&o.instanceString()===this.instanceString()?o.toArray():o;for(var f=0;f<l.length;f++)this.add(l[f])}}return ue(u,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(l){var f=this._obj;1!==f[l]&&(f[l]=1,this.size++)}},{key:"delete",value:function(l){var f=this._obj;1===f[l]&&(f[l]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(l){return 1===this._obj[l]}},{key:"toArray",value:function(){var l=this;return Object.keys(this._obj).filter(function(f){return l.has(f)})}},{key:"forEach",value:function(l,f){return this.toArray().forEach(l,f)}}]),u}(),As="undefined"!==(typeof Set>"u"?"undefined":H(Set))?Set:od,Oe=function(o,l){var f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==o&&void 0!==l&&lt(o)){var h=l.group;if(null==h&&(h=l.data&&null!=l.data.source&&null!=l.data.target?"edges":"nodes"),"nodes"===h||"edges"===h){this.length=1,this[0]=this;var p=this._private={cy:o,single:!0,data:l.data||{},position:l.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:h,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!l.selected,selectable:void 0===l.selectable||!!l.selectable,locked:!!l.locked,grabbed:!1,grabbable:void 0===l.grabbable||!!l.grabbable,pannable:void 0===l.pannable?"edges"===h:!!l.pannable,active:!1,classes:new As,animation:{current:[],queue:[]},rscratch:{},scratch:l.scratch||{},edges:[],children:[],parent:l.parent&&l.parent.isNode()?l.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==p.position.x&&(p.position.x=0),null==p.position.y&&(p.position.y=0),l.renderedPosition){var g=l.renderedPosition,_=o.pan(),E=o.zoom();p.position={x:(g.x-_.x)/E,y:(g.y-_.y)/E}}var x=[];ht(l.classes)?x=l.classes:Be(l.classes)&&(x=l.classes.split(/\s+/));for(var M=0,F=x.length;M<F;M++){var z=x[M];!z||""===z||p.classes.add(z)}this.createEmitter();var W=l.style||l.css;W&&(Mr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(W)),(void 0===f||f)&&this.restore()}else ri("An element must be of type `nodes` or `edges`; you specified `"+h+"`")}else ri("An element must have a core reference and parameters set")},Re=function(o){return o={bfs:o.bfs||!o.dfs,dfs:o.dfs||!o.bfs},function(f,h,p){var g;Ke(f)&&!It(f)&&(f=(g=f).roots||g.root,h=g.visit,p=g.directed),p=2!==arguments.length||at(h)?p:h,h=at(h)?h:function(){};for(var q,_=this._private.cy,E=f=Be(f)?this.filter(f):f,x=[],M=[],F={},z={},W={},j=0,J=this.byGroup(),re=J.nodes,fe=J.edges,he=0;he<E.length;he++){var ve=E[he],Ie=ve.id();ve.isNode()&&(x.unshift(ve),o.bfs&&(W[Ie]=!0,M.push(ve)),z[Ie]=0)}for(var Ae=function(){var He=o.bfs?x.shift():x.pop(),Ne=He.id();if(o.dfs){if(W[Ne])return"continue";W[Ne]=!0,M.push(He)}var yt,qe=z[Ne],Ue=F[Ne],Ge=null!=Ue?Ue.source():null,ot=null!=Ue?Ue.target():null,ct=null==Ue?void 0:He.same(Ge)?ot[0]:Ge[0];if(!0===(yt=h(He,Ue,ct,j++,qe)))return q=He,"break";if(!1===yt)return"break";for(var st=He.connectedEdges().filter(function(_t){return(!p||_t.source().same(He))&&fe.has(_t)}),vt=0;vt<st.length;vt++){var At=st[vt],Ot=At.connectedNodes().filter(function(_t){return!_t.same(He)&&re.has(_t)}),Dt=Ot.id();0!==Ot.length&&!W[Dt]&&(x.push(Ot=Ot[0]),o.bfs&&(W[Dt]=!0,M.push(Ot)),F[Dt]=At,z[Dt]=z[Ne]+1)}};0!==x.length;){var ye=Ae();if("continue"!==ye&&"break"===ye)break}for(var Me=_.collection(),we=0;we<M.length;we++){var ke=M[we],Pe=F[ke.id()];null!=Pe&&Me.push(Pe),Me.push(ke)}return{path:_.collection(Me),found:_.collection(q)}}},Ve={breadthFirstSearch:Re({bfs:!0}),depthFirstSearch:Re({dfs:!0})};Ve.bfs=Ve.breadthFirstSearch,Ve.dfs=Ve.depthFirstSearch;var rt=li({root:null,weight:function(o){return 1},directed:!1}),Je={dijkstra:function(o){if(!Ke(o)){var l=arguments;o={root:l[0],weight:l[1],directed:l[2]}}var Ue,Ge,f=rt(o),h=f.root,g=f.directed,_=this,E=f.weight,x=Be(h)?this.filter(h)[0]:h[0],M={},F={},z={},W=this.byGroup(),j=W.nodes,q=W.edges;q.unmergeBy(function(qe){return qe.isLoop()});for(var J=function(Ue){return M[Ue.id()]},fe=new A.default(function(qe,Ue){return J(qe)-J(Ue)}),he=0;he<j.length;he++){var ve=j[he];M[ve.id()]=ve.same(x)?0:1/0,fe.push(ve)}for(var Ie=function(Ue,Ge){for(var yt,ot=(g?Ue.edgesTo(Ge):Ue.edgesWith(Ge)).intersect(q),ct=1/0,st=0;st<ot.length;st++){var vt=ot[st],At=E(vt);(At<ct||!yt)&&(ct=At,yt=vt)}return{edge:yt,dist:ct}};fe.size()>0;){var Ae=fe.pop(),ye=J(Ae),Me=Ae.id();if(z[Me]=ye,ye!==1/0)for(var we=Ae.neighborhood().intersect(j),ke=0;ke<we.length;ke++){var Pe=we[ke],xe=Pe.id(),He=Ie(Ae,Pe),Ne=ye+He.dist;Ne<J(Pe)&&(Ge=Ne,M[(Ue=Pe).id()]=Ge,fe.updateItem(Ue),F[xe]={node:Ae,edge:He.edge})}}return{distanceTo:function(Ue){var Ge=Be(Ue)?j.filter(Ue)[0]:Ue[0];return z[Ge.id()]},pathTo:function(Ue){var Ge=Be(Ue)?j.filter(Ue)[0]:Ue[0],ot=[],ct=Ge,yt=ct.id();if(Ge.length>0)for(ot.unshift(Ge);F[yt];){var st=F[yt];ot.unshift(st.edge),ot.unshift(st.node),yt=(ct=st.node).id()}return _.spawn(ot)}}}},Qt={kruskal:function(o){o=o||function(he){return 1};for(var l=this.byGroup(),f=l.nodes,h=l.edges,p=f.length,g=new Array(p),_=f,E=function(ve){for(var Ie=0;Ie<g.length;Ie++)if(g[Ie].has(ve))return Ie},x=0;x<p;x++)g[x]=this.spawn(f[x]);for(var M=h.sort(function(he,ve){return o(he)-o(ve)}),F=0;F<M.length;F++){var z=M[F],W=z.source()[0],j=z.target()[0],q=E(W),J=E(j),re=g[q],fe=g[J];q!==J&&(_.merge(z),re.merge(fe),g.splice(J,1))}return _}},gn=li({root:null,goal:null,weight:function(o){return 1},heuristic:function(o){return 0},directed:!1}),Vt={aStar:function(o){var l=this.cy(),f=gn(o),h=f.root,p=f.goal,g=f.heuristic,_=f.directed,E=f.weight;h=l.collection(h)[0],p=l.collection(p)[0];var he,ve,x=h.id(),M=p.id(),F={},z={},W={},j=new A.default(function(yt,st){return z[yt.id()]-z[st.id()]}),q=new As,J={},re={},fe=function(st,vt){j.push(st),q.add(vt)};fe(h,x),F[x]=0,z[x]=g(h);for(var ye=0;j.size()>0;){if(ve=(he=j.pop()).id(),q.delete(ve),ye++,ve===M){for(var Me=[],we=p,ke=M,Pe=re[ke];Me.unshift(we),null!=Pe&&Me.unshift(Pe),null!=(we=J[ke]);)Pe=re[ke=we.id()];return{found:!0,distance:F[ve],path:this.spawn(Me),steps:ye}}W[ve]=!0;for(var xe=he._private.edges,He=0;He<xe.length;He++){var Ne=xe[He];if(this.hasElementWithId(Ne.id())&&(!_||Ne.data("source")===ve)){var qe=Ne.source(),Ue=Ne.target(),Ge=qe.id()!==ve?qe:Ue,ot=Ge.id();if(this.hasElementWithId(ot)&&!W[ot]){var ct=F[ve]+E(Ne);if(!q.has(ot)){F[ot]=ct,z[ot]=ct+g(Ge),fe(Ge,ot),J[ot]=he,re[ot]=Ne;continue}ct<F[ot]&&(F[ot]=ct,z[ot]=ct+g(Ge),J[ot]=he,re[ot]=Ne)}}}}return{found:!1,distance:void 0,path:void 0,steps:ye}}},tn=li({weight:function(o){return 1},directed:!1}),Un={floydWarshall:function(o){for(var l=this.cy(),f=tn(o),p=f.directed,g=f.weight,_=this.byGroup(),E=_.nodes,x=_.edges,M=E.length,F=M*M,z=function(At){return E.indexOf(At)},W=function(At){return E[At]},j=new Array(F),q=0;q<F;q++){var J=q%M;j[q]=(q-J)/M===J?0:1/0}for(var fe=new Array(F),he=new Array(F),ve=0;ve<x.length;ve++){var Ie=x[ve],Ae=Ie.source()[0],ye=Ie.target()[0];if(Ae!==ye){var Me=z(Ae),we=z(ye),ke=Me*M+we,Pe=g(Ie);if(j[ke]>Pe&&(j[ke]=Pe,fe[ke]=we,he[ke]=Ie),!p){var xe=we*M+Me;!p&&j[xe]>Pe&&(j[xe]=Pe,fe[xe]=Me,he[xe]=Ie)}}}for(var He=0;He<M;He++)for(var Ne=0;Ne<M;Ne++)for(var qe=Ne*M+He,Ue=0;Ue<M;Ue++){var Ge=Ne*M+Ue,ot=He*M+Ue;j[qe]+j[ot]<j[Ge]&&(j[Ge]=j[qe]+j[ot],fe[Ge]=fe[qe])}var yt=function(At){return z(function(At){return(Be(At)?l.filter(At):At)[0]}(At))};return{distance:function(At,Ot){var Dt=yt(At),_t=yt(Ot);return j[Dt*M+_t]},path:function(At,Ot){var Dt=yt(At),_t=yt(Ot),tt=W(Dt);if(Dt===_t)return tt.collection();if(null==fe[Dt*M+_t])return l.collection();var Mt=l.collection();for(Mt.merge(tt);Dt!==_t;)Mt.merge(he[Dt*M+(Dt=fe[Dt*M+_t])]),Mt.merge(W(Dt));return Mt}}}},Bt=li({weight:function(o){return 1},directed:!1,root:null}),Or={bellmanFord:function(o){var l=this,f=Bt(o),p=f.directed,g=f.root,_=f.weight,E=this,x=this.cy(),M=this.byGroup(),F=M.edges,z=M.nodes,W=z.length,j=new Tt,q=!1,J=[];g=x.collection(g)[0],F.unmergeBy(function(Sn){return Sn.isLoop()});for(var re=F.length,fe=function(un){var Rn=j.get(un.id());return Rn||(Rn={},j.set(un.id(),Rn)),Rn},he=function(un){return(Be(un)?x.$(un):un)[0]},Ae=0;Ae<W;Ae++){var ye=z[Ae],Me=fe(ye);Me.dist=ye.same(g)?0:1/0,Me.pred=null,Me.edge=null}for(var we=!1,ke=function(un,Rn,Nr,fr,$n,zt){var Ce=fr.dist+zt;Ce<$n.dist&&!Nr.same(fr.edge)&&($n.dist=Ce,$n.pred=un,$n.edge=Nr,we=!0)},Pe=1;Pe<W;Pe++){we=!1;for(var xe=0;xe<re;xe++){var He=F[xe],Ne=He.source(),qe=He.target(),Ue=_(He),Ge=fe(Ne),ot=fe(qe);ke(Ne,0,He,Ge,ot,Ue),p||ke(qe,0,He,ot,Ge,Ue)}if(!we)break}if(we)for(var ct=[],yt=0;yt<re;yt++){var st=F[yt],vt=st.source(),At=st.target(),Ot=_(st),Dt=fe(vt).dist,_t=fe(At).dist;if(Dt+Ot<_t||!p&&_t+Ot<Dt){if(q||(Mr("Graph contains a negative weight cycle for Bellman-Ford"),q=!0),!1===o.findNegativeWeightCycles)break;var tt=[];Dt+Ot<_t&&tt.push(vt),!p&&_t+Ot<Dt&&tt.push(At);for(var Mt=tt.length,Nt=0;Nt<Mt;Nt++){var $t=tt[Nt],rn=[$t];rn.push(fe($t).edge);for(var Xn=fe($t).pred;-1===rn.indexOf(Xn);)rn.push(Xn),rn.push(fe(Xn).edge),Xn=fe(Xn).pred;for(var ar=(rn=rn.slice(rn.indexOf(Xn)))[0].id(),sn=0,en=2;en<rn.length;en+=2)rn[en].id()<ar&&(ar=rn[en].id(),sn=en);(rn=rn.slice(sn).concat(rn.slice(0,sn))).push(rn[0]);var Pn=rn.map(function(Sn){return Sn.id()}).join(",");-1===ct.indexOf(Pn)&&(J.push(E.spawn(rn)),ct.push(Pn))}}}return{distanceTo:function(un){return fe(he(un)).dist},pathTo:function(un){for(var Rn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,fr=[],$n=he(un);;){if(null==$n)return l.spawn();var zt=fe($n),Ce=zt.edge,dt=zt.pred;if(fr.unshift($n[0]),$n.same(Rn)&&fr.length>0)break;null!=Ce&&fr.unshift(Ce),$n=dt}return E.spawn(fr)},hasNegativeWeightCycle:q,negativeWeightCycles:J}}},er=Math.sqrt(2),or=function(o,l,f){0===f.length&&ri("Karger-Stein must be run on a connected (sub)graph");for(var h=f[o],_=l[h[1]],E=l[h[2]],x=f,M=x.length-1;M>=0;M--){var F=x[M],z=F[1],W=F[2];(l[z]===_&&l[W]===E||l[z]===E&&l[W]===_)&&x.splice(M,1)}for(var j=0;j<x.length;j++){var q=x[j];q[1]===E?(x[j]=q.slice(),x[j][1]=_):q[2]===E&&(x[j]=q.slice(),x[j][2]=_)}for(var J=0;J<l.length;J++)l[J]===E&&(l[J]=_);return x},ii=function(o,l,f,h){for(;f>h;){var p=Math.floor(Math.random()*l.length);l=or(p,o,l),f--}return l},An={kargerStein:function(){var o=this,l=this.byGroup(),f=l.nodes,h=l.edges;h.unmergeBy(function(ot){return ot.isLoop()});var p=f.length,g=h.length,_=Math.ceil(Math.pow(Math.log(p)/Math.LN2,2)),E=Math.floor(p/er);if(!(p<2)){for(var x=[],M=0;M<g;M++){var F=h[M];x.push([M,f.indexOf(F.source()),f.indexOf(F.target())])}for(var z=1/0,W=[],j=new Array(p),q=new Array(p),J=new Array(p),re=function(ct,yt){for(var st=0;st<p;st++)yt[st]=ct[st]},fe=0;fe<=_;fe++){for(var he=0;he<p;he++)q[he]=he;var ve=ii(q,x.slice(),p,E),Ie=ve.slice();re(q,J);var Ae=ii(q,ve,E,2),ye=ii(J,Ie,E,2);Ae.length<=ye.length&&Ae.length<z?(z=Ae.length,W=Ae,re(q,j)):ye.length<=Ae.length&&ye.length<z&&(z=ye.length,W=ye,re(J,j))}for(var Me=this.spawn(W.map(function(ot){return h[ot[0]]})),we=this.spawn(),ke=this.spawn(),Pe=j[0],xe=0;xe<j.length;xe++){var Ne=f[xe];j[xe]===Pe?we.merge(Ne):ke.merge(Ne)}var qe=function(ct){var yt=o.spawn();return ct.forEach(function(st){yt.merge(st),st.connectedEdges().forEach(function(vt){o.contains(vt)&&!Me.contains(vt)&&yt.merge(vt)})}),yt},Ue=[qe(we),qe(ke)];return{cut:Me,components:Ue,partition1:we,partition2:ke}}ri("At least 2 nodes are required for Karger-Stein algorithm")}},Lr=function(o,l,f){return{x:o.x*l+f.x,y:o.y*l+f.y}},mi=function(o,l,f){return{x:(o.x-f.x)/l,y:(o.y-f.y)/l}},ui=function(o){return{x:o[0],y:o[1]}},ci=function(o,l){return Math.atan2(l,o)-Math.PI/2},Hi=Math.log2||function(u){return Math.log(u)/Math.log(2)},mo=function(o){return o>0?1:o<0?-1:0},zi=function(o,l){return Math.sqrt(Rr(o,l))},Rr=function(o,l){var f=l.x-o.x,h=l.y-o.y;return f*f+h*h},Qs=function(o){for(var l=o.length,f=0,h=0;h<l;h++)f+=o[h];for(var p=0;p<l;p++)o[p]=o[p]/f;return o},di=function(o,l,f,h){return(1-h)*(1-h)*o+2*(1-h)*h*l+h*h*f},vo=function(o,l,f,h){return{x:di(o.x,l.x,f.x,h),y:di(o.y,l.y,f.y,h)}},Js=function(o,l,f){return Math.max(o,Math.min(f,l))},Mi=function(o){if(null==o)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=o.x1&&null!=o.y1){if(null!=o.x2&&null!=o.y2&&o.x2>=o.x1&&o.y2>=o.y1)return{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,w:o.x2-o.x1,h:o.y2-o.y1};if(null!=o.w&&null!=o.h&&o.w>=0&&o.h>=0)return{x1:o.x1,y1:o.y1,x2:o.x1+o.w,y2:o.y1+o.h,w:o.w,h:o.h}}},Ul=function(o,l){o.x1=Math.min(o.x1,l.x1),o.x2=Math.max(o.x2,l.x2),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,l.y1),o.y2=Math.max(o.y2,l.y2),o.h=o.y2-o.y1},oc=function(o,l,f){o.x1=Math.min(o.x1,l),o.x2=Math.max(o.x2,l),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,f),o.y2=Math.max(o.y2,f),o.h=o.y2-o.y1},Na=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.x1-=l,o.x2+=l,o.y1-=l,o.y2+=l,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},Os=function(o){var f,h,p,g,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===l.length)f=h=p=g=l[0];else if(2===l.length)f=p=l[0],g=h=l[1];else if(4===l.length){var _=le(l,4);f=_[0],h=_[1],p=_[2],g=_[3]}return o.x1-=g,o.x2+=h,o.y1-=f,o.y2+=p,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},io=function(o,l){o.x1=l.x1,o.y1=l.y1,o.x2=l.x2,o.y2=l.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1},tr=function(o,l){return!(o.x1>l.x2||l.x1>o.x2||o.x2<l.x1||l.x2<o.x1||o.y2<l.y1||l.y2<o.y1||o.y1>l.y2||l.y1>o.y2)},Ya=function(o,l,f){return o.x1<=l&&l<=o.x2&&o.y1<=f&&f<=o.y2},hf=function(o,l){return Ya(o,l.x,l.y)},ad=function(o,l){return Ya(o,l.x1,l.y1)&&Ya(o,l.x2,l.y2)},an=function(o,l,f,h,p,g,_){var F,E=wu(p,g),x=p/2,M=g/2,W=h-M-_;if((F=ls(o,l,f,h,f-x+E-_,W,f+x-E+_,W,!1)).length>0)return F;var J=f+x+_;if((F=ls(o,l,f,h,J,h-M+E-_,J,h+M-E+_,!1)).length>0)return F;var Ie=h+M+_;if((F=ls(o,l,f,h,f-x+E-_,Ie,f+x-E+_,Ie,!1)).length>0)return F;var xe,Me=f-x-_;if((F=ls(o,l,f,h,Me,h-M+E-_,Me,h+M-E+_,!1)).length>0)return F;var He=f-x+E,Ne=h-M+E;if((xe=gl(o,l,f,h,He,Ne,E+_)).length>0&&xe[0]<=He&&xe[1]<=Ne)return[xe[0],xe[1]];var qe=f+x-E,Ue=h-M+E;if((xe=gl(o,l,f,h,qe,Ue,E+_)).length>0&&xe[0]>=qe&&xe[1]<=Ue)return[xe[0],xe[1]];var Ge=f+x-E,ot=h+M-E;if((xe=gl(o,l,f,h,Ge,ot,E+_)).length>0&&xe[0]>=Ge&&xe[1]>=ot)return[xe[0],xe[1]];var ct=f-x+E,yt=h+M-E;return(xe=gl(o,l,f,h,ct,yt,E+_)).length>0&&xe[0]<=ct&&xe[1]>=yt?[xe[0],xe[1]]:[]},hl=function(o,l,f,h,p,g,_){var E=_,x=Math.min(f,p),M=Math.max(f,p),F=Math.min(h,g),z=Math.max(h,g);return x-E<=o&&o<=M+E&&F-E<=l&&l<=z+E},Qr=function(o,l,f,h,p,g,_,E,x){var M_x1=Math.min(f,_,p)-x,M_x2=Math.max(f,_,p)+x,M_y1=Math.min(h,E,g)-x,M_y2=Math.max(h,E,g)+x;return!(o<M_x1||o>M_x2||l<M_y1||l>M_y2)},yu=function(o,l,f,h,p,g,_,E){var W=[];!function(o,l,f,h,p){var _,E,x,M,F,z,W,j;0===o&&(o=1e-5),x=-27*(h/=o)+(l/=o)*(9*(f/=o)-l*l*2),_=(E=(3*f-l*l)/9)*E*E+(x/=54)*x,p[1]=0,W=l/3,_>0?(F=(F=x+Math.sqrt(_))<0?-Math.pow(-F,1/3):Math.pow(F,1/3),z=(z=x-Math.sqrt(_))<0?-Math.pow(-z,1/3):Math.pow(z,1/3),p[0]=-W+F+z,p[4]=p[2]=-(W+=(F+z)/2),W=Math.sqrt(3)*(-z+F)/2,p[3]=W,p[5]=-W):(p[5]=p[3]=0,0===_?(j=x<0?-Math.pow(-x,1/3):Math.pow(x,1/3),p[0]=2*j-W,p[4]=p[2]=-(j+W)):(M=(E=-E)*E*E,M=Math.acos(x/Math.sqrt(M)),j=2*Math.sqrt(E),p[0]=-W+j*Math.cos(M/3),p[2]=-W+j*Math.cos((M+2*Math.PI)/3),p[4]=-W+j*Math.cos((M+4*Math.PI)/3)))}(1*f*f-4*f*p+2*f*_+4*p*p-4*p*_+_*_+h*h-4*h*g+2*h*E+4*g*g-4*g*E+E*E,9*f*p-3*f*f-3*f*_-6*p*p+3*p*_+9*h*g-3*h*h-3*h*E-6*g*g+3*g*E,3*f*f-6*f*p+f*_-f*o+2*p*p+2*p*o-_*o+3*h*h-6*h*g+h*E-h*l+2*g*g+2*g*l-E*l,1*f*p-f*f+f*o-p*o+h*g-h*h+h*l-g*l,W);for(var q=[],J=0;J<6;J+=2)Math.abs(W[J+1])<1e-7&&W[J]>=0&&W[J]<=1&&q.push(W[J]);q.push(1),q.push(0);for(var fe,he,ve,re=-1,Ie=0;Ie<q.length;Ie++)fe=Math.pow(1-q[Ie],2)*f+2*(1-q[Ie])*q[Ie]*p+q[Ie]*q[Ie]*_,he=Math.pow(1-q[Ie],2)*h+2*(1-q[Ie])*q[Ie]*g+q[Ie]*q[Ie]*E,ve=Math.pow(fe-o,2)+Math.pow(he-l,2),re>=0?ve<re&&(re=ve):re=ve;return re},pl=function(o,l,f,h,p,g){var _=[o-f,l-h],E=[p-f,g-h],x=E[0]*E[0]+E[1]*E[1],M=_[0]*_[0]+_[1]*_[1],F=_[0]*E[0]+_[1]*E[1],z=F*F/x;return F<0?M:z>x?(o-p)*(o-p)+(l-g)*(l-g):M-z},Ko=function(o,l,f){for(var h,p,g,_,x=0,M=0;M<f.length/2;M++)if(p=f[2*M+1],M+1<f.length/2?(g=f[2*(M+1)],_=f[2*(M+1)+1]):(g=f[2*(M+1-f.length/2)],_=f[2*(M+1-f.length/2)+1]),(h=f[2*M])!=o||g!=o){if(!(h>=o&&o>=g||h<=o&&o<=g))continue;(o-h)/(g-h)*(_-p)+p>l&&x++}return x%2!=0},ka=function(o,l,f,h,p,g,_,E,x){var F,q,M=new Array(f.length);null!=E[0]?(F=Math.atan(E[1]/E[0]),E[0]<0?F+=Math.PI/2:F=-F-Math.PI/2):F=E;for(var z=Math.cos(-F),W=Math.sin(-F),j=0;j<M.length/2;j++)M[2*j]=g/2*(f[2*j]*z-f[2*j+1]*W),M[2*j+1]=_/2*(f[2*j+1]*z+f[2*j]*W),M[2*j]+=h,M[2*j+1]+=p;if(x>0){var J=sc(M,-x);q=Gl(J)}else q=M;return Ko(o,l,q)},Gl=function(o){for(var _,E,x,M,l=new Array(o.length/2),F=0;F<o.length/4;F++){F<o.length/4-1?(_=o[4*(F+1)],E=o[4*(F+1)+1],x=o[4*(F+1)+2],M=o[4*(F+1)+3]):(_=o[0],E=o[1],x=o[2],M=o[3]);var z=ls(o[4*F],o[4*F+1],o[4*F+2],o[4*F+3],_,E,x,M,!0);l[2*F]=z[0],l[2*F+1]=z[1]}return l},sc=function(o,l){for(var h,p,g,_,f=new Array(2*o.length),E=0;E<o.length/2;E++){E<o.length/2-1?(g=o[2*(E+1)],_=o[2*(E+1)+1]):(g=o[0],_=o[1]);var x=_-(p=o[2*E+1]),M=-(g-(h=o[2*E])),F=Math.sqrt(x*x+M*M),z=x/F,W=M/F;f[4*E]=h+z*l,f[4*E+1]=p+W*l,f[4*E+2]=g+z*l,f[4*E+3]=_+W*l}return f},Xa=function(o,l,f,h,p,g,_){return o-=p,l-=g,(o/=f/2+_)*o+(l/=h/2+_)*l<=1},gl=function(o,l,f,h,p,g,_){var E=[f-o,h-l],x=[o-p,l-g],M=E[0]*E[0]+E[1]*E[1],F=2*(x[0]*E[0]+x[1]*E[1]),W=F*F-4*M*(x[0]*x[0]+x[1]*x[1]-_*_);if(W<0)return[];var j=(-F+Math.sqrt(W))/(2*M),q=(-F-Math.sqrt(W))/(2*M),J=Math.min(j,q),re=Math.max(j,q),fe=[];if(J>=0&&J<=1&&fe.push(J),re>=0&&re<=1&&fe.push(re),0===fe.length)return[];var he=fe[0]*E[0]+o,ve=fe[0]*E[1]+l;return fe.length>1?fe[0]==fe[1]?[he,ve]:[he,ve,fe[1]*E[0]+o,fe[1]*E[1]+l]:[he,ve]},yo=function(o,l,f){return l<=o&&o<=f||f<=o&&o<=l?o:o<=l&&l<=f||f<=l&&l<=o?l:f},ls=function(o,l,f,h,p,g,_,E,x){var M=o-p,F=f-o,z=_-p,W=l-g,j=h-l,q=E-g,J=z*W-q*M,re=F*W-j*M,fe=q*F-z*j;if(0!==fe){var he=J/fe,ve=re/fe;return-.001<=he&&he<=1.001&&-.001<=ve&&ve<=1.001||x?[o+he*F,l+he*j]:[]}return 0===J||0===re?yo(o,f,_)===_?[_,E]:yo(o,f,p)===p?[p,g]:yo(p,_,f)===f?[f,h]:[]:[]},jl=function(o,l,f,h,p,g,_,E){var M,W,x=[],F=new Array(f.length),z=!0;if(null==g&&(z=!1),z){for(var j=0;j<F.length/2;j++)F[2*j]=f[2*j]*g+h,F[2*j+1]=f[2*j+1]*_+p;if(E>0){var q=sc(F,-E);W=Gl(q)}else W=F}else W=f;for(var fe,he,ve=0;ve<W.length/2;ve++)ve<W.length/2-1?(fe=W[2*(ve+1)],he=W[2*(ve+1)+1]):(fe=W[0],he=W[1]),0!==(M=ls(o,l,h,p,W[2*ve],W[2*ve+1],fe,he)).length&&x.push(M[0],M[1]);return x},pf=function(o,l,f){var h=[o[0]-l[0],o[1]-l[1]],p=Math.sqrt(h[0]*h[0]+h[1]*h[1]),g=(p-f)/p;return g<0&&(g=1e-5),[l[0]+g*h[0],l[1]+g*h[1]]},Zo=function(o,l){var f=bu(o,l);return lc(f)},lc=function(o){for(var l,f,h=o.length/2,p=1/0,g=1/0,_=-1/0,E=-1/0,x=0;x<h;x++)l=o[2*x],f=o[2*x+1],p=Math.min(p,l),_=Math.max(_,l),g=Math.min(g,f),E=Math.max(E,f);for(var M=2/(_-p),F=2/(E-g),z=0;z<h;z++)l=o[2*z]=o[2*z]*M,f=o[2*z+1]=o[2*z+1]*F,p=Math.min(p,l),_=Math.max(_,l),g=Math.min(g,f),E=Math.max(E,f);if(g<-1)for(var W=0;W<h;W++)f=o[2*W+1]=o[2*W+1]+(-1-g);return o},bu=function(o,l){var f=1/o*2*Math.PI,h=o%2==0?Math.PI/2+f/2:Math.PI/2;h+=l;for(var g,p=new Array(2*o),_=0;_<o;_++)g=_*f+h,p[2*_]=Math.cos(g),p[2*_+1]=Math.sin(-g);return p},wu=function(o,l){return Math.min(o/4,l/4,8)},uc=function(o,l){return Math.min(o/10,l/10,8)},fh=function(o,l){return{heightOffset:Math.min(15,.05*l),widthOffset:Math.min(100,.25*o),ctrlPtOffsetPct:.05}},hh=li({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(o){return 1}}),el={pageRank:function(o){for(var l=hh(o),f=l.dampingFactor,h=l.precision,p=l.iterations,g=l.weight,_=this._private.cy,E=this.byGroup(),x=E.nodes,M=E.edges,F=x.length,W=M.length,j=new Array(F*F),q=new Array(F),J=(1-f)/F,re=0;re<F;re++){for(var fe=0;fe<F;fe++)j[re*F+fe]=0;q[re]=0}for(var ve=0;ve<W;ve++){var Ie=M[ve],Ae=Ie.data("source"),ye=Ie.data("target");if(Ae!==ye){var Me=x.indexOfId(Ae),we=x.indexOfId(ye),ke=g(Ie);j[we*F+Me]+=ke,q[Me]+=ke}}for(var xe=1/F+J,He=0;He<F;He++)if(0===q[He])for(var Ne=0;Ne<F;Ne++)j[Ne*F+He]=xe;else for(var Ue=0;Ue<F;Ue++){var Ge=Ue*F+He;j[Ge]=j[Ge]/q[He]+J}for(var yt,ot=new Array(F),ct=new Array(F),st=0;st<F;st++)ot[st]=1;for(var vt=0;vt<p;vt++){for(var At=0;At<F;At++)ct[At]=0;for(var Ot=0;Ot<F;Ot++)for(var Dt=0;Dt<F;Dt++)ct[Ot]+=j[Ot*F+Dt]*ot[Dt];Qs(ct),yt=ot,ot=ct,ct=yt;for(var tt=0,Mt=0;Mt<F;Mt++){var Nt=yt[Mt]-ot[Mt];tt+=Nt*Nt}if(tt<h)break}return{rank:function(Xn){return Xn=_.collection(Xn)[0],ot[x.indexOf(Xn)]}}}},Dp=li({root:null,weight:function(o){return 1},directed:!1,alpha:0}),Pa={degreeCentralityNormalized:function(o){o=Dp(o);var l=this.cy(),f=this.nodes(),h=f.length;if(o.directed){for(var M={},F={},z=0,W=0,j=0;j<h;j++){var q=f[j],J=q.id();o.root=q;var re=this.degreeCentrality(o);z<re.indegree&&(z=re.indegree),W<re.outdegree&&(W=re.outdegree),M[J]=re.indegree,F[J]=re.outdegree}return{indegree:function(he){return 0==z?0:(Be(he)&&(he=l.filter(he)),M[he.id()]/z)},outdegree:function(he){return 0===W?0:(Be(he)&&(he=l.filter(he)),F[he.id()]/W)}}}for(var p={},g=0,_=0;_<h;_++){var E=f[_];o.root=E;var x=this.degreeCentrality(o);g<x.degree&&(g=x.degree),p[E.id()]=x.degree}return{degree:function(he){return 0===g?0:(Be(he)&&(he=l.filter(he)),p[he.id()]/g)}}},degreeCentrality:function(o){o=Dp(o);var l=this.cy(),f=this,p=o.root,g=o.weight,_=o.directed,E=o.alpha;if(p=l.collection(p)[0],_){for(var W=p.connectedEdges(),j=W.filter(function(Ae){return Ae.target().same(p)&&f.has(Ae)}),q=W.filter(function(Ae){return Ae.source().same(p)&&f.has(Ae)}),J=j.length,re=q.length,fe=0,he=0,ve=0;ve<j.length;ve++)fe+=g(j[ve]);for(var Ie=0;Ie<q.length;Ie++)he+=g(q[Ie]);return{indegree:Math.pow(J,1-E)*Math.pow(fe,E),outdegree:Math.pow(re,1-E)*Math.pow(he,E)}}for(var x=p.connectedEdges().intersection(f),M=x.length,F=0,z=0;z<x.length;z++)F+=g(x[z]);return{degree:Math.pow(M,1-E)*Math.pow(F,E)}}};Pa.dc=Pa.degreeCentrality,Pa.dcn=Pa.degreeCentralityNormalised=Pa.degreeCentralityNormalized;var Sp=li({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Pt={closenessCentralityNormalized:function(o){for(var l=Sp(o),f=l.harmonic,h=l.weight,p=l.directed,g=this.cy(),_={},E=0,x=this.nodes(),M=this.floydWarshall({weight:h,directed:p}),F=0;F<x.length;F++){for(var z=0,W=x[F],j=0;j<x.length;j++)if(F!==j){var q=M.distance(W,x[j]);z+=f?1/q:q}f||(z=1/z),E<z&&(E=z),_[W.id()]=z}return{closeness:function(re){return 0==E?0:(re=Be(re)?g.filter(re)[0].id():re.id(),_[re]/E)}}},closenessCentrality:function(o){var l=Sp(o),f=l.root,h=l.weight,p=l.directed,g=l.harmonic;f=this.filter(f)[0];for(var _=this.dijkstra({root:f,weight:h,directed:p}),E=0,x=this.nodes(),M=0;M<x.length;M++){var F=x[M];if(!F.same(f)){var z=_.distanceTo(F);E+=g?1/z:z}}return g?E:1/E}};Pt.cc=Pt.closenessCentrality,Pt.ccn=Pt.closenessCentralityNormalised=Pt.closenessCentralityNormalized;var ph=li({weight:null,directed:!1}),nn={betweennessCentrality:function(o){for(var l=ph(o),f=l.directed,h=l.weight,p=null!=h,g=this.cy(),_=this.nodes(),E={},x={},M=0,F={set:function(he,ve){x[he]=ve,ve>M&&(M=ve)},get:function(he){return x[he]}},z=0;z<_.length;z++){var W=_[z],j=W.id();E[j]=f?W.outgoers().nodes():W.openNeighborhood().nodes(),F.set(j,0)}for(var q=function(he){for(var ve=_[he].id(),Ie=[],Ae={},ye={},Me={},we=new A.default(function(Dt,_t){return Me[Dt]-Me[_t]}),ke=0;ke<_.length;ke++){var Pe=_[ke].id();Ae[Pe]=[],ye[Pe]=0,Me[Pe]=1/0}for(ye[ve]=1,Me[ve]=0,we.push(ve);!we.empty();){var xe=we.pop();if(Ie.push(xe),p)for(var He=0;He<E[xe].length;He++){var Ue,Ne=E[xe][He],qe=g.getElementById(xe);Ue=qe.edgesTo(Ne).length>0?qe.edgesTo(Ne)[0]:Ne.edgesTo(qe)[0];var Ge=h(Ue);Ne=Ne.id(),Me[Ne]>Me[xe]+Ge&&(Me[Ne]=Me[xe]+Ge,we.nodes.indexOf(Ne)<0?we.push(Ne):we.updateItem(Ne),ye[Ne]=0,Ae[Ne]=[]),Me[Ne]==Me[xe]+Ge&&(ye[Ne]=ye[Ne]+ye[xe],Ae[Ne].push(xe))}else for(var ot=0;ot<E[xe].length;ot++){var ct=E[xe][ot].id();Me[ct]==1/0&&(we.push(ct),Me[ct]=Me[xe]+1),Me[ct]==Me[xe]+1&&(ye[ct]=ye[ct]+ye[xe],Ae[ct].push(xe))}}for(var yt={},st=0;st<_.length;st++)yt[_[st].id()]=0;for(;Ie.length>0;){for(var vt=Ie.pop(),At=0;At<Ae[vt].length;At++){var Ot=Ae[vt][At];yt[Ot]=yt[Ot]+ye[Ot]/ye[vt]*(1+yt[vt])}vt!=_[he].id()&&F.set(vt,F.get(vt)+yt[vt])}},J=0;J<_.length;J++)q(J);var re={betweenness:function(he){var ve=g.collection(he).id();return F.get(ve)},betweennessNormalized:function(he){if(0==M)return 0;var ve=g.collection(he).id();return F.get(ve)/M}};return re.betweennessNormalised=re.betweennessNormalized,re}};nn.bc=nn.betweennessCentrality;var gf=li({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(u){return 1}]}),dc=function(o,l){for(var f=0,h=0;h<l.length;h++)f+=l[h](o);return f},fc=function(o,l){for(var f,h=0;h<l;h++){f=0;for(var p=0;p<l;p++)f+=o[p*l+h];for(var g=0;g<l;g++)o[g*l+h]=o[g*l+h]/f}},ml=function(o,l,f){for(var h=new Array(f*f),p=0;p<f;p++){for(var g=0;g<f;g++)h[p*f+g]=0;for(var _=0;_<f;_++)for(var E=0;E<f;E++)h[p*f+E]+=o[p*f+_]*l[_*f+E]}return h},us=function(o,l,f){for(var h=o.slice(0),p=1;p<f;p++)o=ml(o,h,l);return o},cs=function(o,l,f){for(var h=new Array(l*l),p=0;p<l*l;p++)h[p]=Math.pow(o[p],f);return fc(h,l),h},ya=function(o,l,f,h){for(var p=0;p<f;p++)if(Math.round(o[p]*Math.pow(10,h))/Math.pow(10,h)!=Math.round(l[p]*Math.pow(10,h))/Math.pow(10,h))return!1;return!0},xr=function(o,l){for(var f=0;f<o.length;f++)if(!l[f]||o[f].id()!==l[f].id())return!1;return!0},vf=function(o){for(var l=this.nodes(),f=this.edges(),h=this.cy(),p=function(o){return gf(o)}(o),g={},_=0;_<l.length;_++)g[l[_].id()]=_;for(var F,E=l.length,x=E*E,M=new Array(x),z=0;z<x;z++)M[z]=0;for(var W=0;W<f.length;W++){var j=f[W],q=g[j.source().id()],J=g[j.target().id()],re=dc(j,p.attributes);M[q*E+J]+=re,M[J*E+q]+=re}(function(o,l,f){for(var h=0;h<l;h++)o[h*l+h]=f})(M,E,p.multFactor),fc(M,E);for(var fe=!0,he=0;fe&&he<p.maxIterations;)fe=!1,F=us(M,E,p.expandFactor),M=cs(F,E,p.inflateFactor),ya(M,F,x,4)||(fe=!0),he++;var ve=function(o,l,f,h){for(var p=[],g=0;g<l;g++){for(var _=[],E=0;E<l;E++)Math.round(1e3*o[g*l+E])/1e3>0&&_.push(f[E]);0!==_.length&&p.push(h.collection(_))}return p}(M,E,l,h);return ve=function(o){for(var l=0;l<o.length;l++)for(var f=0;f<o.length;f++)l!=f&&xr(o[l],o[f])&&o.splice(f,1);return o}(ve),ve},yf={markovClustering:vf,mcl:vf},Tp=function(o){return o},Rs=function(o,l){return Math.abs(l-o)},Wl=function(o,l,f){return o+Rs(l,f)},$l=function(o,l,f){return o+Math.pow(f-l,2)},ks=function(o){return Math.sqrt(o)},bf=function(o,l,f){return Math.max(o,Rs(l,f))},_u=function(o,l,f,h,p){for(var g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Tp,_=h,M=0;M<o;M++)_=p(_,l(M),f(M));return g(_)},Cu={euclidean:function(o,l,f){return o>=2?_u(o,l,f,0,$l,ks):_u(o,l,f,0,Wl)},squaredEuclidean:function(o,l,f){return _u(o,l,f,0,$l)},manhattan:function(o,l,f){return _u(o,l,f,0,Wl)},max:function(o,l,f){return _u(o,l,f,-1/0,bf)}};function Yl(u,o,l,f,h,p){var g;return g=at(u)?u:Cu[u]||Cu.euclidean,0===o&&at(u)?g(h,p):g(o,l,f,h,p)}Cu["squared-euclidean"]=Cu.squaredEuclidean,Cu.squaredeuclidean=Cu.squaredEuclidean;var Mp=li({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),sd=function(o){return Mp(o)},ld=function(o,l,f,h,p){var _="kMedoids"!==p?function(F){return f[F]}:function(F){return h[F](f)};return Yl(o,h.length,_,function(z){return h[z](l)},f,l)},Xl=function(o,l,f){for(var h=f.length,p=new Array(h),g=new Array(h),_=new Array(l),E=null,x=0;x<h;x++)p[x]=o.min(f[x]).value,g[x]=o.max(f[x]).value;for(var M=0;M<l;M++){E=[];for(var F=0;F<h;F++)E[F]=Math.random()*(g[F]-p[F])+p[F];_[M]=E}return _},gh=function(o,l,f,h,p){for(var g=1/0,_=0,E=0;E<l.length;E++){var x=ld(f,o,l[E],h,p);x<g&&(g=x,_=E)}return _},mh=function(o,l,f){for(var h=[],p=null,g=0;g<l.length;g++)f[(p=l[g]).id()]===o&&h.push(p);return h},Ka=function(o,l,f){return Math.abs(l-o)<=f},wf=function(o,l,f){for(var h=0;h<o.length;h++)for(var p=0;p<o[h].length;p++)if(Math.abs(o[h][p]-l[h][p])>f)return!1;return!0},vh=function(o,l,f){for(var h=0;h<f;h++)if(o===l[h])return!0;return!1},ud=function(o,l){var f=new Array(l);if(o.length<50)for(var h=0;h<l;h++){for(var p=o[Math.floor(Math.random()*o.length)];vh(p,f,h);)p=o[Math.floor(Math.random()*o.length)];f[h]=p}else for(var g=0;g<l;g++)f[g]=o[Math.floor(Math.random()*o.length)];return f},ds=function(o,l,f){for(var h=0,p=0;p<l.length;p++)h+=ld("manhattan",l[p],o,f,"kMedoids");return h},_f=function(o,l,f,h,p){for(var g,_,E=0;E<l.length;E++)for(var x=0;x<o.length;x++)h[E][x]=Math.pow(f[E][x],p.m);for(var M=0;M<o.length;M++)for(var F=0;F<p.attributes.length;F++){g=0,_=0;for(var z=0;z<l.length;z++)g+=h[z][M]*p.attributes[F](l[z]),_+=h[z][M];o[M][F]=g/_}},Ap=function(o,l,f,h,p){for(var g=0;g<o.length;g++)l[g]=o[g].slice();for(var _,E,x,M=2/(p.m-1),F=0;F<f.length;F++)for(var z=0;z<h.length;z++){_=0;for(var W=0;W<f.length;W++)E=ld(p.distance,h[z],f[F],p.attributes,"cmeans"),x=ld(p.distance,h[z],f[W],p.attributes,"cmeans"),_+=Math.pow(E/x,M);o[z][F]=1/_}},Cf=function(o){var p,g,_,E,x,l=this.cy(),f=this.nodes(),h=sd(o);E=new Array(f.length);for(var M=0;M<f.length;M++)E[M]=new Array(h.k);_=new Array(f.length);for(var F=0;F<f.length;F++)_[F]=new Array(h.k);for(var z=0;z<f.length;z++){for(var W=0,j=0;j<h.k;j++)_[z][j]=Math.random(),W+=_[z][j];for(var q=0;q<h.k;q++)_[z][q]=_[z][q]/W}g=new Array(h.k);for(var J=0;J<h.k;J++)g[J]=new Array(h.attributes.length);x=new Array(f.length);for(var re=0;re<f.length;re++)x[re]=new Array(h.k);for(var fe=!0,he=0;fe&&he<h.maxIterations;)fe=!1,_f(g,f,_,x,h),Ap(_,E,g,f,h),wf(_,E,h.sensitivityThreshold)||(fe=!0),he++;return p=function(o,l,f,h){for(var p=new Array(f.k),g=0;g<p.length;g++)p[g]=[];for(var _,E,x=0;x<l.length;x++){_=-1/0,E=-1;for(var M=0;M<l[0].length;M++)l[x][M]>_&&(_=l[x][M],E=M);p[E].push(o[x])}for(var F=0;F<p.length;F++)p[F]=h.collection(p[F]);return p}(f,_,h,l),{clusters:p,degreeOfMembership:_}},Er={kMeans:function(o){var E,l=this.cy(),f=this.nodes(),h=null,p=sd(o),g=new Array(p.k),_={};E=p.testMode?"number"==typeof p.testCentroids?Xl(f,p.k,p.attributes):"object"===H(p.testCentroids)?p.testCentroids:Xl(f,p.k,p.attributes):Xl(f,p.k,p.attributes);for(var x=!0,M=0;x&&M<p.maxIterations;){for(var F=0;F<f.length;F++)_[(h=f[F]).id()]=gh(h,E,p.distance,p.attributes,"kMeans");x=!1;for(var z=0;z<p.k;z++){var W=mh(z,f,_);if(0!==W.length){for(var j=p.attributes.length,q=E[z],J=new Array(j),re=new Array(j),fe=0;fe<j;fe++){re[fe]=0;for(var he=0;he<W.length;he++)re[fe]+=p.attributes[fe](h=W[he]);J[fe]=re[fe]/W.length,Ka(J[fe],q[fe],p.sensitivityThreshold)||(x=!0)}E[z]=J,g[z]=l.collection(W)}}M++}return g},kMedoids:function(o){var _,x,l=this.cy(),f=this.nodes(),h=null,p=sd(o),g=new Array(p.k),E={},M=new Array(p.k);p.testMode?"number"==typeof p.testCentroids||(_="object"===H(p.testCentroids)?p.testCentroids:ud(f,p.k)):_=ud(f,p.k);for(var F=!0,z=0;F&&z<p.maxIterations;){for(var W=0;W<f.length;W++)E[(h=f[W]).id()]=gh(h,_,p.distance,p.attributes,"kMedoids");F=!1;for(var j=0;j<_.length;j++){var q=mh(j,f,E);if(0!==q.length){M[j]=ds(_[j],q,p.attributes);for(var J=0;J<q.length;J++)(x=ds(q[J],q,p.attributes))<M[j]&&(M[j]=x,_[j]=q[J],F=!0);g[j]=l.collection(q)}}z++}return g},fuzzyCMeans:Cf,fcm:Cf},cm=li({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),dm={single:"min",complete:"max"},Jr=function(o,l,f,h,p){for(var E,g=0,_=1/0,x=p.attributes,M=function(we,ke){return Yl(p.distance,x.length,function(Pe){return x[Pe](we)},function(Pe){return x[Pe](ke)},we,ke)},F=0;F<o.length;F++){var z=o[F].key,W=f[z][h[z]];W<_&&(g=z,_=W)}if("threshold"===p.mode&&_>=p.threshold||"dendrogram"===p.mode&&1===o.length)return!1;var J,j=l[g],q=l[h[g]];J="dendrogram"===p.mode?{left:j,right:q,key:j.key}:{value:j.value.concat(q.value),key:j.key},o[j.index]=J,o.splice(q.index,1),l[j.key]=J;for(var re=0;re<o.length;re++){var fe=o[re];j.key===fe.key?E=1/0:"min"===p.linkage?(E=f[j.key][fe.key],f[j.key][fe.key]>f[q.key][fe.key]&&(E=f[q.key][fe.key])):"max"===p.linkage?(E=f[j.key][fe.key],f[j.key][fe.key]<f[q.key][fe.key]&&(E=f[q.key][fe.key])):E="mean"===p.linkage?(f[j.key][fe.key]*j.size+f[q.key][fe.key]*q.size)/(j.size+q.size):"dendrogram"===p.mode?M(fe.value,j.value):M(fe.value[0],j.value[0]),f[j.key][fe.key]=f[fe.key][j.key]=E}for(var he=0;he<o.length;he++){var ve=o[he].key;if(h[ve]===j.key||h[ve]===q.key){for(var Ie=ve,Ae=0;Ae<o.length;Ae++){var ye=o[Ae].key;f[ve][ye]<f[ve][Ie]&&(Ie=ye)}h[ve]=Ie}o[he].index=he}return j.key=q.key=j.index=q.index=null,!0},vl=function u(o,l,f){o&&(o.value?l.push(o.value):(o.left&&u(o.left,l),o.right&&u(o.right,l)))},xf=function u(o,l){if(!o)return"";if(o.left&&o.right){var f=u(o.left,l),h=u(o.right,l),p=l.add({group:"nodes",data:{id:f+","+h}});return l.add({group:"edges",data:{source:f,target:p.id()}}),l.add({group:"edges",data:{source:h,target:p.id()}}),p.id()}return o.value?o.value.id():void 0},ln=function u(o,l,f){if(!o)return[];var h=[],p=[],g=[];return 0===l?(o.left&&vl(o.left,h),o.right&&vl(o.right,p),g=h.concat(p),[f.collection(g)]):1===l?o.value?[f.collection(o.value)]:(o.left&&vl(o.left,h),o.right&&vl(o.right,p),[f.collection(h),f.collection(p)]):o.value?[f.collection(o.value)]:(o.left&&(h=u(o.left,l-1,f)),o.right&&(p=u(o.right,l-1,f)),h.concat(p))},aa=function(o){for(var l=this.cy(),f=this.nodes(),h=function(o){var l=cm(o),f=dm[l.linkage];return null!=f&&(l.linkage=f),l}(o),p=h.attributes,g=function(he,ve){return Yl(h.distance,p.length,function(Ie){return p[Ie](he)},function(Ie){return p[Ie](ve)},he,ve)},_=[],E=[],x=[],M=[],F=0;F<f.length;F++){var z={value:"dendrogram"===h.mode?f[F]:[f[F]],key:F,index:F};_[F]=z,M[F]=z,E[F]=[],x[F]=0}for(var W=0;W<_.length;W++)for(var j=0;j<=W;j++){var q;q="dendrogram"===h.mode?W===j?1/0:g(_[W].value,_[j].value):W===j?1/0:g(_[W].value[0],_[j].value[0]),E[W][j]=q,E[j][W]=q,q<E[W][x[W]]&&(x[W]=j)}for(var J=Jr(_,M,E,x,h);J;)J=Jr(_,M,E,x,h);var re;return"dendrogram"===h.mode?(re=ln(_[0],h.dendrogramDepth,l),h.addDendrogram&&xf(_[0],l)):(re=new Array(_.length),_.forEach(function(fe,he){fe.key=fe.index=null,re[he]=l.collection(fe.value)})),re},Br={hierarchicalClustering:aa,hca:aa},Ui=li({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),ao=function(o,l,f,h){var p=function(_,E){return h[E](_)};return-Yl(o,h.length,function(g){return p(l,g)},function(g){return p(f,g)},l,f)},pc=function(o,l,f){for(var h=[],p=0;p<o;p++){for(var g=-1,_=-1/0,E=0;E<f.length;E++){var x=f[E];l[p*o+x]>_&&(g=x,_=l[p*o+x])}g>0&&h.push(g)}for(var M=0;M<f.length;M++)h[f[M]]=f[M];return h},bh=function(o){for(var l=this.cy(),f=this.nodes(),h=function(o){var l=o.damping,f=o.preference;.5<=l&&l<1||ri("Damping must range on [0.5, 1).  Got: ".concat(l));var h=["median","mean","min","max"];return h.some(function(p){return p===f})||Ze(f)||ri("Preference must be one of [".concat(h.map(function(p){return"'".concat(p,"'")}).join(", "),"] or a number.  Got: ").concat(f)),Ui(o)}(o),p={},g=0;g<f.length;g++)p[f[g].id()]=g;var _,E,x,M,F,z,we;E=(_=f.length)*_,x=new Array(E);for(var W=0;W<E;W++)x[W]=-1/0;for(var j=0;j<_;j++)for(var q=0;q<_;q++)j!==q&&(x[j*_+q]=ao(h.distance,f[j],f[q],h.attributes));M=function(o,l){var f;return f="median"===l?function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(f<o.length&&o.splice(f,o.length-f),l>0&&o.splice(0,l)):o=o.slice(l,f);for(var _=0,E=o.length-1;E>=0;E--)g?isFinite(o[E])||(o[E]=-1/0,_++):o.splice(E,1);p&&o.sort(function(z,W){return z-W});var M=o.length,F=Math.floor(M/2);return M%2!=0?o[F+1+_]:(o[F-1+_]+o[F+_])/2}(o):"mean"===l?function(o){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=0,p=0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g<f;g++){var _=o[g];isFinite(_)&&(h+=_,p++)}return h/p}(o):"min"===l?function(o){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<f;p++){var g=o[p];isFinite(g)&&(h=Math.min(g,h))}return h}(o):"max"===l?function(o){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=-1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<f;p++){var g=o[p];isFinite(g)&&(h=Math.max(g,h))}return h}(o):l,f}(x,h.preference);for(var J=0;J<_;J++)x[J*_+J]=M;F=new Array(E);for(var re=0;re<E;re++)F[re]=0;z=new Array(E);for(var fe=0;fe<E;fe++)z[fe]=0;for(var he=new Array(_),ve=new Array(_),Ie=new Array(_),Ae=0;Ae<_;Ae++)he[Ae]=0,ve[Ae]=0,Ie[Ae]=0;for(var ye=new Array(_*h.minIterations),Me=0;Me<ye.length;Me++)ye[Me]=0;for(we=0;we<h.maxIterations;we++){for(var ke=0;ke<_;ke++){for(var Pe=-1/0,xe=-1/0,He=-1,Ne=0,qe=0;qe<_;qe++)he[qe]=F[ke*_+qe],(Ne=z[ke*_+qe]+x[ke*_+qe])>=Pe?(xe=Pe,Pe=Ne,He=qe):Ne>xe&&(xe=Ne);for(var Ue=0;Ue<_;Ue++)F[ke*_+Ue]=(1-h.damping)*(x[ke*_+Ue]-Pe)+h.damping*he[Ue];F[ke*_+He]=(1-h.damping)*(x[ke*_+He]-xe)+h.damping*he[He]}for(var Ge=0;Ge<_;Ge++){for(var ot=0,ct=0;ct<_;ct++)he[ct]=z[ct*_+Ge],ve[ct]=Math.max(0,F[ct*_+Ge]),ot+=ve[ct];ot-=ve[Ge],ve[Ge]=F[Ge*_+Ge],ot+=ve[Ge];for(var yt=0;yt<_;yt++)z[yt*_+Ge]=(1-h.damping)*Math.min(0,ot-ve[yt])+h.damping*he[yt];z[Ge*_+Ge]=(1-h.damping)*(ot-ve[Ge])+h.damping*he[Ge]}for(var st=0,vt=0;vt<_;vt++){var At=z[vt*_+vt]+F[vt*_+vt]>0?1:0;ye[we%h.minIterations*_+vt]=At,st+=At}if(st>0&&(we>=h.minIterations-1||we==h.maxIterations-1)){for(var Ot=0,Dt=0;Dt<_;Dt++){Ie[Dt]=0;for(var _t=0;_t<h.minIterations;_t++)Ie[Dt]+=ye[_t*_+Dt];(0===Ie[Dt]||Ie[Dt]===h.minIterations)&&Ot++}if(Ot===_)break}}for(var tt=function(o,l,f){for(var h=[],p=0;p<o;p++)l[p*o+p]+f[p*o+p]>0&&h.push(p);return h}(_,F,z),Mt=function(o,l,f){for(var h=pc(o,l,f),p=0;p<f.length;p++){for(var g=[],_=0;_<h.length;_++)h[_]===f[p]&&g.push(_);for(var E=-1,x=-1/0,M=0;M<g.length;M++){for(var F=0,z=0;z<g.length;z++)F+=l[g[z]*o+g[M]];F>x&&(E=M,x=F)}f[p]=g[E]}return pc(o,l,f)}(_,x,tt),Nt={},$t=0;$t<tt.length;$t++)Nt[tt[$t]]=[];for(var rn=0;rn<f.length;rn++){var ar=Mt[p[f[rn].id()]];null!=ar&&Nt[ar].push(f[rn])}for(var sn=new Array(tt.length),en=0;en<tt.length;en++)sn[en]=l.collection(Nt[tt[en]]);return sn},cd={affinityPropagation:bh,ap:bh},lo=li({root:void 0,directed:!1}),fn={hierholzer:function(o){if(!Ke(o)){var l=arguments;o={root:l[0],directed:l[1]}}var E,x,M,f=lo(o),h=f.root,p=f.directed,g=this,_=!1;h&&(M=Be(h)?this.filter(h)[0].id():h[0].id());var F={},z={};g.forEach(p?function(fe){var he=fe.id();if(fe.isNode()){var ve=fe.indegree(!0),Ie=fe.outdegree(!0),Ae=ve-Ie,ye=Ie-ve;1==Ae?E?_=!0:E=he:1==ye?x?_=!0:x=he:(ye>1||Ae>1)&&(_=!0),F[he]=[],fe.outgoers().forEach(function(Me){Me.isEdge()&&F[he].push(Me.id())})}else z[he]=[void 0,fe.target().id()]}:function(fe){var he=fe.id();fe.isNode()?(fe.degree(!0)%2&&(E?x?_=!0:x=he:E=he),F[he]=[],fe.connectedEdges().forEach(function(Ie){return F[he].push(Ie.id())})):z[he]=[fe.source().id(),fe.target().id()]});var W={found:!1,trail:void 0};if(_)return W;if(x&&E)if(p){if(M&&x!=M)return W;M=x}else{if(M&&x!=M&&E!=M)return W;M||(M=x)}else M||(M=g[0].id());var j=function(he){for(var Ae,ye,Me,ve=he,Ie=[he];F[ve].length;)Ae=F[ve].shift(),ye=z[Ae][0],ve!=(Me=z[Ae][1])?(F[Me]=F[Me].filter(function(we){return we!=Ae}),ve=Me):!p&&ve!=ye&&(F[ye]=F[ye].filter(function(we){return we!=Ae}),ve=ye),Ie.unshift(Ae),Ie.unshift(ve);return Ie},q=[],J=[];for(J=j(M);1!=J.length;)0==F[J[0]].length?(q.unshift(g.getElementById(J.shift())),q.unshift(g.getElementById(J.shift()))):J=j(J.shift()).concat(J);for(var re in q.unshift(g.getElementById(J.shift())),F)if(F[re].length)return W;return W.found=!0,W.trail=this.spawn(q,!0),W}},Wn=function(){var o=this,l={},f=0,h=0,p=[],g=[],_={},x=function F(z,W,j){z===j&&(h+=1),l[W]={id:f,low:f++,cutVertex:!1};var J,re,fe,he,q=o.getElementById(W).connectedEdges().intersection(o);0===q.size()?p.push(o.spawn(o.getElementById(W))):q.forEach(function(ve){J=ve.source().id(),re=ve.target().id(),(fe=J===W?re:J)!==j&&(he=ve.id(),_[he]||(_[he]=!0,g.push({x:W,y:fe,edge:ve})),fe in l?l[W].low=Math.min(l[W].low,l[fe].id):(F(z,fe,W),l[W].low=Math.min(l[W].low,l[fe].low),l[W].id<=l[fe].low&&(l[W].cutVertex=!0,function(z,W){for(var j=g.length-1,q=[],J=o.spawn();g[j].x!=z||g[j].y!=W;)q.push(g.pop().edge),j--;q.push(g.pop().edge),q.forEach(function(re){var fe=re.connectedNodes().intersection(o);J.merge(re),fe.forEach(function(he){var ve=he.id(),Ie=he.connectedEdges().intersection(o);J.merge(he),J.merge(l[ve].cutVertex?Ie.filter(function(Ae){return Ae.isLoop()}):Ie)})}),p.push(J)}(W,fe))))})};o.forEach(function(F){if(F.isNode()){var z=F.id();z in l||(h=0,x(z,z),l[z].cutVertex=h>1)}});var M=Object.keys(l).filter(function(F){return l[F].cutVertex}).map(function(F){return o.getElementById(F)});return{cut:o.spawn(M),components:p}},sa=function(){var o=this,l={},f=0,h=[],p=[],g=o.spawn(o),_=function E(x){if(p.push(x),l[x]={index:f,low:f++,explored:!1},o.getElementById(x).connectedEdges().intersection(o).forEach(function(q){var J=q.target().id();J!==x&&(J in l||E(J),l[J].explored||(l[x].low=Math.min(l[x].low,l[J].low)))}),l[x].index===l[x].low){for(var F=o.spawn();;){var z=p.pop();if(F.merge(o.getElementById(z)),l[z].low=l[x].index,l[z].explored=!0,z===x)break}var W=F.edgesWith(F),j=F.merge(W);h.push(j),g=g.difference(j)}};return o.forEach(function(E){if(E.isNode()){var x=E.id();x in l||_(x)}}),{cut:g,components:h}},_o={};[Ve,Je,Qt,Vt,Un,Or,An,el,Pa,Pt,nn,yf,Er,Br,cd,fn,{hopcroftTarjanBiconnected:Wn,htbc:Wn,htb:Wn,hopcroftTarjanBiconnectedComponents:Wn},{tarjanStronglyConnected:sa,tsc:sa,tscc:sa,tarjanStronglyConnectedComponents:sa}].forEach(function(u){Nn(_o,u)});var la=function u(o){if(!(this instanceof u))return new u(o);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof o&&o.call(this,this.fulfill.bind(this),this.reject.bind(this))};la.prototype={fulfill:function(o){return Zn(this,1,"fulfillValue",o)},reject:function(o){return Zn(this,2,"rejectReason",o)},then:function(o,l){var f=this,h=new la;return f.onFulfilled.push(Eu(o,h,"fulfill")),f.onRejected.push(Eu(l,h,"reject")),mc(f),h.proxy}};var Zn=function(o,l,f,h){return 0===o.state&&(o.state=l,o[f]=h,mc(o)),o},mc=function(o){1===o.state?wh(o,"onFulfilled",o.fulfillValue):2===o.state&&wh(o,"onRejected",o.rejectReason)},wh=function(o,l,f){if(0!==o[l].length){var h=o[l];o[l]=[];var p=function(){for(var _=0;_<h.length;_++)h[_](f)};"function"==typeof setImmediate?setImmediate(p):setTimeout(p,0)}},Eu=function(o,l,f){return function(h){if("function"!=typeof o)l[f].call(l,h);else{var p;try{p=o(h)}catch(g){return void l.reject(g)}Gi(l,p)}}},Gi=function u(o,l){if(o!==l&&o.proxy!==l){var f;if("object"===H(l)&&null!==l||"function"==typeof l)try{f=l.then}catch(p){return void o.reject(p)}if("function"!=typeof f)o.fulfill(l);else{var h=!1;try{f.call(l,function(p){h||(h=!0,p===l?o.reject(new TypeError("circular thenable chain")):u(o,p))},function(p){h||(h=!0,o.reject(p))})}catch(p){h||o.reject(p)}}}else o.reject(new TypeError("cannot resolve promise with itself"))};la.all=function(u){return new la(function(o,l){for(var f=new Array(u.length),h=0,p=function(E,x){f[E]=x,++h===u.length&&o(f)},g=0;g<u.length;g++)!function(_){var E=u[_];null!=E&&null!=E.then?E.then(function(F){p(_,F)},function(F){l(F)}):p(_,E)}(g)})},la.resolve=function(u){return new la(function(o,l){o(u)})},la.reject=function(u){return new la(function(o,l){l(u)})};var fs=typeof Promise<"u"?Promise:la,Za=function(o,l,f){var h=lt(o),p=!h,g=this._private=Nn({duration:1e3},l,f);if(g.target=o,g.style=g.style||g.css,g.started=!1,g.playing=!1,g.hooked=!1,g.applying=!1,g.progress=0,g.completes=[],g.frames=[],g.complete&&at(g.complete)&&g.completes.push(g.complete),p){var _=o.position();g.startPosition=g.startPosition||{x:_.x,y:_.y},g.startStyle=g.startStyle||o.cy().style().getAnimationStartStyle(o,g.style)}if(h){var E=o.pan();g.startPan={x:E.x,y:E.y},g.startZoom=o.zoom()}this.length=1,this[0]=this},uo=Za.prototype;Nn(uo,{instanceString:function(){return"animation"},hook:function(){var o=this._private;if(!o.hooked){var f=o.target._private.animation;(o.queue?f.queue:f.current).push(this),It(o.target)&&o.target.cy().addToAnimationPool(o.target),o.hooked=!0}return this},play:function(){var o=this._private;return 1===o.progress&&(o.progress=0),o.playing=!0,o.started=!1,o.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var o=this._private;return o.applying=!0,o.started=!1,o.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var o=this._private;return o.playing=!1,o.started=!1,this},stop:function(){var o=this._private;return o.playing=!1,o.started=!1,o.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(o){var l=this._private;return void 0===o?l.progress*l.duration:this.progress(o/l.duration)},progress:function(o){var l=this._private,f=l.playing;return void 0===o?l.progress:(f&&this.pause(),l.progress=o,l.started=!1,f&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var o=this._private,l=o.playing;l&&this.pause(),o.progress=1-o.progress,o.started=!1;var f=function(x,M){var F=o[x];null!=F&&(o[x]=o[M],o[M]=F)};if(f("zoom","startZoom"),f("pan","startPan"),f("position","startPosition"),o.style)for(var h=0;h<o.style.length;h++){var p=o.style[h],g=p.name,_=o.startStyle[g];o.startStyle[g]=p,o.style[h]=_}return l&&this.play(),this},promise:function(o){var f,l=this._private;return f="frame"===o?l.frames:l.completes,new fs(function(h,p){f.push(function(){h()})})}}),uo.complete=uo.completed,uo.run=uo.play,uo.running=uo.playing;var fd={data:function(o){return o=Nn({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(h){},beforeSet:function(h,p){},onSet:function(h){},canSet:function(h){return!0}},o),function(h,p){var g=o,_=this,E=void 0!==_.length,x=E?_:[_],M=E?_[0]:_;if(Be(h)){var W,z=-1!==h.indexOf(".")&&k.default(h);if(g.allowGetting&&void 0===p)return M&&(g.beforeGet(M),W=z&&void 0===M._private[g.field][h]?V.default(M._private[g.field],z):M._private[g.field][h]),W;if(g.allowSetting&&void 0!==p&&!g.immutableKeys[h]){var q=ne({},h,p);g.beforeSet(_,q);for(var J=0,re=x.length;J<re;J++){var fe=x[J];g.canSet(fe)&&(z&&void 0===M._private[g.field][h]?L.default(fe._private[g.field],z,p):fe._private[g.field][h]=p)}g.updateStyle&&_.updateStyle(),g.onSet(_),g.settingTriggersEvent&&_[g.triggerFnName](g.settingEvent)}}else if(g.allowSetting&&Ke(h)){var ve,Ie,he=h,Ae=Object.keys(he);g.beforeSet(_,he);for(var ye=0;ye<Ae.length;ye++)if(Ie=he[ve=Ae[ye]],!g.immutableKeys[ve])for(var we=0;we<x.length;we++){var ke=x[we];g.canSet(ke)&&(ke._private[g.field][ve]=Ie)}g.updateStyle&&_.updateStyle(),g.onSet(_),g.settingTriggersEvent&&_[g.triggerFnName](g.settingEvent)}else if(g.allowBinding&&at(h))_.on(g.bindingEvent,h);else if(g.allowGetting&&void 0===h){var xe;return M&&(g.beforeGet(M),xe=M._private[g.field]),xe}return _}},removeData:function(o){return o=Nn({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},o),function(h){var p=o,g=this,E=void 0!==g.length?g:[g];if(Be(h)){for(var x=h.split(/\s+/),M=x.length,F=0;F<M;F++){var z=x[F];if(!Ft(z)&&!p.immutableKeys[z])for(var j=0,q=E.length;j<q;j++)E[j]._private[p.field][z]=void 0}p.triggerEvent&&g[p.triggerFnName](p.event)}else if(void 0===h){for(var J=0,re=E.length;J<re;J++)for(var fe=E[J]._private[p.field],he=Object.keys(fe),ve=0;ve<he.length;ve++){var Ie=he[ve];!p.immutableKeys[Ie]&&(fe[Ie]=void 0)}p.triggerEvent&&g[p.triggerFnName](p.event)}return g}}},wl={eventAliasesOn:function(o){var l=o;l.addListener=l.listen=l.bind=l.on,l.unlisten=l.unbind=l.off=l.removeListener,l.trigger=l.emit,l.pon=l.promiseOn=function(f,h){var p=this,g=Array.prototype.slice.call(arguments,0);return new fs(function(_,E){var M=g.concat([function(W){p.off.apply(p,F),_(W)}]),F=M.concat([]);p.on.apply(p,M)})}}},ur={};[{animated:function(){return function(){var l=this,h=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return!1;var g=h[0];return g?g._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var l=this,h=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return this;for(var g=0;g<h.length;g++)h[g]._private.animation.queue=[];return this}},delay:function(){return function(l,f){return(this._private.cy||this).styleEnabled()?this.animate({delay:l,duration:l,complete:f}):this}},delayAnimation:function(){return function(l,f){return(this._private.cy||this).styleEnabled()?this.animation({delay:l,duration:l,complete:f}):this}},animation:function(){return function(l,f){var h=this,p=void 0!==h.length,g=p?h:[h],_=this._private.cy||this,E=!p,x=!E;if(!_.styleEnabled())return this;var M=_.style();if(l=Nn({},l,f),0===Object.keys(l).length)return new Za(g[0],l);switch(void 0===l.duration&&(l.duration=400),l.duration){case"slow":l.duration=600;break;case"fast":l.duration=200}if(x&&(l.style=M.getPropsList(l.style||l.css),l.css=void 0),x&&null!=l.renderedPosition){var z=l.renderedPosition,W=_.pan(),j=_.zoom();l.position=mi(z,j,W)}if(E&&null!=l.panBy){var q=l.panBy,J=_.pan();l.pan={x:J.x+q.x,y:J.y+q.y}}var re=l.center||l.centre;if(E&&null!=re){var fe=_.getCenterPan(re.eles,l.zoom);null!=fe&&(l.pan=fe)}if(E&&null!=l.fit){var he=l.fit,ve=_.getFitViewport(he.eles||he.boundingBox,he.padding);null!=ve&&(l.pan=ve.pan,l.zoom=ve.zoom)}if(E&&Ke(l.zoom)){var Ie=_.getZoomedViewport(l.zoom);null!=Ie?(Ie.zoomed&&(l.zoom=Ie.zoom),Ie.panned&&(l.pan=Ie.pan)):l.zoom=null}return new Za(g[0],l)}},animate:function(){return function(l,f){var h=this,g=void 0!==h.length?h:[h];if(!(this._private.cy||this).styleEnabled())return this;f&&(l=Nn({},l,f));for(var E=0;E<g.length;E++){var x=g[E],M=x.animated()&&(void 0===l.queue||l.queue);x.animation(l,M?{queue:!0}:void 0).play()}return this}},stop:function(){return function(l,f){var h=this,g=void 0!==h.length?h:[h],_=this._private.cy||this;if(!_.styleEnabled())return this;for(var E=0;E<g.length;E++){for(var M=g[E]._private,F=M.animation.current,z=0;z<F.length;z++)f&&(F[z]._private.duration=0);l&&(M.animation.queue=[]),f||(M.animation.current=[])}return _.notify("draw"),this}}},fd,wl].forEach(function(u){Nn(ur,u)});var hd={animate:ur.animate(),animation:ur.animation(),animated:ur.animated(),clearQueue:ur.clearQueue(),delay:ur.delay(),delayAnimation:ur.delayAnimation(),stop:ur.stop()},qa={classes:function(o){var l=this;if(void 0===o){var f=[];return l[0]._private.classes.forEach(function(j){return f.push(j)}),f}ht(o)||(o=(o||"").match(/\S+/g)||[]);for(var h=[],p=new As(o),g=0;g<l.length;g++){for(var _=l[g],E=_._private,x=E.classes,M=!1,F=0;F<o.length;F++)if(!x.has(o[F])){M=!0;break}M||(M=x.size!==o.length),M&&(E.classes=p,h.push(_))}return h.length>0&&this.spawn(h).updateStyle().emit("class"),l},addClass:function(o){return this.toggleClass(o,!0)},hasClass:function(o){var l=this[0];return null!=l&&l._private.classes.has(o)},toggleClass:function(o,l){ht(o)||(o=o.match(/\S+/g)||[]);for(var f=this,h=void 0===l,p=[],g=0,_=f.length;g<_;g++)for(var E=f[g],x=E._private.classes,M=!1,F=0;F<o.length;F++){var z=o[F],W=x.has(z),j=!1;l||h&&!W?(x.add(z),j=!0):(!l||h&&W)&&(x.delete(z),j=!0),!M&&j&&(p.push(E),M=!0)}return p.length>0&&this.spawn(p).updateStyle().emit("class"),f},removeClass:function(o){return this.toggleClass(o,!1)},flashClass:function(o,l){var f=this;if(null==l)l=250;else if(0===l)return f;return f.addClass(o),setTimeout(function(){f.removeClass(o)},l),f}};qa.className=qa.classNames=qa.classes;var hn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:dn,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};hn.variable="(?:[\\w-.]|(?:\\\\"+hn.metaChar+"))+",hn.className="(?:[\\w-]|(?:\\\\"+hn.metaChar+"))+",hn.value=hn.string+"|"+hn.number,hn.id=hn.variable,function(){var u,o,l;for(u=hn.comparatorOp.split("|"),l=0;l<u.length;l++)hn.comparatorOp+="|@"+(o=u[l]);for(u=hn.comparatorOp.split("|"),l=0;l<u.length;l++)!((o=u[l]).indexOf("!")>=0)&&"="!==o&&(hn.comparatorOp+="|\\!"+o)}();var _l=[{selector:":selected",matches:function(o){return o.selected()}},{selector:":unselected",matches:function(o){return!o.selected()}},{selector:":selectable",matches:function(o){return o.selectable()}},{selector:":unselectable",matches:function(o){return!o.selectable()}},{selector:":locked",matches:function(o){return o.locked()}},{selector:":unlocked",matches:function(o){return!o.locked()}},{selector:":visible",matches:function(o){return o.visible()}},{selector:":hidden",matches:function(o){return!o.visible()}},{selector:":transparent",matches:function(o){return o.transparent()}},{selector:":grabbed",matches:function(o){return o.grabbed()}},{selector:":free",matches:function(o){return!o.grabbed()}},{selector:":removed",matches:function(o){return o.removed()}},{selector:":inside",matches:function(o){return!o.removed()}},{selector:":grabbable",matches:function(o){return o.grabbable()}},{selector:":ungrabbable",matches:function(o){return!o.grabbable()}},{selector:":animated",matches:function(o){return o.animated()}},{selector:":unanimated",matches:function(o){return!o.animated()}},{selector:":parent",matches:function(o){return o.isParent()}},{selector:":childless",matches:function(o){return o.isChildless()}},{selector:":child",matches:function(o){return o.isChild()}},{selector:":orphan",matches:function(o){return o.isOrphan()}},{selector:":nonorphan",matches:function(o){return o.isChild()}},{selector:":compound",matches:function(o){return o.isNode()?o.isParent():o.source().isParent()||o.target().isParent()}},{selector:":loop",matches:function(o){return o.isLoop()}},{selector:":simple",matches:function(o){return o.isSimple()}},{selector:":active",matches:function(o){return o.active()}},{selector:":inactive",matches:function(o){return!o.active()}},{selector:":backgrounding",matches:function(o){return o.backgrounding()}},{selector:":nonbackgrounding",matches:function(o){return!o.backgrounding()}}].sort(function(u,o){return function(o,l){return-1*ja(o,l)}(u.selector,o.selector)}),Ps=function(){for(var o,u={},l=0;l<_l.length;l++)u[(o=_l[l]).selector]=o.matches;return u}(),Du="("+_l.map(function(u){return u.selector}).join("|")+")",nl=function(o){return o.replace(new RegExp("\\\\("+hn.metaChar+")","g"),function(l,f){return f})},oi=function(o,l,f){o[o.length-1]=f},Kl=[{name:"group",query:!0,regex:"("+hn.group+")",populate:function(o,l,f){var p=le(f,1)[0];l.checks.push({type:0,value:"*"===p?p:p+"s"})}},{name:"state",query:!0,regex:Du,populate:function(o,l,f){var h=le(f,1);l.checks.push({type:7,value:h[0]})}},{name:"id",query:!0,regex:"\\#("+hn.id+")",populate:function(o,l,f){var h=le(f,1);l.checks.push({type:8,value:nl(h[0])})}},{name:"className",query:!0,regex:"\\.("+hn.className+")",populate:function(o,l,f){var h=le(f,1);l.checks.push({type:9,value:nl(h[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+hn.variable+")\\s*\\]",populate:function(o,l,f){var h=le(f,1);l.checks.push({type:4,field:nl(h[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+hn.variable+")\\s*("+hn.comparatorOp+")\\s*("+hn.value+")\\s*\\]",populate:function(o,l,f){var h=le(f,3),p=h[0],g=h[1],_=h[2];_=null!=new RegExp("^"+hn.string+"$").exec(_)?_.substring(1,_.length-1):parseFloat(_),l.checks.push({type:3,field:nl(p),operator:g,value:_})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+hn.boolOp+")\\s*("+hn.variable+")\\s*\\]",populate:function(o,l,f){var h=le(f,2),p=h[0];l.checks.push({type:5,field:nl(h[1]),operator:p})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+hn.meta+")\\s*("+hn.comparatorOp+")\\s*("+hn.number+")\\s*\\]\\]",populate:function(o,l,f){var h=le(f,3),g=h[1],_=h[2];l.checks.push({type:6,field:nl(h[0]),operator:g,value:parseFloat(_)})}},{name:"nextQuery",separator:!0,regex:hn.separator,populate:function(o,l){var f=o.currentSubject,h=o.edgeCount,p=o.compoundCount,g=o[o.length-1];return null!=f&&(g.subject=f,o.currentSubject=null),g.edgeCount=h,g.compoundCount=p,o.edgeCount=0,o.compoundCount=0,o[o.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:hn.directedEdge,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},p={checks:[]};return f.checks.push({type:11,source:l,target:p}),oi(o,0,f),o.edgeCount++,p}var g={checks:[]},E={checks:[]};return g.checks.push({type:12,source:l,target:E}),oi(o,0,g),o.edgeCount++,E}},{name:"undirectedEdge",separator:!0,regex:hn.undirectedEdge,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},p={checks:[]};return f.checks.push({type:10,nodes:[l,p]}),oi(o,0,f),o.edgeCount++,p}var g={checks:[]},E={checks:[]};return g.checks.push({type:14,node:l,neighbor:E}),oi(o,0,g),E}},{name:"child",separator:!0,regex:hn.child,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},h={checks:[]};return f.checks.push({type:15,parent:o[o.length-1],child:h}),oi(o,0,f),o.compoundCount++,h}if(o.currentSubject===l){var g={checks:[]},E={checks:[]},x={checks:[]},M={checks:[]},F={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:E,subject:x}),x.checks=l.checks,l.checks=[{type:20}],F.checks.push({type:20}),E.checks.push({type:17,parent:F,child:M}),oi(o,0,g),o.currentSubject=x,o.compoundCount++,M}var z={checks:[]},W={checks:[]},j=[{type:17,parent:z,child:W}];return z.checks=l.checks,l.checks=j,o.compoundCount++,W}},{name:"descendant",separator:!0,regex:hn.descendant,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},h={checks:[]};return f.checks.push({type:16,ancestor:o[o.length-1],descendant:h}),oi(o,0,f),o.compoundCount++,h}if(o.currentSubject===l){var g={checks:[]},E={checks:[]},x={checks:[]},M={checks:[]},F={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:E,subject:x}),x.checks=l.checks,l.checks=[{type:20}],F.checks.push({type:20}),E.checks.push({type:18,ancestor:F,descendant:M}),oi(o,0,g),o.currentSubject=x,o.compoundCount++,M}var z={checks:[]},W={checks:[]},j=[{type:18,ancestor:z,descendant:W}];return z.checks=l.checks,l.checks=j,o.compoundCount++,W}},{name:"subject",modifier:!0,regex:hn.subject,populate:function(o,l){if(null!=o.currentSubject&&o.currentSubject!==l)return Mr("Redefinition of subject in selector `"+o.toString()+"`"),!1;o.currentSubject=l;var h=o[o.length-1].checks[0],p=null==h?null:h.type;11===p?h.type=13:10===p&&(h.type=14,h.node=h.nodes[1],h.neighbor=h.nodes[0],h.nodes=null)}}];Kl.forEach(function(u){return u.regexObj=new RegExp("^"+u.regex)});var Qa=function(o){for(var l,f,h,p=0;p<Kl.length;p++){var g=Kl[p],_=g.name,E=o.match(g.regexObj);if(null!=E){f=E,l=g,h=_,o=o.substring(E[0].length);break}}return{expr:l,match:f,name:h,remaining:o}},Df={parse:function(o){var l=this,f=l.inputText=o,h=l[0]={checks:[]};for(l.length=1,f=function(o){var l=o.match(/^\s+/);return l&&(o=o.substring(l[0].length)),o}(f);;){var p=Qa(f);if(null==p.expr)return Mr("The selector `"+o+"`is invalid"),!1;var g=p.match.slice(1),_=p.expr.populate(l,h,g);if(!1===_)return!1;if(null!=_&&(h=_),(f=p.remaining).match(/^\s*$/))break}var E=l[l.length-1];null!=l.currentSubject&&(E.subject=l.currentSubject),E.edgeCount=l.edgeCount,E.compoundCount=l.compoundCount;for(var x=0;x<l.length;x++){var M=l[x];if(M.compoundCount>0&&M.edgeCount>0)return Mr("The selector `"+o+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(M.edgeCount>1)return Mr("The selector `"+o+"` is invalid because it uses multiple edge selectors"),!1;1===M.edgeCount&&Mr("The selector `"+o+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var o=function(M){return M??""},l=function(M){return Be(M)?'"'+M+'"':o(M)},f=function(M){return" "+M+" "},p=function(M,F){return M.checks.reduce(function(z,W,j){return z+(F===M&&0===j?"$":"")+function(M,F){var W=M.value;switch(M.type){case 0:var j=o(W);return j.substring(0,j.length-1);case 3:return"["+M.field+f(o(M.operator))+l(W)+"]";case 5:var fe=M.field;return"["+o(M.operator)+fe+"]";case 4:return"["+M.field+"]";case 6:return"[["+M.field+f(o(M.operator))+l(W)+"]]";case 7:return W;case 8:return"#"+W;case 9:return"."+W;case 17:case 15:return p(M.parent,F)+f(">")+p(M.child,F);case 18:case 16:return p(M.ancestor,F)+" "+p(M.descendant,F);case 19:var Ae=p(M.left,F),ye=p(M.subject,F),Me=p(M.right,F);return Ae+(Ae.length>0?" ":"")+ye+Me;case 20:return""}}(W,F)},"")},g="",_=0;_<this.length;_++){var E=this[_];g+=p(E,E.subject),this.length>1&&_<this.length-1&&(g+=", ")}return this.toStringCache=g,g}},hs=function(o,l,f){var h,E,x,p=Be(o),g=Ze(o),_=Be(f),M=!1,F=!1,z=!1;switch(l.indexOf("!")>=0&&(l=l.replace("!",""),F=!0),l.indexOf("@")>=0&&(l=l.replace("@",""),M=!0),(p||_||M)&&(E=p||g?""+o:"",x=""+f),M&&(o=E=E.toLowerCase(),f=x=x.toLowerCase()),l){case"*=":h=E.indexOf(x)>=0;break;case"$=":h=E.indexOf(x,E.length-x.length)>=0;break;case"^=":h=0===E.indexOf(x);break;case"=":h=o===f;break;case">":z=!0,h=o>f;break;case">=":z=!0,h=o>=f;break;case"<":z=!0,h=o<f;break;case"<=":z=!0,h=o<=f;break;default:h=!1}return F&&(null!=o||!z)&&(h=!h),h},Po=function(o,l){return o.data(l)},bi=[],_i=function(o,l){return o.checks.every(function(f){return bi[f.type](f,l)})};bi[0]=function(u,o){var l=u.value;return"*"===l||l===o.group()},bi[7]=function(u,o){return function(o,l){return Ps[o](l)}(u.value,o)},bi[8]=function(u,o){var l=u.value;return o.id()===l},bi[9]=function(u,o){return o.hasClass(u.value)},bi[6]=function(u,o){var f=u.operator,h=u.value;return hs(function(o,l){return o[l]()}(o,u.field),f,h)},bi[3]=function(u,o){var f=u.operator,h=u.value;return hs(Po(o,u.field),f,h)},bi[5]=function(u,o){var f=u.operator;return function(o,l){switch(l){case"?":return!!o;case"!":return!o;case"^":return void 0===o}}(Po(o,u.field),f)},bi[4]=function(u,o){return function(o){return void 0!==o}(Po(o,u.field))},bi[10]=function(u,o){var l=u.nodes[0],f=u.nodes[1],h=o.source(),p=o.target();return _i(l,h)&&_i(f,p)||_i(f,h)&&_i(l,p)},bi[14]=function(u,o){return _i(u.node,o)&&o.neighborhood().some(function(l){return l.isNode()&&_i(u.neighbor,l)})},bi[11]=function(u,o){return _i(u.source,o.source())&&_i(u.target,o.target())},bi[12]=function(u,o){return _i(u.source,o)&&o.outgoers().some(function(l){return l.isNode()&&_i(u.target,l)})},bi[13]=function(u,o){return _i(u.target,o)&&o.incomers().some(function(l){return l.isNode()&&_i(u.source,l)})},bi[15]=function(u,o){return _i(u.child,o)&&_i(u.parent,o.parent())},bi[17]=function(u,o){return _i(u.parent,o)&&o.children().some(function(l){return _i(u.child,l)})},bi[16]=function(u,o){return _i(u.descendant,o)&&o.ancestors().some(function(l){return _i(u.ancestor,l)})},bi[18]=function(u,o){return _i(u.ancestor,o)&&o.descendants().some(function(l){return _i(u.descendant,l)})},bi[19]=function(u,o){return _i(u.subject,o)&&_i(u.left,o)&&_i(u.right,o)},bi[20]=function(){return!0},bi[1]=function(u,o){return u.value.has(o)},bi[2]=function(u,o){return(0,u.value)(o)};var my={matches:function(o){for(var f=0;f<this.length;f++)if(_i(this[f],o))return!0;return!1},filter:function(o){var l=this;if(1===l.length&&1===l[0].checks.length&&8===l[0].checks[0].type)return o.getElementById(l[0].checks[0].value).collection();var f=function(p){for(var g=0;g<l.length;g++)if(_i(l[g],p))return!0;return!1};return null==l.text()&&(f=function(){return!0}),o.filter(f)}},Tu=function(o){this.inputText=o,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==o||Be(o)&&o.match(/^\s*$/)||(It(o)?this.addQuery({checks:[{type:1,value:o.collection()}]}):at(o)?this.addQuery({checks:[{type:2,value:o}]}):Be(o)?this.parse(o)||(this.invalid=!0):ri("A selector must be created from a string; found "))},Cl=Tu.prototype;[Df,my].forEach(function(u){return Nn(Cl,u)}),Cl.text=function(){return this.inputText},Cl.size=function(){return this.length},Cl.eq=function(u){return this[u]},Cl.sameText=function(u){return!this.invalid&&!u.invalid&&this.text()===u.text()},Cl.addQuery=function(u){this[this.length++]=u},Cl.selector=Cl.toString;var Zl={allAre:function(o){var l=new Tu(o);return this.every(function(f){return l.matches(f)})},is:function(o){var l=new Tu(o);return this.some(function(f){return l.matches(f)})},some:function(o,l){for(var f=0;f<this.length;f++)if(l?o.apply(l,[this[f],f,this]):o(this[f],f,this))return!0;return!1},every:function(o,l){for(var f=0;f<this.length;f++)if(!(l?o.apply(l,[this[f],f,this]):o(this[f],f,this)))return!1;return!0},same:function(o){if(this===o)return!0;o=this.cy().collection(o);var l=this.length;return l===o.length&&(1===l?this[0]===o[0]:this.every(function(h){return o.hasElementWithId(h.id())}))},anySame:function(o){return o=this.cy().collection(o),this.some(function(l){return o.hasElementWithId(l.id())})},allAreNeighbors:function(o){o=this.cy().collection(o);var l=this.neighborhood();return o.every(function(f){return l.hasElementWithId(f.id())})},contains:function(o){o=this.cy().collection(o);var l=this;return o.every(function(f){return l.hasElementWithId(f.id())})}};Zl.allAreNeighbours=Zl.allAreNeighbors,Zl.has=Zl.contains,Zl.equal=Zl.equals=Zl.same;var ql,Tf,Ja=function(o,l){return function(h,p,g,_){var M,E=h,x=this;if(null==E?M="":It(E)&&1===E.length&&(M=E.id()),1===x.length&&M){var F=x[0]._private,z=F.traversalCache=F.traversalCache||{},W=z[l]=z[l]||[],j=ss(M);return W[j]||(W[j]=o.call(x,h,p,g,_))}return o.call(x,h,p,g,_)}},gd={parent:function(o){var l=[];if(1===this.length){var f=this[0]._private.parent;if(f)return f}for(var h=0;h<this.length;h++){var g=this[h]._private.parent;g&&l.push(g)}return this.spawn(l,!0).filter(o)},parents:function(o){for(var l=[],f=this.parent();f.nonempty();){for(var h=0;h<f.length;h++)l.push(f[h]);f=f.parent()}return this.spawn(l,!0).filter(o)},commonAncestors:function(o){for(var l,f=0;f<this.length;f++){var p=this[f].parents();l=(l=l||p).intersect(p)}return l.filter(o)},orphans:function(o){return this.stdFilter(function(l){return l.isOrphan()}).filter(o)},nonorphans:function(o){return this.stdFilter(function(l){return l.isChild()}).filter(o)},children:Ja(function(u){for(var o=[],l=0;l<this.length;l++)for(var h=this[l]._private.children,p=0;p<h.length;p++)o.push(h[p]);return this.spawn(o,!0).filter(u)},"children"),siblings:function(o){return this.parent().children().not(this).filter(o)},isParent:function(){var o=this[0];if(o)return o.isNode()&&0!==o._private.children.length},isChildless:function(){var o=this[0];if(o)return o.isNode()&&0===o._private.children.length},isChild:function(){var o=this[0];if(o)return o.isNode()&&null!=o._private.parent},isOrphan:function(){var o=this[0];if(o)return o.isNode()&&null==o._private.parent},descendants:function(o){var l=[];return function f(h){for(var p=0;p<h.length;p++){var g=h[p];l.push(g),g.children().nonempty()&&f(g.children())}}(this.children()),this.spawn(l,!0).filter(o)}};function Sf(u,o,l,f){for(var h=[],p=new As,_=u.cy().hasCompoundNodes(),E=0;E<u.length;E++){var x=u[E];l?h.push(x):_&&f(h,p,x)}for(;h.length>0;){var M=h.shift();o(M),p.add(M.id()),_&&f(h,p,M)}return u}function xh(u,o,l){if(l.isParent())for(var f=l._private.children,h=0;h<f.length;h++){var p=f[h];o.has(p.id())||u.push(p)}}function Np(u,o,l){if(l.isChild()){var f=l._private.parent;o.has(f.id())||u.push(f)}}function fm(u,o,l){Np(u,o,l),xh(u,o,l)}gd.forEachDown=function(u){return Sf(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],xh)},gd.forEachUp=function(u){return Sf(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Np)},gd.forEachUpAndDown=function(u){return Sf(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],fm)},gd.ancestors=gd.parents,ql=Tf={data:ur.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ur.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ur.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ur.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ur.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ur.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var o=this[0];if(o)return o._private.data.id}},ql.attr=ql.data,ql.removeAttr=ql.removeData;var Mf=Tf,Eh={};function md(u){return function(o){var l=this;if(void 0===o&&(o=!0),0===l.length);else if(l.isNode()&&!l.removed()){for(var f=0,h=l[0],p=h._private.edges,g=0;g<p.length;g++){var _=p[g];!o&&_.isLoop()||(f+=u(h,_))}return f}}}function co(u,o){return function(l){for(var f,h=this.nodes(),p=0;p<h.length;p++){var _=h[p][u](l);void 0!==_&&(void 0===f||o(_,f))&&(f=_)}return f}}Nn(Eh,{degree:md(function(u,o){return o.source().same(o.target())?2:1}),indegree:md(function(u,o){return o.target().same(u)?1:0}),outdegree:md(function(u,o){return o.source().same(u)?1:0})}),Nn(Eh,{minDegree:co("degree",function(u,o){return u<o}),maxDegree:co("degree",function(u,o){return u>o}),minIndegree:co("indegree",function(u,o){return u<o}),maxIndegree:co("indegree",function(u,o){return u>o}),minOutdegree:co("outdegree",function(u,o){return u<o}),maxOutdegree:co("outdegree",function(u,o){return u>o})}),Nn(Eh,{totalDegree:function(o){for(var l=0,f=this.nodes(),h=0;h<f.length;h++)l+=f[h].degree(o);return l}});var es,hm,vd=function(o,l,f){for(var h=0;h<o.length;h++){var p=o[h];if(!p.locked()){var g=p._private.position,_={x:null!=l.x?l.x-g.x:0,y:null!=l.y?l.y-g.y:0};p.isParent()&&!(0===_.x&&0===_.y)&&p.children().shift(_,f),p.dirtyBoundingBoxCache()}}},ba={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(o){o.updateCompoundBounds()},beforeSet:function(o,l){vd(o,l,!1)},onSet:function(o){o.dirtyCompoundBoundsCache()},canSet:function(o){return!o.locked()}};es=hm={position:ur.data(ba),silentPosition:ur.data(Nn({},ba,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(o,l){vd(o,l,!0)},onSet:function(o){o.dirtyCompoundBoundsCache()}})),positions:function(o,l){if(Ke(o))l?this.silentPosition(o):this.position(o);else if(at(o)){var f=o,h=this.cy();h.startBatch();for(var p=0;p<this.length;p++){var _,g=this[p];(_=f(g,p))&&(l?g.silentPosition(_):g.position(_))}h.endBatch()}return this},silentPositions:function(o){return this.positions(o,!0)},shift:function(o,l,f){var h;if(Ke(o)?(h={x:Ze(o.x)?o.x:0,y:Ze(o.y)?o.y:0},f=l):Be(o)&&Ze(l)&&((h={x:0,y:0})[o]=l),null!=h){var p=this.cy();p.startBatch();for(var g=0;g<this.length;g++){var _=this[g];if(!(p.hasCompoundNodes()&&_.isChild()&&_.ancestors().anySame(this))){var E=_.position(),x={x:E.x+h.x,y:E.y+h.y};f?_.silentPosition(x):_.position(x)}}p.endBatch()}return this},silentShift:function(o,l){return Ke(o)?this.shift(o,!0):Be(o)&&Ze(l)&&this.shift(o,l,!0),this},renderedPosition:function(o,l){var f=this[0],h=this.cy(),p=h.zoom(),g=h.pan(),_=Ke(o)?o:void 0,E=void 0!==_||void 0!==l&&Be(o);if(f&&f.isNode()){if(!E){var F=f.position();return _=Lr(F,p,g),void 0===o?_:_[o]}for(var x=0;x<this.length;x++){var M=this[x];void 0!==l?M.position(o,(l-g[o])/p):void 0!==_&&M.position(mi(_,p,g))}}else if(!E)return;return this},relativePosition:function(o,l){var f=this[0],h=this.cy(),p=Ke(o)?o:void 0,g=void 0!==p||void 0!==l&&Be(o),_=h.hasCompoundNodes();if(f&&f.isNode()){if(!g){var j=f.position(),q=_?f.parent():null,J=q&&q.length>0;J&&(q=q[0]);var fe=J?q.position():{x:0,y:0};return p={x:j.x-fe.x,y:j.y-fe.y},void 0===o?p:p[o]}for(var E=0;E<this.length;E++){var x=this[E],M=_?x.parent():null,F=M&&M.length>0;F&&(M=M[0]);var W=F?M.position():{x:0,y:0};void 0!==l?x.position(o,l+W[o]):void 0!==p&&x.position({x:p.x+W.x,y:p.y+W.y})}}else if(!g)return;return this}},es.modelPosition=es.point=es.position,es.modelPositions=es.points=es.positions,es.renderedPoint=es.renderedPosition,es.relativePoint=es.relativePosition;var ca,wa,Wr=hm;ca=wa={},wa.renderedBoundingBox=function(u){var o=this.boundingBox(u),l=this.cy(),f=l.zoom(),h=l.pan(),p=o.x1*f+h.x,g=o.x2*f+h.x,_=o.y1*f+h.y,E=o.y2*f+h.y;return{x1:p,x2:g,y1:_,y2:E,w:g-p,h:E-_}},wa.dirtyCompoundBoundsCache=function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();return o.styleEnabled()&&o.hasCompoundNodes()?(this.forEachUp(function(l){if(l.isParent()){var f=l._private;f.compoundBoundsClean=!1,f.bbCache=null,u||l.emitAndNotify("bounds")}}),this):this},wa.updateCompoundBounds=function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();if(!o.styleEnabled()||!o.hasCompoundNodes())return this;if(!u&&o.batching())return this;function l(g){if(g.isParent()){var _=g._private,E=g.children(),x="include"===g.pstyle("compound-sizing-wrt-labels").value,M={width:{val:g.pstyle("min-width").pfValue,left:g.pstyle("min-width-bias-left"),right:g.pstyle("min-width-bias-right")},height:{val:g.pstyle("min-height").pfValue,top:g.pstyle("min-height-bias-top"),bottom:g.pstyle("min-height-bias-bottom")}},F=E.boundingBox({includeLabels:x,includeOverlays:!1,useCache:!1}),z=_.position;(0===F.w||0===F.h)&&((F={w:g.pstyle("width").pfValue,h:g.pstyle("height").pfValue}).x1=z.x-F.w/2,F.x2=z.x+F.w/2,F.y1=z.y-F.h/2,F.y2=z.y+F.h/2);var q=M.width.left.value;"px"===M.width.left.units&&M.width.val>0&&(q=100*q/M.width.val);var J=M.width.right.value;"px"===M.width.right.units&&M.width.val>0&&(J=100*J/M.width.val);var re=M.height.top.value;"px"===M.height.top.units&&M.height.val>0&&(re=100*re/M.height.val);var fe=M.height.bottom.value;"px"===M.height.bottom.units&&M.height.val>0&&(fe=100*fe/M.height.val);var he=W(M.width.val-F.w,q,J),ve=he.biasDiff,Ie=he.biasComplementDiff,Ae=W(M.height.val-F.h,re,fe),ye=Ae.biasDiff,Me=Ae.biasComplementDiff;_.autoPadding=function j(we,ke,Pe,xe){if("%"!==Pe.units)return"px"===Pe.units?Pe.pfValue:0;switch(xe){case"width":return we>0?Pe.pfValue*we:0;case"height":return ke>0?Pe.pfValue*ke:0;case"average":return we>0&&ke>0?Pe.pfValue*(we+ke)/2:0;case"min":return we>0&&ke>0?we>ke?Pe.pfValue*ke:Pe.pfValue*we:0;case"max":return we>0&&ke>0?we>ke?Pe.pfValue*we:Pe.pfValue*ke:0;default:return 0}}(F.w,F.h,g.pstyle("padding"),g.pstyle("padding-relative-to").value),_.autoWidth=Math.max(F.w,M.width.val),z.x=(-ve+F.x1+F.x2+Ie)/2,_.autoHeight=Math.max(F.h,M.height.val),z.y=(-ye+F.y1+F.y2+Me)/2}function W(we,ke,Pe){var xe=0,He=0,Ne=ke+Pe;return we>0&&Ne>0&&(xe=ke/Ne*we,He=Pe/Ne*we),{biasDiff:xe,biasComplementDiff:He}}}for(var f=0;f<this.length;f++){var h=this[f],p=h._private;(!p.compoundBoundsClean||u)&&(l(h),o.batching()||(p.compoundBoundsClean=!0))}return this};var Fo=function(o){return o===1/0||o===-1/0?0:o},ps=function(o,l,f,h,p){h-l==0||p-f==0||null==l||null==f||null==h||null==p||(o.x1=l<o.x1?l:o.x1,o.x2=h>o.x2?h:o.x2,o.y1=f<o.y1?f:o.y1,o.y2=p>o.y2?p:o.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1)},Bo=function(o,l){return null==l?o:ps(o,l.x1,l.y1,l.x2,l.y2)},xl=function(o,l,f){return Qi(o,l,f)},eo=function(o,l,f){if(!l.cy().headless()){var E,x,h=l._private,p=h.rstyle,g=p.arrowWidth/2;if("none"!==l.pstyle(f+"-arrow-shape").value){"source"===f?(E=p.srcX,x=p.srcY):"target"===f?(E=p.tgtX,x=p.tgtY):(E=p.midX,x=p.midY);var M=h.arrowBounds=h.arrowBounds||{},F=M[f]=M[f]||{};F.x1=E-g,F.y1=x-g,F.x2=E+g,F.y2=x+g,F.w=F.x2-F.x1,F.h=F.y2-F.y1,Na(F,1),ps(o,F.x1,F.y1,F.x2,F.y2)}}},vc=function(o,l,f){if(!l.cy().headless()){var h,p=l._private,g=p.rstyle;if(l.pstyle((h=f?f+"-":"")+"label").strValue){var Pe,xe,He,Ne,E=l.pstyle("text-halign"),x=l.pstyle("text-valign"),M=xl(g,"labelWidth",f),F=xl(g,"labelHeight",f),z=xl(g,"labelX",f),W=xl(g,"labelY",f),j=l.pstyle(h+"text-margin-x").pfValue,q=l.pstyle(h+"text-margin-y").pfValue,J=l.isEdge(),re=l.pstyle(h+"text-rotation"),fe=l.pstyle("text-outline-width").pfValue,ve=l.pstyle("text-border-width").pfValue/2,Ie=l.pstyle("text-background-padding").pfValue,ye=F,Me=M,we=Me/2,ke=ye/2;if(J)Pe=z-we,xe=z+we,He=W-ke,Ne=W+ke;else{switch(E.value){case"left":Pe=z-Me,xe=z;break;case"center":Pe=z-we,xe=z+we;break;case"right":Pe=z,xe=z+Me}switch(x.value){case"top":He=W-ye,Ne=W;break;case"center":He=W-ke,Ne=W+ke;break;case"bottom":He=W,Ne=W+ye}}Pe+=j-Math.max(fe,ve)-Ie-2,xe+=j+Math.max(fe,ve)+Ie+2,He+=q-Math.max(fe,ve)-Ie-2,Ne+=q+Math.max(fe,ve)+Ie+2;var qe=f||"main",Ue=p.labelBounds,Ge=Ue[qe]=Ue[qe]||{};Ge.x1=Pe,Ge.y1=He,Ge.x2=xe,Ge.y2=Ne,Ge.w=xe-Pe,Ge.h=Ne-He;var ot=J&&"autorotate"===re.strValue;if(ot||null!=re.pfValue&&0!==re.pfValue){var yt=ot?xl(p.rstyle,"labelAngle",f):re.pfValue,st=Math.cos(yt),vt=Math.sin(yt),At=(Pe+xe)/2,Ot=(He+Ne)/2;if(!J){switch(E.value){case"left":At=xe;break;case"right":At=Pe}switch(x.value){case"top":Ot=Ne;break;case"bottom":Ot=He}}var Dt=function(ar,sn){return{x:(ar-=At)*st-(sn-=Ot)*vt+At,y:ar*vt+sn*st+Ot}},_t=Dt(Pe,He),tt=Dt(Pe,Ne),Mt=Dt(xe,He),Nt=Dt(xe,Ne);Pe=Math.min(_t.x,tt.x,Mt.x,Nt.x),xe=Math.max(_t.x,tt.x,Mt.x,Nt.x),He=Math.min(_t.y,tt.y,Mt.y,Nt.y),Ne=Math.max(_t.y,tt.y,Mt.y,Nt.y)}var $t=qe+"Rot",rn=Ue[$t]=Ue[$t]||{};rn.x1=Pe,rn.y1=He,rn.x2=xe,rn.y2=Ne,rn.w=xe-Pe,rn.h=Ne-He,ps(o,Pe,He,xe,Ne),ps(p.labelBounds.all,Pe,He,xe,Ne)}return o}},yd=function(o){var l=0,f=function(g){return(g?1:0)<<l++},h=0;return h+=f(o.incudeNodes),h+=f(o.includeEdges),h+=f(o.includeLabels),h+=f(o.includeMainLabels),h+=f(o.includeSourceLabels),(h+=f(o.includeTargetLabels))+f(o.includeOverlays)},yc=function(o){if(o.isEdge()){var l=o.source().position(),f=o.target().position(),h=function(g){return Math.round(g)};return function(o,l){var f={value:0,done:!1},h=0,p=o.length;return Jc({next:function(){return h<p?f.value=o[h++]:f.done=!0,f}},void 0)}([h(l.x),h(l.y),h(f.x),h(f.y)])}return 0},gs=function(o,l){var h,f=o._private,p=o.isEdge(),_=(null==l?Rp:yd(l))===Rp,E=yc(o),x=f.bbCachePosKey===E,M=l.useCache&&x,F=function(q){return null==q._private.bbCache||q._private.styleDirty};if(!M||F(o)||p&&F(o.source())||F(o.target())?(x||o.recalculateRenderedStyle(M),h=function(o,l){var M,F,z,W,j,q,f=o._private.cy,h=f.styleEnabled(),p=f.headless(),g=Mi(),_=o._private,E=o.isNode(),x=o.isEdge(),J=_.rstyle,re=E&&h?o.pstyle("bounds-expansion").pfValue:[0],fe=function(Pn){return"none"!==Pn.pstyle("display").value},he=!h||fe(o)&&(!x||fe(o.source())&&fe(o.target()));if(he){var Ie=0;h&&l.includeOverlays&&0!==o.pstyle("overlay-opacity").value&&(Ie=o.pstyle("overlay-padding").value);var ye=0;h&&l.includeUnderlays&&0!==o.pstyle("underlay-opacity").value&&(ye=o.pstyle("underlay-padding").value);var Me=Math.max(Ie,ye),ke=0;if(h&&(ke=o.pstyle("width").pfValue/2),E&&l.includeNodes){var Pe=o.position();j=Pe.x,q=Pe.y;var He=o.outerWidth()/2,qe=o.outerHeight()/2;ps(g,M=j-He,z=q-qe,F=j+He,W=q+qe)}else if(x&&l.includeEdges)if(h&&!p){var Ue=o.pstyle("curve-style").strValue;if(M=Math.min(J.srcX,J.midX,J.tgtX),F=Math.max(J.srcX,J.midX,J.tgtX),z=Math.min(J.srcY,J.midY,J.tgtY),W=Math.max(J.srcY,J.midY,J.tgtY),ps(g,M-=ke,z-=ke,F+=ke,W+=ke),"haystack"===Ue){var Ge=J.haystackPts;if(Ge&&2===Ge.length){if((M=Ge[0].x)>(F=Ge[1].x)){var ot=M;M=F,F=ot}if((z=Ge[0].y)>(W=Ge[1].y)){var ct=z;z=W,W=ct}ps(g,M-ke,z-ke,F+ke,W+ke)}}else if("bezier"===Ue||"unbundled-bezier"===Ue||"segments"===Ue||"taxi"===Ue){var yt;switch(Ue){case"bezier":case"unbundled-bezier":yt=J.bezierPts;break;case"segments":case"taxi":yt=J.linePts}if(null!=yt)for(var st=0;st<yt.length;st++){var vt=yt[st];ps(g,M=vt.x-ke,z=vt.y-ke,F=vt.x+ke,W=vt.y+ke)}}}else{var Ot=o.source().position(),_t=o.target().position();if((M=Ot.x)>(F=_t.x)){var tt=M;M=F,F=tt}if((z=Ot.y)>(W=_t.y)){var Mt=z;z=W,W=Mt}ps(g,M-=ke,z-=ke,F+=ke,W+=ke)}if(h&&l.includeEdges&&x&&(eo(g,o,"mid-source"),eo(g,o,"mid-target"),eo(g,o,"source"),eo(g,o,"target")),h&&"yes"===o.pstyle("ghost").value){var $t=o.pstyle("ghost-offset-x").pfValue,rn=o.pstyle("ghost-offset-y").pfValue;ps(g,g.x1+$t,g.y1+rn,g.x2+$t,g.y2+rn)}var Xn=_.bodyBounds=_.bodyBounds||{};io(Xn,g),Os(Xn,re),Na(Xn,1),h&&ps(g,(M=g.x1)-Me,(z=g.y1)-Me,(F=g.x2)+Me,(W=g.y2)+Me);var ar=_.overlayBounds=_.overlayBounds||{};io(ar,g),Os(ar,re),Na(ar,1);var sn=_.labelBounds=_.labelBounds||{};null!=sn.all?function(o){o.x1=1/0,o.y1=1/0,o.x2=-1/0,o.y2=-1/0,o.w=0,o.h=0}(sn.all):sn.all=Mi(),h&&l.includeLabels&&(l.includeMainLabels&&vc(g,o,null),x&&(l.includeSourceLabels&&vc(g,o,"source"),l.includeTargetLabels&&vc(g,o,"target")))}return g.x1=Fo(g.x1),g.y1=Fo(g.y1),g.x2=Fo(g.x2),g.y2=Fo(g.y2),g.w=Fo(g.x2-g.x1),g.h=Fo(g.y2-g.y1),g.w>0&&g.h>0&&he&&(Os(g,re),Na(g,1)),g}(o,bc),f.bbCache=h,f.bbCachePosKey=E):h=f.bbCache,!_){var W=o.isNode();h=Mi(),(l.includeNodes&&W||l.includeEdges&&!W)&&Bo(h,l.includeOverlays?f.overlayBounds:f.bodyBounds),l.includeLabels&&(l.includeMainLabels&&(!p||l.includeSourceLabels&&l.includeTargetLabels)?Bo(h,f.labelBounds.all):(l.includeMainLabels&&Bo(h,f.labelBounds.mainRot),l.includeSourceLabels&&Bo(h,f.labelBounds.sourceRot),l.includeTargetLabels&&Bo(h,f.labelBounds.targetRot))),h.w=h.x2-h.x1,h.h=h.y2-h.y1}return h},bc={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},Rp=yd(bc),Dh=li(bc);wa.boundingBox=function(u){var o;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==u&&void 0!==u.useCache&&!0!==u.useCache){o=Mi();var l=Dh(u=u||bc),f=this;if(f.cy().styleEnabled())for(var g=0;g<f.length;g++){var _=f[g],E=_._private,x=yc(_);_.recalculateRenderedStyle(l.useCache&&E.bbCachePosKey===x&&!E.styleDirty)}this.updateCompoundBounds(!u.useCache);for(var z=0;z<f.length;z++)Bo(o,gs(f[z],l))}else u=void 0===u?bc:Dh(u),o=gs(this[0],u);return o.x1=Fo(o.x1),o.y1=Fo(o.y1),o.x2=Fo(o.x2),o.y2=Fo(o.y2),o.w=Fo(o.x2-o.x1),o.h=Fo(o.y2-o.y1),o},wa.dirtyBoundingBoxCache=function(){for(var u=0;u<this.length;u++){var o=this[u]._private;o.bbCache=null,o.bbCachePosKey=null,o.bodyBounds=null,o.overlayBounds=null,o.labelBounds.all=null,o.labelBounds.source=null,o.labelBounds.target=null,o.labelBounds.main=null,o.labelBounds.sourceRot=null,o.labelBounds.targetRot=null,o.labelBounds.mainRot=null,o.arrowBounds.source=null,o.arrowBounds.target=null,o.arrowBounds["mid-source"]=null,o.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},wa.boundingBoxAt=function(u){var o=this.nodes(),l=this.cy(),f=l.hasCompoundNodes(),h=l.collection();if(f&&(h=o.filter(function(x){return x.isParent()}),o=o.not(h)),Ke(u)){var p=u;u=function(){return p}}l.startBatch(),o.forEach(function(M,F){return M._private.bbAtOldPos=u(M,F)}).silentPositions(u),f&&(h.dirtyCompoundBoundsCache(),h.dirtyBoundingBoxCache(),h.updateCompoundBounds(!0));var E=function(o){return{x1:o.x1,x2:o.x2,w:o.w,y1:o.y1,y2:o.y2,h:o.h}}(this.boundingBox({useCache:!1}));return o.silentPositions(function(M){return M._private.bbAtOldPos}),f&&(h.dirtyCompoundBoundsCache(),h.dirtyBoundingBoxCache(),h.updateCompoundBounds(!0)),l.endBatch(),E},ca.boundingbox=ca.bb=ca.boundingBox,ca.renderedBoundingbox=ca.renderedBoundingBox;var Mu,El,wc=wa;Mu=El={};var kp=function(o){o.uppercaseName=Xr(o.name),o.autoName="auto"+o.uppercaseName,o.labelName="label"+o.uppercaseName,o.outerName="outer"+o.uppercaseName,o.uppercaseOuterName=Xr(o.outerName),Mu[o.name]=function(){var f=this[0],h=f._private;if(f){if(h.cy._private.styleEnabled){if(f.isParent())return f.updateCompoundBounds(),h[o.autoName]||0;var _=f.pstyle(o.name);return"label"===_.strValue?(f.recalculateRenderedStyle(),h.rstyle[o.labelName]||0):_.pfValue}return 1}},Mu["outer"+o.uppercaseName]=function(){var f=this[0];if(f)return f._private.cy._private.styleEnabled?f[o.name]()+f.pstyle("border-width").pfValue+2*f.padding():1},Mu["rendered"+o.uppercaseName]=function(){var f=this[0];if(f)return f[o.name]()*this.cy().zoom()},Mu["rendered"+o.uppercaseOuterName]=function(){var f=this[0];if(f)return f[o.outerName]()*this.cy().zoom()}};kp({name:"width"}),kp({name:"height"}),El.padding=function(){var u=this[0],o=u._private;return u.isParent()?(u.updateCompoundBounds(),void 0!==o.autoPadding?o.autoPadding:u.pstyle("padding").pfValue):u.pstyle("padding").pfValue},El.paddedHeight=function(){var u=this[0];return u.height()+2*u.padding()},El.paddedWidth=function(){var u=this[0];return u.width()+2*u.padding()};var pm=El,Af={controlPoints:{get:function(o){return o.renderer().getControlPoints(o)},mult:!0},segmentPoints:{get:function(o){return o.renderer().getSegmentPoints(o)},mult:!0},sourceEndpoint:{get:function(o){return o.renderer().getSourceEndpoint(o)}},targetEndpoint:{get:function(o){return o.renderer().getTargetEndpoint(o)}},midpoint:{get:function(o){return o.renderer().getEdgeMidpoint(o)}}},Th=Object.keys(Af).reduce(function(u,o){var l=Af[o],f=function(o){return"rendered"+o[0].toUpperCase()+o.substr(1)}(o);return u[o]=function(){return function(o,l){if(o.isEdge())return l(o)}(this,l.get)},u[f]=l.mult?function(){return function(o,l){if(o.isEdge()){var f=o.cy(),h=f.pan(),p=f.zoom();return l(o).map(function(g){return Lr(g,p,h)})}}(this,l.get)}:function(){return function(o,l){if(o.isEdge()){var f=o.cy();return Lr(l(o),f.zoom(),f.pan())}}(this,l.get)},u},{}),Mh=Nn({},Wr,wc,pm,Th),_d=function(o,l){this.recycle(o,l)};function Cd(){return!1}function Fa(){return!0}_d.prototype={instanceString:function(){return"event"},recycle:function(o,l){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Cd,null!=o&&o.preventDefault?(this.type=o.type,this.isDefaultPrevented=o.defaultPrevented?Fa:Cd):null!=o&&o.type?l=o:this.type=o,null!=l&&(this.originalEvent=l.originalEvent,this.type=null!=l.type?l.type:this.type,this.cy=l.cy,this.target=l.target,this.position=l.position,this.renderedPosition=l.renderedPosition,this.namespace=l.namespace,this.layout=l.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var f=this.position,h=this.cy.zoom(),p=this.cy.pan();this.renderedPosition={x:f.x*h+p.x,y:f.y*h+p.y}}this.timeStamp=o&&o.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Fa;var o=this.originalEvent;o&&o.preventDefault&&o.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Fa;var o=this.originalEvent;o&&o.stopPropagation&&o.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Fa,this.stopPropagation()},isDefaultPrevented:Cd,isPropagationStopped:Cd,isImmediatePropagationStopped:Cd};var xo=/^([^.]+)(\.(?:[^.]+))?$/,fi={qualifierCompare:function(o,l){return o===l},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(o){return o},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Ih=Object.keys(fi),Ed={};function ji(){for(var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ed,o=arguments.length>1?arguments[1]:void 0,l=0;l<Ih.length;l++){var f=Ih[l];this[f]=u[f]||fi[f]}this.context=o||this.context,this.listeners=[],this.emitting=0}var Ls=ji.prototype,Of=function(o,l,f,h,p,g,_){at(h)&&(p=h,h=null),_&&(g=null==g?_:Nn({},g,_));for(var E=ht(f)?f:f.split(/\s+/),x=0;x<E.length;x++){var M=E[x];if(!Ft(M)){var F=M.match(xo);if(F&&!1===l(o,M,F[1],F[2]?F[2]:null,h,p,g))break}}},Ql=function(o,l){return o.addEventFields(o.context,l),new _d(l.type,l)};Ls.on=Ls.addListener=function(u,o,l,f,h){return Of(this,function(p,g,_,E,x,M,F){at(M)&&p.listeners.push({event:g,callback:M,type:_,namespace:E,qualifier:x,conf:F})},u,o,l,f,h),this},Ls.one=function(u,o,l,f){return this.on(u,o,l,f,{one:!0})},Ls.removeListener=Ls.off=function(u,o,l,f){var h=this;0!==this.emitting&&(this.listeners=function(o){return o.slice()}(this.listeners));for(var p=this.listeners,g=function(x){var M=p[x];Of(h,function(F,z,W,j,q,J){if((M.type===W||"*"===u)&&(!j&&".*"!==M.namespace||M.namespace===j)&&(!q||F.qualifierCompare(M.qualifier,q))&&(!J||M.callback===J))return p.splice(x,1),!1},u,o,l,f)},_=p.length-1;_>=0;_--)g(_);return this},Ls.removeAllListeners=function(){return this.removeListener("*")},Ls.emit=Ls.trigger=function(u,o,l){var f=this.listeners,h=f.length;return this.emitting++,ht(o)||(o=[o]),function(o,l,f){if(function(o){return"event"===ze(o)}(f))l(o,f);else if(Ke(f))l(o,Ql(o,f));else for(var h=ht(f)?f:f.split(/\s+/),p=0;p<h.length;p++){var g=h[p];if(!Ft(g)){var _=g.match(xo);_&&l(o,Ql(o,{type:_[1],namespace:_[2]?_[2]:null,target:o.context}))}}}(this,function(p,g){null!=l&&(h=(f=[{event:g.event,type:g.type,namespace:g.namespace,callback:l}]).length);for(var _=function(M){var F=f[M];if(F.type===g.type&&(!F.namespace||F.namespace===g.namespace||".*"===F.namespace)&&p.eventMatches(p.context,F,g)){var z=[g];null!=o&&function(o,l){for(var f=0;f<l.length;f++)o.push(l[f])}(z,o),p.beforeEmit(p.context,F,g),F.conf&&F.conf.one&&(p.listeners=p.listeners.filter(function(q){return q!==F}));var W=p.callbackContext(p.context,F,g),j=F.callback.apply(W,z);p.afterEmit(p.context,F,g),!1===j&&(g.stopPropagation(),g.preventDefault())}},E=0;E<h;E++)_(E);p.bubble(p.context)&&!g.isPropagationStopped()&&p.parent(p.context).emit(g,o)},u),this.emitting--,this};var Cc={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,f){var h=l.qualifier;return null==h||o!==f.target&&mn(f.target)&&h.matches(f.target)},addEventFields:function(o,l){l.cy=o.cy(),l.target=o},callbackContext:function(o,l,f){return null!=l.qualifier?f.target:o},beforeEmit:function(o,l){l.conf&&l.conf.once&&l.conf.onceCollection.removeListener(l.event,l.qualifier,l.callback)},bubble:function(){return!0},parent:function(o){return o.isChild()?o.parent():o.cy()}},Dd=function(o){return Be(o)?new Tu(o):o},Sd={createEmitter:function(){for(var o=0;o<this.length;o++){var l=this[o],f=l._private;f.emitter||(f.emitter=new ji(Cc,l))}return this},emitter:function(){return this._private.emitter},on:function(o,l,f){for(var h=Dd(l),p=0;p<this.length;p++)this[p].emitter().on(o,h,f);return this},removeListener:function(o,l,f){for(var h=Dd(l),p=0;p<this.length;p++)this[p].emitter().removeListener(o,h,f);return this},removeAllListeners:function(){for(var o=0;o<this.length;o++)this[o].emitter().removeAllListeners();return this},one:function(o,l,f){for(var h=Dd(l),p=0;p<this.length;p++)this[p].emitter().one(o,h,f);return this},once:function(o,l,f){for(var h=Dd(l),p=0;p<this.length;p++)this[p].emitter().on(o,h,f,{once:!0,onceCollection:this})},emit:function(o,l){for(var f=0;f<this.length;f++)this[f].emitter().emit(o,l);return this},emitAndNotify:function(o,l){if(0!==this.length)return this.cy().notify(o,this),this.emit(o,l),this}};ur.eventAliasesOn(Sd);var rl={nodes:function(o){return this.filter(function(l){return l.isNode()}).filter(o)},edges:function(o){return this.filter(function(l){return l.isEdge()}).filter(o)},byGroup:function(){for(var o=this.spawn(),l=this.spawn(),f=0;f<this.length;f++){var h=this[f];h.isNode()?o.push(h):l.push(h)}return{nodes:o,edges:l}},filter:function(o,l){if(void 0===o)return this;if(Be(o)||It(o))return new Tu(o).filter(this);if(at(o)){for(var f=this.spawn(),h=this,p=0;p<h.length;p++){var g=h[p];(l?o.apply(l,[g,p,h]):o(g,p,h))&&f.push(g)}return f}return this.spawn()},not:function(o){if(o){Be(o)&&(o=this.filter(o));for(var l=this.spawn(),f=0;f<this.length;f++){var h=this[f];o.has(h)||l.push(h)}return l}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(o){if(Be(o))return this.filter(o);for(var f=this.spawn(),g=this.length<o.length,_=g?this:o,E=g?o:this,x=0;x<_.length;x++){var M=_[x];E.has(M)&&f.push(M)}return f},xor:function(o){var l=this._private.cy;Be(o)&&(o=l.$(o));var f=this.spawn(),p=o,g=function(E,x){for(var M=0;M<E.length;M++){var F=E[M];x.hasElementWithId(F._private.data.id)||f.push(F)}};return g(this,p),g(p,this),f},diff:function(o){var l=this._private.cy;Be(o)&&(o=l.$(o));var f=this.spawn(),h=this.spawn(),p=this.spawn(),_=o,E=function(M,F,z){for(var W=0;W<M.length;W++){var j=M[W];F.hasElementWithId(j._private.data.id)?p.merge(j):z.push(j)}};return E(this,_,f),E(_,this,h),{left:f,right:h,both:p}},add:function(o){var l=this._private.cy;if(!o)return this;if(Be(o)){var f=o;o=l.mutableElements().filter(f)}for(var h=this.spawnSelf(),p=0;p<o.length;p++){var g=o[p];!this.has(g)&&h.push(g)}return h},merge:function(o){var l=this._private,f=l.cy;if(!o)return this;if(o&&Be(o)){var h=o;o=f.mutableElements().filter(h)}for(var p=l.map,g=0;g<o.length;g++){var _=o[g],E=_._private.data.id;if(!p.has(E)){var M=this.length++;this[M]=_,p.set(E,{ele:_,index:M})}}return this},unmergeAt:function(o){var f=this[o].id(),p=this._private.map;if(this[o]=void 0,p.delete(f),this.length>1&&o!==this.length-1){var _=this.length-1,E=this[_],x=E._private.data.id;this[_]=void 0,this[o]=E,p.set(x,{ele:E,index:o})}return this.length--,this},unmergeOne:function(o){var p=this._private.map.get((o=o[0])._private.data.id);return p?(this.unmergeAt(p.index),this):this},unmerge:function(o){var l=this._private.cy;if(!o)return this;if(o&&Be(o)){var f=o;o=l.mutableElements().filter(f)}for(var h=0;h<o.length;h++)this.unmergeOne(o[h]);return this},unmergeBy:function(o){for(var l=this.length-1;l>=0;l--)o(this[l])&&this.unmergeAt(l);return this},map:function(o,l){for(var f=[],h=this,p=0;p<h.length;p++){var g=h[p],_=l?o.apply(l,[g,p,h]):o(g,p,h);f.push(_)}return f},reduce:function(o,l){for(var f=l,h=this,p=0;p<h.length;p++)f=o(f,h[p],p,h);return f},max:function(o,l){for(var h,f=-1/0,p=this,g=0;g<p.length;g++){var _=p[g],E=l?o.apply(l,[_,g,p]):o(_,g,p);E>f&&(f=E,h=_)}return{value:f,ele:h}},min:function(o,l){for(var h,f=1/0,p=this,g=0;g<p.length;g++){var _=p[g],E=l?o.apply(l,[_,g,p]):o(_,g,p);E<f&&(f=E,h=_)}return{value:f,ele:h}}},Ir=rl;Ir.u=Ir["|"]=Ir["+"]=Ir.union=Ir.or=Ir.add,Ir["\\"]=Ir["!"]=Ir["-"]=Ir.difference=Ir.relativeComplement=Ir.subtract=Ir.not,Ir.n=Ir["&"]=Ir["."]=Ir.and=Ir.intersection=Ir.intersect,Ir["^"]=Ir["(+)"]=Ir["(-)"]=Ir.symmetricDifference=Ir.symdiff=Ir.xor,Ir.fnFilter=Ir.filterFn=Ir.stdFilter=Ir.filter,Ir.complement=Ir.abscomp=Ir.absoluteComplement;var o,Jl=function(o,l){var h=o.cy().hasCompoundNodes();function p(M){var F=M.pstyle("z-compound-depth");return"auto"===F.value?h?M.zDepth():0:"bottom"===F.value?-1:"top"===F.value?tc:0}var g=p(o)-p(l);if(0!==g)return g;function _(M){return"auto"===M.pstyle("z-index-compare").value&&M.isNode()?1:0}var E=_(o)-_(l);if(0!==E)return E;var x=o.pstyle("z-index").value-l.pstyle("z-index").value;return 0!==x?x:o.poolIndex()-l.poolIndex()},xc={forEach:function(o,l){if(at(o))for(var f=this.length,h=0;h<f;h++){var p=this[h];if(!1===(l?o.apply(l,[p,h,this]):o(p,h,this)))break}return this},toArray:function(){for(var o=[],l=0;l<this.length;l++)o.push(this[l]);return o},slice:function(o,l){var f=[],h=this.length;null==l&&(l=h),null==o&&(o=0),o<0&&(o=h+o),l<0&&(l=h+l);for(var p=o;p>=0&&p<l&&p<h;p++)f.push(this[p]);return this.spawn(f)},size:function(){return this.length},eq:function(o){return this[o]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(o){if(!at(o))return this;var l=this.toArray().sort(o);return this.spawn(l)},sortByZIndex:function(){return this.sort(Jl)},zDepth:function(){var o=this[0];if(o){var l=o._private;if("nodes"===l.group){var h=l.data.parent?o.parents().size():0;return o.isParent()?h:tc-1}var g=l.target,_=l.source.zDepth(),E=g.zDepth();return Math.max(_,E,0)}}};xc.each=xc.forEach,o="undefined",(typeof Symbol>"u"?"undefined":H(Symbol))!=o&&H(Symbol.iterator)!=o&&(xc[Symbol.iterator]=function(){var f=this,h={value:void 0,done:!1},p=0,g=this.length;return ne({next:function(){return p<g?h.value=f[p++]:(h.value=void 0,h.done=!0),h}},Symbol.iterator,function(){return this})});var Fp=li({nodeDimensionsIncludeLabels:!1}),Bn={layoutDimensions:function(o){var l;if(o=Fp(o),this.takesUpSpace())if(o.nodeDimensionsIncludeLabels){var f=this.boundingBox();l={w:f.w,h:f.h}}else l={w:this.outerWidth(),h:this.outerHeight()};else l={w:0,h:0};return(0===l.w||0===l.h)&&(l.w=l.h=1),l},layoutPositions:function(o,l,f){var h=this.nodes().filter(function(Ie){return!Ie.isParent()}),p=this.cy(),g=l.eles,_=function(Ae){return Ae.id()},E=kr(f,_);o.emit({type:"layoutstart",layout:o}),o.animations=[];var M=l.spacingFactor&&1!==l.spacingFactor,z=function(){if(!M)return null;for(var Ae=Mi(),ye=0;ye<h.length;ye++){var we=E(h[ye],ye);oc(Ae,we.x,we.y)}return Ae}(),W=kr(function(Ie,Ae){var ye=E(Ie,Ae);return M&&(ye=function(Ae,ye,Me){var we_x=ye.x1+ye.w/2,we_y=ye.y1+ye.h/2;return{x:we_x+(Me.x-we_x)*Ae,y:we_y+(Me.y-we_y)*Ae}}(Math.abs(l.spacingFactor),z,ye)),null!=l.transform&&(ye=l.transform(Ie,ye)),ye},_);if(l.animate){for(var j=0;j<h.length;j++){var q=h[j],J=W(q,j);if(null==l.animateFilter||l.animateFilter(q,j)){var fe=q.animation({position:J,duration:l.animationDuration,easing:l.animationEasing});o.animations.push(fe)}else q.position(J)}if(l.fit){var he=p.animation({fit:{boundingBox:g.boundingBoxAt(W),padding:l.padding},duration:l.animationDuration,easing:l.animationEasing});o.animations.push(he)}else if(void 0!==l.zoom&&void 0!==l.pan){var ve=p.animation({zoom:l.zoom,pan:l.pan,duration:l.animationDuration,easing:l.animationEasing});o.animations.push(ve)}o.animations.forEach(function(Ie){return Ie.play()}),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),fs.all(o.animations.map(function(Ie){return Ie.promise()})).then(function(){o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o})})}else h.positions(W),l.fit&&p.fit(l.eles,l.padding),null!=l.zoom&&p.zoom(l.zoom),l.pan&&p.pan(l.pan),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o});return this},layout:function(o){return this.cy().makeLayout(Nn({},o,{eles:this}))}};function Iu(u,o,l){var p,f=l._private,h=f.styleCache=f.styleCache||[];return null!=(p=h[u])||(p=h[u]=o(l)),p}function Au(u,o){return u=ss(u),function(f){return Iu(u,o,f)}}function eu(u,o){u=ss(u);var l=function(h){return o.call(h)};return function(){var h=this[0];if(h)return Iu(u,l,h)}}Bn.createLayout=Bn.makeLayout=Bn.layout;var Vo={recalculateRenderedStyle:function(o){var l=this.cy(),f=l.renderer(),h=l.styleEnabled();return f&&h&&f.recalculateRenderedStyle(this,o),this},dirtyStyleCache:function(){var f,o=this.cy(),l=function(p){return p._private.styleCache=null};return o.hasCompoundNodes()?((f=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(f.connectedEdges()),f.forEach(l)):this.forEach(function(h){l(h),h.connectedEdges().forEach(l)}),this},updateStyle:function(o){var l=this._private.cy;if(!l.styleEnabled())return this;if(l.batching())return l._private.batchStyleEles.merge(this),this;var p=this;o=!(!o&&void 0!==o),l.hasCompoundNodes()&&(p=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var g=p;return o?g.emitAndNotify("style"):g.emit("style"),p.forEach(function(_){return _._private.styleDirty=!0}),this},cleanStyle:function(){var o=this.cy();if(o.styleEnabled())for(var l=0;l<this.length;l++){var f=this[l];f._private.styleDirty&&(f._private.styleDirty=!1,o.style().apply(f))}},parsedStyle:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=this[0],h=f.cy();if(h.styleEnabled()&&f)return this.cleanStyle(),f._private.style[o]??(l?h.style().getDefaultProperty(o):null)},numericStyle:function(o){var l=this[0];if(l.cy().styleEnabled()&&l){var f=l.pstyle(o);return void 0!==f.pfValue?f.pfValue:f.value}},numericStyleUnits:function(o){var l=this[0];if(l.cy().styleEnabled()&&l)return l.pstyle(o).units},renderedStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var f=this[0];return f?l.style().getRenderedStyle(f,o):void 0},style:function(o,l){var f=this.cy();if(!f.styleEnabled())return this;var p=f.style();if(Ke(o))p.applyBypass(this,o,!1),this.emitAndNotify("style");else if(Be(o)){if(void 0===l){var _=this[0];return _?p.getStylePropertyValue(_,o):void 0}p.applyBypass(this,o,l,!1),this.emitAndNotify("style")}else if(void 0===o){var E=this[0];return E?p.getRawStyle(E):void 0}return this},removeStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var h=l.style(),p=this;if(void 0===o)for(var g=0;g<p.length;g++)h.removeAllBypasses(p[g],!1);else{o=o.split(/\s+/);for(var E=0;E<p.length;E++)h.removeBypasses(p[E],o,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var o=this.cy();if(!o.styleEnabled())return 1;var l=o.hasCompoundNodes(),f=this[0];if(f){var h=f._private,p=f.pstyle("opacity").value;if(!l)return p;var g=h.data.parent?f.parents():null;if(g)for(var _=0;_<g.length;_++)p*=g[_].pstyle("opacity").value;return p}},transparent:function(){if(!this.cy().styleEnabled())return!1;var l=this[0],f=l.cy().hasCompoundNodes();return l?f?0===l.effectiveOpacity():0===l.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Oh(u,o){var f=u._private.data.parent?u.parents():null;if(f)for(var h=0;h<f.length;h++)if(!o(f[h]))return!1;return!0}function Td(u){var o=u.ok,l=u.edgeOkViaNode||u.ok,f=u.parentOk||u.ok;return function(){var h=this.cy();if(!h.styleEnabled())return!0;var p=this[0],g=h.hasCompoundNodes();if(p){var _=p._private;if(!o(p))return!1;if(p.isNode())return!g||Oh(p,f);var E=_.source,x=_.target;return l(E)&&(!g||Oh(E,l))&&(E===x||l(x)&&(!g||Oh(x,l)))}}}var Ho=Au("eleTakesUpSpace",function(u){return"element"===u.pstyle("display").value&&0!==u.width()&&(!u.isNode()||0!==u.height())});Vo.takesUpSpace=eu("takesUpSpace",Td({ok:Ho}));var Ec=Au("eleInteractive",function(u){return"yes"===u.pstyle("events").value&&"visible"===u.pstyle("visibility").value&&Ho(u)}),Md=Au("parentInteractive",function(u){return"visible"===u.pstyle("visibility").value&&Ho(u)});Vo.interactive=eu("interactive",Td({ok:Ec,parentOk:Md,edgeOkViaNode:Ho})),Vo.noninteractive=function(){var u=this[0];if(u)return!u.interactive()};var vm=Au("eleVisible",function(u){return"visible"===u.pstyle("visibility").value&&0!==u.pstyle("opacity").pfValue&&Ho(u)});Vo.visible=eu("visible",Td({ok:vm,edgeOkViaNode:Ho})),Vo.hidden=function(){var u=this[0];if(u)return!u.visible()},Vo.isBundledBezier=eu("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Vo.bypass=Vo.css=Vo.style,Vo.renderedCss=Vo.renderedStyle,Vo.removeBypass=Vo.removeCss=Vo.removeStyle,Vo.pstyle=Vo.parsedStyle;var tu={};function Rt(u){return function(){var o=arguments,l=[];if(2===o.length)this.on(u.event,o[0],o[1]);else if(1===o.length&&at(o[0]))this.on(u.event,o[0]);else if(0===o.length||1===o.length&&ht(o[0])){for(var g=1===o.length?o[0]:null,_=0;_<this.length;_++){var E=this[_],x=!u.ableField||E._private[u.ableField],M=E._private[u.field]!=u.value;if(u.overrideAble){var F=u.overrideAble(E);if(void 0!==F&&(x=F,!F))return this}x&&(E._private[u.field]=u.value,M&&l.push(E))}var z=this.spawn(l);z.updateStyle(),z.emit(u.event),g&&z.emit(g)}return this}}function wr(u){tu[u.field]=function(){var o=this[0];if(o){if(u.overrideField){var l=u.overrideField(o);if(void 0!==l)return l}return o._private[u.field]}},tu[u.on]=Rt({event:u.on,field:u.field,ableField:u.ableField,overrideAble:u.overrideAble,value:!0}),tu[u.off]=Rt({event:u.off,field:u.field,ableField:u.ableField,overrideAble:u.overrideAble,value:!1})}wr({field:"locked",overrideField:function(o){return!!o.cy().autolock()||void 0},on:"lock",off:"unlock"}),wr({field:"grabbable",overrideField:function(o){return!o.cy().autoungrabify()&&!o.pannable()&&void 0},on:"grabify",off:"ungrabify"}),wr({field:"selected",ableField:"selectable",overrideAble:function(o){return!o.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),wr({field:"selectable",overrideField:function(o){return!o.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),tu.deselect=tu.unselect,tu.grabbed=function(){var u=this[0];if(u)return u._private.grabbed},wr({field:"active",on:"activate",off:"unactivate"}),wr({field:"pannable",on:"panify",off:"unpanify"}),tu.inactive=function(){var u=this[0];if(u)return!u._private.active};var Vn={},hi=function(o){return function(f){for(var p=[],g=0;g<this.length;g++){var _=this[g];if(_.isNode()){for(var E=!1,x=_.connectedEdges(),M=0;M<x.length;M++){var F=x[M],z=F.source(),W=F.target();if(o.noIncomingEdges&&W===_&&z!==_||o.noOutgoingEdges&&z===_&&W!==_){E=!0;break}}E||p.push(_)}}return this.spawn(p,!0).filter(f)}},zo=function(o){return function(l){for(var h=[],p=0;p<this.length;p++){var g=this[p];if(g.isNode())for(var _=g.connectedEdges(),E=0;E<_.length;E++){var x=_[E],M=x.source(),F=x.target();o.outgoing&&M===g?(h.push(x),h.push(F)):o.incoming&&F===g&&(h.push(x),h.push(M))}}return this.spawn(h,!0).filter(l)}},Nh=function(o){return function(l){for(var f=this,h=[],p={};;){var g=o.outgoing?f.outgoers():f.incomers();if(0===g.length)break;for(var _=!1,E=0;E<g.length;E++){var x=g[E],M=x.id();p[M]||(p[M]=!0,h.push(x),_=!0)}if(!_)break;f=g}return this.spawn(h,!0).filter(l)}};function Dc(u){return function(l){for(var f=[],h=0;h<this.length;h++){var g=this[h]._private[u.attr];g&&f.push(g)}return this.spawn(f,!0).filter(l)}}function ms(u){return function(l){var f=[],h=this._private.cy,p=u||{};Be(l)&&(l=h.$(l));for(var g=0;g<l.length;g++)for(var _=l[g]._private.edges,E=0;E<_.length;E++){var x=_[E],M=x._private.data,F=this.hasElementWithId(M.source)&&l.hasElementWithId(M.target),z=l.hasElementWithId(M.source)&&this.hasElementWithId(M.target);(F||z)&&((p.thisIsSrc||p.thisIsTgt)&&(p.thisIsSrc&&!F||p.thisIsTgt&&!z)||f.push(x))}return this.spawn(f,!0)}}function Id(u){return u=Nn({},{codirected:!1},u),function(f){for(var h=[],p=this.edges(),g=u,_=0;_<p.length;_++)for(var x=p[_]._private,M=x.source,F=M._private.data.id,z=x.data.target,W=M._private.edges,j=0;j<W.length;j++){var q=W[j],J=q._private.data,re=J.target,fe=J.source,he=re===z&&fe===F;(g.codirected&&he||!g.codirected&&(he||F===re&&z===fe))&&h.push(q)}return this.spawn(h,!0).filter(f)}}Vn.clearTraversalCache=function(){for(var u=0;u<this.length;u++)this[u]._private.traversalCache=null},Nn(Vn,{roots:hi({noIncomingEdges:!0}),leaves:hi({noOutgoingEdges:!0}),outgoers:Ja(zo({outgoing:!0}),"outgoers"),successors:Nh({outgoing:!0}),incomers:Ja(zo({incoming:!0}),"incomers"),predecessors:Nh({incoming:!0})}),Nn(Vn,{neighborhood:Ja(function(u){for(var o=[],l=this.nodes(),f=0;f<l.length;f++)for(var h=l[f],p=h.connectedEdges(),g=0;g<p.length;g++){var _=p[g],E=_.source(),x=_.target(),M=h===E?x:E;M.length>0&&o.push(M[0]),o.push(_[0])}return this.spawn(o,!0).filter(u)},"neighborhood"),closedNeighborhood:function(o){return this.neighborhood().add(this).filter(o)},openNeighborhood:function(o){return this.neighborhood(o)}}),Vn.neighbourhood=Vn.neighborhood,Vn.closedNeighbourhood=Vn.closedNeighborhood,Vn.openNeighbourhood=Vn.openNeighborhood,Nn(Vn,{source:Ja(function(o){var f,l=this[0];return l&&(f=l._private.source||l.cy().collection()),f&&o?f.filter(o):f},"source"),target:Ja(function(o){var f,l=this[0];return l&&(f=l._private.target||l.cy().collection()),f&&o?f.filter(o):f},"target"),sources:Dc({attr:"source"}),targets:Dc({attr:"target"})}),Nn(Vn,{edgesWith:Ja(ms(),"edgesWith"),edgesTo:Ja(ms({thisIsSrc:!0}),"edgesTo")}),Nn(Vn,{connectedEdges:Ja(function(u){for(var o=[],f=0;f<this.length;f++){var h=this[f];if(h.isNode())for(var p=h._private.edges,g=0;g<p.length;g++)o.push(p[g])}return this.spawn(o,!0).filter(u)},"connectedEdges"),connectedNodes:Ja(function(u){for(var o=[],f=0;f<this.length;f++){var h=this[f];h.isEdge()&&(o.push(h.source()[0]),o.push(h.target()[0]))}return this.spawn(o,!0).filter(u)},"connectedNodes"),parallelEdges:Ja(Id(),"parallelEdges"),codirectedEdges:Ja(Id({codirected:!0}),"codirectedEdges")}),Nn(Vn,{components:function(o){var l=this,f=l.cy(),h=f.collection(),p=null==o?l.nodes():o.nodes(),g=[];null!=o&&p.empty()&&(p=o.sources());var _=function(M,F){h.merge(M),p.unmerge(M),F.merge(M)};if(p.empty())return l.spawn();var E=function(){var M=f.collection();g.push(M);var F=p[0];_(F,M),l.bfs({directed:!1,roots:F,visit:function(W){return _(W,M)}}),M.forEach(function(z){z.connectedEdges().forEach(function(W){l.has(W)&&M.has(W.source())&&M.has(W.target())&&M.merge(W)})})};do{E()}while(p.length>0);return g},component:function(){var o=this[0];return o.cy().mutableElements().components(o)[0]}}),Vn.componentsOf=Vn.components;var fo=function(o,l){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==o){var p=new Tt,g=!1;if(l){if(l.length>0&&Ke(l[0])&&!mn(l[0])){g=!0;for(var _=[],E=new As,x=0,M=l.length;x<M;x++){var F=l[x];null==F.data&&(F.data={});var z=F.data;if(null==z.id)z.id=ff();else if(o.hasElementWithId(z.id)||E.has(z.id))continue;var W=new Oe(o,F,!1);_.push(W),E.add(z.id)}l=_}}else l=[];this.length=0;for(var j=0,q=l.length;j<q;j++){var J=l[j][0];if(null!=J){var re=J._private.data.id;(!f||!p.has(re))&&(f&&p.set(re,{index:this.length,ele:J}),this[this.length]=J,this.length++)}}this._private={eles:this,cy:o,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(fe){this.lazyMap=fe},rebuildMap:function(){for(var he=this.lazyMap=new Tt,ve=this.eles,Ie=0;Ie<ve.length;Ie++){var Ae=ve[Ie];he.set(Ae.id(),{index:Ie,ele:Ae})}}},f&&(this._private.map=p),g&&!h&&this.restore()}else ri("A collection must have a reference to the core")},wi=Oe.prototype=fo.prototype=Object.create(Array.prototype);wi.instanceString=function(){return"collection"},wi.spawn=function(u,o){return new fo(this.cy(),u,o)},wi.spawnSelf=function(){return this.spawn(this)},wi.cy=function(){return this._private.cy},wi.renderer=function(){return this._private.cy.renderer()},wi.element=function(){return this[0]},wi.collection=function(){return cn(this)?this:new fo(this._private.cy,[this])},wi.unique=function(){return new fo(this._private.cy,this,!0)},wi.hasElementWithId=function(u){return this._private.map.has(u=""+u)},wi.getElementById=function(u){var o=this._private.cy,l=this._private.map.get(u=""+u);return l?l.ele:new fo(o)},wi.$id=wi.getElementById,wi.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},wi.indexOf=function(u){return this._private.map.get(u[0]._private.data.id).index},wi.indexOfId=function(u){return this._private.map.get(u=""+u).index},wi.json=function(u){var o=this.element(),l=this.cy();if(null==o&&u)return this;if(null!=o){var f=o._private;if(Ke(u)){if(l.startBatch(),u.data){o.data(u.data);var h=f.data;if(o.isEdge()){var p=!1,g={},_=u.data.source,E=u.data.target;null!=_&&_!=h.source&&(g.source=""+_,p=!0),null!=E&&E!=h.target&&(g.target=""+E,p=!0),p&&(o=o.move(g))}else{var M=u.data.parent;"parent"in u.data&&(null!=M||null!=h.parent)&&M!=h.parent&&(void 0===M&&(M=null),null!=M&&(M=""+M),o=o.move({parent:M}))}}u.position&&o.position(u.position);var F=function(q,J,re){var fe=u[q];null!=fe&&fe!==f[q]&&(fe?o[J]():o[re]())};return F("removed","remove","restore"),F("selected","select","unselect"),F("selectable","selectify","unselectify"),F("locked","lock","unlock"),F("grabbable","grabify","ungrabify"),F("pannable","panify","unpanify"),null!=u.classes&&o.classes(u.classes),l.endBatch(),this}if(void 0===u){var z={data:ki(f.data),position:ki(f.position),group:f.group,removed:f.removed,selected:f.selected,selectable:f.selectable,locked:f.locked,grabbable:f.grabbable,pannable:f.pannable,classes:""},W=0;return f.classes.forEach(function(j){return z.classes+=0==W++?j:" "+j}),z}}},wi.jsons=function(){for(var u=[],o=0;o<this.length;o++){var f=this[o].json();u.push(f)}return u},wi.clone=function(){for(var u=this.cy(),o=[],l=0;l<this.length;l++){var h=this[l].json(),p=new Oe(u,h,!1);o.push(p)}return new fo(u,o)},wi.copy=wi.clone,wi.restore=function(){for(var _,u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,f=l.cy(),h=f._private,p=[],g=[],E=0,x=l.length;E<x;E++){var M=l[E];o&&!M.removed()||(M.isNode()?p.push(M):g.push(M))}_=p.concat(g);var F,z=function(){_.splice(F,1),F--};for(F=0;F<_.length;F++){var W=_[F],j=W._private,q=j.data;if(W.clearTraversalCache(),o||j.removed)if(void 0===q.id)q.id=ff();else if(Ze(q.id))q.id=""+q.id;else{if(Ft(q.id)||!Be(q.id)){ri("Can not create element with invalid string ID `"+q.id+"`"),z();continue}if(f.hasElementWithId(q.id)){ri("Can not create second element with ID `"+q.id+"`"),z();continue}}var J=q.id;if(W.isNode()){var re=j.position;null==re.x&&(re.x=0),null==re.y&&(re.y=0)}if(W.isEdge()){for(var fe=W,he=["source","target"],ve=he.length,Ie=!1,Ae=0;Ae<ve;Ae++){var ye=he[Ae],Me=q[ye];Ze(Me)&&(Me=q[ye]=""+q[ye]),null==Me||""===Me?(ri("Can not create edge `"+J+"` with unspecified "+ye),Ie=!0):f.hasElementWithId(Me)||(ri("Can not create edge `"+J+"` with nonexistant "+ye+" `"+Me+"`"),Ie=!0)}if(Ie){z();continue}var we=f.getElementById(q.source),ke=f.getElementById(q.target);we.same(ke)?we._private.edges.push(fe):(we._private.edges.push(fe),ke._private.edges.push(fe)),fe._private.source=we,fe._private.target=ke}j.map=new Tt,j.map.set(J,{ele:W,index:0}),j.removed=!1,o&&f.addToPool(W)}for(var Pe=0;Pe<p.length;Pe++){var xe=p[Pe],He=xe._private.data;Ze(He.parent)&&(He.parent=""+He.parent);var Ne=He.parent;if(null!=Ne||xe._private.parent){var Ue=xe._private.parent?f.collection().merge(xe._private.parent):f.getElementById(Ne);if(Ue.empty())He.parent=void 0;else if(Ue[0].removed())Mr("Node added with missing parent, reference to parent removed"),He.parent=void 0,xe._private.parent=null;else{for(var Ge=!1,ot=Ue;!ot.empty();){if(xe.same(ot)){Ge=!0,He.parent=void 0;break}ot=ot.parent()}Ge||(Ue[0]._private.children.push(xe),xe._private.parent=Ue[0],h.hasCompoundNodes=!0)}}}if(_.length>0){for(var ct=_.length===l.length?l:new fo(f,_),yt=0;yt<ct.length;yt++){var st=ct[yt];st.isNode()||(st.parallelEdges().clearTraversalCache(),st.source().clearTraversalCache(),st.target().clearTraversalCache())}(h.hasCompoundNodes?f.collection().merge(ct).merge(ct.connectedNodes()).merge(ct.parent()):ct).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(u),u?ct.emitAndNotify("add"):o&&ct.emit("add")}return l},wi.removed=function(){var u=this[0];return u&&u._private.removed},wi.inside=function(){var u=this[0];return u&&!u._private.removed},wi.remove=function(){var u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,f=[],h={},p=l._private.cy;function E(Ne){var qe=h[Ne.id()];o&&Ne.removed()||qe||(h[Ne.id()]=!0,Ne.isNode()?(f.push(Ne),function g(Ne){for(var qe=Ne._private.edges,Ue=0;Ue<qe.length;Ue++)E(qe[Ue])}(Ne),function _(Ne){for(var qe=Ne._private.children,Ue=0;Ue<qe.length;Ue++)E(qe[Ue])}(Ne)):f.unshift(Ne))}for(var x=0,M=l.length;x<M;x++)E(l[x]);function z(Ne,qe){$a(Ne._private.edges,qe),Ne.clearTraversalCache()}var j=[];function q(Ne,qe){qe=qe[0];var Ue=(Ne=Ne[0])._private.children,Ge=Ne.id();$a(Ue,qe),qe._private.parent=null,j.ids[Ge]||(j.ids[Ge]=!0,j.push(Ne))}j.ids={},l.dirtyCompoundBoundsCache(),o&&p.removeFromPool(f);for(var J=0;J<f.length;J++){var re=f[J];if(re.isEdge()){var fe=re.source()[0],he=re.target()[0];z(fe,re),z(he,re);for(var ve=re.parallelEdges(),Ie=0;Ie<ve.length;Ie++){var Ae=ve[Ie];Ae.clearTraversalCache(),Ae.isBundledBezier()&&Ae.dirtyBoundingBoxCache()}}else{var ye=re.parent();0!==ye.length&&q(ye,re)}o&&(re._private.removed=!0)}var Me=p._private.elements;p._private.hasCompoundNodes=!1;for(var we=0;we<Me.length;we++)if(Me[we].isParent()){p._private.hasCompoundNodes=!0;break}var Pe=new fo(this.cy(),f);Pe.size()>0&&(u?Pe.emitAndNotify("remove"):o&&Pe.emit("remove"));for(var xe=0;xe<j.length;xe++){var He=j[xe];(!o||!He.removed())&&He.updateStyle()}return Pe},wi.move=function(u){var o=this._private.cy,l=this,f=!1,h=!1,p=function(j){return null==j?j:""+j};if(void 0!==u.source||void 0!==u.target){var g=p(u.source),_=p(u.target),E=null!=g&&o.hasElementWithId(g),x=null!=_&&o.hasElementWithId(_);(E||x)&&(o.batch(function(){l.remove(f,h),l.emitAndNotify("moveout");for(var W=0;W<l.length;W++){var j=l[W],q=j._private.data;j.isEdge()&&(E&&(q.source=g),x&&(q.target=_))}l.restore(f,h)}),l.emitAndNotify("move"))}else if(void 0!==u.parent){var M=p(u.parent);if(null===M||o.hasElementWithId(M)){var z=null===M?void 0:M;o.batch(function(){var W=l.remove(f,h);W.emitAndNotify("moveout");for(var j=0;j<l.length;j++){var q=l[j],J=q._private.data;q.isNode()&&(J.parent=z)}W.restore(f,h)}),l.emitAndNotify("move")}}return this},[_o,hd,qa,Zl,gd,Mf,Eh,Mh,Sd,rl,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var o=this[0];if(o)return o._private.group}},xc,Bn,Vo,tu,Vn].forEach(function(u){Nn(wi,u)});var yy={add:function(o){var l,f=this;if(It(o)){var h=o;if(h._private.cy===f)l=h.restore();else{for(var p=[],g=0;g<h.length;g++)p.push(h[g].json());l=new fo(f,p)}}else if(ht(o))l=new fo(f,o);else if(Ke(o)&&(ht(o.nodes)||ht(o.edges))){for(var x=o,M=[],F=["nodes","edges"],z=0,W=F.length;z<W;z++){var j=F[z],q=x[j];if(ht(q))for(var J=0,re=q.length;J<re;J++){var fe=Nn({group:j},q[J]);M.push(fe)}}l=new fo(f,M)}else l=new Oe(f,o).collection();return l},remove:function(o){return It(o)||Be(o)&&(o=this.$(o)),o.remove()}};function Vp(u,o,l,f){var x=.1,M=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var F=0;F<4;++F)if("number"!=typeof arguments[F]||isNaN(arguments[F])||!isFinite(arguments[F]))return!1;u=Math.min(u,1),l=Math.min(l,1),u=Math.max(u,0),l=Math.max(l,0);var z=M?new Float32Array(11):new Array(11);function W(ke,Pe){return 1-3*Pe+3*ke}function j(ke,Pe){return 3*Pe-6*ke}function q(ke){return 3*ke}function J(ke,Pe,xe){return((W(Pe,xe)*ke+j(Pe,xe))*ke+q(Pe))*ke}function re(ke,Pe,xe){return 3*W(Pe,xe)*ke*ke+2*j(Pe,xe)*ke+q(Pe)}var Ae=!1;var Me=function(Pe){return Ae||function ye(){Ae=!0,(u!==o||l!==f)&&function he(){for(var ke=0;ke<11;++ke)z[ke]=J(ke*x,u,l)}()}(),u===o&&l===f?Pe:0===Pe?0:1===Pe?1:J(function Ie(ke){for(var Pe=0,xe=1;10!==xe&&z[xe]<=ke;++xe)Pe+=x;--xe;var qe=Pe+(ke-z[xe])/(z[xe+1]-z[xe])*x,Ue=re(qe,u,l);return Ue>=.001?function fe(ke,Pe){for(var xe=0;xe<4;++xe){var He=re(Pe,u,l);if(0===He)return Pe;Pe-=(J(Pe,u,l)-ke)/He}return Pe}(ke,qe):0===Ue?qe:function ve(ke,Pe,xe){var He,Ne,qe=0;do{(He=J(Ne=Pe+(xe-Pe)/2,u,l)-ke)>0?xe=Ne:Pe=Ne}while(Math.abs(He)>1e-7&&++qe<10);return Ne}(ke,Pe,Pe+x)}(Pe),o,f)};Me.getControlPoints=function(){return[{x:u,y:o},{x:l,y:f}]};var we="generateBezier("+[u,o,l,f]+")";return Me.toString=function(){return we},Me}var Wi=function(){function u(f){return-f.tension*f.x-f.friction*f.v}function o(f,h,p){var g={x:f.x+p.dx*h,v:f.v+p.dv*h,tension:f.tension,friction:f.friction};return{dx:g.v,dv:u(g)}}function l(f,h){var p={dx:f.v,dv:u(f)},g=o(f,.5*h,p),_=o(f,.5*h,g),E=o(f,h,_),M=1/6*(p.dv+2*(g.dv+_.dv)+E.dv);return f.x=f.x+1/6*(p.dx+2*(g.dx+_.dx)+E.dx)*h,f.v=f.v+M*h,f}return function f(h,p,g){var z,W,j,_={x:-1,v:0,tension:null,friction:null},E=[0],x=0,M=1e-4;for(h=parseFloat(h)||500,p=parseFloat(p)||20,g=g||null,_.tension=h,_.friction=p,W=(z=null!==g)?(x=f(h,p))/g*.016:.016;j=l(j||_,W),E.push(1+j.x),x+=16,Math.abs(j.x)>M&&Math.abs(j.v)>M;);return z?function(q){return E[q*(E.length-1)|0]}:x}}(),Dr=function(o,l,f,h){var p=Vp(o,l,f,h);return function(g,_,E){return g+(_-g)*p(E)}},nu={linear:function(o,l,f){return o+(l-o)*f},ease:Dr(.25,.1,.25,1),"ease-in":Dr(.42,0,1,1),"ease-out":Dr(0,0,.58,1),"ease-in-out":Dr(.42,0,.58,1),"ease-in-sine":Dr(.47,0,.745,.715),"ease-out-sine":Dr(.39,.575,.565,1),"ease-in-out-sine":Dr(.445,.05,.55,.95),"ease-in-quad":Dr(.55,.085,.68,.53),"ease-out-quad":Dr(.25,.46,.45,.94),"ease-in-out-quad":Dr(.455,.03,.515,.955),"ease-in-cubic":Dr(.55,.055,.675,.19),"ease-out-cubic":Dr(.215,.61,.355,1),"ease-in-out-cubic":Dr(.645,.045,.355,1),"ease-in-quart":Dr(.895,.03,.685,.22),"ease-out-quart":Dr(.165,.84,.44,1),"ease-in-out-quart":Dr(.77,0,.175,1),"ease-in-quint":Dr(.755,.05,.855,.06),"ease-out-quint":Dr(.23,1,.32,1),"ease-in-out-quint":Dr(.86,0,.07,1),"ease-in-expo":Dr(.95,.05,.795,.035),"ease-out-expo":Dr(.19,1,.22,1),"ease-in-out-expo":Dr(1,0,0,1),"ease-in-circ":Dr(.6,.04,.98,.335),"ease-out-circ":Dr(.075,.82,.165,1),"ease-in-out-circ":Dr(.785,.135,.15,.86),spring:function(o,l,f){if(0===f)return nu.linear;var h=Wi(o,l,f);return function(p,g,_){return p+(g-p)*h(_)}},"cubic-bezier":Dr};function Fs(u,o,l,f,h){if(1===f||o===l)return l;var p=h(o,l,f);return null==u||((u.roundValue||u.color)&&(p=Math.round(p)),void 0!==u.min&&(p=Math.max(p,u.min)),void 0!==u.max&&(p=Math.min(p,u.max))),p}function Uo(u,o){return null!=u.pfValue||null!=u.value?null==u.pfValue||null!=o&&"%"===o.type.units?u.value:u.pfValue:u}function Sc(u,o,l,f,h){var p=null!=h?h.type:null;l<0?l=0:l>1&&(l=1);var g=Uo(u,h),_=Uo(o,h);if(Ze(g)&&Ze(_))return Fs(p,g,_,l,f);if(ht(g)&&ht(_)){for(var E=[],x=0;x<_.length;x++){var M=g[x],F=_[x];if(null!=M&&null!=F){var z=Fs(p,M,F,l,f);E.push(z)}else E.push(F)}return E}}function Hp(u,o,l,f){var h=!f,p=u._private,g=o._private,_=g.easing,E=g.startTime,M=(f?u:u.cy()).style();if(!g.easingImpl)if(null==_)g.easingImpl=nu.linear;else{var F,W,j;F=Be(_)?M.parse("transition-timing-function",_).value:_,Be(F)?(W=F,j=[]):(W=F[1],j=F.slice(2).map(function(ct){return+ct})),j.length>0?("spring"===W&&j.push(g.duration),g.easingImpl=nu[W].apply(null,j)):g.easingImpl=nu[W]}var J,q=g.easingImpl;if(J=0===g.duration?1:(l-E)/g.duration,g.applying&&(J=g.progress),J<0?J=0:J>1&&(J=1),null==g.delay){var re=g.startPosition,fe=g.position;if(fe&&h&&!u.locked()){var he={};il(re.x,fe.x)&&(he.x=Sc(re.x,fe.x,J,q)),il(re.y,fe.y)&&(he.y=Sc(re.y,fe.y,J,q)),u.position(he)}var ve=g.startPan,Ie=g.pan,Ae=p.pan,ye=null!=Ie&&f;ye&&(il(ve.x,Ie.x)&&(Ae.x=Sc(ve.x,Ie.x,J,q)),il(ve.y,Ie.y)&&(Ae.y=Sc(ve.y,Ie.y,J,q)),u.emit("pan"));var Me=g.startZoom,we=g.zoom,ke=null!=we&&f;ke&&(il(Me,we)&&(p.zoom=Js(p.minZoom,Sc(Me,we,J,q),p.maxZoom)),u.emit("zoom")),(ye||ke)&&u.emit("viewport");var Pe=g.style;if(Pe&&Pe.length>0&&h){for(var xe=0;xe<Pe.length;xe++){var He=Pe[xe],Ne=He.name,Ue=g.startStyle[Ne],ot=Sc(Ue,He,J,q,M.properties[Ue.name]);M.overrideBypass(u,Ne,ot)}u.emit("style")}}return g.progress=J,J}function il(u,o){return!!(null!=u&&null!=o&&(Ze(u)&&Ze(o)||u&&o))}function zp(u,o,l,f){var h=o._private;h.started=!0,h.startTime=l-h.progress*h.duration}function Ad(u,o){var l=o._private.aniEles,f=[];function h(M,F){var z=M._private,W=z.animation.current,j=z.animation.queue,q=!1;if(0===W.length){var J=j.shift();J&&W.push(J)}for(var re=function(Ae){for(var ye=Ae.length-1;ye>=0;ye--)(0,Ae[ye])();Ae.splice(0,Ae.length)},fe=W.length-1;fe>=0;fe--){var he=W[fe],ve=he._private;ve.stopped?(W.splice(fe,1),ve.hooked=!1,ve.playing=!1,ve.started=!1,re(ve.frames)):!ve.playing&&!ve.applying||(ve.playing&&ve.applying&&(ve.applying=!1),ve.started||zp(0,he,u),Hp(M,he,u,F),ve.applying&&(ve.applying=!1),re(ve.frames),null!=ve.step&&ve.step(u),he.completed()&&(W.splice(fe,1),ve.hooked=!1,ve.playing=!1,ve.started=!1,re(ve.completes)),q=!0)}return!F&&0===W.length&&0===j.length&&f.push(M),q}for(var p=!1,g=0;g<l.length;g++){var E=h(l[g]);p=p||E}var x=h(o,!0);(p||x)&&(l.length>0?o.notify("draw",l):o.notify("draw")),l.unmerge(f),o.emit("step")}var Nf={animate:ur.animate(),animation:ur.animation(),animated:ur.animated(),clearQueue:ur.clearQueue(),delay:ur.delay(),delayAnimation:ur.delayAnimation(),stop:ur.stop(),addToAnimationPool:function(o){this.styleEnabled()&&this._private.aniEles.merge(o)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var o=this;if(o._private.animationsRunning=!0,o.styleEnabled()){var f=o.renderer();f&&f.beforeRender?f.beforeRender(function(p,g){Ad(g,o)},f.beforeRenderPriorities.animations):function l(){o._private.animationsRunning&&mu(function(p){Ad(p,o),l()})}()}}},Od={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,f){var h=l.qualifier;return null==h||o!==f.target&&mn(f.target)&&h.matches(f.target)},addEventFields:function(o,l){l.cy=o,l.target=o},callbackContext:function(o,l,f){return null!=l.qualifier?f.target:o}},Bs=function(o){return Be(o)?new Tu(o):o},Rf={createEmitter:function(){var o=this._private;return o.emitter||(o.emitter=new ji(Od,this)),this},emitter:function(){return this._private.emitter},on:function(o,l,f){return this.emitter().on(o,Bs(l),f),this},removeListener:function(o,l,f){return this.emitter().removeListener(o,Bs(l),f),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(o,l,f){return this.emitter().one(o,Bs(l),f),this},once:function(o,l,f){return this.emitter().one(o,Bs(l),f),this},emit:function(o,l){return this.emitter().emit(o,l),this},emitAndNotify:function(o,l){return this.emit(o),this.notify(o,l),this}};ur.eventAliasesOn(Rf);var Tc={png:function(o){return this._private.renderer.png(o=o||{})},jpg:function(o){var l=this._private.renderer;return(o=o||{}).bg=o.bg||"#fff",l.jpg(o)}};Tc.jpeg=Tc.jpg;var ru={layout:function(o){var l=this;if(null!=o)if(null!=o.name){var p,f=o.name,h=l.extension("layout",f);if(null!=h)return p=Be(o.eles)?l.$(o.eles):null!=o.eles?o.eles:l.$(),new h(Nn({},o,{cy:l,eles:p}));ri("No such layout `"+f+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else ri("A `name` must be specified to make a layout");else ri("Layout options must be specified to make a layout")}};ru.createLayout=ru.makeLayout=ru.layout;var Up={notify:function(o,l){var f=this._private;if(this.batching()){f.batchNotifications=f.batchNotifications||{};var h=f.batchNotifications[o]=f.batchNotifications[o]||this.collection();null!=l&&h.merge(l)}else if(f.notificationsEnabled){var p=this.renderer();this.destroyed()||!p||p.notify(o,l)}},notifications:function(o){var l=this._private;return void 0===o?l.notificationsEnabled:(l.notificationsEnabled=!!o,this)},noNotifications:function(o){this.notifications(!1),o(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var o=this._private;return null==o.batchCount&&(o.batchCount=0),0===o.batchCount&&(o.batchStyleEles=this.collection(),o.batchNotifications={}),o.batchCount++,this},endBatch:function(){var o=this._private;if(0===o.batchCount)return this;if(o.batchCount--,0===o.batchCount){o.batchStyleEles.updateStyle();var l=this.renderer();Object.keys(o.batchNotifications).forEach(function(f){var h=o.batchNotifications[f];h.empty()?l.notify(f):l.notify(f,h)})}return this},batch:function(o){return this.startBatch(),o(),this.endBatch(),this},batchData:function(o){var l=this;return this.batch(function(){for(var f=Object.keys(o),h=0;h<f.length;h++){var p=f[h],g=o[p];l.getElementById(p).data(g)}})}},Mc=li({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Nd={renderTo:function(o,l,f,h){return this._private.renderer.renderTo(o,l,f,h),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(o){var l=this,f=l.extension("renderer",o.name);if(null!=f){void 0!==o.wheelSensitivity&&Mr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var h=Mc(o);h.cy=l,l._private.renderer=new f(h),this.notify("init")}else ri("Can not initialise: No such renderer `".concat(o.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var o=this;o.notify("destroy");var l=o.container();if(l)for(l._cyreg=null;l.childNodes.length>0;)l.removeChild(l.childNodes[0]);o._private.renderer=null,o.mutableElements().forEach(function(f){var h=f._private;h.rscratch={},h.rstyle={},h.animation.current=[],h.animation.queue=[]})},onRender:function(o){return this.on("render",o)},offRender:function(o){return this.off("render",o)}};Nd.invalidateDimensions=Nd.resize;var Rd={collection:function(o,l){return Be(o)?this.$(o):It(o)?o.collection():ht(o)?(l||(l={}),new fo(this,o,l.unique,l.removed)):new fo(this)},nodes:function(o){var l=this.$(function(f){return f.isNode()});return o?l.filter(o):l},edges:function(o){var l=this.$(function(f){return f.isEdge()});return o?l.filter(o):l},$:function(o){var l=this._private.elements;return o?l.filter(o):l.spawnSelf()},mutableElements:function(){return this._private.elements}};Rd.elements=Rd.filter=Rd.$;var Eo={apply:function(u){for(var o=this,h=o._private.cy.collection(),p=0;p<u.length;p++){var g=u[p],_=o.getContextMeta(g);if(!_.empty){var E=o.getContextStyle(_),x=o.applyContextStyle(_,E,g);g._private.appliedInitStyle?o.updateTransitions(g,x.diffProps):g._private.appliedInitStyle=!0,o.updateStyleHints(g)&&h.push(g)}}return h},getPropertiesDiff:function(u,o){var l=this,f=l._private.propDiffs=l._private.propDiffs||{},h=u+"-"+o,p=f[h];if(p)return p;for(var g=[],_={},E=0;E<l.length;E++){var x=l[E],F="t"===o[E],z="t"===u[E]!==F,W=x.mappedProperties.length>0;if(z||F&&W){var j=void 0;z&&W||z?j=x.properties:W&&(j=x.mappedProperties);for(var q=0;q<j.length;q++){for(var J=j[q],re=J.name,fe=!1,he=E+1;he<l.length&&("t"!==o[he]||!(fe=null!=l[he].properties[J.name]));he++);!_[re]&&!fe&&(_[re]=!0,g.push(re))}}}return f[h]=g,g},getContextMeta:function(u){for(var f,o=this,l="",h=u._private.styleCxtKey||"",p=0;p<o.length;p++){var g=o[p];l+=g.selector&&g.selector.matches(u)?"t":"f"}return f=o.getPropertiesDiff(h,l),u._private.styleCxtKey=l,{key:l,diffPropNames:f,empty:0===f.length}},getContextStyle:function(u){var o=u.key,f=this._private.contextStyles=this._private.contextStyles||{};if(f[o])return f[o];for(var h={_private:{key:o}},p=0;p<this.length;p++){var g=this[p];if("t"===o[p])for(var E=0;E<g.properties.length;E++){var x=g.properties[E];h[x.name]=x}}return f[o]=h,h},applyContextStyle:function(u,o,l){for(var h=u.diffPropNames,p={},g=this.types,_=0;_<h.length;_++){var E=h[_],x=o[E],M=l.pstyle(E);if(!x){if(!M)continue;x=M.bypass?{name:E,deleteBypassed:!0}:{name:E,delete:!0}}if(M!==x){if(x.mapped===g.fn&&null!=M&&null!=M.mapping&&M.mapping.value===x.value){var F=M.mapping;if((F.fnValue=x.value(l))===F.prevFnValue)continue}var W=p[E]={prev:M};this.applyParsedProperty(l,x),W.next=l.pstyle(E),W.next&&W.next.bypass&&(W.next=W.next.bypassed)}}return{diffProps:p}},updateStyleHints:function(u){var f,o=u._private,l=this,h=l.propertyGroupKeys,p=function($t,rn,Xn){return l.getPropertiesHash($t,rn,Xn)},g=o.styleKey;if(u.removed())return!1;var $t,_="nodes"===o.group,E=u._private.style;f=Object.keys(E);for(var x=0;x<h.length;x++)o.styleKeys[h[x]]=[Ma,Zs];for(var F=function($t,rn){return o.styleKeys[rn][0]=Ia($t,o.styleKeys[rn][0])},z=function($t,rn){return o.styleKeys[rn][1]=qs($t,o.styleKeys[rn][1])},W=function($t,rn){F($t,rn),z($t,rn)},j=function($t,rn){for(var Xn=0;Xn<$t.length;Xn++){var ar=$t.charCodeAt(Xn);F(ar,rn),z(ar,rn)}},re=0;re<f.length;re++){var fe=f[re],he=E[fe];if(null!=he){var ve=this.properties[fe],Ie=ve.type,Ae=ve.groupKey,ye=void 0;null!=ve.hashOverride?ye=ve.hashOverride(u,he):null!=he.pfValue&&(ye=he.pfValue);var Me=null==ve.enums?he.value:null,we=null!=ye,xe=he.units;!Ie.number||!we&&null==Me||Ie.multiple?j(he.strValue,Ae):(W(-128<($t=we?ye:Me)&&$t<128&&Math.floor($t)!==$t?2e9-(1024*$t|0):$t,Ae),!we&&null!=xe&&j(xe,Ae))}}for(var Ne=[Ma,Zs],qe=0;qe<h.length;qe++){var Ge=o.styleKeys[h[qe]];Ne[0]=Ia(Ge[0],Ne[0]),Ne[1]=qs(Ge[1],Ne[1])}o.styleKey=function(o,l){return 2097152*o+l}(Ne[0],Ne[1]);var ot=o.styleKeys;o.labelDimsKey=as(ot.labelDimensions);var ct=p(u,["label"],ot.labelDimensions);if(o.labelKey=as(ct),o.labelStyleKey=as(Aa(ot.commonLabel,ct)),!_){var yt=p(u,["source-label"],ot.labelDimensions);o.sourceLabelKey=as(yt),o.sourceLabelStyleKey=as(Aa(ot.commonLabel,yt));var st=p(u,["target-label"],ot.labelDimensions);o.targetLabelKey=as(st),o.targetLabelStyleKey=as(Aa(ot.commonLabel,st))}if(_){var vt=o.styleKeys,tt=vt.pie,Mt=[vt.nodeBody,vt.nodeBorder,vt.backgroundImage,vt.compound,tt].filter(function(Nt){return null!=Nt}).reduce(Aa,[Ma,Zs]);o.nodeKey=as(Mt),o.hasPie=null!=tt&&tt[0]!==Ma&&tt[1]!==Zs}return g!==o.styleKey},clearStyleHints:function(u){var o=u._private;o.styleCxtKey="",o.styleKeys={},o.styleKey=null,o.labelKey=null,o.labelStyleKey=null,o.sourceLabelKey=null,o.sourceLabelStyleKey=null,o.targetLabelKey=null,o.targetLabelStyleKey=null,o.nodeKey=null,o.hasPie=null},applyParsedProperty:function(u,o){var p,l=this,f=o,h=u._private.style,g=l.types,_=l.properties[f.name].type,E=f.bypass,x=h[f.name],M=x&&x.bypass,F=u._private,z="mapping",W=function(At){return null==At?null:null!=At.pfValue?At.pfValue:At.value},j=function(){var At=W(x),Ot=W(f);l.checkTriggers(u,f.name,At,Ot)};if(f&&"pie"===f.name.substr(0,3)&&Mr("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===o.name&&u.isEdge()&&("bezier"!==o.value&&u.isLoop()||"haystack"===o.value&&(u.source().isParent()||u.target().isParent()))&&(f=o=this.parse(o.name,"bezier",E)),f.delete)return h[f.name]=void 0,j(),!0;if(f.deleteBypassed)return x?!!x.bypass&&(x.bypassed=void 0,j(),!0):(j(),!0);if(f.deleteBypass)return x?!!x.bypass&&(h[f.name]=x.bypassed,j(),!0):(j(),!0);var q=function(){Mr("Do not assign mappings to elements without corresponding data (i.e. ele `"+u.id()+"` has no mapping for property `"+f.name+"` with data field `"+f.field+"`); try a `["+f.field+"]` selector to limit scope to elements with `"+f.field+"` defined")};switch(f.mapped){case g.mapData:for(var J=f.field.split("."),re=F.data,fe=0;fe<J.length&&re;fe++)re=re[J[fe]];if(null==re)return q(),!1;var ve;if(!Ze(re))return Mr("Do not use continuous mappers without specifying numeric data (i.e. `"+f.field+": "+re+"` for `"+u.id()+"` is non-numeric)"),!1;var Ie=f.fieldMax-f.fieldMin;if((ve=0===Ie?0:(re-f.fieldMin)/Ie)<0?ve=0:ve>1&&(ve=1),_.color){var Ae=f.valueMin[0],Me=f.valueMin[1],we=f.valueMax[1],ke=f.valueMin[2],Pe=f.valueMax[2],xe=null==f.valueMin[3]?1:f.valueMin[3],He=null==f.valueMax[3]?1:f.valueMax[3],Ne=[Math.round(Ae+(f.valueMax[0]-Ae)*ve),Math.round(Me+(we-Me)*ve),Math.round(ke+(Pe-ke)*ve),Math.round(xe+(He-xe)*ve)];p={bypass:f.bypass,name:f.name,value:Ne,strValue:"rgb("+Ne[0]+", "+Ne[1]+", "+Ne[2]+")"}}else{if(!_.number)return!1;p=this.parse(f.name,f.valueMin+(f.valueMax-f.valueMin)*ve,f.bypass,z)}if(!p)return q(),!1;p.mapping=f,f=p;break;case g.data:for(var Ue=f.field.split("."),Ge=F.data,ot=0;ot<Ue.length&&Ge;ot++)Ge=Ge[Ue[ot]];if(null!=Ge&&(p=this.parse(f.name,Ge,f.bypass,z)),!p)return q(),!1;p.mapping=f,f=p;break;case g.fn:var st=null!=f.fnValue?f.fnValue:(0,f.value)(u);if(f.prevFnValue=st,null==st)return Mr("Custom function mappers may not return null (i.e. `"+f.name+"` for ele `"+u.id()+"` is null)"),!1;if(!(p=this.parse(f.name,st,f.bypass,z)))return Mr("Custom function mappers may not return invalid values for the property type (i.e. `"+f.name+"` for ele `"+u.id()+"` is invalid)"),!1;p.mapping=ki(f),f=p;break;case void 0:break;default:return!1}return E?(f.bypassed=M?x.bypassed:x,h[f.name]=f):M?x.bypassed=f:h[f.name]=f,j(),!0},cleanElements:function(u,o){for(var l=0;l<u.length;l++){var f=u[l];if(this.clearStyleHints(f),f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),o)for(var h=f._private.style,p=Object.keys(h),g=0;g<p.length;g++){var _=p[g],E=h[_];null!=E&&(E.bypass?E.bypassed=null:h[_]=null)}else f._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(u,o){var l=this,f=u._private,h=u.pstyle("transition-property").value,p=u.pstyle("transition-duration").pfValue,g=u.pstyle("transition-delay").pfValue;if(h.length>0&&p>0){for(var _={},E=!1,x=0;x<h.length;x++){var M=h[x],F=u.pstyle(M),z=o[M];if(z){var j=z.prev,q=null!=z.next?z.next:F,J=!1,re=void 0;j&&(Ze(j.pfValue)&&Ze(q.pfValue)?re=j.pfValue+1e-6*(J=q.pfValue-j.pfValue):Ze(j.value)&&Ze(q.value)?re=j.value+1e-6*(J=q.value-j.value):ht(j.value)&&ht(q.value)&&(J=j.value[0]!==q.value[0]||j.value[1]!==q.value[1]||j.value[2]!==q.value[2],re=j.strValue),J&&(_[M]=q.strValue,this.applyBypass(u,M,re),E=!0))}}if(!E)return;f.transitioning=!0,new fs(function(he){g>0?u.delayAnimation(g).play().promise().then(he):he()}).then(function(){return u.animation({style:_,duration:p,easing:u.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){l.removeBypasses(u,h),u.emitAndNotify("style"),f.transitioning=!1})}else f.transitioning&&(this.removeBypasses(u,h),u.emitAndNotify("style"),f.transitioning=!1)},checkTrigger:function(u,o,l,f,h,p){var g=this.properties[o],_=h(g);null!=_&&_(l,f)&&p(g)},checkZOrderTrigger:function(u,o,l,f){var h=this;this.checkTrigger(u,o,l,f,function(p){return p.triggersZOrder},function(){h._private.cy.notify("zorder",u)})},checkBoundsTrigger:function(u,o,l,f){this.checkTrigger(u,o,l,f,function(h){return h.triggersBounds},function(h){u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),h.triggersBoundsOfParallelBeziers&&("curve-style"===o&&("bezier"===l||"bezier"===f)||"display"===o&&("none"===l||"none"===f))&&u.parallelEdges().forEach(function(p){p.isBundledBezier()&&p.dirtyBoundingBoxCache()})})},checkTriggers:function(u,o,l,f){u.dirtyStyleCache(),this.checkZOrderTrigger(u,o,l,f),this.checkBoundsTrigger(u,o,l,f)}},Do={applyBypass:function(u,o,l,f){var p=[];if("*"===o||"**"===o){if(void 0!==l)for(var _=0;_<this.properties.length;_++){var M=this.parse(this.properties[_].name,l,!0);M&&p.push(M)}}else if(Be(o)){var F=this.parse(o,l,!0);F&&p.push(F)}else{if(!Ke(o))return!1;var z=o;f=l;for(var W=Object.keys(z),j=0;j<W.length;j++){var q=W[j],J=z[q];if(void 0===J&&(J=z[_n(q)]),void 0!==J){var re=this.parse(q,J,!0);re&&p.push(re)}}}if(0===p.length)return!1;for(var fe=!1,he=0;he<u.length;he++){for(var ve=u[he],Ie={},Ae=void 0,ye=0;ye<p.length;ye++){var Me=p[ye];if(f){var we=ve.pstyle(Me.name);Ae=Ie[Me.name]={prev:we}}fe=this.applyParsedProperty(ve,ki(Me))||fe,f&&(Ae.next=ve.pstyle(Me.name))}fe&&this.updateStyleHints(ve),f&&this.updateTransitions(ve,Ie,!0)}return fe},overrideBypass:function(u,o,l){o=Cr(o);for(var f=0;f<u.length;f++){var h=u[f],p=h._private.style[o],g=this.properties[o].type,_=g.color,E=g.mutiple,x=p?null!=p.pfValue?p.pfValue:p.value:null;p&&p.bypass?(p.value=l,null!=p.pfValue&&(p.pfValue=l),p.strValue=_?"rgb("+l.join(",")+")":E?l.join(" "):""+l,this.updateStyleHints(h)):this.applyBypass(h,o,l),this.checkTriggers(h,o,x,l)}},removeAllBypasses:function(u,o){return this.removeBypasses(u,this.propertyNames,o)},removeBypasses:function(u,o,l){for(var h=0;h<u.length;h++){for(var p=u[h],g={},_=0;_<o.length;_++){var E=o[_],x=this.properties[E],M=p.pstyle(x.name);if(M&&M.bypass){var z=this.parse(E,"",!0),W=g[x.name]={prev:M};this.applyParsedProperty(p,z),W.next=p.pstyle(x.name)}}this.updateStyleHints(p),l&&this.updateTransitions(p,g,!0)}}},ts={getEmSizeInPixels:function(){var u=this.containerCss("font-size");return null!=u?parseFloat(u):1},containerCss:function(u){var l=this._private.cy.container();if(oe&&l&&oe.getComputedStyle)return oe.getComputedStyle(l).getPropertyValue(u)}},Hr={getRenderedStyle:function(u,o){return o?this.getStylePropertyValue(u,o,!0):this.getRawStyle(u,!0)},getRawStyle:function(u,o){var l=this;if(u=u[0]){for(var f={},h=0;h<l.properties.length;h++){var p=l.properties[h],g=l.getStylePropertyValue(u,p.name,o);null!=g&&(f[p.name]=g,f[_n(p.name)]=g)}return f}},getIndexedStyle:function(u,o,l,f){return u.pstyle(o)[l][f]??u.cy().style().getDefaultProperty(o)[l][0]},getStylePropertyValue:function(u,o,l){if(u=u[0]){var h=this.properties[o];h.alias&&(h=h.pointsTo);var p=h.type,g=u.pstyle(h.name);if(g){var _=g.value,E=g.units,x=g.strValue;if(l&&p.number&&null!=_&&Ze(_)){var M=u.cy().zoom(),F=function(J){return J*M},z=function(J,re){return F(J)+re},W=ht(_);return(W?E.every(function(q){return null!=q}):null!=E)?W?_.map(function(q,J){return z(q,E[J])}).join(" "):z(_,E):W?_.map(function(q){return Be(q)?q:""+F(q)}).join(" "):""+F(_)}if(null!=x)return x}return null}},getAnimationStartStyle:function(u,o){for(var l={},f=0;f<o.length;f++){var p=o[f].name,g=u.pstyle(p);void 0!==g&&(g=Ke(g)?this.parse(p,g.strValue):this.parse(p,g)),g&&(l[p]=g)}return l},getPropsList:function(u){var l=[],f=u,h=this.properties;if(f)for(var p=Object.keys(f),g=0;g<p.length;g++){var _=p[g],E=f[_],x=h[_]||h[Cr(_)],M=this.parse(x.name,E);M&&l.push(M)}return l},getNonDefaultPropertiesHash:function(u,o,l){var p,g,_,E,x,f=l.slice();for(E=0;E<o.length;E++)if(null!=(p=u.pstyle(o[E],!1)))if(null!=p.pfValue)f[0]=Ia(_,f[0]),f[1]=qs(_,f[1]);else for(g=p.strValue,x=0;x<g.length;x++)_=g.charCodeAt(x),f[0]=Ia(_,f[0]),f[1]=qs(_,f[1]);return f}};Hr.getPropertiesHash=Hr.getNonDefaultPropertiesHash;var kd={appendFromJson:function(u){for(var o=this,l=0;l<u.length;l++){var f=u[l],h=f.selector,p=f.style||f.css,g=Object.keys(p);o.selector(h);for(var _=0;_<g.length;_++){var E=g[_];o.css(E,p[E])}}return o},fromJson:function(u){var o=this;return o.resetToDefault(),o.appendFromJson(u),o},json:function(){for(var u=[],o=this.defaultLength;o<this.length;o++){for(var l=this[o],f=l.selector,h=l.properties,p={},g=0;g<h.length;g++){var _=h[g];p[_.name]=_.strValue}u.push({selector:f?f.toString():"core",style:p})}return u}},Rh={appendFromString:function(u){var h,p,g,l=this,f=""+u;function _(){f=f.length>h.length?f.substr(h.length):""}function E(){p=p.length>g.length?p.substr(g.length):""}for(f=f.replace(/[/][*](\s|.)+?[*][/]/g,"");!f.match(/^\s*$/);){var M=f.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!M){Mr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+f);break}h=M[0];var F=M[1];if("core"!==F&&new Tu(F).invalid)Mr("Skipping parsing of block: Invalid selector found in string stylesheet: "+F),_();else{var W=M[2],j=!1;p=W;for(var q=[];!p.match(/^\s*$/);){var re=p.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!re){Mr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+W),j=!0;break}g=re[0];var fe=re[1],he=re[2];this.properties[fe]?l.parse(fe,he)?(q.push({name:fe,val:he}),E()):(Mr("Skipping property: Invalid property definition in: "+g),E()):(Mr("Skipping property: Invalid property name in: "+g),E())}if(j){_();break}l.selector(F);for(var Ae=0;Ae<q.length;Ae++){var ye=q[Ae];l.css(ye.name,ye.val)}_()}}return l},fromString:function(u){var o=this;return o.resetToDefault(),o.appendFromString(u),o}},So={};(function(){var u=dn,o=ro,l=Bi,p=function(Mt){return"^"+Mt+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},g=function(Mt){var Nt=u+"|\\w+|"+o+"|"+l+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Mt+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+u+")\\s*\\,\\s*("+u+")\\s*,\\s*("+Nt+")\\s*\\,\\s*("+Nt+")\\)$"},_=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];So.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:p("data")},layoutData:{mapping:!0,regex:p("layoutData")},scratch:{mapping:!0,regex:p("scratch")},mapData:{mapping:!0,regex:g("mapData")},mapLayoutData:{mapping:!0,regex:g("mapLayoutData")},mapScratch:{mapping:!0,regex:g("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:_,singleRegexMatchValue:!0},urls:{regexes:_,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Mt,Nt){switch(Mt.length){case 2:return"deg"!==Nt[0]&&"rad"!==Nt[0]&&"deg"!==Nt[1]&&"rad"!==Nt[1];case 1:return Be(Mt[0])||"deg"===Nt[0]||"rad"===Nt[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+u+")\\s*,\\s*("+u+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+u+")\\s*,\\s*("+u+")\\s*,\\s*("+u+")\\s*,\\s*("+u+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Mt){var Nt=Mt.length;return 1===Nt||2===Nt||4===Nt}}};var E={zeroNonZero:function(Mt,Nt){return(null==Mt||null==Nt)&&Mt!==Nt||0==Mt&&0!=Nt||0!=Mt&&0==Nt},any:function(Mt,Nt){return Mt!=Nt},emptyNonEmpty:function(Mt,Nt){var $t=Ft(Mt),rn=Ft(Nt);return $t&&!rn||!$t&&rn}},x=So.types,M=[{name:"label",type:x.text,triggersBounds:E.any,triggersZOrder:E.emptyNonEmpty},{name:"text-rotation",type:x.textRotation,triggersBounds:E.any},{name:"text-margin-x",type:x.bidirectionalSize,triggersBounds:E.any},{name:"text-margin-y",type:x.bidirectionalSize,triggersBounds:E.any}],F=[{name:"source-label",type:x.text,triggersBounds:E.any},{name:"source-text-rotation",type:x.textRotation,triggersBounds:E.any},{name:"source-text-margin-x",type:x.bidirectionalSize,triggersBounds:E.any},{name:"source-text-margin-y",type:x.bidirectionalSize,triggersBounds:E.any},{name:"source-text-offset",type:x.size,triggersBounds:E.any}],z=[{name:"target-label",type:x.text,triggersBounds:E.any},{name:"target-text-rotation",type:x.textRotation,triggersBounds:E.any},{name:"target-text-margin-x",type:x.bidirectionalSize,triggersBounds:E.any},{name:"target-text-margin-y",type:x.bidirectionalSize,triggersBounds:E.any},{name:"target-text-offset",type:x.size,triggersBounds:E.any}],W=[{name:"font-family",type:x.fontFamily,triggersBounds:E.any},{name:"font-style",type:x.fontStyle,triggersBounds:E.any},{name:"font-weight",type:x.fontWeight,triggersBounds:E.any},{name:"font-size",type:x.size,triggersBounds:E.any},{name:"text-transform",type:x.textTransform,triggersBounds:E.any},{name:"text-wrap",type:x.textWrap,triggersBounds:E.any},{name:"text-overflow-wrap",type:x.textOverflowWrap,triggersBounds:E.any},{name:"text-max-width",type:x.size,triggersBounds:E.any},{name:"text-outline-width",type:x.size,triggersBounds:E.any},{name:"line-height",type:x.positiveNumber,triggersBounds:E.any}],j=[{name:"text-valign",type:x.valign,triggersBounds:E.any},{name:"text-halign",type:x.halign,triggersBounds:E.any},{name:"color",type:x.color},{name:"text-outline-color",type:x.color},{name:"text-outline-opacity",type:x.zeroOneNumber},{name:"text-background-color",type:x.color},{name:"text-background-opacity",type:x.zeroOneNumber},{name:"text-background-padding",type:x.size,triggersBounds:E.any},{name:"text-border-opacity",type:x.zeroOneNumber},{name:"text-border-color",type:x.color},{name:"text-border-width",type:x.size,triggersBounds:E.any},{name:"text-border-style",type:x.borderStyle,triggersBounds:E.any},{name:"text-background-shape",type:x.textBackgroundShape,triggersBounds:E.any},{name:"text-justification",type:x.justification}],q=[{name:"events",type:x.bool},{name:"text-events",type:x.bool}],J=[{name:"display",type:x.display,triggersZOrder:E.any,triggersBounds:E.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:x.visibility,triggersZOrder:E.any},{name:"opacity",type:x.zeroOneNumber,triggersZOrder:E.zeroNonZero},{name:"text-opacity",type:x.zeroOneNumber},{name:"min-zoomed-font-size",type:x.size},{name:"z-compound-depth",type:x.zCompoundDepth,triggersZOrder:E.any},{name:"z-index-compare",type:x.zIndexCompare,triggersZOrder:E.any},{name:"z-index",type:x.nonNegativeInt,triggersZOrder:E.any}],re=[{name:"overlay-padding",type:x.size,triggersBounds:E.any},{name:"overlay-color",type:x.color},{name:"overlay-opacity",type:x.zeroOneNumber,triggersBounds:E.zeroNonZero},{name:"overlay-shape",type:x.overlayShape,triggersBounds:E.any}],fe=[{name:"underlay-padding",type:x.size,triggersBounds:E.any},{name:"underlay-color",type:x.color},{name:"underlay-opacity",type:x.zeroOneNumber,triggersBounds:E.zeroNonZero},{name:"underlay-shape",type:x.overlayShape,triggersBounds:E.any}],he=[{name:"transition-property",type:x.propList},{name:"transition-duration",type:x.time},{name:"transition-delay",type:x.time},{name:"transition-timing-function",type:x.easing}],ve=function(Mt,Nt){return"label"===Nt.value?-Mt.poolIndex():Nt.pfValue},Ie=[{name:"height",type:x.nodeSize,triggersBounds:E.any,hashOverride:ve},{name:"width",type:x.nodeSize,triggersBounds:E.any,hashOverride:ve},{name:"shape",type:x.nodeShape,triggersBounds:E.any},{name:"shape-polygon-points",type:x.polygonPointList,triggersBounds:E.any},{name:"background-color",type:x.color},{name:"background-fill",type:x.fill},{name:"background-opacity",type:x.zeroOneNumber},{name:"background-blacken",type:x.nOneOneNumber},{name:"background-gradient-stop-colors",type:x.colors},{name:"background-gradient-stop-positions",type:x.percentages},{name:"background-gradient-direction",type:x.gradientDirection},{name:"padding",type:x.sizeMaybePercent,triggersBounds:E.any},{name:"padding-relative-to",type:x.paddingRelativeTo,triggersBounds:E.any},{name:"bounds-expansion",type:x.boundsExpansion,triggersBounds:E.any}],Ae=[{name:"border-color",type:x.color},{name:"border-opacity",type:x.zeroOneNumber},{name:"border-width",type:x.size,triggersBounds:E.any},{name:"border-style",type:x.borderStyle}],ye=[{name:"background-image",type:x.urls},{name:"background-image-crossorigin",type:x.bgCrossOrigin},{name:"background-image-opacity",type:x.zeroOneNumbers},{name:"background-image-containment",type:x.bgContainment},{name:"background-image-smoothing",type:x.bools},{name:"background-position-x",type:x.bgPos},{name:"background-position-y",type:x.bgPos},{name:"background-width-relative-to",type:x.bgRelativeTo},{name:"background-height-relative-to",type:x.bgRelativeTo},{name:"background-repeat",type:x.bgRepeat},{name:"background-fit",type:x.bgFit},{name:"background-clip",type:x.bgClip},{name:"background-width",type:x.bgWH},{name:"background-height",type:x.bgWH},{name:"background-offset-x",type:x.bgPos},{name:"background-offset-y",type:x.bgPos}],Me=[{name:"position",type:x.position,triggersBounds:E.any},{name:"compound-sizing-wrt-labels",type:x.compoundIncludeLabels,triggersBounds:E.any},{name:"min-width",type:x.size,triggersBounds:E.any},{name:"min-width-bias-left",type:x.sizeMaybePercent,triggersBounds:E.any},{name:"min-width-bias-right",type:x.sizeMaybePercent,triggersBounds:E.any},{name:"min-height",type:x.size,triggersBounds:E.any},{name:"min-height-bias-top",type:x.sizeMaybePercent,triggersBounds:E.any},{name:"min-height-bias-bottom",type:x.sizeMaybePercent,triggersBounds:E.any}],we=[{name:"line-style",type:x.lineStyle},{name:"line-color",type:x.color},{name:"line-fill",type:x.fill},{name:"line-cap",type:x.lineCap},{name:"line-opacity",type:x.zeroOneNumber},{name:"line-dash-pattern",type:x.numbers},{name:"line-dash-offset",type:x.number},{name:"line-gradient-stop-colors",type:x.colors},{name:"line-gradient-stop-positions",type:x.percentages},{name:"curve-style",type:x.curveStyle,triggersBounds:E.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:x.zeroOneNumber,triggersBounds:E.any},{name:"source-endpoint",type:x.edgeEndpoint,triggersBounds:E.any},{name:"target-endpoint",type:x.edgeEndpoint,triggersBounds:E.any},{name:"control-point-step-size",type:x.size,triggersBounds:E.any},{name:"control-point-distances",type:x.bidirectionalSizes,triggersBounds:E.any},{name:"control-point-weights",type:x.numbers,triggersBounds:E.any},{name:"segment-distances",type:x.bidirectionalSizes,triggersBounds:E.any},{name:"segment-weights",type:x.numbers,triggersBounds:E.any},{name:"taxi-turn",type:x.bidirectionalSizeMaybePercent,triggersBounds:E.any},{name:"taxi-turn-min-distance",type:x.size,triggersBounds:E.any},{name:"taxi-direction",type:x.axisDirection,triggersBounds:E.any},{name:"edge-distances",type:x.edgeDistances,triggersBounds:E.any},{name:"arrow-scale",type:x.positiveNumber,triggersBounds:E.any},{name:"loop-direction",type:x.angle,triggersBounds:E.any},{name:"loop-sweep",type:x.angle,triggersBounds:E.any},{name:"source-distance-from-node",type:x.size,triggersBounds:E.any},{name:"target-distance-from-node",type:x.size,triggersBounds:E.any}],ke=[{name:"ghost",type:x.bool,triggersBounds:E.any},{name:"ghost-offset-x",type:x.bidirectionalSize,triggersBounds:E.any},{name:"ghost-offset-y",type:x.bidirectionalSize,triggersBounds:E.any},{name:"ghost-opacity",type:x.zeroOneNumber}],Pe=[{name:"selection-box-color",type:x.color},{name:"selection-box-opacity",type:x.zeroOneNumber},{name:"selection-box-border-color",type:x.color},{name:"selection-box-border-width",type:x.size},{name:"active-bg-color",type:x.color},{name:"active-bg-opacity",type:x.zeroOneNumber},{name:"active-bg-size",type:x.size},{name:"outside-texture-bg-color",type:x.color},{name:"outside-texture-bg-opacity",type:x.zeroOneNumber}],xe=[];So.pieBackgroundN=16,xe.push({name:"pie-size",type:x.sizeMaybePercent});for(var He=1;He<=So.pieBackgroundN;He++)xe.push({name:"pie-"+He+"-background-color",type:x.color}),xe.push({name:"pie-"+He+"-background-size",type:x.percent}),xe.push({name:"pie-"+He+"-background-opacity",type:x.zeroOneNumber});var Ne=[],qe=So.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:x.arrowShape,triggersBounds:E.any},{name:"arrow-color",type:x.color},{name:"arrow-fill",type:x.arrowFill}].forEach(function(tt){qe.forEach(function(Mt){Ne.push({name:Mt+"-"+tt.name,type:tt.type,triggersBounds:tt.triggersBounds})})},{});var Ue=So.properties=[].concat(q,he,J,re,fe,ke,j,W,M,F,z,Ie,Ae,ye,xe,Me,we,Ne,Pe),Ge=So.propertyGroups={behavior:q,transition:he,visibility:J,overlay:re,underlay:fe,ghost:ke,commonLabel:j,labelDimensions:W,mainLabel:M,sourceLabel:F,targetLabel:z,nodeBody:Ie,nodeBorder:Ae,backgroundImage:ye,pie:xe,compound:Me,edgeLine:we,edgeArrow:Ne,core:Pe},ot=So.propertyGroupNames={};(So.propertyGroupKeys=Object.keys(Ge)).forEach(function(tt){ot[tt]=Ge[tt].map(function(Mt){return Mt.name}),Ge[tt].forEach(function(Mt){return Mt.groupKey=tt})});var yt=So.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];So.propertyNames=Ue.map(function(tt){return tt.name});for(var st=0;st<Ue.length;st++){var vt=Ue[st];Ue[vt.name]=vt}for(var At=0;At<yt.length;At++){var Ot=yt[At],_t={name:Ot.name,alias:!0,pointsTo:Ue[Ot.pointsTo]};Ue.push(_t),Ue[Ot.name]=_t}})(),So.getDefaultProperty=function(u){return this.getDefaultProperties()[u]},So.getDefaultProperties=function(){var u=this._private;if(null!=u.defaultProperties)return u.defaultProperties;for(var o=Nn({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(E,x){for(var M=1;M<=So.pieBackgroundN;M++)E[x.name.replace("{{i}}",M)]=x.value;return E},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(E,x){return So.arrowPrefixes.forEach(function(M){E[M+"-"+x.name]=x.value}),E},{})),l={},f=0;f<this.properties.length;f++){var h=this.properties[f];if(!h.pointsTo){var p=h.name,_=this.parse(p,o[p]);l[p]=_}}return u.defaultProperties=l,u.defaultProperties},So.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Pd={parse:function(u,o,l,f){var h=this;if(at(o))return h.parseImplWarn(u,o,l,f);var M,E=td(u,""+o,l?"t":"f","mapping"===f||!0===f||!1===f||null==f?"dontcare":f),x=h.propCache=h.propCache||[];return(M=x[E])||(M=x[E]=h.parseImplWarn(u,o,l,f)),(l||"mapping"===f)&&(M=ki(M))&&(M.value=ki(M.value)),M},parseImplWarn:function(u,o,l,f){var h=this.parseImpl(u,o,l,f);return!h&&null!=o&&Mr("The style property `".concat(u,": ").concat(o,"` is invalid")),h&&("width"===h.name||"height"===h.name)&&"label"===o&&Mr("The style value of `label` is deprecated for `"+h.name+"`"),h}};Pd.parseImpl=function(u,o,l,f){var h=this;u=Cr(u);var p=h.properties[u],g=o,_=h.types;if(!p||void 0===o)return null;p.alias&&(u=(p=p.pointsTo).name);var E=Be(o);E&&(o=o.trim());var M,F,x=p.type;if(!x)return null;if(l&&(""===o||null===o))return{name:u,value:o,bypass:!0,deleteBypass:!0};if(at(o))return{name:u,value:o,strValue:"fn",mapped:_.fn,bypass:l};if(!(!E||f||o.length<7||"a"!==o[1])){if(o.length>=7&&"d"===o[0]&&(M=new RegExp(_.data.regex).exec(o)))return!l&&{name:u,value:M,strValue:""+o,mapped:_.data,field:M[1],bypass:l};if(o.length>=10&&"m"===o[0]&&(F=new RegExp(_.mapData.regex).exec(o))){if(l||x.multiple)return!1;var W=_.mapData;if(!x.color&&!x.number)return!1;var j=this.parse(u,F[4]);if(!j||j.mapped)return!1;var q=this.parse(u,F[5]);if(!q||q.mapped)return!1;if(j.pfValue===q.pfValue||j.strValue===q.strValue)return Mr("`"+u+": "+o+"` is not a valid mapper because the output range is zero; converting to `"+u+": "+j.strValue+"`"),this.parse(u,j.strValue);if(x.color){var J=j.value,re=q.value;if(!(J[0]!==re[0]||J[1]!==re[1]||J[2]!==re[2]||J[3]!==re[3]&&(null!=J[3]&&1!==J[3]||null!=re[3]&&1!==re[3])))return!1}return{name:u,value:F,strValue:""+o,mapped:W,field:F[1],fieldMin:parseFloat(F[2]),fieldMax:parseFloat(F[3]),valueMin:j.value,valueMax:q.value,bypass:l}}}if(x.multiple&&"multiple"!==f){var he;if(he=E?o.split(/\s+/):ht(o)?o:[o],x.evenMultiple&&he.length%2!=0)return null;for(var ve=[],Ie=[],Ae=[],ye="",Me=!1,we=0;we<he.length;we++){var ke=h.parse(u,he[we],l,"multiple");Me=Me||Be(ke.value),ve.push(ke.value),Ae.push(null!=ke.pfValue?ke.pfValue:ke.value),Ie.push(ke.units),ye+=(we>0?" ":"")+ke.strValue}return x.validate&&!x.validate(ve,Ie)?null:x.singleEnum&&Me?1===ve.length&&Be(ve[0])?{name:u,value:ve[0],strValue:ve[0],bypass:l}:null:{name:u,value:ve,pfValue:Ae,strValue:ye,bypass:l,units:Ie}}var Pe=function(){for(var Nt=0;Nt<x.enums.length;Nt++)if(x.enums[Nt]===o)return{name:u,value:o,strValue:""+o,bypass:l};return null};if(x.number){var xe,He="px";if(x.units&&(xe=x.units),x.implicitUnits&&(He=x.implicitUnits),!x.unitless)if(E){var Ne="px|em"+(x.allowPercent?"|\\%":"");xe&&(Ne=xe);var qe=o.match("^("+dn+")("+Ne+")?$");qe&&(o=qe[1],xe=qe[2]||He)}else(!xe||x.implicitUnits)&&(xe=He);if(o=parseFloat(o),isNaN(o)&&void 0===x.enums)return null;if(isNaN(o)&&void 0!==x.enums)return o=g,Pe();if(x.integer&&!function(o){return Ze(o)&&Math.floor(o)===o}(o)||void 0!==x.min&&(o<x.min||x.strictMin&&o===x.min)||void 0!==x.max&&(o>x.max||x.strictMax&&o===x.max))return null;var Ue={name:u,value:o,strValue:""+o+(xe||""),units:xe,bypass:l};return Ue.pfValue=x.unitless||"px"!==xe&&"em"!==xe?o:"px"!==xe&&xe?this.getEmSizeInPixels()*o:o,("ms"===xe||"s"===xe)&&(Ue.pfValue="ms"===xe?o:1e3*o),("deg"===xe||"rad"===xe)&&(Ue.pfValue="rad"===xe?o:function(o){return Math.PI*o/180}(o)),"%"===xe&&(Ue.pfValue=o/100),Ue}if(x.propList){var Ge=[],ot=""+o;if("none"!==ot){for(var ct=ot.split(/\s*,\s*|\s+/),yt=0;yt<ct.length;yt++){var st=ct[yt].trim();h.properties[st]?Ge.push(st):Mr("`"+st+"` is not a valid property name")}if(0===Ge.length)return null}return{name:u,value:Ge,strValue:0===Ge.length?"none":Ge.join(" "),bypass:l}}if(x.color){var vt=function(o){return(ht(o)?o:null)||function(o){return Ms[o.toLowerCase()]}(o)||function(o){if((4===o.length||7===o.length)&&"#"===o[0]){var f,h,p,g=16;return 4===o.length?(f=parseInt(o[1]+o[1],g),h=parseInt(o[2]+o[2],g),p=parseInt(o[3]+o[3],g)):(f=parseInt(o[1]+o[2],g),h=parseInt(o[3]+o[4],g),p=parseInt(o[5]+o[6],g)),[f,h,p]}}(o)||function(o){var l,f=new RegExp("^"+Ri+"$").exec(o);if(f){l=[];for(var h=[],p=1;p<=3;p++){var g=f[p];if("%"===g[g.length-1]&&(h[p]=!0),g=parseFloat(g),h[p]&&(g=g/100*255),g<0||g>255)return;l.push(Math.floor(g))}if((h[1]||h[2]||h[3])&&!(h[1]&&h[2]&&h[3]))return;var x=f[4];if(void 0!==x){if((x=parseFloat(x))<0||x>1)return;l.push(x)}}return l}(o)||function(o){var l,f,h,p,g,_,E,x;function M(j,q,J){return J<0&&(J+=1),J>1&&(J-=1),J<1/6?j+6*(q-j)*J:J<.5?q:J<2/3?j+(q-j)*(2/3-J)*6:j}var F=new RegExp("^"+Fi+"$").exec(o);if(F){if((f=parseInt(F[1]))<0?f=(360- -1*f%360)%360:f>360&&(f%=360),f/=360,(h=parseFloat(F[2]))<0||h>100||(h/=100,(p=parseFloat(F[3]))<0||p>100)||(p/=100,void 0!==(g=F[4])&&((g=parseFloat(g))<0||g>1)))return;if(0===h)_=E=x=Math.round(255*p);else{var z=p<.5?p*(1+h):p+h-p*h,W=2*p-z;_=Math.round(255*M(W,z,f+1/3)),E=Math.round(255*M(W,z,f)),x=Math.round(255*M(W,z,f-1/3))}l=[_,E,x,g]}return l}(o)}(o);return vt?{name:u,value:vt,pfValue:vt,strValue:"rgb("+vt[0]+","+vt[1]+","+vt[2]+")",bypass:l}:null}if(x.regex||x.regexes){if(x.enums){var At=Pe();if(At)return At}for(var Ot=x.regexes?x.regexes:[x.regex],Dt=0;Dt<Ot.length;Dt++){var tt=new RegExp(Ot[Dt]).exec(o);if(tt)return{name:u,value:x.singleRegexMatchValue?tt[1]:tt,strValue:""+o,bypass:l}}return null}return x.string?{name:u,value:""+o,strValue:""+o,bypass:l}:x.enums?Pe():null};var qo=function u(o){if(!(this instanceof u))return new u(o);lt(o)?(this._private={cy:o,coreStyle:{}},this.length=0,this.resetToDefault()):ri("A style must have a core reference")},Go=qo.prototype;Go.instanceString=function(){return"style"},Go.clear=function(){for(var u=this._private,l=u.cy.elements(),f=0;f<this.length;f++)this[f]=void 0;return this.length=0,u.contextStyles={},u.propDiffs={},this.cleanElements(l,!0),l.forEach(function(h){var p=h[0]._private;p.styleDirty=!0,p.appliedInitStyle=!1}),this},Go.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Go.core=function(u){return this._private.coreStyle[u]||this.getDefaultProperty(u)},Go.selector=function(u){var o="core"===u?null:new Tu(u),l=this.length++;return this[l]={selector:o,properties:[],mappedProperties:[],index:l},this},Go.css=function(){var o=arguments;if(1===o.length)for(var l=o[0],f=0;f<this.properties.length;f++){var h=this.properties[f],p=l[h.name];void 0===p&&(p=l[_n(h.name)]),void 0!==p&&this.cssRule(h.name,p)}else 2===o.length&&this.cssRule(o[0],o[1]);return this},Go.style=Go.css,Go.cssRule=function(u,o){var l=this.parse(u,o);if(l){var f=this.length-1;this[f].properties.push(l),this[f].properties[l.name]=l,l.name.match(/pie-(\d+)-background-size/)&&l.value&&(this._private.hasPie=!0),l.mapped&&this[f].mappedProperties.push(l),!this[f].selector&&(this._private.coreStyle[l.name]=l)}return this},Go.append=function(u){return it(u)?u.appendToStyle(this):ht(u)?this.appendFromJson(u):Be(u)&&this.appendFromString(u),this},qo.fromJson=function(u,o){var l=new qo(u);return l.fromJson(o),l},qo.fromString=function(u,o){return new qo(u).fromString(o)},[Eo,Do,ts,Hr,kd,Rh,So,Pd].forEach(function(u){Nn(Go,u)}),qo.types=Go.types,qo.properties=Go.properties,qo.propertyGroups=Go.propertyGroups,qo.propertyGroupNames=Go.propertyGroupNames,qo.propertyGroupKeys=Go.propertyGroupKeys;var Ld={style:function(o){return o&&this.setStyle(o).update(),this._private.style},setStyle:function(o){var l=this._private;return l.style=it(o)?o.generateStyle(this):ht(o)?qo.fromJson(this,o):Be(o)?qo.fromString(this,o):qo(this),l.style},updateStyle:function(){this.mutableElements().updateStyle()}},Dl={autolock:function(o){return void 0===o?this._private.autolock:(this._private.autolock=!!o,this)},autoungrabify:function(o){return void 0===o?this._private.autoungrabify:(this._private.autoungrabify=!!o,this)},autounselectify:function(o){return void 0===o?this._private.autounselectify:(this._private.autounselectify=!!o,this)},selectionType:function(o){var l=this._private;return null==l.selectionType&&(l.selectionType="single"),void 0===o?l.selectionType:(("additive"===o||"single"===o)&&(l.selectionType=o),this)},panningEnabled:function(o){return void 0===o?this._private.panningEnabled:(this._private.panningEnabled=!!o,this)},userPanningEnabled:function(o){return void 0===o?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!o,this)},zoomingEnabled:function(o){return void 0===o?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!o,this)},userZoomingEnabled:function(o){return void 0===o?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!o,this)},boxSelectionEnabled:function(o){return void 0===o?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!o,this)},pan:function(){var f,h,p,g,_,o=arguments,l=this._private.pan;switch(o.length){case 0:return l;case 1:if(Be(o[0]))return l[f=o[0]];if(Ke(o[0])){if(!this._private.panningEnabled)return this;_=(p=o[0]).y,Ze(g=p.x)&&(l.x=g),Ze(_)&&(l.y=_),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;h=o[1],("x"===(f=o[0])||"y"===f)&&Ze(h)&&(l[f]=h),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(o,l){var p,g,_,E,x,f=arguments,h=this._private.pan;if(!this._private.panningEnabled)return this;switch(f.length){case 1:Ke(o)&&(x=(_=f[0]).y,Ze(E=_.x)&&(h.x+=E),Ze(x)&&(h.y+=x),this.emit("pan viewport"));break;case 2:g=l,("x"===(p=o)||"y"===p)&&Ze(g)&&(h[p]+=g),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(o,l){var f=this.getFitViewport(o,l);if(f){var h=this._private;h.zoom=f.zoom,h.pan=f.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(o,l){var f;if((Ze(o)&&void 0===l&&(l=o,o=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(Be(o)?o=this.$(o):!function(o){return Ke(o)&&Ze(o.x1)&&Ze(o.x2)&&Ze(o.y1)&&Ze(o.y2)}(o)?It(o)||(o=this.mutableElements()):((f={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=f.x2-f.x1,f.h=f.y2-f.y1),!It(o)||!o.empty())){f=f||o.boundingBox();var E,g=this.width(),_=this.height();if(l=Ze(l)?l:0,!isNaN(g)&&!isNaN(_)&&g>0&&_>0&&!isNaN(f.w)&&!isNaN(f.h)&&f.w>0&&f.h>0)return{zoom:E=(E=(E=Math.min((g-2*l)/f.w,(_-2*l)/f.h))>this._private.maxZoom?this._private.maxZoom:E)<this._private.minZoom?this._private.minZoom:E,pan:{x:(g-E*(f.x1+f.x2))/2,y:(_-E*(f.y1+f.y2))/2}}}},zoomRange:function(o,l){var f=this._private;if(null==l){var h=o;o=h.min,l=h.max}return Ze(o)&&Ze(l)&&o<=l?(f.minZoom=o,f.maxZoom=l):Ze(o)&&void 0===l&&o<=f.maxZoom?f.minZoom=o:Ze(l)&&void 0===o&&l>=f.minZoom&&(f.maxZoom=l),this},minZoom:function(o){return void 0===o?this._private.minZoom:this.zoomRange({min:o})},maxZoom:function(o){return void 0===o?this._private.maxZoom:this.zoomRange({max:o})},getZoomedViewport:function(o){var p,g,l=this._private,f=l.pan,h=l.zoom,_=!1;return l.zoomingEnabled||(_=!0),Ze(o)?g=o:Ke(o)&&(g=o.level,null!=o.position?p=Lr(o.position,h,f):null!=o.renderedPosition&&(p=o.renderedPosition),null!=p&&!l.panningEnabled&&(_=!0)),g=(g=g>l.maxZoom?l.maxZoom:g)<l.minZoom?l.minZoom:g,!_&&Ze(g)&&g!==h&&(null==p||Ze(p.x)&&Ze(p.y))?null!=p?{zoomed:!0,panned:!0,zoom:g,pan:{x:-g/h*(p.x-f.x)+p.x,y:-g/h*(p.y-f.y)+p.y}}:{zoomed:!0,panned:!1,zoom:g,pan:f}:null},zoom:function(o){if(void 0===o)return this._private.zoom;var l=this.getZoomedViewport(o),f=this._private;return null!=l&&l.zoomed?(f.zoom=l.zoom,l.panned&&(f.pan.x=l.pan.x,f.pan.y=l.pan.y),this.emit("zoom"+(l.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(o){var l=this._private,f=!0,h=!0,p=[],g=!1,_=!1;if(!o)return this;if(Ze(o.zoom)||(f=!1),Ke(o.pan)||(h=!1),!f&&!h)return this;if(f){var E=o.zoom;E<l.minZoom||E>l.maxZoom||!l.zoomingEnabled?g=!0:(l.zoom=E,p.push("zoom"))}if(h&&(!g||!o.cancelOnFailedZoom)&&l.panningEnabled){var x=o.pan;Ze(x.x)&&(l.pan.x=x.x,_=!1),Ze(x.y)&&(l.pan.y=x.y,_=!1),_||p.push("pan")}return p.length>0&&(p.push("viewport"),this.emit(p.join(" ")),this.notify("viewport")),this},center:function(o){var l=this.getCenterPan(o);return l&&(this._private.pan=l,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(o,l){if(this._private.panningEnabled){if(Be(o)){var f=o;o=this.mutableElements().filter(f)}else It(o)||(o=this.mutableElements());if(0!==o.length){var h=o.boundingBox(),p=this.width(),g=this.height();return{x:(p-(l=void 0===l?this._private.zoom:l)*(h.x1+h.x2))/2,y:(g-l*(h.y1+h.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var f,h,o=this._private,l=o.container;return o.sizeCache=o.sizeCache||(l?(f=oe.getComputedStyle(l),{width:l.clientWidth-(h=function(g){return parseFloat(f.getPropertyValue(g))})("padding-left")-h("padding-right"),height:l.clientHeight-h("padding-top")-h("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var o=this._private.pan,l=this._private.zoom,f=this.renderedExtent(),h={x1:(f.x1-o.x)/l,x2:(f.x2-o.x)/l,y1:(f.y1-o.y)/l,y2:(f.y2-o.y)/l};return h.w=h.x2-h.x1,h.h=h.y2-h.y1,h},renderedExtent:function(){var o=this.width(),l=this.height();return{x1:0,y1:0,x2:o,y2:l,w:o,h:l}},multiClickDebounceTime:function(o){return o?(this._private.multiClickDebounceTime=o,this):this._private.multiClickDebounceTime}};Dl.centre=Dl.center,Dl.autolockNodes=Dl.autolock,Dl.autoungrabifyNodes=Dl.autoungrabify;var vs={data:ur.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ur.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ur.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ur.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};vs.attr=vs.data,vs.removeAttr=vs.removeData;var ys=function(o){var l=this,f=(o=Nn({},o)).container;f&&!Ht(f)&&Ht(f[0])&&(f=f[0]);var h=f?f._cyreg:null;(h=h||{})&&h.cy&&(h.cy.destroy(),h={});var p=h.readies=h.readies||[];f&&(f._cyreg=h),h.cy=l;var g=void 0!==oe&&void 0!==f&&!o.headless,_=o;_.layout=Nn({name:g?"grid":"null"},_.layout),_.renderer=Nn({name:g?"canvas":"null"},_.renderer);var E=function(j,q,J){return void 0!==q?q:void 0!==J?J:j},x=this._private={container:f,ready:!1,options:_,elements:new fo(this),listeners:[],aniEles:new fo(this),data:_.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:E(!0,_.zoomingEnabled),userZoomingEnabled:E(!0,_.userZoomingEnabled),panningEnabled:E(!0,_.panningEnabled),userPanningEnabled:E(!0,_.userPanningEnabled),boxSelectionEnabled:E(!0,_.boxSelectionEnabled),autolock:E(!1,_.autolock,_.autolockNodes),autoungrabify:E(!1,_.autoungrabify,_.autoungrabifyNodes),autounselectify:E(!1,_.autounselectify),styleEnabled:void 0===_.styleEnabled?g:_.styleEnabled,zoom:Ze(_.zoom)?_.zoom:1,pan:{x:Ke(_.pan)&&Ze(_.pan.x)?_.pan.x:0,y:Ke(_.pan)&&Ze(_.pan.y)?_.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:E(250,_.multiClickDebounceTime)};this.createEmitter(),this.selectionType(_.selectionType),this.zoomRange({min:_.minZoom,max:_.maxZoom}),x.styleEnabled&&l.setStyle([]);var F=Nn({},_,_.renderer);l.initRenderer(F),function(j,q){if(j.some(Jn))return fs.all(j).then(q);q(j)}([_.style,_.elements],function(W){var j=W[0],q=W[1];x.styleEnabled&&l.style().append(j),function(j,q,J){l.notifications(!1);var re=l.mutableElements();re.length>0&&re.remove(),null!=j&&(Ke(j)||ht(j))&&l.add(j),l.one("layoutready",function(he){l.notifications(!0),l.emit(he),l.one("load",q),l.emitAndNotify("load")}).one("layoutstop",function(){l.one("done",J),l.emit("done")});var fe=Nn({},l._private.options.layout);fe.eles=l.elements(),l.layout(fe).run()}(q,function(){l.startAnimationLoop(),x.ready=!0,at(_.ready)&&l.on("ready",_.ready);for(var J=0;J<p.length;J++)l.on("ready",p[J]);h&&(h.readies=[]),l.emit("ready")},_.done)})},Ou=ys.prototype;Nn(Ou,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(o){return this.isReady()?this.emitter().emit("ready",[],o):this.on("ready",o),this},destroy:function(){var o=this;if(!o.destroyed())return o.stopAnimationLoop(),o.destroyRenderer(),this.emit("destroy"),o._private.destroyed=!0,o},hasElementWithId:function(o){return this._private.elements.hasElementWithId(o)},getElementById:function(o){return this._private.elements.getElementById(o)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(o){return this._private.elements.merge(o),this},removeFromPool:function(o){return this._private.elements.unmerge(o),this},container:function(){return this._private.container||null},mount:function(o){if(null!=o){var l=this,f=l._private,h=f.options;return!Ht(o)&&Ht(o[0])&&(o=o[0]),l.stopAnimationLoop(),l.destroyRenderer(),f.container=o,f.styleEnabled=!0,l.invalidateSize(),l.initRenderer(Nn({},h,h.renderer,{name:"null"===h.renderer.name?"canvas":h.renderer.name})),l.startAnimationLoop(),l.style(h.style),l.emit("mount"),l}},unmount:function(){var o=this;return o.stopAnimationLoop(),o.destroyRenderer(),o.initRenderer({name:"null"}),o.emit("unmount"),o},options:function(){return ki(this._private.options)},json:function(o){var l=this,f=l._private,h=l.mutableElements();if(Ke(o)){if(l.startBatch(),o.elements){var g={},_=function(ve,Ie){for(var Ae=[],ye=[],Me=0;Me<ve.length;Me++){var we=ve[Me];if(we.data.id){var ke=""+we.data.id,Pe=l.getElementById(ke);g[ke]=!0,0!==Pe.length?ye.push({ele:Pe,json:we}):(Ie&&(we.group=Ie),Ae.push(we))}else Mr("cy.json() cannot handle elements without an ID attribute")}l.add(Ae);for(var xe=0;xe<ye.length;xe++){var He=ye[xe];He.ele.json(He.json)}};if(ht(o.elements))_(o.elements);else for(var E=["nodes","edges"],x=0;x<E.length;x++){var M=E[x],F=o.elements[M];ht(F)&&_(F,M)}var z=l.collection();h.filter(function(he){return!g[he.id()]}).forEach(function(he){he.isParent()?z.merge(he):he.remove()}),z.forEach(function(he){return he.children().move({parent:null})}),z.forEach(function(he){return(ve=he,l.getElementById(ve.id())).remove();var ve})}o.style&&l.style(o.style),null!=o.zoom&&o.zoom!==f.zoom&&l.zoom(o.zoom),o.pan&&(o.pan.x!==f.pan.x||o.pan.y!==f.pan.y)&&l.pan(o.pan),o.data&&l.data(o.data);for(var W=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],j=0;j<W.length;j++){var q=W[j];null!=o[q]&&l[q](o[q])}return l.endBatch(),this}var re={};o?re.elements=this.elements().map(function(he){return he.json()}):(re.elements={},h.forEach(function(he){var ve=he.group();re.elements[ve]||(re.elements[ve]=[]),re.elements[ve].push(he.json())})),this._private.styleEnabled&&(re.style=l.style().json()),re.data=ki(l.data());var fe=f.options;return re.zoomingEnabled=f.zoomingEnabled,re.userZoomingEnabled=f.userZoomingEnabled,re.zoom=f.zoom,re.minZoom=f.minZoom,re.maxZoom=f.maxZoom,re.panningEnabled=f.panningEnabled,re.userPanningEnabled=f.userPanningEnabled,re.pan=ki(f.pan),re.boxSelectionEnabled=f.boxSelectionEnabled,re.renderer=ki(fe.renderer),re.hideEdgesOnViewport=fe.hideEdgesOnViewport,re.textureOnViewport=fe.textureOnViewport,re.wheelSensitivity=fe.wheelSensitivity,re.motionBlur=fe.motionBlur,re.multiClickDebounceTime=fe.multiClickDebounceTime,re}}),Ou.$id=Ou.getElementById,[yy,Nf,Rf,Tc,ru,Up,Nd,Rd,Ld,Dl,vs].forEach(function(u){Nn(Ou,u)});var kf={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}},Gp={maximal:!1,acyclic:!1},Nu=function(o){return o.scratch("breadthfirst")},jp=function(o,l){return o.scratch("breadthfirst",l)};function Ru(u){this.options=Nn({},kf,Gp,u)}Ru.prototype.run=function(){var x,u=this.options,o=u,l=u.cy,f=o.eles,h=f.nodes().filter(function(sn){return!sn.isParent()}),p=f,g=o.directed,_=o.acyclic||o.maximal||o.maximalAdjustments>0,E=Mi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(It(o.roots))x=o.roots;else if(ht(o.roots)){for(var M=[],F=0;F<o.roots.length;F++){var W=l.getElementById(o.roots[F]);M.push(W)}x=l.collection(M)}else if(Be(o.roots))x=l.$(o.roots);else if(g)x=h.roots();else{var j=f.components();x=l.collection();for(var q=function(en){var Pn=j[en],Sn=Pn.maxDegree(!1),un=Pn.filter(function(Rn){return Rn.degree(!1)===Sn});x=x.add(un)},J=0;J<j.length;J++)q(J)}var re=[],fe={},he=function(en,Pn){null==re[Pn]&&(re[Pn]=[]);var Sn=re[Pn].length;re[Pn].push(en),jp(en,{index:Sn,depth:Pn})};p.bfs({roots:x,directed:o.directed,visit:function(en,Pn,Sn,un,Rn){var Nr=en[0],fr=Nr.id();he(Nr,Rn),fe[fr]=!0}});for(var Ie=[],Ae=0;Ae<h.length;Ae++){var ye=h[Ae];fe[ye.id()]||Ie.push(ye)}var Me=function(en){for(var Pn=re[en],Sn=0;Sn<Pn.length;Sn++){var un=Pn[Sn];null!=un?jp(un,{depth:en,index:Sn}):(Pn.splice(Sn,1),Sn--)}},we=function(){for(var en=0;en<re.length;en++)Me(en)},ke=function(en,Pn){for(var Sn=Nu(en),un=en.incomers().filter(function(dt){return dt.isNode()&&f.has(dt)}),Rn=-1,Nr=en.id(),fr=0;fr<un.length;fr++){var zt=Nu(un[fr]);Rn=Math.max(Rn,zt.depth)}if(Sn.depth<=Rn){if(!o.acyclic&&Pn[Nr])return null;var Ce=Rn+1;return function(en,Pn){var Sn=Nu(en);re[Sn.depth][Sn.index]=null,he(en,Pn)}(en,Ce),Pn[Nr]=Ce,!0}return!1};if(g&&_){var Pe=[],xe={},He=function(en){return Pe.push(en)};for(h.forEach(function(sn){return Pe.push(sn)});Pe.length>0;){var qe=Pe.shift(),Ue=ke(qe,xe);if(Ue)qe.outgoers().filter(function(sn){return sn.isNode()&&f.has(sn)}).forEach(He);else if(null===Ue){Mr("Detected double maximal shift for node `"+qe.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}we();var Ge=0;if(o.avoidOverlap)for(var ot=0;ot<h.length;ot++){var yt=h[ot].layoutDimensions(o);Ge=Math.max(Ge,yt.w,yt.h)}var At={},Ot=function(en){if(At[en.id()])return At[en.id()];for(var Pn=Nu(en).depth,Sn=en.neighborhood(),un=0,Rn=0,Nr=0;Nr<Sn.length;Nr++){var fr=Sn[Nr];if(!fr.isEdge()&&!fr.isParent()&&h.has(fr)){var $n=Nu(fr);if(null!=$n){var zt=$n.index,Ce=$n.depth;null!=zt&&null!=Ce&&Ce<Pn&&(un+=zt/re[Ce].length,Rn++)}}}return un/=Rn=Math.max(1,Rn),0===Rn&&(un=0),At[en.id()]=un,un},Dt=function(en,Pn){var Rn=Ot(en)-Ot(Pn);return 0===Rn?ja(en.id(),Pn.id()):Rn};void 0!==o.depthSort&&(Dt=o.depthSort);for(var _t=0;_t<re.length;_t++)re[_t].sort(Dt),Me(_t);for(var tt=[],Mt=0;Mt<Ie.length;Mt++)tt.push(Ie[Mt]);re.unshift(tt),we();for(var Nt=0,$t=0;$t<re.length;$t++)Nt=Math.max(re[$t].length,Nt);var rn_x=E.x1+E.w/2,rn_y=E.x1+E.h/2,Xn=re.reduce(function(sn,en){return Math.max(sn,en.length)},0);return f.nodes().layoutPositions(this,o,function(en){var Pn=Nu(en),Sn=Pn.depth,un=Pn.index,Rn=re[Sn].length,Nr=Math.max(E.w/((o.grid?Xn:Rn)+1),Ge),fr=Math.max(E.h/(re.length+1),Ge),$n=Math.min(E.w/2/re.length,E.h/2/re.length);if($n=Math.max($n,Ge),o.circle){var Ce=$n*Sn+$n-(re.length>0&&re[0].length<=3?$n/2:0),dt=2*Math.PI/re[Sn].length*un;return 0===Sn&&1===re[0].length&&(Ce=1),{x:rn_x+Ce*Math.cos(dt),y:rn_y+Ce*Math.sin(dt)}}return{x:rn_x+(un+1-(Rn+1)/2)*Nr,y:(Sn+1)*fr}}),this};var Ic={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Wp(u){this.options=Nn({},Ic,u)}Wp.prototype.run=function(){var u=this.options,o=u,l=u.cy,f=o.eles,h=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,p=f.nodes().not(":parent");o.sort&&(p=p.sort(o.sort));for(var M,g=Mi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),_={x:g.x1+g.w/2,y:g.y1+g.h/2},x=(void 0===o.sweep?2*Math.PI-2*Math.PI/p.length:o.sweep)/Math.max(1,p.length-1),F=0,z=0;z<p.length;z++){var j=p[z].layoutDimensions(o);F=Math.max(F,j.w,j.h)}if(M=Ze(o.radius)?o.radius:p.length<=1?0:Math.min(g.h,g.w)/2-F,p.length>1&&o.avoidOverlap){F*=1.75;var re=Math.cos(x)-Math.cos(0),fe=Math.sin(x)-Math.sin(0),he=Math.sqrt(F*F/(re*re+fe*fe));M=Math.max(he,M)}return f.nodes().layoutPositions(this,o,function(Ae,ye){var Me=o.startAngle+ye*x*(h?1:-1),we=M*Math.cos(Me),ke=M*Math.sin(Me);return{x:_.x+we,y:_.y+ke}}),this};var by={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(o){return o.degree()},levelWidth:function(o){return o.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Fd(u){this.options=Nn({},by,u)}Fd.prototype.run=function(){for(var u=this.options,o=u,l=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,f=u.cy,h=o.eles,p=h.nodes().not(":parent"),g=Mi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:f.width(),h:f.height()}),_={x:g.x1+g.w/2,y:g.y1+g.h/2},E=[],x=0,M=0;M<p.length;M++){var z,F=p[M];z=o.concentric(F),E.push({value:z,node:F}),F._private.scratch.concentric=z}p.updateStyle();for(var W=0;W<p.length;W++){var q=p[W].layoutDimensions(o);x=Math.max(x,q.w,q.h)}E.sort(function(sn,en){return en.value-sn.value});for(var J=o.levelWidth(p),re=[[]],fe=re[0],he=0;he<E.length;he++){var ve=E[he];fe.length>0&&Math.abs(fe[0].value-ve.value)>=J&&re.push(fe=[]),fe.push(ve)}var Ae=x+o.minNodeSpacing;if(!o.avoidOverlap){var ye=re.length>0&&re[0].length>1,Me=Math.min(g.w,g.h)/2-Ae;Ae=Math.min(Ae,Me/(re.length+ye?1:0))}for(var ke=0,Pe=0;Pe<re.length;Pe++){var xe=re[Pe],He=void 0===o.sweep?2*Math.PI-2*Math.PI/xe.length:o.sweep,Ne=xe.dTheta=He/Math.max(1,xe.length-1);if(xe.length>1&&o.avoidOverlap){var qe=Math.cos(Ne)-Math.cos(0),Ue=Math.sin(Ne)-Math.sin(0),Ge=Math.sqrt(Ae*Ae/(qe*qe+Ue*Ue));ke=Math.max(Ge,ke)}xe.r=ke,ke+=Ae}if(o.equidistant){for(var ot=0,ct=0,yt=0;yt<re.length;yt++)ot=Math.max(ot,re[yt].r-ct);ct=0;for(var At=0;At<re.length;At++){var Ot=re[At];0===At&&(ct=Ot.r),Ot.r=ct,ct+=ot}}for(var Dt={},_t=0;_t<re.length;_t++)for(var tt=re[_t],Mt=tt.dTheta,Nt=tt.r,$t=0;$t<tt.length;$t++){var rn=tt[$t],Xn=o.startAngle+(l?1:-1)*Mt*$t,ar={x:_.x+Nt*Math.cos(Xn),y:_.y+Nt*Math.sin(Xn)};Dt[rn.node.id()]=ar}return h.nodes().layoutPositions(this,o,function(sn){var en=sn.id();return Dt[en]}),this};var Pf,$p={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(o,l){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(o){return 2048},nodeOverlap:4,idealEdgeLength:function(o){return 32},edgeElasticity:function(o){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Lf(u){this.options=Nn({},$p,u),this.options.layout=this}Lf.prototype.run=function(){var u=this.options,o=u.cy,l=this;l.stopped=!1,(!0===u.animate||!1===u.animate)&&l.emit({type:"layoutstart",layout:l}),Pf=!0===u.debug;var f=bm(o,l,u);Pf&&(void 0)(f),u.randomize&&wm(f);var h=Ti(),p=function(){Ph(f,o,u),!0===u.fit&&o.fit(u.padding)},g=function(z){return!(l.stopped||z>=u.numIter||(ai(f,u),f.temperature=f.temperature*u.coolingFactor,f.temperature<u.minTemp))},_=function(){if(!0===u.animate||!1===u.animate)p(),l.one("layoutstop",u.stop),l.emit({type:"layoutstop",layout:l});else{var z=u.eles.nodes(),W=Vd(f,u,z);z.layoutPositions(l,u,W)}},E=0,x=!0;if(!0===u.animate)!function F(){for(var z=0;x&&z<u.refresh;)x=g(E),E++,z++;x?(Ti()-h>=u.animationThreshold&&p(),mu(F)):(Yp(f,u),_())}();else{for(;x;)x=g(E),E++;Yp(f,u),_()}return this},Lf.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Lf.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var bm=function(o,l,f){for(var h=f.eles.edges(),p=f.eles.nodes(),g=Mi(f.boundingBox?f.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()}),_={isCompound:o.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:p.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:h.size(),temperature:f.initialTemp,clientWidth:g.w,clientHeight:g.h,boundingBox:g},E=f.eles.components(),x={},M=0;M<E.length;M++)for(var F=E[M],z=0;z<F.length;z++)x[F[z].id()]=M;for(M=0;M<_.nodeSize;M++){var q=(j=p[M]).layoutDimensions(f);(J={}).isLocked=j.locked(),J.id=j.data("id"),J.parentId=j.data("parent"),J.cmptId=x[j.id()],J.children=[],J.positionX=j.position("x"),J.positionY=j.position("y"),J.offsetX=0,J.offsetY=0,J.height=q.w,J.width=q.h,J.maxX=J.positionX+J.width/2,J.minX=J.positionX-J.width/2,J.maxY=J.positionY+J.height/2,J.minY=J.positionY-J.height/2,J.padLeft=parseFloat(j.style("padding")),J.padRight=parseFloat(j.style("padding")),J.padTop=parseFloat(j.style("padding")),J.padBottom=parseFloat(j.style("padding")),J.nodeRepulsion=at(f.nodeRepulsion)?f.nodeRepulsion(j):f.nodeRepulsion,_.layoutNodes.push(J),_.idToIndex[J.id]=M}var re=[],fe=0,he=-1,ve=[];for(M=0;M<_.nodeSize;M++){var j,Ie=(j=_.layoutNodes[M]).parentId;null!=Ie?_.layoutNodes[_.idToIndex[Ie]].children.push(j.id):(re[++he]=j.id,ve.push(j.id))}for(_.graphSet.push(ve);fe<=he;){var Ae=re[fe++],Me=_.layoutNodes[_.idToIndex[Ae]].children;if(Me.length>0)for(_.graphSet.push(Me),M=0;M<Me.length;M++)re[++he]=Me[M]}for(M=0;M<_.graphSet.length;M++){var we=_.graphSet[M];for(z=0;z<we.length;z++)_.indexToGraph[_.idToIndex[we[z]]]=M}for(M=0;M<_.edgeSize;M++){var Pe=h[M],xe={};xe.id=Pe.data("id"),xe.sourceId=Pe.data("source"),xe.targetId=Pe.data("target");var He=at(f.idealEdgeLength)?f.idealEdgeLength(Pe):f.idealEdgeLength,Ne=at(f.edgeElasticity)?f.edgeElasticity(Pe):f.edgeElasticity,qe=_.idToIndex[xe.sourceId],Ue=_.idToIndex[xe.targetId];if(_.indexToGraph[qe]!=_.indexToGraph[Ue]){for(var ct=Bd(xe.sourceId,xe.targetId,_),yt=_.graphSet[ct],st=0,J=_.layoutNodes[qe];-1===yt.indexOf(J.id);)J=_.layoutNodes[_.idToIndex[J.parentId]],st++;for(J=_.layoutNodes[Ue];-1===yt.indexOf(J.id);)J=_.layoutNodes[_.idToIndex[J.parentId]],st++;He*=st*f.nestingFactor}xe.idealLength=He,xe.elasticity=Ne,_.layoutEdges.push(xe)}return _},Bd=function(o,l,f){var h=kh(o,l,0,f);return 2>h.count?0:h.graph},kh=function u(o,l,f,h){var p=h.graphSet[f];if(-1<p.indexOf(o)&&-1<p.indexOf(l))return{count:2,graph:f};for(var g=0,_=0;_<p.length;_++){var M=h.layoutNodes[h.idToIndex[p[_]]].children;if(0!==M.length){var z=u(o,l,h.indexToGraph[h.idToIndex[M[0]]],h);if(0!==z.count){if(1!==z.count)return z;if(2==++g)break}}}return{count:g,graph:f}},wm=function(o,l){for(var f=o.clientWidth,h=o.clientHeight,p=0;p<o.nodeSize;p++){var g=o.layoutNodes[p];0===g.children.length&&!g.isLocked&&(g.positionX=Math.random()*f,g.positionY=Math.random()*h)}},Vd=function(o,l,f){var h=o.boundingBox,p={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return l.boundingBox&&(f.forEach(function(g){var _=o.layoutNodes[o.idToIndex[g.data("id")]];p.x1=Math.min(p.x1,_.positionX),p.x2=Math.max(p.x2,_.positionX),p.y1=Math.min(p.y1,_.positionY),p.y2=Math.max(p.y2,_.positionY)}),p.w=p.x2-p.x1,p.h=p.y2-p.y1),function(g,_){var E=o.layoutNodes[o.idToIndex[g.data("id")]];return l.boundingBox?{x:h.x1+(E.positionX-p.x1)/p.w*h.w,y:h.y1+(E.positionY-p.y1)/p.h*h.h}:{x:E.positionX,y:E.positionY}}},Ph=function(o,l,f){var h=f.layout,p=f.eles.nodes(),g=Vd(o,f,p);p.positions(g),!0!==o.ready&&(o.ready=!0,h.one("layoutready",f.ready),h.emit({type:"layoutready",layout:this}))},ai=function(o,l,f){wy(o,l),Lh(o),zd(o,l),Ff(o),Fh(o)},wy=function(o,l){for(var f=0;f<o.graphSet.length;f++)for(var h=o.graphSet[f],p=h.length,g=0;g<p;g++)for(var _=o.layoutNodes[o.idToIndex[h[g]]],E=g+1;E<p;E++)Ac(_,o.layoutNodes[o.idToIndex[h[E]]],o,l)},Hd=function(o){return-o+2*o*Math.random()},Ac=function(o,l,f,h){if(o.cmptId===l.cmptId||f.isCompound){var _=l.positionX-o.positionX,E=l.positionY-o.positionY;0===_&&0===E&&(_=Hd(1),E=Hd(1));var M=Vs(o,l,_,E);if(M>0)var W=(F=h.nodeOverlap*M)*_/(z=Math.sqrt(_*_+E*E)),j=F*E/z;else{var F,q=da(o,_,E),J=da(l,-1*_,-1*E),re=J.x-q.x,fe=J.y-q.y,he=re*re+fe*fe,z=Math.sqrt(he);W=(F=(o.nodeRepulsion+l.nodeRepulsion)/he)*re/z,j=F*fe/z}o.isLocked||(o.offsetX-=W,o.offsetY-=j),l.isLocked||(l.offsetX+=W,l.offsetY+=j)}},Vs=function(o,l,f,h){if(f>0)var p=o.maxX-l.minX;else p=l.maxX-o.minX;if(h>0)var g=o.maxY-l.minY;else g=l.maxY-o.minY;return p>=0&&g>=0?Math.sqrt(p*p+g*g):0},da=function(o,l,f){var h=o.positionX,p=o.positionY,g=o.height||1,_=o.width||1,E=f/l,x=g/_,M={};return 0===l&&0<f||0===l&&0>f?(M.x=h,M.y=p+g/2,M):0<l&&-1*x<=E&&E<=x?(M.x=h+_/2,M.y=p+_*f/2/l,M):0>l&&-1*x<=E&&E<=x?(M.x=h-_/2,M.y=p-_*f/2/l,M):0<f&&(E<=-1*x||E>=x)?(M.x=h+g*l/2/f,M.y=p+g/2,M):(0>f&&(E<=-1*x||E>=x)&&(M.x=h-g*l/2/f,M.y=p-g/2),M)},Lh=function(o,l){for(var f=0;f<o.edgeSize;f++){var h=o.layoutEdges[f],g=o.layoutNodes[o.idToIndex[h.sourceId]],E=o.layoutNodes[o.idToIndex[h.targetId]],x=E.positionX-g.positionX,M=E.positionY-g.positionY;if(0!==x||0!==M){var F=da(g,x,M),z=da(E,-1*x,-1*M),W=z.x-F.x,j=z.y-F.y,q=Math.sqrt(W*W+j*j),J=Math.pow(h.idealLength-q,2)/h.elasticity;if(0!==q)var re=J*W/q,fe=J*j/q;else re=0,fe=0;g.isLocked||(g.offsetX+=re,g.offsetY+=fe),E.isLocked||(E.offsetX-=re,E.offsetY-=fe)}}},zd=function(o,l){if(0!==l.gravity)for(var h=0;h<o.graphSet.length;h++){var p=o.graphSet[h],g=p.length;if(0===h)var _=o.clientHeight/2,E=o.clientWidth/2;else{var M=o.layoutNodes[o.idToIndex[o.layoutNodes[o.idToIndex[p[0]]].parentId]];_=M.positionX,E=M.positionY}for(var F=0;F<g;F++){var z=o.layoutNodes[o.idToIndex[p[F]]];if(!z.isLocked){var W=_-z.positionX,j=E-z.positionY,q=Math.sqrt(W*W+j*j);if(q>1){var re=l.gravity*j/q;z.offsetX+=l.gravity*W/q,z.offsetY+=re}}}}},Ff=function(o,l){var f=[],h=0,p=-1;for(f.push.apply(f,o.graphSet[0]),p+=o.graphSet[0].length;h<=p;){var g=f[h++],E=o.layoutNodes[o.idToIndex[g]],x=E.children;if(0<x.length&&!E.isLocked){for(var M=E.offsetX,F=E.offsetY,z=0;z<x.length;z++){var W=o.layoutNodes[o.idToIndex[x[z]]];W.offsetX+=M,W.offsetY+=F,f[++p]=x[z]}E.offsetX=0,E.offsetY=0}}},Fh=function(o,l){for(var f=0;f<o.nodeSize;f++)0<(h=o.layoutNodes[f]).children.length&&(h.maxX=void 0,h.minX=void 0,h.maxY=void 0,h.minY=void 0);for(f=0;f<o.nodeSize;f++)if(!(0<(h=o.layoutNodes[f]).children.length||h.isLocked)){var p=Ud(h.offsetX,h.offsetY,o.temperature);h.positionX+=p.x,h.positionY+=p.y,h.offsetX=0,h.offsetY=0,h.minX=h.positionX-h.width,h.maxX=h.positionX+h.width,h.minY=h.positionY-h.height,h.maxY=h.positionY+h.height,Bf(h,o)}for(f=0;f<o.nodeSize;f++){var h;0<(h=o.layoutNodes[f]).children.length&&!h.isLocked&&(h.positionX=(h.maxX+h.minX)/2,h.positionY=(h.maxY+h.minY)/2,h.width=h.maxX-h.minX,h.height=h.maxY-h.minY)}},Ud=function(o,l,f){var h=Math.sqrt(o*o+l*l);if(h>f)var p={x:f*o/h,y:f*l/h};else p={x:o,y:l};return p},Bf=function u(o,l){var f=o.parentId;if(null!=f){var h=l.layoutNodes[l.idToIndex[f]],p=!1;if((null==h.maxX||o.maxX+h.padRight>h.maxX)&&(h.maxX=o.maxX+h.padRight,p=!0),(null==h.minX||o.minX-h.padLeft<h.minX)&&(h.minX=o.minX-h.padLeft,p=!0),(null==h.maxY||o.maxY+h.padBottom>h.maxY)&&(h.maxY=o.maxY+h.padBottom,p=!0),(null==h.minY||o.minY-h.padTop<h.minY)&&(h.minY=o.minY-h.padTop,p=!0),p)return u(h,l)}},Yp=function(o,l){for(var f=o.layoutNodes,h=[],p=0;p<f.length;p++){var g=f[p],_=g.cmptId;(h[_]=h[_]||[]).push(g)}var x=0;for(p=0;p<h.length;p++)if(M=h[p]){M.x1=1/0,M.x2=-1/0,M.y1=1/0,M.y2=-1/0;for(var F=0;F<M.length;F++){var z=M[F];M.x1=Math.min(M.x1,z.positionX-z.width/2),M.x2=Math.max(M.x2,z.positionX+z.width/2),M.y1=Math.min(M.y1,z.positionY-z.height/2),M.y2=Math.max(M.y2,z.positionY+z.height/2)}M.w=M.x2-M.x1,M.h=M.y2-M.y1,x+=M.w*M.h}h.sort(function(fe,he){return he.w*he.h-fe.w*fe.h});var W=0,j=0,q=0,J=0,re=Math.sqrt(x)*o.clientWidth/o.clientHeight;for(p=0;p<h.length;p++){var M;if(M=h[p]){for(F=0;F<M.length;F++)(z=M[F]).isLocked||(z.positionX+=W-M.x1,z.positionY+=j-M.y1);W+=M.w+l.componentSpacing,q+=M.w+l.componentSpacing,J=Math.max(J,M.h),q>re&&(j+=J+l.componentSpacing,W=0,q=0,J=0)}}},Vf={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(o){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Hf(u){this.options=Nn({},Vf,u)}Hf.prototype.run=function(){var u=this.options,o=u,l=u.cy,f=o.eles,h=f.nodes().not(":parent");o.sort&&(h=h.sort(o.sort));var p=Mi(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(0===p.h||0===p.w)f.nodes().layoutPositions(this,o,function(At){return{x:p.x1,y:p.y1}});else{var g=h.size(),_=Math.sqrt(g*p.h/p.w),E=Math.round(_),x=Math.round(p.w/p.h*_),M=function(Ot){if(null==Ot)return Math.min(E,x);Math.min(E,x)==E?E=Ot:x=Ot},F=function(Ot){if(null==Ot)return Math.max(E,x);Math.max(E,x)==E?E=Ot:x=Ot},z=o.rows,W=null!=o.cols?o.cols:o.columns;if(null!=z&&null!=W)E=z,x=W;else if(null!=z&&null==W)E=z,x=Math.ceil(g/E);else if(null==z&&null!=W)x=W,E=Math.ceil(g/x);else if(x*E>g){var j=M(),q=F();(j-1)*q>=g?M(j-1):(q-1)*j>=g&&F(q-1)}else for(;x*E<g;){var J=M(),re=F();(re+1)*J>=g?F(re+1):M(J+1)}var fe=p.w/x,he=p.h/E;if(o.condense&&(fe=0,he=0),o.avoidOverlap)for(var ve=0;ve<h.length;ve++){var Ie=h[ve],Ae=Ie._private.position;(null==Ae.x||null==Ae.y)&&(Ae.x=0,Ae.y=0);var ye=Ie.layoutDimensions(o),Me=o.avoidOverlapPadding,ke=ye.h+Me;fe=Math.max(fe,ye.w+Me),he=Math.max(he,ke)}for(var Pe={},xe=function(Ot,Dt){return!!Pe["c-"+Ot+"-"+Dt]},He=function(Ot,Dt){Pe["c-"+Ot+"-"+Dt]=!0},Ne=0,qe=0,Ue=function(){++qe>=x&&(qe=0,Ne++)},Ge={},ot=0;ot<h.length;ot++){var ct=h[ot],yt=o.position(ct);if(yt&&(void 0!==yt.row||void 0!==yt.col)){var st={row:yt.row,col:yt.col};if(void 0===st.col)for(st.col=0;xe(st.row,st.col);)st.col++;else if(void 0===st.row)for(st.row=0;xe(st.row,st.col);)st.row++;Ge[ct.id()]=st,He(st.row,st.col)}}h.layoutPositions(this,o,function(Ot,Dt){var _t,tt;if(Ot.locked()||Ot.isParent())return!1;var Mt=Ge[Ot.id()];if(Mt)_t=Mt.col*fe+fe/2+p.x1,tt=Mt.row*he+he/2+p.y1;else{for(;xe(Ne,qe);)Ue();_t=qe*fe+fe/2+p.x1,tt=Ne*he+he/2+p.y1,He(Ne,qe),Ue()}return{x:_t,y:tt}})}return this};var Kr={ready:function(){},stop:function(){}};function Gd(u){this.options=Nn({},Kr,u)}Gd.prototype.run=function(){var u=this.options,o=u.eles,l=this;return l.emit("layoutstart"),o.nodes().positions(function(){return{x:0,y:0}}),l.one("layoutready",u.ready),l.emit("layoutready"),l.one("layoutstop",u.stop),l.emit("layoutstop"),this},Gd.prototype.stop=function(){return this};var _m={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function ol(u){this.options=Nn({},_m,u)}ol.prototype.run=function(){var u=this.options,l=u.eles.nodes(),f=at(u.positions);return l.layoutPositions(this,u,function(p,g){var _=function h(p){return null==u.positions?function(o){return{x:o.x,y:o.y}}(p.position()):f?u.positions(p):u.positions[p._private.data.id]??null}(p);return!p.locked()&&null!=_&&_}),this};var Pu={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function jd(u){this.options=Nn({},Pu,u)}jd.prototype.run=function(){var u=this.options,o=u.cy,l=u.eles,f=Mi(u.boundingBox?u.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});return l.nodes().layoutPositions(this,u,function(g,_){return{x:f.x1+Math.round(Math.random()*f.w),y:f.y1+Math.round(Math.random()*f.h)}}),this};var Xp=[{name:"breadthfirst",impl:Ru},{name:"circle",impl:Wp},{name:"concentric",impl:Fd},{name:"cose",impl:Lf},{name:"grid",impl:Hf},{name:"null",impl:Gd},{name:"preset",impl:ol},{name:"random",impl:jd}];function Ii(u){this.options=u,this.notifications=0}var Lu=function(){},Kp=function(){throw new Error("A headless instance can not render images")};Ii.prototype={recalculateRenderedStyle:Lu,notify:function(){this.notifications++},init:Lu,isHeadless:function(){return!0},png:Kp,jpg:Kp};var Ci={arrowShapeWidth:.3,registerArrowShapes:function(){var u=this.arrowShapes={},o=this,l=function(x,M,F,z,W,j,q){return W.x-F/2-q<=x&&x<=W.x+F/2+q&&W.y-F/2-q<=M&&M<=W.y+F/2+q},f=function(x,M,F,z,W){var j=x*Math.cos(z)-M*Math.sin(z),q=x*Math.sin(z)+M*Math.cos(z);return{x:j*F+W.x,y:q*F+W.y}},h=function(x,M,F,z){for(var W=[],j=0;j<x.length;j+=2)W.push(f(x[j],x[j+1],M,F,z));return W},p=function(x){for(var M=[],F=0;F<x.length;F++){var z=x[F];M.push(z.x,z.y)}return M},g=function(x){return x.pstyle("width").pfValue*x.pstyle("arrow-scale").pfValue*2},_=function(x,M){Be(M)&&(M=u[M]),u[x]=Nn({name:x,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(z,W,j,q,J,re){var fe=p(h(this.points,j+2*re,q,J));return Ko(z,W,fe)},roughCollide:l,draw:function(z,W,j,q){var J=h(this.points,W,j,q);o.arrowShapeImpl("polygon")(z,J)},spacing:function(z){return 0},gap:g},M)};_("none",{collide:Is,roughCollide:Is,draw:rd,spacing:rc,gap:rc}),_("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),_("arrow","triangle"),_("triangle-backcurve",{points:u.triangle.points,controlPoint:[0,-.15],roughCollide:l,draw:function(x,M,F,z,W){var j=h(this.points,M,F,z),q=this.controlPoint,J=f(q[0],q[1],M,F,z);o.arrowShapeImpl(this.name)(x,j,J)},gap:function(x){return.8*g(x)}}),_("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(x,M,F,z,W,j,q){var J=p(h(this.points,F+2*q,z,W)),re=p(h(this.pointsTee,F+2*q,z,W));return Ko(x,M,J)||Ko(x,M,re)},draw:function(x,M,F,z,W){var j=h(this.points,M,F,z),q=h(this.pointsTee,M,F,z);o.arrowShapeImpl(this.name)(x,j,q)}}),_("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(x,M,F,z,W,j,q){var J=W,re=Math.pow(J.x-x,2)+Math.pow(J.y-M,2)<=Math.pow((F+2*q)*this.radius,2),fe=p(h(this.points,F+2*q,z,W));return Ko(x,M,fe)||re},draw:function(x,M,F,z,W){var j=h(this.pointsTr,M,F,z);o.arrowShapeImpl(this.name)(x,j,z.x,z.y,this.radius*M)},spacing:function(x){return o.getArrowWidth(x.pstyle("width").pfValue,x.pstyle("arrow-scale").value)*this.radius}}),_("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(x,M){var F=this.baseCrossLinePts.slice(),z=M/x;return F[3]=F[3]-z,F[5]=F[5]-z,F},collide:function(x,M,F,z,W,j,q){var J=p(h(this.points,F+2*q,z,W)),re=p(h(this.crossLinePts(F,j),F+2*q,z,W));return Ko(x,M,J)||Ko(x,M,re)},draw:function(x,M,F,z,W){var j=h(this.points,M,F,z),q=h(this.crossLinePts(M,W),M,F,z);o.arrowShapeImpl(this.name)(x,j,q)}}),_("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(x){return.525*g(x)}}),_("circle",{radius:.15,collide:function(x,M,F,z,W,j,q){var J=W;return Math.pow(J.x-x,2)+Math.pow(J.y-M,2)<=Math.pow((F+2*q)*this.radius,2)},draw:function(x,M,F,z,W){o.arrowShapeImpl(this.name)(x,z.x,z.y,this.radius*M)},spacing:function(x){return o.getArrowWidth(x.pstyle("width").pfValue,x.pstyle("arrow-scale").value)*this.radius}}),_("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(x){return 1},gap:function(x){return 1}}),_("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),_("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(x){return x.pstyle("width").pfValue*x.pstyle("arrow-scale").value}}),_("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(x){return.95*x.pstyle("width").pfValue*x.pstyle("arrow-scale").value}})}},bs={projectIntoViewport:function(u,o){var l=this.cy,f=this.findContainerClientCoords(),h=f[0],p=f[1],g=f[4],_=l.pan(),E=l.zoom();return[((u-h)/g-_.x)/E,((o-p)/g-_.y)/E]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var u=this.container,o=u.getBoundingClientRect(),l=oe.getComputedStyle(u),f=function(re){return parseFloat(l.getPropertyValue(re))},h_left=f("padding-left"),h_right=f("padding-right"),h_top=f("padding-top"),h_bottom=f("padding-bottom"),p_left=f("border-left-width"),p_right=f("border-right-width"),p_top=f("border-top-width"),g=(f("border-bottom-width"),u.clientWidth);return this.containerBB=[o.left+h_left+p_left,o.top+h_top+p_top,g-(h_left+h_right),u.clientHeight-(h_top+h_bottom),o.width/(g+(p_left+p_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(u,o,l,f){return this.findNearestElements(u,o,l,f)[0]},findNearestElements:function(u,o,l,f){var j,q,h=this,p=this,g=p.getCachedZSortedEles(),_=[],E=p.cy.zoom(),x=p.cy.hasCompoundNodes(),M=(f?24:8)/E,F=(f?8:2)/E,z=(f?8:2)/E,W=1/0;function J(ye,Me){if(ye.isNode()){if(q)return;q=ye,_.push(ye)}if(ye.isEdge()&&(null==Me||Me<W))if(j){if(j.pstyle("z-compound-depth").value===ye.pstyle("z-compound-depth").value&&j.pstyle("z-compound-depth").value===ye.pstyle("z-compound-depth").value)for(var we=0;we<_.length;we++)if(_[we].isEdge()){_[we]=ye,j=ye,W=Me??W;break}}else _.push(ye),j=ye,W=Me??W}function re(ye){var Me=ye.outerWidth()+2*F,we=ye.outerHeight()+2*F,ke=Me/2,Pe=we/2,xe=ye.position();if(xe.x-ke<=u&&u<=xe.x+ke&&xe.y-Pe<=o&&o<=xe.y+Pe&&p.nodeShapes[h.getNodeShape(ye)].checkPoint(u,o,0,Me,we,xe.x,xe.y))return J(ye,0),!0}function fe(ye){var qe,Me=ye._private,we=Me.rscratch,ke=ye.pstyle("width").pfValue,Pe=ye.pstyle("arrow-scale").value,xe=ke/2+M,He=xe*xe,Ne=2*xe,ot=Me.source,ct=Me.target;if("segments"===we.edgeType||"straight"===we.edgeType||"haystack"===we.edgeType){for(var Ue=we.allpts,Ge=0;Ge+3<Ue.length;Ge+=2)if(hl(u,o,Ue[Ge],Ue[Ge+1],Ue[Ge+2],Ue[Ge+3],Ne)&&He>(qe=pl(u,o,Ue[Ge],Ue[Ge+1],Ue[Ge+2],Ue[Ge+3])))return J(ye,qe),!0}else if("bezier"===we.edgeType||"multibezier"===we.edgeType||"self"===we.edgeType||"compound"===we.edgeType)for(Ue=we.allpts,Ge=0;Ge+5<we.allpts.length;Ge+=4)if(Qr(u,o,Ue[Ge],Ue[Ge+1],Ue[Ge+2],Ue[Ge+3],Ue[Ge+4],Ue[Ge+5],Ne)&&He>(qe=yu(u,o,Ue[Ge],Ue[Ge+1],Ue[Ge+2],Ue[Ge+3],Ue[Ge+4],Ue[Ge+5])))return J(ye,qe),!0;ot=ot||Me.source,ct=ct||Me.target;var yt=h.getArrowWidth(ke,Pe),st=[{name:"source",x:we.arrowStartX,y:we.arrowStartY,angle:we.srcArrowAngle},{name:"target",x:we.arrowEndX,y:we.arrowEndY,angle:we.tgtArrowAngle},{name:"mid-source",x:we.midX,y:we.midY,angle:we.midsrcArrowAngle},{name:"mid-target",x:we.midX,y:we.midY,angle:we.midtgtArrowAngle}];for(Ge=0;Ge<st.length;Ge++){var vt=st[Ge],At=p.arrowShapes[ye.pstyle(vt.name+"-arrow-shape").value],Ot=ye.pstyle("width").pfValue;if(At.roughCollide(u,o,yt,vt.angle,{x:vt.x,y:vt.y},Ot,M)&&At.collide(u,o,yt,vt.angle,{x:vt.x,y:vt.y},Ot,M))return J(ye),!0}x&&_.length>0&&(re(ot),re(ct))}function he(ye,Me,we){return Qi(ye,Me,we)}function ve(ye,Me){var Pe,we=ye._private,ke=z;Pe=Me?Me+"-":"",ye.boundingBox();var xe=we.labelBounds[Me||"main"],He=ye.pstyle(Pe+"label").value;if("yes"===ye.pstyle("text-events").strValue&&He){var qe=he(we.rscratch,"labelX",Me),Ue=he(we.rscratch,"labelY",Me),Ge=he(we.rscratch,"labelAngle",Me),ot=ye.pstyle(Pe+"text-margin-x").pfValue,ct=ye.pstyle(Pe+"text-margin-y").pfValue,yt=xe.x1-ke-ot,st=xe.x2+ke-ot,vt=xe.y1-ke-ct,At=xe.y2+ke-ct;if(Ge){var Ot=Math.cos(Ge),Dt=Math.sin(Ge),_t=function(ar,sn){return{x:(ar-=qe)*Ot-(sn-=Ue)*Dt+qe,y:ar*Dt+sn*Ot+Ue}},tt=_t(yt,vt),Mt=_t(yt,At),Nt=_t(st,vt),$t=_t(st,At);if(Ko(u,o,[tt.x+ot,tt.y+ct,Nt.x+ot,Nt.y+ct,$t.x+ot,$t.y+ct,Mt.x+ot,Mt.y+ct]))return J(ye),!0}else if(Ya(xe,u,o))return J(ye),!0}}l&&(g=g.interactive);for(var Ie=g.length-1;Ie>=0;Ie--){var Ae=g[Ie];Ae.isNode()?re(Ae)||ve(Ae):fe(Ae)||ve(Ae)||ve(Ae,"source")||ve(Ae,"target")}return _},getAllInBox:function(u,o,l,f){for(var h=this.getCachedZSortedEles().interactive,p=[],g=Math.min(u,l),_=Math.max(u,l),E=Math.min(o,f),x=Math.max(o,f),M=Mi({x1:u=g,y1:o=E,x2:l=_,y2:f=x}),F=0;F<h.length;F++){var z=h[F];if(z.isNode()){var W=z,j=W.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});tr(M,j)&&!ad(j,M)&&p.push(W)}else{var q=z,J=q._private,re=J.rscratch;if(null!=re.startX&&null!=re.startY&&!Ya(M,re.startX,re.startY)||null!=re.endX&&null!=re.endY&&!Ya(M,re.endX,re.endY))continue;if("bezier"===re.edgeType||"multibezier"===re.edgeType||"self"===re.edgeType||"compound"===re.edgeType||"segments"===re.edgeType||"haystack"===re.edgeType){for(var fe=J.rstyle.bezierPts||J.rstyle.linePts||J.rstyle.haystackPts,he=!0,ve=0;ve<fe.length;ve++)if(!hf(M,fe[ve])){he=!1;break}he&&p.push(q)}else("haystack"===re.edgeType||"straight"===re.edgeType)&&p.push(q)}}return p}},a={calculateArrowAngles:function(u){var E,x,M,F,z,W,o=u._private.rscratch,l="haystack"===o.edgeType,f="bezier"===o.edgeType,h="multibezier"===o.edgeType,p="segments"===o.edgeType,g="compound"===o.edgeType,_="self"===o.edgeType;l?(M=o.haystackPts[0],F=o.haystackPts[1],z=o.haystackPts[2],W=o.haystackPts[3]):(M=o.arrowStartX,F=o.arrowStartY,z=o.arrowEndX,W=o.arrowEndY),re=o.midX,fe=o.midY,p?(E=M-o.segpts[0],x=F-o.segpts[1]):h||g||_||f?(E=M-di((j=o.allpts)[0],j[2],j[4],.1),x=F-di(j[1],j[3],j[5],.1)):(E=M-re,x=F-fe),o.srcArrowAngle=ci(E,x);var re=o.midX,fe=o.midY;if(l&&(re=(M+z)/2,fe=(F+W)/2),E=z-M,x=W-F,p)if((j=o.allpts).length/2%2==0)E=j[he=j.length/2]-j[ve=he-2],x=j[he+1]-j[ve+1];else{var he,ve,Ie=2+(he=j.length/2-1);E=j[he]-j[ve=he-2],x=j[he+1]-j[ve+1]}else if(h||g||_){var ye,Me,we,ke,xe,Pe,He,j=o.allpts;o.ctrlpts.length/2%2==0?(ye=di(j[Pe=j.length/2-1],j[xe=Pe+2],j[He=xe+2],0),Me=di(j[Pe+1],j[xe+1],j[He+1],0),we=di(j[Pe],j[xe],j[He],1e-4),ke=di(j[Pe+1],j[xe+1],j[He+1],1e-4)):(ye=di(j[Pe=(xe=j.length/2-1)-2],j[xe],j[He=xe+2],.4999),Me=di(j[Pe+1],j[xe+1],j[He+1],.4999),we=di(j[Pe],j[xe],j[He],.5),ke=di(j[Pe+1],j[xe+1],j[He+1],.5)),E=we-ye,x=ke-Me}if(o.midtgtArrowAngle=ci(E,x),o.midDispX=E,o.midDispY=x,E*=-1,x*=-1,p&&(j=o.allpts).length/2%2!=0&&(E=-(j[Ie=2+(he=j.length/2-1)]-j[he]),x=-(j[Ie+1]-j[he+1])),o.midsrcArrowAngle=ci(E,x),p)E=z-o.segpts[o.segpts.length-2],x=W-o.segpts[o.segpts.length-1];else if(h||g||_||f){var Ne=(j=o.allpts).length;E=z-di(j[Ne-6],j[Ne-4],j[Ne-2],.9),x=W-di(j[Ne-5],j[Ne-3],j[Ne-1],.9)}else E=z-re,x=W-fe;o.tgtArrowAngle=ci(E,x)}};a.getArrowWidth=a.getArrowHeight=function(u,o){var l=this.arrowWidthCache=this.arrowWidthCache||{},f=l[u+", "+o];return f||(f=Math.max(Math.pow(13.37*u,.9),29)*o,l[u+", "+o]=f,f)};var d={};function y(u){var o=[];if(null!=u){for(var l=0;l<u.length;l+=2)o.push({x:u[l],y:u[l+1]});return o}}d.findHaystackPoints=function(u){for(var o=0;o<u.length;o++){var l=u[o],f=l._private,h=f.rscratch;if(!h.haystack){var p=2*Math.random()*Math.PI;h.source={x:Math.cos(p),y:Math.sin(p)},p=2*Math.random()*Math.PI,h.target={x:Math.cos(p),y:Math.sin(p)}}var g=f.source,_=f.target,E=g.position(),x=_.position(),M=g.width(),F=_.width(),z=g.height(),W=_.height(),q=l.pstyle("haystack-radius").value/2;h.haystackPts=h.allpts=[h.source.x*M*q+E.x,h.source.y*z*q+E.y,h.target.x*F*q+x.x,h.target.y*W*q+x.y],h.midX=(h.allpts[0]+h.allpts[2])/2,h.midY=(h.allpts[1]+h.allpts[3])/2,h.edgeType="haystack",h.haystack=!0,this.storeEdgeProjections(l),this.calculateArrowAngles(l),this.recalculateEdgeLabelProjections(l),this.calculateLabelAngles(l)}},d.findSegmentsPoints=function(u,o){var l=u._private.rscratch,f=o.posPts,h=o.intersectionPts,p=o.vectorNormInverse,g=u.pstyle("edge-distances").value,_=u.pstyle("segment-weights"),E=u.pstyle("segment-distances"),x=Math.min(_.pfValue.length,E.pfValue.length);l.edgeType="segments",l.segpts=[];for(var M=0;M<x;M++){var F=_.pfValue[M],z=E.pfValue[M],W=1-F,q="node-position"===g?f:h,J={x:q.x1*W+q.x2*F,y:q.y1*W+q.y2*F};l.segpts.push(J.x+p.x*z,J.y+p.y*z)}},d.findLoopPoints=function(u,o,l,f){var h=u._private.rscratch,p=o.dirCounts,g=o.srcPos,_=u.pstyle("control-point-distances"),E=_?_.pfValue[0]:void 0,x=u.pstyle("loop-direction").pfValue,M=u.pstyle("loop-sweep").pfValue,F=u.pstyle("control-point-step-size").pfValue;h.edgeType="self";var z=l,W=F;f&&(z=0,W=E);var j=x-Math.PI/2,q=j-M/2,J=j+M/2,re=x+"_"+M;z=void 0===p[re]?p[re]=0:++p[re],h.ctrlpts=[g.x+1.4*Math.cos(q)*W*(z/3+1),g.y+1.4*Math.sin(q)*W*(z/3+1),g.x+1.4*Math.cos(J)*W*(z/3+1),g.y+1.4*Math.sin(J)*W*(z/3+1)]},d.findCompoundLoopPoints=function(u,o,l,f){var h=u._private.rscratch;h.edgeType="compound";var p=o.srcPos,g=o.tgtPos,_=o.srcW,E=o.srcH,x=o.tgtW,M=o.tgtH,F=u.pstyle("control-point-step-size").pfValue,z=u.pstyle("control-point-distances"),j=l,q=F;f&&(j=0,q=z?z.pfValue[0]:void 0);var re={x:p.x-_/2,y:p.y-E/2},fe={x:g.x-x/2,y:g.y-M/2},he={x:Math.min(re.x,fe.x),y:Math.min(re.y,fe.y)},Ie=Math.max(.5,Math.log(.01*_)),Ae=Math.max(.5,Math.log(.01*x));h.ctrlpts=[he.x,he.y-(1+Math.pow(50,1.12)/100)*q*(j/3+1)*Ie,he.x-(1+Math.pow(50,1.12)/100)*q*(j/3+1)*Ae,he.y]},d.findStraightEdgePoints=function(u){u._private.rscratch.edgeType="straight"},d.findBezierPoints=function(u,o,l,f,h){var p=u._private.rscratch,g=o.vectorNormInverse,_=o.posPts,E=o.intersectionPts,x=u.pstyle("edge-distances").value,M=u.pstyle("control-point-step-size").pfValue,F=u.pstyle("control-point-distances"),z=u.pstyle("control-point-weights"),W=F&&z?Math.min(F.value.length,z.value.length):1,j=F?F.pfValue[0]:void 0,q=z.value[0],J=f;p.edgeType=J?"multibezier":"bezier",p.ctrlpts=[];for(var re=0;re<W;re++){var he,fe=(.5-o.eles.length/2+l)*M*(h?-1:1),ve=mo(fe);J&&(j=F?F.pfValue[re]:M,q=z.value[re]);var Ie=void 0!==(he=f?j:void 0!==j?ve*j:void 0)?he:fe,Ae=1-q,Me="node-position"===x?_:E,we={x:Me.x1*Ae+Me.x2*q,y:Me.y1*Ae+Me.y2*q};p.ctrlpts.push(we.x+g.x*Ie,we.y+g.y*Ie)}},d.findTaxiPoints=function(u,o){var l=u._private.rscratch;l.edgeType="segments";var f="vertical",h="horizontal",p="leftward",g="rightward",_="downward",E="upward",M=o.posPts,F=o.srcW,z=o.srcH,W=o.tgtW,j=o.tgtH,J="node-position"!==u.pstyle("edge-distances").value,re=u.pstyle("taxi-direction").value,fe=re,he=u.pstyle("taxi-turn"),ve="%"===he.units,Ie=he.pfValue,Ae=Ie<0,ye=u.pstyle("taxi-turn-min-distance").pfValue,we=J?(z+j)/2:0,ke=M.x2-M.x1,Pe=M.y2-M.y1,xe=function(Tn,Ur){return Tn>0?Math.max(Tn-Ur,0):Math.min(Tn+Ur,0)},He=xe(ke,J?(F+W)/2:0),Ne=xe(Pe,we),qe=!1;"auto"===fe?re=Math.abs(He)>Math.abs(Ne)?h:f:fe===E||fe===_?(re=f,qe=!0):(fe===p||fe===g)&&(re=h,qe=!0);var st,Ue=re===f,Ge=Ue?Ne:He,ot=Ue?Pe:ke,ct=mo(ot),yt=!1;(!qe||!ve&&!Ae)&&(fe===_&&ot<0||fe===E&&ot>0||fe===p&&ot>0||fe===g&&ot<0)&&(Ge=(ct*=-1)*Math.abs(Ge),yt=!0);var Ot=function(Tn){return Math.abs(Tn)<ye||Math.abs(Tn)>=Math.abs(Ge)},Dt=Ot(st=ve?(Ie<0?1+Ie:Ie)*Ge:(Ie<0?Ge:0)+Ie*ct),_t=Ot(Math.abs(Ge)-Math.abs(st));if(!Dt&&!_t||yt)if(Ue){var Ce=M.y1+st+(J?z/2*ct:0);l.segpts=[M.x1,Ce,M.x2,Ce]}else{var xt=M.x1+st+(J?F/2*ct:0);l.segpts=[xt,M.y1,xt,M.y2]}else if(Ue){var Mt=Math.abs(ot)<=z/2,Nt=Math.abs(ke)<=W/2;if(Mt){var $t=(M.x1+M.x2)/2;l.segpts=[$t,M.y1,$t,M.y2]}else if(Nt){var ar=(M.y1+M.y2)/2;l.segpts=[M.x1,ar,M.x2,ar]}else l.segpts=[M.x1,M.y2]}else{var Pn=Math.abs(ot)<=F/2,Sn=Math.abs(Pe)<=j/2;if(Pn){var un=(M.y1+M.y2)/2;l.segpts=[M.x1,un,M.x2,un]}else if(Sn){var fr=(M.x1+M.x2)/2;l.segpts=[fr,M.y1,fr,M.y2]}else l.segpts=[M.x2,M.y1]}},d.tryToCorrectInvalidPoints=function(u,o){var l=u._private.rscratch;if("bezier"===l.edgeType){var f=o.srcPos,h=o.tgtPos,p=o.srcW,g=o.srcH,_=o.tgtW,E=o.tgtH,x=o.srcShape,M=o.tgtShape,F=!Ze(l.startX)||!Ze(l.startY),z=!Ze(l.arrowStartX)||!Ze(l.arrowStartY),W=!Ze(l.endX)||!Ze(l.endY),j=!Ze(l.arrowEndX)||!Ze(l.arrowEndY),re=this.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,fe=zi({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.startX,y:l.startY}),he=fe<re,ve=zi({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.endX,y:l.endY}),Ie=ve<re,Ae=!1;if(F||z||he){Ae=!0;var ye={x:l.ctrlpts[0]-f.x,y:l.ctrlpts[1]-f.y},Me=Math.sqrt(ye.x*ye.x+ye.y*ye.y),we={x:ye.x/Me,y:ye.y/Me},ke=Math.max(p,g),Pe={x:l.ctrlpts[0]+2*we.x*ke,y:l.ctrlpts[1]+2*we.y*ke},xe=x.intersectLine(f.x,f.y,p,g,Pe.x,Pe.y,0);he?(l.ctrlpts[0]=l.ctrlpts[0]+we.x*(re-fe),l.ctrlpts[1]=l.ctrlpts[1]+we.y*(re-fe)):(l.ctrlpts[0]=xe[0]+we.x*re,l.ctrlpts[1]=xe[1]+we.y*re)}if(W||j||Ie){Ae=!0;var He={x:l.ctrlpts[0]-h.x,y:l.ctrlpts[1]-h.y},Ne=Math.sqrt(He.x*He.x+He.y*He.y),qe={x:He.x/Ne,y:He.y/Ne},Ue=Math.max(p,g),Ge={x:l.ctrlpts[0]+2*qe.x*Ue,y:l.ctrlpts[1]+2*qe.y*Ue},ot=M.intersectLine(h.x,h.y,_,E,Ge.x,Ge.y,0);Ie?(l.ctrlpts[0]=l.ctrlpts[0]+qe.x*(re-ve),l.ctrlpts[1]=l.ctrlpts[1]+qe.y*(re-ve)):(l.ctrlpts[0]=ot[0]+qe.x*re,l.ctrlpts[1]=ot[1]+qe.y*re)}Ae&&this.findEndpoints(u)}},d.storeAllpts=function(u){var o=u._private.rscratch;if("multibezier"===o.edgeType||"bezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType){o.allpts=[],o.allpts.push(o.startX,o.startY);for(var l=0;l+1<o.ctrlpts.length;l+=2)o.allpts.push(o.ctrlpts[l],o.ctrlpts[l+1]),l+3<o.ctrlpts.length&&o.allpts.push((o.ctrlpts[l]+o.ctrlpts[l+2])/2,(o.ctrlpts[l+1]+o.ctrlpts[l+3])/2);var f;o.allpts.push(o.endX,o.endY),o.ctrlpts.length/2%2==0?(o.midX=o.allpts[f=o.allpts.length/2-1],o.midY=o.allpts[f+1]):(o.midX=di(o.allpts[f=o.allpts.length/2-3],o.allpts[f+2],o.allpts[f+4],.5),o.midY=di(o.allpts[f+1],o.allpts[f+3],o.allpts[f+5],.5))}else if("straight"===o.edgeType)o.allpts=[o.startX,o.startY,o.endX,o.endY],o.midX=(o.startX+o.endX+o.arrowStartX+o.arrowEndX)/4,o.midY=(o.startY+o.endY+o.arrowStartY+o.arrowEndY)/4;else if("segments"===o.edgeType)if(o.allpts=[],o.allpts.push(o.startX,o.startY),o.allpts.push.apply(o.allpts,o.segpts),o.allpts.push(o.endX,o.endY),o.segpts.length%4==0){var p=o.segpts.length/2,g=p-2;o.midX=(o.segpts[g]+o.segpts[p])/2,o.midY=(o.segpts[g+1]+o.segpts[p+1])/2}else{var _=o.segpts.length/2-1;o.midX=o.segpts[_],o.midY=o.segpts[_+1]}},d.checkForInvalidEdgeWarning=function(u){var o=u[0]._private.rscratch;o.nodesOverlap||Ze(o.startX)&&Ze(o.startY)&&Ze(o.endX)&&Ze(o.endY)?o.loggedErr=!1:o.loggedErr||(o.loggedErr=!0,Mr("Edge `"+u.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},d.findEdgeControlPoints=function(u){var o=this;if(u&&0!==u.length){for(var l=this,h=l.cy.hasCompoundNodes(),p={map:new Tt,get:function(ye){var Me=this.map.get(ye[0]);return null!=Me?Me.get(ye[1]):null},set:function(ye,Me){var we=this.map.get(ye[0]);null==we&&(we=new Tt,this.map.set(ye[0],we)),we.set(ye[1],Me)}},g=[],_=[],E=0;E<u.length;E++){var x=u[E],M=x._private,F=x.pstyle("curve-style").value;if(!x.removed()&&x.takesUpSpace()){if("haystack"===F){_.push(x);continue}var z="unbundled-bezier"===F||"segments"===F||"straight"===F||"straight-triangle"===F||"taxi"===F,W="unbundled-bezier"===F||"bezier"===F,q=M.target,fe=[M.source.poolIndex(),q.poolIndex()].sort(),he=p.get(fe);null==he&&(p.set(fe,he={eles:[]}),g.push(fe)),he.eles.push(x),z&&(he.hasUnbundled=!0),W&&(he.hasBezier=!0)}}for(var ve=function(ye){var we=p.get(g[ye]),ke=void 0;if(!we.hasUnbundled){var Pe=we.eles[0].parallelEdges().filter(function(zt){return zt.isBundledBezier()});Ro(we.eles),Pe.forEach(function(zt){return we.eles.push(zt)}),we.eles.sort(function(zt,Ce){return zt.poolIndex()-Ce.poolIndex()})}var xe=we.eles[0],He=xe.source(),Ne=xe.target();if(He.poolIndex()>Ne.poolIndex()){var qe=He;He=Ne,Ne=qe}var Ue=we.srcPos=He.position(),Ge=we.tgtPos=Ne.position(),ot=we.srcW=He.outerWidth(),ct=we.srcH=He.outerHeight(),yt=we.tgtW=Ne.outerWidth(),st=we.tgtH=Ne.outerHeight(),vt=we.srcShape=l.nodeShapes[o.getNodeShape(He)],At=we.tgtShape=l.nodeShapes[o.getNodeShape(Ne)];we.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Ot=0;Ot<we.eles.length;Ot++){var Dt=we.eles[Ot],_t=Dt[0]._private.rscratch,tt=Dt.pstyle("curve-style").value,Mt="unbundled-bezier"===tt||"segments"===tt||"taxi"===tt,Nt=!He.same(Dt.source());if(!we.calculatedIntersection&&He!==Ne&&(we.hasBezier||we.hasUnbundled)){we.calculatedIntersection=!0;var $t=vt.intersectLine(Ue.x,Ue.y,ot,ct,Ge.x,Ge.y,0),rn=we.srcIntn=$t,Xn=At.intersectLine(Ge.x,Ge.y,yt,st,Ue.x,Ue.y,0),ar=we.tgtIntn=Xn,sn=we.intersectionPts={x1:$t[0],x2:Xn[0],y1:$t[1],y2:Xn[1]},en=we.posPts={x1:Ue.x,x2:Ge.x,y1:Ue.y,y2:Ge.y},Pn=Xn[1]-$t[1],Sn=Xn[0]-$t[0],un=Math.sqrt(Sn*Sn+Pn*Pn),Rn=we.vector={x:Sn,y:Pn},Nr=we.vectorNorm={x:Rn.x/un,y:Rn.y/un},fr={x:-Nr.y,y:Nr.x};we.nodesOverlap=!Ze(un)||At.checkPoint($t[0],$t[1],0,yt,st,Ge.x,Ge.y)||vt.checkPoint(Xn[0],Xn[1],0,ot,ct,Ue.x,Ue.y),we.vectorNormInverse=fr,ke={nodesOverlap:we.nodesOverlap,dirCounts:we.dirCounts,calculatedIntersection:!0,hasBezier:we.hasBezier,hasUnbundled:we.hasUnbundled,eles:we.eles,srcPos:Ge,tgtPos:Ue,srcW:yt,srcH:st,tgtW:ot,tgtH:ct,srcIntn:ar,tgtIntn:rn,srcShape:At,tgtShape:vt,posPts:{x1:en.x2,y1:en.y2,x2:en.x1,y2:en.y1},intersectionPts:{x1:sn.x2,y1:sn.y2,x2:sn.x1,y2:sn.y1},vector:{x:-Rn.x,y:-Rn.y},vectorNorm:{x:-Nr.x,y:-Nr.y},vectorNormInverse:{x:-fr.x,y:-fr.y}}}var $n=Nt?ke:we;_t.nodesOverlap=$n.nodesOverlap,_t.srcIntn=$n.srcIntn,_t.tgtIntn=$n.tgtIntn,h&&(He.isParent()||He.isChild()||Ne.isParent()||Ne.isChild())&&(He.parents().anySame(Ne)||Ne.parents().anySame(He)||He.same(Ne)&&He.isParent())?o.findCompoundLoopPoints(Dt,$n,Ot,Mt):He===Ne?o.findLoopPoints(Dt,$n,Ot,Mt):"segments"===tt?o.findSegmentsPoints(Dt,$n):"taxi"===tt?o.findTaxiPoints(Dt,$n):"straight"===tt||!Mt&&we.eles.length%2==1&&Ot===Math.floor(we.eles.length/2)?o.findStraightEdgePoints(Dt):o.findBezierPoints(Dt,$n,Ot,Mt,Nt),o.findEndpoints(Dt),o.tryToCorrectInvalidPoints(Dt,$n),o.checkForInvalidEdgeWarning(Dt),o.storeAllpts(Dt),o.storeEdgeProjections(Dt),o.calculateArrowAngles(Dt),o.recalculateEdgeLabelProjections(Dt),o.calculateLabelAngles(Dt)}},Ie=0;Ie<g.length;Ie++)ve(Ie);this.findHaystackPoints(_)}},d.getSegmentPoints=function(u){var o=u[0]._private.rscratch;if("segments"===o.edgeType)return this.recalculateRenderedStyle(u),y(o.segpts)},d.getControlPoints=function(u){var o=u[0]._private.rscratch,l=o.edgeType;if("bezier"===l||"multibezier"===l||"self"===l||"compound"===l)return this.recalculateRenderedStyle(u),y(o.ctrlpts)},d.getEdgeMidpoint=function(u){var o=u[0]._private.rscratch;return this.recalculateRenderedStyle(u),{x:o.midX,y:o.midY}};var v={manualEndptToPx:function(u,o){var f=u.position(),h=u.outerWidth(),p=u.outerHeight();if(2===o.value.length){var g=[o.pfValue[0],o.pfValue[1]];return"%"===o.units[0]&&(g[0]=g[0]*h),"%"===o.units[1]&&(g[1]=g[1]*p),g[0]+=f.x,g[1]+=f.y,g}var _=o.pfValue[0];_=-Math.PI/2+_;var E=2*Math.max(h,p),x=[f.x+Math.cos(_)*E,f.y+Math.sin(_)*E];return this.nodeShapes[this.getNodeShape(u)].intersectLine(f.x,f.y,h,p,x[0],x[1],0)},findEndpoints:function(u){var l,ke,Pe,xe,He,o=this,f=u.source()[0],h=u.target()[0],p=f.position(),g=h.position(),_=u.pstyle("target-arrow-shape").value,E=u.pstyle("source-arrow-shape").value,x=u.pstyle("target-distance-from-node").pfValue,M=u.pstyle("source-distance-from-node").pfValue,F=u.pstyle("curve-style").value,z=u._private.rscratch,W=z.edgeType,q="self"===W||"compound"===W,J="bezier"===W||"multibezier"===W||q,re="bezier"!==W,fe="straight"===W||"segments"===W,he="segments"===W,ve=J||re||fe,Ie=q||"taxi"===F,Ae=u.pstyle("source-endpoint"),ye=Ie?"outside-to-node":Ae.value,Me=u.pstyle("target-endpoint"),we=Ie?"outside-to-node":Me.value;if(z.srcManEndpt=Ae,z.tgtManEndpt=Me,J){var Ne=[z.ctrlpts[0],z.ctrlpts[1]];ke=re?[z.ctrlpts[z.ctrlpts.length-2],z.ctrlpts[z.ctrlpts.length-1]]:Ne,Pe=Ne}else if(fe){var Ue=he?z.segpts.slice(0,2):[g.x,g.y];ke=he?z.segpts.slice(z.segpts.length-2):[p.x,p.y],Pe=Ue}if("inside-to-node"===we)l=[g.x,g.y];else if(Me.units)l=this.manualEndptToPx(h,Me);else if("outside-to-line"===we)l=z.tgtIntn;else if("outside-to-node"===we||"outside-to-node-or-label"===we?xe=ke:("outside-to-line"===we||"outside-to-line-or-label"===we)&&(xe=[p.x,p.y]),l=o.nodeShapes[this.getNodeShape(h)].intersectLine(g.x,g.y,h.outerWidth(),h.outerHeight(),xe[0],xe[1],0),"outside-to-node-or-label"===we||"outside-to-line-or-label"===we){var ot=h._private.rscratch,st=ot.labelX,vt=ot.labelY,At=ot.labelWidth/2,Ot=ot.labelHeight/2,Dt=h.pstyle("text-valign").value;"top"===Dt?vt-=Ot:"bottom"===Dt&&(vt+=Ot);var _t=h.pstyle("text-halign").value;"left"===_t?st-=At:"right"===_t&&(st+=At);var tt=jl(xe[0],xe[1],[st-At,vt-Ot,st+At,vt-Ot,st+At,vt+Ot,st-At,vt+Ot],g.x,g.y);if(tt.length>0){var Mt=p,Nt=Rr(Mt,ui(l)),$t=Rr(Mt,ui(tt)),rn=Nt;$t<Nt&&(l=tt,rn=$t),tt.length>2&&Rr(Mt,{x:tt[2],y:tt[3]})<rn&&(l=[tt[2],tt[3]])}}var ar=pf(l,ke,o.arrowShapes[_].spacing(u)+x),sn=pf(l,ke,o.arrowShapes[_].gap(u)+x);if(z.endX=sn[0],z.endY=sn[1],z.arrowEndX=ar[0],z.arrowEndY=ar[1],"inside-to-node"===ye)l=[p.x,p.y];else if(Ae.units)l=this.manualEndptToPx(f,Ae);else if("outside-to-line"===ye)l=z.srcIntn;else if("outside-to-node"===ye||"outside-to-node-or-label"===ye?He=Pe:("outside-to-line"===ye||"outside-to-line-or-label"===ye)&&(He=[g.x,g.y]),l=o.nodeShapes[this.getNodeShape(f)].intersectLine(p.x,p.y,f.outerWidth(),f.outerHeight(),He[0],He[1],0),"outside-to-node-or-label"===ye||"outside-to-line-or-label"===ye){var en=f._private.rscratch,un=en.labelX,Rn=en.labelY,Nr=en.labelWidth/2,fr=en.labelHeight/2,$n=f.pstyle("text-valign").value;"top"===$n?Rn-=fr:"bottom"===$n&&(Rn+=fr);var zt=f.pstyle("text-halign").value;"left"===zt?un-=Nr:"right"===zt&&(un+=Nr);var Ce=jl(He[0],He[1],[un-Nr,Rn-fr,un+Nr,Rn-fr,un+Nr,Rn+fr,un-Nr,Rn+fr],p.x,p.y);if(Ce.length>0){var dt=g,kt=Rr(dt,ui(l)),xt=Rr(dt,ui(Ce)),Et=kt;xt<kt&&(l=[Ce[0],Ce[1]],Et=xt),Ce.length>2&&Rr(dt,{x:Ce[2],y:Ce[3]})<Et&&(l=[Ce[2],Ce[3]])}}var Gt=pf(l,Pe,o.arrowShapes[E].spacing(u)+M),Tn=pf(l,Pe,o.arrowShapes[E].gap(u)+M);z.startX=Tn[0],z.startY=Tn[1],z.arrowStartX=Gt[0],z.arrowStartY=Gt[1],ve&&(z.badLine=!(Ze(z.startX)&&Ze(z.startY)&&Ze(z.endX)&&Ze(z.endY)))},getSourceEndpoint:function(u){var o=u[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(u),o.edgeType)?{x:o.haystackPts[0],y:o.haystackPts[1]}:{x:o.arrowStartX,y:o.arrowStartY}},getTargetEndpoint:function(u){var o=u[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(u),o.edgeType)?{x:o.haystackPts[2],y:o.haystackPts[3]}:{x:o.arrowEndX,y:o.arrowEndY}}},b={};function B(u,o,l){for(var f=function(x,M,F,z){return di(x,M,F,z)},p=o._private.rstyle.bezierPts,g=0;g<u.bezierProjPcts.length;g++){var _=u.bezierProjPcts[g];p.push({x:f(l[0],l[2],l[4],_),y:f(l[1],l[3],l[5],_)})}}b.storeEdgeProjections=function(u){var o=u._private,l=o.rscratch,f=l.edgeType;if(o.rstyle.bezierPts=null,o.rstyle.linePts=null,o.rstyle.haystackPts=null,"multibezier"===f||"bezier"===f||"self"===f||"compound"===f){o.rstyle.bezierPts=[];for(var h=0;h+5<l.allpts.length;h+=4)B(this,u,l.allpts.slice(h,h+6))}else if("segments"===f){var p=o.rstyle.linePts=[];for(h=0;h+1<l.allpts.length;h+=2)p.push({x:l.allpts[h],y:l.allpts[h+1]})}else if("haystack"===f){var g=l.haystackPts;o.rstyle.haystackPts=[{x:g[0],y:g[1]},{x:g[2],y:g[3]}]}o.rstyle.arrowWidth=this.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.arrowShapeWidth},b.recalculateEdgeProjections=function(u){this.findEdgeControlPoints(u)};var G={recalculateNodeLabelProjection:function(u){var o=u.pstyle("label").strValue;if(!Ft(o)){var l,f,h=u._private,p=u.width(),g=u.height(),_=u.padding(),E=u.position(),x=u.pstyle("text-halign").strValue,M=u.pstyle("text-valign").strValue,F=h.rscratch,z=h.rstyle;switch(x){case"left":l=E.x-p/2-_;break;case"right":l=E.x+p/2+_;break;default:l=E.x}switch(M){case"top":f=E.y-g/2-_;break;case"bottom":f=E.y+g/2+_;break;default:f=E.y}F.labelX=l,F.labelY=f,z.labelX=l,z.labelY=f,this.calculateLabelAngles(u),this.applyLabelDimensions(u)}}},X=function(o,l){var f=Math.atan(l/o);return 0===o&&f<0&&(f*=-1),f},ee=function(o,l){return X(l.x-o.x,l.y-o.y)};G.recalculateEdgeLabelProjections=function(u){var o,l=u._private,f=l.rscratch,h=this,p={mid:u.pstyle("label").strValue,source:u.pstyle("source-label").strValue,target:u.pstyle("target-label").strValue};if(p.mid||p.source||p.target){var g=function(F,z,W){ko(l.rscratch,F,z,W),ko(l.rstyle,F,z,W)};g("labelX",null,(o={x:f.midX,y:f.midY}).x),g("labelY",null,o.y);var _=X(f.midDispX,f.midDispY);g("labelAutoAngle",null,_);var E=function M(){if(M.cache)return M.cache;for(var F=[],z=0;z+5<f.allpts.length;z+=4)F.push({p0:{x:f.allpts[z],y:f.allpts[z+1]},p1:{x:f.allpts[z+2],y:f.allpts[z+3]},p2:{x:f.allpts[z+4],y:f.allpts[z+5]},startDist:0,length:0,segments:[]});var J=l.rstyle.bezierPts,re=h.bezierProjPcts.length;function fe(ye,Me,we,ke,Pe){var xe=zi(Me,we),He=ye.segments[ye.segments.length-1];ye.segments.push({p0:Me,p1:we,t0:ke,t1:Pe,startDist:He?He.startDist+He.length:0,length:xe}),ye.length+=xe}for(var he=0;he<F.length;he++){var ve=F[he],Ie=F[he-1];Ie&&(ve.startDist=Ie.startDist+Ie.length),fe(ve,ve.p0,J[he*re],0,h.bezierProjPcts[0]);for(var Ae=0;Ae<re-1;Ae++)fe(ve,J[he*re+Ae],J[he*re+Ae+1],h.bezierProjPcts[Ae],h.bezierProjPcts[Ae+1]);fe(ve,J[he*re+re-1],ve.p2,h.bezierProjPcts[re-1],1)}return M.cache=F},x=function(F){var z,W="source"===F;if(p[F]){var j=u.pstyle(F+"-text-offset").pfValue;switch(f.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var J,q=E(),re=0,fe=0,he=0;he<q.length;he++){for(var ve=q[W?he:q.length-1-he],Ie=0;Ie<ve.segments.length;Ie++){var Ae=ve.segments[W?Ie:ve.segments.length-1-Ie];if(re=fe,(fe+=Ae.length)>=j||he===q.length-1&&Ie===ve.segments.length-1){J={cp:ve,segment:Ae};break}}if(J)break}var Me=J.cp,we=J.segment,ke=(j-re)/we.length,Pe=we.t1-we.t0,xe=W?we.t0+Pe*ke:we.t1-Pe*ke;xe=Js(0,xe,1),o=vo(Me.p0,Me.p1,Me.p2,xe),z=function(o,l,f,h){var p=Js(0,h-.001,1),g=Js(0,h+.001,1),_=vo(o,l,f,p),E=vo(o,l,f,g);return ee(_,E)}(Me.p0,Me.p1,Me.p2,xe);break;case"straight":case"segments":case"haystack":for(var Ne,qe,Ue,Ge,He=0,ot=f.allpts.length,ct=0;ct+3<ot&&(W?(Ue={x:f.allpts[ct],y:f.allpts[ct+1]},Ge={x:f.allpts[ct+2],y:f.allpts[ct+3]}):(Ue={x:f.allpts[ot-2-ct],y:f.allpts[ot-1-ct]},Ge={x:f.allpts[ot-4-ct],y:f.allpts[ot-3-ct]}),qe=He,!((He+=Ne=zi(Ue,Ge))>=j));ct+=2);var st=(j-qe)/Ne;st=Js(0,st,1),o=function(o,l,f,h){var p_x=l.x-o.x,p_y=l.y-o.y,g=zi(o,l);return f=f??0,{x:o.x+p_x/g*(h=h??f*g),y:o.y+p_y/g*h}}(Ue,Ge,st),z=ee(Ue,Ge)}g("labelX",F,o.x),g("labelY",F,o.y),g("labelAutoAngle",F,z)}};x("source"),x("target"),this.applyLabelDimensions(u)}},G.applyLabelDimensions=function(u){this.applyPrefixedLabelDimensions(u),u.isEdge()&&(this.applyPrefixedLabelDimensions(u,"source"),this.applyPrefixedLabelDimensions(u,"target"))},G.applyPrefixedLabelDimensions=function(u,o){var l=u._private,f=this.getLabelText(u,o),h=this.calculateLabelDimensions(u,f),p=u.pstyle("line-height").pfValue,g=u.pstyle("text-wrap").strValue,_=Qi(l.rscratch,"labelWrapCachedLines",o)||[],E="wrap"!==g?1:Math.max(_.length,1),x=h.height/E,M=x*p,F=h.width,z=h.height+(E-1)*(p-1)*x;ko(l.rstyle,"labelWidth",o,F),ko(l.rscratch,"labelWidth",o,F),ko(l.rstyle,"labelHeight",o,z),ko(l.rscratch,"labelHeight",o,z),ko(l.rscratch,"labelLineHeight",o,M)},G.getLabelText=function(u,o){var l=u._private,h=u.pstyle((o?o+"-":"")+"label").strValue,p=u.pstyle("text-transform").value,g=function(yt,st){return st?(ko(l.rscratch,yt,o,st),st):Qi(l.rscratch,yt,o)};if(!h)return"";"none"==p||("uppercase"==p?h=h.toUpperCase():"lowercase"==p&&(h=h.toLowerCase()));var _=u.pstyle("text-wrap").value;if("wrap"===_){var E=g("labelKey");if(null!=E&&g("labelWrapKey")===E)return g("labelWrapCachedText");for(var M=h.split("\n"),F=u.pstyle("text-max-width").pfValue,W="anywhere"===u.pstyle("text-overflow-wrap").value,j=[],q=/[\s\u200b]+/,J=W?"":" ",re=0;re<M.length;re++){var fe=M[re],ve=this.calculateLabelDimensions(u,fe).width;if(W){var Ie=fe.split("").join("\u200b");fe=Ie}if(ve>F){for(var Ae=fe.split(q),ye="",Me=0;Me<Ae.length;Me++){var we=Ae[Me];this.calculateLabelDimensions(u,0===ye.length?we:ye+J+we).width<=F?ye+=we+J:(ye&&j.push(ye),ye=we+J)}ye.match(/^[\s\u200b]+$/)||j.push(ye)}else j.push(fe)}g("labelWrapCachedLines",j),h=g("labelWrapCachedText",j.join("\n")),g("labelWrapKey",E)}else if("ellipsis"===_){var He=u.pstyle("text-max-width").pfValue,Ne="",Ue=!1;if(this.calculateLabelDimensions(u,h).width<He)return h;for(var Ge=0;Ge<h.length&&!(this.calculateLabelDimensions(u,Ne+h[Ge]+"\u2026").width>He);Ge++)Ne+=h[Ge],Ge===h.length-1&&(Ue=!0);return Ue||(Ne+="\u2026"),Ne}return h},G.getLabelJustification=function(u){var o=u.pstyle("text-justification").strValue,l=u.pstyle("text-halign").strValue;if("auto"!==o)return o;if(!u.isNode())return"center";switch(l){case"left":return"right";case"right":return"left";default:return"center"}},G.calculateLabelDimensions=function(u,o){var f=ss(o,u._private.labelDimsKey),h=this.labelDimCache||(this.labelDimCache=[]),p=h[f];if(null!=p)return p;var _=u.pstyle("font-style").strValue,E=u.pstyle("font-size").pfValue,x=u.pstyle("font-family").strValue,M=u.pstyle("font-weight").strValue,F=this.labelCalcCanvas,z=this.labelCalcCanvasContext;if(!F){F=this.labelCalcCanvas=document.createElement("canvas"),z=this.labelCalcCanvasContext=F.getContext("2d");var W=F.style;W.position="absolute",W.left="-9999px",W.top="-9999px",W.zIndex="-1",W.visibility="hidden",W.pointerEvents="none"}z.font="".concat(_," ").concat(M," ").concat(E,"px ").concat(x);for(var j=0,q=0,J=o.split("\n"),re=0;re<J.length;re++){var he=z.measureText(J[re]),ve=Math.ceil(he.width),Ie=E;j=Math.max(ve,j),q+=Ie}return h[f]={width:j+=0,height:q+=0}},G.calculateLabelAngle=function(u,o){var f=u._private.rscratch,h=u.isEdge(),g=u.pstyle((o?o+"-":"")+"text-rotation"),_=g.strValue;return"none"===_?0:h&&"autorotate"===_?f.labelAutoAngle:"autorotate"===_?0:g.pfValue},G.calculateLabelAngles=function(u){var o=this,l=u.isEdge(),h=u._private.rscratch;h.labelAngle=o.calculateLabelAngle(u),l&&(h.sourceLabelAngle=o.calculateLabelAngle(u,"source"),h.targetLabelAngle=o.calculateLabelAngle(u,"target"))};var Ee={},Xe=!1;Ee.getNodeShape=function(u){var l=u.pstyle("shape").value;if("cutrectangle"===l&&(u.width()<28||u.height()<28))return Xe||(Mr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Xe=!0),"rectangle";if(u.isParent())return"rectangle"===l||"roundrectangle"===l||"round-rectangle"===l||"cutrectangle"===l||"cut-rectangle"===l||"barrel"===l?l:"rectangle";if("polygon"===l){var f=u.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(f).name}return l};var gt={updateCachedGrabbedEles:function(){var u=this.cachedZSortedEles;if(u){u.drag=[],u.nondrag=[];for(var o=[],l=0;l<u.length;l++){var h=(f=u[l])._private.rscratch;f.grabbed()&&!f.isParent()?o.push(f):h.inDragLayer?u.drag.push(f):u.nondrag.push(f)}for(l=0;l<o.length;l++){var f;u.drag.push(f=o[l])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(u){if(u||!this.cachedZSortedEles){var o=this.cy.mutableElements().toArray();o.sort(Jl),o.interactive=o.filter(function(l){return l.interactive()}),this.cachedZSortedEles=o,this.updateCachedGrabbedEles()}else o=this.cachedZSortedEles;return o}},wt={};[bs,a,d,v,b,G,Ee,{registerCalculationListeners:function(){var u=this.cy,o=u.collection(),l=this,f=function(g){var _=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o.merge(g),_)for(var E=0;E<g.length;E++){var F=g[E]._private.rstyle;F.clean=!1,F.cleanConnected=!1}};l.binder(u).on("bounds.* dirty.*",function(g){f(g.target)}).on("style.* background.*",function(g){f(g.target,!1)});var h=function(g){if(g){var _=l.onUpdateEleCalcsFns;o.cleanStyle();for(var E=0;E<o.length;E++){var x=o[E],M=x._private.rstyle;x.isNode()&&!M.cleanConnected&&(f(x.connectedEdges()),M.cleanConnected=!0)}if(_)for(var F=0;F<_.length;F++)(0,_[F])(g,o);l.recalculateRenderedStyle(o),o=u.collection()}};l.flushRenderedStyleQueue=function(){h(!0)},l.beforeRender(h,l.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(u){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(u)},recalculateRenderedStyle:function(u,o){var l=function(ve){return ve._private.rstyle.cleanConnected},f=[],h=[];if(!this.destroyed){void 0===o&&(o=!0);for(var p=0;p<u.length;p++){var g=u[p],_=g._private,E=_.rstyle;g.isEdge()&&(!l(g.source())||!l(g.target()))&&(E.clean=!1),!(o&&E.clean||g.removed())&&"none"!==g.pstyle("display").value&&("nodes"===_.group?h.push(g):f.push(g),E.clean=!0)}for(var x=0;x<h.length;x++){var M=h[x],z=M._private.rstyle,W=M.position();this.recalculateNodeLabelProjection(M),z.nodeX=W.x,z.nodeY=W.y,z.nodeW=M.pstyle("width").pfValue,z.nodeH=M.pstyle("height").pfValue}this.recalculateEdgeProjections(f);for(var j=0;j<f.length;j++){var J=f[j]._private,re=J.rstyle,fe=J.rscratch;re.srcX=fe.arrowStartX,re.srcY=fe.arrowStartY,re.tgtX=fe.arrowEndX,re.tgtY=fe.arrowEndY,re.midX=fe.midX,re.midY=fe.midY,re.labelAngle=fe.labelAngle,re.sourceLabelAngle=fe.sourceLabelAngle,re.targetLabelAngle=fe.targetLabelAngle}}}},gt].forEach(function(u){Nn(wt,u)});var Ut={getCachedImage:function(u,o,l){var h=this.imageCache=this.imageCache||{},p=h[u];if(p)return p.image.complete||p.image.addEventListener("load",l),p.image;var g=(p=h[u]=h[u]||{}).image=new Image;g.addEventListener("load",l),g.addEventListener("error",function(){g.error=!0});return"data:"===u.substring(0,5).toLowerCase()||(g.crossOrigin=o="null"===o?null:o),g.src=u,g}},Wt={registerBinding:function(u,o,l,f){var h=Array.prototype.slice.apply(arguments,[1]),p=this.binder(u);return p.on.apply(p,h)},binder:function(u){var o=this,l=u===window||u===document||u===document.body||function(o){return!(typeof HTMLElement>"u")&&o instanceof HTMLElement}(u);if(null==o.supportsPassiveEvents){var f=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return f=!0,!0}});window.addEventListener("test",null,h)}catch{}o.supportsPassiveEvents=f}var p=function(_,E,x){var M=Array.prototype.slice.call(arguments);return l&&o.supportsPassiveEvents&&(M[2]={capture:x??!1,passive:!1,once:!1}),o.bindings.push({target:u,args:M}),(u.addEventListener||u.on).apply(u,M),this};return{on:p,addEventListener:p,addListener:p,bind:p}},nodeIsDraggable:function(u){return u&&u.isNode()&&!u.locked()&&u.grabbable()},nodeIsGrabbable:function(u){return this.nodeIsDraggable(u)&&u.interactive()}};Wt.load=function(){var u=this,o=function(Ce){return Ce.selected()},l=function(Ce,dt,kt,xt){null==Ce&&(Ce=u.cy);for(var Et=0;Et<dt.length;Et++)Ce.emit({originalEvent:kt,type:dt[Et],position:xt})},f=function(Ce){return Ce.shiftKey||Ce.metaKey||Ce.ctrlKey},h=function(Ce,dt){var kt=!0;if(u.cy.hasCompoundNodes()&&Ce&&Ce.pannable()){for(var xt=0;dt&&xt<dt.length;xt++)if((Ce=dt[xt]).isNode()&&Ce.isParent()&&!Ce.pannable()){kt=!1;break}}else kt=!0;return kt},_=function(Ce){Ce[0]._private.rscratch.inDragLayer=!0},x=function(Ce){Ce[0]._private.rscratch.isGrabTarget=!0},F=function(Ce,dt){var kt=dt.addToList;!kt.has(Ce)&&Ce.grabbable()&&!Ce.locked()&&(kt.merge(Ce),function(Ce){Ce[0]._private.grabbed=!0}(Ce))},W=function(Ce,dt){dt=dt||{};var kt=Ce.cy().hasCompoundNodes();dt.inDragLayer&&(Ce.forEach(_),Ce.neighborhood().stdFilter(function(xt){return!kt||xt.isEdge()}).forEach(_)),dt.addToList&&Ce.forEach(function(xt){F(xt,dt)}),function(Ce,dt){if(Ce.cy().hasCompoundNodes()&&(null!=dt.inDragLayer||null!=dt.addToList)){var kt=Ce.descendants();dt.inDragLayer&&(kt.forEach(_),kt.connectedEdges().forEach(_)),dt.addToList&&F(kt,dt)}}(Ce,dt),J(Ce,{inDragLayer:dt.inDragLayer}),u.updateCachedGrabbedEles()},j=W,q=function(Ce){Ce&&(u.getCachedZSortedEles().forEach(function(dt){(function(Ce){Ce[0]._private.grabbed=!1})(dt),function(Ce){Ce[0]._private.rscratch.inDragLayer=!1}(dt),function(Ce){Ce[0]._private.rscratch.isGrabTarget=!1}(dt)}),u.updateCachedGrabbedEles())},J=function(Ce,dt){if((null!=dt.inDragLayer||null!=dt.addToList)&&Ce.cy().hasCompoundNodes()){var kt=Ce.ancestors().orphans();if(!kt.same(Ce)){var xt=kt.descendants().spawnSelf().merge(kt).unmerge(Ce).unmerge(Ce.descendants()),Et=xt.connectedEdges();dt.inDragLayer&&(Et.forEach(_),xt.forEach(_)),dt.addToList&&xt.forEach(function(mr){F(mr,dt)})}}},re=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},fe=typeof MutationObserver<"u",he=typeof ResizeObserver<"u";fe?(u.removeObserver=new MutationObserver(function(zt){for(var Ce=0;Ce<zt.length;Ce++){var kt=zt[Ce].removedNodes;if(kt)for(var xt=0;xt<kt.length;xt++)if(kt[xt]===u.container){u.destroy();break}}}),u.container.parentNode&&u.removeObserver.observe(u.container.parentNode,{childList:!0})):u.registerBinding(u.container,"DOMNodeRemoved",function(zt){u.destroy()});var ve=R.default(function(){u.cy.resize()},100);fe&&(u.styleObserver=new MutationObserver(ve),u.styleObserver.observe(u.container,{attributes:!0})),u.registerBinding(window,"resize",ve),he&&(u.resizeObserver=new ResizeObserver(ve),u.resizeObserver.observe(u.container));var Ae=function(){u.invalidateContainerClientCoordsCache()};(function(Ce,dt){for(;null!=Ce;)u.registerBinding(zt=Ce,"transitionend",Ae),u.registerBinding(zt,"animationend",Ae),u.registerBinding(zt,"scroll",Ae),Ce=Ce.parentNode;var zt})(u.container),u.registerBinding(u.container,"contextmenu",function(zt){zt.preventDefault()});var we,ke,Pe,Me=function(Ce){for(var dt=u.findContainerClientCoords(),kt=dt[0],xt=dt[1],Et=dt[2],mr=dt[3],Gt=Ce.touches?Ce.touches:[Ce],Tn=!1,Ur=0;Ur<Gt.length;Ur++){var Zr=Gt[Ur];if(kt<=Zr.clientX&&Zr.clientX<=kt+Et&&xt<=Zr.clientY&&Zr.clientY<=xt+mr){Tn=!0;break}}if(!Tn)return!1;for(var hr=u.container,cr=Ce.target.parentNode,_r=!1;cr;){if(cr===hr){_r=!0;break}cr=cr.parentNode}return!!_r};u.registerBinding(u.container,"mousedown",function(Ce){if(Me(Ce)){Ce.preventDefault(),re(),u.hoverData.capture=!0,u.hoverData.which=Ce.which;var dt=u.cy,kt=[Ce.clientX,Ce.clientY],xt=u.projectIntoViewport(kt[0],kt[1]),Et=u.selection,mr=u.findNearestElements(xt[0],xt[1],!0,!1),Gt=mr[0],Tn=u.dragData.possibleDragElements;if(u.hoverData.mdownPos=xt,u.hoverData.mdownGPos=kt,3==Ce.which){u.hoverData.cxtStarted=!0;var Zr={originalEvent:Ce,type:"cxttapstart",position:{x:xt[0],y:xt[1]}};Gt?(Gt.activate(),Gt.emit(Zr),u.hoverData.down=Gt):dt.emit(Zr),u.hoverData.downTime=(new Date).getTime(),u.hoverData.cxtDragged=!1}else if(1==Ce.which){if(Gt&&Gt.activate(),null!=Gt&&u.nodeIsGrabbable(Gt)){var hr=function(to){return{originalEvent:Ce,type:to,position:{x:xt[0],y:xt[1]}}};if(x(Gt),Gt.selected()){Tn=u.dragData.possibleDragElements=dt.collection();var cr=dt.$(function(_r){return _r.isNode()&&_r.selected()&&u.nodeIsGrabbable(_r)});W(cr,{addToList:Tn}),Gt.emit(hr("grabon")),cr.forEach(function(to){to.emit(hr("grab"))})}else Tn=u.dragData.possibleDragElements=dt.collection(),j(Gt,{addToList:Tn}),Gt.emit(hr("grabon")).emit(hr("grab"));u.redrawHint("eles",!0),u.redrawHint("drag",!0)}u.hoverData.down=Gt,u.hoverData.downs=mr,u.hoverData.downTime=(new Date).getTime(),l(Gt,["mousedown","tapstart","vmousedown"],Ce,{x:xt[0],y:xt[1]}),null==Gt?(Et[4]=1,u.data.bgActivePosistion={x:xt[0],y:xt[1]},u.redrawHint("select",!0),u.redraw()):Gt.pannable()&&(Et[4]=1),u.hoverData.tapholdCancelled=!1,clearTimeout(u.hoverData.tapholdTimeout),u.hoverData.tapholdTimeout=setTimeout(function(){if(!u.hoverData.tapholdCancelled){var to=u.hoverData.down;to?to.emit({originalEvent:Ce,type:"taphold",position:{x:xt[0],y:xt[1]}}):dt.emit({originalEvent:Ce,type:"taphold",position:{x:xt[0],y:xt[1]}})}},u.tapholdDuration)}Et[0]=Et[2]=xt[0],Et[1]=Et[3]=xt[1]}},!1),u.registerBinding(window,"mousemove",function(Ce){var su;if(u.hoverData.capture||Me(Ce)){var kt=!1,xt=u.cy,Et=xt.zoom(),mr=[Ce.clientX,Ce.clientY],Gt=u.projectIntoViewport(mr[0],mr[1]),Tn=u.hoverData.mdownPos,Ur=u.hoverData.mdownGPos,Zr=u.selection,hr=null;!u.hoverData.draggingEles&&!u.hoverData.dragging&&!u.hoverData.selecting&&(hr=u.findNearestElement(Gt[0],Gt[1],!0,!1));var no,qr=u.hoverData.last,cr=u.hoverData.down,_r=[Gt[0]-Zr[2],Gt[1]-Zr[3]],to=u.dragData.possibleDragElements;if(Ur){var Il=mr[0]-Ur[0],xa=mr[1]-Ur[1];u.hoverData.isOverThresholdDrag=no=Il*Il+xa*xa>=u.desktopTapThreshold2}var Io=f(Ce);no&&(u.hoverData.tapholdCancelled=!0),kt=!0,l(hr,["mousemove","vmousemove","tapdrag"],Ce,{x:Gt[0],y:Gt[1]});var jf=function(){u.data.bgActivePosistion=void 0,u.hoverData.selecting||xt.emit({originalEvent:Ce,type:"boxstart",position:{x:Gt[0],y:Gt[1]}}),Zr[4]=1,u.hoverData.selecting=!0,u.redrawHint("select",!0),u.redraw()};if(3===u.hoverData.which){if(no){var Kd={originalEvent:Ce,type:"cxtdrag",position:{x:Gt[0],y:Gt[1]}};cr?cr.emit(Kd):xt.emit(Kd),u.hoverData.cxtDragged=!0,(!u.hoverData.cxtOver||hr!==u.hoverData.cxtOver)&&(u.hoverData.cxtOver&&u.hoverData.cxtOver.emit({originalEvent:Ce,type:"cxtdragout",position:{x:Gt[0],y:Gt[1]}}),u.hoverData.cxtOver=hr,hr&&hr.emit({originalEvent:Ce,type:"cxtdragover",position:{x:Gt[0],y:Gt[1]}}))}}else if(u.hoverData.dragging){if(kt=!0,xt.panningEnabled()&&xt.userPanningEnabled()){var Wf;if(u.hoverData.justStartedPan){var rg=u.hoverData.mdownPos;Wf={x:(Gt[0]-rg[0])*Et,y:(Gt[1]-rg[1])*Et},u.hoverData.justStartedPan=!1}else Wf={x:_r[0]*Et,y:_r[1]*Et};xt.panBy(Wf),xt.emit("dragpan"),u.hoverData.dragged=!0}Gt=u.projectIntoViewport(Ce.clientX,Ce.clientY)}else if(1!=Zr[4]||null!=cr&&!cr.pannable()){if(cr&&cr.pannable()&&cr.active()&&cr.unactivate(),(!cr||!cr.grabbed())&&hr!=qr&&(qr&&l(qr,["mouseout","tapdragout"],Ce,{x:Gt[0],y:Gt[1]}),hr&&l(hr,["mouseover","tapdragover"],Ce,{x:Gt[0],y:Gt[1]}),u.hoverData.last=hr),cr)if(no){if(xt.boxSelectionEnabled()&&Io)cr&&cr.grabbed()&&(q(to),cr.emit("freeon"),to.emit("free"),u.dragData.didDrag&&(cr.emit("dragfreeon"),to.emit("dragfree"))),jf();else if(cr&&cr.grabbed()&&u.nodeIsDraggable(cr)){var _s=!u.dragData.didDrag;_s&&u.redrawHint("eles",!0),u.dragData.didDrag=!0,u.hoverData.draggingEles||W(to,{inDragLayer:!0});var Da={x:0,y:0};if(Ze(_r[0])&&Ze(_r[1])&&(Da.x+=_r[0],Da.y+=_r[1],_s)){var Cs=u.hoverData.dragDelta;Cs&&Ze(Cs[0])&&Ze(Cs[1])&&(Da.x+=Cs[0],Da.y+=Cs[1])}u.hoverData.draggingEles=!0,to.silentShift(Da).emit("position drag"),u.redrawHint("drag",!0),u.redraw()}}else 0===(su=u.hoverData.dragDelta=u.hoverData.dragDelta||[]).length?(su.push(_r[0]),su.push(_r[1])):(su[0]+=_r[0],su[1]+=_r[1]);kt=!0}else no&&(u.hoverData.dragging||!xt.boxSelectionEnabled()||!Io&&xt.panningEnabled()&&xt.userPanningEnabled()?!u.hoverData.selecting&&xt.panningEnabled()&&xt.userPanningEnabled()&&h(cr,u.hoverData.downs)&&(u.hoverData.dragging=!0,u.hoverData.justStartedPan=!0,Zr[4]=0,u.data.bgActivePosistion=ui(Tn),u.redrawHint("select",!0),u.redraw()):jf(),cr&&cr.pannable()&&cr.active()&&cr.unactivate());if(Zr[2]=Gt[0],Zr[3]=Gt[1],kt)return Ce.stopPropagation&&Ce.stopPropagation(),Ce.preventDefault&&Ce.preventDefault(),!1}},!1),u.registerBinding(window,"mouseup",function(Ce){if(u.hoverData.capture){u.hoverData.capture=!1;var kt=u.cy,xt=u.projectIntoViewport(Ce.clientX,Ce.clientY),Et=u.selection,mr=u.findNearestElement(xt[0],xt[1],!0,!1),Gt=u.dragData.possibleDragElements,Tn=u.hoverData.down,Ur=f(Ce);if(u.data.bgActivePosistion&&(u.redrawHint("select",!0),u.redraw()),u.hoverData.tapholdCancelled=!0,u.data.bgActivePosistion=void 0,Tn&&Tn.unactivate(),3===u.hoverData.which){var Zr={originalEvent:Ce,type:"cxttapend",position:{x:xt[0],y:xt[1]}};if(Tn?Tn.emit(Zr):kt.emit(Zr),!u.hoverData.cxtDragged){var hr={originalEvent:Ce,type:"cxttap",position:{x:xt[0],y:xt[1]}};Tn?Tn.emit(hr):kt.emit(hr)}u.hoverData.cxtDragged=!1,u.hoverData.which=null}else if(1===u.hoverData.which){if(l(mr,["mouseup","tapend","vmouseup"],Ce,{x:xt[0],y:xt[1]}),!u.dragData.didDrag&&!u.hoverData.dragged&&!u.hoverData.selecting&&!u.hoverData.isOverThresholdDrag&&(l(Tn,["click","tap","vclick"],Ce,{x:xt[0],y:xt[1]}),ke=!1,Ce.timeStamp-Pe<=kt.multiClickDebounceTime()?(we&&clearTimeout(we),ke=!0,Pe=null,l(Tn,["dblclick","dbltap","vdblclick"],Ce,{x:xt[0],y:xt[1]})):(we=setTimeout(function(){ke||l(Tn,["oneclick","onetap","voneclick"],Ce,{x:xt[0],y:xt[1]})},kt.multiClickDebounceTime()),Pe=Ce.timeStamp)),null==Tn&&!u.dragData.didDrag&&!u.hoverData.selecting&&!u.hoverData.dragged&&!f(Ce)&&(kt.$(o).unselect(["tapunselect"]),Gt.length>0&&u.redrawHint("eles",!0),u.dragData.possibleDragElements=Gt=kt.collection()),mr==Tn&&!u.dragData.didDrag&&!u.hoverData.selecting&&null!=mr&&mr._private.selectable&&(u.hoverData.dragging||("additive"===kt.selectionType()||Ur?mr.selected()?mr.unselect(["tapunselect"]):mr.select(["tapselect"]):Ur||(kt.$(o).unmerge(mr).unselect(["tapunselect"]),mr.select(["tapselect"]))),u.redrawHint("eles",!0)),u.hoverData.selecting){var qr=kt.collection(u.getAllInBox(Et[0],Et[1],Et[2],Et[3]));u.redrawHint("select",!0),qr.length>0&&u.redrawHint("eles",!0),kt.emit({type:"boxend",originalEvent:Ce,position:{x:xt[0],y:xt[1]}}),"additive"===kt.selectionType()||Ur||kt.$(o).unmerge(qr).unselect(),qr.emit("box").stdFilter(function(no){return no.selectable()&&!no.selected()}).select().emit("boxselect"),u.redraw()}if(u.hoverData.dragging&&(u.hoverData.dragging=!1,u.redrawHint("select",!0),u.redrawHint("eles",!0),u.redraw()),!Et[4]){u.redrawHint("drag",!0),u.redrawHint("eles",!0);var _r=Tn&&Tn.grabbed();q(Gt),_r&&(Tn.emit("freeon"),Gt.emit("free"),u.dragData.didDrag&&(Tn.emit("dragfreeon"),Gt.emit("dragfree")))}}Et[4]=0,u.hoverData.down=null,u.hoverData.cxtStarted=!1,u.hoverData.draggingEles=!1,u.hoverData.selecting=!1,u.hoverData.isOverThresholdDrag=!1,u.dragData.didDrag=!1,u.hoverData.dragged=!1,u.hoverData.dragDelta=[],u.hoverData.mdownPos=null,u.hoverData.mdownGPos=null}},!1);var xe=function(Ce){if(!u.scrollingPage){var dt=u.cy,kt=dt.zoom(),xt=dt.pan(),Et=u.projectIntoViewport(Ce.clientX,Ce.clientY),mr=[Et[0]*kt+xt.x,Et[1]*kt+xt.y];if(u.hoverData.draggingEles||u.hoverData.dragging||u.hoverData.cxtStarted||0!==u.selection[4])return void Ce.preventDefault();if(dt.panningEnabled()&&dt.userPanningEnabled()&&dt.zoomingEnabled()&&dt.userZoomingEnabled()){var Gt;Ce.preventDefault(),u.data.wheelZooming=!0,clearTimeout(u.data.wheelTimeout),u.data.wheelTimeout=setTimeout(function(){u.data.wheelZooming=!1,u.redrawHint("eles",!0),u.redraw()},150),Gt=null!=Ce.deltaY?Ce.deltaY/-250:null!=Ce.wheelDeltaY?Ce.wheelDeltaY/1e3:Ce.wheelDelta/1e3,Gt*=u.wheelSensitivity,1===Ce.deltaMode&&(Gt*=33);var Ur=dt.zoom()*Math.pow(10,Gt);"gesturechange"===Ce.type&&(Ur=u.gestureStartZoom*Ce.scale),dt.zoom({level:Ur,renderedPosition:{x:mr[0],y:mr[1]}}),dt.emit("gesturechange"===Ce.type?"pinchzoom":"scrollzoom")}}};u.registerBinding(u.container,"wheel",xe,!0),u.registerBinding(window,"scroll",function(Ce){u.scrollingPage=!0,clearTimeout(u.scrollingPageTimeout),u.scrollingPageTimeout=setTimeout(function(){u.scrollingPage=!1},250)},!0),u.registerBinding(u.container,"gesturestart",function(Ce){u.gestureStartZoom=u.cy.zoom(),u.hasTouchStarted||Ce.preventDefault()},!0),u.registerBinding(u.container,"gesturechange",function(zt){u.hasTouchStarted||xe(zt)},!0),u.registerBinding(u.container,"mouseout",function(Ce){var dt=u.projectIntoViewport(Ce.clientX,Ce.clientY);u.cy.emit({originalEvent:Ce,type:"mouseout",position:{x:dt[0],y:dt[1]}})},!1),u.registerBinding(u.container,"mouseover",function(Ce){var dt=u.projectIntoViewport(Ce.clientX,Ce.clientY);u.cy.emit({originalEvent:Ce,type:"mouseover",position:{x:dt[0],y:dt[1]}})},!1);var He,Ne,qe,Ue,Ge,ot,ct,yt,st,vt,At,Ot,Dt,Mt,Nt,$t,rn,Xn,ar,sn,_t=function(Ce,dt,kt,xt){return Math.sqrt((kt-Ce)*(kt-Ce)+(xt-dt)*(xt-dt))},tt=function(Ce,dt,kt,xt){return(kt-Ce)*(kt-Ce)+(xt-dt)*(xt-dt)};if(u.registerBinding(u.container,"touchstart",Mt=function(Ce){if(u.hasTouchStarted=!0,Me(Ce)){re(),u.touchData.capture=!0,u.data.bgActivePosistion=void 0;var dt=u.cy,kt=u.touchData.now,xt=u.touchData.earlier;if(Ce.touches[0]){var Et=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);kt[0]=Et[0],kt[1]=Et[1]}if(Ce.touches[1]&&(Et=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),kt[2]=Et[0],kt[3]=Et[1]),Ce.touches[2]&&(Et=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),kt[4]=Et[0],kt[5]=Et[1]),Ce.touches[1]){u.touchData.singleTouchMoved=!0,q(u.dragData.touchDragEles);var mr=u.findContainerClientCoords();At=mr[2],Ot=mr[3],Ne=Ce.touches[0].clientY-(vt=mr[1]),qe=Ce.touches[1].clientX-(st=mr[0]),Ue=Ce.touches[1].clientY-vt,Dt=0<=(He=Ce.touches[0].clientX-st)&&He<=At&&0<=qe&&qe<=At&&0<=Ne&&Ne<=Ot&&0<=Ue&&Ue<=Ot;var Gt=dt.pan(),Tn=dt.zoom();if(Ge=_t(He,Ne,qe,Ue),ot=tt(He,Ne,qe,Ue),yt=[((ct=[(He+qe)/2,(Ne+Ue)/2])[0]-Gt.x)/Tn,(ct[1]-Gt.y)/Tn],ot<4e4&&!Ce.touches[2]){var hr=u.findNearestElement(kt[0],kt[1],!0,!0),qr=u.findNearestElement(kt[2],kt[3],!0,!0);return hr&&hr.isNode()?(hr.activate().emit({originalEvent:Ce,type:"cxttapstart",position:{x:kt[0],y:kt[1]}}),u.touchData.start=hr):qr&&qr.isNode()?(qr.activate().emit({originalEvent:Ce,type:"cxttapstart",position:{x:kt[0],y:kt[1]}}),u.touchData.start=qr):dt.emit({originalEvent:Ce,type:"cxttapstart",position:{x:kt[0],y:kt[1]}}),u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxt=!0,u.touchData.cxtDragged=!1,u.data.bgActivePosistion=void 0,void u.redraw()}}if(Ce.touches[2])dt.boxSelectionEnabled()&&Ce.preventDefault();else if(!Ce.touches[1]&&Ce.touches[0]){var cr=u.findNearestElements(kt[0],kt[1],!0,!0),_r=cr[0];if(null!=_r&&(_r.activate(),u.touchData.start=_r,u.touchData.starts=cr,u.nodeIsGrabbable(_r))){var to=u.dragData.touchDragEles=dt.collection(),no=null;u.redrawHint("eles",!0),u.redrawHint("drag",!0),_r.selected()?(no=dt.$(function(is){return is.selected()&&u.nodeIsGrabbable(is)}),W(no,{addToList:to})):j(_r,{addToList:to}),x(_r);var Il=function(Io){return{originalEvent:Ce,type:Io,position:{x:kt[0],y:kt[1]}}};_r.emit(Il("grabon")),no?no.forEach(function(is){is.emit(Il("grab"))}):_r.emit(Il("grab"))}l(_r,["touchstart","tapstart","vmousedown"],Ce,{x:kt[0],y:kt[1]}),null==_r&&(u.data.bgActivePosistion={x:Et[0],y:Et[1]},u.redrawHint("select",!0),u.redraw()),u.touchData.singleTouchMoved=!1,u.touchData.singleTouchStartTime=+new Date,clearTimeout(u.touchData.tapholdTimeout),u.touchData.tapholdTimeout=setTimeout(function(){!1===u.touchData.singleTouchMoved&&!u.pinching&&!u.touchData.selecting&&l(u.touchData.start,["taphold"],Ce,{x:kt[0],y:kt[1]})},u.tapholdDuration)}if(Ce.touches.length>=1){for(var Al=u.touchData.startPosition=[],xa=0;xa<kt.length;xa++)Al[xa]=xt[xa]=kt[xa];var sl=Ce.touches[0];u.touchData.startGPosition=[sl.clientX,sl.clientY]}}},!1),u.registerBinding(window,"touchmove",Nt=function(Ce){var dt=u.touchData.capture;if(dt||Me(Ce)){var kt=u.selection,xt=u.cy,Et=u.touchData.now,mr=u.touchData.earlier,Gt=xt.zoom();if(Ce.touches[0]){var Tn=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);Et[0]=Tn[0],Et[1]=Tn[1]}Ce.touches[1]&&(Tn=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),Et[2]=Tn[0],Et[3]=Tn[1]),Ce.touches[2]&&(Tn=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),Et[4]=Tn[0],Et[5]=Tn[1]);var Zr,Ur=u.touchData.startGPosition;if(dt&&Ce.touches[0]&&Ur){for(var hr=[],qr=0;qr<Et.length;qr++)hr[qr]=Et[qr]-mr[qr];var cr=Ce.touches[0].clientX-Ur[0],to=Ce.touches[0].clientY-Ur[1];Zr=cr*cr+to*to>=u.touchTapThreshold2}if(dt&&u.touchData.cxt){Ce.preventDefault();var Io=tt(Al=Ce.touches[0].clientX-st,xa=Ce.touches[0].clientY-vt,sl=Ce.touches[1].clientX-st,is=Ce.touches[1].clientY-vt);if(Io/ot>=2.25||Io>=22500){u.touchData.cxt=!1,u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);var Zd={originalEvent:Ce,type:"cxttapend",position:{x:Et[0],y:Et[1]}};u.touchData.start?(u.touchData.start.unactivate().emit(Zd),u.touchData.start=null):xt.emit(Zd)}}if(dt&&u.touchData.cxt){Zd={originalEvent:Ce,type:"cxtdrag",position:{x:Et[0],y:Et[1]}},u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),u.touchData.start?u.touchData.start.emit(Zd):xt.emit(Zd),u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxtDragged=!0;var _s=u.findNearestElement(Et[0],Et[1],!0,!0);(!u.touchData.cxtOver||_s!==u.touchData.cxtOver)&&(u.touchData.cxtOver&&u.touchData.cxtOver.emit({originalEvent:Ce,type:"cxtdragout",position:{x:Et[0],y:Et[1]}}),u.touchData.cxtOver=_s,_s&&_s.emit({originalEvent:Ce,type:"cxtdragover",position:{x:Et[0],y:Et[1]}}))}else if(dt&&Ce.touches[2]&&xt.boxSelectionEnabled())Ce.preventDefault(),u.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,u.touchData.selecting||xt.emit({originalEvent:Ce,type:"boxstart",position:{x:Et[0],y:Et[1]}}),u.touchData.selecting=!0,u.touchData.didSelect=!0,kt[4]=1,kt&&0!==kt.length&&void 0!==kt[0]?(kt[2]=(Et[0]+Et[2]+Et[4])/3,kt[3]=(Et[1]+Et[3]+Et[5])/3):(kt[0]=(Et[0]+Et[2]+Et[4])/3,kt[1]=(Et[1]+Et[3]+Et[5])/3,kt[2]=(Et[0]+Et[2]+Et[4])/3+1,kt[3]=(Et[1]+Et[3]+Et[5])/3+1),u.redrawHint("select",!0),u.redraw();else if(dt&&Ce.touches[1]&&!u.touchData.didSelect&&xt.zoomingEnabled()&&xt.panningEnabled()&&xt.userZoomingEnabled()&&xt.userPanningEnabled()){if(Ce.preventDefault(),u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),Da=u.dragData.touchDragEles){u.redrawHint("drag",!0);for(var Cs=0;Cs<Da.length;Cs++){var ig=Da[Cs]._private;ig.grabbed=!1,ig.rscratch.inDragLayer=!1}}var Al,xa,sl,is,su=u.touchData.start,Ry=_t(Al=Ce.touches[0].clientX-st,xa=Ce.touches[0].clientY-vt,sl=Ce.touches[1].clientX-st,is=Ce.touches[1].clientY-vt),og=Ry/Ge;if(Dt){var Ly=(Al-He+(sl-qe))/2,rD=(xa-Ne+(is-Ue))/2,ag=xt.zoom(),Fy=ag*og,$f=xt.pan(),sg=yt[0]*ag+$f.x,Dw=yt[1]*ag+$f.y,iD={x:-Fy/ag*(sg-$f.x-Ly)+sg,y:-Fy/ag*(Dw-$f.y-rD)+Dw};su&&su.active()&&(q(Da=u.dragData.touchDragEles),u.redrawHint("drag",!0),u.redrawHint("eles",!0),su.unactivate().emit("freeon"),Da.emit("free"),u.dragData.didDrag&&(su.emit("dragfreeon"),Da.emit("dragfree"))),xt.viewport({zoom:Fy,pan:iD,cancelOnFailedZoom:!0}),xt.emit("pinchzoom"),Ge=Ry,He=Al,Ne=xa,qe=sl,Ue=is,u.pinching=!0}Ce.touches[0]&&(Tn=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY),Et[0]=Tn[0],Et[1]=Tn[1]),Ce.touches[1]&&(Tn=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),Et[2]=Tn[0],Et[3]=Tn[1]),Ce.touches[2]&&(Tn=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),Et[4]=Tn[0],Et[5]=Tn[1])}else if(Ce.touches[0]&&!u.touchData.didSelect){var ll=u.touchData.start,Am=u.touchData.last;if(!u.hoverData.draggingEles&&!u.swipePanning&&(_s=u.findNearestElement(Et[0],Et[1],!0,!0)),dt&&null!=ll&&Ce.preventDefault(),dt&&null!=ll&&u.nodeIsDraggable(ll))if(Zr){var Da=u.dragData.touchDragEles,By=!u.dragData.didDrag;By&&W(Da,{inDragLayer:!0}),u.dragData.didDrag=!0;var Xh={x:0,y:0};Ze(hr[0])&&Ze(hr[1])&&(Xh.x+=hr[0],Xh.y+=hr[1],By)&&(u.redrawHint("eles",!0),(Ol=u.touchData.dragDelta)&&Ze(Ol[0])&&Ze(Ol[1])&&(Xh.x+=Ol[0],Xh.y+=Ol[1])),u.hoverData.draggingEles=!0,Da.silentShift(Xh).emit("position drag"),u.redrawHint("drag",!0),u.touchData.startPosition[0]==mr[0]&&u.touchData.startPosition[1]==mr[1]&&u.redrawHint("eles",!0),u.redraw()}else{var Ol;0===(Ol=u.touchData.dragDelta=u.touchData.dragDelta||[]).length?(Ol.push(hr[0]),Ol.push(hr[1])):(Ol[0]+=hr[0],Ol[1]+=hr[1])}if(l(ll||_s,["touchmove","tapdrag","vmousemove"],Ce,{x:Et[0],y:Et[1]}),(!ll||!ll.grabbed())&&_s!=Am&&(Am&&Am.emit({originalEvent:Ce,type:"tapdragout",position:{x:Et[0],y:Et[1]}}),_s&&_s.emit({originalEvent:Ce,type:"tapdragover",position:{x:Et[0],y:Et[1]}})),u.touchData.last=_s,dt)for(Cs=0;Cs<Et.length;Cs++)Et[Cs]&&u.touchData.startPosition[Cs]&&Zr&&(u.touchData.singleTouchMoved=!0);dt&&(null==ll||ll.pannable())&&xt.panningEnabled()&&xt.userPanningEnabled()&&(h(ll,u.touchData.starts)&&(Ce.preventDefault(),u.data.bgActivePosistion||(u.data.bgActivePosistion=ui(u.touchData.startPosition)),u.swipePanning?(xt.panBy({x:hr[0]*Gt,y:hr[1]*Gt}),xt.emit("dragpan")):Zr&&(u.swipePanning=!0,xt.panBy({x:cr*Gt,y:to*Gt}),xt.emit("dragpan"),ll&&(ll.unactivate(),u.redrawHint("select",!0),u.touchData.start=null))),Tn=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY),Et[0]=Tn[0],Et[1]=Tn[1])}for(qr=0;qr<Et.length;qr++)mr[qr]=Et[qr];dt&&Ce.touches.length>0&&!u.hoverData.draggingEles&&!u.swipePanning&&null!=u.data.bgActivePosistion&&(u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),u.redraw())}},!1),u.registerBinding(window,"touchcancel",$t=function(Ce){var dt=u.touchData.start;u.touchData.capture=!1,dt&&dt.unactivate()}),u.registerBinding(window,"touchend",rn=function(Ce){var dt=u.touchData.start;if(u.touchData.capture){0===Ce.touches.length&&(u.touchData.capture=!1),Ce.preventDefault();var xt=u.selection;u.swipePanning=!1,u.hoverData.draggingEles=!1;var Zr,Et=u.cy,mr=Et.zoom(),Gt=u.touchData.now,Tn=u.touchData.earlier;if(Ce.touches[0]){var Ur=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);Gt[0]=Ur[0],Gt[1]=Ur[1]}if(Ce.touches[1]&&(Ur=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),Gt[2]=Ur[0],Gt[3]=Ur[1]),Ce.touches[2]&&(Ur=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),Gt[4]=Ur[0],Gt[5]=Ur[1]),dt&&dt.unactivate(),u.touchData.cxt){if(Zr={originalEvent:Ce,type:"cxttapend",position:{x:Gt[0],y:Gt[1]}},dt?dt.emit(Zr):Et.emit(Zr),!u.touchData.cxtDragged){var hr={originalEvent:Ce,type:"cxttap",position:{x:Gt[0],y:Gt[1]}};dt?dt.emit(hr):Et.emit(hr)}return u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxt=!1,u.touchData.start=null,void u.redraw()}if(!Ce.touches[2]&&Et.boxSelectionEnabled()&&u.touchData.selecting){u.touchData.selecting=!1;var qr=Et.collection(u.getAllInBox(xt[0],xt[1],xt[2],xt[3]));xt[0]=void 0,xt[1]=void 0,xt[2]=void 0,xt[3]=void 0,xt[4]=0,u.redrawHint("select",!0),Et.emit({type:"boxend",originalEvent:Ce,position:{x:Gt[0],y:Gt[1]}}),qr.emit("box").stdFilter(function(Kd){return Kd.selectable()&&!Kd.selected()}).select().emit("boxselect"),qr.nonempty()&&u.redrawHint("eles",!0),u.redraw()}if(dt?.unactivate(),Ce.touches[2])u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);else if(!Ce.touches[1]&&!Ce.touches[0]&&!Ce.touches[0]){u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);var _r=u.dragData.touchDragEles;if(null!=dt){var to=dt._private.grabbed;q(_r),u.redrawHint("drag",!0),u.redrawHint("eles",!0),to&&(dt.emit("freeon"),_r.emit("free"),u.dragData.didDrag&&(dt.emit("dragfreeon"),_r.emit("dragfree"))),l(dt,["touchend","tapend","vmouseup","tapdragout"],Ce,{x:Gt[0],y:Gt[1]}),dt.unactivate(),u.touchData.start=null}else{var no=u.findNearestElement(Gt[0],Gt[1],!0,!0);l(no,["touchend","tapend","vmouseup","tapdragout"],Ce,{x:Gt[0],y:Gt[1]})}var Il=u.touchData.startPosition[0]-Gt[0],xa=u.touchData.startPosition[1]-Gt[1],Io=(Il*Il+xa*xa)*mr*mr;u.touchData.singleTouchMoved||(dt||Et.$(":selected").unselect(["tapunselect"]),l(dt,["tap","vclick"],Ce,{x:Gt[0],y:Gt[1]}),Xn=!1,Ce.timeStamp-sn<=Et.multiClickDebounceTime()?(ar&&clearTimeout(ar),Xn=!0,sn=null,l(dt,["dbltap","vdblclick"],Ce,{x:Gt[0],y:Gt[1]})):(ar=setTimeout(function(){Xn||l(dt,["onetap","voneclick"],Ce,{x:Gt[0],y:Gt[1]})},Et.multiClickDebounceTime()),sn=Ce.timeStamp)),null!=dt&&!u.dragData.didDrag&&dt._private.selectable&&Io<u.touchTapThreshold2&&!u.pinching&&("single"===Et.selectionType()?(Et.$(o).unmerge(dt).unselect(["tapunselect"]),dt.select(["tapselect"])):dt.selected()?dt.unselect(["tapunselect"]):dt.select(["tapselect"]),u.redrawHint("eles",!0)),u.touchData.singleTouchMoved=!0}for(var Ea=0;Ea<Gt.length;Ea++)Tn[Ea]=Gt[Ea];u.dragData.didDrag=!1,0===Ce.touches.length&&(u.touchData.dragDelta=[],u.touchData.startPosition=null,u.touchData.startGPosition=null,u.touchData.didSelect=!1),Ce.touches.length<2&&(1===Ce.touches.length&&(u.touchData.startGPosition=[Ce.touches[0].clientX,Ce.touches[0].clientY]),u.pinching=!1,u.redrawHint("eles",!0),u.redraw())}},!1),typeof TouchEvent>"u"){var en=[],Pn=function(Ce){return{clientX:Ce.clientX,clientY:Ce.clientY,force:1,identifier:Ce.pointerId,pageX:Ce.pageX,pageY:Ce.pageY,radiusX:Ce.width/2,radiusY:Ce.height/2,screenX:Ce.screenX,screenY:Ce.screenY,target:Ce.target}},Rn=function(Ce){for(var dt=0;dt<en.length;dt++)if(en[dt].event.pointerId===Ce.pointerId)return void en.splice(dt,1)},fr=function(Ce){Ce.touches=en.map(function(dt){return dt.touch})},$n=function(Ce){return"mouse"===Ce.pointerType||4===Ce.pointerType};u.registerBinding(u.container,"pointerdown",function(zt){$n(zt)||(zt.preventDefault(),en.push(function(Ce){return{event:Ce,touch:Pn(Ce)}}(zt)),fr(zt),Mt(zt))}),u.registerBinding(u.container,"pointerup",function(zt){$n(zt)||(Rn(zt),fr(zt),rn(zt))}),u.registerBinding(u.container,"pointercancel",function(zt){$n(zt)||(Rn(zt),fr(zt),$t())}),u.registerBinding(u.container,"pointermove",function(zt){var Ce,dt;$n(zt)||(zt.preventDefault(),Ce=zt,(dt=en.filter(function(kt){return kt.event.pointerId===Ce.pointerId})[0]).event=Ce,dt.touch=Pn(Ce),fr(zt),Nt(zt))})}};var Jt={generatePolygon:function(u,o){return this.nodeShapes[u]={renderer:this,name:u,points:o,draw:function(f,h,p,g,_){this.renderer.nodeShapeImpl("polygon",f,h,p,g,_,this.points)},intersectLine:function(f,h,p,g,_,E,x){return jl(_,E,this.points,f,h,p/2,g/2,x)},checkPoint:function(f,h,p,g,_,E,x){return ka(f,h,this.points,E,x,g,_,[0,-1],p)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,_){return function(o,l,f,h,p,g){var _=f-o,E=h-l;_/=p,E/=g;var x=Math.sqrt(_*_+E*E),M=x-1;if(M<0)return[];var F=M/x;return[(f-o)*F+o,(h-l)*F+l]}(p,g,o,l,f/2+_,h/2+_)},checkPoint:function(o,l,f,h,p,g,_){return Xa(o,l,h,p,g,_,f)}}},generateRoundPolygon:function(u,o){for(var l=new Array(2*o.length),f=0;f<o.length/2;f++){var p,h=2*f;p=f<o.length/2-1?2*(f+1):0,l[4*f]=o[h],l[4*f+1]=o[h+1];var g=o[p]-o[h],_=o[p+1]-o[h+1],E=Math.sqrt(g*g+_*_);l[4*f+2]=g/E,l[4*f+3]=_/E}return this.nodeShapes[u]={renderer:this,name:u,points:l,draw:function(M,F,z,W,j){this.renderer.nodeShapeImpl("round-polygon",M,F,z,W,j,this.points)},intersectLine:function(M,F,z,W,j,q,J){return function(o,l,f,h,p,g,_,E){for(var M,x=[],F=new Array(f.length),z=g/2,W=_/2,j=uc(g,_),q=0;q<f.length/4;q++){var re,J;J=0===q?f.length-2:4*q-2,re=4*q+2;var fe=h+z*f[4*q],he=p+W*f[4*q+1],Ie=j/Math.tan(Math.acos(-f[J]*f[re]-f[J+1]*f[re+1])/2),Ae=fe-Ie*f[J],ye=he-Ie*f[J+1],Me=fe+Ie*f[re],we=he+Ie*f[re+1];0===q?(F[f.length-2]=Ae,F[f.length-1]=ye):(F[4*q-2]=Ae,F[4*q-1]=ye),F[4*q]=Me,F[4*q+1]=we;var ke=f[J+1],Pe=-f[J];ke*f[re]+Pe*f[re+1]<0&&(ke*=-1,Pe*=-1),0!==(M=gl(o,l,h,p,Ae+ke*j,ye+Pe*j,j)).length&&x.push(M[0],M[1])}for(var qe=0;qe<F.length/4;qe++)0!==(M=ls(o,l,h,p,F[4*qe],F[4*qe+1],F[4*qe+2],F[4*qe+3],!1)).length&&x.push(M[0],M[1]);if(x.length>2){for(var Ue=[x[0],x[1]],Ge=Math.pow(Ue[0]-o,2)+Math.pow(Ue[1]-l,2),ot=1;ot<x.length/2;ot++){var ct=Math.pow(x[2*ot]-o,2)+Math.pow(x[2*ot+1]-l,2);ct<=Ge&&(Ue[0]=x[2*ot],Ue[1]=x[2*ot+1],Ge=ct)}return Ue}return x}(j,q,this.points,M,F,z,W)},checkPoint:function(M,F,z,W,j,q,J){return function(o,l,f,h,p,g,_){for(var E=new Array(f.length),x=g/2,M=_/2,F=uc(g,_),z=F*F,W=0;W<f.length/4;W++){var q,j;j=0===W?f.length-2:4*W-2,q=4*W+2;var J=h+x*f[4*W],re=p+M*f[4*W+1],he=F/Math.tan(Math.acos(-f[j]*f[q]-f[j+1]*f[q+1])/2),ve=J-he*f[j],Ie=re-he*f[j+1],Ae=J+he*f[q],ye=re+he*f[q+1];E[4*W]=ve,E[4*W+1]=Ie,E[4*W+2]=Ae,E[4*W+3]=ye;var Me=f[j+1],we=-f[j];Me*f[q]+we*f[q+1]<0&&(Me*=-1,we*=-1);var xe=Ie+we*F;if(Math.pow(ve+Me*F-o,2)+Math.pow(xe-l,2)<=z)return!0}return Ko(o,l,E)}(M,F,this.points,q,J,W,j)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Zo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,_){return an(p,g,o,l,f,h,_)},checkPoint:function(o,l,f,h,p,g,_){var E=wu(h,p),x=2*E;return!!(ka(o,l,this.points,g,_,h,p-x,[0,-1],f)||ka(o,l,this.points,g,_,h-x,p,[0,-1],f)||Xa(o,l,x,x,g-h/2+E,_-p/2+E,f)||Xa(o,l,x,x,g+h/2-E,_-p/2+E,f)||Xa(o,l,x,x,g+h/2-E,_+p/2-E,f)||Xa(o,l,x,x,g-h/2+E,_+p/2-E,f))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Zo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},generateCutTrianglePts:function(o,l,f,h){var p=this.cornerLength,g=l/2,_=o/2,E=f-_,x=f+_,M=h-g,F=h+g;return{topLeft:[E,M+p,E+p,M,E+p,M+p],topRight:[x-p,M,x,M+p,x-p,M+p],bottomRight:[x,F-p,x-p,F,x-p,F-p],bottomLeft:[E+p,F,E,F-p,E+p,F-p]}},intersectLine:function(o,l,f,h,p,g,_){var E=this.generateCutTrianglePts(f+2*_,h+2*_,o,l),x=[].concat.apply([],[E.topLeft.splice(0,4),E.topRight.splice(0,4),E.bottomRight.splice(0,4),E.bottomLeft.splice(0,4)]);return jl(p,g,x,o,l)},checkPoint:function(o,l,f,h,p,g,_){if(ka(o,l,this.points,g,_,h,p-2*this.cornerLength,[0,-1],f)||ka(o,l,this.points,g,_,h-2*this.cornerLength,p,[0,-1],f))return!0;var E=this.generateCutTrianglePts(h,p,g,_);return Ko(o,l,E.topLeft)||Ko(o,l,E.topRight)||Ko(o,l,E.bottomRight)||Ko(o,l,E.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Zo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,_){var F=this.generateBarrelBezierPts(f+2*_,h+2*_,o,l),z=function(q){var J=vo({x:q[0],y:q[1]},{x:q[2],y:q[3]},{x:q[4],y:q[5]},.15),re=vo({x:q[0],y:q[1]},{x:q[2],y:q[3]},{x:q[4],y:q[5]},.5),fe=vo({x:q[0],y:q[1]},{x:q[2],y:q[3]},{x:q[4],y:q[5]},.85);return[q[0],q[1],J.x,J.y,re.x,re.y,fe.x,fe.y,q[4],q[5]]},W=[].concat(z(F.topLeft),z(F.topRight),z(F.bottomRight),z(F.bottomLeft));return jl(p,g,W,o,l)},generateBarrelBezierPts:function(o,l,f,h){var p=l/2,g=o/2,_=f-g,E=f+g,x=h-p,M=h+p,F=fh(o,l),z=F.heightOffset,W=F.widthOffset,j=F.ctrlPtOffsetPct*o,q={topLeft:[_,x+z,_+j,x,_+W,x],topRight:[E-W,x,E-j,x,E,x+z],bottomRight:[E,M-z,E-j,M,E-W,M],bottomLeft:[_+W,M,_+j,M,_,M-z]};return q.topLeft.isTop=!0,q.topRight.isTop=!0,q.bottomLeft.isBottom=!0,q.bottomRight.isBottom=!0,q},checkPoint:function(o,l,f,h,p,g,_){var E=fh(h,p),M=E.widthOffset;if(ka(o,l,this.points,g,_,h,p-2*E.heightOffset,[0,-1],f)||ka(o,l,this.points,g,_,h-2*M,p,[0,-1],f))return!0;for(var F=this.generateBarrelBezierPts(h,p,g,_),z=function(ye,Me,we){var ke=we[4],Pe=we[2],xe=we[0],He=we[5],Ne=we[1],qe=Math.min(ke,xe),Ue=Math.max(ke,xe),Ge=Math.min(He,Ne),ot=Math.max(He,Ne);if(qe<=ye&&ye<=Ue&&Ge<=Me&&Me<=ot){var ct=function(o,l,f){return[o-2*l+f,2*(l-o),o]}(ke,Pe,xe),yt=function(o,l,f,h){var p=l*l-4*o*(f-=h);if(p<0)return[];var g=Math.sqrt(p),_=2*o;return[(-l+g)/_,(-l-g)/_]}(ct[0],ct[1],ct[2],ye),st=yt.filter(function(vt){return 0<=vt&&vt<=1});if(st.length>0)return st[0]}return null},W=Object.keys(F),j=0;j<W.length;j++){var J=F[W[j]],re=z(o,l,J);if(null!=re){var Ie=di(J[5],J[3],J[1],re);if(J.isTop&&Ie<=l||J.isBottom&&l<=Ie)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Zo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,_){var x=l-(h/2+_),z=ls(p,g,o,l,o-(f/2+_),x,o+(f/2+_),x,!1);return z.length>0?z:an(p,g,o,l,f,h,_)},checkPoint:function(o,l,f,h,p,g,_){var E=wu(h,p),x=2*E;if(ka(o,l,this.points,g,_,h,p-x,[0,-1],f)||ka(o,l,this.points,g,_,h-x,p,[0,-1],f))return!0;var M=h/2+2*f,F=p/2+2*f;return!!(Ko(o,l,[g-M,_-F,g-M,_,g+M,_,g+M,_-F])||Xa(o,l,x,x,g+h/2-E,_+p/2-E,f)||Xa(o,l,x,x,g-h/2+E,_+p/2-E,f))}}},registerNodeShapes:function(){var u=this.nodeShapes={},o=this;this.generateEllipse(),this.generatePolygon("triangle",Zo(3,0)),this.generateRoundPolygon("round-triangle",Zo(3,0)),this.generatePolygon("rectangle",Zo(4,0)),u.square=u.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var l=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",l),this.generateRoundPolygon("round-diamond",l),this.generatePolygon("pentagon",Zo(5,0)),this.generateRoundPolygon("round-pentagon",Zo(5,0)),this.generatePolygon("hexagon",Zo(6,0)),this.generateRoundPolygon("round-hexagon",Zo(6,0)),this.generatePolygon("heptagon",Zo(7,0)),this.generateRoundPolygon("round-heptagon",Zo(7,0)),this.generatePolygon("octagon",Zo(8,0)),this.generateRoundPolygon("round-octagon",Zo(8,0));var f=new Array(20),h=bu(5,0),p=bu(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var _=0;_<p.length/2;_++)p[2*_]*=g,p[2*_+1]*=g;for(_=0;_<5;_++)f[4*_]=h[2*_],f[4*_+1]=h[2*_+1],f[4*_+2]=p[2*_],f[4*_+3]=p[2*_+1];f=lc(f),this.generatePolygon("star",f),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var E=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",E),this.generateRoundPolygon("round-tag",E),u.makePolygon=function(x){var z,F="polygon-"+x.join("$");return(z=this[F])?z:o.generatePolygon(F,x)}}},Kt={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(u){u=u||En();var o=this;void 0===o.averageRedrawTime&&(o.averageRedrawTime=0),void 0===o.lastRedrawTime&&(o.lastRedrawTime=0),void 0===o.lastDrawTime&&(o.lastDrawTime=0),o.requestedFrame=!0,o.renderOptions=u},beforeRender:function(u,o){if(!this.destroyed){null==o&&ri("Priority is not optional for beforeRender");var l=this.beforeRenderCallbacks;l.push({fn:u,priority:o}),l.sort(function(f,h){return h.priority-f.priority})}}},Yt=function(o,l,f){for(var h=o.beforeRenderCallbacks,p=0;p<h.length;p++)h[p].fn(l,f)};Kt.startRenderLoop=function(){var u=this,o=u.cy;u.renderLoopStarted||(u.renderLoopStarted=!0,mu(function f(h){if(!u.destroyed){if(!o.batching())if(u.requestedFrame&&!u.skipFrame){Yt(u,!0,h);var p=Ti();u.render(u.renderOptions);var g=u.lastDrawTime=Ti();void 0===u.averageRedrawTime&&(u.averageRedrawTime=g-p),void 0===u.redrawCount&&(u.redrawCount=0),u.redrawCount++,void 0===u.redrawTotalTime&&(u.redrawTotalTime=0);var _=g-p;u.redrawTotalTime+=_,u.lastRedrawTime=_,u.averageRedrawTime=u.averageRedrawTime/2+_/2,u.requestedFrame=!1}else Yt(u,!1,h);u.skipFrame=!1,mu(f)}}))};var Dn=function(o){this.init(o)},nr=Dn.prototype;nr.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],nr.init=function(u){var o=this;o.options=u,o.cy=u.cy;var l=o.container=u.cy.container();if(oe){var f=oe.document,h=f.head,p="__________cytoscape_stylesheet",g="__________cytoscape_container",_=null!=f.getElementById(p);if(l.className.indexOf(g)<0&&(l.className=(l.className||"")+" "+g),!_){var E=f.createElement("style");E.id=p,E.textContent="."+g+" { position: relative; }",h.insertBefore(E,h.children[0])}"static"===oe.getComputedStyle(l).getPropertyValue("position")&&Mr("A Cytoscape container has style position:static and so can not use UI extensions properly")}o.selection=[void 0,void 0,void 0,void 0,0],o.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],o.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},o.dragData={possibleDragElements:[]},o.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},o.redraws=0,o.showFps=u.showFps,o.debug=u.debug,o.hideEdgesOnViewport=u.hideEdgesOnViewport,o.textureOnViewport=u.textureOnViewport,o.wheelSensitivity=u.wheelSensitivity,o.motionBlurEnabled=u.motionBlur,o.forcedPixelRatio=Ze(u.pixelRatio)?u.pixelRatio:null,o.motionBlur=u.motionBlur,o.motionBlurOpacity=u.motionBlurOpacity,o.motionBlurTransparency=1-o.motionBlurOpacity,o.motionBlurPxRatio=1,o.mbPxRBlurry=1,o.minMbLowQualFrames=4,o.fullQualityMb=!1,o.clearedForMotionBlur=[],o.desktopTapThreshold=u.desktopTapThreshold,o.desktopTapThreshold2=u.desktopTapThreshold*u.desktopTapThreshold,o.touchTapThreshold=u.touchTapThreshold,o.touchTapThreshold2=u.touchTapThreshold*u.touchTapThreshold,o.tapholdDuration=500,o.bindings=[],o.beforeRenderCallbacks=[],o.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},o.registerNodeShapes(),o.registerArrowShapes(),o.registerCalculationListeners()},nr.notify=function(u,o){var l=this,f=l.cy;if(!this.destroyed){if("init"===u)return void l.load();if("destroy"===u)return void l.destroy();("add"===u||"remove"===u||"move"===u&&f.hasCompoundNodes()||"load"===u||"zorder"===u||"mount"===u)&&l.invalidateCachedZSortedEles(),"viewport"===u&&l.redrawHint("select",!0),("load"===u||"resize"===u||"mount"===u)&&(l.invalidateContainerClientCoordsCache(),l.matchCanvasSize(l.container)),l.redrawHint("eles",!0),l.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},nr.destroy=function(){var u=this;u.destroyed=!0,u.cy.stopAnimationLoop();for(var o=0;o<u.bindings.length;o++){var l=u.bindings[o],h=l.target;(h.off||h.removeEventListener).apply(h,l.args)}if(u.bindings=[],u.beforeRenderCallbacks=[],u.onUpdateEleCalcsFns=[],u.removeObserver&&u.removeObserver.disconnect(),u.styleObserver&&u.styleObserver.disconnect(),u.resizeObserver&&u.resizeObserver.disconnect(),u.labelCalcDiv)try{document.body.removeChild(u.labelCalcDiv)}catch{}},nr.isHeadless=function(){return!1},[Ci,wt,Ut,Wt,Jt,Kt].forEach(function(u){Nn(nr,u)});var dr=1e3/60,Ai_setupDequeueing=function(o){return function(){var f=this,h=this.renderer;if(!f.dequeueingSetup){f.dequeueingSetup=!0;var p=R.default(function(){h.redrawHint("eles",!0),h.redrawHint("drag",!0),h.redraw()},o.deqRedrawThreshold);h.beforeRender(function(x,M){var F=Ti(),z=h.averageRedrawTime,W=h.lastRedrawTime,j=[],q=h.cy.extent(),J=h.getPixelRatio();for(x||h.flushRenderedStyleQueue();;){var re=Ti(),fe=re-F,he=re-M;if(W<dr){if(he>=o.deqFastCost*(dr-(x?z:0)))break}else if(x){if(fe>=o.deqCost*W||fe>=o.deqAvgCost*z)break}else if(he>=o.deqNoDrawCost*dr)break;var Ie=o.deq(f,J,q);if(!(Ie.length>0))break;for(var Ae=0;Ae<Ie.length;Ae++)j.push(Ie[Ae])}j.length>0&&(o.onDeqd(f,j),!x&&o.shouldRedraw(f,j,J,q)&&p())},(o.priority||rd)(f))}}},xi=function(){function u(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Is;$(this,u),this.idsByKey=new Tt,this.keyForId=new Tt,this.cachesByLvl=new Tt,this.lvls=[],this.getKey=o,this.doesEleInvalidateKey=l}return ue(u,[{key:"getIdsFor",value:function(l){null==l&&ri("Can not get id list for null key");var f=this.idsByKey,h=this.idsByKey.get(l);return h||(h=new As,f.set(l,h)),h}},{key:"addIdForKey",value:function(l,f){null!=l&&this.getIdsFor(l).add(f)}},{key:"deleteIdForKey",value:function(l,f){null!=l&&this.getIdsFor(l).delete(f)}},{key:"getNumberOfIdsForKey",value:function(l){return null==l?0:this.getIdsFor(l).size}},{key:"updateKeyMappingFor",value:function(l){var f=l.id(),h=this.keyForId.get(f),p=this.getKey(l);this.deleteIdForKey(h,f),this.addIdForKey(p,f),this.keyForId.set(f,p)}},{key:"deleteKeyMappingFor",value:function(l){var f=l.id(),h=this.keyForId.get(f);this.deleteIdForKey(h,f),this.keyForId.delete(f)}},{key:"keyHasChangedFor",value:function(l){var f=l.id();return this.keyForId.get(f)!==this.getKey(l)}},{key:"isInvalid",value:function(l){return this.keyHasChangedFor(l)||this.doesEleInvalidateKey(l)}},{key:"getCachesAt",value:function(l){var f=this.cachesByLvl,h=this.lvls,p=f.get(l);return p||(p=new Tt,f.set(l,p),h.push(l)),p}},{key:"getCache",value:function(l,f){return this.getCachesAt(f).get(l)}},{key:"get",value:function(l,f){var h=this.getKey(l),p=this.getCache(h,f);return null!=p&&this.updateKeyMappingFor(l),p}},{key:"getForCachedKey",value:function(l,f){var h=this.keyForId.get(l.id());return this.getCache(h,f)}},{key:"hasCache",value:function(l,f){return this.getCachesAt(f).has(l)}},{key:"has",value:function(l,f){var h=this.getKey(l);return this.hasCache(h,f)}},{key:"setCache",value:function(l,f,h){h.key=l,this.getCachesAt(f).set(l,h)}},{key:"set",value:function(l,f,h){var p=this.getKey(l);this.setCache(p,f,h),this.updateKeyMappingFor(l)}},{key:"deleteCache",value:function(l,f){this.getCachesAt(f).delete(l)}},{key:"delete",value:function(l,f){var h=this.getKey(l);this.deleteCache(h,f)}},{key:"invalidateKey",value:function(l){var f=this;this.lvls.forEach(function(h){return f.deleteCache(l,h)})}},{key:"invalidate",value:function(l){var f=l.id(),h=this.keyForId.get(f);this.deleteKeyMappingFor(l);var p=this.doesEleInvalidateKey(l);return p&&this.invalidateKey(h),p||0===this.getNumberOfIdsForKey(h)}}]),u}(),Ni={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Oc=li({getKey:null,doesEleInvalidateKey:Is,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:nc,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),ns=function(o,l){var f=this;f.renderer=o,f.onDequeues=[];var h=Oc(l);Nn(f,h),f.lookup=new xi(h.getKey,h.doesEleInvalidateKey),f.setupDequeueing()},Jo=ns.prototype;Jo.reasons=Ni,Jo.getTextureQueue=function(u){var o=this;return o.eleImgCaches=o.eleImgCaches||{},o.eleImgCaches[u]=o.eleImgCaches[u]||[]},Jo.getRetiredTextureQueue=function(u){var l=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return l[u]=l[u]||[]},Jo.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new A.default(function(l,f){return f.reqs-l.reqs})},Jo.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Jo.getElement=function(u,o,l,f,h){var p=this,g=this.renderer,_=g.cy.zoom(),E=this.lookup;if(!o||0===o.w||0===o.h||isNaN(o.w)||isNaN(o.h)||!u.visible()||u.removed()||!p.allowEdgeTxrCaching&&u.isEdge()||!p.allowParentTxrCaching&&u.isParent())return null;if(null==f&&(f=Math.ceil(Hi(_*l))),f<-4)f=-4;else if(_>=7.99||f>3)return null;var x=Math.pow(2,f),M=o.h*x,F=o.w*x,z=g.eleTextBiggerThanMin(u,x);if(!this.isVisible(u,z))return null;var j,W=E.get(u,f);if(W&&W.invalidated&&(W.invalidated=!1,W.texture.invalidatedWidth-=W.width),W)return W;if(j=M<=25?25:M<=50?50:50*Math.ceil(M/50),M>1024||F>1024)return null;var q=p.getTextureQueue(j),J=q[q.length-2],re=function(){return p.recycleTexture(j,F)||p.addTexture(j,F)};J||(J=q[q.length-1]),J||(J=re()),J.width-J.usedWidth<F&&(J=re());for(var Ae,fe=function(Ue){return Ue&&Ue.scaledLabelShown===z},he=h&&h===Ni.dequeue,ve=h&&h===Ni.highQuality,Ie=h&&h===Ni.downscale,ye=f+1;ye<=3;ye++){var Me=E.get(u,ye);if(Me){Ae=Me;break}}var we=Ae&&Ae.level===f+1?Ae:null,ke=function(){J.context.drawImage(we.texture.canvas,we.x,0,we.width,we.height,J.usedWidth,0,F,M)};if(J.context.setTransform(1,0,0,1,0,0),J.context.clearRect(J.usedWidth,0,F,j),fe(we))ke();else if(fe(Ae)){if(!ve)return p.queueElement(u,Ae.level-1),Ae;for(var Pe=Ae.level;Pe>f;Pe--)we=p.getElement(u,o,l,Pe,Ni.downscale);ke()}else{var xe;if(!he&&!ve&&!Ie)for(var He=f-1;He>=-4;He--){var Ne=E.get(u,He);if(Ne){xe=Ne;break}}if(fe(xe))return p.queueElement(u,f),xe;J.context.translate(J.usedWidth,0),J.context.scale(x,x),this.drawElement(J.context,u,o,z,!1),J.context.scale(1/x,1/x),J.context.translate(-J.usedWidth,0)}return W={x:J.usedWidth,texture:J,level:f,scale:x,width:F,height:M,scaledLabelShown:z},J.usedWidth+=Math.ceil(F+8),J.eleCaches.push(W),E.set(u,f,W),p.checkTextureFullness(J),W},Jo.invalidateElements=function(u){for(var o=0;o<u.length;o++)this.invalidateElement(u[o])},Jo.invalidateElement=function(u){var o=this,l=o.lookup,f=[];if(l.isInvalid(u)){for(var p=-4;p<=3;p++){var g=l.getForCachedKey(u,p);g&&f.push(g)}if(l.invalidate(u))for(var E=0;E<f.length;E++){var x=f[E],M=x.texture;M.invalidatedWidth+=x.width,x.invalidated=!0,o.checkTextureUtility(M)}o.removeFromQueue(u)}},Jo.checkTextureUtility=function(u){u.invalidatedWidth>=.2*u.width&&this.retireTexture(u)},Jo.checkTextureFullness=function(u){var l=this.getTextureQueue(u.height);u.usedWidth/u.width>.8&&u.fullnessChecks>=10?$a(l,u):u.fullnessChecks++},Jo.retireTexture=function(u){var l=u.height,f=this.getTextureQueue(l),h=this.lookup;$a(f,u),u.retired=!0;for(var p=u.eleCaches,g=0;g<p.length;g++){var _=p[g];h.deleteCache(_.key,_.level)}Ro(p),this.getRetiredTextureQueue(l).push(u)},Jo.addTexture=function(u,o){var h={};return this.getTextureQueue(u).push(h),h.eleCaches=[],h.height=u,h.width=Math.max(1024,o),h.usedWidth=0,h.invalidatedWidth=0,h.fullnessChecks=0,h.canvas=this.renderer.makeOffscreenCanvas(h.width,h.height),h.context=h.canvas.getContext("2d"),h},Jo.recycleTexture=function(u,o){for(var f=this.getTextureQueue(u),h=this.getRetiredTextureQueue(u),p=0;p<h.length;p++){var g=h[p];if(g.width>=o)return g.retired=!1,g.usedWidth=0,g.invalidatedWidth=0,g.fullnessChecks=0,Ro(g.eleCaches),g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(0,0,g.width,g.height),$a(h,g),f.push(g),g}},Jo.queueElement=function(u,o){var f=this.getElementQueue(),h=this.getElementKeyToQueue(),p=this.getKey(u),g=h[p];if(g)g.level=Math.max(g.level,o),g.eles.merge(u),g.reqs++,f.updateItem(g);else{var _={eles:u.spawn().merge(u),level:o,reqs:1,key:p};f.push(_),h[p]=_}},Jo.dequeue=function(u){for(var o=this,l=o.getElementQueue(),f=o.getElementKeyToQueue(),h=[],p=o.lookup,g=0;g<1&&l.size()>0;g++){var _=l.pop(),E=_.key,x=_.eles[0],M=p.hasCache(x,_.level);if(f[E]=null,!M){h.push(_);var F=o.getBoundingBox(x);o.getElement(x,F,u,_.level,Ni.dequeue)}}return h},Jo.removeFromQueue=function(u){var l=this.getElementQueue(),f=this.getElementKeyToQueue(),h=this.getKey(u),p=f[h];null!=p&&(1===p.eles.length?(p.reqs=tc,l.updateItem(p),l.pop(),f[h]=null):p.eles.unmerge(u))},Jo.onDequeue=function(u){this.onDequeues.push(u)},Jo.offDequeue=function(u){$a(this.onDequeues,u)},Jo.setupDequeueing=Ai_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l,f){return o.dequeue(l,f)},onDeqd:function(o,l){for(var f=0;f<o.onDequeues.length;f++)(0,o.onDequeues[f])(l)},shouldRedraw:function(o,l,f,h){for(var p=0;p<l.length;p++)for(var g=l[p].eles,_=0;_<g.length;_++){var E=g[_].boundingBox();if(tr(E,h))return!0}return!1},priority:function(o){return o.renderer.beforeRenderPriorities.eleTxrDeq}});var pw=function(o){var l=this,f=l.renderer=o,h=f.cy;l.layersByLevel={},l.firstGet=!0,l.lastInvalidationTime=Ti()-500,l.skipping=!1,l.eleTxrDeqs=h.collection(),l.scheduleElementRefinement=R.default(function(){l.refineElementTextures(l.eleTxrDeqs),l.eleTxrDeqs.unmerge(l.eleTxrDeqs)},50),f.beforeRender(function(g,_){l.skipping=_-l.lastInvalidationTime<=250},f.beforeRenderPriorities.lyrTxrSkip),l.layersQueue=new A.default(function(_,E){return E.reqs-_.reqs}),l.setupDequeueing()},Ca=pw.prototype,xy=0,gw=Math.pow(2,53)-1;Ca.makeLayer=function(u,o){var l=Math.pow(2,o),f=Math.ceil(u.w*l),h=Math.ceil(u.h*l),p=this.renderer.makeOffscreenCanvas(f,h),g={id:xy=++xy%gw,bb:u,level:o,width:f,height:h,canvas:p,context:p.getContext("2d"),eles:[],elesQueue:[],reqs:0},_=g.context,E=-g.bb.x1,x=-g.bb.y1;return _.scale(l,l),_.translate(E,x),g},Ca.getLayers=function(u,o,l){var f=this,g=f.renderer.cy.zoom(),_=f.firstGet;if(f.firstGet=!1,null==l)if((l=Math.ceil(Hi(g*o)))<-4)l=-4;else if(g>=3.99||l>2)return null;f.validateLayersElesOrdering(l,u);var F,W,E=f.layersByLevel,x=Math.pow(2,l),M=E[l]=E[l]||[];if(f.levelIsComplete(l,u))return M;!function(){var ke=function(qe){if(f.validateLayersElesOrdering(qe,u),f.levelIsComplete(qe,u))return W=E[qe],!0},Pe=function(qe){if(!W)for(var Ue=l+qe;-4<=Ue&&Ue<=2&&!ke(Ue);Ue+=qe);};Pe(1),Pe(-1);for(var xe=M.length-1;xe>=0;xe--){var He=M[xe];He.invalid&&$a(M,He)}}();var J=function(ke){var Pe=(ke=ke||{}).after;if(function(){if(!F){F=Mi();for(var ke=0;ke<u.length;ke++)Ul(F,u[ke].boundingBox())}}(),F.w*x*(F.h*x)>16e6)return null;var He=f.makeLayer(F,l);if(null!=Pe){var Ne=M.indexOf(Pe)+1;M.splice(Ne,0,He)}else(void 0===ke.insert||ke.insert)&&M.unshift(He);return He};if(f.skipping&&!_)return null;for(var re=null,fe=u.length/1,he=!_,ve=0;ve<u.length;ve++){var Ie=u[ve],Ae=Ie._private.rscratch,ye=Ae.imgLayerCaches=Ae.imgLayerCaches||{},Me=ye[l];if(Me)re=Me;else{if((!re||re.eles.length>=fe||!ad(re.bb,Ie.boundingBox()))&&!(re=J({insert:!0,after:re})))return null;W||he?f.queueLayer(re,Ie):f.drawEleInLayer(re,Ie,l,o),re.eles.push(Ie),ye[l]=re}}return W||(he?null:M)},Ca.getEleLevelForLayerLevel=function(u,o){return u},Ca.drawEleInLayer=function(u,o,l,f){var p=this.renderer,g=u.context,_=o.boundingBox();0===_.w||0===_.h||!o.visible()||(l=this.getEleLevelForLayerLevel(l,f),p.setImgSmoothing(g,!1),p.drawCachedElement(g,o,null,null,l,!0),p.setImgSmoothing(g,!0))},Ca.levelIsComplete=function(u,o){var f=this.layersByLevel[u];if(!f||0===f.length)return!1;for(var h=0,p=0;p<f.length;p++){var g=f[p];if(g.reqs>0||g.invalid)return!1;h+=g.eles.length}return h===o.length},Ca.validateLayersElesOrdering=function(u,o){var l=this.layersByLevel[u];if(l)for(var f=0;f<l.length;f++){for(var h=l[f],p=-1,g=0;g<o.length;g++)if(h.eles[0]===o[g]){p=g;break}if(p<0)this.invalidateLayer(h);else{var _=p;for(g=0;g<h.eles.length;g++)if(h.eles[g]!==o[_+g]){this.invalidateLayer(h);break}}}},Ca.updateElementsInLayers=function(u,o){for(var f=mn(u[0]),h=0;h<u.length;h++)for(var p=f?null:u[h],g=f?u[h]:u[h].ele,_=g._private.rscratch,E=_.imgLayerCaches=_.imgLayerCaches||{},x=-4;x<=2;x++){var M=E[x];M&&(p&&this.getEleLevelForLayerLevel(M.level)!==p.level||o(M,g,p))}},Ca.haveLayers=function(){for(var o=!1,l=-4;l<=2;l++){var f=this.layersByLevel[l];if(f&&f.length>0){o=!0;break}}return o},Ca.invalidateElements=function(u){var o=this;0!==u.length&&(o.lastInvalidationTime=Ti(),0!==u.length&&o.haveLayers()&&o.updateElementsInLayers(u,function(f,h,p){o.invalidateLayer(f)}))},Ca.invalidateLayer=function(u){if(this.lastInvalidationTime=Ti(),!u.invalid){var o=u.level,l=u.eles;$a(this.layersByLevel[o],u),u.elesQueue=[],u.invalid=!0,u.replacement&&(u.replacement.invalid=!0);for(var h=0;h<l.length;h++){var p=l[h]._private.rscratch.imgLayerCaches;p&&(p[o]=null)}}},Ca.refineElementTextures=function(u){var o=this;o.updateElementsInLayers(u,function(f,h,p){var g=f.replacement;if(g||((g=f.replacement=o.makeLayer(f.bb,f.level)).replaces=f,g.eles=f.eles),!g.reqs)for(var _=0;_<g.eles.length;_++)o.queueLayer(g,g.eles[_])})},Ca.enqueueElementRefinement=function(u){this.eleTxrDeqs.merge(u),this.scheduleElementRefinement()},Ca.queueLayer=function(u,o){var f=this.layersQueue,h=u.elesQueue,p=h.hasId=h.hasId||{};if(!u.replacement){if(o){if(p[o.id()])return;h.push(o),p[o.id()]=!0}u.reqs?(u.reqs++,f.updateItem(u)):(u.reqs=1,f.push(u))}},Ca.dequeue=function(u){for(var o=this,l=o.layersQueue,f=[],h=0;h<1&&0!==l.size();){var p=l.peek();if(p.replacement)l.pop();else if(p.replaces&&p!==p.replaces.replacement)l.pop();else if(p.invalid)l.pop();else{var g=p.elesQueue.shift();g&&(o.drawEleInLayer(p,g,p.level,u),h++),0===f.length&&f.push(!0),0===p.elesQueue.length&&(l.pop(),p.reqs=0,p.replaces&&o.applyLayerReplacement(p),o.requestRedraw())}}return f},Ca.applyLayerReplacement=function(u){var l=this.layersByLevel[u.level],f=u.replaces,h=l.indexOf(f);if(!(h<0||f.invalid)){l[h]=u;for(var p=0;p<u.eles.length;p++){var g=u.eles[p]._private,_=g.imgLayerCaches=g.imgLayerCaches||{};_&&(_[u.level]=u)}this.requestRedraw()}},Ca.requestRedraw=R.default(function(){var u=this.renderer;u.redrawHint("eles",!0),u.redrawHint("drag",!0),u.redraw()},100),Ca.setupDequeueing=Ai_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l){return o.dequeue(l)},onDeqd:rd,shouldRedraw:nc,priority:function(o){return o.renderer.beforeRenderPriorities.lyrTxrDeq}});var xm,Gh={};function mw(u,o){for(var l=0;l<o.length;l++){var f=o[l];u.lineTo(f.x,f.y)}}function Ey(u,o,l){for(var f,h=0;h<o.length;h++){var p=o[h];0===h&&(f=p),u.lineTo(p.x,p.y)}u.quadraticCurveTo(l.x,l.y,f.x,f.y)}function vw(u,o,l){u.beginPath&&u.beginPath();for(var f=o,h=0;h<f.length;h++)u.lineTo((p=f[h]).x,p.y);var g=l,_=l[0];for(u.moveTo(_.x,_.y),h=1;h<g.length;h++){var p;u.lineTo((p=g[h]).x,p.y)}u.closePath&&u.closePath()}function Dy(u,o,l,f,h){u.beginPath&&u.beginPath(),u.arc(l,f,h,0,2*Math.PI,!1);var p=o,g=p[0];u.moveTo(g.x,g.y);for(var _=0;_<p.length;_++){var E=p[_];u.lineTo(E.x,E.y)}u.closePath&&u.closePath()}function eD(u,o,l,f){u.arc(o,l,f,0,2*Math.PI,!1)}Gh.arrowShapeImpl=function(u){return(xm||(xm={polygon:mw,"triangle-backcurve":Ey,"triangle-tee":vw,"circle-triangle":Dy,"triangle-cross":vw,circle:eD}))[u]};var au={drawElement:function(u,o,l,f,h,p){o.isNode()?this.drawNode(u,o,l,f,h,p):this.drawEdge(u,o,l,f,h,p)},drawElementOverlay:function(u,o){o.isNode()?this.drawNodeOverlay(u,o):this.drawEdgeOverlay(u,o)},drawElementUnderlay:function(u,o){o.isNode()?this.drawNodeUnderlay(u,o):this.drawEdgeUnderlay(u,o)},drawCachedElementPortion:function(u,o,l,f,h,p,g,_){var E=this,x=l.getBoundingBox(o);if(0!==x.w&&0!==x.h){var M=l.getElement(o,x,f,h,p);if(null!=M){var F=_(E,o);if(0===F)return;var re,fe,he,ve,Ie,Me,z=g(E,o),W=x.x1,j=x.y1,q=x.w,J=x.h;if(0!==z){var Ae=l.getRotationPoint(o);u.translate(he=Ae.x,ve=Ae.y),u.rotate(z),(Ie=E.getImgSmoothing(u))||E.setImgSmoothing(u,!0);var ye=l.getRotationOffset(o);re=ye.x,fe=ye.y}else re=W,fe=j;1!==F&&(u.globalAlpha=(Me=u.globalAlpha)*F),u.drawImage(M.texture.canvas,M.x,0,M.width,M.height,re,fe,q,J),1!==F&&(u.globalAlpha=Me),0!==z&&(u.rotate(-z),u.translate(-he,-ve),Ie||E.setImgSmoothing(u,!1))}else l.drawElement(u,o)}}},yw=function(){return 0},Em=function(o,l){return o.getTextAngle(l,null)},tD=function(o,l){return o.getTextAngle(l,"source")},nD=function(o,l){return o.getTextAngle(l,"target")},Dm=function(o,l){return l.effectiveOpacity()},Sy=function(o,l){return l.pstyle("text-opacity").pfValue*l.effectiveOpacity()};au.drawCachedElement=function(u,o,l,f,h,p){var g=this,_=g.data,E=_.eleTxrCache,x=_.lblTxrCache,M=_.slbTxrCache,F=_.tlbTxrCache,z=o.boundingBox(),W=!0===p?E.reasons.highQuality:null;if(0!==z.w&&0!==z.h&&o.visible()&&(!f||tr(z,f))){var j=o.isEdge(),q=o.element()._private.rscratch.badLine;g.drawElementUnderlay(u,o),g.drawCachedElementPortion(u,o,E,l,h,W,yw,Dm),(!j||!q)&&g.drawCachedElementPortion(u,o,x,l,h,W,Em,Sy),j&&!q&&(g.drawCachedElementPortion(u,o,M,l,h,W,tD,Sy),g.drawCachedElementPortion(u,o,F,l,h,W,nD,Sy)),g.drawElementOverlay(u,o)}},au.drawElements=function(u,o){for(var f=0;f<o.length;f++)this.drawElement(u,o[f])},au.drawCachedElements=function(u,o,l,f){for(var p=0;p<o.length;p++)this.drawCachedElement(u,o[p],l,f)},au.drawCachedNodes=function(u,o,l,f){for(var p=0;p<o.length;p++){var g=o[p];g.isNode()&&this.drawCachedElement(u,g,l,f)}},au.drawLayeredElements=function(u,o,l,f){var p=this.data.lyrTxrCache.getLayers(o,l);if(p)for(var g=0;g<p.length;g++){var _=p[g],E=_.bb;0===E.w||0===E.h||u.drawImage(_.canvas,E.x1,E.y1,E.w,E.h)}else this.drawCachedElements(u,o,l,f)};var Nc={drawEdge:function(u,o,l){var f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,_=o._private.rscratch;if((!p||o.visible())&&!_.badLine&&null!=_.allpts&&!isNaN(_.allpts[0])){var E;l&&u.translate(-(E=l).x1,-E.y1);var x=p?o.pstyle("opacity").value:1,M=p?o.pstyle("line-opacity").value:1,F=o.pstyle("curve-style").value,z=o.pstyle("line-style").value,W=o.pstyle("width").pfValue,j=o.pstyle("line-cap").value,q=x*M,J=x*M,re=function(){var xe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;"straight-triangle"===F?(g.eleStrokeStyle(u,o,xe),g.drawEdgeTrianglePath(o,u,_.allpts)):(u.lineWidth=W,u.lineCap=j,g.eleStrokeStyle(u,o,xe),g.drawEdgePath(o,u,_.allpts,z),u.lineCap="butt")},ve=function(){g.drawArrowheads(u,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:J)};if(u.lineJoin="round","yes"===o.pstyle("ghost").value){var ye=o.pstyle("ghost-offset-x").pfValue,Me=o.pstyle("ghost-offset-y").pfValue,we=o.pstyle("ghost-opacity").value,ke=q*we;u.translate(ye,Me),re(ke),ve(ke),u.translate(-ye,-Me)}h&&g.drawEdgeUnderlay(u,o),re(),ve(),h&&g.drawEdgeOverlay(u,o),g.drawElementText(u,o,null,f),l&&u.translate(E.x1,E.y1)}}},bw=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,f){if(f.visible()){var h=f.pstyle("".concat(o,"-opacity")).value;if(0!==h){var p=this,g=p.usePaths(),_=f._private.rscratch,x=2*f.pstyle("".concat(o,"-padding")).pfValue,M=f.pstyle("".concat(o,"-color")).value;l.lineWidth=x,l.lineCap="self"!==_.edgeType||g?"round":"butt",p.colorStrokeStyle(l,M[0],M[1],M[2],h),p.drawEdgePath(f,l,_.allpts,"solid")}}}};Nc.drawEdgeOverlay=bw("overlay"),Nc.drawEdgeUnderlay=bw("underlay"),Nc.drawEdgePath=function(u,o,l,f){var g,h=u._private.rscratch,p=o,_=!1,E=this.usePaths(),x=u.pstyle("line-dash-pattern").pfValue,M=u.pstyle("line-dash-offset").pfValue;if(E){var F=l.join("$");h.pathCacheKey&&h.pathCacheKey===F?(g=o=h.pathCache,_=!0):(g=o=new Path2D,h.pathCacheKey=F,h.pathCache=g)}if(p.setLineDash)switch(f){case"dotted":p.setLineDash([1,1]);break;case"dashed":p.setLineDash(x),p.lineDashOffset=M;break;case"solid":p.setLineDash([])}if(!_&&!h.badLine)switch(o.beginPath&&o.beginPath(),o.moveTo(l[0],l[1]),h.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var W=2;W+3<l.length;W+=4)o.quadraticCurveTo(l[W],l[W+1],l[W+2],l[W+3]);break;case"straight":case"segments":case"haystack":for(var j=2;j+1<l.length;j+=2)o.lineTo(l[j],l[j+1])}o=p,E?o.stroke(g):o.stroke(),o.setLineDash&&o.setLineDash([])},Nc.drawEdgeTrianglePath=function(u,o,l){o.fillStyle=o.strokeStyle;for(var f=u.pstyle("width").pfValue,h=0;h+1<l.length;h+=2){var p=[l[h+2]-l[h],l[h+3]-l[h+1]],g=Math.sqrt(p[0]*p[0]+p[1]*p[1]),_=[p[1]/g,-p[0]/g],E=[_[0]*f/2,_[1]*f/2];o.beginPath(),o.moveTo(l[h]-E[0],l[h+1]-E[1]),o.lineTo(l[h]+E[0],l[h+1]+E[1]),o.lineTo(l[h+2],l[h+3]),o.closePath(),o.fill()}},Nc.drawArrowheads=function(u,o,l){var f=o._private.rscratch,h="haystack"===f.edgeType;h||this.drawArrowhead(u,o,"source",f.arrowStartX,f.arrowStartY,f.srcArrowAngle,l),this.drawArrowhead(u,o,"mid-target",f.midX,f.midY,f.midtgtArrowAngle,l),this.drawArrowhead(u,o,"mid-source",f.midX,f.midY,f.midsrcArrowAngle,l),h||this.drawArrowhead(u,o,"target",f.arrowEndX,f.arrowEndY,f.tgtArrowAngle,l)},Nc.drawArrowhead=function(u,o,l,f,h,p,g){if(!(isNaN(f)||null==f||isNaN(h)||null==h||isNaN(p)||null==p)){var _=this,E=o.pstyle(l+"-arrow-shape").value;if("none"!==E){var x="hollow"===o.pstyle(l+"-arrow-fill").value?"both":"filled",M=o.pstyle(l+"-arrow-fill").value,F=o.pstyle("width").pfValue,z=o.pstyle("opacity").value;void 0===g&&(g=z);var W=u.globalCompositeOperation;(1!==g||"hollow"===M)&&(u.globalCompositeOperation="destination-out",_.colorFillStyle(u,255,255,255,1),_.colorStrokeStyle(u,255,255,255,1),_.drawArrowShape(o,u,x,F,E,f,h,p),u.globalCompositeOperation=W);var j=o.pstyle(l+"-arrow-color").value;_.colorFillStyle(u,j[0],j[1],j[2],g),_.colorStrokeStyle(u,j[0],j[1],j[2],g),_.drawArrowShape(o,u,M,F,E,f,h,p)}}},Nc.drawArrowShape=function(u,o,l,f,h,p,g,_){var F,E=this,x=this.usePaths()&&"triangle-cross"!==h,M=!1,z=o,W={x:p,y:g},j=u.pstyle("arrow-scale").value,q=this.getArrowWidth(f,j),J=E.arrowShapes[h];if(x){var re=E.arrowPathCache=E.arrowPathCache||[],fe=ss(h),he=re[fe];null!=he?(F=o=he,M=!0):(F=o=new Path2D,re[fe]=F)}M||(o.beginPath&&o.beginPath(),x?J.draw(o,1,0,{x:0,y:0},1):J.draw(o,q,_,W,f),o.closePath&&o.closePath()),o=z,x&&(o.translate(p,g),o.rotate(_),o.scale(q,q)),("filled"===l||"both"===l)&&(x?o.fill(F):o.fill()),("hollow"===l||"both"===l)&&(o.lineWidth=(J.matchEdgeWidth?f:1)/(x?q:1),o.lineJoin="miter",x?o.stroke(F):o.stroke()),x&&(o.scale(1/q,1/q),o.rotate(-_),o.translate(-p,-g))};var Ty={safeDrawImage:function(u,o,l,f,h,p,g,_,E,x){if(!(h<=0||p<=0||E<=0||x<=0))try{u.drawImage(o,l,f,h,p,g,_,E,x)}catch(M){Mr(M)}},drawInscribedImage:function(u,o,l,f,h){var p=this,g=l.position(),_=g.x,E=g.y,x=l.cy().style(),M=x.getIndexedStyle.bind(x),F=M(l,"background-fit","value",f),z=M(l,"background-repeat","value",f),W=l.width(),j=l.height(),q=2*l.padding(),J=W+("inner"===M(l,"background-width-relative-to","value",f)?0:q),re=j+("inner"===M(l,"background-height-relative-to","value",f)?0:q),fe=l._private.rscratch,ve="node"===M(l,"background-clip","value",f),Ie=M(l,"background-image-opacity","value",f)*h,Ae=M(l,"background-image-smoothing","value",f),ye=o.width||o.cachedW,Me=o.height||o.cachedH;(null==ye||null==Me)&&(document.body.appendChild(o),ye=o.cachedW=o.width||o.offsetWidth,Me=o.cachedH=o.height||o.offsetHeight,document.body.removeChild(o));var we=ye,ke=Me;if("auto"!==M(l,"background-width","value",f)&&(we="%"===M(l,"background-width","units",f)?M(l,"background-width","pfValue",f)*J:M(l,"background-width","pfValue",f)),"auto"!==M(l,"background-height","value",f)&&(ke="%"===M(l,"background-height","units",f)?M(l,"background-height","pfValue",f)*re:M(l,"background-height","pfValue",f)),0!==we&&0!==ke){if("contain"===F)we*=Pe=Math.min(J/we,re/ke),ke*=Pe;else if("cover"===F){var Pe;we*=Pe=Math.max(J/we,re/ke),ke*=Pe}var xe=_-J/2,He=M(l,"background-position-x","units",f),Ne=M(l,"background-position-x","pfValue",f);xe+="%"===He?(J-we)*Ne:Ne;var qe=M(l,"background-offset-x","units",f),Ue=M(l,"background-offset-x","pfValue",f);xe+="%"===qe?(J-we)*Ue:Ue;var Ge=E-re/2,ot=M(l,"background-position-y","units",f),ct=M(l,"background-position-y","pfValue",f);Ge+="%"===ot?(re-ke)*ct:ct;var yt=M(l,"background-offset-y","units",f),st=M(l,"background-offset-y","pfValue",f);Ge+="%"===yt?(re-ke)*st:st,fe.pathCache&&(xe-=_,Ge-=E,_=0,E=0);var vt=u.globalAlpha;u.globalAlpha=Ie;var At=p.getImgSmoothing(u),Ot=!1;if("no"===Ae&&At?(p.setImgSmoothing(u,!1),Ot=!0):"yes"===Ae&&!At&&(p.setImgSmoothing(u,!0),Ot=!0),"no-repeat"===z)ve&&(u.save(),fe.pathCache?u.clip(fe.pathCache):(p.nodeShapes[p.getNodeShape(l)].draw(u,_,E,J,re),u.clip())),p.safeDrawImage(u,o,0,0,ye,Me,xe,Ge,we,ke),ve&&u.restore();else{var Dt=u.createPattern(o,z);u.fillStyle=Dt,p.nodeShapes[p.getNodeShape(l)].draw(u,_,E,J,re),u.translate(xe,Ge),u.fill(),u.translate(-xe,-Ge)}u.globalAlpha=vt,Ot&&p.setImgSmoothing(u,At)}}},Uf={eleTextBiggerThanMin:function(u,o){if(!o){var l=u.cy().zoom(),f=this.getPixelRatio(),h=Math.ceil(Hi(l*f));o=Math.pow(2,h)}return!(u.pstyle("font-size").pfValue*o<u.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(u,o,l,f,h){var p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this;if(null==f){if(p&&!g.eleTextBiggerThanMin(o))return}else if(!1===f)return;if(o.isNode()){var _=o.pstyle("label");if(!_||!_.value)return;var E=g.getLabelJustification(o);u.textAlign=E,u.textBaseline="bottom"}else{var x=o.element()._private.rscratch.badLine,M=o.pstyle("label"),F=o.pstyle("source-label"),z=o.pstyle("target-label");if(x||(!M||!M.value)&&(!F||!F.value)&&(!z||!z.value))return;u.textAlign="center",u.textBaseline="bottom"}var j,W=!l;l&&u.translate(-(j=l).x1,-j.y1),null==h?(g.drawText(u,o,null,W,p),o.isEdge()&&(g.drawText(u,o,"source",W,p),g.drawText(u,o,"target",W,p))):g.drawText(u,o,h,W,p),l&&u.translate(j.x1,j.y1)},getFontCache:function(u){var o;this.fontCaches=this.fontCaches||[];for(var l=0;l<this.fontCaches.length;l++)if((o=this.fontCaches[l]).context===u)return o;return this.fontCaches.push(o={context:u}),o},setupTextStyle:function(u,o){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=o.pstyle("font-style").strValue,h=o.pstyle("font-size").pfValue+"px",p=o.pstyle("font-family").strValue,g=o.pstyle("font-weight").strValue,_=l?o.effectiveOpacity()*o.pstyle("text-opacity").value:1,E=o.pstyle("text-outline-opacity").value*_,x=o.pstyle("color").value,M=o.pstyle("text-outline-color").value;u.font=f+" "+g+" "+h+" "+p,u.lineJoin="round",this.colorFillStyle(u,x[0],x[1],x[2],_),this.colorStrokeStyle(u,M[0],M[1],M[2],E)},getTextAngle:function(u,o){var h=u._private.rscratch,g=u.pstyle((o?o+"-":"")+"text-rotation"),_=Qi(h,"labelAngle",o);return"autorotate"===g.strValue?u.isEdge()?_:0:"none"===g.strValue?0:g.pfValue},drawText:function(u,o,l){var f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=o._private.rscratch,_=h?o.effectiveOpacity():1;if(!h||0!==_&&0!==o.pstyle("text-opacity").value){"main"===l&&(l=null);var M,F,E=Qi(g,"labelX",l),x=Qi(g,"labelY",l),z=this.getLabelText(o,l);if(null!=z&&""!==z&&!isNaN(E)&&!isNaN(x)){this.setupTextStyle(u,o,h);var Ie,W=l?l+"-":"",j=Qi(g,"labelWidth",l),q=Qi(g,"labelHeight",l),J=o.pstyle(W+"text-margin-x").pfValue,re=o.pstyle(W+"text-margin-y").pfValue,fe=o.isEdge(),he=o.pstyle("text-halign").value,ve=o.pstyle("text-valign").value;switch(fe&&(he="center",ve="center"),E+=J,x+=re,0!==(Ie=f?this.getTextAngle(o,l):0)&&(u.translate(M=E,F=x),u.rotate(Ie),E=0,x=0),ve){case"top":break;case"center":x+=q/2;break;case"bottom":x+=q}var Ae=o.pstyle("text-background-opacity").value,ye=o.pstyle("text-border-opacity").value,Me=o.pstyle("text-border-width").pfValue,we=o.pstyle("text-background-padding").pfValue;if(Ae>0||Me>0&&ye>0){var ke=E-we;switch(he){case"left":ke-=j;break;case"center":ke-=j/2}var Pe=x-q-we,xe=j+2*we,He=q+2*we;if(Ae>0){var Ne=u.fillStyle,qe=o.pstyle("text-background-color").value;u.fillStyle="rgba("+qe[0]+","+qe[1]+","+qe[2]+","+Ae*_+")",0===o.pstyle("text-background-shape").strValue.indexOf("round")?function ww(u,o,l,f,h){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;u.beginPath(),u.moveTo(o+p,l),u.lineTo(o+f-p,l),u.quadraticCurveTo(o+f,l,o+f,l+p),u.lineTo(o+f,l+h-p),u.quadraticCurveTo(o+f,l+h,o+f-p,l+h),u.lineTo(o+p,l+h),u.quadraticCurveTo(o,l+h,o,l+h-p),u.lineTo(o,l+p),u.quadraticCurveTo(o,l,o+p,l),u.closePath(),u.fill()}(u,ke,Pe,xe,He,2):u.fillRect(ke,Pe,xe,He),u.fillStyle=Ne}if(Me>0&&ye>0){var Ge=u.strokeStyle,ot=u.lineWidth,ct=o.pstyle("text-border-color").value,yt=o.pstyle("text-border-style").value;if(u.strokeStyle="rgba("+ct[0]+","+ct[1]+","+ct[2]+","+ye*_+")",u.lineWidth=Me,u.setLineDash)switch(yt){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash([4,2]);break;case"double":u.lineWidth=Me/4,u.setLineDash([]);break;case"solid":u.setLineDash([])}if(u.strokeRect(ke,Pe,xe,He),"double"===yt){var st=Me/2;u.strokeRect(ke+st,Pe+st,xe-2*st,He-2*st)}u.setLineDash&&u.setLineDash([]),u.lineWidth=ot,u.strokeStyle=Ge}}var vt=2*o.pstyle("text-outline-width").pfValue;if(vt>0&&(u.lineWidth=vt),"wrap"===o.pstyle("text-wrap").value){var At=Qi(g,"labelWrapCachedLines",l),Ot=Qi(g,"labelLineHeight",l),Dt=j/2,_t=this.getLabelJustification(o);switch("auto"===_t||("left"===he?"left"===_t?E+=-j:"center"===_t&&(E+=-Dt):"center"===he?"left"===_t?E+=-Dt:"right"===_t&&(E+=Dt):"right"===he&&("center"===_t?E+=Dt:"right"===_t&&(E+=j))),ve){case"top":case"center":case"bottom":x-=(At.length-1)*Ot}for(var tt=0;tt<At.length;tt++)vt>0&&u.strokeText(At[tt],E,x),u.fillText(At[tt],E,x),x+=Ot}else vt>0&&u.strokeText(z,E,x),u.fillText(z,E,x);0!==Ie&&(u.rotate(-Ie),u.translate(-M,-F))}}}},Bu={drawNode:function(u,o,l){var _,E,f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,x=o._private,M=x.rscratch,F=o.position();if(Ze(F.x)&&Ze(F.y)&&(!p||o.visible())){var j,re,z=p?o.effectiveOpacity():1,W=g.usePaths(),q=!1,J=o.padding();_=o.width()+2*J,E=o.height()+2*J,l&&u.translate(-(re=l).x1,-re.y1);for(var he=o.pstyle("background-image").value,ve=new Array(he.length),Ie=new Array(he.length),Ae=0,ye=0;ye<he.length;ye++){var Me=he[ye];if(ve[ye]=null!=Me&&"none"!==Me){var ke=o.cy().style().getIndexedStyle(o,"background-image-crossorigin","value",ye);Ae++,Ie[ye]=g.getCachedImage(Me,ke,function(){x.backgroundTimestamp=Date.now(),o.emitAndNotify("background")})}}var Pe=o.pstyle("background-blacken").value,xe=o.pstyle("border-width").pfValue,He=o.pstyle("background-opacity").value*z,Ne=o.pstyle("border-color").value,qe=o.pstyle("border-style").value,Ue=o.pstyle("border-opacity").value*z;u.lineJoin="miter";var Ge=function(){g.eleFillStyle(u,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:He)},ot=function(){g.colorStrokeStyle(u,Ne[0],Ne[1],Ne[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue)},ct=o.pstyle("shape").strValue,yt=o.pstyle("shape-polygon-points").pfValue;if(W){u.translate(F.x,F.y);var st=g.nodePathCache=g.nodePathCache||[],vt=td("polygon"===ct?ct+","+yt.join(","):ct,""+E,""+_),At=st[vt];null!=At?(q=!0,M.pathCache=j=At):(j=new Path2D,st[vt]=M.pathCache=j)}var Ot=function(){if(!q){var un=F;W&&(un={x:0,y:0}),g.nodeShapes[g.getNodeShape(o)].draw(j||u,un.x,un.y,_,E)}W?u.fill(j):u.fill()},Dt=function(){for(var un=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,Rn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Nr=x.backgrounding,fr=0,$n=0;$n<Ie.length;$n++){var zt=o.cy().style().getIndexedStyle(o,"background-image-containment","value",$n);Rn&&"over"===zt||!Rn&&"inside"===zt?fr++:ve[$n]&&Ie[$n].complete&&!Ie[$n].error&&(fr++,g.drawInscribedImage(u,Ie[$n],o,$n,un))}x.backgrounding=fr!==Ae,Nr!==x.backgrounding&&o.updateStyle(!1)},_t=function(){var un=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Rn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;g.hasPie(o)&&(g.drawPie(u,o,Rn),un&&(W||g.nodeShapes[g.getNodeShape(o)].draw(u,F.x,F.y,_,E)))},tt=function(){var Nr=Pe>0?0:255;0!==Pe&&(g.colorFillStyle(u,Nr,Nr,Nr,(Pe>0?Pe:-Pe)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:z)),W?u.fill(j):u.fill())},Mt=function(){if(xe>0){if(u.lineWidth=xe,u.lineCap="butt",u.setLineDash)switch(qe){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash([4,2]);break;case"solid":case"double":u.setLineDash([])}if(W?u.stroke(j):u.stroke(),"double"===qe){u.lineWidth=xe/3;var un=u.globalCompositeOperation;u.globalCompositeOperation="destination-out",W?u.stroke(j):u.stroke(),u.globalCompositeOperation=un}u.setLineDash&&u.setLineDash([])}};if("yes"===o.pstyle("ghost").value){var ar=o.pstyle("ghost-offset-x").pfValue,sn=o.pstyle("ghost-offset-y").pfValue,en=o.pstyle("ghost-opacity").value,Pn=en*z;u.translate(ar,sn),Ge(en*He),Ot(),Dt(Pn,!0),ot(en*Ue),Mt(),_t(0!==Pe||0!==xe),Dt(Pn,!1),tt(Pn),u.translate(-ar,-sn)}W&&u.translate(-F.x,-F.y),h&&g.drawNodeUnderlay(u,o,F,_,E),W&&u.translate(F.x,F.y),Ge(),Ot(),Dt(z,!0),ot(),Mt(),_t(0!==Pe||0!==xe),Dt(z,!1),tt(),W&&u.translate(-F.x,-F.y),g.drawElementText(u,o,null,f),h&&g.drawNodeOverlay(u,o,F,_,E),l&&u.translate(re.x1,re.y1)}}},qp=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,f,h,p,g){if(f.visible()){var E=f.pstyle("".concat(o,"-padding")).pfValue,x=f.pstyle("".concat(o,"-opacity")).value,M=f.pstyle("".concat(o,"-color")).value,F=f.pstyle("".concat(o,"-shape")).value;if(x>0){if(h=h||f.position(),null==p||null==g){var z=f.padding();p=f.width()+2*z,g=f.height()+2*z}this.colorFillStyle(l,M[0],M[1],M[2],x),this.nodeShapes[F].draw(l,h.x,h.y,p+2*E,g+2*E),l.fill()}}}};Bu.drawNodeOverlay=qp("overlay"),Bu.drawNodeUnderlay=qp("underlay"),Bu.hasPie=function(u){return(u=u[0])._private.hasPie},Bu.drawPie=function(u,o,l,f){o=o[0],f=f||o.position();var h=o.cy().style(),p=o.pstyle("pie-size"),g=f.x,_=f.y,E=o.width(),x=o.height(),M=Math.min(E,x)/2,F=0;this.usePaths()&&(g=0,_=0),"%"===p.units?M*=p.pfValue:void 0!==p.pfValue&&(M=p.pfValue/2);for(var W=1;W<=h.pieBackgroundN;W++){var j=o.pstyle("pie-"+W+"-background-size").value,q=o.pstyle("pie-"+W+"-background-color").value,J=o.pstyle("pie-"+W+"-background-opacity").value*l,re=j/100;re+F>1&&(re=1-F);var fe=1.5*Math.PI+2*Math.PI*F,ve=fe+2*Math.PI*re;0===j||F>=1||F+re>1||(u.beginPath(),u.moveTo(g,_),u.arc(g,_,M,fe,ve),u.closePath(),this.colorFillStyle(u,q[0],q[1],q[2],J),u.fill(),F+=re)}};for(var ws={getPixelRatio:function(){var u=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(u.backingStorePixelRatio||u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1)},paintCache:function(u){for(var f,o=this.paintCaches=this.paintCaches||[],l=!0,h=0;h<o.length;h++)if((f=o[h]).context===u){l=!1;break}return l&&o.push(f={context:u}),f},createGradientStyleFor:function(u,o,l,f,h){var p,g=this.usePaths(),_=l.pstyle(o+"-gradient-stop-colors").value,E=l.pstyle(o+"-gradient-stop-positions").pfValue;if("radial-gradient"===f)if(l.isEdge()){var x=l.sourceEndpoint(),M=l.targetEndpoint(),F=l.midpoint(),z=zi(x,F),W=zi(M,F);p=u.createRadialGradient(F.x,F.y,0,F.x,F.y,Math.max(z,W))}else{var j=g?{x:0,y:0}:l.position(),q=l.paddedWidth(),J=l.paddedHeight();p=u.createRadialGradient(j.x,j.y,0,j.x,j.y,Math.max(q,J))}else if(l.isEdge()){var re=l.sourceEndpoint(),fe=l.targetEndpoint();p=u.createLinearGradient(re.x,re.y,fe.x,fe.y)}else{var he=g?{x:0,y:0}:l.position(),Ae=l.paddedWidth()/2,ye=l.paddedHeight()/2;switch(l.pstyle("background-gradient-direction").value){case"to-bottom":p=u.createLinearGradient(he.x,he.y-ye,he.x,he.y+ye);break;case"to-top":p=u.createLinearGradient(he.x,he.y+ye,he.x,he.y-ye);break;case"to-left":p=u.createLinearGradient(he.x+Ae,he.y,he.x-Ae,he.y);break;case"to-right":p=u.createLinearGradient(he.x-Ae,he.y,he.x+Ae,he.y);break;case"to-bottom-right":case"to-right-bottom":p=u.createLinearGradient(he.x-Ae,he.y-ye,he.x+Ae,he.y+ye);break;case"to-top-right":case"to-right-top":p=u.createLinearGradient(he.x-Ae,he.y+ye,he.x+Ae,he.y-ye);break;case"to-bottom-left":case"to-left-bottom":p=u.createLinearGradient(he.x+Ae,he.y-ye,he.x-Ae,he.y+ye);break;case"to-top-left":case"to-left-top":p=u.createLinearGradient(he.x+Ae,he.y+ye,he.x-Ae,he.y-ye)}}if(!p)return null;for(var we=E.length===_.length,ke=_.length,Pe=0;Pe<ke;Pe++)p.addColorStop(we?E[Pe]:Pe/(ke-1),"rgba("+_[Pe][0]+","+_[Pe][1]+","+_[Pe][2]+","+h+")");return p},gradientFillStyle:function(u,o,l,f){var h=this.createGradientStyleFor(u,"background",o,l,f);if(!h)return null;u.fillStyle=h},colorFillStyle:function(u,o,l,f,h){u.fillStyle="rgba("+o+","+l+","+f+","+h+")"},eleFillStyle:function(u,o,l){var f=o.pstyle("background-fill").value;if("linear-gradient"===f||"radial-gradient"===f)this.gradientFillStyle(u,o,f,l);else{var h=o.pstyle("background-color").value;this.colorFillStyle(u,h[0],h[1],h[2],l)}},gradientStrokeStyle:function(u,o,l,f){var h=this.createGradientStyleFor(u,"line",o,l,f);if(!h)return null;u.strokeStyle=h},colorStrokeStyle:function(u,o,l,f,h){u.strokeStyle="rgba("+o+","+l+","+f+","+h+")"},eleStrokeStyle:function(u,o,l){var f=o.pstyle("line-fill").value;if("linear-gradient"===f||"radial-gradient"===f)this.gradientStrokeStyle(u,o,f,l);else{var h=o.pstyle("line-color").value;this.colorStrokeStyle(u,h[0],h[1],h[2],l)}},matchCanvasSize:function(u){var o=this,l=o.data,f=o.findContainerClientCoords(),h=f[2],p=f[3],g=o.getPixelRatio();(u===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE]||u===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG])&&(g=o.motionBlurPxRatio);var M,E=h*g,x=p*g;if(E!==o.canvasWidth||x!==o.canvasHeight){o.fontCaches=null;var F=l.canvasContainer;F.style.width=h+"px",F.style.height=p+"px";for(var z=0;z<o.CANVAS_LAYERS;z++)(M=l.canvases[z]).width=E,M.height=x,M.style.width=h+"px",M.style.height=p+"px";for(z=0;z<o.BUFFER_COUNT;z++)(M=l.bufferCanvases[z]).width=E,M.height=x,M.style.width=h+"px",M.style.height=p+"px";o.textureMult=1,g<=1&&(M=l.bufferCanvases[o.TEXTURE_BUFFER],o.textureMult=2,M.width=E*o.textureMult,M.height=x*o.textureMult),o.canvasWidth=E,o.canvasHeight=x}},renderTo:function(u,o,l,f){this.render({forcedContext:u,forcedZoom:o,forcedPan:l,drawAllLayers:!0,forcedPxRatio:f})},render:function(u){var o=(u=u||En()).forcedContext,l=u.drawAllLayers,f=u.drawOnlyNodeLayer,h=u.forcedZoom,p=u.forcedPan,g=this,_=void 0===u.forcedPxRatio?this.getPixelRatio():u.forcedPxRatio,E=g.cy,x=g.data,M=x.canvasNeedsRedraw,F=g.textureOnViewport&&!o&&(g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming),z=void 0!==u.motionBlur?u.motionBlur:g.motionBlur,W=g.motionBlurPxRatio,j=E.hasCompoundNodes(),q=g.hoverData.draggingEles,re=z=z&&!o&&g.motionBlurEnabled&&!(g.hoverData.selecting||g.touchData.selecting);o||(g.prevPxRatio!==_&&(g.invalidateContainerClientCoordsCache(),g.matchCanvasSize(g.container),g.redrawHint("eles",!0),g.redrawHint("drag",!0)),g.prevPxRatio=_),!o&&g.motionBlurTimeout&&clearTimeout(g.motionBlurTimeout),z&&(null==g.mbFrames&&(g.mbFrames=0),g.mbFrames++,g.mbFrames<3&&(re=!1),g.mbFrames>g.minMbLowQualFrames&&(g.motionBlurPxRatio=g.mbPxRBlurry)),g.clearingMotionBlur&&(g.motionBlurPxRatio=1),g.textureDrawLastFrame&&!F&&(M[g.NODE]=!0,M[g.SELECT_BOX]=!0);var fe=E.style(),he=E.zoom(),ve=void 0!==h?h:he,Ie=E.pan(),Ae={x:Ie.x,y:Ie.y},ye={zoom:he,pan:{x:Ie.x,y:Ie.y}},Me=g.prevViewport;!(void 0===Me||ye.zoom!==Me.zoom||ye.pan.x!==Me.pan.x||ye.pan.y!==Me.pan.y)&&!(q&&!j)&&(g.motionBlurPxRatio=1),p&&(Ae=p),ve*=_,Ae.x*=_,Ae.y*=_;var ke=g.getCachedZSortedEles();function Pe(sn,en,Pn,Sn,un){var Rn=sn.globalCompositeOperation;sn.globalCompositeOperation="destination-out",g.colorFillStyle(sn,255,255,255,g.motionBlurTransparency),sn.fillRect(en,Pn,Sn,un),sn.globalCompositeOperation=Rn}function xe(sn,en){var Pn,Sn,un,Rn;g.clearingMotionBlur||sn!==x.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]&&sn!==x.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]?(Pn=Ae,Sn=ve,un=g.canvasWidth,Rn=g.canvasHeight):(Pn={x:Ie.x*W,y:Ie.y*W},Sn=he*W,un=g.canvasWidth*W,Rn=g.canvasHeight*W),sn.setTransform(1,0,0,1,0,0),"motionBlur"===en?Pe(sn,0,0,un,Rn):!o&&(void 0===en||en)&&sn.clearRect(0,0,un,Rn),l||(sn.translate(Pn.x,Pn.y),sn.scale(Sn,Sn)),p&&sn.translate(p.x,p.y),h&&sn.scale(h,h)}if(F||(g.textureDrawLastFrame=!1),F){if(g.textureDrawLastFrame=!0,!g.textureCache){g.textureCache={},g.textureCache.bb=E.mutableElements().boundingBox(),g.textureCache.texture=g.data.bufferCanvases[g.TEXTURE_BUFFER];var He=g.data.bufferContexts[g.TEXTURE_BUFFER];He.setTransform(1,0,0,1,0,0),He.clearRect(0,0,g.canvasWidth*g.textureMult,g.canvasHeight*g.textureMult),g.render({forcedContext:He,drawOnlyNodeLayer:!0,forcedPxRatio:_*g.textureMult}),(ye=g.textureCache.viewport={zoom:E.zoom(),pan:E.pan(),width:g.canvasWidth,height:g.canvasHeight}).mpan={x:(0-ye.pan.x)/ye.zoom,y:(0-ye.pan.y)/ye.zoom}}M[g.DRAG]=!1,M[g.NODE]=!1;var qe=g.textureCache.texture;ye=g.textureCache.viewport,(Ne=x.contexts[g.NODE]).setTransform(1,0,0,1,0,0),z?Pe(Ne,0,0,ye.width,ye.height):Ne.clearRect(0,0,ye.width,ye.height);var Ue=fe.core("outside-texture-bg-color").value,Ge=fe.core("outside-texture-bg-opacity").value;g.colorFillStyle(Ne,Ue[0],Ue[1],Ue[2],Ge),Ne.fillRect(0,0,ye.width,ye.height),he=E.zoom(),xe(Ne,!1),Ne.clearRect(ye.mpan.x,ye.mpan.y,ye.width/ye.zoom/_,ye.height/ye.zoom/_),Ne.drawImage(qe,ye.mpan.x,ye.mpan.y,ye.width/ye.zoom/_,ye.height/ye.zoom/_)}else g.textureOnViewport&&!o&&(g.textureCache=null);var ot=E.extent(),ct=g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming||g.hoverData.draggingEles||g.cy.animated(),yt=g.hideEdgesOnViewport&&ct,st=[];if(st[g.NODE]=!M[g.NODE]&&z&&!g.clearedForMotionBlur[g.NODE]||g.clearingMotionBlur,st[g.NODE]&&(g.clearedForMotionBlur[g.NODE]=!0),st[g.DRAG]=!M[g.DRAG]&&z&&!g.clearedForMotionBlur[g.DRAG]||g.clearingMotionBlur,st[g.DRAG]&&(g.clearedForMotionBlur[g.DRAG]=!0),M[g.NODE]||l||f||st[g.NODE]){var vt=z&&!st[g.NODE]&&1!==W;xe(Ne=o||(vt?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]:x.contexts[g.NODE]),z&&!vt?"motionBlur":void 0),yt?g.drawCachedNodes(Ne,ke.nondrag,_,ot):g.drawLayeredElements(Ne,ke.nondrag,_,ot),g.debug&&g.drawDebugPoints(Ne,ke.nondrag),!l&&!z&&(M[g.NODE]=!1)}if(!f&&(M[g.DRAG]||l||st[g.DRAG])&&(vt=z&&!st[g.DRAG]&&1!==W,xe(Ne=o||(vt?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]:x.contexts[g.DRAG]),z&&!vt?"motionBlur":void 0),yt?g.drawCachedNodes(Ne,ke.drag,_,ot):g.drawCachedElements(Ne,ke.drag,_,ot),g.debug&&g.drawDebugPoints(Ne,ke.drag),!l&&!z&&(M[g.DRAG]=!1)),g.showFps||!f&&M[g.SELECT_BOX]&&!l){var Ne;if(xe(Ne=o||x.contexts[g.SELECT_BOX]),1==g.selection[4]&&(g.hoverData.selecting||g.touchData.selecting)){he=g.cy.zoom();var Ot=fe.core("selection-box-border-width").value/he;Ne.lineWidth=Ot,Ne.fillStyle="rgba("+fe.core("selection-box-color").value[0]+","+fe.core("selection-box-color").value[1]+","+fe.core("selection-box-color").value[2]+","+fe.core("selection-box-opacity").value+")",Ne.fillRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]),Ot>0&&(Ne.strokeStyle="rgba("+fe.core("selection-box-border-color").value[0]+","+fe.core("selection-box-border-color").value[1]+","+fe.core("selection-box-border-color").value[2]+","+fe.core("selection-box-opacity").value+")",Ne.strokeRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]))}if(x.bgActivePosistion&&!g.hoverData.selecting){he=g.cy.zoom();var Dt=x.bgActivePosistion;Ne.fillStyle="rgba("+fe.core("active-bg-color").value[0]+","+fe.core("active-bg-color").value[1]+","+fe.core("active-bg-color").value[2]+","+fe.core("active-bg-opacity").value+")",Ne.beginPath(),Ne.arc(Dt.x,Dt.y,fe.core("active-bg-size").pfValue/he,0,2*Math.PI),Ne.fill()}var _t=g.lastRedrawTime;if(g.showFps&&_t){_t=Math.round(_t);var tt=Math.round(1e3/_t);Ne.setTransform(1,0,0,1,0,0),Ne.fillStyle="rgba(255, 0, 0, 0.75)",Ne.strokeStyle="rgba(255, 0, 0, 0.75)",Ne.lineWidth=1,Ne.fillText("1 frame = "+_t+" ms = "+tt+" fps",0,20),Ne.strokeRect(0,30,250,20),Ne.fillRect(0,30,250*Math.min(tt/60,1),20)}l||(M[g.SELECT_BOX]=!1)}if(z&&1!==W){var rn=x.contexts[g.DRAG],Xn=g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_DRAG],ar=function(en,Pn,Sn){en.setTransform(1,0,0,1,0,0),Sn||!re?en.clearRect(0,0,g.canvasWidth,g.canvasHeight):Pe(en,0,0,g.canvasWidth,g.canvasHeight),en.drawImage(Pn,0,0,g.canvasWidth*W,g.canvasHeight*W,0,0,g.canvasWidth,g.canvasHeight)};(M[g.NODE]||st[g.NODE])&&(ar(x.contexts[g.NODE],g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_NODE],st[g.NODE]),M[g.NODE]=!1),(M[g.DRAG]||st[g.DRAG])&&(ar(rn,Xn,st[g.DRAG]),M[g.DRAG]=!1)}g.prevViewport=ye,g.clearingMotionBlur&&(g.clearingMotionBlur=!1,g.motionBlurCleared=!0,g.motionBlur=!0),z&&(g.motionBlurTimeout=setTimeout(function(){g.motionBlurTimeout=null,g.clearedForMotionBlur[g.NODE]=!1,g.clearedForMotionBlur[g.DRAG]=!1,g.motionBlur=!1,g.clearingMotionBlur=!F,g.mbFrames=0,M[g.NODE]=!0,M[g.DRAG]=!0,g.redraw()},100)),o||E.emit("render")}},Vu={drawPolygonPath:function(u,o,l,f,h,p){var g=f/2,_=h/2;u.beginPath&&u.beginPath(),u.moveTo(o+g*p[0],l+_*p[1]);for(var E=1;E<p.length/2;E++)u.lineTo(o+g*p[2*E],l+_*p[2*E+1]);u.closePath()},drawRoundPolygonPath:function(u,o,l,f,h,p){var g=f/2,_=h/2,E=uc(f,h);u.beginPath&&u.beginPath();for(var x=0;x<p.length/4;x++){var F,M;M=0===x?p.length-2:4*x-2,F=4*x+2;var z=o+g*p[4*x],W=l+_*p[4*x+1],q=E/Math.tan(Math.acos(-p[M]*p[F]-p[M+1]*p[F+1])/2),J=z-q*p[M],re=W-q*p[M+1],fe=z+q*p[F],he=W+q*p[F+1];0===x?u.moveTo(J,re):u.lineTo(J,re),u.arcTo(z,W,fe,he,E)}u.closePath()},drawRoundRectanglePath:function(u,o,l,f,h){var p=f/2,g=h/2,_=wu(f,h);u.beginPath&&u.beginPath(),u.moveTo(o,l-g),u.arcTo(o+p,l-g,o+p,l,_),u.arcTo(o+p,l+g,o,l+g,_),u.arcTo(o-p,l+g,o-p,l,_),u.arcTo(o-p,l-g,o,l-g,_),u.lineTo(o,l-g),u.closePath()},drawBottomRoundRectanglePath:function(u,o,l,f,h){var p=f/2,g=h/2,_=wu(f,h);u.beginPath&&u.beginPath(),u.moveTo(o,l-g),u.lineTo(o+p,l-g),u.lineTo(o+p,l),u.arcTo(o+p,l+g,o,l+g,_),u.arcTo(o-p,l+g,o-p,l,_),u.lineTo(o-p,l-g),u.lineTo(o,l-g),u.closePath()},drawCutRectanglePath:function(u,o,l,f,h){var p=f/2,g=h/2;u.beginPath&&u.beginPath(),u.moveTo(o-p+8,l-g),u.lineTo(o+p-8,l-g),u.lineTo(o+p,l-g+8),u.lineTo(o+p,l+g-8),u.lineTo(o+p-8,l+g),u.lineTo(o-p+8,l+g),u.lineTo(o-p,l+g-8),u.lineTo(o-p,l-g+8),u.closePath()},drawBarrelPath:function(u,o,l,f,h){var p=f/2,g=h/2,_=o-p,E=o+p,x=l-g,M=l+g,F=fh(f,h),z=F.widthOffset,W=F.heightOffset,j=F.ctrlPtOffsetPct*z;u.beginPath&&u.beginPath(),u.moveTo(_,x+W),u.lineTo(_,M-W),u.quadraticCurveTo(_+j,M,_+z,M),u.lineTo(E-z,M),u.quadraticCurveTo(E-j,M,E,M-W),u.lineTo(E,x+W),u.quadraticCurveTo(E-j,x,E-z,x),u.lineTo(_+z,x),u.quadraticCurveTo(_+j,x,_,x+W),u.closePath()}},$d=Math.sin(0),Sm=Math.cos(0),Qp={},Gf={},jh=Math.PI/40,ea=0*Math.PI;ea<2*Math.PI;ea+=jh)Qp[ea]=Math.sin(ea),Gf[ea]=Math.cos(ea);Vu.drawEllipsePath=function(u,o,l,f,h){if(u.beginPath&&u.beginPath(),u.ellipse)u.ellipse(o,l,f/2,h/2,0,0,2*Math.PI);else for(var p,g,_=f/2,E=h/2,x=0*Math.PI;x<2*Math.PI;x+=jh)p=o-_*Qp[x]*$d+_*Gf[x]*Sm,g=l+E*Gf[x]*$d+E*Qp[x]*Sm,0===x?u.moveTo(p,g):u.lineTo(p,g);u.closePath()};var Wh={};function Iy(u){var o=u.indexOf(",");return u.substr(o+1)}function Tm(u,o,l){var f=function(){return o.toDataURL(l,u.quality)};switch(u.output){case"blob-promise":return new fs(function(h,p){try{o.toBlob(function(g){null!=g?h(g):p(new Error("`canvas.toBlob()` sent a null value in its callback"))},l,u.quality)}catch(g){p(g)}});case"blob":return function _w(u,o){for(var l=atob(u),f=new ArrayBuffer(l.length),h=new Uint8Array(f),p=0;p<l.length;p++)h[p]=l.charCodeAt(p);return new Blob([f],{type:o})}(Iy(f()),l);case"base64":return Iy(f());default:return f()}}Wh.createBuffer=function(u,o){var l=document.createElement("canvas");return l.width=u,l.height=o,[l,l.getContext("2d")]},Wh.bufferCanvasImage=function(u){var o=this.cy,f=o.mutableElements().boundingBox(),h=this.findContainerClientCoords(),p=u.full?Math.ceil(f.w):h[2],g=u.full?Math.ceil(f.h):h[3],_=Ze(u.maxWidth)||Ze(u.maxHeight),E=this.getPixelRatio(),x=1;if(void 0!==u.scale)p*=u.scale,g*=u.scale,x=u.scale;else if(_){var M=1/0,F=1/0;Ze(u.maxWidth)&&(M=x*u.maxWidth/p),Ze(u.maxHeight)&&(F=x*u.maxHeight/g),p*=x=Math.min(M,F),g*=x}_||(p*=E,g*=E,x*=E);var z=document.createElement("canvas");z.width=p,z.height=g,z.style.width=p+"px",z.style.height=g+"px";var W=z.getContext("2d");if(p>0&&g>0){W.clearRect(0,0,p,g),W.globalCompositeOperation="source-over";var j=this.getCachedZSortedEles();if(u.full)W.translate(-f.x1*x,-f.y1*x),W.scale(x,x),this.drawElements(W,j),W.scale(1/x,1/x),W.translate(f.x1*x,f.y1*x);else{var q=o.pan(),J={x:q.x*x,y:q.y*x};x*=o.zoom(),W.translate(J.x,J.y),W.scale(x,x),this.drawElements(W,j),W.scale(1/x,1/x),W.translate(-J.x,-J.y)}u.bg&&(W.globalCompositeOperation="destination-over",W.fillStyle=u.bg,W.rect(0,0,p,g),W.fill())}return z},Wh.png=function(u){return Tm(u,this.bufferCanvasImage(u),"image/png")},Wh.jpg=function(u){return Tm(u,this.bufferCanvasImage(u),"image/jpeg")};var Cw=Ay,ei=Ay.prototype;function Ay(u){var o=this;o.data={canvases:new Array(ei.CANVAS_LAYERS),contexts:new Array(ei.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ei.CANVAS_LAYERS),bufferCanvases:new Array(ei.BUFFER_COUNT),bufferContexts:new Array(ei.CANVAS_LAYERS)};var l="-webkit-tap-highlight-color",f="rgba(0,0,0,0)";o.data.canvasContainer=document.createElement("div");var h=o.data.canvasContainer.style;o.data.canvasContainer.style[l]=f,h.position="relative",h.zIndex="0",h.overflow="hidden";var p=u.cy.container();p.appendChild(o.data.canvasContainer),p.style[l]=f;var g={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};ie&&ie.userAgent.match(/msie|trident|edge/i)&&(g["-ms-touch-action"]="none",g["touch-action"]="none");for(var _=0;_<ei.CANVAS_LAYERS;_++){var E=o.data.canvases[_]=document.createElement("canvas");o.data.contexts[_]=E.getContext("2d"),Object.keys(g).forEach(function(_t){E.style[_t]=g[_t]}),E.style.position="absolute",E.setAttribute("data-id","layer"+_),E.style.zIndex=String(ei.CANVAS_LAYERS-_),o.data.canvasContainer.appendChild(E),o.data.canvasNeedsRedraw[_]=!1}for(o.data.topCanvas=o.data.canvases[0],o.data.canvases[ei.NODE].setAttribute("data-id","layer"+ei.NODE+"-node"),o.data.canvases[ei.SELECT_BOX].setAttribute("data-id","layer"+ei.SELECT_BOX+"-selectbox"),o.data.canvases[ei.DRAG].setAttribute("data-id","layer"+ei.DRAG+"-drag"),_=0;_<ei.BUFFER_COUNT;_++)o.data.bufferCanvases[_]=document.createElement("canvas"),o.data.bufferContexts[_]=o.data.bufferCanvases[_].getContext("2d"),o.data.bufferCanvases[_].style.position="absolute",o.data.bufferCanvases[_].setAttribute("data-id","buffer"+_),o.data.bufferCanvases[_].style.zIndex=String(-_-1),o.data.bufferCanvases[_].style.visibility="hidden";o.pathsEnabled=!0;var x=Mi(),F=function(tt){return{x:-tt.w/2,y:-tt.h/2}},Ie=function(tt){return tt.boundingBox(),tt[0]._private.bodyBounds},Ae=function(tt){return tt.boundingBox(),tt[0]._private.labelBounds.main||x},ye=function(tt){return tt.boundingBox(),tt[0]._private.labelBounds.source||x},Me=function(tt){return tt.boundingBox(),tt[0]._private.labelBounds.target||x},we=function(tt,Mt){return Mt},Pe=function(tt,Mt,Nt){var $t=tt?tt+"-":"";return{x:Mt.x+Nt.pstyle($t+"text-margin-x").pfValue,y:Mt.y+Nt.pstyle($t+"text-margin-y").pfValue}},xe=function(tt,Mt,Nt){var $t=tt[0]._private.rscratch;return{x:$t[Mt],y:$t[Nt]}},yt=o.data.eleTxrCache=new ns(o,{getKey:function(tt){return tt[0]._private.nodeKey},doesEleInvalidateKey:function(tt){var Mt=tt[0]._private;return!(Mt.oldBackgroundTimestamp===Mt.backgroundTimestamp)},drawElement:function(tt,Mt,Nt,$t,rn){return o.drawElement(tt,Mt,Nt,!1,!1,rn)},getBoundingBox:Ie,getRotationPoint:function(tt){return function(tt){return{x:(tt.x1+tt.x2)/2,y:(tt.y1+tt.y2)/2}}(Ie(tt))},getRotationOffset:function(tt){return F(Ie(tt))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),st=o.data.lblTxrCache=new ns(o,{getKey:function(tt){return tt[0]._private.labelStyleKey},drawElement:function(tt,Mt,Nt,$t,rn){return o.drawElementText(tt,Mt,Nt,$t,"main",rn)},getBoundingBox:Ae,getRotationPoint:function(tt){return Pe("",xe(tt,"labelX","labelY"),tt)},getRotationOffset:function(tt){var Mt=Ae(tt),Nt=F(Ae(tt));if(tt.isNode()){switch(tt.pstyle("text-halign").value){case"left":Nt.x=-Mt.w;break;case"right":Nt.x=0}switch(tt.pstyle("text-valign").value){case"top":Nt.y=-Mt.h;break;case"bottom":Nt.y=0}}return Nt},isVisible:we}),vt=o.data.slbTxrCache=new ns(o,{getKey:function(tt){return tt[0]._private.sourceLabelStyleKey},drawElement:function(tt,Mt,Nt,$t,rn){return o.drawElementText(tt,Mt,Nt,$t,"source",rn)},getBoundingBox:ye,getRotationPoint:function(tt){return Pe("source",xe(tt,"sourceLabelX","sourceLabelY"),tt)},getRotationOffset:function(tt){return F(ye(tt))},isVisible:we}),At=o.data.tlbTxrCache=new ns(o,{getKey:function(tt){return tt[0]._private.targetLabelStyleKey},drawElement:function(tt,Mt,Nt,$t,rn){return o.drawElementText(tt,Mt,Nt,$t,"target",rn)},getBoundingBox:Me,getRotationPoint:function(tt){return Pe("target",xe(tt,"targetLabelX","targetLabelY"),tt)},getRotationOffset:function(tt){return F(Me(tt))},isVisible:we}),Ot=o.data.lyrTxrCache=new pw(o);o.onUpdateEleCalcs(function(tt,Mt){yt.invalidateElements(Mt),st.invalidateElements(Mt),vt.invalidateElements(Mt),At.invalidateElements(Mt),Ot.invalidateElements(Mt);for(var Nt=0;Nt<Mt.length;Nt++){var $t=Mt[Nt]._private;$t.oldBackgroundTimestamp=$t.backgroundTimestamp}});var Dt=function(tt){for(var Mt=0;Mt<tt.length;Mt++)Ot.enqueueElementRefinement(tt[Mt].ele)};yt.onDequeue(Dt),st.onDequeue(Dt),vt.onDequeue(Dt),At.onDequeue(Dt)}ei.CANVAS_LAYERS=3,ei.SELECT_BOX=0,ei.DRAG=1,ei.NODE=2,ei.BUFFER_COUNT=3,ei.TEXTURE_BUFFER=0,ei.MOTIONBLUR_BUFFER_NODE=1,ei.MOTIONBLUR_BUFFER_DRAG=2,ei.redrawHint=function(u,o){var l=this;switch(u){case"eles":l.data.canvasNeedsRedraw[ei.NODE]=o;break;case"drag":l.data.canvasNeedsRedraw[ei.DRAG]=o;break;case"select":l.data.canvasNeedsRedraw[ei.SELECT_BOX]=o}};var Oy=typeof Path2D<"u";ei.path2dEnabled=function(u){if(void 0===u)return this.pathsEnabled;this.pathsEnabled=!!u},ei.usePaths=function(){return Oy&&this.pathsEnabled},ei.setImgSmoothing=function(u,o){null!=u.imageSmoothingEnabled?u.imageSmoothingEnabled=o:(u.webkitImageSmoothingEnabled=o,u.mozImageSmoothingEnabled=o,u.msImageSmoothingEnabled=o)},ei.getImgSmoothing=function(u){return null!=u.imageSmoothingEnabled?u.imageSmoothingEnabled:u.webkitImageSmoothingEnabled||u.mozImageSmoothingEnabled||u.msImageSmoothingEnabled},ei.makeOffscreenCanvas=function(u,o){var l;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":H(OffscreenCanvas))?l=new OffscreenCanvas(u,o):((l=document.createElement("canvas")).width=u,l.height=o),l},[Gh,au,Nc,Ty,Uf,Bu,ws,Vu,Wh,{nodeShapeImpl:function(u,o,l,f,h,p,g){switch(u){case"ellipse":return this.drawEllipsePath(o,l,f,h,p);case"polygon":return this.drawPolygonPath(o,l,f,h,p,g);case"round-polygon":return this.drawRoundPolygonPath(o,l,f,h,p,g);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(o,l,f,h,p);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(o,l,f,h,p);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(o,l,f,h,p);case"barrel":return this.drawBarrelPath(o,l,f,h,p)}}}].forEach(function(u){Nn(ei,u)});var Ew=[{type:"layout",extensions:Xp},{type:"renderer",extensions:[{name:"null",impl:Ii},{name:"base",impl:Dn},{name:"canvas",impl:Cw}]}],rs={},eg={};function Mm(u,o,l){var f=l,h=function(Me){Mr("Can not register `"+o+"` for `"+u+"` since `"+Me+"` already exists in the prototype and can not be overridden")};if("core"===u){if(ys.prototype[o])return h(o);ys.prototype[o]=l}else if("collection"===u){if(fo.prototype[o])return h(o);fo.prototype[o]=l}else if("layout"===u){for(var p=function(Me){this.options=Me,l.call(this,Me),Ke(this._private)||(this._private={}),this._private.cy=Me.cy,this._private.listeners=[],this.createEmitter()},g=p.prototype=Object.create(l.prototype),_=[],E=0;E<_.length;E++){var x=_[E];g[x]=g[x]||function(){return this}}g.start&&!g.run?g.run=function(){return this.start(),this}:!g.start&&g.run&&(g.start=function(){return this.run(),this});var M=l.prototype.stop;g.stop=function(){var ye=this.options;if(ye&&ye.animate){var Me=this.animations;if(Me)for(var we=0;we<Me.length;we++)Me[we].stop()}return M?M.call(this):this.emit("layoutstop"),this},g.destroy||(g.destroy=function(){return this}),g.cy=function(){return this._private.cy};var F=function(Me){return Me._private.cy},z={addEventFields:function(Me,we){we.layout=Me,we.cy=F(Me),we.target=Me},bubble:function(){return!0},parent:function(Me){return F(Me)}};Nn(g,{createEmitter:function(){return this._private.emitter=new ji(z,this),this},emitter:function(){return this._private.emitter},on:function(Me,we){return this.emitter().on(Me,we),this},one:function(Me,we){return this.emitter().one(Me,we),this},once:function(Me,we){return this.emitter().one(Me,we),this},removeListener:function(Me,we){return this.emitter().removeListener(Me,we),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(Me,we){return this.emitter().emit(Me,we),this}}),ur.eventAliasesOn(g),f=p}else if("renderer"===u&&"null"!==o&&"base"!==o){var W=tg("renderer","base"),j=W.prototype,q=l,J=l.prototype,re=function(){W.apply(this,arguments),q.apply(this,arguments)},fe=re.prototype;for(var he in j){var ve=j[he];if(null!=J[he])return h(he);fe[he]=ve}for(var Ae in J)fe[Ae]=J[Ae];j.clientFunctions.forEach(function(ye){fe[ye]=fe[ye]||function(){ri("Renderer does not implement `renderer."+ye+"()` on its prototype")}}),f=re}else if("__proto__"===u||"constructor"===u||"prototype"===u)return ri(u+" is an illegal type to be registered, possibly lead to prototype pollutions");return xn({map:rs,keys:[u,o],value:f})}function tg(u,o){return va({map:rs,keys:[u,o]})}function Va(u,o,l,f,h){return xn({map:eg,keys:[u,o,l,f],value:h})}function $h(u,o,l,f){return va({map:eg,keys:[u,o,l,f]})}var ng=function(){return 2===arguments.length?tg.apply(null,arguments):3===arguments.length?Mm.apply(null,arguments):4===arguments.length?$h.apply(null,arguments):5===arguments.length?Va.apply(null,arguments):void ri("Invalid extension access syntax")};ys.prototype.extension=ng,Ew.forEach(function(u){u.extensions.forEach(function(o){Mm(u.type,o.name,o.impl)})});var Im=function u(){if(!(this instanceof u))return new u;this.length=0},Yd=Im.prototype;Yd.instanceString=function(){return"stylesheet"},Yd.selector=function(u){return this[this.length++]={selector:u,properties:[]},this},Yd.css=function(u,o){var l=this.length-1;if(Be(u))this[l].properties.push({name:u,value:o});else if(Ke(u))for(var f=u,h=Object.keys(f),p=0;p<h.length;p++){var g=h[p],_=f[g];if(null!=_){var E=qo.properties[g]||qo.properties[_n(g)];null!=E&&this[l].properties.push({name:E.name,value:_})}}return this},Yd.style=Yd.css,Yd.generateStyle=function(u){var o=new qo(u);return this.appendToStyle(o)},Yd.appendToStyle=function(u){for(var o=0;o<this.length;o++){var l=this[o],h=l.properties;u.selector(l.selector);for(var p=0;p<h.length;p++){var g=h[p];u.css(g.name,g.value)}}return u};var Xd=function(o){return void 0===o&&(o={}),Ke(o)?new ys(o):Be(o)?ng.apply(ng,arguments):void 0};Xd.use=function(u){var o=Array.prototype.slice.call(arguments,1);return o.unshift(Xd),u.apply(null,o),this},Xd.warnings=function(u){return Oa(u)},Xd.version="3.25.0",Xd.stylesheet=Xd.Stylesheet=Im,Y.exports=Xd},8767:(Y,se,D)=>{Y.exports={graphlib:D(5849),layout:D(4395),debug:D(4232),util:{time:D(9505).time,notime:D(9505).notime},version:D(2187)}},1791:(Y,se,D)=>{"use strict";var T=D(3990),P=D(5123);Y.exports={run:function O(S){var R="greedy"===S.graph().acyclicer?P(S,function A(V){return function(L){return V.edge(L).weight}}(S)):function I(S){var R=[],A={},V={};return T.forEach(S.nodes(),function L(k){T.has(V,k)||(V[k]=!0,A[k]=!0,T.forEach(S.outEdges(k),function(H){T.has(A,H.w)?R.push(H):L(H.w)}),delete A[k])}),R}(S);T.forEach(R,function(V){var L=S.edge(V);S.removeEdge(V),L.forwardName=V.name,L.reversed=!0,S.setEdge(V.w,V.v,L,T.uniqueId("rev"))})},undo:function C(S){T.forEach(S.edges(),function(R){var A=S.edge(R);if(A.reversed){S.removeEdge(R);var V=A.forwardName;delete A.reversed,delete A.forwardName,S.setEdge(R.w,R.v,A,V)}})}}},7130:(Y,se,D)=>{var T=D(3990),P=D(9505);function I(C,S,R,A,V,L){var H=V[S][L-1],$=P.addDummyNode(C,"border",{width:0,height:0,rank:L,borderType:S},R);V[S][L]=$,C.setParent($,A),H&&C.setEdge(H,$,{weight:1})}Y.exports=function O(C){T.forEach(C.children(),function S(R){var A=C.children(R),V=C.node(R);if(A.length&&T.forEach(A,S),T.has(V,"minRank")){V.borderLeft=[],V.borderRight=[];for(var L=V.minRank,k=V.maxRank+1;L<k;++L)I(C,"borderLeft","_bl",R,V,L),I(C,"borderRight","_br",R,V,L)}})}},1048:(Y,se,D)=>{"use strict";var T=D(3990);function I(L){T.forEach(L.nodes(),function(k){C(L.node(k))}),T.forEach(L.edges(),function(k){C(L.edge(k))})}function C(L){var k=L.width;L.width=L.height,L.height=k}function R(L){L.y=-L.y}function V(L){var k=L.x;L.x=L.y,L.y=k}Y.exports={adjust:function P(L){var k=L.graph().rankdir.toLowerCase();("lr"===k||"rl"===k)&&I(L)},undo:function O(L){var k=L.graph().rankdir.toLowerCase();("bt"===k||"rl"===k)&&function S(L){T.forEach(L.nodes(),function(k){R(L.node(k))}),T.forEach(L.edges(),function(k){var H=L.edge(k);T.forEach(H.points,R),T.has(H,"y")&&R(H)})}(L),("lr"===k||"rl"===k)&&(function A(L){T.forEach(L.nodes(),function(k){V(L.node(k))}),T.forEach(L.edges(),function(k){var H=L.edge(k);T.forEach(H.points,V),T.has(H,"x")&&V(H)})}(L),I(L))}}},4312:Y=>{function se(){var P={};P._next=P._prev=P,this._sentinel=P}function D(P){P._prev._next=P._next,P._next._prev=P._prev,delete P._next,delete P._prev}function T(P,O){if("_next"!==P&&"_prev"!==P)return O}Y.exports=se,se.prototype.dequeue=function(){var P=this._sentinel,O=P._prev;if(O!==P)return D(O),O},se.prototype.enqueue=function(P){var O=this._sentinel;P._prev&&P._next&&D(P),P._next=O._next,O._next._prev=P,O._next=P,P._prev=O},se.prototype.toString=function(){for(var P=[],O=this._sentinel,I=O._prev;I!==O;)P.push(JSON.stringify(I,T)),I=I._prev;return"["+P.join(", ")+"]"}},4232:(Y,se,D)=>{var T=D(3990),P=D(9505),O=D(5849).Graph;Y.exports={debugOrdering:function I(C){var S=P.buildLayerMatrix(C),R=new O({compound:!0,multigraph:!0}).setGraph({});return T.forEach(C.nodes(),function(A){R.setNode(A,{label:A}),R.setParent(A,"layer"+C.node(A).rank)}),T.forEach(C.edges(),function(A){R.setEdge(A.v,A.w,{},A.name)}),T.forEach(S,function(A,V){R.setNode("layer"+V,{rank:"same"}),T.reduce(A,function(k,H){return R.setEdge(k,H,{style:"invis"}),H})}),R}}},5849:(Y,se,D)=>{var T;try{T=D(9034)}catch{}T||(T=window.graphlib),Y.exports=T},5123:(Y,se,D)=>{var T=D(3990),P=D(5849).Graph,O=D(4312);Y.exports=function C(L,k){if(L.nodeCount()<=1)return[];var H=function A(L,k){var H=new P,$=0,Q=0;T.forEach(L.nodes(),function(le){H.setNode(le,{v:le,in:0,out:0})}),T.forEach(L.edges(),function(le){var ae=H.edge(le.v,le.w)||0,de=k(le);H.setEdge(le.v,le.w,ae+de),Q=Math.max(Q,H.node(le.v).out+=de),$=Math.max($,H.node(le.w).in+=de)});var ue=T.range(Q+$+3).map(function(){return new O}),ne=$+1;return T.forEach(H.nodes(),function(le){V(ue,ne,H.node(le))}),{graph:H,buckets:ue,zeroIdx:ne}}(L,k||I),$=function S(L,k,H){for(var ne,$=[],Q=k[k.length-1],ue=k[0];L.nodeCount();){for(;ne=ue.dequeue();)R(L,k,H,ne);for(;ne=Q.dequeue();)R(L,k,H,ne);if(L.nodeCount())for(var le=k.length-2;le>0;--le)if(ne=k[le].dequeue()){$=$.concat(R(L,k,H,ne,!0));break}}return $}(H.graph,H.buckets,H.zeroIdx);return T.flatten(T.map($,function(Q){return L.outEdges(Q.v,Q.w)}),!0)};var I=T.constant(1);function R(L,k,H,$,Q){var ue=Q?[]:void 0;return T.forEach(L.inEdges($.v),function(ne){var le=L.edge(ne),ae=L.node(ne.v);Q&&ue.push({v:ne.v,w:ne.w}),ae.out-=le,V(k,H,ae)}),T.forEach(L.outEdges($.v),function(ne){var le=L.edge(ne),de=L.node(ne.w);de.in-=le,V(k,H,de)}),L.removeNode($.v),ue}function V(L,k,H){H.out?H.in?L[H.out-H.in+k].enqueue(H):L[L.length-1].enqueue(H):L[0].enqueue(H)}},4395:(Y,se,D)=>{"use strict";var T=D(3990),P=D(1791),O=D(1684),I=D(3752),C=D(9505).normalizeRanks,S=D(1250),R=D(9505).removeEmptyRanks,A=D(4525),V=D(7130),L=D(1048),k=D(1574),H=D(6403),$=D(9505),Q=D(5849).Graph;Y.exports=function ue(lt,it){var pt=it&&it.debugTiming?$.time:$.notime;pt("layout",function(){var Ft=pt("  buildLayoutGraph",function(){return function _e(lt){var it=new Q({multigraph:!0,compound:!0}),pt=cn(lt.graph());return it.setGraph(T.merge({},de,mn(pt,ae),T.pick(pt,te))),T.forEach(lt.nodes(),function(Ft){var St=cn(lt.node(Ft));it.setNode(Ft,T.defaults(mn(St,pe),Z)),it.setParent(Ft,lt.parent(Ft))}),T.forEach(lt.edges(),function(Ft){var St=cn(lt.edge(Ft));it.setEdge(Ft,T.merge({},ie,mn(St,oe),T.pick(St,me)))}),it}(lt)});pt("  runLayout",function(){!function ne(lt,it){it("    makeSpaceForEdgeLabels",function(){!function Te(lt){var it=lt.graph();it.ranksep/=2,T.forEach(lt.edges(),function(pt){var Ft=lt.edge(pt);Ft.minlen*=2,"c"!==Ft.labelpos.toLowerCase()&&("TB"===it.rankdir||"BT"===it.rankdir?Ft.width+=Ft.labeloffset:Ft.height+=Ft.labeloffset)})}(lt)}),it("    removeSelfEdges",function(){!function qt(lt){T.forEach(lt.edges(),function(it){if(it.v===it.w){var pt=lt.node(it.v);pt.selfEdges||(pt.selfEdges=[]),pt.selfEdges.push({e:it,label:lt.edge(it)}),lt.removeEdge(it)}})}(lt)}),it("    acyclic",function(){P.run(lt)}),it("    nestingGraph.run",function(){A.run(lt)}),it("    rank",function(){I($.asNonCompoundGraph(lt))}),it("    injectEdgeLabelProxies",function(){!function De(lt){T.forEach(lt.edges(),function(it){var pt=lt.edge(it);if(pt.width&&pt.height){var Ft=lt.node(it.v),St=lt.node(it.w);$.addDummyNode(lt,"edge-proxy",{rank:(St.rank-Ft.rank)/2+Ft.rank,e:it},"_ep")}})}(lt)}),it("    removeEmptyRanks",function(){R(lt)}),it("    nestingGraph.cleanup",function(){A.cleanup(lt)}),it("    normalizeRanks",function(){C(lt)}),it("    assignRankMinMax",function(){!function ze(lt){var it=0;T.forEach(lt.nodes(),function(pt){var Ft=lt.node(pt);Ft.borderTop&&(Ft.minRank=lt.node(Ft.borderTop).rank,Ft.maxRank=lt.node(Ft.borderBottom).rank,it=T.max(it,Ft.maxRank))}),lt.graph().maxRank=it}(lt)}),it("    removeEdgeLabelProxies",function(){!function Be(lt){T.forEach(lt.nodes(),function(it){var pt=lt.node(it);"edge-proxy"===pt.dummy&&(lt.edge(pt.e).labelRank=pt.rank,lt.removeNode(it))})}(lt)}),it("    normalize.run",function(){O.run(lt)}),it("    parentDummyChains",function(){S(lt)}),it("    addBorderSegments",function(){V(lt)}),it("    order",function(){k(lt)}),it("    insertSelfEdges",function(){!function Ht(lt){var it=$.buildLayerMatrix(lt);T.forEach(it,function(pt){var Ft=0;T.forEach(pt,function(St,Kn){var Jn=lt.node(St);Jn.order=Kn+Ft,T.forEach(Jn.selfEdges,function(Tr){$.addDummyNode(lt,"selfedge",{width:Tr.label.width,height:Tr.label.height,rank:Jn.rank,order:Kn+ ++Ft,e:Tr.e,label:Tr.label},"_se")}),delete Jn.selfEdges})})}(lt)}),it("    adjustCoordinateSystem",function(){L.adjust(lt)}),it("    position",function(){H(lt)}),it("    positionSelfEdges",function(){!function It(lt){T.forEach(lt.nodes(),function(it){var pt=lt.node(it);if("selfedge"===pt.dummy){var Ft=lt.node(pt.e.v),St=Ft.x+Ft.width/2,Kn=Ft.y,Jn=pt.x-St,Tr=Ft.height/2;lt.setEdge(pt.e,pt.label),lt.removeNode(it),pt.label.points=[{x:St+2*Jn/3,y:Kn-Tr},{x:St+5*Jn/6,y:Kn-Tr},{x:St+Jn,y:Kn},{x:St+5*Jn/6,y:Kn+Tr},{x:St+2*Jn/3,y:Kn+Tr}],pt.label.x=pt.x,pt.label.y=pt.y}})}(lt)}),it("    removeBorderNodes",function(){!function Ze(lt){T.forEach(lt.nodes(),function(it){if(lt.children(it).length){var pt=lt.node(it),Ft=lt.node(pt.borderTop),St=lt.node(pt.borderBottom),Kn=lt.node(T.last(pt.borderLeft)),Jn=lt.node(T.last(pt.borderRight));pt.width=Math.abs(Jn.x-Kn.x),pt.height=Math.abs(St.y-Ft.y),pt.x=Kn.x+pt.width/2,pt.y=Ft.y+pt.height/2}}),T.forEach(lt.nodes(),function(it){"border"===lt.node(it).dummy&&lt.removeNode(it)})}(lt)}),it("    normalize.undo",function(){O.undo(lt)}),it("    fixupEdgeLabelCoords",function(){!function Ke(lt){T.forEach(lt.edges(),function(it){var pt=lt.edge(it);if(T.has(pt,"x"))switch(("l"===pt.labelpos||"r"===pt.labelpos)&&(pt.width-=pt.labeloffset),pt.labelpos){case"l":pt.x-=pt.width/2+pt.labeloffset;break;case"r":pt.x+=pt.width/2+pt.labeloffset}})}(lt)}),it("    undoCoordinateSystem",function(){L.undo(lt)}),it("    translateGraph",function(){!function at(lt){var it=Number.POSITIVE_INFINITY,pt=0,Ft=Number.POSITIVE_INFINITY,St=0,Kn=lt.graph(),Jn=Kn.marginx||0,Tr=Kn.marginy||0;function kr(Cr){var _n=Cr.x,zn=Cr.y,Xr=Cr.width,dn=Cr.height;it=Math.min(it,_n-Xr/2),pt=Math.max(pt,_n+Xr/2),Ft=Math.min(Ft,zn-dn/2),St=Math.max(St,zn+dn/2)}T.forEach(lt.nodes(),function(Cr){kr(lt.node(Cr))}),T.forEach(lt.edges(),function(Cr){var _n=lt.edge(Cr);T.has(_n,"x")&&kr(_n)}),it-=Jn,Ft-=Tr,T.forEach(lt.nodes(),function(Cr){var _n=lt.node(Cr);_n.x-=it,_n.y-=Ft}),T.forEach(lt.edges(),function(Cr){var _n=lt.edge(Cr);T.forEach(_n.points,function(zn){zn.x-=it,zn.y-=Ft}),T.has(_n,"x")&&(_n.x-=it),T.has(_n,"y")&&(_n.y-=Ft)}),Kn.width=pt-it+Jn,Kn.height=St-Ft+Tr}(lt)}),it("    assignNodeIntersects",function(){!function ht(lt){T.forEach(lt.edges(),function(it){var Kn,Jn,pt=lt.edge(it),Ft=lt.node(it.v),St=lt.node(it.w);pt.points?(Kn=pt.points[0],Jn=pt.points[pt.points.length-1]):(pt.points=[],Kn=St,Jn=Ft),pt.points.unshift($.intersectRect(Ft,Kn)),pt.points.push($.intersectRect(St,Jn))})}(lt)}),it("    reversePoints",function(){!function Ct(lt){T.forEach(lt.edges(),function(it){var pt=lt.edge(it);pt.reversed&&pt.points.reverse()})}(lt)}),it("    acyclic.undo",function(){P.undo(lt)})}(Ft,pt)}),pt("  updateInputGraph",function(){!function le(lt,it){T.forEach(lt.nodes(),function(pt){var Ft=lt.node(pt),St=it.node(pt);Ft&&(Ft.x=St.x,Ft.y=St.y,it.children(pt).length&&(Ft.width=St.width,Ft.height=St.height))}),T.forEach(lt.edges(),function(pt){var Ft=lt.edge(pt),St=it.edge(pt);Ft.points=St.points,T.has(St,"x")&&(Ft.x=St.x,Ft.y=St.y)}),lt.graph().width=it.graph().width,lt.graph().height=it.graph().height}(lt,Ft)})})};var ae=["nodesep","edgesep","ranksep","marginx","marginy"],de={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},te=["acyclicer","ranker","rankdir","align"],pe=["width","height"],Z={width:0,height:0},oe=["minlen","weight","width","height","labeloffset"],ie={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},me=["labelpos"];function mn(lt,it){return T.mapValues(T.pick(lt,it),Number)}function cn(lt){var it={};return T.forEach(lt,function(pt,Ft){it[Ft.toLowerCase()]=pt}),it}},3990:(Y,se,D)=>{var T;try{T={cloneDeep:D(4451),constant:D(1075),defaults:D(5433),each:D(6488),filter:D(7661),find:D(6177),flatten:D(9336),forEach:D(7170),forIn:D(1658),has:D(8669),isUndefined:D(8152),last:D(2819),map:D(8921),mapValues:D(6054),max:D(5664),merge:D(2213),min:D(1007),minBy:D(50),now:D(5533),pick:D(7607),range:D(5953),reduce:D(5909),sortBy:D(7184),uniqueId:D(4538),values:D(8808),zipObject:D(4606)}}catch{}T||(T=window._),Y.exports=T},4525:(Y,se,D)=>{var T=D(3990),P=D(9505);function I(A,V,L,k,H,$,Q){var ue=A.children(Q);if(ue.length){var ne=P.addBorderNode(A,"_bt"),le=P.addBorderNode(A,"_bb"),ae=A.node(Q);A.setParent(ne,Q),ae.borderTop=ne,A.setParent(le,Q),ae.borderBottom=le,T.forEach(ue,function(de){I(A,V,L,k,H,$,de);var te=A.node(de),pe=te.borderTop?te.borderTop:de,Z=te.borderBottom?te.borderBottom:de,oe=te.borderTop?k:2*k,ie=pe!==Z?1:H-$[Q]+1;A.setEdge(ne,pe,{weight:oe,minlen:ie,nestingEdge:!0}),A.setEdge(Z,le,{weight:oe,minlen:ie,nestingEdge:!0})}),A.parent(Q)||A.setEdge(V,ne,{weight:0,minlen:H+$[Q]})}else Q!==V&&A.setEdge(V,Q,{weight:0,minlen:L})}Y.exports={run:function O(A){var V=P.addDummyNode(A,"root",{},"_root"),L=function C(A){var V={};function L(k,H){var $=A.children(k);$&&$.length&&T.forEach($,function(Q){L(Q,H+1)}),V[k]=H}return T.forEach(A.children(),function(k){L(k,1)}),V}(A),k=T.max(T.values(L))-1,H=2*k+1;A.graph().nestingRoot=V,T.forEach(A.edges(),function(Q){A.edge(Q).minlen*=H});var $=function S(A){return T.reduce(A.edges(),function(V,L){return V+A.edge(L).weight},0)}(A)+1;T.forEach(A.children(),function(Q){I(A,V,H,$,k,L,Q)}),A.graph().nodeRankFactor=H},cleanup:function R(A){var V=A.graph();A.removeNode(V.nestingRoot),delete V.nestingRoot,T.forEach(A.edges(),function(L){A.edge(L).nestingEdge&&A.removeEdge(L)})}}},1684:(Y,se,D)=>{"use strict";var T=D(3990),P=D(9505);Y.exports={run:function O(S){S.graph().dummyChains=[],T.forEach(S.edges(),function(R){!function I(S,R){var A=R.v,V=S.node(A).rank,L=R.w,k=S.node(L).rank,H=R.name,$=S.edge(R),Q=$.labelRank;if(k!==V+1){var ue,ne,le;for(S.removeEdge(R),le=0,++V;V<k;++le,++V)$.points=[],ue=P.addDummyNode(S,"edge",ne={width:0,height:0,edgeLabel:$,edgeObj:R,rank:V},"_d"),V===Q&&(ne.width=$.width,ne.height=$.height,ne.dummy="edge-label",ne.labelpos=$.labelpos),S.setEdge(A,ue,{weight:$.weight},H),0===le&&S.graph().dummyChains.push(ue),A=ue;S.setEdge(A,L,{weight:$.weight},H)}}(S,R)})},undo:function C(S){T.forEach(S.graph().dummyChains,function(R){var L,A=S.node(R),V=A.edgeLabel;for(S.setEdge(A.edgeObj,V);A.dummy;)L=S.successors(R)[0],S.removeNode(R),V.points.push({x:A.x,y:A.y}),"edge-label"===A.dummy&&(V.x=A.x,V.y=A.y,V.width=A.width,V.height=A.height),A=S.node(R=L)})}}},9821:(Y,se,D)=>{var T=D(3990);Y.exports=function P(O,I,C){var R,S={};T.forEach(C,function(A){for(var L,k,V=O.parent(A);V;){if((L=O.parent(V))?(k=S[L],S[L]=V):(k=R,R=V),k&&k!==V)return void I.setEdge(k,V);V=L}})}},7995:(Y,se,D)=>{var T=D(3990);Y.exports=function P(O,I){return T.map(I,function(C){var S=O.inEdges(C);if(S.length){var R=T.reduce(S,function(A,V){var L=O.edge(V),k=O.node(V.v);return{sum:A.sum+L.weight*k.order,weight:A.weight+L.weight}},{sum:0,weight:0});return{v:C,barycenter:R.sum/R.weight,weight:R.weight}}return{v:C}})}},9384:(Y,se,D)=>{var T=D(3990),P=D(5849).Graph;Y.exports=function O(C,S,R){var A=function I(C){for(var S;C.hasNode(S=T.uniqueId("_root")););return S}(C),V=new P({compound:!0}).setGraph({root:A}).setDefaultNodeLabel(function(L){return C.node(L)});return T.forEach(C.nodes(),function(L){var k=C.node(L),H=C.parent(L);(k.rank===S||k.minRank<=S&&S<=k.maxRank)&&(V.setNode(L),V.setParent(L,H||A),T.forEach(C[R](L),function($){var Q=$.v===L?$.w:$.v,ue=V.edge(Q,L),ne=T.isUndefined(ue)?0:ue.weight;V.setEdge(Q,L,{weight:C.edge($).weight+ne})}),T.has(k,"minRank")&&V.setNode(L,{borderLeft:k.borderLeft[S],borderRight:k.borderRight[S]}))}),V}},444:(Y,se,D)=>{"use strict";var T=D(3990);function O(I,C,S){for(var R=T.zipObject(S,T.map(S,function($,Q){return Q})),A=T.flatten(T.map(C,function($){return T.sortBy(T.map(I.outEdges($),function(Q){return{pos:R[Q.w],weight:I.edge(Q).weight}}),"pos")}),!0),V=1;V<S.length;)V<<=1;var L=2*V-1;V-=1;var k=T.map(new Array(L),function(){return 0}),H=0;return T.forEach(A.forEach(function($){var Q=$.pos+V;k[Q]+=$.weight;for(var ue=0;Q>0;)Q%2&&(ue+=k[Q+1]),k[Q=Q-1>>1]+=$.weight;H+=$.weight*ue})),H}Y.exports=function P(I,C){for(var S=0,R=1;R<C.length;++R)S+=O(I,C[R-1],C[R]);return S}},1574:(Y,se,D)=>{"use strict";var T=D(3990),P=D(320),O=D(444),I=D(8005),C=D(9384),S=D(9821),R=D(5849).Graph,A=D(9505);function L($,Q,ue){return T.map(Q,function(ne){return C($,ne,ue)})}function k($,Q){var ue=new R;T.forEach($,function(ne){var le=ne.graph().root,ae=I(ne,le,ue,Q);T.forEach(ae.vs,function(de,te){ne.node(de).order=te}),S(ne,ue,ae.vs)})}function H($,Q){T.forEach(Q,function(ue){T.forEach(ue,function(ne,le){$.node(ne).order=le})})}Y.exports=function V($){var Q=A.maxRank($),ue=L($,T.range(1,Q+1),"inEdges"),ne=L($,T.range(Q-1,-1,-1),"outEdges"),le=P($);H($,le);for(var de,ae=Number.POSITIVE_INFINITY,te=0,pe=0;pe<4;++te,++pe){k(te%2?ue:ne,te%4>=2),le=A.buildLayerMatrix($);var Z=O($,le);Z<ae&&(pe=0,de=T.cloneDeep(le),ae=Z)}H($,de)}},320:(Y,se,D)=>{"use strict";var T=D(3990);Y.exports=function P(O){var I={},C=T.filter(O.nodes(),function(L){return!O.children(L).length}),S=T.max(T.map(C,function(L){return O.node(L).rank})),R=T.map(T.range(S+1),function(){return[]}),V=T.sortBy(C,function(L){return O.node(L).rank});return T.forEach(V,function A(L){if(!T.has(I,L)){I[L]=!0;var k=O.node(L);R[k.rank].push(L),T.forEach(O.successors(L),A)}}),R}},6686:(Y,se,D)=>{"use strict";var T=D(3990);Y.exports=function P(C,S){var R={};return T.forEach(C,function(V,L){var k=R[V.v]={indegree:0,in:[],out:[],vs:[V.v],i:L};T.isUndefined(V.barycenter)||(k.barycenter=V.barycenter,k.weight=V.weight)}),T.forEach(S.edges(),function(V){var L=R[V.v],k=R[V.w];!T.isUndefined(L)&&!T.isUndefined(k)&&(k.indegree++,L.out.push(R[V.w]))}),function O(C){var S=[];function R(L){return function(k){k.merged||(T.isUndefined(k.barycenter)||T.isUndefined(L.barycenter)||k.barycenter>=L.barycenter)&&function I(C,S){var R=0,A=0;C.weight&&(R+=C.barycenter*C.weight,A+=C.weight),S.weight&&(R+=S.barycenter*S.weight,A+=S.weight),C.vs=S.vs.concat(C.vs),C.barycenter=R/A,C.weight=A,C.i=Math.min(S.i,C.i),S.merged=!0}(L,k)}}function A(L){return function(k){k.in.push(L),0==--k.indegree&&C.push(k)}}for(;C.length;){var V=C.pop();S.push(V),T.forEach(V.in.reverse(),R(V)),T.forEach(V.out,A(V))}return T.map(T.filter(S,function(L){return!L.merged}),function(L){return T.pick(L,["vs","i","barycenter","weight"])})}(T.filter(R,function(V){return!V.indegree}))}},8005:(Y,se,D)=>{var T=D(3990),P=D(7995),O=D(6686),I=D(8380);Y.exports=function C(A,V,L,k){var H=A.children(V),$=A.node(V),Q=$?$.borderLeft:void 0,ue=$?$.borderRight:void 0,ne={};Q&&(H=T.filter(H,function(Z){return Z!==Q&&Z!==ue}));var le=P(A,H);T.forEach(le,function(Z){if(A.children(Z.v).length){var oe=C(A,Z.v,L,k);ne[Z.v]=oe,T.has(oe,"barycenter")&&function R(A,V){T.isUndefined(A.barycenter)?(A.barycenter=V.barycenter,A.weight=V.weight):(A.barycenter=(A.barycenter*A.weight+V.barycenter*V.weight)/(A.weight+V.weight),A.weight+=V.weight)}(Z,oe)}});var ae=O(le,L);!function S(A,V){T.forEach(A,function(L){L.vs=T.flatten(L.vs.map(function(k){return V[k]?V[k].vs:k}),!0)})}(ae,ne);var de=I(ae,k);if(Q&&(de.vs=T.flatten([Q,de.vs,ue],!0),A.predecessors(Q).length)){var te=A.node(A.predecessors(Q)[0]),pe=A.node(A.predecessors(ue)[0]);T.has(de,"barycenter")||(de.barycenter=0,de.weight=0),de.barycenter=(de.barycenter*de.weight+te.order+pe.order)/(de.weight+2),de.weight+=2}return de}},8380:(Y,se,D)=>{var T=D(3990),P=D(9505);function I(S,R,A){for(var V;R.length&&(V=T.last(R)).i<=A;)R.pop(),S.push(V.vs),A++;return A}Y.exports=function O(S,R){var A=P.partition(S,function(ne){return T.has(ne,"barycenter")}),V=A.lhs,L=T.sortBy(A.rhs,function(ne){return-ne.i}),k=[],H=0,$=0,Q=0;V.sort(function C(S){return function(R,A){return R.barycenter<A.barycenter?-1:R.barycenter>A.barycenter?1:S?A.i-R.i:R.i-A.i}}(!!R)),Q=I(k,L,Q),T.forEach(V,function(ne){Q+=ne.vs.length,k.push(ne.vs),H+=ne.barycenter*ne.weight,$+=ne.weight,Q=I(k,L,Q)});var ue={vs:T.flatten(k,!0)};return $&&(ue.barycenter=H/$,ue.weight=$),ue}},1250:(Y,se,D)=>{var T=D(3990);Y.exports=function P(C){var S=function I(C){var S={},R=0;return T.forEach(C.children(),function A(V){var L=R;T.forEach(C.children(V),A),S[V]={low:L,lim:R++}}),S}(C);T.forEach(C.graph().dummyChains,function(R){for(var A=C.node(R),V=A.edgeObj,L=function O(C,S,R,A){var $,Q,V=[],L=[],k=Math.min(S[R].low,S[A].low),H=Math.max(S[R].lim,S[A].lim);$=R;do{$=C.parent($),V.push($)}while($&&(S[$].low>k||H>S[$].lim));for(Q=$,$=A;($=C.parent($))!==Q;)L.push($);return{path:V.concat(L.reverse()),lca:Q}}(C,S,V.v,V.w),k=L.path,H=L.lca,$=0,Q=k[$],ue=!0;R!==V.w;){if(A=C.node(R),ue){for(;(Q=k[$])!==H&&C.node(Q).maxRank<A.rank;)$++;Q===H&&(ue=!1)}if(!ue){for(;$<k.length-1&&C.node(Q=k[$+1]).minRank<=A.rank;)$++;Q=k[$]}C.setParent(R,Q),R=C.successors(R)[0]}})}},8851:(Y,se,D)=>{"use strict";var T=D(3990),P=D(5849).Graph,O=D(9505);function I(ae,de){var te={};return T.reduce(de,function pe(Z,oe){var ie=0,me=0,_e=Z.length,Te=T.last(oe);return T.forEach(oe,function(De,ze){var Be=function S(ae,de){if(ae.node(de).dummy)return T.find(ae.predecessors(de),function(te){return ae.node(te).dummy})}(ae,De),at=Be?ae.node(Be).order:_e;(Be||De===Te)&&(T.forEach(oe.slice(me,ze+1),function(ht){T.forEach(ae.predecessors(ht),function(Ke){var Ct=ae.node(Ke),Ze=Ct.order;(Ze<ie||at<Ze)&&(!Ct.dummy||!ae.node(ht).dummy)&&R(te,Ke,ht)})}),me=ze+1,ie=at)}),oe}),te}function C(ae,de){var te={};function pe(oe,ie,me,_e,Te){var De;T.forEach(T.range(ie,me),function(ze){ae.node(De=oe[ze]).dummy&&T.forEach(ae.predecessors(De),function(Be){var at=ae.node(Be);at.dummy&&(at.order<_e||at.order>Te)&&R(te,Be,De)})})}return T.reduce(de,function Z(oe,ie){var _e,me=-1,Te=0;return T.forEach(ie,function(De,ze){if("border"===ae.node(De).dummy){var Be=ae.predecessors(De);Be.length&&(_e=ae.node(Be[0]).order,pe(ie,Te,ze,me,_e),Te=ze,me=_e)}pe(ie,Te,ie.length,_e,oe.length)}),ie}),te}function R(ae,de,te){if(de>te){var pe=de;de=te,te=pe}var Z=ae[de];Z||(ae[de]=Z={}),Z[te]=!0}function A(ae,de,te){if(de>te){var pe=de;de=te,te=pe}return T.has(ae[de],te)}function V(ae,de,te,pe){var Z={},oe={},ie={};return T.forEach(de,function(me){T.forEach(me,function(_e,Te){Z[_e]=_e,oe[_e]=_e,ie[_e]=Te})}),T.forEach(de,function(me){var _e=-1;T.forEach(me,function(Te){var De=pe(Te);if(De.length)for(var ze=((De=T.sortBy(De,function(Ke){return ie[Ke]})).length-1)/2,Be=Math.floor(ze),at=Math.ceil(ze);Be<=at;++Be){var ht=De[Be];oe[Te]===Te&&_e<ie[ht]&&!A(te,Te,ht)&&(oe[ht]=Te,oe[Te]=Z[Te]=Z[ht],_e=ie[ht])}})}),{root:Z,align:oe}}function L(ae,de,te,pe,Z){var oe={},ie=function k(ae,de,te,pe){var Z=new P,oe=ae.graph(),ie=function ne(ae,de,te){return function(pe,Z,oe){var Te,ie=pe.node(Z),me=pe.node(oe),_e=0;if(_e+=ie.width/2,T.has(ie,"labelpos"))switch(ie.labelpos.toLowerCase()){case"l":Te=-ie.width/2;break;case"r":Te=ie.width/2}if(Te&&(_e+=te?Te:-Te),Te=0,_e+=(ie.dummy?de:ae)/2,_e+=(me.dummy?de:ae)/2,_e+=me.width/2,T.has(me,"labelpos"))switch(me.labelpos.toLowerCase()){case"l":Te=me.width/2;break;case"r":Te=-me.width/2}return Te&&(_e+=te?Te:-Te),Te=0,_e}}(oe.nodesep,oe.edgesep,pe);return T.forEach(de,function(me){var _e;T.forEach(me,function(Te){var De=te[Te];if(Z.setNode(De),_e){var ze=te[_e],Be=Z.edge(ze,De);Z.setEdge(ze,De,Math.max(ie(ae,Te,_e),Be||0))}_e=Te})}),Z}(ae,de,te,Z),me=Z?"borderLeft":"borderRight";function _e(ze,Be){for(var at=ie.nodes(),ht=at.pop(),Ke={};ht;)Ke[ht]?ze(ht):(Ke[ht]=!0,at.push(ht),at=at.concat(Be(ht))),ht=at.pop()}return _e(function Te(ze){oe[ze]=ie.inEdges(ze).reduce(function(Be,at){return Math.max(Be,oe[at.v]+ie.edge(at))},0)},ie.predecessors.bind(ie)),_e(function De(ze){var Be=ie.outEdges(ze).reduce(function(ht,Ke){return Math.min(ht,oe[Ke.w]-ie.edge(Ke))},Number.POSITIVE_INFINITY),at=ae.node(ze);Be!==Number.POSITIVE_INFINITY&&at.borderType!==me&&(oe[ze]=Math.max(oe[ze],Be))},ie.successors.bind(ie)),T.forEach(pe,function(ze){oe[ze]=oe[te[ze]]}),oe}function H(ae,de){return T.minBy(T.values(de),function(te){var pe=Number.NEGATIVE_INFINITY,Z=Number.POSITIVE_INFINITY;return T.forIn(te,function(oe,ie){var me=function le(ae,de){return ae.node(de).width}(ae,ie)/2;pe=Math.max(oe+me,pe),Z=Math.min(oe-me,Z)}),pe-Z})}function $(ae,de){var te=T.values(de),pe=T.min(te),Z=T.max(te);T.forEach(["u","d"],function(oe){T.forEach(["l","r"],function(ie){var Te,me=oe+ie,_e=ae[me];if(_e!==de){var De=T.values(_e);(Te="l"===ie?pe-T.min(De):Z-T.max(De))&&(ae[me]=T.mapValues(_e,function(ze){return ze+Te}))}})})}function Q(ae,de){return T.mapValues(ae.ul,function(te,pe){if(de)return ae[de.toLowerCase()][pe];var Z=T.sortBy(T.map(ae,pe));return(Z[1]+Z[2])/2})}Y.exports={positionX:function ue(ae){var Z,de=O.buildLayerMatrix(ae),te=T.merge(I(ae,de),C(ae,de)),pe={};T.forEach(["u","d"],function(ie){Z="u"===ie?de:T.values(de).reverse(),T.forEach(["l","r"],function(me){"r"===me&&(Z=T.map(Z,function(ze){return T.values(ze).reverse()}));var _e=("u"===ie?ae.predecessors:ae.successors).bind(ae),Te=V(0,Z,te,_e),De=L(ae,Z,Te.root,Te.align,"r"===me);"r"===me&&(De=T.mapValues(De,function(ze){return-ze})),pe[ie+me]=De})});var oe=H(ae,pe);return $(pe,oe),Q(pe,ae.graph().align)},findType1Conflicts:I,findType2Conflicts:C,addConflict:R,hasConflict:A,verticalAlignment:V,horizontalCompaction:L,alignCoordinates:$,findSmallestWidthAlignment:H,balance:Q}},6403:(Y,se,D)=>{"use strict";var T=D(3990),P=D(9505),O=D(8851).positionX;Y.exports=function I(S){(function C(S){var R=P.buildLayerMatrix(S),A=S.graph().ranksep,V=0;T.forEach(R,function(L){var k=T.max(T.map(L,function(H){return S.node(H).height}));T.forEach(L,function(H){S.node(H).y=V+k/2}),V+=k+A})})(S=P.asNonCompoundGraph(S)),T.forEach(O(S),function(R,A){S.node(A).x=R})}},8214:(Y,se,D)=>{"use strict";var T=D(3990),P=D(5849).Graph,O=D(4216).slack;function C(A,V){return T.forEach(A.nodes(),function L(k){T.forEach(V.nodeEdges(k),function(H){var $=H.v,Q=k===$?H.w:$;!A.hasNode(Q)&&!O(V,H)&&(A.setNode(Q,{}),A.setEdge(k,Q,{}),L(Q))})}),A.nodeCount()}function S(A,V){return T.minBy(V.edges(),function(L){if(A.hasNode(L.v)!==A.hasNode(L.w))return O(V,L)})}function R(A,V,L){T.forEach(A.nodes(),function(k){V.node(k).rank+=L})}Y.exports=function I(A){var H,$,V=new P({directed:!1}),L=A.nodes()[0],k=A.nodeCount();for(V.setNode(L,{});C(V,A)<k;)H=S(V,A),$=V.hasNode(H.v)?O(A,H):-O(A,H),R(V,A,$);return V}},3752:(Y,se,D)=>{"use strict";var P=D(4216).longestPath,O=D(8214),I=D(4857);Y.exports=function C(V){switch(V.graph().ranker){case"network-simplex":default:!function A(V){I(V)}(V);break;case"tight-tree":!function R(V){P(V),O(V)}(V);break;case"longest-path":S(V)}};var S=P},4857:(Y,se,D)=>{"use strict";var T=D(3990),P=D(8214),O=D(4216).slack,I=D(4216).longestPath,C=D(5849).alg.preorder,S=D(5849).alg.postorder,R=D(9505).simplify;function A(te){te=R(te),I(te);var Z,pe=P(te);for(H(pe),V(pe,te);Z=Q(pe);)ne(pe,te,Z,ue(pe,te,Z))}function V(te,pe){var Z=S(te,te.nodes());Z=Z.slice(0,Z.length-1),T.forEach(Z,function(oe){!function L(te,pe,Z){var oe=te.node(Z);te.edge(Z,oe.parent).cutvalue=k(te,pe,Z)}(te,pe,oe)})}function k(te,pe,Z){var ie=te.node(Z).parent,me=!0,_e=pe.edge(Z,ie),Te=0;return _e||(me=!1,_e=pe.edge(ie,Z)),Te=_e.weight,T.forEach(pe.nodeEdges(Z),function(De){var ze=De.v===Z,Be=ze?De.w:De.v;if(Be!==ie){var at=ze===me,ht=pe.edge(De).weight;if(Te+=at?ht:-ht,function ae(te,pe,Z){return te.hasEdge(pe,Z)}(te,Z,Be)){var Ke=te.edge(Z,Be).cutvalue;Te+=at?-Ke:Ke}}}),Te}function H(te,pe){arguments.length<2&&(pe=te.nodes()[0]),$(te,{},1,pe)}function $(te,pe,Z,oe,ie){var me=Z,_e=te.node(oe);return pe[oe]=!0,T.forEach(te.neighbors(oe),function(Te){T.has(pe,Te)||(Z=$(te,pe,Z,Te,oe))}),_e.low=me,_e.lim=Z++,ie?_e.parent=ie:delete _e.parent,Z}function Q(te){return T.find(te.edges(),function(pe){return te.edge(pe).cutvalue<0})}function ue(te,pe,Z){var oe=Z.v,ie=Z.w;pe.hasEdge(oe,ie)||(oe=Z.w,ie=Z.v);var me=te.node(oe),_e=te.node(ie),Te=me,De=!1;me.lim>_e.lim&&(Te=_e,De=!0);var ze=T.filter(pe.edges(),function(Be){return De===de(0,te.node(Be.v),Te)&&De!==de(0,te.node(Be.w),Te)});return T.minBy(ze,function(Be){return O(pe,Be)})}function ne(te,pe,Z,oe){te.removeEdge(Z.v,Z.w),te.setEdge(oe.v,oe.w,{}),H(te),V(te,pe),function le(te,pe){var Z=T.find(te.nodes(),function(ie){return!pe.node(ie).parent}),oe=C(te,Z);oe=oe.slice(1),T.forEach(oe,function(ie){var me=te.node(ie).parent,_e=pe.edge(ie,me),Te=!1;_e||(_e=pe.edge(me,ie),Te=!0),pe.node(ie).rank=pe.node(me).rank+(Te?_e.minlen:-_e.minlen)})}(te,pe)}function de(te,pe,Z){return Z.low<=pe.lim&&pe.lim<=Z.lim}Y.exports=A,A.initLowLimValues=H,A.initCutValues=V,A.calcCutValue=k,A.leaveEdge=Q,A.enterEdge=ue,A.exchangeEdges=ne},4216:(Y,se,D)=>{"use strict";var T=D(3990);Y.exports={longestPath:function P(I){var C={};T.forEach(I.sources(),function S(R){var A=I.node(R);if(T.has(C,R))return A.rank;C[R]=!0;var V=T.min(T.map(I.outEdges(R),function(L){return S(L.w)-I.edge(L).minlen}));return(V===Number.POSITIVE_INFINITY||null==V)&&(V=0),A.rank=V})},slack:function O(I,C){return I.node(C.w).rank-I.node(C.v).rank-I.edge(C).minlen}}},9505:(Y,se,D)=>{"use strict";var T=D(3990),P=D(5849).Graph;function O(le,ae,de,te){var pe;do{pe=T.uniqueId(te)}while(le.hasNode(pe));return de.dummy=ae,le.setNode(pe,de),pe}function $(le){return T.max(T.map(le.nodes(),function(ae){var de=le.node(ae).rank;if(!T.isUndefined(de))return de}))}Y.exports={addDummyNode:O,simplify:function I(le){var ae=(new P).setGraph(le.graph());return T.forEach(le.nodes(),function(de){ae.setNode(de,le.node(de))}),T.forEach(le.edges(),function(de){var te=ae.edge(de.v,de.w)||{weight:0,minlen:1},pe=le.edge(de);ae.setEdge(de.v,de.w,{weight:te.weight+pe.weight,minlen:Math.max(te.minlen,pe.minlen)})}),ae},asNonCompoundGraph:function C(le){var ae=new P({multigraph:le.isMultigraph()}).setGraph(le.graph());return T.forEach(le.nodes(),function(de){le.children(de).length||ae.setNode(de,le.node(de))}),T.forEach(le.edges(),function(de){ae.setEdge(de,le.edge(de))}),ae},successorWeights:function S(le){var ae=T.map(le.nodes(),function(de){var te={};return T.forEach(le.outEdges(de),function(pe){te[pe.w]=(te[pe.w]||0)+le.edge(pe).weight}),te});return T.zipObject(le.nodes(),ae)},predecessorWeights:function R(le){var ae=T.map(le.nodes(),function(de){var te={};return T.forEach(le.inEdges(de),function(pe){te[pe.v]=(te[pe.v]||0)+le.edge(pe).weight}),te});return T.zipObject(le.nodes(),ae)},intersectRect:function A(le,ae){var me,_e,de=le.x,te=le.y,pe=ae.x-de,Z=ae.y-te,oe=le.width/2,ie=le.height/2;if(!pe&&!Z)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(Z)*oe>Math.abs(pe)*ie?(Z<0&&(ie=-ie),me=ie*pe/Z,_e=ie):(pe<0&&(oe=-oe),me=oe,_e=oe*Z/pe),{x:de+me,y:te+_e}},buildLayerMatrix:function V(le){var ae=T.map(T.range($(le)+1),function(){return[]});return T.forEach(le.nodes(),function(de){var te=le.node(de),pe=te.rank;T.isUndefined(pe)||(ae[pe][te.order]=de)}),ae},normalizeRanks:function L(le){var ae=T.min(T.map(le.nodes(),function(de){return le.node(de).rank}));T.forEach(le.nodes(),function(de){var te=le.node(de);T.has(te,"rank")&&(te.rank-=ae)})},removeEmptyRanks:function k(le){var ae=T.min(T.map(le.nodes(),function(Z){return le.node(Z).rank})),de=[];T.forEach(le.nodes(),function(Z){var oe=le.node(Z).rank-ae;de[oe]||(de[oe]=[]),de[oe].push(Z)});var te=0,pe=le.graph().nodeRankFactor;T.forEach(de,function(Z,oe){T.isUndefined(Z)&&oe%pe!=0?--te:te&&T.forEach(Z,function(ie){le.node(ie).rank+=te})})},addBorderNode:function H(le,ae,de,te){var pe={width:0,height:0};return arguments.length>=4&&(pe.rank=de,pe.order=te),O(le,"border",pe,ae)},maxRank:$,partition:function Q(le,ae){var de={lhs:[],rhs:[]};return T.forEach(le,function(te){ae(te)?de.lhs.push(te):de.rhs.push(te)}),de},time:function ue(le,ae){var de=T.now();try{return ae()}finally{console.log(le+" time: "+(T.now()-de)+"ms")}},notime:function ne(le,ae){return ae()}}},2187:Y=>{Y.exports="0.8.5"},9034:(Y,se,D)=>{var T=D(3934);Y.exports={Graph:T.Graph,json:D(2440),alg:D(3955),version:T.version}},1986:(Y,se,D)=>{var T=D(9368);Y.exports=function P(O){var S,I={},C=[];function R(A){T.has(I,A)||(I[A]=!0,S.push(A),T.each(O.successors(A),R),T.each(O.predecessors(A),R))}return T.each(O.nodes(),function(A){S=[],R(A),S.length&&C.push(S)}),C}},1428:(Y,se,D)=>{var T=D(9368);function O(I,C,S,R,A,V){T.has(R,C)||(R[C]=!0,S||V.push(C),T.each(A(C),function(L){O(I,L,S,R,A,V)}),S&&V.push(C))}Y.exports=function P(I,C,S){T.isArray(C)||(C=[C]);var R=(I.isDirected()?I.successors:I.neighbors).bind(I),A=[],V={};return T.each(C,function(L){if(!I.hasNode(L))throw new Error("Graph does not have node: "+L);O(I,L,"post"===S,V,R,A)}),A}},5583:(Y,se,D)=>{var T=D(2644),P=D(9368);Y.exports=function O(I,C,S){return P.transform(I.nodes(),function(R,A){R[A]=T(I,A,C,S)},{})}},2644:(Y,se,D)=>{var T=D(9368),P=D(1321);Y.exports=function I(S,R,A,V){return function C(S,R,A,V){var H,$,L={},k=new P,Q=function(ue){var ne=ue.v!==H?ue.v:ue.w,le=L[ne],ae=A(ue),de=$.distance+ae;if(ae<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+ue+" Weight: "+ae);de<le.distance&&(le.distance=de,le.predecessor=H,k.decrease(ne,de))};for(S.nodes().forEach(function(ue){var ne=ue===R?0:Number.POSITIVE_INFINITY;L[ue]={distance:ne},k.add(ue,ne)});k.size()>0&&(H=k.removeMin(),($=L[H]).distance!==Number.POSITIVE_INFINITY);)V(H).forEach(Q);return L}(S,String(R),A||O,V||function(L){return S.outEdges(L)})};var O=T.constant(1)},7651:(Y,se,D)=>{var T=D(9368),P=D(3628);Y.exports=function O(I){return T.filter(P(I),function(C){return C.length>1||1===C.length&&I.hasEdge(C[0],C[0])})}},5160:(Y,se,D)=>{var T=D(9368);Y.exports=function O(C,S,R){return function I(C,S,R){var A={},V=C.nodes();return V.forEach(function(L){A[L]={},A[L][L]={distance:0},V.forEach(function(k){L!==k&&(A[L][k]={distance:Number.POSITIVE_INFINITY})}),R(L).forEach(function(k){var H=k.v===L?k.w:k.v,$=S(k);A[L][H]={distance:$,predecessor:L}})}),V.forEach(function(L){var k=A[L];V.forEach(function(H){var $=A[H];V.forEach(function(Q){var ne=k[Q],le=$[Q],ae=$[L].distance+ne.distance;ae<le.distance&&(le.distance=ae,le.predecessor=ne.predecessor)})})}),A}(C,S||P,R||function(A){return C.outEdges(A)})};var P=T.constant(1)},3955:(Y,se,D)=>{Y.exports={components:D(1986),dijkstra:D(2644),dijkstraAll:D(5583),findCycles:D(7651),floydWarshall:D(5160),isAcyclic:D(6993),postorder:D(703),preorder:D(6544),prim:D(4338),tarjan:D(3628),topsort:D(5344)}},6993:(Y,se,D)=>{var T=D(5344);Y.exports=function P(O){try{T(O)}catch(I){if(I instanceof T.CycleException)return!1;throw I}return!0}},703:(Y,se,D)=>{var T=D(1428);Y.exports=function P(O,I){return T(O,I,"post")}},6544:(Y,se,D)=>{var T=D(1428);Y.exports=function P(O,I){return T(O,I,"pre")}},4338:(Y,se,D)=>{var T=D(9368),P=D(427),O=D(1321);Y.exports=function I(C,S){var L,R=new P,A={},V=new O;function k($){var Q=$.v===L?$.w:$.v,ue=V.priority(Q);if(void 0!==ue){var ne=S($);ne<ue&&(A[Q]=L,V.decrease(Q,ne))}}if(0===C.nodeCount())return R;T.each(C.nodes(),function($){V.add($,Number.POSITIVE_INFINITY),R.setNode($)}),V.decrease(C.nodes()[0],0);for(var H=!1;V.size()>0;){if(L=V.removeMin(),T.has(A,L))R.setEdge(L,A[L]);else{if(H)throw new Error("Input graph is not connected: "+C);H=!0}C.nodeEdges(L).forEach(k)}return R}},3628:(Y,se,D)=>{var T=D(9368);Y.exports=function P(O){var I=0,C=[],S={},R=[];function A(V){var L=S[V]={onStack:!0,lowlink:I,index:I++};if(C.push(V),O.successors(V).forEach(function($){T.has(S,$)?S[$].onStack&&(L.lowlink=Math.min(L.lowlink,S[$].index)):(A($),L.lowlink=Math.min(L.lowlink,S[$].lowlink))}),L.lowlink===L.index){var H,k=[];do{H=C.pop(),S[H].onStack=!1,k.push(H)}while(V!==H);R.push(k)}}return O.nodes().forEach(function(V){T.has(S,V)||A(V)}),R}},5344:(Y,se,D)=>{var T=D(9368);function P(I){var C={},S={},R=[];if(T.each(I.sinks(),function A(V){if(T.has(S,V))throw new O;T.has(C,V)||(S[V]=!0,C[V]=!0,T.each(I.predecessors(V),A),delete S[V],R.push(V))}),T.size(C)!==I.nodeCount())throw new O;return R}function O(){}Y.exports=P,P.CycleException=O,O.prototype=new Error},1321:(Y,se,D)=>{var T=D(9368);function P(){this._arr=[],this._keyIndices={}}Y.exports=P,P.prototype.size=function(){return this._arr.length},P.prototype.keys=function(){return this._arr.map(function(O){return O.key})},P.prototype.has=function(O){return T.has(this._keyIndices,O)},P.prototype.priority=function(O){var I=this._keyIndices[O];if(void 0!==I)return this._arr[I].priority},P.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},P.prototype.add=function(O,I){var C=this._keyIndices;if(O=String(O),!T.has(C,O)){var S=this._arr,R=S.length;return C[O]=R,S.push({key:O,priority:I}),this._decrease(R),!0}return!1},P.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var O=this._arr.pop();return delete this._keyIndices[O.key],this._heapify(0),O.key},P.prototype.decrease=function(O,I){var C=this._keyIndices[O];if(I>this._arr[C].priority)throw new Error("New priority is greater than current priority. Key: "+O+" Old: "+this._arr[C].priority+" New: "+I);this._arr[C].priority=I,this._decrease(C)},P.prototype._heapify=function(O){var I=this._arr,C=2*O,S=C+1,R=O;C<I.length&&(R=I[C].priority<I[R].priority?C:R,S<I.length&&(R=I[S].priority<I[R].priority?S:R),R!==O&&(this._swap(O,R),this._heapify(R)))},P.prototype._decrease=function(O){for(var S,I=this._arr,C=I[O].priority;0!==O&&!(I[S=O>>1].priority<C);)this._swap(O,S),O=S},P.prototype._swap=function(O,I){var C=this._arr,S=this._keyIndices,R=C[O],A=C[I];C[O]=A,C[I]=R,S[A.key]=O,S[R.key]=I}},427:(Y,se,D)=>{"use strict";var T=D(9368);Y.exports=C;var P="\0",O="\0",I="\x01";function C(k){this._isDirected=!T.has(k,"directed")||k.directed,this._isMultigraph=!!T.has(k,"multigraph")&&k.multigraph,this._isCompound=!!T.has(k,"compound")&&k.compound,this._label=void 0,this._defaultNodeLabelFn=T.constant(void 0),this._defaultEdgeLabelFn=T.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[O]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function S(k,H){k[H]?k[H]++:k[H]=1}function R(k,H){--k[H]||delete k[H]}function A(k,H,$,Q){var ue=""+H,ne=""+$;if(!k&&ue>ne){var le=ue;ue=ne,ne=le}return ue+I+ne+I+(T.isUndefined(Q)?P:Q)}function L(k,H){return A(k,H.v,H.w,H.name)}C.prototype._nodeCount=0,C.prototype._edgeCount=0,C.prototype.isDirected=function(){return this._isDirected},C.prototype.isMultigraph=function(){return this._isMultigraph},C.prototype.isCompound=function(){return this._isCompound},C.prototype.setGraph=function(k){return this._label=k,this},C.prototype.graph=function(){return this._label},C.prototype.setDefaultNodeLabel=function(k){return T.isFunction(k)||(k=T.constant(k)),this._defaultNodeLabelFn=k,this},C.prototype.nodeCount=function(){return this._nodeCount},C.prototype.nodes=function(){return T.keys(this._nodes)},C.prototype.sources=function(){var k=this;return T.filter(this.nodes(),function(H){return T.isEmpty(k._in[H])})},C.prototype.sinks=function(){var k=this;return T.filter(this.nodes(),function(H){return T.isEmpty(k._out[H])})},C.prototype.setNodes=function(k,H){var $=arguments,Q=this;return T.each(k,function(ue){$.length>1?Q.setNode(ue,H):Q.setNode(ue)}),this},C.prototype.setNode=function(k,H){return T.has(this._nodes,k)?(arguments.length>1&&(this._nodes[k]=H),this):(this._nodes[k]=arguments.length>1?H:this._defaultNodeLabelFn(k),this._isCompound&&(this._parent[k]=O,this._children[k]={},this._children[O][k]=!0),this._in[k]={},this._preds[k]={},this._out[k]={},this._sucs[k]={},++this._nodeCount,this)},C.prototype.node=function(k){return this._nodes[k]},C.prototype.hasNode=function(k){return T.has(this._nodes,k)},C.prototype.removeNode=function(k){var H=this;if(T.has(this._nodes,k)){var $=function(Q){H.removeEdge(H._edgeObjs[Q])};delete this._nodes[k],this._isCompound&&(this._removeFromParentsChildList(k),delete this._parent[k],T.each(this.children(k),function(Q){H.setParent(Q)}),delete this._children[k]),T.each(T.keys(this._in[k]),$),delete this._in[k],delete this._preds[k],T.each(T.keys(this._out[k]),$),delete this._out[k],delete this._sucs[k],--this._nodeCount}return this},C.prototype.setParent=function(k,H){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(T.isUndefined(H))H=O;else{for(var $=H+="";!T.isUndefined($);$=this.parent($))if($===k)throw new Error("Setting "+H+" as parent of "+k+" would create a cycle");this.setNode(H)}return this.setNode(k),this._removeFromParentsChildList(k),this._parent[k]=H,this._children[H][k]=!0,this},C.prototype._removeFromParentsChildList=function(k){delete this._children[this._parent[k]][k]},C.prototype.parent=function(k){if(this._isCompound){var H=this._parent[k];if(H!==O)return H}},C.prototype.children=function(k){if(T.isUndefined(k)&&(k=O),this._isCompound){var H=this._children[k];if(H)return T.keys(H)}else{if(k===O)return this.nodes();if(this.hasNode(k))return[]}},C.prototype.predecessors=function(k){var H=this._preds[k];if(H)return T.keys(H)},C.prototype.successors=function(k){var H=this._sucs[k];if(H)return T.keys(H)},C.prototype.neighbors=function(k){var H=this.predecessors(k);if(H)return T.union(H,this.successors(k))},C.prototype.isLeaf=function(k){return 0===(this.isDirected()?this.successors(k):this.neighbors(k)).length},C.prototype.filterNodes=function(k){var H=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});H.setGraph(this.graph());var $=this;T.each(this._nodes,function(ne,le){k(le)&&H.setNode(le,ne)}),T.each(this._edgeObjs,function(ne){H.hasNode(ne.v)&&H.hasNode(ne.w)&&H.setEdge(ne,$.edge(ne))});var Q={};function ue(ne){var le=$.parent(ne);return void 0===le||H.hasNode(le)?(Q[ne]=le,le):le in Q?Q[le]:ue(le)}return this._isCompound&&T.each(H.nodes(),function(ne){H.setParent(ne,ue(ne))}),H},C.prototype.setDefaultEdgeLabel=function(k){return T.isFunction(k)||(k=T.constant(k)),this._defaultEdgeLabelFn=k,this},C.prototype.edgeCount=function(){return this._edgeCount},C.prototype.edges=function(){return T.values(this._edgeObjs)},C.prototype.setPath=function(k,H){var $=this,Q=arguments;return T.reduce(k,function(ue,ne){return Q.length>1?$.setEdge(ue,ne,H):$.setEdge(ue,ne),ne}),this},C.prototype.setEdge=function(){var k,H,$,Q,ue=!1,ne=arguments[0];"object"==typeof ne&&null!==ne&&"v"in ne?(k=ne.v,H=ne.w,$=ne.name,2===arguments.length&&(Q=arguments[1],ue=!0)):(k=ne,H=arguments[1],$=arguments[3],arguments.length>2&&(Q=arguments[2],ue=!0)),k=""+k,H=""+H,T.isUndefined($)||($=""+$);var le=A(this._isDirected,k,H,$);if(T.has(this._edgeLabels,le))return ue&&(this._edgeLabels[le]=Q),this;if(!T.isUndefined($)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(k),this.setNode(H),this._edgeLabels[le]=ue?Q:this._defaultEdgeLabelFn(k,H,$);var ae=function V(k,H,$,Q){var ue=""+H,ne=""+$;if(!k&&ue>ne){var le=ue;ue=ne,ne=le}var ae={v:ue,w:ne};return Q&&(ae.name=Q),ae}(this._isDirected,k,H,$);return k=ae.v,H=ae.w,Object.freeze(ae),this._edgeObjs[le]=ae,S(this._preds[H],k),S(this._sucs[k],H),this._in[H][le]=ae,this._out[k][le]=ae,this._edgeCount++,this},C.prototype.edge=function(k,H,$){var Q=1===arguments.length?L(this._isDirected,arguments[0]):A(this._isDirected,k,H,$);return this._edgeLabels[Q]},C.prototype.hasEdge=function(k,H,$){var Q=1===arguments.length?L(this._isDirected,arguments[0]):A(this._isDirected,k,H,$);return T.has(this._edgeLabels,Q)},C.prototype.removeEdge=function(k,H,$){var Q=1===arguments.length?L(this._isDirected,arguments[0]):A(this._isDirected,k,H,$),ue=this._edgeObjs[Q];return ue&&(k=ue.v,H=ue.w,delete this._edgeLabels[Q],delete this._edgeObjs[Q],R(this._preds[H],k),R(this._sucs[k],H),delete this._in[H][Q],delete this._out[k][Q],this._edgeCount--),this},C.prototype.inEdges=function(k,H){var $=this._in[k];if($){var Q=T.values($);return H?T.filter(Q,function(ue){return ue.v===H}):Q}},C.prototype.outEdges=function(k,H){var $=this._out[k];if($){var Q=T.values($);return H?T.filter(Q,function(ue){return ue.w===H}):Q}},C.prototype.nodeEdges=function(k,H){var $=this.inEdges(k,H);if($)return $.concat(this.outEdges(k,H))}},3934:(Y,se,D)=>{Y.exports={Graph:D(427),version:D(7747)}},2440:(Y,se,D)=>{var T=D(9368),P=D(427);function I(R){return T.map(R.nodes(),function(A){var V=R.node(A),L=R.parent(A),k={v:A};return T.isUndefined(V)||(k.value=V),T.isUndefined(L)||(k.parent=L),k})}function C(R){return T.map(R.edges(),function(A){var V=R.edge(A),L={v:A.v,w:A.w};return T.isUndefined(A.name)||(L.name=A.name),T.isUndefined(V)||(L.value=V),L})}Y.exports={write:function O(R){var A={options:{directed:R.isDirected(),multigraph:R.isMultigraph(),compound:R.isCompound()},nodes:I(R),edges:C(R)};return T.isUndefined(R.graph())||(A.value=T.clone(R.graph())),A},read:function S(R){var A=new P(R.options).setGraph(R.value);return T.each(R.nodes,function(V){A.setNode(V.v,V.value),V.parent&&A.setParent(V.v,V.parent)}),T.each(R.edges,function(V){A.setEdge({v:V.v,w:V.w,name:V.name},V.value)}),A}}},9368:(Y,se,D)=>{var T;try{T={clone:D(8734),constant:D(1075),each:D(6488),filter:D(7661),has:D(8669),isArray:D(2261),isEmpty:D(5350),isFunction:D(6861),isUndefined:D(8152),keys:D(4614),map:D(8921),reduce:D(5909),size:D(5741),transform:D(6893),union:D(2480),values:D(8808)}}catch{}T||(T=window._),Y.exports=T},7747:Y=>{Y.exports="2.1.8"},7444:(Y,se,D)=>{Y.exports=D(7253)},7253:function(Y,se){var D,T,P;(function(){var O,I,C,S,R,A,V,L,k,H,$,Q,ue,ne,le;C=Math.floor,H=Math.min,I=function(ae,de){return ae<de?-1:ae>de?1:0},k=function(ae,de,te,pe,Z){var oe;if(null==te&&(te=0),null==Z&&(Z=I),te<0)throw new Error("lo must be non-negative");for(null==pe&&(pe=ae.length);te<pe;)Z(de,ae[oe=C((te+pe)/2)])<0?pe=oe:te=oe+1;return[].splice.apply(ae,[te,te-te].concat(de)),de},A=function(ae,de,te){return null==te&&(te=I),ae.push(de),ne(ae,0,ae.length-1,te)},R=function(ae,de){var te,pe;return null==de&&(de=I),te=ae.pop(),ae.length?(pe=ae[0],ae[0]=te,le(ae,0,de)):pe=te,pe},L=function(ae,de,te){var pe;return null==te&&(te=I),pe=ae[0],ae[0]=de,le(ae,0,te),pe},V=function(ae,de,te){var pe;return null==te&&(te=I),ae.length&&te(ae[0],de)<0&&(de=(pe=[ae[0],de])[0],ae[0]=pe[1],le(ae,0,te)),de},S=function(ae,de){var pe,oe,me,_e,Te;for(null==de&&(de=I),_e=[],pe=0,oe=(me=function(){Te=[];for(var De=0,ze=C(ae.length/2);0<=ze?De<ze:De>ze;0<=ze?De++:De--)Te.push(De);return Te}.apply(this).reverse()).length;pe<oe;pe++)_e.push(le(ae,me[pe],de));return _e},ue=function(ae,de,te){var pe;if(null==te&&(te=I),-1!==(pe=ae.indexOf(de)))return ne(ae,0,pe,te),le(ae,pe,te)},$=function(ae,de,te){var Z,oe,ie,me;if(null==te&&(te=I),!(Z=ae.slice(0,de)).length)return Z;for(S(Z,te),oe=0,ie=(me=ae.slice(de)).length;oe<ie;oe++)V(Z,me[oe],te);return Z.sort(te).reverse()},Q=function(ae,de,te){var pe,oe,ie,me,_e,Te,De,ze,Be;if(null==te&&(te=I),10*de<=ae.length){if(!(ie=ae.slice(0,de).sort(te)).length)return ie;for(oe=ie[ie.length-1],me=0,Te=(De=ae.slice(de)).length;me<Te;me++)te(pe=De[me],oe)<0&&(k(ie,pe,0,null,te),ie.pop(),oe=ie[ie.length-1]);return ie}for(S(ae,te),Be=[],_e=0,ze=H(de,ae.length);0<=ze?_e<ze:_e>ze;0<=ze?++_e:--_e)Be.push(R(ae,te));return Be},ne=function(ae,de,te,pe){var Z,oe,ie;for(null==pe&&(pe=I),Z=ae[te];te>de&&pe(Z,oe=ae[ie=te-1>>1])<0;)ae[te]=oe,te=ie;return ae[te]=Z},le=function(ae,de,te){var pe,Z,oe,ie,me;for(null==te&&(te=I),Z=ae.length,me=de,oe=ae[de],pe=2*de+1;pe<Z;)(ie=pe+1)<Z&&!(te(ae[pe],ae[ie])<0)&&(pe=ie),ae[de]=ae[pe],pe=2*(de=pe)+1;return ae[de]=oe,ne(ae,me,de,te)},O=function(){function ae(de){this.cmp=de??I,this.nodes=[]}return ae.push=A,ae.pop=R,ae.replace=L,ae.pushpop=V,ae.heapify=S,ae.updateItem=ue,ae.nlargest=$,ae.nsmallest=Q,ae.prototype.push=function(de){return A(this.nodes,de,this.cmp)},ae.prototype.pop=function(){return R(this.nodes,this.cmp)},ae.prototype.peek=function(){return this.nodes[0]},ae.prototype.contains=function(de){return-1!==this.nodes.indexOf(de)},ae.prototype.replace=function(de){return L(this.nodes,de,this.cmp)},ae.prototype.pushpop=function(de){return V(this.nodes,de,this.cmp)},ae.prototype.heapify=function(){return S(this.nodes,this.cmp)},ae.prototype.updateItem=function(de){return ue(this.nodes,de,this.cmp)},ae.prototype.clear=function(){return this.nodes=[]},ae.prototype.empty=function(){return 0===this.nodes.length},ae.prototype.size=function(){return this.nodes.length},ae.prototype.clone=function(){var de;return(de=new ae).nodes=this.nodes.slice(0),de},ae.prototype.toArray=function(){return this.nodes.slice(0)},ae.prototype.insert=ae.prototype.push,ae.prototype.top=ae.prototype.peek,ae.prototype.front=ae.prototype.peek,ae.prototype.has=ae.prototype.contains,ae.prototype.copy=ae.prototype.clone,ae}(),T=[],void 0===(P="function"==typeof(D=function(){return O})?D.apply(se,T):D)||(Y.exports=P)}).call(this)},4465:function(Y){Y.exports=function(se){var D={};function T(P){if(D[P])return D[P].exports;var O=D[P]={i:P,l:!1,exports:{}};return se[P].call(O.exports,O,O.exports,T),O.l=!0,O.exports}return T.m=se,T.c=D,T.i=function(P){return P},T.d=function(P,O,I){T.o(P,O)||Object.defineProperty(P,O,{configurable:!1,enumerable:!0,get:I})},T.n=function(P){var O=P&&P.__esModule?function(){return P.default}:function(){return P};return T.d(O,"a",O),O},T.o=function(P,O){return Object.prototype.hasOwnProperty.call(P,O)},T.p="",T(T.s=26)}([function(se,D,T){"use strict";function P(){}P.QUALITY=1,P.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,P.DEFAULT_INCREMENTAL=!1,P.DEFAULT_ANIMATION_ON_LAYOUT=!0,P.DEFAULT_ANIMATION_DURING_LAYOUT=!1,P.DEFAULT_ANIMATION_PERIOD=50,P.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,P.DEFAULT_GRAPH_MARGIN=15,P.NODE_DIMENSIONS_INCLUDE_LABELS=!1,P.SIMPLE_NODE_HALF_SIZE=(P.SIMPLE_NODE_SIZE=40)/2,P.EMPTY_COMPOUND_NODE_SIZE=40,P.MIN_EDGE_LENGTH=1,P.INITIAL_WORLD_BOUNDARY=(P.WORLD_BOUNDARY=1e6)/1e3,P.WORLD_CENTER_X=1200,P.WORLD_CENTER_Y=900,se.exports=P},function(se,D,T){"use strict";var P=T(2),O=T(8),I=T(9);function C(R,A,V){P.call(this,V),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=V,this.bendpoints=[],this.source=R,this.target=A}for(var S in C.prototype=Object.create(P.prototype),P)C[S]=P[S];C.prototype.getSource=function(){return this.source},C.prototype.getTarget=function(){return this.target},C.prototype.isInterGraph=function(){return this.isInterGraph},C.prototype.getLength=function(){return this.length},C.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},C.prototype.getBendpoints=function(){return this.bendpoints},C.prototype.getLca=function(){return this.lca},C.prototype.getSourceInLca=function(){return this.sourceInLca},C.prototype.getTargetInLca=function(){return this.targetInLca},C.prototype.getOtherEnd=function(R){if(this.source===R)return this.target;if(this.target===R)return this.source;throw"Node is not incident with this edge"},C.prototype.getOtherEndInGraph=function(R,A){for(var V=this.getOtherEnd(R),L=A.getGraphManager().getRoot();;){if(V.getOwner()==A)return V;if(V.getOwner()==L)break;V=V.getOwner().getParent()}return null},C.prototype.updateLength=function(){var R=new Array(4);this.isOverlapingSourceAndTarget=O.getIntersection(this.target.getRect(),this.source.getRect(),R),this.isOverlapingSourceAndTarget||(this.lengthX=R[0]-R[2],this.lengthY=R[1]-R[3],Math.abs(this.lengthX)<1&&(this.lengthX=I.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=I.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},C.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=I.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=I.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},se.exports=C},function(se,D,T){"use strict";se.exports=function P(O){this.vGraphObject=O}},function(se,D,T){"use strict";var P=T(2),O=T(10),I=T(13),C=T(0),S=T(16),R=T(4);function A(L,k,H,$){null==H&&null==$&&($=k),P.call(this,$),null!=L.graphManager&&(L=L.graphManager),this.estimatedSize=O.MIN_VALUE,this.inclusionTreeDepth=O.MAX_VALUE,this.vGraphObject=$,this.edges=[],this.graphManager=L,this.rect=null!=H&&null!=k?new I(k.x,k.y,H.width,H.height):new I}for(var V in A.prototype=Object.create(P.prototype),P)A[V]=P[V];A.prototype.getEdges=function(){return this.edges},A.prototype.getChild=function(){return this.child},A.prototype.getOwner=function(){return this.owner},A.prototype.getWidth=function(){return this.rect.width},A.prototype.setWidth=function(L){this.rect.width=L},A.prototype.getHeight=function(){return this.rect.height},A.prototype.setHeight=function(L){this.rect.height=L},A.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},A.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},A.prototype.getCenter=function(){return new R(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},A.prototype.getLocation=function(){return new R(this.rect.x,this.rect.y)},A.prototype.getRect=function(){return this.rect},A.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},A.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},A.prototype.setRect=function(L,k){this.rect.x=L.x,this.rect.y=L.y,this.rect.width=k.width,this.rect.height=k.height},A.prototype.setCenter=function(L,k){this.rect.x=L-this.rect.width/2,this.rect.y=k-this.rect.height/2},A.prototype.setLocation=function(L,k){this.rect.x=L,this.rect.y=k},A.prototype.moveBy=function(L,k){this.rect.x+=L,this.rect.y+=k},A.prototype.getEdgeListToNode=function(L){var k=[],$=this;return $.edges.forEach(function(Q){if(Q.target==L){if(Q.source!=$)throw"Incorrect edge source!";k.push(Q)}}),k},A.prototype.getEdgesBetween=function(L){var k=[],$=this;return $.edges.forEach(function(Q){if(Q.source!=$&&Q.target!=$)throw"Incorrect edge source and/or target";(Q.target==L||Q.source==L)&&k.push(Q)}),k},A.prototype.getNeighborsList=function(){var L=new Set,k=this;return k.edges.forEach(function(H){if(H.source==k)L.add(H.target);else{if(H.target!=k)throw"Incorrect incidency!";L.add(H.source)}}),L},A.prototype.withChildren=function(){var L=new Set;if(L.add(this),null!=this.child)for(var $=this.child.getNodes(),Q=0;Q<$.length;Q++)$[Q].withChildren().forEach(function(ue){L.add(ue)});return L},A.prototype.getNoOfChildren=function(){var L=0;if(null==this.child)L=1;else for(var H=this.child.getNodes(),$=0;$<H.length;$++)L+=H[$].getNoOfChildren();return 0==L&&(L=1),L},A.prototype.getEstimatedSize=function(){if(this.estimatedSize==O.MIN_VALUE)throw"assert failed";return this.estimatedSize},A.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},A.prototype.scatter=function(){var L,k,H=-C.INITIAL_WORLD_BOUNDARY,$=C.INITIAL_WORLD_BOUNDARY;L=C.WORLD_CENTER_X+S.nextDouble()*($-H)+H;var Q=-C.INITIAL_WORLD_BOUNDARY,ue=C.INITIAL_WORLD_BOUNDARY;k=C.WORLD_CENTER_Y+S.nextDouble()*(ue-Q)+Q,this.rect.x=L,this.rect.y=k},A.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var L=this.getChild();if(L.updateBounds(!0),this.rect.x=L.getLeft(),this.rect.y=L.getTop(),this.setWidth(L.getRight()-L.getLeft()),this.setHeight(L.getBottom()-L.getTop()),C.NODE_DIMENSIONS_INCLUDE_LABELS){var k=L.getRight()-L.getLeft(),H=L.getBottom()-L.getTop();this.labelWidth>k&&(this.rect.x-=(this.labelWidth-k)/2,this.setWidth(this.labelWidth)),this.labelHeight>H&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-H)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-H),this.setHeight(this.labelHeight))}}},A.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==O.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},A.prototype.transform=function(L){var k=this.rect.x;k>C.WORLD_BOUNDARY?k=C.WORLD_BOUNDARY:k<-C.WORLD_BOUNDARY&&(k=-C.WORLD_BOUNDARY);var H=this.rect.y;H>C.WORLD_BOUNDARY?H=C.WORLD_BOUNDARY:H<-C.WORLD_BOUNDARY&&(H=-C.WORLD_BOUNDARY);var $=new R(k,H),Q=L.inverseTransformPoint($);this.setLocation(Q.x,Q.y)},A.prototype.getLeft=function(){return this.rect.x},A.prototype.getRight=function(){return this.rect.x+this.rect.width},A.prototype.getTop=function(){return this.rect.y},A.prototype.getBottom=function(){return this.rect.y+this.rect.height},A.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},se.exports=A},function(se,D,T){"use strict";function P(O,I){null==O&&null==I?(this.x=0,this.y=0):(this.x=O,this.y=I)}P.prototype.getX=function(){return this.x},P.prototype.getY=function(){return this.y},P.prototype.setX=function(O){this.x=O},P.prototype.setY=function(O){this.y=O},P.prototype.getDifference=function(O){return new DimensionD(this.x-O.x,this.y-O.y)},P.prototype.getCopy=function(){return new P(this.x,this.y)},P.prototype.translate=function(O){return this.x+=O.width,this.y+=O.height,this},se.exports=P},function(se,D,T){"use strict";var P=T(2),O=T(10),I=T(0),C=T(6),S=T(3),R=T(1),A=T(13),V=T(12),L=T(11);function k($,Q,ue){P.call(this,ue),this.estimatedSize=O.MIN_VALUE,this.margin=I.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=$,null!=Q&&Q instanceof C?this.graphManager=Q:null!=Q&&Q instanceof Layout&&(this.graphManager=Q.graphManager)}for(var H in k.prototype=Object.create(P.prototype),P)k[H]=P[H];k.prototype.getNodes=function(){return this.nodes},k.prototype.getEdges=function(){return this.edges},k.prototype.getGraphManager=function(){return this.graphManager},k.prototype.getParent=function(){return this.parent},k.prototype.getLeft=function(){return this.left},k.prototype.getRight=function(){return this.right},k.prototype.getTop=function(){return this.top},k.prototype.getBottom=function(){return this.bottom},k.prototype.isConnected=function(){return this.isConnected},k.prototype.add=function($,Q,ue){if(null==Q&&null==ue){var ne=$;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(ne)>-1)throw"Node already in graph!";return ne.owner=this,this.getNodes().push(ne),ne}var le=$;if(!(this.getNodes().indexOf(Q)>-1&&this.getNodes().indexOf(ue)>-1))throw"Source or target not in graph!";if(Q.owner!=ue.owner||Q.owner!=this)throw"Both owners must be this graph!";return Q.owner!=ue.owner?null:(le.source=Q,le.target=ue,le.isInterGraph=!1,this.getEdges().push(le),Q.edges.push(le),ue!=Q&&ue.edges.push(le),le)},k.prototype.remove=function($){var Q=$;if($ instanceof S){if(null==Q)throw"Node is null!";if(null==Q.owner||Q.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var ue=Q.edges.slice(),le=ue.length,ae=0;ae<le;ae++)(ne=ue[ae]).isInterGraph?this.graphManager.remove(ne):ne.source.owner.remove(ne);if(-1==(de=this.nodes.indexOf(Q)))throw"Node not in owner node list!";this.nodes.splice(de,1)}else if($ instanceof R){var ne;if(null==(ne=$))throw"Edge is null!";if(null==ne.source||null==ne.target)throw"Source and/or target is null!";if(null==ne.source.owner||null==ne.target.owner||ne.source.owner!=this||ne.target.owner!=this)throw"Source and/or target owner is invalid!";var de,te=ne.source.edges.indexOf(ne),pe=ne.target.edges.indexOf(ne);if(!(te>-1&&pe>-1))throw"Source and/or target doesn't know this edge!";if(ne.source.edges.splice(te,1),ne.target!=ne.source&&ne.target.edges.splice(pe,1),-1==(de=ne.source.owner.getEdges().indexOf(ne)))throw"Not in owner's edge list!";ne.source.owner.getEdges().splice(de,1)}},k.prototype.updateLeftTop=function(){for(var ue,ne,le,$=O.MAX_VALUE,Q=O.MAX_VALUE,ae=this.getNodes(),de=ae.length,te=0;te<de;te++){var pe=ae[te];$>(ue=pe.getTop())&&($=ue),Q>(ne=pe.getLeft())&&(Q=ne)}return $==O.MAX_VALUE?null:(le=null!=ae[0].getParent().paddingLeft?ae[0].getParent().paddingLeft:this.margin,this.left=Q-le,this.top=$-le,new V(this.left,this.top))},k.prototype.updateBounds=function($){for(var ae,de,te,pe,Z,Q=O.MAX_VALUE,ue=-O.MAX_VALUE,ne=O.MAX_VALUE,le=-O.MAX_VALUE,oe=this.nodes,ie=oe.length,me=0;me<ie;me++){var _e=oe[me];$&&null!=_e.child&&_e.updateBounds(),Q>(ae=_e.getLeft())&&(Q=ae),ue<(de=_e.getRight())&&(ue=de),ne>(te=_e.getTop())&&(ne=te),le<(pe=_e.getBottom())&&(le=pe)}var Te=new A(Q,ne,ue-Q,le-ne);Q==O.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),Z=null!=oe[0].getParent().paddingLeft?oe[0].getParent().paddingLeft:this.margin,this.left=Te.x-Z,this.right=Te.x+Te.width+Z,this.top=Te.y-Z,this.bottom=Te.y+Te.height+Z},k.calculateBounds=function($){for(var ae,de,te,pe,Q=O.MAX_VALUE,ue=-O.MAX_VALUE,ne=O.MAX_VALUE,le=-O.MAX_VALUE,Z=$.length,oe=0;oe<Z;oe++){var ie=$[oe];Q>(ae=ie.getLeft())&&(Q=ae),ue<(de=ie.getRight())&&(ue=de),ne>(te=ie.getTop())&&(ne=te),le<(pe=ie.getBottom())&&(le=pe)}return new A(Q,ne,ue-Q,le-ne)},k.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},k.prototype.getEstimatedSize=function(){if(this.estimatedSize==O.MIN_VALUE)throw"assert failed";return this.estimatedSize},k.prototype.calcEstimatedSize=function(){for(var $=0,Q=this.nodes,ue=Q.length,ne=0;ne<ue;ne++)$+=Q[ne].calcEstimatedSize();return this.estimatedSize=0==$?I.EMPTY_COMPOUND_NODE_SIZE:$/Math.sqrt(this.nodes.length),this.estimatedSize},k.prototype.updateConnected=function(){var $=this;if(0!=this.nodes.length){var le,ae,Q=new L,ue=new Set,ne=this.nodes[0];for(ne.withChildren().forEach(function(me){Q.push(me),ue.add(me)});0!==Q.length;)for(var te=(le=(ne=Q.shift()).getEdges()).length,pe=0;pe<te;pe++)null==(ae=le[pe].getOtherEndInGraph(ne,this))||ue.has(ae)||ae.withChildren().forEach(function(me){Q.push(me),ue.add(me)});if(this.isConnected=!1,ue.size>=this.nodes.length){var ie=0;ue.forEach(function(me){me.owner==$&&ie++}),ie==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},se.exports=k},function(se,D,T){"use strict";var P,O=T(1);function I(C){P=T(5),this.layout=C,this.graphs=[],this.edges=[]}I.prototype.addRoot=function(){var C=this.layout.newGraph(),S=this.layout.newNode(null),R=this.add(C,S);return this.setRootGraph(R),this.rootGraph},I.prototype.add=function(C,S,R,A,V){if(null==R&&null==A&&null==V){if(null==C)throw"Graph is null!";if(null==S)throw"Parent node is null!";if(this.graphs.indexOf(C)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(C),null!=C.parent)throw"Already has a parent!";if(null!=S.child)throw"Already has a child!";return C.parent=S,S.child=C,C}V=R,R=C;var L=(A=S).getOwner(),k=V.getOwner();if(null==L||L.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==k||k.getGraphManager()!=this)throw"Target not in this graph mgr!";if(L==k)return R.isInterGraph=!1,L.add(R,A,V);if(R.isInterGraph=!0,R.source=A,R.target=V,this.edges.indexOf(R)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(R),null==R.source||null==R.target)throw"Edge source and/or target is null!";if(-1!=R.source.edges.indexOf(R)||-1!=R.target.edges.indexOf(R))throw"Edge already in source and/or target incidency list!";return R.source.edges.push(R),R.target.edges.push(R),R},I.prototype.remove=function(C){if(C instanceof P){var S=C;if(S.getGraphManager()!=this)throw"Graph not in this graph mgr";if(S!=this.rootGraph&&(null==S.parent||S.parent.graphManager!=this))throw"Invalid parent node!";for(var A,R=[],V=(R=R.concat(S.getEdges())).length,L=0;L<V;L++)S.remove(A=R[L]);var k=[];for(V=(k=k.concat(S.getNodes())).length,L=0;L<V;L++)S.remove(k[L]);S==this.rootGraph&&this.setRootGraph(null);var $=this.graphs.indexOf(S);this.graphs.splice($,1),S.parent=null}else if(C instanceof O){if(null==(A=C))throw"Edge is null!";if(!A.isInterGraph)throw"Not an inter-graph edge!";if(null==A.source||null==A.target)throw"Source and/or target is null!";if(-1==A.source.edges.indexOf(A)||-1==A.target.edges.indexOf(A))throw"Source and/or target doesn't know this edge!";if($=A.source.edges.indexOf(A),A.source.edges.splice($,1),$=A.target.edges.indexOf(A),A.target.edges.splice($,1),null==A.source.owner||null==A.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==A.source.owner.getGraphManager().edges.indexOf(A))throw"Not in owner graph manager's edge list!";$=A.source.owner.getGraphManager().edges.indexOf(A),A.source.owner.getGraphManager().edges.splice($,1)}},I.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},I.prototype.getGraphs=function(){return this.graphs},I.prototype.getAllNodes=function(){if(null==this.allNodes){for(var C=[],S=this.getGraphs(),R=S.length,A=0;A<R;A++)C=C.concat(S[A].getNodes());this.allNodes=C}return this.allNodes},I.prototype.resetAllNodes=function(){this.allNodes=null},I.prototype.resetAllEdges=function(){this.allEdges=null},I.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},I.prototype.getAllEdges=function(){if(null==this.allEdges){for(var C=[],S=this.getGraphs(),A=0;A<S.length;A++)C=C.concat(S[A].getEdges());C=C.concat(this.edges),this.allEdges=C}return this.allEdges},I.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},I.prototype.setAllNodesToApplyGravitation=function(C){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=C},I.prototype.getRoot=function(){return this.rootGraph},I.prototype.setRootGraph=function(C){if(C.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=C,null==C.parent&&(C.parent=this.layout.newNode("Root node"))},I.prototype.getLayout=function(){return this.layout},I.prototype.isOneAncestorOfOther=function(C,S){if(null==C||null==S)throw"assert failed";if(C==S)return!0;for(var A,R=C.getOwner();null!=(A=R.getParent());){if(A==S)return!0;if(null==(R=A.getOwner()))break}for(R=S.getOwner();null!=(A=R.getParent());){if(A==C)return!0;if(null==(R=A.getOwner()))break}return!1},I.prototype.calcLowestCommonAncestors=function(){for(var C,S,R,A,V,L=this.getAllEdges(),k=L.length,H=0;H<k;H++)if(S=(C=L[H]).source,R=C.target,C.lca=null,C.sourceInLca=S,C.targetInLca=R,S!=R){for(A=S.getOwner();null==C.lca;){for(C.targetInLca=R,V=R.getOwner();null==C.lca;){if(V==A){C.lca=V;break}if(V==this.rootGraph)break;if(null!=C.lca)throw"assert failed";C.targetInLca=V.getParent(),V=C.targetInLca.getOwner()}if(A==this.rootGraph)break;null==C.lca&&(C.sourceInLca=A.getParent(),A=C.sourceInLca.getOwner())}if(null==C.lca)throw"assert failed"}else C.lca=S.getOwner()},I.prototype.calcLowestCommonAncestor=function(C,S){if(C==S)return C.getOwner();for(var R=C.getOwner();null!=R;){for(var A=S.getOwner();null!=A;){if(A==R)return A;A=A.getParent().getOwner()}R=R.getParent().getOwner()}return R},I.prototype.calcInclusionTreeDepths=function(C,S){null==C&&null==S&&(C=this.rootGraph,S=1);for(var R,A=C.getNodes(),V=A.length,L=0;L<V;L++)(R=A[L]).inclusionTreeDepth=S,null!=R.child&&this.calcInclusionTreeDepths(R.child,S+1)},I.prototype.includesInvalidEdge=function(){for(var C,S=this.edges.length,R=0;R<S;R++)if(this.isOneAncestorOfOther((C=this.edges[R]).source,C.target))return!0;return!1},se.exports=I},function(se,D,T){"use strict";var P=T(0);function O(){}for(var I in P)O[I]=P[I];O.MAX_ITERATIONS=2500,O.DEFAULT_EDGE_LENGTH=50,O.DEFAULT_SPRING_STRENGTH=.45,O.DEFAULT_REPULSION_STRENGTH=4500,O.DEFAULT_GRAVITY_STRENGTH=.4,O.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,O.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,O.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,O.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,O.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,O.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,O.COOLING_ADAPTATION_FACTOR=.33,O.ADAPTATION_LOWER_NODE_LIMIT=1e3,O.ADAPTATION_UPPER_NODE_LIMIT=5e3,O.MAX_NODE_DISPLACEMENT=3*(O.MAX_NODE_DISPLACEMENT_INCREMENTAL=100),O.MIN_REPULSION_DIST=O.DEFAULT_EDGE_LENGTH/10,O.CONVERGENCE_CHECK_PERIOD=100,O.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,O.MIN_EDGE_LENGTH=1,O.GRID_CALCULATION_CHECK_PERIOD=10,se.exports=O},function(se,D,T){"use strict";var P=T(12);function O(){}O.calcSeparationAmount=function(I,C,S,R){if(!I.intersects(C))throw"assert failed";var A=new Array(2);this.decideDirectionsForOverlappingNodes(I,C,A),S[0]=Math.min(I.getRight(),C.getRight())-Math.max(I.x,C.x),S[1]=Math.min(I.getBottom(),C.getBottom())-Math.max(I.y,C.y),I.getX()<=C.getX()&&I.getRight()>=C.getRight()?S[0]+=Math.min(C.getX()-I.getX(),I.getRight()-C.getRight()):C.getX()<=I.getX()&&C.getRight()>=I.getRight()&&(S[0]+=Math.min(I.getX()-C.getX(),C.getRight()-I.getRight())),I.getY()<=C.getY()&&I.getBottom()>=C.getBottom()?S[1]+=Math.min(C.getY()-I.getY(),I.getBottom()-C.getBottom()):C.getY()<=I.getY()&&C.getBottom()>=I.getBottom()&&(S[1]+=Math.min(I.getY()-C.getY(),C.getBottom()-I.getBottom()));var V=Math.abs((C.getCenterY()-I.getCenterY())/(C.getCenterX()-I.getCenterX()));C.getCenterY()===I.getCenterY()&&C.getCenterX()===I.getCenterX()&&(V=1);var L=V*S[0],k=S[1]/V;S[0]<k?k=S[0]:L=S[1],S[0]=-1*A[0]*(k/2+R),S[1]=-1*A[1]*(L/2+R)},O.decideDirectionsForOverlappingNodes=function(I,C,S){S[0]=I.getCenterX()<C.getCenterX()?-1:1,S[1]=I.getCenterY()<C.getCenterY()?-1:1},O.getIntersection2=function(I,C,S){var R=I.getCenterX(),A=I.getCenterY(),V=C.getCenterX(),L=C.getCenterY();if(I.intersects(C))return S[0]=R,S[1]=A,S[2]=V,S[3]=L,!0;var k=I.getX(),H=I.getY(),$=I.getRight(),Q=I.getX(),ue=I.getBottom(),ne=I.getRight(),le=I.getWidthHalf(),ae=I.getHeightHalf(),de=C.getX(),te=C.getY(),pe=C.getRight(),Z=C.getX(),oe=C.getBottom(),ie=C.getRight(),me=C.getWidthHalf(),_e=C.getHeightHalf(),Te=!1,De=!1;if(R===V){if(A>L)return S[0]=R,S[1]=H,S[2]=V,S[3]=oe,!1;if(A<L)return S[0]=R,S[1]=ue,S[2]=V,S[3]=te,!1}else if(A===L){if(R>V)return S[0]=k,S[1]=A,S[2]=pe,S[3]=L,!1;if(R<V)return S[0]=$,S[1]=A,S[2]=de,S[3]=L,!1}else{var ze=I.height/I.width,Be=C.height/C.width,at=(L-A)/(V-R),ht=void 0,Ke=void 0,Ze=void 0,Ht=void 0;if(-ze===at?R>V?(S[0]=Q,S[1]=ue,Te=!0):(S[0]=$,S[1]=H,Te=!0):ze===at&&(R>V?(S[0]=k,S[1]=H,Te=!0):(S[0]=ne,S[1]=ue,Te=!0)),-Be===at?V>R?(S[2]=Z,S[3]=oe,De=!0):(S[2]=pe,S[3]=te,De=!0):Be===at&&(V>R?(S[2]=de,S[3]=te,De=!0):(S[2]=ie,S[3]=oe,De=!0)),Te&&De)return!1;if(R>V?A>L?(ht=this.getCardinalDirection(ze,at,4),Ke=this.getCardinalDirection(Be,at,2)):(ht=this.getCardinalDirection(-ze,at,3),Ke=this.getCardinalDirection(-Be,at,1)):A>L?(ht=this.getCardinalDirection(-ze,at,1),Ke=this.getCardinalDirection(-Be,at,3)):(ht=this.getCardinalDirection(ze,at,2),Ke=this.getCardinalDirection(Be,at,4)),!Te)switch(ht){case 1:Ze=H,S[0]=R+-ae/at,S[1]=Ze;break;case 2:Ze=A+le*at,S[0]=ne,S[1]=Ze;break;case 3:Ze=ue,S[0]=R+ae/at,S[1]=Ze;break;case 4:Ze=A+-le*at,S[0]=Q,S[1]=Ze}if(!De)switch(Ke){case 1:Ht=te,S[2]=V+-_e/at,S[3]=Ht;break;case 2:Ht=L+me*at,S[2]=ie,S[3]=Ht;break;case 3:Ht=oe,S[2]=V+_e/at,S[3]=Ht;break;case 4:Ht=L+-me*at,S[2]=Z,S[3]=Ht}}return!1},O.getCardinalDirection=function(I,C,S){return I>C?S:1+S%4},O.getIntersection=function(I,C,S,R){if(null==R)return this.getIntersection2(I,C,S);var ae,de,te,pe,Z,oe,ie,A=I.x,V=I.y,L=C.x,k=C.y,H=S.x,$=S.y,Q=R.x,ue=R.y;return Z=L*V-A*k,oe=Q*$-H*ue,0==(ie=(ae=k-V)*(pe=H-Q)-(de=ue-$)*(te=A-L))?null:new P((te*oe-pe*Z)/ie,(de*Z-ae*oe)/ie)},O.angleOfVector=function(I,C,S,R){var A=void 0;return I!==S?(A=Math.atan((R-C)/(S-I)),S<I?A+=Math.PI:R<C&&(A+=this.TWO_PI)):A=R<C?this.ONE_AND_HALF_PI:this.HALF_PI,A},O.doIntersect=function(I,C,S,R){var A=I.x,V=I.y,L=C.x,k=C.y,H=S.x,$=S.y,Q=R.x,ue=R.y,ne=(L-A)*(ue-$)-(Q-H)*(k-V);if(0===ne)return!1;var le=((ue-$)*(Q-A)+(H-Q)*(ue-V))/ne,ae=((V-k)*(Q-A)+(L-A)*(ue-V))/ne;return 0<le&&le<1&&0<ae&&ae<1},O.HALF_PI=.5*Math.PI,O.ONE_AND_HALF_PI=1.5*Math.PI,O.TWO_PI=2*Math.PI,O.THREE_PI=3*Math.PI,se.exports=O},function(se,D,T){"use strict";function P(){}P.sign=function(O){return O>0?1:O<0?-1:0},P.floor=function(O){return O<0?Math.ceil(O):Math.floor(O)},P.ceil=function(O){return O<0?Math.floor(O):Math.ceil(O)},se.exports=P},function(se,D,T){"use strict";function P(){}P.MAX_VALUE=2147483647,P.MIN_VALUE=-2147483648,se.exports=P},function(se,D,T){"use strict";var P=function(){function A(V,L){for(var k=0;k<L.length;k++){var H=L[k];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(V,H.key,H)}}return function(V,L,k){return L&&A(V.prototype,L),k&&A(V,k),V}}();var I=function(V){return{value:V,next:null,prev:null}},C=function(V,L,k,H){return null!==V?V.next=L:H.head=L,null!==k?k.prev=L:H.tail=L,L.prev=V,L.next=k,H.length++,L},S=function(V,L){var k=V.prev,H=V.next;return null!==k?k.next=H:L.head=H,null!==H?H.prev=k:L.tail=k,V.prev=V.next=null,L.length--,V},R=function(){function A(V){var L=this;(function O(A,V){if(!(A instanceof V))throw new TypeError("Cannot call a class as a function")})(this,A),this.length=0,this.head=null,this.tail=null,V?.forEach(function(k){return L.push(k)})}return P(A,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(L,k){return C(k.prev,I(L),k,this)}},{key:"insertAfter",value:function(L,k){return C(k,I(L),k.next,this)}},{key:"insertNodeBefore",value:function(L,k){return C(k.prev,L,k,this)}},{key:"insertNodeAfter",value:function(L,k){return C(k,L,k.next,this)}},{key:"push",value:function(L){return C(this.tail,I(L),null,this)}},{key:"unshift",value:function(L){return C(null,I(L),this.head,this)}},{key:"remove",value:function(L){return S(L,this)}},{key:"pop",value:function(){return S(this.tail,this).value}},{key:"popNode",value:function(){return S(this.tail,this)}},{key:"shift",value:function(){return S(this.head,this).value}},{key:"shiftNode",value:function(){return S(this.head,this)}},{key:"get_object_at",value:function(L){if(L<=this.length()){for(var k=1,H=this.head;k<L;)H=H.next,k++;return H.value}}},{key:"set_object_at",value:function(L,k){if(L<=this.length()){for(var H=1,$=this.head;H<L;)$=$.next,H++;$.value=k}}}]),A}();se.exports=R},function(se,D,T){"use strict";function P(O,I,C){this.x=null,this.y=null,null==O&&null==I&&null==C?(this.x=0,this.y=0):"number"==typeof O&&"number"==typeof I&&null==C?(this.x=O,this.y=I):"Point"==O.constructor.name&&null==I&&null==C&&(this.x=(C=O).x,this.y=C.y)}P.prototype.getX=function(){return this.x},P.prototype.getY=function(){return this.y},P.prototype.getLocation=function(){return new P(this.x,this.y)},P.prototype.setLocation=function(O,I,C){"Point"==O.constructor.name&&null==I&&null==C?this.setLocation((C=O).x,C.y):"number"==typeof O&&"number"==typeof I&&null==C&&(parseInt(O)==O&&parseInt(I)==I?this.move(O,I):(this.x=Math.floor(O+.5),this.y=Math.floor(I+.5)))},P.prototype.move=function(O,I){this.x=O,this.y=I},P.prototype.translate=function(O,I){this.x+=O,this.y+=I},P.prototype.equals=function(O){return"Point"==O.constructor.name?this.x==O.x&&this.y==O.y:this==O},P.prototype.toString=function(){return(new P).constructor.name+"[x="+this.x+",y="+this.y+"]"},se.exports=P},function(se,D,T){"use strict";function P(O,I,C,S){this.x=0,this.y=0,this.width=0,this.height=0,null!=O&&null!=I&&null!=C&&null!=S&&(this.x=O,this.y=I,this.width=C,this.height=S)}P.prototype.getX=function(){return this.x},P.prototype.setX=function(O){this.x=O},P.prototype.getY=function(){return this.y},P.prototype.setY=function(O){this.y=O},P.prototype.getWidth=function(){return this.width},P.prototype.setWidth=function(O){this.width=O},P.prototype.getHeight=function(){return this.height},P.prototype.setHeight=function(O){this.height=O},P.prototype.getRight=function(){return this.x+this.width},P.prototype.getBottom=function(){return this.y+this.height},P.prototype.intersects=function(O){return!(this.getRight()<O.x||this.getBottom()<O.y||O.getRight()<this.x||O.getBottom()<this.y)},P.prototype.getCenterX=function(){return this.x+this.width/2},P.prototype.getMinX=function(){return this.getX()},P.prototype.getMaxX=function(){return this.getX()+this.width},P.prototype.getCenterY=function(){return this.y+this.height/2},P.prototype.getMinY=function(){return this.getY()},P.prototype.getMaxY=function(){return this.getY()+this.height},P.prototype.getWidthHalf=function(){return this.width/2},P.prototype.getHeightHalf=function(){return this.height/2},se.exports=P},function(se,D,T){"use strict";var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};function O(){}O.lastID=0,O.createID=function(I){return O.isPrimitive(I)?I:(null!=I.uniqueID||(I.uniqueID=O.getString(),O.lastID++),I.uniqueID)},O.getString=function(I){return null==I&&(I=O.lastID),"Object#"+I},O.isPrimitive=function(I){var C=typeof I>"u"?"undefined":P(I);return null==I||"object"!=C&&"function"!=C},se.exports=O},function(se,D,T){"use strict";function P(H){if(Array.isArray(H)){for(var $=0,Q=Array(H.length);$<H.length;$++)Q[$]=H[$];return Q}return Array.from(H)}var O=T(0),I=T(6),C=T(3),S=T(1),R=T(5),A=T(4),V=T(17),L=T(27);function k(H){L.call(this),this.layoutQuality=O.QUALITY,this.createBendsAsNeeded=O.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=O.DEFAULT_INCREMENTAL,this.animationOnLayout=O.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=O.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=O.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=O.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new I(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=H&&(this.isRemoteUse=H)}k.RANDOM_SEED=1,(k.prototype=Object.create(L.prototype)).getGraphManager=function(){return this.graphManager},k.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},k.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},k.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},k.prototype.newGraphManager=function(){var H=new I(this);return this.graphManager=H,H},k.prototype.newGraph=function(H){return new R(null,this.graphManager,H)},k.prototype.newNode=function(H){return new C(this.graphManager,H)},k.prototype.newEdge=function(H){return new S(null,null,H)},k.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},k.prototype.runLayout=function(){var H;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),H=!this.checkLayoutSuccess()&&this.layout(),"during"!==O.ANIMATE&&(H&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,H)},k.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},k.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var $=this.graphManager.getAllEdges(),Q=0;Q<$.length;Q++);var ne=this.graphManager.getRoot().getNodes();for(Q=0;Q<ne.length;Q++);this.update(this.graphManager.getRoot())}},k.prototype.update=function(H){if(null==H)this.update2();else if(H instanceof C){var $=H;if(null!=$.getChild())for(var Q=$.getChild().getNodes(),ue=0;ue<Q.length;ue++)update(Q[ue]);null!=$.vGraphObject&&$.vGraphObject.update($)}else H instanceof S?null!=H.vGraphObject&&H.vGraphObject.update(H):H instanceof R&&null!=H.vGraphObject&&H.vGraphObject.update(H)},k.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=O.QUALITY,this.animationDuringLayout=O.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=O.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=O.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=O.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=O.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=O.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},k.prototype.transform=function(H){if(null==H)this.transform(new A(0,0));else{var $=new V,Q=this.graphManager.getRoot().updateLeftTop();if(null!=Q){$.setWorldOrgX(H.x),$.setWorldOrgY(H.y),$.setDeviceOrgX(Q.x),$.setDeviceOrgY(Q.y);for(var ue=this.getAllNodes(),le=0;le<ue.length;le++)ue[le].transform($)}}},k.prototype.positionNodesRandomly=function(H){if(null==H)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var $,Q,ue=H.getNodes(),ne=0;ne<ue.length;ne++)null==(Q=($=ue[ne]).getChild())||0==Q.getNodes().length?$.scatter():(this.positionNodesRandomly(Q),$.updateBounds())},k.prototype.getFlatForest=function(){for(var H=[],$=!0,Q=this.graphManager.getRoot().getNodes(),ue=!0,ne=0;ne<Q.length;ne++)null!=Q[ne].getChild()&&(ue=!1);if(!ue)return H;var le=new Set,ae=[],de=new Map,te=[];for(te=te.concat(Q);te.length>0&&$;){for(ae.push(te[0]);ae.length>0&&$;){var pe=ae[0];ae.splice(0,1),le.add(pe);var Z=pe.getEdges();for(ne=0;ne<Z.length;ne++){var oe=Z[ne].getOtherEnd(pe);if(de.get(pe)!=oe){if(le.has(oe)){$=!1;break}ae.push(oe),de.set(oe,pe)}}}if($){var ie=[].concat(P(le));for(H.push(ie),ne=0;ne<ie.length;ne++){var _e=te.indexOf(ie[ne]);_e>-1&&te.splice(_e,1)}le=new Set,de=new Map}else H=[]}return H},k.prototype.createDummyNodesForBendpoints=function(H){for(var $=[],Q=H.source,ue=this.graphManager.calcLowestCommonAncestor(H.source,H.target),ne=0;ne<H.bendpoints.length;ne++){var le=this.newNode(null);le.setRect(new Point(0,0),new Dimension(1,1)),ue.add(le);var ae=this.newEdge(null);this.graphManager.add(ae,Q,le),$.add(le),Q=le}return ae=this.newEdge(null),this.graphManager.add(ae,Q,H.target),this.edgeToDummyNodes.set(H,$),H.isInterGraph()?this.graphManager.remove(H):ue.remove(H),$},k.prototype.createBendpointsFromDummyNodes=function(){var H=[];H=H.concat(this.graphManager.getAllEdges()),H=[].concat(P(this.edgeToDummyNodes.keys())).concat(H);for(var $=0;$<H.length;$++){var Q=H[$];if(Q.bendpoints.length>0){for(var ue=this.edgeToDummyNodes.get(Q),ne=0;ne<ue.length;ne++){var le=ue[ne],ae=new A(le.getCenterX(),le.getCenterY()),de=Q.bendpoints.get(ne);de.x=ae.x,de.y=ae.y,le.getOwner().remove(le)}this.graphManager.add(Q,Q.source,Q.target)}}},k.transform=function(H,$,Q,ue){if(null!=Q&&null!=ue){var ne=$;return H<=50?ne-=($-$/Q)/50*(50-H):ne+=($*ue-$)/50*(H-50),ne}var de,te;return H<=50?(de=9*$/500,te=$/10):(de=9*$/50,te=-8*$),de*H+te},k.findCenterOfTree=function(H){var $=[];$=$.concat(H);var Q=[],ue=new Map,ne=!1,le=null;(1==$.length||2==$.length)&&(ne=!0,le=$[0]);for(var ae=0;ae<$.length;ae++){var te=(de=$[ae]).getNeighborsList().size;ue.set(de,de.getNeighborsList().size),1==te&&Q.push(de)}var pe=[];for(pe=pe.concat(Q);!ne;){var Z=[];for(Z=Z.concat(pe),pe=[],ae=0;ae<$.length;ae++){var de,oe=$.indexOf(de=$[ae]);oe>=0&&$.splice(oe,1),de.getNeighborsList().forEach(function(Te){if(Q.indexOf(Te)<0){var ze=ue.get(Te)-1;1==ze&&pe.push(Te),ue.set(Te,ze)}})}Q=Q.concat(pe),(1==$.length||2==$.length)&&(ne=!0,le=$[0])}return le},k.prototype.setGraphManager=function(H){this.graphManager=H},se.exports=k},function(se,D,T){"use strict";function P(){}P.seed=1,P.x=0,P.nextDouble=function(){return(P.x=1e4*Math.sin(P.seed++))-Math.floor(P.x)},se.exports=P},function(se,D,T){"use strict";var P=T(4);function O(I,C){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}O.prototype.getWorldOrgX=function(){return this.lworldOrgX},O.prototype.setWorldOrgX=function(I){this.lworldOrgX=I},O.prototype.getWorldOrgY=function(){return this.lworldOrgY},O.prototype.setWorldOrgY=function(I){this.lworldOrgY=I},O.prototype.getWorldExtX=function(){return this.lworldExtX},O.prototype.setWorldExtX=function(I){this.lworldExtX=I},O.prototype.getWorldExtY=function(){return this.lworldExtY},O.prototype.setWorldExtY=function(I){this.lworldExtY=I},O.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},O.prototype.setDeviceOrgX=function(I){this.ldeviceOrgX=I},O.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},O.prototype.setDeviceOrgY=function(I){this.ldeviceOrgY=I},O.prototype.getDeviceExtX=function(){return this.ldeviceExtX},O.prototype.setDeviceExtX=function(I){this.ldeviceExtX=I},O.prototype.getDeviceExtY=function(){return this.ldeviceExtY},O.prototype.setDeviceExtY=function(I){this.ldeviceExtY=I},O.prototype.transformX=function(I){var C=0,S=this.lworldExtX;return 0!=S&&(C=this.ldeviceOrgX+(I-this.lworldOrgX)*this.ldeviceExtX/S),C},O.prototype.transformY=function(I){var C=0,S=this.lworldExtY;return 0!=S&&(C=this.ldeviceOrgY+(I-this.lworldOrgY)*this.ldeviceExtY/S),C},O.prototype.inverseTransformX=function(I){var C=0,S=this.ldeviceExtX;return 0!=S&&(C=this.lworldOrgX+(I-this.ldeviceOrgX)*this.lworldExtX/S),C},O.prototype.inverseTransformY=function(I){var C=0,S=this.ldeviceExtY;return 0!=S&&(C=this.lworldOrgY+(I-this.ldeviceOrgY)*this.lworldExtY/S),C},O.prototype.inverseTransformPoint=function(I){return new P(this.inverseTransformX(I.x),this.inverseTransformY(I.y))},se.exports=O},function(se,D,T){"use strict";var O=T(15),I=T(7),C=T(0),S=T(8),R=T(9);function A(){O.call(this),this.useSmartIdealEdgeLengthCalculation=I.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=I.DEFAULT_EDGE_LENGTH,this.springConstant=I.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=I.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=I.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=I.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=I.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=I.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*I.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=I.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=I.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=I.MAX_ITERATIONS}for(var V in A.prototype=Object.create(O.prototype),O)A[V]=O[V];A.prototype.initParameters=function(){O.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=I.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},A.prototype.calcIdealEdgeLengths=function(){for(var L,k,H,$,Q,ue,ne=this.getGraphManager().getAllEdges(),le=0;le<ne.length;le++)(L=ne[le]).idealLength=this.idealEdgeLength,L.isInterGraph&&(H=L.getSource(),$=L.getTarget(),Q=L.getSourceInLca().getEstimatedSize(),ue=L.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(L.idealLength+=Q+ue-2*C.SIMPLE_NODE_SIZE),k=L.getLca().getInclusionTreeDepth(),L.idealLength+=I.DEFAULT_EDGE_LENGTH*I.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(H.getInclusionTreeDepth()+$.getInclusionTreeDepth()-2*k))},A.prototype.initSpringEmbedder=function(){var L=this.getAllNodes().length;this.incremental?(L>I.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*I.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(L-I.ADAPTATION_LOWER_NODE_LIMIT)/(I.ADAPTATION_UPPER_NODE_LIMIT-I.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-I.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=I.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.coolingFactor=L>I.ADAPTATION_LOWER_NODE_LIMIT?Math.max(I.COOLING_ADAPTATION_FACTOR,1-(L-I.ADAPTATION_LOWER_NODE_LIMIT)/(I.ADAPTATION_UPPER_NODE_LIMIT-I.ADAPTATION_LOWER_NODE_LIMIT)*(1-I.COOLING_ADAPTATION_FACTOR)):1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=I.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},A.prototype.calcSpringForces=function(){for(var k,L=this.getAllEdges(),H=0;H<L.length;H++)this.calcSpringForce(k=L[H],k.idealLength)},A.prototype.calcRepulsionForces=function(){var H,$,Q,ue,le,L=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],k=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ne=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%I.GRID_CALCULATION_CHECK_PERIOD==1&&L&&this.updateGrid(),le=new Set,H=0;H<ne.length;H++)this.calculateRepulsionForceOfANode(Q=ne[H],le,L,k),le.add(Q);else for(H=0;H<ne.length;H++)for(Q=ne[H],$=H+1;$<ne.length;$++)ue=ne[$],Q.getOwner()==ue.getOwner()&&this.calcRepulsionForce(Q,ue)},A.prototype.calcGravitationalForces=function(){for(var k=this.getAllNodesToApplyGravitation(),H=0;H<k.length;H++)this.calcGravitationalForce(k[H])},A.prototype.moveNodes=function(){for(var L=this.getAllNodes(),H=0;H<L.length;H++)L[H].move()},A.prototype.calcSpringForce=function(L,k){var Q,ue,ne,le,H=L.getSource(),$=L.getTarget();if(this.uniformLeafNodeSizes&&null==H.getChild()&&null==$.getChild())L.updateLengthSimple();else if(L.updateLength(),L.isOverlapingSourceAndTarget)return;0!=(Q=L.getLength())&&(le=(ue=this.springConstant*(Q-k))*(L.lengthY/Q),H.springForceX+=ne=ue*(L.lengthX/Q),H.springForceY+=le,$.springForceX-=ne,$.springForceY-=le)},A.prototype.calcRepulsionForce=function(L,k){var ne,le,ae,de,te,pe,Z,H=L.getRect(),$=k.getRect(),Q=new Array(2),ue=new Array(4);if(H.intersects($)){S.calcSeparationAmount(H,$,Q,I.DEFAULT_EDGE_LENGTH/2),Z=2*Q[1];var oe=L.noOfChildren*k.noOfChildren/(L.noOfChildren+k.noOfChildren);L.repulsionForceX-=oe*(pe=2*Q[0]),L.repulsionForceY-=oe*Z,k.repulsionForceX+=oe*pe,k.repulsionForceY+=oe*Z}else this.uniformLeafNodeSizes&&null==L.getChild()&&null==k.getChild()?(ne=$.getCenterX()-H.getCenterX(),le=$.getCenterY()-H.getCenterY()):(S.getIntersection(H,$,ue),ne=ue[2]-ue[0],le=ue[3]-ue[1]),Math.abs(ne)<I.MIN_REPULSION_DIST&&(ne=R.sign(ne)*I.MIN_REPULSION_DIST),Math.abs(le)<I.MIN_REPULSION_DIST&&(le=R.sign(le)*I.MIN_REPULSION_DIST),ae=ne*ne+le*le,de=Math.sqrt(ae),Z=(te=this.repulsionConstant*L.noOfChildren*k.noOfChildren/ae)*le/de,L.repulsionForceX-=pe=te*ne/de,L.repulsionForceY-=Z,k.repulsionForceX+=pe,k.repulsionForceY+=Z},A.prototype.calcGravitationalForce=function(L){var k,H,$,Q,ue,ne,le,ae;H=((k=L.getOwner()).getRight()+k.getLeft())/2,$=(k.getTop()+k.getBottom())/2,Q=L.getCenterX()-H,ue=L.getCenterY()-$,ne=Math.abs(Q)+L.getWidth()/2,le=Math.abs(ue)+L.getHeight()/2,L.getOwner()==this.graphManager.getRoot()?(ne>(ae=k.getEstimatedSize()*this.gravityRangeFactor)||le>ae)&&(L.gravitationForceX=-this.gravityConstant*Q,L.gravitationForceY=-this.gravityConstant*ue):(ne>(ae=k.getEstimatedSize()*this.compoundGravityRangeFactor)||le>ae)&&(L.gravitationForceX=-this.gravityConstant*Q*this.compoundGravityConstant,L.gravitationForceY=-this.gravityConstant*ue*this.compoundGravityConstant)},A.prototype.isConverged=function(){var L,k=!1;return this.totalIterations>this.maxIterations/3&&(k=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),L=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,L||k},A.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},A.prototype.calcNoOfChildrenForAllNodes=function(){for(var L,k=this.graphManager.getAllNodes(),H=0;H<k.length;H++)(L=k[H]).noOfChildren=L.getNoOfChildren()},A.prototype.calcGrid=function(L){var k,H;k=parseInt(Math.ceil((L.getRight()-L.getLeft())/this.repulsionRange)),H=parseInt(Math.ceil((L.getBottom()-L.getTop())/this.repulsionRange));for(var $=new Array(k),Q=0;Q<k;Q++)$[Q]=new Array(H);for(Q=0;Q<k;Q++)for(var ue=0;ue<H;ue++)$[Q][ue]=new Array;return $},A.prototype.addNodeToGrid=function(L,k,H){var $,Q,ue,ne;$=parseInt(Math.floor((L.getRect().x-k)/this.repulsionRange)),Q=parseInt(Math.floor((L.getRect().width+L.getRect().x-k)/this.repulsionRange)),ue=parseInt(Math.floor((L.getRect().y-H)/this.repulsionRange)),ne=parseInt(Math.floor((L.getRect().height+L.getRect().y-H)/this.repulsionRange));for(var le=$;le<=Q;le++)for(var ae=ue;ae<=ne;ae++)this.grid[le][ae].push(L),L.setGridCoordinates($,Q,ue,ne)},A.prototype.updateGrid=function(){var L,H=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),L=0;L<H.length;L++)this.addNodeToGrid(H[L],this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},A.prototype.calculateRepulsionForceOfANode=function(L,k,H,$){if(this.totalIterations%I.GRID_CALCULATION_CHECK_PERIOD==1&&H||$){var Q=new Set;L.surrounding=new Array;for(var ue,ne=this.grid,le=L.startX-1;le<L.finishX+2;le++)for(var ae=L.startY-1;ae<L.finishY+2;ae++)if(!(le<0||ae<0||le>=ne.length||ae>=ne[0].length))for(var de=0;de<ne[le][ae].length;de++)if(ue=ne[le][ae][de],L.getOwner()==ue.getOwner()&&L!=ue&&!k.has(ue)&&!Q.has(ue)){var te=Math.abs(L.getCenterX()-ue.getCenterX())-(L.getWidth()/2+ue.getWidth()/2),pe=Math.abs(L.getCenterY()-ue.getCenterY())-(L.getHeight()/2+ue.getHeight()/2);te<=this.repulsionRange&&pe<=this.repulsionRange&&Q.add(ue)}L.surrounding=[].concat(function P(L){if(Array.isArray(L)){for(var k=0,H=Array(L.length);k<L.length;k++)H[k]=L[k];return H}return Array.from(L)}(Q))}for(le=0;le<L.surrounding.length;le++)this.calcRepulsionForce(L,L.surrounding[le])},A.prototype.calcRepulsionRange=function(){return 0},se.exports=A},function(se,D,T){"use strict";var P=T(1),O=T(7);function I(S,R,A){P.call(this,S,R,A),this.idealLength=O.DEFAULT_EDGE_LENGTH}for(var C in I.prototype=Object.create(P.prototype),P)I[C]=P[C];se.exports=I},function(se,D,T){"use strict";var P=T(3);function O(C,S,R,A){P.call(this,C,S,R,A),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var I in O.prototype=Object.create(P.prototype),P)O[I]=P[I];O.prototype.setGridCoordinates=function(C,S,R,A){this.startX=C,this.finishX=S,this.startY=R,this.finishY=A},se.exports=O},function(se,D,T){"use strict";function P(O,I){this.width=0,this.height=0,null!==O&&null!==I&&(this.height=I,this.width=O)}P.prototype.getWidth=function(){return this.width},P.prototype.setWidth=function(O){this.width=O},P.prototype.getHeight=function(){return this.height},P.prototype.setHeight=function(O){this.height=O},se.exports=P},function(se,D,T){"use strict";var P=T(14);function O(){this.map={},this.keys=[]}O.prototype.put=function(I,C){var S=P.createID(I);this.contains(S)||(this.map[S]=C,this.keys.push(I))},O.prototype.contains=function(I){return P.createID(I),null!=this.map[I]},O.prototype.get=function(I){var C=P.createID(I);return this.map[C]},O.prototype.keySet=function(){return this.keys},se.exports=O},function(se,D,T){"use strict";var P=T(14);function O(){this.set={}}O.prototype.add=function(I){var C=P.createID(I);this.contains(C)||(this.set[C]=I)},O.prototype.remove=function(I){delete this.set[P.createID(I)]},O.prototype.clear=function(){this.set={}},O.prototype.contains=function(I){return this.set[P.createID(I)]==I},O.prototype.isEmpty=function(){return 0===this.size()},O.prototype.size=function(){return Object.keys(this.set).length},O.prototype.addAllTo=function(I){for(var C=Object.keys(this.set),S=C.length,R=0;R<S;R++)I.push(this.set[C[R]])},O.prototype.size=function(){return Object.keys(this.set).length},O.prototype.addAll=function(I){for(var C=I.length,S=0;S<C;S++)this.add(I[S])},se.exports=O},function(se,D,T){"use strict";var P=function(){function S(R,A){for(var V=0;V<A.length;V++){var L=A[V];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,L.key,L)}}return function(R,A,V){return A&&S(R.prototype,A),V&&S(R,V),R}}();var I=T(11),C=function(){function S(R,A){(function O(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")})(this,S),(null!==A||void 0!==A)&&(this.compareFunction=this._defaultCompareFunction);var V;V=R instanceof I?R.size():R.length,this._quicksort(R,0,V-1)}return P(S,[{key:"_quicksort",value:function(A,V,L){if(V<L){var k=this._partition(A,V,L);this._quicksort(A,V,k),this._quicksort(A,k+1,L)}}},{key:"_partition",value:function(A,V,L){for(var k=this._get(A,V),H=V,$=L;;){for(;this.compareFunction(k,this._get(A,$));)$--;for(;this.compareFunction(this._get(A,H),k);)H++;if(!(H<$))return $;this._swap(A,H,$),H++,$--}}},{key:"_get",value:function(A,V){return A instanceof I?A.get_object_at(V):A[V]}},{key:"_set",value:function(A,V,L){A instanceof I?A.set_object_at(V,L):A[V]=L}},{key:"_swap",value:function(A,V,L){var k=this._get(A,V);this._set(A,V,this._get(A,L)),this._set(A,L,k)}},{key:"_defaultCompareFunction",value:function(A,V){return V>A}}]),S}();se.exports=C},function(se,D,T){"use strict";var P=function(){function C(S,R){for(var A=0;A<R.length;A++){var V=R[A];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,V.key,V)}}return function(S,R,A){return R&&C(S.prototype,R),A&&C(S,A),S}}();var I=function(){function C(S,R){var A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,L=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;(function O(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")})(this,C),this.sequence1=S,this.sequence2=R,this.match_score=A,this.mismatch_penalty=V,this.gap_penalty=L,this.iMax=S.length+1,this.jMax=R.length+1,this.grid=new Array(this.iMax);for(var k=0;k<this.iMax;k++){this.grid[k]=new Array(this.jMax);for(var H=0;H<this.jMax;H++)this.grid[k][H]=0}this.tracebackGrid=new Array(this.iMax);for(var $=0;$<this.iMax;$++){this.tracebackGrid[$]=new Array(this.jMax);for(var Q=0;Q<this.jMax;Q++)this.tracebackGrid[$][Q]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return P(C,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var R=1;R<this.jMax;R++)this.grid[0][R]=this.grid[0][R-1]+this.gap_penalty,this.tracebackGrid[0][R]=[!1,!1,!0];for(var A=1;A<this.iMax;A++)this.grid[A][0]=this.grid[A-1][0]+this.gap_penalty,this.tracebackGrid[A][0]=[!1,!0,!1];for(var V=1;V<this.iMax;V++)for(var L=1;L<this.jMax;L++){var Q=[this.sequence1[V-1]===this.sequence2[L-1]?this.grid[V-1][L-1]+this.match_score:this.grid[V-1][L-1]+this.mismatch_penalty,this.grid[V-1][L]+this.gap_penalty,this.grid[V][L-1]+this.gap_penalty],ue=this.arrayAllMaxIndexes(Q);this.grid[V][L]=Q[ue[0]],this.tracebackGrid[V][L]=[ue.includes(0),ue.includes(1),ue.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var R=[];for(R.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});R[0];){var A=R[0],V=this.tracebackGrid[A.pos[0]][A.pos[1]];V[0]&&R.push({pos:[A.pos[0]-1,A.pos[1]-1],seq1:this.sequence1[A.pos[0]-1]+A.seq1,seq2:this.sequence2[A.pos[1]-1]+A.seq2}),V[1]&&R.push({pos:[A.pos[0]-1,A.pos[1]],seq1:this.sequence1[A.pos[0]-1]+A.seq1,seq2:"-"+A.seq2}),V[2]&&R.push({pos:[A.pos[0],A.pos[1]-1],seq1:"-"+A.seq1,seq2:this.sequence2[A.pos[1]-1]+A.seq2}),0===A.pos[0]&&0===A.pos[1]&&this.alignments.push({sequence1:A.seq1,sequence2:A.seq2}),R.shift()}return this.alignments}},{key:"getAllIndexes",value:function(R,A){for(var V=[],L=-1;-1!==(L=R.indexOf(A,L+1));)V.push(L);return V}},{key:"arrayAllMaxIndexes",value:function(R){return this.getAllIndexes(R,Math.max.apply(null,R))}}]),C}();se.exports=I},function(se,D,T){"use strict";var P=function(){};P.FDLayout=T(18),P.FDLayoutConstants=T(7),P.FDLayoutEdge=T(19),P.FDLayoutNode=T(20),P.DimensionD=T(21),P.HashMap=T(22),P.HashSet=T(23),P.IGeometry=T(8),P.IMath=T(9),P.Integer=T(10),P.Point=T(12),P.PointD=T(4),P.RandomSeed=T(16),P.RectangleD=T(13),P.Transform=T(17),P.UniqueIDGeneretor=T(14),P.Quicksort=T(24),P.LinkedList=T(11),P.LGraphObject=T(2),P.LGraph=T(5),P.LEdge=T(1),P.LGraphManager=T(6),P.LNode=T(3),P.Layout=T(15),P.LayoutConstants=T(0),P.NeedlemanWunsch=T(25),se.exports=P},function(se,D,T){"use strict";function P(){this.listeners=[]}var O=P.prototype;O.addListener=function(I,C){this.listeners.push({event:I,callback:C})},O.removeListener=function(I,C){for(var S=this.listeners.length;S>=0;S--){var R=this.listeners[S];R.event===I&&R.callback===C&&this.listeners.splice(S,1)}},O.emit=function(I,C){for(var S=0;S<this.listeners.length;S++){var R=this.listeners[S];I===R.event&&R.callback(C)}},se.exports=P}])},6506:(Y,se,D)=>{var O=D(8745)(D(8492),"DataView");Y.exports=O},9618:(Y,se,D)=>{var T=D(5602),P=D(1499),O=D(2990),I=D(480),C=D(4469);function S(R){var A=-1,V=null==R?0:R.length;for(this.clear();++A<V;){var L=R[A];this.set(L[0],L[1])}}S.prototype.clear=T,S.prototype.delete=P,S.prototype.get=O,S.prototype.has=I,S.prototype.set=C,Y.exports=S},3597:(Y,se,D)=>{var T=D(9365),P=D(9343),O=D(4779),I=D(1509),C=D(7137);function S(R){var A=-1,V=null==R?0:R.length;for(this.clear();++A<V;){var L=R[A];this.set(L[0],L[1])}}S.prototype.clear=T,S.prototype.delete=P,S.prototype.get=O,S.prototype.has=I,S.prototype.set=C,Y.exports=S},1136:(Y,se,D)=>{var O=D(8745)(D(8492),"Map");Y.exports=O},1811:(Y,se,D)=>{var T=D(3413),P=D(5419),O=D(7336),I=D(1115),C=D(6648);function S(R){var A=-1,V=null==R?0:R.length;for(this.clear();++A<V;){var L=R[A];this.set(L[0],L[1])}}S.prototype.clear=T,S.prototype.delete=P,S.prototype.get=O,S.prototype.has=I,S.prototype.set=C,Y.exports=S},641:(Y,se,D)=>{var O=D(8745)(D(8492),"Promise");Y.exports=O},1732:(Y,se,D)=>{var O=D(8745)(D(8492),"Set");Y.exports=O},5960:(Y,se,D)=>{var T=D(1811),P=D(6151),O=D(2154);function I(C){var S=-1,R=null==C?0:C.length;for(this.__data__=new T;++S<R;)this.add(C[S])}I.prototype.add=I.prototype.push=P,I.prototype.has=O,Y.exports=I},1339:(Y,se,D)=>{var T=D(3597),P=D(9488),O=D(5943),I=D(5456),C=D(4793),S=D(8689);function R(A){var V=this.__data__=new T(A);this.size=V.size}R.prototype.clear=P,R.prototype.delete=O,R.prototype.get=I,R.prototype.has=C,R.prototype.set=S,Y.exports=R},1763:(Y,se,D)=>{var T=D(8492);Y.exports=T.Symbol},2760:(Y,se,D)=>{var T=D(8492);Y.exports=T.Uint8Array},6413:(Y,se,D)=>{var O=D(8745)(D(8492),"WeakMap");Y.exports=O},7910:Y=>{Y.exports=function se(D,T,P){switch(P.length){case 0:return D.call(T);case 1:return D.call(T,P[0]);case 2:return D.call(T,P[0],P[1]);case 3:return D.call(T,P[0],P[1],P[2])}return D.apply(T,P)}},7772:Y=>{Y.exports=function se(D,T){for(var P=-1,O=null==D?0:D.length;++P<O&&!1!==T(D[P],P,D););return D}},2134:Y=>{Y.exports=function se(D,T){for(var P=-1,O=null==D?0:D.length,I=0,C=[];++P<O;){var S=D[P];T(S,P,D)&&(C[I++]=S)}return C}},8750:(Y,se,D)=>{var T=D(9568);Y.exports=function P(O,I){return!(null==O||!O.length)&&T(O,I,0)>-1}},6736:Y=>{Y.exports=function se(D,T,P){for(var O=-1,I=null==D?0:D.length;++O<I;)if(P(T,D[O]))return!0;return!1}},1384:(Y,se,D)=>{var T=D(5025),P=D(1955),O=D(2261),I=D(7525),C=D(5188),S=D(4868),A=Object.prototype.hasOwnProperty;Y.exports=function V(L,k){var H=O(L),$=!H&&P(L),Q=!H&&!$&&I(L),ue=!H&&!$&&!Q&&S(L),ne=H||$||Q||ue,le=ne?T(L.length,String):[],ae=le.length;for(var de in L)(k||A.call(L,de))&&(!ne||!("length"==de||Q&&("offset"==de||"parent"==de)||ue&&("buffer"==de||"byteLength"==de||"byteOffset"==de)||C(de,ae)))&&le.push(de);return le}},3880:Y=>{Y.exports=function se(D,T){for(var P=-1,O=null==D?0:D.length,I=Array(O);++P<O;)I[P]=T(D[P],P,D);return I}},7853:Y=>{Y.exports=function se(D,T){for(var P=-1,O=T.length,I=D.length;++P<O;)D[I+P]=T[P];return D}},9850:Y=>{Y.exports=function se(D,T,P,O){var I=-1,C=null==D?0:D.length;for(O&&C&&(P=D[++I]);++I<C;)P=T(P,D[I],I,D);return P}},5916:Y=>{Y.exports=function se(D,T){for(var P=-1,O=null==D?0:D.length;++P<O;)if(T(D[P],P,D))return!0;return!1}},6181:(Y,se,D)=>{var P=D(3400)("length");Y.exports=P},6697:(Y,se,D)=>{var T=D(1741),P=D(7826);Y.exports=function O(I,C,S){(void 0!==S&&!P(I[C],S)||void 0===S&&!(C in I))&&T(I,C,S)}},9553:(Y,se,D)=>{var T=D(1741),P=D(7826),I=Object.prototype.hasOwnProperty;Y.exports=function C(S,R,A){var V=S[R];(!I.call(S,R)||!P(V,A)||void 0===A&&!(R in S))&&T(S,R,A)}},4056:(Y,se,D)=>{var T=D(7826);Y.exports=function P(O,I){for(var C=O.length;C--;)if(T(O[C][0],I))return C;return-1}},6234:(Y,se,D)=>{var T=D(5931),P=D(4614);Y.exports=function O(I,C){return I&&T(C,P(C),I)}},4431:(Y,se,D)=>{var T=D(5931),P=D(6402);Y.exports=function O(I,C){return I&&T(C,P(C),I)}},1741:(Y,se,D)=>{var T=D(9383);Y.exports=function P(O,I,C){"__proto__"==I&&T?T(O,I,{configurable:!0,enumerable:!0,value:C,writable:!0}):O[I]=C}},1320:(Y,se,D)=>{var T=D(1339),P=D(7772),O=D(9553),I=D(6234),C=D(4431),S=D(6002),R=D(4231),A=D(9385),V=D(4354),L=D(6131),k=D(2442),H=D(2472),$=D(9431),Q=D(514),ue=D(9225),ne=D(2261),le=D(7525),ae=D(990),de=D(9794),te=D(8611),pe=D(4614),Z=D(6402),_e="[object Arguments]",at="[object Function]",Ze="[object Object]",zn={};zn[_e]=zn["[object Array]"]=zn["[object ArrayBuffer]"]=zn["[object DataView]"]=zn["[object Boolean]"]=zn["[object Date]"]=zn["[object Float32Array]"]=zn["[object Float64Array]"]=zn["[object Int8Array]"]=zn["[object Int16Array]"]=zn["[object Int32Array]"]=zn["[object Map]"]=zn["[object Number]"]=zn[Ze]=zn["[object RegExp]"]=zn["[object Set]"]=zn["[object String]"]=zn["[object Symbol]"]=zn["[object Uint8Array]"]=zn["[object Uint8ClampedArray]"]=zn["[object Uint16Array]"]=zn["[object Uint32Array]"]=!0,zn["[object Error]"]=zn[at]=zn["[object WeakMap]"]=!1,Y.exports=function Xr(dn,Ri,ro,Fi,Bi,jr){var Ki,ja=1&Ri,Ts=2&Ri,Nn=4&Ri;if(ro&&(Ki=Bi?ro(dn,Fi,Bi,jr):ro(dn)),void 0!==Ki)return Ki;if(!de(dn))return dn;var Hl=ne(dn);if(Hl){if(Ki=$(dn),!ja)return R(dn,Ki)}else{var Yo=H(dn),Xo=Yo==at||"[object GeneratorFunction]"==Yo;if(le(dn))return S(dn,ja);if(Yo==Ze||Yo==_e||Xo&&!Bi){if(Ki=Ts||Xo?{}:ue(dn),!ja)return Ts?V(dn,C(Ki,dn)):A(dn,I(Ki,dn))}else{if(!zn[Yo])return Bi?dn:{};Ki=Q(dn,Yo,ja)}}jr||(jr=new T);var fl=jr.get(dn);if(fl)return fl;jr.set(dn,Ki),te(dn)?dn.forEach(function(xn){Ki.add(Xr(xn,Ri,ro,xn,dn,jr))}):ae(dn)&&dn.forEach(function(xn,va){Ki.set(va,Xr(xn,Ri,ro,va,dn,jr))});var Ms=Hl?void 0:(Nn?Ts?k:L:Ts?Z:pe)(dn);return P(Ms||dn,function(xn,va){Ms&&(xn=dn[va=xn]),O(Ki,va,Xr(xn,Ri,ro,va,dn,jr))}),Ki}},1391:(Y,se,D)=>{var T=D(9794),P=Object.create,O=function(){function I(){}return function(C){if(!T(C))return{};if(P)return P(C);I.prototype=C;var S=new I;return I.prototype=void 0,S}}();Y.exports=O},5103:(Y,se,D)=>{var T=D(7794),O=D(9386)(T);Y.exports=O},4530:(Y,se,D)=>{var T=D(3423);Y.exports=function P(O,I,C){for(var S=-1,R=O.length;++S<R;){var A=O[S],V=I(A);if(null!=V&&(void 0===L?V==V&&!T(V):C(V,L)))var L=V,k=A}return k}},1892:(Y,se,D)=>{var T=D(5103);Y.exports=function P(O,I){var C=[];return T(O,function(S,R,A){I(S,R,A)&&C.push(S)}),C}},4051:Y=>{Y.exports=function se(D,T,P,O){for(var I=D.length,C=P+(O?1:-1);O?C--:++C<I;)if(T(D[C],C,D))return C;return-1}},1883:(Y,se,D)=>{var T=D(7853),P=D(2241);Y.exports=function O(I,C,S,R,A){var V=-1,L=I.length;for(S||(S=P),A||(A=[]);++V<L;){var k=I[V];C>0&&S(k)?C>1?O(k,C-1,S,R,A):T(A,k):R||(A[A.length]=k)}return A}},6483:(Y,se,D)=>{var P=D(2086)();Y.exports=P},7794:(Y,se,D)=>{var T=D(6483),P=D(4614);Y.exports=function O(I,C){return I&&T(I,C,P)}},2202:(Y,se,D)=>{var T=D(4826),P=D(8916);Y.exports=function O(I,C){for(var S=0,R=(C=T(C,I)).length;null!=I&&S<R;)I=I[P(C[S++])];return S&&S==R?I:void 0}},7427:(Y,se,D)=>{var T=D(7853),P=D(2261);Y.exports=function O(I,C,S){var R=C(I);return P(I)?R:T(R,S(I))}},4590:(Y,se,D)=>{var T=D(1763),P=D(5933),O=D(9243),S=T?T.toStringTag:void 0;Y.exports=function R(A){return null==A?void 0===A?"[object Undefined]":"[object Null]":S&&S in Object(A)?P(A):O(A)}},8444:Y=>{Y.exports=function se(D,T){return D>T}},4493:Y=>{var D=Object.prototype.hasOwnProperty;Y.exports=function T(P,O){return null!=P&&D.call(P,O)}},3274:Y=>{Y.exports=function se(D,T){return null!=D&&T in Object(D)}},9568:(Y,se,D)=>{var T=D(4051),P=D(1817),O=D(2528);Y.exports=function I(C,S,R){return S==S?O(C,S,R):T(C,P,R)}},3022:(Y,se,D)=>{var T=D(4590),P=D(3714);Y.exports=function I(C){return P(C)&&"[object Arguments]"==T(C)}},7108:(Y,se,D)=>{var T=D(7946),P=D(3714);Y.exports=function O(I,C,S,R,A){return I===C||(null==I||null==C||!P(I)&&!P(C)?I!=I&&C!=C:T(I,C,S,R,O,A))}},7946:(Y,se,D)=>{var T=D(1339),P=D(7469),O=D(1642),I=D(9462),C=D(2472),S=D(2261),R=D(7525),A=D(4868),L="[object Arguments]",k="[object Array]",H="[object Object]",Q=Object.prototype.hasOwnProperty;Y.exports=function ue(ne,le,ae,de,te,pe){var Z=S(ne),oe=S(le),ie=Z?k:C(ne),me=oe?k:C(le),_e=(ie=ie==L?H:ie)==H,Te=(me=me==L?H:me)==H,De=ie==me;if(De&&R(ne)){if(!R(le))return!1;Z=!0,_e=!1}if(De&&!_e)return pe||(pe=new T),Z||A(ne)?P(ne,le,ae,de,te,pe):O(ne,le,ie,ae,de,te,pe);if(!(1&ae)){var ze=_e&&Q.call(ne,"__wrapped__"),Be=Te&&Q.call(le,"__wrapped__");if(ze||Be){var at=ze?ne.value():ne,ht=Be?le.value():le;return pe||(pe=new T),te(at,ht,ae,de,pe)}}return!!De&&(pe||(pe=new T),I(ne,le,ae,de,te,pe))}},8562:(Y,se,D)=>{var T=D(2472),P=D(3714);Y.exports=function I(C){return P(C)&&"[object Map]"==T(C)}},2527:(Y,se,D)=>{var T=D(1339),P=D(7108);Y.exports=function C(S,R,A,V){var L=A.length,k=L,H=!V;if(null==S)return!k;for(S=Object(S);L--;){var $=A[L];if(H&&$[2]?$[1]!==S[$[0]]:!($[0]in S))return!1}for(;++L<k;){var Q=($=A[L])[0],ue=S[Q],ne=$[1];if(H&&$[2]){if(void 0===ue&&!(Q in S))return!1}else{var le=new T;if(V)var ae=V(ue,ne,Q,S,R,le);if(!(void 0===ae?P(ne,ue,3,V,le):ae))return!1}}return!0}},1817:Y=>{Y.exports=function se(D){return D!=D}},1082:(Y,se,D)=>{var T=D(6861),P=D(9950),O=D(9794),I=D(7075),S=/^\[object .+?Constructor\]$/,k=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");Y.exports=function H($){return!(!O($)||P($))&&(T($)?k:S).test(I($))}},1202:(Y,se,D)=>{var T=D(2472),P=D(3714);Y.exports=function I(C){return P(C)&&"[object Set]"==T(C)}},8902:(Y,se,D)=>{var T=D(4590),P=D(7765),O=D(3714),De={};De["[object Float32Array]"]=De["[object Float64Array]"]=De["[object Int8Array]"]=De["[object Int16Array]"]=De["[object Int32Array]"]=De["[object Uint8Array]"]=De["[object Uint8ClampedArray]"]=De["[object Uint16Array]"]=De["[object Uint32Array]"]=!0,De["[object Arguments]"]=De["[object Array]"]=De["[object ArrayBuffer]"]=De["[object Boolean]"]=De["[object DataView]"]=De["[object Date]"]=De["[object Error]"]=De["[object Function]"]=De["[object Map]"]=De["[object Number]"]=De["[object Object]"]=De["[object RegExp]"]=De["[object Set]"]=De["[object String]"]=De["[object WeakMap]"]=!1,Y.exports=function ze(Be){return O(Be)&&P(Be.length)&&!!De[T(Be)]}},1627:(Y,se,D)=>{var T=D(2924),P=D(8526),O=D(5657),I=D(2261),C=D(2692);Y.exports=function S(R){return"function"==typeof R?R:null==R?O:"object"==typeof R?I(R)?P(R[0],R[1]):T(R):C(R)}},190:(Y,se,D)=>{var T=D(6587),P=D(366),I=Object.prototype.hasOwnProperty;Y.exports=function C(S){if(!T(S))return P(S);var R=[];for(var A in Object(S))I.call(S,A)&&"constructor"!=A&&R.push(A);return R}},7673:(Y,se,D)=>{var T=D(9794),P=D(6587),O=D(8981),C=Object.prototype.hasOwnProperty;Y.exports=function S(R){if(!T(R))return O(R);var A=P(R),V=[];for(var L in R)"constructor"==L&&(A||!C.call(R,L))||V.push(L);return V}},8898:Y=>{Y.exports=function se(D,T){return D<T}},2839:(Y,se,D)=>{var T=D(5103),P=D(2447);Y.exports=function O(I,C){var S=-1,R=P(I)?Array(I.length):[];return T(I,function(A,V,L){R[++S]=C(A,V,L)}),R}},2924:(Y,se,D)=>{var T=D(2527),P=D(7895),O=D(2265);Y.exports=function I(C){var S=P(C);return 1==S.length&&S[0][2]?O(S[0][0],S[0][1]):function(R){return R===C||T(R,C,S)}}},8526:(Y,se,D)=>{var T=D(7108),P=D(5440),O=D(2494),I=D(6300),C=D(3921),S=D(2265),R=D(8916);Y.exports=function L(k,H){return I(k)&&C(H)?S(R(k),H):function($){var Q=P($,k);return void 0===Q&&Q===H?O($,k):T(H,Q,3)}}},3294:(Y,se,D)=>{var T=D(1339),P=D(6697),O=D(6483),I=D(9218),C=D(9794),S=D(6402),R=D(7524);Y.exports=function A(V,L,k,H,$){V!==L&&O(L,function(Q,ue){if($||($=new T),C(Q))I(V,L,ue,k,A,H,$);else{var ne=H?H(R(V,ue),Q,ue+"",V,L,$):void 0;void 0===ne&&(ne=Q),P(V,ue,ne)}},S)}},9218:(Y,se,D)=>{var T=D(6697),P=D(6002),O=D(2501),I=D(4231),C=D(9225),S=D(1955),R=D(2261),A=D(3471),V=D(7525),L=D(6861),k=D(9794),H=D(8168),$=D(4868),Q=D(7524),ue=D(4210);Y.exports=function ne(le,ae,de,te,pe,Z,oe){var ie=Q(le,de),me=Q(ae,de),_e=oe.get(me);if(_e)T(le,de,_e);else{var Te=Z?Z(ie,me,de+"",le,ae,oe):void 0,De=void 0===Te;if(De){var ze=R(me),Be=!ze&&V(me),at=!ze&&!Be&&$(me);Te=me,ze||Be||at?R(ie)?Te=ie:A(ie)?Te=I(ie):Be?(De=!1,Te=P(me,!0)):at?(De=!1,Te=O(me,!0)):Te=[]:H(me)||S(me)?(Te=ie,S(ie)?Te=ue(ie):(!k(ie)||L(ie))&&(Te=C(me))):De=!1}De&&(oe.set(me,Te),pe(Te,me,te,Z,oe),oe.delete(me)),T(le,de,Te)}}},252:(Y,se,D)=>{var T=D(3880),P=D(2202),O=D(1627),I=D(2839),C=D(6389),S=D(5249),R=D(9664),A=D(5657),V=D(2261);Y.exports=function L(k,H,$){H=H.length?T(H,function(ne){return V(ne)?function(le){return P(le,1===ne.length?ne[0]:ne)}:ne}):[A];var Q=-1;H=T(H,S(O));var ue=I(k,function(ne,le,ae){return{criteria:T(H,function(te){return te(ne)}),index:++Q,value:ne}});return C(ue,function(ne,le){return R(ne,le,$)})}},2784:(Y,se,D)=>{var T=D(2772),P=D(2494);Y.exports=function O(I,C){return T(I,C,function(S,R){return P(I,R)})}},2772:(Y,se,D)=>{var T=D(2202),P=D(9478),O=D(4826);Y.exports=function I(C,S,R){for(var A=-1,V=S.length,L={};++A<V;){var k=S[A],H=T(C,k);R(H,k)&&P(L,O(k,C),H)}return L}},3400:Y=>{Y.exports=function se(D){return function(T){return T?.[D]}}},6443:(Y,se,D)=>{var T=D(2202);Y.exports=function P(O){return function(I){return T(I,O)}}},9948:Y=>{var se=Math.ceil,D=Math.max;Y.exports=function T(P,O,I,C){for(var S=-1,R=D(se((O-P)/(I||1)),0),A=Array(R);R--;)A[C?R:++S]=P,P+=I;return A}},8978:Y=>{Y.exports=function se(D,T,P,O,I){return I(D,function(C,S,R){P=O?(O=!1,C):T(P,C,S,R)}),P}},8951:(Y,se,D)=>{var T=D(5657),P=D(2394),O=D(6814);Y.exports=function I(C,S){return O(P(C,S,T),C+"")}},9478:(Y,se,D)=>{var T=D(9553),P=D(4826),O=D(5188),I=D(9794),C=D(8916);Y.exports=function S(R,A,V,L){if(!I(R))return R;for(var k=-1,H=(A=P(A,R)).length,$=H-1,Q=R;null!=Q&&++k<H;){var ue=C(A[k]),ne=V;if("__proto__"===ue||"constructor"===ue||"prototype"===ue)return R;if(k!=$){var le=Q[ue];void 0===(ne=L?L(le,ue,Q):void 0)&&(ne=I(le)?le:O(A[k+1])?[]:{})}T(Q,ue,ne),Q=Q[ue]}return R}},8235:(Y,se,D)=>{var T=D(1075),P=D(9383),O=D(5657);Y.exports=P?function(C,S){return P(C,"toString",{configurable:!0,enumerable:!1,value:T(S),writable:!0})}:O},6389:Y=>{Y.exports=function se(D,T){var P=D.length;for(D.sort(T);P--;)D[P]=D[P].value;return D}},5025:Y=>{Y.exports=function se(D,T){for(var P=-1,O=Array(D);++P<D;)O[P]=T(P);return O}},7002:(Y,se,D)=>{var T=D(1763),P=D(3880),O=D(2261),I=D(3423),S=T?T.prototype:void 0,R=S?S.toString:void 0;Y.exports=function A(V){if("string"==typeof V)return V;if(O(V))return P(V,A)+"";if(I(V))return R?R.call(V):"";var L=V+"";return"0"==L&&1/V==-1/0?"-0":L}},9484:(Y,se,D)=>{var T=D(1781),P=/^\s+/;Y.exports=function O(I){return I&&I.slice(0,T(I)+1).replace(P,"")}},5249:Y=>{Y.exports=function se(D){return function(T){return D(T)}}},9154:(Y,se,D)=>{var T=D(5960),P=D(8750),O=D(6736),I=D(4795),C=D(8433),S=D(8e3);Y.exports=function A(V,L,k){var H=-1,$=P,Q=V.length,ue=!0,ne=[],le=ne;if(k)ue=!1,$=O;else if(Q>=200){var ae=L?null:C(V);if(ae)return S(ae);ue=!1,$=I,le=new T}else le=L?[]:ne;e:for(;++H<Q;){var de=V[H],te=L?L(de):de;if(de=k||0!==de?de:0,ue&&te==te){for(var pe=le.length;pe--;)if(le[pe]===te)continue e;L&&le.push(te),ne.push(de)}else $(le,te,k)||(le!==ne&&le.push(te),ne.push(de))}return ne}},6680:(Y,se,D)=>{var T=D(3880);Y.exports=function P(O,I){return T(I,function(C){return O[C]})}},2255:Y=>{Y.exports=function se(D,T,P){for(var O=-1,I=D.length,C=T.length,S={};++O<I;)P(S,D[O],O<C?T[O]:void 0);return S}},4795:Y=>{Y.exports=function se(D,T){return D.has(T)}},4655:(Y,se,D)=>{var T=D(5657);Y.exports=function P(O){return"function"==typeof O?O:T}},4826:(Y,se,D)=>{var T=D(2261),P=D(6300),O=D(163),I=D(2674);Y.exports=function C(S,R){return T(S)?S:P(S,R)?[S]:O(I(S))}},2355:(Y,se,D)=>{var T=D(2760);Y.exports=function P(O){var I=new O.constructor(O.byteLength);return new T(I).set(new T(O)),I}},6002:(Y,se,D)=>{Y=D.nmd(Y);var T=D(8492),P=se&&!se.nodeType&&se,O=P&&Y&&!Y.nodeType&&Y,C=O&&O.exports===P?T.Buffer:void 0,S=C?C.allocUnsafe:void 0;Y.exports=function R(A,V){if(V)return A.slice();var L=A.length,k=S?S(L):new A.constructor(L);return A.copy(k),k}},6693:(Y,se,D)=>{var T=D(2355);Y.exports=function P(O,I){var C=I?T(O.buffer):O.buffer;return new O.constructor(C,O.byteOffset,O.byteLength)}},497:Y=>{var se=/\w*$/;Y.exports=function D(T){var P=new T.constructor(T.source,se.exec(T));return P.lastIndex=T.lastIndex,P}},3330:(Y,se,D)=>{var T=D(1763),P=T?T.prototype:void 0,O=P?P.valueOf:void 0;Y.exports=function I(C){return O?Object(O.call(C)):{}}},2501:(Y,se,D)=>{var T=D(2355);Y.exports=function P(O,I){var C=I?T(O.buffer):O.buffer;return new O.constructor(C,O.byteOffset,O.length)}},5400:(Y,se,D)=>{var T=D(3423);Y.exports=function P(O,I){if(O!==I){var C=void 0!==O,S=null===O,R=O==O,A=T(O),V=void 0!==I,L=null===I,k=I==I,H=T(I);if(!L&&!H&&!A&&O>I||A&&V&&k&&!L&&!H||S&&V&&k||!C&&k||!R)return 1;if(!S&&!A&&!H&&O<I||H&&C&&R&&!S&&!A||L&&C&&R||!V&&R||!k)return-1}return 0}},9664:(Y,se,D)=>{var T=D(5400);Y.exports=function P(O,I,C){for(var S=-1,R=O.criteria,A=I.criteria,V=R.length,L=C.length;++S<V;){var k=T(R[S],A[S]);if(k)return S>=L?k:k*("desc"==C[S]?-1:1)}return O.index-I.index}},4231:Y=>{Y.exports=function se(D,T){var P=-1,O=D.length;for(T||(T=Array(O));++P<O;)T[P]=D[P];return T}},5931:(Y,se,D)=>{var T=D(9553),P=D(1741);Y.exports=function O(I,C,S,R){var A=!S;S||(S={});for(var V=-1,L=C.length;++V<L;){var k=C[V],H=R?R(S[k],I[k],k,S,I):void 0;void 0===H&&(H=I[k]),A?P(S,k,H):T(S,k,H)}return S}},9385:(Y,se,D)=>{var T=D(5931),P=D(771);Y.exports=function O(I,C){return T(I,P(I),C)}},4354:(Y,se,D)=>{var T=D(5931),P=D(708);Y.exports=function O(I,C){return T(I,P(I),C)}},6189:(Y,se,D)=>{var T=D(8492);Y.exports=T["__core-js_shared__"]},1300:(Y,se,D)=>{var T=D(8951),P=D(3817);Y.exports=function O(I){return T(function(C,S){var R=-1,A=S.length,V=A>1?S[A-1]:void 0,L=A>2?S[2]:void 0;for(V=I.length>3&&"function"==typeof V?(A--,V):void 0,L&&P(S[0],S[1],L)&&(V=A<3?void 0:V,A=1),C=Object(C);++R<A;){var k=S[R];k&&I(C,k,R,V)}return C})}},9386:(Y,se,D)=>{var T=D(2447);Y.exports=function P(O,I){return function(C,S){if(null==C)return C;if(!T(C))return O(C,S);for(var R=C.length,A=I?R:-1,V=Object(C);(I?A--:++A<R)&&!1!==S(V[A],A,V););return C}}},2086:Y=>{Y.exports=function se(D){return function(T,P,O){for(var I=-1,C=Object(T),S=O(T),R=S.length;R--;){var A=S[D?R:++I];if(!1===P(C[A],A,C))break}return T}}},6738:(Y,se,D)=>{var T=D(1627),P=D(2447),O=D(4614);Y.exports=function I(C){return function(S,R,A){var V=Object(S);if(!P(S)){var L=T(R,3);S=O(S),R=function(H){return L(V[H],H,V)}}var k=C(S,R,A);return k>-1?V[L?S[k]:k]:void 0}}},4222:(Y,se,D)=>{var T=D(9948),P=D(3817),O=D(9292);Y.exports=function I(C){return function(S,R,A){return A&&"number"!=typeof A&&P(S,R,A)&&(R=A=void 0),S=O(S),void 0===R?(R=S,S=0):R=O(R),A=void 0===A?S<R?1:-1:O(A),T(S,R,A,C)}}},8433:(Y,se,D)=>{var T=D(1732),P=D(4249),O=D(8e3),C=T&&1/O(new T([,-0]))[1]==1/0?function(S){return new T(S)}:P;Y.exports=C},9383:(Y,se,D)=>{var T=D(8745),P=function(){try{var O=T(Object,"defineProperty");return O({},"",{}),O}catch{}}();Y.exports=P},7469:(Y,se,D)=>{var T=D(5960),P=D(5916),O=D(4795);Y.exports=function S(R,A,V,L,k,H){var $=1&V,Q=R.length,ue=A.length;if(Q!=ue&&!($&&ue>Q))return!1;var ne=H.get(R),le=H.get(A);if(ne&&le)return ne==A&&le==R;var ae=-1,de=!0,te=2&V?new T:void 0;for(H.set(R,A),H.set(A,R);++ae<Q;){var pe=R[ae],Z=A[ae];if(L)var oe=$?L(Z,pe,ae,A,R,H):L(pe,Z,ae,R,A,H);if(void 0!==oe){if(oe)continue;de=!1;break}if(te){if(!P(A,function(ie,me){if(!O(te,me)&&(pe===ie||k(pe,ie,V,L,H)))return te.push(me)})){de=!1;break}}else if(pe!==Z&&!k(pe,Z,V,L,H)){de=!1;break}}return H.delete(R),H.delete(A),de}},1642:(Y,se,D)=>{var T=D(1763),P=D(2760),O=D(7826),I=D(7469),C=D(1575),S=D(8e3),te=T?T.prototype:void 0,pe=te?te.valueOf:void 0;Y.exports=function Z(oe,ie,me,_e,Te,De,ze){switch(me){case"[object DataView]":if(oe.byteLength!=ie.byteLength||oe.byteOffset!=ie.byteOffset)return!1;oe=oe.buffer,ie=ie.buffer;case"[object ArrayBuffer]":return!(oe.byteLength!=ie.byteLength||!De(new P(oe),new P(ie)));case"[object Boolean]":case"[object Date]":case"[object Number]":return O(+oe,+ie);case"[object Error]":return oe.name==ie.name&&oe.message==ie.message;case"[object RegExp]":case"[object String]":return oe==ie+"";case"[object Map]":var Be=C;case"[object Set]":if(Be||(Be=S),oe.size!=ie.size&&!(1&_e))return!1;var ht=ze.get(oe);if(ht)return ht==ie;_e|=2,ze.set(oe,ie);var Ke=I(Be(oe),Be(ie),_e,Te,De,ze);return ze.delete(oe),Ke;case"[object Symbol]":if(pe)return pe.call(oe)==pe.call(ie)}return!1}},9462:(Y,se,D)=>{var T=D(6131),I=Object.prototype.hasOwnProperty;Y.exports=function C(S,R,A,V,L,k){var H=1&A,$=T(S),Q=$.length;if(Q!=T(R).length&&!H)return!1;for(var le=Q;le--;){var ae=$[le];if(!(H?ae in R:I.call(R,ae)))return!1}var de=k.get(S),te=k.get(R);if(de&&te)return de==R&&te==S;var pe=!0;k.set(S,R),k.set(R,S);for(var Z=H;++le<Q;){var oe=S[ae=$[le]],ie=R[ae];if(V)var me=H?V(ie,oe,ae,R,S,k):V(oe,ie,ae,S,R,k);if(!(void 0===me?oe===ie||L(oe,ie,A,V,k):me)){pe=!1;break}Z||(Z="constructor"==ae)}if(pe&&!Z){var _e=S.constructor,Te=R.constructor;_e!=Te&&"constructor"in S&&"constructor"in R&&!("function"==typeof _e&&_e instanceof _e&&"function"==typeof Te&&Te instanceof Te)&&(pe=!1)}return k.delete(S),k.delete(R),pe}},6801:(Y,se,D)=>{var T=D(9336),P=D(2394),O=D(6814);Y.exports=function I(C){return O(P(C,void 0,T),C+"")}},248:Y=>{var se="object"==typeof global&&global&&global.Object===Object&&global;Y.exports=se},6131:(Y,se,D)=>{var T=D(7427),P=D(771),O=D(4614);Y.exports=function I(C){return T(C,O,P)}},2442:(Y,se,D)=>{var T=D(7427),P=D(708),O=D(6402);Y.exports=function I(C){return T(C,O,P)}},4113:(Y,se,D)=>{var T=D(29);Y.exports=function P(O,I){var C=O.__data__;return T(I)?C["string"==typeof I?"string":"hash"]:C.map}},7895:(Y,se,D)=>{var T=D(3921),P=D(4614);Y.exports=function O(I){for(var C=P(I),S=C.length;S--;){var R=C[S],A=I[R];C[S]=[R,A,T(A)]}return C}},8745:(Y,se,D)=>{var T=D(1082),P=D(1015);Y.exports=function O(I,C){var S=P(I,C);return T(S)?S:void 0}},6186:(Y,se,D)=>{var P=D(3106)(Object.getPrototypeOf,Object);Y.exports=P},5933:(Y,se,D)=>{var T=D(1763),P=Object.prototype,O=P.hasOwnProperty,I=P.toString,C=T?T.toStringTag:void 0;Y.exports=function S(R){var A=O.call(R,C),V=R[C];try{R[C]=void 0;var L=!0}catch{}var k=I.call(R);return L&&(A?R[C]=V:delete R[C]),k}},771:(Y,se,D)=>{var T=D(2134),P=D(1315),I=Object.prototype.propertyIsEnumerable,C=Object.getOwnPropertySymbols;Y.exports=C?function(R){return null==R?[]:(R=Object(R),T(C(R),function(A){return I.call(R,A)}))}:P},708:(Y,se,D)=>{var T=D(7853),P=D(6186),O=D(771),I=D(1315);Y.exports=Object.getOwnPropertySymbols?function(R){for(var A=[];R;)T(A,O(R)),R=P(R);return A}:I},2472:(Y,se,D)=>{var T=D(6506),P=D(1136),O=D(641),I=D(1732),C=D(6413),S=D(4590),R=D(7075),A="[object Map]",L="[object Promise]",k="[object Set]",H="[object WeakMap]",$="[object DataView]",Q=R(T),ue=R(P),ne=R(O),le=R(I),ae=R(C),de=S;(T&&de(new T(new ArrayBuffer(1)))!=$||P&&de(new P)!=A||O&&de(O.resolve())!=L||I&&de(new I)!=k||C&&de(new C)!=H)&&(de=function(te){var pe=S(te),Z="[object Object]"==pe?te.constructor:void 0,oe=Z?R(Z):"";if(oe)switch(oe){case Q:return $;case ue:return A;case ne:return L;case le:return k;case ae:return H}return pe}),Y.exports=de},1015:Y=>{Y.exports=function se(D,T){return D?.[T]}},4583:(Y,se,D)=>{var T=D(4826),P=D(1955),O=D(2261),I=D(5188),C=D(7765),S=D(8916);Y.exports=function R(A,V,L){for(var k=-1,H=(V=T(V,A)).length,$=!1;++k<H;){var Q=S(V[k]);if(!($=null!=A&&L(A,Q)))break;A=A[Q]}return $||++k!=H?$:!!(H=null==A?0:A.length)&&C(H)&&I(Q,H)&&(O(A)||P(A))}},3687:Y=>{var S=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");Y.exports=function R(A){return S.test(A)}},5602:(Y,se,D)=>{var T=D(893);Y.exports=function P(){this.__data__=T?T(null):{},this.size=0}},1499:Y=>{Y.exports=function se(D){var T=this.has(D)&&delete this.__data__[D];return this.size-=T?1:0,T}},2990:(Y,se,D)=>{var T=D(893),I=Object.prototype.hasOwnProperty;Y.exports=function C(S){var R=this.__data__;if(T){var A=R[S];return"__lodash_hash_undefined__"===A?void 0:A}return I.call(R,S)?R[S]:void 0}},480:(Y,se,D)=>{var T=D(893),O=Object.prototype.hasOwnProperty;Y.exports=function I(C){var S=this.__data__;return T?void 0!==S[C]:O.call(S,C)}},4469:(Y,se,D)=>{var T=D(893);Y.exports=function O(I,C){var S=this.__data__;return this.size+=this.has(I)?0:1,S[I]=T&&void 0===C?"__lodash_hash_undefined__":C,this}},9431:Y=>{var D=Object.prototype.hasOwnProperty;Y.exports=function T(P){var O=P.length,I=new P.constructor(O);return O&&"string"==typeof P[0]&&D.call(P,"index")&&(I.index=P.index,I.input=P.input),I}},514:(Y,se,D)=>{var T=D(2355),P=D(6693),O=D(497),I=D(3330),C=D(2501);Y.exports=function me(_e,Te,De){var ze=_e.constructor;switch(Te){case"[object ArrayBuffer]":return T(_e);case"[object Boolean]":case"[object Date]":return new ze(+_e);case"[object DataView]":return P(_e,De);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return C(_e,De);case"[object Map]":case"[object Set]":return new ze;case"[object Number]":case"[object String]":return new ze(_e);case"[object RegExp]":return O(_e);case"[object Symbol]":return I(_e)}}},9225:(Y,se,D)=>{var T=D(1391),P=D(6186),O=D(6587);Y.exports=function I(C){return"function"!=typeof C.constructor||O(C)?{}:T(P(C))}},2241:(Y,se,D)=>{var T=D(1763),P=D(1955),O=D(2261),I=T?T.isConcatSpreadable:void 0;Y.exports=function C(S){return O(S)||P(S)||!!(I&&S&&S[I])}},5188:Y=>{var D=/^(?:0|[1-9]\d*)$/;Y.exports=function T(P,O){var I=typeof P;return!!(O=O??9007199254740991)&&("number"==I||"symbol"!=I&&D.test(P))&&P>-1&&P%1==0&&P<O}},3817:(Y,se,D)=>{var T=D(7826),P=D(2447),O=D(5188),I=D(9794);Y.exports=function C(S,R,A){if(!I(A))return!1;var V=typeof R;return!!("number"==V?P(A)&&O(R,A.length):"string"==V&&R in A)&&T(A[R],S)}},6300:(Y,se,D)=>{var T=D(2261),P=D(3423),O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I=/^\w*$/;Y.exports=function C(S,R){if(T(S))return!1;var A=typeof S;return!("number"!=A&&"symbol"!=A&&"boolean"!=A&&null!=S&&!P(S))||I.test(S)||!O.test(S)||null!=R&&S in Object(R)}},29:Y=>{Y.exports=function se(D){var T=typeof D;return"string"==T||"number"==T||"symbol"==T||"boolean"==T?"__proto__"!==D:null===D}},9950:(Y,se,D)=>{var I,T=D(6189),P=(I=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"";Y.exports=function O(I){return!!P&&P in I}},6587:Y=>{var se=Object.prototype;Y.exports=function D(T){var P=T&&T.constructor;return T===("function"==typeof P&&P.prototype||se)}},3921:(Y,se,D)=>{var T=D(9794);Y.exports=function P(O){return O==O&&!T(O)}},9365:Y=>{Y.exports=function se(){this.__data__=[],this.size=0}},9343:(Y,se,D)=>{var T=D(4056),O=Array.prototype.splice;Y.exports=function I(C){var S=this.__data__,R=T(S,C);return!(R<0||(R==S.length-1?S.pop():O.call(S,R,1),--this.size,0))}},4779:(Y,se,D)=>{var T=D(4056);Y.exports=function P(O){var I=this.__data__,C=T(I,O);return C<0?void 0:I[C][1]}},1509:(Y,se,D)=>{var T=D(4056);Y.exports=function P(O){return T(this.__data__,O)>-1}},7137:(Y,se,D)=>{var T=D(4056);Y.exports=function P(O,I){var C=this.__data__,S=T(C,O);return S<0?(++this.size,C.push([O,I])):C[S][1]=I,this}},3413:(Y,se,D)=>{var T=D(9618),P=D(3597),O=D(1136);Y.exports=function I(){this.size=0,this.__data__={hash:new T,map:new(O||P),string:new T}}},5419:(Y,se,D)=>{var T=D(4113);Y.exports=function P(O){var I=T(this,O).delete(O);return this.size-=I?1:0,I}},7336:(Y,se,D)=>{var T=D(4113);Y.exports=function P(O){return T(this,O).get(O)}},1115:(Y,se,D)=>{var T=D(4113);Y.exports=function P(O){return T(this,O).has(O)}},6648:(Y,se,D)=>{var T=D(4113);Y.exports=function P(O,I){var C=T(this,O),S=C.size;return C.set(O,I),this.size+=C.size==S?0:1,this}},1575:Y=>{Y.exports=function se(D){var T=-1,P=Array(D.size);return D.forEach(function(O,I){P[++T]=[I,O]}),P}},2265:Y=>{Y.exports=function se(D,T){return function(P){return null!=P&&P[D]===T&&(void 0!==T||D in Object(P))}}},7371:(Y,se,D)=>{var T=D(7659);Y.exports=function O(I){var C=T(I,function(R){return 500===S.size&&S.clear(),R}),S=C.cache;return C}},893:(Y,se,D)=>{var P=D(8745)(Object,"create");Y.exports=P},366:(Y,se,D)=>{var P=D(3106)(Object.keys,Object);Y.exports=P},8981:Y=>{Y.exports=function se(D){var T=[];if(null!=D)for(var P in Object(D))T.push(P);return T}},8849:(Y,se,D)=>{Y=D.nmd(Y);var T=D(248),P=se&&!se.nodeType&&se,O=P&&Y&&!Y.nodeType&&Y,C=O&&O.exports===P&&T.process,S=function(){try{return O&&O.require&&O.require("util").types||C&&C.binding&&C.binding("util")}catch{}}();Y.exports=S},9243:Y=>{var D=Object.prototype.toString;Y.exports=function T(P){return D.call(P)}},3106:Y=>{Y.exports=function se(D,T){return function(P){return D(T(P))}}},2394:(Y,se,D)=>{var T=D(7910),P=Math.max;Y.exports=function O(I,C,S){return C=P(void 0===C?I.length-1:C,0),function(){for(var R=arguments,A=-1,V=P(R.length-C,0),L=Array(V);++A<V;)L[A]=R[C+A];A=-1;for(var k=Array(C+1);++A<C;)k[A]=R[A];return k[C]=S(L),T(I,this,k)}}},8492:(Y,se,D)=>{var T=D(248),P="object"==typeof self&&self&&self.Object===Object&&self,O=T||P||Function("return this")();Y.exports=O},7524:Y=>{Y.exports=function se(D,T){if(("constructor"!==T||"function"!=typeof D[T])&&"__proto__"!=T)return D[T]}},6151:Y=>{Y.exports=function D(T){return this.__data__.set(T,"__lodash_hash_undefined__"),this}},2154:Y=>{Y.exports=function se(D){return this.__data__.has(D)}},8e3:Y=>{Y.exports=function se(D){var T=-1,P=Array(D.size);return D.forEach(function(O){P[++T]=O}),P}},6814:(Y,se,D)=>{var T=D(8235),O=D(9531)(T);Y.exports=O},9531:Y=>{var T=Date.now;Y.exports=function P(O){var I=0,C=0;return function(){var S=T(),R=16-(S-C);if(C=S,R>0){if(++I>=800)return arguments[0]}else I=0;return O.apply(void 0,arguments)}}},9488:(Y,se,D)=>{var T=D(3597);Y.exports=function P(){this.__data__=new T,this.size=0}},5943:Y=>{Y.exports=function se(D){var T=this.__data__,P=T.delete(D);return this.size=T.size,P}},5456:Y=>{Y.exports=function se(D){return this.__data__.get(D)}},4793:Y=>{Y.exports=function se(D){return this.__data__.has(D)}},8689:(Y,se,D)=>{var T=D(3597),P=D(1136),O=D(1811);Y.exports=function C(S,R){var A=this.__data__;if(A instanceof T){var V=A.__data__;if(!P||V.length<199)return V.push([S,R]),this.size=++A.size,this;A=this.__data__=new O(V)}return A.set(S,R),this.size=A.size,this}},2528:Y=>{Y.exports=function se(D,T,P){for(var O=P-1,I=D.length;++O<I;)if(D[O]===T)return O;return-1}},7339:(Y,se,D)=>{var T=D(6181),P=D(3687),O=D(9164);Y.exports=function I(C){return P(C)?O(C):T(C)}},163:(Y,se,D)=>{var T=D(7371),P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,O=/\\(\\)?/g,I=T(function(C){var S=[];return 46===C.charCodeAt(0)&&S.push(""),C.replace(P,function(R,A,V,L){S.push(V?L.replace(O,"$1"):A||R)}),S});Y.exports=I},8916:(Y,se,D)=>{var T=D(3423);Y.exports=function O(I){if("string"==typeof I||T(I))return I;var C=I+"";return"0"==C&&1/I==-1/0?"-0":C}},7075:Y=>{var D=Function.prototype.toString;Y.exports=function T(P){if(null!=P){try{return D.call(P)}catch{}try{return P+""}catch{}}return""}},1781:Y=>{var se=/\s/;Y.exports=function D(T){for(var P=T.length;P--&&se.test(T.charAt(P)););return P}},9164:Y=>{var se="\\ud800-\\udfff",C="["+se+"]",S="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",R="\\ud83c[\\udffb-\\udfff]",V="[^"+se+"]",L="(?:\\ud83c[\\udde6-\\uddff]){2}",k="[\\ud800-\\udbff][\\udc00-\\udfff]",$="(?:"+S+"|"+R+")?",Q="[\\ufe0e\\ufe0f]?",ne=Q+$+"(?:\\u200d(?:"+[V,L,k].join("|")+")"+Q+$+")*",le="(?:"+[V+S+"?",S,L,k,C].join("|")+")",ae=RegExp(R+"(?="+R+")|"+le+ne,"g");Y.exports=function de(te){for(var pe=ae.lastIndex=0;ae.test(te);)++pe;return pe}},8734:(Y,se,D)=>{var T=D(1320);Y.exports=function O(I){return T(I,4)}},4451:(Y,se,D)=>{var T=D(1320);Y.exports=function I(C){return T(C,5)}},1075:Y=>{Y.exports=function se(D){return function(){return D}}},4430:(Y,se,D)=>{var T=D(9794),P=D(5533),O=D(4282),C=Math.max,S=Math.min;Y.exports=function R(A,V,L){var k,H,$,Q,ue,ne,le=0,ae=!1,de=!1,te=!0;if("function"!=typeof A)throw new TypeError("Expected a function");function pe(Be){var at=k,ht=H;return k=H=void 0,le=Be,Q=A.apply(ht,at)}function ie(Be){var at=Be-ne;return void 0===ne||at>=V||at<0||de&&Be-le>=$}function me(){var Be=P();if(ie(Be))return _e(Be);ue=setTimeout(me,function oe(Be){var Ke=V-(Be-ne);return de?S(Ke,$-(Be-le)):Ke}(Be))}function _e(Be){return ue=void 0,te&&k?pe(Be):(k=H=void 0,Q)}function ze(){var Be=P(),at=ie(Be);if(k=arguments,H=this,ne=Be,at){if(void 0===ue)return function Z(Be){return le=Be,ue=setTimeout(me,V),ae?pe(Be):Q}(ne);if(de)return clearTimeout(ue),ue=setTimeout(me,V),pe(ne)}return void 0===ue&&(ue=setTimeout(me,V)),Q}return V=O(V)||0,T(L)&&(ae=!!L.leading,$=(de="maxWait"in L)?C(O(L.maxWait)||0,V):$,te="trailing"in L?!!L.trailing:te),ze.cancel=function Te(){void 0!==ue&&clearTimeout(ue),le=0,k=ne=H=ue=void 0},ze.flush=function De(){return void 0===ue?Q:_e(P())},ze}},5433:(Y,se,D)=>{var T=D(8951),P=D(7826),O=D(3817),I=D(6402),C=Object.prototype,S=C.hasOwnProperty,R=T(function(A,V){A=Object(A);var L=-1,k=V.length,H=k>2?V[2]:void 0;for(H&&O(V[0],V[1],H)&&(k=1);++L<k;)for(var $=V[L],Q=I($),ue=-1,ne=Q.length;++ue<ne;){var le=Q[ue],ae=A[le];(void 0===ae||P(ae,C[le])&&!S.call(A,le))&&(A[le]=$[le])}return A});Y.exports=R},6488:(Y,se,D)=>{Y.exports=D(7170)},7826:Y=>{Y.exports=function se(D,T){return D===T||D!=D&&T!=T}},7661:(Y,se,D)=>{var T=D(2134),P=D(1892),O=D(1627),I=D(2261);Y.exports=function C(S,R){return(I(S)?T:P)(S,O(R,3))}},6177:(Y,se,D)=>{var O=D(6738)(D(1904));Y.exports=O},1904:(Y,se,D)=>{var T=D(4051),P=D(1627),O=D(481),I=Math.max;Y.exports=function C(S,R,A){var V=null==S?0:S.length;if(!V)return-1;var L=null==A?0:O(A);return L<0&&(L=I(V+L,0)),T(S,P(R,3),L)}},9336:(Y,se,D)=>{var T=D(1883);Y.exports=function P(O){return null!=O&&O.length?T(O,1):[]}},7170:(Y,se,D)=>{var T=D(7772),P=D(5103),O=D(4655),I=D(2261);Y.exports=function C(S,R){return(I(S)?T:P)(S,O(R))}},1658:(Y,se,D)=>{var T=D(6483),P=D(4655),O=D(6402);Y.exports=function I(C,S){return null==C?C:T(C,P(S),O)}},5440:(Y,se,D)=>{var T=D(2202);Y.exports=function P(O,I,C){var S=null==O?void 0:T(O,I);return void 0===S?C:S}},8669:(Y,se,D)=>{var T=D(4493),P=D(4583);Y.exports=function O(I,C){return null!=I&&P(I,C,T)}},2494:(Y,se,D)=>{var T=D(3274),P=D(4583);Y.exports=function O(I,C){return null!=I&&P(I,C,T)}},5657:Y=>{Y.exports=function se(D){return D}},1955:(Y,se,D)=>{var T=D(3022),P=D(3714),O=Object.prototype,I=O.hasOwnProperty,C=O.propertyIsEnumerable,S=T(function(){return arguments}())?T:function(R){return P(R)&&I.call(R,"callee")&&!C.call(R,"callee")};Y.exports=S},2261:Y=>{Y.exports=Array.isArray},2447:(Y,se,D)=>{var T=D(6861),P=D(7765);Y.exports=function O(I){return null!=I&&P(I.length)&&!T(I)}},3471:(Y,se,D)=>{var T=D(2447),P=D(3714);Y.exports=function O(I){return P(I)&&T(I)}},7525:(Y,se,D)=>{Y=D.nmd(Y);var T=D(8492),P=D(5706),O=se&&!se.nodeType&&se,I=O&&Y&&!Y.nodeType&&Y,S=I&&I.exports===O?T.Buffer:void 0;Y.exports=(S?S.isBuffer:void 0)||P},5350:(Y,se,D)=>{var T=D(190),P=D(2472),O=D(1955),I=D(2261),C=D(2447),S=D(7525),R=D(6587),A=D(4868),H=Object.prototype.hasOwnProperty;Y.exports=function $(Q){if(null==Q)return!0;if(C(Q)&&(I(Q)||"string"==typeof Q||"function"==typeof Q.splice||S(Q)||A(Q)||O(Q)))return!Q.length;var ue=P(Q);if("[object Map]"==ue||"[object Set]"==ue)return!Q.size;if(R(Q))return!T(Q).length;for(var ne in Q)if(H.call(Q,ne))return!1;return!0}},6861:(Y,se,D)=>{var T=D(4590),P=D(9794);Y.exports=function R(A){if(!P(A))return!1;var V=T(A);return"[object Function]"==V||"[object GeneratorFunction]"==V||"[object AsyncFunction]"==V||"[object Proxy]"==V}},7765:Y=>{Y.exports=function D(T){return"number"==typeof T&&T>-1&&T%1==0&&T<=9007199254740991}},990:(Y,se,D)=>{var T=D(8562),P=D(5249),O=D(8849),I=O&&O.isMap,C=I?P(I):T;Y.exports=C},9794:Y=>{Y.exports=function se(D){var T=typeof D;return null!=D&&("object"==T||"function"==T)}},3714:Y=>{Y.exports=function se(D){return null!=D&&"object"==typeof D}},8168:(Y,se,D)=>{var T=D(4590),P=D(6186),O=D(3714),R=Function.prototype.toString,A=Object.prototype.hasOwnProperty,V=R.call(Object);Y.exports=function L(k){if(!O(k)||"[object Object]"!=T(k))return!1;var H=P(k);if(null===H)return!0;var $=A.call(H,"constructor")&&H.constructor;return"function"==typeof $&&$ instanceof $&&R.call($)==V}},8611:(Y,se,D)=>{var T=D(1202),P=D(5249),O=D(8849),I=O&&O.isSet,C=I?P(I):T;Y.exports=C},2164:(Y,se,D)=>{var T=D(4590),P=D(2261),O=D(3714);Y.exports=function C(S){return"string"==typeof S||!P(S)&&O(S)&&"[object String]"==T(S)}},3423:(Y,se,D)=>{var T=D(4590),P=D(3714);Y.exports=function I(C){return"symbol"==typeof C||P(C)&&"[object Symbol]"==T(C)}},4868:(Y,se,D)=>{var T=D(8902),P=D(5249),O=D(8849),I=O&&O.isTypedArray,C=I?P(I):T;Y.exports=C},8152:Y=>{Y.exports=function se(D){return void 0===D}},4614:(Y,se,D)=>{var T=D(1384),P=D(190),O=D(2447);Y.exports=function I(C){return O(C)?T(C):P(C)}},6402:(Y,se,D)=>{var T=D(1384),P=D(7673),O=D(2447);Y.exports=function I(C){return O(C)?T(C,!0):P(C)}},2819:Y=>{Y.exports=function se(D){var T=null==D?0:D.length;return T?D[T-1]:void 0}},8921:(Y,se,D)=>{var T=D(3880),P=D(1627),O=D(2839),I=D(2261);Y.exports=function C(S,R){return(I(S)?T:O)(S,P(R,3))}},6054:(Y,se,D)=>{var T=D(1741),P=D(7794),O=D(1627);Y.exports=function I(C,S){var R={};return S=O(S,3),P(C,function(A,V,L){T(R,V,S(A,V,L))}),R}},5664:(Y,se,D)=>{var T=D(4530),P=D(8444),O=D(5657);Y.exports=function I(C){return C&&C.length?T(C,O,P):void 0}},7659:(Y,se,D)=>{var T=D(1811);function O(I,C){if("function"!=typeof I||null!=C&&"function"!=typeof C)throw new TypeError("Expected a function");var S=function(){var R=arguments,A=C?C.apply(this,R):R[0],V=S.cache;if(V.has(A))return V.get(A);var L=I.apply(this,R);return S.cache=V.set(A,L)||V,L};return S.cache=new(O.Cache||T),S}O.Cache=T,Y.exports=O},2213:(Y,se,D)=>{var T=D(3294),O=D(1300)(function(I,C,S){T(I,C,S)});Y.exports=O},1007:(Y,se,D)=>{var T=D(4530),P=D(8898),O=D(5657);Y.exports=function I(C){return C&&C.length?T(C,O,P):void 0}},50:(Y,se,D)=>{var T=D(4530),P=D(1627),O=D(8898);Y.exports=function I(C,S){return C&&C.length?T(C,P(S,2),O):void 0}},4249:Y=>{Y.exports=function se(){}},5533:(Y,se,D)=>{var T=D(8492);Y.exports=function(){return T.Date.now()}},7607:(Y,se,D)=>{var T=D(2784),O=D(6801)(function(I,C){return null==I?{}:T(I,C)});Y.exports=O},2692:(Y,se,D)=>{var T=D(3400),P=D(6443),O=D(6300),I=D(8916);Y.exports=function C(S){return O(S)?T(I(S)):P(S)}},5953:(Y,se,D)=>{var P=D(4222)();Y.exports=P},5909:(Y,se,D)=>{var T=D(9850),P=D(5103),O=D(1627),I=D(8978),C=D(2261);Y.exports=function S(R,A,V){var L=C(R)?T:I,k=arguments.length<3;return L(R,O(A,4),V,k,P)}},7939:(Y,se,D)=>{var T=D(9478);Y.exports=function P(O,I,C){return null==O?O:T(O,I,C)}},5741:(Y,se,D)=>{var T=D(190),P=D(2472),O=D(2447),I=D(2164),C=D(7339);Y.exports=function A(V){if(null==V)return 0;if(O(V))return I(V)?C(V):V.length;var L=P(V);return"[object Map]"==L||"[object Set]"==L?V.size:T(V).length}},7184:(Y,se,D)=>{var T=D(1883),P=D(252),O=D(8951),I=D(3817),C=O(function(S,R){if(null==S)return[];var A=R.length;return A>1&&I(S,R[0],R[1])?R=[]:A>2&&I(R[0],R[1],R[2])&&(R=[R[0]]),P(S,T(R,1),[])});Y.exports=C},1315:Y=>{Y.exports=function se(){return[]}},5706:Y=>{Y.exports=function se(){return!1}},9292:(Y,se,D)=>{var T=D(4282),P=1/0;Y.exports=function I(C){return C?(C=T(C))===P||C===-P?17976931348623157e292*(C<0?-1:1):C==C?C:0:0===C?C:0}},481:(Y,se,D)=>{var T=D(9292);Y.exports=function P(O){var I=T(O),C=I%1;return I==I?C?I-C:I:0}},4282:(Y,se,D)=>{var T=D(9484),P=D(9794),O=D(3423),C=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,R=/^0o[0-7]+$/i,A=parseInt;Y.exports=function V(L){if("number"==typeof L)return L;if(O(L))return NaN;if(P(L)){var k="function"==typeof L.valueOf?L.valueOf():L;L=P(k)?k+"":k}if("string"!=typeof L)return 0===L?L:+L;L=T(L);var H=S.test(L);return H||R.test(L)?A(L.slice(2),H?2:8):C.test(L)?NaN:+L}},9078:(Y,se,D)=>{var T=D(3880),P=D(4231),O=D(2261),I=D(3423),C=D(163),S=D(8916),R=D(2674);Y.exports=function A(V){return O(V)?T(V,S):I(V)?[V]:P(C(R(V)))}},4210:(Y,se,D)=>{var T=D(5931),P=D(6402);Y.exports=function O(I){return T(I,P(I))}},2674:(Y,se,D)=>{var T=D(7002);Y.exports=function P(O){return null==O?"":T(O)}},6893:(Y,se,D)=>{var T=D(7772),P=D(1391),O=D(7794),I=D(1627),C=D(6186),S=D(2261),R=D(7525),A=D(6861),V=D(9794),L=D(4868);Y.exports=function k(H,$,Q){var ue=S(H),ne=ue||R(H)||L(H);if($=I($,4),null==Q){var le=H&&H.constructor;Q=ne?ue?new le:[]:V(H)&&A(le)?P(C(H)):{}}return(ne?T:O)(H,function(ae,de,te){return $(Q,ae,de,te)}),Q}},2480:(Y,se,D)=>{var T=D(1883),P=D(8951),O=D(9154),I=D(3471),C=P(function(S){return O(T(S,1,I,!0))});Y.exports=C},4538:(Y,se,D)=>{var T=D(2674),P=0;Y.exports=function O(I){var C=++P;return T(I)+C}},8808:(Y,se,D)=>{var T=D(6680),P=D(4614);Y.exports=function O(I){return null==I?[]:T(I,P(I))}},4606:(Y,se,D)=>{var T=D(9553),P=D(2255);Y.exports=function O(I,C){return P(I||[],C||[],T)}}},Y=>{Y(Y.s=7171)}]);
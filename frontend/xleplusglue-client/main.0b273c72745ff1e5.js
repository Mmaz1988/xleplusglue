(self.webpackChunkgswb_client=self.webpackChunkgswb_client||[]).push([[179],{2665:($,ae,D)=>{"use strict";function T(t){return"function"==typeof t}function k(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const N=k(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function I(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class C{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(T(r))try{r()}catch(s){n=s instanceof N?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{A(s)}catch(c){n=n??[],c instanceof N?n=[...n,...c.errors]:n.push(c)}}if(n)throw new N(n)}}add(n){var e;if(n&&n!==this)if(this.closed)A(n);else{if(n instanceof C){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&I(e,n)}remove(n){const{_finalizers:e}=this;e&&I(e,n),n instanceof C&&n._removeParent(this)}}C.EMPTY=(()=>{const t=new C;return t.closed=!0,t})();const S=C.EMPTY;function O(t){return t instanceof C||t&&"closed"in t&&T(t.remove)&&T(t.add)&&T(t.unsubscribe)}function A(t){T(t)?t():t.unsubscribe()}const V={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},L={setTimeout(t,n,...e){const{delegate:r}=L;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=L;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function B(t){L.setTimeout(()=>{const{onUnhandledError:n}=V;if(!n)throw t;n(t)})}function H(){}const Y=ne("C",void 0,void 0);function ne(t,n,e){return{kind:t,value:n,error:e}}let le=null;function se(t){if(V.useDeprecatedSynchronousErrorHandling){const n=!le;if(n&&(le={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=le;if(le=null,e)throw r}}else t()}class te extends C{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,O(n)&&n.add(this)):this.destination=De}static create(n,e,r){return new ie(n,e,r)}next(n){this.isStopped?Se(function ce(t){return ne("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Se(function ee(t){return ne("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Se(Y,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pe=Function.prototype.bind;function Z(t,n){return pe.call(t,n)}class oe{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){me(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){me(r)}else me(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){me(e)}}}class ie extends te{constructor(n,e,r){let i;if(super(),T(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let s;this&&V.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Z(n.next,s),error:n.error&&Z(n.error,s),complete:n.complete&&Z(n.complete,s)}):i=n}this.destination=new oe(i)}}function me(t){V.useDeprecatedSynchronousErrorHandling?function he(t){V.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=t)}(t):B(t)}function Se(t,n){const{onStoppedNotification:e}=V;e&&L.setTimeout(()=>e(t,n))}const De={closed:!0,next:H,error:function _e(t){throw t},complete:H},ze="function"==typeof Symbol&&Symbol.observable||"@@observable";function Be(t){return t}function ft(t){return 0===t.length?Be:1===t.length?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}let Ye=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){const s=function Kt(t){return t&&t instanceof te||function Xe(t){return t&&T(t.next)&&T(t.error)&&T(t.complete)}(t)&&O(t)}(e)?e:new ie(e,r,i);return se(()=>{const{operator:c,source:m}=this;s.add(c?c.call(s,m):m?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=_t(r))((i,s)=>{const c=new ie({next:m=>{try{e(m)}catch(_){s(_),c.unsubscribe()}},error:s,complete:i});this.subscribe(c)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[ze](){return this}pipe(...e){return ft(e)(this)}toPromise(e){return new(e=_t(e))((r,i)=>{let s;this.subscribe(c=>s=c,c=>i(c),()=>r(s))})}}return t.create=n=>new t(n),t})();function _t(t){var n;return null!==(n=t??V.Promise)&&void 0!==n?n:Promise}const Ht=k(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Mt=(()=>{class t extends Ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new mn(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Ht}next(e){se(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){se(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){se(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:s}=this;return r||i?S:(this.currentObservers=null,s.push(e),new C(()=>{this.currentObservers=null,I(s,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:s}=this;r?e.error(i):s&&e.complete()}asObservable(){const e=new Ye;return e.source=this,e}}return t.create=(n,e)=>new mn(n,e),t})();class mn extends Mt{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:S}}class un extends Mt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function lt(t){return T(t?.lift)}function tt(t){return n=>{if(lt(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ht(t,n,e,r,i){return new Ft(t,n,e,r,i)}class Ft extends te{constructor(n,e,r,i,s,c){super(n),this.onFinalize=s,this.shouldUnsubscribe=c,this._next=e?function(m){try{e(m)}catch(_){n.error(_)}}:super._next,this._error=i?function(m){try{i(m)}catch(_){n.error(_)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(m){n.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Dt(t,n){return tt((e,r)=>{let i=0;e.subscribe(ht(r,s=>{r.next(t.call(n,s,i++))}))})}function Xo(t){return this instanceof Xo?(this.v=t,this):new Xo(t)}function Ss(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function ja(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(s){e[s]=t[s]&&function(c){return new Promise(function(m,_){!function i(s,c,m,_){Promise.resolve(_).then(function(R){s({value:R,done:m})},c)}(m,_,(c=t[s](c)).done,c.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ia=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Ks(t){return T(t?.then)}function Jc(t){return T(t[ze])}function os(t){return Symbol.asyncIterator&&T(t?.[Symbol.asyncIterator])}function Aa(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const as=function ch(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ed(t){return T(t?.[as])}function gu(t){return function dl(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(t,n||[]),s=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(ge){r[ge]&&(i[ge]=function(be){return new Promise(function(Ie,Fe){s.push([ge,be,Ie,Fe])>1||m(ge,be)})})}function m(ge,be){try{!function _(ge){ge.value instanceof Xo?Promise.resolve(ge.value.v).then(R,U):K(s[0][2],ge)}(r[ge](be))}catch(Ie){K(s[0][3],Ie)}}function R(ge){m("next",ge)}function U(ge){m("throw",ge)}function K(ge,be){ge(be),s.shift(),s.length&&m(s[0][0],s[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:i}=yield Xo(e.read());if(i)return yield Xo(void 0);yield yield Xo(r)}}finally{e.releaseLock()}})}function Qu(t){return T(t?.getReader)}function Oo(t){if(t instanceof Ye)return t;if(null!=t){if(Jc(t))return function td(t){return new Ye(n=>{const e=t[ze]();if(T(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Ia(t))return function Ju(t){return new Ye(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(Ks(t))return function ec(t){return new Ye(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,B)})}(t);if(os(t))return tc(t);if(ed(t))return function Ts(t){return new Ye(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(Qu(t))return function nd(t){return tc(gu(t))}(t)}throw Aa(t)}function tc(t){return new Ye(n=>{(function ni(t,n){var e,r,i,s;return function Pi(t,n,e,r){return new(e||(e=Promise))(function(s,c){function m(U){try{R(r.next(U))}catch(K){c(K)}}function _(U){try{R(r.throw(U))}catch(K){c(K)}}function R(U){U.done?s(U.value):function i(s){return s instanceof e?s:new e(function(c){c(s)})}(U.value).then(m,_)}R((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Ss(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(c){i={error:c}}finally{try{r&&!r.done&&(s=e.return)&&(yield s.call(e))}finally{if(i)throw i.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Na(t,n,e,r=0,i=!1){const s=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Zi(t,n,e=1/0){return T(n)?Zi((r,i)=>Dt((s,c)=>n(r,s,i,c))(Oo(t(r,i))),e):("number"==typeof n&&(e=n),tt((r,i)=>function Sr(t,n,e,r,i,s,c,m){const _=[];let R=0,U=0,K=!1;const ge=()=>{K&&!_.length&&!R&&n.complete()},be=Fe=>R<r?Ie(Fe):_.push(Fe),Ie=Fe=>{s&&n.next(Fe),R++;let nt=!1;Oo(e(Fe,U++)).subscribe(ht(n,gt=>{i?.(gt),s?be(gt):n.next(gt)},()=>{nt=!0},void 0,()=>{if(nt)try{for(R--;_.length&&R<r;){const gt=_.shift();c?Na(n,c,()=>Ie(gt)):Ie(gt)}ge()}catch(gt){n.error(gt)}}))};return t.subscribe(ht(n,be,()=>{K=!0,ge()})),()=>{m?.()}}(r,i,t,e)))}function Oi(t=1/0){return Zi(Be,t)}const ma=new Ye(t=>t.complete());function Cn(t){return t&&T(t.schedule)}function si(t){return t[t.length-1]}function $a(t){return T(si(t))?t.pop():void 0}function Ro(t){return Cn(si(t))?t.pop():void 0}function qi(t,n=0){return tt((e,r)=>{e.subscribe(ht(r,i=>Na(r,t,()=>r.next(i),n),()=>Na(r,t,()=>r.complete(),n),i=>Na(r,t,()=>r.error(i),n)))})}function ko(t,n=0){return tt((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function Ms(t,n){if(!t)throw new Error("Iterable cannot be null");return new Ye(e=>{Na(e,n,()=>{const r=t[Symbol.asyncIterator]();Na(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Ve(t,n){return n?function Re(t,n){if(null!=t){if(Jc(t))return function rd(t,n){return Oo(t).pipe(ko(n),qi(n))}(t,n);if(Ia(t))return function Wn(t,n){return new Ye(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(Ks(t))return function St(t,n){return Oo(t).pipe(ko(n),qi(n))}(t,n);if(os(t))return Ms(t,n);if(ed(t))return function id(t,n){return new Ye(e=>{let r;return Na(e,n,()=>{r=t[as](),Na(e,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(c){return void e.error(c)}s?e.complete():e.next(i)},0,!0)}),()=>T(r?.return)&&r.return()})}(t,n);if(Qu(t))return function Ne(t,n){return Ms(gu(t),n)}(t,n)}throw Aa(t)}(t,n):Oo(t)}function et(...t){const n=Ro(t),e=function kr(t,n){return"number"==typeof si(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?Oo(r[0]):Oi(e)(Ve(r,n)):ma}function qe(...t){return Ve(t,Ro(t))}function Zt(t={}){const{connector:n=(()=>new Mt),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let c,m,_,R=0,U=!1,K=!1;const ge=()=>{m?.unsubscribe(),m=void 0},be=()=>{ge(),c=_=void 0,U=K=!1},Ie=()=>{const Fe=c;be(),Fe?.unsubscribe()};return tt((Fe,nt)=>{R++,!K&&!U&&ge();const gt=_=_??n();nt.add(()=>{R--,0===R&&!K&&!U&&(m=gn(Ie,i))}),gt.subscribe(nt),!c&&R>0&&(c=new ie({next:Qe=>gt.next(Qe),error:Qe=>{K=!0,ge(),m=gn(be,e,Qe),gt.error(Qe)},complete:()=>{U=!0,ge(),m=gn(be,r),gt.complete()}}),Oo(Fe).subscribe(c))})(s)}}function gn(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new ie({next:()=>{r.unsubscribe(),t()}});return Oo(n(...e)).subscribe(r)}function Vt(t,n){return tt((e,r)=>{let i=null,s=0,c=!1;const m=()=>c&&!i&&r.complete();e.subscribe(ht(r,_=>{i?.unsubscribe();let R=0;const U=s++;Oo(t(_,U)).subscribe(i=ht(r,K=>r.next(n?n(_,K,U,R++):K),()=>{i=null,m()}))},()=>{c=!0,m()}))})}function Jt(t,n=Be){return t=t??Hn,tt((e,r)=>{let i,s=!0;e.subscribe(ht(r,c=>{const m=n(c);(s||!t(i,m))&&(s=!1,i=m,r.next(c))}))})}function Hn(t,n){return t===n}function Bt(t){for(let n in t)if(t[n]===Bt)return n;throw Error("Could not find renamed property on target object.")}function Ir(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function er(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(er).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function or(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ri=Bt({__forward_ref__:Bt});function Sn(t){return t.__forward_ref__=Sn,t.toString=function(){return er(this())},t}function nn(t){return Pr(t)?t():t}function Pr(t){return"function"==typeof t&&t.hasOwnProperty(ri)&&t.__forward_ref__===Sn}function pi(t){return t&&!!t.\u0275providers}const gr="https://g.co/ng/security#xss";class Ze extends Error{constructor(n,e){super(function Lr(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function vn(t){return"string"==typeof t?t:null==t?"":String(t)}function Vi(t,n){throw new Ze(-201,!1)}function io(t,n){null==t&&function tr(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function rn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ra(t){return mu(t,ka)||mu(t,zl)}function mu(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ko(t){return t&&(t.hasOwnProperty(As)||t.hasOwnProperty(oc))?t[As]:null}const ka=Bt({\u0275prov:Bt}),As=Bt({\u0275inj:Bt}),zl=Bt({ngInjectableDef:Bt}),oc=Bt({ngInjectorDef:Bt});var Pn=(()=>((Pn=Pn||{})[Pn.Default=0]="Default",Pn[Pn.Host=1]="Host",Pn[Pn.Self=2]="Self",Pn[Pn.SkipSelf=4]="SkipSelf",Pn[Pn.Optional=8]="Optional",Pn))();let Xa;function yo(t){const n=Xa;return Xa=t,n}function ss(t,n,e){const r=Ra(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Pn.Optional?null:void 0!==n?n:void Vi(er(t))}const gi=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),vu={},yu="__NG_DI_FLAG__",sc="ngTempTokenPath",bo=/\n/gm,fh="__source";let Qs;function Pa(t){const n=Qs;return Qs=t,n}function xp(t,n=Pn.Default){if(void 0===Qs)throw new Ze(-203,!1);return null===Qs?ss(t,void 0,n):Qs.get(t,n&Pn.Optional?null:void 0,n)}function Pt(t,n=Pn.Default){return(function pl(){return Xa}()||xp)(nn(t),n)}function en(t,n=Pn.Default){return Pt(t,hf(n))}function hf(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function pf(t){const n=[];for(let e=0;e<t.length;e++){const r=nn(t[e]);if(Array.isArray(r)){if(0===r.length)throw new Ze(900,!1);let i,s=Pn.Default;for(let c=0;c<r.length;c++){const m=r[c],_=om(m);"number"==typeof _?-1===_?i=m.token:s|=_:i=m}n.push(Pt(i,s))}else n.push(Pt(r))}return n}function uc(t,n){return t[yu]=n,t.prototype[yu]=n,t}function om(t){return t[yu]}function ls(t){return{toString:t}.toString()}var us=(()=>((us=us||{})[us.OnPush=0]="OnPush",us[us.Default=1]="Default",us))(),va=(()=>{return(t=va||(va={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",va;var t})();const wo={},Cr=[],dc=Bt({\u0275cmp:Bt}),gf=Bt({\u0275dir:Bt}),mf=Bt({\u0275pipe:Bt}),Dp=Bt({\u0275mod:Bt}),Ns=Bt({\u0275fac:Bt}),Gl=Bt({__NG_ELEMENT_ID__:Bt}),jl=Bt({__NG_ENV_ID__:Bt});function Os(t,n,e){let r=t.length;for(;;){const i=t.indexOf(n,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=n.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}e=i+1}}function vf(t,n,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const s=e[r++],c=e[r++],m=e[r++];t.setAttribute(n,c,m,s)}else{const s=i,c=e[++r];wu(s)?t.setProperty(n,s,c):t.setAttribute(n,s,c),r++}}return r}function bu(t){return 3===t||4===t||6===t}function wu(t){return 64===t.charCodeAt(0)}function Wl(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?e=i:0===e||Sp(t,e,i,null,-1===e||2===e?n[++r]:null)}}return t}function Sp(t,n,e,r,i){let s=0,c=t.length;if(-1===n)c=-1;else for(;s<t.length;){const m=t[s++];if("number"==typeof m){if(m===n){c=-1;break}if(m>n){c=s-1;break}}}for(;s<t.length;){const m=t[s];if("number"==typeof m)break;if(m===e){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==c&&(t.splice(c,0,n),s=c+1),t.splice(s++,0,e),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const ad="ng-template";function sd(t,n,e){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const c=t[r++];if(e&&"class"===s&&-1!==Os(c.toLowerCase(),n,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===n)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function $l(t){return 4===t.type&&t.value!==ad}function ph(t,n,e){return n===(4!==t.type||e?t.value:ad)}function gh(t,n,e){let r=4;const i=t.attrs||[],s=function cs(t){for(let n=0;n<t.length;n++)if(bu(t[n]))return n;return t.length}(i);let c=!1;for(let m=0;m<n.length;m++){const _=n[m];if("number"!=typeof _){if(!c)if(4&r){if(r=2|1&r,""!==_&&!ph(t,_,e)||""===_&&1===n.length){if(Ka(r))return!1;c=!0}}else{const R=8&r?_:n[++m];if(8&r&&null!==t.attrs){if(!sd(t.attrs,R,e)){if(Ka(r))return!1;c=!0}continue}const K=yf(8&r?"class":_,i,$l(t),e);if(-1===K){if(Ka(r))return!1;c=!0;continue}if(""!==R){let ge;ge=K>s?"":i[K+1].toLowerCase();const be=8&r?ge:null;if(be&&-1!==Os(be,R,0)||2&r&&R!==ge){if(Ka(r))return!1;c=!0}}}}else{if(!c&&!Ka(r)&&!Ka(_))return!1;if(c&&Ka(_))continue;c=!1,r=_|1&r}}return Ka(r)||c}function Ka(t){return 0==(1&t)}function yf(t,n,e,r){if(null===n)return-1;let i=0;if(r||!e){let s=!1;for(;i<n.length;){const c=n[i];if(c===t)return i;if(3===c||6===c)s=!0;else{if(1===c||2===c){let m=n[++i];for(;"string"==typeof m;)m=n[++i];continue}if(4===c)break;if(0===c){i+=4;continue}}i+=s?1:2}return-1}return function Tp(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function mh(t,n,e=!1){for(let r=0;r<n.length;r++)if(gh(t,n[r],e))return!0;return!1}function vh(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function bf(t,n){return t?":not("+n.trim()+")":n}function Mp(t){let n=t[0],e=1,r=2,i="",s=!1;for(;e<t.length;){let c=t[e];if("string"==typeof c)if(2&r){const m=t[++e];i+="["+c+(m.length>0?'="'+m+'"':"")+"]"}else 8&r?i+="."+c:4&r&&(i+=" "+c);else""!==i&&!Ka(c)&&(n+=bf(s,i),i=""),r=c,s=s||!Ka(r);e++}return""!==i&&(n+=bf(s,i)),n}function Or(t){return ls(()=>{const n=vl(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===us.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||va.Emulated,styles:t.styles||Cr,_:null,schemas:t.schemas||null,tView:null,id:""};fc(e);const r=t.dependencies;return e.directiveDefs=Cf(r,!1),e.pipeDefs=Cf(r,!0),e.id=function ud(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of e)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(e),e})}function sm(t){return Fr(t)||Hi(t)}function _u(t){return null!==t}function Qr(t){return ls(()=>({type:t.type,bootstrap:t.bootstrap||Cr,declarations:t.declarations||Cr,imports:t.imports||Cr,exports:t.exports||Cr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function _f(t,n){if(null==t)return wo;const e={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),e[i]=r,n&&(n[i]=s)}return e}function an(t){return ls(()=>{const n=vl(t);return fc(n),n})}function Fr(t){return t[dc]||null}function Hi(t){return t[gf]||null}function oo(t){return t[mf]||null}function so(t,n){const e=t[Dp]||null;if(!e&&!0===n)throw new Error(`Type ${er(t)} does not have '\u0275mod' property.`);return e}function vl(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||wo,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Cr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_f(t.inputs,n),outputs:_f(t.outputs)}}function fc(t){t.features?.forEach(n=>n(t))}function Cf(t,n){if(!t)return null;const e=n?oo:sm;return()=>("function"==typeof t?t():t).map(r=>e(r)).filter(_u)}const lo=0,fn=1,Gn=2,ki=3,aa=4,hc=5,_o=6,yl=7,mi=8,Js=9,sa=10,Kn=11,pc=12,bh=13,Cu=14,zi=15,ds=16,Za=17,uo=18,cd=19,dd=20,bl=21,ur=22,fd=23,qa=24,hn=25,pn=1,wl=2,Rs=7,Eu=9,ii=11;function Qa(t){return Array.isArray(t)&&"object"==typeof t[pn]}function La(t){return Array.isArray(t)&&!0===t[pn]}function wh(t){return 0!=(4&t.flags)}function xu(t){return t.componentOffset>-1}function Ef(t){return 1==(1&t.flags)}function fs(t){return!!t.template}function la(t){return 0!=(512&t[Gn])}function co(t,n){return t.hasOwnProperty(Ns)?t[Ns]:null}let ua=gi.WeakRef??class jr{constructor(n){this.ref=n}deref(){return this.ref}},hs=0,Bo=null,Cl=!1;function Ji(t){const n=Bo;return Bo=t,n}class gc{constructor(){this.id=hs++,this.ref=function ba(t){return new ua(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,e]of this.producers){const r=e.producerNode.deref();if(void 0!==r&&e.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(e.seenValueVersion))return!0}else this.producers.delete(n),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=Cl;Cl=!0;try{for(const[e,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(e),i?.producers.delete(this.id))}}finally{Cl=n}}producerAccessed(){if(Cl)throw new Error("");if(null===Bo)return;let n=Bo.producers.get(this.id);void 0===n?(n={consumerNode:Bo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Bo.trackingVersion},Bo.producers.set(this.id,n),this.consumers.set(Bo.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=Bo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Bo?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let xh=null;const yd=()=>{};class kp extends gc{constructor(n,e,r){super(),this.watch=n,this.schedule=e,this.dirty=!1,this.cleanupFn=yd,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=Ji(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=yd,this.watch(this.registerOnCleanup)}finally{Ji(n)}}cleanup(){this.cleanupFn()}}class dm{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function wa(){return Dh}function Dh(t){return t.type.prototype.ngOnChanges&&(t.setInput=Mf),bc}function bc(){const t=Sh(this),n=t?.current;if(n){const e=t.previous;if(e===wo)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function Mf(t,n,e,r){const i=this.declaredInputs[e],s=Sh(t)||function Th(t,n){return t[bd]=n}(t,{previous:wo,current:null}),c=s.current||(s.current={}),m=s.previous,_=m[i];c[i]=new dm(_&&_.currentValue,n,m===wo),t[r]=n}wa.ngInherit=!0;const bd="__ngSimpleChanges__";function Sh(t){return t[bd]||null}const Fa=function(t,n,e){};function di(t){for(;Array.isArray(t);)t=t[lo];return t}function Ed(t,n){return di(n[t])}function Ui(t,n){return di(n[t.index])}function If(t,n){return t.data[n]}function Ba(t,n){const e=n[t];return Qa(e)?e:e[lo]}function tl(t,n){return null==n?null:t[n]}function Tr(t){t[Za]=0}function fm(t){1024&t[Gn]||(t[Gn]|=1024,_c(t,1))}function ql(t){1024&t[Gn]&&(t[Gn]&=-1025,_c(t,-1))}function _c(t,n){let e=t[ki];if(null===e)return;e[hc]+=n;let r=e;for(e=e[ki];null!==e&&(1===n&&1===r[hc]||-1===n&&0===r[hc]);)e[hc]+=n,r=e,e=e[ki]}const Ln={lFrame:Sc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Sd(){return Ln.bindingsEnabled}function Ho(){return null!==Ln.skipHydrationRootTNode}function Rt(){return Ln.lFrame.lView}function br(){return Ln.lFrame.tView}function Zn(t){return Ln.lFrame.contextLView=t,t[mi]}function eo(t){return Ln.lFrame.contextLView=null,t}function zo(){let t=Nh();for(;null!==t&&64===t.type;)t=t.parent;return t}function Nh(){return Ln.lFrame.currentTNode}function gs(t,n){const e=Ln.lFrame;e.currentTNode=t,e.isParent=n}function Md(){return Ln.lFrame.isParent}function fo(){Ln.lFrame.isParent=!1}function Gi(){const t=Ln.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Ps(){return Ln.lFrame.bindingIndex++}function Uo(t){const n=Ln.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function nl(t,n){const e=Ln.lFrame;e.bindingIndex=e.bindingRootIndex=t,Id(n)}function Id(t){Ln.lFrame.currentDirectiveIndex=t}function Ad(){return Ln.lFrame.currentQueryIndex}function Ls(t){Ln.lFrame.currentQueryIndex=t}function Nf(t){const n=t[fn];return 2===n.type?n.declTNode:1===n.type?t[_o]:null}function Dc(t,n,e){if(e&Pn.SkipSelf){let i=n,s=t;for(;!(i=i.parent,null!==i||e&Pn.Host||(i=Nf(s),null===i||(s=s[Cu],10&i.type))););if(null===i)return!1;n=i,t=s}const r=Ln.lFrame=Hp();return r.currentTNode=n,r.lView=t,!0}function tu(t){const n=Hp(),e=t[fn];Ln.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Hp(){const t=Ln.lFrame,n=null===t?null:t.child;return null===n?Sc(t):n}function Sc(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Nd(){const t=Ln.lFrame;return Ln.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Od=Nd;function xo(){const t=Nd();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Do(){return Ln.lFrame.selectedIndex}function ts(t){Ln.lFrame.selectedIndex=t}function Vr(){const t=Ln.lFrame;return If(t.tView,t.selectedIndex)}let Go=!0;function Pd(){return Go}function ru(t){Go=t}function ms(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const s=t.data[e].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:m,ngAfterViewInit:_,ngAfterViewChecked:R,ngOnDestroy:U}=s;c&&(t.contentHooks??=[]).push(-e,c),m&&((t.contentHooks??=[]).push(e,m),(t.contentCheckHooks??=[]).push(e,m)),_&&(t.viewHooks??=[]).push(-e,_),R&&((t.viewHooks??=[]).push(e,R),(t.viewCheckHooks??=[]).push(e,R)),null!=U&&(t.destroyHooks??=[]).push(e,U)}}function vs(t,n,e){zp(t,n,3,e)}function Iu(t,n,e,r){(3&t[Gn])===e&&zp(t,n,e,r)}function Of(t,n){let e=t[Gn];(3&e)===n&&(e&=8191,e+=1,t[Gn]=e)}function zp(t,n,e,r){const s=r??-1,c=n.length-1;let m=0;for(let _=void 0!==r?65535&t[Za]:0;_<c;_++)if("number"==typeof n[_+1]){if(m=n[_],null!=r&&m>=r)break}else n[_]<0&&(t[Za]+=65536),(m<s||-1==s)&&(Up(t,e,n,_),t[Za]=(4294901760&t[Za])+_+2),_++}function Au(t,n){Fa(4,t,n);const e=Ji(null);try{n.call(t)}finally{Ji(e),Fa(5,t,n)}}function Up(t,n,e,r){const i=e[r]<0,s=e[r+1],m=t[i?-e[r]:e[r]];i?t[Gn]>>13<t[Za]>>16&&(3&t[Gn])===n&&(t[Gn]+=8192,Au(m,s)):Au(m,s)}const Nu=-1;class Tc{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Rh(t){return t!==Nu}function Ou(t){return 32767&t}function Bd(t,n){let e=function mm(t){return t>>16}(t),r=n;for(;e>0;)r=r[Cu],e--;return r}let kh=!0;function oi(t){const n=kh;return kh=t,n}const Vd=255,Mc=5;let Fs=0;const ca={};function Hd(t,n){const e=Lh(t,n);if(-1!==e)return e;const r=n[fn];r.firstCreatePass&&(t.injectorIndex=n.length,Pf(r.data,t),Pf(n,null),Pf(r.blueprint,null));const i=zd(t,n),s=t.injectorIndex;if(Rh(i)){const c=Ou(i),m=Bd(i,n),_=m[fn].data;for(let R=0;R<8;R++)n[s+R]=m[c+R]|_[c+R]}return n[s+8]=i,s}function Pf(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Lh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function zd(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;null!==i;){if(r=d(i),null===r)return Nu;if(e++,i=i[Cu],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return Nu}function Lf(t,n,e){!function Ph(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Gl)&&(r=e[Gl]),null==r&&(r=e[Gl]=Fs++);const i=r&Vd;n.data[t+(i>>Mc)]|=1<<i}(t,n,e)}function Ff(t,n,e){if(e&Pn.Optional||void 0!==t)return t;Vi()}function Bf(t,n,e,r){if(e&Pn.Optional&&void 0===r&&(r=null),!(e&(Pn.Self|Pn.Host))){const i=t[Js],s=yo(void 0);try{return i?i.get(n,r,e&Pn.Optional):ss(n,r,e&Pn.Optional)}finally{yo(s)}}return Ff(r,0,e)}function Xr(t,n,e,r=Pn.Default,i){if(null!==t){if(2048&n[Gn]&&!(r&Pn.Self)){const c=function a(t,n,e,r,i){let s=t,c=n;for(;null!==s&&null!==c&&2048&c[Gn]&&!(512&c[Gn]);){const m=Ud(s,c,e,r|Pn.Self,ca);if(m!==ca)return m;let _=s.parent;if(!_){const R=c[dd];if(R){const U=R.get(e,ca,r);if(U!==ca)return U}_=d(c),c=c[Cu]}s=_}return i}(t,n,e,r,ca);if(c!==ca)return c}const s=Ud(t,n,e,r,ca);if(s!==ca)return s}return Bf(n,e,r,i)}function Ud(t,n,e,r,i){const s=function Gd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Gl)?t[Gl]:void 0;return"number"==typeof n?n>=0?n&Vd:Yp:n}(e);if("function"==typeof s){if(!Dc(n,t,r))return r&Pn.Host?Ff(i,0,r):Bf(n,e,r,i);try{const c=s(r);if(null!=c||r&Pn.Optional)return c;Vi()}finally{Od()}}else if("number"==typeof s){let c=null,m=Lh(t,n),_=Nu,R=r&Pn.Host?n[zi][_o]:null;for((-1===m||r&Pn.SkipSelf)&&(_=-1===m?zd(t,n):n[m+8],_!==Nu&&Ti(r,!1)?(c=n[fn],m=Ou(_),n=Bd(_,n)):m=-1);-1!==m;){const U=n[fn];if($p(s,m,U.data)){const K=vm(m,n,e,c,r,R);if(K!==ca)return K}_=n[m+8],_!==Nu&&Ti(r,n[fn].data[m+8]===R)&&$p(s,m,n)?(c=U,m=Ou(_),n=Bd(_,n)):m=-1}}return i}function vm(t,n,e,r,i,s){const c=n[fn],m=c.data[t+8],U=rl(m,c,e,null==r?xu(m)&&kh:r!=c&&0!=(3&m.type),i&Pn.Host&&s===m);return null!==U?Ru(n,c,U,m):ca}function rl(t,n,e,r,i){const s=t.providerIndexes,c=n.data,m=1048575&s,_=t.directiveStart,U=s>>20,ge=i?m+U:t.directiveEnd;for(let be=r?m:m+U;be<ge;be++){const Ie=c[be];if(be<_&&e===Ie||be>=_&&Ie.type===e)return be}if(i){const be=c[_];if(be&&fs(be)&&be.type===e)return _}return null}function Ru(t,n,e,r){let i=t[e];const s=n.data;if(function Gp(t){return t instanceof Tc}(i)){const c=i;c.resolving&&function ui(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${t}${e}`)}(function zn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():vn(t)}(s[e]));const m=oi(c.canSeeViewProviders);c.resolving=!0;const _=c.injectImpl?yo(c.injectImpl):null;Dc(t,r,Pn.Default);try{i=t[e]=c.factory(void 0,s,t,r),n.firstCreatePass&&e>=r.directiveStart&&function xl(t,n,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){const c=Dh(n);(e.preOrderHooks??=[]).push(t,c),(e.preOrderCheckHooks??=[]).push(t,c)}i&&(e.preOrderHooks??=[]).push(0-t,i),s&&((e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s))}(e,s[e],n)}finally{null!==_&&yo(_),oi(m),c.resolving=!1,Od()}}return i}function $p(t,n,e){return!!(e[n+(t>>Mc)]&1<<t)}function Ti(t,n){return!(t&Pn.Self||t&Pn.Host&&n)}class ku{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return Xr(this._tNode,this._lView,n,hf(r),e)}}function Yp(){return new ku(zo(),Rt())}function wi(t){return ls(()=>{const n=t.prototype.constructor,e=n[Ns]||ys(n),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ns]||ys(i);if(s&&s!==e)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ys(t){return Pr(t)?()=>{const n=ys(nn(t));return n&&n()}:co(t)}function d(t){const n=t[fn],e=n.type;return 2===e?n.declTNode:1===e?t[_o]:null}function y(t){return function Wp(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const s=e[i];if(bu(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(s===n)return e[i+1];i+=2}}}return null}(zo(),t)}const b="__parameters__";function J(t,n,e){return ls(()=>{const r=function X(t){return function(...e){if(t){const r=t(...e);for(const i in r)this[i]=r[i]}}}(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;const c=new i(...s);return m.annotation=c,m;function m(_,R,U){const K=_.hasOwnProperty(b)?_[b]:Object.defineProperty(_,b,{value:[]})[b];for(;K.length<=U;)K.push(null);return(K[U]=K[U]||[]).push(c),_}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Mi(t,n){t.forEach(e=>Array.isArray(e)?Mi(e,n):n(e))}function _i(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function jo(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ji(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function Hr(t,n,e){let r=ho(t,n);return r>=0?t[1|r]=e:(r=~r,function Wo(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(1===i)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function Ci(t,n){const e=ho(t,n);if(e>=0)return t[1|e]}function ho(t,n){return function Dl(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){const s=r+(i-r>>1),c=t[s<<e];if(n===c)return s<<e;c>n?i=s:r=s+1}return~(i<<e)}(t,n,1)}const ns=uc(J("Optional"),8),Bh=uc(J("SkipSelf"),4);function zf(t){return 128==(128&t.flags)}var ea=(()=>((ea=ea||{})[ea.Important=1]="Important",ea[ea.DashCase=2]="DashCase",ea))();const jh=/^>|^->|<!--|-->|--!>|<!-$/g,gw=/(<|>)/,Dy="\u200b$1\u200b";const qp=new Map;let mw=0;const Jp="__ngContext__";function Va(t,n){Qa(n)?(t[Jp]=n[cd],function Sy(t){qp.set(t[cd],t)}(n)):t[Jp]=n}let p;function g(t,n){return p(t,n)}function x(t){const n=t[ki];return La(n)?n[ki]:n}function P(t){return W(t[pc])}function z(t){return W(t[aa])}function W(t){for(;null!==t&&!La(t);)t=t[aa];return t}function j(t,n,e,r,i){if(null!=r){let s,c=!1;La(r)?s=r:Qa(r)&&(c=!0,r=r[lo]);const m=di(r);0===t&&null!==e?null==i?rt(n,e,m):Ge(n,e,m,i||null,!0):1===t&&null!==e?Ge(n,e,m,i||null,!0):2===t?function ar(t,n,e){const r=mt(t,n);r&&function vt(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,m,c):3===t&&n.destroyNode(m),null!=s&&function An(t,n,e,r,i){const s=e[Rs];s!==di(e)&&j(n,t,r,s,i);for(let m=ii;m<e.length;m++){const _=e[m];On(_[fn],_,t,n,r,s)}}(n,t,s,e,i)}}function re(t,n){return t.createComment(function Em(t){return t.replace(jh,n=>n.replace(gw,Dy))}(n))}function de(t,n,e){return t.createElement(n,e)}function we(t,n){const e=t[Eu],r=e.indexOf(n);ql(n),e.splice(r,1)}function ke(t,n){if(t.length<=ii)return;const e=ii+n,r=t[e];if(r){const i=r[ds];null!==i&&i!==t&&we(i,r),n>0&&(t[e-1][aa]=r[aa]);const s=jo(t,ii+n);!function fe(t,n){On(t,n,n[Kn],2,null,null),n[lo]=null,n[_o]=null}(r[fn],r);const c=s[uo];null!==c&&c.detachView(s[fn]),r[ki]=null,r[aa]=null,r[Gn]&=-129}return r}function Pe(t,n){if(!(256&n[Gn])){const e=n[Kn];n[fd]?.destroy(),n[qa]?.destroy(),e.destroyNode&&On(t,n,e,3,null,null),function Ae(t){let n=t[pc];if(!n)return Ee(t[fn],t);for(;n;){let e=null;if(Qa(n))e=n[pc];else{const r=n[ii];r&&(e=r)}if(!e){for(;n&&!n[aa]&&n!==t;)Qa(n)&&Ee(n[fn],n),n=n[ki];null===n&&(n=t),Qa(n)&&Ee(n[fn],n),e=n&&n[aa]}n=e}}(n)}}function Ee(t,n){if(!(256&n[Gn])){n[Gn]&=-129,n[Gn]|=256,function Oe(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const i=n[e[r]];if(!(i instanceof Tc)){const s=e[r+1];if(Array.isArray(s))for(let c=0;c<s.length;c+=2){const m=i[s[c]],_=s[c+1];Fa(4,m,_);try{_.call(m)}finally{Fa(5,m,_)}}else{Fa(4,i,s);try{s.call(i)}finally{Fa(5,i,s)}}}}}(t,n),function He(t,n){const e=t.cleanup,r=n[yl];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const c=e[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else e[s].call(r[e[s+1]]);null!==r&&(n[yl]=null);const i=n[bl];if(null!==i){n[bl]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,n),1===n[fn].type&&n[Kn].destroy();const e=n[ds];if(null!==e&&La(n[ki])){e!==n[ki]&&we(e,n);const r=n[uo];null!==r&&r.detachView(t)}!function vw(t){qp.delete(t[cd])}(n)}}function Ke(t,n,e){return function Ue(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[lo];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===va.None||s===va.Emulated)return null}return Ui(r,e)}}(t,n.parent,e)}function Ge(t,n,e,r,i){t.insertBefore(n,e,r,i)}function rt(t,n,e){t.appendChild(n,e)}function ct(t,n,e,r,i){null!==r?Ge(t,n,e,r,i):rt(t,n,e)}function mt(t,n){return t.parentNode(n)}function At(t,n,e){return wt(t,n,e)}let Je,Ce,Dn,hr,wt=function xt(t,n,e){return 40&t.type?Ui(t,e):null};function Ot(t,n,e,r){const i=Ke(t,r,n),s=n[Kn],m=At(r.parent||n[_o],r,n);if(null!=i)if(Array.isArray(e))for(let _=0;_<e.length;_++)ct(s,i,e[_],m,!1);else ct(s,i,e,m,!1);void 0!==Je&&Je(s,r,n,e,i)}function Wt(t,n){if(null!==n){const e=n.type;if(3&e)return Ui(n,t);if(4&e)return $n(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return Wt(t,r);{const i=t[n.index];return La(i)?$n(-1,i):di(i)}}if(32&e)return g(n,t)()||di(t[n.index]);{const r=tn(t,n);return null!==r?Array.isArray(r)?r[0]:Wt(x(t[zi]),r):Wt(t,n.next)}}return null}function tn(t,n){return null!==n?t[zi][_o].projection[n.projection]:null}function $n(t,n){const e=ii+t+1;if(e<n.length){const r=n[e],i=r[fn].firstChild;if(null!==i)return Wt(r,i)}return n[Rs]}function Qt(t,n,e,r,i,s,c){for(;null!=e;){const m=r[e.index],_=e.type;if(c&&0===n&&(m&&Va(di(m),r),e.flags|=2),32!=(32&e.flags))if(8&_)Qt(t,n,e.child,r,i,s,!1),j(n,t,i,m,s);else if(32&_){const R=g(e,r);let U;for(;U=R();)j(n,t,i,U,s);j(n,t,i,m,s)}else 16&_?sn(t,n,r,e,i,s):j(n,t,i,m,s);e=c?e.projectionNext:e.next}}function On(t,n,e,r,i,s){Qt(e,r,t.firstChild,n,i,s,!1)}function sn(t,n,e,r,i,s){const c=e[zi],_=c[_o].projection[r.projection];if(Array.isArray(_))for(let R=0;R<_.length;R++)j(n,t,i,_[R],s);else{let R=_;const U=c[ki];zf(r)&&(R.flags|=128),Qt(t,n,R,U,i,s,!0)}}function jn(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function zt(t,n,e){const{mergedAttrs:r,classes:i,styles:s}=e;null!==r&&vf(t,n,r),null!==i&&jn(t,n,i),null!==s&&function fr(t,n,e){t.setAttribute(n,"style",e)}(t,n,s)}function kt(t){return function dt(){if(void 0===Ce&&(Ce=null,gi.trustedTypes))try{Ce=gi.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ce}()?.createHTML(t)||t}function Kr(){if(void 0!==Dn)return Dn;if(typeof document<"u")return document;throw new Ze(210,!1)}function Zr(){if(void 0===hr&&(hr=null,gi.trustedTypes))try{hr=gi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hr}function cr(t){return Zr()?.createHTML(t)||t}function to(t){return Zr()?.createScriptURL(t)||t}class no{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gr})`}}class Ml extends no{getTypeName(){return"HTML"}}class Il extends no{getTypeName(){return"Style"}}class Ca extends no{getTypeName(){return"Script"}}class ol extends no{getTypeName(){return"URL"}}class is extends no{getTypeName(){return"ResourceURL"}}function Io(t){return t instanceof no?t.changingThisBreaksApplicationSecurity:t}function Ea(t,n){const e=function Uf(t){return t instanceof no&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${gr})`)}return e===n}class _s{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(kt(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class ng{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=kt(n),e}}const Iy=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rg(t){return(t=String(t)).match(Iy)?t:"unsafe:"+t}function Bu(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function $h(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const Ay=Bu("area,br,col,hr,img,wbr"),Ny=Bu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Oy=Bu("rp,rt"),jf=$h(Ay,$h(Ny,Bu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$h(Oy,Bu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$h(Oy,Ny)),og=Bu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),al=$h(og,Bu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sm=Bu("script,style,template");class ky{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!jf.hasOwnProperty(e))return this.sanitizedSomething=!0,!Sm.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),c=s.name,m=c.toLowerCase();if(!al.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let _=s.value;og[m]&&(_=rg(_)),this.buf.push(" ",c,'="',Py(_),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();jf.hasOwnProperty(e)&&!Ay.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(Py(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const Yh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Al=/([^\#-~ |!])/g;function Py(t){return t.replace(/&/g,"&amp;").replace(Yh,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Al,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ly;function Qx(t,n){let e=null;try{Ly=Ly||function xa(t){const n=new ng(t);return function ou(){try{return!!(new window.DOMParser).parseFromString(kt(""),"text/html")}catch{return!1}}()?new _s(n):n}(t);let r=n?String(n):"";e=Ly.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=e.innerHTML,e=Ly.getInertBodyElement(r)}while(r!==s);return kt((new ky).sanitizeChildren(ww(e)||e))}finally{if(e){const r=ww(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function ww(t){return"content"in t&&function Sk(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var fi=(()=>((fi=fi||{})[fi.NONE=0]="NONE",fi[fi.HTML=1]="HTML",fi[fi.STYLE=2]="STYLE",fi[fi.SCRIPT=3]="SCRIPT",fi[fi.URL=4]="URL",fi[fi.RESOURCE_URL=5]="RESOURCE_URL",fi))();function Jx(t){const n=Tm();return n?cr(n.sanitize(fi.HTML,t)||""):Ea(t,"HTML")?cr(Io(t)):Qx(Kr(),vn(t))}function eD(t){const n=Tm();return n?n.sanitize(fi.URL,t)||"":Ea(t,"URL")?Io(t):rg(vn(t))}function tD(t){const n=Tm();if(n)return to(n.sanitize(fi.RESOURCE_URL,t)||"");if(Ea(t,"ResourceURL"))return to(Io(t));throw new Ze(904,!1)}function Tm(){const t=Rt();return t&&t[sa].sanitizer}class Xt{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=rn({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Mm=new Xt("ENVIRONMENT_INITIALIZER"),rD=new Xt("INJECTOR",-1),iD=new Xt("INJECTOR_DEF_TYPES");class oD{get(n,e=vu){if(e===vu){const r=new Error(`NullInjectorError: No provider for ${er(n)}!`);throw r.name="NullInjectorError",r}return e}}function Ok(...t){return{\u0275providers:aD(0,t),\u0275fromNgModule:!0}}function aD(t,...n){const e=[],r=new Set;let i;return Mi(n,s=>{const c=s;Cw(c,e,[],r)&&(i||=[],i.push(c))}),void 0!==i&&sD(i,e),e}function sD(t,n){for(let e=0;e<t.length;e++){const{providers:i}=t[e];Ew(i,s=>{n.push(s)})}}function Cw(t,n,e,r){if(!(t=nn(t)))return!1;let i=null,s=Ko(t);const c=!s&&Fr(t);if(s||c){if(c&&!c.standalone)return!1;i=t}else{const _=t.ngModule;if(s=Ko(_),!s)return!1;i=_}const m=r.has(i);if(c){if(m)return!1;if(r.add(i),c.dependencies){const _="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const R of _)Cw(R,n,e,r)}}else{if(!s)return!1;{if(null!=s.imports&&!m){let R;r.add(i);try{Mi(s.imports,U=>{Cw(U,n,e,r)&&(R||=[],R.push(U))})}finally{}void 0!==R&&sD(R,n)}if(!m){const R=co(i)||(()=>new i);n.push({provide:i,useFactory:R,deps:Cr},{provide:iD,useValue:i,multi:!0},{provide:Mm,useValue:()=>Pt(i),multi:!0})}const _=s.providers;null==_||m||Ew(_,U=>{n.push(U)})}}return i!==t&&void 0!==t.providers}function Ew(t,n){for(let e of t)pi(e)&&(e=e.\u0275providers),Array.isArray(e)?Ew(e,n):n(e)}const Rk=Bt({provide:String,useValue:Bt});function xw(t){return null!==t&&"object"==typeof t&&Rk in t}function Xh(t){return"function"==typeof t}const Dw=new Xt("Set Injector scope."),Fy={},Pk={};let Sw;function By(){return void 0===Sw&&(Sw=new oD),Sw}class Nc{}class Tw extends Nc{get destroyed(){return this._destroyed}constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Iw(n,c=>this.processProvider(c)),this.records.set(rD,ag(void 0,this)),i.has("environment")&&this.records.set(Nc,ag(void 0,this));const s=this.records.get(Dw);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(iD.multi,Cr,Pn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of n)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Pa(this),r=yo(void 0);try{return n()}finally{Pa(e),yo(r)}}get(n,e=vu,r=Pn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(jl))return n[jl](this);r=hf(r);const i=Pa(this),s=yo(void 0);try{if(!(r&Pn.SkipSelf)){let m=this.records.get(n);if(void 0===m){const _=function Hk(t){return"function"==typeof t||"object"==typeof t&&t instanceof Xt}(n)&&Ra(n);m=_&&this.injectableDefInScope(_)?ag(Mw(n),Fy):null,this.records.set(n,m)}if(null!=m)return this.hydrate(n,m)}return(r&Pn.Self?By():this.parent).get(n,e=r&Pn.Optional&&e===vu?null:e)}catch(c){if("NullInjectorError"===c.name){if((c[sc]=c[sc]||[]).unshift(er(n)),i)throw c;return function cc(t,n,e,r){const i=t[sc];throw n[fh]&&i.unshift(n[fh]),t.message=function gl(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=er(n);if(Array.isArray(n))i=n.map(er).join(" -> ");else if("object"==typeof n){let s=[];for(let c in n)if(n.hasOwnProperty(c)){let m=n[c];s.push(c+":"+("string"==typeof m?JSON.stringify(m):er(m)))}i=`{${s.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(bo,"\n  ")}`}("\n"+t.message,i,e,r),t.ngTokenPath=i,t[sc]=null,t}(c,n,"R3InjectorError",this.source)}throw c}finally{yo(s),Pa(i)}}resolveInjectorInitializers(){const n=Pa(this),e=yo(void 0);try{const r=this.get(Mm.multi,Cr,Pn.Self);for(const i of r)i()}finally{Pa(n),yo(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(er(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(n){let e=Xh(n=nn(n))?n:nn(n&&n.provide);const r=function Fk(t){return xw(t)?ag(void 0,t.useValue):ag(cD(t),Fy)}(n);if(Xh(n)||!0!==n.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=ag(void 0,Fy,!0),i.factory=()=>pf(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===Fy&&(e.value=Pk,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Vk(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=nn(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function Mw(t){const n=Ra(t),e=null!==n?n.factory:co(t);if(null!==e)return e;if(t instanceof Xt)throw new Ze(204,!1);if(t instanceof Function)return function Lk(t){const n=t.length;if(n>0)throw ji(n,"?"),new Ze(204,!1);const e=function hl(t){return t&&(t[ka]||t[zl])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Ze(204,!1)}function cD(t,n,e){let r;if(Xh(t)){const i=nn(t);return co(i)||Mw(i)}if(xw(t))r=()=>nn(t.useValue);else if(function uD(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...pf(t.deps||[]));else if(function lD(t){return!(!t||!t.useExisting)}(t))r=()=>Pt(nn(t.useExisting));else{const i=nn(t&&(t.useClass||t.provide));if(!function Bk(t){return!!t.deps}(t))return co(i)||Mw(i);r=()=>new i(...pf(t.deps))}return r}function ag(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Iw(t,n){for(const e of t)Array.isArray(e)?Iw(e,n):e&&pi(e)?Iw(e.\u0275providers,n):n(e)}const Vy=new Xt("AppId",{providedIn:"root",factory:()=>zk}),zk="ng",dD=new Xt("Platform Initializer"),Wf=new Xt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Oc=new Xt("AnimationModuleType"),Aw=new Xt("CSP nonce",{providedIn:"root",factory:()=>Kr().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let hD=(t,n)=>null;function pD(t,n){return hD(t,n)}class Zk{}class vD{}class Qk{resolveComponentFactory(n){throw function qk(t){const n=Error(`No component factory found for ${er(t)}.`);return n.ngComponent=t,n}(n)}}let sg=(()=>{class t{}return t.NULL=new Qk,t})();function Jk(){return lg(zo(),Rt())}function lg(t,n){return new ei(Ui(t,n))}let ei=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=Jk,t})();function eP(t){return t instanceof ei?t.nativeElement:t}class Om{}let Zd=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function tP(){const t=Rt(),e=Ba(zo().index,t);return(Qa(e)?e:t)[Kn]}(),t})(),nP=(()=>{class t{}return t.\u0275prov=rn({token:t,providedIn:"root",factory:()=>null}),t})();class Kh{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const rP=new Kh("16.1.3"),zw={};function Rm(t){for(;t;){t[Gn]|=64;const n=x(t);if(la(t)&&!n)return t;t=n}return null}function Uw(t){return t.ngOriginalError}class Rc{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Uw(n);for(;e&&Uw(e);)e=Uw(e);return e||null}}const _D=new Xt("",{providedIn:"root",factory:()=>!1});function qd(t){return t instanceof Function?t():t}class SD extends gc{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){Rm(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,e,r){const i=Ji(this);this.trackingVersion++;try{n(e,r)}finally{Ji(i)}}destroy(){this.trackingVersion++}}let Wy=null;function TD(){return Wy??=new SD,Wy}function MD(t,n){return t[n]??TD()}function ID(t,n){const e=TD();e.hasReadASignal&&(t[n]=Wy,e.lView=t,Wy=new SD)}const vr={};function ln(t){AD(br(),Rt(),Do()+t,!1)}function AD(t,n,e,r){if(!r)if(3==(3&n[Gn])){const s=t.preOrderCheckHooks;null!==s&&vs(n,s,e)}else{const s=t.preOrderHooks;null!==s&&Iu(n,s,0,e)}ts(e)}function kD(t,n=null,e=null,r){const i=PD(t,n,e,r);return i.resolveInjectorInitializers(),i}function PD(t,n=null,e=null,r,i=new Set){const s=[e||Cr,Ok(t)];return r=r||("object"==typeof t?void 0:er(t)),new Tw(s,n||By(),r||null,i)}let Vu=(()=>{class t{static create(e,r){if(Array.isArray(e))return kD({name:""},r,e,"");{const i=e.name??"";return kD({name:i},e.parent,e.providers,i)}}}return t.THROW_IF_NOT_FOUND=vu,t.NULL=new oD,t.\u0275prov=rn({token:t,providedIn:"any",factory:()=>Pt(rD)}),t.__NG_ELEMENT_ID__=-1,t})();function We(t,n=Pn.Default){const e=Rt();return null===e?Pt(t,n):Xr(zo(),e,nn(t),n)}function Gw(){throw new Error("invalid")}function $y(t,n,e,r,i,s,c,m,_,R,U){const K=n.blueprint.slice();return K[lo]=i,K[Gn]=140|r,(null!==R||t&&2048&t[Gn])&&(K[Gn]|=2048),Tr(K),K[ki]=K[Cu]=t,K[mi]=e,K[sa]=c||t&&t[sa],K[Kn]=m||t&&t[Kn],K[Js]=_||t&&t[Js]||null,K[_o]=s,K[cd]=function Jr(){return mw++}(),K[ur]=U,K[dd]=R,K[zi]=2==n.type?t[zi]:K,K}function cg(t,n,e,r,i){let s=t.data[n];if(null===s)s=function jw(t,n,e,r,i){const s=Nh(),c=Md(),_=t.data[n]=function xP(t,n,e,r,i,s){let c=n?n.injectorIndex:-1,m=0;return Ho()&&(m|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:m,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?s:s&&s.parent,e,n,r,i);return null===t.firstChild&&(t.firstChild=_),null!==s&&(c?null==s.child&&null!==_.parent&&(s.child=_):null===s.next&&(s.next=_,_.prev=s)),_}(t,n,e,r,i),function xc(){return Ln.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=r,s.attrs=i;const c=function Ec(){const t=Ln.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();s.injectorIndex=null===c?-1:c.injectorIndex}return gs(s,!0),s}function km(t,n,e,r){if(0===e)return-1;const i=n.length;for(let s=0;s<e;s++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function LD(t,n,e,r,i){const s=MD(n,fd),c=Do(),m=2&r;try{if(ts(-1),m&&n.length>hn&&AD(t,n,hn,!1),Fa(m?2:0,i),m)s.runInContext(e,r,i);else{const R=Ji(null);try{e(r,i)}finally{Ji(R)}}}finally{m&&null===n[fd]&&ID(n,fd),ts(c),Fa(m?3:1,i)}}function Ww(t,n,e){if(wh(n)){const r=Ji(null);try{const s=n.directiveEnd;for(let c=n.directiveStart;c<s;c++){const m=t.data[c];m.contentQueries&&m.contentQueries(1,e[c],c)}}finally{Ji(r)}}}function $w(t,n,e){Sd()&&(function NP(t,n,e,r){const i=e.directiveStart,s=e.directiveEnd;xu(e)&&function BP(t,n,e){const r=Ui(n,t),i=FD(e);let c=16;e.signals?c=4096:e.onPush&&(c=64);const m=Yy(t,$y(t,i,null,c,r,n,null,t[sa].rendererFactory.createRenderer(r,e),null,null,null));t[n.index]=m}(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||Hd(e,n),Va(r,n);const c=e.initialInputs;for(let m=i;m<s;m++){const _=t.data[m],R=Ru(n,t,m,e);Va(R,n),null!==c&&VP(0,m-i,R,_,0,c),fs(_)&&(Ba(e.index,n)[mi]=Ru(n,t,m,e))}}(t,n,e,Ui(e,n)),64==(64&e.flags)&&UD(t,n,e))}function Yw(t,n,e=Ui){const r=n.localNames;if(null!==r){let i=n.index+1;for(let s=0;s<r.length;s+=2){const c=r[s+1],m=-1===c?e(n,t):t[c];t[i++]=m}}}function FD(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Xw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Xw(t,n,e,r,i,s,c,m,_,R,U){const K=hn+r,ge=K+i,be=function yP(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:vr);return e}(K,ge),Ie="function"==typeof R?R():R;return be[fn]={type:t,blueprint:be,template:e,queries:null,viewQuery:m,declTNode:n,data:be.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:_,consts:Ie,incompleteFirstPass:!1,ssrId:U}}let BD=t=>null;function VD(t,n,e,r){for(let i in t)if(t.hasOwnProperty(i)){e=null===e?{}:e;const s=t[i];null===r?HD(e,n,i,s):r.hasOwnProperty(i)&&HD(e,n,r[i],s)}return e}function HD(t,n,e,r){t.hasOwnProperty(e)?t[e].push(n,r):t[e]=[n,r]}function Kw(t,n,e,r){if(Sd()){const i=null===r?null:{"":-1},s=function RP(t,n){const e=t.directiveRegistry;let r=null,i=null;if(e)for(let s=0;s<e.length;s++){const c=e[s];if(mh(n,c.selectors,!1))if(r||(r=[]),fs(c))if(null!==c.findHostDirectiveDefs){const m=[];i=i||new Map,c.findHostDirectiveDefs(c,m,i),r.unshift(...m,c),Zw(t,n,m.length)}else r.unshift(c),Zw(t,n,0);else i=i||new Map,c.findHostDirectiveDefs?.(c,r,i),r.push(c)}return null===r?null:[r,i]}(t,e);let c,m;null===s?c=m=null:[c,m]=s,null!==c&&zD(t,n,e,c,i,m),i&&function kP(t,n,e){if(n){const r=t.localNames=[];for(let i=0;i<n.length;i+=2){const s=e[n[i+1]];if(null==s)throw new Ze(-301,!1);r.push(n[i],s)}}}(e,r,i)}e.mergedAttrs=Wl(e.mergedAttrs,e.attrs)}function zD(t,n,e,r,i,s){for(let R=0;R<r.length;R++)Lf(Hd(e,n),t,r[R].type);!function LP(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,r.length);for(let R=0;R<r.length;R++){const U=r[R];U.providersResolver&&U.providersResolver(U)}let c=!1,m=!1,_=km(t,n,r.length,null);for(let R=0;R<r.length;R++){const U=r[R];e.mergedAttrs=Wl(e.mergedAttrs,U.hostAttrs),FP(t,e,n,_,U),PP(_,U,i),null!==U.contentQueries&&(e.flags|=4),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(e.flags|=64);const K=U.type.prototype;!c&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),c=!0),!m&&(K.ngOnChanges||K.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),m=!0),_++}!function DP(t,n,e){const i=n.directiveEnd,s=t.data,c=n.attrs,m=[];let _=null,R=null;for(let U=n.directiveStart;U<i;U++){const K=s[U],ge=e?e.get(K):null,Ie=ge?ge.outputs:null;_=VD(K.inputs,U,_,ge?ge.inputs:null),R=VD(K.outputs,U,R,Ie);const Fe=null===_||null===c||$l(n)?null:HP(_,U,c);m.push(Fe)}null!==_&&(_.hasOwnProperty("class")&&(n.flags|=8),_.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=m,n.inputs=_,n.outputs=R}(t,e,s)}function UD(t,n,e){const r=e.directiveStart,i=e.directiveEnd,s=e.index,c=function Vp(){return Ln.lFrame.currentDirectiveIndex}();try{ts(s);for(let m=r;m<i;m++){const _=t.data[m],R=n[m];Id(m),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&OP(_,R)}}finally{ts(-1),Id(c)}}function OP(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Zw(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function PP(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;fs(n)&&(e[""]=t)}}function FP(t,n,e,r,i){t.data[r]=i;const s=i.factory||(i.factory=co(i.type)),c=new Tc(s,fs(i),We);t.blueprint[r]=c,e[r]=c,function IP(t,n,e,r,i){const s=i.hostBindings;if(s){let c=t.hostBindingOpCodes;null===c&&(c=t.hostBindingOpCodes=[]);const m=~n.index;(function AP(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(c)!=m&&c.push(m),c.push(e,r,s)}}(t,n,r,km(t,e,i.hostVars,vr),i)}function kc(t,n,e,r,i,s){const c=Ui(t,n);!function qw(t,n,e,r,i,s,c){if(null==s)t.removeAttribute(n,i,e);else{const m=null==c?vn(s):c(s,r||"",i);t.setAttribute(n,i,m,e)}}(n[Kn],c,s,t.value,e,r,i)}function VP(t,n,e,r,i,s){const c=s[n];if(null!==c)for(let m=0;m<c.length;)GD(r,e,c[m++],c[m++],c[m++])}function GD(t,n,e,r,i){const s=Ji(null);try{const c=t.inputTransforms;null!==c&&c.hasOwnProperty(r)&&(i=c[r].call(n,i)),null!==t.setInput?t.setInput(n,i,e,r):n[r]=i}finally{Ji(s)}}function HP(t,n,e){let r=null,i=0;for(;i<e.length;){const s=e[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const c=t[s];for(let m=0;m<c.length;m+=2)if(c[m]===n){r.push(s,c[m+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function jD(t,n,e,r){return[t,!0,!1,n,null,0,r,e,null,null,null]}function WD(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const s=e[r+1];if(-1!==s){const c=t.data[s];Ls(e[r]),c.contentQueries(2,n[s],s)}}}function Yy(t,n){return t[pc]?t[bh][aa]=n:t[pc]=n,t[bh]=n,n}function Qw(t,n,e){Ls(0);const r=Ji(null);try{n(t,e)}finally{Ji(r)}}function $D(t){return t[yl]||(t[yl]=[])}function YD(t){return t.cleanup||(t.cleanup=[])}function KD(t,n){const e=t[Js],r=e?e.get(Rc,null):null;r&&r.handleError(n)}function Jw(t,n,e,r,i){for(let s=0;s<e.length;){const c=e[s++],m=e[s++];GD(t.data[c],n[c],r,m,i)}}function Qd(t,n,e){const r=Ed(n,t);!function Q(t,n,e){t.setValue(n,e)}(t[Kn],r,e)}function zP(t,n){const e=Ba(n,t),r=e[fn];!function UP(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(r,e);const i=e[lo];null!==i&&null===e[ur]&&(e[ur]=pD(i,e[Js])),e_(r,e,e[mi])}function e_(t,n,e){tu(n);try{const r=t.viewQuery;null!==r&&Qw(1,r,e);const i=t.template;null!==i&&LD(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&WD(t,n),t.staticViewQueries&&Qw(2,t.viewQuery,e);const s=t.components;null!==s&&function GP(t,n){for(let e=0;e<n.length;e++)zP(t,n[e])}(n,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[Gn]&=-5,xo()}}let ZD=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(e,r,i){const s=typeof Zone>"u"?null:Zone.current,c=new kp(e,R=>{this.all.has(R)&&this.queue.set(R,s)},i);let m;this.all.add(c),c.notify();const _=()=>{c.cleanup(),m?.(),this.all.delete(c),this.queue.delete(c)};return m=r?.onDestroy(_),{destroy:_}}flush(){if(0!==this.queue.size)for(const[e,r]of this.queue)this.queue.delete(e),r?r.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=rn({token:t,providedIn:"root",factory:()=>new t}),t})();function Xy(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,s=0;if(null!==n)for(let c=0;c<n.length;c++){const m=n[c];"number"==typeof m?s=m:1==s?i=or(i,m):2==s&&(r=or(r,m+": "+n[++c]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function Pm(t,n,e,r,i=!1){for(;null!==e;){const s=n[e.index];if(null!==s&&r.push(di(s)),La(s)){for(let m=ii;m<s.length;m++){const _=s[m],R=_[fn].firstChild;null!==R&&Pm(_[fn],_,R,r)}s[Rs]!==s[lo]&&r.push(s[Rs])}const c=e.type;if(8&c)Pm(t,n,e.child,r);else if(32&c){const m=g(e,n);let _;for(;_=m();)r.push(_)}else if(16&c){const m=tn(n,e);if(Array.isArray(m))r.push(...m);else{const _=x(n[zi]);Pm(_[fn],_,m,r,!0)}}e=i?e.projectionNext:e.next}return r}function Ky(t,n,e,r=!0){const i=n[sa].rendererFactory;i.begin&&i.begin();try{qD(t,n,t.template,e)}catch(c){throw r&&KD(n,c),c}finally{i.end&&i.end(),n[sa].effectManager?.flush()}}function qD(t,n,e,r){const i=n[Gn];if(256!=(256&i)){n[sa].effectManager?.flush(),tu(n);try{Tr(n),function eu(t){return Ln.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&LD(t,n,e,2,r);const c=3==(3&i);if(c){const R=t.preOrderCheckHooks;null!==R&&vs(n,R,null)}else{const R=t.preOrderHooks;null!==R&&Iu(n,R,0,null),Of(n,0)}if(function XP(t){for(let n=P(t);null!==n;n=z(n)){if(!n[wl])continue;const e=n[Eu];for(let r=0;r<e.length;r++){fm(e[r])}}}(n),QD(n,2),null!==t.contentQueries&&WD(t,n),c){const R=t.contentCheckHooks;null!==R&&vs(n,R)}else{const R=t.contentHooks;null!==R&&Iu(n,R,1),Of(n,1)}!function vP(t,n){const e=t.hostBindingOpCodes;if(null===e)return;const r=MD(n,qa);try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)ts(~s);else{const c=s,m=e[++i],_=e[++i];nl(m,c),r.runInContext(_,2,n[c])}}}finally{null===n[qa]&&ID(n,qa),ts(-1)}}(t,n);const m=t.components;null!==m&&eS(n,m,0);const _=t.viewQuery;if(null!==_&&Qw(2,_,r),c){const R=t.viewCheckHooks;null!==R&&vs(n,R)}else{const R=t.viewHooks;null!==R&&Iu(n,R,2),Of(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Gn]&=-73,ql(n)}finally{xo()}}}function QD(t,n){for(let e=P(t);null!==e;e=z(e))for(let r=ii;r<e.length;r++)JD(e[r],n)}function KP(t,n,e){JD(Ba(n,t),e)}function JD(t,n){if(!function xd(t){return 128==(128&t[Gn])}(t))return;const e=t[fn];if(80&t[Gn]&&0===n||1024&t[Gn]||2===n)qD(e,t,e.template,t[mi]);else if(t[hc]>0){QD(t,1);const i=t[fn].components;null!==i&&eS(t,i,1)}}function eS(t,n,e){for(let r=0;r<n.length;r++)KP(t,n[r],e)}class Lm{get rootNodes(){const n=this._lView,e=n[fn];return Pm(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mi]}set context(n){this._lView[mi]=n}get destroyed(){return 256==(256&this._lView[Gn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[ki];if(La(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(ke(n,r),jo(e,r))}this._attachedToViewContainer=!1}Pe(this._lView[fn],this._lView)}onDestroy(n){!function Ih(t,n){if(256==(256&t[Gn]))throw new Ze(911,!1);null===t[bl]&&(t[bl]=[]),t[bl].push(n)}(this._lView,n)}markForCheck(){Rm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Gn]&=-129}reattach(){this._lView[Gn]|=128}detectChanges(){Ky(this._lView[fn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Me(t,n){On(t,n,n[Kn],2,null,null)}(this._lView[fn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=n}}class ZP extends Lm{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Ky(n[fn],n,n[mi],!1)}checkNoChanges(){}get context(){return null}}class tS extends sg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Fr(n);return new Fm(e,this.ngModule)}}function nS(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class QP{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=hf(r);const i=this.injector.get(n,zw,r);return i!==zw||e===zw?i:this.parentInjector.get(n,e,r)}}class Fm extends vD{get inputs(){const n=this.componentDef,e=n.inputTransforms,r=nS(n.inputs);if(null!==e)for(const i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return nS(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function Ip(t){return t.map(Mp).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){let s=(i=i||this.ngModule)instanceof Nc?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const c=s?new QP(n,s):n,m=c.get(Om,null);if(null===m)throw new Ze(407,!1);const U={rendererFactory:m,sanitizer:c.get(nP,null),effectManager:c.get(ZD,null)},K=m.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",be=r?function bP(t,n,e,r){const s=r.get(_D,!1)||e===va.ShadowDom,c=t.selectRootElement(n,s);return function wP(t){BD(t)}(c),c}(K,r,this.componentDef.encapsulation,c):de(K,ge,function qP(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(ge)),nt=this.componentDef.signals?4608:this.componentDef.onPush?576:528,gt=Xw(0,null,null,1,0,null,null,null,null,null,null),Qe=$y(null,gt,null,nt,null,null,U,K,c,null,null);let yt,bn;tu(Qe);try{const Bn=this.componentDef;let ai,ut=null;Bn.findHostDirectiveDefs?(ai=[],ut=new Map,Bn.findHostDirectiveDefs(Bn,ai,ut),ai.push(Bn)):ai=[Bn];const Ws=function eL(t,n){const e=t[fn],r=hn;return t[r]=n,cg(e,r,2,"#host",null)}(Qe,be),cl=function tL(t,n,e,r,i,s,c){const m=i[fn];!function nL(t,n,e,r){for(const i of t)n.mergedAttrs=Wl(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Xy(n,n.mergedAttrs,!0),null!==e&&zt(r,e,n))}(r,t,n,c);let _=null;null!==n&&(_=pD(n,i[Js]));const R=s.rendererFactory.createRenderer(n,e);let U=16;e.signals?U=4096:e.onPush&&(U=64);const K=$y(i,FD(e),null,U,i[t.index],t,s,R,null,null,_);return m.firstCreatePass&&Zw(m,t,r.length-1),Yy(i,K),i[t.index]=K}(Ws,be,Bn,ai,Qe,U,K);bn=If(gt,hn),be&&function iL(t,n,e,r){if(r)vf(t,e,["ng-version",rP.full]);else{const{attrs:i,classes:s}=function wf(t){const n=[],e=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&n.push(s,t[++r]):8===i&&e.push(s);else{if(!Ka(i))break;i=s}r++}return{attrs:n,classes:e}}(n.selectors[0]);i&&vf(t,e,i),s&&s.length>0&&jn(t,e,s.join(" "))}}(K,Bn,be,r),void 0!==e&&function oL(t,n,e){const r=t.projection=[];for(let i=0;i<n.length;i++){const s=e[i];r.push(null!=s?Array.from(s):null)}}(bn,this.ngContentSelectors,e),yt=function rL(t,n,e,r,i,s){const c=zo(),m=i[fn],_=Ui(c,i);zD(m,i,c,e,null,r);for(let U=0;U<e.length;U++)Va(Ru(i,m,c.directiveStart+U,c),i);UD(m,i,c),_&&Va(_,i);const R=Ru(i,m,c.directiveStart+c.componentOffset,c);if(t[mi]=i[mi]=R,null!==s)for(const U of s)U(R,n);return Ww(m,c,t),R}(cl,Bn,ai,ut,Qe,[aL]),e_(gt,Qe,null)}finally{xo()}return new JP(this.componentType,yt,lg(bn,Qe),Qe,bn)}}class JP extends Zk{constructor(n,e,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new ZP(i),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const s=this._rootLView;Jw(s[fn],s,i,n,e),this.previousInputValues.set(n,e),Rm(Ba(this._tNode.index,s))}}get injector(){return new ku(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function aL(){const t=zo();ms(Rt()[fn],t)}function qn(t){let n=function rS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let i;if(fs(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ze(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);const c=t;c.inputs=Zy(t.inputs),c.inputTransforms=Zy(t.inputTransforms),c.declaredInputs=Zy(t.declaredInputs),c.outputs=Zy(t.outputs);const m=i.hostBindings;m&&cL(t,m);const _=i.viewQuery,R=i.contentQueries;if(_&&lL(t,_),R&&uL(t,R),Ir(t.inputs,i.inputs),Ir(t.declaredInputs,i.declaredInputs),Ir(t.outputs,i.outputs),null!==i.inputTransforms&&(null===c.inputTransforms&&(c.inputTransforms={}),Ir(c.inputTransforms,i.inputTransforms)),fs(i)&&i.data.animation){const U=t.data;U.animation=(U.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let c=0;c<s.length;c++){const m=s[c];m&&m.ngInherit&&m(t),m===qn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function sL(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Wl(i.hostAttrs,e=Wl(e,i.hostAttrs))}}(r)}function Zy(t){return t===wo?{}:t===Cr?[]:t}function lL(t,n){const e=t.viewQuery;t.viewQuery=e?(r,i)=>{n(r,i),e(r,i)}:n}function uL(t,n){const e=t.contentQueries;t.contentQueries=e?(r,i,s)=>{n(r,i,s),e(r,i,s)}:n}function cL(t,n){const e=t.hostBindings;t.hostBindings=e?(r,i)=>{n(r,i),e(r,i)}:n}function sS(t){const n=t.inputConfig,e={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];Array.isArray(i)&&i[2]&&(e[r]=i[2])}t.inputTransforms=e}function qy(t){return!!t_(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function t_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Pc(t,n,e){return t[n]=e}function Cs(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Zh(t,n,e,r){const i=Cs(t,n,e);return Cs(t,n+1,r)||i}function Es(t,n,e,r){const i=Rt();return Cs(i,Ps(),n)&&(br(),kc(Vr(),i,t,n,e,r)),Es}function hg(t,n,e,r,i,s){const m=Zh(t,function Er(){return Ln.lFrame.bindingIndex}(),e,i);return Uo(2),m?n+vn(e)+r+vn(i)+s:vr}function ti(t,n,e,r,i,s,c,m){const _=Rt(),R=br(),U=t+hn,K=R.firstCreatePass?function PL(t,n,e,r,i,s,c,m,_){const R=n.consts,U=cg(n,t,4,c||null,tl(R,m));Kw(n,e,U,tl(R,_)),ms(n,U);const K=U.tView=Xw(2,U,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,R,null);return null!==n.queries&&(n.queries.template(n,U),K.queries=n.queries.embeddedTView(U)),U}(U,R,_,n,e,r,i,s,c):R.data[U];gs(K,!1);const ge=wS(R,_,K,t);Pd()&&Ot(R,_,ge,K),Va(ge,_),Yy(_,_[U]=jD(ge,_,ge,K)),Ef(K)&&$w(R,_,K),null!=c&&Yw(_,K,m)}let wS=function _S(t,n,e,r){return ru(!0),n[Kn].createComment("")};function sl(t){return function Zl(t,n){return t[n]}(function yi(){return Ln.lFrame.contextLView}(),hn+t)}function cn(t,n,e){const r=Rt();return Cs(r,Ps(),n)&&function Nl(t,n,e,r,i,s,c,m){const _=Ui(n,e);let U,R=n.inputs;!m&&null!=R&&(U=R[r])?(Jw(t,e,U,r,i),xu(n)&&function TP(t,n){const e=Ba(n,t);16&e[Gn]||(e[Gn]|=64)}(e,n.index)):3&n.type&&(r=function SP(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=c?c(i,n.value||"",r):i,s.setProperty(_,r,i))}(br(),Vr(),r,t,n,r[Kn],e,!1),cn}function s_(t,n,e,r,i){const c=i?"class":"style";Jw(t,e,n.inputs[c],c,r)}function st(t,n,e,r){const i=Rt(),s=br(),c=hn+t,m=i[Kn],_=s.firstCreatePass?function VL(t,n,e,r,i,s){const c=n.consts,_=cg(n,t,2,r,tl(c,i));return Kw(n,e,_,tl(c,s)),null!==_.attrs&&Xy(_,_.attrs,!1),null!==_.mergedAttrs&&Xy(_,_.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,_),_}(c,s,i,n,e,r):s.data[c],R=CS(s,i,_,m,n,t);i[c]=R;const U=Ef(_);return gs(_,!0),zt(m,R,_),32!=(32&_.flags)&&Pd()&&Ot(s,i,R,_),0===function Ql(){return Ln.lFrame.elementDepthCount}()&&Va(R,i),function Vo(){Ln.lFrame.elementDepthCount++}(),U&&($w(s,i,_),Ww(s,_,i)),null!==r&&Yw(i,_),st}function it(){let t=zo();Md()?fo():(t=t.parent,gs(t,!1));const n=t;(function Cc(t){return Ln.skipHydrationRootTNode===t})(n)&&function Jl(){Ln.skipHydrationRootTNode=null}(),function Ah(){Ln.lFrame.elementDepthCount--}();const e=br();return e.firstCreatePass&&(ms(e,t),wh(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function jp(t){return 0!=(8&t.flags)}(n)&&s_(e,n,Rt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function kf(t){return 0!=(16&t.flags)}(n)&&s_(e,n,Rt(),n.stylesWithoutHost,!1),it}function Fn(t,n,e,r){return st(t,n,e,r),it(),Fn}let CS=(t,n,e,r,i,s)=>(ru(!0),de(r,i,function qo(){return Ln.lFrame.currentNamespace}()));function Um(t,n,e){const r=Rt(),i=br(),s=t+hn,c=i.firstCreatePass?function UL(t,n,e,r,i){const s=n.consts,c=tl(s,r),m=cg(n,t,8,"ng-container",c);return null!==c&&Xy(m,c,!0),Kw(n,e,m,tl(s,i)),null!==n.queries&&n.queries.elementStart(n,m),m}(s,i,r,n,e):i.data[s];gs(c,!0);const m=ES(i,r,c,t);return r[s]=m,Pd()&&Ot(i,r,m,c),Va(m,r),Ef(c)&&($w(i,r,c),Ww(i,c,r)),null!=e&&Yw(r,c),Um}function Gm(){let t=zo();const n=br();return Md()?fo():(t=t.parent,gs(t,!1)),n.firstCreatePass&&(ms(n,t),wh(t)&&n.queries.elementEnd(t)),Gm}function jm(t,n,e){return Um(t,n,e),Gm(),jm}let ES=(t,n,e,r)=>(ru(!0),re(n[Kn],""));function Ol(){return Rt()}function Wm(t){return!!t&&"function"==typeof t.then}function xS(t){return!!t&&"function"==typeof t.subscribe}function Tn(t,n,e,r){const i=Rt(),s=br(),c=zo();return function SS(t,n,e,r,i,s,c){const m=Ef(r),R=t.firstCreatePass&&YD(t),U=n[mi],K=$D(n);let ge=!0;if(3&r.type||c){const Fe=Ui(r,n),nt=c?c(Fe):Fe,gt=K.length,Qe=c?bn=>c(di(bn[r.index])):r.index;let yt=null;if(!c&&m&&(yt=function WL(t,n,e,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const c=i[s];if(c===e&&i[s+1]===r){const m=n[yl],_=i[s+2];return m.length>_?m[_]:null}"string"==typeof c&&(s+=2)}return null}(t,n,i,r.index)),null!==yt)(yt.__ngLastListenerFn__||yt).__ngNextListenerFn__=s,yt.__ngLastListenerFn__=s,ge=!1;else{s=MS(r,n,U,s,!1);const bn=e.listen(nt,i,s);K.push(s,bn),R&&R.push(i,Qe,gt,gt+1)}}else s=MS(r,n,U,s,!1);const be=r.outputs;let Ie;if(ge&&null!==be&&(Ie=be[i])){const Fe=Ie.length;if(Fe)for(let nt=0;nt<Fe;nt+=2){const Bn=n[Ie[nt]][Ie[nt+1]].subscribe(s),ai=K.length;K.push(s,Bn),R&&R.push(i,r.index,ai,-(ai+1))}}}(s,i,i[Kn],c,t,n,r),Tn}function TS(t,n,e,r){try{return Fa(6,n,e),!1!==e(r)}catch(i){return KD(t,i),!1}finally{Fa(7,n,e)}}function MS(t,n,e,r,i){return function s(c){if(c===Function)return r;Rm(t.componentOffset>-1?Ba(t.index,n):n);let _=TS(n,e,r,c),R=s.__ngNextListenerFn__;for(;R;)_=TS(n,e,R,c)&&_,R=R.__ngNextListenerFn__;return i&&!1===_&&c.preventDefault(),_}}function Wi(t=1){return function nu(t){return(Ln.lFrame.contextLView=function pm(t,n){for(;t>0;)n=n[Cu],t--;return n}(t,Ln.lFrame.contextLView))[mi]}(t)}function $L(t,n){let e=null;const r=function ld(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let i=0;i<n.length;i++){const s=n[i];if("*"!==s){if(null===r?mh(t,s,!0):vh(r,s))return i}else e=i}return e}function wg(t){const n=Rt()[zi][_o];if(!n.projection){const r=n.projection=ji(t?t.length:1,null),i=r.slice();let s=n.child;for(;null!==s;){const c=t?$L(s,t):0;null!==c&&(i[c]?i[c].projectionNext=s:r[c]=s,i[c]=s),s=s.next}}}function _g(t,n=0,e){const r=Rt(),i=br(),s=cg(i,hn+t,16,null,e||null);null===s.projection&&(s.projection=n),fo(),(!r[ur]||Ho())&&32!=(32&s.flags)&&function xn(t,n,e){sn(n[Kn],0,n,e,Ke(t,e,n),At(e.parent||n[_o],e,n))}(i,r,s)}function nb(t,n){return t<<17|n<<2}function $f(t){return t>>17&32767}function u_(t){return 2|t}function qh(t){return(131068&t)>>2}function c_(t,n){return-131069&t|n<<2}function d_(t){return 1|t}function BS(t,n,e,r,i){const s=t[e+1],c=null===n;let m=r?$f(s):qh(s),_=!1;for(;0!==m&&(!1===_||c);){const U=t[m+1];QL(t[m],n)&&(_=!0,t[m+1]=r?d_(U):u_(U)),m=r?$f(U):qh(U)}_&&(t[e+1]=r?u_(s):d_(s))}function QL(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ho(t,n)>=0}function $m(t,n,e){return Hu(t,n,e,!1),$m}function Ha(t,n){return Hu(t,n,null,!0),Ha}function Hu(t,n,e,r){const i=Rt(),s=br(),c=Uo(2);s.firstUpdatePass&&function $S(t,n,e,r){const i=t.data;if(null===i[e+1]){const s=i[Do()],c=function WS(t,n){return n>=t.expandoStartIndex}(t,e);(function ZS(t,n){return 0!=(t.flags&(n?8:16))})(s,r)&&null===n&&!c&&(n=!1),n=function sF(t,n,e,r){const i=function Af(t){const n=Ln.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let s=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(e=Ym(e=f_(null,t,n,e,r),n.attrs,r),s=null);else{const c=n.directiveStylingLast;if(-1===c||t[c]!==i)if(e=f_(i,t,n,e,r),null===s){let _=function lF(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==qh(r))return t[$f(r)]}(t,n,r);void 0!==_&&Array.isArray(_)&&(_=f_(null,t,n,_[1],r),_=Ym(_,n.attrs,r),function uF(t,n,e,r){t[$f(e?n.classBindings:n.styleBindings)]=r}(t,n,r,_))}else s=function cF(t,n,e){let r;const i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++)r=Ym(r,t[s].hostAttrs,e);return Ym(r,n.attrs,e)}(t,n,r)}return void 0!==s&&(r?n.residualClasses=s:n.residualStyles=s),e}(i,s,n,r),function ZL(t,n,e,r,i,s){let c=s?n.classBindings:n.styleBindings,m=$f(c),_=qh(c);t[r]=e;let U,R=!1;if(Array.isArray(e)?(U=e[1],(null===U||ho(e,U)>0)&&(R=!0)):U=e,i)if(0!==_){const ge=$f(t[m+1]);t[r+1]=nb(ge,m),0!==ge&&(t[ge+1]=c_(t[ge+1],r)),t[m+1]=function XL(t,n){return 131071&t|n<<17}(t[m+1],r)}else t[r+1]=nb(m,0),0!==m&&(t[m+1]=c_(t[m+1],r)),m=r;else t[r+1]=nb(_,0),0===m?m=r:t[_+1]=c_(t[_+1],r),_=r;R&&(t[r+1]=u_(t[r+1])),BS(t,U,r,!0),BS(t,U,r,!1),function qL(t,n,e,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof n&&ho(s,n)>=0&&(e[r+1]=d_(e[r+1]))}(n,U,t,r,s),c=nb(m,_),s?n.classBindings=c:n.styleBindings=c}(i,s,n,e,c,r)}}(s,t,c,r),n!==vr&&Cs(i,c,n)&&function XS(t,n,e,r,i,s,c,m){if(!(3&n.type))return;const _=t.data,R=_[m+1],U=function KL(t){return 1==(1&t)}(R)?KS(_,n,e,i,qh(R),c):void 0;rb(U)||(rb(s)||function YL(t){return 2==(2&t)}(R)&&(s=KS(_,null,e,i,m,c)),function Ar(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let s=-1===r.indexOf("-")?void 0:ea.DashCase;null==i?t.removeStyle(e,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ea.Important),t.setStyle(e,r,i,s))}}(r,c,Ed(Do(),e),i,s))}(s,s.data[Do()],i,i[Kn],t,i[c+1]=function pF(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=er(Io(t)))),t}(n,e),r,c)}function f_(t,n,e,r,i){let s=null;const c=e.directiveEnd;let m=e.directiveStylingLast;for(-1===m?m=e.directiveStart:m++;m<c&&(s=n[m],r=Ym(r,s.hostAttrs,i),s!==t);)m++;return null!==t&&(e.directiveStylingLast=m),r}function Ym(t,n,e){const r=e?1:2;let i=-1;if(null!==n)for(let s=0;s<n.length;s++){const c=n[s];"number"==typeof c?i=c:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Hr(t,c,!!e||n[++s]))}return void 0===t?null:t}function KS(t,n,e,r,i,s){const c=null===n;let m;for(;i>0;){const _=t[i],R=Array.isArray(_),U=R?_[1]:_,K=null===U;let ge=e[i+1];ge===vr&&(ge=K?Cr:void 0);let be=K?Ci(ge,r):U===r?ge:void 0;if(R&&!rb(be)&&(be=Ci(_,r)),rb(be)&&(m=be,c))return m;const Ie=t[i+1];i=c?$f(Ie):qh(Ie)}if(null!==n){let _=s?n.residualClasses:n.residualStyles;null!=_&&(m=Ci(_,r))}return m}function rb(t){return void 0!==t}function Nt(t,n=""){const e=Rt(),r=br(),i=t+hn,s=r.firstCreatePass?cg(r,i,1,n,null):r.data[i],c=qS(r,e,s,n,t);e[i]=c,Pd()&&Ot(r,e,c,s),gs(s,!1)}let qS=(t,n,e,r,i)=>(ru(!0),function q(t,n){return t.createText(n)}(n[Kn],r));function Xm(t){return Bc("",t,""),Xm}function Bc(t,n,e){const r=Rt(),i=function fg(t,n,e,r){return Cs(t,Ps(),e)?n+vn(e)+r:vr}(r,t,n,e);return i!==vr&&Qd(r,Do(),i),Bc}function h_(t,n,e,r,i){const s=Rt(),c=hg(s,t,n,e,r,i);return c!==vr&&Qd(s,Do(),c),h_}const xg="en-US";let yT=xg;function m_(t,n,e,r,i){if(t=nn(t),Array.isArray(t))for(let s=0;s<t.length;s++)m_(t[s],n,e,r,i);else{const s=br(),c=Rt();let m=Xh(t)?t:nn(t.provide),_=cD(t);const R=zo(),U=1048575&R.providerIndexes,K=R.directiveStart,ge=R.providerIndexes>>20;if(Xh(t)||!t.multi){const be=new Tc(_,i,We),Ie=y_(m,n,i?U:U+ge,K);-1===Ie?(Lf(Hd(R,c),s,m),v_(s,t,n.length),n.push(m),R.directiveStart++,R.directiveEnd++,i&&(R.providerIndexes+=1048576),e.push(be),c.push(be)):(e[Ie]=be,c[Ie]=be)}else{const be=y_(m,n,U+ge,K),Ie=y_(m,n,U,U+ge),nt=Ie>=0&&e[Ie];if(i&&!nt||!i&&!(be>=0&&e[be])){Lf(Hd(R,c),s,m);const gt=function P2(t,n,e,r,i){const s=new Tc(t,e,We);return s.multi=[],s.index=n,s.componentProviders=0,GT(s,i,r&&!e),s}(i?k2:R2,e.length,i,r,_);!i&&nt&&(e[Ie].providerFactory=gt),v_(s,t,n.length,0),n.push(m),R.directiveStart++,R.directiveEnd++,i&&(R.providerIndexes+=1048576),e.push(gt),c.push(gt)}else v_(s,t,be>-1?be:Ie,GT(e[i?Ie:be],_,!i&&r));!i&&r&&nt&&e[Ie].componentProviders++}}}function v_(t,n,e,r){const i=Xh(n),s=function kk(t){return!!t.useClass}(n);if(i||s){const _=(s?nn(n.useClass):n).prototype.ngOnDestroy;if(_){const R=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const U=R.indexOf(e);-1===U?R.push(e,[r,_]):R[U+1].push(r,_)}else R.push(e,_)}}}function GT(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function y_(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function R2(t,n,e,r){return b_(this.multi,[])}function k2(t,n,e,r){const i=this.multi;let s;if(this.providerFactory){const c=this.providerFactory.componentProviders,m=Ru(e,e[fn],this.providerFactory.index,r);s=m.slice(0,c),b_(i,s);for(let _=c;_<m.length;_++)s.push(m[_])}else s=[],b_(i,s);return s}function b_(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Wr(t,n=[]){return e=>{e.providersResolver=(r,i)=>function O2(t,n,e){const r=br();if(r.firstCreatePass){const i=fs(t);m_(e,r.data,r.blueprint,i,!0),m_(n,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,n)}}class Dg{}class jT{}class w_ extends Dg{constructor(n,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tS(this);const i=so(n);this._bootstrapComponents=qd(i.bootstrap),this._r3Injector=PD(n,e,[{provide:Dg,useValue:this},{provide:sg,useValue:this.componentFactoryResolver},...r],er(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class __ extends jT{constructor(n){super(),this.moduleType=n}create(n){return new w_(this.moduleType,n,[])}}class WT extends Dg{constructor(n){super(),this.componentFactoryResolver=new tS(this),this.instance=null;const e=new Tw([...n.providers,{provide:Dg,useValue:this},{provide:sg,useValue:this.componentFactoryResolver}],n.parent||By(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function C_(t,n,e=null){return new WT({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let B2=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=aD(0,e.type),i=r.length>0?C_([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=rn({token:t,providedIn:"environment",factory:()=>new t(Pt(Nc))}),t})();function $T(t){t.getStandaloneInjector=n=>n.get(B2).getOrCreateStandaloneInjector(t)}function lb(t,n,e){const r=Gi()+t,i=Rt();return i[r]===vr?Pc(i,r,e?n.call(e):n()):function Bm(t,n){return t[n]}(i,r)}function Sg(t,n,e,r){return function JT(t,n,e,r,i,s){const c=n+e;return Cs(t,c,i)?Pc(t,c+1,s?r.call(s,i):r(i)):ev(t,c+1)}(Rt(),Gi(),t,n,e,r)}function x_(t,n,e,r,i){return function e1(t,n,e,r,i,s,c){const m=n+e;return Zh(t,m,i,s)?Pc(t,m+2,c?r.call(c,i,s):r(i,s)):ev(t,m+2)}(Rt(),Gi(),t,n,e,r,i)}function ev(t,n){const e=t[n];return e===vr?void 0:e}function D_(t){return n=>{setTimeout(t,void 0,n)}}const lr=class sB extends Mt{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let i=n,s=e||(()=>null),c=r;if(n&&"object"==typeof n){const _=n;i=_.next?.bind(_),s=_.error?.bind(_),c=_.complete?.bind(_)}this.__isAsync&&(s=D_(s),i&&(i=D_(i)),c&&(c=D_(c)));const m=super.subscribe({next:i,error:s,complete:c});return n instanceof C&&n.add(m),m}};function lB(){return this._results[Symbol.iterator]()}class Tg{get changes(){return this._changes||(this._changes=new lr)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Tg.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=lB)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const i=function dr(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function nr(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=n[r];if(e&&(i=e(i),s=e(s)),s!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vs=(()=>{class t{}return t.__NG_ELEMENT_ID__=dB,t})();const uB=Vs,cB=class extends uB{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e,null)}createEmbeddedViewImpl(n,e,r){const c=this._declarationTContainer.tView,m=$y(this._declarationLView,c,n,4096&this._declarationLView[Gn]?4096:16,null,c.declTNode,null,null,null,e||null,r||null);m[ds]=this._declarationLView[this._declarationTContainer.index];const R=this._declarationLView[uo];return null!==R&&(m[uo]=R.createEmbeddedView(c)),e_(c,m,n),new Lm(m)}};function dB(){return ub(zo(),Rt())}function ub(t,n){return 4&t.type?new cB(n,t,lg(t,n)):null}let za=(()=>{class t{}return t.__NG_ELEMENT_ID__=yB,t})();function yB(){return c1(zo(),Rt())}const bB=za,l1=class extends bB{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return lg(this._hostTNode,this._hostLView)}get injector(){return new ku(this._hostTNode,this._hostLView)}get parentInjector(){const n=zd(this._hostTNode,this._hostLView);if(Rh(n)){const e=Bd(n,this._hostLView),r=Ou(n);return new ku(e[fn].data[r+8],e)}return new ku(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=u1(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-ii}createEmbeddedView(n,e,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const m=n.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(m,i,false),m}createComponent(n,e,r,i,s){const c=n&&!function En(t){return"function"==typeof t}(n);let m;if(c)m=e;else{const Fe=e||{};m=Fe.index,r=Fe.injector,i=Fe.projectableNodes,s=Fe.environmentInjector||Fe.ngModuleRef}const _=c?n:new Fm(Fr(n)),R=r||this.parentInjector;if(!s&&null==_.ngModule){const nt=(c?R:this.parentInjector).get(Nc,null);nt&&(s=nt)}Fr(_.componentType??{});const be=_.create(R,i,null,s);return this.insertImpl(be.hostView,m,false),be}insert(n,e){return this.insertImpl(n,e,!1)}insertImpl(n,e,r){const i=n._lView,s=i[fn];if(function Dd(t){return La(t[ki])}(i)){const _=this.indexOf(n);if(-1!==_)this.detach(_);else{const R=i[ki],U=new l1(R,R[_o],R[ki]);U.detach(U.indexOf(n))}}const c=this._adjustIndex(e),m=this._lContainer;if(function ye(t,n,e,r){const i=ii+r,s=e.length;r>0&&(e[i-1][aa]=n),r<s-ii?(n[aa]=e[i],_i(e,ii+r,n)):(e.push(n),n[aa]=null),n[ki]=e;const c=n[ds];null!==c&&e!==c&&function Te(t,n){const e=t[Eu];n[zi]!==n[ki][ki][zi]&&(t[wl]=!0),null===e?t[Eu]=[n]:e.push(n)}(c,n);const m=n[uo];null!==m&&m.insertView(t),n[Gn]|=128}(s,i,m,c),!r){const _=$n(c,m),R=i[Kn],U=mt(R,m[Rs]);null!==U&&function ve(t,n,e,r,i,s){r[lo]=i,r[_o]=n,On(t,r,e,1,i,s)}(s,m[_o],R,i,U,_)}return n.attachToViewContainerRef(),_i(T_(m),c,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=u1(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=ke(this._lContainer,e);r&&(jo(T_(this._lContainer),e),Pe(r[fn],r))}detach(n){const e=this._adjustIndex(n,-1),r=ke(this._lContainer,e);return r&&null!=jo(T_(this._lContainer),e)?new Lm(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function u1(t){return t[8]}function T_(t){return t[8]||(t[8]=[])}function c1(t,n){let e;const r=n[t.index];return La(r)?e=r:(e=jD(r,n,null,t),n[t.index]=e,Yy(n,e)),d1(e,n,t,r),new l1(e,t,n)}let d1=function f1(t,n,e,r){if(t[Rs])return;let i;i=8&e.type?di(r):function wB(t,n){const e=t[Kn],r=e.createComment(""),i=Ui(n,t);return Ge(e,mt(e,i),r,function It(t,n){return t.nextSibling(n)}(e,i),!1),r}(n,e),t[Rs]=i};class M_{constructor(n){this.queryList=n,this.matches=null}clone(){return new M_(this.queryList)}setDirty(){this.queryList.setDirty()}}class I_{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,i=[];for(let s=0;s<r;s++){const c=e.getByIndex(s);i.push(this.queries[c.indexInDeclarationView].clone())}return new I_(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==v1(n,e).matches&&this.queries[e].setDirty()}}class h1{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class A_{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,s=this.getByIndex(r).embeddedTView(n,i);s&&(s.indexInDeclarationView=r,null!==e?e.push(s):e=[s])}return null!==e?new A_(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class N_{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new N_(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(n,e,EB(e,s)),this.matchTNodeWithReadOption(n,e,rl(e,n,s,!1,!1))}else r===Vs?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,rl(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ei||i===za||i===Vs&&4&e.type)this.addMatch(e.index,-2);else{const s=rl(e,n,i,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function EB(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function DB(t,n,e,r){return-1===e?function xB(t,n){return 11&t.type?lg(t,n):4&t.type?ub(t,n):null}(n,t):-2===e?function SB(t,n,e){return e===ei?lg(n,t):e===Vs?ub(n,t):e===za?c1(n,t):void 0}(t,n,r):Ru(t,t[fn],e,n)}function p1(t,n,e,r){const i=n[uo].queries[r];if(null===i.matches){const s=t.data,c=e.matches,m=[];for(let _=0;_<c.length;_+=2){const R=c[_];m.push(R<0?null:DB(n,s[R],c[_+1],e.metadata.read))}i.matches=m}return i.matches}function O_(t,n,e,r){const i=t.queries.getByIndex(e),s=i.matches;if(null!==s){const c=p1(t,n,i,e);for(let m=0;m<s.length;m+=2){const _=s[m];if(_>0)r.push(c[m/2]);else{const R=s[m+1],U=n[-_];for(let K=ii;K<U.length;K++){const ge=U[K];ge[ds]===ge[ki]&&O_(ge[fn],ge,R,r)}if(null!==U[Eu]){const K=U[Eu];for(let ge=0;ge<K.length;ge++){const be=K[ge];O_(be[fn],be,R,r)}}}}}return r}function Rn(t){const n=Rt(),e=br(),r=Ad();Ls(r+1);const i=v1(e,r);if(t.dirty&&function wc(t){return 4==(4&t[Gn])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?O_(e,n,r,[]):p1(e,n,i,r);t.reset(s,eP),t.notifyOnChanges()}return!0}return!1}function Yn(t,n,e){const r=br();r.firstCreatePass&&(m1(r,new h1(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),g1(r,Rt(),n)}function Yf(t,n,e,r){const i=br();if(i.firstCreatePass){const s=zo();m1(i,new h1(n,e,r),s.index),function MB(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(i,t),2==(2&e)&&(i.staticContentQueries=!0)}g1(i,Rt(),e)}function kn(){return function TB(t,n){return t[uo].queries[n].queryList}(Rt(),Ad())}function g1(t,n,e){const r=new Tg(4==(4&e));(function EP(t,n,e,r){const i=$D(n);i.push(e),t.firstCreatePass&&YD(t).push(r,i.length-1)})(t,n,r,r.destroy),null===n[uo]&&(n[uo]=new I_),n[uo].queries.push(new M_(r))}function m1(t,n,e){null===t.queries&&(t.queries=new A_),t.queries.track(new N_(n,e))}function v1(t,n){return t.queries.getByIndex(n)}function y1(t,n){return ub(t,n)}const B_=new Xt("Application Initializer");let V_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=en(B_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const i of this.appInits){const s=i();if(Wm(s))e.push(s);else if(xS(s)){const c=new Promise((m,_)=>{s.subscribe({complete:m,error:_})});e.push(c)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),P1=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Vc=new Xt("LocaleId",{providedIn:"root",factory:()=>en(Vc,Pn.Optional|Pn.SkipSelf)||function KB(){return typeof $localize<"u"&&$localize.locale||xg}()});let db=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new un(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class qB{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let L1=(()=>{class t{compileModuleSync(e){return new __(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),s=qd(so(e).declarations).reduce((c,m)=>{const _=Fr(m);return _&&c.push(new Fm(_)),c},[]);return new qB(r,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function V1(...t){}class $r{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lr(!1),this.onMicrotaskEmpty=new lr(!1),this.onStable=new lr(!1),this.onError=new lr(!1),typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function eV(){let t=gi.requestAnimationFrame,n=gi.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function rV(t){const n=()=>{!function nV(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(gi,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,z_(t),t.isCheckStableRunning=!0,H_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),z_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,s,c,m)=>{try{return H1(t),e.invokeTask(i,s,c,m)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&n(),z1(t)}},onInvoke:(e,r,i,s,c,m,_)=>{try{return H1(t),e.invoke(i,s,c,m,_)}finally{t.shouldCoalesceRunChangeDetection&&n(),z1(t)}},onHasTask:(e,r,i,s)=>{e.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,z_(t),H_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,r,i,s)=>(e.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$r.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if($r.isInAngularZone())throw new Ze(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){const s=this._inner,c=s.scheduleEventTask("NgZoneEvent: "+i,n,tV,V1,V1);try{return s.runTask(c,e,r)}finally{s.cancelTask(c)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const tV={};function H_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function z_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function H1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function z1(t){t._nesting--,H_(t)}class iV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lr,this.onMicrotaskEmpty=new lr,this.onStable=new lr,this.onError=new lr}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}}const U1=new Xt("",{providedIn:"root",factory:G1});function G1(){const t=en($r);let n=!0;return et(new Ye(i=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(n),i.complete()})}),new Ye(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{$r.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const c=t.onUnstable.subscribe(()=>{$r.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),c.unsubscribe()}}).pipe(Zt()))}const j1=new Xt(""),fb=new Xt("");let j_,U_=(()=>{class t{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,j_||(function oV(t){j_=t}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$r.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==s),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}}return t.\u0275fac=function(e){return new(e||t)(Pt($r),Pt(G_),Pt(fb))},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})(),G_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return j_?.findTestabilityInTree(this,e,r)??null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Xf=null;const W1=new Xt("AllowMultipleToken"),W_=new Xt("PlatformDestroyListeners"),$_=new Xt("appBootstrapListener");class Y1{constructor(n,e){this.name=n,this.token=e}}function K1(t,n,e=[]){const r=`Platform: ${n}`,i=new Xt(r);return(s=[])=>{let c=Y_();if(!c||c.injector.get(W1,!1)){const m=[...e,...s,{provide:i,useValue:!0}];t?t(m):function lV(t){if(Xf&&!Xf.get(W1,!1))throw new Ze(400,!1);(function $1(){!function Su(t){xh=t}(()=>{throw new Ze(600,!1)})})(),Xf=t;const n=t.get(q1);(function X1(t){t.get(dD,null)?.forEach(e=>e())})(t)}(function Z1(t=[],n){return Vu.create({name:n,providers:[{provide:Dw,useValue:"platform"},{provide:W_,useValue:new Set([()=>Xf=null])},...t]})}(m,r))}return function cV(t){const n=Y_();if(!n)throw new Ze(401,!1);return n}()}}function Y_(){return Xf?.get(q1)??null}let q1=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function dV(t="zone.js",n){return"noop"===t?new iV:"zone.js"===t?new $r(n):t}(r?.ngZone,function Q1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function F2(t,n,e){return new w_(t,n,e)}(e.moduleType,this.injector,function rM(t){return[{provide:$r,useFactory:t},{provide:Mm,multi:!0,useFactory:()=>{const n=en(hV,{optional:!0});return()=>n.initialize()}},{provide:nM,useFactory:fV},{provide:U1,useFactory:G1}]}(()=>i)),c=s.injector.get(Rc,null);return i.runOutsideAngular(()=>{const m=i.onError.subscribe({next:_=>{c.handleError(_)}});s.onDestroy(()=>{hb(this._modules,s),m.unsubscribe()})}),function J1(t,n,e){try{const r=e();return Wm(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(c,i,()=>{const m=s.injector.get(V_);return m.runInitializers(),m.donePromise.then(()=>(function bT(t){io(t,"Expected localeId to be defined"),"string"==typeof t&&(yT=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Vc,xg)||xg),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,r=[]){const i=eM({},r);return function aV(t,n,e){const r=new __(e);return Promise.resolve(r)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(e){const r=e.injector.get(Jh);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new Ze(-403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(W_,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Pt(Vu))},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function eM(t,n){return Array.isArray(n)?n.reduce(eM,t):{...t,...n}}let Jh=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=en(nM),this.zoneIsStable=en(U1),this.componentTypes=[],this.components=[],this.isStable=en(db).hasPendingTasks.pipe(Vt(e=>e?qe(!1):this.zoneIsStable),Jt(),Zt()),this._injector=en(Nc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof vD;if(!this._injector.get(V_).done)throw!i&&function ao(t){const n=Fr(t)||Hi(t)||oo(t);return null!==n&&n.standalone}(e),new Ze(405,!1);let c;c=i?e:this._injector.get(sg).resolveComponentFactory(e),this.componentTypes.push(c.componentType);const m=function sV(t){return t.isBoundToModule}(c)?void 0:this._injector.get(Dg),R=c.create(Vu.NULL,[],r||c.selector,m),U=R.location.nativeElement,K=R.injector.get(j1,null);return K?.registerApplication(U),R.onDestroy(()=>{this.detachView(R.hostView),hb(this.components,R),K?.unregisterApplication(U)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new Ze(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;hb(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get($_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>hb(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Ze(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function hb(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const nM=new Xt("",{providedIn:"root",factory:()=>en(Rc).handleError.bind(void 0)});function fV(){const t=en($r),n=en(Rc);return e=>t.runOutsideAngular(()=>n.handleError(e))}let hV=(()=>{class t{constructor(){this.zone=en($r),this.applicationRef=en(Jh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let zs=(()=>{class t{}return t.__NG_ELEMENT_ID__=gV,t})();function gV(t){return function mV(t,n,e){if(xu(t)&&!e){const r=Ba(t.index,n);return new Lm(r,r)}return 47&t.type?new Lm(n[zi],n):null}(zo(),Rt(),16==(16&t))}class sM{constructor(){}supports(n){return qy(n)}create(n){return new CV(n)}}const _V=(t,n)=>n;class CV{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||_V}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,s=null;for(;e||r;){const c=!r||e&&e.currentIndex<uM(r,i,s)?e:r,m=uM(c,i,s),_=c.currentIndex;if(c===r)i--,r=r._nextRemoved;else if(e=e._next,null==c.previousIndex)i++;else{s||(s=[]);const R=m-i,U=_-i;if(R!=U){for(let ge=0;ge<R;ge++){const be=ge<s.length?s[ge]:s[ge]=0,Ie=be+ge;U<=Ie&&Ie<R&&(s[ge]=be+1)}s[c.previousIndex]=U-R}}m!==_&&n(c,m,_)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!qy(n))throw new Ze(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,s,c,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let m=0;m<this.length;m++)s=n[m],c=this._trackByFn(m,s),null!==e&&Object.is(e.trackById,c)?(r&&(e=this._verifyReinsertion(e,s,c,m)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,c,m),r=!0),e=e._next}else i=0,function vL(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,m=>{c=this._trackByFn(i,m),null!==e&&Object.is(e.trackById,c)?(r&&(e=this._verifyReinsertion(e,m,c,i)),Object.is(e.item,m)||this._addIdentityChange(e,m)):(e=this._mismatch(e,m,c,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,s,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,s,i)):n=this._addAfter(new EV(e,r),s,i),n}_verifyReinsertion(n,e,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,s=n._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const i=null===e?this._itHead:e._next;return n._next=i,n._prev=e,null===i?this._itTail=n:i._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new lM),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lM),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class EV{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xV{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class lM{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new xV,this.map.set(e,r)),r.add(n)}get(n,e){const i=this.map.get(n);return i?i.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uM(t,n,e){const r=t.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}class cM{constructor(){}supports(n){return n instanceof Map||t_(n)}create(){return new DV}}class DV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||t_(n)))throw new Ze(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,e);const s=i._prev,c=i._next;return s&&(s._next=c),c&&(c._prev=s),i._next=null,i._prev=null,i}const r=new SV(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}}class SV{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dM(){return new tp([new sM])}let tp=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||dM()),deps:[[t,new Bh,new ns]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new Ze(901,!1)}}return t.\u0275prov=rn({token:t,providedIn:"root",factory:dM}),t})();function fM(){return new rv([new cM])}let rv=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||fM()),deps:[[t,new Bh,new ns]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new Ze(901,!1)}}return t.\u0275prov=rn({token:t,providedIn:"root",factory:fM}),t})();const IV=K1(null,"core",[]);let AV=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(Pt(Jh))},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({}),t})();function Ag(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let eC=null;function Kf(){return eC}class UV{}const Ei=new Xt("DocumentToken");let tC=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:function(){return en(jV)},providedIn:"platform"}),t})();const GV=new Xt("Location Initialized");let jV=(()=>{class t extends tC{constructor(){super(),this._doc=en(Ei),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kf().getBaseHref(this._doc)}onPopState(e){const r=Kf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Kf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function nC(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function bM(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Jd(t){return t&&"?"!==t[0]?"?"+t:t}let np=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:function(){return en(_M)},providedIn:"root"}),t})();const wM=new Xt("appBaseHref");let _M=(()=>{class t extends np{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??en(Ei).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return nC(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Jd(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){const c=this.prepareExternalUrl(i+Jd(s));this._platformLocation.pushState(e,r,c)}replaceState(e,r,i,s){const c=this.prepareExternalUrl(i+Jd(s));this._platformLocation.replaceState(e,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(tC),Pt(wM,8))},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),WV=(()=>{class t extends np{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=nC(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let c=this.prepareExternalUrl(i+Jd(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,r,c)}replaceState(e,r,i,s){let c=this.prepareExternalUrl(i+Jd(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(tC),Pt(wM,8))},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})(),rC=(()=>{class t{constructor(e){this._subject=new lr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function XV(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(bM(CM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Jd(r))}normalize(e){return t.stripTrailingSlash(function YV(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,CM(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Jd(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Jd(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return t.normalizeQueryParams=Jd,t.joinWithSlash=nC,t.stripTrailingSlash=bM,t.\u0275fac=function(e){return new(e||t)(Pt(np))},t.\u0275prov=rn({token:t,factory:function(){return function $V(){return new rC(Pt(np))}()},providedIn:"root"}),t})();function CM(t){return t.replace(/\/index.html$/,"")}function NM(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}const hC=/\s+/,OM=[];let Sb=(()=>{class t{constructor(e,r,i,s){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=OM,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(hC):OM}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(hC):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(hC).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(e){return new(e||t)(We(tp),We(rv),We(ei),We(Zd))},t.\u0275dir=an({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class OH{constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let av=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,s,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new OH(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===s?void 0:s);else if(null!==s){const m=r.get(s);r.move(m,c),kM(m,i)}});for(let i=0,s=r.length;i<s;i++){const m=r.get(i).context;m.index=i,m.count=s,m.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{kM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(Vs),We(tp))},t.\u0275dir=an({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function kM(t,n){t.context.$implicit=n.item}let Hc=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new RH,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){PM("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){PM("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(Vs))},t.\u0275dir=an({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class RH{constructor(){this.$implicit=null,this.ngIf=null}}function PM(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${er(n)}'.`)}let mC=(()=>{class t{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,s]=e.split("."),c=-1===i.indexOf("-")?void 0:ea.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(We(ei),We(rv),We(Zd))},t.\u0275dir=an({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),t})(),bC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({}),t})();const BM="browser";function VM(t){return"server"===t}let c5=(()=>{class t{}return t.\u0275prov=rn({token:t,providedIn:"root",factory:()=>new d5(Pt(Ei),window)}),t})();class d5{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function f5(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const c=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=HM(this.window.history)||HM(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function HM(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class zM{}class P5 extends UV{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class CC extends P5{static makeCurrent(){!function zV(t){eC||(eC=t)}(new CC)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function L5(){return lv=lv||document.querySelector("base"),lv?lv.getAttribute("href"):null}();return null==e?null:function F5(t){Ib=Ib||document.createElement("a"),Ib.setAttribute("href",t);const n=Ib.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){lv=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return NM(document.cookie,n)}}let Ib,lv=null,V5=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})();const EC=new Xt("EventManagerPlugins");let $M=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new Ze(5101,!1);return this._eventNameToPlugin.set(e,r),r}}return t.\u0275fac=function(e){return new(e||t)(Pt(EC),Pt($r))},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})();class YM{constructor(n){this._doc=n}}const xC="ng-app-id";let XM=(()=>{class t{constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=VM(s),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${xC}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const s=i.get(e);return s.usage+=r,s.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===e)return i.delete(r),s.removeAttribute(xC),s;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(xC,this.appId),c}}addStyleToHost(e,r){const i=this.getStyleElement(e,r);e.appendChild(i);const s=this.styleRef,c=s.get(r)?.elements;c?c.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Ei),Pt(Vy),Pt(Aw,8),Pt(Wf))},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})();const DC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},SC=/%COMP%/g,G5=new Xt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ZM(t,n){return n.map(e=>e.replace(SC,t))}let TC=(()=>{class t{constructor(e,r,i,s,c,m,_,R=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=m,this.ngZone=_,this.nonce=R,this.rendererByCompId=new Map,this.platformIsServer=VM(m),this.defaultRenderer=new MC(e,c,_,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===va.ShadowDom&&(r={...r,encapsulation:va.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof QM?i.applyToHost(e):i instanceof IC&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const c=this.doc,m=this.ngZone,_=this.eventManager,R=this.sharedStylesHost,U=this.removeStylesOnCompDestroy,K=this.platformIsServer;switch(r.encapsulation){case va.Emulated:s=new QM(_,R,r,this.appId,U,c,m,K);break;case va.ShadowDom:return new Y5(_,R,e,r,c,m,this.nonce,K);default:s=new IC(_,R,r,U,c,m,K)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(e){return new(e||t)(Pt($M),Pt(XM),Pt(Vy),Pt(G5),Pt(Ei),Pt(Wf),Pt($r),Pt(Aw))},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})();class MC{constructor(n,e,r,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(DC[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(qM(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(qM(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new Ze(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;const s=DC[i];s?n.setAttributeNS(s,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const i=DC[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(ea.DashCase|ea.Important)?n.style.setProperty(e,r,i&ea.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&ea.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){if("string"==typeof n&&!(n=Kf().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function qM(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Y5 extends MC{constructor(n,e,r,i,s,c,m,_){super(n,s,c,_),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const R=ZM(i.id,i.styles);for(const U of R){const K=document.createElement("style");m&&K.setAttribute("nonce",m),K.textContent=U,this.shadowRoot.appendChild(K)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class IC extends MC{constructor(n,e,r,i,s,c,m,_){super(n,s,c,m),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.rendererUsageCount=0,this.styles=_?ZM(_,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class QM extends IC{constructor(n,e,r,i,s,c,m,_){const R=i+"-"+r.id;super(n,e,r,s,c,m,_,R),this.contentAttr=function j5(t){return"_ngcontent-%COMP%".replace(SC,t)}(R),this.hostAttr=function W5(t){return"_nghost-%COMP%".replace(SC,t)}(R)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}let X5=(()=>{class t extends YM{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Ei))},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})();const JM=["alt","control","meta","shift"],K5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Z5={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let q5=(()=>{class t extends YM{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,i){const s=t.parseEventName(r),c=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kf().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let c="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),c="code."),JM.forEach(R=>{const U=r.indexOf(R);U>-1&&(r.splice(U,1),c+=R+".")}),c+=s,0!=r.length||0===s.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(e,r){let i=K5[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),JM.forEach(c=>{c!==i&&(0,Z5[c])(e)&&(s+=c+".")}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{t.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(Pt(Ei))},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})();const t3=K1(IV,"browser",[{provide:Wf,useValue:BM},{provide:dD,useValue:function Q5(){CC.makeCurrent()},multi:!0},{provide:Ei,useFactory:function e3(){return function zr(t){Dn=t}(document),document},deps:[]}]),n3=new Xt(""),nI=[{provide:fb,useClass:class B5{addToWindow(n){gi.getAngularTestability=(r,i=!0)=>{const s=n.findTestabilityInTree(r,i);if(null==s)throw new Ze(5103,!1);return s},gi.getAllAngularTestabilities=()=>n.getAllTestabilities(),gi.getAllAngularRootElements=()=>n.getAllRootElements(),gi.frameworkStabilizers||(gi.frameworkStabilizers=[]),gi.frameworkStabilizers.push(r=>{const i=gi.getAllAngularTestabilities();let s=i.length,c=!1;const m=function(_){c=c||_,s--,0==s&&r(c)};i.forEach(_=>{_.whenStable(m)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?Kf().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:j1,useClass:U_,deps:[$r,G_,fb]},{provide:U_,useClass:U_,deps:[$r,G_,fb]}],rI=[{provide:Dw,useValue:"root"},{provide:Rc,useFactory:function J5(){return new Rc},deps:[]},{provide:EC,useClass:X5,multi:!0,deps:[Ei,$r,Wf]},{provide:EC,useClass:q5,multi:!0,deps:[Ei]},TC,XM,$M,{provide:Om,useExisting:TC},{provide:zM,useClass:V5,deps:[]},[]];let iI=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Vy,useValue:e.appId}]}}}return t.\u0275fac=function(e){return new(e||t)(Pt(n3,12))},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({providers:[...rI,...nI],imports:[bC,AV]}),t})(),oI=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(Pt(Ei))},t.\u0275prov=rn({token:t,factory:function(e){let r=null;return r=e?new e:function o3(){return new oI(Pt(Ei))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;let Ab=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:function(e){let r=null;return r=e?new(e||t):Pt(lI),r},providedIn:"root"}),t})(),lI=(()=>{class t extends Ab{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case fi.NONE:return r;case fi.HTML:return Ea(r,"HTML")?Io(r):Qx(this._doc,String(r)).toString();case fi.STYLE:return Ea(r,"Style")?Io(r):r;case fi.SCRIPT:if(Ea(r,"Script"))return Io(r);throw new Ze(5200,!1);case fi.URL:return Ea(r,"URL")?Io(r):rg(String(r));case fi.RESOURCE_URL:if(Ea(r,"ResourceURL"))return Io(r);throw new Ze(5201,!1);default:throw new Ze(5202,!1)}}bypassSecurityTrustHtml(e){return function Xd(t){return new Ml(t)}(e)}bypassSecurityTrustStyle(e){return function Gf(t){return new Il(t)}(e)}bypassSecurityTrustScript(e){return function tg(t){return new Ca(t)}(e)}bypassSecurityTrustUrl(e){return function Kd(t){return new ol(t)}(e)}bypassSecurityTrustResourceUrl(e){return function ws(t){return new is(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Ei))},t.\u0275prov=rn({token:t,factory:function(e){let r=null;return r=e?new e:function u3(t){return new lI(t.get(Ei))}(Pt(Vu)),r},providedIn:"root"}),t})();var Wu=(()=>((Wu=Wu||{})[Wu.Hide=0]="Hide",Wu[Wu.Show=1]="Show",Wu))();let cI=(()=>{class t{constructor(){this.toggleSubject=new Mt,this.toggleObservable=this.toggleSubject.asObservable()}hideAllComponents(e){this.toggleSubject.next({action:Wu.Hide,type:e})}showAllComponents(e){this.toggleSubject.next({action:Wu.Show,type:e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Nb(t){return!!t&&(t instanceof Ye||T(t.lift)&&T(t.subscribe))}const{isArray:c3}=Array,{getPrototypeOf:d3,prototype:f3,keys:h3}=Object;function dI(t){if(1===t.length){const n=t[0];if(c3(n))return{args:n,keys:null};if(function p3(t){return t&&"object"==typeof t&&d3(t)===f3}(n)){const e=h3(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:g3}=Array;function NC(t){return Dt(n=>function m3(t,n){return g3(n)?t(...n):t(n)}(t,n))}function fI(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function Ob(...t){const n=Ro(t),e=$a(t),{args:r,keys:i}=dI(t);if(0===r.length)return Ve([],n);const s=new Ye(function v3(t,n,e=Be){return r=>{hI(n,()=>{const{length:i}=t,s=new Array(i);let c=i,m=i;for(let _=0;_<i;_++)hI(n,()=>{const R=Ve(t[_],n);let U=!1;R.subscribe(ht(r,K=>{s[_]=K,U||(U=!0,m--),m||r.next(e(s.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,n,i?c=>fI(i,c):Be));return e?s.pipe(NC(e)):s}function hI(t,n,e){t?Na(e,t,n):n()}const Rb=k(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function kb(...t){return function y3(){return Oi(1)}()(Ve(t,Ro(t)))}function pI(t){return new Ye(n=>{Oo(t()).subscribe(n)})}function Ng(t,n){const e=T(t)?t:()=>t,r=i=>i.error(e());return new Ye(n?i=>n.schedule(r,0,i):r)}function OC(){return tt((t,n)=>{let e=null;t._refCount++;const r=ht(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const i=t._connection,s=e;e=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class RC extends Ye{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,lt(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new C;const e=this.getSubject();n.add(this.source.subscribe(ht(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=C.EMPTY)}return n}refCount(){return OC()(this)}}function zc(t){return t<=0?()=>ma:tt((n,e)=>{let r=0;n.subscribe(ht(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function uv(...t){const n=Ro(t);return tt((e,r)=>{(n?kb(t,e,n):kb(t,e)).subscribe(r)})}function Rl(t,n){return tt((e,r)=>{let i=0;e.subscribe(ht(r,s=>t.call(n,s,i++)&&r.next(s)))})}function Pb(t){return tt((n,e)=>{let r=!1;n.subscribe(ht(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function gI(t=b3){return tt((n,e)=>{let r=!1;n.subscribe(ht(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function b3(){return new Rb}function rp(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Rl((i,s)=>t(i,s,r)):Be,zc(1),e?Pb(n):gI(()=>new Rb))}function Og(t,n){return T(n)?Zi(t,n,1):Zi(t,1)}function Ta(t,n,e){const r=T(t)||n||e?{next:t,error:n,complete:e}:t;return r?tt((i,s)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let m=!0;i.subscribe(ht(s,_=>{var R;null===(R=r.next)||void 0===R||R.call(r,_),s.next(_)},()=>{var _;m=!1,null===(_=r.complete)||void 0===_||_.call(r),s.complete()},_=>{var R;m=!1,null===(R=r.error)||void 0===R||R.call(r,_),s.error(_)},()=>{var _,R;m&&(null===(_=r.unsubscribe)||void 0===_||_.call(r)),null===(R=r.finalize)||void 0===R||R.call(r)}))}):Be}function qf(t){return tt((n,e)=>{let s,r=null,i=!1;r=n.subscribe(ht(e,void 0,void 0,c=>{s=Oo(t(c,qf(t)(n))),r?(r.unsubscribe(),r=null,s.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(e))})}function kC(t){return t<=0?()=>ma:tt((n,e)=>{let r=[];n.subscribe(ht(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Rg(t){return tt((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const xr="primary",cv=Symbol("RouteTitle");class x3{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function kg(t){return new x3(t)}function D3(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const c=r[s],m=t[s];if(c.startsWith(":"))i[c.substring(1)]=m;else if(c!==m.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Uc(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!mI(t[i],n[i]))return!1;return!0}function mI(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((i,s)=>r[s]===i)}return t===n}function vI(t){return t.length>0?t[t.length-1]:null}function Qf(t){return Nb(t)?t:Wm(t)?Ve(Promise.resolve(t)):qe(t)}const T3={exact:function wI(t,n,e){if(!ip(t.segments,n.segments)||!Lb(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!wI(t.children[r],n.children[r],e))return!1;return!0},subset:_I},yI={exact:function M3(t,n){return Uc(t,n)},subset:function I3(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>mI(t[e],n[e]))},ignored:()=>!0};function bI(t,n,e){return T3[e.paths](t.root,n.root,e.matrixParams)&&yI[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function _I(t,n,e){return CI(t,n,n.segments,e)}function CI(t,n,e,r){if(t.segments.length>e.length){const i=t.segments.slice(0,e.length);return!(!ip(i,e)||n.hasChildren()||!Lb(i,e,r))}if(t.segments.length===e.length){if(!ip(t.segments,e)||!Lb(t.segments,e,r))return!1;for(const i in n.children)if(!t.children[i]||!_I(t.children[i],n.children[i],r))return!1;return!0}{const i=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(ip(t.segments,i)&&Lb(t.segments,i,r)&&t.children[xr])&&CI(t.children[xr],n,s,r)}}function Lb(t,n,e){return n.every((r,i)=>yI[e](t[i].parameters,r.parameters))}class Pg{constructor(n=new xi([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kg(this.queryParams)),this._queryParamMap}toString(){return O3.serialize(this)}}class xi{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fb(this)}}class dv{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=kg(this.parameters)),this._parameterMap}toString(){return DI(this)}}function ip(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}let fv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:function(){return new PC},providedIn:"root"}),t})();class PC{parse(n){const e=new G3(n);return new Pg(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${hv(n.root,!0)}`,r=function P3(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(i=>`${Bb(e)}=${Bb(i)}`).join("&"):`${Bb(e)}=${Bb(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function R3(t){return encodeURI(t)}(n.fragment)}`:""}`}}const O3=new PC;function Fb(t){return t.segments.map(n=>DI(n)).join("/")}function hv(t,n){if(!t.hasChildren())return Fb(t);if(n){const e=t.children[xr]?hv(t.children[xr],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==xr&&r.push(`${i}:${hv(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function N3(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===xr&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==xr&&(e=e.concat(n(i,r)))}),e}(t,(r,i)=>i===xr?[hv(t.children[xr],!1)]:[`${i}:${hv(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[xr]?`${Fb(t)}/${e[0]}`:`${Fb(t)}/(${e.join("//")})`}}function EI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bb(t){return EI(t).replace(/%3B/gi,";")}function LC(t){return EI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vb(t){return decodeURIComponent(t)}function xI(t){return Vb(t.replace(/\+/g,"%20"))}function DI(t){return`${LC(t.path)}${function k3(t){return Object.keys(t).map(n=>`;${LC(n)}=${LC(t[n])}`).join("")}(t.parameters)}`}const L3=/^[^\/()?;#]+/;function FC(t){const n=t.match(L3);return n?n[0]:""}const F3=/^[^\/()?;=#]+/,V3=/^[^=?&#]+/,z3=/^[^&#]+/;class G3{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xi([],{}):new xi([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[xr]=new xi(n,e)),r}parseSegment(){const n=FC(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Ze(4009,!1);return this.capture(n),new dv(Vb(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function B3(t){const n=t.match(F3);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=FC(this.remaining);i&&(r=i,this.capture(r))}n[Vb(e)]=Vb(r)}parseQueryParam(n){const e=function H3(t){const n=t.match(V3);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const c=function U3(t){const n=t.match(z3);return n?n[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=xI(e),s=xI(r);if(n.hasOwnProperty(i)){let c=n[i];Array.isArray(c)||(c=[c],n[i]=c),c.push(s)}else n[i]=s}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=FC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Ze(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=xr);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[xr]:new xi([],c),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Ze(4011,!1)}}function SI(t){return t.segments.length>0?new xi([],{[xr]:t}):t}function TI(t){const n={};for(const r of Object.keys(t.children)){const s=TI(t.children[r]);if(r===xr&&0===s.segments.length&&s.hasChildren())for(const[c,m]of Object.entries(s.children))n[c]=m;else(s.segments.length>0||s.hasChildren())&&(n[r]=s)}return function j3(t){if(1===t.numberOfChildren&&t.children[xr]){const n=t.children[xr];return new xi(t.segments.concat(n.segments),n.children)}return t}(new xi(t.segments,n))}function op(t){return t instanceof Pg}function MI(t){let n;const i=SI(function e(s){const c={};for(const _ of s.children){const R=e(_);c[_.outlet]=R}const m=new xi(s.url,c);return s===t&&(n=m),m}(t.root));return n??i}function II(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(0===n.length)return BC(i,i,i,e,r);const s=function $3(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new NI(!0,0,t);let n=0,e=!1;const r=t.reduce((i,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const m={};return Object.entries(s.outlets).forEach(([_,R])=>{m[_]="string"==typeof R?R.split("/"):R}),[...i,{outlets:m}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===c?(s.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?e=!0:".."===m?n++:""!=m&&i.push(m))}),i):[...i,s]},[]);return new NI(e,n,r)}(n);if(s.toRoot())return BC(i,i,new xi([],{}),e,r);const c=function Y3(t,n,e){if(t.isAbsolute)return new zb(n,!0,0);if(!e)return new zb(n,!1,NaN);if(null===e.parent)return new zb(e,!0,0);const r=Hb(t.commands[0])?0:1;return function X3(t,n,e){let r=t,i=n,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Ze(4005,!1);i=r.segments.length}return new zb(r,!1,i-s)}(e,e.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),m=c.processChildren?gv(c.segmentGroup,c.index,s.commands):OI(c.segmentGroup,c.index,s.commands);return BC(i,c.segmentGroup,m,e,r)}function Hb(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function pv(t){return"object"==typeof t&&null!=t&&t.outlets}function BC(t,n,e,r,i){let c,s={};r&&Object.entries(r).forEach(([_,R])=>{s[_]=Array.isArray(R)?R.map(U=>`${U}`):`${R}`}),c=t===n?e:AI(t,n,e);const m=SI(TI(c));return new Pg(m,s,i)}function AI(t,n,e){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===n?e:AI(s,n,e)}),new xi(t.segments,r)}class NI{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Hb(r[0]))throw new Ze(4003,!1);const i=r.find(pv);if(i&&i!==vI(r))throw new Ze(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zb{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function OI(t,n,e){if(t||(t=new xi([],{})),0===t.segments.length&&t.hasChildren())return gv(t,n,e);const r=function Z3(t,n,e){let r=0,i=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return s;const c=t.segments[i],m=e[r];if(pv(m))break;const _=`${m}`,R=r<e.length-1?e[r+1]:null;if(i>0&&void 0===_)break;if(_&&R&&"object"==typeof R&&void 0===R.outlets){if(!kI(_,R,c))return s;r+=2}else{if(!kI(_,{},c))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new xi(t.segments.slice(0,r.pathIndex),{});return s.children[xr]=new xi(t.segments.slice(r.pathIndex),t.children),gv(s,0,i)}return r.match&&0===i.length?new xi(t.segments,{}):r.match&&!t.hasChildren()?VC(t,n,e):r.match?gv(t,0,i):VC(t,n,e)}function gv(t,n,e){if(0===e.length)return new xi(t.segments,{});{const r=function K3(t){return pv(t[0])?t[0].outlets:{[xr]:t}}(e),i={};if(!r[xr]&&t.children[xr]&&1===t.numberOfChildren&&0===t.children[xr].segments.length){const s=gv(t.children[xr],n,e);return new xi(t.segments,s.children)}return Object.entries(r).forEach(([s,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(i[s]=OI(t.children[s],n,c))}),Object.entries(t.children).forEach(([s,c])=>{void 0===r[s]&&(i[s]=c)}),new xi(t.segments,i)}}function VC(t,n,e){const r=t.segments.slice(0,n);let i=0;for(;i<e.length;){const s=e[i];if(pv(s)){const _=q3(s.outlets);return new xi(r,_)}if(0===i&&Hb(e[0])){r.push(new dv(t.segments[n].path,RI(e[0]))),i++;continue}const c=pv(s)?s.outlets[xr]:`${s}`,m=i<e.length-1?e[i+1]:null;c&&m&&Hb(m)?(r.push(new dv(c,RI(m))),i+=2):(r.push(new dv(c,{})),i++)}return new xi(r,{})}function q3(t){const n={};return Object.entries(t).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[e]=VC(new xi([],{}),0,r))}),n}function RI(t){const n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function kI(t,n,e){return t==e.path&&Uc(n,e.parameters)}const mv="imperative";class Gc{constructor(n,e){this.id=n,this.url=e}}class HC extends Gc{constructor(n,e,r="imperative",i=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ap extends Gc{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ub extends Gc{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vv extends Gc{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=16}}class zC extends Gc{constructor(n,e,r,i){super(n,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Q3 extends Gc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J3 extends Gc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ez extends Gc{constructor(n,e,r,i,s){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tz extends Gc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nz extends Gc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rz{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class iz{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oz{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class az{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sz{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lz{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PI{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class uz{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new yv,this.attachRef=null}}let yv=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new uz,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class LI{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=UC(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=UC(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=GC(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return GC(n,this._root).map(e=>e.value)}}function UC(t,n){if(t===n.value)return n;for(const e of n.children){const r=UC(t,e);if(r)return r}return null}function GC(t,n){if(t===n.value)return[n];for(const e of n.children){const r=GC(t,e);if(r.length)return r.unshift(n),r}return[]}class tf{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Lg(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class FI extends LI{constructor(n,e){super(n),this.snapshot=e,jC(this,n)}toString(){return this.snapshot.toString()}}function BI(t,n){const e=function cz(t,n){const c=new Gb([],{},{},"",{},xr,n,null,{});return new HI("",new tf(c,[]))}(0,n),r=new un([new dv("",{})]),i=new un({}),s=new un({}),c=new un({}),m=new un(""),_=new Fg(r,i,c,m,s,xr,n,e.root);return _.snapshot=e.root,new FI(new tf(_,[]),e)}class Fg{constructor(n,e,r,i,s,c,m,_){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=c,this.component=m,this._futureSnapshot=_,this.title=this.dataSubject?.pipe(Dt(R=>R[cv]))??qe(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Dt(n=>kg(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Dt(n=>kg(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function VI(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const i=e[r],s=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function dz(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Gb{get title(){return this.data?.[cv]}constructor(n,e,r,i,s,c,m,_,R){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=m,this.routeConfig=_,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class HI extends LI{constructor(n,e){super(e),this.url=n,jC(this,e)}toString(){return zI(this._root)}}function jC(t,n){n.value._routerState=t,n.children.forEach(e=>jC(t,e))}function zI(t){const n=t.children.length>0?` { ${t.children.map(zI).join(", ")} } `:"";return`${t.value}${n}`}function WC(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Uc(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Uc(n.params,e.params)||t.paramsSubject.next(e.params),function S3(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Uc(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),Uc(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function $C(t,n){const e=Uc(t.params,n.params)&&function A3(t,n){return ip(t,n)&&t.every((e,r)=>Uc(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||$C(t.parent,n.parent))}let YC=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=xr,this.activateEvents=new lr,this.deactivateEvents=new lr,this.attachEvents=new lr,this.detachEvents=new lr,this.parentContexts=en(yv),this.location=en(za),this.changeDetector=en(zs),this.environmentInjector=en(Nc),this.inputBinder=en(jb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ze(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ze(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ze(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Ze(4013,!1);this._activatedRoute=e;const i=this.location,c=e.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,_=new fz(e,m,i.injector);this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=an({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wa]}),t})();class fz{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Fg?this.route:n===yv?this.childContexts:this.parent.get(n,e)}}const jb=new Xt("");let UI=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,i=Ob([r.queryParams,r.params,r.data]).pipe(Vt(([s,c,m],_)=>(m={...s,...c,...m},0===_?qe(m):Promise.resolve(m)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const c=function HV(t){const n=Fr(t);if(!n)return null;const e=new Fm(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(c)for(const{templateName:m}of c.inputs)e.activatedComponentRef.setInput(m,s[m]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})();function bv(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const i=function pz(t,n,e){return n.children.map(r=>{for(const i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return bv(t,r,i);return bv(t,r)})}(t,n,e);return new tf(r,i)}{if(t.shouldAttach(n.value)){const s=t.retrieve(n.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=n.value,c.children=n.children.map(m=>bv(t,m)),c}}const r=function gz(t){return new Fg(new un(t.url),new un(t.params),new un(t.queryParams),new un(t.fragment),new un(t.data),t.outlet,t.component,t)}(n.value),i=n.children.map(s=>bv(t,s));return new tf(r,i)}}const XC="ngNavigationCancelingError";function GI(t,n){const{redirectTo:e,navigationBehaviorOptions:r}=op(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=jI(!1,0,n);return i.url=e,i.navigationBehaviorOptions=r,i}function jI(t,n,e){const r=new Error("NavigationCancelingError: "+(t||""));return r[XC]=!0,r.cancellationCode=n,e&&(r.url=e),r}function WI(t){return $I(t)&&op(t.url)}function $I(t){return t&&t[XC]}let YI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["ng-component"]],standalone:!0,features:[$T],decls:1,vars:0,template:function(e,r){1&e&&Fn(0,"router-outlet")},dependencies:[YC],encapsulation:2}),t})();function KC(t){const n=t.children&&t.children.map(KC),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==xr&&(e.component=YI),e}function $u(t){return t.outlet||xr}function wv(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Cz{constructor(n,e,r,i,s){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),WC(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const i=Lg(e);n.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,i[c],r),delete i[c]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,e,r){const i=n.value,s=e?e.value:null;if(i===s)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(n,e,c.children)}else this.deactivateChildRoutes(n,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,s=Lg(n);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);if(r&&r.outlet){const c=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:c,route:n,contexts:m})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,s=Lg(n);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){const i=Lg(e);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new lz(s.value.snapshot))}),n.children.length&&this.forwardEvent(new az(n.value.snapshot))}activateRoutes(n,e,r){const i=n.value,s=e?e.value:null;if(WC(i),i===s)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,c.children)}else this.activateChildRoutes(n,e,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(m.contexts),c.attachRef=m.componentRef,c.route=m.route.value,c.outlet&&c.outlet.attach(m.componentRef,m.route.value),WC(m.route.value),this.activateChildRoutes(n,null,c.children)}else{const m=wv(i.snapshot);c.attachRef=null,c.route=i,c.injector=m,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(n,null,c.children)}}else this.activateChildRoutes(n,null,r)}}class XI{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Wb{constructor(n,e){this.component=n,this.route=e}}function Ez(t,n,e){const r=t._root;return _v(r,n?n._root:null,e,[r.value])}function Bg(t,n){const e=Symbol(),r=n.get(t,e);return r===e?"function"!=typeof t||function ic(t){return null!==Ra(t)}(t)?n.get(t):t:r}function _v(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Lg(n);return t.children.forEach(c=>{(function Dz(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,c=n?n.value:null,m=e?e.getContext(t.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const _=function Sz(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!ip(t.url,n.url);case"pathParamsOrQueryParamsChange":return!ip(t.url,n.url)||!Uc(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$C(t,n)||!Uc(t.queryParams,n.queryParams);default:return!$C(t,n)}}(c,s,s.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new XI(r)):(s.data=c.data,s._resolvedData=c._resolvedData),_v(t,n,s.component?m?m.children:null:e,r,i),_&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new Wb(m.outlet.component,c))}else c&&Cv(n,m,i),i.canActivateChecks.push(new XI(r)),_v(t,null,s.component?m?m.children:null:e,r,i)})(c,s[c.value.outlet],e,r.concat([c.value]),i),delete s[c.value.outlet]}),Object.entries(s).forEach(([c,m])=>Cv(m,e.getContext(c),i)),i}function Cv(t,n,e){const r=Lg(t),i=t.value;Object.entries(r).forEach(([s,c])=>{Cv(c,i.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new Wb(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Ev(t){return"function"==typeof t}function KI(t){return t instanceof Rb||"EmptyError"===t?.name}const $b=Symbol("INITIAL_VALUE");function Vg(){return Vt(t=>Ob(t.map(n=>n.pipe(zc(1),uv($b)))).pipe(Dt(n=>{for(const e of n)if(!0!==e){if(e===$b)return $b;if(!1===e||e instanceof Pg)return e}return!0}),Rl(n=>n!==$b),zc(1)))}function ZI(t){return function ot(...t){return ft(t)}(Ta(n=>{if(op(n))throw GI(0,n)}),Dt(n=>!0===n))}class Yb{constructor(n){this.segmentGroup=n||null}}class qI{constructor(n){this.urlTree=n}}function Hg(t){return Ng(new Yb(t))}function QI(t){return Ng(new qI(t))}class $z{constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new Ze(4002,!1)}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return qe(r);if(i.numberOfChildren>1||!i.children[xr])return Ng(new Ze(4e3,!1));i=i.children[xr]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreateUrlTree(n,e,r,i){const s=this.createSegmentGroup(n,e.root,r,i);return new Pg(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Object.entries(n).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);r[i]=e[m]}else r[i]=s}),r}createSegmentGroup(n,e,r,i){const s=this.createSegments(n,e.segments,r,i);let c={};return Object.entries(e.children).forEach(([m,_])=>{c[m]=this.createSegmentGroup(n,_,r,i)}),new xi(s,c)}createSegments(n,e,r,i){return e.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,e,r){const i=r[e.path.substring(1)];if(!i)throw new Ze(4001,!1);return i}findOrReturn(n,e){let r=0;for(const i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}}const ZC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yz(t,n,e,r,i){const s=qC(t,n,e);return s.matched?(r=function mz(t,n){return t.providers&&!t._injector&&(t._injector=C_(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,r),function Gz(t,n,e,r){const i=n.canMatch;return i&&0!==i.length?qe(i.map(c=>{const m=Bg(c,t);return Qf(function Oz(t){return t&&Ev(t.canMatch)}(m)?m.canMatch(n,e):t.runInContext(()=>m(n,e)))})).pipe(Vg(),ZI()):qe(!0)}(r,n,e).pipe(Dt(c=>!0===c?s:{...ZC}))):qe(s)}function qC(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...ZC}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||D3)(e,t,n);if(!i)return{...ZC};const s={};Object.entries(i.posParams??{}).forEach(([m,_])=>{s[m]=_.path});const c=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function JI(t,n,e,r){return e.length>0&&function Zz(t,n,e){return e.some(r=>Xb(t,n,r)&&$u(r)!==xr)}(t,e,r)?{segmentGroup:new xi(n,Kz(r,new xi(e,t.children))),slicedSegments:[]}:0===e.length&&function qz(t,n,e){return e.some(r=>Xb(t,n,r))}(t,e,r)?{segmentGroup:new xi(t.segments,Xz(t,0,e,r,t.children)),slicedSegments:e}:{segmentGroup:new xi(t.segments,t.children),slicedSegments:e}}function Xz(t,n,e,r,i){const s={};for(const c of r)if(Xb(t,e,c)&&!i[$u(c)]){const m=new xi([],{});s[$u(c)]=m}return{...i,...s}}function Kz(t,n){const e={};e[xr]=n;for(const r of t)if(""===r.path&&$u(r)!==xr){const i=new xi([],{});e[$u(r)]=i}return e}function Xb(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class t4{constructor(n,e,r,i,s,c,m){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=c,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new $z(this.urlSerializer,this.urlTree)}noMatchError(n){return new Ze(4002,!1)}recognize(){const n=JI(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,xr).pipe(qf(e=>{if(e instanceof qI)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Yb?this.noMatchError(e):e}),Dt(e=>{const r=new Gb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},xr,this.rootComponentType,null,{}),i=new tf(r,e),s=new HI("",i),c=function W3(t,n,e=null,r=null){return II(MI(t),n,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(s._root),{state:s,tree:c}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,xr).pipe(qf(r=>{throw r instanceof Yb?this.noMatchError(r):r}))}inheritParamsAndData(n){const e=n.value,r=VI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,i,!0)}processChildren(n,e,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ve(i).pipe(Og(s=>{const c=r.children[s],m=function wz(t,n){const e=t.filter(r=>$u(r)===n);return e.push(...t.filter(r=>$u(r)!==n)),e}(e,s);return this.processSegmentGroup(n,m,c,s)}),function _3(t,n){return tt(function w3(t,n,e,r,i){return(s,c)=>{let m=e,_=n,R=0;s.subscribe(ht(c,U=>{const K=R++;_=m?t(_,U,K):(m=!0,U),r&&c.next(_)},i&&(()=>{m&&c.next(_),c.complete()})))}}(t,n,arguments.length>=2,!0))}((s,c)=>(s.push(...c),s)),Pb(null),function C3(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Rl((i,s)=>t(i,s,r)):Be,kC(1),e?Pb(n):gI(()=>new Rb))}(),Zi(s=>{if(null===s)return Hg(r);const c=eA(s);return function n4(t){t.sort((n,e)=>n.value.outlet===xr?-1:e.value.outlet===xr?1:n.value.outlet.localeCompare(e.value.outlet))}(c),qe(c)}))}processSegment(n,e,r,i,s,c){return Ve(e).pipe(Og(m=>this.processSegmentAgainstRoute(m._injector??n,e,m,r,i,s,c).pipe(qf(_=>{if(_ instanceof Yb)return qe(null);throw _}))),rp(m=>!!m),qf(m=>{if(KI(m))return function Jz(t,n,e){return 0===n.length&&!t.children[e]}(r,i,s)?qe([]):Hg(r);throw m}))}processSegmentAgainstRoute(n,e,r,i,s,c,m){return function Qz(t,n,e,r){return!!($u(t)===r||r!==xr&&Xb(n,e,t))&&("**"===t.path||qC(n,t,e).matched)}(r,i,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,s,c,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,s,c):Hg(i):Hg(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,s,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?QI(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Zi(c=>{const m=new xi(c,{});return this.processSegment(n,e,m,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,s,c){const{matched:m,consumedSegments:_,remainingSegments:R,positionalParamSegments:U}=qC(e,i,s);if(!m)return Hg(e);const K=this.applyRedirects.applyRedirectCommands(_,i.redirectTo,U);return i.redirectTo.startsWith("/")?QI(K):this.applyRedirects.lineralizeSegments(i,K).pipe(Zi(ge=>this.processSegment(n,r,e,ge.concat(R),c,!1)))}matchSegmentAgainstRoute(n,e,r,i,s,c){let m;if("**"===r.path){const _=i.length>0?vI(i).parameters:{};m=qe({snapshot:new Gb(i,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tA(r),$u(r),r.component??r._loadedComponent??null,r,nA(r)),consumedSegments:[],remainingSegments:[]}),e.children={}}else m=Yz(e,r,i,n).pipe(Dt(({matched:_,consumedSegments:R,remainingSegments:U,parameters:K})=>_?{snapshot:new Gb(R,K,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tA(r),$u(r),r.component??r._loadedComponent??null,r,nA(r)),consumedSegments:R,remainingSegments:U}:null));return m.pipe(Vt(_=>null===_?Hg(e):this.getChildConfig(n=r._injector??n,r,i).pipe(Vt(({routes:R})=>{const U=r._loadedInjector??n,{snapshot:K,consumedSegments:ge,remainingSegments:be}=_,{segmentGroup:Ie,slicedSegments:Fe}=JI(e,ge,be,R);if(0===Fe.length&&Ie.hasChildren())return this.processChildren(U,R,Ie).pipe(Dt(gt=>null===gt?null:[new tf(K,gt)]));if(0===R.length&&0===Fe.length)return qe([new tf(K,[])]);const nt=$u(r)===s;return this.processSegment(U,R,Ie,Fe,nt?xr:s,!0).pipe(Dt(gt=>[new tf(K,gt)]))}))))}getChildConfig(n,e,r){return e.children?qe({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?qe({routes:e._loadedRoutes,injector:e._loadedInjector}):function Uz(t,n,e,r){const i=n.canLoad;return void 0===i||0===i.length?qe(!0):qe(i.map(c=>{const m=Bg(c,t);return Qf(function Mz(t){return t&&Ev(t.canLoad)}(m)?m.canLoad(n,e):t.runInContext(()=>m(n,e)))})).pipe(Vg(),ZI())}(n,e,r).pipe(Zi(i=>i?this.configLoader.loadChildren(n,e).pipe(Ta(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function Wz(t){return Ng(jI(!1,3))}())):qe({routes:[],injector:n})}}function r4(t){const n=t.value.routeConfig;return n&&""===n.path}function eA(t){const n=[],e=new Set;for(const r of t){if(!r4(r)){n.push(r);continue}const i=n.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):n.push(r)}for(const r of e){const i=eA(r.children);n.push(new tf(r.value,i))}return n.filter(r=>!e.has(r))}function tA(t){return t.data||{}}function nA(t){return t.resolve||{}}function rA(t){return"string"==typeof t.title||null===t.title}function QC(t){return Vt(n=>{const e=t(n);return e?Ve(e).pipe(Dt(()=>n)):qe(n)})}const zg=new Xt("ROUTES");let JC=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=en(L1)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return qe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Qf(e.loadComponent()).pipe(Dt(iA),Ta(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Rg(()=>{this.componentLoaders.delete(e)})),i=new RC(r,()=>new Mt).pipe(OC());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return qe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Dt(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,R;return Array.isArray(m)?R=m:(_=m.create(e).injector,R=_.get(zg,[],Pn.Self|Pn.Optional).flat()),{routes:R.map(KC),injector:_}}),Rg(()=>{this.childrenLoaders.delete(r)})),c=new RC(s,()=>new Mt).pipe(OC());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(e){return Qf(e()).pipe(Dt(iA),Zi(r=>r instanceof jT||Array.isArray(r)?qe(r):Ve(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function iA(t){return function d4(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Kb=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Mt,this.configLoader=en(JC),this.environmentInjector=en(Nc),this.urlSerializer=en(fv),this.rootContexts=en(yv),this.inputBindingEnabled=null!==en(jb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>qe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new iz(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new rz(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new un({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mv,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Rl(r=>0!==r.id),Dt(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),Vt(r=>{let i=!1,s=!1;return qe(r).pipe(Ta(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Vt(c=>{const m=e.browserUrlTree.toString(),_=!e.navigated||c.extractedUrl.toString()!==m||m!==e.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const U="";return this.events.next(new vv(c.id,e.serializeUrl(r.rawUrl),U,0)),e.rawUrlTree=c.rawUrl,c.resolve(null),ma}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return oA(c.source)&&(e.browserUrlTree=c.extractedUrl),qe(c).pipe(Vt(U=>{const K=this.transitions?.getValue();return this.events.next(new HC(U.id,this.urlSerializer.serialize(U.extractedUrl),U.source,U.restoredState)),K!==this.transitions?.getValue()?ma:Promise.resolve(U)}),function o4(t,n,e,r,i,s){return Zi(c=>function e4(t,n,e,r,i,s,c="emptyOnly"){return new t4(t,n,e,r,i,c,s).recognize()}(t,n,e,r,c.extractedUrl,i,s).pipe(Dt(({state:m,tree:_})=>({...c,targetSnapshot:m,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Ta(U=>{if(r.targetSnapshot=U.targetSnapshot,r.urlAfterRedirects=U.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:U.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!U.extras.skipLocationChange){const ge=e.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl);e.setBrowserUrl(ge,U)}e.browserUrlTree=U.urlAfterRedirects}const K=new Q3(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects),U.targetSnapshot);this.events.next(K)}));if(_&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:U,extractedUrl:K,source:ge,restoredState:be,extras:Ie}=c,Fe=new HC(U,this.urlSerializer.serialize(K),ge,be);this.events.next(Fe);const nt=BI(0,this.rootComponentType).snapshot;return qe(r={...c,targetSnapshot:nt,urlAfterRedirects:K,extras:{...Ie,skipLocationChange:!1,replaceUrl:!1}})}{const U="";return this.events.next(new vv(c.id,e.serializeUrl(r.extractedUrl),U,1)),e.rawUrlTree=c.rawUrl,c.resolve(null),ma}}),Ta(c=>{const m=new J3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(m)}),Dt(c=>r={...c,guards:Ez(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function kz(t,n){return Zi(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?qe({...e,guardsResult:!0}):function Pz(t,n,e,r){return Ve(t).pipe(Zi(i=>function zz(t,n,e,r,i){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?qe(s.map(m=>{const _=wv(n)??i,R=Bg(m,_);return Qf(function Nz(t){return t&&Ev(t.canDeactivate)}(R)?R.canDeactivate(t,n,e,r):_.runInContext(()=>R(t,n,e,r))).pipe(rp())})).pipe(Vg()):qe(!0)}(i.component,i.route,e,n,r)),rp(i=>!0!==i,!0))}(c,r,i,t).pipe(Zi(m=>m&&function Tz(t){return"boolean"==typeof t}(m)?function Lz(t,n,e,r){return Ve(n).pipe(Og(i=>kb(function Bz(t,n){return null!==t&&n&&n(new oz(t)),qe(!0)}(i.route.parent,r),function Fz(t,n){return null!==t&&n&&n(new sz(t)),qe(!0)}(i.route,r),function Hz(t,n,e){const r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(c=>function xz(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(c)).filter(c=>null!==c).map(c=>pI(()=>qe(c.guards.map(_=>{const R=wv(c.node)??e,U=Bg(_,R);return Qf(function Az(t){return t&&Ev(t.canActivateChild)}(U)?U.canActivateChild(r,t):R.runInContext(()=>U(r,t))).pipe(rp())})).pipe(Vg())));return qe(s).pipe(Vg())}(t,i.path,e),function Vz(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return qe(!0);const i=r.map(s=>pI(()=>{const c=wv(n)??e,m=Bg(s,c);return Qf(function Iz(t){return t&&Ev(t.canActivate)}(m)?m.canActivate(n,t):c.runInContext(()=>m(n,t))).pipe(rp())}));return qe(i).pipe(Vg())}(t,i.route,e))),rp(i=>!0!==i,!0))}(r,s,t,n):qe(m)),Dt(m=>({...e,guardsResult:m})))})}(this.environmentInjector,c=>this.events.next(c)),Ta(c=>{if(r.guardsResult=c.guardsResult,op(c.guardsResult))throw GI(0,c.guardsResult);const m=new ez(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(m)}),Rl(c=>!!c.guardsResult||(e.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),QC(c=>{if(c.guards.canActivateChecks.length)return qe(c).pipe(Ta(m=>{const _=new tz(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}),Vt(m=>{let _=!1;return qe(m).pipe(function a4(t,n){return Zi(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return qe(e);let s=0;return Ve(i).pipe(Og(c=>function s4(t,n,e,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!rA(i)&&(s[cv]=i.title),function l4(t,n,e,r){const i=function u4(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return qe({});const s={};return Ve(i).pipe(Zi(c=>function c4(t,n,e,r){const i=wv(n)??r,s=Bg(t,i);return Qf(s.resolve?s.resolve(n,e):i.runInContext(()=>s(n,e)))}(t[c],n,e,r).pipe(rp(),Ta(m=>{s[c]=m}))),kC(1),function E3(t){return Dt(()=>t)}(s),qf(c=>KI(c)?ma:Ng(c)))}(s,t,n,r).pipe(Dt(c=>(t._resolvedData=c,t.data=VI(t,e).resolve,i&&rA(i)&&(t.data[cv]=i.title),null)))}(c.route,r,t,n)),Ta(()=>s++),kC(1),Zi(c=>s===i.length?qe(e):ma))})}(e.paramsInheritanceStrategy,this.environmentInjector),Ta({next:()=>_=!0,complete:()=>{_||(e.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),Ta(m=>{const _=new nz(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}))}),QC(c=>{const m=_=>{const R=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(_.routeConfig).pipe(Ta(U=>{_.component=U}),Dt(()=>{})));for(const U of _.children)R.push(...m(U));return R};return Ob(m(c.targetSnapshot.root)).pipe(Pb(),zc(1))}),QC(()=>this.afterPreactivation()),Dt(c=>{const m=function hz(t,n,e){const r=bv(t,n._root,e?e._root:void 0);return new FI(r,n)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:m}}),Ta(c=>{e.currentUrlTree=c.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),e.routerState=c.targetRouterState,"deferred"===e.urlUpdateStrategy&&(c.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,c),e.browserUrlTree=c.urlAfterRedirects)}),((t,n,e,r)=>Dt(i=>(new Cz(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),zc(1),Ta({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new ap(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Rg(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),qf(c=>{if(s=!0,$I(c)){WI(c)||(e.navigated=!0,e.restoreHistory(r,!0));const m=new Ub(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(m),WI(c)){const _=e.urlHandlingStrategy.merge(c.url,e.rawUrlTree),R={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||oA(r.source)};e.scheduleNavigation(_,mv,null,R,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const m=new zC(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(e.errorHandler(c))}catch(_){r.reject(_)}}return ma}))}))}cancelNavigationTransition(e,r,i){const s=new Ub(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(s),e.resolve(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function oA(t){return t!==mv}let aA=(()=>{class t{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===xr);return r}getResolvedTitleForRoute(e){return e.data[cv]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:function(){return en(f4)},providedIn:"root"}),t})(),f4=(()=>{class t extends aA{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(e){return new(e||t)(Pt(oI))},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),h4=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:function(){return en(g4)},providedIn:"root"}),t})();class p4{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let g4=(()=>{class t extends p4{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=wi(t)))(r||t)}}(),t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Zb=new Xt("",{providedIn:"root",factory:()=>({})});let m4=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:function(){return en(v4)},providedIn:"root"}),t})(),v4=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var kl=(()=>((kl=kl||{})[kl.COMPLETE=0]="COMPLETE",kl[kl.FAILED=1]="FAILED",kl[kl.REDIRECTING=2]="REDIRECTING",kl))();function sA(t,n){t.events.pipe(Rl(e=>e instanceof ap||e instanceof Ub||e instanceof zC||e instanceof vv),Dt(e=>e instanceof ap||e instanceof vv?kl.COMPLETE:e instanceof Ub&&(0===e.code||1===e.code)?kl.REDIRECTING:kl.FAILED),Rl(e=>e!==kl.REDIRECTING),zc(1)).subscribe(()=>{n()})}function y4(t){throw t}function b4(t,n,e){return n.parse("/")}const w4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let uu=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=en(P1),this.isNgZoneEnabled=!1,this.options=en(Zb,{optional:!0})||{},this.pendingTasks=en(db),this.errorHandler=this.options.errorHandler||y4,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||b4,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=en(m4),this.routeReuseStrategy=en(h4),this.titleStrategy=en(aA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=en(zg,{optional:!0})?.flat()??[],this.navigationTransitions=en(Kb),this.urlSerializer=en(fv),this.location=en(rC),this.componentInputBindingEnabled=!!en(jb,{optional:!0}),this.isNgZoneEnabled=en($r)instanceof $r&&$r.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pg,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=BI(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),mv,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const s={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(s.state=_)}const m=this.parseUrl(e);this.scheduleNavigation(m,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(KC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:s,fragment:c,queryParamsHandling:m,preserveFragment:_}=r,R=_?this.currentUrlTree.fragment:c;let K,U=null;switch(m){case"merge":U={...this.currentUrlTree.queryParams,...s};break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=s||null}null!==U&&(U=this.removeEmptyProps(U));try{K=MI(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),K=this.currentUrlTree.root}return II(K,e,U,R??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=op(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,mv,null,r)}navigate(e,r={skipLocationChange:!1}){return function C4(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new Ze(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...w4}:!1===r?{..._4}:r,op(e))return bI(this.currentUrlTree,e,i);const s=this.parseUrl(e);return bI(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const s=e[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(e,r,i,s,c){if(this.disposed)return Promise.resolve(!1);let m,_,R;c?(m=c.resolve,_=c.reject,R=c.promise):R=new Promise((K,ge)=>{m=K,_=ge});const U=this.pendingTasks.add();return sA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(U))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:m,reject:_,promise:R,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),R.catch(K=>Promise.reject(K))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qb=(()=>{class t{constructor(e,r,i,s,c,m){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=c,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new Mt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=e.events.subscribe(R=>{R instanceof ap&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,s,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||i||s||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function nD(t,n,e){return function Nk(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?tD:eD}(n,e)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,e,r):i.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(e){return new(e||t)(We(uu),We(Fg),y("tabindex"),We(Zd),We(ei),We(np))},t.\u0275dir=an({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,r){1&e&&Tn("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&Es("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Ag],skipLocationChange:["skipLocationChange","skipLocationChange",Ag],replaceUrl:["replaceUrl","replaceUrl",Ag],routerLink:"routerLink"},standalone:!0,features:[sS,wa]}),t})();class lA{}let D4=(()=>{class t{constructor(e,r,i,s,c){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Rl(e=>e instanceof ap),Og(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=C_(s.providers,e,`Route: ${s.path}`));const c=s._injector??e,m=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(m,s.children??s._loadedRoutes))}return Ve(i).pipe(Oi())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):qe(null);const s=i.pipe(Zi(c=>null===c?qe(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));return r.loadComponent&&!r._loadedComponent?Ve([s,this.loader.loadComponent(r)]).pipe(Oi()):s})}}return t.\u0275fac=function(e){return new(e||t)(Pt(uu),Pt(L1),Pt(Nc),Pt(lA),Pt(JC))},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const eE=new Xt("");let uA=(()=>{class t{constructor(e,r,i,s,c={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof HC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ap?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof vv&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof PI&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new PI(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(e){Gw()},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})();function nf(t,n){return{\u0275kind:t,\u0275providers:n}}function dA(){const t=en(Vu);return n=>{const e=t.get(Jh);if(n!==e.components[0])return;const r=t.get(uu),i=t.get(fA);1===t.get(tE)&&r.initialNavigation(),t.get(hA,null,Pn.Optional)?.setUpPreloading(),t.get(eE,null,Pn.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const fA=new Xt("",{factory:()=>new Mt}),tE=new Xt("",{providedIn:"root",factory:()=>1}),hA=new Xt("");function I4(t){return nf(0,[{provide:hA,useExisting:D4},{provide:lA,useExisting:t}])}const pA=new Xt("ROUTER_FORROOT_GUARD"),N4=[rC,{provide:fv,useClass:PC},uu,yv,{provide:Fg,useFactory:function cA(t){return t.routerState.root},deps:[uu]},JC,[]];function O4(){return new Y1("Router",uu)}let gA=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[N4,[],{provide:zg,multi:!0,useValue:e},{provide:pA,useFactory:L4,deps:[[uu,new ns,new Bh]]},{provide:Zb,useValue:r||{}},r?.useHash?{provide:np,useClass:WV}:{provide:np,useClass:_M},{provide:eE,useFactory:()=>{const t=en(c5),n=en($r),e=en(Zb),r=en(Kb),i=en(fv);return e.scrollOffset&&t.setOffset(e.scrollOffset),new uA(i,r,t,n,e)}},r?.preloadingStrategy?I4(r.preloadingStrategy).\u0275providers:[],{provide:Y1,multi:!0,useFactory:O4},r?.initialNavigation?F4(r):[],r?.bindToComponentInputs?nf(8,[UI,{provide:jb,useExisting:UI}]).\u0275providers:[],[{provide:mA,useFactory:dA},{provide:$_,multi:!0,useExisting:mA}]]}}static forChild(e){return{ngModule:t,providers:[{provide:zg,multi:!0,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)(Pt(pA,8))},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({}),t})();function L4(t){return"guarded"}function F4(t){return["disabled"===t.initialNavigation?nf(3,[{provide:B_,multi:!0,useFactory:()=>{const n=en(uu);return()=>{n.setUpLocationChangeListener()}}},{provide:tE,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?nf(2,[{provide:tE,useValue:0},{provide:B_,multi:!0,deps:[Vu],useFactory:n=>{const e=n.get(GV,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=n.get(uu),s=n.get(fA);sA(i,()=>{r(!0)}),n.get(Kb).afterPreactivation=()=>(r(!0),s.closed?qe(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const mA=new Xt("");function V4(t,n){1&t&&(st(0,"div",6)(1,"ul")(2,"li")(3,"a",7),Nt(4,"Analysis"),it()(),st(5,"li")(6,"a",8),Nt(7,"Regression testing"),it()(),st(8,"li")(9,"a",9),Nt(10,"Inference"),it()(),st(11,"li")(12,"a",10),Nt(13,"Home"),it()()()())}let H4=(()=>{class t{constructor(e){this.hideComponentsService=e,this.isNavigationVisible=!1,this.isAllHidden=!1}toggleAll(){this.isAllHidden?this.hideComponentsService.showAllComponents("liger"):this.hideComponentsService.hideAllComponents("liger"),this.isAllHidden=!this.isAllHidden}showNavigation(){this.isNavigationVisible=!0}hideNavigation(){this.isNavigationVisible=!1}}return t.\u0275fac=function(e){return new(e||t)(We(cI))},t.\u0275cmp=Or({type:t,selectors:[["app-navigation"]],decls:8,vars:3,consts:[[1,"navigation",3,"mouseenter","mouseleave"],[1,"switch"],["type","checkbox",3,"change"],[1,"slider"],["class","navigation-content",4,"ngIf"],[1,"page-content"],[1,"navigation-content"],["routerLink","/demo"],["routerLink","/regression"],["routerLink","/inference"],["routerLink","/home"]],template:function(e,r){1&e&&(st(0,"div",0),Tn("mouseenter",function(){return r.showNavigation()})("mouseleave",function(){return r.hideNavigation()}),Nt(1," LiGER: "),st(2,"label",1)(3,"input",2),Tn("change",function(){return r.toggleAll()}),it(),Fn(4,"span",3),it(),ti(5,V4,14,0,"div",4),it(),st(6,"div",5),Fn(7,"router-outlet"),it()),2&e&&(Ha("expanded",r.isNavigationVisible),ln(5),cn("ngIf",r.isNavigationVisible))},dependencies:[Hc,YC,qb],styles:['.navigation[_ngcontent-%COMP%]{position:fixed;left:0;top:0;width:50px;height:100vh;background-color:#fff;border:1px solid #00a9e0;transition:width .3s ease-in-out;overflow:hidden}.navigation.expanded[_ngcontent-%COMP%]{width:250px}.navigation-content[_ngcontent-%COMP%]{padding:16px;width:100%}.page-content[_ngcontent-%COMP%]{margin-left:50px;transition:margin-left .3s ease-in-out}.navigation.expanded[_ngcontent-%COMP%] ~ .page-content[_ngcontent-%COMP%]{margin-left:250px}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:square;padding-left:20px}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:2}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em;text-decoration:none;white-space:nowrap}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#2196f3;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%;transform:translate(26px)}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ccc}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(0)}']}),t})(),z4=(()=>{class t{constructor(){this.title="gswb-client"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){1&e&&Fn(0,"app-navigation")},dependencies:[H4]}),t})();function vA(...t){const n=$a(t),{args:e,keys:r}=dI(t),i=new Ye(s=>{const{length:c}=e;if(!c)return void s.complete();const m=new Array(c);let _=c,R=c;for(let U=0;U<c;U++){let K=!1;Oo(e[U]).subscribe(ht(s,ge=>{K||(K=!0,R--),m[U]=ge},()=>_--,void 0,()=>{(!_||!K)&&(R||s.next(r?fI(r,m):m),s.complete())}))}});return n?i.pipe(NC(n)):i}let yA=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(We(Zd),We(ei))},t.\u0275dir=an({type:t}),t})(),sp=(()=>{class t extends yA{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=wi(t)))(r||t)}}(),t.\u0275dir=an({type:t,features:[qn]}),t})();const jc=new Xt("NgValueAccessor"),U4={provide:jc,useExisting:Sn(()=>nE),multi:!0};let nE=(()=>{class t extends sp{writeValue(e){this.setProperty("checked",e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=wi(t)))(r||t)}}(),t.\u0275dir=an({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,r){1&e&&Tn("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Wr([U4]),qn]}),t})();const G4={provide:jc,useExisting:Sn(()=>Ug),multi:!0},W4=new Xt("CompositionEventMode");let Ug=(()=>{class t extends yA{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function j4(){const t=Kf()?Kf().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(We(Zd),We(ei),We(W4,8))},t.\u0275dir=an({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&Tn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Wr([G4]),qn]}),t})();function Jf(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function bA(t){return null!=t&&"number"==typeof t.length}const xs=new Xt("NgValidators"),eh=new Xt("NgAsyncValidators"),$4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rE{static min(n){return function wA(t){return n=>{if(Jf(n.value)||Jf(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function _A(t){return n=>{if(Jf(n.value)||Jf(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function CA(t){return Jf(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function EA(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function xA(t){return Jf(t.value)||$4.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function DA(t){return n=>Jf(n.value)||!bA(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function SA(t){return n=>bA(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function TA(t){if(!t)return Qb;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(Jf(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return RA(n)}static composeAsync(n){return kA(n)}}function Qb(t){return null}function MA(t){return null!=t}function IA(t){return Wm(t)?Ve(t):t}function AA(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function NA(t,n){return n.map(e=>e(t))}function OA(t){return t.map(n=>function Y4(t){return!t.validate}(n)?n:e=>n.validate(e))}function RA(t){if(!t)return null;const n=t.filter(MA);return 0==n.length?null:function(e){return AA(NA(e,n))}}function iE(t){return null!=t?RA(OA(t)):null}function kA(t){if(!t)return null;const n=t.filter(MA);return 0==n.length?null:function(e){return vA(NA(e,n).map(IA)).pipe(Dt(AA))}}function oE(t){return null!=t?kA(OA(t)):null}function PA(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function LA(t){return t._rawValidators}function FA(t){return t._rawAsyncValidators}function aE(t){return t?Array.isArray(t)?t:[t]:[]}function Jb(t,n){return Array.isArray(t)?t.includes(n):t===n}function BA(t,n){const e=aE(n);return aE(t).forEach(i=>{Jb(e,i)||e.push(i)}),e}function VA(t,n){return aE(n).filter(e=>!Jb(t,e))}class HA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=iE(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=oE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Us extends HA{get formDirective(){return null}get path(){return null}}class th extends HA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zA{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xv=(()=>{class t extends zA{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(We(th,2))},t.\u0275dir=an({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Ha("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[qn]}),t})(),UA=(()=>{class t extends zA{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(We(Us,10))},t.\u0275dir=an({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Ha("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[qn]}),t})();const Dv="VALID",t0="INVALID",Gg="PENDING",Sv="DISABLED";function uE(t){return(n0(t)?t.validators:t)||null}function cE(t,n){return(n0(n)?n.asyncValidators:t)||null}function n0(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function jA(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new Ze(1e3,"");if(!r[e])throw new Ze(1001,"")}function WA(t,n,e){t._forEachChild((r,i)=>{if(void 0===e[i])throw new Ze(1002,"")})}class r0{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Dv}get invalid(){return this.status===t0}get pending(){return this.status==Gg}get disabled(){return this.status===Sv}get enabled(){return this.status!==Sv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(BA(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(BA(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(VA(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(VA(n,this._rawAsyncValidators))}hasValidator(n){return Jb(this._rawValidators,n)}hasAsyncValidator(n){return Jb(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Gg,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Sv,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Dv,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dv||this.status===Gg)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sv:Dv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Gg,this._hasOwnPendingAsyncValidator=!0;const e=IA(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new lr,this.statusChanges=new lr}_calculateStatus(){return this._allControlsDisabled()?Sv:this.errors?t0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gg)?Gg:this._anyControlsHaveStatus(t0)?t0:Dv}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){n0(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function q4(t){return Array.isArray(t)?iE(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function Q4(t){return Array.isArray(t)?oE(t):t||null}(this._rawAsyncValidators)}}class Tv extends r0{constructor(n,e,r){super(uE(e),cE(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){WA(this,0,n),Object.keys(n).forEach(r=>{jA(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class $A extends Tv{}const lp=new Xt("CallSetDisabledState",{providedIn:"root",factory:()=>Mv}),Mv="always";function o0(t,n){return[...n.path,t]}function Iv(t,n,e=Mv){dE(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function eU(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&YA(t,n)})}(t,n),function nU(t,n){const e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function tU(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&YA(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function J4(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function a0(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),l0(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function s0(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function dE(t,n){const e=LA(t);null!==n.validator?t.setValidators(PA(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=FA(t);null!==n.asyncValidator?t.setAsyncValidators(PA(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();s0(n._rawValidators,i),s0(n._rawAsyncValidators,i)}function l0(t,n){let e=!1;if(null!==t){if(null!==n.validator){const i=LA(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==n.validator);s.length!==i.length&&(e=!0,t.setValidators(s))}}if(null!==n.asyncValidator){const i=FA(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==n.asyncValidator);s.length!==i.length&&(e=!0,t.setAsyncValidators(s))}}}const r=()=>{};return s0(n._rawValidators,r),s0(n._rawAsyncValidators,r),e}function YA(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function hE(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function pE(t,n){if(!n)return null;let e,r,i;return Array.isArray(n),n.forEach(s=>{s.constructor===Ug?e=s:function oU(t){return Object.getPrototypeOf(t.constructor)===sp}(s)?r=s:i=s}),i||r||e||null}function ZA(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function qA(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Nv=class extends r0{constructor(n=null,e,r){super(uE(e),cE(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),n0(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=qA(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){ZA(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){ZA(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){qA(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},cU={provide:th,useExisting:Sn(()=>Ov)},eN=(()=>Promise.resolve())();let Ov=(()=>{class t extends th{constructor(e,r,i,s,c,m){super(),this._changeDetectorRef=c,this.callSetDisabledState=m,this.control=new Nv,this._registered=!1,this.name="",this.update=new lr,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=pE(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),hE(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Iv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){eN.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&Ag(r);eN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?o0(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(We(Us,9),We(xs,10),We(eh,10),We(jc,10),We(zs,8),We(lp,8))},t.\u0275dir=an({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wr([cU]),qn,wa]}),t})(),tN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=an({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),rN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({}),t})();const mE=new Xt("NgModelWithFormControlWarning"),mU={provide:Us,useExisting:Sn(()=>u0)};let u0=(()=>{class t extends Us{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new lr,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(l0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Iv(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){a0(e.control||null,e,!1),function aU(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function KA(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(a0(r||null,e),(t=>t instanceof Nv)(i)&&(Iv(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function XA(t,n){dE(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function rU(t,n){return l0(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dE(this.form,this),this._oldForm&&l0(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(We(xs,10),We(eh,10),We(lp,8))},t.\u0275dir=an({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&Tn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wr([mU]),qn,wa]}),t})();const bU={provide:th,useExisting:Sn(()=>bE)};let bE=(()=>{class t extends th{set isDisabled(e){}constructor(e,r,i,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new lr,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=pE(0,s)}ngOnChanges(e){this._added||this._setUpControl(),hE(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return o0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(We(Us,13),We(xs,10),We(eh,10),We(jc,10),We(mE,8))},t.\u0275dir=an({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Wr([bU]),qn,wa]}),t})();const wU={provide:jc,useExisting:Sn(()=>c0),multi:!0};function lN(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let c0=(()=>{class t extends sp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=lN(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function _U(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=wi(t)))(r||t)}}(),t.\u0275dir=an({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&Tn("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Wr([wU]),qn]}),t})(),uN=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(lN(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(We(ei),We(Zd),We(c0,9))},t.\u0275dir=an({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const CU={provide:jc,useExisting:Sn(()=>wE),multi:!0};function cN(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let wE=(()=>{class t extends sp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(s=>this._getOptionId(s));r=(s,c)=>{s._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const c=s;for(let m=0;m<c.length;m++){const R=this._getOptionValue(c[m].value);i.push(R)}}else{const c=r.options;for(let m=0;m<c.length;m++){const _=c[m];if(_.selected){const R=this._getOptionValue(_.value);i.push(R)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function EU(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=wi(t)))(r||t)}}(),t.\u0275dir=an({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&Tn("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Wr([CU]),qn]}),t})(),dN=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(cN(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(cN(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(We(ei),We(Zd),We(wE,9))},t.\u0275dir=an({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),_N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({imports:[rN]}),t})();class CN extends r0{constructor(n,e,r){super(uE(e),cE(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,r={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,e={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){WA(this,0,n),n.forEach((r,i)=>{jA(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,r)=>{n(e,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function EN(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let OU=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new t;return e.useNonNullable=!0,e}group(e,r=null){const i=this._reduceControls(e);let s={};return EN(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Tv(i,s)}record(e,r=null){const i=this._reduceControls(e);return new $A(i,r)}control(e,r,i){let s={};return this.useNonNullable?(EN(r)?s=r:(s.validators=r,s.asyncValidators=i),new Nv(e,{...s,nonNullable:!0})):new Nv(e,r,i)}array(e,r,i){const s=e.map(c=>this._createControl(c));return new CN(s,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof Nv||e instanceof r0?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),RU=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:lp,useValue:e.callSetDisabledState??Mv}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({imports:[_N]}),t})(),kU=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:mE,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:lp,useValue:e.callSetDisabledState??Mv}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({imports:[_N]}),t})();class d0{}class f0{}class Wc{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),s=i.toLowerCase(),c=e.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof Wc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new Wc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Wc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const i=("a"===n.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const s=n.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(m=>-1===s.indexOf(m)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const r=(Array.isArray(e)?e:[e]).map(s=>s.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class PU{encodeKey(n){return xN(n)}encodeValue(n){return xN(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const FU=/%(\d[a-f0-9])/gi,BU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xN(t){return encodeURIComponent(t).replace(FU,(n,e)=>BU[e]??n)}function h0(t){return`${t}`}class nh{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new PU,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function LU(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[c,m]=-1==s?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,s)),n.decodeValue(i.slice(s+1))],_=e.get(c)||[];_.push(m),e.set(c,_)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],i=Array.isArray(r)?r.map(h0):[h0(r)];this.map.set(e,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new nh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(h0(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(h0(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class VU{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function DN(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function SN(t){return typeof Blob<"u"&&t instanceof Blob}function TN(t){return typeof FormData<"u"&&t instanceof FormData}class Rv{constructor(n,e,r,i){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function HU(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Wc),this.context||(this.context=new VU),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+c}}else this.params=new nh,this.urlWithParams=e}serializeBody(){return null===this.body?null:DN(this.body)||SN(this.body)||TN(this.body)||function zU(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||TN(this.body)?null:SN(this.body)?this.body.type||null:DN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,c=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,m=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let _=n.headers||this.headers,R=n.params||this.params;const U=n.context??this.context;return void 0!==n.setHeaders&&(_=Object.keys(n.setHeaders).reduce((K,ge)=>K.set(ge,n.setHeaders[ge]),_)),n.setParams&&(R=Object.keys(n.setParams).reduce((K,ge)=>K.set(ge,n.setParams[ge]),R)),new Rv(e,r,s,{params:R,headers:_,context:U,reportProgress:m,responseType:i,withCredentials:c})}}var pa=(()=>((pa=pa||{})[pa.Sent=0]="Sent",pa[pa.UploadProgress=1]="UploadProgress",pa[pa.ResponseHeader=2]="ResponseHeader",pa[pa.DownloadProgress=3]="DownloadProgress",pa[pa.Response=4]="Response",pa[pa.User=5]="User",pa))();class CE{constructor(n,e=200,r="OK"){this.headers=n.headers||new Wc,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class EE extends CE{constructor(n={}){super(n),this.type=pa.ResponseHeader}clone(n={}){return new EE({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class jg extends CE{constructor(n={}){super(n),this.type=pa.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new jg({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class MN extends CE{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function xE(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let p0=(()=>{class t{constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof Rv)s=e;else{let _,R;_=i.headers instanceof Wc?i.headers:new Wc(i.headers),i.params&&(R=i.params instanceof nh?i.params:new nh({fromObject:i.params})),s=new Rv(e,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:R,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=qe(s).pipe(Og(_=>this.handler.handle(_)));if(e instanceof Rv||"events"===i.observe)return c;const m=c.pipe(Rl(_=>_ instanceof jg));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return m.pipe(Dt(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return m.pipe(Dt(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return m.pipe(Dt(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return m.pipe(Dt(_=>_.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new nh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,xE(i,r))}post(e,r,i={}){return this.request("POST",e,xE(i,r))}put(e,r,i={}){return this.request("PUT",e,xE(i,r))}}return t.\u0275fac=function(e){return new(e||t)(Pt(d0))},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})();function NN(t,n){return n(t)}function GU(t,n){return(e,r)=>n.intercept(e,{handle:i=>t(i,r)})}const WU=new Xt(""),kv=new Xt(""),ON=new Xt("");function $U(){let t=null;return(n,e)=>{null===t&&(t=(en(WU,{optional:!0})??[]).reduceRight(GU,NN));const r=en(db),i=r.add();return t(n,e).pipe(Rg(()=>r.remove(i)))}}let RN=(()=>{class t extends d0{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null,this.pendingTasks=en(db)}handle(e){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(kv),...this.injector.get(ON,[])]));this.chain=i.reduceRight((s,c)=>function jU(t,n,e){return(r,i)=>e.runInContext(()=>n(r,s=>t(s,i)))}(s,c,this.injector),NN)}const r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(Rg(()=>this.pendingTasks.remove(r)))}}return t.\u0275fac=function(e){return new(e||t)(Pt(f0),Pt(Nc))},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})();const ZU=/^\)\]\}',?\n/;let PN=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Ze(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Ve(r.\u0275loadImpl()):qe(null)).pipe(Vt(()=>new Ye(s=>{const c=r.build();if(c.open(e.method,e.urlWithParams),e.withCredentials&&(c.withCredentials=!0),e.headers.forEach((Fe,nt)=>c.setRequestHeader(Fe,nt.join(","))),e.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Fe=e.detectContentTypeHeader();null!==Fe&&c.setRequestHeader("Content-Type",Fe)}if(e.responseType){const Fe=e.responseType.toLowerCase();c.responseType="json"!==Fe?Fe:"text"}const m=e.serializeBody();let _=null;const R=()=>{if(null!==_)return _;const Fe=c.statusText||"OK",nt=new Wc(c.getAllResponseHeaders()),gt=function qU(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(c)||e.url;return _=new EE({headers:nt,status:c.status,statusText:Fe,url:gt}),_},U=()=>{let{headers:Fe,status:nt,statusText:gt,url:Qe}=R(),yt=null;204!==nt&&(yt=typeof c.response>"u"?c.responseText:c.response),0===nt&&(nt=yt?200:0);let bn=nt>=200&&nt<300;if("json"===e.responseType&&"string"==typeof yt){const Bn=yt;yt=yt.replace(ZU,"");try{yt=""!==yt?JSON.parse(yt):null}catch(ai){yt=Bn,bn&&(bn=!1,yt={error:ai,text:yt})}}bn?(s.next(new jg({body:yt,headers:Fe,status:nt,statusText:gt,url:Qe||void 0})),s.complete()):s.error(new MN({error:yt,headers:Fe,status:nt,statusText:gt,url:Qe||void 0}))},K=Fe=>{const{url:nt}=R(),gt=new MN({error:Fe,status:c.status||0,statusText:c.statusText||"Unknown Error",url:nt||void 0});s.error(gt)};let ge=!1;const be=Fe=>{ge||(s.next(R()),ge=!0);let nt={type:pa.DownloadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(nt.total=Fe.total),"text"===e.responseType&&c.responseText&&(nt.partialText=c.responseText),s.next(nt)},Ie=Fe=>{let nt={type:pa.UploadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(nt.total=Fe.total),s.next(nt)};return c.addEventListener("load",U),c.addEventListener("error",K),c.addEventListener("timeout",K),c.addEventListener("abort",K),e.reportProgress&&(c.addEventListener("progress",be),null!==m&&c.upload&&c.upload.addEventListener("progress",Ie)),c.send(m),s.next({type:pa.Sent}),()=>{c.removeEventListener("error",K),c.removeEventListener("abort",K),c.removeEventListener("load",U),c.removeEventListener("timeout",K),e.reportProgress&&(c.removeEventListener("progress",be),null!==m&&c.upload&&c.upload.removeEventListener("progress",Ie)),c.readyState!==c.DONE&&c.abort()}})))}}return t.\u0275fac=function(e){return new(e||t)(Pt(zM))},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})();const DE=new Xt("XSRF_ENABLED"),LN=new Xt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),FN=new Xt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class BN{}let eG=(()=>{class t{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=NM(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Pt(Ei),Pt(Wf),Pt(LN))},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})();function tG(t,n){const e=t.url.toLowerCase();if(!en(DE)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const r=en(BN).getToken(),i=en(FN);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),n(t)}var po=(()=>((po=po||{})[po.Interceptors=0]="Interceptors",po[po.LegacyInterceptors=1]="LegacyInterceptors",po[po.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",po[po.NoXsrfProtection=3]="NoXsrfProtection",po[po.JsonpSupport=4]="JsonpSupport",po[po.RequestsMadeViaParent=5]="RequestsMadeViaParent",po[po.Fetch=6]="Fetch",po))();function cp(t,n){return{\u0275kind:t,\u0275providers:n}}function nG(...t){const n=[p0,PN,RN,{provide:d0,useExisting:RN},{provide:f0,useExisting:PN},{provide:kv,useValue:tG,multi:!0},{provide:DE,useValue:!0},{provide:BN,useClass:eG}];for(const e of t)n.push(...e.\u0275providers);return function _w(t){return{\u0275providers:t}}(n)}const VN=new Xt("LEGACY_INTERCEPTOR_FN");let iG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({providers:[nG(cp(po.LegacyInterceptors,[{provide:VN,useFactory:$U},{provide:kv,useExisting:VN,multi:!0}]))]}),t})();class HN{}class cG{}const rf="*";function dG(t,n){return{type:7,name:t,definitions:n,options:{}}}function SE(t,n=null){return{type:4,styles:n,timings:t}}function zN(t,n=null){return{type:2,steps:t,options:n}}function dp(t){return{type:6,styles:t,offset:null}}function TE(t,n,e){return{type:0,name:t,styles:n,options:e}}function ME(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}class Pv{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class UN{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++r==s&&this._onDestroy()}),c.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,m)=>Math.max(c,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function GN(t){return new Ze(3e3,!1)}function rh(t){switch(t.length){case 0:return new Pv;case 1:return t[0];default:return new UN(t)}}function jN(t,n,e=new Map,r=new Map){const i=[],s=[];let c=-1,m=null;if(n.forEach(_=>{const R=_.get("offset"),U=R==c,K=U&&m||new Map;_.forEach((ge,be)=>{let Ie=be,Fe=ge;if("offset"!==be)switch(Ie=t.normalizePropertyName(Ie,i),Fe){case"!":Fe=e.get(be);break;case rf:Fe=r.get(be);break;default:Fe=t.normalizeStyleValue(be,Ie,Fe,i)}K.set(Ie,Fe)}),U||s.push(K),m=K,c=R}),i.length)throw function kG(t){return new Ze(3502,!1)}();return s}function AE(t,n,e,r){switch(n){case"start":t.onStart(()=>r(e&&NE(e,"start",t)));break;case"done":t.onDone(()=>r(e&&NE(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&NE(e,"destroy",t)))}}function NE(t,n,e){const s=OE(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),c=t._data;return null!=c&&(s._data=c),s}function OE(t,n,e,r,i="",s=0,c){return{element:t,triggerName:n,fromState:e,toState:r,phaseName:i,totalTime:s,disabled:!!c}}function Pl(t,n,e){let r=t.get(n);return r||t.set(n,r=e),r}function WN(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const $G=(()=>typeof document>"u"?null:document.documentElement)();function RE(t){const n=t.parentNode||t.host||null;return n===$G?null:n}let fp=null,$N=!1;function YN(t,n){for(;n;){if(n===t)return!0;n=RE(n)}return!1}function XN(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const r=t.querySelector(n);return r?[r]:[]}let KN=(()=>{class t{validateStyleProperty(e){return function XG(t){fp||(fp=function KG(){return typeof document<"u"?document.body:null}()||{},$N=!!fp.style&&"WebkitAppearance"in fp.style);let n=!0;return fp.style&&!function YG(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in fp.style,!n&&$N&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in fp.style)),n}(e)}matchesElement(e,r){return!1}containsElement(e,r){return YN(e,r)}getParentElement(e){return RE(e)}query(e,r,i){return XN(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,s,c,m=[],_){return new Pv(i,s)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})(),kE=(()=>{class t{}return t.NOOP=new KN,t})();const ZG=1e3,PE="ng-enter",m0="ng-leave",v0="ng-trigger",y0=".ng-trigger",qN="ng-animating",LE=".ng-animating";function af(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:FE(parseFloat(n[1]),n[2])}function FE(t,n){return"s"===n?t*ZG:t}function b0(t,n,e){return t.hasOwnProperty("duration")?t:function QG(t,n,e){let i,s=0,c="";if("string"==typeof t){const m=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return n.push(GN()),{duration:0,delay:0,easing:""};i=FE(parseFloat(m[1]),m[2]);const _=m[3];null!=_&&(s=FE(parseFloat(_),m[4]));const R=m[5];R&&(c=R)}else i=t;if(!e){let m=!1,_=n.length;i<0&&(n.push(function fG(){return new Ze(3100,!1)}()),m=!0),s<0&&(n.push(function hG(){return new Ze(3101,!1)}()),m=!0),m&&n.splice(_,0,GN())}return{duration:i,delay:s,easing:c}}(t,n,e)}function Lv(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function QN(t){const n=new Map;return Object.keys(t).forEach(e=>{n.set(e,t[e])}),n}function ih(t,n=new Map,e){if(e)for(let[r,i]of e)n.set(r,i);for(let[r,i]of t)n.set(r,i);return n}function $c(t,n,e){n.forEach((r,i)=>{const s=VE(i);e&&!e.has(i)&&e.set(i,t.style[s]),t.style[s]=r})}function hp(t,n){n.forEach((e,r)=>{const i=VE(r);t.style[i]=""})}function Fv(t){return Array.isArray(t)?1==t.length?t[0]:zN(t):t}const BE=new RegExp("{{\\s*(.+?)\\s*}}","g");function eO(t){let n=[];if("string"==typeof t){let e;for(;e=BE.exec(t);)n.push(e[1]);BE.lastIndex=0}return n}function Bv(t,n,e){const r=t.toString(),i=r.replace(BE,(s,c)=>{let m=n[c];return null==m&&(e.push(function gG(t){return new Ze(3003,!1)}()),m=""),m.toString()});return i==r?t:i}function w0(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const t8=/-+([a-z0-9])/g;function VE(t){return t.replace(t8,(...n)=>n[1].toUpperCase())}function Ll(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function mG(t){return new Ze(3004,!1)}()}}function tO(t,n){return window.getComputedStyle(t)[n]}const _0="*";function i8(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function o8(t,n,e){if(":"==t[0]){const _=function a8(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(function AG(t){return new Ze(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof _)return void n.push(_);t=_}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function IG(t){return new Ze(3015,!1)}()),n;const i=r[1],s=r[2],c=r[3];n.push(nO(i,c));"<"==s[0]&&!(i==_0&&c==_0)&&n.push(nO(c,i))}(r,e,n)):e.push(t),e}const C0=new Set(["true","1"]),E0=new Set(["false","0"]);function nO(t,n){const e=C0.has(t)||E0.has(t),r=C0.has(n)||E0.has(n);return(i,s)=>{let c=t==_0||t==i,m=n==_0||n==s;return!c&&e&&"boolean"==typeof i&&(c=i?C0.has(t):E0.has(t)),!m&&r&&"boolean"==typeof s&&(m=s?C0.has(n):E0.has(n)),c&&m}}const s8=new RegExp("s*:selfs*,?","g");function HE(t,n,e,r){return new l8(t).build(n,e,r)}class l8{constructor(n){this._driver=n}build(n,e,r){const i=new d8(e);return this._resetContextStyleTimingState(i),Ll(this,Fv(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,i=e.depCount=0;const s=[],c=[];return"@"==n.name.charAt(0)&&e.errors.push(function yG(){return new Ze(3006,!1)}()),n.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const _=m,R=_.name;R.toString().split(/\s*,\s*/).forEach(U=>{_.name=U,s.push(this.visitState(_,e))}),_.name=R}else if(1==m.type){const _=this.visitTransition(m,e);r+=_.queryCount,i+=_.depCount,c.push(_)}else e.errors.push(function bG(){return new Ze(3007,!1)}())}),{type:7,name:n.name,states:s,transitions:c,queryCount:r,depCount:i,options:null}}visitState(n,e){const r=this.visitStyle(n.styles,e),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const s=new Set,c=i||{};r.styles.forEach(m=>{m instanceof Map&&m.forEach(_=>{eO(_).forEach(R=>{c.hasOwnProperty(R)||s.add(R)})})}),s.size&&(w0(s.values()),e.errors.push(function wG(t,n){return new Ze(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const r=Ll(this,Fv(n.animation),e);return{type:1,matchers:i8(n.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:pp(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(r=>Ll(this,r,e)),options:pp(n.options)}}visitGroup(n,e){const r=e.currentTime;let i=0;const s=n.steps.map(c=>{e.currentTime=r;const m=Ll(this,c,e);return i=Math.max(i,e.currentTime),m});return e.currentTime=i,{type:3,steps:s,options:pp(n.options)}}visitAnimate(n,e){const r=function h8(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return zE(b0(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=zE(0,0,"");return s.dynamic=!0,s.strValue=e,s}const i=b0(e,n);return zE(i.duration,i.delay,i.easing)}(n.timings,e.errors);e.currentAnimateTimings=r;let i,s=n.styles?n.styles:dp({});if(5==s.type)i=this.visitKeyframes(s,e);else{let c=n.styles,m=!1;if(!c){m=!0;const R={};r.easing&&(R.easing=r.easing),c=dp(R)}e.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,e);_.isEmptyStep=m,i=_}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,e){const r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let m of i)"string"==typeof m?m===rf?r.push(m):e.errors.push(new Ze(3002,!1)):r.push(QN(m));let s=!1,c=null;return r.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(c=m.get("easing"),m.delete("easing")),!s))for(let _ of m.values())if(_.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:c,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,e){const r=e.currentAnimateTimings;let i=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),n.styles.forEach(c=>{"string"!=typeof c&&c.forEach((m,_)=>{const R=e.collectedStyles.get(e.currentQuerySelector),U=R.get(_);let K=!0;U&&(s!=i&&s>=U.startTime&&i<=U.endTime&&(e.errors.push(function CG(t,n,e,r,i){return new Ze(3010,!1)}()),K=!1),s=U.startTime),K&&R.set(_,{startTime:s,endTime:i}),e.options&&function e8(t,n,e){const r=n.params||{},i=eO(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||e.push(function pG(t){return new Ze(3001,!1)}())})}(m,e.options,e.errors)})})}visitKeyframes(n,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function EG(){return new Ze(3011,!1)}()),r;let s=0;const c=[];let m=!1,_=!1,R=0;const U=n.steps.map(gt=>{const Qe=this._makeStyleAst(gt,e);let yt=null!=Qe.offset?Qe.offset:function f8(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(Qe.styles),bn=0;return null!=yt&&(s++,bn=Qe.offset=yt),_=_||bn<0||bn>1,m=m||bn<R,R=bn,c.push(bn),Qe});_&&e.errors.push(function xG(){return new Ze(3012,!1)}()),m&&e.errors.push(function DG(){return new Ze(3200,!1)}());const K=n.steps.length;let ge=0;s>0&&s<K?e.errors.push(function SG(){return new Ze(3202,!1)}()):0==s&&(ge=1/(K-1));const be=K-1,Ie=e.currentTime,Fe=e.currentAnimateTimings,nt=Fe.duration;return U.forEach((gt,Qe)=>{const yt=ge>0?Qe==be?1:ge*Qe:c[Qe],bn=yt*nt;e.currentTime=Ie+Fe.delay+bn,Fe.duration=bn,this._validateStyleAst(gt,e),gt.offset=yt,r.styles.push(gt)}),r}visitReference(n,e){return{type:8,animation:Ll(this,Fv(n.animation),e),options:pp(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:pp(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:pp(n.options)}}visitQuery(n,e){const r=e.currentQuerySelector,i=n.options||{};e.queryCount++,e.currentQuery=n;const[s,c]=function u8(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(s8,"")),t=t.replace(/@\*/g,y0).replace(/@\w+/g,e=>y0+"-"+e.slice(1)).replace(/:animating/g,LE),[t,n]}(n.selector);e.currentQuerySelector=r.length?r+" "+s:s,Pl(e.collectedStyles,e.currentQuerySelector,new Map);const m=Ll(this,Fv(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:m,originalSelector:n.selector,options:pp(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function TG(){return new Ze(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:b0(n.timings,e.errors,!0);return{type:12,animation:Ll(this,Fv(n.animation),e),timings:r,options:null}}}class d8{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function pp(t){return t?(t=Lv(t)).params&&(t.params=function c8(t){return t?Lv(t):null}(t.params)):t={},t}function zE(t,n,e){return{duration:t,delay:n,easing:e}}function UE(t,n,e,r,i,s,c=null,m=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:c,subTimeline:m}}class x0{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const m8=new RegExp(":enter","g"),y8=new RegExp(":leave","g");function GE(t,n,e,r,i,s=new Map,c=new Map,m,_,R=[]){return(new b8).buildKeyframes(t,n,e,r,i,s,c,m,_,R)}class b8{buildKeyframes(n,e,r,i,s,c,m,_,R,U=[]){R=R||new x0;const K=new jE(n,e,R,i,s,U,[]);K.options=_;const ge=_.delay?af(_.delay):0;K.currentTimeline.delayNextStep(ge),K.currentTimeline.setStyles([c],null,K.errors,_),Ll(this,r,K);const be=K.timelines.filter(Ie=>Ie.containsAnimation());if(be.length&&m.size){let Ie;for(let Fe=be.length-1;Fe>=0;Fe--){const nt=be[Fe];if(nt.element===e){Ie=nt;break}}Ie&&!Ie.allowOnlyTimelineStyles()&&Ie.setStyles([m],null,K.errors,_)}return be.length?be.map(Ie=>Ie.buildKeyframes()):[UE(e,[],[],[],0,ge,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(n.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=n}visitAnimateRef(n,e){const r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,r),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,r){for(const i of n){const s=i?.delay;if(s){const c="number"==typeof s?s:af(Bv(s,i?.params??{},e.errors));r.delayNextStep(c)}}}_visitSubInstructions(n,e,r){let s=e.currentTimeline.currentTime;const c=null!=r.duration?af(r.duration):null,m=null!=r.delay?af(r.delay):null;return 0!==c&&n.forEach(_=>{const R=e.appendInstructionToTimeline(_,c,m);s=Math.max(s,R.duration+R.delay)}),s}visitReference(n,e){e.updateOptions(n.options,!0),Ll(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const r=e.subContextCount;let i=e;const s=n.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=D0);const c=af(s.delay);i.delayNextStep(c)}n.steps.length&&(n.steps.forEach(c=>Ll(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const r=[];let i=e.currentTimeline.currentTime;const s=n.options&&n.options.delay?af(n.options.delay):0;n.steps.forEach(c=>{const m=e.createSubContext(n.options);s&&m.delayNextStep(s),Ll(this,c,m),i=Math.max(i,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(i),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const r=n.strValue;return b0(e.params?Bv(r,e.params,e.errors):r,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const r=e.currentAnimateTimings=this._visitTiming(n.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(r.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(s):r.setStyles(n.styles,s,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,s=r.duration,m=e.createSubContext().currentTimeline;m.easing=r.easing,n.styles.forEach(_=>{m.forwardTime((_.offset||0)*s),m.setStyles(_.styles,_.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(i+s),e.previousNode=n}visitQuery(n,e){const r=e.currentTimeline.currentTime,i=n.options||{},s=i.delay?af(i.delay):0;s&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=D0);let c=r;const m=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=m.length;let _=null;m.forEach((R,U)=>{e.currentQueryIndex=U;const K=e.createSubContext(n.options,R);s&&K.delayNextStep(s),R===e.element&&(_=K.currentTimeline),Ll(this,n.animation,K),K.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,K.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const r=e.parentContext,i=e.currentTimeline,s=n.timings,c=Math.abs(s.duration),m=c*(e.currentQueryTotal-1);let _=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":_=m-_;break;case"full":_=r.currentStaggerTime}const U=e.currentTimeline;_&&U.delayNextStep(_);const K=U.currentTime;Ll(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=i.currentTime-K+(i.startTime-r.currentTimeline.startTime)}}const D0={};class jE{constructor(n,e,r,i,s,c,m,_){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=c,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=D0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new S0(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=af(r.duration)),null!=r.delay&&(i.delay=af(r.delay));const s=r.params;if(s){let c=i.params;c||(c=this.options.params={}),Object.keys(s).forEach(m=>{(!e||!c.hasOwnProperty(m))&&(c[m]=Bv(s[m],c,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const r=n.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return n}createSubContext(n=null,e,r){const i=e||this.element,s=new jE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=D0,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){const i={duration:e??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},s=new w8(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,i,s,c){let m=[];if(i&&m.push(this.element),n.length>0){n=(n=n.replace(m8,"."+this._enterClassName)).replace(y8,"."+this._leaveClassName);let R=this._driver.query(this.element,n,1!=r);0!==r&&(R=r<0?R.slice(R.length+r,R.length):R.slice(0,r)),m.push(...R)}return!s&&0==m.length&&c.push(function MG(t){return new Ze(3014,!1)}()),m}}class S0{constructor(n,e,r,i){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new S0(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||rf),this._currentKeyframe.set(e,rf);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,i){e&&this._previousKeyframe.set("easing",e);const s=i&&i.params||{},c=function _8(t,n){const e=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||n.keys();for(let s of r)e.set(s,rf)}else ih(i,e)}),e}(n,this._globalTimelineStyles);for(let[m,_]of c){const R=Bv(_,s,r);this._pendingStyles.set(m,R),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??rf),this._updateStyle(m,R)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((m,_)=>{const R=ih(m,new Map,this._backFill);R.forEach((U,K)=>{"!"===U?n.add(K):U===rf&&e.add(K)}),r||R.set("offset",_/this.duration),i.push(R)});const s=n.size?w0(n.values()):[],c=e.size?w0(e.values()):[];if(r){const m=i[0],_=new Map(m);m.set("offset",0),_.set("offset",1),i=[m,_]}return UE(this.element,i,s,c,this.duration,this.startTime,this.easing,!1)}}class w8 extends S0{constructor(n,e,r,i,s,c,m=!1){super(n,e,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=m,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=r+e,m=e/c,_=ih(n[0]);_.set("offset",0),s.push(_);const R=ih(n[0]);R.set("offset",oO(m)),s.push(R);const U=n.length-1;for(let K=1;K<=U;K++){let ge=ih(n[K]);const be=ge.get("offset");ge.set("offset",oO((e+be*r)/c)),s.push(ge)}r=c,e=0,i="",n=s}return UE(this.element,n,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function oO(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class WE{}const C8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class E8 extends WE{normalizePropertyName(n,e){return VE(n)}normalizeStyleValue(n,e,r,i){let s="";const c=r.toString().trim();if(C8.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&i.push(function vG(t,n){return new Ze(3005,!1)}())}return c+s}}function aO(t,n,e,r,i,s,c,m,_,R,U,K,ge){return{type:0,element:t,triggerName:n,isRemovalTransition:i,fromState:e,fromStyles:s,toState:r,toStyles:c,timelines:m,queriedElements:_,preStyleProps:R,postStyleProps:U,totalTime:K,errors:ge}}const $E={};class sO{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,i){return function x8(t,n,e,r,i){return t.some(s=>s(n,e,r,i))}(this.ast.matchers,n,e,r,i)}buildStyles(n,e,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(e,r):new Map}build(n,e,r,i,s,c,m,_,R,U){const K=[],ge=this.ast.options&&this.ast.options.params||$E,Ie=this.buildStyles(r,m&&m.params||$E,K),Fe=_&&_.params||$E,nt=this.buildStyles(i,Fe,K),gt=new Set,Qe=new Map,yt=new Map,bn="void"===i,Bn={params:D8(Fe,ge),delay:this.ast.options?.delay},ai=U?[]:GE(n,e,this.ast.animation,s,c,Ie,nt,Bn,R,K);let ut=0;if(ai.forEach(cl=>{ut=Math.max(cl.duration+cl.delay,ut)}),K.length)return aO(e,this._triggerName,r,i,bn,Ie,nt,[],[],Qe,yt,ut,K);ai.forEach(cl=>{const ra=cl.element,sy=Pl(Qe,ra,new Set);cl.preStyleProps.forEach(Zc=>sy.add(Zc));const lh=Pl(yt,ra,new Set);cl.postStyleProps.forEach(Zc=>lh.add(Zc)),ra!==e&&gt.add(ra)});const Ws=w0(gt.values());return aO(e,this._triggerName,r,i,bn,Ie,nt,ai,Ws,Qe,yt,ut)}}function D8(t,n){const e=Lv(n);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(e[r]=t[r]);return e}class S8{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){const r=new Map,i=Lv(this.defaultParams);return Object.keys(n).forEach(s=>{const c=n[s];null!==c&&(i[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,m)=>{c&&(c=Bv(c,i,e));const _=this.normalizer.normalizePropertyName(m,e);c=this.normalizer.normalizeStyleValue(m,_,c,e),r.set(m,c)})}),r}}class M8{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new S8(i.style,i.options&&i.options.params||{},r))}),lO(this.states,"true","1"),lO(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new sO(n,i,this.states))}),this.fallbackTransition=function I8(t,n,e){return new sO(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,m)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,i){return this.transitionFactories.find(c=>c.match(n,e,r,i))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}}function lO(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const A8=new x0;class N8{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const r=[],s=HE(this._driver,e,r,[]);if(r.length)throw function PG(t){return new Ze(3503,!1)}();this._animations.set(n,s)}_buildPlayer(n,e,r){const i=n.element,s=jN(this._normalizer,n.keyframes,e,r);return this._driver.animate(i,s,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){const i=[],s=this._animations.get(n);let c;const m=new Map;if(s?(c=GE(this._driver,e,s,PE,m0,new Map,new Map,r,A8,i),c.forEach(U=>{const K=Pl(m,U.element,new Map);U.postStyleProps.forEach(ge=>K.set(ge,null))})):(i.push(function LG(){return new Ze(3300,!1)}()),c=[]),i.length)throw function FG(t){return new Ze(3504,!1)}();m.forEach((U,K)=>{U.forEach((ge,be)=>{U.set(be,this._driver.computeStyle(K,be,rf))})});const R=rh(c.map(U=>{const K=m.get(U.element);return this._buildPlayer(U,new Map,K)}));return this._playersById.set(n,R),R.onDestroy(()=>this.destroy(n)),this.players.push(R),R}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function BG(t){return new Ze(3301,!1)}();return e}listen(n,e,r,i){const s=OE(e,"","","");return AE(this._getPlayer(n),r,s,i),()=>{}}command(n,e,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,e,i[0]||{});const s=this._getPlayer(n);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const uO="ng-animate-queued",YE="ng-animate-disabled",L8=[],cO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},F8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cu="__ng_removed";class XE{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const r=n&&n.hasOwnProperty("value");if(this.value=function z8(t){return t??null}(r?n.value:n),r){const s=Lv(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Vv="void",KE=new XE(Vv);class B8{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,du(e,this._hostClassName)}listen(n,e,r,i){if(!this._triggers.has(e))throw function VG(t,n){return new Ze(3302,!1)}();if(null==r||0==r.length)throw function HG(t){return new Ze(3303,!1)}();if(!function U8(t){return"start"==t||"done"==t}(r))throw function zG(t,n){return new Ze(3400,!1)}();const s=Pl(this._elementListeners,n,[]),c={name:e,phase:r,callback:i};s.push(c);const m=Pl(this._engine.statesByElement,n,new Map);return m.has(e)||(du(n,v0),du(n,v0+"-"+e),m.set(e,KE)),()=>{this._engine.afterFlush(()=>{const _=s.indexOf(c);_>=0&&s.splice(_,1),this._triggers.has(e)||m.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function UG(t){return new Ze(3401,!1)}();return e}trigger(n,e,r,i=!0){const s=this._getTrigger(e),c=new ZE(this.id,e,n);let m=this._engine.statesByElement.get(n);m||(du(n,v0),du(n,v0+"-"+e),this._engine.statesByElement.set(n,m=new Map));let _=m.get(e);const R=new XE(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&R.absorbOptions(_.options),m.set(e,R),_||(_=KE),R.value!==Vv&&_.value===R.value){if(!function W8(t,n){const e=Object.keys(t),r=Object.keys(n);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const s=e[i];if(!n.hasOwnProperty(s)||t[s]!==n[s])return!1}return!0}(_.params,R.params)){const Fe=[],nt=s.matchStyles(_.value,_.params,Fe),gt=s.matchStyles(R.value,R.params,Fe);Fe.length?this._engine.reportError(Fe):this._engine.afterFlush(()=>{hp(n,nt),$c(n,gt)})}return}const ge=Pl(this._engine.playersByElement,n,[]);ge.forEach(Fe=>{Fe.namespaceId==this.id&&Fe.triggerName==e&&Fe.queued&&Fe.destroy()});let be=s.matchTransition(_.value,R.value,n,R.params),Ie=!1;if(!be){if(!i)return;be=s.fallbackTransition,Ie=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:be,fromState:_,toState:R,player:c,isFallbackTransition:Ie}),Ie||(du(n,uO),c.onStart(()=>{Wg(n,uO)})),c.onDone(()=>{let Fe=this.players.indexOf(c);Fe>=0&&this.players.splice(Fe,1);const nt=this._engine.playersByElement.get(n);if(nt){let gt=nt.indexOf(c);gt>=0&&nt.splice(gt,1)}}),this.players.push(c),ge.push(c),c}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const r=this._engine.driver.query(n,y0,!0);r.forEach(i=>{if(i[cu])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(c=>c.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,e,r,i){const s=this._engine.statesByElement.get(n),c=new Map;if(s){const m=[];if(s.forEach((_,R)=>{if(c.set(R,_.value),this._triggers.has(R)){const U=this.trigger(n,R,Vv,i);U&&m.push(U)}}),m.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,c),r&&rh(m).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){const i=new Set;e.forEach(s=>{const c=s.name;if(i.has(c))return;i.add(c);const _=this._triggers.get(c).fallbackTransition,R=r.get(c)||KE,U=new XE(Vv),K=new ZE(this.id,c,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:c,transition:_,fromState:R,toState:U,player:K,isFallbackTransition:!0})})}}removeNode(n,e){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(n):[];if(s&&s.length)i=!0;else{let c=n;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,e);else{const s=n[cu];(!s||s===cO)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){du(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,c=this._elementListeners.get(s);c&&c.forEach(m=>{if(m.name==r.triggerName){const _=OE(s,r.triggerName,r.fromState.value,r.toState.value);_._data=n,AE(r.player,m.phase,_,m.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const s=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(r=>r.element===n)||e,e}}class V8{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,r){this.bodyNode=n,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){const r=new B8(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,m=this.driver.getParentElement(e);for(;m;){const _=i.get(m);if(_){const R=r.indexOf(_);r.splice(R+1,0,n),c=!0;break}m=this.driver.getParentElement(m)}c||r.unshift(n)}else r.push(n);return i.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let i=this._namespaceLookup[n];i&&i.register(e,r)&&this.totalAnimations++}destroy(n,e){if(!n)return;const r=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[n];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&e.add(s)}return e}trigger(n,e,r,i){if(T0(e)){const s=this._fetchNamespace(n);if(s)return s.trigger(e,r,i),!0}return!1}insertNode(n,e,r,i){if(!T0(e))return;const s=e[cu];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(n){const c=this._fetchNamespace(n);c&&c.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),du(n,YE)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Wg(n,YE))}removeNode(n,e,r){if(T0(e)){const i=n?this._fetchNamespace(n):null;i?i.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r);const s=this.namespacesByHostElement.get(e);s&&s.id!==n&&s.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,r,i,s){this.collectedLeaveElements.push(e),e[cu]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,e,r,i,s){return T0(e)?this._fetchNamespace(n).listen(e,r,i,s):()=>{}}_buildInstruction(n,e,r,i,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,e,s)}destroyInnerAnimations(n){let e=this.driver.query(n,y0,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,LE,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return rh(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[cu];if(e&&e.setForRemoval){if(n[cu]=cO,e.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(YE)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)du(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?rh(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function GG(t){return new Ze(3402,!1)}()}_flushAnimations(n,e){const r=new x0,i=[],s=new Map,c=[],m=new Map,_=new Map,R=new Map,U=new Set;this.disabledNodes.forEach(Mn=>{U.add(Mn);const Un=this.driver.query(Mn,".ng-animate-queued",!0);for(let Qn=0;Qn<Un.length;Qn++)U.add(Un[Qn])});const K=this.bodyNode,ge=Array.from(this.statesByElement.keys()),be=hO(ge,this.collectedEnterElements),Ie=new Map;let Fe=0;be.forEach((Mn,Un)=>{const Qn=PE+Fe++;Ie.set(Un,Qn),Mn.forEach(yr=>du(yr,Qn))});const nt=[],gt=new Set,Qe=new Set;for(let Mn=0;Mn<this.collectedLeaveElements.length;Mn++){const Un=this.collectedLeaveElements[Mn],Qn=Un[cu];Qn&&Qn.setForRemoval&&(nt.push(Un),gt.add(Un),Qn.hasAnimation?this.driver.query(Un,".ng-star-inserted",!0).forEach(yr=>gt.add(yr)):Qe.add(Un))}const yt=new Map,bn=hO(ge,Array.from(gt));bn.forEach((Mn,Un)=>{const Qn=m0+Fe++;yt.set(Un,Qn),Mn.forEach(yr=>du(yr,Qn))}),n.push(()=>{be.forEach((Mn,Un)=>{const Qn=Ie.get(Un);Mn.forEach(yr=>Wg(yr,Qn))}),bn.forEach((Mn,Un)=>{const Qn=yt.get(Un);Mn.forEach(yr=>Wg(yr,Qn))}),nt.forEach(Mn=>{this.processLeaveNode(Mn)})});const Bn=[],ai=[];for(let Mn=this._namespaceList.length-1;Mn>=0;Mn--)this._namespaceList[Mn].drainQueuedTransitions(e).forEach(Qn=>{const yr=Qn.player,ia=Qn.element;if(Bn.push(yr),this.collectedEnterElements.length){const Ga=ia[cu];if(Ga&&Ga.setForMove){if(Ga.previousTriggersValues&&Ga.previousTriggersValues.has(Qn.triggerName)){const Ku=Ga.previousTriggersValues.get(Qn.triggerName),$s=this.statesByElement.get(Qn.element);if($s&&$s.has(Qn.triggerName)){const wp=$s.get(Qn.triggerName);wp.value=Ku,$s.set(Qn.triggerName,wp)}}return void yr.destroy()}}const Fl=!K||!this.driver.containsElement(K,ia),Ua=yt.get(ia),qc=Ie.get(ia),Yi=this._buildInstruction(Qn,r,qc,Ua,Fl);if(Yi.errors&&Yi.errors.length)return void ai.push(Yi);if(Fl)return yr.onStart(()=>hp(ia,Yi.fromStyles)),yr.onDestroy(()=>$c(ia,Yi.toStyles)),void i.push(yr);if(Qn.isFallbackTransition)return yr.onStart(()=>hp(ia,Yi.fromStyles)),yr.onDestroy(()=>$c(ia,Yi.toStyles)),void i.push(yr);const ly=[];Yi.timelines.forEach(Ga=>{Ga.stretchStartingKeyframe=!0,this.disabledNodes.has(Ga.element)||ly.push(Ga)}),Yi.timelines=ly,r.append(ia,Yi.timelines),c.push({instruction:Yi,player:yr,element:ia}),Yi.queriedElements.forEach(Ga=>Pl(m,Ga,[]).push(yr)),Yi.preStyleProps.forEach((Ga,Ku)=>{if(Ga.size){let $s=_.get(Ku);$s||_.set(Ku,$s=new Set),Ga.forEach((wp,im)=>$s.add(im))}}),Yi.postStyleProps.forEach((Ga,Ku)=>{let $s=R.get(Ku);$s||R.set(Ku,$s=new Set),Ga.forEach((wp,im)=>$s.add(im))})});if(ai.length){const Mn=[];ai.forEach(Un=>{Mn.push(function jG(t,n){return new Ze(3505,!1)}())}),Bn.forEach(Un=>Un.destroy()),this.reportError(Mn)}const ut=new Map,Ws=new Map;c.forEach(Mn=>{const Un=Mn.element;r.has(Un)&&(Ws.set(Un,Un),this._beforeAnimationBuild(Mn.player.namespaceId,Mn.instruction,ut))}),i.forEach(Mn=>{const Un=Mn.element;this._getPreviousPlayers(Un,!1,Mn.namespaceId,Mn.triggerName,null).forEach(yr=>{Pl(ut,Un,[]).push(yr),yr.destroy()})});const cl=nt.filter(Mn=>gO(Mn,_,R)),ra=new Map;fO(ra,this.driver,Qe,R,rf).forEach(Mn=>{gO(Mn,_,R)&&cl.push(Mn)});const lh=new Map;be.forEach((Mn,Un)=>{fO(lh,this.driver,new Set(Mn),_,"!")}),cl.forEach(Mn=>{const Un=ra.get(Mn),Qn=lh.get(Mn);ra.set(Mn,new Map([...Un?.entries()??[],...Qn?.entries()??[]]))});const Zc=[],rm=[],q0={};c.forEach(Mn=>{const{element:Un,player:Qn,instruction:yr}=Mn;if(r.has(Un)){if(U.has(Un))return Qn.onDestroy(()=>$c(Un,yr.toStyles)),Qn.disabled=!0,Qn.overrideTotalTime(yr.totalTime),void i.push(Qn);let ia=q0;if(Ws.size>1){let Ua=Un;const qc=[];for(;Ua=Ua.parentNode;){const Yi=Ws.get(Ua);if(Yi){ia=Yi;break}qc.push(Ua)}qc.forEach(Yi=>Ws.set(Yi,ia))}const Fl=this._buildAnimation(Qn.namespaceId,yr,ut,s,lh,ra);if(Qn.setRealPlayer(Fl),ia===q0)Zc.push(Qn);else{const Ua=this.playersByElement.get(ia);Ua&&Ua.length&&(Qn.parentPlayer=rh(Ua)),i.push(Qn)}}else hp(Un,yr.fromStyles),Qn.onDestroy(()=>$c(Un,yr.toStyles)),rm.push(Qn),U.has(Un)&&i.push(Qn)}),rm.forEach(Mn=>{const Un=s.get(Mn.element);if(Un&&Un.length){const Qn=rh(Un);Mn.setRealPlayer(Qn)}}),i.forEach(Mn=>{Mn.parentPlayer?Mn.syncPlayerEvents(Mn.parentPlayer):Mn.destroy()});for(let Mn=0;Mn<nt.length;Mn++){const Un=nt[Mn],Qn=Un[cu];if(Wg(Un,m0),Qn&&Qn.hasAnimation)continue;let yr=[];if(m.size){let Fl=m.get(Un);Fl&&Fl.length&&yr.push(...Fl);let Ua=this.driver.query(Un,LE,!0);for(let qc=0;qc<Ua.length;qc++){let Yi=m.get(Ua[qc]);Yi&&Yi.length&&yr.push(...Yi)}}const ia=yr.filter(Fl=>!Fl.destroyed);ia.length?G8(this,Un,ia):this.processLeaveNode(Un)}return nt.length=0,Zc.forEach(Mn=>{this.players.push(Mn),Mn.onDone(()=>{Mn.destroy();const Un=this.players.indexOf(Mn);this.players.splice(Un,1)}),Mn.play()}),Zc}elementContainsData(n,e){let r=!1;const i=e[cu];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(n).elementContainsData(e)||r}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,i,s){let c=[];if(e){const m=this.playersByQueriedElement.get(n);m&&(c=m)}else{const m=this.playersByElement.get(n);if(m){const _=!s||s==Vv;m.forEach(R=>{R.queued||!_&&R.triggerName!=i||c.push(R)})}}return(r||i)&&(c=c.filter(m=>!(r&&r!=m.namespaceId||i&&i!=m.triggerName))),c}_beforeAnimationBuild(n,e,r){const s=e.element,c=e.isRemovalTransition?void 0:n,m=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const R=_.element,U=R!==s,K=Pl(r,R,[]);this._getPreviousPlayers(R,U,c,m,e.toState).forEach(be=>{const Ie=be.getRealPlayer();Ie.beforeDestroy&&Ie.beforeDestroy(),be.destroy(),K.push(be)})}hp(s,e.fromStyles)}_buildAnimation(n,e,r,i,s,c){const m=e.triggerName,_=e.element,R=[],U=new Set,K=new Set,ge=e.timelines.map(Ie=>{const Fe=Ie.element;U.add(Fe);const nt=Fe[cu];if(nt&&nt.removedBeforeQueried)return new Pv(Ie.duration,Ie.delay);const gt=Fe!==_,Qe=function j8(t){const n=[];return pO(t,n),n}((r.get(Fe)||L8).map(ut=>ut.getRealPlayer())).filter(ut=>!!ut.element&&ut.element===Fe),yt=s.get(Fe),bn=c.get(Fe),Bn=jN(this._normalizer,Ie.keyframes,yt,bn),ai=this._buildPlayer(Ie,Bn,Qe);if(Ie.subTimeline&&i&&K.add(Fe),gt){const ut=new ZE(n,m,Fe);ut.setRealPlayer(ai),R.push(ut)}return ai});R.forEach(Ie=>{Pl(this.playersByQueriedElement,Ie.element,[]).push(Ie),Ie.onDone(()=>function H8(t,n,e){let r=t.get(n);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&t.delete(n)}return r}(this.playersByQueriedElement,Ie.element,Ie))}),U.forEach(Ie=>du(Ie,qN));const be=rh(ge);return be.onDestroy(()=>{U.forEach(Ie=>Wg(Ie,qN)),$c(_,e.toStyles)}),K.forEach(Ie=>{Pl(i,Ie,[]).push(be)}),be}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new Pv(n.duration,n.delay)}}class ZE{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new Pv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>AE(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Pl(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function T0(t){return t&&1===t.nodeType}function dO(t,n){const e=t.style.display;return t.style.display=n??"none",e}function fO(t,n,e,r,i){const s=[];e.forEach(_=>s.push(dO(_)));const c=[];r.forEach((_,R)=>{const U=new Map;_.forEach(K=>{const ge=n.computeStyle(R,K,i);U.set(K,ge),(!ge||0==ge.length)&&(R[cu]=F8,c.push(R))}),t.set(R,U)});let m=0;return e.forEach(_=>dO(_,s[m++])),c}function hO(t,n){const e=new Map;if(t.forEach(m=>e.set(m,[])),0==n.length)return e;const i=new Set(n),s=new Map;function c(m){if(!m)return 1;let _=s.get(m);if(_)return _;const R=m.parentNode;return _=e.has(R)?R:i.has(R)?1:c(R),s.set(m,_),_}return n.forEach(m=>{const _=c(m);1!==_&&e.get(_).push(m)}),e}function du(t,n){t.classList?.add(n)}function Wg(t,n){t.classList?.remove(n)}function G8(t,n,e){rh(e).onDone(()=>t.processLeaveNode(n))}function pO(t,n){for(let e=0;e<t.length;e++){const r=t[e];r instanceof UN?pO(r.players,n):n.push(r)}}function gO(t,n,e){const r=e.get(t);if(!r)return!1;let i=n.get(t);return i?r.forEach(s=>i.add(s)):n.set(t,r),e.delete(t),!0}class M0{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new V8(n,e,r),this._timelineEngine=new N8(n,e,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(n,e,r,i,s){const c=n+"-"+i;let m=this._triggerCache[c];if(!m){const _=[],U=HE(this._driver,s,_,[]);if(_.length)throw function RG(t,n){return new Ze(3404,!1)}();m=function T8(t,n,e){return new M8(t,n,e)}(i,U,this._normalizer),this._triggerCache[c]=m}this._transitionEngine.registerTrigger(e,i,m)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,i){this._transitionEngine.insertNode(n,e,r,i)}onRemove(n,e,r){this._transitionEngine.removeNode(n,e,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,i){if("@"==r.charAt(0)){const[s,c]=WN(r);this._timelineEngine.command(s,e,c,i)}else this._transitionEngine.trigger(n,e,r,i)}listen(n,e,r,i,s){if("@"==r.charAt(0)){const[c,m]=WN(r);return this._timelineEngine.listen(c,e,m,s)}return this._transitionEngine.listen(n,e,r,i,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let Y8=(()=>{class t{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(e);s||t.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&$c(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($c(this._element,this._initialStyles),this._endStyles&&($c(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(hp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hp(this._element,this._endStyles),this._endStyles=null),$c(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function qE(t){let n=null;return t.forEach((e,r)=>{(function X8(t){return"display"===t||"position"===t})(r)&&(n=n||new Map,n.set(r,e))}),n}class mO{constructor(n,e,r,i){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(n,e,r){return n.animate(this._convertKeyframesToObject(e),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:tO(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class K8{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return YN(n,e)}getParentElement(n){return RE(n)}query(n,e,r){return XN(n,e,r)}computeStyle(n,e,r){return window.getComputedStyle(n)[e]}animate(n,e,r,i,s,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(_.easing=s);const R=new Map,U=c.filter(be=>be instanceof mO);(function n8(t,n){return 0===t||0===n})(r,i)&&U.forEach(be=>{be.currentSnapshot.forEach((Ie,Fe)=>R.set(Fe,Ie))});let K=function JG(t){return t.length?t[0]instanceof Map?t:t.map(n=>QN(n)):[]}(e).map(be=>ih(be));K=function r8(t,n,e){if(e.size&&n.length){let r=n[0],i=[];if(e.forEach((s,c)=>{r.has(c)||i.push(c),r.set(c,s)}),i.length)for(let s=1;s<n.length;s++){let c=n[s];i.forEach(m=>c.set(m,tO(t,m)))}}return n}(n,K,R);const ge=function $8(t,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=qE(n[0]),n.length>1&&(r=qE(n[n.length-1]))):n instanceof Map&&(e=qE(n)),e||r?new Y8(t,e,r):null}(n,K);return new mO(n,K,_,ge)}}let Z8=(()=>{class t extends HN{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:va.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?zN(e):e;return vO(this._renderer,null,r,"register",[i]),new q8(r,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Om),Pt(Ei))},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})();class q8 extends cG{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new Q8(this._id,n,e||{},this._renderer)}}class Q8{constructor(n,e,r,i){this.id=n,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return vO(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function vO(t,n,e,r,i){return t.setProperty(n,`@@${e}:${r}`,i)}const yO="@.disabled";let J8=(()=>{class t{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,c)=>{const m=c?.parentNode(s);m&&c.removeChild(m,s)}}createRenderer(e,r){const s=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let U=this._rendererCache.get(s);return U||(U=new bO("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,U)),U}const c=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const _=U=>{Array.isArray(U)?U.forEach(_):this.engine.registerTrigger(c,m,e,U.name,U)};return r.data.animation.forEach(_),new ej(this,m,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,m]=s;c(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Pt(Om),Pt(M0),Pt($r))},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})();class bO{constructor(n,e,r,i){this.namespaceId=n,this.delegate=e,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,i=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,i)}removeChild(n,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,i){this.delegate.setAttribute(n,e,r,i)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,i){this.delegate.setStyle(n,e,r,i)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){"@"==e.charAt(0)&&e==yO?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class ej extends bO{constructor(n,e,r,i,s){super(e,r,i,s),this.factory=n,this.namespaceId=e}setProperty(n,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==yO?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,e.slice(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if("@"==e.charAt(0)){const i=function tj(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let s=e.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function nj(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(s)),this.engine.listen(this.namespaceId,i,s,c,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(n,e,r)}}const wO=[{provide:HN,useClass:Z8},{provide:WE,useFactory:function ij(){return new E8}},{provide:M0,useClass:(()=>{class t extends M0{constructor(e,r,i,s){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(Pt(Ei),Pt(kE),Pt(WE),Pt(Jh))},t.\u0275prov=rn({token:t,factory:t.\u0275fac}),t})()},{provide:Om,useFactory:function oj(t,n,e){return new J8(t,n,e)},deps:[TC,M0,$r]}],QE=[{provide:kE,useFactory:()=>new K8},{provide:Oc,useValue:"BrowserAnimations"},...wO],_O=[{provide:kE,useClass:KN},{provide:Oc,useValue:"NoopAnimations"},...wO];let aj=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?_O:QE}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({providers:QE,imports:[iI]}),t})(),$g=(()=>{class t{constructor(e){this.http=e,this.vampirepage="http://localhost:8082",this.gswbpage="http://localhost:8081",this.ligerpage="http://localhost:8080"}gswbDeduce(e){return this.http.post(`${this.gswbpage}/deduce`,e)}gswbBatchDeduce(e){return this.http.post(`${this.gswbpage}/gswb_batch_proof`,e)}ligerAnnotate(e){return this.http.post(`${this.ligerpage}/apply_rules_xle`,e)}ligerParse(e){return this.http.post(`${this.ligerpage}/parse_xle`,e)}ligerBatchAnnotate(e){return this.http.post(`${this.ligerpage}/apply_rules_to_batch`,e)}ligerBatchMultistage(e){return this.http.post(`${this.ligerpage}/multistage_to_batch`,e)}getFileTree(e){return this.http.post(`${this.ligerpage}/list_grammars1`,e)}changeGrammar(e){return this.http.post(`${this.ligerpage}/change_grammar`,e)}loadRules(e){return this.http.post(`${this.ligerpage}/load_rules`,e)}callVampire(e){return this.http.post(`${this.vampirepage}/vampire_request`,e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(p0))},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var JE=D(656);const sj=["host"];JE.defineMode("liger",function(){return{token:function(t,n){return t.match("==>")?"rule_separator":t.match(/#[A-Za-z0-9]+/)?"liger_node_var":t.match(/%[A-Za-z0-9]+/)?"liger_val_var":t.match(/(\&|\.)/)?"liger_conjunction":t.match("//")?(t.skipToEnd(),"comment"):(t.next(),null)}}}),JE.defineMode("glue",function(){return{token:function(t,n){return t.match(":")?"rule_separator":t.match(/-o/)?"liger_node_var":t.match(/(\[|\])/)?"liger_conjunction":t.match(/(\(|\))/)?"liger_val_var":t.match(/(<|>)/)?"angular_brackets":t.match("//")?(t.skipToEnd(),"comment"):(t.next(),null)}}});let Hv=(()=>{class t{constructor(){this.defaultWidth="800px",this.defaultHeight="300px"}ngAfterViewInit(){console.log("mode is "+this.mode),this.codeMirror=JE.fromTextArea(this.host.nativeElement,{mode:this.mode,viewPortMargin:1/0}),"liger"==this.mode&&this.codeMirror.setValue("--replace(true);\n\n#a TNS-ASP #b & #a s:: #c SIT #d & #c TEMP-REF #e ==> & #e T-REF 'undefined'.\n\n//Tier 1 rules\n#a TNS-ASP #b TENSE 'past' & #a s:: #c TEMP-REF #d & #d T-REF 'undefined' ==>  #d T-REF 'past'.\n#a TNS-ASP #b TENSE 'pres' & #a s:: #c TEMP-REF #d & #d T-REF 'undefined' ==>  #d T-REF 'pres'.\n#a TNS-ASP #b TENSE 'fut' & #a s:: #c TEMP-REF #d & #d T-REF 'undefined' ==>  #d T-REF 'fut'.\n\n//#a TNS-ASP #b TENSE 'pres' & #a s:: #c ==> #c TEMP-REF #d & #d T-REF 'pres' & #d EVAL #e & #e TIME 'now'.\n//#a TNS-ASP #b TENSE 'fut' & #a s:: #c ==> #c TEMP-REF #d & #d T-REF 'fut' & #d EVAL #e & #e TIME 'now'.\n\n//Tier 2 rules\n//SOT rule\n#a T-REF 'past' &\n#a ^(TEMP-REF>s::>COMP) #b & #b !(s::>TEMP-REF) #c T-REF 'past' ==> #a T-REF 'non-future'.\n\n//Present counterfactual\n#a T-REF 'past' &\n#a ^(TEMP-REF>s::>OBJ>in_set>ADJUNCT) #b & #b VTYPE 'modal' &\n#b !(>TEMP-REF) #c T-REF 'pres' \n==> #a T-REF 'non-past'.\n\n//Aspect rules\n#a TNS-ASP #b PROG '+_' & #a s:: #c ==> #c VIEWPOINT #d & #d ASPECT 'impv' & #d A-RESTR 'ongoing'.\n#a TNS-ASP #b PROG '-_' & #a s:: #c ==> #c VIEWPOINT #d & #d ASPECT 'undefined'.\n#a TNS-ASP #b TENSE %x & #b PROG '-_' & #a s:: #c VIEWPOINT #d ASPECT 'undefined' ==> #d ASPECT 'prv' & #d A-RESTR 'bounded'.\n#a TNS-ASP #b PERF '+_' & #a s:: #c ==> #c ASP-TENSE #d & #d A-REF 'past'.\n\n//Tier 2 aspect example\n#a T-REF 'undefined' &\n#a ^(TEMP-REF) #b ^(s::>XCOMP) #c & #c !(s::>TEMP-REF) #d EVAL #e &\n#b VIEWPOINT #f ASPECT 'prv'\n==>  #a T-REF 'future' & #a EVAL #d.\n\n//Semantic interpretation\n\n//Rules for interpreting grammatical aspect\n#a s:: #b VIEWPOINT #c ==>\n#c VAR #d & #c RESTR #e &\n#c ASP-RESTR' #f.\n\n#a s:: #b VIEWPOINT #c A-RESTR 'ongoing' &\n#c VAR #d & #c RESTR #e &\n#c ASP-RESTR' #f ==>\n#f GLUE lam(S,lam(T,drs([],[rel(ongoing,T,S)]))) : (#d_s -o (#e_s -o #c_t)).\n\n#a s:: #b VIEWPOINT #c A-RESTR 'bounded' &\n#c VAR #d & #c RESTR #e &\n#c ASP-RESTR' #f ==>\n#f GLUE lam(S,lam(T,drs([],[rel(bounded,T,S)]))) : (#d_s -o (#e_s -o #c_t)).\n\n\n#a s:: #b VIEWPOINT #c ASPECT 'impv' &\n#c VAR #d & #c RESTR #e &\n#b TEMP-REF #f &\n#b SIT #g\n ==>  #c GLUE lam(M,lam(P,lam(S,drs([],[imp(merge(drs([Z],[]),app(app(M,S),Z)),app(P,Z))])))) : ((#d_s -o (#e_s -o #c_t)) -o ((#g_s -o #g_t) -o (#f_s -o #f_t))).\n\n//prv closure -- fixed \n#a s:: #b VIEWPOINT #c ASPECT 'prv' &\n#c VAR #d & #c RESTR #e &\n#b TEMP-REF #f &\n#b SIT #g\n ==>  #c GLUE lam(M,lam(P,lam(S,merge(drs([Z],[]),merge(app(app(M,S),Z),app(P,Z)))))) : ((#d_s -o (#e_s -o #c_t)) -o ((#g_s -o #g_t) -o (#f_s -o #f_t))).\n\n#a s:: #b VIEWPOINT #c ASPECT 'undefined' &\n#b TEMP-REF #f &\n#b SIT #g\n ==>  #c GLUE lam(P,lam(S,merge(drs([],[]),app(P,S)))) : ((#g_s -o #b_t) -o (#f_s -o #b_t)).\n\n//Tense values\n\n//Past reference\n#a s:: #b TEMP-REF #c T-REF 'past' & #c EVAL #d ==>\n#c T-REF' #e & #e GLUE lam(T,lam(T2,drs([],[rel(before,T,T2)]))) : (#c_s -o (#d_s -o #c_t)).\n\n//Aspectual tense\n#a s:: #b TEMP-REF #c EVAL #d &\n#b ASP-TENSE #e A-REF 'past' &\n ==>\n#e A-REF' #f & #f GLUE lam(T,lam(T2,drs([],[rel(before,T,T2)]))) :(#e_s -o (#c_s -o #e_t)) .\n\n//Present reference\n#a s:: #b TEMP-REF #c T-REF 'pres' & #c EVAL #d ==>\n#c T-REF' #e & #e GLUE lam(T,lam(T2,drs([],[rel(overlap,T,T2)]))) : (#c_s -o (#d_s -o #c_t)).\n\n//Non-future\n#a s:: #b TEMP-REF #c T-REF 'non-future' & #c EVAL #d ==>\n#c T-REF' #e & #e GLUE lam(T,lam(T2,drs([],[rel(nonfut,T,T2)]))) : (#c_s -o (#d_s -o #c_t)).\n\n\n//Non-past\n#a s:: #b TEMP-REF #c T-REF 'non-past' & #c EVAL #d ==>\n#c T-REF' #e & #e GLUE lam(T,lam(T2,drs([],[rel(nonpast,T,T2)]))) : (#c_s -o (#d_s -o #c_t)).\n\n//Future reference\n#a s:: #b TEMP-REF #c T-REF 'future' & #c EVAL #d ==>\n#c T-REF' #e & #e GLUE lam(T,lam(T2,drs([],[rel(after,T,T2)]))) : (#c_s -o (#d_s -o #c_t)).\n\n\n//absolute tense closure -- fixed \n#a s:: #b TEMP-REF #c T-REF %a & %a != 'undefined' & #c EVAL #d \n==> #c GLUE lam(T,lam(P,lam(S,merge(drs([R],[]),merge(app(app(T,R),S),app(P,R)))))) : ((#c_s -o (#d_s -o #c_t)) -o ((#c_s -o #c_t) -o (#d_s -o #d_t))).\n\n//aspectual tense closure\n#a s:: #b ASP-TENSE #c A-REF %a &\n#b TEMP-REF #e &\n %a != 'undefined'\n==> #c GLUE lam(T,lam(P,lam(S,merge(drs([R],[]),merge(app(app(T,R),S),app(P,R)))))) : ((#c_s -o (#e_s -o #c_t)) -o ((#e_s -o #b_t) -o (#e_s -o #b_t))).\n\n//unspec absolute closure\n#a s:: #b TEMP-REF #c T-REF %a & %a == 'undefined' & #c EVAL #d\n==> #c GLUE lam(P,lam(S,merge(app(P,S),drs([],[])))) : ((#c_s -o #b_t) -o (#d_s -o #b_t)).\n\n\n\n//#a s:: #b TEMP-REF #c T-REF 'pres' & #c EVAL #d ==> #c GLUE [/P_<s,t>.[/s_s.Er_s[equals(r,s) \\& P(r)]]] : ((#c -o #b) -o (#d -o #b)).\n\n// #a s:: #b ASP-TENSE #c A-REF 'past' & #b TEMP-REF #d ==>  #c GLUE [/P_<s,t>.[/s_s.Er_s[before(r,s) \\& P(r)]]] : ((#d -o #b) -o (#d -o #b)).\n\n//#a s:: #b ASP-TENSE #c A-REF 'undefined' & #b TEMP-REF #d ==>  #c GLUE [/P_<s,t>.[/s_s.P(s)]] : ((#d -o #b) -o (#d -o #b)).\n#a s:: #b ASP-TENSE #c A-REF 'undefined' & #b TEMP-REF #d ==>  #c GLUE lam(P,lam(S,merge(app(P,S),drs([],[])))) : ((#d_s -o #b_t) -o (#d_s -o #b_t)).\n"),"text"==this.mode&&this.codeMirror.setValue("John loves Mary.\n\nEvery man loved a woman.\n\nMary said that Susan was sick.\n\nIf Mary was sick, she would be sleeping.\n\nMary married a man who smiled.\n\nMary was dancing.\n\nMary seems to smile.\n\nIf Mary trained, she is sleeping.\n\nA man saw the monkey with the telescope.\n\nA woman will visit the cinema.\n\nPeter had visited the cinema.\n\nPeter wanted to visit Mary.\n\nMary gave Peter a letter.\n\n"),this.codeMirror.setOption("lineNumbers",!0)}updateContent(e){this.codeMirror&&(this.codeMirror.setValue(""),this.codeMirror.clearHistory(),this.codeMirror.setValue(e))}getContent(){return this.codeMirror.getValue()}resizeToDefault(){this.codeMirror.setSize(this.defaultWidth,this.defaultHeight)}downloadFile(e){let r=this.codeMirror.getValue(),i=new Blob([r],{type:"text/plain"}),s=window.URL.createObjectURL(i),c=document.createElement("a");c.href=s,c.download=e||"default.txt",c.click(),setTimeout(()=>window.URL.revokeObjectURL(s),1e4)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-editor"]],viewQuery:function(e,r){if(1&e&&Yn(sj,5),2&e){let i;Rn(i=kn())&&(r.host=i.first)}},inputs:{id:"id",mode:"mode"},decls:9,vars:1,consts:[[1,"editor-container"],["host",""],[1,"resize",3,"click"],[3,"click"],["placeholder","Enter filename",3,"ngModel","ngModelChange"]],template:function(e,r){1&e&&(st(0,"div",0),Fn(1,"textarea",null,1),it(),st(3,"button",2),Tn("click",function(){return r.resizeToDefault()}),Nt(4,"Resize to Default"),it(),st(5,"button",3),Tn("click",function(){return r.downloadFile(r.filename)}),Nt(6,"Download as: "),it(),st(7,"input",4),Tn("ngModelChange",function(s){return r.filename=s}),it(),Fn(8,"div")),2&e&&(ln(7),cn("ngModel",r.filename))},dependencies:[Ug,xv,Ov],styles:['.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;inset:-50px 0 0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:white}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;inset:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}\n',".CodeMirror{resize:both;max-width:100%;max-height:100%}.editor-container{position:relative;display:block;border-style:solid;border-color:#00a9e0;overflow:hidden;max-width:100%;max-height:100%;background-color:#add8e6}.cm-rule_separator{color:#0900ff;font-weight:700}.cm-liger_node_var{color:#00c4ff}.cm-liger_val_var{color:#08d700}.cm-liger_conjunction{color:red}.cm-angular_brackets{color:#d100ff}\n"],encapsulation:2}),t})();var cj=D(6100),Gs=D.n(cj),dj=D(7944),A0=D.n(dj),zv=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",fj=function(){for(var t=["Edge","Trident","Firefox"],n=0;n<t.length;n+=1)if(zv&&navigator.userAgent.indexOf(t[n])>=0)return 1;return 0}(),mj=zv&&window.Promise?function hj(t){var n=!1;return function(){n||(n=!0,window.Promise.resolve().then(function(){n=!1,t()}))}}:function pj(t){var n=!1;return function(){n||(n=!0,setTimeout(function(){n=!1,t()},fj))}};function CO(t){return t&&"[object Function]"==={}.toString.call(t)}function gp(t,n){if(1!==t.nodeType)return[];var r=t.ownerDocument.defaultView.getComputedStyle(t,null);return n?r[n]:r}function ex(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function Uv(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var n=gp(t);return/(auto|scroll|overlay)/.test(n.overflow+n.overflowY+n.overflowX)?t:Uv(ex(t))}function EO(t){return t&&t.referenceNode?t.referenceNode:t}var xO=zv&&!(!window.MSInputMethodContext||!document.documentMode),DO=zv&&/MSIE 10/.test(navigator.userAgent);function Yg(t){return 11===t?xO:10===t?DO:xO||DO}function Xg(t){if(!t)return document.documentElement;for(var n=Yg(10)?document.body:null,e=t.offsetParent||null;e===n&&t.nextElementSibling;)e=(t=t.nextElementSibling).offsetParent;var r=e&&e.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(e.nodeName)&&"static"===gp(e,"position")?Xg(e):e:t?t.ownerDocument.documentElement:document.documentElement}function tx(t){return null!==t.parentNode?tx(t.parentNode):t}function N0(t,n){if(!(t&&t.nodeType&&n&&n.nodeType))return document.documentElement;var e=t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,r=e?t:n,i=e?n:t,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);var c=s.commonAncestorContainer;if(t!==c&&n!==c||r.contains(i))return function vj(t){var n=t.nodeName;return"BODY"!==n&&("HTML"===n||Xg(t.firstElementChild)===t)}(c)?c:Xg(c);var m=tx(t);return m.host?N0(m.host,n):N0(t,tx(n).host)}function Kg(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",r=t.nodeName;return"BODY"===r||"HTML"===r?(t.ownerDocument.scrollingElement||t.ownerDocument.documentElement)[e]:t[e]}function SO(t,n){var e="x"===n?"Left":"Top",r="Left"===e?"Right":"Bottom";return parseFloat(t["border"+e+"Width"])+parseFloat(t["border"+r+"Width"])}function TO(t,n,e,r){return Math.max(n["offset"+t],n["scroll"+t],e["client"+t],e["offset"+t],e["scroll"+t],Yg(10)?parseInt(e["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function MO(t){var n=t.body,e=t.documentElement,r=Yg(10)&&getComputedStyle(e);return{height:TO("Height",n,e,r),width:TO("Width",n,e,r)}}var wj=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),Zg=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t},fu=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};function oh(t){return fu({},t,{right:t.left+t.width,bottom:t.top+t.height})}function nx(t){var n={};try{if(Yg(10)){n=t.getBoundingClientRect();var e=Kg(t,"top"),r=Kg(t,"left");n.top+=e,n.left+=r,n.bottom+=e,n.right+=r}else n=t.getBoundingClientRect()}catch{}var i={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},s="HTML"===t.nodeName?MO(t.ownerDocument):{},_=t.offsetWidth-(s.width||t.clientWidth||i.width),R=t.offsetHeight-(s.height||t.clientHeight||i.height);if(_||R){var U=gp(t);_-=SO(U,"x"),R-=SO(U,"y"),i.width-=_,i.height-=R}return oh(i)}function rx(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Yg(10),i="HTML"===n.nodeName,s=nx(t),c=nx(n),m=Uv(t),_=gp(n),R=parseFloat(_.borderTopWidth),U=parseFloat(_.borderLeftWidth);e&&i&&(c.top=Math.max(c.top,0),c.left=Math.max(c.left,0));var K=oh({top:s.top-c.top-R,left:s.left-c.left-U,width:s.width,height:s.height});if(K.marginTop=0,K.marginLeft=0,!r&&i){var ge=parseFloat(_.marginTop),be=parseFloat(_.marginLeft);K.top-=R-ge,K.bottom-=R-ge,K.left-=U-be,K.right-=U-be,K.marginTop=ge,K.marginLeft=be}return(r&&!e?n.contains(m):n===m&&"BODY"!==m.nodeName)&&(K=function yj(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Kg(n,"top"),i=Kg(n,"left"),s=e?-1:1;return t.top+=r*s,t.bottom+=r*s,t.left+=i*s,t.right+=i*s,t}(K,n)),K}function IO(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===gp(t,"position"))return!0;var e=ex(t);return!!e&&IO(e)}function AO(t){if(!t||!t.parentElement||Yg())return document.documentElement;for(var n=t.parentElement;n&&"none"===gp(n,"transform");)n=n.parentElement;return n||document.documentElement}function ix(t,n,e,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},c=i?AO(t):N0(t,EO(n));if("viewport"===r)s=function _j(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=t.ownerDocument.documentElement,r=rx(t,e),i=Math.max(e.clientWidth,window.innerWidth||0),s=Math.max(e.clientHeight,window.innerHeight||0),c=n?0:Kg(e),m=n?0:Kg(e,"left");return oh({top:c-r.top+r.marginTop,left:m-r.left+r.marginLeft,width:i,height:s})}(c,i);else{var m=void 0;"scrollParent"===r?"BODY"===(m=Uv(ex(n))).nodeName&&(m=t.ownerDocument.documentElement):m="window"===r?t.ownerDocument.documentElement:r;var _=rx(m,c,i);if("HTML"!==m.nodeName||IO(c))s=_;else{var R=MO(t.ownerDocument),U=R.height,K=R.width;s.top+=_.top-_.marginTop,s.bottom=U+_.top,s.left+=_.left-_.marginLeft,s.right=K+_.left}}var ge="number"==typeof(e=e||0);return s.left+=ge?e:e.left||0,s.top+=ge?e:e.top||0,s.right-=ge?e:e.right||0,s.bottom-=ge?e:e.bottom||0,s}function Cj(t){return t.width*t.height}function NO(t,n,e,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var c=ix(e,r,s,i),m={top:{width:c.width,height:n.top-c.top},right:{width:c.right-n.right,height:c.height},bottom:{width:c.width,height:c.bottom-n.bottom},left:{width:n.left-c.left,height:c.height}},_=Object.keys(m).map(function(ge){return fu({key:ge},m[ge],{area:Cj(m[ge])})}).sort(function(ge,be){return be.area-ge.area}),R=_.filter(function(ge){return ge.width>=e.clientWidth&&ge.height>=e.clientHeight}),U=R.length>0?R[0].key:_[0].key,K=t.split("-")[1];return U+(K?"-"+K:"")}function OO(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return rx(e,r?AO(n):N0(n,EO(e)),r)}function RO(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),r=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+r}}function O0(t){var n={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(e){return n[e]})}function kO(t,n,e){e=e.split("-")[0];var r=RO(t),i={width:r.width,height:r.height},s=-1!==["right","left"].indexOf(e),c=s?"top":"left",m=s?"left":"top",_=s?"height":"width",R=s?"width":"height";return i[c]=n[c]+n[_]/2-r[_]/2,i[m]=e===m?n[m]-r[R]:n[O0(m)],i}function Gv(t,n){return Array.prototype.find?t.find(n):t.filter(n)[0]}function PO(t,n,e){var r=void 0===e?t:t.slice(0,function Ej(t,n,e){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[n]===e});var r=Gv(t,function(i){return i[n]===e});return t.indexOf(r)}(t,"name",e));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var s=i.function||i.fn;i.enabled&&CO(s)&&(n.offsets.popper=oh(n.offsets.popper),n.offsets.reference=oh(n.offsets.reference),n=s(n,i))}),n}function xj(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=OO(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=NO(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=kO(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=PO(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function LO(t,n){return t.some(function(e){return e.enabled&&e.name===n})}function ox(t){for(var n=[!1,"ms","Webkit","Moz","O"],e=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<n.length;r++){var i=n[r],s=i?""+i+e:t;if(typeof document.body.style[s]<"u")return s}return null}function Dj(){return this.state.isDestroyed=!0,LO(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[ox("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function FO(t){var n=t.ownerDocument;return n?n.defaultView:window}function BO(t,n,e,r){var i="BODY"===t.nodeName,s=i?t.ownerDocument.defaultView:t;s.addEventListener(n,e,{passive:!0}),i||BO(Uv(s.parentNode),n,e,r),r.push(s)}function Sj(t,n,e,r){e.updateBound=r,FO(t).addEventListener("resize",e.updateBound,{passive:!0});var i=Uv(t);return BO(i,"scroll",e.updateBound,e.scrollParents),e.scrollElement=i,e.eventsEnabled=!0,e}function Tj(){this.state.eventsEnabled||(this.state=Sj(this.reference,0,this.state,this.scheduleUpdate))}function Ij(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function Mj(t,n){return FO(t).removeEventListener("resize",n.updateBound),n.scrollParents.forEach(function(e){e.removeEventListener("scroll",n.updateBound)}),n.updateBound=null,n.scrollParents=[],n.scrollElement=null,n.eventsEnabled=!1,n}(this.reference,this.state))}function ax(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function sx(t,n){Object.keys(n).forEach(function(e){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&ax(n[e])&&(r="px"),t.style[e]=n[e]+r})}var kj=zv&&/Firefox/i.test(navigator.userAgent);function VO(t,n,e){var r=Gv(t,function(m){return m.name===n}),i=!!r&&t.some(function(m){return m.name===e&&m.enabled&&m.order<r.order});if(!i){var s="`"+n+"`";console.warn("`"+e+"` modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return i}var HO=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],lx=HO.slice(3);function zO(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=lx.indexOf(t),r=lx.slice(e+1).concat(lx.slice(0,e));return n?r.reverse():r}var Xj={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function jj(t){var n=t.placement,e=n.split("-")[0],r=n.split("-")[1];if(r){var i=t.offsets,s=i.reference,c=i.popper,m=-1!==["bottom","top"].indexOf(e),_=m?"left":"top",R=m?"width":"height",U={start:Zg({},_,s[_]),end:Zg({},_,s[_]+s[R]-c[R])};t.offsets.popper=fu({},c,U[r])}return t}},offset:{order:200,enabled:!0,fn:function Uj(t,n){var _,e=n.offset,i=t.offsets,s=i.popper,c=i.reference,m=t.placement.split("-")[0];return _=ax(+e)?[+e,0]:function zj(t,n,e,r){var i=[0,0],s=-1!==["right","left"].indexOf(r),c=t.split(/(\+|\-)/).map(function(U){return U.trim()}),m=c.indexOf(Gv(c,function(U){return-1!==U.search(/,|\s/)}));c[m]&&-1===c[m].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var _=/\s*,\s*|\s+/,R=-1!==m?[c.slice(0,m).concat([c[m].split(_)[0]]),[c[m].split(_)[1]].concat(c.slice(m+1))]:[c];return R=R.map(function(U,K){var ge=(1===K?!s:s)?"height":"width",be=!1;return U.reduce(function(Ie,Fe){return""===Ie[Ie.length-1]&&-1!==["+","-"].indexOf(Fe)?(Ie[Ie.length-1]=Fe,be=!0,Ie):be?(Ie[Ie.length-1]+=Fe,be=!1,Ie):Ie.concat(Fe)},[]).map(function(Ie){return function Hj(t,n,e,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+i[1],c=i[2];return s?0===c.indexOf("%")?oh("%p"===c?e:r)[n]/100*s:"vh"===c||"vw"===c?("vh"===c?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s:s:t}(Ie,ge,n,e)})}),R.forEach(function(U,K){U.forEach(function(ge,be){ax(ge)&&(i[K]+=ge*("-"===U[be-1]?-1:1))})}),i}(e,s,c,m),"left"===m?(s.top+=_[0],s.left-=_[1]):"right"===m?(s.top+=_[0],s.left+=_[1]):"top"===m?(s.left+=_[0],s.top-=_[1]):"bottom"===m&&(s.left+=_[0],s.top+=_[1]),t.popper=s,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function Gj(t,n){var e=n.boundariesElement||Xg(t.instance.popper);t.instance.reference===e&&(e=Xg(e));var r=ox("transform"),i=t.instance.popper.style,s=i.top,c=i.left,m=i[r];i.top="",i.left="",i[r]="";var _=ix(t.instance.popper,t.instance.reference,n.padding,e,t.positionFixed);i.top=s,i.left=c,i[r]=m,n.boundaries=_;var U=t.offsets.popper,K={primary:function(be){var Ie=U[be];return U[be]<_[be]&&!n.escapeWithReference&&(Ie=Math.max(U[be],_[be])),Zg({},be,Ie)},secondary:function(be){var Ie="right"===be?"left":"top",Fe=U[Ie];return U[be]>_[be]&&!n.escapeWithReference&&(Fe=Math.min(U[Ie],_[be]-("right"===be?U.width:U.height))),Zg({},Ie,Fe)}};return n.priority.forEach(function(ge){var be=-1!==["left","top"].indexOf(ge)?"primary":"secondary";U=fu({},U,K[be](ge))}),t.offsets.popper=U,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function Vj(t){var n=t.offsets,e=n.popper,r=n.reference,i=t.placement.split("-")[0],s=Math.floor,c=-1!==["top","bottom"].indexOf(i),m=c?"right":"bottom",_=c?"left":"top",R=c?"width":"height";return e[m]<s(r[_])&&(t.offsets.popper[_]=s(r[_])-e[R]),e[_]>s(r[m])&&(t.offsets.popper[_]=s(r[m])),t}},arrow:{order:500,enabled:!0,fn:function Lj(t,n){var e;if(!VO(t.instance.modifiers,"arrow","keepTogether"))return t;var r=n.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],s=t.offsets,c=s.popper,m=s.reference,_=-1!==["left","right"].indexOf(i),R=_?"height":"width",U=_?"Top":"Left",K=U.toLowerCase(),ge=_?"left":"top",be=_?"bottom":"right",Ie=RO(r)[R];m[be]-Ie<c[K]&&(t.offsets.popper[K]-=c[K]-(m[be]-Ie)),m[K]+Ie>c[be]&&(t.offsets.popper[K]+=m[K]+Ie-c[be]),t.offsets.popper=oh(t.offsets.popper);var Fe=m[K]+m[R]/2-Ie/2,nt=gp(t.instance.popper),gt=parseFloat(nt["margin"+U]),Qe=parseFloat(nt["border"+U+"Width"]),yt=Fe-t.offsets.popper[K]-gt-Qe;return yt=Math.max(Math.min(c[R]-Ie,yt),0),t.arrowElement=r,t.offsets.arrow=(Zg(e={},K,Math.round(yt)),Zg(e,ge,""),e),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function Bj(t,n){if(LO(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var e=ix(t.instance.popper,t.instance.reference,n.padding,n.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=O0(r),s=t.placement.split("-")[1]||"",c=[];switch(n.behavior){case"flip":c=[r,i];break;case"clockwise":c=zO(r);break;case"counterclockwise":c=zO(r,!0);break;default:c=n.behavior}return c.forEach(function(m,_){if(r!==m||c.length===_+1)return t;r=t.placement.split("-")[0],i=O0(r);var R=t.offsets.popper,U=t.offsets.reference,K=Math.floor,ge="left"===r&&K(R.right)>K(U.left)||"right"===r&&K(R.left)<K(U.right)||"top"===r&&K(R.bottom)>K(U.top)||"bottom"===r&&K(R.top)<K(U.bottom),be=K(R.left)<K(e.left),Ie=K(R.right)>K(e.right),Fe=K(R.top)<K(e.top),nt=K(R.bottom)>K(e.bottom),gt="left"===r&&be||"right"===r&&Ie||"top"===r&&Fe||"bottom"===r&&nt,Qe=-1!==["top","bottom"].indexOf(r),Bn=!!n.flipVariations&&(Qe&&"start"===s&&be||Qe&&"end"===s&&Ie||!Qe&&"start"===s&&Fe||!Qe&&"end"===s&&nt)||!!n.flipVariationsByContent&&(Qe&&"start"===s&&Ie||Qe&&"end"===s&&be||!Qe&&"start"===s&&nt||!Qe&&"end"===s&&Fe);(ge||gt||Bn)&&(t.flipped=!0,(ge||gt)&&(r=c[_+1]),Bn&&(s=function Fj(t){return"end"===t?"start":"start"===t?"end":t}(s)),t.placement=r+(s?"-"+s:""),t.offsets.popper=fu({},t.offsets.popper,kO(t.instance.popper,t.offsets.reference,t.placement)),t=PO(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function $j(t){var n=t.placement,e=n.split("-")[0],r=t.offsets,i=r.popper,s=r.reference,c=-1!==["left","right"].indexOf(e),m=-1===["top","left"].indexOf(e);return i[c?"left":"top"]=s[e]-(m?i[c?"width":"height"]:0),t.placement=O0(n),t.offsets.popper=oh(i),t}},hide:{order:800,enabled:!0,fn:function Wj(t){if(!VO(t.instance.modifiers,"hide","preventOverflow"))return t;var n=t.offsets.reference,e=Gv(t.instance.modifiers,function(r){return"preventOverflow"===r.name}).boundaries;if(n.bottom<e.top||n.left>e.right||n.top>e.bottom||n.right<e.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function Pj(t,n){var e=n.x,r=n.y,i=t.offsets.popper,s=Gv(t.instance.modifiers,function(yt){return"applyStyle"===yt.name}).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var Ie,Fe,c=void 0!==s?s:n.gpuAcceleration,m=Xg(t.instance.popper),_=nx(m),R={position:i.position},U=function Rj(t,n){var e=t.offsets,r=e.popper,s=Math.round,c=Math.floor,m=function(gt){return gt},_=s(e.reference.width),R=s(r.width),U=-1!==["left","right"].indexOf(t.placement),K=-1!==t.placement.indexOf("-"),Ie=n?U||K||_%2==R%2?s:c:m,Fe=n?s:m;return{left:Ie(_%2==1&&R%2==1&&!K&&n?r.left-1:r.left),top:Fe(r.top),bottom:Fe(r.bottom),right:Ie(r.right)}}(t,window.devicePixelRatio<2||!kj),K="bottom"===e?"top":"bottom",ge="right"===r?"left":"right",be=ox("transform");if(Fe="bottom"===K?"HTML"===m.nodeName?-m.clientHeight+U.bottom:-_.height+U.bottom:U.top,Ie="right"===ge?"HTML"===m.nodeName?-m.clientWidth+U.right:-_.width+U.right:U.left,c&&be)R[be]="translate3d("+Ie+"px, "+Fe+"px, 0)",R[K]=0,R[ge]=0,R.willChange="transform";else{var gt="right"===ge?-1:1;R[K]=Fe*("bottom"===K?-1:1),R[ge]=Ie*gt,R.willChange=K+", "+ge}return t.attributes=fu({},{"x-placement":t.placement},t.attributes),t.styles=fu({},R,t.styles),t.arrowStyles=fu({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function Nj(t){return sx(t.instance.popper,t.styles),function Aj(t,n){Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})}(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&sx(t.arrowElement,t.arrowStyles),t},onLoad:function Oj(t,n,e,r,i){var s=OO(i,n,t,e.positionFixed),c=NO(e.placement,s,n,t,e.modifiers.flip.boundariesElement,e.modifiers.flip.padding);return n.setAttribute("x-placement",c),sx(n,{position:e.positionFixed?"fixed":"absolute"}),e},gpuAcceleration:void 0}}},R0=function(){function t(n,e){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=mj(this.update.bind(this)),this.options=fu({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n&&n.jquery?n[0]:n,this.popper=e&&e.jquery?e[0]:e,this.options.modifiers={},Object.keys(fu({},t.Defaults.modifiers,i.modifiers)).forEach(function(c){r.options.modifiers[c]=fu({},t.Defaults.modifiers[c]||{},i.modifiers?i.modifiers[c]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(c){return fu({name:c},r.options.modifiers[c])}).sort(function(c,m){return c.order-m.order}),this.modifiers.forEach(function(c){c.enabled&&CO(c.onLoad)&&c.onLoad(r.reference,r.popper,r.options,c,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return wj(t,[{key:"update",value:function(){return xj.call(this)}},{key:"destroy",value:function(){return Dj.call(this)}},{key:"enableEventListeners",value:function(){return Tj.call(this)}},{key:"disableEventListeners",value:function(){return Ij.call(this)}}]),t}();R0.Utils=(typeof window<"u"?window:global).PopperUtils,R0.placements=HO,R0.Defaults=Xj;const Kj=R0;function js(){return js=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},js.apply(this,arguments)}var jv=typeof window<"u"&&typeof document<"u",UO=jv?navigator.userAgent:"",GO=/MSIE |Trident\//.test(UO),jO=/UCBrowser\//.test(UO),WO=jv&&/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,Yc={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrow:!1,arrowType:"sharp",boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},placement:"top",popperOptions:{},role:"tooltip",showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,wait:null,zIndex:9999},Qj=["arrow","arrowType","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],Wv=jv?Element.prototype:{},cx=Wv.matches||Wv.matchesSelector||Wv.webkitMatchesSelector||Wv.mozMatchesSelector||Wv.msMatchesSelector;function $v(t){return[].slice.call(t)}function k0(t,n){return dx(t,function(e){return cx.call(e,n)})}function dx(t,n){for(;t;){if(n(t))return t;t=t.parentElement}return null}var fx={passive:!0},hx=4,px="x-placement",gx="x-out-of-boundaries",$O="tippy-iOS",YO="tippy-active",XO="tippy-popper",KO="tippy-tooltip",ZO="tippy-content",qO="tippy-backdrop",QO="tippy-arrow",JO="tippy-roundarrow",mx=".".concat(XO),Jj=".".concat(KO),eW=".".concat(ZO),tW=".".concat(qO),nW=".".concat(QO),rW=".".concat(JO),ah=!1;function iW(){ah||(ah=!0,WO&&document.body.classList.add($O),window.performance&&document.addEventListener("mousemove",tR))}var eR=0;function tR(){var t=performance.now();t-eR<20&&(ah=!1,document.removeEventListener("mousemove",tR),WO||document.body.classList.remove($O)),eR=t}function oW(){var n=document.activeElement;n&&n.blur&&n._tippy&&n.blur()}var sW=Object.keys(Yc);function P0(t,n){return{}.hasOwnProperty.call(t,n)}function L0(t,n,e){return Array.isArray(t)?t[n]??e:t}function nR(t,n){return 0===n?t:function(r){clearTimeout(e),e=setTimeout(function(){t(r)},n)};var e}function F0(t,n){return t&&t.modifiers&&t.modifiers[n]}function vx(t,n){return t.indexOf(n)>-1}function Yv(t){return t instanceof Element}function rR(t){return!(!t||!P0(t,"isVirtual"))||Yv(t)}function yx(t,n){return"function"==typeof t?t.apply(null,n):t}function oR(t,n){t.filter(function(e){return"flip"===e.name})[0].enabled=n}function Xv(){return document.createElement("div")}function Kv(t,n){t.forEach(function(e){e&&(e.style.transitionDuration="".concat(n,"ms"))})}function aR(t,n){t.forEach(function(e){e&&e.setAttribute("data-state",n)})}function sR(t,n){var e=js({},n,{content:yx(n.content,[t])},n.ignoreAttributes?{}:function lW(t){return sW.reduce(function(n,e){var r=(t.getAttribute("data-tippy-".concat(e))||"").trim();if(!r)return n;if("content"===e)n[e]=r;else try{n[e]=JSON.parse(r)}catch{n[e]=r}return n},{})}(t));return(e.arrow||jO)&&(e.animateFill=!1),e}function lR(t,n){Object.keys(t).forEach(function(e){if(!P0(n,e))throw new Error("[tippy]: `".concat(e,"` is not a valid option"))})}function uR(t,n){t.innerHTML=Yv(n)?n.innerHTML:n}function cR(t,n){Yv(n.content)?(uR(t,""),t.appendChild(n.content)):"function"!=typeof n.content&&(t[n.allowHTML?"innerHTML":"textContent"]=n.content)}function bx(t){return{tooltip:t.querySelector(Jj),backdrop:t.querySelector(tW),content:t.querySelector(eW),arrow:t.querySelector(nW)||t.querySelector(rW)}}function dR(t){t.setAttribute("data-inertia","")}function wx(t){var n=Xv();return"round"===t?(n.className=JO,uR(n,'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>')):n.className=QO,n}function fR(){var t=Xv();return t.className=qO,t.setAttribute("data-state","hidden"),t}function hR(t,n){t.setAttribute("tabindex","-1"),n.setAttribute("data-interactive","")}function _x(t,n,e){var r=jO&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";t[n+"EventListener"](r,e)}function Cx(t){var n=t.getAttribute(px);return n?n.split("-")[0]:""}function Ex(t,n,e){e.split(" ").forEach(function(r){t.classList[n](r+"-theme")})}var CW=1,B0=[];function pR(t,n){var e=sR(t,n);if(!e.multiple&&t._tippy)return null;var r,i,s,c,m,U,be,Ie,nt,_=!1,R=!1,K=!1,ge=!1,Fe=[],gt=nR(ly,e.interactiveDebounce),Qe=CW++,yt=function vW(t,n){var e=Xv();e.className=XO,e.id="tippy-".concat(t),e.style.zIndex=""+n.zIndex,e.style.position="absolute",e.style.top="0",e.style.left="0",n.role&&e.setAttribute("role",n.role);var r=Xv();r.className=KO,r.style.maxWidth=n.maxWidth+("number"==typeof n.maxWidth?"px":""),r.setAttribute("data-size",n.size),r.setAttribute("data-animation",n.animation),r.setAttribute("data-state","hidden"),Ex(r,"add",n.theme);var i=Xv();return i.className=ZO,i.setAttribute("data-state","hidden"),n.interactive&&hR(e,r),n.arrow&&r.appendChild(wx(n.arrowType)),n.animateFill&&(r.appendChild(fR()),r.setAttribute("data-animatefill","")),n.inertia&&dR(r),cR(i,n),r.appendChild(i),e.appendChild(r),e}(Qe,e),bn=bx(yt),ut={id:Qe,reference:t,popper:yt,popperChildren:bn,popperInstance:null,props:e,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},clearDelayTimeouts:tw,set:Ck,setContent:function bY(Lt){Ck({content:Lt})},show:$x,hide:uy,enable:function vY(){ut.state.isEnabled=!0},disable:function yY(){ut.state.isEnabled=!1},destroy:function wY(Lt){if(!ut.state.isDestroyed){R=!0,ut.state.isMounted&&uy(0),Fl(),delete t._tippy;var ir=ut.props.target;ir&&Lt&&Yv(t)&&$v(t.querySelectorAll(ir)).forEach(function(pr){pr._tippy&&pr._tippy.destroy()}),ut.popperInstance&&ut.popperInstance.destroy(),R=!1,ut.state.isDestroyed=!0}}};return t._tippy=ut,yt._tippy=ut,ia(),e.lazy||J0(),e.showOnInit&&ew(),e.a11y&&!e.target&&!function hW(t){return!Yv(t)||cx.call(t,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!t.hasAttribute("disabled")}(ra())&&ra().setAttribute("tabindex","0"),yt.addEventListener("mouseenter",function(Lt){ut.props.interactive&&ut.state.isVisible&&"mouseenter"===r&&ew(Lt,!0)}),yt.addEventListener("mouseleave",function(){ut.props.interactive&&"mouseenter"===r&&document.addEventListener("mousemove",gt)}),ut;function Ws(){document.removeEventListener("mousemove",Ua)}function cl(){document.body.removeEventListener("mouseleave",_p),document.removeEventListener("mousemove",gt),B0=B0.filter(function(Lt){return Lt!==gt})}function ra(){return ut.props.triggerTarget||t}function sy(){document.addEventListener("click",_k,!0)}function lh(){document.removeEventListener("click",_k,!0)}function Zc(){return[ut.popperChildren.tooltip,ut.popperChildren.backdrop,ut.popperChildren.content]}function rm(){var Lt=ut.props.followCursor;return Lt&&"focus"!==r||ah&&"initial"===Lt}function Qn(Lt,ir){var pr=ut.popperChildren.tooltip;function No(uh){uh.target===pr&&(_x(pr,"remove",No),ir())}if(0===Lt)return ir();_x(pr,"remove",Ie),_x(pr,"add",No),Ie=No}function yr(Lt,ir){var pr=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ra().addEventListener(Lt,ir,pr),Fe.push({eventType:Lt,handler:ir,options:pr})}function ia(){ut.props.touchHold&&!ut.props.target&&(yr("touchstart",Yi,fx),yr("touchend",Q0,fx)),ut.props.trigger.trim().split(" ").forEach(function(Lt){if("manual"!==Lt)if(ut.props.target)switch(Lt){case"mouseenter":yr("mouseover",Ku),yr("mouseout",$s);break;case"focus":yr("focusin",Ku),yr("focusout",$s);break;case"click":yr(Lt,Ku)}else switch(yr(Lt,Yi),Lt){case"mouseenter":yr("mouseleave",Q0);break;case"focus":yr(GO?"focusout":"blur",Ga)}})}function Fl(){Fe.forEach(function(Lt){var ir=Lt.eventType,pr=Lt.handler,No=Lt.options;ra().removeEventListener(ir,pr,No)}),Fe=[]}function Ua(Lt){var ir=i=Lt,pr=ir.clientX,No=ir.clientY;if(nt){var uh=dx(Lt.target,function(Dk){return Dk===t}),Cp=t.getBoundingClientRect(),cy=ut.props.followCursor,Zu="horizontal"===cy,hu="vertical"===cy,qu=vx(["top","bottom"],Cx(yt)),Ys=yt.getAttribute(px),lf=!!Ys&&!!Ys.split("-")[1],uf=qu?yt.offsetWidth:yt.offsetHeight,nw=uf/2,Ek=qu?0:lf?uf:nw,xk=qu?lf?uf:nw:0;(uh||!ut.props.interactive)&&(ut.popperInstance.reference=js({},ut.popperInstance.reference,{referenceNode:t,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:qu?uf:0,height:qu?0:uf,top:(Zu?Cp.top:No)-Ek,bottom:(Zu?Cp.bottom:No)+Ek,left:(hu?Cp.left:pr)-xk,right:(hu?Cp.right:pr)+xk}}}),ut.popperInstance.update()),"initial"===cy&&ut.state.isVisible&&Ws()}}function Yi(Lt){!ut.state.isEnabled||wp(Lt)||(ut.state.isVisible||(r=Lt.type,Lt instanceof MouseEvent&&(i=Lt,B0.forEach(function(ir){return ir(Lt)}))),"click"===Lt.type&&!1!==ut.props.hideOnClick&&ut.state.isVisible?_p():ew(Lt))}function ly(Lt){var ir=k0(Lt.target,mx)===yt,pr=dx(Lt.target,function(No){return No===t});ir||pr||function wW(t,n,e,r){if(!t)return!0;var i=e.clientX,s=e.clientY,c=r.interactiveBorder,m=r.distance;return n.top-s>("top"===t?c+m:c)||s-n.bottom>("bottom"===t?c+m:c)||n.left-i>("left"===t?c+m:c)||i-n.right>("right"===t?c+m:c)}(Cx(yt),yt.getBoundingClientRect(),Lt,ut.props)&&(cl(),_p())}function Q0(Lt){if(!wp(Lt)){if(ut.props.interactive)return document.body.addEventListener("mouseleave",_p),document.addEventListener("mousemove",gt),void B0.push(gt);_p()}}function Ga(Lt){Lt.target===ra()&&(ut.props.interactive&&Lt.relatedTarget&&yt.contains(Lt.relatedTarget)||_p())}function Ku(Lt){k0(Lt.target,ut.props.target)&&ew(Lt)}function $s(Lt){k0(Lt.target,ut.props.target)&&_p()}function wp(Lt){var ir="ontouchstart"in window,pr=vx(Lt.type,"touch"),No=ut.props.touchHold;return ir&&ah&&No&&!pr||ah&&!No&&pr}function im(){!ge&&be&&(ge=!0,be())}function J0(){var Lt=ut.props.popperOptions,ir=ut.popperChildren,pr=ir.tooltip,No=ir.arrow,uh=F0(Lt,"preventOverflow");function Cp(Zu){ut.props.flip&&!ut.props.flipOnUpdate&&(Zu.flipped&&(ut.popperInstance.options.placement=Zu.placement),oR(ut.popperInstance.modifiers,!1)),pr.setAttribute(px,Zu.placement),!1!==Zu.attributes[gx]?pr.setAttribute(gx,""):pr.removeAttribute(gx),U&&U!==Zu.placement&&K&&(pr.style.transition="none",requestAnimationFrame(function(){pr.style.transition=""})),U=Zu.placement,K=ut.state.isVisible;var hu=Cx(yt),qu=pr.style;qu.top=qu.bottom=qu.left=qu.right="",qu[hu]=function _W(t){return-(t-10)+"px"}(ut.props.distance);var Ys=uh&&void 0!==uh.padding?uh.padding:hx,lf="number"==typeof Ys,uf=js({top:lf?Ys:Ys.top,bottom:lf?Ys:Ys.bottom,left:lf?Ys:Ys.left,right:lf?Ys:Ys.right},!lf&&Ys);uf[hu]=lf?Ys+ut.props.distance:(Ys[hu]||0)+ut.props.distance,ut.popperInstance.modifiers.filter(function(nw){return"preventOverflow"===nw.name})[0].padding=uf,nt=uf}var cy=js({eventsEnabled:!1,placement:ut.props.placement},Lt,{modifiers:js({},Lt?Lt.modifiers:{},{preventOverflow:js({boundariesElement:ut.props.boundary,padding:hx},uh),arrow:js({element:No,enabled:!!No},F0(Lt,"arrow")),flip:js({enabled:ut.props.flip,padding:ut.props.distance+hx,behavior:ut.props.flipBehavior},F0(Lt,"flip")),offset:js({offset:ut.props.offset},F0(Lt,"offset"))}),onCreate:function(hu){Cp(hu),im(),Lt&&Lt.onCreate&&Lt.onCreate(hu)},onUpdate:function(hu){Cp(hu),im(),Lt&&Lt.onUpdate&&Lt.onUpdate(hu)}});ut.popperInstance=new Kj(t,yt,cy)}function ew(Lt,ir){if(tw(),!ut.state.isVisible){if(ut.props.target)return function qc(Lt){if(Lt){var ir=k0(Lt.target,ut.props.target);ir&&!ir._tippy&&pR(ir,js({},ut.props,{content:yx(n.content,[ir]),appendTo:n.appendTo,target:"",showOnInit:!0}))}}(Lt);if(_=!0,Lt&&!ir&&ut.props.onTrigger(ut,Lt),ut.props.wait)return ut.props.wait(ut,Lt);rm()&&!ut.state.isMounted&&(ut.popperInstance||J0(),document.addEventListener("mousemove",Ua)),sy();var pr=L0(ut.props.delay,0,Yc.delay);pr?s=setTimeout(function(){$x()},pr):$x()}}function _p(){if(tw(),!ut.state.isVisible)return Ws(),void lh();_=!1;var Lt=L0(ut.props.delay,1,Yc.delay);Lt?c=setTimeout(function(){ut.state.isVisible&&uy()},Lt):m=requestAnimationFrame(function(){uy()})}function _k(Lt){ut.props.interactive&&yt.contains(Lt.target)||ra().contains(Lt.target)&&(ah||ut.state.isVisible&&vx(ut.props.trigger,"click"))||!0===ut.props.hideOnClick&&(tw(),uy())}function tw(){clearTimeout(s),clearTimeout(c),cancelAnimationFrame(m)}function Ck(Lt){lR(Lt=Lt||{},Yc),Fl();var ir=ut.props,pr=sR(t,js({},ut.props,{},Lt,{ignoreAttributes:!0}));pr.ignoreAttributes=P0(Lt,"ignoreAttributes")?Lt.ignoreAttributes||!1:ir.ignoreAttributes,ut.props=pr,ia(),cl(),gt=nR(ly,pr.interactiveDebounce),function yW(t,n,e){var r=bx(t),i=r.tooltip,s=r.content,c=r.backdrop,m=r.arrow;t.style.zIndex=""+e.zIndex,i.setAttribute("data-size",e.size),i.setAttribute("data-animation",e.animation),i.style.maxWidth=e.maxWidth+("number"==typeof e.maxWidth?"px":""),e.role?t.setAttribute("role",e.role):t.removeAttribute("role"),n.content!==e.content&&cR(s,e),!n.animateFill&&e.animateFill?(i.appendChild(fR()),i.setAttribute("data-animatefill","")):n.animateFill&&!e.animateFill&&(i.removeChild(c),i.removeAttribute("data-animatefill")),!n.arrow&&e.arrow?i.appendChild(wx(e.arrowType)):n.arrow&&!e.arrow&&i.removeChild(m),n.arrow&&e.arrow&&n.arrowType!==e.arrowType&&i.replaceChild(wx(e.arrowType),m),!n.interactive&&e.interactive?hR(t,i):n.interactive&&!e.interactive&&function gW(t,n){t.removeAttribute("tabindex"),n.removeAttribute("data-interactive")}(t,i),!n.inertia&&e.inertia?dR(i):n.inertia&&!e.inertia&&function pW(t){t.removeAttribute("data-inertia")}(i),n.theme!==e.theme&&(Ex(i,"remove",n.theme),Ex(i,"add",e.theme))}(yt,ir,pr),ut.popperChildren=bx(yt),ut.popperInstance&&(Qj.some(function(No){return P0(Lt,No)&&Lt[No]!==ir[No]})?(ut.popperInstance.destroy(),J0(),ut.state.isVisible&&ut.popperInstance.enableEventListeners(),ut.props.followCursor&&i&&Ua(i)):ut.popperInstance.update())}function $x(){var Lt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L0(ut.props.duration,0,Yc.duration[1]);if(!ut.state.isDestroyed&&ut.state.isEnabled&&(!ah||ut.props.touch)&&!ra().hasAttribute("disabled")&&!1!==ut.props.onShow(ut)){sy(),yt.style.visibility="visible",ut.state.isVisible=!0,ut.props.interactive&&ra().classList.add(YO);var ir=Zc();Kv(ir.concat(yt),0),be=function(){if(ut.state.isVisible){var No=rm();No&&i?Ua(i):No||ut.popperInstance.update(),ut.popperChildren.backdrop&&(ut.popperChildren.content.style.transitionDelay=Math.round(Lt/12)+"ms"),ut.props.sticky&&function q0(){Kv([yt],GO?0:ut.props.updateDuration);var Lt=t.getBoundingClientRect();!function ir(){var pr=t.getBoundingClientRect();(Lt.top!==pr.top||Lt.right!==pr.right||Lt.bottom!==pr.bottom||Lt.left!==pr.left)&&ut.popperInstance.scheduleUpdate(),Lt=pr,ut.state.isMounted&&requestAnimationFrame(ir)}()}(),Kv([yt],ut.props.updateDuration),Kv(ir,Lt),aR(ir,"visible"),function Un(Lt,ir){Qn(Lt,ir)}(Lt,function(){ut.props.aria&&ra().setAttribute("aria-".concat(ut.props.aria),yt.id),ut.props.onShown(ut),ut.state.isShown=!0})}},function mY(){ge=!1;var Lt=rm();ut.popperInstance?(oR(ut.popperInstance.modifiers,ut.props.flip),Lt||(ut.popperInstance.reference=t,ut.popperInstance.enableEventListeners()),ut.popperInstance.scheduleUpdate()):(J0(),Lt||ut.popperInstance.enableEventListeners());var ir=ut.props.appendTo,pr="parent"===ir?t.parentNode:yx(ir,[t]);pr.contains(yt)||(pr.appendChild(yt),ut.props.onMount(ut),ut.state.isMounted=!0)}()}}function uy(){var Lt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L0(ut.props.duration,1,Yc.duration[1]);if(!ut.state.isDestroyed&&(ut.state.isEnabled||R)&&(!1!==ut.props.onHide(ut)||R)){lh(),yt.style.visibility="hidden",ut.state.isVisible=!1,ut.state.isShown=!1,K=!1,ut.props.interactive&&ra().classList.remove(YO);var ir=Zc();Kv(ir,Lt),aR(ir,"hidden"),function Mn(Lt,ir){Qn(Lt,function(){!ut.state.isVisible&&yt.parentNode&&yt.parentNode.contains(yt)&&ir()})}(Lt,function(){_||Ws(),ut.props.aria&&ra().removeAttribute("aria-".concat(ut.props.aria)),ut.popperInstance.disableEventListeners(),ut.popperInstance.options.placement=ut.props.placement,yt.parentNode.removeChild(yt),ut.props.onHidden(ut),ut.state.isMounted=!1})}}}var gR=!1;function mp(t,n){lR(n||{},Yc),gR||(function aW(){document.addEventListener("touchstart",iW,fx),window.addEventListener("blur",oW)}(),gR=!0);var e=js({},Yc,{},n);(function cW(t){return"[object Object]"==={}.toString.call(t)&&!t.addEventListener})(t)&&function uW(t){var n={isVirtual:!0,attributes:t.attributes||{},contains:function(){},setAttribute:function(i,s){t.attributes[i]=s},getAttribute:function(i){return t.attributes[i]},removeAttribute:function(i){delete t.attributes[i]},hasAttribute:function(i){return i in t.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(i){t.classList.classNames[i]=!0},remove:function(i){delete t.classList.classNames[i]},contains:function(i){return i in t.classList.classNames}}};for(var e in n)t[e]=n[e]}(t);var r=function fW(t){if(rR(t))return[t];if(t instanceof NodeList)return $v(t);if(Array.isArray(t))return t;try{return $v(document.querySelectorAll(t))}catch{return[]}}(t).reduce(function(i,s){var c=s&&pR(s,e);return c&&i.push(c),i},[]);return rR(t)?r[0]:r}mp.version="4.3.5",mp.defaults=Yc,mp.setDefaults=function(t){Object.keys(t).forEach(function(n){Yc[n]=t[n]})},mp.hideAll=function bW(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.exclude,e=t.duration;$v(document.querySelectorAll(mx)).forEach(function(r){var i=r._tippy;if(i){var s=!1;n&&(s=function dW(t){return!!t._tippy&&!cx.call(t,mx)}(n)?i.reference===n:r===n.popper),s||i.hide(e)}})},mp.group=function EW(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.delay,r=void 0===e?t[0].props.delay:e,i=n.duration,s=void 0===i?0:i,c=!1;function m(ge){c=ge,K()}function _(ge){ge._originalProps.onShow(ge),t.forEach(function(be){be.set({duration:s}),be.state.isVisible&&be.hide()}),m(!0)}function R(ge){ge._originalProps.onHide(ge),m(!1)}function U(ge){ge._originalProps.onShown(ge),ge.set({duration:ge._originalProps.duration})}function K(){t.forEach(function(ge){ge.set({onShow:_,onShown:U,onHide:R,delay:c?[0,Array.isArray(r)?r[1]:r]:r,duration:c?s:ge._originalProps.duration})})}t.forEach(function(ge){ge._originalProps?ge.set(ge._originalProps):ge._originalProps=js({},ge.props)}),K()},jv&&setTimeout(function xW(){$v(document.querySelectorAll("[data-tippy]")).forEach(function(t){var n=t.getAttribute("data-tippy");n&&mp(t,{content:n})})}),function DW(t){if(jv){var n=document.createElement("style");n.type="text/css",n.textContent=t,n.setAttribute("data-tippy-stylesheet","");var e=document.head,r=e.querySelector("style,link");r?e.insertBefore(n,r):e.appendChild(n)}}('.tippy-iOS{cursor:pointer!important;-webkit-tap-highlight-color:transparent}.tippy-popper{transition-timing-function:cubic-bezier(.165,.84,.44,1);max-width:calc(100% - 8px);pointer-events:none;outline:0}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-7px;bottom:-6.5px;-webkit-transform-origin:50% 0;transform-origin:50% 0;margin:0 3px}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 3px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(-10px);transform:perspective(700px) translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(60deg);transform:perspective(700px) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=top] [data-animation=scale]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px) scale(.5);transform:translateY(-10px) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-7px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;margin:0 3px}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(10px);transform:perspective(700px) translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(-60deg);transform:perspective(700px) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=scale]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px) scale(.5);transform:translateY(10px) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-12px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%;margin:3px 0}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(-10px);transform:perspective(700px) translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(-60deg);transform:perspective(700px) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=left] [data-animation=scale]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px) scale(.5);transform:translateX(-10px) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-12px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%;margin:3px 0}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(10px);transform:perspective(700px) translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(60deg);transform:perspective(700px) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=right] [data-animation=scale]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px) scale(.5);transform:translateX(10px) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:.25rem;font-size:.875rem;padding:.3125rem .5625rem;line-height:1.4;text-align:center;background-color:#333}.tippy-tooltip[data-size=small]{padding:.1875rem .375rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.375rem .75rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:initial}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] .tippy-roundarrow path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:18px;height:7px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}');const Zv=mp;var SW=D(6827),TW=D.n(SW);Gs().use(TW()),Gs().use(A0());const MW=[{selector:'node[node_type="input"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="cnode"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="annotation"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="proj"]',style:{width:3,"line-color":"#ccc","line-style":"dashed","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:"edge[label]",style:{label:"data(label)","text-rotation":"autorotate","text-margin-x":15,"text-margin-y":0}}],IW=[{selector:'node[color="yellow"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="red"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="blue"]',style:{content:"data(id)",color:"back",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="green"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="orange"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"orange white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'edge[edge_type="default"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="external"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","line-style":"dashed","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="parent"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}];let AW=(()=>{class t{ngAfterViewInit(){"liger"==this.graphStyle?(this.styleArray=MW,this.layout="dagre"):"glue"==this.graphStyle&&(this.styleArray=IW,this.layout="cise"),this.cy=Gs()({container:document.getElementById(this.graphID),style:this.styleArray,layout:{name:this.layout}})}renderGraph(e){this.cy=Gs()({container:document.getElementById(this.graphID),elements:e,style:this.styleArray,layout:{name:this.layout}}),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy),"liger"==this.graphStyle?this.createAndBindLigerPoppers():"glue"==this.graphStyle&&this.createAndBindGswbPoppers()}makeLigerPopper(e){const r=e.popperRef();e.tippy=Zv(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;if(s.hasOwnProperty("avp"))for(var c in s.avp)i.innerHTML=i.innerHTML+c+" : "+s.avp[c]+"<br>";return i},trigger:"manual"})}createAndBindLigerPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("avp")&&(this.makeLigerPopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}makeGswbPopper(e){const r=e.popperRef();e.tippy=Zv(r,{content:()=>{let i=document.createElement("div");i.style.backgroundColor="black";var s=e._private.data;if(s.hasOwnProperty("solutions"))for(var c of s.solutions)i.innerHTML=i.innerHTML+c+"<br>";return i},trigger:"manual"})}createAndBindGswbPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("solutions")&&(this.makeGswbPopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-sub-graph"]],inputs:{graphStyle:"graphStyle",graphID:"graphID"},decls:2,vars:1,consts:[[1,"cy",3,"id"]],template:function(e,r){1&e&&(st(0,"div"),Fn(1,"div",0),it()),2&e&&(ln(1),cn("id",r.graphID))},styles:["div.cy[_ngcontent-%COMP%]{width:800px;height:600px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const NW=["subgraphVis"],OW=["subGraphDialog"];let xx=(()=>{class t{setContent(e){console.log(e),setTimeout(()=>{this.subgraphVis.renderGraph(e)},0)}showDialog(){this.subGraphDialog.nativeElement.show()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-sub-graph-dialog"]],viewQuery:function(e,r){if(1&e&&(Yn(NW,5),Yn(OW,5)),2&e){let i;Rn(i=kn())&&(r.subgraphVis=i.first),Rn(i=kn())&&(r.subGraphDialog=i.first)}},inputs:{subgraphID:"subgraphID",subgraphStyle:"subgraphStyle"},decls:7,vars:2,consts:[[1,"center-dialog"],["subGraphDialog",""],[3,"graphID","graphStyle"],["subgraphVis",""],[3,"click"]],template:function(e,r){if(1&e){const i=Ol();st(0,"dialog",0,1)(2,"div"),Fn(3,"app-sub-graph",2,3),it(),st(5,"button",4),Tn("click",function(){return Zn(i),eo(sl(1).close())}),Nt(6," OK "),it()()}2&e&&(ln(3),cn("graphID",r.subgraphID)("graphStyle",r.subgraphStyle))},dependencies:[AW],styles:[".center-dialog[_ngcontent-%COMP%]{position:fixed;z-index:9999;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),t})();const RW=["graphContainer"],kW=["subgraphDialog"];Gs().use(A0());const mR=[{selector:'node[color="yellow"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="red"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="blue"]',style:{content:"data(id)",color:"back",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="green"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="orange"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"orange white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="parent"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}];let vR=(()=>{class t{constructor(){this.defaultWidth="800px",this.defaultHeight="600px"}ngAfterViewInit(){this.cy=Gs()({container:document.getElementById(this.graphID),style:mR,layout:{name:"dagre"}})}handleNodeDoubleClick(e,r){console.log("Clicked node with id: ",e),setTimeout(()=>{this.subgraphDialog.setContent(r.graphElements)},0),setTimeout(()=>{this.subgraphDialog.showDialog()},0)}renderGraph(e){this.cy=Gs()({container:document.getElementById(this.graphID),elements:e,style:mR,layout:{name:"dagre"}}),this.createAndBindPoppers(),this.cy.on("dblclick","node",r=>{let i=r.target,s=i.id(),c=i.data();console.log(c),c.hasOwnProperty("subgraph")&&this.handleNodeDoubleClick(s,c.subgraph)})}makePopper(e){const r=e.popperRef();e.tippy=Zv(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;if(s.hasOwnProperty("solutions"))for(var c of s.solutions)i.innerHTML=i.innerHTML+c+"<br>";return i},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("solutions")&&(this.makePopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}resizeToDefault(){const e=this.graphContainer.nativeElement;e.style.width=this.defaultWidth,e.style.height=this.defaultHeight}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-gswb-graph-vis"]],viewQuery:function(e,r){if(1&e&&(Yn(RW,5),Yn(kW,5)),2&e){let i;Rn(i=kn())&&(r.graphContainer=i.first),Rn(i=kn())&&(r.subgraphDialog=i.first)}},inputs:{graphID:"graphID"},decls:7,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[1,"resize",3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(e,r){1&e&&(st(0,"div"),Fn(1,"div",0,1),st(3,"button",2),Tn("click",function(){return r.resizeToDefault()}),Nt(4,"Resize to Default"),it(),Fn(5,"app-sub-graph-dialog",3,4),it()),2&e&&(ln(1),cn("id",r.graphID),ln(4),cn("subgraphID","sub"+r.graphID)("subgraphStyle","glue"))},dependencies:[xx],styles:["div.cy[_ngcontent-%COMP%]{width:760px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const PW=["editorVis"],LW=["graphVis"];function FW(t,n){1&t&&(st(0,"div",1),Fn(1,"app-editor",2,3),it()),2&t&&(ln(1),cn("mode","glue"))}function BW(t,n){1&t&&(st(0,"div",1),Fn(1,"app-gswb-graph-vis",4,5),it()),2&t&&(ln(1),cn("graphID","gswbCy1"))}let VW=(()=>{class t{ngAfterViewInit(){this.showEditor=!1,this.showGraph=!1}editorVisUpdateContent(e){console.log(this.editorVis),this.editorVis.updateContent(e)}graphVisUpdateContent(e){console.log(this.graphVis),this.graphVis.renderGraph(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-derivation-container"]],viewQuery:function(e,r){if(1&e&&(Yn(PW,5),Yn(LW,5)),2&e){let i;Rn(i=kn())&&(r.editorVis=i.first),Rn(i=kn())&&(r.graphVis=i.first)}},decls:4,vars:2,consts:[["class","viscontainer",4,"ngIf"],[1,"viscontainer"],[3,"mode"],["editorVis",""],[3,"graphID"],["graphVis",""]],template:function(e,r){1&e&&(st(0,"h3"),Nt(1,"Derivation:"),it(),ti(2,FW,3,1,"div",0),ti(3,BW,3,1,"div",0)),2&e&&(ln(2),cn("ngIf",r.showEditor),ln(1),cn("ngIf",r.showGraph))},dependencies:[Hc,Hv,vR],styles:["div.viscontainer[_ngcontent-%COMP%]{max-width:800px}"]}),t})();const HW=["dialog"],zW=["graphVis"],UW=["editorVis"];function GW(t,n){1&t&&(st(0,"div"),Fn(1,"app-editor",4,5),it()),2&t&&(ln(1),cn("mode","glue"))}function jW(t,n){1&t&&(st(0,"div"),Fn(1,"app-gswb-graph-vis",6,7),it()),2&t&&(ln(1),cn("graphID","gswbCy2"))}let WW=(()=>{class t{ngAfterViewInit(){this.showEdit=!1,this.showGraph=!1}setContent(e){console.log(e),"string"==typeof e||e instanceof String?(this.showGraph=!1,this.showEdit=!0,e=e.toString(),setTimeout(()=>{this.editorVis.updateContent(e)},0)):(this.showGraph=!0,this.showEdit=!1,setTimeout(()=>{this.graphVis.renderGraph(e)},0))}showDialog(){this.dialog.nativeElement.show()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-dialog"]],viewQuery:function(e,r){if(1&e&&(Yn(HW,5),Yn(zW,5),Yn(UW,5)),2&e){let i;Rn(i=kn())&&(r.dialog=i.first),Rn(i=kn())&&(r.graphVis=i.first),Rn(i=kn())&&(r.editorVis=i.first)}},decls:10,vars:2,consts:[[1,"center-dialog"],["dialog",""],[4,"ngIf"],[3,"click"],[3,"mode"],["editorVis",""],[3,"graphID"],["graphVis",""]],template:function(e,r){if(1&e){const i=Ol();st(0,"dialog",0,1)(2,"h3"),Nt(3,"Derivation:"),it(),ti(4,GW,3,1,"div",2),ti(5,jW,3,1,"div",2),st(6,"button",3),Tn("click",function(){return Zn(i),eo(sl(1).close())}),Nt(7," OK "),it()(),st(8,"button",3),Tn("click",function(){return r.showDialog()}),Nt(9,"Open in new window"),it()}2&e&&(ln(4),cn("ngIf",r.showEdit),ln(1),cn("ngIf",r.showGraph))},dependencies:[Hc,Hv,vR],styles:[".center-dialog[_ngcontent-%COMP%]{position:fixed;z-index:9999;top:50%;left:50%;transform:translate(-50%,-50%);min-width:800px;max-width:100vw}dialog[_ngcontent-%COMP%]{max-width:100vw}div[_ngcontent-%COMP%]{max-width:100%}"]}),t})(),Dx=(()=>{class t{constructor(e){this.fb=e,this.gswbPreferences={prover:0,debugging:!1,outputstyle:0,parseSem:!1,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:!1,naturalDeductionStyle:0},this.gswbPreferencesForm=this.fb.group({prover:[0,rE.required],outputstyle:[0,rE.required],parseSem:[!1],explain:[!1],debugging:[!1],ndstyle:[0,rE.required]})}onSubmit(){const e={prover:this.gswbPreferencesForm.value.prover,outputstyle:this.gswbPreferencesForm.value.outputstyle,parseSem:this.gswbPreferencesForm.value.parseSem,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:this.gswbPreferencesForm.value.explain,debugging:this.gswbPreferencesForm.value.debugging,naturalDeductionStyle:this.gswbPreferencesForm.value.ndstyle};console.log("Gswb preferences: ",e),this.gswbPreferences=e}}return t.\u0275fac=function(e){return new(e||t)(We(OU))},t.\u0275cmp=Or({type:t,selectors:[["app-gswb-settings"]],decls:49,vars:1,consts:[["novalidate","",3,"formGroup","ngSubmit"],["for","prover"],["formControlName","prover","id","prover","name","prover"],["value","0"],["value","1"],["value","2"],["value","3"],["for","outputstyle"],["formControlName","outputstyle","id","outputstyle","name","outputstyle"],["value","4"],["for","parseSem"],["type","checkbox","formControlName","parseSem","id","parseSem","name","parseSem"],["for","explain"],["type","checkbox","formControlName","explain","id","explain","name","explain"],["for","debugging"],["type","checkbox","formControlName","debugging","id","debugging","name","debugging"],["for","ndstyle"],["formControlName","ndstyle","id","ndstyle","name","ndstyle"]],template:function(e,r){1&e&&(st(0,"h3"),Nt(1,"Settings:"),it(),st(2,"form",0),Tn("ngSubmit",function(){return r.onSubmit()}),st(3,"div")(4,"label",1),Nt(5,"Prover:"),it(),st(6,"select",2)(7,"option",3),Nt(8,"Hepple"),it(),st(9,"option",4),Nt(10,"Lev"),it(),st(11,"option",5),Nt(12,"Lev optimized "),it(),st(13,"option",6),Nt(14,"Multi stage proving"),it()()(),st(15,"div")(16,"label",7),Nt(17,"Output Style:"),it(),st(18,"select",8)(19,"option",3),Nt(20,"Plain"),it(),st(21,"option",4),Nt(22,"Prolog"),it(),st(23,"option",6),Nt(24,"NLTK"),it(),st(25,"option",9),Nt(26,"Prolog DRT"),it()()(),st(27,"div")(28,"label",10),Fn(29,"input",11),Nt(30," Parse Semantics "),it()(),st(31,"div")(32,"label",12),Fn(33,"input",13),Nt(34," Explanation "),it()(),st(35,"div")(36,"label",14),Fn(37,"input",15),Nt(38," Debugging "),it()(),st(39,"div")(40,"label",16),Nt(41,"Natural deduction style:"),it(),st(42,"select",17)(43,"option",3),Nt(44,"Full semantics"),it(),st(45,"option",4),Nt(46,"Reduced semantics"),it(),st(47,"option",5),Nt(48,"No semantics"),it()()()()),2&e&&(ln(2),cn("formGroup",r.gswbPreferencesForm))},dependencies:[tN,uN,dN,nE,c0,xv,UA,u0,bE],styles:["form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}div[_ngcontent-%COMP%]{flex-basis:50%;margin-bottom:10px}label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:5px}select[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{width:auto;margin-right:5px}"]}),t})();const $W=["edit1"],YW=["derivation"],XW=["sem1"],KW=["log1"],ZW=["dialog"],qW=["gswbPrefs"];function QW(t,n){1&t&&(st(0,"span"),Nt(1,"Calculate semantics"),it())}function JW(t,n){1&t&&Fn(0,"span",11)}function e6(t,n){1&t&&(st(0,"span"),Nt(1,"Loading..."),it())}let t6=(()=>{class t{constructor(e){this.dataService=e,this.loading=!1}calculateSemantics(){this.loading=!0,this.gswbPreferences.onSubmit();const e={premises:this.editor1.getContent(),gswbPreferences:this.gswbPreferences.gswbPreferences};this.dataService.gswbDeduce(e).subscribe(r=>{if(this.loading=!1,r.hasOwnProperty("solutions"))if(r.solutions.length>0){r.solutions.forEach(s=>{console.log(s),this.sem.updateContent(s)});let i=r.solutions.join("\n");this.sem.updateContent(i)}else this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] No solutions found.");else this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] No solutions found.");if(r.hasOwnProperty("log")&&this.log.updateContent(r.log),r.hasOwnProperty("derivation")&&this.gswbPreferences.gswbPreferences.explainFail)if(console.log(r.derivation),r.derivation.hasOwnProperty("graphElements")){console.log(r.derivation.graphElements),this.derivationContainer.showEditor=!1,this.derivationContainer.showGraph=!0;const i=r.derivation.graphElements;setTimeout(()=>{this.derivationContainer.graphVisUpdateContent(i)},0),this.dialog.setContent(i)}else this.derivationContainer.showGraph=!1,this.derivationContainer.showEditor=!0,setTimeout(()=>{this.derivationContainer.editorVisUpdateContent(r.derivation.toString())},0),this.dialog.setContent(r.derivation.toString())},r=>{console.log("ERROR: ",r),this.loading=!1,this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] An error occurred."),console.log("Sent following request: ",e)})}}return t.\u0275fac=function(e){return new(e||t)(We($g))},t.\u0275cmp=Or({type:t,selectors:[["app-gswb-vis"]],viewQuery:function(e,r){if(1&e&&(Yn($W,5),Yn(YW,5),Yn(XW,5),Yn(KW,5),Yn(ZW,5),Yn(qW,5)),2&e){let i;Rn(i=kn())&&(r.editor1=i.first),Rn(i=kn())&&(r.derivationContainer=i.first),Rn(i=kn())&&(r.sem=i.first),Rn(i=kn())&&(r.log=i.first),Rn(i=kn())&&(r.dialog=i.first),Rn(i=kn())&&(r.gswbPreferences=i.first)}},decls:25,vars:6,consts:[[1,"editor-restr"],[3,"mode"],["edit1",""],["gswbPrefs",""],[3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["sem1",""],["log1",""],["derivation",""],["dialog",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,r){1&e&&(st(0,"h3"),Nt(1," Meaning constructors:\n"),it(),st(2,"div",0),Fn(3,"app-editor",1,2),it(),Fn(5,"app-gswb-settings",null,3),st(7,"button",4),Tn("click",function(){return r.calculateSemantics()}),ti(8,QW,2,0,"span",5),ti(9,JW,1,0,"span",6),ti(10,e6,2,0,"span",5),it(),st(11,"h3"),Nt(12," Semantics: "),it(),st(13,"div",0),Fn(14,"app-editor",1,7),it(),st(16,"h3"),Nt(17,"Log:"),it(),st(18,"div",0),Fn(19,"app-editor",1,8),it(),Fn(21,"app-derivation-container",null,9)(23,"app-dialog",null,10)),2&e&&(ln(3),cn("mode","glue"),ln(5),cn("ngIf",!r.loading),ln(1),cn("ngIf",r.loading),ln(1),cn("ngIf",r.loading),ln(4),cn("mode","glue"),ln(5),cn("mode","glue"))},dependencies:[Hc,Hv,VW,WW,Dx],styles:[".spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}"]}),t})(),n6=(()=>{class t{constructor(){this.delete=new lr,this.calculateFromRule=new lr}onDelete(){this.delete.emit(this.data)}calculate(){this.calculateFromRule.emit(this.data)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-rule-list-element"]],inputs:{data:"data"},outputs:{delete:"delete",calculateFromRule:"calculateFromRule"},decls:7,vars:3,consts:[[1,"rule"],[3,"ngModel","ngModelChange"],[3,"click"]],template:function(e,r){1&e&&(st(0,"div",0)(1,"textarea",1),Tn("ngModelChange",function(s){return r.data.rule.rule=s}),Nt(2," "),it(),st(3,"button",2),Tn("click",function(){return r.calculate()}),Nt(4),it(),st(5,"button",2),Tn("click",function(){return r.onDelete()}),Nt(6,"Delete"),it()()),2&e&&(ln(1),cn("ngModel",r.data.rule.rule),ln(3),h_(" Calculate graph at rule: ",r.data.rule.index," (line ",r.data.rule.lineNumber,") "))},dependencies:[Ug,xv,Ov],styles:["div.rule[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{width:100%;resize:none}"]}),t})();function r6(t,n){if(1&t){const e=Ol();st(0,"div",1)(1,"app-rule-list-element",2),Tn("delete",function(){const s=Zn(e).index;return eo(Wi().removeElement(s))})("calculateFromRule",function(i){return Zn(e),eo(Wi().calculateFromRuleList(i))}),it()()}if(2&t){const e=n.$implicit;ln(1),cn("data",e)}}let i6=(()=>{class t{constructor(){this.elements=[],this.delete=new lr,this.calculateFromRule=new lr}addElement(e){this.elements.push(e),console.log(e)}removeElement(e){e>=0&&e<this.elements.length&&this.elements.splice(e,1)}calculateFromRuleList(e){this.calculateFromRule.emit(e)}clearList(){this.elements=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-rule-list"]],outputs:{delete:"delete",calculateFromRule:"calculateFromRule"},decls:2,vars:1,consts:[["class","rule-container",4,"ngFor","ngForOf"],[1,"rule-container"],[3,"data","delete","calculateFromRule"]],template:function(e,r){1&e&&(st(0,"div"),ti(1,r6,2,1,"div",0),it()),2&e&&(ln(1),cn("ngForOf",r.elements))},dependencies:[av,n6],styles:["div[_ngcontent-%COMP%]{width:800px;border:2px solid #00a9e0;margin:5px;overflow:auto;box-sizing:border-box}div.rule-container[_ngcontent-%COMP%]{width:100%;column-gap:20px;padding:5px;border:2px solid #00a9e0;align-items:flex-start;box-sizing:border-box}"]}),t})();var o6=D(3848),yR=D.n(o6);const a6=["graphContainer"],s6=["subgraphDialog"];Gs().use(A0()),Gs().use(yR());const bR=[{selector:'node[node_type="input"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="cnode"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="annotation"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="proj"]',style:{width:3,"line-color":"#ccc","line-style":"dashed","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:"edge[label]",style:{label:"data(label)","text-rotation":"autorotate","text-margin-x":15,"text-margin-y":0}}];let l6=(()=>{class t{constructor(){this.nodesHidden=!1,this.selector='node[node_type="cnode"]',this.defaultWidth="800px",this.defaultHeight="600px"}ngOnInit(){this.cy=Gs()({container:document.getElementById("cy"),style:bR,layout:{name:"dagre"}})}makePopper(e){const r=e.popperRef();e.tippy=Zv(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;if(s.hasOwnProperty("avp"))for(var c in s.avp)i.innerHTML=i.innerHTML+c+" : "+s.avp[c]+"<br>";return i},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("avp")&&(this.makePopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}renderGraph(e){this.cy=Gs()({container:document.getElementById(this.graphID),elements:e,style:bR,layout:{name:"dagre"}}),this.createAndBindPoppers(),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy)}resizeToDefault(){const e=this.graphContainer.nativeElement;e.style.width=this.defaultWidth,e.style.height=this.defaultHeight}showDialog(){this.subgraphDialog.setContent(this.cy.data()),this.subgraphDialog.showDialog()}toggleNodes(){const e=this.cy.nodes(this.selector);this.cy.batch(()=>{e.style("display",this.nodesHidden?"element":"none"),this.nodesHidden=!this.nodesHidden})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-graph-vis"]],viewQuery:function(e,r){if(1&e&&(Yn(a6,5),Yn(s6,5)),2&e){let i;Rn(i=kn())&&(r.graphContainer=i.first),Rn(i=kn())&&(r.subgraphDialog=i.first)}},inputs:{graphID:"graphID"},decls:9,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(e,r){1&e&&(st(0,"div"),Fn(1,"div",0,1),st(3,"button",2),Tn("click",function(){return r.resizeToDefault()}),Nt(4,"Resize to Default"),it(),st(5,"button",2),Tn("click",function(){return r.toggleNodes()}),Nt(6,"Toggle c-structure"),it(),Fn(7,"app-sub-graph-dialog",3,4),it()),2&e&&(ln(1),cn("id",r.graphID),ln(6),cn("subgraphID","sub"+r.graphID)("subgraphStyle","liger"))},dependencies:[xx],styles:["div.cy[_ngcontent-%COMP%]{width:760px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const u6=["*"];let qv=(()=>{class t{constructor(e){this.hideComponentService=e,this.showText="Show Content",this.hideText="Hide Content",this.isHidden=!1}ngOnInit(){this.hideSubscription=this.hideComponentService.toggleObservable.subscribe(e=>{if(!e.type||e.type===this.type)switch(e.action){case Wu.Hide:this.isHidden=!0;break;case Wu.Show:this.isHidden=!1}})}ngOnDestroy(){this.hideSubscription.unsubscribe()}toggleDisplay(){this.isHidden=!this.isHidden}}return t.\u0275fac=function(e){return new(e||t)(We(cI))},t.\u0275cmp=Or({type:t,selectors:[["app-toggle-display"]],inputs:{type:"type",showText:"showText",hideText:"hideText"},ngContentSelectors:u6,decls:4,vars:3,consts:[[1,"hide-button",3,"click"]],template:function(e,r){1&e&&(wg(),st(0,"div"),_g(1),it(),st(2,"button",0),Tn("click",function(){return r.toggleDisplay()}),Nt(3),it()),2&e&&($m("display",r.isHidden?"none":"block"),ln(3),Xm(r.isHidden?r.showText:r.hideText))},encapsulation:2}),t})();class c6{}class f6{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(n=!1,e,r=!0,i){this._multiple=n,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Mt,e&&e.length&&(n?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(r=>this._markSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...n){this._verifyValueAssignment(n),n.forEach(r=>this._unmarkSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...n){this._verifyValueAssignment(n);const e=this.selected,r=new Set(n);n.forEach(s=>this._markSelected(s)),e.filter(s=>!r.has(s)).forEach(s=>this._unmarkSelected(s));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();const e=this._hasQueuedChanges();return n&&this._emitChangeEvent(),e}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(n){if(this.compareWith){for(let e of this._selection)if(this.compareWith(n,e))return e;return n}return n}}function Yu(t){return tt((n,e)=>{Oo(t).subscribe(ht(e,()=>e.complete(),H)),!e.closed&&n.subscribe(e)})}function ul(t){return null!=t&&"false"!=`${t}`}function sh(t,n=0){return function h6(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function wR(t){return Array.isArray(t)?t:[t]}function qg(t){return t instanceof ei?t.nativeElement:t}const p6=new Xt("cdk-dir-doc",{providedIn:"root",factory:function g6(){return en(Ei)}}),m6=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Qg=(()=>{class t{constructor(e){this.value="ltr",this.change=new lr,e&&(this.value=function v6(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?m6.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Pt(p6,8))},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({}),t})();class y6{constructor(){this.expansionModel=new f6(!0)}toggle(n){this.expansionModel.toggle(this._trackByValue(n))}expand(n){this.expansionModel.select(this._trackByValue(n))}collapse(n){this.expansionModel.deselect(this._trackByValue(n))}isExpanded(n){return this.expansionModel.isSelected(this._trackByValue(n))}toggleDescendants(n){this.expansionModel.isSelected(this._trackByValue(n))?this.collapseDescendants(n):this.expandDescendants(n)}collapseAll(){this.expansionModel.clear()}expandDescendants(n){let e=[n];e.push(...this.getDescendants(n)),this.expansionModel.select(...e.map(r=>this._trackByValue(r)))}collapseDescendants(n){let e=[n];e.push(...this.getDescendants(n)),this.expansionModel.deselect(...e.map(r=>this._trackByValue(r)))}_trackByValue(n){return this.trackBy?this.trackBy(n):n}}class b6 extends y6{constructor(n,e){super(),this.getChildren=n,this.options=e,this.options&&(this.trackBy=this.options.trackBy)}expandAll(){this.expansionModel.clear();const n=this.dataNodes.reduce((e,r)=>[...e,...this.getDescendants(r),r],[]);this.expansionModel.select(...n.map(e=>this._trackByValue(e)))}getDescendants(n){const e=[];return this._getDescendants(e,n),e.splice(1)}_getDescendants(n,e){n.push(e);const r=this.getChildren(e);Array.isArray(r)?r.forEach(i=>this._getDescendants(n,i)):Nb(r)&&r.pipe(zc(1),Rl(Boolean)).subscribe(i=>{for(const s of i)this._getDescendants(n,s)})}}const V0=new Xt("CDK_TREE_NODE_OUTLET_NODE");let Qv=(()=>{class t{constructor(e,r){this.viewContainer=e,this._node=r}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(V0,8))},t.\u0275dir=an({type:t,selectors:[["","cdkTreeNodeOutlet",""]]}),t})();class w6{constructor(n){this.$implicit=n}}let H0=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(We(Vs))},t.\u0275dir=an({type:t,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),t})(),sf=(()=>{class t{get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}constructor(e,r){this._differs=e,this._changeDetectorRef=r,this._onDestroy=new Mt,this._levels=new Map,this.viewChange=new un({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const e=this._nodeDefs.filter(r=>!r.when);this._defaultNodeDef=e[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let e;!function d6(t){return t&&"function"==typeof t.connect&&!(t instanceof RC)}(this._dataSource)?Nb(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=qe(this._dataSource)):e=this._dataSource.connect(this),e&&(this._dataSubscription=e.pipe(Yu(this._onDestroy)).subscribe(r=>this.renderNodeChanges(r)))}renderNodeChanges(e,r=this._dataDiffer,i=this._nodeOutlet.viewContainer,s){const c=r.diff(e);c&&(c.forEachOperation((m,_,R)=>{if(null==m.previousIndex)this.insertNode(e[R],R,i,s);else if(null==R)i.remove(_),this._levels.delete(m.item);else{const U=i.get(_);i.move(U,R)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(e,r){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(s=>s.when&&s.when(r,e))||this._defaultNodeDef}insertNode(e,r,i,s){const c=this._getNodeDef(e,r),m=new w6(e);m.level=this.treeControl.getLevel?this.treeControl.getLevel(e):typeof s<"u"&&this._levels.has(s)?this._levels.get(s)+1:0,this._levels.set(e,m.level),(i||this._nodeOutlet.viewContainer).createEmbeddedView(c.template,m,r),Xc.mostRecentTreeNode&&(Xc.mostRecentTreeNode.data=e)}}return t.\u0275fac=function(e){return new(e||t)(We(tp),We(zs))},t.\u0275cmp=Or({type:t,selectors:[["cdk-tree"]],contentQueries:function(e,r,i){if(1&e&&Yf(i,H0,5),2&e){let s;Rn(s=kn())&&(r._nodeDefs=s)}},viewQuery:function(e,r){if(1&e&&Yn(Qv,7),2&e){let i;Rn(i=kn())&&(r._nodeOutlet=i.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(e,r){1&e&&jm(0,0)},dependencies:[Qv],encapsulation:2}),t})(),Xc=(()=>{class t{get role(){return"treeitem"}set role(e){this._elementRef.nativeElement.setAttribute("role",e)}get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(e,r){this._elementRef=e,this._tree=r,this._destroyed=new Mt,this._dataChanges=new Mt,t.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function _6(t){let n=t.parentElement;for(;n&&!C6(n);)n=n.parentElement;return n?n.classList.contains("cdk-nested-tree-node")?sh(n.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){t.mostRecentTreeNode===this&&(t.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return t.mostRecentTreeNode=null,t.\u0275fac=function(e){return new(e||t)(We(ei),We(sf))},t.\u0275dir=an({type:t,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(e,r){2&e&&Es("aria-expanded",r.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),t})();function C6(t){const n=t.classList;return!(!n?.contains("cdk-nested-tree-node")&&!n?.contains("cdk-tree"))}let Ix,Sx=(()=>{class t extends Xc{constructor(e,r,i){super(e,r),this._differs=i}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);const e=this._tree.treeControl.getChildren(this.data);Array.isArray(e)?this.updateChildrenNodes(e):Nb(e)&&e.pipe(Yu(this._destroyed)).subscribe(r=>this.updateChildrenNodes(r)),this.nodeOutlet.changes.pipe(Yu(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(e){const r=this._getNodeOutlet();e&&(this._children=e),r&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,r.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const e=this._getNodeOutlet();e&&(e.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const e=this.nodeOutlet;return e&&e.find(r=>!r._node||r._node===this)}}return t.\u0275fac=function(e){return new(e||t)(We(ei),We(sf),We(tp))},t.\u0275dir=an({type:t,selectors:[["cdk-nested-tree-node"]],contentQueries:function(e,r,i){if(1&e&&Yf(i,Qv,5),2&e){let s;Rn(s=kn())&&(r.nodeOutlet=s)}},hostAttrs:[1,"cdk-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["cdkNestedTreeNode"],features:[Wr([{provide:Xc,useExisting:t},{provide:V0,useExisting:t}]),qn]}),t})(),Mx=(()=>{class t{get recursive(){return this._recursive}set recursive(e){this._recursive=ul(e)}constructor(e,r){this._tree=e,this._treeNode=r,this._recursive=!1}_toggle(e){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),e.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(We(sf),We(Xc))},t.\u0275dir=an({type:t,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(e,r){1&e&&Tn("click",function(s){return r._toggle(s)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),t})(),x6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({}),t})();try{Ix=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ix=!1}let Jv,Ax,Xu=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function u5(t){return t===BM}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ix)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Pt(Wf))},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ey(t){return function D6(){if(null==Jv&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Jv=!0}))}finally{Jv=Jv||!1}return Jv}()?t:!!t.capture}function em(t){return t.composedPath?t.composedPath()[0]:t.target}function ER(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class K6 extends C{constructor(n,e){super()}schedule(n,e=0){return this}}const U0={setInterval(t,n,...e){const{delegate:r}=U0;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=U0;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class Nx extends K6{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,e),this}requestAsyncId(n,e,r=0){return U0.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&U0.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i,r=!1;try{this.work(n)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,I(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const xR={now:()=>(xR.delegate||Date).now(),delegate:void 0};class ty{constructor(n,e=ty.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}ty.now=xR.now;class Ox extends ty{constructor(n,e=ty.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}const Rx=new Ox(Nx),Z6=Rx;function kx(t,n=Rx){return tt((e,r)=>{let i=null,s=null,c=null;const m=()=>{if(i){i.unsubscribe(),i=null;const R=s;s=null,r.next(R)}};function _(){const R=c+t,U=n.now();if(U<R)return i=this.schedule(void 0,R-U),void r.add(i);m()}e.subscribe(ht(r,R=>{s=R,c=n.now(),i||(i=n.schedule(_,t),r.add(i))},()=>{m(),r.complete()},void 0,()=>{s=i=null}))})}function Px(t){return Rl((n,e)=>t<=e)}let DR=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),q6=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=qg(e);return new Ye(i=>{const c=this._observeElement(r).subscribe(i);return()=>{c.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new Mt,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return t.\u0275fac=function(e){return new(e||t)(Pt(DR))},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Q6=(()=>{class t{get disabled(){return this._disabled}set disabled(e){this._disabled=ul(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=sh(e),this._subscribe()}constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new lr,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(kx(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(We(q6),We(ei),We($r))},t.\u0275dir=an({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),SR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({providers:[DR]}),t})();const TR=new Set;let yp,J6=(()=>{class t{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):t$}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function e$(t,n){if(!TR.has(t))try{yp||(yp=document.createElement("style"),n&&(yp.nonce=n),yp.setAttribute("type","text/css"),document.head.appendChild(yp)),yp.sheet&&(yp.sheet.insertRule(`@media ${t} {body{ }}`,0),TR.add(t))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}}return t.\u0275fac=function(e){return new(e||t)(Pt(Xu),Pt(Aw,8))},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function t$(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let n$=(()=>{class t{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new Mt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return MR(wR(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let s=Ob(MR(wR(e)).map(c=>this._registerQuery(c).observable));return s=kb(s.pipe(zc(1)),s.pipe(Px(1),kx(0))),s.pipe(Dt(c=>{const m={matches:!1,breakpoints:{}};return c.forEach(({matches:_,query:R})=>{m.matches=m.matches||_,m.breakpoints[R]=_}),m}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),s={observable:new Ye(c=>{const m=_=>this._zone.run(()=>c.next(_));return r.addListener(m),()=>{r.removeListener(m)}}).pipe(uv(r),Dt(({matches:c})=>({query:e,matches:c})),Yu(this._destroySubject)),mql:r};return this._queries.set(e,s),s}}return t.\u0275fac=function(e){return new(e||t)(Pt(J6),Pt($r))},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function MR(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}class o${constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Mt,this._typeaheadSubscription=C.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Mt,this.change=new Mt,n instanceof Tg&&(this._itemChangesSubscription=n.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Ta(e=>this._pressedLetters.push(e)),kx(n),Rl(()=>this._pressedLetters.length>0),Dt(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,c=r[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!n[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex+this._pageUpAndDown.delta,c=this._getItemsArray().length;this._setActiveItemByIndex(s<c?s:c-1,-1);break}return;default:return void((i||ER(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),r="number"==typeof n?n:e.indexOf(n);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+n*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const r=this._getItemsArray();if(r[n]){for(;this._skipPredicateFn(r[n]);)if(!r[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof Tg?this._items.toArray():this._items}}class a$ extends o${constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}function OR(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function RR(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const f$=new Xt("cdk-input-modality-detector-options"),h$={ignoreKeys:[18,17,224,91,16]},tm=ey({passive:!0,capture:!0});let p$=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(e,r,i,s){this._platform=e,this._mostRecentTarget=null,this._modality=new un(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(m=>m===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=em(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(OR(c)?"keyboard":"mouse"),this._mostRecentTarget=em(c))},this._onTouchstart=c=>{RR(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=em(c))},this._options={...h$,...s},this.modalityDetected=this._modality.pipe(Px(1)),this.modalityChanged=this.modalityDetected.pipe(Jt()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,tm),i.addEventListener("mousedown",this._onMousedown,tm),i.addEventListener("touchstart",this._onTouchstart,tm)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,tm),document.removeEventListener("mousedown",this._onMousedown,tm),document.removeEventListener("touchstart",this._onTouchstart,tm))}}return t.\u0275fac=function(e){return new(e||t)(Pt(Xu),Pt($r),Pt(Ei),Pt(f$,8))},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const m$=new Xt("cdk-focus-monitor-default-options"),G0=ey({passive:!0,capture:!0});let PR=(()=>{class t{constructor(e,r,i,s,c){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Mt,this._rootNodeFocusAndBlurListener=m=>{for(let R=em(m);R;R=R.parentElement)"focus"===m.type?this._onFocus(m,R):this._onBlur(m,R)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(e,r=!1){const i=qg(e);if(!this._platform.isBrowser||1!==i.nodeType)return qe();const s=function T6(t){if(function S6(){if(null==Ax){const t=typeof document<"u"?document.head:null;Ax=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Ax}()){const n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const m={checkChildren:r,subject:new Mt,rootNode:s};return this._elementInfo.set(i,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const r=qg(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const s=qg(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([m,_])=>this._originChanged(m,r,_)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),s=em(e);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,G0),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,G0)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Yu(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,G0),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,G0),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,s)=>{(s===e||i.checkChildren&&s.contains(e))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(r))return!0;return!1}}return t.\u0275fac=function(e){return new(e||t)(Pt($r),Pt(Xu),Pt(p$),Pt(Ei,8),Pt(m$,8))},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),v$=(()=>{class t{constructor(e,r){this._elementRef=e,this._focusMonitor=r,this._focusOrigin=null,this.cdkFocusChange=new lr}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(We(ei),We(PR))},t.\u0275dir=an({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),t})();const LR="cdk-high-contrast-black-on-white",FR="cdk-high-contrast-white-on-black",Lx="cdk-high-contrast-active";let BR=(()=>{class t{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=en(n$).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Lx,LR,FR),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(Lx,LR):2===r&&e.add(Lx,FR)}}}return t.\u0275fac=function(e){return new(e||t)(Pt(Xu),Pt(Ei))},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),y$=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(Pt(BR))},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({imports:[SR]}),t})();const w$=new Xt("mat-sanity-checks",{providedIn:"root",factory:function b$(){return!0}});let Kc=(()=>{class t{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function M6(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return t.\u0275fac=function(e){return new(e||t)(Pt(BR),Pt(w$,8),Pt(Ei))},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({imports:[_R,_R]}),t})();function j0(t){return class extends t{get disabled(){return this._disabled}set disabled(n){this._disabled=ul(n)}constructor(...n){super(...n),this._disabled=!1}}}function Fx(t,n){return class extends t{get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...e){super(...e),this.defaultColor=n,this.color=n}}}function zR(t){return class extends t{get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=ul(n)}constructor(...n){super(...n),this._disableRipple=!1}}}function _$(t,n=0){return class extends t{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?sh(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=n,this.defaultTabIndex=n}}}class E${constructor(n,e,r,i=!1){this._renderer=n,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const UR=ey({passive:!0,capture:!0});class x${constructor(){this._events=new Map,this._delegateEventHandler=n=>{const e=em(n);e&&this._events.get(n.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(s=>s.handleEvent(n))})}}addHandler(n,e,r,i){const s=this._events.get(e);if(s){const c=s.get(r);c?c.add(i):s.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,UR)})}removeHandler(n,e,r){const i=this._events.get(n);if(!i)return;const s=i.get(e);s&&(s.delete(r),0===s.size&&i.delete(e),0===i.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,UR)))}}const GR={enterDuration:225,exitDuration:150},jR=ey({passive:!0,capture:!0}),WR=["mousedown","touchstart"],$R=["mouseup","mouseleave","touchend","touchcancel"];class nm{constructor(n,e,r,i){this._target=n,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=qg(r))}fadeInRipple(n,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...GR,...r.animation};r.centered&&(n=i.left+i.width/2,e=i.top+i.height/2);const c=r.radius||function S$(t,n,e){const r=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),i=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(r*r+i*i)}(n,e,i),m=n-i.left,_=e-i.top,R=s.enterDuration,U=document.createElement("div");U.classList.add("mat-ripple-element"),U.style.left=m-c+"px",U.style.top=_-c+"px",U.style.height=2*c+"px",U.style.width=2*c+"px",null!=r.color&&(U.style.backgroundColor=r.color),U.style.transitionDuration=`${R}ms`,this._containerElement.appendChild(U);const K=window.getComputedStyle(U),be=K.transitionDuration,Ie="none"===K.transitionProperty||"0s"===be||"0s, 0s"===be||0===i.width&&0===i.height,Fe=new E$(this,U,r,Ie);U.style.transform="scale3d(1, 1, 1)",Fe.state=0,r.persistent||(this._mostRecentTransientRipple=Fe);let nt=null;return!Ie&&(R||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const gt=()=>this._finishRippleTransition(Fe),Qe=()=>this._destroyRipple(Fe);U.addEventListener("transitionend",gt),U.addEventListener("transitioncancel",Qe),nt={onTransitionEnd:gt,onTransitionCancel:Qe}}),this._activeRipples.set(Fe,nt),(Ie||!R)&&this._finishRippleTransition(Fe),Fe}fadeOutRipple(n){if(2===n.state||3===n.state)return;const e=n.element,r={...GR,...n.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=qg(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,WR.forEach(r=>{nm._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{$R.forEach(e=>{this._triggerElement.addEventListener(e,this,jR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const e=n===this._mostRecentTransientRipple,{persistent:r}=n.config;n.state=1,!r&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==e&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){const e=OR(n),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!RR(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(WR.forEach(e=>nm._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&$R.forEach(e=>n.removeEventListener(e,this,jR)))}}nm._eventManager=new x$;const YR=new Xt("mat-ripple-global-options");let Bx=(()=>{class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,i,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new nm(this,r,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return t.\u0275fac=function(e){return new(e||t)(We(ei),We($r),We(Xu),We(YR,8),We(Oc,8))},t.\u0275dir=an({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&Ha("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),t})(),XR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({imports:[Kc,Kc]}),t})();const T$=_$(j0(Xc));let KR=(()=>{class t extends T${constructor(e,r,i){super(e,r),this.tabIndex=Number(i)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(We(ei),We(sf),y("tabindex"))},t.\u0275dir=an({type:t,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[Wr([{provide:Xc,useExisting:t}]),qn]}),t})(),ZR=(()=>{class t extends H0{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=wi(t)))(r||t)}}(),t.\u0275dir=an({type:t,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[Wr([{provide:H0,useExisting:t}]),qn]}),t})(),qR=(()=>{class t extends Sx{get disabled(){return this._disabled}set disabled(e){this._disabled=ul(e)}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=e??0}constructor(e,r,i,s){super(e,r,i),this._disabled=!1,this.tabIndex=Number(s)||0}ngOnInit(){super.ngOnInit()}ngAfterContentInit(){super.ngAfterContentInit()}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(We(ei),We(sf),We(tp),y("tabindex"))},t.\u0275dir=an({type:t,selectors:[["mat-nested-tree-node"]],hostAttrs:[1,"mat-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex",node:["matNestedTreeNode","node"]},exportAs:["matNestedTreeNode"],features:[Wr([{provide:Sx,useExisting:t},{provide:Xc,useExisting:t},{provide:V0,useExisting:t}]),qn]}),t})(),W0=(()=>{class t{constructor(e,r){this.viewContainer=e,this._node=r}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(V0,8))},t.\u0275dir=an({type:t,selectors:[["","matTreeNodeOutlet",""]],features:[Wr([{provide:Qv,useExisting:t}])]}),t})(),QR=(()=>{class t extends sf{constructor(){super(...arguments),this._nodeOutlet=void 0}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=wi(t)))(r||t)}}(),t.\u0275cmp=Or({type:t,selectors:[["mat-tree"]],viewQuery:function(e,r){if(1&e&&Yn(W0,7),2&e){let i;Rn(i=kn())&&(r._nodeOutlet=i.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[Wr([{provide:sf,useExisting:t}]),qn],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(e,r){1&e&&jm(0,0)},dependencies:[W0],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2}),t})(),JR=(()=>{class t extends Mx{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=wi(t)))(r||t)}}(),t.\u0275dir=an({type:t,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[Wr([{provide:Mx,useExisting:t}]),qn]}),t})(),I$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({imports:[x6,Kc,Kc]}),t})();class A$ extends c6{constructor(){super(...arguments),this._data=new un([])}get data(){return this._data.value}set data(n){this._data.next(n)}connect(n){return et(n.viewChange,this._data).pipe(Dt(()=>this.data))}disconnect(){}}const N$=["*"];let $0;function ry(t){return function O$(){if(void 0===$0&&($0=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&($0=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return $0}()?.createHTML(t)||t}function ek(t){return Error(`Unable to find icon with the name "${t}"`)}function tk(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function nk(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class bp{constructor(n,e,r){this.url=n,this.svgText=e,this.options=r}}let Y0=(()=>{class t{constructor(e,r,i,s){this._httpClient=e,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,s){return this._addSvgIconConfig(e,r,new bp(i,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,s){const c=this._sanitizer.sanitize(fi.HTML,i);if(!c)throw nk(i);const m=ry(c);return this._addSvgIconConfig(e,r,new bp("",m,s))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new bp(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const s=this._sanitizer.sanitize(fi.HTML,r);if(!s)throw nk(r);const c=ry(s);return this._addSvgIconSetConfig(e,new bp("",c,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(fi.RESOURCE_URL,e);if(!r)throw tk(e);const i=this._cachedIconsByUrl.get(r);return i?qe(X0(i)):this._loadSvgIconFromConfig(new bp(e,null)).pipe(Ta(s=>this._cachedIconsByUrl.set(r,s)),Dt(s=>X0(s)))}getNamedSvgIcon(e,r=""){const i=rk(r,e);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,e),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(e,c):Ng(ek(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?qe(X0(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Dt(r=>X0(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?qe(i):vA(r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(qf(m=>{const R=`Loading icon set URL: ${this._sanitizer.sanitize(fi.RESOURCE_URL,c.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(R)),qe(null)})))).pipe(Dt(()=>{const c=this._extractIconWithNameFromAnySet(e,r);if(!c)throw ek(e);return c}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),m=this._extractSvgIconFromSet(c,e,s.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Ta(r=>e.svgText=r),Dt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?qe(null):this._fetchIcon(e).pipe(Ta(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const s=e.querySelector(`[id="${r}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,i);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),i);const m=this._svgElementFromString(ry("<svg></svg>"));return m.appendChild(c),this._setSvgAttributes(m,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(ry("<svg></svg>")),i=e.attributes;for(let s=0;s<i.length;s++){const{name:c,value:m}=i[s];"id"!==c&&r.setAttribute(c,m)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,s=i?.withCredentials??!1;if(!this._httpClient)throw function R$(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const c=this._sanitizer.sanitize(fi.RESOURCE_URL,r);if(!c)throw tk(r);const m=this._inProgressUrlFetches.get(c);if(m)return m;const _=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe(Dt(R=>ry(R)),Rg(()=>this._inProgressUrlFetches.delete(c)),Zt());return this._inProgressUrlFetches.set(c,_),_}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(rk(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,e);if(s)return P$(s)?new bp(s.url,null,s.options):new bp(s,null)}}}return t.\u0275fac=function(e){return new(e||t)(Pt(p0,8),Pt(Ab),Pt(Ei,8),Pt(Rc))},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function X0(t){return t.cloneNode(!0)}function rk(t,n){return t+":"+n}function P$(t){return!(!t.url||!t.options)}const L$=Fx(class{constructor(t){this._elementRef=t}}),F$=new Xt("MAT_ICON_DEFAULT_OPTIONS"),B$=new Xt("mat-icon-location",{providedIn:"root",factory:function V$(){const t=en(Ei),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),ik=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],H$=ik.map(t=>`[${t}]`).join(", "),z$=/^url\(['"]?#(.*?)['"]?\)$/;let U$=(()=>{class t extends L${get inline(){return this._inline}set inline(e){this._inline=ul(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,i,s,c,m){super(e),this._iconRegistry=r,this._location=s,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=C.EMPTY,m&&(m.color&&(this.color=this.defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(H$),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)ik.forEach(c=>{const m=r[s],_=m.getAttribute(c),R=_?_.match(z$):null;if(R){let U=i.get(m);U||(U=[],i.set(m,U)),U.push({name:c,value:R[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(zc(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(We(ei),We(Y0),y("aria-hidden"),We(B$),We(Rc),We(F$,8))},t.\u0275cmp=Or({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,r){2&e&&(Es("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ha("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[qn],ngContentSelectors:N$,decls:1,vars:0,template:function(e,r){1&e&&(wg(),_g(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),t})(),G$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({imports:[Kc,Kc]}),t})();const W$=["mat-icon-button",""],$$=["*"],ok={capture:!0},ak=["focus","click","mouseenter","touchstart"],iy="mat-button-ripple-uninitialized";let Y$=(()=>{class t{constructor(){this._document=en(Ei,{optional:!0}),this._animationMode=en(Oc,{optional:!0}),this._globalRippleOptions=en(YR,{optional:!0}),this._platform=en(Xu),this._ngZone=en($r),this._onInteraction=e=>{if(e.target===this._document)return;const i=e.target.closest(`[${iy}]`);i&&(i.removeAttribute(iy),this._appendRipple(i))},this._ngZone.runOutsideAngular(()=>{for(const e of ak)this._document?.addEventListener(e,this._onInteraction,ok)})}ngOnDestroy(){for(const e of ak)this._document?.removeEventListener(e,this._onInteraction,ok)}_appendRipple(e){if(!this._document)return;const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new X$(e,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);i.rippleConfig.centered=e.hasAttribute("mat-icon-button"),new nm(i,this._ngZone,r,this._platform).setupTriggerEvents(e),e.append(r)}_createMatRipple(e){if(!this._document)return;e.querySelector(".mat-mdc-button-ripple")?.remove(),e.removeAttribute(iy);const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new Bx(new ei(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return i._isInitialized=!0,i.trigger=e,e.append(r),i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class X${constructor(n,e,r){this._button=n,this._globalRippleOptions=e,this._setRippleConfig(e,r)}_setRippleConfig(n,e){this.rippleConfig=n||{},"NoopAnimations"===e&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const K$=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Z$=Fx(j0(zR(class{constructor(t){this._elementRef=t}})));let q$=(()=>{class t extends Z${get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(e){this._ripple=e}constructor(e,r,i,s){super(e),this._platform=r,this._ngZone=i,this._animationMode=s,this._focusMonitor=en(PR),this._rippleLoader=en(Y$),this._isFab=!1;const c=e.nativeElement.classList;for(const m of K$)this._hasHostAttributes(m.selector)&&m.mdcClasses.forEach(_=>{c.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...e){return e.some(r=>this._elementRef.nativeElement.hasAttribute(r))}}return t.\u0275fac=function(e){Gw()},t.\u0275dir=an({type:t,features:[qn,wa]}),t})(),e9=(()=>{class t extends q${get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(e,r,i,s){super(e,r,i,s)}}return t.\u0275fac=function(e){return new(e||t)(We(ei),We(Xu),We($r),We(Oc,8))},t.\u0275cmp=Or({type:t,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,r){2&e&&(Es("disabled",r.disabled||null),Ha("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[qn],attrs:W$,ngContentSelectors:$$,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(wg(),Fn(0,"span",0),_g(1),Fn(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),t})(),t9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({imports:[Kc,XR,Kc]}),t})();const n9=function(){return{border:"none","padding-left":"10px"}};function r9(t,n){1&t&&(st(0,"ul",7),jm(1,8),it()),2&t&&cn("ngStyle",lb(1,n9))}const i9=function(){return{border:"2px solid #00a9e0","border-radius":"5px","padding-left":"10px","margin-bottom":"10px",width:"100%"}};function o9(t,n){if(1&t&&(st(0,"mat-nested-tree-node")(1,"li",3)(2,"div",4)(3,"button",5)(4,"mat-icon"),Nt(5),it()(),Nt(6),it(),ti(7,r9,2,2,"ul",6),it()()),2&t){const e=n.$implicit,r=Wi();ln(1),cn("ngStyle",lb(4,i9)),ln(4),Bc(" ",r.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),ln(1),Bc(" ",e.name," "),ln(1),cn("ngIf",r.treeControl.isExpanded(e))}}const a9=function(t){return{selected:t}},s9=function(){return{"padding-left":"10px","padding-right":"10px",width:"100%"}};function l9(t,n){if(1&t){const e=Ol();st(0,"mat-tree-node")(1,"li",9),Tn("dblclick",function(){const s=Zn(e).$implicit;return eo(Wi().onNodeDoubleClick(s))}),st(2,"div",10),Tn("click",function(){const s=Zn(e).$implicit;return eo(Wi().onNodeSelect(s))}),Fn(3,"button",11),Nt(4),it()()()}if(2&t){const e=n.$implicit,r=Wi();ln(1),$m("background-color",e===r.selectedNode?"#00a9e0":"transparent")("color",e===r.selectedNode?"white":"black"),cn("ngClass",Sg(7,a9,e===r.selectedNode))("ngStyle",lb(9,s9)),ln(3),Bc(" ",e.name," ")}}let sk=(()=>{class t{constructor(){this.fileTree=[],this.nodeSelected=new lr,this.nodeDoubleClicked=new lr,this.selectedNode=null,this.treeControl=new b6(e=>e.children),this.dataSource=new A$}ngOnInit(){this.fileTree?this.updateTreeData():console.error("File tree data not available")}ngOnChanges(e){e.fileTree&&this.updateTreeData()}updateTreeData(){if(this.fileTree&&Array.isArray(this.fileTree)){const e=this.sortTree(this.fileTree);this.dataSource.data=e,this.treeControl.dataNodes=e}else console.error("fileTree is not initialized or empty")}onNodeSelect(e){e?e.isDirectory?console.log("Cannot select directories."):(this.selectedNode=e,this.nodeSelected.emit(e.path)):console.error("Node is undefined or invalid")}onNodeDoubleClick(e){e.isDirectory||this.nodeDoubleClicked.emit(e.path)}sortTree(e){return e.map(r=>(r.children&&r.children.length>0&&(r.children=this.sortTree(r.children)),r)).sort((r,i)=>r.isDirectory&&!i.isDirectory?-1:!r.isDirectory&&i.isDirectory?1:r.name.localeCompare(i.name))}isDirectory(e,r){return r?.isDirectory??!1}isFile(e,r){return!r?.isDirectory}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-file-tree"]],inputs:{fileTree:"fileTree"},outputs:{nodeSelected:"nodeSelected",nodeDoubleClicked:"nodeDoubleClicked"},features:[wa],decls:4,vars:4,consts:[[1,"filetreecontainer"],[3,"dataSource","treeControl"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"tree-node-wrapper","folder-node",3,"ngStyle"],[1,"mat-tree-node"],["mat-icon-button","","matTreeNodeToggle",""],["class","folder-contents",3,"ngStyle",4,"ngIf"],[1,"folder-contents",3,"ngStyle"],["matTreeNodeOutlet",""],[1,"tree-node-wrapper","file-node",3,"ngClass","ngStyle","dblclick"],[3,"click"],["mat-icon-button","","disabled",""]],template:function(e,r){1&e&&(st(0,"div",0)(1,"mat-tree",1),ti(2,o9,8,5,"mat-nested-tree-node",2),ti(3,l9,5,10,"mat-tree-node",2),it()()),2&e&&(ln(1),cn("dataSource",r.dataSource)("treeControl",r.treeControl),ln(1),cn("matTreeNodeDefWhen",r.isDirectory),ln(1),cn("matTreeNodeDefWhen",r.isFile))},dependencies:[Sb,Hc,mC,qR,ZR,JR,QR,KR,W0,U$,e9],styles:["[_ngcontent-%COMP%]:root{--highlight-color: #00a9e0}.mat-tree-node[_ngcontent-%COMP%]{cursor:pointer;padding:5px;display:flex;align-items:center;width:100%;box-sizing:border-box}.mat-tree-node[_ngcontent-%COMP%]:hover{background-color:#00a9e040}.tree-node-wrapper[_ngcontent-%COMP%]{display:block;width:100%;margin:0;box-sizing:border-box}.folder-node[_ngcontent-%COMP%]{margin-bottom:10px}.folder-contents[_ngcontent-%COMP%]{margin-top:5px;border:2px solid var(--highlight-color);border-radius:5px;padding:10px;box-sizing:border-box}li[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;box-sizing:border-box}div.filetreecontainer[_ngcontent-%COMP%]{width:760px;border:2px solid var(--highlight-color);border-radius:5px;padding:10px;box-sizing:border-box;overflow:hidden}"]}),t})();const u9=["grammarListSelector"],c9=["statusMessage"],d9=["toggleDisplayComponent"];let Vx=(()=>{class t{constructor(e,r){this.dataService=e,this.cd=r,this.grammarList=[],this.defaultGrammar="./grammars/hybrid-drt-tense.lfg.glue",this.grammarsDirectory="./grammars",this.currentStatusMessage="",this.grammarFileTree=[],this.selectedPath=""}ngOnInit(){this.getGrammars(this.grammarsDirectory),console.log("Initial file tree:",this.grammarFileTree),this.selectedPath=this.defaultGrammar,this.updateGrammar()}ngAfterViewInit(){this.toggleDisplayComponent?this.toggleDisplayComponent.isHidden=!0:console.error("toggleDisplayComponent is still undefined in ngAfterViewInit.")}onFileSelected(e){console.log("Selected path from file tree:",e),this.selectedPath=e}updateGrammar(){this.selectedPath?(console.log("Changing grammar to: "+this.selectedPath),this.dataService.changeGrammar({grammar:this.selectedPath}).subscribe(e=>{console.log(e),e.hasOwnProperty("grammar")&&"success"===e.grammar?(console.log("Successfully changed grammar to: "+this.selectedPath),this.currentStatusMessage="Currently loaded grammar: "+this.selectedPath,this.cd.detectChanges(),this.toggleDisplayComponent.isHidden=!0):this.currentStatusMessage="Failed to load grammar: "+this.selectedPath},e=>{console.log("ERROR: ",e),this.currentStatusMessage="Failed to load grammar: "+this.selectedPath})):console.error("No file or folder selected!")}getGrammars(e){console.log("Fetching grammars via POST request"),this.dataService.getFileTree({grammar:e}).subscribe(r=>{console.log(r),r.hasOwnProperty("children")&&(console.log("Grammar file tree:",r.children),this.grammarFileTree=this.buildFileTree(r.children))},r=>{console.error("Failed to fetch grammars:",r)})}buildFileTree(e){return e.map(r=>({name:r.name,path:r.path,isDirectory:r.isDirectory||r.directory,children:r.children&&r.children.length>0?this.buildFileTree(r.children):[]}))}}return t.\u0275fac=function(e){return new(e||t)(We($g),We(zs))},t.\u0275cmp=Or({type:t,selectors:[["app-grammar-loader"]],viewQuery:function(e,r){if(1&e&&(Yn(u9,5),Yn(c9,5),Yn(d9,5)),2&e){let i;Rn(i=kn())&&(r.grammarListSelector=i.first),Rn(i=kn())&&(r.statusMessageDiv=i.first),Rn(i=kn())&&(r.toggleDisplayComponent=i.first)}},decls:9,vars:2,consts:[[1,"status-message"],["statusMessage",""],["type","fileTree","showText","Select file","hideText","Hide file selection"],["toggleDisplayComponent",""],[3,"fileTree","nodeSelected","nodeDoubleClicked"],[3,"click"]],template:function(e,r){1&e&&(st(0,"div",0,1),Nt(2),it(),st(3,"app-toggle-display",2,3)(5,"div")(6,"app-file-tree",4),Tn("nodeSelected",function(s){return r.onFileSelected(s)})("nodeDoubleClicked",function(){return r.updateGrammar()}),it(),st(7,"button",5),Tn("click",function(){return r.updateGrammar()}),Nt(8,"Update"),it()()()),2&e&&(ln(2),Bc(" ",r.currentStatusMessage,"\n"),ln(4),cn("fileTree",r.grammarFileTree))},dependencies:[qv,sk],styles:[".status-message[_ngcontent-%COMP%]{color:red}"]}),t})();const f9=["edit1"],h9=["rl1"],p9=["cy1"],g9=["textareaElement"],m9=["errorhandle"];function v9(t,n){1&t&&(st(0,"span"),Nt(1,"Parse and rewrite"),it())}function y9(t,n){1&t&&Fn(0,"span",18)}function b9(t,n){1&t&&(st(0,"span"),Nt(1,"Loading..."),it())}function w9(t,n){1&t&&(st(0,"span"),Nt(1,"Extract multi-stage"),it())}function _9(t,n){1&t&&Fn(0,"span",18)}function C9(t,n){1&t&&(st(0,"span"),Nt(1,"Loading..."),it())}let E9=(()=>{class t{constructor(e){this.dataService=e,this.defaultValue="Every man hugged a woman.",this.changeDetector=new lr,this.loading=!1}analyzeSentence(e,r){this.loading=!0,this.errorhandle.nativeElement.innerHTML="",this.dataService.ligerAnnotate({sentence:e,ruleString:r}).subscribe(c=>{if(this.loading=!1,this.errorhandle.nativeElement.innerHTML="",c.hasOwnProperty("graph")?c.graph.hasOwnProperty("graphElements")&&(0!=c.graph.graphElements.length?(console.log(c.graph.graphElements),this.cy1.renderGraph(c.graph.graphElements),this.graphElements=c.graph.graphElements,this.displayMessage("Parsing successful...","green")):this.displayMessage("Parsing failed...","red")):this.displayMessage("Parsing failed...","red"),c.hasOwnProperty("appliedRules")&&null!==c.appliedRules){console.log(c.appliedRules),this.rulelist1.clearList();for(let m=0;m<c.appliedRules.length;m++)this.rulelist1.addElement({rule:c.appliedRules[m],index:m})}c.hasOwnProperty("meaningConstructors")&&(console.log(c.meaningConstructors),this.meaningConstructors=c.meaningConstructors,this.changeDetector.emit(c.meaningConstructors))},c=>{this.loading=!1,console.log("ERROR: ",c),this.displayMessage("An error occurred...","red")})}parseSentence(e,r){const i=e;this.errorhandle.nativeElement.innerHTML="",this.loading=!0,this.dataService.ligerParse({sentence:i,ruleString:""}).subscribe(c=>{this.loading=!1,c.hasOwnProperty("graph")?c.graph.hasOwnProperty("graphElements")&&(0!=c.graph.graphElements.length?(console.log(c.graph.graphElements),this.cy1.renderGraph(c.graph.graphElements),this.graphElements=c.graph.graphElements):this.displayMessage("Parsing failed...","red")):this.displayMessage("Parsing failed...","red"),c.hasOwnProperty("meaningConstructors")&&(console.log(c.meaningConstructors),this.meaningConstructors=c.meaningConstructors,this.changeDetector.emit(c.meaningConstructors))},c=>{console.log("ERROR: ",c),this.displayMessage("An error occurred...","red"),this.loading=!1})}calculateFromRuleList(e){let r=[];for(let s=0;s<=e.index;s++)r.push(this.rulelist1.elements[s].rule);console.log("New rules: \n",r);let i=r.map(s=>s.rule).join("\n");i="--replace(true);\n"+i,console.log("Rule string: \n",i),this.analyzeSentence(this.textarea.nativeElement.value,i)}showDialog(){this.cy1.subgraphDialog.setContent(this.graphElements),this.cy1.subgraphDialog.showDialog()}displayMessage(e,r){this.errorhandle.nativeElement.style.color=r,this.errorhandle.nativeElement.innerHTML="["+(new Date).toLocaleTimeString()+"] "+e}}return t.\u0275fac=function(e){return new(e||t)(We($g))},t.\u0275cmp=Or({type:t,selectors:[["app-liger-vis"]],viewQuery:function(e,r){if(1&e&&(Yn(f9,5),Yn(h9,5),Yn(p9,5),Yn(g9,5),Yn(m9,5)),2&e){let i;Rn(i=kn())&&(r.editor1=i.first),Rn(i=kn())&&(r.rulelist1=i.first),Rn(i=kn())&&(r.cy1=i.first),Rn(i=kn())&&(r.textarea=i.first),Rn(i=kn())&&(r.errorhandle=i.first)}},decls:37,vars:8,consts:[[3,"value"],["textareaElement",""],[1,"errorhandling"],["errorhandle",""],[3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"button","beta",3,"click"],["type","liger","showText","Show input rules","hideText","Hide input rules"],[1,"editor-restr"],[3,"mode"],["edit1",""],["showText","Show graph vis","hideText","Hide graph vis"],[1,"ligergraphcontainer"],["cy1",""],["type","liger","showText","Show applied rules","hideText","Hide applied rules"],[3,"calculateFromRule"],["rl1",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,r){if(1&e){const i=Ol();st(0,"h3"),Nt(1," Test sentence: "),it(),Fn(2,"textarea",0,1)(4,"br")(5,"div",2,3),st(7,"button",4),Tn("click",function(){Zn(i);const c=sl(3),m=sl(22);return eo(r.analyzeSentence(c.value,m.getContent()))}),ti(8,v9,2,0,"span",5),ti(9,y9,1,0,"span",6),ti(10,b9,2,0,"span",5),it(),st(11,"button",7),Tn("click",function(){Zn(i);const c=sl(3),m=sl(22);return eo(r.parseSentence(c.value,m.getContent()))}),ti(12,w9,2,0,"span",5),ti(13,_9,1,0,"span",6),ti(14,C9,2,0,"span",5),it(),Fn(15,"br")(16,"app-grammar-loader"),st(17,"app-toggle-display",8)(18,"h3"),Nt(19," Input rules: "),it(),st(20,"div",9),Fn(21,"app-editor",10,11),it()(),st(23,"app-toggle-display",12)(24,"h3"),Nt(25," Graph visualization: "),it(),st(26,"div",13),Fn(27,"app-graph-vis",null,14),st(29,"button",4),Tn("click",function(){return r.showDialog()}),Nt(30,"Show dialog"),it()(),Fn(31,"br"),it(),st(32,"app-toggle-display",15)(33,"h3"),Nt(34," Rule list: "),it(),st(35,"app-rule-list",16,17),Tn("calculateFromRule",function(c){return r.calculateFromRuleList(c)}),it()()}2&e&&(ln(2),cn("value",r.defaultValue),ln(6),cn("ngIf",!r.loading),ln(1),cn("ngIf",r.loading),ln(1),cn("ngIf",r.loading),ln(2),cn("ngIf",!r.loading),ln(1),cn("ngIf",r.loading),ln(1),cn("ngIf",r.loading),ln(7),cn("mode","liger"))},dependencies:[Hc,Hv,i6,l6,qv,Vx],styles:["textarea[_ngcontent-%COMP%]{width:600px;height:50px;overflow:auto;display:block;resize:none}div.ligergraphcontainer[_ngcontent-%COMP%]{max-width:800px;height:650px}div.errorhandling[_ngcontent-%COMP%]{color:red;padding-bottom:10px}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}"]}),t})();const x9=["l1"],D9=["g1"];function S9(t,n){if(1&t){const e=Ol();st(0,"button",6),Tn("click",function(){Zn(e);const i=Wi();return eo(i.isFirstDivMinimized=!i.isFirstDivMinimized)}),Nt(1," >> "),it()}}function T9(t,n){if(1&t){const e=Ol();st(0,"button",6),Tn("click",function(){Zn(e);const i=Wi();return eo(i.isSecondDivMinimized=!i.isSecondDivMinimized)}),Nt(1," << "),it()}}const lk=function(t){return{display:t}};let M9=(()=>{class t{constructor(){this.isFirstDivMinimized=!1,this.isSecondDivMinimized=!1}ngAfterViewInit(){this.liger.changeDetector.subscribe(e=>{this.glue.editor1.updateContent(e)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-glue-interface"]],viewQuery:function(e,r){if(1&e&&(Yn(x9,5),Yn(D9,5)),2&e){let i;Rn(i=kn())&&(r.liger=i.first),Rn(i=kn())&&(r.glue=i.first)}},decls:13,vars:8,consts:[[1,"container"],[1,"scrollable-div",3,"ngStyle"],[1,"toggle-button",3,"click"],["l1",""],["class","toggle-button-max",3,"click",4,"ngIf"],["g1",""],[1,"toggle-button-max",3,"click"]],template:function(e,r){1&e&&(st(0,"div",0)(1,"div",1)(2,"button",2),Tn("click",function(){return r.isFirstDivMinimized=!r.isFirstDivMinimized}),Nt(3," << "),it(),Fn(4,"app-liger-vis",null,3),it(),ti(6,S9,2,0,"button",4),st(7,"div",1)(8,"button",2),Tn("click",function(){return r.isSecondDivMinimized=!r.isSecondDivMinimized}),Nt(9," >> "),it(),Fn(10,"app-gswb-vis",null,5),it(),ti(12,T9,2,0,"button",4),it()),2&e&&(ln(1),cn("ngStyle",Sg(4,lk,r.isFirstDivMinimized?"none":"block")),ln(5),cn("ngIf",r.isFirstDivMinimized),ln(1),cn("ngStyle",Sg(6,lk,r.isSecondDivMinimized?"none":"block")),ln(5),cn("ngIf",r.isSecondDivMinimized))},dependencies:[Hc,mC,t6,E9],styles:[".toggle-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:50px;height:100%;background-color:#fff;border:none;cursor:pointer;opacity:0;transition:opacity .3s;font-weight:700}.toggle-button[_ngcontent-%COMP%]:hover{opacity:.8;background:#00a9e0;color:#fff;border-radius:10px}.toggle-button-max[_ngcontent-%COMP%]{width:50px;height:100vh;font-weight:700;background-color:#fff;border:none;cursor:pointer}.toggle-button-max[_ngcontent-%COMP%]:hover{opacity:.2;background:#00a9e0;color:#fff;border-radius:10px}",".container[_ngcontent-%COMP%] {\n    padding: 15px;\n    display: flex;\n    flex-wrap: nowrap;\n  }\n  .scrollable-div[_ngcontent-%COMP%] {\n    position: relative;\n    flex: 1;\n    overflow-y: auto;\n    max-height: 100vh;\n    flex-basis: 50%;\n    padding-left: 60px\n  }\n\n  \n\n  @media (max-width: 1400px) {\n    .container[_ngcontent-%COMP%] {\n      flex-direction: column;\n    }\n    .scrollable-div[_ngcontent-%COMP%] {\n      max-height: none;\n      overflow-y: initial;\n    }\n  }"]}),t})();class Hx{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class I9 extends Hx{constructor(n,e,r,i,s){super(),this.component=n,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class zx extends Hx{constructor(n,e,r,i){super(),this.templateRef=n,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class A9 extends Hx{constructor(n){super(),this.element=n instanceof ei?n.nativeElement:n}}class N9{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof I9?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof zx?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof A9?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}let O9=(()=>{class t extends zx{constructor(e,r){super(e,r)}}return t.\u0275fac=function(e){return new(e||t)(We(Vs),We(za))},t.\u0275dir=an({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[qn]}),t})(),Ux=(()=>{class t extends N9{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new lr,this.attachDomPortal=s=>{const c=s.element,m=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(m,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(c,m)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=r.createComponent(s,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return t.\u0275fac=function(e){return new(e||t)(We(sg),We(za),We(Ei))},t.\u0275dir=an({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[qn]}),t})(),R9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({}),t})();const k9=["addListener","removeListener"],P9=["addEventListener","removeEventListener"],L9=["on","off"];function oy(t,n,e,r){if(T(e)&&(r=e,e=void 0),r)return oy(t,n,e).pipe(NC(r));const[i,s]=function V9(t){return T(t.addEventListener)&&T(t.removeEventListener)}(t)?P9.map(c=>m=>t[c](n,m,e)):function F9(t){return T(t.addListener)&&T(t.removeListener)}(t)?k9.map(uk(t,n)):function B9(t){return T(t.on)&&T(t.off)}(t)?L9.map(uk(t,n)):[];if(!i&&Ia(t))return Zi(c=>oy(c,n,e))(Oo(t));if(!i)throw new TypeError("Invalid event target");return new Ye(c=>{const m=(..._)=>c.next(1<_.length?_:_[0]);return i(m),()=>s(m)})}function uk(t,n){return e=>r=>t[e](n,r)}function ck(t=0,n,e=Z6){let r=-1;return null!=n&&(Cn(n)?e=n:r=n),new Ye(i=>{let s=function H9(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;s<0&&(s=0);let c=0;return e.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},s)})}const ay={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=ay;r&&(n=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=n(s=>{e=void 0,t(s)});return new C(()=>e?.(i))},requestAnimationFrame(...t){const{delegate:n}=ay;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=ay;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class U9 extends Ox{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class z9 extends Nx{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=ay.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:s}=n;null!=e&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==e&&(ay.cancelAnimationFrame(e),n._scheduled=void 0)}});let Gx,j9=1;const K0={};function dk(t){return t in K0&&(delete K0[t],!0)}const W9={setImmediate(t){const n=j9++;return K0[n]=!0,Gx||(Gx=Promise.resolve()),Gx.then(()=>dk(n)&&t()),n},clearImmediate(t){dk(t)}},{setImmediate:$9,clearImmediate:Y9}=W9,Z0={setImmediate(...t){const{delegate:n}=Z0;return(n?.setImmediate||$9)(...t)},clearImmediate(t){const{delegate:n}=Z0;return(n?.clearImmediate||Y9)(t)},delegate:void 0};new class K9 extends Ox{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class X9 extends Nx{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=Z0.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:s}=n;null!=e&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==e&&(Z0.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}});let jx=(()=>{class t{constructor(e,r,i){this._platform=e,this._change=new Mt,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,s=i.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(function Q9(t,n=Rx){return function q9(t){return tt((n,e)=>{let r=!1,i=null,s=null,c=!1;const m=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const R=i;i=null,e.next(R)}c&&e.complete()},_=()=>{s=null,c&&e.complete()};n.subscribe(ht(e,R=>{r=!0,i=R,s||Oo(t(R)).subscribe(s=ht(e,m,_))},()=>{c=!0,(!r||!s||s.closed)&&e.complete()}))})}(()=>ck(t,n))}(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Pt(Xu),Pt($r),Pt(Ei,8))},t.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function e7(t,n){}const t7=function(t){return{animationDuration:t}},n7=function(t,n){return{value:t,params:n}};function r7(t,n){1&t&&_g(0)}const fk=["*"],i7=["tabListContainer"],o7=["tabList"],a7=["tabListInner"],s7=["nextPaginator"],l7=["previousPaginator"],u7=["tabBodyWrapper"],c7=["tabHeader"];function d7(t,n){}function f7(t,n){1&t&&ti(0,d7,0,0,"ng-template",14),2&t&&cn("cdkPortalOutlet",Wi().$implicit.templateLabel)}function h7(t,n){1&t&&Nt(0),2&t&&Xm(Wi().$implicit.textLabel)}function p7(t,n){if(1&t){const e=Ol();st(0,"div",6,7),Tn("click",function(){const i=Zn(e),s=i.$implicit,c=i.index,m=Wi(),_=sl(1);return eo(m._handleClick(s,_,c))})("cdkFocusChange",function(i){const c=Zn(e).index;return eo(Wi()._tabFocusChanged(i,c))}),Fn(2,"span",8)(3,"div",9),st(4,"span",10)(5,"span",11),ti(6,f7,1,1,"ng-template",12),ti(7,h7,1,1,"ng-template",null,13,y1),it()()()}if(2&t){const e=n.$implicit,r=n.index,i=sl(1),s=sl(8),c=Wi();Ha("mdc-tab--active",c.selectedIndex===r),cn("id",c._getTabLabelId(r))("ngClass",e.labelClass)("disabled",e.disabled)("fitInkBarToContent",c.fitInkBarToContent),Es("tabIndex",c._getTabIndex(r))("aria-posinset",r+1)("aria-setsize",c._tabs.length)("aria-controls",c._getTabContentId(r))("aria-selected",c.selectedIndex===r)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),ln(3),cn("matRippleTrigger",i)("matRippleDisabled",e.disabled||c.disableRipple),ln(3),cn("ngIf",e.templateLabel)("ngIfElse",s)}}function g7(t,n){if(1&t){const e=Ol();st(0,"mat-tab-body",15),Tn("_onCentered",function(){return Zn(e),eo(Wi()._removeTabBodyWrapperHeight())})("_onCentering",function(i){return Zn(e),eo(Wi()._setTabBodyWrapperHeight(i))}),it()}if(2&t){const e=n.$implicit,r=n.index,i=Wi();Ha("mat-mdc-tab-body-active",i.selectedIndex===r),cn("id",i._getTabContentId(r))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",i.animationDuration)("preserveContent",i.preserveContent),Es("tabindex",null!=i.contentTabIndex&&i.selectedIndex===r?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(r))}}const m7={translateTab:dG("translateTab",[TE("center, void, left-origin-center, right-origin-center",dp({transform:"none"})),TE("left",dp({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),TE("right",dp({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),ME("* => left, * => right, left => center, right => center",SE("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),ME("void => left-origin-center",[dp({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),SE("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),ME("void => right-origin-center",[dp({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),SE("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let v7=(()=>{class t extends Ux{constructor(e,r,i,s){super(e,r,s),this._host=i,this._centeringSub=C.EMPTY,this._leavingSub=C.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(uv(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(We(sg),We(za),We(Sn(()=>hk)),We(Ei))},t.\u0275dir=an({type:t,selectors:[["","matTabBodyHost",""]],features:[qn]}),t})(),y7=(()=>{class t{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,r,i){this._elementRef=e,this._dir=r,this._dirChangeSubscription=C.EMPTY,this._translateTabComplete=new Mt,this._onCentering=new lr,this._beforeCentering=new lr,this._afterLeavingCenter=new lr,this._onCentered=new lr(!0),this.animationDuration="500ms",this.preserveContent=!1,r&&(this._dirChangeSubscription=r.change.subscribe(s=>{this._computePositionAnimationState(s),i.markForCheck()})),this._translateTabComplete.pipe(Jt((s,c)=>s.fromState===c.fromState&&s.toState===c.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const r=this._isCenterPosition(e.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const r=this._getLayoutDirection();return"ltr"==r&&e<=0||"rtl"==r&&e>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(We(ei),We(Qg,8),We(zs))},t.\u0275dir=an({type:t,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),hk=(()=>{class t extends y7{constructor(e,r,i){super(e,r,i)}}return t.\u0275fac=function(e){return new(e||t)(We(ei),We(Qg,8),We(zs))},t.\u0275cmp=Or({type:t,selectors:[["mat-tab-body"]],viewQuery:function(e,r){if(1&e&&Yn(Ux,5),2&e){let i;Rn(i=kn())&&(r._portalHost=i.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[qn],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,r){1&e&&(st(0,"div",0,1),Tn("@translateTab.start",function(s){return r._onTranslateTabStarted(s)})("@translateTab.done",function(s){return r._translateTabComplete.next(s)}),ti(2,e7,0,0,"ng-template",2),it()),2&e&&cn("@translateTab",x_(3,n7,r._position,Sg(1,t7,r.animationDuration)))},dependencies:[v7],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[m7.translateTab]}}),t})();const b7=new Xt("MatTabContent");let w7=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(We(Vs))},t.\u0275dir=an({type:t,selectors:[["","matTabContent",""]],features:[Wr([{provide:b7,useExisting:t}])]}),t})();const _7=new Xt("MatTabLabel"),pk=new Xt("MAT_TAB");let C7=(()=>{class t extends O9{constructor(e,r,i){super(e,r),this._closestTab=i}}return t.\u0275fac=function(e){return new(e||t)(We(Vs),We(za),We(pk,8))},t.\u0275dir=an({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Wr([{provide:_7,useExisting:t}]),qn]}),t})();const Wx="mdc-tab-indicator--active",gk="mdc-tab-indicator--no-transition";class E7{constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar())}alignToElement(n){const e=this._items.find(i=>i.elementRef.nativeElement===n),r=this._currentItem;if(e!==r&&(r?.deactivateInkBar(),e)){const i=r?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(i),this._currentItem=e}}}function x7(t){return class extends t{constructor(...n){super(...n),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(n){const e=ul(n);this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(n){const e=this.elementRef.nativeElement;if(!n||!e.getBoundingClientRect||!this._inkBarContentElement)return void e.classList.add(Wx);const r=e.getBoundingClientRect(),i=n.width/r.width,s=n.left-r.left;e.classList.add(gk),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${i})`),e.getBoundingClientRect(),e.classList.remove(gk),e.classList.add(Wx),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(Wx)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const n=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=n.createElement("span"),this._inkBarContentElement=n.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const S7=j0(class{}),T7=x7((()=>{class t extends S7{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(We(ei))},t.\u0275dir=an({type:t,features:[qn]}),t})());let mk=(()=>{class t extends T7{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=wi(t)))(r||t)}}(),t.\u0275dir=an({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,r){2&e&&(Es("aria-disabled",!!r.disabled),Ha("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[qn]}),t})();const M7=j0(class{}),vk=new Xt("MAT_TAB_GROUP");let I7=(()=>{class t extends M7{get content(){return this._contentPortal}constructor(e,r){super(),this._viewContainerRef=e,this._closestTabGroup=r,this.textLabel="",this._contentPortal=null,this._stateChanges=new Mt,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new zx(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return t.\u0275fac=function(e){return new(e||t)(We(za),We(vk,8))},t.\u0275dir=an({type:t,viewQuery:function(e,r){if(1&e&&Yn(Vs,7),2&e){let i;Rn(i=kn())&&(r._implicitContent=i.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[qn,wa]}),t})(),yk=(()=>{class t extends I7{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=wi(t)))(r||t)}}(),t.\u0275cmp=Or({type:t,selectors:[["mat-tab"]],contentQueries:function(e,r,i){if(1&e&&(Yf(i,w7,7,Vs),Yf(i,C7,5)),2&e){let s;Rn(s=kn())&&(r._explicitContent=s.first),Rn(s=kn())&&(r.templateLabel=s.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[Wr([{provide:pk,useExisting:t}]),qn],ngContentSelectors:fk,decls:1,vars:0,template:function(e,r){1&e&&(wg(),ti(0,r7,1,0,"ng-template"))},encapsulation:2}),t})();const bk=ey({passive:!0});let O7=(()=>{class t{get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=ul(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=sh(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}constructor(e,r,i,s,c,m,_){this._elementRef=e,this._changeDetectorRef=r,this._viewportRuler=i,this._dir=s,this._ngZone=c,this._platform=m,this._animationMode=_,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Mt,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Mt,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new lr,this.indexFocused=new lr,c.runOutsideAngular(()=>{oy(e.nativeElement,"mouseleave").pipe(Yu(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){oy(this._previousPaginator.nativeElement,"touchstart",bk).pipe(Yu(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),oy(this._nextPaginator.nativeElement,"touchstart",bk).pipe(Yu(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:qe("ltr"),r=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new a$(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(zc(1)).subscribe(i),et(e,r,this._items.changes,this._itemsResized()).pipe(Yu(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),i()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?ma:this._items.changes.pipe(uv(this._items),Vt(e=>new Ye(r=>this._ngZone.runOutsideAngular(()=>{const i=new ResizeObserver(s=>r.next(s));return e.forEach(s=>i.observe(s.elementRef.nativeElement)),()=>{i.disconnect()}}))),Px(1),Rl(e=>e.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!ER(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const r=this._items.get(this.focusIndex);r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const r=this._tabListContainer.nativeElement;r.scrollLeft="ltr"==this._getLayoutDirection()?0:r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,r="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const r=this._items?this._items.toArray()[e]:null;if(!r)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:c}=r.elementRef.nativeElement;let m,_;"ltr"==this._getLayoutDirection()?(m=s,_=m+c):(_=this._tabListInner.nativeElement.offsetWidth-s,m=_-c);const R=this.scrollDistance,U=this.scrollDistance+i;m<R?this.scrollDistance-=R-m:_>U&&(this.scrollDistance+=Math.min(_-U,m-R))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=e?e.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,r){r&&null!=r.button&&0!==r.button||(this._stopInterval(),ck(650,100).pipe(Yu(et(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:i,distance:s}=this._scrollHeader(e);(0===s||s>=i)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(We(ei),We(zs),We(jx),We(Qg,8),We($r),We(Xu),We(Oc,8))},t.\u0275dir=an({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),R7=(()=>{class t extends O7{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ul(e)}constructor(e,r,i,s,c,m,_){super(e,r,i,s,c,m,_),this._disableRipple=!1}_itemSelected(e){e.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(We(ei),We(zs),We(jx),We(Qg,8),We($r),We(Xu),We(Oc,8))},t.\u0275dir=an({type:t,inputs:{disableRipple:"disableRipple"},features:[qn]}),t})(),k7=(()=>{class t extends R7{constructor(e,r,i,s,c,m,_){super(e,r,i,s,c,m,_)}ngAfterContentInit(){this._inkBar=new E7(this._items),super.ngAfterContentInit()}}return t.\u0275fac=function(e){return new(e||t)(We(ei),We(zs),We(jx),We(Qg,8),We($r),We(Xu),We(Oc,8))},t.\u0275cmp=Or({type:t,selectors:[["mat-tab-header"]],contentQueries:function(e,r,i){if(1&e&&Yf(i,mk,4),2&e){let s;Rn(s=kn())&&(r._items=s)}},viewQuery:function(e,r){if(1&e&&(Yn(i7,7),Yn(o7,7),Yn(a7,7),Yn(s7,5),Yn(l7,5)),2&e){let i;Rn(i=kn())&&(r._tabListContainer=i.first),Rn(i=kn())&&(r._tabList=i.first),Rn(i=kn())&&(r._tabListInner=i.first),Rn(i=kn())&&(r._nextPaginator=i.first),Rn(i=kn())&&(r._previousPaginator=i.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(e,r){2&e&&Ha("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[qn],ngContentSelectors:fk,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,r){1&e&&(wg(),st(0,"button",0,1),Tn("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(s){return r._handlePaginatorPress("before",s)})("touchend",function(){return r._stopInterval()}),Fn(2,"div",2),it(),st(3,"div",3,4),Tn("keydown",function(s){return r._handleKeydown(s)}),st(5,"div",5,6),Tn("cdkObserveContent",function(){return r._onContentChanges()}),st(7,"div",7,8),_g(9),it()()(),st(10,"button",9,10),Tn("mousedown",function(s){return r._handlePaginatorPress("after",s)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),Fn(12,"div",2),it()),2&e&&(Ha("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),cn("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),ln(3),Ha("_mat-animation-noopable","NoopAnimations"===r._animationMode),ln(7),Ha("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),cn("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[Bx,Q6],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2}),t})();const wk=new Xt("MAT_TABS_CONFIG");let P7=0;const L7=Fx(zR(class{constructor(t){this._elementRef=t}}),"primary");let F7=(()=>{class t extends L7{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=ul(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=sh(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=sh(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=ul(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=ul(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&r.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,r,i,s){super(e),this._changeDetectorRef=r,this._animationMode=s,this._tabs=new Tg,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=C.EMPTY,this._tabLabelSubscription=C.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new lr,this.focusChange=new lr,this.animationDone=new lr,this.selectedTabChange=new lr(!0),this._groupId=P7++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination,this.dynamicHeight=!(!i||null==i.dynamicHeight)&&i.dynamicHeight,this.contentTabIndex=i?.contentTabIndex??null,this.preserveContent=!!i?.preserveContent}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const r=null==this._selectedIndex;if(!r){this.selectedTabChange.emit(this._createChangeEvent(e));const i=this._tabBodyWrapper.nativeElement;i.style.minHeight=i.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((i,s)=>i.isActive=s===e),r||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,i)=>{r.position=i-e,null!=this._selectedIndex&&0==r.position&&!r.origin&&(r.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const r=this._tabs.toArray();let i;for(let s=0;s<r.length;s++)if(r[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,i=r[s];break}!i&&r[e]&&Promise.resolve().then(()=>{r[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(uv(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const r=this._tabHeader;r&&(r.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const r=new V7;return r.index=e,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[e]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=et(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,r,i){r.focusIndex=i,e.disabled||(this.selectedIndex=i)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,r){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=r)}}return t.\u0275fac=function(e){return new(e||t)(We(ei),We(zs),We(wk,8),We(Oc,8))},t.\u0275dir=an({type:t,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[qn]}),t})(),B7=(()=>{class t extends F7{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=ul(e),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(e){this._stretchTabs=ul(e)}constructor(e,r,i,s){super(e,r,i,s),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!i||null==i.fitInkBarToContent)&&i.fitInkBarToContent,this.stretchTabs=!i||null==i.stretchTabs||i.stretchTabs}}return t.\u0275fac=function(e){return new(e||t)(We(ei),We(zs),We(wk,8),We(Oc,8))},t.\u0275cmp=Or({type:t,selectors:[["mat-tab-group"]],contentQueries:function(e,r,i){if(1&e&&Yf(i,yk,5),2&e){let s;Rn(s=kn())&&(r._allTabs=s)}},viewQuery:function(e,r){if(1&e&&(Yn(u7,5),Yn(c7,5)),2&e){let i;Rn(i=kn())&&(r._tabBodyWrapper=i.first),Rn(i=kn())&&(r._tabHeader=i.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:8,hostBindings:function(e,r){2&e&&($m("--mat-tab-animation-duration",r.animationDuration),Ha("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[Wr([{provide:vk,useExisting:t}]),qn],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(e,r){1&e&&(st(0,"mat-tab-header",0,1),Tn("indexFocused",function(s){return r._focusChanged(s)})("selectFocusedIndex",function(s){return r.selectedIndex=s}),ti(2,p7,9,17,"div",2),it(),st(3,"div",3,4),ti(5,g7,1,11,"mat-tab-body",5),it()),2&e&&(cn("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),ln(2),cn("ngForOf",r._tabs),ln(1),Ha("_mat-animation-noopable","NoopAnimations"===r._animationMode),ln(2),cn("ngForOf",r._tabs))},dependencies:[Sb,av,Hc,Ux,Bx,v$,hk,mk,k7],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-letter-spacing);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2}),t})();class V7{}let H7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({imports:[bC,Kc,R9,XR,SR,y$,Kc]}),t})();const z7=["contextPruning"];function U7(t,n){if(1&t&&(Um(0),Fn(1,"div",16),Gm()),2&t){const e=Wi(2).$implicit,r=Wi();ln(1),cn("innerHTML",r.sanitizeSvg(e.glyph),Jx)}}function G7(t,n){1&t&&(Um(0),st(1,"div"),Nt(2,"V"),it(),Gm())}const j7=function(t){return{minimized:t}};function W7(t,n){if(1&t){const e=Ol();st(0,"div",14),Tn("click",function(){Zn(e);const i=Wi().$implicit;return eo(Wi().toggleGlyphVisibility(i))}),ti(1,U7,2,1,"ng-container",15),ti(2,G7,3,0,"ng-container",15),it()}if(2&t){const e=Wi().$implicit;cn("ngClass",Sg(3,j7,!e.showGlyph)),ln(1),cn("ngIf",e.showGlyph),ln(1),cn("ngIf",!e.showGlyph)}}const $7=function(t,n){return{"user-message":t,"bot-message":n}};function Y7(t,n){if(1&t&&(st(0,"div",10)(1,"span",11),Nt(2),it(),st(3,"pre",12),Nt(4),it(),ti(5,W7,3,5,"div",13),it()),2&t){const e=n.$implicit;cn("ngClass",x_(4,$7,"User"===e.sender,"Bot"===e.sender)),ln(2),Bc("",e.sender,":"),ln(2),Xm(e.text),ln(1),cn("ngIf",e.glyph)}}let X7=(()=>{class t{constructor(e,r,i){this.dataService=e,this.changeDetector=r,this.sanitizer=i,this.ruleString="",this.history=[],this.historyChange=new lr,this.activeIndices=[],this.clearSelection=new lr,this.chatHistory=[],this.userInput="",this.meaningConstructors="",this.context=[],this.axioms=""}sendMessage(){if(!this.userInput.trim())return;const e=this.userInput;var r="";this.chatHistory.push({text:e,sender:"User"}),this.dataService.ligerAnnotate({sentence:e,ruleString:this.ruleString}).subscribe(s=>{if(console.log("XLE output:",s.graph.graphElements),s.hasOwnProperty("graph"))if(s.graph.hasOwnProperty("graphElements")&&s.graph.graphElements.length>0)if(s.hasOwnProperty("meaningConstructors")){console.log(s.meaningConstructors),this.meaningConstructors=s.meaningConstructors,1!==this.gswbPreferences.gswbPreferences.prover&&4!==this.gswbPreferences.gswbPreferences.outputstyle&&(console.log("GSWB preferences not set to default values."),this.gswbPreferences.onSubmit());const c={premises:this.meaningConstructors,gswbPreferences:this.gswbPreferences.gswbPreferences};console.log("GSWB request: ",c),this.dataService.gswbDeduce(c).subscribe(m=>{console.log("GSWB result:",m);let _="";if(m.hasOwnProperty("solutions")&&m.solutions.length>0&&""!=m.solutions[0]){_=m.solutions.join("\n");const U={text:e,context:this.context,axioms:this.axioms,hypothesis:_,pruning:this.contextPruning.nativeElement.checked,active_indices:this.activeIndices};console.log("Vampire request: ",U),this.dataService.callVampire(U).subscribe(K=>{if(this.clearSelected(),console.log("Vampire output: ",K),K.hasOwnProperty("context")){const Fe=K.context;console.log("Current context: ",Fe),this.history.push(Fe),this.context=Fe;var ge=null,be=null;this.historyChange.emit(this.history),this.changeDetector.detectChanges(),Object.keys(K.context_checks_mapping).length>0&&(r=K.context_checks_mapping[0].glyph,be=K.context_checks_mapping[0].informative,ge=K.context_checks_mapping[0].consistent);var Ie="Okay ...";null===ge||(Ie=ge?be?"Your input is consistent and informative.":"Your input is not informative.":"Your input does not make sense."),console.log(Ie,r),this.chatHistory.push({text:Ie,sender:"Bot",glyph:r,showGlyph:!1})}},K=>{console.log("An error occured during the call to vampire")})}else this.chatHistory.push({text:"No semantic analyses found for this input!",sender:"Bot"})},m=>{console.log("ERROR: ",m),console.log("Sent following request: ",c),this.chatHistory.push({text:"An error occurred during the semantic analysis",sender:"Bot"})})}else this.chatHistory.push({text:"Could not find meaning constructors for this input!",sender:"Bot"});else this.chatHistory.push({text:"Syntactic analysis failed for this input!",sender:"Bot"});else console.log("ERROR: No graph data found in response.")},s=>{console.log("ERROR: ",s)}),this.userInput=""}clearSelected(){this.clearSelection.emit(),console.log("Selection cleared in chat component")}sanitizeSvg(e){return this.sanitizer.bypassSecurityTrustHtml(e)}toggleGlyphVisibility(e){e.showGlyph=!e.showGlyph}}return t.\u0275fac=function(e){return new(e||t)(We($g),We(zs),We(Ab))},t.\u0275cmp=Or({type:t,selectors:[["app-chat"]],viewQuery:function(e,r){if(1&e&&Yn(z7,5),2&e){let i;Rn(i=kn())&&(r.contextPruning=i.first)}},inputs:{ruleString:"ruleString",gswbPreferences:"gswbPreferences",history:"history",activeIndices:"activeIndices"},outputs:{historyChange:"historyChange",clearSelection:"clearSelection"},decls:12,vars:2,consts:[[1,"pruning-container"],["type","checkbox","id","contextPruning"],["contextPruning",""],["for","contextPruning"],[1,"chat-container"],[1,"chat-history"],["class","message-container",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-input"],["placeholder","Type your message...",3,"ngModel","ngModelChange","keyup.enter"],[3,"click"],[1,"message-container",3,"ngClass"],[1,"message-sender"],[1,"message-text"],["class","message-glyph",3,"ngClass","click",4,"ngIf"],[1,"message-glyph",3,"ngClass","click"],[4,"ngIf"],[3,"innerHTML"]],template:function(e,r){1&e&&(st(0,"div",0),Fn(1,"input",1,2),st(3,"label",3),Nt(4,"Pruning"),it()(),st(5,"div",4)(6,"div",5),ti(7,Y7,6,7,"div",6),it(),st(8,"div",7)(9,"input",8),Tn("ngModelChange",function(s){return r.userInput=s})("keyup.enter",function(){return r.sendMessage()}),it(),st(10,"button",9),Tn("click",function(){return r.sendMessage()}),Nt(11,"Send"),it()()()),2&e&&(ln(7),cn("ngForOf",r.chatHistory),ln(2),cn("ngModel",r.userInput))},dependencies:[Sb,av,Hc,Ug,xv,Ov],styles:[".chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-width:600px;margin:auto;border:1px solid #ccc;border-radius:8px;overflow:hidden;background:white}.chat-history[_ngcontent-%COMP%]{flex:1;padding:16px;overflow-y:auto;display:flex;flex-direction:column;background:#f9f9f9}.message-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;max-width:75%;padding:8px;border-radius:8px;margin:4px 0}.user-message[_ngcontent-%COMP%]{align-self:flex-end;text-align:right;background:#00a9e0;color:#fff}.bot-message[_ngcontent-%COMP%]{align-self:flex-start;text-align:left;background:#ddd;color:#000}.message-text[_ngcontent-%COMP%]{font-family:Courier New,Courier,Lucida Console,DejaVu Sans Mono,Monaco,Menlo,Consolas,monospace;white-space:pre-wrap;word-break:break-word;overflow-wrap:anywhere}.message-sender[_ngcontent-%COMP%]{font-size:12px;font-weight:700;display:block;margin-bottom:2px}.message-glyph[_ngcontent-%COMP%]{border-radius:4px;position:absolute;bottom:4px;right:4px;width:98px;height:82px;display:flex;align-items:center;justify-content:center;background:white;border:1px solid #ccc;cursor:pointer;transition:all .3s ease-in-out}.message-glyph.minimized[_ngcontent-%COMP%]{width:20px;height:20px;background:green;border-radius:4px;display:flex;align-items:center;justify-content:center;border:none;overflow:hidden;color:#fff;text-align:center}.message-glyph[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;background:white}.chat-input[_ngcontent-%COMP%]{display:flex;padding:12px;background:#fff;border-top:1px solid #ccc}.chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:4px}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px;padding:10px 16px;border:none;background:#00a9e0;color:#fff;border-radius:4px;cursor:pointer;font-weight:700}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0079b3}"]}),t})();const K7=["grammarListSelector"],Z7=["statusMessage"],q7=["toggleDisplayComponent"];let Q7=(()=>{class t{constructor(e,r){this.dataService=e,this.cd=r,this.dataEmitter=new lr,this.grammarList=[],this.defaultRules="./liger_resources/test_rules.txt",this.grammarsDirectory="./liger_resources",this.currentStatusMessage="",this.grammarFileTree=[],this.selectedPath="",this.rules=""}ngOnInit(){this.getGrammars(this.grammarsDirectory),console.log("Initial file tree:",this.grammarFileTree),this.selectedPath=this.defaultRules,this.updateGrammar(),this.sendRules()}ngAfterViewInit(){this.toggleDisplayComponent?this.toggleDisplayComponent.isHidden=!0:console.error("toggleDisplayComponent is still undefined in ngAfterViewInit.")}onFileSelected(e){console.log("Selected path from file tree:",e),this.selectedPath=e}updateGrammar(){this.selectedPath?(console.log("Changing rules to: "+this.selectedPath),this.dataService.loadRules({grammar:this.selectedPath}).subscribe(e=>{console.log(e),e.hasOwnProperty("grammar")?(console.log("Successfully loaded rules: "+this.selectedPath),this.currentStatusMessage="Currently loaded rules: "+this.selectedPath,this.cd.detectChanges(),this.toggleDisplayComponent.isHidden=!0,this.rules=e.grammar,this.sendRules()):this.currentStatusMessage="Failed to load grammar: "+this.selectedPath},e=>{console.log("ERROR: ",e),this.currentStatusMessage="Failed to load rules: "+this.selectedPath})):console.error("No file or folder selected!")}getGrammars(e){console.log("Fetching grammars via POST request"),this.dataService.getFileTree({grammar:e}).subscribe(r=>{console.log(r),r.hasOwnProperty("children")&&(console.log("Grammar file tree:",r.children),this.grammarFileTree=this.buildFileTree(r.children))},r=>{console.error("Failed to fetch grammars:",r)})}buildFileTree(e){return e.map(r=>({name:r.name,path:r.path,isDirectory:r.isDirectory||r.directory,children:r.children&&r.children.length>0?this.buildFileTree(r.children):[]}))}sendRules(){this.dataEmitter.emit(this.rules)}}return t.\u0275fac=function(e){return new(e||t)(We($g),We(zs))},t.\u0275cmp=Or({type:t,selectors:[["app-rule-loader"]],viewQuery:function(e,r){if(1&e&&(Yn(K7,5),Yn(Z7,5),Yn(q7,5)),2&e){let i;Rn(i=kn())&&(r.grammarListSelector=i.first),Rn(i=kn())&&(r.statusMessageDiv=i.first),Rn(i=kn())&&(r.toggleDisplayComponent=i.first)}},outputs:{dataEmitter:"dataEmitter"},decls:9,vars:2,consts:[[1,"status-message"],["statusMessage",""],["type","fileTree","showText","Select file","hideText","Hide file selection"],["toggleDisplayComponent",""],[3,"fileTree","nodeSelected","nodeDoubleClicked"],[3,"click"]],template:function(e,r){1&e&&(st(0,"div",0,1),Nt(2),it(),st(3,"app-toggle-display",2,3)(5,"div")(6,"app-file-tree",4),Tn("nodeSelected",function(s){return r.onFileSelected(s)})("nodeDoubleClicked",function(){return r.updateGrammar()}),it(),st(7,"button",5),Tn("click",function(){return r.updateGrammar()}),Nt(8,"Update"),it()()()),2&e&&(ln(2),Bc(" ",r.currentStatusMessage,"\n"),ln(4),cn("fileTree",r.grammarFileTree))},dependencies:[qv,sk],styles:[".status-message[_ngcontent-%COMP%]{color:red}"]}),t})();function J7(t,n){if(1&t){const e=Ol();st(0,"div",5),Tn("click",function(){const s=Zn(e).index,c=Wi().index,m=Wi();return eo(c===m.history.length-1?m.toggleSelection(s):null)}),Nt(1),it()}if(2&t){const e=n.$implicit,r=n.index,i=Wi().index,s=Wi();Ha("selected",s.isSelected(r)&&i===s.history.length-1),ln(1),Bc(" ",e.box," ")}}function eY(t,n){if(1&t&&(st(0,"div",3),ti(1,J7,2,3,"div",4),it()),2&t){const e=n.$implicit;ln(1),cn("ngForOf",e)}}let tY=(()=>{class t{constructor(){this.history=[],this.selectionChanged=new lr,this.selectedIndices=[]}addHistoryEntry(e){this.history.push(e),this.selectedIndices=[],this.emitSelection()}clearHistory(){this.history=[],this.selectedIndices=[],this.emitSelection()}toggleSelection(e){this.selectedIndices.includes(e)?this.selectedIndices=this.selectedIndices.filter(r=>r!==e):this.selectedIndices.push(e),this.emitSelection()}selectAllLastEntry(){this.history.length>0&&(this.selectedIndices=this.history[this.history.length-1].map((r,i)=>i),this.emitSelection())}clearSelection(){this.selectedIndices=[],this.selectionChanged.emit(this.selectedIndices),console.log("Selection cleared in history component",this.selectedIndices)}isSelected(e){return this.selectedIndices.includes(e)}emitSelection(){this.selectionChanged.emit(this.selectedIndices)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-history"]],inputs:{history:"history"},outputs:{selectionChanged:"selectionChanged"},decls:4,vars:1,consts:[[1,"history-container"],["class","history-row",4,"ngFor","ngForOf"],[3,"click"],[1,"history-row"],["class","history-box",3,"selected","click",4,"ngFor","ngForOf"],[1,"history-box",3,"click"]],template:function(e,r){1&e&&(st(0,"div",0),ti(1,eY,2,1,"div",1),it(),st(2,"button",2),Tn("click",function(){return r.selectAllLastEntry()}),Nt(3,"Select All (Last Entry)"),it()),2&e&&(ln(1),cn("ngForOf",r.history))},dependencies:[av],styles:[".history-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-height:400px;overflow-y:auto;border:1px solid #ccc;padding:10px;width:80%;margin:auto}.history-row[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-bottom:10px}.history-box[_ngcontent-%COMP%]{font-family:monospace;white-space:pre-wrap;text-align:center;background-color:#f4f4f4;padding:10px;border-radius:5px;border:1px solid #ddd;min-width:100px;cursor:pointer;transition:background-color .2s ease-in-out,border-color .2s ease-in-out}.history-box.selected[_ngcontent-%COMP%]{background-color:#add8e6;border-color:#00f;font-weight:700}.history-box[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}button[_ngcontent-%COMP%]{margin-top:10px;padding:8px 15px;font-size:14px;cursor:pointer;border:1px solid #007bff;background-color:#007bff;color:#fff;border-radius:4px;transition:background-color .2s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]}),t})();const nY=["gswbPrefs"],rY=["chat"],iY=["history"];let oY=(()=>{class t{constructor(){this.ruleFile="",this.history=[],this.selectedElements=[]}ngAfterViewInit(){this.gswbPreferences?this.gswbPreferences.gswbPreferences={prover:1,debugging:!1,outputstyle:4,parseSem:!1,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:!1,naturalDeductionStyle:0}:console.error("ERROR: `gswbPreferences` ViewChild not initialized!")}updateData(e){this.ruleFile=e}updateHistory(e){console.log("History updated:",e),this.history=e}onSelectionChanged(e){this.selectedElements=e,console.log("Selected elements updated in parent:",this.selectedElements)}onClearSelection(){this.selectedElements=[],this.historyComponent&&this.historyComponent.clearSelection(),console.log("Called onClearSelection in parent component")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-inference-vis"]],viewQuery:function(e,r){if(1&e&&(Yn(nY,5),Yn(rY,5),Yn(iY,5)),2&e){let i;Rn(i=kn())&&(r.gswbPreferences=i.first),Rn(i=kn())&&(r.chatComponent=i.first),Rn(i=kn())&&(r.historyComponent=i.first)}},decls:28,vars:5,consts:[[1,"container"],["type","fileTree","showText","Show settings","hideText","Hide settings"],["toggleDisplayComponent",""],[1,"grammar-loader-container"],[3,"dataEmitter"],["gswbPrefs",""],["label","Chat"],[1,"tab-content"],[3,"ruleString","gswbPreferences","history","activeIndices","historyChange","clearSelection"],["label","History"],[3,"history","selectionChanged"],["label","Info"]],template:function(e,r){if(1&e&&(st(0,"div",0)(1,"h1"),Nt(2,"Semantig parser settings"),it(),st(3,"app-toggle-display",1,2)(5,"div",3)(6,"div")(7,"h2"),Nt(8,"Grammar selection:"),it(),Fn(9,"app-grammar-loader"),it(),st(10,"div")(11,"h2"),Nt(12,"Rule file selection:"),it(),st(13,"app-rule-loader",4),Tn("dataEmitter",function(s){return r.updateData(s)}),it()()(),Fn(14,"app-gswb-settings",null,5),it()(),st(16,"mat-tab-group")(17,"mat-tab",6)(18,"div",7)(19,"app-chat",8),Tn("historyChange",function(s){return r.updateHistory(s)})("clearSelection",function(){return r.onClearSelection()}),Nt(20," >"),it()()(),st(21,"mat-tab",9)(22,"div",7)(23,"app-history",10),Tn("selectionChanged",function(s){return r.onSelectionChanged(s)}),it()()(),st(24,"mat-tab",11)(25,"div",7)(26,"p"),Nt(27,"Other information will go here."),it()()()()),2&e){const i=sl(15);ln(19),cn("ruleString",r.ruleFile)("gswbPreferences",i)("history",r.history)("activeIndices",r.selectedElements),ln(4),cn("history",r.history)}},dependencies:[yk,B7,qv,Dx,Vx,X7,Q7,tY],styles:["mat-tab-group[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.tab-content[_ngcontent-%COMP%]{flex:1;padding:16px;overflow:auto;background:#f5f5f5;height:calc(85vh - 48px)}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}app-chat[_ngcontent-%COMP%]{flex:1;min-height:0}.grammar-loader-container[_ngcontent-%COMP%]{padding:5px;display:flex;gap:16px}.container[_ngcontent-%COMP%]{padding:15px}"]}),t})();const aY=["graphContainer"],sY=["subgraphDialog"];Gs().use(A0()),Gs().use(yR());let lY=(()=>{class t{constructor(){this.style=[{selector:'node[node_type="rule"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow red","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}],this.defaultWidth="800px",this.defaultHeight="600px"}ngOnInit(){this.cy=Gs()({container:document.getElementById("cy"),style:this.style,layout:{name:"dagre"}})}makePopper(e){const r=e.popperRef();e.tippy=Zv(r,{content:()=>{let i=document.createElement("div");var s=e._private.data;return s.hasOwnProperty("rule")&&(i.innerHTML=i.innerHTML+"Rule "+s.id+": "+s.rule+"at line: "+s.line+"<br>"),i},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(e=>{e.data().hasOwnProperty("rule")&&(this.makePopper(e),e.bind("mouseover",i=>i.target.tippy.show()),e.bind("mouseout",i=>i.target.tippy.hide()))})}renderGraph(e){this.cy=Gs()({container:document.getElementById(this.graphID),elements:e,style:this.calculateStyle(e),layout:{name:"dagre"}}),this.createAndBindPoppers(),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy)}calculateStyle(e){let r=e.filter(R=>R.data.hasOwnProperty("rule"));r.sort((R,U)=>R.data.id>U.data.id?1:-1),console.log("Sorted nodes: ",r);const i=Math.floor(r.length/10);console.log("NodeBucket: ",i);let s=0,c=[];for(let R=0;R<r.length;R++){R%i==0&&s++;let U="style"+s;r[R].data.node_style=U,c.includes(U)||c.push(U)}console.log("Styles: ",c);let m=[],_=this.calculateColorStops("#FFFF00","#FF0000",c.length);for(let R=0;R<c.length;R++){let ge={selector:'node[node_style="'+c[R]+'"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":_[R]+" white","background-gradient-stop-positions":"100 100"}};console.log("Current cyto style: ",ge),m.push(ge)}return m}resizeToDefault(){const e=this.graphContainer.nativeElement;e.style.width=this.defaultWidth,e.style.height=this.defaultHeight}showDialog(){this.subgraphDialog.setContent(this.cy.data()),this.subgraphDialog.showDialog()}calculateColorStops(e,r,i){let s=[];for(let c=0;c<i;c++){const _=this.calculateColor(e,r,c/(i-1));s.push(_)}return s}calculateColor(e,r,i){const s=Math.round(this.interpolate(e.slice(1,3),r.slice(1,3),i)),c=Math.round(this.interpolate(e.slice(3,5),r.slice(3,5),i)),m=Math.round(this.interpolate(e.slice(5,7),r.slice(5,7),i));return`#${this.componentToHex(s)}${this.componentToHex(c)}${this.componentToHex(m)}`}interpolate(e,r,i){return(1-i)*parseInt(e,16)+i*parseInt(r,16)}componentToHex(e){const r=e.toString(16);return 1===r.length?"0"+r:r}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-applied-rules-graph"]],viewQuery:function(e,r){if(1&e&&(Yn(aY,5),Yn(sY,5)),2&e){let i;Rn(i=kn())&&(r.graphContainer=i.first),Rn(i=kn())&&(r.subgraphDialog=i.first)}},inputs:{graphID:"graphID"},decls:7,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(e,r){1&e&&(st(0,"div"),Fn(1,"div",0,1),st(3,"button",2),Tn("click",function(){return r.resizeToDefault()}),Nt(4,"Resize to Default"),it(),Fn(5,"app-sub-graph-dialog",3,4),it()),2&e&&(ln(1),cn("id",r.graphID),ln(4),cn("subgraphID","sub"+r.graphID)("subgraphStyle","liger"))},dependencies:[xx],styles:["div.cy[_ngcontent-%COMP%]{width:760px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),t})();const uY=["arcy"],cY=["ligerreport"],dY=["gswbreport"],fY=["gswbSettings"],hY=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"demo",component:M9},{path:"regression",component:(()=>{class t{constructor(e){this.dataService=e}batchParse(e,r){this.gswbPreferences.onSubmit();let i=e.split("\n").filter(m=>{let _=m.trim();return""!==_&&!_.startsWith("#")}),s={};for(let m=0;m<i.length;m++)s["S"+m]=i[m];this.dataService.ligerBatchAnnotate({sentences:s,ruleString:r}).subscribe(m=>{if(console.log(m),m.hasOwnProperty("annotations")){console.log(m.annotations);let _={};for(let[U,K]of Object.entries(m.annotations))_[U]=K.meaningConstructors;let R={};Object.keys(_).sort((U,K)=>parseInt(U.match(/\d+/)[0])-parseInt(K.match(/\d+/)[0])).forEach(U=>{R[U]=_[U]}),console.log("sorted MCs",R),this.gswbMultipleRequest={premises:R,gswbPreferences:this.gswbPreferences.gswbPreferences},console.log("Specified request: ",this.gswbMultipleRequest)}m.hasOwnProperty("ruleApplicationGraph")&&(console.log(m.ruleApplicationGraph),this.cy1.renderGraph(m.ruleApplicationGraph)),m.hasOwnProperty("report")&&(this.ligerreport.nativeElement.innerHTML=m.report),this.batchDeduce(this.gswbMultipleRequest)},m=>{console.error("An error occurred:",m)})}batchMultistage(e){this.gswbPreferences.onSubmit();let r=e.split("\n").filter(c=>{let m=c.trim();return""!==m&&!m.startsWith("#")}),i={};for(let c=0;c<r.length;c++)i["S"+c]=r[c];this.dataService.ligerBatchMultistage({sentences:i,ruleString:null}).subscribe(c=>{if(console.log(c),c.hasOwnProperty("annotations")){console.log(c.annotations);let m={};for(let[_,R]of Object.entries(c.annotations))m[_]=R.meaningConstructors;this.gswbMultipleRequest={premises:m,gswbPreferences:this.gswbPreferences.gswbPreferences},console.log("Specified request: ",this.gswbMultipleRequest)}c.hasOwnProperty("report")&&(this.ligerreport.nativeElement.innerHTML=c.report),this.batchDeduce(this.gswbMultipleRequest)},c=>{console.error("An error occurred:",c)})}batchDeduce(e){console.log("gswbRequest: ",e),this.dataService.gswbBatchDeduce(e).subscribe(r=>{console.log(r),r.hasOwnProperty("report")&&(this.gswbreport.nativeElement.innerHTML=r.report)},r=>{console.error("An error occurred:",r)})}}return t.\u0275fac=function(e){return new(e||t)(We($g))},t.\u0275cmp=Or({type:t,selectors:[["app-regression-testing-interface"]],viewQuery:function(e,r){if(1&e&&(Yn(uY,5),Yn(cY,5),Yn(dY,5),Yn(fY,5)),2&e){let i;Rn(i=kn())&&(r.cy1=i.first),Rn(i=kn())&&(r.ligerreport=i.first),Rn(i=kn())&&(r.gswbreport=i.first),Rn(i=kn())&&(r.gswbPreferences=i.first)}},decls:41,vars:3,consts:[[1,"frame"],[1,"editor-restr"],[3,"mode"],["testsuite",""],["type","liger","showText","Show input rules","hideText","Hide input rules"],[1,"gradient-container"],["ligerRules",""],[1,"bar-container"],[1,"gradient-bar"],[1,"empty-space"],["gswbSettings",""],[3,"click"],[1,"button","beta",3,"click"],[1,"log"],["ligerreport",""],["gswbreport",""],["type","liger","showText","Show applied rules","hideText","Hide applied rules"],[3,"graphID"],["arcy",""]],template:function(e,r){if(1&e){const i=Ol();st(0,"div",0)(1,"h3"),Nt(2," Grammar:\n"),it(),Fn(3,"app-grammar-loader"),st(4,"h3"),Nt(5," Testsuite:\n"),it(),st(6,"div",1),Fn(7,"app-editor",2,3),it(),Fn(9,"br"),st(10,"app-toggle-display",4)(11,"h3"),Nt(12," Test rules:\n"),it(),st(13,"div",5)(14,"div",1),Fn(15,"app-editor",2,6),it(),st(17,"div",7),Fn(18,"div",8)(19,"div",9),it()()(),Fn(20,"app-gswb-settings",null,10),st(22,"button",11),Tn("click",function(){Zn(i);const c=sl(8),m=sl(16);return eo(r.batchParse(c.getContent(),m.getContent()))}),Nt(23,"Parse all"),it(),st(24,"button",12),Tn("click",function(){Zn(i);const c=sl(8);return eo(r.batchMultistage(c.getContent()))}),Nt(25,"Multi stage"),it(),st(26,"h3"),Nt(27," Report:\n"),it(),Fn(28,"textarea",13,14),st(30,"textarea",13,15),Nt(32,"\n  "),it(),Fn(33,"br")(34,"br"),st(35,"app-toggle-display",16)(36,"h3"),Nt(37," Applied rules:\n"),it(),st(38,"div"),Fn(39,"app-applied-rules-graph",17,18),it()()()}2&e&&(ln(7),cn("mode","text"),ln(8),cn("mode","liger"),ln(24),cn("graphID","arCy1"))},dependencies:[Hv,lY,qv,Dx,Vx],styles:[".gradient-container[_ngcontent-%COMP%]{display:flex;align-items:stretch;max-width:100%}.bar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.gradient-bar[_ngcontent-%COMP%]{flex-grow:1;width:20px;background:linear-gradient(to bottom,yellow,red)}.empty-space[_ngcontent-%COMP%]{width:20px;height:30px}textarea[_ngcontent-%COMP%]{width:50%;resize:both;overflow:auto;padding-left:20px}.frame[_ngcontent-%COMP%]{padding-left:10px}"]}),t})()},{path:"inference",component:oY},{path:"home",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Or({type:t,selectors:[["app-home"]],decls:55,vars:0,consts:[["href","https://github.com/Mmaz1988/GlueSemWorkbench_v2"],["href","https://github.com/Mmaz1988/liger"],["href","https://github.com/Mmaz1988/xle-glueworkbench-interface"],["href","https://github.com/Mmaz1988/xleplusglue-client"],["href","https://cloud.uni-konstanz.de/index.php/s/RQ6ziY2xkHkjpGM"]],template:function(e,r){1&e&&(st(0,"div")(1,"h1"),Nt(2," The XLE+Glue web application"),it(),st(3,"p"),Nt(4,"This page presents several resources used for exploring LFG's glue semantics. Concretely, it presents the\n"),st(5,"a",0),Nt(6," Glue semantics workbench "),it(),Nt(7,"and the "),st(8,"a",1),Nt(9," LiGER rewrite system "),it(),Nt(10,". It also serves as a revised frontend for the original "),st(11,"a",2),Nt(12,"XLE + Glue"),it(),Nt(13,". As all of these resources, this frontend is open source.\nIt is available at: "),st(14,"a",3),Nt(15,"XLE+Glue client"),it()(),st(16,"h2"),Nt(17,"Quick start"),it(),st(18,"h2"),Nt(19,"Running the system locally"),it(),st(20,"p"),Nt(21," To run this system, you require: "),it(),st(22,"ul")(23,"li"),Nt(24," A running version of the GSWB "),it(),st(25,"li"),Nt(26," A running version of LiGER "),it(),st(27,"li"),Nt(28," A running version of the client "),it()(),st(29,"p"),Nt(30," You either need to compile your own jar files for the GSWB and LiGER, or you can use the ones provided at "),st(31,"a",4),Nt(32,"XLE+Glue resources"),it(),Nt(33,". Please contact Mark-Matthias Zymla if you can't access the relevant files. You need to run both -jar files with the "),st(34,"b"),Nt(35,"-web"),it(),Nt(36," parameter. Furthermore, they require resource folders to be present in the same directory as the jar files. These resource folders contain additional requirements explained on the corresponding github pages. "),it(),st(37,"p"),Nt(38," The frontend is written in angular. To use it locally, you need to install node.js and npm. Then, you can run "),st(39,"b"),Nt(40,"ng build"),it(),Nt(41," in the client directory to build the frontend, which is then stored in the dist directory. You can use "),st(42,"b"),Nt(43,"http-server"),it(),Nt(44," to serve the frontend. It can be installed with "),st(45,"b"),Nt(46,"npm install -g http-server"),it(),Nt(47,". Then, you can run "),st(48,"b"),Nt(49,"http-server dist/xleplusglue-cient"),it(),Nt(50," to serve the frontend. Http-server will tell you the correct address. "),it(),st(51,"p"),Nt(52,"If you have node.js and http-server installed, you can also try to use the pre-build version available at: "),Fn(53,"a",3),Nt(54,". There, you also find the relevant resource folders for the GSWB\nand LiGER and a .sh file that allows you to execute the backend (i.e., the GSWB and LiGER jars) and frontend with a single command. "),it()())},styles:["div[_ngcontent-%COMP%]{padding-left:20px}p[_ngcontent-%COMP%]{width:800px}"]}),t})()}];let pY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=qr({imports:[gA.forRoot(hY),gA]}),t})(),gY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t,bootstrap:[z4]}),t.\u0275inj=qr({imports:[iI,kU,iG,RU,bC,pY,I$,G$,t9,H7,aj]}),t})();t3().bootstrapModule(gY).catch(t=>console.error(t))},7925:($,ae,D)=>{"use strict";D.r(ae),D.d(ae,{afterMain:()=>te,afterRead:()=>le,afterWrite:()=>oe,applyStyles:()=>ft,arrow:()=>Li,auto:()=>C,basePlacements:()=>S,beforeMain:()=>se,beforeRead:()=>ce,beforeWrite:()=>pe,bottom:()=>k,clippingParents:()=>V,computeStyles:()=>Bl,createPopper:()=>Wn,createPopperBase:()=>rd,createPopperLite:()=>Ms,detectOverflow:()=>Aa,end:()=>A,eventListeners:()=>dl,flip:()=>gu,hide:()=>Ju,left:()=>I,main:()=>he,modifierPhases:()=>ie,offset:()=>tc,placements:()=>ee,popper:()=>B,popperGenerator:()=>ko,popperOffsets:()=>ni,preventOverflow:()=>Zi,read:()=>ne,reference:()=>H,right:()=>N,start:()=>O,top:()=>T,variationPlacements:()=>Y,viewport:()=>L,write:()=>Z});var T="top",k="bottom",N="right",I="left",C="auto",S=[T,k,N,I],O="start",A="end",V="clippingParents",L="viewport",B="popper",H="reference",Y=S.reduce(function(Ne,Re){return Ne.concat([Re+"-"+O,Re+"-"+A])},[]),ee=[].concat(S,[C]).reduce(function(Ne,Re){return Ne.concat([Re,Re+"-"+O,Re+"-"+A])},[]),ce="beforeRead",ne="read",le="afterRead",se="beforeMain",he="main",te="afterMain",pe="beforeWrite",Z="write",oe="afterWrite",ie=[ce,ne,le,se,he,te,pe,Z,oe];function me(Ne){return Ne?(Ne.nodeName||"").toLowerCase():null}function _e(Ne){if(null==Ne)return window;if("[object Window]"!==Ne.toString()){var Re=Ne.ownerDocument;return Re&&Re.defaultView||window}return Ne}function Se(Ne){return Ne instanceof _e(Ne).Element||Ne instanceof Element}function De(Ne){return Ne instanceof _e(Ne).HTMLElement||Ne instanceof HTMLElement}function ze(Ne){return!(typeof ShadowRoot>"u")&&(Ne instanceof _e(Ne).ShadowRoot||Ne instanceof ShadowRoot)}const ft={name:"applyStyles",enabled:!0,phase:"write",fn:function Be(Ne){var Re=Ne.state;Object.keys(Re.elements).forEach(function(Ve){var et=Re.styles[Ve]||{},qe=Re.attributes[Ve]||{},Zt=Re.elements[Ve];!De(Zt)||!me(Zt)||(Object.assign(Zt.style,et),Object.keys(qe).forEach(function(gn){var Vt=qe[gn];!1===Vt?Zt.removeAttribute(gn):Zt.setAttribute(gn,!0===Vt?"":Vt)}))})},effect:function ot(Ne){var Re=Ne.state,Ve={popper:{position:Re.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(Re.elements.popper.style,Ve.popper),Re.styles=Ve,Re.elements.arrow&&Object.assign(Re.elements.arrow.style,Ve.arrow),function(){Object.keys(Re.elements).forEach(function(et){var qe=Re.elements[et],Zt=Re.attributes[et]||{},Vt=Object.keys(Re.styles.hasOwnProperty(et)?Re.styles[et]:Ve[et]).reduce(function(Jt,Hn){return Jt[Hn]="",Jt},{});!De(qe)||!me(qe)||(Object.assign(qe.style,Vt),Object.keys(Zt).forEach(function(Jt){qe.removeAttribute(Jt)}))})}},requires:["computeStyles"]};function Ye(Ne){return Ne.split("-")[0]}var _t=Math.max,Xe=Math.min,Kt=Math.round;function Ht(){var Ne=navigator.userAgentData;return null!=Ne&&Ne.brands&&Array.isArray(Ne.brands)?Ne.brands.map(function(Re){return Re.brand+"/"+Re.version}).join(" "):navigator.userAgent}function Mt(){return!/^((?!chrome|android).)*safari/i.test(Ht())}function mn(Ne,Re,Ve){void 0===Re&&(Re=!1),void 0===Ve&&(Ve=!1);var et=Ne.getBoundingClientRect(),qe=1,Zt=1;Re&&De(Ne)&&(qe=Ne.offsetWidth>0&&Kt(et.width)/Ne.offsetWidth||1,Zt=Ne.offsetHeight>0&&Kt(et.height)/Ne.offsetHeight||1);var Vt=(Se(Ne)?_e(Ne):window).visualViewport,Jt=!Mt()&&Ve,Hn=(et.left+(Jt&&Vt?Vt.offsetLeft:0))/qe,Bt=(et.top+(Jt&&Vt?Vt.offsetTop:0))/Zt,Ir=et.width/qe,er=et.height/Zt;return{width:Ir,height:er,top:Bt,right:Hn+Ir,bottom:Bt+er,left:Hn,x:Hn,y:Bt}}function un(Ne){var Re=mn(Ne),Ve=Ne.offsetWidth,et=Ne.offsetHeight;return Math.abs(Re.width-Ve)<=1&&(Ve=Re.width),Math.abs(Re.height-et)<=1&&(et=Re.height),{x:Ne.offsetLeft,y:Ne.offsetTop,width:Ve,height:et}}function lt(Ne,Re){var Ve=Re.getRootNode&&Re.getRootNode();if(Ne.contains(Re))return!0;if(Ve&&ze(Ve)){var et=Re;do{if(et&&Ne.isSameNode(et))return!0;et=et.parentNode||et.host}while(et)}return!1}function tt(Ne){return _e(Ne).getComputedStyle(Ne)}function ht(Ne){return["table","td","th"].indexOf(me(Ne))>=0}function Ft(Ne){return((Se(Ne)?Ne.ownerDocument:Ne.document)||window.document).documentElement}function Dt(Ne){return"html"===me(Ne)?Ne:Ne.assignedSlot||Ne.parentNode||(ze(Ne)?Ne.host:null)||Ft(Ne)}function Xn(Ne){return De(Ne)&&"fixed"!==tt(Ne).position?Ne.offsetParent:null}function Dr(Ne){for(var Re=_e(Ne),Ve=Xn(Ne);Ve&&ht(Ve)&&"static"===tt(Ve).position;)Ve=Xn(Ve);return Ve&&("html"===me(Ve)||"body"===me(Ve)&&"static"===tt(Ve).position)?Re:Ve||function Jn(Ne){var Re=/firefox/i.test(Ht());if(/Trident/i.test(Ht())&&De(Ne)&&"fixed"===tt(Ne).position)return null;var qe=Dt(Ne);for(ze(qe)&&(qe=qe.host);De(qe)&&["html","body"].indexOf(me(qe))<0;){var Zt=tt(qe);if("none"!==Zt.transform||"none"!==Zt.perspective||"paint"===Zt.contain||-1!==["transform","perspective"].indexOf(Zt.willChange)||Re&&"filter"===Zt.willChange||Re&&Zt.filter&&"none"!==Zt.filter)return qe;qe=qe.parentNode}return null}(Ne)||Re}function Rr(Ne){return["top","bottom"].indexOf(Ne)>=0?"x":"y"}function _r(Ne,Re,Ve){return _t(Ne,Xe(Re,Ve))}function Yr(Ne){return Object.assign({},{top:0,right:0,bottom:0,left:0},Ne)}function dn(Ne,Re){return Re.reduce(function(Ve,et){return Ve[et]=Ne,Ve},{})}const Li={name:"arrow",enabled:!0,phase:"main",fn:function ro(Ne){var Re,Ve=Ne.state,et=Ne.name,qe=Ne.options,Zt=Ve.elements.arrow,gn=Ve.modifiersData.popperOffsets,Vt=Ye(Ve.placement),Jt=Rr(Vt),Bt=[I,N].indexOf(Vt)>=0?"height":"width";if(Zt&&gn){var Ir=function(Re,Ve){return Yr("number"!=typeof(Re="function"==typeof Re?Re(Object.assign({},Ve.rects,{placement:Ve.placement})):Re)?Re:dn(Re,S))}(qe.padding,Ve),er=un(Zt),or="y"===Jt?T:I,ri="y"===Jt?k:N,Sn=Ve.rects.reference[Bt]+Ve.rects.reference[Jt]-gn[Jt]-Ve.rects.popper[Bt],nn=gn[Jt]-Ve.rects.reference[Jt],Pr=Dr(Zt),pi=Pr?"y"===Jt?Pr.clientHeight||0:Pr.clientWidth||0:0,Lr=pi/2-er[Bt]/2+(Sn/2-nn/2),vn=_r(Ir[or],Lr,pi-er[Bt]-Ir[ri]);Ve.modifiersData[et]=((Re={})[Jt]=vn,Re.centerOffset=vn-Lr,Re)}},effect:function Pi(Ne){var Re=Ne.state,et=Ne.options.element,qe=void 0===et?"[data-popper-arrow]":et;null!=qe&&("string"==typeof qe&&!(qe=Re.elements.popper.querySelector(qe))||lt(Re.elements.popper,qe)&&(Re.elements.arrow=qe))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Gr(Ne){return Ne.split("-")[1]}var Xi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ds(Ne){var Re,Ve=Ne.popper,et=Ne.popperRect,qe=Ne.placement,Zt=Ne.variation,gn=Ne.offsets,Vt=Ne.position,Jt=Ne.gpuAcceleration,Hn=Ne.adaptive,Bt=Ne.roundOffsets,Ir=Ne.isFixed,er=gn.x,or=void 0===er?0:er,ri=gn.y,Sn=void 0===ri?0:ri,nn="function"==typeof Bt?Bt({x:or,y:Sn}):{x:or,y:Sn};or=nn.x,Sn=nn.y;var Pr=gn.hasOwnProperty("x"),pi=gn.hasOwnProperty("y"),li=I,gr=T,Ze=window;if(Hn){var Lr=Dr(Ve),vn="clientHeight",zn="clientWidth";Lr===_e(Ve)&&"static"!==tt(Lr=Ft(Ve)).position&&"absolute"===Vt&&(vn="scrollHeight",zn="scrollWidth"),(qe===T||(qe===I||qe===N)&&Zt===A)&&(gr=k,Sn-=(Ir&&Lr===Ze&&Ze.visualViewport?Ze.visualViewport.height:Lr[vn])-et.height,Sn*=Jt?1:-1),qe!==I&&(qe!==T&&qe!==k||Zt!==A)||(li=N,or-=(Ir&&Lr===Ze&&Ze.visualViewport?Ze.visualViewport.width:Lr[zn])-et.width,or*=Jt?1:-1)}var Nr,mo=Object.assign({position:Vt},Hn&&Xi),Vi=!0===Bt?function ja(Ne,Re){var et=Ne.y,qe=Re.devicePixelRatio||1;return{x:Kt(Ne.x*qe)/qe||0,y:Kt(et*qe)/qe||0}}({x:or,y:Sn},_e(Ve)):{x:or,y:Sn};return or=Vi.x,Sn=Vi.y,Object.assign({},mo,Jt?((Nr={})[gr]=pi?"0":"",Nr[li]=Pr?"0":"",Nr.transform=(Ze.devicePixelRatio||1)<=1?"translate("+or+"px, "+Sn+"px)":"translate3d("+or+"px, "+Sn+"px, 0)",Nr):((Re={})[gr]=pi?Sn+"px":"",Re[li]=Pr?or+"px":"",Re.transform="",Re))}const Bl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function In(Ne){var Re=Ne.state,Ve=Ne.options,et=Ve.gpuAcceleration,qe=void 0===et||et,Zt=Ve.adaptive,gn=void 0===Zt||Zt,Vt=Ve.roundOffsets,Jt=void 0===Vt||Vt,Hn={placement:Ye(Re.placement),variation:Gr(Re.placement),popper:Re.elements.popper,popperRect:Re.rects.popper,gpuAcceleration:qe,isFixed:"fixed"===Re.options.strategy};null!=Re.modifiersData.popperOffsets&&(Re.styles.popper=Object.assign({},Re.styles.popper,Ds(Object.assign({},Hn,{offsets:Re.modifiersData.popperOffsets,position:Re.options.strategy,adaptive:gn,roundOffsets:Jt})))),null!=Re.modifiersData.arrow&&(Re.styles.arrow=Object.assign({},Re.styles.arrow,Ds(Object.assign({},Hn,{offsets:Re.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Jt})))),Re.attributes.popper=Object.assign({},Re.attributes.popper,{"data-popper-placement":Re.placement})},data:{}};var Yo={passive:!0};const dl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Xo(Ne){var Re=Ne.state,Ve=Ne.instance,et=Ne.options,qe=et.scroll,Zt=void 0===qe||qe,gn=et.resize,Vt=void 0===gn||gn,Jt=_e(Re.elements.popper),Hn=[].concat(Re.scrollParents.reference,Re.scrollParents.popper);return Zt&&Hn.forEach(function(Bt){Bt.addEventListener("scroll",Ve.update,Yo)}),Vt&&Jt.addEventListener("resize",Ve.update,Yo),function(){Zt&&Hn.forEach(function(Bt){Bt.removeEventListener("scroll",Ve.update,Yo)}),Vt&&Jt.removeEventListener("resize",Ve.update,Yo)}},data:{}};var Wa={left:"right",right:"left",bottom:"top",top:"bottom"};function Ss(Ne){return Ne.replace(/left|right|bottom|top/g,function(Re){return Wa[Re]})}var _n={start:"end",end:"start"};function ga(Ne){return Ne.replace(/start|end/g,function(Re){return _n[Re]})}function go(Ne){var Re=_e(Ne);return{scrollLeft:Re.pageXOffset,scrollTop:Re.pageYOffset}}function hi(Ne){return mn(Ft(Ne)).left+go(Ne).scrollLeft}function Di(Ne){var Re=tt(Ne);return/auto|scroll|overlay|hidden/.test(Re.overflow+Re.overflowY+Re.overflowX)}function Ma(Ne){return["html","body","#document"].indexOf(me(Ne))>=0?Ne.ownerDocument.body:De(Ne)&&Di(Ne)?Ne:Ma(Dt(Ne))}function Fi(Ne,Re){var Ve;void 0===Re&&(Re=[]);var et=Ma(Ne),qe=et===(null==(Ve=Ne.ownerDocument)?void 0:Ve.body),Zt=_e(et),gn=qe?[Zt].concat(Zt.visualViewport||[],Di(et)?et:[]):et,Vt=Re.concat(gn);return qe?Vt:Vt.concat(Fi(Dt(gn)))}function Xs(Ne){return Object.assign({},Ne,{left:Ne.x,top:Ne.y,right:Ne.x+Ne.width,bottom:Ne.y+Ne.height})}function Ia(Ne,Re,Ve){return Re===L?Xs(function Ki(Ne,Re){var Ve=_e(Ne),et=Ft(Ne),qe=Ve.visualViewport,Zt=et.clientWidth,gn=et.clientHeight,Vt=0,Jt=0;if(qe){Zt=qe.width,gn=qe.height;var Hn=Mt();(Hn||!Hn&&"fixed"===Re)&&(Vt=qe.offsetLeft,Jt=qe.offsetTop)}return{width:Zt,height:gn,x:Vt+hi(Ne),y:Jt}}(Ne,Ve)):Se(Re)?function Qc(Ne,Re){var Ve=mn(Ne,!1,"fixed"===Re);return Ve.top=Ve.top+Ne.clientTop,Ve.left=Ve.left+Ne.clientLeft,Ve.bottom=Ve.top+Ne.clientHeight,Ve.right=Ve.left+Ne.clientWidth,Ve.width=Ne.clientWidth,Ve.height=Ne.clientHeight,Ve.x=Ve.left,Ve.y=Ve.top,Ve}(Re,Ve):Xs(function pu(Ne){var Re,Ve=Ft(Ne),et=go(Ne),qe=null==(Re=Ne.ownerDocument)?void 0:Re.body,Zt=_t(Ve.scrollWidth,Ve.clientWidth,qe?qe.scrollWidth:0,qe?qe.clientWidth:0),gn=_t(Ve.scrollHeight,Ve.clientHeight,qe?qe.scrollHeight:0,qe?qe.clientHeight:0),Vt=-et.scrollLeft+hi(Ne),Jt=-et.scrollTop;return"rtl"===tt(qe||Ve).direction&&(Vt+=_t(Ve.clientWidth,qe?qe.clientWidth:0)-Zt),{width:Zt,height:gn,x:Vt,y:Jt}}(Ft(Ne)))}function os(Ne){var Jt,Re=Ne.reference,Ve=Ne.element,et=Ne.placement,qe=et?Ye(et):null,Zt=et?Gr(et):null,gn=Re.x+Re.width/2-Ve.width/2,Vt=Re.y+Re.height/2-Ve.height/2;switch(qe){case T:Jt={x:gn,y:Re.y-Ve.height};break;case k:Jt={x:gn,y:Re.y+Re.height};break;case N:Jt={x:Re.x+Re.width,y:Vt};break;case I:Jt={x:Re.x-Ve.width,y:Vt};break;default:Jt={x:Re.x,y:Re.y}}var Hn=qe?Rr(qe):null;if(null!=Hn){var Bt="y"===Hn?"height":"width";switch(Zt){case O:Jt[Hn]=Jt[Hn]-(Re[Bt]/2-Ve[Bt]/2);break;case A:Jt[Hn]=Jt[Hn]+(Re[Bt]/2-Ve[Bt]/2)}}return Jt}function Aa(Ne,Re){void 0===Re&&(Re={});var et=Re.placement,qe=void 0===et?Ne.placement:et,Zt=Re.strategy,gn=void 0===Zt?Ne.strategy:Zt,Vt=Re.boundary,Jt=void 0===Vt?V:Vt,Hn=Re.rootBoundary,Bt=void 0===Hn?L:Hn,Ir=Re.elementContext,er=void 0===Ir?B:Ir,or=Re.altBoundary,ri=void 0!==or&&or,Sn=Re.padding,nn=void 0===Sn?0:Sn,Pr=Yr("number"!=typeof nn?nn:dn(nn,S)),li=Ne.rects.popper,gr=Ne.elements[ri?er===B?H:B:er],Ze=function Jc(Ne,Re,Ve,et){var qe="clippingParents"===Re?function Ks(Ne){var Re=Fi(Dt(Ne)),et=["absolute","fixed"].indexOf(tt(Ne).position)>=0&&De(Ne)?Dr(Ne):Ne;return Se(et)?Re.filter(function(qe){return Se(qe)&&lt(qe,et)&&"body"!==me(qe)}):[]}(Ne):[].concat(Re),Zt=[].concat(qe,[Ve]),Vt=Zt.reduce(function(Jt,Hn){var Bt=Ia(Ne,Hn,et);return Jt.top=_t(Bt.top,Jt.top),Jt.right=Xe(Bt.right,Jt.right),Jt.bottom=Xe(Bt.bottom,Jt.bottom),Jt.left=_t(Bt.left,Jt.left),Jt},Ia(Ne,Zt[0],et));return Vt.width=Vt.right-Vt.left,Vt.height=Vt.bottom-Vt.top,Vt.x=Vt.left,Vt.y=Vt.top,Vt}(Se(gr)?gr:gr.contextElement||Ft(Ne.elements.popper),Jt,Bt,gn),Lr=mn(Ne.elements.reference),vn=os({reference:Lr,element:li,strategy:"absolute",placement:qe}),zn=Xs(Object.assign({},li,vn)),ui=er===B?zn:Lr,Bi={top:Ze.top-ui.top+Pr.top,bottom:ui.bottom-Ze.bottom+Pr.bottom,left:Ze.left-ui.left+Pr.left,right:ui.right-Ze.right+Pr.right},mo=Ne.modifiersData.offset;if(er===B&&mo){var Vi=mo[qe];Object.keys(Bi).forEach(function(Nr){var Zs=[N,k].indexOf(Nr)>=0?1:-1,ci=[T,k].indexOf(Nr)>=0?"y":"x";Bi[Nr]+=Vi[ci]*Zs})}return Bi}const gu={name:"flip",enabled:!0,phase:"main",fn:function ed(Ne){var Re=Ne.state,Ve=Ne.options,et=Ne.name;if(!Re.modifiersData[et]._skip){for(var qe=Ve.mainAxis,Zt=void 0===qe||qe,gn=Ve.altAxis,Vt=void 0===gn||gn,Jt=Ve.fallbackPlacements,Hn=Ve.padding,Bt=Ve.boundary,Ir=Ve.rootBoundary,er=Ve.altBoundary,or=Ve.flipVariations,ri=void 0===or||or,Sn=Ve.allowedAutoPlacements,nn=Re.options.placement,Pr=Ye(nn),li=Jt||(Pr!==nn&&ri?function as(Ne){if(Ye(Ne)===C)return[];var Re=Ss(Ne);return[ga(Ne),Re,ga(Re)]}(nn):[Ss(nn)]),gr=[nn].concat(li).reduce(function(Oa,Is){return Oa.concat(Ye(Is)===C?function ch(Ne,Re){void 0===Re&&(Re={});var qe=Re.boundary,Zt=Re.rootBoundary,gn=Re.padding,Vt=Re.flipVariations,Jt=Re.allowedAutoPlacements,Hn=void 0===Jt?ee:Jt,Bt=Gr(Re.placement),Ir=Bt?Vt?Y:Y.filter(function(ri){return Gr(ri)===Bt}):S,er=Ir.filter(function(ri){return Hn.indexOf(ri)>=0});0===er.length&&(er=Ir);var or=er.reduce(function(ri,Sn){return ri[Sn]=Aa(Ne,{placement:Sn,boundary:qe,rootBoundary:Zt,padding:gn})[Ye(Sn)],ri},{});return Object.keys(or).sort(function(ri,Sn){return or[ri]-or[Sn]})}(Re,{placement:Is,boundary:Bt,rootBoundary:Ir,padding:Hn,flipVariations:ri,allowedAutoPlacements:Sn}):Is)},[]),Ze=Re.rects.reference,Lr=Re.rects.popper,vn=new Map,zn=!0,ui=gr[0],Bi=0;Bi<gr.length;Bi++){var mo=gr[Bi],Vi=Ye(mo),Nr=Gr(mo)===O,Zs=[T,k].indexOf(Vi)>=0,ci=Zs?"width":"height",vo=Aa(Re,{placement:mo,boundary:Bt,rootBoundary:Ir,altBoundary:er,padding:Hn}),Qi=Zs?Nr?N:I:Nr?k:T;Ze[ci]>Lr[ci]&&(Qi=Ss(Qi));var qs=Ss(Qi),Si=[];if(Zt&&Si.push(vo[Vi]<=0),Vt&&Si.push(vo[Qi]<=0,vo[qs]<=0),Si.every(function(Oa){return Oa})){ui=mo,zn=!1;break}vn.set(mo,Si)}if(zn)for(var nc=function(Is){var io=gr.find(function(tr){var Ya=vn.get(tr);if(Ya)return Ya.slice(0,Is).every(function(df){return df})});if(io)return ui=io,"break"},Hl=ri?3:1;Hl>0&&"break"!==nc(Hl);Hl--);Re.placement!==ui&&(Re.modifiersData[et]._skip=!0,Re.placement=ui,Re.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Qu(Ne,Re,Ve){return void 0===Ve&&(Ve={x:0,y:0}),{top:Ne.top-Re.height-Ve.y,right:Ne.right-Re.width+Ve.x,bottom:Ne.bottom-Re.height+Ve.y,left:Ne.left-Re.width-Ve.x}}function Oo(Ne){return[T,N,k,I].some(function(Re){return Ne[Re]>=0})}const Ju={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function td(Ne){var Re=Ne.state,Ve=Ne.name,et=Re.rects.reference,qe=Re.rects.popper,Zt=Re.modifiersData.preventOverflow,gn=Aa(Re,{elementContext:"reference"}),Vt=Aa(Re,{altBoundary:!0}),Jt=Qu(gn,et),Hn=Qu(Vt,qe,Zt),Bt=Oo(Jt),Ir=Oo(Hn);Re.modifiersData[Ve]={referenceClippingOffsets:Jt,popperEscapeOffsets:Hn,isReferenceHidden:Bt,hasPopperEscaped:Ir},Re.attributes.popper=Object.assign({},Re.attributes.popper,{"data-popper-reference-hidden":Bt,"data-popper-escaped":Ir})}},tc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Ts(Ne){var Re=Ne.state,et=Ne.name,qe=Ne.options.offset,Zt=void 0===qe?[0,0]:qe,gn=ee.reduce(function(Bt,Ir){return Bt[Ir]=function ec(Ne,Re,Ve){var et=Ye(Ne),qe=[I,T].indexOf(et)>=0?-1:1,Zt="function"==typeof Ve?Ve(Object.assign({},Re,{placement:Ne})):Ve,gn=Zt[0],Vt=Zt[1];return gn=gn||0,Vt=(Vt||0)*qe,[I,N].indexOf(et)>=0?{x:Vt,y:gn}:{x:gn,y:Vt}}(Ir,Re.rects,Zt),Bt},{}),Vt=gn[Re.placement],Hn=Vt.y;null!=Re.modifiersData.popperOffsets&&(Re.modifiersData.popperOffsets.x+=Vt.x,Re.modifiersData.popperOffsets.y+=Hn),Re.modifiersData[et]=gn}},ni={name:"popperOffsets",enabled:!0,phase:"read",fn:function nd(Ne){var Re=Ne.state;Re.modifiersData[Ne.name]=os({reference:Re.rects.reference,element:Re.rects.popper,strategy:"absolute",placement:Re.placement})},data:{}},Zi={name:"preventOverflow",enabled:!0,phase:"main",fn:function Sr(Ne){var Re=Ne.state,Ve=Ne.options,et=Ne.name,qe=Ve.mainAxis,Zt=void 0===qe||qe,gn=Ve.altAxis,Vt=void 0!==gn&&gn,er=Ve.tether,or=void 0===er||er,ri=Ve.tetherOffset,Sn=void 0===ri?0:ri,nn=Aa(Re,{boundary:Ve.boundary,rootBoundary:Ve.rootBoundary,padding:Ve.padding,altBoundary:Ve.altBoundary}),Pr=Ye(Re.placement),pi=Gr(Re.placement),li=!pi,gr=Rr(Pr),Ze=function Na(Ne){return"x"===Ne?"y":"x"}(gr),Lr=Re.modifiersData.popperOffsets,vn=Re.rects.reference,zn=Re.rects.popper,ui="function"==typeof Sn?Sn(Object.assign({},Re.rects,{placement:Re.placement})):Sn,Bi="number"==typeof ui?{mainAxis:ui,altAxis:ui}:Object.assign({mainAxis:0,altAxis:0},ui),mo=Re.modifiersData.offset?Re.modifiersData.offset[Re.placement]:null,Vi={x:0,y:0};if(Lr){if(Zt){var Nr,Zs="y"===gr?T:I,ci="y"===gr?k:N,vo="y"===gr?"height":"width",Qi=Lr[gr],qs=Qi+nn[Zs],Si=Qi-nn[ci],Vl=or?-zn[vo]/2:0,nc=pi===O?vn[vo]:zn[vo],Hl=pi===O?-zn[vo]:-vn[vo],rc=Re.elements.arrow,Oa=or&&rc?un(rc):{width:0,height:0},Is=Re.modifiersData["arrow#persistent"]?Re.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},io=Is[Zs],tr=Is[ci],Ya=_r(0,vn[vo],Oa[vo]),df=li?vn[vo]/2-Vl-Ya-io-Bi.mainAxis:nc-Ya-io-Bi.mainAxis,od=li?-vn[vo]/2+Vl+Ya+tr+Bi.mainAxis:Hl+Ya+tr+Bi.mainAxis,rn=Re.elements.arrow&&Dr(Re.elements.arrow),fl=rn?"y"===gr?rn.clientTop||0:rn.clientLeft||0:0,qr=null!=(Nr=mo?.[gr])?Nr:0,ic=Qi+od-qr,mu=_r(or?Xe(qs,Qi+df-qr-fl):qs,Qi,or?_t(Si,ic):Si);Lr[gr]=mu,Vi[gr]=mu-Qi}if(Vt){var hl,As=Lr[Ze],zl="y"===Ze?"height":"width",oc=As+nn["x"===gr?T:I],Pn=As-nn["x"===gr?k:N],Xa=-1!==[T,I].indexOf(Pr),pl=null!=(hl=mo?.[Ze])?hl:0,yo=Xa?oc:As-vn[zl]-zn[zl]-pl+Bi.altAxis,ss=Xa?As+vn[zl]+zn[zl]-pl-Bi.altAxis:Pn,Ul=or&&Xa?function wn(Ne,Re,Ve){var et=_r(Ne,Re,Ve);return et>Ve?Ve:et}(yo,As,ss):_r(or?yo:oc,As,or?ss:Pn);Lr[Ze]=Ul,Vi[Ze]=Ul-As}Re.modifiersData[et]=Vi}},requiresIfExists:["offset"]};function Ri(Ne,Re,Ve){void 0===Ve&&(Ve=!1);var et=De(Re),qe=De(Re)&&function cf(Ne){var Re=Ne.getBoundingClientRect(),Ve=Kt(Re.width)/Ne.offsetWidth||1,et=Kt(Re.height)/Ne.offsetHeight||1;return 1!==Ve||1!==et}(Re),Zt=Ft(Re),gn=mn(Ne,qe,Ve),Vt={scrollLeft:0,scrollTop:0},Jt={x:0,y:0};return(et||!et&&!Ve)&&(("body"!==me(Re)||Di(Zt))&&(Vt=function ma(Ne){return Ne!==_e(Ne)&&De(Ne)?function Oi(Ne){return{scrollLeft:Ne.scrollLeft,scrollTop:Ne.scrollTop}}(Ne):go(Ne)}(Re)),De(Re)?((Jt=mn(Re,!0)).x+=Re.clientLeft,Jt.y+=Re.clientTop):Zt&&(Jt.x=hi(Zt))),{x:gn.left+Vt.scrollLeft-Jt.x,y:gn.top+Vt.scrollTop-Jt.y,width:gn.width,height:gn.height}}function Cn(Ne){var Re=new Map,Ve=new Set,et=[];function qe(Zt){Ve.add(Zt.name),[].concat(Zt.requires||[],Zt.requiresIfExists||[]).forEach(function(Vt){if(!Ve.has(Vt)){var Jt=Re.get(Vt);Jt&&qe(Jt)}}),et.push(Zt)}return Ne.forEach(function(Zt){Re.set(Zt.name,Zt)}),Ne.forEach(function(Zt){Ve.has(Zt.name)||qe(Zt)}),et}function $a(Ne){var Re;return function(){return Re||(Re=new Promise(function(Ve){Promise.resolve().then(function(){Re=void 0,Ve(Ne())})})),Re}}var kr={placement:"bottom",modifiers:[],strategy:"absolute"};function qi(){for(var Ne=arguments.length,Re=new Array(Ne),Ve=0;Ve<Ne;Ve++)Re[Ve]=arguments[Ve];return!Re.some(function(et){return!(et&&"function"==typeof et.getBoundingClientRect)})}function ko(Ne){void 0===Ne&&(Ne={});var Ve=Ne.defaultModifiers,et=void 0===Ve?[]:Ve,qe=Ne.defaultOptions,Zt=void 0===qe?kr:qe;return function(Vt,Jt,Hn){void 0===Hn&&(Hn=Zt);var Bt={placement:"bottom",orderedModifiers:[],options:Object.assign({},kr,Zt),modifiersData:{},elements:{reference:Vt,popper:Jt},attributes:{},styles:{}},Ir=[],er=!1,or={state:Bt,setOptions:function(Pr){var pi="function"==typeof Pr?Pr(Bt.options):Pr;Sn(),Bt.options=Object.assign({},Zt,Bt.options,pi),Bt.scrollParents={reference:Se(Vt)?Fi(Vt):Vt.contextElement?Fi(Vt.contextElement):[],popper:Fi(Jt)};var li=function si(Ne){var Re=Cn(Ne);return ie.reduce(function(Ve,et){return Ve.concat(Re.filter(function(qe){return qe.phase===et}))},[])}(function Ro(Ne){var Re=Ne.reduce(function(Ve,et){var qe=Ve[et.name];return Ve[et.name]=qe?Object.assign({},qe,et,{options:Object.assign({},qe.options,et.options),data:Object.assign({},qe.data,et.data)}):et,Ve},{});return Object.keys(Re).map(function(Ve){return Re[Ve]})}([].concat(et,Bt.options.modifiers)));return Bt.orderedModifiers=li.filter(function(gr){return gr.enabled}),function ri(){Bt.orderedModifiers.forEach(function(nn){var pi=nn.options,gr=nn.effect;if("function"==typeof gr){var Ze=gr({state:Bt,name:nn.name,instance:or,options:void 0===pi?{}:pi});Ir.push(Ze||function(){})}})}(),or.update()},forceUpdate:function(){if(!er){var Pr=Bt.elements,pi=Pr.reference,li=Pr.popper;if(qi(pi,li)){Bt.rects={reference:Ri(pi,Dr(li),"fixed"===Bt.options.strategy),popper:un(li)},Bt.reset=!1,Bt.placement=Bt.options.placement,Bt.orderedModifiers.forEach(function(Bi){return Bt.modifiersData[Bi.name]=Object.assign({},Bi.data)});for(var gr=0;gr<Bt.orderedModifiers.length;gr++)if(!0!==Bt.reset){var Ze=Bt.orderedModifiers[gr],Lr=Ze.fn,vn=Ze.options;"function"==typeof Lr&&(Bt=Lr({state:Bt,options:void 0===vn?{}:vn,name:Ze.name,instance:or})||Bt)}else Bt.reset=!1,gr=-1}}},update:$a(function(){return new Promise(function(nn){or.forceUpdate(),nn(Bt)})}),destroy:function(){Sn(),er=!0}};if(!qi(Vt,Jt))return or;function Sn(){Ir.forEach(function(nn){return nn()}),Ir=[]}return or.setOptions(Hn).then(function(nn){!er&&Hn.onFirstUpdate&&Hn.onFirstUpdate(nn)}),or}}var rd=ko(),Wn=ko({defaultModifiers:[dl,ni,Bl,ft,tc,gu,Zi,Li,Ju]}),Ms=ko({defaultModifiers:[dl,ni,Bl,ft]})},5886:function($,ae,D){var T;$.exports=(T=D(4465),function(k){var N={};function I(C){if(N[C])return N[C].exports;var S=N[C]={i:C,l:!1,exports:{}};return k[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=k,I.c=N,I.i=function(C){return C},I.d=function(C,S,O){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:O})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=6)}([function(k,N){k.exports=T},function(k,N,I){"use strict";var C=I(0).LGraph;function S(A,V,L){C.call(this,A,V,L),this.inOrder=void 0,this.currentIndex=0,this.nodeSeparation=void 0,this.stack=[],this.perimeter=0,this.centerX=0,this.centerY=0,this.radius=0}for(var O in S.prototype=Object.create(C.prototype),C)S[O]=C[O];S.prototype.initOrdering=function(){this.inOrder=[]},S.prototype.getOrder=function(){return this.inOrder},S.prototype.getCenterX=function(){return this.centerX},S.prototype.getCenterY=function(){return this.centerY},S.prototype.getRadius=function(){return this.radius},S.prototype.getSize=function(){return this.getNodes().length},S.prototype.getTotalCrossingOfCircle=function(){var V=0;for(var L in this.inOrder){var B=L.getTotalCrossingOfEdges();if(-1===B)return-1;V+=B}return V/4},S.prototype.hasFinishedOrdering=function(){return this.currentIndex===this.getNodes().length},S.prototype.getNodeSeparation=function(){return this.nodeSeparation},S.prototype.setNodeSeparation=function(A){this.nodeSeparation=A},S.prototype.correctAngles=function(){var A=this;A.currentIndex=0,A.inOrder.forEach(function(V){return A.putInOrder(V)})},S.prototype.putInOrder=function(A){for(var V=this,L=V.getNodes(),B=!1,H=0;H<L.length;H++)if(L[H].id==A.id){B=!0;break}if(!B)throw"The node must be a member of LGraph";V.inOrder[V.currentIndex]=A,A.setIndex(V.currentIndex),A.setAngle(0===V.currentIndex?0:V.inOrder[V.currentIndex-1].getAngle()+2*Math.PI*(A.getDiagonal()/2+V.nodeSeparation+V.inOrder[V.currentIndex-1].getDiagonal()/2)/V.perimeter),V.currentIndex++},S.prototype.findNodeToPlace=function(){var A=this,V=void 0;if(0===A.stack.length)V=A.findUnorderedSmallestDegreeNode();else{for(var L=!1;!L&&0!==A.stack.length;)L=!(V=A.stack.pop()).isOrdered();L||(V=void 0)}if(void 0===V&&(V=A.findUnorderedSmallestDegreeNode()),void 0!==V)for(var B=V.getNeighborsSortedByDegree(),H=B.length-1;H>=0;H--){var Y=B[H];Y.isOrdered()||A.stack.push(Y)}return V},S.prototype.calculateRadius=function(){var A=this,V=0;A.getNodes().forEach(function(B){return V+=Math.sqrt(B.getWidth()*B.getWidth()+B.getHeight()*B.getHeight())}),A.perimeter=V+A.getNodes().length*A.nodeSeparation;var L=A.perimeter/(2*Math.PI);A.getParent().setWidth(2*L),A.getParent().setHeight(2*L),A.getParent().setCenter(A.getParent().getWidth(),A.getParent().getHeight()),A.centerX=A.getParent().getCenterX(),A.centerY=A.getParent().getCenterY(),A.radius=A.getParent().getHeight()/2},S.prototype.calculateEdgeCrossingsOfNodes=function(){this.getNodes().forEach(function(A){return A.calculateTotalCrossing()})},S.prototype.loadOldIndicesOfNodes=function(){for(var V=0;V<this.inOrder.length;V++)this.inOrder[V].setIndex(V)},S.prototype.reOrderVertices=function(){var A=this;this.getNodes().forEach(function(V){return A.inOrder[V.getIndex()]=V})},S.prototype.findUnorderedSmallestDegreeNode=function(){var A=Number.MAX_SAFE_INTEGER,V=void 0;return this.getNodes().forEach(function(L){L.getDegree()<A&&!L.isOrdered()&&(A=L.getDegree(),V=L)}),V},k.exports=S},function(k,N,I){"use strict";var C=I(0).LayoutConstants;function S(){}for(var O in C)S[O]=C[O];S.DEFAULT_NODE_SEPARATION=60,k.exports=S},function(k,N,I){"use strict";var C=I(0).LEdge;function S(A,V,L){C.call(this,A,V,L)}for(var O in S.prototype=Object.create(C.prototype),C)S[O]=C[O];S.prototype.getOtherEnd=function(A){return C.prototype.getOtherEnd(A)},S.prototype.crossesWithEdge=function(A){var V=this,L=V.getSource().getIndex(),B=V.getTarget().getIndex(),H=A.getSource().getIndex(),Y=A.getTarget().getIndex();if(-1===L||-1===B||-1===H||-1===Y)return!1;var ee=A.getSource().getCircDistWithTheNode(V.getSource()),ce=A.getTarget().getCircDistWithTheNode(V.getSource()),ne=V.getTarget().getCircDistWithTheNode(V.getSource());return ne<Math.max(ee,ce)&&ne>Math.min(ee,ce)&&0!==ce&&0!==ee},S.prototype.crossingWithEdge=function(A){return this.crossesWithEdge(A)?1:0},S.prototype.calculateTotalCrossingWithList=function(A){var V=this,L=0;return A.forEach(function(B){return L+=V.crossingWithEdge(B)}),L},k.exports=S},function(k,N,I){"use strict";var C=I(0).LNode;function O(V,L,B,H){void 0!==B&&void 0!==H?C.call(this,V,L,B,H):C.call(this,V,L),this.angle=0,this.circleIndex=-1,this.totalCrossingOfEdges=-1,this.isCrossingNumberValid=!1}for(var A in I(0),O.prototype=Object.create(C.prototype),C)O[A]=C[A];O.prototype.getCircle=function(){return this.getOwner()},O.prototype.setIndex=function(V){this.circleIndex=V,this.isCrossingNumberValid=!1},O.prototype.getIndex=function(){return this.circleIndex},O.prototype.getNeighborsSortedByDegree=function(){var L=Array.from(this.getNeighborsList());return(L=L.filter(function(B){return-1===B.getIndex()})).sort(function(B,H){return B.getDegree()-H.getDegree()}),L},O.prototype.getDegree=function(){return this.getEdges().length},O.prototype.isOrdered=function(){return this.getIndex()>-1},O.prototype.setAngle=function(V){this.angle=V},O.prototype.getAngle=function(){return this.angle},O.prototype.getCircDistWithTheNode=function(V){var L=this,B=V.getIndex();if(-1===B||-1===L.getIndex())return-1;var H=L.getIndex()-B;return H<0&&(H+=L.getCircle().getSize()),H},O.prototype.getCrossingNumberWithNode=function(V){var B=0;return this.getEdges().forEach(function(H){V.getEdges().forEach(function(Y){B+=H.crossingWithEdge(Y)})}),B},O.prototype.getTotalCrossingOfEdges=function(){var V=this;return V.isCrossingNumberValid||(V.calculateTotalCrossing(),V.isCrossingNumberValid=!0),V.totalCrossingOfEdges},O.prototype.calculateTotalCrossing=function(){var V=this,L=0,B=[];B.push.apply(B,V.getCircle().getEdges()),B=B.filter(function(H){return V.getEdges().indexOf(H)<0}),V.getEdges().forEach(function(H){return L+=H.calculateTotalCrossingWithList(B)}),V.totalCrossingOfEdges=L},k.exports=O},function(k,N,I){"use strict";var C=I(0).Layout,S=I(2),O=I(1),A=I(4),V=I(3);function L(){C.call(this),this.nodeSeparation=S.DEFAULT_NODE_SEPARATION}for(var B in L.prototype=Object.create(C.prototype),C)L[B]=C[B];L.prototype.newGraph=function(H){return this.avsdfCircle=new O(null,this.graphManager,H),this.avsdfCircle},L.prototype.newNode=function(H){return new A(this.graphManager,H)},L.prototype.newEdge=function(H){return new V(null,null,H)},L.prototype.getPositionsData=function(){for(var H=this.graphManager.getAllNodes(),Y={},ee=0;ee<H.length;ee++){var ce=H[ee].rect,ne=H[ee].id;Y[ne]={id:ne,x:ce.getCenterX(),y:ce.getCenterY(),w:ce.width,h:ce.height}}return Y},L.prototype.layout=function(){if(this.graphManager.getGraphs().length>1)return!1;var Y=this.avsdfCircle;for(Y.setNodeSeparation(this.nodeSeparation),Y.calculateRadius(),Y.initOrdering();!Y.hasFinishedOrdering();){var ee=Y.findNodeToPlace();Y.putInOrder(ee)}return!0},L.prototype.updateNodeAngles=function(){this.graphManager.getRoot().correctAngles()},L.prototype.updateNodeCoordinates=function(){var H=this.graphManager.getRoot();H.getNodes().forEach(function(Y){Y.setCenter(H.getCenterX()+H.getRadius()*Math.cos(Y.getAngle()),H.getCenterY()+H.getRadius()*Math.sin(Y.getAngle()))})},L.prototype.initPostProcess=function(){this.avsdfCircle.calculateEdgeCrossingsOfNodes();var H=this.avsdfCircle.getNodes();return H.sort(function(Y,ee){return ee.getTotalCrossingOfEdges()-Y.getTotalCrossingOfEdges()}),H},L.prototype.oneStepPostProcess=function(H){for(var Y=this,ee=H.getTotalCrossingOfEdges(),ce=void 0,ne=Array.from(H.getNeighborsList()),le=0;le<ne.length;le++){var se=ne[le],he=H.getIndex(),te=(se.getIndex()+1)%Y.avsdfCircle.getSize();if(he!==te){H.setIndex(te),he<H.getIndex()&&(he+=Y.avsdfCircle.getSize());for(var pe=H.getIndex();pe<he;){var Z=Y.avsdfCircle.getOrder()[pe%Y.avsdfCircle.getSize()];Z.setIndex((Z.getIndex()+1)%Y.avsdfCircle.getSize()),pe+=1}H.calculateTotalCrossing(),(ce=H.getTotalCrossingOfEdges())>=ee?Y.avsdfCircle.loadOldIndicesOfNodes():(Y.avsdfCircle.reOrderVertices(),ee=ce)}}},k.exports=L},function(k,N,I){"use strict";var C={};C.layoutBase=I(0),C.AVSDFConstants=I(2),C.AVSDFEdge=I(3),C.AVSDFCircle=I(1),C.AVSDFLayout=I(5),C.AVSDFNode=I(4),k.exports=C}]))},656:function($){$.exports=function(){"use strict";var ae=navigator.userAgent,D=navigator.platform,T=/gecko\/\d/i.test(ae),k=/MSIE \d/.test(ae),N=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ae),I=/Edge\/(\d+)/.exec(ae),C=k||N||I,S=C&&(k?document.documentMode||6:+(I||N)[1]),O=!I&&/WebKit\//.test(ae),A=O&&/Qt\/\d+\.\d+/.test(ae),V=!I&&/Chrome\/(\d+)/.exec(ae),L=V&&+V[1],B=/Opera\//.test(ae),H=/Apple Computer/.test(navigator.vendor),Y=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ae),ee=/PhantomJS/.test(ae),ce=H&&(/Mobile\/\w+/.test(ae)||navigator.maxTouchPoints>2),ne=/Android/.test(ae),le=ce||ne||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ae),se=ce||/Mac/.test(D),he=/\bCrOS\b/.test(ae),te=/win/i.test(D),pe=B&&ae.match(/Version\/(\d*\.\d*)/);pe&&(pe=Number(pe[1])),pe&&pe>=15&&(B=!1,O=!0);var Z=se&&(A||B&&(null==pe||pe<12.11)),oe=T||C&&S>=9;function ie(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var Be,me=function(a,d){var y=a.className,v=ie(d).exec(y);if(v){var b=y.slice(v.index+v[0].length);a.className=y.slice(0,v.index)+(b?v[1]+b:"")}};function _e(a){for(var d=a.childNodes.length;d>0;--d)a.removeChild(a.firstChild);return a}function Se(a,d){return _e(a).appendChild(d)}function De(a,d,y,v){var b=document.createElement(a);if(y&&(b.className=y),v&&(b.style.cssText=v),"string"==typeof d)b.appendChild(document.createTextNode(d));else if(d)for(var F=0;F<d.length;++F)b.appendChild(d[F]);return b}function ze(a,d,y,v){var b=De(a,d,y,v);return b.setAttribute("role","presentation"),b}function ot(a,d){if(3==d.nodeType&&(d=d.parentNode),a.contains)return a.contains(d);do{if(11==d.nodeType&&(d=d.host),d==a)return!0}while(d=d.parentNode)}function ft(a){var d;try{d=a.activeElement}catch{d=a.body||null}for(;d&&d.shadowRoot&&d.shadowRoot.activeElement;)d=d.shadowRoot.activeElement;return d}function Ye(a,d){var y=a.className;ie(d).test(y)||(a.className+=(y?" ":"")+d)}function _t(a,d){for(var y=a.split(" "),v=0;v<y.length;v++)y[v]&&!ie(y[v]).test(d)&&(d+=" "+y[v]);return d}Be=document.createRange?function(a,d,y,v){var b=document.createRange();return b.setEnd(v||a,y),b.setStart(a,d),b}:function(a,d,y){var v=document.body.createTextRange();try{v.moveToElementText(a.parentNode)}catch{return v}return v.collapse(!0),v.moveEnd("character",y),v.moveStart("character",d),v};var Xe=function(a){a.select()};function Kt(a){return a.display.wrapper.ownerDocument}function Ht(a){return Kt(a).defaultView}function Mt(a){var d=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,d)}}function mn(a,d,y){for(var v in d||(d={}),a)a.hasOwnProperty(v)&&(!1!==y||!d.hasOwnProperty(v))&&(d[v]=a[v]);return d}function un(a,d,y,v,b){null==d&&-1==(d=a.search(/[^\s\u00a0]/))&&(d=a.length);for(var F=v||0,G=b||0;;){var X=a.indexOf("\t",F);if(X<0||X>=d)return G+(d-F);G+=X-F,G+=y-G%y,F=X+1}}ce?Xe=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:C&&(Xe=function(a){try{a.select()}catch{}});var lt=function(){this.id=null,this.f=null,this.time=0,this.handler=Mt(this.onTimeout,this)};function tt(a,d){for(var y=0;y<a.length;++y)if(a[y]==d)return y;return-1}lt.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},lt.prototype.set=function(a,d){this.f=d;var y=+new Date+a;(!this.id||y<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=y)};var ht=50,Ft={toString:function(){return"CodeMirror.Pass"}},Dt={scroll:!1},Xn={origin:"*mouse"},Jn={origin:"+move"};function Dr(a,d,y){for(var v=0,b=0;;){var F=a.indexOf("\t",v);-1==F&&(F=a.length);var G=F-v;if(F==a.length||b+G>=d)return v+Math.min(G,d-b);if(b+=F-v,v=F+1,(b+=y-b%y)>=d)return v}}var Rr=[""];function _r(a){for(;Rr.length<=a;)Rr.push(wn(Rr)+" ");return Rr[a]}function wn(a){return a[a.length-1]}function Vn(a,d){for(var y=[],v=0;v<a.length;v++)y[v]=d(a[v],v);return y}function dn(){}function Ni(a,d){var y;return Object.create?y=Object.create(a):(dn.prototype=a,y=new dn),d&&mn(d,y),y}var ro=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Pi(a){return/\w/.test(a)||a>"\x80"&&(a.toUpperCase()!=a.toLowerCase()||ro.test(a))}function Li(a,d){return d?!!(d.source.indexOf("\\w")>-1&&Pi(a))||d.test(a):Pi(a)}function Gr(a){for(var d in a)if(a.hasOwnProperty(d)&&a[d])return!1;return!0}var Xi=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ja(a){return a.charCodeAt(0)>=768&&Xi.test(a)}function Ds(a,d,y){for(;(y<0?d>0:d<a.length)&&ja(a.charAt(d));)d+=y;return d}function In(a,d,y){for(var v=d>y?-1:1;;){if(d==y)return d;var b=(d+y)/2,F=v<0?Math.ceil(b):Math.floor(b);if(F==d)return a(F)?d:y;a(F)?y=F:d=F+v}}var Yo=null;function Xo(a,d,y){var v;Yo=null;for(var b=0;b<a.length;++b){var F=a[b];if(F.from<d&&F.to>d)return b;F.to==d&&(F.from!=F.to&&"before"==y?v=b:Yo=b),F.from==d&&(F.from!=F.to&&"before"!=y?v=b:Yo=b)}return v??Yo}var dl=function(){function y(ue){return ue<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(ue):1424<=ue&&ue<=1524?"R":1536<=ue&&ue<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(ue-1536):1774<=ue&&ue<=2220?"r":8192<=ue&&ue<=8203?"w":8204==ue?"b":"L"}var v=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,b=/[stwN]/,F=/[LRr]/,G=/[Lb1n]/,X=/[1n]/;function J(ue,xe,Le){this.level=ue,this.from=xe,this.to=Le}return function(ue,xe){var Le="ltr"==xe?"L":"R";if(0==ue.length||"ltr"==xe&&!v.test(ue))return!1;for(var $e=ue.length,je=[],pt=0;pt<$e;++pt)je.push(y(ue.charCodeAt(pt)));for(var bt=0,Ut=Le;bt<$e;++bt){var jt=je[bt];"m"==jt?je[bt]=Ut:Ut=jt}for(var qt=0,Yt=Le;qt<$e;++qt){var $t=je[qt];"1"==$t&&"r"==Yt?je[qt]="n":F.test($t)&&(Yt=$t,"r"==$t&&(je[qt]="R"))}for(var Nn=1,En=je[0];Nn<$e-1;++Nn){var nr=je[Nn];"+"==nr&&"1"==En&&"1"==je[Nn+1]?je[Nn]="1":","==nr&&En==je[Nn+1]&&("1"==En||"n"==En)&&(je[Nn]=En),En=nr}for(var dr=0;dr<$e;++dr){var Mi=je[dr];if(","==Mi)je[dr]="N";else if("%"==Mi){var _i=void 0;for(_i=dr+1;_i<$e&&"%"==je[_i];++_i);for(var jo=dr&&"!"==je[dr-1]||_i<$e&&"1"==je[_i]?"1":"N",ji=dr;ji<_i;++ji)je[ji]=jo;dr=_i-1}}for(var Ii=0,da=Le;Ii<$e;++Ii){var Wo=je[Ii];"L"==da&&"1"==Wo?je[Ii]="L":F.test(Wo)&&(da=Wo)}for(var To=0;To<$e;++To)if(b.test(je[To])){var Hr=void 0;for(Hr=To+1;Hr<$e&&b.test(je[Hr]);++Hr);for(var Ci="L"==(To?je[To-1]:Le),jd=Ci==("L"==(Hr<$e?je[Hr]:Le))?Ci?"L":"R":Le,Dl=To;Dl<Hr;++Dl)je[Dl]=jd;To=Hr-1}for(var il,Qo=[],Mo=0;Mo<$e;)if(G.test(je[Mo])){var Fh=Mo;for(++Mo;Mo<$e&&G.test(je[Mo]);++Mo);Qo.push(new J(0,Fh,Mo))}else{var Sl=Mo,Pu=Qo.length,Tl="rtl"==xe?1:0;for(++Mo;Mo<$e&&"L"!=je[Mo];++Mo);for(var Ai=Sl;Ai<Mo;)if(X.test(je[Ai])){Sl<Ai&&(Qo.splice(Pu,0,new J(1,Sl,Ai)),Pu+=Tl);var Ic=Ai;for(++Ai;Ai<Mo&&X.test(je[Ai]);++Ai);Qo.splice(Pu,0,new J(2,Ic,Ai)),Pu+=Tl,Sl=Ai}else++Ai;Sl<Mo&&Qo.splice(Pu,0,new J(1,Sl,Mo))}return"ltr"==xe&&(1==Qo[0].level&&(il=ue.match(/^\s+/))&&(Qo[0].from=il[0].length,Qo.unshift(new J(0,0,il[0].length))),1==wn(Qo).level&&(il=ue.match(/\s+$/))&&(wn(Qo).to-=il[0].length,Qo.push(new J(0,$e-il[0].length,$e)))),"rtl"==xe?Qo.reverse():Qo}}();function Wa(a,d){var y=a.order;return null==y&&(y=a.order=dl(a.text,d)),y}var Ss=[],_n=function(a,d,y){if(a.addEventListener)a.addEventListener(d,y,!1);else if(a.attachEvent)a.attachEvent("on"+d,y);else{var v=a._handlers||(a._handlers={});v[d]=(v[d]||Ss).concat(y)}};function ga(a,d){return a._handlers&&a._handlers[d]||Ss}function go(a,d,y){if(a.removeEventListener)a.removeEventListener(d,y,!1);else if(a.detachEvent)a.detachEvent("on"+d,y);else{var v=a._handlers,b=v&&v[d];if(b){var F=tt(b,y);F>-1&&(v[d]=b.slice(0,F).concat(b.slice(F+1)))}}}function hi(a,d){var y=ga(a,d);if(y.length)for(var v=Array.prototype.slice.call(arguments,2),b=0;b<y.length;++b)y[b].apply(null,v)}function Ki(a,d,y){return"string"==typeof d&&(d={type:d,preventDefault:function(){this.defaultPrevented=!0}}),hi(a,y||d.type,a,d),Qc(d)||d.codemirrorIgnore}function pu(a){var d=a._handlers&&a._handlers.cursorActivity;if(d)for(var y=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),v=0;v<d.length;++v)-1==tt(y,d[v])&&y.push(d[v])}function Di(a,d){return ga(a,d).length>0}function Ma(a){a.prototype.on=function(d,y){_n(this,d,y)},a.prototype.off=function(d,y){go(this,d,y)}}function Fi(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Xs(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Qc(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function Ia(a){Fi(a),Xs(a)}function Ks(a){return a.target||a.srcElement}function Jc(a){var d=a.which;return null==d&&(1&a.button?d=1:2&a.button?d=3:4&a.button&&(d=2)),se&&a.ctrlKey&&1==d&&(d=3),d}var Aa,as,os=function(){if(C&&S<9)return!1;var a=De("div");return"draggable"in a||"dragDrop"in a}();function ch(a){if(null==Aa){var d=De("span","\u200b");Se(a,De("span",[d,document.createTextNode("x")])),0!=a.firstChild.offsetHeight&&(Aa=d.offsetWidth<=1&&d.offsetHeight>2&&!(C&&S<8))}var y=Aa?De("span","\u200b"):De("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return y.setAttribute("cm-text",""),y}function ed(a){if(null!=as)return as;var d=Se(a,document.createTextNode("A\u062eA")),y=Be(d,0,1).getBoundingClientRect(),v=Be(d,1,2).getBoundingClientRect();return _e(a),!(!y||y.left==y.right)&&(as=v.right-y.right<3)}var a,gu=3!="\n\nb".split(/\n/).length?function(a){for(var d=0,y=[],v=a.length;d<=v;){var b=a.indexOf("\n",d);-1==b&&(b=a.length);var F=a.slice(d,"\r"==a.charAt(b-1)?b-1:b),G=F.indexOf("\r");-1!=G?(y.push(F.slice(0,G)),d+=G+1):(y.push(F),d=b+1)}return y}:function(a){return a.split(/\r\n?|\n/)},Qu=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var d;try{d=a.ownerDocument.selection.createRange()}catch{}return!(!d||d.parentElement()!=a)&&0!=d.compareEndPoints("StartToEnd",d)},Oo="oncopy"in(a=De("div"))||(a.setAttribute("oncopy","return;"),"function"==typeof a.oncopy),td=null;var ec={},Ts={};function tc(a,d){arguments.length>2&&(d.dependencies=Array.prototype.slice.call(arguments,2)),ec[a]=d}function ni(a){if("string"==typeof a&&Ts.hasOwnProperty(a))a=Ts[a];else if(a&&"string"==typeof a.name&&Ts.hasOwnProperty(a.name)){var d=Ts[a.name];"string"==typeof d&&(d={name:d}),(a=Ni(d,a)).name=d.name}else{if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return ni("application/xml");if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return ni("application/json")}return"string"==typeof a?{name:a}:a||{name:"null"}}function Na(a,d){d=ni(d);var y=ec[d.name];if(!y)return Na(a,"text/plain");var v=y(a,d);if(Sr.hasOwnProperty(d.name)){var b=Sr[d.name];for(var F in b)b.hasOwnProperty(F)&&(v.hasOwnProperty(F)&&(v["_"+F]=v[F]),v[F]=b[F])}if(v.name=d.name,d.helperType&&(v.helperType=d.helperType),d.modeProps)for(var G in d.modeProps)v[G]=d.modeProps[G];return v}var Sr={};function Zi(a,d){mn(d,Sr.hasOwnProperty(a)?Sr[a]:Sr[a]={})}function Oi(a,d){if(!0===d)return d;if(a.copyState)return a.copyState(d);var y={};for(var v in d){var b=d[v];b instanceof Array&&(b=b.concat([])),y[v]=b}return y}function ma(a,d){for(var y;a.innerMode&&(y=a.innerMode(d))&&y.mode!=a;)d=y.state,a=y.mode;return y||{mode:a,state:d}}function cf(a,d,y){return!a.startState||a.startState(d,y)}var Ri=function(a,d,y){this.pos=this.start=0,this.string=a,this.tabSize=d||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=y};function Cn(a,d){if((d-=a.first)<0||d>=a.size)throw new Error("There is no line "+(d+a.first)+" in the document.");for(var y=a;!y.lines;)for(var v=0;;++v){var b=y.children[v],F=b.chunkSize();if(d<F){y=b;break}d-=F}return y.lines[d]}function si(a,d,y){var v=[],b=d.line;return a.iter(d.line,y.line+1,function(F){var G=F.text;b==y.line&&(G=G.slice(0,y.ch)),b==d.line&&(G=G.slice(d.ch)),v.push(G),++b}),v}function $a(a,d,y){var v=[];return a.iter(d,y,function(b){v.push(b.text)}),v}function Ro(a,d){var y=d-a.height;if(y)for(var v=a;v;v=v.parent)v.height+=y}function kr(a){if(null==a.parent)return null;for(var d=a.parent,y=tt(d.lines,a),v=d.parent;v;d=v,v=v.parent)for(var b=0;v.children[b]!=d;++b)y+=v.children[b].chunkSize();return y+d.first}function qi(a,d){var y=a.first;e:do{for(var v=0;v<a.children.length;++v){var b=a.children[v],F=b.height;if(d<F){a=b;continue e}d-=F,y+=b.chunkSize()}return y}while(!a.lines);for(var G=0;G<a.lines.length;++G){var J=a.lines[G].height;if(d<J)break;d-=J}return y+G}function ko(a,d){return d>=a.first&&d<a.first+a.size}function rd(a,d){return String(a.lineNumberFormatter(d+a.firstLineNumber))}function St(a,d,y){if(void 0===y&&(y=null),!(this instanceof St))return new St(a,d,y);this.line=a,this.ch=d,this.sticky=y}function Wn(a,d){return a.line-d.line||a.ch-d.ch}function id(a,d){return a.sticky==d.sticky&&0==Wn(a,d)}function Ms(a){return St(a.line,a.ch)}function Ne(a,d){return Wn(a,d)<0?d:a}function Re(a,d){return Wn(a,d)<0?a:d}function Ve(a,d){return Math.max(a.first,Math.min(d,a.first+a.size-1))}function et(a,d){if(d.line<a.first)return St(a.first,0);var y=a.first+a.size-1;return d.line>y?St(y,Cn(a,y).text.length):function qe(a,d){var y=a.ch;return null==y||y>d?St(a.line,d):y<0?St(a.line,0):a}(d,Cn(a,d.line).text.length)}function Zt(a,d){for(var y=[],v=0;v<d.length;v++)y[v]=et(a,d[v]);return y}Ri.prototype.eol=function(){return this.pos>=this.string.length},Ri.prototype.sol=function(){return this.pos==this.lineStart},Ri.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ri.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ri.prototype.eat=function(a){var d=this.string.charAt(this.pos);if("string"==typeof a?d==a:d&&(a.test?a.test(d):a(d)))return++this.pos,d},Ri.prototype.eatWhile=function(a){for(var d=this.pos;this.eat(a););return this.pos>d},Ri.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},Ri.prototype.skipToEnd=function(){this.pos=this.string.length},Ri.prototype.skipTo=function(a){var d=this.string.indexOf(a,this.pos);if(d>-1)return this.pos=d,!0},Ri.prototype.backUp=function(a){this.pos-=a},Ri.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=un(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?un(this.string,this.lineStart,this.tabSize):0)},Ri.prototype.indentation=function(){return un(this.string,null,this.tabSize)-(this.lineStart?un(this.string,this.lineStart,this.tabSize):0)},Ri.prototype.match=function(a,d,y){if("string"!=typeof a){var F=this.string.slice(this.pos).match(a);return F&&F.index>0?null:(F&&!1!==d&&(this.pos+=F[0].length),F)}var v=function(G){return y?G.toLowerCase():G};if(v(this.string.substr(this.pos,a.length))==v(a))return!1!==d&&(this.pos+=a.length),!0},Ri.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ri.prototype.hideFirstChars=function(a,d){this.lineStart+=a;try{return d()}finally{this.lineStart-=a}},Ri.prototype.lookAhead=function(a){var d=this.lineOracle;return d&&d.lookAhead(a)},Ri.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var gn=function(a,d){this.state=a,this.lookAhead=d},Vt=function(a,d,y,v){this.state=d,this.doc=a,this.line=y,this.maxLookAhead=v||0,this.baseTokens=null,this.baseTokenPos=1};function Jt(a,d,y,v){var b=[a.state.modeGen],F={};Pr(a,d.text,a.doc.mode,y,function(ue,xe){return b.push(ue,xe)},F,v);for(var G=y.state,X=function(ue){y.baseTokens=b;var xe=a.state.overlays[ue],Le=1,$e=0;y.state=!0,Pr(a,d.text,xe.mode,y,function(je,pt){for(var bt=Le;$e<je;){var Ut=b[Le];Ut>je&&b.splice(Le,1,je,b[Le+1],Ut),Le+=2,$e=Math.min(je,Ut)}if(pt)if(xe.opaque)b.splice(bt,Le-bt,je,"overlay "+pt),Le=bt+2;else for(;bt<Le;bt+=2){var jt=b[bt+1];b[bt+1]=(jt?jt+" ":"")+"overlay "+pt}},F),y.state=G,y.baseTokens=null,y.baseTokenPos=1},J=0;J<a.state.overlays.length;++J)X(J);return{styles:b,classes:F.bgClass||F.textClass?F:null}}function Hn(a,d,y){if(!d.styles||d.styles[0]!=a.state.modeGen){var v=Bt(a,kr(d)),b=d.text.length>a.options.maxHighlightLength&&Oi(a.doc.mode,v.state),F=Jt(a,d,v);b&&(v.state=b),d.stateAfter=v.save(!b),d.styles=F.styles,F.classes?d.styleClasses=F.classes:d.styleClasses&&(d.styleClasses=null),y===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return d.styles}function Bt(a,d,y){var v=a.doc,b=a.display;if(!v.mode.startState)return new Vt(v,!0,d);var F=function pi(a,d,y){for(var v,b,F=a.doc,G=y?-1:d-(a.doc.mode.innerMode?1e3:100),X=d;X>G;--X){if(X<=F.first)return F.first;var J=Cn(F,X-1),ue=J.stateAfter;if(ue&&(!y||X+(ue instanceof gn?ue.lookAhead:0)<=F.modeFrontier))return X;var xe=un(J.text,null,a.options.tabSize);(null==b||v>xe)&&(b=X-1,v=xe)}return b}(a,d,y),G=F>v.first&&Cn(v,F-1).stateAfter,X=G?Vt.fromSaved(v,G,F):new Vt(v,cf(v.mode),F);return v.iter(F,d,function(J){Ir(a,J.text,X);var ue=X.line;J.stateAfter=ue==d-1||ue%5==0||ue>=b.viewFrom&&ue<b.viewTo?X.save():null,X.nextLine()}),y&&(v.modeFrontier=X.line),X}function Ir(a,d,y,v){var b=a.doc.mode,F=new Ri(d,a.options.tabSize,y);for(F.start=F.pos=v||0,""==d&&er(b,y.state);!F.eol();)or(b,F,y.state),F.start=F.pos}function er(a,d){if(a.blankLine)return a.blankLine(d);if(a.innerMode){var y=ma(a,d);if(y.mode.blankLine)return y.mode.blankLine(y.state)}}function or(a,d,y,v){for(var b=0;b<10;b++){v&&(v[0]=ma(a,y).mode);var F=a.token(d,y);if(d.pos>d.start)return F}throw new Error("Mode "+a.name+" failed to advance stream.")}Vt.prototype.lookAhead=function(a){var d=this.doc.getLine(this.line+a);return null!=d&&a>this.maxLookAhead&&(this.maxLookAhead=a),d},Vt.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var d=this.baseTokens[this.baseTokenPos+1];return{type:d&&d.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Vt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Vt.fromSaved=function(a,d,y){return d instanceof gn?new Vt(a,Oi(a.mode,d.state),y,d.lookAhead):new Vt(a,Oi(a.mode,d),y)},Vt.prototype.save=function(a){var d=!1!==a?Oi(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new gn(d,this.maxLookAhead):d};var ri=function(a,d,y){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=d||null,this.state=y};function Sn(a,d,y,v){var G,xe,b=a.doc,F=b.mode,X=Cn(b,(d=et(b,d)).line),J=Bt(a,d.line,y),ue=new Ri(X.text,a.options.tabSize,J);for(v&&(xe=[]);(v||ue.pos<d.ch)&&!ue.eol();)ue.start=ue.pos,G=or(F,ue,J.state),v&&xe.push(new ri(ue,G,Oi(b.mode,J.state)));return v?xe:new ri(ue,G,J.state)}function nn(a,d){if(a)for(;;){var y=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!y)break;a=a.slice(0,y.index)+a.slice(y.index+y[0].length);var v=y[1]?"bgClass":"textClass";null==d[v]?d[v]=y[2]:new RegExp("(?:^|\\s)"+y[2]+"(?:$|\\s)").test(d[v])||(d[v]+=" "+y[2])}return a}function Pr(a,d,y,v,b,F,G){var X=y.flattenSpans;null==X&&(X=a.options.flattenSpans);var Le,J=0,ue=null,xe=new Ri(d,a.options.tabSize,v),$e=a.options.addModeClass&&[null];for(""==d&&nn(er(y,v.state),F);!xe.eol();){if(xe.pos>a.options.maxHighlightLength?(X=!1,G&&Ir(a,d,v,xe.pos),xe.pos=d.length,Le=null):Le=nn(or(y,xe,v.state,$e),F),$e){var je=$e[0].name;je&&(Le="m-"+(Le?je+" "+Le:je))}if(!X||ue!=Le){for(;J<xe.start;)b(J=Math.min(xe.start,J+5e3),ue);ue=Le}xe.start=xe.pos}for(;J<xe.pos;){var pt=Math.min(xe.pos,J+5e3);b(pt,ue),J=pt}}var gr=!1,Ze=!1;function zn(a,d,y){this.marker=a,this.from=d,this.to=y}function ui(a,d){if(a)for(var y=0;y<a.length;++y){var v=a[y];if(v.marker==d)return v}}function Bi(a,d){for(var y,v=0;v<a.length;++v)a[v]!=d&&(y||(y=[])).push(a[v]);return y}function Zs(a,d){if(d.full)return null;var y=ko(a,d.from.line)&&Cn(a,d.from.line).markedSpans,v=ko(a,d.to.line)&&Cn(a,d.to.line).markedSpans;if(!y&&!v)return null;var b=d.from.ch,F=d.to.ch,G=0==Wn(d.from,d.to),X=function Vi(a,d,y){var v;if(a)for(var b=0;b<a.length;++b){var F=a[b],G=F.marker;null!=F.from&&!(G.inclusiveLeft?F.from<=d:F.from<d)&&(F.from!=d||"bookmark"!=G.type||y&&F.marker.insertLeft)||(v||(v=[])).push(new zn(G,F.from,null==F.to||(G.inclusiveRight?F.to>=d:F.to>d)?null:F.to))}return v}(y,b,G),J=function Nr(a,d,y){var v;if(a)for(var b=0;b<a.length;++b){var F=a[b],G=F.marker;(null==F.to||(G.inclusiveRight?F.to>=d:F.to>d)||F.from==d&&"bookmark"==G.type&&(!y||F.marker.insertLeft))&&(v||(v=[])).push(new zn(G,null==F.from||(G.inclusiveLeft?F.from<=d:F.from<d)?null:F.from-d,null==F.to?null:F.to-d))}return v}(v,F,G),ue=1==d.text.length,xe=wn(d.text).length+(ue?b:0);if(X)for(var Le=0;Le<X.length;++Le){var $e=X[Le];if(null==$e.to){var je=ui(J,$e.marker);je?ue&&($e.to=null==je.to?null:je.to+xe):$e.to=b}}if(J)for(var pt=0;pt<J.length;++pt){var bt=J[pt];null!=bt.to&&(bt.to+=xe),null==bt.from?ui(X,bt.marker)||(bt.from=xe,ue&&(X||(X=[])).push(bt)):(bt.from+=xe,ue&&(X||(X=[])).push(bt))}X&&(X=ci(X)),J&&J!=X&&(J=ci(J));var jt=[X];if(!ue){var Yt,qt=d.text.length-2;if(qt>0&&X)for(var $t=0;$t<X.length;++$t)null==X[$t].to&&(Yt||(Yt=[])).push(new zn(X[$t].marker,null,null));for(var Nn=0;Nn<qt;++Nn)jt.push(Yt);jt.push(J)}return jt}function ci(a){for(var d=0;d<a.length;++d){var y=a[d];null!=y.from&&y.from==y.to&&!1!==y.marker.clearWhenEmpty&&a.splice(d--,1)}return a.length?a:null}function Qi(a){var d=a.markedSpans;if(d){for(var y=0;y<d.length;++y)d[y].marker.detachLine(a);a.markedSpans=null}}function qs(a,d){if(d){for(var y=0;y<d.length;++y)d[y].marker.attachLine(a);a.markedSpans=d}}function Si(a){return a.inclusiveLeft?-1:0}function Vl(a){return a.inclusiveRight?1:0}function nc(a,d){var y=a.lines.length-d.lines.length;if(0!=y)return y;var v=a.find(),b=d.find(),F=Wn(v.from,b.from)||Si(a)-Si(d);return F?-F:Wn(v.to,b.to)||Vl(a)-Vl(d)||d.id-a.id}function Hl(a,d){var v,y=Ze&&a.markedSpans;if(y)for(var b=void 0,F=0;F<y.length;++F)(b=y[F]).marker.collapsed&&null==(d?b.from:b.to)&&(!v||nc(v,b.marker)<0)&&(v=b.marker);return v}function rc(a){return Hl(a,!0)}function Oa(a){return Hl(a,!1)}function Is(a,d){var v,y=Ze&&a.markedSpans;if(y)for(var b=0;b<y.length;++b){var F=y[b];F.marker.collapsed&&(null==F.from||F.from<d)&&(null==F.to||F.to>d)&&(!v||nc(v,F.marker)<0)&&(v=F.marker)}return v}function io(a,d,y,v,b){var F=Cn(a,d),G=Ze&&F.markedSpans;if(G)for(var X=0;X<G.length;++X){var J=G[X];if(J.marker.collapsed){var ue=J.marker.find(0),xe=Wn(ue.from,y)||Si(J.marker)-Si(b),Le=Wn(ue.to,v)||Vl(J.marker)-Vl(b);if(!(xe>=0&&Le<=0||xe<=0&&Le>=0)&&(xe<=0&&(J.marker.inclusiveRight&&b.inclusiveLeft?Wn(ue.to,y)>=0:Wn(ue.to,y)>0)||xe>=0&&(J.marker.inclusiveRight&&b.inclusiveLeft?Wn(ue.from,v)<=0:Wn(ue.from,v)<0)))return!0}}}function tr(a){for(var d;d=rc(a);)a=d.find(-1,!0).line;return a}function od(a,d){var y=Cn(a,d),v=tr(y);return y==v?d:kr(v)}function rn(a,d){if(d>a.lastLine())return d;var v,y=Cn(a,d);if(!fl(a,y))return d;for(;v=Oa(y);)y=v.find(1,!0).line;return kr(y)+1}function fl(a,d){var y=Ze&&d.markedSpans;if(y)for(var v=void 0,b=0;b<y.length;++b)if((v=y[b]).marker.collapsed){if(null==v.from)return!0;if(!v.marker.widgetNode&&0==v.from&&v.marker.inclusiveLeft&&qr(a,d,v))return!0}}function qr(a,d,y){if(null==y.to){var v=y.marker.find(1,!0);return qr(a,v.line,ui(v.line.markedSpans,y.marker))}if(y.marker.inclusiveRight&&y.to==d.text.length)return!0;for(var b=void 0,F=0;F<d.markedSpans.length;++F)if((b=d.markedSpans[F]).marker.collapsed&&!b.marker.widgetNode&&b.from==y.to&&(null==b.to||b.to!=y.from)&&(b.marker.inclusiveLeft||y.marker.inclusiveRight)&&qr(a,d,b))return!0}function Ra(a){for(var d=0,y=(a=tr(a)).parent,v=0;v<y.lines.length;++v){var b=y.lines[v];if(b==a)break;d+=b.height}for(var F=y.parent;F;F=(y=F).parent)for(var G=0;G<F.children.length;++G){var X=F.children[G];if(X==y)break;d+=X.height}return d}function ic(a){if(0==a.height)return 0;for(var y,d=a.text.length,v=a;y=rc(v);){var b=y.find(0,!0);v=b.from.line,d+=b.from.ch-b.to.ch}for(v=a;y=Oa(v);){var F=y.find(0,!0);d-=v.text.length-F.from.ch,d+=(v=F.to.line).text.length-F.to.ch}return d}function mu(a){var d=a.display,y=a.doc;d.maxLine=Cn(y,y.first),d.maxLineLength=ic(d.maxLine),d.maxLineChanged=!0,y.iter(function(v){var b=ic(v);b>d.maxLineLength&&(d.maxLineLength=b,d.maxLine=v)})}var hl=function(a,d,y){this.text=a,qs(this,d),this.height=y?y(this):1};function ka(a){a.parent=null,Qi(a)}hl.prototype.lineNo=function(){return kr(this)},Ma(hl);var As={},zl={};function oc(a,d){if(!a||/^\s*$/.test(a))return null;var y=d.addModeClass?zl:As;return y[a]||(y[a]=a.replace(/\S+/g,"cm-$&"))}function Pn(a,d){var y=ze("span",null,null,O?"padding-right: .1px":null),v={pre:ze("pre",[y],"CodeMirror-line"),content:y,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};d.measure={};for(var b=0;b<=(d.rest?d.rest.length:0);b++){var F=b?d.rest[b-1]:d.line,G=void 0;v.pos=0,v.addToken=pl,ed(a.display.measure)&&(G=Wa(F,a.doc.direction))&&(v.addToken=ss(v.addToken,G)),v.map=[],gi(F,v,Hn(a,F,d!=a.display.externalMeasured&&kr(F))),F.styleClasses&&(F.styleClasses.bgClass&&(v.bgClass=_t(F.styleClasses.bgClass,v.bgClass||"")),F.styleClasses.textClass&&(v.textClass=_t(F.styleClasses.textClass,v.textClass||""))),0==v.map.length&&v.map.push(0,0,v.content.appendChild(ch(a.display.measure))),0==b?(d.measure.map=v.map,d.measure.cache={}):((d.measure.maps||(d.measure.maps=[])).push(v.map),(d.measure.caches||(d.measure.caches=[])).push({}))}if(O){var J=v.content.lastChild;(/\bcm-tab\b/.test(J.className)||J.querySelector&&J.querySelector(".cm-tab"))&&(v.content.className="cm-tab-wrap-hack")}return hi(a,"renderLine",a,d.line,v.pre),v.pre.className&&(v.textClass=_t(v.pre.className,v.textClass||"")),v}function Xa(a){var d=De("span","\u2022","cm-invalidchar");return d.title="\\u"+a.charCodeAt(0).toString(16),d.setAttribute("aria-label",d.title),d}function pl(a,d,y,v,b,F,G){if(d){var xe,X=a.splitSpaces?function yo(a,d){if(a.length>1&&!/  /.test(a))return a;for(var y=d,v="",b=0;b<a.length;b++){var F=a.charAt(b);" "==F&&y&&(b==a.length-1||32==a.charCodeAt(b+1))&&(F="\xa0"),v+=F,y=" "==F}return v}(d,a.trailingSpace):d,J=a.cm.state.specialChars,ue=!1;if(J.test(d)){xe=document.createDocumentFragment();for(var Le=0;;){J.lastIndex=Le;var $e=J.exec(d),je=$e?$e.index-Le:d.length-Le;if(je){var pt=document.createTextNode(X.slice(Le,Le+je));xe.appendChild(C&&S<9?De("span",[pt]):pt),a.map.push(a.pos,a.pos+je,pt),a.col+=je,a.pos+=je}if(!$e)break;Le+=je+1;var bt=void 0;if("\t"==$e[0]){var Ut=a.cm.options.tabSize,jt=Ut-a.col%Ut;(bt=xe.appendChild(De("span",_r(jt),"cm-tab"))).setAttribute("role","presentation"),bt.setAttribute("cm-text","\t"),a.col+=jt}else"\r"==$e[0]||"\n"==$e[0]?((bt=xe.appendChild(De("span","\r"==$e[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",$e[0]),a.col+=1):((bt=a.cm.options.specialCharPlaceholder($e[0])).setAttribute("cm-text",$e[0]),xe.appendChild(C&&S<9?De("span",[bt]):bt),a.col+=1);a.map.push(a.pos,a.pos+1,bt),a.pos++}}else a.col+=d.length,xe=document.createTextNode(X),a.map.push(a.pos,a.pos+d.length,xe),C&&S<9&&(ue=!0),a.pos+=d.length;if(a.trailingSpace=32==X.charCodeAt(d.length-1),y||v||b||ue||F||G){var qt=y||"";v&&(qt+=v),b&&(qt+=b);var Yt=De("span",[xe],qt,F);if(G)for(var $t in G)G.hasOwnProperty($t)&&"style"!=$t&&"class"!=$t&&Yt.setAttribute($t,G[$t]);return a.content.appendChild(Yt)}a.content.appendChild(xe)}}function ss(a,d){return function(y,v,b,F,G,X,J){b=b?b+" cm-force-border":"cm-force-border";for(var ue=y.pos,xe=ue+v.length;;){for(var Le=void 0,$e=0;$e<d.length&&!((Le=d[$e]).to>ue&&Le.from<=ue);$e++);if(Le.to>=xe)return a(y,v,b,F,G,X,J);a(y,v.slice(0,Le.to-ue),b,F,null,X,J),F=null,v=v.slice(Le.to-ue),ue=Le.to}}}function Ul(a,d,y,v){var b=!v&&y.widgetNode;b&&a.map.push(a.pos,a.pos+d,b),!v&&a.cm.display.input.needsContentAttribute&&(b||(b=a.content.appendChild(document.createElement("span"))),b.setAttribute("cm-marker",y.id)),b&&(a.cm.display.input.setUneditable(b),a.content.appendChild(b)),a.pos+=d,a.trailingSpace=!1}function gi(a,d,y){var v=a.markedSpans,b=a.text,F=0;if(v)for(var Le,$e,pt,bt,Ut,jt,qt,X=b.length,J=0,ue=1,xe="",je=0;;){if(je==J){pt=bt=Ut=$e="",qt=null,jt=null,je=1/0;for(var Yt=[],$t=void 0,Nn=0;Nn<v.length;++Nn){var En=v[Nn],nr=En.marker;if("bookmark"==nr.type&&En.from==J&&nr.widgetNode)Yt.push(nr);else if(En.from<=J&&(null==En.to||En.to>J||nr.collapsed&&En.to==J&&En.from==J)){if(null!=En.to&&En.to!=J&&je>En.to&&(je=En.to,bt=""),nr.className&&(pt+=" "+nr.className),nr.css&&($e=($e?$e+";":"")+nr.css),nr.startStyle&&En.from==J&&(Ut+=" "+nr.startStyle),nr.endStyle&&En.to==je&&($t||($t=[])).push(nr.endStyle,En.to),nr.title&&((qt||(qt={})).title=nr.title),nr.attributes)for(var dr in nr.attributes)(qt||(qt={}))[dr]=nr.attributes[dr];nr.collapsed&&(!jt||nc(jt.marker,nr)<0)&&(jt=En)}else En.from>J&&je>En.from&&(je=En.from)}if($t)for(var Mi=0;Mi<$t.length;Mi+=2)$t[Mi+1]==je&&(bt+=" "+$t[Mi]);if(!jt||jt.from==J)for(var _i=0;_i<Yt.length;++_i)Ul(d,0,Yt[_i]);if(jt&&(jt.from||0)==J){if(Ul(d,(null==jt.to?X+1:jt.to)-J,jt.marker,null==jt.from),null==jt.to)return;jt.to==J&&(jt=!1)}}if(J>=X)break;for(var jo=Math.min(X,je);;){if(xe){var ji=J+xe.length;if(!jt){var Ii=ji>jo?xe.slice(0,jo-J):xe;d.addToken(d,Ii,Le?Le+pt:pt,Ut,J+Ii.length==je?bt:"",$e,qt)}if(ji>=jo){xe=xe.slice(jo-J),J=jo;break}J=ji,Ut=""}xe=b.slice(F,F=y[ue++]),Le=oc(y[ue++],d.cm.options)}}else for(var G=1;G<y.length;G+=2)d.addToken(d,b.slice(F,F=y[G]),oc(y[G+1],d.cm.options))}function ff(a,d,y){this.line=d,this.rest=function df(a){for(var d,y;d=Oa(a);)a=d.find(1,!0).line,(y||(y=[])).push(a);return y}(d),this.size=this.rest?kr(wn(this.rest))-y+1:1,this.node=this.text=null,this.hidden=fl(a,d)}function Zo(a,d,y){for(var b,v=[],F=d;F<y;F=b){var G=new ff(a.doc,Cn(a.doc,F),F);b=F+G.size,v.push(G)}return v}var ac=null;var lc=null;function bo(a,d){var y=ga(a,d);if(y.length){var b,v=Array.prototype.slice.call(arguments,2);ac?b=ac.delayedCallbacks:lc?b=lc:(b=lc=[],setTimeout(dh,0));for(var F=function(X){b.push(function(){return y[X].apply(null,v)})},G=0;G<y.length;++G)F(G)}}function dh(){var a=lc;lc=null;for(var d=0;d<a.length;++d)a[d]()}function fh(a,d,y,v){for(var b=0;b<d.changes.length;b++){var F=d.changes[b];"text"==F?xp(a,d):"gutter"==F?hh(a,d,y,v):"class"==F?Pt(a,d):"widget"==F&&en(a,d,v)}d.changes=null}function Qs(a){return a.node==a.text&&(a.node=De("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),C&&S<8&&(a.node.style.zIndex=2)),a.node}function Pa(a,d){var y=a.display.externalMeasured;return y&&y.line==d.line?(a.display.externalMeasured=null,d.measure=y.measure,y.built):Pn(a,d)}function xp(a,d){var y=d.text.className,v=Pa(a,d);d.text==d.node&&(d.node=v.pre),d.text.parentNode.replaceChild(v.pre,d.text),d.text=v.pre,v.bgClass!=d.bgClass||v.textClass!=d.textClass?(d.bgClass=v.bgClass,d.textClass=v.textClass,Pt(a,d)):y&&(d.text.className=y)}function Pt(a,d){(function Ep(a,d){var y=d.bgClass?d.bgClass+" "+(d.line.bgClass||""):d.line.bgClass;if(y&&(y+=" CodeMirror-linebackground"),d.background)y?d.background.className=y:(d.background.parentNode.removeChild(d.background),d.background=null);else if(y){var v=Qs(d);d.background=v.insertBefore(De("div",null,y),v.firstChild),a.display.input.setUneditable(d.background)}})(a,d),d.line.wrapClass?Qs(d).className=d.line.wrapClass:d.node!=d.text&&(d.node.className=""),d.text.className=(d.textClass?d.textClass+" "+(d.line.textClass||""):d.line.textClass)||""}function hh(a,d,y,v){if(d.gutter&&(d.node.removeChild(d.gutter),d.gutter=null),d.gutterBackground&&(d.node.removeChild(d.gutterBackground),d.gutterBackground=null),d.line.gutterClass){var b=Qs(d);d.gutterBackground=De("div",null,"CodeMirror-gutter-background "+d.line.gutterClass,"left: "+(a.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px; width: "+v.gutterTotalWidth+"px"),a.display.input.setUneditable(d.gutterBackground),b.insertBefore(d.gutterBackground,d.text)}var F=d.line.gutterMarkers;if(a.options.lineNumbers||F){var G=Qs(d),X=d.gutter=De("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px");if(X.setAttribute("aria-hidden","true"),a.display.input.setUneditable(X),G.insertBefore(X,d.text),d.line.gutterClass&&(X.className+=" "+d.line.gutterClass),a.options.lineNumbers&&(!F||!F["CodeMirror-linenumbers"])&&(d.lineNumber=X.appendChild(De("div",rd(a.options,y),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+v.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),F)for(var J=0;J<a.display.gutterSpecs.length;++J){var ue=a.display.gutterSpecs[J].className,xe=F.hasOwnProperty(ue)&&F[ue];xe&&X.appendChild(De("div",[xe],"CodeMirror-gutter-elt","left: "+v.gutterLeft[ue]+"px; width: "+v.gutterWidth[ue]+"px"))}}}function en(a,d,y){d.alignable&&(d.alignable=null);for(var v=ie("CodeMirror-linewidget"),b=d.node.firstChild,F=void 0;b;b=F)F=b.nextSibling,v.test(b.className)&&d.node.removeChild(b);pf(a,d,y)}function hf(a,d,y,v){var b=Pa(a,d);return d.text=d.node=b.pre,b.bgClass&&(d.bgClass=b.bgClass),b.textClass&&(d.textClass=b.textClass),Pt(a,d),hh(a,d,y,v),pf(a,d,v),d.node}function pf(a,d,y){if(uc(a,d.line,d,y,!0),d.rest)for(var v=0;v<d.rest.length;v++)uc(a,d.rest[v],d,y,!1)}function uc(a,d,y,v,b){if(d.widgets)for(var F=Qs(y),G=0,X=d.widgets;G<X.length;++G){var J=X[G],ue=De("div",[J.node],"CodeMirror-linewidget"+(J.className?" "+J.className:""));J.handleMouseEvents||ue.setAttribute("cm-ignore-events","true"),om(J,ue,y,v),a.display.input.setUneditable(ue),b&&J.above?F.insertBefore(ue,y.gutter||y.text):F.appendChild(ue),bo(J,"redraw")}}function om(a,d,y,v){if(a.noHScroll){(y.alignable||(y.alignable=[])).push(d);var b=v.wrapperWidth;d.style.left=v.fixedPos+"px",a.coverGutter||(b-=v.gutterTotalWidth,d.style.paddingLeft=v.gutterTotalWidth+"px"),d.style.width=b+"px"}a.coverGutter&&(d.style.zIndex=5,d.style.position="relative",a.noHScroll||(d.style.marginLeft=-v.gutterTotalWidth+"px"))}function cc(a){if(null!=a.height)return a.height;var d=a.doc.cm;if(!d)return 0;if(!ot(document.body,a.node)){var y="position: relative;";a.coverGutter&&(y+="margin-left: -"+d.display.gutters.offsetWidth+"px;"),a.noHScroll&&(y+="width: "+d.display.wrapper.clientWidth+"px;"),Se(d.display.measure,De("div",[a.node],null,y))}return a.height=a.node.parentNode.offsetHeight}function gl(a,d){for(var y=Ks(d);y!=a.wrapper;y=y.parentNode)if(!y||1==y.nodeType&&"true"==y.getAttribute("cm-ignore-events")||y.parentNode==a.sizer&&y!=a.mover)return!0}function ls(a){return a.lineSpace.offsetTop}function us(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function va(a){if(a.cachedPaddingH)return a.cachedPaddingH;var d=Se(a.measure,De("pre","x","CodeMirror-line-like")),y=window.getComputedStyle?window.getComputedStyle(d):d.currentStyle,v={left:parseInt(y.paddingLeft),right:parseInt(y.paddingRight)};return!isNaN(v.left)&&!isNaN(v.right)&&(a.cachedPaddingH=v),v}function wo(a){return ht-a.display.nativeBarWidth}function Cr(a){return a.display.scroller.clientWidth-wo(a)-a.display.barWidth}function dc(a){return a.display.scroller.clientHeight-wo(a)-a.display.barHeight}function mf(a,d,y){if(a.line==d)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var v=0;v<a.rest.length;v++)if(a.rest[v]==d)return{map:a.measure.maps[v],cache:a.measure.caches[v]};for(var b=0;b<a.rest.length;b++)if(kr(a.rest[b])>y)return{map:a.measure.maps[b],cache:a.measure.caches[b],before:!0}}}function Ns(a,d,y,v){return Os(a,jl(a,d),y,v)}function Gl(a,d){if(d>=a.display.viewFrom&&d<a.display.viewTo)return a.display.view[oo(a,d)];var y=a.display.externalMeasured;return y&&d>=y.lineN&&d<y.lineN+y.size?y:void 0}function jl(a,d){var y=kr(d),v=Gl(a,y);v&&!v.text?v=null:v&&v.changes&&(fh(a,v,y,_f(a)),a.curOp.forceUpdate=!0),v||(v=function Dp(a,d){var y=kr(d=tr(d)),v=a.display.externalMeasured=new ff(a.doc,d,y);v.lineN=y;var b=v.built=Pn(a,v);return v.text=b.pre,Se(a.display.lineMeasure,b.pre),v}(a,d));var b=mf(v,d,y);return{line:d,view:v,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function Os(a,d,y,v,b){d.before&&(y=-1);var G,F=y+(v||"");return d.cache.hasOwnProperty(F)?G=d.cache[F]:(d.rect||(d.rect=d.view.text.getBoundingClientRect()),d.hasHeights||(function gf(a,d,y){var v=a.options.lineWrapping,b=v&&Cr(a);if(!d.measure.heights||v&&d.measure.width!=b){var F=d.measure.heights=[];if(v){d.measure.width=b;for(var G=d.text.firstChild.getClientRects(),X=0;X<G.length-1;X++){var J=G[X],ue=G[X+1];Math.abs(J.bottom-ue.bottom)>2&&F.push((J.bottom+ue.top)/2-y.top)}}F.push(y.bottom-y.top)}}(a,d.view,d.rect),d.hasHeights=!0),(G=function Wl(a,d,y,v){var ue,b=bu(d.map,y,v),F=b.node,G=b.start,X=b.end,J=b.collapse;if(3==F.nodeType){for(var xe=0;xe<4;xe++){for(;G&&ja(d.line.text.charAt(b.coverStart+G));)--G;for(;b.coverStart+X<b.coverEnd&&ja(d.line.text.charAt(b.coverStart+X));)++X;if((ue=C&&S<9&&0==G&&X==b.coverEnd-b.coverStart?F.parentNode.getBoundingClientRect():wu(Be(F,G,X).getClientRects(),v)).left||ue.right||0==G)break;X=G,G-=1,J="right"}C&&S<11&&(ue=function Sp(a,d){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function Ju(a){if(null!=td)return td;var d=Se(a,De("span","x")),y=d.getBoundingClientRect(),v=Be(d,0,1).getBoundingClientRect();return td=Math.abs(y.left-v.left)>1}(a))return d;var y=screen.logicalXDPI/screen.deviceXDPI,v=screen.logicalYDPI/screen.deviceYDPI;return{left:d.left*y,right:d.right*y,top:d.top*v,bottom:d.bottom*v}}(a.display.measure,ue))}else{var Le;G>0&&(J=v="right"),ue=a.options.lineWrapping&&(Le=F.getClientRects()).length>1?Le["right"==v?Le.length-1:0]:F.getBoundingClientRect()}if(C&&S<9&&!G&&(!ue||!ue.left&&!ue.right)){var $e=F.parentNode.getClientRects()[0];ue=$e?{left:$e.left,right:$e.left+ml(a.display),top:$e.top,bottom:$e.bottom}:vf}for(var je=ue.top-d.rect.top,pt=ue.bottom-d.rect.top,bt=(je+pt)/2,Ut=d.view.measure.heights,jt=0;jt<Ut.length-1&&!(bt<Ut[jt]);jt++);var $t={left:("right"==J?ue.right:ue.left)-d.rect.left,right:("left"==J?ue.left:ue.right)-d.rect.left,top:jt?Ut[jt-1]:0,bottom:Ut[jt]};return!ue.left&&!ue.right&&($t.bogus=!0),a.options.singleCursorHeightPerLine||($t.rtop=je,$t.rbottom=pt),$t}(a,d,y,v)).bogus||(d.cache[F]=G)),{left:G.left,right:G.right,top:b?G.rtop:G.top,bottom:b?G.rbottom:G.bottom}}var _u,vf={left:0,right:0,top:0,bottom:0};function bu(a,d,y){for(var v,b,F,G,X,J,ue=0;ue<a.length;ue+=3)if(J=a[ue+1],d<(X=a[ue])?(b=0,F=1,G="left"):d<J?F=1+(b=d-X):(ue==a.length-3||d==J&&a[ue+3]>d)&&(b=(F=J-X)-1,d>=J&&(G="right")),null!=b){if(v=a[ue+2],X==J&&y==(v.insertLeft?"left":"right")&&(G=y),"left"==y&&0==b)for(;ue&&a[ue-2]==a[ue-3]&&a[ue-1].insertLeft;)v=a[2+(ue-=3)],G="left";if("right"==y&&b==J-X)for(;ue<a.length-3&&a[ue+3]==a[ue+4]&&!a[ue+5].insertLeft;)v=a[(ue+=3)+2],G="right";break}return{node:v,start:b,end:F,collapse:G,coverStart:X,coverEnd:J}}function wu(a,d){var y=vf;if("left"==d)for(var v=0;v<a.length&&(y=a[v]).left==y.right;v++);else for(var b=a.length-1;b>=0&&(y=a[b]).left==y.right;b--);return y}function ad(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var d=0;d<a.rest.length;d++)a.measure.caches[d]={}}function sd(a){a.display.externalMeasure=null,_e(a.display.lineMeasure);for(var d=0;d<a.display.view.length;d++)ad(a.display.view[d])}function $l(a){sd(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function ph(a){return V&&ne?-(a.body.getBoundingClientRect().left-parseInt(getComputedStyle(a.body).marginLeft)):a.defaultView.pageXOffset||(a.documentElement||a.body).scrollLeft}function gh(a){return V&&ne?-(a.body.getBoundingClientRect().top-parseInt(getComputedStyle(a.body).marginTop)):a.defaultView.pageYOffset||(a.documentElement||a.body).scrollTop}function Ka(a){var y=tr(a).widgets,v=0;if(y)for(var b=0;b<y.length;++b)y[b].above&&(v+=cc(y[b]));return v}function yf(a,d,y,v,b){if(!b){var F=Ka(d);y.top+=F,y.bottom+=F}if("line"==v)return y;v||(v="local");var G=Ra(d);if("local"==v?G+=ls(a.display):G-=a.display.viewOffset,"page"==v||"window"==v){var X=a.display.lineSpace.getBoundingClientRect();G+=X.top+("window"==v?0:gh(Kt(a)));var J=X.left+("window"==v?0:ph(Kt(a)));y.left+=J,y.right+=J}return y.top+=G,y.bottom+=G,y}function mh(a,d,y){if("div"==y)return d;var v=d.left,b=d.top;if("page"==y)v-=ph(Kt(a)),b-=gh(Kt(a));else if("local"==y||!y){var F=a.display.sizer.getBoundingClientRect();v+=F.left,b+=F.top}var G=a.display.lineSpace.getBoundingClientRect();return{left:v-G.left,top:b-G.top}}function ld(a,d,y,v,b){return v||(v=Cn(a.doc,d.line)),yf(a,v,Ns(a,v,d.ch,b),y)}function cs(a,d,y,v,b,F){function G(pt,bt){var Ut=Os(a,b,pt,bt?"right":"left",F);return bt?Ut.left=Ut.right:Ut.right=Ut.left,yf(a,v,Ut,y)}v=v||Cn(a.doc,d.line),b||(b=jl(a,v));var X=Wa(v,a.doc.direction),J=d.ch,ue=d.sticky;if(J>=v.text.length?(J=v.text.length,ue="before"):J<=0&&(J=0,ue="after"),!X)return G("before"==ue?J-1:J,"before"==ue);function xe(pt,bt,Ut){return G(Ut?pt-1:pt,1==X[bt].level!=Ut)}var Le=Xo(X,J,ue),$e=Yo,je=xe(J,Le,"before"==ue);return null!=$e&&(je.other=xe(J,$e,"before"!=ue)),je}function Tp(a,d){var y=0;d=et(a.doc,d),a.options.lineWrapping||(y=ml(a.display)*d.ch);var v=Cn(a.doc,d.line),b=Ra(v)+ls(a.display);return{left:y,right:y,top:b,bottom:b+v.height}}function vh(a,d,y,v,b){var F=St(a,d,y);return F.xRel=b,v&&(F.outside=v),F}function bf(a,d,y){var v=a.doc;if((y+=a.display.viewOffset)<0)return vh(v.first,0,null,-1,-1);var b=qi(v,y),F=v.first+v.size-1;if(b>F)return vh(v.first+v.size-1,Cn(v,F).text.length,null,1,1);d<0&&(d=0);for(var G=Cn(v,b);;){var X=Or(a,G,b,d,y),J=Is(G,X.ch+(X.xRel>0||X.outside>0?1:0));if(!J)return X;var ue=J.find(1);if(ue.line==b)return ue;G=Cn(v,b=ue.line)}}function Mp(a,d,y,v){v-=Ka(d);var b=d.text.length,F=In(function(G){return Os(a,y,G-1).bottom<=v},b,0);return{begin:F,end:b=In(function(G){return Os(a,y,G).top>v},F,b)}}function Ip(a,d,y,v){return y||(y=jl(a,d)),Mp(a,d,y,yf(a,d,Os(a,y,v),"line").top)}function wf(a,d,y,v){return!(a.bottom<=y)&&(a.top>y||(v?a.left:a.right)>d)}function Or(a,d,y,v,b){b-=Ra(d);var F=jl(a,d),G=Ka(d),X=0,J=d.text.length,ue=!0,xe=Wa(d,a.doc.direction);if(xe){var Le=(a.options.lineWrapping?sm:am)(a,d,y,F,xe,v,b);X=(ue=1!=Le.level)?Le.from:Le.to-1,J=ue?Le.to:Le.from-1}var bt,Ut,$e=null,je=null,pt=In(function(Nn){var En=Os(a,F,Nn);return En.top+=G,En.bottom+=G,!!wf(En,v,b,!1)&&(En.top<=b&&En.left<=v&&($e=Nn,je=En),!0)},X,J),jt=!1;if(je){var qt=v-je.left<je.right-v,Yt=qt==ue;pt=$e+(Yt?0:1),Ut=Yt?"after":"before",bt=qt?je.left:je.right}else{!ue&&(pt==J||pt==X)&&pt++,Ut=0==pt?"after":pt==d.text.length?"before":Os(a,F,pt-(ue?1:0)).bottom+G<=b==ue?"after":"before";var $t=cs(a,St(y,pt,Ut),"line",d,F);bt=$t.left,jt=b<$t.top?-1:b>=$t.bottom?1:0}return vh(y,pt=Ds(d.text,pt,1),Ut,jt,v-bt)}function am(a,d,y,v,b,F,G){var X=In(function(Le){var $e=b[Le],je=1!=$e.level;return wf(cs(a,St(y,je?$e.to:$e.from,je?"before":"after"),"line",d,v),F,G,!0)},0,b.length-1),J=b[X];if(X>0){var ue=1!=J.level,xe=cs(a,St(y,ue?J.from:J.to,ue?"after":"before"),"line",d,v);wf(xe,F,G,!0)&&xe.top>G&&(J=b[X-1])}return J}function sm(a,d,y,v,b,F,G){var X=Mp(a,d,v,G),J=X.begin,ue=X.end;/\s/.test(d.text.charAt(ue-1))&&ue--;for(var xe=null,Le=null,$e=0;$e<b.length;$e++){var je=b[$e];if(!(je.from>=ue||je.to<=J)){var bt=Os(a,v,1!=je.level?Math.min(ue,je.to)-1:Math.max(J,je.from)).right,Ut=bt<F?F-bt+1e9:bt-F;(!xe||Le>Ut)&&(xe=je,Le=Ut)}}return xe||(xe=b[b.length-1]),xe.from<J&&(xe={from:J,to:xe.to,level:xe.level}),xe.to>ue&&(xe={from:xe.from,to:ue,level:xe.level}),xe}function Qr(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==_u){_u=De("pre",null,"CodeMirror-line-like");for(var d=0;d<49;++d)_u.appendChild(document.createTextNode("x")),_u.appendChild(De("br"));_u.appendChild(document.createTextNode("x"))}Se(a.measure,_u);var y=_u.offsetHeight/50;return y>3&&(a.cachedTextHeight=y),_e(a.measure),y||1}function ml(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var d=De("span","xxxxxxxxxx"),y=De("pre",[d],"CodeMirror-line-like");Se(a.measure,y);var v=d.getBoundingClientRect(),b=(v.right-v.left)/10;return b>2&&(a.cachedCharWidth=b),b||10}function _f(a){for(var d=a.display,y={},v={},b=d.gutters.clientLeft,F=d.gutters.firstChild,G=0;F;F=F.nextSibling,++G){var X=a.display.gutterSpecs[G].className;y[X]=F.offsetLeft+F.clientLeft+b,v[X]=F.clientWidth}return{fixedPos:an(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:y,gutterWidth:v,wrapperWidth:d.wrapper.clientWidth}}function an(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function oa(a){var d=Qr(a.display),y=a.options.lineWrapping,v=y&&Math.max(5,a.display.scroller.clientWidth/ml(a.display)-3);return function(b){if(fl(a.doc,b))return 0;var F=0;if(b.widgets)for(var G=0;G<b.widgets.length;G++)b.widgets[G].height&&(F+=b.widgets[G].height);return y?F+(Math.ceil(b.text.length/v)||1)*d:F+d}}function Fr(a){var d=a.doc,y=oa(a);d.iter(function(v){var b=y(v);b!=v.height&&Ro(v,b)})}function Hi(a,d,y,v){var b=a.display;if(!y&&"true"==Ks(d).getAttribute("cm-not-content"))return null;var F,G,X=b.lineSpace.getBoundingClientRect();try{F=d.clientX-X.left,G=d.clientY-X.top}catch{return null}var ue,J=bf(a,F,G);if(v&&J.xRel>0&&(ue=Cn(a.doc,J.line).text).length==J.ch){var xe=un(ue,ue.length,a.options.tabSize)-ue.length;J=St(J.line,Math.max(0,Math.round((F-va(a.display).left)/ml(a.display))-xe))}return J}function oo(a,d){if(d>=a.display.viewTo||(d-=a.display.viewFrom)<0)return null;for(var y=a.display.view,v=0;v<y.length;v++)if((d-=y[v].size)<0)return v}function ao(a,d,y,v){null==d&&(d=a.doc.first),null==y&&(y=a.doc.first+a.doc.size),v||(v=0);var b=a.display;if(v&&y<b.viewTo&&(null==b.updateLineNumbers||b.updateLineNumbers>d)&&(b.updateLineNumbers=d),a.curOp.viewChanged=!0,d>=b.viewTo)Ze&&od(a.doc,d)<b.viewTo&&vl(a);else if(y<=b.viewFrom)Ze&&rn(a.doc,y+v)>b.viewFrom?vl(a):(b.viewFrom+=v,b.viewTo+=v);else if(d<=b.viewFrom&&y>=b.viewTo)vl(a);else if(d<=b.viewFrom){var F=fc(a,y,y+v,1);F?(b.view=b.view.slice(F.index),b.viewFrom=F.lineN,b.viewTo+=v):vl(a)}else if(y>=b.viewTo){var G=fc(a,d,d,-1);G?(b.view=b.view.slice(0,G.index),b.viewTo=G.lineN):vl(a)}else{var X=fc(a,d,d,-1),J=fc(a,y,y+v,1);X&&J?(b.view=b.view.slice(0,X.index).concat(Zo(a,X.lineN,J.lineN)).concat(b.view.slice(J.index)),b.viewTo+=v):vl(a)}var ue=b.externalMeasured;ue&&(y<ue.lineN?ue.lineN+=v:d<ue.lineN+ue.size&&(b.externalMeasured=null))}function so(a,d,y){a.curOp.viewChanged=!0;var v=a.display,b=a.display.externalMeasured;if(b&&d>=b.lineN&&d<b.lineN+b.size&&(v.externalMeasured=null),!(d<v.viewFrom||d>=v.viewTo)){var F=v.view[oo(a,d)];if(null!=F.node){var G=F.changes||(F.changes=[]);-1==tt(G,y)&&G.push(y)}}}function vl(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function fc(a,d,y,v){var F,b=oo(a,d),G=a.display.view;if(!Ze||y==a.doc.first+a.doc.size)return{index:b,lineN:y};for(var X=a.display.viewFrom,J=0;J<b;J++)X+=G[J].size;if(X!=d){if(v>0){if(b==G.length-1)return null;F=X+G[b].size-d,b++}else F=X-d;d+=F,y+=F}for(;od(a.doc,y)!=y;){if(b==(v<0?0:G.length-1))return null;y+=v*G[b-(v<0?1:0)].size,b+=v}return{index:b,lineN:y}}function yh(a){for(var d=a.display.view,y=0,v=0;v<d.length;v++){var b=d[v];!b.hidden&&(!b.node||b.changes)&&++y}return y}function ud(a){a.display.input.showSelection(a.display.input.prepareSelection())}function lo(a,d){void 0===d&&(d=!0);var y=a.doc,v={},b=v.cursors=document.createDocumentFragment(),F=v.selection=document.createDocumentFragment(),G=a.options.$customCursor;G&&(d=!0);for(var X=0;X<y.sel.ranges.length;X++)if(d||X!=y.sel.primIndex){var J=y.sel.ranges[X];if(!(J.from().line>=a.display.viewTo||J.to().line<a.display.viewFrom)){var ue=J.empty();if(G){var xe=G(a,J);xe&&fn(a,xe,b)}else(ue||a.options.showCursorWhenSelecting)&&fn(a,J.head,b);ue||ki(a,J,F)}}return v}function fn(a,d,y){var v=cs(a,d,"div",null,null,!a.options.singleCursorHeightPerLine),b=y.appendChild(De("div","\xa0","CodeMirror-cursor"));if(b.style.left=v.left+"px",b.style.top=v.top+"px",b.style.height=Math.max(0,v.bottom-v.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var F=ld(a,d,"div",null,null),G=F.right-F.left;b.style.width=(G>0?G:a.defaultCharWidth())+"px"}if(v.other){var X=y.appendChild(De("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));X.style.display="",X.style.left=v.other.left+"px",X.style.top=v.other.top+"px",X.style.height=.85*(v.other.bottom-v.other.top)+"px"}}function Gn(a,d){return a.top-d.top||a.left-d.left}function ki(a,d,y){var v=a.display,b=a.doc,F=document.createDocumentFragment(),G=va(a.display),X=G.left,J=Math.max(v.sizerWidth,Cr(a)-v.sizer.offsetLeft)-G.right,ue="ltr"==b.direction;function xe(Yt,$t,Nn,En){$t<0&&($t=0),$t=Math.round($t),En=Math.round(En),F.appendChild(De("div",null,"CodeMirror-selected","position: absolute; left: "+Yt+"px;\n                             top: "+$t+"px; width: "+(Nn??J-Yt)+"px;\n                             height: "+(En-$t)+"px"))}function Le(Yt,$t,Nn){var dr,Mi,En=Cn(b,Yt),nr=En.text.length;function _i(Ii,da){return ld(a,St(Yt,Ii),"div",En,da)}function jo(Ii,da,Wo){var To=Ip(a,En,null,Ii),Hr="ltr"==da==("after"==Wo)?"left":"right";return _i("after"==Wo?To.begin:To.end-(/\s/.test(En.text.charAt(To.end-1))?2:1),Hr)[Hr]}var ji=Wa(En,b.direction);return function Bl(a,d,y,v){if(!a)return v(d,y,"ltr",0);for(var b=!1,F=0;F<a.length;++F){var G=a[F];(G.from<y&&G.to>d||d==y&&G.to==d)&&(v(Math.max(G.from,d),Math.min(G.to,y),1==G.level?"rtl":"ltr",F),b=!0)}b||v(d,y,"ltr")}(ji,$t||0,Nn??nr,function(Ii,da,Wo,To){var Hr="ltr"==Wo,Ci=_i(Ii,Hr?"left":"right"),ho=_i(da-1,Hr?"right":"left"),jd=null==$t&&0==Ii,Dl=null==Nn&&da==nr,Qo=0==To,il=!ji||To==ji.length-1;if(ho.top-Ci.top<=3){var Sl=(ue?jd:Dl)&&Qo?X:(Hr?Ci:ho).left;xe(Sl,Ci.top,((ue?Dl:jd)&&il?J:(Hr?ho:Ci).right)-Sl,Ci.bottom)}else{var Tl,Ai,Ic,ns;Hr?(Tl=ue&&jd&&Qo?X:Ci.left,Ai=ue?J:jo(Ii,Wo,"before"),Ic=ue?X:jo(da,Wo,"after"),ns=ue&&Dl&&il?J:ho.right):(Tl=ue?jo(Ii,Wo,"before"):X,Ai=!ue&&jd&&Qo?J:Ci.right,Ic=!ue&&Dl&&il?X:ho.left,ns=ue?jo(da,Wo,"after"):J),xe(Tl,Ci.top,Ai-Tl,Ci.bottom),Ci.bottom<ho.top&&xe(X,Ci.bottom,null,ho.top),xe(Ic,ho.top,ns-Ic,ho.bottom)}(!dr||Gn(Ci,dr)<0)&&(dr=Ci),Gn(ho,dr)<0&&(dr=ho),(!Mi||Gn(Ci,Mi)<0)&&(Mi=Ci),Gn(ho,Mi)<0&&(Mi=ho)}),{start:dr,end:Mi}}var $e=d.from(),je=d.to();if($e.line==je.line)Le($e.line,$e.ch,je.ch);else{var pt=Cn(b,$e.line),bt=Cn(b,je.line),Ut=tr(pt)==tr(bt),jt=Le($e.line,$e.ch,Ut?pt.text.length+1:null).end,qt=Le(je.line,Ut?0:null,je.ch).start;Ut&&(jt.top<qt.top-2?(xe(jt.right,jt.top,null,jt.bottom),xe(X,qt.top,qt.left,qt.bottom)):xe(jt.right,jt.top,qt.left-jt.right,jt.bottom)),jt.bottom<qt.top&&xe(X,jt.bottom,null,qt.top)}y.appendChild(F)}function aa(a){if(a.state.focused){var d=a.display;clearInterval(d.blinker);var y=!0;d.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?d.blinker=setInterval(function(){a.hasFocus()||mi(a),d.cursorDiv.style.visibility=(y=!y)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(d.cursorDiv.style.visibility="hidden")}}function hc(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||yl(a))}function _o(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&mi(a))},100)}function yl(a,d){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),"nocursor"!=a.options.readOnly&&(a.state.focused||(hi(a,"focus",a,d),a.state.focused=!0,Ye(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),O&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),aa(a))}function mi(a,d){a.state.delayingBlurEvent||(a.state.focused&&(hi(a,"blur",a,d),a.state.focused=!1,me(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function Js(a){for(var d=a.display,y=d.lineDiv.offsetTop,v=Math.max(0,d.scroller.getBoundingClientRect().top),b=d.lineDiv.getBoundingClientRect().top,F=0,G=0;G<d.view.length;G++){var X=d.view[G],J=a.options.lineWrapping,ue=void 0,xe=0;if(!X.hidden){if(b+=X.line.height,C&&S<8){var Le=X.node.offsetTop+X.node.offsetHeight;ue=Le-y,y=Le}else{var $e=X.node.getBoundingClientRect();ue=$e.bottom-$e.top,!J&&X.text.firstChild&&(xe=X.text.firstChild.getBoundingClientRect().right-$e.left-1)}var je=X.line.height-ue;if((je>.005||je<-.005)&&(b<v&&(F-=je),Ro(X.line,ue),sa(X.line),X.rest))for(var pt=0;pt<X.rest.length;pt++)sa(X.rest[pt]);if(xe>a.display.sizerWidth){var bt=Math.ceil(xe/ml(a.display));bt>a.display.maxLineLength&&(a.display.maxLineLength=bt,a.display.maxLine=X.line,a.display.maxLineChanged=!0)}}}Math.abs(F)>2&&(d.scroller.scrollTop+=F)}function sa(a){if(a.widgets)for(var d=0;d<a.widgets.length;++d){var y=a.widgets[d],v=y.node.parentNode;v&&(y.height=v.offsetHeight)}}function Kn(a,d,y){var v=y&&null!=y.top?Math.max(0,y.top):a.scroller.scrollTop;v=Math.floor(v-ls(a));var b=y&&null!=y.bottom?y.bottom:v+a.wrapper.clientHeight,F=qi(d,v),G=qi(d,b);if(y&&y.ensure){var X=y.ensure.from.line,J=y.ensure.to.line;X<F?(F=X,G=qi(d,Ra(Cn(d,X))+a.wrapper.clientHeight)):Math.min(J,d.lastLine())>=G&&(F=qi(d,Ra(Cn(d,J))-a.wrapper.clientHeight),G=J)}return{from:F,to:Math.max(G,F+1)}}function zi(a,d){var y=a.display,v=Qr(a.display);d.top<0&&(d.top=0);var b=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:y.scroller.scrollTop,F=dc(a),G={};d.bottom-d.top>F&&(d.bottom=d.top+F);var X=a.doc.height+us(y),ue=d.bottom>X-v;if(d.top<b)G.scrollTop=d.top<v?0:d.top;else if(d.bottom>b+F){var xe=Math.min(d.top,(ue?X:d.bottom)-F);xe!=b&&(G.scrollTop=xe)}var Le=a.options.fixedGutter?0:y.gutters.offsetWidth,$e=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:y.scroller.scrollLeft-Le,je=Cr(a)-y.gutters.offsetWidth,pt=d.right-d.left>je;return pt&&(d.right=d.left+je),d.left<10?G.scrollLeft=0:d.left<$e?G.scrollLeft=Math.max(0,d.left+Le-(pt?0:10)):d.right>je+$e-3&&(G.scrollLeft=d.right+(pt?0:10)-je),G}function ds(a,d){null!=d&&(dd(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+d)}function Za(a){dd(a);var d=a.getCursor();a.curOp.scrollToPos={from:d,to:d,margin:a.options.cursorScrollMargin}}function uo(a,d,y){(null!=d||null!=y)&&dd(a),null!=d&&(a.curOp.scrollLeft=d),null!=y&&(a.curOp.scrollTop=y)}function dd(a){var d=a.curOp.scrollToPos;d&&(a.curOp.scrollToPos=null,bl(a,Tp(a,d.from),Tp(a,d.to),d.margin))}function bl(a,d,y,v){var b=zi(a,{left:Math.min(d.left,y.left),top:Math.min(d.top,y.top)-v,right:Math.max(d.right,y.right),bottom:Math.max(d.bottom,y.bottom)+v});uo(a,b.scrollLeft,b.scrollTop)}function ur(a,d){Math.abs(a.doc.scrollTop-d)<2||(T||Ja(a,{top:d}),fd(a,d,!0),T&&Ja(a),vi(a,100))}function fd(a,d,y){d=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,d)),(a.display.scroller.scrollTop!=d||y)&&(a.doc.scrollTop=d,a.display.scrollbars.setScrollTop(d),a.display.scroller.scrollTop!=d&&(a.display.scroller.scrollTop=d))}function qa(a,d,y,v){d=Math.max(0,Math.min(d,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),(!(y?d==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-d)<2)||v)&&(a.doc.scrollLeft=d,Ap(a),a.display.scroller.scrollLeft!=d&&(a.display.scroller.scrollLeft=d),a.display.scrollbars.setScrollLeft(d))}function hn(a){var d=a.display,y=d.gutters.offsetWidth,v=Math.round(a.doc.height+us(a.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:a.options.fixedGutter?y:0,docHeight:v,scrollHeight:v+wo(a)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:y}}var Br=function(a,d,y){this.cm=y;var v=this.vert=De("div",[De("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),b=this.horiz=De("div",[De("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");v.tabIndex=b.tabIndex=-1,a(v),a(b),_n(v,"scroll",function(){v.clientHeight&&d(v.scrollTop,"vertical")}),_n(b,"scroll",function(){b.clientWidth&&d(b.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,C&&S<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Br.prototype.update=function(a){var d=a.scrollWidth>a.clientWidth+1,y=a.scrollHeight>a.clientHeight+1,v=a.nativeBarWidth;return y?(this.vert.style.display="block",this.vert.style.bottom=d?v+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(d?v:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),d?(this.horiz.style.display="block",this.horiz.style.right=y?v+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+(a.viewWidth-a.barLeft-(y?v:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&a.clientHeight>0&&(0==v&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:y?v:0,bottom:d?v:0}},Br.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Br.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Br.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=se&&!Y?"12px":"18px",this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new lt,this.disableVert=new lt},Br.prototype.enableZeroWidthBar=function(a,d,y){a.style.visibility="",d.set(1e3,function v(){var b=a.getBoundingClientRect();("vert"==y?document.elementFromPoint(b.right-1,(b.top+b.bottom)/2):document.elementFromPoint((b.right+b.left)/2,b.bottom-1))!=a?a.style.visibility="hidden":d.set(1e3,v)})},Br.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var pn=function(){};function wl(a,d){d||(d=hn(a));var y=a.display.barWidth,v=a.display.barHeight;Rs(a,d);for(var b=0;b<4&&y!=a.display.barWidth||v!=a.display.barHeight;b++)y!=a.display.barWidth&&a.options.lineWrapping&&Js(a),Rs(a,hn(a)),y=a.display.barWidth,v=a.display.barHeight}function Rs(a,d){var y=a.display,v=y.scrollbars.update(d);y.sizer.style.paddingRight=(y.barWidth=v.right)+"px",y.sizer.style.paddingBottom=(y.barHeight=v.bottom)+"px",y.heightForcer.style.borderBottom=v.bottom+"px solid transparent",v.right&&v.bottom?(y.scrollbarFiller.style.display="block",y.scrollbarFiller.style.height=v.bottom+"px",y.scrollbarFiller.style.width=v.right+"px"):y.scrollbarFiller.style.display="",v.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(y.gutterFiller.style.display="block",y.gutterFiller.style.height=v.bottom+"px",y.gutterFiller.style.width=d.gutterWidth+"px"):y.gutterFiller.style.display=""}pn.prototype.update=function(){return{bottom:0,right:0}},pn.prototype.setScrollLeft=function(){},pn.prototype.setScrollTop=function(){},pn.prototype.clear=function(){};var hd={native:Br,null:pn};function Eu(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&me(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new hd[a.options.scrollbarStyle](function(d){a.display.wrapper.insertBefore(d,a.display.scrollbarFiller),_n(d,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),d.setAttribute("cm-not-content","true")},function(d,y){"horizontal"==y?qa(a,d):ur(a,d)},a),a.display.scrollbars.addClass&&Ye(a.display.wrapper,a.display.scrollbars.addClass)}var el=0;function ii(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++el,markArrays:null},function vu(a){ac?ac.ops.push(a):a.ownsGroup=ac={ops:[a],delayedCallbacks:[]}}(a.curOp)}function Yl(a){var d=a.curOp;d&&function sc(a,d){var y=a.ownsGroup;if(y)try{!function yu(a){var d=a.delayedCallbacks,y=0;do{for(;y<d.length;y++)d[y].call(null);for(var v=0;v<a.ops.length;v++){var b=a.ops[v];if(b.cursorActivityHandlers)for(;b.cursorActivityCalled<b.cursorActivityHandlers.length;)b.cursorActivityHandlers[b.cursorActivityCalled++].call(null,b.cm)}}while(y<d.length)}(y)}finally{ac=null,d(y)}}(d,function(y){for(var v=0;v<y.ops.length;v++)y.ops[v].cm.curOp=null;!function Qa(a){for(var d=a.ops,y=0;y<d.length;y++)La(d[y]);for(var v=0;v<d.length;v++)wh(d[v]);for(var b=0;b<d.length;b++)xu(d[b]);for(var F=0;F<d.length;F++)Ef(d[F]);for(var G=0;G<d.length;G++)fs(d[G])}(y)})}function La(a){var d=a.cm,y=d.display;(function dy(a){var d=a.display;!d.scrollbarsClipped&&d.scroller.offsetWidth&&(d.nativeBarWidth=d.scroller.offsetWidth-d.scroller.clientWidth,d.heightForcer.style.height=wo(a)+"px",d.sizer.style.marginBottom=-d.nativeBarWidth+"px",d.sizer.style.borderRightWidth=wo(a)+"px",d.scrollbarsClipped=!0)})(d),a.updateMaxLine&&mu(d),a.mustUpdate=a.viewChanged||a.forceUpdate||null!=a.scrollTop||a.scrollToPos&&(a.scrollToPos.from.line<y.viewFrom||a.scrollToPos.to.line>=y.viewTo)||y.maxLineChanged&&d.options.lineWrapping,a.update=a.mustUpdate&&new _h(d,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function wh(a){a.updatedDisplay=a.mustUpdate&&_l(a.cm,a.update)}function xu(a){var d=a.cm,y=d.display;a.updatedDisplay&&Js(d),a.barMeasure=hn(d),y.maxLineChanged&&!d.options.lineWrapping&&(a.adjustWidthTo=Ns(d,y.maxLine,y.maxLine.text.length).left+3,d.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(y.scroller.clientWidth,y.sizer.offsetLeft+a.adjustWidthTo+wo(d)+d.display.barWidth),a.maxScrollLeft=Math.max(0,y.sizer.offsetLeft+a.adjustWidthTo-Cr(d))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=y.input.prepareSelection())}function Ef(a){var d=a.cm;null!=a.adjustWidthTo&&(d.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<d.doc.scrollLeft&&qa(d,Math.min(d.display.scroller.scrollLeft,a.maxScrollLeft),!0),d.display.maxLineChanged=!1);var y=a.focus&&a.focus==ft(Kt(d));a.preparedSelection&&d.display.input.showSelection(a.preparedSelection,y),(a.updatedDisplay||a.startHeight!=d.doc.height)&&wl(d,a.barMeasure),a.updatedDisplay&&Ch(d,a.barMeasure),a.selectionChanged&&aa(d),d.state.focused&&a.updateInput&&d.display.input.reset(a.typing),y&&hc(a.cm)}function fs(a){var d=a.cm,y=d.display,v=d.doc;a.updatedDisplay&&Xl(d,a.update),null!=y.wheelStartX&&(null!=a.scrollTop||null!=a.scrollLeft||a.scrollToPos)&&(y.wheelStartX=y.wheelStartY=null),null!=a.scrollTop&&fd(d,a.scrollTop,a.forceScroll),null!=a.scrollLeft&&qa(d,a.scrollLeft,!0,!0),a.scrollToPos&&function pc(a,d){if(!Ki(a,"scrollCursorIntoView")){var y=a.display,v=y.sizer.getBoundingClientRect(),b=null,F=y.wrapper.ownerDocument;if(d.top+v.top<0?b=!0:d.bottom+v.top>(F.defaultView.innerHeight||F.documentElement.clientHeight)&&(b=!1),null!=b&&!ee){var G=De("div","\u200b",null,"position: absolute;\n                         top: "+(d.top-y.viewOffset-ls(a.display))+"px;\n                         height: "+(d.bottom-d.top+wo(a)+y.barHeight)+"px;\n                         left: "+d.left+"px; width: "+Math.max(2,d.right-d.left)+"px;");a.display.lineSpace.appendChild(G),G.scrollIntoView(b),a.display.lineSpace.removeChild(G)}}}(d,function bh(a,d,y,v){var b;null==v&&(v=0),!a.options.lineWrapping&&d==y&&(y="before"==d.sticky?St(d.line,d.ch+1,"before"):d,d=d.ch?St(d.line,"before"==d.sticky?d.ch-1:d.ch,"after"):d);for(var F=0;F<5;F++){var G=!1,X=cs(a,d),J=y&&y!=d?cs(a,y):X,ue=zi(a,b={left:Math.min(X.left,J.left),top:Math.min(X.top,J.top)-v,right:Math.max(X.left,J.left),bottom:Math.max(X.bottom,J.bottom)+v}),xe=a.doc.scrollTop,Le=a.doc.scrollLeft;if(null!=ue.scrollTop&&(ur(a,ue.scrollTop),Math.abs(a.doc.scrollTop-xe)>1&&(G=!0)),null!=ue.scrollLeft&&(qa(a,ue.scrollLeft),Math.abs(a.doc.scrollLeft-Le)>1&&(G=!0)),!G)break}return b}(d,et(v,a.scrollToPos.from),et(v,a.scrollToPos.to),a.scrollToPos.margin));var F=a.maybeHiddenMarkers,G=a.maybeUnhiddenMarkers;if(F)for(var X=0;X<F.length;++X)F[X].lines.length||hi(F[X],"hide");if(G)for(var J=0;J<G.length;++J)G[J].lines.length&&hi(G[J],"unhide");y.wrapper.offsetHeight&&(v.scrollTop=d.display.scroller.scrollTop),a.changeObjs&&hi(d,"changes",d,a.changeObjs),a.update&&a.update.finish()}function la(a,d){if(a.curOp)return d();ii(a);try{return d()}finally{Yl(a)}}function Co(a,d){return function(){if(a.curOp)return d.apply(a,arguments);ii(a);try{return d.apply(a,arguments)}finally{Yl(a)}}}function Po(a){return function(){if(this.curOp)return a.apply(this,arguments);ii(this);try{return a.apply(this,arguments)}finally{Yl(this)}}}function Lo(a){return function(){var d=this.cm;if(!d||d.curOp)return a.apply(this,arguments);ii(d);try{return a.apply(this,arguments)}finally{Yl(d)}}}function vi(a,d){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(d,Mt(bi,a))}function bi(a){var d=a.doc;if(!(d.highlightFrontier>=a.display.viewTo)){var y=+new Date+a.options.workTime,v=Bt(a,d.highlightFrontier),b=[];d.iter(v.line,Math.min(d.first+d.size,a.display.viewTo+500),function(F){if(v.line>=a.display.viewFrom){var G=F.styles,X=F.text.length>a.options.maxHighlightLength?Oi(d.mode,v.state):null,J=Jt(a,F,v,!0);X&&(v.state=X),F.styles=J.styles;var ue=F.styleClasses,xe=J.classes;xe?F.styleClasses=xe:ue&&(F.styleClasses=null);for(var Le=!G||G.length!=F.styles.length||ue!=xe&&(!ue||!xe||ue.bgClass!=xe.bgClass||ue.textClass!=xe.textClass),$e=0;!Le&&$e<G.length;++$e)Le=G[$e]!=F.styles[$e];Le&&b.push(v.line),F.stateAfter=v.save(),v.nextLine()}else F.text.length<=a.options.maxHighlightLength&&Ir(a,F.text,v),F.stateAfter=v.line%5==0?v.save():null,v.nextLine();if(+new Date>y)return vi(a,a.options.workDelay),!0}),d.highlightFrontier=v.line,d.modeFrontier=Math.max(d.modeFrontier,v.line),b.length&&la(a,function(){for(var F=0;F<b.length;F++)so(a,b[F],"text")})}}var _h=function(a,d,y){var v=a.display;this.viewport=d,this.visible=Kn(v,a.doc,d),this.editorIsHidden=!v.wrapper.offsetWidth,this.wrapperHeight=v.wrapper.clientHeight,this.wrapperWidth=v.wrapper.clientWidth,this.oldDisplayWidth=Cr(a),this.force=y,this.dims=_f(a),this.events=[]};function _l(a,d){var y=a.display,v=a.doc;if(d.editorIsHidden)return vl(a),!1;if(!d.force&&d.visible.from>=y.viewFrom&&d.visible.to<=y.viewTo&&(null==y.updateLineNumbers||y.updateLineNumbers>=y.viewTo)&&y.renderedView==y.view&&0==yh(a))return!1;lm(a)&&(vl(a),d.dims=_f(a));var b=v.first+v.size,F=Math.max(d.visible.from-a.options.viewportMargin,v.first),G=Math.min(b,d.visible.to+a.options.viewportMargin);y.viewFrom<F&&F-y.viewFrom<20&&(F=Math.max(v.first,y.viewFrom)),y.viewTo>G&&y.viewTo-G<20&&(G=Math.min(b,y.viewTo)),Ze&&(F=od(a.doc,F),G=rn(a.doc,G));var X=F!=y.viewFrom||G!=y.viewTo||y.lastWrapHeight!=d.wrapperHeight||y.lastWrapWidth!=d.wrapperWidth;(function Cf(a,d,y){var v=a.display;0==v.view.length||d>=v.viewTo||y<=v.viewFrom?(v.view=Zo(a,d,y),v.viewFrom=d):(v.viewFrom>d?v.view=Zo(a,d,v.viewFrom).concat(v.view):v.viewFrom<d&&(v.view=v.view.slice(oo(a,d))),v.viewFrom=d,v.viewTo<y?v.view=v.view.concat(Zo(a,v.viewTo,y)):v.viewTo>y&&(v.view=v.view.slice(0,oo(a,y)))),v.viewTo=y})(a,F,G),y.viewOffset=Ra(Cn(a.doc,y.viewFrom)),a.display.mover.style.top=y.viewOffset+"px";var J=yh(a);if(!X&&0==J&&!d.force&&y.renderedView==y.view&&(null==y.updateLineNumbers||y.updateLineNumbers>=y.viewTo))return!1;var ue=function fy(a){if(a.hasFocus())return null;var d=ft(Kt(a));if(!d||!ot(a.display.lineDiv,d))return null;var y={activeElt:d};if(window.getSelection){var v=Ht(a).getSelection();v.anchorNode&&v.extend&&ot(a.display.lineDiv,v.anchorNode)&&(y.anchorNode=v.anchorNode,y.anchorOffset=v.anchorOffset,y.focusNode=v.focusNode,y.focusOffset=v.focusOffset)}return y}(a);return J>4&&(y.lineDiv.style.display="none"),function pd(a,d,y){var v=a.display,b=a.options.lineNumbers,F=v.lineDiv,G=F.firstChild;function X(pt){var bt=pt.nextSibling;return O&&se&&a.display.currentWheelTarget==pt?pt.style.display="none":pt.parentNode.removeChild(pt),bt}for(var J=v.view,ue=v.viewFrom,xe=0;xe<J.length;xe++){var Le=J[xe];if(!Le.hidden)if(Le.node&&Le.node.parentNode==F){for(;G!=Le.node;)G=X(G);var je=b&&null!=d&&d<=ue&&Le.lineNumber;Le.changes&&(tt(Le.changes,"gutter")>-1&&(je=!1),fh(a,Le,ue,y)),je&&(_e(Le.lineNumber),Le.lineNumber.appendChild(document.createTextNode(rd(a.options,ue)))),G=Le.node.nextSibling}else{var $e=hf(a,Le,ue,y);F.insertBefore($e,G)}ue+=Le.size}for(;G;)G=X(G)}(a,y.updateLineNumbers,d.dims),J>4&&(y.lineDiv.style.display=""),y.renderedView=y.view,function Du(a){if(a&&a.activeElt&&a.activeElt!=ft(a.activeElt.ownerDocument)&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&ot(document.body,a.anchorNode)&&ot(document.body,a.focusNode))){var d=a.activeElt.ownerDocument,y=d.defaultView.getSelection(),v=d.createRange();v.setEnd(a.anchorNode,a.anchorOffset),v.collapse(!1),y.removeAllRanges(),y.addRange(v),y.extend(a.focusNode,a.focusOffset)}}(ue),_e(y.cursorDiv),_e(y.selectionDiv),y.gutters.style.height=y.sizer.style.minHeight=0,X&&(y.lastWrapHeight=d.wrapperHeight,y.lastWrapWidth=d.wrapperWidth,vi(a,400)),y.updateLineNumbers=null,!0}function Xl(a,d){for(var y=d.viewport,v=!0;;v=!1){if(v&&a.options.lineWrapping&&d.oldDisplayWidth!=Cr(a))v&&(d.visible=Kn(a.display,a.doc,y));else if(y&&null!=y.top&&(y={top:Math.min(a.doc.height+us(a.display)-dc(a),y.top)}),d.visible=Kn(a.display,a.doc,y),d.visible.from>=a.display.viewFrom&&d.visible.to<=a.display.viewTo)break;if(!_l(a,d))break;Js(a);var b=hn(a);ud(a),wl(a,b),Ch(a,b),d.force=!1}d.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(d.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Ja(a,d){var y=new _h(a,d);if(_l(a,y)){Js(a),Xl(a,y);var v=hn(a);ud(a),wl(a,v),Ch(a,v),y.finish()}}function xf(a){a.sizer.style.marginLeft=a.gutters.offsetWidth+"px",bo(a,"gutterChanged",a)}function Ch(a,d){a.display.sizer.style.minHeight=d.docHeight+"px",a.display.heightForcer.style.top=d.docHeight+"px",a.display.gutters.style.height=d.docHeight+a.display.barHeight+wo(a)+"px"}function Ap(a){var d=a.display,y=d.view;if(d.alignWidgets||d.gutters.firstChild&&a.options.fixedGutter){for(var v=an(d)-d.scroller.scrollLeft+a.doc.scrollLeft,b=d.gutters.offsetWidth,F=v+"px",G=0;G<y.length;G++)if(!y[G].hidden){a.options.fixedGutter&&(y[G].gutter&&(y[G].gutter.style.left=F),y[G].gutterBackground&&(y[G].gutterBackground.style.left=F));var X=y[G].alignable;if(X)for(var J=0;J<X.length;J++)X[J].style.left=F}a.options.fixedGutter&&(d.gutters.style.left=v+b+"px")}}function lm(a){if(!a.options.lineNumbers)return!1;var d=a.doc,y=rd(a.options,d.first+d.size-1),v=a.display;if(y.length!=v.lineNumChars){var b=v.measure.appendChild(De("div",[De("div",y)],"CodeMirror-linenumber CodeMirror-gutter-elt")),F=b.firstChild.offsetWidth,G=b.offsetWidth-F;return v.lineGutter.style.width="",v.lineNumInnerWidth=Math.max(F,v.lineGutter.offsetWidth-G)+1,v.lineNumWidth=v.lineNumInnerWidth+G,v.lineNumChars=v.lineNumInnerWidth?y.length:-1,v.lineGutter.style.width=v.lineNumWidth+"px",xf(a.display),!0}return!1}function Kl(a,d){for(var y=[],v=!1,b=0;b<a.length;b++){var F=a[b],G=null;if("string"!=typeof F&&(G=F.style,F=F.className),"CodeMirror-linenumbers"==F){if(!d)continue;v=!0}y.push({className:F,style:G})}return d&&!v&&y.push({className:"CodeMirror-linenumbers",style:null}),y}function Df(a){var d=a.gutters,y=a.gutterSpecs;_e(d),a.lineGutter=null;for(var v=0;v<y.length;++v){var b=y[v],F=b.className,G=b.style,X=d.appendChild(De("div",null,"CodeMirror-gutter "+F));G&&(X.style.cssText=G),"CodeMirror-linenumbers"==F&&(a.lineGutter=X,X.style.width=(a.lineNumWidth||1)+"px")}d.style.display=y.length?"":"none",xf(a)}function Sf(a){Df(a.display),ao(a),Ap(a)}function Eh(a,d,y,v){var b=this;this.input=y,b.scrollbarFiller=De("div",null,"CodeMirror-scrollbar-filler"),b.scrollbarFiller.setAttribute("cm-not-content","true"),b.gutterFiller=De("div",null,"CodeMirror-gutter-filler"),b.gutterFiller.setAttribute("cm-not-content","true"),b.lineDiv=ze("div",null,"CodeMirror-code"),b.selectionDiv=De("div",null,null,"position: relative; z-index: 1"),b.cursorDiv=De("div",null,"CodeMirror-cursors"),b.measure=De("div",null,"CodeMirror-measure"),b.lineMeasure=De("div",null,"CodeMirror-measure"),b.lineSpace=ze("div",[b.measure,b.lineMeasure,b.selectionDiv,b.cursorDiv,b.lineDiv],null,"position: relative; outline: none");var F=ze("div",[b.lineSpace],"CodeMirror-lines");b.mover=De("div",[F],null,"position: relative"),b.sizer=De("div",[b.mover],"CodeMirror-sizer"),b.sizerWidth=null,b.heightForcer=De("div",null,null,"position: absolute; height: "+ht+"px; width: 1px;"),b.gutters=De("div",null,"CodeMirror-gutters"),b.lineGutter=null,b.scroller=De("div",[b.sizer,b.heightForcer,b.gutters],"CodeMirror-scroll"),b.scroller.setAttribute("tabIndex","-1"),b.wrapper=De("div",[b.scrollbarFiller,b.gutterFiller,b.scroller],"CodeMirror"),V&&L>=105&&(b.wrapper.style.clipPath="inset(0px)"),b.wrapper.setAttribute("translate","no"),C&&S<8&&(b.gutters.style.zIndex=-1,b.scroller.style.paddingRight=0),!O&&!(T&&le)&&(b.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(b.wrapper):a(b.wrapper)),b.viewFrom=b.viewTo=d.first,b.reportedViewFrom=b.reportedViewTo=d.first,b.view=[],b.renderedView=null,b.externalMeasured=null,b.viewOffset=0,b.lastWrapHeight=b.lastWrapWidth=0,b.updateLineNumbers=null,b.nativeBarWidth=b.barHeight=b.barWidth=0,b.scrollbarsClipped=!1,b.lineNumWidth=b.lineNumInnerWidth=b.lineNumChars=null,b.alignWidgets=!1,b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.maxLine=null,b.maxLineLength=0,b.maxLineChanged=!1,b.wheelDX=b.wheelDY=b.wheelStartX=b.wheelStartY=null,b.shift=!1,b.selForContextMenu=null,b.activeTouch=null,b.gutterSpecs=Kl(v.gutters,v.lineNumbers),Df(b),y.init(b)}_h.prototype.signal=function(a,d){Di(a,d)&&this.events.push(arguments)},_h.prototype.finish=function(){for(var a=0;a<this.events.length;a++)hi.apply(null,this.events[a])};var gd=0,co=null;function es(a){var d=a.wheelDeltaX,y=a.wheelDeltaY;return null==d&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(d=a.detail),null==y&&a.detail&&a.axis==a.VERTICAL_AXIS?y=a.detail:null==y&&(y=a.wheelDelta),{x:d,y}}function um(a){var d=es(a);return d.x*=co,d.y*=co,d}function md(a,d){V&&102==L&&(null==a.display.chromeScrollHack?a.display.sizer.style.pointerEvents="none":clearTimeout(a.display.chromeScrollHack),a.display.chromeScrollHack=setTimeout(function(){a.display.chromeScrollHack=null,a.display.sizer.style.pointerEvents=""},100));var y=es(d),v=y.x,b=y.y,F=co;0===d.deltaMode&&(v=d.deltaX,b=d.deltaY,F=1);var G=a.display,X=G.scroller,ue=X.scrollHeight>X.clientHeight;if(v&&X.scrollWidth>X.clientWidth||b&&ue){if(b&&se&&O)e:for(var xe=d.target,Le=G.view;xe!=X;xe=xe.parentNode)for(var $e=0;$e<Le.length;$e++)if(Le[$e].node==xe){a.display.currentWheelTarget=xe;break e}if(v&&!T&&!B&&null!=F)return b&&ue&&ur(a,Math.max(0,X.scrollTop+b*F)),qa(a,Math.max(0,X.scrollLeft+v*F)),(!b||b&&ue)&&Fi(d),void(G.wheelStartX=null);if(b&&null!=F){var je=b*F,pt=a.doc.scrollTop,bt=pt+G.wrapper.clientHeight;je<0?pt=Math.max(0,pt+je-50):bt=Math.min(a.doc.height,bt+je+50),Ja(a,{top:pt,bottom:bt})}gd<20&&0!==d.deltaMode&&(null==G.wheelStartX?(G.wheelStartX=X.scrollLeft,G.wheelStartY=X.scrollTop,G.wheelDX=v,G.wheelDY=b,setTimeout(function(){if(null!=G.wheelStartX){var Ut=X.scrollLeft-G.wheelStartX,jt=X.scrollTop-G.wheelStartY,qt=jt&&G.wheelDY&&jt/G.wheelDY||Ut&&G.wheelDX&&Ut/G.wheelDX;G.wheelStartX=G.wheelStartY=null,qt&&(co=(co*gd+qt)/(gd+1),++gd)}},200)):(G.wheelDX+=v,G.wheelDY+=b))}}C?co=-.53:T?co=15:V?co=-.7:H&&(co=-1/3);var ya=function(a,d){this.ranges=a,this.primIndex=d};ya.prototype.primary=function(){return this.ranges[this.primIndex]},ya.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var d=0;d<this.ranges.length;d++){var y=this.ranges[d],v=a.ranges[d];if(!id(y.anchor,v.anchor)||!id(y.head,v.head))return!1}return!0},ya.prototype.deepCopy=function(){for(var a=[],d=0;d<this.ranges.length;d++)a[d]=new jr(Ms(this.ranges[d].anchor),Ms(this.ranges[d].head));return new ya(a,this.primIndex)},ya.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},ya.prototype.contains=function(a,d){d||(d=a);for(var y=0;y<this.ranges.length;y++){var v=this.ranges[y];if(Wn(d,v.from())>=0&&Wn(a,v.to())<=0)return y}return-1};var jr=function(a,d){this.anchor=a,this.head=d};function ua(a,d,y){var v=a&&a.options.selectionsMayTouch,b=d[y];d.sort(function($e,je){return Wn($e.from(),je.from())}),y=tt(d,b);for(var F=1;F<d.length;F++){var G=d[F],X=d[F-1],J=Wn(X.to(),G.from());if(v&&!G.empty()?J>0:J>=0){var ue=Re(X.from(),G.from()),xe=Ne(X.to(),G.to()),Le=X.empty()?G.from()==G.head:X.from()==X.head;F<=y&&--y,d.splice(--F,2,new jr(Le?xe:ue,Le?ue:xe))}}return new ya(d,y)}function ba(a,d){return new ya([new jr(a,d||a)],0)}function Fo(a){return a.text?St(a.from.line+a.text.length-1,wn(a.text).length+(1==a.text.length?a.from.ch:0)):a.to}function hs(a,d){if(Wn(a,d.from)<0)return a;if(Wn(a,d.to)<=0)return Fo(d);var y=a.line+d.text.length-(d.to.line-d.from.line)-1,v=a.ch;return a.line==d.to.line&&(v+=Fo(d).ch-d.to.ch),St(y,v)}function Bo(a,d){for(var y=[],v=0;v<a.sel.ranges.length;v++){var b=a.sel.ranges[v];y.push(new jr(hs(b.anchor,d),hs(b.head,d)))}return ua(a.cm,y,a.sel.primIndex)}function Cl(a,d,y){return a.line==d.line?St(y.line,a.ch-d.ch+y.ch):St(y.line+(a.line-d.line),a.ch)}function gc(a){a.doc.mode=Na(a.options,a.doc.modeOption),Tf(a)}function Tf(a){a.doc.iter(function(d){d.stateAfter&&(d.stateAfter=null),d.styles&&(d.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,vi(a,100),a.state.modeGen++,a.curOp&&ao(a)}function vd(a,d){return 0==d.from.ch&&0==d.to.ch&&""==wn(d.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function mc(a,d,y,v){function b(qt){return y?y[qt]:null}function F(qt,Yt,$t){(function Ko(a,d,y,v){a.text=d,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),Qi(a),qs(a,y);var b=v?v(a):1;b!=a.height&&Ro(a,b)})(qt,Yt,$t,v),bo(qt,"change",qt,d)}function G(qt,Yt){for(var $t=[],Nn=qt;Nn<Yt;++Nn)$t.push(new hl(ue[Nn],b(Nn),v));return $t}var X=d.from,J=d.to,ue=d.text,xe=Cn(a,X.line),Le=Cn(a,J.line),$e=wn(ue),je=b(ue.length-1),pt=J.line-X.line;if(d.full)a.insert(0,G(0,ue.length)),a.remove(ue.length,a.size-ue.length);else if(vd(a,d)){var bt=G(0,ue.length-1);F(Le,Le.text,je),pt&&a.remove(X.line,pt),bt.length&&a.insert(X.line,bt)}else if(xe==Le)if(1==ue.length)F(xe,xe.text.slice(0,X.ch)+$e+xe.text.slice(J.ch),je);else{var Ut=G(1,ue.length-1);Ut.push(new hl($e+xe.text.slice(J.ch),je,v)),F(xe,xe.text.slice(0,X.ch)+ue[0],b(0)),a.insert(X.line+1,Ut)}else if(1==ue.length)F(xe,xe.text.slice(0,X.ch)+ue[0]+Le.text.slice(J.ch),b(0)),a.remove(X.line+1,pt);else{F(xe,xe.text.slice(0,X.ch)+ue[0],b(0)),F(Le,$e+Le.text.slice(J.ch),je);var jt=G(1,ue.length-1);pt>1&&a.remove(X.line+1,pt-1),a.insert(X.line+1,jt)}bo(a,"change",a,d)}function ps(a,d,y){!function v(b,F,G){if(b.linked)for(var X=0;X<b.linked.length;++X){var J=b.linked[X];if(J.doc!=F){var ue=G&&J.sharedHist;y&&!ue||(d(J.doc,ue),v(J.doc,b,ue))}}}(a,null,!0)}function vc(a,d){if(d.cm)throw new Error("This document is already in use.");a.doc=d,d.cm=a,Fr(a),gc(a),Np(a),a.options.direction=d.direction,a.options.lineWrapping||mu(a),a.options.mode=d.modeOption,ao(a)}function Np(a){("rtl"==a.doc.direction?Ye:me)(a.display.lineDiv,"CodeMirror-rtl")}function yc(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function Su(a,d){var y={from:Ms(d.from),to:Fo(d),text:si(a,d.from,d.to)};return kp(a,y,d.from.line,d.to.line+1),ps(a,function(v){return kp(v,y,d.from.line,d.to.line+1)},!0),y}function El(a){for(;a.length&&wn(a).ranges;)a.pop()}function cm(a,d,y,v){var b=a.history;b.undone.length=0;var G,X,F=+new Date;if((b.lastOp==v||b.lastOrigin==d.origin&&d.origin&&("+"==d.origin.charAt(0)&&b.lastModTime>F-(a.cm?a.cm.options.historyEventDelay:500)||"*"==d.origin.charAt(0)))&&(G=function Op(a,d){return d?(El(a.done),wn(a.done)):a.done.length&&!wn(a.done).ranges?wn(a.done):a.done.length>1&&!a.done[a.done.length-2].ranges?(a.done.pop(),wn(a.done)):void 0}(b,b.lastOp==v)))X=wn(G.changes),0==Wn(d.from,d.to)&&0==Wn(d.from,X.to)?X.to=Fo(d):G.changes.push(Su(a,d));else{var J=wn(b.done);for((!J||!J.ranges)&&yd(a.sel,b.done),G={changes:[Su(a,d)],generation:b.generation},b.done.push(G);b.done.length>b.undoDepth;)b.done.shift(),b.done[0].ranges||b.done.shift()}b.done.push(y),b.generation=++b.maxGeneration,b.lastModTime=b.lastSelTime=F,b.lastOp=b.lastSelOp=v,b.lastOrigin=b.lastSelOrigin=d.origin,X||hi(a,"historyAdded")}function Rp(a,d,y,v){var b=a.history,F=v&&v.origin;y==b.lastSelOp||F&&b.lastSelOrigin==F&&(b.lastModTime==b.lastSelTime&&b.lastOrigin==F||function hy(a,d,y,v){var b=d.charAt(0);return"*"==b||"+"==b&&y.ranges.length==v.ranges.length&&y.somethingSelected()==v.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}(a,F,wn(b.done),d))?b.done[b.done.length-1]=d:yd(d,b.done),b.lastSelTime=+new Date,b.lastSelOrigin=F,b.lastSelOp=y,v&&!1!==v.clearRedo&&El(b.undone)}function yd(a,d){var y=wn(d);y&&y.ranges&&y.equals(a)||d.push(a)}function kp(a,d,y,v){var b=d["spans_"+a.id],F=0;a.iter(Math.max(a.first,y),Math.min(a.first+a.size,v),function(G){G.markedSpans&&((b||(b=d["spans_"+a.id]={}))[F]=G.markedSpans),++F})}function dm(a){if(!a)return null;for(var d,y=0;y<a.length;++y)a[y].marker.explicitlyCleared?d||(d=a.slice(0,y)):d&&d.push(a[y]);return d?d.length?d:null:a}function Dh(a,d){var y=function wa(a,d){var y=d["spans_"+a.id];if(!y)return null;for(var v=[],b=0;b<d.text.length;++b)v.push(dm(y[b]));return v}(a,d),v=Zs(a,d);if(!y)return v;if(!v)return y;for(var b=0;b<y.length;++b){var F=y[b],G=v[b];if(F&&G)e:for(var X=0;X<G.length;++X){for(var J=G[X],ue=0;ue<F.length;++ue)if(F[ue].marker==J.marker)continue e;F.push(J)}else G&&(y[b]=G)}return y}function bc(a,d,y){for(var v=[],b=0;b<a.length;++b){var F=a[b];if(F.ranges)v.push(y?ya.prototype.deepCopy.call(F):F);else{var G=F.changes,X=[];v.push({changes:X});for(var J=0;J<G.length;++J){var ue=G[J],xe=void 0;if(X.push({from:ue.from,to:ue.to,text:ue.text}),d)for(var Le in ue)(xe=Le.match(/^spans_(\d+)$/))&&tt(d,Number(xe[1]))>-1&&(wn(X)[Le]=ue[Le],delete ue[Le])}}}return v}function Mf(a,d,y,v){if(v){var b=a.anchor;if(y){var F=Wn(d,b)<0;F!=Wn(y,b)<0?(b=d,d=y):F!=Wn(d,y)<0&&(d=y)}return new jr(b,d)}return new jr(y||d,d)}function bd(a,d,y,v,b){null==b&&(b=a.cm&&(a.cm.display.shift||a.extend)),Eo(a,new ya([Mf(a.sel.primary(),d,y,b)],0),v)}function Sh(a,d,y){for(var v=[],b=a.cm&&(a.cm.display.shift||a.extend),F=0;F<a.sel.ranges.length;F++)v[F]=Mf(a.sel.ranges[F],d[F],null,b);Eo(a,ua(a.cm,v,a.sel.primIndex),y)}function Th(a,d,y,v){var b=a.sel.ranges.slice(0);b[d]=y,Eo(a,ua(a.cm,b,a.sel.primIndex),v)}function wd(a,d,y,v){Eo(a,ba(d,y),v)}function Fa(a,d,y){var v=a.history.done,b=wn(v);b&&b.ranges?(v[v.length-1]=d,Cd(a,d,y)):Eo(a,d,y)}function Eo(a,d,y){Cd(a,d,y),Rp(a,a.sel,a.cm?a.cm.curOp.id:NaN,y)}function Cd(a,d,y){(Di(a,"beforeSelectionChange")||a.cm&&Di(a.cm,"beforeSelectionChange"))&&(d=function _d(a,d,y){var v={ranges:d.ranges,update:function(b){this.ranges=[];for(var F=0;F<b.length;F++)this.ranges[F]=new jr(et(a,b[F].anchor),et(a,b[F].head))},origin:y&&y.origin};return hi(a,"beforeSelectionChange",a,v),a.cm&&hi(a.cm,"beforeSelectionChange",a.cm,v),v.ranges!=d.ranges?ua(a.cm,v.ranges,v.ranges.length-1):d}(a,d,y));var v=y&&y.bias||(Wn(d.primary().head,a.sel.primary().head)<0?-1:1);di(a,Ed(a,d,v,!0)),(!y||!1!==y.scroll)&&a.cm&&"nocursor"!=a.cm.getOption("readOnly")&&Za(a.cm)}function di(a,d){d.equals(a.sel)||(a.sel=d,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,pu(a.cm)),bo(a,"cursorActivity",a))}function Mh(a){di(a,Ed(a,a.sel,null,!1))}function Ed(a,d,y,v){for(var b,F=0;F<d.ranges.length;F++){var G=d.ranges[F],X=d.ranges.length==a.sel.ranges.length&&a.sel.ranges[F],J=ks(a,G.anchor,X&&X.anchor,y,v),ue=G.head==G.anchor?J:ks(a,G.head,X&&X.head,y,v);(b||J!=G.anchor||ue!=G.head)&&(b||(b=d.ranges.slice(0,F)),b[F]=new jr(J,ue))}return b?ua(a.cm,b,d.primIndex):d}function Ui(a,d,y,v,b){var F=Cn(a,d.line);if(F.markedSpans)for(var G=0;G<F.markedSpans.length;++G){var X=F.markedSpans[G],J=X.marker,ue="selectLeft"in J?!J.selectLeft:J.inclusiveLeft,xe="selectRight"in J?!J.selectRight:J.inclusiveRight;if((null==X.from||(ue?X.from<=d.ch:X.from<d.ch))&&(null==X.to||(xe?X.to>=d.ch:X.to>d.ch))){if(b&&(hi(J,"beforeCursorEnter"),J.explicitlyCleared)){if(F.markedSpans){--G;continue}break}if(!J.atomic)continue;if(y){var Le=J.find(v<0?1:-1),$e=void 0;if((v<0?xe:ue)&&(Le=If(a,Le,-v,Le&&Le.line==d.line?F:null)),Le&&Le.line==d.line&&($e=Wn(Le,y))&&(v<0?$e<0:$e>0))return Ui(a,Le,d,v,b)}var je=J.find(v<0?-1:1);return(v<0?ue:xe)&&(je=If(a,je,v,je.line==d.line?F:null)),je?Ui(a,je,d,v,b):null}}return d}function ks(a,d,y,v,b){var F=v||1;return Ui(a,d,y,F,b)||!b&&Ui(a,d,y,F,!0)||Ui(a,d,y,-F,b)||!b&&Ui(a,d,y,-F,!0)||(a.cantEdit=!0,St(a.first,0))}function If(a,d,y,v){return y<0&&0==d.ch?d.line>a.first?et(a,St(d.line-1)):null:y>0&&d.ch==(v||Cn(a,d.line)).text.length?d.line<a.first+a.size-1?St(d.line+1,0):null:new St(d.line,d.ch+y)}function Zl(a){a.setSelection(St(a.firstLine(),0),St(a.lastLine()),Dt)}function Ba(a,d,y){var v={canceled:!1,from:d.from,to:d.to,text:d.text,origin:d.origin,cancel:function(){return v.canceled=!0}};return y&&(v.update=function(b,F,G,X){b&&(v.from=et(a,b)),F&&(v.to=et(a,F)),G&&(v.text=G),void 0!==X&&(v.origin=X)}),hi(a,"beforeChange",a,v),a.cm&&hi(a.cm,"beforeChange",a.cm,v),v.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:v.from,to:v.to,text:v.text,origin:v.origin}}function wc(a,d,y){if(a.cm){if(!a.cm.curOp)return Co(a.cm,wc)(a,d,y);if(a.cm.state.suppressEdits)return}if(!(Di(a,"beforeChange")||a.cm&&Di(a.cm,"beforeChange"))||(d=Ba(a,d,!0))){var v=gr&&!y&&function vo(a,d,y){var v=null;if(a.iter(d.line,y.line+1,function(je){if(je.markedSpans)for(var pt=0;pt<je.markedSpans.length;++pt){var bt=je.markedSpans[pt].marker;bt.readOnly&&(!v||-1==tt(v,bt))&&(v||(v=[])).push(bt)}}),!v)return null;for(var b=[{from:d,to:y}],F=0;F<v.length;++F)for(var G=v[F],X=G.find(0),J=0;J<b.length;++J){var ue=b[J];if(!(Wn(ue.to,X.from)<0||Wn(ue.from,X.to)>0)){var xe=[J,1],Le=Wn(ue.from,X.from),$e=Wn(ue.to,X.to);(Le<0||!G.inclusiveLeft&&!Le)&&xe.push({from:ue.from,to:X.from}),($e>0||!G.inclusiveRight&&!$e)&&xe.push({from:X.to,to:ue.to}),b.splice.apply(b,xe),J+=xe.length-3}}return b}(a,d.from,d.to);if(v)for(var b=v.length-1;b>=0;--b)xd(a,{from:v[b].from,to:v[b].to,text:b?[""]:d.text,origin:d.origin});else xd(a,d)}}function xd(a,d){if(1!=d.text.length||""!=d.text[0]||0!=Wn(d.from,d.to)){var y=Bo(a,d);cm(a,d,y,a.cm?a.cm.curOp.id:NaN),Tr(a,d,y,Zs(a,d));var v=[];ps(a,function(b,F){!F&&-1==tt(v,b.history)&&(Pp(b.history,d),v.push(b.history)),Tr(b,d,null,Zs(b,d))})}}function Dd(a,d,y){var v=a.cm&&a.cm.state.suppressEdits;if(!v||y){for(var F,b=a.history,G=a.sel,X="undo"==d?b.done:b.undone,J="undo"==d?b.undone:b.done,ue=0;ue<X.length&&(F=X[ue],!(y?F.ranges&&!F.equals(a.sel):!F.ranges));ue++);if(ue!=X.length){for(b.lastOrigin=b.lastSelOrigin=null;;){if(!(F=X.pop()).ranges){if(v)return void X.push(F);break}if(yd(F,J),y&&!F.equals(a.sel))return void Eo(a,F,{clearRedo:!1});G=F}var xe=[];yd(G,J),J.push({changes:xe,generation:b.generation}),b.generation=F.generation||++b.maxGeneration;for(var Le=Di(a,"beforeChange")||a.cm&&Di(a.cm,"beforeChange"),$e=function(bt){var Ut=F.changes[bt];if(Ut.origin=d,Le&&!Ba(a,Ut,!1))return X.length=0,{};xe.push(Su(a,Ut));var jt=bt?Bo(a,Ut):wn(X);Tr(a,Ut,jt,Dh(a,Ut)),!bt&&a.cm&&a.cm.scrollIntoView({from:Ut.from,to:Fo(Ut)});var qt=[];ps(a,function(Yt,$t){!$t&&-1==tt(qt,Yt.history)&&(Pp(Yt.history,Ut),qt.push(Yt.history)),Tr(Yt,Ut,null,Dh(Yt,Ut))})},je=F.changes.length-1;je>=0;--je){var pt=$e(je);if(pt)return pt.v}}}}function tl(a,d){if(0!=d&&(a.first+=d,a.sel=new ya(Vn(a.sel.ranges,function(b){return new jr(St(b.anchor.line+d,b.anchor.ch),St(b.head.line+d,b.head.ch))}),a.sel.primIndex),a.cm)){ao(a.cm,a.first,a.first-d,d);for(var y=a.cm.display,v=y.viewFrom;v<y.viewTo;v++)so(a.cm,v,"gutter")}}function Tr(a,d,y,v){if(a.cm&&!a.cm.curOp)return Co(a.cm,Tr)(a,d,y,v);if(d.to.line<a.first)tl(a,d.text.length-1-(d.to.line-d.from.line));else if(!(d.from.line>a.lastLine())){if(d.from.line<a.first){var b=d.text.length-1-(a.first-d.from.line);tl(a,b),d={from:St(a.first,0),to:St(d.to.line+b,d.to.ch),text:[wn(d.text)],origin:d.origin}}var F=a.lastLine();d.to.line>F&&(d={from:d.from,to:St(F,Cn(a,F).text.length),text:[d.text[0]],origin:d.origin}),d.removed=si(a,d.from,d.to),y||(y=Bo(a,d)),a.cm?function fm(a,d,y){var v=a.doc,b=a.display,F=d.from,G=d.to,X=!1,J=F.line;a.options.lineWrapping||(J=kr(tr(Cn(v,F.line))),v.iter(J,G.line+1,function(je){if(je==b.maxLine)return X=!0,!0})),v.sel.contains(d.from,d.to)>-1&&pu(a),mc(v,d,y,oa(a)),a.options.lineWrapping||(v.iter(J,F.line+d.text.length,function(je){var pt=ic(je);pt>b.maxLineLength&&(b.maxLine=je,b.maxLineLength=pt,b.maxLineChanged=!0,X=!1)}),X&&(a.curOp.updateMaxLine=!0)),function li(a,d){if(a.modeFrontier=Math.min(a.modeFrontier,d),!(a.highlightFrontier<d-10)){for(var y=a.first,v=d-1;v>y;v--){var b=Cn(a,v).stateAfter;if(b&&(!(b instanceof gn)||v+b.lookAhead<d)){y=v+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,y)}}(v,F.line),vi(a,400);var ue=d.text.length-(G.line-F.line)-1;d.full?ao(a):F.line!=G.line||1!=d.text.length||vd(a.doc,d)?ao(a,F.line,G.line+1,ue):so(a,F.line,"text");var xe=Di(a,"changes"),Le=Di(a,"change");if(Le||xe){var $e={from:F,to:G,text:d.text,removed:d.removed,origin:d.origin};Le&&bo(a,"change",a,$e),xe&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push($e)}a.display.selForContextMenu=null}(a.cm,d,v):mc(a,d,v),Cd(a,y,Dt),a.cantEdit&&ks(a,St(a.firstLine(),0))&&(a.cantEdit=!1)}}function ql(a,d,y,v,b){var F;v||(v=y),Wn(v,y)<0&&(y=(F=[v,y])[0],v=F[1]),"string"==typeof d&&(d=a.splitLines(d)),wc(a,{from:y,to:v,text:d,origin:b})}function _c(a,d,y,v){y<a.line?a.line+=v:d<a.line&&(a.line=d,a.ch=0)}function Ih(a,d,y,v){for(var b=0;b<a.length;++b){var F=a[b],G=!0;if(F.ranges){F.copied||((F=a[b]=F.deepCopy()).copied=!0);for(var X=0;X<F.ranges.length;X++)_c(F.ranges[X].anchor,d,y,v),_c(F.ranges[X].head,d,y,v)}else{for(var J=0;J<F.changes.length;++J){var ue=F.changes[J];if(y<ue.from.line)ue.from=St(ue.from.line+v,ue.from.ch),ue.to=St(ue.to.line+v,ue.to.ch);else if(d<=ue.to.line){G=!1;break}}G||(a.splice(0,b+1),b=0)}}}function Pp(a,d){var y=d.from.line,v=d.to.line,b=d.text.length-(v-y)-1;Ih(a.done,y,v,b),Ih(a.undone,y,v,b)}function Ln(a,d,y,v){var b=d,F=d;return"number"==typeof d?F=Cn(a,Ve(a,d)):b=kr(d),null==b?null:(v(F,b)&&a.cm&&so(a.cm,b,y),F)}function Tu(a){this.lines=a,this.parent=null;for(var d=0,y=0;y<a.length;++y)a[y].parent=this,d+=a[y].height;this.height=d}function Mu(a){this.children=a;for(var d=0,y=0,v=0;v<a.length;++v){var b=a[v];d+=b.chunkSize(),y+=b.height,b.parent=this}this.size=d,this.height=y,this.parent=null}jr.prototype.from=function(){return Re(this.anchor,this.head)},jr.prototype.to=function(){return Ne(this.anchor,this.head)},jr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Tu.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,d){for(var y=a,v=a+d;y<v;++y){var b=this.lines[y];this.height-=b.height,ka(b),bo(b,"delete")}this.lines.splice(a,d)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,d,y){this.height+=y,this.lines=this.lines.slice(0,a).concat(d).concat(this.lines.slice(a));for(var v=0;v<d.length;++v)d[v].parent=this},iterN:function(a,d,y){for(var v=a+d;a<v;++a)if(y(this.lines[a]))return!0}},Mu.prototype={chunkSize:function(){return this.size},removeInner:function(a,d){this.size-=d;for(var y=0;y<this.children.length;++y){var v=this.children[y],b=v.chunkSize();if(a<b){var F=Math.min(d,b-a),G=v.height;if(v.removeInner(a,F),this.height-=G-v.height,b==F&&(this.children.splice(y--,1),v.parent=null),0==(d-=F))break;a=0}else a-=b}if(this.size-d<25&&(this.children.length>1||!(this.children[0]instanceof Tu))){var X=[];this.collapse(X),this.children=[new Tu(X)],this.children[0].parent=this}},collapse:function(a){for(var d=0;d<this.children.length;++d)this.children[d].collapse(a)},insertInner:function(a,d,y){this.size+=d.length,this.height+=y;for(var v=0;v<this.children.length;++v){var b=this.children[v],F=b.chunkSize();if(a<=F){if(b.insertInner(a,d,y),b.lines&&b.lines.length>50){for(var G=b.lines.length%25+25,X=G;X<b.lines.length;){var J=new Tu(b.lines.slice(X,X+=25));b.height-=J.height,this.children.splice(++v,0,J),J.parent=this}b.lines=b.lines.slice(0,G),this.maybeSpill()}break}a-=F}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var y=new Mu(a.children.splice(a.children.length-5,5));if(a.parent){a.size-=y.size,a.height-=y.height;var b=tt(a.parent.children,a);a.parent.children.splice(b+1,0,y)}else{var v=new Mu(a.children);v.parent=a,a.children=[v,y],a=v}y.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,d,y){for(var v=0;v<this.children.length;++v){var b=this.children[v],F=b.chunkSize();if(a<F){var G=Math.min(d,F-a);if(b.iterN(a,G,y))return!0;if(0==(d-=G))break;a=0}else a-=F}}};var Ql=function(a,d,y){if(y)for(var v in y)y.hasOwnProperty(v)&&(this[v]=y[v]);this.doc=a,this.node=d};function Vo(a,d,y){Ra(d)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&ds(a,y)}Ql.prototype.clear=function(){var a=this.doc.cm,d=this.line.widgets,y=this.line,v=kr(y);if(null!=v&&d){for(var b=0;b<d.length;++b)d[b]==this&&d.splice(b--,1);d.length||(y.widgets=null);var F=cc(this);Ro(y,Math.max(0,y.height-F)),a&&(la(a,function(){Vo(a,y,-F),so(a,v,"widget")}),bo(a,"lineWidgetCleared",a,this,v))}},Ql.prototype.changed=function(){var a=this,d=this.height,y=this.doc.cm,v=this.line;this.height=null;var b=cc(this)-d;b&&(fl(this.doc,v)||Ro(v,v.height+b),y&&la(y,function(){y.curOp.forceUpdate=!0,Vo(y,v,b),bo(y,"lineWidgetChanged",y,a,kr(v))}))},Ma(Ql);var Sd=0,Ho=function(a,d){this.lines=[],this.type=d,this.doc=a,this.id=++Sd};function Cc(a,d,y,v,b){if(v&&v.shared)return function hm(a,d,y,v,b){(v=mn(v)).shared=!1;var F=[Cc(a,d,y,v,b)],G=F[0],X=v.widgetNode;return ps(a,function(J){X&&(v.widgetNode=X.cloneNode(!0)),F.push(Cc(J,et(J,d),et(J,y),v,b));for(var ue=0;ue<J.linked.length;++ue)if(J.linked[ue].isParent)return;G=wn(F)}),new Td(F,G)}(a,d,y,v,b);if(a.cm&&!a.cm.curOp)return Co(a.cm,Cc)(a,d,y,v,b);var F=new Ho(a,b),G=Wn(d,y);if(v&&mn(v,F,!1),G>0||0==G&&!1!==F.clearWhenEmpty)return F;if(F.replacedWith&&(F.collapsed=!0,F.widgetNode=ze("span",[F.replacedWith],"CodeMirror-widget"),v.handleMouseEvents||F.widgetNode.setAttribute("cm-ignore-events","true"),v.insertLeft&&(F.widgetNode.insertLeft=!0)),F.collapsed){if(io(a,d.line,d,y,F)||d.line!=y.line&&io(a,y.line,d,y,F))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function vn(){Ze=!0}()}F.addToHistory&&cm(a,{from:d,to:y,origin:"markText"},a.sel,NaN);var ue,X=d.line,J=a.cm;if(a.iter(X,y.line+1,function(Le){J&&F.collapsed&&!J.options.lineWrapping&&tr(Le)==J.display.maxLine&&(ue=!0),F.collapsed&&X!=d.line&&Ro(Le,0),function mo(a,d,y){var v=y&&window.WeakSet&&(y.markedSpans||(y.markedSpans=new WeakSet));v&&a.markedSpans&&v.has(a.markedSpans)?a.markedSpans.push(d):(a.markedSpans=a.markedSpans?a.markedSpans.concat([d]):[d],v&&v.add(a.markedSpans)),d.marker.attachLine(a)}(Le,new zn(F,X==d.line?d.ch:null,X==y.line?y.ch:null),a.cm&&a.cm.curOp),++X}),F.collapsed&&a.iter(d.line,y.line+1,function(Le){fl(a,Le)&&Ro(Le,0)}),F.clearOnEnter&&_n(F,"beforeCursorEnter",function(){return F.clear()}),F.readOnly&&(function Lr(){gr=!0}(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),F.collapsed&&(F.id=++Sd,F.atomic=!0),J){if(ue&&(J.curOp.updateMaxLine=!0),F.collapsed)ao(J,d.line,y.line+1);else if(F.className||F.startStyle||F.endStyle||F.css||F.attributes||F.title)for(var xe=d.line;xe<=y.line;xe++)so(J,xe,"text");F.atomic&&Mh(J.doc),bo(J,"markerAdded",J,F)}return F}Ho.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,d=a&&!a.curOp;if(d&&ii(a),Di(this,"clear")){var y=this.find();y&&bo(this,"clear",y.from,y.to)}for(var v=null,b=null,F=0;F<this.lines.length;++F){var G=this.lines[F],X=ui(G.markedSpans,this);a&&!this.collapsed?so(a,kr(G),"text"):a&&(null!=X.to&&(b=kr(G)),null!=X.from&&(v=kr(G))),G.markedSpans=Bi(G.markedSpans,X),null==X.from&&this.collapsed&&!fl(this.doc,G)&&a&&Ro(G,Qr(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var J=0;J<this.lines.length;++J){var ue=tr(this.lines[J]),xe=ic(ue);xe>a.display.maxLineLength&&(a.display.maxLine=ue,a.display.maxLineLength=xe,a.display.maxLineChanged=!0)}null!=v&&a&&this.collapsed&&ao(a,v,b+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Mh(a.doc)),a&&bo(a,"markerCleared",a,this,v,b),d&&Yl(a),this.parent&&this.parent.clear()}},Ho.prototype.find=function(a,d){null==a&&"bookmark"==this.type&&(a=1);for(var y,v,b=0;b<this.lines.length;++b){var F=this.lines[b],G=ui(F.markedSpans,this);if(null!=G.from&&(y=St(d?F:kr(F),G.from),-1==a))return y;if(null!=G.to&&(v=St(d?F:kr(F),G.to),1==a))return v}return y&&{from:y,to:v}},Ho.prototype.changed=function(){var a=this,d=this.find(-1,!0),y=this,v=this.doc.cm;!d||!v||la(v,function(){var b=d.line,F=kr(d.line),G=Gl(v,F);if(G&&(ad(G),v.curOp.selectionChanged=v.curOp.forceUpdate=!0),v.curOp.updateMaxLine=!0,!fl(y.doc,b)&&null!=y.height){var X=y.height;y.height=null;var J=cc(y)-X;J&&Ro(b,b.height+J)}bo(v,"markerChanged",v,a)})},Ho.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(!d.maybeHiddenMarkers||-1==tt(d.maybeHiddenMarkers,this))&&(d.maybeUnhiddenMarkers||(d.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Ho.prototype.detachLine=function(a){if(this.lines.splice(tt(this.lines,a),1),!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(d.maybeHiddenMarkers||(d.maybeHiddenMarkers=[])).push(this)}},Ma(Ho);var Td=function(a,d){this.markers=a,this.primary=d;for(var y=0;y<a.length;++y)a[y].parent=this};function Lp(a){return a.findMarks(St(a.first,0),a.clipPos(St(a.lastLine())),function(d){return d.parent})}function Rt(a){for(var d=function(v){var b=a[v],F=[b.primary.doc];ps(b.primary.doc,function(J){return F.push(J)});for(var G=0;G<b.markers.length;G++){var X=b.markers[G];-1==tt(F,X.doc)&&(X.parent=null,b.markers.splice(G--,1))}},y=0;y<a.length;y++)d(y)}Td.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();bo(this,"clear")}},Td.prototype.find=function(a,d){return this.primary.find(a,d)},Ma(Td);var br=0,Zn=function(a,d,y,v,b){if(!(this instanceof Zn))return new Zn(a,d,y,v,b);null==y&&(y=0),Mu.call(this,[new Tu([new hl("",null)])]),this.first=y,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=y;var F=St(y,0);this.sel=ba(F),this.history=new yc(null),this.id=++br,this.modeOption=d,this.lineSep=v,this.direction="rtl"==b?"rtl":"ltr",this.extend=!1,"string"==typeof a&&(a=this.splitLines(a)),mc(this,{from:F,to:F,text:a}),Eo(this,ba(F),Dt)};Zn.prototype=Ni(Mu.prototype,{constructor:Zn,iter:function(a,d,y){y?this.iterN(a-this.first,d-a,y):this.iterN(this.first,this.first+this.size,a)},insert:function(a,d){for(var y=0,v=0;v<d.length;++v)y+=d[v].height;this.insertInner(a-this.first,d,y)},remove:function(a,d){this.removeInner(a-this.first,d)},getValue:function(a){var d=$a(this,this.first,this.first+this.size);return!1===a?d:d.join(a||this.lineSeparator())},setValue:Lo(function(a){var d=St(this.first,0),y=this.first+this.size-1;wc(this,{from:d,to:St(y,Cn(this,y).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&uo(this.cm,0,0),Eo(this,ba(d),Dt)}),replaceRange:function(a,d,y,v){ql(this,a,d=et(this,d),y=y?et(this,y):d,v)},getRange:function(a,d,y){var v=si(this,et(this,a),et(this,d));return!1===y?v:v.join(""===y?"":y||this.lineSeparator())},getLine:function(a){var d=this.getLineHandle(a);return d&&d.text},getLineHandle:function(a){if(ko(this,a))return Cn(this,a)},getLineNumber:function(a){return kr(a)},getLineHandleVisualStart:function(a){return"number"==typeof a&&(a=Cn(this,a)),tr(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return et(this,a)},getCursor:function(a){var d=this.sel.primary();return null==a||"head"==a?d.head:"anchor"==a?d.anchor:"end"==a||"to"==a||!1===a?d.to():d.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Lo(function(a,d,y){wd(this,et(this,"number"==typeof a?St(a,d||0):a),null,y)}),setSelection:Lo(function(a,d,y){wd(this,et(this,a),et(this,d||a),y)}),extendSelection:Lo(function(a,d,y){bd(this,et(this,a),d&&et(this,d),y)}),extendSelections:Lo(function(a,d){Sh(this,Zt(this,a),d)}),extendSelectionsBy:Lo(function(a,d){Sh(this,Zt(this,Vn(this.sel.ranges,a)),d)}),setSelections:Lo(function(a,d,y){if(a.length){for(var v=[],b=0;b<a.length;b++)v[b]=new jr(et(this,a[b].anchor),et(this,a[b].head||a[b].anchor));null==d&&(d=Math.min(a.length-1,this.sel.primIndex)),Eo(this,ua(this.cm,v,d),y)}}),addSelection:Lo(function(a,d,y){var v=this.sel.ranges.slice(0);v.push(new jr(et(this,a),et(this,d||a))),Eo(this,ua(this.cm,v,v.length-1),y)}),getSelection:function(a){for(var y,d=this.sel.ranges,v=0;v<d.length;v++){var b=si(this,d[v].from(),d[v].to());y=y?y.concat(b):b}return!1===a?y:y.join(a||this.lineSeparator())},getSelections:function(a){for(var d=[],y=this.sel.ranges,v=0;v<y.length;v++){var b=si(this,y[v].from(),y[v].to());!1!==a&&(b=b.join(a||this.lineSeparator())),d[v]=b}return d},replaceSelection:function(a,d,y){for(var v=[],b=0;b<this.sel.ranges.length;b++)v[b]=a;this.replaceSelections(v,d,y||"+input")},replaceSelections:Lo(function(a,d,y){for(var v=[],b=this.sel,F=0;F<b.ranges.length;F++){var G=b.ranges[F];v[F]={from:G.from(),to:G.to(),text:this.splitLines(a[F]),origin:y}}for(var X=d&&"end"!=d&&function Ji(a,d,y){for(var v=[],b=St(a.first,0),F=b,G=0;G<d.length;G++){var X=d[G],J=Cl(X.from,b,F),ue=Cl(Fo(X),b,F);if(b=X.to,F=ue,"around"==y){var xe=a.sel.ranges[G],Le=Wn(xe.head,xe.anchor)<0;v[G]=new jr(Le?ue:J,Le?J:ue)}else v[G]=new jr(J,J)}return new ya(v,a.sel.primIndex)}(this,v,d),J=v.length-1;J>=0;J--)wc(this,v[J]);X?Fa(this,X):this.cm&&Za(this.cm)}),undo:Lo(function(){Dd(this,"undo")}),redo:Lo(function(){Dd(this,"redo")}),undoSelection:Lo(function(){Dd(this,"undo",!0)}),redoSelection:Lo(function(){Dd(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,d=0,y=0,v=0;v<a.done.length;v++)a.done[v].ranges||++d;for(var b=0;b<a.undone.length;b++)a.undone[b].ranges||++y;return{undo:d,redo:y}},clearHistory:function(){var a=this;this.history=new yc(this.history),ps(this,function(d){return d.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:bc(this.history.done),undone:bc(this.history.undone)}},setHistory:function(a){var d=this.history=new yc(this.history);d.done=bc(a.done.slice(0),null,!0),d.undone=bc(a.undone.slice(0),null,!0)},setGutterMarker:Lo(function(a,d,y){return Ln(this,a,"gutter",function(v){var b=v.gutterMarkers||(v.gutterMarkers={});return b[d]=y,!y&&Gr(b)&&(v.gutterMarkers=null),!0})}),clearGutter:Lo(function(a){var d=this;this.iter(function(y){y.gutterMarkers&&y.gutterMarkers[a]&&Ln(d,y,"gutter",function(){return y.gutterMarkers[a]=null,Gr(y.gutterMarkers)&&(y.gutterMarkers=null),!0})})}),lineInfo:function(a){var d;if("number"==typeof a){if(!(ko(this,a)&&(d=a,a=Cn(this,a))))return null}else if(null==(d=kr(a)))return null;return{line:d,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Lo(function(a,d,y){return Ln(this,a,"gutter"==d?"gutter":"class",function(v){var b="text"==d?"textClass":"background"==d?"bgClass":"gutter"==d?"gutterClass":"wrapClass";if(v[b]){if(ie(y).test(v[b]))return!1;v[b]+=" "+y}else v[b]=y;return!0})}),removeLineClass:Lo(function(a,d,y){return Ln(this,a,"gutter"==d?"gutter":"class",function(v){var b="text"==d?"textClass":"background"==d?"bgClass":"gutter"==d?"gutterClass":"wrapClass",F=v[b];if(!F)return!1;if(null==y)v[b]=null;else{var G=F.match(ie(y));if(!G)return!1;var X=G.index+G[0].length;v[b]=F.slice(0,G.index)+(G.index&&X!=F.length?" ":"")+F.slice(X)||null}return!0})}),addLineWidget:Lo(function(a,d,y){return function Ah(a,d,y,v){var b=new Ql(a,y,v),F=a.cm;return F&&b.noHScroll&&(F.display.alignWidgets=!0),Ln(a,d,"widget",function(G){var X=G.widgets||(G.widgets=[]);if(null==b.insertAt?X.push(b):X.splice(Math.min(X.length,Math.max(0,b.insertAt)),0,b),b.line=G,F&&!fl(a,G)){var J=Ra(G)<a.scrollTop;Ro(G,G.height+cc(b)),J&&ds(F,b.height),F.curOp.forceUpdate=!0}return!0}),F&&bo(F,"lineWidgetAdded",F,b,"number"==typeof d?d:kr(d)),b}(this,a,d,y)}),removeLineWidget:function(a){a.clear()},markText:function(a,d,y){return Cc(this,et(this,a),et(this,d),y,y&&y.type||"range")},setBookmark:function(a,d){var y={replacedWith:d&&(null==d.nodeType?d.widget:d),insertLeft:d&&d.insertLeft,clearWhenEmpty:!1,shared:d&&d.shared,handleMouseEvents:d&&d.handleMouseEvents};return Cc(this,a=et(this,a),a,y,"bookmark")},findMarksAt:function(a){var d=[],y=Cn(this,(a=et(this,a)).line).markedSpans;if(y)for(var v=0;v<y.length;++v){var b=y[v];(null==b.from||b.from<=a.ch)&&(null==b.to||b.to>=a.ch)&&d.push(b.marker.parent||b.marker)}return d},findMarks:function(a,d,y){a=et(this,a),d=et(this,d);var v=[],b=a.line;return this.iter(a.line,d.line+1,function(F){var G=F.markedSpans;if(G)for(var X=0;X<G.length;X++){var J=G[X];!(null!=J.to&&b==a.line&&a.ch>=J.to||null==J.from&&b!=a.line||null!=J.from&&b==d.line&&J.from>=d.ch)&&(!y||y(J.marker))&&v.push(J.marker.parent||J.marker)}++b}),v},getAllMarks:function(){var a=[];return this.iter(function(d){var y=d.markedSpans;if(y)for(var v=0;v<y.length;++v)null!=y[v].from&&a.push(y[v].marker)}),a},posFromIndex:function(a){var d,y=this.first,v=this.lineSeparator().length;return this.iter(function(b){var F=b.text.length+v;if(F>a)return d=a,!0;a-=F,++y}),et(this,St(y,d))},indexFromPos:function(a){var d=(a=et(this,a)).ch;if(a.line<this.first||a.ch<0)return 0;var y=this.lineSeparator().length;return this.iter(this.first,a.line,function(v){d+=v.text.length+y}),d},copy:function(a){var d=new Zn($a(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return d.scrollTop=this.scrollTop,d.scrollLeft=this.scrollLeft,d.sel=this.sel,d.extend=!1,a&&(d.history.undoDepth=this.history.undoDepth,d.setHistory(this.getHistory())),d},linkedDoc:function(a){a||(a={});var d=this.first,y=this.first+this.size;null!=a.from&&a.from>d&&(d=a.from),null!=a.to&&a.to<y&&(y=a.to);var v=new Zn($a(this,d,y),a.mode||this.modeOption,d,this.lineSep,this.direction);return a.sharedHist&&(v.history=this.history),(this.linked||(this.linked=[])).push({doc:v,sharedHist:a.sharedHist}),v.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],function Jl(a,d){for(var y=0;y<d.length;y++){var v=d[y],b=v.find(),F=a.clipPos(b.from),G=a.clipPos(b.to);if(Wn(F,G)){var X=Cc(a,F,G,v.primary,v.primary.type);v.markers.push(X),X.parent=v}}}(v,Lp(this)),v},unlinkDoc:function(a){if(a instanceof oi&&(a=a.doc),this.linked)for(var d=0;d<this.linked.length;++d)if(this.linked[d].doc==a){this.linked.splice(d,1),a.unlinkDoc(this),Rt(Lp(this));break}if(a.history==this.history){var v=[a.id];ps(a,function(b){return v.push(b.id)},!0),a.history=new yc(null),a.history.done=bc(this.history.done,v),a.history.undone=bc(this.history.undone,v)}},iterLinkedDocs:function(a){ps(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):gu(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Lo(function(a){"rtl"!=a&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(d){return d.order=null}),this.cm&&function xh(a){la(a,function(){Np(a),ao(a)})}(this.cm))})}),Zn.prototype.eachLine=Zn.prototype.iter;var eo=0;function zo(a){var d=this;if(gs(d),!Ki(d,a)&&!gl(d.display,a)){Fi(a),C&&(eo=+new Date);var y=Hi(d,a,!0),v=a.dataTransfer.files;if(y&&!d.isReadOnly())if(v&&v.length&&window.FileReader&&window.File)for(var b=v.length,F=Array(b),G=0,X=function(){++G==b&&Co(d,function(){var je={from:y=et(d.doc,y),to:y,text:d.doc.splitLines(F.filter(function(pt){return null!=pt}).join(d.doc.lineSeparator())),origin:"paste"};wc(d.doc,je),Fa(d.doc,ba(et(d.doc,y),et(d.doc,Fo(je))))})()},J=function(je,pt){if(d.options.allowDropFileTypes&&-1==tt(d.options.allowDropFileTypes,je.type))X();else{var bt=new FileReader;bt.onerror=function(){return X()},bt.onload=function(){var Ut=bt.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Ut)||(F[pt]=Ut),X()},bt.readAsText(je)}},ue=0;ue<v.length;ue++)J(v[ue],ue);else{if(d.state.draggingText&&d.doc.sel.contains(y)>-1)return d.state.draggingText(a),void setTimeout(function(){return d.display.input.focus()},20);try{var xe=a.dataTransfer.getData("Text");if(xe){var Le;if(d.state.draggingText&&!d.state.draggingText.copy&&(Le=d.listSelections()),Cd(d.doc,ba(y,y)),Le)for(var $e=0;$e<Le.length;++$e)ql(d.doc,"",Le[$e].anchor,Le[$e].head,"drag");d.replaceSelection(xe,"around","paste"),d.display.input.focus()}}catch{}}}}function gs(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Md(a){if(document.getElementsByClassName){for(var d=document.getElementsByClassName("CodeMirror"),y=[],v=0;v<d.length;v++){var b=d[v].CodeMirror;b&&y.push(b)}y.length&&y[0].operation(function(){for(var F=0;F<y.length;F++)a(y[F])})}}var fo=!1;function yi(){fo||(function py(){var a;_n(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null,Md(Fp)},100))}),_n(window,"blur",function(){return Md(mi)})}(),fo=!0)}function Fp(a){var d=a.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.scrollbarsClipped=!1,a.setSize()}for(var Gi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Er=0;Er<10;Er++)Gi[Er+48]=Gi[Er+96]=String(Er);for(var eu=65;eu<=90;eu++)Gi[eu]=String.fromCharCode(eu);for(var Ps=1;Ps<=12;Ps++)Gi[Ps+111]=Gi[Ps+63235]="F"+Ps;var Uo={};function xc(a){var d=a.split(/-(?!$)/);a=d[d.length-1];for(var y,v,b,F,G=0;G<d.length-1;G++){var X=d[G];if(/^(cmd|meta|m)$/i.test(X))F=!0;else if(/^a(lt)?$/i.test(X))y=!0;else if(/^(c|ctrl|control)$/i.test(X))v=!0;else{if(!/^s(hift)?$/i.test(X))throw new Error("Unrecognized modifier name: "+X);b=!0}}return y&&(a="Alt-"+a),v&&(a="Ctrl-"+a),F&&(a="Cmd-"+a),b&&(a="Shift-"+a),a}function Bp(a){var d={};for(var y in a)if(a.hasOwnProperty(y)){var v=a[y];if(/^(name|fallthrough|(de|at)tach)$/.test(y))continue;if("..."==v){delete a[y];continue}for(var b=Vn(y.split(" "),xc),F=0;F<b.length;F++){var G=void 0,X=void 0;F==b.length-1?(X=b.join(" "),G=v):(X=b.slice(0,F+1).join(" "),G="...");var J=d[X];if(J){if(J!=G)throw new Error("Inconsistent bindings for "+X)}else d[X]=G}delete a[y]}for(var ue in d)a[ue]=d[ue];return a}function nl(a,d,y,v){var b=(d=Ad(d)).call?d.call(a,v):d[a];if(!1===b)return"nothing";if("..."===b)return"multi";if(null!=b&&y(b))return"handled";if(d.fallthrough){if("[object Array]"!=Object.prototype.toString.call(d.fallthrough))return nl(a,d.fallthrough,y,v);for(var F=0;F<d.fallthrough.length;F++){var G=nl(a,d.fallthrough[F],y,v);if(G)return G}}}function Vp(a){var d="string"==typeof a?a:Gi[a.keyCode];return"Ctrl"==d||"Alt"==d||"Shift"==d||"Mod"==d}function Id(a,d,y){var v=a;return d.altKey&&"Alt"!=v&&(a="Alt-"+a),(Z?d.metaKey:d.ctrlKey)&&"Ctrl"!=v&&(a="Ctrl-"+a),(Z?d.ctrlKey:d.metaKey)&&"Mod"!=v&&(a="Cmd-"+a),!y&&d.shiftKey&&"Shift"!=v&&(a="Shift-"+a),a}function Af(a,d){if(B&&34==a.keyCode&&a.char)return!1;var y=Gi[a.keyCode];return null!=y&&!a.altGraphKey&&(3==a.keyCode&&a.code&&(y=a.code),Id(y,a,d))}function Ad(a){return"string"==typeof a?Uo[a]:a}function Ls(a,d){for(var y=a.doc.sel.ranges,v=[],b=0;b<y.length;b++){for(var F=d(y[b]);v.length&&Wn(F.from,wn(v).to)<=0;){var G=v.pop();if(Wn(G.from,F.from)<0){F.from=G.from;break}}v.push(F)}la(a,function(){for(var X=v.length-1;X>=0;X--)ql(a.doc,"",v[X].from,v[X].to,"+delete");Za(a)})}function Nf(a,d,y){var v=Ds(a.text,d+y,y);return v<0||v>a.text.length?null:v}function Dc(a,d,y){var v=Nf(a,d.ch,y);return null==v?null:new St(d.line,v,y<0?"after":"before")}function tu(a,d,y,v,b){if(a){"rtl"==d.doc.direction&&(b=-b);var F=Wa(y,d.doc.direction);if(F){var ue,G=b<0?wn(F):F[0],J=b<0==(1==G.level)?"after":"before";if(G.level>0||"rtl"==d.doc.direction){var xe=jl(d,y),Le=Os(d,xe,ue=b<0?y.text.length-1:0).top;ue=In(function($e){return Os(d,xe,$e).top==Le},b<0==(1==G.level)?G.from:G.to-1,ue),"before"==J&&(ue=Nf(y,ue,1))}else ue=b<0?G.to:G.from;return new St(v,ue,J)}}return new St(v,b<0?y.text.length:0,b<0?"before":"after")}Uo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Uo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Uo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Uo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Uo.default=se?Uo.macDefault:Uo.pcDefault;var Sc={selectAll:Zl,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Dt)},killLine:function(a){return Ls(a,function(d){if(d.empty()){var y=Cn(a.doc,d.head.line).text.length;return d.head.ch==y&&d.head.line<a.lastLine()?{from:d.head,to:St(d.head.line+1,0)}:{from:d.head,to:St(d.head.line,y)}}return{from:d.from(),to:d.to()}})},deleteLine:function(a){return Ls(a,function(d){return{from:St(d.from().line,0),to:et(a.doc,St(d.to().line+1,0))}})},delLineLeft:function(a){return Ls(a,function(d){return{from:St(d.from().line,0),to:d.from()}})},delWrappedLineLeft:function(a){return Ls(a,function(d){var y=a.charCoords(d.head,"div").top+5;return{from:a.coordsChar({left:0,top:y},"div"),to:d.from()}})},delWrappedLineRight:function(a){return Ls(a,function(d){var y=a.charCoords(d.head,"div").top+5,v=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:y},"div");return{from:d.from(),to:v}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(St(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(St(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(d){return Nd(a,d.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(d){return xo(a,d.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(d){return function Od(a,d){var y=Cn(a.doc,d),v=function Ya(a){for(var d;d=Oa(a);)a=d.find(1,!0).line;return a}(y);return v!=y&&(d=kr(v)),tu(!0,a,y,d,-1)}(a,d.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(d){var y=a.cursorCoords(d.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:y},"div")},Jn)},goLineLeft:function(a){return a.extendSelectionsBy(function(d){var y=a.cursorCoords(d.head,"div").top+5;return a.coordsChar({left:0,top:y},"div")},Jn)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(d){var y=a.cursorCoords(d.head,"div").top+5,v=a.coordsChar({left:0,top:y},"div");return v.ch<a.getLine(v.line).search(/\S/)?xo(a,d.head):v},Jn)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},insertSoftTab:function(a){for(var d=[],y=a.listSelections(),v=a.options.tabSize,b=0;b<y.length;b++){var F=y[b].from(),G=un(a.getLine(F.line),F.ch,v);d.push(_r(v-G%v))}a.replaceSelections(d)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return la(a,function(){for(var d=a.listSelections(),y=[],v=0;v<d.length;v++)if(d[v].empty()){var b=d[v].head,F=Cn(a.doc,b.line).text;if(F)if(b.ch==F.length&&(b=new St(b.line,b.ch-1)),b.ch>0)b=new St(b.line,b.ch+1),a.replaceRange(F.charAt(b.ch-1)+F.charAt(b.ch-2),St(b.line,b.ch-2),b,"+transpose");else if(b.line>a.doc.first){var G=Cn(a.doc,b.line-1).text;G&&(b=new St(b.line,1),a.replaceRange(F.charAt(0)+a.doc.lineSeparator()+G.charAt(G.length-1),St(b.line-1,G.length-1),b,"+transpose"))}y.push(new jr(b,b))}a.setSelections(y)})},newlineAndIndent:function(a){return la(a,function(){for(var d=a.listSelections(),y=d.length-1;y>=0;y--)a.replaceRange(a.doc.lineSeparator(),d[y].anchor,d[y].head,"+input");d=a.listSelections();for(var v=0;v<d.length;v++)a.indentLine(d[v].from().line,null,!0);Za(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function Nd(a,d){var y=Cn(a.doc,d),v=tr(y);return v!=y&&(d=kr(v)),tu(!0,a,v,d,1)}function xo(a,d){var y=Nd(a,d.line),v=Cn(a.doc,y.line),b=Wa(v,a.doc.direction);if(!b||0==b[0].level){var F=Math.max(y.ch,v.text.search(/\S/));return St(y.line,d.line==y.line&&d.ch<=F&&d.ch?0:F,y.sticky)}return y}function nu(a,d,y){if("string"==typeof d&&!(d=Sc[d]))return!1;a.display.input.ensurePolled();var v=a.display.shift,b=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),y&&(a.display.shift=!1),b=d(a)!=Ft}finally{a.display.shift=v,a.state.suppressEdits=!1}return b}var Do=new lt;function ts(a,d,y,v){var b=a.state.keySeq;if(b){if(Vp(d))return"handled";if(/\'$/.test(d)?a.state.keySeq=null:Do.set(50,function(){a.state.keySeq==b&&(a.state.keySeq=null,a.display.input.reset())}),Vr(a,b+" "+d,y,v))return!0}return Vr(a,d,y,v)}function Vr(a,d,y,v){var b=function pm(a,d,y){for(var v=0;v<a.state.keyMaps.length;v++){var b=nl(d,a.state.keyMaps[v],y,a);if(b)return b}return a.options.extraKeys&&nl(d,a.options.extraKeys,y,a)||nl(d,a.options.keyMap,y,a)}(a,d,v);return"multi"==b&&(a.state.keySeq=d),"handled"==b&&bo(a,"keyHandled",a,d,y),("handled"==b||"multi"==b)&&(Fi(y),aa(a)),!!b}function Rd(a,d){var y=Af(d,!0);return!!y&&(d.shiftKey&&!a.state.keySeq?ts(a,"Shift-"+y,d,function(v){return nu(a,v,!0)})||ts(a,y,d,function(v){if("string"==typeof v?/^go[A-Z]/.test(v):v.motion)return nu(a,v)}):ts(a,y,d,function(v){return nu(a,v)}))}var So=null;function kd(a){var d=this;if(!(a.target&&a.target!=d.display.input.getField()||(d.curOp.focus=ft(Kt(d)),Ki(d,a)))){C&&S<11&&27==a.keyCode&&(a.returnValue=!1);var y=a.keyCode;d.display.shift=16==y||a.shiftKey;var v=Rd(d,a);B&&(So=v?y:null,!v&&88==y&&!Oo&&(se?a.metaKey:a.ctrlKey)&&d.replaceSelection("",null,"cut")),T&&!se&&!v&&46==y&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==y&&!/\bCodeMirror-crosshair\b/.test(d.display.lineDiv.className)&&function qo(a){var d=a.display.lineDiv;function y(v){(18==v.keyCode||!v.altKey)&&(me(d,"CodeMirror-crosshair"),go(document,"keyup",y),go(document,"mouseover",y))}Ye(d,"CodeMirror-crosshair"),_n(document,"keyup",y),_n(document,"mouseover",y)}(d)}}function Go(a){16==a.keyCode&&(this.doc.sel.shift=!1),Ki(this,a)}function Pd(a){var d=this;if(!(a.target&&a.target!=d.display.input.getField()||gl(d.display,a)||Ki(d,a)||a.ctrlKey&&!a.altKey||se&&a.metaKey)){var y=a.keyCode,v=a.charCode;if(B&&y==So)return So=null,void Fi(a);if(!B||a.which&&!(a.which<10)||!Rd(d,a)){var b=String.fromCharCode(v??y);"\b"!=b&&(function Oh(a,d,y){return ts(a,"'"+y+"'",d,function(v){return nu(a,v,!0)})}(d,a,b)||d.display.input.onKeyPress(a))}}}var ms,vs,xl=function(a,d,y){this.time=a,this.pos=d,this.button=y};function Of(a){var d=this,y=d.display;if(!(Ki(d,a)||y.activeTouch&&y.input.supportsTouch())){if(y.input.ensurePolled(),y.shift=a.shiftKey,gl(y,a))return void(O||(y.scroller.draggable=!1,setTimeout(function(){return y.scroller.draggable=!0},100)));if(!Rf(d,a)){var v=Hi(d,a),b=Jc(a),F=v?function Iu(a,d){var y=+new Date;return vs&&vs.compare(y,a,d)?(ms=vs=null,"triple"):ms&&ms.compare(y,a,d)?(vs=new xl(y,a,d),ms=null,"double"):(ms=new xl(y,a,d),vs=null,"single")}(v,b):"single";Ht(d).focus(),1==b&&d.state.selectingText&&d.state.selectingText(a),(!v||!function zp(a,d,y,v,b){var F="Click";return"double"==v?F="Double"+F:"triple"==v&&(F="Triple"+F),ts(a,Id(F=(1==d?"Left":2==d?"Middle":"Right")+F,b),b,function(G){if("string"==typeof G&&(G=Sc[G]),!G)return!1;var X=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),X=G(a,y)!=Ft}finally{a.state.suppressEdits=!1}return X})}(d,b,v,F,a))&&(1==b?v?function Up(a,d,y,v){C?setTimeout(Mt(hc,a),0):a.curOp.focus=ft(Kt(a));var G,b=function Au(a,d,y){var v=a.getOption("configureMouse"),b=v?v(a,d,y):{};return null==b.unit&&(b.unit=(he?y.shiftKey&&y.metaKey:y.altKey)?"rectangle":"single"==d?"char":"double"==d?"word":"line"),(null==b.extend||a.doc.extend)&&(b.extend=a.doc.extend||y.shiftKey),null==b.addNew&&(b.addNew=se?y.metaKey:y.ctrlKey),null==b.moveOnDrag&&(b.moveOnDrag=!(se?y.altKey:y.ctrlKey)),b}(a,y,v),F=a.doc.sel;a.options.dragDrop&&os&&!a.isReadOnly()&&"single"==y&&(G=F.contains(d))>-1&&(Wn((G=F.ranges[G]).from(),d)<0||d.xRel>0)&&(Wn(G.to(),d)>0||d.xRel<0)?function Nu(a,d,y,v){var b=a.display,F=!1,G=Co(a,function(ue){O&&(b.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:_o(a)),go(b.wrapper.ownerDocument,"mouseup",G),go(b.wrapper.ownerDocument,"mousemove",X),go(b.scroller,"dragstart",J),go(b.scroller,"drop",G),F||(Fi(ue),v.addNew||bd(a.doc,y,null,null,v.extend),O&&!H||C&&9==S?setTimeout(function(){b.wrapper.ownerDocument.body.focus({preventScroll:!0}),b.input.focus()},20):b.input.focus())}),X=function(ue){F=F||Math.abs(d.clientX-ue.clientX)+Math.abs(d.clientY-ue.clientY)>=10},J=function(){return F=!0};O&&(b.scroller.draggable=!0),a.state.draggingText=G,G.copy=!v.moveOnDrag,_n(b.wrapper.ownerDocument,"mouseup",G),_n(b.wrapper.ownerDocument,"mousemove",X),_n(b.scroller,"dragstart",J),_n(b.scroller,"drop",G),a.state.delayingBlurEvent=!0,setTimeout(function(){return b.input.focus()},20),b.scroller.dragDrop&&b.scroller.dragDrop()}(a,v,d,b):function Gp(a,d,y,v){C&&_o(a);var b=a.display,F=a.doc;Fi(d);var G,X,J=F.sel,ue=J.ranges;if(v.addNew&&!v.extend?(X=F.sel.contains(y),G=X>-1?ue[X]:new jr(y,y)):(G=F.sel.primary(),X=F.sel.primIndex),"rectangle"==v.unit)v.addNew||(G=new jr(y,y)),y=Hi(a,d,!0,!0),X=-1;else{var xe=Tc(a,y,v.unit);G=v.extend?Mf(G,xe.anchor,xe.head,v.extend):xe}v.addNew?-1==X?(X=ue.length,Eo(F,ua(a,ue.concat([G]),X),{scroll:!1,origin:"*mouse"})):ue.length>1&&ue[X].empty()&&"char"==v.unit&&!v.extend?(Eo(F,ua(a,ue.slice(0,X).concat(ue.slice(X+1)),0),{scroll:!1,origin:"*mouse"}),J=F.sel):Th(F,X,G,Xn):(X=0,Eo(F,new ya([G],0),Xn),J=F.sel);var Le=y;function $e(Yt){if(0!=Wn(Le,Yt))if(Le=Yt,"rectangle"==v.unit){for(var $t=[],Nn=a.options.tabSize,En=un(Cn(F,y.line).text,y.ch,Nn),nr=un(Cn(F,Yt.line).text,Yt.ch,Nn),dr=Math.min(En,nr),Mi=Math.max(En,nr),_i=Math.min(y.line,Yt.line),jo=Math.min(a.lastLine(),Math.max(y.line,Yt.line));_i<=jo;_i++){var ji=Cn(F,_i).text,Ii=Dr(ji,dr,Nn);dr==Mi?$t.push(new jr(St(_i,Ii),St(_i,Ii))):ji.length>Ii&&$t.push(new jr(St(_i,Ii),St(_i,Dr(ji,Mi,Nn))))}$t.length||$t.push(new jr(y,y)),Eo(F,ua(a,J.ranges.slice(0,X).concat($t),X),{origin:"*mouse",scroll:!1}),a.scrollIntoView(Yt)}else{var Hr,da=G,Wo=Tc(a,Yt,v.unit),To=da.anchor;Wn(Wo.anchor,To)>0?(Hr=Wo.head,To=Re(da.from(),Wo.anchor)):(Hr=Wo.anchor,To=Ne(da.to(),Wo.head));var Ci=J.ranges.slice(0);Ci[X]=function gy(a,d){var y=d.anchor,v=d.head,b=Cn(a.doc,y.line);if(0==Wn(y,v)&&y.sticky==v.sticky)return d;var F=Wa(b);if(!F)return d;var G=Xo(F,y.ch,y.sticky),X=F[G];if(X.from!=y.ch&&X.to!=y.ch)return d;var ue,J=G+(X.from==y.ch==(1!=X.level)?0:1);if(0==J||J==F.length)return d;if(v.line!=y.line)ue=(v.line-y.line)*("ltr"==a.doc.direction?1:-1)>0;else{var xe=Xo(F,v.ch,v.sticky),Le=xe-G||(v.ch-y.ch)*(1==X.level?-1:1);ue=xe==J-1||xe==J?Le<0:Le>0}var $e=F[J+(ue?-1:0)],je=ue==(1==$e.level),pt=je?$e.from:$e.to,bt=je?"after":"before";return y.ch==pt&&y.sticky==bt?d:new jr(new St(y.line,pt,bt),v)}(a,new jr(et(F,To),Hr)),Eo(F,ua(a,Ci,X),Xn)}}var je=b.wrapper.getBoundingClientRect(),pt=0;function bt(Yt){var $t=++pt,Nn=Hi(a,Yt,!0,"rectangle"==v.unit);if(Nn)if(0!=Wn(Nn,Le)){a.curOp.focus=ft(Kt(a)),$e(Nn);var En=Kn(b,F);(Nn.line>=En.to||Nn.line<En.from)&&setTimeout(Co(a,function(){pt==$t&&bt(Yt)}),150)}else{var nr=Yt.clientY<je.top?-20:Yt.clientY>je.bottom?20:0;nr&&setTimeout(Co(a,function(){pt==$t&&(b.scroller.scrollTop+=nr,bt(Yt))}),50)}}function Ut(Yt){a.state.selectingText=!1,pt=1/0,Yt&&(Fi(Yt),b.input.focus()),go(b.wrapper.ownerDocument,"mousemove",jt),go(b.wrapper.ownerDocument,"mouseup",qt),F.history.lastSelOrigin=null}var jt=Co(a,function(Yt){0!==Yt.buttons&&Jc(Yt)?bt(Yt):Ut(Yt)}),qt=Co(a,Ut);a.state.selectingText=qt,_n(b.wrapper.ownerDocument,"mousemove",jt),_n(b.wrapper.ownerDocument,"mouseup",qt)}(a,v,d,b)}(d,v,F,a):Ks(a)==y.scroller&&Fi(a):2==b?(v&&bd(d.doc,v),setTimeout(function(){return y.input.focus()},20)):3==b&&(oe?d.display.input.onContextMenu(a):_o(d)))}}}function Tc(a,d,y){if("char"==y)return new jr(d,d);if("word"==y)return a.findWordAt(d);if("line"==y)return new jr(St(d.line,0),et(a.doc,St(d.line+1,0)));var v=y(a,d);return new jr(v.from,v.to)}function Ld(a,d,y,v){var b,F;if(d.touches)b=d.touches[0].clientX,F=d.touches[0].clientY;else try{b=d.clientX,F=d.clientY}catch{return!1}if(b>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;v&&Fi(d);var G=a.display,X=G.lineDiv.getBoundingClientRect();if(F>X.bottom||!Di(a,y))return Qc(d);F-=X.top-G.viewOffset;for(var J=0;J<a.display.gutterSpecs.length;++J){var ue=G.gutters.childNodes[J];if(ue&&ue.getBoundingClientRect().right>=b)return hi(a,y,a,qi(a.doc,F),a.display.gutterSpecs[J].className,d),Qc(d)}}function Rf(a,d){return Ld(a,d,"gutterClick",!0)}function jp(a,d){gl(a.display,d)||function kf(a,d){return!!Di(a,"gutterContextMenu")&&Ld(a,d,"gutterContextMenu",!1)}(a,d)||Ki(a,d,"contextmenu")||oe||a.display.input.onContextMenu(d)}function gm(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),$l(a)}xl.prototype.compare=function(a,d,y){return this.time+400>a&&0==Wn(d,this.pos)&&y==this.button};var Fd={toString:function(){return"CodeMirror.Init"}},Rh={},Ou={};function Bd(a,d,y){if(!d!=!(y&&y!=Fd)){var b=a.display.dragFunctions,F=d?_n:go;F(a.display.scroller,"dragstart",b.start),F(a.display.scroller,"dragenter",b.enter),F(a.display.scroller,"dragover",b.over),F(a.display.scroller,"dragleave",b.leave),F(a.display.scroller,"drop",b.drop)}}function kh(a){a.options.lineWrapping?(Ye(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(me(a.display.wrapper,"CodeMirror-wrap"),mu(a)),Fr(a),ao(a),$l(a),setTimeout(function(){return wl(a)},100)}function oi(a,d){var y=this;if(!(this instanceof oi))return new oi(a,d);this.options=d=d?mn(d):{},mn(Rh,d,!1);var v=d.value;"string"==typeof v?v=new Zn(v,d.mode,null,d.lineSeparator,d.direction):d.mode&&(v.modeOption=d.mode),this.doc=v;var b=new oi.inputStyles[d.inputStyle](this),F=this.display=new Eh(a,v,b,d);for(var G in F.wrapper.CodeMirror=this,gm(this),d.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Eu(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new lt,keySeq:null,specialChars:null},d.autofocus&&!le&&F.input.focus(),C&&S<11&&setTimeout(function(){return y.display.input.reset(!0)},20),function my(a){var d=a.display;_n(d.scroller,"mousedown",Co(a,Of)),_n(d.scroller,"dblclick",C&&S<11?Co(a,function(J){if(!Ki(a,J)){var ue=Hi(a,J);if(ue&&!Rf(a,J)&&!gl(a.display,J)){Fi(J);var xe=a.findWordAt(ue);bd(a.doc,xe.anchor,xe.head)}}}):function(J){return Ki(a,J)||Fi(J)}),_n(d.scroller,"contextmenu",function(J){return jp(a,J)}),_n(d.input.getField(),"contextmenu",function(J){d.scroller.contains(J.target)||jp(a,J)});var y,v={end:0};function b(){d.activeTouch&&(y=setTimeout(function(){return d.activeTouch=null},1e3),(v=d.activeTouch).end=+new Date)}function F(J){if(1!=J.touches.length)return!1;var ue=J.touches[0];return ue.radiusX<=1&&ue.radiusY<=1}function G(J,ue){if(null==ue.left)return!0;var xe=ue.left-J.left,Le=ue.top-J.top;return xe*xe+Le*Le>400}_n(d.scroller,"touchstart",function(J){if(!Ki(a,J)&&!F(J)&&!Rf(a,J)){d.input.ensurePolled(),clearTimeout(y);var ue=+new Date;d.activeTouch={start:ue,moved:!1,prev:ue-v.end<=300?v:null},1==J.touches.length&&(d.activeTouch.left=J.touches[0].pageX,d.activeTouch.top=J.touches[0].pageY)}}),_n(d.scroller,"touchmove",function(){d.activeTouch&&(d.activeTouch.moved=!0)}),_n(d.scroller,"touchend",function(J){var ue=d.activeTouch;if(ue&&!gl(d,J)&&null!=ue.left&&!ue.moved&&new Date-ue.start<300){var Le,xe=a.coordsChar(d.activeTouch,"page");Le=!ue.prev||G(ue,ue.prev)?new jr(xe,xe):!ue.prev.prev||G(ue,ue.prev.prev)?a.findWordAt(xe):new jr(St(xe.line,0),et(a.doc,St(xe.line+1,0))),a.setSelection(Le.anchor,Le.head),a.focus(),Fi(J)}b()}),_n(d.scroller,"touchcancel",b),_n(d.scroller,"scroll",function(){d.scroller.clientHeight&&(ur(a,d.scroller.scrollTop),qa(a,d.scroller.scrollLeft,!0),hi(a,"scroll",a))}),_n(d.scroller,"mousewheel",function(J){return md(a,J)}),_n(d.scroller,"DOMMouseScroll",function(J){return md(a,J)}),_n(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0}),d.dragFunctions={enter:function(J){Ki(a,J)||Ia(J)},over:function(J){Ki(a,J)||(function Ec(a,d){var y=Hi(a,d);if(y){var v=document.createDocumentFragment();fn(a,y,v),a.display.dragCursor||(a.display.dragCursor=De("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),Se(a.display.dragCursor,v)}}(a,J),Ia(J))},start:function(J){return function Nh(a,d){if(C&&(!a.state.draggingText||+new Date-eo<100))Ia(d);else if(!Ki(a,d)&&!gl(a.display,d)&&(d.dataTransfer.setData("Text",a.getSelection()),d.dataTransfer.effectAllowed="copyMove",d.dataTransfer.setDragImage&&!H)){var y=De("img",null,null,"position: fixed; left: 0; top: 0;");y.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",B&&(y.width=y.height=1,a.display.wrapper.appendChild(y),y._top=y.offsetTop),d.dataTransfer.setDragImage(y,0,0),B&&y.parentNode.removeChild(y)}}(a,J)},drop:Co(a,zo),leave:function(J){Ki(a,J)||gs(a)}};var X=d.input.getField();_n(X,"keyup",function(J){return Go.call(a,J)}),_n(X,"keydown",Co(a,kd)),_n(X,"keypress",Co(a,Pd)),_n(X,"focus",function(J){return yl(a,J)}),_n(X,"blur",function(J){return mi(a,J)})}(this),yi(),ii(this),this.curOp.forceUpdate=!0,vc(this,v),d.autofocus&&!le||this.hasFocus()?setTimeout(function(){y.hasFocus()&&!y.state.focused&&yl(y)},20):mi(this),Ou)Ou.hasOwnProperty(G)&&Ou[G](this,d[G],Fd);lm(this),d.finishInit&&d.finishInit(this);for(var X=0;X<Vd.length;++X)Vd[X](this);Yl(this),O&&d.lineWrapping&&"optimizelegibility"==getComputedStyle(F.lineDiv).textRendering&&(F.lineDiv.style.textRendering="auto")}oi.defaults=Rh,oi.optionHandlers=Ou;var Vd=[];function Mc(a,d,y,v){var F,b=a.doc;null==y&&(y="add"),"smart"==y&&(b.mode.indent?F=Bt(a,d).state:y="prev");var G=a.options.tabSize,X=Cn(b,d),J=un(X.text,null,G);X.stateAfter&&(X.stateAfter=null);var xe,ue=X.text.match(/^\s*/)[0];if(v||/\S/.test(X.text)){if("smart"==y&&((xe=b.mode.indent(F,X.text.slice(ue.length),X.text))==Ft||xe>150)){if(!v)return;y="prev"}}else xe=0,y="not";"prev"==y?xe=d>b.first?un(Cn(b,d-1).text,null,G):0:"add"==y?xe=J+a.options.indentUnit:"subtract"==y?xe=J-a.options.indentUnit:"number"==typeof y&&(xe=J+y),xe=Math.max(0,xe);var Le="",$e=0;if(a.options.indentWithTabs)for(var je=Math.floor(xe/G);je;--je)$e+=G,Le+="\t";if($e<xe&&(Le+=_r(xe-$e)),Le!=ue)return ql(b,Le,St(d,0),St(d,ue.length),"+input"),X.stateAfter=null,!0;for(var pt=0;pt<b.sel.ranges.length;pt++){var bt=b.sel.ranges[pt];if(bt.head.line==d&&bt.head.ch<ue.length){var Ut=St(d,ue.length);Th(b,pt,new jr(Ut,Ut));break}}}oi.defineInitHook=function(a){return Vd.push(a)};var Fs=null;function ca(a){Fs=a}function Ph(a,d,y,v,b){var F=a.doc;a.display.shift=!1,v||(v=F.sel);var G=+new Date-200,X="paste"==b||a.state.pasteIncoming>G,J=gu(d),ue=null;if(X&&v.ranges.length>1)if(Fs&&Fs.text.join("\n")==d){if(v.ranges.length%Fs.text.length==0){ue=[];for(var xe=0;xe<Fs.text.length;xe++)ue.push(F.splitLines(Fs.text[xe]))}}else J.length==v.ranges.length&&a.options.pasteLinesPerSelection&&(ue=Vn(J,function(jt){return[jt]}));for(var Le=a.curOp.updateInput,$e=v.ranges.length-1;$e>=0;$e--){var je=v.ranges[$e],pt=je.from(),bt=je.to();je.empty()&&(y&&y>0?pt=St(pt.line,pt.ch-y):a.state.overwrite&&!X?bt=St(bt.line,Math.min(Cn(F,bt.line).text.length,bt.ch+wn(J).length)):X&&Fs&&Fs.lineWise&&Fs.text.join("\n")==J.join("\n")&&(pt=bt=St(pt.line,0)));var Ut={from:pt,to:bt,text:ue?ue[$e%ue.length]:J,origin:b||(X?"paste":a.state.cutIncoming>G?"cut":"+input")};wc(a.doc,Ut),bo(a,"inputRead",a,Ut)}d&&!X&&Pf(a,d),Za(a),a.curOp.updateInput<2&&(a.curOp.updateInput=Le),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function Hd(a,d){var y=a.clipboardData&&a.clipboardData.getData("Text");if(y)return a.preventDefault(),!d.isReadOnly()&&!d.options.disableInput&&d.hasFocus()&&la(d,function(){return Ph(d,y,0,null,"paste")}),!0}function Pf(a,d){if(a.options.electricChars&&a.options.smartIndent)for(var y=a.doc.sel,v=y.ranges.length-1;v>=0;v--){var b=y.ranges[v];if(!(b.head.ch>100||v&&y.ranges[v-1].head.line==b.head.line)){var F=a.getModeAt(b.head),G=!1;if(F.electricChars){for(var X=0;X<F.electricChars.length;X++)if(d.indexOf(F.electricChars.charAt(X))>-1){G=Mc(a,b.head.line,"smart");break}}else F.electricInput&&F.electricInput.test(Cn(a.doc,b.head.line).text.slice(0,b.head.ch))&&(G=Mc(a,b.head.line,"smart"));G&&bo(a,"electricInput",a,b.head.line)}}}function Lh(a){for(var d=[],y=[],v=0;v<a.doc.sel.ranges.length;v++){var b=a.doc.sel.ranges[v].head.line,F={anchor:St(b,0),head:St(b+1,0)};y.push(F),d.push(a.getRange(F.anchor,F.head))}return{text:d,ranges:y}}function zd(a,d,y,v){a.setAttribute("autocorrect",y?"on":"off"),a.setAttribute("autocapitalize",v?"on":"off"),a.setAttribute("spellcheck",!!d)}function Lf(){var a=De("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),d=De("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return O?a.style.width="1000px":a.setAttribute("wrap","off"),ce&&(a.style.border="1px solid black"),d}function Ff(a,d,y,v,b){var F=d,G=y,X=Cn(a,d.line),J=b&&"rtl"==a.direction?-y:y;function xe(qt){var Yt;if("codepoint"==v){var $t=X.text.charCodeAt(d.ch+(y>0?0:-1));Yt=isNaN($t)?null:new St(d.line,Math.max(0,Math.min(X.text.length,d.ch+y*((y>0?$t>=55296&&$t<56320:$t>=56320&&$t<57343)?2:1))),-y)}else Yt=b?function Hp(a,d,y,v){var b=Wa(d,a.doc.direction);if(!b)return Dc(d,y,v);y.ch>=d.text.length?(y.ch=d.text.length,y.sticky="before"):y.ch<=0&&(y.ch=0,y.sticky="after");var F=Xo(b,y.ch,y.sticky),G=b[F];if("ltr"==a.doc.direction&&G.level%2==0&&(v>0?G.to>y.ch:G.from<y.ch))return Dc(d,y,v);var J,X=function(jt,qt){return Nf(d,jt instanceof St?jt.ch:jt,qt)},ue=function(jt){return a.options.lineWrapping?(J=J||jl(a,d),Ip(a,d,J,jt)):{begin:0,end:d.text.length}},xe=ue("before"==y.sticky?X(y,-1):y.ch);if("rtl"==a.doc.direction||1==G.level){var Le=1==G.level==v<0,$e=X(y,Le?1:-1);if(null!=$e&&(Le?$e<=G.to&&$e<=xe.end:$e>=G.from&&$e>=xe.begin))return new St(y.line,$e,Le?"before":"after")}var pt=function(jt,qt,Yt){for(;jt>=0&&jt<b.length;jt+=qt){var Nn=b[jt],En=qt>0==(1!=Nn.level),nr=En?Yt.begin:X(Yt.end,-1);if(Nn.from<=nr&&nr<Nn.to||(nr=En?Nn.from:X(Nn.to,-1),Yt.begin<=nr&&nr<Yt.end))return dr=nr,En?new St(y.line,X(dr,1),"before"):new St(y.line,dr,"after")}var dr},bt=pt(F+v,v,xe);if(bt)return bt;var Ut=v>0?xe.end:X(xe.begin,-1);return null==Ut||v>0&&Ut==d.text.length||!(bt=pt(v>0?0:b.length-1,v,ue(Ut)))?null:bt}(a.cm,X,d,y):Dc(X,d,y);if(null==Yt){if(qt||!function ue(){var qt=d.line+J;return!(qt<a.first||qt>=a.first+a.size)&&(d=new St(qt,d.ch,d.sticky),X=Cn(a,qt))}())return!1;d=tu(b,a.cm,X,d.line,J)}else d=Yt;return!0}if("char"==v||"codepoint"==v)xe();else if("column"==v)xe(!0);else if("word"==v||"group"==v)for(var Le=null,$e="group"==v,je=a.cm&&a.cm.getHelper(d,"wordChars"),pt=!0;!(y<0)||xe(!pt);pt=!1){var bt=X.text.charAt(d.ch)||"\n",Ut=Li(bt,je)?"w":$e&&"\n"==bt?"n":!$e||/\s/.test(bt)?null:"p";if($e&&!pt&&!Ut&&(Ut="s"),Le&&Le!=Ut){y<0&&(y=1,xe(),d.sticky="after");break}if(Ut&&(Le=Ut),y>0&&!xe(!pt))break}var jt=ks(a,d,F,G,!0);return id(F,jt)&&(jt.hitSide=!0),jt}function Bf(a,d,y,v){var G,ue,b=a.doc,F=d.left;if("page"==v){var X=Math.min(a.display.wrapper.clientHeight,Ht(a).innerHeight||b(a).documentElement.clientHeight),J=Math.max(X-.5*Qr(a.display),3);G=(y>0?d.bottom:d.top)+y*J}else"line"==v&&(G=y>0?d.bottom+3:d.top-3);for(;(ue=bf(a,F,G)).outside;){if(y<0?G<=0:G>=b.height){ue.hitSide=!0;break}G+=5*y}return ue}var Xr=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new lt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ud(a,d){var y=Gl(a,d.line);if(!y||y.hidden)return null;var v=Cn(a.doc,d.line),b=mf(y,v,d.line),F=Wa(v,a.doc.direction),G="left";F&&(G=Xo(F,d.ch)%2?"right":"left");var J=bu(b.map,d.ch,G);return J.offset="right"==J.collapse?J.end:J.start,J}function rl(a,d){return d&&(a.bad=!0),a}function Gd(a,d,y){var v;if(d==a.display.lineDiv){if(!(v=a.display.lineDiv.childNodes[y]))return rl(a.clipPos(St(a.display.viewTo-1)),!0);d=null,y=0}else for(v=d;;v=v.parentNode){if(!v||v==a.display.lineDiv)return null;if(v.parentNode&&v.parentNode==a.display.lineDiv)break}for(var b=0;b<a.display.view.length;b++){var F=a.display.view[b];if(F.node==v)return $p(F,d,y)}}function $p(a,d,y){var v=a.text.firstChild,b=!1;if(!d||!ot(v,d))return rl(St(kr(a.line),0),!0);if(d==v&&(b=!0,d=v.childNodes[y],y=0,!d)){var F=a.rest?wn(a.rest):a.line;return rl(St(kr(F),F.text.length),b)}var G=3==d.nodeType?d:null,X=d;for(!G&&1==d.childNodes.length&&3==d.firstChild.nodeType&&(G=d.firstChild,y&&(y=G.nodeValue.length));X.parentNode!=v;)X=X.parentNode;var J=a.measure,ue=J.maps;function xe(Ut,jt,qt){for(var Yt=-1;Yt<(ue?ue.length:0);Yt++)for(var $t=Yt<0?J.map:ue[Yt],Nn=0;Nn<$t.length;Nn+=3){var En=$t[Nn+2];if(En==Ut||En==jt){var nr=kr(Yt<0?a.line:a.rest[Yt]),dr=$t[Nn]+qt;return(qt<0||En!=Ut)&&(dr=$t[Nn+(qt?1:0)]),St(nr,dr)}}}var Le=xe(G,X,y);if(Le)return rl(Le,b);for(var $e=X.nextSibling,je=G?G.nodeValue.length-y:0;$e;$e=$e.nextSibling){if(Le=xe($e,$e.firstChild,0))return rl(St(Le.line,Le.ch-je),b);je+=$e.textContent.length}for(var pt=X.previousSibling,bt=y;pt;pt=pt.previousSibling){if(Le=xe(pt,pt.firstChild,-1))return rl(St(Le.line,Le.ch+bt),b);bt+=pt.textContent.length}}Xr.prototype.init=function(a){var d=this,y=this,v=y.cm,b=y.div=a.lineDiv;function F(X){for(var J=X.target;J;J=J.parentNode){if(J==b)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(J.className))break}return!1}function G(X){if(F(X)&&!Ki(v,X)){if(v.somethingSelected())ca({lineWise:!1,text:v.getSelections()}),"cut"==X.type&&v.replaceSelection("",null,"cut");else{if(!v.options.lineWiseCopyCut)return;var J=Lh(v);ca({lineWise:!0,text:J.text}),"cut"==X.type&&v.operation(function(){v.setSelections(J.ranges,0,Dt),v.replaceSelection("",null,"cut")})}if(X.clipboardData){X.clipboardData.clearData();var ue=Fs.text.join("\n");if(X.clipboardData.setData("Text",ue),X.clipboardData.getData("Text")==ue)return void X.preventDefault()}var xe=Lf(),Le=xe.firstChild;zd(Le),v.display.lineSpace.insertBefore(xe,v.display.lineSpace.firstChild),Le.value=Fs.text.join("\n");var $e=ft(b.ownerDocument);Xe(Le),setTimeout(function(){v.display.lineSpace.removeChild(xe),$e.focus(),$e==b&&y.showPrimarySelection()},50)}}b.contentEditable=!0,zd(b,v.options.spellcheck,v.options.autocorrect,v.options.autocapitalize),_n(b,"paste",function(X){!F(X)||Ki(v,X)||Hd(X,v)||S<=11&&setTimeout(Co(v,function(){return d.updateFromDOM()}),20)}),_n(b,"compositionstart",function(X){d.composing={data:X.data,done:!1}}),_n(b,"compositionupdate",function(X){d.composing||(d.composing={data:X.data,done:!1})}),_n(b,"compositionend",function(X){d.composing&&(X.data!=d.composing.data&&d.readFromDOMSoon(),d.composing.done=!0)}),_n(b,"touchstart",function(){return y.forceCompositionEnd()}),_n(b,"input",function(){d.composing||d.readFromDOMSoon()}),_n(b,"copy",G),_n(b,"cut",G)},Xr.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},Xr.prototype.prepareSelection=function(){var a=lo(this.cm,!1);return a.focus=ft(this.div.ownerDocument)==this.div,a},Xr.prototype.showSelection=function(a,d){!a||!this.cm.display.view.length||((a.focus||d)&&this.showPrimarySelection(),this.showMultipleSelections(a))},Xr.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Xr.prototype.showPrimarySelection=function(){var a=this.getSelection(),d=this.cm,y=d.doc.sel.primary(),v=y.from(),b=y.to();if(d.display.viewTo==d.display.viewFrom||v.line>=d.display.viewTo||b.line<d.display.viewFrom)a.removeAllRanges();else{var F=Gd(d,a.anchorNode,a.anchorOffset),G=Gd(d,a.focusNode,a.focusOffset);if(!F||F.bad||!G||G.bad||0!=Wn(Re(F,G),v)||0!=Wn(Ne(F,G),b)){var X=d.display.view,J=v.line>=d.display.viewFrom&&Ud(d,v)||{node:X[0].measure.map[2],offset:0},ue=b.line<d.display.viewTo&&Ud(d,b);if(!ue){var xe=X[X.length-1].measure,Le=xe.maps?xe.maps[xe.maps.length-1]:xe.map;ue={node:Le[Le.length-1],offset:Le[Le.length-2]-Le[Le.length-3]}}if(!J||!ue)return void a.removeAllRanges();var je,$e=a.rangeCount&&a.getRangeAt(0);try{je=Be(J.node,J.offset,ue.offset,ue.node)}catch{}je&&(!T&&d.state.focused?(a.collapse(J.node,J.offset),je.collapsed||(a.removeAllRanges(),a.addRange(je))):(a.removeAllRanges(),a.addRange(je)),$e&&null==a.anchorNode?a.addRange($e):T&&this.startGracePeriod()),this.rememberSelection()}}},Xr.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},Xr.prototype.showMultipleSelections=function(a){Se(this.cm.display.cursorDiv,a.cursors),Se(this.cm.display.selectionDiv,a.selection)},Xr.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},Xr.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var d=a.getRangeAt(0).commonAncestorContainer;return ot(this.div,d)},Xr.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||ft(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Xr.prototype.blur=function(){this.div.blur()},Xr.prototype.getField=function(){return this.div},Xr.prototype.supportsTouch=function(){return!0},Xr.prototype.receivedFocus=function(){var a=this,d=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):la(this.cm,function(){return d.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function y(){d.cm.state.focused&&(d.pollSelection(),d.polling.set(d.cm.options.pollInterval,y))})},Xr.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},Xr.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=this.getSelection(),d=this.cm;if(ne&&V&&this.cm.display.gutterSpecs.length&&function vm(a){for(var d=a;d;d=d.parentNode)if(/CodeMirror-gutter-wrapper/.test(d.className))return!0;return!1}(a.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var y=Gd(d,a.anchorNode,a.anchorOffset),v=Gd(d,a.focusNode,a.focusOffset);y&&v&&la(d,function(){Eo(d.doc,ba(y,v),Dt),(y.bad||v.bad)&&(d.curOp.selectionChanged=!0)})}}},Xr.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var F,G,X,a=this.cm,d=a.display,y=a.doc.sel.primary(),v=y.from(),b=y.to();if(0==v.ch&&v.line>a.firstLine()&&(v=St(v.line-1,Cn(a.doc,v.line-1).length)),b.ch==Cn(a.doc,b.line).text.length&&b.line<a.lastLine()&&(b=St(b.line+1,0)),v.line<d.viewFrom||b.line>d.viewTo-1)return!1;v.line==d.viewFrom||0==(F=oo(a,v.line))?(G=kr(d.view[0].line),X=d.view[0].node):(G=kr(d.view[F].line),X=d.view[F-1].node.nextSibling);var ue,xe,J=oo(a,b.line);if(J==d.view.length-1?(ue=d.viewTo-1,xe=d.lineDiv.lastChild):(ue=kr(d.view[J+1].line)-1,xe=d.view[J+1].node.previousSibling),!X)return!1;for(var Le=a.doc.splitLines(function Ru(a,d,y,v,b){var F="",G=!1,X=a.doc.lineSeparator(),J=!1;function xe(){G&&(F+=X,J&&(F+=X),G=J=!1)}function Le(je){je&&(xe(),F+=je)}function $e(je){if(1==je.nodeType){var pt=je.getAttribute("cm-text");if(pt)return void Le(pt);var Ut,bt=je.getAttribute("cm-marker");if(bt){var jt=a.findMarks(St(v,0),St(b+1,0),function ue(je){return function(pt){return pt.id==je}}(+bt));return void(jt.length&&(Ut=jt[0].find(0))&&Le(si(a.doc,Ut.from,Ut.to).join(X)))}if("false"==je.getAttribute("contenteditable"))return;var qt=/^(pre|div|p|li|table|br)$/i.test(je.nodeName);if(!/^br$/i.test(je.nodeName)&&0==je.textContent.length)return;qt&&xe();for(var Yt=0;Yt<je.childNodes.length;Yt++)$e(je.childNodes[Yt]);/^(pre|p)$/i.test(je.nodeName)&&(J=!0),qt&&(G=!0)}else 3==je.nodeType&&Le(je.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;$e(d),d!=y;)d=d.nextSibling,J=!1;return F}(a,X,xe,G,ue)),$e=si(a.doc,St(G,0),St(ue,Cn(a.doc,ue).text.length));Le.length>1&&$e.length>1;)if(wn(Le)==wn($e))Le.pop(),$e.pop(),ue--;else{if(Le[0]!=$e[0])break;Le.shift(),$e.shift(),G++}for(var je=0,pt=0,bt=Le[0],Ut=$e[0],jt=Math.min(bt.length,Ut.length);je<jt&&bt.charCodeAt(je)==Ut.charCodeAt(je);)++je;for(var qt=wn(Le),Yt=wn($e),$t=Math.min(qt.length-(1==Le.length?je:0),Yt.length-(1==$e.length?je:0));pt<$t&&qt.charCodeAt(qt.length-pt-1)==Yt.charCodeAt(Yt.length-pt-1);)++pt;if(1==Le.length&&1==$e.length&&G==v.line)for(;je&&je>v.ch&&qt.charCodeAt(qt.length-pt-1)==Yt.charCodeAt(Yt.length-pt-1);)je--,pt++;Le[Le.length-1]=qt.slice(0,qt.length-pt).replace(/^\u200b+/,""),Le[0]=Le[0].slice(je).replace(/\u200b+$/,"");var Nn=St(G,je),En=St(ue,$e.length?wn($e).length-pt:0);return Le.length>1||Le[0]||Wn(Nn,En)?(ql(a.doc,Le,Nn,En,"+input"),!0):void 0},Xr.prototype.ensurePolled=function(){this.forceCompositionEnd()},Xr.prototype.reset=function(){this.forceCompositionEnd()},Xr.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Xr.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing){if(!a.composing.done)return;a.composing=null}a.updateFromDOM()},80))},Xr.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&la(this.cm,function(){return ao(a.cm)})},Xr.prototype.setUneditable=function(a){a.contentEditable="false"},Xr.prototype.onKeyPress=function(a){0==a.charCode||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Co(this.cm,Ph)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))},Xr.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)},Xr.prototype.onContextMenu=function(){},Xr.prototype.resetPosition=function(){},Xr.prototype.needsContentAttribute=!0;var Ti=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new lt,this.hasSelection=!1,this.composing=null,this.resetting=!1};Ti.prototype.init=function(a){var d=this,y=this,v=this.cm;this.createField(a);var b=this.textarea;function F(G){if(!Ki(v,G)){if(v.somethingSelected())ca({lineWise:!1,text:v.getSelections()});else{if(!v.options.lineWiseCopyCut)return;var X=Lh(v);ca({lineWise:!0,text:X.text}),"cut"==G.type?v.setSelections(X.ranges,null,Dt):(y.prevInput="",b.value=X.text.join("\n"),Xe(b))}"cut"==G.type&&(v.state.cutIncoming=+new Date)}}a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),ce&&(b.style.width="0px"),_n(b,"input",function(){C&&S>=9&&d.hasSelection&&(d.hasSelection=null),y.poll()}),_n(b,"paste",function(G){Ki(v,G)||Hd(G,v)||(v.state.pasteIncoming=+new Date,y.fastPoll())}),_n(b,"cut",F),_n(b,"copy",F),_n(a.scroller,"paste",function(G){if(!gl(a,G)&&!Ki(v,G)){if(!b.dispatchEvent)return v.state.pasteIncoming=+new Date,void y.focus();var X=new Event("paste");X.clipboardData=G.clipboardData,b.dispatchEvent(X)}}),_n(a.lineSpace,"selectstart",function(G){gl(a,G)||Fi(G)}),_n(b,"compositionstart",function(){var G=v.getCursor("from");y.composing&&y.composing.range.clear(),y.composing={start:G,range:v.markText(G,v.getCursor("to"),{className:"CodeMirror-composing"})}}),_n(b,"compositionend",function(){y.composing&&(y.poll(),y.composing.range.clear(),y.composing=null)})},Ti.prototype.createField=function(a){this.wrapper=Lf(),this.textarea=this.wrapper.firstChild;var d=this.cm.options;zd(this.textarea,d.spellcheck,d.autocorrect,d.autocapitalize)},Ti.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},Ti.prototype.prepareSelection=function(){var a=this.cm,d=a.display,y=a.doc,v=lo(a);if(a.options.moveInputWithCursor){var b=cs(a,y.sel.primary().head,"div"),F=d.wrapper.getBoundingClientRect(),G=d.lineDiv.getBoundingClientRect();v.teTop=Math.max(0,Math.min(d.wrapper.clientHeight-10,b.top+G.top-F.top)),v.teLeft=Math.max(0,Math.min(d.wrapper.clientWidth-10,b.left+G.left-F.left))}return v},Ti.prototype.showSelection=function(a){var y=this.cm.display;Se(y.cursorDiv,a.cursors),Se(y.selectionDiv,a.selection),null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},Ti.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing&&a)){var d=this.cm;if(this.resetting=!0,d.somethingSelected()){this.prevInput="";var y=d.getSelection();this.textarea.value=y,d.state.focused&&Xe(this.textarea),C&&S>=9&&(this.hasSelection=y)}else a||(this.prevInput=this.textarea.value="",C&&S>=9&&(this.hasSelection=null));this.resetting=!1}},Ti.prototype.getField=function(){return this.textarea},Ti.prototype.supportsTouch=function(){return!1},Ti.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!le||ft(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},Ti.prototype.blur=function(){this.textarea.blur()},Ti.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ti.prototype.receivedFocus=function(){this.slowPoll()},Ti.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},Ti.prototype.fastPoll=function(){var a=!1,d=this;d.pollingFast=!0,d.polling.set(20,function y(){d.poll()||a?(d.pollingFast=!1,d.slowPoll()):(a=!0,d.polling.set(60,y))})},Ti.prototype.poll=function(){var a=this,d=this.cm,y=this.textarea,v=this.prevInput;if(this.contextMenuPending||this.resetting||!d.state.focused||Qu(y)&&!v&&!this.composing||d.isReadOnly()||d.options.disableInput||d.state.keySeq)return!1;var b=y.value;if(b==v&&!d.somethingSelected())return!1;if(C&&S>=9&&this.hasSelection===b||se&&/[\uf700-\uf7ff]/.test(b))return d.display.input.reset(),!1;if(d.doc.sel==d.display.selForContextMenu){var F=b.charCodeAt(0);if(8203==F&&!v&&(v="\u200b"),8666==F)return this.reset(),this.cm.execCommand("undo")}for(var G=0,X=Math.min(v.length,b.length);G<X&&v.charCodeAt(G)==b.charCodeAt(G);)++G;return la(d,function(){Ph(d,b.slice(G),v.length-G,null,a.composing?"*compose":null),b.length>1e3||b.indexOf("\n")>-1?y.value=a.prevInput="":a.prevInput=b,a.composing&&(a.composing.range.clear(),a.composing.range=d.markText(a.composing.start,d.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ti.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ti.prototype.onKeyPress=function(){C&&S>=9&&(this.hasSelection=null),this.fastPoll()},Ti.prototype.onContextMenu=function(a){var d=this,y=d.cm,v=y.display,b=d.textarea;d.contextMenuPending&&d.contextMenuPending();var F=Hi(y,a),G=v.scroller.scrollTop;if(F&&!B){y.options.resetSelectionOnContextMenu&&-1==y.doc.sel.contains(F)&&Co(y,Eo)(y.doc,ba(F),Dt);var Le,J=b.style.cssText,ue=d.wrapper.style.cssText,xe=d.wrapper.offsetParent.getBoundingClientRect();if(d.wrapper.style.cssText="position: static",b.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-xe.top-5)+"px; left: "+(a.clientX-xe.left-5)+"px;\n      z-index: 1000; background: "+(C?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",O&&(Le=b.ownerDocument.defaultView.scrollY),v.input.focus(),O&&b.ownerDocument.defaultView.scrollTo(null,Le),v.input.reset(),y.somethingSelected()||(b.value=d.prevInput=" "),d.contextMenuPending=je,v.selForContextMenu=y.doc.sel,clearTimeout(v.detectingSelectAll),C&&S>=9&&$e(),oe){Ia(a);var pt=function(){go(window,"mouseup",pt),setTimeout(je,20)};_n(window,"mouseup",pt)}else setTimeout(je,50)}function $e(){if(null!=b.selectionStart){var bt=y.somethingSelected(),Ut="\u200b"+(bt?b.value:"");b.value="\u21da",b.value=Ut,d.prevInput=bt?"":"\u200b",b.selectionStart=1,b.selectionEnd=Ut.length,v.selForContextMenu=y.doc.sel}}function je(){if(d.contextMenuPending==je&&(d.contextMenuPending=!1,d.wrapper.style.cssText=ue,b.style.cssText=J,C&&S<9&&v.scrollbars.setScrollTop(v.scroller.scrollTop=G),null!=b.selectionStart)){(!C||C&&S<9)&&$e();var bt=0,Ut=function(){v.selForContextMenu==y.doc.sel&&0==b.selectionStart&&b.selectionEnd>0&&"\u200b"==d.prevInput?Co(y,Zl)(y):bt++<10?v.detectingSelectAll=setTimeout(Ut,500):(v.selForContextMenu=null,v.input.reset())};v.detectingSelectAll=setTimeout(Ut,200)}}},Ti.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled="nocursor"==a,this.textarea.readOnly=!!a},Ti.prototype.setUneditable=function(){},Ti.prototype.needsContentAttribute=!1,function mm(a){var d=a.optionHandlers;function y(v,b,F,G){a.defaults[v]=b,F&&(d[v]=G?function(X,J,ue){ue!=Fd&&F(X,J,ue)}:F)}a.defineOption=y,a.Init=Fd,y("value","",function(v,b){return v.setValue(b)},!0),y("mode",null,function(v,b){v.doc.modeOption=b,gc(v)},!0),y("indentUnit",2,gc,!0),y("indentWithTabs",!1),y("smartIndent",!0),y("tabSize",4,function(v){Tf(v),$l(v),ao(v)},!0),y("lineSeparator",null,function(v,b){if(v.doc.lineSep=b,b){var F=[],G=v.doc.first;v.doc.iter(function(J){for(var ue=0;;){var xe=J.text.indexOf(b,ue);if(-1==xe)break;ue=xe+b.length,F.push(St(G,xe))}G++});for(var X=F.length-1;X>=0;X--)ql(v.doc,b,F[X],St(F[X].line,F[X].ch+b.length))}}),y("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(v,b,F){v.state.specialChars=new RegExp(b.source+(b.test("\t")?"":"|\t"),"g"),F!=Fd&&v.refresh()}),y("specialCharPlaceholder",Xa,function(v){return v.refresh()},!0),y("electricChars",!0),y("inputStyle",le?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),y("spellcheck",!1,function(v,b){return v.getInputField().spellcheck=b},!0),y("autocorrect",!1,function(v,b){return v.getInputField().autocorrect=b},!0),y("autocapitalize",!1,function(v,b){return v.getInputField().autocapitalize=b},!0),y("rtlMoveVisually",!te),y("wholeLineUpdateBefore",!0),y("theme","default",function(v){gm(v),Sf(v)},!0),y("keyMap","default",function(v,b,F){var G=Ad(b),X=F!=Fd&&Ad(F);X&&X.detach&&X.detach(v,G),G.attach&&G.attach(v,X||null)}),y("extraKeys",null),y("configureMouse",null),y("lineWrapping",!1,kh,!0),y("gutters",[],function(v,b){v.display.gutterSpecs=Kl(b,v.options.lineNumbers),Sf(v)},!0),y("fixedGutter",!0,function(v,b){v.display.gutters.style.left=b?an(v.display)+"px":"0",v.refresh()},!0),y("coverGutterNextToScrollbar",!1,function(v){return wl(v)},!0),y("scrollbarStyle","native",function(v){Eu(v),wl(v),v.display.scrollbars.setScrollTop(v.doc.scrollTop),v.display.scrollbars.setScrollLeft(v.doc.scrollLeft)},!0),y("lineNumbers",!1,function(v,b){v.display.gutterSpecs=Kl(v.options.gutters,b),Sf(v)},!0),y("firstLineNumber",1,Sf,!0),y("lineNumberFormatter",function(v){return v},Sf,!0),y("showCursorWhenSelecting",!1,ud,!0),y("resetSelectionOnContextMenu",!0),y("lineWiseCopyCut",!0),y("pasteLinesPerSelection",!0),y("selectionsMayTouch",!1),y("readOnly",!1,function(v,b){"nocursor"==b&&(mi(v),v.display.input.blur()),v.display.input.readOnlyChanged(b)}),y("screenReaderLabel",null,function(v,b){v.display.input.screenReaderLabelChanged(b=""===b?null:b)}),y("disableInput",!1,function(v,b){b||v.display.input.reset()},!0),y("dragDrop",!0,Bd),y("allowDropFileTypes",null),y("cursorBlinkRate",530),y("cursorScrollMargin",0),y("cursorHeight",1,ud,!0),y("singleCursorHeightPerLine",!0,ud,!0),y("workTime",100),y("workDelay",100),y("flattenSpans",!0,Tf,!0),y("addModeClass",!1,Tf,!0),y("pollInterval",100),y("undoDepth",200,function(v,b){return v.doc.history.undoDepth=b}),y("historyEventDelay",1250),y("viewportMargin",10,function(v){return v.refresh()},!0),y("maxHighlightLength",1e4,Tf,!0),y("moveInputWithCursor",!0,function(v,b){b||v.display.input.resetPosition()}),y("tabindex",null,function(v,b){return v.display.input.getField().tabIndex=b||""}),y("autofocus",null),y("direction","ltr",function(v,b){return v.doc.setDirection(b)},!0),y("phrases",null)}(oi),function Wp(a){var d=a.optionHandlers,y=a.helpers={};a.prototype={constructor:a,focus:function(){Ht(this).focus(),this.display.input.focus()},setOption:function(v,b){var F=this.options,G=F[v];F[v]==b&&"mode"!=v||(F[v]=b,d.hasOwnProperty(v)&&Co(this,d[v])(this,b,G),hi(this,"optionChange",this,v))},getOption:function(v){return this.options[v]},getDoc:function(){return this.doc},addKeyMap:function(v,b){this.state.keyMaps[b?"push":"unshift"](Ad(v))},removeKeyMap:function(v){for(var b=this.state.keyMaps,F=0;F<b.length;++F)if(b[F]==v||b[F].name==v)return b.splice(F,1),!0},addOverlay:Po(function(v,b){var F=v.token?v:a.getMode(this.options,v);if(F.startState)throw new Error("Overlays may not be stateful.");(function Yr(a,d,y){for(var v=0,b=y(d);v<a.length&&y(a[v])<=b;)v++;a.splice(v,0,d)})(this.state.overlays,{mode:F,modeSpec:v,opaque:b&&b.opaque,priority:b&&b.priority||0},function(G){return G.priority}),this.state.modeGen++,ao(this)}),removeOverlay:Po(function(v){for(var b=this.state.overlays,F=0;F<b.length;++F){var G=b[F].modeSpec;if(G==v||"string"==typeof v&&G.name==v)return b.splice(F,1),this.state.modeGen++,void ao(this)}}),indentLine:Po(function(v,b,F){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract"),ko(this.doc,v)&&Mc(this,v,b,F)}),indentSelection:Po(function(v){for(var b=this.doc.sel.ranges,F=-1,G=0;G<b.length;G++){var X=b[G];if(X.empty())X.head.line>F&&(Mc(this,X.head.line,v,!0),F=X.head.line,G==this.doc.sel.primIndex&&Za(this));else{var J=X.from(),ue=X.to(),xe=Math.max(F,J.line);F=Math.min(this.lastLine(),ue.line-(ue.ch?0:1))+1;for(var Le=xe;Le<F;++Le)Mc(this,Le,v);var $e=this.doc.sel.ranges;0==J.ch&&b.length==$e.length&&$e[G].from().ch>0&&Th(this.doc,G,new jr(J,$e[G].to()),Dt)}}}),getTokenAt:function(v,b){return Sn(this,v,b)},getLineTokens:function(v,b){return Sn(this,St(v),b,!0)},getTokenTypeAt:function(v){v=et(this.doc,v);var J,b=Hn(this,Cn(this.doc,v.line)),F=0,G=(b.length-1)/2,X=v.ch;if(0==X)J=b[2];else for(;;){var ue=F+G>>1;if((ue?b[2*ue-1]:0)>=X)G=ue;else{if(!(b[2*ue+1]<X)){J=b[2*ue+2];break}F=ue+1}}var xe=J?J.indexOf("overlay "):-1;return xe<0?J:0==xe?null:J.slice(0,xe-1)},getModeAt:function(v){var b=this.doc.mode;return b.innerMode?a.innerMode(b,this.getTokenAt(v).state).mode:b},getHelper:function(v,b){return this.getHelpers(v,b)[0]},getHelpers:function(v,b){var F=[];if(!y.hasOwnProperty(b))return F;var G=y[b],X=this.getModeAt(v);if("string"==typeof X[b])G[X[b]]&&F.push(G[X[b]]);else if(X[b])for(var J=0;J<X[b].length;J++){var ue=G[X[b][J]];ue&&F.push(ue)}else X.helperType&&G[X.helperType]?F.push(G[X.helperType]):G[X.name]&&F.push(G[X.name]);for(var xe=0;xe<G._global.length;xe++){var Le=G._global[xe];Le.pred(X,this)&&-1==tt(F,Le.val)&&F.push(Le.val)}return F},getStateAfter:function(v,b){var F=this.doc;return Bt(this,(v=Ve(F,v??F.first+F.size-1))+1,b).state},cursorCoords:function(v,b){var G=this.doc.sel.primary();return cs(this,null==v?G.head:"object"==typeof v?et(this.doc,v):v?G.from():G.to(),b||"page")},charCoords:function(v,b){return ld(this,et(this.doc,v),b||"page")},coordsChar:function(v,b){return bf(this,(v=mh(this,v,b||"page")).left,v.top)},lineAtHeight:function(v,b){return v=mh(this,{top:v,left:0},b||"page").top,qi(this.doc,v+this.display.viewOffset)},heightAtLine:function(v,b,F){var X,G=!1;if("number"==typeof v){var J=this.doc.first+this.doc.size-1;v<this.doc.first?v=this.doc.first:v>J&&(v=J,G=!0),X=Cn(this.doc,v)}else X=v;return yf(this,X,{top:0,left:0},b||"page",F||G).top+(G?this.doc.height-Ra(X):0)},defaultTextHeight:function(){return Qr(this.display)},defaultCharWidth:function(){return ml(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(v,b,F,G,X){var J=this.display,ue=(v=cs(this,et(this.doc,v))).bottom,xe=v.left;if(b.style.position="absolute",b.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(b),J.sizer.appendChild(b),"over"==G)ue=v.top;else if("above"==G||"near"==G){var Le=Math.max(J.wrapper.clientHeight,this.doc.height),$e=Math.max(J.sizer.clientWidth,J.lineSpace.clientWidth);("above"==G||v.bottom+b.offsetHeight>Le)&&v.top>b.offsetHeight?ue=v.top-b.offsetHeight:v.bottom+b.offsetHeight<=Le&&(ue=v.bottom),xe+b.offsetWidth>$e&&(xe=$e-b.offsetWidth)}b.style.top=ue+"px",b.style.left=b.style.right="","right"==X?(xe=J.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==X?xe=0:"middle"==X&&(xe=(J.sizer.clientWidth-b.offsetWidth)/2),b.style.left=xe+"px"),F&&function Cu(a,d){var y=zi(a,d);null!=y.scrollTop&&ur(a,y.scrollTop),null!=y.scrollLeft&&qa(a,y.scrollLeft)}(this,{left:xe,top:ue,right:xe+b.offsetWidth,bottom:ue+b.offsetHeight})},triggerOnKeyDown:Po(kd),triggerOnKeyPress:Po(Pd),triggerOnKeyUp:Go,triggerOnMouseDown:Po(Of),execCommand:function(v){if(Sc.hasOwnProperty(v))return Sc[v].call(null,this)},triggerElectric:Po(function(v){Pf(this,v)}),findPosH:function(v,b,F,G){var X=1;b<0&&(X=-1,b=-b);for(var J=et(this.doc,v),ue=0;ue<b&&!(J=Ff(this.doc,J,X,F,G)).hitSide;++ue);return J},moveH:Po(function(v,b){var F=this;this.extendSelectionsBy(function(G){return F.display.shift||F.doc.extend||G.empty()?Ff(F.doc,G.head,v,b,F.options.rtlMoveVisually):v<0?G.from():G.to()},Jn)}),deleteH:Po(function(v,b){var G=this.doc;this.doc.sel.somethingSelected()?G.replaceSelection("",null,"+delete"):Ls(this,function(X){var J=Ff(G,X.head,v,b,!1);return v<0?{from:J,to:X.head}:{from:X.head,to:J}})}),findPosV:function(v,b,F,G){var X=1,J=G;b<0&&(X=-1,b=-b);for(var ue=et(this.doc,v),xe=0;xe<b;++xe){var Le=cs(this,ue,"div");if(null==J?J=Le.left:Le.left=J,(ue=Bf(this,Le,X,F)).hitSide)break}return ue},moveV:Po(function(v,b){var F=this,G=this.doc,X=[],J=!this.display.shift&&!G.extend&&G.sel.somethingSelected();if(G.extendSelectionsBy(function(xe){if(J)return v<0?xe.from():xe.to();var Le=cs(F,xe.head,"div");null!=xe.goalColumn&&(Le.left=xe.goalColumn),X.push(Le.left);var $e=Bf(F,Le,v,b);return"page"==b&&xe==G.sel.primary()&&ds(F,ld(F,$e,"div").top-Le.top),$e},Jn),X.length)for(var ue=0;ue<G.sel.ranges.length;ue++)G.sel.ranges[ue].goalColumn=X[ue]}),findWordAt:function(v){var F=Cn(this.doc,v.line).text,G=v.ch,X=v.ch;if(F){var J=this.getHelper(v,"wordChars");"before"!=v.sticky&&X!=F.length||!G?++X:--G;for(var ue=F.charAt(G),xe=Li(ue,J)?function(Le){return Li(Le,J)}:/\s/.test(ue)?function(Le){return/\s/.test(Le)}:function(Le){return!/\s/.test(Le)&&!Li(Le)};G>0&&xe(F.charAt(G-1));)--G;for(;X<F.length&&xe(F.charAt(X));)++X}return new jr(St(v.line,G),St(v.line,X))},toggleOverwrite:function(v){null!=v&&v==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ye(this.display.cursorDiv,"CodeMirror-overwrite"):me(this.display.cursorDiv,"CodeMirror-overwrite"),hi(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ft(Kt(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Po(function(v,b){uo(this,v,b)}),getScrollInfo:function(){var v=this.display.scroller;return{left:v.scrollLeft,top:v.scrollTop,height:v.scrollHeight-wo(this)-this.display.barHeight,width:v.scrollWidth-wo(this)-this.display.barWidth,clientHeight:dc(this),clientWidth:Cr(this)}},scrollIntoView:Po(function(v,b){null==v?(v={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof v?v={from:St(v,0),to:null}:null==v.from&&(v={from:v,to:null}),v.to||(v.to=v.from),v.margin=b||0,null!=v.from.line?function cd(a,d){dd(a),a.curOp.scrollToPos=d}(this,v):bl(this,v.from,v.to,v.margin)}),setSize:Po(function(v,b){var F=this,G=function(J){return"number"==typeof J||/^\d+$/.test(String(J))?J+"px":J};null!=v&&(this.display.wrapper.style.width=G(v)),null!=b&&(this.display.wrapper.style.height=G(b)),this.options.lineWrapping&&sd(this);var X=this.display.viewFrom;this.doc.iter(X,this.display.viewTo,function(J){if(J.widgets)for(var ue=0;ue<J.widgets.length;ue++)if(J.widgets[ue].noHScroll){so(F,X,"widget");break}++X}),this.curOp.forceUpdate=!0,hi(this,"refresh",this)}),operation:function(v){return la(this,v)},startOperation:function(){return ii(this)},endOperation:function(){return Yl(this)},refresh:Po(function(){var v=this.display.cachedTextHeight;ao(this),this.curOp.forceUpdate=!0,$l(this),uo(this,this.doc.scrollLeft,this.doc.scrollTop),xf(this.display),(null==v||Math.abs(v-Qr(this.display))>.5||this.options.lineWrapping)&&Fr(this),hi(this,"refresh",this)}),swapDoc:Po(function(v){var b=this.doc;return b.cm=null,this.state.selectingText&&this.state.selectingText(),vc(this,v),$l(this),this.display.input.reset(),uo(this,v.scrollLeft,v.scrollTop),this.curOp.forceScroll=!0,bo(this,"swapDoc",this,b),b}),phrase:function(v){var b=this.options.phrases;return b&&Object.prototype.hasOwnProperty.call(b,v)?b[v]:v},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ma(a),a.registerHelper=function(v,b,F){y.hasOwnProperty(v)||(y[v]=a[v]={_global:[]}),y[v][b]=F},a.registerGlobalHelper=function(v,b,F,G){a.registerHelper(v,b,G),y[v]._global.push({pred:F,val:G})}}(oi);var wi="iter insert remove copy getEditor constructor".split(" ");for(var ys in Zn.prototype)Zn.prototype.hasOwnProperty(ys)&&tt(wi,ys)<0&&(oi.prototype[ys]=function(a){return function(){return a.apply(this.doc,arguments)}}(Zn.prototype[ys]));return Ma(Zn),oi.inputStyles={textarea:Ti,contenteditable:Xr},oi.defineMode=function(a){!oi.defaults.mode&&"null"!=a&&(oi.defaults.mode=a),tc.apply(this,arguments)},oi.defineMIME=function nd(a,d){Ts[a]=d},oi.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),oi.defineMIME("text/plain","null"),oi.defineExtension=function(a,d){oi.prototype[a]=d},oi.defineDocExtension=function(a,d){Zn.prototype[a]=d},oi.fromTextArea=function ku(a,d){if((d=d?mn(d):{}).value=a.value,!d.tabindex&&a.tabIndex&&(d.tabindex=a.tabIndex),!d.placeholder&&a.placeholder&&(d.placeholder=a.placeholder),null==d.autofocus){var y=ft(a.ownerDocument);d.autofocus=y==a||null!=a.getAttribute("autofocus")&&y==document.body}function v(){a.value=X.getValue()}var b;if(a.form&&(_n(a.form,"submit",v),!d.leaveSubmitMethodAlone)){var F=a.form;b=F.submit;try{var G=F.submit=function(){v(),F.submit=b,F.submit(),F.submit=G}}catch{}}d.finishInit=function(J){J.save=v,J.getTextArea=function(){return a},J.toTextArea=function(){J.toTextArea=isNaN,v(),a.parentNode.removeChild(J.getWrapperElement()),a.style.display="",a.form&&(go(a.form,"submit",v),!d.leaveSubmitMethodAlone&&"function"==typeof a.form.submit&&(a.form.submit=b))}},a.style.display="none";var X=oi(function(J){return a.parentNode.insertBefore(J,a.nextSibling)},d);return X},function Yp(a){a.off=go,a.on=_n,a.wheelEventPixels=um,a.Doc=Zn,a.splitLines=gu,a.countColumn=un,a.findColumn=Dr,a.isWordChar=Pi,a.Pass=Ft,a.signal=hi,a.Line=hl,a.changeEnd=Fo,a.scrollbarModel=hd,a.Pos=St,a.cmpPos=Wn,a.modes=ec,a.mimeModes=Ts,a.resolveMode=ni,a.getMode=Na,a.modeExtensions=Sr,a.extendMode=Zi,a.copyState=Oi,a.startState=cf,a.innerMode=ma,a.commands=Sc,a.keyMap=Uo,a.keyName=Af,a.isModifierKey=Vp,a.lookupKey=nl,a.normalizeKeyMap=Bp,a.StringStream=Ri,a.SharedTextMarker=Td,a.TextMarker=Ho,a.LineWidget=Ql,a.e_preventDefault=Fi,a.e_stopPropagation=Xs,a.e_stop=Ia,a.addClass=Ye,a.contains=ot,a.rmClass=me,a.keyNames=Gi}(oi),oi.version="5.65.13",oi}()},1610:function($,ae,D){var T;$.exports=(T=D(4465),function(k){var N={};function I(C){if(N[C])return N[C].exports;var S=N[C]={i:C,l:!1,exports:{}};return k[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=k,I.c=N,I.i=function(C){return C},I.d=function(C,S,O){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:O})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=7)}([function(k,N){k.exports=T},function(k,N,I){"use strict";var C=I(0).FDLayoutConstants;function S(){}for(var O in C)S[O]=C[O];S.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,S.DEFAULT_RADIAL_SEPARATION=C.DEFAULT_EDGE_LENGTH,S.DEFAULT_COMPONENT_SEPERATION=60,S.TILE=!0,S.TILING_PADDING_VERTICAL=10,S.TILING_PADDING_HORIZONTAL=10,S.TREE_REDUCTION_ON_INCREMENTAL=!1,k.exports=S},function(k,N,I){"use strict";var C=I(0).FDLayoutEdge;function S(A,V,L){C.call(this,A,V,L)}for(var O in S.prototype=Object.create(C.prototype),C)S[O]=C[O];k.exports=S},function(k,N,I){"use strict";var C=I(0).LGraph;function S(A,V,L){C.call(this,A,V,L)}for(var O in S.prototype=Object.create(C.prototype),C)S[O]=C[O];k.exports=S},function(k,N,I){"use strict";var C=I(0).LGraphManager;function S(A){C.call(this,A)}for(var O in S.prototype=Object.create(C.prototype),C)S[O]=C[O];k.exports=S},function(k,N,I){"use strict";var C=I(0).FDLayoutNode,S=I(0).IMath;function O(V,L,B,H){C.call(this,V,L,B,H)}for(var A in O.prototype=Object.create(C.prototype),C)O[A]=C[A];O.prototype.move=function(){var V=this.graphManager.getLayout();this.displacementX=V.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=V.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>V.coolingFactor*V.maxNodeDisplacement&&(this.displacementX=V.coolingFactor*V.maxNodeDisplacement*S.sign(this.displacementX)),Math.abs(this.displacementY)>V.coolingFactor*V.maxNodeDisplacement&&(this.displacementY=V.coolingFactor*V.maxNodeDisplacement*S.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),V.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},O.prototype.propogateDisplacementToChildren=function(V,L){for(var H,B=this.getChild().getNodes(),Y=0;Y<B.length;Y++)null==(H=B[Y]).getChild()?(H.moveBy(V,L),H.displacementX+=V,H.displacementY+=L):H.propogateDisplacementToChildren(V,L)},O.prototype.setPred1=function(V){this.pred1=V},O.prototype.getPred1=function(){return pred1},O.prototype.getPred2=function(){return pred2},O.prototype.setNext=function(V){this.next=V},O.prototype.getNext=function(){return next},O.prototype.setProcessed=function(V){this.processed=V},O.prototype.isProcessed=function(){return processed},k.exports=O},function(k,N,I){"use strict";var C=I(0).FDLayout,S=I(4),O=I(3),A=I(5),V=I(2),L=I(1),B=I(0).FDLayoutConstants,H=I(0).LayoutConstants,Y=I(0).Point,ee=I(0).PointD,ce=I(0).Layout,ne=I(0).Integer,le=I(0).IGeometry,se=I(0).LGraph,he=I(0).Transform;function te(){C.call(this),this.toBeTiled={}}for(var pe in te.prototype=Object.create(C.prototype),C)te[pe]=C[pe];te.prototype.newGraphManager=function(){var Z=new S(this);return this.graphManager=Z,Z},te.prototype.newGraph=function(Z){return new O(null,this.graphManager,Z)},te.prototype.newNode=function(Z){return new A(this.graphManager,Z)},te.prototype.newEdge=function(Z){return new V(null,null,Z)},te.prototype.initParameters=function(){C.prototype.initParameters.call(this,arguments),this.isSubLayout||(this.idealEdgeLength=L.DEFAULT_EDGE_LENGTH<10?10:L.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=L.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=B.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=B.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=B.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=B.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=B.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=B.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/B.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=B.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},te.prototype.layout=function(){return H.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},te.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(L.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var oe=new Set(this.getAllNodes()),ie=this.nodesWithGravity.filter(function(Se){return oe.has(Se)});this.graphManager.setAllNodesToApplyGravitation(ie)}}else{var Z=this.getFlatForest();Z.length>0?this.positionNodesRadially(Z):(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),oe=new Set(this.getAllNodes()),ie=this.nodesWithGravity.filter(function(me){return oe.has(me)}),this.graphManager.setAllNodesToApplyGravitation(ie),this.positionNodesRandomly())}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},te.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%B.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var Z=new Set(this.getAllNodes()),oe=this.nodesWithGravity.filter(function(_e){return Z.has(_e)});this.graphManager.setAllNodesToApplyGravitation(oe),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=B.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=B.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var ie=!this.isTreeGrowing&&!this.isGrowthFinished,me=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(ie,me),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},te.prototype.getPositionsData=function(){for(var Z=this.graphManager.getAllNodes(),oe={},ie=0;ie<Z.length;ie++){var me=Z[ie].rect,_e=Z[ie].id;oe[_e]={id:_e,x:me.getCenterX(),y:me.getCenterY(),w:me.width,h:me.height}}return oe},te.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var Z=!1;if("during"===B.ANIMATE)this.emit("layoutstarted");else{for(;!Z;)Z=this.tick();this.graphManager.updateBounds()}},te.prototype.calculateNodesToApplyGravitationTo=function(){var oe,_e,Z=[],ie=this.graphManager.getGraphs(),me=ie.length;for(_e=0;_e<me;_e++)(oe=ie[_e]).updateConnected(),oe.isConnected||(Z=Z.concat(oe.getNodes()));return Z},te.prototype.createBendpoints=function(){var Z=[];Z=Z.concat(this.graphManager.getAllEdges());var ie,oe=new Set;for(ie=0;ie<Z.length;ie++){var me=Z[ie];if(!oe.has(me)){var _e=me.getSource(),Se=me.getTarget();if(_e==Se)me.getBendpoints().push(new ee),me.getBendpoints().push(new ee),this.createDummyNodesForBendpoints(me),oe.add(me);else{var De=[];if(De=(De=De.concat(_e.getEdgeListToNode(Se))).concat(Se.getEdgeListToNode(_e)),!oe.has(De[0])){var ze;if(De.length>1)for(ze=0;ze<De.length;ze++){var Be=De[ze];Be.getBendpoints().push(new ee),this.createDummyNodesForBendpoints(Be)}De.forEach(function(ot){oe.add(ot)})}}}if(oe.size==Z.length)break}},te.prototype.positionNodesRadially=function(Z){for(var oe=new Y(0,0),ie=Math.ceil(Math.sqrt(Z.length)),me=0,_e=0,Se=0,De=new ee(0,0),ze=0;ze<Z.length;ze++){ze%ie==0&&(Se=0,_e=me,0!=ze&&(_e+=L.DEFAULT_COMPONENT_SEPERATION),me=0);var Be=Z[ze],ot=ce.findCenterOfTree(Be);oe.x=Se,oe.y=_e,(De=te.radialLayout(Be,ot,oe)).y>me&&(me=Math.floor(De.y)),Se=Math.floor(De.x+L.DEFAULT_COMPONENT_SEPERATION)}this.transform(new ee(H.WORLD_CENTER_X-De.x/2,H.WORLD_CENTER_Y-De.y/2))},te.radialLayout=function(Z,oe,ie){var me=Math.max(this.maxDiagonalInTree(Z),L.DEFAULT_RADIAL_SEPARATION);te.branchRadialLayout(oe,null,0,359,0,me);var _e=se.calculateBounds(Z),Se=new he;Se.setDeviceOrgX(_e.getMinX()),Se.setDeviceOrgY(_e.getMinY()),Se.setWorldOrgX(ie.x),Se.setWorldOrgY(ie.y);for(var De=0;De<Z.length;De++)Z[De].transform(Se);var Be=new ee(_e.getMaxX(),_e.getMaxY());return Se.inverseTransformPoint(Be)},te.branchRadialLayout=function(Z,oe,ie,me,_e,Se){var De=(me-ie+1)/2;De<0&&(De+=180);var Be=(De+ie)%360*le.TWO_PI/360,ft=(Math.cos(Be),_e*Math.cos(Be)),Ye=_e*Math.sin(Be);Z.setCenter(ft,Ye);var _t=[],Xe=(_t=_t.concat(Z.getEdges())).length;null!=oe&&Xe--;for(var Mt,Kt=0,Ht=_t.length,mn=Z.getEdgesBetween(oe);mn.length>1;){var un=mn[0];mn.splice(0,1);var lt=_t.indexOf(un);lt>=0&&_t.splice(lt,1),Ht--,Xe--}Mt=null!=oe?(_t.indexOf(mn[0])+1)%Ht:0;for(var tt=Math.abs(me-ie)/Xe,ht=Mt;Kt!=Xe;ht=++ht%Ht){var Ft=_t[ht].getOtherEnd(Z);if(Ft!=oe){var Dt=(ie+Kt*tt)%360;te.branchRadialLayout(Ft,Z,Dt,(Dt+tt)%360,_e+Se,Se),Kt++}}},te.maxDiagonalInTree=function(Z){for(var oe=ne.MIN_VALUE,ie=0;ie<Z.length;ie++){var _e=Z[ie].getDiagonal();_e>oe&&(oe=_e)}return oe},te.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},te.prototype.groupZeroDegreeMembers=function(){var Z=this,oe={};this.memberGroups={},this.idToDummyNode={};for(var ie=[],me=this.graphManager.getAllNodes(),_e=0;_e<me.length;_e++){var De=(Se=me[_e]).getParent();0===this.getNodeDegreeWithChildren(Se)&&(null==De.id||!this.getToBeTiled(De))&&ie.push(Se)}for(_e=0;_e<ie.length;_e++){var Se,ze=(Se=ie[_e]).getParent().id;typeof oe[ze]>"u"&&(oe[ze]=[]),oe[ze]=oe[ze].concat(Se)}Object.keys(oe).forEach(function(Be){if(oe[Be].length>1){var ot="DummyCompound_"+Be;Z.memberGroups[ot]=oe[Be];var ft=oe[Be][0].getParent(),Ye=new A(Z.graphManager);Ye.id=ot,Ye.paddingLeft=ft.paddingLeft||0,Ye.paddingRight=ft.paddingRight||0,Ye.paddingBottom=ft.paddingBottom||0,Ye.paddingTop=ft.paddingTop||0,Z.idToDummyNode[ot]=Ye;var _t=Z.getGraphManager().add(Z.newGraph(),Ye),Xe=ft.getChild();Xe.add(Ye);for(var Kt=0;Kt<oe[Be].length;Kt++){var Ht=oe[Be][Kt];Xe.remove(Ht),_t.add(Ht)}}})},te.prototype.clearCompounds=function(){var Z={},oe={};this.performDFSOnCompounds();for(var ie=0;ie<this.compoundOrder.length;ie++)oe[this.compoundOrder[ie].id]=this.compoundOrder[ie],Z[this.compoundOrder[ie].id]=[].concat(this.compoundOrder[ie].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[ie].getChild()),this.compoundOrder[ie].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(Z,oe)},te.prototype.clearZeroDegreeMembers=function(){var Z=this,oe=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(ie){var me=Z.idToDummyNode[ie];oe[ie]=Z.tileNodes(Z.memberGroups[ie],me.paddingLeft+me.paddingRight),me.rect.width=oe[ie].width,me.rect.height=oe[ie].height})},te.prototype.repopulateCompounds=function(){for(var Z=this.compoundOrder.length-1;Z>=0;Z--){var oe=this.compoundOrder[Z];this.adjustLocations(this.tiledMemberPack[oe.id],oe.rect.x,oe.rect.y,oe.paddingLeft,oe.paddingTop)}},te.prototype.repopulateZeroDegreeMembers=function(){var Z=this,oe=this.tiledZeroDegreePack;Object.keys(oe).forEach(function(ie){var me=Z.idToDummyNode[ie];Z.adjustLocations(oe[ie],me.rect.x,me.rect.y,me.paddingLeft,me.paddingTop)})},te.prototype.getToBeTiled=function(Z){var oe=Z.id;if(null!=this.toBeTiled[oe])return this.toBeTiled[oe];var ie=Z.getChild();if(null==ie)return this.toBeTiled[oe]=!1,!1;for(var me=ie.getNodes(),_e=0;_e<me.length;_e++){var Se=me[_e];if(this.getNodeDegree(Se)>0)return this.toBeTiled[oe]=!1,!1;if(null!=Se.getChild()){if(!this.getToBeTiled(Se))return this.toBeTiled[oe]=!1,!1}else this.toBeTiled[Se.id]=!1}return this.toBeTiled[oe]=!0,!0},te.prototype.getNodeDegree=function(Z){for(var ie=Z.getEdges(),me=0,_e=0;_e<ie.length;_e++){var Se=ie[_e];Se.getSource().id!==Se.getTarget().id&&(me+=1)}return me},te.prototype.getNodeDegreeWithChildren=function(Z){var oe=this.getNodeDegree(Z);if(null==Z.getChild())return oe;for(var ie=Z.getChild().getNodes(),me=0;me<ie.length;me++)oe+=this.getNodeDegreeWithChildren(ie[me]);return oe},te.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},te.prototype.fillCompexOrderByDFS=function(Z){for(var oe=0;oe<Z.length;oe++){var ie=Z[oe];null!=ie.getChild()&&this.fillCompexOrderByDFS(ie.getChild().getNodes()),this.getToBeTiled(ie)&&this.compoundOrder.push(ie)}},te.prototype.adjustLocations=function(Z,oe,ie,me,_e){ie+=_e;for(var Se=oe+=me,De=0;De<Z.rows.length;De++){var ze=Z.rows[De];oe=Se;for(var Be=0,ot=0;ot<ze.length;ot++){var ft=ze[ot];ft.rect.x=oe,ft.rect.y=ie,oe+=ft.rect.width+Z.horizontalPadding,ft.rect.height>Be&&(Be=ft.rect.height)}ie+=Be+Z.verticalPadding}},te.prototype.tileCompoundMembers=function(Z,oe){var ie=this;this.tiledMemberPack=[],Object.keys(Z).forEach(function(me){var _e=oe[me];ie.tiledMemberPack[me]=ie.tileNodes(Z[me],_e.paddingLeft+_e.paddingRight),_e.rect.width=ie.tiledMemberPack[me].width,_e.rect.height=ie.tiledMemberPack[me].height})},te.prototype.tileNodes=function(Z,oe){var _e={rows:[],rowWidth:[],rowHeight:[],width:0,height:oe,verticalPadding:L.TILING_PADDING_VERTICAL,horizontalPadding:L.TILING_PADDING_HORIZONTAL};Z.sort(function(ze,Be){return ze.rect.width*ze.rect.height>Be.rect.width*Be.rect.height?-1:ze.rect.width*ze.rect.height<Be.rect.width*Be.rect.height?1:0});for(var Se=0;Se<Z.length;Se++){var De=Z[Se];0==_e.rows.length?this.insertNodeToRow(_e,De,0,oe):this.canAddHorizontal(_e,De.rect.width,De.rect.height)?this.insertNodeToRow(_e,De,this.getShortestRowIndex(_e),oe):this.insertNodeToRow(_e,De,_e.rows.length,oe),this.shiftToLastRow(_e)}return _e},te.prototype.insertNodeToRow=function(Z,oe,ie,me){var _e=me;ie==Z.rows.length&&(Z.rows.push([]),Z.rowWidth.push(_e),Z.rowHeight.push(0));var De=Z.rowWidth[ie]+oe.rect.width;Z.rows[ie].length>0&&(De+=Z.horizontalPadding),Z.rowWidth[ie]=De,Z.width<De&&(Z.width=De);var ze=oe.rect.height;ie>0&&(ze+=Z.verticalPadding);var Be=0;ze>Z.rowHeight[ie]&&(Be=Z.rowHeight[ie],Z.rowHeight[ie]=ze,Be=Z.rowHeight[ie]-Be),Z.height+=Be,Z.rows[ie].push(oe)},te.prototype.getShortestRowIndex=function(Z){for(var oe=-1,ie=Number.MAX_VALUE,me=0;me<Z.rows.length;me++)Z.rowWidth[me]<ie&&(oe=me,ie=Z.rowWidth[me]);return oe},te.prototype.getLongestRowIndex=function(Z){for(var oe=-1,ie=Number.MIN_VALUE,me=0;me<Z.rows.length;me++)Z.rowWidth[me]>ie&&(oe=me,ie=Z.rowWidth[me]);return oe},te.prototype.canAddHorizontal=function(Z,oe,ie){var me=this.getShortestRowIndex(Z);if(me<0)return!0;var _e=Z.rowWidth[me];if(_e+Z.horizontalPadding+oe<=Z.width)return!0;var De,ze,Se=0;return Z.rowHeight[me]<ie&&me>0&&(Se=ie+Z.verticalPadding-Z.rowHeight[me]),De=Z.width-_e>=oe+Z.horizontalPadding?(Z.height+Se)/(_e+oe+Z.horizontalPadding):(Z.height+Se)/Z.width,Se=ie+Z.verticalPadding,(ze=Z.width<oe?(Z.height+Se)/oe:(Z.height+Se)/Z.width)<1&&(ze=1/ze),De<1&&(De=1/De),De<ze},te.prototype.shiftToLastRow=function(Z){var oe=this.getLongestRowIndex(Z),ie=Z.rowWidth.length-1,me=Z.rows[oe],_e=me[me.length-1],Se=_e.width+Z.horizontalPadding;if(Z.width-Z.rowWidth[ie]>Se&&oe!=ie){me.splice(-1,1),Z.rows[ie].push(_e),Z.rowWidth[oe]=Z.rowWidth[oe]-Se,Z.rowWidth[ie]=Z.rowWidth[ie]+Se,Z.width=Z.rowWidth[instance.getLongestRowIndex(Z)];for(var De=Number.MIN_VALUE,ze=0;ze<me.length;ze++)me[ze].height>De&&(De=me[ze].height);oe>0&&(De+=Z.verticalPadding);var Be=Z.rowHeight[oe]+Z.rowHeight[ie];Z.rowHeight[oe]=De,Z.rowHeight[ie]<_e.height+Z.verticalPadding&&(Z.rowHeight[ie]=_e.height+Z.verticalPadding),Z.height+=Z.rowHeight[oe]+Z.rowHeight[ie]-Be,this.shiftToLastRow(Z)}},te.prototype.tilingPreLayout=function(){L.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},te.prototype.tilingPostLayout=function(){L.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},te.prototype.reduceTrees=function(){for(var ie,Z=[],oe=!0;oe;){var me=this.graphManager.getAllNodes(),_e=[];oe=!1;for(var Se=0;Se<me.length;Se++)1==(ie=me[Se]).getEdges().length&&!ie.getEdges()[0].isInterGraph&&null==ie.getChild()&&(_e.push([ie,ie.getEdges()[0],ie.getOwner()]),oe=!0);if(1==oe){for(var De=[],ze=0;ze<_e.length;ze++)1==_e[ze][0].getEdges().length&&(De.push(_e[ze]),_e[ze][0].getOwner().remove(_e[ze][0]));Z.push(De),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=Z},te.prototype.growTree=function(Z){for(var me,ie=Z[Z.length-1],_e=0;_e<ie.length;_e++)this.findPlaceforPrunedNode(me=ie[_e]),me[2].add(me[0]),me[2].add(me[1],me[1].source,me[1].target);Z.splice(Z.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},te.prototype.findPlaceforPrunedNode=function(Z){var oe,ie,me=Z[0],_e=(ie=me==Z[1].source?Z[1].target:Z[1].source).startX,Se=ie.finishX,De=ie.startY,ze=ie.finishY,_t=[0,0,0,0];if(De>0)for(var Xe=_e;Xe<=Se;Xe++)_t[0]+=this.grid[Xe][De-1].length+this.grid[Xe][De].length-1;if(Se<this.grid.length-1)for(Xe=De;Xe<=ze;Xe++)_t[1]+=this.grid[Se+1][Xe].length+this.grid[Se][Xe].length-1;if(ze<this.grid[0].length-1)for(Xe=_e;Xe<=Se;Xe++)_t[2]+=this.grid[Xe][ze+1].length+this.grid[Xe][ze].length-1;if(_e>0)for(Xe=De;Xe<=ze;Xe++)_t[3]+=this.grid[_e-1][Xe].length+this.grid[_e][Xe].length-1;for(var Ht,Mt,Kt=ne.MAX_VALUE,mn=0;mn<_t.length;mn++)_t[mn]<Kt?(Kt=_t[mn],Ht=1,Mt=mn):_t[mn]==Kt&&Ht++;if(3==Ht&&0==Kt)0==_t[0]&&0==_t[1]&&0==_t[2]?oe=1:0==_t[0]&&0==_t[1]&&0==_t[3]?oe=0:0==_t[0]&&0==_t[2]&&0==_t[3]?oe=3:0==_t[1]&&0==_t[2]&&0==_t[3]&&(oe=2);else if(2==Ht&&0==Kt){var un=Math.floor(2*Math.random());oe=0==_t[0]&&0==_t[1]?0==un?0:1:0==_t[0]&&0==_t[2]?0==un?0:2:0==_t[0]&&0==_t[3]?0==un?0:3:0==_t[1]&&0==_t[2]?0==un?1:2:0==_t[1]&&0==_t[3]?0==un?1:3:0==un?2:3}else oe=4==Ht&&0==Kt?un=Math.floor(4*Math.random()):Mt;0==oe?me.setCenter(ie.getCenterX(),ie.getCenterY()-ie.getHeight()/2-B.DEFAULT_EDGE_LENGTH-me.getHeight()/2):1==oe?me.setCenter(ie.getCenterX()+ie.getWidth()/2+B.DEFAULT_EDGE_LENGTH+me.getWidth()/2,ie.getCenterY()):2==oe?me.setCenter(ie.getCenterX(),ie.getCenterY()+ie.getHeight()/2+B.DEFAULT_EDGE_LENGTH+me.getHeight()/2):me.setCenter(ie.getCenterX()-ie.getWidth()/2-B.DEFAULT_EDGE_LENGTH-me.getWidth()/2,ie.getCenterY())},k.exports=te},function(k,N,I){"use strict";var C={};C.layoutBase=I(0),C.CoSEConstants=I(1),C.CoSEEdge=I(2),C.CoSEGraph=I(3),C.CoSEGraphManager=I(4),C.CoSELayout=I(6),C.CoSENode=I(5),k.exports=C}]))},6827:function($,ae,D){var T,k;$.exports=(T=D(5886),k=D(1610),function(N){var I={};function C(S){if(I[S])return I[S].exports;var O=I[S]={i:S,l:!1,exports:{}};return N[S].call(O.exports,O,O.exports,C),O.l=!0,O.exports}return C.m=N,C.c=I,C.i=function(S){return S},C.d=function(S,O,A){C.o(S,O)||Object.defineProperty(S,O,{configurable:!1,enumerable:!0,get:A})},C.n=function(S){var O=S&&S.__esModule?function(){return S.default}:function(){return S};return C.d(O,"a",O),O},C.o=function(S,O){return Object.prototype.hasOwnProperty.call(S,O)},C.p="",C(C.s=15)}([function(N,I){N.exports=T},function(N,I,C){"use strict";var S=C(0).layoutBase.FDLayoutConstants;function O(){}for(var A in S)O[A]=S[A];O.DEFAULT_SPRING_STRENGTH=1.5*S.DEFAULT_SPRING_STRENGTH,O.DEFAULT_NODE_SEPARATION=S.DEFAULT_EDGE_LENGTH/4,O.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF=1.4,O.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE=!1,O.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=.1,O.DEFAULT_INNER_EDGE_LENGTH=S.DEFAULT_EDGE_LENGTH/3,O.MAX_ROTATION_ANGLE=Math.PI/36,O.MIN_ROTATION_ANGLE=-O.MAX_ROTATION_ANGLE,O.SWAP_HISTORY_CLEARANCE_PERIOD=6*(O.SWAP_PERIOD=(O.SWAP_IDLE_DURATION=45)+(O.SWAP_PREPERATION_DURATION=5)),O.MIN_DISPLACEMENT_FOR_SWAP=6,O.REVERSE_PERIOD=25,N.exports=O},function(N,I,C){"use strict";N.exports=null!=Object.assign?Object.assign.bind(Object):function(S){for(var O=arguments.length,A=Array(O>1?O-1:0),V=1;V<O;V++)A[V-1]=arguments[V];return A.forEach(function(L){Object.keys(L).forEach(function(B){return S[B]=L[B]})}),S}},function(N,I){N.exports=k},function(N,I,C){"use strict";N.exports=C(16)},function(N,I,C){"use strict";var S=C(0).layoutBase.LGraph,O=C(0).layoutBase.IGeometry,A=C(0).layoutBase.NeedlemanWunsch,V=C(14),L=C(1),B=C(8),H=C(9);function Y(ce,ne,le){S.call(this,ce,ne,le),this.intraClusterEdges=null,this.interClusterEdges=null,this.inNodes=[],this.outNodes=[],this.onCircleNodes=[],this.inCircleNodes=[],this.radius=0,this.orderMatrix=null,this.mayBeReversed=!0}for(var ee in Y.prototype=Object.create(S.prototype),S)Y[ee]=S[ee];Y.prototype.setRadius=function(ce){this.radius=ce},Y.prototype.getRadius=function(){return this.radius},Y.prototype.getInNodes=function(){return this.inNodes},Y.prototype.getOutNodes=function(){return this.outNodes},Y.prototype.getOnCircleNodes=function(){return this.onCircleNodes},Y.prototype.getInCircleNodes=function(){return this.inCircleNodes},Y.prototype.setMayNotBeReversed=function(){this.mayBeReversed=!1},Y.prototype.getMayBeReversed=function(){return this.mayBeReversed},Y.prototype.getChildAt=function(ce){return this.onCircleNodes[ce]},Y.prototype.getInterClusterEdges=function(){var ce=this;return null===this.interClusterEdges&&(this.interClusterEdges=[],this.outNodes.forEach(function(ne){for(var le=ne.getOnCircleNodeExt().getInterClusterEdges(),se=0;se<le.length;se++)ce.interClusterEdges.push(le[se])})),this.interClusterEdges},Y.prototype.getIntraClusterEdges=function(){var ce=this;return null===this.intraClusterEdges&&(this.intraClusterEdges=[],this.getEdges().forEach(function(le){le.isIntraEdge()&&ce.intraClusterEdges.push(le)})),this.intraClusterEdges},Y.prototype.calculateParentNodeDimension=function(){for(var ne=Number.MIN_SAFE_INTEGER,le=0;le<this.onCircleNodes.length;le++){var se=this.onCircleNodes[le];se.getWidth()>ne&&(ne=se.getWidth()),se.getHeight()>ne&&(ne=se.getHeight())}var he=2*(this.radius+this.margin)+ne,te=this.getParent();te.setHeight(he),te.setWidth(he)},Y.prototype.computeOrderMatrix=function(){var ce=this.onCircleNodes.length;this.orderMatrix=new Array(ce);for(var ne=0;ne<this.orderMatrix.length;ne++)this.orderMatrix[ne]=new Array(ce);for(var le=0;le<ce;le++)for(var se=0;se<ce;se++)if(se>le){var he=this.onCircleNodes[se].getOnCircleNodeExt().getAngle()-this.onCircleNodes[le].getOnCircleNodeExt().getAngle();he<0&&(he+=O.TWO_PI),he<=Math.PI?(this.orderMatrix[le][se]=!0,this.orderMatrix[se][le]=!1):(this.orderMatrix[le][se]=!1,this.orderMatrix[se][le]=!0)}},Y.prototype.rotate=function(){var ce=this.getParent(),ne=this.getOnCircleNodes().length,le=ce.rotationAmount/ne,se=this.getGraphManager().getLayout();if(0!==le){var he=le/this.radius;he>L.MAX_ROTATION_ANGLE?he=L.MAX_ROTATION_ANGLE:he<L.MIN_ROTATION_ANGLE&&(he=L.MIN_ROTATION_ANGLE);for(var te=0;te<ne;te++){var Z=this.getChildAt(te).getOnCircleNodeExt();Z.setAngle(Z.getAngle()+he),Z.updatePosition()}se.totalDisplacement+=ce.rotationAmount,ce.rotationAmount=0}},Y.prototype.getOrder=function(ce,ne){return this.orderMatrix[ce.getOnCircleNodeExt().getIndex()][ne.getOnCircleNodeExt().getIndex()]},Y.prototype.getThisEnd=function(ce){var ne=ce.getSource(),le=ce.getTarget();return ne.getOwner()===this?ne:le},Y.prototype.getOtherEnd=function(ce){var ne=ce.getSource(),le=ce.getTarget();return ne.getOwner()===this?le:ne},Y.prototype.decomposeForce=function(ce){var ne=void 0;if(0!==ce.displacementX||0!==ce.displacementY){var Se,le=this.getParent(),se=le.getCenterX(),he=le.getCenterY(),te=ce.getCenterX(),pe=ce.getCenterY(),Z=ce.displacementX,oe=ce.displacementY,ie=O.angleOfVector(se,he,te,pe),me=O.angleOfVector(0,0,Z,oe),_e=ie+Math.PI;Se=Math.PI<=_e&&_e<O.TWO_PI?ie<=me&&me<_e:!((_e-=O.TWO_PI)<=me&&me<ie);var De=Math.abs(ie-me),ze=Math.sqrt(Z*Z+oe*oe),Be=Math.abs(Math.sin(De)*ze);Se||(Be=-Be),ne=new V(Be,Z,oe)}else ne=new V(0,0,0);return ne},Y.prototype.swapNodes=function(ce,ne){var le=ce,se=ne,he=ce.getOnCircleNodeExt(),te=ne.getOnCircleNodeExt();if(le.getOnCircleNodeExt().getIndex()>ne.getOnCircleNodeExt().getIndex()&&(le=ne,se=ce),le.getOnCircleNodeExt().getPrevNode()===se){var pe=se;se=le,le=pe}var Z=le.getOnCircleNodeExt(),oe=se.getOnCircleNodeExt(),ie=Z.getPrevNode(),_e=this.getGraphManager().getLayout().getNodeSeparation(),Se=(ie.getOnCircleNodeExt().getAngle()+(ie.getHalfTheDiagonal()+se.getHalfTheDiagonal()+_e)/this.radius)%(2*Math.PI);oe.setAngle(Se),Se=(oe.getAngle()+(se.getHalfTheDiagonal()+le.getHalfTheDiagonal()+_e)/this.radius)%(2*Math.PI),Z.setAngle(Se),Z.updatePosition(),oe.updatePosition();var De=he.getIndex();he.setIndex(te.getIndex()),te.setIndex(De),this.getOnCircleNodes()[he.getIndex()]=ce,this.getOnCircleNodes()[te.getIndex()]=ne,he.updateSwappingConditions(),te.updateSwappingConditions(),he.getNextNode()===ne?(he.getPrevNode().getOnCircleNodeExt().updateSwappingConditions(),te.getNextNode().getOnCircleNodeExt().updateSwappingConditions()):(he.getNextNode().getOnCircleNodeExt().updateSwappingConditions(),te.getPrevNode().getOnCircleNodeExt().updateSwappingConditions())},Y.prototype.checkAndReverseIfReverseIsBetter=function(){for(var ce=this.getInterClusterEdges(),ne=new Array(ce.length),le=void 0,se=this.getParent().getCenter(),he=void 0,te=void 0,Z=void 0,oe=this.onCircleNodes.length,ie=new Array(oe),me=0;me<oe;me++)ie[me]=0;for(var _e=0,Se=0;Se<ce.length;Se++)Z=this.getOtherEnd(he=ce[Se]).getCenter(),le=O.angleOfVector(se.x,se.y,Z.x,Z.y),ne[Se]=new B(he,le),ie[(te=this.getThisEnd(he)).getOnCircleNodeExt().getIndex()]++,ie[te.getOnCircleNodeExt().getIndex()]>1&&_e++;for(var De=this.onCircleNodes,ze=oe+_e,Be=new Array(2*ze),ot=new Array(2*ze),ft=void 0,Ye=-1,_t=0;_t<oe;_t++){ft=De[_t],0===ie[_t]&&(ie[_t]=1);for(var Xe=0;Xe<ie[_t];Xe++)Be[++Ye]=Be[ze+Ye]=ot[ze-1-Ye]=ot[2*ze-1-Ye]=ft.getOnCircleNodeExt().getCharCode()}new H(this,ne);for(var Ht=new Array(ne.length),Mt=0;Mt<ne.length;Mt++)he=ne[Mt].getEdge(),te=this.getThisEnd(he),Ht[Mt]=te.getOnCircleNodeExt().getCharCode();var mn=this.computeAlignmentScore(Be,Ht);if(-1!==mn){var un=this.computeAlignmentScore(ot,Ht);if(-1!==un&&un>mn)return this.reverseNodes(),this.setMayNotBeReversed(),!0}return!1},Y.prototype.computeAlignmentScore=function(ce,ne){return new A(ce,ne,20,-1,-2).getScore()},Y.prototype.reverseNodes=function(){for(var ce=this.getOnCircleNodes(),ne=this.getOnCircleNodes().length,le=0;le<ne;le++){var he=ce[le].getOnCircleNodeExt();he.setIndex((ne-he.getIndex())%ne)}this.reCalculateNodeAnglesAndPositions()},Y.prototype.moveOnCircleNodeInside=function(ce){var ne=this.onCircleNodes.indexOf(ce);ne>-1&&this.onCircleNodes.splice(ne,1),this.inCircleNodes.push(ce);for(var le=0;le<this.onCircleNodes.length;le++)this.onCircleNodes[le].getOnCircleNodeExt().setIndex(le);ce.setAsNonOnCircleNode(),this.reCalculateCircleSizeAndRadius(),this.reCalculateNodeAnglesAndPositions(),ce.setCenter(this.getParent().getCenterX(),this.getParent().getCenterY())},Y.prototype.reCalculateCircleSizeAndRadius=function(){for(var ce=0,ne=this.getOnCircleNodes(),le=0;le<ne.length;le++){var se=ne[le],he=se.getWidth()*se.getWidth()+se.getHeight()*se.getHeight();ce+=Math.sqrt(he)}var pe=this.getGraphManager().getLayout().getNodeSeparation(),Z=ce+this.getOnCircleNodes().length*pe;this.radius=Z/(2*Math.PI),this.calculateParentNodeDimension()},Y.prototype.reCalculateNodeAnglesAndPositions=function(){var ne=this.getGraphManager().getLayout().getNodeSeparation(),le=this.onCircleNodes;le.sort(function(ie,me){return ie.getOnCircleNodeExt().getIndex()-me.getOnCircleNodeExt().getIndex()});for(var se=this.getParent().getCenterX(),he=this.getParent().getCenterY(),te=0;te<le.length;te++){var pe=le[te],Z=void 0;if(0===te)Z=0;else{var oe=le[te-1];Z=oe.getOnCircleNodeExt().getAngle()+(pe.getHalfTheDiagonal()+ne+oe.getHalfTheDiagonal())/this.radius}pe.getOnCircleNodeExt().setAngle(Z),pe.setCenter(se+this.radius*Math.cos(Z),he+this.radius*Math.sin(Z))}},N.exports=Y},function(N,I,C){"use strict";var S=C(0).layoutBase.FDLayoutEdge;function O(V,L,B){S.call(this,V,L,B),this.isIntraCluster=!0}for(var A in O.prototype=Object.create(S.prototype),S)O[A]=S[A];O.prototype.isIntraEdge=function(){return this.isIntraCluster},O.prototype.crossesWithEdge=function(V){var L=!1,B=this.getSource().getOnCircleNodeExt(),H=this.getTarget().getOnCircleNodeExt(),Y=V.getSource().getOnCircleNodeExt(),ee=V.getTarget().getOnCircleNodeExt(),ce=-1,ne=-1,le=-1,se=-1;if(null!==B&&(ce=B.getIndex()),null!==H&&(ne=H.getIndex()),null!==Y&&(le=Y.getIndex()),null!==ee&&(se=ee.getIndex()),this.isInterGraph||V.isInterGraph)L=!0;else if(this.source.getOwner()!==this.target.getOwner())L=!1;else{(-1===ce||-1===ne||-1===le||-1===se)&&(L=!1);var he=Y.getCircDistWithTheNode(B),te=ee.getCircDistWithTheNode(B),pe=H.getCircDistWithTheNode(B);pe<Math.max(he,te)&&pe>Math.min(he,te)&&0!==te&&0!==he&&(L=!0)}return L},O.prototype.calculateTotalCrossingWithList=function(V){for(var L=0,B=0;B<V.length;B++)L+=this.crossingWithEdge(V[B]);return L},O.prototype.crossingWithEdge=function(V){var B=0;return this.crossesWithEdge(V)&&(B=1),B},N.exports=O},function(N,I,C){"use strict";var S=C(0).layoutBase.LGraphManager;function O(V){S.call(this,V),this.onCircleNodes=[],this.inCircleNodes=[],this.nonOnCircleNodes=[]}for(var A in O.prototype=Object.create(S.prototype),S)O[A]=S[A];O.prototype.getOnCircleNodes=function(){return this.onCircleNodes},O.prototype.getInCircleNodes=function(){return this.inCircleNodes},O.prototype.getNonOnCircleNodes=function(){return this.nonOnCircleNodes},O.prototype.setOnCircleNodes=function(V){this.onCircleNodes=V},O.prototype.setInCircleNodes=function(V){this.inCircleNodes=V},O.prototype.setNonOnCircleNodes=function(V){this.nonOnCircleNodes=V},N.exports=O},function(N,I,C){"use strict";function S(O,A){this.edge=O,this.angle=A}(S.prototype=Object.create(null)).getEdge=function(){return this.edge},S.prototype.getAngle=function(){return this.angle},N.exports=S},function(N,I,C){"use strict";var S=function(){function V(L,B){for(var H=0;H<B.length;H++){var Y=B[H];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(L,Y.key,Y)}}return function(L,B,H){return B&&V(L.prototype,B),H&&V(L,H),L}}();var A=function(){function V(L,B){(function O(V,L){if(!(V instanceof L))throw new TypeError("Cannot call a class as a function")})(this,V),this.ownerCircle=L,this._quicksort(B,0,B.length-1)}return S(V,[{key:"compareFunction",value:function(B,H){return H.getAngle()>B.getAngle()||H.getAngle()===B.getAngle()&&B!==H&&this.ownerCircle.getOrder(this.ownerCircle.getThisEnd(B.getEdge()),this.ownerCircle.getThisEnd(H.getEdge()))}},{key:"_quicksort",value:function(B,H,Y){if(H<Y){var ee=this._partition(B,H,Y);this._quicksort(B,H,ee),this._quicksort(B,ee+1,Y)}}},{key:"_partition",value:function(B,H,Y){for(var ee=this._get(B,H),ce=H,ne=Y;;){for(;this.compareFunction(ee,this._get(B,ne));)ne--;for(;this.compareFunction(this._get(B,ce),ee);)ce++;if(!(ce<ne))return ne;this._swap(B,ce,ne),ce++,ne--}}},{key:"_get",value:function(B,H){return B[H]}},{key:"_set",value:function(B,H,Y){B[H]=Y}},{key:"_swap",value:function(B,H,Y){var ee=this._get(B,H);this._set(B,H,this._get(B,Y)),this._set(B,Y,ee)}}]),V}();N.exports=A},function(N,I,C){"use strict";var S=C(0).layoutBase.FDLayout,O=C(0).layoutBase.HashMap,A=C(0).layoutBase.PointD,V=C(0).layoutBase.DimensionD,L=C(0).AVSDFConstants,B=C(0).AVSDFLayout,H=C(3).CoSELayout,ee=(C(3),C(1)),ce=C(7),ne=C(5),le=C(11),se=C(6),he=C(13);function te(){S.call(this),this.incremental=ee.INCREMENTAL,this.nodeSeparation=ee.DEFAULT_NODE_SEPARATION,this.idealInterClusterEdgeLengthCoefficient=ee.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF,this.allowNodesInsideCircle=ee.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE,this.maxRatioOfNodesInsideCircle=ee.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE,this.step=te.STEP_NOT_STARTED,this.phase=te.PHASE_NOT_STARTED,this.swappedPairsInLastIteration=[],this.iterations=0,this.oldTotalDisplacement=0,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/ee.CONVERGENCE_CHECK_PERIOD}for(var pe in te.prototype=Object.create(S.prototype),S)te[pe]=S[pe];te.STEP_NOT_STARTED=0,te.STEP_1=1,te.STEP_2=2,te.STEP_3=3,te.STEP_4=4,te.STEP_5=5,te.PHASE_NOT_STARTED=0,te.PHASE_SWAP_PREPERATION=1,te.PHASE_PERFORM_SWAP=2,te.PHASE_OTHER=3,te.prototype.newGraphManager=function(){return this.graphManager=new ce(this),this.graphManager},te.prototype.newCircleLGraph=function(Z){return new ne(null,this.graphManager,Z)},te.prototype.newNode=function(Z,oe){return new le(this.graphManager,Z,oe,null)},te.prototype.newCiSEOnCircleNode=function(Z,oe){var ie=this.newNode(Z,oe);return ie.setAsOnCircleNode(),ie},te.prototype.newEdge=function(Z,oe,ie){return new se(Z,oe,ie)},te.prototype.getNodeSeparation=function(){return this.nodeSeparation},te.prototype.convertToClusteredGraph=function(Z,oe,ie){for(var me=this,_e=this,Se={},De=this.graphManager.getRoot(),ze=new O,Be=0;Be<Z.length;Be++)ze.put(Z[Be].data("id"),Z[Be]);if("function"==typeof ie){for(var ot=[],ft=[],Ye=0;Ye<Z.length;Ye++){var _t=ie(Z[Ye]);if(_t>0&&null!=_t){var Xe=ot.indexOf(_t);Xe>-1?ft[Xe].push(Z[Ye].data("id")):(ot.push(_t),ft.push([Z[Ye].data("id")]))}}ie=ft}for(var Kt=function(Yr){if(0===ie[Yr].length)return"continue";var dn=me.newNode(null);dn.setClusterId(Yr),De.add(dn);var Ni=me.newCircleLGraph(null);me.graphManager.add(Ni,dn),Ni.margin=Ni.margin+15,ie[Yr].forEach(function(ro){var Pi=ze.get(ro),Li=Pi.layoutDimensions({nodeDimensionsIncludeLabels:!1}),Gr=_e.newCiSEOnCircleNode(new A(Pi.position("x")-Li.w/2,Pi.position("y")-Li.h/2),new V(parseFloat(Li.w),parseFloat(Li.h)));Gr.setId(ro),Gr.setClusterId(Yr),Ni.getOnCircleNodes().push(Gr),Ni.add(Gr),Ni.getInNodes().push(Gr),Se[Gr.getId()]=Gr})},Ht=0;Ht<ie.length;Ht++)Kt(Ht);for(var mn=function(Yr){var dn=!1;if(ie.forEach(function(Li){Li.includes(Z[Yr].data("id"))&&(dn=!0)}),!dn){var Ni=Z[Yr],ro=Ni.layoutDimensions({nodeDimensionsIncludeLabels:!1}),Pi=me.newNode(new A(Ni.position("x")-ro.w/2,Ni.position("y")-ro.h/2),new V(parseFloat(ro.w),parseFloat(ro.h)));Pi.setClusterId(-1),Pi.setId(Z[Yr].data("id")),De.add(Pi),Se[Pi.getId()]=Pi}},un=0;un<Z.length;un++)mn(un);for(var lt=0;lt<oe.length;lt++){var tt=oe[lt],ht=Se[tt.data("source")],Ft=Se[tt.data("target")],Dt=ht.getClusterId(),Xn=Ft.getClusterId();if(ht!==Ft){var Jn=_e.newEdge(ht,Ft,null);Dt===Xn&&-1!==Dt&&-1!==Xn?(Jn.isIntraCluster=!0,Jn.getSource().getOwner().add(Jn,Jn.getSource(),Jn.getTarget())):(Jn.isIntraCluster=!1,this.graphManager.add(Jn,Jn.getSource(),Jn.getTarget()))}}for(var Dr=[],Rr=[],_r=this.graphManager.getAllNodes(),wn=0;wn<_r.length;wn++)_r[wn].getOnCircleNodeExt()?Dr.push(_r[wn]):Rr.push(_r[wn]);return this.graphManager.setOnCircleNodes(Dr),this.graphManager.setNonOnCircleNodes(Rr),this.graphManager.edges.forEach(function(Vn){var Yr=Vn.getSource(),dn=Vn.getTarget(),Ni=Yr.getClusterId(),ro=dn.getClusterId();if(-1!==Ni){var Pi=Yr.getOwner(),Li=Pi.getInNodes().indexOf(Yr);Li>-1&&(Pi.getInNodes().splice(Li,1),Pi.getOutNodes().push(Yr))}if(-1!==ro){var Gr=dn.getOwner(),Xi=Gr.getInNodes().indexOf(dn);Xi>-1&&(Gr.getInNodes().splice(Xi,1),Gr.getOutNodes().push(dn))}}),Se},te.prototype.doStep1=function(){this.step=te.STEP_1,this.phase=te.PHASE_OTHER;for(var Z=new O,oe=this.graphManager.getGraphs(),ie=0;ie<oe.length;ie++){var me=oe[ie];if(me instanceof ne){L.DEFAULT_NODE_SEPARATION=this.nodeSeparation;for(var _e=new B,Se=_e.graphManager.addRoot(),De=me.getOnCircleNodes(),ze=0;ze<De.length;ze++){var Be=De[ze],ot=_e.newNode(null),ft=Be.getLocation();ot.setLocation(ft.x,ft.y),ot.setWidth(Be.getWidth()),ot.setHeight(Be.getHeight()),Se.add(ot),Z.put(Be,ot)}for(var Ye=this.getAllEdges(),_t=0;_t<Ye.length;_t++){var Xe=Ye[_t];if(De.includes(Xe.getSource())&&De.includes(Xe.getTarget())){var Kt=Z.get(Xe.getSource()),Ht=Z.get(Xe.getTarget()),Mt=_e.newEdge("");Se.add(Mt,Kt,Ht)}}_e.layout();for(var mn=_e.initPostProcess(),un=0;un<mn.length;un++)_e.oneStepPostProcess(mn[un]);_e.updateNodeAngles(),_e.updateNodeCoordinates();for(var lt=0;lt<De.length;lt++){var tt=De[lt],ht=Z.get(tt),Ft=ht.getLocation();tt.setLocation(Ft.x,Ft.y),tt.getOnCircleNodeExt().setIndex(ht.getIndex()),tt.getOnCircleNodeExt().setAngle(ht.getAngle())}if(De.sort(function(Jn,Dr){return Jn.getOnCircleNodeExt().getIndex()-Dr.getOnCircleNodeExt().getIndex()}),Se.getNodes().length>0){var Dt=me.getParent(),Xn=Se.getParent();Dt.setLocation(Xn.getLocation().x,Xn.getLocation().y),me.setRadius(Se.getRadius()),me.calculateParentNodeDimension()}}}},te.prototype.doStep2=function(){this.step=te.STEP_2,this.phase=te.PHASE_OTHER;var Z=[],oe=[],ie=new O,me=new O,_e=new H;_e.isSubLayout=!1,_e.useMultiLevelScaling=!1,_e.useFRGridVariant=!0,_e.springConstant*=1.5;for(var De=_e.newGraphManager().addRoot(),ze=this.graphManager.getNonOnCircleNodes(),Be=0;Be<ze.length;Be++){var ot=ze[Be],ft=_e.newNode(null),Ye=ot.getLocation();ft.setLocation(Ye.x,Ye.y),ft.setWidth(ot.getWidth()),ft.setHeight(ot.getHeight()),null!=ot.getChild()&&(ft.setWidth(1.2*ft.getWidth()),ft.setHeight(1.2*ft.getHeight())),ft.id=Be,De.add(ft),Z.push(ft),ie.put(ot,ft)}for(var _t=new Array(Z.length),Xe=0;Xe<_t.length;Xe++)_t[Xe]=new Array(Z.length);for(var Kt=this.graphManager.getAllEdges(),Ht=0;Ht<Kt.length;Ht++){var Mt=Kt[Ht],mn=Mt.getSource(),un=Mt.getTarget();null!=mn.getOnCircleNodeExt()&&(mn=Mt.getSource().getOwner().getParent()),null!=un.getOnCircleNodeExt()&&(un=Mt.getTarget().getOwner().getParent());var lt=ie.get(mn),tt=ie.get(un),ht=Z.indexOf(lt),Ft=Z.indexOf(tt),Dt=void 0;ht!==Ft&&(null==_t[ht][Ft]&&null==_t[Ft][ht]?(Dt=_e.newEdge(null),De.add(Dt,lt,tt),oe.push(Dt),me.put(Dt,[]),_t[ht][Ft]=Dt,_t[Ft][ht]=Dt):Dt=_t[ht][Ft],me.get(Dt).push(Mt))}_e.runLayout();for(var Xn=0;Xn<ze.length;Xn++){var Jn=ze[Xn],Rr=ie.get(Jn).getLocation();Jn.setLocation(Rr.x,Rr.y)}for(var _r=this.graphManager.getOnCircleNodes(),wn=0;wn<_r.length;wn++){var Vn=_r[wn],Yr=Vn.getLocation(),dn=Vn.getOwner().getParent().getLocation();Vn.setLocation(Yr.x+dn.x,Yr.y+dn.y)}},te.prototype.step3Init=function(){this.step=te.STEP_3,this.phase=te.PHASE_OTHER,this.initSpringEmbedder(),this.coolingCycle=0},te.prototype.step4Init=function(){this.step=te.STEP_4,this.phase=te.PHASE_OTHER,this.initSpringEmbedder();for(var Z=0;Z<this.graphManager.getOnCircleNodes().length;Z++)this.graphManager.getOnCircleNodes()[Z].getOnCircleNodeExt().updateSwappingConditions();this.coolingCycle=0},te.prototype.step5Init=function(){this.step=te.STEP_5,this.phase=te.PHASE_OTHER,this.initSpringEmbedder(),this.coolingCycle=0},te.prototype.runSpringEmbedderTick=function(){if(this.iterations++,this.totalIterations=this.iterations,this.iterations%ee.CONVERGENCE_CHECK_PERIOD==0){if((this.step!==te.STEP_4||this.iterations>this.maxIterations/4)&&this.isConverged())return!0;this.coolingFactor=this.initialCoolingFactor*((this.maxIterations-this.iterations)/this.maxIterations)}if(this.totalDisplacement=0,this.step===te.STEP_3)this.iterations%ee.REVERSE_PERIOD==0&&this.checkAndReverseIfReverseIsBetter();else if(this.step===te.STEP_4){this.iterations%ee.SWAP_HISTORY_CLEARANCE_PERIOD==0&&(this.swappedPairsInLastIteration=[]);var oe=this.iterations%ee.SWAP_PERIOD;this.phase=oe>=ee.SWAP_IDLE_DURATION?te.PHASE_SWAP_PREPERATION:0===oe?te.PHASE_PERFORM_SWAP:te.PHASE_OTHER}return this.calcSpringForces(),this.calcRepulsionForces(),this.calcGravitationalForces(),this.calcTotalForces(),this.moveNodes(),this.iterations>=this.maxIterations},te.prototype.prepareCirclesForReversal=function(){this.graphManager.getRoot().getNodes().forEach(function(oe){var ie=oe.getChild();null!=ie&&(ie.getInterClusterEdges().length<2&&ie.setMayNotBeReversed(),ie.computeOrderMatrix())})},te.prototype.calcIdealEdgeLengths=function(Z){for(var oe=this.graphManager.getAllEdges(),ie=0;ie<oe.length;ie++){oe[ie].idealLength=Z?1.5*this.idealEdgeLength*this.idealInterClusterEdgeLengthCoefficient:this.idealEdgeLength*this.idealInterClusterEdgeLengthCoefficient}for(var _e=this.graphManager.getInCircleNodes(),Se=0;Se<_e.length;Se++)_e[Se].getEdges().forEach(function(ze){ze.idealLength=ee.DEFAULT_INNER_EDGE_LENGTH})},te.prototype.calcSpringForces=function(){for(var Z=this.graphManager.getAllEdges(),oe=0;oe<Z.length;oe++){var ie=Z[oe],me=ie.getSource(),_e=ie.getTarget();ie.isIntraCluster&&null!=me.getOnCircleNodeExt()&&null!=_e.getOnCircleNodeExt()||this.calcSpringForce(ie,ie.idealLength)}},te.prototype.calcRepulsionForces=function(){for(var Z=this.graphManager.getNonOnCircleNodes(),oe=0;oe<Z.length;oe++)for(var ie=Z[oe],me=oe+1;me<Z.length;me++)this.calcRepulsionForce(ie,Z[me]);for(var Se=this.graphManager.getInCircleNodes(),De=0;De<Se.length;De++)for(var ze=Se[De],ot=ze.getOwner().getNodes(),ft=0;ft<ot.length;ft++){var Ye=ot[ft];Ye!==ze&&this.calcRepulsionForce(ze,Ye)}},te.prototype.calcGravitationalForces=function(){if(!this.graphManager.rootGraph.isConnected)for(var Z=this.graphManager.getNonOnCircleNodes(),oe=0;oe<Z.length;oe++)this.calcGravitationalForce(Z[oe]);for(var me=this.graphManager.getInCircleNodes(),_e=0;_e<me.length;_e++)this.calcGravitationalForce(me[_e])},te.prototype.calcTotalForces=function(){for(var Z=this.graphManager.getAllNodes(),oe=0;oe<Z.length;oe++){var ie=Z[oe];ie.displacementX=this.coolingFactor*(ie.springForceX+ie.repulsionForceX+ie.gravitationForceX),ie.displacementY=this.coolingFactor*(ie.springForceY+ie.repulsionForceY+ie.gravitationForceY),ie.rotationAmount=0,ie.springForceX=0,ie.springForceY=0,ie.repulsionForceX=0,ie.repulsionForceY=0,ie.gravitationForceX=0,ie.gravitationForceY=0}for(var me=this.graphManager.getOnCircleNodes(),_e=0;_e<me.length;_e++){var Se=me[_e],De=Se.getOwner().getParent(),ze=Se.getOwner().decomposeForce(Se);this.phase===te.PHASE_SWAP_PREPERATION&&Se.getOnCircleNodeExt().addDisplacementForSwap(ze.getRotationAmount()),De.displacementX+=ze.getDisplacementX(),De.displacementY+=ze.getDisplacementY(),Se.displacementX=0,Se.displacementY=0,De.rotationAmount+=ze.getRotationAmount(),Se.rotationAmount=0}},te.prototype.moveNodes=function(){if(this.phase!==te.PHASE_PERFORM_SWAP){for(var Z=this.graphManager.getNonOnCircleNodes(),oe=0;oe<Z.length;oe++)Z[oe].move(),null!==Z[oe].getChild()&&void 0!==Z[oe].getChild()&&Z[oe].getChild().rotate();for(var ie=this.graphManager.getInCircleNodes(),me=void 0,_e=0;_e<ie.length;_e++)(me=ie[_e]).displacementX/=20,me.displacementY/=20,me.move()}else{for(var Se=this.graphManager.getOnCircleNodes(),De=Se.length,ze=[],Be=[],ot=[],ft=[],Ye=void 0,_t=void 0,Xe=void 0,Kt=void 0,Ht=void 0,Mt=void 0,mn=void 0,lt=0;lt<De;lt++)if(_t=(Ye=Se[lt]).getOnCircleNodeExt().getNextNode(),Xe=Ye.getOnCircleNodeExt(),Kt=_t.getOnCircleNodeExt(),Xe.canSwapWithNext&&Kt.canSwapWithPrev&&!((mn=(Ht=Xe.getDisplacementForSwap())-(Mt=Kt.getDisplacementForSwap()))<0)){var tt=new he(Ye,_t,mn,Ht>0&&Mt>0||Ht<0&&Mt<0);0===Ht||0===Mt?Be.push(tt):ze.push(tt)}var ht=void 0,Ft=!0,Dt=void 0;for(ze.sort(function(Yr,dn){return Yr.getDiscrepancy()-dn.getDiscrepancy()});Ft&&ze.length>0;)if(Ye=(ht=ze[ze.length-1]).getFirstNode(),_t=ht.getSecondNode(),Xe=Ye.getOnCircleNodeExt(),Kt=_t.getOnCircleNodeExt(),this.isSwappedPreviously(ht))ze.pop(),ft.push(ht);else{var Xn=Xe.getInterClusterIntersections(Kt);ht.swap(),Dt=!1;var Jn=Xe.getInterClusterIntersections(Kt);!(Dt=Jn>Xn)&&Jn===Xn&&(Dt=ht.inSameDirection()||ht.getDiscrepancy()<ee.MIN_DISPLACEMENT_FOR_SWAP),Dt?(ht.swap(),ze.pop()):(ot.push(ht.getFirstNode()),ot.push(ht.getSecondNode()),ft.push(ht),Ft=!1)}for(var Dr=0;Dr<Be.length;Dr++){var Rr=Be[Dr];Rr.inSameDirection()||Rr.getDiscrepancy()<ee.MIN_DISPLACEMENT_FOR_SWAP||ot.includes(Rr.getFirstNode())||ot.includes(Rr.getSecondNode())||(this.isSwappedPreviously(Rr)||(Rr.swap(),ot.push(Rr.getFirstNode()),ot.push(Rr.getSecondNode())),ft.push(Rr))}this.swappedPairsInLastIteration=[];for(var _r=0;_r<ft.length;_r++)this.swappedPairsInLastIteration.push(ft[_r]);for(var Vn=0;Vn<De;Vn++)Se[Vn].getOnCircleNodeExt().setDisplacementForSwap(0)}},te.prototype.isSwappedPreviously=function(Z){for(var oe=0;oe<this.swappedPairsInLastIteration.length;oe++){var ie=this.swappedPairsInLastIteration[oe];if(ie.getFirstNode()===Z.getFirstNode()&&ie.getSecondNode()===Z.getSecondNode()||ie.getSecondNode()===Z.getFirstNode()&&ie.getFirstNode()===Z.getSecondNode())return!0}return!1},te.prototype.checkAndReverseIfReverseIsBetter=function(){for(var oe=this.getGraphManager().getRoot().getNodes(),me=void 0,_e=0;_e<oe.length;_e++)if(null!=(me=oe[_e].getChild())&&me.getMayBeReversed()&&me.getNodes().length<=52&&me.checkAndReverseIfReverseIsBetter())return!0;return!1},te.prototype.findAndMoveInnerNodes=function(){if(this.allowNodesInsideCircle)for(var Z=this.graphManager.getGraphs(),oe=0;oe<Z.length;oe++){var ie=Z[oe],me=0;if(ie!==this.getGraphManager().getRoot())for(var _e=ie.getNodes().length*this.maxRatioOfNodesInsideCircle,Se=this.findInnerNode(ie);null!=Se&&me<_e;)this.moveInnerNode(Se),++me<_e&&(Se=this.findInnerNode(ie))}},te.prototype.findInnerNode=function(Z){var oe=null,ie=Z.getOnCircleNodes().length,me=Z.getOnCircleNodes();me.sort(function(Mt,mn){return Mt.getEdges().length-mn.getEdges().length});for(var _e=ie-1;_e>=0&&null==oe;_e--){var Se=me[_e];if(0===Se.getOnCircleNodeExt().getInterClusterEdges().length){var De=this.findMinimalSpanningSegment(Se);if(0!==De.length){for(var ze=!1,Be=0;Be<De.length;Be++){var ot=De[Be];if(ze)break;for(var ft=ot.getNeighborsList(),Ye=0;Ye<ft.length;Ye++){var _t=ft[Ye];if(_t!==Se&&_t.getOwner()===Z&&null!=_t.getOnCircleNodeExt()&&null!=_t.getOnCircleNodeExt()){var Xe=ot.getOnCircleNodeExt().getIndex(),Kt=_t.getOnCircleNodeExt().getIndex(),Ht=Xe-Kt;if(Ht+=ie,(Ht%=ie)>1&&(Ht=Kt-Xe,Ht+=ie,Ht%=ie),Ht>1){ze=!0;break}}}}ze||(oe=Se)}}}return oe},te.prototype.moveInnerNode=function(Z){Z.getOwner().moveOnCircleNodeInside(Z);var ie=this.graphManager.getOnCircleNodes(),me=ie.indexOf(Z);me>-1&&ie.splice(me,1),this.graphManager.inCircleNodes.push(Z)},te.prototype.findMinimalSpanningSegment=function(Z){var oe=[],ie=Z.getOnCircleNeighbors();if(0===ie.length)return oe;ie.sort(function(mn,un){return mn.getOnCircleNodeExt().getIndex()-un.getOnCircleNodeExt().getIndex()});var me=Z.getOwner().getOnCircleNodes();me.sort(function(mn,un){return mn.getOnCircleNodeExt().getIndex()-un.getOnCircleNodeExt().getIndex()});var _e=null,Se=null,De=me.length,ze=me.length,Be=ie.length,ot=void 0,Ye=void 0,_t=void 0,Xe=void 0;for(ot=0;ot<Be;ot++)Ye=ie[ot],(Xe=((_t=ie[(ot-1+Be)%Be]).getOnCircleNodeExt().getIndex()-Ye.getOnCircleNodeExt().getIndex()+ze)%ze+1)<De&&(_e=Ye,Se=_t,De=Xe);for(var Kt=!1,Ht=_e;!Kt;)if(Ht!==Z&&oe.push(Ht),Ht===Se)Kt=!0;else{var Mt=Ht.getOnCircleNodeExt().getIndex()+1;Mt===me.length&&(Mt=0),Ht=me[Mt]}return oe},N.exports=te},function(N,I,C){"use strict";var S=C(0).layoutBase.FDLayoutNode,O=C(0).layoutBase.IMath,A=C(1),V=C(12);function L(H,Y,ee,ce){S.call(this,H,Y,ee,ce),this.rotationAmount=null,this.onCircleNodeExt=null,this.clusterID=null,this.ID=null}for(var B in L.prototype=Object.create(S.prototype),S)L[B]=S[B];L.prototype.setClusterId=function(H){this.clusterID=H},L.prototype.getClusterId=function(){return this.clusterID},L.prototype.setId=function(H){this.ID=H},L.prototype.getId=function(){return this.ID},L.prototype.setAsOnCircleNode=function(){return this.onCircleNodeExt=new V(this),this.onCircleNodeExt},L.prototype.setAsNonOnCircleNode=function(){this.onCircleNodeExt=null},L.prototype.getOnCircleNodeExt=function(){return this.onCircleNodeExt},L.prototype.getLimitedDisplacement=function(H){return Math.abs(H)>A.MAX_NODE_DISPLACEMENT&&(H=A.MAX_NODE_DISPLACEMENT*O.sign(H)),H},L.prototype.getOnCircleNeighbors=function(){for(var H=Array.from(this.getNeighborsList()),Y=[],ee=0;ee<H.length;ee++){var ce=H[ee];null!==ce.getOnCircleNodeExt()&&ce.getClusterId()===this.getClusterId()&&Y.push(ce)}return Y},L.prototype.getNoOfChildren=function(){return null===this.getChild()||void 0===this.getChild()?1:this.getChild().getNodes().length},L.prototype.move=function(){var H=this.getOwner().getGraphManager().getLayout();if(this.displacementX=this.getLimitedDisplacement(this.displacementX),this.displacementY=this.getLimitedDisplacement(this.displacementY),null!==this.getChild()&&void 0!==this.getChild()){var Y=this.getChild().getNodes().length;this.displacementX/=Y,this.displacementY/=Y;for(var ee=this.getChild().getNodes(),ce=0;ce<ee.length;ce++)ee[ce].moveBy(this.displacementX,this.displacementY),H.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)}this.moveBy(this.displacementX,this.displacementY),H.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),null!==this.getChild()&&void 0!==this.getChild()&&this.getChild().updateBounds(!0)},L.prototype.reset=function(){this.displacementX=0,this.displacementY=0},N.exports=L},function(N,I,C){"use strict";var S=C(0).layoutBase.IGeometry;function O(A){this.ciseNode=A,this.intraClusterEdges=null,this.interClusterEdges=null,this.angle=-1,this.orderIndex=-1,this.canSwapWithNext=null,this.canSwapWithPrevious=null,this.displacementForSwap=null}(O.prototype=Object.create(null)).getCiseNode=function(){return this.ciseNode},O.prototype.getAngle=function(){return this.angle},O.prototype.setAngle=function(A){this.angle=A%S.TWO_PI,this.angle<0&&(this.angle+=S.TWO_PI)},O.prototype.getIndex=function(){return this.orderIndex},O.prototype.setIndex=function(A){this.orderIndex=A},O.prototype.getCharCode=function(){return this.orderIndex<26?String.fromCharCode(97+this.orderIndex):this.orderIndex<52?String.fromCharCode(65+this.orderIndex):"?"},O.prototype.getNextNode=function(){var A=this.ciseNode.getOwner(),V=A.getOnCircleNodes().length,L=this.orderIndex+1;return L===V&&(L=0),A.getOnCircleNodes()[L]},O.prototype.getPrevNode=function(){var A=this.ciseNode.getOwner(),V=this.orderIndex-1;return-1===V&&(V=A.getOnCircleNodes().length-1),A.getOnCircleNodes()[V]},O.prototype.getNextNodeExt=function(){return this.getNextNode().getOnCircleNodeExt()},O.prototype.prevNextNodeExt=function(){return this.getPrevNode().getOnCircleNodeExt()},O.prototype.canSwapWithNext=function(){return this.canSwapWithNext},O.prototype.canSwapWithPrev=function(){return this.canSwapWithPrev},O.prototype.getDisplacementForSwap=function(){return this.displacementForSwap},O.prototype.setDisplacementForSwap=function(A){this.displacementForSwap=A},O.prototype.addDisplacementForSwap=function(A){this.displacementForSwap=A},O.prototype.updatePosition=function(){var A=this.ciseNode.getOwner(),V=A.getParent(),L=V.getCenterX(),B=V.getCenterY(),H=A.getRadius()*Math.cos(this.angle),Y=A.getRadius()*Math.sin(this.angle);this.ciseNode.setCenter(L+H,B+Y)},O.prototype.getCircDistWithTheNode=function(A){var V=A.getIndex();if(-1===V||-1===this.getIndex())return-1;var L=this.getIndex()-V;return L<0&&(L+=this.ciseNode.getOwner().getOnCircleNodes().length),L},O.prototype.calculateTotalCrossing=function(){var A=this.getIntraClusterEdges(),V=0,L=[];return this.ciseNode.getOwner().getIntraClusterEdges().forEach(function(B){L.push(B)}),this.ciseNode.getEdges().forEach(function(B){var H=L.indexOf(B);H>-1&&L.splice(H,1)}),A.forEach(function(B){V+=B.calculateTotalCrossingWithList(L)}),V},O.prototype.updateSwappingConditions=function(){var A=this.calculateTotalCrossing(),V=this.orderIndex,L=this.getNextNode().getOnCircleNodeExt();this.orderIndex=L.getIndex(),L.setIndex(V);var B=this.calculateTotalCrossing();this.canSwapWithNext=B<=A,L.setIndex(this.orderIndex),this.setIndex(V);var H=this.getPrevNode().getOnCircleNodeExt();this.orderIndex=H.getIndex(),H.setIndex(V),B=this.calculateTotalCrossing(),this.canSwapWithPrevious=B<=A,H.setIndex(this.orderIndex),this.setIndex(V)},O.prototype.swapWith=function(A){this.ciseNode.getOwner().swapNodes(this.ciseNode,A.ciseNode)},O.prototype.getInterClusterIntersections=function(A){for(var V=0,L=this.getInterClusterEdges(),B=A.getInterClusterEdges(),H=0;H<L.length;H++)for(var Y=L[H],ee=this.ciseNode.getCenter(),ce=Y.getOtherEnd(this.ciseNode).getCenter(),ne=0;ne<B.length;ne++){var le=B[ne],se=A.ciseNode.getCenter(),he=le.getOtherEnd(A.ciseNode).getCenter();Y.getOtherEnd(this.ciseNode)!==le.getOtherEnd(A.ciseNode)&&S.doIntersect(ee,ce,se,he)&&V++}return V},O.prototype.getInterClusterEdges=function(){if(null===this.interClusterEdges){this.interClusterEdges=[];for(var A=this.ciseNode.getEdges(),V=0;V<A.length;V++){var L=A[V];L.isIntraCluster||this.interClusterEdges.push(L)}}return this.interClusterEdges},O.prototype.getIntraClusterEdges=function(){if(null===this.intraClusterEdges){this.intraClusterEdges=[];for(var A=this.ciseNode.getEdges(),V=0;V<A.length;V++){var L=A[V];L.isIntraCluster&&this.intraClusterEdges.push(L)}}return this.intraClusterEdges},N.exports=O},function(N,I,C){"use strict";function S(O,A,V,L){this.firstNode=O,this.secondNode=A,this.discrepancy=V,this.inSameDir=L}(S.prototype=Object.create).getDiscrepancy=function(){return this.discrepancy},S.prototype.inSameDirection=function(){return this.inSameDir},S.prototype.getFirstNode=function(){return this.firstNode},S.prototype.getSecondNode=function(){return this.secondNode},S.prototype.compareTo=function(O){return this.getDiscrepancy()-O.getDiscrepancy()},S.prototype.swap=function(){this.getFirstNode().getOnCircleNodeExt().swapWith(this.getSecondNode().getOnCircleNodeExt())},S.prototype.equals=function(O){var A=O instanceof S;if(A){var V=O;A&=this.firstNode.equals(V.getFirstNode())&&this.secondNode.equals(V.getSecondNode())||this.secondNode.equals(V.getFirstNode())&&this.firstNode.equals(V.getSecondNode())}return A},S.prototype.hashCode=function(){return this.firstNode.hashCode()+this.secondNode.hashCode()},S.prototype.toString=function(){var O="Swap: "+this.getFirstNode().label;return(O+="<->"+this.getSecondNode().label)+", "+this.getDiscrepancy()},N.exports=S},function(N,I,C){"use strict";function S(O,A,V){this.rotationAmount=O,this.displacementX=A,this.displacementY=V}S.prototype.getRotationAmount=function(){return this.rotationAmount},S.prototype.setRotationAmount=function(O){this.rotationAmount=O},S.prototype.getDisplacementX=function(){return this.displacementX},S.prototype.setDisplacementX=function(O){this.displacementX=O},S.prototype.getDisplacementY=function(){return this.displacementY},S.prototype.setDisplacementY=function(O){this.displacementY=O},N.exports=S},function(N,I,C){"use strict";var S=C(4),O=function(V){V&&V("layout","cise",S)};typeof cytoscape<"u"&&O(cytoscape),N.exports=O},function(N,I,C){"use strict";var S=function(){function te(pe,Z){for(var oe=0;oe<Z.length;oe++){var ie=Z[oe];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(pe,ie.key,ie)}}return function(pe,Z,oe){return Z&&te(pe.prototype,Z),oe&&te(pe,oe),pe}}(),O=function te(pe,Z,oe){null===pe&&(pe=Function.prototype);var ie=Object.getOwnPropertyDescriptor(pe,Z);if(void 0===ie){var me=Object.getPrototypeOf(pe);return null===me?void 0:te(me,Z,oe)}if("value"in ie)return ie.value;var _e=ie.get;return void 0===_e?void 0:_e.call(oe)};var B=C(10),H=C(1),Y=C(0).layoutBase.FDLayoutConstants,ee=C(18),ce=ee.defaults,ne=C(2),he=function(te){function pe(Z){!function A(te,pe){if(!(te instanceof pe))throw new TypeError("Cannot call a class as a function")}(this,pe);var oe=function V(te,pe){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!pe||"object"!=typeof pe&&"function"!=typeof pe?te:pe}(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,ne({},ce,Z)));return H.DEFAULT_NODE_SEPARATION=null!=Z.nodeSeparation?Z.nodeSeparation:Y.DEFAULT_EDGE_LENGTH/4,H.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF=null!=Z.idealInterClusterEdgeLengthCoefficient?Z.idealInterClusterEdgeLengthCoefficient:1.4,H.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE=null!=Z.allowNodesInsideCircle&&Z.allowNodesInsideCircle,H.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=null!=Z.maxRatioOfNodesInsideCircle?Z.maxRatioOfNodesInsideCircle:.1,H.DEFAULT_SPRING_STRENGTH=null!=Z.springCoeff?Z.springCoeff:1.5*Y.DEFAULT_SPRING_STRENGTH,null!=Z.nodeRepulsion&&(H.DEFAULT_REPULSION_STRENGTH=Y.DEFAULT_REPULSION_STRENGTH=Z.nodeRepulsion),null!=Z.gravity&&(H.DEFAULT_GRAVITY_STRENGTH=Y.DEFAULT_GRAVITY_STRENGTH=Z.gravity),null!=Z.gravityRange&&(H.DEFAULT_GRAVITY_RANGE_FACTOR=Y.DEFAULT_GRAVITY_RANGE_FACTOR=Z.gravityRange),H.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=null!=Z.maxRatioOfNodesInsideCircle?Z.maxRatioOfNodesInsideCircle:.1,oe}return function L(te,pe){if("function"!=typeof pe&&null!==pe)throw new TypeError("Super expression must either be null or a function, not "+typeof pe);te.prototype=Object.create(pe&&pe.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),pe&&(Object.setPrototypeOf?Object.setPrototypeOf(te,pe):te.__proto__=pe)}(pe,te),S(pe,[{key:"prerun",value:function(){var oe=this.state,ie=[[]];null!=this.options.clusters&&(ie=this.options.clusters);var me=oe.nodes,_e=oe.edges,Se=this.ciseLayout=new B,De=this.graphManager=Se.newGraphManager(),ze=this.root=De.addRoot();this.idToLNode=Se.convertToClusteredGraph(me,_e,ie),ze.updateConnected(),ze.calcEstimatedSize(),Se.calcNoOfChildrenForAllNodes(),Se.doStep1(),Se.doStep2(),ze.updateBounds(!0),ze.estimatedSize=Math.max(ze.right-ze.left,ze.bottom-ze.top),Se.prepareCirclesForReversal(),Se.calcIdealEdgeLengths(!1),this.initializerIndex=0,this.isDone=!1,this.isStepDone=!1,this.timeToSwitchNextStep=!0}},{key:"tick",value:function(){var oe=this,ie=this;if(this.state.nodes.forEach(function(_e){var Se=oe.getScratch(_e),De=ie.idToLNode[_e.data("id")];Se.x=De.getCenterX(),Se.y=De.getCenterY()}),this.timeToSwitchNextStep){switch(this.initializerIndex){case 0:case 2:this.ciseLayout.step5Init();break;case 1:this.ciseLayout.step3Init();break;case 3:this.ciseLayout.step4Init();break;case 4:this.ciseLayout.findAndMoveInnerNodes(),this.ciseLayout.calcIdealEdgeLengths(!0),this.ciseLayout.step5Init()}this.initializerIndex++,this.ciseLayout.iterations=0,this.ciseLayout.totalDisplacement=1e3,this.timeToSwitchNextStep=!1}return this.isStepDone=this.ciseLayout.runSpringEmbedderTick(),this.isStepDone&&this.initializerIndex<5&&(this.timeToSwitchNextStep=!0),this.isStepDone&&!1===this.timeToSwitchNextStep&&(this.isDone=!0),this.isDone}},{key:"postrun",value:function(){}},{key:"destroy",value:function(){return O(pe.prototype.__proto__||Object.getPrototypeOf(pe.prototype),"destroy",this).call(this),this}}]),pe}(ee);N.exports=he},function(N,I,C){"use strict";N.exports=Object.freeze({animate:!1,refresh:10,maxIterations:2500,maxSimulationTime:5e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,infinite:!1})},function(N,I,C){"use strict";var S=function(){function se(he,te){for(var pe=0;pe<te.length;pe++){var Z=te[pe];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(he,Z.key,Z)}}return function(he,te,pe){return te&&se(he.prototype,te),pe&&se(he,pe),he}}();var A=C(2),V=C(17),L=C(19),B=C(20),H=B.setInitialPositionState,Y=B.refreshPositions,ee=B.getNodePositionData,ne=C(21).multitick,le=function(){function se(he){!function O(se,he){if(!(se instanceof he))throw new TypeError("Cannot call a class as a function")}(this,se);var te=this.options=A({},V,he),pe=this.state=A({},te,{layout:this,nodes:te.eles.nodes(),edges:te.eles.edges(),tickIndex:0,firstUpdate:!0});pe.animateEnd=te.animate&&"end"===te.animate,pe.animateContinuously=te.animate&&!pe.animateEnd}return S(se,[{key:"getScratch",value:function(te){var pe=this.state.name,Z=te.scratch(pe);return Z||te.scratch(pe,Z={}),Z}},{key:"run",value:function(){var te=this,pe=this.state;if(pe.tickIndex=0,pe.firstUpdate=!0,pe.startTime=Date.now(),pe.running=!0,pe.currentBoundingBox=L(pe.boundingBox,pe.cy),pe.ready&&te.one("ready",pe.ready),pe.stop&&te.one("stop",pe.stop),pe.nodes.forEach(function(Ht){return H(Ht,pe)}),te.prerun(pe),pe.animateContinuously){var me=function(Mt){!function(Mt){ee(Mt,pe).grabbed=Mt.grabbed()}(Mt.target)},_e=me,Se=function(Mt){var mn=Mt.target,un=ee(mn,pe),lt=mn.position();un.x=lt.x,un.y=lt.y},Be=function(){pe.fit&&pe.animateContinuously&&pe.cy.fit(pe.padding)},ot=function(){Y(pe.nodes,pe),Be(),requestAnimationFrame(ft)},ft=function(){ne(pe,ot,Ye)},Ye=function(){Y(pe.nodes,pe),Be(),pe.nodes.forEach(function(Mt){(function(Mt){pe.ungrabifyWhileSimulating&&ee(Mt,pe).grabbable&&Mt.grabify()})(Mt),function(Mt){Mt.removeListener("grab",me),Mt.removeListener("free",_e),Mt.removeListener("drag",Se)}(Mt)}),pe.running=!1,te.emit("layoutstop")};te.emit("layoutstart"),pe.nodes.forEach(function(Ht){var Mt;Mt=Ht,pe.ungrabifyWhileSimulating&&(ee(Mt,pe).grabbable=Mt.grabbable())&&Mt.ungrabify(),function(Mt){Mt.on("grab",me),Mt.on("free",_e),Mt.on("drag",Se)}(Ht)}),ft()}else{for(var _t=!1,Xe=function(){},Kt=function(){return _t=!0};!_t;)ne(pe,Xe,Kt);pe.eles.layoutPositions(this,pe,function(Ht){var Mt=ee(Ht,pe);return{x:Mt.x,y:Mt.y}})}return te.postrun(pe),this}},{key:"prerun",value:function(){}},{key:"postrun",value:function(){}},{key:"tick",value:function(){}},{key:"stop",value:function(){return this.state.running=!1,this}},{key:"destroy",value:function(){return this}}]),se}();N.exports=le},function(N,I,C){"use strict";N.exports=function(S,O){return null==(S=null==S?{x1:0,y1:0,w:O.width(),h:O.height()}:{x1:S.x1,x2:S.x2,y1:S.y1,y2:S.y2,w:S.w,h:S.h}).x2&&(S.x2=S.x1+S.w),null==S.w&&(S.w=S.x2-S.x1),null==S.y2&&(S.y2=S.y1+S.h),null==S.h&&(S.h=S.y2-S.y1),S}},function(N,I,C){"use strict";var S=C(2);N.exports={setInitialPositionState:function(B,H){var Y=B.position(),ee=H.currentBoundingBox,ce=B.scratch(H.name);null==ce&&B.scratch(H.name,ce={}),S(ce,H.randomize?{x:ee.x1+Math.round(Math.random()*ee.w),y:ee.y1+Math.round(Math.random()*ee.h)}:{x:Y.x,y:Y.y}),ce.locked=B.locked()},getNodePositionData:function(B,H){return B.scratch(H.name)},refreshPositions:function(B,H){B.positions(function(Y){var ee=Y.scratch(H.name);return{x:ee.x,y:ee.y}})}}},function(N,I,C){"use strict";var S=function(){},O=function(L){var B=L,Y=L.layout.tick(B);return B.firstUpdate&&(B.animateContinuously&&B.layout.emit("layoutready"),B.firstUpdate=!1),B.tickIndex++,!B.infinite&&Y};N.exports={tick:O,multitick:function(L){for(var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,Y=!1,ee=L,ce=0;ce<ee.refresh&&!(Y=!ee.running||O(ee));ce++);Y?H():B()}}}]))},7944:function($,ae,D){var T;$.exports=(T=D(8767),function(k){var N={};function I(C){if(N[C])return N[C].exports;var S=N[C]={i:C,l:!1,exports:{}};return k[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=k,I.c=N,I.d=function(C,S,O){I.o(C,S)||Object.defineProperty(C,S,{enumerable:!0,get:O})},I.r=function(C){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},I.t=function(C,S){if(1&S&&(C=I(C)),8&S||4&S&&"object"==typeof C&&C&&C.__esModule)return C;var O=Object.create(null);if(I.r(O),Object.defineProperty(O,"default",{enumerable:!0,value:C}),2&S&&"string"!=typeof C)for(var A in C)I.d(O,A,function(V){return C[V]}.bind(null,A));return O},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=0)}([function(k,N,I){var C=I(1),S=function(A){A&&A("layout","dagre",C)};typeof cytoscape<"u"&&S(cytoscape),k.exports=S},function(k,N,I){function C(B){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Y){return typeof Y}:function(Y){return Y&&"function"==typeof Symbol&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(B)}var S=function(H){return"function"==typeof H},O=I(2),A=I(3),V=I(4);function L(B){this.options=A({},O,B)}L.prototype.run=function(){var B=this.options,Y=B.cy,ee=B.eles,ce=function(Kt,Ht){return S(Ht)?Ht.apply(Kt,[Kt]):Ht},ne=B.boundingBox||{x1:0,y1:0,w:Y.width(),h:Y.height()};void 0===ne.x2&&(ne.x2=ne.x1+ne.w),void 0===ne.w&&(ne.w=ne.x2-ne.x1),void 0===ne.y2&&(ne.y2=ne.y1+ne.h),void 0===ne.h&&(ne.h=ne.y2-ne.y1);var le=new V.graphlib.Graph({multigraph:!0,compound:!0}),se={},he=function(Kt,Ht){null!=Ht&&(se[Kt]=Ht)};he("nodesep",B.nodeSep),he("edgesep",B.edgeSep),he("ranksep",B.rankSep),he("rankdir",B.rankDir),he("align",B.align),he("ranker",B.ranker),he("acyclicer",B.acyclicer),le.setGraph(se),le.setDefaultEdgeLabel(function(){return{}}),le.setDefaultNodeLabel(function(){return{}});var te=ee.nodes();S(B.sort)&&(te=te.sort(B.sort));for(var pe=0;pe<te.length;pe++){var Z=te[pe],oe=Z.layoutDimensions(B);le.setNode(Z.id(),{width:oe.w,height:oe.h,name:Z.id()})}for(var ie=0;ie<te.length;ie++){var me=te[ie];me.isChild()&&le.setParent(me.id(),me.parent().id())}var Ye,_e=ee.edges().stdFilter(function(Xe){return!Xe.source().isParent()&&!Xe.target().isParent()});S(B.sort)&&(_e=_e.sort(B.sort));for(var Se=0;Se<_e.length;Se++){var De=_e[Se];le.setEdge(De.source().id(),De.target().id(),{minlen:ce(De,B.minLen),weight:ce(De,B.edgeWeight),name:De.id()},De.id())}V.layout(le);for(var ze=le.nodes(),Be=0;Be<ze.length;Be++){var ot=ze[Be],ft=le.node(ot);Y.getElementById(ot).scratch().dagre=ft}B.boundingBox?(Ye={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},te.forEach(function(Xe){var Kt=Xe.scratch().dagre;Ye.x1=Math.min(Ye.x1,Kt.x),Ye.x2=Math.max(Ye.x2,Kt.x),Ye.y1=Math.min(Ye.y1,Kt.y),Ye.y2=Math.max(Ye.y2,Kt.y)}),Ye.w=Ye.x2-Ye.x1,Ye.h=Ye.y2-Ye.y1):Ye=ne;return te.layoutPositions(this,B,function(Xe){var Kt=(Xe="object"===C(Xe)?Xe:this).scratch().dagre;return function(Kt){return B.boundingBox?{x:ne.x1+(0===Ye.w?0:(Kt.x-Ye.x1)/Ye.w)*ne.w,y:ne.y1+(0===Ye.h?0:(Kt.y-Ye.y1)/Ye.h)*ne.h}:Kt}({x:Kt.x,y:Kt.y})}),this},k.exports=L},function(k,N){k.exports={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(S){return 1},edgeWeight:function(S){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(S,O){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(S,O){return O},ready:function(){},sort:void 0,stop:function(){}}},function(k,N){k.exports=null!=Object.assign?Object.assign.bind(Object):function(I){for(var C=arguments.length,S=new Array(C>1?C-1:0),O=1;O<C;O++)S[O-1]=arguments[O];return S.forEach(function(A){Object.keys(A).forEach(function(V){return I[V]=A[V]})}),I}},function(k,N){k.exports=T}]))},3848:function($,ae,D){var T;$.exports=(T=D(7925),function(k){var N={};function I(C){if(N[C])return N[C].exports;var S=N[C]={i:C,l:!1,exports:{}};return k[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=k,I.c=N,I.i=function(C){return C},I.d=function(C,S,O){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:O})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=7)}([function(k,N,I){"use strict";k.exports=null!=Object.assign?Object.assign.bind(Object):function(C){for(var S=arguments.length,O=Array(S>1?S-1:0),A=1;A<S;A++)O[A-1]=arguments[A];return O.forEach(function(V){null!=V&&Object.keys(V).forEach(function(L){return C[L]=V[L]})}),C}},function(k,N,I){"use strict";var S=I(5).getBoundingBox;k.exports={getRef:function O(A,V){return{getBoundingClientRect:function(){return S(A,V)}}}}},function(k,N,I){"use strict";var C=I(0),O=I(1).getRef,V=I(6).getContent,L={},H=I(8).createPopper;k.exports={getPopper:function Y(ee,ce){var ne=O(ee,ce),le=V(ee,ce.content),se=C({},L,ce.popper);return H(ne,le,se)}}},function(k,N,I){"use strict";var C=I(0),O=I(2).getPopper,V=I(1).getRef;function H(ne,le){var se=function(ie){return ie.isNode()?{w:ie.renderedWidth(),h:ie.renderedHeight()}:{w:3,h:3}},pe=ne.cy();return C({},{renderedDimensions:se,renderedPosition:function(ie){return ie.isNode()?function Y(ne,le){var se=ne.renderedPosition(),he=le(ne);return{x:se.x-he.w/2,y:se.y-he.h/2}}(ie,se):function ee(ne){var le=ne.midpoint(),se=ne.cy().pan(),he=ne.cy().zoom();return{x:le.x*he+se.x,y:le.y*he+se.y}}(ie)},popper:{},cy:pe},le)}function ce(ne){ne.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}k.exports={popper:function L(ne){return ce(this),O(this[0],H(this[0],ne))},popperRef:function B(ne){return ce(this),V(this[0],H(this[0],ne))}}},function(k,N,I){"use strict";var C=I(0),O=I(2).getPopper,V=I(1).getRef;function H(Y,ee){return C({},{boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},renderedPosition:function(){return{x:0,y:0}},popper:{},cy:Y},ee)}k.exports={popper:function L(Y){return O(this,H(this,Y))},popperRef:function B(Y){return V(this,H(this,Y))}}},function(k,N,I){"use strict";k.exports={getBoundingBox:function C(S,O){var A=O.renderedPosition,L=O.renderedDimensions,B=O.cy.container().getBoundingClientRect(),H=L(S),Y=A(S);return{top:Y.y+B.top,left:Y.x+B.left,right:Y.x+H.w+B.left,bottom:Y.y+H.h+B.top,width:H.w,height:H.h}}}},function(k,N,I){"use strict";k.exports={getContent:function C(S,O){var A;if("function"!=typeof O){if(O instanceof HTMLElement)return O;throw new Error("Can not create popper from 'target' with unknown type")}if(null===(A=O(S)))throw new Error("No 'target' specified to create popper");return A}}},function(k,N,I){"use strict";var C=I(4),S=I(3),O=function(V){V&&(V("core","popper",C.popper),V("collection","popper",S.popper),V("core","popperRef",C.popperRef),V("collection","popperRef",S.popperRef))};typeof cytoscape<"u"&&O(cytoscape),k.exports=O},function(k,N){k.exports=T}]))},6100:($,ae,D)=>{"use strict";var T=D(4430),k=D(7444),N=D(5440),I=D(7939),C=D(9078);function S(u){return u&&"object"==typeof u&&"default"in u?u:{default:u}}var O=S(T),A=S(k),V=S(N),L=S(I),B=S(C);function H(u){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(u)}function Y(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function ee(u,o){for(var l=0;l<o.length;l++){var f=o[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}function ce(u,o,l){return o&&ee(u.prototype,o),l&&ee(u,l),Object.defineProperty(u,"prototype",{writable:!1}),u}function ne(u,o,l){return o in u?Object.defineProperty(u,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):u[o]=l,u}function le(u,o){return function se(u){if(Array.isArray(u))return u}(u)||function he(u,o){var l=null==u?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(null!=l){var g,w,f=[],h=!0,p=!1;try{for(l=l.call(u);!(h=(g=l.next()).done)&&(f.push(g.value),!o||f.length!==o);h=!0);}catch(x){p=!0,w=x}finally{try{!h&&null!=l.return&&l.return()}finally{if(p)throw w}}return f}}(u,o)||function te(u,o){if(u){if("string"==typeof u)return pe(u,o);var l=Object.prototype.toString.call(u).slice(8,-1);if("Object"===l&&u.constructor&&(l=u.constructor.name),"Map"===l||"Set"===l)return Array.from(u);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return pe(u,o)}}(u,o)||function Z(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(u,o){(null==o||o>u.length)&&(o=u.length);for(var l=0,f=new Array(o);l<o;l++)f[l]=u[l];return f}var oe=typeof window>"u"?null:window,ie=oe?oe.navigator:null,me=H(""),_e=H({}),Se=H(function(){}),De=typeof HTMLElement>"u"?"undefined":H(HTMLElement),ze=function(o){return o&&o.instanceString&&ot(o.instanceString)?o.instanceString():null},Be=function(o){return null!=o&&H(o)==me},ot=function(o){return null!=o&&H(o)===Se},ft=function(o){return!Mt(o)&&(Array.isArray?Array.isArray(o):null!=o&&o instanceof Array)},Ye=function(o){return null!=o&&H(o)===_e&&!ft(o)&&o.constructor===Object},Xe=function(o){return null!=o&&H(o)===H(1)&&!isNaN(o)},Ht=function(o){if("undefined"!==De)return null!=o&&o instanceof HTMLElement},Mt=function(o){return mn(o)||un(o)},mn=function(o){return"collection"===ze(o)&&o._private.single},un=function(o){return"collection"===ze(o)&&!o._private.single},lt=function(o){return"core"===ze(o)},tt=function(o){return"stylesheet"===ze(o)},Ft=function(o){return null==o||!(""!==o&&!o.match(/^\s+$/))},Jn=function(o){return function(o){return null!=o&&H(o)===_e}(o)&&ot(o.then)},Rr=function(o,l){l||(l=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var p=[],g=0;g<arguments.length;g++)p.push(arguments[g]);return p.join("$")});var f=function h(){var w,g=arguments,x=l.apply(this,g),E=h.cache;return(w=E[x])||(w=E[x]=o.apply(this,g)),w};return f.cache={},f},_r=Rr(function(u){return u.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}),wn=Rr(function(u){return u.replace(/(-\w)/g,function(o){return o[1].toUpperCase()})}),Vn=Rr(function(u,o){return u+o[0].toUpperCase()+o.substring(1)},function(u,o){return u+"$"+o}),Yr=function(o){return Ft(o)?o:o.charAt(0).toUpperCase()+o.substring(1)},dn="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Ni="rgb[a]?\\(("+dn+"[%]?)\\s*,\\s*("+dn+"[%]?)\\s*,\\s*("+dn+"[%]?)(?:\\s*,\\s*("+dn+"))?\\)",ro="rgb[a]?\\((?:"+dn+"[%]?)\\s*,\\s*(?:"+dn+"[%]?)\\s*,\\s*(?:"+dn+"[%]?)(?:\\s*,\\s*(?:"+dn+"))?\\)",Pi="hsl[a]?\\(("+dn+")\\s*,\\s*("+dn+"[%])\\s*,\\s*("+dn+"[%])(?:\\s*,\\s*("+dn+"))?\\)",Li="hsl[a]?\\((?:"+dn+")\\s*,\\s*(?:"+dn+"[%])\\s*,\\s*(?:"+dn+"[%])(?:\\s*,\\s*(?:"+dn+"))?\\)",ja=function(o,l){return o<l?-1:o>l?1:0},In=null!=Object.assign?Object.assign.bind(Object):function(u){for(var o=arguments,l=1;l<o.length;l++){var f=o[l];if(null!=f)for(var h=Object.keys(f),p=0;p<h.length;p++){var g=h[p];u[g]=f[g]}}return u},Ss={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},_n=function(o){for(var l=o.map,f=o.keys,h=f.length,p=0;p<h;p++){var g=f[p];if(Ye(g))throw Error("Tried to set map with object key");p<f.length-1?(null==l[g]&&(l[g]={}),l=l[g]):l[g]=o.value}},ga=function(o){for(var l=o.map,f=o.keys,h=f.length,p=0;p<h;p++){var g=f[p];if(Ye(g))throw Error("Tried to get map with object key");if(null==(l=l[g]))return l}return l},go=oe?oe.performance:null,hi=go&&go.now?function(){return go.now()}:function(){return Date.now()},Ki=function(){if(oe){if(oe.requestAnimationFrame)return function(u){oe.requestAnimationFrame(u)};if(oe.mozRequestAnimationFrame)return function(u){oe.mozRequestAnimationFrame(u)};if(oe.webkitRequestAnimationFrame)return function(u){oe.webkitRequestAnimationFrame(u)};if(oe.msRequestAnimationFrame)return function(u){oe.msRequestAnimationFrame(u)}}return function(u){u&&setTimeout(function(){u(hi())},1e3/60)}}(),pu=function(o){return Ki(o)},Di=hi,Ma=9261,Xs=5381,Qc=function(o){for(var h,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma;!(h=o.next()).done;)f=65599*f+h.value|0;return f},Ia=function(o){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma)+o|0},Ks=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xs;return(l<<5)+l+o|0},os=function(o){return 2097152*o[0]+o[1]},Aa=function(o,l){return[Ia(o[0],l[0]),Ks(o[1],l[1])]},as=function(o,l){var f={value:0,done:!1},h=0,p=o.length;return Qc({next:function(){return h<p?f.value=o.charCodeAt(h++):f.done=!0,f}},l)},ed=function(){return gu(arguments)},gu=function(o){for(var l,f=0;f<o.length;f++){var h=o[f];l=0===f?as(h):as(h,l)}return l},Qu=!0,Oo=null!=console.warn,td=null!=console.trace,Ju=Number.MAX_SAFE_INTEGER||9007199254740991,ec=function(){return!0},Ts=function(){return!1},tc=function(){return 0},nd=function(){},ni=function(o){throw new Error(o)},Na=function(o){if(void 0===o)return Qu;Qu=!!o},Sr=function(o){Na()&&(Oo?console.warn(o):(console.log(o),td&&console.trace()))},Oi=function(o){return null==o?o:ft(o)?o.slice():Ye(o)?function(o){return In({},o)}(o):o},cf=function(o,l){for(l=o="";o++<36;l+=51*o&52?(15^o?8^Math.random()*(20^o?16:4):4).toString(16):"-");return l},Ri={},Cn=function(){return Ri},si=function(o){var l=Object.keys(o);return function(f){for(var h={},p=0;p<l.length;p++){var g=l[p],w=f?.[g];h[g]=void 0===w?o[g]:w}return h}},$a=function(o,l,f){for(var h=o.length-1;h>=0&&(o[h]!==l||(o.splice(h,1),!f));h--);},Ro=function(o){o.splice(0,o.length)},qi=function(o,l,f){return f&&(l=Vn(f,l)),o[l]},ko=function(o,l,f,h){f&&(l=Vn(f,l)),o[l]=h},St=typeof Map<"u"?Map:function(){function u(){Y(this,u),this._obj={}}return ce(u,[{key:"set",value:function(l,f){return this._obj[l]=f,this}},{key:"delete",value:function(l){return this._obj[l]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(l){return void 0!==this._obj[l]}},{key:"get",value:function(l){return this._obj[l]}}]),u}(),id=function(){function u(o){if(Y(this,u),this._obj=Object.create(null),this.size=0,null!=o){var l;l=null!=o.instanceString&&o.instanceString()===this.instanceString()?o.toArray():o;for(var f=0;f<l.length;f++)this.add(l[f])}}return ce(u,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(l){var f=this._obj;1!==f[l]&&(f[l]=1,this.size++)}},{key:"delete",value:function(l){var f=this._obj;1===f[l]&&(f[l]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(l){return 1===this._obj[l]}},{key:"toArray",value:function(){var l=this;return Object.keys(this._obj).filter(function(f){return l.has(f)})}},{key:"forEach",value:function(l,f){return this.toArray().forEach(l,f)}}]),u}(),Ms="undefined"!==(typeof Set>"u"?"undefined":H(Set))?Set:id,Ne=function(o,l){var f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==o&&void 0!==l&&lt(o)){var h=l.group;if(null==h&&(h=l.data&&null!=l.data.source&&null!=l.data.target?"edges":"nodes"),"nodes"===h||"edges"===h){this.length=1,this[0]=this;var p=this._private={cy:o,single:!0,data:l.data||{},position:l.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:h,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!l.selected,selectable:void 0===l.selectable||!!l.selectable,locked:!!l.locked,grabbed:!1,grabbable:void 0===l.grabbable||!!l.grabbable,pannable:void 0===l.pannable?"edges"===h:!!l.pannable,active:!1,classes:new Ms,animation:{current:[],queue:[]},rscratch:{},scratch:l.scratch||{},edges:[],children:[],parent:l.parent&&l.parent.isNode()?l.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==p.position.x&&(p.position.x=0),null==p.position.y&&(p.position.y=0),l.renderedPosition){var g=l.renderedPosition,w=o.pan(),x=o.zoom();p.position={x:(g.x-w.x)/x,y:(g.y-w.y)/x}}var E=[];ft(l.classes)?E=l.classes:Be(l.classes)&&(E=l.classes.split(/\s+/));for(var M=0,P=E.length;M<P;M++){var z=E[M];!z||""===z||p.classes.add(z)}this.createEmitter();var W=l.style||l.css;W&&(Sr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(W)),(void 0===f||f)&&this.restore()}else ni("An element must be of type `nodes` or `edges`; you specified `"+h+"`")}else ni("An element must have a core reference and parameters set")},Re=function(o){return o={bfs:o.bfs||!o.dfs,dfs:o.dfs||!o.bfs},function(f,h,p){var g;Ye(f)&&!Mt(f)&&(f=(g=f).roots||g.root,h=g.visit,p=g.directed),p=2!==arguments.length||ot(h)?p:h,h=ot(h)?h:function(){};for(var q,w=this._private.cy,x=f=Be(f)?this.filter(f):f,E=[],M=[],P={},z={},W={},j=0,Q=this.byGroup(),re=Q.nodes,de=Q.edges,fe=0;fe<x.length;fe++){var ve=x[fe],Me=ve.id();ve.isNode()&&(E.unshift(ve),o.bfs&&(W[Me]=!0,M.push(ve)),z[Me]=0)}for(var Ae=function(){var He=o.bfs?E.shift():E.pop(),Oe=He.id();if(o.dfs){if(W[Oe])return"continue";W[Oe]=!0,M.push(He)}var vt,Ke=z[Oe],Ue=P[Oe],Ge=null!=Ue?Ue.source():null,rt=null!=Ue?Ue.target():null,ct=null==Ue?void 0:He.same(Ge)?rt[0]:Ge[0];if(!0===(vt=h(He,Ue,ct,j++,Ke)))return q=He,"break";if(!1===vt)return"break";for(var at=He.connectedEdges().filter(function(wt){return(!p||wt.source().same(He))&&de.has(wt)}),mt=0;mt<at.length;mt++){var It=at[mt],At=It.connectedNodes().filter(function(wt){return!wt.same(He)&&re.has(wt)}),xt=At.id();0!==At.length&&!W[xt]&&(E.push(At=At[0]),o.bfs&&(W[xt]=!0,M.push(At)),P[xt]=It,z[xt]=z[Oe]+1)}};0!==E.length;){var ye=Ae();if("continue"!==ye&&"break"===ye)break}for(var Te=w.collection(),we=0;we<M.length;we++){var ke=M[we],Pe=P[ke.id()];null!=Pe&&Te.push(Pe),Te.push(ke)}return{path:w.collection(Te),found:w.collection(q)}}},Ve={breadthFirstSearch:Re({bfs:!0}),depthFirstSearch:Re({dfs:!0})};Ve.bfs=Ve.breadthFirstSearch,Ve.dfs=Ve.depthFirstSearch;var et=si({root:null,weight:function(o){return 1},directed:!1}),qe={dijkstra:function(o){if(!Ye(o)){var l=arguments;o={root:l[0],weight:l[1],directed:l[2]}}var Ue,Ge,f=et(o),h=f.root,g=f.directed,w=this,x=f.weight,E=Be(h)?this.filter(h)[0]:h[0],M={},P={},z={},W=this.byGroup(),j=W.nodes,q=W.edges;q.unmergeBy(function(Ke){return Ke.isLoop()});for(var Q=function(Ue){return M[Ue.id()]},de=new A.default(function(Ke,Ue){return Q(Ke)-Q(Ue)}),fe=0;fe<j.length;fe++){var ve=j[fe];M[ve.id()]=ve.same(E)?0:1/0,de.push(ve)}for(var Me=function(Ue,Ge){for(var vt,rt=(g?Ue.edgesTo(Ge):Ue.edgesWith(Ge)).intersect(q),ct=1/0,at=0;at<rt.length;at++){var mt=rt[at],It=x(mt);(It<ct||!vt)&&(ct=It,vt=mt)}return{edge:vt,dist:ct}};de.size()>0;){var Ae=de.pop(),ye=Q(Ae),Te=Ae.id();if(z[Te]=ye,ye!==1/0)for(var we=Ae.neighborhood().intersect(j),ke=0;ke<we.length;ke++){var Pe=we[ke],Ee=Pe.id(),He=Me(Ae,Pe),Oe=ye+He.dist;Oe<Q(Pe)&&(Ge=Oe,M[(Ue=Pe).id()]=Ge,de.updateItem(Ue),P[Ee]={node:Ae,edge:He.edge})}}return{distanceTo:function(Ue){var Ge=Be(Ue)?j.filter(Ue)[0]:Ue[0];return z[Ge.id()]},pathTo:function(Ue){var Ge=Be(Ue)?j.filter(Ue)[0]:Ue[0],rt=[],ct=Ge,vt=ct.id();if(Ge.length>0)for(rt.unshift(Ge);P[vt];){var at=P[vt];rt.unshift(at.edge),rt.unshift(at.node),vt=(ct=at.node).id()}return w.spawn(rt)}}}},Zt={kruskal:function(o){o=o||function(fe){return 1};for(var l=this.byGroup(),f=l.nodes,h=l.edges,p=f.length,g=new Array(p),w=f,x=function(ve){for(var Me=0;Me<g.length;Me++)if(g[Me].has(ve))return Me},E=0;E<p;E++)g[E]=this.spawn(f[E]);for(var M=h.sort(function(fe,ve){return o(fe)-o(ve)}),P=0;P<M.length;P++){var z=M[P],W=z.source()[0],j=z.target()[0],q=x(W),Q=x(j),re=g[q],de=g[Q];q!==Q&&(w.merge(z),re.merge(de),g.splice(Q,1))}return w}},gn=si({root:null,goal:null,weight:function(o){return 1},heuristic:function(o){return 0},directed:!1}),Vt={aStar:function(o){var l=this.cy(),f=gn(o),h=f.root,p=f.goal,g=f.heuristic,w=f.directed,x=f.weight;h=l.collection(h)[0],p=l.collection(p)[0];var fe,ve,E=h.id(),M=p.id(),P={},z={},W={},j=new A.default(function(vt,at){return z[vt.id()]-z[at.id()]}),q=new Ms,Q={},re={},de=function(at,mt){j.push(at),q.add(mt)};de(h,E),P[E]=0,z[E]=g(h);for(var ye=0;j.size()>0;){if(ve=(fe=j.pop()).id(),q.delete(ve),ye++,ve===M){for(var Te=[],we=p,ke=M,Pe=re[ke];Te.unshift(we),null!=Pe&&Te.unshift(Pe),null!=(we=Q[ke]);)Pe=re[ke=we.id()];return{found:!0,distance:P[ve],path:this.spawn(Te),steps:ye}}W[ve]=!0;for(var Ee=fe._private.edges,He=0;He<Ee.length;He++){var Oe=Ee[He];if(this.hasElementWithId(Oe.id())&&(!w||Oe.data("source")===ve)){var Ke=Oe.source(),Ue=Oe.target(),Ge=Ke.id()!==ve?Ke:Ue,rt=Ge.id();if(this.hasElementWithId(rt)&&!W[rt]){var ct=P[ve]+x(Oe);if(!q.has(rt)){P[rt]=ct,z[rt]=ct+g(Ge),de(Ge,rt),Q[rt]=fe,re[rt]=Oe;continue}ct<P[rt]&&(P[rt]=ct,z[rt]=ct+g(Ge),Q[rt]=fe,re[rt]=Oe)}}}}return{found:!1,distance:void 0,path:void 0,steps:ye}}},Jt=si({weight:function(o){return 1},directed:!1}),Hn={floydWarshall:function(o){for(var l=this.cy(),f=Jt(o),p=f.directed,g=f.weight,w=this.byGroup(),x=w.nodes,E=w.edges,M=x.length,P=M*M,z=function(It){return x.indexOf(It)},W=function(It){return x[It]},j=new Array(P),q=0;q<P;q++){var Q=q%M;j[q]=(q-Q)/M===Q?0:1/0}for(var de=new Array(P),fe=new Array(P),ve=0;ve<E.length;ve++){var Me=E[ve],Ae=Me.source()[0],ye=Me.target()[0];if(Ae!==ye){var Te=z(Ae),we=z(ye),ke=Te*M+we,Pe=g(Me);if(j[ke]>Pe&&(j[ke]=Pe,de[ke]=we,fe[ke]=Me),!p){var Ee=we*M+Te;!p&&j[Ee]>Pe&&(j[Ee]=Pe,de[Ee]=Te,fe[Ee]=Me)}}}for(var He=0;He<M;He++)for(var Oe=0;Oe<M;Oe++)for(var Ke=Oe*M+He,Ue=0;Ue<M;Ue++){var Ge=Oe*M+Ue,rt=He*M+Ue;j[Ke]+j[rt]<j[Ge]&&(j[Ge]=j[Ke]+j[rt],de[Ge]=de[Ke])}var vt=function(It){return z(function(It){return(Be(It)?l.filter(It):It)[0]}(It))};return{distance:function(It,At){var xt=vt(It),wt=vt(At);return j[xt*M+wt]},path:function(It,At){var xt=vt(It),wt=vt(At),Je=W(xt);if(xt===wt)return Je.collection();if(null==de[xt*M+wt])return l.collection();var Tt=l.collection();for(Tt.merge(Je);xt!==wt;)Tt.merge(fe[xt*M+(xt=de[xt*M+wt])]),Tt.merge(W(xt));return Tt}}}},Bt=si({weight:function(o){return 1},directed:!1,root:null}),Ir={bellmanFord:function(o){var l=this,f=Bt(o),p=f.directed,g=f.root,w=f.weight,x=this,E=this.cy(),M=this.byGroup(),P=M.edges,z=M.nodes,W=z.length,j=new St,q=!1,Q=[];g=E.collection(g)[0],P.unmergeBy(function(xn){return xn.isLoop()});for(var re=P.length,de=function(sn){var An=j.get(sn.id());return An||(An={},j.set(sn.id(),An)),An},fe=function(sn){return(Be(sn)?E.$(sn):sn)[0]},Ae=0;Ae<W;Ae++){var ye=z[Ae],Te=de(ye);Te.dist=ye.same(g)?0:1/0,Te.pred=null,Te.edge=null}for(var we=!1,ke=function(sn,An,Ar,fr,jn,zt){var Ce=fr.dist+zt;Ce<jn.dist&&!Ar.same(fr.edge)&&(jn.dist=Ce,jn.pred=sn,jn.edge=Ar,we=!0)},Pe=1;Pe<W;Pe++){we=!1;for(var Ee=0;Ee<re;Ee++){var He=P[Ee],Oe=He.source(),Ke=He.target(),Ue=w(He),Ge=de(Oe),rt=de(Ke);ke(Oe,0,He,Ge,rt,Ue),p||ke(Ke,0,He,rt,Ge,Ue)}if(!we)break}if(we)for(var ct=[],vt=0;vt<re;vt++){var at=P[vt],mt=at.source(),It=at.target(),At=w(at),xt=de(mt).dist,wt=de(It).dist;if(xt+At<wt||!p&&wt+At<xt){if(q||(Sr("Graph contains a negative weight cycle for Bellman-Ford"),q=!0),!1===o.findNegativeWeightCycles)break;var Je=[];xt+At<wt&&Je.push(mt),!p&&wt+At<xt&&Je.push(It);for(var Tt=Je.length,Ot=0;Ot<Tt;Ot++){var Wt=Je[Ot],tn=[Wt];tn.push(de(Wt).edge);for(var $n=de(Wt).pred;-1===tn.indexOf($n);)tn.push($n),tn.push(de($n).edge),$n=de($n).pred;for(var ar=(tn=tn.slice(tn.indexOf($n)))[0].id(),on=0,Qt=2;Qt<tn.length;Qt+=2)tn[Qt].id()<ar&&(ar=tn[Qt].id(),on=Qt);(tn=tn.slice(on).concat(tn.slice(0,on))).push(tn[0]);var On=tn.map(function(xn){return xn.id()}).join(",");-1===ct.indexOf(On)&&(Q.push(x.spawn(tn)),ct.push(On))}}}return{distanceTo:function(sn){return de(fe(sn)).dist},pathTo:function(sn){for(var An=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,fr=[],jn=fe(sn);;){if(null==jn)return l.spawn();var zt=de(jn),Ce=zt.edge,dt=zt.pred;if(fr.unshift(jn[0]),jn.same(An)&&fr.length>0)break;null!=Ce&&fr.unshift(Ce),jn=dt}return x.spawn(fr)},hasNegativeWeightCycle:q,negativeWeightCycles:Q}}},er=Math.sqrt(2),or=function(o,l,f){0===f.length&&ni("Karger-Stein must be run on a connected (sub)graph");for(var h=f[o],w=l[h[1]],x=l[h[2]],E=f,M=E.length-1;M>=0;M--){var P=E[M],z=P[1],W=P[2];(l[z]===w&&l[W]===x||l[z]===x&&l[W]===w)&&E.splice(M,1)}for(var j=0;j<E.length;j++){var q=E[j];q[1]===x?(E[j]=q.slice(),E[j][1]=w):q[2]===x&&(E[j]=q.slice(),E[j][2]=w)}for(var Q=0;Q<l.length;Q++)l[Q]===x&&(l[Q]=w);return E},ri=function(o,l,f,h){for(;f>h;){var p=Math.floor(Math.random()*l.length);l=or(p,o,l),f--}return l},Sn={kargerStein:function(){var o=this,l=this.byGroup(),f=l.nodes,h=l.edges;h.unmergeBy(function(rt){return rt.isLoop()});var p=f.length,g=h.length,w=Math.ceil(Math.pow(Math.log(p)/Math.LN2,2)),x=Math.floor(p/er);if(!(p<2)){for(var E=[],M=0;M<g;M++){var P=h[M];E.push([M,f.indexOf(P.source()),f.indexOf(P.target())])}for(var z=1/0,W=[],j=new Array(p),q=new Array(p),Q=new Array(p),re=function(ct,vt){for(var at=0;at<p;at++)vt[at]=ct[at]},de=0;de<=w;de++){for(var fe=0;fe<p;fe++)q[fe]=fe;var ve=ri(q,E.slice(),p,x),Me=ve.slice();re(q,Q);var Ae=ri(q,ve,x,2),ye=ri(Q,Me,x,2);Ae.length<=ye.length&&Ae.length<z?(z=Ae.length,W=Ae,re(q,j)):ye.length<=Ae.length&&ye.length<z&&(z=ye.length,W=ye,re(Q,j))}for(var Te=this.spawn(W.map(function(rt){return h[rt[0]]})),we=this.spawn(),ke=this.spawn(),Pe=j[0],Ee=0;Ee<j.length;Ee++){var Oe=f[Ee];j[Ee]===Pe?we.merge(Oe):ke.merge(Oe)}var Ke=function(ct){var vt=o.spawn();return ct.forEach(function(at){vt.merge(at),at.connectedEdges().forEach(function(mt){o.contains(mt)&&!Te.contains(mt)&&vt.merge(mt)})}),vt},Ue=[Ke(we),Ke(ke)];return{cut:Te,components:Ue,partition1:we,partition2:ke}}ni("At least 2 nodes are required for Karger-Stein algorithm")}},Pr=function(o,l,f){return{x:o.x*l+f.x,y:o.y*l+f.y}},pi=function(o,l,f){return{x:(o.x-f.x)/l,y:(o.y-f.y)/l}},li=function(o){return{x:o[0],y:o[1]}},ui=function(o,l){return Math.atan2(l,o)-Math.PI/2},Bi=Math.log2||function(u){return Math.log(u)/Math.log(2)},mo=function(o){return o>0?1:o<0?-1:0},Vi=function(o,l){return Math.sqrt(Nr(o,l))},Nr=function(o,l){var f=l.x-o.x,h=l.y-o.y;return f*f+h*h},Zs=function(o){for(var l=o.length,f=0,h=0;h<l;h++)f+=o[h];for(var p=0;p<l;p++)o[p]=o[p]/f;return o},ci=function(o,l,f,h){return(1-h)*(1-h)*o+2*(1-h)*h*l+h*h*f},vo=function(o,l,f,h){return{x:ci(o.x,l.x,f.x,h),y:ci(o.y,l.y,f.y,h)}},qs=function(o,l,f){return Math.max(o,Math.min(f,l))},Si=function(o){if(null==o)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=o.x1&&null!=o.y1){if(null!=o.x2&&null!=o.y2&&o.x2>=o.x1&&o.y2>=o.y1)return{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,w:o.x2-o.x1,h:o.y2-o.y1};if(null!=o.w&&null!=o.h&&o.w>=0&&o.h>=0)return{x1:o.x1,y1:o.y1,x2:o.x1+o.w,y2:o.y1+o.h,w:o.w,h:o.h}}},Hl=function(o,l){o.x1=Math.min(o.x1,l.x1),o.x2=Math.max(o.x2,l.x2),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,l.y1),o.y2=Math.max(o.y2,l.y2),o.h=o.y2-o.y1},rc=function(o,l,f){o.x1=Math.min(o.x1,l),o.x2=Math.max(o.x2,l),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,f),o.y2=Math.max(o.y2,f),o.h=o.y2-o.y1},Oa=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.x1-=l,o.x2+=l,o.y1-=l,o.y2+=l,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},Is=function(o){var f,h,p,g,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===l.length)f=h=p=g=l[0];else if(2===l.length)f=p=l[0],g=h=l[1];else if(4===l.length){var w=le(l,4);f=w[0],h=w[1],p=w[2],g=w[3]}return o.x1-=g,o.x2+=h,o.y1-=f,o.y2+=p,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},io=function(o,l){o.x1=l.x1,o.y1=l.y1,o.x2=l.x2,o.y2=l.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1},tr=function(o,l){return!(o.x1>l.x2||l.x1>o.x2||o.x2<l.x1||l.x2<o.x1||o.y2<l.y1||l.y2<o.y1||o.y1>l.y2||l.y1>o.y2)},Ya=function(o,l,f){return o.x1<=l&&l<=o.x2&&o.y1<=f&&f<=o.y2},df=function(o,l){return Ya(o,l.x,l.y)},od=function(o,l){return Ya(o,l.x1,l.y1)&&Ya(o,l.x2,l.y2)},rn=function(o,l,f,h,p,g,w){var P,x=yu(p,g),E=p/2,M=g/2,W=h-M-w;if((P=ss(o,l,f,h,f-E+x-w,W,f+E-x+w,W,!1)).length>0)return P;var Q=f+E+w;if((P=ss(o,l,f,h,Q,h-M+x-w,Q,h+M-x+w,!1)).length>0)return P;var Me=h+M+w;if((P=ss(o,l,f,h,f-E+x-w,Me,f+E-x+w,Me,!1)).length>0)return P;var Ee,Te=f-E-w;if((P=ss(o,l,f,h,Te,h-M+x-w,Te,h+M-x+w,!1)).length>0)return P;var He=f-E+x,Oe=h-M+x;if((Ee=pl(o,l,f,h,He,Oe,x+w)).length>0&&Ee[0]<=He&&Ee[1]<=Oe)return[Ee[0],Ee[1]];var Ke=f+E-x,Ue=h-M+x;if((Ee=pl(o,l,f,h,Ke,Ue,x+w)).length>0&&Ee[0]>=Ke&&Ee[1]<=Ue)return[Ee[0],Ee[1]];var Ge=f+E-x,rt=h+M-x;if((Ee=pl(o,l,f,h,Ge,rt,x+w)).length>0&&Ee[0]>=Ge&&Ee[1]>=rt)return[Ee[0],Ee[1]];var ct=f-E+x,vt=h+M-x;return(Ee=pl(o,l,f,h,ct,vt,x+w)).length>0&&Ee[0]<=ct&&Ee[1]>=vt?[Ee[0],Ee[1]]:[]},fl=function(o,l,f,h,p,g,w){var x=w,E=Math.min(f,p),M=Math.max(f,p),P=Math.min(h,g),z=Math.max(h,g);return E-x<=o&&o<=M+x&&P-x<=l&&l<=z+x},qr=function(o,l,f,h,p,g,w,x,E){var M_x1=Math.min(f,w,p)-E,M_x2=Math.max(f,w,p)+E,M_y1=Math.min(h,x,g)-E,M_y2=Math.max(h,x,g)+E;return!(o<M_x1||o>M_x2||l<M_y1||l>M_y2)},mu=function(o,l,f,h,p,g,w,x){var W=[];!function(o,l,f,h,p){var w,x,E,M,P,z,W,j;0===o&&(o=1e-5),E=-27*(h/=o)+(l/=o)*(9*(f/=o)-l*l*2),w=(x=(3*f-l*l)/9)*x*x+(E/=54)*E,p[1]=0,W=l/3,w>0?(P=(P=E+Math.sqrt(w))<0?-Math.pow(-P,1/3):Math.pow(P,1/3),z=(z=E-Math.sqrt(w))<0?-Math.pow(-z,1/3):Math.pow(z,1/3),p[0]=-W+P+z,p[4]=p[2]=-(W+=(P+z)/2),W=Math.sqrt(3)*(-z+P)/2,p[3]=W,p[5]=-W):(p[5]=p[3]=0,0===w?(j=E<0?-Math.pow(-E,1/3):Math.pow(E,1/3),p[0]=2*j-W,p[4]=p[2]=-(j+W)):(M=(x=-x)*x*x,M=Math.acos(E/Math.sqrt(M)),j=2*Math.sqrt(x),p[0]=-W+j*Math.cos(M/3),p[2]=-W+j*Math.cos((M+2*Math.PI)/3),p[4]=-W+j*Math.cos((M+4*Math.PI)/3)))}(1*f*f-4*f*p+2*f*w+4*p*p-4*p*w+w*w+h*h-4*h*g+2*h*x+4*g*g-4*g*x+x*x,9*f*p-3*f*f-3*f*w-6*p*p+3*p*w+9*h*g-3*h*h-3*h*x-6*g*g+3*g*x,3*f*f-6*f*p+f*w-f*o+2*p*p+2*p*o-w*o+3*h*h-6*h*g+h*x-h*l+2*g*g+2*g*l-x*l,1*f*p-f*f+f*o-p*o+h*g-h*h+h*l-g*l,W);for(var q=[],Q=0;Q<6;Q+=2)Math.abs(W[Q+1])<1e-7&&W[Q]>=0&&W[Q]<=1&&q.push(W[Q]);q.push(1),q.push(0);for(var de,fe,ve,re=-1,Me=0;Me<q.length;Me++)de=Math.pow(1-q[Me],2)*f+2*(1-q[Me])*q[Me]*p+q[Me]*q[Me]*w,fe=Math.pow(1-q[Me],2)*h+2*(1-q[Me])*q[Me]*g+q[Me]*q[Me]*x,ve=Math.pow(de-o,2)+Math.pow(fe-l,2),re>=0?ve<re&&(re=ve):re=ve;return re},hl=function(o,l,f,h,p,g){var w=[o-f,l-h],x=[p-f,g-h],E=x[0]*x[0]+x[1]*x[1],M=w[0]*w[0]+w[1]*w[1],P=w[0]*x[0]+w[1]*x[1],z=P*P/E;return P<0?M:z>E?(o-p)*(o-p)+(l-g)*(l-g):M-z},Ko=function(o,l,f){for(var h,p,g,w,E=0,M=0;M<f.length/2;M++)if(p=f[2*M+1],M+1<f.length/2?(g=f[2*(M+1)],w=f[2*(M+1)+1]):(g=f[2*(M+1-f.length/2)],w=f[2*(M+1-f.length/2)+1]),(h=f[2*M])!=o||g!=o){if(!(h>=o&&o>=g||h<=o&&o<=g))continue;(o-h)/(g-h)*(w-p)+p>l&&E++}return E%2!=0},ka=function(o,l,f,h,p,g,w,x,E){var P,q,M=new Array(f.length);null!=x[0]?(P=Math.atan(x[1]/x[0]),x[0]<0?P+=Math.PI/2:P=-P-Math.PI/2):P=x;for(var z=Math.cos(-P),W=Math.sin(-P),j=0;j<M.length/2;j++)M[2*j]=g/2*(f[2*j]*z-f[2*j+1]*W),M[2*j+1]=w/2*(f[2*j+1]*z+f[2*j]*W),M[2*j]+=h,M[2*j+1]+=p;if(E>0){var Q=oc(M,-E);q=zl(Q)}else q=M;return Ko(o,l,q)},zl=function(o){for(var w,x,E,M,l=new Array(o.length/2),P=0;P<o.length/4;P++){P<o.length/4-1?(w=o[4*(P+1)],x=o[4*(P+1)+1],E=o[4*(P+1)+2],M=o[4*(P+1)+3]):(w=o[0],x=o[1],E=o[2],M=o[3]);var z=ss(o[4*P],o[4*P+1],o[4*P+2],o[4*P+3],w,x,E,M,!0);l[2*P]=z[0],l[2*P+1]=z[1]}return l},oc=function(o,l){for(var h,p,g,w,f=new Array(2*o.length),x=0;x<o.length/2;x++){x<o.length/2-1?(g=o[2*(x+1)],w=o[2*(x+1)+1]):(g=o[0],w=o[1]);var E=w-(p=o[2*x+1]),M=-(g-(h=o[2*x])),P=Math.sqrt(E*E+M*M),z=E/P,W=M/P;f[4*x]=h+z*l,f[4*x+1]=p+W*l,f[4*x+2]=g+z*l,f[4*x+3]=w+W*l}return f},Xa=function(o,l,f,h,p,g,w){return o-=p,l-=g,(o/=f/2+w)*o+(l/=h/2+w)*l<=1},pl=function(o,l,f,h,p,g,w){var x=[f-o,h-l],E=[o-p,l-g],M=x[0]*x[0]+x[1]*x[1],P=2*(E[0]*x[0]+E[1]*x[1]),W=P*P-4*M*(E[0]*E[0]+E[1]*E[1]-w*w);if(W<0)return[];var j=(-P+Math.sqrt(W))/(2*M),q=(-P-Math.sqrt(W))/(2*M),Q=Math.min(j,q),re=Math.max(j,q),de=[];if(Q>=0&&Q<=1&&de.push(Q),re>=0&&re<=1&&de.push(re),0===de.length)return[];var fe=de[0]*x[0]+o,ve=de[0]*x[1]+l;return de.length>1?de[0]==de[1]?[fe,ve]:[fe,ve,de[1]*x[0]+o,de[1]*x[1]+l]:[fe,ve]},yo=function(o,l,f){return l<=o&&o<=f||f<=o&&o<=l?o:o<=l&&l<=f||f<=l&&l<=o?l:f},ss=function(o,l,f,h,p,g,w,x,E){var M=o-p,P=f-o,z=w-p,W=l-g,j=h-l,q=x-g,Q=z*W-q*M,re=P*W-j*M,de=q*P-z*j;if(0!==de){var fe=Q/de,ve=re/de;return-.001<=fe&&fe<=1.001&&-.001<=ve&&ve<=1.001||E?[o+fe*P,l+fe*j]:[]}return 0===Q||0===re?yo(o,f,w)===w?[w,x]:yo(o,f,p)===p?[p,g]:yo(p,w,f)===f?[f,h]:[]:[]},Ul=function(o,l,f,h,p,g,w,x){var M,W,E=[],P=new Array(f.length),z=!0;if(null==g&&(z=!1),z){for(var j=0;j<P.length/2;j++)P[2*j]=f[2*j]*g+h,P[2*j+1]=f[2*j+1]*w+p;if(x>0){var q=oc(P,-x);W=zl(q)}else W=P}else W=f;for(var de,fe,ve=0;ve<W.length/2;ve++)ve<W.length/2-1?(de=W[2*(ve+1)],fe=W[2*(ve+1)+1]):(de=W[0],fe=W[1]),0!==(M=ss(o,l,h,p,W[2*ve],W[2*ve+1],de,fe)).length&&E.push(M[0],M[1]);return E},ff=function(o,l,f){var h=[o[0]-l[0],o[1]-l[1]],p=Math.sqrt(h[0]*h[0]+h[1]*h[1]),g=(p-f)/p;return g<0&&(g=1e-5),[l[0]+g*h[0],l[1]+g*h[1]]},Zo=function(o,l){var f=vu(o,l);return ac(f)},ac=function(o){for(var l,f,h=o.length/2,p=1/0,g=1/0,w=-1/0,x=-1/0,E=0;E<h;E++)l=o[2*E],f=o[2*E+1],p=Math.min(p,l),w=Math.max(w,l),g=Math.min(g,f),x=Math.max(x,f);for(var M=2/(w-p),P=2/(x-g),z=0;z<h;z++)l=o[2*z]=o[2*z]*M,f=o[2*z+1]=o[2*z+1]*P,p=Math.min(p,l),w=Math.max(w,l),g=Math.min(g,f),x=Math.max(x,f);if(g<-1)for(var W=0;W<h;W++)f=o[2*W+1]=o[2*W+1]+(-1-g);return o},vu=function(o,l){var f=1/o*2*Math.PI,h=o%2==0?Math.PI/2+f/2:Math.PI/2;h+=l;for(var g,p=new Array(2*o),w=0;w<o;w++)g=w*f+h,p[2*w]=Math.cos(g),p[2*w+1]=Math.sin(-g);return p},yu=function(o,l){return Math.min(o/4,l/4,8)},sc=function(o,l){return Math.min(o/10,l/10,8)},dh=function(o,l){return{heightOffset:Math.min(15,.05*l),widthOffset:Math.min(100,.25*o),ctrlPtOffsetPct:.05}},fh=si({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(o){return 1}}),Qs={pageRank:function(o){for(var l=fh(o),f=l.dampingFactor,h=l.precision,p=l.iterations,g=l.weight,w=this._private.cy,x=this.byGroup(),E=x.nodes,M=x.edges,P=E.length,W=M.length,j=new Array(P*P),q=new Array(P),Q=(1-f)/P,re=0;re<P;re++){for(var de=0;de<P;de++)j[re*P+de]=0;q[re]=0}for(var ve=0;ve<W;ve++){var Me=M[ve],Ae=Me.data("source"),ye=Me.data("target");if(Ae!==ye){var Te=E.indexOfId(Ae),we=E.indexOfId(ye),ke=g(Me);j[we*P+Te]+=ke,q[Te]+=ke}}for(var Ee=1/P+Q,He=0;He<P;He++)if(0===q[He])for(var Oe=0;Oe<P;Oe++)j[Oe*P+He]=Ee;else for(var Ue=0;Ue<P;Ue++){var Ge=Ue*P+He;j[Ge]=j[Ge]/q[He]+Q}for(var vt,rt=new Array(P),ct=new Array(P),at=0;at<P;at++)rt[at]=1;for(var mt=0;mt<p;mt++){for(var It=0;It<P;It++)ct[It]=0;for(var At=0;At<P;At++)for(var xt=0;xt<P;xt++)ct[At]+=j[At*P+xt]*rt[xt];Zs(ct),vt=rt,rt=ct,ct=vt;for(var Je=0,Tt=0;Tt<P;Tt++){var Ot=vt[Tt]-rt[Tt];Je+=Ot*Ot}if(Je<h)break}return{rank:function($n){return $n=w.collection($n)[0],rt[E.indexOf($n)]}}}},Ep=si({root:null,weight:function(o){return 1},directed:!1,alpha:0}),Pa={degreeCentralityNormalized:function(o){o=Ep(o);var l=this.cy(),f=this.nodes(),h=f.length;if(o.directed){for(var M={},P={},z=0,W=0,j=0;j<h;j++){var q=f[j],Q=q.id();o.root=q;var re=this.degreeCentrality(o);z<re.indegree&&(z=re.indegree),W<re.outdegree&&(W=re.outdegree),M[Q]=re.indegree,P[Q]=re.outdegree}return{indegree:function(fe){return 0==z?0:(Be(fe)&&(fe=l.filter(fe)),M[fe.id()]/z)},outdegree:function(fe){return 0===W?0:(Be(fe)&&(fe=l.filter(fe)),P[fe.id()]/W)}}}for(var p={},g=0,w=0;w<h;w++){var x=f[w];o.root=x;var E=this.degreeCentrality(o);g<E.degree&&(g=E.degree),p[x.id()]=E.degree}return{degree:function(fe){return 0===g?0:(Be(fe)&&(fe=l.filter(fe)),p[fe.id()]/g)}}},degreeCentrality:function(o){o=Ep(o);var l=this.cy(),f=this,p=o.root,g=o.weight,w=o.directed,x=o.alpha;if(p=l.collection(p)[0],w){for(var W=p.connectedEdges(),j=W.filter(function(Ae){return Ae.target().same(p)&&f.has(Ae)}),q=W.filter(function(Ae){return Ae.source().same(p)&&f.has(Ae)}),Q=j.length,re=q.length,de=0,fe=0,ve=0;ve<j.length;ve++)de+=g(j[ve]);for(var Me=0;Me<q.length;Me++)fe+=g(q[Me]);return{indegree:Math.pow(Q,1-x)*Math.pow(de,x),outdegree:Math.pow(re,1-x)*Math.pow(fe,x)}}for(var E=p.connectedEdges().intersection(f),M=E.length,P=0,z=0;z<E.length;z++)P+=g(E[z]);return{degree:Math.pow(M,1-x)*Math.pow(P,x)}}};Pa.dc=Pa.degreeCentrality,Pa.dcn=Pa.degreeCentralityNormalised=Pa.degreeCentralityNormalized;var xp=si({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Pt={closenessCentralityNormalized:function(o){for(var l=xp(o),f=l.harmonic,h=l.weight,p=l.directed,g=this.cy(),w={},x=0,E=this.nodes(),M=this.floydWarshall({weight:h,directed:p}),P=0;P<E.length;P++){for(var z=0,W=E[P],j=0;j<E.length;j++)if(P!==j){var q=M.distance(W,E[j]);z+=f?1/q:q}f||(z=1/z),x<z&&(x=z),w[W.id()]=z}return{closeness:function(re){return 0==x?0:(re=Be(re)?g.filter(re)[0].id():re.id(),w[re]/x)}}},closenessCentrality:function(o){var l=xp(o),f=l.root,h=l.weight,p=l.directed,g=l.harmonic;f=this.filter(f)[0];for(var w=this.dijkstra({root:f,weight:h,directed:p}),x=0,E=this.nodes(),M=0;M<E.length;M++){var P=E[M];if(!P.same(f)){var z=w.distanceTo(P);x+=g?1/z:z}}return g?x:1/x}};Pt.cc=Pt.closenessCentrality,Pt.ccn=Pt.closenessCentralityNormalised=Pt.closenessCentralityNormalized;var hh=si({weight:null,directed:!1}),en={betweennessCentrality:function(o){for(var l=hh(o),f=l.directed,h=l.weight,p=null!=h,g=this.cy(),w=this.nodes(),x={},E={},M=0,P={set:function(fe,ve){E[fe]=ve,ve>M&&(M=ve)},get:function(fe){return E[fe]}},z=0;z<w.length;z++){var W=w[z],j=W.id();x[j]=f?W.outgoers().nodes():W.openNeighborhood().nodes(),P.set(j,0)}for(var q=function(fe){for(var ve=w[fe].id(),Me=[],Ae={},ye={},Te={},we=new A.default(function(xt,wt){return Te[xt]-Te[wt]}),ke=0;ke<w.length;ke++){var Pe=w[ke].id();Ae[Pe]=[],ye[Pe]=0,Te[Pe]=1/0}for(ye[ve]=1,Te[ve]=0,we.push(ve);!we.empty();){var Ee=we.pop();if(Me.push(Ee),p)for(var He=0;He<x[Ee].length;He++){var Ue,Oe=x[Ee][He],Ke=g.getElementById(Ee);Ue=Ke.edgesTo(Oe).length>0?Ke.edgesTo(Oe)[0]:Oe.edgesTo(Ke)[0];var Ge=h(Ue);Oe=Oe.id(),Te[Oe]>Te[Ee]+Ge&&(Te[Oe]=Te[Ee]+Ge,we.nodes.indexOf(Oe)<0?we.push(Oe):we.updateItem(Oe),ye[Oe]=0,Ae[Oe]=[]),Te[Oe]==Te[Ee]+Ge&&(ye[Oe]=ye[Oe]+ye[Ee],Ae[Oe].push(Ee))}else for(var rt=0;rt<x[Ee].length;rt++){var ct=x[Ee][rt].id();Te[ct]==1/0&&(we.push(ct),Te[ct]=Te[Ee]+1),Te[ct]==Te[Ee]+1&&(ye[ct]=ye[ct]+ye[Ee],Ae[ct].push(Ee))}}for(var vt={},at=0;at<w.length;at++)vt[w[at].id()]=0;for(;Me.length>0;){for(var mt=Me.pop(),It=0;It<Ae[mt].length;It++){var At=Ae[mt][It];vt[At]=vt[At]+ye[At]/ye[mt]*(1+vt[mt])}mt!=w[fe].id()&&P.set(mt,P.get(mt)+vt[mt])}},Q=0;Q<w.length;Q++)q(Q);var re={betweenness:function(fe){var ve=g.collection(fe).id();return P.get(ve)},betweennessNormalized:function(fe){if(0==M)return 0;var ve=g.collection(fe).id();return P.get(ve)/M}};return re.betweennessNormalised=re.betweennessNormalized,re}};en.bc=en.betweennessCentrality;var hf=si({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(u){return 1}]}),uc=function(o,l){for(var f=0,h=0;h<l.length;h++)f+=l[h](o);return f},cc=function(o,l){for(var f,h=0;h<l;h++){f=0;for(var p=0;p<l;p++)f+=o[p*l+h];for(var g=0;g<l;g++)o[g*l+h]=o[g*l+h]/f}},gl=function(o,l,f){for(var h=new Array(f*f),p=0;p<f;p++){for(var g=0;g<f;g++)h[p*f+g]=0;for(var w=0;w<f;w++)for(var x=0;x<f;x++)h[p*f+x]+=o[p*f+w]*l[w*f+x]}return h},ls=function(o,l,f){for(var h=o.slice(0),p=1;p<f;p++)o=gl(o,h,l);return o},us=function(o,l,f){for(var h=new Array(l*l),p=0;p<l*l;p++)h[p]=Math.pow(o[p],f);return cc(h,l),h},va=function(o,l,f,h){for(var p=0;p<f;p++)if(Math.round(o[p]*Math.pow(10,h))/Math.pow(10,h)!=Math.round(l[p]*Math.pow(10,h))/Math.pow(10,h))return!1;return!0},Cr=function(o,l){for(var f=0;f<o.length;f++)if(!l[f]||o[f].id()!==l[f].id())return!1;return!0},gf=function(o){for(var l=this.nodes(),f=this.edges(),h=this.cy(),p=function(o){return hf(o)}(o),g={},w=0;w<l.length;w++)g[l[w].id()]=w;for(var P,x=l.length,E=x*x,M=new Array(E),z=0;z<E;z++)M[z]=0;for(var W=0;W<f.length;W++){var j=f[W],q=g[j.source().id()],Q=g[j.target().id()],re=uc(j,p.attributes);M[q*x+Q]+=re,M[Q*x+q]+=re}(function(o,l,f){for(var h=0;h<l;h++)o[h*l+h]=f})(M,x,p.multFactor),cc(M,x);for(var de=!0,fe=0;de&&fe<p.maxIterations;)de=!1,P=ls(M,x,p.expandFactor),M=us(P,x,p.inflateFactor),va(M,P,E,4)||(de=!0),fe++;var ve=function(o,l,f,h){for(var p=[],g=0;g<l;g++){for(var w=[],x=0;x<l;x++)Math.round(1e3*o[g*l+x])/1e3>0&&w.push(f[x]);0!==w.length&&p.push(h.collection(w))}return p}(M,x,l,h);return ve=function(o){for(var l=0;l<o.length;l++)for(var f=0;f<o.length;f++)l!=f&&Cr(o[l],o[f])&&o.splice(f,1);return o}(ve),ve},mf={markovClustering:gf,mcl:gf},Dp=function(o){return o},Ns=function(o,l){return Math.abs(l-o)},Gl=function(o,l,f){return o+Ns(l,f)},jl=function(o,l,f){return o+Math.pow(f-l,2)},Os=function(o){return Math.sqrt(o)},vf=function(o,l,f){return Math.max(o,Ns(l,f))},bu=function(o,l,f,h,p){for(var g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Dp,w=h,M=0;M<o;M++)w=p(w,l(M),f(M));return g(w)},wu={euclidean:function(o,l,f){return o>=2?bu(o,l,f,0,jl,Os):bu(o,l,f,0,Gl)},squaredEuclidean:function(o,l,f){return bu(o,l,f,0,jl)},manhattan:function(o,l,f){return bu(o,l,f,0,Gl)},max:function(o,l,f){return bu(o,l,f,-1/0,vf)}};function Wl(u,o,l,f,h,p){var g;return g=ot(u)?u:wu[u]||wu.euclidean,0===o&&ot(u)?g(h,p):g(o,l,f,h,p)}wu["squared-euclidean"]=wu.squaredEuclidean,wu.squaredeuclidean=wu.squaredEuclidean;var Sp=si({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),ad=function(o){return Sp(o)},sd=function(o,l,f,h,p){var w="kMedoids"!==p?function(P){return f[P]}:function(P){return h[P](f)};return Wl(o,h.length,w,function(z){return h[z](l)},f,l)},$l=function(o,l,f){for(var h=f.length,p=new Array(h),g=new Array(h),w=new Array(l),x=null,E=0;E<h;E++)p[E]=o.min(f[E]).value,g[E]=o.max(f[E]).value;for(var M=0;M<l;M++){x=[];for(var P=0;P<h;P++)x[P]=Math.random()*(g[P]-p[P])+p[P];w[M]=x}return w},ph=function(o,l,f,h,p){for(var g=1/0,w=0,x=0;x<l.length;x++){var E=sd(f,o,l[x],h,p);E<g&&(g=E,w=x)}return w},gh=function(o,l,f){for(var h=[],p=null,g=0;g<l.length;g++)f[(p=l[g]).id()]===o&&h.push(p);return h},Ka=function(o,l,f){return Math.abs(l-o)<=f},yf=function(o,l,f){for(var h=0;h<o.length;h++)for(var p=0;p<o[h].length;p++)if(Math.abs(o[h][p]-l[h][p])>f)return!1;return!0},mh=function(o,l,f){for(var h=0;h<f;h++)if(o===l[h])return!0;return!1},ld=function(o,l){var f=new Array(l);if(o.length<50)for(var h=0;h<l;h++){for(var p=o[Math.floor(Math.random()*o.length)];mh(p,f,h);)p=o[Math.floor(Math.random()*o.length)];f[h]=p}else for(var g=0;g<l;g++)f[g]=o[Math.floor(Math.random()*o.length)];return f},cs=function(o,l,f){for(var h=0,p=0;p<l.length;p++)h+=sd("manhattan",l[p],o,f,"kMedoids");return h},bf=function(o,l,f,h,p){for(var g,w,x=0;x<l.length;x++)for(var E=0;E<o.length;E++)h[x][E]=Math.pow(f[x][E],p.m);for(var M=0;M<o.length;M++)for(var P=0;P<p.attributes.length;P++){g=0,w=0;for(var z=0;z<l.length;z++)g+=h[z][M]*p.attributes[P](l[z]),w+=h[z][M];o[M][P]=g/w}},Mp=function(o,l,f,h,p){for(var g=0;g<o.length;g++)l[g]=o[g].slice();for(var w,x,E,M=2/(p.m-1),P=0;P<f.length;P++)for(var z=0;z<h.length;z++){w=0;for(var W=0;W<f.length;W++)x=sd(p.distance,h[z],f[P],p.attributes,"cmeans"),E=sd(p.distance,h[z],f[W],p.attributes,"cmeans"),w+=Math.pow(x/E,M);o[z][P]=1/w}},wf=function(o){var p,g,w,x,E,l=this.cy(),f=this.nodes(),h=ad(o);x=new Array(f.length);for(var M=0;M<f.length;M++)x[M]=new Array(h.k);w=new Array(f.length);for(var P=0;P<f.length;P++)w[P]=new Array(h.k);for(var z=0;z<f.length;z++){for(var W=0,j=0;j<h.k;j++)w[z][j]=Math.random(),W+=w[z][j];for(var q=0;q<h.k;q++)w[z][q]=w[z][q]/W}g=new Array(h.k);for(var Q=0;Q<h.k;Q++)g[Q]=new Array(h.attributes.length);E=new Array(f.length);for(var re=0;re<f.length;re++)E[re]=new Array(h.k);for(var de=!0,fe=0;de&&fe<h.maxIterations;)de=!1,bf(g,f,w,E,h),Mp(w,x,g,f,h),yf(w,x,h.sensitivityThreshold)||(de=!0),fe++;return p=function(o,l,f,h){for(var p=new Array(f.k),g=0;g<p.length;g++)p[g]=[];for(var w,x,E=0;E<l.length;E++){w=-1/0,x=-1;for(var M=0;M<l[0].length;M++)l[E][M]>w&&(w=l[E][M],x=M);p[x].push(o[E])}for(var P=0;P<p.length;P++)p[P]=h.collection(p[P]);return p}(f,w,h,l),{clusters:p,degreeOfMembership:w}},Or={kMeans:function(o){var x,l=this.cy(),f=this.nodes(),h=null,p=ad(o),g=new Array(p.k),w={};x=p.testMode?"number"==typeof p.testCentroids?$l(f,p.k,p.attributes):"object"===H(p.testCentroids)?p.testCentroids:$l(f,p.k,p.attributes):$l(f,p.k,p.attributes);for(var E=!0,M=0;E&&M<p.maxIterations;){for(var P=0;P<f.length;P++)w[(h=f[P]).id()]=ph(h,x,p.distance,p.attributes,"kMeans");E=!1;for(var z=0;z<p.k;z++){var W=gh(z,f,w);if(0!==W.length){for(var j=p.attributes.length,q=x[z],Q=new Array(j),re=new Array(j),de=0;de<j;de++){re[de]=0;for(var fe=0;fe<W.length;fe++)re[de]+=p.attributes[de](h=W[fe]);Q[de]=re[de]/W.length,Ka(Q[de],q[de],p.sensitivityThreshold)||(E=!0)}x[z]=Q,g[z]=l.collection(W)}}M++}return g},kMedoids:function(o){var w,E,l=this.cy(),f=this.nodes(),h=null,p=ad(o),g=new Array(p.k),x={},M=new Array(p.k);p.testMode?"number"==typeof p.testCentroids||(w="object"===H(p.testCentroids)?p.testCentroids:ld(f,p.k)):w=ld(f,p.k);for(var P=!0,z=0;P&&z<p.maxIterations;){for(var W=0;W<f.length;W++)x[(h=f[W]).id()]=ph(h,w,p.distance,p.attributes,"kMedoids");P=!1;for(var j=0;j<w.length;j++){var q=gh(j,f,x);if(0!==q.length){M[j]=cs(w[j],q,p.attributes);for(var Q=0;Q<q.length;Q++)(E=cs(q[Q],q,p.attributes))<M[j]&&(M[j]=E,w[j]=q[Q],P=!0);g[j]=l.collection(q)}}z++}return g},fuzzyCMeans:wf,fcm:wf},am=si({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),sm={single:"min",complete:"max"},Qr=function(o,l,f,h,p){for(var x,g=0,w=1/0,E=p.attributes,M=function(we,ke){return Wl(p.distance,E.length,function(Pe){return E[Pe](we)},function(Pe){return E[Pe](ke)},we,ke)},P=0;P<o.length;P++){var z=o[P].key,W=f[z][h[z]];W<w&&(g=z,w=W)}if("threshold"===p.mode&&w>=p.threshold||"dendrogram"===p.mode&&1===o.length)return!1;var Q,j=l[g],q=l[h[g]];Q="dendrogram"===p.mode?{left:j,right:q,key:j.key}:{value:j.value.concat(q.value),key:j.key},o[j.index]=Q,o.splice(q.index,1),l[j.key]=Q;for(var re=0;re<o.length;re++){var de=o[re];j.key===de.key?x=1/0:"min"===p.linkage?(x=f[j.key][de.key],f[j.key][de.key]>f[q.key][de.key]&&(x=f[q.key][de.key])):"max"===p.linkage?(x=f[j.key][de.key],f[j.key][de.key]<f[q.key][de.key]&&(x=f[q.key][de.key])):x="mean"===p.linkage?(f[j.key][de.key]*j.size+f[q.key][de.key]*q.size)/(j.size+q.size):"dendrogram"===p.mode?M(de.value,j.value):M(de.value[0],j.value[0]),f[j.key][de.key]=f[de.key][j.key]=x}for(var fe=0;fe<o.length;fe++){var ve=o[fe].key;if(h[ve]===j.key||h[ve]===q.key){for(var Me=ve,Ae=0;Ae<o.length;Ae++){var ye=o[Ae].key;f[ve][ye]<f[ve][Me]&&(Me=ye)}h[ve]=Me}o[fe].index=fe}return j.key=q.key=j.index=q.index=null,!0},ml=function u(o,l,f){o&&(o.value?l.push(o.value):(o.left&&u(o.left,l),o.right&&u(o.right,l)))},_f=function u(o,l){if(!o)return"";if(o.left&&o.right){var f=u(o.left,l),h=u(o.right,l),p=l.add({group:"nodes",data:{id:f+","+h}});return l.add({group:"edges",data:{source:f,target:p.id()}}),l.add({group:"edges",data:{source:h,target:p.id()}}),p.id()}return o.value?o.value.id():void 0},an=function u(o,l,f){if(!o)return[];var h=[],p=[],g=[];return 0===l?(o.left&&ml(o.left,h),o.right&&ml(o.right,p),g=h.concat(p),[f.collection(g)]):1===l?o.value?[f.collection(o.value)]:(o.left&&ml(o.left,h),o.right&&ml(o.right,p),[f.collection(h),f.collection(p)]):o.value?[f.collection(o.value)]:(o.left&&(h=u(o.left,l-1,f)),o.right&&(p=u(o.right,l-1,f)),h.concat(p))},oa=function(o){for(var l=this.cy(),f=this.nodes(),h=function(o){var l=am(o),f=sm[l.linkage];return null!=f&&(l.linkage=f),l}(o),p=h.attributes,g=function(fe,ve){return Wl(h.distance,p.length,function(Me){return p[Me](fe)},function(Me){return p[Me](ve)},fe,ve)},w=[],x=[],E=[],M=[],P=0;P<f.length;P++){var z={value:"dendrogram"===h.mode?f[P]:[f[P]],key:P,index:P};w[P]=z,M[P]=z,x[P]=[],E[P]=0}for(var W=0;W<w.length;W++)for(var j=0;j<=W;j++){var q;q="dendrogram"===h.mode?W===j?1/0:g(w[W].value,w[j].value):W===j?1/0:g(w[W].value[0],w[j].value[0]),x[W][j]=q,x[j][W]=q,q<x[W][E[W]]&&(E[W]=j)}for(var Q=Qr(w,M,x,E,h);Q;)Q=Qr(w,M,x,E,h);var re;return"dendrogram"===h.mode?(re=an(w[0],h.dendrogramDepth,l),h.addDendrogram&&_f(w[0],l)):(re=new Array(w.length),w.forEach(function(de,fe){de.key=de.index=null,re[fe]=l.collection(de.value)})),re},Fr={hierarchicalClustering:oa,hca:oa},Hi=si({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),ao=function(o,l,f,h){var p=function(w,x){return h[x](w)};return-Wl(o,h.length,function(g){return p(l,g)},function(g){return p(f,g)},l,f)},fc=function(o,l,f){for(var h=[],p=0;p<o;p++){for(var g=-1,w=-1/0,x=0;x<f.length;x++){var E=f[x];l[p*o+E]>w&&(g=E,w=l[p*o+E])}g>0&&h.push(g)}for(var M=0;M<f.length;M++)h[f[M]]=f[M];return h},yh=function(o){for(var l=this.cy(),f=this.nodes(),h=function(o){var l=o.damping,f=o.preference;.5<=l&&l<1||ni("Damping must range on [0.5, 1).  Got: ".concat(l));var h=["median","mean","min","max"];return h.some(function(p){return p===f})||Xe(f)||ni("Preference must be one of [".concat(h.map(function(p){return"'".concat(p,"'")}).join(", "),"] or a number.  Got: ").concat(f)),Hi(o)}(o),p={},g=0;g<f.length;g++)p[f[g].id()]=g;var w,x,E,M,P,z,we;x=(w=f.length)*w,E=new Array(x);for(var W=0;W<x;W++)E[W]=-1/0;for(var j=0;j<w;j++)for(var q=0;q<w;q++)j!==q&&(E[j*w+q]=ao(h.distance,f[j],f[q],h.attributes));M=function(o,l){var f;return f="median"===l?function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(f<o.length&&o.splice(f,o.length-f),l>0&&o.splice(0,l)):o=o.slice(l,f);for(var w=0,x=o.length-1;x>=0;x--)g?isFinite(o[x])||(o[x]=-1/0,w++):o.splice(x,1);p&&o.sort(function(z,W){return z-W});var M=o.length,P=Math.floor(M/2);return M%2!=0?o[P+1+w]:(o[P-1+w]+o[P+w])/2}(o):"mean"===l?function(o){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=0,p=0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g<f;g++){var w=o[g];isFinite(w)&&(h+=w,p++)}return h/p}(o):"min"===l?function(o){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<f;p++){var g=o[p];isFinite(g)&&(h=Math.min(g,h))}return h}(o):"max"===l?function(o){for(var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,h=-1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<f;p++){var g=o[p];isFinite(g)&&(h=Math.max(g,h))}return h}(o):l,f}(E,h.preference);for(var Q=0;Q<w;Q++)E[Q*w+Q]=M;P=new Array(x);for(var re=0;re<x;re++)P[re]=0;z=new Array(x);for(var de=0;de<x;de++)z[de]=0;for(var fe=new Array(w),ve=new Array(w),Me=new Array(w),Ae=0;Ae<w;Ae++)fe[Ae]=0,ve[Ae]=0,Me[Ae]=0;for(var ye=new Array(w*h.minIterations),Te=0;Te<ye.length;Te++)ye[Te]=0;for(we=0;we<h.maxIterations;we++){for(var ke=0;ke<w;ke++){for(var Pe=-1/0,Ee=-1/0,He=-1,Oe=0,Ke=0;Ke<w;Ke++)fe[Ke]=P[ke*w+Ke],(Oe=z[ke*w+Ke]+E[ke*w+Ke])>=Pe?(Ee=Pe,Pe=Oe,He=Ke):Oe>Ee&&(Ee=Oe);for(var Ue=0;Ue<w;Ue++)P[ke*w+Ue]=(1-h.damping)*(E[ke*w+Ue]-Pe)+h.damping*fe[Ue];P[ke*w+He]=(1-h.damping)*(E[ke*w+He]-Ee)+h.damping*fe[He]}for(var Ge=0;Ge<w;Ge++){for(var rt=0,ct=0;ct<w;ct++)fe[ct]=z[ct*w+Ge],ve[ct]=Math.max(0,P[ct*w+Ge]),rt+=ve[ct];rt-=ve[Ge],ve[Ge]=P[Ge*w+Ge],rt+=ve[Ge];for(var vt=0;vt<w;vt++)z[vt*w+Ge]=(1-h.damping)*Math.min(0,rt-ve[vt])+h.damping*fe[vt];z[Ge*w+Ge]=(1-h.damping)*(rt-ve[Ge])+h.damping*fe[Ge]}for(var at=0,mt=0;mt<w;mt++){var It=z[mt*w+mt]+P[mt*w+mt]>0?1:0;ye[we%h.minIterations*w+mt]=It,at+=It}if(at>0&&(we>=h.minIterations-1||we==h.maxIterations-1)){for(var At=0,xt=0;xt<w;xt++){Me[xt]=0;for(var wt=0;wt<h.minIterations;wt++)Me[xt]+=ye[wt*w+xt];(0===Me[xt]||Me[xt]===h.minIterations)&&At++}if(At===w)break}}for(var Je=function(o,l,f){for(var h=[],p=0;p<o;p++)l[p*o+p]+f[p*o+p]>0&&h.push(p);return h}(w,P,z),Tt=function(o,l,f){for(var h=fc(o,l,f),p=0;p<f.length;p++){for(var g=[],w=0;w<h.length;w++)h[w]===f[p]&&g.push(w);for(var x=-1,E=-1/0,M=0;M<g.length;M++){for(var P=0,z=0;z<g.length;z++)P+=l[g[z]*o+g[M]];P>E&&(x=M,E=P)}f[p]=g[x]}return fc(o,l,f)}(w,E,Je),Ot={},Wt=0;Wt<Je.length;Wt++)Ot[Je[Wt]]=[];for(var tn=0;tn<f.length;tn++){var ar=Tt[p[f[tn].id()]];null!=ar&&Ot[ar].push(f[tn])}for(var on=new Array(Je.length),Qt=0;Qt<Je.length;Qt++)on[Qt]=l.collection(Ot[Je[Qt]]);return on},ud={affinityPropagation:yh,ap:yh},lo=si({root:void 0,directed:!1}),fn={hierholzer:function(o){if(!Ye(o)){var l=arguments;o={root:l[0],directed:l[1]}}var x,E,M,f=lo(o),h=f.root,p=f.directed,g=this,w=!1;h&&(M=Be(h)?this.filter(h)[0].id():h[0].id());var P={},z={};g.forEach(p?function(de){var fe=de.id();if(de.isNode()){var ve=de.indegree(!0),Me=de.outdegree(!0),Ae=ve-Me,ye=Me-ve;1==Ae?x?w=!0:x=fe:1==ye?E?w=!0:E=fe:(ye>1||Ae>1)&&(w=!0),P[fe]=[],de.outgoers().forEach(function(Te){Te.isEdge()&&P[fe].push(Te.id())})}else z[fe]=[void 0,de.target().id()]}:function(de){var fe=de.id();de.isNode()?(de.degree(!0)%2&&(x?E?w=!0:E=fe:x=fe),P[fe]=[],de.connectedEdges().forEach(function(Me){return P[fe].push(Me.id())})):z[fe]=[de.source().id(),de.target().id()]});var W={found:!1,trail:void 0};if(w)return W;if(E&&x)if(p){if(M&&E!=M)return W;M=E}else{if(M&&E!=M&&x!=M)return W;M||(M=E)}else M||(M=g[0].id());var j=function(fe){for(var Ae,ye,Te,ve=fe,Me=[fe];P[ve].length;)Ae=P[ve].shift(),ye=z[Ae][0],ve!=(Te=z[Ae][1])?(P[Te]=P[Te].filter(function(we){return we!=Ae}),ve=Te):!p&&ve!=ye&&(P[ye]=P[ye].filter(function(we){return we!=Ae}),ve=ye),Me.unshift(Ae),Me.unshift(ve);return Me},q=[],Q=[];for(Q=j(M);1!=Q.length;)0==P[Q[0]].length?(q.unshift(g.getElementById(Q.shift())),q.unshift(g.getElementById(Q.shift()))):Q=j(Q.shift()).concat(Q);for(var re in q.unshift(g.getElementById(Q.shift())),P)if(P[re].length)return W;return W.found=!0,W.trail=this.spawn(q,!0),W}},Gn=function(){var o=this,l={},f=0,h=0,p=[],g=[],w={},E=function P(z,W,j){z===j&&(h+=1),l[W]={id:f,low:f++,cutVertex:!1};var Q,re,de,fe,q=o.getElementById(W).connectedEdges().intersection(o);0===q.size()?p.push(o.spawn(o.getElementById(W))):q.forEach(function(ve){Q=ve.source().id(),re=ve.target().id(),(de=Q===W?re:Q)!==j&&(fe=ve.id(),w[fe]||(w[fe]=!0,g.push({x:W,y:de,edge:ve})),de in l?l[W].low=Math.min(l[W].low,l[de].id):(P(z,de,W),l[W].low=Math.min(l[W].low,l[de].low),l[W].id<=l[de].low&&(l[W].cutVertex=!0,function(z,W){for(var j=g.length-1,q=[],Q=o.spawn();g[j].x!=z||g[j].y!=W;)q.push(g.pop().edge),j--;q.push(g.pop().edge),q.forEach(function(re){var de=re.connectedNodes().intersection(o);Q.merge(re),de.forEach(function(fe){var ve=fe.id(),Me=fe.connectedEdges().intersection(o);Q.merge(fe),Q.merge(l[ve].cutVertex?Me.filter(function(Ae){return Ae.isLoop()}):Me)})}),p.push(Q)}(W,de))))})};o.forEach(function(P){if(P.isNode()){var z=P.id();z in l||(h=0,E(z,z),l[z].cutVertex=h>1)}});var M=Object.keys(l).filter(function(P){return l[P].cutVertex}).map(function(P){return o.getElementById(P)});return{cut:o.spawn(M),components:p}},aa=function(){var o=this,l={},f=0,h=[],p=[],g=o.spawn(o),w=function x(E){if(p.push(E),l[E]={index:f,low:f++,explored:!1},o.getElementById(E).connectedEdges().intersection(o).forEach(function(q){var Q=q.target().id();Q!==E&&(Q in l||x(Q),l[Q].explored||(l[E].low=Math.min(l[E].low,l[Q].low)))}),l[E].index===l[E].low){for(var P=o.spawn();;){var z=p.pop();if(P.merge(o.getElementById(z)),l[z].low=l[E].index,l[z].explored=!0,z===E)break}var W=P.edgesWith(P),j=P.merge(W);h.push(j),g=g.difference(j)}};return o.forEach(function(x){if(x.isNode()){var E=x.id();E in l||w(E)}}),{cut:g,components:h}},_o={};[Ve,qe,Zt,Vt,Hn,Ir,Sn,Qs,Pa,Pt,en,mf,Or,Fr,ud,fn,{hopcroftTarjanBiconnected:Gn,htbc:Gn,htb:Gn,hopcroftTarjanBiconnectedComponents:Gn},{tarjanStronglyConnected:aa,tsc:aa,tscc:aa,tarjanStronglyConnectedComponents:aa}].forEach(function(u){In(_o,u)});var sa=function u(o){if(!(this instanceof u))return new u(o);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof o&&o.call(this,this.fulfill.bind(this),this.reject.bind(this))};sa.prototype={fulfill:function(o){return Kn(this,1,"fulfillValue",o)},reject:function(o){return Kn(this,2,"rejectReason",o)},then:function(o,l){var f=this,h=new sa;return f.onFulfilled.push(Cu(o,h,"fulfill")),f.onRejected.push(Cu(l,h,"reject")),pc(f),h.proxy}};var Kn=function(o,l,f,h){return 0===o.state&&(o.state=l,o[f]=h,pc(o)),o},pc=function(o){1===o.state?bh(o,"onFulfilled",o.fulfillValue):2===o.state&&bh(o,"onRejected",o.rejectReason)},bh=function(o,l,f){if(0!==o[l].length){var h=o[l];o[l]=[];var p=function(){for(var w=0;w<h.length;w++)h[w](f)};"function"==typeof setImmediate?setImmediate(p):setTimeout(p,0)}},Cu=function(o,l,f){return function(h){if("function"!=typeof o)l[f].call(l,h);else{var p;try{p=o(h)}catch(g){return void l.reject(g)}zi(l,p)}}},zi=function u(o,l){if(o!==l&&o.proxy!==l){var f;if("object"===H(l)&&null!==l||"function"==typeof l)try{f=l.then}catch(p){return void o.reject(p)}if("function"!=typeof f)o.fulfill(l);else{var h=!1;try{f.call(l,function(p){h||(h=!0,p===l?o.reject(new TypeError("circular thenable chain")):u(o,p))},function(p){h||(h=!0,o.reject(p))})}catch(p){h||o.reject(p)}}}else o.reject(new TypeError("cannot resolve promise with itself"))};sa.all=function(u){return new sa(function(o,l){for(var f=new Array(u.length),h=0,p=function(x,E){f[x]=E,++h===u.length&&o(f)},g=0;g<u.length;g++)!function(w){var x=u[w];null!=x&&null!=x.then?x.then(function(P){p(w,P)},function(P){l(P)}):p(w,x)}(g)})},sa.resolve=function(u){return new sa(function(o,l){o(u)})},sa.reject=function(u){return new sa(function(o,l){l(u)})};var ds=typeof Promise<"u"?Promise:sa,Za=function(o,l,f){var h=lt(o),p=!h,g=this._private=In({duration:1e3},l,f);if(g.target=o,g.style=g.style||g.css,g.started=!1,g.playing=!1,g.hooked=!1,g.applying=!1,g.progress=0,g.completes=[],g.frames=[],g.complete&&ot(g.complete)&&g.completes.push(g.complete),p){var w=o.position();g.startPosition=g.startPosition||{x:w.x,y:w.y},g.startStyle=g.startStyle||o.cy().style().getAnimationStartStyle(o,g.style)}if(h){var x=o.pan();g.startPan={x:x.x,y:x.y},g.startZoom=o.zoom()}this.length=1,this[0]=this},uo=Za.prototype;In(uo,{instanceString:function(){return"animation"},hook:function(){var o=this._private;if(!o.hooked){var f=o.target._private.animation;(o.queue?f.queue:f.current).push(this),Mt(o.target)&&o.target.cy().addToAnimationPool(o.target),o.hooked=!0}return this},play:function(){var o=this._private;return 1===o.progress&&(o.progress=0),o.playing=!0,o.started=!1,o.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var o=this._private;return o.applying=!0,o.started=!1,o.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var o=this._private;return o.playing=!1,o.started=!1,this},stop:function(){var o=this._private;return o.playing=!1,o.started=!1,o.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(o){var l=this._private;return void 0===o?l.progress*l.duration:this.progress(o/l.duration)},progress:function(o){var l=this._private,f=l.playing;return void 0===o?l.progress:(f&&this.pause(),l.progress=o,l.started=!1,f&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var o=this._private,l=o.playing;l&&this.pause(),o.progress=1-o.progress,o.started=!1;var f=function(E,M){var P=o[E];null!=P&&(o[E]=o[M],o[M]=P)};if(f("zoom","startZoom"),f("pan","startPan"),f("position","startPosition"),o.style)for(var h=0;h<o.style.length;h++){var p=o.style[h],g=p.name,w=o.startStyle[g];o.startStyle[g]=p,o.style[h]=w}return l&&this.play(),this},promise:function(o){var f,l=this._private;return f="frame"===o?l.frames:l.completes,new ds(function(h,p){f.push(function(){h()})})}}),uo.complete=uo.completed,uo.run=uo.play,uo.running=uo.playing;var dd={data:function(o){return o=In({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(h){},beforeSet:function(h,p){},onSet:function(h){},canSet:function(h){return!0}},o),function(h,p){var g=o,w=this,x=void 0!==w.length,E=x?w:[w],M=x?w[0]:w;if(Be(h)){var W,z=-1!==h.indexOf(".")&&B.default(h);if(g.allowGetting&&void 0===p)return M&&(g.beforeGet(M),W=z&&void 0===M._private[g.field][h]?V.default(M._private[g.field],z):M._private[g.field][h]),W;if(g.allowSetting&&void 0!==p&&!g.immutableKeys[h]){var q=ne({},h,p);g.beforeSet(w,q);for(var Q=0,re=E.length;Q<re;Q++){var de=E[Q];g.canSet(de)&&(z&&void 0===M._private[g.field][h]?L.default(de._private[g.field],z,p):de._private[g.field][h]=p)}g.updateStyle&&w.updateStyle(),g.onSet(w),g.settingTriggersEvent&&w[g.triggerFnName](g.settingEvent)}}else if(g.allowSetting&&Ye(h)){var ve,Me,fe=h,Ae=Object.keys(fe);g.beforeSet(w,fe);for(var ye=0;ye<Ae.length;ye++)if(Me=fe[ve=Ae[ye]],!g.immutableKeys[ve])for(var we=0;we<E.length;we++){var ke=E[we];g.canSet(ke)&&(ke._private[g.field][ve]=Me)}g.updateStyle&&w.updateStyle(),g.onSet(w),g.settingTriggersEvent&&w[g.triggerFnName](g.settingEvent)}else if(g.allowBinding&&ot(h))w.on(g.bindingEvent,h);else if(g.allowGetting&&void 0===h){var Ee;return M&&(g.beforeGet(M),Ee=M._private[g.field]),Ee}return w}},removeData:function(o){return o=In({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},o),function(h){var p=o,g=this,x=void 0!==g.length?g:[g];if(Be(h)){for(var E=h.split(/\s+/),M=E.length,P=0;P<M;P++){var z=E[P];if(!Ft(z)&&!p.immutableKeys[z])for(var j=0,q=x.length;j<q;j++)x[j]._private[p.field][z]=void 0}p.triggerEvent&&g[p.triggerFnName](p.event)}else if(void 0===h){for(var Q=0,re=x.length;Q<re;Q++)for(var de=x[Q]._private[p.field],fe=Object.keys(de),ve=0;ve<fe.length;ve++){var Me=fe[ve];!p.immutableKeys[Me]&&(de[Me]=void 0)}p.triggerEvent&&g[p.triggerFnName](p.event)}return g}}},bl={eventAliasesOn:function(o){var l=o;l.addListener=l.listen=l.bind=l.on,l.unlisten=l.unbind=l.off=l.removeListener,l.trigger=l.emit,l.pon=l.promiseOn=function(f,h){var p=this,g=Array.prototype.slice.call(arguments,0);return new ds(function(w,x){var M=g.concat([function(W){p.off.apply(p,P),w(W)}]),P=M.concat([]);p.on.apply(p,M)})}}},ur={};[{animated:function(){return function(){var l=this,h=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return!1;var g=h[0];return g?g._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var l=this,h=void 0!==l.length?l:[l];if(!(this._private.cy||this).styleEnabled())return this;for(var g=0;g<h.length;g++)h[g]._private.animation.queue=[];return this}},delay:function(){return function(l,f){return(this._private.cy||this).styleEnabled()?this.animate({delay:l,duration:l,complete:f}):this}},delayAnimation:function(){return function(l,f){return(this._private.cy||this).styleEnabled()?this.animation({delay:l,duration:l,complete:f}):this}},animation:function(){return function(l,f){var h=this,p=void 0!==h.length,g=p?h:[h],w=this._private.cy||this,x=!p,E=!x;if(!w.styleEnabled())return this;var M=w.style();if(l=In({},l,f),0===Object.keys(l).length)return new Za(g[0],l);switch(void 0===l.duration&&(l.duration=400),l.duration){case"slow":l.duration=600;break;case"fast":l.duration=200}if(E&&(l.style=M.getPropsList(l.style||l.css),l.css=void 0),E&&null!=l.renderedPosition){var z=l.renderedPosition,W=w.pan(),j=w.zoom();l.position=pi(z,j,W)}if(x&&null!=l.panBy){var q=l.panBy,Q=w.pan();l.pan={x:Q.x+q.x,y:Q.y+q.y}}var re=l.center||l.centre;if(x&&null!=re){var de=w.getCenterPan(re.eles,l.zoom);null!=de&&(l.pan=de)}if(x&&null!=l.fit){var fe=l.fit,ve=w.getFitViewport(fe.eles||fe.boundingBox,fe.padding);null!=ve&&(l.pan=ve.pan,l.zoom=ve.zoom)}if(x&&Ye(l.zoom)){var Me=w.getZoomedViewport(l.zoom);null!=Me?(Me.zoomed&&(l.zoom=Me.zoom),Me.panned&&(l.pan=Me.pan)):l.zoom=null}return new Za(g[0],l)}},animate:function(){return function(l,f){var h=this,g=void 0!==h.length?h:[h];if(!(this._private.cy||this).styleEnabled())return this;f&&(l=In({},l,f));for(var x=0;x<g.length;x++){var E=g[x],M=E.animated()&&(void 0===l.queue||l.queue);E.animation(l,M?{queue:!0}:void 0).play()}return this}},stop:function(){return function(l,f){var h=this,g=void 0!==h.length?h:[h],w=this._private.cy||this;if(!w.styleEnabled())return this;for(var x=0;x<g.length;x++){for(var M=g[x]._private,P=M.animation.current,z=0;z<P.length;z++)f&&(P[z]._private.duration=0);l&&(M.animation.queue=[]),f||(M.animation.current=[])}return w.notify("draw"),this}}},dd,bl].forEach(function(u){In(ur,u)});var fd={animate:ur.animate(),animation:ur.animation(),animated:ur.animated(),clearQueue:ur.clearQueue(),delay:ur.delay(),delayAnimation:ur.delayAnimation(),stop:ur.stop()},qa={classes:function(o){var l=this;if(void 0===o){var f=[];return l[0]._private.classes.forEach(function(j){return f.push(j)}),f}ft(o)||(o=(o||"").match(/\S+/g)||[]);for(var h=[],p=new Ms(o),g=0;g<l.length;g++){for(var w=l[g],x=w._private,E=x.classes,M=!1,P=0;P<o.length;P++)if(!E.has(o[P])){M=!0;break}M||(M=E.size!==o.length),M&&(x.classes=p,h.push(w))}return h.length>0&&this.spawn(h).updateStyle().emit("class"),l},addClass:function(o){return this.toggleClass(o,!0)},hasClass:function(o){var l=this[0];return null!=l&&l._private.classes.has(o)},toggleClass:function(o,l){ft(o)||(o=o.match(/\S+/g)||[]);for(var f=this,h=void 0===l,p=[],g=0,w=f.length;g<w;g++)for(var x=f[g],E=x._private.classes,M=!1,P=0;P<o.length;P++){var z=o[P],W=E.has(z),j=!1;l||h&&!W?(E.add(z),j=!0):(!l||h&&W)&&(E.delete(z),j=!0),!M&&j&&(p.push(x),M=!0)}return p.length>0&&this.spawn(p).updateStyle().emit("class"),f},removeClass:function(o){return this.toggleClass(o,!1)},flashClass:function(o,l){var f=this;if(null==l)l=250;else if(0===l)return f;return f.addClass(o),setTimeout(function(){f.removeClass(o)},l),f}};qa.className=qa.classNames=qa.classes;var hn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:dn,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};hn.variable="(?:[\\w-.]|(?:\\\\"+hn.metaChar+"))+",hn.className="(?:[\\w-]|(?:\\\\"+hn.metaChar+"))+",hn.value=hn.string+"|"+hn.number,hn.id=hn.variable,function(){var u,o,l;for(u=hn.comparatorOp.split("|"),l=0;l<u.length;l++)hn.comparatorOp+="|@"+(o=u[l]);for(u=hn.comparatorOp.split("|"),l=0;l<u.length;l++)!((o=u[l]).indexOf("!")>=0)&&"="!==o&&(hn.comparatorOp+="|\\!"+o)}();var wl=[{selector:":selected",matches:function(o){return o.selected()}},{selector:":unselected",matches:function(o){return!o.selected()}},{selector:":selectable",matches:function(o){return o.selectable()}},{selector:":unselectable",matches:function(o){return!o.selectable()}},{selector:":locked",matches:function(o){return o.locked()}},{selector:":unlocked",matches:function(o){return!o.locked()}},{selector:":visible",matches:function(o){return o.visible()}},{selector:":hidden",matches:function(o){return!o.visible()}},{selector:":transparent",matches:function(o){return o.transparent()}},{selector:":grabbed",matches:function(o){return o.grabbed()}},{selector:":free",matches:function(o){return!o.grabbed()}},{selector:":removed",matches:function(o){return o.removed()}},{selector:":inside",matches:function(o){return!o.removed()}},{selector:":grabbable",matches:function(o){return o.grabbable()}},{selector:":ungrabbable",matches:function(o){return!o.grabbable()}},{selector:":animated",matches:function(o){return o.animated()}},{selector:":unanimated",matches:function(o){return!o.animated()}},{selector:":parent",matches:function(o){return o.isParent()}},{selector:":childless",matches:function(o){return o.isChildless()}},{selector:":child",matches:function(o){return o.isChild()}},{selector:":orphan",matches:function(o){return o.isOrphan()}},{selector:":nonorphan",matches:function(o){return o.isChild()}},{selector:":compound",matches:function(o){return o.isNode()?o.isParent():o.source().isParent()||o.target().isParent()}},{selector:":loop",matches:function(o){return o.isLoop()}},{selector:":simple",matches:function(o){return o.isSimple()}},{selector:":active",matches:function(o){return o.active()}},{selector:":inactive",matches:function(o){return!o.active()}},{selector:":backgrounding",matches:function(o){return o.backgrounding()}},{selector:":nonbackgrounding",matches:function(o){return!o.backgrounding()}}].sort(function(u,o){return function(o,l){return-1*ja(o,l)}(u.selector,o.selector)}),Rs=function(){for(var o,u={},l=0;l<wl.length;l++)u[(o=wl[l]).selector]=o.matches;return u}(),Eu="("+wl.map(function(u){return u.selector}).join("|")+")",el=function(o){return o.replace(new RegExp("\\\\("+hn.metaChar+")","g"),function(l,f){return f})},ii=function(o,l,f){o[o.length-1]=f},Yl=[{name:"group",query:!0,regex:"("+hn.group+")",populate:function(o,l,f){var p=le(f,1)[0];l.checks.push({type:0,value:"*"===p?p:p+"s"})}},{name:"state",query:!0,regex:Eu,populate:function(o,l,f){var h=le(f,1);l.checks.push({type:7,value:h[0]})}},{name:"id",query:!0,regex:"\\#("+hn.id+")",populate:function(o,l,f){var h=le(f,1);l.checks.push({type:8,value:el(h[0])})}},{name:"className",query:!0,regex:"\\.("+hn.className+")",populate:function(o,l,f){var h=le(f,1);l.checks.push({type:9,value:el(h[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+hn.variable+")\\s*\\]",populate:function(o,l,f){var h=le(f,1);l.checks.push({type:4,field:el(h[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+hn.variable+")\\s*("+hn.comparatorOp+")\\s*("+hn.value+")\\s*\\]",populate:function(o,l,f){var h=le(f,3),p=h[0],g=h[1],w=h[2];w=null!=new RegExp("^"+hn.string+"$").exec(w)?w.substring(1,w.length-1):parseFloat(w),l.checks.push({type:3,field:el(p),operator:g,value:w})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+hn.boolOp+")\\s*("+hn.variable+")\\s*\\]",populate:function(o,l,f){var h=le(f,2),p=h[0];l.checks.push({type:5,field:el(h[1]),operator:p})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+hn.meta+")\\s*("+hn.comparatorOp+")\\s*("+hn.number+")\\s*\\]\\]",populate:function(o,l,f){var h=le(f,3),g=h[1],w=h[2];l.checks.push({type:6,field:el(h[0]),operator:g,value:parseFloat(w)})}},{name:"nextQuery",separator:!0,regex:hn.separator,populate:function(o,l){var f=o.currentSubject,h=o.edgeCount,p=o.compoundCount,g=o[o.length-1];return null!=f&&(g.subject=f,o.currentSubject=null),g.edgeCount=h,g.compoundCount=p,o.edgeCount=0,o.compoundCount=0,o[o.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:hn.directedEdge,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},p={checks:[]};return f.checks.push({type:11,source:l,target:p}),ii(o,0,f),o.edgeCount++,p}var g={checks:[]},x={checks:[]};return g.checks.push({type:12,source:l,target:x}),ii(o,0,g),o.edgeCount++,x}},{name:"undirectedEdge",separator:!0,regex:hn.undirectedEdge,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},p={checks:[]};return f.checks.push({type:10,nodes:[l,p]}),ii(o,0,f),o.edgeCount++,p}var g={checks:[]},x={checks:[]};return g.checks.push({type:14,node:l,neighbor:x}),ii(o,0,g),x}},{name:"child",separator:!0,regex:hn.child,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},h={checks:[]};return f.checks.push({type:15,parent:o[o.length-1],child:h}),ii(o,0,f),o.compoundCount++,h}if(o.currentSubject===l){var g={checks:[]},x={checks:[]},E={checks:[]},M={checks:[]},P={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:x,subject:E}),E.checks=l.checks,l.checks=[{type:20}],P.checks.push({type:20}),x.checks.push({type:17,parent:P,child:M}),ii(o,0,g),o.currentSubject=E,o.compoundCount++,M}var z={checks:[]},W={checks:[]},j=[{type:17,parent:z,child:W}];return z.checks=l.checks,l.checks=j,o.compoundCount++,W}},{name:"descendant",separator:!0,regex:hn.descendant,populate:function(o,l){if(null==o.currentSubject){var f={checks:[]},h={checks:[]};return f.checks.push({type:16,ancestor:o[o.length-1],descendant:h}),ii(o,0,f),o.compoundCount++,h}if(o.currentSubject===l){var g={checks:[]},x={checks:[]},E={checks:[]},M={checks:[]},P={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:x,subject:E}),E.checks=l.checks,l.checks=[{type:20}],P.checks.push({type:20}),x.checks.push({type:18,ancestor:P,descendant:M}),ii(o,0,g),o.currentSubject=E,o.compoundCount++,M}var z={checks:[]},W={checks:[]},j=[{type:18,ancestor:z,descendant:W}];return z.checks=l.checks,l.checks=j,o.compoundCount++,W}},{name:"subject",modifier:!0,regex:hn.subject,populate:function(o,l){if(null!=o.currentSubject&&o.currentSubject!==l)return Sr("Redefinition of subject in selector `"+o.toString()+"`"),!1;o.currentSubject=l;var h=o[o.length-1].checks[0],p=null==h?null:h.type;11===p?h.type=13:10===p&&(h.type=14,h.node=h.nodes[1],h.neighbor=h.nodes[0],h.nodes=null)}}];Yl.forEach(function(u){return u.regexObj=new RegExp("^"+u.regex)});var Qa=function(o){for(var l,f,h,p=0;p<Yl.length;p++){var g=Yl[p],w=g.name,x=o.match(g.regexObj);if(null!=x){f=x,l=g,h=w,o=o.substring(x[0].length);break}}return{expr:l,match:f,name:h,remaining:o}},Ef={parse:function(o){var l=this,f=l.inputText=o,h=l[0]={checks:[]};for(l.length=1,f=function(o){var l=o.match(/^\s+/);return l&&(o=o.substring(l[0].length)),o}(f);;){var p=Qa(f);if(null==p.expr)return Sr("The selector `"+o+"`is invalid"),!1;var g=p.match.slice(1),w=p.expr.populate(l,h,g);if(!1===w)return!1;if(null!=w&&(h=w),(f=p.remaining).match(/^\s*$/))break}var x=l[l.length-1];null!=l.currentSubject&&(x.subject=l.currentSubject),x.edgeCount=l.edgeCount,x.compoundCount=l.compoundCount;for(var E=0;E<l.length;E++){var M=l[E];if(M.compoundCount>0&&M.edgeCount>0)return Sr("The selector `"+o+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(M.edgeCount>1)return Sr("The selector `"+o+"` is invalid because it uses multiple edge selectors"),!1;1===M.edgeCount&&Sr("The selector `"+o+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var o=function(M){return M??""},l=function(M){return Be(M)?'"'+M+'"':o(M)},f=function(M){return" "+M+" "},p=function(M,P){return M.checks.reduce(function(z,W,j){return z+(P===M&&0===j?"$":"")+function(M,P){var W=M.value;switch(M.type){case 0:var j=o(W);return j.substring(0,j.length-1);case 3:return"["+M.field+f(o(M.operator))+l(W)+"]";case 5:var de=M.field;return"["+o(M.operator)+de+"]";case 4:return"["+M.field+"]";case 6:return"[["+M.field+f(o(M.operator))+l(W)+"]]";case 7:return W;case 8:return"#"+W;case 9:return"."+W;case 17:case 15:return p(M.parent,P)+f(">")+p(M.child,P);case 18:case 16:return p(M.ancestor,P)+" "+p(M.descendant,P);case 19:var Ae=p(M.left,P),ye=p(M.subject,P),Te=p(M.right,P);return Ae+(Ae.length>0?" ":"")+ye+Te;case 20:return""}}(W,P)},"")},g="",w=0;w<this.length;w++){var x=this[w];g+=p(x,x.subject),this.length>1&&w<this.length-1&&(g+=", ")}return this.toStringCache=g,g}},fs=function(o,l,f){var h,x,E,p=Be(o),g=Xe(o),w=Be(f),M=!1,P=!1,z=!1;switch(l.indexOf("!")>=0&&(l=l.replace("!",""),P=!0),l.indexOf("@")>=0&&(l=l.replace("@",""),M=!0),(p||w||M)&&(x=p||g?""+o:"",E=""+f),M&&(o=x=x.toLowerCase(),f=E=E.toLowerCase()),l){case"*=":h=x.indexOf(E)>=0;break;case"$=":h=x.indexOf(E,x.length-E.length)>=0;break;case"^=":h=0===x.indexOf(E);break;case"=":h=o===f;break;case">":z=!0,h=o>f;break;case">=":z=!0,h=o>=f;break;case"<":z=!0,h=o<f;break;case"<=":z=!0,h=o<=f;break;default:h=!1}return P&&(null!=o||!z)&&(h=!h),h},Po=function(o,l){return o.data(l)},vi=[],bi=function(o,l){return o.checks.every(function(f){return vi[f.type](f,l)})};vi[0]=function(u,o){var l=u.value;return"*"===l||l===o.group()},vi[7]=function(u,o){return function(o,l){return Rs[o](l)}(u.value,o)},vi[8]=function(u,o){var l=u.value;return o.id()===l},vi[9]=function(u,o){return o.hasClass(u.value)},vi[6]=function(u,o){var f=u.operator,h=u.value;return fs(function(o,l){return o[l]()}(o,u.field),f,h)},vi[3]=function(u,o){var f=u.operator,h=u.value;return fs(Po(o,u.field),f,h)},vi[5]=function(u,o){var f=u.operator;return function(o,l){switch(l){case"?":return!!o;case"!":return!o;case"^":return void 0===o}}(Po(o,u.field),f)},vi[4]=function(u,o){return function(o){return void 0!==o}(Po(o,u.field))},vi[10]=function(u,o){var l=u.nodes[0],f=u.nodes[1],h=o.source(),p=o.target();return bi(l,h)&&bi(f,p)||bi(f,h)&&bi(l,p)},vi[14]=function(u,o){return bi(u.node,o)&&o.neighborhood().some(function(l){return l.isNode()&&bi(u.neighbor,l)})},vi[11]=function(u,o){return bi(u.source,o.source())&&bi(u.target,o.target())},vi[12]=function(u,o){return bi(u.source,o)&&o.outgoers().some(function(l){return l.isNode()&&bi(u.target,l)})},vi[13]=function(u,o){return bi(u.target,o)&&o.incomers().some(function(l){return l.isNode()&&bi(u.source,l)})},vi[15]=function(u,o){return bi(u.child,o)&&bi(u.parent,o.parent())},vi[17]=function(u,o){return bi(u.parent,o)&&o.children().some(function(l){return bi(u.child,l)})},vi[16]=function(u,o){return bi(u.descendant,o)&&o.ancestors().some(function(l){return bi(u.ancestor,l)})},vi[18]=function(u,o){return bi(u.ancestor,o)&&o.descendants().some(function(l){return bi(u.descendant,l)})},vi[19]=function(u,o){return bi(u.subject,o)&&bi(u.left,o)&&bi(u.right,o)},vi[20]=function(){return!0},vi[1]=function(u,o){return u.value.has(o)},vi[2]=function(u,o){return(0,u.value)(o)};var fy={matches:function(o){for(var f=0;f<this.length;f++)if(bi(this[f],o))return!0;return!1},filter:function(o){var l=this;if(1===l.length&&1===l[0].checks.length&&8===l[0].checks[0].type)return o.getElementById(l[0].checks[0].value).collection();var f=function(p){for(var g=0;g<l.length;g++)if(bi(l[g],p))return!0;return!1};return null==l.text()&&(f=function(){return!0}),o.filter(f)}},Du=function(o){this.inputText=o,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==o||Be(o)&&o.match(/^\s*$/)||(Mt(o)?this.addQuery({checks:[{type:1,value:o.collection()}]}):ot(o)?this.addQuery({checks:[{type:2,value:o}]}):Be(o)?this.parse(o)||(this.invalid=!0):ni("A selector must be created from a string; found "))},_l=Du.prototype;[Ef,fy].forEach(function(u){return In(_l,u)}),_l.text=function(){return this.inputText},_l.size=function(){return this.length},_l.eq=function(u){return this[u]},_l.sameText=function(u){return!this.invalid&&!u.invalid&&this.text()===u.text()},_l.addQuery=function(u){this[this.length++]=u},_l.selector=_l.toString;var Xl={allAre:function(o){var l=new Du(o);return this.every(function(f){return l.matches(f)})},is:function(o){var l=new Du(o);return this.some(function(f){return l.matches(f)})},some:function(o,l){for(var f=0;f<this.length;f++)if(l?o.apply(l,[this[f],f,this]):o(this[f],f,this))return!0;return!1},every:function(o,l){for(var f=0;f<this.length;f++)if(!(l?o.apply(l,[this[f],f,this]):o(this[f],f,this)))return!1;return!0},same:function(o){if(this===o)return!0;o=this.cy().collection(o);var l=this.length;return l===o.length&&(1===l?this[0]===o[0]:this.every(function(h){return o.hasElementWithId(h.id())}))},anySame:function(o){return o=this.cy().collection(o),this.some(function(l){return o.hasElementWithId(l.id())})},allAreNeighbors:function(o){o=this.cy().collection(o);var l=this.neighborhood();return o.every(function(f){return l.hasElementWithId(f.id())})},contains:function(o){o=this.cy().collection(o);var l=this;return o.every(function(f){return l.hasElementWithId(f.id())})}};Xl.allAreNeighbours=Xl.allAreNeighbors,Xl.has=Xl.contains,Xl.equal=Xl.equals=Xl.same;var Kl,Df,Ja=function(o,l){return function(h,p,g,w){var M,x=h,E=this;if(null==x?M="":Mt(x)&&1===x.length&&(M=x.id()),1===E.length&&M){var P=E[0]._private,z=P.traversalCache=P.traversalCache||{},W=z[l]=z[l]||[],j=as(M);return W[j]||(W[j]=o.call(E,h,p,g,w))}return o.call(E,h,p,g,w)}},pd={parent:function(o){var l=[];if(1===this.length){var f=this[0]._private.parent;if(f)return f}for(var h=0;h<this.length;h++){var g=this[h]._private.parent;g&&l.push(g)}return this.spawn(l,!0).filter(o)},parents:function(o){for(var l=[],f=this.parent();f.nonempty();){for(var h=0;h<f.length;h++)l.push(f[h]);f=f.parent()}return this.spawn(l,!0).filter(o)},commonAncestors:function(o){for(var l,f=0;f<this.length;f++){var p=this[f].parents();l=(l=l||p).intersect(p)}return l.filter(o)},orphans:function(o){return this.stdFilter(function(l){return l.isOrphan()}).filter(o)},nonorphans:function(o){return this.stdFilter(function(l){return l.isChild()}).filter(o)},children:Ja(function(u){for(var o=[],l=0;l<this.length;l++)for(var h=this[l]._private.children,p=0;p<h.length;p++)o.push(h[p]);return this.spawn(o,!0).filter(u)},"children"),siblings:function(o){return this.parent().children().not(this).filter(o)},isParent:function(){var o=this[0];if(o)return o.isNode()&&0!==o._private.children.length},isChildless:function(){var o=this[0];if(o)return o.isNode()&&0===o._private.children.length},isChild:function(){var o=this[0];if(o)return o.isNode()&&null!=o._private.parent},isOrphan:function(){var o=this[0];if(o)return o.isNode()&&null==o._private.parent},descendants:function(o){var l=[];return function f(h){for(var p=0;p<h.length;p++){var g=h[p];l.push(g),g.children().nonempty()&&f(g.children())}}(this.children()),this.spawn(l,!0).filter(o)}};function xf(u,o,l,f){for(var h=[],p=new Ms,w=u.cy().hasCompoundNodes(),x=0;x<u.length;x++){var E=u[x];l?h.push(E):w&&f(h,p,E)}for(;h.length>0;){var M=h.shift();o(M),p.add(M.id()),w&&f(h,p,M)}return u}function Ch(u,o,l){if(l.isParent())for(var f=l._private.children,h=0;h<f.length;h++){var p=f[h];o.has(p.id())||u.push(p)}}function Ap(u,o,l){if(l.isChild()){var f=l._private.parent;o.has(f.id())||u.push(f)}}function lm(u,o,l){Ap(u,o,l),Ch(u,o,l)}pd.forEachDown=function(u){return xf(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Ch)},pd.forEachUp=function(u){return xf(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Ap)},pd.forEachUpAndDown=function(u){return xf(this,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],lm)},pd.ancestors=pd.parents,Kl=Df={data:ur.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ur.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ur.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ur.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ur.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ur.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var o=this[0];if(o)return o._private.data.id}},Kl.attr=Kl.data,Kl.removeAttr=Kl.removeData;var Sf=Df,Eh={};function gd(u){return function(o){var l=this;if(void 0===o&&(o=!0),0===l.length);else if(l.isNode()&&!l.removed()){for(var f=0,h=l[0],p=h._private.edges,g=0;g<p.length;g++){var w=p[g];!o&&w.isLoop()||(f+=u(h,w))}return f}}}function co(u,o){return function(l){for(var f,h=this.nodes(),p=0;p<h.length;p++){var w=h[p][u](l);void 0!==w&&(void 0===f||o(w,f))&&(f=w)}return f}}In(Eh,{degree:gd(function(u,o){return o.source().same(o.target())?2:1}),indegree:gd(function(u,o){return o.target().same(u)?1:0}),outdegree:gd(function(u,o){return o.source().same(u)?1:0})}),In(Eh,{minDegree:co("degree",function(u,o){return u<o}),maxDegree:co("degree",function(u,o){return u>o}),minIndegree:co("indegree",function(u,o){return u<o}),maxIndegree:co("indegree",function(u,o){return u>o}),minOutdegree:co("outdegree",function(u,o){return u<o}),maxOutdegree:co("outdegree",function(u,o){return u>o})}),In(Eh,{totalDegree:function(o){for(var l=0,f=this.nodes(),h=0;h<f.length;h++)l+=f[h].degree(o);return l}});var es,um,md=function(o,l,f){for(var h=0;h<o.length;h++){var p=o[h];if(!p.locked()){var g=p._private.position,w={x:null!=l.x?l.x-g.x:0,y:null!=l.y?l.y-g.y:0};p.isParent()&&!(0===w.x&&0===w.y)&&p.children().shift(w,f),p.dirtyBoundingBoxCache()}}},ya={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(o){o.updateCompoundBounds()},beforeSet:function(o,l){md(o,l,!1)},onSet:function(o){o.dirtyCompoundBoundsCache()},canSet:function(o){return!o.locked()}};es=um={position:ur.data(ya),silentPosition:ur.data(In({},ya,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(o,l){md(o,l,!0)},onSet:function(o){o.dirtyCompoundBoundsCache()}})),positions:function(o,l){if(Ye(o))l?this.silentPosition(o):this.position(o);else if(ot(o)){var f=o,h=this.cy();h.startBatch();for(var p=0;p<this.length;p++){var w,g=this[p];(w=f(g,p))&&(l?g.silentPosition(w):g.position(w))}h.endBatch()}return this},silentPositions:function(o){return this.positions(o,!0)},shift:function(o,l,f){var h;if(Ye(o)?(h={x:Xe(o.x)?o.x:0,y:Xe(o.y)?o.y:0},f=l):Be(o)&&Xe(l)&&((h={x:0,y:0})[o]=l),null!=h){var p=this.cy();p.startBatch();for(var g=0;g<this.length;g++){var w=this[g];if(!(p.hasCompoundNodes()&&w.isChild()&&w.ancestors().anySame(this))){var x=w.position(),E={x:x.x+h.x,y:x.y+h.y};f?w.silentPosition(E):w.position(E)}}p.endBatch()}return this},silentShift:function(o,l){return Ye(o)?this.shift(o,!0):Be(o)&&Xe(l)&&this.shift(o,l,!0),this},renderedPosition:function(o,l){var f=this[0],h=this.cy(),p=h.zoom(),g=h.pan(),w=Ye(o)?o:void 0,x=void 0!==w||void 0!==l&&Be(o);if(f&&f.isNode()){if(!x){var P=f.position();return w=Pr(P,p,g),void 0===o?w:w[o]}for(var E=0;E<this.length;E++){var M=this[E];void 0!==l?M.position(o,(l-g[o])/p):void 0!==w&&M.position(pi(w,p,g))}}else if(!x)return;return this},relativePosition:function(o,l){var f=this[0],h=this.cy(),p=Ye(o)?o:void 0,g=void 0!==p||void 0!==l&&Be(o),w=h.hasCompoundNodes();if(f&&f.isNode()){if(!g){var j=f.position(),q=w?f.parent():null,Q=q&&q.length>0;Q&&(q=q[0]);var de=Q?q.position():{x:0,y:0};return p={x:j.x-de.x,y:j.y-de.y},void 0===o?p:p[o]}for(var x=0;x<this.length;x++){var E=this[x],M=w?E.parent():null,P=M&&M.length>0;P&&(M=M[0]);var W=P?M.position():{x:0,y:0};void 0!==l?E.position(o,l+W[o]):void 0!==p&&E.position({x:p.x+W.x,y:p.y+W.y})}}else if(!g)return;return this}},es.modelPosition=es.point=es.position,es.modelPositions=es.points=es.positions,es.renderedPoint=es.renderedPosition,es.relativePoint=es.relativePosition;var ua,ba,jr=um;ua=ba={},ba.renderedBoundingBox=function(u){var o=this.boundingBox(u),l=this.cy(),f=l.zoom(),h=l.pan(),p=o.x1*f+h.x,g=o.x2*f+h.x,w=o.y1*f+h.y,x=o.y2*f+h.y;return{x1:p,x2:g,y1:w,y2:x,w:g-p,h:x-w}},ba.dirtyCompoundBoundsCache=function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();return o.styleEnabled()&&o.hasCompoundNodes()?(this.forEachUp(function(l){if(l.isParent()){var f=l._private;f.compoundBoundsClean=!1,f.bbCache=null,u||l.emitAndNotify("bounds")}}),this):this},ba.updateCompoundBounds=function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();if(!o.styleEnabled()||!o.hasCompoundNodes())return this;if(!u&&o.batching())return this;function l(g){if(g.isParent()){var w=g._private,x=g.children(),E="include"===g.pstyle("compound-sizing-wrt-labels").value,M={width:{val:g.pstyle("min-width").pfValue,left:g.pstyle("min-width-bias-left"),right:g.pstyle("min-width-bias-right")},height:{val:g.pstyle("min-height").pfValue,top:g.pstyle("min-height-bias-top"),bottom:g.pstyle("min-height-bias-bottom")}},P=x.boundingBox({includeLabels:E,includeOverlays:!1,useCache:!1}),z=w.position;(0===P.w||0===P.h)&&((P={w:g.pstyle("width").pfValue,h:g.pstyle("height").pfValue}).x1=z.x-P.w/2,P.x2=z.x+P.w/2,P.y1=z.y-P.h/2,P.y2=z.y+P.h/2);var q=M.width.left.value;"px"===M.width.left.units&&M.width.val>0&&(q=100*q/M.width.val);var Q=M.width.right.value;"px"===M.width.right.units&&M.width.val>0&&(Q=100*Q/M.width.val);var re=M.height.top.value;"px"===M.height.top.units&&M.height.val>0&&(re=100*re/M.height.val);var de=M.height.bottom.value;"px"===M.height.bottom.units&&M.height.val>0&&(de=100*de/M.height.val);var fe=W(M.width.val-P.w,q,Q),ve=fe.biasDiff,Me=fe.biasComplementDiff,Ae=W(M.height.val-P.h,re,de),ye=Ae.biasDiff,Te=Ae.biasComplementDiff;w.autoPadding=function j(we,ke,Pe,Ee){if("%"!==Pe.units)return"px"===Pe.units?Pe.pfValue:0;switch(Ee){case"width":return we>0?Pe.pfValue*we:0;case"height":return ke>0?Pe.pfValue*ke:0;case"average":return we>0&&ke>0?Pe.pfValue*(we+ke)/2:0;case"min":return we>0&&ke>0?we>ke?Pe.pfValue*ke:Pe.pfValue*we:0;case"max":return we>0&&ke>0?we>ke?Pe.pfValue*we:Pe.pfValue*ke:0;default:return 0}}(P.w,P.h,g.pstyle("padding"),g.pstyle("padding-relative-to").value),w.autoWidth=Math.max(P.w,M.width.val),z.x=(-ve+P.x1+P.x2+Me)/2,w.autoHeight=Math.max(P.h,M.height.val),z.y=(-ye+P.y1+P.y2+Te)/2}function W(we,ke,Pe){var Ee=0,He=0,Oe=ke+Pe;return we>0&&Oe>0&&(Ee=ke/Oe*we,He=Pe/Oe*we),{biasDiff:Ee,biasComplementDiff:He}}}for(var f=0;f<this.length;f++){var h=this[f],p=h._private;(!p.compoundBoundsClean||u)&&(l(h),o.batching()||(p.compoundBoundsClean=!0))}return this};var Fo=function(o){return o===1/0||o===-1/0?0:o},hs=function(o,l,f,h,p){h-l==0||p-f==0||null==l||null==f||null==h||null==p||(o.x1=l<o.x1?l:o.x1,o.x2=h>o.x2?h:o.x2,o.y1=f<o.y1?f:o.y1,o.y2=p>o.y2?p:o.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1)},Bo=function(o,l){return null==l?o:hs(o,l.x1,l.y1,l.x2,l.y2)},Cl=function(o,l,f){return qi(o,l,f)},Ji=function(o,l,f){if(!l.cy().headless()){var x,E,h=l._private,p=h.rstyle,g=p.arrowWidth/2;if("none"!==l.pstyle(f+"-arrow-shape").value){"source"===f?(x=p.srcX,E=p.srcY):"target"===f?(x=p.tgtX,E=p.tgtY):(x=p.midX,E=p.midY);var M=h.arrowBounds=h.arrowBounds||{},P=M[f]=M[f]||{};P.x1=x-g,P.y1=E-g,P.x2=x+g,P.y2=E+g,P.w=P.x2-P.x1,P.h=P.y2-P.y1,Oa(P,1),hs(o,P.x1,P.y1,P.x2,P.y2)}}},gc=function(o,l,f){if(!l.cy().headless()){var h,p=l._private,g=p.rstyle;if(l.pstyle((h=f?f+"-":"")+"label").strValue){var Pe,Ee,He,Oe,x=l.pstyle("text-halign"),E=l.pstyle("text-valign"),M=Cl(g,"labelWidth",f),P=Cl(g,"labelHeight",f),z=Cl(g,"labelX",f),W=Cl(g,"labelY",f),j=l.pstyle(h+"text-margin-x").pfValue,q=l.pstyle(h+"text-margin-y").pfValue,Q=l.isEdge(),re=l.pstyle(h+"text-rotation"),de=l.pstyle("text-outline-width").pfValue,ve=l.pstyle("text-border-width").pfValue/2,Me=l.pstyle("text-background-padding").pfValue,ye=P,Te=M,we=Te/2,ke=ye/2;if(Q)Pe=z-we,Ee=z+we,He=W-ke,Oe=W+ke;else{switch(x.value){case"left":Pe=z-Te,Ee=z;break;case"center":Pe=z-we,Ee=z+we;break;case"right":Pe=z,Ee=z+Te}switch(E.value){case"top":He=W-ye,Oe=W;break;case"center":He=W-ke,Oe=W+ke;break;case"bottom":He=W,Oe=W+ye}}Pe+=j-Math.max(de,ve)-Me-2,Ee+=j+Math.max(de,ve)+Me+2,He+=q-Math.max(de,ve)-Me-2,Oe+=q+Math.max(de,ve)+Me+2;var Ke=f||"main",Ue=p.labelBounds,Ge=Ue[Ke]=Ue[Ke]||{};Ge.x1=Pe,Ge.y1=He,Ge.x2=Ee,Ge.y2=Oe,Ge.w=Ee-Pe,Ge.h=Oe-He;var rt=Q&&"autorotate"===re.strValue;if(rt||null!=re.pfValue&&0!==re.pfValue){var vt=rt?Cl(p.rstyle,"labelAngle",f):re.pfValue,at=Math.cos(vt),mt=Math.sin(vt),It=(Pe+Ee)/2,At=(He+Oe)/2;if(!Q){switch(x.value){case"left":It=Ee;break;case"right":It=Pe}switch(E.value){case"top":At=Oe;break;case"bottom":At=He}}var xt=function(ar,on){return{x:(ar-=It)*at-(on-=At)*mt+It,y:ar*mt+on*at+At}},wt=xt(Pe,He),Je=xt(Pe,Oe),Tt=xt(Ee,He),Ot=xt(Ee,Oe);Pe=Math.min(wt.x,Je.x,Tt.x,Ot.x),Ee=Math.max(wt.x,Je.x,Tt.x,Ot.x),He=Math.min(wt.y,Je.y,Tt.y,Ot.y),Oe=Math.max(wt.y,Je.y,Tt.y,Ot.y)}var Wt=Ke+"Rot",tn=Ue[Wt]=Ue[Wt]||{};tn.x1=Pe,tn.y1=He,tn.x2=Ee,tn.y2=Oe,tn.w=Ee-Pe,tn.h=Oe-He,hs(o,Pe,He,Ee,Oe),hs(p.labelBounds.all,Pe,He,Ee,Oe)}return o}},vd=function(o){var l=0,f=function(g){return(g?1:0)<<l++},h=0;return h+=f(o.incudeNodes),h+=f(o.includeEdges),h+=f(o.includeLabels),h+=f(o.includeMainLabels),h+=f(o.includeSourceLabels),(h+=f(o.includeTargetLabels))+f(o.includeOverlays)},mc=function(o){if(o.isEdge()){var l=o.source().position(),f=o.target().position(),h=function(g){return Math.round(g)};return function(o,l){var f={value:0,done:!1},h=0,p=o.length;return Qc({next:function(){return h<p?f.value=o[h++]:f.done=!0,f}},void 0)}([h(l.x),h(l.y),h(f.x),h(f.y)])}return 0},ps=function(o,l){var h,f=o._private,p=o.isEdge(),w=(null==l?Np:vd(l))===Np,x=mc(o),E=f.bbCachePosKey===x,M=l.useCache&&E,P=function(q){return null==q._private.bbCache||q._private.styleDirty};if(!M||P(o)||p&&P(o.source())||P(o.target())?(E||o.recalculateRenderedStyle(M),h=function(o,l){var M,P,z,W,j,q,f=o._private.cy,h=f.styleEnabled(),p=f.headless(),g=Si(),w=o._private,x=o.isNode(),E=o.isEdge(),Q=w.rstyle,re=x&&h?o.pstyle("bounds-expansion").pfValue:[0],de=function(On){return"none"!==On.pstyle("display").value},fe=!h||de(o)&&(!E||de(o.source())&&de(o.target()));if(fe){var Me=0;h&&l.includeOverlays&&0!==o.pstyle("overlay-opacity").value&&(Me=o.pstyle("overlay-padding").value);var ye=0;h&&l.includeUnderlays&&0!==o.pstyle("underlay-opacity").value&&(ye=o.pstyle("underlay-padding").value);var Te=Math.max(Me,ye),ke=0;if(h&&(ke=o.pstyle("width").pfValue/2),x&&l.includeNodes){var Pe=o.position();j=Pe.x,q=Pe.y;var He=o.outerWidth()/2,Ke=o.outerHeight()/2;hs(g,M=j-He,z=q-Ke,P=j+He,W=q+Ke)}else if(E&&l.includeEdges)if(h&&!p){var Ue=o.pstyle("curve-style").strValue;if(M=Math.min(Q.srcX,Q.midX,Q.tgtX),P=Math.max(Q.srcX,Q.midX,Q.tgtX),z=Math.min(Q.srcY,Q.midY,Q.tgtY),W=Math.max(Q.srcY,Q.midY,Q.tgtY),hs(g,M-=ke,z-=ke,P+=ke,W+=ke),"haystack"===Ue){var Ge=Q.haystackPts;if(Ge&&2===Ge.length){if((M=Ge[0].x)>(P=Ge[1].x)){var rt=M;M=P,P=rt}if((z=Ge[0].y)>(W=Ge[1].y)){var ct=z;z=W,W=ct}hs(g,M-ke,z-ke,P+ke,W+ke)}}else if("bezier"===Ue||"unbundled-bezier"===Ue||"segments"===Ue||"taxi"===Ue){var vt;switch(Ue){case"bezier":case"unbundled-bezier":vt=Q.bezierPts;break;case"segments":case"taxi":vt=Q.linePts}if(null!=vt)for(var at=0;at<vt.length;at++){var mt=vt[at];hs(g,M=mt.x-ke,z=mt.y-ke,P=mt.x+ke,W=mt.y+ke)}}}else{var At=o.source().position(),wt=o.target().position();if((M=At.x)>(P=wt.x)){var Je=M;M=P,P=Je}if((z=At.y)>(W=wt.y)){var Tt=z;z=W,W=Tt}hs(g,M-=ke,z-=ke,P+=ke,W+=ke)}if(h&&l.includeEdges&&E&&(Ji(g,o,"mid-source"),Ji(g,o,"mid-target"),Ji(g,o,"source"),Ji(g,o,"target")),h&&"yes"===o.pstyle("ghost").value){var Wt=o.pstyle("ghost-offset-x").pfValue,tn=o.pstyle("ghost-offset-y").pfValue;hs(g,g.x1+Wt,g.y1+tn,g.x2+Wt,g.y2+tn)}var $n=w.bodyBounds=w.bodyBounds||{};io($n,g),Is($n,re),Oa($n,1),h&&hs(g,(M=g.x1)-Te,(z=g.y1)-Te,(P=g.x2)+Te,(W=g.y2)+Te);var ar=w.overlayBounds=w.overlayBounds||{};io(ar,g),Is(ar,re),Oa(ar,1);var on=w.labelBounds=w.labelBounds||{};null!=on.all?function(o){o.x1=1/0,o.y1=1/0,o.x2=-1/0,o.y2=-1/0,o.w=0,o.h=0}(on.all):on.all=Si(),h&&l.includeLabels&&(l.includeMainLabels&&gc(g,o,null),E&&(l.includeSourceLabels&&gc(g,o,"source"),l.includeTargetLabels&&gc(g,o,"target")))}return g.x1=Fo(g.x1),g.y1=Fo(g.y1),g.x2=Fo(g.x2),g.y2=Fo(g.y2),g.w=Fo(g.x2-g.x1),g.h=Fo(g.y2-g.y1),g.w>0&&g.h>0&&fe&&(Is(g,re),Oa(g,1)),g}(o,vc),f.bbCache=h,f.bbCachePosKey=x):h=f.bbCache,!w){var W=o.isNode();h=Si(),(l.includeNodes&&W||l.includeEdges&&!W)&&Bo(h,l.includeOverlays?f.overlayBounds:f.bodyBounds),l.includeLabels&&(l.includeMainLabels&&(!p||l.includeSourceLabels&&l.includeTargetLabels)?Bo(h,f.labelBounds.all):(l.includeMainLabels&&Bo(h,f.labelBounds.mainRot),l.includeSourceLabels&&Bo(h,f.labelBounds.sourceRot),l.includeTargetLabels&&Bo(h,f.labelBounds.targetRot))),h.w=h.x2-h.x1,h.h=h.y2-h.y1}return h},vc={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},Np=vd(vc),xh=si(vc);ba.boundingBox=function(u){var o;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==u&&void 0!==u.useCache&&!0!==u.useCache){o=Si();var l=xh(u=u||vc),f=this;if(f.cy().styleEnabled())for(var g=0;g<f.length;g++){var w=f[g],x=w._private,E=mc(w);w.recalculateRenderedStyle(l.useCache&&x.bbCachePosKey===E&&!x.styleDirty)}this.updateCompoundBounds(!u.useCache);for(var z=0;z<f.length;z++)Bo(o,ps(f[z],l))}else u=void 0===u?vc:xh(u),o=ps(this[0],u);return o.x1=Fo(o.x1),o.y1=Fo(o.y1),o.x2=Fo(o.x2),o.y2=Fo(o.y2),o.w=Fo(o.x2-o.x1),o.h=Fo(o.y2-o.y1),o},ba.dirtyBoundingBoxCache=function(){for(var u=0;u<this.length;u++){var o=this[u]._private;o.bbCache=null,o.bbCachePosKey=null,o.bodyBounds=null,o.overlayBounds=null,o.labelBounds.all=null,o.labelBounds.source=null,o.labelBounds.target=null,o.labelBounds.main=null,o.labelBounds.sourceRot=null,o.labelBounds.targetRot=null,o.labelBounds.mainRot=null,o.arrowBounds.source=null,o.arrowBounds.target=null,o.arrowBounds["mid-source"]=null,o.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},ba.boundingBoxAt=function(u){var o=this.nodes(),l=this.cy(),f=l.hasCompoundNodes(),h=l.collection();if(f&&(h=o.filter(function(E){return E.isParent()}),o=o.not(h)),Ye(u)){var p=u;u=function(){return p}}l.startBatch(),o.forEach(function(M,P){return M._private.bbAtOldPos=u(M,P)}).silentPositions(u),f&&(h.dirtyCompoundBoundsCache(),h.dirtyBoundingBoxCache(),h.updateCompoundBounds(!0));var x=function(o){return{x1:o.x1,x2:o.x2,w:o.w,y1:o.y1,y2:o.y2,h:o.h}}(this.boundingBox({useCache:!1}));return o.silentPositions(function(M){return M._private.bbAtOldPos}),f&&(h.dirtyCompoundBoundsCache(),h.dirtyBoundingBoxCache(),h.updateCompoundBounds(!0)),l.endBatch(),x},ua.boundingbox=ua.bb=ua.boundingBox,ua.renderedBoundingbox=ua.renderedBoundingBox;var Su,El,yc=ba;Su=El={};var Op=function(o){o.uppercaseName=Yr(o.name),o.autoName="auto"+o.uppercaseName,o.labelName="label"+o.uppercaseName,o.outerName="outer"+o.uppercaseName,o.uppercaseOuterName=Yr(o.outerName),Su[o.name]=function(){var f=this[0],h=f._private;if(f){if(h.cy._private.styleEnabled){if(f.isParent())return f.updateCompoundBounds(),h[o.autoName]||0;var w=f.pstyle(o.name);return"label"===w.strValue?(f.recalculateRenderedStyle(),h.rstyle[o.labelName]||0):w.pfValue}return 1}},Su["outer"+o.uppercaseName]=function(){var f=this[0];if(f)return f._private.cy._private.styleEnabled?f[o.name]()+f.pstyle("border-width").pfValue+2*f.padding():1},Su["rendered"+o.uppercaseName]=function(){var f=this[0];if(f)return f[o.name]()*this.cy().zoom()},Su["rendered"+o.uppercaseOuterName]=function(){var f=this[0];if(f)return f[o.outerName]()*this.cy().zoom()}};Op({name:"width"}),Op({name:"height"}),El.padding=function(){var u=this[0],o=u._private;return u.isParent()?(u.updateCompoundBounds(),void 0!==o.autoPadding?o.autoPadding:u.pstyle("padding").pfValue):u.pstyle("padding").pfValue},El.paddedHeight=function(){var u=this[0];return u.height()+2*u.padding()},El.paddedWidth=function(){var u=this[0];return u.width()+2*u.padding()};var cm=El,Mf={controlPoints:{get:function(o){return o.renderer().getControlPoints(o)},mult:!0},segmentPoints:{get:function(o){return o.renderer().getSegmentPoints(o)},mult:!0},sourceEndpoint:{get:function(o){return o.renderer().getSourceEndpoint(o)}},targetEndpoint:{get:function(o){return o.renderer().getTargetEndpoint(o)}},midpoint:{get:function(o){return o.renderer().getEdgeMidpoint(o)}}},Sh=Object.keys(Mf).reduce(function(u,o){var l=Mf[o],f=function(o){return"rendered"+o[0].toUpperCase()+o.substr(1)}(o);return u[o]=function(){return function(o,l){if(o.isEdge())return l(o)}(this,l.get)},u[f]=l.mult?function(){return function(o,l){if(o.isEdge()){var f=o.cy(),h=f.pan(),p=f.zoom();return l(o).map(function(g){return Pr(g,p,h)})}}(this,l.get)}:function(){return function(o,l){if(o.isEdge()){var f=o.cy();return Pr(l(o),f.zoom(),f.pan())}}(this,l.get)},u},{}),Th=In({},jr,yc,cm,Sh),wd=function(o,l){this.recycle(o,l)};function _d(){return!1}function Fa(){return!0}wd.prototype={instanceString:function(){return"event"},recycle:function(o,l){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=_d,null!=o&&o.preventDefault?(this.type=o.type,this.isDefaultPrevented=o.defaultPrevented?Fa:_d):null!=o&&o.type?l=o:this.type=o,null!=l&&(this.originalEvent=l.originalEvent,this.type=null!=l.type?l.type:this.type,this.cy=l.cy,this.target=l.target,this.position=l.position,this.renderedPosition=l.renderedPosition,this.namespace=l.namespace,this.layout=l.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var f=this.position,h=this.cy.zoom(),p=this.cy.pan();this.renderedPosition={x:f.x*h+p.x,y:f.y*h+p.y}}this.timeStamp=o&&o.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Fa;var o=this.originalEvent;o&&o.preventDefault&&o.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Fa;var o=this.originalEvent;o&&o.stopPropagation&&o.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Fa,this.stopPropagation()},isDefaultPrevented:_d,isPropagationStopped:_d,isImmediatePropagationStopped:_d};var Eo=/^([^.]+)(\.(?:[^.]+))?$/,di={qualifierCompare:function(o,l){return o===l},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(o){return o},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Mh=Object.keys(di),Ed={};function Ui(){for(var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ed,o=arguments.length>1?arguments[1]:void 0,l=0;l<Mh.length;l++){var f=Mh[l];this[f]=u[f]||di[f]}this.context=o||this.context,this.listeners=[],this.emitting=0}var ks=Ui.prototype,If=function(o,l,f,h,p,g,w){ot(h)&&(p=h,h=null),w&&(g=null==g?w:In({},g,w));for(var x=ft(f)?f:f.split(/\s+/),E=0;E<x.length;E++){var M=x[E];if(!Ft(M)){var P=M.match(Eo);if(P&&!1===l(o,M,P[1],P[2]?P[2]:null,h,p,g))break}}},Zl=function(o,l){return o.addEventFields(o.context,l),new wd(l.type,l)};ks.on=ks.addListener=function(u,o,l,f,h){return If(this,function(p,g,w,x,E,M,P){ot(M)&&p.listeners.push({event:g,callback:M,type:w,namespace:x,qualifier:E,conf:P})},u,o,l,f,h),this},ks.one=function(u,o,l,f){return this.on(u,o,l,f,{one:!0})},ks.removeListener=ks.off=function(u,o,l,f){var h=this;0!==this.emitting&&(this.listeners=function(o){return o.slice()}(this.listeners));for(var p=this.listeners,g=function(E){var M=p[E];If(h,function(P,z,W,j,q,Q){if((M.type===W||"*"===u)&&(!j&&".*"!==M.namespace||M.namespace===j)&&(!q||P.qualifierCompare(M.qualifier,q))&&(!Q||M.callback===Q))return p.splice(E,1),!1},u,o,l,f)},w=p.length-1;w>=0;w--)g(w);return this},ks.removeAllListeners=function(){return this.removeListener("*")},ks.emit=ks.trigger=function(u,o,l){var f=this.listeners,h=f.length;return this.emitting++,ft(o)||(o=[o]),function(o,l,f){if(function(o){return"event"===ze(o)}(f))l(o,f);else if(Ye(f))l(o,Zl(o,f));else for(var h=ft(f)?f:f.split(/\s+/),p=0;p<h.length;p++){var g=h[p];if(!Ft(g)){var w=g.match(Eo);w&&l(o,Zl(o,{type:w[1],namespace:w[2]?w[2]:null,target:o.context}))}}}(this,function(p,g){null!=l&&(h=(f=[{event:g.event,type:g.type,namespace:g.namespace,callback:l}]).length);for(var w=function(M){var P=f[M];if(P.type===g.type&&(!P.namespace||P.namespace===g.namespace||".*"===P.namespace)&&p.eventMatches(p.context,P,g)){var z=[g];null!=o&&function(o,l){for(var f=0;f<l.length;f++)o.push(l[f])}(z,o),p.beforeEmit(p.context,P,g),P.conf&&P.conf.one&&(p.listeners=p.listeners.filter(function(q){return q!==P}));var W=p.callbackContext(p.context,P,g),j=P.callback.apply(W,z);p.afterEmit(p.context,P,g),!1===j&&(g.stopPropagation(),g.preventDefault())}},x=0;x<h;x++)w(x);p.bubble(p.context)&&!g.isPropagationStopped()&&p.parent(p.context).emit(g,o)},u),this.emitting--,this};var wc={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,f){var h=l.qualifier;return null==h||o!==f.target&&mn(f.target)&&h.matches(f.target)},addEventFields:function(o,l){l.cy=o.cy(),l.target=o},callbackContext:function(o,l,f){return null!=l.qualifier?f.target:o},beforeEmit:function(o,l){l.conf&&l.conf.once&&l.conf.onceCollection.removeListener(l.event,l.qualifier,l.callback)},bubble:function(){return!0},parent:function(o){return o.isChild()?o.parent():o.cy()}},xd=function(o){return Be(o)?new Du(o):o},Dd={createEmitter:function(){for(var o=0;o<this.length;o++){var l=this[o],f=l._private;f.emitter||(f.emitter=new Ui(wc,l))}return this},emitter:function(){return this._private.emitter},on:function(o,l,f){for(var h=xd(l),p=0;p<this.length;p++)this[p].emitter().on(o,h,f);return this},removeListener:function(o,l,f){for(var h=xd(l),p=0;p<this.length;p++)this[p].emitter().removeListener(o,h,f);return this},removeAllListeners:function(){for(var o=0;o<this.length;o++)this[o].emitter().removeAllListeners();return this},one:function(o,l,f){for(var h=xd(l),p=0;p<this.length;p++)this[p].emitter().one(o,h,f);return this},once:function(o,l,f){for(var h=xd(l),p=0;p<this.length;p++)this[p].emitter().on(o,h,f,{once:!0,onceCollection:this})},emit:function(o,l){for(var f=0;f<this.length;f++)this[f].emitter().emit(o,l);return this},emitAndNotify:function(o,l){if(0!==this.length)return this.cy().notify(o,this),this.emit(o,l),this}};ur.eventAliasesOn(Dd);var tl={nodes:function(o){return this.filter(function(l){return l.isNode()}).filter(o)},edges:function(o){return this.filter(function(l){return l.isEdge()}).filter(o)},byGroup:function(){for(var o=this.spawn(),l=this.spawn(),f=0;f<this.length;f++){var h=this[f];h.isNode()?o.push(h):l.push(h)}return{nodes:o,edges:l}},filter:function(o,l){if(void 0===o)return this;if(Be(o)||Mt(o))return new Du(o).filter(this);if(ot(o)){for(var f=this.spawn(),h=this,p=0;p<h.length;p++){var g=h[p];(l?o.apply(l,[g,p,h]):o(g,p,h))&&f.push(g)}return f}return this.spawn()},not:function(o){if(o){Be(o)&&(o=this.filter(o));for(var l=this.spawn(),f=0;f<this.length;f++){var h=this[f];o.has(h)||l.push(h)}return l}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(o){if(Be(o))return this.filter(o);for(var f=this.spawn(),g=this.length<o.length,w=g?this:o,x=g?o:this,E=0;E<w.length;E++){var M=w[E];x.has(M)&&f.push(M)}return f},xor:function(o){var l=this._private.cy;Be(o)&&(o=l.$(o));var f=this.spawn(),p=o,g=function(x,E){for(var M=0;M<x.length;M++){var P=x[M];E.hasElementWithId(P._private.data.id)||f.push(P)}};return g(this,p),g(p,this),f},diff:function(o){var l=this._private.cy;Be(o)&&(o=l.$(o));var f=this.spawn(),h=this.spawn(),p=this.spawn(),w=o,x=function(M,P,z){for(var W=0;W<M.length;W++){var j=M[W];P.hasElementWithId(j._private.data.id)?p.merge(j):z.push(j)}};return x(this,w,f),x(w,this,h),{left:f,right:h,both:p}},add:function(o){var l=this._private.cy;if(!o)return this;if(Be(o)){var f=o;o=l.mutableElements().filter(f)}for(var h=this.spawnSelf(),p=0;p<o.length;p++){var g=o[p];!this.has(g)&&h.push(g)}return h},merge:function(o){var l=this._private,f=l.cy;if(!o)return this;if(o&&Be(o)){var h=o;o=f.mutableElements().filter(h)}for(var p=l.map,g=0;g<o.length;g++){var w=o[g],x=w._private.data.id;if(!p.has(x)){var M=this.length++;this[M]=w,p.set(x,{ele:w,index:M})}}return this},unmergeAt:function(o){var f=this[o].id(),p=this._private.map;if(this[o]=void 0,p.delete(f),this.length>1&&o!==this.length-1){var w=this.length-1,x=this[w],E=x._private.data.id;this[w]=void 0,this[o]=x,p.set(E,{ele:x,index:o})}return this.length--,this},unmergeOne:function(o){var p=this._private.map.get((o=o[0])._private.data.id);return p?(this.unmergeAt(p.index),this):this},unmerge:function(o){var l=this._private.cy;if(!o)return this;if(o&&Be(o)){var f=o;o=l.mutableElements().filter(f)}for(var h=0;h<o.length;h++)this.unmergeOne(o[h]);return this},unmergeBy:function(o){for(var l=this.length-1;l>=0;l--)o(this[l])&&this.unmergeAt(l);return this},map:function(o,l){for(var f=[],h=this,p=0;p<h.length;p++){var g=h[p],w=l?o.apply(l,[g,p,h]):o(g,p,h);f.push(w)}return f},reduce:function(o,l){for(var f=l,h=this,p=0;p<h.length;p++)f=o(f,h[p],p,h);return f},max:function(o,l){for(var h,f=-1/0,p=this,g=0;g<p.length;g++){var w=p[g],x=l?o.apply(l,[w,g,p]):o(w,g,p);x>f&&(f=x,h=w)}return{value:f,ele:h}},min:function(o,l){for(var h,f=1/0,p=this,g=0;g<p.length;g++){var w=p[g],x=l?o.apply(l,[w,g,p]):o(w,g,p);x<f&&(f=x,h=w)}return{value:f,ele:h}}},Tr=tl;Tr.u=Tr["|"]=Tr["+"]=Tr.union=Tr.or=Tr.add,Tr["\\"]=Tr["!"]=Tr["-"]=Tr.difference=Tr.relativeComplement=Tr.subtract=Tr.not,Tr.n=Tr["&"]=Tr["."]=Tr.and=Tr.intersection=Tr.intersect,Tr["^"]=Tr["(+)"]=Tr["(-)"]=Tr.symmetricDifference=Tr.symdiff=Tr.xor,Tr.fnFilter=Tr.filterFn=Tr.stdFilter=Tr.filter,Tr.complement=Tr.abscomp=Tr.absoluteComplement;var o,ql=function(o,l){var h=o.cy().hasCompoundNodes();function p(M){var P=M.pstyle("z-compound-depth");return"auto"===P.value?h?M.zDepth():0:"bottom"===P.value?-1:"top"===P.value?Ju:0}var g=p(o)-p(l);if(0!==g)return g;function w(M){return"auto"===M.pstyle("z-index-compare").value&&M.isNode()?1:0}var x=w(o)-w(l);if(0!==x)return x;var E=o.pstyle("z-index").value-l.pstyle("z-index").value;return 0!==E?E:o.poolIndex()-l.poolIndex()},_c={forEach:function(o,l){if(ot(o))for(var f=this.length,h=0;h<f;h++){var p=this[h];if(!1===(l?o.apply(l,[p,h,this]):o(p,h,this)))break}return this},toArray:function(){for(var o=[],l=0;l<this.length;l++)o.push(this[l]);return o},slice:function(o,l){var f=[],h=this.length;null==l&&(l=h),null==o&&(o=0),o<0&&(o=h+o),l<0&&(l=h+l);for(var p=o;p>=0&&p<l&&p<h;p++)f.push(this[p]);return this.spawn(f)},size:function(){return this.length},eq:function(o){return this[o]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(o){if(!ot(o))return this;var l=this.toArray().sort(o);return this.spawn(l)},sortByZIndex:function(){return this.sort(ql)},zDepth:function(){var o=this[0];if(o){var l=o._private;if("nodes"===l.group){var h=l.data.parent?o.parents().size():0;return o.isParent()?h:Ju-1}var g=l.target,w=l.source.zDepth(),x=g.zDepth();return Math.max(w,x,0)}}};_c.each=_c.forEach,o="undefined",(typeof Symbol>"u"?"undefined":H(Symbol))!=o&&H(Symbol.iterator)!=o&&(_c[Symbol.iterator]=function(){var f=this,h={value:void 0,done:!1},p=0,g=this.length;return ne({next:function(){return p<g?h.value=f[p++]:(h.value=void 0,h.done=!0),h}},Symbol.iterator,function(){return this})});var Pp=si({nodeDimensionsIncludeLabels:!1}),Ln={layoutDimensions:function(o){var l;if(o=Pp(o),this.takesUpSpace())if(o.nodeDimensionsIncludeLabels){var f=this.boundingBox();l={w:f.w,h:f.h}}else l={w:this.outerWidth(),h:this.outerHeight()};else l={w:0,h:0};return(0===l.w||0===l.h)&&(l.w=l.h=1),l},layoutPositions:function(o,l,f){var h=this.nodes().filter(function(Me){return!Me.isParent()}),p=this.cy(),g=l.eles,w=function(Ae){return Ae.id()},x=Rr(f,w);o.emit({type:"layoutstart",layout:o}),o.animations=[];var M=l.spacingFactor&&1!==l.spacingFactor,z=function(){if(!M)return null;for(var Ae=Si(),ye=0;ye<h.length;ye++){var we=x(h[ye],ye);rc(Ae,we.x,we.y)}return Ae}(),W=Rr(function(Me,Ae){var ye=x(Me,Ae);return M&&(ye=function(Ae,ye,Te){var we_x=ye.x1+ye.w/2,we_y=ye.y1+ye.h/2;return{x:we_x+(Te.x-we_x)*Ae,y:we_y+(Te.y-we_y)*Ae}}(Math.abs(l.spacingFactor),z,ye)),null!=l.transform&&(ye=l.transform(Me,ye)),ye},w);if(l.animate){for(var j=0;j<h.length;j++){var q=h[j],Q=W(q,j);if(null==l.animateFilter||l.animateFilter(q,j)){var de=q.animation({position:Q,duration:l.animationDuration,easing:l.animationEasing});o.animations.push(de)}else q.position(Q)}if(l.fit){var fe=p.animation({fit:{boundingBox:g.boundingBoxAt(W),padding:l.padding},duration:l.animationDuration,easing:l.animationEasing});o.animations.push(fe)}else if(void 0!==l.zoom&&void 0!==l.pan){var ve=p.animation({zoom:l.zoom,pan:l.pan,duration:l.animationDuration,easing:l.animationEasing});o.animations.push(ve)}o.animations.forEach(function(Me){return Me.play()}),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),ds.all(o.animations.map(function(Me){return Me.promise()})).then(function(){o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o})})}else h.positions(W),l.fit&&p.fit(l.eles,l.padding),null!=l.zoom&&p.zoom(l.zoom),l.pan&&p.pan(l.pan),o.one("layoutready",l.ready),o.emit({type:"layoutready",layout:o}),o.one("layoutstop",l.stop),o.emit({type:"layoutstop",layout:o});return this},layout:function(o){return this.cy().makeLayout(In({},o,{eles:this}))}};function Tu(u,o,l){var p,f=l._private,h=f.styleCache=f.styleCache||[];return null!=(p=h[u])||(p=h[u]=o(l)),p}function Mu(u,o){return u=as(u),function(f){return Tu(u,o,f)}}function Ql(u,o){u=as(u);var l=function(h){return o.call(h)};return function(){var h=this[0];if(h)return Tu(u,l,h)}}Ln.createLayout=Ln.makeLayout=Ln.layout;var Vo={recalculateRenderedStyle:function(o){var l=this.cy(),f=l.renderer(),h=l.styleEnabled();return f&&h&&f.recalculateRenderedStyle(this,o),this},dirtyStyleCache:function(){var f,o=this.cy(),l=function(p){return p._private.styleCache=null};return o.hasCompoundNodes()?((f=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(f.connectedEdges()),f.forEach(l)):this.forEach(function(h){l(h),h.connectedEdges().forEach(l)}),this},updateStyle:function(o){var l=this._private.cy;if(!l.styleEnabled())return this;if(l.batching())return l._private.batchStyleEles.merge(this),this;var p=this;o=!(!o&&void 0!==o),l.hasCompoundNodes()&&(p=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var g=p;return o?g.emitAndNotify("style"):g.emit("style"),p.forEach(function(w){return w._private.styleDirty=!0}),this},cleanStyle:function(){var o=this.cy();if(o.styleEnabled())for(var l=0;l<this.length;l++){var f=this[l];f._private.styleDirty&&(f._private.styleDirty=!1,o.style().apply(f))}},parsedStyle:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=this[0],h=f.cy();if(h.styleEnabled()&&f)return this.cleanStyle(),f._private.style[o]??(l?h.style().getDefaultProperty(o):null)},numericStyle:function(o){var l=this[0];if(l.cy().styleEnabled()&&l){var f=l.pstyle(o);return void 0!==f.pfValue?f.pfValue:f.value}},numericStyleUnits:function(o){var l=this[0];if(l.cy().styleEnabled()&&l)return l.pstyle(o).units},renderedStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var f=this[0];return f?l.style().getRenderedStyle(f,o):void 0},style:function(o,l){var f=this.cy();if(!f.styleEnabled())return this;var p=f.style();if(Ye(o))p.applyBypass(this,o,!1),this.emitAndNotify("style");else if(Be(o)){if(void 0===l){var w=this[0];return w?p.getStylePropertyValue(w,o):void 0}p.applyBypass(this,o,l,!1),this.emitAndNotify("style")}else if(void 0===o){var x=this[0];return x?p.getRawStyle(x):void 0}return this},removeStyle:function(o){var l=this.cy();if(!l.styleEnabled())return this;var h=l.style(),p=this;if(void 0===o)for(var g=0;g<p.length;g++)h.removeAllBypasses(p[g],!1);else{o=o.split(/\s+/);for(var x=0;x<p.length;x++)h.removeBypasses(p[x],o,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var o=this.cy();if(!o.styleEnabled())return 1;var l=o.hasCompoundNodes(),f=this[0];if(f){var h=f._private,p=f.pstyle("opacity").value;if(!l)return p;var g=h.data.parent?f.parents():null;if(g)for(var w=0;w<g.length;w++)p*=g[w].pstyle("opacity").value;return p}},transparent:function(){if(!this.cy().styleEnabled())return!1;var l=this[0],f=l.cy().hasCompoundNodes();return l?f?0===l.effectiveOpacity():0===l.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Ah(u,o){var f=u._private.data.parent?u.parents():null;if(f)for(var h=0;h<f.length;h++)if(!o(f[h]))return!1;return!0}function Sd(u){var o=u.ok,l=u.edgeOkViaNode||u.ok,f=u.parentOk||u.ok;return function(){var h=this.cy();if(!h.styleEnabled())return!0;var p=this[0],g=h.hasCompoundNodes();if(p){var w=p._private;if(!o(p))return!1;if(p.isNode())return!g||Ah(p,f);var x=w.source,E=w.target;return l(x)&&(!g||Ah(x,l))&&(x===E||l(E)&&(!g||Ah(E,l)))}}}var Ho=Mu("eleTakesUpSpace",function(u){return"element"===u.pstyle("display").value&&0!==u.width()&&(!u.isNode()||0!==u.height())});Vo.takesUpSpace=Ql("takesUpSpace",Sd({ok:Ho}));var Cc=Mu("eleInteractive",function(u){return"yes"===u.pstyle("events").value&&"visible"===u.pstyle("visibility").value&&Ho(u)}),Td=Mu("parentInteractive",function(u){return"visible"===u.pstyle("visibility").value&&Ho(u)});Vo.interactive=Ql("interactive",Sd({ok:Cc,parentOk:Td,edgeOkViaNode:Ho})),Vo.noninteractive=function(){var u=this[0];if(u)return!u.interactive()};var hm=Mu("eleVisible",function(u){return"visible"===u.pstyle("visibility").value&&0!==u.pstyle("opacity").pfValue&&Ho(u)});Vo.visible=Ql("visible",Sd({ok:hm,edgeOkViaNode:Ho})),Vo.hidden=function(){var u=this[0];if(u)return!u.visible()},Vo.isBundledBezier=Ql("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Vo.bypass=Vo.css=Vo.style,Vo.renderedCss=Vo.renderedStyle,Vo.removeBypass=Vo.removeCss=Vo.removeStyle,Vo.pstyle=Vo.parsedStyle;var Jl={};function Rt(u){return function(){var o=arguments,l=[];if(2===o.length)this.on(u.event,o[0],o[1]);else if(1===o.length&&ot(o[0]))this.on(u.event,o[0]);else if(0===o.length||1===o.length&&ft(o[0])){for(var g=1===o.length?o[0]:null,w=0;w<this.length;w++){var x=this[w],E=!u.ableField||x._private[u.ableField],M=x._private[u.field]!=u.value;if(u.overrideAble){var P=u.overrideAble(x);if(void 0!==P&&(E=P,!P))return this}E&&(x._private[u.field]=u.value,M&&l.push(x))}var z=this.spawn(l);z.updateStyle(),z.emit(u.event),g&&z.emit(g)}return this}}function br(u){Jl[u.field]=function(){var o=this[0];if(o){if(u.overrideField){var l=u.overrideField(o);if(void 0!==l)return l}return o._private[u.field]}},Jl[u.on]=Rt({event:u.on,field:u.field,ableField:u.ableField,overrideAble:u.overrideAble,value:!0}),Jl[u.off]=Rt({event:u.off,field:u.field,ableField:u.ableField,overrideAble:u.overrideAble,value:!1})}br({field:"locked",overrideField:function(o){return!!o.cy().autolock()||void 0},on:"lock",off:"unlock"}),br({field:"grabbable",overrideField:function(o){return!o.cy().autoungrabify()&&!o.pannable()&&void 0},on:"grabify",off:"ungrabify"}),br({field:"selected",ableField:"selectable",overrideAble:function(o){return!o.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),br({field:"selectable",overrideField:function(o){return!o.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Jl.deselect=Jl.unselect,Jl.grabbed=function(){var u=this[0];if(u)return u._private.grabbed},br({field:"active",on:"activate",off:"unactivate"}),br({field:"pannable",on:"panify",off:"unpanify"}),Jl.inactive=function(){var u=this[0];if(u)return!u._private.active};var Zn={},eo=function(o){return function(f){for(var p=[],g=0;g<this.length;g++){var w=this[g];if(w.isNode()){for(var x=!1,E=w.connectedEdges(),M=0;M<E.length;M++){var P=E[M],z=P.source(),W=P.target();if(o.noIncomingEdges&&W===w&&z!==w||o.noOutgoingEdges&&z===w&&W!==w){x=!0;break}}x||p.push(w)}}return this.spawn(p,!0).filter(f)}},zo=function(o){return function(l){for(var h=[],p=0;p<this.length;p++){var g=this[p];if(g.isNode())for(var w=g.connectedEdges(),x=0;x<w.length;x++){var E=w[x],M=E.source(),P=E.target();o.outgoing&&M===g?(h.push(E),h.push(P)):o.incoming&&P===g&&(h.push(E),h.push(M))}}return this.spawn(h,!0).filter(l)}},Nh=function(o){return function(l){for(var f=this,h=[],p={};;){var g=o.outgoing?f.outgoers():f.incomers();if(0===g.length)break;for(var w=!1,x=0;x<g.length;x++){var E=g[x],M=E.id();p[M]||(p[M]=!0,h.push(E),w=!0)}if(!w)break;f=g}return this.spawn(h,!0).filter(l)}};function Ec(u){return function(l){for(var f=[],h=0;h<this.length;h++){var g=this[h]._private[u.attr];g&&f.push(g)}return this.spawn(f,!0).filter(l)}}function gs(u){return function(l){var f=[],h=this._private.cy,p=u||{};Be(l)&&(l=h.$(l));for(var g=0;g<l.length;g++)for(var w=l[g]._private.edges,x=0;x<w.length;x++){var E=w[x],M=E._private.data,P=this.hasElementWithId(M.source)&&l.hasElementWithId(M.target),z=l.hasElementWithId(M.source)&&this.hasElementWithId(M.target);(P||z)&&((p.thisIsSrc||p.thisIsTgt)&&(p.thisIsSrc&&!P||p.thisIsTgt&&!z)||f.push(E))}return this.spawn(f,!0)}}function Md(u){return u=In({},{codirected:!1},u),function(f){for(var h=[],p=this.edges(),g=u,w=0;w<p.length;w++)for(var E=p[w]._private,M=E.source,P=M._private.data.id,z=E.data.target,W=M._private.edges,j=0;j<W.length;j++){var q=W[j],Q=q._private.data,re=Q.target,de=Q.source,fe=re===z&&de===P;(g.codirected&&fe||!g.codirected&&(fe||P===re&&z===de))&&h.push(q)}return this.spawn(h,!0).filter(f)}}Zn.clearTraversalCache=function(){for(var u=0;u<this.length;u++)this[u]._private.traversalCache=null},In(Zn,{roots:eo({noIncomingEdges:!0}),leaves:eo({noOutgoingEdges:!0}),outgoers:Ja(zo({outgoing:!0}),"outgoers"),successors:Nh({outgoing:!0}),incomers:Ja(zo({incoming:!0}),"incomers"),predecessors:Nh({incoming:!0})}),In(Zn,{neighborhood:Ja(function(u){for(var o=[],l=this.nodes(),f=0;f<l.length;f++)for(var h=l[f],p=h.connectedEdges(),g=0;g<p.length;g++){var w=p[g],x=w.source(),E=w.target(),M=h===x?E:x;M.length>0&&o.push(M[0]),o.push(w[0])}return this.spawn(o,!0).filter(u)},"neighborhood"),closedNeighborhood:function(o){return this.neighborhood().add(this).filter(o)},openNeighborhood:function(o){return this.neighborhood(o)}}),Zn.neighbourhood=Zn.neighborhood,Zn.closedNeighbourhood=Zn.closedNeighborhood,Zn.openNeighbourhood=Zn.openNeighborhood,In(Zn,{source:Ja(function(o){var f,l=this[0];return l&&(f=l._private.source||l.cy().collection()),f&&o?f.filter(o):f},"source"),target:Ja(function(o){var f,l=this[0];return l&&(f=l._private.target||l.cy().collection()),f&&o?f.filter(o):f},"target"),sources:Ec({attr:"source"}),targets:Ec({attr:"target"})}),In(Zn,{edgesWith:Ja(gs(),"edgesWith"),edgesTo:Ja(gs({thisIsSrc:!0}),"edgesTo")}),In(Zn,{connectedEdges:Ja(function(u){for(var o=[],f=0;f<this.length;f++){var h=this[f];if(h.isNode())for(var p=h._private.edges,g=0;g<p.length;g++)o.push(p[g])}return this.spawn(o,!0).filter(u)},"connectedEdges"),connectedNodes:Ja(function(u){for(var o=[],f=0;f<this.length;f++){var h=this[f];h.isEdge()&&(o.push(h.source()[0]),o.push(h.target()[0]))}return this.spawn(o,!0).filter(u)},"connectedNodes"),parallelEdges:Ja(Md(),"parallelEdges"),codirectedEdges:Ja(Md({codirected:!0}),"codirectedEdges")}),In(Zn,{components:function(o){var l=this,f=l.cy(),h=f.collection(),p=null==o?l.nodes():o.nodes(),g=[];null!=o&&p.empty()&&(p=o.sources());var w=function(M,P){h.merge(M),p.unmerge(M),P.merge(M)};if(p.empty())return l.spawn();var x=function(){var M=f.collection();g.push(M);var P=p[0];w(P,M),l.bfs({directed:!1,roots:P,visit:function(W){return w(W,M)}}),M.forEach(function(z){z.connectedEdges().forEach(function(W){l.has(W)&&M.has(W.source())&&M.has(W.target())&&M.merge(W)})})};do{x()}while(p.length>0);return g},component:function(){var o=this[0];return o.cy().mutableElements().components(o)[0]}}),Zn.componentsOf=Zn.components;var fo=function(o,l){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==o){var p=new St,g=!1;if(l){if(l.length>0&&Ye(l[0])&&!mn(l[0])){g=!0;for(var w=[],x=new Ms,E=0,M=l.length;E<M;E++){var P=l[E];null==P.data&&(P.data={});var z=P.data;if(null==z.id)z.id=cf();else if(o.hasElementWithId(z.id)||x.has(z.id))continue;var W=new Ne(o,P,!1);w.push(W),x.add(z.id)}l=w}}else l=[];this.length=0;for(var j=0,q=l.length;j<q;j++){var Q=l[j][0];if(null!=Q){var re=Q._private.data.id;(!f||!p.has(re))&&(f&&p.set(re,{index:this.length,ele:Q}),this[this.length]=Q,this.length++)}}this._private={eles:this,cy:o,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(de){this.lazyMap=de},rebuildMap:function(){for(var fe=this.lazyMap=new St,ve=this.eles,Me=0;Me<ve.length;Me++){var Ae=ve[Me];fe.set(Ae.id(),{index:Me,ele:Ae})}}},f&&(this._private.map=p),g&&!h&&this.restore()}else ni("A collection must have a reference to the core")},yi=Ne.prototype=fo.prototype=Object.create(Array.prototype);yi.instanceString=function(){return"collection"},yi.spawn=function(u,o){return new fo(this.cy(),u,o)},yi.spawnSelf=function(){return this.spawn(this)},yi.cy=function(){return this._private.cy},yi.renderer=function(){return this._private.cy.renderer()},yi.element=function(){return this[0]},yi.collection=function(){return un(this)?this:new fo(this._private.cy,[this])},yi.unique=function(){return new fo(this._private.cy,this,!0)},yi.hasElementWithId=function(u){return this._private.map.has(u=""+u)},yi.getElementById=function(u){var o=this._private.cy,l=this._private.map.get(u=""+u);return l?l.ele:new fo(o)},yi.$id=yi.getElementById,yi.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},yi.indexOf=function(u){return this._private.map.get(u[0]._private.data.id).index},yi.indexOfId=function(u){return this._private.map.get(u=""+u).index},yi.json=function(u){var o=this.element(),l=this.cy();if(null==o&&u)return this;if(null!=o){var f=o._private;if(Ye(u)){if(l.startBatch(),u.data){o.data(u.data);var h=f.data;if(o.isEdge()){var p=!1,g={},w=u.data.source,x=u.data.target;null!=w&&w!=h.source&&(g.source=""+w,p=!0),null!=x&&x!=h.target&&(g.target=""+x,p=!0),p&&(o=o.move(g))}else{var M=u.data.parent;"parent"in u.data&&(null!=M||null!=h.parent)&&M!=h.parent&&(void 0===M&&(M=null),null!=M&&(M=""+M),o=o.move({parent:M}))}}u.position&&o.position(u.position);var P=function(q,Q,re){var de=u[q];null!=de&&de!==f[q]&&(de?o[Q]():o[re]())};return P("removed","remove","restore"),P("selected","select","unselect"),P("selectable","selectify","unselectify"),P("locked","lock","unlock"),P("grabbable","grabify","ungrabify"),P("pannable","panify","unpanify"),null!=u.classes&&o.classes(u.classes),l.endBatch(),this}if(void 0===u){var z={data:Oi(f.data),position:Oi(f.position),group:f.group,removed:f.removed,selected:f.selected,selectable:f.selectable,locked:f.locked,grabbable:f.grabbable,pannable:f.pannable,classes:""},W=0;return f.classes.forEach(function(j){return z.classes+=0==W++?j:" "+j}),z}}},yi.jsons=function(){for(var u=[],o=0;o<this.length;o++){var f=this[o].json();u.push(f)}return u},yi.clone=function(){for(var u=this.cy(),o=[],l=0;l<this.length;l++){var h=this[l].json(),p=new Ne(u,h,!1);o.push(p)}return new fo(u,o)},yi.copy=yi.clone,yi.restore=function(){for(var w,u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,f=l.cy(),h=f._private,p=[],g=[],x=0,E=l.length;x<E;x++){var M=l[x];o&&!M.removed()||(M.isNode()?p.push(M):g.push(M))}w=p.concat(g);var P,z=function(){w.splice(P,1),P--};for(P=0;P<w.length;P++){var W=w[P],j=W._private,q=j.data;if(W.clearTraversalCache(),o||j.removed)if(void 0===q.id)q.id=cf();else if(Xe(q.id))q.id=""+q.id;else{if(Ft(q.id)||!Be(q.id)){ni("Can not create element with invalid string ID `"+q.id+"`"),z();continue}if(f.hasElementWithId(q.id)){ni("Can not create second element with ID `"+q.id+"`"),z();continue}}var Q=q.id;if(W.isNode()){var re=j.position;null==re.x&&(re.x=0),null==re.y&&(re.y=0)}if(W.isEdge()){for(var de=W,fe=["source","target"],ve=fe.length,Me=!1,Ae=0;Ae<ve;Ae++){var ye=fe[Ae],Te=q[ye];Xe(Te)&&(Te=q[ye]=""+q[ye]),null==Te||""===Te?(ni("Can not create edge `"+Q+"` with unspecified "+ye),Me=!0):f.hasElementWithId(Te)||(ni("Can not create edge `"+Q+"` with nonexistant "+ye+" `"+Te+"`"),Me=!0)}if(Me){z();continue}var we=f.getElementById(q.source),ke=f.getElementById(q.target);we.same(ke)?we._private.edges.push(de):(we._private.edges.push(de),ke._private.edges.push(de)),de._private.source=we,de._private.target=ke}j.map=new St,j.map.set(Q,{ele:W,index:0}),j.removed=!1,o&&f.addToPool(W)}for(var Pe=0;Pe<p.length;Pe++){var Ee=p[Pe],He=Ee._private.data;Xe(He.parent)&&(He.parent=""+He.parent);var Oe=He.parent;if(null!=Oe||Ee._private.parent){var Ue=Ee._private.parent?f.collection().merge(Ee._private.parent):f.getElementById(Oe);if(Ue.empty())He.parent=void 0;else if(Ue[0].removed())Sr("Node added with missing parent, reference to parent removed"),He.parent=void 0,Ee._private.parent=null;else{for(var Ge=!1,rt=Ue;!rt.empty();){if(Ee.same(rt)){Ge=!0,He.parent=void 0;break}rt=rt.parent()}Ge||(Ue[0]._private.children.push(Ee),Ee._private.parent=Ue[0],h.hasCompoundNodes=!0)}}}if(w.length>0){for(var ct=w.length===l.length?l:new fo(f,w),vt=0;vt<ct.length;vt++){var at=ct[vt];at.isNode()||(at.parallelEdges().clearTraversalCache(),at.source().clearTraversalCache(),at.target().clearTraversalCache())}(h.hasCompoundNodes?f.collection().merge(ct).merge(ct.connectedNodes()).merge(ct.parent()):ct).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(u),u?ct.emitAndNotify("add"):o&&ct.emit("add")}return l},yi.removed=function(){var u=this[0];return u&&u._private.removed},yi.inside=function(){var u=this[0];return u&&!u._private.removed},yi.remove=function(){var u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=this,f=[],h={},p=l._private.cy;function x(Oe){var Ke=h[Oe.id()];o&&Oe.removed()||Ke||(h[Oe.id()]=!0,Oe.isNode()?(f.push(Oe),function g(Oe){for(var Ke=Oe._private.edges,Ue=0;Ue<Ke.length;Ue++)x(Ke[Ue])}(Oe),function w(Oe){for(var Ke=Oe._private.children,Ue=0;Ue<Ke.length;Ue++)x(Ke[Ue])}(Oe)):f.unshift(Oe))}for(var E=0,M=l.length;E<M;E++)x(l[E]);function z(Oe,Ke){$a(Oe._private.edges,Ke),Oe.clearTraversalCache()}var j=[];function q(Oe,Ke){Ke=Ke[0];var Ue=(Oe=Oe[0])._private.children,Ge=Oe.id();$a(Ue,Ke),Ke._private.parent=null,j.ids[Ge]||(j.ids[Ge]=!0,j.push(Oe))}j.ids={},l.dirtyCompoundBoundsCache(),o&&p.removeFromPool(f);for(var Q=0;Q<f.length;Q++){var re=f[Q];if(re.isEdge()){var de=re.source()[0],fe=re.target()[0];z(de,re),z(fe,re);for(var ve=re.parallelEdges(),Me=0;Me<ve.length;Me++){var Ae=ve[Me];Ae.clearTraversalCache(),Ae.isBundledBezier()&&Ae.dirtyBoundingBoxCache()}}else{var ye=re.parent();0!==ye.length&&q(ye,re)}o&&(re._private.removed=!0)}var Te=p._private.elements;p._private.hasCompoundNodes=!1;for(var we=0;we<Te.length;we++)if(Te[we].isParent()){p._private.hasCompoundNodes=!0;break}var Pe=new fo(this.cy(),f);Pe.size()>0&&(u?Pe.emitAndNotify("remove"):o&&Pe.emit("remove"));for(var Ee=0;Ee<j.length;Ee++){var He=j[Ee];(!o||!He.removed())&&He.updateStyle()}return Pe},yi.move=function(u){var o=this._private.cy,l=this,f=!1,h=!1,p=function(j){return null==j?j:""+j};if(void 0!==u.source||void 0!==u.target){var g=p(u.source),w=p(u.target),x=null!=g&&o.hasElementWithId(g),E=null!=w&&o.hasElementWithId(w);(x||E)&&(o.batch(function(){l.remove(f,h),l.emitAndNotify("moveout");for(var W=0;W<l.length;W++){var j=l[W],q=j._private.data;j.isEdge()&&(x&&(q.source=g),E&&(q.target=w))}l.restore(f,h)}),l.emitAndNotify("move"))}else if(void 0!==u.parent){var M=p(u.parent);if(null===M||o.hasElementWithId(M)){var z=null===M?void 0:M;o.batch(function(){var W=l.remove(f,h);W.emitAndNotify("moveout");for(var j=0;j<l.length;j++){var q=l[j],Q=q._private.data;q.isNode()&&(Q.parent=z)}W.restore(f,h)}),l.emitAndNotify("move")}}return this},[_o,fd,qa,Xl,pd,Sf,Eh,Th,Dd,tl,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var o=this[0];if(o)return o._private.group}},_c,Ln,Vo,Jl,Zn].forEach(function(u){In(yi,u)});var py={add:function(o){var l,f=this;if(Mt(o)){var h=o;if(h._private.cy===f)l=h.restore();else{for(var p=[],g=0;g<h.length;g++)p.push(h[g].json());l=new fo(f,p)}}else if(ft(o))l=new fo(f,o);else if(Ye(o)&&(ft(o.nodes)||ft(o.edges))){for(var E=o,M=[],P=["nodes","edges"],z=0,W=P.length;z<W;z++){var j=P[z],q=E[j];if(ft(q))for(var Q=0,re=q.length;Q<re;Q++){var de=In({group:j},q[Q]);M.push(de)}}l=new fo(f,M)}else l=new Ne(f,o).collection();return l},remove:function(o){return Mt(o)||Be(o)&&(o=this.$(o)),o.remove()}};function Fp(u,o,l,f){var E=.1,M=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var P=0;P<4;++P)if("number"!=typeof arguments[P]||isNaN(arguments[P])||!isFinite(arguments[P]))return!1;u=Math.min(u,1),l=Math.min(l,1),u=Math.max(u,0),l=Math.max(l,0);var z=M?new Float32Array(11):new Array(11);function W(ke,Pe){return 1-3*Pe+3*ke}function j(ke,Pe){return 3*Pe-6*ke}function q(ke){return 3*ke}function Q(ke,Pe,Ee){return((W(Pe,Ee)*ke+j(Pe,Ee))*ke+q(Pe))*ke}function re(ke,Pe,Ee){return 3*W(Pe,Ee)*ke*ke+2*j(Pe,Ee)*ke+q(Pe)}var Ae=!1;var Te=function(Pe){return Ae||function ye(){Ae=!0,(u!==o||l!==f)&&function fe(){for(var ke=0;ke<11;++ke)z[ke]=Q(ke*E,u,l)}()}(),u===o&&l===f?Pe:0===Pe?0:1===Pe?1:Q(function Me(ke){for(var Pe=0,Ee=1;10!==Ee&&z[Ee]<=ke;++Ee)Pe+=E;--Ee;var Ke=Pe+(ke-z[Ee])/(z[Ee+1]-z[Ee])*E,Ue=re(Ke,u,l);return Ue>=.001?function de(ke,Pe){for(var Ee=0;Ee<4;++Ee){var He=re(Pe,u,l);if(0===He)return Pe;Pe-=(Q(Pe,u,l)-ke)/He}return Pe}(ke,Ke):0===Ue?Ke:function ve(ke,Pe,Ee){var He,Oe,Ke=0;do{(He=Q(Oe=Pe+(Ee-Pe)/2,u,l)-ke)>0?Ee=Oe:Pe=Oe}while(Math.abs(He)>1e-7&&++Ke<10);return Oe}(ke,Pe,Pe+E)}(Pe),o,f)};Te.getControlPoints=function(){return[{x:u,y:o},{x:l,y:f}]};var we="generateBezier("+[u,o,l,f]+")";return Te.toString=function(){return we},Te}var Gi=function(){function u(f){return-f.tension*f.x-f.friction*f.v}function o(f,h,p){var g={x:f.x+p.dx*h,v:f.v+p.dv*h,tension:f.tension,friction:f.friction};return{dx:g.v,dv:u(g)}}function l(f,h){var p={dx:f.v,dv:u(f)},g=o(f,.5*h,p),w=o(f,.5*h,g),x=o(f,h,w),M=1/6*(p.dv+2*(g.dv+w.dv)+x.dv);return f.x=f.x+1/6*(p.dx+2*(g.dx+w.dx)+x.dx)*h,f.v=f.v+M*h,f}return function f(h,p,g){var z,W,j,w={x:-1,v:0,tension:null,friction:null},x=[0],E=0,M=1e-4;for(h=parseFloat(h)||500,p=parseFloat(p)||20,g=g||null,w.tension=h,w.friction=p,W=(z=null!==g)?(E=f(h,p))/g*.016:.016;j=l(j||w,W),x.push(1+j.x),E+=16,Math.abs(j.x)>M&&Math.abs(j.v)>M;);return z?function(q){return x[q*(x.length-1)|0]}:E}}(),Er=function(o,l,f,h){var p=Fp(o,l,f,h);return function(g,w,x){return g+(w-g)*p(x)}},eu={linear:function(o,l,f){return o+(l-o)*f},ease:Er(.25,.1,.25,1),"ease-in":Er(.42,0,1,1),"ease-out":Er(0,0,.58,1),"ease-in-out":Er(.42,0,.58,1),"ease-in-sine":Er(.47,0,.745,.715),"ease-out-sine":Er(.39,.575,.565,1),"ease-in-out-sine":Er(.445,.05,.55,.95),"ease-in-quad":Er(.55,.085,.68,.53),"ease-out-quad":Er(.25,.46,.45,.94),"ease-in-out-quad":Er(.455,.03,.515,.955),"ease-in-cubic":Er(.55,.055,.675,.19),"ease-out-cubic":Er(.215,.61,.355,1),"ease-in-out-cubic":Er(.645,.045,.355,1),"ease-in-quart":Er(.895,.03,.685,.22),"ease-out-quart":Er(.165,.84,.44,1),"ease-in-out-quart":Er(.77,0,.175,1),"ease-in-quint":Er(.755,.05,.855,.06),"ease-out-quint":Er(.23,1,.32,1),"ease-in-out-quint":Er(.86,0,.07,1),"ease-in-expo":Er(.95,.05,.795,.035),"ease-out-expo":Er(.19,1,.22,1),"ease-in-out-expo":Er(1,0,0,1),"ease-in-circ":Er(.6,.04,.98,.335),"ease-out-circ":Er(.075,.82,.165,1),"ease-in-out-circ":Er(.785,.135,.15,.86),spring:function(o,l,f){if(0===f)return eu.linear;var h=Gi(o,l,f);return function(p,g,w){return p+(g-p)*h(w)}},"cubic-bezier":Er};function Ps(u,o,l,f,h){if(1===f||o===l)return l;var p=h(o,l,f);return null==u||((u.roundValue||u.color)&&(p=Math.round(p)),void 0!==u.min&&(p=Math.max(p,u.min)),void 0!==u.max&&(p=Math.min(p,u.max))),p}function Uo(u,o){return null!=u.pfValue||null!=u.value?null==u.pfValue||null!=o&&"%"===o.type.units?u.value:u.pfValue:u}function xc(u,o,l,f,h){var p=null!=h?h.type:null;l<0?l=0:l>1&&(l=1);var g=Uo(u,h),w=Uo(o,h);if(Xe(g)&&Xe(w))return Ps(p,g,w,l,f);if(ft(g)&&ft(w)){for(var x=[],E=0;E<w.length;E++){var M=g[E],P=w[E];if(null!=M&&null!=P){var z=Ps(p,M,P,l,f);x.push(z)}else x.push(P)}return x}}function Bp(u,o,l,f){var h=!f,p=u._private,g=o._private,w=g.easing,x=g.startTime,M=(f?u:u.cy()).style();if(!g.easingImpl)if(null==w)g.easingImpl=eu.linear;else{var P,W,j;P=Be(w)?M.parse("transition-timing-function",w).value:w,Be(P)?(W=P,j=[]):(W=P[1],j=P.slice(2).map(function(ct){return+ct})),j.length>0?("spring"===W&&j.push(g.duration),g.easingImpl=eu[W].apply(null,j)):g.easingImpl=eu[W]}var Q,q=g.easingImpl;if(Q=0===g.duration?1:(l-x)/g.duration,g.applying&&(Q=g.progress),Q<0?Q=0:Q>1&&(Q=1),null==g.delay){var re=g.startPosition,de=g.position;if(de&&h&&!u.locked()){var fe={};nl(re.x,de.x)&&(fe.x=xc(re.x,de.x,Q,q)),nl(re.y,de.y)&&(fe.y=xc(re.y,de.y,Q,q)),u.position(fe)}var ve=g.startPan,Me=g.pan,Ae=p.pan,ye=null!=Me&&f;ye&&(nl(ve.x,Me.x)&&(Ae.x=xc(ve.x,Me.x,Q,q)),nl(ve.y,Me.y)&&(Ae.y=xc(ve.y,Me.y,Q,q)),u.emit("pan"));var Te=g.startZoom,we=g.zoom,ke=null!=we&&f;ke&&(nl(Te,we)&&(p.zoom=qs(p.minZoom,xc(Te,we,Q,q),p.maxZoom)),u.emit("zoom")),(ye||ke)&&u.emit("viewport");var Pe=g.style;if(Pe&&Pe.length>0&&h){for(var Ee=0;Ee<Pe.length;Ee++){var He=Pe[Ee],Oe=He.name,Ue=g.startStyle[Oe],rt=xc(Ue,He,Q,q,M.properties[Ue.name]);M.overrideBypass(u,Oe,rt)}u.emit("style")}}return g.progress=Q,Q}function nl(u,o){return!!(null!=u&&null!=o&&(Xe(u)&&Xe(o)||u&&o))}function Vp(u,o,l,f){var h=o._private;h.started=!0,h.startTime=l-h.progress*h.duration}function Id(u,o){var l=o._private.aniEles,f=[];function h(M,P){var z=M._private,W=z.animation.current,j=z.animation.queue,q=!1;if(0===W.length){var Q=j.shift();Q&&W.push(Q)}for(var re=function(Ae){for(var ye=Ae.length-1;ye>=0;ye--)(0,Ae[ye])();Ae.splice(0,Ae.length)},de=W.length-1;de>=0;de--){var fe=W[de],ve=fe._private;ve.stopped?(W.splice(de,1),ve.hooked=!1,ve.playing=!1,ve.started=!1,re(ve.frames)):!ve.playing&&!ve.applying||(ve.playing&&ve.applying&&(ve.applying=!1),ve.started||Vp(0,fe,u),Bp(M,fe,u,P),ve.applying&&(ve.applying=!1),re(ve.frames),null!=ve.step&&ve.step(u),fe.completed()&&(W.splice(de,1),ve.hooked=!1,ve.playing=!1,ve.started=!1,re(ve.completes)),q=!0)}return!P&&0===W.length&&0===j.length&&f.push(M),q}for(var p=!1,g=0;g<l.length;g++){var x=h(l[g]);p=p||x}var E=h(o,!0);(p||E)&&(l.length>0?o.notify("draw",l):o.notify("draw")),l.unmerge(f),o.emit("step")}var Af={animate:ur.animate(),animation:ur.animation(),animated:ur.animated(),clearQueue:ur.clearQueue(),delay:ur.delay(),delayAnimation:ur.delayAnimation(),stop:ur.stop(),addToAnimationPool:function(o){this.styleEnabled()&&this._private.aniEles.merge(o)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var o=this;if(o._private.animationsRunning=!0,o.styleEnabled()){var f=o.renderer();f&&f.beforeRender?f.beforeRender(function(p,g){Id(g,o)},f.beforeRenderPriorities.animations):function l(){o._private.animationsRunning&&pu(function(p){Id(p,o),l()})}()}}},Ad={qualifierCompare:function(o,l){return null==o||null==l?null==o&&null==l:o.sameText(l)},eventMatches:function(o,l,f){var h=l.qualifier;return null==h||o!==f.target&&mn(f.target)&&h.matches(f.target)},addEventFields:function(o,l){l.cy=o,l.target=o},callbackContext:function(o,l,f){return null!=l.qualifier?f.target:o}},Ls=function(o){return Be(o)?new Du(o):o},Nf={createEmitter:function(){var o=this._private;return o.emitter||(o.emitter=new Ui(Ad,this)),this},emitter:function(){return this._private.emitter},on:function(o,l,f){return this.emitter().on(o,Ls(l),f),this},removeListener:function(o,l,f){return this.emitter().removeListener(o,Ls(l),f),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(o,l,f){return this.emitter().one(o,Ls(l),f),this},once:function(o,l,f){return this.emitter().one(o,Ls(l),f),this},emit:function(o,l){return this.emitter().emit(o,l),this},emitAndNotify:function(o,l){return this.emit(o),this.notify(o,l),this}};ur.eventAliasesOn(Nf);var Dc={png:function(o){return this._private.renderer.png(o=o||{})},jpg:function(o){var l=this._private.renderer;return(o=o||{}).bg=o.bg||"#fff",l.jpg(o)}};Dc.jpeg=Dc.jpg;var tu={layout:function(o){var l=this;if(null!=o)if(null!=o.name){var p,f=o.name,h=l.extension("layout",f);if(null!=h)return p=Be(o.eles)?l.$(o.eles):null!=o.eles?o.eles:l.$(),new h(In({},o,{cy:l,eles:p}));ni("No such layout `"+f+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else ni("A `name` must be specified to make a layout");else ni("Layout options must be specified to make a layout")}};tu.createLayout=tu.makeLayout=tu.layout;var Hp={notify:function(o,l){var f=this._private;if(this.batching()){f.batchNotifications=f.batchNotifications||{};var h=f.batchNotifications[o]=f.batchNotifications[o]||this.collection();null!=l&&h.merge(l)}else if(f.notificationsEnabled){var p=this.renderer();this.destroyed()||!p||p.notify(o,l)}},notifications:function(o){var l=this._private;return void 0===o?l.notificationsEnabled:(l.notificationsEnabled=!!o,this)},noNotifications:function(o){this.notifications(!1),o(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var o=this._private;return null==o.batchCount&&(o.batchCount=0),0===o.batchCount&&(o.batchStyleEles=this.collection(),o.batchNotifications={}),o.batchCount++,this},endBatch:function(){var o=this._private;if(0===o.batchCount)return this;if(o.batchCount--,0===o.batchCount){o.batchStyleEles.updateStyle();var l=this.renderer();Object.keys(o.batchNotifications).forEach(function(f){var h=o.batchNotifications[f];h.empty()?l.notify(f):l.notify(f,h)})}return this},batch:function(o){return this.startBatch(),o(),this.endBatch(),this},batchData:function(o){var l=this;return this.batch(function(){for(var f=Object.keys(o),h=0;h<f.length;h++){var p=f[h],g=o[p];l.getElementById(p).data(g)}})}},Sc=si({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Nd={renderTo:function(o,l,f,h){return this._private.renderer.renderTo(o,l,f,h),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(o){var l=this,f=l.extension("renderer",o.name);if(null!=f){void 0!==o.wheelSensitivity&&Sr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var h=Sc(o);h.cy=l,l._private.renderer=new f(h),this.notify("init")}else ni("Can not initialise: No such renderer `".concat(o.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var o=this;o.notify("destroy");var l=o.container();if(l)for(l._cyreg=null;l.childNodes.length>0;)l.removeChild(l.childNodes[0]);o._private.renderer=null,o.mutableElements().forEach(function(f){var h=f._private;h.rscratch={},h.rstyle={},h.animation.current=[],h.animation.queue=[]})},onRender:function(o){return this.on("render",o)},offRender:function(o){return this.off("render",o)}};Nd.invalidateDimensions=Nd.resize;var Od={collection:function(o,l){return Be(o)?this.$(o):Mt(o)?o.collection():ft(o)?(l||(l={}),new fo(this,o,l.unique,l.removed)):new fo(this)},nodes:function(o){var l=this.$(function(f){return f.isNode()});return o?l.filter(o):l},edges:function(o){var l=this.$(function(f){return f.isEdge()});return o?l.filter(o):l},$:function(o){var l=this._private.elements;return o?l.filter(o):l.spawnSelf()},mutableElements:function(){return this._private.elements}};Od.elements=Od.filter=Od.$;var xo={apply:function(u){for(var o=this,h=o._private.cy.collection(),p=0;p<u.length;p++){var g=u[p],w=o.getContextMeta(g);if(!w.empty){var x=o.getContextStyle(w),E=o.applyContextStyle(w,x,g);g._private.appliedInitStyle?o.updateTransitions(g,E.diffProps):g._private.appliedInitStyle=!0,o.updateStyleHints(g)&&h.push(g)}}return h},getPropertiesDiff:function(u,o){var l=this,f=l._private.propDiffs=l._private.propDiffs||{},h=u+"-"+o,p=f[h];if(p)return p;for(var g=[],w={},x=0;x<l.length;x++){var E=l[x],P="t"===o[x],z="t"===u[x]!==P,W=E.mappedProperties.length>0;if(z||P&&W){var j=void 0;z&&W||z?j=E.properties:W&&(j=E.mappedProperties);for(var q=0;q<j.length;q++){for(var Q=j[q],re=Q.name,de=!1,fe=x+1;fe<l.length&&("t"!==o[fe]||!(de=null!=l[fe].properties[Q.name]));fe++);!w[re]&&!de&&(w[re]=!0,g.push(re))}}}return f[h]=g,g},getContextMeta:function(u){for(var f,o=this,l="",h=u._private.styleCxtKey||"",p=0;p<o.length;p++){var g=o[p];l+=g.selector&&g.selector.matches(u)?"t":"f"}return f=o.getPropertiesDiff(h,l),u._private.styleCxtKey=l,{key:l,diffPropNames:f,empty:0===f.length}},getContextStyle:function(u){var o=u.key,f=this._private.contextStyles=this._private.contextStyles||{};if(f[o])return f[o];for(var h={_private:{key:o}},p=0;p<this.length;p++){var g=this[p];if("t"===o[p])for(var x=0;x<g.properties.length;x++){var E=g.properties[x];h[E.name]=E}}return f[o]=h,h},applyContextStyle:function(u,o,l){for(var h=u.diffPropNames,p={},g=this.types,w=0;w<h.length;w++){var x=h[w],E=o[x],M=l.pstyle(x);if(!E){if(!M)continue;E=M.bypass?{name:x,deleteBypassed:!0}:{name:x,delete:!0}}if(M!==E){if(E.mapped===g.fn&&null!=M&&null!=M.mapping&&M.mapping.value===E.value){var P=M.mapping;if((P.fnValue=E.value(l))===P.prevFnValue)continue}var W=p[x]={prev:M};this.applyParsedProperty(l,E),W.next=l.pstyle(x),W.next&&W.next.bypass&&(W.next=W.next.bypassed)}}return{diffProps:p}},updateStyleHints:function(u){var f,o=u._private,l=this,h=l.propertyGroupKeys,p=function(Wt,tn,$n){return l.getPropertiesHash(Wt,tn,$n)},g=o.styleKey;if(u.removed())return!1;var Wt,w="nodes"===o.group,x=u._private.style;f=Object.keys(x);for(var E=0;E<h.length;E++)o.styleKeys[h[E]]=[Ma,Xs];for(var P=function(Wt,tn){return o.styleKeys[tn][0]=Ia(Wt,o.styleKeys[tn][0])},z=function(Wt,tn){return o.styleKeys[tn][1]=Ks(Wt,o.styleKeys[tn][1])},W=function(Wt,tn){P(Wt,tn),z(Wt,tn)},j=function(Wt,tn){for(var $n=0;$n<Wt.length;$n++){var ar=Wt.charCodeAt($n);P(ar,tn),z(ar,tn)}},re=0;re<f.length;re++){var de=f[re],fe=x[de];if(null!=fe){var ve=this.properties[de],Me=ve.type,Ae=ve.groupKey,ye=void 0;null!=ve.hashOverride?ye=ve.hashOverride(u,fe):null!=fe.pfValue&&(ye=fe.pfValue);var Te=null==ve.enums?fe.value:null,we=null!=ye,Ee=fe.units;!Me.number||!we&&null==Te||Me.multiple?j(fe.strValue,Ae):(W(-128<(Wt=we?ye:Te)&&Wt<128&&Math.floor(Wt)!==Wt?2e9-(1024*Wt|0):Wt,Ae),!we&&null!=Ee&&j(Ee,Ae))}}for(var Oe=[Ma,Xs],Ke=0;Ke<h.length;Ke++){var Ge=o.styleKeys[h[Ke]];Oe[0]=Ia(Ge[0],Oe[0]),Oe[1]=Ks(Ge[1],Oe[1])}o.styleKey=function(o,l){return 2097152*o+l}(Oe[0],Oe[1]);var rt=o.styleKeys;o.labelDimsKey=os(rt.labelDimensions);var ct=p(u,["label"],rt.labelDimensions);if(o.labelKey=os(ct),o.labelStyleKey=os(Aa(rt.commonLabel,ct)),!w){var vt=p(u,["source-label"],rt.labelDimensions);o.sourceLabelKey=os(vt),o.sourceLabelStyleKey=os(Aa(rt.commonLabel,vt));var at=p(u,["target-label"],rt.labelDimensions);o.targetLabelKey=os(at),o.targetLabelStyleKey=os(Aa(rt.commonLabel,at))}if(w){var mt=o.styleKeys,Je=mt.pie,Tt=[mt.nodeBody,mt.nodeBorder,mt.backgroundImage,mt.compound,Je].filter(function(Ot){return null!=Ot}).reduce(Aa,[Ma,Xs]);o.nodeKey=os(Tt),o.hasPie=null!=Je&&Je[0]!==Ma&&Je[1]!==Xs}return g!==o.styleKey},clearStyleHints:function(u){var o=u._private;o.styleCxtKey="",o.styleKeys={},o.styleKey=null,o.labelKey=null,o.labelStyleKey=null,o.sourceLabelKey=null,o.sourceLabelStyleKey=null,o.targetLabelKey=null,o.targetLabelStyleKey=null,o.nodeKey=null,o.hasPie=null},applyParsedProperty:function(u,o){var p,l=this,f=o,h=u._private.style,g=l.types,w=l.properties[f.name].type,x=f.bypass,E=h[f.name],M=E&&E.bypass,P=u._private,z="mapping",W=function(It){return null==It?null:null!=It.pfValue?It.pfValue:It.value},j=function(){var It=W(E),At=W(f);l.checkTriggers(u,f.name,It,At)};if(f&&"pie"===f.name.substr(0,3)&&Sr("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===o.name&&u.isEdge()&&("bezier"!==o.value&&u.isLoop()||"haystack"===o.value&&(u.source().isParent()||u.target().isParent()))&&(f=o=this.parse(o.name,"bezier",x)),f.delete)return h[f.name]=void 0,j(),!0;if(f.deleteBypassed)return E?!!E.bypass&&(E.bypassed=void 0,j(),!0):(j(),!0);if(f.deleteBypass)return E?!!E.bypass&&(h[f.name]=E.bypassed,j(),!0):(j(),!0);var q=function(){Sr("Do not assign mappings to elements without corresponding data (i.e. ele `"+u.id()+"` has no mapping for property `"+f.name+"` with data field `"+f.field+"`); try a `["+f.field+"]` selector to limit scope to elements with `"+f.field+"` defined")};switch(f.mapped){case g.mapData:for(var Q=f.field.split("."),re=P.data,de=0;de<Q.length&&re;de++)re=re[Q[de]];if(null==re)return q(),!1;var ve;if(!Xe(re))return Sr("Do not use continuous mappers without specifying numeric data (i.e. `"+f.field+": "+re+"` for `"+u.id()+"` is non-numeric)"),!1;var Me=f.fieldMax-f.fieldMin;if((ve=0===Me?0:(re-f.fieldMin)/Me)<0?ve=0:ve>1&&(ve=1),w.color){var Ae=f.valueMin[0],Te=f.valueMin[1],we=f.valueMax[1],ke=f.valueMin[2],Pe=f.valueMax[2],Ee=null==f.valueMin[3]?1:f.valueMin[3],He=null==f.valueMax[3]?1:f.valueMax[3],Oe=[Math.round(Ae+(f.valueMax[0]-Ae)*ve),Math.round(Te+(we-Te)*ve),Math.round(ke+(Pe-ke)*ve),Math.round(Ee+(He-Ee)*ve)];p={bypass:f.bypass,name:f.name,value:Oe,strValue:"rgb("+Oe[0]+", "+Oe[1]+", "+Oe[2]+")"}}else{if(!w.number)return!1;p=this.parse(f.name,f.valueMin+(f.valueMax-f.valueMin)*ve,f.bypass,z)}if(!p)return q(),!1;p.mapping=f,f=p;break;case g.data:for(var Ue=f.field.split("."),Ge=P.data,rt=0;rt<Ue.length&&Ge;rt++)Ge=Ge[Ue[rt]];if(null!=Ge&&(p=this.parse(f.name,Ge,f.bypass,z)),!p)return q(),!1;p.mapping=f,f=p;break;case g.fn:var at=null!=f.fnValue?f.fnValue:(0,f.value)(u);if(f.prevFnValue=at,null==at)return Sr("Custom function mappers may not return null (i.e. `"+f.name+"` for ele `"+u.id()+"` is null)"),!1;if(!(p=this.parse(f.name,at,f.bypass,z)))return Sr("Custom function mappers may not return invalid values for the property type (i.e. `"+f.name+"` for ele `"+u.id()+"` is invalid)"),!1;p.mapping=Oi(f),f=p;break;case void 0:break;default:return!1}return x?(f.bypassed=M?E.bypassed:E,h[f.name]=f):M?E.bypassed=f:h[f.name]=f,j(),!0},cleanElements:function(u,o){for(var l=0;l<u.length;l++){var f=u[l];if(this.clearStyleHints(f),f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),o)for(var h=f._private.style,p=Object.keys(h),g=0;g<p.length;g++){var w=p[g],x=h[w];null!=x&&(x.bypass?x.bypassed=null:h[w]=null)}else f._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(u,o){var l=this,f=u._private,h=u.pstyle("transition-property").value,p=u.pstyle("transition-duration").pfValue,g=u.pstyle("transition-delay").pfValue;if(h.length>0&&p>0){for(var w={},x=!1,E=0;E<h.length;E++){var M=h[E],P=u.pstyle(M),z=o[M];if(z){var j=z.prev,q=null!=z.next?z.next:P,Q=!1,re=void 0;j&&(Xe(j.pfValue)&&Xe(q.pfValue)?re=j.pfValue+1e-6*(Q=q.pfValue-j.pfValue):Xe(j.value)&&Xe(q.value)?re=j.value+1e-6*(Q=q.value-j.value):ft(j.value)&&ft(q.value)&&(Q=j.value[0]!==q.value[0]||j.value[1]!==q.value[1]||j.value[2]!==q.value[2],re=j.strValue),Q&&(w[M]=q.strValue,this.applyBypass(u,M,re),x=!0))}}if(!x)return;f.transitioning=!0,new ds(function(fe){g>0?u.delayAnimation(g).play().promise().then(fe):fe()}).then(function(){return u.animation({style:w,duration:p,easing:u.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){l.removeBypasses(u,h),u.emitAndNotify("style"),f.transitioning=!1})}else f.transitioning&&(this.removeBypasses(u,h),u.emitAndNotify("style"),f.transitioning=!1)},checkTrigger:function(u,o,l,f,h,p){var g=this.properties[o],w=h(g);null!=w&&w(l,f)&&p(g)},checkZOrderTrigger:function(u,o,l,f){var h=this;this.checkTrigger(u,o,l,f,function(p){return p.triggersZOrder},function(){h._private.cy.notify("zorder",u)})},checkBoundsTrigger:function(u,o,l,f){this.checkTrigger(u,o,l,f,function(h){return h.triggersBounds},function(h){u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),h.triggersBoundsOfParallelBeziers&&("curve-style"===o&&("bezier"===l||"bezier"===f)||"display"===o&&("none"===l||"none"===f))&&u.parallelEdges().forEach(function(p){p.isBundledBezier()&&p.dirtyBoundingBoxCache()})})},checkTriggers:function(u,o,l,f){u.dirtyStyleCache(),this.checkZOrderTrigger(u,o,l,f),this.checkBoundsTrigger(u,o,l,f)}},Do={applyBypass:function(u,o,l,f){var p=[];if("*"===o||"**"===o){if(void 0!==l)for(var w=0;w<this.properties.length;w++){var M=this.parse(this.properties[w].name,l,!0);M&&p.push(M)}}else if(Be(o)){var P=this.parse(o,l,!0);P&&p.push(P)}else{if(!Ye(o))return!1;var z=o;f=l;for(var W=Object.keys(z),j=0;j<W.length;j++){var q=W[j],Q=z[q];if(void 0===Q&&(Q=z[wn(q)]),void 0!==Q){var re=this.parse(q,Q,!0);re&&p.push(re)}}}if(0===p.length)return!1;for(var de=!1,fe=0;fe<u.length;fe++){for(var ve=u[fe],Me={},Ae=void 0,ye=0;ye<p.length;ye++){var Te=p[ye];if(f){var we=ve.pstyle(Te.name);Ae=Me[Te.name]={prev:we}}de=this.applyParsedProperty(ve,Oi(Te))||de,f&&(Ae.next=ve.pstyle(Te.name))}de&&this.updateStyleHints(ve),f&&this.updateTransitions(ve,Me,!0)}return de},overrideBypass:function(u,o,l){o=_r(o);for(var f=0;f<u.length;f++){var h=u[f],p=h._private.style[o],g=this.properties[o].type,w=g.color,x=g.mutiple,E=p?null!=p.pfValue?p.pfValue:p.value:null;p&&p.bypass?(p.value=l,null!=p.pfValue&&(p.pfValue=l),p.strValue=w?"rgb("+l.join(",")+")":x?l.join(" "):""+l,this.updateStyleHints(h)):this.applyBypass(h,o,l),this.checkTriggers(h,o,E,l)}},removeAllBypasses:function(u,o){return this.removeBypasses(u,this.propertyNames,o)},removeBypasses:function(u,o,l){for(var h=0;h<u.length;h++){for(var p=u[h],g={},w=0;w<o.length;w++){var x=o[w],E=this.properties[x],M=p.pstyle(E.name);if(M&&M.bypass){var z=this.parse(x,"",!0),W=g[E.name]={prev:M};this.applyParsedProperty(p,z),W.next=p.pstyle(E.name)}}this.updateStyleHints(p),l&&this.updateTransitions(p,g,!0)}}},ts={getEmSizeInPixels:function(){var u=this.containerCss("font-size");return null!=u?parseFloat(u):1},containerCss:function(u){var l=this._private.cy.container();if(oe&&l&&oe.getComputedStyle)return oe.getComputedStyle(l).getPropertyValue(u)}},Vr={getRenderedStyle:function(u,o){return o?this.getStylePropertyValue(u,o,!0):this.getRawStyle(u,!0)},getRawStyle:function(u,o){var l=this;if(u=u[0]){for(var f={},h=0;h<l.properties.length;h++){var p=l.properties[h],g=l.getStylePropertyValue(u,p.name,o);null!=g&&(f[p.name]=g,f[wn(p.name)]=g)}return f}},getIndexedStyle:function(u,o,l,f){return u.pstyle(o)[l][f]??u.cy().style().getDefaultProperty(o)[l][0]},getStylePropertyValue:function(u,o,l){if(u=u[0]){var h=this.properties[o];h.alias&&(h=h.pointsTo);var p=h.type,g=u.pstyle(h.name);if(g){var w=g.value,x=g.units,E=g.strValue;if(l&&p.number&&null!=w&&Xe(w)){var M=u.cy().zoom(),P=function(Q){return Q*M},z=function(Q,re){return P(Q)+re},W=ft(w);return(W?x.every(function(q){return null!=q}):null!=x)?W?w.map(function(q,Q){return z(q,x[Q])}).join(" "):z(w,x):W?w.map(function(q){return Be(q)?q:""+P(q)}).join(" "):""+P(w)}if(null!=E)return E}return null}},getAnimationStartStyle:function(u,o){for(var l={},f=0;f<o.length;f++){var p=o[f].name,g=u.pstyle(p);void 0!==g&&(g=Ye(g)?this.parse(p,g.strValue):this.parse(p,g)),g&&(l[p]=g)}return l},getPropsList:function(u){var l=[],f=u,h=this.properties;if(f)for(var p=Object.keys(f),g=0;g<p.length;g++){var w=p[g],x=f[w],E=h[w]||h[_r(w)],M=this.parse(E.name,x);M&&l.push(M)}return l},getNonDefaultPropertiesHash:function(u,o,l){var p,g,w,x,E,f=l.slice();for(x=0;x<o.length;x++)if(null!=(p=u.pstyle(o[x],!1)))if(null!=p.pfValue)f[0]=Ia(w,f[0]),f[1]=Ks(w,f[1]);else for(g=p.strValue,E=0;E<g.length;E++)w=g.charCodeAt(E),f[0]=Ia(w,f[0]),f[1]=Ks(w,f[1]);return f}};Vr.getPropertiesHash=Vr.getNonDefaultPropertiesHash;var Rd={appendFromJson:function(u){for(var o=this,l=0;l<u.length;l++){var f=u[l],h=f.selector,p=f.style||f.css,g=Object.keys(p);o.selector(h);for(var w=0;w<g.length;w++){var x=g[w];o.css(x,p[x])}}return o},fromJson:function(u){var o=this;return o.resetToDefault(),o.appendFromJson(u),o},json:function(){for(var u=[],o=this.defaultLength;o<this.length;o++){for(var l=this[o],f=l.selector,h=l.properties,p={},g=0;g<h.length;g++){var w=h[g];p[w.name]=w.strValue}u.push({selector:f?f.toString():"core",style:p})}return u}},Oh={appendFromString:function(u){var h,p,g,l=this,f=""+u;function w(){f=f.length>h.length?f.substr(h.length):""}function x(){p=p.length>g.length?p.substr(g.length):""}for(f=f.replace(/[/][*](\s|.)+?[*][/]/g,"");!f.match(/^\s*$/);){var M=f.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!M){Sr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+f);break}h=M[0];var P=M[1];if("core"!==P&&new Du(P).invalid)Sr("Skipping parsing of block: Invalid selector found in string stylesheet: "+P),w();else{var W=M[2],j=!1;p=W;for(var q=[];!p.match(/^\s*$/);){var re=p.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!re){Sr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+W),j=!0;break}g=re[0];var de=re[1],fe=re[2];this.properties[de]?l.parse(de,fe)?(q.push({name:de,val:fe}),x()):(Sr("Skipping property: Invalid property definition in: "+g),x()):(Sr("Skipping property: Invalid property name in: "+g),x())}if(j){w();break}l.selector(P);for(var Ae=0;Ae<q.length;Ae++){var ye=q[Ae];l.css(ye.name,ye.val)}w()}}return l},fromString:function(u){var o=this;return o.resetToDefault(),o.appendFromString(u),o}},So={};(function(){var u=dn,o=ro,l=Li,p=function(Tt){return"^"+Tt+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},g=function(Tt){var Ot=u+"|\\w+|"+o+"|"+l+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Tt+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+u+")\\s*\\,\\s*("+u+")\\s*,\\s*("+Ot+")\\s*\\,\\s*("+Ot+")\\)$"},w=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];So.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:p("data")},layoutData:{mapping:!0,regex:p("layoutData")},scratch:{mapping:!0,regex:p("scratch")},mapData:{mapping:!0,regex:g("mapData")},mapLayoutData:{mapping:!0,regex:g("mapLayoutData")},mapScratch:{mapping:!0,regex:g("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:w,singleRegexMatchValue:!0},urls:{regexes:w,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Tt,Ot){switch(Tt.length){case 2:return"deg"!==Ot[0]&&"rad"!==Ot[0]&&"deg"!==Ot[1]&&"rad"!==Ot[1];case 1:return Be(Tt[0])||"deg"===Ot[0]||"rad"===Ot[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+u+")\\s*,\\s*("+u+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+u+")\\s*,\\s*("+u+")\\s*,\\s*("+u+")\\s*,\\s*("+u+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Tt){var Ot=Tt.length;return 1===Ot||2===Ot||4===Ot}}};var x={zeroNonZero:function(Tt,Ot){return(null==Tt||null==Ot)&&Tt!==Ot||0==Tt&&0!=Ot||0!=Tt&&0==Ot},any:function(Tt,Ot){return Tt!=Ot},emptyNonEmpty:function(Tt,Ot){var Wt=Ft(Tt),tn=Ft(Ot);return Wt&&!tn||!Wt&&tn}},E=So.types,M=[{name:"label",type:E.text,triggersBounds:x.any,triggersZOrder:x.emptyNonEmpty},{name:"text-rotation",type:E.textRotation,triggersBounds:x.any},{name:"text-margin-x",type:E.bidirectionalSize,triggersBounds:x.any},{name:"text-margin-y",type:E.bidirectionalSize,triggersBounds:x.any}],P=[{name:"source-label",type:E.text,triggersBounds:x.any},{name:"source-text-rotation",type:E.textRotation,triggersBounds:x.any},{name:"source-text-margin-x",type:E.bidirectionalSize,triggersBounds:x.any},{name:"source-text-margin-y",type:E.bidirectionalSize,triggersBounds:x.any},{name:"source-text-offset",type:E.size,triggersBounds:x.any}],z=[{name:"target-label",type:E.text,triggersBounds:x.any},{name:"target-text-rotation",type:E.textRotation,triggersBounds:x.any},{name:"target-text-margin-x",type:E.bidirectionalSize,triggersBounds:x.any},{name:"target-text-margin-y",type:E.bidirectionalSize,triggersBounds:x.any},{name:"target-text-offset",type:E.size,triggersBounds:x.any}],W=[{name:"font-family",type:E.fontFamily,triggersBounds:x.any},{name:"font-style",type:E.fontStyle,triggersBounds:x.any},{name:"font-weight",type:E.fontWeight,triggersBounds:x.any},{name:"font-size",type:E.size,triggersBounds:x.any},{name:"text-transform",type:E.textTransform,triggersBounds:x.any},{name:"text-wrap",type:E.textWrap,triggersBounds:x.any},{name:"text-overflow-wrap",type:E.textOverflowWrap,triggersBounds:x.any},{name:"text-max-width",type:E.size,triggersBounds:x.any},{name:"text-outline-width",type:E.size,triggersBounds:x.any},{name:"line-height",type:E.positiveNumber,triggersBounds:x.any}],j=[{name:"text-valign",type:E.valign,triggersBounds:x.any},{name:"text-halign",type:E.halign,triggersBounds:x.any},{name:"color",type:E.color},{name:"text-outline-color",type:E.color},{name:"text-outline-opacity",type:E.zeroOneNumber},{name:"text-background-color",type:E.color},{name:"text-background-opacity",type:E.zeroOneNumber},{name:"text-background-padding",type:E.size,triggersBounds:x.any},{name:"text-border-opacity",type:E.zeroOneNumber},{name:"text-border-color",type:E.color},{name:"text-border-width",type:E.size,triggersBounds:x.any},{name:"text-border-style",type:E.borderStyle,triggersBounds:x.any},{name:"text-background-shape",type:E.textBackgroundShape,triggersBounds:x.any},{name:"text-justification",type:E.justification}],q=[{name:"events",type:E.bool},{name:"text-events",type:E.bool}],Q=[{name:"display",type:E.display,triggersZOrder:x.any,triggersBounds:x.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:E.visibility,triggersZOrder:x.any},{name:"opacity",type:E.zeroOneNumber,triggersZOrder:x.zeroNonZero},{name:"text-opacity",type:E.zeroOneNumber},{name:"min-zoomed-font-size",type:E.size},{name:"z-compound-depth",type:E.zCompoundDepth,triggersZOrder:x.any},{name:"z-index-compare",type:E.zIndexCompare,triggersZOrder:x.any},{name:"z-index",type:E.nonNegativeInt,triggersZOrder:x.any}],re=[{name:"overlay-padding",type:E.size,triggersBounds:x.any},{name:"overlay-color",type:E.color},{name:"overlay-opacity",type:E.zeroOneNumber,triggersBounds:x.zeroNonZero},{name:"overlay-shape",type:E.overlayShape,triggersBounds:x.any}],de=[{name:"underlay-padding",type:E.size,triggersBounds:x.any},{name:"underlay-color",type:E.color},{name:"underlay-opacity",type:E.zeroOneNumber,triggersBounds:x.zeroNonZero},{name:"underlay-shape",type:E.overlayShape,triggersBounds:x.any}],fe=[{name:"transition-property",type:E.propList},{name:"transition-duration",type:E.time},{name:"transition-delay",type:E.time},{name:"transition-timing-function",type:E.easing}],ve=function(Tt,Ot){return"label"===Ot.value?-Tt.poolIndex():Ot.pfValue},Me=[{name:"height",type:E.nodeSize,triggersBounds:x.any,hashOverride:ve},{name:"width",type:E.nodeSize,triggersBounds:x.any,hashOverride:ve},{name:"shape",type:E.nodeShape,triggersBounds:x.any},{name:"shape-polygon-points",type:E.polygonPointList,triggersBounds:x.any},{name:"background-color",type:E.color},{name:"background-fill",type:E.fill},{name:"background-opacity",type:E.zeroOneNumber},{name:"background-blacken",type:E.nOneOneNumber},{name:"background-gradient-stop-colors",type:E.colors},{name:"background-gradient-stop-positions",type:E.percentages},{name:"background-gradient-direction",type:E.gradientDirection},{name:"padding",type:E.sizeMaybePercent,triggersBounds:x.any},{name:"padding-relative-to",type:E.paddingRelativeTo,triggersBounds:x.any},{name:"bounds-expansion",type:E.boundsExpansion,triggersBounds:x.any}],Ae=[{name:"border-color",type:E.color},{name:"border-opacity",type:E.zeroOneNumber},{name:"border-width",type:E.size,triggersBounds:x.any},{name:"border-style",type:E.borderStyle}],ye=[{name:"background-image",type:E.urls},{name:"background-image-crossorigin",type:E.bgCrossOrigin},{name:"background-image-opacity",type:E.zeroOneNumbers},{name:"background-image-containment",type:E.bgContainment},{name:"background-image-smoothing",type:E.bools},{name:"background-position-x",type:E.bgPos},{name:"background-position-y",type:E.bgPos},{name:"background-width-relative-to",type:E.bgRelativeTo},{name:"background-height-relative-to",type:E.bgRelativeTo},{name:"background-repeat",type:E.bgRepeat},{name:"background-fit",type:E.bgFit},{name:"background-clip",type:E.bgClip},{name:"background-width",type:E.bgWH},{name:"background-height",type:E.bgWH},{name:"background-offset-x",type:E.bgPos},{name:"background-offset-y",type:E.bgPos}],Te=[{name:"position",type:E.position,triggersBounds:x.any},{name:"compound-sizing-wrt-labels",type:E.compoundIncludeLabels,triggersBounds:x.any},{name:"min-width",type:E.size,triggersBounds:x.any},{name:"min-width-bias-left",type:E.sizeMaybePercent,triggersBounds:x.any},{name:"min-width-bias-right",type:E.sizeMaybePercent,triggersBounds:x.any},{name:"min-height",type:E.size,triggersBounds:x.any},{name:"min-height-bias-top",type:E.sizeMaybePercent,triggersBounds:x.any},{name:"min-height-bias-bottom",type:E.sizeMaybePercent,triggersBounds:x.any}],we=[{name:"line-style",type:E.lineStyle},{name:"line-color",type:E.color},{name:"line-fill",type:E.fill},{name:"line-cap",type:E.lineCap},{name:"line-opacity",type:E.zeroOneNumber},{name:"line-dash-pattern",type:E.numbers},{name:"line-dash-offset",type:E.number},{name:"line-gradient-stop-colors",type:E.colors},{name:"line-gradient-stop-positions",type:E.percentages},{name:"curve-style",type:E.curveStyle,triggersBounds:x.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:E.zeroOneNumber,triggersBounds:x.any},{name:"source-endpoint",type:E.edgeEndpoint,triggersBounds:x.any},{name:"target-endpoint",type:E.edgeEndpoint,triggersBounds:x.any},{name:"control-point-step-size",type:E.size,triggersBounds:x.any},{name:"control-point-distances",type:E.bidirectionalSizes,triggersBounds:x.any},{name:"control-point-weights",type:E.numbers,triggersBounds:x.any},{name:"segment-distances",type:E.bidirectionalSizes,triggersBounds:x.any},{name:"segment-weights",type:E.numbers,triggersBounds:x.any},{name:"taxi-turn",type:E.bidirectionalSizeMaybePercent,triggersBounds:x.any},{name:"taxi-turn-min-distance",type:E.size,triggersBounds:x.any},{name:"taxi-direction",type:E.axisDirection,triggersBounds:x.any},{name:"edge-distances",type:E.edgeDistances,triggersBounds:x.any},{name:"arrow-scale",type:E.positiveNumber,triggersBounds:x.any},{name:"loop-direction",type:E.angle,triggersBounds:x.any},{name:"loop-sweep",type:E.angle,triggersBounds:x.any},{name:"source-distance-from-node",type:E.size,triggersBounds:x.any},{name:"target-distance-from-node",type:E.size,triggersBounds:x.any}],ke=[{name:"ghost",type:E.bool,triggersBounds:x.any},{name:"ghost-offset-x",type:E.bidirectionalSize,triggersBounds:x.any},{name:"ghost-offset-y",type:E.bidirectionalSize,triggersBounds:x.any},{name:"ghost-opacity",type:E.zeroOneNumber}],Pe=[{name:"selection-box-color",type:E.color},{name:"selection-box-opacity",type:E.zeroOneNumber},{name:"selection-box-border-color",type:E.color},{name:"selection-box-border-width",type:E.size},{name:"active-bg-color",type:E.color},{name:"active-bg-opacity",type:E.zeroOneNumber},{name:"active-bg-size",type:E.size},{name:"outside-texture-bg-color",type:E.color},{name:"outside-texture-bg-opacity",type:E.zeroOneNumber}],Ee=[];So.pieBackgroundN=16,Ee.push({name:"pie-size",type:E.sizeMaybePercent});for(var He=1;He<=So.pieBackgroundN;He++)Ee.push({name:"pie-"+He+"-background-color",type:E.color}),Ee.push({name:"pie-"+He+"-background-size",type:E.percent}),Ee.push({name:"pie-"+He+"-background-opacity",type:E.zeroOneNumber});var Oe=[],Ke=So.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:E.arrowShape,triggersBounds:x.any},{name:"arrow-color",type:E.color},{name:"arrow-fill",type:E.arrowFill}].forEach(function(Je){Ke.forEach(function(Tt){Oe.push({name:Tt+"-"+Je.name,type:Je.type,triggersBounds:Je.triggersBounds})})},{});var Ue=So.properties=[].concat(q,fe,Q,re,de,ke,j,W,M,P,z,Me,Ae,ye,Ee,Te,we,Oe,Pe),Ge=So.propertyGroups={behavior:q,transition:fe,visibility:Q,overlay:re,underlay:de,ghost:ke,commonLabel:j,labelDimensions:W,mainLabel:M,sourceLabel:P,targetLabel:z,nodeBody:Me,nodeBorder:Ae,backgroundImage:ye,pie:Ee,compound:Te,edgeLine:we,edgeArrow:Oe,core:Pe},rt=So.propertyGroupNames={};(So.propertyGroupKeys=Object.keys(Ge)).forEach(function(Je){rt[Je]=Ge[Je].map(function(Tt){return Tt.name}),Ge[Je].forEach(function(Tt){return Tt.groupKey=Je})});var vt=So.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];So.propertyNames=Ue.map(function(Je){return Je.name});for(var at=0;at<Ue.length;at++){var mt=Ue[at];Ue[mt.name]=mt}for(var It=0;It<vt.length;It++){var At=vt[It],wt={name:At.name,alias:!0,pointsTo:Ue[At.pointsTo]};Ue.push(wt),Ue[At.name]=wt}})(),So.getDefaultProperty=function(u){return this.getDefaultProperties()[u]},So.getDefaultProperties=function(){var u=this._private;if(null!=u.defaultProperties)return u.defaultProperties;for(var o=In({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(x,E){for(var M=1;M<=So.pieBackgroundN;M++)x[E.name.replace("{{i}}",M)]=E.value;return x},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(x,E){return So.arrowPrefixes.forEach(function(M){x[M+"-"+E.name]=E.value}),x},{})),l={},f=0;f<this.properties.length;f++){var h=this.properties[f];if(!h.pointsTo){var p=h.name,w=this.parse(p,o[p]);l[p]=w}}return u.defaultProperties=l,u.defaultProperties},So.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var kd={parse:function(u,o,l,f){var h=this;if(ot(o))return h.parseImplWarn(u,o,l,f);var M,x=ed(u,""+o,l?"t":"f","mapping"===f||!0===f||!1===f||null==f?"dontcare":f),E=h.propCache=h.propCache||[];return(M=E[x])||(M=E[x]=h.parseImplWarn(u,o,l,f)),(l||"mapping"===f)&&(M=Oi(M))&&(M.value=Oi(M.value)),M},parseImplWarn:function(u,o,l,f){var h=this.parseImpl(u,o,l,f);return!h&&null!=o&&Sr("The style property `".concat(u,": ").concat(o,"` is invalid")),h&&("width"===h.name||"height"===h.name)&&"label"===o&&Sr("The style value of `label` is deprecated for `"+h.name+"`"),h}};kd.parseImpl=function(u,o,l,f){var h=this;u=_r(u);var p=h.properties[u],g=o,w=h.types;if(!p||void 0===o)return null;p.alias&&(u=(p=p.pointsTo).name);var x=Be(o);x&&(o=o.trim());var M,P,E=p.type;if(!E)return null;if(l&&(""===o||null===o))return{name:u,value:o,bypass:!0,deleteBypass:!0};if(ot(o))return{name:u,value:o,strValue:"fn",mapped:w.fn,bypass:l};if(!(!x||f||o.length<7||"a"!==o[1])){if(o.length>=7&&"d"===o[0]&&(M=new RegExp(w.data.regex).exec(o)))return!l&&{name:u,value:M,strValue:""+o,mapped:w.data,field:M[1],bypass:l};if(o.length>=10&&"m"===o[0]&&(P=new RegExp(w.mapData.regex).exec(o))){if(l||E.multiple)return!1;var W=w.mapData;if(!E.color&&!E.number)return!1;var j=this.parse(u,P[4]);if(!j||j.mapped)return!1;var q=this.parse(u,P[5]);if(!q||q.mapped)return!1;if(j.pfValue===q.pfValue||j.strValue===q.strValue)return Sr("`"+u+": "+o+"` is not a valid mapper because the output range is zero; converting to `"+u+": "+j.strValue+"`"),this.parse(u,j.strValue);if(E.color){var Q=j.value,re=q.value;if(!(Q[0]!==re[0]||Q[1]!==re[1]||Q[2]!==re[2]||Q[3]!==re[3]&&(null!=Q[3]&&1!==Q[3]||null!=re[3]&&1!==re[3])))return!1}return{name:u,value:P,strValue:""+o,mapped:W,field:P[1],fieldMin:parseFloat(P[2]),fieldMax:parseFloat(P[3]),valueMin:j.value,valueMax:q.value,bypass:l}}}if(E.multiple&&"multiple"!==f){var fe;if(fe=x?o.split(/\s+/):ft(o)?o:[o],E.evenMultiple&&fe.length%2!=0)return null;for(var ve=[],Me=[],Ae=[],ye="",Te=!1,we=0;we<fe.length;we++){var ke=h.parse(u,fe[we],l,"multiple");Te=Te||Be(ke.value),ve.push(ke.value),Ae.push(null!=ke.pfValue?ke.pfValue:ke.value),Me.push(ke.units),ye+=(we>0?" ":"")+ke.strValue}return E.validate&&!E.validate(ve,Me)?null:E.singleEnum&&Te?1===ve.length&&Be(ve[0])?{name:u,value:ve[0],strValue:ve[0],bypass:l}:null:{name:u,value:ve,pfValue:Ae,strValue:ye,bypass:l,units:Me}}var Pe=function(){for(var Ot=0;Ot<E.enums.length;Ot++)if(E.enums[Ot]===o)return{name:u,value:o,strValue:""+o,bypass:l};return null};if(E.number){var Ee,He="px";if(E.units&&(Ee=E.units),E.implicitUnits&&(He=E.implicitUnits),!E.unitless)if(x){var Oe="px|em"+(E.allowPercent?"|\\%":"");Ee&&(Oe=Ee);var Ke=o.match("^("+dn+")("+Oe+")?$");Ke&&(o=Ke[1],Ee=Ke[2]||He)}else(!Ee||E.implicitUnits)&&(Ee=He);if(o=parseFloat(o),isNaN(o)&&void 0===E.enums)return null;if(isNaN(o)&&void 0!==E.enums)return o=g,Pe();if(E.integer&&!function(o){return Xe(o)&&Math.floor(o)===o}(o)||void 0!==E.min&&(o<E.min||E.strictMin&&o===E.min)||void 0!==E.max&&(o>E.max||E.strictMax&&o===E.max))return null;var Ue={name:u,value:o,strValue:""+o+(Ee||""),units:Ee,bypass:l};return Ue.pfValue=E.unitless||"px"!==Ee&&"em"!==Ee?o:"px"!==Ee&&Ee?this.getEmSizeInPixels()*o:o,("ms"===Ee||"s"===Ee)&&(Ue.pfValue="ms"===Ee?o:1e3*o),("deg"===Ee||"rad"===Ee)&&(Ue.pfValue="rad"===Ee?o:function(o){return Math.PI*o/180}(o)),"%"===Ee&&(Ue.pfValue=o/100),Ue}if(E.propList){var Ge=[],rt=""+o;if("none"!==rt){for(var ct=rt.split(/\s*,\s*|\s+/),vt=0;vt<ct.length;vt++){var at=ct[vt].trim();h.properties[at]?Ge.push(at):Sr("`"+at+"` is not a valid property name")}if(0===Ge.length)return null}return{name:u,value:Ge,strValue:0===Ge.length?"none":Ge.join(" "),bypass:l}}if(E.color){var mt=function(o){return(ft(o)?o:null)||function(o){return Ss[o.toLowerCase()]}(o)||function(o){if((4===o.length||7===o.length)&&"#"===o[0]){var f,h,p,g=16;return 4===o.length?(f=parseInt(o[1]+o[1],g),h=parseInt(o[2]+o[2],g),p=parseInt(o[3]+o[3],g)):(f=parseInt(o[1]+o[2],g),h=parseInt(o[3]+o[4],g),p=parseInt(o[5]+o[6],g)),[f,h,p]}}(o)||function(o){var l,f=new RegExp("^"+Ni+"$").exec(o);if(f){l=[];for(var h=[],p=1;p<=3;p++){var g=f[p];if("%"===g[g.length-1]&&(h[p]=!0),g=parseFloat(g),h[p]&&(g=g/100*255),g<0||g>255)return;l.push(Math.floor(g))}if((h[1]||h[2]||h[3])&&!(h[1]&&h[2]&&h[3]))return;var E=f[4];if(void 0!==E){if((E=parseFloat(E))<0||E>1)return;l.push(E)}}return l}(o)||function(o){var l,f,h,p,g,w,x,E;function M(j,q,Q){return Q<0&&(Q+=1),Q>1&&(Q-=1),Q<1/6?j+6*(q-j)*Q:Q<.5?q:Q<2/3?j+(q-j)*(2/3-Q)*6:j}var P=new RegExp("^"+Pi+"$").exec(o);if(P){if((f=parseInt(P[1]))<0?f=(360- -1*f%360)%360:f>360&&(f%=360),f/=360,(h=parseFloat(P[2]))<0||h>100||(h/=100,(p=parseFloat(P[3]))<0||p>100)||(p/=100,void 0!==(g=P[4])&&((g=parseFloat(g))<0||g>1)))return;if(0===h)w=x=E=Math.round(255*p);else{var z=p<.5?p*(1+h):p+h-p*h,W=2*p-z;w=Math.round(255*M(W,z,f+1/3)),x=Math.round(255*M(W,z,f)),E=Math.round(255*M(W,z,f-1/3))}l=[w,x,E,g]}return l}(o)}(o);return mt?{name:u,value:mt,pfValue:mt,strValue:"rgb("+mt[0]+","+mt[1]+","+mt[2]+")",bypass:l}:null}if(E.regex||E.regexes){if(E.enums){var It=Pe();if(It)return It}for(var At=E.regexes?E.regexes:[E.regex],xt=0;xt<At.length;xt++){var Je=new RegExp(At[xt]).exec(o);if(Je)return{name:u,value:E.singleRegexMatchValue?Je[1]:Je,strValue:""+o,bypass:l}}return null}return E.string?{name:u,value:""+o,strValue:""+o,bypass:l}:E.enums?Pe():null};var qo=function u(o){if(!(this instanceof u))return new u(o);lt(o)?(this._private={cy:o,coreStyle:{}},this.length=0,this.resetToDefault()):ni("A style must have a core reference")},Go=qo.prototype;Go.instanceString=function(){return"style"},Go.clear=function(){for(var u=this._private,l=u.cy.elements(),f=0;f<this.length;f++)this[f]=void 0;return this.length=0,u.contextStyles={},u.propDiffs={},this.cleanElements(l,!0),l.forEach(function(h){var p=h[0]._private;p.styleDirty=!0,p.appliedInitStyle=!1}),this},Go.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Go.core=function(u){return this._private.coreStyle[u]||this.getDefaultProperty(u)},Go.selector=function(u){var o="core"===u?null:new Du(u),l=this.length++;return this[l]={selector:o,properties:[],mappedProperties:[],index:l},this},Go.css=function(){var o=arguments;if(1===o.length)for(var l=o[0],f=0;f<this.properties.length;f++){var h=this.properties[f],p=l[h.name];void 0===p&&(p=l[wn(h.name)]),void 0!==p&&this.cssRule(h.name,p)}else 2===o.length&&this.cssRule(o[0],o[1]);return this},Go.style=Go.css,Go.cssRule=function(u,o){var l=this.parse(u,o);if(l){var f=this.length-1;this[f].properties.push(l),this[f].properties[l.name]=l,l.name.match(/pie-(\d+)-background-size/)&&l.value&&(this._private.hasPie=!0),l.mapped&&this[f].mappedProperties.push(l),!this[f].selector&&(this._private.coreStyle[l.name]=l)}return this},Go.append=function(u){return tt(u)?u.appendToStyle(this):ft(u)?this.appendFromJson(u):Be(u)&&this.appendFromString(u),this},qo.fromJson=function(u,o){var l=new qo(u);return l.fromJson(o),l},qo.fromString=function(u,o){return new qo(u).fromString(o)},[xo,Do,ts,Vr,Rd,Oh,So,kd].forEach(function(u){In(Go,u)}),qo.types=Go.types,qo.properties=Go.properties,qo.propertyGroups=Go.propertyGroups,qo.propertyGroupNames=Go.propertyGroupNames,qo.propertyGroupKeys=Go.propertyGroupKeys;var Pd={style:function(o){return o&&this.setStyle(o).update(),this._private.style},setStyle:function(o){var l=this._private;return l.style=tt(o)?o.generateStyle(this):ft(o)?qo.fromJson(this,o):Be(o)?qo.fromString(this,o):qo(this),l.style},updateStyle:function(){this.mutableElements().updateStyle()}},xl={autolock:function(o){return void 0===o?this._private.autolock:(this._private.autolock=!!o,this)},autoungrabify:function(o){return void 0===o?this._private.autoungrabify:(this._private.autoungrabify=!!o,this)},autounselectify:function(o){return void 0===o?this._private.autounselectify:(this._private.autounselectify=!!o,this)},selectionType:function(o){var l=this._private;return null==l.selectionType&&(l.selectionType="single"),void 0===o?l.selectionType:(("additive"===o||"single"===o)&&(l.selectionType=o),this)},panningEnabled:function(o){return void 0===o?this._private.panningEnabled:(this._private.panningEnabled=!!o,this)},userPanningEnabled:function(o){return void 0===o?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!o,this)},zoomingEnabled:function(o){return void 0===o?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!o,this)},userZoomingEnabled:function(o){return void 0===o?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!o,this)},boxSelectionEnabled:function(o){return void 0===o?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!o,this)},pan:function(){var f,h,p,g,w,o=arguments,l=this._private.pan;switch(o.length){case 0:return l;case 1:if(Be(o[0]))return l[f=o[0]];if(Ye(o[0])){if(!this._private.panningEnabled)return this;w=(p=o[0]).y,Xe(g=p.x)&&(l.x=g),Xe(w)&&(l.y=w),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;h=o[1],("x"===(f=o[0])||"y"===f)&&Xe(h)&&(l[f]=h),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(o,l){var p,g,w,x,E,f=arguments,h=this._private.pan;if(!this._private.panningEnabled)return this;switch(f.length){case 1:Ye(o)&&(E=(w=f[0]).y,Xe(x=w.x)&&(h.x+=x),Xe(E)&&(h.y+=E),this.emit("pan viewport"));break;case 2:g=l,("x"===(p=o)||"y"===p)&&Xe(g)&&(h[p]+=g),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(o,l){var f=this.getFitViewport(o,l);if(f){var h=this._private;h.zoom=f.zoom,h.pan=f.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(o,l){var f;if((Xe(o)&&void 0===l&&(l=o,o=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(Be(o)?o=this.$(o):!function(o){return Ye(o)&&Xe(o.x1)&&Xe(o.x2)&&Xe(o.y1)&&Xe(o.y2)}(o)?Mt(o)||(o=this.mutableElements()):((f={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=f.x2-f.x1,f.h=f.y2-f.y1),!Mt(o)||!o.empty())){f=f||o.boundingBox();var x,g=this.width(),w=this.height();if(l=Xe(l)?l:0,!isNaN(g)&&!isNaN(w)&&g>0&&w>0&&!isNaN(f.w)&&!isNaN(f.h)&&f.w>0&&f.h>0)return{zoom:x=(x=(x=Math.min((g-2*l)/f.w,(w-2*l)/f.h))>this._private.maxZoom?this._private.maxZoom:x)<this._private.minZoom?this._private.minZoom:x,pan:{x:(g-x*(f.x1+f.x2))/2,y:(w-x*(f.y1+f.y2))/2}}}},zoomRange:function(o,l){var f=this._private;if(null==l){var h=o;o=h.min,l=h.max}return Xe(o)&&Xe(l)&&o<=l?(f.minZoom=o,f.maxZoom=l):Xe(o)&&void 0===l&&o<=f.maxZoom?f.minZoom=o:Xe(l)&&void 0===o&&l>=f.minZoom&&(f.maxZoom=l),this},minZoom:function(o){return void 0===o?this._private.minZoom:this.zoomRange({min:o})},maxZoom:function(o){return void 0===o?this._private.maxZoom:this.zoomRange({max:o})},getZoomedViewport:function(o){var p,g,l=this._private,f=l.pan,h=l.zoom,w=!1;return l.zoomingEnabled||(w=!0),Xe(o)?g=o:Ye(o)&&(g=o.level,null!=o.position?p=Pr(o.position,h,f):null!=o.renderedPosition&&(p=o.renderedPosition),null!=p&&!l.panningEnabled&&(w=!0)),g=(g=g>l.maxZoom?l.maxZoom:g)<l.minZoom?l.minZoom:g,!w&&Xe(g)&&g!==h&&(null==p||Xe(p.x)&&Xe(p.y))?null!=p?{zoomed:!0,panned:!0,zoom:g,pan:{x:-g/h*(p.x-f.x)+p.x,y:-g/h*(p.y-f.y)+p.y}}:{zoomed:!0,panned:!1,zoom:g,pan:f}:null},zoom:function(o){if(void 0===o)return this._private.zoom;var l=this.getZoomedViewport(o),f=this._private;return null!=l&&l.zoomed?(f.zoom=l.zoom,l.panned&&(f.pan.x=l.pan.x,f.pan.y=l.pan.y),this.emit("zoom"+(l.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(o){var l=this._private,f=!0,h=!0,p=[],g=!1,w=!1;if(!o)return this;if(Xe(o.zoom)||(f=!1),Ye(o.pan)||(h=!1),!f&&!h)return this;if(f){var x=o.zoom;x<l.minZoom||x>l.maxZoom||!l.zoomingEnabled?g=!0:(l.zoom=x,p.push("zoom"))}if(h&&(!g||!o.cancelOnFailedZoom)&&l.panningEnabled){var E=o.pan;Xe(E.x)&&(l.pan.x=E.x,w=!1),Xe(E.y)&&(l.pan.y=E.y,w=!1),w||p.push("pan")}return p.length>0&&(p.push("viewport"),this.emit(p.join(" ")),this.notify("viewport")),this},center:function(o){var l=this.getCenterPan(o);return l&&(this._private.pan=l,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(o,l){if(this._private.panningEnabled){if(Be(o)){var f=o;o=this.mutableElements().filter(f)}else Mt(o)||(o=this.mutableElements());if(0!==o.length){var h=o.boundingBox(),p=this.width(),g=this.height();return{x:(p-(l=void 0===l?this._private.zoom:l)*(h.x1+h.x2))/2,y:(g-l*(h.y1+h.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var f,h,o=this._private,l=o.container;return o.sizeCache=o.sizeCache||(l?(f=oe.getComputedStyle(l),{width:l.clientWidth-(h=function(g){return parseFloat(f.getPropertyValue(g))})("padding-left")-h("padding-right"),height:l.clientHeight-h("padding-top")-h("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var o=this._private.pan,l=this._private.zoom,f=this.renderedExtent(),h={x1:(f.x1-o.x)/l,x2:(f.x2-o.x)/l,y1:(f.y1-o.y)/l,y2:(f.y2-o.y)/l};return h.w=h.x2-h.x1,h.h=h.y2-h.y1,h},renderedExtent:function(){var o=this.width(),l=this.height();return{x1:0,y1:0,x2:o,y2:l,w:o,h:l}},multiClickDebounceTime:function(o){return o?(this._private.multiClickDebounceTime=o,this):this._private.multiClickDebounceTime}};xl.centre=xl.center,xl.autolockNodes=xl.autolock,xl.autoungrabifyNodes=xl.autoungrabify;var ms={data:ur.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ur.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ur.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ur.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};ms.attr=ms.data,ms.removeAttr=ms.removeData;var vs=function(o){var l=this,f=(o=In({},o)).container;f&&!Ht(f)&&Ht(f[0])&&(f=f[0]);var h=f?f._cyreg:null;(h=h||{})&&h.cy&&(h.cy.destroy(),h={});var p=h.readies=h.readies||[];f&&(f._cyreg=h),h.cy=l;var g=void 0!==oe&&void 0!==f&&!o.headless,w=o;w.layout=In({name:g?"grid":"null"},w.layout),w.renderer=In({name:g?"canvas":"null"},w.renderer);var x=function(j,q,Q){return void 0!==q?q:void 0!==Q?Q:j},E=this._private={container:f,ready:!1,options:w,elements:new fo(this),listeners:[],aniEles:new fo(this),data:w.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:x(!0,w.zoomingEnabled),userZoomingEnabled:x(!0,w.userZoomingEnabled),panningEnabled:x(!0,w.panningEnabled),userPanningEnabled:x(!0,w.userPanningEnabled),boxSelectionEnabled:x(!0,w.boxSelectionEnabled),autolock:x(!1,w.autolock,w.autolockNodes),autoungrabify:x(!1,w.autoungrabify,w.autoungrabifyNodes),autounselectify:x(!1,w.autounselectify),styleEnabled:void 0===w.styleEnabled?g:w.styleEnabled,zoom:Xe(w.zoom)?w.zoom:1,pan:{x:Ye(w.pan)&&Xe(w.pan.x)?w.pan.x:0,y:Ye(w.pan)&&Xe(w.pan.y)?w.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:x(250,w.multiClickDebounceTime)};this.createEmitter(),this.selectionType(w.selectionType),this.zoomRange({min:w.minZoom,max:w.maxZoom}),E.styleEnabled&&l.setStyle([]);var P=In({},w,w.renderer);l.initRenderer(P),function(j,q){if(j.some(Jn))return ds.all(j).then(q);q(j)}([w.style,w.elements],function(W){var j=W[0],q=W[1];E.styleEnabled&&l.style().append(j),function(j,q,Q){l.notifications(!1);var re=l.mutableElements();re.length>0&&re.remove(),null!=j&&(Ye(j)||ft(j))&&l.add(j),l.one("layoutready",function(fe){l.notifications(!0),l.emit(fe),l.one("load",q),l.emitAndNotify("load")}).one("layoutstop",function(){l.one("done",Q),l.emit("done")});var de=In({},l._private.options.layout);de.eles=l.elements(),l.layout(de).run()}(q,function(){l.startAnimationLoop(),E.ready=!0,ot(w.ready)&&l.on("ready",w.ready);for(var Q=0;Q<p.length;Q++)l.on("ready",p[Q]);h&&(h.readies=[]),l.emit("ready")},w.done)})},Iu=vs.prototype;In(Iu,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(o){return this.isReady()?this.emitter().emit("ready",[],o):this.on("ready",o),this},destroy:function(){var o=this;if(!o.destroyed())return o.stopAnimationLoop(),o.destroyRenderer(),this.emit("destroy"),o._private.destroyed=!0,o},hasElementWithId:function(o){return this._private.elements.hasElementWithId(o)},getElementById:function(o){return this._private.elements.getElementById(o)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(o){return this._private.elements.merge(o),this},removeFromPool:function(o){return this._private.elements.unmerge(o),this},container:function(){return this._private.container||null},mount:function(o){if(null!=o){var l=this,f=l._private,h=f.options;return!Ht(o)&&Ht(o[0])&&(o=o[0]),l.stopAnimationLoop(),l.destroyRenderer(),f.container=o,f.styleEnabled=!0,l.invalidateSize(),l.initRenderer(In({},h,h.renderer,{name:"null"===h.renderer.name?"canvas":h.renderer.name})),l.startAnimationLoop(),l.style(h.style),l.emit("mount"),l}},unmount:function(){var o=this;return o.stopAnimationLoop(),o.destroyRenderer(),o.initRenderer({name:"null"}),o.emit("unmount"),o},options:function(){return Oi(this._private.options)},json:function(o){var l=this,f=l._private,h=l.mutableElements();if(Ye(o)){if(l.startBatch(),o.elements){var g={},w=function(ve,Me){for(var Ae=[],ye=[],Te=0;Te<ve.length;Te++){var we=ve[Te];if(we.data.id){var ke=""+we.data.id,Pe=l.getElementById(ke);g[ke]=!0,0!==Pe.length?ye.push({ele:Pe,json:we}):(Me&&(we.group=Me),Ae.push(we))}else Sr("cy.json() cannot handle elements without an ID attribute")}l.add(Ae);for(var Ee=0;Ee<ye.length;Ee++){var He=ye[Ee];He.ele.json(He.json)}};if(ft(o.elements))w(o.elements);else for(var x=["nodes","edges"],E=0;E<x.length;E++){var M=x[E],P=o.elements[M];ft(P)&&w(P,M)}var z=l.collection();h.filter(function(fe){return!g[fe.id()]}).forEach(function(fe){fe.isParent()?z.merge(fe):fe.remove()}),z.forEach(function(fe){return fe.children().move({parent:null})}),z.forEach(function(fe){return(ve=fe,l.getElementById(ve.id())).remove();var ve})}o.style&&l.style(o.style),null!=o.zoom&&o.zoom!==f.zoom&&l.zoom(o.zoom),o.pan&&(o.pan.x!==f.pan.x||o.pan.y!==f.pan.y)&&l.pan(o.pan),o.data&&l.data(o.data);for(var W=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],j=0;j<W.length;j++){var q=W[j];null!=o[q]&&l[q](o[q])}return l.endBatch(),this}var re={};o?re.elements=this.elements().map(function(fe){return fe.json()}):(re.elements={},h.forEach(function(fe){var ve=fe.group();re.elements[ve]||(re.elements[ve]=[]),re.elements[ve].push(fe.json())})),this._private.styleEnabled&&(re.style=l.style().json()),re.data=Oi(l.data());var de=f.options;return re.zoomingEnabled=f.zoomingEnabled,re.userZoomingEnabled=f.userZoomingEnabled,re.zoom=f.zoom,re.minZoom=f.minZoom,re.maxZoom=f.maxZoom,re.panningEnabled=f.panningEnabled,re.userPanningEnabled=f.userPanningEnabled,re.pan=Oi(f.pan),re.boxSelectionEnabled=f.boxSelectionEnabled,re.renderer=Oi(de.renderer),re.hideEdgesOnViewport=de.hideEdgesOnViewport,re.textureOnViewport=de.textureOnViewport,re.wheelSensitivity=de.wheelSensitivity,re.motionBlur=de.motionBlur,re.multiClickDebounceTime=de.multiClickDebounceTime,re}}),Iu.$id=Iu.getElementById,[py,Af,Nf,Dc,tu,Hp,Nd,Od,Pd,xl,ms].forEach(function(u){In(Iu,u)});var Of={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}},zp={maximal:!1,acyclic:!1},Au=function(o){return o.scratch("breadthfirst")},Up=function(o,l){return o.scratch("breadthfirst",l)};function Nu(u){this.options=In({},Of,zp,u)}Nu.prototype.run=function(){var E,u=this.options,o=u,l=u.cy,f=o.eles,h=f.nodes().filter(function(on){return!on.isParent()}),p=f,g=o.directed,w=o.acyclic||o.maximal||o.maximalAdjustments>0,x=Si(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(Mt(o.roots))E=o.roots;else if(ft(o.roots)){for(var M=[],P=0;P<o.roots.length;P++){var W=l.getElementById(o.roots[P]);M.push(W)}E=l.collection(M)}else if(Be(o.roots))E=l.$(o.roots);else if(g)E=h.roots();else{var j=f.components();E=l.collection();for(var q=function(Qt){var On=j[Qt],xn=On.maxDegree(!1),sn=On.filter(function(An){return An.degree(!1)===xn});E=E.add(sn)},Q=0;Q<j.length;Q++)q(Q)}var re=[],de={},fe=function(Qt,On){null==re[On]&&(re[On]=[]);var xn=re[On].length;re[On].push(Qt),Up(Qt,{index:xn,depth:On})};p.bfs({roots:E,directed:o.directed,visit:function(Qt,On,xn,sn,An){var Ar=Qt[0],fr=Ar.id();fe(Ar,An),de[fr]=!0}});for(var Me=[],Ae=0;Ae<h.length;Ae++){var ye=h[Ae];de[ye.id()]||Me.push(ye)}var Te=function(Qt){for(var On=re[Qt],xn=0;xn<On.length;xn++){var sn=On[xn];null!=sn?Up(sn,{depth:Qt,index:xn}):(On.splice(xn,1),xn--)}},we=function(){for(var Qt=0;Qt<re.length;Qt++)Te(Qt)},ke=function(Qt,On){for(var xn=Au(Qt),sn=Qt.incomers().filter(function(dt){return dt.isNode()&&f.has(dt)}),An=-1,Ar=Qt.id(),fr=0;fr<sn.length;fr++){var zt=Au(sn[fr]);An=Math.max(An,zt.depth)}if(xn.depth<=An){if(!o.acyclic&&On[Ar])return null;var Ce=An+1;return function(Qt,On){var xn=Au(Qt);re[xn.depth][xn.index]=null,fe(Qt,On)}(Qt,Ce),On[Ar]=Ce,!0}return!1};if(g&&w){var Pe=[],Ee={},He=function(Qt){return Pe.push(Qt)};for(h.forEach(function(on){return Pe.push(on)});Pe.length>0;){var Ke=Pe.shift(),Ue=ke(Ke,Ee);if(Ue)Ke.outgoers().filter(function(on){return on.isNode()&&f.has(on)}).forEach(He);else if(null===Ue){Sr("Detected double maximal shift for node `"+Ke.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}we();var Ge=0;if(o.avoidOverlap)for(var rt=0;rt<h.length;rt++){var vt=h[rt].layoutDimensions(o);Ge=Math.max(Ge,vt.w,vt.h)}var It={},At=function(Qt){if(It[Qt.id()])return It[Qt.id()];for(var On=Au(Qt).depth,xn=Qt.neighborhood(),sn=0,An=0,Ar=0;Ar<xn.length;Ar++){var fr=xn[Ar];if(!fr.isEdge()&&!fr.isParent()&&h.has(fr)){var jn=Au(fr);if(null!=jn){var zt=jn.index,Ce=jn.depth;null!=zt&&null!=Ce&&Ce<On&&(sn+=zt/re[Ce].length,An++)}}}return sn/=An=Math.max(1,An),0===An&&(sn=0),It[Qt.id()]=sn,sn},xt=function(Qt,On){var An=At(Qt)-At(On);return 0===An?ja(Qt.id(),On.id()):An};void 0!==o.depthSort&&(xt=o.depthSort);for(var wt=0;wt<re.length;wt++)re[wt].sort(xt),Te(wt);for(var Je=[],Tt=0;Tt<Me.length;Tt++)Je.push(Me[Tt]);re.unshift(Je),we();for(var Ot=0,Wt=0;Wt<re.length;Wt++)Ot=Math.max(re[Wt].length,Ot);var tn_x=x.x1+x.w/2,tn_y=x.x1+x.h/2,$n=re.reduce(function(on,Qt){return Math.max(on,Qt.length)},0);return f.nodes().layoutPositions(this,o,function(Qt){var On=Au(Qt),xn=On.depth,sn=On.index,An=re[xn].length,Ar=Math.max(x.w/((o.grid?$n:An)+1),Ge),fr=Math.max(x.h/(re.length+1),Ge),jn=Math.min(x.w/2/re.length,x.h/2/re.length);if(jn=Math.max(jn,Ge),o.circle){var Ce=jn*xn+jn-(re.length>0&&re[0].length<=3?jn/2:0),dt=2*Math.PI/re[xn].length*sn;return 0===xn&&1===re[0].length&&(Ce=1),{x:tn_x+Ce*Math.cos(dt),y:tn_y+Ce*Math.sin(dt)}}return{x:tn_x+(sn+1-(An+1)/2)*Ar,y:(xn+1)*fr}}),this};var Tc={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Gp(u){this.options=In({},Tc,u)}Gp.prototype.run=function(){var u=this.options,o=u,l=u.cy,f=o.eles,h=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,p=f.nodes().not(":parent");o.sort&&(p=p.sort(o.sort));for(var M,g=Si(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),w={x:g.x1+g.w/2,y:g.y1+g.h/2},E=(void 0===o.sweep?2*Math.PI-2*Math.PI/p.length:o.sweep)/Math.max(1,p.length-1),P=0,z=0;z<p.length;z++){var j=p[z].layoutDimensions(o);P=Math.max(P,j.w,j.h)}if(M=Xe(o.radius)?o.radius:p.length<=1?0:Math.min(g.h,g.w)/2-P,p.length>1&&o.avoidOverlap){P*=1.75;var re=Math.cos(E)-Math.cos(0),de=Math.sin(E)-Math.sin(0),fe=Math.sqrt(P*P/(re*re+de*de));M=Math.max(fe,M)}return f.nodes().layoutPositions(this,o,function(Ae,ye){var Te=o.startAngle+ye*E*(h?1:-1),we=M*Math.cos(Te),ke=M*Math.sin(Te);return{x:w.x+we,y:w.y+ke}}),this};var gy={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(o){return o.degree()},levelWidth:function(o){return o.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Ld(u){this.options=In({},gy,u)}Ld.prototype.run=function(){for(var u=this.options,o=u,l=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,f=u.cy,h=o.eles,p=h.nodes().not(":parent"),g=Si(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:f.width(),h:f.height()}),w={x:g.x1+g.w/2,y:g.y1+g.h/2},x=[],E=0,M=0;M<p.length;M++){var z,P=p[M];z=o.concentric(P),x.push({value:z,node:P}),P._private.scratch.concentric=z}p.updateStyle();for(var W=0;W<p.length;W++){var q=p[W].layoutDimensions(o);E=Math.max(E,q.w,q.h)}x.sort(function(on,Qt){return Qt.value-on.value});for(var Q=o.levelWidth(p),re=[[]],de=re[0],fe=0;fe<x.length;fe++){var ve=x[fe];de.length>0&&Math.abs(de[0].value-ve.value)>=Q&&re.push(de=[]),de.push(ve)}var Ae=E+o.minNodeSpacing;if(!o.avoidOverlap){var ye=re.length>0&&re[0].length>1,Te=Math.min(g.w,g.h)/2-Ae;Ae=Math.min(Ae,Te/(re.length+ye?1:0))}for(var ke=0,Pe=0;Pe<re.length;Pe++){var Ee=re[Pe],He=void 0===o.sweep?2*Math.PI-2*Math.PI/Ee.length:o.sweep,Oe=Ee.dTheta=He/Math.max(1,Ee.length-1);if(Ee.length>1&&o.avoidOverlap){var Ke=Math.cos(Oe)-Math.cos(0),Ue=Math.sin(Oe)-Math.sin(0),Ge=Math.sqrt(Ae*Ae/(Ke*Ke+Ue*Ue));ke=Math.max(Ge,ke)}Ee.r=ke,ke+=Ae}if(o.equidistant){for(var rt=0,ct=0,vt=0;vt<re.length;vt++)rt=Math.max(rt,re[vt].r-ct);ct=0;for(var It=0;It<re.length;It++){var At=re[It];0===It&&(ct=At.r),At.r=ct,ct+=rt}}for(var xt={},wt=0;wt<re.length;wt++)for(var Je=re[wt],Tt=Je.dTheta,Ot=Je.r,Wt=0;Wt<Je.length;Wt++){var tn=Je[Wt],$n=o.startAngle+(l?1:-1)*Tt*Wt,ar={x:w.x+Ot*Math.cos($n),y:w.y+Ot*Math.sin($n)};xt[tn.node.id()]=ar}return h.nodes().layoutPositions(this,o,function(on){var Qt=on.id();return xt[Qt]}),this};var Rf,jp={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(o,l){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(o){return 2048},nodeOverlap:4,idealEdgeLength:function(o){return 32},edgeElasticity:function(o){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function kf(u){this.options=In({},jp,u),this.options.layout=this}kf.prototype.run=function(){var u=this.options,o=u.cy,l=this;l.stopped=!1,(!0===u.animate||!1===u.animate)&&l.emit({type:"layoutstart",layout:l}),Rf=!0===u.debug;var f=gm(o,l,u);Rf&&(void 0)(f),u.randomize&&mm(f);var h=Di(),p=function(){kh(f,o,u),!0===u.fit&&o.fit(u.padding)},g=function(z){return!(l.stopped||z>=u.numIter||(oi(f,u),f.temperature=f.temperature*u.coolingFactor,f.temperature<u.minTemp))},w=function(){if(!0===u.animate||!1===u.animate)p(),l.one("layoutstop",u.stop),l.emit({type:"layoutstop",layout:l});else{var z=u.eles.nodes(),W=Bd(f,u,z);z.layoutPositions(l,u,W)}},x=0,E=!0;if(!0===u.animate)!function P(){for(var z=0;E&&z<u.refresh;)E=g(x),x++,z++;E?(Di()-h>=u.animationThreshold&&p(),pu(P)):(Wp(f,u),w())}();else{for(;E;)E=g(x),x++;Wp(f,u),w()}return this},kf.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},kf.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var gm=function(o,l,f){for(var h=f.eles.edges(),p=f.eles.nodes(),g=Si(f.boundingBox?f.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()}),w={isCompound:o.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:p.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:h.size(),temperature:f.initialTemp,clientWidth:g.w,clientHeight:g.h,boundingBox:g},x=f.eles.components(),E={},M=0;M<x.length;M++)for(var P=x[M],z=0;z<P.length;z++)E[P[z].id()]=M;for(M=0;M<w.nodeSize;M++){var q=(j=p[M]).layoutDimensions(f);(Q={}).isLocked=j.locked(),Q.id=j.data("id"),Q.parentId=j.data("parent"),Q.cmptId=E[j.id()],Q.children=[],Q.positionX=j.position("x"),Q.positionY=j.position("y"),Q.offsetX=0,Q.offsetY=0,Q.height=q.w,Q.width=q.h,Q.maxX=Q.positionX+Q.width/2,Q.minX=Q.positionX-Q.width/2,Q.maxY=Q.positionY+Q.height/2,Q.minY=Q.positionY-Q.height/2,Q.padLeft=parseFloat(j.style("padding")),Q.padRight=parseFloat(j.style("padding")),Q.padTop=parseFloat(j.style("padding")),Q.padBottom=parseFloat(j.style("padding")),Q.nodeRepulsion=ot(f.nodeRepulsion)?f.nodeRepulsion(j):f.nodeRepulsion,w.layoutNodes.push(Q),w.idToIndex[Q.id]=M}var re=[],de=0,fe=-1,ve=[];for(M=0;M<w.nodeSize;M++){var j,Me=(j=w.layoutNodes[M]).parentId;null!=Me?w.layoutNodes[w.idToIndex[Me]].children.push(j.id):(re[++fe]=j.id,ve.push(j.id))}for(w.graphSet.push(ve);de<=fe;){var Ae=re[de++],Te=w.layoutNodes[w.idToIndex[Ae]].children;if(Te.length>0)for(w.graphSet.push(Te),M=0;M<Te.length;M++)re[++fe]=Te[M]}for(M=0;M<w.graphSet.length;M++){var we=w.graphSet[M];for(z=0;z<we.length;z++)w.indexToGraph[w.idToIndex[we[z]]]=M}for(M=0;M<w.edgeSize;M++){var Pe=h[M],Ee={};Ee.id=Pe.data("id"),Ee.sourceId=Pe.data("source"),Ee.targetId=Pe.data("target");var He=ot(f.idealEdgeLength)?f.idealEdgeLength(Pe):f.idealEdgeLength,Oe=ot(f.edgeElasticity)?f.edgeElasticity(Pe):f.edgeElasticity,Ke=w.idToIndex[Ee.sourceId],Ue=w.idToIndex[Ee.targetId];if(w.indexToGraph[Ke]!=w.indexToGraph[Ue]){for(var ct=Fd(Ee.sourceId,Ee.targetId,w),vt=w.graphSet[ct],at=0,Q=w.layoutNodes[Ke];-1===vt.indexOf(Q.id);)Q=w.layoutNodes[w.idToIndex[Q.parentId]],at++;for(Q=w.layoutNodes[Ue];-1===vt.indexOf(Q.id);)Q=w.layoutNodes[w.idToIndex[Q.parentId]],at++;He*=at*f.nestingFactor}Ee.idealLength=He,Ee.elasticity=Oe,w.layoutEdges.push(Ee)}return w},Fd=function(o,l,f){var h=Rh(o,l,0,f);return 2>h.count?0:h.graph},Rh=function u(o,l,f,h){var p=h.graphSet[f];if(-1<p.indexOf(o)&&-1<p.indexOf(l))return{count:2,graph:f};for(var g=0,w=0;w<p.length;w++){var M=h.layoutNodes[h.idToIndex[p[w]]].children;if(0!==M.length){var z=u(o,l,h.indexToGraph[h.idToIndex[M[0]]],h);if(0!==z.count){if(1!==z.count)return z;if(2==++g)break}}}return{count:g,graph:f}},mm=function(o,l){for(var f=o.clientWidth,h=o.clientHeight,p=0;p<o.nodeSize;p++){var g=o.layoutNodes[p];0===g.children.length&&!g.isLocked&&(g.positionX=Math.random()*f,g.positionY=Math.random()*h)}},Bd=function(o,l,f){var h=o.boundingBox,p={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return l.boundingBox&&(f.forEach(function(g){var w=o.layoutNodes[o.idToIndex[g.data("id")]];p.x1=Math.min(p.x1,w.positionX),p.x2=Math.max(p.x2,w.positionX),p.y1=Math.min(p.y1,w.positionY),p.y2=Math.max(p.y2,w.positionY)}),p.w=p.x2-p.x1,p.h=p.y2-p.y1),function(g,w){var x=o.layoutNodes[o.idToIndex[g.data("id")]];return l.boundingBox?{x:h.x1+(x.positionX-p.x1)/p.w*h.w,y:h.y1+(x.positionY-p.y1)/p.h*h.h}:{x:x.positionX,y:x.positionY}}},kh=function(o,l,f){var h=f.layout,p=f.eles.nodes(),g=Bd(o,f,p);p.positions(g),!0!==o.ready&&(o.ready=!0,h.one("layoutready",f.ready),h.emit({type:"layoutready",layout:this}))},oi=function(o,l,f){my(o,l),Ph(o),Hd(o,l),Pf(o),Lh(o)},my=function(o,l){for(var f=0;f<o.graphSet.length;f++)for(var h=o.graphSet[f],p=h.length,g=0;g<p;g++)for(var w=o.layoutNodes[o.idToIndex[h[g]]],x=g+1;x<p;x++)Mc(w,o.layoutNodes[o.idToIndex[h[x]]],o,l)},Vd=function(o){return-o+2*o*Math.random()},Mc=function(o,l,f,h){if(o.cmptId===l.cmptId||f.isCompound){var w=l.positionX-o.positionX,x=l.positionY-o.positionY;0===w&&0===x&&(w=Vd(1),x=Vd(1));var M=Fs(o,l,w,x);if(M>0)var W=(P=h.nodeOverlap*M)*w/(z=Math.sqrt(w*w+x*x)),j=P*x/z;else{var P,q=ca(o,w,x),Q=ca(l,-1*w,-1*x),re=Q.x-q.x,de=Q.y-q.y,fe=re*re+de*de,z=Math.sqrt(fe);W=(P=(o.nodeRepulsion+l.nodeRepulsion)/fe)*re/z,j=P*de/z}o.isLocked||(o.offsetX-=W,o.offsetY-=j),l.isLocked||(l.offsetX+=W,l.offsetY+=j)}},Fs=function(o,l,f,h){if(f>0)var p=o.maxX-l.minX;else p=l.maxX-o.minX;if(h>0)var g=o.maxY-l.minY;else g=l.maxY-o.minY;return p>=0&&g>=0?Math.sqrt(p*p+g*g):0},ca=function(o,l,f){var h=o.positionX,p=o.positionY,g=o.height||1,w=o.width||1,x=f/l,E=g/w,M={};return 0===l&&0<f||0===l&&0>f?(M.x=h,M.y=p+g/2,M):0<l&&-1*E<=x&&x<=E?(M.x=h+w/2,M.y=p+w*f/2/l,M):0>l&&-1*E<=x&&x<=E?(M.x=h-w/2,M.y=p-w*f/2/l,M):0<f&&(x<=-1*E||x>=E)?(M.x=h+g*l/2/f,M.y=p+g/2,M):(0>f&&(x<=-1*E||x>=E)&&(M.x=h-g*l/2/f,M.y=p-g/2),M)},Ph=function(o,l){for(var f=0;f<o.edgeSize;f++){var h=o.layoutEdges[f],g=o.layoutNodes[o.idToIndex[h.sourceId]],x=o.layoutNodes[o.idToIndex[h.targetId]],E=x.positionX-g.positionX,M=x.positionY-g.positionY;if(0!==E||0!==M){var P=ca(g,E,M),z=ca(x,-1*E,-1*M),W=z.x-P.x,j=z.y-P.y,q=Math.sqrt(W*W+j*j),Q=Math.pow(h.idealLength-q,2)/h.elasticity;if(0!==q)var re=Q*W/q,de=Q*j/q;else re=0,de=0;g.isLocked||(g.offsetX+=re,g.offsetY+=de),x.isLocked||(x.offsetX-=re,x.offsetY-=de)}}},Hd=function(o,l){if(0!==l.gravity)for(var h=0;h<o.graphSet.length;h++){var p=o.graphSet[h],g=p.length;if(0===h)var w=o.clientHeight/2,x=o.clientWidth/2;else{var M=o.layoutNodes[o.idToIndex[o.layoutNodes[o.idToIndex[p[0]]].parentId]];w=M.positionX,x=M.positionY}for(var P=0;P<g;P++){var z=o.layoutNodes[o.idToIndex[p[P]]];if(!z.isLocked){var W=w-z.positionX,j=x-z.positionY,q=Math.sqrt(W*W+j*j);if(q>1){var re=l.gravity*j/q;z.offsetX+=l.gravity*W/q,z.offsetY+=re}}}}},Pf=function(o,l){var f=[],h=0,p=-1;for(f.push.apply(f,o.graphSet[0]),p+=o.graphSet[0].length;h<=p;){var g=f[h++],x=o.layoutNodes[o.idToIndex[g]],E=x.children;if(0<E.length&&!x.isLocked){for(var M=x.offsetX,P=x.offsetY,z=0;z<E.length;z++){var W=o.layoutNodes[o.idToIndex[E[z]]];W.offsetX+=M,W.offsetY+=P,f[++p]=E[z]}x.offsetX=0,x.offsetY=0}}},Lh=function(o,l){for(var f=0;f<o.nodeSize;f++)0<(h=o.layoutNodes[f]).children.length&&(h.maxX=void 0,h.minX=void 0,h.maxY=void 0,h.minY=void 0);for(f=0;f<o.nodeSize;f++)if(!(0<(h=o.layoutNodes[f]).children.length||h.isLocked)){var p=zd(h.offsetX,h.offsetY,o.temperature);h.positionX+=p.x,h.positionY+=p.y,h.offsetX=0,h.offsetY=0,h.minX=h.positionX-h.width,h.maxX=h.positionX+h.width,h.minY=h.positionY-h.height,h.maxY=h.positionY+h.height,Lf(h,o)}for(f=0;f<o.nodeSize;f++){var h;0<(h=o.layoutNodes[f]).children.length&&!h.isLocked&&(h.positionX=(h.maxX+h.minX)/2,h.positionY=(h.maxY+h.minY)/2,h.width=h.maxX-h.minX,h.height=h.maxY-h.minY)}},zd=function(o,l,f){var h=Math.sqrt(o*o+l*l);if(h>f)var p={x:f*o/h,y:f*l/h};else p={x:o,y:l};return p},Lf=function u(o,l){var f=o.parentId;if(null!=f){var h=l.layoutNodes[l.idToIndex[f]],p=!1;if((null==h.maxX||o.maxX+h.padRight>h.maxX)&&(h.maxX=o.maxX+h.padRight,p=!0),(null==h.minX||o.minX-h.padLeft<h.minX)&&(h.minX=o.minX-h.padLeft,p=!0),(null==h.maxY||o.maxY+h.padBottom>h.maxY)&&(h.maxY=o.maxY+h.padBottom,p=!0),(null==h.minY||o.minY-h.padTop<h.minY)&&(h.minY=o.minY-h.padTop,p=!0),p)return u(h,l)}},Wp=function(o,l){for(var f=o.layoutNodes,h=[],p=0;p<f.length;p++){var g=f[p],w=g.cmptId;(h[w]=h[w]||[]).push(g)}var E=0;for(p=0;p<h.length;p++)if(M=h[p]){M.x1=1/0,M.x2=-1/0,M.y1=1/0,M.y2=-1/0;for(var P=0;P<M.length;P++){var z=M[P];M.x1=Math.min(M.x1,z.positionX-z.width/2),M.x2=Math.max(M.x2,z.positionX+z.width/2),M.y1=Math.min(M.y1,z.positionY-z.height/2),M.y2=Math.max(M.y2,z.positionY+z.height/2)}M.w=M.x2-M.x1,M.h=M.y2-M.y1,E+=M.w*M.h}h.sort(function(de,fe){return fe.w*fe.h-de.w*de.h});var W=0,j=0,q=0,Q=0,re=Math.sqrt(E)*o.clientWidth/o.clientHeight;for(p=0;p<h.length;p++){var M;if(M=h[p]){for(P=0;P<M.length;P++)(z=M[P]).isLocked||(z.positionX+=W-M.x1,z.positionY+=j-M.y1);W+=M.w+l.componentSpacing,q+=M.w+l.componentSpacing,Q=Math.max(Q,M.h),q>re&&(j+=Q+l.componentSpacing,W=0,q=0,Q=0)}}},Ff={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(o){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Bf(u){this.options=In({},Ff,u)}Bf.prototype.run=function(){var u=this.options,o=u,l=u.cy,f=o.eles,h=f.nodes().not(":parent");o.sort&&(h=h.sort(o.sort));var p=Si(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()});if(0===p.h||0===p.w)f.nodes().layoutPositions(this,o,function(It){return{x:p.x1,y:p.y1}});else{var g=h.size(),w=Math.sqrt(g*p.h/p.w),x=Math.round(w),E=Math.round(p.w/p.h*w),M=function(At){if(null==At)return Math.min(x,E);Math.min(x,E)==x?x=At:E=At},P=function(At){if(null==At)return Math.max(x,E);Math.max(x,E)==x?x=At:E=At},z=o.rows,W=null!=o.cols?o.cols:o.columns;if(null!=z&&null!=W)x=z,E=W;else if(null!=z&&null==W)x=z,E=Math.ceil(g/x);else if(null==z&&null!=W)E=W,x=Math.ceil(g/E);else if(E*x>g){var j=M(),q=P();(j-1)*q>=g?M(j-1):(q-1)*j>=g&&P(q-1)}else for(;E*x<g;){var Q=M(),re=P();(re+1)*Q>=g?P(re+1):M(Q+1)}var de=p.w/E,fe=p.h/x;if(o.condense&&(de=0,fe=0),o.avoidOverlap)for(var ve=0;ve<h.length;ve++){var Me=h[ve],Ae=Me._private.position;(null==Ae.x||null==Ae.y)&&(Ae.x=0,Ae.y=0);var ye=Me.layoutDimensions(o),Te=o.avoidOverlapPadding,ke=ye.h+Te;de=Math.max(de,ye.w+Te),fe=Math.max(fe,ke)}for(var Pe={},Ee=function(At,xt){return!!Pe["c-"+At+"-"+xt]},He=function(At,xt){Pe["c-"+At+"-"+xt]=!0},Oe=0,Ke=0,Ue=function(){++Ke>=E&&(Ke=0,Oe++)},Ge={},rt=0;rt<h.length;rt++){var ct=h[rt],vt=o.position(ct);if(vt&&(void 0!==vt.row||void 0!==vt.col)){var at={row:vt.row,col:vt.col};if(void 0===at.col)for(at.col=0;Ee(at.row,at.col);)at.col++;else if(void 0===at.row)for(at.row=0;Ee(at.row,at.col);)at.row++;Ge[ct.id()]=at,He(at.row,at.col)}}h.layoutPositions(this,o,function(At,xt){var wt,Je;if(At.locked()||At.isParent())return!1;var Tt=Ge[At.id()];if(Tt)wt=Tt.col*de+de/2+p.x1,Je=Tt.row*fe+fe/2+p.y1;else{for(;Ee(Oe,Ke);)Ue();wt=Ke*de+de/2+p.x1,Je=Oe*fe+fe/2+p.y1,He(Oe,Ke),Ue()}return{x:wt,y:Je}})}return this};var Xr={ready:function(){},stop:function(){}};function Ud(u){this.options=In({},Xr,u)}Ud.prototype.run=function(){var u=this.options,o=u.eles,l=this;return l.emit("layoutstart"),o.nodes().positions(function(){return{x:0,y:0}}),l.one("layoutready",u.ready),l.emit("layoutready"),l.one("layoutstop",u.stop),l.emit("layoutstop"),this},Ud.prototype.stop=function(){return this};var vm={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function rl(u){this.options=In({},vm,u)}rl.prototype.run=function(){var u=this.options,l=u.eles.nodes(),f=ot(u.positions);return l.layoutPositions(this,u,function(p,g){var w=function h(p){return null==u.positions?function(o){return{x:o.x,y:o.y}}(p.position()):f?u.positions(p):u.positions[p._private.data.id]??null}(p);return!p.locked()&&null!=w&&w}),this};var Ru={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,l){return!0},ready:void 0,stop:void 0,transform:function(o,l){return l}};function Gd(u){this.options=In({},Ru,u)}Gd.prototype.run=function(){var u=this.options,o=u.cy,l=u.eles,f=Si(u.boundingBox?u.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});return l.nodes().layoutPositions(this,u,function(g,w){return{x:f.x1+Math.round(Math.random()*f.w),y:f.y1+Math.round(Math.random()*f.h)}}),this};var $p=[{name:"breadthfirst",impl:Nu},{name:"circle",impl:Gp},{name:"concentric",impl:Ld},{name:"cose",impl:kf},{name:"grid",impl:Bf},{name:"null",impl:Ud},{name:"preset",impl:rl},{name:"random",impl:Gd}];function Ti(u){this.options=u,this.notifications=0}var ku=function(){},Yp=function(){throw new Error("A headless instance can not render images")};Ti.prototype={recalculateRenderedStyle:ku,notify:function(){this.notifications++},init:ku,isHeadless:function(){return!0},png:Yp,jpg:Yp};var wi={arrowShapeWidth:.3,registerArrowShapes:function(){var u=this.arrowShapes={},o=this,l=function(E,M,P,z,W,j,q){return W.x-P/2-q<=E&&E<=W.x+P/2+q&&W.y-P/2-q<=M&&M<=W.y+P/2+q},f=function(E,M,P,z,W){var j=E*Math.cos(z)-M*Math.sin(z),q=E*Math.sin(z)+M*Math.cos(z);return{x:j*P+W.x,y:q*P+W.y}},h=function(E,M,P,z){for(var W=[],j=0;j<E.length;j+=2)W.push(f(E[j],E[j+1],M,P,z));return W},p=function(E){for(var M=[],P=0;P<E.length;P++){var z=E[P];M.push(z.x,z.y)}return M},g=function(E){return E.pstyle("width").pfValue*E.pstyle("arrow-scale").pfValue*2},w=function(E,M){Be(M)&&(M=u[M]),u[E]=In({name:E,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(z,W,j,q,Q,re){var de=p(h(this.points,j+2*re,q,Q));return Ko(z,W,de)},roughCollide:l,draw:function(z,W,j,q){var Q=h(this.points,W,j,q);o.arrowShapeImpl("polygon")(z,Q)},spacing:function(z){return 0},gap:g},M)};w("none",{collide:Ts,roughCollide:Ts,draw:nd,spacing:tc,gap:tc}),w("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),w("arrow","triangle"),w("triangle-backcurve",{points:u.triangle.points,controlPoint:[0,-.15],roughCollide:l,draw:function(E,M,P,z,W){var j=h(this.points,M,P,z),q=this.controlPoint,Q=f(q[0],q[1],M,P,z);o.arrowShapeImpl(this.name)(E,j,Q)},gap:function(E){return.8*g(E)}}),w("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(E,M,P,z,W,j,q){var Q=p(h(this.points,P+2*q,z,W)),re=p(h(this.pointsTee,P+2*q,z,W));return Ko(E,M,Q)||Ko(E,M,re)},draw:function(E,M,P,z,W){var j=h(this.points,M,P,z),q=h(this.pointsTee,M,P,z);o.arrowShapeImpl(this.name)(E,j,q)}}),w("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(E,M,P,z,W,j,q){var Q=W,re=Math.pow(Q.x-E,2)+Math.pow(Q.y-M,2)<=Math.pow((P+2*q)*this.radius,2),de=p(h(this.points,P+2*q,z,W));return Ko(E,M,de)||re},draw:function(E,M,P,z,W){var j=h(this.pointsTr,M,P,z);o.arrowShapeImpl(this.name)(E,j,z.x,z.y,this.radius*M)},spacing:function(E){return o.getArrowWidth(E.pstyle("width").pfValue,E.pstyle("arrow-scale").value)*this.radius}}),w("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(E,M){var P=this.baseCrossLinePts.slice(),z=M/E;return P[3]=P[3]-z,P[5]=P[5]-z,P},collide:function(E,M,P,z,W,j,q){var Q=p(h(this.points,P+2*q,z,W)),re=p(h(this.crossLinePts(P,j),P+2*q,z,W));return Ko(E,M,Q)||Ko(E,M,re)},draw:function(E,M,P,z,W){var j=h(this.points,M,P,z),q=h(this.crossLinePts(M,W),M,P,z);o.arrowShapeImpl(this.name)(E,j,q)}}),w("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(E){return.525*g(E)}}),w("circle",{radius:.15,collide:function(E,M,P,z,W,j,q){var Q=W;return Math.pow(Q.x-E,2)+Math.pow(Q.y-M,2)<=Math.pow((P+2*q)*this.radius,2)},draw:function(E,M,P,z,W){o.arrowShapeImpl(this.name)(E,z.x,z.y,this.radius*M)},spacing:function(E){return o.getArrowWidth(E.pstyle("width").pfValue,E.pstyle("arrow-scale").value)*this.radius}}),w("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(E){return 1},gap:function(E){return 1}}),w("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),w("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(E){return E.pstyle("width").pfValue*E.pstyle("arrow-scale").value}}),w("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(E){return.95*E.pstyle("width").pfValue*E.pstyle("arrow-scale").value}})}},ys={projectIntoViewport:function(u,o){var l=this.cy,f=this.findContainerClientCoords(),h=f[0],p=f[1],g=f[4],w=l.pan(),x=l.zoom();return[((u-h)/g-w.x)/x,((o-p)/g-w.y)/x]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var u=this.container,o=u.getBoundingClientRect(),l=oe.getComputedStyle(u),f=function(re){return parseFloat(l.getPropertyValue(re))},h_left=f("padding-left"),h_right=f("padding-right"),h_top=f("padding-top"),h_bottom=f("padding-bottom"),p_left=f("border-left-width"),p_right=f("border-right-width"),p_top=f("border-top-width"),g=(f("border-bottom-width"),u.clientWidth);return this.containerBB=[o.left+h_left+p_left,o.top+h_top+p_top,g-(h_left+h_right),u.clientHeight-(h_top+h_bottom),o.width/(g+(p_left+p_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(u,o,l,f){return this.findNearestElements(u,o,l,f)[0]},findNearestElements:function(u,o,l,f){var j,q,h=this,p=this,g=p.getCachedZSortedEles(),w=[],x=p.cy.zoom(),E=p.cy.hasCompoundNodes(),M=(f?24:8)/x,P=(f?8:2)/x,z=(f?8:2)/x,W=1/0;function Q(ye,Te){if(ye.isNode()){if(q)return;q=ye,w.push(ye)}if(ye.isEdge()&&(null==Te||Te<W))if(j){if(j.pstyle("z-compound-depth").value===ye.pstyle("z-compound-depth").value&&j.pstyle("z-compound-depth").value===ye.pstyle("z-compound-depth").value)for(var we=0;we<w.length;we++)if(w[we].isEdge()){w[we]=ye,j=ye,W=Te??W;break}}else w.push(ye),j=ye,W=Te??W}function re(ye){var Te=ye.outerWidth()+2*P,we=ye.outerHeight()+2*P,ke=Te/2,Pe=we/2,Ee=ye.position();if(Ee.x-ke<=u&&u<=Ee.x+ke&&Ee.y-Pe<=o&&o<=Ee.y+Pe&&p.nodeShapes[h.getNodeShape(ye)].checkPoint(u,o,0,Te,we,Ee.x,Ee.y))return Q(ye,0),!0}function de(ye){var Ke,Te=ye._private,we=Te.rscratch,ke=ye.pstyle("width").pfValue,Pe=ye.pstyle("arrow-scale").value,Ee=ke/2+M,He=Ee*Ee,Oe=2*Ee,rt=Te.source,ct=Te.target;if("segments"===we.edgeType||"straight"===we.edgeType||"haystack"===we.edgeType){for(var Ue=we.allpts,Ge=0;Ge+3<Ue.length;Ge+=2)if(fl(u,o,Ue[Ge],Ue[Ge+1],Ue[Ge+2],Ue[Ge+3],Oe)&&He>(Ke=hl(u,o,Ue[Ge],Ue[Ge+1],Ue[Ge+2],Ue[Ge+3])))return Q(ye,Ke),!0}else if("bezier"===we.edgeType||"multibezier"===we.edgeType||"self"===we.edgeType||"compound"===we.edgeType)for(Ue=we.allpts,Ge=0;Ge+5<we.allpts.length;Ge+=4)if(qr(u,o,Ue[Ge],Ue[Ge+1],Ue[Ge+2],Ue[Ge+3],Ue[Ge+4],Ue[Ge+5],Oe)&&He>(Ke=mu(u,o,Ue[Ge],Ue[Ge+1],Ue[Ge+2],Ue[Ge+3],Ue[Ge+4],Ue[Ge+5])))return Q(ye,Ke),!0;rt=rt||Te.source,ct=ct||Te.target;var vt=h.getArrowWidth(ke,Pe),at=[{name:"source",x:we.arrowStartX,y:we.arrowStartY,angle:we.srcArrowAngle},{name:"target",x:we.arrowEndX,y:we.arrowEndY,angle:we.tgtArrowAngle},{name:"mid-source",x:we.midX,y:we.midY,angle:we.midsrcArrowAngle},{name:"mid-target",x:we.midX,y:we.midY,angle:we.midtgtArrowAngle}];for(Ge=0;Ge<at.length;Ge++){var mt=at[Ge],It=p.arrowShapes[ye.pstyle(mt.name+"-arrow-shape").value],At=ye.pstyle("width").pfValue;if(It.roughCollide(u,o,vt,mt.angle,{x:mt.x,y:mt.y},At,M)&&It.collide(u,o,vt,mt.angle,{x:mt.x,y:mt.y},At,M))return Q(ye),!0}E&&w.length>0&&(re(rt),re(ct))}function fe(ye,Te,we){return qi(ye,Te,we)}function ve(ye,Te){var Pe,we=ye._private,ke=z;Pe=Te?Te+"-":"",ye.boundingBox();var Ee=we.labelBounds[Te||"main"],He=ye.pstyle(Pe+"label").value;if("yes"===ye.pstyle("text-events").strValue&&He){var Ke=fe(we.rscratch,"labelX",Te),Ue=fe(we.rscratch,"labelY",Te),Ge=fe(we.rscratch,"labelAngle",Te),rt=ye.pstyle(Pe+"text-margin-x").pfValue,ct=ye.pstyle(Pe+"text-margin-y").pfValue,vt=Ee.x1-ke-rt,at=Ee.x2+ke-rt,mt=Ee.y1-ke-ct,It=Ee.y2+ke-ct;if(Ge){var At=Math.cos(Ge),xt=Math.sin(Ge),wt=function(ar,on){return{x:(ar-=Ke)*At-(on-=Ue)*xt+Ke,y:ar*xt+on*At+Ue}},Je=wt(vt,mt),Tt=wt(vt,It),Ot=wt(at,mt),Wt=wt(at,It);if(Ko(u,o,[Je.x+rt,Je.y+ct,Ot.x+rt,Ot.y+ct,Wt.x+rt,Wt.y+ct,Tt.x+rt,Tt.y+ct]))return Q(ye),!0}else if(Ya(Ee,u,o))return Q(ye),!0}}l&&(g=g.interactive);for(var Me=g.length-1;Me>=0;Me--){var Ae=g[Me];Ae.isNode()?re(Ae)||ve(Ae):de(Ae)||ve(Ae)||ve(Ae,"source")||ve(Ae,"target")}return w},getAllInBox:function(u,o,l,f){for(var h=this.getCachedZSortedEles().interactive,p=[],g=Math.min(u,l),w=Math.max(u,l),x=Math.min(o,f),E=Math.max(o,f),M=Si({x1:u=g,y1:o=x,x2:l=w,y2:f=E}),P=0;P<h.length;P++){var z=h[P];if(z.isNode()){var W=z,j=W.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});tr(M,j)&&!od(j,M)&&p.push(W)}else{var q=z,Q=q._private,re=Q.rscratch;if(null!=re.startX&&null!=re.startY&&!Ya(M,re.startX,re.startY)||null!=re.endX&&null!=re.endY&&!Ya(M,re.endX,re.endY))continue;if("bezier"===re.edgeType||"multibezier"===re.edgeType||"self"===re.edgeType||"compound"===re.edgeType||"segments"===re.edgeType||"haystack"===re.edgeType){for(var de=Q.rstyle.bezierPts||Q.rstyle.linePts||Q.rstyle.haystackPts,fe=!0,ve=0;ve<de.length;ve++)if(!df(M,de[ve])){fe=!1;break}fe&&p.push(q)}else("haystack"===re.edgeType||"straight"===re.edgeType)&&p.push(q)}}return p}},a={calculateArrowAngles:function(u){var x,E,M,P,z,W,o=u._private.rscratch,l="haystack"===o.edgeType,f="bezier"===o.edgeType,h="multibezier"===o.edgeType,p="segments"===o.edgeType,g="compound"===o.edgeType,w="self"===o.edgeType;l?(M=o.haystackPts[0],P=o.haystackPts[1],z=o.haystackPts[2],W=o.haystackPts[3]):(M=o.arrowStartX,P=o.arrowStartY,z=o.arrowEndX,W=o.arrowEndY),re=o.midX,de=o.midY,p?(x=M-o.segpts[0],E=P-o.segpts[1]):h||g||w||f?(x=M-ci((j=o.allpts)[0],j[2],j[4],.1),E=P-ci(j[1],j[3],j[5],.1)):(x=M-re,E=P-de),o.srcArrowAngle=ui(x,E);var re=o.midX,de=o.midY;if(l&&(re=(M+z)/2,de=(P+W)/2),x=z-M,E=W-P,p)if((j=o.allpts).length/2%2==0)x=j[fe=j.length/2]-j[ve=fe-2],E=j[fe+1]-j[ve+1];else{var fe,ve,Me=2+(fe=j.length/2-1);x=j[fe]-j[ve=fe-2],E=j[fe+1]-j[ve+1]}else if(h||g||w){var ye,Te,we,ke,Ee,Pe,He,j=o.allpts;o.ctrlpts.length/2%2==0?(ye=ci(j[Pe=j.length/2-1],j[Ee=Pe+2],j[He=Ee+2],0),Te=ci(j[Pe+1],j[Ee+1],j[He+1],0),we=ci(j[Pe],j[Ee],j[He],1e-4),ke=ci(j[Pe+1],j[Ee+1],j[He+1],1e-4)):(ye=ci(j[Pe=(Ee=j.length/2-1)-2],j[Ee],j[He=Ee+2],.4999),Te=ci(j[Pe+1],j[Ee+1],j[He+1],.4999),we=ci(j[Pe],j[Ee],j[He],.5),ke=ci(j[Pe+1],j[Ee+1],j[He+1],.5)),x=we-ye,E=ke-Te}if(o.midtgtArrowAngle=ui(x,E),o.midDispX=x,o.midDispY=E,x*=-1,E*=-1,p&&(j=o.allpts).length/2%2!=0&&(x=-(j[Me=2+(fe=j.length/2-1)]-j[fe]),E=-(j[Me+1]-j[fe+1])),o.midsrcArrowAngle=ui(x,E),p)x=z-o.segpts[o.segpts.length-2],E=W-o.segpts[o.segpts.length-1];else if(h||g||w||f){var Oe=(j=o.allpts).length;x=z-ci(j[Oe-6],j[Oe-4],j[Oe-2],.9),E=W-ci(j[Oe-5],j[Oe-3],j[Oe-1],.9)}else x=z-re,E=W-de;o.tgtArrowAngle=ui(x,E)}};a.getArrowWidth=a.getArrowHeight=function(u,o){var l=this.arrowWidthCache=this.arrowWidthCache||{},f=l[u+", "+o];return f||(f=Math.max(Math.pow(13.37*u,.9),29)*o,l[u+", "+o]=f,f)};var d={};function y(u){var o=[];if(null!=u){for(var l=0;l<u.length;l+=2)o.push({x:u[l],y:u[l+1]});return o}}d.findHaystackPoints=function(u){for(var o=0;o<u.length;o++){var l=u[o],f=l._private,h=f.rscratch;if(!h.haystack){var p=2*Math.random()*Math.PI;h.source={x:Math.cos(p),y:Math.sin(p)},p=2*Math.random()*Math.PI,h.target={x:Math.cos(p),y:Math.sin(p)}}var g=f.source,w=f.target,x=g.position(),E=w.position(),M=g.width(),P=w.width(),z=g.height(),W=w.height(),q=l.pstyle("haystack-radius").value/2;h.haystackPts=h.allpts=[h.source.x*M*q+x.x,h.source.y*z*q+x.y,h.target.x*P*q+E.x,h.target.y*W*q+E.y],h.midX=(h.allpts[0]+h.allpts[2])/2,h.midY=(h.allpts[1]+h.allpts[3])/2,h.edgeType="haystack",h.haystack=!0,this.storeEdgeProjections(l),this.calculateArrowAngles(l),this.recalculateEdgeLabelProjections(l),this.calculateLabelAngles(l)}},d.findSegmentsPoints=function(u,o){var l=u._private.rscratch,f=o.posPts,h=o.intersectionPts,p=o.vectorNormInverse,g=u.pstyle("edge-distances").value,w=u.pstyle("segment-weights"),x=u.pstyle("segment-distances"),E=Math.min(w.pfValue.length,x.pfValue.length);l.edgeType="segments",l.segpts=[];for(var M=0;M<E;M++){var P=w.pfValue[M],z=x.pfValue[M],W=1-P,q="node-position"===g?f:h,Q={x:q.x1*W+q.x2*P,y:q.y1*W+q.y2*P};l.segpts.push(Q.x+p.x*z,Q.y+p.y*z)}},d.findLoopPoints=function(u,o,l,f){var h=u._private.rscratch,p=o.dirCounts,g=o.srcPos,w=u.pstyle("control-point-distances"),x=w?w.pfValue[0]:void 0,E=u.pstyle("loop-direction").pfValue,M=u.pstyle("loop-sweep").pfValue,P=u.pstyle("control-point-step-size").pfValue;h.edgeType="self";var z=l,W=P;f&&(z=0,W=x);var j=E-Math.PI/2,q=j-M/2,Q=j+M/2,re=E+"_"+M;z=void 0===p[re]?p[re]=0:++p[re],h.ctrlpts=[g.x+1.4*Math.cos(q)*W*(z/3+1),g.y+1.4*Math.sin(q)*W*(z/3+1),g.x+1.4*Math.cos(Q)*W*(z/3+1),g.y+1.4*Math.sin(Q)*W*(z/3+1)]},d.findCompoundLoopPoints=function(u,o,l,f){var h=u._private.rscratch;h.edgeType="compound";var p=o.srcPos,g=o.tgtPos,w=o.srcW,x=o.srcH,E=o.tgtW,M=o.tgtH,P=u.pstyle("control-point-step-size").pfValue,z=u.pstyle("control-point-distances"),j=l,q=P;f&&(j=0,q=z?z.pfValue[0]:void 0);var re={x:p.x-w/2,y:p.y-x/2},de={x:g.x-E/2,y:g.y-M/2},fe={x:Math.min(re.x,de.x),y:Math.min(re.y,de.y)},Me=Math.max(.5,Math.log(.01*w)),Ae=Math.max(.5,Math.log(.01*E));h.ctrlpts=[fe.x,fe.y-(1+Math.pow(50,1.12)/100)*q*(j/3+1)*Me,fe.x-(1+Math.pow(50,1.12)/100)*q*(j/3+1)*Ae,fe.y]},d.findStraightEdgePoints=function(u){u._private.rscratch.edgeType="straight"},d.findBezierPoints=function(u,o,l,f,h){var p=u._private.rscratch,g=o.vectorNormInverse,w=o.posPts,x=o.intersectionPts,E=u.pstyle("edge-distances").value,M=u.pstyle("control-point-step-size").pfValue,P=u.pstyle("control-point-distances"),z=u.pstyle("control-point-weights"),W=P&&z?Math.min(P.value.length,z.value.length):1,j=P?P.pfValue[0]:void 0,q=z.value[0],Q=f;p.edgeType=Q?"multibezier":"bezier",p.ctrlpts=[];for(var re=0;re<W;re++){var fe,de=(.5-o.eles.length/2+l)*M*(h?-1:1),ve=mo(de);Q&&(j=P?P.pfValue[re]:M,q=z.value[re]);var Me=void 0!==(fe=f?j:void 0!==j?ve*j:void 0)?fe:de,Ae=1-q,Te="node-position"===E?w:x,we={x:Te.x1*Ae+Te.x2*q,y:Te.y1*Ae+Te.y2*q};p.ctrlpts.push(we.x+g.x*Me,we.y+g.y*Me)}},d.findTaxiPoints=function(u,o){var l=u._private.rscratch;l.edgeType="segments";var f="vertical",h="horizontal",p="leftward",g="rightward",w="downward",x="upward",M=o.posPts,P=o.srcW,z=o.srcH,W=o.tgtW,j=o.tgtH,Q="node-position"!==u.pstyle("edge-distances").value,re=u.pstyle("taxi-direction").value,de=re,fe=u.pstyle("taxi-turn"),ve="%"===fe.units,Me=fe.pfValue,Ae=Me<0,ye=u.pstyle("taxi-turn-min-distance").pfValue,we=Q?(z+j)/2:0,ke=M.x2-M.x1,Pe=M.y2-M.y1,Ee=function(Dn,zr){return Dn>0?Math.max(Dn-zr,0):Math.min(Dn+zr,0)},He=Ee(ke,Q?(P+W)/2:0),Oe=Ee(Pe,we),Ke=!1;"auto"===de?re=Math.abs(He)>Math.abs(Oe)?h:f:de===x||de===w?(re=f,Ke=!0):(de===p||de===g)&&(re=h,Ke=!0);var at,Ue=re===f,Ge=Ue?Oe:He,rt=Ue?Pe:ke,ct=mo(rt),vt=!1;(!Ke||!ve&&!Ae)&&(de===w&&rt<0||de===x&&rt>0||de===p&&rt>0||de===g&&rt<0)&&(Ge=(ct*=-1)*Math.abs(Ge),vt=!0);var At=function(Dn){return Math.abs(Dn)<ye||Math.abs(Dn)>=Math.abs(Ge)},xt=At(at=ve?(Me<0?1+Me:Me)*Ge:(Me<0?Ge:0)+Me*ct),wt=At(Math.abs(Ge)-Math.abs(at));if(!xt&&!wt||vt)if(Ue){var Ce=M.y1+at+(Q?z/2*ct:0);l.segpts=[M.x1,Ce,M.x2,Ce]}else{var Ct=M.x1+at+(Q?P/2*ct:0);l.segpts=[Ct,M.y1,Ct,M.y2]}else if(Ue){var Tt=Math.abs(rt)<=z/2,Ot=Math.abs(ke)<=W/2;if(Tt){var Wt=(M.x1+M.x2)/2;l.segpts=[Wt,M.y1,Wt,M.y2]}else if(Ot){var ar=(M.y1+M.y2)/2;l.segpts=[M.x1,ar,M.x2,ar]}else l.segpts=[M.x1,M.y2]}else{var On=Math.abs(rt)<=P/2,xn=Math.abs(Pe)<=j/2;if(On){var sn=(M.y1+M.y2)/2;l.segpts=[M.x1,sn,M.x2,sn]}else if(xn){var fr=(M.x1+M.x2)/2;l.segpts=[fr,M.y1,fr,M.y2]}else l.segpts=[M.x2,M.y1]}},d.tryToCorrectInvalidPoints=function(u,o){var l=u._private.rscratch;if("bezier"===l.edgeType){var f=o.srcPos,h=o.tgtPos,p=o.srcW,g=o.srcH,w=o.tgtW,x=o.tgtH,E=o.srcShape,M=o.tgtShape,P=!Xe(l.startX)||!Xe(l.startY),z=!Xe(l.arrowStartX)||!Xe(l.arrowStartY),W=!Xe(l.endX)||!Xe(l.endY),j=!Xe(l.arrowEndX)||!Xe(l.arrowEndY),re=this.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,de=Vi({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.startX,y:l.startY}),fe=de<re,ve=Vi({x:l.ctrlpts[0],y:l.ctrlpts[1]},{x:l.endX,y:l.endY}),Me=ve<re,Ae=!1;if(P||z||fe){Ae=!0;var ye={x:l.ctrlpts[0]-f.x,y:l.ctrlpts[1]-f.y},Te=Math.sqrt(ye.x*ye.x+ye.y*ye.y),we={x:ye.x/Te,y:ye.y/Te},ke=Math.max(p,g),Pe={x:l.ctrlpts[0]+2*we.x*ke,y:l.ctrlpts[1]+2*we.y*ke},Ee=E.intersectLine(f.x,f.y,p,g,Pe.x,Pe.y,0);fe?(l.ctrlpts[0]=l.ctrlpts[0]+we.x*(re-de),l.ctrlpts[1]=l.ctrlpts[1]+we.y*(re-de)):(l.ctrlpts[0]=Ee[0]+we.x*re,l.ctrlpts[1]=Ee[1]+we.y*re)}if(W||j||Me){Ae=!0;var He={x:l.ctrlpts[0]-h.x,y:l.ctrlpts[1]-h.y},Oe=Math.sqrt(He.x*He.x+He.y*He.y),Ke={x:He.x/Oe,y:He.y/Oe},Ue=Math.max(p,g),Ge={x:l.ctrlpts[0]+2*Ke.x*Ue,y:l.ctrlpts[1]+2*Ke.y*Ue},rt=M.intersectLine(h.x,h.y,w,x,Ge.x,Ge.y,0);Me?(l.ctrlpts[0]=l.ctrlpts[0]+Ke.x*(re-ve),l.ctrlpts[1]=l.ctrlpts[1]+Ke.y*(re-ve)):(l.ctrlpts[0]=rt[0]+Ke.x*re,l.ctrlpts[1]=rt[1]+Ke.y*re)}Ae&&this.findEndpoints(u)}},d.storeAllpts=function(u){var o=u._private.rscratch;if("multibezier"===o.edgeType||"bezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType){o.allpts=[],o.allpts.push(o.startX,o.startY);for(var l=0;l+1<o.ctrlpts.length;l+=2)o.allpts.push(o.ctrlpts[l],o.ctrlpts[l+1]),l+3<o.ctrlpts.length&&o.allpts.push((o.ctrlpts[l]+o.ctrlpts[l+2])/2,(o.ctrlpts[l+1]+o.ctrlpts[l+3])/2);var f;o.allpts.push(o.endX,o.endY),o.ctrlpts.length/2%2==0?(o.midX=o.allpts[f=o.allpts.length/2-1],o.midY=o.allpts[f+1]):(o.midX=ci(o.allpts[f=o.allpts.length/2-3],o.allpts[f+2],o.allpts[f+4],.5),o.midY=ci(o.allpts[f+1],o.allpts[f+3],o.allpts[f+5],.5))}else if("straight"===o.edgeType)o.allpts=[o.startX,o.startY,o.endX,o.endY],o.midX=(o.startX+o.endX+o.arrowStartX+o.arrowEndX)/4,o.midY=(o.startY+o.endY+o.arrowStartY+o.arrowEndY)/4;else if("segments"===o.edgeType)if(o.allpts=[],o.allpts.push(o.startX,o.startY),o.allpts.push.apply(o.allpts,o.segpts),o.allpts.push(o.endX,o.endY),o.segpts.length%4==0){var p=o.segpts.length/2,g=p-2;o.midX=(o.segpts[g]+o.segpts[p])/2,o.midY=(o.segpts[g+1]+o.segpts[p+1])/2}else{var w=o.segpts.length/2-1;o.midX=o.segpts[w],o.midY=o.segpts[w+1]}},d.checkForInvalidEdgeWarning=function(u){var o=u[0]._private.rscratch;o.nodesOverlap||Xe(o.startX)&&Xe(o.startY)&&Xe(o.endX)&&Xe(o.endY)?o.loggedErr=!1:o.loggedErr||(o.loggedErr=!0,Sr("Edge `"+u.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},d.findEdgeControlPoints=function(u){var o=this;if(u&&0!==u.length){for(var l=this,h=l.cy.hasCompoundNodes(),p={map:new St,get:function(ye){var Te=this.map.get(ye[0]);return null!=Te?Te.get(ye[1]):null},set:function(ye,Te){var we=this.map.get(ye[0]);null==we&&(we=new St,this.map.set(ye[0],we)),we.set(ye[1],Te)}},g=[],w=[],x=0;x<u.length;x++){var E=u[x],M=E._private,P=E.pstyle("curve-style").value;if(!E.removed()&&E.takesUpSpace()){if("haystack"===P){w.push(E);continue}var z="unbundled-bezier"===P||"segments"===P||"straight"===P||"straight-triangle"===P||"taxi"===P,W="unbundled-bezier"===P||"bezier"===P,q=M.target,de=[M.source.poolIndex(),q.poolIndex()].sort(),fe=p.get(de);null==fe&&(p.set(de,fe={eles:[]}),g.push(de)),fe.eles.push(E),z&&(fe.hasUnbundled=!0),W&&(fe.hasBezier=!0)}}for(var ve=function(ye){var we=p.get(g[ye]),ke=void 0;if(!we.hasUnbundled){var Pe=we.eles[0].parallelEdges().filter(function(zt){return zt.isBundledBezier()});Ro(we.eles),Pe.forEach(function(zt){return we.eles.push(zt)}),we.eles.sort(function(zt,Ce){return zt.poolIndex()-Ce.poolIndex()})}var Ee=we.eles[0],He=Ee.source(),Oe=Ee.target();if(He.poolIndex()>Oe.poolIndex()){var Ke=He;He=Oe,Oe=Ke}var Ue=we.srcPos=He.position(),Ge=we.tgtPos=Oe.position(),rt=we.srcW=He.outerWidth(),ct=we.srcH=He.outerHeight(),vt=we.tgtW=Oe.outerWidth(),at=we.tgtH=Oe.outerHeight(),mt=we.srcShape=l.nodeShapes[o.getNodeShape(He)],It=we.tgtShape=l.nodeShapes[o.getNodeShape(Oe)];we.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var At=0;At<we.eles.length;At++){var xt=we.eles[At],wt=xt[0]._private.rscratch,Je=xt.pstyle("curve-style").value,Tt="unbundled-bezier"===Je||"segments"===Je||"taxi"===Je,Ot=!He.same(xt.source());if(!we.calculatedIntersection&&He!==Oe&&(we.hasBezier||we.hasUnbundled)){we.calculatedIntersection=!0;var Wt=mt.intersectLine(Ue.x,Ue.y,rt,ct,Ge.x,Ge.y,0),tn=we.srcIntn=Wt,$n=It.intersectLine(Ge.x,Ge.y,vt,at,Ue.x,Ue.y,0),ar=we.tgtIntn=$n,on=we.intersectionPts={x1:Wt[0],x2:$n[0],y1:Wt[1],y2:$n[1]},Qt=we.posPts={x1:Ue.x,x2:Ge.x,y1:Ue.y,y2:Ge.y},On=$n[1]-Wt[1],xn=$n[0]-Wt[0],sn=Math.sqrt(xn*xn+On*On),An=we.vector={x:xn,y:On},Ar=we.vectorNorm={x:An.x/sn,y:An.y/sn},fr={x:-Ar.y,y:Ar.x};we.nodesOverlap=!Xe(sn)||It.checkPoint(Wt[0],Wt[1],0,vt,at,Ge.x,Ge.y)||mt.checkPoint($n[0],$n[1],0,rt,ct,Ue.x,Ue.y),we.vectorNormInverse=fr,ke={nodesOverlap:we.nodesOverlap,dirCounts:we.dirCounts,calculatedIntersection:!0,hasBezier:we.hasBezier,hasUnbundled:we.hasUnbundled,eles:we.eles,srcPos:Ge,tgtPos:Ue,srcW:vt,srcH:at,tgtW:rt,tgtH:ct,srcIntn:ar,tgtIntn:tn,srcShape:It,tgtShape:mt,posPts:{x1:Qt.x2,y1:Qt.y2,x2:Qt.x1,y2:Qt.y1},intersectionPts:{x1:on.x2,y1:on.y2,x2:on.x1,y2:on.y1},vector:{x:-An.x,y:-An.y},vectorNorm:{x:-Ar.x,y:-Ar.y},vectorNormInverse:{x:-fr.x,y:-fr.y}}}var jn=Ot?ke:we;wt.nodesOverlap=jn.nodesOverlap,wt.srcIntn=jn.srcIntn,wt.tgtIntn=jn.tgtIntn,h&&(He.isParent()||He.isChild()||Oe.isParent()||Oe.isChild())&&(He.parents().anySame(Oe)||Oe.parents().anySame(He)||He.same(Oe)&&He.isParent())?o.findCompoundLoopPoints(xt,jn,At,Tt):He===Oe?o.findLoopPoints(xt,jn,At,Tt):"segments"===Je?o.findSegmentsPoints(xt,jn):"taxi"===Je?o.findTaxiPoints(xt,jn):"straight"===Je||!Tt&&we.eles.length%2==1&&At===Math.floor(we.eles.length/2)?o.findStraightEdgePoints(xt):o.findBezierPoints(xt,jn,At,Tt,Ot),o.findEndpoints(xt),o.tryToCorrectInvalidPoints(xt,jn),o.checkForInvalidEdgeWarning(xt),o.storeAllpts(xt),o.storeEdgeProjections(xt),o.calculateArrowAngles(xt),o.recalculateEdgeLabelProjections(xt),o.calculateLabelAngles(xt)}},Me=0;Me<g.length;Me++)ve(Me);this.findHaystackPoints(w)}},d.getSegmentPoints=function(u){var o=u[0]._private.rscratch;if("segments"===o.edgeType)return this.recalculateRenderedStyle(u),y(o.segpts)},d.getControlPoints=function(u){var o=u[0]._private.rscratch,l=o.edgeType;if("bezier"===l||"multibezier"===l||"self"===l||"compound"===l)return this.recalculateRenderedStyle(u),y(o.ctrlpts)},d.getEdgeMidpoint=function(u){var o=u[0]._private.rscratch;return this.recalculateRenderedStyle(u),{x:o.midX,y:o.midY}};var v={manualEndptToPx:function(u,o){var f=u.position(),h=u.outerWidth(),p=u.outerHeight();if(2===o.value.length){var g=[o.pfValue[0],o.pfValue[1]];return"%"===o.units[0]&&(g[0]=g[0]*h),"%"===o.units[1]&&(g[1]=g[1]*p),g[0]+=f.x,g[1]+=f.y,g}var w=o.pfValue[0];w=-Math.PI/2+w;var x=2*Math.max(h,p),E=[f.x+Math.cos(w)*x,f.y+Math.sin(w)*x];return this.nodeShapes[this.getNodeShape(u)].intersectLine(f.x,f.y,h,p,E[0],E[1],0)},findEndpoints:function(u){var l,ke,Pe,Ee,He,o=this,f=u.source()[0],h=u.target()[0],p=f.position(),g=h.position(),w=u.pstyle("target-arrow-shape").value,x=u.pstyle("source-arrow-shape").value,E=u.pstyle("target-distance-from-node").pfValue,M=u.pstyle("source-distance-from-node").pfValue,P=u.pstyle("curve-style").value,z=u._private.rscratch,W=z.edgeType,q="self"===W||"compound"===W,Q="bezier"===W||"multibezier"===W||q,re="bezier"!==W,de="straight"===W||"segments"===W,fe="segments"===W,ve=Q||re||de,Me=q||"taxi"===P,Ae=u.pstyle("source-endpoint"),ye=Me?"outside-to-node":Ae.value,Te=u.pstyle("target-endpoint"),we=Me?"outside-to-node":Te.value;if(z.srcManEndpt=Ae,z.tgtManEndpt=Te,Q){var Oe=[z.ctrlpts[0],z.ctrlpts[1]];ke=re?[z.ctrlpts[z.ctrlpts.length-2],z.ctrlpts[z.ctrlpts.length-1]]:Oe,Pe=Oe}else if(de){var Ue=fe?z.segpts.slice(0,2):[g.x,g.y];ke=fe?z.segpts.slice(z.segpts.length-2):[p.x,p.y],Pe=Ue}if("inside-to-node"===we)l=[g.x,g.y];else if(Te.units)l=this.manualEndptToPx(h,Te);else if("outside-to-line"===we)l=z.tgtIntn;else if("outside-to-node"===we||"outside-to-node-or-label"===we?Ee=ke:("outside-to-line"===we||"outside-to-line-or-label"===we)&&(Ee=[p.x,p.y]),l=o.nodeShapes[this.getNodeShape(h)].intersectLine(g.x,g.y,h.outerWidth(),h.outerHeight(),Ee[0],Ee[1],0),"outside-to-node-or-label"===we||"outside-to-line-or-label"===we){var rt=h._private.rscratch,at=rt.labelX,mt=rt.labelY,It=rt.labelWidth/2,At=rt.labelHeight/2,xt=h.pstyle("text-valign").value;"top"===xt?mt-=At:"bottom"===xt&&(mt+=At);var wt=h.pstyle("text-halign").value;"left"===wt?at-=It:"right"===wt&&(at+=It);var Je=Ul(Ee[0],Ee[1],[at-It,mt-At,at+It,mt-At,at+It,mt+At,at-It,mt+At],g.x,g.y);if(Je.length>0){var Tt=p,Ot=Nr(Tt,li(l)),Wt=Nr(Tt,li(Je)),tn=Ot;Wt<Ot&&(l=Je,tn=Wt),Je.length>2&&Nr(Tt,{x:Je[2],y:Je[3]})<tn&&(l=[Je[2],Je[3]])}}var ar=ff(l,ke,o.arrowShapes[w].spacing(u)+E),on=ff(l,ke,o.arrowShapes[w].gap(u)+E);if(z.endX=on[0],z.endY=on[1],z.arrowEndX=ar[0],z.arrowEndY=ar[1],"inside-to-node"===ye)l=[p.x,p.y];else if(Ae.units)l=this.manualEndptToPx(f,Ae);else if("outside-to-line"===ye)l=z.srcIntn;else if("outside-to-node"===ye||"outside-to-node-or-label"===ye?He=Pe:("outside-to-line"===ye||"outside-to-line-or-label"===ye)&&(He=[g.x,g.y]),l=o.nodeShapes[this.getNodeShape(f)].intersectLine(p.x,p.y,f.outerWidth(),f.outerHeight(),He[0],He[1],0),"outside-to-node-or-label"===ye||"outside-to-line-or-label"===ye){var Qt=f._private.rscratch,sn=Qt.labelX,An=Qt.labelY,Ar=Qt.labelWidth/2,fr=Qt.labelHeight/2,jn=f.pstyle("text-valign").value;"top"===jn?An-=fr:"bottom"===jn&&(An+=fr);var zt=f.pstyle("text-halign").value;"left"===zt?sn-=Ar:"right"===zt&&(sn+=Ar);var Ce=Ul(He[0],He[1],[sn-Ar,An-fr,sn+Ar,An-fr,sn+Ar,An+fr,sn-Ar,An+fr],p.x,p.y);if(Ce.length>0){var dt=g,kt=Nr(dt,li(l)),Ct=Nr(dt,li(Ce)),Et=kt;Ct<kt&&(l=[Ce[0],Ce[1]],Et=Ct),Ce.length>2&&Nr(dt,{x:Ce[2],y:Ce[3]})<Et&&(l=[Ce[2],Ce[3]])}}var Gt=ff(l,Pe,o.arrowShapes[x].spacing(u)+M),Dn=ff(l,Pe,o.arrowShapes[x].gap(u)+M);z.startX=Dn[0],z.startY=Dn[1],z.arrowStartX=Gt[0],z.arrowStartY=Gt[1],ve&&(z.badLine=!(Xe(z.startX)&&Xe(z.startY)&&Xe(z.endX)&&Xe(z.endY)))},getSourceEndpoint:function(u){var o=u[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(u),o.edgeType)?{x:o.haystackPts[0],y:o.haystackPts[1]}:{x:o.arrowStartX,y:o.arrowStartY}},getTargetEndpoint:function(u){var o=u[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(u),o.edgeType)?{x:o.haystackPts[2],y:o.haystackPts[3]}:{x:o.arrowEndX,y:o.arrowEndY}}},b={};function F(u,o,l){for(var f=function(E,M,P,z){return ci(E,M,P,z)},p=o._private.rstyle.bezierPts,g=0;g<u.bezierProjPcts.length;g++){var w=u.bezierProjPcts[g];p.push({x:f(l[0],l[2],l[4],w),y:f(l[1],l[3],l[5],w)})}}b.storeEdgeProjections=function(u){var o=u._private,l=o.rscratch,f=l.edgeType;if(o.rstyle.bezierPts=null,o.rstyle.linePts=null,o.rstyle.haystackPts=null,"multibezier"===f||"bezier"===f||"self"===f||"compound"===f){o.rstyle.bezierPts=[];for(var h=0;h+5<l.allpts.length;h+=4)F(this,u,l.allpts.slice(h,h+6))}else if("segments"===f){var p=o.rstyle.linePts=[];for(h=0;h+1<l.allpts.length;h+=2)p.push({x:l.allpts[h],y:l.allpts[h+1]})}else if("haystack"===f){var g=l.haystackPts;o.rstyle.haystackPts=[{x:g[0],y:g[1]},{x:g[2],y:g[3]}]}o.rstyle.arrowWidth=this.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.arrowShapeWidth},b.recalculateEdgeProjections=function(u){this.findEdgeControlPoints(u)};var G={recalculateNodeLabelProjection:function(u){var o=u.pstyle("label").strValue;if(!Ft(o)){var l,f,h=u._private,p=u.width(),g=u.height(),w=u.padding(),x=u.position(),E=u.pstyle("text-halign").strValue,M=u.pstyle("text-valign").strValue,P=h.rscratch,z=h.rstyle;switch(E){case"left":l=x.x-p/2-w;break;case"right":l=x.x+p/2+w;break;default:l=x.x}switch(M){case"top":f=x.y-g/2-w;break;case"bottom":f=x.y+g/2+w;break;default:f=x.y}P.labelX=l,P.labelY=f,z.labelX=l,z.labelY=f,this.calculateLabelAngles(u),this.applyLabelDimensions(u)}}},X=function(o,l){var f=Math.atan(l/o);return 0===o&&f<0&&(f*=-1),f},J=function(o,l){return X(l.x-o.x,l.y-o.y)};G.recalculateEdgeLabelProjections=function(u){var o,l=u._private,f=l.rscratch,h=this,p={mid:u.pstyle("label").strValue,source:u.pstyle("source-label").strValue,target:u.pstyle("target-label").strValue};if(p.mid||p.source||p.target){var g=function(P,z,W){ko(l.rscratch,P,z,W),ko(l.rstyle,P,z,W)};g("labelX",null,(o={x:f.midX,y:f.midY}).x),g("labelY",null,o.y);var w=X(f.midDispX,f.midDispY);g("labelAutoAngle",null,w);var x=function M(){if(M.cache)return M.cache;for(var P=[],z=0;z+5<f.allpts.length;z+=4)P.push({p0:{x:f.allpts[z],y:f.allpts[z+1]},p1:{x:f.allpts[z+2],y:f.allpts[z+3]},p2:{x:f.allpts[z+4],y:f.allpts[z+5]},startDist:0,length:0,segments:[]});var Q=l.rstyle.bezierPts,re=h.bezierProjPcts.length;function de(ye,Te,we,ke,Pe){var Ee=Vi(Te,we),He=ye.segments[ye.segments.length-1];ye.segments.push({p0:Te,p1:we,t0:ke,t1:Pe,startDist:He?He.startDist+He.length:0,length:Ee}),ye.length+=Ee}for(var fe=0;fe<P.length;fe++){var ve=P[fe],Me=P[fe-1];Me&&(ve.startDist=Me.startDist+Me.length),de(ve,ve.p0,Q[fe*re],0,h.bezierProjPcts[0]);for(var Ae=0;Ae<re-1;Ae++)de(ve,Q[fe*re+Ae],Q[fe*re+Ae+1],h.bezierProjPcts[Ae],h.bezierProjPcts[Ae+1]);de(ve,Q[fe*re+re-1],ve.p2,h.bezierProjPcts[re-1],1)}return M.cache=P},E=function(P){var z,W="source"===P;if(p[P]){var j=u.pstyle(P+"-text-offset").pfValue;switch(f.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var Q,q=x(),re=0,de=0,fe=0;fe<q.length;fe++){for(var ve=q[W?fe:q.length-1-fe],Me=0;Me<ve.segments.length;Me++){var Ae=ve.segments[W?Me:ve.segments.length-1-Me];if(re=de,(de+=Ae.length)>=j||fe===q.length-1&&Me===ve.segments.length-1){Q={cp:ve,segment:Ae};break}}if(Q)break}var Te=Q.cp,we=Q.segment,ke=(j-re)/we.length,Pe=we.t1-we.t0,Ee=W?we.t0+Pe*ke:we.t1-Pe*ke;Ee=qs(0,Ee,1),o=vo(Te.p0,Te.p1,Te.p2,Ee),z=function(o,l,f,h){var p=qs(0,h-.001,1),g=qs(0,h+.001,1),w=vo(o,l,f,p),x=vo(o,l,f,g);return J(w,x)}(Te.p0,Te.p1,Te.p2,Ee);break;case"straight":case"segments":case"haystack":for(var Oe,Ke,Ue,Ge,He=0,rt=f.allpts.length,ct=0;ct+3<rt&&(W?(Ue={x:f.allpts[ct],y:f.allpts[ct+1]},Ge={x:f.allpts[ct+2],y:f.allpts[ct+3]}):(Ue={x:f.allpts[rt-2-ct],y:f.allpts[rt-1-ct]},Ge={x:f.allpts[rt-4-ct],y:f.allpts[rt-3-ct]}),Ke=He,!((He+=Oe=Vi(Ue,Ge))>=j));ct+=2);var at=(j-Ke)/Oe;at=qs(0,at,1),o=function(o,l,f,h){var p_x=l.x-o.x,p_y=l.y-o.y,g=Vi(o,l);return f=f??0,{x:o.x+p_x/g*(h=h??f*g),y:o.y+p_y/g*h}}(Ue,Ge,at),z=J(Ue,Ge)}g("labelX",P,o.x),g("labelY",P,o.y),g("labelAutoAngle",P,z)}};E("source"),E("target"),this.applyLabelDimensions(u)}},G.applyLabelDimensions=function(u){this.applyPrefixedLabelDimensions(u),u.isEdge()&&(this.applyPrefixedLabelDimensions(u,"source"),this.applyPrefixedLabelDimensions(u,"target"))},G.applyPrefixedLabelDimensions=function(u,o){var l=u._private,f=this.getLabelText(u,o),h=this.calculateLabelDimensions(u,f),p=u.pstyle("line-height").pfValue,g=u.pstyle("text-wrap").strValue,w=qi(l.rscratch,"labelWrapCachedLines",o)||[],x="wrap"!==g?1:Math.max(w.length,1),E=h.height/x,M=E*p,P=h.width,z=h.height+(x-1)*(p-1)*E;ko(l.rstyle,"labelWidth",o,P),ko(l.rscratch,"labelWidth",o,P),ko(l.rstyle,"labelHeight",o,z),ko(l.rscratch,"labelHeight",o,z),ko(l.rscratch,"labelLineHeight",o,M)},G.getLabelText=function(u,o){var l=u._private,h=u.pstyle((o?o+"-":"")+"label").strValue,p=u.pstyle("text-transform").value,g=function(vt,at){return at?(ko(l.rscratch,vt,o,at),at):qi(l.rscratch,vt,o)};if(!h)return"";"none"==p||("uppercase"==p?h=h.toUpperCase():"lowercase"==p&&(h=h.toLowerCase()));var w=u.pstyle("text-wrap").value;if("wrap"===w){var x=g("labelKey");if(null!=x&&g("labelWrapKey")===x)return g("labelWrapCachedText");for(var M=h.split("\n"),P=u.pstyle("text-max-width").pfValue,W="anywhere"===u.pstyle("text-overflow-wrap").value,j=[],q=/[\s\u200b]+/,Q=W?"":" ",re=0;re<M.length;re++){var de=M[re],ve=this.calculateLabelDimensions(u,de).width;if(W){var Me=de.split("").join("\u200b");de=Me}if(ve>P){for(var Ae=de.split(q),ye="",Te=0;Te<Ae.length;Te++){var we=Ae[Te];this.calculateLabelDimensions(u,0===ye.length?we:ye+Q+we).width<=P?ye+=we+Q:(ye&&j.push(ye),ye=we+Q)}ye.match(/^[\s\u200b]+$/)||j.push(ye)}else j.push(de)}g("labelWrapCachedLines",j),h=g("labelWrapCachedText",j.join("\n")),g("labelWrapKey",x)}else if("ellipsis"===w){var He=u.pstyle("text-max-width").pfValue,Oe="",Ue=!1;if(this.calculateLabelDimensions(u,h).width<He)return h;for(var Ge=0;Ge<h.length&&!(this.calculateLabelDimensions(u,Oe+h[Ge]+"\u2026").width>He);Ge++)Oe+=h[Ge],Ge===h.length-1&&(Ue=!0);return Ue||(Oe+="\u2026"),Oe}return h},G.getLabelJustification=function(u){var o=u.pstyle("text-justification").strValue,l=u.pstyle("text-halign").strValue;if("auto"!==o)return o;if(!u.isNode())return"center";switch(l){case"left":return"right";case"right":return"left";default:return"center"}},G.calculateLabelDimensions=function(u,o){var f=as(o,u._private.labelDimsKey),h=this.labelDimCache||(this.labelDimCache=[]),p=h[f];if(null!=p)return p;var w=u.pstyle("font-style").strValue,x=u.pstyle("font-size").pfValue,E=u.pstyle("font-family").strValue,M=u.pstyle("font-weight").strValue,P=this.labelCalcCanvas,z=this.labelCalcCanvasContext;if(!P){P=this.labelCalcCanvas=document.createElement("canvas"),z=this.labelCalcCanvasContext=P.getContext("2d");var W=P.style;W.position="absolute",W.left="-9999px",W.top="-9999px",W.zIndex="-1",W.visibility="hidden",W.pointerEvents="none"}z.font="".concat(w," ").concat(M," ").concat(x,"px ").concat(E);for(var j=0,q=0,Q=o.split("\n"),re=0;re<Q.length;re++){var fe=z.measureText(Q[re]),ve=Math.ceil(fe.width),Me=x;j=Math.max(ve,j),q+=Me}return h[f]={width:j+=0,height:q+=0}},G.calculateLabelAngle=function(u,o){var f=u._private.rscratch,h=u.isEdge(),g=u.pstyle((o?o+"-":"")+"text-rotation"),w=g.strValue;return"none"===w?0:h&&"autorotate"===w?f.labelAutoAngle:"autorotate"===w?0:g.pfValue},G.calculateLabelAngles=function(u){var o=this,l=u.isEdge(),h=u._private.rscratch;h.labelAngle=o.calculateLabelAngle(u),l&&(h.sourceLabelAngle=o.calculateLabelAngle(u,"source"),h.targetLabelAngle=o.calculateLabelAngle(u,"target"))};var xe={},$e=!1;xe.getNodeShape=function(u){var l=u.pstyle("shape").value;if("cutrectangle"===l&&(u.width()<28||u.height()<28))return $e||(Sr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),$e=!0),"rectangle";if(u.isParent())return"rectangle"===l||"roundrectangle"===l||"round-rectangle"===l||"cutrectangle"===l||"cut-rectangle"===l||"barrel"===l?l:"rectangle";if("polygon"===l){var f=u.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(f).name}return l};var pt={updateCachedGrabbedEles:function(){var u=this.cachedZSortedEles;if(u){u.drag=[],u.nondrag=[];for(var o=[],l=0;l<u.length;l++){var h=(f=u[l])._private.rscratch;f.grabbed()&&!f.isParent()?o.push(f):h.inDragLayer?u.drag.push(f):u.nondrag.push(f)}for(l=0;l<o.length;l++){var f;u.drag.push(f=o[l])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(u){if(u||!this.cachedZSortedEles){var o=this.cy.mutableElements().toArray();o.sort(ql),o.interactive=o.filter(function(l){return l.interactive()}),this.cachedZSortedEles=o,this.updateCachedGrabbedEles()}else o=this.cachedZSortedEles;return o}},bt={};[ys,a,d,v,b,G,xe,{registerCalculationListeners:function(){var u=this.cy,o=u.collection(),l=this,f=function(g){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o.merge(g),w)for(var x=0;x<g.length;x++){var P=g[x]._private.rstyle;P.clean=!1,P.cleanConnected=!1}};l.binder(u).on("bounds.* dirty.*",function(g){f(g.target)}).on("style.* background.*",function(g){f(g.target,!1)});var h=function(g){if(g){var w=l.onUpdateEleCalcsFns;o.cleanStyle();for(var x=0;x<o.length;x++){var E=o[x],M=E._private.rstyle;E.isNode()&&!M.cleanConnected&&(f(E.connectedEdges()),M.cleanConnected=!0)}if(w)for(var P=0;P<w.length;P++)(0,w[P])(g,o);l.recalculateRenderedStyle(o),o=u.collection()}};l.flushRenderedStyleQueue=function(){h(!0)},l.beforeRender(h,l.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(u){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(u)},recalculateRenderedStyle:function(u,o){var l=function(ve){return ve._private.rstyle.cleanConnected},f=[],h=[];if(!this.destroyed){void 0===o&&(o=!0);for(var p=0;p<u.length;p++){var g=u[p],w=g._private,x=w.rstyle;g.isEdge()&&(!l(g.source())||!l(g.target()))&&(x.clean=!1),!(o&&x.clean||g.removed())&&"none"!==g.pstyle("display").value&&("nodes"===w.group?h.push(g):f.push(g),x.clean=!0)}for(var E=0;E<h.length;E++){var M=h[E],z=M._private.rstyle,W=M.position();this.recalculateNodeLabelProjection(M),z.nodeX=W.x,z.nodeY=W.y,z.nodeW=M.pstyle("width").pfValue,z.nodeH=M.pstyle("height").pfValue}this.recalculateEdgeProjections(f);for(var j=0;j<f.length;j++){var Q=f[j]._private,re=Q.rstyle,de=Q.rscratch;re.srcX=de.arrowStartX,re.srcY=de.arrowStartY,re.tgtX=de.arrowEndX,re.tgtY=de.arrowEndY,re.midX=de.midX,re.midY=de.midY,re.labelAngle=de.labelAngle,re.sourceLabelAngle=de.sourceLabelAngle,re.targetLabelAngle=de.targetLabelAngle}}}},pt].forEach(function(u){In(bt,u)});var Ut={getCachedImage:function(u,o,l){var h=this.imageCache=this.imageCache||{},p=h[u];if(p)return p.image.complete||p.image.addEventListener("load",l),p.image;var g=(p=h[u]=h[u]||{}).image=new Image;g.addEventListener("load",l),g.addEventListener("error",function(){g.error=!0});return"data:"===u.substring(0,5).toLowerCase()||(g.crossOrigin=o="null"===o?null:o),g.src=u,g}},jt={registerBinding:function(u,o,l,f){var h=Array.prototype.slice.apply(arguments,[1]),p=this.binder(u);return p.on.apply(p,h)},binder:function(u){var o=this,l=u===window||u===document||u===document.body||function(o){return!(typeof HTMLElement>"u")&&o instanceof HTMLElement}(u);if(null==o.supportsPassiveEvents){var f=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return f=!0,!0}});window.addEventListener("test",null,h)}catch{}o.supportsPassiveEvents=f}var p=function(w,x,E){var M=Array.prototype.slice.call(arguments);return l&&o.supportsPassiveEvents&&(M[2]={capture:E??!1,passive:!1,once:!1}),o.bindings.push({target:u,args:M}),(u.addEventListener||u.on).apply(u,M),this};return{on:p,addEventListener:p,addListener:p,bind:p}},nodeIsDraggable:function(u){return u&&u.isNode()&&!u.locked()&&u.grabbable()},nodeIsGrabbable:function(u){return this.nodeIsDraggable(u)&&u.interactive()}};jt.load=function(){var u=this,o=function(Ce){return Ce.selected()},l=function(Ce,dt,kt,Ct){null==Ce&&(Ce=u.cy);for(var Et=0;Et<dt.length;Et++)Ce.emit({originalEvent:kt,type:dt[Et],position:Ct})},f=function(Ce){return Ce.shiftKey||Ce.metaKey||Ce.ctrlKey},h=function(Ce,dt){var kt=!0;if(u.cy.hasCompoundNodes()&&Ce&&Ce.pannable()){for(var Ct=0;dt&&Ct<dt.length;Ct++)if((Ce=dt[Ct]).isNode()&&Ce.isParent()&&!Ce.pannable()){kt=!1;break}}else kt=!0;return kt},w=function(Ce){Ce[0]._private.rscratch.inDragLayer=!0},E=function(Ce){Ce[0]._private.rscratch.isGrabTarget=!0},P=function(Ce,dt){var kt=dt.addToList;!kt.has(Ce)&&Ce.grabbable()&&!Ce.locked()&&(kt.merge(Ce),function(Ce){Ce[0]._private.grabbed=!0}(Ce))},W=function(Ce,dt){dt=dt||{};var kt=Ce.cy().hasCompoundNodes();dt.inDragLayer&&(Ce.forEach(w),Ce.neighborhood().stdFilter(function(Ct){return!kt||Ct.isEdge()}).forEach(w)),dt.addToList&&Ce.forEach(function(Ct){P(Ct,dt)}),function(Ce,dt){if(Ce.cy().hasCompoundNodes()&&(null!=dt.inDragLayer||null!=dt.addToList)){var kt=Ce.descendants();dt.inDragLayer&&(kt.forEach(w),kt.connectedEdges().forEach(w)),dt.addToList&&P(kt,dt)}}(Ce,dt),Q(Ce,{inDragLayer:dt.inDragLayer}),u.updateCachedGrabbedEles()},j=W,q=function(Ce){Ce&&(u.getCachedZSortedEles().forEach(function(dt){(function(Ce){Ce[0]._private.grabbed=!1})(dt),function(Ce){Ce[0]._private.rscratch.inDragLayer=!1}(dt),function(Ce){Ce[0]._private.rscratch.isGrabTarget=!1}(dt)}),u.updateCachedGrabbedEles())},Q=function(Ce,dt){if((null!=dt.inDragLayer||null!=dt.addToList)&&Ce.cy().hasCompoundNodes()){var kt=Ce.ancestors().orphans();if(!kt.same(Ce)){var Ct=kt.descendants().spawnSelf().merge(kt).unmerge(Ce).unmerge(Ce.descendants()),Et=Ct.connectedEdges();dt.inDragLayer&&(Et.forEach(w),Ct.forEach(w)),dt.addToList&&Ct.forEach(function(mr){P(mr,dt)})}}},re=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},de=typeof MutationObserver<"u",fe=typeof ResizeObserver<"u";de?(u.removeObserver=new MutationObserver(function(zt){for(var Ce=0;Ce<zt.length;Ce++){var kt=zt[Ce].removedNodes;if(kt)for(var Ct=0;Ct<kt.length;Ct++)if(kt[Ct]===u.container){u.destroy();break}}}),u.container.parentNode&&u.removeObserver.observe(u.container.parentNode,{childList:!0})):u.registerBinding(u.container,"DOMNodeRemoved",function(zt){u.destroy()});var ve=O.default(function(){u.cy.resize()},100);de&&(u.styleObserver=new MutationObserver(ve),u.styleObserver.observe(u.container,{attributes:!0})),u.registerBinding(window,"resize",ve),fe&&(u.resizeObserver=new ResizeObserver(ve),u.resizeObserver.observe(u.container));var Ae=function(){u.invalidateContainerClientCoordsCache()};(function(Ce,dt){for(;null!=Ce;)u.registerBinding(zt=Ce,"transitionend",Ae),u.registerBinding(zt,"animationend",Ae),u.registerBinding(zt,"scroll",Ae),Ce=Ce.parentNode;var zt})(u.container),u.registerBinding(u.container,"contextmenu",function(zt){zt.preventDefault()});var we,ke,Pe,Te=function(Ce){for(var dt=u.findContainerClientCoords(),kt=dt[0],Ct=dt[1],Et=dt[2],mr=dt[3],Gt=Ce.touches?Ce.touches:[Ce],Dn=!1,zr=0;zr<Gt.length;zr++){var Kr=Gt[zr];if(kt<=Kr.clientX&&Kr.clientX<=kt+Et&&Ct<=Kr.clientY&&Kr.clientY<=Ct+mr){Dn=!0;break}}if(!Dn)return!1;for(var hr=u.container,cr=Ce.target.parentNode,wr=!1;cr;){if(cr===hr){wr=!0;break}cr=cr.parentNode}return!!wr};u.registerBinding(u.container,"mousedown",function(Ce){if(Te(Ce)){Ce.preventDefault(),re(),u.hoverData.capture=!0,u.hoverData.which=Ce.which;var dt=u.cy,kt=[Ce.clientX,Ce.clientY],Ct=u.projectIntoViewport(kt[0],kt[1]),Et=u.selection,mr=u.findNearestElements(Ct[0],Ct[1],!0,!1),Gt=mr[0],Dn=u.dragData.possibleDragElements;if(u.hoverData.mdownPos=Ct,u.hoverData.mdownGPos=kt,3==Ce.which){u.hoverData.cxtStarted=!0;var Kr={originalEvent:Ce,type:"cxttapstart",position:{x:Ct[0],y:Ct[1]}};Gt?(Gt.activate(),Gt.emit(Kr),u.hoverData.down=Gt):dt.emit(Kr),u.hoverData.downTime=(new Date).getTime(),u.hoverData.cxtDragged=!1}else if(1==Ce.which){if(Gt&&Gt.activate(),null!=Gt&&u.nodeIsGrabbable(Gt)){var hr=function(to){return{originalEvent:Ce,type:to,position:{x:Ct[0],y:Ct[1]}}};if(E(Gt),Gt.selected()){Dn=u.dragData.possibleDragElements=dt.collection();var cr=dt.$(function(wr){return wr.isNode()&&wr.selected()&&u.nodeIsGrabbable(wr)});W(cr,{addToList:Dn}),Gt.emit(hr("grabon")),cr.forEach(function(to){to.emit(hr("grab"))})}else Dn=u.dragData.possibleDragElements=dt.collection(),j(Gt,{addToList:Dn}),Gt.emit(hr("grabon")).emit(hr("grab"));u.redrawHint("eles",!0),u.redrawHint("drag",!0)}u.hoverData.down=Gt,u.hoverData.downs=mr,u.hoverData.downTime=(new Date).getTime(),l(Gt,["mousedown","tapstart","vmousedown"],Ce,{x:Ct[0],y:Ct[1]}),null==Gt?(Et[4]=1,u.data.bgActivePosistion={x:Ct[0],y:Ct[1]},u.redrawHint("select",!0),u.redraw()):Gt.pannable()&&(Et[4]=1),u.hoverData.tapholdCancelled=!1,clearTimeout(u.hoverData.tapholdTimeout),u.hoverData.tapholdTimeout=setTimeout(function(){if(!u.hoverData.tapholdCancelled){var to=u.hoverData.down;to?to.emit({originalEvent:Ce,type:"taphold",position:{x:Ct[0],y:Ct[1]}}):dt.emit({originalEvent:Ce,type:"taphold",position:{x:Ct[0],y:Ct[1]}})}},u.tapholdDuration)}Et[0]=Et[2]=Ct[0],Et[1]=Et[3]=Ct[1]}},!1),u.registerBinding(window,"mousemove",function(Ce){var ou;if(u.hoverData.capture||Te(Ce)){var kt=!1,Ct=u.cy,Et=Ct.zoom(),mr=[Ce.clientX,Ce.clientY],Gt=u.projectIntoViewport(mr[0],mr[1]),Dn=u.hoverData.mdownPos,zr=u.hoverData.mdownGPos,Kr=u.selection,hr=null;!u.hoverData.draggingEles&&!u.hoverData.dragging&&!u.hoverData.selecting&&(hr=u.findNearestElement(Gt[0],Gt[1],!0,!1));var no,Zr=u.hoverData.last,cr=u.hoverData.down,wr=[Gt[0]-Kr[2],Gt[1]-Kr[3]],to=u.dragData.possibleDragElements;if(zr){var Ml=mr[0]-zr[0],Ca=mr[1]-zr[1];u.hoverData.isOverThresholdDrag=no=Ml*Ml+Ca*Ca>=u.desktopTapThreshold2}var Io=f(Ce);no&&(u.hoverData.tapholdCancelled=!0),kt=!0,l(hr,["mousemove","vmousemove","tapdrag"],Ce,{x:Gt[0],y:Gt[1]});var Uf=function(){u.data.bgActivePosistion=void 0,u.hoverData.selecting||Ct.emit({originalEvent:Ce,type:"boxstart",position:{x:Gt[0],y:Gt[1]}}),Kr[4]=1,u.hoverData.selecting=!0,u.redrawHint("select",!0),u.redraw()};if(3===u.hoverData.which){if(no){var Xd={originalEvent:Ce,type:"cxtdrag",position:{x:Gt[0],y:Gt[1]}};cr?cr.emit(Xd):Ct.emit(Xd),u.hoverData.cxtDragged=!0,(!u.hoverData.cxtOver||hr!==u.hoverData.cxtOver)&&(u.hoverData.cxtOver&&u.hoverData.cxtOver.emit({originalEvent:Ce,type:"cxtdragout",position:{x:Gt[0],y:Gt[1]}}),u.hoverData.cxtOver=hr,hr&&hr.emit({originalEvent:Ce,type:"cxtdragover",position:{x:Gt[0],y:Gt[1]}}))}}else if(u.hoverData.dragging){if(kt=!0,Ct.panningEnabled()&&Ct.userPanningEnabled()){var Gf;if(u.hoverData.justStartedPan){var tg=u.hoverData.mdownPos;Gf={x:(Gt[0]-tg[0])*Et,y:(Gt[1]-tg[1])*Et},u.hoverData.justStartedPan=!1}else Gf={x:wr[0]*Et,y:wr[1]*Et};Ct.panBy(Gf),Ct.emit("dragpan"),u.hoverData.dragged=!0}Gt=u.projectIntoViewport(Ce.clientX,Ce.clientY)}else if(1!=Kr[4]||null!=cr&&!cr.pannable()){if(cr&&cr.pannable()&&cr.active()&&cr.unactivate(),(!cr||!cr.grabbed())&&hr!=Zr&&(Zr&&l(Zr,["mouseout","tapdragout"],Ce,{x:Gt[0],y:Gt[1]}),hr&&l(hr,["mouseover","tapdragover"],Ce,{x:Gt[0],y:Gt[1]}),u.hoverData.last=hr),cr)if(no){if(Ct.boxSelectionEnabled()&&Io)cr&&cr.grabbed()&&(q(to),cr.emit("freeon"),to.emit("free"),u.dragData.didDrag&&(cr.emit("dragfreeon"),to.emit("dragfree"))),Uf();else if(cr&&cr.grabbed()&&u.nodeIsDraggable(cr)){var ws=!u.dragData.didDrag;ws&&u.redrawHint("eles",!0),u.dragData.didDrag=!0,u.hoverData.draggingEles||W(to,{inDragLayer:!0});var xa={x:0,y:0};if(Xe(wr[0])&&Xe(wr[1])&&(xa.x+=wr[0],xa.y+=wr[1],ws)){var _s=u.hoverData.dragDelta;_s&&Xe(_s[0])&&Xe(_s[1])&&(xa.x+=_s[0],xa.y+=_s[1])}u.hoverData.draggingEles=!0,to.silentShift(xa).emit("position drag"),u.redrawHint("drag",!0),u.redraw()}}else 0===(ou=u.hoverData.dragDelta=u.hoverData.dragDelta||[]).length?(ou.push(wr[0]),ou.push(wr[1])):(ou[0]+=wr[0],ou[1]+=wr[1]);kt=!0}else no&&(u.hoverData.dragging||!Ct.boxSelectionEnabled()||!Io&&Ct.panningEnabled()&&Ct.userPanningEnabled()?!u.hoverData.selecting&&Ct.panningEnabled()&&Ct.userPanningEnabled()&&h(cr,u.hoverData.downs)&&(u.hoverData.dragging=!0,u.hoverData.justStartedPan=!0,Kr[4]=0,u.data.bgActivePosistion=li(Dn),u.redrawHint("select",!0),u.redraw()):Uf(),cr&&cr.pannable()&&cr.active()&&cr.unactivate());if(Kr[2]=Gt[0],Kr[3]=Gt[1],kt)return Ce.stopPropagation&&Ce.stopPropagation(),Ce.preventDefault&&Ce.preventDefault(),!1}},!1),u.registerBinding(window,"mouseup",function(Ce){if(u.hoverData.capture){u.hoverData.capture=!1;var kt=u.cy,Ct=u.projectIntoViewport(Ce.clientX,Ce.clientY),Et=u.selection,mr=u.findNearestElement(Ct[0],Ct[1],!0,!1),Gt=u.dragData.possibleDragElements,Dn=u.hoverData.down,zr=f(Ce);if(u.data.bgActivePosistion&&(u.redrawHint("select",!0),u.redraw()),u.hoverData.tapholdCancelled=!0,u.data.bgActivePosistion=void 0,Dn&&Dn.unactivate(),3===u.hoverData.which){var Kr={originalEvent:Ce,type:"cxttapend",position:{x:Ct[0],y:Ct[1]}};if(Dn?Dn.emit(Kr):kt.emit(Kr),!u.hoverData.cxtDragged){var hr={originalEvent:Ce,type:"cxttap",position:{x:Ct[0],y:Ct[1]}};Dn?Dn.emit(hr):kt.emit(hr)}u.hoverData.cxtDragged=!1,u.hoverData.which=null}else if(1===u.hoverData.which){if(l(mr,["mouseup","tapend","vmouseup"],Ce,{x:Ct[0],y:Ct[1]}),!u.dragData.didDrag&&!u.hoverData.dragged&&!u.hoverData.selecting&&!u.hoverData.isOverThresholdDrag&&(l(Dn,["click","tap","vclick"],Ce,{x:Ct[0],y:Ct[1]}),ke=!1,Ce.timeStamp-Pe<=kt.multiClickDebounceTime()?(we&&clearTimeout(we),ke=!0,Pe=null,l(Dn,["dblclick","dbltap","vdblclick"],Ce,{x:Ct[0],y:Ct[1]})):(we=setTimeout(function(){ke||l(Dn,["oneclick","onetap","voneclick"],Ce,{x:Ct[0],y:Ct[1]})},kt.multiClickDebounceTime()),Pe=Ce.timeStamp)),null==Dn&&!u.dragData.didDrag&&!u.hoverData.selecting&&!u.hoverData.dragged&&!f(Ce)&&(kt.$(o).unselect(["tapunselect"]),Gt.length>0&&u.redrawHint("eles",!0),u.dragData.possibleDragElements=Gt=kt.collection()),mr==Dn&&!u.dragData.didDrag&&!u.hoverData.selecting&&null!=mr&&mr._private.selectable&&(u.hoverData.dragging||("additive"===kt.selectionType()||zr?mr.selected()?mr.unselect(["tapunselect"]):mr.select(["tapselect"]):zr||(kt.$(o).unmerge(mr).unselect(["tapunselect"]),mr.select(["tapselect"]))),u.redrawHint("eles",!0)),u.hoverData.selecting){var Zr=kt.collection(u.getAllInBox(Et[0],Et[1],Et[2],Et[3]));u.redrawHint("select",!0),Zr.length>0&&u.redrawHint("eles",!0),kt.emit({type:"boxend",originalEvent:Ce,position:{x:Ct[0],y:Ct[1]}}),"additive"===kt.selectionType()||zr||kt.$(o).unmerge(Zr).unselect(),Zr.emit("box").stdFilter(function(no){return no.selectable()&&!no.selected()}).select().emit("boxselect"),u.redraw()}if(u.hoverData.dragging&&(u.hoverData.dragging=!1,u.redrawHint("select",!0),u.redrawHint("eles",!0),u.redraw()),!Et[4]){u.redrawHint("drag",!0),u.redrawHint("eles",!0);var wr=Dn&&Dn.grabbed();q(Gt),wr&&(Dn.emit("freeon"),Gt.emit("free"),u.dragData.didDrag&&(Dn.emit("dragfreeon"),Gt.emit("dragfree")))}}Et[4]=0,u.hoverData.down=null,u.hoverData.cxtStarted=!1,u.hoverData.draggingEles=!1,u.hoverData.selecting=!1,u.hoverData.isOverThresholdDrag=!1,u.dragData.didDrag=!1,u.hoverData.dragged=!1,u.hoverData.dragDelta=[],u.hoverData.mdownPos=null,u.hoverData.mdownGPos=null}},!1);var Ee=function(Ce){if(!u.scrollingPage){var dt=u.cy,kt=dt.zoom(),Ct=dt.pan(),Et=u.projectIntoViewport(Ce.clientX,Ce.clientY),mr=[Et[0]*kt+Ct.x,Et[1]*kt+Ct.y];if(u.hoverData.draggingEles||u.hoverData.dragging||u.hoverData.cxtStarted||0!==u.selection[4])return void Ce.preventDefault();if(dt.panningEnabled()&&dt.userPanningEnabled()&&dt.zoomingEnabled()&&dt.userZoomingEnabled()){var Gt;Ce.preventDefault(),u.data.wheelZooming=!0,clearTimeout(u.data.wheelTimeout),u.data.wheelTimeout=setTimeout(function(){u.data.wheelZooming=!1,u.redrawHint("eles",!0),u.redraw()},150),Gt=null!=Ce.deltaY?Ce.deltaY/-250:null!=Ce.wheelDeltaY?Ce.wheelDeltaY/1e3:Ce.wheelDelta/1e3,Gt*=u.wheelSensitivity,1===Ce.deltaMode&&(Gt*=33);var zr=dt.zoom()*Math.pow(10,Gt);"gesturechange"===Ce.type&&(zr=u.gestureStartZoom*Ce.scale),dt.zoom({level:zr,renderedPosition:{x:mr[0],y:mr[1]}}),dt.emit("gesturechange"===Ce.type?"pinchzoom":"scrollzoom")}}};u.registerBinding(u.container,"wheel",Ee,!0),u.registerBinding(window,"scroll",function(Ce){u.scrollingPage=!0,clearTimeout(u.scrollingPageTimeout),u.scrollingPageTimeout=setTimeout(function(){u.scrollingPage=!1},250)},!0),u.registerBinding(u.container,"gesturestart",function(Ce){u.gestureStartZoom=u.cy.zoom(),u.hasTouchStarted||Ce.preventDefault()},!0),u.registerBinding(u.container,"gesturechange",function(zt){u.hasTouchStarted||Ee(zt)},!0),u.registerBinding(u.container,"mouseout",function(Ce){var dt=u.projectIntoViewport(Ce.clientX,Ce.clientY);u.cy.emit({originalEvent:Ce,type:"mouseout",position:{x:dt[0],y:dt[1]}})},!1),u.registerBinding(u.container,"mouseover",function(Ce){var dt=u.projectIntoViewport(Ce.clientX,Ce.clientY);u.cy.emit({originalEvent:Ce,type:"mouseover",position:{x:dt[0],y:dt[1]}})},!1);var He,Oe,Ke,Ue,Ge,rt,ct,vt,at,mt,It,At,xt,Tt,Ot,Wt,tn,$n,ar,on,wt=function(Ce,dt,kt,Ct){return Math.sqrt((kt-Ce)*(kt-Ce)+(Ct-dt)*(Ct-dt))},Je=function(Ce,dt,kt,Ct){return(kt-Ce)*(kt-Ce)+(Ct-dt)*(Ct-dt)};if(u.registerBinding(u.container,"touchstart",Tt=function(Ce){if(u.hasTouchStarted=!0,Te(Ce)){re(),u.touchData.capture=!0,u.data.bgActivePosistion=void 0;var dt=u.cy,kt=u.touchData.now,Ct=u.touchData.earlier;if(Ce.touches[0]){var Et=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);kt[0]=Et[0],kt[1]=Et[1]}if(Ce.touches[1]&&(Et=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),kt[2]=Et[0],kt[3]=Et[1]),Ce.touches[2]&&(Et=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),kt[4]=Et[0],kt[5]=Et[1]),Ce.touches[1]){u.touchData.singleTouchMoved=!0,q(u.dragData.touchDragEles);var mr=u.findContainerClientCoords();It=mr[2],At=mr[3],Oe=Ce.touches[0].clientY-(mt=mr[1]),Ke=Ce.touches[1].clientX-(at=mr[0]),Ue=Ce.touches[1].clientY-mt,xt=0<=(He=Ce.touches[0].clientX-at)&&He<=It&&0<=Ke&&Ke<=It&&0<=Oe&&Oe<=At&&0<=Ue&&Ue<=At;var Gt=dt.pan(),Dn=dt.zoom();if(Ge=wt(He,Oe,Ke,Ue),rt=Je(He,Oe,Ke,Ue),vt=[((ct=[(He+Ke)/2,(Oe+Ue)/2])[0]-Gt.x)/Dn,(ct[1]-Gt.y)/Dn],rt<4e4&&!Ce.touches[2]){var hr=u.findNearestElement(kt[0],kt[1],!0,!0),Zr=u.findNearestElement(kt[2],kt[3],!0,!0);return hr&&hr.isNode()?(hr.activate().emit({originalEvent:Ce,type:"cxttapstart",position:{x:kt[0],y:kt[1]}}),u.touchData.start=hr):Zr&&Zr.isNode()?(Zr.activate().emit({originalEvent:Ce,type:"cxttapstart",position:{x:kt[0],y:kt[1]}}),u.touchData.start=Zr):dt.emit({originalEvent:Ce,type:"cxttapstart",position:{x:kt[0],y:kt[1]}}),u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxt=!0,u.touchData.cxtDragged=!1,u.data.bgActivePosistion=void 0,void u.redraw()}}if(Ce.touches[2])dt.boxSelectionEnabled()&&Ce.preventDefault();else if(!Ce.touches[1]&&Ce.touches[0]){var cr=u.findNearestElements(kt[0],kt[1],!0,!0),wr=cr[0];if(null!=wr&&(wr.activate(),u.touchData.start=wr,u.touchData.starts=cr,u.nodeIsGrabbable(wr))){var to=u.dragData.touchDragEles=dt.collection(),no=null;u.redrawHint("eles",!0),u.redrawHint("drag",!0),wr.selected()?(no=dt.$(function(is){return is.selected()&&u.nodeIsGrabbable(is)}),W(no,{addToList:to})):j(wr,{addToList:to}),E(wr);var Ml=function(Io){return{originalEvent:Ce,type:Io,position:{x:kt[0],y:kt[1]}}};wr.emit(Ml("grabon")),no?no.forEach(function(is){is.emit(Ml("grab"))}):wr.emit(Ml("grab"))}l(wr,["touchstart","tapstart","vmousedown"],Ce,{x:kt[0],y:kt[1]}),null==wr&&(u.data.bgActivePosistion={x:Et[0],y:Et[1]},u.redrawHint("select",!0),u.redraw()),u.touchData.singleTouchMoved=!1,u.touchData.singleTouchStartTime=+new Date,clearTimeout(u.touchData.tapholdTimeout),u.touchData.tapholdTimeout=setTimeout(function(){!1===u.touchData.singleTouchMoved&&!u.pinching&&!u.touchData.selecting&&l(u.touchData.start,["taphold"],Ce,{x:kt[0],y:kt[1]})},u.tapholdDuration)}if(Ce.touches.length>=1){for(var Il=u.touchData.startPosition=[],Ca=0;Ca<kt.length;Ca++)Il[Ca]=Ct[Ca]=kt[Ca];var ol=Ce.touches[0];u.touchData.startGPosition=[ol.clientX,ol.clientY]}}},!1),u.registerBinding(window,"touchmove",Ot=function(Ce){var dt=u.touchData.capture;if(dt||Te(Ce)){var kt=u.selection,Ct=u.cy,Et=u.touchData.now,mr=u.touchData.earlier,Gt=Ct.zoom();if(Ce.touches[0]){var Dn=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);Et[0]=Dn[0],Et[1]=Dn[1]}Ce.touches[1]&&(Dn=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),Et[2]=Dn[0],Et[3]=Dn[1]),Ce.touches[2]&&(Dn=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),Et[4]=Dn[0],Et[5]=Dn[1]);var Kr,zr=u.touchData.startGPosition;if(dt&&Ce.touches[0]&&zr){for(var hr=[],Zr=0;Zr<Et.length;Zr++)hr[Zr]=Et[Zr]-mr[Zr];var cr=Ce.touches[0].clientX-zr[0],to=Ce.touches[0].clientY-zr[1];Kr=cr*cr+to*to>=u.touchTapThreshold2}if(dt&&u.touchData.cxt){Ce.preventDefault();var Io=Je(Il=Ce.touches[0].clientX-at,Ca=Ce.touches[0].clientY-mt,ol=Ce.touches[1].clientX-at,is=Ce.touches[1].clientY-mt);if(Io/rt>=2.25||Io>=22500){u.touchData.cxt=!1,u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);var Kd={originalEvent:Ce,type:"cxttapend",position:{x:Et[0],y:Et[1]}};u.touchData.start?(u.touchData.start.unactivate().emit(Kd),u.touchData.start=null):Ct.emit(Kd)}}if(dt&&u.touchData.cxt){Kd={originalEvent:Ce,type:"cxtdrag",position:{x:Et[0],y:Et[1]}},u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),u.touchData.start?u.touchData.start.emit(Kd):Ct.emit(Kd),u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxtDragged=!0;var ws=u.findNearestElement(Et[0],Et[1],!0,!0);(!u.touchData.cxtOver||ws!==u.touchData.cxtOver)&&(u.touchData.cxtOver&&u.touchData.cxtOver.emit({originalEvent:Ce,type:"cxtdragout",position:{x:Et[0],y:Et[1]}}),u.touchData.cxtOver=ws,ws&&ws.emit({originalEvent:Ce,type:"cxtdragover",position:{x:Et[0],y:Et[1]}}))}else if(dt&&Ce.touches[2]&&Ct.boxSelectionEnabled())Ce.preventDefault(),u.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,u.touchData.selecting||Ct.emit({originalEvent:Ce,type:"boxstart",position:{x:Et[0],y:Et[1]}}),u.touchData.selecting=!0,u.touchData.didSelect=!0,kt[4]=1,kt&&0!==kt.length&&void 0!==kt[0]?(kt[2]=(Et[0]+Et[2]+Et[4])/3,kt[3]=(Et[1]+Et[3]+Et[5])/3):(kt[0]=(Et[0]+Et[2]+Et[4])/3,kt[1]=(Et[1]+Et[3]+Et[5])/3,kt[2]=(Et[0]+Et[2]+Et[4])/3+1,kt[3]=(Et[1]+Et[3]+Et[5])/3+1),u.redrawHint("select",!0),u.redraw();else if(dt&&Ce.touches[1]&&!u.touchData.didSelect&&Ct.zoomingEnabled()&&Ct.panningEnabled()&&Ct.userZoomingEnabled()&&Ct.userPanningEnabled()){if(Ce.preventDefault(),u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),xa=u.dragData.touchDragEles){u.redrawHint("drag",!0);for(var _s=0;_s<xa.length;_s++){var ng=xa[_s]._private;ng.grabbed=!1,ng.rscratch.inDragLayer=!1}}var Il,Ca,ol,is,ou=u.touchData.start,Iy=wt(Il=Ce.touches[0].clientX-at,Ca=Ce.touches[0].clientY-mt,ol=Ce.touches[1].clientX-at,is=Ce.touches[1].clientY-mt),rg=Iy/Ge;if(xt){var Oy=(Il-He+(ol-Ke))/2,Zx=(Ca-Oe+(is-Ue))/2,ig=Ct.zoom(),Ry=ig*rg,jf=Ct.pan(),og=vt[0]*ig+jf.x,bw=vt[1]*ig+jf.y,qx={x:-Ry/ig*(og-jf.x-Oy)+og,y:-Ry/ig*(bw-jf.y-Zx)+bw};ou&&ou.active()&&(q(xa=u.dragData.touchDragEles),u.redrawHint("drag",!0),u.redrawHint("eles",!0),ou.unactivate().emit("freeon"),xa.emit("free"),u.dragData.didDrag&&(ou.emit("dragfreeon"),xa.emit("dragfree"))),Ct.viewport({zoom:Ry,pan:qx,cancelOnFailedZoom:!0}),Ct.emit("pinchzoom"),Ge=Iy,He=Il,Oe=Ca,Ke=ol,Ue=is,u.pinching=!0}Ce.touches[0]&&(Dn=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY),Et[0]=Dn[0],Et[1]=Dn[1]),Ce.touches[1]&&(Dn=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),Et[2]=Dn[0],Et[3]=Dn[1]),Ce.touches[2]&&(Dn=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),Et[4]=Dn[0],Et[5]=Dn[1])}else if(Ce.touches[0]&&!u.touchData.didSelect){var al=u.touchData.start,Sm=u.touchData.last;if(!u.hoverData.draggingEles&&!u.swipePanning&&(ws=u.findNearestElement(Et[0],Et[1],!0,!0)),dt&&null!=al&&Ce.preventDefault(),dt&&null!=al&&u.nodeIsDraggable(al))if(Kr){var xa=u.dragData.touchDragEles,ky=!u.dragData.didDrag;ky&&W(xa,{inDragLayer:!0}),u.dragData.didDrag=!0;var Yh={x:0,y:0};Xe(hr[0])&&Xe(hr[1])&&(Yh.x+=hr[0],Yh.y+=hr[1],ky)&&(u.redrawHint("eles",!0),(Al=u.touchData.dragDelta)&&Xe(Al[0])&&Xe(Al[1])&&(Yh.x+=Al[0],Yh.y+=Al[1])),u.hoverData.draggingEles=!0,xa.silentShift(Yh).emit("position drag"),u.redrawHint("drag",!0),u.touchData.startPosition[0]==mr[0]&&u.touchData.startPosition[1]==mr[1]&&u.redrawHint("eles",!0),u.redraw()}else{var Al;0===(Al=u.touchData.dragDelta=u.touchData.dragDelta||[]).length?(Al.push(hr[0]),Al.push(hr[1])):(Al[0]+=hr[0],Al[1]+=hr[1])}if(l(al||ws,["touchmove","tapdrag","vmousemove"],Ce,{x:Et[0],y:Et[1]}),(!al||!al.grabbed())&&ws!=Sm&&(Sm&&Sm.emit({originalEvent:Ce,type:"tapdragout",position:{x:Et[0],y:Et[1]}}),ws&&ws.emit({originalEvent:Ce,type:"tapdragover",position:{x:Et[0],y:Et[1]}})),u.touchData.last=ws,dt)for(_s=0;_s<Et.length;_s++)Et[_s]&&u.touchData.startPosition[_s]&&Kr&&(u.touchData.singleTouchMoved=!0);dt&&(null==al||al.pannable())&&Ct.panningEnabled()&&Ct.userPanningEnabled()&&(h(al,u.touchData.starts)&&(Ce.preventDefault(),u.data.bgActivePosistion||(u.data.bgActivePosistion=li(u.touchData.startPosition)),u.swipePanning?(Ct.panBy({x:hr[0]*Gt,y:hr[1]*Gt}),Ct.emit("dragpan")):Kr&&(u.swipePanning=!0,Ct.panBy({x:cr*Gt,y:to*Gt}),Ct.emit("dragpan"),al&&(al.unactivate(),u.redrawHint("select",!0),u.touchData.start=null))),Dn=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY),Et[0]=Dn[0],Et[1]=Dn[1])}for(Zr=0;Zr<Et.length;Zr++)mr[Zr]=Et[Zr];dt&&Ce.touches.length>0&&!u.hoverData.draggingEles&&!u.swipePanning&&null!=u.data.bgActivePosistion&&(u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),u.redraw())}},!1),u.registerBinding(window,"touchcancel",Wt=function(Ce){var dt=u.touchData.start;u.touchData.capture=!1,dt&&dt.unactivate()}),u.registerBinding(window,"touchend",tn=function(Ce){var dt=u.touchData.start;if(u.touchData.capture){0===Ce.touches.length&&(u.touchData.capture=!1),Ce.preventDefault();var Ct=u.selection;u.swipePanning=!1,u.hoverData.draggingEles=!1;var Kr,Et=u.cy,mr=Et.zoom(),Gt=u.touchData.now,Dn=u.touchData.earlier;if(Ce.touches[0]){var zr=u.projectIntoViewport(Ce.touches[0].clientX,Ce.touches[0].clientY);Gt[0]=zr[0],Gt[1]=zr[1]}if(Ce.touches[1]&&(zr=u.projectIntoViewport(Ce.touches[1].clientX,Ce.touches[1].clientY),Gt[2]=zr[0],Gt[3]=zr[1]),Ce.touches[2]&&(zr=u.projectIntoViewport(Ce.touches[2].clientX,Ce.touches[2].clientY),Gt[4]=zr[0],Gt[5]=zr[1]),dt&&dt.unactivate(),u.touchData.cxt){if(Kr={originalEvent:Ce,type:"cxttapend",position:{x:Gt[0],y:Gt[1]}},dt?dt.emit(Kr):Et.emit(Kr),!u.touchData.cxtDragged){var hr={originalEvent:Ce,type:"cxttap",position:{x:Gt[0],y:Gt[1]}};dt?dt.emit(hr):Et.emit(hr)}return u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxt=!1,u.touchData.start=null,void u.redraw()}if(!Ce.touches[2]&&Et.boxSelectionEnabled()&&u.touchData.selecting){u.touchData.selecting=!1;var Zr=Et.collection(u.getAllInBox(Ct[0],Ct[1],Ct[2],Ct[3]));Ct[0]=void 0,Ct[1]=void 0,Ct[2]=void 0,Ct[3]=void 0,Ct[4]=0,u.redrawHint("select",!0),Et.emit({type:"boxend",originalEvent:Ce,position:{x:Gt[0],y:Gt[1]}}),Zr.emit("box").stdFilter(function(Xd){return Xd.selectable()&&!Xd.selected()}).select().emit("boxselect"),Zr.nonempty()&&u.redrawHint("eles",!0),u.redraw()}if(dt?.unactivate(),Ce.touches[2])u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);else if(!Ce.touches[1]&&!Ce.touches[0]&&!Ce.touches[0]){u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);var wr=u.dragData.touchDragEles;if(null!=dt){var to=dt._private.grabbed;q(wr),u.redrawHint("drag",!0),u.redrawHint("eles",!0),to&&(dt.emit("freeon"),wr.emit("free"),u.dragData.didDrag&&(dt.emit("dragfreeon"),wr.emit("dragfree"))),l(dt,["touchend","tapend","vmouseup","tapdragout"],Ce,{x:Gt[0],y:Gt[1]}),dt.unactivate(),u.touchData.start=null}else{var no=u.findNearestElement(Gt[0],Gt[1],!0,!0);l(no,["touchend","tapend","vmouseup","tapdragout"],Ce,{x:Gt[0],y:Gt[1]})}var Ml=u.touchData.startPosition[0]-Gt[0],Ca=u.touchData.startPosition[1]-Gt[1],Io=(Ml*Ml+Ca*Ca)*mr*mr;u.touchData.singleTouchMoved||(dt||Et.$(":selected").unselect(["tapunselect"]),l(dt,["tap","vclick"],Ce,{x:Gt[0],y:Gt[1]}),$n=!1,Ce.timeStamp-on<=Et.multiClickDebounceTime()?(ar&&clearTimeout(ar),$n=!0,on=null,l(dt,["dbltap","vdblclick"],Ce,{x:Gt[0],y:Gt[1]})):(ar=setTimeout(function(){$n||l(dt,["onetap","voneclick"],Ce,{x:Gt[0],y:Gt[1]})},Et.multiClickDebounceTime()),on=Ce.timeStamp)),null!=dt&&!u.dragData.didDrag&&dt._private.selectable&&Io<u.touchTapThreshold2&&!u.pinching&&("single"===Et.selectionType()?(Et.$(o).unmerge(dt).unselect(["tapunselect"]),dt.select(["tapselect"])):dt.selected()?dt.unselect(["tapunselect"]):dt.select(["tapselect"]),u.redrawHint("eles",!0)),u.touchData.singleTouchMoved=!0}for(var Ea=0;Ea<Gt.length;Ea++)Dn[Ea]=Gt[Ea];u.dragData.didDrag=!1,0===Ce.touches.length&&(u.touchData.dragDelta=[],u.touchData.startPosition=null,u.touchData.startGPosition=null,u.touchData.didSelect=!1),Ce.touches.length<2&&(1===Ce.touches.length&&(u.touchData.startGPosition=[Ce.touches[0].clientX,Ce.touches[0].clientY]),u.pinching=!1,u.redrawHint("eles",!0),u.redraw())}},!1),typeof TouchEvent>"u"){var Qt=[],On=function(Ce){return{clientX:Ce.clientX,clientY:Ce.clientY,force:1,identifier:Ce.pointerId,pageX:Ce.pageX,pageY:Ce.pageY,radiusX:Ce.width/2,radiusY:Ce.height/2,screenX:Ce.screenX,screenY:Ce.screenY,target:Ce.target}},An=function(Ce){for(var dt=0;dt<Qt.length;dt++)if(Qt[dt].event.pointerId===Ce.pointerId)return void Qt.splice(dt,1)},fr=function(Ce){Ce.touches=Qt.map(function(dt){return dt.touch})},jn=function(Ce){return"mouse"===Ce.pointerType||4===Ce.pointerType};u.registerBinding(u.container,"pointerdown",function(zt){jn(zt)||(zt.preventDefault(),Qt.push(function(Ce){return{event:Ce,touch:On(Ce)}}(zt)),fr(zt),Tt(zt))}),u.registerBinding(u.container,"pointerup",function(zt){jn(zt)||(An(zt),fr(zt),tn(zt))}),u.registerBinding(u.container,"pointercancel",function(zt){jn(zt)||(An(zt),fr(zt),Wt())}),u.registerBinding(u.container,"pointermove",function(zt){var Ce,dt;jn(zt)||(zt.preventDefault(),Ce=zt,(dt=Qt.filter(function(kt){return kt.event.pointerId===Ce.pointerId})[0]).event=Ce,dt.touch=On(Ce),fr(zt),Ot(zt))})}};var qt={generatePolygon:function(u,o){return this.nodeShapes[u]={renderer:this,name:u,points:o,draw:function(f,h,p,g,w){this.renderer.nodeShapeImpl("polygon",f,h,p,g,w,this.points)},intersectLine:function(f,h,p,g,w,x,E){return Ul(w,x,this.points,f,h,p/2,g/2,E)},checkPoint:function(f,h,p,g,w,x,E){return ka(f,h,this.points,x,E,g,w,[0,-1],p)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,w){return function(o,l,f,h,p,g){var w=f-o,x=h-l;w/=p,x/=g;var E=Math.sqrt(w*w+x*x),M=E-1;if(M<0)return[];var P=M/E;return[(f-o)*P+o,(h-l)*P+l]}(p,g,o,l,f/2+w,h/2+w)},checkPoint:function(o,l,f,h,p,g,w){return Xa(o,l,h,p,g,w,f)}}},generateRoundPolygon:function(u,o){for(var l=new Array(2*o.length),f=0;f<o.length/2;f++){var p,h=2*f;p=f<o.length/2-1?2*(f+1):0,l[4*f]=o[h],l[4*f+1]=o[h+1];var g=o[p]-o[h],w=o[p+1]-o[h+1],x=Math.sqrt(g*g+w*w);l[4*f+2]=g/x,l[4*f+3]=w/x}return this.nodeShapes[u]={renderer:this,name:u,points:l,draw:function(M,P,z,W,j){this.renderer.nodeShapeImpl("round-polygon",M,P,z,W,j,this.points)},intersectLine:function(M,P,z,W,j,q,Q){return function(o,l,f,h,p,g,w,x){for(var M,E=[],P=new Array(f.length),z=g/2,W=w/2,j=sc(g,w),q=0;q<f.length/4;q++){var re,Q;Q=0===q?f.length-2:4*q-2,re=4*q+2;var de=h+z*f[4*q],fe=p+W*f[4*q+1],Me=j/Math.tan(Math.acos(-f[Q]*f[re]-f[Q+1]*f[re+1])/2),Ae=de-Me*f[Q],ye=fe-Me*f[Q+1],Te=de+Me*f[re],we=fe+Me*f[re+1];0===q?(P[f.length-2]=Ae,P[f.length-1]=ye):(P[4*q-2]=Ae,P[4*q-1]=ye),P[4*q]=Te,P[4*q+1]=we;var ke=f[Q+1],Pe=-f[Q];ke*f[re]+Pe*f[re+1]<0&&(ke*=-1,Pe*=-1),0!==(M=pl(o,l,h,p,Ae+ke*j,ye+Pe*j,j)).length&&E.push(M[0],M[1])}for(var Ke=0;Ke<P.length/4;Ke++)0!==(M=ss(o,l,h,p,P[4*Ke],P[4*Ke+1],P[4*Ke+2],P[4*Ke+3],!1)).length&&E.push(M[0],M[1]);if(E.length>2){for(var Ue=[E[0],E[1]],Ge=Math.pow(Ue[0]-o,2)+Math.pow(Ue[1]-l,2),rt=1;rt<E.length/2;rt++){var ct=Math.pow(E[2*rt]-o,2)+Math.pow(E[2*rt+1]-l,2);ct<=Ge&&(Ue[0]=E[2*rt],Ue[1]=E[2*rt+1],Ge=ct)}return Ue}return E}(j,q,this.points,M,P,z,W)},checkPoint:function(M,P,z,W,j,q,Q){return function(o,l,f,h,p,g,w){for(var x=new Array(f.length),E=g/2,M=w/2,P=sc(g,w),z=P*P,W=0;W<f.length/4;W++){var q,j;j=0===W?f.length-2:4*W-2,q=4*W+2;var Q=h+E*f[4*W],re=p+M*f[4*W+1],fe=P/Math.tan(Math.acos(-f[j]*f[q]-f[j+1]*f[q+1])/2),ve=Q-fe*f[j],Me=re-fe*f[j+1],Ae=Q+fe*f[q],ye=re+fe*f[q+1];x[4*W]=ve,x[4*W+1]=Me,x[4*W+2]=Ae,x[4*W+3]=ye;var Te=f[j+1],we=-f[j];Te*f[q]+we*f[q+1]<0&&(Te*=-1,we*=-1);var Ee=Me+we*P;if(Math.pow(ve+Te*P-o,2)+Math.pow(Ee-l,2)<=z)return!0}return Ko(o,l,x)}(M,P,this.points,q,Q,W,j)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Zo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,w){return rn(p,g,o,l,f,h,w)},checkPoint:function(o,l,f,h,p,g,w){var x=yu(h,p),E=2*x;return!!(ka(o,l,this.points,g,w,h,p-E,[0,-1],f)||ka(o,l,this.points,g,w,h-E,p,[0,-1],f)||Xa(o,l,E,E,g-h/2+x,w-p/2+x,f)||Xa(o,l,E,E,g+h/2-x,w-p/2+x,f)||Xa(o,l,E,E,g+h/2-x,w+p/2-x,f)||Xa(o,l,E,E,g-h/2+x,w+p/2-x,f))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Zo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},generateCutTrianglePts:function(o,l,f,h){var p=this.cornerLength,g=l/2,w=o/2,x=f-w,E=f+w,M=h-g,P=h+g;return{topLeft:[x,M+p,x+p,M,x+p,M+p],topRight:[E-p,M,E,M+p,E-p,M+p],bottomRight:[E,P-p,E-p,P,E-p,P-p],bottomLeft:[x+p,P,x,P-p,x+p,P-p]}},intersectLine:function(o,l,f,h,p,g,w){var x=this.generateCutTrianglePts(f+2*w,h+2*w,o,l),E=[].concat.apply([],[x.topLeft.splice(0,4),x.topRight.splice(0,4),x.bottomRight.splice(0,4),x.bottomLeft.splice(0,4)]);return Ul(p,g,E,o,l)},checkPoint:function(o,l,f,h,p,g,w){if(ka(o,l,this.points,g,w,h,p-2*this.cornerLength,[0,-1],f)||ka(o,l,this.points,g,w,h-2*this.cornerLength,p,[0,-1],f))return!0;var x=this.generateCutTrianglePts(h,p,g,w);return Ko(o,l,x.topLeft)||Ko(o,l,x.topRight)||Ko(o,l,x.bottomRight)||Ko(o,l,x.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Zo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,w){var P=this.generateBarrelBezierPts(f+2*w,h+2*w,o,l),z=function(q){var Q=vo({x:q[0],y:q[1]},{x:q[2],y:q[3]},{x:q[4],y:q[5]},.15),re=vo({x:q[0],y:q[1]},{x:q[2],y:q[3]},{x:q[4],y:q[5]},.5),de=vo({x:q[0],y:q[1]},{x:q[2],y:q[3]},{x:q[4],y:q[5]},.85);return[q[0],q[1],Q.x,Q.y,re.x,re.y,de.x,de.y,q[4],q[5]]},W=[].concat(z(P.topLeft),z(P.topRight),z(P.bottomRight),z(P.bottomLeft));return Ul(p,g,W,o,l)},generateBarrelBezierPts:function(o,l,f,h){var p=l/2,g=o/2,w=f-g,x=f+g,E=h-p,M=h+p,P=dh(o,l),z=P.heightOffset,W=P.widthOffset,j=P.ctrlPtOffsetPct*o,q={topLeft:[w,E+z,w+j,E,w+W,E],topRight:[x-W,E,x-j,E,x,E+z],bottomRight:[x,M-z,x-j,M,x-W,M],bottomLeft:[w+W,M,w+j,M,w,M-z]};return q.topLeft.isTop=!0,q.topRight.isTop=!0,q.bottomLeft.isBottom=!0,q.bottomRight.isBottom=!0,q},checkPoint:function(o,l,f,h,p,g,w){var x=dh(h,p),M=x.widthOffset;if(ka(o,l,this.points,g,w,h,p-2*x.heightOffset,[0,-1],f)||ka(o,l,this.points,g,w,h-2*M,p,[0,-1],f))return!0;for(var P=this.generateBarrelBezierPts(h,p,g,w),z=function(ye,Te,we){var ke=we[4],Pe=we[2],Ee=we[0],He=we[5],Oe=we[1],Ke=Math.min(ke,Ee),Ue=Math.max(ke,Ee),Ge=Math.min(He,Oe),rt=Math.max(He,Oe);if(Ke<=ye&&ye<=Ue&&Ge<=Te&&Te<=rt){var ct=function(o,l,f){return[o-2*l+f,2*(l-o),o]}(ke,Pe,Ee),vt=function(o,l,f,h){var p=l*l-4*o*(f-=h);if(p<0)return[];var g=Math.sqrt(p),w=2*o;return[(-l+g)/w,(-l-g)/w]}(ct[0],ct[1],ct[2],ye),at=vt.filter(function(mt){return 0<=mt&&mt<=1});if(at.length>0)return at[0]}return null},W=Object.keys(P),j=0;j<W.length;j++){var Q=P[W[j]],re=z(o,l,Q);if(null!=re){var Me=ci(Q[5],Q[3],Q[1],re);if(Q.isTop&&Me<=l||Q.isBottom&&l<=Me)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Zo(4,0),draw:function(o,l,f,h,p){this.renderer.nodeShapeImpl(this.name,o,l,f,h,p)},intersectLine:function(o,l,f,h,p,g,w){var E=l-(h/2+w),z=ss(p,g,o,l,o-(f/2+w),E,o+(f/2+w),E,!1);return z.length>0?z:rn(p,g,o,l,f,h,w)},checkPoint:function(o,l,f,h,p,g,w){var x=yu(h,p),E=2*x;if(ka(o,l,this.points,g,w,h,p-E,[0,-1],f)||ka(o,l,this.points,g,w,h-E,p,[0,-1],f))return!0;var M=h/2+2*f,P=p/2+2*f;return!!(Ko(o,l,[g-M,w-P,g-M,w,g+M,w,g+M,w-P])||Xa(o,l,E,E,g+h/2-x,w+p/2-x,f)||Xa(o,l,E,E,g-h/2+x,w+p/2-x,f))}}},registerNodeShapes:function(){var u=this.nodeShapes={},o=this;this.generateEllipse(),this.generatePolygon("triangle",Zo(3,0)),this.generateRoundPolygon("round-triangle",Zo(3,0)),this.generatePolygon("rectangle",Zo(4,0)),u.square=u.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var l=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",l),this.generateRoundPolygon("round-diamond",l),this.generatePolygon("pentagon",Zo(5,0)),this.generateRoundPolygon("round-pentagon",Zo(5,0)),this.generatePolygon("hexagon",Zo(6,0)),this.generateRoundPolygon("round-hexagon",Zo(6,0)),this.generatePolygon("heptagon",Zo(7,0)),this.generateRoundPolygon("round-heptagon",Zo(7,0)),this.generatePolygon("octagon",Zo(8,0)),this.generateRoundPolygon("round-octagon",Zo(8,0));var f=new Array(20),h=vu(5,0),p=vu(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var w=0;w<p.length/2;w++)p[2*w]*=g,p[2*w+1]*=g;for(w=0;w<5;w++)f[4*w]=h[2*w],f[4*w+1]=h[2*w+1],f[4*w+2]=p[2*w],f[4*w+3]=p[2*w+1];f=ac(f),this.generatePolygon("star",f),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var x=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",x),this.generateRoundPolygon("round-tag",x),u.makePolygon=function(E){var z,P="polygon-"+E.join("$");return(z=this[P])?z:o.generatePolygon(P,E)}}},Yt={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(u){u=u||Cn();var o=this;void 0===o.averageRedrawTime&&(o.averageRedrawTime=0),void 0===o.lastRedrawTime&&(o.lastRedrawTime=0),void 0===o.lastDrawTime&&(o.lastDrawTime=0),o.requestedFrame=!0,o.renderOptions=u},beforeRender:function(u,o){if(!this.destroyed){null==o&&ni("Priority is not optional for beforeRender");var l=this.beforeRenderCallbacks;l.push({fn:u,priority:o}),l.sort(function(f,h){return h.priority-f.priority})}}},$t=function(o,l,f){for(var h=o.beforeRenderCallbacks,p=0;p<h.length;p++)h[p].fn(l,f)};Yt.startRenderLoop=function(){var u=this,o=u.cy;u.renderLoopStarted||(u.renderLoopStarted=!0,pu(function f(h){if(!u.destroyed){if(!o.batching())if(u.requestedFrame&&!u.skipFrame){$t(u,!0,h);var p=Di();u.render(u.renderOptions);var g=u.lastDrawTime=Di();void 0===u.averageRedrawTime&&(u.averageRedrawTime=g-p),void 0===u.redrawCount&&(u.redrawCount=0),u.redrawCount++,void 0===u.redrawTotalTime&&(u.redrawTotalTime=0);var w=g-p;u.redrawTotalTime+=w,u.lastRedrawTime=w,u.averageRedrawTime=u.averageRedrawTime/2+w/2,u.requestedFrame=!1}else $t(u,!1,h);u.skipFrame=!1,pu(f)}}))};var En=function(o){this.init(o)},nr=En.prototype;nr.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],nr.init=function(u){var o=this;o.options=u,o.cy=u.cy;var l=o.container=u.cy.container();if(oe){var f=oe.document,h=f.head,p="__________cytoscape_stylesheet",g="__________cytoscape_container",w=null!=f.getElementById(p);if(l.className.indexOf(g)<0&&(l.className=(l.className||"")+" "+g),!w){var x=f.createElement("style");x.id=p,x.textContent="."+g+" { position: relative; }",h.insertBefore(x,h.children[0])}"static"===oe.getComputedStyle(l).getPropertyValue("position")&&Sr("A Cytoscape container has style position:static and so can not use UI extensions properly")}o.selection=[void 0,void 0,void 0,void 0,0],o.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],o.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},o.dragData={possibleDragElements:[]},o.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},o.redraws=0,o.showFps=u.showFps,o.debug=u.debug,o.hideEdgesOnViewport=u.hideEdgesOnViewport,o.textureOnViewport=u.textureOnViewport,o.wheelSensitivity=u.wheelSensitivity,o.motionBlurEnabled=u.motionBlur,o.forcedPixelRatio=Xe(u.pixelRatio)?u.pixelRatio:null,o.motionBlur=u.motionBlur,o.motionBlurOpacity=u.motionBlurOpacity,o.motionBlurTransparency=1-o.motionBlurOpacity,o.motionBlurPxRatio=1,o.mbPxRBlurry=1,o.minMbLowQualFrames=4,o.fullQualityMb=!1,o.clearedForMotionBlur=[],o.desktopTapThreshold=u.desktopTapThreshold,o.desktopTapThreshold2=u.desktopTapThreshold*u.desktopTapThreshold,o.touchTapThreshold=u.touchTapThreshold,o.touchTapThreshold2=u.touchTapThreshold*u.touchTapThreshold,o.tapholdDuration=500,o.bindings=[],o.beforeRenderCallbacks=[],o.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},o.registerNodeShapes(),o.registerArrowShapes(),o.registerCalculationListeners()},nr.notify=function(u,o){var l=this,f=l.cy;if(!this.destroyed){if("init"===u)return void l.load();if("destroy"===u)return void l.destroy();("add"===u||"remove"===u||"move"===u&&f.hasCompoundNodes()||"load"===u||"zorder"===u||"mount"===u)&&l.invalidateCachedZSortedEles(),"viewport"===u&&l.redrawHint("select",!0),("load"===u||"resize"===u||"mount"===u)&&(l.invalidateContainerClientCoordsCache(),l.matchCanvasSize(l.container)),l.redrawHint("eles",!0),l.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},nr.destroy=function(){var u=this;u.destroyed=!0,u.cy.stopAnimationLoop();for(var o=0;o<u.bindings.length;o++){var l=u.bindings[o],h=l.target;(h.off||h.removeEventListener).apply(h,l.args)}if(u.bindings=[],u.beforeRenderCallbacks=[],u.onUpdateEleCalcsFns=[],u.removeObserver&&u.removeObserver.disconnect(),u.styleObserver&&u.styleObserver.disconnect(),u.resizeObserver&&u.resizeObserver.disconnect(),u.labelCalcDiv)try{document.body.removeChild(u.labelCalcDiv)}catch{}},nr.isHeadless=function(){return!1},[wi,bt,Ut,jt,qt,Yt].forEach(function(u){In(nr,u)});var dr=1e3/60,Mi_setupDequeueing=function(o){return function(){var f=this,h=this.renderer;if(!f.dequeueingSetup){f.dequeueingSetup=!0;var p=O.default(function(){h.redrawHint("eles",!0),h.redrawHint("drag",!0),h.redraw()},o.deqRedrawThreshold);h.beforeRender(function(E,M){var P=Di(),z=h.averageRedrawTime,W=h.lastRedrawTime,j=[],q=h.cy.extent(),Q=h.getPixelRatio();for(E||h.flushRenderedStyleQueue();;){var re=Di(),de=re-P,fe=re-M;if(W<dr){if(fe>=o.deqFastCost*(dr-(E?z:0)))break}else if(E){if(de>=o.deqCost*W||de>=o.deqAvgCost*z)break}else if(fe>=o.deqNoDrawCost*dr)break;var Me=o.deq(f,Q,q);if(!(Me.length>0))break;for(var Ae=0;Ae<Me.length;Ae++)j.push(Me[Ae])}j.length>0&&(o.onDeqd(f,j),!E&&o.shouldRedraw(f,j,Q,q)&&p())},(o.priority||nd)(f))}}},_i=function(){function u(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ts;Y(this,u),this.idsByKey=new St,this.keyForId=new St,this.cachesByLvl=new St,this.lvls=[],this.getKey=o,this.doesEleInvalidateKey=l}return ce(u,[{key:"getIdsFor",value:function(l){null==l&&ni("Can not get id list for null key");var f=this.idsByKey,h=this.idsByKey.get(l);return h||(h=new Ms,f.set(l,h)),h}},{key:"addIdForKey",value:function(l,f){null!=l&&this.getIdsFor(l).add(f)}},{key:"deleteIdForKey",value:function(l,f){null!=l&&this.getIdsFor(l).delete(f)}},{key:"getNumberOfIdsForKey",value:function(l){return null==l?0:this.getIdsFor(l).size}},{key:"updateKeyMappingFor",value:function(l){var f=l.id(),h=this.keyForId.get(f),p=this.getKey(l);this.deleteIdForKey(h,f),this.addIdForKey(p,f),this.keyForId.set(f,p)}},{key:"deleteKeyMappingFor",value:function(l){var f=l.id(),h=this.keyForId.get(f);this.deleteIdForKey(h,f),this.keyForId.delete(f)}},{key:"keyHasChangedFor",value:function(l){var f=l.id();return this.keyForId.get(f)!==this.getKey(l)}},{key:"isInvalid",value:function(l){return this.keyHasChangedFor(l)||this.doesEleInvalidateKey(l)}},{key:"getCachesAt",value:function(l){var f=this.cachesByLvl,h=this.lvls,p=f.get(l);return p||(p=new St,f.set(l,p),h.push(l)),p}},{key:"getCache",value:function(l,f){return this.getCachesAt(f).get(l)}},{key:"get",value:function(l,f){var h=this.getKey(l),p=this.getCache(h,f);return null!=p&&this.updateKeyMappingFor(l),p}},{key:"getForCachedKey",value:function(l,f){var h=this.keyForId.get(l.id());return this.getCache(h,f)}},{key:"hasCache",value:function(l,f){return this.getCachesAt(f).has(l)}},{key:"has",value:function(l,f){var h=this.getKey(l);return this.hasCache(h,f)}},{key:"setCache",value:function(l,f,h){h.key=l,this.getCachesAt(f).set(l,h)}},{key:"set",value:function(l,f,h){var p=this.getKey(l);this.setCache(p,f,h),this.updateKeyMappingFor(l)}},{key:"deleteCache",value:function(l,f){this.getCachesAt(f).delete(l)}},{key:"delete",value:function(l,f){var h=this.getKey(l);this.deleteCache(h,f)}},{key:"invalidateKey",value:function(l){var f=this;this.lvls.forEach(function(h){return f.deleteCache(l,h)})}},{key:"invalidate",value:function(l){var f=l.id(),h=this.keyForId.get(f);this.deleteKeyMappingFor(l);var p=this.doesEleInvalidateKey(l);return p&&this.invalidateKey(h),p||0===this.getNumberOfIdsForKey(h)}}]),u}(),Ai={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Ic=si({getKey:null,doesEleInvalidateKey:Ts,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:ec,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),ns=function(o,l){var f=this;f.renderer=o,f.onDequeues=[];var h=Ic(l);In(f,h),f.lookup=new _i(h.getKey,h.doesEleInvalidateKey),f.setupDequeueing()},Jo=ns.prototype;Jo.reasons=Ai,Jo.getTextureQueue=function(u){var o=this;return o.eleImgCaches=o.eleImgCaches||{},o.eleImgCaches[u]=o.eleImgCaches[u]||[]},Jo.getRetiredTextureQueue=function(u){var l=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return l[u]=l[u]||[]},Jo.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new A.default(function(l,f){return f.reqs-l.reqs})},Jo.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Jo.getElement=function(u,o,l,f,h){var p=this,g=this.renderer,w=g.cy.zoom(),x=this.lookup;if(!o||0===o.w||0===o.h||isNaN(o.w)||isNaN(o.h)||!u.visible()||u.removed()||!p.allowEdgeTxrCaching&&u.isEdge()||!p.allowParentTxrCaching&&u.isParent())return null;if(null==f&&(f=Math.ceil(Bi(w*l))),f<-4)f=-4;else if(w>=7.99||f>3)return null;var E=Math.pow(2,f),M=o.h*E,P=o.w*E,z=g.eleTextBiggerThanMin(u,E);if(!this.isVisible(u,z))return null;var j,W=x.get(u,f);if(W&&W.invalidated&&(W.invalidated=!1,W.texture.invalidatedWidth-=W.width),W)return W;if(j=M<=25?25:M<=50?50:50*Math.ceil(M/50),M>1024||P>1024)return null;var q=p.getTextureQueue(j),Q=q[q.length-2],re=function(){return p.recycleTexture(j,P)||p.addTexture(j,P)};Q||(Q=q[q.length-1]),Q||(Q=re()),Q.width-Q.usedWidth<P&&(Q=re());for(var Ae,de=function(Ue){return Ue&&Ue.scaledLabelShown===z},fe=h&&h===Ai.dequeue,ve=h&&h===Ai.highQuality,Me=h&&h===Ai.downscale,ye=f+1;ye<=3;ye++){var Te=x.get(u,ye);if(Te){Ae=Te;break}}var we=Ae&&Ae.level===f+1?Ae:null,ke=function(){Q.context.drawImage(we.texture.canvas,we.x,0,we.width,we.height,Q.usedWidth,0,P,M)};if(Q.context.setTransform(1,0,0,1,0,0),Q.context.clearRect(Q.usedWidth,0,P,j),de(we))ke();else if(de(Ae)){if(!ve)return p.queueElement(u,Ae.level-1),Ae;for(var Pe=Ae.level;Pe>f;Pe--)we=p.getElement(u,o,l,Pe,Ai.downscale);ke()}else{var Ee;if(!fe&&!ve&&!Me)for(var He=f-1;He>=-4;He--){var Oe=x.get(u,He);if(Oe){Ee=Oe;break}}if(de(Ee))return p.queueElement(u,f),Ee;Q.context.translate(Q.usedWidth,0),Q.context.scale(E,E),this.drawElement(Q.context,u,o,z,!1),Q.context.scale(1/E,1/E),Q.context.translate(-Q.usedWidth,0)}return W={x:Q.usedWidth,texture:Q,level:f,scale:E,width:P,height:M,scaledLabelShown:z},Q.usedWidth+=Math.ceil(P+8),Q.eleCaches.push(W),x.set(u,f,W),p.checkTextureFullness(Q),W},Jo.invalidateElements=function(u){for(var o=0;o<u.length;o++)this.invalidateElement(u[o])},Jo.invalidateElement=function(u){var o=this,l=o.lookup,f=[];if(l.isInvalid(u)){for(var p=-4;p<=3;p++){var g=l.getForCachedKey(u,p);g&&f.push(g)}if(l.invalidate(u))for(var x=0;x<f.length;x++){var E=f[x],M=E.texture;M.invalidatedWidth+=E.width,E.invalidated=!0,o.checkTextureUtility(M)}o.removeFromQueue(u)}},Jo.checkTextureUtility=function(u){u.invalidatedWidth>=.2*u.width&&this.retireTexture(u)},Jo.checkTextureFullness=function(u){var l=this.getTextureQueue(u.height);u.usedWidth/u.width>.8&&u.fullnessChecks>=10?$a(l,u):u.fullnessChecks++},Jo.retireTexture=function(u){var l=u.height,f=this.getTextureQueue(l),h=this.lookup;$a(f,u),u.retired=!0;for(var p=u.eleCaches,g=0;g<p.length;g++){var w=p[g];h.deleteCache(w.key,w.level)}Ro(p),this.getRetiredTextureQueue(l).push(u)},Jo.addTexture=function(u,o){var h={};return this.getTextureQueue(u).push(h),h.eleCaches=[],h.height=u,h.width=Math.max(1024,o),h.usedWidth=0,h.invalidatedWidth=0,h.fullnessChecks=0,h.canvas=this.renderer.makeOffscreenCanvas(h.width,h.height),h.context=h.canvas.getContext("2d"),h},Jo.recycleTexture=function(u,o){for(var f=this.getTextureQueue(u),h=this.getRetiredTextureQueue(u),p=0;p<h.length;p++){var g=h[p];if(g.width>=o)return g.retired=!1,g.usedWidth=0,g.invalidatedWidth=0,g.fullnessChecks=0,Ro(g.eleCaches),g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(0,0,g.width,g.height),$a(h,g),f.push(g),g}},Jo.queueElement=function(u,o){var f=this.getElementQueue(),h=this.getElementKeyToQueue(),p=this.getKey(u),g=h[p];if(g)g.level=Math.max(g.level,o),g.eles.merge(u),g.reqs++,f.updateItem(g);else{var w={eles:u.spawn().merge(u),level:o,reqs:1,key:p};f.push(w),h[p]=w}},Jo.dequeue=function(u){for(var o=this,l=o.getElementQueue(),f=o.getElementKeyToQueue(),h=[],p=o.lookup,g=0;g<1&&l.size()>0;g++){var w=l.pop(),x=w.key,E=w.eles[0],M=p.hasCache(E,w.level);if(f[x]=null,!M){h.push(w);var P=o.getBoundingBox(E);o.getElement(E,P,u,w.level,Ai.dequeue)}}return h},Jo.removeFromQueue=function(u){var l=this.getElementQueue(),f=this.getElementKeyToQueue(),h=this.getKey(u),p=f[h];null!=p&&(1===p.eles.length?(p.reqs=Ju,l.updateItem(p),l.pop(),f[h]=null):p.eles.unmerge(u))},Jo.onDequeue=function(u){this.onDequeues.push(u)},Jo.offDequeue=function(u){$a(this.onDequeues,u)},Jo.setupDequeueing=Mi_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l,f){return o.dequeue(l,f)},onDeqd:function(o,l){for(var f=0;f<o.onDequeues.length;f++)(0,o.onDequeues[f])(l)},shouldRedraw:function(o,l,f,h){for(var p=0;p<l.length;p++)for(var g=l[p].eles,w=0;w<g.length;w++){var x=g[w].boundingBox();if(tr(x,h))return!0}return!1},priority:function(o){return o.renderer.beforeRenderPriorities.eleTxrDeq}});var lw=function(o){var l=this,f=l.renderer=o,h=f.cy;l.layersByLevel={},l.firstGet=!0,l.lastInvalidationTime=Di()-500,l.skipping=!1,l.eleTxrDeqs=h.collection(),l.scheduleElementRefinement=O.default(function(){l.refineElementTextures(l.eleTxrDeqs),l.eleTxrDeqs.unmerge(l.eleTxrDeqs)},50),f.beforeRender(function(g,w){l.skipping=w-l.lastInvalidationTime<=250},f.beforeRenderPriorities.lyrTxrSkip),l.layersQueue=new A.default(function(w,x){return x.reqs-w.reqs}),l.setupDequeueing()},_a=lw.prototype,by=0,uw=Math.pow(2,53)-1;_a.makeLayer=function(u,o){var l=Math.pow(2,o),f=Math.ceil(u.w*l),h=Math.ceil(u.h*l),p=this.renderer.makeOffscreenCanvas(f,h),g={id:by=++by%uw,bb:u,level:o,width:f,height:h,canvas:p,context:p.getContext("2d"),eles:[],elesQueue:[],reqs:0},w=g.context,x=-g.bb.x1,E=-g.bb.y1;return w.scale(l,l),w.translate(x,E),g},_a.getLayers=function(u,o,l){var f=this,g=f.renderer.cy.zoom(),w=f.firstGet;if(f.firstGet=!1,null==l)if((l=Math.ceil(Bi(g*o)))<-4)l=-4;else if(g>=3.99||l>2)return null;f.validateLayersElesOrdering(l,u);var P,W,x=f.layersByLevel,E=Math.pow(2,l),M=x[l]=x[l]||[];if(f.levelIsComplete(l,u))return M;!function(){var ke=function(Ke){if(f.validateLayersElesOrdering(Ke,u),f.levelIsComplete(Ke,u))return W=x[Ke],!0},Pe=function(Ke){if(!W)for(var Ue=l+Ke;-4<=Ue&&Ue<=2&&!ke(Ue);Ue+=Ke);};Pe(1),Pe(-1);for(var Ee=M.length-1;Ee>=0;Ee--){var He=M[Ee];He.invalid&&$a(M,He)}}();var Q=function(ke){var Pe=(ke=ke||{}).after;if(function(){if(!P){P=Si();for(var ke=0;ke<u.length;ke++)Hl(P,u[ke].boundingBox())}}(),P.w*E*(P.h*E)>16e6)return null;var He=f.makeLayer(P,l);if(null!=Pe){var Oe=M.indexOf(Pe)+1;M.splice(Oe,0,He)}else(void 0===ke.insert||ke.insert)&&M.unshift(He);return He};if(f.skipping&&!w)return null;for(var re=null,de=u.length/1,fe=!w,ve=0;ve<u.length;ve++){var Me=u[ve],Ae=Me._private.rscratch,ye=Ae.imgLayerCaches=Ae.imgLayerCaches||{},Te=ye[l];if(Te)re=Te;else{if((!re||re.eles.length>=de||!od(re.bb,Me.boundingBox()))&&!(re=Q({insert:!0,after:re})))return null;W||fe?f.queueLayer(re,Me):f.drawEleInLayer(re,Me,l,o),re.eles.push(Me),ye[l]=re}}return W||(fe?null:M)},_a.getEleLevelForLayerLevel=function(u,o){return u},_a.drawEleInLayer=function(u,o,l,f){var p=this.renderer,g=u.context,w=o.boundingBox();0===w.w||0===w.h||!o.visible()||(l=this.getEleLevelForLayerLevel(l,f),p.setImgSmoothing(g,!1),p.drawCachedElement(g,o,null,null,l,!0),p.setImgSmoothing(g,!0))},_a.levelIsComplete=function(u,o){var f=this.layersByLevel[u];if(!f||0===f.length)return!1;for(var h=0,p=0;p<f.length;p++){var g=f[p];if(g.reqs>0||g.invalid)return!1;h+=g.eles.length}return h===o.length},_a.validateLayersElesOrdering=function(u,o){var l=this.layersByLevel[u];if(l)for(var f=0;f<l.length;f++){for(var h=l[f],p=-1,g=0;g<o.length;g++)if(h.eles[0]===o[g]){p=g;break}if(p<0)this.invalidateLayer(h);else{var w=p;for(g=0;g<h.eles.length;g++)if(h.eles[g]!==o[w+g]){this.invalidateLayer(h);break}}}},_a.updateElementsInLayers=function(u,o){for(var f=mn(u[0]),h=0;h<u.length;h++)for(var p=f?null:u[h],g=f?u[h]:u[h].ele,w=g._private.rscratch,x=w.imgLayerCaches=w.imgLayerCaches||{},E=-4;E<=2;E++){var M=x[E];M&&(p&&this.getEleLevelForLayerLevel(M.level)!==p.level||o(M,g,p))}},_a.haveLayers=function(){for(var o=!1,l=-4;l<=2;l++){var f=this.layersByLevel[l];if(f&&f.length>0){o=!0;break}}return o},_a.invalidateElements=function(u){var o=this;0!==u.length&&(o.lastInvalidationTime=Di(),0!==u.length&&o.haveLayers()&&o.updateElementsInLayers(u,function(f,h,p){o.invalidateLayer(f)}))},_a.invalidateLayer=function(u){if(this.lastInvalidationTime=Di(),!u.invalid){var o=u.level,l=u.eles;$a(this.layersByLevel[o],u),u.elesQueue=[],u.invalid=!0,u.replacement&&(u.replacement.invalid=!0);for(var h=0;h<l.length;h++){var p=l[h]._private.rscratch.imgLayerCaches;p&&(p[o]=null)}}},_a.refineElementTextures=function(u){var o=this;o.updateElementsInLayers(u,function(f,h,p){var g=f.replacement;if(g||((g=f.replacement=o.makeLayer(f.bb,f.level)).replaces=f,g.eles=f.eles),!g.reqs)for(var w=0;w<g.eles.length;w++)o.queueLayer(g,g.eles[w])})},_a.enqueueElementRefinement=function(u){this.eleTxrDeqs.merge(u),this.scheduleElementRefinement()},_a.queueLayer=function(u,o){var f=this.layersQueue,h=u.elesQueue,p=h.hasId=h.hasId||{};if(!u.replacement){if(o){if(p[o.id()])return;h.push(o),p[o.id()]=!0}u.reqs?(u.reqs++,f.updateItem(u)):(u.reqs=1,f.push(u))}},_a.dequeue=function(u){for(var o=this,l=o.layersQueue,f=[],h=0;h<1&&0!==l.size();){var p=l.peek();if(p.replacement)l.pop();else if(p.replaces&&p!==p.replaces.replacement)l.pop();else if(p.invalid)l.pop();else{var g=p.elesQueue.shift();g&&(o.drawEleInLayer(p,g,p.level,u),h++),0===f.length&&f.push(!0),0===p.elesQueue.length&&(l.pop(),p.reqs=0,p.replaces&&o.applyLayerReplacement(p),o.requestRedraw())}}return f},_a.applyLayerReplacement=function(u){var l=this.layersByLevel[u.level],f=u.replaces,h=l.indexOf(f);if(!(h<0||f.invalid)){l[h]=u;for(var p=0;p<u.eles.length;p++){var g=u.eles[p]._private,w=g.imgLayerCaches=g.imgLayerCaches||{};w&&(w[u.level]=u)}this.requestRedraw()}},_a.requestRedraw=O.default(function(){var u=this.renderer;u.redrawHint("eles",!0),u.redrawHint("drag",!0),u.redraw()},100),_a.setupDequeueing=Mi_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,l){return o.dequeue(l)},onDeqd:nd,shouldRedraw:ec,priority:function(o){return o.renderer.beforeRenderPriorities.lyrTxrDeq}});var bm,Uh={};function cw(u,o){for(var l=0;l<o.length;l++){var f=o[l];u.lineTo(f.x,f.y)}}function wy(u,o,l){for(var f,h=0;h<o.length;h++){var p=o[h];0===h&&(f=p),u.lineTo(p.x,p.y)}u.quadraticCurveTo(l.x,l.y,f.x,f.y)}function dw(u,o,l){u.beginPath&&u.beginPath();for(var f=o,h=0;h<f.length;h++)u.lineTo((p=f[h]).x,p.y);var g=l,w=l[0];for(u.moveTo(w.x,w.y),h=1;h<g.length;h++){var p;u.lineTo((p=g[h]).x,p.y)}u.closePath&&u.closePath()}function _y(u,o,l,f,h){u.beginPath&&u.beginPath(),u.arc(l,f,h,0,2*Math.PI,!1);var p=o,g=p[0];u.moveTo(g.x,g.y);for(var w=0;w<p.length;w++){var x=p[w];u.lineTo(x.x,x.y)}u.closePath&&u.closePath()}function Yx(u,o,l,f){u.arc(o,l,f,0,2*Math.PI,!1)}Uh.arrowShapeImpl=function(u){return(bm||(bm={polygon:cw,"triangle-backcurve":wy,"triangle-tee":dw,"circle-triangle":_y,"triangle-cross":dw,circle:Yx}))[u]};var iu={drawElement:function(u,o,l,f,h,p){o.isNode()?this.drawNode(u,o,l,f,h,p):this.drawEdge(u,o,l,f,h,p)},drawElementOverlay:function(u,o){o.isNode()?this.drawNodeOverlay(u,o):this.drawEdgeOverlay(u,o)},drawElementUnderlay:function(u,o){o.isNode()?this.drawNodeUnderlay(u,o):this.drawEdgeUnderlay(u,o)},drawCachedElementPortion:function(u,o,l,f,h,p,g,w){var x=this,E=l.getBoundingBox(o);if(0!==E.w&&0!==E.h){var M=l.getElement(o,E,f,h,p);if(null!=M){var P=w(x,o);if(0===P)return;var re,de,fe,ve,Me,Te,z=g(x,o),W=E.x1,j=E.y1,q=E.w,Q=E.h;if(0!==z){var Ae=l.getRotationPoint(o);u.translate(fe=Ae.x,ve=Ae.y),u.rotate(z),(Me=x.getImgSmoothing(u))||x.setImgSmoothing(u,!0);var ye=l.getRotationOffset(o);re=ye.x,de=ye.y}else re=W,de=j;1!==P&&(u.globalAlpha=(Te=u.globalAlpha)*P),u.drawImage(M.texture.canvas,M.x,0,M.width,M.height,re,de,q,Q),1!==P&&(u.globalAlpha=Te),0!==z&&(u.rotate(-z),u.translate(-fe,-ve),Me||x.setImgSmoothing(u,!1))}else l.drawElement(u,o)}}},fw=function(){return 0},wm=function(o,l){return o.getTextAngle(l,null)},Xx=function(o,l){return o.getTextAngle(l,"source")},Kx=function(o,l){return o.getTextAngle(l,"target")},_m=function(o,l){return l.effectiveOpacity()},Cy=function(o,l){return l.pstyle("text-opacity").pfValue*l.effectiveOpacity()};iu.drawCachedElement=function(u,o,l,f,h,p){var g=this,w=g.data,x=w.eleTxrCache,E=w.lblTxrCache,M=w.slbTxrCache,P=w.tlbTxrCache,z=o.boundingBox(),W=!0===p?x.reasons.highQuality:null;if(0!==z.w&&0!==z.h&&o.visible()&&(!f||tr(z,f))){var j=o.isEdge(),q=o.element()._private.rscratch.badLine;g.drawElementUnderlay(u,o),g.drawCachedElementPortion(u,o,x,l,h,W,fw,_m),(!j||!q)&&g.drawCachedElementPortion(u,o,E,l,h,W,wm,Cy),j&&!q&&(g.drawCachedElementPortion(u,o,M,l,h,W,Xx,Cy),g.drawCachedElementPortion(u,o,P,l,h,W,Kx,Cy)),g.drawElementOverlay(u,o)}},iu.drawElements=function(u,o){for(var f=0;f<o.length;f++)this.drawElement(u,o[f])},iu.drawCachedElements=function(u,o,l,f){for(var p=0;p<o.length;p++)this.drawCachedElement(u,o[p],l,f)},iu.drawCachedNodes=function(u,o,l,f){for(var p=0;p<o.length;p++){var g=o[p];g.isNode()&&this.drawCachedElement(u,g,l,f)}},iu.drawLayeredElements=function(u,o,l,f){var p=this.data.lyrTxrCache.getLayers(o,l);if(p)for(var g=0;g<p.length;g++){var w=p[g],x=w.bb;0===x.w||0===x.h||u.drawImage(w.canvas,x.x1,x.y1,x.w,x.h)}else this.drawCachedElements(u,o,l,f)};var Ac={drawEdge:function(u,o,l){var f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,w=o._private.rscratch;if((!p||o.visible())&&!w.badLine&&null!=w.allpts&&!isNaN(w.allpts[0])){var x;l&&u.translate(-(x=l).x1,-x.y1);var E=p?o.pstyle("opacity").value:1,M=p?o.pstyle("line-opacity").value:1,P=o.pstyle("curve-style").value,z=o.pstyle("line-style").value,W=o.pstyle("width").pfValue,j=o.pstyle("line-cap").value,q=E*M,Q=E*M,re=function(){var Ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;"straight-triangle"===P?(g.eleStrokeStyle(u,o,Ee),g.drawEdgeTrianglePath(o,u,w.allpts)):(u.lineWidth=W,u.lineCap=j,g.eleStrokeStyle(u,o,Ee),g.drawEdgePath(o,u,w.allpts,z),u.lineCap="butt")},ve=function(){g.drawArrowheads(u,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q)};if(u.lineJoin="round","yes"===o.pstyle("ghost").value){var ye=o.pstyle("ghost-offset-x").pfValue,Te=o.pstyle("ghost-offset-y").pfValue,we=o.pstyle("ghost-opacity").value,ke=q*we;u.translate(ye,Te),re(ke),ve(ke),u.translate(-ye,-Te)}h&&g.drawEdgeUnderlay(u,o),re(),ve(),h&&g.drawEdgeOverlay(u,o),g.drawElementText(u,o,null,f),l&&u.translate(x.x1,x.y1)}}},hw=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,f){if(f.visible()){var h=f.pstyle("".concat(o,"-opacity")).value;if(0!==h){var p=this,g=p.usePaths(),w=f._private.rscratch,E=2*f.pstyle("".concat(o,"-padding")).pfValue,M=f.pstyle("".concat(o,"-color")).value;l.lineWidth=E,l.lineCap="self"!==w.edgeType||g?"round":"butt",p.colorStrokeStyle(l,M[0],M[1],M[2],h),p.drawEdgePath(f,l,w.allpts,"solid")}}}};Ac.drawEdgeOverlay=hw("overlay"),Ac.drawEdgeUnderlay=hw("underlay"),Ac.drawEdgePath=function(u,o,l,f){var g,h=u._private.rscratch,p=o,w=!1,x=this.usePaths(),E=u.pstyle("line-dash-pattern").pfValue,M=u.pstyle("line-dash-offset").pfValue;if(x){var P=l.join("$");h.pathCacheKey&&h.pathCacheKey===P?(g=o=h.pathCache,w=!0):(g=o=new Path2D,h.pathCacheKey=P,h.pathCache=g)}if(p.setLineDash)switch(f){case"dotted":p.setLineDash([1,1]);break;case"dashed":p.setLineDash(E),p.lineDashOffset=M;break;case"solid":p.setLineDash([])}if(!w&&!h.badLine)switch(o.beginPath&&o.beginPath(),o.moveTo(l[0],l[1]),h.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var W=2;W+3<l.length;W+=4)o.quadraticCurveTo(l[W],l[W+1],l[W+2],l[W+3]);break;case"straight":case"segments":case"haystack":for(var j=2;j+1<l.length;j+=2)o.lineTo(l[j],l[j+1])}o=p,x?o.stroke(g):o.stroke(),o.setLineDash&&o.setLineDash([])},Ac.drawEdgeTrianglePath=function(u,o,l){o.fillStyle=o.strokeStyle;for(var f=u.pstyle("width").pfValue,h=0;h+1<l.length;h+=2){var p=[l[h+2]-l[h],l[h+3]-l[h+1]],g=Math.sqrt(p[0]*p[0]+p[1]*p[1]),w=[p[1]/g,-p[0]/g],x=[w[0]*f/2,w[1]*f/2];o.beginPath(),o.moveTo(l[h]-x[0],l[h+1]-x[1]),o.lineTo(l[h]+x[0],l[h+1]+x[1]),o.lineTo(l[h+2],l[h+3]),o.closePath(),o.fill()}},Ac.drawArrowheads=function(u,o,l){var f=o._private.rscratch,h="haystack"===f.edgeType;h||this.drawArrowhead(u,o,"source",f.arrowStartX,f.arrowStartY,f.srcArrowAngle,l),this.drawArrowhead(u,o,"mid-target",f.midX,f.midY,f.midtgtArrowAngle,l),this.drawArrowhead(u,o,"mid-source",f.midX,f.midY,f.midsrcArrowAngle,l),h||this.drawArrowhead(u,o,"target",f.arrowEndX,f.arrowEndY,f.tgtArrowAngle,l)},Ac.drawArrowhead=function(u,o,l,f,h,p,g){if(!(isNaN(f)||null==f||isNaN(h)||null==h||isNaN(p)||null==p)){var w=this,x=o.pstyle(l+"-arrow-shape").value;if("none"!==x){var E="hollow"===o.pstyle(l+"-arrow-fill").value?"both":"filled",M=o.pstyle(l+"-arrow-fill").value,P=o.pstyle("width").pfValue,z=o.pstyle("opacity").value;void 0===g&&(g=z);var W=u.globalCompositeOperation;(1!==g||"hollow"===M)&&(u.globalCompositeOperation="destination-out",w.colorFillStyle(u,255,255,255,1),w.colorStrokeStyle(u,255,255,255,1),w.drawArrowShape(o,u,E,P,x,f,h,p),u.globalCompositeOperation=W);var j=o.pstyle(l+"-arrow-color").value;w.colorFillStyle(u,j[0],j[1],j[2],g),w.colorStrokeStyle(u,j[0],j[1],j[2],g),w.drawArrowShape(o,u,M,P,x,f,h,p)}}},Ac.drawArrowShape=function(u,o,l,f,h,p,g,w){var P,x=this,E=this.usePaths()&&"triangle-cross"!==h,M=!1,z=o,W={x:p,y:g},j=u.pstyle("arrow-scale").value,q=this.getArrowWidth(f,j),Q=x.arrowShapes[h];if(E){var re=x.arrowPathCache=x.arrowPathCache||[],de=as(h),fe=re[de];null!=fe?(P=o=fe,M=!0):(P=o=new Path2D,re[de]=P)}M||(o.beginPath&&o.beginPath(),E?Q.draw(o,1,0,{x:0,y:0},1):Q.draw(o,q,w,W,f),o.closePath&&o.closePath()),o=z,E&&(o.translate(p,g),o.rotate(w),o.scale(q,q)),("filled"===l||"both"===l)&&(E?o.fill(P):o.fill()),("hollow"===l||"both"===l)&&(o.lineWidth=(Q.matchEdgeWidth?f:1)/(E?q:1),o.lineJoin="miter",E?o.stroke(P):o.stroke()),E&&(o.scale(1/q,1/q),o.rotate(-w),o.translate(-p,-g))};var Ey={safeDrawImage:function(u,o,l,f,h,p,g,w,x,E){if(!(h<=0||p<=0||x<=0||E<=0))try{u.drawImage(o,l,f,h,p,g,w,x,E)}catch(M){Sr(M)}},drawInscribedImage:function(u,o,l,f,h){var p=this,g=l.position(),w=g.x,x=g.y,E=l.cy().style(),M=E.getIndexedStyle.bind(E),P=M(l,"background-fit","value",f),z=M(l,"background-repeat","value",f),W=l.width(),j=l.height(),q=2*l.padding(),Q=W+("inner"===M(l,"background-width-relative-to","value",f)?0:q),re=j+("inner"===M(l,"background-height-relative-to","value",f)?0:q),de=l._private.rscratch,ve="node"===M(l,"background-clip","value",f),Me=M(l,"background-image-opacity","value",f)*h,Ae=M(l,"background-image-smoothing","value",f),ye=o.width||o.cachedW,Te=o.height||o.cachedH;(null==ye||null==Te)&&(document.body.appendChild(o),ye=o.cachedW=o.width||o.offsetWidth,Te=o.cachedH=o.height||o.offsetHeight,document.body.removeChild(o));var we=ye,ke=Te;if("auto"!==M(l,"background-width","value",f)&&(we="%"===M(l,"background-width","units",f)?M(l,"background-width","pfValue",f)*Q:M(l,"background-width","pfValue",f)),"auto"!==M(l,"background-height","value",f)&&(ke="%"===M(l,"background-height","units",f)?M(l,"background-height","pfValue",f)*re:M(l,"background-height","pfValue",f)),0!==we&&0!==ke){if("contain"===P)we*=Pe=Math.min(Q/we,re/ke),ke*=Pe;else if("cover"===P){var Pe;we*=Pe=Math.max(Q/we,re/ke),ke*=Pe}var Ee=w-Q/2,He=M(l,"background-position-x","units",f),Oe=M(l,"background-position-x","pfValue",f);Ee+="%"===He?(Q-we)*Oe:Oe;var Ke=M(l,"background-offset-x","units",f),Ue=M(l,"background-offset-x","pfValue",f);Ee+="%"===Ke?(Q-we)*Ue:Ue;var Ge=x-re/2,rt=M(l,"background-position-y","units",f),ct=M(l,"background-position-y","pfValue",f);Ge+="%"===rt?(re-ke)*ct:ct;var vt=M(l,"background-offset-y","units",f),at=M(l,"background-offset-y","pfValue",f);Ge+="%"===vt?(re-ke)*at:at,de.pathCache&&(Ee-=w,Ge-=x,w=0,x=0);var mt=u.globalAlpha;u.globalAlpha=Me;var It=p.getImgSmoothing(u),At=!1;if("no"===Ae&&It?(p.setImgSmoothing(u,!1),At=!0):"yes"===Ae&&!It&&(p.setImgSmoothing(u,!0),At=!0),"no-repeat"===z)ve&&(u.save(),de.pathCache?u.clip(de.pathCache):(p.nodeShapes[p.getNodeShape(l)].draw(u,w,x,Q,re),u.clip())),p.safeDrawImage(u,o,0,0,ye,Te,Ee,Ge,we,ke),ve&&u.restore();else{var xt=u.createPattern(o,z);u.fillStyle=xt,p.nodeShapes[p.getNodeShape(l)].draw(u,w,x,Q,re),u.translate(Ee,Ge),u.fill(),u.translate(-Ee,-Ge)}u.globalAlpha=mt,At&&p.setImgSmoothing(u,It)}}},Hf={eleTextBiggerThanMin:function(u,o){if(!o){var l=u.cy().zoom(),f=this.getPixelRatio(),h=Math.ceil(Bi(l*f));o=Math.pow(2,h)}return!(u.pstyle("font-size").pfValue*o<u.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(u,o,l,f,h){var p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this;if(null==f){if(p&&!g.eleTextBiggerThanMin(o))return}else if(!1===f)return;if(o.isNode()){var w=o.pstyle("label");if(!w||!w.value)return;var x=g.getLabelJustification(o);u.textAlign=x,u.textBaseline="bottom"}else{var E=o.element()._private.rscratch.badLine,M=o.pstyle("label"),P=o.pstyle("source-label"),z=o.pstyle("target-label");if(E||(!M||!M.value)&&(!P||!P.value)&&(!z||!z.value))return;u.textAlign="center",u.textBaseline="bottom"}var j,W=!l;l&&u.translate(-(j=l).x1,-j.y1),null==h?(g.drawText(u,o,null,W,p),o.isEdge()&&(g.drawText(u,o,"source",W,p),g.drawText(u,o,"target",W,p))):g.drawText(u,o,h,W,p),l&&u.translate(j.x1,j.y1)},getFontCache:function(u){var o;this.fontCaches=this.fontCaches||[];for(var l=0;l<this.fontCaches.length;l++)if((o=this.fontCaches[l]).context===u)return o;return this.fontCaches.push(o={context:u}),o},setupTextStyle:function(u,o){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=o.pstyle("font-style").strValue,h=o.pstyle("font-size").pfValue+"px",p=o.pstyle("font-family").strValue,g=o.pstyle("font-weight").strValue,w=l?o.effectiveOpacity()*o.pstyle("text-opacity").value:1,x=o.pstyle("text-outline-opacity").value*w,E=o.pstyle("color").value,M=o.pstyle("text-outline-color").value;u.font=f+" "+g+" "+h+" "+p,u.lineJoin="round",this.colorFillStyle(u,E[0],E[1],E[2],w),this.colorStrokeStyle(u,M[0],M[1],M[2],x)},getTextAngle:function(u,o){var h=u._private.rscratch,g=u.pstyle((o?o+"-":"")+"text-rotation"),w=qi(h,"labelAngle",o);return"autorotate"===g.strValue?u.isEdge()?w:0:"none"===g.strValue?0:g.pfValue},drawText:function(u,o,l){var f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=o._private.rscratch,w=h?o.effectiveOpacity():1;if(!h||0!==w&&0!==o.pstyle("text-opacity").value){"main"===l&&(l=null);var M,P,x=qi(g,"labelX",l),E=qi(g,"labelY",l),z=this.getLabelText(o,l);if(null!=z&&""!==z&&!isNaN(x)&&!isNaN(E)){this.setupTextStyle(u,o,h);var Me,W=l?l+"-":"",j=qi(g,"labelWidth",l),q=qi(g,"labelHeight",l),Q=o.pstyle(W+"text-margin-x").pfValue,re=o.pstyle(W+"text-margin-y").pfValue,de=o.isEdge(),fe=o.pstyle("text-halign").value,ve=o.pstyle("text-valign").value;switch(de&&(fe="center",ve="center"),x+=Q,E+=re,0!==(Me=f?this.getTextAngle(o,l):0)&&(u.translate(M=x,P=E),u.rotate(Me),x=0,E=0),ve){case"top":break;case"center":E+=q/2;break;case"bottom":E+=q}var Ae=o.pstyle("text-background-opacity").value,ye=o.pstyle("text-border-opacity").value,Te=o.pstyle("text-border-width").pfValue,we=o.pstyle("text-background-padding").pfValue;if(Ae>0||Te>0&&ye>0){var ke=x-we;switch(fe){case"left":ke-=j;break;case"center":ke-=j/2}var Pe=E-q-we,Ee=j+2*we,He=q+2*we;if(Ae>0){var Oe=u.fillStyle,Ke=o.pstyle("text-background-color").value;u.fillStyle="rgba("+Ke[0]+","+Ke[1]+","+Ke[2]+","+Ae*w+")",0===o.pstyle("text-background-shape").strValue.indexOf("round")?function pw(u,o,l,f,h){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;u.beginPath(),u.moveTo(o+p,l),u.lineTo(o+f-p,l),u.quadraticCurveTo(o+f,l,o+f,l+p),u.lineTo(o+f,l+h-p),u.quadraticCurveTo(o+f,l+h,o+f-p,l+h),u.lineTo(o+p,l+h),u.quadraticCurveTo(o,l+h,o,l+h-p),u.lineTo(o,l+p),u.quadraticCurveTo(o,l,o+p,l),u.closePath(),u.fill()}(u,ke,Pe,Ee,He,2):u.fillRect(ke,Pe,Ee,He),u.fillStyle=Oe}if(Te>0&&ye>0){var Ge=u.strokeStyle,rt=u.lineWidth,ct=o.pstyle("text-border-color").value,vt=o.pstyle("text-border-style").value;if(u.strokeStyle="rgba("+ct[0]+","+ct[1]+","+ct[2]+","+ye*w+")",u.lineWidth=Te,u.setLineDash)switch(vt){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash([4,2]);break;case"double":u.lineWidth=Te/4,u.setLineDash([]);break;case"solid":u.setLineDash([])}if(u.strokeRect(ke,Pe,Ee,He),"double"===vt){var at=Te/2;u.strokeRect(ke+at,Pe+at,Ee-2*at,He-2*at)}u.setLineDash&&u.setLineDash([]),u.lineWidth=rt,u.strokeStyle=Ge}}var mt=2*o.pstyle("text-outline-width").pfValue;if(mt>0&&(u.lineWidth=mt),"wrap"===o.pstyle("text-wrap").value){var It=qi(g,"labelWrapCachedLines",l),At=qi(g,"labelLineHeight",l),xt=j/2,wt=this.getLabelJustification(o);switch("auto"===wt||("left"===fe?"left"===wt?x+=-j:"center"===wt&&(x+=-xt):"center"===fe?"left"===wt?x+=-xt:"right"===wt&&(x+=xt):"right"===fe&&("center"===wt?x+=xt:"right"===wt&&(x+=j))),ve){case"top":case"center":case"bottom":E-=(It.length-1)*At}for(var Je=0;Je<It.length;Je++)mt>0&&u.strokeText(It[Je],x,E),u.fillText(It[Je],x,E),E+=At}else mt>0&&u.strokeText(z,x,E),u.fillText(z,x,E);0!==Me&&(u.rotate(-Me),u.translate(-M,-P))}}}},Lu={drawNode:function(u,o,l){var w,x,f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,E=o._private,M=E.rscratch,P=o.position();if(Xe(P.x)&&Xe(P.y)&&(!p||o.visible())){var j,re,z=p?o.effectiveOpacity():1,W=g.usePaths(),q=!1,Q=o.padding();w=o.width()+2*Q,x=o.height()+2*Q,l&&u.translate(-(re=l).x1,-re.y1);for(var fe=o.pstyle("background-image").value,ve=new Array(fe.length),Me=new Array(fe.length),Ae=0,ye=0;ye<fe.length;ye++){var Te=fe[ye];if(ve[ye]=null!=Te&&"none"!==Te){var ke=o.cy().style().getIndexedStyle(o,"background-image-crossorigin","value",ye);Ae++,Me[ye]=g.getCachedImage(Te,ke,function(){E.backgroundTimestamp=Date.now(),o.emitAndNotify("background")})}}var Pe=o.pstyle("background-blacken").value,Ee=o.pstyle("border-width").pfValue,He=o.pstyle("background-opacity").value*z,Oe=o.pstyle("border-color").value,Ke=o.pstyle("border-style").value,Ue=o.pstyle("border-opacity").value*z;u.lineJoin="miter";var Ge=function(){g.eleFillStyle(u,o,arguments.length>0&&void 0!==arguments[0]?arguments[0]:He)},rt=function(){g.colorStrokeStyle(u,Oe[0],Oe[1],Oe[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue)},ct=o.pstyle("shape").strValue,vt=o.pstyle("shape-polygon-points").pfValue;if(W){u.translate(P.x,P.y);var at=g.nodePathCache=g.nodePathCache||[],mt=ed("polygon"===ct?ct+","+vt.join(","):ct,""+x,""+w),It=at[mt];null!=It?(q=!0,M.pathCache=j=It):(j=new Path2D,at[mt]=M.pathCache=j)}var At=function(){if(!q){var sn=P;W&&(sn={x:0,y:0}),g.nodeShapes[g.getNodeShape(o)].draw(j||u,sn.x,sn.y,w,x)}W?u.fill(j):u.fill()},xt=function(){for(var sn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,An=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Ar=E.backgrounding,fr=0,jn=0;jn<Me.length;jn++){var zt=o.cy().style().getIndexedStyle(o,"background-image-containment","value",jn);An&&"over"===zt||!An&&"inside"===zt?fr++:ve[jn]&&Me[jn].complete&&!Me[jn].error&&(fr++,g.drawInscribedImage(u,Me[jn],o,jn,sn))}E.backgrounding=fr!==Ae,Ar!==E.backgrounding&&o.updateStyle(!1)},wt=function(){var sn=arguments.length>0&&void 0!==arguments[0]&&arguments[0],An=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;g.hasPie(o)&&(g.drawPie(u,o,An),sn&&(W||g.nodeShapes[g.getNodeShape(o)].draw(u,P.x,P.y,w,x)))},Je=function(){var Ar=Pe>0?0:255;0!==Pe&&(g.colorFillStyle(u,Ar,Ar,Ar,(Pe>0?Pe:-Pe)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:z)),W?u.fill(j):u.fill())},Tt=function(){if(Ee>0){if(u.lineWidth=Ee,u.lineCap="butt",u.setLineDash)switch(Ke){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash([4,2]);break;case"solid":case"double":u.setLineDash([])}if(W?u.stroke(j):u.stroke(),"double"===Ke){u.lineWidth=Ee/3;var sn=u.globalCompositeOperation;u.globalCompositeOperation="destination-out",W?u.stroke(j):u.stroke(),u.globalCompositeOperation=sn}u.setLineDash&&u.setLineDash([])}};if("yes"===o.pstyle("ghost").value){var ar=o.pstyle("ghost-offset-x").pfValue,on=o.pstyle("ghost-offset-y").pfValue,Qt=o.pstyle("ghost-opacity").value,On=Qt*z;u.translate(ar,on),Ge(Qt*He),At(),xt(On,!0),rt(Qt*Ue),Tt(),wt(0!==Pe||0!==Ee),xt(On,!1),Je(On),u.translate(-ar,-on)}W&&u.translate(-P.x,-P.y),h&&g.drawNodeUnderlay(u,o,P,w,x),W&&u.translate(P.x,P.y),Ge(),At(),xt(z,!0),rt(),Tt(),wt(0!==Pe||0!==Ee),xt(z,!1),Je(),W&&u.translate(-P.x,-P.y),g.drawElementText(u,o,null,f),h&&g.drawNodeOverlay(u,o,P,w,x),l&&u.translate(re.x1,re.y1)}}},Kp=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(l,f,h,p,g){if(f.visible()){var x=f.pstyle("".concat(o,"-padding")).pfValue,E=f.pstyle("".concat(o,"-opacity")).value,M=f.pstyle("".concat(o,"-color")).value,P=f.pstyle("".concat(o,"-shape")).value;if(E>0){if(h=h||f.position(),null==p||null==g){var z=f.padding();p=f.width()+2*z,g=f.height()+2*z}this.colorFillStyle(l,M[0],M[1],M[2],E),this.nodeShapes[P].draw(l,h.x,h.y,p+2*x,g+2*x),l.fill()}}}};Lu.drawNodeOverlay=Kp("overlay"),Lu.drawNodeUnderlay=Kp("underlay"),Lu.hasPie=function(u){return(u=u[0])._private.hasPie},Lu.drawPie=function(u,o,l,f){o=o[0],f=f||o.position();var h=o.cy().style(),p=o.pstyle("pie-size"),g=f.x,w=f.y,x=o.width(),E=o.height(),M=Math.min(x,E)/2,P=0;this.usePaths()&&(g=0,w=0),"%"===p.units?M*=p.pfValue:void 0!==p.pfValue&&(M=p.pfValue/2);for(var W=1;W<=h.pieBackgroundN;W++){var j=o.pstyle("pie-"+W+"-background-size").value,q=o.pstyle("pie-"+W+"-background-color").value,Q=o.pstyle("pie-"+W+"-background-opacity").value*l,re=j/100;re+P>1&&(re=1-P);var de=1.5*Math.PI+2*Math.PI*P,ve=de+2*Math.PI*re;0===j||P>=1||P+re>1||(u.beginPath(),u.moveTo(g,w),u.arc(g,w,M,de,ve),u.closePath(),this.colorFillStyle(u,q[0],q[1],q[2],Q),u.fill(),P+=re)}};for(var bs={getPixelRatio:function(){var u=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(u.backingStorePixelRatio||u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1)},paintCache:function(u){for(var f,o=this.paintCaches=this.paintCaches||[],l=!0,h=0;h<o.length;h++)if((f=o[h]).context===u){l=!1;break}return l&&o.push(f={context:u}),f},createGradientStyleFor:function(u,o,l,f,h){var p,g=this.usePaths(),w=l.pstyle(o+"-gradient-stop-colors").value,x=l.pstyle(o+"-gradient-stop-positions").pfValue;if("radial-gradient"===f)if(l.isEdge()){var E=l.sourceEndpoint(),M=l.targetEndpoint(),P=l.midpoint(),z=Vi(E,P),W=Vi(M,P);p=u.createRadialGradient(P.x,P.y,0,P.x,P.y,Math.max(z,W))}else{var j=g?{x:0,y:0}:l.position(),q=l.paddedWidth(),Q=l.paddedHeight();p=u.createRadialGradient(j.x,j.y,0,j.x,j.y,Math.max(q,Q))}else if(l.isEdge()){var re=l.sourceEndpoint(),de=l.targetEndpoint();p=u.createLinearGradient(re.x,re.y,de.x,de.y)}else{var fe=g?{x:0,y:0}:l.position(),Ae=l.paddedWidth()/2,ye=l.paddedHeight()/2;switch(l.pstyle("background-gradient-direction").value){case"to-bottom":p=u.createLinearGradient(fe.x,fe.y-ye,fe.x,fe.y+ye);break;case"to-top":p=u.createLinearGradient(fe.x,fe.y+ye,fe.x,fe.y-ye);break;case"to-left":p=u.createLinearGradient(fe.x+Ae,fe.y,fe.x-Ae,fe.y);break;case"to-right":p=u.createLinearGradient(fe.x-Ae,fe.y,fe.x+Ae,fe.y);break;case"to-bottom-right":case"to-right-bottom":p=u.createLinearGradient(fe.x-Ae,fe.y-ye,fe.x+Ae,fe.y+ye);break;case"to-top-right":case"to-right-top":p=u.createLinearGradient(fe.x-Ae,fe.y+ye,fe.x+Ae,fe.y-ye);break;case"to-bottom-left":case"to-left-bottom":p=u.createLinearGradient(fe.x+Ae,fe.y-ye,fe.x-Ae,fe.y+ye);break;case"to-top-left":case"to-left-top":p=u.createLinearGradient(fe.x+Ae,fe.y+ye,fe.x-Ae,fe.y-ye)}}if(!p)return null;for(var we=x.length===w.length,ke=w.length,Pe=0;Pe<ke;Pe++)p.addColorStop(we?x[Pe]:Pe/(ke-1),"rgba("+w[Pe][0]+","+w[Pe][1]+","+w[Pe][2]+","+h+")");return p},gradientFillStyle:function(u,o,l,f){var h=this.createGradientStyleFor(u,"background",o,l,f);if(!h)return null;u.fillStyle=h},colorFillStyle:function(u,o,l,f,h){u.fillStyle="rgba("+o+","+l+","+f+","+h+")"},eleFillStyle:function(u,o,l){var f=o.pstyle("background-fill").value;if("linear-gradient"===f||"radial-gradient"===f)this.gradientFillStyle(u,o,f,l);else{var h=o.pstyle("background-color").value;this.colorFillStyle(u,h[0],h[1],h[2],l)}},gradientStrokeStyle:function(u,o,l,f){var h=this.createGradientStyleFor(u,"line",o,l,f);if(!h)return null;u.strokeStyle=h},colorStrokeStyle:function(u,o,l,f,h){u.strokeStyle="rgba("+o+","+l+","+f+","+h+")"},eleStrokeStyle:function(u,o,l){var f=o.pstyle("line-fill").value;if("linear-gradient"===f||"radial-gradient"===f)this.gradientStrokeStyle(u,o,f,l);else{var h=o.pstyle("line-color").value;this.colorStrokeStyle(u,h[0],h[1],h[2],l)}},matchCanvasSize:function(u){var o=this,l=o.data,f=o.findContainerClientCoords(),h=f[2],p=f[3],g=o.getPixelRatio();(u===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE]||u===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG])&&(g=o.motionBlurPxRatio);var M,x=h*g,E=p*g;if(x!==o.canvasWidth||E!==o.canvasHeight){o.fontCaches=null;var P=l.canvasContainer;P.style.width=h+"px",P.style.height=p+"px";for(var z=0;z<o.CANVAS_LAYERS;z++)(M=l.canvases[z]).width=x,M.height=E,M.style.width=h+"px",M.style.height=p+"px";for(z=0;z<o.BUFFER_COUNT;z++)(M=l.bufferCanvases[z]).width=x,M.height=E,M.style.width=h+"px",M.style.height=p+"px";o.textureMult=1,g<=1&&(M=l.bufferCanvases[o.TEXTURE_BUFFER],o.textureMult=2,M.width=x*o.textureMult,M.height=E*o.textureMult),o.canvasWidth=x,o.canvasHeight=E}},renderTo:function(u,o,l,f){this.render({forcedContext:u,forcedZoom:o,forcedPan:l,drawAllLayers:!0,forcedPxRatio:f})},render:function(u){var o=(u=u||Cn()).forcedContext,l=u.drawAllLayers,f=u.drawOnlyNodeLayer,h=u.forcedZoom,p=u.forcedPan,g=this,w=void 0===u.forcedPxRatio?this.getPixelRatio():u.forcedPxRatio,x=g.cy,E=g.data,M=E.canvasNeedsRedraw,P=g.textureOnViewport&&!o&&(g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming),z=void 0!==u.motionBlur?u.motionBlur:g.motionBlur,W=g.motionBlurPxRatio,j=x.hasCompoundNodes(),q=g.hoverData.draggingEles,re=z=z&&!o&&g.motionBlurEnabled&&!(g.hoverData.selecting||g.touchData.selecting);o||(g.prevPxRatio!==w&&(g.invalidateContainerClientCoordsCache(),g.matchCanvasSize(g.container),g.redrawHint("eles",!0),g.redrawHint("drag",!0)),g.prevPxRatio=w),!o&&g.motionBlurTimeout&&clearTimeout(g.motionBlurTimeout),z&&(null==g.mbFrames&&(g.mbFrames=0),g.mbFrames++,g.mbFrames<3&&(re=!1),g.mbFrames>g.minMbLowQualFrames&&(g.motionBlurPxRatio=g.mbPxRBlurry)),g.clearingMotionBlur&&(g.motionBlurPxRatio=1),g.textureDrawLastFrame&&!P&&(M[g.NODE]=!0,M[g.SELECT_BOX]=!0);var de=x.style(),fe=x.zoom(),ve=void 0!==h?h:fe,Me=x.pan(),Ae={x:Me.x,y:Me.y},ye={zoom:fe,pan:{x:Me.x,y:Me.y}},Te=g.prevViewport;!(void 0===Te||ye.zoom!==Te.zoom||ye.pan.x!==Te.pan.x||ye.pan.y!==Te.pan.y)&&!(q&&!j)&&(g.motionBlurPxRatio=1),p&&(Ae=p),ve*=w,Ae.x*=w,Ae.y*=w;var ke=g.getCachedZSortedEles();function Pe(on,Qt,On,xn,sn){var An=on.globalCompositeOperation;on.globalCompositeOperation="destination-out",g.colorFillStyle(on,255,255,255,g.motionBlurTransparency),on.fillRect(Qt,On,xn,sn),on.globalCompositeOperation=An}function Ee(on,Qt){var On,xn,sn,An;g.clearingMotionBlur||on!==E.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]&&on!==E.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]?(On=Ae,xn=ve,sn=g.canvasWidth,An=g.canvasHeight):(On={x:Me.x*W,y:Me.y*W},xn=fe*W,sn=g.canvasWidth*W,An=g.canvasHeight*W),on.setTransform(1,0,0,1,0,0),"motionBlur"===Qt?Pe(on,0,0,sn,An):!o&&(void 0===Qt||Qt)&&on.clearRect(0,0,sn,An),l||(on.translate(On.x,On.y),on.scale(xn,xn)),p&&on.translate(p.x,p.y),h&&on.scale(h,h)}if(P||(g.textureDrawLastFrame=!1),P){if(g.textureDrawLastFrame=!0,!g.textureCache){g.textureCache={},g.textureCache.bb=x.mutableElements().boundingBox(),g.textureCache.texture=g.data.bufferCanvases[g.TEXTURE_BUFFER];var He=g.data.bufferContexts[g.TEXTURE_BUFFER];He.setTransform(1,0,0,1,0,0),He.clearRect(0,0,g.canvasWidth*g.textureMult,g.canvasHeight*g.textureMult),g.render({forcedContext:He,drawOnlyNodeLayer:!0,forcedPxRatio:w*g.textureMult}),(ye=g.textureCache.viewport={zoom:x.zoom(),pan:x.pan(),width:g.canvasWidth,height:g.canvasHeight}).mpan={x:(0-ye.pan.x)/ye.zoom,y:(0-ye.pan.y)/ye.zoom}}M[g.DRAG]=!1,M[g.NODE]=!1;var Ke=g.textureCache.texture;ye=g.textureCache.viewport,(Oe=E.contexts[g.NODE]).setTransform(1,0,0,1,0,0),z?Pe(Oe,0,0,ye.width,ye.height):Oe.clearRect(0,0,ye.width,ye.height);var Ue=de.core("outside-texture-bg-color").value,Ge=de.core("outside-texture-bg-opacity").value;g.colorFillStyle(Oe,Ue[0],Ue[1],Ue[2],Ge),Oe.fillRect(0,0,ye.width,ye.height),fe=x.zoom(),Ee(Oe,!1),Oe.clearRect(ye.mpan.x,ye.mpan.y,ye.width/ye.zoom/w,ye.height/ye.zoom/w),Oe.drawImage(Ke,ye.mpan.x,ye.mpan.y,ye.width/ye.zoom/w,ye.height/ye.zoom/w)}else g.textureOnViewport&&!o&&(g.textureCache=null);var rt=x.extent(),ct=g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming||g.hoverData.draggingEles||g.cy.animated(),vt=g.hideEdgesOnViewport&&ct,at=[];if(at[g.NODE]=!M[g.NODE]&&z&&!g.clearedForMotionBlur[g.NODE]||g.clearingMotionBlur,at[g.NODE]&&(g.clearedForMotionBlur[g.NODE]=!0),at[g.DRAG]=!M[g.DRAG]&&z&&!g.clearedForMotionBlur[g.DRAG]||g.clearingMotionBlur,at[g.DRAG]&&(g.clearedForMotionBlur[g.DRAG]=!0),M[g.NODE]||l||f||at[g.NODE]){var mt=z&&!at[g.NODE]&&1!==W;Ee(Oe=o||(mt?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]:E.contexts[g.NODE]),z&&!mt?"motionBlur":void 0),vt?g.drawCachedNodes(Oe,ke.nondrag,w,rt):g.drawLayeredElements(Oe,ke.nondrag,w,rt),g.debug&&g.drawDebugPoints(Oe,ke.nondrag),!l&&!z&&(M[g.NODE]=!1)}if(!f&&(M[g.DRAG]||l||at[g.DRAG])&&(mt=z&&!at[g.DRAG]&&1!==W,Ee(Oe=o||(mt?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]:E.contexts[g.DRAG]),z&&!mt?"motionBlur":void 0),vt?g.drawCachedNodes(Oe,ke.drag,w,rt):g.drawCachedElements(Oe,ke.drag,w,rt),g.debug&&g.drawDebugPoints(Oe,ke.drag),!l&&!z&&(M[g.DRAG]=!1)),g.showFps||!f&&M[g.SELECT_BOX]&&!l){var Oe;if(Ee(Oe=o||E.contexts[g.SELECT_BOX]),1==g.selection[4]&&(g.hoverData.selecting||g.touchData.selecting)){fe=g.cy.zoom();var At=de.core("selection-box-border-width").value/fe;Oe.lineWidth=At,Oe.fillStyle="rgba("+de.core("selection-box-color").value[0]+","+de.core("selection-box-color").value[1]+","+de.core("selection-box-color").value[2]+","+de.core("selection-box-opacity").value+")",Oe.fillRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]),At>0&&(Oe.strokeStyle="rgba("+de.core("selection-box-border-color").value[0]+","+de.core("selection-box-border-color").value[1]+","+de.core("selection-box-border-color").value[2]+","+de.core("selection-box-opacity").value+")",Oe.strokeRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]))}if(E.bgActivePosistion&&!g.hoverData.selecting){fe=g.cy.zoom();var xt=E.bgActivePosistion;Oe.fillStyle="rgba("+de.core("active-bg-color").value[0]+","+de.core("active-bg-color").value[1]+","+de.core("active-bg-color").value[2]+","+de.core("active-bg-opacity").value+")",Oe.beginPath(),Oe.arc(xt.x,xt.y,de.core("active-bg-size").pfValue/fe,0,2*Math.PI),Oe.fill()}var wt=g.lastRedrawTime;if(g.showFps&&wt){wt=Math.round(wt);var Je=Math.round(1e3/wt);Oe.setTransform(1,0,0,1,0,0),Oe.fillStyle="rgba(255, 0, 0, 0.75)",Oe.strokeStyle="rgba(255, 0, 0, 0.75)",Oe.lineWidth=1,Oe.fillText("1 frame = "+wt+" ms = "+Je+" fps",0,20),Oe.strokeRect(0,30,250,20),Oe.fillRect(0,30,250*Math.min(Je/60,1),20)}l||(M[g.SELECT_BOX]=!1)}if(z&&1!==W){var tn=E.contexts[g.DRAG],$n=g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_DRAG],ar=function(Qt,On,xn){Qt.setTransform(1,0,0,1,0,0),xn||!re?Qt.clearRect(0,0,g.canvasWidth,g.canvasHeight):Pe(Qt,0,0,g.canvasWidth,g.canvasHeight),Qt.drawImage(On,0,0,g.canvasWidth*W,g.canvasHeight*W,0,0,g.canvasWidth,g.canvasHeight)};(M[g.NODE]||at[g.NODE])&&(ar(E.contexts[g.NODE],g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_NODE],at[g.NODE]),M[g.NODE]=!1),(M[g.DRAG]||at[g.DRAG])&&(ar(tn,$n,at[g.DRAG]),M[g.DRAG]=!1)}g.prevViewport=ye,g.clearingMotionBlur&&(g.clearingMotionBlur=!1,g.motionBlurCleared=!0,g.motionBlur=!0),z&&(g.motionBlurTimeout=setTimeout(function(){g.motionBlurTimeout=null,g.clearedForMotionBlur[g.NODE]=!1,g.clearedForMotionBlur[g.DRAG]=!1,g.motionBlur=!1,g.clearingMotionBlur=!P,g.mbFrames=0,M[g.NODE]=!0,M[g.DRAG]=!0,g.redraw()},100)),o||x.emit("render")}},Fu={drawPolygonPath:function(u,o,l,f,h,p){var g=f/2,w=h/2;u.beginPath&&u.beginPath(),u.moveTo(o+g*p[0],l+w*p[1]);for(var x=1;x<p.length/2;x++)u.lineTo(o+g*p[2*x],l+w*p[2*x+1]);u.closePath()},drawRoundPolygonPath:function(u,o,l,f,h,p){var g=f/2,w=h/2,x=sc(f,h);u.beginPath&&u.beginPath();for(var E=0;E<p.length/4;E++){var P,M;M=0===E?p.length-2:4*E-2,P=4*E+2;var z=o+g*p[4*E],W=l+w*p[4*E+1],q=x/Math.tan(Math.acos(-p[M]*p[P]-p[M+1]*p[P+1])/2),Q=z-q*p[M],re=W-q*p[M+1],de=z+q*p[P],fe=W+q*p[P+1];0===E?u.moveTo(Q,re):u.lineTo(Q,re),u.arcTo(z,W,de,fe,x)}u.closePath()},drawRoundRectanglePath:function(u,o,l,f,h){var p=f/2,g=h/2,w=yu(f,h);u.beginPath&&u.beginPath(),u.moveTo(o,l-g),u.arcTo(o+p,l-g,o+p,l,w),u.arcTo(o+p,l+g,o,l+g,w),u.arcTo(o-p,l+g,o-p,l,w),u.arcTo(o-p,l-g,o,l-g,w),u.lineTo(o,l-g),u.closePath()},drawBottomRoundRectanglePath:function(u,o,l,f,h){var p=f/2,g=h/2,w=yu(f,h);u.beginPath&&u.beginPath(),u.moveTo(o,l-g),u.lineTo(o+p,l-g),u.lineTo(o+p,l),u.arcTo(o+p,l+g,o,l+g,w),u.arcTo(o-p,l+g,o-p,l,w),u.lineTo(o-p,l-g),u.lineTo(o,l-g),u.closePath()},drawCutRectanglePath:function(u,o,l,f,h){var p=f/2,g=h/2;u.beginPath&&u.beginPath(),u.moveTo(o-p+8,l-g),u.lineTo(o+p-8,l-g),u.lineTo(o+p,l-g+8),u.lineTo(o+p,l+g-8),u.lineTo(o+p-8,l+g),u.lineTo(o-p+8,l+g),u.lineTo(o-p,l+g-8),u.lineTo(o-p,l-g+8),u.closePath()},drawBarrelPath:function(u,o,l,f,h){var p=f/2,g=h/2,w=o-p,x=o+p,E=l-g,M=l+g,P=dh(f,h),z=P.widthOffset,W=P.heightOffset,j=P.ctrlPtOffsetPct*z;u.beginPath&&u.beginPath(),u.moveTo(w,E+W),u.lineTo(w,M-W),u.quadraticCurveTo(w+j,M,w+z,M),u.lineTo(x-z,M),u.quadraticCurveTo(x-j,M,x,M-W),u.lineTo(x,E+W),u.quadraticCurveTo(x-j,E,x-z,E),u.lineTo(w+z,E),u.quadraticCurveTo(w+j,E,w,E+W),u.closePath()}},Wd=Math.sin(0),Cm=Math.cos(0),Zp={},zf={},Gh=Math.PI/40,ea=0*Math.PI;ea<2*Math.PI;ea+=Gh)Zp[ea]=Math.sin(ea),zf[ea]=Math.cos(ea);Fu.drawEllipsePath=function(u,o,l,f,h){if(u.beginPath&&u.beginPath(),u.ellipse)u.ellipse(o,l,f/2,h/2,0,0,2*Math.PI);else for(var p,g,w=f/2,x=h/2,E=0*Math.PI;E<2*Math.PI;E+=Gh)p=o-w*Zp[E]*Wd+w*zf[E]*Cm,g=l+x*zf[E]*Wd+x*Zp[E]*Cm,0===E?u.moveTo(p,g):u.lineTo(p,g);u.closePath()};var jh={};function Dy(u){var o=u.indexOf(",");return u.substr(o+1)}function Em(u,o,l){var f=function(){return o.toDataURL(l,u.quality)};switch(u.output){case"blob-promise":return new ds(function(h,p){try{o.toBlob(function(g){null!=g?h(g):p(new Error("`canvas.toBlob()` sent a null value in its callback"))},l,u.quality)}catch(g){p(g)}});case"blob":return function gw(u,o){for(var l=atob(u),f=new ArrayBuffer(l.length),h=new Uint8Array(f),p=0;p<l.length;p++)h[p]=l.charCodeAt(p);return new Blob([f],{type:o})}(Dy(f()),l);case"base64":return Dy(f());default:return f()}}jh.createBuffer=function(u,o){var l=document.createElement("canvas");return l.width=u,l.height=o,[l,l.getContext("2d")]},jh.bufferCanvasImage=function(u){var o=this.cy,f=o.mutableElements().boundingBox(),h=this.findContainerClientCoords(),p=u.full?Math.ceil(f.w):h[2],g=u.full?Math.ceil(f.h):h[3],w=Xe(u.maxWidth)||Xe(u.maxHeight),x=this.getPixelRatio(),E=1;if(void 0!==u.scale)p*=u.scale,g*=u.scale,E=u.scale;else if(w){var M=1/0,P=1/0;Xe(u.maxWidth)&&(M=E*u.maxWidth/p),Xe(u.maxHeight)&&(P=E*u.maxHeight/g),p*=E=Math.min(M,P),g*=E}w||(p*=x,g*=x,E*=x);var z=document.createElement("canvas");z.width=p,z.height=g,z.style.width=p+"px",z.style.height=g+"px";var W=z.getContext("2d");if(p>0&&g>0){W.clearRect(0,0,p,g),W.globalCompositeOperation="source-over";var j=this.getCachedZSortedEles();if(u.full)W.translate(-f.x1*E,-f.y1*E),W.scale(E,E),this.drawElements(W,j),W.scale(1/E,1/E),W.translate(f.x1*E,f.y1*E);else{var q=o.pan(),Q={x:q.x*E,y:q.y*E};E*=o.zoom(),W.translate(Q.x,Q.y),W.scale(E,E),this.drawElements(W,j),W.scale(1/E,1/E),W.translate(-Q.x,-Q.y)}u.bg&&(W.globalCompositeOperation="destination-over",W.fillStyle=u.bg,W.rect(0,0,p,g),W.fill())}return z},jh.png=function(u){return Em(u,this.bufferCanvasImage(u),"image/png")},jh.jpg=function(u){return Em(u,this.bufferCanvasImage(u),"image/jpeg")};var mw=Sy,Jr=Sy.prototype;function Sy(u){var o=this;o.data={canvases:new Array(Jr.CANVAS_LAYERS),contexts:new Array(Jr.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Jr.CANVAS_LAYERS),bufferCanvases:new Array(Jr.BUFFER_COUNT),bufferContexts:new Array(Jr.CANVAS_LAYERS)};var l="-webkit-tap-highlight-color",f="rgba(0,0,0,0)";o.data.canvasContainer=document.createElement("div");var h=o.data.canvasContainer.style;o.data.canvasContainer.style[l]=f,h.position="relative",h.zIndex="0",h.overflow="hidden";var p=u.cy.container();p.appendChild(o.data.canvasContainer),p.style[l]=f;var g={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};ie&&ie.userAgent.match(/msie|trident|edge/i)&&(g["-ms-touch-action"]="none",g["touch-action"]="none");for(var w=0;w<Jr.CANVAS_LAYERS;w++){var x=o.data.canvases[w]=document.createElement("canvas");o.data.contexts[w]=x.getContext("2d"),Object.keys(g).forEach(function(wt){x.style[wt]=g[wt]}),x.style.position="absolute",x.setAttribute("data-id","layer"+w),x.style.zIndex=String(Jr.CANVAS_LAYERS-w),o.data.canvasContainer.appendChild(x),o.data.canvasNeedsRedraw[w]=!1}for(o.data.topCanvas=o.data.canvases[0],o.data.canvases[Jr.NODE].setAttribute("data-id","layer"+Jr.NODE+"-node"),o.data.canvases[Jr.SELECT_BOX].setAttribute("data-id","layer"+Jr.SELECT_BOX+"-selectbox"),o.data.canvases[Jr.DRAG].setAttribute("data-id","layer"+Jr.DRAG+"-drag"),w=0;w<Jr.BUFFER_COUNT;w++)o.data.bufferCanvases[w]=document.createElement("canvas"),o.data.bufferContexts[w]=o.data.bufferCanvases[w].getContext("2d"),o.data.bufferCanvases[w].style.position="absolute",o.data.bufferCanvases[w].setAttribute("data-id","buffer"+w),o.data.bufferCanvases[w].style.zIndex=String(-w-1),o.data.bufferCanvases[w].style.visibility="hidden";o.pathsEnabled=!0;var E=Si(),P=function(Je){return{x:-Je.w/2,y:-Je.h/2}},Me=function(Je){return Je.boundingBox(),Je[0]._private.bodyBounds},Ae=function(Je){return Je.boundingBox(),Je[0]._private.labelBounds.main||E},ye=function(Je){return Je.boundingBox(),Je[0]._private.labelBounds.source||E},Te=function(Je){return Je.boundingBox(),Je[0]._private.labelBounds.target||E},we=function(Je,Tt){return Tt},Pe=function(Je,Tt,Ot){var Wt=Je?Je+"-":"";return{x:Tt.x+Ot.pstyle(Wt+"text-margin-x").pfValue,y:Tt.y+Ot.pstyle(Wt+"text-margin-y").pfValue}},Ee=function(Je,Tt,Ot){var Wt=Je[0]._private.rscratch;return{x:Wt[Tt],y:Wt[Ot]}},vt=o.data.eleTxrCache=new ns(o,{getKey:function(Je){return Je[0]._private.nodeKey},doesEleInvalidateKey:function(Je){var Tt=Je[0]._private;return!(Tt.oldBackgroundTimestamp===Tt.backgroundTimestamp)},drawElement:function(Je,Tt,Ot,Wt,tn){return o.drawElement(Je,Tt,Ot,!1,!1,tn)},getBoundingBox:Me,getRotationPoint:function(Je){return function(Je){return{x:(Je.x1+Je.x2)/2,y:(Je.y1+Je.y2)/2}}(Me(Je))},getRotationOffset:function(Je){return P(Me(Je))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),at=o.data.lblTxrCache=new ns(o,{getKey:function(Je){return Je[0]._private.labelStyleKey},drawElement:function(Je,Tt,Ot,Wt,tn){return o.drawElementText(Je,Tt,Ot,Wt,"main",tn)},getBoundingBox:Ae,getRotationPoint:function(Je){return Pe("",Ee(Je,"labelX","labelY"),Je)},getRotationOffset:function(Je){var Tt=Ae(Je),Ot=P(Ae(Je));if(Je.isNode()){switch(Je.pstyle("text-halign").value){case"left":Ot.x=-Tt.w;break;case"right":Ot.x=0}switch(Je.pstyle("text-valign").value){case"top":Ot.y=-Tt.h;break;case"bottom":Ot.y=0}}return Ot},isVisible:we}),mt=o.data.slbTxrCache=new ns(o,{getKey:function(Je){return Je[0]._private.sourceLabelStyleKey},drawElement:function(Je,Tt,Ot,Wt,tn){return o.drawElementText(Je,Tt,Ot,Wt,"source",tn)},getBoundingBox:ye,getRotationPoint:function(Je){return Pe("source",Ee(Je,"sourceLabelX","sourceLabelY"),Je)},getRotationOffset:function(Je){return P(ye(Je))},isVisible:we}),It=o.data.tlbTxrCache=new ns(o,{getKey:function(Je){return Je[0]._private.targetLabelStyleKey},drawElement:function(Je,Tt,Ot,Wt,tn){return o.drawElementText(Je,Tt,Ot,Wt,"target",tn)},getBoundingBox:Te,getRotationPoint:function(Je){return Pe("target",Ee(Je,"targetLabelX","targetLabelY"),Je)},getRotationOffset:function(Je){return P(Te(Je))},isVisible:we}),At=o.data.lyrTxrCache=new lw(o);o.onUpdateEleCalcs(function(Je,Tt){vt.invalidateElements(Tt),at.invalidateElements(Tt),mt.invalidateElements(Tt),It.invalidateElements(Tt),At.invalidateElements(Tt);for(var Ot=0;Ot<Tt.length;Ot++){var Wt=Tt[Ot]._private;Wt.oldBackgroundTimestamp=Wt.backgroundTimestamp}});var xt=function(Je){for(var Tt=0;Tt<Je.length;Tt++)At.enqueueElementRefinement(Je[Tt].ele)};vt.onDequeue(xt),at.onDequeue(xt),mt.onDequeue(xt),It.onDequeue(xt)}Jr.CANVAS_LAYERS=3,Jr.SELECT_BOX=0,Jr.DRAG=1,Jr.NODE=2,Jr.BUFFER_COUNT=3,Jr.TEXTURE_BUFFER=0,Jr.MOTIONBLUR_BUFFER_NODE=1,Jr.MOTIONBLUR_BUFFER_DRAG=2,Jr.redrawHint=function(u,o){var l=this;switch(u){case"eles":l.data.canvasNeedsRedraw[Jr.NODE]=o;break;case"drag":l.data.canvasNeedsRedraw[Jr.DRAG]=o;break;case"select":l.data.canvasNeedsRedraw[Jr.SELECT_BOX]=o}};var Ty=typeof Path2D<"u";Jr.path2dEnabled=function(u){if(void 0===u)return this.pathsEnabled;this.pathsEnabled=!!u},Jr.usePaths=function(){return Ty&&this.pathsEnabled},Jr.setImgSmoothing=function(u,o){null!=u.imageSmoothingEnabled?u.imageSmoothingEnabled=o:(u.webkitImageSmoothingEnabled=o,u.mozImageSmoothingEnabled=o,u.msImageSmoothingEnabled=o)},Jr.getImgSmoothing=function(u){return null!=u.imageSmoothingEnabled?u.imageSmoothingEnabled:u.webkitImageSmoothingEnabled||u.mozImageSmoothingEnabled||u.msImageSmoothingEnabled},Jr.makeOffscreenCanvas=function(u,o){var l;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":H(OffscreenCanvas))?l=new OffscreenCanvas(u,o):((l=document.createElement("canvas")).width=u,l.height=o),l},[Uh,iu,Ac,Ey,Hf,Lu,bs,Fu,jh,{nodeShapeImpl:function(u,o,l,f,h,p,g){switch(u){case"ellipse":return this.drawEllipsePath(o,l,f,h,p);case"polygon":return this.drawPolygonPath(o,l,f,h,p,g);case"round-polygon":return this.drawRoundPolygonPath(o,l,f,h,p,g);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(o,l,f,h,p);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(o,l,f,h,p);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(o,l,f,h,p);case"barrel":return this.drawBarrelPath(o,l,f,h,p)}}}].forEach(function(u){In(Jr,u)});var yw=[{type:"layout",extensions:$p},{type:"renderer",extensions:[{name:"null",impl:Ti},{name:"base",impl:En},{name:"canvas",impl:mw}]}],rs={},Qp={};function xm(u,o,l){var f=l,h=function(Te){Sr("Can not register `"+o+"` for `"+u+"` since `"+Te+"` already exists in the prototype and can not be overridden")};if("core"===u){if(vs.prototype[o])return h(o);vs.prototype[o]=l}else if("collection"===u){if(fo.prototype[o])return h(o);fo.prototype[o]=l}else if("layout"===u){for(var p=function(Te){this.options=Te,l.call(this,Te),Ye(this._private)||(this._private={}),this._private.cy=Te.cy,this._private.listeners=[],this.createEmitter()},g=p.prototype=Object.create(l.prototype),w=[],x=0;x<w.length;x++){var E=w[x];g[E]=g[E]||function(){return this}}g.start&&!g.run?g.run=function(){return this.start(),this}:!g.start&&g.run&&(g.start=function(){return this.run(),this});var M=l.prototype.stop;g.stop=function(){var ye=this.options;if(ye&&ye.animate){var Te=this.animations;if(Te)for(var we=0;we<Te.length;we++)Te[we].stop()}return M?M.call(this):this.emit("layoutstop"),this},g.destroy||(g.destroy=function(){return this}),g.cy=function(){return this._private.cy};var P=function(Te){return Te._private.cy},z={addEventFields:function(Te,we){we.layout=Te,we.cy=P(Te),we.target=Te},bubble:function(){return!0},parent:function(Te){return P(Te)}};In(g,{createEmitter:function(){return this._private.emitter=new Ui(z,this),this},emitter:function(){return this._private.emitter},on:function(Te,we){return this.emitter().on(Te,we),this},one:function(Te,we){return this.emitter().one(Te,we),this},once:function(Te,we){return this.emitter().one(Te,we),this},removeListener:function(Te,we){return this.emitter().removeListener(Te,we),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(Te,we){return this.emitter().emit(Te,we),this}}),ur.eventAliasesOn(g),f=p}else if("renderer"===u&&"null"!==o&&"base"!==o){var W=Jp("renderer","base"),j=W.prototype,q=l,Q=l.prototype,re=function(){W.apply(this,arguments),q.apply(this,arguments)},de=re.prototype;for(var fe in j){var ve=j[fe];if(null!=Q[fe])return h(fe);de[fe]=ve}for(var Ae in Q)de[Ae]=Q[Ae];j.clientFunctions.forEach(function(ye){de[ye]=de[ye]||function(){ni("Renderer does not implement `renderer."+ye+"()` on its prototype")}}),f=re}else if("__proto__"===u||"constructor"===u||"prototype"===u)return ni(u+" is an illegal type to be registered, possibly lead to prototype pollutions");return _n({map:rs,keys:[u,o],value:f})}function Jp(u,o){return ga({map:rs,keys:[u,o]})}function Va(u,o,l,f,h){return _n({map:Qp,keys:[u,o,l,f],value:h})}function Wh(u,o,l,f){return ga({map:Qp,keys:[u,o,l,f]})}var eg=function(){return 2===arguments.length?Jp.apply(null,arguments):3===arguments.length?xm.apply(null,arguments):4===arguments.length?Wh.apply(null,arguments):5===arguments.length?Va.apply(null,arguments):void ni("Invalid extension access syntax")};vs.prototype.extension=eg,yw.forEach(function(u){u.extensions.forEach(function(o){xm(u.type,o.name,o.impl)})});var Dm=function u(){if(!(this instanceof u))return new u;this.length=0},$d=Dm.prototype;$d.instanceString=function(){return"stylesheet"},$d.selector=function(u){return this[this.length++]={selector:u,properties:[]},this},$d.css=function(u,o){var l=this.length-1;if(Be(u))this[l].properties.push({name:u,value:o});else if(Ye(u))for(var f=u,h=Object.keys(f),p=0;p<h.length;p++){var g=h[p],w=f[g];if(null!=w){var x=qo.properties[g]||qo.properties[wn(g)];null!=x&&this[l].properties.push({name:x.name,value:w})}}return this},$d.style=$d.css,$d.generateStyle=function(u){var o=new qo(u);return this.appendToStyle(o)},$d.appendToStyle=function(u){for(var o=0;o<this.length;o++){var l=this[o],h=l.properties;u.selector(l.selector);for(var p=0;p<h.length;p++){var g=h[p];u.css(g.name,g.value)}}return u};var Yd=function(o){return void 0===o&&(o={}),Ye(o)?new vs(o):Be(o)?eg.apply(eg,arguments):void 0};Yd.use=function(u){var o=Array.prototype.slice.call(arguments,1);return o.unshift(Yd),u.apply(null,o),this},Yd.warnings=function(u){return Na(u)},Yd.version="3.25.0",Yd.stylesheet=Yd.Stylesheet=Dm,$.exports=Yd},8767:($,ae,D)=>{$.exports={graphlib:D(5849),layout:D(4395),debug:D(4232),util:{time:D(9505).time,notime:D(9505).notime},version:D(2187)}},1791:($,ae,D)=>{"use strict";var T=D(3990),k=D(5123);$.exports={run:function N(S){var O="greedy"===S.graph().acyclicer?k(S,function A(V){return function(L){return V.edge(L).weight}}(S)):function I(S){var O=[],A={},V={};return T.forEach(S.nodes(),function L(B){T.has(V,B)||(V[B]=!0,A[B]=!0,T.forEach(S.outEdges(B),function(H){T.has(A,H.w)?O.push(H):L(H.w)}),delete A[B])}),O}(S);T.forEach(O,function(V){var L=S.edge(V);S.removeEdge(V),L.forwardName=V.name,L.reversed=!0,S.setEdge(V.w,V.v,L,T.uniqueId("rev"))})},undo:function C(S){T.forEach(S.edges(),function(O){var A=S.edge(O);if(A.reversed){S.removeEdge(O);var V=A.forwardName;delete A.reversed,delete A.forwardName,S.setEdge(O.w,O.v,A,V)}})}}},7130:($,ae,D)=>{var T=D(3990),k=D(9505);function I(C,S,O,A,V,L){var H=V[S][L-1],Y=k.addDummyNode(C,"border",{width:0,height:0,rank:L,borderType:S},O);V[S][L]=Y,C.setParent(Y,A),H&&C.setEdge(H,Y,{weight:1})}$.exports=function N(C){T.forEach(C.children(),function S(O){var A=C.children(O),V=C.node(O);if(A.length&&T.forEach(A,S),T.has(V,"minRank")){V.borderLeft=[],V.borderRight=[];for(var L=V.minRank,B=V.maxRank+1;L<B;++L)I(C,"borderLeft","_bl",O,V,L),I(C,"borderRight","_br",O,V,L)}})}},1048:($,ae,D)=>{"use strict";var T=D(3990);function I(L){T.forEach(L.nodes(),function(B){C(L.node(B))}),T.forEach(L.edges(),function(B){C(L.edge(B))})}function C(L){var B=L.width;L.width=L.height,L.height=B}function O(L){L.y=-L.y}function V(L){var B=L.x;L.x=L.y,L.y=B}$.exports={adjust:function k(L){var B=L.graph().rankdir.toLowerCase();("lr"===B||"rl"===B)&&I(L)},undo:function N(L){var B=L.graph().rankdir.toLowerCase();("bt"===B||"rl"===B)&&function S(L){T.forEach(L.nodes(),function(B){O(L.node(B))}),T.forEach(L.edges(),function(B){var H=L.edge(B);T.forEach(H.points,O),T.has(H,"y")&&O(H)})}(L),("lr"===B||"rl"===B)&&(function A(L){T.forEach(L.nodes(),function(B){V(L.node(B))}),T.forEach(L.edges(),function(B){var H=L.edge(B);T.forEach(H.points,V),T.has(H,"x")&&V(H)})}(L),I(L))}}},4312:$=>{function ae(){var k={};k._next=k._prev=k,this._sentinel=k}function D(k){k._prev._next=k._next,k._next._prev=k._prev,delete k._next,delete k._prev}function T(k,N){if("_next"!==k&&"_prev"!==k)return N}$.exports=ae,ae.prototype.dequeue=function(){var k=this._sentinel,N=k._prev;if(N!==k)return D(N),N},ae.prototype.enqueue=function(k){var N=this._sentinel;k._prev&&k._next&&D(k),k._next=N._next,N._next._prev=k,N._next=k,k._prev=N},ae.prototype.toString=function(){for(var k=[],N=this._sentinel,I=N._prev;I!==N;)k.push(JSON.stringify(I,T)),I=I._prev;return"["+k.join(", ")+"]"}},4232:($,ae,D)=>{var T=D(3990),k=D(9505),N=D(5849).Graph;$.exports={debugOrdering:function I(C){var S=k.buildLayerMatrix(C),O=new N({compound:!0,multigraph:!0}).setGraph({});return T.forEach(C.nodes(),function(A){O.setNode(A,{label:A}),O.setParent(A,"layer"+C.node(A).rank)}),T.forEach(C.edges(),function(A){O.setEdge(A.v,A.w,{},A.name)}),T.forEach(S,function(A,V){O.setNode("layer"+V,{rank:"same"}),T.reduce(A,function(B,H){return O.setEdge(B,H,{style:"invis"}),H})}),O}}},5849:($,ae,D)=>{var T;try{T=D(9034)}catch{}T||(T=window.graphlib),$.exports=T},5123:($,ae,D)=>{var T=D(3990),k=D(5849).Graph,N=D(4312);$.exports=function C(L,B){if(L.nodeCount()<=1)return[];var H=function A(L,B){var H=new k,Y=0,ee=0;T.forEach(L.nodes(),function(le){H.setNode(le,{v:le,in:0,out:0})}),T.forEach(L.edges(),function(le){var se=H.edge(le.v,le.w)||0,he=B(le);H.setEdge(le.v,le.w,se+he),ee=Math.max(ee,H.node(le.v).out+=he),Y=Math.max(Y,H.node(le.w).in+=he)});var ce=T.range(ee+Y+3).map(function(){return new N}),ne=Y+1;return T.forEach(H.nodes(),function(le){V(ce,ne,H.node(le))}),{graph:H,buckets:ce,zeroIdx:ne}}(L,B||I),Y=function S(L,B,H){for(var ne,Y=[],ee=B[B.length-1],ce=B[0];L.nodeCount();){for(;ne=ce.dequeue();)O(L,B,H,ne);for(;ne=ee.dequeue();)O(L,B,H,ne);if(L.nodeCount())for(var le=B.length-2;le>0;--le)if(ne=B[le].dequeue()){Y=Y.concat(O(L,B,H,ne,!0));break}}return Y}(H.graph,H.buckets,H.zeroIdx);return T.flatten(T.map(Y,function(ee){return L.outEdges(ee.v,ee.w)}),!0)};var I=T.constant(1);function O(L,B,H,Y,ee){var ce=ee?[]:void 0;return T.forEach(L.inEdges(Y.v),function(ne){var le=L.edge(ne),se=L.node(ne.v);ee&&ce.push({v:ne.v,w:ne.w}),se.out-=le,V(B,H,se)}),T.forEach(L.outEdges(Y.v),function(ne){var le=L.edge(ne),he=L.node(ne.w);he.in-=le,V(B,H,he)}),L.removeNode(Y.v),ce}function V(L,B,H){H.out?H.in?L[H.out-H.in+B].enqueue(H):L[L.length-1].enqueue(H):L[0].enqueue(H)}},4395:($,ae,D)=>{"use strict";var T=D(3990),k=D(1791),N=D(1684),I=D(3752),C=D(9505).normalizeRanks,S=D(1250),O=D(9505).removeEmptyRanks,A=D(4525),V=D(7130),L=D(1048),B=D(1574),H=D(6403),Y=D(9505),ee=D(5849).Graph;$.exports=function ce(lt,tt){var ht=tt&&tt.debugTiming?Y.time:Y.notime;ht("layout",function(){var Ft=ht("  buildLayoutGraph",function(){return function _e(lt){var tt=new ee({multigraph:!0,compound:!0}),ht=un(lt.graph());return tt.setGraph(T.merge({},he,mn(ht,se),T.pick(ht,te))),T.forEach(lt.nodes(),function(Ft){var Dt=un(lt.node(Ft));tt.setNode(Ft,T.defaults(mn(Dt,pe),Z)),tt.setParent(Ft,lt.parent(Ft))}),T.forEach(lt.edges(),function(Ft){var Dt=un(lt.edge(Ft));tt.setEdge(Ft,T.merge({},ie,mn(Dt,oe),T.pick(Dt,me)))}),tt}(lt)});ht("  runLayout",function(){!function ne(lt,tt){tt("    makeSpaceForEdgeLabels",function(){!function Se(lt){var tt=lt.graph();tt.ranksep/=2,T.forEach(lt.edges(),function(ht){var Ft=lt.edge(ht);Ft.minlen*=2,"c"!==Ft.labelpos.toLowerCase()&&("TB"===tt.rankdir||"BT"===tt.rankdir?Ft.width+=Ft.labeloffset:Ft.height+=Ft.labeloffset)})}(lt)}),tt("    removeSelfEdges",function(){!function Kt(lt){T.forEach(lt.edges(),function(tt){if(tt.v===tt.w){var ht=lt.node(tt.v);ht.selfEdges||(ht.selfEdges=[]),ht.selfEdges.push({e:tt,label:lt.edge(tt)}),lt.removeEdge(tt)}})}(lt)}),tt("    acyclic",function(){k.run(lt)}),tt("    nestingGraph.run",function(){A.run(lt)}),tt("    rank",function(){I(Y.asNonCompoundGraph(lt))}),tt("    injectEdgeLabelProxies",function(){!function De(lt){T.forEach(lt.edges(),function(tt){var ht=lt.edge(tt);if(ht.width&&ht.height){var Ft=lt.node(tt.v),Dt=lt.node(tt.w);Y.addDummyNode(lt,"edge-proxy",{rank:(Dt.rank-Ft.rank)/2+Ft.rank,e:tt},"_ep")}})}(lt)}),tt("    removeEmptyRanks",function(){O(lt)}),tt("    nestingGraph.cleanup",function(){A.cleanup(lt)}),tt("    normalizeRanks",function(){C(lt)}),tt("    assignRankMinMax",function(){!function ze(lt){var tt=0;T.forEach(lt.nodes(),function(ht){var Ft=lt.node(ht);Ft.borderTop&&(Ft.minRank=lt.node(Ft.borderTop).rank,Ft.maxRank=lt.node(Ft.borderBottom).rank,tt=T.max(tt,Ft.maxRank))}),lt.graph().maxRank=tt}(lt)}),tt("    removeEdgeLabelProxies",function(){!function Be(lt){T.forEach(lt.nodes(),function(tt){var ht=lt.node(tt);"edge-proxy"===ht.dummy&&(lt.edge(ht.e).labelRank=ht.rank,lt.removeNode(tt))})}(lt)}),tt("    normalize.run",function(){N.run(lt)}),tt("    parentDummyChains",function(){S(lt)}),tt("    addBorderSegments",function(){V(lt)}),tt("    order",function(){B(lt)}),tt("    insertSelfEdges",function(){!function Ht(lt){var tt=Y.buildLayerMatrix(lt);T.forEach(tt,function(ht){var Ft=0;T.forEach(ht,function(Dt,Xn){var Jn=lt.node(Dt);Jn.order=Xn+Ft,T.forEach(Jn.selfEdges,function(Dr){Y.addDummyNode(lt,"selfedge",{width:Dr.label.width,height:Dr.label.height,rank:Jn.rank,order:Xn+ ++Ft,e:Dr.e,label:Dr.label},"_se")}),delete Jn.selfEdges})})}(lt)}),tt("    adjustCoordinateSystem",function(){L.adjust(lt)}),tt("    position",function(){H(lt)}),tt("    positionSelfEdges",function(){!function Mt(lt){T.forEach(lt.nodes(),function(tt){var ht=lt.node(tt);if("selfedge"===ht.dummy){var Ft=lt.node(ht.e.v),Dt=Ft.x+Ft.width/2,Xn=Ft.y,Jn=ht.x-Dt,Dr=Ft.height/2;lt.setEdge(ht.e,ht.label),lt.removeNode(tt),ht.label.points=[{x:Dt+2*Jn/3,y:Xn-Dr},{x:Dt+5*Jn/6,y:Xn-Dr},{x:Dt+Jn,y:Xn},{x:Dt+5*Jn/6,y:Xn+Dr},{x:Dt+2*Jn/3,y:Xn+Dr}],ht.label.x=ht.x,ht.label.y=ht.y}})}(lt)}),tt("    removeBorderNodes",function(){!function Xe(lt){T.forEach(lt.nodes(),function(tt){if(lt.children(tt).length){var ht=lt.node(tt),Ft=lt.node(ht.borderTop),Dt=lt.node(ht.borderBottom),Xn=lt.node(T.last(ht.borderLeft)),Jn=lt.node(T.last(ht.borderRight));ht.width=Math.abs(Jn.x-Xn.x),ht.height=Math.abs(Dt.y-Ft.y),ht.x=Xn.x+ht.width/2,ht.y=Ft.y+ht.height/2}}),T.forEach(lt.nodes(),function(tt){"border"===lt.node(tt).dummy&&lt.removeNode(tt)})}(lt)}),tt("    normalize.undo",function(){N.undo(lt)}),tt("    fixupEdgeLabelCoords",function(){!function Ye(lt){T.forEach(lt.edges(),function(tt){var ht=lt.edge(tt);if(T.has(ht,"x"))switch(("l"===ht.labelpos||"r"===ht.labelpos)&&(ht.width-=ht.labeloffset),ht.labelpos){case"l":ht.x-=ht.width/2+ht.labeloffset;break;case"r":ht.x+=ht.width/2+ht.labeloffset}})}(lt)}),tt("    undoCoordinateSystem",function(){L.undo(lt)}),tt("    translateGraph",function(){!function ot(lt){var tt=Number.POSITIVE_INFINITY,ht=0,Ft=Number.POSITIVE_INFINITY,Dt=0,Xn=lt.graph(),Jn=Xn.marginx||0,Dr=Xn.marginy||0;function Rr(_r){var wn=_r.x,Vn=_r.y,Yr=_r.width,dn=_r.height;tt=Math.min(tt,wn-Yr/2),ht=Math.max(ht,wn+Yr/2),Ft=Math.min(Ft,Vn-dn/2),Dt=Math.max(Dt,Vn+dn/2)}T.forEach(lt.nodes(),function(_r){Rr(lt.node(_r))}),T.forEach(lt.edges(),function(_r){var wn=lt.edge(_r);T.has(wn,"x")&&Rr(wn)}),tt-=Jn,Ft-=Dr,T.forEach(lt.nodes(),function(_r){var wn=lt.node(_r);wn.x-=tt,wn.y-=Ft}),T.forEach(lt.edges(),function(_r){var wn=lt.edge(_r);T.forEach(wn.points,function(Vn){Vn.x-=tt,Vn.y-=Ft}),T.has(wn,"x")&&(wn.x-=tt),T.has(wn,"y")&&(wn.y-=Ft)}),Xn.width=ht-tt+Jn,Xn.height=Dt-Ft+Dr}(lt)}),tt("    assignNodeIntersects",function(){!function ft(lt){T.forEach(lt.edges(),function(tt){var Xn,Jn,ht=lt.edge(tt),Ft=lt.node(tt.v),Dt=lt.node(tt.w);ht.points?(Xn=ht.points[0],Jn=ht.points[ht.points.length-1]):(ht.points=[],Xn=Dt,Jn=Ft),ht.points.unshift(Y.intersectRect(Ft,Xn)),ht.points.push(Y.intersectRect(Dt,Jn))})}(lt)}),tt("    reversePoints",function(){!function _t(lt){T.forEach(lt.edges(),function(tt){var ht=lt.edge(tt);ht.reversed&&ht.points.reverse()})}(lt)}),tt("    acyclic.undo",function(){k.undo(lt)})}(Ft,ht)}),ht("  updateInputGraph",function(){!function le(lt,tt){T.forEach(lt.nodes(),function(ht){var Ft=lt.node(ht),Dt=tt.node(ht);Ft&&(Ft.x=Dt.x,Ft.y=Dt.y,tt.children(ht).length&&(Ft.width=Dt.width,Ft.height=Dt.height))}),T.forEach(lt.edges(),function(ht){var Ft=lt.edge(ht),Dt=tt.edge(ht);Ft.points=Dt.points,T.has(Dt,"x")&&(Ft.x=Dt.x,Ft.y=Dt.y)}),lt.graph().width=tt.graph().width,lt.graph().height=tt.graph().height}(lt,Ft)})})};var se=["nodesep","edgesep","ranksep","marginx","marginy"],he={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},te=["acyclicer","ranker","rankdir","align"],pe=["width","height"],Z={width:0,height:0},oe=["minlen","weight","width","height","labeloffset"],ie={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},me=["labelpos"];function mn(lt,tt){return T.mapValues(T.pick(lt,tt),Number)}function un(lt){var tt={};return T.forEach(lt,function(ht,Ft){tt[Ft.toLowerCase()]=ht}),tt}},3990:($,ae,D)=>{var T;try{T={cloneDeep:D(4451),constant:D(1075),defaults:D(5433),each:D(6488),filter:D(7661),find:D(6177),flatten:D(9336),forEach:D(7170),forIn:D(1658),has:D(8669),isUndefined:D(8152),last:D(2819),map:D(8921),mapValues:D(6054),max:D(5664),merge:D(2213),min:D(1007),minBy:D(50),now:D(5533),pick:D(7607),range:D(5953),reduce:D(5909),sortBy:D(7184),uniqueId:D(4538),values:D(8808),zipObject:D(4606)}}catch{}T||(T=window._),$.exports=T},4525:($,ae,D)=>{var T=D(3990),k=D(9505);function I(A,V,L,B,H,Y,ee){var ce=A.children(ee);if(ce.length){var ne=k.addBorderNode(A,"_bt"),le=k.addBorderNode(A,"_bb"),se=A.node(ee);A.setParent(ne,ee),se.borderTop=ne,A.setParent(le,ee),se.borderBottom=le,T.forEach(ce,function(he){I(A,V,L,B,H,Y,he);var te=A.node(he),pe=te.borderTop?te.borderTop:he,Z=te.borderBottom?te.borderBottom:he,oe=te.borderTop?B:2*B,ie=pe!==Z?1:H-Y[ee]+1;A.setEdge(ne,pe,{weight:oe,minlen:ie,nestingEdge:!0}),A.setEdge(Z,le,{weight:oe,minlen:ie,nestingEdge:!0})}),A.parent(ee)||A.setEdge(V,ne,{weight:0,minlen:H+Y[ee]})}else ee!==V&&A.setEdge(V,ee,{weight:0,minlen:L})}$.exports={run:function N(A){var V=k.addDummyNode(A,"root",{},"_root"),L=function C(A){var V={};function L(B,H){var Y=A.children(B);Y&&Y.length&&T.forEach(Y,function(ee){L(ee,H+1)}),V[B]=H}return T.forEach(A.children(),function(B){L(B,1)}),V}(A),B=T.max(T.values(L))-1,H=2*B+1;A.graph().nestingRoot=V,T.forEach(A.edges(),function(ee){A.edge(ee).minlen*=H});var Y=function S(A){return T.reduce(A.edges(),function(V,L){return V+A.edge(L).weight},0)}(A)+1;T.forEach(A.children(),function(ee){I(A,V,H,Y,B,L,ee)}),A.graph().nodeRankFactor=H},cleanup:function O(A){var V=A.graph();A.removeNode(V.nestingRoot),delete V.nestingRoot,T.forEach(A.edges(),function(L){A.edge(L).nestingEdge&&A.removeEdge(L)})}}},1684:($,ae,D)=>{"use strict";var T=D(3990),k=D(9505);$.exports={run:function N(S){S.graph().dummyChains=[],T.forEach(S.edges(),function(O){!function I(S,O){var A=O.v,V=S.node(A).rank,L=O.w,B=S.node(L).rank,H=O.name,Y=S.edge(O),ee=Y.labelRank;if(B!==V+1){var ce,ne,le;for(S.removeEdge(O),le=0,++V;V<B;++le,++V)Y.points=[],ce=k.addDummyNode(S,"edge",ne={width:0,height:0,edgeLabel:Y,edgeObj:O,rank:V},"_d"),V===ee&&(ne.width=Y.width,ne.height=Y.height,ne.dummy="edge-label",ne.labelpos=Y.labelpos),S.setEdge(A,ce,{weight:Y.weight},H),0===le&&S.graph().dummyChains.push(ce),A=ce;S.setEdge(A,L,{weight:Y.weight},H)}}(S,O)})},undo:function C(S){T.forEach(S.graph().dummyChains,function(O){var L,A=S.node(O),V=A.edgeLabel;for(S.setEdge(A.edgeObj,V);A.dummy;)L=S.successors(O)[0],S.removeNode(O),V.points.push({x:A.x,y:A.y}),"edge-label"===A.dummy&&(V.x=A.x,V.y=A.y,V.width=A.width,V.height=A.height),A=S.node(O=L)})}}},9821:($,ae,D)=>{var T=D(3990);$.exports=function k(N,I,C){var O,S={};T.forEach(C,function(A){for(var L,B,V=N.parent(A);V;){if((L=N.parent(V))?(B=S[L],S[L]=V):(B=O,O=V),B&&B!==V)return void I.setEdge(B,V);V=L}})}},7995:($,ae,D)=>{var T=D(3990);$.exports=function k(N,I){return T.map(I,function(C){var S=N.inEdges(C);if(S.length){var O=T.reduce(S,function(A,V){var L=N.edge(V),B=N.node(V.v);return{sum:A.sum+L.weight*B.order,weight:A.weight+L.weight}},{sum:0,weight:0});return{v:C,barycenter:O.sum/O.weight,weight:O.weight}}return{v:C}})}},9384:($,ae,D)=>{var T=D(3990),k=D(5849).Graph;$.exports=function N(C,S,O){var A=function I(C){for(var S;C.hasNode(S=T.uniqueId("_root")););return S}(C),V=new k({compound:!0}).setGraph({root:A}).setDefaultNodeLabel(function(L){return C.node(L)});return T.forEach(C.nodes(),function(L){var B=C.node(L),H=C.parent(L);(B.rank===S||B.minRank<=S&&S<=B.maxRank)&&(V.setNode(L),V.setParent(L,H||A),T.forEach(C[O](L),function(Y){var ee=Y.v===L?Y.w:Y.v,ce=V.edge(ee,L),ne=T.isUndefined(ce)?0:ce.weight;V.setEdge(ee,L,{weight:C.edge(Y).weight+ne})}),T.has(B,"minRank")&&V.setNode(L,{borderLeft:B.borderLeft[S],borderRight:B.borderRight[S]}))}),V}},444:($,ae,D)=>{"use strict";var T=D(3990);function N(I,C,S){for(var O=T.zipObject(S,T.map(S,function(Y,ee){return ee})),A=T.flatten(T.map(C,function(Y){return T.sortBy(T.map(I.outEdges(Y),function(ee){return{pos:O[ee.w],weight:I.edge(ee).weight}}),"pos")}),!0),V=1;V<S.length;)V<<=1;var L=2*V-1;V-=1;var B=T.map(new Array(L),function(){return 0}),H=0;return T.forEach(A.forEach(function(Y){var ee=Y.pos+V;B[ee]+=Y.weight;for(var ce=0;ee>0;)ee%2&&(ce+=B[ee+1]),B[ee=ee-1>>1]+=Y.weight;H+=Y.weight*ce})),H}$.exports=function k(I,C){for(var S=0,O=1;O<C.length;++O)S+=N(I,C[O-1],C[O]);return S}},1574:($,ae,D)=>{"use strict";var T=D(3990),k=D(320),N=D(444),I=D(8005),C=D(9384),S=D(9821),O=D(5849).Graph,A=D(9505);function L(Y,ee,ce){return T.map(ee,function(ne){return C(Y,ne,ce)})}function B(Y,ee){var ce=new O;T.forEach(Y,function(ne){var le=ne.graph().root,se=I(ne,le,ce,ee);T.forEach(se.vs,function(he,te){ne.node(he).order=te}),S(ne,ce,se.vs)})}function H(Y,ee){T.forEach(ee,function(ce){T.forEach(ce,function(ne,le){Y.node(ne).order=le})})}$.exports=function V(Y){var ee=A.maxRank(Y),ce=L(Y,T.range(1,ee+1),"inEdges"),ne=L(Y,T.range(ee-1,-1,-1),"outEdges"),le=k(Y);H(Y,le);for(var he,se=Number.POSITIVE_INFINITY,te=0,pe=0;pe<4;++te,++pe){B(te%2?ce:ne,te%4>=2),le=A.buildLayerMatrix(Y);var Z=N(Y,le);Z<se&&(pe=0,he=T.cloneDeep(le),se=Z)}H(Y,he)}},320:($,ae,D)=>{"use strict";var T=D(3990);$.exports=function k(N){var I={},C=T.filter(N.nodes(),function(L){return!N.children(L).length}),S=T.max(T.map(C,function(L){return N.node(L).rank})),O=T.map(T.range(S+1),function(){return[]}),V=T.sortBy(C,function(L){return N.node(L).rank});return T.forEach(V,function A(L){if(!T.has(I,L)){I[L]=!0;var B=N.node(L);O[B.rank].push(L),T.forEach(N.successors(L),A)}}),O}},6686:($,ae,D)=>{"use strict";var T=D(3990);$.exports=function k(C,S){var O={};return T.forEach(C,function(V,L){var B=O[V.v]={indegree:0,in:[],out:[],vs:[V.v],i:L};T.isUndefined(V.barycenter)||(B.barycenter=V.barycenter,B.weight=V.weight)}),T.forEach(S.edges(),function(V){var L=O[V.v],B=O[V.w];!T.isUndefined(L)&&!T.isUndefined(B)&&(B.indegree++,L.out.push(O[V.w]))}),function N(C){var S=[];function O(L){return function(B){B.merged||(T.isUndefined(B.barycenter)||T.isUndefined(L.barycenter)||B.barycenter>=L.barycenter)&&function I(C,S){var O=0,A=0;C.weight&&(O+=C.barycenter*C.weight,A+=C.weight),S.weight&&(O+=S.barycenter*S.weight,A+=S.weight),C.vs=S.vs.concat(C.vs),C.barycenter=O/A,C.weight=A,C.i=Math.min(S.i,C.i),S.merged=!0}(L,B)}}function A(L){return function(B){B.in.push(L),0==--B.indegree&&C.push(B)}}for(;C.length;){var V=C.pop();S.push(V),T.forEach(V.in.reverse(),O(V)),T.forEach(V.out,A(V))}return T.map(T.filter(S,function(L){return!L.merged}),function(L){return T.pick(L,["vs","i","barycenter","weight"])})}(T.filter(O,function(V){return!V.indegree}))}},8005:($,ae,D)=>{var T=D(3990),k=D(7995),N=D(6686),I=D(8380);$.exports=function C(A,V,L,B){var H=A.children(V),Y=A.node(V),ee=Y?Y.borderLeft:void 0,ce=Y?Y.borderRight:void 0,ne={};ee&&(H=T.filter(H,function(Z){return Z!==ee&&Z!==ce}));var le=k(A,H);T.forEach(le,function(Z){if(A.children(Z.v).length){var oe=C(A,Z.v,L,B);ne[Z.v]=oe,T.has(oe,"barycenter")&&function O(A,V){T.isUndefined(A.barycenter)?(A.barycenter=V.barycenter,A.weight=V.weight):(A.barycenter=(A.barycenter*A.weight+V.barycenter*V.weight)/(A.weight+V.weight),A.weight+=V.weight)}(Z,oe)}});var se=N(le,L);!function S(A,V){T.forEach(A,function(L){L.vs=T.flatten(L.vs.map(function(B){return V[B]?V[B].vs:B}),!0)})}(se,ne);var he=I(se,B);if(ee&&(he.vs=T.flatten([ee,he.vs,ce],!0),A.predecessors(ee).length)){var te=A.node(A.predecessors(ee)[0]),pe=A.node(A.predecessors(ce)[0]);T.has(he,"barycenter")||(he.barycenter=0,he.weight=0),he.barycenter=(he.barycenter*he.weight+te.order+pe.order)/(he.weight+2),he.weight+=2}return he}},8380:($,ae,D)=>{var T=D(3990),k=D(9505);function I(S,O,A){for(var V;O.length&&(V=T.last(O)).i<=A;)O.pop(),S.push(V.vs),A++;return A}$.exports=function N(S,O){var A=k.partition(S,function(ne){return T.has(ne,"barycenter")}),V=A.lhs,L=T.sortBy(A.rhs,function(ne){return-ne.i}),B=[],H=0,Y=0,ee=0;V.sort(function C(S){return function(O,A){return O.barycenter<A.barycenter?-1:O.barycenter>A.barycenter?1:S?A.i-O.i:O.i-A.i}}(!!O)),ee=I(B,L,ee),T.forEach(V,function(ne){ee+=ne.vs.length,B.push(ne.vs),H+=ne.barycenter*ne.weight,Y+=ne.weight,ee=I(B,L,ee)});var ce={vs:T.flatten(B,!0)};return Y&&(ce.barycenter=H/Y,ce.weight=Y),ce}},1250:($,ae,D)=>{var T=D(3990);$.exports=function k(C){var S=function I(C){var S={},O=0;return T.forEach(C.children(),function A(V){var L=O;T.forEach(C.children(V),A),S[V]={low:L,lim:O++}}),S}(C);T.forEach(C.graph().dummyChains,function(O){for(var A=C.node(O),V=A.edgeObj,L=function N(C,S,O,A){var Y,ee,V=[],L=[],B=Math.min(S[O].low,S[A].low),H=Math.max(S[O].lim,S[A].lim);Y=O;do{Y=C.parent(Y),V.push(Y)}while(Y&&(S[Y].low>B||H>S[Y].lim));for(ee=Y,Y=A;(Y=C.parent(Y))!==ee;)L.push(Y);return{path:V.concat(L.reverse()),lca:ee}}(C,S,V.v,V.w),B=L.path,H=L.lca,Y=0,ee=B[Y],ce=!0;O!==V.w;){if(A=C.node(O),ce){for(;(ee=B[Y])!==H&&C.node(ee).maxRank<A.rank;)Y++;ee===H&&(ce=!1)}if(!ce){for(;Y<B.length-1&&C.node(ee=B[Y+1]).minRank<=A.rank;)Y++;ee=B[Y]}C.setParent(O,ee),O=C.successors(O)[0]}})}},8851:($,ae,D)=>{"use strict";var T=D(3990),k=D(5849).Graph,N=D(9505);function I(se,he){var te={};return T.reduce(he,function pe(Z,oe){var ie=0,me=0,_e=Z.length,Se=T.last(oe);return T.forEach(oe,function(De,ze){var Be=function S(se,he){if(se.node(he).dummy)return T.find(se.predecessors(he),function(te){return se.node(te).dummy})}(se,De),ot=Be?se.node(Be).order:_e;(Be||De===Se)&&(T.forEach(oe.slice(me,ze+1),function(ft){T.forEach(se.predecessors(ft),function(Ye){var _t=se.node(Ye),Xe=_t.order;(Xe<ie||ot<Xe)&&(!_t.dummy||!se.node(ft).dummy)&&O(te,Ye,ft)})}),me=ze+1,ie=ot)}),oe}),te}function C(se,he){var te={};function pe(oe,ie,me,_e,Se){var De;T.forEach(T.range(ie,me),function(ze){se.node(De=oe[ze]).dummy&&T.forEach(se.predecessors(De),function(Be){var ot=se.node(Be);ot.dummy&&(ot.order<_e||ot.order>Se)&&O(te,Be,De)})})}return T.reduce(he,function Z(oe,ie){var _e,me=-1,Se=0;return T.forEach(ie,function(De,ze){if("border"===se.node(De).dummy){var Be=se.predecessors(De);Be.length&&(_e=se.node(Be[0]).order,pe(ie,Se,ze,me,_e),Se=ze,me=_e)}pe(ie,Se,ie.length,_e,oe.length)}),ie}),te}function O(se,he,te){if(he>te){var pe=he;he=te,te=pe}var Z=se[he];Z||(se[he]=Z={}),Z[te]=!0}function A(se,he,te){if(he>te){var pe=he;he=te,te=pe}return T.has(se[he],te)}function V(se,he,te,pe){var Z={},oe={},ie={};return T.forEach(he,function(me){T.forEach(me,function(_e,Se){Z[_e]=_e,oe[_e]=_e,ie[_e]=Se})}),T.forEach(he,function(me){var _e=-1;T.forEach(me,function(Se){var De=pe(Se);if(De.length)for(var ze=((De=T.sortBy(De,function(Ye){return ie[Ye]})).length-1)/2,Be=Math.floor(ze),ot=Math.ceil(ze);Be<=ot;++Be){var ft=De[Be];oe[Se]===Se&&_e<ie[ft]&&!A(te,Se,ft)&&(oe[ft]=Se,oe[Se]=Z[Se]=Z[ft],_e=ie[ft])}})}),{root:Z,align:oe}}function L(se,he,te,pe,Z){var oe={},ie=function B(se,he,te,pe){var Z=new k,oe=se.graph(),ie=function ne(se,he,te){return function(pe,Z,oe){var Se,ie=pe.node(Z),me=pe.node(oe),_e=0;if(_e+=ie.width/2,T.has(ie,"labelpos"))switch(ie.labelpos.toLowerCase()){case"l":Se=-ie.width/2;break;case"r":Se=ie.width/2}if(Se&&(_e+=te?Se:-Se),Se=0,_e+=(ie.dummy?he:se)/2,_e+=(me.dummy?he:se)/2,_e+=me.width/2,T.has(me,"labelpos"))switch(me.labelpos.toLowerCase()){case"l":Se=me.width/2;break;case"r":Se=-me.width/2}return Se&&(_e+=te?Se:-Se),Se=0,_e}}(oe.nodesep,oe.edgesep,pe);return T.forEach(he,function(me){var _e;T.forEach(me,function(Se){var De=te[Se];if(Z.setNode(De),_e){var ze=te[_e],Be=Z.edge(ze,De);Z.setEdge(ze,De,Math.max(ie(se,Se,_e),Be||0))}_e=Se})}),Z}(se,he,te,Z),me=Z?"borderLeft":"borderRight";function _e(ze,Be){for(var ot=ie.nodes(),ft=ot.pop(),Ye={};ft;)Ye[ft]?ze(ft):(Ye[ft]=!0,ot.push(ft),ot=ot.concat(Be(ft))),ft=ot.pop()}return _e(function Se(ze){oe[ze]=ie.inEdges(ze).reduce(function(Be,ot){return Math.max(Be,oe[ot.v]+ie.edge(ot))},0)},ie.predecessors.bind(ie)),_e(function De(ze){var Be=ie.outEdges(ze).reduce(function(ft,Ye){return Math.min(ft,oe[Ye.w]-ie.edge(Ye))},Number.POSITIVE_INFINITY),ot=se.node(ze);Be!==Number.POSITIVE_INFINITY&&ot.borderType!==me&&(oe[ze]=Math.max(oe[ze],Be))},ie.successors.bind(ie)),T.forEach(pe,function(ze){oe[ze]=oe[te[ze]]}),oe}function H(se,he){return T.minBy(T.values(he),function(te){var pe=Number.NEGATIVE_INFINITY,Z=Number.POSITIVE_INFINITY;return T.forIn(te,function(oe,ie){var me=function le(se,he){return se.node(he).width}(se,ie)/2;pe=Math.max(oe+me,pe),Z=Math.min(oe-me,Z)}),pe-Z})}function Y(se,he){var te=T.values(he),pe=T.min(te),Z=T.max(te);T.forEach(["u","d"],function(oe){T.forEach(["l","r"],function(ie){var Se,me=oe+ie,_e=se[me];if(_e!==he){var De=T.values(_e);(Se="l"===ie?pe-T.min(De):Z-T.max(De))&&(se[me]=T.mapValues(_e,function(ze){return ze+Se}))}})})}function ee(se,he){return T.mapValues(se.ul,function(te,pe){if(he)return se[he.toLowerCase()][pe];var Z=T.sortBy(T.map(se,pe));return(Z[1]+Z[2])/2})}$.exports={positionX:function ce(se){var Z,he=N.buildLayerMatrix(se),te=T.merge(I(se,he),C(se,he)),pe={};T.forEach(["u","d"],function(ie){Z="u"===ie?he:T.values(he).reverse(),T.forEach(["l","r"],function(me){"r"===me&&(Z=T.map(Z,function(ze){return T.values(ze).reverse()}));var _e=("u"===ie?se.predecessors:se.successors).bind(se),Se=V(0,Z,te,_e),De=L(se,Z,Se.root,Se.align,"r"===me);"r"===me&&(De=T.mapValues(De,function(ze){return-ze})),pe[ie+me]=De})});var oe=H(se,pe);return Y(pe,oe),ee(pe,se.graph().align)},findType1Conflicts:I,findType2Conflicts:C,addConflict:O,hasConflict:A,verticalAlignment:V,horizontalCompaction:L,alignCoordinates:Y,findSmallestWidthAlignment:H,balance:ee}},6403:($,ae,D)=>{"use strict";var T=D(3990),k=D(9505),N=D(8851).positionX;$.exports=function I(S){(function C(S){var O=k.buildLayerMatrix(S),A=S.graph().ranksep,V=0;T.forEach(O,function(L){var B=T.max(T.map(L,function(H){return S.node(H).height}));T.forEach(L,function(H){S.node(H).y=V+B/2}),V+=B+A})})(S=k.asNonCompoundGraph(S)),T.forEach(N(S),function(O,A){S.node(A).x=O})}},8214:($,ae,D)=>{"use strict";var T=D(3990),k=D(5849).Graph,N=D(4216).slack;function C(A,V){return T.forEach(A.nodes(),function L(B){T.forEach(V.nodeEdges(B),function(H){var Y=H.v,ee=B===Y?H.w:Y;!A.hasNode(ee)&&!N(V,H)&&(A.setNode(ee,{}),A.setEdge(B,ee,{}),L(ee))})}),A.nodeCount()}function S(A,V){return T.minBy(V.edges(),function(L){if(A.hasNode(L.v)!==A.hasNode(L.w))return N(V,L)})}function O(A,V,L){T.forEach(A.nodes(),function(B){V.node(B).rank+=L})}$.exports=function I(A){var H,Y,V=new k({directed:!1}),L=A.nodes()[0],B=A.nodeCount();for(V.setNode(L,{});C(V,A)<B;)H=S(V,A),Y=V.hasNode(H.v)?N(A,H):-N(A,H),O(V,A,Y);return V}},3752:($,ae,D)=>{"use strict";var k=D(4216).longestPath,N=D(8214),I=D(4857);$.exports=function C(V){switch(V.graph().ranker){case"network-simplex":default:!function A(V){I(V)}(V);break;case"tight-tree":!function O(V){k(V),N(V)}(V);break;case"longest-path":S(V)}};var S=k},4857:($,ae,D)=>{"use strict";var T=D(3990),k=D(8214),N=D(4216).slack,I=D(4216).longestPath,C=D(5849).alg.preorder,S=D(5849).alg.postorder,O=D(9505).simplify;function A(te){te=O(te),I(te);var Z,pe=k(te);for(H(pe),V(pe,te);Z=ee(pe);)ne(pe,te,Z,ce(pe,te,Z))}function V(te,pe){var Z=S(te,te.nodes());Z=Z.slice(0,Z.length-1),T.forEach(Z,function(oe){!function L(te,pe,Z){var oe=te.node(Z);te.edge(Z,oe.parent).cutvalue=B(te,pe,Z)}(te,pe,oe)})}function B(te,pe,Z){var ie=te.node(Z).parent,me=!0,_e=pe.edge(Z,ie),Se=0;return _e||(me=!1,_e=pe.edge(ie,Z)),Se=_e.weight,T.forEach(pe.nodeEdges(Z),function(De){var ze=De.v===Z,Be=ze?De.w:De.v;if(Be!==ie){var ot=ze===me,ft=pe.edge(De).weight;if(Se+=ot?ft:-ft,function se(te,pe,Z){return te.hasEdge(pe,Z)}(te,Z,Be)){var Ye=te.edge(Z,Be).cutvalue;Se+=ot?-Ye:Ye}}}),Se}function H(te,pe){arguments.length<2&&(pe=te.nodes()[0]),Y(te,{},1,pe)}function Y(te,pe,Z,oe,ie){var me=Z,_e=te.node(oe);return pe[oe]=!0,T.forEach(te.neighbors(oe),function(Se){T.has(pe,Se)||(Z=Y(te,pe,Z,Se,oe))}),_e.low=me,_e.lim=Z++,ie?_e.parent=ie:delete _e.parent,Z}function ee(te){return T.find(te.edges(),function(pe){return te.edge(pe).cutvalue<0})}function ce(te,pe,Z){var oe=Z.v,ie=Z.w;pe.hasEdge(oe,ie)||(oe=Z.w,ie=Z.v);var me=te.node(oe),_e=te.node(ie),Se=me,De=!1;me.lim>_e.lim&&(Se=_e,De=!0);var ze=T.filter(pe.edges(),function(Be){return De===he(0,te.node(Be.v),Se)&&De!==he(0,te.node(Be.w),Se)});return T.minBy(ze,function(Be){return N(pe,Be)})}function ne(te,pe,Z,oe){te.removeEdge(Z.v,Z.w),te.setEdge(oe.v,oe.w,{}),H(te),V(te,pe),function le(te,pe){var Z=T.find(te.nodes(),function(ie){return!pe.node(ie).parent}),oe=C(te,Z);oe=oe.slice(1),T.forEach(oe,function(ie){var me=te.node(ie).parent,_e=pe.edge(ie,me),Se=!1;_e||(_e=pe.edge(me,ie),Se=!0),pe.node(ie).rank=pe.node(me).rank+(Se?_e.minlen:-_e.minlen)})}(te,pe)}function he(te,pe,Z){return Z.low<=pe.lim&&pe.lim<=Z.lim}$.exports=A,A.initLowLimValues=H,A.initCutValues=V,A.calcCutValue=B,A.leaveEdge=ee,A.enterEdge=ce,A.exchangeEdges=ne},4216:($,ae,D)=>{"use strict";var T=D(3990);$.exports={longestPath:function k(I){var C={};T.forEach(I.sources(),function S(O){var A=I.node(O);if(T.has(C,O))return A.rank;C[O]=!0;var V=T.min(T.map(I.outEdges(O),function(L){return S(L.w)-I.edge(L).minlen}));return(V===Number.POSITIVE_INFINITY||null==V)&&(V=0),A.rank=V})},slack:function N(I,C){return I.node(C.w).rank-I.node(C.v).rank-I.edge(C).minlen}}},9505:($,ae,D)=>{"use strict";var T=D(3990),k=D(5849).Graph;function N(le,se,he,te){var pe;do{pe=T.uniqueId(te)}while(le.hasNode(pe));return he.dummy=se,le.setNode(pe,he),pe}function Y(le){return T.max(T.map(le.nodes(),function(se){var he=le.node(se).rank;if(!T.isUndefined(he))return he}))}$.exports={addDummyNode:N,simplify:function I(le){var se=(new k).setGraph(le.graph());return T.forEach(le.nodes(),function(he){se.setNode(he,le.node(he))}),T.forEach(le.edges(),function(he){var te=se.edge(he.v,he.w)||{weight:0,minlen:1},pe=le.edge(he);se.setEdge(he.v,he.w,{weight:te.weight+pe.weight,minlen:Math.max(te.minlen,pe.minlen)})}),se},asNonCompoundGraph:function C(le){var se=new k({multigraph:le.isMultigraph()}).setGraph(le.graph());return T.forEach(le.nodes(),function(he){le.children(he).length||se.setNode(he,le.node(he))}),T.forEach(le.edges(),function(he){se.setEdge(he,le.edge(he))}),se},successorWeights:function S(le){var se=T.map(le.nodes(),function(he){var te={};return T.forEach(le.outEdges(he),function(pe){te[pe.w]=(te[pe.w]||0)+le.edge(pe).weight}),te});return T.zipObject(le.nodes(),se)},predecessorWeights:function O(le){var se=T.map(le.nodes(),function(he){var te={};return T.forEach(le.inEdges(he),function(pe){te[pe.v]=(te[pe.v]||0)+le.edge(pe).weight}),te});return T.zipObject(le.nodes(),se)},intersectRect:function A(le,se){var me,_e,he=le.x,te=le.y,pe=se.x-he,Z=se.y-te,oe=le.width/2,ie=le.height/2;if(!pe&&!Z)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(Z)*oe>Math.abs(pe)*ie?(Z<0&&(ie=-ie),me=ie*pe/Z,_e=ie):(pe<0&&(oe=-oe),me=oe,_e=oe*Z/pe),{x:he+me,y:te+_e}},buildLayerMatrix:function V(le){var se=T.map(T.range(Y(le)+1),function(){return[]});return T.forEach(le.nodes(),function(he){var te=le.node(he),pe=te.rank;T.isUndefined(pe)||(se[pe][te.order]=he)}),se},normalizeRanks:function L(le){var se=T.min(T.map(le.nodes(),function(he){return le.node(he).rank}));T.forEach(le.nodes(),function(he){var te=le.node(he);T.has(te,"rank")&&(te.rank-=se)})},removeEmptyRanks:function B(le){var se=T.min(T.map(le.nodes(),function(Z){return le.node(Z).rank})),he=[];T.forEach(le.nodes(),function(Z){var oe=le.node(Z).rank-se;he[oe]||(he[oe]=[]),he[oe].push(Z)});var te=0,pe=le.graph().nodeRankFactor;T.forEach(he,function(Z,oe){T.isUndefined(Z)&&oe%pe!=0?--te:te&&T.forEach(Z,function(ie){le.node(ie).rank+=te})})},addBorderNode:function H(le,se,he,te){var pe={width:0,height:0};return arguments.length>=4&&(pe.rank=he,pe.order=te),N(le,"border",pe,se)},maxRank:Y,partition:function ee(le,se){var he={lhs:[],rhs:[]};return T.forEach(le,function(te){se(te)?he.lhs.push(te):he.rhs.push(te)}),he},time:function ce(le,se){var he=T.now();try{return se()}finally{console.log(le+" time: "+(T.now()-he)+"ms")}},notime:function ne(le,se){return se()}}},2187:$=>{$.exports="0.8.5"},9034:($,ae,D)=>{var T=D(3934);$.exports={Graph:T.Graph,json:D(2440),alg:D(3955),version:T.version}},1986:($,ae,D)=>{var T=D(9368);$.exports=function k(N){var S,I={},C=[];function O(A){T.has(I,A)||(I[A]=!0,S.push(A),T.each(N.successors(A),O),T.each(N.predecessors(A),O))}return T.each(N.nodes(),function(A){S=[],O(A),S.length&&C.push(S)}),C}},1428:($,ae,D)=>{var T=D(9368);function N(I,C,S,O,A,V){T.has(O,C)||(O[C]=!0,S||V.push(C),T.each(A(C),function(L){N(I,L,S,O,A,V)}),S&&V.push(C))}$.exports=function k(I,C,S){T.isArray(C)||(C=[C]);var O=(I.isDirected()?I.successors:I.neighbors).bind(I),A=[],V={};return T.each(C,function(L){if(!I.hasNode(L))throw new Error("Graph does not have node: "+L);N(I,L,"post"===S,V,O,A)}),A}},5583:($,ae,D)=>{var T=D(2644),k=D(9368);$.exports=function N(I,C,S){return k.transform(I.nodes(),function(O,A){O[A]=T(I,A,C,S)},{})}},2644:($,ae,D)=>{var T=D(9368),k=D(1321);$.exports=function I(S,O,A,V){return function C(S,O,A,V){var H,Y,L={},B=new k,ee=function(ce){var ne=ce.v!==H?ce.v:ce.w,le=L[ne],se=A(ce),he=Y.distance+se;if(se<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+ce+" Weight: "+se);he<le.distance&&(le.distance=he,le.predecessor=H,B.decrease(ne,he))};for(S.nodes().forEach(function(ce){var ne=ce===O?0:Number.POSITIVE_INFINITY;L[ce]={distance:ne},B.add(ce,ne)});B.size()>0&&(H=B.removeMin(),(Y=L[H]).distance!==Number.POSITIVE_INFINITY);)V(H).forEach(ee);return L}(S,String(O),A||N,V||function(L){return S.outEdges(L)})};var N=T.constant(1)},7651:($,ae,D)=>{var T=D(9368),k=D(3628);$.exports=function N(I){return T.filter(k(I),function(C){return C.length>1||1===C.length&&I.hasEdge(C[0],C[0])})}},5160:($,ae,D)=>{var T=D(9368);$.exports=function N(C,S,O){return function I(C,S,O){var A={},V=C.nodes();return V.forEach(function(L){A[L]={},A[L][L]={distance:0},V.forEach(function(B){L!==B&&(A[L][B]={distance:Number.POSITIVE_INFINITY})}),O(L).forEach(function(B){var H=B.v===L?B.w:B.v,Y=S(B);A[L][H]={distance:Y,predecessor:L}})}),V.forEach(function(L){var B=A[L];V.forEach(function(H){var Y=A[H];V.forEach(function(ee){var ne=B[ee],le=Y[ee],se=Y[L].distance+ne.distance;se<le.distance&&(le.distance=se,le.predecessor=ne.predecessor)})})}),A}(C,S||k,O||function(A){return C.outEdges(A)})};var k=T.constant(1)},3955:($,ae,D)=>{$.exports={components:D(1986),dijkstra:D(2644),dijkstraAll:D(5583),findCycles:D(7651),floydWarshall:D(5160),isAcyclic:D(6993),postorder:D(703),preorder:D(6544),prim:D(4338),tarjan:D(3628),topsort:D(5344)}},6993:($,ae,D)=>{var T=D(5344);$.exports=function k(N){try{T(N)}catch(I){if(I instanceof T.CycleException)return!1;throw I}return!0}},703:($,ae,D)=>{var T=D(1428);$.exports=function k(N,I){return T(N,I,"post")}},6544:($,ae,D)=>{var T=D(1428);$.exports=function k(N,I){return T(N,I,"pre")}},4338:($,ae,D)=>{var T=D(9368),k=D(427),N=D(1321);$.exports=function I(C,S){var L,O=new k,A={},V=new N;function B(Y){var ee=Y.v===L?Y.w:Y.v,ce=V.priority(ee);if(void 0!==ce){var ne=S(Y);ne<ce&&(A[ee]=L,V.decrease(ee,ne))}}if(0===C.nodeCount())return O;T.each(C.nodes(),function(Y){V.add(Y,Number.POSITIVE_INFINITY),O.setNode(Y)}),V.decrease(C.nodes()[0],0);for(var H=!1;V.size()>0;){if(L=V.removeMin(),T.has(A,L))O.setEdge(L,A[L]);else{if(H)throw new Error("Input graph is not connected: "+C);H=!0}C.nodeEdges(L).forEach(B)}return O}},3628:($,ae,D)=>{var T=D(9368);$.exports=function k(N){var I=0,C=[],S={},O=[];function A(V){var L=S[V]={onStack:!0,lowlink:I,index:I++};if(C.push(V),N.successors(V).forEach(function(Y){T.has(S,Y)?S[Y].onStack&&(L.lowlink=Math.min(L.lowlink,S[Y].index)):(A(Y),L.lowlink=Math.min(L.lowlink,S[Y].lowlink))}),L.lowlink===L.index){var H,B=[];do{H=C.pop(),S[H].onStack=!1,B.push(H)}while(V!==H);O.push(B)}}return N.nodes().forEach(function(V){T.has(S,V)||A(V)}),O}},5344:($,ae,D)=>{var T=D(9368);function k(I){var C={},S={},O=[];if(T.each(I.sinks(),function A(V){if(T.has(S,V))throw new N;T.has(C,V)||(S[V]=!0,C[V]=!0,T.each(I.predecessors(V),A),delete S[V],O.push(V))}),T.size(C)!==I.nodeCount())throw new N;return O}function N(){}$.exports=k,k.CycleException=N,N.prototype=new Error},1321:($,ae,D)=>{var T=D(9368);function k(){this._arr=[],this._keyIndices={}}$.exports=k,k.prototype.size=function(){return this._arr.length},k.prototype.keys=function(){return this._arr.map(function(N){return N.key})},k.prototype.has=function(N){return T.has(this._keyIndices,N)},k.prototype.priority=function(N){var I=this._keyIndices[N];if(void 0!==I)return this._arr[I].priority},k.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},k.prototype.add=function(N,I){var C=this._keyIndices;if(N=String(N),!T.has(C,N)){var S=this._arr,O=S.length;return C[N]=O,S.push({key:N,priority:I}),this._decrease(O),!0}return!1},k.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var N=this._arr.pop();return delete this._keyIndices[N.key],this._heapify(0),N.key},k.prototype.decrease=function(N,I){var C=this._keyIndices[N];if(I>this._arr[C].priority)throw new Error("New priority is greater than current priority. Key: "+N+" Old: "+this._arr[C].priority+" New: "+I);this._arr[C].priority=I,this._decrease(C)},k.prototype._heapify=function(N){var I=this._arr,C=2*N,S=C+1,O=N;C<I.length&&(O=I[C].priority<I[O].priority?C:O,S<I.length&&(O=I[S].priority<I[O].priority?S:O),O!==N&&(this._swap(N,O),this._heapify(O)))},k.prototype._decrease=function(N){for(var S,I=this._arr,C=I[N].priority;0!==N&&!(I[S=N>>1].priority<C);)this._swap(N,S),N=S},k.prototype._swap=function(N,I){var C=this._arr,S=this._keyIndices,O=C[N],A=C[I];C[N]=A,C[I]=O,S[A.key]=N,S[O.key]=I}},427:($,ae,D)=>{"use strict";var T=D(9368);$.exports=C;var k="\0",N="\0",I="\x01";function C(B){this._isDirected=!T.has(B,"directed")||B.directed,this._isMultigraph=!!T.has(B,"multigraph")&&B.multigraph,this._isCompound=!!T.has(B,"compound")&&B.compound,this._label=void 0,this._defaultNodeLabelFn=T.constant(void 0),this._defaultEdgeLabelFn=T.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[N]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function S(B,H){B[H]?B[H]++:B[H]=1}function O(B,H){--B[H]||delete B[H]}function A(B,H,Y,ee){var ce=""+H,ne=""+Y;if(!B&&ce>ne){var le=ce;ce=ne,ne=le}return ce+I+ne+I+(T.isUndefined(ee)?k:ee)}function L(B,H){return A(B,H.v,H.w,H.name)}C.prototype._nodeCount=0,C.prototype._edgeCount=0,C.prototype.isDirected=function(){return this._isDirected},C.prototype.isMultigraph=function(){return this._isMultigraph},C.prototype.isCompound=function(){return this._isCompound},C.prototype.setGraph=function(B){return this._label=B,this},C.prototype.graph=function(){return this._label},C.prototype.setDefaultNodeLabel=function(B){return T.isFunction(B)||(B=T.constant(B)),this._defaultNodeLabelFn=B,this},C.prototype.nodeCount=function(){return this._nodeCount},C.prototype.nodes=function(){return T.keys(this._nodes)},C.prototype.sources=function(){var B=this;return T.filter(this.nodes(),function(H){return T.isEmpty(B._in[H])})},C.prototype.sinks=function(){var B=this;return T.filter(this.nodes(),function(H){return T.isEmpty(B._out[H])})},C.prototype.setNodes=function(B,H){var Y=arguments,ee=this;return T.each(B,function(ce){Y.length>1?ee.setNode(ce,H):ee.setNode(ce)}),this},C.prototype.setNode=function(B,H){return T.has(this._nodes,B)?(arguments.length>1&&(this._nodes[B]=H),this):(this._nodes[B]=arguments.length>1?H:this._defaultNodeLabelFn(B),this._isCompound&&(this._parent[B]=N,this._children[B]={},this._children[N][B]=!0),this._in[B]={},this._preds[B]={},this._out[B]={},this._sucs[B]={},++this._nodeCount,this)},C.prototype.node=function(B){return this._nodes[B]},C.prototype.hasNode=function(B){return T.has(this._nodes,B)},C.prototype.removeNode=function(B){var H=this;if(T.has(this._nodes,B)){var Y=function(ee){H.removeEdge(H._edgeObjs[ee])};delete this._nodes[B],this._isCompound&&(this._removeFromParentsChildList(B),delete this._parent[B],T.each(this.children(B),function(ee){H.setParent(ee)}),delete this._children[B]),T.each(T.keys(this._in[B]),Y),delete this._in[B],delete this._preds[B],T.each(T.keys(this._out[B]),Y),delete this._out[B],delete this._sucs[B],--this._nodeCount}return this},C.prototype.setParent=function(B,H){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(T.isUndefined(H))H=N;else{for(var Y=H+="";!T.isUndefined(Y);Y=this.parent(Y))if(Y===B)throw new Error("Setting "+H+" as parent of "+B+" would create a cycle");this.setNode(H)}return this.setNode(B),this._removeFromParentsChildList(B),this._parent[B]=H,this._children[H][B]=!0,this},C.prototype._removeFromParentsChildList=function(B){delete this._children[this._parent[B]][B]},C.prototype.parent=function(B){if(this._isCompound){var H=this._parent[B];if(H!==N)return H}},C.prototype.children=function(B){if(T.isUndefined(B)&&(B=N),this._isCompound){var H=this._children[B];if(H)return T.keys(H)}else{if(B===N)return this.nodes();if(this.hasNode(B))return[]}},C.prototype.predecessors=function(B){var H=this._preds[B];if(H)return T.keys(H)},C.prototype.successors=function(B){var H=this._sucs[B];if(H)return T.keys(H)},C.prototype.neighbors=function(B){var H=this.predecessors(B);if(H)return T.union(H,this.successors(B))},C.prototype.isLeaf=function(B){return 0===(this.isDirected()?this.successors(B):this.neighbors(B)).length},C.prototype.filterNodes=function(B){var H=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});H.setGraph(this.graph());var Y=this;T.each(this._nodes,function(ne,le){B(le)&&H.setNode(le,ne)}),T.each(this._edgeObjs,function(ne){H.hasNode(ne.v)&&H.hasNode(ne.w)&&H.setEdge(ne,Y.edge(ne))});var ee={};function ce(ne){var le=Y.parent(ne);return void 0===le||H.hasNode(le)?(ee[ne]=le,le):le in ee?ee[le]:ce(le)}return this._isCompound&&T.each(H.nodes(),function(ne){H.setParent(ne,ce(ne))}),H},C.prototype.setDefaultEdgeLabel=function(B){return T.isFunction(B)||(B=T.constant(B)),this._defaultEdgeLabelFn=B,this},C.prototype.edgeCount=function(){return this._edgeCount},C.prototype.edges=function(){return T.values(this._edgeObjs)},C.prototype.setPath=function(B,H){var Y=this,ee=arguments;return T.reduce(B,function(ce,ne){return ee.length>1?Y.setEdge(ce,ne,H):Y.setEdge(ce,ne),ne}),this},C.prototype.setEdge=function(){var B,H,Y,ee,ce=!1,ne=arguments[0];"object"==typeof ne&&null!==ne&&"v"in ne?(B=ne.v,H=ne.w,Y=ne.name,2===arguments.length&&(ee=arguments[1],ce=!0)):(B=ne,H=arguments[1],Y=arguments[3],arguments.length>2&&(ee=arguments[2],ce=!0)),B=""+B,H=""+H,T.isUndefined(Y)||(Y=""+Y);var le=A(this._isDirected,B,H,Y);if(T.has(this._edgeLabels,le))return ce&&(this._edgeLabels[le]=ee),this;if(!T.isUndefined(Y)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(B),this.setNode(H),this._edgeLabels[le]=ce?ee:this._defaultEdgeLabelFn(B,H,Y);var se=function V(B,H,Y,ee){var ce=""+H,ne=""+Y;if(!B&&ce>ne){var le=ce;ce=ne,ne=le}var se={v:ce,w:ne};return ee&&(se.name=ee),se}(this._isDirected,B,H,Y);return B=se.v,H=se.w,Object.freeze(se),this._edgeObjs[le]=se,S(this._preds[H],B),S(this._sucs[B],H),this._in[H][le]=se,this._out[B][le]=se,this._edgeCount++,this},C.prototype.edge=function(B,H,Y){var ee=1===arguments.length?L(this._isDirected,arguments[0]):A(this._isDirected,B,H,Y);return this._edgeLabels[ee]},C.prototype.hasEdge=function(B,H,Y){var ee=1===arguments.length?L(this._isDirected,arguments[0]):A(this._isDirected,B,H,Y);return T.has(this._edgeLabels,ee)},C.prototype.removeEdge=function(B,H,Y){var ee=1===arguments.length?L(this._isDirected,arguments[0]):A(this._isDirected,B,H,Y),ce=this._edgeObjs[ee];return ce&&(B=ce.v,H=ce.w,delete this._edgeLabels[ee],delete this._edgeObjs[ee],O(this._preds[H],B),O(this._sucs[B],H),delete this._in[H][ee],delete this._out[B][ee],this._edgeCount--),this},C.prototype.inEdges=function(B,H){var Y=this._in[B];if(Y){var ee=T.values(Y);return H?T.filter(ee,function(ce){return ce.v===H}):ee}},C.prototype.outEdges=function(B,H){var Y=this._out[B];if(Y){var ee=T.values(Y);return H?T.filter(ee,function(ce){return ce.w===H}):ee}},C.prototype.nodeEdges=function(B,H){var Y=this.inEdges(B,H);if(Y)return Y.concat(this.outEdges(B,H))}},3934:($,ae,D)=>{$.exports={Graph:D(427),version:D(7747)}},2440:($,ae,D)=>{var T=D(9368),k=D(427);function I(O){return T.map(O.nodes(),function(A){var V=O.node(A),L=O.parent(A),B={v:A};return T.isUndefined(V)||(B.value=V),T.isUndefined(L)||(B.parent=L),B})}function C(O){return T.map(O.edges(),function(A){var V=O.edge(A),L={v:A.v,w:A.w};return T.isUndefined(A.name)||(L.name=A.name),T.isUndefined(V)||(L.value=V),L})}$.exports={write:function N(O){var A={options:{directed:O.isDirected(),multigraph:O.isMultigraph(),compound:O.isCompound()},nodes:I(O),edges:C(O)};return T.isUndefined(O.graph())||(A.value=T.clone(O.graph())),A},read:function S(O){var A=new k(O.options).setGraph(O.value);return T.each(O.nodes,function(V){A.setNode(V.v,V.value),V.parent&&A.setParent(V.v,V.parent)}),T.each(O.edges,function(V){A.setEdge({v:V.v,w:V.w,name:V.name},V.value)}),A}}},9368:($,ae,D)=>{var T;try{T={clone:D(8734),constant:D(1075),each:D(6488),filter:D(7661),has:D(8669),isArray:D(2261),isEmpty:D(5350),isFunction:D(6861),isUndefined:D(8152),keys:D(4614),map:D(8921),reduce:D(5909),size:D(5741),transform:D(6893),union:D(2480),values:D(8808)}}catch{}T||(T=window._),$.exports=T},7747:$=>{$.exports="2.1.8"},7444:($,ae,D)=>{$.exports=D(7253)},7253:function($,ae){var D,T,k;(function(){var N,I,C,S,O,A,V,L,B,H,Y,ee,ce,ne,le;C=Math.floor,H=Math.min,I=function(se,he){return se<he?-1:se>he?1:0},B=function(se,he,te,pe,Z){var oe;if(null==te&&(te=0),null==Z&&(Z=I),te<0)throw new Error("lo must be non-negative");for(null==pe&&(pe=se.length);te<pe;)Z(he,se[oe=C((te+pe)/2)])<0?pe=oe:te=oe+1;return[].splice.apply(se,[te,te-te].concat(he)),he},A=function(se,he,te){return null==te&&(te=I),se.push(he),ne(se,0,se.length-1,te)},O=function(se,he){var te,pe;return null==he&&(he=I),te=se.pop(),se.length?(pe=se[0],se[0]=te,le(se,0,he)):pe=te,pe},L=function(se,he,te){var pe;return null==te&&(te=I),pe=se[0],se[0]=he,le(se,0,te),pe},V=function(se,he,te){var pe;return null==te&&(te=I),se.length&&te(se[0],he)<0&&(he=(pe=[se[0],he])[0],se[0]=pe[1],le(se,0,te)),he},S=function(se,he){var pe,oe,me,_e,Se;for(null==he&&(he=I),_e=[],pe=0,oe=(me=function(){Se=[];for(var De=0,ze=C(se.length/2);0<=ze?De<ze:De>ze;0<=ze?De++:De--)Se.push(De);return Se}.apply(this).reverse()).length;pe<oe;pe++)_e.push(le(se,me[pe],he));return _e},ce=function(se,he,te){var pe;if(null==te&&(te=I),-1!==(pe=se.indexOf(he)))return ne(se,0,pe,te),le(se,pe,te)},Y=function(se,he,te){var Z,oe,ie,me;if(null==te&&(te=I),!(Z=se.slice(0,he)).length)return Z;for(S(Z,te),oe=0,ie=(me=se.slice(he)).length;oe<ie;oe++)V(Z,me[oe],te);return Z.sort(te).reverse()},ee=function(se,he,te){var pe,oe,ie,me,_e,Se,De,ze,Be;if(null==te&&(te=I),10*he<=se.length){if(!(ie=se.slice(0,he).sort(te)).length)return ie;for(oe=ie[ie.length-1],me=0,Se=(De=se.slice(he)).length;me<Se;me++)te(pe=De[me],oe)<0&&(B(ie,pe,0,null,te),ie.pop(),oe=ie[ie.length-1]);return ie}for(S(se,te),Be=[],_e=0,ze=H(he,se.length);0<=ze?_e<ze:_e>ze;0<=ze?++_e:--_e)Be.push(O(se,te));return Be},ne=function(se,he,te,pe){var Z,oe,ie;for(null==pe&&(pe=I),Z=se[te];te>he&&pe(Z,oe=se[ie=te-1>>1])<0;)se[te]=oe,te=ie;return se[te]=Z},le=function(se,he,te){var pe,Z,oe,ie,me;for(null==te&&(te=I),Z=se.length,me=he,oe=se[he],pe=2*he+1;pe<Z;)(ie=pe+1)<Z&&!(te(se[pe],se[ie])<0)&&(pe=ie),se[he]=se[pe],pe=2*(he=pe)+1;return se[he]=oe,ne(se,me,he,te)},N=function(){function se(he){this.cmp=he??I,this.nodes=[]}return se.push=A,se.pop=O,se.replace=L,se.pushpop=V,se.heapify=S,se.updateItem=ce,se.nlargest=Y,se.nsmallest=ee,se.prototype.push=function(he){return A(this.nodes,he,this.cmp)},se.prototype.pop=function(){return O(this.nodes,this.cmp)},se.prototype.peek=function(){return this.nodes[0]},se.prototype.contains=function(he){return-1!==this.nodes.indexOf(he)},se.prototype.replace=function(he){return L(this.nodes,he,this.cmp)},se.prototype.pushpop=function(he){return V(this.nodes,he,this.cmp)},se.prototype.heapify=function(){return S(this.nodes,this.cmp)},se.prototype.updateItem=function(he){return ce(this.nodes,he,this.cmp)},se.prototype.clear=function(){return this.nodes=[]},se.prototype.empty=function(){return 0===this.nodes.length},se.prototype.size=function(){return this.nodes.length},se.prototype.clone=function(){var he;return(he=new se).nodes=this.nodes.slice(0),he},se.prototype.toArray=function(){return this.nodes.slice(0)},se.prototype.insert=se.prototype.push,se.prototype.top=se.prototype.peek,se.prototype.front=se.prototype.peek,se.prototype.has=se.prototype.contains,se.prototype.copy=se.prototype.clone,se}(),T=[],void 0===(k="function"==typeof(D=function(){return N})?D.apply(ae,T):D)||($.exports=k)}).call(this)},4465:function($){$.exports=function(ae){var D={};function T(k){if(D[k])return D[k].exports;var N=D[k]={i:k,l:!1,exports:{}};return ae[k].call(N.exports,N,N.exports,T),N.l=!0,N.exports}return T.m=ae,T.c=D,T.i=function(k){return k},T.d=function(k,N,I){T.o(k,N)||Object.defineProperty(k,N,{configurable:!1,enumerable:!0,get:I})},T.n=function(k){var N=k&&k.__esModule?function(){return k.default}:function(){return k};return T.d(N,"a",N),N},T.o=function(k,N){return Object.prototype.hasOwnProperty.call(k,N)},T.p="",T(T.s=26)}([function(ae,D,T){"use strict";function k(){}k.QUALITY=1,k.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,k.DEFAULT_INCREMENTAL=!1,k.DEFAULT_ANIMATION_ON_LAYOUT=!0,k.DEFAULT_ANIMATION_DURING_LAYOUT=!1,k.DEFAULT_ANIMATION_PERIOD=50,k.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,k.DEFAULT_GRAPH_MARGIN=15,k.NODE_DIMENSIONS_INCLUDE_LABELS=!1,k.SIMPLE_NODE_HALF_SIZE=(k.SIMPLE_NODE_SIZE=40)/2,k.EMPTY_COMPOUND_NODE_SIZE=40,k.MIN_EDGE_LENGTH=1,k.INITIAL_WORLD_BOUNDARY=(k.WORLD_BOUNDARY=1e6)/1e3,k.WORLD_CENTER_X=1200,k.WORLD_CENTER_Y=900,ae.exports=k},function(ae,D,T){"use strict";var k=T(2),N=T(8),I=T(9);function C(O,A,V){k.call(this,V),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=V,this.bendpoints=[],this.source=O,this.target=A}for(var S in C.prototype=Object.create(k.prototype),k)C[S]=k[S];C.prototype.getSource=function(){return this.source},C.prototype.getTarget=function(){return this.target},C.prototype.isInterGraph=function(){return this.isInterGraph},C.prototype.getLength=function(){return this.length},C.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},C.prototype.getBendpoints=function(){return this.bendpoints},C.prototype.getLca=function(){return this.lca},C.prototype.getSourceInLca=function(){return this.sourceInLca},C.prototype.getTargetInLca=function(){return this.targetInLca},C.prototype.getOtherEnd=function(O){if(this.source===O)return this.target;if(this.target===O)return this.source;throw"Node is not incident with this edge"},C.prototype.getOtherEndInGraph=function(O,A){for(var V=this.getOtherEnd(O),L=A.getGraphManager().getRoot();;){if(V.getOwner()==A)return V;if(V.getOwner()==L)break;V=V.getOwner().getParent()}return null},C.prototype.updateLength=function(){var O=new Array(4);this.isOverlapingSourceAndTarget=N.getIntersection(this.target.getRect(),this.source.getRect(),O),this.isOverlapingSourceAndTarget||(this.lengthX=O[0]-O[2],this.lengthY=O[1]-O[3],Math.abs(this.lengthX)<1&&(this.lengthX=I.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=I.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},C.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=I.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=I.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},ae.exports=C},function(ae,D,T){"use strict";ae.exports=function k(N){this.vGraphObject=N}},function(ae,D,T){"use strict";var k=T(2),N=T(10),I=T(13),C=T(0),S=T(16),O=T(4);function A(L,B,H,Y){null==H&&null==Y&&(Y=B),k.call(this,Y),null!=L.graphManager&&(L=L.graphManager),this.estimatedSize=N.MIN_VALUE,this.inclusionTreeDepth=N.MAX_VALUE,this.vGraphObject=Y,this.edges=[],this.graphManager=L,this.rect=null!=H&&null!=B?new I(B.x,B.y,H.width,H.height):new I}for(var V in A.prototype=Object.create(k.prototype),k)A[V]=k[V];A.prototype.getEdges=function(){return this.edges},A.prototype.getChild=function(){return this.child},A.prototype.getOwner=function(){return this.owner},A.prototype.getWidth=function(){return this.rect.width},A.prototype.setWidth=function(L){this.rect.width=L},A.prototype.getHeight=function(){return this.rect.height},A.prototype.setHeight=function(L){this.rect.height=L},A.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},A.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},A.prototype.getCenter=function(){return new O(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},A.prototype.getLocation=function(){return new O(this.rect.x,this.rect.y)},A.prototype.getRect=function(){return this.rect},A.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},A.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},A.prototype.setRect=function(L,B){this.rect.x=L.x,this.rect.y=L.y,this.rect.width=B.width,this.rect.height=B.height},A.prototype.setCenter=function(L,B){this.rect.x=L-this.rect.width/2,this.rect.y=B-this.rect.height/2},A.prototype.setLocation=function(L,B){this.rect.x=L,this.rect.y=B},A.prototype.moveBy=function(L,B){this.rect.x+=L,this.rect.y+=B},A.prototype.getEdgeListToNode=function(L){var B=[],Y=this;return Y.edges.forEach(function(ee){if(ee.target==L){if(ee.source!=Y)throw"Incorrect edge source!";B.push(ee)}}),B},A.prototype.getEdgesBetween=function(L){var B=[],Y=this;return Y.edges.forEach(function(ee){if(ee.source!=Y&&ee.target!=Y)throw"Incorrect edge source and/or target";(ee.target==L||ee.source==L)&&B.push(ee)}),B},A.prototype.getNeighborsList=function(){var L=new Set,B=this;return B.edges.forEach(function(H){if(H.source==B)L.add(H.target);else{if(H.target!=B)throw"Incorrect incidency!";L.add(H.source)}}),L},A.prototype.withChildren=function(){var L=new Set;if(L.add(this),null!=this.child)for(var Y=this.child.getNodes(),ee=0;ee<Y.length;ee++)Y[ee].withChildren().forEach(function(ce){L.add(ce)});return L},A.prototype.getNoOfChildren=function(){var L=0;if(null==this.child)L=1;else for(var H=this.child.getNodes(),Y=0;Y<H.length;Y++)L+=H[Y].getNoOfChildren();return 0==L&&(L=1),L},A.prototype.getEstimatedSize=function(){if(this.estimatedSize==N.MIN_VALUE)throw"assert failed";return this.estimatedSize},A.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},A.prototype.scatter=function(){var L,B,H=-C.INITIAL_WORLD_BOUNDARY,Y=C.INITIAL_WORLD_BOUNDARY;L=C.WORLD_CENTER_X+S.nextDouble()*(Y-H)+H;var ee=-C.INITIAL_WORLD_BOUNDARY,ce=C.INITIAL_WORLD_BOUNDARY;B=C.WORLD_CENTER_Y+S.nextDouble()*(ce-ee)+ee,this.rect.x=L,this.rect.y=B},A.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var L=this.getChild();if(L.updateBounds(!0),this.rect.x=L.getLeft(),this.rect.y=L.getTop(),this.setWidth(L.getRight()-L.getLeft()),this.setHeight(L.getBottom()-L.getTop()),C.NODE_DIMENSIONS_INCLUDE_LABELS){var B=L.getRight()-L.getLeft(),H=L.getBottom()-L.getTop();this.labelWidth>B&&(this.rect.x-=(this.labelWidth-B)/2,this.setWidth(this.labelWidth)),this.labelHeight>H&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-H)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-H),this.setHeight(this.labelHeight))}}},A.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==N.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},A.prototype.transform=function(L){var B=this.rect.x;B>C.WORLD_BOUNDARY?B=C.WORLD_BOUNDARY:B<-C.WORLD_BOUNDARY&&(B=-C.WORLD_BOUNDARY);var H=this.rect.y;H>C.WORLD_BOUNDARY?H=C.WORLD_BOUNDARY:H<-C.WORLD_BOUNDARY&&(H=-C.WORLD_BOUNDARY);var Y=new O(B,H),ee=L.inverseTransformPoint(Y);this.setLocation(ee.x,ee.y)},A.prototype.getLeft=function(){return this.rect.x},A.prototype.getRight=function(){return this.rect.x+this.rect.width},A.prototype.getTop=function(){return this.rect.y},A.prototype.getBottom=function(){return this.rect.y+this.rect.height},A.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},ae.exports=A},function(ae,D,T){"use strict";function k(N,I){null==N&&null==I?(this.x=0,this.y=0):(this.x=N,this.y=I)}k.prototype.getX=function(){return this.x},k.prototype.getY=function(){return this.y},k.prototype.setX=function(N){this.x=N},k.prototype.setY=function(N){this.y=N},k.prototype.getDifference=function(N){return new DimensionD(this.x-N.x,this.y-N.y)},k.prototype.getCopy=function(){return new k(this.x,this.y)},k.prototype.translate=function(N){return this.x+=N.width,this.y+=N.height,this},ae.exports=k},function(ae,D,T){"use strict";var k=T(2),N=T(10),I=T(0),C=T(6),S=T(3),O=T(1),A=T(13),V=T(12),L=T(11);function B(Y,ee,ce){k.call(this,ce),this.estimatedSize=N.MIN_VALUE,this.margin=I.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=Y,null!=ee&&ee instanceof C?this.graphManager=ee:null!=ee&&ee instanceof Layout&&(this.graphManager=ee.graphManager)}for(var H in B.prototype=Object.create(k.prototype),k)B[H]=k[H];B.prototype.getNodes=function(){return this.nodes},B.prototype.getEdges=function(){return this.edges},B.prototype.getGraphManager=function(){return this.graphManager},B.prototype.getParent=function(){return this.parent},B.prototype.getLeft=function(){return this.left},B.prototype.getRight=function(){return this.right},B.prototype.getTop=function(){return this.top},B.prototype.getBottom=function(){return this.bottom},B.prototype.isConnected=function(){return this.isConnected},B.prototype.add=function(Y,ee,ce){if(null==ee&&null==ce){var ne=Y;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(ne)>-1)throw"Node already in graph!";return ne.owner=this,this.getNodes().push(ne),ne}var le=Y;if(!(this.getNodes().indexOf(ee)>-1&&this.getNodes().indexOf(ce)>-1))throw"Source or target not in graph!";if(ee.owner!=ce.owner||ee.owner!=this)throw"Both owners must be this graph!";return ee.owner!=ce.owner?null:(le.source=ee,le.target=ce,le.isInterGraph=!1,this.getEdges().push(le),ee.edges.push(le),ce!=ee&&ce.edges.push(le),le)},B.prototype.remove=function(Y){var ee=Y;if(Y instanceof S){if(null==ee)throw"Node is null!";if(null==ee.owner||ee.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var ce=ee.edges.slice(),le=ce.length,se=0;se<le;se++)(ne=ce[se]).isInterGraph?this.graphManager.remove(ne):ne.source.owner.remove(ne);if(-1==(he=this.nodes.indexOf(ee)))throw"Node not in owner node list!";this.nodes.splice(he,1)}else if(Y instanceof O){var ne;if(null==(ne=Y))throw"Edge is null!";if(null==ne.source||null==ne.target)throw"Source and/or target is null!";if(null==ne.source.owner||null==ne.target.owner||ne.source.owner!=this||ne.target.owner!=this)throw"Source and/or target owner is invalid!";var he,te=ne.source.edges.indexOf(ne),pe=ne.target.edges.indexOf(ne);if(!(te>-1&&pe>-1))throw"Source and/or target doesn't know this edge!";if(ne.source.edges.splice(te,1),ne.target!=ne.source&&ne.target.edges.splice(pe,1),-1==(he=ne.source.owner.getEdges().indexOf(ne)))throw"Not in owner's edge list!";ne.source.owner.getEdges().splice(he,1)}},B.prototype.updateLeftTop=function(){for(var ce,ne,le,Y=N.MAX_VALUE,ee=N.MAX_VALUE,se=this.getNodes(),he=se.length,te=0;te<he;te++){var pe=se[te];Y>(ce=pe.getTop())&&(Y=ce),ee>(ne=pe.getLeft())&&(ee=ne)}return Y==N.MAX_VALUE?null:(le=null!=se[0].getParent().paddingLeft?se[0].getParent().paddingLeft:this.margin,this.left=ee-le,this.top=Y-le,new V(this.left,this.top))},B.prototype.updateBounds=function(Y){for(var se,he,te,pe,Z,ee=N.MAX_VALUE,ce=-N.MAX_VALUE,ne=N.MAX_VALUE,le=-N.MAX_VALUE,oe=this.nodes,ie=oe.length,me=0;me<ie;me++){var _e=oe[me];Y&&null!=_e.child&&_e.updateBounds(),ee>(se=_e.getLeft())&&(ee=se),ce<(he=_e.getRight())&&(ce=he),ne>(te=_e.getTop())&&(ne=te),le<(pe=_e.getBottom())&&(le=pe)}var Se=new A(ee,ne,ce-ee,le-ne);ee==N.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),Z=null!=oe[0].getParent().paddingLeft?oe[0].getParent().paddingLeft:this.margin,this.left=Se.x-Z,this.right=Se.x+Se.width+Z,this.top=Se.y-Z,this.bottom=Se.y+Se.height+Z},B.calculateBounds=function(Y){for(var se,he,te,pe,ee=N.MAX_VALUE,ce=-N.MAX_VALUE,ne=N.MAX_VALUE,le=-N.MAX_VALUE,Z=Y.length,oe=0;oe<Z;oe++){var ie=Y[oe];ee>(se=ie.getLeft())&&(ee=se),ce<(he=ie.getRight())&&(ce=he),ne>(te=ie.getTop())&&(ne=te),le<(pe=ie.getBottom())&&(le=pe)}return new A(ee,ne,ce-ee,le-ne)},B.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},B.prototype.getEstimatedSize=function(){if(this.estimatedSize==N.MIN_VALUE)throw"assert failed";return this.estimatedSize},B.prototype.calcEstimatedSize=function(){for(var Y=0,ee=this.nodes,ce=ee.length,ne=0;ne<ce;ne++)Y+=ee[ne].calcEstimatedSize();return this.estimatedSize=0==Y?I.EMPTY_COMPOUND_NODE_SIZE:Y/Math.sqrt(this.nodes.length),this.estimatedSize},B.prototype.updateConnected=function(){var Y=this;if(0!=this.nodes.length){var le,se,ee=new L,ce=new Set,ne=this.nodes[0];for(ne.withChildren().forEach(function(me){ee.push(me),ce.add(me)});0!==ee.length;)for(var te=(le=(ne=ee.shift()).getEdges()).length,pe=0;pe<te;pe++)null==(se=le[pe].getOtherEndInGraph(ne,this))||ce.has(se)||se.withChildren().forEach(function(me){ee.push(me),ce.add(me)});if(this.isConnected=!1,ce.size>=this.nodes.length){var ie=0;ce.forEach(function(me){me.owner==Y&&ie++}),ie==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},ae.exports=B},function(ae,D,T){"use strict";var k,N=T(1);function I(C){k=T(5),this.layout=C,this.graphs=[],this.edges=[]}I.prototype.addRoot=function(){var C=this.layout.newGraph(),S=this.layout.newNode(null),O=this.add(C,S);return this.setRootGraph(O),this.rootGraph},I.prototype.add=function(C,S,O,A,V){if(null==O&&null==A&&null==V){if(null==C)throw"Graph is null!";if(null==S)throw"Parent node is null!";if(this.graphs.indexOf(C)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(C),null!=C.parent)throw"Already has a parent!";if(null!=S.child)throw"Already has a child!";return C.parent=S,S.child=C,C}V=O,O=C;var L=(A=S).getOwner(),B=V.getOwner();if(null==L||L.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==B||B.getGraphManager()!=this)throw"Target not in this graph mgr!";if(L==B)return O.isInterGraph=!1,L.add(O,A,V);if(O.isInterGraph=!0,O.source=A,O.target=V,this.edges.indexOf(O)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(O),null==O.source||null==O.target)throw"Edge source and/or target is null!";if(-1!=O.source.edges.indexOf(O)||-1!=O.target.edges.indexOf(O))throw"Edge already in source and/or target incidency list!";return O.source.edges.push(O),O.target.edges.push(O),O},I.prototype.remove=function(C){if(C instanceof k){var S=C;if(S.getGraphManager()!=this)throw"Graph not in this graph mgr";if(S!=this.rootGraph&&(null==S.parent||S.parent.graphManager!=this))throw"Invalid parent node!";for(var A,O=[],V=(O=O.concat(S.getEdges())).length,L=0;L<V;L++)S.remove(A=O[L]);var B=[];for(V=(B=B.concat(S.getNodes())).length,L=0;L<V;L++)S.remove(B[L]);S==this.rootGraph&&this.setRootGraph(null);var Y=this.graphs.indexOf(S);this.graphs.splice(Y,1),S.parent=null}else if(C instanceof N){if(null==(A=C))throw"Edge is null!";if(!A.isInterGraph)throw"Not an inter-graph edge!";if(null==A.source||null==A.target)throw"Source and/or target is null!";if(-1==A.source.edges.indexOf(A)||-1==A.target.edges.indexOf(A))throw"Source and/or target doesn't know this edge!";if(Y=A.source.edges.indexOf(A),A.source.edges.splice(Y,1),Y=A.target.edges.indexOf(A),A.target.edges.splice(Y,1),null==A.source.owner||null==A.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==A.source.owner.getGraphManager().edges.indexOf(A))throw"Not in owner graph manager's edge list!";Y=A.source.owner.getGraphManager().edges.indexOf(A),A.source.owner.getGraphManager().edges.splice(Y,1)}},I.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},I.prototype.getGraphs=function(){return this.graphs},I.prototype.getAllNodes=function(){if(null==this.allNodes){for(var C=[],S=this.getGraphs(),O=S.length,A=0;A<O;A++)C=C.concat(S[A].getNodes());this.allNodes=C}return this.allNodes},I.prototype.resetAllNodes=function(){this.allNodes=null},I.prototype.resetAllEdges=function(){this.allEdges=null},I.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},I.prototype.getAllEdges=function(){if(null==this.allEdges){for(var C=[],S=this.getGraphs(),A=0;A<S.length;A++)C=C.concat(S[A].getEdges());C=C.concat(this.edges),this.allEdges=C}return this.allEdges},I.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},I.prototype.setAllNodesToApplyGravitation=function(C){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=C},I.prototype.getRoot=function(){return this.rootGraph},I.prototype.setRootGraph=function(C){if(C.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=C,null==C.parent&&(C.parent=this.layout.newNode("Root node"))},I.prototype.getLayout=function(){return this.layout},I.prototype.isOneAncestorOfOther=function(C,S){if(null==C||null==S)throw"assert failed";if(C==S)return!0;for(var A,O=C.getOwner();null!=(A=O.getParent());){if(A==S)return!0;if(null==(O=A.getOwner()))break}for(O=S.getOwner();null!=(A=O.getParent());){if(A==C)return!0;if(null==(O=A.getOwner()))break}return!1},I.prototype.calcLowestCommonAncestors=function(){for(var C,S,O,A,V,L=this.getAllEdges(),B=L.length,H=0;H<B;H++)if(S=(C=L[H]).source,O=C.target,C.lca=null,C.sourceInLca=S,C.targetInLca=O,S!=O){for(A=S.getOwner();null==C.lca;){for(C.targetInLca=O,V=O.getOwner();null==C.lca;){if(V==A){C.lca=V;break}if(V==this.rootGraph)break;if(null!=C.lca)throw"assert failed";C.targetInLca=V.getParent(),V=C.targetInLca.getOwner()}if(A==this.rootGraph)break;null==C.lca&&(C.sourceInLca=A.getParent(),A=C.sourceInLca.getOwner())}if(null==C.lca)throw"assert failed"}else C.lca=S.getOwner()},I.prototype.calcLowestCommonAncestor=function(C,S){if(C==S)return C.getOwner();for(var O=C.getOwner();null!=O;){for(var A=S.getOwner();null!=A;){if(A==O)return A;A=A.getParent().getOwner()}O=O.getParent().getOwner()}return O},I.prototype.calcInclusionTreeDepths=function(C,S){null==C&&null==S&&(C=this.rootGraph,S=1);for(var O,A=C.getNodes(),V=A.length,L=0;L<V;L++)(O=A[L]).inclusionTreeDepth=S,null!=O.child&&this.calcInclusionTreeDepths(O.child,S+1)},I.prototype.includesInvalidEdge=function(){for(var C,S=this.edges.length,O=0;O<S;O++)if(this.isOneAncestorOfOther((C=this.edges[O]).source,C.target))return!0;return!1},ae.exports=I},function(ae,D,T){"use strict";var k=T(0);function N(){}for(var I in k)N[I]=k[I];N.MAX_ITERATIONS=2500,N.DEFAULT_EDGE_LENGTH=50,N.DEFAULT_SPRING_STRENGTH=.45,N.DEFAULT_REPULSION_STRENGTH=4500,N.DEFAULT_GRAVITY_STRENGTH=.4,N.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,N.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,N.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,N.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,N.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,N.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,N.COOLING_ADAPTATION_FACTOR=.33,N.ADAPTATION_LOWER_NODE_LIMIT=1e3,N.ADAPTATION_UPPER_NODE_LIMIT=5e3,N.MAX_NODE_DISPLACEMENT=3*(N.MAX_NODE_DISPLACEMENT_INCREMENTAL=100),N.MIN_REPULSION_DIST=N.DEFAULT_EDGE_LENGTH/10,N.CONVERGENCE_CHECK_PERIOD=100,N.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,N.MIN_EDGE_LENGTH=1,N.GRID_CALCULATION_CHECK_PERIOD=10,ae.exports=N},function(ae,D,T){"use strict";var k=T(12);function N(){}N.calcSeparationAmount=function(I,C,S,O){if(!I.intersects(C))throw"assert failed";var A=new Array(2);this.decideDirectionsForOverlappingNodes(I,C,A),S[0]=Math.min(I.getRight(),C.getRight())-Math.max(I.x,C.x),S[1]=Math.min(I.getBottom(),C.getBottom())-Math.max(I.y,C.y),I.getX()<=C.getX()&&I.getRight()>=C.getRight()?S[0]+=Math.min(C.getX()-I.getX(),I.getRight()-C.getRight()):C.getX()<=I.getX()&&C.getRight()>=I.getRight()&&(S[0]+=Math.min(I.getX()-C.getX(),C.getRight()-I.getRight())),I.getY()<=C.getY()&&I.getBottom()>=C.getBottom()?S[1]+=Math.min(C.getY()-I.getY(),I.getBottom()-C.getBottom()):C.getY()<=I.getY()&&C.getBottom()>=I.getBottom()&&(S[1]+=Math.min(I.getY()-C.getY(),C.getBottom()-I.getBottom()));var V=Math.abs((C.getCenterY()-I.getCenterY())/(C.getCenterX()-I.getCenterX()));C.getCenterY()===I.getCenterY()&&C.getCenterX()===I.getCenterX()&&(V=1);var L=V*S[0],B=S[1]/V;S[0]<B?B=S[0]:L=S[1],S[0]=-1*A[0]*(B/2+O),S[1]=-1*A[1]*(L/2+O)},N.decideDirectionsForOverlappingNodes=function(I,C,S){S[0]=I.getCenterX()<C.getCenterX()?-1:1,S[1]=I.getCenterY()<C.getCenterY()?-1:1},N.getIntersection2=function(I,C,S){var O=I.getCenterX(),A=I.getCenterY(),V=C.getCenterX(),L=C.getCenterY();if(I.intersects(C))return S[0]=O,S[1]=A,S[2]=V,S[3]=L,!0;var B=I.getX(),H=I.getY(),Y=I.getRight(),ee=I.getX(),ce=I.getBottom(),ne=I.getRight(),le=I.getWidthHalf(),se=I.getHeightHalf(),he=C.getX(),te=C.getY(),pe=C.getRight(),Z=C.getX(),oe=C.getBottom(),ie=C.getRight(),me=C.getWidthHalf(),_e=C.getHeightHalf(),Se=!1,De=!1;if(O===V){if(A>L)return S[0]=O,S[1]=H,S[2]=V,S[3]=oe,!1;if(A<L)return S[0]=O,S[1]=ce,S[2]=V,S[3]=te,!1}else if(A===L){if(O>V)return S[0]=B,S[1]=A,S[2]=pe,S[3]=L,!1;if(O<V)return S[0]=Y,S[1]=A,S[2]=he,S[3]=L,!1}else{var ze=I.height/I.width,Be=C.height/C.width,ot=(L-A)/(V-O),ft=void 0,Ye=void 0,Xe=void 0,Ht=void 0;if(-ze===ot?O>V?(S[0]=ee,S[1]=ce,Se=!0):(S[0]=Y,S[1]=H,Se=!0):ze===ot&&(O>V?(S[0]=B,S[1]=H,Se=!0):(S[0]=ne,S[1]=ce,Se=!0)),-Be===ot?V>O?(S[2]=Z,S[3]=oe,De=!0):(S[2]=pe,S[3]=te,De=!0):Be===ot&&(V>O?(S[2]=he,S[3]=te,De=!0):(S[2]=ie,S[3]=oe,De=!0)),Se&&De)return!1;if(O>V?A>L?(ft=this.getCardinalDirection(ze,ot,4),Ye=this.getCardinalDirection(Be,ot,2)):(ft=this.getCardinalDirection(-ze,ot,3),Ye=this.getCardinalDirection(-Be,ot,1)):A>L?(ft=this.getCardinalDirection(-ze,ot,1),Ye=this.getCardinalDirection(-Be,ot,3)):(ft=this.getCardinalDirection(ze,ot,2),Ye=this.getCardinalDirection(Be,ot,4)),!Se)switch(ft){case 1:Xe=H,S[0]=O+-se/ot,S[1]=Xe;break;case 2:Xe=A+le*ot,S[0]=ne,S[1]=Xe;break;case 3:Xe=ce,S[0]=O+se/ot,S[1]=Xe;break;case 4:Xe=A+-le*ot,S[0]=ee,S[1]=Xe}if(!De)switch(Ye){case 1:Ht=te,S[2]=V+-_e/ot,S[3]=Ht;break;case 2:Ht=L+me*ot,S[2]=ie,S[3]=Ht;break;case 3:Ht=oe,S[2]=V+_e/ot,S[3]=Ht;break;case 4:Ht=L+-me*ot,S[2]=Z,S[3]=Ht}}return!1},N.getCardinalDirection=function(I,C,S){return I>C?S:1+S%4},N.getIntersection=function(I,C,S,O){if(null==O)return this.getIntersection2(I,C,S);var se,he,te,pe,Z,oe,ie,A=I.x,V=I.y,L=C.x,B=C.y,H=S.x,Y=S.y,ee=O.x,ce=O.y;return Z=L*V-A*B,oe=ee*Y-H*ce,0==(ie=(se=B-V)*(pe=H-ee)-(he=ce-Y)*(te=A-L))?null:new k((te*oe-pe*Z)/ie,(he*Z-se*oe)/ie)},N.angleOfVector=function(I,C,S,O){var A=void 0;return I!==S?(A=Math.atan((O-C)/(S-I)),S<I?A+=Math.PI:O<C&&(A+=this.TWO_PI)):A=O<C?this.ONE_AND_HALF_PI:this.HALF_PI,A},N.doIntersect=function(I,C,S,O){var A=I.x,V=I.y,L=C.x,B=C.y,H=S.x,Y=S.y,ee=O.x,ce=O.y,ne=(L-A)*(ce-Y)-(ee-H)*(B-V);if(0===ne)return!1;var le=((ce-Y)*(ee-A)+(H-ee)*(ce-V))/ne,se=((V-B)*(ee-A)+(L-A)*(ce-V))/ne;return 0<le&&le<1&&0<se&&se<1},N.HALF_PI=.5*Math.PI,N.ONE_AND_HALF_PI=1.5*Math.PI,N.TWO_PI=2*Math.PI,N.THREE_PI=3*Math.PI,ae.exports=N},function(ae,D,T){"use strict";function k(){}k.sign=function(N){return N>0?1:N<0?-1:0},k.floor=function(N){return N<0?Math.ceil(N):Math.floor(N)},k.ceil=function(N){return N<0?Math.floor(N):Math.ceil(N)},ae.exports=k},function(ae,D,T){"use strict";function k(){}k.MAX_VALUE=2147483647,k.MIN_VALUE=-2147483648,ae.exports=k},function(ae,D,T){"use strict";var k=function(){function A(V,L){for(var B=0;B<L.length;B++){var H=L[B];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(V,H.key,H)}}return function(V,L,B){return L&&A(V.prototype,L),B&&A(V,B),V}}();var I=function(V){return{value:V,next:null,prev:null}},C=function(V,L,B,H){return null!==V?V.next=L:H.head=L,null!==B?B.prev=L:H.tail=L,L.prev=V,L.next=B,H.length++,L},S=function(V,L){var B=V.prev,H=V.next;return null!==B?B.next=H:L.head=H,null!==H?H.prev=B:L.tail=B,V.prev=V.next=null,L.length--,V},O=function(){function A(V){var L=this;(function N(A,V){if(!(A instanceof V))throw new TypeError("Cannot call a class as a function")})(this,A),this.length=0,this.head=null,this.tail=null,V?.forEach(function(B){return L.push(B)})}return k(A,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(L,B){return C(B.prev,I(L),B,this)}},{key:"insertAfter",value:function(L,B){return C(B,I(L),B.next,this)}},{key:"insertNodeBefore",value:function(L,B){return C(B.prev,L,B,this)}},{key:"insertNodeAfter",value:function(L,B){return C(B,L,B.next,this)}},{key:"push",value:function(L){return C(this.tail,I(L),null,this)}},{key:"unshift",value:function(L){return C(null,I(L),this.head,this)}},{key:"remove",value:function(L){return S(L,this)}},{key:"pop",value:function(){return S(this.tail,this).value}},{key:"popNode",value:function(){return S(this.tail,this)}},{key:"shift",value:function(){return S(this.head,this).value}},{key:"shiftNode",value:function(){return S(this.head,this)}},{key:"get_object_at",value:function(L){if(L<=this.length()){for(var B=1,H=this.head;B<L;)H=H.next,B++;return H.value}}},{key:"set_object_at",value:function(L,B){if(L<=this.length()){for(var H=1,Y=this.head;H<L;)Y=Y.next,H++;Y.value=B}}}]),A}();ae.exports=O},function(ae,D,T){"use strict";function k(N,I,C){this.x=null,this.y=null,null==N&&null==I&&null==C?(this.x=0,this.y=0):"number"==typeof N&&"number"==typeof I&&null==C?(this.x=N,this.y=I):"Point"==N.constructor.name&&null==I&&null==C&&(this.x=(C=N).x,this.y=C.y)}k.prototype.getX=function(){return this.x},k.prototype.getY=function(){return this.y},k.prototype.getLocation=function(){return new k(this.x,this.y)},k.prototype.setLocation=function(N,I,C){"Point"==N.constructor.name&&null==I&&null==C?this.setLocation((C=N).x,C.y):"number"==typeof N&&"number"==typeof I&&null==C&&(parseInt(N)==N&&parseInt(I)==I?this.move(N,I):(this.x=Math.floor(N+.5),this.y=Math.floor(I+.5)))},k.prototype.move=function(N,I){this.x=N,this.y=I},k.prototype.translate=function(N,I){this.x+=N,this.y+=I},k.prototype.equals=function(N){return"Point"==N.constructor.name?this.x==N.x&&this.y==N.y:this==N},k.prototype.toString=function(){return(new k).constructor.name+"[x="+this.x+",y="+this.y+"]"},ae.exports=k},function(ae,D,T){"use strict";function k(N,I,C,S){this.x=0,this.y=0,this.width=0,this.height=0,null!=N&&null!=I&&null!=C&&null!=S&&(this.x=N,this.y=I,this.width=C,this.height=S)}k.prototype.getX=function(){return this.x},k.prototype.setX=function(N){this.x=N},k.prototype.getY=function(){return this.y},k.prototype.setY=function(N){this.y=N},k.prototype.getWidth=function(){return this.width},k.prototype.setWidth=function(N){this.width=N},k.prototype.getHeight=function(){return this.height},k.prototype.setHeight=function(N){this.height=N},k.prototype.getRight=function(){return this.x+this.width},k.prototype.getBottom=function(){return this.y+this.height},k.prototype.intersects=function(N){return!(this.getRight()<N.x||this.getBottom()<N.y||N.getRight()<this.x||N.getBottom()<this.y)},k.prototype.getCenterX=function(){return this.x+this.width/2},k.prototype.getMinX=function(){return this.getX()},k.prototype.getMaxX=function(){return this.getX()+this.width},k.prototype.getCenterY=function(){return this.y+this.height/2},k.prototype.getMinY=function(){return this.getY()},k.prototype.getMaxY=function(){return this.getY()+this.height},k.prototype.getWidthHalf=function(){return this.width/2},k.prototype.getHeightHalf=function(){return this.height/2},ae.exports=k},function(ae,D,T){"use strict";var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};function N(){}N.lastID=0,N.createID=function(I){return N.isPrimitive(I)?I:(null!=I.uniqueID||(I.uniqueID=N.getString(),N.lastID++),I.uniqueID)},N.getString=function(I){return null==I&&(I=N.lastID),"Object#"+I},N.isPrimitive=function(I){var C=typeof I>"u"?"undefined":k(I);return null==I||"object"!=C&&"function"!=C},ae.exports=N},function(ae,D,T){"use strict";function k(H){if(Array.isArray(H)){for(var Y=0,ee=Array(H.length);Y<H.length;Y++)ee[Y]=H[Y];return ee}return Array.from(H)}var N=T(0),I=T(6),C=T(3),S=T(1),O=T(5),A=T(4),V=T(17),L=T(27);function B(H){L.call(this),this.layoutQuality=N.QUALITY,this.createBendsAsNeeded=N.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=N.DEFAULT_INCREMENTAL,this.animationOnLayout=N.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=N.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=N.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=N.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new I(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=H&&(this.isRemoteUse=H)}B.RANDOM_SEED=1,(B.prototype=Object.create(L.prototype)).getGraphManager=function(){return this.graphManager},B.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},B.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},B.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},B.prototype.newGraphManager=function(){var H=new I(this);return this.graphManager=H,H},B.prototype.newGraph=function(H){return new O(null,this.graphManager,H)},B.prototype.newNode=function(H){return new C(this.graphManager,H)},B.prototype.newEdge=function(H){return new S(null,null,H)},B.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},B.prototype.runLayout=function(){var H;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),H=!this.checkLayoutSuccess()&&this.layout(),"during"!==N.ANIMATE&&(H&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,H)},B.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},B.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var Y=this.graphManager.getAllEdges(),ee=0;ee<Y.length;ee++);var ne=this.graphManager.getRoot().getNodes();for(ee=0;ee<ne.length;ee++);this.update(this.graphManager.getRoot())}},B.prototype.update=function(H){if(null==H)this.update2();else if(H instanceof C){var Y=H;if(null!=Y.getChild())for(var ee=Y.getChild().getNodes(),ce=0;ce<ee.length;ce++)update(ee[ce]);null!=Y.vGraphObject&&Y.vGraphObject.update(Y)}else H instanceof S?null!=H.vGraphObject&&H.vGraphObject.update(H):H instanceof O&&null!=H.vGraphObject&&H.vGraphObject.update(H)},B.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=N.QUALITY,this.animationDuringLayout=N.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=N.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=N.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=N.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=N.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=N.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},B.prototype.transform=function(H){if(null==H)this.transform(new A(0,0));else{var Y=new V,ee=this.graphManager.getRoot().updateLeftTop();if(null!=ee){Y.setWorldOrgX(H.x),Y.setWorldOrgY(H.y),Y.setDeviceOrgX(ee.x),Y.setDeviceOrgY(ee.y);for(var ce=this.getAllNodes(),le=0;le<ce.length;le++)ce[le].transform(Y)}}},B.prototype.positionNodesRandomly=function(H){if(null==H)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var Y,ee,ce=H.getNodes(),ne=0;ne<ce.length;ne++)null==(ee=(Y=ce[ne]).getChild())||0==ee.getNodes().length?Y.scatter():(this.positionNodesRandomly(ee),Y.updateBounds())},B.prototype.getFlatForest=function(){for(var H=[],Y=!0,ee=this.graphManager.getRoot().getNodes(),ce=!0,ne=0;ne<ee.length;ne++)null!=ee[ne].getChild()&&(ce=!1);if(!ce)return H;var le=new Set,se=[],he=new Map,te=[];for(te=te.concat(ee);te.length>0&&Y;){for(se.push(te[0]);se.length>0&&Y;){var pe=se[0];se.splice(0,1),le.add(pe);var Z=pe.getEdges();for(ne=0;ne<Z.length;ne++){var oe=Z[ne].getOtherEnd(pe);if(he.get(pe)!=oe){if(le.has(oe)){Y=!1;break}se.push(oe),he.set(oe,pe)}}}if(Y){var ie=[].concat(k(le));for(H.push(ie),ne=0;ne<ie.length;ne++){var _e=te.indexOf(ie[ne]);_e>-1&&te.splice(_e,1)}le=new Set,he=new Map}else H=[]}return H},B.prototype.createDummyNodesForBendpoints=function(H){for(var Y=[],ee=H.source,ce=this.graphManager.calcLowestCommonAncestor(H.source,H.target),ne=0;ne<H.bendpoints.length;ne++){var le=this.newNode(null);le.setRect(new Point(0,0),new Dimension(1,1)),ce.add(le);var se=this.newEdge(null);this.graphManager.add(se,ee,le),Y.add(le),ee=le}return se=this.newEdge(null),this.graphManager.add(se,ee,H.target),this.edgeToDummyNodes.set(H,Y),H.isInterGraph()?this.graphManager.remove(H):ce.remove(H),Y},B.prototype.createBendpointsFromDummyNodes=function(){var H=[];H=H.concat(this.graphManager.getAllEdges()),H=[].concat(k(this.edgeToDummyNodes.keys())).concat(H);for(var Y=0;Y<H.length;Y++){var ee=H[Y];if(ee.bendpoints.length>0){for(var ce=this.edgeToDummyNodes.get(ee),ne=0;ne<ce.length;ne++){var le=ce[ne],se=new A(le.getCenterX(),le.getCenterY()),he=ee.bendpoints.get(ne);he.x=se.x,he.y=se.y,le.getOwner().remove(le)}this.graphManager.add(ee,ee.source,ee.target)}}},B.transform=function(H,Y,ee,ce){if(null!=ee&&null!=ce){var ne=Y;return H<=50?ne-=(Y-Y/ee)/50*(50-H):ne+=(Y*ce-Y)/50*(H-50),ne}var he,te;return H<=50?(he=9*Y/500,te=Y/10):(he=9*Y/50,te=-8*Y),he*H+te},B.findCenterOfTree=function(H){var Y=[];Y=Y.concat(H);var ee=[],ce=new Map,ne=!1,le=null;(1==Y.length||2==Y.length)&&(ne=!0,le=Y[0]);for(var se=0;se<Y.length;se++){var te=(he=Y[se]).getNeighborsList().size;ce.set(he,he.getNeighborsList().size),1==te&&ee.push(he)}var pe=[];for(pe=pe.concat(ee);!ne;){var Z=[];for(Z=Z.concat(pe),pe=[],se=0;se<Y.length;se++){var he,oe=Y.indexOf(he=Y[se]);oe>=0&&Y.splice(oe,1),he.getNeighborsList().forEach(function(Se){if(ee.indexOf(Se)<0){var ze=ce.get(Se)-1;1==ze&&pe.push(Se),ce.set(Se,ze)}})}ee=ee.concat(pe),(1==Y.length||2==Y.length)&&(ne=!0,le=Y[0])}return le},B.prototype.setGraphManager=function(H){this.graphManager=H},ae.exports=B},function(ae,D,T){"use strict";function k(){}k.seed=1,k.x=0,k.nextDouble=function(){return(k.x=1e4*Math.sin(k.seed++))-Math.floor(k.x)},ae.exports=k},function(ae,D,T){"use strict";var k=T(4);function N(I,C){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}N.prototype.getWorldOrgX=function(){return this.lworldOrgX},N.prototype.setWorldOrgX=function(I){this.lworldOrgX=I},N.prototype.getWorldOrgY=function(){return this.lworldOrgY},N.prototype.setWorldOrgY=function(I){this.lworldOrgY=I},N.prototype.getWorldExtX=function(){return this.lworldExtX},N.prototype.setWorldExtX=function(I){this.lworldExtX=I},N.prototype.getWorldExtY=function(){return this.lworldExtY},N.prototype.setWorldExtY=function(I){this.lworldExtY=I},N.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},N.prototype.setDeviceOrgX=function(I){this.ldeviceOrgX=I},N.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},N.prototype.setDeviceOrgY=function(I){this.ldeviceOrgY=I},N.prototype.getDeviceExtX=function(){return this.ldeviceExtX},N.prototype.setDeviceExtX=function(I){this.ldeviceExtX=I},N.prototype.getDeviceExtY=function(){return this.ldeviceExtY},N.prototype.setDeviceExtY=function(I){this.ldeviceExtY=I},N.prototype.transformX=function(I){var C=0,S=this.lworldExtX;return 0!=S&&(C=this.ldeviceOrgX+(I-this.lworldOrgX)*this.ldeviceExtX/S),C},N.prototype.transformY=function(I){var C=0,S=this.lworldExtY;return 0!=S&&(C=this.ldeviceOrgY+(I-this.lworldOrgY)*this.ldeviceExtY/S),C},N.prototype.inverseTransformX=function(I){var C=0,S=this.ldeviceExtX;return 0!=S&&(C=this.lworldOrgX+(I-this.ldeviceOrgX)*this.lworldExtX/S),C},N.prototype.inverseTransformY=function(I){var C=0,S=this.ldeviceExtY;return 0!=S&&(C=this.lworldOrgY+(I-this.ldeviceOrgY)*this.lworldExtY/S),C},N.prototype.inverseTransformPoint=function(I){return new k(this.inverseTransformX(I.x),this.inverseTransformY(I.y))},ae.exports=N},function(ae,D,T){"use strict";var N=T(15),I=T(7),C=T(0),S=T(8),O=T(9);function A(){N.call(this),this.useSmartIdealEdgeLengthCalculation=I.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=I.DEFAULT_EDGE_LENGTH,this.springConstant=I.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=I.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=I.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=I.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=I.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=I.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*I.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=I.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=I.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=I.MAX_ITERATIONS}for(var V in A.prototype=Object.create(N.prototype),N)A[V]=N[V];A.prototype.initParameters=function(){N.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=I.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},A.prototype.calcIdealEdgeLengths=function(){for(var L,B,H,Y,ee,ce,ne=this.getGraphManager().getAllEdges(),le=0;le<ne.length;le++)(L=ne[le]).idealLength=this.idealEdgeLength,L.isInterGraph&&(H=L.getSource(),Y=L.getTarget(),ee=L.getSourceInLca().getEstimatedSize(),ce=L.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(L.idealLength+=ee+ce-2*C.SIMPLE_NODE_SIZE),B=L.getLca().getInclusionTreeDepth(),L.idealLength+=I.DEFAULT_EDGE_LENGTH*I.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(H.getInclusionTreeDepth()+Y.getInclusionTreeDepth()-2*B))},A.prototype.initSpringEmbedder=function(){var L=this.getAllNodes().length;this.incremental?(L>I.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*I.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(L-I.ADAPTATION_LOWER_NODE_LIMIT)/(I.ADAPTATION_UPPER_NODE_LIMIT-I.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-I.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=I.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.coolingFactor=L>I.ADAPTATION_LOWER_NODE_LIMIT?Math.max(I.COOLING_ADAPTATION_FACTOR,1-(L-I.ADAPTATION_LOWER_NODE_LIMIT)/(I.ADAPTATION_UPPER_NODE_LIMIT-I.ADAPTATION_LOWER_NODE_LIMIT)*(1-I.COOLING_ADAPTATION_FACTOR)):1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=I.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},A.prototype.calcSpringForces=function(){for(var B,L=this.getAllEdges(),H=0;H<L.length;H++)this.calcSpringForce(B=L[H],B.idealLength)},A.prototype.calcRepulsionForces=function(){var H,Y,ee,ce,le,L=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],B=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ne=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%I.GRID_CALCULATION_CHECK_PERIOD==1&&L&&this.updateGrid(),le=new Set,H=0;H<ne.length;H++)this.calculateRepulsionForceOfANode(ee=ne[H],le,L,B),le.add(ee);else for(H=0;H<ne.length;H++)for(ee=ne[H],Y=H+1;Y<ne.length;Y++)ce=ne[Y],ee.getOwner()==ce.getOwner()&&this.calcRepulsionForce(ee,ce)},A.prototype.calcGravitationalForces=function(){for(var B=this.getAllNodesToApplyGravitation(),H=0;H<B.length;H++)this.calcGravitationalForce(B[H])},A.prototype.moveNodes=function(){for(var L=this.getAllNodes(),H=0;H<L.length;H++)L[H].move()},A.prototype.calcSpringForce=function(L,B){var ee,ce,ne,le,H=L.getSource(),Y=L.getTarget();if(this.uniformLeafNodeSizes&&null==H.getChild()&&null==Y.getChild())L.updateLengthSimple();else if(L.updateLength(),L.isOverlapingSourceAndTarget)return;0!=(ee=L.getLength())&&(le=(ce=this.springConstant*(ee-B))*(L.lengthY/ee),H.springForceX+=ne=ce*(L.lengthX/ee),H.springForceY+=le,Y.springForceX-=ne,Y.springForceY-=le)},A.prototype.calcRepulsionForce=function(L,B){var ne,le,se,he,te,pe,Z,H=L.getRect(),Y=B.getRect(),ee=new Array(2),ce=new Array(4);if(H.intersects(Y)){S.calcSeparationAmount(H,Y,ee,I.DEFAULT_EDGE_LENGTH/2),Z=2*ee[1];var oe=L.noOfChildren*B.noOfChildren/(L.noOfChildren+B.noOfChildren);L.repulsionForceX-=oe*(pe=2*ee[0]),L.repulsionForceY-=oe*Z,B.repulsionForceX+=oe*pe,B.repulsionForceY+=oe*Z}else this.uniformLeafNodeSizes&&null==L.getChild()&&null==B.getChild()?(ne=Y.getCenterX()-H.getCenterX(),le=Y.getCenterY()-H.getCenterY()):(S.getIntersection(H,Y,ce),ne=ce[2]-ce[0],le=ce[3]-ce[1]),Math.abs(ne)<I.MIN_REPULSION_DIST&&(ne=O.sign(ne)*I.MIN_REPULSION_DIST),Math.abs(le)<I.MIN_REPULSION_DIST&&(le=O.sign(le)*I.MIN_REPULSION_DIST),se=ne*ne+le*le,he=Math.sqrt(se),Z=(te=this.repulsionConstant*L.noOfChildren*B.noOfChildren/se)*le/he,L.repulsionForceX-=pe=te*ne/he,L.repulsionForceY-=Z,B.repulsionForceX+=pe,B.repulsionForceY+=Z},A.prototype.calcGravitationalForce=function(L){var B,H,Y,ee,ce,ne,le,se;H=((B=L.getOwner()).getRight()+B.getLeft())/2,Y=(B.getTop()+B.getBottom())/2,ee=L.getCenterX()-H,ce=L.getCenterY()-Y,ne=Math.abs(ee)+L.getWidth()/2,le=Math.abs(ce)+L.getHeight()/2,L.getOwner()==this.graphManager.getRoot()?(ne>(se=B.getEstimatedSize()*this.gravityRangeFactor)||le>se)&&(L.gravitationForceX=-this.gravityConstant*ee,L.gravitationForceY=-this.gravityConstant*ce):(ne>(se=B.getEstimatedSize()*this.compoundGravityRangeFactor)||le>se)&&(L.gravitationForceX=-this.gravityConstant*ee*this.compoundGravityConstant,L.gravitationForceY=-this.gravityConstant*ce*this.compoundGravityConstant)},A.prototype.isConverged=function(){var L,B=!1;return this.totalIterations>this.maxIterations/3&&(B=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),L=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,L||B},A.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},A.prototype.calcNoOfChildrenForAllNodes=function(){for(var L,B=this.graphManager.getAllNodes(),H=0;H<B.length;H++)(L=B[H]).noOfChildren=L.getNoOfChildren()},A.prototype.calcGrid=function(L){var B,H;B=parseInt(Math.ceil((L.getRight()-L.getLeft())/this.repulsionRange)),H=parseInt(Math.ceil((L.getBottom()-L.getTop())/this.repulsionRange));for(var Y=new Array(B),ee=0;ee<B;ee++)Y[ee]=new Array(H);for(ee=0;ee<B;ee++)for(var ce=0;ce<H;ce++)Y[ee][ce]=new Array;return Y},A.prototype.addNodeToGrid=function(L,B,H){var Y,ee,ce,ne;Y=parseInt(Math.floor((L.getRect().x-B)/this.repulsionRange)),ee=parseInt(Math.floor((L.getRect().width+L.getRect().x-B)/this.repulsionRange)),ce=parseInt(Math.floor((L.getRect().y-H)/this.repulsionRange)),ne=parseInt(Math.floor((L.getRect().height+L.getRect().y-H)/this.repulsionRange));for(var le=Y;le<=ee;le++)for(var se=ce;se<=ne;se++)this.grid[le][se].push(L),L.setGridCoordinates(Y,ee,ce,ne)},A.prototype.updateGrid=function(){var L,H=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),L=0;L<H.length;L++)this.addNodeToGrid(H[L],this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},A.prototype.calculateRepulsionForceOfANode=function(L,B,H,Y){if(this.totalIterations%I.GRID_CALCULATION_CHECK_PERIOD==1&&H||Y){var ee=new Set;L.surrounding=new Array;for(var ce,ne=this.grid,le=L.startX-1;le<L.finishX+2;le++)for(var se=L.startY-1;se<L.finishY+2;se++)if(!(le<0||se<0||le>=ne.length||se>=ne[0].length))for(var he=0;he<ne[le][se].length;he++)if(ce=ne[le][se][he],L.getOwner()==ce.getOwner()&&L!=ce&&!B.has(ce)&&!ee.has(ce)){var te=Math.abs(L.getCenterX()-ce.getCenterX())-(L.getWidth()/2+ce.getWidth()/2),pe=Math.abs(L.getCenterY()-ce.getCenterY())-(L.getHeight()/2+ce.getHeight()/2);te<=this.repulsionRange&&pe<=this.repulsionRange&&ee.add(ce)}L.surrounding=[].concat(function k(L){if(Array.isArray(L)){for(var B=0,H=Array(L.length);B<L.length;B++)H[B]=L[B];return H}return Array.from(L)}(ee))}for(le=0;le<L.surrounding.length;le++)this.calcRepulsionForce(L,L.surrounding[le])},A.prototype.calcRepulsionRange=function(){return 0},ae.exports=A},function(ae,D,T){"use strict";var k=T(1),N=T(7);function I(S,O,A){k.call(this,S,O,A),this.idealLength=N.DEFAULT_EDGE_LENGTH}for(var C in I.prototype=Object.create(k.prototype),k)I[C]=k[C];ae.exports=I},function(ae,D,T){"use strict";var k=T(3);function N(C,S,O,A){k.call(this,C,S,O,A),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var I in N.prototype=Object.create(k.prototype),k)N[I]=k[I];N.prototype.setGridCoordinates=function(C,S,O,A){this.startX=C,this.finishX=S,this.startY=O,this.finishY=A},ae.exports=N},function(ae,D,T){"use strict";function k(N,I){this.width=0,this.height=0,null!==N&&null!==I&&(this.height=I,this.width=N)}k.prototype.getWidth=function(){return this.width},k.prototype.setWidth=function(N){this.width=N},k.prototype.getHeight=function(){return this.height},k.prototype.setHeight=function(N){this.height=N},ae.exports=k},function(ae,D,T){"use strict";var k=T(14);function N(){this.map={},this.keys=[]}N.prototype.put=function(I,C){var S=k.createID(I);this.contains(S)||(this.map[S]=C,this.keys.push(I))},N.prototype.contains=function(I){return k.createID(I),null!=this.map[I]},N.prototype.get=function(I){var C=k.createID(I);return this.map[C]},N.prototype.keySet=function(){return this.keys},ae.exports=N},function(ae,D,T){"use strict";var k=T(14);function N(){this.set={}}N.prototype.add=function(I){var C=k.createID(I);this.contains(C)||(this.set[C]=I)},N.prototype.remove=function(I){delete this.set[k.createID(I)]},N.prototype.clear=function(){this.set={}},N.prototype.contains=function(I){return this.set[k.createID(I)]==I},N.prototype.isEmpty=function(){return 0===this.size()},N.prototype.size=function(){return Object.keys(this.set).length},N.prototype.addAllTo=function(I){for(var C=Object.keys(this.set),S=C.length,O=0;O<S;O++)I.push(this.set[C[O]])},N.prototype.size=function(){return Object.keys(this.set).length},N.prototype.addAll=function(I){for(var C=I.length,S=0;S<C;S++)this.add(I[S])},ae.exports=N},function(ae,D,T){"use strict";var k=function(){function S(O,A){for(var V=0;V<A.length;V++){var L=A[V];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(O,L.key,L)}}return function(O,A,V){return A&&S(O.prototype,A),V&&S(O,V),O}}();var I=T(11),C=function(){function S(O,A){(function N(S,O){if(!(S instanceof O))throw new TypeError("Cannot call a class as a function")})(this,S),(null!==A||void 0!==A)&&(this.compareFunction=this._defaultCompareFunction);var V;V=O instanceof I?O.size():O.length,this._quicksort(O,0,V-1)}return k(S,[{key:"_quicksort",value:function(A,V,L){if(V<L){var B=this._partition(A,V,L);this._quicksort(A,V,B),this._quicksort(A,B+1,L)}}},{key:"_partition",value:function(A,V,L){for(var B=this._get(A,V),H=V,Y=L;;){for(;this.compareFunction(B,this._get(A,Y));)Y--;for(;this.compareFunction(this._get(A,H),B);)H++;if(!(H<Y))return Y;this._swap(A,H,Y),H++,Y--}}},{key:"_get",value:function(A,V){return A instanceof I?A.get_object_at(V):A[V]}},{key:"_set",value:function(A,V,L){A instanceof I?A.set_object_at(V,L):A[V]=L}},{key:"_swap",value:function(A,V,L){var B=this._get(A,V);this._set(A,V,this._get(A,L)),this._set(A,L,B)}},{key:"_defaultCompareFunction",value:function(A,V){return V>A}}]),S}();ae.exports=C},function(ae,D,T){"use strict";var k=function(){function C(S,O){for(var A=0;A<O.length;A++){var V=O[A];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,V.key,V)}}return function(S,O,A){return O&&C(S.prototype,O),A&&C(S,A),S}}();var I=function(){function C(S,O){var A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,L=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;(function N(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")})(this,C),this.sequence1=S,this.sequence2=O,this.match_score=A,this.mismatch_penalty=V,this.gap_penalty=L,this.iMax=S.length+1,this.jMax=O.length+1,this.grid=new Array(this.iMax);for(var B=0;B<this.iMax;B++){this.grid[B]=new Array(this.jMax);for(var H=0;H<this.jMax;H++)this.grid[B][H]=0}this.tracebackGrid=new Array(this.iMax);for(var Y=0;Y<this.iMax;Y++){this.tracebackGrid[Y]=new Array(this.jMax);for(var ee=0;ee<this.jMax;ee++)this.tracebackGrid[Y][ee]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return k(C,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var O=1;O<this.jMax;O++)this.grid[0][O]=this.grid[0][O-1]+this.gap_penalty,this.tracebackGrid[0][O]=[!1,!1,!0];for(var A=1;A<this.iMax;A++)this.grid[A][0]=this.grid[A-1][0]+this.gap_penalty,this.tracebackGrid[A][0]=[!1,!0,!1];for(var V=1;V<this.iMax;V++)for(var L=1;L<this.jMax;L++){var ee=[this.sequence1[V-1]===this.sequence2[L-1]?this.grid[V-1][L-1]+this.match_score:this.grid[V-1][L-1]+this.mismatch_penalty,this.grid[V-1][L]+this.gap_penalty,this.grid[V][L-1]+this.gap_penalty],ce=this.arrayAllMaxIndexes(ee);this.grid[V][L]=ee[ce[0]],this.tracebackGrid[V][L]=[ce.includes(0),ce.includes(1),ce.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var O=[];for(O.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});O[0];){var A=O[0],V=this.tracebackGrid[A.pos[0]][A.pos[1]];V[0]&&O.push({pos:[A.pos[0]-1,A.pos[1]-1],seq1:this.sequence1[A.pos[0]-1]+A.seq1,seq2:this.sequence2[A.pos[1]-1]+A.seq2}),V[1]&&O.push({pos:[A.pos[0]-1,A.pos[1]],seq1:this.sequence1[A.pos[0]-1]+A.seq1,seq2:"-"+A.seq2}),V[2]&&O.push({pos:[A.pos[0],A.pos[1]-1],seq1:"-"+A.seq1,seq2:this.sequence2[A.pos[1]-1]+A.seq2}),0===A.pos[0]&&0===A.pos[1]&&this.alignments.push({sequence1:A.seq1,sequence2:A.seq2}),O.shift()}return this.alignments}},{key:"getAllIndexes",value:function(O,A){for(var V=[],L=-1;-1!==(L=O.indexOf(A,L+1));)V.push(L);return V}},{key:"arrayAllMaxIndexes",value:function(O){return this.getAllIndexes(O,Math.max.apply(null,O))}}]),C}();ae.exports=I},function(ae,D,T){"use strict";var k=function(){};k.FDLayout=T(18),k.FDLayoutConstants=T(7),k.FDLayoutEdge=T(19),k.FDLayoutNode=T(20),k.DimensionD=T(21),k.HashMap=T(22),k.HashSet=T(23),k.IGeometry=T(8),k.IMath=T(9),k.Integer=T(10),k.Point=T(12),k.PointD=T(4),k.RandomSeed=T(16),k.RectangleD=T(13),k.Transform=T(17),k.UniqueIDGeneretor=T(14),k.Quicksort=T(24),k.LinkedList=T(11),k.LGraphObject=T(2),k.LGraph=T(5),k.LEdge=T(1),k.LGraphManager=T(6),k.LNode=T(3),k.Layout=T(15),k.LayoutConstants=T(0),k.NeedlemanWunsch=T(25),ae.exports=k},function(ae,D,T){"use strict";function k(){this.listeners=[]}var N=k.prototype;N.addListener=function(I,C){this.listeners.push({event:I,callback:C})},N.removeListener=function(I,C){for(var S=this.listeners.length;S>=0;S--){var O=this.listeners[S];O.event===I&&O.callback===C&&this.listeners.splice(S,1)}},N.emit=function(I,C){for(var S=0;S<this.listeners.length;S++){var O=this.listeners[S];I===O.event&&O.callback(C)}},ae.exports=k}])},6506:($,ae,D)=>{var N=D(8745)(D(8492),"DataView");$.exports=N},9618:($,ae,D)=>{var T=D(5602),k=D(1499),N=D(2990),I=D(480),C=D(4469);function S(O){var A=-1,V=null==O?0:O.length;for(this.clear();++A<V;){var L=O[A];this.set(L[0],L[1])}}S.prototype.clear=T,S.prototype.delete=k,S.prototype.get=N,S.prototype.has=I,S.prototype.set=C,$.exports=S},3597:($,ae,D)=>{var T=D(9365),k=D(9343),N=D(4779),I=D(1509),C=D(7137);function S(O){var A=-1,V=null==O?0:O.length;for(this.clear();++A<V;){var L=O[A];this.set(L[0],L[1])}}S.prototype.clear=T,S.prototype.delete=k,S.prototype.get=N,S.prototype.has=I,S.prototype.set=C,$.exports=S},1136:($,ae,D)=>{var N=D(8745)(D(8492),"Map");$.exports=N},1811:($,ae,D)=>{var T=D(3413),k=D(5419),N=D(7336),I=D(1115),C=D(6648);function S(O){var A=-1,V=null==O?0:O.length;for(this.clear();++A<V;){var L=O[A];this.set(L[0],L[1])}}S.prototype.clear=T,S.prototype.delete=k,S.prototype.get=N,S.prototype.has=I,S.prototype.set=C,$.exports=S},641:($,ae,D)=>{var N=D(8745)(D(8492),"Promise");$.exports=N},1732:($,ae,D)=>{var N=D(8745)(D(8492),"Set");$.exports=N},5960:($,ae,D)=>{var T=D(1811),k=D(6151),N=D(2154);function I(C){var S=-1,O=null==C?0:C.length;for(this.__data__=new T;++S<O;)this.add(C[S])}I.prototype.add=I.prototype.push=k,I.prototype.has=N,$.exports=I},1339:($,ae,D)=>{var T=D(3597),k=D(9488),N=D(5943),I=D(5456),C=D(4793),S=D(8689);function O(A){var V=this.__data__=new T(A);this.size=V.size}O.prototype.clear=k,O.prototype.delete=N,O.prototype.get=I,O.prototype.has=C,O.prototype.set=S,$.exports=O},1763:($,ae,D)=>{var T=D(8492);$.exports=T.Symbol},2760:($,ae,D)=>{var T=D(8492);$.exports=T.Uint8Array},6413:($,ae,D)=>{var N=D(8745)(D(8492),"WeakMap");$.exports=N},7910:$=>{$.exports=function ae(D,T,k){switch(k.length){case 0:return D.call(T);case 1:return D.call(T,k[0]);case 2:return D.call(T,k[0],k[1]);case 3:return D.call(T,k[0],k[1],k[2])}return D.apply(T,k)}},7772:$=>{$.exports=function ae(D,T){for(var k=-1,N=null==D?0:D.length;++k<N&&!1!==T(D[k],k,D););return D}},2134:$=>{$.exports=function ae(D,T){for(var k=-1,N=null==D?0:D.length,I=0,C=[];++k<N;){var S=D[k];T(S,k,D)&&(C[I++]=S)}return C}},8750:($,ae,D)=>{var T=D(9568);$.exports=function k(N,I){return!(null==N||!N.length)&&T(N,I,0)>-1}},6736:$=>{$.exports=function ae(D,T,k){for(var N=-1,I=null==D?0:D.length;++N<I;)if(k(T,D[N]))return!0;return!1}},1384:($,ae,D)=>{var T=D(5025),k=D(1955),N=D(2261),I=D(7525),C=D(5188),S=D(4868),A=Object.prototype.hasOwnProperty;$.exports=function V(L,B){var H=N(L),Y=!H&&k(L),ee=!H&&!Y&&I(L),ce=!H&&!Y&&!ee&&S(L),ne=H||Y||ee||ce,le=ne?T(L.length,String):[],se=le.length;for(var he in L)(B||A.call(L,he))&&(!ne||!("length"==he||ee&&("offset"==he||"parent"==he)||ce&&("buffer"==he||"byteLength"==he||"byteOffset"==he)||C(he,se)))&&le.push(he);return le}},3880:$=>{$.exports=function ae(D,T){for(var k=-1,N=null==D?0:D.length,I=Array(N);++k<N;)I[k]=T(D[k],k,D);return I}},7853:$=>{$.exports=function ae(D,T){for(var k=-1,N=T.length,I=D.length;++k<N;)D[I+k]=T[k];return D}},9850:$=>{$.exports=function ae(D,T,k,N){var I=-1,C=null==D?0:D.length;for(N&&C&&(k=D[++I]);++I<C;)k=T(k,D[I],I,D);return k}},5916:$=>{$.exports=function ae(D,T){for(var k=-1,N=null==D?0:D.length;++k<N;)if(T(D[k],k,D))return!0;return!1}},6181:($,ae,D)=>{var k=D(3400)("length");$.exports=k},6697:($,ae,D)=>{var T=D(1741),k=D(7826);$.exports=function N(I,C,S){(void 0!==S&&!k(I[C],S)||void 0===S&&!(C in I))&&T(I,C,S)}},9553:($,ae,D)=>{var T=D(1741),k=D(7826),I=Object.prototype.hasOwnProperty;$.exports=function C(S,O,A){var V=S[O];(!I.call(S,O)||!k(V,A)||void 0===A&&!(O in S))&&T(S,O,A)}},4056:($,ae,D)=>{var T=D(7826);$.exports=function k(N,I){for(var C=N.length;C--;)if(T(N[C][0],I))return C;return-1}},6234:($,ae,D)=>{var T=D(5931),k=D(4614);$.exports=function N(I,C){return I&&T(C,k(C),I)}},4431:($,ae,D)=>{var T=D(5931),k=D(6402);$.exports=function N(I,C){return I&&T(C,k(C),I)}},1741:($,ae,D)=>{var T=D(9383);$.exports=function k(N,I,C){"__proto__"==I&&T?T(N,I,{configurable:!0,enumerable:!0,value:C,writable:!0}):N[I]=C}},1320:($,ae,D)=>{var T=D(1339),k=D(7772),N=D(9553),I=D(6234),C=D(4431),S=D(6002),O=D(4231),A=D(9385),V=D(4354),L=D(6131),B=D(2442),H=D(2472),Y=D(9431),ee=D(514),ce=D(9225),ne=D(2261),le=D(7525),se=D(990),he=D(9794),te=D(8611),pe=D(4614),Z=D(6402),_e="[object Arguments]",ot="[object Function]",Xe="[object Object]",Vn={};Vn[_e]=Vn["[object Array]"]=Vn["[object ArrayBuffer]"]=Vn["[object DataView]"]=Vn["[object Boolean]"]=Vn["[object Date]"]=Vn["[object Float32Array]"]=Vn["[object Float64Array]"]=Vn["[object Int8Array]"]=Vn["[object Int16Array]"]=Vn["[object Int32Array]"]=Vn["[object Map]"]=Vn["[object Number]"]=Vn[Xe]=Vn["[object RegExp]"]=Vn["[object Set]"]=Vn["[object String]"]=Vn["[object Symbol]"]=Vn["[object Uint8Array]"]=Vn["[object Uint8ClampedArray]"]=Vn["[object Uint16Array]"]=Vn["[object Uint32Array]"]=!0,Vn["[object Error]"]=Vn[ot]=Vn["[object WeakMap]"]=!1,$.exports=function Yr(dn,Ni,ro,Pi,Li,Gr){var Xi,ja=1&Ni,Ds=2&Ni,In=4&Ni;if(ro&&(Xi=Li?ro(dn,Pi,Li,Gr):ro(dn)),void 0!==Xi)return Xi;if(!he(dn))return dn;var Bl=ne(dn);if(Bl){if(Xi=Y(dn),!ja)return O(dn,Xi)}else{var Yo=H(dn),Xo=Yo==ot||"[object GeneratorFunction]"==Yo;if(le(dn))return S(dn,ja);if(Yo==Xe||Yo==_e||Xo&&!Li){if(Xi=Ds||Xo?{}:ce(dn),!ja)return Ds?V(dn,C(Xi,dn)):A(dn,I(Xi,dn))}else{if(!Vn[Yo])return Li?dn:{};Xi=ee(dn,Yo,ja)}}Gr||(Gr=new T);var dl=Gr.get(dn);if(dl)return dl;Gr.set(dn,Xi),te(dn)?dn.forEach(function(_n){Xi.add(Yr(_n,Ni,ro,_n,dn,Gr))}):se(dn)&&dn.forEach(function(_n,ga){Xi.set(ga,Yr(_n,Ni,ro,ga,dn,Gr))});var Ss=Bl?void 0:(In?Ds?B:L:Ds?Z:pe)(dn);return k(Ss||dn,function(_n,ga){Ss&&(_n=dn[ga=_n]),N(Xi,ga,Yr(_n,Ni,ro,ga,dn,Gr))}),Xi}},1391:($,ae,D)=>{var T=D(9794),k=Object.create,N=function(){function I(){}return function(C){if(!T(C))return{};if(k)return k(C);I.prototype=C;var S=new I;return I.prototype=void 0,S}}();$.exports=N},5103:($,ae,D)=>{var T=D(7794),N=D(9386)(T);$.exports=N},4530:($,ae,D)=>{var T=D(3423);$.exports=function k(N,I,C){for(var S=-1,O=N.length;++S<O;){var A=N[S],V=I(A);if(null!=V&&(void 0===L?V==V&&!T(V):C(V,L)))var L=V,B=A}return B}},1892:($,ae,D)=>{var T=D(5103);$.exports=function k(N,I){var C=[];return T(N,function(S,O,A){I(S,O,A)&&C.push(S)}),C}},4051:$=>{$.exports=function ae(D,T,k,N){for(var I=D.length,C=k+(N?1:-1);N?C--:++C<I;)if(T(D[C],C,D))return C;return-1}},1883:($,ae,D)=>{var T=D(7853),k=D(2241);$.exports=function N(I,C,S,O,A){var V=-1,L=I.length;for(S||(S=k),A||(A=[]);++V<L;){var B=I[V];C>0&&S(B)?C>1?N(B,C-1,S,O,A):T(A,B):O||(A[A.length]=B)}return A}},6483:($,ae,D)=>{var k=D(2086)();$.exports=k},7794:($,ae,D)=>{var T=D(6483),k=D(4614);$.exports=function N(I,C){return I&&T(I,C,k)}},2202:($,ae,D)=>{var T=D(4826),k=D(8916);$.exports=function N(I,C){for(var S=0,O=(C=T(C,I)).length;null!=I&&S<O;)I=I[k(C[S++])];return S&&S==O?I:void 0}},7427:($,ae,D)=>{var T=D(7853),k=D(2261);$.exports=function N(I,C,S){var O=C(I);return k(I)?O:T(O,S(I))}},4590:($,ae,D)=>{var T=D(1763),k=D(5933),N=D(9243),S=T?T.toStringTag:void 0;$.exports=function O(A){return null==A?void 0===A?"[object Undefined]":"[object Null]":S&&S in Object(A)?k(A):N(A)}},8444:$=>{$.exports=function ae(D,T){return D>T}},4493:$=>{var D=Object.prototype.hasOwnProperty;$.exports=function T(k,N){return null!=k&&D.call(k,N)}},3274:$=>{$.exports=function ae(D,T){return null!=D&&T in Object(D)}},9568:($,ae,D)=>{var T=D(4051),k=D(1817),N=D(2528);$.exports=function I(C,S,O){return S==S?N(C,S,O):T(C,k,O)}},3022:($,ae,D)=>{var T=D(4590),k=D(3714);$.exports=function I(C){return k(C)&&"[object Arguments]"==T(C)}},7108:($,ae,D)=>{var T=D(7946),k=D(3714);$.exports=function N(I,C,S,O,A){return I===C||(null==I||null==C||!k(I)&&!k(C)?I!=I&&C!=C:T(I,C,S,O,N,A))}},7946:($,ae,D)=>{var T=D(1339),k=D(7469),N=D(1642),I=D(9462),C=D(2472),S=D(2261),O=D(7525),A=D(4868),L="[object Arguments]",B="[object Array]",H="[object Object]",ee=Object.prototype.hasOwnProperty;$.exports=function ce(ne,le,se,he,te,pe){var Z=S(ne),oe=S(le),ie=Z?B:C(ne),me=oe?B:C(le),_e=(ie=ie==L?H:ie)==H,Se=(me=me==L?H:me)==H,De=ie==me;if(De&&O(ne)){if(!O(le))return!1;Z=!0,_e=!1}if(De&&!_e)return pe||(pe=new T),Z||A(ne)?k(ne,le,se,he,te,pe):N(ne,le,ie,se,he,te,pe);if(!(1&se)){var ze=_e&&ee.call(ne,"__wrapped__"),Be=Se&&ee.call(le,"__wrapped__");if(ze||Be){var ot=ze?ne.value():ne,ft=Be?le.value():le;return pe||(pe=new T),te(ot,ft,se,he,pe)}}return!!De&&(pe||(pe=new T),I(ne,le,se,he,te,pe))}},8562:($,ae,D)=>{var T=D(2472),k=D(3714);$.exports=function I(C){return k(C)&&"[object Map]"==T(C)}},2527:($,ae,D)=>{var T=D(1339),k=D(7108);$.exports=function C(S,O,A,V){var L=A.length,B=L,H=!V;if(null==S)return!B;for(S=Object(S);L--;){var Y=A[L];if(H&&Y[2]?Y[1]!==S[Y[0]]:!(Y[0]in S))return!1}for(;++L<B;){var ee=(Y=A[L])[0],ce=S[ee],ne=Y[1];if(H&&Y[2]){if(void 0===ce&&!(ee in S))return!1}else{var le=new T;if(V)var se=V(ce,ne,ee,S,O,le);if(!(void 0===se?k(ne,ce,3,V,le):se))return!1}}return!0}},1817:$=>{$.exports=function ae(D){return D!=D}},1082:($,ae,D)=>{var T=D(6861),k=D(9950),N=D(9794),I=D(7075),S=/^\[object .+?Constructor\]$/,B=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");$.exports=function H(Y){return!(!N(Y)||k(Y))&&(T(Y)?B:S).test(I(Y))}},1202:($,ae,D)=>{var T=D(2472),k=D(3714);$.exports=function I(C){return k(C)&&"[object Set]"==T(C)}},8902:($,ae,D)=>{var T=D(4590),k=D(7765),N=D(3714),De={};De["[object Float32Array]"]=De["[object Float64Array]"]=De["[object Int8Array]"]=De["[object Int16Array]"]=De["[object Int32Array]"]=De["[object Uint8Array]"]=De["[object Uint8ClampedArray]"]=De["[object Uint16Array]"]=De["[object Uint32Array]"]=!0,De["[object Arguments]"]=De["[object Array]"]=De["[object ArrayBuffer]"]=De["[object Boolean]"]=De["[object DataView]"]=De["[object Date]"]=De["[object Error]"]=De["[object Function]"]=De["[object Map]"]=De["[object Number]"]=De["[object Object]"]=De["[object RegExp]"]=De["[object Set]"]=De["[object String]"]=De["[object WeakMap]"]=!1,$.exports=function ze(Be){return N(Be)&&k(Be.length)&&!!De[T(Be)]}},1627:($,ae,D)=>{var T=D(2924),k=D(8526),N=D(5657),I=D(2261),C=D(2692);$.exports=function S(O){return"function"==typeof O?O:null==O?N:"object"==typeof O?I(O)?k(O[0],O[1]):T(O):C(O)}},190:($,ae,D)=>{var T=D(6587),k=D(366),I=Object.prototype.hasOwnProperty;$.exports=function C(S){if(!T(S))return k(S);var O=[];for(var A in Object(S))I.call(S,A)&&"constructor"!=A&&O.push(A);return O}},7673:($,ae,D)=>{var T=D(9794),k=D(6587),N=D(8981),C=Object.prototype.hasOwnProperty;$.exports=function S(O){if(!T(O))return N(O);var A=k(O),V=[];for(var L in O)"constructor"==L&&(A||!C.call(O,L))||V.push(L);return V}},8898:$=>{$.exports=function ae(D,T){return D<T}},2839:($,ae,D)=>{var T=D(5103),k=D(2447);$.exports=function N(I,C){var S=-1,O=k(I)?Array(I.length):[];return T(I,function(A,V,L){O[++S]=C(A,V,L)}),O}},2924:($,ae,D)=>{var T=D(2527),k=D(7895),N=D(2265);$.exports=function I(C){var S=k(C);return 1==S.length&&S[0][2]?N(S[0][0],S[0][1]):function(O){return O===C||T(O,C,S)}}},8526:($,ae,D)=>{var T=D(7108),k=D(5440),N=D(2494),I=D(6300),C=D(3921),S=D(2265),O=D(8916);$.exports=function L(B,H){return I(B)&&C(H)?S(O(B),H):function(Y){var ee=k(Y,B);return void 0===ee&&ee===H?N(Y,B):T(H,ee,3)}}},3294:($,ae,D)=>{var T=D(1339),k=D(6697),N=D(6483),I=D(9218),C=D(9794),S=D(6402),O=D(7524);$.exports=function A(V,L,B,H,Y){V!==L&&N(L,function(ee,ce){if(Y||(Y=new T),C(ee))I(V,L,ce,B,A,H,Y);else{var ne=H?H(O(V,ce),ee,ce+"",V,L,Y):void 0;void 0===ne&&(ne=ee),k(V,ce,ne)}},S)}},9218:($,ae,D)=>{var T=D(6697),k=D(6002),N=D(2501),I=D(4231),C=D(9225),S=D(1955),O=D(2261),A=D(3471),V=D(7525),L=D(6861),B=D(9794),H=D(8168),Y=D(4868),ee=D(7524),ce=D(4210);$.exports=function ne(le,se,he,te,pe,Z,oe){var ie=ee(le,he),me=ee(se,he),_e=oe.get(me);if(_e)T(le,he,_e);else{var Se=Z?Z(ie,me,he+"",le,se,oe):void 0,De=void 0===Se;if(De){var ze=O(me),Be=!ze&&V(me),ot=!ze&&!Be&&Y(me);Se=me,ze||Be||ot?O(ie)?Se=ie:A(ie)?Se=I(ie):Be?(De=!1,Se=k(me,!0)):ot?(De=!1,Se=N(me,!0)):Se=[]:H(me)||S(me)?(Se=ie,S(ie)?Se=ce(ie):(!B(ie)||L(ie))&&(Se=C(me))):De=!1}De&&(oe.set(me,Se),pe(Se,me,te,Z,oe),oe.delete(me)),T(le,he,Se)}}},252:($,ae,D)=>{var T=D(3880),k=D(2202),N=D(1627),I=D(2839),C=D(6389),S=D(5249),O=D(9664),A=D(5657),V=D(2261);$.exports=function L(B,H,Y){H=H.length?T(H,function(ne){return V(ne)?function(le){return k(le,1===ne.length?ne[0]:ne)}:ne}):[A];var ee=-1;H=T(H,S(N));var ce=I(B,function(ne,le,se){return{criteria:T(H,function(te){return te(ne)}),index:++ee,value:ne}});return C(ce,function(ne,le){return O(ne,le,Y)})}},2784:($,ae,D)=>{var T=D(2772),k=D(2494);$.exports=function N(I,C){return T(I,C,function(S,O){return k(I,O)})}},2772:($,ae,D)=>{var T=D(2202),k=D(9478),N=D(4826);$.exports=function I(C,S,O){for(var A=-1,V=S.length,L={};++A<V;){var B=S[A],H=T(C,B);O(H,B)&&k(L,N(B,C),H)}return L}},3400:$=>{$.exports=function ae(D){return function(T){return T?.[D]}}},6443:($,ae,D)=>{var T=D(2202);$.exports=function k(N){return function(I){return T(I,N)}}},9948:$=>{var ae=Math.ceil,D=Math.max;$.exports=function T(k,N,I,C){for(var S=-1,O=D(ae((N-k)/(I||1)),0),A=Array(O);O--;)A[C?O:++S]=k,k+=I;return A}},8978:$=>{$.exports=function ae(D,T,k,N,I){return I(D,function(C,S,O){k=N?(N=!1,C):T(k,C,S,O)}),k}},8951:($,ae,D)=>{var T=D(5657),k=D(2394),N=D(6814);$.exports=function I(C,S){return N(k(C,S,T),C+"")}},9478:($,ae,D)=>{var T=D(9553),k=D(4826),N=D(5188),I=D(9794),C=D(8916);$.exports=function S(O,A,V,L){if(!I(O))return O;for(var B=-1,H=(A=k(A,O)).length,Y=H-1,ee=O;null!=ee&&++B<H;){var ce=C(A[B]),ne=V;if("__proto__"===ce||"constructor"===ce||"prototype"===ce)return O;if(B!=Y){var le=ee[ce];void 0===(ne=L?L(le,ce,ee):void 0)&&(ne=I(le)?le:N(A[B+1])?[]:{})}T(ee,ce,ne),ee=ee[ce]}return O}},8235:($,ae,D)=>{var T=D(1075),k=D(9383),N=D(5657);$.exports=k?function(C,S){return k(C,"toString",{configurable:!0,enumerable:!1,value:T(S),writable:!0})}:N},6389:$=>{$.exports=function ae(D,T){var k=D.length;for(D.sort(T);k--;)D[k]=D[k].value;return D}},5025:$=>{$.exports=function ae(D,T){for(var k=-1,N=Array(D);++k<D;)N[k]=T(k);return N}},7002:($,ae,D)=>{var T=D(1763),k=D(3880),N=D(2261),I=D(3423),S=T?T.prototype:void 0,O=S?S.toString:void 0;$.exports=function A(V){if("string"==typeof V)return V;if(N(V))return k(V,A)+"";if(I(V))return O?O.call(V):"";var L=V+"";return"0"==L&&1/V==-1/0?"-0":L}},9484:($,ae,D)=>{var T=D(1781),k=/^\s+/;$.exports=function N(I){return I&&I.slice(0,T(I)+1).replace(k,"")}},5249:$=>{$.exports=function ae(D){return function(T){return D(T)}}},9154:($,ae,D)=>{var T=D(5960),k=D(8750),N=D(6736),I=D(4795),C=D(8433),S=D(8e3);$.exports=function A(V,L,B){var H=-1,Y=k,ee=V.length,ce=!0,ne=[],le=ne;if(B)ce=!1,Y=N;else if(ee>=200){var se=L?null:C(V);if(se)return S(se);ce=!1,Y=I,le=new T}else le=L?[]:ne;e:for(;++H<ee;){var he=V[H],te=L?L(he):he;if(he=B||0!==he?he:0,ce&&te==te){for(var pe=le.length;pe--;)if(le[pe]===te)continue e;L&&le.push(te),ne.push(he)}else Y(le,te,B)||(le!==ne&&le.push(te),ne.push(he))}return ne}},6680:($,ae,D)=>{var T=D(3880);$.exports=function k(N,I){return T(I,function(C){return N[C]})}},2255:$=>{$.exports=function ae(D,T,k){for(var N=-1,I=D.length,C=T.length,S={};++N<I;)k(S,D[N],N<C?T[N]:void 0);return S}},4795:$=>{$.exports=function ae(D,T){return D.has(T)}},4655:($,ae,D)=>{var T=D(5657);$.exports=function k(N){return"function"==typeof N?N:T}},4826:($,ae,D)=>{var T=D(2261),k=D(6300),N=D(163),I=D(2674);$.exports=function C(S,O){return T(S)?S:k(S,O)?[S]:N(I(S))}},2355:($,ae,D)=>{var T=D(2760);$.exports=function k(N){var I=new N.constructor(N.byteLength);return new T(I).set(new T(N)),I}},6002:($,ae,D)=>{$=D.nmd($);var T=D(8492),k=ae&&!ae.nodeType&&ae,N=k&&$&&!$.nodeType&&$,C=N&&N.exports===k?T.Buffer:void 0,S=C?C.allocUnsafe:void 0;$.exports=function O(A,V){if(V)return A.slice();var L=A.length,B=S?S(L):new A.constructor(L);return A.copy(B),B}},6693:($,ae,D)=>{var T=D(2355);$.exports=function k(N,I){var C=I?T(N.buffer):N.buffer;return new N.constructor(C,N.byteOffset,N.byteLength)}},497:$=>{var ae=/\w*$/;$.exports=function D(T){var k=new T.constructor(T.source,ae.exec(T));return k.lastIndex=T.lastIndex,k}},3330:($,ae,D)=>{var T=D(1763),k=T?T.prototype:void 0,N=k?k.valueOf:void 0;$.exports=function I(C){return N?Object(N.call(C)):{}}},2501:($,ae,D)=>{var T=D(2355);$.exports=function k(N,I){var C=I?T(N.buffer):N.buffer;return new N.constructor(C,N.byteOffset,N.length)}},5400:($,ae,D)=>{var T=D(3423);$.exports=function k(N,I){if(N!==I){var C=void 0!==N,S=null===N,O=N==N,A=T(N),V=void 0!==I,L=null===I,B=I==I,H=T(I);if(!L&&!H&&!A&&N>I||A&&V&&B&&!L&&!H||S&&V&&B||!C&&B||!O)return 1;if(!S&&!A&&!H&&N<I||H&&C&&O&&!S&&!A||L&&C&&O||!V&&O||!B)return-1}return 0}},9664:($,ae,D)=>{var T=D(5400);$.exports=function k(N,I,C){for(var S=-1,O=N.criteria,A=I.criteria,V=O.length,L=C.length;++S<V;){var B=T(O[S],A[S]);if(B)return S>=L?B:B*("desc"==C[S]?-1:1)}return N.index-I.index}},4231:$=>{$.exports=function ae(D,T){var k=-1,N=D.length;for(T||(T=Array(N));++k<N;)T[k]=D[k];return T}},5931:($,ae,D)=>{var T=D(9553),k=D(1741);$.exports=function N(I,C,S,O){var A=!S;S||(S={});for(var V=-1,L=C.length;++V<L;){var B=C[V],H=O?O(S[B],I[B],B,S,I):void 0;void 0===H&&(H=I[B]),A?k(S,B,H):T(S,B,H)}return S}},9385:($,ae,D)=>{var T=D(5931),k=D(771);$.exports=function N(I,C){return T(I,k(I),C)}},4354:($,ae,D)=>{var T=D(5931),k=D(708);$.exports=function N(I,C){return T(I,k(I),C)}},6189:($,ae,D)=>{var T=D(8492);$.exports=T["__core-js_shared__"]},1300:($,ae,D)=>{var T=D(8951),k=D(3817);$.exports=function N(I){return T(function(C,S){var O=-1,A=S.length,V=A>1?S[A-1]:void 0,L=A>2?S[2]:void 0;for(V=I.length>3&&"function"==typeof V?(A--,V):void 0,L&&k(S[0],S[1],L)&&(V=A<3?void 0:V,A=1),C=Object(C);++O<A;){var B=S[O];B&&I(C,B,O,V)}return C})}},9386:($,ae,D)=>{var T=D(2447);$.exports=function k(N,I){return function(C,S){if(null==C)return C;if(!T(C))return N(C,S);for(var O=C.length,A=I?O:-1,V=Object(C);(I?A--:++A<O)&&!1!==S(V[A],A,V););return C}}},2086:$=>{$.exports=function ae(D){return function(T,k,N){for(var I=-1,C=Object(T),S=N(T),O=S.length;O--;){var A=S[D?O:++I];if(!1===k(C[A],A,C))break}return T}}},6738:($,ae,D)=>{var T=D(1627),k=D(2447),N=D(4614);$.exports=function I(C){return function(S,O,A){var V=Object(S);if(!k(S)){var L=T(O,3);S=N(S),O=function(H){return L(V[H],H,V)}}var B=C(S,O,A);return B>-1?V[L?S[B]:B]:void 0}}},4222:($,ae,D)=>{var T=D(9948),k=D(3817),N=D(9292);$.exports=function I(C){return function(S,O,A){return A&&"number"!=typeof A&&k(S,O,A)&&(O=A=void 0),S=N(S),void 0===O?(O=S,S=0):O=N(O),A=void 0===A?S<O?1:-1:N(A),T(S,O,A,C)}}},8433:($,ae,D)=>{var T=D(1732),k=D(4249),N=D(8e3),C=T&&1/N(new T([,-0]))[1]==1/0?function(S){return new T(S)}:k;$.exports=C},9383:($,ae,D)=>{var T=D(8745),k=function(){try{var N=T(Object,"defineProperty");return N({},"",{}),N}catch{}}();$.exports=k},7469:($,ae,D)=>{var T=D(5960),k=D(5916),N=D(4795);$.exports=function S(O,A,V,L,B,H){var Y=1&V,ee=O.length,ce=A.length;if(ee!=ce&&!(Y&&ce>ee))return!1;var ne=H.get(O),le=H.get(A);if(ne&&le)return ne==A&&le==O;var se=-1,he=!0,te=2&V?new T:void 0;for(H.set(O,A),H.set(A,O);++se<ee;){var pe=O[se],Z=A[se];if(L)var oe=Y?L(Z,pe,se,A,O,H):L(pe,Z,se,O,A,H);if(void 0!==oe){if(oe)continue;he=!1;break}if(te){if(!k(A,function(ie,me){if(!N(te,me)&&(pe===ie||B(pe,ie,V,L,H)))return te.push(me)})){he=!1;break}}else if(pe!==Z&&!B(pe,Z,V,L,H)){he=!1;break}}return H.delete(O),H.delete(A),he}},1642:($,ae,D)=>{var T=D(1763),k=D(2760),N=D(7826),I=D(7469),C=D(1575),S=D(8e3),te=T?T.prototype:void 0,pe=te?te.valueOf:void 0;$.exports=function Z(oe,ie,me,_e,Se,De,ze){switch(me){case"[object DataView]":if(oe.byteLength!=ie.byteLength||oe.byteOffset!=ie.byteOffset)return!1;oe=oe.buffer,ie=ie.buffer;case"[object ArrayBuffer]":return!(oe.byteLength!=ie.byteLength||!De(new k(oe),new k(ie)));case"[object Boolean]":case"[object Date]":case"[object Number]":return N(+oe,+ie);case"[object Error]":return oe.name==ie.name&&oe.message==ie.message;case"[object RegExp]":case"[object String]":return oe==ie+"";case"[object Map]":var Be=C;case"[object Set]":if(Be||(Be=S),oe.size!=ie.size&&!(1&_e))return!1;var ft=ze.get(oe);if(ft)return ft==ie;_e|=2,ze.set(oe,ie);var Ye=I(Be(oe),Be(ie),_e,Se,De,ze);return ze.delete(oe),Ye;case"[object Symbol]":if(pe)return pe.call(oe)==pe.call(ie)}return!1}},9462:($,ae,D)=>{var T=D(6131),I=Object.prototype.hasOwnProperty;$.exports=function C(S,O,A,V,L,B){var H=1&A,Y=T(S),ee=Y.length;if(ee!=T(O).length&&!H)return!1;for(var le=ee;le--;){var se=Y[le];if(!(H?se in O:I.call(O,se)))return!1}var he=B.get(S),te=B.get(O);if(he&&te)return he==O&&te==S;var pe=!0;B.set(S,O),B.set(O,S);for(var Z=H;++le<ee;){var oe=S[se=Y[le]],ie=O[se];if(V)var me=H?V(ie,oe,se,O,S,B):V(oe,ie,se,S,O,B);if(!(void 0===me?oe===ie||L(oe,ie,A,V,B):me)){pe=!1;break}Z||(Z="constructor"==se)}if(pe&&!Z){var _e=S.constructor,Se=O.constructor;_e!=Se&&"constructor"in S&&"constructor"in O&&!("function"==typeof _e&&_e instanceof _e&&"function"==typeof Se&&Se instanceof Se)&&(pe=!1)}return B.delete(S),B.delete(O),pe}},6801:($,ae,D)=>{var T=D(9336),k=D(2394),N=D(6814);$.exports=function I(C){return N(k(C,void 0,T),C+"")}},248:$=>{var ae="object"==typeof global&&global&&global.Object===Object&&global;$.exports=ae},6131:($,ae,D)=>{var T=D(7427),k=D(771),N=D(4614);$.exports=function I(C){return T(C,N,k)}},2442:($,ae,D)=>{var T=D(7427),k=D(708),N=D(6402);$.exports=function I(C){return T(C,N,k)}},4113:($,ae,D)=>{var T=D(29);$.exports=function k(N,I){var C=N.__data__;return T(I)?C["string"==typeof I?"string":"hash"]:C.map}},7895:($,ae,D)=>{var T=D(3921),k=D(4614);$.exports=function N(I){for(var C=k(I),S=C.length;S--;){var O=C[S],A=I[O];C[S]=[O,A,T(A)]}return C}},8745:($,ae,D)=>{var T=D(1082),k=D(1015);$.exports=function N(I,C){var S=k(I,C);return T(S)?S:void 0}},6186:($,ae,D)=>{var k=D(3106)(Object.getPrototypeOf,Object);$.exports=k},5933:($,ae,D)=>{var T=D(1763),k=Object.prototype,N=k.hasOwnProperty,I=k.toString,C=T?T.toStringTag:void 0;$.exports=function S(O){var A=N.call(O,C),V=O[C];try{O[C]=void 0;var L=!0}catch{}var B=I.call(O);return L&&(A?O[C]=V:delete O[C]),B}},771:($,ae,D)=>{var T=D(2134),k=D(1315),I=Object.prototype.propertyIsEnumerable,C=Object.getOwnPropertySymbols;$.exports=C?function(O){return null==O?[]:(O=Object(O),T(C(O),function(A){return I.call(O,A)}))}:k},708:($,ae,D)=>{var T=D(7853),k=D(6186),N=D(771),I=D(1315);$.exports=Object.getOwnPropertySymbols?function(O){for(var A=[];O;)T(A,N(O)),O=k(O);return A}:I},2472:($,ae,D)=>{var T=D(6506),k=D(1136),N=D(641),I=D(1732),C=D(6413),S=D(4590),O=D(7075),A="[object Map]",L="[object Promise]",B="[object Set]",H="[object WeakMap]",Y="[object DataView]",ee=O(T),ce=O(k),ne=O(N),le=O(I),se=O(C),he=S;(T&&he(new T(new ArrayBuffer(1)))!=Y||k&&he(new k)!=A||N&&he(N.resolve())!=L||I&&he(new I)!=B||C&&he(new C)!=H)&&(he=function(te){var pe=S(te),Z="[object Object]"==pe?te.constructor:void 0,oe=Z?O(Z):"";if(oe)switch(oe){case ee:return Y;case ce:return A;case ne:return L;case le:return B;case se:return H}return pe}),$.exports=he},1015:$=>{$.exports=function ae(D,T){return D?.[T]}},4583:($,ae,D)=>{var T=D(4826),k=D(1955),N=D(2261),I=D(5188),C=D(7765),S=D(8916);$.exports=function O(A,V,L){for(var B=-1,H=(V=T(V,A)).length,Y=!1;++B<H;){var ee=S(V[B]);if(!(Y=null!=A&&L(A,ee)))break;A=A[ee]}return Y||++B!=H?Y:!!(H=null==A?0:A.length)&&C(H)&&I(ee,H)&&(N(A)||k(A))}},3687:$=>{var S=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");$.exports=function O(A){return S.test(A)}},5602:($,ae,D)=>{var T=D(893);$.exports=function k(){this.__data__=T?T(null):{},this.size=0}},1499:$=>{$.exports=function ae(D){var T=this.has(D)&&delete this.__data__[D];return this.size-=T?1:0,T}},2990:($,ae,D)=>{var T=D(893),I=Object.prototype.hasOwnProperty;$.exports=function C(S){var O=this.__data__;if(T){var A=O[S];return"__lodash_hash_undefined__"===A?void 0:A}return I.call(O,S)?O[S]:void 0}},480:($,ae,D)=>{var T=D(893),N=Object.prototype.hasOwnProperty;$.exports=function I(C){var S=this.__data__;return T?void 0!==S[C]:N.call(S,C)}},4469:($,ae,D)=>{var T=D(893);$.exports=function N(I,C){var S=this.__data__;return this.size+=this.has(I)?0:1,S[I]=T&&void 0===C?"__lodash_hash_undefined__":C,this}},9431:$=>{var D=Object.prototype.hasOwnProperty;$.exports=function T(k){var N=k.length,I=new k.constructor(N);return N&&"string"==typeof k[0]&&D.call(k,"index")&&(I.index=k.index,I.input=k.input),I}},514:($,ae,D)=>{var T=D(2355),k=D(6693),N=D(497),I=D(3330),C=D(2501);$.exports=function me(_e,Se,De){var ze=_e.constructor;switch(Se){case"[object ArrayBuffer]":return T(_e);case"[object Boolean]":case"[object Date]":return new ze(+_e);case"[object DataView]":return k(_e,De);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return C(_e,De);case"[object Map]":case"[object Set]":return new ze;case"[object Number]":case"[object String]":return new ze(_e);case"[object RegExp]":return N(_e);case"[object Symbol]":return I(_e)}}},9225:($,ae,D)=>{var T=D(1391),k=D(6186),N=D(6587);$.exports=function I(C){return"function"!=typeof C.constructor||N(C)?{}:T(k(C))}},2241:($,ae,D)=>{var T=D(1763),k=D(1955),N=D(2261),I=T?T.isConcatSpreadable:void 0;$.exports=function C(S){return N(S)||k(S)||!!(I&&S&&S[I])}},5188:$=>{var D=/^(?:0|[1-9]\d*)$/;$.exports=function T(k,N){var I=typeof k;return!!(N=N??9007199254740991)&&("number"==I||"symbol"!=I&&D.test(k))&&k>-1&&k%1==0&&k<N}},3817:($,ae,D)=>{var T=D(7826),k=D(2447),N=D(5188),I=D(9794);$.exports=function C(S,O,A){if(!I(A))return!1;var V=typeof O;return!!("number"==V?k(A)&&N(O,A.length):"string"==V&&O in A)&&T(A[O],S)}},6300:($,ae,D)=>{var T=D(2261),k=D(3423),N=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I=/^\w*$/;$.exports=function C(S,O){if(T(S))return!1;var A=typeof S;return!("number"!=A&&"symbol"!=A&&"boolean"!=A&&null!=S&&!k(S))||I.test(S)||!N.test(S)||null!=O&&S in Object(O)}},29:$=>{$.exports=function ae(D){var T=typeof D;return"string"==T||"number"==T||"symbol"==T||"boolean"==T?"__proto__"!==D:null===D}},9950:($,ae,D)=>{var I,T=D(6189),k=(I=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"";$.exports=function N(I){return!!k&&k in I}},6587:$=>{var ae=Object.prototype;$.exports=function D(T){var k=T&&T.constructor;return T===("function"==typeof k&&k.prototype||ae)}},3921:($,ae,D)=>{var T=D(9794);$.exports=function k(N){return N==N&&!T(N)}},9365:$=>{$.exports=function ae(){this.__data__=[],this.size=0}},9343:($,ae,D)=>{var T=D(4056),N=Array.prototype.splice;$.exports=function I(C){var S=this.__data__,O=T(S,C);return!(O<0||(O==S.length-1?S.pop():N.call(S,O,1),--this.size,0))}},4779:($,ae,D)=>{var T=D(4056);$.exports=function k(N){var I=this.__data__,C=T(I,N);return C<0?void 0:I[C][1]}},1509:($,ae,D)=>{var T=D(4056);$.exports=function k(N){return T(this.__data__,N)>-1}},7137:($,ae,D)=>{var T=D(4056);$.exports=function k(N,I){var C=this.__data__,S=T(C,N);return S<0?(++this.size,C.push([N,I])):C[S][1]=I,this}},3413:($,ae,D)=>{var T=D(9618),k=D(3597),N=D(1136);$.exports=function I(){this.size=0,this.__data__={hash:new T,map:new(N||k),string:new T}}},5419:($,ae,D)=>{var T=D(4113);$.exports=function k(N){var I=T(this,N).delete(N);return this.size-=I?1:0,I}},7336:($,ae,D)=>{var T=D(4113);$.exports=function k(N){return T(this,N).get(N)}},1115:($,ae,D)=>{var T=D(4113);$.exports=function k(N){return T(this,N).has(N)}},6648:($,ae,D)=>{var T=D(4113);$.exports=function k(N,I){var C=T(this,N),S=C.size;return C.set(N,I),this.size+=C.size==S?0:1,this}},1575:$=>{$.exports=function ae(D){var T=-1,k=Array(D.size);return D.forEach(function(N,I){k[++T]=[I,N]}),k}},2265:$=>{$.exports=function ae(D,T){return function(k){return null!=k&&k[D]===T&&(void 0!==T||D in Object(k))}}},7371:($,ae,D)=>{var T=D(7659);$.exports=function N(I){var C=T(I,function(O){return 500===S.size&&S.clear(),O}),S=C.cache;return C}},893:($,ae,D)=>{var k=D(8745)(Object,"create");$.exports=k},366:($,ae,D)=>{var k=D(3106)(Object.keys,Object);$.exports=k},8981:$=>{$.exports=function ae(D){var T=[];if(null!=D)for(var k in Object(D))T.push(k);return T}},8849:($,ae,D)=>{$=D.nmd($);var T=D(248),k=ae&&!ae.nodeType&&ae,N=k&&$&&!$.nodeType&&$,C=N&&N.exports===k&&T.process,S=function(){try{return N&&N.require&&N.require("util").types||C&&C.binding&&C.binding("util")}catch{}}();$.exports=S},9243:$=>{var D=Object.prototype.toString;$.exports=function T(k){return D.call(k)}},3106:$=>{$.exports=function ae(D,T){return function(k){return D(T(k))}}},2394:($,ae,D)=>{var T=D(7910),k=Math.max;$.exports=function N(I,C,S){return C=k(void 0===C?I.length-1:C,0),function(){for(var O=arguments,A=-1,V=k(O.length-C,0),L=Array(V);++A<V;)L[A]=O[C+A];A=-1;for(var B=Array(C+1);++A<C;)B[A]=O[A];return B[C]=S(L),T(I,this,B)}}},8492:($,ae,D)=>{var T=D(248),k="object"==typeof self&&self&&self.Object===Object&&self,N=T||k||Function("return this")();$.exports=N},7524:$=>{$.exports=function ae(D,T){if(("constructor"!==T||"function"!=typeof D[T])&&"__proto__"!=T)return D[T]}},6151:$=>{$.exports=function D(T){return this.__data__.set(T,"__lodash_hash_undefined__"),this}},2154:$=>{$.exports=function ae(D){return this.__data__.has(D)}},8e3:$=>{$.exports=function ae(D){var T=-1,k=Array(D.size);return D.forEach(function(N){k[++T]=N}),k}},6814:($,ae,D)=>{var T=D(8235),N=D(9531)(T);$.exports=N},9531:$=>{var T=Date.now;$.exports=function k(N){var I=0,C=0;return function(){var S=T(),O=16-(S-C);if(C=S,O>0){if(++I>=800)return arguments[0]}else I=0;return N.apply(void 0,arguments)}}},9488:($,ae,D)=>{var T=D(3597);$.exports=function k(){this.__data__=new T,this.size=0}},5943:$=>{$.exports=function ae(D){var T=this.__data__,k=T.delete(D);return this.size=T.size,k}},5456:$=>{$.exports=function ae(D){return this.__data__.get(D)}},4793:$=>{$.exports=function ae(D){return this.__data__.has(D)}},8689:($,ae,D)=>{var T=D(3597),k=D(1136),N=D(1811);$.exports=function C(S,O){var A=this.__data__;if(A instanceof T){var V=A.__data__;if(!k||V.length<199)return V.push([S,O]),this.size=++A.size,this;A=this.__data__=new N(V)}return A.set(S,O),this.size=A.size,this}},2528:$=>{$.exports=function ae(D,T,k){for(var N=k-1,I=D.length;++N<I;)if(D[N]===T)return N;return-1}},7339:($,ae,D)=>{var T=D(6181),k=D(3687),N=D(9164);$.exports=function I(C){return k(C)?N(C):T(C)}},163:($,ae,D)=>{var T=D(7371),k=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/\\(\\)?/g,I=T(function(C){var S=[];return 46===C.charCodeAt(0)&&S.push(""),C.replace(k,function(O,A,V,L){S.push(V?L.replace(N,"$1"):A||O)}),S});$.exports=I},8916:($,ae,D)=>{var T=D(3423);$.exports=function N(I){if("string"==typeof I||T(I))return I;var C=I+"";return"0"==C&&1/I==-1/0?"-0":C}},7075:$=>{var D=Function.prototype.toString;$.exports=function T(k){if(null!=k){try{return D.call(k)}catch{}try{return k+""}catch{}}return""}},1781:$=>{var ae=/\s/;$.exports=function D(T){for(var k=T.length;k--&&ae.test(T.charAt(k)););return k}},9164:$=>{var ae="\\ud800-\\udfff",C="["+ae+"]",S="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",O="\\ud83c[\\udffb-\\udfff]",V="[^"+ae+"]",L="(?:\\ud83c[\\udde6-\\uddff]){2}",B="[\\ud800-\\udbff][\\udc00-\\udfff]",Y="(?:"+S+"|"+O+")?",ee="[\\ufe0e\\ufe0f]?",ne=ee+Y+"(?:\\u200d(?:"+[V,L,B].join("|")+")"+ee+Y+")*",le="(?:"+[V+S+"?",S,L,B,C].join("|")+")",se=RegExp(O+"(?="+O+")|"+le+ne,"g");$.exports=function he(te){for(var pe=se.lastIndex=0;se.test(te);)++pe;return pe}},8734:($,ae,D)=>{var T=D(1320);$.exports=function N(I){return T(I,4)}},4451:($,ae,D)=>{var T=D(1320);$.exports=function I(C){return T(C,5)}},1075:$=>{$.exports=function ae(D){return function(){return D}}},4430:($,ae,D)=>{var T=D(9794),k=D(5533),N=D(4282),C=Math.max,S=Math.min;$.exports=function O(A,V,L){var B,H,Y,ee,ce,ne,le=0,se=!1,he=!1,te=!0;if("function"!=typeof A)throw new TypeError("Expected a function");function pe(Be){var ot=B,ft=H;return B=H=void 0,le=Be,ee=A.apply(ft,ot)}function ie(Be){var ot=Be-ne;return void 0===ne||ot>=V||ot<0||he&&Be-le>=Y}function me(){var Be=k();if(ie(Be))return _e(Be);ce=setTimeout(me,function oe(Be){var Ye=V-(Be-ne);return he?S(Ye,Y-(Be-le)):Ye}(Be))}function _e(Be){return ce=void 0,te&&B?pe(Be):(B=H=void 0,ee)}function ze(){var Be=k(),ot=ie(Be);if(B=arguments,H=this,ne=Be,ot){if(void 0===ce)return function Z(Be){return le=Be,ce=setTimeout(me,V),se?pe(Be):ee}(ne);if(he)return clearTimeout(ce),ce=setTimeout(me,V),pe(ne)}return void 0===ce&&(ce=setTimeout(me,V)),ee}return V=N(V)||0,T(L)&&(se=!!L.leading,Y=(he="maxWait"in L)?C(N(L.maxWait)||0,V):Y,te="trailing"in L?!!L.trailing:te),ze.cancel=function Se(){void 0!==ce&&clearTimeout(ce),le=0,B=ne=H=ce=void 0},ze.flush=function De(){return void 0===ce?ee:_e(k())},ze}},5433:($,ae,D)=>{var T=D(8951),k=D(7826),N=D(3817),I=D(6402),C=Object.prototype,S=C.hasOwnProperty,O=T(function(A,V){A=Object(A);var L=-1,B=V.length,H=B>2?V[2]:void 0;for(H&&N(V[0],V[1],H)&&(B=1);++L<B;)for(var Y=V[L],ee=I(Y),ce=-1,ne=ee.length;++ce<ne;){var le=ee[ce],se=A[le];(void 0===se||k(se,C[le])&&!S.call(A,le))&&(A[le]=Y[le])}return A});$.exports=O},6488:($,ae,D)=>{$.exports=D(7170)},7826:$=>{$.exports=function ae(D,T){return D===T||D!=D&&T!=T}},7661:($,ae,D)=>{var T=D(2134),k=D(1892),N=D(1627),I=D(2261);$.exports=function C(S,O){return(I(S)?T:k)(S,N(O,3))}},6177:($,ae,D)=>{var N=D(6738)(D(1904));$.exports=N},1904:($,ae,D)=>{var T=D(4051),k=D(1627),N=D(481),I=Math.max;$.exports=function C(S,O,A){var V=null==S?0:S.length;if(!V)return-1;var L=null==A?0:N(A);return L<0&&(L=I(V+L,0)),T(S,k(O,3),L)}},9336:($,ae,D)=>{var T=D(1883);$.exports=function k(N){return null!=N&&N.length?T(N,1):[]}},7170:($,ae,D)=>{var T=D(7772),k=D(5103),N=D(4655),I=D(2261);$.exports=function C(S,O){return(I(S)?T:k)(S,N(O))}},1658:($,ae,D)=>{var T=D(6483),k=D(4655),N=D(6402);$.exports=function I(C,S){return null==C?C:T(C,k(S),N)}},5440:($,ae,D)=>{var T=D(2202);$.exports=function k(N,I,C){var S=null==N?void 0:T(N,I);return void 0===S?C:S}},8669:($,ae,D)=>{var T=D(4493),k=D(4583);$.exports=function N(I,C){return null!=I&&k(I,C,T)}},2494:($,ae,D)=>{var T=D(3274),k=D(4583);$.exports=function N(I,C){return null!=I&&k(I,C,T)}},5657:$=>{$.exports=function ae(D){return D}},1955:($,ae,D)=>{var T=D(3022),k=D(3714),N=Object.prototype,I=N.hasOwnProperty,C=N.propertyIsEnumerable,S=T(function(){return arguments}())?T:function(O){return k(O)&&I.call(O,"callee")&&!C.call(O,"callee")};$.exports=S},2261:$=>{$.exports=Array.isArray},2447:($,ae,D)=>{var T=D(6861),k=D(7765);$.exports=function N(I){return null!=I&&k(I.length)&&!T(I)}},3471:($,ae,D)=>{var T=D(2447),k=D(3714);$.exports=function N(I){return k(I)&&T(I)}},7525:($,ae,D)=>{$=D.nmd($);var T=D(8492),k=D(5706),N=ae&&!ae.nodeType&&ae,I=N&&$&&!$.nodeType&&$,S=I&&I.exports===N?T.Buffer:void 0;$.exports=(S?S.isBuffer:void 0)||k},5350:($,ae,D)=>{var T=D(190),k=D(2472),N=D(1955),I=D(2261),C=D(2447),S=D(7525),O=D(6587),A=D(4868),H=Object.prototype.hasOwnProperty;$.exports=function Y(ee){if(null==ee)return!0;if(C(ee)&&(I(ee)||"string"==typeof ee||"function"==typeof ee.splice||S(ee)||A(ee)||N(ee)))return!ee.length;var ce=k(ee);if("[object Map]"==ce||"[object Set]"==ce)return!ee.size;if(O(ee))return!T(ee).length;for(var ne in ee)if(H.call(ee,ne))return!1;return!0}},6861:($,ae,D)=>{var T=D(4590),k=D(9794);$.exports=function O(A){if(!k(A))return!1;var V=T(A);return"[object Function]"==V||"[object GeneratorFunction]"==V||"[object AsyncFunction]"==V||"[object Proxy]"==V}},7765:$=>{$.exports=function D(T){return"number"==typeof T&&T>-1&&T%1==0&&T<=9007199254740991}},990:($,ae,D)=>{var T=D(8562),k=D(5249),N=D(8849),I=N&&N.isMap,C=I?k(I):T;$.exports=C},9794:$=>{$.exports=function ae(D){var T=typeof D;return null!=D&&("object"==T||"function"==T)}},3714:$=>{$.exports=function ae(D){return null!=D&&"object"==typeof D}},8168:($,ae,D)=>{var T=D(4590),k=D(6186),N=D(3714),O=Function.prototype.toString,A=Object.prototype.hasOwnProperty,V=O.call(Object);$.exports=function L(B){if(!N(B)||"[object Object]"!=T(B))return!1;var H=k(B);if(null===H)return!0;var Y=A.call(H,"constructor")&&H.constructor;return"function"==typeof Y&&Y instanceof Y&&O.call(Y)==V}},8611:($,ae,D)=>{var T=D(1202),k=D(5249),N=D(8849),I=N&&N.isSet,C=I?k(I):T;$.exports=C},2164:($,ae,D)=>{var T=D(4590),k=D(2261),N=D(3714);$.exports=function C(S){return"string"==typeof S||!k(S)&&N(S)&&"[object String]"==T(S)}},3423:($,ae,D)=>{var T=D(4590),k=D(3714);$.exports=function I(C){return"symbol"==typeof C||k(C)&&"[object Symbol]"==T(C)}},4868:($,ae,D)=>{var T=D(8902),k=D(5249),N=D(8849),I=N&&N.isTypedArray,C=I?k(I):T;$.exports=C},8152:$=>{$.exports=function ae(D){return void 0===D}},4614:($,ae,D)=>{var T=D(1384),k=D(190),N=D(2447);$.exports=function I(C){return N(C)?T(C):k(C)}},6402:($,ae,D)=>{var T=D(1384),k=D(7673),N=D(2447);$.exports=function I(C){return N(C)?T(C,!0):k(C)}},2819:$=>{$.exports=function ae(D){var T=null==D?0:D.length;return T?D[T-1]:void 0}},8921:($,ae,D)=>{var T=D(3880),k=D(1627),N=D(2839),I=D(2261);$.exports=function C(S,O){return(I(S)?T:N)(S,k(O,3))}},6054:($,ae,D)=>{var T=D(1741),k=D(7794),N=D(1627);$.exports=function I(C,S){var O={};return S=N(S,3),k(C,function(A,V,L){T(O,V,S(A,V,L))}),O}},5664:($,ae,D)=>{var T=D(4530),k=D(8444),N=D(5657);$.exports=function I(C){return C&&C.length?T(C,N,k):void 0}},7659:($,ae,D)=>{var T=D(1811);function N(I,C){if("function"!=typeof I||null!=C&&"function"!=typeof C)throw new TypeError("Expected a function");var S=function(){var O=arguments,A=C?C.apply(this,O):O[0],V=S.cache;if(V.has(A))return V.get(A);var L=I.apply(this,O);return S.cache=V.set(A,L)||V,L};return S.cache=new(N.Cache||T),S}N.Cache=T,$.exports=N},2213:($,ae,D)=>{var T=D(3294),N=D(1300)(function(I,C,S){T(I,C,S)});$.exports=N},1007:($,ae,D)=>{var T=D(4530),k=D(8898),N=D(5657);$.exports=function I(C){return C&&C.length?T(C,N,k):void 0}},50:($,ae,D)=>{var T=D(4530),k=D(1627),N=D(8898);$.exports=function I(C,S){return C&&C.length?T(C,k(S,2),N):void 0}},4249:$=>{$.exports=function ae(){}},5533:($,ae,D)=>{var T=D(8492);$.exports=function(){return T.Date.now()}},7607:($,ae,D)=>{var T=D(2784),N=D(6801)(function(I,C){return null==I?{}:T(I,C)});$.exports=N},2692:($,ae,D)=>{var T=D(3400),k=D(6443),N=D(6300),I=D(8916);$.exports=function C(S){return N(S)?T(I(S)):k(S)}},5953:($,ae,D)=>{var k=D(4222)();$.exports=k},5909:($,ae,D)=>{var T=D(9850),k=D(5103),N=D(1627),I=D(8978),C=D(2261);$.exports=function S(O,A,V){var L=C(O)?T:I,B=arguments.length<3;return L(O,N(A,4),V,B,k)}},7939:($,ae,D)=>{var T=D(9478);$.exports=function k(N,I,C){return null==N?N:T(N,I,C)}},5741:($,ae,D)=>{var T=D(190),k=D(2472),N=D(2447),I=D(2164),C=D(7339);$.exports=function A(V){if(null==V)return 0;if(N(V))return I(V)?C(V):V.length;var L=k(V);return"[object Map]"==L||"[object Set]"==L?V.size:T(V).length}},7184:($,ae,D)=>{var T=D(1883),k=D(252),N=D(8951),I=D(3817),C=N(function(S,O){if(null==S)return[];var A=O.length;return A>1&&I(S,O[0],O[1])?O=[]:A>2&&I(O[0],O[1],O[2])&&(O=[O[0]]),k(S,T(O,1),[])});$.exports=C},1315:$=>{$.exports=function ae(){return[]}},5706:$=>{$.exports=function ae(){return!1}},9292:($,ae,D)=>{var T=D(4282),k=1/0;$.exports=function I(C){return C?(C=T(C))===k||C===-k?17976931348623157e292*(C<0?-1:1):C==C?C:0:0===C?C:0}},481:($,ae,D)=>{var T=D(9292);$.exports=function k(N){var I=T(N),C=I%1;return I==I?C?I-C:I:0}},4282:($,ae,D)=>{var T=D(9484),k=D(9794),N=D(3423),C=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,O=/^0o[0-7]+$/i,A=parseInt;$.exports=function V(L){if("number"==typeof L)return L;if(N(L))return NaN;if(k(L)){var B="function"==typeof L.valueOf?L.valueOf():L;L=k(B)?B+"":B}if("string"!=typeof L)return 0===L?L:+L;L=T(L);var H=S.test(L);return H||O.test(L)?A(L.slice(2),H?2:8):C.test(L)?NaN:+L}},9078:($,ae,D)=>{var T=D(3880),k=D(4231),N=D(2261),I=D(3423),C=D(163),S=D(8916),O=D(2674);$.exports=function A(V){return N(V)?T(V,S):I(V)?[V]:k(C(O(V)))}},4210:($,ae,D)=>{var T=D(5931),k=D(6402);$.exports=function N(I){return T(I,k(I))}},2674:($,ae,D)=>{var T=D(7002);$.exports=function k(N){return null==N?"":T(N)}},6893:($,ae,D)=>{var T=D(7772),k=D(1391),N=D(7794),I=D(1627),C=D(6186),S=D(2261),O=D(7525),A=D(6861),V=D(9794),L=D(4868);$.exports=function B(H,Y,ee){var ce=S(H),ne=ce||O(H)||L(H);if(Y=I(Y,4),null==ee){var le=H&&H.constructor;ee=ne?ce?new le:[]:V(H)&&A(le)?k(C(H)):{}}return(ne?T:N)(H,function(se,he,te){return Y(ee,se,he,te)}),ee}},2480:($,ae,D)=>{var T=D(1883),k=D(8951),N=D(9154),I=D(3471),C=k(function(S){return N(T(S,1,I,!0))});$.exports=C},4538:($,ae,D)=>{var T=D(2674),k=0;$.exports=function N(I){var C=++k;return T(I)+C}},8808:($,ae,D)=>{var T=D(6680),k=D(4614);$.exports=function N(I){return null==I?[]:T(I,k(I))}},4606:($,ae,D)=>{var T=D(9553),k=D(2255);$.exports=function N(I,C){return k(I||[],C||[],T)}}},$=>{$($.s=2665)}]);
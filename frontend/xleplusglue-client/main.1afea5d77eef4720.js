(self.webpackChunkgswb_client=self.webpackChunkgswb_client||[]).push([[179],{680:(Y,le,D)=>{"use strict";function _(e){return"function"==typeof e}function L(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const O=L(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function I(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class C{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const u of t)u.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(_(r))try{r()}catch(u){n=u instanceof O?u.errors:[u]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const u of o)try{N(u)}catch(f){n=n??[],f instanceof O?n=[...n,...f.errors]:n.push(f)}}if(n)throw new O(n)}}add(n){var t;if(n&&n!==this)if(this.closed)N(n);else{if(n instanceof C){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&I(t,n)}remove(n){const{_finalizers:t}=this;t&&I(t,n),n instanceof C&&n._removeParent(this)}}C.EMPTY=(()=>{const e=new C;return e.closed=!0,e})();const S=C.EMPTY;function R(e){return e instanceof C||e&&"closed"in e&&_(e.remove)&&_(e.add)&&_(e.unsubscribe)}function N(e){_(e)?e():e.unsubscribe()}const V={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},P={setTimeout(e,n,...t){const{delegate:r}=P;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=P;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function B(e){P.setTimeout(()=>{const{onUnhandledError:n}=V;if(!n)throw e;n(e)})}function U(){}const X=ie("C",void 0,void 0);function ie(e,n,t){return{kind:e,value:n,error:t}}let ce=null;function ue(e){if(V.useDeprecatedSynchronousErrorHandling){const n=!ce;if(n&&(ce={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=ce;if(ce=null,t)throw r}}else e()}class ne extends C{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,R(n)&&n.add(this)):this.destination=_e}static create(n,t,r){return new ae(n,t,r)}next(n){this.isStopped?Me(function fe(e){return ie("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Me(function te(e){return ie("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Me(X,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ve=Function.prototype.bind;function q(e,n){return ve.call(e,n)}class se{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){me(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){me(r)}else me(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){me(t)}}}class ae extends ne{constructor(n,t,r){let o;if(super(),_(n)||!n)o={next:n??void 0,error:t??void 0,complete:r??void 0};else{let u;this&&V.useDeprecatedNextContext?(u=Object.create(n),u.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&q(n.next,u),error:n.error&&q(n.error,u),complete:n.complete&&q(n.complete,u)}):o=n}this.destination=new se(o)}}function me(e){V.useDeprecatedSynchronousErrorHandling?function ge(e){V.useDeprecatedSynchronousErrorHandling&&ce&&(ce.errorThrown=!0,ce.error=e)}(e):B(e)}function Me(e,n){const{onStoppedNotification:t}=V;t&&P.setTimeout(()=>t(e,n))}const _e={closed:!0,next:U,error:function xe(e){throw e},complete:U},Ue="function"==typeof Symbol&&Symbol.observable||"@@observable";function Be(e){return e}function lt(e){return 0===e.length?Be:1===e.length?e[0]:function(t){return e.reduce((r,o)=>o(r),t)}}let Ke=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,o){const u=function Zt(e){return e&&e instanceof ne||function Xe(e){return e&&_(e.next)&&_(e.error)&&_(e.complete)}(e)&&R(e)}(t)?t:new ae(t,r,o);return ue(()=>{const{operator:f,source:y}=this;u.add(f?f.call(u,y):y?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Ct(r))((o,u)=>{const f=new ae({next:y=>{try{t(y)}catch(M){u(M),f.unsubscribe()}},error:u,complete:o});this.subscribe(f)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Ue](){return this}pipe(...t){return lt(t)(this)}toPromise(t){return new(t=Ct(t))((r,o)=>{let u;this.subscribe(f=>u=f,f=>o(f),()=>r(u))})}}return e.create=n=>new e(n),e})();function Ct(e){var n;return null!==(n=e??V.Promise)&&void 0!==n?n:Promise}const Vt=L(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ft=(()=>{class e extends Ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new gn(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Vt}next(t){ue(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){ue(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ue(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:o,observers:u}=this;return r||o?S:(this.currentObservers=null,u.push(t),new C(()=>{this.currentObservers=null,I(u,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:o,isStopped:u}=this;r?t.error(o):u&&t.complete()}asObservable(){const t=new Ke;return t.source=this,t}}return e.create=(n,t)=>new gn(n,t),e})();class gn extends Ft{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:S}}class ln extends Ft{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function it(e){return _(e?.lift)}function Je(e){return n=>{if(it(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ut(e,n,t,r,o){return new Pt(e,n,t,r,o)}class Pt extends ne{constructor(n,t,r,o,u,f){super(n),this.onFinalize=u,this.shouldUnsubscribe=f,this._next=t?function(y){try{t(y)}catch(M){n.error(M)}}:super._next,this._error=o?function(y){try{o(y)}catch(M){n.error(M)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(y){n.error(y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Mt(e,n){return Je((t,r)=>{let o=0;t.subscribe(ut(r,u=>{r.next(e.call(n,u,o++))}))})}function Ho(e){return this instanceof Ho?(this.v=e,this):new Ho(e)}function gs(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function Ra(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(u){t[u]=e[u]&&function(f){return new Promise(function(y,M){!function o(u,f,y,M){Promise.resolve(M).then(function(H){u({value:H,done:y})},f)}(y,M,(f=e[u](f)).done,f.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ka=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Ls(e){return _(e?.then)}function Dc(e){return _(e[Ue])}function Ka(e){return Symbol.asyncIterator&&_(e?.[Symbol.asyncIterator])}function wa(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Za=function Lf(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Sc(e){return _(e?.[Za])}function $l(e){return function Ys(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(e,n||[]),u=[];return o={},f("next"),f("throw"),f("return"),o[Symbol.asyncIterator]=function(){return this},o;function f(ye){r[ye]&&(o[ye]=function(Te){return new Promise(function(Ge,$e){u.push([ye,Te,Ge,$e])>1||y(ye,Te)})})}function y(ye,Te){try{!function M(ye){ye.value instanceof Ho?Promise.resolve(ye.value.v).then(H,$):re(u[0][2],ye)}(r[ye](Te))}catch(Ge){re(u[0][3],Ge)}}function H(ye){y("next",ye)}function $(ye){y("throw",ye)}function re(ye,Te){ye(Te),u.shift(),u.length&&y(u[0][0],u[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:o}=yield Ho(t.read());if(o)return yield Ho(void 0);yield yield Ho(r)}}finally{t.releaseLock()}})}function Tu(e){return _(e?.getReader)}function qo(e){if(e instanceof Ke)return e;if(null!=e){if(Dc(e))return function _c(e){return new Ke(n=>{const t=e[Ue]();if(_(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ka(e))return function Iu(e){return new Ke(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Ls(e))return function Au(e){return new Ke(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,B)})}(e);if(Ka(e))return Nu(e);if(Sc(e))return function vs(e){return new Ke(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Tu(e))return function Mc(e){return Nu($l(e))}(e)}throw wa(e)}function Nu(e){return new Ke(n=>{(function $r(e,n){var t,r,o,u;return function Ii(e,n,t,r){return new(t||(t=Promise))(function(u,f){function y($){try{H(r.next($))}catch(re){f(re)}}function M($){try{H(r.throw($))}catch(re){f(re)}}function H($){$.done?u($.value):function o(u){return u instanceof t?u:new t(function(f){f(u)})}($.value).then(y,M)}H((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=gs(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(f){o={error:f}}finally{try{r&&!r.done&&(u=t.return)&&(yield u.call(t))}finally{if(o)throw o.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Ca(e,n,t,r=0,o=!1){const u=n.schedule(function(){t(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(u),!o)return u}function Xi(e,n,t=1/0){return _(n)?Xi((r,o)=>Mt((u,f)=>n(r,u,o,f))(qo(e(r,o))),t):("number"==typeof n&&(t=n),Je((r,o)=>function br(e,n,t,r,o,u,f,y){const M=[];let H=0,$=0,re=!1;const ye=()=>{re&&!M.length&&!H&&n.complete()},Te=$e=>H<r?Ge($e):M.push($e),Ge=$e=>{u&&n.next($e),H++;let ft=!1;qo(t($e,$++)).subscribe(ut(n,Dt=>{o?.(Dt),u?Te(Dt):n.next(Dt)},()=>{ft=!0},void 0,()=>{if(ft)try{for(H--;M.length&&H<r;){const Dt=M.shift();f?Ca(n,f,()=>Ge(Dt)):Ge(Dt)}ye()}catch(Dt){n.error(Dt)}}))};return e.subscribe(ut(n,Te,()=>{re=!0,ye()})),()=>{y?.()}}(r,o,e,t)))}function Si(e=1/0){return Xi(Be,e)}const xa=new Ke(e=>e.complete());function qr(e){return e[e.length-1]}function Pa(e){return _(qr(e))?e.pop():void 0}function So(e){return function Cn(e){return e&&_(e.schedule)}(qr(e))?e.pop():void 0}function zi(e,n=0){return Je((t,r)=>{t.subscribe(ut(r,o=>Ca(r,e,()=>r.next(o),n),()=>Ca(r,e,()=>r.complete(),n),o=>Ca(r,e,()=>r.error(o),n)))})}function _o(e,n=0){return Je((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function ms(e,n){if(!e)throw new Error("Iterable cannot be null");return new Ke(t=>{Ca(t,n,()=>{const r=e[Symbol.asyncIterator]();Ca(t,n,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function Ve(e,n){return n?function Le(e,n){if(null!=e){if(Dc(e))return function Tc(e,n){return qo(e).pipe(_o(n),zi(n))}(e,n);if(ka(e))return function Vn(e,n){return new Ke(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(Ls(e))return function _t(e,n){return qo(e).pipe(_o(n),zi(n))}(e,n);if(Ka(e))return ms(e,n);if(Sc(e))return function Ic(e,n){return new Ke(t=>{let r;return Ca(t,n,()=>{r=e[Za](),Ca(t,n,()=>{let o,u;try{({value:o,done:u}=r.next())}catch(f){return void t.error(f)}u?t.complete():t.next(o)},0,!0)}),()=>_(r?.return)&&r.return()})}(e,n);if(Tu(e))return function Oe(e,n){return ms($l(e),n)}(e,n)}throw wa(e)}(e,n):qo(e)}function et(...e){const n=So(e),t=function Ir(e,n){return"number"==typeof qr(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?qo(r[0]):Si(t)(Ve(r,n)):xa}function qe(...e){return Ve(e,So(e))}function qt(e={}){const{connector:n=(()=>new Ft),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return u=>{let f,y,M,H=0,$=!1,re=!1;const ye=()=>{y?.unsubscribe(),y=void 0},Te=()=>{ye(),f=M=void 0,$=re=!1},Ge=()=>{const $e=f;Te(),$e?.unsubscribe()};return Je(($e,ft)=>{H++,!re&&!$&&ye();const Dt=M=M??n();ft.add(()=>{H--,0===H&&!re&&!$&&(y=pn(Ge,o))}),Dt.subscribe(ft),!f&&H>0&&(f=new ae({next:ot=>Dt.next(ot),error:ot=>{re=!0,ye(),y=pn(Te,t,ot),Dt.error(ot)},complete:()=>{$=!0,ye(),y=pn(Te,r),Dt.complete()}}),qo($e).subscribe(f))})(u)}}function pn(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new ae({next:()=>{r.unsubscribe(),e()}});return qo(n(...t)).subscribe(r)}function Ht(e,n){return Je((t,r)=>{let o=null,u=0,f=!1;const y=()=>f&&!o&&r.complete();t.subscribe(ut(r,M=>{o?.unsubscribe();let H=0;const $=u++;qo(e(M,$)).subscribe(o=ut(r,re=>r.next(n?n(M,re,$,H++):re),()=>{o=null,y()}))},()=>{f=!0,y()}))})}function en(e,n=Be){return e=e??Ln,Je((t,r)=>{let o,u=!0;t.subscribe(ut(r,f=>{const y=n(f);(u||!e(o,y))&&(u=!1,o=y,r.next(f))}))})}function Ln(e,n){return e===n}function Bt(e){for(let n in e)if(e[n]===Bt)return n;throw Error("Could not find renamed property on target object.")}function xr(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Wn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Wn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Qn(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Yr=Bt({__forward_ref__:Bt});function _n(e){return e.__forward_ref__=_n,e.toString=function(){return Wn(this())},e}function on(e){return Ar(e)?e():e}function Ar(e){return"function"==typeof e&&e.hasOwnProperty(Yr)&&e.__forward_ref__===_n}function oi(e){return e&&!!e.\u0275providers}const ur="https://g.co/ng/security#xss";class dt extends Error{constructor(n,t){super(function Nr(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function vn(e){return"string"==typeof e?e:null==e?"":String(e)}function Ri(e,n){throw new dt(-201,!1)}function Ki(e,n){null==e&&function $n(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function un(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function di(e){return{providers:e.providers||[],imports:e.imports||[]}}function Da(e){return Yl(e,Sa)||Yl(e,wl)}function Yl(e,n){return e.hasOwnProperty(n)?e[n]:null}function Uo(e){return e&&(e.hasOwnProperty(bs)||e.hasOwnProperty(ku))?e[bs]:null}const Sa=Bt({\u0275prov:Bt}),bs=Bt({\u0275inj:Bt}),wl=Bt({ngInjectableDef:Bt}),ku=Bt({ngInjectorDef:Bt});var An=(()=>((An=An||{})[An.Default=0]="Default",An[An.Host=1]="Host",An[An.Self=2]="Self",An[An.SkipSelf=4]="SkipSelf",An[An.Optional=8]="Optional",An))();let Ba;function uo(e){const n=Ba;return Ba=e,n}function qa(e,n,t){const r=Da(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&An.Optional?null:void 0!==n?n:void Ri(Wn(e))}const ai=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xl={},Kl="__NG_DI_FLAG__",Fu="ngTempTokenPath",co=/\n/gm,Pf="__source";let Fs;function _a(e){const n=Fs;return Fs=e,n}function jh(e,n=An.Default){if(void 0===Fs)throw new dt(-203,!1);return null===Fs?qa(e,void 0,n):Fs.get(e,n&An.Optional?null:void 0,n)}function Yt(e,n=An.Default){return(function Zs(){return Ba}()||jh)(on(e),n)}function tn(e,n=An.Default){return Yt(e,Fd(n))}function Fd(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Bd(e){const n=[];for(let t=0;t<e.length;t++){const r=on(e[t]);if(Array.isArray(r)){if(0===r.length)throw new dt(900,!1);let o,u=An.Default;for(let f=0;f<r.length;f++){const y=r[f],M=vg(y);"number"==typeof M?-1===M?o=y.token:u|=M:o=y}n.push(Yt(o,u))}else n.push(Yt(r))}return n}function Vu(e,n){return e[Kl]=n,e.prototype[Kl]=n,e}function vg(e){return e[Kl]}function Qa(e){return{toString:e}.toString()}var Ja=(()=>((Ja=Ja||{})[Ja.OnPush=0]="OnPush",Ja[Ja.Default=1]="Default",Ja))(),Ma=(()=>{return(e=Ma||(Ma={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Ma;var e})();const fo={},gr=[],Uu=Bt({\u0275cmp:Bt}),Vd=Bt({\u0275dir:Bt}),Hd=Bt({\u0275pipe:Bt}),Wh=Bt({\u0275mod:Bt}),ws=Bt({\u0275fac:Bt}),xl=Bt({__NG_ELEMENT_ID__:Bt}),El=Bt({__NG_ENV_ID__:Bt});function Cs(e,n,t){let r=e.length;for(;;){const o=e.indexOf(n,t);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const u=n.length;if(o+u===r||e.charCodeAt(o+u)<=32)return o}t=o+1}}function Ud(e,n,t){let r=0;for(;r<t.length;){const o=t[r];if("number"==typeof o){if(0!==o)break;r++;const u=t[r++],f=t[r++],y=t[r++];e.setAttribute(n,f,y,u)}else{const u=o,f=t[++r];ql(u)?e.setProperty(n,u,f):e.setAttribute(n,u,f),r++}}return r}function Zl(e){return 3===e||4===e||6===e}function ql(e){return 64===e.charCodeAt(0)}function Dl(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const o=n[r];"number"==typeof o?t=o:0===t||$h(e,t,o,null,-1===t||2===t?n[++r]:null)}}return e}function $h(e,n,t,r,o){let u=0,f=e.length;if(-1===n)f=-1;else for(;u<e.length;){const y=e[u++];if("number"==typeof y){if(y===n){f=-1;break}if(y>n){f=u-1;break}}}for(;u<e.length;){const y=e[u];if("number"==typeof y)break;if(y===t){if(null===r)return void(null!==o&&(e[u+1]=o));if(r===e[u+1])return void(e[u+2]=o)}u++,null!==r&&u++,null!==o&&u++}-1!==f&&(e.splice(f,0,n),u=f+1),e.splice(u++,0,t),null!==r&&e.splice(u++,0,r),null!==o&&e.splice(u++,0,o)}const Nc="ng-template";function Oc(e,n,t){let r=0,o=!0;for(;r<e.length;){let u=e[r++];if("string"==typeof u&&o){const f=e[r++];if(t&&"class"===u&&-1!==Cs(f.toLowerCase(),n,0))return!0}else{if(1===u){for(;r<e.length&&"string"==typeof(u=e[r++]);)if(u.toLowerCase()===n)return!0;return!1}"number"==typeof u&&(o=!1)}}return!1}function Sl(e){return 4===e.type&&e.value!==Nc}function Bf(e,n,t){return n===(4!==e.type||t?e.value:Nc)}function Vf(e,n,t){let r=4;const o=e.attrs||[],u=function es(e){for(let n=0;n<e.length;n++)if(Zl(e[n]))return n;return e.length}(o);let f=!1;for(let y=0;y<n.length;y++){const M=n[y];if("number"!=typeof M){if(!f)if(4&r){if(r=2|1&r,""!==M&&!Bf(e,M,t)||""===M&&1===n.length){if(Va(r))return!1;f=!0}}else{const H=8&r?M:n[++y];if(8&r&&null!==e.attrs){if(!Oc(e.attrs,H,t)){if(Va(r))return!1;f=!0}continue}const re=zd(8&r?"class":M,o,Sl(e),t);if(-1===re){if(Va(r))return!1;f=!0;continue}if(""!==H){let ye;ye=re>u?"":o[re+1].toLowerCase();const Te=8&r?ye:null;if(Te&&-1!==Cs(Te,H,0)||2&r&&H!==ye){if(Va(r))return!1;f=!0}}}}else{if(!f&&!Va(r)&&!Va(M))return!1;if(f&&Va(M))continue;f=!1,r=M|1&r}}return Va(r)||f}function Va(e){return 0==(1&e)}function zd(e,n,t,r){if(null===n)return-1;let o=0;if(r||!t){let u=!1;for(;o<n.length;){const f=n[o];if(f===e)return o;if(3===f||6===f)u=!0;else{if(1===f||2===f){let y=n[++o];for(;"string"==typeof y;)y=n[++o];continue}if(4===f)break;if(0===f){o+=4;continue}}o+=u?1:2}return-1}return function Yh(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function Hf(e,n,t=!1){for(let r=0;r<n.length;r++)if(Vf(e,n[r],t))return!0;return!1}function Uf(e,n){e:for(let t=0;t<n.length;t++){const r=n[t];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function Gd(e,n){return e?":not("+n.trim()+")":n}function Xh(e){let n=e[0],t=1,r=2,o="",u=!1;for(;t<e.length;){let f=e[t];if("string"==typeof f)if(2&r){const y=e[++t];o+="["+f+(y.length>0?'="'+y+'"':"")+"]"}else 8&r?o+="."+f:4&r&&(o+=" "+f);else""!==o&&!Va(f)&&(n+=Gd(u,o),o=""),r=f,u=u||!Va(r);t++}return""!==o&&(n+=Gd(u,o)),n}function ti(e){return Qa(()=>{const n=Js(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ja.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ma.Emulated,styles:e.styles||gr,_:null,schemas:e.schemas||null,tView:null,id:""};zu(t);const r=e.dependencies;return t.directiveDefs=$d(r,!1),t.pipeDefs=$d(r,!0),t.id=function Lc(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of t)n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function yg(e){return Or(e)||Li(e)}function Ql(e){return null!==e}function fi(e){return Qa(()=>({type:e.type,bootstrap:e.bootstrap||gr,declarations:e.declarations||gr,imports:e.imports||gr,exports:e.exports||gr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Wd(e,n){if(null==e)return fo;const t={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],u=o;Array.isArray(o)&&(u=o[1],o=o[0]),t[o]=r,n&&(n[o]=u)}return t}function xn(e){return Qa(()=>{const n=Js(e);return zu(n),n})}function Or(e){return e[Uu]||null}function Li(e){return e[Vd]||null}function Zi(e){return e[Hd]||null}function Qi(e,n){const t=e[Wh]||null;if(!t&&!0===n)throw new Error(`Type ${Wn(e)} does not have '\u0275mod' property.`);return t}function Js(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||fo,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||gr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Wd(e.inputs,n),outputs:Wd(e.outputs)}}function zu(e){e.features?.forEach(n=>n(e))}function $d(e,n){if(!e)return null;const t=n?Zi:yg;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(Ql)}const Ji=0,dn=1,Pn=2,Mi=3,Jo=4,Gu=5,ho=6,el=7,si=8,Bs=9,ea=10,Gn=11,ju=12,Gf=13,Jl=14,ki=15,ts=16,Ha=17,eo=18,kc=19,Pc=20,tl=21,tr=22,Fc=23,Ua=24,fn=25,hn=1,nl=2,xs=7,eu=9,Xr=11;function za(e){return Array.isArray(e)&&"object"==typeof e[hn]}function Ta(e){return Array.isArray(e)&&!0===e[hn]}function jf(e){return 0!=(4&e.flags)}function tu(e){return e.componentOffset>-1}function Yd(e){return 1==(1&e.flags)}function ns(e){return!!e.template}function ta(e){return 0!=(512&e[Pn])}function to(e,n){return e.hasOwnProperty(ws)?e[ws]:null}let na=ai.WeakRef??class Hr{constructor(n){this.ref=n}deref(){return this.ref}},rs=0,Ao=null,il=!1;function ji(e){const n=Ao;return Ao=e,n}class Wu{constructor(){this.id=rs++,this.ref=function ca(e){return new na(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,t]of this.producers){const r=t.producerNode.deref();if(void 0!==r&&t.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(n),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=il;il=!0;try{for(const[t,r]of this.consumers){const o=r.consumerNode.deref();void 0!==o&&o.trackingVersion===r.atTrackingVersion?o.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),o?.producers.delete(this.id))}}finally{il=n}}producerAccessed(){if(il)throw new Error("");if(null===Ao)return;let n=Ao.producers.get(this.id);void 0===n?(n={consumerNode:Ao.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ao.trackingVersion},Ao.producers.set(this.id,n),this.consumers.set(Ao.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=Ao.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ao?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let Xf=null;const Gc=()=>{};class ep extends Wu{constructor(n,t,r){super(),this.watch=n,this.schedule=t,this.dirty=!1,this.cleanupFn=Gc,this.registerOnCleanup=o=>{this.cleanupFn=o},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=ji(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Gc,this.watch(this.registerOnCleanup)}finally{ji(n)}}cleanup(){this.cleanupFn()}}class xg{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ia(){return Kf}function Kf(e){return e.type.prototype.ngOnChanges&&(e.setInput=Qd),Ku}function Ku(){const e=Zf(this),n=e?.current;if(n){const t=e.previous;if(t===fo)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function Qd(e,n,t,r){const o=this.declaredInputs[t],u=Zf(e)||function qf(e,n){return e[jc]=n}(e,{previous:fo,current:null}),f=u.current||(u.current={}),y=u.previous,M=y[o];f[o]=new xg(M&&M.currentValue,n,y===fo),e[r]=n}Ia.ngInherit=!0;const jc="__ngSimpleChanges__";function Zf(e){return e[jc]||null}const Aa=function(e,n,t){};function ni(e){for(;Array.isArray(e);)e=e[Ji];return e}function Xc(e,n){return ni(n[e])}function Pi(e,n){return ni(n[e.index])}function Jd(e,n){return e.data[n]}function Na(e,n){const t=n[e];return za(t)?t:t[Ji]}function Hs(e,n){return null==n?null:e[n]}function wr(e){e[Ha]=0}function Eg(e){1024&e[Pn]||(e[Pn]|=1024,qu(e,1))}function Al(e){1024&e[Pn]&&(e[Pn]&=-1025,qu(e,-1))}function qu(e,n){let t=e[Mi];if(null===t)return;t[Gu]+=n;let r=t;for(t=t[Mi];null!==t&&(1===n&&1===r[Gu]||-1===n&&0===r[Gu]);)t[Gu]+=n,r=t,t=t[Mi]}const Nn={lFrame:nc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function qc(){return Nn.bindingsEnabled}function Oo(){return null!==Nn.skipHydrationRootTNode}function Ot(){return Nn.lFrame.lView}function fr(){return Nn.lFrame.tView}function nr(e){return Nn.lFrame.contextLView=e,e[si]}function da(e){return Nn.lFrame.contextLView=null,e}function Ro(){let e=th();for(;null!==e&&64===e.type;)e=e.parent;return e}function th(){return Nn.lFrame.currentTNode}function os(e,n){const t=Nn.lFrame;t.currentTNode=e,t.isParent=n}function Jc(){return Nn.lFrame.isParent}function no(){Nn.lFrame.isParent=!1}function Fi(){const e=Nn.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Ds(){return Nn.lFrame.bindingIndex++}function Lo(e){const n=Nn.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Us(e,n){const t=Nn.lFrame;t.bindingIndex=t.bindingRootIndex=e,ed(n)}function ed(e){Nn.lFrame.currentDirectiveIndex=e}function td(){return Nn.lFrame.currentQueryIndex}function Ss(e){Nn.lFrame.currentQueryIndex=e}function tf(e){const n=e[dn];return 2===n.type?n.declTNode:1===n.type?e[ho]:null}function tc(e,n,t){if(t&An.SkipSelf){let o=n,u=e;for(;!(o=o.parent,null!==o||t&An.Host||(o=tf(u),null===o||(u=u[Jl],10&o.type))););if(null===o)return!1;n=o,e=u}const r=Nn.lFrame=ap();return r.currentTNode=n,r.lView=e,!0}function Ll(e){const n=ap(),t=e[dn];Nn.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function ap(){const e=Nn.lFrame,n=null===e?null:e.child;return null===n?nc(e):n}function nc(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function nd(){const e=Nn.lFrame;return Nn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const rd=nd;function vo(){const e=nd();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function mo(){return Nn.lFrame.selectedIndex}function Wa(e){Nn.lFrame.selectedIndex=e}function Lr(){const e=Nn.lFrame;return Jd(e.tView,e.selectedIndex)}let ko=!0;function ad(){return ko}function Pl(e){ko=e}function as(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const u=e.data[t].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:y,ngAfterViewInit:M,ngAfterViewChecked:H,ngOnDestroy:$}=u;f&&(e.contentHooks??=[]).push(-t,f),y&&((e.contentHooks??=[]).push(t,y),(e.contentCheckHooks??=[]).push(t,y)),M&&(e.viewHooks??=[]).push(-t,M),H&&((e.viewHooks??=[]).push(t,H),(e.viewCheckHooks??=[]).push(t,H)),null!=$&&(e.destroyHooks??=[]).push(t,$)}}function ss(e,n,t){sp(e,n,3,t)}function au(e,n,t,r){(3&e[Pn])===t&&sp(e,n,t,r)}function nf(e,n){let t=e[Pn];(3&t)===n&&(t&=8191,t+=1,e[Pn]=t)}function sp(e,n,t,r){const u=r??-1,f=n.length-1;let y=0;for(let M=void 0!==r?65535&e[Ha]:0;M<f;M++)if("number"==typeof n[M+1]){if(y=n[M],null!=r&&y>=r)break}else n[M]<0&&(e[Ha]+=65536),(y<u||-1==u)&&(lp(e,t,n,M),e[Ha]=(4294901760&e[Ha])+M+2),M++}function su(e,n){Aa(4,e,n);const t=ji(null);try{n.call(e)}finally{ji(t),Aa(5,e,n)}}function lp(e,n,t,r){const o=t[r]<0,u=t[r+1],y=e[o?-t[r]:t[r]];o?e[Pn]>>13<e[Ha]>>16&&(3&e[Pn])===n&&(e[Pn]+=8192,su(y,u)):su(y,u)}const lu=-1;class rc{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function rh(e){return e!==lu}function uu(e){return 32767&e}function ud(e,n){let t=function Mg(e){return e>>16}(e),r=n;for(;t>0;)r=r[Jl],t--;return r}let ih=!0;function Kr(e){const n=ih;return ih=e,n}const cd=255,ic=5;let _s=0;const ra={};function dd(e,n){const t=ah(e,n);if(-1!==t)return t;const r=n[dn];r.firstCreatePass&&(e.injectorIndex=n.length,sf(r.data,e),sf(n,null),sf(r.blueprint,null));const o=fd(e,n),u=e.injectorIndex;if(rh(o)){const f=uu(o),y=ud(o,n),M=y[dn].data;for(let H=0;H<8;H++)n[u+H]=y[f+H]|M[f+H]}return n[u+8]=o,u}function sf(e,n){e.push(0,0,0,0,0,0,0,0,n)}function ah(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function fd(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,o=n;for(;null!==o;){if(r=c(o),null===r)return lu;if(t++,o=o[Jl],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return lu}function lf(e,n,t){!function oh(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(xl)&&(r=t[xl]),null==r&&(r=t[xl]=_s++);const o=r&cd;n.data[e+(o>>ic)]|=1<<o}(e,n,t)}function uf(e,n,t){if(t&An.Optional||void 0!==e)return e;Ri()}function cf(e,n,t,r){if(t&An.Optional&&void 0===r&&(r=null),!(t&(An.Self|An.Host))){const o=e[Bs],u=uo(void 0);try{return o?o.get(n,r,t&An.Optional):qa(n,r,t&An.Optional)}finally{uo(u)}}return uf(r,0,t)}function zr(e,n,t,r=An.Default,o){if(null!==e){if(2048&n[Pn]&&!(r&An.Self)){const f=function a(e,n,t,r,o){let u=e,f=n;for(;null!==u&&null!==f&&2048&f[Pn]&&!(512&f[Pn]);){const y=hd(u,f,t,r|An.Self,ra);if(y!==ra)return y;let M=u.parent;if(!M){const H=f[Pc];if(H){const $=H.get(t,ra,r);if($!==ra)return $}M=c(f),f=f[Jl]}u=M}return o}(e,n,t,r,ra);if(f!==ra)return f}const u=hd(e,n,t,r,ra);if(u!==ra)return u}return cf(n,t,r,o)}function hd(e,n,t,r,o){const u=function pd(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(xl)?e[xl]:void 0;return"number"==typeof n?n>=0?n&cd:hp:n}(t);if("function"==typeof u){if(!tc(n,e,r))return r&An.Host?uf(o,0,r):cf(n,t,r,o);try{const f=u(r);if(null!=f||r&An.Optional)return f;Ri()}finally{rd()}}else if("number"==typeof u){let f=null,y=ah(e,n),M=lu,H=r&An.Host?n[ki][ho]:null;for((-1===y||r&An.SkipSelf)&&(M=-1===y?fd(e,n):n[y+8],M!==lu&&wi(r,!1)?(f=n[dn],y=uu(M),n=ud(M,n)):y=-1);-1!==y;){const $=n[dn];if(fp(u,y,$.data)){const re=Tg(y,n,t,f,r,H);if(re!==ra)return re}M=n[y+8],M!==lu&&wi(r,n[dn].data[y+8]===H)&&fp(u,y,n)?(f=$,y=uu(M),n=ud(M,n)):y=-1}}return o}function Tg(e,n,t,r,o,u){const f=n[dn],y=f.data[e+8],$=zs(y,f,t,null==r?tu(y)&&ih:r!=f&&0!=(3&y.type),o&An.Host&&u===y);return null!==$?cu(n,f,$,y):ra}function zs(e,n,t,r,o){const u=e.providerIndexes,f=n.data,y=1048575&u,M=e.directiveStart,$=u>>20,ye=o?y+$:e.directiveEnd;for(let Te=r?y:y+$;Te<ye;Te++){const Ge=f[Te];if(Te<M&&t===Ge||Te>=M&&Ge.type===t)return Te}if(o){const Te=f[M];if(Te&&ns(Te)&&Te.type===t)return M}return null}function cu(e,n,t,r){let o=e[t];const u=n.data;if(function up(e){return e instanceof rc}(o)){const f=o;f.resolving&&function Jr(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new dt(-200,`Circular dependency in DI detected for ${e}${t}`)}(function kn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():vn(e)}(u[t]));const y=Kr(f.canSeeViewProviders);f.resolving=!0;const M=f.injectImpl?uo(f.injectImpl):null;tc(e,r,An.Default);try{o=e[t]=f.factory(void 0,u,e,r),n.firstCreatePass&&t>=r.directiveStart&&function al(e,n,t){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:u}=n.type.prototype;if(r){const f=Kf(n);(t.preOrderHooks??=[]).push(e,f),(t.preOrderCheckHooks??=[]).push(e,f)}o&&(t.preOrderHooks??=[]).push(0-e,o),u&&((t.preOrderHooks??=[]).push(e,u),(t.preOrderCheckHooks??=[]).push(e,u))}(t,u[t],n)}finally{null!==M&&uo(M),Kr(y),f.resolving=!1,rd()}}return o}function fp(e,n,t){return!!(t[n+(e>>ic)]&1<<e)}function wi(e,n){return!(e&An.Self||e&An.Host&&n)}class du{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return zr(this._tNode,this._lView,n,Fd(r),t)}}function hp(){return new du(Ro(),Ot())}function Ti(e){return Qa(()=>{const n=e.prototype.constructor,t=n[ws]||ls(n),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const u=o[ws]||ls(o);if(u&&u!==t)return u;o=Object.getPrototypeOf(o)}return u=>new u})}function ls(e){return Ar(e)?()=>{const n=ls(on(e));return n&&n()}:to(e)}function c(e){const n=e[dn],t=n.type;return 2===t?n.declTNode:1===t?e[ho]:null}function m(e){return function dp(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let o=0;for(;o<r;){const u=t[o];if(Zl(u))break;if(0===u)o+=2;else if("number"==typeof u)for(o++;o<r&&"string"==typeof t[o];)o++;else{if(u===n)return t[o+1];o+=2}}}return null}(Ro(),e)}const b="__parameters__";function ee(e,n,t){return Qa(()=>{const r=function K(e){return function(...t){if(e){const r=e(...t);for(const o in r)this[o]=r[o]}}}(n);function o(...u){if(this instanceof o)return r.apply(this,u),this;const f=new o(...u);return y.annotation=f,y;function y(M,H,$){const re=M.hasOwnProperty(b)?M[b]:Object.defineProperty(M,b,{value:[]})[b];for(;re.length<=$;)re.push(null);return(re[$]=re[$]||[]).push(f),M}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Ci(e,n){e.forEach(t=>Array.isArray(t)?Ci(t,n):n(t))}function pi(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Po(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Bi(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}function kr(e,n,t){let r=ro(e,n);return r>=0?e[1|r]=t:(r=~r,function Fo(e,n,t,r){let o=e.length;if(o==n)e.push(t,r);else if(1===o)e.push(r,e[0]),e[0]=t;else{for(o--,e.push(e[o-1],e[o]);o>n;)e[o]=e[o-2],o--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function gi(e,n){const t=ro(e,n);if(t>=0)return e[1|t]}function ro(e,n){return function sl(e,n,t){let r=0,o=e.length>>t;for(;o!==r;){const u=r+(o-r>>1),f=e[u<<t];if(n===f)return u<<t;f>n?o=u:r=u+1}return~(o<<t)}(e,n,1)}const $a=Vu(ee("Optional"),8),lh=Vu(ee("SkipSelf"),4);function hf(e){return 128==(128&e.flags)}var $o=(()=>(($o=$o||{})[$o.Important=1]="Important",$o[$o.DashCase=2]="DashCase",$o))();const ph=/^>|^->|<!--|-->|--!>|<!-$/g,nb=/(<|>)/,wm="\u200b$1\u200b";const mp=new Map;let rb=0;const bp="__ngContext__";function Oa(e,n){za(n)?(e[bp]=n[kc],function Cm(e){mp.set(e[kc],e)}(n)):e[bp]=n}let p;function g(e,n){return p(e,n)}function E(e){const n=e[Mi];return Ta(n)?n[Mi]:n}function k(e){return W(e[ju])}function z(e){return W(e[Jo])}function W(e){for(;null!==e&&!Ta(e);)e=e[Jo];return e}function j(e,n,t,r,o){if(null!=r){let u,f=!1;Ta(r)?u=r:za(r)&&(f=!0,r=r[Ji]);const y=ni(r);0===e&&null!==t?null==o?tt(n,t,y):je(n,t,y,o||null,!0):1===e&&null!==t?je(n,t,y,o||null,!0):2===e?function Jn(e,n,t){const r=gt(e,n);r&&function vt(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,y,f):3===e&&n.destroyNode(y),null!=u&&function Mn(e,n,t,r,o){const u=t[xs];u!==ni(t)&&j(n,e,r,u,o);for(let y=Xr;y<t.length;y++){const M=t[y];In(M[dn],M,e,n,r,u)}}(n,e,u,t,o)}}function oe(e,n){return e.createComment(function Lg(e){return e.replace(ph,n=>n.replace(nb,wm))}(n))}function he(e,n,t){return e.createElement(n,t)}function Ce(e,n){const t=e[eu],r=t.indexOf(n);Al(n),t.splice(r,1)}function ke(e,n){if(e.length<=Xr)return;const t=Xr+n,r=e[t];if(r){const o=r[ts];null!==o&&o!==e&&Ce(o,r),n>0&&(e[t-1][Jo]=r[Jo]);const u=Po(e,Xr+n);!function pe(e,n){In(e,n,n[Gn],2,null,null),n[Ji]=null,n[ho]=null}(r[dn],r);const f=u[eo];null!==f&&f.detachView(u[dn]),r[Mi]=null,r[Jo]=null,r[Pn]&=-129}return r}function Pe(e,n){if(!(256&n[Pn])){const t=n[Gn];n[Fc]?.destroy(),n[Ua]?.destroy(),t.destroyNode&&In(e,n,t,3,null,null),function Ne(e){let n=e[ju];if(!n)return De(e[dn],e);for(;n;){let t=null;if(za(n))t=n[ju];else{const r=n[Xr];r&&(t=r)}if(!t){for(;n&&!n[Jo]&&n!==e;)za(n)&&De(n[dn],n),n=n[Mi];null===n&&(n=e),za(n)&&De(n[dn],n),t=n&&n[Jo]}n=t}}(n)}}function De(e,n){if(!(256&n[Pn])){n[Pn]&=-129,n[Pn]|=256,function Re(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const o=n[t[r]];if(!(o instanceof rc)){const u=t[r+1];if(Array.isArray(u))for(let f=0;f<u.length;f+=2){const y=o[u[f]],M=u[f+1];Aa(4,y,M);try{M.call(y)}finally{Aa(5,y,M)}}else{Aa(4,o,u);try{u.call(o)}finally{Aa(5,o,u)}}}}}(e,n),function He(e,n){const t=e.cleanup,r=n[el];if(null!==t)for(let u=0;u<t.length-1;u+=2)if("string"==typeof t[u]){const f=t[u+3];f>=0?r[f]():r[-f].unsubscribe(),u+=2}else t[u].call(r[t[u+1]]);null!==r&&(n[el]=null);const o=n[tl];if(null!==o){n[tl]=null;for(let u=0;u<o.length;u++)(0,o[u])()}}(e,n),1===n[dn].type&&n[Gn].destroy();const t=n[ts];if(null!==t&&Ta(n[Mi])){t!==n[Mi]&&Ce(t,n);const r=n[eo];null!==r&&r.detachView(e)}!function ib(e){mp.delete(e[kc])}(n)}}function Ze(e,n,t){return function ze(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[Ji];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:u}=e.data[r.directiveStart+o];if(u===Ma.None||u===Ma.Emulated)return null}return Pi(r,t)}}(e,n.parent,t)}function je(e,n,t,r,o){e.insertBefore(n,t,r,o)}function tt(e,n,t){e.appendChild(n,t)}function at(e,n,t,r,o){null!==r?je(e,n,t,r,o):tt(e,n,t)}function gt(e,n){return e.parentNode(n)}function At(e,n,t){return wt(e,n,t)}let Qe,Ee,Dn,sr,wt=function St(e,n,t){return 40&e.type?Pi(e,t):null};function Nt(e,n,t,r){const o=Ze(e,r,n),u=n[Gn],y=At(r.parent||n[ho],r,n);if(null!=o)if(Array.isArray(t))for(let M=0;M<t.length;M++)at(u,o,t[M],y,!1);else at(u,o,t,y,!1);void 0!==Qe&&Qe(u,r,n,t,o)}function $t(e,n){if(null!==n){const t=n.type;if(3&t)return Pi(n,e);if(4&t)return Hn(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return $t(e,r);{const o=e[n.index];return Ta(o)?Hn(-1,o):ni(o)}}if(32&t)return g(n,e)()||ni(e[n.index]);{const r=nn(e,n);return null!==r?Array.isArray(r)?r[0]:$t(E(e[ki]),r):$t(e,n.next)}}return null}function nn(e,n){return null!==n?e[ki][ho].projection[n.projection]:null}function Hn(e,n){const t=Xr+e+1;if(t<n.length){const r=n[t],o=r[dn].firstChild;if(null!==o)return $t(r,o)}return n[xs]}function Jt(e,n,t,r,o,u,f){for(;null!=t;){const y=r[t.index],M=t.type;if(f&&0===n&&(y&&Oa(ni(y),r),t.flags|=2),32!=(32&t.flags))if(8&M)Jt(e,n,t.child,r,o,u,!1),j(n,e,o,y,u);else if(32&M){const H=g(t,r);let $;for(;$=H();)j(n,e,o,$,u);j(n,e,o,y,u)}else 16&M?sn(e,n,r,t,o,u):j(n,e,o,y,u);t=f?t.projectionNext:t.next}}function In(e,n,t,r,o,u){Jt(t,r,e.firstChild,n,o,u,!1)}function sn(e,n,t,r,o,u){const f=t[ki],M=f[ho].projection[r.projection];if(Array.isArray(M))for(let H=0;H<M.length;H++)j(n,e,o,M[H],u);else{let H=M;const $=f[Mi];hf(r)&&(H.flags|=128),Jt(e,n,H,$,o,u,!0)}}function Fn(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Ut(e,n,t){const{mergedAttrs:r,classes:o,styles:u}=t;null!==r&&Ud(e,n,r),null!==o&&Fn(e,n,o),null!==u&&function ar(e,n,t){e.setAttribute(n,"style",t)}(e,n,u)}function Rt(e){return function st(){if(void 0===Ee&&(Ee=null,ai.trustedTypes))try{Ee=ai.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ee}()?.createHTML(e)||e}function Wi(e){return function jr(){if(void 0===sr&&(sr=null,ai.trustedTypes))try{sr=ai.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return sr}()?.createScriptURL(e)||e}class $i{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ur})`}}class cl extends $i{getTypeName(){return"HTML"}}class dl extends $i{getTypeName(){return"Style"}}class ha extends $i{getTypeName(){return"Script"}}class js extends $i{getTypeName(){return"URL"}}class Xa extends $i{getTypeName(){return"ResourceURL"}}function Co(e){return e instanceof $i?e.changingThisBreaksApplicationSecurity:e}function pa(e,n){const t=function pf(e){return e instanceof $i&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${ur})`)}return t===n}class ds{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(Rt(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch{return null}}}class xp{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const t=this.inertDocument.createElement("template");return t.innerHTML=Rt(n),t}}const Dm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ep(e){return(e=String(e)).match(Dm)?e:"unsafe:"+e}function gu(e){const n={};for(const t of e.split(","))n[t]=!0;return n}function vh(...e){const n={};for(const t of e)for(const r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}const Sm=gu("area,br,col,hr,img,wbr"),_m=gu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mm=gu("rp,rt"),vf=vh(Sm,vh(_m,gu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vh(Mm,gu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vh(Mm,_m)),Sp=gu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ws=vh(Sp,gu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fg=gu("script,style,template");class Im{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=this.checkClobberedElement(t,t.nextSibling);if(o){t=o;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(n){const t=n.nodeName.toLowerCase();if(!vf.hasOwnProperty(t))return this.sanitizedSomething=!0,!Fg.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=n.attributes;for(let o=0;o<r.length;o++){const u=r.item(o),f=u.name,y=f.toLowerCase();if(!Ws.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let M=u.value;Sp[y]&&(M=Ep(M)),this.buf.push(" ",f,'="',Am(M),'"')}return this.buf.push(">"),!0}endElement(n){const t=n.nodeName.toLowerCase();vf.hasOwnProperty(t)&&!Sm.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(Am(n))}checkClobberedElement(n,t){if(t&&(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return t}}const mh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fl=/([^\#-~ |!])/g;function Am(e){return e.replace(/&/g,"&amp;").replace(mh,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(fl,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nm;function nE(e,n){let t=null;try{Nm=Nm||function ga(e){const n=new xp(e);return function Bl(){try{return!!(new window.DOMParser).parseFromString(Rt(""),"text/html")}catch{return!1}}()?new ds(n):n}(e);let r=n?String(n):"";t=Nm.getInertBodyElement(r);let o=5,u=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=u,u=t.innerHTML,t=Nm.getInertBodyElement(r)}while(r!==u);return Rt((new Im).sanitizeChildren(sb(t)||t))}finally{if(t){const r=sb(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function sb(e){return"content"in e&&function KN(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ri=(()=>((ri=ri||{})[ri.NONE=0]="NONE",ri[ri.HTML=1]="HTML",ri[ri.STYLE=2]="STYLE",ri[ri.SCRIPT=3]="SCRIPT",ri[ri.URL=4]="URL",ri[ri.RESOURCE_URL=5]="RESOURCE_URL",ri))();function rE(e){const n=Bg();return n?n.sanitize(ri.URL,e)||"":pa(e,"URL")?Co(e):Ep(vn(e))}function iE(e){const n=Bg();if(n)return Wi(n.sanitize(ri.RESOURCE_URL,e)||"");if(pa(e,"ResourceURL"))return Wi(Co(e));throw new dt(904,!1)}function Bg(){const e=Ot();return e&&e[ea].sanitizer}class rn{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=un({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Vg=new rn("ENVIRONMENT_INITIALIZER"),aE=new rn("INJECTOR",-1),sE=new rn("INJECTOR_DEF_TYPES");class lE{get(n,t=Xl){if(t===Xl){const r=new Error(`NullInjectorError: No provider for ${Wn(n)}!`);throw r.name="NullInjectorError",r}return t}}function nO(...e){return{\u0275providers:uE(0,e),\u0275fromNgModule:!0}}function uE(e,...n){const t=[],r=new Set;let o;return Ci(n,u=>{const f=u;ub(f,t,[],r)&&(o||=[],o.push(f))}),void 0!==o&&cE(o,t),t}function cE(e,n){for(let t=0;t<e.length;t++){const{providers:o}=e[t];cb(o,u=>{n.push(u)})}}function ub(e,n,t,r){if(!(e=on(e)))return!1;let o=null,u=Uo(e);const f=!u&&Or(e);if(u||f){if(f&&!f.standalone)return!1;o=e}else{const M=e.ngModule;if(u=Uo(M),!u)return!1;o=M}const y=r.has(o);if(f){if(y)return!1;if(r.add(o),f.dependencies){const M="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const H of M)ub(H,n,t,r)}}else{if(!u)return!1;{if(null!=u.imports&&!y){let H;r.add(o);try{Ci(u.imports,$=>{ub($,n,t,r)&&(H||=[],H.push($))})}finally{}void 0!==H&&cE(H,n)}if(!y){const H=to(o)||(()=>new o);n.push({provide:o,useFactory:H,deps:gr},{provide:sE,useValue:o,multi:!0},{provide:Vg,useValue:()=>Yt(o),multi:!0})}const M=u.providers;null==M||y||cb(M,$=>{n.push($)})}}return o!==e&&void 0!==e.providers}function cb(e,n){for(let t of e)oi(t)&&(t=t.\u0275providers),Array.isArray(t)?cb(t,n):n(t)}const rO=Bt({provide:String,useValue:Bt});function db(e){return null!==e&&"object"==typeof e&&rO in e}function yh(e){return"function"==typeof e}const fb=new rn("Set Injector scope."),Om={},oO={};let hb;function Rm(){return void 0===hb&&(hb=new lE),hb}class sc{}class pb extends sc{get destroyed(){return this._destroyed}constructor(n,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vb(n,f=>this.processProvider(f)),this.records.set(aE,_p(void 0,this)),o.has("environment")&&this.records.set(sc,_p(void 0,this));const u=this.records.get(fb);null!=u&&"string"==typeof u.value&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(sE.multi,gr,An.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=_a(this),r=uo(void 0);try{return n()}finally{_a(t),uo(r)}}get(n,t=Xl,r=An.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(El))return n[El](this);r=Fd(r);const o=_a(this),u=uo(void 0);try{if(!(r&An.SkipSelf)){let y=this.records.get(n);if(void 0===y){const M=function cO(e){return"function"==typeof e||"object"==typeof e&&e instanceof rn}(n)&&Da(n);y=M&&this.injectableDefInScope(M)?_p(gb(n),Om):null,this.records.set(n,y)}if(null!=y)return this.hydrate(n,y)}return(r&An.Self?Rm():this.parent).get(n,t=r&An.Optional&&t===Xl?null:t)}catch(f){if("NullInjectorError"===f.name){if((f[Fu]=f[Fu]||[]).unshift(Wn(n)),o)throw f;return function Hu(e,n,t,r){const o=e[Fu];throw n[Pf]&&o.unshift(n[Pf]),e.message=function qs(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Wn(n);if(Array.isArray(n))o=n.map(Wn).join(" -> ");else if("object"==typeof n){let u=[];for(let f in n)if(n.hasOwnProperty(f)){let y=n[f];u.push(f+":"+("string"==typeof y?JSON.stringify(y):Wn(y)))}o=`{${u.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${e.replace(co,"\n  ")}`}("\n"+e.message,o,t,r),e.ngTokenPath=o,e[Fu]=null,e}(f,n,"R3InjectorError",this.source)}throw f}finally{uo(u),_a(o)}}resolveInjectorInitializers(){const n=_a(this),t=uo(void 0);try{const r=this.get(Vg.multi,gr,An.Self);for(const o of r)o()}finally{_a(n),uo(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(Wn(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new dt(205,!1)}processProvider(n){let t=yh(n=on(n))?n:on(n&&n.provide);const r=function sO(e){return db(e)?_p(void 0,e.useValue):_p(hE(e),Om)}(n);if(yh(n)||!0!==n.multi)this.records.get(t);else{let o=this.records.get(t);o||(o=_p(void 0,Om,!0),o.factory=()=>Bd(o.multi),this.records.set(t,o)),t=n,o.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===Om&&(t.value=oO,t.value=t.factory()),"object"==typeof t.value&&t.value&&function uO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=on(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function gb(e){const n=Da(e),t=null!==n?n.factory:to(e);if(null!==t)return t;if(e instanceof rn)throw new dt(204,!1);if(e instanceof Function)return function aO(e){const n=e.length;if(n>0)throw Bi(n,"?"),new dt(204,!1);const t=function Ks(e){return e&&(e[Sa]||e[wl])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new dt(204,!1)}function hE(e,n,t){let r;if(yh(e)){const o=on(e);return to(o)||gb(o)}if(db(e))r=()=>on(e.useValue);else if(function fE(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Bd(e.deps||[]));else if(function dE(e){return!(!e||!e.useExisting)}(e))r=()=>Yt(on(e.useExisting));else{const o=on(e&&(e.useClass||e.provide));if(!function lO(e){return!!e.deps}(e))return to(o)||gb(o);r=()=>new o(...Bd(e.deps))}return r}function _p(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function vb(e,n){for(const t of e)Array.isArray(t)?vb(t,n):t&&oi(t)?vb(t.\u0275providers,n):n(t)}const Lm=new rn("AppId",{providedIn:"root",factory:()=>dO}),dO="ng",pE=new rn("Platform Initializer"),mf=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),mb=new rn("AnimationModuleType"),yb=new rn("CSP nonce",{providedIn:"root",factory:()=>function Gr(){if(void 0!==Dn)return Dn;if(typeof document<"u")return document;throw new dt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let vE=(e,n)=>null;function mE(e,n){return vE(e,n)}class wO{}class wE{}class xO{resolveComponentFactory(n){throw function CO(e){const n=Error(`No component factory found for ${Wn(e)}.`);return n.ngComponent=e,n}(n)}}let Vm=(()=>{class e{}return e.NULL=new xO,e})();function EO(){return Mp(Ro(),Ot())}function Mp(e,n){return new xo(Pi(e,n))}let xo=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=EO,e})();function DO(e){return e instanceof xo?e.nativeElement:e}class xE{}let Cd=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function SO(){const e=Ot(),t=Na(Ro().index,e);return(za(t)?t:e)[Gn]}(),e})(),_O=(()=>{class e{}return e.\u0275prov=un({token:e,providedIn:"root",factory:()=>null}),e})();class bh{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const MO=new bh("16.1.3"),Ib={};function Gg(e){for(;e;){e[Pn]|=64;const n=E(e);if(ta(e)&&!n)return e;e=n}return null}function Ab(e){return e.ngOriginalError}class lc{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Ab(n);for(;t&&Ab(t);)t=Ab(t);return t||null}}const SE=new rn("",{providedIn:"root",factory:()=>!1});function xd(e){return e instanceof Function?e():e}class AE extends Wu{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){Gg(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,t,r){const o=ji(this);this.trackingVersion++;try{n(t,r)}finally{ji(o)}}destroy(){this.trackingVersion++}}let Um=null;function NE(){return Um??=new AE,Um}function OE(e,n){return e[n]??NE()}function RE(e,n){const t=NE();t.hasReadASignal&&(e[n]=Um,t.lView=e,Um=new AE)}const dr={};function Rn(e){LE(fr(),Ot(),mo()+e,!1)}function LE(e,n,t,r){if(!r)if(3==(3&n[Pn])){const u=e.preOrderCheckHooks;null!==u&&ss(n,u,t)}else{const u=e.preOrderHooks;null!==u&&au(n,u,0,t)}Wa(t)}function BE(e,n=null,t=null,r){const o=VE(e,n,t,r);return o.resolveInjectorInitializers(),o}function VE(e,n=null,t=null,r,o=new Set){const u=[t||gr,nO(e)];return r=r||("object"==typeof e?void 0:Wn(e)),new pb(u,n||Rm(),r||null,o)}let vu=(()=>{class e{static create(t,r){if(Array.isArray(t))return BE({name:""},r,t,"");{const o=t.name??"";return BE({name:o},t.parent,t.providers,o)}}}return e.THROW_IF_NOT_FOUND=Xl,e.NULL=new lE,e.\u0275prov=un({token:e,providedIn:"any",factory:()=>Yt(aE)}),e.__NG_ELEMENT_ID__=-1,e})();function ht(e,n=An.Default){const t=Ot();return null===t?Yt(e,n):zr(Ro(),t,on(e),n)}function Nb(){throw new Error("invalid")}function zm(e,n,t,r,o,u,f,y,M,H,$){const re=n.blueprint.slice();return re[Ji]=o,re[Pn]=140|r,(null!==H||e&&2048&e[Pn])&&(re[Pn]|=2048),wr(re),re[Mi]=re[Jl]=e,re[si]=t,re[ea]=f||e&&e[ea],re[Gn]=y||e&&e[Gn],re[Bs]=M||e&&e[Bs]||null,re[ho]=u,re[kc]=function Wr(){return rb++}(),re[tr]=$,re[Pc]=H,re[ki]=2==n.type?e[ki]:re,re}function Ip(e,n,t,r,o){let u=e.data[n];if(null===u)u=function Ob(e,n,t,r,o){const u=th(),f=Jc(),M=e.data[n]=function XO(e,n,t,r,o,u){let f=n?n.injectorIndex:-1,y=0;return Oo()&&(y|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:o,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?u:u&&u.parent,t,n,r,o);return null===e.firstChild&&(e.firstChild=M),null!==u&&(f?null==u.child&&null!==M.parent&&(u.child=M):null===u.next&&(u.next=M,M.prev=u)),M}(e,n,t,r,o),function ec(){return Nn.lFrame.inI18n}()&&(u.flags|=32);else if(64&u.type){u.type=t,u.value=r,u.attrs=o;const f=function Ju(){const e=Nn.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();u.injectorIndex=null===f?-1:f.injectorIndex}return os(u,!0),u}function jg(e,n,t,r){if(0===t)return-1;const o=n.length;for(let u=0;u<t;u++)n.push(r),e.blueprint.push(r),e.data.push(null);return o}function HE(e,n,t,r,o){const u=OE(n,Fc),f=mo(),y=2&r;try{if(Wa(-1),y&&n.length>fn&&LE(e,n,fn,!1),Aa(y?2:0,o),y)u.runInContext(t,r,o);else{const H=ji(null);try{t(r,o)}finally{ji(H)}}}finally{y&&null===n[Fc]&&RE(n,Fc),Wa(f),Aa(y?3:1,o)}}function Rb(e,n,t){if(jf(n)){const r=ji(null);try{const u=n.directiveEnd;for(let f=n.directiveStart;f<u;f++){const y=e.data[f];y.contentQueries&&y.contentQueries(1,t[f],f)}}finally{ji(r)}}}function Lb(e,n,t){qc()&&(function tR(e,n,t,r){const o=t.directiveStart,u=t.directiveEnd;tu(t)&&function lR(e,n,t){const r=Pi(n,e),o=UE(t);let f=16;t.signals?f=4096:t.onPush&&(f=64);const y=Gm(e,zm(e,o,null,f,r,n,null,e[ea].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=y}(n,t,e.data[o+t.componentOffset]),e.firstCreatePass||dd(t,n),Oa(r,n);const f=t.initialInputs;for(let y=o;y<u;y++){const M=e.data[y],H=cu(n,e,y,t);Oa(H,n),null!==f&&uR(0,y-o,H,M,0,f),ns(M)&&(Na(t.index,n)[si]=cu(n,e,y,t))}}(e,n,t,Pi(t,n)),64==(64&t.flags)&&$E(e,n,t))}function kb(e,n,t=Pi){const r=n.localNames;if(null!==r){let o=n.index+1;for(let u=0;u<r.length;u+=2){const f=r[u+1],y=-1===f?t(n,e):e[f];e[o++]=y}}}function UE(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Pb(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Pb(e,n,t,r,o,u,f,y,M,H,$){const re=fn+r,ye=re+o,Te=function zO(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:dr);return t}(re,ye),Ge="function"==typeof H?H():H;return Te[dn]={type:e,blueprint:Te,template:t,queries:null,viewQuery:y,declTNode:n,data:Te.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:M,consts:Ge,incompleteFirstPass:!1,ssrId:$}}let zE=e=>null;function GE(e,n,t,r){for(let o in e)if(e.hasOwnProperty(o)){t=null===t?{}:t;const u=e[o];null===r?jE(t,n,o,u):r.hasOwnProperty(o)&&jE(t,n,r[o],u)}return t}function jE(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function Fb(e,n,t,r){if(qc()){const o=null===r?null:{"":-1},u=function rR(e,n){const t=e.directiveRegistry;let r=null,o=null;if(t)for(let u=0;u<t.length;u++){const f=t[u];if(Hf(n,f.selectors,!1))if(r||(r=[]),ns(f))if(null!==f.findHostDirectiveDefs){const y=[];o=o||new Map,f.findHostDirectiveDefs(f,y,o),r.unshift(...y,f),Bb(e,n,y.length)}else r.unshift(f),Bb(e,n,0);else o=o||new Map,f.findHostDirectiveDefs?.(f,r,o),r.push(f)}return null===r?null:[r,o]}(e,t);let f,y;null===u?f=y=null:[f,y]=u,null!==f&&WE(e,n,t,f,o,y),o&&function iR(e,n,t){if(n){const r=e.localNames=[];for(let o=0;o<n.length;o+=2){const u=t[n[o+1]];if(null==u)throw new dt(-301,!1);r.push(n[o],u)}}}(t,r,o)}t.mergedAttrs=Dl(t.mergedAttrs,t.attrs)}function WE(e,n,t,r,o,u){for(let H=0;H<r.length;H++)lf(dd(t,n),e,r[H].type);!function aR(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let H=0;H<r.length;H++){const $=r[H];$.providersResolver&&$.providersResolver($)}let f=!1,y=!1,M=jg(e,n,r.length,null);for(let H=0;H<r.length;H++){const $=r[H];t.mergedAttrs=Dl(t.mergedAttrs,$.hostAttrs),sR(e,t,n,M,$),oR(M,$,o),null!==$.contentQueries&&(t.flags|=4),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(t.flags|=64);const re=$.type.prototype;!f&&(re.ngOnChanges||re.ngOnInit||re.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),f=!0),!y&&(re.ngOnChanges||re.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),y=!0),M++}!function KO(e,n,t){const o=n.directiveEnd,u=e.data,f=n.attrs,y=[];let M=null,H=null;for(let $=n.directiveStart;$<o;$++){const re=u[$],ye=t?t.get(re):null,Ge=ye?ye.outputs:null;M=GE(re.inputs,$,M,ye?ye.inputs:null),H=GE(re.outputs,$,H,Ge);const $e=null===M||null===f||Sl(n)?null:cR(M,$,f);y.push($e)}null!==M&&(M.hasOwnProperty("class")&&(n.flags|=8),M.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=y,n.inputs=M,n.outputs=H}(e,t,u)}function $E(e,n,t){const r=t.directiveStart,o=t.directiveEnd,u=t.index,f=function op(){return Nn.lFrame.currentDirectiveIndex}();try{Wa(u);for(let y=r;y<o;y++){const M=e.data[y],H=n[y];ed(y),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&nR(M,H)}}finally{Wa(-1),ed(f)}}function nR(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Bb(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function oR(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;ns(n)&&(t[""]=e)}}function sR(e,n,t,r,o){e.data[r]=o;const u=o.factory||(o.factory=to(o.type)),f=new rc(u,ns(o),ht);e.blueprint[r]=f,t[r]=f,function JO(e,n,t,r,o){const u=o.hostBindings;if(u){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const y=~n.index;(function eR(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(f)!=y&&f.push(y),f.push(t,r,u)}}(e,n,r,jg(e,t,o.hostVars,dr),o)}function uc(e,n,t,r,o,u){const f=Pi(e,n);!function Vb(e,n,t,r,o,u,f){if(null==u)e.removeAttribute(n,o,t);else{const y=null==f?vn(u):f(u,r||"",o);e.setAttribute(n,o,y,t)}}(n[Gn],f,u,e.value,t,r,o)}function uR(e,n,t,r,o,u){const f=u[n];if(null!==f)for(let y=0;y<f.length;)YE(r,t,f[y++],f[y++],f[y++])}function YE(e,n,t,r,o){const u=ji(null);try{const f=e.inputTransforms;null!==f&&f.hasOwnProperty(r)&&(o=f[r].call(n,o)),null!==e.setInput?e.setInput(n,o,t,r):n[r]=o}finally{ji(u)}}function cR(e,n,t){let r=null,o=0;for(;o<t.length;){const u=t[o];if(0!==u)if(5!==u){if("number"==typeof u)break;if(e.hasOwnProperty(u)){null===r&&(r=[]);const f=e[u];for(let y=0;y<f.length;y+=2)if(f[y]===n){r.push(u,f[y+1],t[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function XE(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null,null]}function KE(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const u=t[r+1];if(-1!==u){const f=e.data[u];Ss(t[r]),f.contentQueries(2,n[u],u)}}}function Gm(e,n){return e[ju]?e[Gf][Jo]=n:e[ju]=n,e[Gf]=n,n}function Hb(e,n,t){Ss(0);const r=ji(null);try{n(e,t)}finally{ji(r)}}function ZE(e){return e[el]||(e[el]=[])}function qE(e){return e.cleanup||(e.cleanup=[])}function JE(e,n){const t=e[Bs],r=t?t.get(lc,null):null;r&&r.handleError(n)}function Ub(e,n,t,r,o){for(let u=0;u<t.length;){const f=t[u++],y=t[u++];YE(e.data[f],n[f],r,y,o)}}function Ed(e,n,t){const r=Xc(n,e);!function J(e,n,t){e.setValue(n,t)}(e[Gn],r,t)}function dR(e,n){const t=Na(n,e),r=t[dn];!function fR(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const o=t[Ji];null!==o&&null===t[tr]&&(t[tr]=mE(o,t[Bs])),zb(r,t,t[si])}function zb(e,n,t){Ll(n);try{const r=e.viewQuery;null!==r&&Hb(1,r,t);const o=e.template;null!==o&&HE(e,n,o,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&KE(e,n),e.staticViewQueries&&Hb(2,e.viewQuery,t);const u=e.components;null!==u&&function hR(e,n){for(let t=0;t<n.length;t++)dR(e,n[t])}(n,u)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[Pn]&=-5,vo()}}let eD=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,r,o){const u=typeof Zone>"u"?null:Zone.current,f=new ep(t,H=>{this.all.has(H)&&this.queue.set(H,u)},o);let y;this.all.add(f),f.notify();const M=()=>{f.cleanup(),y?.(),this.all.delete(f),this.queue.delete(f)};return y=r?.onDestroy(M),{destroy:M}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=un({token:e,providedIn:"root",factory:()=>new e}),e})();function jm(e,n,t){let r=t?e.styles:null,o=t?e.classes:null,u=0;if(null!==n)for(let f=0;f<n.length;f++){const y=n[f];"number"==typeof y?u=y:1==u?o=Qn(o,y):2==u&&(r=Qn(r,y+": "+n[++f]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=o:e.classesWithoutHost=o}function Wg(e,n,t,r,o=!1){for(;null!==t;){const u=n[t.index];if(null!==u&&r.push(ni(u)),Ta(u)){for(let y=Xr;y<u.length;y++){const M=u[y],H=M[dn].firstChild;null!==H&&Wg(M[dn],M,H,r)}u[xs]!==u[Ji]&&r.push(u[xs])}const f=t.type;if(8&f)Wg(e,n,t.child,r);else if(32&f){const y=g(t,n);let M;for(;M=y();)r.push(M)}else if(16&f){const y=nn(n,t);if(Array.isArray(y))r.push(...y);else{const M=E(n[ki]);Wg(M[dn],M,y,r,!0)}}t=o?t.projectionNext:t.next}return r}function Wm(e,n,t,r=!0){const o=n[ea].rendererFactory;o.begin&&o.begin();try{tD(e,n,e.template,t)}catch(f){throw r&&JE(n,f),f}finally{o.end&&o.end(),n[ea].effectManager?.flush()}}function tD(e,n,t,r){const o=n[Pn];if(256!=(256&o)){n[ea].effectManager?.flush(),Ll(n);try{wr(n),function Rl(e){return Nn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&HE(e,n,t,2,r);const f=3==(3&o);if(f){const H=e.preOrderCheckHooks;null!==H&&ss(n,H,null)}else{const H=e.preOrderHooks;null!==H&&au(n,H,0,null),nf(n,0)}if(function yR(e){for(let n=k(e);null!==n;n=z(n)){if(!n[nl])continue;const t=n[eu];for(let r=0;r<t.length;r++){Eg(t[r])}}}(n),nD(n,2),null!==e.contentQueries&&KE(e,n),f){const H=e.contentCheckHooks;null!==H&&ss(n,H)}else{const H=e.contentHooks;null!==H&&au(n,H,1),nf(n,1)}!function UO(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const r=OE(n,Ua);try{for(let o=0;o<t.length;o++){const u=t[o];if(u<0)Wa(~u);else{const f=u,y=t[++o],M=t[++o];Us(y,f),r.runInContext(M,2,n[f])}}}finally{null===n[Ua]&&RE(n,Ua),Wa(-1)}}(e,n);const y=e.components;null!==y&&iD(n,y,0);const M=e.viewQuery;if(null!==M&&Hb(2,M,r),f){const H=e.viewCheckHooks;null!==H&&ss(n,H)}else{const H=e.viewHooks;null!==H&&au(n,H,2),nf(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Pn]&=-73,Al(n)}finally{vo()}}}function nD(e,n){for(let t=k(e);null!==t;t=z(t))for(let r=Xr;r<t.length;r++)rD(t[r],n)}function bR(e,n,t){rD(Na(n,e),t)}function rD(e,n){if(!function Kc(e){return 128==(128&e[Pn])}(e))return;const t=e[dn];if(80&e[Pn]&&0===n||1024&e[Pn]||2===n)tD(t,e,t.template,e[si]);else if(e[Gu]>0){nD(e,1);const o=e[dn].components;null!==o&&iD(e,o,1)}}function iD(e,n,t){for(let r=0;r<n.length;r++)bR(e,n[r],t)}class $g{get rootNodes(){const n=this._lView,t=n[dn];return Wg(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[si]}set context(n){this._lView[si]=n}get destroyed(){return 256==(256&this._lView[Pn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Mi];if(Ta(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(ke(n,r),Po(t,r))}this._attachedToViewContainer=!1}Pe(this._lView[dn],this._lView)}onDestroy(n){!function Jf(e,n){if(256==(256&e[Pn]))throw new dt(911,!1);null===e[tl]&&(e[tl]=[]),e[tl].push(n)}(this._lView,n)}markForCheck(){Gg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pn]&=-129}reattach(){this._lView[Pn]|=128}detectChanges(){Wm(this._lView[dn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new dt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ae(e,n){In(e,n,n[Gn],2,null,null)}(this._lView[dn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new dt(902,!1);this._appRef=n}}class wR extends $g{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Wm(n[dn],n,n[si],!1)}checkNoChanges(){}get context(){return null}}class oD extends Vm{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=Or(n);return new Yg(t,this.ngModule)}}function aD(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class xR{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Fd(r);const o=this.injector.get(n,Ib,r);return o!==Ib||t===Ib?o:this.parentInjector.get(n,t,r)}}class Yg extends wE{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=aD(n.inputs);if(null!==t)for(const o of r)t.hasOwnProperty(o.propName)&&(o.transform=t[o.propName]);return r}get outputs(){return aD(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function Kh(e){return e.map(Xh).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,o){let u=(o=o||this.ngModule)instanceof sc?o:o?.injector;u&&null!==this.componentDef.getStandaloneInjector&&(u=this.componentDef.getStandaloneInjector(u)||u);const f=u?new xR(n,u):n,y=f.get(xE,null);if(null===y)throw new dt(407,!1);const $={rendererFactory:y,sanitizer:f.get(_O,null),effectManager:f.get(eD,null)},re=y.createRenderer(null,this.componentDef),ye=this.componentDef.selectors[0][0]||"div",Te=r?function GO(e,n,t,r){const u=r.get(SE,!1)||t===Ma.ShadowDom,f=e.selectRootElement(n,u);return function jO(e){zE(e)}(f),f}(re,r,this.componentDef.encapsulation,f):he(re,ye,function CR(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(ye)),ft=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Dt=Pb(0,null,null,1,0,null,null,null,null,null,null),ot=zm(null,Dt,null,ft,null,null,$,re,f,null,null);let Lt,Bn;Ll(ot);try{const Zn=this.componentDef;let Zo,pt=null;Zn.findHostDirectiveDefs?(Zo=[],pt=new Map,Zn.findHostDirectiveDefs(Zn,Zo,pt),Zo.push(Zn)):Zo=[Zn];const rm=function DR(e,n){const t=e[dn],r=fn;return e[r]=n,Ip(t,r,2,"#host",null)}(ot,Te),B0=function SR(e,n,t,r,o,u,f){const y=o[dn];!function _R(e,n,t,r){for(const o of e)n.mergedAttrs=Dl(n.mergedAttrs,o.hostAttrs);null!==n.mergedAttrs&&(jm(n,n.mergedAttrs,!0),null!==t&&Ut(r,t,n))}(r,e,n,f);let M=null;null!==n&&(M=mE(n,o[Bs]));const H=u.rendererFactory.createRenderer(n,t);let $=16;t.signals?$=4096:t.onPush&&($=64);const re=zm(o,UE(t),null,$,o[e.index],e,u,H,null,null,M);return y.firstCreatePass&&Bb(y,e,r.length-1),Gm(o,re),o[e.index]=re}(rm,Te,Zn,Zo,ot,$,re);Bn=Jd(Dt,fn),Te&&function TR(e,n,t,r){if(r)Ud(e,t,["ng-version",MO.full]);else{const{attrs:o,classes:u}=function jd(e){const n=[],t=[];let r=1,o=2;for(;r<e.length;){let u=e[r];if("string"==typeof u)2===o?""!==u&&n.push(u,e[++r]):8===o&&t.push(u);else{if(!Va(o))break;o=u}r++}return{attrs:n,classes:t}}(n.selectors[0]);o&&Ud(e,t,o),u&&u.length>0&&Fn(e,t,u.join(" "))}}(re,Zn,Te,r),void 0!==t&&function IR(e,n,t){const r=e.projection=[];for(let o=0;o<n.length;o++){const u=t[o];r.push(null!=u?Array.from(u):null)}}(Bn,this.ngContentSelectors,t),Lt=function MR(e,n,t,r,o,u){const f=Ro(),y=o[dn],M=Pi(f,o);WE(y,o,f,t,null,r);for(let $=0;$<t.length;$++)Oa(cu(o,y,f.directiveStart+$,f),o);$E(y,o,f),M&&Oa(M,o);const H=cu(o,y,f.directiveStart+f.componentOffset,f);if(e[si]=o[si]=H,null!==u)for(const $ of u)$(H,n);return Rb(y,f,e),H}(B0,Zn,Zo,pt,ot,[AR]),zb(Dt,ot,null)}finally{vo()}return new ER(this.componentType,Lt,Mp(Bn,ot),ot,Bn)}}class ER extends wO{constructor(n,t,r,o,u){super(),this.location=r,this._rootLView=o,this._tNode=u,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new wR(o),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const u=this._rootLView;Ub(u[dn],u,o,n,t),this.previousInputValues.set(n,t),Gg(Na(this._tNode.index,u))}}get injector(){return new du(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function AR(){const e=Ro();as(Ot()[dn],e)}function Mr(e){let n=function sD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let o;if(ns(e))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new dt(903,!1);o=n.\u0275dir}if(o){if(t){r.push(o);const f=e;f.inputs=$m(e.inputs),f.inputTransforms=$m(e.inputTransforms),f.declaredInputs=$m(e.declaredInputs),f.outputs=$m(e.outputs);const y=o.hostBindings;y&&LR(e,y);const M=o.viewQuery,H=o.contentQueries;if(M&&OR(e,M),H&&RR(e,H),xr(e.inputs,o.inputs),xr(e.declaredInputs,o.declaredInputs),xr(e.outputs,o.outputs),null!==o.inputTransforms&&(null===f.inputTransforms&&(f.inputTransforms={}),xr(f.inputTransforms,o.inputTransforms)),ns(o)&&o.data.animation){const $=e.data;$.animation=($.animation||[]).concat(o.data.animation)}}const u=o.features;if(u)for(let f=0;f<u.length;f++){const y=u[f];y&&y.ngInherit&&y(e),y===Mr&&(t=!1)}}n=Object.getPrototypeOf(n)}!function NR(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=n+=o.hostVars,o.hostAttrs=Dl(o.hostAttrs,t=Dl(t,o.hostAttrs))}}(r)}function $m(e){return e===fo?{}:e===gr?[]:e}function OR(e,n){const t=e.viewQuery;e.viewQuery=t?(r,o)=>{n(r,o),t(r,o)}:n}function RR(e,n){const t=e.contentQueries;e.contentQueries=t?(r,o,u)=>{n(r,o,u),t(r,o,u)}:n}function LR(e,n){const t=e.hostBindings;e.hostBindings=t?(r,o)=>{n(r,o),t(r,o)}:n}function dD(e){const n=e.inputConfig,t={};for(const r in n)if(n.hasOwnProperty(r)){const o=n[r];Array.isArray(o)&&o[2]&&(t[r]=o[2])}e.inputTransforms=t}function Ym(e){return!!Gb(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Gb(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function cc(e,n,t){return e[n]=t}function fs(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function pl(e,n,t,r){const o=Ot();return fs(o,Ds(),n)&&(fr(),uc(Lr(),o,e,n,t,r)),pl}function Op(e,n,t,r,o,u){const y=function wh(e,n,t,r){const o=fs(e,n,t);return fs(e,n+1,r)||o}(e,function vr(){return Nn.lFrame.bindingIndex}(),t,o);return Lo(2),y?n+vn(t)+r+vn(o)+u:dr}function Yo(e,n,t,r,o,u,f,y){const M=Ot(),H=fr(),$=e+fn,re=H.firstCreatePass?function oL(e,n,t,r,o,u,f,y,M){const H=n.consts,$=Ip(n,e,4,f||null,Hs(H,y));Fb(n,t,$,Hs(H,M)),as(n,$);const re=$.tView=Pb(2,$,r,o,u,n.directiveRegistry,n.pipeRegistry,null,n.schemas,H,null);return null!==n.queries&&(n.queries.template(n,$),re.queries=n.queries.embeddedTView($)),$}($,H,M,n,t,r,o,u,f):H.data[$];os(re,!1);const ye=DD(H,M,re,e);ad()&&Nt(H,M,ye,re),Oa(ye,M),Gm(M,M[$]=XE(ye,M,ye,re)),Yd(re)&&Lb(H,M,re),null!=f&&kb(M,re,y)}let DD=function SD(e,n,t,r){return Pl(!0),n[Gn].createComment("")};function dc(e){return function Il(e,n){return e[n]}(function ui(){return Nn.lFrame.contextLView}(),fn+e)}function Un(e,n,t){const r=Ot();return fs(r,Ds(),n)&&function hl(e,n,t,r,o,u,f,y){const M=Pi(n,t);let $,H=n.inputs;!y&&null!=H&&($=H[r])?(Ub(e,t,$,r,o),tu(n)&&function qO(e,n){const t=Na(n,e);16&t[Pn]||(t[Pn]|=64)}(t,n.index)):3&n.type&&(r=function ZO(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=f?f(o,n.value||"",r):o,u.setProperty(M,r,o))}(fr(),Lr(),r,e,n,r[Gn],t,!1),Un}function Kb(e,n,t,r,o){const f=o?"class":"style";Ub(e,t,n.inputs[f],f,r)}function yt(e,n,t,r){const o=Ot(),u=fr(),f=fn+e,y=o[Gn],M=u.firstCreatePass?function uL(e,n,t,r,o,u){const f=n.consts,M=Ip(n,e,2,r,Hs(f,o));return Fb(n,t,M,Hs(f,u)),null!==M.attrs&&jm(M,M.attrs,!1),null!==M.mergedAttrs&&jm(M,M.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,M),M}(f,u,o,n,t,r):u.data[f],H=_D(u,o,M,y,n,e);o[f]=H;const $=Yd(M);return os(M,!0),Ut(y,H,M),32!=(32&M.flags)&&ad()&&Nt(u,o,H,M),0===function Nl(){return Nn.lFrame.elementDepthCount}()&&Oa(H,o),function No(){Nn.lFrame.elementDepthCount++}(),$&&(Lb(u,o,M),Rb(u,M,o)),null!==r&&kb(o,M),yt}function mt(){let e=Ro();Jc()?no():(e=e.parent,os(e,!1));const n=e;(function Qu(e){return Nn.skipHydrationRootTNode===e})(n)&&function Ol(){Nn.skipHydrationRootTNode=null}(),function eh(){Nn.lFrame.elementDepthCount--}();const t=fr();return t.firstCreatePass&&(as(t,e),jf(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function cp(e){return 0!=(8&e.flags)}(n)&&Kb(t,n,Ot(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function af(e){return 0!=(16&e.flags)}(n)&&Kb(t,n,Ot(),n.stylesWithoutHost,!1),mt}function Xn(e,n,t,r){return yt(e,n,t,r),mt(),Xn}let _D=(e,n,t,r,o,u)=>(Pl(!0),he(r,o,function Go(){return Nn.lFrame.currentNamespace}()));function Zb(e,n,t){const r=Ot(),o=fr(),u=e+fn,f=o.firstCreatePass?function fL(e,n,t,r,o){const u=n.consts,f=Hs(u,r),y=Ip(n,e,8,"ng-container",f);return null!==f&&jm(y,f,!0),Fb(n,t,y,Hs(u,o)),null!==n.queries&&n.queries.elementStart(n,y),y}(u,o,r,n,t):o.data[u];os(f,!0);const y=MD(o,r,f,e);return r[u]=y,ad()&&Nt(o,r,y,f),Oa(y,r),Yd(f)&&(Lb(o,r,f),Rb(o,f,r)),null!=t&&kb(r,f),Zb}function qb(){let e=Ro();const n=fr();return Jc()?no():(e=e.parent,os(e,!1)),n.firstCreatePass&&(as(n,e),jf(e)&&n.queries.elementEnd(e)),qb}function Qg(e,n,t){return Zb(e,n,t),qb(),Qg}let MD=(e,n,t,r)=>(Pl(!0),oe(n[Gn],""));function Dd(){return Ot()}function Jg(e){return!!e&&"function"==typeof e.then}function TD(e){return!!e&&"function"==typeof e.subscribe}function ir(e,n,t,r){const o=Ot(),u=fr(),f=Ro();return function AD(e,n,t,r,o,u,f){const y=Yd(r),H=e.firstCreatePass&&qE(e),$=n[si],re=ZE(n);let ye=!0;if(3&r.type||f){const $e=Pi(r,n),ft=f?f($e):$e,Dt=re.length,ot=f?Bn=>f(ni(Bn[r.index])):r.index;let Lt=null;if(!f&&y&&(Lt=function gL(e,n,t,r){const o=e.cleanup;if(null!=o)for(let u=0;u<o.length-1;u+=2){const f=o[u];if(f===t&&o[u+1]===r){const y=n[el],M=o[u+2];return y.length>M?y[M]:null}"string"==typeof f&&(u+=2)}return null}(e,n,o,r.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=u,Lt.__ngLastListenerFn__=u,ye=!1;else{u=OD(r,n,$,u,!1);const Bn=t.listen(ft,o,u);re.push(u,Bn),H&&H.push(o,ot,Dt,Dt+1)}}else u=OD(r,n,$,u,!1);const Te=r.outputs;let Ge;if(ye&&null!==Te&&(Ge=Te[o])){const $e=Ge.length;if($e)for(let ft=0;ft<$e;ft+=2){const Zn=n[Ge[ft]][Ge[ft+1]].subscribe(u),Zo=re.length;re.push(u,Zn),H&&H.push(o,r.index,Zo,-(Zo+1))}}}(u,o,o[Gn],f,e,n,r),ir}function ND(e,n,t,r){try{return Aa(6,n,t),!1!==t(r)}catch(o){return JE(e,o),!1}finally{Aa(7,n,t)}}function OD(e,n,t,r,o){return function u(f){if(f===Function)return r;Gg(e.componentOffset>-1?Na(e.index,n):n);let M=ND(n,t,r,f),H=u.__ngNextListenerFn__;for(;H;)M=ND(n,t,H,f)&&M,H=H.__ngNextListenerFn__;return o&&!1===M&&f.preventDefault(),M}}function Sd(e=1){return function kl(e){return(Nn.lFrame.contextLView=function Sg(e,n){for(;e>0;)n=n[Jl],e--;return n}(e,Nn.lFrame.contextLView))[si]}(e)}function vL(e,n){let t=null;const r=function Rc(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let o=0;o<n.length;o++){const u=n[o];if("*"!==u){if(null===r?Hf(e,u,!0):Uf(r,u))return o}else t=o}return t}function Qm(e){const n=Ot()[ki][ho];if(!n.projection){const r=n.projection=Bi(e?e.length:1,null),o=r.slice();let u=n.child;for(;null!==u;){const f=e?vL(u,e):0;null!==f&&(o[f]?o[f].projectionNext=u:r[f]=u,o[f]=u),u=u.next}}}function Jm(e,n=0,t){const r=Ot(),o=fr(),u=Ip(o,fn+e,16,null,t||null);null===u.projection&&(u.projection=n),no(),(!r[tr]||Oo())&&32!=(32&u.flags)&&function En(e,n,t){sn(n[Gn],0,n,t,Ze(e,t,n),At(t.parent||n[ho],t,n))}(o,r,u)}function ey(e,n){return e<<17|n<<2}function yf(e){return e>>17&32767}function Jb(e){return 2|e}function Ch(e){return(131068&e)>>2}function ew(e,n){return-131069&e|n<<2}function tw(e){return 1|e}function zD(e,n,t,r,o){const u=e[t+1],f=null===n;let y=r?yf(u):Ch(u),M=!1;for(;0!==y&&(!1===M||f);){const $=e[y+1];xL(e[y],n)&&(M=!0,e[y+1]=r?tw($):Jb($)),y=r?yf($):Ch($)}M&&(e[t+1]=r?Jb(u):tw(u))}function xL(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&ro(e,n)>=0}function ty(e,n,t){return mu(e,n,t,!1),ty}function bf(e,n){return mu(e,n,null,!0),bf}function mu(e,n,t,r){const o=Ot(),u=fr(),f=Lo(2);u.firstUpdatePass&&function ZD(e,n,t,r){const o=e.data;if(null===o[t+1]){const u=o[mo()],f=function KD(e,n){return n>=e.expandoStartIndex}(e,t);(function e1(e,n){return 0!=(e.flags&(n?8:16))})(u,r)&&null===n&&!f&&(n=!1),n=function NL(e,n,t,r){const o=function ef(e){const n=Nn.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let u=r?n.residualClasses:n.residualStyles;if(null===o)0===(r?n.classBindings:n.styleBindings)&&(t=ev(t=nw(null,e,n,t,r),n.attrs,r),u=null);else{const f=n.directiveStylingLast;if(-1===f||e[f]!==o)if(t=nw(o,e,n,t,r),null===u){let M=function OL(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==Ch(r))return e[yf(r)]}(e,n,r);void 0!==M&&Array.isArray(M)&&(M=nw(null,e,n,M[1],r),M=ev(M,n.attrs,r),function RL(e,n,t,r){e[yf(t?n.classBindings:n.styleBindings)]=r}(e,n,r,M))}else u=function LL(e,n,t){let r;const o=n.directiveEnd;for(let u=1+n.directiveStylingLast;u<o;u++)r=ev(r,e[u].hostAttrs,t);return ev(r,n.attrs,t)}(e,n,r)}return void 0!==u&&(r?n.residualClasses=u:n.residualStyles=u),t}(o,u,n,r),function wL(e,n,t,r,o,u){let f=u?n.classBindings:n.styleBindings,y=yf(f),M=Ch(f);e[r]=t;let $,H=!1;if(Array.isArray(t)?($=t[1],(null===$||ro(t,$)>0)&&(H=!0)):$=t,o)if(0!==M){const ye=yf(e[y+1]);e[r+1]=ey(ye,y),0!==ye&&(e[ye+1]=ew(e[ye+1],r)),e[y+1]=function yL(e,n){return 131071&e|n<<17}(e[y+1],r)}else e[r+1]=ey(y,0),0!==y&&(e[y+1]=ew(e[y+1],r)),y=r;else e[r+1]=ey(M,0),0===y?y=r:e[M+1]=ew(e[M+1],r),M=r;H&&(e[r+1]=Jb(e[r+1])),zD(e,$,r,!0),zD(e,$,r,!1),function CL(e,n,t,r,o){const u=o?e.residualClasses:e.residualStyles;null!=u&&"string"==typeof n&&ro(u,n)>=0&&(t[r+1]=tw(t[r+1]))}(n,$,e,r,u),f=ey(y,M),u?n.classBindings=f:n.styleBindings=f}(o,u,n,t,f,r)}}(u,e,f,r),n!==dr&&fs(o,f,n)&&function QD(e,n,t,r,o,u,f,y){if(!(3&n.type))return;const M=e.data,H=M[y+1],$=function bL(e){return 1==(1&e)}(H)?JD(M,n,t,o,Ch(H),f):void 0;ny($)||(ny(u)||function mL(e){return 2==(2&e)}(H)&&(u=JD(M,null,t,o,y,f)),function Er(e,n,t,r,o){if(n)o?e.addClass(t,r):e.removeClass(t,r);else{let u=-1===r.indexOf("-")?void 0:$o.DashCase;null==o?e.removeStyle(t,r,u):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),u|=$o.Important),e.setStyle(t,r,o,u))}}(r,f,Xc(mo(),t),o,u))}(u,u.data[mo()],o,o[Gn],e,o[f+1]=function BL(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Wn(Co(e)))),e}(n,t),r,f)}function nw(e,n,t,r,o){let u=null;const f=t.directiveEnd;let y=t.directiveStylingLast;for(-1===y?y=t.directiveStart:y++;y<f&&(u=n[y],r=ev(r,u.hostAttrs,o),u!==e);)y++;return null!==e&&(t.directiveStylingLast=y),r}function ev(e,n,t){const r=t?1:2;let o=-1;if(null!==n)for(let u=0;u<n.length;u++){const f=n[u];"number"==typeof f?o=f:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),kr(e,f,!!t||n[++u]))}return void 0===e?null:e}function JD(e,n,t,r,o,u){const f=null===n;let y;for(;o>0;){const M=e[o],H=Array.isArray(M),$=H?M[1]:M,re=null===$;let ye=t[o+1];ye===dr&&(ye=re?gr:void 0);let Te=re?gi(ye,r):$===r?ye:void 0;if(H&&!ny(Te)&&(Te=gi(M,r)),ny(Te)&&(y=Te,f))return y;const Ge=e[o+1];o=f?yf(Ge):Ch(Ge)}if(null!==n){let M=u?n.residualClasses:n.residualStyles;null!=M&&(y=gi(M,r))}return y}function ny(e){return void 0!==e}function jt(e,n=""){const t=Ot(),r=fr(),o=e+fn,u=r.firstCreatePass?Ip(r,o,1,n,null):r.data[o],f=t1(r,t,u,n,e);t[o]=f,ad()&&Nt(r,t,f,u),os(u,!1)}let t1=(e,n,t,r,o)=>(Pl(!0),function Q(e,n){return e.createText(n)}(n[Gn],r));function rw(e){return xh("",e,""),rw}function xh(e,n,t){const r=Ot(),o=function Np(e,n,t,r){return fs(e,Ds(),t)?n+vn(t)+r:dr}(r,e,n,t);return o!==dr&&Ed(r,mo(),o),xh}function iw(e,n,t,r,o){const u=Ot(),f=Op(u,e,n,t,r,o);return f!==dr&&Ed(u,mo(),f),iw}const Up="en-US";let E1=Up;function sw(e,n,t,r,o){if(e=on(e),Array.isArray(e))for(let u=0;u<e.length;u++)sw(e[u],n,t,r,o);else{const u=fr(),f=Ot();let y=yh(e)?e:on(e.provide),M=hE(e);const H=Ro(),$=1048575&H.providerIndexes,re=H.directiveStart,ye=H.providerIndexes>>20;if(yh(e)||!e.multi){const Te=new rc(M,o,ht),Ge=uw(y,n,o?$:$+ye,re);-1===Ge?(lf(dd(H,f),u,y),lw(u,e,n.length),n.push(y),H.directiveStart++,H.directiveEnd++,o&&(H.providerIndexes+=1048576),t.push(Te),f.push(Te)):(t[Ge]=Te,f[Ge]=Te)}else{const Te=uw(y,n,$+ye,re),Ge=uw(y,n,$,$+ye),ft=Ge>=0&&t[Ge];if(o&&!ft||!o&&!(Te>=0&&t[Te])){lf(dd(H,f),u,y);const Dt=function iP(e,n,t,r,o){const u=new rc(e,t,ht);return u.multi=[],u.index=n,u.componentProviders=0,X1(u,o,r&&!t),u}(o?rP:nP,t.length,o,r,M);!o&&ft&&(t[Ge].providerFactory=Dt),lw(u,e,n.length,0),n.push(y),H.directiveStart++,H.directiveEnd++,o&&(H.providerIndexes+=1048576),t.push(Dt),f.push(Dt)}else lw(u,e,Te>-1?Te:Ge,X1(t[o?Ge:Te],M,!o&&r));!o&&r&&ft&&t[Ge].componentProviders++}}}function lw(e,n,t,r){const o=yh(n),u=function iO(e){return!!e.useClass}(n);if(o||u){const M=(u?on(n.useClass):n).prototype.ngOnDestroy;if(M){const H=e.destroyHooks||(e.destroyHooks=[]);if(!o&&n.multi){const $=H.indexOf(t);-1===$?H.push(t,[r,M]):H[$+1].push(r,M)}else H.push(t,M)}}}function X1(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function uw(e,n,t,r){for(let o=t;o<r;o++)if(n[o]===e)return o;return-1}function nP(e,n,t,r){return cw(this.multi,[])}function rP(e,n,t,r){const o=this.multi;let u;if(this.providerFactory){const f=this.providerFactory.componentProviders,y=cu(t,t[dn],this.providerFactory.index,r);u=y.slice(0,f),cw(o,u);for(let M=f;M<y.length;M++)u.push(y[M])}else u=[],cw(o,u);return u}function cw(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function Zr(e,n=[]){return t=>{t.providersResolver=(r,o)=>function tP(e,n,t){const r=fr();if(r.firstCreatePass){const o=ns(e);sw(t,r.data,r.blueprint,o,!0),sw(n,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,n)}}class zp{}class K1{}class dw extends zp{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oD(this);const o=Qi(n);this._bootstrapComponents=xd(o.bootstrap),this._r3Injector=VE(n,t,[{provide:zp,useValue:this},{provide:Vm,useValue:this.componentFactoryResolver},...r],Wn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class fw extends K1{constructor(n){super(),this.moduleType=n}create(n){return new dw(this.moduleType,n,[])}}class Z1 extends zp{constructor(n){super(),this.componentFactoryResolver=new oD(this),this.instance=null;const t=new pb([...n.providers,{provide:zp,useValue:this},{provide:Vm,useValue:this.componentFactoryResolver}],n.parent||Rm(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function hw(e,n,t=null){return new Z1({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let sP=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=uE(0,t.type),o=r.length>0?hw([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,o)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=un({token:e,providedIn:"environment",factory:()=>new e(Yt(sc))}),e})();function q1(e){e.getStandaloneInjector=n=>n.get(sP).getOrCreateStandaloneInjector(e)}function sy(e,n,t){const r=Fi()+e,o=Ot();return o[r]===dr?cc(o,r,t?n.call(t):n()):function Xg(e,n){return e[n]}(o,r)}function ly(e,n,t,r){return function iS(e,n,t,r,o,u){const f=n+t;return fs(e,f,o)?cc(e,f+1,u?r.call(u,o):r(o)):function av(e,n){const t=e[n];return t===dr?void 0:t}(e,f+1)}(Ot(),Fi(),e,n,t,r)}function gw(e){return n=>{setTimeout(e,void 0,n)}}const ci=class NP extends Ft{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let o=n,u=t||(()=>null),f=r;if(n&&"object"==typeof n){const M=n;o=M.next?.bind(M),u=M.error?.bind(M),f=M.complete?.bind(M)}this.__isAsync&&(u=gw(u),o&&(o=gw(o)),f&&(f=gw(f)));const y=super.subscribe({next:o,error:u,complete:f});return n instanceof C&&n.add(y),y}};function OP(){return this._results[Symbol.iterator]()}class vw{get changes(){return this._changes||(this._changes=new ci)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=vw.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=OP)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const o=function or(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Yn(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],u=n[r];if(t&&(o=t(o),u=t(u)),u!==o)return!1}return!0}(r._results,o,t))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let pc=(()=>{class e{}return e.__NG_ELEMENT_ID__=kP,e})();const RP=pc,LP=class extends RP{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t,null)}createEmbeddedViewImpl(n,t,r){const f=this._declarationTContainer.tView,y=zm(this._declarationLView,f,n,4096&this._declarationLView[Pn]?4096:16,null,f.declTNode,null,null,null,t||null,r||null);y[ts]=this._declarationLView[this._declarationTContainer.index];const H=this._declarationLView[eo];return null!==H&&(y[eo]=H.createEmbeddedView(f)),zb(f,y,n),new $g(y)}};function kP(){return uy(Ro(),Ot())}function uy(e,n){return 4&e.type?new LP(n,e,Mp(e,n)):null}let gl=(()=>{class e{}return e.__NG_ELEMENT_ID__=zP,e})();function zP(){return pS(Ro(),Ot())}const GP=gl,fS=class extends GP{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Mp(this._hostTNode,this._hostLView)}get injector(){return new du(this._hostTNode,this._hostLView)}get parentInjector(){const n=fd(this._hostTNode,this._hostLView);if(rh(n)){const t=ud(n,this._hostLView),r=uu(n);return new du(t[dn].data[r+8],t)}return new du(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=hS(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-Xr}createEmbeddedView(n,t,r){let o,u;"number"==typeof r?o=r:null!=r&&(o=r.index,u=r.injector);const y=n.createEmbeddedViewImpl(t||{},u,null);return this.insertImpl(y,o,false),y}createComponent(n,t,r,o,u){const f=n&&!function wn(e){return"function"==typeof e}(n);let y;if(f)y=t;else{const $e=t||{};y=$e.index,r=$e.injector,o=$e.projectableNodes,u=$e.environmentInjector||$e.ngModuleRef}const M=f?n:new Yg(Or(n)),H=r||this.parentInjector;if(!u&&null==M.ngModule){const ft=(f?H:this.parentInjector).get(sc,null);ft&&(u=ft)}Or(M.componentType??{});const Te=M.create(H,o,null,u);return this.insertImpl(Te.hostView,y,false),Te}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,r){const o=n._lView,u=o[dn];if(function Zc(e){return Ta(e[Mi])}(o)){const M=this.indexOf(n);if(-1!==M)this.detach(M);else{const H=o[Mi],$=new fS(H,H[ho],H[Mi]);$.detach($.indexOf(n))}}const f=this._adjustIndex(t),y=this._lContainer;if(function we(e,n,t,r){const o=Xr+r,u=t.length;r>0&&(t[o-1][Jo]=n),r<u-Xr?(n[Jo]=t[o],pi(t,Xr+r,n)):(t.push(n),n[Jo]=null),n[Mi]=t;const f=n[ts];null!==f&&t!==f&&function Ie(e,n){const t=e[eu];n[ki]!==n[Mi][Mi][ki]&&(e[nl]=!0),null===t?e[eu]=[n]:t.push(n)}(f,n);const y=n[eo];null!==y&&y.insertView(e),n[Pn]|=128}(u,o,y,f),!r){const M=Hn(f,y),H=o[Gn],$=gt(H,y[xs]);null!==$&&function be(e,n,t,r,o,u){r[Ji]=o,r[ho]=n,In(e,r,t,1,o,u)}(u,y[ho],H,o,$,M)}return n.attachToViewContainerRef(),pi(yw(y),f,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=hS(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=ke(this._lContainer,t);r&&(Po(yw(this._lContainer),t),Pe(r[dn],r))}detach(n){const t=this._adjustIndex(n,-1),r=ke(this._lContainer,t);return r&&null!=Po(yw(this._lContainer),t)?new $g(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function hS(e){return e[8]}function yw(e){return e[8]||(e[8]=[])}function pS(e,n){let t;const r=n[e.index];return Ta(r)?t=r:(t=XE(r,n,null,e),n[e.index]=t,Gm(n,t)),gS(t,n,e,r),new fS(t,e,n)}let gS=function vS(e,n,t,r){if(e[xs])return;let o;o=8&t.type?ni(r):function jP(e,n){const t=e[Gn],r=t.createComment(""),o=Pi(n,e);return je(t,gt(t,o),r,function It(e,n){return e.nextSibling(n)}(t,o),!1),r}(n,t),e[xs]=o};class bw{constructor(n){this.queryList=n,this.matches=null}clone(){return new bw(this.queryList)}setDirty(){this.queryList.setDirty()}}class ww{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,o=[];for(let u=0;u<r;u++){const f=t.getByIndex(u);o.push(this.queries[f.indexInDeclarationView].clone())}return new ww(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==CS(n,t).matches&&this.queries[t].setDirty()}}class mS{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class Cw{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const o=null!==t?t.length:0,u=this.getByIndex(r).embeddedTView(n,o);u&&(u.indexInDeclarationView=r,null!==t?t.push(u):t=[u])}return null!==t?new Cw(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class xw{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new xw(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const u=r[o];this.matchTNodeWithReadOption(n,t,YP(t,u)),this.matchTNodeWithReadOption(n,t,zs(t,n,u,!1,!1))}else r===pc?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,zs(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===xo||o===gl||o===pc&&4&t.type)this.addMatch(t.index,-2);else{const u=zs(t,n,o,!1,!1);null!==u&&this.addMatch(t.index,u)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function YP(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function KP(e,n,t,r){return-1===t?function XP(e,n){return 11&e.type?Mp(e,n):4&e.type?uy(e,n):null}(n,e):-2===t?function ZP(e,n,t){return t===xo?Mp(n,e):t===pc?uy(n,e):t===gl?pS(n,e):void 0}(e,n,r):cu(e,e[dn],t,n)}function yS(e,n,t,r){const o=n[eo].queries[r];if(null===o.matches){const u=e.data,f=t.matches,y=[];for(let M=0;M<f.length;M+=2){const H=f[M];y.push(H<0?null:KP(n,u[H],f[M+1],t.metadata.read))}o.matches=y}return o.matches}function Ew(e,n,t,r){const o=e.queries.getByIndex(t),u=o.matches;if(null!==u){const f=yS(e,n,o,t);for(let y=0;y<u.length;y+=2){const M=u[y];if(M>0)r.push(f[y/2]);else{const H=u[y+1],$=n[-M];for(let re=Xr;re<$.length;re++){const ye=$[re];ye[ts]===ye[Mi]&&Ew(ye[dn],ye,H,r)}if(null!==$[eu]){const re=$[eu];for(let ye=0;ye<re.length;ye++){const Te=re[ye];Ew(Te[dn],Te,H,r)}}}}}return r}function Dr(e){const n=Ot(),t=fr(),r=td();Ss(r+1);const o=CS(t,r);if(e.dirty&&function Zu(e){return 4==(4&e[Pn])}(n)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const u=o.crossesNgTemplate?Ew(t,n,r,[]):yS(t,n,o,r);e.reset(u,DO),e.notifyOnChanges()}return!0}return!1}function Fr(e,n,t){const r=fr();r.firstCreatePass&&(wS(r,new mS(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),bS(r,Ot(),n)}function cy(e,n,t,r){const o=fr();if(o.firstCreatePass){const u=Ro();wS(o,new mS(n,t,r),u.index),function QP(e,n){const t=e.contentQueries||(e.contentQueries=[]);n!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,n)}(o,e),2==(2&t)&&(o.staticContentQueries=!0)}bS(o,Ot(),t)}function Sr(){return function qP(e,n){return e[eo].queries[n].queryList}(Ot(),td())}function bS(e,n,t){const r=new vw(4==(4&t));(function YO(e,n,t,r){const o=ZE(n);o.push(t),e.firstCreatePass&&qE(e).push(r,o.length-1)})(e,n,r,r.destroy),null===n[eo]&&(n[eo]=new ww),n[eo].queries.push(new bw(r))}function wS(e,n,t){null===e.queries&&(e.queries=new Cw),e.queries.track(new xw(n,t))}function CS(e,n){return e.queries.getByIndex(n)}const Iw=new rn("Application Initializer");let Aw=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=tn(Iw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const o of this.appInits){const u=o();if(Jg(u))t.push(u);else if(TD(u)){const f=new Promise((y,M)=>{u.subscribe({complete:y,error:M})});t.push(f)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),BS=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const gc=new rn("LocaleId",{providedIn:"root",factory:()=>tn(gc,An.Optional|An.SkipSelf)||function wF(){return typeof $localize<"u"&&$localize.locale||Up}()});let fy=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ln(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class xF{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let VS=(()=>{class e{compileModuleSync(t){return new fw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),u=xd(Qi(t).declarations).reduce((f,y)=>{const M=Or(y);return M&&f.push(new Yg(M)),f},[]);return new xF(r,u)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function zS(...e){}class vi{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ci(!1),this.onMicrotaskEmpty=new ci(!1),this.onStable=new ci(!1),this.onError=new ci(!1),typeof Zone>"u")throw new dt(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&t,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function SF(){let e=ai.requestAnimationFrame,n=ai.cancelAnimationFrame;if(typeof Zone<"u"&&e&&n){const t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function TF(e){const n=()=>{!function MF(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ai,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Ow(e),e.isCheckStableRunning=!0,Nw(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Ow(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,o,u,f,y)=>{try{return GS(e),t.invokeTask(o,u,f,y)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||e.shouldCoalesceRunChangeDetection)&&n(),jS(e)}},onInvoke:(t,r,o,u,f,y,M)=>{try{return GS(e),t.invoke(o,u,f,y,M)}finally{e.shouldCoalesceRunChangeDetection&&n(),jS(e)}},onHasTask:(t,r,o,u)=>{t.hasTask(o,u),r===o&&("microTask"==u.change?(e._hasPendingMicrotasks=u.microTask,Ow(e),Nw(e)):"macroTask"==u.change&&(e.hasPendingMacrotasks=u.macroTask))},onHandleError:(t,r,o,u)=>(t.handleError(o,u),e.runOutsideAngular(()=>e.onError.emit(u)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vi.isInAngularZone())throw new dt(909,!1)}static assertNotInAngularZone(){if(vi.isInAngularZone())throw new dt(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,o){const u=this._inner,f=u.scheduleEventTask("NgZoneEvent: "+o,n,_F,zS,zS);try{return u.runTask(f,t,r)}finally{u.cancelTask(f)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const _F={};function Nw(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ow(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function GS(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function jS(e){e._nesting--,Nw(e)}class IF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ci,this.onMicrotaskEmpty=new ci,this.onStable=new ci,this.onError=new ci}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,o){return n.apply(t,r)}}const WS=new rn("",{providedIn:"root",factory:$S});function $S(){const e=tn(vi);let n=!0;return et(new Ke(o=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(n),o.complete()})}),new Ke(o=>{let u;e.runOutsideAngular(()=>{u=e.onStable.subscribe(()=>{vi.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,o.next(!0))})})});const f=e.onUnstable.subscribe(()=>{vi.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{u.unsubscribe(),f.unsubscribe()}}).pipe(qt()))}const YS=new rn(""),hy=new rn("");let kw,Rw=(()=>{class e{constructor(t,r,o){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kw||(function AF(e){kw=e}(o),o.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,o){let u=-1;r&&r>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==u),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:u,updateCb:o})}whenStable(t,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,o){return[]}}return e.\u0275fac=function(t){return new(t||e)(Yt(vi),Yt(Lw),Yt(hy))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})(),Lw=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return kw?.findTestabilityInTree(this,t,r)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),wf=null;const XS=new rn("AllowMultipleToken"),Pw=new rn("PlatformDestroyListeners"),Fw=new rn("appBootstrapListener");class ZS{constructor(n,t){this.name=n,this.token=t}}function QS(e,n,t=[]){const r=`Platform: ${n}`,o=new rn(r);return(u=[])=>{let f=Bw();if(!f||f.injector.get(XS,!1)){const y=[...t,...u,{provide:o,useValue:!0}];e?e(y):function RF(e){if(wf&&!wf.get(XS,!1))throw new dt(400,!1);(function KS(){!function ru(e){Xf=e}(()=>{throw new dt(600,!1)})})(),wf=e;const n=e.get(e_);(function qS(e){e.get(pE,null)?.forEach(t=>t())})(e)}(function JS(e=[],n){return vu.create({name:n,providers:[{provide:fb,useValue:"platform"},{provide:Pw,useValue:new Set([()=>wf=null])},...e]})}(y,r))}return function kF(e){const n=Bw();if(!n)throw new dt(401,!1);return n}()}}function Bw(){return wf?.get(e_)??null}let e_=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const o=function PF(e="zone.js",n){return"noop"===e?new IF:"zone.js"===e?new vi(n):e}(r?.ngZone,function t_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const u=function aP(e,n,t){return new dw(e,n,t)}(t.moduleType,this.injector,function a_(e){return[{provide:vi,useFactory:e},{provide:Vg,multi:!0,useFactory:()=>{const n=tn(BF,{optional:!0});return()=>n.initialize()}},{provide:o_,useFactory:FF},{provide:WS,useFactory:$S}]}(()=>o)),f=u.injector.get(lc,null);return o.runOutsideAngular(()=>{const y=o.onError.subscribe({next:M=>{f.handleError(M)}});u.onDestroy(()=>{py(this._modules,u),y.unsubscribe()})}),function n_(e,n,t){try{const r=t();return Jg(r)?r.catch(o=>{throw n.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(f,o,()=>{const y=u.injector.get(Aw);return y.runInitializers(),y.donePromise.then(()=>(function D1(e){Ki(e,"Expected localeId to be defined"),"string"==typeof e&&(E1=e.toLowerCase().replace(/_/g,"-"))}(u.injector.get(gc,Up)||Up),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,r=[]){const o=r_({},r);return function NF(e,n,t){const r=new fw(t);return Promise.resolve(r)}(0,0,t).then(u=>this.bootstrapModuleFactory(u,o))}_moduleDoBootstrap(t){const r=t.injector.get(Wp);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new dt(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new dt(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Pw,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Yt(vu))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function r_(e,n){return Array.isArray(n)?n.reduce(r_,e):{...e,...n}}let Wp=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=tn(o_),this.zoneIsStable=tn(WS),this.componentTypes=[],this.components=[],this.isStable=tn(fy).hasPendingTasks.pipe(Ht(t=>t?qe(!1):this.zoneIsStable),en(),qt()),this._injector=tn(sc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const o=t instanceof wE;if(!this._injector.get(Aw).done)throw!o&&function qi(e){const n=Or(e)||Li(e)||Zi(e);return null!==n&&n.standalone}(t),new dt(405,!1);let f;f=o?t:this._injector.get(Vm).resolveComponentFactory(t),this.componentTypes.push(f.componentType);const y=function OF(e){return e.isBoundToModule}(f)?void 0:this._injector.get(zp),H=f.create(vu.NULL,[],r||f.selector,y),$=H.location.nativeElement,re=H.injector.get(YS,null);return re?.registerApplication($),H.onDestroy(()=>{this.detachView(H.hostView),py(this.components,H),re?.unregisterApplication($)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new dt(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;py(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Fw,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>py(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new dt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function py(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const o_=new rn("",{providedIn:"root",factory:()=>tn(lc).handleError.bind(void 0)});function FF(){const e=tn(vi),n=tn(lc);return t=>e.runOutsideAngular(()=>n.handleError(t))}let BF=(()=>{class e{constructor(){this.zone=tn(vi),this.applicationRef=tn(Wp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let $p=(()=>{class e{}return e.__NG_ELEMENT_ID__=HF,e})();function HF(e){return function UF(e,n,t){if(tu(e)&&!t){const r=Na(e.index,n);return new $g(r,r)}return 47&e.type?new $g(n[ki],n):null}(Ro(),Ot(),16==(16&e))}class c_{constructor(){}supports(n){return Ym(n)}create(n){return new YF(n)}}const $F=(e,n)=>n;class YF{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||$F}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,o=0,u=null;for(;t||r;){const f=!r||t&&t.currentIndex<f_(r,o,u)?t:r,y=f_(f,o,u),M=f.currentIndex;if(f===r)o--,r=r._nextRemoved;else if(t=t._next,null==f.previousIndex)o++;else{u||(u=[]);const H=y-o,$=M-o;if(H!=$){for(let ye=0;ye<H;ye++){const Te=ye<u.length?u[ye]:u[ye]=0,Ge=Te+ye;$<=Ge&&Ge<H&&(u[ye]=Te+1)}u[f.previousIndex]=$-H}}y!==M&&n(f,y,M)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!Ym(n))throw new dt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,u,f,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let y=0;y<this.length;y++)u=n[y],f=this._trackByFn(y,u),null!==t&&Object.is(t.trackById,f)?(r&&(t=this._verifyReinsertion(t,u,f,y)),Object.is(t.item,u)||this._addIdentityChange(t,u)):(t=this._mismatch(t,u,f,y),r=!0),t=t._next}else o=0,function UR(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,y=>{f=this._trackByFn(o,y),null!==t&&Object.is(t.trackById,f)?(r&&(t=this._verifyReinsertion(t,y,f,o)),Object.is(t.item,y)||this._addIdentityChange(t,y)):(t=this._mismatch(t,y,f,o),r=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,o){let u;return null===n?u=this._itTail:(u=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,u,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,u,o)):n=this._addAfter(new XF(t,r),u,o),n}_verifyReinsertion(n,t,r,o){let u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==u?n=this._reinsertAfter(u,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,u=n._nextRemoved;return null===o?this._removalsHead=u:o._nextRemoved=u,null===u?this._removalsTail=o:u._prevRemoved=o,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const o=null===t?this._itHead:t._next;return n._next=o,n._prev=t,null===o?this._itTail=n:o._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new d_),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new d_),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class XF{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KF{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class d_{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new KF,this.map.set(t,r)),r.add(n)}get(n,t){const o=this.map.get(n);return o?o.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function f_(e,n,t){const r=e.previousIndex;if(null===r)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+n+o}class h_{constructor(){}supports(n){return n instanceof Map||Gb(n)}create(){return new ZF}}class ZF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||Gb(n)))throw new dt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,o)=>{if(t&&t.key===o)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const u=this._getOrCreateRecordForKey(o,r);t=this._insertBeforeOrAppend(t,u)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const o=this._records.get(n);this._maybeAddToChanges(o,t);const u=o._prev,f=o._next;return u&&(u._next=f),f&&(f._prev=u),o._next=null,o._prev=null,o}const r=new qF(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class qF{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function p_(){return new Sh([new c_])}let Sh=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const o=r.factories.slice();t=t.concat(o)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||p_()),deps:[[e,new lh,new $a]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(null!=r)return r;throw new dt(901,!1)}}return e.\u0275prov=un({token:e,providedIn:"root",factory:p_}),e})();function g_(){return new uv([new h_])}let uv=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(r){const o=r.factories.slice();t=t.concat(o)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||g_()),deps:[[e,new lh,new $a]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(r)return r;throw new dt(901,!1)}}return e.\u0275prov=un({token:e,providedIn:"root",factory:g_}),e})();const e2=QS(null,"core",[]);let t2=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(Yt(Wp))},e.\u0275mod=fi({type:e}),e.\u0275inj=di({}),e})();function Yp(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let Ww=null;function Cf(){return Ww}class h2{}const io=new rn("DocumentToken");let $w=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:function(){return tn(g2)},providedIn:"platform"}),e})();const p2=new rn("Location Initialized");let g2=(()=>{class e extends $w{constructor(){super(),this._doc=tn(io),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cf().getBaseHref(this._doc)}onPopState(t){const r=Cf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Cf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:function(){return new e},providedIn:"platform"}),e})();function Yw(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function x_(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function _d(e){return e&&"?"!==e[0]?"?"+e:e}let _h=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:function(){return tn(D_)},providedIn:"root"}),e})();const E_=new rn("appBaseHref");let D_=(()=>{class e extends _h{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??tn(io).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Yw(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+_d(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const f=this.prepareExternalUrl(o+_d(u));this._platformLocation.pushState(t,r,f)}replaceState(t,r,o,u){const f=this.prepareExternalUrl(o+_d(u));this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(Yt($w),Yt(E_,8))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),v2=(()=>{class e extends _h{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Yw(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let f=this.prepareExternalUrl(o+_d(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,r,f)}replaceState(t,r,o,u){let f=this.prepareExternalUrl(o+_d(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(Yt($w),Yt(E_,8))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})(),Xw=(()=>{class e{constructor(t){this._subject=new ci,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function b2(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(x_(S_(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+_d(r))}normalize(t){return e.stripTrailingSlash(function y2(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,S_(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_d(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_d(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return e.normalizeQueryParams=_d,e.joinWithSlash=Yw,e.stripTrailingSlash=x_,e.\u0275fac=function(t){return new(t||e)(Yt(_h))},e.\u0275prov=un({token:e,factory:function(){return function m2(){return new Xw(Yt(_h))}()},providedIn:"root"}),e})();function S_(e){return e.replace(/\/index.html$/,"")}function L_(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===n)return decodeURIComponent(u)}return null}const iC=/\s+/,k_=[];let P_=(()=>{class e{constructor(t,r,o,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this.initialClasses=k_,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(iC):k_}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(iC):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const o=this.stateMap.get(t);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],o=t[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(iC).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return e.\u0275fac=function(t){return new(t||e)(ht(Sh),ht(uv),ht(xo),ht(Cd))},e.\u0275dir=xn({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class rB{constructor(n,t,r,o){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let B_=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,f)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new rB(o.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)r.remove(null===u?void 0:u);else if(null!==u){const y=r.get(u);r.move(y,f),V_(y,o)}});for(let o=0,u=r.length;o<u;o++){const y=r.get(o).context;y.index=o,y.count=u,y.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{V_(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(ht(gl),ht(pc),ht(Sh))},e.\u0275dir=xn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function V_(e,n){e.context.$implicit=n.item}let xf=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new iB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){H_("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){H_("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(ht(gl),ht(pc))},e.\u0275dir=xn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class iB{constructor(){this.$implicit=null,this.ngIf=null}}function H_(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Wn(n)}'.`)}let sC=(()=>{class e{constructor(t,r,o){this._ngEl=t,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[o,u]=t.split("."),f=-1===o.indexOf("-")?void 0:$o.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,o,u?`${r}${u}`:r,f):this._renderer.removeStyle(this._ngEl.nativeElement,o,f)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(ht(xo),ht(uv),ht(Cd))},e.\u0275dir=xn({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),G_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=fi({type:e}),e.\u0275inj=di({}),e})();const j_="browser";function W_(e){return"server"===e}let LB=(()=>{class e{}return e.\u0275prov=un({token:e,providedIn:"root",factory:()=>new kB(Yt(io),window)}),e})();class kB{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function PB(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const f=u.getElementById(n)||u.querySelector(`[name="${n}"]`);if(f)return f}o=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=$_(this.window.history)||$_(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $_(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Y_{}class oV extends h2{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fC extends oV{static makeCurrent(){!function f2(e){Ww||(Ww=e)}(new fC)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function aV(){return hv=hv||document.querySelector("base"),hv?hv.getAttribute("href"):null}();return null==t?null:function sV(e){Iy=Iy||document.createElement("a"),Iy.setAttribute("href",e);const n=Iy.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){hv=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return L_(document.cookie,n)}}let Iy,hv=null,uV=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();const hC=new rn("EventManagerPlugins");let Q_=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new dt(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return e.\u0275fac=function(t){return new(t||e)(Yt(hC),Yt(vi))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();class J_{constructor(n){this._doc=n}}const pC="ng-app-id";let eM=(()=>{class e{constructor(t,r,o,u={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=W_(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${pC}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const u=o.get(t);return u.usage+=r,u.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,u=o?.get(r);if(u?.parentNode===t)return o.delete(r),u.removeAttribute(pC),u;{const f=this.doc.createElement("style");return this.nonce&&f.setAttribute("nonce",this.nonce),f.textContent=r,this.platformIsServer&&f.setAttribute(pC,this.appId),f}}addStyleToHost(t,r){const o=this.getStyleElement(t,r);t.appendChild(o);const u=this.styleRef,f=u.get(r)?.elements;f?f.push(o):u.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return e.\u0275fac=function(t){return new(t||e)(Yt(io),Yt(Lm),Yt(yb,8),Yt(mf))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();const gC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vC=/%COMP%/g,hV=new rn("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function nM(e,n){return n.map(t=>t.replace(vC,e))}let rM=(()=>{class e{constructor(t,r,o,u,f,y,M,H=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=f,this.platformId=y,this.ngZone=M,this.nonce=H,this.rendererByCompId=new Map,this.platformIsServer=W_(y),this.defaultRenderer=new mC(t,f,M,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ma.ShadowDom&&(r={...r,encapsulation:Ma.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof oM?o.applyToHost(t):o instanceof yC&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const f=this.doc,y=this.ngZone,M=this.eventManager,H=this.sharedStylesHost,$=this.removeStylesOnCompDestroy,re=this.platformIsServer;switch(r.encapsulation){case Ma.Emulated:u=new oM(M,H,r,this.appId,$,f,y,re);break;case Ma.ShadowDom:return new mV(M,H,t,r,f,y,this.nonce,re);default:u=new yC(M,H,r,$,f,y,re)}u.onDestroy=()=>o.delete(r.id),o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return e.\u0275fac=function(t){return new(t||e)(Yt(Q_),Yt(eM),Yt(Lm),Yt(hV),Yt(io),Yt(mf),Yt(vi),Yt(yb))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();class mC{constructor(n,t,r,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(gC[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(iM(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(iM(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new dt(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,o){if(o){t=o+":"+t;const u=gC[o];u?n.setAttributeNS(u,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const o=gC[r];o?n.removeAttributeNS(o,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,o){o&($o.DashCase|$o.Important)?n.style.setProperty(t,r,o&$o.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&$o.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=Cf().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function iM(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class mV extends mC{constructor(n,t,r,o,u,f,y,M){super(n,u,f,M),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const H=nM(o.id,o.styles);for(const $ of H){const re=document.createElement("style");y&&re.setAttribute("nonce",y),re.textContent=$,this.shadowRoot.appendChild(re)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yC extends mC{constructor(n,t,r,o,u,f,y,M){super(n,u,f,y),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.rendererUsageCount=0,this.styles=M?nM(M,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class oM extends yC{constructor(n,t,r,o,u,f,y,M){const H=o+"-"+r.id;super(n,t,r,u,f,y,M,H),this.contentAttr=function pV(e){return"_ngcontent-%COMP%".replace(vC,e)}(H),this.hostAttr=function gV(e){return"_nghost-%COMP%".replace(vC,e)}(H)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let yV=(()=>{class e extends J_{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return e.\u0275fac=function(t){return new(t||e)(Yt(io))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();const aM=["alt","control","meta","shift"],bV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wV={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let CV=(()=>{class e extends J_{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,o){const u=e.parseEventName(r),f=e.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cf().onAndCancel(t,u.domEventName,f))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=e._normalizeKey(r.pop());let f="",y=r.indexOf("code");if(y>-1&&(r.splice(y,1),f="code."),aM.forEach(H=>{const $=r.indexOf(H);$>-1&&(r.splice($,1),f+=H+".")}),f+=u,0!=r.length||0===u.length)return null;const M={};return M.domEventName=o,M.fullKey=f,M}static matchEventFullKeyCode(t,r){let o=bV[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),aM.forEach(f=>{f!==o&&(0,wV[f])(t)&&(u+=f+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{e.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(Yt(io))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();const SV=QS(e2,"browser",[{provide:mf,useValue:j_},{provide:pE,useValue:function xV(){fC.makeCurrent()},multi:!0},{provide:io,useFactory:function DV(){return function Pr(e){Dn=e}(document),document},deps:[]}]),_V=new rn(""),uM=[{provide:hy,useClass:class lV{addToWindow(n){ai.getAngularTestability=(r,o=!0)=>{const u=n.findTestabilityInTree(r,o);if(null==u)throw new dt(5103,!1);return u},ai.getAllAngularTestabilities=()=>n.getAllTestabilities(),ai.getAllAngularRootElements=()=>n.getAllRootElements(),ai.frameworkStabilizers||(ai.frameworkStabilizers=[]),ai.frameworkStabilizers.push(r=>{const o=ai.getAllAngularTestabilities();let u=o.length,f=!1;const y=function(M){f=f||M,u--,0==u&&r(f)};o.forEach(M=>{M.whenStable(y)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?Cf().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:YS,useClass:Rw,deps:[vi,Lw,hy]},{provide:Rw,useClass:Rw,deps:[vi,Lw,hy]}],cM=[{provide:fb,useValue:"root"},{provide:lc,useFactory:function EV(){return new lc},deps:[]},{provide:hC,useClass:yV,multi:!0,deps:[io,vi,mf]},{provide:hC,useClass:CV,multi:!0,deps:[io]},rM,eM,Q_,{provide:xE,useExisting:rM},{provide:Y_,useClass:uV,deps:[]},[]];let MV=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Lm,useValue:t.appId}]}}}return e.\u0275fac=function(t){return new(t||e)(Yt(_V,12))},e.\u0275mod=fi({type:e}),e.\u0275inj=di({providers:[...cM,...uM],imports:[G_,t2]}),e})(),dM=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(Yt(io))},e.\u0275prov=un({token:e,factory:function(t){let r=null;return r=t?new t:function IV(){return new dM(Yt(io))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;let wC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:function(t){let r=null;return r=t?new(t||e):Yt(pM),r},providedIn:"root"}),e})(),pM=(()=>{class e extends wC{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case ri.NONE:return r;case ri.HTML:return pa(r,"HTML")?Co(r):nE(this._doc,String(r)).toString();case ri.STYLE:return pa(r,"Style")?Co(r):r;case ri.SCRIPT:if(pa(r,"Script"))return Co(r);throw new dt(5200,!1);case ri.URL:return pa(r,"URL")?Co(r):Ep(String(r));case ri.RESOURCE_URL:if(pa(r,"ResourceURL"))return Co(r);throw new dt(5201,!1);default:throw new dt(5202,!1)}}bypassSecurityTrustHtml(t){return function bd(e){return new cl(e)}(t)}bypassSecurityTrustStyle(t){return function gf(e){return new dl(e)}(t)}bypassSecurityTrustScript(t){return function Cp(e){return new ha(e)}(t)}bypassSecurityTrustUrl(t){return function wd(e){return new js(e)}(t)}bypassSecurityTrustResourceUrl(t){return function cs(e){return new Xa(e)}(t)}}return e.\u0275fac=function(t){return new(t||e)(Yt(io))},e.\u0275prov=un({token:e,factory:function(t){let r=null;return r=t?new t:function RV(e){return new pM(e.get(io))}(Yt(vu)),r},providedIn:"root"}),e})();var xu=(()=>((xu=xu||{})[xu.Hide=0]="Hide",xu[xu.Show=1]="Show",xu))();let vM=(()=>{class e{constructor(){this.toggleSubject=new Ft,this.toggleObservable=this.toggleSubject.asObservable()}hideAllComponents(t){this.toggleSubject.next({action:xu.Hide,type:t})}showAllComponents(t){this.toggleSubject.next({action:xu.Show,type:t})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ay(e){return!!e&&(e instanceof Ke||_(e.lift)&&_(e.subscribe))}const{isArray:LV}=Array,{getPrototypeOf:kV,prototype:PV,keys:FV}=Object;function mM(e){if(1===e.length){const n=e[0];if(LV(n))return{args:n,keys:null};if(function BV(e){return e&&"object"==typeof e&&kV(e)===PV}(n)){const t=FV(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:VV}=Array;function yM(e){return Mt(n=>function HV(e,n){return VV(n)?e(...n):e(n)}(e,n))}function bM(e,n){return e.reduce((t,r,o)=>(t[r]=n[o],t),{})}function Ny(...e){const n=So(e),t=Pa(e),{args:r,keys:o}=mM(e);if(0===r.length)return Ve([],n);const u=new Ke(function UV(e,n,t=Be){return r=>{wM(n,()=>{const{length:o}=e,u=new Array(o);let f=o,y=o;for(let M=0;M<o;M++)wM(n,()=>{const H=Ve(e[M],n);let $=!1;H.subscribe(ut(r,re=>{u[M]=re,$||($=!0,y--),y||r.next(t(u.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,n,o?f=>bM(o,f):Be));return t?u.pipe(yM(t)):u}function wM(e,n,t){e?Ca(t,e,n):n()}const Oy=L(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Ry(...e){return function zV(){return Si(1)}()(Ve(e,So(e)))}function CM(e){return new Ke(n=>{qo(e()).subscribe(n)})}function Xp(e,n){const t=_(e)?e:()=>e,r=o=>o.error(t());return new Ke(n?o=>n.schedule(r,0,o):r)}function CC(){return Je((e,n)=>{let t=null;e._refCount++;const r=ut(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const o=e._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class xC extends Ke{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,it(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new C;const t=this.getSubject();n.add(this.source.subscribe(ut(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=C.EMPTY)}return n}refCount(){return CC()(this)}}function Td(e){return e<=0?()=>xa:Je((n,t)=>{let r=0;n.subscribe(ut(t,o=>{++r<=e&&(t.next(o),e<=r&&t.complete())}))})}function xM(...e){const n=So(e);return Je((t,r)=>{(n?Ry(e,t,n):Ry(e,t)).subscribe(r)})}function Eu(e,n){return Je((t,r)=>{let o=0;t.subscribe(ut(r,u=>e.call(n,u,o++)&&r.next(u)))})}function Ly(e){return Je((n,t)=>{let r=!1;n.subscribe(ut(t,o=>{r=!0,t.next(o)},()=>{r||t.next(e),t.complete()}))})}function EM(e=GV){return Je((n,t)=>{let r=!1;n.subscribe(ut(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(e())))})}function GV(){return new Oy}function Mh(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Eu((o,u)=>e(o,u,r)):Be,Td(1),t?Ly(n):EM(()=>new Oy))}function Kp(e,n){return _(n)?Xi(e,n,1):Xi(e,1)}function ya(e,n,t){const r=_(e)||n||t?{next:e,error:n,complete:t}:e;return r?Je((o,u)=>{var f;null===(f=r.subscribe)||void 0===f||f.call(r);let y=!0;o.subscribe(ut(u,M=>{var H;null===(H=r.next)||void 0===H||H.call(r,M),u.next(M)},()=>{var M;y=!1,null===(M=r.complete)||void 0===M||M.call(r),u.complete()},M=>{var H;y=!1,null===(H=r.error)||void 0===H||H.call(r,M),u.error(M)},()=>{var M,H;y&&(null===(M=r.unsubscribe)||void 0===M||M.call(r)),null===(H=r.finalize)||void 0===H||H.call(r)}))}):Be}function Df(e){return Je((n,t)=>{let u,r=null,o=!1;r=n.subscribe(ut(t,void 0,void 0,f=>{u=qo(e(f,Df(e)(n))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function EC(e){return e<=0?()=>xa:Je((n,t)=>{let r=[];n.subscribe(ut(t,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Zp(e){return Je((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const mr="primary",pv=Symbol("RouteTitle");class XV{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function qp(e){return new XV(e)}function KV(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const o={};for(let u=0;u<r.length;u++){const f=r[u],y=e[u];if(f.startsWith(":"))o[f.substring(1)]=y;else if(f!==y.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function vc(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!DM(e[o],n[o]))return!1;return!0}function DM(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((o,u)=>r[u]===o)}return e===n}function SM(e){return e.length>0?e[e.length-1]:null}function Sf(e){return Ay(e)?e:Jg(e)?Ve(Promise.resolve(e)):qe(e)}const qV={exact:function TM(e,n,t){if(!Th(e.segments,n.segments)||!ky(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!TM(e.children[r],n.children[r],t))return!1;return!0},subset:IM},_M={exact:function QV(e,n){return vc(e,n)},subset:function JV(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>DM(e[t],n[t]))},ignored:()=>!0};function MM(e,n,t){return qV[t.paths](e.root,n.root,t.matrixParams)&&_M[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function IM(e,n,t){return AM(e,n,n.segments,t)}function AM(e,n,t,r){if(e.segments.length>t.length){const o=e.segments.slice(0,t.length);return!(!Th(o,t)||n.hasChildren()||!ky(o,t,r))}if(e.segments.length===t.length){if(!Th(e.segments,t)||!ky(e.segments,t,r))return!1;for(const o in n.children)if(!e.children[o]||!IM(e.children[o],n.children[o],r))return!1;return!0}{const o=t.slice(0,e.segments.length),u=t.slice(e.segments.length);return!!(Th(e.segments,o)&&ky(e.segments,o,r)&&e.children[mr])&&AM(e.children[mr],n,u,r)}}function ky(e,n,t){return n.every((r,o)=>_M[t](e[o].parameters,r.parameters))}class Qp{constructor(n=new mi([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qp(this.queryParams)),this._queryParamMap}toString(){return nH.serialize(this)}}class mi{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Py(this)}}class gv{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=qp(this.parameters)),this._parameterMap}toString(){return RM(this)}}function Th(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let vv=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:function(){return new DC},providedIn:"root"}),e})();class DC{parse(n){const t=new hH(n);return new Qp(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${mv(n.root,!0)}`,r=function oH(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(o=>`${Fy(t)}=${Fy(o)}`).join("&"):`${Fy(t)}=${Fy(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function rH(e){return encodeURI(e)}(n.fragment)}`:""}`}}const nH=new DC;function Py(e){return e.segments.map(n=>RM(n)).join("/")}function mv(e,n){if(!e.hasChildren())return Py(e);if(n){const t=e.children[mr]?mv(e.children[mr],!1):"",r=[];return Object.entries(e.children).forEach(([o,u])=>{o!==mr&&r.push(`${o}:${mv(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function tH(e,n){let t=[];return Object.entries(e.children).forEach(([r,o])=>{r===mr&&(t=t.concat(n(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==mr&&(t=t.concat(n(o,r)))}),t}(e,(r,o)=>o===mr?[mv(e.children[mr],!1)]:[`${o}:${mv(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[mr]?`${Py(e)}/${t[0]}`:`${Py(e)}/(${t.join("//")})`}}function NM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fy(e){return NM(e).replace(/%3B/gi,";")}function SC(e){return NM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function By(e){return decodeURIComponent(e)}function OM(e){return By(e.replace(/\+/g,"%20"))}function RM(e){return`${SC(e.path)}${function iH(e){return Object.keys(e).map(n=>`;${SC(n)}=${SC(e[n])}`).join("")}(e.parameters)}`}const aH=/^[^\/()?;#]+/;function _C(e){const n=e.match(aH);return n?n[0]:""}const sH=/^[^\/()?;=#]+/,uH=/^[^=?&#]+/,dH=/^[^&#]+/;class hH{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mi([],{}):new mi([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[mr]=new mi(n,t)),r}parseSegment(){const n=_C(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new dt(4009,!1);return this.capture(n),new gv(By(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function lH(e){const n=e.match(sH);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=_C(this.remaining);o&&(r=o,this.capture(r))}n[By(t)]=By(r)}parseQueryParam(n){const t=function cH(e){const n=e.match(uH);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const f=function fH(e){const n=e.match(dH);return n?n[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const o=OM(t),u=OM(r);if(n.hasOwnProperty(o)){let f=n[o];Array.isArray(f)||(f=[f],n[o]=f),f.push(u)}else n[o]=u}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=_C(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new dt(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):n&&(u=mr);const f=this.parseChildren();t[u]=1===Object.keys(f).length?f[mr]:new mi([],f),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new dt(4011,!1)}}function LM(e){return e.segments.length>0?new mi([],{[mr]:e}):e}function kM(e){const n={};for(const r of Object.keys(e.children)){const u=kM(e.children[r]);if(r===mr&&0===u.segments.length&&u.hasChildren())for(const[f,y]of Object.entries(u.children))n[f]=y;else(u.segments.length>0||u.hasChildren())&&(n[r]=u)}return function pH(e){if(1===e.numberOfChildren&&e.children[mr]){const n=e.children[mr];return new mi(e.segments.concat(n.segments),n.children)}return e}(new mi(e.segments,n))}function Ih(e){return e instanceof Qp}function PM(e){let n;const o=LM(function t(u){const f={};for(const M of u.children){const H=t(M);f[M.outlet]=H}const y=new mi(u.url,f);return u===e&&(n=y),y}(e.root));return n??o}function FM(e,n,t,r){let o=e;for(;o.parent;)o=o.parent;if(0===n.length)return MC(o,o,o,t,r);const u=function vH(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new VM(!0,0,e);let n=0,t=!1;const r=e.reduce((o,u,f)=>{if("object"==typeof u&&null!=u){if(u.outlets){const y={};return Object.entries(u.outlets).forEach(([M,H])=>{y[M]="string"==typeof H?H.split("/"):H}),[...o,{outlets:y}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===f?(u.split("/").forEach((y,M)=>{0==M&&"."===y||(0==M&&""===y?t=!0:".."===y?n++:""!=y&&o.push(y))}),o):[...o,u]},[]);return new VM(t,n,r)}(n);if(u.toRoot())return MC(o,o,new mi([],{}),t,r);const f=function mH(e,n,t){if(e.isAbsolute)return new Hy(n,!0,0);if(!t)return new Hy(n,!1,NaN);if(null===t.parent)return new Hy(t,!0,0);const r=Vy(e.commands[0])?0:1;return function yH(e,n,t){let r=e,o=n,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new dt(4005,!1);o=r.segments.length}return new Hy(r,!1,o-u)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(u,o,e),y=f.processChildren?bv(f.segmentGroup,f.index,u.commands):HM(f.segmentGroup,f.index,u.commands);return MC(o,f.segmentGroup,y,t,r)}function Vy(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function yv(e){return"object"==typeof e&&null!=e&&e.outlets}function MC(e,n,t,r,o){let f,u={};r&&Object.entries(r).forEach(([M,H])=>{u[M]=Array.isArray(H)?H.map($=>`${$}`):`${H}`}),f=e===n?t:BM(e,n,t);const y=LM(kM(f));return new Qp(y,u,o)}function BM(e,n,t){const r={};return Object.entries(e.children).forEach(([o,u])=>{r[o]=u===n?t:BM(u,n,t)}),new mi(e.segments,r)}class VM{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Vy(r[0]))throw new dt(4003,!1);const o=r.find(yv);if(o&&o!==SM(r))throw new dt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hy{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function HM(e,n,t){if(e||(e=new mi([],{})),0===e.segments.length&&e.hasChildren())return bv(e,n,t);const r=function wH(e,n,t){let r=0,o=n;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=t.length)return u;const f=e.segments[o],y=t[r];if(yv(y))break;const M=`${y}`,H=r<t.length-1?t[r+1]:null;if(o>0&&void 0===M)break;if(M&&H&&"object"==typeof H&&void 0===H.outlets){if(!zM(M,H,f))return u;r+=2}else{if(!zM(M,{},f))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,n,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const u=new mi(e.segments.slice(0,r.pathIndex),{});return u.children[mr]=new mi(e.segments.slice(r.pathIndex),e.children),bv(u,0,o)}return r.match&&0===o.length?new mi(e.segments,{}):r.match&&!e.hasChildren()?TC(e,n,t):r.match?bv(e,0,o):TC(e,n,t)}function bv(e,n,t){if(0===t.length)return new mi(e.segments,{});{const r=function bH(e){return yv(e[0])?e[0].outlets:{[mr]:e}}(t),o={};if(!r[mr]&&e.children[mr]&&1===e.numberOfChildren&&0===e.children[mr].segments.length){const u=bv(e.children[mr],n,t);return new mi(e.segments,u.children)}return Object.entries(r).forEach(([u,f])=>{"string"==typeof f&&(f=[f]),null!==f&&(o[u]=HM(e.children[u],n,f))}),Object.entries(e.children).forEach(([u,f])=>{void 0===r[u]&&(o[u]=f)}),new mi(e.segments,o)}}function TC(e,n,t){const r=e.segments.slice(0,n);let o=0;for(;o<t.length;){const u=t[o];if(yv(u)){const M=CH(u.outlets);return new mi(r,M)}if(0===o&&Vy(t[0])){r.push(new gv(e.segments[n].path,UM(t[0]))),o++;continue}const f=yv(u)?u.outlets[mr]:`${u}`,y=o<t.length-1?t[o+1]:null;f&&y&&Vy(y)?(r.push(new gv(f,UM(y))),o+=2):(r.push(new gv(f,{})),o++)}return new mi(r,{})}function CH(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=TC(new mi([],{}),0,r))}),n}function UM(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function zM(e,n,t){return e==t.path&&vc(n,t.parameters)}const wv="imperative";class mc{constructor(n,t){this.id=n,this.url=t}}class IC extends mc{constructor(n,t,r="imperative",o=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ah extends mc{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Uy extends mc{constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cv extends mc{constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o,this.type=16}}class AC extends mc{constructor(n,t,r,o){super(n,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xH extends mc{constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EH extends mc{constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DH extends mc{constructor(n,t,r,o,u){super(n,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class SH extends mc{constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _H extends mc{constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MH{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class TH{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class IH{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AH{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NH{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OH{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GM{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class RH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new xv,this.attachRef=null}}let xv=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new RH,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class jM{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=NC(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=NC(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=OC(n,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return OC(n,this._root).map(t=>t.value)}}function NC(e,n){if(e===n.value)return n;for(const t of n.children){const r=NC(e,t);if(r)return r}return null}function OC(e,n){if(e===n.value)return[n];for(const t of n.children){const r=OC(e,t);if(r.length)return r.unshift(n),r}return[]}class Id{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Jp(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class WM extends jM{constructor(n,t){super(n),this.snapshot=t,RC(this,n)}toString(){return this.snapshot.toString()}}function $M(e,n){const t=function LH(e,n){const f=new zy([],{},{},"",{},mr,n,null,{});return new XM("",new Id(f,[]))}(0,n),r=new ln([new gv("",{})]),o=new ln({}),u=new ln({}),f=new ln({}),y=new ln(""),M=new eg(r,o,f,y,u,mr,n,t.root);return M.snapshot=t.root,new WM(new Id(M,[]),t)}class eg{constructor(n,t,r,o,u,f,y,M){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=u,this.outlet=f,this.component=y,this._futureSnapshot=M,this.title=this.dataSubject?.pipe(Mt(H=>H[pv]))??qe(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Mt(n=>qp(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Mt(n=>qp(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function YM(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function kH(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class zy{get title(){return this.data?.[pv]}constructor(n,t,r,o,u,f,y,M,H){this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=f,this.component=y,this.routeConfig=M,this._resolve=H}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class XM extends jM{constructor(n,t){super(t),this.url=n,RC(this,t)}toString(){return KM(this._root)}}function RC(e,n){n.value._routerState=e,n.children.forEach(t=>RC(e,t))}function KM(e){const n=e.children.length>0?` { ${e.children.map(KM).join(", ")} } `:"";return`${e.value}${n}`}function LC(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,vc(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),vc(n.params,t.params)||e.paramsSubject.next(t.params),function ZV(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!vc(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),vc(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function kC(e,n){const t=vc(e.params,n.params)&&function eH(e,n){return Th(e,n)&&e.every((t,r)=>vc(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||kC(e.parent,n.parent))}let PC=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=mr,this.activateEvents=new ci,this.deactivateEvents=new ci,this.attachEvents=new ci,this.detachEvents=new ci,this.parentContexts=tn(xv),this.location=tn(gl),this.changeDetector=tn($p),this.environmentInjector=tn(sc),this.inputBinder=tn(Gy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new dt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new dt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new dt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new dt(4013,!1);this._activatedRoute=t;const o=this.location,f=t.snapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,M=new PH(t,y,o.injector);this.activated=o.createComponent(f,{index:o.length,injector:M,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=xn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ia]}),e})();class PH{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===eg?this.route:n===xv?this.childContexts:this.parent.get(n,t)}}const Gy=new rn("");let ZM=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=Ny([r.queryParams,r.params,r.data]).pipe(Ht(([u,f,y],M)=>(y={...u,...f,...y},0===M?qe(y):Promise.resolve(y)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const f=function d2(e){const n=Or(e);if(!n)return null;const t=new Yg(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(f)for(const{templateName:y}of f.inputs)t.activatedComponentRef.setInput(y,u[y]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();function Ev(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const o=function BH(e,n,t){return n.children.map(r=>{for(const o of t.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Ev(e,r,o);return Ev(e,r)})}(e,n,t);return new Id(r,o)}{if(e.shouldAttach(n.value)){const u=e.retrieve(n.value);if(null!==u){const f=u.route;return f.value._futureSnapshot=n.value,f.children=n.children.map(y=>Ev(e,y)),f}}const r=function VH(e){return new eg(new ln(e.url),new ln(e.params),new ln(e.queryParams),new ln(e.fragment),new ln(e.data),e.outlet,e.component,e)}(n.value),o=n.children.map(u=>Ev(e,u));return new Id(r,o)}}const FC="ngNavigationCancelingError";function qM(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=Ih(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=QM(!1,0,n);return o.url=t,o.navigationBehaviorOptions=r,o}function QM(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[FC]=!0,r.cancellationCode=n,t&&(r.url=t),r}function JM(e){return eT(e)&&Ih(e.url)}function eT(e){return e&&e[FC]}let tT=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ti({type:e,selectors:[["ng-component"]],standalone:!0,features:[q1],decls:1,vars:0,template:function(t,r){1&t&&Xn(0,"router-outlet")},dependencies:[PC],encapsulation:2}),e})();function BC(e){const n=e.children&&e.children.map(BC),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==mr&&(t.component=tT),t}function Du(e){return e.outlet||mr}function Dv(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class $H{constructor(n,t,r,o,u){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=u}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),LC(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const o=Jp(t);n.children.forEach(u=>{const f=u.value.outlet;this.deactivateRoutes(u,o[f],r),delete o[f]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(n,t,r){const o=n.value,u=t?t.value:null;if(o===u)if(o.component){const f=r.getContext(o.outlet);f&&this.deactivateChildRoutes(n,t,f.children)}else this.deactivateChildRoutes(n,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,u=Jp(n);for(const f of Object.keys(u))this.deactivateRouteAndItsChildren(u[f],o);if(r&&r.outlet){const f=r.outlet.detach(),y=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:f,route:n,contexts:y})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,u=Jp(n);for(const f of Object.keys(u))this.deactivateRouteAndItsChildren(u[f],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const o=Jp(t);n.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new OH(u.value.snapshot))}),n.children.length&&this.forwardEvent(new AH(n.value.snapshot))}activateRoutes(n,t,r){const o=n.value,u=t?t.value:null;if(LC(o),o===u)if(o.component){const f=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,t,f.children)}else this.activateChildRoutes(n,t,r);else if(o.component){const f=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const y=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),f.children.onOutletReAttached(y.contexts),f.attachRef=y.componentRef,f.route=y.route.value,f.outlet&&f.outlet.attach(y.componentRef,y.route.value),LC(y.route.value),this.activateChildRoutes(n,null,f.children)}else{const y=Dv(o.snapshot);f.attachRef=null,f.route=o,f.injector=y,f.outlet&&f.outlet.activateWith(o,f.injector),this.activateChildRoutes(n,null,f.children)}}else this.activateChildRoutes(n,null,r)}}class nT{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class jy{constructor(n,t){this.component=n,this.route=t}}function YH(e,n,t){const r=e._root;return Sv(r,n?n._root:null,t,[r.value])}function tg(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function Lu(e){return null!==Da(e)}(e)?n.get(e):e:r}function Sv(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Jp(n);return e.children.forEach(f=>{(function KH(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=e.value,f=n?n.value:null,y=t?t.getContext(e.value.outlet):null;if(f&&u.routeConfig===f.routeConfig){const M=function ZH(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!Th(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Th(e.url,n.url)||!vc(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kC(e,n)||!vc(e.queryParams,n.queryParams);default:return!kC(e,n)}}(f,u,u.routeConfig.runGuardsAndResolvers);M?o.canActivateChecks.push(new nT(r)):(u.data=f.data,u._resolvedData=f._resolvedData),Sv(e,n,u.component?y?y.children:null:t,r,o),M&&y&&y.outlet&&y.outlet.isActivated&&o.canDeactivateChecks.push(new jy(y.outlet.component,f))}else f&&_v(n,y,o),o.canActivateChecks.push(new nT(r)),Sv(e,null,u.component?y?y.children:null:t,r,o)})(f,u[f.value.outlet],t,r.concat([f.value]),o),delete u[f.value.outlet]}),Object.entries(u).forEach(([f,y])=>_v(y,t.getContext(f),o)),o}function _v(e,n,t){const r=Jp(e),o=e.value;Object.entries(r).forEach(([u,f])=>{_v(f,o.component?n?n.children.getContext(u):null:n,t)}),t.canDeactivateChecks.push(new jy(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function Mv(e){return"function"==typeof e}function rT(e){return e instanceof Oy||"EmptyError"===e?.name}const Wy=Symbol("INITIAL_VALUE");function ng(){return Ht(e=>Ny(e.map(n=>n.pipe(Td(1),xM(Wy)))).pipe(Mt(n=>{for(const t of n)if(!0!==t){if(t===Wy)return Wy;if(!1===t||t instanceof Qp)return t}return!0}),Eu(n=>n!==Wy),Td(1)))}function iT(e){return function nt(...e){return lt(e)}(ya(n=>{if(Ih(n))throw qM(0,n)}),Mt(n=>!0===n))}class $y{constructor(n){this.segmentGroup=n||null}}class oT{constructor(n){this.urlTree=n}}function rg(e){return Xp(new $y(e))}function aT(e){return Xp(new oT(e))}class v5{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new dt(4002,!1)}lineralizeSegments(n,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return qe(r);if(o.numberOfChildren>1||!o.children[mr])return Xp(new dt(4e3,!1));o=o.children[mr]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,o){const u=this.createSegmentGroup(n,t.root,r,o);return new Qp(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const y=u.substring(1);r[o]=t[y]}else r[o]=u}),r}createSegmentGroup(n,t,r,o){const u=this.createSegments(n,t.segments,r,o);let f={};return Object.entries(t.children).forEach(([y,M])=>{f[y]=this.createSegmentGroup(n,M,r,o)}),new mi(u,f)}createSegments(n,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(n,u,o):this.findOrReturn(u,r))}findPosParam(n,t,r){const o=r[t.path.substring(1)];if(!o)throw new dt(4001,!1);return o}findOrReturn(n,t){let r=0;for(const o of t){if(o.path===n.path)return t.splice(r),o;r++}return n}}const VC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function m5(e,n,t,r,o){const u=HC(e,n,t);return u.matched?(r=function HH(e,n){return e.providers&&!e._injector&&(e._injector=hw(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function h5(e,n,t,r){const o=n.canMatch;return o&&0!==o.length?qe(o.map(f=>{const y=tg(f,e);return Sf(function n5(e){return e&&Mv(e.canMatch)}(y)?y.canMatch(n,t):e.runInContext(()=>y(n,t)))})).pipe(ng(),iT()):qe(!0)}(r,n,t).pipe(Mt(f=>!0===f?u:{...VC}))):qe(u)}function HC(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...VC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(n.matcher||KV)(t,e,n);if(!o)return{...VC};const u={};Object.entries(o.posParams??{}).forEach(([y,M])=>{u[y]=M.path});const f=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:f,positionalParamSegments:o.posParams??{}}}function sT(e,n,t,r){return t.length>0&&function w5(e,n,t){return t.some(r=>Yy(e,n,r)&&Du(r)!==mr)}(e,t,r)?{segmentGroup:new mi(n,b5(r,new mi(t,e.children))),slicedSegments:[]}:0===t.length&&function C5(e,n,t){return t.some(r=>Yy(e,n,r))}(e,t,r)?{segmentGroup:new mi(e.segments,y5(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new mi(e.segments,e.children),slicedSegments:t}}function y5(e,n,t,r,o){const u={};for(const f of r)if(Yy(e,t,f)&&!o[Du(f)]){const y=new mi([],{});u[Du(f)]=y}return{...o,...u}}function b5(e,n){const t={};t[mr]=n;for(const r of e)if(""===r.path&&Du(r)!==mr){const o=new mi([],{});t[Du(r)]=o}return t}function Yy(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class S5{constructor(n,t,r,o,u,f,y){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=f,this.urlSerializer=y,this.allowRedirects=!0,this.applyRedirects=new v5(this.urlSerializer,this.urlTree)}noMatchError(n){return new dt(4002,!1)}recognize(){const n=sT(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,mr).pipe(Df(t=>{if(t instanceof oT)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof $y?this.noMatchError(t):t}),Mt(t=>{const r=new zy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},mr,this.rootComponentType,null,{}),o=new Id(r,t),u=new XM("",o),f=function gH(e,n,t=null,r=null){return FM(PM(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return f.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(f),this.inheritParamsAndData(u._root),{state:u,tree:f}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,mr).pipe(Df(r=>{throw r instanceof $y?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=YM(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,o,!0)}processChildren(n,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return Ve(o).pipe(Kp(u=>{const f=r.children[u],y=function jH(e,n){const t=e.filter(r=>Du(r)===n);return t.push(...e.filter(r=>Du(r)!==n)),t}(t,u);return this.processSegmentGroup(n,y,f,u)}),function WV(e,n){return Je(function jV(e,n,t,r,o){return(u,f)=>{let y=t,M=n,H=0;u.subscribe(ut(f,$=>{const re=H++;M=y?e(M,$,re):(y=!0,$),r&&f.next(M)},o&&(()=>{y&&f.next(M),f.complete()})))}}(e,n,arguments.length>=2,!0))}((u,f)=>(u.push(...f),u)),Ly(null),function $V(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Eu((o,u)=>e(o,u,r)):Be,EC(1),t?Ly(n):EM(()=>new Oy))}(),Xi(u=>{if(null===u)return rg(r);const f=lT(u);return function _5(e){e.sort((n,t)=>n.value.outlet===mr?-1:t.value.outlet===mr?1:n.value.outlet.localeCompare(t.value.outlet))}(f),qe(f)}))}processSegment(n,t,r,o,u,f){return Ve(t).pipe(Kp(y=>this.processSegmentAgainstRoute(y._injector??n,t,y,r,o,u,f).pipe(Df(M=>{if(M instanceof $y)return qe(null);throw M}))),Mh(y=>!!y),Df(y=>{if(rT(y))return function E5(e,n,t){return 0===n.length&&!e.children[t]}(r,o,u)?qe([]):rg(r);throw y}))}processSegmentAgainstRoute(n,t,r,o,u,f,y){return function x5(e,n,t,r){return!!(Du(e)===r||r!==mr&&Yy(n,t,e))&&("**"===e.path||HC(n,e,t).matched)}(r,o,u,f)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,o,r,u,f,y):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,o,t,r,u,f):rg(o):rg(o)}expandSegmentAgainstRouteUsingRedirect(n,t,r,o,u,f){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,o,f):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,o,u,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,o){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?aT(u):this.applyRedirects.lineralizeSegments(r,u).pipe(Xi(f=>{const y=new mi(f,{});return this.processSegment(n,t,y,f,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,o,u,f){const{matched:y,consumedSegments:M,remainingSegments:H,positionalParamSegments:$}=HC(t,o,u);if(!y)return rg(t);const re=this.applyRedirects.applyRedirectCommands(M,o.redirectTo,$);return o.redirectTo.startsWith("/")?aT(re):this.applyRedirects.lineralizeSegments(o,re).pipe(Xi(ye=>this.processSegment(n,r,t,ye.concat(H),f,!1)))}matchSegmentAgainstRoute(n,t,r,o,u,f){let y;if("**"===r.path){const M=o.length>0?SM(o).parameters:{};y=qe({snapshot:new zy(o,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uT(r),Du(r),r.component??r._loadedComponent??null,r,cT(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else y=m5(t,r,o,n).pipe(Mt(({matched:M,consumedSegments:H,remainingSegments:$,parameters:re})=>M?{snapshot:new zy(H,re,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uT(r),Du(r),r.component??r._loadedComponent??null,r,cT(r)),consumedSegments:H,remainingSegments:$}:null));return y.pipe(Ht(M=>null===M?rg(t):this.getChildConfig(n=r._injector??n,r,o).pipe(Ht(({routes:H})=>{const $=r._loadedInjector??n,{snapshot:re,consumedSegments:ye,remainingSegments:Te}=M,{segmentGroup:Ge,slicedSegments:$e}=sT(t,ye,Te,H);if(0===$e.length&&Ge.hasChildren())return this.processChildren($,H,Ge).pipe(Mt(Dt=>null===Dt?null:[new Id(re,Dt)]));if(0===H.length&&0===$e.length)return qe([new Id(re,[])]);const ft=Du(r)===u;return this.processSegment($,H,Ge,$e,ft?mr:u,!0).pipe(Mt(Dt=>[new Id(re,Dt)]))}))))}getChildConfig(n,t,r){return t.children?qe({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?qe({routes:t._loadedRoutes,injector:t._loadedInjector}):function f5(e,n,t,r){const o=n.canLoad;return void 0===o||0===o.length?qe(!0):qe(o.map(f=>{const y=tg(f,e);return Sf(function QH(e){return e&&Mv(e.canLoad)}(y)?y.canLoad(n,t):e.runInContext(()=>y(n,t)))})).pipe(ng(),iT())}(n,t,r).pipe(Xi(o=>o?this.configLoader.loadChildren(n,t).pipe(ya(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function g5(e){return Xp(QM(!1,3))}())):qe({routes:[],injector:n})}}function M5(e){const n=e.value.routeConfig;return n&&""===n.path}function lT(e){const n=[],t=new Set;for(const r of e){if(!M5(r)){n.push(r);continue}const o=n.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):n.push(r)}for(const r of t){const o=lT(r.children);n.push(new Id(r.value,o))}return n.filter(r=>!t.has(r))}function uT(e){return e.data||{}}function cT(e){return e.resolve||{}}function dT(e){return"string"==typeof e.title||null===e.title}function UC(e){return Ht(n=>{const t=e(n);return t?Ve(t).pipe(Mt(()=>n)):qe(n)})}const ig=new rn("ROUTES");let zC=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=tn(VS)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return qe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Sf(t.loadComponent()).pipe(Mt(fT),ya(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Zp(()=>{this.componentLoaders.delete(t)})),o=new xC(r,()=>new Ft).pipe(CC());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return qe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Mt(y=>{this.onLoadEndListener&&this.onLoadEndListener(r);let M,H;return Array.isArray(y)?H=y:(M=y.create(t).injector,H=M.get(ig,[],An.Self|An.Optional).flat()),{routes:H.map(BC),injector:M}}),Zp(()=>{this.childrenLoaders.delete(r)})),f=new xC(u,()=>new Ft).pipe(CC());return this.childrenLoaders.set(r,f),f}loadModuleFactoryOrRoutes(t){return Sf(t()).pipe(Mt(fT),Xi(r=>r instanceof K1||Array.isArray(r)?qe(r):Ve(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function fT(e){return function L5(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Xy=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ft,this.configLoader=tn(zC),this.environmentInjector=tn(sc),this.urlSerializer=tn(vv),this.rootContexts=tn(xv),this.inputBindingEnabled=null!==tn(Gy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>qe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new TH(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new MH(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new ln({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wv,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Eu(r=>0!==r.id),Mt(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Ht(r=>{let o=!1,u=!1;return qe(r).pipe(ya(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ht(f=>{const y=t.browserUrlTree.toString(),M=!t.navigated||f.extractedUrl.toString()!==y||y!==t.currentUrlTree.toString();if(!M&&"reload"!==(f.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const $="";return this.events.next(new Cv(f.id,t.serializeUrl(r.rawUrl),$,0)),t.rawUrlTree=f.rawUrl,f.resolve(null),xa}if(t.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return hT(f.source)&&(t.browserUrlTree=f.extractedUrl),qe(f).pipe(Ht($=>{const re=this.transitions?.getValue();return this.events.next(new IC($.id,this.urlSerializer.serialize($.extractedUrl),$.source,$.restoredState)),re!==this.transitions?.getValue()?xa:Promise.resolve($)}),function T5(e,n,t,r,o,u){return Xi(f=>function D5(e,n,t,r,o,u,f="emptyOnly"){return new S5(e,n,t,r,o,f,u).recognize()}(e,n,t,r,f.extractedUrl,o,u).pipe(Mt(({state:y,tree:M})=>({...f,targetSnapshot:y,urlAfterRedirects:M}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ya($=>{if(r.targetSnapshot=$.targetSnapshot,r.urlAfterRedirects=$.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:$.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!$.extras.skipLocationChange){const ye=t.urlHandlingStrategy.merge($.urlAfterRedirects,$.rawUrl);t.setBrowserUrl(ye,$)}t.browserUrlTree=$.urlAfterRedirects}const re=new xH($.id,this.urlSerializer.serialize($.extractedUrl),this.urlSerializer.serialize($.urlAfterRedirects),$.targetSnapshot);this.events.next(re)}));if(M&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:$,extractedUrl:re,source:ye,restoredState:Te,extras:Ge}=f,$e=new IC($,this.urlSerializer.serialize(re),ye,Te);this.events.next($e);const ft=$M(0,this.rootComponentType).snapshot;return qe(r={...f,targetSnapshot:ft,urlAfterRedirects:re,extras:{...Ge,skipLocationChange:!1,replaceUrl:!1}})}{const $="";return this.events.next(new Cv(f.id,t.serializeUrl(r.extractedUrl),$,1)),t.rawUrlTree=f.rawUrl,f.resolve(null),xa}}),ya(f=>{const y=new EH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}),Mt(f=>r={...f,guards:YH(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function i5(e,n){return Xi(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:f}}=t;return 0===f.length&&0===u.length?qe({...t,guardsResult:!0}):function o5(e,n,t,r){return Ve(e).pipe(Xi(o=>function d5(e,n,t,r,o){const u=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return u&&0!==u.length?qe(u.map(y=>{const M=Dv(n)??o,H=tg(y,M);return Sf(function t5(e){return e&&Mv(e.canDeactivate)}(H)?H.canDeactivate(e,n,t,r):M.runInContext(()=>H(e,n,t,r))).pipe(Mh())})).pipe(ng()):qe(!0)}(o.component,o.route,t,n,r)),Mh(o=>!0!==o,!0))}(f,r,o,e).pipe(Xi(y=>y&&function qH(e){return"boolean"==typeof e}(y)?function a5(e,n,t,r){return Ve(n).pipe(Kp(o=>Ry(function l5(e,n){return null!==e&&n&&n(new IH(e)),qe(!0)}(o.route.parent,r),function s5(e,n){return null!==e&&n&&n(new NH(e)),qe(!0)}(o.route,r),function c5(e,n,t){const r=n[n.length-1],u=n.slice(0,n.length-1).reverse().map(f=>function XH(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(f)).filter(f=>null!==f).map(f=>CM(()=>qe(f.guards.map(M=>{const H=Dv(f.node)??t,$=tg(M,H);return Sf(function e5(e){return e&&Mv(e.canActivateChild)}($)?$.canActivateChild(r,e):H.runInContext(()=>$(r,e))).pipe(Mh())})).pipe(ng())));return qe(u).pipe(ng())}(e,o.path,t),function u5(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return qe(!0);const o=r.map(u=>CM(()=>{const f=Dv(n)??t,y=tg(u,f);return Sf(function JH(e){return e&&Mv(e.canActivate)}(y)?y.canActivate(n,e):f.runInContext(()=>y(n,e))).pipe(Mh())}));return qe(o).pipe(ng())}(e,o.route,t))),Mh(o=>!0!==o,!0))}(r,u,e,n):qe(y)),Mt(y=>({...t,guardsResult:y})))})}(this.environmentInjector,f=>this.events.next(f)),ya(f=>{if(r.guardsResult=f.guardsResult,Ih(f.guardsResult))throw qM(0,f.guardsResult);const y=new DH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(y)}),Eu(f=>!!f.guardsResult||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),UC(f=>{if(f.guards.canActivateChecks.length)return qe(f).pipe(ya(y=>{const M=new SH(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(M)}),Ht(y=>{let M=!1;return qe(y).pipe(function I5(e,n){return Xi(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return qe(t);let u=0;return Ve(o).pipe(Kp(f=>function A5(e,n,t,r){const o=e.routeConfig,u=e._resolve;return void 0!==o?.title&&!dT(o)&&(u[pv]=o.title),function N5(e,n,t,r){const o=function O5(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===o.length)return qe({});const u={};return Ve(o).pipe(Xi(f=>function R5(e,n,t,r){const o=Dv(n)??r,u=tg(e,o);return Sf(u.resolve?u.resolve(n,t):o.runInContext(()=>u(n,t)))}(e[f],n,t,r).pipe(Mh(),ya(y=>{u[f]=y}))),EC(1),function YV(e){return Mt(()=>e)}(u),Df(f=>rT(f)?xa:Xp(f)))}(u,e,n,r).pipe(Mt(f=>(e._resolvedData=f,e.data=YM(e,t).resolve,o&&dT(o)&&(e.data[pv]=o.title),null)))}(f.route,r,e,n)),ya(()=>u++),EC(1),Xi(f=>u===o.length?qe(t):xa))})}(t.paramsInheritanceStrategy,this.environmentInjector),ya({next:()=>M=!0,complete:()=>{M||(t.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),ya(y=>{const M=new _H(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(M)}))}),UC(f=>{const y=M=>{const H=[];M.routeConfig?.loadComponent&&!M.routeConfig._loadedComponent&&H.push(this.configLoader.loadComponent(M.routeConfig).pipe(ya($=>{M.component=$}),Mt(()=>{})));for(const $ of M.children)H.push(...y($));return H};return Ny(y(f.targetSnapshot.root)).pipe(Ly(),Td(1))}),UC(()=>this.afterPreactivation()),Mt(f=>{const y=function FH(e,n,t){const r=Ev(e,n._root,t?t._root:void 0);return new WM(r,n)}(t.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return r={...f,targetRouterState:y}}),ya(f=>{t.currentUrlTree=f.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),t.routerState=f.targetRouterState,"deferred"===t.urlUpdateStrategy&&(f.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,f),t.browserUrlTree=f.urlAfterRedirects)}),((e,n,t,r)=>Mt(o=>(new $H(n,o.targetRouterState,o.currentRouterState,t,r).activate(e),o)))(this.rootContexts,t.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),Td(1),ya({next:f=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ah(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{o=!0}}),Zp(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Df(f=>{if(u=!0,eT(f)){JM(f)||(t.navigated=!0,t.restoreHistory(r,!0));const y=new Uy(r.id,this.urlSerializer.serialize(r.extractedUrl),f.message,f.cancellationCode);if(this.events.next(y),JM(f)){const M=t.urlHandlingStrategy.merge(f.url,t.rawUrlTree),H={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||hT(r.source)};t.scheduleNavigation(M,wv,null,H,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const y=new AC(r.id,this.urlSerializer.serialize(r.extractedUrl),f,r.targetSnapshot??void 0);this.events.next(y);try{r.resolve(t.errorHandler(f))}catch(M){r.reject(M)}}return xa}))}))}cancelNavigationTransition(t,r,o){const u=new Uy(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(u),t.resolve(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function hT(e){return e!==wv}let pT=(()=>{class e{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===mr);return r}getResolvedTitleForRoute(t){return t.data[pv]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:function(){return tn(k5)},providedIn:"root"}),e})(),k5=(()=>{class e extends pT{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(t){return new(t||e)(Yt(dM))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),P5=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:function(){return tn(B5)},providedIn:"root"}),e})();class F5{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let B5=(()=>{class e extends F5{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ti(e)))(r||e)}}(),e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ky=new rn("",{providedIn:"root",factory:()=>({})});let V5=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:function(){return tn(H5)},providedIn:"root"}),e})(),H5=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var vl=(()=>((vl=vl||{})[vl.COMPLETE=0]="COMPLETE",vl[vl.FAILED=1]="FAILED",vl[vl.REDIRECTING=2]="REDIRECTING",vl))();function gT(e,n){e.events.pipe(Eu(t=>t instanceof Ah||t instanceof Uy||t instanceof AC||t instanceof Cv),Mt(t=>t instanceof Ah||t instanceof Cv?vl.COMPLETE:t instanceof Uy&&(0===t.code||1===t.code)?vl.REDIRECTING:vl.FAILED),Eu(t=>t!==vl.REDIRECTING),Td(1)).subscribe(()=>{n()})}function U5(e){throw e}function z5(e,n,t){return n.parse("/")}const G5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},j5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zl=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=tn(BS),this.isNgZoneEnabled=!1,this.options=tn(Ky,{optional:!0})||{},this.pendingTasks=tn(fy),this.errorHandler=this.options.errorHandler||U5,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||z5,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=tn(V5),this.routeReuseStrategy=tn(P5),this.titleStrategy=tn(pT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=tn(ig,{optional:!0})?.flat()??[],this.navigationTransitions=tn(Xy),this.urlSerializer=tn(vv),this.location=tn(Xw),this.componentInputBindingEnabled=!!tn(Gy,{optional:!0}),this.isNgZoneEnabled=tn(vi)instanceof vi&&vi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qp,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$M(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),wv,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const u={replaceUrl:!0},f=o?.navigationId?o:null;if(o){const M={...o};delete M.navigationId,delete M.\u0275routerPageId,0!==Object.keys(M).length&&(u.state=M)}const y=this.parseUrl(t);this.scheduleNavigation(y,r,f,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(BC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:f,queryParamsHandling:y,preserveFragment:M}=r,H=M?this.currentUrlTree.fragment:f;let re,$=null;switch(y){case"merge":$={...this.currentUrlTree.queryParams,...u};break;case"preserve":$=this.currentUrlTree.queryParams;break;default:$=u||null}null!==$&&($=this.removeEmptyProps($));try{re=PM(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),re=this.currentUrlTree.root}return FM(re,t,$,H??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Ih(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,wv,null,r)}navigate(t,r={skipLocationChange:!1}){return function W5(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new dt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...G5}:!1===r?{...j5}:r,Ih(t))return MM(this.currentUrlTree,t,o);const u=this.parseUrl(t);return MM(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(t,r,o,u,f){if(this.disposed)return Promise.resolve(!1);let y,M,H;f?(y=f.resolve,M=f.reject,H=f.promise):H=new Promise((re,ye)=>{y=re,M=ye});const $=this.pendingTasks.add();return gT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove($))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:y,reject:M,promise:H,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),H.catch(re=>Promise.reject(re))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const f={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",f)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(o,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Zy=(()=>{class e{constructor(t,r,o,u,f,y){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=f,this.locationStrategy=y,this.href=null,this.commands=null,this.onChanges=new Ft,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const M=f.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===M||"area"===M,this.isAnchorElement?this.subscription=t.events.subscribe(H=>{H instanceof Ah&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,o,u,f){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||o||u||f||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function oE(e,n,t){return function tO(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?iE:rE}(n,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const o=this.renderer,u=this.el.nativeElement;null!==r?o.setAttribute(u,t,r):o.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(t){return new(t||e)(ht(zl),ht(eg),m("tabindex"),ht(Cd),ht(xo),ht(_h))},e.\u0275dir=xn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&ir("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&pl("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Yp],skipLocationChange:["skipLocationChange","skipLocationChange",Yp],replaceUrl:["replaceUrl","replaceUrl",Yp],routerLink:"routerLink"},standalone:!0,features:[dD,Ia]}),e})();class vT{}let X5=(()=>{class e{constructor(t,r,o,u,f){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(Eu(t=>t instanceof Ah),Kp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=hw(u.providers,t,`Route: ${u.path}`));const f=u._injector??t,y=u._loadedInjector??f;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(f,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(y,u.children??u._loadedRoutes))}return Ve(o).pipe(Si())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):qe(null);const u=o.pipe(Xi(f=>null===f?qe(void 0):(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,this.processRoutes(f.injector??t,f.routes))));return r.loadComponent&&!r._loadedComponent?Ve([u,this.loader.loadComponent(r)]).pipe(Si()):u})}}return e.\u0275fac=function(t){return new(t||e)(Yt(zl),Yt(VS),Yt(sc),Yt(vT),Yt(zC))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const GC=new rn("");let mT=(()=>{class e{constructor(t,r,o,u,f={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration=f.scrollPositionRestoration||"disabled",f.anchorScrolling=f.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof IC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ah?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Cv&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof GM&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new GM(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(t){Nb()},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();function Ad(e,n){return{\u0275kind:e,\u0275providers:n}}function bT(){const e=tn(vu);return n=>{const t=e.get(Wp);if(n!==t.components[0])return;const r=e.get(zl),o=e.get(wT);1===e.get(jC)&&r.initialNavigation(),e.get(CT,null,An.Optional)?.setUpPreloading(),e.get(GC,null,An.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const wT=new rn("",{factory:()=>new Ft}),jC=new rn("",{providedIn:"root",factory:()=>1}),CT=new rn("");function Q5(e){return Ad(0,[{provide:CT,useExisting:X5},{provide:vT,useExisting:e}])}const xT=new rn("ROUTER_FORROOT_GUARD"),e3=[Xw,{provide:vv,useClass:DC},zl,xv,{provide:eg,useFactory:function yT(e){return e.routerState.root},deps:[zl]},zC,[]];function t3(){return new ZS("Router",zl)}let ET=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[e3,[],{provide:ig,multi:!0,useValue:t},{provide:xT,useFactory:a3,deps:[[zl,new $a,new lh]]},{provide:Ky,useValue:r||{}},r?.useHash?{provide:_h,useClass:v2}:{provide:_h,useClass:D_},{provide:GC,useFactory:()=>{const e=tn(LB),n=tn(vi),t=tn(Ky),r=tn(Xy),o=tn(vv);return t.scrollOffset&&e.setOffset(t.scrollOffset),new mT(o,r,e,n,t)}},r?.preloadingStrategy?Q5(r.preloadingStrategy).\u0275providers:[],{provide:ZS,multi:!0,useFactory:t3},r?.initialNavigation?s3(r):[],r?.bindToComponentInputs?Ad(8,[ZM,{provide:Gy,useExisting:ZM}]).\u0275providers:[],[{provide:DT,useFactory:bT},{provide:Fw,multi:!0,useExisting:DT}]]}}static forChild(t){return{ngModule:e,providers:[{provide:ig,multi:!0,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(Yt(xT,8))},e.\u0275mod=fi({type:e}),e.\u0275inj=di({}),e})();function a3(e){return"guarded"}function s3(e){return["disabled"===e.initialNavigation?Ad(3,[{provide:Iw,multi:!0,useFactory:()=>{const n=tn(zl);return()=>{n.setUpLocationChangeListener()}}},{provide:jC,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Ad(2,[{provide:jC,useValue:0},{provide:Iw,multi:!0,deps:[vu],useFactory:n=>{const t=n.get(p2,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=n.get(zl),u=n.get(wT);gT(o,()=>{r(!0)}),n.get(Xy).afterPreactivation=()=>(r(!0),u.closed?qe(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const DT=new rn("");function u3(e,n){1&e&&(yt(0,"div",6)(1,"ul")(2,"li")(3,"a",7),jt(4,"Analysis"),mt()(),yt(5,"li")(6,"a",8),jt(7,"Regression testing"),mt()(),yt(8,"li")(9,"a",9),jt(10,"Home"),mt()()()())}let c3=(()=>{class e{constructor(t){this.hideComponentsService=t,this.isNavigationVisible=!1,this.isAllHidden=!1}toggleAll(){this.isAllHidden?this.hideComponentsService.showAllComponents("liger"):this.hideComponentsService.hideAllComponents("liger"),this.isAllHidden=!this.isAllHidden}showNavigation(){this.isNavigationVisible=!0}hideNavigation(){this.isNavigationVisible=!1}}return e.\u0275fac=function(t){return new(t||e)(ht(vM))},e.\u0275cmp=ti({type:e,selectors:[["app-navigation"]],decls:8,vars:3,consts:[[1,"navigation",3,"mouseenter","mouseleave"],[1,"switch"],["type","checkbox",3,"change"],[1,"slider"],["class","navigation-content",4,"ngIf"],[1,"page-content"],[1,"navigation-content"],["routerLink","/demo"],["routerLink","/regression"],["routerLink","/home"]],template:function(t,r){1&t&&(yt(0,"div",0),ir("mouseenter",function(){return r.showNavigation()})("mouseleave",function(){return r.hideNavigation()}),jt(1," LiGER: "),yt(2,"label",1)(3,"input",2),ir("change",function(){return r.toggleAll()}),mt(),Xn(4,"span",3),mt(),Yo(5,u3,11,0,"div",4),mt(),yt(6,"div",5),Xn(7,"router-outlet"),mt()),2&t&&(bf("expanded",r.isNavigationVisible),Rn(5),Un("ngIf",r.isNavigationVisible))},dependencies:[xf,PC,Zy],styles:['.navigation[_ngcontent-%COMP%]{position:fixed;left:0;top:0;width:50px;height:100vh;background-color:#fff;border:1px solid #00a9e0;transition:width .3s ease-in-out;overflow:hidden}.navigation.expanded[_ngcontent-%COMP%]{width:250px}.navigation-content[_ngcontent-%COMP%]{padding:16px;width:100%}.page-content[_ngcontent-%COMP%]{margin-left:50px;transition:margin-left .3s ease-in-out}.navigation.expanded[_ngcontent-%COMP%] ~ .page-content[_ngcontent-%COMP%]{margin-left:250px}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:square;padding-left:20px}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:2}.navigation-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em;text-decoration:none;white-space:nowrap}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#2196f3;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%;transform:translate(26px)}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ccc}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(0)}']}),e})(),d3=(()=>{class e{constructor(){this.title="gswb-client"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ti({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&Xn(0,"app-navigation")},dependencies:[c3]}),e})();function ST(...e){const n=Pa(e),{args:t,keys:r}=mM(e),o=new Ke(u=>{const{length:f}=t;if(!f)return void u.complete();const y=new Array(f);let M=f,H=f;for(let $=0;$<f;$++){let re=!1;qo(t[$]).subscribe(ut(u,ye=>{re||(re=!0,H--),y[$]=ye},()=>M--,void 0,()=>{(!M||!re)&&(H||u.next(r?bM(r,y):y),u.complete())}))}});return n?o.pipe(yM(n)):o}let _T=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return e.\u0275fac=function(t){return new(t||e)(ht(Cd),ht(xo))},e.\u0275dir=xn({type:e}),e})(),Nh=(()=>{class e extends _T{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ti(e)))(r||e)}}(),e.\u0275dir=xn({type:e,features:[Mr]}),e})();const yc=new rn("NgValueAccessor"),f3={provide:yc,useExisting:_n(()=>WC),multi:!0};let WC=(()=>{class e extends Nh{writeValue(t){this.setProperty("checked",t)}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ti(e)))(r||e)}}(),e.\u0275dir=xn({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&ir("change",function(u){return r.onChange(u.target.checked)})("blur",function(){return r.onTouched()})},features:[Zr([f3]),Mr]}),e})();const h3={provide:yc,useExisting:_n(()=>Tv),multi:!0},g3=new rn("CompositionEventMode");let Tv=(()=>{class e extends _T{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function p3(){const e=Cf()?Cf().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return e.\u0275fac=function(t){return new(t||e)(ht(Cd),ht(xo),ht(g3,8))},e.\u0275dir=xn({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ir("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[Zr([h3]),Mr]}),e})();function _f(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function MT(e){return null!=e&&"number"==typeof e.length}const hs=new rn("NgValidators"),Mf=new rn("NgAsyncValidators"),v3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $C{static min(n){return function TT(e){return n=>{if(_f(n.value)||_f(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(n)}static max(n){return function IT(e){return n=>{if(_f(n.value)||_f(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(n)}static required(n){return function AT(e){return _f(e.value)?{required:!0}:null}(n)}static requiredTrue(n){return function NT(e){return!0===e.value?null:{required:!0}}(n)}static email(n){return function OT(e){return _f(e.value)||v3.test(e.value)?null:{email:!0}}(n)}static minLength(n){return function RT(e){return n=>_f(n.value)||!MT(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function LT(e){return n=>MT(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static pattern(n){return function kT(e){if(!e)return qy;let n,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(_f(r.value))return null;const o=r.value;return n.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return UT(n)}static composeAsync(n){return zT(n)}}function qy(e){return null}function PT(e){return null!=e}function FT(e){return Jg(e)?Ve(e):e}function BT(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function VT(e,n){return n.map(t=>t(e))}function HT(e){return e.map(n=>function m3(e){return!e.validate}(n)?n:t=>n.validate(t))}function UT(e){if(!e)return null;const n=e.filter(PT);return 0==n.length?null:function(t){return BT(VT(t,n))}}function YC(e){return null!=e?UT(HT(e)):null}function zT(e){if(!e)return null;const n=e.filter(PT);return 0==n.length?null:function(t){return ST(VT(t,n).map(FT)).pipe(Mt(BT))}}function XC(e){return null!=e?zT(HT(e)):null}function GT(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function jT(e){return e._rawValidators}function WT(e){return e._rawAsyncValidators}function KC(e){return e?Array.isArray(e)?e:[e]:[]}function Qy(e,n){return Array.isArray(e)?e.includes(n):e===n}function $T(e,n){const t=KC(n);return KC(e).forEach(o=>{Qy(t,o)||t.push(o)}),t}function YT(e,n){return KC(n).filter(t=>!Qy(e,t))}class XT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=YC(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=XC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Is extends XT{get formDirective(){return null}get path(){return null}}class Tf extends XT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class KT{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Jy=(()=>{class e extends KT{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(ht(Tf,2))},e.\u0275dir=xn({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&bf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Mr]}),e})(),ZT=(()=>{class e extends KT{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(ht(Is,10))},e.\u0275dir=xn({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&bf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Mr]}),e})();const Iv="VALID",t0="INVALID",og="PENDING",Av="DISABLED";function QC(e){return(n0(e)?e.validators:e)||null}function JC(e,n){return(n0(n)?n.asyncValidators:e)||null}function n0(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function QT(e,n,t){const r=e.controls;if(!(n?Object.keys(r):r).length)throw new dt(1e3,"");if(!r[t])throw new dt(1001,"")}function JT(e,n,t){e._forEachChild((r,o)=>{if(void 0===t[o])throw new dt(1002,"")})}class r0{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Iv}get invalid(){return this.status===t0}get pending(){return this.status==og}get disabled(){return this.status===Av}get enabled(){return this.status!==Av}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators($T(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators($T(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(YT(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(YT(n,this._rawAsyncValidators))}hasValidator(n){return Qy(this._rawValidators,n)}hasAsyncValidator(n){return Qy(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=og,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Av,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Iv,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Iv||this.status===og)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Av:Iv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=og,this._hasOwnPendingAsyncValidator=!0;const t=FT(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new ci,this.statusChanges=new ci}_calculateStatus(){return this._allControlsDisabled()?Av:this.errors?t0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(og)?og:this._anyControlsHaveStatus(t0)?t0:Iv}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){n0(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function C3(e){return Array.isArray(e)?YC(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function x3(e){return Array.isArray(e)?XC(e):e||null}(this._rawAsyncValidators)}}class Nv extends r0{constructor(n,t,r){super(QC(t),JC(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){JT(this,0,n),Object.keys(n).forEach(r=>{QT(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(r=>{const o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,o)=>{r.reset(n[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class eI extends Nv{}const Oh=new rn("CallSetDisabledState",{providedIn:"root",factory:()=>Ov}),Ov="always";function o0(e,n){return[...n.path,e]}function Rv(e,n,t=Ov){ex(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function D3(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&tI(e,n)})}(e,n),function _3(e,n){const t=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function S3(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&tI(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function E3(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function a0(e,n,t=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),l0(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function s0(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function ex(e,n){const t=jT(e);null!==n.validator?e.setValidators(GT(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=WT(e);null!==n.asyncValidator?e.setAsyncValidators(GT(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();s0(n._rawValidators,o),s0(n._rawAsyncValidators,o)}function l0(e,n){let t=!1;if(null!==e){if(null!==n.validator){const o=jT(e);if(Array.isArray(o)&&o.length>0){const u=o.filter(f=>f!==n.validator);u.length!==o.length&&(t=!0,e.setValidators(u))}}if(null!==n.asyncValidator){const o=WT(e);if(Array.isArray(o)&&o.length>0){const u=o.filter(f=>f!==n.asyncValidator);u.length!==o.length&&(t=!0,e.setAsyncValidators(u))}}}const r=()=>{};return s0(n._rawValidators,r),s0(n._rawAsyncValidators,r),t}function tI(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function nx(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}function rx(e,n){if(!n)return null;let t,r,o;return Array.isArray(n),n.forEach(u=>{u.constructor===Tv?t=u:function I3(e){return Object.getPrototypeOf(e.constructor)===Nh}(u)?r=u:o=u}),o||r||t||null}function iI(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function oI(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const kv=class extends r0{constructor(n=null,t,r){super(QC(t),JC(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),n0(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=oI(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){iI(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){iI(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){oI(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},L3={provide:Tf,useExisting:_n(()=>u0)},lI=(()=>Promise.resolve())();let u0=(()=>{class e extends Tf{constructor(t,r,o,u,f,y){super(),this._changeDetectorRef=f,this.callSetDisabledState=y,this.control=new kv,this._registered=!1,this.name="",this.update=new ci,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=rx(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),nx(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){lI.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&Yp(r);lI.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?o0(t,this._parent):[t]}}return e.\u0275fac=function(t){return new(t||e)(ht(Is,9),ht(hs,10),ht(Mf,10),ht(yc,10),ht($p,8),ht(Oh,8))},e.\u0275dir=xn({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Zr([L3]),Mr,Ia]}),e})(),uI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=xn({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),dI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=fi({type:e}),e.\u0275inj=di({}),e})();const ox=new rn("NgModelWithFormControlWarning"),H3={provide:Is,useExisting:_n(()=>c0)};let c0=(()=>{class e extends Is{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ci,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(l0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Rv(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){a0(t.control||null,t,!1),function A3(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function rI(e,n){e._syncPendingControls(),n.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(a0(r||null,t),(e=>e instanceof kv)(o)&&(Rv(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function nI(e,n){ex(e,n)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function M3(e,n){return l0(e,n)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ex(this.form,this),this._oldForm&&l0(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(ht(hs,10),ht(Mf,10),ht(Oh,8))},e.\u0275dir=xn({type:e,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&ir("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zr([H3]),Mr,Ia]}),e})();const G3={provide:Tf,useExisting:_n(()=>lx)};let lx=(()=>{class e extends Tf{set isDisabled(t){}constructor(t,r,o,u,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.name=null,this.update=new ci,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=rx(0,u)}ngOnChanges(t){this._added||this._setUpControl(),nx(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return o0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(t){return new(t||e)(ht(Is,13),ht(hs,10),ht(Mf,10),ht(yc,10),ht(ox,8))},e.\u0275dir=xn({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Zr([G3]),Mr,Ia]}),e})();const j3={provide:yc,useExisting:_n(()=>d0),multi:!0};function vI(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let d0=(()=>{class e extends Nh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=vI(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function W3(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ti(e)))(r||e)}}(),e.\u0275dir=xn({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&ir("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zr([j3]),Mr]}),e})(),mI=(()=>{class e{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(vI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(ht(xo),ht(Cd),ht(d0,9))},e.\u0275dir=xn({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const $3={provide:yc,useExisting:_n(()=>ux),multi:!0};function yI(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let ux=(()=>{class e extends Nh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(u=>this._getOptionId(u));r=(u,f)=>{u._setSelected(o.indexOf(f.toString())>-1)}}else r=(o,u)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],u=r.selectedOptions;if(void 0!==u){const f=u;for(let y=0;y<f.length;y++){const H=this._getOptionValue(f[y].value);o.push(H)}}else{const f=r.options;for(let y=0;y<f.length;y++){const M=f[y];if(M.selected){const H=this._getOptionValue(M.value);o.push(H)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Y3(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ti(e)))(r||e)}}(),e.\u0275dir=xn({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&ir("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zr([$3]),Mr]}),e})(),bI=(()=>{class e{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(yI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(yI(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(ht(xo),ht(Cd),ht(ux,9))},e.\u0275dir=xn({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),II=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=fi({type:e}),e.\u0275inj=di({imports:[dI]}),e})();class AI extends r0{constructor(n,t,r){super(QC(t),JC(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){let o=this._adjustIndex(n);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){JT(this,0,n),n.forEach((r,o)=>{QT(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,o)=>{r.reset(n[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function NI(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let n4=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let u={};return NI(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new Nv(o,u)}record(t,r=null){const o=this._reduceControls(t);return new eI(o,r)}control(t,r,o){let u={};return this.useNonNullable?(NI(r)?u=r:(u.validators=r,u.asyncValidators=o),new kv(t,{...u,nonNullable:!0})):new kv(t,r,o)}array(t,r,o){const u=t.map(f=>this._createControl(f));return new AI(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof kv||t instanceof r0?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),r4=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Oh,useValue:t.callSetDisabledState??Ov}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=fi({type:e}),e.\u0275inj=di({imports:[II]}),e})(),i4=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:ox,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Oh,useValue:t.callSetDisabledState??Ov}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=fi({type:e}),e.\u0275inj=di({imports:[II]}),e})();class f0{}class h0{}class bc{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),u=o.toLowerCase(),f=t.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(f):this.headers.set(u,[f])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof bc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new bc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof bc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const o=("a"===n.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const u=n.value;if(u){let f=this.headers.get(t);if(!f)return;f=f.filter(y=>-1===u.indexOf(y)),0===f.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,f)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const r=(Array.isArray(t)?t:[t]).map(u=>u.toString()),o=n.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class o4{encodeKey(n){return OI(n)}encodeValue(n){return OI(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const s4=/%(\d[a-f0-9])/gi,l4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function OI(e){return encodeURIComponent(e).replace(s4,(n,t)=>l4[t]??n)}function p0(e){return`${e}`}class If{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new o4,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function a4(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[f,y]=-1==u?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,u)),n.decodeValue(o.slice(u+1))],M=t.get(f)||[];M.push(y),t.set(f,M)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],o=Array.isArray(r)?r.map(p0):[p0(r)];this.map.set(t,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const o=n[r];Array.isArray(o)?o.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new If({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(p0(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const o=r.indexOf(p0(n.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class u4{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function RI(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function LI(e){return typeof Blob<"u"&&e instanceof Blob}function kI(e){return typeof FormData<"u"&&e instanceof FormData}class Pv{constructor(n,t,r,o){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function c4(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new bc),this.context||(this.context=new u4),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=t;else{const y=t.indexOf("?");this.urlWithParams=t+(-1===y?"?":y<t.length-1?"&":"")+f}}else this.params=new If,this.urlWithParams=t}serializeBody(){return null===this.body?null:RI(this.body)||LI(this.body)||kI(this.body)||function d4(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof If?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kI(this.body)?null:LI(this.body)?this.body.type||null:RI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof If?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,o=n.responseType||this.responseType,u=void 0!==n.body?n.body:this.body,f=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,y=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let M=n.headers||this.headers,H=n.params||this.params;const $=n.context??this.context;return void 0!==n.setHeaders&&(M=Object.keys(n.setHeaders).reduce((re,ye)=>re.set(ye,n.setHeaders[ye]),M)),n.setParams&&(H=Object.keys(n.setParams).reduce((re,ye)=>re.set(ye,n.setParams[ye]),H)),new Pv(t,r,u,{params:H,headers:M,context:$,reportProgress:y,responseType:o,withCredentials:f})}}var sa=(()=>((sa=sa||{})[sa.Sent=0]="Sent",sa[sa.UploadProgress=1]="UploadProgress",sa[sa.ResponseHeader=2]="ResponseHeader",sa[sa.DownloadProgress=3]="DownloadProgress",sa[sa.Response=4]="Response",sa[sa.User=5]="User",sa))();class dx{constructor(n,t=200,r="OK"){this.headers=n.headers||new bc,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class fx extends dx{constructor(n={}){super(n),this.type=sa.ResponseHeader}clone(n={}){return new fx({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class ag extends dx{constructor(n={}){super(n),this.type=sa.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new ag({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class PI extends dx{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function hx(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let g0=(()=>{class e{constructor(t){this.handler=t}request(t,r,o={}){let u;if(t instanceof Pv)u=t;else{let M,H;M=o.headers instanceof bc?o.headers:new bc(o.headers),o.params&&(H=o.params instanceof If?o.params:new If({fromObject:o.params})),u=new Pv(t,r,void 0!==o.body?o.body:null,{headers:M,context:o.context,params:H,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const f=qe(u).pipe(Kp(M=>this.handler.handle(M)));if(t instanceof Pv||"events"===o.observe)return f;const y=f.pipe(Eu(M=>M instanceof ag));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return y.pipe(Mt(M=>{if(null!==M.body&&!(M.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return M.body}));case"blob":return y.pipe(Mt(M=>{if(null!==M.body&&!(M.body instanceof Blob))throw new Error("Response is not a Blob.");return M.body}));case"text":return y.pipe(Mt(M=>{if(null!==M.body&&"string"!=typeof M.body)throw new Error("Response is not a string.");return M.body}));default:return y.pipe(Mt(M=>M.body))}case"response":return y;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new If).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,hx(o,r))}post(t,r,o={}){return this.request("POST",t,hx(o,r))}put(t,r,o={}){return this.request("PUT",t,hx(o,r))}}return e.\u0275fac=function(t){return new(t||e)(Yt(f0))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();function VI(e,n){return n(e)}function h4(e,n){return(t,r)=>n.intercept(t,{handle:o=>e(o,r)})}const g4=new rn(""),Fv=new rn(""),HI=new rn("");function v4(){let e=null;return(n,t)=>{null===e&&(e=(tn(g4,{optional:!0})??[]).reduceRight(h4,VI));const r=tn(fy),o=r.add();return e(n,t).pipe(Zp(()=>r.remove(o)))}}let UI=(()=>{class e extends f0{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=tn(fy)}handle(t){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(Fv),...this.injector.get(HI,[])]));this.chain=o.reduceRight((u,f)=>function p4(e,n,t){return(r,o)=>t.runInContext(()=>n(r,u=>e(u,o)))}(u,f,this.injector),VI)}const r=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(Zp(()=>this.pendingTasks.remove(r)))}}return e.\u0275fac=function(t){return new(t||e)(Yt(h0),Yt(sc))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();const w4=/^\)\]\}',?\n/;let GI=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new dt(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Ve(r.\u0275loadImpl()):qe(null)).pipe(Ht(()=>new Ke(u=>{const f=r.build();if(f.open(t.method,t.urlWithParams),t.withCredentials&&(f.withCredentials=!0),t.headers.forEach(($e,ft)=>f.setRequestHeader($e,ft.join(","))),t.headers.has("Accept")||f.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const $e=t.detectContentTypeHeader();null!==$e&&f.setRequestHeader("Content-Type",$e)}if(t.responseType){const $e=t.responseType.toLowerCase();f.responseType="json"!==$e?$e:"text"}const y=t.serializeBody();let M=null;const H=()=>{if(null!==M)return M;const $e=f.statusText||"OK",ft=new bc(f.getAllResponseHeaders()),Dt=function C4(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(f)||t.url;return M=new fx({headers:ft,status:f.status,statusText:$e,url:Dt}),M},$=()=>{let{headers:$e,status:ft,statusText:Dt,url:ot}=H(),Lt=null;204!==ft&&(Lt=typeof f.response>"u"?f.responseText:f.response),0===ft&&(ft=Lt?200:0);let Bn=ft>=200&&ft<300;if("json"===t.responseType&&"string"==typeof Lt){const Zn=Lt;Lt=Lt.replace(w4,"");try{Lt=""!==Lt?JSON.parse(Lt):null}catch(Zo){Lt=Zn,Bn&&(Bn=!1,Lt={error:Zo,text:Lt})}}Bn?(u.next(new ag({body:Lt,headers:$e,status:ft,statusText:Dt,url:ot||void 0})),u.complete()):u.error(new PI({error:Lt,headers:$e,status:ft,statusText:Dt,url:ot||void 0}))},re=$e=>{const{url:ft}=H(),Dt=new PI({error:$e,status:f.status||0,statusText:f.statusText||"Unknown Error",url:ft||void 0});u.error(Dt)};let ye=!1;const Te=$e=>{ye||(u.next(H()),ye=!0);let ft={type:sa.DownloadProgress,loaded:$e.loaded};$e.lengthComputable&&(ft.total=$e.total),"text"===t.responseType&&f.responseText&&(ft.partialText=f.responseText),u.next(ft)},Ge=$e=>{let ft={type:sa.UploadProgress,loaded:$e.loaded};$e.lengthComputable&&(ft.total=$e.total),u.next(ft)};return f.addEventListener("load",$),f.addEventListener("error",re),f.addEventListener("timeout",re),f.addEventListener("abort",re),t.reportProgress&&(f.addEventListener("progress",Te),null!==y&&f.upload&&f.upload.addEventListener("progress",Ge)),f.send(y),u.next({type:sa.Sent}),()=>{f.removeEventListener("error",re),f.removeEventListener("abort",re),f.removeEventListener("load",$),f.removeEventListener("timeout",re),t.reportProgress&&(f.removeEventListener("progress",Te),null!==y&&f.upload&&f.upload.removeEventListener("progress",Ge)),f.readyState!==f.DONE&&f.abort()}})))}}return e.\u0275fac=function(t){return new(t||e)(Yt(Y_))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();const px=new rn("XSRF_ENABLED"),jI=new rn("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),WI=new rn("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class $I{}let D4=(()=>{class e{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=L_(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(Yt(io),Yt(mf),Yt(jI))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();function S4(e,n){const t=e.url.toLowerCase();if(!tn(px)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=tn($I).getToken(),o=tn(WI);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),n(e)}var oo=(()=>((oo=oo||{})[oo.Interceptors=0]="Interceptors",oo[oo.LegacyInterceptors=1]="LegacyInterceptors",oo[oo.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",oo[oo.NoXsrfProtection=3]="NoXsrfProtection",oo[oo.JsonpSupport=4]="JsonpSupport",oo[oo.RequestsMadeViaParent=5]="RequestsMadeViaParent",oo[oo.Fetch=6]="Fetch",oo))();function Lh(e,n){return{\u0275kind:e,\u0275providers:n}}function _4(...e){const n=[g0,GI,UI,{provide:f0,useExisting:UI},{provide:h0,useExisting:GI},{provide:Fv,useValue:S4,multi:!0},{provide:px,useValue:!0},{provide:$I,useClass:D4}];for(const t of e)n.push(...t.\u0275providers);return function lb(e){return{\u0275providers:e}}(n)}const YI=new rn("LEGACY_INTERCEPTOR_FN");let T4=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=fi({type:e}),e.\u0275inj=di({providers:[_4(Lh(oo.LegacyInterceptors,[{provide:YI,useFactory:v4},{provide:Fv,useExisting:YI,multi:!0}]))]}),e})(),m0=(()=>{class e{constructor(t){this.http=t,this.gswbpage="http://localhost:8081",this.ligerpage="http://localhost:8080"}gswbDeduce(t){return this.http.post(`${this.gswbpage}/deduce`,t)}gswbBatchDeduce(t){return this.http.post(`${this.gswbpage}/gswb_batch_proof`,t)}ligerAnnotate(t){return this.http.post(`${this.ligerpage}/apply_rules_xle`,t)}ligerParse(t){return this.http.post(`${this.ligerpage}/parse_xle`,t)}ligerBatchAnnotate(t){return this.http.post(`${this.ligerpage}/apply_rules_to_batch`,t)}ligerBatchMultistage(t){return this.http.post(`${this.ligerpage}/multistage_to_batch`,t)}getGrammars(){return this.http.get(`${this.ligerpage}/list_grammars1`)}changeGrammar(t){return this.http.post(`${this.ligerpage}/change_grammar`,t)}}return e.\u0275fac=function(t){return new(t||e)(Yt(g0))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var gx=D(656);const L4=["host"];gx.defineMode("liger",function(){return{token:function(e,n){return e.match("==>")?"rule_separator":e.match(/#[A-Za-z0-9]+/)?"liger_node_var":e.match(/%[A-Za-z0-9]+/)?"liger_val_var":e.match(/(\&|\.)/)?"liger_conjunction":e.match("//")?(e.skipToEnd(),"comment"):(e.next(),null)}}}),gx.defineMode("glue",function(){return{token:function(e,n){return e.match(":")?"rule_separator":e.match(/-o/)?"liger_node_var":e.match(/(\[|\])/)?"liger_conjunction":e.match(/(\(|\))/)?"liger_val_var":e.match(/(<|>)/)?"angular_brackets":e.match("//")?(e.skipToEnd(),"comment"):(e.next(),null)}}});let Bv=(()=>{class e{constructor(){this.defaultWidth="800px",this.defaultHeight="300px"}ngAfterViewInit(){console.log("mode is "+this.mode),this.codeMirror=gx.fromTextArea(this.host.nativeElement,{mode:this.mode,viewPortMargin:1/0}),"liger"==this.mode&&this.codeMirror.setValue(""),"text"==this.mode&&this.codeMirror.setValue("A big black dog appeared.\n\nMary gave a student every grade.\n\n"),this.codeMirror.setOption("lineNumbers",!0)}updateContent(t){this.codeMirror&&(this.codeMirror.setValue(""),this.codeMirror.clearHistory(),this.codeMirror.setValue(t))}getContent(){return this.codeMirror.getValue()}resizeToDefault(){this.codeMirror.setSize(this.defaultWidth,this.defaultHeight)}downloadFile(t){let r=this.codeMirror.getValue(),o=new Blob([r],{type:"text/plain"}),u=window.URL.createObjectURL(o),f=document.createElement("a");f.href=u,f.download=t||"default.txt",f.click(),setTimeout(()=>window.URL.revokeObjectURL(u),1e4)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ti({type:e,selectors:[["app-editor"]],viewQuery:function(t,r){if(1&t&&Fr(L4,5),2&t){let o;Dr(o=Sr())&&(r.host=o.first)}},inputs:{id:"id",mode:"mode"},decls:9,vars:1,consts:[[1,"editor-container"],["host",""],[1,"resize",3,"click"],[3,"click"],["placeholder","Enter filename",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(yt(0,"div",0),Xn(1,"textarea",null,1),mt(),yt(3,"button",2),ir("click",function(){return r.resizeToDefault()}),jt(4,"Resize to Default"),mt(),yt(5,"button",3),ir("click",function(){return r.downloadFile(r.filename)}),jt(6,"Download as: "),mt(),yt(7,"input",4),ir("ngModelChange",function(u){return r.filename=u}),mt(),Xn(8,"div")),2&t&&(Rn(7),Un("ngModel",r.filename))},dependencies:[Tv,Jy,u0],styles:['.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;inset:-50px 0 0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:white}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;inset:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}\n',".CodeMirror{resize:both;max-width:100%;max-height:100%}.editor-container{position:relative;display:block;border-style:solid;border-color:#00a9e0;overflow:hidden;max-width:100%;max-height:100%;background-color:#add8e6}.cm-rule_separator{color:#0900ff;font-weight:700}.cm-liger_node_var{color:#00c4ff}.cm-liger_val_var{color:#08d700}.cm-liger_conjunction{color:red}.cm-angular_brackets{color:#d100ff}\n"],encapsulation:2}),e})();var F4=D(6100),As=D.n(F4),B4=D(7944),y0=D.n(B4),Vv=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",V4=function(){for(var e=["Edge","Trident","Firefox"],n=0;n<e.length;n+=1)if(Vv&&navigator.userAgent.indexOf(e[n])>=0)return 1;return 0}(),G4=Vv&&window.Promise?function H4(e){var n=!1;return function(){n||(n=!0,window.Promise.resolve().then(function(){n=!1,e()}))}}:function U4(e){var n=!1;return function(){n||(n=!0,setTimeout(function(){n=!1,e()},V4))}};function XI(e){return e&&"[object Function]"==={}.toString.call(e)}function kh(e,n){if(1!==e.nodeType)return[];var r=e.ownerDocument.defaultView.getComputedStyle(e,null);return n?r[n]:r}function vx(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function Hv(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var n=kh(e);return/(auto|scroll|overlay)/.test(n.overflow+n.overflowY+n.overflowX)?e:Hv(vx(e))}function KI(e){return e&&e.referenceNode?e.referenceNode:e}var ZI=Vv&&!(!window.MSInputMethodContext||!document.documentMode),qI=Vv&&/MSIE 10/.test(navigator.userAgent);function sg(e){return 11===e?ZI:10===e?qI:ZI||qI}function lg(e){if(!e)return document.documentElement;for(var n=sg(10)?document.body:null,t=e.offsetParent||null;t===n&&e.nextElementSibling;)t=(e=e.nextElementSibling).offsetParent;var r=t&&t.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===kh(t,"position")?lg(t):t:e?e.ownerDocument.documentElement:document.documentElement}function mx(e){return null!==e.parentNode?mx(e.parentNode):e}function b0(e,n){if(!(e&&e.nodeType&&n&&n.nodeType))return document.documentElement;var t=e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?e:n,o=t?n:e,u=document.createRange();u.setStart(r,0),u.setEnd(o,0);var f=u.commonAncestorContainer;if(e!==f&&n!==f||r.contains(o))return function j4(e){var n=e.nodeName;return"BODY"!==n&&("HTML"===n||lg(e.firstElementChild)===e)}(f)?f:lg(f);var y=mx(e);return y.host?b0(y.host,n):b0(e,mx(n).host)}function ug(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",r=e.nodeName;return"BODY"===r||"HTML"===r?(e.ownerDocument.scrollingElement||e.ownerDocument.documentElement)[t]:e[t]}function QI(e,n){var t="x"===n?"Left":"Top",r="Left"===t?"Right":"Bottom";return parseFloat(e["border"+t+"Width"])+parseFloat(e["border"+r+"Width"])}function JI(e,n,t,r){return Math.max(n["offset"+e],n["scroll"+e],t["client"+e],t["offset"+e],t["scroll"+e],sg(10)?parseInt(t["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function eA(e){var n=e.body,t=e.documentElement,r=sg(10)&&getComputedStyle(t);return{height:JI("Height",n,t,r),width:JI("Width",n,t,r)}}var Y4=function(){function e(n,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),cg=function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e},Gl=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};function Af(e){return Gl({},e,{right:e.left+e.width,bottom:e.top+e.height})}function yx(e){var n={};try{if(sg(10)){n=e.getBoundingClientRect();var t=ug(e,"top"),r=ug(e,"left");n.top+=t,n.left+=r,n.bottom+=t,n.right+=r}else n=e.getBoundingClientRect()}catch{}var o={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},u="HTML"===e.nodeName?eA(e.ownerDocument):{},M=e.offsetWidth-(u.width||e.clientWidth||o.width),H=e.offsetHeight-(u.height||e.clientHeight||o.height);if(M||H){var $=kh(e);M-=QI($,"x"),H-=QI($,"y"),o.width-=M,o.height-=H}return Af(o)}function bx(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=sg(10),o="HTML"===n.nodeName,u=yx(e),f=yx(n),y=Hv(e),M=kh(n),H=parseFloat(M.borderTopWidth),$=parseFloat(M.borderLeftWidth);t&&o&&(f.top=Math.max(f.top,0),f.left=Math.max(f.left,0));var re=Af({top:u.top-f.top-H,left:u.left-f.left-$,width:u.width,height:u.height});if(re.marginTop=0,re.marginLeft=0,!r&&o){var ye=parseFloat(M.marginTop),Te=parseFloat(M.marginLeft);re.top-=H-ye,re.bottom-=H-ye,re.left-=$-Te,re.right-=$-Te,re.marginTop=ye,re.marginLeft=Te}return(r&&!t?n.contains(y):n===y&&"BODY"!==y.nodeName)&&(re=function W4(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ug(n,"top"),o=ug(n,"left"),u=t?-1:1;return e.top+=r*u,e.bottom+=r*u,e.left+=o*u,e.right+=o*u,e}(re,n)),re}function tA(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===kh(e,"position"))return!0;var t=vx(e);return!!t&&tA(t)}function nA(e){if(!e||!e.parentElement||sg())return document.documentElement;for(var n=e.parentElement;n&&"none"===kh(n,"transform");)n=n.parentElement;return n||document.documentElement}function wx(e,n,t,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u={top:0,left:0},f=o?nA(e):b0(e,KI(n));if("viewport"===r)u=function X4(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e.ownerDocument.documentElement,r=bx(e,t),o=Math.max(t.clientWidth,window.innerWidth||0),u=Math.max(t.clientHeight,window.innerHeight||0),f=n?0:ug(t),y=n?0:ug(t,"left");return Af({top:f-r.top+r.marginTop,left:y-r.left+r.marginLeft,width:o,height:u})}(f,o);else{var y=void 0;"scrollParent"===r?"BODY"===(y=Hv(vx(n))).nodeName&&(y=e.ownerDocument.documentElement):y="window"===r?e.ownerDocument.documentElement:r;var M=bx(y,f,o);if("HTML"!==y.nodeName||tA(f))u=M;else{var H=eA(e.ownerDocument),$=H.height,re=H.width;u.top+=M.top-M.marginTop,u.bottom=$+M.top,u.left+=M.left-M.marginLeft,u.right=re+M.left}}var ye="number"==typeof(t=t||0);return u.left+=ye?t:t.left||0,u.top+=ye?t:t.top||0,u.right-=ye?t:t.right||0,u.bottom-=ye?t:t.bottom||0,u}function K4(e){return e.width*e.height}function rA(e,n,t,r,o){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var f=wx(t,r,u,o),y={top:{width:f.width,height:n.top-f.top},right:{width:f.right-n.right,height:f.height},bottom:{width:f.width,height:f.bottom-n.bottom},left:{width:n.left-f.left,height:f.height}},M=Object.keys(y).map(function(ye){return Gl({key:ye},y[ye],{area:K4(y[ye])})}).sort(function(ye,Te){return Te.area-ye.area}),H=M.filter(function(ye){return ye.width>=t.clientWidth&&ye.height>=t.clientHeight}),$=H.length>0?H[0].key:M[0].key,re=e.split("-")[1];return $+(re?"-"+re:"")}function iA(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return bx(t,r?nA(n):b0(n,KI(t)),r)}function oA(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),r=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),o=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+o,height:e.offsetHeight+r}}function w0(e){var n={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(t){return n[t]})}function aA(e,n,t){t=t.split("-")[0];var r=oA(e),o={width:r.width,height:r.height},u=-1!==["right","left"].indexOf(t),f=u?"top":"left",y=u?"left":"top",M=u?"height":"width",H=u?"width":"height";return o[f]=n[f]+n[M]/2-r[M]/2,o[y]=t===y?n[y]-r[H]:n[w0(y)],o}function Uv(e,n){return Array.prototype.find?e.find(n):e.filter(n)[0]}function sA(e,n,t){var r=void 0===t?e:e.slice(0,function Z4(e,n,t){if(Array.prototype.findIndex)return e.findIndex(function(o){return o[n]===t});var r=Uv(e,function(o){return o[n]===t});return e.indexOf(r)}(e,"name",t));return r.forEach(function(o){o.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var u=o.function||o.fn;o.enabled&&XI(u)&&(n.offsets.popper=Af(n.offsets.popper),n.offsets.reference=Af(n.offsets.reference),n=u(n,o))}),n}function q4(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=iA(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=rA(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=aA(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=sA(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function lA(e,n){return e.some(function(t){return t.enabled&&t.name===n})}function Cx(e){for(var n=[!1,"ms","Webkit","Moz","O"],t=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<n.length;r++){var o=n[r],u=o?""+o+t:e;if(typeof document.body.style[u]<"u")return u}return null}function Q4(){return this.state.isDestroyed=!0,lA(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Cx("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function uA(e){var n=e.ownerDocument;return n?n.defaultView:window}function cA(e,n,t,r){var o="BODY"===e.nodeName,u=o?e.ownerDocument.defaultView:e;u.addEventListener(n,t,{passive:!0}),o||cA(Hv(u.parentNode),n,t,r),r.push(u)}function J4(e,n,t,r){t.updateBound=r,uA(e).addEventListener("resize",t.updateBound,{passive:!0});var o=Hv(e);return cA(o,"scroll",t.updateBound,t.scrollParents),t.scrollElement=o,t.eventsEnabled=!0,t}function eU(){this.state.eventsEnabled||(this.state=J4(this.reference,0,this.state,this.scheduleUpdate))}function nU(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function tU(e,n){return uA(e).removeEventListener("resize",n.updateBound),n.scrollParents.forEach(function(t){t.removeEventListener("scroll",n.updateBound)}),n.updateBound=null,n.scrollParents=[],n.scrollElement=null,n.eventsEnabled=!1,n}(this.reference,this.state))}function xx(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Ex(e,n){Object.keys(n).forEach(function(t){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(t)&&xx(n[t])&&(r="px"),e.style[t]=n[t]+r})}var sU=Vv&&/Firefox/i.test(navigator.userAgent);function dA(e,n,t){var r=Uv(e,function(y){return y.name===n}),o=!!r&&e.some(function(y){return y.name===t&&y.enabled&&y.order<r.order});if(!o){var u="`"+n+"`";console.warn("`"+t+"` modifier is required by "+u+" modifier in order to work, be sure to include it before "+u+"!")}return o}var fA=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Dx=fA.slice(3);function hA(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Dx.indexOf(e),r=Dx.slice(t+1).concat(Dx.slice(0,t));return n?r.reverse():r}var CU={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function mU(e){var n=e.placement,t=n.split("-")[0],r=n.split("-")[1];if(r){var o=e.offsets,u=o.reference,f=o.popper,y=-1!==["bottom","top"].indexOf(t),M=y?"left":"top",H=y?"width":"height",$={start:cg({},M,u[M]),end:cg({},M,u[M]+u[H]-f[H])};e.offsets.popper=Gl({},f,$[r])}return e}},offset:{order:200,enabled:!0,fn:function gU(e,n){var M,t=n.offset,o=e.offsets,u=o.popper,f=o.reference,y=e.placement.split("-")[0];return M=xx(+t)?[+t,0]:function pU(e,n,t,r){var o=[0,0],u=-1!==["right","left"].indexOf(r),f=e.split(/(\+|\-)/).map(function($){return $.trim()}),y=f.indexOf(Uv(f,function($){return-1!==$.search(/,|\s/)}));f[y]&&-1===f[y].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var M=/\s*,\s*|\s+/,H=-1!==y?[f.slice(0,y).concat([f[y].split(M)[0]]),[f[y].split(M)[1]].concat(f.slice(y+1))]:[f];return H=H.map(function($,re){var ye=(1===re?!u:u)?"height":"width",Te=!1;return $.reduce(function(Ge,$e){return""===Ge[Ge.length-1]&&-1!==["+","-"].indexOf($e)?(Ge[Ge.length-1]=$e,Te=!0,Ge):Te?(Ge[Ge.length-1]+=$e,Te=!1,Ge):Ge.concat($e)},[]).map(function(Ge){return function hU(e,n,t,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),u=+o[1],f=o[2];return u?0===f.indexOf("%")?Af("%p"===f?t:r)[n]/100*u:"vh"===f||"vw"===f?("vh"===f?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*u:u:e}(Ge,ye,n,t)})}),H.forEach(function($,re){$.forEach(function(ye,Te){xx(ye)&&(o[re]+=ye*("-"===$[Te-1]?-1:1))})}),o}(t,u,f,y),"left"===y?(u.top+=M[0],u.left-=M[1]):"right"===y?(u.top+=M[0],u.left+=M[1]):"top"===y?(u.left+=M[0],u.top-=M[1]):"bottom"===y&&(u.left+=M[0],u.top+=M[1]),e.popper=u,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function vU(e,n){var t=n.boundariesElement||lg(e.instance.popper);e.instance.reference===t&&(t=lg(t));var r=Cx("transform"),o=e.instance.popper.style,u=o.top,f=o.left,y=o[r];o.top="",o.left="",o[r]="";var M=wx(e.instance.popper,e.instance.reference,n.padding,t,e.positionFixed);o.top=u,o.left=f,o[r]=y,n.boundaries=M;var $=e.offsets.popper,re={primary:function(Te){var Ge=$[Te];return $[Te]<M[Te]&&!n.escapeWithReference&&(Ge=Math.max($[Te],M[Te])),cg({},Te,Ge)},secondary:function(Te){var Ge="right"===Te?"left":"top",$e=$[Ge];return $[Te]>M[Te]&&!n.escapeWithReference&&($e=Math.min($[Ge],M[Te]-("right"===Te?$.width:$.height))),cg({},Ge,$e)}};return n.priority.forEach(function(ye){var Te=-1!==["left","top"].indexOf(ye)?"primary":"secondary";$=Gl({},$,re[Te](ye))}),e.offsets.popper=$,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function fU(e){var n=e.offsets,t=n.popper,r=n.reference,o=e.placement.split("-")[0],u=Math.floor,f=-1!==["top","bottom"].indexOf(o),y=f?"right":"bottom",M=f?"left":"top",H=f?"width":"height";return t[y]<u(r[M])&&(e.offsets.popper[M]=u(r[M])-t[H]),t[M]>u(r[y])&&(e.offsets.popper[M]=u(r[y])),e}},arrow:{order:500,enabled:!0,fn:function uU(e,n){var t;if(!dA(e.instance.modifiers,"arrow","keepTogether"))return e;var r=n.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],u=e.offsets,f=u.popper,y=u.reference,M=-1!==["left","right"].indexOf(o),H=M?"height":"width",$=M?"Top":"Left",re=$.toLowerCase(),ye=M?"left":"top",Te=M?"bottom":"right",Ge=oA(r)[H];y[Te]-Ge<f[re]&&(e.offsets.popper[re]-=f[re]-(y[Te]-Ge)),y[re]+Ge>f[Te]&&(e.offsets.popper[re]+=y[re]+Ge-f[Te]),e.offsets.popper=Af(e.offsets.popper);var $e=y[re]+y[H]/2-Ge/2,ft=kh(e.instance.popper),Dt=parseFloat(ft["margin"+$]),ot=parseFloat(ft["border"+$+"Width"]),Lt=$e-e.offsets.popper[re]-Dt-ot;return Lt=Math.max(Math.min(f[H]-Ge,Lt),0),e.arrowElement=r,e.offsets.arrow=(cg(t={},re,Math.round(Lt)),cg(t,ye,""),t),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function dU(e,n){if(lA(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var t=wx(e.instance.popper,e.instance.reference,n.padding,n.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=w0(r),u=e.placement.split("-")[1]||"",f=[];switch(n.behavior){case"flip":f=[r,o];break;case"clockwise":f=hA(r);break;case"counterclockwise":f=hA(r,!0);break;default:f=n.behavior}return f.forEach(function(y,M){if(r!==y||f.length===M+1)return e;r=e.placement.split("-")[0],o=w0(r);var H=e.offsets.popper,$=e.offsets.reference,re=Math.floor,ye="left"===r&&re(H.right)>re($.left)||"right"===r&&re(H.left)<re($.right)||"top"===r&&re(H.bottom)>re($.top)||"bottom"===r&&re(H.top)<re($.bottom),Te=re(H.left)<re(t.left),Ge=re(H.right)>re(t.right),$e=re(H.top)<re(t.top),ft=re(H.bottom)>re(t.bottom),Dt="left"===r&&Te||"right"===r&&Ge||"top"===r&&$e||"bottom"===r&&ft,ot=-1!==["top","bottom"].indexOf(r),Zn=!!n.flipVariations&&(ot&&"start"===u&&Te||ot&&"end"===u&&Ge||!ot&&"start"===u&&$e||!ot&&"end"===u&&ft)||!!n.flipVariationsByContent&&(ot&&"start"===u&&Ge||ot&&"end"===u&&Te||!ot&&"start"===u&&ft||!ot&&"end"===u&&$e);(ye||Dt||Zn)&&(e.flipped=!0,(ye||Dt)&&(r=f[M+1]),Zn&&(u=function cU(e){return"end"===e?"start":"start"===e?"end":e}(u)),e.placement=r+(u?"-"+u:""),e.offsets.popper=Gl({},e.offsets.popper,aA(e.instance.popper,e.offsets.reference,e.placement)),e=sA(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function bU(e){var n=e.placement,t=n.split("-")[0],r=e.offsets,o=r.popper,u=r.reference,f=-1!==["left","right"].indexOf(t),y=-1===["top","left"].indexOf(t);return o[f?"left":"top"]=u[t]-(y?o[f?"width":"height"]:0),e.placement=w0(n),e.offsets.popper=Af(o),e}},hide:{order:800,enabled:!0,fn:function yU(e){if(!dA(e.instance.modifiers,"hide","preventOverflow"))return e;var n=e.offsets.reference,t=Uv(e.instance.modifiers,function(r){return"preventOverflow"===r.name}).boundaries;if(n.bottom<t.top||n.left>t.right||n.top>t.bottom||n.right<t.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function lU(e,n){var t=n.x,r=n.y,o=e.offsets.popper,u=Uv(e.instance.modifiers,function(Lt){return"applyStyle"===Lt.name}).gpuAcceleration;void 0!==u&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var Ge,$e,f=void 0!==u?u:n.gpuAcceleration,y=lg(e.instance.popper),M=yx(y),H={position:o.position},$=function aU(e,n){var t=e.offsets,r=t.popper,u=Math.round,f=Math.floor,y=function(Dt){return Dt},M=u(t.reference.width),H=u(r.width),$=-1!==["left","right"].indexOf(e.placement),re=-1!==e.placement.indexOf("-"),Ge=n?$||re||M%2==H%2?u:f:y,$e=n?u:y;return{left:Ge(M%2==1&&H%2==1&&!re&&n?r.left-1:r.left),top:$e(r.top),bottom:$e(r.bottom),right:Ge(r.right)}}(e,window.devicePixelRatio<2||!sU),re="bottom"===t?"top":"bottom",ye="right"===r?"left":"right",Te=Cx("transform");if($e="bottom"===re?"HTML"===y.nodeName?-y.clientHeight+$.bottom:-M.height+$.bottom:$.top,Ge="right"===ye?"HTML"===y.nodeName?-y.clientWidth+$.right:-M.width+$.right:$.left,f&&Te)H[Te]="translate3d("+Ge+"px, "+$e+"px, 0)",H[re]=0,H[ye]=0,H.willChange="transform";else{var Dt="right"===ye?-1:1;H[re]=$e*("bottom"===re?-1:1),H[ye]=Ge*Dt,H.willChange=re+", "+ye}return e.attributes=Gl({},{"x-placement":e.placement},e.attributes),e.styles=Gl({},H,e.styles),e.arrowStyles=Gl({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function iU(e){return Ex(e.instance.popper,e.styles),function rU(e,n){Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})}(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&Ex(e.arrowElement,e.arrowStyles),e},onLoad:function oU(e,n,t,r,o){var u=iA(o,n,e,t.positionFixed),f=rA(t.placement,u,n,e,t.modifiers.flip.boundariesElement,t.modifiers.flip.padding);return n.setAttribute("x-placement",f),Ex(n,{position:t.positionFixed?"fixed":"absolute"}),t},gpuAcceleration:void 0}}},C0=function(){function e(n,t){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=G4(this.update.bind(this)),this.options=Gl({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n&&n.jquery?n[0]:n,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(Gl({},e.Defaults.modifiers,o.modifiers)).forEach(function(f){r.options.modifiers[f]=Gl({},e.Defaults.modifiers[f]||{},o.modifiers?o.modifiers[f]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(f){return Gl({name:f},r.options.modifiers[f])}).sort(function(f,y){return f.order-y.order}),this.modifiers.forEach(function(f){f.enabled&&XI(f.onLoad)&&f.onLoad(r.reference,r.popper,r.options,f,r.state)}),this.update();var u=this.options.eventsEnabled;u&&this.enableEventListeners(),this.state.eventsEnabled=u}return Y4(e,[{key:"update",value:function(){return q4.call(this)}},{key:"destroy",value:function(){return Q4.call(this)}},{key:"enableEventListeners",value:function(){return eU.call(this)}},{key:"disableEventListeners",value:function(){return nU.call(this)}}]),e}();C0.Utils=(typeof window<"u"?window:global).PopperUtils,C0.placements=fA,C0.Defaults=CU;const xU=C0;function Ns(){return Ns=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ns.apply(this,arguments)}var zv=typeof window<"u"&&typeof document<"u",pA=zv?navigator.userAgent:"",gA=/MSIE |Trident\//.test(pA),vA=/UCBrowser\//.test(pA),mA=zv&&/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,wc={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrow:!1,arrowType:"sharp",boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},placement:"top",popperOptions:{},role:"tooltip",showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,wait:null,zIndex:9999},SU=["arrow","arrowType","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],Gv=zv?Element.prototype:{},_x=Gv.matches||Gv.matchesSelector||Gv.webkitMatchesSelector||Gv.mozMatchesSelector||Gv.msMatchesSelector;function jv(e){return[].slice.call(e)}function x0(e,n){return Mx(e,function(t){return _x.call(t,n)})}function Mx(e,n){for(;e;){if(n(e))return e;e=e.parentElement}return null}var Tx={passive:!0},Ix=4,Ax="x-placement",Nx="x-out-of-boundaries",yA="tippy-iOS",bA="tippy-active",wA="tippy-popper",CA="tippy-tooltip",xA="tippy-content",EA="tippy-backdrop",DA="tippy-arrow",SA="tippy-roundarrow",Ox=".".concat(wA),_U=".".concat(CA),MU=".".concat(xA),TU=".".concat(EA),IU=".".concat(DA),AU=".".concat(SA),Nf=!1;function NU(){Nf||(Nf=!0,mA&&document.body.classList.add(yA),window.performance&&document.addEventListener("mousemove",MA))}var _A=0;function MA(){var e=performance.now();e-_A<20&&(Nf=!1,document.removeEventListener("mousemove",MA),mA||document.body.classList.remove(yA)),_A=e}function OU(){var n=document.activeElement;n&&n.blur&&n._tippy&&n.blur()}var LU=Object.keys(wc);function E0(e,n){return{}.hasOwnProperty.call(e,n)}function D0(e,n,t){return Array.isArray(e)?e[n]??t:e}function TA(e,n){return 0===n?e:function(r){clearTimeout(t),t=setTimeout(function(){e(r)},n)};var t}function S0(e,n){return e&&e.modifiers&&e.modifiers[n]}function Rx(e,n){return e.indexOf(n)>-1}function Wv(e){return e instanceof Element}function IA(e){return!(!e||!E0(e,"isVirtual"))||Wv(e)}function Lx(e,n){return"function"==typeof e?e.apply(null,n):e}function NA(e,n){e.filter(function(t){return"flip"===t.name})[0].enabled=n}function $v(){return document.createElement("div")}function Yv(e,n){e.forEach(function(t){t&&(t.style.transitionDuration="".concat(n,"ms"))})}function OA(e,n){e.forEach(function(t){t&&t.setAttribute("data-state",n)})}function RA(e,n){var t=Ns({},n,{content:Lx(n.content,[e])},n.ignoreAttributes?{}:function kU(e){return LU.reduce(function(n,t){var r=(e.getAttribute("data-tippy-".concat(t))||"").trim();if(!r)return n;if("content"===t)n[t]=r;else try{n[t]=JSON.parse(r)}catch{n[t]=r}return n},{})}(e));return(t.arrow||vA)&&(t.animateFill=!1),t}function LA(e,n){Object.keys(e).forEach(function(t){if(!E0(n,t))throw new Error("[tippy]: `".concat(t,"` is not a valid option"))})}function kA(e,n){e.innerHTML=Wv(n)?n.innerHTML:n}function PA(e,n){Wv(n.content)?(kA(e,""),e.appendChild(n.content)):"function"!=typeof n.content&&(e[n.allowHTML?"innerHTML":"textContent"]=n.content)}function kx(e){return{tooltip:e.querySelector(_U),backdrop:e.querySelector(TU),content:e.querySelector(MU),arrow:e.querySelector(IU)||e.querySelector(AU)}}function FA(e){e.setAttribute("data-inertia","")}function Px(e){var n=$v();return"round"===e?(n.className=SA,kA(n,'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>')):n.className=DA,n}function BA(){var e=$v();return e.className=EA,e.setAttribute("data-state","hidden"),e}function VA(e,n){e.setAttribute("tabindex","-1"),n.setAttribute("data-interactive","")}function Fx(e,n,t){var r=vA&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";e[n+"EventListener"](r,t)}function Bx(e){var n=e.getAttribute(Ax);return n?n.split("-")[0]:""}function Vx(e,n,t){t.split(" ").forEach(function(r){e.classList[n](r+"-theme")})}var KU=1,_0=[];function HA(e,n){var t=RA(e,n);if(!t.multiple&&e._tippy)return null;var r,o,u,f,y,$,Te,Ge,ft,M=!1,H=!1,re=!1,ye=!1,$e=[],Dt=TA(VN,t.interactiveDebounce),ot=KU++,Lt=function jU(e,n){var t=$v();t.className=wA,t.id="tippy-".concat(e),t.style.zIndex=""+n.zIndex,t.style.position="absolute",t.style.top="0",t.style.left="0",n.role&&t.setAttribute("role",n.role);var r=$v();r.className=CA,r.style.maxWidth=n.maxWidth+("number"==typeof n.maxWidth?"px":""),r.setAttribute("data-size",n.size),r.setAttribute("data-animation",n.animation),r.setAttribute("data-state","hidden"),Vx(r,"add",n.theme);var o=$v();return o.className=xA,o.setAttribute("data-state","hidden"),n.interactive&&VA(t,r),n.arrow&&r.appendChild(Px(n.arrowType)),n.animateFill&&(r.appendChild(BA()),r.setAttribute("data-animatefill","")),n.inertia&&FA(r),PA(o,n),r.appendChild(o),t.appendChild(r),t}(ot,t),Bn=kx(Lt),pt={id:ot,reference:e,popper:Lt,popperChildren:Bn,popperInstance:null,props:t,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},clearDelayTimeouts:z0,set:WN,setContent:function uj(kt){WN({content:kt})},show:Zx,hide:im,enable:function sj(){pt.state.isEnabled=!0},disable:function lj(){pt.state.isEnabled=!1},destroy:function cj(kt){if(!pt.state.isDestroyed){H=!0,pt.state.isMounted&&im(0),FN(),delete e._tippy;var qn=pt.props.target;qn&&kt&&Wv(e)&&jv(e.querySelectorAll(qn)).forEach(function(lr){lr._tippy&&lr._tippy.destroy()}),pt.popperInstance&&pt.popperInstance.destroy(),H=!1,pt.state.isDestroyed=!0}}};return e._tippy=pt,Lt._tippy=pt,PN(),t.lazy||H0(),t.showOnInit&&U0(),t.a11y&&!t.target&&!function HU(e){return!Wv(e)||_x.call(e,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!e.hasAttribute("disabled")}(Su())&&Su().setAttribute("tabindex","0"),Lt.addEventListener("mouseenter",function(kt){pt.props.interactive&&pt.state.isVisible&&"mouseenter"===r&&U0(kt,!0)}),Lt.addEventListener("mouseleave",function(){pt.props.interactive&&"mouseenter"===r&&document.addEventListener("mousemove",Dt)}),pt;function rm(){document.removeEventListener("mousemove",V0)}function B0(){document.body.removeEventListener("mouseleave",Uh),document.removeEventListener("mousemove",Dt),_0=_0.filter(function(kt){return kt!==Dt})}function Su(){return pt.props.triggerTarget||e}function ON(){document.addEventListener("click",jN,!0)}function RN(){document.removeEventListener("click",jN,!0)}function LN(){return[pt.popperChildren.tooltip,pt.popperChildren.backdrop,pt.popperChildren.content]}function Xx(){var kt=pt.props.followCursor;return kt&&"focus"!==r||Nf&&"initial"===kt}function kN(kt,qn){var lr=pt.popperChildren.tooltip;function Do(Rf){Rf.target===lr&&(Fx(lr,"remove",Do),qn())}if(0===kt)return qn();Fx(lr,"remove",Ge),Fx(lr,"add",Do),Ge=Do}function xc(kt,qn){var lr=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Su().addEventListener(kt,qn,lr),$e.push({eventType:kt,handler:qn,options:lr})}function PN(){pt.props.touchHold&&!pt.props.target&&(xc("touchstart",BN,Tx),xc("touchend",HN,Tx)),pt.props.trigger.trim().split(" ").forEach(function(kt){if("manual"!==kt)if(pt.props.target)switch(kt){case"mouseenter":xc("mouseover",Kx),xc("mouseout",UN);break;case"focus":xc("focusin",Kx),xc("focusout",UN);break;case"click":xc(kt,Kx)}else switch(xc(kt,BN),kt){case"mouseenter":xc("mouseleave",HN);break;case"focus":xc(gA?"focusout":"blur",oj)}})}function FN(){$e.forEach(function(kt){var qn=kt.eventType,lr=kt.handler,Do=kt.options;Su().removeEventListener(qn,lr,Do)}),$e=[]}function V0(kt){var qn=o=kt,lr=qn.clientX,Do=qn.clientY;if(ft){var Rf=Mx(kt.target,function(XN){return XN===e}),zh=e.getBoundingClientRect(),om=pt.props.followCursor,_u="horizontal"===om,jl="vertical"===om,Mu=Rx(["top","bottom"],Bx(Lt)),Os=Lt.getAttribute(Ax),Od=!!Os&&!!Os.split("-")[1],Rd=Mu?Lt.offsetWidth:Lt.offsetHeight,G0=Rd/2,$N=Mu?0:Od?Rd:G0,YN=Mu?Od?Rd:G0:0;(Rf||!pt.props.interactive)&&(pt.popperInstance.reference=Ns({},pt.popperInstance.reference,{referenceNode:e,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:Mu?Rd:0,height:Mu?0:Rd,top:(_u?zh.top:Do)-$N,bottom:(_u?zh.bottom:Do)+$N,left:(jl?zh.left:lr)-YN,right:(jl?zh.right:lr)+YN}}}),pt.popperInstance.update()),"initial"===om&&pt.state.isVisible&&rm()}}function BN(kt){!pt.state.isEnabled||zN(kt)||(pt.state.isVisible||(r=kt.type,kt instanceof MouseEvent&&(o=kt,_0.forEach(function(qn){return qn(kt)}))),"click"===kt.type&&!1!==pt.props.hideOnClick&&pt.state.isVisible?Uh():U0(kt))}function VN(kt){var qn=x0(kt.target,Ox)===Lt,lr=Mx(kt.target,function(Do){return Do===e});qn||lr||function YU(e,n,t,r){if(!e)return!0;var o=t.clientX,u=t.clientY,f=r.interactiveBorder,y=r.distance;return n.top-u>("top"===e?f+y:f)||u-n.bottom>("bottom"===e?f+y:f)||n.left-o>("left"===e?f+y:f)||o-n.right>("right"===e?f+y:f)}(Bx(Lt),Lt.getBoundingClientRect(),kt,pt.props)&&(B0(),Uh())}function HN(kt){if(!zN(kt)){if(pt.props.interactive)return document.body.addEventListener("mouseleave",Uh),document.addEventListener("mousemove",Dt),void _0.push(Dt);Uh()}}function oj(kt){kt.target===Su()&&(pt.props.interactive&&kt.relatedTarget&&Lt.contains(kt.relatedTarget)||Uh())}function Kx(kt){x0(kt.target,pt.props.target)&&U0(kt)}function UN(kt){x0(kt.target,pt.props.target)&&Uh()}function zN(kt){var qn="ontouchstart"in window,lr=Rx(kt.type,"touch"),Do=pt.props.touchHold;return qn&&Nf&&Do&&!lr||Nf&&!Do&&lr}function GN(){!ye&&Te&&(ye=!0,Te())}function H0(){var kt=pt.props.popperOptions,qn=pt.popperChildren,lr=qn.tooltip,Do=qn.arrow,Rf=S0(kt,"preventOverflow");function zh(_u){pt.props.flip&&!pt.props.flipOnUpdate&&(_u.flipped&&(pt.popperInstance.options.placement=_u.placement),NA(pt.popperInstance.modifiers,!1)),lr.setAttribute(Ax,_u.placement),!1!==_u.attributes[Nx]?lr.setAttribute(Nx,""):lr.removeAttribute(Nx),$&&$!==_u.placement&&re&&(lr.style.transition="none",requestAnimationFrame(function(){lr.style.transition=""})),$=_u.placement,re=pt.state.isVisible;var jl=Bx(Lt),Mu=lr.style;Mu.top=Mu.bottom=Mu.left=Mu.right="",Mu[jl]=function XU(e){return-(e-10)+"px"}(pt.props.distance);var Os=Rf&&void 0!==Rf.padding?Rf.padding:Ix,Od="number"==typeof Os,Rd=Ns({top:Od?Os:Os.top,bottom:Od?Os:Os.bottom,left:Od?Os:Os.left,right:Od?Os:Os.right},!Od&&Os);Rd[jl]=Od?Os+pt.props.distance:(Os[jl]||0)+pt.props.distance,pt.popperInstance.modifiers.filter(function(G0){return"preventOverflow"===G0.name})[0].padding=Rd,ft=Rd}var om=Ns({eventsEnabled:!1,placement:pt.props.placement},kt,{modifiers:Ns({},kt?kt.modifiers:{},{preventOverflow:Ns({boundariesElement:pt.props.boundary,padding:Ix},Rf),arrow:Ns({element:Do,enabled:!!Do},S0(kt,"arrow")),flip:Ns({enabled:pt.props.flip,padding:pt.props.distance+Ix,behavior:pt.props.flipBehavior},S0(kt,"flip")),offset:Ns({offset:pt.props.offset},S0(kt,"offset"))}),onCreate:function(jl){zh(jl),GN(),kt&&kt.onCreate&&kt.onCreate(jl)},onUpdate:function(jl){zh(jl),GN(),kt&&kt.onUpdate&&kt.onUpdate(jl)}});pt.popperInstance=new xU(e,Lt,om)}function U0(kt,qn){if(z0(),!pt.state.isVisible){if(pt.props.target)return function ij(kt){if(kt){var qn=x0(kt.target,pt.props.target);qn&&!qn._tippy&&HA(qn,Ns({},pt.props,{content:Lx(n.content,[qn]),appendTo:n.appendTo,target:"",showOnInit:!0}))}}(kt);if(M=!0,kt&&!qn&&pt.props.onTrigger(pt,kt),pt.props.wait)return pt.props.wait(pt,kt);Xx()&&!pt.state.isMounted&&(pt.popperInstance||H0(),document.addEventListener("mousemove",V0)),ON();var lr=D0(pt.props.delay,0,wc.delay);lr?u=setTimeout(function(){Zx()},lr):Zx()}}function Uh(){if(z0(),!pt.state.isVisible)return rm(),void RN();M=!1;var kt=D0(pt.props.delay,1,wc.delay);kt?f=setTimeout(function(){pt.state.isVisible&&im()},kt):y=requestAnimationFrame(function(){im()})}function jN(kt){pt.props.interactive&&Lt.contains(kt.target)||Su().contains(kt.target)&&(Nf||pt.state.isVisible&&Rx(pt.props.trigger,"click"))||!0===pt.props.hideOnClick&&(z0(),im())}function z0(){clearTimeout(u),clearTimeout(f),cancelAnimationFrame(y)}function WN(kt){LA(kt=kt||{},wc),FN();var qn=pt.props,lr=RA(e,Ns({},pt.props,{},kt,{ignoreAttributes:!0}));lr.ignoreAttributes=E0(kt,"ignoreAttributes")?kt.ignoreAttributes||!1:qn.ignoreAttributes,pt.props=lr,PN(),B0(),Dt=TA(VN,lr.interactiveDebounce),function WU(e,n,t){var r=kx(e),o=r.tooltip,u=r.content,f=r.backdrop,y=r.arrow;e.style.zIndex=""+t.zIndex,o.setAttribute("data-size",t.size),o.setAttribute("data-animation",t.animation),o.style.maxWidth=t.maxWidth+("number"==typeof t.maxWidth?"px":""),t.role?e.setAttribute("role",t.role):e.removeAttribute("role"),n.content!==t.content&&PA(u,t),!n.animateFill&&t.animateFill?(o.appendChild(BA()),o.setAttribute("data-animatefill","")):n.animateFill&&!t.animateFill&&(o.removeChild(f),o.removeAttribute("data-animatefill")),!n.arrow&&t.arrow?o.appendChild(Px(t.arrowType)):n.arrow&&!t.arrow&&o.removeChild(y),n.arrow&&t.arrow&&n.arrowType!==t.arrowType&&o.replaceChild(Px(t.arrowType),y),!n.interactive&&t.interactive?VA(e,o):n.interactive&&!t.interactive&&function zU(e,n){e.removeAttribute("tabindex"),n.removeAttribute("data-interactive")}(e,o),!n.inertia&&t.inertia?FA(o):n.inertia&&!t.inertia&&function UU(e){e.removeAttribute("data-inertia")}(o),n.theme!==t.theme&&(Vx(o,"remove",n.theme),Vx(o,"add",t.theme))}(Lt,qn,lr),pt.popperChildren=kx(Lt),pt.popperInstance&&(SU.some(function(Do){return E0(kt,Do)&&kt[Do]!==qn[Do]})?(pt.popperInstance.destroy(),H0(),pt.state.isVisible&&pt.popperInstance.enableEventListeners(),pt.props.followCursor&&o&&V0(o)):pt.popperInstance.update())}function Zx(){var kt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D0(pt.props.duration,0,wc.duration[1]);if(!pt.state.isDestroyed&&pt.state.isEnabled&&(!Nf||pt.props.touch)&&!Su().hasAttribute("disabled")&&!1!==pt.props.onShow(pt)){ON(),Lt.style.visibility="visible",pt.state.isVisible=!0,pt.props.interactive&&Su().classList.add(bA);var qn=LN();Yv(qn.concat(Lt),0),Te=function(){if(pt.state.isVisible){var Do=Xx();Do&&o?V0(o):Do||pt.popperInstance.update(),pt.popperChildren.backdrop&&(pt.popperChildren.content.style.transitionDelay=Math.round(kt/12)+"ms"),pt.props.sticky&&function tj(){Yv([Lt],gA?0:pt.props.updateDuration);var kt=e.getBoundingClientRect();!function qn(){var lr=e.getBoundingClientRect();(kt.top!==lr.top||kt.right!==lr.right||kt.bottom!==lr.bottom||kt.left!==lr.left)&&pt.popperInstance.scheduleUpdate(),kt=lr,pt.state.isMounted&&requestAnimationFrame(qn)}()}(),Yv([Lt],pt.props.updateDuration),Yv(qn,kt),OA(qn,"visible"),function rj(kt,qn){kN(kt,qn)}(kt,function(){pt.props.aria&&Su().setAttribute("aria-".concat(pt.props.aria),Lt.id),pt.props.onShown(pt),pt.state.isShown=!0})}},function aj(){ye=!1;var kt=Xx();pt.popperInstance?(NA(pt.popperInstance.modifiers,pt.props.flip),kt||(pt.popperInstance.reference=e,pt.popperInstance.enableEventListeners()),pt.popperInstance.scheduleUpdate()):(H0(),kt||pt.popperInstance.enableEventListeners());var qn=pt.props.appendTo,lr="parent"===qn?e.parentNode:Lx(qn,[e]);lr.contains(Lt)||(lr.appendChild(Lt),pt.props.onMount(pt),pt.state.isMounted=!0)}()}}function im(){var kt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D0(pt.props.duration,1,wc.duration[1]);if(!pt.state.isDestroyed&&(pt.state.isEnabled||H)&&(!1!==pt.props.onHide(pt)||H)){RN(),Lt.style.visibility="hidden",pt.state.isVisible=!1,pt.state.isShown=!1,re=!1,pt.props.interactive&&Su().classList.remove(bA);var qn=LN();Yv(qn,kt),OA(qn,"hidden"),function nj(kt,qn){kN(kt,function(){!pt.state.isVisible&&Lt.parentNode&&Lt.parentNode.contains(Lt)&&qn()})}(kt,function(){M||rm(),pt.props.aria&&Su().removeAttribute("aria-".concat(pt.props.aria)),pt.popperInstance.disableEventListeners(),pt.popperInstance.options.placement=pt.props.placement,Lt.parentNode.removeChild(Lt),pt.props.onHidden(pt),pt.state.isMounted=!1})}}}var UA=!1;function Ph(e,n){LA(n||{},wc),UA||(function RU(){document.addEventListener("touchstart",NU,Tx),window.addEventListener("blur",OU)}(),UA=!0);var t=Ns({},wc,{},n);(function FU(e){return"[object Object]"==={}.toString.call(e)&&!e.addEventListener})(e)&&function PU(e){var n={isVirtual:!0,attributes:e.attributes||{},contains:function(){},setAttribute:function(o,u){e.attributes[o]=u},getAttribute:function(o){return e.attributes[o]},removeAttribute:function(o){delete e.attributes[o]},hasAttribute:function(o){return o in e.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(o){e.classList.classNames[o]=!0},remove:function(o){delete e.classList.classNames[o]},contains:function(o){return o in e.classList.classNames}}};for(var t in n)e[t]=n[t]}(e);var r=function VU(e){if(IA(e))return[e];if(e instanceof NodeList)return jv(e);if(Array.isArray(e))return e;try{return jv(document.querySelectorAll(e))}catch{return[]}}(e).reduce(function(o,u){var f=u&&HA(u,t);return f&&o.push(f),o},[]);return IA(e)?r[0]:r}Ph.version="4.3.5",Ph.defaults=wc,Ph.setDefaults=function(e){Object.keys(e).forEach(function(n){wc[n]=e[n]})},Ph.hideAll=function $U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.exclude,t=e.duration;jv(document.querySelectorAll(Ox)).forEach(function(r){var o=r._tippy;if(o){var u=!1;n&&(u=function BU(e){return!!e._tippy&&!_x.call(e,Ox)}(n)?o.reference===n:r===n.popper),u||o.hide(t)}})},Ph.group=function ZU(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.delay,r=void 0===t?e[0].props.delay:t,o=n.duration,u=void 0===o?0:o,f=!1;function y(ye){f=ye,re()}function M(ye){ye._originalProps.onShow(ye),e.forEach(function(Te){Te.set({duration:u}),Te.state.isVisible&&Te.hide()}),y(!0)}function H(ye){ye._originalProps.onHide(ye),y(!1)}function $(ye){ye._originalProps.onShown(ye),ye.set({duration:ye._originalProps.duration})}function re(){e.forEach(function(ye){ye.set({onShow:M,onShown:$,onHide:H,delay:f?[0,Array.isArray(r)?r[1]:r]:r,duration:f?u:ye._originalProps.duration})})}e.forEach(function(ye){ye._originalProps?ye.set(ye._originalProps):ye._originalProps=Ns({},ye.props)}),re()},zv&&setTimeout(function qU(){jv(document.querySelectorAll("[data-tippy]")).forEach(function(e){var n=e.getAttribute("data-tippy");n&&Ph(e,{content:n})})}),function QU(e){if(zv){var n=document.createElement("style");n.type="text/css",n.textContent=e,n.setAttribute("data-tippy-stylesheet","");var t=document.head,r=t.querySelector("style,link");r?t.insertBefore(n,r):t.appendChild(n)}}('.tippy-iOS{cursor:pointer!important;-webkit-tap-highlight-color:transparent}.tippy-popper{transition-timing-function:cubic-bezier(.165,.84,.44,1);max-width:calc(100% - 8px);pointer-events:none;outline:0}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-7px;bottom:-6.5px;-webkit-transform-origin:50% 0;transform-origin:50% 0;margin:0 3px}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 3px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(-10px);transform:perspective(700px) translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(60deg);transform:perspective(700px) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=top] [data-animation=scale]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px) scale(.5);transform:translateY(-10px) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-7px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;margin:0 3px}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(10px);transform:perspective(700px) translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(-60deg);transform:perspective(700px) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=scale]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px) scale(.5);transform:translateY(10px) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-12px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%;margin:3px 0}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(-10px);transform:perspective(700px) translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(-60deg);transform:perspective(700px) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=left] [data-animation=scale]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px) scale(.5);transform:translateX(-10px) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-12px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%;margin:3px 0}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(10px);transform:perspective(700px) translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(60deg);transform:perspective(700px) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=right] [data-animation=scale]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px) scale(.5);transform:translateX(10px) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:.25rem;font-size:.875rem;padding:.3125rem .5625rem;line-height:1.4;text-align:center;background-color:#333}.tippy-tooltip[data-size=small]{padding:.1875rem .375rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.375rem .75rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:initial}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] .tippy-roundarrow path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:18px;height:7px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}');const Xv=Ph;var JU=D(6827),ez=D.n(JU);As().use(ez()),As().use(y0());const tz=[{selector:'node[node_type="input"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="cnode"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="annotation"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="proj"]',style:{width:3,"line-color":"#ccc","line-style":"dashed","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:"edge[label]",style:{label:"data(label)","text-rotation":"autorotate","text-margin-x":15,"text-margin-y":0}}],nz=[{selector:'node[color="yellow"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="red"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="blue"]',style:{content:"data(id)",color:"back",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="green"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="orange"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"orange white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'edge[edge_type="default"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="external"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","line-style":"dashed","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="parent"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}];let rz=(()=>{class e{ngAfterViewInit(){"liger"==this.graphStyle?(this.styleArray=tz,this.layout="dagre"):"glue"==this.graphStyle&&(this.styleArray=nz,this.layout="cise"),this.cy=As()({container:document.getElementById(this.graphID),style:this.styleArray,layout:{name:this.layout}})}renderGraph(t){this.cy=As()({container:document.getElementById(this.graphID),elements:t,style:this.styleArray,layout:{name:this.layout}}),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy),"liger"==this.graphStyle?this.createAndBindLigerPoppers():"glue"==this.graphStyle&&this.createAndBindGswbPoppers()}makeLigerPopper(t){const r=t.popperRef();t.tippy=Xv(r,{content:()=>{let o=document.createElement("div");var u=t._private.data;if(u.hasOwnProperty("avp"))for(var f in u.avp)o.innerHTML=o.innerHTML+f+" : "+u.avp[f]+"<br>";return o},trigger:"manual"})}createAndBindLigerPoppers(){this.cy.nodes().forEach(t=>{t.data().hasOwnProperty("avp")&&(this.makeLigerPopper(t),t.bind("mouseover",o=>o.target.tippy.show()),t.bind("mouseout",o=>o.target.tippy.hide()))})}makeGswbPopper(t){const r=t.popperRef();t.tippy=Xv(r,{content:()=>{let o=document.createElement("div");o.style.backgroundColor="black";var u=t._private.data;if(u.hasOwnProperty("solutions"))for(var f of u.solutions)o.innerHTML=o.innerHTML+f+"<br>";return o},trigger:"manual"})}createAndBindGswbPoppers(){this.cy.nodes().forEach(t=>{t.data().hasOwnProperty("solutions")&&(this.makeGswbPopper(t),t.bind("mouseover",o=>o.target.tippy.show()),t.bind("mouseout",o=>o.target.tippy.hide()))})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ti({type:e,selectors:[["app-sub-graph"]],inputs:{graphStyle:"graphStyle",graphID:"graphID"},decls:2,vars:1,consts:[[1,"cy",3,"id"]],template:function(t,r){1&t&&(yt(0,"div"),Xn(1,"div",0),mt()),2&t&&(Rn(1),Un("id",r.graphID))},styles:["div.cy[_ngcontent-%COMP%]{width:800px;height:600px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),e})();const iz=["subgraphVis"],oz=["subGraphDialog"];let Hx=(()=>{class e{setContent(t){console.log(t),setTimeout(()=>{this.subgraphVis.renderGraph(t)},0)}showDialog(){this.subGraphDialog.nativeElement.show()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ti({type:e,selectors:[["app-sub-graph-dialog"]],viewQuery:function(t,r){if(1&t&&(Fr(iz,5),Fr(oz,5)),2&t){let o;Dr(o=Sr())&&(r.subgraphVis=o.first),Dr(o=Sr())&&(r.subGraphDialog=o.first)}},inputs:{subgraphID:"subgraphID",subgraphStyle:"subgraphStyle"},decls:7,vars:2,consts:[[1,"center-dialog"],["subGraphDialog",""],[3,"graphID","graphStyle"],["subgraphVis",""],[3,"click"]],template:function(t,r){if(1&t){const o=Dd();yt(0,"dialog",0,1)(2,"div"),Xn(3,"app-sub-graph",2,3),mt(),yt(5,"button",4),ir("click",function(){return nr(o),da(dc(1).close())}),jt(6," OK "),mt()()}2&t&&(Rn(3),Un("graphID",r.subgraphID)("graphStyle",r.subgraphStyle))},dependencies:[rz],styles:[".center-dialog[_ngcontent-%COMP%]{position:fixed;z-index:9999;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),e})();const az=["graphContainer"],sz=["subgraphDialog"];As().use(y0());const zA=[{selector:'node[color="yellow"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="red"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="blue"]',style:{content:"data(id)",color:"back",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="green"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:'node[color="orange"]',style:{content:"data(id)",color:"black",shape:"rectangle","text-valign":"center","text-halign":"center","background-fill":"linear-gradient","background-gradient-stop-colors":"orange white","background-gradient-stop-positions":"0 30 60",width:"label",height:"label",padding:"10px"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="parent"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}];let GA=(()=>{class e{constructor(){this.defaultWidth="800px",this.defaultHeight="600px"}ngAfterViewInit(){this.cy=As()({container:document.getElementById(this.graphID),style:zA,layout:{name:"dagre"}})}handleNodeDoubleClick(t,r){console.log("Clicked node with id: ",t),setTimeout(()=>{this.subgraphDialog.setContent(r.graphElements)},0),setTimeout(()=>{this.subgraphDialog.showDialog()},0)}renderGraph(t){this.cy=As()({container:document.getElementById(this.graphID),elements:t,style:zA,layout:{name:"dagre"}}),this.createAndBindPoppers(),this.cy.on("dblclick","node",r=>{let o=r.target,u=o.id(),f=o.data();console.log(f),f.hasOwnProperty("subgraph")&&this.handleNodeDoubleClick(u,f.subgraph)})}makePopper(t){const r=t.popperRef();t.tippy=Xv(r,{content:()=>{let o=document.createElement("div");var u=t._private.data;if(u.hasOwnProperty("solutions"))for(var f of u.solutions)o.innerHTML=o.innerHTML+f+"<br>";return o},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(t=>{t.data().hasOwnProperty("solutions")&&(this.makePopper(t),t.bind("mouseover",o=>o.target.tippy.show()),t.bind("mouseout",o=>o.target.tippy.hide()))})}resizeToDefault(){const t=this.graphContainer.nativeElement;t.style.width=this.defaultWidth,t.style.height=this.defaultHeight}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ti({type:e,selectors:[["app-gswb-graph-vis"]],viewQuery:function(t,r){if(1&t&&(Fr(az,5),Fr(sz,5)),2&t){let o;Dr(o=Sr())&&(r.graphContainer=o.first),Dr(o=Sr())&&(r.subgraphDialog=o.first)}},inputs:{graphID:"graphID"},decls:7,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[1,"resize",3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(t,r){1&t&&(yt(0,"div"),Xn(1,"div",0,1),yt(3,"button",2),ir("click",function(){return r.resizeToDefault()}),jt(4,"Resize to Default"),mt(),Xn(5,"app-sub-graph-dialog",3,4),mt()),2&t&&(Rn(1),Un("id",r.graphID),Rn(4),Un("subgraphID","sub"+r.graphID)("subgraphStyle","glue"))},dependencies:[Hx],styles:["div.cy[_ngcontent-%COMP%]{width:760px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),e})();const lz=["editorVis"],uz=["graphVis"];function cz(e,n){1&e&&(yt(0,"div",1),Xn(1,"app-editor",2,3),mt()),2&e&&(Rn(1),Un("mode","glue"))}function dz(e,n){1&e&&(yt(0,"div",1),Xn(1,"app-gswb-graph-vis",4,5),mt()),2&e&&(Rn(1),Un("graphID","gswbCy1"))}let fz=(()=>{class e{ngAfterViewInit(){this.showEditor=!1,this.showGraph=!1}editorVisUpdateContent(t){console.log(this.editorVis),this.editorVis.updateContent(t)}graphVisUpdateContent(t){console.log(this.graphVis),this.graphVis.renderGraph(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ti({type:e,selectors:[["app-derivation-container"]],viewQuery:function(t,r){if(1&t&&(Fr(lz,5),Fr(uz,5)),2&t){let o;Dr(o=Sr())&&(r.editorVis=o.first),Dr(o=Sr())&&(r.graphVis=o.first)}},decls:4,vars:2,consts:[["class","viscontainer",4,"ngIf"],[1,"viscontainer"],[3,"mode"],["editorVis",""],[3,"graphID"],["graphVis",""]],template:function(t,r){1&t&&(yt(0,"h3"),jt(1,"Derivation:"),mt(),Yo(2,cz,3,1,"div",0),Yo(3,dz,3,1,"div",0)),2&t&&(Rn(2),Un("ngIf",r.showEditor),Rn(1),Un("ngIf",r.showGraph))},dependencies:[xf,Bv,GA],styles:["div.viscontainer[_ngcontent-%COMP%]{max-width:800px}"]}),e})();const hz=["dialog"],pz=["graphVis"],gz=["editorVis"];function vz(e,n){1&e&&(yt(0,"div"),Xn(1,"app-editor",4,5),mt()),2&e&&(Rn(1),Un("mode","glue"))}function mz(e,n){1&e&&(yt(0,"div"),Xn(1,"app-gswb-graph-vis",6,7),mt()),2&e&&(Rn(1),Un("graphID","gswbCy2"))}let yz=(()=>{class e{ngAfterViewInit(){this.showEdit=!1,this.showGraph=!1}setContent(t){console.log(t),"string"==typeof t||t instanceof String?(this.showGraph=!1,this.showEdit=!0,t=t.toString(),setTimeout(()=>{this.editorVis.updateContent(t)},0)):(this.showGraph=!0,this.showEdit=!1,setTimeout(()=>{this.graphVis.renderGraph(t)},0))}showDialog(){this.dialog.nativeElement.show()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ti({type:e,selectors:[["app-dialog"]],viewQuery:function(t,r){if(1&t&&(Fr(hz,5),Fr(pz,5),Fr(gz,5)),2&t){let o;Dr(o=Sr())&&(r.dialog=o.first),Dr(o=Sr())&&(r.graphVis=o.first),Dr(o=Sr())&&(r.editorVis=o.first)}},decls:10,vars:2,consts:[[1,"center-dialog"],["dialog",""],[4,"ngIf"],[3,"click"],[3,"mode"],["editorVis",""],[3,"graphID"],["graphVis",""]],template:function(t,r){if(1&t){const o=Dd();yt(0,"dialog",0,1)(2,"h3"),jt(3,"Derivation:"),mt(),Yo(4,vz,3,1,"div",2),Yo(5,mz,3,1,"div",2),yt(6,"button",3),ir("click",function(){return nr(o),da(dc(1).close())}),jt(7," OK "),mt()(),yt(8,"button",3),ir("click",function(){return r.showDialog()}),jt(9,"Open in new window"),mt()}2&t&&(Rn(4),Un("ngIf",r.showEdit),Rn(1),Un("ngIf",r.showGraph))},dependencies:[xf,Bv,GA],styles:[".center-dialog[_ngcontent-%COMP%]{position:fixed;z-index:9999;top:50%;left:50%;transform:translate(-50%,-50%);min-width:800px;max-width:100vw}dialog[_ngcontent-%COMP%]{max-width:100vw}div[_ngcontent-%COMP%]{max-width:100%}"]}),e})(),jA=(()=>{class e{constructor(t){this.fb=t,this.gswbPreferences={prover:0,debugging:!1,outputstyle:0,parseSem:!1,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:!1,naturalDeductionStyle:0},this.gswbPreferencesForm=this.fb.group({prover:[0,$C.required],outputstyle:[0,$C.required],parseSem:[!1],explain:[!1],debugging:[!1],ndstyle:[0,$C.required]})}onSubmit(){const t={prover:this.gswbPreferencesForm.value.prover,outputstyle:this.gswbPreferencesForm.value.outputstyle,parseSem:this.gswbPreferencesForm.value.parseSem,noreduce:!1,glueOnly:!1,meaningOnly:!1,explainFail:this.gswbPreferencesForm.value.explain,debugging:this.gswbPreferencesForm.value.debugging,naturalDeductionStyle:this.gswbPreferencesForm.value.ndstyle};console.log("Gswb preferences: ",t),this.gswbPreferences=t}}return e.\u0275fac=function(t){return new(t||e)(ht(n4))},e.\u0275cmp=ti({type:e,selectors:[["app-gswb-settings"]],decls:49,vars:1,consts:[["novalidate","",3,"formGroup","ngSubmit"],["for","prover"],["formControlName","prover","id","prover","name","prover"],["value","0"],["value","1"],["value","2"],["value","3"],["for","outputstyle"],["formControlName","outputstyle","id","outputstyle","name","outputstyle"],["value","4"],["for","parseSem"],["type","checkbox","formControlName","parseSem","id","parseSem","name","parseSem"],["for","explain"],["type","checkbox","formControlName","explain","id","explain","name","explain"],["for","debugging"],["type","checkbox","formControlName","debugging","id","debugging","name","debugging"],["for","ndstyle"],["formControlName","ndstyle","id","ndstyle","name","ndstyle"]],template:function(t,r){1&t&&(yt(0,"h3"),jt(1,"Settings:"),mt(),yt(2,"form",0),ir("ngSubmit",function(){return r.onSubmit()}),yt(3,"div")(4,"label",1),jt(5,"Prover:"),mt(),yt(6,"select",2)(7,"option",3),jt(8,"Hepple"),mt(),yt(9,"option",4),jt(10,"Lev"),mt(),yt(11,"option",5),jt(12,"Lev optimized "),mt(),yt(13,"option",6),jt(14,"Multi stage proving"),mt()()(),yt(15,"div")(16,"label",7),jt(17,"Output Style:"),mt(),yt(18,"select",8)(19,"option",3),jt(20,"Plain"),mt(),yt(21,"option",4),jt(22,"Prolog"),mt(),yt(23,"option",6),jt(24,"NLTK"),mt(),yt(25,"option",9),jt(26,"Prolog DRT"),mt()()(),yt(27,"div")(28,"label",10),Xn(29,"input",11),jt(30," Parse Semantics "),mt()(),yt(31,"div")(32,"label",12),Xn(33,"input",13),jt(34," Explanation "),mt()(),yt(35,"div")(36,"label",14),Xn(37,"input",15),jt(38," Debugging "),mt()(),yt(39,"div")(40,"label",16),jt(41,"Natural deduction style:"),mt(),yt(42,"select",17)(43,"option",3),jt(44,"Full semantics"),mt(),yt(45,"option",4),jt(46,"Reduced semantics"),mt(),yt(47,"option",5),jt(48,"No semantics"),mt()()()()),2&t&&(Rn(2),Un("formGroup",r.gswbPreferencesForm))},dependencies:[uI,mI,bI,WC,d0,Jy,ZT,c0,lx],styles:["form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}div[_ngcontent-%COMP%]{flex-basis:50%;margin-bottom:10px}label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:5px}select[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{width:auto;margin-right:5px}"]}),e})();const bz=["edit1"],wz=["derivation"],Cz=["sem1"],xz=["log1"],Ez=["dialog"],Dz=["gswbPrefs"];function Sz(e,n){1&e&&(yt(0,"span"),jt(1,"Calculate semantics"),mt())}function _z(e,n){1&e&&Xn(0,"span",11)}function Mz(e,n){1&e&&(yt(0,"span"),jt(1,"Loading..."),mt())}let Tz=(()=>{class e{constructor(t){this.dataService=t,this.loading=!1}calculateSemantics(){this.loading=!0,this.gswbPreferences.onSubmit();const t={premises:this.editor1.getContent(),gswbPreferences:this.gswbPreferences.gswbPreferences};this.dataService.gswbDeduce(t).subscribe(r=>{if(this.loading=!1,r.hasOwnProperty("solutions"))if(r.solutions.length>0){r.solutions.forEach(u=>{console.log(u),this.sem.updateContent(u)});let o=r.solutions.join("\n");this.sem.updateContent(o)}else this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] No solutions found.");else this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] No solutions found.");if(r.hasOwnProperty("log")&&this.log.updateContent(r.log),r.hasOwnProperty("derivation")&&this.gswbPreferences.gswbPreferences.explainFail)if(console.log(r.derivation),r.derivation.hasOwnProperty("graphElements")){console.log(r.derivation.graphElements),this.derivationContainer.showEditor=!1,this.derivationContainer.showGraph=!0;const o=r.derivation.graphElements;setTimeout(()=>{this.derivationContainer.graphVisUpdateContent(o)},0),this.dialog.setContent(o)}else this.derivationContainer.showGraph=!1,this.derivationContainer.showEditor=!0,setTimeout(()=>{this.derivationContainer.editorVisUpdateContent(r.derivation.toString())},0),this.dialog.setContent(r.derivation.toString())},r=>{console.log("ERROR: ",r),this.loading=!1,this.sem.updateContent("["+(new Date).toLocaleTimeString()+"] An error occurred."),console.log("Sent following request: ",t)})}}return e.\u0275fac=function(t){return new(t||e)(ht(m0))},e.\u0275cmp=ti({type:e,selectors:[["app-gswb-vis"]],viewQuery:function(t,r){if(1&t&&(Fr(bz,5),Fr(wz,5),Fr(Cz,5),Fr(xz,5),Fr(Ez,5),Fr(Dz,5)),2&t){let o;Dr(o=Sr())&&(r.editor1=o.first),Dr(o=Sr())&&(r.derivationContainer=o.first),Dr(o=Sr())&&(r.sem=o.first),Dr(o=Sr())&&(r.log=o.first),Dr(o=Sr())&&(r.dialog=o.first),Dr(o=Sr())&&(r.gswbPreferences=o.first)}},decls:25,vars:6,consts:[[1,"editor-restr"],[3,"mode"],["edit1",""],["gswbPrefs",""],[3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["sem1",""],["log1",""],["derivation",""],["dialog",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(t,r){1&t&&(yt(0,"h3"),jt(1," Meaning constructors:\n"),mt(),yt(2,"div",0),Xn(3,"app-editor",1,2),mt(),Xn(5,"app-gswb-settings",null,3),yt(7,"button",4),ir("click",function(){return r.calculateSemantics()}),Yo(8,Sz,2,0,"span",5),Yo(9,_z,1,0,"span",6),Yo(10,Mz,2,0,"span",5),mt(),yt(11,"h3"),jt(12," Semantics: "),mt(),yt(13,"div",0),Xn(14,"app-editor",1,7),mt(),yt(16,"h3"),jt(17,"Log:"),mt(),yt(18,"div",0),Xn(19,"app-editor",1,8),mt(),Xn(21,"app-derivation-container",null,9)(23,"app-dialog",null,10)),2&t&&(Rn(3),Un("mode","glue"),Rn(5),Un("ngIf",!r.loading),Rn(1),Un("ngIf",r.loading),Rn(1),Un("ngIf",r.loading),Rn(4),Un("mode","glue"),Rn(5),Un("mode","glue"))},dependencies:[xf,Bv,fz,yz,jA],styles:[".spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}"]}),e})(),Iz=(()=>{class e{constructor(){this.delete=new ci,this.calculateFromRule=new ci}onDelete(){this.delete.emit(this.data)}calculate(){this.calculateFromRule.emit(this.data)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ti({type:e,selectors:[["app-rule-list-element"]],inputs:{data:"data"},outputs:{delete:"delete",calculateFromRule:"calculateFromRule"},decls:7,vars:3,consts:[[1,"rule"],[3,"ngModel","ngModelChange"],[3,"click"]],template:function(t,r){1&t&&(yt(0,"div",0)(1,"textarea",1),ir("ngModelChange",function(u){return r.data.rule.rule=u}),jt(2," "),mt(),yt(3,"button",2),ir("click",function(){return r.calculate()}),jt(4),mt(),yt(5,"button",2),ir("click",function(){return r.onDelete()}),jt(6,"Delete"),mt()()),2&t&&(Rn(1),Un("ngModel",r.data.rule.rule),Rn(3),iw(" Calculate graph at rule: ",r.data.rule.index," (line ",r.data.rule.lineNumber,") "))},dependencies:[Tv,Jy,u0],styles:["div.rule[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{width:100%;resize:none}"]}),e})();function Az(e,n){if(1&e){const t=Dd();yt(0,"div",1)(1,"app-rule-list-element",2),ir("delete",function(){const u=nr(t).index;return da(Sd().removeElement(u))})("calculateFromRule",function(o){return nr(t),da(Sd().calculateFromRuleList(o))}),mt()()}if(2&e){const t=n.$implicit;Rn(1),Un("data",t)}}let Nz=(()=>{class e{constructor(){this.elements=[],this.delete=new ci,this.calculateFromRule=new ci}addElement(t){this.elements.push(t),console.log(t)}removeElement(t){t>=0&&t<this.elements.length&&this.elements.splice(t,1)}calculateFromRuleList(t){this.calculateFromRule.emit(t)}clearList(){this.elements=[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ti({type:e,selectors:[["app-rule-list"]],outputs:{delete:"delete",calculateFromRule:"calculateFromRule"},decls:2,vars:1,consts:[["class","rule-container",4,"ngFor","ngForOf"],[1,"rule-container"],[3,"data","delete","calculateFromRule"]],template:function(t,r){1&t&&(yt(0,"div"),Yo(1,Az,2,1,"div",0),mt()),2&t&&(Rn(1),Un("ngForOf",r.elements))},dependencies:[B_,Iz],styles:["div[_ngcontent-%COMP%]{width:800px;border:2px solid #00a9e0;margin:5px;overflow:auto;box-sizing:border-box}div.rule-container[_ngcontent-%COMP%]{width:100%;column-gap:20px;padding:5px;border:2px solid #00a9e0;align-items:flex-start;box-sizing:border-box}"]}),e})();var Oz=D(3848),WA=D.n(Oz);const Rz=["graphContainer"],Lz=["subgraphDialog"];As().use(y0()),As().use(WA());const $A=[{selector:'node[node_type="input"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightblue white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="cnode"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"lightgreen white","background-gradient-stop-positions":"0 30 60"}},{selector:'node[node_type="annotation"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"red white","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edge_type="proj"]',style:{width:3,"line-color":"#ccc","line-style":"dashed","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:"edge[label]",style:{label:"data(label)","text-rotation":"autorotate","text-margin-x":15,"text-margin-y":0}}];let kz=(()=>{class e{constructor(){this.nodesHidden=!1,this.selector='node[node_type="cnode"]',this.defaultWidth="800px",this.defaultHeight="600px"}ngOnInit(){this.cy=As()({container:document.getElementById("cy"),style:$A,layout:{name:"dagre"}})}makePopper(t){const r=t.popperRef();t.tippy=Xv(r,{content:()=>{let o=document.createElement("div");var u=t._private.data;if(u.hasOwnProperty("avp"))for(var f in u.avp)o.innerHTML=o.innerHTML+f+" : "+u.avp[f]+"<br>";return o},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(t=>{t.data().hasOwnProperty("avp")&&(this.makePopper(t),t.bind("mouseover",o=>o.target.tippy.show()),t.bind("mouseout",o=>o.target.tippy.hide()))})}renderGraph(t){this.cy=As()({container:document.getElementById(this.graphID),elements:t,style:$A,layout:{name:"dagre"}}),this.createAndBindPoppers(),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy)}resizeToDefault(){const t=this.graphContainer.nativeElement;t.style.width=this.defaultWidth,t.style.height=this.defaultHeight}showDialog(){this.subgraphDialog.setContent(this.cy.data()),this.subgraphDialog.showDialog()}toggleNodes(){const t=this.cy.nodes(this.selector);this.cy.batch(()=>{t.style("display",this.nodesHidden?"element":"none"),this.nodesHidden=!this.nodesHidden})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ti({type:e,selectors:[["app-graph-vis"]],viewQuery:function(t,r){if(1&t&&(Fr(Rz,5),Fr(Lz,5)),2&t){let o;Dr(o=Sr())&&(r.graphContainer=o.first),Dr(o=Sr())&&(r.subgraphDialog=o.first)}},inputs:{graphID:"graphID"},decls:9,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(t,r){1&t&&(yt(0,"div"),Xn(1,"div",0,1),yt(3,"button",2),ir("click",function(){return r.resizeToDefault()}),jt(4,"Resize to Default"),mt(),yt(5,"button",2),ir("click",function(){return r.toggleNodes()}),jt(6,"Toggle c-structure"),mt(),Xn(7,"app-sub-graph-dialog",3,4),mt()),2&t&&(Rn(1),Un("id",r.graphID),Rn(6),Un("subgraphID","sub"+r.graphID)("subgraphStyle","liger"))},dependencies:[Hx],styles:["div.cy[_ngcontent-%COMP%]{width:760px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),e})();const Pz=["*"];let Ux=(()=>{class e{constructor(t){this.hideComponentService=t,this.showText="Show Content",this.hideText="Hide Content",this.isHidden=!1}ngOnInit(){this.hideSubscription=this.hideComponentService.toggleObservable.subscribe(t=>{if(!t.type||t.type===this.type)switch(t.action){case xu.Hide:this.isHidden=!0;break;case xu.Show:this.isHidden=!1}})}ngOnDestroy(){this.hideSubscription.unsubscribe()}toggleDisplay(){this.isHidden=!this.isHidden}}return e.\u0275fac=function(t){return new(t||e)(ht(vM))},e.\u0275cmp=ti({type:e,selectors:[["app-toggle-display"]],inputs:{type:"type",showText:"showText",hideText:"hideText"},ngContentSelectors:Pz,decls:4,vars:3,consts:[[1,"hide-button",3,"click"]],template:function(t,r){1&t&&(Qm(),yt(0,"div"),Jm(1),mt(),yt(2,"button",0),ir("click",function(){return r.toggleDisplay()}),jt(3),mt()),2&t&&(ty("display",r.isHidden?"none":"block"),Rn(3),rw(r.isHidden?r.showText:r.hideText))},encapsulation:2}),e})();class Fz{}class Vz{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(n=!1,t,r=!0,o){this._multiple=n,this._emitChanges=r,this.compareWith=o,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ft,t&&t.length&&(n?t.forEach(u=>this._markSelected(u)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(r=>this._markSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...n){this._verifyValueAssignment(n),n.forEach(r=>this._unmarkSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...n){this._verifyValueAssignment(n);const t=this.selected,r=new Set(n);n.forEach(u=>this._markSelected(u)),t.filter(u=>!r.has(u)).forEach(u=>this._unmarkSelected(u));const o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();const t=this._hasQueuedChanges();return n&&this._emitChangeEvent(),t}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(n){if(this.compareWith){for(let t of this._selection)if(this.compareWith(n,t))return t;return n}return n}}function dg(e){return Je((n,t)=>{qo(e).subscribe(ut(t,()=>t.complete(),U)),!t.closed&&n.subscribe(t)})}function Kv(e){return null!=e&&"false"!=`${e}`}function M0(e,n=0){return function Hz(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):n}function YA(e){return Array.isArray(e)?e:[e]}function Zv(e){return e instanceof xo?e.nativeElement:e}let XA=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=fi({type:e}),e.\u0275inj=di({}),e})();class $z{constructor(){this.expansionModel=new Vz(!0)}toggle(n){this.expansionModel.toggle(this._trackByValue(n))}expand(n){this.expansionModel.select(this._trackByValue(n))}collapse(n){this.expansionModel.deselect(this._trackByValue(n))}isExpanded(n){return this.expansionModel.isSelected(this._trackByValue(n))}toggleDescendants(n){this.expansionModel.isSelected(this._trackByValue(n))?this.collapseDescendants(n):this.expandDescendants(n)}collapseAll(){this.expansionModel.clear()}expandDescendants(n){let t=[n];t.push(...this.getDescendants(n)),this.expansionModel.select(...t.map(r=>this._trackByValue(r)))}collapseDescendants(n){let t=[n];t.push(...this.getDescendants(n)),this.expansionModel.deselect(...t.map(r=>this._trackByValue(r)))}_trackByValue(n){return this.trackBy?this.trackBy(n):n}}class Yz extends $z{constructor(n,t){super(),this.getChildren=n,this.options=t,this.options&&(this.trackBy=this.options.trackBy)}expandAll(){this.expansionModel.clear();const n=this.dataNodes.reduce((t,r)=>[...t,...this.getDescendants(r),r],[]);this.expansionModel.select(...n.map(t=>this._trackByValue(t)))}getDescendants(n){const t=[];return this._getDescendants(t,n),t.splice(1)}_getDescendants(n,t){n.push(t);const r=this.getChildren(t);Array.isArray(r)?r.forEach(o=>this._getDescendants(n,o)):Ay(r)&&r.pipe(Td(1),Eu(Boolean)).subscribe(o=>{for(const u of o)this._getDescendants(n,u)})}}const T0=new rn("CDK_TREE_NODE_OUTLET_NODE");let qv=(()=>{class e{constructor(t,r){this.viewContainer=t,this._node=r}}return e.\u0275fac=function(t){return new(t||e)(ht(gl),ht(T0,8))},e.\u0275dir=xn({type:e,selectors:[["","cdkTreeNodeOutlet",""]]}),e})();class Xz{constructor(n){this.$implicit=n}}let I0=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(ht(pc))},e.\u0275dir=xn({type:e,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),e})(),Nd=(()=>{class e{get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}constructor(t,r){this._differs=t,this._changeDetectorRef=r,this._onDestroy=new Ft,this._levels=new Map,this.viewChange=new ln({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const t=this._nodeDefs.filter(r=>!r.when);this._defaultNodeDef=t[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(t){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let t;!function Bz(e){return e&&"function"==typeof e.connect&&!(e instanceof xC)}(this._dataSource)?Ay(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=qe(this._dataSource)):t=this._dataSource.connect(this),t&&(this._dataSubscription=t.pipe(dg(this._onDestroy)).subscribe(r=>this.renderNodeChanges(r)))}renderNodeChanges(t,r=this._dataDiffer,o=this._nodeOutlet.viewContainer,u){const f=r.diff(t);f&&(f.forEachOperation((y,M,H)=>{if(null==y.previousIndex)this.insertNode(t[H],H,o,u);else if(null==H)o.remove(M),this._levels.delete(y.item);else{const $=o.get(M);o.move($,H)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(t,r){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(u=>u.when&&u.when(r,t))||this._defaultNodeDef}insertNode(t,r,o,u){const f=this._getNodeDef(t,r),y=new Xz(t);y.level=this.treeControl.getLevel?this.treeControl.getLevel(t):typeof u<"u"&&this._levels.has(u)?this._levels.get(u)+1:0,this._levels.set(t,y.level),(o||this._nodeOutlet.viewContainer).createEmbeddedView(f.template,y,r),Cc.mostRecentTreeNode&&(Cc.mostRecentTreeNode.data=t)}}return e.\u0275fac=function(t){return new(t||e)(ht(Sh),ht($p))},e.\u0275cmp=ti({type:e,selectors:[["cdk-tree"]],contentQueries:function(t,r,o){if(1&t&&cy(o,I0,5),2&t){let u;Dr(u=Sr())&&(r._nodeDefs=u)}},viewQuery:function(t,r){if(1&t&&Fr(qv,7),2&t){let o;Dr(o=Sr())&&(r._nodeOutlet=o.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(t,r){1&t&&Qg(0,0)},dependencies:[qv],encapsulation:2}),e})(),Cc=(()=>{class e{get role(){return"treeitem"}set role(t){this._elementRef.nativeElement.setAttribute("role",t)}get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(t,r){this._elementRef=t,this._tree=r,this._destroyed=new Ft,this._dataChanges=new Ft,e.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function Kz(e){let n=e.parentElement;for(;n&&!Zz(n);)n=n.parentElement;return n?n.classList.contains("cdk-nested-tree-node")?M0(n.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){e.mostRecentTreeNode===this&&(e.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return e.mostRecentTreeNode=null,e.\u0275fac=function(t){return new(t||e)(ht(xo),ht(Nd))},e.\u0275dir=xn({type:e,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(t,r){2&t&&pl("aria-expanded",r.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),e})();function Zz(e){const n=e.classList;return!(!n?.contains("cdk-nested-tree-node")&&!n?.contains("cdk-tree"))}let Wx,zx=(()=>{class e extends Cc{constructor(t,r,o){super(t,r),this._differs=o}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);const t=this._tree.treeControl.getChildren(this.data);Array.isArray(t)?this.updateChildrenNodes(t):Ay(t)&&t.pipe(dg(this._destroyed)).subscribe(r=>this.updateChildrenNodes(r)),this.nodeOutlet.changes.pipe(dg(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(t){const r=this._getNodeOutlet();t&&(this._children=t),r&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,r.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const t=this._getNodeOutlet();t&&(t.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const t=this.nodeOutlet;return t&&t.find(r=>!r._node||r._node===this)}}return e.\u0275fac=function(t){return new(t||e)(ht(xo),ht(Nd),ht(Sh))},e.\u0275dir=xn({type:e,selectors:[["cdk-nested-tree-node"]],contentQueries:function(t,r,o){if(1&t&&cy(o,qv,5),2&t){let u;Dr(u=Sr())&&(r.nodeOutlet=u)}},hostAttrs:[1,"cdk-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["cdkNestedTreeNode"],features:[Zr([{provide:Cc,useExisting:e},{provide:T0,useExisting:e}]),Mr]}),e})(),jx=(()=>{class e{get recursive(){return this._recursive}set recursive(t){this._recursive=Kv(t)}constructor(t,r){this._tree=t,this._treeNode=r,this._recursive=!1}_toggle(t){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),t.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(ht(Nd),ht(Cc))},e.\u0275dir=xn({type:e,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(t,r){1&t&&ir("click",function(u){return r._toggle(u)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),e})(),Qz=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=fi({type:e}),e.\u0275inj=di({}),e})();try{Wx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Wx=!1}let Qv,$x,Fh=(()=>{class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function RB(e){return e===j_}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Wx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(Yt(mf))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function A0(e){return function Jz(){if(null==Qv&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Qv=!0}))}finally{Qv=Qv||!1}return Qv}()?e:!!e.capture}function hg(e){return e.composedPath?e.composedPath()[0]:e.target}function ZA(e){return Eu((n,t)=>e<=t)}class lG extends C{constructor(n,t){super()}schedule(n,t=0){return this}}const O0={setInterval(e,n,...t){const{delegate:r}=O0;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=O0;return(n?.clearInterval||clearInterval)(e)},delegate:void 0},qA={now:()=>(qA.delegate||Date).now(),delegate:void 0};class Jv{constructor(n,t=Jv.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}Jv.now=qA.now;const dG=new class cG extends Jv{constructor(n,t=Jv.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}(class uG extends lG{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;const o=this.id,u=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(u,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(u,this.id,t),this}requestAsyncId(n,t,r=0){return O0.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&O0.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let o,r=!1;try{this.work(n)}catch(u){r=!0,o=u||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,I(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}),QA=new Set;let Vh,hG=(()=>{class e{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):gG}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function pG(e,n){if(!QA.has(e))try{Vh||(Vh=document.createElement("style"),n&&(Vh.nonce=n),Vh.setAttribute("type","text/css"),document.head.appendChild(Vh)),Vh.sheet&&(Vh.sheet.insertRule(`@media ${e} {body{ }}`,0),QA.add(e))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}}return e.\u0275fac=function(t){return new(t||e)(Yt(Fh),Yt(yb,8))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function gG(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let vG=(()=>{class e{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ft}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return JA(YA(t)).some(o=>this._registerQuery(o).mql.matches)}observe(t){let u=Ny(JA(YA(t)).map(f=>this._registerQuery(f).observable));return u=Ry(u.pipe(Td(1)),u.pipe(ZA(1),function fG(e,n=dG){return Je((t,r)=>{let o=null,u=null,f=null;const y=()=>{if(o){o.unsubscribe(),o=null;const H=u;u=null,r.next(H)}};function M(){const H=f+e,$=n.now();if($<H)return o=this.schedule(void 0,H-$),void r.add(o);y()}t.subscribe(ut(r,H=>{u=H,f=n.now(),o||(o=n.schedule(M,e),r.add(o))},()=>{y(),r.complete()},void 0,()=>{u=o=null}))})}(0))),u.pipe(Mt(f=>{const y={matches:!1,breakpoints:{}};return f.forEach(({matches:M,query:H})=>{y.matches=y.matches||M,y.breakpoints[H]=M}),y}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),u={observable:new Ke(f=>{const y=M=>this._zone.run(()=>f.next(M));return r.addListener(y),()=>{r.removeListener(y)}}).pipe(xM(r),Mt(({matches:f})=>({query:t,matches:f})),dg(this._destroySubject)),mql:r};return this._queries.set(t,u),u}}return e.\u0275fac=function(t){return new(t||e)(Yt(hG),Yt(vi))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function JA(e){return e.map(n=>n.split(",")).reduce((n,t)=>n.concat(t)).map(n=>n.trim())}function rN(e){return 0===e.buttons||0===e.offsetX&&0===e.offsetY}function iN(e){const n=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const DG=new rn("cdk-input-modality-detector-options"),SG={ignoreKeys:[18,17,224,91,16]},pg=A0({passive:!0,capture:!0});let _G=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(t,r,o,u){this._platform=t,this._mostRecentTarget=null,this._modality=new ln(null),this._lastTouchMs=0,this._onKeydown=f=>{this._options?.ignoreKeys?.some(y=>y===f.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=hg(f))},this._onMousedown=f=>{Date.now()-this._lastTouchMs<650||(this._modality.next(rN(f)?"keyboard":"mouse"),this._mostRecentTarget=hg(f))},this._onTouchstart=f=>{iN(f)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=hg(f))},this._options={...SG,...u},this.modalityDetected=this._modality.pipe(ZA(1)),this.modalityChanged=this.modalityDetected.pipe(en()),t.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,pg),o.addEventListener("mousedown",this._onMousedown,pg),o.addEventListener("touchstart",this._onTouchstart,pg)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,pg),document.removeEventListener("mousedown",this._onMousedown,pg),document.removeEventListener("touchstart",this._onTouchstart,pg))}}return e.\u0275fac=function(t){return new(t||e)(Yt(Fh),Yt(vi),Yt(io),Yt(DG,8))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const TG=new rn("cdk-focus-monitor-default-options"),R0=A0({passive:!0,capture:!0});let IG=(()=>{class e{constructor(t,r,o,u,f){this._ngZone=t,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ft,this._rootNodeFocusAndBlurListener=y=>{for(let H=hg(y);H;H=H.parentElement)"focus"===y.type?this._onFocus(y,H):this._onBlur(y,H)},this._document=u,this._detectionMode=f?.detectionMode||0}monitor(t,r=!1){const o=Zv(t);if(!this._platform.isBrowser||1!==o.nodeType)return qe();const u=function tG(e){if(function eG(){if(null==$x){const e=typeof document<"u"?document.head:null;$x=!(!e||!e.createShadowRoot&&!e.attachShadow)}return $x}()){const n=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(o)||this._getDocument(),f=this._elementInfo.get(o);if(f)return r&&(f.checkChildren=!0),f.subject;const y={checkChildren:r,subject:new Ft,rootNode:u};return this._elementInfo.set(o,y),this._registerGlobalListeners(y),y.subject}stopMonitoring(t){const r=Zv(t),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(t,r,o){const u=Zv(t);u===this._getDocument().activeElement?this._getClosestElementsInfo(u).forEach(([y,M])=>this._originChanged(y,r,M)):(this._setOrigin(r),"function"==typeof u.focus&&u.focus(o))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const o=this._elementInfo.get(r),u=hg(t);!o||!o.checkChildren&&r!==u||this._originChanged(r,this._getFocusOrigin(u),o)}_onBlur(t,r){const o=this._elementInfo.get(r);!o||o.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,R0),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,R0)}),this._rootNodeFocusListenerCount.set(r,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(dg(this._stopInputModalityDetector)).subscribe(u=>{this._setOrigin(u,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,R0),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,R0),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,o){this._setClasses(t,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((o,u)=>{(u===t||o.checkChildren&&u.contains(t))&&r.push([u,o])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const u=t.labels;if(u)for(let f=0;f<u.length;f++)if(u[f].contains(r))return!0;return!1}}return e.\u0275fac=function(t){return new(t||e)(Yt(vi),Yt(Fh),Yt(_G),Yt(io,8),Yt(TG,8))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const aN="cdk-high-contrast-black-on-white",sN="cdk-high-contrast-white-on-black",Yx="cdk-high-contrast-active";let AG=(()=>{class e{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=tn(vG).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(t):null,u=(o&&o.backgroundColor||"").replace(/ /g,"");switch(t.remove(),u){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Yx,aN,sN),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(Yx,aN):2===r&&t.add(Yx,sN)}}}return e.\u0275fac=function(t){return new(t||e)(Yt(Fh),Yt(io))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const OG=new rn("mat-sanity-checks",{providedIn:"root",factory:function NG(){return!0}});let Of=(()=>{class e{constructor(t,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function nG(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return e.\u0275fac=function(t){return new(t||e)(Yt(AG),Yt(OG,8),Yt(io))},e.\u0275mod=fi({type:e}),e.\u0275inj=di({imports:[XA,XA]}),e})();function cN(e){return class extends e{get disabled(){return this._disabled}set disabled(n){this._disabled=Kv(n)}constructor(...n){super(...n),this._disabled=!1}}}function dN(e,n){return class extends e{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=n,this.color=n}}}function RG(e){return class extends e{get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=Kv(n)}constructor(...n){super(...n),this._disableRipple=!1}}}function LG(e,n=0){return class extends e{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?M0(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=n,this.defaultTabIndex=n}}}class PG{constructor(n,t,r,o=!1){this._renderer=n,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const fN=A0({passive:!0,capture:!0});class FG{constructor(){this._events=new Map,this._delegateEventHandler=n=>{const t=hg(n);t&&this._events.get(n.type)?.forEach((r,o)=>{(o===t||o.contains(t))&&r.forEach(u=>u.handleEvent(n))})}}addHandler(n,t,r,o){const u=this._events.get(t);if(u){const f=u.get(r);f?f.add(o):u.set(r,new Set([o]))}else this._events.set(t,new Map([[r,new Set([o])]])),n.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,fN)})}removeHandler(n,t,r){const o=this._events.get(n);if(!o)return;const u=o.get(t);u&&(u.delete(r),0===u.size&&o.delete(t),0===o.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,fN)))}}const hN={enterDuration:225,exitDuration:150},pN=A0({passive:!0,capture:!0}),gN=["mousedown","touchstart"],vN=["mouseup","mouseleave","touchend","touchcancel"];class gg{constructor(n,t,r,o){this._target=n,this._ngZone=t,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=Zv(r))}fadeInRipple(n,t,r={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),u={...hN,...r.animation};r.centered&&(n=o.left+o.width/2,t=o.top+o.height/2);const f=r.radius||function VG(e,n,t){const r=Math.max(Math.abs(e-t.left),Math.abs(e-t.right)),o=Math.max(Math.abs(n-t.top),Math.abs(n-t.bottom));return Math.sqrt(r*r+o*o)}(n,t,o),y=n-o.left,M=t-o.top,H=u.enterDuration,$=document.createElement("div");$.classList.add("mat-ripple-element"),$.style.left=y-f+"px",$.style.top=M-f+"px",$.style.height=2*f+"px",$.style.width=2*f+"px",null!=r.color&&($.style.backgroundColor=r.color),$.style.transitionDuration=`${H}ms`,this._containerElement.appendChild($);const re=window.getComputedStyle($),Te=re.transitionDuration,Ge="none"===re.transitionProperty||"0s"===Te||"0s, 0s"===Te||0===o.width&&0===o.height,$e=new PG(this,$,r,Ge);$.style.transform="scale3d(1, 1, 1)",$e.state=0,r.persistent||(this._mostRecentTransientRipple=$e);let ft=null;return!Ge&&(H||u.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Dt=()=>this._finishRippleTransition($e),ot=()=>this._destroyRipple($e);$.addEventListener("transitionend",Dt),$.addEventListener("transitioncancel",ot),ft={onTransitionEnd:Dt,onTransitionCancel:ot}}),this._activeRipples.set($e,ft),(Ge||!H)&&this._finishRippleTransition($e),$e}fadeOutRipple(n){if(2===n.state||3===n.state)return;const t=n.element,r={...hN,...n.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const t=Zv(n);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,gN.forEach(r=>{gg._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{vN.forEach(t=>{this._triggerElement.addEventListener(t,this,pN)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const t=n===this._mostRecentTransientRipple,{persistent:r}=n.config;n.state=1,!r&&(!t||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const t=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==t&&(n.element.removeEventListener("transitionend",t.onTransitionEnd),n.element.removeEventListener("transitioncancel",t.onTransitionCancel)),n.element.remove()}_onMousedown(n){const t=rN(n),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!iN(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=n.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(gN.forEach(t=>gg._eventManager.removeHandler(t,n,this)),this._pointerUpEventsRegistered&&vN.forEach(t=>n.removeEventListener(t,this,pN)))}}gg._eventManager=new FG;const mN=new rn("mat-ripple-global-options");let HG=(()=>{class e{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,o,u,f){this._elementRef=t,this._animationMode=f,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=u||{},this._rippleRenderer=new gg(this,r,t,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,o){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...o}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return e.\u0275fac=function(t){return new(t||e)(ht(xo),ht(vi),ht(Fh),ht(mN,8),ht(mb,8))},e.\u0275dir=xn({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&bf("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),e})(),UG=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=fi({type:e}),e.\u0275inj=di({imports:[Of,Of]}),e})();const zG=LG(cN(Cc));let yN=(()=>{class e extends zG{constructor(t,r,o){super(t,r),this.tabIndex=Number(o)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(ht(xo),ht(Nd),m("tabindex"))},e.\u0275dir=xn({type:e,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[Zr([{provide:Cc,useExisting:e}]),Mr]}),e})(),bN=(()=>{class e extends I0{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ti(e)))(r||e)}}(),e.\u0275dir=xn({type:e,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[Zr([{provide:I0,useExisting:e}]),Mr]}),e})(),wN=(()=>{class e extends zx{get disabled(){return this._disabled}set disabled(t){this._disabled=Kv(t)}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=t??0}constructor(t,r,o,u){super(t,r,o),this._disabled=!1,this.tabIndex=Number(u)||0}ngOnInit(){super.ngOnInit()}ngAfterContentInit(){super.ngAfterContentInit()}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(ht(xo),ht(Nd),ht(Sh),m("tabindex"))},e.\u0275dir=xn({type:e,selectors:[["mat-nested-tree-node"]],hostAttrs:[1,"mat-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex",node:["matNestedTreeNode","node"]},exportAs:["matNestedTreeNode"],features:[Zr([{provide:zx,useExisting:e},{provide:Cc,useExisting:e},{provide:T0,useExisting:e}]),Mr]}),e})(),L0=(()=>{class e{constructor(t,r){this.viewContainer=t,this._node=r}}return e.\u0275fac=function(t){return new(t||e)(ht(gl),ht(T0,8))},e.\u0275dir=xn({type:e,selectors:[["","matTreeNodeOutlet",""]],features:[Zr([{provide:qv,useExisting:e}])]}),e})(),CN=(()=>{class e extends Nd{constructor(){super(...arguments),this._nodeOutlet=void 0}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ti(e)))(r||e)}}(),e.\u0275cmp=ti({type:e,selectors:[["mat-tree"]],viewQuery:function(t,r){if(1&t&&Fr(L0,7),2&t){let o;Dr(o=Sr())&&(r._nodeOutlet=o.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[Zr([{provide:Nd,useExisting:e}]),Mr],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(t,r){1&t&&Qg(0,0)},dependencies:[L0],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2}),e})(),xN=(()=>{class e extends jx{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ti(e)))(r||e)}}(),e.\u0275dir=xn({type:e,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[Zr([{provide:jx,useExisting:e}]),Mr]}),e})(),jG=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=fi({type:e}),e.\u0275inj=di({imports:[Qz,Of,Of]}),e})();class WG extends Fz{constructor(){super(...arguments),this._data=new ln([])}get data(){return this._data.value}set data(n){this._data.next(n)}connect(n){return et(n.viewChange,this._data).pipe(Mt(()=>this.data))}disconnect(){}}const $G=["*"];let k0;function tm(e){return function YG(){if(void 0===k0&&(k0=null,typeof window<"u")){const e=window;void 0!==e.trustedTypes&&(k0=e.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return k0}()?.createHTML(e)||e}function EN(e){return Error(`Unable to find icon with the name "${e}"`)}function DN(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function SN(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class Hh{constructor(n,t,r){this.url=n,this.svgText=t,this.options=r}}let P0=(()=>{class e{constructor(t,r,o,u){this._httpClient=t,this._sanitizer=r,this._errorHandler=u,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(t,r,o){return this.addSvgIconInNamespace("",t,r,o)}addSvgIconLiteral(t,r,o){return this.addSvgIconLiteralInNamespace("",t,r,o)}addSvgIconInNamespace(t,r,o,u){return this._addSvgIconConfig(t,r,new Hh(o,null,u))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,o,u){const f=this._sanitizer.sanitize(ri.HTML,o);if(!f)throw SN(o);const y=tm(f);return this._addSvgIconConfig(t,r,new Hh("",y,u))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,o){return this._addSvgIconSetConfig(t,new Hh(r,null,o))}addSvgIconSetLiteralInNamespace(t,r,o){const u=this._sanitizer.sanitize(ri.HTML,r);if(!u)throw SN(r);const f=tm(u);return this._addSvgIconSetConfig(t,new Hh("",f,o))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(ri.RESOURCE_URL,t);if(!r)throw DN(t);const o=this._cachedIconsByUrl.get(r);return o?qe(F0(o)):this._loadSvgIconFromConfig(new Hh(t,null)).pipe(ya(u=>this._cachedIconsByUrl.set(r,u)),Mt(u=>F0(u)))}getNamedSvgIcon(t,r=""){const o=_N(r,t);let u=this._svgIconConfigs.get(o);if(u)return this._getSvgFromConfig(u);if(u=this._getIconConfigFromResolvers(r,t),u)return this._svgIconConfigs.set(o,u),this._getSvgFromConfig(u);const f=this._iconSetConfigs.get(r);return f?this._getSvgFromIconSetConfigs(t,f):Xp(EN(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?qe(F0(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Mt(r=>F0(r)))}_getSvgFromIconSetConfigs(t,r){const o=this._extractIconWithNameFromAnySet(t,r);return o?qe(o):ST(r.filter(f=>!f.svgText).map(f=>this._loadSvgIconSetFromConfig(f).pipe(Df(y=>{const H=`Loading icon set URL: ${this._sanitizer.sanitize(ri.RESOURCE_URL,f.url)} failed: ${y.message}`;return this._errorHandler.handleError(new Error(H)),qe(null)})))).pipe(Mt(()=>{const f=this._extractIconWithNameFromAnySet(t,r);if(!f)throw EN(t);return f}))}_extractIconWithNameFromAnySet(t,r){for(let o=r.length-1;o>=0;o--){const u=r[o];if(u.svgText&&u.svgText.toString().indexOf(t)>-1){const f=this._svgElementFromConfig(u),y=this._extractSvgIconFromSet(f,t,u.options);if(y)return y}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(ya(r=>t.svgText=r),Mt(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?qe(null):this._fetchIcon(t).pipe(ya(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,o){const u=t.querySelector(`[id="${r}"]`);if(!u)return null;const f=u.cloneNode(!0);if(f.removeAttribute("id"),"svg"===f.nodeName.toLowerCase())return this._setSvgAttributes(f,o);if("symbol"===f.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(f),o);const y=this._svgElementFromString(tm("<svg></svg>"));return y.appendChild(f),this._setSvgAttributes(y,o)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(t){const r=this._svgElementFromString(tm("<svg></svg>")),o=t.attributes;for(let u=0;u<o.length;u++){const{name:f,value:y}=o[u];"id"!==f&&r.setAttribute(f,y)}for(let u=0;u<t.childNodes.length;u++)t.childNodes[u].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[u].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:o}=t,u=o?.withCredentials??!1;if(!this._httpClient)throw function XG(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const f=this._sanitizer.sanitize(ri.RESOURCE_URL,r);if(!f)throw DN(r);const y=this._inProgressUrlFetches.get(f);if(y)return y;const M=this._httpClient.get(f,{responseType:"text",withCredentials:u}).pipe(Mt(H=>tm(H)),Zp(()=>this._inProgressUrlFetches.delete(f)),qt());return this._inProgressUrlFetches.set(f,M),M}_addSvgIconConfig(t,r,o){return this._svgIconConfigs.set(_N(t,r),o),this}_addSvgIconSetConfig(t,r){const o=this._iconSetConfigs.get(t);return o?o.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let o=0;o<this._resolvers.length;o++){const u=this._resolvers[o](r,t);if(u)return ZG(u)?new Hh(u.url,null,u.options):new Hh(u,null)}}}return e.\u0275fac=function(t){return new(t||e)(Yt(g0,8),Yt(wC),Yt(io,8),Yt(lc))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function F0(e){return e.cloneNode(!0)}function _N(e,n){return e+":"+n}function ZG(e){return!(!e.url||!e.options)}const qG=dN(class{constructor(e){this._elementRef=e}}),QG=new rn("MAT_ICON_DEFAULT_OPTIONS"),JG=new rn("mat-icon-location",{providedIn:"root",factory:function e8(){const e=tn(io),n=e?e.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),MN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],t8=MN.map(e=>`[${e}]`).join(", "),n8=/^url\(['"]?#(.*?)['"]?\)$/;let r8=(()=>{class e extends qG{get inline(){return this._inline}set inline(t){this._inline=Kv(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,o,u,f,y){super(t),this._iconRegistry=r,this._location=u,this._errorHandler=f,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=C.EMPTY,y&&(y.color&&(this.color=this.defaultColor=y.color),y.fontSet&&(this.fontSet=y.fontSet)),o||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const o=t.childNodes[r];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>t.classList.remove(o)),r.forEach(o=>t.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((o,u)=>{o.forEach(f=>{u.setAttribute(f.name,`url('${t}#${f.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(t8),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let u=0;u<r.length;u++)MN.forEach(f=>{const y=r[u],M=y.getAttribute(f),H=M?M.match(n8):null;if(H){let $=o.get(y);$||($=[],o.set(y,$)),$.push({name:f,value:H[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,o]=this._splitIconName(t);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(Td(1)).subscribe(u=>this._setSvgElement(u),u=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${o}! ${u.message}`))})}}}return e.\u0275fac=function(t){return new(t||e)(ht(xo),ht(P0),m("aria-hidden"),ht(JG),ht(lc),ht(QG,8))},e.\u0275cmp=ti({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(pl("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),bf("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Mr],ngContentSelectors:$G,decls:1,vars:0,template:function(t,r){1&t&&(Qm(),Jm(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),e})(),i8=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=fi({type:e}),e.\u0275inj=di({imports:[Of,Of]}),e})();const a8=["mat-icon-button",""],s8=["*"],TN={capture:!0},IN=["focus","click","mouseenter","touchstart"],nm="mat-button-ripple-uninitialized";let l8=(()=>{class e{constructor(){this._document=tn(io,{optional:!0}),this._animationMode=tn(mb,{optional:!0}),this._globalRippleOptions=tn(mN,{optional:!0}),this._platform=tn(Fh),this._ngZone=tn(vi),this._onInteraction=t=>{if(t.target===this._document)return;const o=t.target.closest(`[${nm}]`);o&&(o.removeAttribute(nm),this._appendRipple(o))},this._ngZone.runOutsideAngular(()=>{for(const t of IN)this._document?.addEventListener(t,this._onInteraction,TN)})}ngOnDestroy(){for(const t of IN)this._document?.removeEventListener(t,this._onInteraction,TN)}_appendRipple(t){if(!this._document)return;const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const o=new u8(t,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);o.rippleConfig.centered=t.hasAttribute("mat-icon-button"),new gg(o,this._ngZone,r,this._platform).setupTriggerEvents(t),t.append(r)}_createMatRipple(t){if(!this._document)return;t.querySelector(".mat-mdc-button-ripple")?.remove(),t.removeAttribute(nm);const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const o=new HG(new xo(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,t.append(r),o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class u8{constructor(n,t,r){this._button=n,this._globalRippleOptions=t,this._setRippleConfig(t,r)}_setRippleConfig(n,t){this.rippleConfig=n||{},"NoopAnimations"===t&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const c8=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],d8=dN(cN(RG(class{constructor(e){this._elementRef=e}})));let f8=(()=>{class e extends d8{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(t){this._ripple=t}constructor(t,r,o,u){super(t),this._platform=r,this._ngZone=o,this._animationMode=u,this._focusMonitor=tn(IG),this._rippleLoader=tn(l8),this._isFab=!1;const f=t.nativeElement.classList;for(const y of c8)this._hasHostAttributes(y.selector)&&y.mdcClasses.forEach(M=>{f.add(M)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...t){return t.some(r=>this._elementRef.nativeElement.hasAttribute(r))}}return e.\u0275fac=function(t){Nb()},e.\u0275dir=xn({type:e,features:[Mr,Ia]}),e})(),g8=(()=>{class e extends f8{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(t,r,o,u){super(t,r,o,u)}}return e.\u0275fac=function(t){return new(t||e)(ht(xo),ht(Fh),ht(vi),ht(mb,8))},e.\u0275cmp=ti({type:e,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(t,r){2&t&&(pl("disabled",r.disabled||null),bf("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Mr],attrs:a8,ngContentSelectors:s8,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(Qm(),Xn(0,"span",0),Jm(1),Xn(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),e})(),v8=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=fi({type:e}),e.\u0275inj=di({imports:[Of,UG,Of]}),e})();const m8=function(){return{border:"none","padding-left":"10px"}};function y8(e,n){1&e&&(yt(0,"ul",7),Qg(1,8),mt()),2&e&&Un("ngStyle",sy(1,m8))}const b8=function(){return{border:"2px solid #00a9e0","border-radius":"5px","padding-left":"10px","margin-bottom":"10px",width:"100%"}};function w8(e,n){if(1&e&&(yt(0,"mat-nested-tree-node")(1,"li",3)(2,"div",4)(3,"button",5)(4,"mat-icon"),jt(5),mt()(),jt(6),mt(),Yo(7,y8,2,2,"ul",6),mt()()),2&e){const t=n.$implicit,r=Sd();Rn(1),Un("ngStyle",sy(4,b8)),Rn(4),xh(" ",r.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),Rn(1),xh(" ",t.name," "),Rn(1),Un("ngIf",r.treeControl.isExpanded(t))}}const C8=function(e){return{selected:e}},x8=function(){return{"padding-left":"10px","padding-right":"10px",width:"100%"}};function E8(e,n){if(1&e){const t=Dd();yt(0,"mat-tree-node")(1,"li",9),ir("dblclick",function(){const u=nr(t).$implicit;return da(Sd().onNodeDoubleClick(u))}),yt(2,"div",10),ir("click",function(){const u=nr(t).$implicit;return da(Sd().onNodeSelect(u))}),Xn(3,"button",11),jt(4),mt()()()}if(2&e){const t=n.$implicit,r=Sd();Rn(1),ty("background-color",t===r.selectedNode?"#00a9e0":"transparent")("color",t===r.selectedNode?"white":"black"),Un("ngClass",ly(7,C8,t===r.selectedNode))("ngStyle",sy(9,x8)),Rn(3),xh(" ",t.name," ")}}let D8=(()=>{class e{constructor(){this.fileTree=[],this.nodeSelected=new ci,this.nodeDoubleClicked=new ci,this.selectedNode=null,this.treeControl=new Yz(t=>t.children),this.dataSource=new WG}ngOnInit(){this.fileTree?this.updateTreeData():console.error("File tree data not available")}ngOnChanges(t){t.fileTree&&this.updateTreeData()}updateTreeData(){if(this.fileTree&&Array.isArray(this.fileTree)){const t=this.sortTree(this.fileTree);this.dataSource.data=t,this.treeControl.dataNodes=t}else console.error("fileTree is not initialized or empty")}onNodeSelect(t){t?t.isDirectory?console.log("Cannot select directories."):(this.selectedNode=t,this.nodeSelected.emit(t.path)):console.error("Node is undefined or invalid")}onNodeDoubleClick(t){t.isDirectory||this.nodeDoubleClicked.emit(t.path)}sortTree(t){return t.map(r=>(r.children&&r.children.length>0&&(r.children=this.sortTree(r.children)),r)).sort((r,o)=>r.isDirectory&&!o.isDirectory?-1:!r.isDirectory&&o.isDirectory?1:r.name.localeCompare(o.name))}isDirectory(t,r){return r?.isDirectory??!1}isFile(t,r){return!r?.isDirectory}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ti({type:e,selectors:[["app-file-tree"]],inputs:{fileTree:"fileTree"},outputs:{nodeSelected:"nodeSelected",nodeDoubleClicked:"nodeDoubleClicked"},features:[Ia],decls:4,vars:4,consts:[[1,"filetreecontainer"],[3,"dataSource","treeControl"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"tree-node-wrapper","folder-node",3,"ngStyle"],[1,"mat-tree-node"],["mat-icon-button","","matTreeNodeToggle",""],["class","folder-contents",3,"ngStyle",4,"ngIf"],[1,"folder-contents",3,"ngStyle"],["matTreeNodeOutlet",""],[1,"tree-node-wrapper","file-node",3,"ngClass","ngStyle","dblclick"],[3,"click"],["mat-icon-button","","disabled",""]],template:function(t,r){1&t&&(yt(0,"div",0)(1,"mat-tree",1),Yo(2,w8,8,5,"mat-nested-tree-node",2),Yo(3,E8,5,10,"mat-tree-node",2),mt()()),2&t&&(Rn(1),Un("dataSource",r.dataSource)("treeControl",r.treeControl),Rn(1),Un("matTreeNodeDefWhen",r.isDirectory),Rn(1),Un("matTreeNodeDefWhen",r.isFile))},dependencies:[P_,xf,sC,wN,bN,xN,CN,yN,L0,r8,g8],styles:["[_ngcontent-%COMP%]:root{--highlight-color: #00a9e0}.mat-tree-node[_ngcontent-%COMP%]{cursor:pointer;padding:5px;display:flex;align-items:center;width:100%;box-sizing:border-box}.mat-tree-node[_ngcontent-%COMP%]:hover{background-color:#00a9e040}.tree-node-wrapper[_ngcontent-%COMP%]{display:block;width:100%;margin:0;box-sizing:border-box}.folder-node[_ngcontent-%COMP%]{margin-bottom:10px}.folder-contents[_ngcontent-%COMP%]{margin-top:5px;border:2px solid var(--highlight-color);border-radius:5px;padding:10px;box-sizing:border-box}li[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;box-sizing:border-box}div.filetreecontainer[_ngcontent-%COMP%]{width:760px;border:2px solid var(--highlight-color);border-radius:5px;padding:10px;box-sizing:border-box;overflow:hidden}"]}),e})();const S8=["grammarListSelector"],_8=["statusMessage"],M8=["toggleDisplayComponent"];let AN=(()=>{class e{constructor(t,r){this.dataService=t,this.cd=r,this.grammarList=[],this.defaultGrammar="./grammars/multistage_grammar.lfg.glue",this.currentStatusMessage="",this.grammarFileTree=[],this.selectedPath=""}ngOnInit(){this.getGrammars().subscribe(()=>{console.log("Grammar file tree: ",this.grammarFileTree),this.toggleDisplayComponent.isHidden=!0,this.selectedPath=this.defaultGrammar,this.updateGrammar()},t=>{console.log("ERROR: ",t)})}onFileSelected(t){console.log("Selected path from file tree:",t),this.selectedPath=t}updateGrammar(){this.selectedPath?(console.log("Changing grammar to: "+this.selectedPath),this.dataService.changeGrammar({grammar:this.selectedPath}).subscribe(t=>{console.log(t),t.hasOwnProperty("grammar")&&"success"===t.grammar?(console.log("Successfully changed grammar to: "+this.selectedPath),this.currentStatusMessage="Currently loaded grammar: "+this.selectedPath,this.cd.detectChanges(),this.toggleDisplayComponent.isHidden=!0):this.currentStatusMessage="Failed to load grammar: "+this.selectedPath},t=>{console.log("ERROR: ",t),this.currentStatusMessage="Failed to load grammar: "+this.selectedPath})):console.error("No file or folder selected!")}getGrammars(){return console.log("Getting grammars"),this.dataService.getGrammars().pipe(ya(t=>{t.hasOwnProperty("children")&&(console.log("Grammar file tree: ",this.grammarFileTree),this.grammarFileTree=this.buildFileTree(t.children))}))}buildFileTree(t){return t.map(r=>({name:r.name,path:r.path,isDirectory:r.isDirectory||r.directory,children:r.children&&r.children.length>0?this.buildFileTree(r.children):[]}))}}return e.\u0275fac=function(t){return new(t||e)(ht(m0),ht($p))},e.\u0275cmp=ti({type:e,selectors:[["app-grammar-loader"]],viewQuery:function(t,r){if(1&t&&(Fr(S8,5),Fr(_8,5),Fr(M8,5)),2&t){let o;Dr(o=Sr())&&(r.grammarListSelector=o.first),Dr(o=Sr())&&(r.statusMessageDiv=o.first),Dr(o=Sr())&&(r.toggleDisplayComponent=o.first)}},decls:9,vars:2,consts:[[1,"status-message"],["statusMessage",""],["type","fileTree","showText","Select file","hideText","Hide file selection"],["toggleDisplayComponent",""],[3,"fileTree","nodeSelected","nodeDoubleClicked"],[3,"click"]],template:function(t,r){1&t&&(yt(0,"div",0,1),jt(2),mt(),yt(3,"app-toggle-display",2,3)(5,"div")(6,"app-file-tree",4),ir("nodeSelected",function(u){return r.onFileSelected(u)})("nodeDoubleClicked",function(){return r.updateGrammar()}),mt(),yt(7,"button",5),ir("click",function(){return r.updateGrammar()}),jt(8,"Update"),mt()()()),2&t&&(Rn(2),xh(" ",r.currentStatusMessage,"\n"),Rn(4),Un("fileTree",r.grammarFileTree))},dependencies:[Ux,D8],styles:[".status-message[_ngcontent-%COMP%]{color:red}"]}),e})();const T8=["edit1"],I8=["rl1"],A8=["cy1"],N8=["textareaElement"],O8=["errorhandle"];function R8(e,n){1&e&&(yt(0,"span"),jt(1,"Extract multi-stage"),mt())}function L8(e,n){1&e&&Xn(0,"span",18)}function k8(e,n){1&e&&(yt(0,"span"),jt(1,"Loading..."),mt())}function P8(e,n){1&e&&(yt(0,"span"),jt(1,"Parse and rewrite"),mt())}function F8(e,n){1&e&&Xn(0,"span",18)}function B8(e,n){1&e&&(yt(0,"span"),jt(1,"Loading..."),mt())}let V8=(()=>{class e{constructor(t){this.dataService=t,this.defaultValue="A big black dog appeared",this.changeDetector=new ci,this.loading=!1}analyzeSentence(t,r){this.loading=!0,this.errorhandle.nativeElement.innerHTML="",this.dataService.ligerAnnotate({sentence:t,ruleString:r}).subscribe(f=>{if(this.loading=!1,this.errorhandle.nativeElement.innerHTML="",f.hasOwnProperty("graph")?f.graph.hasOwnProperty("graphElements")&&(0!=f.graph.graphElements.length?(console.log(f.graph.graphElements),this.cy1.renderGraph(f.graph.graphElements),this.graphElements=f.graph.graphElements,this.displayMessage("Parsing successful...","green")):this.displayMessage("Parsing failed...","red")):this.displayMessage("Parsing failed...","red"),f.hasOwnProperty("appliedRules")&&null!==f.appliedRules){console.log(f.appliedRules),this.rulelist1.clearList();for(let y=0;y<f.appliedRules.length;y++)this.rulelist1.addElement({rule:f.appliedRules[y],index:y})}f.hasOwnProperty("meaningConstructors")&&(console.log(f.meaningConstructors),this.meaningConstructors=f.meaningConstructors,this.changeDetector.emit(f.meaningConstructors))},f=>{this.loading=!1,console.log("ERROR: ",f),this.displayMessage("An error occurred...","red")})}parseSentence(t,r){const o=t;this.errorhandle.nativeElement.innerHTML="",this.loading=!0,this.dataService.ligerParse({sentence:o,ruleString:""}).subscribe(f=>{this.loading=!1,f.hasOwnProperty("graph")?f.graph.hasOwnProperty("graphElements")&&(0!=f.graph.graphElements.length?(console.log(f.graph.graphElements),this.cy1.renderGraph(f.graph.graphElements),this.graphElements=f.graph.graphElements):this.displayMessage("Parsing failed...","red")):this.displayMessage("Parsing failed...","red"),f.hasOwnProperty("meaningConstructors")&&(console.log(f.meaningConstructors),this.meaningConstructors=f.meaningConstructors,this.changeDetector.emit(f.meaningConstructors))},f=>{console.log("ERROR: ",f),this.displayMessage("An error occurred...","red"),this.loading=!1})}calculateFromRuleList(t){let r=[];for(let u=0;u<=t.index;u++)r.push(this.rulelist1.elements[u].rule);console.log("New rules: \n",r);let o=r.map(u=>u.rule).join("\n");o="--replace(true);\n"+o,console.log("Rule string: \n",o),this.analyzeSentence(this.textarea.nativeElement.value,o)}showDialog(){this.cy1.subgraphDialog.setContent(this.graphElements),this.cy1.subgraphDialog.showDialog()}displayMessage(t,r){this.errorhandle.nativeElement.style.color=r,this.errorhandle.nativeElement.innerHTML="["+(new Date).toLocaleTimeString()+"] "+t}}return e.\u0275fac=function(t){return new(t||e)(ht(m0))},e.\u0275cmp=ti({type:e,selectors:[["app-liger-vis"]],viewQuery:function(t,r){if(1&t&&(Fr(T8,5),Fr(I8,5),Fr(A8,5),Fr(N8,5),Fr(O8,5)),2&t){let o;Dr(o=Sr())&&(r.editor1=o.first),Dr(o=Sr())&&(r.rulelist1=o.first),Dr(o=Sr())&&(r.cy1=o.first),Dr(o=Sr())&&(r.textarea=o.first),Dr(o=Sr())&&(r.errorhandle=o.first)}},decls:37,vars:8,consts:[[3,"value"],["textareaElement",""],[1,"errorhandling"],["errorhandle",""],[1,"button",3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[3,"click"],["type","liger","showText","Show input rules","hideText","Hide input rules"],[1,"editor-restr"],[3,"mode"],["edit1",""],["showText","Show graph vis","hideText","Hide graph vis"],[1,"ligergraphcontainer"],["cy1",""],["type","liger","showText","Show applied rules","hideText","Hide applied rules"],[3,"calculateFromRule"],["rl1",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(t,r){if(1&t){const o=Dd();yt(0,"h3"),jt(1," Test sentence: "),mt(),Xn(2,"textarea",0,1)(4,"br")(5,"div",2,3),yt(7,"button",4),ir("click",function(){nr(o);const f=dc(3),y=dc(22);return da(r.parseSentence(f.value,y.getContent()))}),Yo(8,R8,2,0,"span",5),Yo(9,L8,1,0,"span",6),Yo(10,k8,2,0,"span",5),mt(),yt(11,"button",7),ir("click",function(){nr(o);const f=dc(3),y=dc(22);return da(r.analyzeSentence(f.value,y.getContent()))}),Yo(12,P8,2,0,"span",5),Yo(13,F8,1,0,"span",6),Yo(14,B8,2,0,"span",5),mt(),Xn(15,"br")(16,"app-grammar-loader"),yt(17,"app-toggle-display",8)(18,"h3"),jt(19," Input rules: "),mt(),yt(20,"div",9),Xn(21,"app-editor",10,11),mt()(),yt(23,"app-toggle-display",12)(24,"h3"),jt(25," Graph visualization: "),mt(),yt(26,"div",13),Xn(27,"app-graph-vis",null,14),yt(29,"button",7),ir("click",function(){return r.showDialog()}),jt(30,"Show dialog"),mt()(),Xn(31,"br"),mt(),yt(32,"app-toggle-display",15)(33,"h3"),jt(34," Rule list: "),mt(),yt(35,"app-rule-list",16,17),ir("calculateFromRule",function(f){return r.calculateFromRuleList(f)}),mt()()}2&t&&(Rn(2),Un("value",r.defaultValue),Rn(6),Un("ngIf",!r.loading),Rn(1),Un("ngIf",r.loading),Rn(1),Un("ngIf",r.loading),Rn(2),Un("ngIf",!r.loading),Rn(1),Un("ngIf",r.loading),Rn(1),Un("ngIf",r.loading),Rn(7),Un("mode","liger"))},dependencies:[xf,Bv,Nz,kz,Ux,AN],styles:["textarea[_ngcontent-%COMP%]{width:600px;height:50px;overflow:auto;display:block;resize:none}div.ligergraphcontainer[_ngcontent-%COMP%]{max-width:800px;height:650px}div.errorhandling[_ngcontent-%COMP%]{color:red;padding-bottom:10px}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}"]}),e})();const H8=["l1"],U8=["g1"];function z8(e,n){if(1&e){const t=Dd();yt(0,"button",6),ir("click",function(){nr(t);const o=Sd();return da(o.isFirstDivMinimized=!o.isFirstDivMinimized)}),jt(1," >> "),mt()}}function G8(e,n){if(1&e){const t=Dd();yt(0,"button",6),ir("click",function(){nr(t);const o=Sd();return da(o.isSecondDivMinimized=!o.isSecondDivMinimized)}),jt(1," << "),mt()}}const NN=function(e){return{display:e}};let j8=(()=>{class e{constructor(){this.isFirstDivMinimized=!1,this.isSecondDivMinimized=!1}ngAfterViewInit(){this.liger.changeDetector.subscribe(t=>{this.glue.editor1.updateContent(t)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ti({type:e,selectors:[["app-glue-interface"]],viewQuery:function(t,r){if(1&t&&(Fr(H8,5),Fr(U8,5)),2&t){let o;Dr(o=Sr())&&(r.liger=o.first),Dr(o=Sr())&&(r.glue=o.first)}},decls:13,vars:8,consts:[[1,"container"],[1,"scrollable-div",3,"ngStyle"],[1,"toggle-button",3,"click"],["l1",""],["class","toggle-button-max",3,"click",4,"ngIf"],["g1",""],[1,"toggle-button-max",3,"click"]],template:function(t,r){1&t&&(yt(0,"div",0)(1,"div",1)(2,"button",2),ir("click",function(){return r.isFirstDivMinimized=!r.isFirstDivMinimized}),jt(3," << "),mt(),Xn(4,"app-liger-vis",null,3),mt(),Yo(6,z8,2,0,"button",4),yt(7,"div",1)(8,"button",2),ir("click",function(){return r.isSecondDivMinimized=!r.isSecondDivMinimized}),jt(9," >> "),mt(),Xn(10,"app-gswb-vis",null,5),mt(),Yo(12,G8,2,0,"button",4),mt()),2&t&&(Rn(1),Un("ngStyle",ly(4,NN,r.isFirstDivMinimized?"none":"block")),Rn(5),Un("ngIf",r.isFirstDivMinimized),Rn(1),Un("ngStyle",ly(6,NN,r.isSecondDivMinimized?"none":"block")),Rn(5),Un("ngIf",r.isSecondDivMinimized))},dependencies:[xf,sC,Tz,V8],styles:[".toggle-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:50px;height:100%;background-color:#fff;border:none;cursor:pointer;opacity:0;transition:opacity .3s;font-weight:700}.toggle-button[_ngcontent-%COMP%]:hover{opacity:.8;background:#00a9e0;color:#fff;border-radius:10px}.toggle-button-max[_ngcontent-%COMP%]{width:50px;height:100vh;font-weight:700;background-color:#fff;border:none;cursor:pointer}.toggle-button-max[_ngcontent-%COMP%]:hover{opacity:.2;background:#00a9e0;color:#fff;border-radius:10px}",".container[_ngcontent-%COMP%] {\n    padding: 15px;\n    display: flex;\n    flex-wrap: nowrap;\n  }\n  .scrollable-div[_ngcontent-%COMP%] {\n    position: relative;\n    flex: 1;\n    overflow-y: auto;\n    max-height: 100vh;\n    flex-basis: 50%;\n    padding-left: 60px\n  }\n\n  \n\n  @media (max-width: 1400px) {\n    .container[_ngcontent-%COMP%] {\n      flex-direction: column;\n    }\n    .scrollable-div[_ngcontent-%COMP%] {\n      max-height: none;\n      overflow-y: initial;\n    }\n  }"]}),e})();const W8=["graphContainer"],$8=["subgraphDialog"];As().use(y0()),As().use(WA());let Y8=(()=>{class e{constructor(){this.style=[{selector:'node[node_type="rule"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":"yellow red","background-gradient-stop-positions":"0 30 60"}},{selector:'edge[edge_type="edge"]',style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}],this.defaultWidth="800px",this.defaultHeight="600px"}ngOnInit(){this.cy=As()({container:document.getElementById("cy"),style:this.style,layout:{name:"dagre"}})}makePopper(t){const r=t.popperRef();t.tippy=Xv(r,{content:()=>{let o=document.createElement("div");var u=t._private.data;return u.hasOwnProperty("rule")&&(o.innerHTML=o.innerHTML+"Rule "+u.id+": "+u.rule+"at line: "+u.line+"<br>"),o},trigger:"manual"})}createAndBindPoppers(){this.cy.nodes().forEach(t=>{t.data().hasOwnProperty("rule")&&(this.makePopper(t),t.bind("mouseover",o=>o.target.tippy.show()),t.bind("mouseout",o=>o.target.tippy.hide()))})}renderGraph(t){this.cy=As()({container:document.getElementById(this.graphID),elements:t,style:this.calculateStyle(t),layout:{name:"dagre"}}),this.createAndBindPoppers(),console.log("Container of the subgraph: ",this.cy.container().id),console.log("Cy element with data:",this.cy)}calculateStyle(t){let r=t.filter(H=>H.data.hasOwnProperty("rule"));r.sort((H,$)=>H.data.id>$.data.id?1:-1),console.log("Sorted nodes: ",r);const o=Math.floor(r.length/10);console.log("NodeBucket: ",o);let u=0,f=[];for(let H=0;H<r.length;H++){H%o==0&&u++;let $="style"+u;r[H].data.node_style=$,f.includes($)||f.push($)}console.log("Styles: ",f);let y=[],M=this.calculateColorStops("#FFFF00","#FF0000",f.length);for(let H=0;H<f.length;H++){let ye={selector:'node[node_style="'+f[H]+'"]',style:{content:"data(id)",color:"blue","text-valign":"center","text-halign":"center",height:"60px",width:"60px","background-fill":"linear-gradient","background-gradient-stop-colors":M[H]+" white","background-gradient-stop-positions":"100 100"}};console.log("Current cyto style: ",ye),y.push(ye)}return y}resizeToDefault(){const t=this.graphContainer.nativeElement;t.style.width=this.defaultWidth,t.style.height=this.defaultHeight}showDialog(){this.subgraphDialog.setContent(this.cy.data()),this.subgraphDialog.showDialog()}calculateColorStops(t,r,o){let u=[];for(let f=0;f<o;f++){const M=this.calculateColor(t,r,f/(o-1));u.push(M)}return u}calculateColor(t,r,o){const u=Math.round(this.interpolate(t.slice(1,3),r.slice(1,3),o)),f=Math.round(this.interpolate(t.slice(3,5),r.slice(3,5),o)),y=Math.round(this.interpolate(t.slice(5,7),r.slice(5,7),o));return`#${this.componentToHex(u)}${this.componentToHex(f)}${this.componentToHex(y)}`}interpolate(t,r,o){return(1-o)*parseInt(t,16)+o*parseInt(r,16)}componentToHex(t){const r=t.toString(16);return 1===r.length?"0"+r:r}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ti({type:e,selectors:[["app-applied-rules-graph"]],viewQuery:function(t,r){if(1&t&&(Fr(W8,5),Fr($8,5)),2&t){let o;Dr(o=Sr())&&(r.graphContainer=o.first),Dr(o=Sr())&&(r.subgraphDialog=o.first)}},inputs:{graphID:"graphID"},decls:7,vars:3,consts:[[1,"cy",3,"id"],["graphContainer",""],[3,"click"],[3,"subgraphID","subgraphStyle"],["subgraphDialog",""]],template:function(t,r){1&t&&(yt(0,"div"),Xn(1,"div",0,1),yt(3,"button",2),ir("click",function(){return r.resizeToDefault()}),jt(4,"Resize to Default"),mt(),Xn(5,"app-sub-graph-dialog",3,4),mt()),2&t&&(Rn(1),Un("id",r.graphID),Rn(4),Un("subgraphID","sub"+r.graphID)("subgraphStyle","liger"))},dependencies:[Hx],styles:["div.cy[_ngcontent-%COMP%]{width:760px;height:590px;display:block;border-style:solid;border-radius:25px;border-color:#00a9e0;margin:5px;overflow:hidden;resize:both;max-width:100%;max-height:100%}"]}),e})();const X8=["arcy"],K8=["ligerreport"],Z8=["gswbreport"],q8=["gswbSettings"],Q8=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"demo",component:j8},{path:"regression",component:(()=>{class e{constructor(t){this.dataService=t}batchParse(t,r){this.gswbPreferences.onSubmit();let o=t.split("\n").filter(y=>{let M=y.trim();return""!==M&&!M.startsWith("#")}),u={};for(let y=0;y<o.length;y++)u["S"+y]=o[y];this.dataService.ligerBatchAnnotate({sentences:u,ruleString:r}).subscribe(y=>{if(console.log(y),y.hasOwnProperty("annotations")){console.log(y.annotations);let M={};for(let[$,re]of Object.entries(y.annotations))M[$]=re.meaningConstructors;let H={};Object.keys(M).sort(($,re)=>parseInt($.match(/\d+/)[0])-parseInt(re.match(/\d+/)[0])).forEach($=>{H[$]=M[$]}),console.log("sorted MCs",H),this.gswbMultipleRequest={premises:H,gswbPreferences:this.gswbPreferences.gswbPreferences},console.log("Specified request: ",this.gswbMultipleRequest)}y.hasOwnProperty("ruleApplicationGraph")&&(console.log(y.ruleApplicationGraph),this.cy1.renderGraph(y.ruleApplicationGraph)),y.hasOwnProperty("report")&&(this.ligerreport.nativeElement.innerHTML=y.report),this.batchDeduce(this.gswbMultipleRequest)},y=>{console.error("An error occurred:",y)})}batchMultistage(t){this.gswbPreferences.onSubmit();let r=t.split("\n").filter(f=>{let y=f.trim();return""!==y&&!y.startsWith("#")}),o={};for(let f=0;f<r.length;f++)o["S"+f]=r[f];this.dataService.ligerBatchMultistage({sentences:o,ruleString:null}).subscribe(f=>{if(console.log(f),f.hasOwnProperty("annotations")){console.log(f.annotations);let y={};for(let[M,H]of Object.entries(f.annotations))y[M]=H.meaningConstructors;this.gswbMultipleRequest={premises:y,gswbPreferences:this.gswbPreferences.gswbPreferences},console.log("Specified request: ",this.gswbMultipleRequest)}f.hasOwnProperty("report")&&(this.ligerreport.nativeElement.innerHTML=f.report),this.batchDeduce(this.gswbMultipleRequest)},f=>{console.error("An error occurred:",f)})}batchDeduce(t){console.log("gswbRequest: ",t),this.dataService.gswbBatchDeduce(t).subscribe(r=>{console.log(r),r.hasOwnProperty("report")&&(this.gswbreport.nativeElement.innerHTML=r.report)},r=>{console.error("An error occurred:",r)})}}return e.\u0275fac=function(t){return new(t||e)(ht(m0))},e.\u0275cmp=ti({type:e,selectors:[["app-regression-testing-interface"]],viewQuery:function(t,r){if(1&t&&(Fr(X8,5),Fr(K8,5),Fr(Z8,5),Fr(q8,5)),2&t){let o;Dr(o=Sr())&&(r.cy1=o.first),Dr(o=Sr())&&(r.ligerreport=o.first),Dr(o=Sr())&&(r.gswbreport=o.first),Dr(o=Sr())&&(r.gswbPreferences=o.first)}},decls:41,vars:3,consts:[[1,"frame"],[1,"editor-restr"],[3,"mode"],["testsuite",""],["type","liger","showText","Show input rules","hideText","Hide input rules"],[1,"gradient-container"],["ligerRules",""],[1,"bar-container"],[1,"gradient-bar"],[1,"empty-space"],["gswbSettings",""],[3,"click"],[1,"button","beta",3,"click"],[1,"log"],["ligerreport",""],["gswbreport",""],["type","liger","showText","Show applied rules","hideText","Hide applied rules"],[3,"graphID"],["arcy",""]],template:function(t,r){if(1&t){const o=Dd();yt(0,"div",0)(1,"h3"),jt(2," Grammar:\n"),mt(),Xn(3,"app-grammar-loader"),yt(4,"h3"),jt(5," Testsuite:\n"),mt(),yt(6,"div",1),Xn(7,"app-editor",2,3),mt(),Xn(9,"br"),yt(10,"app-toggle-display",4)(11,"h3"),jt(12," Test rules:\n"),mt(),yt(13,"div",5)(14,"div",1),Xn(15,"app-editor",2,6),mt(),yt(17,"div",7),Xn(18,"div",8)(19,"div",9),mt()()(),Xn(20,"app-gswb-settings",null,10),yt(22,"button",11),ir("click",function(){nr(o);const f=dc(8),y=dc(16);return da(r.batchParse(f.getContent(),y.getContent()))}),jt(23,"Parse all"),mt(),yt(24,"button",12),ir("click",function(){nr(o);const f=dc(8);return da(r.batchMultistage(f.getContent()))}),jt(25,"Multi stage"),mt(),yt(26,"h3"),jt(27," Report:\n"),mt(),Xn(28,"textarea",13,14),yt(30,"textarea",13,15),jt(32,"\n  "),mt(),Xn(33,"br")(34,"br"),yt(35,"app-toggle-display",16)(36,"h3"),jt(37," Applied rules:\n"),mt(),yt(38,"div"),Xn(39,"app-applied-rules-graph",17,18),mt()()()}2&t&&(Rn(7),Un("mode","text"),Rn(8),Un("mode","liger"),Rn(24),Un("graphID","arCy1"))},dependencies:[Bv,Y8,Ux,jA,AN],styles:[".gradient-container[_ngcontent-%COMP%]{display:flex;align-items:stretch;max-width:100%}.bar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.gradient-bar[_ngcontent-%COMP%]{flex-grow:1;width:20px;background:linear-gradient(to bottom,yellow,red)}.empty-space[_ngcontent-%COMP%]{width:20px;height:30px}textarea[_ngcontent-%COMP%]{width:50%;resize:both;overflow:auto;padding-left:20px}.frame[_ngcontent-%COMP%]{padding-left:10px}"]}),e})()},{path:"home",component:(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ti({type:e,selectors:[["app-home"]],decls:55,vars:0,consts:[["href","https://github.com/Mmaz1988/GlueSemWorkbench_v2"],["href","https://github.com/Mmaz1988/liger"],["href","https://github.com/Mmaz1988/xle-glueworkbench-interface"],["href","https://github.com/Mmaz1988/xleplusglue-client"],["href","https://cloud.uni-konstanz.de/index.php/s/RQ6ziY2xkHkjpGM"]],template:function(t,r){1&t&&(yt(0,"div")(1,"h1"),jt(2," The XLE+Glue web application"),mt(),yt(3,"p"),jt(4,"This page presents several resources used for exploring LFG's glue semantics. Concretely, it presents the\n"),yt(5,"a",0),jt(6," Glue semantics workbench "),mt(),jt(7,"and the "),yt(8,"a",1),jt(9," LiGER rewrite system "),mt(),jt(10,". It also serves as a revised frontend for the original "),yt(11,"a",2),jt(12,"XLE + Glue"),mt(),jt(13,". As all of these resources, this frontend is open source.\nIt is available at: "),yt(14,"a",3),jt(15,"XLE+Glue client"),mt()(),yt(16,"h2"),jt(17,"Quick start"),mt(),yt(18,"h2"),jt(19,"Running the system locally"),mt(),yt(20,"p"),jt(21," To run this system, you require: "),mt(),yt(22,"ul")(23,"li"),jt(24," A running version of the GSWB "),mt(),yt(25,"li"),jt(26," A running version of LiGER "),mt(),yt(27,"li"),jt(28," A running version of the client "),mt()(),yt(29,"p"),jt(30," You either need to compile your own jar files for the GSWB and LiGER, or you can use the ones provided at "),yt(31,"a",4),jt(32,"XLE+Glue resources"),mt(),jt(33,". Please contact Mark-Matthias Zymla if you can't access the relevant files. You need to run both -jar files with the "),yt(34,"b"),jt(35,"-web"),mt(),jt(36," parameter. Furthermore, they require resource folders to be present in the same directory as the jar files. These resource folders contain additional requirements explained on the corresponding github pages. "),mt(),yt(37,"p"),jt(38," The frontend is written in angular. To use it locally, you need to install node.js and npm. Then, you can run "),yt(39,"b"),jt(40,"ng build"),mt(),jt(41," in the client directory to build the frontend, which is then stored in the dist directory. You can use "),yt(42,"b"),jt(43,"http-server"),mt(),jt(44," to serve the frontend. It can be installed with "),yt(45,"b"),jt(46,"npm install -g http-server"),mt(),jt(47,". Then, you can run "),yt(48,"b"),jt(49,"http-server dist/xleplusglue-cient"),mt(),jt(50," to serve the frontend. Http-server will tell you the correct address. "),mt(),yt(51,"p"),jt(52,"If you have node.js and http-server installed, you can also try to use the pre-build version available at: "),Xn(53,"a",3),jt(54,". There, you also find the relevant resource folders for the GSWB\nand LiGER and a .sh file that allows you to execute the backend (i.e., the GSWB and LiGER jars) and frontend with a single command. "),mt()())},styles:["div[_ngcontent-%COMP%]{padding-left:20px}p[_ngcontent-%COMP%]{width:800px}"]}),e})()}];let J8=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=fi({type:e}),e.\u0275inj=di({imports:[ET.forRoot(Q8),ET]}),e})(),ej=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=fi({type:e,bootstrap:[d3]}),e.\u0275inj=di({imports:[MV,i4,T4,r4,G_,J8,jG,i8,v8]}),e})();SV().bootstrapModule(ej).catch(e=>console.error(e))},7925:(Y,le,D)=>{"use strict";D.r(le),D.d(le,{afterMain:()=>ne,afterRead:()=>ce,afterWrite:()=>se,applyStyles:()=>lt,arrow:()=>Ai,auto:()=>C,basePlacements:()=>S,beforeMain:()=>ue,beforeRead:()=>fe,beforeWrite:()=>ve,bottom:()=>L,clippingParents:()=>V,computeStyles:()=>ml,createPopper:()=>Vn,createPopperBase:()=>Tc,createPopperLite:()=>ms,detectOverflow:()=>wa,end:()=>N,eventListeners:()=>Ys,flip:()=>$l,hide:()=>Iu,left:()=>I,main:()=>ge,modifierPhases:()=>ae,offset:()=>Nu,placements:()=>te,popper:()=>B,popperGenerator:()=>_o,popperOffsets:()=>$r,preventOverflow:()=>Xi,read:()=>ie,reference:()=>U,right:()=>O,start:()=>R,top:()=>_,variationPlacements:()=>X,viewport:()=>P,write:()=>q});var _="top",L="bottom",O="right",I="left",C="auto",S=[_,L,O,I],R="start",N="end",V="clippingParents",P="viewport",B="popper",U="reference",X=S.reduce(function(Oe,Le){return Oe.concat([Le+"-"+R,Le+"-"+N])},[]),te=[].concat(S,[C]).reduce(function(Oe,Le){return Oe.concat([Le,Le+"-"+R,Le+"-"+N])},[]),fe="beforeRead",ie="read",ce="afterRead",ue="beforeMain",ge="main",ne="afterMain",ve="beforeWrite",q="write",se="afterWrite",ae=[fe,ie,ce,ue,ge,ne,ve,q,se];function me(Oe){return Oe?(Oe.nodeName||"").toLowerCase():null}function xe(Oe){if(null==Oe)return window;if("[object Window]"!==Oe.toString()){var Le=Oe.ownerDocument;return Le&&Le.defaultView||window}return Oe}function Me(Oe){return Oe instanceof xe(Oe).Element||Oe instanceof Element}function _e(Oe){return Oe instanceof xe(Oe).HTMLElement||Oe instanceof HTMLElement}function Ue(Oe){return!(typeof ShadowRoot>"u")&&(Oe instanceof xe(Oe).ShadowRoot||Oe instanceof ShadowRoot)}const lt={name:"applyStyles",enabled:!0,phase:"write",fn:function Be(Oe){var Le=Oe.state;Object.keys(Le.elements).forEach(function(Ve){var et=Le.styles[Ve]||{},qe=Le.attributes[Ve]||{},qt=Le.elements[Ve];!_e(qt)||!me(qt)||(Object.assign(qt.style,et),Object.keys(qe).forEach(function(pn){var Ht=qe[pn];!1===Ht?qt.removeAttribute(pn):qt.setAttribute(pn,!0===Ht?"":Ht)}))})},effect:function nt(Oe){var Le=Oe.state,Ve={popper:{position:Le.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(Le.elements.popper.style,Ve.popper),Le.styles=Ve,Le.elements.arrow&&Object.assign(Le.elements.arrow.style,Ve.arrow),function(){Object.keys(Le.elements).forEach(function(et){var qe=Le.elements[et],qt=Le.attributes[et]||{},Ht=Object.keys(Le.styles.hasOwnProperty(et)?Le.styles[et]:Ve[et]).reduce(function(en,Ln){return en[Ln]="",en},{});!_e(qe)||!me(qe)||(Object.assign(qe.style,Ht),Object.keys(qt).forEach(function(en){qe.removeAttribute(en)}))})}},requires:["computeStyles"]};function Ke(Oe){return Oe.split("-")[0]}var Ct=Math.max,Xe=Math.min,Zt=Math.round;function Vt(){var Oe=navigator.userAgentData;return null!=Oe&&Oe.brands&&Array.isArray(Oe.brands)?Oe.brands.map(function(Le){return Le.brand+"/"+Le.version}).join(" "):navigator.userAgent}function Ft(){return!/^((?!chrome|android).)*safari/i.test(Vt())}function gn(Oe,Le,Ve){void 0===Le&&(Le=!1),void 0===Ve&&(Ve=!1);var et=Oe.getBoundingClientRect(),qe=1,qt=1;Le&&_e(Oe)&&(qe=Oe.offsetWidth>0&&Zt(et.width)/Oe.offsetWidth||1,qt=Oe.offsetHeight>0&&Zt(et.height)/Oe.offsetHeight||1);var Ht=(Me(Oe)?xe(Oe):window).visualViewport,en=!Ft()&&Ve,Ln=(et.left+(en&&Ht?Ht.offsetLeft:0))/qe,Bt=(et.top+(en&&Ht?Ht.offsetTop:0))/qt,xr=et.width/qe,Wn=et.height/qt;return{width:xr,height:Wn,top:Bt,right:Ln+xr,bottom:Bt+Wn,left:Ln,x:Ln,y:Bt}}function ln(Oe){var Le=gn(Oe),Ve=Oe.offsetWidth,et=Oe.offsetHeight;return Math.abs(Le.width-Ve)<=1&&(Ve=Le.width),Math.abs(Le.height-et)<=1&&(et=Le.height),{x:Oe.offsetLeft,y:Oe.offsetTop,width:Ve,height:et}}function it(Oe,Le){var Ve=Le.getRootNode&&Le.getRootNode();if(Oe.contains(Le))return!0;if(Ve&&Ue(Ve)){var et=Le;do{if(et&&Oe.isSameNode(et))return!0;et=et.parentNode||et.host}while(et)}return!1}function Je(Oe){return xe(Oe).getComputedStyle(Oe)}function ut(Oe){return["table","td","th"].indexOf(me(Oe))>=0}function Pt(Oe){return((Me(Oe)?Oe.ownerDocument:Oe.document)||window.document).documentElement}function Mt(Oe){return"html"===me(Oe)?Oe:Oe.assignedSlot||Oe.parentNode||(Ue(Oe)?Oe.host:null)||Pt(Oe)}function zn(Oe){return _e(Oe)&&"fixed"!==Je(Oe).position?Oe.offsetParent:null}function yr(Oe){for(var Le=xe(Oe),Ve=zn(Oe);Ve&&ut(Ve)&&"static"===Je(Ve).position;)Ve=zn(Ve);return Ve&&("html"===me(Ve)||"body"===me(Ve)&&"static"===Je(Ve).position)?Le:Ve||function jn(Oe){var Le=/firefox/i.test(Vt());if(/Trident/i.test(Vt())&&_e(Oe)&&"fixed"===Je(Oe).position)return null;var qe=Mt(Oe);for(Ue(qe)&&(qe=qe.host);_e(qe)&&["html","body"].indexOf(me(qe))<0;){var qt=Je(qe);if("none"!==qt.transform||"none"!==qt.perspective||"paint"===qt.contain||-1!==["transform","perspective"].indexOf(qt.willChange)||Le&&"filter"===qt.willChange||Le&&qt.filter&&"none"!==qt.filter)return qe;qe=qe.parentNode}return null}(Oe)||Le}function Tr(Oe){return["top","bottom"].indexOf(Oe)>=0?"x":"y"}function pr(Oe,Le,Ve){return Ct(Oe,Xe(Le,Ve))}function Ur(Oe){return Object.assign({},{top:0,right:0,bottom:0,left:0},Oe)}function cn(Oe,Le){return Le.reduce(function(Ve,et){return Ve[et]=Oe,Ve},{})}const Ai={name:"arrow",enabled:!0,phase:"main",fn:function Yi(Oe){var Le,Ve=Oe.state,et=Oe.name,qe=Oe.options,qt=Ve.elements.arrow,pn=Ve.modifiersData.popperOffsets,Ht=Ke(Ve.placement),en=Tr(Ht),Bt=[I,O].indexOf(Ht)>=0?"height":"width";if(qt&&pn){var xr=function(Le,Ve){return Ur("number"!=typeof(Le="function"==typeof Le?Le(Object.assign({},Ve.rects,{placement:Ve.placement})):Le)?Le:cn(Le,S))}(qe.padding,Ve),Wn=ln(qt),Qn="y"===en?_:I,Yr="y"===en?L:O,_n=Ve.rects.reference[Bt]+Ve.rects.reference[en]-pn[en]-Ve.rects.popper[Bt],on=pn[en]-Ve.rects.reference[en],Ar=yr(qt),oi=Ar?"y"===en?Ar.clientHeight||0:Ar.clientWidth||0:0,Nr=oi/2-Wn[Bt]/2+(_n/2-on/2),vn=pr(xr[Qn],Nr,oi-Wn[Bt]-xr[Yr]);Ve.modifiersData[et]=((Le={})[en]=vn,Le.centerOffset=vn-Nr,Le)}},effect:function Ii(Oe){var Le=Oe.state,et=Oe.options.element,qe=void 0===et?"[data-popper-arrow]":et;null!=qe&&("string"==typeof qe&&!(qe=Le.elements.popper.querySelector(qe))||it(Le.elements.popper,qe)&&(Le.elements.arrow=qe))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vr(Oe){return Oe.split("-")[1]}var Hi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ps(Oe){var Le,Ve=Oe.popper,et=Oe.popperRect,qe=Oe.placement,qt=Oe.variation,pn=Oe.offsets,Ht=Oe.position,en=Oe.gpuAcceleration,Ln=Oe.adaptive,Bt=Oe.roundOffsets,xr=Oe.isFixed,Wn=pn.x,Qn=void 0===Wn?0:Wn,Yr=pn.y,_n=void 0===Yr?0:Yr,on="function"==typeof Bt?Bt({x:Qn,y:_n}):{x:Qn,y:_n};Qn=on.x,_n=on.y;var Ar=pn.hasOwnProperty("x"),oi=pn.hasOwnProperty("y"),Qr=I,ur=_,dt=window;if(Ln){var Nr=yr(Ve),vn="clientHeight",kn="clientWidth";Nr===xe(Ve)&&"static"!==Je(Nr=Pt(Ve)).position&&"absolute"===Ht&&(vn="scrollHeight",kn="scrollWidth"),(qe===_||(qe===I||qe===O)&&qt===N)&&(ur=L,_n-=(xr&&Nr===dt&&dt.visualViewport?dt.visualViewport.height:Nr[vn])-et.height,_n*=en?1:-1),qe!==I&&(qe!==_&&qe!==L||qt!==N)||(Qr=O,Qn-=(xr&&Nr===dt&&dt.visualViewport?dt.visualViewport.width:Nr[kn])-et.width,Qn*=en?1:-1)}var _r,so=Object.assign({position:Ht},Ln&&Hi),Ri=!0===Bt?function Ra(Oe,Le){var et=Oe.y,qe=Le.devicePixelRatio||1;return{x:Zt(Oe.x*qe)/qe||0,y:Zt(et*qe)/qe||0}}({x:Qn,y:_n},xe(Ve)):{x:Qn,y:_n};return Qn=Ri.x,_n=Ri.y,Object.assign({},so,en?((_r={})[ur]=oi?"0":"",_r[Qr]=Ar?"0":"",_r.transform=(dt.devicePixelRatio||1)<=1?"translate("+Qn+"px, "+_n+"px)":"translate3d("+Qn+"px, "+_n+"px, 0)",_r):((Le={})[ur]=oi?_n+"px":"",Le[Qr]=Ar?Qn+"px":"",Le.transform="",Le))}const ml={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Sn(Oe){var Le=Oe.state,Ve=Oe.options,et=Ve.gpuAcceleration,qe=void 0===et||et,qt=Ve.adaptive,pn=void 0===qt||qt,Ht=Ve.roundOffsets,en=void 0===Ht||Ht,Ln={placement:Ke(Le.placement),variation:Vr(Le.placement),popper:Le.elements.popper,popperRect:Le.rects.popper,gpuAcceleration:qe,isFixed:"fixed"===Le.options.strategy};null!=Le.modifiersData.popperOffsets&&(Le.styles.popper=Object.assign({},Le.styles.popper,ps(Object.assign({},Ln,{offsets:Le.modifiersData.popperOffsets,position:Le.options.strategy,adaptive:pn,roundOffsets:en})))),null!=Le.modifiersData.arrow&&(Le.styles.arrow=Object.assign({},Le.styles.arrow,ps(Object.assign({},Ln,{offsets:Le.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:en})))),Le.attributes.popper=Object.assign({},Le.attributes.popper,{"data-popper-placement":Le.placement})},data:{}};var Vo={passive:!0};const Ys={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Ho(Oe){var Le=Oe.state,Ve=Oe.instance,et=Oe.options,qe=et.scroll,qt=void 0===qe||qe,pn=et.resize,Ht=void 0===pn||pn,en=xe(Le.elements.popper),Ln=[].concat(Le.scrollParents.reference,Le.scrollParents.popper);return qt&&Ln.forEach(function(Bt){Bt.addEventListener("scroll",Ve.update,Vo)}),Ht&&en.addEventListener("resize",Ve.update,Vo),function(){qt&&Ln.forEach(function(Bt){Bt.removeEventListener("scroll",Ve.update,Vo)}),Ht&&en.removeEventListener("resize",Ve.update,Vo)}},data:{}};var La={left:"right",right:"left",bottom:"top",top:"bottom"};function gs(Oe){return Oe.replace(/left|right|bottom|top/g,function(Le){return La[Le]})}var bn={start:"end",end:"start"};function la(Oe){return Oe.replace(/start|end/g,function(Le){return bn[Le]})}function ao(Oe){var Le=xe(Oe);return{scrollLeft:Le.pageXOffset,scrollTop:Le.pageYOffset}}function ii(Oe){return gn(Pt(Oe)).left+ao(Oe).scrollLeft}function yi(Oe){var Le=Je(Oe);return/auto|scroll|overlay|hidden/.test(Le.overflow+Le.overflowY+Le.overflowX)}function ba(Oe){return["html","body","#document"].indexOf(me(Oe))>=0?Oe.ownerDocument.body:_e(Oe)&&yi(Oe)?Oe:ba(Mt(Oe))}function Ni(Oe,Le){var Ve;void 0===Le&&(Le=[]);var et=ba(Oe),qe=et===(null==(Ve=Oe.ownerDocument)?void 0:Ve.body),qt=xe(et),pn=qe?[qt].concat(qt.visualViewport||[],yi(et)?et:[]):et,Ht=Le.concat(pn);return qe?Ht:Ht.concat(Ni(Mt(pn)))}function Rs(Oe){return Object.assign({},Oe,{left:Oe.x,top:Oe.y,right:Oe.x+Oe.width,bottom:Oe.y+Oe.height})}function ka(Oe,Le,Ve){return Le===P?Rs(function Ui(Oe,Le){var Ve=xe(Oe),et=Pt(Oe),qe=Ve.visualViewport,qt=et.clientWidth,pn=et.clientHeight,Ht=0,en=0;if(qe){qt=qe.width,pn=qe.height;var Ln=Ft();(Ln||!Ln&&"fixed"===Le)&&(Ht=qe.offsetLeft,en=qe.offsetTop)}return{width:qt,height:pn,x:Ht+ii(Oe),y:en}}(Oe,Ve)):Me(Le)?function Ec(Oe,Le){var Ve=gn(Oe,!1,"fixed"===Le);return Ve.top=Ve.top+Oe.clientTop,Ve.left=Ve.left+Oe.clientLeft,Ve.bottom=Ve.top+Oe.clientHeight,Ve.right=Ve.left+Oe.clientWidth,Ve.width=Oe.clientWidth,Ve.height=Oe.clientHeight,Ve.x=Ve.left,Ve.y=Ve.top,Ve}(Le,Ve):Rs(function Wl(Oe){var Le,Ve=Pt(Oe),et=ao(Oe),qe=null==(Le=Oe.ownerDocument)?void 0:Le.body,qt=Ct(Ve.scrollWidth,Ve.clientWidth,qe?qe.scrollWidth:0,qe?qe.clientWidth:0),pn=Ct(Ve.scrollHeight,Ve.clientHeight,qe?qe.scrollHeight:0,qe?qe.clientHeight:0),Ht=-et.scrollLeft+ii(Oe),en=-et.scrollTop;return"rtl"===Je(qe||Ve).direction&&(Ht+=Ct(Ve.clientWidth,qe?qe.clientWidth:0)-qt),{width:qt,height:pn,x:Ht,y:en}}(Pt(Oe)))}function Ka(Oe){var en,Le=Oe.reference,Ve=Oe.element,et=Oe.placement,qe=et?Ke(et):null,qt=et?Vr(et):null,pn=Le.x+Le.width/2-Ve.width/2,Ht=Le.y+Le.height/2-Ve.height/2;switch(qe){case _:en={x:pn,y:Le.y-Ve.height};break;case L:en={x:pn,y:Le.y+Le.height};break;case O:en={x:Le.x+Le.width,y:Ht};break;case I:en={x:Le.x-Ve.width,y:Ht};break;default:en={x:Le.x,y:Le.y}}var Ln=qe?Tr(qe):null;if(null!=Ln){var Bt="y"===Ln?"height":"width";switch(qt){case R:en[Ln]=en[Ln]-(Le[Bt]/2-Ve[Bt]/2);break;case N:en[Ln]=en[Ln]+(Le[Bt]/2-Ve[Bt]/2)}}return en}function wa(Oe,Le){void 0===Le&&(Le={});var et=Le.placement,qe=void 0===et?Oe.placement:et,qt=Le.strategy,pn=void 0===qt?Oe.strategy:qt,Ht=Le.boundary,en=void 0===Ht?V:Ht,Ln=Le.rootBoundary,Bt=void 0===Ln?P:Ln,xr=Le.elementContext,Wn=void 0===xr?B:xr,Qn=Le.altBoundary,Yr=void 0!==Qn&&Qn,_n=Le.padding,on=void 0===_n?0:_n,Ar=Ur("number"!=typeof on?on:cn(on,S)),Qr=Oe.rects.popper,ur=Oe.elements[Yr?Wn===B?U:B:Wn],dt=function Dc(Oe,Le,Ve,et){var qe="clippingParents"===Le?function Ls(Oe){var Le=Ni(Mt(Oe)),et=["absolute","fixed"].indexOf(Je(Oe).position)>=0&&_e(Oe)?yr(Oe):Oe;return Me(et)?Le.filter(function(qe){return Me(qe)&&it(qe,et)&&"body"!==me(qe)}):[]}(Oe):[].concat(Le),qt=[].concat(qe,[Ve]),Ht=qt.reduce(function(en,Ln){var Bt=ka(Oe,Ln,et);return en.top=Ct(Bt.top,en.top),en.right=Xe(Bt.right,en.right),en.bottom=Xe(Bt.bottom,en.bottom),en.left=Ct(Bt.left,en.left),en},ka(Oe,qt[0],et));return Ht.width=Ht.right-Ht.left,Ht.height=Ht.bottom-Ht.top,Ht.x=Ht.left,Ht.y=Ht.top,Ht}(Me(ur)?ur:ur.contextElement||Pt(Oe.elements.popper),en,Bt,pn),Nr=gn(Oe.elements.reference),vn=Ka({reference:Nr,element:Qr,strategy:"absolute",placement:qe}),kn=Rs(Object.assign({},Qr,vn)),Jr=Wn===B?kn:Nr,Oi={top:dt.top-Jr.top+Ar.top,bottom:Jr.bottom-dt.bottom+Ar.bottom,left:dt.left-Jr.left+Ar.left,right:Jr.right-dt.right+Ar.right},so=Oe.modifiersData.offset;if(Wn===B&&so){var Ri=so[qe];Object.keys(Oi).forEach(function(_r){var ks=[O,L].indexOf(_r)>=0?1:-1,ei=[_,L].indexOf(_r)>=0?"y":"x";Oi[_r]+=Ri[ei]*ks})}return Oi}const $l={name:"flip",enabled:!0,phase:"main",fn:function Sc(Oe){var Le=Oe.state,Ve=Oe.options,et=Oe.name;if(!Le.modifiersData[et]._skip){for(var qe=Ve.mainAxis,qt=void 0===qe||qe,pn=Ve.altAxis,Ht=void 0===pn||pn,en=Ve.fallbackPlacements,Ln=Ve.padding,Bt=Ve.boundary,xr=Ve.rootBoundary,Wn=Ve.altBoundary,Qn=Ve.flipVariations,Yr=void 0===Qn||Qn,_n=Ve.allowedAutoPlacements,on=Le.options.placement,Ar=Ke(on),Qr=en||(Ar!==on&&Yr?function Za(Oe){if(Ke(Oe)===C)return[];var Le=gs(Oe);return[la(Oe),Le,la(Le)]}(on):[gs(on)]),ur=[on].concat(Qr).reduce(function(Ea,ys){return Ea.concat(Ke(ys)===C?function Lf(Oe,Le){void 0===Le&&(Le={});var qe=Le.boundary,qt=Le.rootBoundary,pn=Le.padding,Ht=Le.flipVariations,en=Le.allowedAutoPlacements,Ln=void 0===en?te:en,Bt=Vr(Le.placement),xr=Bt?Ht?X:X.filter(function(Yr){return Vr(Yr)===Bt}):S,Wn=xr.filter(function(Yr){return Ln.indexOf(Yr)>=0});0===Wn.length&&(Wn=xr);var Qn=Wn.reduce(function(Yr,_n){return Yr[_n]=wa(Oe,{placement:_n,boundary:qe,rootBoundary:qt,padding:pn})[Ke(_n)],Yr},{});return Object.keys(Qn).sort(function(Yr,_n){return Qn[Yr]-Qn[_n]})}(Le,{placement:ys,boundary:Bt,rootBoundary:xr,padding:Ln,flipVariations:Yr,allowedAutoPlacements:_n}):ys)},[]),dt=Le.rects.reference,Nr=Le.rects.popper,vn=new Map,kn=!0,Jr=ur[0],Oi=0;Oi<ur.length;Oi++){var so=ur[Oi],Ri=Ke(so),_r=Vr(so)===R,ks=[_,L].indexOf(Ri)>=0,ei=ks?"width":"height",lo=wa(Le,{placement:so,boundary:Bt,rootBoundary:xr,altBoundary:Wn,padding:Ln}),Gi=ks?_r?O:I:_r?L:_;dt[ei]>Nr[ei]&&(Gi=gs(Gi));var Ps=gs(Gi),bi=[];if(qt&&bi.push(lo[Ri]<=0),Ht&&bi.push(lo[Gi]<=0,lo[Ps]<=0),bi.every(function(Ea){return Ea})){Jr=so,kn=!1;break}vn.set(so,bi)}if(kn)for(var Ou=function(ys){var Ki=ur.find(function($n){var Fa=vn.get($n);if(Fa)return Fa.slice(0,ys).every(function(kd){return kd})});if(Ki)return Jr=Ki,"break"},bl=Yr?3:1;bl>0&&"break"!==Ou(bl);bl--);Le.placement!==Jr&&(Le.modifiersData[et]._skip=!0,Le.placement=Jr,Le.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Tu(Oe,Le,Ve){return void 0===Ve&&(Ve={x:0,y:0}),{top:Oe.top-Le.height-Ve.y,right:Oe.right-Le.width+Ve.x,bottom:Oe.bottom-Le.height+Ve.y,left:Oe.left-Le.width-Ve.x}}function qo(Oe){return[_,O,L,I].some(function(Le){return Oe[Le]>=0})}const Iu={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function _c(Oe){var Le=Oe.state,Ve=Oe.name,et=Le.rects.reference,qe=Le.rects.popper,qt=Le.modifiersData.preventOverflow,pn=wa(Le,{elementContext:"reference"}),Ht=wa(Le,{altBoundary:!0}),en=Tu(pn,et),Ln=Tu(Ht,qe,qt),Bt=qo(en),xr=qo(Ln);Le.modifiersData[Ve]={referenceClippingOffsets:en,popperEscapeOffsets:Ln,isReferenceHidden:Bt,hasPopperEscaped:xr},Le.attributes.popper=Object.assign({},Le.attributes.popper,{"data-popper-reference-hidden":Bt,"data-popper-escaped":xr})}},Nu={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function vs(Oe){var Le=Oe.state,et=Oe.name,qe=Oe.options.offset,qt=void 0===qe?[0,0]:qe,pn=te.reduce(function(Bt,xr){return Bt[xr]=function Au(Oe,Le,Ve){var et=Ke(Oe),qe=[I,_].indexOf(et)>=0?-1:1,qt="function"==typeof Ve?Ve(Object.assign({},Le,{placement:Oe})):Ve,pn=qt[0],Ht=qt[1];return pn=pn||0,Ht=(Ht||0)*qe,[I,O].indexOf(et)>=0?{x:Ht,y:pn}:{x:pn,y:Ht}}(xr,Le.rects,qt),Bt},{}),Ht=pn[Le.placement],Ln=Ht.y;null!=Le.modifiersData.popperOffsets&&(Le.modifiersData.popperOffsets.x+=Ht.x,Le.modifiersData.popperOffsets.y+=Ln),Le.modifiersData[et]=pn}},$r={name:"popperOffsets",enabled:!0,phase:"read",fn:function Mc(Oe){var Le=Oe.state;Le.modifiersData[Oe.name]=Ka({reference:Le.rects.reference,element:Le.rects.popper,strategy:"absolute",placement:Le.placement})},data:{}},Xi={name:"preventOverflow",enabled:!0,phase:"main",fn:function br(Oe){var Le=Oe.state,Ve=Oe.options,et=Oe.name,qe=Ve.mainAxis,qt=void 0===qe||qe,pn=Ve.altAxis,Ht=void 0!==pn&&pn,Wn=Ve.tether,Qn=void 0===Wn||Wn,Yr=Ve.tetherOffset,_n=void 0===Yr?0:Yr,on=wa(Le,{boundary:Ve.boundary,rootBoundary:Ve.rootBoundary,padding:Ve.padding,altBoundary:Ve.altBoundary}),Ar=Ke(Le.placement),oi=Vr(Le.placement),Qr=!oi,ur=Tr(Ar),dt=function Ca(Oe){return"x"===Oe?"y":"x"}(ur),Nr=Le.modifiersData.popperOffsets,vn=Le.rects.reference,kn=Le.rects.popper,Jr="function"==typeof _n?_n(Object.assign({},Le.rects,{placement:Le.placement})):_n,Oi="number"==typeof Jr?{mainAxis:Jr,altAxis:Jr}:Object.assign({mainAxis:0,altAxis:0},Jr),so=Le.modifiersData.offset?Le.modifiersData.offset[Le.placement]:null,Ri={x:0,y:0};if(Nr){if(qt){var _r,ks="y"===ur?_:I,ei="y"===ur?L:O,lo="y"===ur?"height":"width",Gi=Nr[ur],Ps=Gi+on[ks],bi=Gi-on[ei],yl=Qn?-kn[lo]/2:0,Ou=oi===R?vn[lo]:kn[lo],bl=oi===R?-kn[lo]:-vn[lo],Ru=Le.elements.arrow,Ea=Qn&&Ru?ln(Ru):{width:0,height:0},ys=Le.modifiersData["arrow#persistent"]?Le.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ki=ys[ks],$n=ys[ei],Fa=pr(0,vn[lo],Ea[lo]),kd=Qr?vn[lo]/2-yl-Fa-Ki-Oi.mainAxis:Ou-Fa-Ki-Oi.mainAxis,Ac=Qr?-vn[lo]/2+yl+Fa+$n+Oi.mainAxis:bl+Fa+$n+Oi.mainAxis,un=Le.elements.arrow&&yr(Le.elements.arrow),Xs=un?"y"===ur?un.clientTop||0:un.clientLeft||0:0,di=null!=(_r=so?.[ur])?_r:0,Lu=Gi+Ac-di,Yl=pr(Qn?Xe(Ps,Gi+kd-di-Xs):Ps,Gi,Qn?Ct(bi,Lu):bi);Nr[ur]=Yl,Ri[ur]=Yl-Gi}if(Ht){var Ks,bs=Nr[dt],wl="y"===dt?"height":"width",ku=bs+on["x"===ur?_:I],An=bs-on["x"===ur?L:O],Ba=-1!==[_,I].indexOf(Ar),Zs=null!=(Ks=so?.[dt])?Ks:0,uo=Ba?ku:bs-vn[wl]-kn[wl]-Zs+Oi.altAxis,qa=Ba?bs+vn[wl]+kn[wl]-Zs-Oi.altAxis:An,Cl=Qn&&Ba?function yn(Oe,Le,Ve){var et=pr(Oe,Le,Ve);return et>Ve?Ve:et}(uo,bs,qa):pr(Qn?uo:ku,bs,Qn?qa:An);Nr[dt]=Cl,Ri[dt]=Cl-bs}Le.modifiersData[et]=Ri}},requiresIfExists:["offset"]};function _i(Oe,Le,Ve){void 0===Ve&&(Ve=!1);var et=_e(Le),qe=_e(Le)&&function Ld(Oe){var Le=Oe.getBoundingClientRect(),Ve=Zt(Le.width)/Oe.offsetWidth||1,et=Zt(Le.height)/Oe.offsetHeight||1;return 1!==Ve||1!==et}(Le),qt=Pt(Le),pn=gn(Oe,qe,Ve),Ht={scrollLeft:0,scrollTop:0},en={x:0,y:0};return(et||!et&&!Ve)&&(("body"!==me(Le)||yi(qt))&&(Ht=function xa(Oe){return Oe!==xe(Oe)&&_e(Oe)?function Si(Oe){return{scrollLeft:Oe.scrollLeft,scrollTop:Oe.scrollTop}}(Oe):ao(Oe)}(Le)),_e(Le)?((en=gn(Le,!0)).x+=Le.clientLeft,en.y+=Le.clientTop):qt&&(en.x=ii(qt))),{x:pn.left+Ht.scrollLeft-en.x,y:pn.top+Ht.scrollTop-en.y,width:pn.width,height:pn.height}}function Cn(Oe){var Le=new Map,Ve=new Set,et=[];function qe(qt){Ve.add(qt.name),[].concat(qt.requires||[],qt.requiresIfExists||[]).forEach(function(Ht){if(!Ve.has(Ht)){var en=Le.get(Ht);en&&qe(en)}}),et.push(qt)}return Oe.forEach(function(qt){Le.set(qt.name,qt)}),Oe.forEach(function(qt){Ve.has(qt.name)||qe(qt)}),et}function Pa(Oe){var Le;return function(){return Le||(Le=new Promise(function(Ve){Promise.resolve().then(function(){Le=void 0,Ve(Oe())})})),Le}}var Ir={placement:"bottom",modifiers:[],strategy:"absolute"};function zi(){for(var Oe=arguments.length,Le=new Array(Oe),Ve=0;Ve<Oe;Ve++)Le[Ve]=arguments[Ve];return!Le.some(function(et){return!(et&&"function"==typeof et.getBoundingClientRect)})}function _o(Oe){void 0===Oe&&(Oe={});var Ve=Oe.defaultModifiers,et=void 0===Ve?[]:Ve,qe=Oe.defaultOptions,qt=void 0===qe?Ir:qe;return function(Ht,en,Ln){void 0===Ln&&(Ln=qt);var Bt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ir,qt),modifiersData:{},elements:{reference:Ht,popper:en},attributes:{},styles:{}},xr=[],Wn=!1,Qn={state:Bt,setOptions:function(Ar){var oi="function"==typeof Ar?Ar(Bt.options):Ar;_n(),Bt.options=Object.assign({},qt,Bt.options,oi),Bt.scrollParents={reference:Me(Ht)?Ni(Ht):Ht.contextElement?Ni(Ht.contextElement):[],popper:Ni(en)};var Qr=function qr(Oe){var Le=Cn(Oe);return ae.reduce(function(Ve,et){return Ve.concat(Le.filter(function(qe){return qe.phase===et}))},[])}(function So(Oe){var Le=Oe.reduce(function(Ve,et){var qe=Ve[et.name];return Ve[et.name]=qe?Object.assign({},qe,et,{options:Object.assign({},qe.options,et.options),data:Object.assign({},qe.data,et.data)}):et,Ve},{});return Object.keys(Le).map(function(Ve){return Le[Ve]})}([].concat(et,Bt.options.modifiers)));return Bt.orderedModifiers=Qr.filter(function(ur){return ur.enabled}),function Yr(){Bt.orderedModifiers.forEach(function(on){var oi=on.options,ur=on.effect;if("function"==typeof ur){var dt=ur({state:Bt,name:on.name,instance:Qn,options:void 0===oi?{}:oi});xr.push(dt||function(){})}})}(),Qn.update()},forceUpdate:function(){if(!Wn){var Ar=Bt.elements,oi=Ar.reference,Qr=Ar.popper;if(zi(oi,Qr)){Bt.rects={reference:_i(oi,yr(Qr),"fixed"===Bt.options.strategy),popper:ln(Qr)},Bt.reset=!1,Bt.placement=Bt.options.placement,Bt.orderedModifiers.forEach(function(Oi){return Bt.modifiersData[Oi.name]=Object.assign({},Oi.data)});for(var ur=0;ur<Bt.orderedModifiers.length;ur++)if(!0!==Bt.reset){var dt=Bt.orderedModifiers[ur],Nr=dt.fn,vn=dt.options;"function"==typeof Nr&&(Bt=Nr({state:Bt,options:void 0===vn?{}:vn,name:dt.name,instance:Qn})||Bt)}else Bt.reset=!1,ur=-1}}},update:Pa(function(){return new Promise(function(on){Qn.forceUpdate(),on(Bt)})}),destroy:function(){_n(),Wn=!0}};if(!zi(Ht,en))return Qn;function _n(){xr.forEach(function(on){return on()}),xr=[]}return Qn.setOptions(Ln).then(function(on){!Wn&&Ln.onFirstUpdate&&Ln.onFirstUpdate(on)}),Qn}}var Tc=_o(),Vn=_o({defaultModifiers:[Ys,$r,ml,lt,Nu,$l,Xi,Ai,Iu]}),ms=_o({defaultModifiers:[Ys,$r,ml,lt]})},5886:function(Y,le,D){var _;Y.exports=(_=D(4465),function(L){var O={};function I(C){if(O[C])return O[C].exports;var S=O[C]={i:C,l:!1,exports:{}};return L[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=L,I.c=O,I.i=function(C){return C},I.d=function(C,S,R){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:R})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=6)}([function(L,O){L.exports=_},function(L,O,I){"use strict";var C=I(0).LGraph;function S(N,V,P){C.call(this,N,V,P),this.inOrder=void 0,this.currentIndex=0,this.nodeSeparation=void 0,this.stack=[],this.perimeter=0,this.centerX=0,this.centerY=0,this.radius=0}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];S.prototype.initOrdering=function(){this.inOrder=[]},S.prototype.getOrder=function(){return this.inOrder},S.prototype.getCenterX=function(){return this.centerX},S.prototype.getCenterY=function(){return this.centerY},S.prototype.getRadius=function(){return this.radius},S.prototype.getSize=function(){return this.getNodes().length},S.prototype.getTotalCrossingOfCircle=function(){var V=0;for(var P in this.inOrder){var B=P.getTotalCrossingOfEdges();if(-1===B)return-1;V+=B}return V/4},S.prototype.hasFinishedOrdering=function(){return this.currentIndex===this.getNodes().length},S.prototype.getNodeSeparation=function(){return this.nodeSeparation},S.prototype.setNodeSeparation=function(N){this.nodeSeparation=N},S.prototype.correctAngles=function(){var N=this;N.currentIndex=0,N.inOrder.forEach(function(V){return N.putInOrder(V)})},S.prototype.putInOrder=function(N){for(var V=this,P=V.getNodes(),B=!1,U=0;U<P.length;U++)if(P[U].id==N.id){B=!0;break}if(!B)throw"The node must be a member of LGraph";V.inOrder[V.currentIndex]=N,N.setIndex(V.currentIndex),N.setAngle(0===V.currentIndex?0:V.inOrder[V.currentIndex-1].getAngle()+2*Math.PI*(N.getDiagonal()/2+V.nodeSeparation+V.inOrder[V.currentIndex-1].getDiagonal()/2)/V.perimeter),V.currentIndex++},S.prototype.findNodeToPlace=function(){var N=this,V=void 0;if(0===N.stack.length)V=N.findUnorderedSmallestDegreeNode();else{for(var P=!1;!P&&0!==N.stack.length;)P=!(V=N.stack.pop()).isOrdered();P||(V=void 0)}if(void 0===V&&(V=N.findUnorderedSmallestDegreeNode()),void 0!==V)for(var B=V.getNeighborsSortedByDegree(),U=B.length-1;U>=0;U--){var X=B[U];X.isOrdered()||N.stack.push(X)}return V},S.prototype.calculateRadius=function(){var N=this,V=0;N.getNodes().forEach(function(B){return V+=Math.sqrt(B.getWidth()*B.getWidth()+B.getHeight()*B.getHeight())}),N.perimeter=V+N.getNodes().length*N.nodeSeparation;var P=N.perimeter/(2*Math.PI);N.getParent().setWidth(2*P),N.getParent().setHeight(2*P),N.getParent().setCenter(N.getParent().getWidth(),N.getParent().getHeight()),N.centerX=N.getParent().getCenterX(),N.centerY=N.getParent().getCenterY(),N.radius=N.getParent().getHeight()/2},S.prototype.calculateEdgeCrossingsOfNodes=function(){this.getNodes().forEach(function(N){return N.calculateTotalCrossing()})},S.prototype.loadOldIndicesOfNodes=function(){for(var V=0;V<this.inOrder.length;V++)this.inOrder[V].setIndex(V)},S.prototype.reOrderVertices=function(){var N=this;this.getNodes().forEach(function(V){return N.inOrder[V.getIndex()]=V})},S.prototype.findUnorderedSmallestDegreeNode=function(){var N=Number.MAX_SAFE_INTEGER,V=void 0;return this.getNodes().forEach(function(P){P.getDegree()<N&&!P.isOrdered()&&(N=P.getDegree(),V=P)}),V},L.exports=S},function(L,O,I){"use strict";var C=I(0).LayoutConstants;function S(){}for(var R in C)S[R]=C[R];S.DEFAULT_NODE_SEPARATION=60,L.exports=S},function(L,O,I){"use strict";var C=I(0).LEdge;function S(N,V,P){C.call(this,N,V,P)}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];S.prototype.getOtherEnd=function(N){return C.prototype.getOtherEnd(N)},S.prototype.crossesWithEdge=function(N){var V=this,P=V.getSource().getIndex(),B=V.getTarget().getIndex(),U=N.getSource().getIndex(),X=N.getTarget().getIndex();if(-1===P||-1===B||-1===U||-1===X)return!1;var te=N.getSource().getCircDistWithTheNode(V.getSource()),fe=N.getTarget().getCircDistWithTheNode(V.getSource()),ie=V.getTarget().getCircDistWithTheNode(V.getSource());return ie<Math.max(te,fe)&&ie>Math.min(te,fe)&&0!==fe&&0!==te},S.prototype.crossingWithEdge=function(N){return this.crossesWithEdge(N)?1:0},S.prototype.calculateTotalCrossingWithList=function(N){var V=this,P=0;return N.forEach(function(B){return P+=V.crossingWithEdge(B)}),P},L.exports=S},function(L,O,I){"use strict";var C=I(0).LNode;function R(V,P,B,U){void 0!==B&&void 0!==U?C.call(this,V,P,B,U):C.call(this,V,P),this.angle=0,this.circleIndex=-1,this.totalCrossingOfEdges=-1,this.isCrossingNumberValid=!1}for(var N in I(0),R.prototype=Object.create(C.prototype),C)R[N]=C[N];R.prototype.getCircle=function(){return this.getOwner()},R.prototype.setIndex=function(V){this.circleIndex=V,this.isCrossingNumberValid=!1},R.prototype.getIndex=function(){return this.circleIndex},R.prototype.getNeighborsSortedByDegree=function(){var P=Array.from(this.getNeighborsList());return(P=P.filter(function(B){return-1===B.getIndex()})).sort(function(B,U){return B.getDegree()-U.getDegree()}),P},R.prototype.getDegree=function(){return this.getEdges().length},R.prototype.isOrdered=function(){return this.getIndex()>-1},R.prototype.setAngle=function(V){this.angle=V},R.prototype.getAngle=function(){return this.angle},R.prototype.getCircDistWithTheNode=function(V){var P=this,B=V.getIndex();if(-1===B||-1===P.getIndex())return-1;var U=P.getIndex()-B;return U<0&&(U+=P.getCircle().getSize()),U},R.prototype.getCrossingNumberWithNode=function(V){var B=0;return this.getEdges().forEach(function(U){V.getEdges().forEach(function(X){B+=U.crossingWithEdge(X)})}),B},R.prototype.getTotalCrossingOfEdges=function(){var V=this;return V.isCrossingNumberValid||(V.calculateTotalCrossing(),V.isCrossingNumberValid=!0),V.totalCrossingOfEdges},R.prototype.calculateTotalCrossing=function(){var V=this,P=0,B=[];B.push.apply(B,V.getCircle().getEdges()),B=B.filter(function(U){return V.getEdges().indexOf(U)<0}),V.getEdges().forEach(function(U){return P+=U.calculateTotalCrossingWithList(B)}),V.totalCrossingOfEdges=P},L.exports=R},function(L,O,I){"use strict";var C=I(0).Layout,S=I(2),R=I(1),N=I(4),V=I(3);function P(){C.call(this),this.nodeSeparation=S.DEFAULT_NODE_SEPARATION}for(var B in P.prototype=Object.create(C.prototype),C)P[B]=C[B];P.prototype.newGraph=function(U){return this.avsdfCircle=new R(null,this.graphManager,U),this.avsdfCircle},P.prototype.newNode=function(U){return new N(this.graphManager,U)},P.prototype.newEdge=function(U){return new V(null,null,U)},P.prototype.getPositionsData=function(){for(var U=this.graphManager.getAllNodes(),X={},te=0;te<U.length;te++){var fe=U[te].rect,ie=U[te].id;X[ie]={id:ie,x:fe.getCenterX(),y:fe.getCenterY(),w:fe.width,h:fe.height}}return X},P.prototype.layout=function(){if(this.graphManager.getGraphs().length>1)return!1;var X=this.avsdfCircle;for(X.setNodeSeparation(this.nodeSeparation),X.calculateRadius(),X.initOrdering();!X.hasFinishedOrdering();){var te=X.findNodeToPlace();X.putInOrder(te)}return!0},P.prototype.updateNodeAngles=function(){this.graphManager.getRoot().correctAngles()},P.prototype.updateNodeCoordinates=function(){var U=this.graphManager.getRoot();U.getNodes().forEach(function(X){X.setCenter(U.getCenterX()+U.getRadius()*Math.cos(X.getAngle()),U.getCenterY()+U.getRadius()*Math.sin(X.getAngle()))})},P.prototype.initPostProcess=function(){this.avsdfCircle.calculateEdgeCrossingsOfNodes();var U=this.avsdfCircle.getNodes();return U.sort(function(X,te){return te.getTotalCrossingOfEdges()-X.getTotalCrossingOfEdges()}),U},P.prototype.oneStepPostProcess=function(U){for(var X=this,te=U.getTotalCrossingOfEdges(),fe=void 0,ie=Array.from(U.getNeighborsList()),ce=0;ce<ie.length;ce++){var ue=ie[ce],ge=U.getIndex(),ne=(ue.getIndex()+1)%X.avsdfCircle.getSize();if(ge!==ne){U.setIndex(ne),ge<U.getIndex()&&(ge+=X.avsdfCircle.getSize());for(var ve=U.getIndex();ve<ge;){var q=X.avsdfCircle.getOrder()[ve%X.avsdfCircle.getSize()];q.setIndex((q.getIndex()+1)%X.avsdfCircle.getSize()),ve+=1}U.calculateTotalCrossing(),(fe=U.getTotalCrossingOfEdges())>=te?X.avsdfCircle.loadOldIndicesOfNodes():(X.avsdfCircle.reOrderVertices(),te=fe)}}},L.exports=P},function(L,O,I){"use strict";var C={};C.layoutBase=I(0),C.AVSDFConstants=I(2),C.AVSDFEdge=I(3),C.AVSDFCircle=I(1),C.AVSDFLayout=I(5),C.AVSDFNode=I(4),L.exports=C}]))},656:function(Y){Y.exports=function(){"use strict";var le=navigator.userAgent,D=navigator.platform,_=/gecko\/\d/i.test(le),L=/MSIE \d/.test(le),O=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(le),I=/Edge\/(\d+)/.exec(le),C=L||O||I,S=C&&(L?document.documentMode||6:+(I||O)[1]),R=!I&&/WebKit\//.test(le),N=R&&/Qt\/\d+\.\d+/.test(le),V=!I&&/Chrome\/(\d+)/.exec(le),P=V&&+V[1],B=/Opera\//.test(le),U=/Apple Computer/.test(navigator.vendor),X=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(le),te=/PhantomJS/.test(le),fe=U&&(/Mobile\/\w+/.test(le)||navigator.maxTouchPoints>2),ie=/Android/.test(le),ce=fe||ie||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(le),ue=fe||/Mac/.test(D),ge=/\bCrOS\b/.test(le),ne=/win/i.test(D),ve=B&&le.match(/Version\/(\d*\.\d*)/);ve&&(ve=Number(ve[1])),ve&&ve>=15&&(B=!1,R=!0);var q=ue&&(N||B&&(null==ve||ve<12.11)),se=_||C&&S>=9;function ae(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var Be,me=function(a,c){var m=a.className,v=ae(c).exec(m);if(v){var b=m.slice(v.index+v[0].length);a.className=m.slice(0,v.index)+(b?v[1]+b:"")}};function xe(a){for(var c=a.childNodes.length;c>0;--c)a.removeChild(a.firstChild);return a}function Me(a,c){return xe(a).appendChild(c)}function _e(a,c,m,v){var b=document.createElement(a);if(m&&(b.className=m),v&&(b.style.cssText=v),"string"==typeof c)b.appendChild(document.createTextNode(c));else if(c)for(var F=0;F<c.length;++F)b.appendChild(c[F]);return b}function Ue(a,c,m,v){var b=_e(a,c,m,v);return b.setAttribute("role","presentation"),b}function nt(a,c){if(3==c.nodeType&&(c=c.parentNode),a.contains)return a.contains(c);do{if(11==c.nodeType&&(c=c.host),c==a)return!0}while(c=c.parentNode)}function lt(a){var c;try{c=a.activeElement}catch{c=a.body||null}for(;c&&c.shadowRoot&&c.shadowRoot.activeElement;)c=c.shadowRoot.activeElement;return c}function Ke(a,c){var m=a.className;ae(c).test(m)||(a.className+=(m?" ":"")+c)}function Ct(a,c){for(var m=a.split(" "),v=0;v<m.length;v++)m[v]&&!ae(m[v]).test(c)&&(c+=" "+m[v]);return c}Be=document.createRange?function(a,c,m,v){var b=document.createRange();return b.setEnd(v||a,m),b.setStart(a,c),b}:function(a,c,m){var v=document.body.createTextRange();try{v.moveToElementText(a.parentNode)}catch{return v}return v.collapse(!0),v.moveEnd("character",m),v.moveStart("character",c),v};var Xe=function(a){a.select()};function Zt(a){return a.display.wrapper.ownerDocument}function Vt(a){return Zt(a).defaultView}function Ft(a){var c=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,c)}}function gn(a,c,m){for(var v in c||(c={}),a)a.hasOwnProperty(v)&&(!1!==m||!c.hasOwnProperty(v))&&(c[v]=a[v]);return c}function ln(a,c,m,v,b){null==c&&-1==(c=a.search(/[^\s\u00a0]/))&&(c=a.length);for(var F=v||0,G=b||0;;){var K=a.indexOf("\t",F);if(K<0||K>=c)return G+(c-F);G+=K-F,G+=m-G%m,F=K+1}}fe?Xe=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:C&&(Xe=function(a){try{a.select()}catch{}});var it=function(){this.id=null,this.f=null,this.time=0,this.handler=Ft(this.onTimeout,this)};function Je(a,c){for(var m=0;m<a.length;++m)if(a[m]==c)return m;return-1}it.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},it.prototype.set=function(a,c){this.f=c;var m=+new Date+a;(!this.id||m<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=m)};var ut=50,Pt={toString:function(){return"CodeMirror.Pass"}},Mt={scroll:!1},zn={origin:"*mouse"},jn={origin:"+move"};function yr(a,c,m){for(var v=0,b=0;;){var F=a.indexOf("\t",v);-1==F&&(F=a.length);var G=F-v;if(F==a.length||b+G>=c)return v+Math.min(G,c-b);if(b+=F-v,v=F+1,(b+=m-b%m)>=c)return v}}var Tr=[""];function pr(a){for(;Tr.length<=a;)Tr.push(yn(Tr)+" ");return Tr[a]}function yn(a){return a[a.length-1]}function On(a,c){for(var m=[],v=0;v<a.length;v++)m[v]=c(a[v],v);return m}function cn(){}function Di(a,c){var m;return Object.create?m=Object.create(a):(cn.prototype=a,m=new cn),c&&gn(c,m),m}var Yi=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Ii(a){return/\w/.test(a)||a>"\x80"&&(a.toUpperCase()!=a.toLowerCase()||Yi.test(a))}function Ai(a,c){return c?!!(c.source.indexOf("\\w")>-1&&Ii(a))||c.test(a):Ii(a)}function Vr(a){for(var c in a)if(a.hasOwnProperty(c)&&a[c])return!1;return!0}var Hi=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Ra(a){return a.charCodeAt(0)>=768&&Hi.test(a)}function ps(a,c,m){for(;(m<0?c>0:c<a.length)&&Ra(a.charAt(c));)c+=m;return c}function Sn(a,c,m){for(var v=c>m?-1:1;;){if(c==m)return c;var b=(c+m)/2,F=v<0?Math.ceil(b):Math.floor(b);if(F==c)return a(F)?c:m;a(F)?m=F:c=F+v}}var Vo=null;function Ho(a,c,m){var v;Vo=null;for(var b=0;b<a.length;++b){var F=a[b];if(F.from<c&&F.to>c)return b;F.to==c&&(F.from!=F.to&&"before"==m?v=b:Vo=b),F.from==c&&(F.from!=F.to&&"before"!=m?v=b:Vo=b)}return v??Vo}var Ys=function(){function m(de){return de<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(de):1424<=de&&de<=1524?"R":1536<=de&&de<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(de-1536):1774<=de&&de<=2220?"r":8192<=de&&de<=8203?"w":8204==de?"b":"L"}var v=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,b=/[stwN]/,F=/[LRr]/,G=/[Lb1n]/,K=/[1n]/;function ee(de,Se,Fe){this.level=de,this.from=Se,this.to=Fe}return function(de,Se){var Fe="ltr"==Se?"L":"R";if(0==de.length||"ltr"==Se&&!v.test(de))return!1;for(var Ye=de.length,We=[],ct=0;ct<Ye;++ct)We.push(m(de.charCodeAt(ct)));for(var bt=0,zt=Fe;bt<Ye;++bt){var Wt=We[bt];"m"==Wt?We[bt]=zt:zt=Wt}for(var Qt=0,Kt=Fe;Qt<Ye;++Qt){var Xt=We[Qt];"1"==Xt&&"r"==Kt?We[Qt]="n":F.test(Xt)&&(Kt=Xt,"r"==Xt&&(We[Qt]="R"))}for(var Tn=1,wn=We[0];Tn<Ye-1;++Tn){var Yn=We[Tn];"+"==Yn&&"1"==wn&&"1"==We[Tn+1]?We[Tn]="1":","==Yn&&wn==We[Tn+1]&&("1"==wn||"n"==wn)&&(We[Tn]=wn),wn=Yn}for(var or=0;or<Ye;++or){var Ci=We[or];if(","==Ci)We[or]="N";else if("%"==Ci){var pi=void 0;for(pi=or+1;pi<Ye&&"%"==We[pi];++pi);for(var Po=or&&"!"==We[or-1]||pi<Ye&&"1"==We[pi]?"1":"N",Bi=or;Bi<pi;++Bi)We[Bi]=Po;or=pi-1}}for(var xi=0,ia=Fe;xi<Ye;++xi){var Fo=We[xi];"L"==ia&&"1"==Fo?We[xi]="L":F.test(Fo)&&(ia=Fo)}for(var bo=0;bo<Ye;++bo)if(b.test(We[bo])){var kr=void 0;for(kr=bo+1;kr<Ye&&b.test(We[kr]);++kr);for(var gi="L"==(bo?We[bo-1]:Fe),gd=gi==("L"==(kr<Ye?We[kr]:Fe))?gi?"L":"R":Fe,sl=bo;sl<kr;++sl)We[sl]=gd;bo=kr-1}for(var Gs,jo=[],wo=0;wo<Ye;)if(G.test(We[wo])){var sh=wo;for(++wo;wo<Ye&&G.test(We[wo]);++wo);jo.push(new ee(0,sh,wo))}else{var ll=wo,fu=jo.length,ul="rtl"==Se?1:0;for(++wo;wo<Ye&&"L"!=We[wo];++wo);for(var Ei=ll;Ei<wo;)if(K.test(We[Ei])){ll<Ei&&(jo.splice(fu,0,new ee(1,ll,Ei)),fu+=ul);var oc=Ei;for(++Ei;Ei<wo&&K.test(We[Ei]);++Ei);jo.splice(fu,0,new ee(2,oc,Ei)),fu+=ul,ll=Ei}else++Ei;ll<wo&&jo.splice(fu,0,new ee(1,ll,wo))}return"ltr"==Se&&(1==jo[0].level&&(Gs=de.match(/^\s+/))&&(jo[0].from=Gs[0].length,jo.unshift(new ee(0,0,Gs[0].length))),1==yn(jo).level&&(Gs=de.match(/\s+$/))&&(yn(jo).to-=Gs[0].length,jo.push(new ee(0,Ye-Gs[0].length,Ye)))),"rtl"==Se?jo.reverse():jo}}();function La(a,c){var m=a.order;return null==m&&(m=a.order=Ys(a.text,c)),m}var gs=[],bn=function(a,c,m){if(a.addEventListener)a.addEventListener(c,m,!1);else if(a.attachEvent)a.attachEvent("on"+c,m);else{var v=a._handlers||(a._handlers={});v[c]=(v[c]||gs).concat(m)}};function la(a,c){return a._handlers&&a._handlers[c]||gs}function ao(a,c,m){if(a.removeEventListener)a.removeEventListener(c,m,!1);else if(a.detachEvent)a.detachEvent("on"+c,m);else{var v=a._handlers,b=v&&v[c];if(b){var F=Je(b,m);F>-1&&(v[c]=b.slice(0,F).concat(b.slice(F+1)))}}}function ii(a,c){var m=la(a,c);if(m.length)for(var v=Array.prototype.slice.call(arguments,2),b=0;b<m.length;++b)m[b].apply(null,v)}function Ui(a,c,m){return"string"==typeof c&&(c={type:c,preventDefault:function(){this.defaultPrevented=!0}}),ii(a,m||c.type,a,c),Ec(c)||c.codemirrorIgnore}function Wl(a){var c=a._handlers&&a._handlers.cursorActivity;if(c)for(var m=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),v=0;v<c.length;++v)-1==Je(m,c[v])&&m.push(c[v])}function yi(a,c){return la(a,c).length>0}function ba(a){a.prototype.on=function(c,m){bn(this,c,m)},a.prototype.off=function(c,m){ao(this,c,m)}}function Ni(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Rs(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Ec(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function ka(a){Ni(a),Rs(a)}function Ls(a){return a.target||a.srcElement}function Dc(a){var c=a.which;return null==c&&(1&a.button?c=1:2&a.button?c=3:4&a.button&&(c=2)),ue&&a.ctrlKey&&1==c&&(c=3),c}var wa,Za,Ka=function(){if(C&&S<9)return!1;var a=_e("div");return"draggable"in a||"dragDrop"in a}();function Lf(a){if(null==wa){var c=_e("span","\u200b");Me(a,_e("span",[c,document.createTextNode("x")])),0!=a.firstChild.offsetHeight&&(wa=c.offsetWidth<=1&&c.offsetHeight>2&&!(C&&S<8))}var m=wa?_e("span","\u200b"):_e("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return m.setAttribute("cm-text",""),m}function Sc(a){if(null!=Za)return Za;var c=Me(a,document.createTextNode("A\u062eA")),m=Be(c,0,1).getBoundingClientRect(),v=Be(c,1,2).getBoundingClientRect();return xe(a),!(!m||m.left==m.right)&&(Za=v.right-m.right<3)}var a,$l=3!="\n\nb".split(/\n/).length?function(a){for(var c=0,m=[],v=a.length;c<=v;){var b=a.indexOf("\n",c);-1==b&&(b=a.length);var F=a.slice(c,"\r"==a.charAt(b-1)?b-1:b),G=F.indexOf("\r");-1!=G?(m.push(F.slice(0,G)),c+=G+1):(m.push(F),c=b+1)}return m}:function(a){return a.split(/\r\n?|\n/)},Tu=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var c;try{c=a.ownerDocument.selection.createRange()}catch{}return!(!c||c.parentElement()!=a)&&0!=c.compareEndPoints("StartToEnd",c)},qo="oncopy"in(a=_e("div"))||(a.setAttribute("oncopy","return;"),"function"==typeof a.oncopy),_c=null;var Au={},vs={};function Nu(a,c){arguments.length>2&&(c.dependencies=Array.prototype.slice.call(arguments,2)),Au[a]=c}function $r(a){if("string"==typeof a&&vs.hasOwnProperty(a))a=vs[a];else if(a&&"string"==typeof a.name&&vs.hasOwnProperty(a.name)){var c=vs[a.name];"string"==typeof c&&(c={name:c}),(a=Di(c,a)).name=c.name}else{if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return $r("application/xml");if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return $r("application/json")}return"string"==typeof a?{name:a}:a||{name:"null"}}function Ca(a,c){c=$r(c);var m=Au[c.name];if(!m)return Ca(a,"text/plain");var v=m(a,c);if(br.hasOwnProperty(c.name)){var b=br[c.name];for(var F in b)b.hasOwnProperty(F)&&(v.hasOwnProperty(F)&&(v["_"+F]=v[F]),v[F]=b[F])}if(v.name=c.name,c.helperType&&(v.helperType=c.helperType),c.modeProps)for(var G in c.modeProps)v[G]=c.modeProps[G];return v}var br={};function Xi(a,c){gn(c,br.hasOwnProperty(a)?br[a]:br[a]={})}function Si(a,c){if(!0===c)return c;if(a.copyState)return a.copyState(c);var m={};for(var v in c){var b=c[v];b instanceof Array&&(b=b.concat([])),m[v]=b}return m}function xa(a,c){for(var m;a.innerMode&&(m=a.innerMode(c))&&m.mode!=a;)c=m.state,a=m.mode;return m||{mode:a,state:c}}function Ld(a,c,m){return!a.startState||a.startState(c,m)}var _i=function(a,c,m){this.pos=this.start=0,this.string=a,this.tabSize=c||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=m};function Cn(a,c){if((c-=a.first)<0||c>=a.size)throw new Error("There is no line "+(c+a.first)+" in the document.");for(var m=a;!m.lines;)for(var v=0;;++v){var b=m.children[v],F=b.chunkSize();if(c<F){m=b;break}c-=F}return m.lines[c]}function qr(a,c,m){var v=[],b=c.line;return a.iter(c.line,m.line+1,function(F){var G=F.text;b==m.line&&(G=G.slice(0,m.ch)),b==c.line&&(G=G.slice(c.ch)),v.push(G),++b}),v}function Pa(a,c,m){var v=[];return a.iter(c,m,function(b){v.push(b.text)}),v}function So(a,c){var m=c-a.height;if(m)for(var v=a;v;v=v.parent)v.height+=m}function Ir(a){if(null==a.parent)return null;for(var c=a.parent,m=Je(c.lines,a),v=c.parent;v;c=v,v=v.parent)for(var b=0;v.children[b]!=c;++b)m+=v.children[b].chunkSize();return m+c.first}function zi(a,c){var m=a.first;e:do{for(var v=0;v<a.children.length;++v){var b=a.children[v],F=b.height;if(c<F){a=b;continue e}c-=F,m+=b.chunkSize()}return m}while(!a.lines);for(var G=0;G<a.lines.length;++G){var ee=a.lines[G].height;if(c<ee)break;c-=ee}return m+G}function _o(a,c){return c>=a.first&&c<a.first+a.size}function Tc(a,c){return String(a.lineNumberFormatter(c+a.firstLineNumber))}function _t(a,c,m){if(void 0===m&&(m=null),!(this instanceof _t))return new _t(a,c,m);this.line=a,this.ch=c,this.sticky=m}function Vn(a,c){return a.line-c.line||a.ch-c.ch}function Ic(a,c){return a.sticky==c.sticky&&0==Vn(a,c)}function ms(a){return _t(a.line,a.ch)}function Oe(a,c){return Vn(a,c)<0?c:a}function Le(a,c){return Vn(a,c)<0?a:c}function Ve(a,c){return Math.max(a.first,Math.min(c,a.first+a.size-1))}function et(a,c){if(c.line<a.first)return _t(a.first,0);var m=a.first+a.size-1;return c.line>m?_t(m,Cn(a,m).text.length):function qe(a,c){var m=a.ch;return null==m||m>c?_t(a.line,c):m<0?_t(a.line,0):a}(c,Cn(a,c.line).text.length)}function qt(a,c){for(var m=[],v=0;v<c.length;v++)m[v]=et(a,c[v]);return m}_i.prototype.eol=function(){return this.pos>=this.string.length},_i.prototype.sol=function(){return this.pos==this.lineStart},_i.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},_i.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},_i.prototype.eat=function(a){var c=this.string.charAt(this.pos);if("string"==typeof a?c==a:c&&(a.test?a.test(c):a(c)))return++this.pos,c},_i.prototype.eatWhile=function(a){for(var c=this.pos;this.eat(a););return this.pos>c},_i.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},_i.prototype.skipToEnd=function(){this.pos=this.string.length},_i.prototype.skipTo=function(a){var c=this.string.indexOf(a,this.pos);if(c>-1)return this.pos=c,!0},_i.prototype.backUp=function(a){this.pos-=a},_i.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ln(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ln(this.string,this.lineStart,this.tabSize):0)},_i.prototype.indentation=function(){return ln(this.string,null,this.tabSize)-(this.lineStart?ln(this.string,this.lineStart,this.tabSize):0)},_i.prototype.match=function(a,c,m){if("string"!=typeof a){var F=this.string.slice(this.pos).match(a);return F&&F.index>0?null:(F&&!1!==c&&(this.pos+=F[0].length),F)}var v=function(G){return m?G.toLowerCase():G};if(v(this.string.substr(this.pos,a.length))==v(a))return!1!==c&&(this.pos+=a.length),!0},_i.prototype.current=function(){return this.string.slice(this.start,this.pos)},_i.prototype.hideFirstChars=function(a,c){this.lineStart+=a;try{return c()}finally{this.lineStart-=a}},_i.prototype.lookAhead=function(a){var c=this.lineOracle;return c&&c.lookAhead(a)},_i.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var pn=function(a,c){this.state=a,this.lookAhead=c},Ht=function(a,c,m,v){this.state=c,this.doc=a,this.line=m,this.maxLookAhead=v||0,this.baseTokens=null,this.baseTokenPos=1};function en(a,c,m,v){var b=[a.state.modeGen],F={};Ar(a,c.text,a.doc.mode,m,function(de,Se){return b.push(de,Se)},F,v);for(var G=m.state,K=function(de){m.baseTokens=b;var Se=a.state.overlays[de],Fe=1,Ye=0;m.state=!0,Ar(a,c.text,Se.mode,m,function(We,ct){for(var bt=Fe;Ye<We;){var zt=b[Fe];zt>We&&b.splice(Fe,1,We,b[Fe+1],zt),Fe+=2,Ye=Math.min(We,zt)}if(ct)if(Se.opaque)b.splice(bt,Fe-bt,We,"overlay "+ct),Fe=bt+2;else for(;bt<Fe;bt+=2){var Wt=b[bt+1];b[bt+1]=(Wt?Wt+" ":"")+"overlay "+ct}},F),m.state=G,m.baseTokens=null,m.baseTokenPos=1},ee=0;ee<a.state.overlays.length;++ee)K(ee);return{styles:b,classes:F.bgClass||F.textClass?F:null}}function Ln(a,c,m){if(!c.styles||c.styles[0]!=a.state.modeGen){var v=Bt(a,Ir(c)),b=c.text.length>a.options.maxHighlightLength&&Si(a.doc.mode,v.state),F=en(a,c,v);b&&(v.state=b),c.stateAfter=v.save(!b),c.styles=F.styles,F.classes?c.styleClasses=F.classes:c.styleClasses&&(c.styleClasses=null),m===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return c.styles}function Bt(a,c,m){var v=a.doc,b=a.display;if(!v.mode.startState)return new Ht(v,!0,c);var F=function oi(a,c,m){for(var v,b,F=a.doc,G=m?-1:c-(a.doc.mode.innerMode?1e3:100),K=c;K>G;--K){if(K<=F.first)return F.first;var ee=Cn(F,K-1),de=ee.stateAfter;if(de&&(!m||K+(de instanceof pn?de.lookAhead:0)<=F.modeFrontier))return K;var Se=ln(ee.text,null,a.options.tabSize);(null==b||v>Se)&&(b=K-1,v=Se)}return b}(a,c,m),G=F>v.first&&Cn(v,F-1).stateAfter,K=G?Ht.fromSaved(v,G,F):new Ht(v,Ld(v.mode),F);return v.iter(F,c,function(ee){xr(a,ee.text,K);var de=K.line;ee.stateAfter=de==c-1||de%5==0||de>=b.viewFrom&&de<b.viewTo?K.save():null,K.nextLine()}),m&&(v.modeFrontier=K.line),K}function xr(a,c,m,v){var b=a.doc.mode,F=new _i(c,a.options.tabSize,m);for(F.start=F.pos=v||0,""==c&&Wn(b,m.state);!F.eol();)Qn(b,F,m.state),F.start=F.pos}function Wn(a,c){if(a.blankLine)return a.blankLine(c);if(a.innerMode){var m=xa(a,c);if(m.mode.blankLine)return m.mode.blankLine(m.state)}}function Qn(a,c,m,v){for(var b=0;b<10;b++){v&&(v[0]=xa(a,m).mode);var F=a.token(c,m);if(c.pos>c.start)return F}throw new Error("Mode "+a.name+" failed to advance stream.")}Ht.prototype.lookAhead=function(a){var c=this.doc.getLine(this.line+a);return null!=c&&a>this.maxLookAhead&&(this.maxLookAhead=a),c},Ht.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var c=this.baseTokens[this.baseTokenPos+1];return{type:c&&c.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Ht.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Ht.fromSaved=function(a,c,m){return c instanceof pn?new Ht(a,Si(a.mode,c.state),m,c.lookAhead):new Ht(a,Si(a.mode,c),m)},Ht.prototype.save=function(a){var c=!1!==a?Si(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new pn(c,this.maxLookAhead):c};var Yr=function(a,c,m){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=c||null,this.state=m};function _n(a,c,m,v){var G,Se,b=a.doc,F=b.mode,K=Cn(b,(c=et(b,c)).line),ee=Bt(a,c.line,m),de=new _i(K.text,a.options.tabSize,ee);for(v&&(Se=[]);(v||de.pos<c.ch)&&!de.eol();)de.start=de.pos,G=Qn(F,de,ee.state),v&&Se.push(new Yr(de,G,Si(b.mode,ee.state)));return v?Se:new Yr(de,G,ee.state)}function on(a,c){if(a)for(;;){var m=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!m)break;a=a.slice(0,m.index)+a.slice(m.index+m[0].length);var v=m[1]?"bgClass":"textClass";null==c[v]?c[v]=m[2]:new RegExp("(?:^|\\s)"+m[2]+"(?:$|\\s)").test(c[v])||(c[v]+=" "+m[2])}return a}function Ar(a,c,m,v,b,F,G){var K=m.flattenSpans;null==K&&(K=a.options.flattenSpans);var Fe,ee=0,de=null,Se=new _i(c,a.options.tabSize,v),Ye=a.options.addModeClass&&[null];for(""==c&&on(Wn(m,v.state),F);!Se.eol();){if(Se.pos>a.options.maxHighlightLength?(K=!1,G&&xr(a,c,v,Se.pos),Se.pos=c.length,Fe=null):Fe=on(Qn(m,Se,v.state,Ye),F),Ye){var We=Ye[0].name;We&&(Fe="m-"+(Fe?We+" "+Fe:We))}if(!K||de!=Fe){for(;ee<Se.start;)b(ee=Math.min(Se.start,ee+5e3),de);de=Fe}Se.start=Se.pos}for(;ee<Se.pos;){var ct=Math.min(Se.pos,ee+5e3);b(ct,de),ee=ct}}var ur=!1,dt=!1;function kn(a,c,m){this.marker=a,this.from=c,this.to=m}function Jr(a,c){if(a)for(var m=0;m<a.length;++m){var v=a[m];if(v.marker==c)return v}}function Oi(a,c){for(var m,v=0;v<a.length;++v)a[v]!=c&&(m||(m=[])).push(a[v]);return m}function ks(a,c){if(c.full)return null;var m=_o(a,c.from.line)&&Cn(a,c.from.line).markedSpans,v=_o(a,c.to.line)&&Cn(a,c.to.line).markedSpans;if(!m&&!v)return null;var b=c.from.ch,F=c.to.ch,G=0==Vn(c.from,c.to),K=function Ri(a,c,m){var v;if(a)for(var b=0;b<a.length;++b){var F=a[b],G=F.marker;null!=F.from&&!(G.inclusiveLeft?F.from<=c:F.from<c)&&(F.from!=c||"bookmark"!=G.type||m&&F.marker.insertLeft)||(v||(v=[])).push(new kn(G,F.from,null==F.to||(G.inclusiveRight?F.to>=c:F.to>c)?null:F.to))}return v}(m,b,G),ee=function _r(a,c,m){var v;if(a)for(var b=0;b<a.length;++b){var F=a[b],G=F.marker;(null==F.to||(G.inclusiveRight?F.to>=c:F.to>c)||F.from==c&&"bookmark"==G.type&&(!m||F.marker.insertLeft))&&(v||(v=[])).push(new kn(G,null==F.from||(G.inclusiveLeft?F.from<=c:F.from<c)?null:F.from-c,null==F.to?null:F.to-c))}return v}(v,F,G),de=1==c.text.length,Se=yn(c.text).length+(de?b:0);if(K)for(var Fe=0;Fe<K.length;++Fe){var Ye=K[Fe];if(null==Ye.to){var We=Jr(ee,Ye.marker);We?de&&(Ye.to=null==We.to?null:We.to+Se):Ye.to=b}}if(ee)for(var ct=0;ct<ee.length;++ct){var bt=ee[ct];null!=bt.to&&(bt.to+=Se),null==bt.from?Jr(K,bt.marker)||(bt.from=Se,de&&(K||(K=[])).push(bt)):(bt.from+=Se,de&&(K||(K=[])).push(bt))}K&&(K=ei(K)),ee&&ee!=K&&(ee=ei(ee));var Wt=[K];if(!de){var Kt,Qt=c.text.length-2;if(Qt>0&&K)for(var Xt=0;Xt<K.length;++Xt)null==K[Xt].to&&(Kt||(Kt=[])).push(new kn(K[Xt].marker,null,null));for(var Tn=0;Tn<Qt;++Tn)Wt.push(Kt);Wt.push(ee)}return Wt}function ei(a){for(var c=0;c<a.length;++c){var m=a[c];null!=m.from&&m.from==m.to&&!1!==m.marker.clearWhenEmpty&&a.splice(c--,1)}return a.length?a:null}function Gi(a){var c=a.markedSpans;if(c){for(var m=0;m<c.length;++m)c[m].marker.detachLine(a);a.markedSpans=null}}function Ps(a,c){if(c){for(var m=0;m<c.length;++m)c[m].marker.attachLine(a);a.markedSpans=c}}function bi(a){return a.inclusiveLeft?-1:0}function yl(a){return a.inclusiveRight?1:0}function Ou(a,c){var m=a.lines.length-c.lines.length;if(0!=m)return m;var v=a.find(),b=c.find(),F=Vn(v.from,b.from)||bi(a)-bi(c);return F?-F:Vn(v.to,b.to)||yl(a)-yl(c)||c.id-a.id}function bl(a,c){var v,m=dt&&a.markedSpans;if(m)for(var b=void 0,F=0;F<m.length;++F)(b=m[F]).marker.collapsed&&null==(c?b.from:b.to)&&(!v||Ou(v,b.marker)<0)&&(v=b.marker);return v}function Ru(a){return bl(a,!0)}function Ea(a){return bl(a,!1)}function ys(a,c){var v,m=dt&&a.markedSpans;if(m)for(var b=0;b<m.length;++b){var F=m[b];F.marker.collapsed&&(null==F.from||F.from<c)&&(null==F.to||F.to>c)&&(!v||Ou(v,F.marker)<0)&&(v=F.marker)}return v}function Ki(a,c,m,v,b){var F=Cn(a,c),G=dt&&F.markedSpans;if(G)for(var K=0;K<G.length;++K){var ee=G[K];if(ee.marker.collapsed){var de=ee.marker.find(0),Se=Vn(de.from,m)||bi(ee.marker)-bi(b),Fe=Vn(de.to,v)||yl(ee.marker)-yl(b);if(!(Se>=0&&Fe<=0||Se<=0&&Fe>=0)&&(Se<=0&&(ee.marker.inclusiveRight&&b.inclusiveLeft?Vn(de.to,m)>=0:Vn(de.to,m)>0)||Se>=0&&(ee.marker.inclusiveRight&&b.inclusiveLeft?Vn(de.from,v)<=0:Vn(de.from,v)<0)))return!0}}}function $n(a){for(var c;c=Ru(a);)a=c.find(-1,!0).line;return a}function Ac(a,c){var m=Cn(a,c),v=$n(m);return m==v?c:Ir(v)}function un(a,c){if(c>a.lastLine())return c;var v,m=Cn(a,c);if(!Xs(a,m))return c;for(;v=Ea(m);)m=v.find(1,!0).line;return Ir(m)+1}function Xs(a,c){var m=dt&&c.markedSpans;if(m)for(var v=void 0,b=0;b<m.length;++b)if((v=m[b]).marker.collapsed){if(null==v.from)return!0;if(!v.marker.widgetNode&&0==v.from&&v.marker.inclusiveLeft&&di(a,c,v))return!0}}function di(a,c,m){if(null==m.to){var v=m.marker.find(1,!0);return di(a,v.line,Jr(v.line.markedSpans,m.marker))}if(m.marker.inclusiveRight&&m.to==c.text.length)return!0;for(var b=void 0,F=0;F<c.markedSpans.length;++F)if((b=c.markedSpans[F]).marker.collapsed&&!b.marker.widgetNode&&b.from==m.to&&(null==b.to||b.to!=m.from)&&(b.marker.inclusiveLeft||m.marker.inclusiveRight)&&di(a,c,b))return!0}function Da(a){for(var c=0,m=(a=$n(a)).parent,v=0;v<m.lines.length;++v){var b=m.lines[v];if(b==a)break;c+=b.height}for(var F=m.parent;F;F=(m=F).parent)for(var G=0;G<F.children.length;++G){var K=F.children[G];if(K==m)break;c+=K.height}return c}function Lu(a){if(0==a.height)return 0;for(var m,c=a.text.length,v=a;m=Ru(v);){var b=m.find(0,!0);v=b.from.line,c+=b.from.ch-b.to.ch}for(v=a;m=Ea(v);){var F=m.find(0,!0);c-=v.text.length-F.from.ch,c+=(v=F.to.line).text.length-F.to.ch}return c}function Yl(a){var c=a.display,m=a.doc;c.maxLine=Cn(m,m.first),c.maxLineLength=Lu(c.maxLine),c.maxLineChanged=!0,m.iter(function(v){var b=Lu(v);b>c.maxLineLength&&(c.maxLineLength=b,c.maxLine=v)})}var Ks=function(a,c,m){this.text=a,Ps(this,c),this.height=m?m(this):1};function Sa(a){a.parent=null,Gi(a)}Ks.prototype.lineNo=function(){return Ir(this)},ba(Ks);var bs={},wl={};function ku(a,c){if(!a||/^\s*$/.test(a))return null;var m=c.addModeClass?wl:bs;return m[a]||(m[a]=a.replace(/\S+/g,"cm-$&"))}function An(a,c){var m=Ue("span",null,null,R?"padding-right: .1px":null),v={pre:Ue("pre",[m],"CodeMirror-line"),content:m,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};c.measure={};for(var b=0;b<=(c.rest?c.rest.length:0);b++){var F=b?c.rest[b-1]:c.line,G=void 0;v.pos=0,v.addToken=Zs,Sc(a.display.measure)&&(G=La(F,a.doc.direction))&&(v.addToken=qa(v.addToken,G)),v.map=[],ai(F,v,Ln(a,F,c!=a.display.externalMeasured&&Ir(F))),F.styleClasses&&(F.styleClasses.bgClass&&(v.bgClass=Ct(F.styleClasses.bgClass,v.bgClass||"")),F.styleClasses.textClass&&(v.textClass=Ct(F.styleClasses.textClass,v.textClass||""))),0==v.map.length&&v.map.push(0,0,v.content.appendChild(Lf(a.display.measure))),0==b?(c.measure.map=v.map,c.measure.cache={}):((c.measure.maps||(c.measure.maps=[])).push(v.map),(c.measure.caches||(c.measure.caches=[])).push({}))}if(R){var ee=v.content.lastChild;(/\bcm-tab\b/.test(ee.className)||ee.querySelector&&ee.querySelector(".cm-tab"))&&(v.content.className="cm-tab-wrap-hack")}return ii(a,"renderLine",a,c.line,v.pre),v.pre.className&&(v.textClass=Ct(v.pre.className,v.textClass||"")),v}function Ba(a){var c=_e("span","\u2022","cm-invalidchar");return c.title="\\u"+a.charCodeAt(0).toString(16),c.setAttribute("aria-label",c.title),c}function Zs(a,c,m,v,b,F,G){if(c){var Se,K=a.splitSpaces?function uo(a,c){if(a.length>1&&!/  /.test(a))return a;for(var m=c,v="",b=0;b<a.length;b++){var F=a.charAt(b);" "==F&&m&&(b==a.length-1||32==a.charCodeAt(b+1))&&(F="\xa0"),v+=F,m=" "==F}return v}(c,a.trailingSpace):c,ee=a.cm.state.specialChars,de=!1;if(ee.test(c)){Se=document.createDocumentFragment();for(var Fe=0;;){ee.lastIndex=Fe;var Ye=ee.exec(c),We=Ye?Ye.index-Fe:c.length-Fe;if(We){var ct=document.createTextNode(K.slice(Fe,Fe+We));Se.appendChild(C&&S<9?_e("span",[ct]):ct),a.map.push(a.pos,a.pos+We,ct),a.col+=We,a.pos+=We}if(!Ye)break;Fe+=We+1;var bt=void 0;if("\t"==Ye[0]){var zt=a.cm.options.tabSize,Wt=zt-a.col%zt;(bt=Se.appendChild(_e("span",pr(Wt),"cm-tab"))).setAttribute("role","presentation"),bt.setAttribute("cm-text","\t"),a.col+=Wt}else"\r"==Ye[0]||"\n"==Ye[0]?((bt=Se.appendChild(_e("span","\r"==Ye[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",Ye[0]),a.col+=1):((bt=a.cm.options.specialCharPlaceholder(Ye[0])).setAttribute("cm-text",Ye[0]),Se.appendChild(C&&S<9?_e("span",[bt]):bt),a.col+=1);a.map.push(a.pos,a.pos+1,bt),a.pos++}}else a.col+=c.length,Se=document.createTextNode(K),a.map.push(a.pos,a.pos+c.length,Se),C&&S<9&&(de=!0),a.pos+=c.length;if(a.trailingSpace=32==K.charCodeAt(c.length-1),m||v||b||de||F||G){var Qt=m||"";v&&(Qt+=v),b&&(Qt+=b);var Kt=_e("span",[Se],Qt,F);if(G)for(var Xt in G)G.hasOwnProperty(Xt)&&"style"!=Xt&&"class"!=Xt&&Kt.setAttribute(Xt,G[Xt]);return a.content.appendChild(Kt)}a.content.appendChild(Se)}}function qa(a,c){return function(m,v,b,F,G,K,ee){b=b?b+" cm-force-border":"cm-force-border";for(var de=m.pos,Se=de+v.length;;){for(var Fe=void 0,Ye=0;Ye<c.length&&!((Fe=c[Ye]).to>de&&Fe.from<=de);Ye++);if(Fe.to>=Se)return a(m,v,b,F,G,K,ee);a(m,v.slice(0,Fe.to-de),b,F,null,K,ee),F=null,v=v.slice(Fe.to-de),de=Fe.to}}}function Cl(a,c,m,v){var b=!v&&m.widgetNode;b&&a.map.push(a.pos,a.pos+c,b),!v&&a.cm.display.input.needsContentAttribute&&(b||(b=a.content.appendChild(document.createElement("span"))),b.setAttribute("cm-marker",m.id)),b&&(a.cm.display.input.setUneditable(b),a.content.appendChild(b)),a.pos+=c,a.trailingSpace=!1}function ai(a,c,m){var v=a.markedSpans,b=a.text,F=0;if(v)for(var Fe,Ye,ct,bt,zt,Wt,Qt,K=b.length,ee=0,de=1,Se="",We=0;;){if(We==ee){ct=bt=zt=Ye="",Qt=null,Wt=null,We=1/0;for(var Kt=[],Xt=void 0,Tn=0;Tn<v.length;++Tn){var wn=v[Tn],Yn=wn.marker;if("bookmark"==Yn.type&&wn.from==ee&&Yn.widgetNode)Kt.push(Yn);else if(wn.from<=ee&&(null==wn.to||wn.to>ee||Yn.collapsed&&wn.to==ee&&wn.from==ee)){if(null!=wn.to&&wn.to!=ee&&We>wn.to&&(We=wn.to,bt=""),Yn.className&&(ct+=" "+Yn.className),Yn.css&&(Ye=(Ye?Ye+";":"")+Yn.css),Yn.startStyle&&wn.from==ee&&(zt+=" "+Yn.startStyle),Yn.endStyle&&wn.to==We&&(Xt||(Xt=[])).push(Yn.endStyle,wn.to),Yn.title&&((Qt||(Qt={})).title=Yn.title),Yn.attributes)for(var or in Yn.attributes)(Qt||(Qt={}))[or]=Yn.attributes[or];Yn.collapsed&&(!Wt||Ou(Wt.marker,Yn)<0)&&(Wt=wn)}else wn.from>ee&&We>wn.from&&(We=wn.from)}if(Xt)for(var Ci=0;Ci<Xt.length;Ci+=2)Xt[Ci+1]==We&&(bt+=" "+Xt[Ci]);if(!Wt||Wt.from==ee)for(var pi=0;pi<Kt.length;++pi)Cl(c,0,Kt[pi]);if(Wt&&(Wt.from||0)==ee){if(Cl(c,(null==Wt.to?K+1:Wt.to)-ee,Wt.marker,null==Wt.from),null==Wt.to)return;Wt.to==ee&&(Wt=!1)}}if(ee>=K)break;for(var Po=Math.min(K,We);;){if(Se){var Bi=ee+Se.length;if(!Wt){var xi=Bi>Po?Se.slice(0,Po-ee):Se;c.addToken(c,xi,Fe?Fe+ct:ct,zt,ee+xi.length==We?bt:"",Ye,Qt)}if(Bi>=Po){Se=Se.slice(Po-ee),ee=Po;break}ee=Bi,zt=""}Se=b.slice(F,F=m[de++]),Fe=ku(m[de++],c.cm.options)}}else for(var G=1;G<m.length;G+=2)c.addToken(c,b.slice(F,F=m[G]),ku(m[G+1],c.cm.options))}function Pd(a,c,m){this.line=c,this.rest=function kd(a){for(var c,m;c=Ea(a);)a=c.find(1,!0).line,(m||(m=[])).push(a);return m}(c),this.size=this.rest?Ir(yn(this.rest))-m+1:1,this.node=this.text=null,this.hidden=Xs(a,c)}function zo(a,c,m){for(var b,v=[],F=c;F<m;F=b){var G=new Pd(a.doc,Cn(a.doc,F),F);b=F+G.size,v.push(G)}return v}var Pu=null;var Bu=null;function co(a,c){var m=la(a,c);if(m.length){var b,v=Array.prototype.slice.call(arguments,2);Pu?b=Pu.delayedCallbacks:Bu?b=Bu:(b=Bu=[],setTimeout(kf,0));for(var F=function(K){b.push(function(){return m[K].apply(null,v)})},G=0;G<m.length;++G)F(G)}}function kf(){var a=Bu;Bu=null;for(var c=0;c<a.length;++c)a[c]()}function Pf(a,c,m,v){for(var b=0;b<c.changes.length;b++){var F=c.changes[b];"text"==F?jh(a,c):"gutter"==F?Ff(a,c,m,v):"class"==F?Yt(a,c):"widget"==F&&tn(a,c,v)}c.changes=null}function Fs(a){return a.node==a.text&&(a.node=_e("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),C&&S<8&&(a.node.style.zIndex=2)),a.node}function _a(a,c){var m=a.display.externalMeasured;return m&&m.line==c.line?(a.display.externalMeasured=null,c.measure=m.measure,m.built):An(a,c)}function jh(a,c){var m=c.text.className,v=_a(a,c);c.text==c.node&&(c.node=v.pre),c.text.parentNode.replaceChild(v.pre,c.text),c.text=v.pre,v.bgClass!=c.bgClass||v.textClass!=c.textClass?(c.bgClass=v.bgClass,c.textClass=v.textClass,Yt(a,c)):m&&(c.text.className=m)}function Yt(a,c){(function Gh(a,c){var m=c.bgClass?c.bgClass+" "+(c.line.bgClass||""):c.line.bgClass;if(m&&(m+=" CodeMirror-linebackground"),c.background)m?c.background.className=m:(c.background.parentNode.removeChild(c.background),c.background=null);else if(m){var v=Fs(c);c.background=v.insertBefore(_e("div",null,m),v.firstChild),a.display.input.setUneditable(c.background)}})(a,c),c.line.wrapClass?Fs(c).className=c.line.wrapClass:c.node!=c.text&&(c.node.className=""),c.text.className=(c.textClass?c.textClass+" "+(c.line.textClass||""):c.line.textClass)||""}function Ff(a,c,m,v){if(c.gutter&&(c.node.removeChild(c.gutter),c.gutter=null),c.gutterBackground&&(c.node.removeChild(c.gutterBackground),c.gutterBackground=null),c.line.gutterClass){var b=Fs(c);c.gutterBackground=_e("div",null,"CodeMirror-gutter-background "+c.line.gutterClass,"left: "+(a.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px; width: "+v.gutterTotalWidth+"px"),a.display.input.setUneditable(c.gutterBackground),b.insertBefore(c.gutterBackground,c.text)}var F=c.line.gutterMarkers;if(a.options.lineNumbers||F){var G=Fs(c),K=c.gutter=_e("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px");if(K.setAttribute("aria-hidden","true"),a.display.input.setUneditable(K),G.insertBefore(K,c.text),c.line.gutterClass&&(K.className+=" "+c.line.gutterClass),a.options.lineNumbers&&(!F||!F["CodeMirror-linenumbers"])&&(c.lineNumber=K.appendChild(_e("div",Tc(a.options,m),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+v.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),F)for(var ee=0;ee<a.display.gutterSpecs.length;++ee){var de=a.display.gutterSpecs[ee].className,Se=F.hasOwnProperty(de)&&F[de];Se&&K.appendChild(_e("div",[Se],"CodeMirror-gutter-elt","left: "+v.gutterLeft[de]+"px; width: "+v.gutterWidth[de]+"px"))}}}function tn(a,c,m){c.alignable&&(c.alignable=null);for(var v=ae("CodeMirror-linewidget"),b=c.node.firstChild,F=void 0;b;b=F)F=b.nextSibling,v.test(b.className)&&c.node.removeChild(b);Bd(a,c,m)}function Fd(a,c,m,v){var b=_a(a,c);return c.text=c.node=b.pre,b.bgClass&&(c.bgClass=b.bgClass),b.textClass&&(c.textClass=b.textClass),Yt(a,c),Ff(a,c,m,v),Bd(a,c,v),c.node}function Bd(a,c,m){if(Vu(a,c.line,c,m,!0),c.rest)for(var v=0;v<c.rest.length;v++)Vu(a,c.rest[v],c,m,!1)}function Vu(a,c,m,v,b){if(c.widgets)for(var F=Fs(m),G=0,K=c.widgets;G<K.length;++G){var ee=K[G],de=_e("div",[ee.node],"CodeMirror-linewidget"+(ee.className?" "+ee.className:""));ee.handleMouseEvents||de.setAttribute("cm-ignore-events","true"),vg(ee,de,m,v),a.display.input.setUneditable(de),b&&ee.above?F.insertBefore(de,m.gutter||m.text):F.appendChild(de),co(ee,"redraw")}}function vg(a,c,m,v){if(a.noHScroll){(m.alignable||(m.alignable=[])).push(c);var b=v.wrapperWidth;c.style.left=v.fixedPos+"px",a.coverGutter||(b-=v.gutterTotalWidth,c.style.paddingLeft=v.gutterTotalWidth+"px"),c.style.width=b+"px"}a.coverGutter&&(c.style.zIndex=5,c.style.position="relative",a.noHScroll||(c.style.marginLeft=-v.gutterTotalWidth+"px"))}function Hu(a){if(null!=a.height)return a.height;var c=a.doc.cm;if(!c)return 0;if(!nt(document.body,a.node)){var m="position: relative;";a.coverGutter&&(m+="margin-left: -"+c.display.gutters.offsetWidth+"px;"),a.noHScroll&&(m+="width: "+c.display.wrapper.clientWidth+"px;"),Me(c.display.measure,_e("div",[a.node],null,m))}return a.height=a.node.parentNode.offsetHeight}function qs(a,c){for(var m=Ls(c);m!=a.wrapper;m=m.parentNode)if(!m||1==m.nodeType&&"true"==m.getAttribute("cm-ignore-events")||m.parentNode==a.sizer&&m!=a.mover)return!0}function Qa(a){return a.lineSpace.offsetTop}function Ja(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function Ma(a){if(a.cachedPaddingH)return a.cachedPaddingH;var c=Me(a.measure,_e("pre","x","CodeMirror-line-like")),m=window.getComputedStyle?window.getComputedStyle(c):c.currentStyle,v={left:parseInt(m.paddingLeft),right:parseInt(m.paddingRight)};return!isNaN(v.left)&&!isNaN(v.right)&&(a.cachedPaddingH=v),v}function fo(a){return ut-a.display.nativeBarWidth}function gr(a){return a.display.scroller.clientWidth-fo(a)-a.display.barWidth}function Uu(a){return a.display.scroller.clientHeight-fo(a)-a.display.barHeight}function Hd(a,c,m){if(a.line==c)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var v=0;v<a.rest.length;v++)if(a.rest[v]==c)return{map:a.measure.maps[v],cache:a.measure.caches[v]};for(var b=0;b<a.rest.length;b++)if(Ir(a.rest[b])>m)return{map:a.measure.maps[b],cache:a.measure.caches[b],before:!0}}}function ws(a,c,m,v){return Cs(a,El(a,c),m,v)}function xl(a,c){if(c>=a.display.viewFrom&&c<a.display.viewTo)return a.display.view[Zi(a,c)];var m=a.display.externalMeasured;return m&&c>=m.lineN&&c<m.lineN+m.size?m:void 0}function El(a,c){var m=Ir(c),v=xl(a,m);v&&!v.text?v=null:v&&v.changes&&(Pf(a,v,m,Wd(a)),a.curOp.forceUpdate=!0),v||(v=function Wh(a,c){var m=Ir(c=$n(c)),v=a.display.externalMeasured=new Pd(a.doc,c,m);v.lineN=m;var b=v.built=An(a,v);return v.text=b.pre,Me(a.display.lineMeasure,b.pre),v}(a,c));var b=Hd(v,c,m);return{line:c,view:v,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function Cs(a,c,m,v,b){c.before&&(m=-1);var G,F=m+(v||"");return c.cache.hasOwnProperty(F)?G=c.cache[F]:(c.rect||(c.rect=c.view.text.getBoundingClientRect()),c.hasHeights||(function Vd(a,c,m){var v=a.options.lineWrapping,b=v&&gr(a);if(!c.measure.heights||v&&c.measure.width!=b){var F=c.measure.heights=[];if(v){c.measure.width=b;for(var G=c.text.firstChild.getClientRects(),K=0;K<G.length-1;K++){var ee=G[K],de=G[K+1];Math.abs(ee.bottom-de.bottom)>2&&F.push((ee.bottom+de.top)/2-m.top)}}F.push(m.bottom-m.top)}}(a,c.view,c.rect),c.hasHeights=!0),(G=function Dl(a,c,m,v){var de,b=Zl(c.map,m,v),F=b.node,G=b.start,K=b.end,ee=b.collapse;if(3==F.nodeType){for(var Se=0;Se<4;Se++){for(;G&&Ra(c.line.text.charAt(b.coverStart+G));)--G;for(;b.coverStart+K<b.coverEnd&&Ra(c.line.text.charAt(b.coverStart+K));)++K;if((de=C&&S<9&&0==G&&K==b.coverEnd-b.coverStart?F.parentNode.getBoundingClientRect():ql(Be(F,G,K).getClientRects(),v)).left||de.right||0==G)break;K=G,G-=1,ee="right"}C&&S<11&&(de=function $h(a,c){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function Iu(a){if(null!=_c)return _c;var c=Me(a,_e("span","x")),m=c.getBoundingClientRect(),v=Be(c,0,1).getBoundingClientRect();return _c=Math.abs(m.left-v.left)>1}(a))return c;var m=screen.logicalXDPI/screen.deviceXDPI,v=screen.logicalYDPI/screen.deviceYDPI;return{left:c.left*m,right:c.right*m,top:c.top*v,bottom:c.bottom*v}}(a.display.measure,de))}else{var Fe;G>0&&(ee=v="right"),de=a.options.lineWrapping&&(Fe=F.getClientRects()).length>1?Fe["right"==v?Fe.length-1:0]:F.getBoundingClientRect()}if(C&&S<9&&!G&&(!de||!de.left&&!de.right)){var Ye=F.parentNode.getClientRects()[0];de=Ye?{left:Ye.left,right:Ye.left+Qs(a.display),top:Ye.top,bottom:Ye.bottom}:Ud}for(var We=de.top-c.rect.top,ct=de.bottom-c.rect.top,bt=(We+ct)/2,zt=c.view.measure.heights,Wt=0;Wt<zt.length-1&&!(bt<zt[Wt]);Wt++);var Xt={left:("right"==ee?de.right:de.left)-c.rect.left,right:("left"==ee?de.left:de.right)-c.rect.left,top:Wt?zt[Wt-1]:0,bottom:zt[Wt]};return!de.left&&!de.right&&(Xt.bogus=!0),a.options.singleCursorHeightPerLine||(Xt.rtop=We,Xt.rbottom=ct),Xt}(a,c,m,v)).bogus||(c.cache[F]=G)),{left:G.left,right:G.right,top:b?G.rtop:G.top,bottom:b?G.rbottom:G.bottom}}var Ql,Ud={left:0,right:0,top:0,bottom:0};function Zl(a,c,m){for(var v,b,F,G,K,ee,de=0;de<a.length;de+=3)if(ee=a[de+1],c<(K=a[de])?(b=0,F=1,G="left"):c<ee?F=1+(b=c-K):(de==a.length-3||c==ee&&a[de+3]>c)&&(b=(F=ee-K)-1,c>=ee&&(G="right")),null!=b){if(v=a[de+2],K==ee&&m==(v.insertLeft?"left":"right")&&(G=m),"left"==m&&0==b)for(;de&&a[de-2]==a[de-3]&&a[de-1].insertLeft;)v=a[2+(de-=3)],G="left";if("right"==m&&b==ee-K)for(;de<a.length-3&&a[de+3]==a[de+4]&&!a[de+5].insertLeft;)v=a[(de+=3)+2],G="right";break}return{node:v,start:b,end:F,collapse:G,coverStart:K,coverEnd:ee}}function ql(a,c){var m=Ud;if("left"==c)for(var v=0;v<a.length&&(m=a[v]).left==m.right;v++);else for(var b=a.length-1;b>=0&&(m=a[b]).left==m.right;b--);return m}function Nc(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var c=0;c<a.rest.length;c++)a.measure.caches[c]={}}function Oc(a){a.display.externalMeasure=null,xe(a.display.lineMeasure);for(var c=0;c<a.display.view.length;c++)Nc(a.display.view[c])}function Sl(a){Oc(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function Bf(a){return V&&ie?-(a.body.getBoundingClientRect().left-parseInt(getComputedStyle(a.body).marginLeft)):a.defaultView.pageXOffset||(a.documentElement||a.body).scrollLeft}function Vf(a){return V&&ie?-(a.body.getBoundingClientRect().top-parseInt(getComputedStyle(a.body).marginTop)):a.defaultView.pageYOffset||(a.documentElement||a.body).scrollTop}function Va(a){var m=$n(a).widgets,v=0;if(m)for(var b=0;b<m.length;++b)m[b].above&&(v+=Hu(m[b]));return v}function zd(a,c,m,v,b){if(!b){var F=Va(c);m.top+=F,m.bottom+=F}if("line"==v)return m;v||(v="local");var G=Da(c);if("local"==v?G+=Qa(a.display):G-=a.display.viewOffset,"page"==v||"window"==v){var K=a.display.lineSpace.getBoundingClientRect();G+=K.top+("window"==v?0:Vf(Zt(a)));var ee=K.left+("window"==v?0:Bf(Zt(a)));m.left+=ee,m.right+=ee}return m.top+=G,m.bottom+=G,m}function Hf(a,c,m){if("div"==m)return c;var v=c.left,b=c.top;if("page"==m)v-=Bf(Zt(a)),b-=Vf(Zt(a));else if("local"==m||!m){var F=a.display.sizer.getBoundingClientRect();v+=F.left,b+=F.top}var G=a.display.lineSpace.getBoundingClientRect();return{left:v-G.left,top:b-G.top}}function Rc(a,c,m,v,b){return v||(v=Cn(a.doc,c.line)),zd(a,v,ws(a,v,c.ch,b),m)}function es(a,c,m,v,b,F){function G(ct,bt){var zt=Cs(a,b,ct,bt?"right":"left",F);return bt?zt.left=zt.right:zt.right=zt.left,zd(a,v,zt,m)}v=v||Cn(a.doc,c.line),b||(b=El(a,v));var K=La(v,a.doc.direction),ee=c.ch,de=c.sticky;if(ee>=v.text.length?(ee=v.text.length,de="before"):ee<=0&&(ee=0,de="after"),!K)return G("before"==de?ee-1:ee,"before"==de);function Se(ct,bt,zt){return G(zt?ct-1:ct,1==K[bt].level!=zt)}var Fe=Ho(K,ee,de),Ye=Vo,We=Se(ee,Fe,"before"==de);return null!=Ye&&(We.other=Se(ee,Ye,"before"!=de)),We}function Yh(a,c){var m=0;c=et(a.doc,c),a.options.lineWrapping||(m=Qs(a.display)*c.ch);var v=Cn(a.doc,c.line),b=Da(v)+Qa(a.display);return{left:m,right:m,top:b,bottom:b+v.height}}function Uf(a,c,m,v,b){var F=_t(a,c,m);return F.xRel=b,v&&(F.outside=v),F}function Gd(a,c,m){var v=a.doc;if((m+=a.display.viewOffset)<0)return Uf(v.first,0,null,-1,-1);var b=zi(v,m),F=v.first+v.size-1;if(b>F)return Uf(v.first+v.size-1,Cn(v,F).text.length,null,1,1);c<0&&(c=0);for(var G=Cn(v,b);;){var K=ti(a,G,b,c,m),ee=ys(G,K.ch+(K.xRel>0||K.outside>0?1:0));if(!ee)return K;var de=ee.find(1);if(de.line==b)return de;G=Cn(v,b=de.line)}}function Xh(a,c,m,v){v-=Va(c);var b=c.text.length,F=Sn(function(G){return Cs(a,m,G-1).bottom<=v},b,0);return{begin:F,end:b=Sn(function(G){return Cs(a,m,G).top>v},F,b)}}function Kh(a,c,m,v){return m||(m=El(a,c)),Xh(a,c,m,zd(a,c,Cs(a,m,v),"line").top)}function jd(a,c,m,v){return!(a.bottom<=m)&&(a.top>m||(v?a.left:a.right)>c)}function ti(a,c,m,v,b){b-=Da(c);var F=El(a,c),G=Va(c),K=0,ee=c.text.length,de=!0,Se=La(c,a.doc.direction);if(Se){var Fe=(a.options.lineWrapping?yg:mg)(a,c,m,F,Se,v,b);K=(de=1!=Fe.level)?Fe.from:Fe.to-1,ee=de?Fe.to:Fe.from-1}var bt,zt,Ye=null,We=null,ct=Sn(function(Tn){var wn=Cs(a,F,Tn);return wn.top+=G,wn.bottom+=G,!!jd(wn,v,b,!1)&&(wn.top<=b&&wn.left<=v&&(Ye=Tn,We=wn),!0)},K,ee),Wt=!1;if(We){var Qt=v-We.left<We.right-v,Kt=Qt==de;ct=Ye+(Kt?0:1),zt=Kt?"after":"before",bt=Qt?We.left:We.right}else{!de&&(ct==ee||ct==K)&&ct++,zt=0==ct?"after":ct==c.text.length?"before":Cs(a,F,ct-(de?1:0)).bottom+G<=b==de?"after":"before";var Xt=es(a,_t(m,ct,zt),"line",c,F);bt=Xt.left,Wt=b<Xt.top?-1:b>=Xt.bottom?1:0}return Uf(m,ct=ps(c.text,ct,1),zt,Wt,v-bt)}function mg(a,c,m,v,b,F,G){var K=Sn(function(Fe){var Ye=b[Fe],We=1!=Ye.level;return jd(es(a,_t(m,We?Ye.to:Ye.from,We?"before":"after"),"line",c,v),F,G,!0)},0,b.length-1),ee=b[K];if(K>0){var de=1!=ee.level,Se=es(a,_t(m,de?ee.from:ee.to,de?"after":"before"),"line",c,v);jd(Se,F,G,!0)&&Se.top>G&&(ee=b[K-1])}return ee}function yg(a,c,m,v,b,F,G){var K=Xh(a,c,v,G),ee=K.begin,de=K.end;/\s/.test(c.text.charAt(de-1))&&de--;for(var Se=null,Fe=null,Ye=0;Ye<b.length;Ye++){var We=b[Ye];if(!(We.from>=de||We.to<=ee)){var bt=Cs(a,v,1!=We.level?Math.min(de,We.to)-1:Math.max(ee,We.from)).right,zt=bt<F?F-bt+1e9:bt-F;(!Se||Fe>zt)&&(Se=We,Fe=zt)}}return Se||(Se=b[b.length-1]),Se.from<ee&&(Se={from:ee,to:Se.to,level:Se.level}),Se.to>de&&(Se={from:Se.from,to:de,level:Se.level}),Se}function fi(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==Ql){Ql=_e("pre",null,"CodeMirror-line-like");for(var c=0;c<49;++c)Ql.appendChild(document.createTextNode("x")),Ql.appendChild(_e("br"));Ql.appendChild(document.createTextNode("x"))}Me(a.measure,Ql);var m=Ql.offsetHeight/50;return m>3&&(a.cachedTextHeight=m),xe(a.measure),m||1}function Qs(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var c=_e("span","xxxxxxxxxx"),m=_e("pre",[c],"CodeMirror-line-like");Me(a.measure,m);var v=c.getBoundingClientRect(),b=(v.right-v.left)/10;return b>2&&(a.cachedCharWidth=b),b||10}function Wd(a){for(var c=a.display,m={},v={},b=c.gutters.clientLeft,F=c.gutters.firstChild,G=0;F;F=F.nextSibling,++G){var K=a.display.gutterSpecs[G].className;m[K]=F.offsetLeft+F.clientLeft+b,v[K]=F.clientWidth}return{fixedPos:xn(c),gutterTotalWidth:c.gutters.offsetWidth,gutterLeft:m,gutterWidth:v,wrapperWidth:c.wrapper.clientWidth}}function xn(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function Qo(a){var c=fi(a.display),m=a.options.lineWrapping,v=m&&Math.max(5,a.display.scroller.clientWidth/Qs(a.display)-3);return function(b){if(Xs(a.doc,b))return 0;var F=0;if(b.widgets)for(var G=0;G<b.widgets.length;G++)b.widgets[G].height&&(F+=b.widgets[G].height);return m?F+(Math.ceil(b.text.length/v)||1)*c:F+c}}function Or(a){var c=a.doc,m=Qo(a);c.iter(function(v){var b=m(v);b!=v.height&&So(v,b)})}function Li(a,c,m,v){var b=a.display;if(!m&&"true"==Ls(c).getAttribute("cm-not-content"))return null;var F,G,K=b.lineSpace.getBoundingClientRect();try{F=c.clientX-K.left,G=c.clientY-K.top}catch{return null}var de,ee=Gd(a,F,G);if(v&&ee.xRel>0&&(de=Cn(a.doc,ee.line).text).length==ee.ch){var Se=ln(de,de.length,a.options.tabSize)-de.length;ee=_t(ee.line,Math.max(0,Math.round((F-Ma(a.display).left)/Qs(a.display))-Se))}return ee}function Zi(a,c){if(c>=a.display.viewTo||(c-=a.display.viewFrom)<0)return null;for(var m=a.display.view,v=0;v<m.length;v++)if((c-=m[v].size)<0)return v}function qi(a,c,m,v){null==c&&(c=a.doc.first),null==m&&(m=a.doc.first+a.doc.size),v||(v=0);var b=a.display;if(v&&m<b.viewTo&&(null==b.updateLineNumbers||b.updateLineNumbers>c)&&(b.updateLineNumbers=c),a.curOp.viewChanged=!0,c>=b.viewTo)dt&&Ac(a.doc,c)<b.viewTo&&Js(a);else if(m<=b.viewFrom)dt&&un(a.doc,m+v)>b.viewFrom?Js(a):(b.viewFrom+=v,b.viewTo+=v);else if(c<=b.viewFrom&&m>=b.viewTo)Js(a);else if(c<=b.viewFrom){var F=zu(a,m,m+v,1);F?(b.view=b.view.slice(F.index),b.viewFrom=F.lineN,b.viewTo+=v):Js(a)}else if(m>=b.viewTo){var G=zu(a,c,c,-1);G?(b.view=b.view.slice(0,G.index),b.viewTo=G.lineN):Js(a)}else{var K=zu(a,c,c,-1),ee=zu(a,m,m+v,1);K&&ee?(b.view=b.view.slice(0,K.index).concat(zo(a,K.lineN,ee.lineN)).concat(b.view.slice(ee.index)),b.viewTo+=v):Js(a)}var de=b.externalMeasured;de&&(m<de.lineN?de.lineN+=v:c<de.lineN+de.size&&(b.externalMeasured=null))}function Qi(a,c,m){a.curOp.viewChanged=!0;var v=a.display,b=a.display.externalMeasured;if(b&&c>=b.lineN&&c<b.lineN+b.size&&(v.externalMeasured=null),!(c<v.viewFrom||c>=v.viewTo)){var F=v.view[Zi(a,c)];if(null!=F.node){var G=F.changes||(F.changes=[]);-1==Je(G,m)&&G.push(m)}}}function Js(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function zu(a,c,m,v){var F,b=Zi(a,c),G=a.display.view;if(!dt||m==a.doc.first+a.doc.size)return{index:b,lineN:m};for(var K=a.display.viewFrom,ee=0;ee<b;ee++)K+=G[ee].size;if(K!=c){if(v>0){if(b==G.length-1)return null;F=K+G[b].size-c,b++}else F=K-c;c+=F,m+=F}for(;Ac(a.doc,m)!=m;){if(b==(v<0?0:G.length-1))return null;m+=v*G[b-(v<0?1:0)].size,b+=v}return{index:b,lineN:m}}function zf(a){for(var c=a.display.view,m=0,v=0;v<c.length;v++){var b=c[v];!b.hidden&&(!b.node||b.changes)&&++m}return m}function Lc(a){a.display.input.showSelection(a.display.input.prepareSelection())}function Ji(a,c){void 0===c&&(c=!0);var m=a.doc,v={},b=v.cursors=document.createDocumentFragment(),F=v.selection=document.createDocumentFragment(),G=a.options.$customCursor;G&&(c=!0);for(var K=0;K<m.sel.ranges.length;K++)if(c||K!=m.sel.primIndex){var ee=m.sel.ranges[K];if(!(ee.from().line>=a.display.viewTo||ee.to().line<a.display.viewFrom)){var de=ee.empty();if(G){var Se=G(a,ee);Se&&dn(a,Se,b)}else(de||a.options.showCursorWhenSelecting)&&dn(a,ee.head,b);de||Mi(a,ee,F)}}return v}function dn(a,c,m){var v=es(a,c,"div",null,null,!a.options.singleCursorHeightPerLine),b=m.appendChild(_e("div","\xa0","CodeMirror-cursor"));if(b.style.left=v.left+"px",b.style.top=v.top+"px",b.style.height=Math.max(0,v.bottom-v.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var F=Rc(a,c,"div",null,null),G=F.right-F.left;b.style.width=(G>0?G:a.defaultCharWidth())+"px"}if(v.other){var K=m.appendChild(_e("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));K.style.display="",K.style.left=v.other.left+"px",K.style.top=v.other.top+"px",K.style.height=.85*(v.other.bottom-v.other.top)+"px"}}function Pn(a,c){return a.top-c.top||a.left-c.left}function Mi(a,c,m){var v=a.display,b=a.doc,F=document.createDocumentFragment(),G=Ma(a.display),K=G.left,ee=Math.max(v.sizerWidth,gr(a)-v.sizer.offsetLeft)-G.right,de="ltr"==b.direction;function Se(Kt,Xt,Tn,wn){Xt<0&&(Xt=0),Xt=Math.round(Xt),wn=Math.round(wn),F.appendChild(_e("div",null,"CodeMirror-selected","position: absolute; left: "+Kt+"px;\n                             top: "+Xt+"px; width: "+(Tn??ee-Kt)+"px;\n                             height: "+(wn-Xt)+"px"))}function Fe(Kt,Xt,Tn){var or,Ci,wn=Cn(b,Kt),Yn=wn.text.length;function pi(xi,ia){return Rc(a,_t(Kt,xi),"div",wn,ia)}function Po(xi,ia,Fo){var bo=Kh(a,wn,null,xi),kr="ltr"==ia==("after"==Fo)?"left":"right";return pi("after"==Fo?bo.begin:bo.end-(/\s/.test(wn.text.charAt(bo.end-1))?2:1),kr)[kr]}var Bi=La(wn,b.direction);return function ml(a,c,m,v){if(!a)return v(c,m,"ltr",0);for(var b=!1,F=0;F<a.length;++F){var G=a[F];(G.from<m&&G.to>c||c==m&&G.to==c)&&(v(Math.max(G.from,c),Math.min(G.to,m),1==G.level?"rtl":"ltr",F),b=!0)}b||v(c,m,"ltr")}(Bi,Xt||0,Tn??Yn,function(xi,ia,Fo,bo){var kr="ltr"==Fo,gi=pi(xi,kr?"left":"right"),ro=pi(ia-1,kr?"right":"left"),gd=null==Xt&&0==xi,sl=null==Tn&&ia==Yn,jo=0==bo,Gs=!Bi||bo==Bi.length-1;if(ro.top-gi.top<=3){var ll=(de?gd:sl)&&jo?K:(kr?gi:ro).left;Se(ll,gi.top,((de?sl:gd)&&Gs?ee:(kr?ro:gi).right)-ll,gi.bottom)}else{var ul,Ei,oc,$a;kr?(ul=de&&gd&&jo?K:gi.left,Ei=de?ee:Po(xi,Fo,"before"),oc=de?K:Po(ia,Fo,"after"),$a=de&&sl&&Gs?ee:ro.right):(ul=de?Po(xi,Fo,"before"):K,Ei=!de&&gd&&jo?ee:gi.right,oc=!de&&sl&&Gs?K:ro.left,$a=de?Po(ia,Fo,"after"):ee),Se(ul,gi.top,Ei-ul,gi.bottom),gi.bottom<ro.top&&Se(K,gi.bottom,null,ro.top),Se(oc,ro.top,$a-oc,ro.bottom)}(!or||Pn(gi,or)<0)&&(or=gi),Pn(ro,or)<0&&(or=ro),(!Ci||Pn(gi,Ci)<0)&&(Ci=gi),Pn(ro,Ci)<0&&(Ci=ro)}),{start:or,end:Ci}}var Ye=c.from(),We=c.to();if(Ye.line==We.line)Fe(Ye.line,Ye.ch,We.ch);else{var ct=Cn(b,Ye.line),bt=Cn(b,We.line),zt=$n(ct)==$n(bt),Wt=Fe(Ye.line,Ye.ch,zt?ct.text.length+1:null).end,Qt=Fe(We.line,zt?0:null,We.ch).start;zt&&(Wt.top<Qt.top-2?(Se(Wt.right,Wt.top,null,Wt.bottom),Se(K,Qt.top,Qt.left,Qt.bottom)):Se(Wt.right,Wt.top,Qt.left-Wt.right,Wt.bottom)),Wt.bottom<Qt.top&&Se(K,Wt.bottom,null,Qt.top)}m.appendChild(F)}function Jo(a){if(a.state.focused){var c=a.display;clearInterval(c.blinker);var m=!0;c.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?c.blinker=setInterval(function(){a.hasFocus()||si(a),c.cursorDiv.style.visibility=(m=!m)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(c.cursorDiv.style.visibility="hidden")}}function Gu(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||el(a))}function ho(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&si(a))},100)}function el(a,c){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),"nocursor"!=a.options.readOnly&&(a.state.focused||(ii(a,"focus",a,c),a.state.focused=!0,Ke(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),R&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Jo(a))}function si(a,c){a.state.delayingBlurEvent||(a.state.focused&&(ii(a,"blur",a,c),a.state.focused=!1,me(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function Bs(a){for(var c=a.display,m=c.lineDiv.offsetTop,v=Math.max(0,c.scroller.getBoundingClientRect().top),b=c.lineDiv.getBoundingClientRect().top,F=0,G=0;G<c.view.length;G++){var K=c.view[G],ee=a.options.lineWrapping,de=void 0,Se=0;if(!K.hidden){if(b+=K.line.height,C&&S<8){var Fe=K.node.offsetTop+K.node.offsetHeight;de=Fe-m,m=Fe}else{var Ye=K.node.getBoundingClientRect();de=Ye.bottom-Ye.top,!ee&&K.text.firstChild&&(Se=K.text.firstChild.getBoundingClientRect().right-Ye.left-1)}var We=K.line.height-de;if((We>.005||We<-.005)&&(b<v&&(F-=We),So(K.line,de),ea(K.line),K.rest))for(var ct=0;ct<K.rest.length;ct++)ea(K.rest[ct]);if(Se>a.display.sizerWidth){var bt=Math.ceil(Se/Qs(a.display));bt>a.display.maxLineLength&&(a.display.maxLineLength=bt,a.display.maxLine=K.line,a.display.maxLineChanged=!0)}}}Math.abs(F)>2&&(c.scroller.scrollTop+=F)}function ea(a){if(a.widgets)for(var c=0;c<a.widgets.length;++c){var m=a.widgets[c],v=m.node.parentNode;v&&(m.height=v.offsetHeight)}}function Gn(a,c,m){var v=m&&null!=m.top?Math.max(0,m.top):a.scroller.scrollTop;v=Math.floor(v-Qa(a));var b=m&&null!=m.bottom?m.bottom:v+a.wrapper.clientHeight,F=zi(c,v),G=zi(c,b);if(m&&m.ensure){var K=m.ensure.from.line,ee=m.ensure.to.line;K<F?(F=K,G=zi(c,Da(Cn(c,K))+a.wrapper.clientHeight)):Math.min(ee,c.lastLine())>=G&&(F=zi(c,Da(Cn(c,ee))-a.wrapper.clientHeight),G=ee)}return{from:F,to:Math.max(G,F+1)}}function ki(a,c){var m=a.display,v=fi(a.display);c.top<0&&(c.top=0);var b=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:m.scroller.scrollTop,F=Uu(a),G={};c.bottom-c.top>F&&(c.bottom=c.top+F);var K=a.doc.height+Ja(m),de=c.bottom>K-v;if(c.top<b)G.scrollTop=c.top<v?0:c.top;else if(c.bottom>b+F){var Se=Math.min(c.top,(de?K:c.bottom)-F);Se!=b&&(G.scrollTop=Se)}var Fe=a.options.fixedGutter?0:m.gutters.offsetWidth,Ye=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:m.scroller.scrollLeft-Fe,We=gr(a)-m.gutters.offsetWidth,ct=c.right-c.left>We;return ct&&(c.right=c.left+We),c.left<10?G.scrollLeft=0:c.left<Ye?G.scrollLeft=Math.max(0,c.left+Fe-(ct?0:10)):c.right>We+Ye-3&&(G.scrollLeft=c.right+(ct?0:10)-We),G}function ts(a,c){null!=c&&(Pc(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+c)}function Ha(a){Pc(a);var c=a.getCursor();a.curOp.scrollToPos={from:c,to:c,margin:a.options.cursorScrollMargin}}function eo(a,c,m){(null!=c||null!=m)&&Pc(a),null!=c&&(a.curOp.scrollLeft=c),null!=m&&(a.curOp.scrollTop=m)}function Pc(a){var c=a.curOp.scrollToPos;c&&(a.curOp.scrollToPos=null,tl(a,Yh(a,c.from),Yh(a,c.to),c.margin))}function tl(a,c,m,v){var b=ki(a,{left:Math.min(c.left,m.left),top:Math.min(c.top,m.top)-v,right:Math.max(c.right,m.right),bottom:Math.max(c.bottom,m.bottom)+v});eo(a,b.scrollLeft,b.scrollTop)}function tr(a,c){Math.abs(a.doc.scrollTop-c)<2||(_||Ga(a,{top:c}),Fc(a,c,!0),_&&Ga(a),li(a,100))}function Fc(a,c,m){c=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,c)),(a.display.scroller.scrollTop!=c||m)&&(a.doc.scrollTop=c,a.display.scrollbars.setScrollTop(c),a.display.scroller.scrollTop!=c&&(a.display.scroller.scrollTop=c))}function Ua(a,c,m,v){c=Math.max(0,Math.min(c,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),(!(m?c==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-c)<2)||v)&&(a.doc.scrollLeft=c,Zh(a),a.display.scroller.scrollLeft!=c&&(a.display.scroller.scrollLeft=c),a.display.scrollbars.setScrollLeft(c))}function fn(a){var c=a.display,m=c.gutters.offsetWidth,v=Math.round(a.doc.height+Ja(a.display));return{clientHeight:c.scroller.clientHeight,viewHeight:c.wrapper.clientHeight,scrollWidth:c.scroller.scrollWidth,clientWidth:c.scroller.clientWidth,viewWidth:c.wrapper.clientWidth,barLeft:a.options.fixedGutter?m:0,docHeight:v,scrollHeight:v+fo(a)+c.barHeight,nativeBarWidth:c.nativeBarWidth,gutterWidth:m}}var Rr=function(a,c,m){this.cm=m;var v=this.vert=_e("div",[_e("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),b=this.horiz=_e("div",[_e("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");v.tabIndex=b.tabIndex=-1,a(v),a(b),bn(v,"scroll",function(){v.clientHeight&&c(v.scrollTop,"vertical")}),bn(b,"scroll",function(){b.clientWidth&&c(b.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,C&&S<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Rr.prototype.update=function(a){var c=a.scrollWidth>a.clientWidth+1,m=a.scrollHeight>a.clientHeight+1,v=a.nativeBarWidth;return m?(this.vert.style.display="block",this.vert.style.bottom=c?v+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(c?v:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),c?(this.horiz.style.display="block",this.horiz.style.right=m?v+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+(a.viewWidth-a.barLeft-(m?v:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&a.clientHeight>0&&(0==v&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:m?v:0,bottom:c?v:0}},Rr.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Rr.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Rr.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=ue&&!X?"12px":"18px",this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new it,this.disableVert=new it},Rr.prototype.enableZeroWidthBar=function(a,c,m){a.style.visibility="",c.set(1e3,function v(){var b=a.getBoundingClientRect();("vert"==m?document.elementFromPoint(b.right-1,(b.top+b.bottom)/2):document.elementFromPoint((b.right+b.left)/2,b.bottom-1))!=a?a.style.visibility="hidden":c.set(1e3,v)})},Rr.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var hn=function(){};function nl(a,c){c||(c=fn(a));var m=a.display.barWidth,v=a.display.barHeight;xs(a,c);for(var b=0;b<4&&m!=a.display.barWidth||v!=a.display.barHeight;b++)m!=a.display.barWidth&&a.options.lineWrapping&&Bs(a),xs(a,fn(a)),m=a.display.barWidth,v=a.display.barHeight}function xs(a,c){var m=a.display,v=m.scrollbars.update(c);m.sizer.style.paddingRight=(m.barWidth=v.right)+"px",m.sizer.style.paddingBottom=(m.barHeight=v.bottom)+"px",m.heightForcer.style.borderBottom=v.bottom+"px solid transparent",v.right&&v.bottom?(m.scrollbarFiller.style.display="block",m.scrollbarFiller.style.height=v.bottom+"px",m.scrollbarFiller.style.width=v.right+"px"):m.scrollbarFiller.style.display="",v.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(m.gutterFiller.style.display="block",m.gutterFiller.style.height=v.bottom+"px",m.gutterFiller.style.width=c.gutterWidth+"px"):m.gutterFiller.style.display=""}hn.prototype.update=function(){return{bottom:0,right:0}},hn.prototype.setScrollLeft=function(){},hn.prototype.setScrollTop=function(){},hn.prototype.clear=function(){};var Bc={native:Rr,null:hn};function eu(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&me(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new Bc[a.options.scrollbarStyle](function(c){a.display.wrapper.insertBefore(c,a.display.scrollbarFiller),bn(c,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),c.setAttribute("cm-not-content","true")},function(c,m){"horizontal"==m?Ua(a,c):tr(a,c)},a),a.display.scrollbars.addClass&&Ke(a.display.wrapper,a.display.scrollbars.addClass)}var Vs=0;function Xr(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Vs,markArrays:null},function Xl(a){Pu?Pu.ops.push(a):a.ownsGroup=Pu={ops:[a],delayedCallbacks:[]}}(a.curOp)}function _l(a){var c=a.curOp;c&&function Fu(a,c){var m=a.ownsGroup;if(m)try{!function Kl(a){var c=a.delayedCallbacks,m=0;do{for(;m<c.length;m++)c[m].call(null);for(var v=0;v<a.ops.length;v++){var b=a.ops[v];if(b.cursorActivityHandlers)for(;b.cursorActivityCalled<b.cursorActivityHandlers.length;)b.cursorActivityHandlers[b.cursorActivityCalled++].call(null,b.cm)}}while(m<c.length)}(m)}finally{Pu=null,c(m)}}(c,function(m){for(var v=0;v<m.ops.length;v++)m.ops[v].cm.curOp=null;!function za(a){for(var c=a.ops,m=0;m<c.length;m++)Ta(c[m]);for(var v=0;v<c.length;v++)jf(c[v]);for(var b=0;b<c.length;b++)tu(c[b]);for(var F=0;F<c.length;F++)Yd(c[F]);for(var G=0;G<c.length;G++)ns(c[G])}(m)})}function Ta(a){var c=a.cm,m=c.display;(function am(a){var c=a.display;!c.scrollbarsClipped&&c.scroller.offsetWidth&&(c.nativeBarWidth=c.scroller.offsetWidth-c.scroller.clientWidth,c.heightForcer.style.height=fo(a)+"px",c.sizer.style.marginBottom=-c.nativeBarWidth+"px",c.sizer.style.borderRightWidth=fo(a)+"px",c.scrollbarsClipped=!0)})(c),a.updateMaxLine&&Yl(c),a.mustUpdate=a.viewChanged||a.forceUpdate||null!=a.scrollTop||a.scrollToPos&&(a.scrollToPos.from.line<m.viewFrom||a.scrollToPos.to.line>=m.viewTo)||m.maxLineChanged&&c.options.lineWrapping,a.update=a.mustUpdate&&new Wf(c,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function jf(a){a.updatedDisplay=a.mustUpdate&&rl(a.cm,a.update)}function tu(a){var c=a.cm,m=c.display;a.updatedDisplay&&Bs(c),a.barMeasure=fn(c),m.maxLineChanged&&!c.options.lineWrapping&&(a.adjustWidthTo=ws(c,m.maxLine,m.maxLine.text.length).left+3,c.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(m.scroller.clientWidth,m.sizer.offsetLeft+a.adjustWidthTo+fo(c)+c.display.barWidth),a.maxScrollLeft=Math.max(0,m.sizer.offsetLeft+a.adjustWidthTo-gr(c))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=m.input.prepareSelection())}function Yd(a){var c=a.cm;null!=a.adjustWidthTo&&(c.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<c.doc.scrollLeft&&Ua(c,Math.min(c.display.scroller.scrollLeft,a.maxScrollLeft),!0),c.display.maxLineChanged=!1);var m=a.focus&&a.focus==lt(Zt(c));a.preparedSelection&&c.display.input.showSelection(a.preparedSelection,m),(a.updatedDisplay||a.startHeight!=c.doc.height)&&nl(c,a.barMeasure),a.updatedDisplay&&$f(c,a.barMeasure),a.selectionChanged&&Jo(c),c.state.focused&&a.updateInput&&c.display.input.reset(a.typing),m&&Gu(a.cm)}function ns(a){var c=a.cm,m=c.display,v=c.doc;a.updatedDisplay&&Ml(c,a.update),null!=m.wheelStartX&&(null!=a.scrollTop||null!=a.scrollLeft||a.scrollToPos)&&(m.wheelStartX=m.wheelStartY=null),null!=a.scrollTop&&Fc(c,a.scrollTop,a.forceScroll),null!=a.scrollLeft&&Ua(c,a.scrollLeft,!0,!0),a.scrollToPos&&function ju(a,c){if(!Ui(a,"scrollCursorIntoView")){var m=a.display,v=m.sizer.getBoundingClientRect(),b=null,F=m.wrapper.ownerDocument;if(c.top+v.top<0?b=!0:c.bottom+v.top>(F.defaultView.innerHeight||F.documentElement.clientHeight)&&(b=!1),null!=b&&!te){var G=_e("div","\u200b",null,"position: absolute;\n                         top: "+(c.top-m.viewOffset-Qa(a.display))+"px;\n                         height: "+(c.bottom-c.top+fo(a)+m.barHeight)+"px;\n                         left: "+c.left+"px; width: "+Math.max(2,c.right-c.left)+"px;");a.display.lineSpace.appendChild(G),G.scrollIntoView(b),a.display.lineSpace.removeChild(G)}}}(c,function Gf(a,c,m,v){var b;null==v&&(v=0),!a.options.lineWrapping&&c==m&&(m="before"==c.sticky?_t(c.line,c.ch+1,"before"):c,c=c.ch?_t(c.line,"before"==c.sticky?c.ch-1:c.ch,"after"):c);for(var F=0;F<5;F++){var G=!1,K=es(a,c),ee=m&&m!=c?es(a,m):K,de=ki(a,b={left:Math.min(K.left,ee.left),top:Math.min(K.top,ee.top)-v,right:Math.max(K.left,ee.left),bottom:Math.max(K.bottom,ee.bottom)+v}),Se=a.doc.scrollTop,Fe=a.doc.scrollLeft;if(null!=de.scrollTop&&(tr(a,de.scrollTop),Math.abs(a.doc.scrollTop-Se)>1&&(G=!0)),null!=de.scrollLeft&&(Ua(a,de.scrollLeft),Math.abs(a.doc.scrollLeft-Fe)>1&&(G=!0)),!G)break}return b}(c,et(v,a.scrollToPos.from),et(v,a.scrollToPos.to),a.scrollToPos.margin));var F=a.maybeHiddenMarkers,G=a.maybeUnhiddenMarkers;if(F)for(var K=0;K<F.length;++K)F[K].lines.length||ii(F[K],"hide");if(G)for(var ee=0;ee<G.length;++ee)G[ee].lines.length&&ii(G[ee],"unhide");m.wrapper.offsetHeight&&(v.scrollTop=c.display.scroller.scrollTop),a.changeObjs&&ii(c,"changes",c,a.changeObjs),a.update&&a.update.finish()}function ta(a,c){if(a.curOp)return c();Xr(a);try{return c()}finally{_l(a)}}function po(a,c){return function(){if(a.curOp)return c.apply(a,arguments);Xr(a);try{return c.apply(a,arguments)}finally{_l(a)}}}function Mo(a){return function(){if(this.curOp)return a.apply(this,arguments);Xr(this);try{return a.apply(this,arguments)}finally{_l(this)}}}function To(a){return function(){var c=this.cm;if(!c||c.curOp)return a.apply(this,arguments);Xr(c);try{return a.apply(this,arguments)}finally{_l(c)}}}function li(a,c){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(c,Ft(hi,a))}function hi(a){var c=a.doc;if(!(c.highlightFrontier>=a.display.viewTo)){var m=+new Date+a.options.workTime,v=Bt(a,c.highlightFrontier),b=[];c.iter(v.line,Math.min(c.first+c.size,a.display.viewTo+500),function(F){if(v.line>=a.display.viewFrom){var G=F.styles,K=F.text.length>a.options.maxHighlightLength?Si(c.mode,v.state):null,ee=en(a,F,v,!0);K&&(v.state=K),F.styles=ee.styles;var de=F.styleClasses,Se=ee.classes;Se?F.styleClasses=Se:de&&(F.styleClasses=null);for(var Fe=!G||G.length!=F.styles.length||de!=Se&&(!de||!Se||de.bgClass!=Se.bgClass||de.textClass!=Se.textClass),Ye=0;!Fe&&Ye<G.length;++Ye)Fe=G[Ye]!=F.styles[Ye];Fe&&b.push(v.line),F.stateAfter=v.save(),v.nextLine()}else F.text.length<=a.options.maxHighlightLength&&xr(a,F.text,v),F.stateAfter=v.line%5==0?v.save():null,v.nextLine();if(+new Date>m)return li(a,a.options.workDelay),!0}),c.highlightFrontier=v.line,c.modeFrontier=Math.max(c.modeFrontier,v.line),b.length&&ta(a,function(){for(var F=0;F<b.length;F++)Qi(a,b[F],"text")})}}var Wf=function(a,c,m){var v=a.display;this.viewport=c,this.visible=Gn(v,a.doc,c),this.editorIsHidden=!v.wrapper.offsetWidth,this.wrapperHeight=v.wrapper.clientHeight,this.wrapperWidth=v.wrapper.clientWidth,this.oldDisplayWidth=gr(a),this.force=m,this.dims=Wd(a),this.events=[]};function rl(a,c){var m=a.display,v=a.doc;if(c.editorIsHidden)return Js(a),!1;if(!c.force&&c.visible.from>=m.viewFrom&&c.visible.to<=m.viewTo&&(null==m.updateLineNumbers||m.updateLineNumbers>=m.viewTo)&&m.renderedView==m.view&&0==zf(a))return!1;bg(a)&&(Js(a),c.dims=Wd(a));var b=v.first+v.size,F=Math.max(c.visible.from-a.options.viewportMargin,v.first),G=Math.min(b,c.visible.to+a.options.viewportMargin);m.viewFrom<F&&F-m.viewFrom<20&&(F=Math.max(v.first,m.viewFrom)),m.viewTo>G&&m.viewTo-G<20&&(G=Math.min(b,m.viewTo)),dt&&(F=Ac(a.doc,F),G=un(a.doc,G));var K=F!=m.viewFrom||G!=m.viewTo||m.lastWrapHeight!=c.wrapperHeight||m.lastWrapWidth!=c.wrapperWidth;(function $d(a,c,m){var v=a.display;0==v.view.length||c>=v.viewTo||m<=v.viewFrom?(v.view=zo(a,c,m),v.viewFrom=c):(v.viewFrom>c?v.view=zo(a,c,v.viewFrom).concat(v.view):v.viewFrom<c&&(v.view=v.view.slice(Zi(a,c))),v.viewFrom=c,v.viewTo<m?v.view=v.view.concat(zo(a,v.viewTo,m)):v.viewTo>m&&(v.view=v.view.slice(0,Zi(a,m)))),v.viewTo=m})(a,F,G),m.viewOffset=Da(Cn(a.doc,m.viewFrom)),a.display.mover.style.top=m.viewOffset+"px";var ee=zf(a);if(!K&&0==ee&&!c.force&&m.renderedView==m.view&&(null==m.updateLineNumbers||m.updateLineNumbers>=m.viewTo))return!1;var de=function sm(a){if(a.hasFocus())return null;var c=lt(Zt(a));if(!c||!nt(a.display.lineDiv,c))return null;var m={activeElt:c};if(window.getSelection){var v=Vt(a).getSelection();v.anchorNode&&v.extend&&nt(a.display.lineDiv,v.anchorNode)&&(m.anchorNode=v.anchorNode,m.anchorOffset=v.anchorOffset,m.focusNode=v.focusNode,m.focusOffset=v.focusOffset)}return m}(a);return ee>4&&(m.lineDiv.style.display="none"),function Vc(a,c,m){var v=a.display,b=a.options.lineNumbers,F=v.lineDiv,G=F.firstChild;function K(ct){var bt=ct.nextSibling;return R&&ue&&a.display.currentWheelTarget==ct?ct.style.display="none":ct.parentNode.removeChild(ct),bt}for(var ee=v.view,de=v.viewFrom,Se=0;Se<ee.length;Se++){var Fe=ee[Se];if(!Fe.hidden)if(Fe.node&&Fe.node.parentNode==F){for(;G!=Fe.node;)G=K(G);var We=b&&null!=c&&c<=de&&Fe.lineNumber;Fe.changes&&(Je(Fe.changes,"gutter")>-1&&(We=!1),Pf(a,Fe,de,m)),We&&(xe(Fe.lineNumber),Fe.lineNumber.appendChild(document.createTextNode(Tc(a.options,de)))),G=Fe.node.nextSibling}else{var Ye=Fd(a,Fe,de,m);F.insertBefore(Ye,G)}de+=Fe.size}for(;G;)G=K(G)}(a,m.updateLineNumbers,c.dims),ee>4&&(m.lineDiv.style.display=""),m.renderedView=m.view,function nu(a){if(a&&a.activeElt&&a.activeElt!=lt(a.activeElt.ownerDocument)&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&nt(document.body,a.anchorNode)&&nt(document.body,a.focusNode))){var c=a.activeElt.ownerDocument,m=c.defaultView.getSelection(),v=c.createRange();v.setEnd(a.anchorNode,a.anchorOffset),v.collapse(!1),m.removeAllRanges(),m.addRange(v),m.extend(a.focusNode,a.focusOffset)}}(de),xe(m.cursorDiv),xe(m.selectionDiv),m.gutters.style.height=m.sizer.style.minHeight=0,K&&(m.lastWrapHeight=c.wrapperHeight,m.lastWrapWidth=c.wrapperWidth,li(a,400)),m.updateLineNumbers=null,!0}function Ml(a,c){for(var m=c.viewport,v=!0;;v=!1){if(v&&a.options.lineWrapping&&c.oldDisplayWidth!=gr(a))v&&(c.visible=Gn(a.display,a.doc,m));else if(m&&null!=m.top&&(m={top:Math.min(a.doc.height+Ja(a.display)-Uu(a),m.top)}),c.visible=Gn(a.display,a.doc,m),c.visible.from>=a.display.viewFrom&&c.visible.to<=a.display.viewTo)break;if(!rl(a,c))break;Bs(a);var b=fn(a);Lc(a),nl(a,b),$f(a,b),c.force=!1}c.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(c.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Ga(a,c){var m=new Wf(a,c);if(rl(a,m)){Bs(a),Ml(a,m);var v=fn(a);Lc(a),nl(a,v),$f(a,v),m.finish()}}function Xd(a){a.sizer.style.marginLeft=a.gutters.offsetWidth+"px",co(a,"gutterChanged",a)}function $f(a,c){a.display.sizer.style.minHeight=c.docHeight+"px",a.display.heightForcer.style.top=c.docHeight+"px",a.display.gutters.style.height=c.docHeight+a.display.barHeight+fo(a)+"px"}function Zh(a){var c=a.display,m=c.view;if(c.alignWidgets||c.gutters.firstChild&&a.options.fixedGutter){for(var v=xn(c)-c.scroller.scrollLeft+a.doc.scrollLeft,b=c.gutters.offsetWidth,F=v+"px",G=0;G<m.length;G++)if(!m[G].hidden){a.options.fixedGutter&&(m[G].gutter&&(m[G].gutter.style.left=F),m[G].gutterBackground&&(m[G].gutterBackground.style.left=F));var K=m[G].alignable;if(K)for(var ee=0;ee<K.length;ee++)K[ee].style.left=F}a.options.fixedGutter&&(c.gutters.style.left=v+b+"px")}}function bg(a){if(!a.options.lineNumbers)return!1;var c=a.doc,m=Tc(a.options,c.first+c.size-1),v=a.display;if(m.length!=v.lineNumChars){var b=v.measure.appendChild(_e("div",[_e("div",m)],"CodeMirror-linenumber CodeMirror-gutter-elt")),F=b.firstChild.offsetWidth,G=b.offsetWidth-F;return v.lineGutter.style.width="",v.lineNumInnerWidth=Math.max(F,v.lineGutter.offsetWidth-G)+1,v.lineNumWidth=v.lineNumInnerWidth+G,v.lineNumChars=v.lineNumInnerWidth?m.length:-1,v.lineGutter.style.width=v.lineNumWidth+"px",Xd(a.display),!0}return!1}function Tl(a,c){for(var m=[],v=!1,b=0;b<a.length;b++){var F=a[b],G=null;if("string"!=typeof F&&(G=F.style,F=F.className),"CodeMirror-linenumbers"==F){if(!c)continue;v=!0}m.push({className:F,style:G})}return c&&!v&&m.push({className:"CodeMirror-linenumbers",style:null}),m}function Kd(a){var c=a.gutters,m=a.gutterSpecs;xe(c),a.lineGutter=null;for(var v=0;v<m.length;++v){var b=m[v],F=b.className,G=b.style,K=c.appendChild(_e("div",null,"CodeMirror-gutter "+F));G&&(K.style.cssText=G),"CodeMirror-linenumbers"==F&&(a.lineGutter=K,K.style.width=(a.lineNumWidth||1)+"px")}c.style.display=m.length?"":"none",Xd(a)}function Zd(a){Kd(a.display),qi(a),Zh(a)}function Yf(a,c,m,v){var b=this;this.input=m,b.scrollbarFiller=_e("div",null,"CodeMirror-scrollbar-filler"),b.scrollbarFiller.setAttribute("cm-not-content","true"),b.gutterFiller=_e("div",null,"CodeMirror-gutter-filler"),b.gutterFiller.setAttribute("cm-not-content","true"),b.lineDiv=Ue("div",null,"CodeMirror-code"),b.selectionDiv=_e("div",null,null,"position: relative; z-index: 1"),b.cursorDiv=_e("div",null,"CodeMirror-cursors"),b.measure=_e("div",null,"CodeMirror-measure"),b.lineMeasure=_e("div",null,"CodeMirror-measure"),b.lineSpace=Ue("div",[b.measure,b.lineMeasure,b.selectionDiv,b.cursorDiv,b.lineDiv],null,"position: relative; outline: none");var F=Ue("div",[b.lineSpace],"CodeMirror-lines");b.mover=_e("div",[F],null,"position: relative"),b.sizer=_e("div",[b.mover],"CodeMirror-sizer"),b.sizerWidth=null,b.heightForcer=_e("div",null,null,"position: absolute; height: "+ut+"px; width: 1px;"),b.gutters=_e("div",null,"CodeMirror-gutters"),b.lineGutter=null,b.scroller=_e("div",[b.sizer,b.heightForcer,b.gutters],"CodeMirror-scroll"),b.scroller.setAttribute("tabIndex","-1"),b.wrapper=_e("div",[b.scrollbarFiller,b.gutterFiller,b.scroller],"CodeMirror"),V&&P>=105&&(b.wrapper.style.clipPath="inset(0px)"),b.wrapper.setAttribute("translate","no"),C&&S<8&&(b.gutters.style.zIndex=-1,b.scroller.style.paddingRight=0),!R&&!(_&&ce)&&(b.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(b.wrapper):a(b.wrapper)),b.viewFrom=b.viewTo=c.first,b.reportedViewFrom=b.reportedViewTo=c.first,b.view=[],b.renderedView=null,b.externalMeasured=null,b.viewOffset=0,b.lastWrapHeight=b.lastWrapWidth=0,b.updateLineNumbers=null,b.nativeBarWidth=b.barHeight=b.barWidth=0,b.scrollbarsClipped=!1,b.lineNumWidth=b.lineNumInnerWidth=b.lineNumChars=null,b.alignWidgets=!1,b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.maxLine=null,b.maxLineLength=0,b.maxLineChanged=!1,b.wheelDX=b.wheelDY=b.wheelStartX=b.wheelStartY=null,b.shift=!1,b.selForContextMenu=null,b.activeTouch=null,b.gutterSpecs=Tl(v.gutters,v.lineNumbers),Kd(b),m.init(b)}Wf.prototype.signal=function(a,c){yi(a,c)&&this.events.push(arguments)},Wf.prototype.finish=function(){for(var a=0;a<this.events.length;a++)ii.apply(null,this.events[a])};var Hc=0,to=null;function ja(a){var c=a.wheelDeltaX,m=a.wheelDeltaY;return null==c&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(c=a.detail),null==m&&a.detail&&a.axis==a.VERTICAL_AXIS?m=a.detail:null==m&&(m=a.wheelDelta),{x:c,y:m}}function wg(a){var c=ja(a);return c.x*=to,c.y*=to,c}function Uc(a,c){V&&102==P&&(null==a.display.chromeScrollHack?a.display.sizer.style.pointerEvents="none":clearTimeout(a.display.chromeScrollHack),a.display.chromeScrollHack=setTimeout(function(){a.display.chromeScrollHack=null,a.display.sizer.style.pointerEvents=""},100));var m=ja(c),v=m.x,b=m.y,F=to;0===c.deltaMode&&(v=c.deltaX,b=c.deltaY,F=1);var G=a.display,K=G.scroller,de=K.scrollHeight>K.clientHeight;if(v&&K.scrollWidth>K.clientWidth||b&&de){if(b&&ue&&R)e:for(var Se=c.target,Fe=G.view;Se!=K;Se=Se.parentNode)for(var Ye=0;Ye<Fe.length;Ye++)if(Fe[Ye].node==Se){a.display.currentWheelTarget=Se;break e}if(v&&!_&&!B&&null!=F)return b&&de&&tr(a,Math.max(0,K.scrollTop+b*F)),Ua(a,Math.max(0,K.scrollLeft+v*F)),(!b||b&&de)&&Ni(c),void(G.wheelStartX=null);if(b&&null!=F){var We=b*F,ct=a.doc.scrollTop,bt=ct+G.wrapper.clientHeight;We<0?ct=Math.max(0,ct+We-50):bt=Math.min(a.doc.height,bt+We+50),Ga(a,{top:ct,bottom:bt})}Hc<20&&0!==c.deltaMode&&(null==G.wheelStartX?(G.wheelStartX=K.scrollLeft,G.wheelStartY=K.scrollTop,G.wheelDX=v,G.wheelDY=b,setTimeout(function(){if(null!=G.wheelStartX){var zt=K.scrollLeft-G.wheelStartX,Wt=K.scrollTop-G.wheelStartY,Qt=Wt&&G.wheelDY&&Wt/G.wheelDY||zt&&G.wheelDX&&zt/G.wheelDX;G.wheelStartX=G.wheelStartY=null,Qt&&(to=(to*Hc+Qt)/(Hc+1),++Hc)}},200)):(G.wheelDX+=v,G.wheelDY+=b))}}C?to=-.53:_?to=15:V?to=-.7:U&&(to=-1/3);var ua=function(a,c){this.ranges=a,this.primIndex=c};ua.prototype.primary=function(){return this.ranges[this.primIndex]},ua.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var c=0;c<this.ranges.length;c++){var m=this.ranges[c],v=a.ranges[c];if(!Ic(m.anchor,v.anchor)||!Ic(m.head,v.head))return!1}return!0},ua.prototype.deepCopy=function(){for(var a=[],c=0;c<this.ranges.length;c++)a[c]=new Hr(ms(this.ranges[c].anchor),ms(this.ranges[c].head));return new ua(a,this.primIndex)},ua.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},ua.prototype.contains=function(a,c){c||(c=a);for(var m=0;m<this.ranges.length;m++){var v=this.ranges[m];if(Vn(c,v.from())>=0&&Vn(a,v.to())<=0)return m}return-1};var Hr=function(a,c){this.anchor=a,this.head=c};function na(a,c,m){var v=a&&a.options.selectionsMayTouch,b=c[m];c.sort(function(Ye,We){return Vn(Ye.from(),We.from())}),m=Je(c,b);for(var F=1;F<c.length;F++){var G=c[F],K=c[F-1],ee=Vn(K.to(),G.from());if(v&&!G.empty()?ee>0:ee>=0){var de=Le(K.from(),G.from()),Se=Oe(K.to(),G.to()),Fe=K.empty()?G.from()==G.head:K.from()==K.head;F<=m&&--m,c.splice(--F,2,new Hr(Fe?Se:de,Fe?de:Se))}}return new ua(c,m)}function ca(a,c){return new ua([new Hr(a,c||a)],0)}function Io(a){return a.text?_t(a.from.line+a.text.length-1,yn(a.text).length+(1==a.text.length?a.from.ch:0)):a.to}function rs(a,c){if(Vn(a,c.from)<0)return a;if(Vn(a,c.to)<=0)return Io(c);var m=a.line+c.text.length-(c.to.line-c.from.line)-1,v=a.ch;return a.line==c.to.line&&(v+=Io(c).ch-c.to.ch),_t(m,v)}function Ao(a,c){for(var m=[],v=0;v<a.sel.ranges.length;v++){var b=a.sel.ranges[v];m.push(new Hr(rs(b.anchor,c),rs(b.head,c)))}return na(a.cm,m,a.sel.primIndex)}function il(a,c,m){return a.line==c.line?_t(m.line,a.ch-c.ch+m.ch):_t(m.line+(a.line-c.line),a.ch)}function Wu(a){a.doc.mode=Ca(a.options,a.doc.modeOption),qd(a)}function qd(a){a.doc.iter(function(c){c.stateAfter&&(c.stateAfter=null),c.styles&&(c.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,li(a,100),a.state.modeGen++,a.curOp&&qi(a)}function zc(a,c){return 0==c.from.ch&&0==c.to.ch&&""==yn(c.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function $u(a,c,m,v){function b(Qt){return m?m[Qt]:null}function F(Qt,Kt,Xt){(function Uo(a,c,m,v){a.text=c,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),Gi(a),Ps(a,m);var b=v?v(a):1;b!=a.height&&So(a,b)})(Qt,Kt,Xt,v),co(Qt,"change",Qt,c)}function G(Qt,Kt){for(var Xt=[],Tn=Qt;Tn<Kt;++Tn)Xt.push(new Ks(de[Tn],b(Tn),v));return Xt}var K=c.from,ee=c.to,de=c.text,Se=Cn(a,K.line),Fe=Cn(a,ee.line),Ye=yn(de),We=b(de.length-1),ct=ee.line-K.line;if(c.full)a.insert(0,G(0,de.length)),a.remove(de.length,a.size-de.length);else if(zc(a,c)){var bt=G(0,de.length-1);F(Fe,Fe.text,We),ct&&a.remove(K.line,ct),bt.length&&a.insert(K.line,bt)}else if(Se==Fe)if(1==de.length)F(Se,Se.text.slice(0,K.ch)+Ye+Se.text.slice(ee.ch),We);else{var zt=G(1,de.length-1);zt.push(new Ks(Ye+Se.text.slice(ee.ch),We,v)),F(Se,Se.text.slice(0,K.ch)+de[0],b(0)),a.insert(K.line+1,zt)}else if(1==de.length)F(Se,Se.text.slice(0,K.ch)+de[0]+Fe.text.slice(ee.ch),b(0)),a.remove(K.line+1,ct);else{F(Se,Se.text.slice(0,K.ch)+de[0],b(0)),F(Fe,Ye+Fe.text.slice(ee.ch),We);var Wt=G(1,de.length-1);ct>1&&a.remove(K.line+1,ct-1),a.insert(K.line+1,Wt)}co(a,"change",a,c)}function is(a,c,m){!function v(b,F,G){if(b.linked)for(var K=0;K<b.linked.length;++K){var ee=b.linked[K];if(ee.doc!=F){var de=G&&ee.sharedHist;m&&!de||(c(ee.doc,de),v(ee.doc,b,de))}}}(a,null,!0)}function Yu(a,c){if(c.cm)throw new Error("This document is already in use.");a.doc=c,c.cm=a,Or(a),Wu(a),qh(a),a.options.direction=c.direction,a.options.lineWrapping||Yl(a),a.options.mode=c.modeOption,qi(a)}function qh(a){("rtl"==a.doc.direction?Ke:me)(a.display.lineDiv,"CodeMirror-rtl")}function Xu(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function ru(a,c){var m={from:ms(c.from),to:Io(c),text:qr(a,c.from,c.to)};return ep(a,m,c.from.line,c.to.line+1),is(a,function(v){return ep(v,m,c.from.line,c.to.line+1)},!0),m}function ol(a){for(;a.length&&yn(a).ranges;)a.pop()}function Cg(a,c,m,v){var b=a.history;b.undone.length=0;var G,K,F=+new Date;if((b.lastOp==v||b.lastOrigin==c.origin&&c.origin&&("+"==c.origin.charAt(0)&&b.lastModTime>F-(a.cm?a.cm.options.historyEventDelay:500)||"*"==c.origin.charAt(0)))&&(G=function Qh(a,c){return c?(ol(a.done),yn(a.done)):a.done.length&&!yn(a.done).ranges?yn(a.done):a.done.length>1&&!a.done[a.done.length-2].ranges?(a.done.pop(),yn(a.done)):void 0}(b,b.lastOp==v)))K=yn(G.changes),0==Vn(c.from,c.to)&&0==Vn(c.from,K.to)?K.to=Io(c):G.changes.push(ru(a,c));else{var ee=yn(b.done);for((!ee||!ee.ranges)&&Gc(a.sel,b.done),G={changes:[ru(a,c)],generation:b.generation},b.done.push(G);b.done.length>b.undoDepth;)b.done.shift(),b.done[0].ranges||b.done.shift()}b.done.push(m),b.generation=++b.maxGeneration,b.lastModTime=b.lastSelTime=F,b.lastOp=b.lastSelOp=v,b.lastOrigin=b.lastSelOrigin=c.origin,K||ii(a,"historyAdded")}function Jh(a,c,m,v){var b=a.history,F=v&&v.origin;m==b.lastSelOp||F&&b.lastSelOrigin==F&&(b.lastModTime==b.lastSelTime&&b.lastOrigin==F||function lm(a,c,m,v){var b=c.charAt(0);return"*"==b||"+"==b&&m.ranges.length==v.ranges.length&&m.somethingSelected()==v.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}(a,F,yn(b.done),c))?b.done[b.done.length-1]=c:Gc(c,b.done),b.lastSelTime=+new Date,b.lastSelOrigin=F,b.lastSelOp=m,v&&!1!==v.clearRedo&&ol(b.undone)}function Gc(a,c){var m=yn(c);m&&m.ranges&&m.equals(a)||c.push(a)}function ep(a,c,m,v){var b=c["spans_"+a.id],F=0;a.iter(Math.max(a.first,m),Math.min(a.first+a.size,v),function(G){G.markedSpans&&((b||(b=c["spans_"+a.id]={}))[F]=G.markedSpans),++F})}function xg(a){if(!a)return null;for(var c,m=0;m<a.length;++m)a[m].marker.explicitlyCleared?c||(c=a.slice(0,m)):c&&c.push(a[m]);return c?c.length?c:null:a}function Kf(a,c){var m=function Ia(a,c){var m=c["spans_"+a.id];if(!m)return null;for(var v=[],b=0;b<c.text.length;++b)v.push(xg(m[b]));return v}(a,c),v=ks(a,c);if(!m)return v;if(!v)return m;for(var b=0;b<m.length;++b){var F=m[b],G=v[b];if(F&&G)e:for(var K=0;K<G.length;++K){for(var ee=G[K],de=0;de<F.length;++de)if(F[de].marker==ee.marker)continue e;F.push(ee)}else G&&(m[b]=G)}return m}function Ku(a,c,m){for(var v=[],b=0;b<a.length;++b){var F=a[b];if(F.ranges)v.push(m?ua.prototype.deepCopy.call(F):F);else{var G=F.changes,K=[];v.push({changes:K});for(var ee=0;ee<G.length;++ee){var de=G[ee],Se=void 0;if(K.push({from:de.from,to:de.to,text:de.text}),c)for(var Fe in de)(Se=Fe.match(/^spans_(\d+)$/))&&Je(c,Number(Se[1]))>-1&&(yn(K)[Fe]=de[Fe],delete de[Fe])}}}return v}function Qd(a,c,m,v){if(v){var b=a.anchor;if(m){var F=Vn(c,b)<0;F!=Vn(m,b)<0?(b=c,c=m):F!=Vn(c,m)<0&&(c=m)}return new Hr(b,c)}return new Hr(m||c,c)}function jc(a,c,m,v,b){null==b&&(b=a.cm&&(a.cm.display.shift||a.extend)),go(a,new ua([Qd(a.sel.primary(),c,m,b)],0),v)}function Zf(a,c,m){for(var v=[],b=a.cm&&(a.cm.display.shift||a.extend),F=0;F<a.sel.ranges.length;F++)v[F]=Qd(a.sel.ranges[F],c[F],null,b);go(a,na(a.cm,v,a.sel.primIndex),m)}function qf(a,c,m,v){var b=a.sel.ranges.slice(0);b[c]=m,go(a,na(a.cm,b,a.sel.primIndex),v)}function Wc(a,c,m,v){go(a,ca(c,m),v)}function Aa(a,c,m){var v=a.history.done,b=yn(v);b&&b.ranges?(v[v.length-1]=c,Yc(a,c,m)):go(a,c,m)}function go(a,c,m){Yc(a,c,m),Jh(a,a.sel,a.cm?a.cm.curOp.id:NaN,m)}function Yc(a,c,m){(yi(a,"beforeSelectionChange")||a.cm&&yi(a.cm,"beforeSelectionChange"))&&(c=function $c(a,c,m){var v={ranges:c.ranges,update:function(b){this.ranges=[];for(var F=0;F<b.length;F++)this.ranges[F]=new Hr(et(a,b[F].anchor),et(a,b[F].head))},origin:m&&m.origin};return ii(a,"beforeSelectionChange",a,v),a.cm&&ii(a.cm,"beforeSelectionChange",a.cm,v),v.ranges!=c.ranges?na(a.cm,v.ranges,v.ranges.length-1):c}(a,c,m));var v=m&&m.bias||(Vn(c.primary().head,a.sel.primary().head)<0?-1:1);ni(a,Xc(a,c,v,!0)),(!m||!1!==m.scroll)&&a.cm&&"nocursor"!=a.cm.getOption("readOnly")&&Ha(a.cm)}function ni(a,c){c.equals(a.sel)||(a.sel=c,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,Wl(a.cm)),co(a,"cursorActivity",a))}function Qf(a){ni(a,Xc(a,a.sel,null,!1))}function Xc(a,c,m,v){for(var b,F=0;F<c.ranges.length;F++){var G=c.ranges[F],K=c.ranges.length==a.sel.ranges.length&&a.sel.ranges[F],ee=Es(a,G.anchor,K&&K.anchor,m,v),de=G.head==G.anchor?ee:Es(a,G.head,K&&K.head,m,v);(b||ee!=G.anchor||de!=G.head)&&(b||(b=c.ranges.slice(0,F)),b[F]=new Hr(ee,de))}return b?na(a.cm,b,c.primIndex):c}function Pi(a,c,m,v,b){var F=Cn(a,c.line);if(F.markedSpans)for(var G=0;G<F.markedSpans.length;++G){var K=F.markedSpans[G],ee=K.marker,de="selectLeft"in ee?!ee.selectLeft:ee.inclusiveLeft,Se="selectRight"in ee?!ee.selectRight:ee.inclusiveRight;if((null==K.from||(de?K.from<=c.ch:K.from<c.ch))&&(null==K.to||(Se?K.to>=c.ch:K.to>c.ch))){if(b&&(ii(ee,"beforeCursorEnter"),ee.explicitlyCleared)){if(F.markedSpans){--G;continue}break}if(!ee.atomic)continue;if(m){var Fe=ee.find(v<0?1:-1),Ye=void 0;if((v<0?Se:de)&&(Fe=Jd(a,Fe,-v,Fe&&Fe.line==c.line?F:null)),Fe&&Fe.line==c.line&&(Ye=Vn(Fe,m))&&(v<0?Ye<0:Ye>0))return Pi(a,Fe,c,v,b)}var We=ee.find(v<0?-1:1);return(v<0?de:Se)&&(We=Jd(a,We,v,We.line==c.line?F:null)),We?Pi(a,We,c,v,b):null}}return c}function Es(a,c,m,v,b){var F=v||1;return Pi(a,c,m,F,b)||!b&&Pi(a,c,m,F,!0)||Pi(a,c,m,-F,b)||!b&&Pi(a,c,m,-F,!0)||(a.cantEdit=!0,_t(a.first,0))}function Jd(a,c,m,v){return m<0&&0==c.ch?c.line>a.first?et(a,_t(c.line-1)):null:m>0&&c.ch==(v||Cn(a,c.line)).text.length?c.line<a.first+a.size-1?_t(c.line+1,0):null:new _t(c.line,c.ch+m)}function Il(a){a.setSelection(_t(a.firstLine(),0),_t(a.lastLine()),Mt)}function Na(a,c,m){var v={canceled:!1,from:c.from,to:c.to,text:c.text,origin:c.origin,cancel:function(){return v.canceled=!0}};return m&&(v.update=function(b,F,G,K){b&&(v.from=et(a,b)),F&&(v.to=et(a,F)),G&&(v.text=G),void 0!==K&&(v.origin=K)}),ii(a,"beforeChange",a,v),a.cm&&ii(a.cm,"beforeChange",a.cm,v),v.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:v.from,to:v.to,text:v.text,origin:v.origin}}function Zu(a,c,m){if(a.cm){if(!a.cm.curOp)return po(a.cm,Zu)(a,c,m);if(a.cm.state.suppressEdits)return}if(!(yi(a,"beforeChange")||a.cm&&yi(a.cm,"beforeChange"))||(c=Na(a,c,!0))){var v=ur&&!m&&function lo(a,c,m){var v=null;if(a.iter(c.line,m.line+1,function(We){if(We.markedSpans)for(var ct=0;ct<We.markedSpans.length;++ct){var bt=We.markedSpans[ct].marker;bt.readOnly&&(!v||-1==Je(v,bt))&&(v||(v=[])).push(bt)}}),!v)return null;for(var b=[{from:c,to:m}],F=0;F<v.length;++F)for(var G=v[F],K=G.find(0),ee=0;ee<b.length;++ee){var de=b[ee];if(!(Vn(de.to,K.from)<0||Vn(de.from,K.to)>0)){var Se=[ee,1],Fe=Vn(de.from,K.from),Ye=Vn(de.to,K.to);(Fe<0||!G.inclusiveLeft&&!Fe)&&Se.push({from:de.from,to:K.from}),(Ye>0||!G.inclusiveRight&&!Ye)&&Se.push({from:K.to,to:de.to}),b.splice.apply(b,Se),ee+=Se.length-3}}return b}(a,c.from,c.to);if(v)for(var b=v.length-1;b>=0;--b)Kc(a,{from:v[b].from,to:v[b].to,text:b?[""]:c.text,origin:c.origin});else Kc(a,c)}}function Kc(a,c){if(1!=c.text.length||""!=c.text[0]||0!=Vn(c.from,c.to)){var m=Ao(a,c);Cg(a,c,m,a.cm?a.cm.curOp.id:NaN),wr(a,c,m,ks(a,c));var v=[];is(a,function(b,F){!F&&-1==Je(v,b.history)&&(tp(b.history,c),v.push(b.history)),wr(b,c,null,ks(b,c))})}}function Zc(a,c,m){var v=a.cm&&a.cm.state.suppressEdits;if(!v||m){for(var F,b=a.history,G=a.sel,K="undo"==c?b.done:b.undone,ee="undo"==c?b.undone:b.done,de=0;de<K.length&&(F=K[de],!(m?F.ranges&&!F.equals(a.sel):!F.ranges));de++);if(de!=K.length){for(b.lastOrigin=b.lastSelOrigin=null;;){if(!(F=K.pop()).ranges){if(v)return void K.push(F);break}if(Gc(F,ee),m&&!F.equals(a.sel))return void go(a,F,{clearRedo:!1});G=F}var Se=[];Gc(G,ee),ee.push({changes:Se,generation:b.generation}),b.generation=F.generation||++b.maxGeneration;for(var Fe=yi(a,"beforeChange")||a.cm&&yi(a.cm,"beforeChange"),Ye=function(bt){var zt=F.changes[bt];if(zt.origin=c,Fe&&!Na(a,zt,!1))return K.length=0,{};Se.push(ru(a,zt));var Wt=bt?Ao(a,zt):yn(K);wr(a,zt,Wt,Kf(a,zt)),!bt&&a.cm&&a.cm.scrollIntoView({from:zt.from,to:Io(zt)});var Qt=[];is(a,function(Kt,Xt){!Xt&&-1==Je(Qt,Kt.history)&&(tp(Kt.history,zt),Qt.push(Kt.history)),wr(Kt,zt,null,Kf(Kt,zt))})},We=F.changes.length-1;We>=0;--We){var ct=Ye(We);if(ct)return ct.v}}}}function Hs(a,c){if(0!=c&&(a.first+=c,a.sel=new ua(On(a.sel.ranges,function(b){return new Hr(_t(b.anchor.line+c,b.anchor.ch),_t(b.head.line+c,b.head.ch))}),a.sel.primIndex),a.cm)){qi(a.cm,a.first,a.first-c,c);for(var m=a.cm.display,v=m.viewFrom;v<m.viewTo;v++)Qi(a.cm,v,"gutter")}}function wr(a,c,m,v){if(a.cm&&!a.cm.curOp)return po(a.cm,wr)(a,c,m,v);if(c.to.line<a.first)Hs(a,c.text.length-1-(c.to.line-c.from.line));else if(!(c.from.line>a.lastLine())){if(c.from.line<a.first){var b=c.text.length-1-(a.first-c.from.line);Hs(a,b),c={from:_t(a.first,0),to:_t(c.to.line+b,c.to.ch),text:[yn(c.text)],origin:c.origin}}var F=a.lastLine();c.to.line>F&&(c={from:c.from,to:_t(F,Cn(a,F).text.length),text:[c.text[0]],origin:c.origin}),c.removed=qr(a,c.from,c.to),m||(m=Ao(a,c)),a.cm?function Eg(a,c,m){var v=a.doc,b=a.display,F=c.from,G=c.to,K=!1,ee=F.line;a.options.lineWrapping||(ee=Ir($n(Cn(v,F.line))),v.iter(ee,G.line+1,function(We){if(We==b.maxLine)return K=!0,!0})),v.sel.contains(c.from,c.to)>-1&&Wl(a),$u(v,c,m,Qo(a)),a.options.lineWrapping||(v.iter(ee,F.line+c.text.length,function(We){var ct=Lu(We);ct>b.maxLineLength&&(b.maxLine=We,b.maxLineLength=ct,b.maxLineChanged=!0,K=!1)}),K&&(a.curOp.updateMaxLine=!0)),function Qr(a,c){if(a.modeFrontier=Math.min(a.modeFrontier,c),!(a.highlightFrontier<c-10)){for(var m=a.first,v=c-1;v>m;v--){var b=Cn(a,v).stateAfter;if(b&&(!(b instanceof pn)||v+b.lookAhead<c)){m=v+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,m)}}(v,F.line),li(a,400);var de=c.text.length-(G.line-F.line)-1;c.full?qi(a):F.line!=G.line||1!=c.text.length||zc(a.doc,c)?qi(a,F.line,G.line+1,de):Qi(a,F.line,"text");var Se=yi(a,"changes"),Fe=yi(a,"change");if(Fe||Se){var Ye={from:F,to:G,text:c.text,removed:c.removed,origin:c.origin};Fe&&co(a,"change",a,Ye),Se&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(Ye)}a.display.selForContextMenu=null}(a.cm,c,v):$u(a,c,v),Yc(a,m,Mt),a.cantEdit&&Es(a,_t(a.firstLine(),0))&&(a.cantEdit=!1)}}function Al(a,c,m,v,b){var F;v||(v=m),Vn(v,m)<0&&(m=(F=[v,m])[0],v=F[1]),"string"==typeof c&&(c=a.splitLines(c)),Zu(a,{from:m,to:v,text:c,origin:b})}function qu(a,c,m,v){m<a.line?a.line+=v:c<a.line&&(a.line=c,a.ch=0)}function Jf(a,c,m,v){for(var b=0;b<a.length;++b){var F=a[b],G=!0;if(F.ranges){F.copied||((F=a[b]=F.deepCopy()).copied=!0);for(var K=0;K<F.ranges.length;K++)qu(F.ranges[K].anchor,c,m,v),qu(F.ranges[K].head,c,m,v)}else{for(var ee=0;ee<F.changes.length;++ee){var de=F.changes[ee];if(m<de.from.line)de.from=_t(de.from.line+v,de.from.ch),de.to=_t(de.to.line+v,de.to.ch);else if(c<=de.to.line){G=!1;break}}G||(a.splice(0,b+1),b=0)}}}function tp(a,c){var m=c.from.line,v=c.to.line,b=c.text.length-(v-m)-1;Jf(a.done,m,v,b),Jf(a.undone,m,v,b)}function Nn(a,c,m,v){var b=c,F=c;return"number"==typeof c?F=Cn(a,Ve(a,c)):b=Ir(c),null==b?null:(v(F,b)&&a.cm&&Qi(a.cm,b,m),F)}function iu(a){this.lines=a,this.parent=null;for(var c=0,m=0;m<a.length;++m)a[m].parent=this,c+=a[m].height;this.height=c}function ou(a){this.children=a;for(var c=0,m=0,v=0;v<a.length;++v){var b=a[v];c+=b.chunkSize(),m+=b.height,b.parent=this}this.size=c,this.height=m,this.parent=null}Hr.prototype.from=function(){return Le(this.anchor,this.head)},Hr.prototype.to=function(){return Oe(this.anchor,this.head)},Hr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},iu.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,c){for(var m=a,v=a+c;m<v;++m){var b=this.lines[m];this.height-=b.height,Sa(b),co(b,"delete")}this.lines.splice(a,c)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,c,m){this.height+=m,this.lines=this.lines.slice(0,a).concat(c).concat(this.lines.slice(a));for(var v=0;v<c.length;++v)c[v].parent=this},iterN:function(a,c,m){for(var v=a+c;a<v;++a)if(m(this.lines[a]))return!0}},ou.prototype={chunkSize:function(){return this.size},removeInner:function(a,c){this.size-=c;for(var m=0;m<this.children.length;++m){var v=this.children[m],b=v.chunkSize();if(a<b){var F=Math.min(c,b-a),G=v.height;if(v.removeInner(a,F),this.height-=G-v.height,b==F&&(this.children.splice(m--,1),v.parent=null),0==(c-=F))break;a=0}else a-=b}if(this.size-c<25&&(this.children.length>1||!(this.children[0]instanceof iu))){var K=[];this.collapse(K),this.children=[new iu(K)],this.children[0].parent=this}},collapse:function(a){for(var c=0;c<this.children.length;++c)this.children[c].collapse(a)},insertInner:function(a,c,m){this.size+=c.length,this.height+=m;for(var v=0;v<this.children.length;++v){var b=this.children[v],F=b.chunkSize();if(a<=F){if(b.insertInner(a,c,m),b.lines&&b.lines.length>50){for(var G=b.lines.length%25+25,K=G;K<b.lines.length;){var ee=new iu(b.lines.slice(K,K+=25));b.height-=ee.height,this.children.splice(++v,0,ee),ee.parent=this}b.lines=b.lines.slice(0,G),this.maybeSpill()}break}a-=F}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var m=new ou(a.children.splice(a.children.length-5,5));if(a.parent){a.size-=m.size,a.height-=m.height;var b=Je(a.parent.children,a);a.parent.children.splice(b+1,0,m)}else{var v=new ou(a.children);v.parent=a,a.children=[v,m],a=v}m.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,c,m){for(var v=0;v<this.children.length;++v){var b=this.children[v],F=b.chunkSize();if(a<F){var G=Math.min(c,F-a);if(b.iterN(a,G,m))return!0;if(0==(c-=G))break;a=0}else a-=F}}};var Nl=function(a,c,m){if(m)for(var v in m)m.hasOwnProperty(v)&&(this[v]=m[v]);this.doc=a,this.node=c};function No(a,c,m){Da(c)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&ts(a,m)}Nl.prototype.clear=function(){var a=this.doc.cm,c=this.line.widgets,m=this.line,v=Ir(m);if(null!=v&&c){for(var b=0;b<c.length;++b)c[b]==this&&c.splice(b--,1);c.length||(m.widgets=null);var F=Hu(this);So(m,Math.max(0,m.height-F)),a&&(ta(a,function(){No(a,m,-F),Qi(a,v,"widget")}),co(a,"lineWidgetCleared",a,this,v))}},Nl.prototype.changed=function(){var a=this,c=this.height,m=this.doc.cm,v=this.line;this.height=null;var b=Hu(this)-c;b&&(Xs(this.doc,v)||So(v,v.height+b),m&&ta(m,function(){m.curOp.forceUpdate=!0,No(m,v,b),co(m,"lineWidgetChanged",m,a,Ir(v))}))},ba(Nl);var qc=0,Oo=function(a,c){this.lines=[],this.type=c,this.doc=a,this.id=++qc};function Qu(a,c,m,v,b){if(v&&v.shared)return function Dg(a,c,m,v,b){(v=gn(v)).shared=!1;var F=[Qu(a,c,m,v,b)],G=F[0],K=v.widgetNode;return is(a,function(ee){K&&(v.widgetNode=K.cloneNode(!0)),F.push(Qu(ee,et(ee,c),et(ee,m),v,b));for(var de=0;de<ee.linked.length;++de)if(ee.linked[de].isParent)return;G=yn(F)}),new Qc(F,G)}(a,c,m,v,b);if(a.cm&&!a.cm.curOp)return po(a.cm,Qu)(a,c,m,v,b);var F=new Oo(a,b),G=Vn(c,m);if(v&&gn(v,F,!1),G>0||0==G&&!1!==F.clearWhenEmpty)return F;if(F.replacedWith&&(F.collapsed=!0,F.widgetNode=Ue("span",[F.replacedWith],"CodeMirror-widget"),v.handleMouseEvents||F.widgetNode.setAttribute("cm-ignore-events","true"),v.insertLeft&&(F.widgetNode.insertLeft=!0)),F.collapsed){if(Ki(a,c.line,c,m,F)||c.line!=m.line&&Ki(a,m.line,c,m,F))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function vn(){dt=!0}()}F.addToHistory&&Cg(a,{from:c,to:m,origin:"markText"},a.sel,NaN);var de,K=c.line,ee=a.cm;if(a.iter(K,m.line+1,function(Fe){ee&&F.collapsed&&!ee.options.lineWrapping&&$n(Fe)==ee.display.maxLine&&(de=!0),F.collapsed&&K!=c.line&&So(Fe,0),function so(a,c,m){var v=m&&window.WeakSet&&(m.markedSpans||(m.markedSpans=new WeakSet));v&&a.markedSpans&&v.has(a.markedSpans)?a.markedSpans.push(c):(a.markedSpans=a.markedSpans?a.markedSpans.concat([c]):[c],v&&v.add(a.markedSpans)),c.marker.attachLine(a)}(Fe,new kn(F,K==c.line?c.ch:null,K==m.line?m.ch:null),a.cm&&a.cm.curOp),++K}),F.collapsed&&a.iter(c.line,m.line+1,function(Fe){Xs(a,Fe)&&So(Fe,0)}),F.clearOnEnter&&bn(F,"beforeCursorEnter",function(){return F.clear()}),F.readOnly&&(function Nr(){ur=!0}(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),F.collapsed&&(F.id=++qc,F.atomic=!0),ee){if(de&&(ee.curOp.updateMaxLine=!0),F.collapsed)qi(ee,c.line,m.line+1);else if(F.className||F.startStyle||F.endStyle||F.css||F.attributes||F.title)for(var Se=c.line;Se<=m.line;Se++)Qi(ee,Se,"text");F.atomic&&Qf(ee.doc),co(ee,"markerAdded",ee,F)}return F}Oo.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,c=a&&!a.curOp;if(c&&Xr(a),yi(this,"clear")){var m=this.find();m&&co(this,"clear",m.from,m.to)}for(var v=null,b=null,F=0;F<this.lines.length;++F){var G=this.lines[F],K=Jr(G.markedSpans,this);a&&!this.collapsed?Qi(a,Ir(G),"text"):a&&(null!=K.to&&(b=Ir(G)),null!=K.from&&(v=Ir(G))),G.markedSpans=Oi(G.markedSpans,K),null==K.from&&this.collapsed&&!Xs(this.doc,G)&&a&&So(G,fi(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var ee=0;ee<this.lines.length;++ee){var de=$n(this.lines[ee]),Se=Lu(de);Se>a.display.maxLineLength&&(a.display.maxLine=de,a.display.maxLineLength=Se,a.display.maxLineChanged=!0)}null!=v&&a&&this.collapsed&&qi(a,v,b+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Qf(a.doc)),a&&co(a,"markerCleared",a,this,v,b),c&&_l(a),this.parent&&this.parent.clear()}},Oo.prototype.find=function(a,c){null==a&&"bookmark"==this.type&&(a=1);for(var m,v,b=0;b<this.lines.length;++b){var F=this.lines[b],G=Jr(F.markedSpans,this);if(null!=G.from&&(m=_t(c?F:Ir(F),G.from),-1==a))return m;if(null!=G.to&&(v=_t(c?F:Ir(F),G.to),1==a))return v}return m&&{from:m,to:v}},Oo.prototype.changed=function(){var a=this,c=this.find(-1,!0),m=this,v=this.doc.cm;!c||!v||ta(v,function(){var b=c.line,F=Ir(c.line),G=xl(v,F);if(G&&(Nc(G),v.curOp.selectionChanged=v.curOp.forceUpdate=!0),v.curOp.updateMaxLine=!0,!Xs(m.doc,b)&&null!=m.height){var K=m.height;m.height=null;var ee=Hu(m)-K;ee&&So(b,b.height+ee)}co(v,"markerChanged",v,a)})},Oo.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(!c.maybeHiddenMarkers||-1==Je(c.maybeHiddenMarkers,this))&&(c.maybeUnhiddenMarkers||(c.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Oo.prototype.detachLine=function(a){if(this.lines.splice(Je(this.lines,a),1),!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(c.maybeHiddenMarkers||(c.maybeHiddenMarkers=[])).push(this)}},ba(Oo);var Qc=function(a,c){this.markers=a,this.primary=c;for(var m=0;m<a.length;++m)a[m].parent=this};function np(a){return a.findMarks(_t(a.first,0),a.clipPos(_t(a.lastLine())),function(c){return c.parent})}function Ot(a){for(var c=function(v){var b=a[v],F=[b.primary.doc];is(b.primary.doc,function(ee){return F.push(ee)});for(var G=0;G<b.markers.length;G++){var K=b.markers[G];-1==Je(F,K.doc)&&(K.parent=null,b.markers.splice(G--,1))}},m=0;m<a.length;m++)c(m)}Qc.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();co(this,"clear")}},Qc.prototype.find=function(a,c){return this.primary.find(a,c)},ba(Qc);var fr=0,nr=function(a,c,m,v,b){if(!(this instanceof nr))return new nr(a,c,m,v,b);null==m&&(m=0),ou.call(this,[new iu([new Ks("",null)])]),this.first=m,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=m;var F=_t(m,0);this.sel=ca(F),this.history=new Xu(null),this.id=++fr,this.modeOption=c,this.lineSep=v,this.direction="rtl"==b?"rtl":"ltr",this.extend=!1,"string"==typeof a&&(a=this.splitLines(a)),$u(this,{from:F,to:F,text:a}),go(this,ca(F),Mt)};nr.prototype=Di(ou.prototype,{constructor:nr,iter:function(a,c,m){m?this.iterN(a-this.first,c-a,m):this.iterN(this.first,this.first+this.size,a)},insert:function(a,c){for(var m=0,v=0;v<c.length;++v)m+=c[v].height;this.insertInner(a-this.first,c,m)},remove:function(a,c){this.removeInner(a-this.first,c)},getValue:function(a){var c=Pa(this,this.first,this.first+this.size);return!1===a?c:c.join(a||this.lineSeparator())},setValue:To(function(a){var c=_t(this.first,0),m=this.first+this.size-1;Zu(this,{from:c,to:_t(m,Cn(this,m).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&eo(this.cm,0,0),go(this,ca(c),Mt)}),replaceRange:function(a,c,m,v){Al(this,a,c=et(this,c),m=m?et(this,m):c,v)},getRange:function(a,c,m){var v=qr(this,et(this,a),et(this,c));return!1===m?v:v.join(""===m?"":m||this.lineSeparator())},getLine:function(a){var c=this.getLineHandle(a);return c&&c.text},getLineHandle:function(a){if(_o(this,a))return Cn(this,a)},getLineNumber:function(a){return Ir(a)},getLineHandleVisualStart:function(a){return"number"==typeof a&&(a=Cn(this,a)),$n(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return et(this,a)},getCursor:function(a){var c=this.sel.primary();return null==a||"head"==a?c.head:"anchor"==a?c.anchor:"end"==a||"to"==a||!1===a?c.to():c.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:To(function(a,c,m){Wc(this,et(this,"number"==typeof a?_t(a,c||0):a),null,m)}),setSelection:To(function(a,c,m){Wc(this,et(this,a),et(this,c||a),m)}),extendSelection:To(function(a,c,m){jc(this,et(this,a),c&&et(this,c),m)}),extendSelections:To(function(a,c){Zf(this,qt(this,a),c)}),extendSelectionsBy:To(function(a,c){Zf(this,qt(this,On(this.sel.ranges,a)),c)}),setSelections:To(function(a,c,m){if(a.length){for(var v=[],b=0;b<a.length;b++)v[b]=new Hr(et(this,a[b].anchor),et(this,a[b].head||a[b].anchor));null==c&&(c=Math.min(a.length-1,this.sel.primIndex)),go(this,na(this.cm,v,c),m)}}),addSelection:To(function(a,c,m){var v=this.sel.ranges.slice(0);v.push(new Hr(et(this,a),et(this,c||a))),go(this,na(this.cm,v,v.length-1),m)}),getSelection:function(a){for(var m,c=this.sel.ranges,v=0;v<c.length;v++){var b=qr(this,c[v].from(),c[v].to());m=m?m.concat(b):b}return!1===a?m:m.join(a||this.lineSeparator())},getSelections:function(a){for(var c=[],m=this.sel.ranges,v=0;v<m.length;v++){var b=qr(this,m[v].from(),m[v].to());!1!==a&&(b=b.join(a||this.lineSeparator())),c[v]=b}return c},replaceSelection:function(a,c,m){for(var v=[],b=0;b<this.sel.ranges.length;b++)v[b]=a;this.replaceSelections(v,c,m||"+input")},replaceSelections:To(function(a,c,m){for(var v=[],b=this.sel,F=0;F<b.ranges.length;F++){var G=b.ranges[F];v[F]={from:G.from(),to:G.to(),text:this.splitLines(a[F]),origin:m}}for(var K=c&&"end"!=c&&function ji(a,c,m){for(var v=[],b=_t(a.first,0),F=b,G=0;G<c.length;G++){var K=c[G],ee=il(K.from,b,F),de=il(Io(K),b,F);if(b=K.to,F=de,"around"==m){var Se=a.sel.ranges[G],Fe=Vn(Se.head,Se.anchor)<0;v[G]=new Hr(Fe?de:ee,Fe?ee:de)}else v[G]=new Hr(ee,ee)}return new ua(v,a.sel.primIndex)}(this,v,c),ee=v.length-1;ee>=0;ee--)Zu(this,v[ee]);K?Aa(this,K):this.cm&&Ha(this.cm)}),undo:To(function(){Zc(this,"undo")}),redo:To(function(){Zc(this,"redo")}),undoSelection:To(function(){Zc(this,"undo",!0)}),redoSelection:To(function(){Zc(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,c=0,m=0,v=0;v<a.done.length;v++)a.done[v].ranges||++c;for(var b=0;b<a.undone.length;b++)a.undone[b].ranges||++m;return{undo:c,redo:m}},clearHistory:function(){var a=this;this.history=new Xu(this.history),is(this,function(c){return c.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Ku(this.history.done),undone:Ku(this.history.undone)}},setHistory:function(a){var c=this.history=new Xu(this.history);c.done=Ku(a.done.slice(0),null,!0),c.undone=Ku(a.undone.slice(0),null,!0)},setGutterMarker:To(function(a,c,m){return Nn(this,a,"gutter",function(v){var b=v.gutterMarkers||(v.gutterMarkers={});return b[c]=m,!m&&Vr(b)&&(v.gutterMarkers=null),!0})}),clearGutter:To(function(a){var c=this;this.iter(function(m){m.gutterMarkers&&m.gutterMarkers[a]&&Nn(c,m,"gutter",function(){return m.gutterMarkers[a]=null,Vr(m.gutterMarkers)&&(m.gutterMarkers=null),!0})})}),lineInfo:function(a){var c;if("number"==typeof a){if(!(_o(this,a)&&(c=a,a=Cn(this,a))))return null}else if(null==(c=Ir(a)))return null;return{line:c,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:To(function(a,c,m){return Nn(this,a,"gutter"==c?"gutter":"class",function(v){var b="text"==c?"textClass":"background"==c?"bgClass":"gutter"==c?"gutterClass":"wrapClass";if(v[b]){if(ae(m).test(v[b]))return!1;v[b]+=" "+m}else v[b]=m;return!0})}),removeLineClass:To(function(a,c,m){return Nn(this,a,"gutter"==c?"gutter":"class",function(v){var b="text"==c?"textClass":"background"==c?"bgClass":"gutter"==c?"gutterClass":"wrapClass",F=v[b];if(!F)return!1;if(null==m)v[b]=null;else{var G=F.match(ae(m));if(!G)return!1;var K=G.index+G[0].length;v[b]=F.slice(0,G.index)+(G.index&&K!=F.length?" ":"")+F.slice(K)||null}return!0})}),addLineWidget:To(function(a,c,m){return function eh(a,c,m,v){var b=new Nl(a,m,v),F=a.cm;return F&&b.noHScroll&&(F.display.alignWidgets=!0),Nn(a,c,"widget",function(G){var K=G.widgets||(G.widgets=[]);if(null==b.insertAt?K.push(b):K.splice(Math.min(K.length,Math.max(0,b.insertAt)),0,b),b.line=G,F&&!Xs(a,G)){var ee=Da(G)<a.scrollTop;So(G,G.height+Hu(b)),ee&&ts(F,b.height),F.curOp.forceUpdate=!0}return!0}),F&&co(F,"lineWidgetAdded",F,b,"number"==typeof c?c:Ir(c)),b}(this,a,c,m)}),removeLineWidget:function(a){a.clear()},markText:function(a,c,m){return Qu(this,et(this,a),et(this,c),m,m&&m.type||"range")},setBookmark:function(a,c){var m={replacedWith:c&&(null==c.nodeType?c.widget:c),insertLeft:c&&c.insertLeft,clearWhenEmpty:!1,shared:c&&c.shared,handleMouseEvents:c&&c.handleMouseEvents};return Qu(this,a=et(this,a),a,m,"bookmark")},findMarksAt:function(a){var c=[],m=Cn(this,(a=et(this,a)).line).markedSpans;if(m)for(var v=0;v<m.length;++v){var b=m[v];(null==b.from||b.from<=a.ch)&&(null==b.to||b.to>=a.ch)&&c.push(b.marker.parent||b.marker)}return c},findMarks:function(a,c,m){a=et(this,a),c=et(this,c);var v=[],b=a.line;return this.iter(a.line,c.line+1,function(F){var G=F.markedSpans;if(G)for(var K=0;K<G.length;K++){var ee=G[K];!(null!=ee.to&&b==a.line&&a.ch>=ee.to||null==ee.from&&b!=a.line||null!=ee.from&&b==c.line&&ee.from>=c.ch)&&(!m||m(ee.marker))&&v.push(ee.marker.parent||ee.marker)}++b}),v},getAllMarks:function(){var a=[];return this.iter(function(c){var m=c.markedSpans;if(m)for(var v=0;v<m.length;++v)null!=m[v].from&&a.push(m[v].marker)}),a},posFromIndex:function(a){var c,m=this.first,v=this.lineSeparator().length;return this.iter(function(b){var F=b.text.length+v;if(F>a)return c=a,!0;a-=F,++m}),et(this,_t(m,c))},indexFromPos:function(a){var c=(a=et(this,a)).ch;if(a.line<this.first||a.ch<0)return 0;var m=this.lineSeparator().length;return this.iter(this.first,a.line,function(v){c+=v.text.length+m}),c},copy:function(a){var c=new nr(Pa(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return c.scrollTop=this.scrollTop,c.scrollLeft=this.scrollLeft,c.sel=this.sel,c.extend=!1,a&&(c.history.undoDepth=this.history.undoDepth,c.setHistory(this.getHistory())),c},linkedDoc:function(a){a||(a={});var c=this.first,m=this.first+this.size;null!=a.from&&a.from>c&&(c=a.from),null!=a.to&&a.to<m&&(m=a.to);var v=new nr(Pa(this,c,m),a.mode||this.modeOption,c,this.lineSep,this.direction);return a.sharedHist&&(v.history=this.history),(this.linked||(this.linked=[])).push({doc:v,sharedHist:a.sharedHist}),v.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],function Ol(a,c){for(var m=0;m<c.length;m++){var v=c[m],b=v.find(),F=a.clipPos(b.from),G=a.clipPos(b.to);if(Vn(F,G)){var K=Qu(a,F,G,v.primary,v.primary.type);v.markers.push(K),K.parent=v}}}(v,np(this)),v},unlinkDoc:function(a){if(a instanceof Kr&&(a=a.doc),this.linked)for(var c=0;c<this.linked.length;++c)if(this.linked[c].doc==a){this.linked.splice(c,1),a.unlinkDoc(this),Ot(np(this));break}if(a.history==this.history){var v=[a.id];is(a,function(b){return v.push(b.id)},!0),a.history=new Xu(null),a.history.done=Ku(this.history.done,v),a.history.undone=Ku(this.history.undone,v)}},iterLinkedDocs:function(a){is(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):$l(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:To(function(a){"rtl"!=a&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(c){return c.order=null}),this.cm&&function Xf(a){ta(a,function(){qh(a),qi(a)})}(this.cm))})}),nr.prototype.eachLine=nr.prototype.iter;var da=0;function Ro(a){var c=this;if(os(c),!Ui(c,a)&&!qs(c.display,a)){Ni(a),C&&(da=+new Date);var m=Li(c,a,!0),v=a.dataTransfer.files;if(m&&!c.isReadOnly())if(v&&v.length&&window.FileReader&&window.File)for(var b=v.length,F=Array(b),G=0,K=function(){++G==b&&po(c,function(){var We={from:m=et(c.doc,m),to:m,text:c.doc.splitLines(F.filter(function(ct){return null!=ct}).join(c.doc.lineSeparator())),origin:"paste"};Zu(c.doc,We),Aa(c.doc,ca(et(c.doc,m),et(c.doc,Io(We))))})()},ee=function(We,ct){if(c.options.allowDropFileTypes&&-1==Je(c.options.allowDropFileTypes,We.type))K();else{var bt=new FileReader;bt.onerror=function(){return K()},bt.onload=function(){var zt=bt.result;/[\x00-\x08\x0e-\x1f]{2}/.test(zt)||(F[ct]=zt),K()},bt.readAsText(We)}},de=0;de<v.length;de++)ee(v[de],de);else{if(c.state.draggingText&&c.doc.sel.contains(m)>-1)return c.state.draggingText(a),void setTimeout(function(){return c.display.input.focus()},20);try{var Se=a.dataTransfer.getData("Text");if(Se){var Fe;if(c.state.draggingText&&!c.state.draggingText.copy&&(Fe=c.listSelections()),Yc(c.doc,ca(m,m)),Fe)for(var Ye=0;Ye<Fe.length;++Ye)Al(c.doc,"",Fe[Ye].anchor,Fe[Ye].head,"drag");c.replaceSelection(Se,"around","paste"),c.display.input.focus()}}catch{}}}}function os(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Jc(a){if(document.getElementsByClassName){for(var c=document.getElementsByClassName("CodeMirror"),m=[],v=0;v<c.length;v++){var b=c[v].CodeMirror;b&&m.push(b)}m.length&&m[0].operation(function(){for(var F=0;F<m.length;F++)a(m[F])})}}var no=!1;function ui(){no||(function um(){var a;bn(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null,Jc(rp)},100))}),bn(window,"blur",function(){return Jc(si)})}(),no=!0)}function rp(a){var c=a.display;c.cachedCharWidth=c.cachedTextHeight=c.cachedPaddingH=null,c.scrollbarsClipped=!1,a.setSize()}for(var Fi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},vr=0;vr<10;vr++)Fi[vr+48]=Fi[vr+96]=String(vr);for(var Rl=65;Rl<=90;Rl++)Fi[Rl]=String.fromCharCode(Rl);for(var Ds=1;Ds<=12;Ds++)Fi[Ds+111]=Fi[Ds+63235]="F"+Ds;var Lo={};function ec(a){var c=a.split(/-(?!$)/);a=c[c.length-1];for(var m,v,b,F,G=0;G<c.length-1;G++){var K=c[G];if(/^(cmd|meta|m)$/i.test(K))F=!0;else if(/^a(lt)?$/i.test(K))m=!0;else if(/^(c|ctrl|control)$/i.test(K))v=!0;else{if(!/^s(hift)?$/i.test(K))throw new Error("Unrecognized modifier name: "+K);b=!0}}return m&&(a="Alt-"+a),v&&(a="Ctrl-"+a),F&&(a="Cmd-"+a),b&&(a="Shift-"+a),a}function ip(a){var c={};for(var m in a)if(a.hasOwnProperty(m)){var v=a[m];if(/^(name|fallthrough|(de|at)tach)$/.test(m))continue;if("..."==v){delete a[m];continue}for(var b=On(m.split(" "),ec),F=0;F<b.length;F++){var G=void 0,K=void 0;F==b.length-1?(K=b.join(" "),G=v):(K=b.slice(0,F+1).join(" "),G="...");var ee=c[K];if(ee){if(ee!=G)throw new Error("Inconsistent bindings for "+K)}else c[K]=G}delete a[m]}for(var de in c)a[de]=c[de];return a}function Us(a,c,m,v){var b=(c=td(c)).call?c.call(a,v):c[a];if(!1===b)return"nothing";if("..."===b)return"multi";if(null!=b&&m(b))return"handled";if(c.fallthrough){if("[object Array]"!=Object.prototype.toString.call(c.fallthrough))return Us(a,c.fallthrough,m,v);for(var F=0;F<c.fallthrough.length;F++){var G=Us(a,c.fallthrough[F],m,v);if(G)return G}}}function op(a){var c="string"==typeof a?a:Fi[a.keyCode];return"Ctrl"==c||"Alt"==c||"Shift"==c||"Mod"==c}function ed(a,c,m){var v=a;return c.altKey&&"Alt"!=v&&(a="Alt-"+a),(q?c.metaKey:c.ctrlKey)&&"Ctrl"!=v&&(a="Ctrl-"+a),(q?c.ctrlKey:c.metaKey)&&"Mod"!=v&&(a="Cmd-"+a),!m&&c.shiftKey&&"Shift"!=v&&(a="Shift-"+a),a}function ef(a,c){if(B&&34==a.keyCode&&a.char)return!1;var m=Fi[a.keyCode];return null!=m&&!a.altGraphKey&&(3==a.keyCode&&a.code&&(m=a.code),ed(m,a,c))}function td(a){return"string"==typeof a?Lo[a]:a}function Ss(a,c){for(var m=a.doc.sel.ranges,v=[],b=0;b<m.length;b++){for(var F=c(m[b]);v.length&&Vn(F.from,yn(v).to)<=0;){var G=v.pop();if(Vn(G.from,F.from)<0){F.from=G.from;break}}v.push(F)}ta(a,function(){for(var K=v.length-1;K>=0;K--)Al(a.doc,"",v[K].from,v[K].to,"+delete");Ha(a)})}function tf(a,c,m){var v=ps(a.text,c+m,m);return v<0||v>a.text.length?null:v}function tc(a,c,m){var v=tf(a,c.ch,m);return null==v?null:new _t(c.line,v,m<0?"after":"before")}function Ll(a,c,m,v,b){if(a){"rtl"==c.doc.direction&&(b=-b);var F=La(m,c.doc.direction);if(F){var de,G=b<0?yn(F):F[0],ee=b<0==(1==G.level)?"after":"before";if(G.level>0||"rtl"==c.doc.direction){var Se=El(c,m),Fe=Cs(c,Se,de=b<0?m.text.length-1:0).top;de=Sn(function(Ye){return Cs(c,Se,Ye).top==Fe},b<0==(1==G.level)?G.from:G.to-1,de),"before"==ee&&(de=tf(m,de,1))}else de=b<0?G.to:G.from;return new _t(v,de,ee)}}return new _t(v,b<0?m.text.length:0,b<0?"before":"after")}Lo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Lo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Lo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Lo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Lo.default=ue?Lo.macDefault:Lo.pcDefault;var nc={selectAll:Il,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Mt)},killLine:function(a){return Ss(a,function(c){if(c.empty()){var m=Cn(a.doc,c.head.line).text.length;return c.head.ch==m&&c.head.line<a.lastLine()?{from:c.head,to:_t(c.head.line+1,0)}:{from:c.head,to:_t(c.head.line,m)}}return{from:c.from(),to:c.to()}})},deleteLine:function(a){return Ss(a,function(c){return{from:_t(c.from().line,0),to:et(a.doc,_t(c.to().line+1,0))}})},delLineLeft:function(a){return Ss(a,function(c){return{from:_t(c.from().line,0),to:c.from()}})},delWrappedLineLeft:function(a){return Ss(a,function(c){var m=a.charCoords(c.head,"div").top+5;return{from:a.coordsChar({left:0,top:m},"div"),to:c.from()}})},delWrappedLineRight:function(a){return Ss(a,function(c){var m=a.charCoords(c.head,"div").top+5,v=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:m},"div");return{from:c.from(),to:v}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(_t(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(_t(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(c){return nd(a,c.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(c){return vo(a,c.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(c){return function rd(a,c){var m=Cn(a.doc,c),v=function Fa(a){for(var c;c=Ea(a);)a=c.find(1,!0).line;return a}(m);return v!=m&&(c=Ir(v)),Ll(!0,a,m,c,-1)}(a,c.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(c){var m=a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:m},"div")},jn)},goLineLeft:function(a){return a.extendSelectionsBy(function(c){var m=a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:0,top:m},"div")},jn)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(c){var m=a.cursorCoords(c.head,"div").top+5,v=a.coordsChar({left:0,top:m},"div");return v.ch<a.getLine(v.line).search(/\S/)?vo(a,c.head):v},jn)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},insertSoftTab:function(a){for(var c=[],m=a.listSelections(),v=a.options.tabSize,b=0;b<m.length;b++){var F=m[b].from(),G=ln(a.getLine(F.line),F.ch,v);c.push(pr(v-G%v))}a.replaceSelections(c)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return ta(a,function(){for(var c=a.listSelections(),m=[],v=0;v<c.length;v++)if(c[v].empty()){var b=c[v].head,F=Cn(a.doc,b.line).text;if(F)if(b.ch==F.length&&(b=new _t(b.line,b.ch-1)),b.ch>0)b=new _t(b.line,b.ch+1),a.replaceRange(F.charAt(b.ch-1)+F.charAt(b.ch-2),_t(b.line,b.ch-2),b,"+transpose");else if(b.line>a.doc.first){var G=Cn(a.doc,b.line-1).text;G&&(b=new _t(b.line,1),a.replaceRange(F.charAt(0)+a.doc.lineSeparator()+G.charAt(G.length-1),_t(b.line-1,G.length-1),b,"+transpose"))}m.push(new Hr(b,b))}a.setSelections(m)})},newlineAndIndent:function(a){return ta(a,function(){for(var c=a.listSelections(),m=c.length-1;m>=0;m--)a.replaceRange(a.doc.lineSeparator(),c[m].anchor,c[m].head,"+input");c=a.listSelections();for(var v=0;v<c.length;v++)a.indentLine(c[v].from().line,null,!0);Ha(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function nd(a,c){var m=Cn(a.doc,c),v=$n(m);return v!=m&&(c=Ir(v)),Ll(!0,a,v,c,1)}function vo(a,c){var m=nd(a,c.line),v=Cn(a.doc,m.line),b=La(v,a.doc.direction);if(!b||0==b[0].level){var F=Math.max(m.ch,v.text.search(/\S/));return _t(m.line,c.line==m.line&&c.ch<=F&&c.ch?0:F,m.sticky)}return m}function kl(a,c,m){if("string"==typeof c&&!(c=nc[c]))return!1;a.display.input.ensurePolled();var v=a.display.shift,b=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),m&&(a.display.shift=!1),b=c(a)!=Pt}finally{a.display.shift=v,a.state.suppressEdits=!1}return b}var mo=new it;function Wa(a,c,m,v){var b=a.state.keySeq;if(b){if(op(c))return"handled";if(/\'$/.test(c)?a.state.keySeq=null:mo.set(50,function(){a.state.keySeq==b&&(a.state.keySeq=null,a.display.input.reset())}),Lr(a,b+" "+c,m,v))return!0}return Lr(a,c,m,v)}function Lr(a,c,m,v){var b=function Sg(a,c,m){for(var v=0;v<a.state.keyMaps.length;v++){var b=Us(c,a.state.keyMaps[v],m,a);if(b)return b}return a.options.extraKeys&&Us(c,a.options.extraKeys,m,a)||Us(c,a.options.keyMap,m,a)}(a,c,v);return"multi"==b&&(a.state.keySeq=c),"handled"==b&&co(a,"keyHandled",a,c,m),("handled"==b||"multi"==b)&&(Ni(m),Jo(a)),!!b}function id(a,c){var m=ef(c,!0);return!!m&&(c.shiftKey&&!a.state.keySeq?Wa(a,"Shift-"+m,c,function(v){return kl(a,v,!0)})||Wa(a,m,c,function(v){if("string"==typeof v?/^go[A-Z]/.test(v):v.motion)return kl(a,v)}):Wa(a,m,c,function(v){return kl(a,v)}))}var yo=null;function od(a){var c=this;if(!(a.target&&a.target!=c.display.input.getField()||(c.curOp.focus=lt(Zt(c)),Ui(c,a)))){C&&S<11&&27==a.keyCode&&(a.returnValue=!1);var m=a.keyCode;c.display.shift=16==m||a.shiftKey;var v=id(c,a);B&&(yo=v?m:null,!v&&88==m&&!qo&&(ue?a.metaKey:a.ctrlKey)&&c.replaceSelection("",null,"cut")),_&&!ue&&!v&&46==m&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==m&&!/\bCodeMirror-crosshair\b/.test(c.display.lineDiv.className)&&function Go(a){var c=a.display.lineDiv;function m(v){(18==v.keyCode||!v.altKey)&&(me(c,"CodeMirror-crosshair"),ao(document,"keyup",m),ao(document,"mouseover",m))}Ke(c,"CodeMirror-crosshair"),bn(document,"keyup",m),bn(document,"mouseover",m)}(c)}}function ko(a){16==a.keyCode&&(this.doc.sel.shift=!1),Ui(this,a)}function ad(a){var c=this;if(!(a.target&&a.target!=c.display.input.getField()||qs(c.display,a)||Ui(c,a)||a.ctrlKey&&!a.altKey||ue&&a.metaKey)){var m=a.keyCode,v=a.charCode;if(B&&m==yo)return yo=null,void Ni(a);if(!B||a.which&&!(a.which<10)||!id(c,a)){var b=String.fromCharCode(v??m);"\b"!=b&&(function nh(a,c,m){return Wa(a,"'"+m+"'",c,function(v){return kl(a,v,!0)})}(c,a,b)||c.display.input.onKeyPress(a))}}}var as,ss,al=function(a,c,m){this.time=a,this.pos=c,this.button=m};function nf(a){var c=this,m=c.display;if(!(Ui(c,a)||m.activeTouch&&m.input.supportsTouch())){if(m.input.ensurePolled(),m.shift=a.shiftKey,qs(m,a))return void(R||(m.scroller.draggable=!1,setTimeout(function(){return m.scroller.draggable=!0},100)));if(!rf(c,a)){var v=Li(c,a),b=Dc(a),F=v?function au(a,c){var m=+new Date;return ss&&ss.compare(m,a,c)?(as=ss=null,"triple"):as&&as.compare(m,a,c)?(ss=new al(m,a,c),as=null,"double"):(as=new al(m,a,c),ss=null,"single")}(v,b):"single";Vt(c).focus(),1==b&&c.state.selectingText&&c.state.selectingText(a),(!v||!function sp(a,c,m,v,b){var F="Click";return"double"==v?F="Double"+F:"triple"==v&&(F="Triple"+F),Wa(a,ed(F=(1==c?"Left":2==c?"Middle":"Right")+F,b),b,function(G){if("string"==typeof G&&(G=nc[G]),!G)return!1;var K=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),K=G(a,m)!=Pt}finally{a.state.suppressEdits=!1}return K})}(c,b,v,F,a))&&(1==b?v?function lp(a,c,m,v){C?setTimeout(Ft(Gu,a),0):a.curOp.focus=lt(Zt(a));var G,b=function su(a,c,m){var v=a.getOption("configureMouse"),b=v?v(a,c,m):{};return null==b.unit&&(b.unit=(ge?m.shiftKey&&m.metaKey:m.altKey)?"rectangle":"single"==c?"char":"double"==c?"word":"line"),(null==b.extend||a.doc.extend)&&(b.extend=a.doc.extend||m.shiftKey),null==b.addNew&&(b.addNew=ue?m.metaKey:m.ctrlKey),null==b.moveOnDrag&&(b.moveOnDrag=!(ue?m.altKey:m.ctrlKey)),b}(a,m,v),F=a.doc.sel;a.options.dragDrop&&Ka&&!a.isReadOnly()&&"single"==m&&(G=F.contains(c))>-1&&(Vn((G=F.ranges[G]).from(),c)<0||c.xRel>0)&&(Vn(G.to(),c)>0||c.xRel<0)?function lu(a,c,m,v){var b=a.display,F=!1,G=po(a,function(de){R&&(b.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:ho(a)),ao(b.wrapper.ownerDocument,"mouseup",G),ao(b.wrapper.ownerDocument,"mousemove",K),ao(b.scroller,"dragstart",ee),ao(b.scroller,"drop",G),F||(Ni(de),v.addNew||jc(a.doc,m,null,null,v.extend),R&&!U||C&&9==S?setTimeout(function(){b.wrapper.ownerDocument.body.focus({preventScroll:!0}),b.input.focus()},20):b.input.focus())}),K=function(de){F=F||Math.abs(c.clientX-de.clientX)+Math.abs(c.clientY-de.clientY)>=10},ee=function(){return F=!0};R&&(b.scroller.draggable=!0),a.state.draggingText=G,G.copy=!v.moveOnDrag,bn(b.wrapper.ownerDocument,"mouseup",G),bn(b.wrapper.ownerDocument,"mousemove",K),bn(b.scroller,"dragstart",ee),bn(b.scroller,"drop",G),a.state.delayingBlurEvent=!0,setTimeout(function(){return b.input.focus()},20),b.scroller.dragDrop&&b.scroller.dragDrop()}(a,v,c,b):function up(a,c,m,v){C&&ho(a);var b=a.display,F=a.doc;Ni(c);var G,K,ee=F.sel,de=ee.ranges;if(v.addNew&&!v.extend?(K=F.sel.contains(m),G=K>-1?de[K]:new Hr(m,m)):(G=F.sel.primary(),K=F.sel.primIndex),"rectangle"==v.unit)v.addNew||(G=new Hr(m,m)),m=Li(a,c,!0,!0),K=-1;else{var Se=rc(a,m,v.unit);G=v.extend?Qd(G,Se.anchor,Se.head,v.extend):Se}v.addNew?-1==K?(K=de.length,go(F,na(a,de.concat([G]),K),{scroll:!1,origin:"*mouse"})):de.length>1&&de[K].empty()&&"char"==v.unit&&!v.extend?(go(F,na(a,de.slice(0,K).concat(de.slice(K+1)),0),{scroll:!1,origin:"*mouse"}),ee=F.sel):qf(F,K,G,zn):(K=0,go(F,new ua([G],0),zn),ee=F.sel);var Fe=m;function Ye(Kt){if(0!=Vn(Fe,Kt))if(Fe=Kt,"rectangle"==v.unit){for(var Xt=[],Tn=a.options.tabSize,wn=ln(Cn(F,m.line).text,m.ch,Tn),Yn=ln(Cn(F,Kt.line).text,Kt.ch,Tn),or=Math.min(wn,Yn),Ci=Math.max(wn,Yn),pi=Math.min(m.line,Kt.line),Po=Math.min(a.lastLine(),Math.max(m.line,Kt.line));pi<=Po;pi++){var Bi=Cn(F,pi).text,xi=yr(Bi,or,Tn);or==Ci?Xt.push(new Hr(_t(pi,xi),_t(pi,xi))):Bi.length>xi&&Xt.push(new Hr(_t(pi,xi),_t(pi,yr(Bi,Ci,Tn))))}Xt.length||Xt.push(new Hr(m,m)),go(F,na(a,ee.ranges.slice(0,K).concat(Xt),K),{origin:"*mouse",scroll:!1}),a.scrollIntoView(Kt)}else{var kr,ia=G,Fo=rc(a,Kt,v.unit),bo=ia.anchor;Vn(Fo.anchor,bo)>0?(kr=Fo.head,bo=Le(ia.from(),Fo.anchor)):(kr=Fo.anchor,bo=Oe(ia.to(),Fo.head));var gi=ee.ranges.slice(0);gi[K]=function cm(a,c){var m=c.anchor,v=c.head,b=Cn(a.doc,m.line);if(0==Vn(m,v)&&m.sticky==v.sticky)return c;var F=La(b);if(!F)return c;var G=Ho(F,m.ch,m.sticky),K=F[G];if(K.from!=m.ch&&K.to!=m.ch)return c;var de,ee=G+(K.from==m.ch==(1!=K.level)?0:1);if(0==ee||ee==F.length)return c;if(v.line!=m.line)de=(v.line-m.line)*("ltr"==a.doc.direction?1:-1)>0;else{var Se=Ho(F,v.ch,v.sticky),Fe=Se-G||(v.ch-m.ch)*(1==K.level?-1:1);de=Se==ee-1||Se==ee?Fe<0:Fe>0}var Ye=F[ee+(de?-1:0)],We=de==(1==Ye.level),ct=We?Ye.from:Ye.to,bt=We?"after":"before";return m.ch==ct&&m.sticky==bt?c:new Hr(new _t(m.line,ct,bt),v)}(a,new Hr(et(F,bo),kr)),go(F,na(a,gi,K),zn)}}var We=b.wrapper.getBoundingClientRect(),ct=0;function bt(Kt){var Xt=++ct,Tn=Li(a,Kt,!0,"rectangle"==v.unit);if(Tn)if(0!=Vn(Tn,Fe)){a.curOp.focus=lt(Zt(a)),Ye(Tn);var wn=Gn(b,F);(Tn.line>=wn.to||Tn.line<wn.from)&&setTimeout(po(a,function(){ct==Xt&&bt(Kt)}),150)}else{var Yn=Kt.clientY<We.top?-20:Kt.clientY>We.bottom?20:0;Yn&&setTimeout(po(a,function(){ct==Xt&&(b.scroller.scrollTop+=Yn,bt(Kt))}),50)}}function zt(Kt){a.state.selectingText=!1,ct=1/0,Kt&&(Ni(Kt),b.input.focus()),ao(b.wrapper.ownerDocument,"mousemove",Wt),ao(b.wrapper.ownerDocument,"mouseup",Qt),F.history.lastSelOrigin=null}var Wt=po(a,function(Kt){0!==Kt.buttons&&Dc(Kt)?bt(Kt):zt(Kt)}),Qt=po(a,zt);a.state.selectingText=Qt,bn(b.wrapper.ownerDocument,"mousemove",Wt),bn(b.wrapper.ownerDocument,"mouseup",Qt)}(a,v,c,b)}(c,v,F,a):Ls(a)==m.scroller&&Ni(a):2==b?(v&&jc(c.doc,v),setTimeout(function(){return m.input.focus()},20)):3==b&&(se?c.display.input.onContextMenu(a):ho(c)))}}}function rc(a,c,m){if("char"==m)return new Hr(c,c);if("word"==m)return a.findWordAt(c);if("line"==m)return new Hr(_t(c.line,0),et(a.doc,_t(c.line+1,0)));var v=m(a,c);return new Hr(v.from,v.to)}function sd(a,c,m,v){var b,F;if(c.touches)b=c.touches[0].clientX,F=c.touches[0].clientY;else try{b=c.clientX,F=c.clientY}catch{return!1}if(b>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;v&&Ni(c);var G=a.display,K=G.lineDiv.getBoundingClientRect();if(F>K.bottom||!yi(a,m))return Ec(c);F-=K.top-G.viewOffset;for(var ee=0;ee<a.display.gutterSpecs.length;++ee){var de=G.gutters.childNodes[ee];if(de&&de.getBoundingClientRect().right>=b)return ii(a,m,a,zi(a.doc,F),a.display.gutterSpecs[ee].className,c),Ec(c)}}function rf(a,c){return sd(a,c,"gutterClick",!0)}function cp(a,c){qs(a.display,c)||function af(a,c){return!!yi(a,"gutterContextMenu")&&sd(a,c,"gutterContextMenu",!1)}(a,c)||Ui(a,c,"contextmenu")||se||a.display.input.onContextMenu(c)}function _g(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Sl(a)}al.prototype.compare=function(a,c,m){return this.time+400>a&&0==Vn(c,this.pos)&&m==this.button};var ld={toString:function(){return"CodeMirror.Init"}},rh={},uu={};function ud(a,c,m){if(!c!=!(m&&m!=ld)){var b=a.display.dragFunctions,F=c?bn:ao;F(a.display.scroller,"dragstart",b.start),F(a.display.scroller,"dragenter",b.enter),F(a.display.scroller,"dragover",b.over),F(a.display.scroller,"dragleave",b.leave),F(a.display.scroller,"drop",b.drop)}}function ih(a){a.options.lineWrapping?(Ke(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(me(a.display.wrapper,"CodeMirror-wrap"),Yl(a)),Or(a),qi(a),Sl(a),setTimeout(function(){return nl(a)},100)}function Kr(a,c){var m=this;if(!(this instanceof Kr))return new Kr(a,c);this.options=c=c?gn(c):{},gn(rh,c,!1);var v=c.value;"string"==typeof v?v=new nr(v,c.mode,null,c.lineSeparator,c.direction):c.mode&&(v.modeOption=c.mode),this.doc=v;var b=new Kr.inputStyles[c.inputStyle](this),F=this.display=new Yf(a,v,b,c);for(var G in F.wrapper.CodeMirror=this,_g(this),c.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),eu(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new it,keySeq:null,specialChars:null},c.autofocus&&!ce&&F.input.focus(),C&&S<11&&setTimeout(function(){return m.display.input.reset(!0)},20),function dm(a){var c=a.display;bn(c.scroller,"mousedown",po(a,nf)),bn(c.scroller,"dblclick",C&&S<11?po(a,function(ee){if(!Ui(a,ee)){var de=Li(a,ee);if(de&&!rf(a,ee)&&!qs(a.display,ee)){Ni(ee);var Se=a.findWordAt(de);jc(a.doc,Se.anchor,Se.head)}}}):function(ee){return Ui(a,ee)||Ni(ee)}),bn(c.scroller,"contextmenu",function(ee){return cp(a,ee)}),bn(c.input.getField(),"contextmenu",function(ee){c.scroller.contains(ee.target)||cp(a,ee)});var m,v={end:0};function b(){c.activeTouch&&(m=setTimeout(function(){return c.activeTouch=null},1e3),(v=c.activeTouch).end=+new Date)}function F(ee){if(1!=ee.touches.length)return!1;var de=ee.touches[0];return de.radiusX<=1&&de.radiusY<=1}function G(ee,de){if(null==de.left)return!0;var Se=de.left-ee.left,Fe=de.top-ee.top;return Se*Se+Fe*Fe>400}bn(c.scroller,"touchstart",function(ee){if(!Ui(a,ee)&&!F(ee)&&!rf(a,ee)){c.input.ensurePolled(),clearTimeout(m);var de=+new Date;c.activeTouch={start:de,moved:!1,prev:de-v.end<=300?v:null},1==ee.touches.length&&(c.activeTouch.left=ee.touches[0].pageX,c.activeTouch.top=ee.touches[0].pageY)}}),bn(c.scroller,"touchmove",function(){c.activeTouch&&(c.activeTouch.moved=!0)}),bn(c.scroller,"touchend",function(ee){var de=c.activeTouch;if(de&&!qs(c,ee)&&null!=de.left&&!de.moved&&new Date-de.start<300){var Fe,Se=a.coordsChar(c.activeTouch,"page");Fe=!de.prev||G(de,de.prev)?new Hr(Se,Se):!de.prev.prev||G(de,de.prev.prev)?a.findWordAt(Se):new Hr(_t(Se.line,0),et(a.doc,_t(Se.line+1,0))),a.setSelection(Fe.anchor,Fe.head),a.focus(),Ni(ee)}b()}),bn(c.scroller,"touchcancel",b),bn(c.scroller,"scroll",function(){c.scroller.clientHeight&&(tr(a,c.scroller.scrollTop),Ua(a,c.scroller.scrollLeft,!0),ii(a,"scroll",a))}),bn(c.scroller,"mousewheel",function(ee){return Uc(a,ee)}),bn(c.scroller,"DOMMouseScroll",function(ee){return Uc(a,ee)}),bn(c.wrapper,"scroll",function(){return c.wrapper.scrollTop=c.wrapper.scrollLeft=0}),c.dragFunctions={enter:function(ee){Ui(a,ee)||ka(ee)},over:function(ee){Ui(a,ee)||(function Ju(a,c){var m=Li(a,c);if(m){var v=document.createDocumentFragment();dn(a,m,v),a.display.dragCursor||(a.display.dragCursor=_e("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),Me(a.display.dragCursor,v)}}(a,ee),ka(ee))},start:function(ee){return function th(a,c){if(C&&(!a.state.draggingText||+new Date-da<100))ka(c);else if(!Ui(a,c)&&!qs(a.display,c)&&(c.dataTransfer.setData("Text",a.getSelection()),c.dataTransfer.effectAllowed="copyMove",c.dataTransfer.setDragImage&&!U)){var m=_e("img",null,null,"position: fixed; left: 0; top: 0;");m.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",B&&(m.width=m.height=1,a.display.wrapper.appendChild(m),m._top=m.offsetTop),c.dataTransfer.setDragImage(m,0,0),B&&m.parentNode.removeChild(m)}}(a,ee)},drop:po(a,Ro),leave:function(ee){Ui(a,ee)||os(a)}};var K=c.input.getField();bn(K,"keyup",function(ee){return ko.call(a,ee)}),bn(K,"keydown",po(a,od)),bn(K,"keypress",po(a,ad)),bn(K,"focus",function(ee){return el(a,ee)}),bn(K,"blur",function(ee){return si(a,ee)})}(this),ui(),Xr(this),this.curOp.forceUpdate=!0,Yu(this,v),c.autofocus&&!ce||this.hasFocus()?setTimeout(function(){m.hasFocus()&&!m.state.focused&&el(m)},20):si(this),uu)uu.hasOwnProperty(G)&&uu[G](this,c[G],ld);bg(this),c.finishInit&&c.finishInit(this);for(var K=0;K<cd.length;++K)cd[K](this);_l(this),R&&c.lineWrapping&&"optimizelegibility"==getComputedStyle(F.lineDiv).textRendering&&(F.lineDiv.style.textRendering="auto")}Kr.defaults=rh,Kr.optionHandlers=uu;var cd=[];function ic(a,c,m,v){var F,b=a.doc;null==m&&(m="add"),"smart"==m&&(b.mode.indent?F=Bt(a,c).state:m="prev");var G=a.options.tabSize,K=Cn(b,c),ee=ln(K.text,null,G);K.stateAfter&&(K.stateAfter=null);var Se,de=K.text.match(/^\s*/)[0];if(v||/\S/.test(K.text)){if("smart"==m&&((Se=b.mode.indent(F,K.text.slice(de.length),K.text))==Pt||Se>150)){if(!v)return;m="prev"}}else Se=0,m="not";"prev"==m?Se=c>b.first?ln(Cn(b,c-1).text,null,G):0:"add"==m?Se=ee+a.options.indentUnit:"subtract"==m?Se=ee-a.options.indentUnit:"number"==typeof m&&(Se=ee+m),Se=Math.max(0,Se);var Fe="",Ye=0;if(a.options.indentWithTabs)for(var We=Math.floor(Se/G);We;--We)Ye+=G,Fe+="\t";if(Ye<Se&&(Fe+=pr(Se-Ye)),Fe!=de)return Al(b,Fe,_t(c,0),_t(c,de.length),"+input"),K.stateAfter=null,!0;for(var ct=0;ct<b.sel.ranges.length;ct++){var bt=b.sel.ranges[ct];if(bt.head.line==c&&bt.head.ch<de.length){var zt=_t(c,de.length);qf(b,ct,new Hr(zt,zt));break}}}Kr.defineInitHook=function(a){return cd.push(a)};var _s=null;function ra(a){_s=a}function oh(a,c,m,v,b){var F=a.doc;a.display.shift=!1,v||(v=F.sel);var G=+new Date-200,K="paste"==b||a.state.pasteIncoming>G,ee=$l(c),de=null;if(K&&v.ranges.length>1)if(_s&&_s.text.join("\n")==c){if(v.ranges.length%_s.text.length==0){de=[];for(var Se=0;Se<_s.text.length;Se++)de.push(F.splitLines(_s.text[Se]))}}else ee.length==v.ranges.length&&a.options.pasteLinesPerSelection&&(de=On(ee,function(Wt){return[Wt]}));for(var Fe=a.curOp.updateInput,Ye=v.ranges.length-1;Ye>=0;Ye--){var We=v.ranges[Ye],ct=We.from(),bt=We.to();We.empty()&&(m&&m>0?ct=_t(ct.line,ct.ch-m):a.state.overwrite&&!K?bt=_t(bt.line,Math.min(Cn(F,bt.line).text.length,bt.ch+yn(ee).length)):K&&_s&&_s.lineWise&&_s.text.join("\n")==ee.join("\n")&&(ct=bt=_t(ct.line,0)));var zt={from:ct,to:bt,text:de?de[Ye%de.length]:ee,origin:b||(K?"paste":a.state.cutIncoming>G?"cut":"+input")};Zu(a.doc,zt),co(a,"inputRead",a,zt)}c&&!K&&sf(a,c),Ha(a),a.curOp.updateInput<2&&(a.curOp.updateInput=Fe),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function dd(a,c){var m=a.clipboardData&&a.clipboardData.getData("Text");if(m)return a.preventDefault(),!c.isReadOnly()&&!c.options.disableInput&&c.hasFocus()&&ta(c,function(){return oh(c,m,0,null,"paste")}),!0}function sf(a,c){if(a.options.electricChars&&a.options.smartIndent)for(var m=a.doc.sel,v=m.ranges.length-1;v>=0;v--){var b=m.ranges[v];if(!(b.head.ch>100||v&&m.ranges[v-1].head.line==b.head.line)){var F=a.getModeAt(b.head),G=!1;if(F.electricChars){for(var K=0;K<F.electricChars.length;K++)if(c.indexOf(F.electricChars.charAt(K))>-1){G=ic(a,b.head.line,"smart");break}}else F.electricInput&&F.electricInput.test(Cn(a.doc,b.head.line).text.slice(0,b.head.ch))&&(G=ic(a,b.head.line,"smart"));G&&co(a,"electricInput",a,b.head.line)}}}function ah(a){for(var c=[],m=[],v=0;v<a.doc.sel.ranges.length;v++){var b=a.doc.sel.ranges[v].head.line,F={anchor:_t(b,0),head:_t(b+1,0)};m.push(F),c.push(a.getRange(F.anchor,F.head))}return{text:c,ranges:m}}function fd(a,c,m,v){a.setAttribute("autocorrect",m?"on":"off"),a.setAttribute("autocapitalize",v?"on":"off"),a.setAttribute("spellcheck",!!c)}function lf(){var a=_e("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),c=_e("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return R?a.style.width="1000px":a.setAttribute("wrap","off"),fe&&(a.style.border="1px solid black"),c}function uf(a,c,m,v,b){var F=c,G=m,K=Cn(a,c.line),ee=b&&"rtl"==a.direction?-m:m;function Se(Qt){var Kt;if("codepoint"==v){var Xt=K.text.charCodeAt(c.ch+(m>0?0:-1));Kt=isNaN(Xt)?null:new _t(c.line,Math.max(0,Math.min(K.text.length,c.ch+m*((m>0?Xt>=55296&&Xt<56320:Xt>=56320&&Xt<57343)?2:1))),-m)}else Kt=b?function ap(a,c,m,v){var b=La(c,a.doc.direction);if(!b)return tc(c,m,v);m.ch>=c.text.length?(m.ch=c.text.length,m.sticky="before"):m.ch<=0&&(m.ch=0,m.sticky="after");var F=Ho(b,m.ch,m.sticky),G=b[F];if("ltr"==a.doc.direction&&G.level%2==0&&(v>0?G.to>m.ch:G.from<m.ch))return tc(c,m,v);var ee,K=function(Wt,Qt){return tf(c,Wt instanceof _t?Wt.ch:Wt,Qt)},de=function(Wt){return a.options.lineWrapping?(ee=ee||El(a,c),Kh(a,c,ee,Wt)):{begin:0,end:c.text.length}},Se=de("before"==m.sticky?K(m,-1):m.ch);if("rtl"==a.doc.direction||1==G.level){var Fe=1==G.level==v<0,Ye=K(m,Fe?1:-1);if(null!=Ye&&(Fe?Ye<=G.to&&Ye<=Se.end:Ye>=G.from&&Ye>=Se.begin))return new _t(m.line,Ye,Fe?"before":"after")}var ct=function(Wt,Qt,Kt){for(;Wt>=0&&Wt<b.length;Wt+=Qt){var Tn=b[Wt],wn=Qt>0==(1!=Tn.level),Yn=wn?Kt.begin:K(Kt.end,-1);if(Tn.from<=Yn&&Yn<Tn.to||(Yn=wn?Tn.from:K(Tn.to,-1),Kt.begin<=Yn&&Yn<Kt.end))return or=Yn,wn?new _t(m.line,K(or,1),"before"):new _t(m.line,or,"after")}var or},bt=ct(F+v,v,Se);if(bt)return bt;var zt=v>0?Se.end:K(Se.begin,-1);return null==zt||v>0&&zt==c.text.length||!(bt=ct(v>0?0:b.length-1,v,de(zt)))?null:bt}(a.cm,K,c,m):tc(K,c,m);if(null==Kt){if(Qt||!function de(){var Qt=c.line+ee;return!(Qt<a.first||Qt>=a.first+a.size)&&(c=new _t(Qt,c.ch,c.sticky),K=Cn(a,Qt))}())return!1;c=Ll(b,a.cm,K,c.line,ee)}else c=Kt;return!0}if("char"==v||"codepoint"==v)Se();else if("column"==v)Se(!0);else if("word"==v||"group"==v)for(var Fe=null,Ye="group"==v,We=a.cm&&a.cm.getHelper(c,"wordChars"),ct=!0;!(m<0)||Se(!ct);ct=!1){var bt=K.text.charAt(c.ch)||"\n",zt=Ai(bt,We)?"w":Ye&&"\n"==bt?"n":!Ye||/\s/.test(bt)?null:"p";if(Ye&&!ct&&!zt&&(zt="s"),Fe&&Fe!=zt){m<0&&(m=1,Se(),c.sticky="after");break}if(zt&&(Fe=zt),m>0&&!Se(!ct))break}var Wt=Es(a,c,F,G,!0);return Ic(F,Wt)&&(Wt.hitSide=!0),Wt}function cf(a,c,m,v){var G,de,b=a.doc,F=c.left;if("page"==v){var K=Math.min(a.display.wrapper.clientHeight,Vt(a).innerHeight||b(a).documentElement.clientHeight),ee=Math.max(K-.5*fi(a.display),3);G=(m>0?c.bottom:c.top)+m*ee}else"line"==v&&(G=m>0?c.bottom+3:c.top-3);for(;(de=Gd(a,F,G)).outside;){if(m<0?G<=0:G>=b.height){de.hitSide=!0;break}G+=5*m}return de}var zr=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new it,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function hd(a,c){var m=xl(a,c.line);if(!m||m.hidden)return null;var v=Cn(a.doc,c.line),b=Hd(m,v,c.line),F=La(v,a.doc.direction),G="left";F&&(G=Ho(F,c.ch)%2?"right":"left");var ee=Zl(b.map,c.ch,G);return ee.offset="right"==ee.collapse?ee.end:ee.start,ee}function zs(a,c){return c&&(a.bad=!0),a}function pd(a,c,m){var v;if(c==a.display.lineDiv){if(!(v=a.display.lineDiv.childNodes[m]))return zs(a.clipPos(_t(a.display.viewTo-1)),!0);c=null,m=0}else for(v=c;;v=v.parentNode){if(!v||v==a.display.lineDiv)return null;if(v.parentNode&&v.parentNode==a.display.lineDiv)break}for(var b=0;b<a.display.view.length;b++){var F=a.display.view[b];if(F.node==v)return fp(F,c,m)}}function fp(a,c,m){var v=a.text.firstChild,b=!1;if(!c||!nt(v,c))return zs(_t(Ir(a.line),0),!0);if(c==v&&(b=!0,c=v.childNodes[m],m=0,!c)){var F=a.rest?yn(a.rest):a.line;return zs(_t(Ir(F),F.text.length),b)}var G=3==c.nodeType?c:null,K=c;for(!G&&1==c.childNodes.length&&3==c.firstChild.nodeType&&(G=c.firstChild,m&&(m=G.nodeValue.length));K.parentNode!=v;)K=K.parentNode;var ee=a.measure,de=ee.maps;function Se(zt,Wt,Qt){for(var Kt=-1;Kt<(de?de.length:0);Kt++)for(var Xt=Kt<0?ee.map:de[Kt],Tn=0;Tn<Xt.length;Tn+=3){var wn=Xt[Tn+2];if(wn==zt||wn==Wt){var Yn=Ir(Kt<0?a.line:a.rest[Kt]),or=Xt[Tn]+Qt;return(Qt<0||wn!=zt)&&(or=Xt[Tn+(Qt?1:0)]),_t(Yn,or)}}}var Fe=Se(G,K,m);if(Fe)return zs(Fe,b);for(var Ye=K.nextSibling,We=G?G.nodeValue.length-m:0;Ye;Ye=Ye.nextSibling){if(Fe=Se(Ye,Ye.firstChild,0))return zs(_t(Fe.line,Fe.ch-We),b);We+=Ye.textContent.length}for(var ct=K.previousSibling,bt=m;ct;ct=ct.previousSibling){if(Fe=Se(ct,ct.firstChild,-1))return zs(_t(Fe.line,Fe.ch+bt),b);bt+=ct.textContent.length}}zr.prototype.init=function(a){var c=this,m=this,v=m.cm,b=m.div=a.lineDiv;function F(K){for(var ee=K.target;ee;ee=ee.parentNode){if(ee==b)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ee.className))break}return!1}function G(K){if(F(K)&&!Ui(v,K)){if(v.somethingSelected())ra({lineWise:!1,text:v.getSelections()}),"cut"==K.type&&v.replaceSelection("",null,"cut");else{if(!v.options.lineWiseCopyCut)return;var ee=ah(v);ra({lineWise:!0,text:ee.text}),"cut"==K.type&&v.operation(function(){v.setSelections(ee.ranges,0,Mt),v.replaceSelection("",null,"cut")})}if(K.clipboardData){K.clipboardData.clearData();var de=_s.text.join("\n");if(K.clipboardData.setData("Text",de),K.clipboardData.getData("Text")==de)return void K.preventDefault()}var Se=lf(),Fe=Se.firstChild;fd(Fe),v.display.lineSpace.insertBefore(Se,v.display.lineSpace.firstChild),Fe.value=_s.text.join("\n");var Ye=lt(b.ownerDocument);Xe(Fe),setTimeout(function(){v.display.lineSpace.removeChild(Se),Ye.focus(),Ye==b&&m.showPrimarySelection()},50)}}b.contentEditable=!0,fd(b,v.options.spellcheck,v.options.autocorrect,v.options.autocapitalize),bn(b,"paste",function(K){!F(K)||Ui(v,K)||dd(K,v)||S<=11&&setTimeout(po(v,function(){return c.updateFromDOM()}),20)}),bn(b,"compositionstart",function(K){c.composing={data:K.data,done:!1}}),bn(b,"compositionupdate",function(K){c.composing||(c.composing={data:K.data,done:!1})}),bn(b,"compositionend",function(K){c.composing&&(K.data!=c.composing.data&&c.readFromDOMSoon(),c.composing.done=!0)}),bn(b,"touchstart",function(){return m.forceCompositionEnd()}),bn(b,"input",function(){c.composing||c.readFromDOMSoon()}),bn(b,"copy",G),bn(b,"cut",G)},zr.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},zr.prototype.prepareSelection=function(){var a=Ji(this.cm,!1);return a.focus=lt(this.div.ownerDocument)==this.div,a},zr.prototype.showSelection=function(a,c){!a||!this.cm.display.view.length||((a.focus||c)&&this.showPrimarySelection(),this.showMultipleSelections(a))},zr.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},zr.prototype.showPrimarySelection=function(){var a=this.getSelection(),c=this.cm,m=c.doc.sel.primary(),v=m.from(),b=m.to();if(c.display.viewTo==c.display.viewFrom||v.line>=c.display.viewTo||b.line<c.display.viewFrom)a.removeAllRanges();else{var F=pd(c,a.anchorNode,a.anchorOffset),G=pd(c,a.focusNode,a.focusOffset);if(!F||F.bad||!G||G.bad||0!=Vn(Le(F,G),v)||0!=Vn(Oe(F,G),b)){var K=c.display.view,ee=v.line>=c.display.viewFrom&&hd(c,v)||{node:K[0].measure.map[2],offset:0},de=b.line<c.display.viewTo&&hd(c,b);if(!de){var Se=K[K.length-1].measure,Fe=Se.maps?Se.maps[Se.maps.length-1]:Se.map;de={node:Fe[Fe.length-1],offset:Fe[Fe.length-2]-Fe[Fe.length-3]}}if(!ee||!de)return void a.removeAllRanges();var We,Ye=a.rangeCount&&a.getRangeAt(0);try{We=Be(ee.node,ee.offset,de.offset,de.node)}catch{}We&&(!_&&c.state.focused?(a.collapse(ee.node,ee.offset),We.collapsed||(a.removeAllRanges(),a.addRange(We))):(a.removeAllRanges(),a.addRange(We)),Ye&&null==a.anchorNode?a.addRange(Ye):_&&this.startGracePeriod()),this.rememberSelection()}}},zr.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},zr.prototype.showMultipleSelections=function(a){Me(this.cm.display.cursorDiv,a.cursors),Me(this.cm.display.selectionDiv,a.selection)},zr.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},zr.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var c=a.getRangeAt(0).commonAncestorContainer;return nt(this.div,c)},zr.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||lt(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},zr.prototype.blur=function(){this.div.blur()},zr.prototype.getField=function(){return this.div},zr.prototype.supportsTouch=function(){return!0},zr.prototype.receivedFocus=function(){var a=this,c=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):ta(this.cm,function(){return c.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function m(){c.cm.state.focused&&(c.pollSelection(),c.polling.set(c.cm.options.pollInterval,m))})},zr.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},zr.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=this.getSelection(),c=this.cm;if(ie&&V&&this.cm.display.gutterSpecs.length&&function Tg(a){for(var c=a;c;c=c.parentNode)if(/CodeMirror-gutter-wrapper/.test(c.className))return!0;return!1}(a.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var m=pd(c,a.anchorNode,a.anchorOffset),v=pd(c,a.focusNode,a.focusOffset);m&&v&&ta(c,function(){go(c.doc,ca(m,v),Mt),(m.bad||v.bad)&&(c.curOp.selectionChanged=!0)})}}},zr.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var F,G,K,a=this.cm,c=a.display,m=a.doc.sel.primary(),v=m.from(),b=m.to();if(0==v.ch&&v.line>a.firstLine()&&(v=_t(v.line-1,Cn(a.doc,v.line-1).length)),b.ch==Cn(a.doc,b.line).text.length&&b.line<a.lastLine()&&(b=_t(b.line+1,0)),v.line<c.viewFrom||b.line>c.viewTo-1)return!1;v.line==c.viewFrom||0==(F=Zi(a,v.line))?(G=Ir(c.view[0].line),K=c.view[0].node):(G=Ir(c.view[F].line),K=c.view[F-1].node.nextSibling);var de,Se,ee=Zi(a,b.line);if(ee==c.view.length-1?(de=c.viewTo-1,Se=c.lineDiv.lastChild):(de=Ir(c.view[ee+1].line)-1,Se=c.view[ee+1].node.previousSibling),!K)return!1;for(var Fe=a.doc.splitLines(function cu(a,c,m,v,b){var F="",G=!1,K=a.doc.lineSeparator(),ee=!1;function Se(){G&&(F+=K,ee&&(F+=K),G=ee=!1)}function Fe(We){We&&(Se(),F+=We)}function Ye(We){if(1==We.nodeType){var ct=We.getAttribute("cm-text");if(ct)return void Fe(ct);var zt,bt=We.getAttribute("cm-marker");if(bt){var Wt=a.findMarks(_t(v,0),_t(b+1,0),function de(We){return function(ct){return ct.id==We}}(+bt));return void(Wt.length&&(zt=Wt[0].find(0))&&Fe(qr(a.doc,zt.from,zt.to).join(K)))}if("false"==We.getAttribute("contenteditable"))return;var Qt=/^(pre|div|p|li|table|br)$/i.test(We.nodeName);if(!/^br$/i.test(We.nodeName)&&0==We.textContent.length)return;Qt&&Se();for(var Kt=0;Kt<We.childNodes.length;Kt++)Ye(We.childNodes[Kt]);/^(pre|p)$/i.test(We.nodeName)&&(ee=!0),Qt&&(G=!0)}else 3==We.nodeType&&Fe(We.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ye(c),c!=m;)c=c.nextSibling,ee=!1;return F}(a,K,Se,G,de)),Ye=qr(a.doc,_t(G,0),_t(de,Cn(a.doc,de).text.length));Fe.length>1&&Ye.length>1;)if(yn(Fe)==yn(Ye))Fe.pop(),Ye.pop(),de--;else{if(Fe[0]!=Ye[0])break;Fe.shift(),Ye.shift(),G++}for(var We=0,ct=0,bt=Fe[0],zt=Ye[0],Wt=Math.min(bt.length,zt.length);We<Wt&&bt.charCodeAt(We)==zt.charCodeAt(We);)++We;for(var Qt=yn(Fe),Kt=yn(Ye),Xt=Math.min(Qt.length-(1==Fe.length?We:0),Kt.length-(1==Ye.length?We:0));ct<Xt&&Qt.charCodeAt(Qt.length-ct-1)==Kt.charCodeAt(Kt.length-ct-1);)++ct;if(1==Fe.length&&1==Ye.length&&G==v.line)for(;We&&We>v.ch&&Qt.charCodeAt(Qt.length-ct-1)==Kt.charCodeAt(Kt.length-ct-1);)We--,ct++;Fe[Fe.length-1]=Qt.slice(0,Qt.length-ct).replace(/^\u200b+/,""),Fe[0]=Fe[0].slice(We).replace(/\u200b+$/,"");var Tn=_t(G,We),wn=_t(de,Ye.length?yn(Ye).length-ct:0);return Fe.length>1||Fe[0]||Vn(Tn,wn)?(Al(a.doc,Fe,Tn,wn,"+input"),!0):void 0},zr.prototype.ensurePolled=function(){this.forceCompositionEnd()},zr.prototype.reset=function(){this.forceCompositionEnd()},zr.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},zr.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing){if(!a.composing.done)return;a.composing=null}a.updateFromDOM()},80))},zr.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&ta(this.cm,function(){return qi(a.cm)})},zr.prototype.setUneditable=function(a){a.contentEditable="false"},zr.prototype.onKeyPress=function(a){0==a.charCode||this.composing||(a.preventDefault(),this.cm.isReadOnly()||po(this.cm,oh)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))},zr.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)},zr.prototype.onContextMenu=function(){},zr.prototype.resetPosition=function(){},zr.prototype.needsContentAttribute=!0;var wi=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new it,this.hasSelection=!1,this.composing=null,this.resetting=!1};wi.prototype.init=function(a){var c=this,m=this,v=this.cm;this.createField(a);var b=this.textarea;function F(G){if(!Ui(v,G)){if(v.somethingSelected())ra({lineWise:!1,text:v.getSelections()});else{if(!v.options.lineWiseCopyCut)return;var K=ah(v);ra({lineWise:!0,text:K.text}),"cut"==G.type?v.setSelections(K.ranges,null,Mt):(m.prevInput="",b.value=K.text.join("\n"),Xe(b))}"cut"==G.type&&(v.state.cutIncoming=+new Date)}}a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),fe&&(b.style.width="0px"),bn(b,"input",function(){C&&S>=9&&c.hasSelection&&(c.hasSelection=null),m.poll()}),bn(b,"paste",function(G){Ui(v,G)||dd(G,v)||(v.state.pasteIncoming=+new Date,m.fastPoll())}),bn(b,"cut",F),bn(b,"copy",F),bn(a.scroller,"paste",function(G){if(!qs(a,G)&&!Ui(v,G)){if(!b.dispatchEvent)return v.state.pasteIncoming=+new Date,void m.focus();var K=new Event("paste");K.clipboardData=G.clipboardData,b.dispatchEvent(K)}}),bn(a.lineSpace,"selectstart",function(G){qs(a,G)||Ni(G)}),bn(b,"compositionstart",function(){var G=v.getCursor("from");m.composing&&m.composing.range.clear(),m.composing={start:G,range:v.markText(G,v.getCursor("to"),{className:"CodeMirror-composing"})}}),bn(b,"compositionend",function(){m.composing&&(m.poll(),m.composing.range.clear(),m.composing=null)})},wi.prototype.createField=function(a){this.wrapper=lf(),this.textarea=this.wrapper.firstChild;var c=this.cm.options;fd(this.textarea,c.spellcheck,c.autocorrect,c.autocapitalize)},wi.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},wi.prototype.prepareSelection=function(){var a=this.cm,c=a.display,m=a.doc,v=Ji(a);if(a.options.moveInputWithCursor){var b=es(a,m.sel.primary().head,"div"),F=c.wrapper.getBoundingClientRect(),G=c.lineDiv.getBoundingClientRect();v.teTop=Math.max(0,Math.min(c.wrapper.clientHeight-10,b.top+G.top-F.top)),v.teLeft=Math.max(0,Math.min(c.wrapper.clientWidth-10,b.left+G.left-F.left))}return v},wi.prototype.showSelection=function(a){var m=this.cm.display;Me(m.cursorDiv,a.cursors),Me(m.selectionDiv,a.selection),null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},wi.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing&&a)){var c=this.cm;if(this.resetting=!0,c.somethingSelected()){this.prevInput="";var m=c.getSelection();this.textarea.value=m,c.state.focused&&Xe(this.textarea),C&&S>=9&&(this.hasSelection=m)}else a||(this.prevInput=this.textarea.value="",C&&S>=9&&(this.hasSelection=null));this.resetting=!1}},wi.prototype.getField=function(){return this.textarea},wi.prototype.supportsTouch=function(){return!1},wi.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!ce||lt(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},wi.prototype.blur=function(){this.textarea.blur()},wi.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},wi.prototype.receivedFocus=function(){this.slowPoll()},wi.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},wi.prototype.fastPoll=function(){var a=!1,c=this;c.pollingFast=!0,c.polling.set(20,function m(){c.poll()||a?(c.pollingFast=!1,c.slowPoll()):(a=!0,c.polling.set(60,m))})},wi.prototype.poll=function(){var a=this,c=this.cm,m=this.textarea,v=this.prevInput;if(this.contextMenuPending||this.resetting||!c.state.focused||Tu(m)&&!v&&!this.composing||c.isReadOnly()||c.options.disableInput||c.state.keySeq)return!1;var b=m.value;if(b==v&&!c.somethingSelected())return!1;if(C&&S>=9&&this.hasSelection===b||ue&&/[\uf700-\uf7ff]/.test(b))return c.display.input.reset(),!1;if(c.doc.sel==c.display.selForContextMenu){var F=b.charCodeAt(0);if(8203==F&&!v&&(v="\u200b"),8666==F)return this.reset(),this.cm.execCommand("undo")}for(var G=0,K=Math.min(v.length,b.length);G<K&&v.charCodeAt(G)==b.charCodeAt(G);)++G;return ta(c,function(){oh(c,b.slice(G),v.length-G,null,a.composing?"*compose":null),b.length>1e3||b.indexOf("\n")>-1?m.value=a.prevInput="":a.prevInput=b,a.composing&&(a.composing.range.clear(),a.composing.range=c.markText(a.composing.start,c.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},wi.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},wi.prototype.onKeyPress=function(){C&&S>=9&&(this.hasSelection=null),this.fastPoll()},wi.prototype.onContextMenu=function(a){var c=this,m=c.cm,v=m.display,b=c.textarea;c.contextMenuPending&&c.contextMenuPending();var F=Li(m,a),G=v.scroller.scrollTop;if(F&&!B){m.options.resetSelectionOnContextMenu&&-1==m.doc.sel.contains(F)&&po(m,go)(m.doc,ca(F),Mt);var Fe,ee=b.style.cssText,de=c.wrapper.style.cssText,Se=c.wrapper.offsetParent.getBoundingClientRect();if(c.wrapper.style.cssText="position: static",b.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-Se.top-5)+"px; left: "+(a.clientX-Se.left-5)+"px;\n      z-index: 1000; background: "+(C?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",R&&(Fe=b.ownerDocument.defaultView.scrollY),v.input.focus(),R&&b.ownerDocument.defaultView.scrollTo(null,Fe),v.input.reset(),m.somethingSelected()||(b.value=c.prevInput=" "),c.contextMenuPending=We,v.selForContextMenu=m.doc.sel,clearTimeout(v.detectingSelectAll),C&&S>=9&&Ye(),se){ka(a);var ct=function(){ao(window,"mouseup",ct),setTimeout(We,20)};bn(window,"mouseup",ct)}else setTimeout(We,50)}function Ye(){if(null!=b.selectionStart){var bt=m.somethingSelected(),zt="\u200b"+(bt?b.value:"");b.value="\u21da",b.value=zt,c.prevInput=bt?"":"\u200b",b.selectionStart=1,b.selectionEnd=zt.length,v.selForContextMenu=m.doc.sel}}function We(){if(c.contextMenuPending==We&&(c.contextMenuPending=!1,c.wrapper.style.cssText=de,b.style.cssText=ee,C&&S<9&&v.scrollbars.setScrollTop(v.scroller.scrollTop=G),null!=b.selectionStart)){(!C||C&&S<9)&&Ye();var bt=0,zt=function(){v.selForContextMenu==m.doc.sel&&0==b.selectionStart&&b.selectionEnd>0&&"\u200b"==c.prevInput?po(m,Il)(m):bt++<10?v.detectingSelectAll=setTimeout(zt,500):(v.selForContextMenu=null,v.input.reset())};v.detectingSelectAll=setTimeout(zt,200)}}},wi.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled="nocursor"==a,this.textarea.readOnly=!!a},wi.prototype.setUneditable=function(){},wi.prototype.needsContentAttribute=!1,function Mg(a){var c=a.optionHandlers;function m(v,b,F,G){a.defaults[v]=b,F&&(c[v]=G?function(K,ee,de){de!=ld&&F(K,ee,de)}:F)}a.defineOption=m,a.Init=ld,m("value","",function(v,b){return v.setValue(b)},!0),m("mode",null,function(v,b){v.doc.modeOption=b,Wu(v)},!0),m("indentUnit",2,Wu,!0),m("indentWithTabs",!1),m("smartIndent",!0),m("tabSize",4,function(v){qd(v),Sl(v),qi(v)},!0),m("lineSeparator",null,function(v,b){if(v.doc.lineSep=b,b){var F=[],G=v.doc.first;v.doc.iter(function(ee){for(var de=0;;){var Se=ee.text.indexOf(b,de);if(-1==Se)break;de=Se+b.length,F.push(_t(G,Se))}G++});for(var K=F.length-1;K>=0;K--)Al(v.doc,b,F[K],_t(F[K].line,F[K].ch+b.length))}}),m("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(v,b,F){v.state.specialChars=new RegExp(b.source+(b.test("\t")?"":"|\t"),"g"),F!=ld&&v.refresh()}),m("specialCharPlaceholder",Ba,function(v){return v.refresh()},!0),m("electricChars",!0),m("inputStyle",ce?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),m("spellcheck",!1,function(v,b){return v.getInputField().spellcheck=b},!0),m("autocorrect",!1,function(v,b){return v.getInputField().autocorrect=b},!0),m("autocapitalize",!1,function(v,b){return v.getInputField().autocapitalize=b},!0),m("rtlMoveVisually",!ne),m("wholeLineUpdateBefore",!0),m("theme","default",function(v){_g(v),Zd(v)},!0),m("keyMap","default",function(v,b,F){var G=td(b),K=F!=ld&&td(F);K&&K.detach&&K.detach(v,G),G.attach&&G.attach(v,K||null)}),m("extraKeys",null),m("configureMouse",null),m("lineWrapping",!1,ih,!0),m("gutters",[],function(v,b){v.display.gutterSpecs=Tl(b,v.options.lineNumbers),Zd(v)},!0),m("fixedGutter",!0,function(v,b){v.display.gutters.style.left=b?xn(v.display)+"px":"0",v.refresh()},!0),m("coverGutterNextToScrollbar",!1,function(v){return nl(v)},!0),m("scrollbarStyle","native",function(v){eu(v),nl(v),v.display.scrollbars.setScrollTop(v.doc.scrollTop),v.display.scrollbars.setScrollLeft(v.doc.scrollLeft)},!0),m("lineNumbers",!1,function(v,b){v.display.gutterSpecs=Tl(v.options.gutters,b),Zd(v)},!0),m("firstLineNumber",1,Zd,!0),m("lineNumberFormatter",function(v){return v},Zd,!0),m("showCursorWhenSelecting",!1,Lc,!0),m("resetSelectionOnContextMenu",!0),m("lineWiseCopyCut",!0),m("pasteLinesPerSelection",!0),m("selectionsMayTouch",!1),m("readOnly",!1,function(v,b){"nocursor"==b&&(si(v),v.display.input.blur()),v.display.input.readOnlyChanged(b)}),m("screenReaderLabel",null,function(v,b){v.display.input.screenReaderLabelChanged(b=""===b?null:b)}),m("disableInput",!1,function(v,b){b||v.display.input.reset()},!0),m("dragDrop",!0,ud),m("allowDropFileTypes",null),m("cursorBlinkRate",530),m("cursorScrollMargin",0),m("cursorHeight",1,Lc,!0),m("singleCursorHeightPerLine",!0,Lc,!0),m("workTime",100),m("workDelay",100),m("flattenSpans",!0,qd,!0),m("addModeClass",!1,qd,!0),m("pollInterval",100),m("undoDepth",200,function(v,b){return v.doc.history.undoDepth=b}),m("historyEventDelay",1250),m("viewportMargin",10,function(v){return v.refresh()},!0),m("maxHighlightLength",1e4,qd,!0),m("moveInputWithCursor",!0,function(v,b){b||v.display.input.resetPosition()}),m("tabindex",null,function(v,b){return v.display.input.getField().tabIndex=b||""}),m("autofocus",null),m("direction","ltr",function(v,b){return v.doc.setDirection(b)},!0),m("phrases",null)}(Kr),function dp(a){var c=a.optionHandlers,m=a.helpers={};a.prototype={constructor:a,focus:function(){Vt(this).focus(),this.display.input.focus()},setOption:function(v,b){var F=this.options,G=F[v];F[v]==b&&"mode"!=v||(F[v]=b,c.hasOwnProperty(v)&&po(this,c[v])(this,b,G),ii(this,"optionChange",this,v))},getOption:function(v){return this.options[v]},getDoc:function(){return this.doc},addKeyMap:function(v,b){this.state.keyMaps[b?"push":"unshift"](td(v))},removeKeyMap:function(v){for(var b=this.state.keyMaps,F=0;F<b.length;++F)if(b[F]==v||b[F].name==v)return b.splice(F,1),!0},addOverlay:Mo(function(v,b){var F=v.token?v:a.getMode(this.options,v);if(F.startState)throw new Error("Overlays may not be stateful.");(function Ur(a,c,m){for(var v=0,b=m(c);v<a.length&&m(a[v])<=b;)v++;a.splice(v,0,c)})(this.state.overlays,{mode:F,modeSpec:v,opaque:b&&b.opaque,priority:b&&b.priority||0},function(G){return G.priority}),this.state.modeGen++,qi(this)}),removeOverlay:Mo(function(v){for(var b=this.state.overlays,F=0;F<b.length;++F){var G=b[F].modeSpec;if(G==v||"string"==typeof v&&G.name==v)return b.splice(F,1),this.state.modeGen++,void qi(this)}}),indentLine:Mo(function(v,b,F){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract"),_o(this.doc,v)&&ic(this,v,b,F)}),indentSelection:Mo(function(v){for(var b=this.doc.sel.ranges,F=-1,G=0;G<b.length;G++){var K=b[G];if(K.empty())K.head.line>F&&(ic(this,K.head.line,v,!0),F=K.head.line,G==this.doc.sel.primIndex&&Ha(this));else{var ee=K.from(),de=K.to(),Se=Math.max(F,ee.line);F=Math.min(this.lastLine(),de.line-(de.ch?0:1))+1;for(var Fe=Se;Fe<F;++Fe)ic(this,Fe,v);var Ye=this.doc.sel.ranges;0==ee.ch&&b.length==Ye.length&&Ye[G].from().ch>0&&qf(this.doc,G,new Hr(ee,Ye[G].to()),Mt)}}}),getTokenAt:function(v,b){return _n(this,v,b)},getLineTokens:function(v,b){return _n(this,_t(v),b,!0)},getTokenTypeAt:function(v){v=et(this.doc,v);var ee,b=Ln(this,Cn(this.doc,v.line)),F=0,G=(b.length-1)/2,K=v.ch;if(0==K)ee=b[2];else for(;;){var de=F+G>>1;if((de?b[2*de-1]:0)>=K)G=de;else{if(!(b[2*de+1]<K)){ee=b[2*de+2];break}F=de+1}}var Se=ee?ee.indexOf("overlay "):-1;return Se<0?ee:0==Se?null:ee.slice(0,Se-1)},getModeAt:function(v){var b=this.doc.mode;return b.innerMode?a.innerMode(b,this.getTokenAt(v).state).mode:b},getHelper:function(v,b){return this.getHelpers(v,b)[0]},getHelpers:function(v,b){var F=[];if(!m.hasOwnProperty(b))return F;var G=m[b],K=this.getModeAt(v);if("string"==typeof K[b])G[K[b]]&&F.push(G[K[b]]);else if(K[b])for(var ee=0;ee<K[b].length;ee++){var de=G[K[b][ee]];de&&F.push(de)}else K.helperType&&G[K.helperType]?F.push(G[K.helperType]):G[K.name]&&F.push(G[K.name]);for(var Se=0;Se<G._global.length;Se++){var Fe=G._global[Se];Fe.pred(K,this)&&-1==Je(F,Fe.val)&&F.push(Fe.val)}return F},getStateAfter:function(v,b){var F=this.doc;return Bt(this,(v=Ve(F,v??F.first+F.size-1))+1,b).state},cursorCoords:function(v,b){var G=this.doc.sel.primary();return es(this,null==v?G.head:"object"==typeof v?et(this.doc,v):v?G.from():G.to(),b||"page")},charCoords:function(v,b){return Rc(this,et(this.doc,v),b||"page")},coordsChar:function(v,b){return Gd(this,(v=Hf(this,v,b||"page")).left,v.top)},lineAtHeight:function(v,b){return v=Hf(this,{top:v,left:0},b||"page").top,zi(this.doc,v+this.display.viewOffset)},heightAtLine:function(v,b,F){var K,G=!1;if("number"==typeof v){var ee=this.doc.first+this.doc.size-1;v<this.doc.first?v=this.doc.first:v>ee&&(v=ee,G=!0),K=Cn(this.doc,v)}else K=v;return zd(this,K,{top:0,left:0},b||"page",F||G).top+(G?this.doc.height-Da(K):0)},defaultTextHeight:function(){return fi(this.display)},defaultCharWidth:function(){return Qs(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(v,b,F,G,K){var ee=this.display,de=(v=es(this,et(this.doc,v))).bottom,Se=v.left;if(b.style.position="absolute",b.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(b),ee.sizer.appendChild(b),"over"==G)de=v.top;else if("above"==G||"near"==G){var Fe=Math.max(ee.wrapper.clientHeight,this.doc.height),Ye=Math.max(ee.sizer.clientWidth,ee.lineSpace.clientWidth);("above"==G||v.bottom+b.offsetHeight>Fe)&&v.top>b.offsetHeight?de=v.top-b.offsetHeight:v.bottom+b.offsetHeight<=Fe&&(de=v.bottom),Se+b.offsetWidth>Ye&&(Se=Ye-b.offsetWidth)}b.style.top=de+"px",b.style.left=b.style.right="","right"==K?(Se=ee.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==K?Se=0:"middle"==K&&(Se=(ee.sizer.clientWidth-b.offsetWidth)/2),b.style.left=Se+"px"),F&&function Jl(a,c){var m=ki(a,c);null!=m.scrollTop&&tr(a,m.scrollTop),null!=m.scrollLeft&&Ua(a,m.scrollLeft)}(this,{left:Se,top:de,right:Se+b.offsetWidth,bottom:de+b.offsetHeight})},triggerOnKeyDown:Mo(od),triggerOnKeyPress:Mo(ad),triggerOnKeyUp:ko,triggerOnMouseDown:Mo(nf),execCommand:function(v){if(nc.hasOwnProperty(v))return nc[v].call(null,this)},triggerElectric:Mo(function(v){sf(this,v)}),findPosH:function(v,b,F,G){var K=1;b<0&&(K=-1,b=-b);for(var ee=et(this.doc,v),de=0;de<b&&!(ee=uf(this.doc,ee,K,F,G)).hitSide;++de);return ee},moveH:Mo(function(v,b){var F=this;this.extendSelectionsBy(function(G){return F.display.shift||F.doc.extend||G.empty()?uf(F.doc,G.head,v,b,F.options.rtlMoveVisually):v<0?G.from():G.to()},jn)}),deleteH:Mo(function(v,b){var G=this.doc;this.doc.sel.somethingSelected()?G.replaceSelection("",null,"+delete"):Ss(this,function(K){var ee=uf(G,K.head,v,b,!1);return v<0?{from:ee,to:K.head}:{from:K.head,to:ee}})}),findPosV:function(v,b,F,G){var K=1,ee=G;b<0&&(K=-1,b=-b);for(var de=et(this.doc,v),Se=0;Se<b;++Se){var Fe=es(this,de,"div");if(null==ee?ee=Fe.left:Fe.left=ee,(de=cf(this,Fe,K,F)).hitSide)break}return de},moveV:Mo(function(v,b){var F=this,G=this.doc,K=[],ee=!this.display.shift&&!G.extend&&G.sel.somethingSelected();if(G.extendSelectionsBy(function(Se){if(ee)return v<0?Se.from():Se.to();var Fe=es(F,Se.head,"div");null!=Se.goalColumn&&(Fe.left=Se.goalColumn),K.push(Fe.left);var Ye=cf(F,Fe,v,b);return"page"==b&&Se==G.sel.primary()&&ts(F,Rc(F,Ye,"div").top-Fe.top),Ye},jn),K.length)for(var de=0;de<G.sel.ranges.length;de++)G.sel.ranges[de].goalColumn=K[de]}),findWordAt:function(v){var F=Cn(this.doc,v.line).text,G=v.ch,K=v.ch;if(F){var ee=this.getHelper(v,"wordChars");"before"!=v.sticky&&K!=F.length||!G?++K:--G;for(var de=F.charAt(G),Se=Ai(de,ee)?function(Fe){return Ai(Fe,ee)}:/\s/.test(de)?function(Fe){return/\s/.test(Fe)}:function(Fe){return!/\s/.test(Fe)&&!Ai(Fe)};G>0&&Se(F.charAt(G-1));)--G;for(;K<F.length&&Se(F.charAt(K));)++K}return new Hr(_t(v.line,G),_t(v.line,K))},toggleOverwrite:function(v){null!=v&&v==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ke(this.display.cursorDiv,"CodeMirror-overwrite"):me(this.display.cursorDiv,"CodeMirror-overwrite"),ii(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==lt(Zt(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Mo(function(v,b){eo(this,v,b)}),getScrollInfo:function(){var v=this.display.scroller;return{left:v.scrollLeft,top:v.scrollTop,height:v.scrollHeight-fo(this)-this.display.barHeight,width:v.scrollWidth-fo(this)-this.display.barWidth,clientHeight:Uu(this),clientWidth:gr(this)}},scrollIntoView:Mo(function(v,b){null==v?(v={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof v?v={from:_t(v,0),to:null}:null==v.from&&(v={from:v,to:null}),v.to||(v.to=v.from),v.margin=b||0,null!=v.from.line?function kc(a,c){Pc(a),a.curOp.scrollToPos=c}(this,v):tl(this,v.from,v.to,v.margin)}),setSize:Mo(function(v,b){var F=this,G=function(ee){return"number"==typeof ee||/^\d+$/.test(String(ee))?ee+"px":ee};null!=v&&(this.display.wrapper.style.width=G(v)),null!=b&&(this.display.wrapper.style.height=G(b)),this.options.lineWrapping&&Oc(this);var K=this.display.viewFrom;this.doc.iter(K,this.display.viewTo,function(ee){if(ee.widgets)for(var de=0;de<ee.widgets.length;de++)if(ee.widgets[de].noHScroll){Qi(F,K,"widget");break}++K}),this.curOp.forceUpdate=!0,ii(this,"refresh",this)}),operation:function(v){return ta(this,v)},startOperation:function(){return Xr(this)},endOperation:function(){return _l(this)},refresh:Mo(function(){var v=this.display.cachedTextHeight;qi(this),this.curOp.forceUpdate=!0,Sl(this),eo(this,this.doc.scrollLeft,this.doc.scrollTop),Xd(this.display),(null==v||Math.abs(v-fi(this.display))>.5||this.options.lineWrapping)&&Or(this),ii(this,"refresh",this)}),swapDoc:Mo(function(v){var b=this.doc;return b.cm=null,this.state.selectingText&&this.state.selectingText(),Yu(this,v),Sl(this),this.display.input.reset(),eo(this,v.scrollLeft,v.scrollTop),this.curOp.forceScroll=!0,co(this,"swapDoc",this,b),b}),phrase:function(v){var b=this.options.phrases;return b&&Object.prototype.hasOwnProperty.call(b,v)?b[v]:v},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ba(a),a.registerHelper=function(v,b,F){m.hasOwnProperty(v)||(m[v]=a[v]={_global:[]}),m[v][b]=F},a.registerGlobalHelper=function(v,b,F,G){a.registerHelper(v,b,G),m[v]._global.push({pred:F,val:G})}}(Kr);var Ti="iter insert remove copy getEditor constructor".split(" ");for(var ls in nr.prototype)nr.prototype.hasOwnProperty(ls)&&Je(Ti,ls)<0&&(Kr.prototype[ls]=function(a){return function(){return a.apply(this.doc,arguments)}}(nr.prototype[ls]));return ba(nr),Kr.inputStyles={textarea:wi,contenteditable:zr},Kr.defineMode=function(a){!Kr.defaults.mode&&"null"!=a&&(Kr.defaults.mode=a),Nu.apply(this,arguments)},Kr.defineMIME=function Mc(a,c){vs[a]=c},Kr.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),Kr.defineMIME("text/plain","null"),Kr.defineExtension=function(a,c){Kr.prototype[a]=c},Kr.defineDocExtension=function(a,c){nr.prototype[a]=c},Kr.fromTextArea=function du(a,c){if((c=c?gn(c):{}).value=a.value,!c.tabindex&&a.tabIndex&&(c.tabindex=a.tabIndex),!c.placeholder&&a.placeholder&&(c.placeholder=a.placeholder),null==c.autofocus){var m=lt(a.ownerDocument);c.autofocus=m==a||null!=a.getAttribute("autofocus")&&m==document.body}function v(){a.value=K.getValue()}var b;if(a.form&&(bn(a.form,"submit",v),!c.leaveSubmitMethodAlone)){var F=a.form;b=F.submit;try{var G=F.submit=function(){v(),F.submit=b,F.submit(),F.submit=G}}catch{}}c.finishInit=function(ee){ee.save=v,ee.getTextArea=function(){return a},ee.toTextArea=function(){ee.toTextArea=isNaN,v(),a.parentNode.removeChild(ee.getWrapperElement()),a.style.display="",a.form&&(ao(a.form,"submit",v),!c.leaveSubmitMethodAlone&&"function"==typeof a.form.submit&&(a.form.submit=b))}},a.style.display="none";var K=Kr(function(ee){return a.parentNode.insertBefore(ee,a.nextSibling)},c);return K},function hp(a){a.off=ao,a.on=bn,a.wheelEventPixels=wg,a.Doc=nr,a.splitLines=$l,a.countColumn=ln,a.findColumn=yr,a.isWordChar=Ii,a.Pass=Pt,a.signal=ii,a.Line=Ks,a.changeEnd=Io,a.scrollbarModel=Bc,a.Pos=_t,a.cmpPos=Vn,a.modes=Au,a.mimeModes=vs,a.resolveMode=$r,a.getMode=Ca,a.modeExtensions=br,a.extendMode=Xi,a.copyState=Si,a.startState=Ld,a.innerMode=xa,a.commands=nc,a.keyMap=Lo,a.keyName=ef,a.isModifierKey=op,a.lookupKey=Us,a.normalizeKeyMap=ip,a.StringStream=_i,a.SharedTextMarker=Qc,a.TextMarker=Oo,a.LineWidget=Nl,a.e_preventDefault=Ni,a.e_stopPropagation=Rs,a.e_stop=ka,a.addClass=Ke,a.contains=nt,a.rmClass=me,a.keyNames=Fi}(Kr),Kr.version="5.65.13",Kr}()},1610:function(Y,le,D){var _;Y.exports=(_=D(4465),function(L){var O={};function I(C){if(O[C])return O[C].exports;var S=O[C]={i:C,l:!1,exports:{}};return L[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=L,I.c=O,I.i=function(C){return C},I.d=function(C,S,R){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:R})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=7)}([function(L,O){L.exports=_},function(L,O,I){"use strict";var C=I(0).FDLayoutConstants;function S(){}for(var R in C)S[R]=C[R];S.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,S.DEFAULT_RADIAL_SEPARATION=C.DEFAULT_EDGE_LENGTH,S.DEFAULT_COMPONENT_SEPERATION=60,S.TILE=!0,S.TILING_PADDING_VERTICAL=10,S.TILING_PADDING_HORIZONTAL=10,S.TREE_REDUCTION_ON_INCREMENTAL=!1,L.exports=S},function(L,O,I){"use strict";var C=I(0).FDLayoutEdge;function S(N,V,P){C.call(this,N,V,P)}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];L.exports=S},function(L,O,I){"use strict";var C=I(0).LGraph;function S(N,V,P){C.call(this,N,V,P)}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];L.exports=S},function(L,O,I){"use strict";var C=I(0).LGraphManager;function S(N){C.call(this,N)}for(var R in S.prototype=Object.create(C.prototype),C)S[R]=C[R];L.exports=S},function(L,O,I){"use strict";var C=I(0).FDLayoutNode,S=I(0).IMath;function R(V,P,B,U){C.call(this,V,P,B,U)}for(var N in R.prototype=Object.create(C.prototype),C)R[N]=C[N];R.prototype.move=function(){var V=this.graphManager.getLayout();this.displacementX=V.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=V.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>V.coolingFactor*V.maxNodeDisplacement&&(this.displacementX=V.coolingFactor*V.maxNodeDisplacement*S.sign(this.displacementX)),Math.abs(this.displacementY)>V.coolingFactor*V.maxNodeDisplacement&&(this.displacementY=V.coolingFactor*V.maxNodeDisplacement*S.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),V.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},R.prototype.propogateDisplacementToChildren=function(V,P){for(var U,B=this.getChild().getNodes(),X=0;X<B.length;X++)null==(U=B[X]).getChild()?(U.moveBy(V,P),U.displacementX+=V,U.displacementY+=P):U.propogateDisplacementToChildren(V,P)},R.prototype.setPred1=function(V){this.pred1=V},R.prototype.getPred1=function(){return pred1},R.prototype.getPred2=function(){return pred2},R.prototype.setNext=function(V){this.next=V},R.prototype.getNext=function(){return next},R.prototype.setProcessed=function(V){this.processed=V},R.prototype.isProcessed=function(){return processed},L.exports=R},function(L,O,I){"use strict";var C=I(0).FDLayout,S=I(4),R=I(3),N=I(5),V=I(2),P=I(1),B=I(0).FDLayoutConstants,U=I(0).LayoutConstants,X=I(0).Point,te=I(0).PointD,fe=I(0).Layout,ie=I(0).Integer,ce=I(0).IGeometry,ue=I(0).LGraph,ge=I(0).Transform;function ne(){C.call(this),this.toBeTiled={}}for(var ve in ne.prototype=Object.create(C.prototype),C)ne[ve]=C[ve];ne.prototype.newGraphManager=function(){var q=new S(this);return this.graphManager=q,q},ne.prototype.newGraph=function(q){return new R(null,this.graphManager,q)},ne.prototype.newNode=function(q){return new N(this.graphManager,q)},ne.prototype.newEdge=function(q){return new V(null,null,q)},ne.prototype.initParameters=function(){C.prototype.initParameters.call(this,arguments),this.isSubLayout||(this.idealEdgeLength=P.DEFAULT_EDGE_LENGTH<10?10:P.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=P.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=B.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=B.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=B.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=B.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=B.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=B.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/B.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=B.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},ne.prototype.layout=function(){return U.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},ne.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(P.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var se=new Set(this.getAllNodes()),ae=this.nodesWithGravity.filter(function(Me){return se.has(Me)});this.graphManager.setAllNodesToApplyGravitation(ae)}}else{var q=this.getFlatForest();q.length>0?this.positionNodesRadially(q):(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),se=new Set(this.getAllNodes()),ae=this.nodesWithGravity.filter(function(me){return se.has(me)}),this.graphManager.setAllNodesToApplyGravitation(ae),this.positionNodesRandomly())}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},ne.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%B.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var q=new Set(this.getAllNodes()),se=this.nodesWithGravity.filter(function(xe){return q.has(xe)});this.graphManager.setAllNodesToApplyGravitation(se),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=B.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=B.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var ae=!this.isTreeGrowing&&!this.isGrowthFinished,me=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(ae,me),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},ne.prototype.getPositionsData=function(){for(var q=this.graphManager.getAllNodes(),se={},ae=0;ae<q.length;ae++){var me=q[ae].rect,xe=q[ae].id;se[xe]={id:xe,x:me.getCenterX(),y:me.getCenterY(),w:me.width,h:me.height}}return se},ne.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var q=!1;if("during"===B.ANIMATE)this.emit("layoutstarted");else{for(;!q;)q=this.tick();this.graphManager.updateBounds()}},ne.prototype.calculateNodesToApplyGravitationTo=function(){var se,xe,q=[],ae=this.graphManager.getGraphs(),me=ae.length;for(xe=0;xe<me;xe++)(se=ae[xe]).updateConnected(),se.isConnected||(q=q.concat(se.getNodes()));return q},ne.prototype.createBendpoints=function(){var q=[];q=q.concat(this.graphManager.getAllEdges());var ae,se=new Set;for(ae=0;ae<q.length;ae++){var me=q[ae];if(!se.has(me)){var xe=me.getSource(),Me=me.getTarget();if(xe==Me)me.getBendpoints().push(new te),me.getBendpoints().push(new te),this.createDummyNodesForBendpoints(me),se.add(me);else{var _e=[];if(_e=(_e=_e.concat(xe.getEdgeListToNode(Me))).concat(Me.getEdgeListToNode(xe)),!se.has(_e[0])){var Ue;if(_e.length>1)for(Ue=0;Ue<_e.length;Ue++){var Be=_e[Ue];Be.getBendpoints().push(new te),this.createDummyNodesForBendpoints(Be)}_e.forEach(function(nt){se.add(nt)})}}}if(se.size==q.length)break}},ne.prototype.positionNodesRadially=function(q){for(var se=new X(0,0),ae=Math.ceil(Math.sqrt(q.length)),me=0,xe=0,Me=0,_e=new te(0,0),Ue=0;Ue<q.length;Ue++){Ue%ae==0&&(Me=0,xe=me,0!=Ue&&(xe+=P.DEFAULT_COMPONENT_SEPERATION),me=0);var Be=q[Ue],nt=fe.findCenterOfTree(Be);se.x=Me,se.y=xe,(_e=ne.radialLayout(Be,nt,se)).y>me&&(me=Math.floor(_e.y)),Me=Math.floor(_e.x+P.DEFAULT_COMPONENT_SEPERATION)}this.transform(new te(U.WORLD_CENTER_X-_e.x/2,U.WORLD_CENTER_Y-_e.y/2))},ne.radialLayout=function(q,se,ae){var me=Math.max(this.maxDiagonalInTree(q),P.DEFAULT_RADIAL_SEPARATION);ne.branchRadialLayout(se,null,0,359,0,me);var xe=ue.calculateBounds(q),Me=new ge;Me.setDeviceOrgX(xe.getMinX()),Me.setDeviceOrgY(xe.getMinY()),Me.setWorldOrgX(ae.x),Me.setWorldOrgY(ae.y);for(var _e=0;_e<q.length;_e++)q[_e].transform(Me);var Be=new te(xe.getMaxX(),xe.getMaxY());return Me.inverseTransformPoint(Be)},ne.branchRadialLayout=function(q,se,ae,me,xe,Me){var _e=(me-ae+1)/2;_e<0&&(_e+=180);var Be=(_e+ae)%360*ce.TWO_PI/360,lt=(Math.cos(Be),xe*Math.cos(Be)),Ke=xe*Math.sin(Be);q.setCenter(lt,Ke);var Ct=[],Xe=(Ct=Ct.concat(q.getEdges())).length;null!=se&&Xe--;for(var Ft,Zt=0,Vt=Ct.length,gn=q.getEdgesBetween(se);gn.length>1;){var ln=gn[0];gn.splice(0,1);var it=Ct.indexOf(ln);it>=0&&Ct.splice(it,1),Vt--,Xe--}Ft=null!=se?(Ct.indexOf(gn[0])+1)%Vt:0;for(var Je=Math.abs(me-ae)/Xe,ut=Ft;Zt!=Xe;ut=++ut%Vt){var Pt=Ct[ut].getOtherEnd(q);if(Pt!=se){var Mt=(ae+Zt*Je)%360;ne.branchRadialLayout(Pt,q,Mt,(Mt+Je)%360,xe+Me,Me),Zt++}}},ne.maxDiagonalInTree=function(q){for(var se=ie.MIN_VALUE,ae=0;ae<q.length;ae++){var xe=q[ae].getDiagonal();xe>se&&(se=xe)}return se},ne.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},ne.prototype.groupZeroDegreeMembers=function(){var q=this,se={};this.memberGroups={},this.idToDummyNode={};for(var ae=[],me=this.graphManager.getAllNodes(),xe=0;xe<me.length;xe++){var _e=(Me=me[xe]).getParent();0===this.getNodeDegreeWithChildren(Me)&&(null==_e.id||!this.getToBeTiled(_e))&&ae.push(Me)}for(xe=0;xe<ae.length;xe++){var Me,Ue=(Me=ae[xe]).getParent().id;typeof se[Ue]>"u"&&(se[Ue]=[]),se[Ue]=se[Ue].concat(Me)}Object.keys(se).forEach(function(Be){if(se[Be].length>1){var nt="DummyCompound_"+Be;q.memberGroups[nt]=se[Be];var lt=se[Be][0].getParent(),Ke=new N(q.graphManager);Ke.id=nt,Ke.paddingLeft=lt.paddingLeft||0,Ke.paddingRight=lt.paddingRight||0,Ke.paddingBottom=lt.paddingBottom||0,Ke.paddingTop=lt.paddingTop||0,q.idToDummyNode[nt]=Ke;var Ct=q.getGraphManager().add(q.newGraph(),Ke),Xe=lt.getChild();Xe.add(Ke);for(var Zt=0;Zt<se[Be].length;Zt++){var Vt=se[Be][Zt];Xe.remove(Vt),Ct.add(Vt)}}})},ne.prototype.clearCompounds=function(){var q={},se={};this.performDFSOnCompounds();for(var ae=0;ae<this.compoundOrder.length;ae++)se[this.compoundOrder[ae].id]=this.compoundOrder[ae],q[this.compoundOrder[ae].id]=[].concat(this.compoundOrder[ae].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[ae].getChild()),this.compoundOrder[ae].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(q,se)},ne.prototype.clearZeroDegreeMembers=function(){var q=this,se=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(ae){var me=q.idToDummyNode[ae];se[ae]=q.tileNodes(q.memberGroups[ae],me.paddingLeft+me.paddingRight),me.rect.width=se[ae].width,me.rect.height=se[ae].height})},ne.prototype.repopulateCompounds=function(){for(var q=this.compoundOrder.length-1;q>=0;q--){var se=this.compoundOrder[q];this.adjustLocations(this.tiledMemberPack[se.id],se.rect.x,se.rect.y,se.paddingLeft,se.paddingTop)}},ne.prototype.repopulateZeroDegreeMembers=function(){var q=this,se=this.tiledZeroDegreePack;Object.keys(se).forEach(function(ae){var me=q.idToDummyNode[ae];q.adjustLocations(se[ae],me.rect.x,me.rect.y,me.paddingLeft,me.paddingTop)})},ne.prototype.getToBeTiled=function(q){var se=q.id;if(null!=this.toBeTiled[se])return this.toBeTiled[se];var ae=q.getChild();if(null==ae)return this.toBeTiled[se]=!1,!1;for(var me=ae.getNodes(),xe=0;xe<me.length;xe++){var Me=me[xe];if(this.getNodeDegree(Me)>0)return this.toBeTiled[se]=!1,!1;if(null!=Me.getChild()){if(!this.getToBeTiled(Me))return this.toBeTiled[se]=!1,!1}else this.toBeTiled[Me.id]=!1}return this.toBeTiled[se]=!0,!0},ne.prototype.getNodeDegree=function(q){for(var ae=q.getEdges(),me=0,xe=0;xe<ae.length;xe++){var Me=ae[xe];Me.getSource().id!==Me.getTarget().id&&(me+=1)}return me},ne.prototype.getNodeDegreeWithChildren=function(q){var se=this.getNodeDegree(q);if(null==q.getChild())return se;for(var ae=q.getChild().getNodes(),me=0;me<ae.length;me++)se+=this.getNodeDegreeWithChildren(ae[me]);return se},ne.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},ne.prototype.fillCompexOrderByDFS=function(q){for(var se=0;se<q.length;se++){var ae=q[se];null!=ae.getChild()&&this.fillCompexOrderByDFS(ae.getChild().getNodes()),this.getToBeTiled(ae)&&this.compoundOrder.push(ae)}},ne.prototype.adjustLocations=function(q,se,ae,me,xe){ae+=xe;for(var Me=se+=me,_e=0;_e<q.rows.length;_e++){var Ue=q.rows[_e];se=Me;for(var Be=0,nt=0;nt<Ue.length;nt++){var lt=Ue[nt];lt.rect.x=se,lt.rect.y=ae,se+=lt.rect.width+q.horizontalPadding,lt.rect.height>Be&&(Be=lt.rect.height)}ae+=Be+q.verticalPadding}},ne.prototype.tileCompoundMembers=function(q,se){var ae=this;this.tiledMemberPack=[],Object.keys(q).forEach(function(me){var xe=se[me];ae.tiledMemberPack[me]=ae.tileNodes(q[me],xe.paddingLeft+xe.paddingRight),xe.rect.width=ae.tiledMemberPack[me].width,xe.rect.height=ae.tiledMemberPack[me].height})},ne.prototype.tileNodes=function(q,se){var xe={rows:[],rowWidth:[],rowHeight:[],width:0,height:se,verticalPadding:P.TILING_PADDING_VERTICAL,horizontalPadding:P.TILING_PADDING_HORIZONTAL};q.sort(function(Ue,Be){return Ue.rect.width*Ue.rect.height>Be.rect.width*Be.rect.height?-1:Ue.rect.width*Ue.rect.height<Be.rect.width*Be.rect.height?1:0});for(var Me=0;Me<q.length;Me++){var _e=q[Me];0==xe.rows.length?this.insertNodeToRow(xe,_e,0,se):this.canAddHorizontal(xe,_e.rect.width,_e.rect.height)?this.insertNodeToRow(xe,_e,this.getShortestRowIndex(xe),se):this.insertNodeToRow(xe,_e,xe.rows.length,se),this.shiftToLastRow(xe)}return xe},ne.prototype.insertNodeToRow=function(q,se,ae,me){var xe=me;ae==q.rows.length&&(q.rows.push([]),q.rowWidth.push(xe),q.rowHeight.push(0));var _e=q.rowWidth[ae]+se.rect.width;q.rows[ae].length>0&&(_e+=q.horizontalPadding),q.rowWidth[ae]=_e,q.width<_e&&(q.width=_e);var Ue=se.rect.height;ae>0&&(Ue+=q.verticalPadding);var Be=0;Ue>q.rowHeight[ae]&&(Be=q.rowHeight[ae],q.rowHeight[ae]=Ue,Be=q.rowHeight[ae]-Be),q.height+=Be,q.rows[ae].push(se)},ne.prototype.getShortestRowIndex=function(q){for(var se=-1,ae=Number.MAX_VALUE,me=0;me<q.rows.length;me++)q.rowWidth[me]<ae&&(se=me,ae=q.rowWidth[me]);return se},ne.prototype.getLongestRowIndex=function(q){for(var se=-1,ae=Number.MIN_VALUE,me=0;me<q.rows.length;me++)q.rowWidth[me]>ae&&(se=me,ae=q.rowWidth[me]);return se},ne.prototype.canAddHorizontal=function(q,se,ae){var me=this.getShortestRowIndex(q);if(me<0)return!0;var xe=q.rowWidth[me];if(xe+q.horizontalPadding+se<=q.width)return!0;var _e,Ue,Me=0;return q.rowHeight[me]<ae&&me>0&&(Me=ae+q.verticalPadding-q.rowHeight[me]),_e=q.width-xe>=se+q.horizontalPadding?(q.height+Me)/(xe+se+q.horizontalPadding):(q.height+Me)/q.width,Me=ae+q.verticalPadding,(Ue=q.width<se?(q.height+Me)/se:(q.height+Me)/q.width)<1&&(Ue=1/Ue),_e<1&&(_e=1/_e),_e<Ue},ne.prototype.shiftToLastRow=function(q){var se=this.getLongestRowIndex(q),ae=q.rowWidth.length-1,me=q.rows[se],xe=me[me.length-1],Me=xe.width+q.horizontalPadding;if(q.width-q.rowWidth[ae]>Me&&se!=ae){me.splice(-1,1),q.rows[ae].push(xe),q.rowWidth[se]=q.rowWidth[se]-Me,q.rowWidth[ae]=q.rowWidth[ae]+Me,q.width=q.rowWidth[instance.getLongestRowIndex(q)];for(var _e=Number.MIN_VALUE,Ue=0;Ue<me.length;Ue++)me[Ue].height>_e&&(_e=me[Ue].height);se>0&&(_e+=q.verticalPadding);var Be=q.rowHeight[se]+q.rowHeight[ae];q.rowHeight[se]=_e,q.rowHeight[ae]<xe.height+q.verticalPadding&&(q.rowHeight[ae]=xe.height+q.verticalPadding),q.height+=q.rowHeight[se]+q.rowHeight[ae]-Be,this.shiftToLastRow(q)}},ne.prototype.tilingPreLayout=function(){P.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},ne.prototype.tilingPostLayout=function(){P.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},ne.prototype.reduceTrees=function(){for(var ae,q=[],se=!0;se;){var me=this.graphManager.getAllNodes(),xe=[];se=!1;for(var Me=0;Me<me.length;Me++)1==(ae=me[Me]).getEdges().length&&!ae.getEdges()[0].isInterGraph&&null==ae.getChild()&&(xe.push([ae,ae.getEdges()[0],ae.getOwner()]),se=!0);if(1==se){for(var _e=[],Ue=0;Ue<xe.length;Ue++)1==xe[Ue][0].getEdges().length&&(_e.push(xe[Ue]),xe[Ue][0].getOwner().remove(xe[Ue][0]));q.push(_e),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=q},ne.prototype.growTree=function(q){for(var me,ae=q[q.length-1],xe=0;xe<ae.length;xe++)this.findPlaceforPrunedNode(me=ae[xe]),me[2].add(me[0]),me[2].add(me[1],me[1].source,me[1].target);q.splice(q.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},ne.prototype.findPlaceforPrunedNode=function(q){var se,ae,me=q[0],xe=(ae=me==q[1].source?q[1].target:q[1].source).startX,Me=ae.finishX,_e=ae.startY,Ue=ae.finishY,Ct=[0,0,0,0];if(_e>0)for(var Xe=xe;Xe<=Me;Xe++)Ct[0]+=this.grid[Xe][_e-1].length+this.grid[Xe][_e].length-1;if(Me<this.grid.length-1)for(Xe=_e;Xe<=Ue;Xe++)Ct[1]+=this.grid[Me+1][Xe].length+this.grid[Me][Xe].length-1;if(Ue<this.grid[0].length-1)for(Xe=xe;Xe<=Me;Xe++)Ct[2]+=this.grid[Xe][Ue+1].length+this.grid[Xe][Ue].length-1;if(xe>0)for(Xe=_e;Xe<=Ue;Xe++)Ct[3]+=this.grid[xe-1][Xe].length+this.grid[xe][Xe].length-1;for(var Vt,Ft,Zt=ie.MAX_VALUE,gn=0;gn<Ct.length;gn++)Ct[gn]<Zt?(Zt=Ct[gn],Vt=1,Ft=gn):Ct[gn]==Zt&&Vt++;if(3==Vt&&0==Zt)0==Ct[0]&&0==Ct[1]&&0==Ct[2]?se=1:0==Ct[0]&&0==Ct[1]&&0==Ct[3]?se=0:0==Ct[0]&&0==Ct[2]&&0==Ct[3]?se=3:0==Ct[1]&&0==Ct[2]&&0==Ct[3]&&(se=2);else if(2==Vt&&0==Zt){var ln=Math.floor(2*Math.random());se=0==Ct[0]&&0==Ct[1]?0==ln?0:1:0==Ct[0]&&0==Ct[2]?0==ln?0:2:0==Ct[0]&&0==Ct[3]?0==ln?0:3:0==Ct[1]&&0==Ct[2]?0==ln?1:2:0==Ct[1]&&0==Ct[3]?0==ln?1:3:0==ln?2:3}else se=4==Vt&&0==Zt?ln=Math.floor(4*Math.random()):Ft;0==se?me.setCenter(ae.getCenterX(),ae.getCenterY()-ae.getHeight()/2-B.DEFAULT_EDGE_LENGTH-me.getHeight()/2):1==se?me.setCenter(ae.getCenterX()+ae.getWidth()/2+B.DEFAULT_EDGE_LENGTH+me.getWidth()/2,ae.getCenterY()):2==se?me.setCenter(ae.getCenterX(),ae.getCenterY()+ae.getHeight()/2+B.DEFAULT_EDGE_LENGTH+me.getHeight()/2):me.setCenter(ae.getCenterX()-ae.getWidth()/2-B.DEFAULT_EDGE_LENGTH-me.getWidth()/2,ae.getCenterY())},L.exports=ne},function(L,O,I){"use strict";var C={};C.layoutBase=I(0),C.CoSEConstants=I(1),C.CoSEEdge=I(2),C.CoSEGraph=I(3),C.CoSEGraphManager=I(4),C.CoSELayout=I(6),C.CoSENode=I(5),L.exports=C}]))},6827:function(Y,le,D){var _,L;Y.exports=(_=D(5886),L=D(1610),function(O){var I={};function C(S){if(I[S])return I[S].exports;var R=I[S]={i:S,l:!1,exports:{}};return O[S].call(R.exports,R,R.exports,C),R.l=!0,R.exports}return C.m=O,C.c=I,C.i=function(S){return S},C.d=function(S,R,N){C.o(S,R)||Object.defineProperty(S,R,{configurable:!1,enumerable:!0,get:N})},C.n=function(S){var R=S&&S.__esModule?function(){return S.default}:function(){return S};return C.d(R,"a",R),R},C.o=function(S,R){return Object.prototype.hasOwnProperty.call(S,R)},C.p="",C(C.s=15)}([function(O,I){O.exports=_},function(O,I,C){"use strict";var S=C(0).layoutBase.FDLayoutConstants;function R(){}for(var N in S)R[N]=S[N];R.DEFAULT_SPRING_STRENGTH=1.5*S.DEFAULT_SPRING_STRENGTH,R.DEFAULT_NODE_SEPARATION=S.DEFAULT_EDGE_LENGTH/4,R.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF=1.4,R.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE=!1,R.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=.1,R.DEFAULT_INNER_EDGE_LENGTH=S.DEFAULT_EDGE_LENGTH/3,R.MAX_ROTATION_ANGLE=Math.PI/36,R.MIN_ROTATION_ANGLE=-R.MAX_ROTATION_ANGLE,R.SWAP_HISTORY_CLEARANCE_PERIOD=6*(R.SWAP_PERIOD=(R.SWAP_IDLE_DURATION=45)+(R.SWAP_PREPERATION_DURATION=5)),R.MIN_DISPLACEMENT_FOR_SWAP=6,R.REVERSE_PERIOD=25,O.exports=R},function(O,I,C){"use strict";O.exports=null!=Object.assign?Object.assign.bind(Object):function(S){for(var R=arguments.length,N=Array(R>1?R-1:0),V=1;V<R;V++)N[V-1]=arguments[V];return N.forEach(function(P){Object.keys(P).forEach(function(B){return S[B]=P[B]})}),S}},function(O,I){O.exports=L},function(O,I,C){"use strict";O.exports=C(16)},function(O,I,C){"use strict";var S=C(0).layoutBase.LGraph,R=C(0).layoutBase.IGeometry,N=C(0).layoutBase.NeedlemanWunsch,V=C(14),P=C(1),B=C(8),U=C(9);function X(fe,ie,ce){S.call(this,fe,ie,ce),this.intraClusterEdges=null,this.interClusterEdges=null,this.inNodes=[],this.outNodes=[],this.onCircleNodes=[],this.inCircleNodes=[],this.radius=0,this.orderMatrix=null,this.mayBeReversed=!0}for(var te in X.prototype=Object.create(S.prototype),S)X[te]=S[te];X.prototype.setRadius=function(fe){this.radius=fe},X.prototype.getRadius=function(){return this.radius},X.prototype.getInNodes=function(){return this.inNodes},X.prototype.getOutNodes=function(){return this.outNodes},X.prototype.getOnCircleNodes=function(){return this.onCircleNodes},X.prototype.getInCircleNodes=function(){return this.inCircleNodes},X.prototype.setMayNotBeReversed=function(){this.mayBeReversed=!1},X.prototype.getMayBeReversed=function(){return this.mayBeReversed},X.prototype.getChildAt=function(fe){return this.onCircleNodes[fe]},X.prototype.getInterClusterEdges=function(){var fe=this;return null===this.interClusterEdges&&(this.interClusterEdges=[],this.outNodes.forEach(function(ie){for(var ce=ie.getOnCircleNodeExt().getInterClusterEdges(),ue=0;ue<ce.length;ue++)fe.interClusterEdges.push(ce[ue])})),this.interClusterEdges},X.prototype.getIntraClusterEdges=function(){var fe=this;return null===this.intraClusterEdges&&(this.intraClusterEdges=[],this.getEdges().forEach(function(ce){ce.isIntraEdge()&&fe.intraClusterEdges.push(ce)})),this.intraClusterEdges},X.prototype.calculateParentNodeDimension=function(){for(var ie=Number.MIN_SAFE_INTEGER,ce=0;ce<this.onCircleNodes.length;ce++){var ue=this.onCircleNodes[ce];ue.getWidth()>ie&&(ie=ue.getWidth()),ue.getHeight()>ie&&(ie=ue.getHeight())}var ge=2*(this.radius+this.margin)+ie,ne=this.getParent();ne.setHeight(ge),ne.setWidth(ge)},X.prototype.computeOrderMatrix=function(){var fe=this.onCircleNodes.length;this.orderMatrix=new Array(fe);for(var ie=0;ie<this.orderMatrix.length;ie++)this.orderMatrix[ie]=new Array(fe);for(var ce=0;ce<fe;ce++)for(var ue=0;ue<fe;ue++)if(ue>ce){var ge=this.onCircleNodes[ue].getOnCircleNodeExt().getAngle()-this.onCircleNodes[ce].getOnCircleNodeExt().getAngle();ge<0&&(ge+=R.TWO_PI),ge<=Math.PI?(this.orderMatrix[ce][ue]=!0,this.orderMatrix[ue][ce]=!1):(this.orderMatrix[ce][ue]=!1,this.orderMatrix[ue][ce]=!0)}},X.prototype.rotate=function(){var fe=this.getParent(),ie=this.getOnCircleNodes().length,ce=fe.rotationAmount/ie,ue=this.getGraphManager().getLayout();if(0!==ce){var ge=ce/this.radius;ge>P.MAX_ROTATION_ANGLE?ge=P.MAX_ROTATION_ANGLE:ge<P.MIN_ROTATION_ANGLE&&(ge=P.MIN_ROTATION_ANGLE);for(var ne=0;ne<ie;ne++){var q=this.getChildAt(ne).getOnCircleNodeExt();q.setAngle(q.getAngle()+ge),q.updatePosition()}ue.totalDisplacement+=fe.rotationAmount,fe.rotationAmount=0}},X.prototype.getOrder=function(fe,ie){return this.orderMatrix[fe.getOnCircleNodeExt().getIndex()][ie.getOnCircleNodeExt().getIndex()]},X.prototype.getThisEnd=function(fe){var ie=fe.getSource(),ce=fe.getTarget();return ie.getOwner()===this?ie:ce},X.prototype.getOtherEnd=function(fe){var ie=fe.getSource(),ce=fe.getTarget();return ie.getOwner()===this?ce:ie},X.prototype.decomposeForce=function(fe){var ie=void 0;if(0!==fe.displacementX||0!==fe.displacementY){var Me,ce=this.getParent(),ue=ce.getCenterX(),ge=ce.getCenterY(),ne=fe.getCenterX(),ve=fe.getCenterY(),q=fe.displacementX,se=fe.displacementY,ae=R.angleOfVector(ue,ge,ne,ve),me=R.angleOfVector(0,0,q,se),xe=ae+Math.PI;Me=Math.PI<=xe&&xe<R.TWO_PI?ae<=me&&me<xe:!((xe-=R.TWO_PI)<=me&&me<ae);var _e=Math.abs(ae-me),Ue=Math.sqrt(q*q+se*se),Be=Math.abs(Math.sin(_e)*Ue);Me||(Be=-Be),ie=new V(Be,q,se)}else ie=new V(0,0,0);return ie},X.prototype.swapNodes=function(fe,ie){var ce=fe,ue=ie,ge=fe.getOnCircleNodeExt(),ne=ie.getOnCircleNodeExt();if(ce.getOnCircleNodeExt().getIndex()>ie.getOnCircleNodeExt().getIndex()&&(ce=ie,ue=fe),ce.getOnCircleNodeExt().getPrevNode()===ue){var ve=ue;ue=ce,ce=ve}var q=ce.getOnCircleNodeExt(),se=ue.getOnCircleNodeExt(),ae=q.getPrevNode(),xe=this.getGraphManager().getLayout().getNodeSeparation(),Me=(ae.getOnCircleNodeExt().getAngle()+(ae.getHalfTheDiagonal()+ue.getHalfTheDiagonal()+xe)/this.radius)%(2*Math.PI);se.setAngle(Me),Me=(se.getAngle()+(ue.getHalfTheDiagonal()+ce.getHalfTheDiagonal()+xe)/this.radius)%(2*Math.PI),q.setAngle(Me),q.updatePosition(),se.updatePosition();var _e=ge.getIndex();ge.setIndex(ne.getIndex()),ne.setIndex(_e),this.getOnCircleNodes()[ge.getIndex()]=fe,this.getOnCircleNodes()[ne.getIndex()]=ie,ge.updateSwappingConditions(),ne.updateSwappingConditions(),ge.getNextNode()===ie?(ge.getPrevNode().getOnCircleNodeExt().updateSwappingConditions(),ne.getNextNode().getOnCircleNodeExt().updateSwappingConditions()):(ge.getNextNode().getOnCircleNodeExt().updateSwappingConditions(),ne.getPrevNode().getOnCircleNodeExt().updateSwappingConditions())},X.prototype.checkAndReverseIfReverseIsBetter=function(){for(var fe=this.getInterClusterEdges(),ie=new Array(fe.length),ce=void 0,ue=this.getParent().getCenter(),ge=void 0,ne=void 0,q=void 0,se=this.onCircleNodes.length,ae=new Array(se),me=0;me<se;me++)ae[me]=0;for(var xe=0,Me=0;Me<fe.length;Me++)q=this.getOtherEnd(ge=fe[Me]).getCenter(),ce=R.angleOfVector(ue.x,ue.y,q.x,q.y),ie[Me]=new B(ge,ce),ae[(ne=this.getThisEnd(ge)).getOnCircleNodeExt().getIndex()]++,ae[ne.getOnCircleNodeExt().getIndex()]>1&&xe++;for(var _e=this.onCircleNodes,Ue=se+xe,Be=new Array(2*Ue),nt=new Array(2*Ue),lt=void 0,Ke=-1,Ct=0;Ct<se;Ct++){lt=_e[Ct],0===ae[Ct]&&(ae[Ct]=1);for(var Xe=0;Xe<ae[Ct];Xe++)Be[++Ke]=Be[Ue+Ke]=nt[Ue-1-Ke]=nt[2*Ue-1-Ke]=lt.getOnCircleNodeExt().getCharCode()}new U(this,ie);for(var Vt=new Array(ie.length),Ft=0;Ft<ie.length;Ft++)ge=ie[Ft].getEdge(),ne=this.getThisEnd(ge),Vt[Ft]=ne.getOnCircleNodeExt().getCharCode();var gn=this.computeAlignmentScore(Be,Vt);if(-1!==gn){var ln=this.computeAlignmentScore(nt,Vt);if(-1!==ln&&ln>gn)return this.reverseNodes(),this.setMayNotBeReversed(),!0}return!1},X.prototype.computeAlignmentScore=function(fe,ie){return new N(fe,ie,20,-1,-2).getScore()},X.prototype.reverseNodes=function(){for(var fe=this.getOnCircleNodes(),ie=this.getOnCircleNodes().length,ce=0;ce<ie;ce++){var ge=fe[ce].getOnCircleNodeExt();ge.setIndex((ie-ge.getIndex())%ie)}this.reCalculateNodeAnglesAndPositions()},X.prototype.moveOnCircleNodeInside=function(fe){var ie=this.onCircleNodes.indexOf(fe);ie>-1&&this.onCircleNodes.splice(ie,1),this.inCircleNodes.push(fe);for(var ce=0;ce<this.onCircleNodes.length;ce++)this.onCircleNodes[ce].getOnCircleNodeExt().setIndex(ce);fe.setAsNonOnCircleNode(),this.reCalculateCircleSizeAndRadius(),this.reCalculateNodeAnglesAndPositions(),fe.setCenter(this.getParent().getCenterX(),this.getParent().getCenterY())},X.prototype.reCalculateCircleSizeAndRadius=function(){for(var fe=0,ie=this.getOnCircleNodes(),ce=0;ce<ie.length;ce++){var ue=ie[ce],ge=ue.getWidth()*ue.getWidth()+ue.getHeight()*ue.getHeight();fe+=Math.sqrt(ge)}var ve=this.getGraphManager().getLayout().getNodeSeparation(),q=fe+this.getOnCircleNodes().length*ve;this.radius=q/(2*Math.PI),this.calculateParentNodeDimension()},X.prototype.reCalculateNodeAnglesAndPositions=function(){var ie=this.getGraphManager().getLayout().getNodeSeparation(),ce=this.onCircleNodes;ce.sort(function(ae,me){return ae.getOnCircleNodeExt().getIndex()-me.getOnCircleNodeExt().getIndex()});for(var ue=this.getParent().getCenterX(),ge=this.getParent().getCenterY(),ne=0;ne<ce.length;ne++){var ve=ce[ne],q=void 0;if(0===ne)q=0;else{var se=ce[ne-1];q=se.getOnCircleNodeExt().getAngle()+(ve.getHalfTheDiagonal()+ie+se.getHalfTheDiagonal())/this.radius}ve.getOnCircleNodeExt().setAngle(q),ve.setCenter(ue+this.radius*Math.cos(q),ge+this.radius*Math.sin(q))}},O.exports=X},function(O,I,C){"use strict";var S=C(0).layoutBase.FDLayoutEdge;function R(V,P,B){S.call(this,V,P,B),this.isIntraCluster=!0}for(var N in R.prototype=Object.create(S.prototype),S)R[N]=S[N];R.prototype.isIntraEdge=function(){return this.isIntraCluster},R.prototype.crossesWithEdge=function(V){var P=!1,B=this.getSource().getOnCircleNodeExt(),U=this.getTarget().getOnCircleNodeExt(),X=V.getSource().getOnCircleNodeExt(),te=V.getTarget().getOnCircleNodeExt(),fe=-1,ie=-1,ce=-1,ue=-1;if(null!==B&&(fe=B.getIndex()),null!==U&&(ie=U.getIndex()),null!==X&&(ce=X.getIndex()),null!==te&&(ue=te.getIndex()),this.isInterGraph||V.isInterGraph)P=!0;else if(this.source.getOwner()!==this.target.getOwner())P=!1;else{(-1===fe||-1===ie||-1===ce||-1===ue)&&(P=!1);var ge=X.getCircDistWithTheNode(B),ne=te.getCircDistWithTheNode(B),ve=U.getCircDistWithTheNode(B);ve<Math.max(ge,ne)&&ve>Math.min(ge,ne)&&0!==ne&&0!==ge&&(P=!0)}return P},R.prototype.calculateTotalCrossingWithList=function(V){for(var P=0,B=0;B<V.length;B++)P+=this.crossingWithEdge(V[B]);return P},R.prototype.crossingWithEdge=function(V){var B=0;return this.crossesWithEdge(V)&&(B=1),B},O.exports=R},function(O,I,C){"use strict";var S=C(0).layoutBase.LGraphManager;function R(V){S.call(this,V),this.onCircleNodes=[],this.inCircleNodes=[],this.nonOnCircleNodes=[]}for(var N in R.prototype=Object.create(S.prototype),S)R[N]=S[N];R.prototype.getOnCircleNodes=function(){return this.onCircleNodes},R.prototype.getInCircleNodes=function(){return this.inCircleNodes},R.prototype.getNonOnCircleNodes=function(){return this.nonOnCircleNodes},R.prototype.setOnCircleNodes=function(V){this.onCircleNodes=V},R.prototype.setInCircleNodes=function(V){this.inCircleNodes=V},R.prototype.setNonOnCircleNodes=function(V){this.nonOnCircleNodes=V},O.exports=R},function(O,I,C){"use strict";function S(R,N){this.edge=R,this.angle=N}(S.prototype=Object.create(null)).getEdge=function(){return this.edge},S.prototype.getAngle=function(){return this.angle},O.exports=S},function(O,I,C){"use strict";var S=function(){function V(P,B){for(var U=0;U<B.length;U++){var X=B[U];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(P,X.key,X)}}return function(P,B,U){return B&&V(P.prototype,B),U&&V(P,U),P}}();var N=function(){function V(P,B){(function R(V,P){if(!(V instanceof P))throw new TypeError("Cannot call a class as a function")})(this,V),this.ownerCircle=P,this._quicksort(B,0,B.length-1)}return S(V,[{key:"compareFunction",value:function(B,U){return U.getAngle()>B.getAngle()||U.getAngle()===B.getAngle()&&B!==U&&this.ownerCircle.getOrder(this.ownerCircle.getThisEnd(B.getEdge()),this.ownerCircle.getThisEnd(U.getEdge()))}},{key:"_quicksort",value:function(B,U,X){if(U<X){var te=this._partition(B,U,X);this._quicksort(B,U,te),this._quicksort(B,te+1,X)}}},{key:"_partition",value:function(B,U,X){for(var te=this._get(B,U),fe=U,ie=X;;){for(;this.compareFunction(te,this._get(B,ie));)ie--;for(;this.compareFunction(this._get(B,fe),te);)fe++;if(!(fe<ie))return ie;this._swap(B,fe,ie),fe++,ie--}}},{key:"_get",value:function(B,U){return B[U]}},{key:"_set",value:function(B,U,X){B[U]=X}},{key:"_swap",value:function(B,U,X){var te=this._get(B,U);this._set(B,U,this._get(B,X)),this._set(B,X,te)}}]),V}();O.exports=N},function(O,I,C){"use strict";var S=C(0).layoutBase.FDLayout,R=C(0).layoutBase.HashMap,N=C(0).layoutBase.PointD,V=C(0).layoutBase.DimensionD,P=C(0).AVSDFConstants,B=C(0).AVSDFLayout,U=C(3).CoSELayout,te=(C(3),C(1)),fe=C(7),ie=C(5),ce=C(11),ue=C(6),ge=C(13);function ne(){S.call(this),this.incremental=te.INCREMENTAL,this.nodeSeparation=te.DEFAULT_NODE_SEPARATION,this.idealInterClusterEdgeLengthCoefficient=te.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF,this.allowNodesInsideCircle=te.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE,this.maxRatioOfNodesInsideCircle=te.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE,this.step=ne.STEP_NOT_STARTED,this.phase=ne.PHASE_NOT_STARTED,this.swappedPairsInLastIteration=[],this.iterations=0,this.oldTotalDisplacement=0,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/te.CONVERGENCE_CHECK_PERIOD}for(var ve in ne.prototype=Object.create(S.prototype),S)ne[ve]=S[ve];ne.STEP_NOT_STARTED=0,ne.STEP_1=1,ne.STEP_2=2,ne.STEP_3=3,ne.STEP_4=4,ne.STEP_5=5,ne.PHASE_NOT_STARTED=0,ne.PHASE_SWAP_PREPERATION=1,ne.PHASE_PERFORM_SWAP=2,ne.PHASE_OTHER=3,ne.prototype.newGraphManager=function(){return this.graphManager=new fe(this),this.graphManager},ne.prototype.newCircleLGraph=function(q){return new ie(null,this.graphManager,q)},ne.prototype.newNode=function(q,se){return new ce(this.graphManager,q,se,null)},ne.prototype.newCiSEOnCircleNode=function(q,se){var ae=this.newNode(q,se);return ae.setAsOnCircleNode(),ae},ne.prototype.newEdge=function(q,se,ae){return new ue(q,se,ae)},ne.prototype.getNodeSeparation=function(){return this.nodeSeparation},ne.prototype.convertToClusteredGraph=function(q,se,ae){for(var me=this,xe=this,Me={},_e=this.graphManager.getRoot(),Ue=new R,Be=0;Be<q.length;Be++)Ue.put(q[Be].data("id"),q[Be]);if("function"==typeof ae){for(var nt=[],lt=[],Ke=0;Ke<q.length;Ke++){var Ct=ae(q[Ke]);if(Ct>0&&null!=Ct){var Xe=nt.indexOf(Ct);Xe>-1?lt[Xe].push(q[Ke].data("id")):(nt.push(Ct),lt.push([q[Ke].data("id")]))}}ae=lt}for(var Zt=function(Ur){if(0===ae[Ur].length)return"continue";var cn=me.newNode(null);cn.setClusterId(Ur),_e.add(cn);var Di=me.newCircleLGraph(null);me.graphManager.add(Di,cn),Di.margin=Di.margin+15,ae[Ur].forEach(function(Yi){var Ii=Ue.get(Yi),Ai=Ii.layoutDimensions({nodeDimensionsIncludeLabels:!1}),Vr=xe.newCiSEOnCircleNode(new N(Ii.position("x")-Ai.w/2,Ii.position("y")-Ai.h/2),new V(parseFloat(Ai.w),parseFloat(Ai.h)));Vr.setId(Yi),Vr.setClusterId(Ur),Di.getOnCircleNodes().push(Vr),Di.add(Vr),Di.getInNodes().push(Vr),Me[Vr.getId()]=Vr})},Vt=0;Vt<ae.length;Vt++)Zt(Vt);for(var gn=function(Ur){var cn=!1;if(ae.forEach(function(Ai){Ai.includes(q[Ur].data("id"))&&(cn=!0)}),!cn){var Di=q[Ur],Yi=Di.layoutDimensions({nodeDimensionsIncludeLabels:!1}),Ii=me.newNode(new N(Di.position("x")-Yi.w/2,Di.position("y")-Yi.h/2),new V(parseFloat(Yi.w),parseFloat(Yi.h)));Ii.setClusterId(-1),Ii.setId(q[Ur].data("id")),_e.add(Ii),Me[Ii.getId()]=Ii}},ln=0;ln<q.length;ln++)gn(ln);for(var it=0;it<se.length;it++){var Je=se[it],ut=Me[Je.data("source")],Pt=Me[Je.data("target")],Mt=ut.getClusterId(),zn=Pt.getClusterId();if(ut!==Pt){var jn=xe.newEdge(ut,Pt,null);Mt===zn&&-1!==Mt&&-1!==zn?(jn.isIntraCluster=!0,jn.getSource().getOwner().add(jn,jn.getSource(),jn.getTarget())):(jn.isIntraCluster=!1,this.graphManager.add(jn,jn.getSource(),jn.getTarget()))}}for(var yr=[],Tr=[],pr=this.graphManager.getAllNodes(),yn=0;yn<pr.length;yn++)pr[yn].getOnCircleNodeExt()?yr.push(pr[yn]):Tr.push(pr[yn]);return this.graphManager.setOnCircleNodes(yr),this.graphManager.setNonOnCircleNodes(Tr),this.graphManager.edges.forEach(function(On){var Ur=On.getSource(),cn=On.getTarget(),Di=Ur.getClusterId(),Yi=cn.getClusterId();if(-1!==Di){var Ii=Ur.getOwner(),Ai=Ii.getInNodes().indexOf(Ur);Ai>-1&&(Ii.getInNodes().splice(Ai,1),Ii.getOutNodes().push(Ur))}if(-1!==Yi){var Vr=cn.getOwner(),Hi=Vr.getInNodes().indexOf(cn);Hi>-1&&(Vr.getInNodes().splice(Hi,1),Vr.getOutNodes().push(cn))}}),Me},ne.prototype.doStep1=function(){this.step=ne.STEP_1,this.phase=ne.PHASE_OTHER;for(var q=new R,se=this.graphManager.getGraphs(),ae=0;ae<se.length;ae++){var me=se[ae];if(me instanceof ie){P.DEFAULT_NODE_SEPARATION=this.nodeSeparation;for(var xe=new B,Me=xe.graphManager.addRoot(),_e=me.getOnCircleNodes(),Ue=0;Ue<_e.length;Ue++){var Be=_e[Ue],nt=xe.newNode(null),lt=Be.getLocation();nt.setLocation(lt.x,lt.y),nt.setWidth(Be.getWidth()),nt.setHeight(Be.getHeight()),Me.add(nt),q.put(Be,nt)}for(var Ke=this.getAllEdges(),Ct=0;Ct<Ke.length;Ct++){var Xe=Ke[Ct];if(_e.includes(Xe.getSource())&&_e.includes(Xe.getTarget())){var Zt=q.get(Xe.getSource()),Vt=q.get(Xe.getTarget()),Ft=xe.newEdge("");Me.add(Ft,Zt,Vt)}}xe.layout();for(var gn=xe.initPostProcess(),ln=0;ln<gn.length;ln++)xe.oneStepPostProcess(gn[ln]);xe.updateNodeAngles(),xe.updateNodeCoordinates();for(var it=0;it<_e.length;it++){var Je=_e[it],ut=q.get(Je),Pt=ut.getLocation();Je.setLocation(Pt.x,Pt.y),Je.getOnCircleNodeExt().setIndex(ut.getIndex()),Je.getOnCircleNodeExt().setAngle(ut.getAngle())}if(_e.sort(function(jn,yr){return jn.getOnCircleNodeExt().getIndex()-yr.getOnCircleNodeExt().getIndex()}),Me.getNodes().length>0){var Mt=me.getParent(),zn=Me.getParent();Mt.setLocation(zn.getLocation().x,zn.getLocation().y),me.setRadius(Me.getRadius()),me.calculateParentNodeDimension()}}}},ne.prototype.doStep2=function(){this.step=ne.STEP_2,this.phase=ne.PHASE_OTHER;var q=[],se=[],ae=new R,me=new R,xe=new U;xe.isSubLayout=!1,xe.useMultiLevelScaling=!1,xe.useFRGridVariant=!0,xe.springConstant*=1.5;for(var _e=xe.newGraphManager().addRoot(),Ue=this.graphManager.getNonOnCircleNodes(),Be=0;Be<Ue.length;Be++){var nt=Ue[Be],lt=xe.newNode(null),Ke=nt.getLocation();lt.setLocation(Ke.x,Ke.y),lt.setWidth(nt.getWidth()),lt.setHeight(nt.getHeight()),null!=nt.getChild()&&(lt.setWidth(1.2*lt.getWidth()),lt.setHeight(1.2*lt.getHeight())),lt.id=Be,_e.add(lt),q.push(lt),ae.put(nt,lt)}for(var Ct=new Array(q.length),Xe=0;Xe<Ct.length;Xe++)Ct[Xe]=new Array(q.length);for(var Zt=this.graphManager.getAllEdges(),Vt=0;Vt<Zt.length;Vt++){var Ft=Zt[Vt],gn=Ft.getSource(),ln=Ft.getTarget();null!=gn.getOnCircleNodeExt()&&(gn=Ft.getSource().getOwner().getParent()),null!=ln.getOnCircleNodeExt()&&(ln=Ft.getTarget().getOwner().getParent());var it=ae.get(gn),Je=ae.get(ln),ut=q.indexOf(it),Pt=q.indexOf(Je),Mt=void 0;ut!==Pt&&(null==Ct[ut][Pt]&&null==Ct[Pt][ut]?(Mt=xe.newEdge(null),_e.add(Mt,it,Je),se.push(Mt),me.put(Mt,[]),Ct[ut][Pt]=Mt,Ct[Pt][ut]=Mt):Mt=Ct[ut][Pt],me.get(Mt).push(Ft))}xe.runLayout();for(var zn=0;zn<Ue.length;zn++){var jn=Ue[zn],Tr=ae.get(jn).getLocation();jn.setLocation(Tr.x,Tr.y)}for(var pr=this.graphManager.getOnCircleNodes(),yn=0;yn<pr.length;yn++){var On=pr[yn],Ur=On.getLocation(),cn=On.getOwner().getParent().getLocation();On.setLocation(Ur.x+cn.x,Ur.y+cn.y)}},ne.prototype.step3Init=function(){this.step=ne.STEP_3,this.phase=ne.PHASE_OTHER,this.initSpringEmbedder(),this.coolingCycle=0},ne.prototype.step4Init=function(){this.step=ne.STEP_4,this.phase=ne.PHASE_OTHER,this.initSpringEmbedder();for(var q=0;q<this.graphManager.getOnCircleNodes().length;q++)this.graphManager.getOnCircleNodes()[q].getOnCircleNodeExt().updateSwappingConditions();this.coolingCycle=0},ne.prototype.step5Init=function(){this.step=ne.STEP_5,this.phase=ne.PHASE_OTHER,this.initSpringEmbedder(),this.coolingCycle=0},ne.prototype.runSpringEmbedderTick=function(){if(this.iterations++,this.totalIterations=this.iterations,this.iterations%te.CONVERGENCE_CHECK_PERIOD==0){if((this.step!==ne.STEP_4||this.iterations>this.maxIterations/4)&&this.isConverged())return!0;this.coolingFactor=this.initialCoolingFactor*((this.maxIterations-this.iterations)/this.maxIterations)}if(this.totalDisplacement=0,this.step===ne.STEP_3)this.iterations%te.REVERSE_PERIOD==0&&this.checkAndReverseIfReverseIsBetter();else if(this.step===ne.STEP_4){this.iterations%te.SWAP_HISTORY_CLEARANCE_PERIOD==0&&(this.swappedPairsInLastIteration=[]);var se=this.iterations%te.SWAP_PERIOD;this.phase=se>=te.SWAP_IDLE_DURATION?ne.PHASE_SWAP_PREPERATION:0===se?ne.PHASE_PERFORM_SWAP:ne.PHASE_OTHER}return this.calcSpringForces(),this.calcRepulsionForces(),this.calcGravitationalForces(),this.calcTotalForces(),this.moveNodes(),this.iterations>=this.maxIterations},ne.prototype.prepareCirclesForReversal=function(){this.graphManager.getRoot().getNodes().forEach(function(se){var ae=se.getChild();null!=ae&&(ae.getInterClusterEdges().length<2&&ae.setMayNotBeReversed(),ae.computeOrderMatrix())})},ne.prototype.calcIdealEdgeLengths=function(q){for(var se=this.graphManager.getAllEdges(),ae=0;ae<se.length;ae++){se[ae].idealLength=q?1.5*this.idealEdgeLength*this.idealInterClusterEdgeLengthCoefficient:this.idealEdgeLength*this.idealInterClusterEdgeLengthCoefficient}for(var xe=this.graphManager.getInCircleNodes(),Me=0;Me<xe.length;Me++)xe[Me].getEdges().forEach(function(Ue){Ue.idealLength=te.DEFAULT_INNER_EDGE_LENGTH})},ne.prototype.calcSpringForces=function(){for(var q=this.graphManager.getAllEdges(),se=0;se<q.length;se++){var ae=q[se],me=ae.getSource(),xe=ae.getTarget();ae.isIntraCluster&&null!=me.getOnCircleNodeExt()&&null!=xe.getOnCircleNodeExt()||this.calcSpringForce(ae,ae.idealLength)}},ne.prototype.calcRepulsionForces=function(){for(var q=this.graphManager.getNonOnCircleNodes(),se=0;se<q.length;se++)for(var ae=q[se],me=se+1;me<q.length;me++)this.calcRepulsionForce(ae,q[me]);for(var Me=this.graphManager.getInCircleNodes(),_e=0;_e<Me.length;_e++)for(var Ue=Me[_e],nt=Ue.getOwner().getNodes(),lt=0;lt<nt.length;lt++){var Ke=nt[lt];Ke!==Ue&&this.calcRepulsionForce(Ue,Ke)}},ne.prototype.calcGravitationalForces=function(){if(!this.graphManager.rootGraph.isConnected)for(var q=this.graphManager.getNonOnCircleNodes(),se=0;se<q.length;se++)this.calcGravitationalForce(q[se]);for(var me=this.graphManager.getInCircleNodes(),xe=0;xe<me.length;xe++)this.calcGravitationalForce(me[xe])},ne.prototype.calcTotalForces=function(){for(var q=this.graphManager.getAllNodes(),se=0;se<q.length;se++){var ae=q[se];ae.displacementX=this.coolingFactor*(ae.springForceX+ae.repulsionForceX+ae.gravitationForceX),ae.displacementY=this.coolingFactor*(ae.springForceY+ae.repulsionForceY+ae.gravitationForceY),ae.rotationAmount=0,ae.springForceX=0,ae.springForceY=0,ae.repulsionForceX=0,ae.repulsionForceY=0,ae.gravitationForceX=0,ae.gravitationForceY=0}for(var me=this.graphManager.getOnCircleNodes(),xe=0;xe<me.length;xe++){var Me=me[xe],_e=Me.getOwner().getParent(),Ue=Me.getOwner().decomposeForce(Me);this.phase===ne.PHASE_SWAP_PREPERATION&&Me.getOnCircleNodeExt().addDisplacementForSwap(Ue.getRotationAmount()),_e.displacementX+=Ue.getDisplacementX(),_e.displacementY+=Ue.getDisplacementY(),Me.displacementX=0,Me.displacementY=0,_e.rotationAmount+=Ue.getRotationAmount(),Me.rotationAmount=0}},ne.prototype.moveNodes=function(){if(this.phase!==ne.PHASE_PERFORM_SWAP){for(var q=this.graphManager.getNonOnCircleNodes(),se=0;se<q.length;se++)q[se].move(),null!==q[se].getChild()&&void 0!==q[se].getChild()&&q[se].getChild().rotate();for(var ae=this.graphManager.getInCircleNodes(),me=void 0,xe=0;xe<ae.length;xe++)(me=ae[xe]).displacementX/=20,me.displacementY/=20,me.move()}else{for(var Me=this.graphManager.getOnCircleNodes(),_e=Me.length,Ue=[],Be=[],nt=[],lt=[],Ke=void 0,Ct=void 0,Xe=void 0,Zt=void 0,Vt=void 0,Ft=void 0,gn=void 0,it=0;it<_e;it++)if(Ct=(Ke=Me[it]).getOnCircleNodeExt().getNextNode(),Xe=Ke.getOnCircleNodeExt(),Zt=Ct.getOnCircleNodeExt(),Xe.canSwapWithNext&&Zt.canSwapWithPrev&&!((gn=(Vt=Xe.getDisplacementForSwap())-(Ft=Zt.getDisplacementForSwap()))<0)){var Je=new ge(Ke,Ct,gn,Vt>0&&Ft>0||Vt<0&&Ft<0);0===Vt||0===Ft?Be.push(Je):Ue.push(Je)}var ut=void 0,Pt=!0,Mt=void 0;for(Ue.sort(function(Ur,cn){return Ur.getDiscrepancy()-cn.getDiscrepancy()});Pt&&Ue.length>0;)if(Ke=(ut=Ue[Ue.length-1]).getFirstNode(),Ct=ut.getSecondNode(),Xe=Ke.getOnCircleNodeExt(),Zt=Ct.getOnCircleNodeExt(),this.isSwappedPreviously(ut))Ue.pop(),lt.push(ut);else{var zn=Xe.getInterClusterIntersections(Zt);ut.swap(),Mt=!1;var jn=Xe.getInterClusterIntersections(Zt);!(Mt=jn>zn)&&jn===zn&&(Mt=ut.inSameDirection()||ut.getDiscrepancy()<te.MIN_DISPLACEMENT_FOR_SWAP),Mt?(ut.swap(),Ue.pop()):(nt.push(ut.getFirstNode()),nt.push(ut.getSecondNode()),lt.push(ut),Pt=!1)}for(var yr=0;yr<Be.length;yr++){var Tr=Be[yr];Tr.inSameDirection()||Tr.getDiscrepancy()<te.MIN_DISPLACEMENT_FOR_SWAP||nt.includes(Tr.getFirstNode())||nt.includes(Tr.getSecondNode())||(this.isSwappedPreviously(Tr)||(Tr.swap(),nt.push(Tr.getFirstNode()),nt.push(Tr.getSecondNode())),lt.push(Tr))}this.swappedPairsInLastIteration=[];for(var pr=0;pr<lt.length;pr++)this.swappedPairsInLastIteration.push(lt[pr]);for(var On=0;On<_e;On++)Me[On].getOnCircleNodeExt().setDisplacementForSwap(0)}},ne.prototype.isSwappedPreviously=function(q){for(var se=0;se<this.swappedPairsInLastIteration.length;se++){var ae=this.swappedPairsInLastIteration[se];if(ae.getFirstNode()===q.getFirstNode()&&ae.getSecondNode()===q.getSecondNode()||ae.getSecondNode()===q.getFirstNode()&&ae.getFirstNode()===q.getSecondNode())return!0}return!1},ne.prototype.checkAndReverseIfReverseIsBetter=function(){for(var se=this.getGraphManager().getRoot().getNodes(),me=void 0,xe=0;xe<se.length;xe++)if(null!=(me=se[xe].getChild())&&me.getMayBeReversed()&&me.getNodes().length<=52&&me.checkAndReverseIfReverseIsBetter())return!0;return!1},ne.prototype.findAndMoveInnerNodes=function(){if(this.allowNodesInsideCircle)for(var q=this.graphManager.getGraphs(),se=0;se<q.length;se++){var ae=q[se],me=0;if(ae!==this.getGraphManager().getRoot())for(var xe=ae.getNodes().length*this.maxRatioOfNodesInsideCircle,Me=this.findInnerNode(ae);null!=Me&&me<xe;)this.moveInnerNode(Me),++me<xe&&(Me=this.findInnerNode(ae))}},ne.prototype.findInnerNode=function(q){var se=null,ae=q.getOnCircleNodes().length,me=q.getOnCircleNodes();me.sort(function(Ft,gn){return Ft.getEdges().length-gn.getEdges().length});for(var xe=ae-1;xe>=0&&null==se;xe--){var Me=me[xe];if(0===Me.getOnCircleNodeExt().getInterClusterEdges().length){var _e=this.findMinimalSpanningSegment(Me);if(0!==_e.length){for(var Ue=!1,Be=0;Be<_e.length;Be++){var nt=_e[Be];if(Ue)break;for(var lt=nt.getNeighborsList(),Ke=0;Ke<lt.length;Ke++){var Ct=lt[Ke];if(Ct!==Me&&Ct.getOwner()===q&&null!=Ct.getOnCircleNodeExt()&&null!=Ct.getOnCircleNodeExt()){var Xe=nt.getOnCircleNodeExt().getIndex(),Zt=Ct.getOnCircleNodeExt().getIndex(),Vt=Xe-Zt;if(Vt+=ae,(Vt%=ae)>1&&(Vt=Zt-Xe,Vt+=ae,Vt%=ae),Vt>1){Ue=!0;break}}}}Ue||(se=Me)}}}return se},ne.prototype.moveInnerNode=function(q){q.getOwner().moveOnCircleNodeInside(q);var ae=this.graphManager.getOnCircleNodes(),me=ae.indexOf(q);me>-1&&ae.splice(me,1),this.graphManager.inCircleNodes.push(q)},ne.prototype.findMinimalSpanningSegment=function(q){var se=[],ae=q.getOnCircleNeighbors();if(0===ae.length)return se;ae.sort(function(gn,ln){return gn.getOnCircleNodeExt().getIndex()-ln.getOnCircleNodeExt().getIndex()});var me=q.getOwner().getOnCircleNodes();me.sort(function(gn,ln){return gn.getOnCircleNodeExt().getIndex()-ln.getOnCircleNodeExt().getIndex()});var xe=null,Me=null,_e=me.length,Ue=me.length,Be=ae.length,nt=void 0,Ke=void 0,Ct=void 0,Xe=void 0;for(nt=0;nt<Be;nt++)Ke=ae[nt],(Xe=((Ct=ae[(nt-1+Be)%Be]).getOnCircleNodeExt().getIndex()-Ke.getOnCircleNodeExt().getIndex()+Ue)%Ue+1)<_e&&(xe=Ke,Me=Ct,_e=Xe);for(var Zt=!1,Vt=xe;!Zt;)if(Vt!==q&&se.push(Vt),Vt===Me)Zt=!0;else{var Ft=Vt.getOnCircleNodeExt().getIndex()+1;Ft===me.length&&(Ft=0),Vt=me[Ft]}return se},O.exports=ne},function(O,I,C){"use strict";var S=C(0).layoutBase.FDLayoutNode,R=C(0).layoutBase.IMath,N=C(1),V=C(12);function P(U,X,te,fe){S.call(this,U,X,te,fe),this.rotationAmount=null,this.onCircleNodeExt=null,this.clusterID=null,this.ID=null}for(var B in P.prototype=Object.create(S.prototype),S)P[B]=S[B];P.prototype.setClusterId=function(U){this.clusterID=U},P.prototype.getClusterId=function(){return this.clusterID},P.prototype.setId=function(U){this.ID=U},P.prototype.getId=function(){return this.ID},P.prototype.setAsOnCircleNode=function(){return this.onCircleNodeExt=new V(this),this.onCircleNodeExt},P.prototype.setAsNonOnCircleNode=function(){this.onCircleNodeExt=null},P.prototype.getOnCircleNodeExt=function(){return this.onCircleNodeExt},P.prototype.getLimitedDisplacement=function(U){return Math.abs(U)>N.MAX_NODE_DISPLACEMENT&&(U=N.MAX_NODE_DISPLACEMENT*R.sign(U)),U},P.prototype.getOnCircleNeighbors=function(){for(var U=Array.from(this.getNeighborsList()),X=[],te=0;te<U.length;te++){var fe=U[te];null!==fe.getOnCircleNodeExt()&&fe.getClusterId()===this.getClusterId()&&X.push(fe)}return X},P.prototype.getNoOfChildren=function(){return null===this.getChild()||void 0===this.getChild()?1:this.getChild().getNodes().length},P.prototype.move=function(){var U=this.getOwner().getGraphManager().getLayout();if(this.displacementX=this.getLimitedDisplacement(this.displacementX),this.displacementY=this.getLimitedDisplacement(this.displacementY),null!==this.getChild()&&void 0!==this.getChild()){var X=this.getChild().getNodes().length;this.displacementX/=X,this.displacementY/=X;for(var te=this.getChild().getNodes(),fe=0;fe<te.length;fe++)te[fe].moveBy(this.displacementX,this.displacementY),U.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)}this.moveBy(this.displacementX,this.displacementY),U.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),null!==this.getChild()&&void 0!==this.getChild()&&this.getChild().updateBounds(!0)},P.prototype.reset=function(){this.displacementX=0,this.displacementY=0},O.exports=P},function(O,I,C){"use strict";var S=C(0).layoutBase.IGeometry;function R(N){this.ciseNode=N,this.intraClusterEdges=null,this.interClusterEdges=null,this.angle=-1,this.orderIndex=-1,this.canSwapWithNext=null,this.canSwapWithPrevious=null,this.displacementForSwap=null}(R.prototype=Object.create(null)).getCiseNode=function(){return this.ciseNode},R.prototype.getAngle=function(){return this.angle},R.prototype.setAngle=function(N){this.angle=N%S.TWO_PI,this.angle<0&&(this.angle+=S.TWO_PI)},R.prototype.getIndex=function(){return this.orderIndex},R.prototype.setIndex=function(N){this.orderIndex=N},R.prototype.getCharCode=function(){return this.orderIndex<26?String.fromCharCode(97+this.orderIndex):this.orderIndex<52?String.fromCharCode(65+this.orderIndex):"?"},R.prototype.getNextNode=function(){var N=this.ciseNode.getOwner(),V=N.getOnCircleNodes().length,P=this.orderIndex+1;return P===V&&(P=0),N.getOnCircleNodes()[P]},R.prototype.getPrevNode=function(){var N=this.ciseNode.getOwner(),V=this.orderIndex-1;return-1===V&&(V=N.getOnCircleNodes().length-1),N.getOnCircleNodes()[V]},R.prototype.getNextNodeExt=function(){return this.getNextNode().getOnCircleNodeExt()},R.prototype.prevNextNodeExt=function(){return this.getPrevNode().getOnCircleNodeExt()},R.prototype.canSwapWithNext=function(){return this.canSwapWithNext},R.prototype.canSwapWithPrev=function(){return this.canSwapWithPrev},R.prototype.getDisplacementForSwap=function(){return this.displacementForSwap},R.prototype.setDisplacementForSwap=function(N){this.displacementForSwap=N},R.prototype.addDisplacementForSwap=function(N){this.displacementForSwap=N},R.prototype.updatePosition=function(){var N=this.ciseNode.getOwner(),V=N.getParent(),P=V.getCenterX(),B=V.getCenterY(),U=N.getRadius()*Math.cos(this.angle),X=N.getRadius()*Math.sin(this.angle);this.ciseNode.setCenter(P+U,B+X)},R.prototype.getCircDistWithTheNode=function(N){var V=N.getIndex();if(-1===V||-1===this.getIndex())return-1;var P=this.getIndex()-V;return P<0&&(P+=this.ciseNode.getOwner().getOnCircleNodes().length),P},R.prototype.calculateTotalCrossing=function(){var N=this.getIntraClusterEdges(),V=0,P=[];return this.ciseNode.getOwner().getIntraClusterEdges().forEach(function(B){P.push(B)}),this.ciseNode.getEdges().forEach(function(B){var U=P.indexOf(B);U>-1&&P.splice(U,1)}),N.forEach(function(B){V+=B.calculateTotalCrossingWithList(P)}),V},R.prototype.updateSwappingConditions=function(){var N=this.calculateTotalCrossing(),V=this.orderIndex,P=this.getNextNode().getOnCircleNodeExt();this.orderIndex=P.getIndex(),P.setIndex(V);var B=this.calculateTotalCrossing();this.canSwapWithNext=B<=N,P.setIndex(this.orderIndex),this.setIndex(V);var U=this.getPrevNode().getOnCircleNodeExt();this.orderIndex=U.getIndex(),U.setIndex(V),B=this.calculateTotalCrossing(),this.canSwapWithPrevious=B<=N,U.setIndex(this.orderIndex),this.setIndex(V)},R.prototype.swapWith=function(N){this.ciseNode.getOwner().swapNodes(this.ciseNode,N.ciseNode)},R.prototype.getInterClusterIntersections=function(N){for(var V=0,P=this.getInterClusterEdges(),B=N.getInterClusterEdges(),U=0;U<P.length;U++)for(var X=P[U],te=this.ciseNode.getCenter(),fe=X.getOtherEnd(this.ciseNode).getCenter(),ie=0;ie<B.length;ie++){var ce=B[ie],ue=N.ciseNode.getCenter(),ge=ce.getOtherEnd(N.ciseNode).getCenter();X.getOtherEnd(this.ciseNode)!==ce.getOtherEnd(N.ciseNode)&&S.doIntersect(te,fe,ue,ge)&&V++}return V},R.prototype.getInterClusterEdges=function(){if(null===this.interClusterEdges){this.interClusterEdges=[];for(var N=this.ciseNode.getEdges(),V=0;V<N.length;V++){var P=N[V];P.isIntraCluster||this.interClusterEdges.push(P)}}return this.interClusterEdges},R.prototype.getIntraClusterEdges=function(){if(null===this.intraClusterEdges){this.intraClusterEdges=[];for(var N=this.ciseNode.getEdges(),V=0;V<N.length;V++){var P=N[V];P.isIntraCluster&&this.intraClusterEdges.push(P)}}return this.intraClusterEdges},O.exports=R},function(O,I,C){"use strict";function S(R,N,V,P){this.firstNode=R,this.secondNode=N,this.discrepancy=V,this.inSameDir=P}(S.prototype=Object.create).getDiscrepancy=function(){return this.discrepancy},S.prototype.inSameDirection=function(){return this.inSameDir},S.prototype.getFirstNode=function(){return this.firstNode},S.prototype.getSecondNode=function(){return this.secondNode},S.prototype.compareTo=function(R){return this.getDiscrepancy()-R.getDiscrepancy()},S.prototype.swap=function(){this.getFirstNode().getOnCircleNodeExt().swapWith(this.getSecondNode().getOnCircleNodeExt())},S.prototype.equals=function(R){var N=R instanceof S;if(N){var V=R;N&=this.firstNode.equals(V.getFirstNode())&&this.secondNode.equals(V.getSecondNode())||this.secondNode.equals(V.getFirstNode())&&this.firstNode.equals(V.getSecondNode())}return N},S.prototype.hashCode=function(){return this.firstNode.hashCode()+this.secondNode.hashCode()},S.prototype.toString=function(){var R="Swap: "+this.getFirstNode().label;return(R+="<->"+this.getSecondNode().label)+", "+this.getDiscrepancy()},O.exports=S},function(O,I,C){"use strict";function S(R,N,V){this.rotationAmount=R,this.displacementX=N,this.displacementY=V}S.prototype.getRotationAmount=function(){return this.rotationAmount},S.prototype.setRotationAmount=function(R){this.rotationAmount=R},S.prototype.getDisplacementX=function(){return this.displacementX},S.prototype.setDisplacementX=function(R){this.displacementX=R},S.prototype.getDisplacementY=function(){return this.displacementY},S.prototype.setDisplacementY=function(R){this.displacementY=R},O.exports=S},function(O,I,C){"use strict";var S=C(4),R=function(V){V&&V("layout","cise",S)};typeof cytoscape<"u"&&R(cytoscape),O.exports=R},function(O,I,C){"use strict";var S=function(){function ne(ve,q){for(var se=0;se<q.length;se++){var ae=q[se];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(ve,ae.key,ae)}}return function(ve,q,se){return q&&ne(ve.prototype,q),se&&ne(ve,se),ve}}(),R=function ne(ve,q,se){null===ve&&(ve=Function.prototype);var ae=Object.getOwnPropertyDescriptor(ve,q);if(void 0===ae){var me=Object.getPrototypeOf(ve);return null===me?void 0:ne(me,q,se)}if("value"in ae)return ae.value;var xe=ae.get;return void 0===xe?void 0:xe.call(se)};var B=C(10),U=C(1),X=C(0).layoutBase.FDLayoutConstants,te=C(18),fe=te.defaults,ie=C(2),ge=function(ne){function ve(q){!function N(ne,ve){if(!(ne instanceof ve))throw new TypeError("Cannot call a class as a function")}(this,ve);var se=function V(ne,ve){if(!ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ve||"object"!=typeof ve&&"function"!=typeof ve?ne:ve}(this,(ve.__proto__||Object.getPrototypeOf(ve)).call(this,ie({},fe,q)));return U.DEFAULT_NODE_SEPARATION=null!=q.nodeSeparation?q.nodeSeparation:X.DEFAULT_EDGE_LENGTH/4,U.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF=null!=q.idealInterClusterEdgeLengthCoefficient?q.idealInterClusterEdgeLengthCoefficient:1.4,U.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE=null!=q.allowNodesInsideCircle&&q.allowNodesInsideCircle,U.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=null!=q.maxRatioOfNodesInsideCircle?q.maxRatioOfNodesInsideCircle:.1,U.DEFAULT_SPRING_STRENGTH=null!=q.springCoeff?q.springCoeff:1.5*X.DEFAULT_SPRING_STRENGTH,null!=q.nodeRepulsion&&(U.DEFAULT_REPULSION_STRENGTH=X.DEFAULT_REPULSION_STRENGTH=q.nodeRepulsion),null!=q.gravity&&(U.DEFAULT_GRAVITY_STRENGTH=X.DEFAULT_GRAVITY_STRENGTH=q.gravity),null!=q.gravityRange&&(U.DEFAULT_GRAVITY_RANGE_FACTOR=X.DEFAULT_GRAVITY_RANGE_FACTOR=q.gravityRange),U.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=null!=q.maxRatioOfNodesInsideCircle?q.maxRatioOfNodesInsideCircle:.1,se}return function P(ne,ve){if("function"!=typeof ve&&null!==ve)throw new TypeError("Super expression must either be null or a function, not "+typeof ve);ne.prototype=Object.create(ve&&ve.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),ve&&(Object.setPrototypeOf?Object.setPrototypeOf(ne,ve):ne.__proto__=ve)}(ve,ne),S(ve,[{key:"prerun",value:function(){var se=this.state,ae=[[]];null!=this.options.clusters&&(ae=this.options.clusters);var me=se.nodes,xe=se.edges,Me=this.ciseLayout=new B,_e=this.graphManager=Me.newGraphManager(),Ue=this.root=_e.addRoot();this.idToLNode=Me.convertToClusteredGraph(me,xe,ae),Ue.updateConnected(),Ue.calcEstimatedSize(),Me.calcNoOfChildrenForAllNodes(),Me.doStep1(),Me.doStep2(),Ue.updateBounds(!0),Ue.estimatedSize=Math.max(Ue.right-Ue.left,Ue.bottom-Ue.top),Me.prepareCirclesForReversal(),Me.calcIdealEdgeLengths(!1),this.initializerIndex=0,this.isDone=!1,this.isStepDone=!1,this.timeToSwitchNextStep=!0}},{key:"tick",value:function(){var se=this,ae=this;if(this.state.nodes.forEach(function(xe){var Me=se.getScratch(xe),_e=ae.idToLNode[xe.data("id")];Me.x=_e.getCenterX(),Me.y=_e.getCenterY()}),this.timeToSwitchNextStep){switch(this.initializerIndex){case 0:case 2:this.ciseLayout.step5Init();break;case 1:this.ciseLayout.step3Init();break;case 3:this.ciseLayout.step4Init();break;case 4:this.ciseLayout.findAndMoveInnerNodes(),this.ciseLayout.calcIdealEdgeLengths(!0),this.ciseLayout.step5Init()}this.initializerIndex++,this.ciseLayout.iterations=0,this.ciseLayout.totalDisplacement=1e3,this.timeToSwitchNextStep=!1}return this.isStepDone=this.ciseLayout.runSpringEmbedderTick(),this.isStepDone&&this.initializerIndex<5&&(this.timeToSwitchNextStep=!0),this.isStepDone&&!1===this.timeToSwitchNextStep&&(this.isDone=!0),this.isDone}},{key:"postrun",value:function(){}},{key:"destroy",value:function(){return R(ve.prototype.__proto__||Object.getPrototypeOf(ve.prototype),"destroy",this).call(this),this}}]),ve}(te);O.exports=ge},function(O,I,C){"use strict";O.exports=Object.freeze({animate:!1,refresh:10,maxIterations:2500,maxSimulationTime:5e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,infinite:!1})},function(O,I,C){"use strict";var S=function(){function ue(ge,ne){for(var ve=0;ve<ne.length;ve++){var q=ne[ve];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ge,q.key,q)}}return function(ge,ne,ve){return ne&&ue(ge.prototype,ne),ve&&ue(ge,ve),ge}}();var N=C(2),V=C(17),P=C(19),B=C(20),U=B.setInitialPositionState,X=B.refreshPositions,te=B.getNodePositionData,ie=C(21).multitick,ce=function(){function ue(ge){!function R(ue,ge){if(!(ue instanceof ge))throw new TypeError("Cannot call a class as a function")}(this,ue);var ne=this.options=N({},V,ge),ve=this.state=N({},ne,{layout:this,nodes:ne.eles.nodes(),edges:ne.eles.edges(),tickIndex:0,firstUpdate:!0});ve.animateEnd=ne.animate&&"end"===ne.animate,ve.animateContinuously=ne.animate&&!ve.animateEnd}return S(ue,[{key:"getScratch",value:function(ne){var ve=this.state.name,q=ne.scratch(ve);return q||ne.scratch(ve,q={}),q}},{key:"run",value:function(){var ne=this,ve=this.state;if(ve.tickIndex=0,ve.firstUpdate=!0,ve.startTime=Date.now(),ve.running=!0,ve.currentBoundingBox=P(ve.boundingBox,ve.cy),ve.ready&&ne.one("ready",ve.ready),ve.stop&&ne.one("stop",ve.stop),ve.nodes.forEach(function(Vt){return U(Vt,ve)}),ne.prerun(ve),ve.animateContinuously){var me=function(Ft){!function(Ft){te(Ft,ve).grabbed=Ft.grabbed()}(Ft.target)},xe=me,Me=function(Ft){var gn=Ft.target,ln=te(gn,ve),it=gn.position();ln.x=it.x,ln.y=it.y},Be=function(){ve.fit&&ve.animateContinuously&&ve.cy.fit(ve.padding)},nt=function(){X(ve.nodes,ve),Be(),requestAnimationFrame(lt)},lt=function(){ie(ve,nt,Ke)},Ke=function(){X(ve.nodes,ve),Be(),ve.nodes.forEach(function(Ft){(function(Ft){ve.ungrabifyWhileSimulating&&te(Ft,ve).grabbable&&Ft.grabify()})(Ft),function(Ft){Ft.removeListener("grab",me),Ft.removeListener("free",xe),Ft.removeListener("drag",Me)}(Ft)}),ve.running=!1,ne.emit("layoutstop")};ne.emit("layoutstart"),ve.nodes.forEach(function(Vt){var Ft;Ft=Vt,ve.ungrabifyWhileSimulating&&(te(Ft,ve).grabbable=Ft.grabbable())&&Ft.ungrabify(),function(Ft){Ft.on("grab",me),Ft.on("free",xe),Ft.on("drag",Me)}(Vt)}),lt()}else{for(var Ct=!1,Xe=function(){},Zt=function(){return Ct=!0};!Ct;)ie(ve,Xe,Zt);ve.eles.layoutPositions(this,ve,function(Vt){var Ft=te(Vt,ve);return{x:Ft.x,y:Ft.y}})}return ne.postrun(ve),this}},{key:"prerun",value:function(){}},{key:"postrun",value:function(){}},{key:"tick",value:function(){}},{key:"stop",value:function(){return this.state.running=!1,this}},{key:"destroy",value:function(){return this}}]),ue}();O.exports=ce},function(O,I,C){"use strict";O.exports=function(S,R){return null==(S=null==S?{x1:0,y1:0,w:R.width(),h:R.height()}:{x1:S.x1,x2:S.x2,y1:S.y1,y2:S.y2,w:S.w,h:S.h}).x2&&(S.x2=S.x1+S.w),null==S.w&&(S.w=S.x2-S.x1),null==S.y2&&(S.y2=S.y1+S.h),null==S.h&&(S.h=S.y2-S.y1),S}},function(O,I,C){"use strict";var S=C(2);O.exports={setInitialPositionState:function(B,U){var X=B.position(),te=U.currentBoundingBox,fe=B.scratch(U.name);null==fe&&B.scratch(U.name,fe={}),S(fe,U.randomize?{x:te.x1+Math.round(Math.random()*te.w),y:te.y1+Math.round(Math.random()*te.h)}:{x:X.x,y:X.y}),fe.locked=B.locked()},getNodePositionData:function(B,U){return B.scratch(U.name)},refreshPositions:function(B,U){B.positions(function(X){var te=X.scratch(U.name);return{x:te.x,y:te.y}})}}},function(O,I,C){"use strict";var S=function(){},R=function(P){var B=P,X=P.layout.tick(B);return B.firstUpdate&&(B.animateContinuously&&B.layout.emit("layoutready"),B.firstUpdate=!1),B.tickIndex++,!B.infinite&&X};O.exports={tick:R,multitick:function(P){for(var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,X=!1,te=P,fe=0;fe<te.refresh&&!(X=!te.running||R(te));fe++);X?U():B()}}}]))},7944:function(Y,le,D){var _;Y.exports=(_=D(8767),function(L){var O={};function I(C){if(O[C])return O[C].exports;var S=O[C]={i:C,l:!1,exports:{}};return L[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=L,I.c=O,I.d=function(C,S,R){I.o(C,S)||Object.defineProperty(C,S,{enumerable:!0,get:R})},I.r=function(C){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},I.t=function(C,S){if(1&S&&(C=I(C)),8&S||4&S&&"object"==typeof C&&C&&C.__esModule)return C;var R=Object.create(null);if(I.r(R),Object.defineProperty(R,"default",{enumerable:!0,value:C}),2&S&&"string"!=typeof C)for(var N in C)I.d(R,N,function(V){return C[V]}.bind(null,N));return R},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=0)}([function(L,O,I){var C=I(1),S=function(N){N&&N("layout","dagre",C)};typeof cytoscape<"u"&&S(cytoscape),L.exports=S},function(L,O,I){function C(B){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(X){return typeof X}:function(X){return X&&"function"==typeof Symbol&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X})(B)}var S=function(U){return"function"==typeof U},R=I(2),N=I(3),V=I(4);function P(B){this.options=N({},R,B)}P.prototype.run=function(){var B=this.options,X=B.cy,te=B.eles,fe=function(Zt,Vt){return S(Vt)?Vt.apply(Zt,[Zt]):Vt},ie=B.boundingBox||{x1:0,y1:0,w:X.width(),h:X.height()};void 0===ie.x2&&(ie.x2=ie.x1+ie.w),void 0===ie.w&&(ie.w=ie.x2-ie.x1),void 0===ie.y2&&(ie.y2=ie.y1+ie.h),void 0===ie.h&&(ie.h=ie.y2-ie.y1);var ce=new V.graphlib.Graph({multigraph:!0,compound:!0}),ue={},ge=function(Zt,Vt){null!=Vt&&(ue[Zt]=Vt)};ge("nodesep",B.nodeSep),ge("edgesep",B.edgeSep),ge("ranksep",B.rankSep),ge("rankdir",B.rankDir),ge("align",B.align),ge("ranker",B.ranker),ge("acyclicer",B.acyclicer),ce.setGraph(ue),ce.setDefaultEdgeLabel(function(){return{}}),ce.setDefaultNodeLabel(function(){return{}});var ne=te.nodes();S(B.sort)&&(ne=ne.sort(B.sort));for(var ve=0;ve<ne.length;ve++){var q=ne[ve],se=q.layoutDimensions(B);ce.setNode(q.id(),{width:se.w,height:se.h,name:q.id()})}for(var ae=0;ae<ne.length;ae++){var me=ne[ae];me.isChild()&&ce.setParent(me.id(),me.parent().id())}var Ke,xe=te.edges().stdFilter(function(Xe){return!Xe.source().isParent()&&!Xe.target().isParent()});S(B.sort)&&(xe=xe.sort(B.sort));for(var Me=0;Me<xe.length;Me++){var _e=xe[Me];ce.setEdge(_e.source().id(),_e.target().id(),{minlen:fe(_e,B.minLen),weight:fe(_e,B.edgeWeight),name:_e.id()},_e.id())}V.layout(ce);for(var Ue=ce.nodes(),Be=0;Be<Ue.length;Be++){var nt=Ue[Be],lt=ce.node(nt);X.getElementById(nt).scratch().dagre=lt}B.boundingBox?(Ke={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},ne.forEach(function(Xe){var Zt=Xe.scratch().dagre;Ke.x1=Math.min(Ke.x1,Zt.x),Ke.x2=Math.max(Ke.x2,Zt.x),Ke.y1=Math.min(Ke.y1,Zt.y),Ke.y2=Math.max(Ke.y2,Zt.y)}),Ke.w=Ke.x2-Ke.x1,Ke.h=Ke.y2-Ke.y1):Ke=ie;return ne.layoutPositions(this,B,function(Xe){var Zt=(Xe="object"===C(Xe)?Xe:this).scratch().dagre;return function(Zt){return B.boundingBox?{x:ie.x1+(0===Ke.w?0:(Zt.x-Ke.x1)/Ke.w)*ie.w,y:ie.y1+(0===Ke.h?0:(Zt.y-Ke.y1)/Ke.h)*ie.h}:Zt}({x:Zt.x,y:Zt.y})}),this},L.exports=P},function(L,O){L.exports={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(S){return 1},edgeWeight:function(S){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(S,R){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(S,R){return R},ready:function(){},sort:void 0,stop:function(){}}},function(L,O){L.exports=null!=Object.assign?Object.assign.bind(Object):function(I){for(var C=arguments.length,S=new Array(C>1?C-1:0),R=1;R<C;R++)S[R-1]=arguments[R];return S.forEach(function(N){Object.keys(N).forEach(function(V){return I[V]=N[V]})}),I}},function(L,O){L.exports=_}]))},3848:function(Y,le,D){var _;Y.exports=(_=D(7925),function(L){var O={};function I(C){if(O[C])return O[C].exports;var S=O[C]={i:C,l:!1,exports:{}};return L[C].call(S.exports,S,S.exports,I),S.l=!0,S.exports}return I.m=L,I.c=O,I.i=function(C){return C},I.d=function(C,S,R){I.o(C,S)||Object.defineProperty(C,S,{configurable:!1,enumerable:!0,get:R})},I.n=function(C){var S=C&&C.__esModule?function(){return C.default}:function(){return C};return I.d(S,"a",S),S},I.o=function(C,S){return Object.prototype.hasOwnProperty.call(C,S)},I.p="",I(I.s=7)}([function(L,O,I){"use strict";L.exports=null!=Object.assign?Object.assign.bind(Object):function(C){for(var S=arguments.length,R=Array(S>1?S-1:0),N=1;N<S;N++)R[N-1]=arguments[N];return R.forEach(function(V){null!=V&&Object.keys(V).forEach(function(P){return C[P]=V[P]})}),C}},function(L,O,I){"use strict";var S=I(5).getBoundingBox;L.exports={getRef:function R(N,V){return{getBoundingClientRect:function(){return S(N,V)}}}}},function(L,O,I){"use strict";var C=I(0),R=I(1).getRef,V=I(6).getContent,P={},U=I(8).createPopper;L.exports={getPopper:function X(te,fe){var ie=R(te,fe),ce=V(te,fe.content),ue=C({},P,fe.popper);return U(ie,ce,ue)}}},function(L,O,I){"use strict";var C=I(0),R=I(2).getPopper,V=I(1).getRef;function U(ie,ce){var ue=function(ae){return ae.isNode()?{w:ae.renderedWidth(),h:ae.renderedHeight()}:{w:3,h:3}},ve=ie.cy();return C({},{renderedDimensions:ue,renderedPosition:function(ae){return ae.isNode()?function X(ie,ce){var ue=ie.renderedPosition(),ge=ce(ie);return{x:ue.x-ge.w/2,y:ue.y-ge.h/2}}(ae,ue):function te(ie){var ce=ie.midpoint(),ue=ie.cy().pan(),ge=ie.cy().zoom();return{x:ce.x*ge+ue.x,y:ce.y*ge+ue.y}}(ae)},popper:{},cy:ve},ce)}function fe(ie){ie.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}L.exports={popper:function P(ie){return fe(this),R(this[0],U(this[0],ie))},popperRef:function B(ie){return fe(this),V(this[0],U(this[0],ie))}}},function(L,O,I){"use strict";var C=I(0),R=I(2).getPopper,V=I(1).getRef;function U(X,te){return C({},{boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},renderedPosition:function(){return{x:0,y:0}},popper:{},cy:X},te)}L.exports={popper:function P(X){return R(this,U(this,X))},popperRef:function B(X){return V(this,U(this,X))}}},function(L,O,I){"use strict";L.exports={getBoundingBox:function C(S,R){var N=R.renderedPosition,P=R.renderedDimensions,B=R.cy.container().getBoundingClientRect(),U=P(S),X=N(S);return{top:X.y+B.top,left:X.x+B.left,right:X.x+U.w+B.left,bottom:X.y+U.h+B.top,width:U.w,height:U.h}}}},function(L,O,I){"use strict";L.exports={getContent:function C(S,R){var N;if("function"!=typeof R){if(R instanceof HTMLElement)return R;throw new Error("Can not create popper from 'target' with unknown type")}if(null===(N=R(S)))throw new Error("No 'target' specified to create popper");return N}}},function(L,O,I){"use strict";var C=I(4),S=I(3),R=function(V){V&&(V("core","popper",C.popper),V("collection","popper",S.popper),V("core","popperRef",C.popperRef),V("collection","popperRef",S.popperRef))};typeof cytoscape<"u"&&R(cytoscape),L.exports=R},function(L,O){L.exports=_}]))},6100:(Y,le,D)=>{"use strict";var _=D(4430),L=D(7444),O=D(5440),I=D(7939),C=D(9078);function S(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}var R=S(_),N=S(L),V=S(O),P=S(I),B=S(C);function U(l){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(l)}function X(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}function te(l,i){for(var s=0;s<i.length;s++){var d=i[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function fe(l,i,s){return i&&te(l.prototype,i),s&&te(l,s),Object.defineProperty(l,"prototype",{writable:!1}),l}function ie(l,i,s){return i in l?Object.defineProperty(l,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[i]=s,l}function ce(l,i){return function ue(l){if(Array.isArray(l))return l}(l)||function ge(l,i){var s=null==l?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(null!=s){var g,w,d=[],h=!0,p=!1;try{for(s=s.call(l);!(h=(g=s.next()).done)&&(d.push(g.value),!i||d.length!==i);h=!0);}catch(E){p=!0,w=E}finally{try{!h&&null!=s.return&&s.return()}finally{if(p)throw w}}return d}}(l,i)||function ne(l,i){if(l){if("string"==typeof l)return ve(l,i);var s=Object.prototype.toString.call(l).slice(8,-1);if("Object"===s&&l.constructor&&(s=l.constructor.name),"Map"===s||"Set"===s)return Array.from(l);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ve(l,i)}}(l,i)||function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(l,i){(null==i||i>l.length)&&(i=l.length);for(var s=0,d=new Array(i);s<i;s++)d[s]=l[s];return d}var se=typeof window>"u"?null:window,ae=se?se.navigator:null,me=U(""),xe=U({}),Me=U(function(){}),_e=typeof HTMLElement>"u"?"undefined":U(HTMLElement),Ue=function(i){return i&&i.instanceString&&nt(i.instanceString)?i.instanceString():null},Be=function(i){return null!=i&&U(i)==me},nt=function(i){return null!=i&&U(i)===Me},lt=function(i){return!Ft(i)&&(Array.isArray?Array.isArray(i):null!=i&&i instanceof Array)},Ke=function(i){return null!=i&&U(i)===xe&&!lt(i)&&i.constructor===Object},Xe=function(i){return null!=i&&U(i)===U(1)&&!isNaN(i)},Vt=function(i){if("undefined"!==_e)return null!=i&&i instanceof HTMLElement},Ft=function(i){return gn(i)||ln(i)},gn=function(i){return"collection"===Ue(i)&&i._private.single},ln=function(i){return"collection"===Ue(i)&&!i._private.single},it=function(i){return"core"===Ue(i)},Je=function(i){return"stylesheet"===Ue(i)},Pt=function(i){return null==i||!(""!==i&&!i.match(/^\s+$/))},jn=function(i){return function(i){return null!=i&&U(i)===xe}(i)&&nt(i.then)},Tr=function(i,s){s||(s=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var p=[],g=0;g<arguments.length;g++)p.push(arguments[g]);return p.join("$")});var d=function h(){var w,g=arguments,E=s.apply(this,g),x=h.cache;return(w=x[E])||(w=x[E]=i.apply(this,g)),w};return d.cache={},d},pr=Tr(function(l){return l.replace(/([A-Z])/g,function(i){return"-"+i.toLowerCase()})}),yn=Tr(function(l){return l.replace(/(-\w)/g,function(i){return i[1].toUpperCase()})}),On=Tr(function(l,i){return l+i[0].toUpperCase()+i.substring(1)},function(l,i){return l+"$"+i}),Ur=function(i){return Pt(i)?i:i.charAt(0).toUpperCase()+i.substring(1)},cn="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Di="rgb[a]?\\(("+cn+"[%]?)\\s*,\\s*("+cn+"[%]?)\\s*,\\s*("+cn+"[%]?)(?:\\s*,\\s*("+cn+"))?\\)",Yi="rgb[a]?\\((?:"+cn+"[%]?)\\s*,\\s*(?:"+cn+"[%]?)\\s*,\\s*(?:"+cn+"[%]?)(?:\\s*,\\s*(?:"+cn+"))?\\)",Ii="hsl[a]?\\(("+cn+")\\s*,\\s*("+cn+"[%])\\s*,\\s*("+cn+"[%])(?:\\s*,\\s*("+cn+"))?\\)",Ai="hsl[a]?\\((?:"+cn+")\\s*,\\s*(?:"+cn+"[%])\\s*,\\s*(?:"+cn+"[%])(?:\\s*,\\s*(?:"+cn+"))?\\)",Ra=function(i,s){return i<s?-1:i>s?1:0},Sn=null!=Object.assign?Object.assign.bind(Object):function(l){for(var i=arguments,s=1;s<i.length;s++){var d=i[s];if(null!=d)for(var h=Object.keys(d),p=0;p<h.length;p++){var g=h[p];l[g]=d[g]}}return l},gs={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},bn=function(i){for(var s=i.map,d=i.keys,h=d.length,p=0;p<h;p++){var g=d[p];if(Ke(g))throw Error("Tried to set map with object key");p<d.length-1?(null==s[g]&&(s[g]={}),s=s[g]):s[g]=i.value}},la=function(i){for(var s=i.map,d=i.keys,h=d.length,p=0;p<h;p++){var g=d[p];if(Ke(g))throw Error("Tried to get map with object key");if(null==(s=s[g]))return s}return s},ao=se?se.performance:null,ii=ao&&ao.now?function(){return ao.now()}:function(){return Date.now()},Ui=function(){if(se){if(se.requestAnimationFrame)return function(l){se.requestAnimationFrame(l)};if(se.mozRequestAnimationFrame)return function(l){se.mozRequestAnimationFrame(l)};if(se.webkitRequestAnimationFrame)return function(l){se.webkitRequestAnimationFrame(l)};if(se.msRequestAnimationFrame)return function(l){se.msRequestAnimationFrame(l)}}return function(l){l&&setTimeout(function(){l(ii())},1e3/60)}}(),Wl=function(i){return Ui(i)},yi=ii,ba=9261,Rs=5381,Ec=function(i){for(var h,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ba;!(h=i.next()).done;)d=65599*d+h.value|0;return d},ka=function(i){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ba)+i|0},Ls=function(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rs;return(s<<5)+s+i|0},Ka=function(i){return 2097152*i[0]+i[1]},wa=function(i,s){return[ka(i[0],s[0]),Ls(i[1],s[1])]},Za=function(i,s){var d={value:0,done:!1},h=0,p=i.length;return Ec({next:function(){return h<p?d.value=i.charCodeAt(h++):d.done=!0,d}},s)},Sc=function(){return $l(arguments)},$l=function(i){for(var s,d=0;d<i.length;d++){var h=i[d];s=0===d?Za(h):Za(h,s)}return s},Tu=!0,qo=null!=console.warn,_c=null!=console.trace,Iu=Number.MAX_SAFE_INTEGER||9007199254740991,Au=function(){return!0},vs=function(){return!1},Nu=function(){return 0},Mc=function(){},$r=function(i){throw new Error(i)},Ca=function(i){if(void 0===i)return Tu;Tu=!!i},br=function(i){Ca()&&(qo?console.warn(i):(console.log(i),_c&&console.trace()))},Si=function(i){return null==i?i:lt(i)?i.slice():Ke(i)?function(i){return Sn({},i)}(i):i},Ld=function(i,s){for(s=i="";i++<36;s+=51*i&52?(15^i?8^Math.random()*(20^i?16:4):4).toString(16):"-");return s},_i={},Cn=function(){return _i},qr=function(i){var s=Object.keys(i);return function(d){for(var h={},p=0;p<s.length;p++){var g=s[p],w=d?.[g];h[g]=void 0===w?i[g]:w}return h}},Pa=function(i,s,d){for(var h=i.length-1;h>=0&&(i[h]!==s||(i.splice(h,1),!d));h--);},So=function(i){i.splice(0,i.length)},zi=function(i,s,d){return d&&(s=On(d,s)),i[s]},_o=function(i,s,d,h){d&&(s=On(d,s)),i[s]=h},_t=typeof Map<"u"?Map:function(){function l(){X(this,l),this._obj={}}return fe(l,[{key:"set",value:function(s,d){return this._obj[s]=d,this}},{key:"delete",value:function(s){return this._obj[s]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(s){return void 0!==this._obj[s]}},{key:"get",value:function(s){return this._obj[s]}}]),l}(),Ic=function(){function l(i){if(X(this,l),this._obj=Object.create(null),this.size=0,null!=i){var s;s=null!=i.instanceString&&i.instanceString()===this.instanceString()?i.toArray():i;for(var d=0;d<s.length;d++)this.add(s[d])}}return fe(l,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(s){var d=this._obj;1!==d[s]&&(d[s]=1,this.size++)}},{key:"delete",value:function(s){var d=this._obj;1===d[s]&&(d[s]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(s){return 1===this._obj[s]}},{key:"toArray",value:function(){var s=this;return Object.keys(this._obj).filter(function(d){return s.has(d)})}},{key:"forEach",value:function(s,d){return this.toArray().forEach(s,d)}}]),l}(),ms="undefined"!==(typeof Set>"u"?"undefined":U(Set))?Set:Ic,Oe=function(i,s){var d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==i&&void 0!==s&&it(i)){var h=s.group;if(null==h&&(h=s.data&&null!=s.data.source&&null!=s.data.target?"edges":"nodes"),"nodes"===h||"edges"===h){this.length=1,this[0]=this;var p=this._private={cy:i,single:!0,data:s.data||{},position:s.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:h,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!s.selected,selectable:void 0===s.selectable||!!s.selectable,locked:!!s.locked,grabbed:!1,grabbable:void 0===s.grabbable||!!s.grabbable,pannable:void 0===s.pannable?"edges"===h:!!s.pannable,active:!1,classes:new ms,animation:{current:[],queue:[]},rscratch:{},scratch:s.scratch||{},edges:[],children:[],parent:s.parent&&s.parent.isNode()?s.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==p.position.x&&(p.position.x=0),null==p.position.y&&(p.position.y=0),s.renderedPosition){var g=s.renderedPosition,w=i.pan(),E=i.zoom();p.position={x:(g.x-w.x)/E,y:(g.y-w.y)/E}}var x=[];lt(s.classes)?x=s.classes:Be(s.classes)&&(x=s.classes.split(/\s+/));for(var T=0,k=x.length;T<k;T++){var z=x[T];!z||""===z||p.classes.add(z)}this.createEmitter();var W=s.style||s.css;W&&(br("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(W)),(void 0===d||d)&&this.restore()}else $r("An element must be of type `nodes` or `edges`; you specified `"+h+"`")}else $r("An element must have a core reference and parameters set")},Le=function(i){return i={bfs:i.bfs||!i.dfs,dfs:i.dfs||!i.bfs},function(d,h,p){var g;Ke(d)&&!Ft(d)&&(d=(g=d).roots||g.root,h=g.visit,p=g.directed),p=2!==arguments.length||nt(h)?p:h,h=nt(h)?h:function(){};for(var Q,w=this._private.cy,E=d=Be(d)?this.filter(d):d,x=[],T=[],k={},z={},W={},j=0,J=this.byGroup(),oe=J.nodes,he=J.edges,pe=0;pe<E.length;pe++){var be=E[pe],Ae=be.id();be.isNode()&&(x.unshift(be),i.bfs&&(W[Ae]=!0,T.push(be)),z[Ae]=0)}for(var Ne=function(){var He=i.bfs?x.shift():x.pop(),Re=He.id();if(i.dfs){if(W[Re])return"continue";W[Re]=!0,T.push(He)}var vt,Ze=z[Re],ze=k[Re],je=null!=ze?ze.source():null,tt=null!=ze?ze.target():null,at=null==ze?void 0:He.same(je)?tt[0]:je[0];if(!0===(vt=h(He,ze,at,j++,Ze)))return Q=He,"break";if(!1===vt)return"break";for(var rt=He.connectedEdges().filter(function(wt){return(!p||wt.source().same(He))&&he.has(wt)}),gt=0;gt<rt.length;gt++){var It=rt[gt],At=It.connectedNodes().filter(function(wt){return!wt.same(He)&&oe.has(wt)}),St=At.id();0!==At.length&&!W[St]&&(x.push(At=At[0]),i.bfs&&(W[St]=!0,T.push(At)),k[St]=It,z[St]=z[Re]+1)}};0!==x.length;){var we=Ne();if("continue"!==we&&"break"===we)break}for(var Ie=w.collection(),Ce=0;Ce<T.length;Ce++){var ke=T[Ce],Pe=k[ke.id()];null!=Pe&&Ie.push(Pe),Ie.push(ke)}return{path:w.collection(Ie),found:w.collection(Q)}}},Ve={breadthFirstSearch:Le({bfs:!0}),depthFirstSearch:Le({dfs:!0})};Ve.bfs=Ve.breadthFirstSearch,Ve.dfs=Ve.depthFirstSearch;var et=qr({root:null,weight:function(i){return 1},directed:!1}),qe={dijkstra:function(i){if(!Ke(i)){var s=arguments;i={root:s[0],weight:s[1],directed:s[2]}}var ze,je,d=et(i),h=d.root,g=d.directed,w=this,E=d.weight,x=Be(h)?this.filter(h)[0]:h[0],T={},k={},z={},W=this.byGroup(),j=W.nodes,Q=W.edges;Q.unmergeBy(function(Ze){return Ze.isLoop()});for(var J=function(ze){return T[ze.id()]},he=new N.default(function(Ze,ze){return J(Ze)-J(ze)}),pe=0;pe<j.length;pe++){var be=j[pe];T[be.id()]=be.same(x)?0:1/0,he.push(be)}for(var Ae=function(ze,je){for(var vt,tt=(g?ze.edgesTo(je):ze.edgesWith(je)).intersect(Q),at=1/0,rt=0;rt<tt.length;rt++){var gt=tt[rt],It=E(gt);(It<at||!vt)&&(at=It,vt=gt)}return{edge:vt,dist:at}};he.size()>0;){var Ne=he.pop(),we=J(Ne),Ie=Ne.id();if(z[Ie]=we,we!==1/0)for(var Ce=Ne.neighborhood().intersect(j),ke=0;ke<Ce.length;ke++){var Pe=Ce[ke],De=Pe.id(),He=Ae(Ne,Pe),Re=we+He.dist;Re<J(Pe)&&(je=Re,T[(ze=Pe).id()]=je,he.updateItem(ze),k[De]={node:Ne,edge:He.edge})}}return{distanceTo:function(ze){var je=Be(ze)?j.filter(ze)[0]:ze[0];return z[je.id()]},pathTo:function(ze){var je=Be(ze)?j.filter(ze)[0]:ze[0],tt=[],at=je,vt=at.id();if(je.length>0)for(tt.unshift(je);k[vt];){var rt=k[vt];tt.unshift(rt.edge),tt.unshift(rt.node),vt=(at=rt.node).id()}return w.spawn(tt)}}}},qt={kruskal:function(i){i=i||function(pe){return 1};for(var s=this.byGroup(),d=s.nodes,h=s.edges,p=d.length,g=new Array(p),w=d,E=function(be){for(var Ae=0;Ae<g.length;Ae++)if(g[Ae].has(be))return Ae},x=0;x<p;x++)g[x]=this.spawn(d[x]);for(var T=h.sort(function(pe,be){return i(pe)-i(be)}),k=0;k<T.length;k++){var z=T[k],W=z.source()[0],j=z.target()[0],Q=E(W),J=E(j),oe=g[Q],he=g[J];Q!==J&&(w.merge(z),oe.merge(he),g.splice(J,1))}return w}},pn=qr({root:null,goal:null,weight:function(i){return 1},heuristic:function(i){return 0},directed:!1}),Ht={aStar:function(i){var s=this.cy(),d=pn(i),h=d.root,p=d.goal,g=d.heuristic,w=d.directed,E=d.weight;h=s.collection(h)[0],p=s.collection(p)[0];var pe,be,x=h.id(),T=p.id(),k={},z={},W={},j=new N.default(function(vt,rt){return z[vt.id()]-z[rt.id()]}),Q=new ms,J={},oe={},he=function(rt,gt){j.push(rt),Q.add(gt)};he(h,x),k[x]=0,z[x]=g(h);for(var we=0;j.size()>0;){if(be=(pe=j.pop()).id(),Q.delete(be),we++,be===T){for(var Ie=[],Ce=p,ke=T,Pe=oe[ke];Ie.unshift(Ce),null!=Pe&&Ie.unshift(Pe),null!=(Ce=J[ke]);)Pe=oe[ke=Ce.id()];return{found:!0,distance:k[be],path:this.spawn(Ie),steps:we}}W[be]=!0;for(var De=pe._private.edges,He=0;He<De.length;He++){var Re=De[He];if(this.hasElementWithId(Re.id())&&(!w||Re.data("source")===be)){var Ze=Re.source(),ze=Re.target(),je=Ze.id()!==be?Ze:ze,tt=je.id();if(this.hasElementWithId(tt)&&!W[tt]){var at=k[be]+E(Re);if(!Q.has(tt)){k[tt]=at,z[tt]=at+g(je),he(je,tt),J[tt]=pe,oe[tt]=Re;continue}at<k[tt]&&(k[tt]=at,z[tt]=at+g(je),J[tt]=pe,oe[tt]=Re)}}}}return{found:!1,distance:void 0,path:void 0,steps:we}}},en=qr({weight:function(i){return 1},directed:!1}),Ln={floydWarshall:function(i){for(var s=this.cy(),d=en(i),p=d.directed,g=d.weight,w=this.byGroup(),E=w.nodes,x=w.edges,T=E.length,k=T*T,z=function(It){return E.indexOf(It)},W=function(It){return E[It]},j=new Array(k),Q=0;Q<k;Q++){var J=Q%T;j[Q]=(Q-J)/T===J?0:1/0}for(var he=new Array(k),pe=new Array(k),be=0;be<x.length;be++){var Ae=x[be],Ne=Ae.source()[0],we=Ae.target()[0];if(Ne!==we){var Ie=z(Ne),Ce=z(we),ke=Ie*T+Ce,Pe=g(Ae);if(j[ke]>Pe&&(j[ke]=Pe,he[ke]=Ce,pe[ke]=Ae),!p){var De=Ce*T+Ie;!p&&j[De]>Pe&&(j[De]=Pe,he[De]=Ie,pe[De]=Ae)}}}for(var He=0;He<T;He++)for(var Re=0;Re<T;Re++)for(var Ze=Re*T+He,ze=0;ze<T;ze++){var je=Re*T+ze,tt=He*T+ze;j[Ze]+j[tt]<j[je]&&(j[je]=j[Ze]+j[tt],he[je]=he[Ze])}var vt=function(It){return z(function(It){return(Be(It)?s.filter(It):It)[0]}(It))};return{distance:function(It,At){var St=vt(It),wt=vt(At);return j[St*T+wt]},path:function(It,At){var St=vt(It),wt=vt(At),Qe=W(St);if(St===wt)return Qe.collection();if(null==he[St*T+wt])return s.collection();var Tt=s.collection();for(Tt.merge(Qe);St!==wt;)Tt.merge(pe[St*T+(St=he[St*T+wt])]),Tt.merge(W(St));return Tt}}}},Bt=qr({weight:function(i){return 1},directed:!1,root:null}),xr={bellmanFord:function(i){var s=this,d=Bt(i),p=d.directed,g=d.root,w=d.weight,E=this,x=this.cy(),T=this.byGroup(),k=T.edges,z=T.nodes,W=z.length,j=new _t,Q=!1,J=[];g=x.collection(g)[0],k.unmergeBy(function(En){return En.isLoop()});for(var oe=k.length,he=function(sn){var Mn=j.get(sn.id());return Mn||(Mn={},j.set(sn.id(),Mn)),Mn},pe=function(sn){return(Be(sn)?x.$(sn):sn)[0]},Ne=0;Ne<W;Ne++){var we=z[Ne],Ie=he(we);Ie.dist=we.same(g)?0:1/0,Ie.pred=null,Ie.edge=null}for(var Ce=!1,ke=function(sn,Mn,Er,ar,Fn,Ut){var Ee=ar.dist+Ut;Ee<Fn.dist&&!Er.same(ar.edge)&&(Fn.dist=Ee,Fn.pred=sn,Fn.edge=Er,Ce=!0)},Pe=1;Pe<W;Pe++){Ce=!1;for(var De=0;De<oe;De++){var He=k[De],Re=He.source(),Ze=He.target(),ze=w(He),je=he(Re),tt=he(Ze);ke(Re,0,He,je,tt,ze),p||ke(Ze,0,He,tt,je,ze)}if(!Ce)break}if(Ce)for(var at=[],vt=0;vt<oe;vt++){var rt=k[vt],gt=rt.source(),It=rt.target(),At=w(rt),St=he(gt).dist,wt=he(It).dist;if(St+At<wt||!p&&wt+At<St){if(Q||(br("Graph contains a negative weight cycle for Bellman-Ford"),Q=!0),!1===i.findNegativeWeightCycles)break;var Qe=[];St+At<wt&&Qe.push(gt),!p&&wt+At<St&&Qe.push(It);for(var Tt=Qe.length,Nt=0;Nt<Tt;Nt++){var $t=Qe[Nt],nn=[$t];nn.push(he($t).edge);for(var Hn=he($t).pred;-1===nn.indexOf(Hn);)nn.push(Hn),nn.push(he(Hn).edge),Hn=he(Hn).pred;for(var Jn=(nn=nn.slice(nn.indexOf(Hn)))[0].id(),an=0,Jt=2;Jt<nn.length;Jt+=2)nn[Jt].id()<Jn&&(Jn=nn[Jt].id(),an=Jt);(nn=nn.slice(an).concat(nn.slice(0,an))).push(nn[0]);var In=nn.map(function(En){return En.id()}).join(",");-1===at.indexOf(In)&&(J.push(E.spawn(nn)),at.push(In))}}}return{distanceTo:function(sn){return he(pe(sn)).dist},pathTo:function(sn){for(var Mn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,ar=[],Fn=pe(sn);;){if(null==Fn)return s.spawn();var Ut=he(Fn),Ee=Ut.edge,st=Ut.pred;if(ar.unshift(Fn[0]),Fn.same(Mn)&&ar.length>0)break;null!=Ee&&ar.unshift(Ee),Fn=st}return E.spawn(ar)},hasNegativeWeightCycle:Q,negativeWeightCycles:J}}},Wn=Math.sqrt(2),Qn=function(i,s,d){0===d.length&&$r("Karger-Stein must be run on a connected (sub)graph");for(var h=d[i],w=s[h[1]],E=s[h[2]],x=d,T=x.length-1;T>=0;T--){var k=x[T],z=k[1],W=k[2];(s[z]===w&&s[W]===E||s[z]===E&&s[W]===w)&&x.splice(T,1)}for(var j=0;j<x.length;j++){var Q=x[j];Q[1]===E?(x[j]=Q.slice(),x[j][1]=w):Q[2]===E&&(x[j]=Q.slice(),x[j][2]=w)}for(var J=0;J<s.length;J++)s[J]===E&&(s[J]=w);return x},Yr=function(i,s,d,h){for(;d>h;){var p=Math.floor(Math.random()*s.length);s=Qn(p,i,s),d--}return s},_n={kargerStein:function(){var i=this,s=this.byGroup(),d=s.nodes,h=s.edges;h.unmergeBy(function(tt){return tt.isLoop()});var p=d.length,g=h.length,w=Math.ceil(Math.pow(Math.log(p)/Math.LN2,2)),E=Math.floor(p/Wn);if(!(p<2)){for(var x=[],T=0;T<g;T++){var k=h[T];x.push([T,d.indexOf(k.source()),d.indexOf(k.target())])}for(var z=1/0,W=[],j=new Array(p),Q=new Array(p),J=new Array(p),oe=function(at,vt){for(var rt=0;rt<p;rt++)vt[rt]=at[rt]},he=0;he<=w;he++){for(var pe=0;pe<p;pe++)Q[pe]=pe;var be=Yr(Q,x.slice(),p,E),Ae=be.slice();oe(Q,J);var Ne=Yr(Q,be,E,2),we=Yr(J,Ae,E,2);Ne.length<=we.length&&Ne.length<z?(z=Ne.length,W=Ne,oe(Q,j)):we.length<=Ne.length&&we.length<z&&(z=we.length,W=we,oe(J,j))}for(var Ie=this.spawn(W.map(function(tt){return h[tt[0]]})),Ce=this.spawn(),ke=this.spawn(),Pe=j[0],De=0;De<j.length;De++){var Re=d[De];j[De]===Pe?Ce.merge(Re):ke.merge(Re)}var Ze=function(at){var vt=i.spawn();return at.forEach(function(rt){vt.merge(rt),rt.connectedEdges().forEach(function(gt){i.contains(gt)&&!Ie.contains(gt)&&vt.merge(gt)})}),vt},ze=[Ze(Ce),Ze(ke)];return{cut:Ie,components:ze,partition1:Ce,partition2:ke}}$r("At least 2 nodes are required for Karger-Stein algorithm")}},Ar=function(i,s,d){return{x:i.x*s+d.x,y:i.y*s+d.y}},oi=function(i,s,d){return{x:(i.x-d.x)/s,y:(i.y-d.y)/s}},Qr=function(i){return{x:i[0],y:i[1]}},Jr=function(i,s){return Math.atan2(s,i)-Math.PI/2},Oi=Math.log2||function(l){return Math.log(l)/Math.log(2)},so=function(i){return i>0?1:i<0?-1:0},Ri=function(i,s){return Math.sqrt(_r(i,s))},_r=function(i,s){var d=s.x-i.x,h=s.y-i.y;return d*d+h*h},ks=function(i){for(var s=i.length,d=0,h=0;h<s;h++)d+=i[h];for(var p=0;p<s;p++)i[p]=i[p]/d;return i},ei=function(i,s,d,h){return(1-h)*(1-h)*i+2*(1-h)*h*s+h*h*d},lo=function(i,s,d,h){return{x:ei(i.x,s.x,d.x,h),y:ei(i.y,s.y,d.y,h)}},Ps=function(i,s,d){return Math.max(i,Math.min(d,s))},bi=function(i){if(null==i)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=i.x1&&null!=i.y1){if(null!=i.x2&&null!=i.y2&&i.x2>=i.x1&&i.y2>=i.y1)return{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2,w:i.x2-i.x1,h:i.y2-i.y1};if(null!=i.w&&null!=i.h&&i.w>=0&&i.h>=0)return{x1:i.x1,y1:i.y1,x2:i.x1+i.w,y2:i.y1+i.h,w:i.w,h:i.h}}},bl=function(i,s){i.x1=Math.min(i.x1,s.x1),i.x2=Math.max(i.x2,s.x2),i.w=i.x2-i.x1,i.y1=Math.min(i.y1,s.y1),i.y2=Math.max(i.y2,s.y2),i.h=i.y2-i.y1},Ru=function(i,s,d){i.x1=Math.min(i.x1,s),i.x2=Math.max(i.x2,s),i.w=i.x2-i.x1,i.y1=Math.min(i.y1,d),i.y2=Math.max(i.y2,d),i.h=i.y2-i.y1},Ea=function(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i.x1-=s,i.x2+=s,i.y1-=s,i.y2+=s,i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},ys=function(i){var d,h,p,g,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===s.length)d=h=p=g=s[0];else if(2===s.length)d=p=s[0],g=h=s[1];else if(4===s.length){var w=ce(s,4);d=w[0],h=w[1],p=w[2],g=w[3]}return i.x1-=g,i.x2+=h,i.y1-=d,i.y2+=p,i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},Ki=function(i,s){i.x1=s.x1,i.y1=s.y1,i.x2=s.x2,i.y2=s.y2,i.w=i.x2-i.x1,i.h=i.y2-i.y1},$n=function(i,s){return!(i.x1>s.x2||s.x1>i.x2||i.x2<s.x1||s.x2<i.x1||i.y2<s.y1||s.y2<i.y1||i.y1>s.y2||s.y1>i.y2)},Fa=function(i,s,d){return i.x1<=s&&s<=i.x2&&i.y1<=d&&d<=i.y2},kd=function(i,s){return Fa(i,s.x,s.y)},Ac=function(i,s){return Fa(i,s.x1,s.y1)&&Fa(i,s.x2,s.y2)},un=function(i,s,d,h,p,g,w){var k,E=Kl(p,g),x=p/2,T=g/2,W=h-T-w;if((k=qa(i,s,d,h,d-x+E-w,W,d+x-E+w,W,!1)).length>0)return k;var J=d+x+w;if((k=qa(i,s,d,h,J,h-T+E-w,J,h+T-E+w,!1)).length>0)return k;var Ae=h+T+w;if((k=qa(i,s,d,h,d-x+E-w,Ae,d+x-E+w,Ae,!1)).length>0)return k;var De,Ie=d-x-w;if((k=qa(i,s,d,h,Ie,h-T+E-w,Ie,h+T-E+w,!1)).length>0)return k;var He=d-x+E,Re=h-T+E;if((De=Zs(i,s,d,h,He,Re,E+w)).length>0&&De[0]<=He&&De[1]<=Re)return[De[0],De[1]];var Ze=d+x-E,ze=h-T+E;if((De=Zs(i,s,d,h,Ze,ze,E+w)).length>0&&De[0]>=Ze&&De[1]<=ze)return[De[0],De[1]];var je=d+x-E,tt=h+T-E;if((De=Zs(i,s,d,h,je,tt,E+w)).length>0&&De[0]>=je&&De[1]>=tt)return[De[0],De[1]];var at=d-x+E,vt=h+T-E;return(De=Zs(i,s,d,h,at,vt,E+w)).length>0&&De[0]<=at&&De[1]>=vt?[De[0],De[1]]:[]},Xs=function(i,s,d,h,p,g,w){var E=w,x=Math.min(d,p),T=Math.max(d,p),k=Math.min(h,g),z=Math.max(h,g);return x-E<=i&&i<=T+E&&k-E<=s&&s<=z+E},di=function(i,s,d,h,p,g,w,E,x){var T_x1=Math.min(d,w,p)-x,T_x2=Math.max(d,w,p)+x,T_y1=Math.min(h,E,g)-x,T_y2=Math.max(h,E,g)+x;return!(i<T_x1||i>T_x2||s<T_y1||s>T_y2)},Yl=function(i,s,d,h,p,g,w,E){var W=[];!function(i,s,d,h,p){var w,E,x,T,k,z,W,j;0===i&&(i=1e-5),x=-27*(h/=i)+(s/=i)*(9*(d/=i)-s*s*2),w=(E=(3*d-s*s)/9)*E*E+(x/=54)*x,p[1]=0,W=s/3,w>0?(k=(k=x+Math.sqrt(w))<0?-Math.pow(-k,1/3):Math.pow(k,1/3),z=(z=x-Math.sqrt(w))<0?-Math.pow(-z,1/3):Math.pow(z,1/3),p[0]=-W+k+z,p[4]=p[2]=-(W+=(k+z)/2),W=Math.sqrt(3)*(-z+k)/2,p[3]=W,p[5]=-W):(p[5]=p[3]=0,0===w?(j=x<0?-Math.pow(-x,1/3):Math.pow(x,1/3),p[0]=2*j-W,p[4]=p[2]=-(j+W)):(T=(E=-E)*E*E,T=Math.acos(x/Math.sqrt(T)),j=2*Math.sqrt(E),p[0]=-W+j*Math.cos(T/3),p[2]=-W+j*Math.cos((T+2*Math.PI)/3),p[4]=-W+j*Math.cos((T+4*Math.PI)/3)))}(1*d*d-4*d*p+2*d*w+4*p*p-4*p*w+w*w+h*h-4*h*g+2*h*E+4*g*g-4*g*E+E*E,9*d*p-3*d*d-3*d*w-6*p*p+3*p*w+9*h*g-3*h*h-3*h*E-6*g*g+3*g*E,3*d*d-6*d*p+d*w-d*i+2*p*p+2*p*i-w*i+3*h*h-6*h*g+h*E-h*s+2*g*g+2*g*s-E*s,1*d*p-d*d+d*i-p*i+h*g-h*h+h*s-g*s,W);for(var Q=[],J=0;J<6;J+=2)Math.abs(W[J+1])<1e-7&&W[J]>=0&&W[J]<=1&&Q.push(W[J]);Q.push(1),Q.push(0);for(var he,pe,be,oe=-1,Ae=0;Ae<Q.length;Ae++)he=Math.pow(1-Q[Ae],2)*d+2*(1-Q[Ae])*Q[Ae]*p+Q[Ae]*Q[Ae]*w,pe=Math.pow(1-Q[Ae],2)*h+2*(1-Q[Ae])*Q[Ae]*g+Q[Ae]*Q[Ae]*E,be=Math.pow(he-i,2)+Math.pow(pe-s,2),oe>=0?be<oe&&(oe=be):oe=be;return oe},Ks=function(i,s,d,h,p,g){var w=[i-d,s-h],E=[p-d,g-h],x=E[0]*E[0]+E[1]*E[1],T=w[0]*w[0]+w[1]*w[1],k=w[0]*E[0]+w[1]*E[1],z=k*k/x;return k<0?T:z>x?(i-p)*(i-p)+(s-g)*(s-g):T-z},Uo=function(i,s,d){for(var h,p,g,w,x=0,T=0;T<d.length/2;T++)if(p=d[2*T+1],T+1<d.length/2?(g=d[2*(T+1)],w=d[2*(T+1)+1]):(g=d[2*(T+1-d.length/2)],w=d[2*(T+1-d.length/2)+1]),(h=d[2*T])!=i||g!=i){if(!(h>=i&&i>=g||h<=i&&i<=g))continue;(i-h)/(g-h)*(w-p)+p>s&&x++}return x%2!=0},Sa=function(i,s,d,h,p,g,w,E,x){var k,Q,T=new Array(d.length);null!=E[0]?(k=Math.atan(E[1]/E[0]),E[0]<0?k+=Math.PI/2:k=-k-Math.PI/2):k=E;for(var z=Math.cos(-k),W=Math.sin(-k),j=0;j<T.length/2;j++)T[2*j]=g/2*(d[2*j]*z-d[2*j+1]*W),T[2*j+1]=w/2*(d[2*j+1]*z+d[2*j]*W),T[2*j]+=h,T[2*j+1]+=p;if(x>0){var J=ku(T,-x);Q=wl(J)}else Q=T;return Uo(i,s,Q)},wl=function(i){for(var w,E,x,T,s=new Array(i.length/2),k=0;k<i.length/4;k++){k<i.length/4-1?(w=i[4*(k+1)],E=i[4*(k+1)+1],x=i[4*(k+1)+2],T=i[4*(k+1)+3]):(w=i[0],E=i[1],x=i[2],T=i[3]);var z=qa(i[4*k],i[4*k+1],i[4*k+2],i[4*k+3],w,E,x,T,!0);s[2*k]=z[0],s[2*k+1]=z[1]}return s},ku=function(i,s){for(var h,p,g,w,d=new Array(2*i.length),E=0;E<i.length/2;E++){E<i.length/2-1?(g=i[2*(E+1)],w=i[2*(E+1)+1]):(g=i[0],w=i[1]);var x=w-(p=i[2*E+1]),T=-(g-(h=i[2*E])),k=Math.sqrt(x*x+T*T),z=x/k,W=T/k;d[4*E]=h+z*s,d[4*E+1]=p+W*s,d[4*E+2]=g+z*s,d[4*E+3]=w+W*s}return d},Ba=function(i,s,d,h,p,g,w){return i-=p,s-=g,(i/=d/2+w)*i+(s/=h/2+w)*s<=1},Zs=function(i,s,d,h,p,g,w){var E=[d-i,h-s],x=[i-p,s-g],T=E[0]*E[0]+E[1]*E[1],k=2*(x[0]*E[0]+x[1]*E[1]),W=k*k-4*T*(x[0]*x[0]+x[1]*x[1]-w*w);if(W<0)return[];var j=(-k+Math.sqrt(W))/(2*T),Q=(-k-Math.sqrt(W))/(2*T),J=Math.min(j,Q),oe=Math.max(j,Q),he=[];if(J>=0&&J<=1&&he.push(J),oe>=0&&oe<=1&&he.push(oe),0===he.length)return[];var pe=he[0]*E[0]+i,be=he[0]*E[1]+s;return he.length>1?he[0]==he[1]?[pe,be]:[pe,be,he[1]*E[0]+i,he[1]*E[1]+s]:[pe,be]},uo=function(i,s,d){return s<=i&&i<=d||d<=i&&i<=s?i:i<=s&&s<=d||d<=s&&s<=i?s:d},qa=function(i,s,d,h,p,g,w,E,x){var T=i-p,k=d-i,z=w-p,W=s-g,j=h-s,Q=E-g,J=z*W-Q*T,oe=k*W-j*T,he=Q*k-z*j;if(0!==he){var pe=J/he,be=oe/he;return-.001<=pe&&pe<=1.001&&-.001<=be&&be<=1.001||x?[i+pe*k,s+pe*j]:[]}return 0===J||0===oe?uo(i,d,w)===w?[w,E]:uo(i,d,p)===p?[p,g]:uo(p,w,d)===d?[d,h]:[]:[]},Cl=function(i,s,d,h,p,g,w,E){var T,W,x=[],k=new Array(d.length),z=!0;if(null==g&&(z=!1),z){for(var j=0;j<k.length/2;j++)k[2*j]=d[2*j]*g+h,k[2*j+1]=d[2*j+1]*w+p;if(E>0){var Q=ku(k,-E);W=wl(Q)}else W=k}else W=d;for(var he,pe,be=0;be<W.length/2;be++)be<W.length/2-1?(he=W[2*(be+1)],pe=W[2*(be+1)+1]):(he=W[0],pe=W[1]),0!==(T=qa(i,s,h,p,W[2*be],W[2*be+1],he,pe)).length&&x.push(T[0],T[1]);return x},Pd=function(i,s,d){var h=[i[0]-s[0],i[1]-s[1]],p=Math.sqrt(h[0]*h[0]+h[1]*h[1]),g=(p-d)/p;return g<0&&(g=1e-5),[s[0]+g*h[0],s[1]+g*h[1]]},zo=function(i,s){var d=Xl(i,s);return Pu(d)},Pu=function(i){for(var s,d,h=i.length/2,p=1/0,g=1/0,w=-1/0,E=-1/0,x=0;x<h;x++)s=i[2*x],d=i[2*x+1],p=Math.min(p,s),w=Math.max(w,s),g=Math.min(g,d),E=Math.max(E,d);for(var T=2/(w-p),k=2/(E-g),z=0;z<h;z++)s=i[2*z]=i[2*z]*T,d=i[2*z+1]=i[2*z+1]*k,p=Math.min(p,s),w=Math.max(w,s),g=Math.min(g,d),E=Math.max(E,d);if(g<-1)for(var W=0;W<h;W++)d=i[2*W+1]=i[2*W+1]+(-1-g);return i},Xl=function(i,s){var d=1/i*2*Math.PI,h=i%2==0?Math.PI/2+d/2:Math.PI/2;h+=s;for(var g,p=new Array(2*i),w=0;w<i;w++)g=w*d+h,p[2*w]=Math.cos(g),p[2*w+1]=Math.sin(-g);return p},Kl=function(i,s){return Math.min(i/4,s/4,8)},Fu=function(i,s){return Math.min(i/10,s/10,8)},kf=function(i,s){return{heightOffset:Math.min(15,.05*s),widthOffset:Math.min(100,.25*i),ctrlPtOffsetPct:.05}},Pf=qr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(i){return 1}}),Fs={pageRank:function(i){for(var s=Pf(i),d=s.dampingFactor,h=s.precision,p=s.iterations,g=s.weight,w=this._private.cy,E=this.byGroup(),x=E.nodes,T=E.edges,k=x.length,W=T.length,j=new Array(k*k),Q=new Array(k),J=(1-d)/k,oe=0;oe<k;oe++){for(var he=0;he<k;he++)j[oe*k+he]=0;Q[oe]=0}for(var be=0;be<W;be++){var Ae=T[be],Ne=Ae.data("source"),we=Ae.data("target");if(Ne!==we){var Ie=x.indexOfId(Ne),Ce=x.indexOfId(we),ke=g(Ae);j[Ce*k+Ie]+=ke,Q[Ie]+=ke}}for(var De=1/k+J,He=0;He<k;He++)if(0===Q[He])for(var Re=0;Re<k;Re++)j[Re*k+He]=De;else for(var ze=0;ze<k;ze++){var je=ze*k+He;j[je]=j[je]/Q[He]+J}for(var vt,tt=new Array(k),at=new Array(k),rt=0;rt<k;rt++)tt[rt]=1;for(var gt=0;gt<p;gt++){for(var It=0;It<k;It++)at[It]=0;for(var At=0;At<k;At++)for(var St=0;St<k;St++)at[At]+=j[At*k+St]*tt[St];ks(at),vt=tt,tt=at,at=vt;for(var Qe=0,Tt=0;Tt<k;Tt++){var Nt=vt[Tt]-tt[Tt];Qe+=Nt*Nt}if(Qe<h)break}return{rank:function(Hn){return Hn=w.collection(Hn)[0],tt[x.indexOf(Hn)]}}}},Gh=qr({root:null,weight:function(i){return 1},directed:!1,alpha:0}),_a={degreeCentralityNormalized:function(i){i=Gh(i);var s=this.cy(),d=this.nodes(),h=d.length;if(i.directed){for(var T={},k={},z=0,W=0,j=0;j<h;j++){var Q=d[j],J=Q.id();i.root=Q;var oe=this.degreeCentrality(i);z<oe.indegree&&(z=oe.indegree),W<oe.outdegree&&(W=oe.outdegree),T[J]=oe.indegree,k[J]=oe.outdegree}return{indegree:function(pe){return 0==z?0:(Be(pe)&&(pe=s.filter(pe)),T[pe.id()]/z)},outdegree:function(pe){return 0===W?0:(Be(pe)&&(pe=s.filter(pe)),k[pe.id()]/W)}}}for(var p={},g=0,w=0;w<h;w++){var E=d[w];i.root=E;var x=this.degreeCentrality(i);g<x.degree&&(g=x.degree),p[E.id()]=x.degree}return{degree:function(pe){return 0===g?0:(Be(pe)&&(pe=s.filter(pe)),p[pe.id()]/g)}}},degreeCentrality:function(i){i=Gh(i);var s=this.cy(),d=this,p=i.root,g=i.weight,w=i.directed,E=i.alpha;if(p=s.collection(p)[0],w){for(var W=p.connectedEdges(),j=W.filter(function(Ne){return Ne.target().same(p)&&d.has(Ne)}),Q=W.filter(function(Ne){return Ne.source().same(p)&&d.has(Ne)}),J=j.length,oe=Q.length,he=0,pe=0,be=0;be<j.length;be++)he+=g(j[be]);for(var Ae=0;Ae<Q.length;Ae++)pe+=g(Q[Ae]);return{indegree:Math.pow(J,1-E)*Math.pow(he,E),outdegree:Math.pow(oe,1-E)*Math.pow(pe,E)}}for(var x=p.connectedEdges().intersection(d),T=x.length,k=0,z=0;z<x.length;z++)k+=g(x[z]);return{degree:Math.pow(T,1-E)*Math.pow(k,E)}}};_a.dc=_a.degreeCentrality,_a.dcn=_a.degreeCentralityNormalised=_a.degreeCentralityNormalized;var jh=qr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Yt={closenessCentralityNormalized:function(i){for(var s=jh(i),d=s.harmonic,h=s.weight,p=s.directed,g=this.cy(),w={},E=0,x=this.nodes(),T=this.floydWarshall({weight:h,directed:p}),k=0;k<x.length;k++){for(var z=0,W=x[k],j=0;j<x.length;j++)if(k!==j){var Q=T.distance(W,x[j]);z+=d?1/Q:Q}d||(z=1/z),E<z&&(E=z),w[W.id()]=z}return{closeness:function(oe){return 0==E?0:(oe=Be(oe)?g.filter(oe)[0].id():oe.id(),w[oe]/E)}}},closenessCentrality:function(i){var s=jh(i),d=s.root,h=s.weight,p=s.directed,g=s.harmonic;d=this.filter(d)[0];for(var w=this.dijkstra({root:d,weight:h,directed:p}),E=0,x=this.nodes(),T=0;T<x.length;T++){var k=x[T];if(!k.same(d)){var z=w.distanceTo(k);E+=g?1/z:z}}return g?E:1/E}};Yt.cc=Yt.closenessCentrality,Yt.ccn=Yt.closenessCentralityNormalised=Yt.closenessCentralityNormalized;var Ff=qr({weight:null,directed:!1}),tn={betweennessCentrality:function(i){for(var s=Ff(i),d=s.directed,h=s.weight,p=null!=h,g=this.cy(),w=this.nodes(),E={},x={},T=0,k={set:function(pe,be){x[pe]=be,be>T&&(T=be)},get:function(pe){return x[pe]}},z=0;z<w.length;z++){var W=w[z],j=W.id();E[j]=d?W.outgoers().nodes():W.openNeighborhood().nodes(),k.set(j,0)}for(var Q=function(pe){for(var be=w[pe].id(),Ae=[],Ne={},we={},Ie={},Ce=new N.default(function(St,wt){return Ie[St]-Ie[wt]}),ke=0;ke<w.length;ke++){var Pe=w[ke].id();Ne[Pe]=[],we[Pe]=0,Ie[Pe]=1/0}for(we[be]=1,Ie[be]=0,Ce.push(be);!Ce.empty();){var De=Ce.pop();if(Ae.push(De),p)for(var He=0;He<E[De].length;He++){var ze,Re=E[De][He],Ze=g.getElementById(De);ze=Ze.edgesTo(Re).length>0?Ze.edgesTo(Re)[0]:Re.edgesTo(Ze)[0];var je=h(ze);Re=Re.id(),Ie[Re]>Ie[De]+je&&(Ie[Re]=Ie[De]+je,Ce.nodes.indexOf(Re)<0?Ce.push(Re):Ce.updateItem(Re),we[Re]=0,Ne[Re]=[]),Ie[Re]==Ie[De]+je&&(we[Re]=we[Re]+we[De],Ne[Re].push(De))}else for(var tt=0;tt<E[De].length;tt++){var at=E[De][tt].id();Ie[at]==1/0&&(Ce.push(at),Ie[at]=Ie[De]+1),Ie[at]==Ie[De]+1&&(we[at]=we[at]+we[De],Ne[at].push(De))}}for(var vt={},rt=0;rt<w.length;rt++)vt[w[rt].id()]=0;for(;Ae.length>0;){for(var gt=Ae.pop(),It=0;It<Ne[gt].length;It++){var At=Ne[gt][It];vt[At]=vt[At]+we[At]/we[gt]*(1+vt[gt])}gt!=w[pe].id()&&k.set(gt,k.get(gt)+vt[gt])}},J=0;J<w.length;J++)Q(J);var oe={betweenness:function(pe){var be=g.collection(pe).id();return k.get(be)},betweennessNormalized:function(pe){if(0==T)return 0;var be=g.collection(pe).id();return k.get(be)/T}};return oe.betweennessNormalised=oe.betweennessNormalized,oe}};tn.bc=tn.betweennessCentrality;var Fd=qr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(l){return 1}]}),Vu=function(i,s){for(var d=0,h=0;h<s.length;h++)d+=s[h](i);return d},Hu=function(i,s){for(var d,h=0;h<s;h++){d=0;for(var p=0;p<s;p++)d+=i[p*s+h];for(var g=0;g<s;g++)i[g*s+h]=i[g*s+h]/d}},qs=function(i,s,d){for(var h=new Array(d*d),p=0;p<d;p++){for(var g=0;g<d;g++)h[p*d+g]=0;for(var w=0;w<d;w++)for(var E=0;E<d;E++)h[p*d+E]+=i[p*d+w]*s[w*d+E]}return h},Qa=function(i,s,d){for(var h=i.slice(0),p=1;p<d;p++)i=qs(i,h,s);return i},Ja=function(i,s,d){for(var h=new Array(s*s),p=0;p<s*s;p++)h[p]=Math.pow(i[p],d);return Hu(h,s),h},Ma=function(i,s,d,h){for(var p=0;p<d;p++)if(Math.round(i[p]*Math.pow(10,h))/Math.pow(10,h)!=Math.round(s[p]*Math.pow(10,h))/Math.pow(10,h))return!1;return!0},gr=function(i,s){for(var d=0;d<i.length;d++)if(!s[d]||i[d].id()!==s[d].id())return!1;return!0},Vd=function(i){for(var s=this.nodes(),d=this.edges(),h=this.cy(),p=function(i){return Fd(i)}(i),g={},w=0;w<s.length;w++)g[s[w].id()]=w;for(var k,E=s.length,x=E*E,T=new Array(x),z=0;z<x;z++)T[z]=0;for(var W=0;W<d.length;W++){var j=d[W],Q=g[j.source().id()],J=g[j.target().id()],oe=Vu(j,p.attributes);T[Q*E+J]+=oe,T[J*E+Q]+=oe}(function(i,s,d){for(var h=0;h<s;h++)i[h*s+h]=d})(T,E,p.multFactor),Hu(T,E);for(var he=!0,pe=0;he&&pe<p.maxIterations;)he=!1,k=Qa(T,E,p.expandFactor),T=Ja(k,E,p.inflateFactor),Ma(T,k,x,4)||(he=!0),pe++;var be=function(i,s,d,h){for(var p=[],g=0;g<s;g++){for(var w=[],E=0;E<s;E++)Math.round(1e3*i[g*s+E])/1e3>0&&w.push(d[E]);0!==w.length&&p.push(h.collection(w))}return p}(T,E,s,h);return be=function(i){for(var s=0;s<i.length;s++)for(var d=0;d<i.length;d++)s!=d&&gr(i[s],i[d])&&i.splice(d,1);return i}(be),be},Hd={markovClustering:Vd,mcl:Vd},Wh=function(i){return i},ws=function(i,s){return Math.abs(s-i)},xl=function(i,s,d){return i+ws(s,d)},El=function(i,s,d){return i+Math.pow(d-s,2)},Cs=function(i){return Math.sqrt(i)},Ud=function(i,s,d){return Math.max(i,ws(s,d))},Zl=function(i,s,d,h,p){for(var g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Wh,w=h,T=0;T<i;T++)w=p(w,s(T),d(T));return g(w)},ql={euclidean:function(i,s,d){return i>=2?Zl(i,s,d,0,El,Cs):Zl(i,s,d,0,xl)},squaredEuclidean:function(i,s,d){return Zl(i,s,d,0,El)},manhattan:function(i,s,d){return Zl(i,s,d,0,xl)},max:function(i,s,d){return Zl(i,s,d,-1/0,Ud)}};function Dl(l,i,s,d,h,p){var g;return g=nt(l)?l:ql[l]||ql.euclidean,0===i&&nt(l)?g(h,p):g(i,s,d,h,p)}ql["squared-euclidean"]=ql.squaredEuclidean,ql.squaredeuclidean=ql.squaredEuclidean;var $h=qr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Nc=function(i){return $h(i)},Oc=function(i,s,d,h,p){var w="kMedoids"!==p?function(k){return d[k]}:function(k){return h[k](d)};return Dl(i,h.length,w,function(z){return h[z](s)},d,s)},Sl=function(i,s,d){for(var h=d.length,p=new Array(h),g=new Array(h),w=new Array(s),E=null,x=0;x<h;x++)p[x]=i.min(d[x]).value,g[x]=i.max(d[x]).value;for(var T=0;T<s;T++){E=[];for(var k=0;k<h;k++)E[k]=Math.random()*(g[k]-p[k])+p[k];w[T]=E}return w},Bf=function(i,s,d,h,p){for(var g=1/0,w=0,E=0;E<s.length;E++){var x=Oc(d,i,s[E],h,p);x<g&&(g=x,w=E)}return w},Vf=function(i,s,d){for(var h=[],p=null,g=0;g<s.length;g++)d[(p=s[g]).id()]===i&&h.push(p);return h},Va=function(i,s,d){return Math.abs(s-i)<=d},zd=function(i,s,d){for(var h=0;h<i.length;h++)for(var p=0;p<i[h].length;p++)if(Math.abs(i[h][p]-s[h][p])>d)return!1;return!0},Hf=function(i,s,d){for(var h=0;h<d;h++)if(i===s[h])return!0;return!1},Rc=function(i,s){var d=new Array(s);if(i.length<50)for(var h=0;h<s;h++){for(var p=i[Math.floor(Math.random()*i.length)];Hf(p,d,h);)p=i[Math.floor(Math.random()*i.length)];d[h]=p}else for(var g=0;g<s;g++)d[g]=i[Math.floor(Math.random()*i.length)];return d},es=function(i,s,d){for(var h=0,p=0;p<s.length;p++)h+=Oc("manhattan",s[p],i,d,"kMedoids");return h},Gd=function(i,s,d,h,p){for(var g,w,E=0;E<s.length;E++)for(var x=0;x<i.length;x++)h[E][x]=Math.pow(d[E][x],p.m);for(var T=0;T<i.length;T++)for(var k=0;k<p.attributes.length;k++){g=0,w=0;for(var z=0;z<s.length;z++)g+=h[z][T]*p.attributes[k](s[z]),w+=h[z][T];i[T][k]=g/w}},Xh=function(i,s,d,h,p){for(var g=0;g<i.length;g++)s[g]=i[g].slice();for(var w,E,x,T=2/(p.m-1),k=0;k<d.length;k++)for(var z=0;z<h.length;z++){w=0;for(var W=0;W<d.length;W++)E=Oc(p.distance,h[z],d[k],p.attributes,"cmeans"),x=Oc(p.distance,h[z],d[W],p.attributes,"cmeans"),w+=Math.pow(E/x,T);i[z][k]=1/w}},jd=function(i){var p,g,w,E,x,s=this.cy(),d=this.nodes(),h=Nc(i);E=new Array(d.length);for(var T=0;T<d.length;T++)E[T]=new Array(h.k);w=new Array(d.length);for(var k=0;k<d.length;k++)w[k]=new Array(h.k);for(var z=0;z<d.length;z++){for(var W=0,j=0;j<h.k;j++)w[z][j]=Math.random(),W+=w[z][j];for(var Q=0;Q<h.k;Q++)w[z][Q]=w[z][Q]/W}g=new Array(h.k);for(var J=0;J<h.k;J++)g[J]=new Array(h.attributes.length);x=new Array(d.length);for(var oe=0;oe<d.length;oe++)x[oe]=new Array(h.k);for(var he=!0,pe=0;he&&pe<h.maxIterations;)he=!1,Gd(g,d,w,x,h),Xh(w,E,g,d,h),zd(w,E,h.sensitivityThreshold)||(he=!0),pe++;return p=function(i,s,d,h){for(var p=new Array(d.k),g=0;g<p.length;g++)p[g]=[];for(var w,E,x=0;x<s.length;x++){w=-1/0,E=-1;for(var T=0;T<s[0].length;T++)s[x][T]>w&&(w=s[x][T],E=T);p[E].push(i[x])}for(var k=0;k<p.length;k++)p[k]=h.collection(p[k]);return p}(d,w,h,s),{clusters:p,degreeOfMembership:w}},ti={kMeans:function(i){var E,s=this.cy(),d=this.nodes(),h=null,p=Nc(i),g=new Array(p.k),w={};E=p.testMode?"number"==typeof p.testCentroids?Sl(d,p.k,p.attributes):"object"===U(p.testCentroids)?p.testCentroids:Sl(d,p.k,p.attributes):Sl(d,p.k,p.attributes);for(var x=!0,T=0;x&&T<p.maxIterations;){for(var k=0;k<d.length;k++)w[(h=d[k]).id()]=Bf(h,E,p.distance,p.attributes,"kMeans");x=!1;for(var z=0;z<p.k;z++){var W=Vf(z,d,w);if(0!==W.length){for(var j=p.attributes.length,Q=E[z],J=new Array(j),oe=new Array(j),he=0;he<j;he++){oe[he]=0;for(var pe=0;pe<W.length;pe++)oe[he]+=p.attributes[he](h=W[pe]);J[he]=oe[he]/W.length,Va(J[he],Q[he],p.sensitivityThreshold)||(x=!0)}E[z]=J,g[z]=s.collection(W)}}T++}return g},kMedoids:function(i){var w,x,s=this.cy(),d=this.nodes(),h=null,p=Nc(i),g=new Array(p.k),E={},T=new Array(p.k);p.testMode?"number"==typeof p.testCentroids||(w="object"===U(p.testCentroids)?p.testCentroids:Rc(d,p.k)):w=Rc(d,p.k);for(var k=!0,z=0;k&&z<p.maxIterations;){for(var W=0;W<d.length;W++)E[(h=d[W]).id()]=Bf(h,w,p.distance,p.attributes,"kMedoids");k=!1;for(var j=0;j<w.length;j++){var Q=Vf(j,d,E);if(0!==Q.length){T[j]=es(w[j],Q,p.attributes);for(var J=0;J<Q.length;J++)(x=es(Q[J],Q,p.attributes))<T[j]&&(T[j]=x,w[j]=Q[J],k=!0);g[j]=s.collection(Q)}}z++}return g},fuzzyCMeans:jd,fcm:jd},mg=qr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),yg={single:"min",complete:"max"},fi=function(i,s,d,h,p){for(var E,g=0,w=1/0,x=p.attributes,T=function(Ce,ke){return Dl(p.distance,x.length,function(Pe){return x[Pe](Ce)},function(Pe){return x[Pe](ke)},Ce,ke)},k=0;k<i.length;k++){var z=i[k].key,W=d[z][h[z]];W<w&&(g=z,w=W)}if("threshold"===p.mode&&w>=p.threshold||"dendrogram"===p.mode&&1===i.length)return!1;var J,j=s[g],Q=s[h[g]];J="dendrogram"===p.mode?{left:j,right:Q,key:j.key}:{value:j.value.concat(Q.value),key:j.key},i[j.index]=J,i.splice(Q.index,1),s[j.key]=J;for(var oe=0;oe<i.length;oe++){var he=i[oe];j.key===he.key?E=1/0:"min"===p.linkage?(E=d[j.key][he.key],d[j.key][he.key]>d[Q.key][he.key]&&(E=d[Q.key][he.key])):"max"===p.linkage?(E=d[j.key][he.key],d[j.key][he.key]<d[Q.key][he.key]&&(E=d[Q.key][he.key])):E="mean"===p.linkage?(d[j.key][he.key]*j.size+d[Q.key][he.key]*Q.size)/(j.size+Q.size):"dendrogram"===p.mode?T(he.value,j.value):T(he.value[0],j.value[0]),d[j.key][he.key]=d[he.key][j.key]=E}for(var pe=0;pe<i.length;pe++){var be=i[pe].key;if(h[be]===j.key||h[be]===Q.key){for(var Ae=be,Ne=0;Ne<i.length;Ne++){var we=i[Ne].key;d[be][we]<d[be][Ae]&&(Ae=we)}h[be]=Ae}i[pe].index=pe}return j.key=Q.key=j.index=Q.index=null,!0},Qs=function l(i,s,d){i&&(i.value?s.push(i.value):(i.left&&l(i.left,s),i.right&&l(i.right,s)))},Wd=function l(i,s){if(!i)return"";if(i.left&&i.right){var d=l(i.left,s),h=l(i.right,s),p=s.add({group:"nodes",data:{id:d+","+h}});return s.add({group:"edges",data:{source:d,target:p.id()}}),s.add({group:"edges",data:{source:h,target:p.id()}}),p.id()}return i.value?i.value.id():void 0},xn=function l(i,s,d){if(!i)return[];var h=[],p=[],g=[];return 0===s?(i.left&&Qs(i.left,h),i.right&&Qs(i.right,p),g=h.concat(p),[d.collection(g)]):1===s?i.value?[d.collection(i.value)]:(i.left&&Qs(i.left,h),i.right&&Qs(i.right,p),[d.collection(h),d.collection(p)]):i.value?[d.collection(i.value)]:(i.left&&(h=l(i.left,s-1,d)),i.right&&(p=l(i.right,s-1,d)),h.concat(p))},Qo=function(i){for(var s=this.cy(),d=this.nodes(),h=function(i){var s=mg(i),d=yg[s.linkage];return null!=d&&(s.linkage=d),s}(i),p=h.attributes,g=function(pe,be){return Dl(h.distance,p.length,function(Ae){return p[Ae](pe)},function(Ae){return p[Ae](be)},pe,be)},w=[],E=[],x=[],T=[],k=0;k<d.length;k++){var z={value:"dendrogram"===h.mode?d[k]:[d[k]],key:k,index:k};w[k]=z,T[k]=z,E[k]=[],x[k]=0}for(var W=0;W<w.length;W++)for(var j=0;j<=W;j++){var Q;Q="dendrogram"===h.mode?W===j?1/0:g(w[W].value,w[j].value):W===j?1/0:g(w[W].value[0],w[j].value[0]),E[W][j]=Q,E[j][W]=Q,Q<E[W][x[W]]&&(x[W]=j)}for(var J=fi(w,T,E,x,h);J;)J=fi(w,T,E,x,h);var oe;return"dendrogram"===h.mode?(oe=xn(w[0],h.dendrogramDepth,s),h.addDendrogram&&Wd(w[0],s)):(oe=new Array(w.length),w.forEach(function(he,pe){he.key=he.index=null,oe[pe]=s.collection(he.value)})),oe},Or={hierarchicalClustering:Qo,hca:Qo},Li=qr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),qi=function(i,s,d,h){var p=function(w,E){return h[E](w)};return-Dl(i,h.length,function(g){return p(s,g)},function(g){return p(d,g)},s,d)},zu=function(i,s,d){for(var h=[],p=0;p<i;p++){for(var g=-1,w=-1/0,E=0;E<d.length;E++){var x=d[E];s[p*i+x]>w&&(g=x,w=s[p*i+x])}g>0&&h.push(g)}for(var T=0;T<d.length;T++)h[d[T]]=d[T];return h},zf=function(i){for(var s=this.cy(),d=this.nodes(),h=function(i){var s=i.damping,d=i.preference;.5<=s&&s<1||$r("Damping must range on [0.5, 1).  Got: ".concat(s));var h=["median","mean","min","max"];return h.some(function(p){return p===d})||Xe(d)||$r("Preference must be one of [".concat(h.map(function(p){return"'".concat(p,"'")}).join(", "),"] or a number.  Got: ").concat(d)),Li(i)}(i),p={},g=0;g<d.length;g++)p[d[g].id()]=g;var w,E,x,T,k,z,Ce;E=(w=d.length)*w,x=new Array(E);for(var W=0;W<E;W++)x[W]=-1/0;for(var j=0;j<w;j++)for(var Q=0;Q<w;Q++)j!==Q&&(x[j*w+Q]=qi(h.distance,d[j],d[Q],h.attributes));T=function(i,s){var d;return d="median"===s?function(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(d<i.length&&i.splice(d,i.length-d),s>0&&i.splice(0,s)):i=i.slice(s,d);for(var w=0,E=i.length-1;E>=0;E--)g?isFinite(i[E])||(i[E]=-1/0,w++):i.splice(E,1);p&&i.sort(function(z,W){return z-W});var T=i.length,k=Math.floor(T/2);return T%2!=0?i[k+1+w]:(i[k-1+w]+i[k+w])/2}(i):"mean"===s?function(i){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,h=0,p=0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g<d;g++){var w=i[g];isFinite(w)&&(h+=w,p++)}return h/p}(i):"min"===s?function(i){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,h=1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<d;p++){var g=i[p];isFinite(g)&&(h=Math.min(g,h))}return h}(i):"max"===s?function(i){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,h=-1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<d;p++){var g=i[p];isFinite(g)&&(h=Math.max(g,h))}return h}(i):s,d}(x,h.preference);for(var J=0;J<w;J++)x[J*w+J]=T;k=new Array(E);for(var oe=0;oe<E;oe++)k[oe]=0;z=new Array(E);for(var he=0;he<E;he++)z[he]=0;for(var pe=new Array(w),be=new Array(w),Ae=new Array(w),Ne=0;Ne<w;Ne++)pe[Ne]=0,be[Ne]=0,Ae[Ne]=0;for(var we=new Array(w*h.minIterations),Ie=0;Ie<we.length;Ie++)we[Ie]=0;for(Ce=0;Ce<h.maxIterations;Ce++){for(var ke=0;ke<w;ke++){for(var Pe=-1/0,De=-1/0,He=-1,Re=0,Ze=0;Ze<w;Ze++)pe[Ze]=k[ke*w+Ze],(Re=z[ke*w+Ze]+x[ke*w+Ze])>=Pe?(De=Pe,Pe=Re,He=Ze):Re>De&&(De=Re);for(var ze=0;ze<w;ze++)k[ke*w+ze]=(1-h.damping)*(x[ke*w+ze]-Pe)+h.damping*pe[ze];k[ke*w+He]=(1-h.damping)*(x[ke*w+He]-De)+h.damping*pe[He]}for(var je=0;je<w;je++){for(var tt=0,at=0;at<w;at++)pe[at]=z[at*w+je],be[at]=Math.max(0,k[at*w+je]),tt+=be[at];tt-=be[je],be[je]=k[je*w+je],tt+=be[je];for(var vt=0;vt<w;vt++)z[vt*w+je]=(1-h.damping)*Math.min(0,tt-be[vt])+h.damping*pe[vt];z[je*w+je]=(1-h.damping)*(tt-be[je])+h.damping*pe[je]}for(var rt=0,gt=0;gt<w;gt++){var It=z[gt*w+gt]+k[gt*w+gt]>0?1:0;we[Ce%h.minIterations*w+gt]=It,rt+=It}if(rt>0&&(Ce>=h.minIterations-1||Ce==h.maxIterations-1)){for(var At=0,St=0;St<w;St++){Ae[St]=0;for(var wt=0;wt<h.minIterations;wt++)Ae[St]+=we[wt*w+St];(0===Ae[St]||Ae[St]===h.minIterations)&&At++}if(At===w)break}}for(var Qe=function(i,s,d){for(var h=[],p=0;p<i;p++)s[p*i+p]+d[p*i+p]>0&&h.push(p);return h}(w,k,z),Tt=function(i,s,d){for(var h=zu(i,s,d),p=0;p<d.length;p++){for(var g=[],w=0;w<h.length;w++)h[w]===d[p]&&g.push(w);for(var E=-1,x=-1/0,T=0;T<g.length;T++){for(var k=0,z=0;z<g.length;z++)k+=s[g[z]*i+g[T]];k>x&&(E=T,x=k)}d[p]=g[E]}return zu(i,s,d)}(w,x,Qe),Nt={},$t=0;$t<Qe.length;$t++)Nt[Qe[$t]]=[];for(var nn=0;nn<d.length;nn++){var Jn=Tt[p[d[nn].id()]];null!=Jn&&Nt[Jn].push(d[nn])}for(var an=new Array(Qe.length),Jt=0;Jt<Qe.length;Jt++)an[Jt]=s.collection(Nt[Qe[Jt]]);return an},Lc={affinityPropagation:zf,ap:zf},Ji=qr({root:void 0,directed:!1}),dn={hierholzer:function(i){if(!Ke(i)){var s=arguments;i={root:s[0],directed:s[1]}}var E,x,T,d=Ji(i),h=d.root,p=d.directed,g=this,w=!1;h&&(T=Be(h)?this.filter(h)[0].id():h[0].id());var k={},z={};g.forEach(p?function(he){var pe=he.id();if(he.isNode()){var be=he.indegree(!0),Ae=he.outdegree(!0),Ne=be-Ae,we=Ae-be;1==Ne?E?w=!0:E=pe:1==we?x?w=!0:x=pe:(we>1||Ne>1)&&(w=!0),k[pe]=[],he.outgoers().forEach(function(Ie){Ie.isEdge()&&k[pe].push(Ie.id())})}else z[pe]=[void 0,he.target().id()]}:function(he){var pe=he.id();he.isNode()?(he.degree(!0)%2&&(E?x?w=!0:x=pe:E=pe),k[pe]=[],he.connectedEdges().forEach(function(Ae){return k[pe].push(Ae.id())})):z[pe]=[he.source().id(),he.target().id()]});var W={found:!1,trail:void 0};if(w)return W;if(x&&E)if(p){if(T&&x!=T)return W;T=x}else{if(T&&x!=T&&E!=T)return W;T||(T=x)}else T||(T=g[0].id());var j=function(pe){for(var Ne,we,Ie,be=pe,Ae=[pe];k[be].length;)Ne=k[be].shift(),we=z[Ne][0],be!=(Ie=z[Ne][1])?(k[Ie]=k[Ie].filter(function(Ce){return Ce!=Ne}),be=Ie):!p&&be!=we&&(k[we]=k[we].filter(function(Ce){return Ce!=Ne}),be=we),Ae.unshift(Ne),Ae.unshift(be);return Ae},Q=[],J=[];for(J=j(T);1!=J.length;)0==k[J[0]].length?(Q.unshift(g.getElementById(J.shift())),Q.unshift(g.getElementById(J.shift()))):J=j(J.shift()).concat(J);for(var oe in Q.unshift(g.getElementById(J.shift())),k)if(k[oe].length)return W;return W.found=!0,W.trail=this.spawn(Q,!0),W}},Pn=function(){var i=this,s={},d=0,h=0,p=[],g=[],w={},x=function k(z,W,j){z===j&&(h+=1),s[W]={id:d,low:d++,cutVertex:!1};var J,oe,he,pe,Q=i.getElementById(W).connectedEdges().intersection(i);0===Q.size()?p.push(i.spawn(i.getElementById(W))):Q.forEach(function(be){J=be.source().id(),oe=be.target().id(),(he=J===W?oe:J)!==j&&(pe=be.id(),w[pe]||(w[pe]=!0,g.push({x:W,y:he,edge:be})),he in s?s[W].low=Math.min(s[W].low,s[he].id):(k(z,he,W),s[W].low=Math.min(s[W].low,s[he].low),s[W].id<=s[he].low&&(s[W].cutVertex=!0,function(z,W){for(var j=g.length-1,Q=[],J=i.spawn();g[j].x!=z||g[j].y!=W;)Q.push(g.pop().edge),j--;Q.push(g.pop().edge),Q.forEach(function(oe){var he=oe.connectedNodes().intersection(i);J.merge(oe),he.forEach(function(pe){var be=pe.id(),Ae=pe.connectedEdges().intersection(i);J.merge(pe),J.merge(s[be].cutVertex?Ae.filter(function(Ne){return Ne.isLoop()}):Ae)})}),p.push(J)}(W,he))))})};i.forEach(function(k){if(k.isNode()){var z=k.id();z in s||(h=0,x(z,z),s[z].cutVertex=h>1)}});var T=Object.keys(s).filter(function(k){return s[k].cutVertex}).map(function(k){return i.getElementById(k)});return{cut:i.spawn(T),components:p}},Jo=function(){var i=this,s={},d=0,h=[],p=[],g=i.spawn(i),w=function E(x){if(p.push(x),s[x]={index:d,low:d++,explored:!1},i.getElementById(x).connectedEdges().intersection(i).forEach(function(Q){var J=Q.target().id();J!==x&&(J in s||E(J),s[J].explored||(s[x].low=Math.min(s[x].low,s[J].low)))}),s[x].index===s[x].low){for(var k=i.spawn();;){var z=p.pop();if(k.merge(i.getElementById(z)),s[z].low=s[x].index,s[z].explored=!0,z===x)break}var W=k.edgesWith(k),j=k.merge(W);h.push(j),g=g.difference(j)}};return i.forEach(function(E){if(E.isNode()){var x=E.id();x in s||w(x)}}),{cut:g,components:h}},ho={};[Ve,qe,qt,Ht,Ln,xr,_n,Fs,_a,Yt,tn,Hd,ti,Or,Lc,dn,{hopcroftTarjanBiconnected:Pn,htbc:Pn,htb:Pn,hopcroftTarjanBiconnectedComponents:Pn},{tarjanStronglyConnected:Jo,tsc:Jo,tscc:Jo,tarjanStronglyConnectedComponents:Jo}].forEach(function(l){Sn(ho,l)});var ea=function l(i){if(!(this instanceof l))return new l(i);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof i&&i.call(this,this.fulfill.bind(this),this.reject.bind(this))};ea.prototype={fulfill:function(i){return Gn(this,1,"fulfillValue",i)},reject:function(i){return Gn(this,2,"rejectReason",i)},then:function(i,s){var d=this,h=new ea;return d.onFulfilled.push(Jl(i,h,"fulfill")),d.onRejected.push(Jl(s,h,"reject")),ju(d),h.proxy}};var Gn=function(i,s,d,h){return 0===i.state&&(i.state=s,i[d]=h,ju(i)),i},ju=function(i){1===i.state?Gf(i,"onFulfilled",i.fulfillValue):2===i.state&&Gf(i,"onRejected",i.rejectReason)},Gf=function(i,s,d){if(0!==i[s].length){var h=i[s];i[s]=[];var p=function(){for(var w=0;w<h.length;w++)h[w](d)};"function"==typeof setImmediate?setImmediate(p):setTimeout(p,0)}},Jl=function(i,s,d){return function(h){if("function"!=typeof i)s[d].call(s,h);else{var p;try{p=i(h)}catch(g){return void s.reject(g)}ki(s,p)}}},ki=function l(i,s){if(i!==s&&i.proxy!==s){var d;if("object"===U(s)&&null!==s||"function"==typeof s)try{d=s.then}catch(p){return void i.reject(p)}if("function"!=typeof d)i.fulfill(s);else{var h=!1;try{d.call(s,function(p){h||(h=!0,p===s?i.reject(new TypeError("circular thenable chain")):l(i,p))},function(p){h||(h=!0,i.reject(p))})}catch(p){h||i.reject(p)}}}else i.reject(new TypeError("cannot resolve promise with itself"))};ea.all=function(l){return new ea(function(i,s){for(var d=new Array(l.length),h=0,p=function(E,x){d[E]=x,++h===l.length&&i(d)},g=0;g<l.length;g++)!function(w){var E=l[w];null!=E&&null!=E.then?E.then(function(k){p(w,k)},function(k){s(k)}):p(w,E)}(g)})},ea.resolve=function(l){return new ea(function(i,s){i(l)})},ea.reject=function(l){return new ea(function(i,s){s(l)})};var ts=typeof Promise<"u"?Promise:ea,Ha=function(i,s,d){var h=it(i),p=!h,g=this._private=Sn({duration:1e3},s,d);if(g.target=i,g.style=g.style||g.css,g.started=!1,g.playing=!1,g.hooked=!1,g.applying=!1,g.progress=0,g.completes=[],g.frames=[],g.complete&&nt(g.complete)&&g.completes.push(g.complete),p){var w=i.position();g.startPosition=g.startPosition||{x:w.x,y:w.y},g.startStyle=g.startStyle||i.cy().style().getAnimationStartStyle(i,g.style)}if(h){var E=i.pan();g.startPan={x:E.x,y:E.y},g.startZoom=i.zoom()}this.length=1,this[0]=this},eo=Ha.prototype;Sn(eo,{instanceString:function(){return"animation"},hook:function(){var i=this._private;if(!i.hooked){var d=i.target._private.animation;(i.queue?d.queue:d.current).push(this),Ft(i.target)&&i.target.cy().addToAnimationPool(i.target),i.hooked=!0}return this},play:function(){var i=this._private;return 1===i.progress&&(i.progress=0),i.playing=!0,i.started=!1,i.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var i=this._private;return i.applying=!0,i.started=!1,i.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var i=this._private;return i.playing=!1,i.started=!1,this},stop:function(){var i=this._private;return i.playing=!1,i.started=!1,i.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(i){var s=this._private;return void 0===i?s.progress*s.duration:this.progress(i/s.duration)},progress:function(i){var s=this._private,d=s.playing;return void 0===i?s.progress:(d&&this.pause(),s.progress=i,s.started=!1,d&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var i=this._private,s=i.playing;s&&this.pause(),i.progress=1-i.progress,i.started=!1;var d=function(x,T){var k=i[x];null!=k&&(i[x]=i[T],i[T]=k)};if(d("zoom","startZoom"),d("pan","startPan"),d("position","startPosition"),i.style)for(var h=0;h<i.style.length;h++){var p=i.style[h],g=p.name,w=i.startStyle[g];i.startStyle[g]=p,i.style[h]=w}return s&&this.play(),this},promise:function(i){var d,s=this._private;return d="frame"===i?s.frames:s.completes,new ts(function(h,p){d.push(function(){h()})})}}),eo.complete=eo.completed,eo.run=eo.play,eo.running=eo.playing;var Pc={data:function(i){return i=Sn({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(h){},beforeSet:function(h,p){},onSet:function(h){},canSet:function(h){return!0}},i),function(h,p){var g=i,w=this,E=void 0!==w.length,x=E?w:[w],T=E?w[0]:w;if(Be(h)){var W,z=-1!==h.indexOf(".")&&B.default(h);if(g.allowGetting&&void 0===p)return T&&(g.beforeGet(T),W=z&&void 0===T._private[g.field][h]?V.default(T._private[g.field],z):T._private[g.field][h]),W;if(g.allowSetting&&void 0!==p&&!g.immutableKeys[h]){var Q=ie({},h,p);g.beforeSet(w,Q);for(var J=0,oe=x.length;J<oe;J++){var he=x[J];g.canSet(he)&&(z&&void 0===T._private[g.field][h]?P.default(he._private[g.field],z,p):he._private[g.field][h]=p)}g.updateStyle&&w.updateStyle(),g.onSet(w),g.settingTriggersEvent&&w[g.triggerFnName](g.settingEvent)}}else if(g.allowSetting&&Ke(h)){var be,Ae,pe=h,Ne=Object.keys(pe);g.beforeSet(w,pe);for(var we=0;we<Ne.length;we++)if(Ae=pe[be=Ne[we]],!g.immutableKeys[be])for(var Ce=0;Ce<x.length;Ce++){var ke=x[Ce];g.canSet(ke)&&(ke._private[g.field][be]=Ae)}g.updateStyle&&w.updateStyle(),g.onSet(w),g.settingTriggersEvent&&w[g.triggerFnName](g.settingEvent)}else if(g.allowBinding&&nt(h))w.on(g.bindingEvent,h);else if(g.allowGetting&&void 0===h){var De;return T&&(g.beforeGet(T),De=T._private[g.field]),De}return w}},removeData:function(i){return i=Sn({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},i),function(h){var p=i,g=this,E=void 0!==g.length?g:[g];if(Be(h)){for(var x=h.split(/\s+/),T=x.length,k=0;k<T;k++){var z=x[k];if(!Pt(z)&&!p.immutableKeys[z])for(var j=0,Q=E.length;j<Q;j++)E[j]._private[p.field][z]=void 0}p.triggerEvent&&g[p.triggerFnName](p.event)}else if(void 0===h){for(var J=0,oe=E.length;J<oe;J++)for(var he=E[J]._private[p.field],pe=Object.keys(he),be=0;be<pe.length;be++){var Ae=pe[be];!p.immutableKeys[Ae]&&(he[Ae]=void 0)}p.triggerEvent&&g[p.triggerFnName](p.event)}return g}}},tl={eventAliasesOn:function(i){var s=i;s.addListener=s.listen=s.bind=s.on,s.unlisten=s.unbind=s.off=s.removeListener,s.trigger=s.emit,s.pon=s.promiseOn=function(d,h){var p=this,g=Array.prototype.slice.call(arguments,0);return new ts(function(w,E){var T=g.concat([function(W){p.off.apply(p,k),w(W)}]),k=T.concat([]);p.on.apply(p,T)})}}},tr={};[{animated:function(){return function(){var s=this,h=void 0!==s.length?s:[s];if(!(this._private.cy||this).styleEnabled())return!1;var g=h[0];return g?g._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var s=this,h=void 0!==s.length?s:[s];if(!(this._private.cy||this).styleEnabled())return this;for(var g=0;g<h.length;g++)h[g]._private.animation.queue=[];return this}},delay:function(){return function(s,d){return(this._private.cy||this).styleEnabled()?this.animate({delay:s,duration:s,complete:d}):this}},delayAnimation:function(){return function(s,d){return(this._private.cy||this).styleEnabled()?this.animation({delay:s,duration:s,complete:d}):this}},animation:function(){return function(s,d){var h=this,p=void 0!==h.length,g=p?h:[h],w=this._private.cy||this,E=!p,x=!E;if(!w.styleEnabled())return this;var T=w.style();if(s=Sn({},s,d),0===Object.keys(s).length)return new Ha(g[0],s);switch(void 0===s.duration&&(s.duration=400),s.duration){case"slow":s.duration=600;break;case"fast":s.duration=200}if(x&&(s.style=T.getPropsList(s.style||s.css),s.css=void 0),x&&null!=s.renderedPosition){var z=s.renderedPosition,W=w.pan(),j=w.zoom();s.position=oi(z,j,W)}if(E&&null!=s.panBy){var Q=s.panBy,J=w.pan();s.pan={x:J.x+Q.x,y:J.y+Q.y}}var oe=s.center||s.centre;if(E&&null!=oe){var he=w.getCenterPan(oe.eles,s.zoom);null!=he&&(s.pan=he)}if(E&&null!=s.fit){var pe=s.fit,be=w.getFitViewport(pe.eles||pe.boundingBox,pe.padding);null!=be&&(s.pan=be.pan,s.zoom=be.zoom)}if(E&&Ke(s.zoom)){var Ae=w.getZoomedViewport(s.zoom);null!=Ae?(Ae.zoomed&&(s.zoom=Ae.zoom),Ae.panned&&(s.pan=Ae.pan)):s.zoom=null}return new Ha(g[0],s)}},animate:function(){return function(s,d){var h=this,g=void 0!==h.length?h:[h];if(!(this._private.cy||this).styleEnabled())return this;d&&(s=Sn({},s,d));for(var E=0;E<g.length;E++){var x=g[E],T=x.animated()&&(void 0===s.queue||s.queue);x.animation(s,T?{queue:!0}:void 0).play()}return this}},stop:function(){return function(s,d){var h=this,g=void 0!==h.length?h:[h],w=this._private.cy||this;if(!w.styleEnabled())return this;for(var E=0;E<g.length;E++){for(var T=g[E]._private,k=T.animation.current,z=0;z<k.length;z++)d&&(k[z]._private.duration=0);s&&(T.animation.queue=[]),d||(T.animation.current=[])}return w.notify("draw"),this}}},Pc,tl].forEach(function(l){Sn(tr,l)});var Fc={animate:tr.animate(),animation:tr.animation(),animated:tr.animated(),clearQueue:tr.clearQueue(),delay:tr.delay(),delayAnimation:tr.delayAnimation(),stop:tr.stop()},Ua={classes:function(i){var s=this;if(void 0===i){var d=[];return s[0]._private.classes.forEach(function(j){return d.push(j)}),d}lt(i)||(i=(i||"").match(/\S+/g)||[]);for(var h=[],p=new ms(i),g=0;g<s.length;g++){for(var w=s[g],E=w._private,x=E.classes,T=!1,k=0;k<i.length;k++)if(!x.has(i[k])){T=!0;break}T||(T=x.size!==i.length),T&&(E.classes=p,h.push(w))}return h.length>0&&this.spawn(h).updateStyle().emit("class"),s},addClass:function(i){return this.toggleClass(i,!0)},hasClass:function(i){var s=this[0];return null!=s&&s._private.classes.has(i)},toggleClass:function(i,s){lt(i)||(i=i.match(/\S+/g)||[]);for(var d=this,h=void 0===s,p=[],g=0,w=d.length;g<w;g++)for(var E=d[g],x=E._private.classes,T=!1,k=0;k<i.length;k++){var z=i[k],W=x.has(z),j=!1;s||h&&!W?(x.add(z),j=!0):(!s||h&&W)&&(x.delete(z),j=!0),!T&&j&&(p.push(E),T=!0)}return p.length>0&&this.spawn(p).updateStyle().emit("class"),d},removeClass:function(i){return this.toggleClass(i,!1)},flashClass:function(i,s){var d=this;if(null==s)s=250;else if(0===s)return d;return d.addClass(i),setTimeout(function(){d.removeClass(i)},s),d}};Ua.className=Ua.classNames=Ua.classes;var fn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:cn,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};fn.variable="(?:[\\w-.]|(?:\\\\"+fn.metaChar+"))+",fn.className="(?:[\\w-]|(?:\\\\"+fn.metaChar+"))+",fn.value=fn.string+"|"+fn.number,fn.id=fn.variable,function(){var l,i,s;for(l=fn.comparatorOp.split("|"),s=0;s<l.length;s++)fn.comparatorOp+="|@"+(i=l[s]);for(l=fn.comparatorOp.split("|"),s=0;s<l.length;s++)!((i=l[s]).indexOf("!")>=0)&&"="!==i&&(fn.comparatorOp+="|\\!"+i)}();var nl=[{selector:":selected",matches:function(i){return i.selected()}},{selector:":unselected",matches:function(i){return!i.selected()}},{selector:":selectable",matches:function(i){return i.selectable()}},{selector:":unselectable",matches:function(i){return!i.selectable()}},{selector:":locked",matches:function(i){return i.locked()}},{selector:":unlocked",matches:function(i){return!i.locked()}},{selector:":visible",matches:function(i){return i.visible()}},{selector:":hidden",matches:function(i){return!i.visible()}},{selector:":transparent",matches:function(i){return i.transparent()}},{selector:":grabbed",matches:function(i){return i.grabbed()}},{selector:":free",matches:function(i){return!i.grabbed()}},{selector:":removed",matches:function(i){return i.removed()}},{selector:":inside",matches:function(i){return!i.removed()}},{selector:":grabbable",matches:function(i){return i.grabbable()}},{selector:":ungrabbable",matches:function(i){return!i.grabbable()}},{selector:":animated",matches:function(i){return i.animated()}},{selector:":unanimated",matches:function(i){return!i.animated()}},{selector:":parent",matches:function(i){return i.isParent()}},{selector:":childless",matches:function(i){return i.isChildless()}},{selector:":child",matches:function(i){return i.isChild()}},{selector:":orphan",matches:function(i){return i.isOrphan()}},{selector:":nonorphan",matches:function(i){return i.isChild()}},{selector:":compound",matches:function(i){return i.isNode()?i.isParent():i.source().isParent()||i.target().isParent()}},{selector:":loop",matches:function(i){return i.isLoop()}},{selector:":simple",matches:function(i){return i.isSimple()}},{selector:":active",matches:function(i){return i.active()}},{selector:":inactive",matches:function(i){return!i.active()}},{selector:":backgrounding",matches:function(i){return i.backgrounding()}},{selector:":nonbackgrounding",matches:function(i){return!i.backgrounding()}}].sort(function(l,i){return function(i,s){return-1*Ra(i,s)}(l.selector,i.selector)}),xs=function(){for(var i,l={},s=0;s<nl.length;s++)l[(i=nl[s]).selector]=i.matches;return l}(),eu="("+nl.map(function(l){return l.selector}).join("|")+")",Vs=function(i){return i.replace(new RegExp("\\\\("+fn.metaChar+")","g"),function(s,d){return d})},Xr=function(i,s,d){i[i.length-1]=d},_l=[{name:"group",query:!0,regex:"("+fn.group+")",populate:function(i,s,d){var p=ce(d,1)[0];s.checks.push({type:0,value:"*"===p?p:p+"s"})}},{name:"state",query:!0,regex:eu,populate:function(i,s,d){var h=ce(d,1);s.checks.push({type:7,value:h[0]})}},{name:"id",query:!0,regex:"\\#("+fn.id+")",populate:function(i,s,d){var h=ce(d,1);s.checks.push({type:8,value:Vs(h[0])})}},{name:"className",query:!0,regex:"\\.("+fn.className+")",populate:function(i,s,d){var h=ce(d,1);s.checks.push({type:9,value:Vs(h[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+fn.variable+")\\s*\\]",populate:function(i,s,d){var h=ce(d,1);s.checks.push({type:4,field:Vs(h[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+fn.variable+")\\s*("+fn.comparatorOp+")\\s*("+fn.value+")\\s*\\]",populate:function(i,s,d){var h=ce(d,3),p=h[0],g=h[1],w=h[2];w=null!=new RegExp("^"+fn.string+"$").exec(w)?w.substring(1,w.length-1):parseFloat(w),s.checks.push({type:3,field:Vs(p),operator:g,value:w})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+fn.boolOp+")\\s*("+fn.variable+")\\s*\\]",populate:function(i,s,d){var h=ce(d,2),p=h[0];s.checks.push({type:5,field:Vs(h[1]),operator:p})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+fn.meta+")\\s*("+fn.comparatorOp+")\\s*("+fn.number+")\\s*\\]\\]",populate:function(i,s,d){var h=ce(d,3),g=h[1],w=h[2];s.checks.push({type:6,field:Vs(h[0]),operator:g,value:parseFloat(w)})}},{name:"nextQuery",separator:!0,regex:fn.separator,populate:function(i,s){var d=i.currentSubject,h=i.edgeCount,p=i.compoundCount,g=i[i.length-1];return null!=d&&(g.subject=d,i.currentSubject=null),g.edgeCount=h,g.compoundCount=p,i.edgeCount=0,i.compoundCount=0,i[i.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:fn.directedEdge,populate:function(i,s){if(null==i.currentSubject){var d={checks:[]},p={checks:[]};return d.checks.push({type:11,source:s,target:p}),Xr(i,0,d),i.edgeCount++,p}var g={checks:[]},E={checks:[]};return g.checks.push({type:12,source:s,target:E}),Xr(i,0,g),i.edgeCount++,E}},{name:"undirectedEdge",separator:!0,regex:fn.undirectedEdge,populate:function(i,s){if(null==i.currentSubject){var d={checks:[]},p={checks:[]};return d.checks.push({type:10,nodes:[s,p]}),Xr(i,0,d),i.edgeCount++,p}var g={checks:[]},E={checks:[]};return g.checks.push({type:14,node:s,neighbor:E}),Xr(i,0,g),E}},{name:"child",separator:!0,regex:fn.child,populate:function(i,s){if(null==i.currentSubject){var d={checks:[]},h={checks:[]};return d.checks.push({type:15,parent:i[i.length-1],child:h}),Xr(i,0,d),i.compoundCount++,h}if(i.currentSubject===s){var g={checks:[]},E={checks:[]},x={checks:[]},T={checks:[]},k={checks:[]};return g.checks.push({type:19,left:i[i.length-1],right:E,subject:x}),x.checks=s.checks,s.checks=[{type:20}],k.checks.push({type:20}),E.checks.push({type:17,parent:k,child:T}),Xr(i,0,g),i.currentSubject=x,i.compoundCount++,T}var z={checks:[]},W={checks:[]},j=[{type:17,parent:z,child:W}];return z.checks=s.checks,s.checks=j,i.compoundCount++,W}},{name:"descendant",separator:!0,regex:fn.descendant,populate:function(i,s){if(null==i.currentSubject){var d={checks:[]},h={checks:[]};return d.checks.push({type:16,ancestor:i[i.length-1],descendant:h}),Xr(i,0,d),i.compoundCount++,h}if(i.currentSubject===s){var g={checks:[]},E={checks:[]},x={checks:[]},T={checks:[]},k={checks:[]};return g.checks.push({type:19,left:i[i.length-1],right:E,subject:x}),x.checks=s.checks,s.checks=[{type:20}],k.checks.push({type:20}),E.checks.push({type:18,ancestor:k,descendant:T}),Xr(i,0,g),i.currentSubject=x,i.compoundCount++,T}var z={checks:[]},W={checks:[]},j=[{type:18,ancestor:z,descendant:W}];return z.checks=s.checks,s.checks=j,i.compoundCount++,W}},{name:"subject",modifier:!0,regex:fn.subject,populate:function(i,s){if(null!=i.currentSubject&&i.currentSubject!==s)return br("Redefinition of subject in selector `"+i.toString()+"`"),!1;i.currentSubject=s;var h=i[i.length-1].checks[0],p=null==h?null:h.type;11===p?h.type=13:10===p&&(h.type=14,h.node=h.nodes[1],h.neighbor=h.nodes[0],h.nodes=null)}}];_l.forEach(function(l){return l.regexObj=new RegExp("^"+l.regex)});var za=function(i){for(var s,d,h,p=0;p<_l.length;p++){var g=_l[p],w=g.name,E=i.match(g.regexObj);if(null!=E){d=E,s=g,h=w,i=i.substring(E[0].length);break}}return{expr:s,match:d,name:h,remaining:i}},Yd={parse:function(i){var s=this,d=s.inputText=i,h=s[0]={checks:[]};for(s.length=1,d=function(i){var s=i.match(/^\s+/);return s&&(i=i.substring(s[0].length)),i}(d);;){var p=za(d);if(null==p.expr)return br("The selector `"+i+"`is invalid"),!1;var g=p.match.slice(1),w=p.expr.populate(s,h,g);if(!1===w)return!1;if(null!=w&&(h=w),(d=p.remaining).match(/^\s*$/))break}var E=s[s.length-1];null!=s.currentSubject&&(E.subject=s.currentSubject),E.edgeCount=s.edgeCount,E.compoundCount=s.compoundCount;for(var x=0;x<s.length;x++){var T=s[x];if(T.compoundCount>0&&T.edgeCount>0)return br("The selector `"+i+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(T.edgeCount>1)return br("The selector `"+i+"` is invalid because it uses multiple edge selectors"),!1;1===T.edgeCount&&br("The selector `"+i+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var i=function(T){return T??""},s=function(T){return Be(T)?'"'+T+'"':i(T)},d=function(T){return" "+T+" "},p=function(T,k){return T.checks.reduce(function(z,W,j){return z+(k===T&&0===j?"$":"")+function(T,k){var W=T.value;switch(T.type){case 0:var j=i(W);return j.substring(0,j.length-1);case 3:return"["+T.field+d(i(T.operator))+s(W)+"]";case 5:var he=T.field;return"["+i(T.operator)+he+"]";case 4:return"["+T.field+"]";case 6:return"[["+T.field+d(i(T.operator))+s(W)+"]]";case 7:return W;case 8:return"#"+W;case 9:return"."+W;case 17:case 15:return p(T.parent,k)+d(">")+p(T.child,k);case 18:case 16:return p(T.ancestor,k)+" "+p(T.descendant,k);case 19:var Ne=p(T.left,k),we=p(T.subject,k),Ie=p(T.right,k);return Ne+(Ne.length>0?" ":"")+we+Ie;case 20:return""}}(W,k)},"")},g="",w=0;w<this.length;w++){var E=this[w];g+=p(E,E.subject),this.length>1&&w<this.length-1&&(g+=", ")}return this.toStringCache=g,g}},ns=function(i,s,d){var h,E,x,p=Be(i),g=Xe(i),w=Be(d),T=!1,k=!1,z=!1;switch(s.indexOf("!")>=0&&(s=s.replace("!",""),k=!0),s.indexOf("@")>=0&&(s=s.replace("@",""),T=!0),(p||w||T)&&(E=p||g?""+i:"",x=""+d),T&&(i=E=E.toLowerCase(),d=x=x.toLowerCase()),s){case"*=":h=E.indexOf(x)>=0;break;case"$=":h=E.indexOf(x,E.length-x.length)>=0;break;case"^=":h=0===E.indexOf(x);break;case"=":h=i===d;break;case">":z=!0,h=i>d;break;case">=":z=!0,h=i>=d;break;case"<":z=!0,h=i<d;break;case"<=":z=!0,h=i<=d;break;default:h=!1}return k&&(null!=i||!z)&&(h=!h),h},Mo=function(i,s){return i.data(s)},li=[],hi=function(i,s){return i.checks.every(function(d){return li[d.type](d,s)})};li[0]=function(l,i){var s=l.value;return"*"===s||s===i.group()},li[7]=function(l,i){return function(i,s){return xs[i](s)}(l.value,i)},li[8]=function(l,i){var s=l.value;return i.id()===s},li[9]=function(l,i){return i.hasClass(l.value)},li[6]=function(l,i){var d=l.operator,h=l.value;return ns(function(i,s){return i[s]()}(i,l.field),d,h)},li[3]=function(l,i){var d=l.operator,h=l.value;return ns(Mo(i,l.field),d,h)},li[5]=function(l,i){var d=l.operator;return function(i,s){switch(s){case"?":return!!i;case"!":return!i;case"^":return void 0===i}}(Mo(i,l.field),d)},li[4]=function(l,i){return function(i){return void 0!==i}(Mo(i,l.field))},li[10]=function(l,i){var s=l.nodes[0],d=l.nodes[1],h=i.source(),p=i.target();return hi(s,h)&&hi(d,p)||hi(d,h)&&hi(s,p)},li[14]=function(l,i){return hi(l.node,i)&&i.neighborhood().some(function(s){return s.isNode()&&hi(l.neighbor,s)})},li[11]=function(l,i){return hi(l.source,i.source())&&hi(l.target,i.target())},li[12]=function(l,i){return hi(l.source,i)&&i.outgoers().some(function(s){return s.isNode()&&hi(l.target,s)})},li[13]=function(l,i){return hi(l.target,i)&&i.incomers().some(function(s){return s.isNode()&&hi(l.source,s)})},li[15]=function(l,i){return hi(l.child,i)&&hi(l.parent,i.parent())},li[17]=function(l,i){return hi(l.parent,i)&&i.children().some(function(s){return hi(l.child,s)})},li[16]=function(l,i){return hi(l.descendant,i)&&i.ancestors().some(function(s){return hi(l.ancestor,s)})},li[18]=function(l,i){return hi(l.ancestor,i)&&i.descendants().some(function(s){return hi(l.descendant,s)})},li[19]=function(l,i){return hi(l.subject,i)&&hi(l.left,i)&&hi(l.right,i)},li[20]=function(){return!0},li[1]=function(l,i){return l.value.has(i)},li[2]=function(l,i){return(0,l.value)(i)};var sm={matches:function(i){for(var d=0;d<this.length;d++)if(hi(this[d],i))return!0;return!1},filter:function(i){var s=this;if(1===s.length&&1===s[0].checks.length&&8===s[0].checks[0].type)return i.getElementById(s[0].checks[0].value).collection();var d=function(p){for(var g=0;g<s.length;g++)if(hi(s[g],p))return!0;return!1};return null==s.text()&&(d=function(){return!0}),i.filter(d)}},nu=function(i){this.inputText=i,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==i||Be(i)&&i.match(/^\s*$/)||(Ft(i)?this.addQuery({checks:[{type:1,value:i.collection()}]}):nt(i)?this.addQuery({checks:[{type:2,value:i}]}):Be(i)?this.parse(i)||(this.invalid=!0):$r("A selector must be created from a string; found "))},rl=nu.prototype;[Yd,sm].forEach(function(l){return Sn(rl,l)}),rl.text=function(){return this.inputText},rl.size=function(){return this.length},rl.eq=function(l){return this[l]},rl.sameText=function(l){return!this.invalid&&!l.invalid&&this.text()===l.text()},rl.addQuery=function(l){this[this.length++]=l},rl.selector=rl.toString;var Ml={allAre:function(i){var s=new nu(i);return this.every(function(d){return s.matches(d)})},is:function(i){var s=new nu(i);return this.some(function(d){return s.matches(d)})},some:function(i,s){for(var d=0;d<this.length;d++)if(s?i.apply(s,[this[d],d,this]):i(this[d],d,this))return!0;return!1},every:function(i,s){for(var d=0;d<this.length;d++)if(!(s?i.apply(s,[this[d],d,this]):i(this[d],d,this)))return!1;return!0},same:function(i){if(this===i)return!0;i=this.cy().collection(i);var s=this.length;return s===i.length&&(1===s?this[0]===i[0]:this.every(function(h){return i.hasElementWithId(h.id())}))},anySame:function(i){return i=this.cy().collection(i),this.some(function(s){return i.hasElementWithId(s.id())})},allAreNeighbors:function(i){i=this.cy().collection(i);var s=this.neighborhood();return i.every(function(d){return s.hasElementWithId(d.id())})},contains:function(i){i=this.cy().collection(i);var s=this;return i.every(function(d){return s.hasElementWithId(d.id())})}};Ml.allAreNeighbours=Ml.allAreNeighbors,Ml.has=Ml.contains,Ml.equal=Ml.equals=Ml.same;var Tl,Kd,Ga=function(i,s){return function(h,p,g,w){var T,E=h,x=this;if(null==E?T="":Ft(E)&&1===E.length&&(T=E.id()),1===x.length&&T){var k=x[0]._private,z=k.traversalCache=k.traversalCache||{},W=z[s]=z[s]||[],j=Za(T);return W[j]||(W[j]=i.call(x,h,p,g,w))}return i.call(x,h,p,g,w)}},Vc={parent:function(i){var s=[];if(1===this.length){var d=this[0]._private.parent;if(d)return d}for(var h=0;h<this.length;h++){var g=this[h]._private.parent;g&&s.push(g)}return this.spawn(s,!0).filter(i)},parents:function(i){for(var s=[],d=this.parent();d.nonempty();){for(var h=0;h<d.length;h++)s.push(d[h]);d=d.parent()}return this.spawn(s,!0).filter(i)},commonAncestors:function(i){for(var s,d=0;d<this.length;d++){var p=this[d].parents();s=(s=s||p).intersect(p)}return s.filter(i)},orphans:function(i){return this.stdFilter(function(s){return s.isOrphan()}).filter(i)},nonorphans:function(i){return this.stdFilter(function(s){return s.isChild()}).filter(i)},children:Ga(function(l){for(var i=[],s=0;s<this.length;s++)for(var h=this[s]._private.children,p=0;p<h.length;p++)i.push(h[p]);return this.spawn(i,!0).filter(l)},"children"),siblings:function(i){return this.parent().children().not(this).filter(i)},isParent:function(){var i=this[0];if(i)return i.isNode()&&0!==i._private.children.length},isChildless:function(){var i=this[0];if(i)return i.isNode()&&0===i._private.children.length},isChild:function(){var i=this[0];if(i)return i.isNode()&&null!=i._private.parent},isOrphan:function(){var i=this[0];if(i)return i.isNode()&&null==i._private.parent},descendants:function(i){var s=[];return function d(h){for(var p=0;p<h.length;p++){var g=h[p];s.push(g),g.children().nonempty()&&d(g.children())}}(this.children()),this.spawn(s,!0).filter(i)}};function Xd(l,i,s,d){for(var h=[],p=new ms,w=l.cy().hasCompoundNodes(),E=0;E<l.length;E++){var x=l[E];s?h.push(x):w&&d(h,p,x)}for(;h.length>0;){var T=h.shift();i(T),p.add(T.id()),w&&d(h,p,T)}return l}function $f(l,i,s){if(s.isParent())for(var d=s._private.children,h=0;h<d.length;h++){var p=d[h];i.has(p.id())||l.push(p)}}function Zh(l,i,s){if(s.isChild()){var d=s._private.parent;i.has(d.id())||l.push(d)}}function bg(l,i,s){Zh(l,i,s),$f(l,i,s)}Vc.forEachDown=function(l){return Xd(this,l,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],$f)},Vc.forEachUp=function(l){return Xd(this,l,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Zh)},Vc.forEachUpAndDown=function(l){return Xd(this,l,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],bg)},Vc.ancestors=Vc.parents,Tl=Kd={data:tr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:tr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:tr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:tr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:tr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:tr.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var i=this[0];if(i)return i._private.data.id}},Tl.attr=Tl.data,Tl.removeAttr=Tl.removeData;var Zd=Kd,Yf={};function Hc(l){return function(i){var s=this;if(void 0===i&&(i=!0),0===s.length);else if(s.isNode()&&!s.removed()){for(var d=0,h=s[0],p=h._private.edges,g=0;g<p.length;g++){var w=p[g];!i&&w.isLoop()||(d+=l(h,w))}return d}}}function to(l,i){return function(s){for(var d,h=this.nodes(),p=0;p<h.length;p++){var w=h[p][l](s);void 0!==w&&(void 0===d||i(w,d))&&(d=w)}return d}}Sn(Yf,{degree:Hc(function(l,i){return i.source().same(i.target())?2:1}),indegree:Hc(function(l,i){return i.target().same(l)?1:0}),outdegree:Hc(function(l,i){return i.source().same(l)?1:0})}),Sn(Yf,{minDegree:to("degree",function(l,i){return l<i}),maxDegree:to("degree",function(l,i){return l>i}),minIndegree:to("indegree",function(l,i){return l<i}),maxIndegree:to("indegree",function(l,i){return l>i}),minOutdegree:to("outdegree",function(l,i){return l<i}),maxOutdegree:to("outdegree",function(l,i){return l>i})}),Sn(Yf,{totalDegree:function(i){for(var s=0,d=this.nodes(),h=0;h<d.length;h++)s+=d[h].degree(i);return s}});var ja,wg,Uc=function(i,s,d){for(var h=0;h<i.length;h++){var p=i[h];if(!p.locked()){var g=p._private.position,w={x:null!=s.x?s.x-g.x:0,y:null!=s.y?s.y-g.y:0};p.isParent()&&!(0===w.x&&0===w.y)&&p.children().shift(w,d),p.dirtyBoundingBoxCache()}}},ua={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(i){i.updateCompoundBounds()},beforeSet:function(i,s){Uc(i,s,!1)},onSet:function(i){i.dirtyCompoundBoundsCache()},canSet:function(i){return!i.locked()}};ja=wg={position:tr.data(ua),silentPosition:tr.data(Sn({},ua,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(i,s){Uc(i,s,!0)},onSet:function(i){i.dirtyCompoundBoundsCache()}})),positions:function(i,s){if(Ke(i))s?this.silentPosition(i):this.position(i);else if(nt(i)){var d=i,h=this.cy();h.startBatch();for(var p=0;p<this.length;p++){var w,g=this[p];(w=d(g,p))&&(s?g.silentPosition(w):g.position(w))}h.endBatch()}return this},silentPositions:function(i){return this.positions(i,!0)},shift:function(i,s,d){var h;if(Ke(i)?(h={x:Xe(i.x)?i.x:0,y:Xe(i.y)?i.y:0},d=s):Be(i)&&Xe(s)&&((h={x:0,y:0})[i]=s),null!=h){var p=this.cy();p.startBatch();for(var g=0;g<this.length;g++){var w=this[g];if(!(p.hasCompoundNodes()&&w.isChild()&&w.ancestors().anySame(this))){var E=w.position(),x={x:E.x+h.x,y:E.y+h.y};d?w.silentPosition(x):w.position(x)}}p.endBatch()}return this},silentShift:function(i,s){return Ke(i)?this.shift(i,!0):Be(i)&&Xe(s)&&this.shift(i,s,!0),this},renderedPosition:function(i,s){var d=this[0],h=this.cy(),p=h.zoom(),g=h.pan(),w=Ke(i)?i:void 0,E=void 0!==w||void 0!==s&&Be(i);if(d&&d.isNode()){if(!E){var k=d.position();return w=Ar(k,p,g),void 0===i?w:w[i]}for(var x=0;x<this.length;x++){var T=this[x];void 0!==s?T.position(i,(s-g[i])/p):void 0!==w&&T.position(oi(w,p,g))}}else if(!E)return;return this},relativePosition:function(i,s){var d=this[0],h=this.cy(),p=Ke(i)?i:void 0,g=void 0!==p||void 0!==s&&Be(i),w=h.hasCompoundNodes();if(d&&d.isNode()){if(!g){var j=d.position(),Q=w?d.parent():null,J=Q&&Q.length>0;J&&(Q=Q[0]);var he=J?Q.position():{x:0,y:0};return p={x:j.x-he.x,y:j.y-he.y},void 0===i?p:p[i]}for(var E=0;E<this.length;E++){var x=this[E],T=w?x.parent():null,k=T&&T.length>0;k&&(T=T[0]);var W=k?T.position():{x:0,y:0};void 0!==s?x.position(i,s+W[i]):void 0!==p&&x.position({x:p.x+W.x,y:p.y+W.y})}}else if(!g)return;return this}},ja.modelPosition=ja.point=ja.position,ja.modelPositions=ja.points=ja.positions,ja.renderedPoint=ja.renderedPosition,ja.relativePoint=ja.relativePosition;var na,ca,Hr=wg;na=ca={},ca.renderedBoundingBox=function(l){var i=this.boundingBox(l),s=this.cy(),d=s.zoom(),h=s.pan(),p=i.x1*d+h.x,g=i.x2*d+h.x,w=i.y1*d+h.y,E=i.y2*d+h.y;return{x1:p,x2:g,y1:w,y2:E,w:g-p,h:E-w}},ca.dirtyCompoundBoundsCache=function(){var l=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.cy();return i.styleEnabled()&&i.hasCompoundNodes()?(this.forEachUp(function(s){if(s.isParent()){var d=s._private;d.compoundBoundsClean=!1,d.bbCache=null,l||s.emitAndNotify("bounds")}}),this):this},ca.updateCompoundBounds=function(){var l=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.cy();if(!i.styleEnabled()||!i.hasCompoundNodes())return this;if(!l&&i.batching())return this;function s(g){if(g.isParent()){var w=g._private,E=g.children(),x="include"===g.pstyle("compound-sizing-wrt-labels").value,T={width:{val:g.pstyle("min-width").pfValue,left:g.pstyle("min-width-bias-left"),right:g.pstyle("min-width-bias-right")},height:{val:g.pstyle("min-height").pfValue,top:g.pstyle("min-height-bias-top"),bottom:g.pstyle("min-height-bias-bottom")}},k=E.boundingBox({includeLabels:x,includeOverlays:!1,useCache:!1}),z=w.position;(0===k.w||0===k.h)&&((k={w:g.pstyle("width").pfValue,h:g.pstyle("height").pfValue}).x1=z.x-k.w/2,k.x2=z.x+k.w/2,k.y1=z.y-k.h/2,k.y2=z.y+k.h/2);var Q=T.width.left.value;"px"===T.width.left.units&&T.width.val>0&&(Q=100*Q/T.width.val);var J=T.width.right.value;"px"===T.width.right.units&&T.width.val>0&&(J=100*J/T.width.val);var oe=T.height.top.value;"px"===T.height.top.units&&T.height.val>0&&(oe=100*oe/T.height.val);var he=T.height.bottom.value;"px"===T.height.bottom.units&&T.height.val>0&&(he=100*he/T.height.val);var pe=W(T.width.val-k.w,Q,J),be=pe.biasDiff,Ae=pe.biasComplementDiff,Ne=W(T.height.val-k.h,oe,he),we=Ne.biasDiff,Ie=Ne.biasComplementDiff;w.autoPadding=function j(Ce,ke,Pe,De){if("%"!==Pe.units)return"px"===Pe.units?Pe.pfValue:0;switch(De){case"width":return Ce>0?Pe.pfValue*Ce:0;case"height":return ke>0?Pe.pfValue*ke:0;case"average":return Ce>0&&ke>0?Pe.pfValue*(Ce+ke)/2:0;case"min":return Ce>0&&ke>0?Ce>ke?Pe.pfValue*ke:Pe.pfValue*Ce:0;case"max":return Ce>0&&ke>0?Ce>ke?Pe.pfValue*Ce:Pe.pfValue*ke:0;default:return 0}}(k.w,k.h,g.pstyle("padding"),g.pstyle("padding-relative-to").value),w.autoWidth=Math.max(k.w,T.width.val),z.x=(-be+k.x1+k.x2+Ae)/2,w.autoHeight=Math.max(k.h,T.height.val),z.y=(-we+k.y1+k.y2+Ie)/2}function W(Ce,ke,Pe){var De=0,He=0,Re=ke+Pe;return Ce>0&&Re>0&&(De=ke/Re*Ce,He=Pe/Re*Ce),{biasDiff:De,biasComplementDiff:He}}}for(var d=0;d<this.length;d++){var h=this[d],p=h._private;(!p.compoundBoundsClean||l)&&(s(h),i.batching()||(p.compoundBoundsClean=!0))}return this};var Io=function(i){return i===1/0||i===-1/0?0:i},rs=function(i,s,d,h,p){h-s==0||p-d==0||null==s||null==d||null==h||null==p||(i.x1=s<i.x1?s:i.x1,i.x2=h>i.x2?h:i.x2,i.y1=d<i.y1?d:i.y1,i.y2=p>i.y2?p:i.y2,i.w=i.x2-i.x1,i.h=i.y2-i.y1)},Ao=function(i,s){return null==s?i:rs(i,s.x1,s.y1,s.x2,s.y2)},il=function(i,s,d){return zi(i,s,d)},ji=function(i,s,d){if(!s.cy().headless()){var E,x,h=s._private,p=h.rstyle,g=p.arrowWidth/2;if("none"!==s.pstyle(d+"-arrow-shape").value){"source"===d?(E=p.srcX,x=p.srcY):"target"===d?(E=p.tgtX,x=p.tgtY):(E=p.midX,x=p.midY);var T=h.arrowBounds=h.arrowBounds||{},k=T[d]=T[d]||{};k.x1=E-g,k.y1=x-g,k.x2=E+g,k.y2=x+g,k.w=k.x2-k.x1,k.h=k.y2-k.y1,Ea(k,1),rs(i,k.x1,k.y1,k.x2,k.y2)}}},Wu=function(i,s,d){if(!s.cy().headless()){var h,p=s._private,g=p.rstyle;if(s.pstyle((h=d?d+"-":"")+"label").strValue){var Pe,De,He,Re,E=s.pstyle("text-halign"),x=s.pstyle("text-valign"),T=il(g,"labelWidth",d),k=il(g,"labelHeight",d),z=il(g,"labelX",d),W=il(g,"labelY",d),j=s.pstyle(h+"text-margin-x").pfValue,Q=s.pstyle(h+"text-margin-y").pfValue,J=s.isEdge(),oe=s.pstyle(h+"text-rotation"),he=s.pstyle("text-outline-width").pfValue,be=s.pstyle("text-border-width").pfValue/2,Ae=s.pstyle("text-background-padding").pfValue,we=k,Ie=T,Ce=Ie/2,ke=we/2;if(J)Pe=z-Ce,De=z+Ce,He=W-ke,Re=W+ke;else{switch(E.value){case"left":Pe=z-Ie,De=z;break;case"center":Pe=z-Ce,De=z+Ce;break;case"right":Pe=z,De=z+Ie}switch(x.value){case"top":He=W-we,Re=W;break;case"center":He=W-ke,Re=W+ke;break;case"bottom":He=W,Re=W+we}}Pe+=j-Math.max(he,be)-Ae-2,De+=j+Math.max(he,be)+Ae+2,He+=Q-Math.max(he,be)-Ae-2,Re+=Q+Math.max(he,be)+Ae+2;var Ze=d||"main",ze=p.labelBounds,je=ze[Ze]=ze[Ze]||{};je.x1=Pe,je.y1=He,je.x2=De,je.y2=Re,je.w=De-Pe,je.h=Re-He;var tt=J&&"autorotate"===oe.strValue;if(tt||null!=oe.pfValue&&0!==oe.pfValue){var vt=tt?il(p.rstyle,"labelAngle",d):oe.pfValue,rt=Math.cos(vt),gt=Math.sin(vt),It=(Pe+De)/2,At=(He+Re)/2;if(!J){switch(E.value){case"left":It=De;break;case"right":It=Pe}switch(x.value){case"top":At=Re;break;case"bottom":At=He}}var St=function(Jn,an){return{x:(Jn-=It)*rt-(an-=At)*gt+It,y:Jn*gt+an*rt+At}},wt=St(Pe,He),Qe=St(Pe,Re),Tt=St(De,He),Nt=St(De,Re);Pe=Math.min(wt.x,Qe.x,Tt.x,Nt.x),De=Math.max(wt.x,Qe.x,Tt.x,Nt.x),He=Math.min(wt.y,Qe.y,Tt.y,Nt.y),Re=Math.max(wt.y,Qe.y,Tt.y,Nt.y)}var $t=Ze+"Rot",nn=ze[$t]=ze[$t]||{};nn.x1=Pe,nn.y1=He,nn.x2=De,nn.y2=Re,nn.w=De-Pe,nn.h=Re-He,rs(i,Pe,He,De,Re),rs(p.labelBounds.all,Pe,He,De,Re)}return i}},zc=function(i){var s=0,d=function(g){return(g?1:0)<<s++},h=0;return h+=d(i.incudeNodes),h+=d(i.includeEdges),h+=d(i.includeLabels),h+=d(i.includeMainLabels),h+=d(i.includeSourceLabels),(h+=d(i.includeTargetLabels))+d(i.includeOverlays)},$u=function(i){if(i.isEdge()){var s=i.source().position(),d=i.target().position(),h=function(g){return Math.round(g)};return function(i,s){var d={value:0,done:!1},h=0,p=i.length;return Ec({next:function(){return h<p?d.value=i[h++]:d.done=!0,d}},void 0)}([h(s.x),h(s.y),h(d.x),h(d.y)])}return 0},is=function(i,s){var h,d=i._private,p=i.isEdge(),w=(null==s?qh:zc(s))===qh,E=$u(i),x=d.bbCachePosKey===E,T=s.useCache&&x,k=function(Q){return null==Q._private.bbCache||Q._private.styleDirty};if(!T||k(i)||p&&k(i.source())||k(i.target())?(x||i.recalculateRenderedStyle(T),h=function(i,s){var T,k,z,W,j,Q,d=i._private.cy,h=d.styleEnabled(),p=d.headless(),g=bi(),w=i._private,E=i.isNode(),x=i.isEdge(),J=w.rstyle,oe=E&&h?i.pstyle("bounds-expansion").pfValue:[0],he=function(In){return"none"!==In.pstyle("display").value},pe=!h||he(i)&&(!x||he(i.source())&&he(i.target()));if(pe){var Ae=0;h&&s.includeOverlays&&0!==i.pstyle("overlay-opacity").value&&(Ae=i.pstyle("overlay-padding").value);var we=0;h&&s.includeUnderlays&&0!==i.pstyle("underlay-opacity").value&&(we=i.pstyle("underlay-padding").value);var Ie=Math.max(Ae,we),ke=0;if(h&&(ke=i.pstyle("width").pfValue/2),E&&s.includeNodes){var Pe=i.position();j=Pe.x,Q=Pe.y;var He=i.outerWidth()/2,Ze=i.outerHeight()/2;rs(g,T=j-He,z=Q-Ze,k=j+He,W=Q+Ze)}else if(x&&s.includeEdges)if(h&&!p){var ze=i.pstyle("curve-style").strValue;if(T=Math.min(J.srcX,J.midX,J.tgtX),k=Math.max(J.srcX,J.midX,J.tgtX),z=Math.min(J.srcY,J.midY,J.tgtY),W=Math.max(J.srcY,J.midY,J.tgtY),rs(g,T-=ke,z-=ke,k+=ke,W+=ke),"haystack"===ze){var je=J.haystackPts;if(je&&2===je.length){if((T=je[0].x)>(k=je[1].x)){var tt=T;T=k,k=tt}if((z=je[0].y)>(W=je[1].y)){var at=z;z=W,W=at}rs(g,T-ke,z-ke,k+ke,W+ke)}}else if("bezier"===ze||"unbundled-bezier"===ze||"segments"===ze||"taxi"===ze){var vt;switch(ze){case"bezier":case"unbundled-bezier":vt=J.bezierPts;break;case"segments":case"taxi":vt=J.linePts}if(null!=vt)for(var rt=0;rt<vt.length;rt++){var gt=vt[rt];rs(g,T=gt.x-ke,z=gt.y-ke,k=gt.x+ke,W=gt.y+ke)}}}else{var At=i.source().position(),wt=i.target().position();if((T=At.x)>(k=wt.x)){var Qe=T;T=k,k=Qe}if((z=At.y)>(W=wt.y)){var Tt=z;z=W,W=Tt}rs(g,T-=ke,z-=ke,k+=ke,W+=ke)}if(h&&s.includeEdges&&x&&(ji(g,i,"mid-source"),ji(g,i,"mid-target"),ji(g,i,"source"),ji(g,i,"target")),h&&"yes"===i.pstyle("ghost").value){var $t=i.pstyle("ghost-offset-x").pfValue,nn=i.pstyle("ghost-offset-y").pfValue;rs(g,g.x1+$t,g.y1+nn,g.x2+$t,g.y2+nn)}var Hn=w.bodyBounds=w.bodyBounds||{};Ki(Hn,g),ys(Hn,oe),Ea(Hn,1),h&&rs(g,(T=g.x1)-Ie,(z=g.y1)-Ie,(k=g.x2)+Ie,(W=g.y2)+Ie);var Jn=w.overlayBounds=w.overlayBounds||{};Ki(Jn,g),ys(Jn,oe),Ea(Jn,1);var an=w.labelBounds=w.labelBounds||{};null!=an.all?function(i){i.x1=1/0,i.y1=1/0,i.x2=-1/0,i.y2=-1/0,i.w=0,i.h=0}(an.all):an.all=bi(),h&&s.includeLabels&&(s.includeMainLabels&&Wu(g,i,null),x&&(s.includeSourceLabels&&Wu(g,i,"source"),s.includeTargetLabels&&Wu(g,i,"target")))}return g.x1=Io(g.x1),g.y1=Io(g.y1),g.x2=Io(g.x2),g.y2=Io(g.y2),g.w=Io(g.x2-g.x1),g.h=Io(g.y2-g.y1),g.w>0&&g.h>0&&pe&&(ys(g,oe),Ea(g,1)),g}(i,Yu),d.bbCache=h,d.bbCachePosKey=E):h=d.bbCache,!w){var W=i.isNode();h=bi(),(s.includeNodes&&W||s.includeEdges&&!W)&&Ao(h,s.includeOverlays?d.overlayBounds:d.bodyBounds),s.includeLabels&&(s.includeMainLabels&&(!p||s.includeSourceLabels&&s.includeTargetLabels)?Ao(h,d.labelBounds.all):(s.includeMainLabels&&Ao(h,d.labelBounds.mainRot),s.includeSourceLabels&&Ao(h,d.labelBounds.sourceRot),s.includeTargetLabels&&Ao(h,d.labelBounds.targetRot))),h.w=h.x2-h.x1,h.h=h.y2-h.y1}return h},Yu={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},qh=zc(Yu),Xf=qr(Yu);ca.boundingBox=function(l){var i;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==l&&void 0!==l.useCache&&!0!==l.useCache){i=bi();var s=Xf(l=l||Yu),d=this;if(d.cy().styleEnabled())for(var g=0;g<d.length;g++){var w=d[g],E=w._private,x=$u(w);w.recalculateRenderedStyle(s.useCache&&E.bbCachePosKey===x&&!E.styleDirty)}this.updateCompoundBounds(!l.useCache);for(var z=0;z<d.length;z++)Ao(i,is(d[z],s))}else l=void 0===l?Yu:Xf(l),i=is(this[0],l);return i.x1=Io(i.x1),i.y1=Io(i.y1),i.x2=Io(i.x2),i.y2=Io(i.y2),i.w=Io(i.x2-i.x1),i.h=Io(i.y2-i.y1),i},ca.dirtyBoundingBoxCache=function(){for(var l=0;l<this.length;l++){var i=this[l]._private;i.bbCache=null,i.bbCachePosKey=null,i.bodyBounds=null,i.overlayBounds=null,i.labelBounds.all=null,i.labelBounds.source=null,i.labelBounds.target=null,i.labelBounds.main=null,i.labelBounds.sourceRot=null,i.labelBounds.targetRot=null,i.labelBounds.mainRot=null,i.arrowBounds.source=null,i.arrowBounds.target=null,i.arrowBounds["mid-source"]=null,i.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},ca.boundingBoxAt=function(l){var i=this.nodes(),s=this.cy(),d=s.hasCompoundNodes(),h=s.collection();if(d&&(h=i.filter(function(x){return x.isParent()}),i=i.not(h)),Ke(l)){var p=l;l=function(){return p}}s.startBatch(),i.forEach(function(T,k){return T._private.bbAtOldPos=l(T,k)}).silentPositions(l),d&&(h.dirtyCompoundBoundsCache(),h.dirtyBoundingBoxCache(),h.updateCompoundBounds(!0));var E=function(i){return{x1:i.x1,x2:i.x2,w:i.w,y1:i.y1,y2:i.y2,h:i.h}}(this.boundingBox({useCache:!1}));return i.silentPositions(function(T){return T._private.bbAtOldPos}),d&&(h.dirtyCompoundBoundsCache(),h.dirtyBoundingBoxCache(),h.updateCompoundBounds(!0)),s.endBatch(),E},na.boundingbox=na.bb=na.boundingBox,na.renderedBoundingbox=na.renderedBoundingBox;var ru,ol,Xu=ca;ru=ol={};var Qh=function(i){i.uppercaseName=Ur(i.name),i.autoName="auto"+i.uppercaseName,i.labelName="label"+i.uppercaseName,i.outerName="outer"+i.uppercaseName,i.uppercaseOuterName=Ur(i.outerName),ru[i.name]=function(){var d=this[0],h=d._private;if(d){if(h.cy._private.styleEnabled){if(d.isParent())return d.updateCompoundBounds(),h[i.autoName]||0;var w=d.pstyle(i.name);return"label"===w.strValue?(d.recalculateRenderedStyle(),h.rstyle[i.labelName]||0):w.pfValue}return 1}},ru["outer"+i.uppercaseName]=function(){var d=this[0];if(d)return d._private.cy._private.styleEnabled?d[i.name]()+d.pstyle("border-width").pfValue+2*d.padding():1},ru["rendered"+i.uppercaseName]=function(){var d=this[0];if(d)return d[i.name]()*this.cy().zoom()},ru["rendered"+i.uppercaseOuterName]=function(){var d=this[0];if(d)return d[i.outerName]()*this.cy().zoom()}};Qh({name:"width"}),Qh({name:"height"}),ol.padding=function(){var l=this[0],i=l._private;return l.isParent()?(l.updateCompoundBounds(),void 0!==i.autoPadding?i.autoPadding:l.pstyle("padding").pfValue):l.pstyle("padding").pfValue},ol.paddedHeight=function(){var l=this[0];return l.height()+2*l.padding()},ol.paddedWidth=function(){var l=this[0];return l.width()+2*l.padding()};var Cg=ol,Qd={controlPoints:{get:function(i){return i.renderer().getControlPoints(i)},mult:!0},segmentPoints:{get:function(i){return i.renderer().getSegmentPoints(i)},mult:!0},sourceEndpoint:{get:function(i){return i.renderer().getSourceEndpoint(i)}},targetEndpoint:{get:function(i){return i.renderer().getTargetEndpoint(i)}},midpoint:{get:function(i){return i.renderer().getEdgeMidpoint(i)}}},Zf=Object.keys(Qd).reduce(function(l,i){var s=Qd[i],d=function(i){return"rendered"+i[0].toUpperCase()+i.substr(1)}(i);return l[i]=function(){return function(i,s){if(i.isEdge())return s(i)}(this,s.get)},l[d]=s.mult?function(){return function(i,s){if(i.isEdge()){var d=i.cy(),h=d.pan(),p=d.zoom();return s(i).map(function(g){return Ar(g,p,h)})}}(this,s.get)}:function(){return function(i,s){if(i.isEdge()){var d=i.cy();return Ar(s(i),d.zoom(),d.pan())}}(this,s.get)},l},{}),qf=Sn({},Hr,Xu,Cg,Zf),Wc=function(i,s){this.recycle(i,s)};function $c(){return!1}function Aa(){return!0}Wc.prototype={instanceString:function(){return"event"},recycle:function(i,s){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=$c,null!=i&&i.preventDefault?(this.type=i.type,this.isDefaultPrevented=i.defaultPrevented?Aa:$c):null!=i&&i.type?s=i:this.type=i,null!=s&&(this.originalEvent=s.originalEvent,this.type=null!=s.type?s.type:this.type,this.cy=s.cy,this.target=s.target,this.position=s.position,this.renderedPosition=s.renderedPosition,this.namespace=s.namespace,this.layout=s.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var d=this.position,h=this.cy.zoom(),p=this.cy.pan();this.renderedPosition={x:d.x*h+p.x,y:d.y*h+p.y}}this.timeStamp=i&&i.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Aa;var i=this.originalEvent;i&&i.preventDefault&&i.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Aa;var i=this.originalEvent;i&&i.stopPropagation&&i.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Aa,this.stopPropagation()},isDefaultPrevented:$c,isPropagationStopped:$c,isImmediatePropagationStopped:$c};var go=/^([^.]+)(\.(?:[^.]+))?$/,ni={qualifierCompare:function(i,s){return i===s},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(i){return i},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Qf=Object.keys(ni),Xc={};function Pi(){for(var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xc,i=arguments.length>1?arguments[1]:void 0,s=0;s<Qf.length;s++){var d=Qf[s];this[d]=l[d]||ni[d]}this.context=i||this.context,this.listeners=[],this.emitting=0}var Es=Pi.prototype,Jd=function(i,s,d,h,p,g,w){nt(h)&&(p=h,h=null),w&&(g=null==g?w:Sn({},g,w));for(var E=lt(d)?d:d.split(/\s+/),x=0;x<E.length;x++){var T=E[x];if(!Pt(T)){var k=T.match(go);if(k&&!1===s(i,T,k[1],k[2]?k[2]:null,h,p,g))break}}},Il=function(i,s){return i.addEventFields(i.context,s),new Wc(s.type,s)};Es.on=Es.addListener=function(l,i,s,d,h){return Jd(this,function(p,g,w,E,x,T,k){nt(T)&&p.listeners.push({event:g,callback:T,type:w,namespace:E,qualifier:x,conf:k})},l,i,s,d,h),this},Es.one=function(l,i,s,d){return this.on(l,i,s,d,{one:!0})},Es.removeListener=Es.off=function(l,i,s,d){var h=this;0!==this.emitting&&(this.listeners=function(i){return i.slice()}(this.listeners));for(var p=this.listeners,g=function(x){var T=p[x];Jd(h,function(k,z,W,j,Q,J){if((T.type===W||"*"===l)&&(!j&&".*"!==T.namespace||T.namespace===j)&&(!Q||k.qualifierCompare(T.qualifier,Q))&&(!J||T.callback===J))return p.splice(x,1),!1},l,i,s,d)},w=p.length-1;w>=0;w--)g(w);return this},Es.removeAllListeners=function(){return this.removeListener("*")},Es.emit=Es.trigger=function(l,i,s){var d=this.listeners,h=d.length;return this.emitting++,lt(i)||(i=[i]),function(i,s,d){if(function(i){return"event"===Ue(i)}(d))s(i,d);else if(Ke(d))s(i,Il(i,d));else for(var h=lt(d)?d:d.split(/\s+/),p=0;p<h.length;p++){var g=h[p];if(!Pt(g)){var w=g.match(go);w&&s(i,Il(i,{type:w[1],namespace:w[2]?w[2]:null,target:i.context}))}}}(this,function(p,g){null!=s&&(h=(d=[{event:g.event,type:g.type,namespace:g.namespace,callback:s}]).length);for(var w=function(T){var k=d[T];if(k.type===g.type&&(!k.namespace||k.namespace===g.namespace||".*"===k.namespace)&&p.eventMatches(p.context,k,g)){var z=[g];null!=i&&function(i,s){for(var d=0;d<s.length;d++)i.push(s[d])}(z,i),p.beforeEmit(p.context,k,g),k.conf&&k.conf.one&&(p.listeners=p.listeners.filter(function(Q){return Q!==k}));var W=p.callbackContext(p.context,k,g),j=k.callback.apply(W,z);p.afterEmit(p.context,k,g),!1===j&&(g.stopPropagation(),g.preventDefault())}},E=0;E<h;E++)w(E);p.bubble(p.context)&&!g.isPropagationStopped()&&p.parent(p.context).emit(g,i)},l),this.emitting--,this};var Zu={qualifierCompare:function(i,s){return null==i||null==s?null==i&&null==s:i.sameText(s)},eventMatches:function(i,s,d){var h=s.qualifier;return null==h||i!==d.target&&gn(d.target)&&h.matches(d.target)},addEventFields:function(i,s){s.cy=i.cy(),s.target=i},callbackContext:function(i,s,d){return null!=s.qualifier?d.target:i},beforeEmit:function(i,s){s.conf&&s.conf.once&&s.conf.onceCollection.removeListener(s.event,s.qualifier,s.callback)},bubble:function(){return!0},parent:function(i){return i.isChild()?i.parent():i.cy()}},Kc=function(i){return Be(i)?new nu(i):i},Zc={createEmitter:function(){for(var i=0;i<this.length;i++){var s=this[i],d=s._private;d.emitter||(d.emitter=new Pi(Zu,s))}return this},emitter:function(){return this._private.emitter},on:function(i,s,d){for(var h=Kc(s),p=0;p<this.length;p++)this[p].emitter().on(i,h,d);return this},removeListener:function(i,s,d){for(var h=Kc(s),p=0;p<this.length;p++)this[p].emitter().removeListener(i,h,d);return this},removeAllListeners:function(){for(var i=0;i<this.length;i++)this[i].emitter().removeAllListeners();return this},one:function(i,s,d){for(var h=Kc(s),p=0;p<this.length;p++)this[p].emitter().one(i,h,d);return this},once:function(i,s,d){for(var h=Kc(s),p=0;p<this.length;p++)this[p].emitter().on(i,h,d,{once:!0,onceCollection:this})},emit:function(i,s){for(var d=0;d<this.length;d++)this[d].emitter().emit(i,s);return this},emitAndNotify:function(i,s){if(0!==this.length)return this.cy().notify(i,this),this.emit(i,s),this}};tr.eventAliasesOn(Zc);var Hs={nodes:function(i){return this.filter(function(s){return s.isNode()}).filter(i)},edges:function(i){return this.filter(function(s){return s.isEdge()}).filter(i)},byGroup:function(){for(var i=this.spawn(),s=this.spawn(),d=0;d<this.length;d++){var h=this[d];h.isNode()?i.push(h):s.push(h)}return{nodes:i,edges:s}},filter:function(i,s){if(void 0===i)return this;if(Be(i)||Ft(i))return new nu(i).filter(this);if(nt(i)){for(var d=this.spawn(),h=this,p=0;p<h.length;p++){var g=h[p];(s?i.apply(s,[g,p,h]):i(g,p,h))&&d.push(g)}return d}return this.spawn()},not:function(i){if(i){Be(i)&&(i=this.filter(i));for(var s=this.spawn(),d=0;d<this.length;d++){var h=this[d];i.has(h)||s.push(h)}return s}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(i){if(Be(i))return this.filter(i);for(var d=this.spawn(),g=this.length<i.length,w=g?this:i,E=g?i:this,x=0;x<w.length;x++){var T=w[x];E.has(T)&&d.push(T)}return d},xor:function(i){var s=this._private.cy;Be(i)&&(i=s.$(i));var d=this.spawn(),p=i,g=function(E,x){for(var T=0;T<E.length;T++){var k=E[T];x.hasElementWithId(k._private.data.id)||d.push(k)}};return g(this,p),g(p,this),d},diff:function(i){var s=this._private.cy;Be(i)&&(i=s.$(i));var d=this.spawn(),h=this.spawn(),p=this.spawn(),w=i,E=function(T,k,z){for(var W=0;W<T.length;W++){var j=T[W];k.hasElementWithId(j._private.data.id)?p.merge(j):z.push(j)}};return E(this,w,d),E(w,this,h),{left:d,right:h,both:p}},add:function(i){var s=this._private.cy;if(!i)return this;if(Be(i)){var d=i;i=s.mutableElements().filter(d)}for(var h=this.spawnSelf(),p=0;p<i.length;p++){var g=i[p];!this.has(g)&&h.push(g)}return h},merge:function(i){var s=this._private,d=s.cy;if(!i)return this;if(i&&Be(i)){var h=i;i=d.mutableElements().filter(h)}for(var p=s.map,g=0;g<i.length;g++){var w=i[g],E=w._private.data.id;if(!p.has(E)){var T=this.length++;this[T]=w,p.set(E,{ele:w,index:T})}}return this},unmergeAt:function(i){var d=this[i].id(),p=this._private.map;if(this[i]=void 0,p.delete(d),this.length>1&&i!==this.length-1){var w=this.length-1,E=this[w],x=E._private.data.id;this[w]=void 0,this[i]=E,p.set(x,{ele:E,index:i})}return this.length--,this},unmergeOne:function(i){var p=this._private.map.get((i=i[0])._private.data.id);return p?(this.unmergeAt(p.index),this):this},unmerge:function(i){var s=this._private.cy;if(!i)return this;if(i&&Be(i)){var d=i;i=s.mutableElements().filter(d)}for(var h=0;h<i.length;h++)this.unmergeOne(i[h]);return this},unmergeBy:function(i){for(var s=this.length-1;s>=0;s--)i(this[s])&&this.unmergeAt(s);return this},map:function(i,s){for(var d=[],h=this,p=0;p<h.length;p++){var g=h[p],w=s?i.apply(s,[g,p,h]):i(g,p,h);d.push(w)}return d},reduce:function(i,s){for(var d=s,h=this,p=0;p<h.length;p++)d=i(d,h[p],p,h);return d},max:function(i,s){for(var h,d=-1/0,p=this,g=0;g<p.length;g++){var w=p[g],E=s?i.apply(s,[w,g,p]):i(w,g,p);E>d&&(d=E,h=w)}return{value:d,ele:h}},min:function(i,s){for(var h,d=1/0,p=this,g=0;g<p.length;g++){var w=p[g],E=s?i.apply(s,[w,g,p]):i(w,g,p);E<d&&(d=E,h=w)}return{value:d,ele:h}}},wr=Hs;wr.u=wr["|"]=wr["+"]=wr.union=wr.or=wr.add,wr["\\"]=wr["!"]=wr["-"]=wr.difference=wr.relativeComplement=wr.subtract=wr.not,wr.n=wr["&"]=wr["."]=wr.and=wr.intersection=wr.intersect,wr["^"]=wr["(+)"]=wr["(-)"]=wr.symmetricDifference=wr.symdiff=wr.xor,wr.fnFilter=wr.filterFn=wr.stdFilter=wr.filter,wr.complement=wr.abscomp=wr.absoluteComplement;var i,Al=function(i,s){var h=i.cy().hasCompoundNodes();function p(T){var k=T.pstyle("z-compound-depth");return"auto"===k.value?h?T.zDepth():0:"bottom"===k.value?-1:"top"===k.value?Iu:0}var g=p(i)-p(s);if(0!==g)return g;function w(T){return"auto"===T.pstyle("z-index-compare").value&&T.isNode()?1:0}var E=w(i)-w(s);if(0!==E)return E;var x=i.pstyle("z-index").value-s.pstyle("z-index").value;return 0!==x?x:i.poolIndex()-s.poolIndex()},qu={forEach:function(i,s){if(nt(i))for(var d=this.length,h=0;h<d;h++){var p=this[h];if(!1===(s?i.apply(s,[p,h,this]):i(p,h,this)))break}return this},toArray:function(){for(var i=[],s=0;s<this.length;s++)i.push(this[s]);return i},slice:function(i,s){var d=[],h=this.length;null==s&&(s=h),null==i&&(i=0),i<0&&(i=h+i),s<0&&(s=h+s);for(var p=i;p>=0&&p<s&&p<h;p++)d.push(this[p]);return this.spawn(d)},size:function(){return this.length},eq:function(i){return this[i]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(i){if(!nt(i))return this;var s=this.toArray().sort(i);return this.spawn(s)},sortByZIndex:function(){return this.sort(Al)},zDepth:function(){var i=this[0];if(i){var s=i._private;if("nodes"===s.group){var h=s.data.parent?i.parents().size():0;return i.isParent()?h:Iu-1}var g=s.target,w=s.source.zDepth(),E=g.zDepth();return Math.max(w,E,0)}}};qu.each=qu.forEach,i="undefined",(typeof Symbol>"u"?"undefined":U(Symbol))!=i&&U(Symbol.iterator)!=i&&(qu[Symbol.iterator]=function(){var d=this,h={value:void 0,done:!1},p=0,g=this.length;return ie({next:function(){return p<g?h.value=d[p++]:(h.value=void 0,h.done=!0),h}},Symbol.iterator,function(){return this})});var tp=qr({nodeDimensionsIncludeLabels:!1}),Nn={layoutDimensions:function(i){var s;if(i=tp(i),this.takesUpSpace())if(i.nodeDimensionsIncludeLabels){var d=this.boundingBox();s={w:d.w,h:d.h}}else s={w:this.outerWidth(),h:this.outerHeight()};else s={w:0,h:0};return(0===s.w||0===s.h)&&(s.w=s.h=1),s},layoutPositions:function(i,s,d){var h=this.nodes().filter(function(Ae){return!Ae.isParent()}),p=this.cy(),g=s.eles,w=function(Ne){return Ne.id()},E=Tr(d,w);i.emit({type:"layoutstart",layout:i}),i.animations=[];var T=s.spacingFactor&&1!==s.spacingFactor,z=function(){if(!T)return null;for(var Ne=bi(),we=0;we<h.length;we++){var Ce=E(h[we],we);Ru(Ne,Ce.x,Ce.y)}return Ne}(),W=Tr(function(Ae,Ne){var we=E(Ae,Ne);return T&&(we=function(Ne,we,Ie){var Ce_x=we.x1+we.w/2,Ce_y=we.y1+we.h/2;return{x:Ce_x+(Ie.x-Ce_x)*Ne,y:Ce_y+(Ie.y-Ce_y)*Ne}}(Math.abs(s.spacingFactor),z,we)),null!=s.transform&&(we=s.transform(Ae,we)),we},w);if(s.animate){for(var j=0;j<h.length;j++){var Q=h[j],J=W(Q,j);if(null==s.animateFilter||s.animateFilter(Q,j)){var he=Q.animation({position:J,duration:s.animationDuration,easing:s.animationEasing});i.animations.push(he)}else Q.position(J)}if(s.fit){var pe=p.animation({fit:{boundingBox:g.boundingBoxAt(W),padding:s.padding},duration:s.animationDuration,easing:s.animationEasing});i.animations.push(pe)}else if(void 0!==s.zoom&&void 0!==s.pan){var be=p.animation({zoom:s.zoom,pan:s.pan,duration:s.animationDuration,easing:s.animationEasing});i.animations.push(be)}i.animations.forEach(function(Ae){return Ae.play()}),i.one("layoutready",s.ready),i.emit({type:"layoutready",layout:i}),ts.all(i.animations.map(function(Ae){return Ae.promise()})).then(function(){i.one("layoutstop",s.stop),i.emit({type:"layoutstop",layout:i})})}else h.positions(W),s.fit&&p.fit(s.eles,s.padding),null!=s.zoom&&p.zoom(s.zoom),s.pan&&p.pan(s.pan),i.one("layoutready",s.ready),i.emit({type:"layoutready",layout:i}),i.one("layoutstop",s.stop),i.emit({type:"layoutstop",layout:i});return this},layout:function(i){return this.cy().makeLayout(Sn({},i,{eles:this}))}};function iu(l,i,s){var p,d=s._private,h=d.styleCache=d.styleCache||[];return null!=(p=h[l])||(p=h[l]=i(s)),p}function ou(l,i){return l=Za(l),function(d){return iu(l,i,d)}}function Nl(l,i){l=Za(l);var s=function(h){return i.call(h)};return function(){var h=this[0];if(h)return iu(l,s,h)}}Nn.createLayout=Nn.makeLayout=Nn.layout;var No={recalculateRenderedStyle:function(i){var s=this.cy(),d=s.renderer(),h=s.styleEnabled();return d&&h&&d.recalculateRenderedStyle(this,i),this},dirtyStyleCache:function(){var d,i=this.cy(),s=function(p){return p._private.styleCache=null};return i.hasCompoundNodes()?((d=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(d.connectedEdges()),d.forEach(s)):this.forEach(function(h){s(h),h.connectedEdges().forEach(s)}),this},updateStyle:function(i){var s=this._private.cy;if(!s.styleEnabled())return this;if(s.batching())return s._private.batchStyleEles.merge(this),this;var p=this;i=!(!i&&void 0!==i),s.hasCompoundNodes()&&(p=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var g=p;return i?g.emitAndNotify("style"):g.emit("style"),p.forEach(function(w){return w._private.styleDirty=!0}),this},cleanStyle:function(){var i=this.cy();if(i.styleEnabled())for(var s=0;s<this.length;s++){var d=this[s];d._private.styleDirty&&(d._private.styleDirty=!1,i.style().apply(d))}},parsedStyle:function(i){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=this[0],h=d.cy();if(h.styleEnabled()&&d)return this.cleanStyle(),d._private.style[i]??(s?h.style().getDefaultProperty(i):null)},numericStyle:function(i){var s=this[0];if(s.cy().styleEnabled()&&s){var d=s.pstyle(i);return void 0!==d.pfValue?d.pfValue:d.value}},numericStyleUnits:function(i){var s=this[0];if(s.cy().styleEnabled()&&s)return s.pstyle(i).units},renderedStyle:function(i){var s=this.cy();if(!s.styleEnabled())return this;var d=this[0];return d?s.style().getRenderedStyle(d,i):void 0},style:function(i,s){var d=this.cy();if(!d.styleEnabled())return this;var p=d.style();if(Ke(i))p.applyBypass(this,i,!1),this.emitAndNotify("style");else if(Be(i)){if(void 0===s){var w=this[0];return w?p.getStylePropertyValue(w,i):void 0}p.applyBypass(this,i,s,!1),this.emitAndNotify("style")}else if(void 0===i){var E=this[0];return E?p.getRawStyle(E):void 0}return this},removeStyle:function(i){var s=this.cy();if(!s.styleEnabled())return this;var h=s.style(),p=this;if(void 0===i)for(var g=0;g<p.length;g++)h.removeAllBypasses(p[g],!1);else{i=i.split(/\s+/);for(var E=0;E<p.length;E++)h.removeBypasses(p[E],i,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var i=this.cy();if(!i.styleEnabled())return 1;var s=i.hasCompoundNodes(),d=this[0];if(d){var h=d._private,p=d.pstyle("opacity").value;if(!s)return p;var g=h.data.parent?d.parents():null;if(g)for(var w=0;w<g.length;w++)p*=g[w].pstyle("opacity").value;return p}},transparent:function(){if(!this.cy().styleEnabled())return!1;var s=this[0],d=s.cy().hasCompoundNodes();return s?d?0===s.effectiveOpacity():0===s.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function eh(l,i){var d=l._private.data.parent?l.parents():null;if(d)for(var h=0;h<d.length;h++)if(!i(d[h]))return!1;return!0}function qc(l){var i=l.ok,s=l.edgeOkViaNode||l.ok,d=l.parentOk||l.ok;return function(){var h=this.cy();if(!h.styleEnabled())return!0;var p=this[0],g=h.hasCompoundNodes();if(p){var w=p._private;if(!i(p))return!1;if(p.isNode())return!g||eh(p,d);var E=w.source,x=w.target;return s(E)&&(!g||eh(E,s))&&(E===x||s(x)&&(!g||eh(x,s)))}}}var Oo=ou("eleTakesUpSpace",function(l){return"element"===l.pstyle("display").value&&0!==l.width()&&(!l.isNode()||0!==l.height())});No.takesUpSpace=Nl("takesUpSpace",qc({ok:Oo}));var Qu=ou("eleInteractive",function(l){return"yes"===l.pstyle("events").value&&"visible"===l.pstyle("visibility").value&&Oo(l)}),Qc=ou("parentInteractive",function(l){return"visible"===l.pstyle("visibility").value&&Oo(l)});No.interactive=Nl("interactive",qc({ok:Qu,parentOk:Qc,edgeOkViaNode:Oo})),No.noninteractive=function(){var l=this[0];if(l)return!l.interactive()};var Dg=ou("eleVisible",function(l){return"visible"===l.pstyle("visibility").value&&0!==l.pstyle("opacity").pfValue&&Oo(l)});No.visible=Nl("visible",qc({ok:Dg,edgeOkViaNode:Oo})),No.hidden=function(){var l=this[0];if(l)return!l.visible()},No.isBundledBezier=Nl("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),No.bypass=No.css=No.style,No.renderedCss=No.renderedStyle,No.removeBypass=No.removeCss=No.removeStyle,No.pstyle=No.parsedStyle;var Ol={};function Ot(l){return function(){var i=arguments,s=[];if(2===i.length)this.on(l.event,i[0],i[1]);else if(1===i.length&&nt(i[0]))this.on(l.event,i[0]);else if(0===i.length||1===i.length&&lt(i[0])){for(var g=1===i.length?i[0]:null,w=0;w<this.length;w++){var E=this[w],x=!l.ableField||E._private[l.ableField],T=E._private[l.field]!=l.value;if(l.overrideAble){var k=l.overrideAble(E);if(void 0!==k&&(x=k,!k))return this}x&&(E._private[l.field]=l.value,T&&s.push(E))}var z=this.spawn(s);z.updateStyle(),z.emit(l.event),g&&z.emit(g)}return this}}function fr(l){Ol[l.field]=function(){var i=this[0];if(i){if(l.overrideField){var s=l.overrideField(i);if(void 0!==s)return s}return i._private[l.field]}},Ol[l.on]=Ot({event:l.on,field:l.field,ableField:l.ableField,overrideAble:l.overrideAble,value:!0}),Ol[l.off]=Ot({event:l.off,field:l.field,ableField:l.ableField,overrideAble:l.overrideAble,value:!1})}fr({field:"locked",overrideField:function(i){return!!i.cy().autolock()||void 0},on:"lock",off:"unlock"}),fr({field:"grabbable",overrideField:function(i){return!i.cy().autoungrabify()&&!i.pannable()&&void 0},on:"grabify",off:"ungrabify"}),fr({field:"selected",ableField:"selectable",overrideAble:function(i){return!i.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),fr({field:"selectable",overrideField:function(i){return!i.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Ol.deselect=Ol.unselect,Ol.grabbed=function(){var l=this[0];if(l)return l._private.grabbed},fr({field:"active",on:"activate",off:"unactivate"}),fr({field:"pannable",on:"panify",off:"unpanify"}),Ol.inactive=function(){var l=this[0];if(l)return!l._private.active};var nr={},da=function(i){return function(d){for(var p=[],g=0;g<this.length;g++){var w=this[g];if(w.isNode()){for(var E=!1,x=w.connectedEdges(),T=0;T<x.length;T++){var k=x[T],z=k.source(),W=k.target();if(i.noIncomingEdges&&W===w&&z!==w||i.noOutgoingEdges&&z===w&&W!==w){E=!0;break}}E||p.push(w)}}return this.spawn(p,!0).filter(d)}},Ro=function(i){return function(s){for(var h=[],p=0;p<this.length;p++){var g=this[p];if(g.isNode())for(var w=g.connectedEdges(),E=0;E<w.length;E++){var x=w[E],T=x.source(),k=x.target();i.outgoing&&T===g?(h.push(x),h.push(k)):i.incoming&&k===g&&(h.push(x),h.push(T))}}return this.spawn(h,!0).filter(s)}},th=function(i){return function(s){for(var d=this,h=[],p={};;){var g=i.outgoing?d.outgoers():d.incomers();if(0===g.length)break;for(var w=!1,E=0;E<g.length;E++){var x=g[E],T=x.id();p[T]||(p[T]=!0,h.push(x),w=!0)}if(!w)break;d=g}return this.spawn(h,!0).filter(s)}};function Ju(l){return function(s){for(var d=[],h=0;h<this.length;h++){var g=this[h]._private[l.attr];g&&d.push(g)}return this.spawn(d,!0).filter(s)}}function os(l){return function(s){var d=[],h=this._private.cy,p=l||{};Be(s)&&(s=h.$(s));for(var g=0;g<s.length;g++)for(var w=s[g]._private.edges,E=0;E<w.length;E++){var x=w[E],T=x._private.data,k=this.hasElementWithId(T.source)&&s.hasElementWithId(T.target),z=s.hasElementWithId(T.source)&&this.hasElementWithId(T.target);(k||z)&&((p.thisIsSrc||p.thisIsTgt)&&(p.thisIsSrc&&!k||p.thisIsTgt&&!z)||d.push(x))}return this.spawn(d,!0)}}function Jc(l){return l=Sn({},{codirected:!1},l),function(d){for(var h=[],p=this.edges(),g=l,w=0;w<p.length;w++)for(var x=p[w]._private,T=x.source,k=T._private.data.id,z=x.data.target,W=T._private.edges,j=0;j<W.length;j++){var Q=W[j],J=Q._private.data,oe=J.target,he=J.source,pe=oe===z&&he===k;(g.codirected&&pe||!g.codirected&&(pe||k===oe&&z===he))&&h.push(Q)}return this.spawn(h,!0).filter(d)}}nr.clearTraversalCache=function(){for(var l=0;l<this.length;l++)this[l]._private.traversalCache=null},Sn(nr,{roots:da({noIncomingEdges:!0}),leaves:da({noOutgoingEdges:!0}),outgoers:Ga(Ro({outgoing:!0}),"outgoers"),successors:th({outgoing:!0}),incomers:Ga(Ro({incoming:!0}),"incomers"),predecessors:th({incoming:!0})}),Sn(nr,{neighborhood:Ga(function(l){for(var i=[],s=this.nodes(),d=0;d<s.length;d++)for(var h=s[d],p=h.connectedEdges(),g=0;g<p.length;g++){var w=p[g],E=w.source(),x=w.target(),T=h===E?x:E;T.length>0&&i.push(T[0]),i.push(w[0])}return this.spawn(i,!0).filter(l)},"neighborhood"),closedNeighborhood:function(i){return this.neighborhood().add(this).filter(i)},openNeighborhood:function(i){return this.neighborhood(i)}}),nr.neighbourhood=nr.neighborhood,nr.closedNeighbourhood=nr.closedNeighborhood,nr.openNeighbourhood=nr.openNeighborhood,Sn(nr,{source:Ga(function(i){var d,s=this[0];return s&&(d=s._private.source||s.cy().collection()),d&&i?d.filter(i):d},"source"),target:Ga(function(i){var d,s=this[0];return s&&(d=s._private.target||s.cy().collection()),d&&i?d.filter(i):d},"target"),sources:Ju({attr:"source"}),targets:Ju({attr:"target"})}),Sn(nr,{edgesWith:Ga(os(),"edgesWith"),edgesTo:Ga(os({thisIsSrc:!0}),"edgesTo")}),Sn(nr,{connectedEdges:Ga(function(l){for(var i=[],d=0;d<this.length;d++){var h=this[d];if(h.isNode())for(var p=h._private.edges,g=0;g<p.length;g++)i.push(p[g])}return this.spawn(i,!0).filter(l)},"connectedEdges"),connectedNodes:Ga(function(l){for(var i=[],d=0;d<this.length;d++){var h=this[d];h.isEdge()&&(i.push(h.source()[0]),i.push(h.target()[0]))}return this.spawn(i,!0).filter(l)},"connectedNodes"),parallelEdges:Ga(Jc(),"parallelEdges"),codirectedEdges:Ga(Jc({codirected:!0}),"codirectedEdges")}),Sn(nr,{components:function(i){var s=this,d=s.cy(),h=d.collection(),p=null==i?s.nodes():i.nodes(),g=[];null!=i&&p.empty()&&(p=i.sources());var w=function(T,k){h.merge(T),p.unmerge(T),k.merge(T)};if(p.empty())return s.spawn();var E=function(){var T=d.collection();g.push(T);var k=p[0];w(k,T),s.bfs({directed:!1,roots:k,visit:function(W){return w(W,T)}}),T.forEach(function(z){z.connectedEdges().forEach(function(W){s.has(W)&&T.has(W.source())&&T.has(W.target())&&T.merge(W)})})};do{E()}while(p.length>0);return g},component:function(){var i=this[0];return i.cy().mutableElements().components(i)[0]}}),nr.componentsOf=nr.components;var no=function(i,s){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==i){var p=new _t,g=!1;if(s){if(s.length>0&&Ke(s[0])&&!gn(s[0])){g=!0;for(var w=[],E=new ms,x=0,T=s.length;x<T;x++){var k=s[x];null==k.data&&(k.data={});var z=k.data;if(null==z.id)z.id=Ld();else if(i.hasElementWithId(z.id)||E.has(z.id))continue;var W=new Oe(i,k,!1);w.push(W),E.add(z.id)}s=w}}else s=[];this.length=0;for(var j=0,Q=s.length;j<Q;j++){var J=s[j][0];if(null!=J){var oe=J._private.data.id;(!d||!p.has(oe))&&(d&&p.set(oe,{index:this.length,ele:J}),this[this.length]=J,this.length++)}}this._private={eles:this,cy:i,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(he){this.lazyMap=he},rebuildMap:function(){for(var pe=this.lazyMap=new _t,be=this.eles,Ae=0;Ae<be.length;Ae++){var Ne=be[Ae];pe.set(Ne.id(),{index:Ae,ele:Ne})}}},d&&(this._private.map=p),g&&!h&&this.restore()}else $r("A collection must have a reference to the core")},ui=Oe.prototype=no.prototype=Object.create(Array.prototype);ui.instanceString=function(){return"collection"},ui.spawn=function(l,i){return new no(this.cy(),l,i)},ui.spawnSelf=function(){return this.spawn(this)},ui.cy=function(){return this._private.cy},ui.renderer=function(){return this._private.cy.renderer()},ui.element=function(){return this[0]},ui.collection=function(){return ln(this)?this:new no(this._private.cy,[this])},ui.unique=function(){return new no(this._private.cy,this,!0)},ui.hasElementWithId=function(l){return this._private.map.has(l=""+l)},ui.getElementById=function(l){var i=this._private.cy,s=this._private.map.get(l=""+l);return s?s.ele:new no(i)},ui.$id=ui.getElementById,ui.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},ui.indexOf=function(l){return this._private.map.get(l[0]._private.data.id).index},ui.indexOfId=function(l){return this._private.map.get(l=""+l).index},ui.json=function(l){var i=this.element(),s=this.cy();if(null==i&&l)return this;if(null!=i){var d=i._private;if(Ke(l)){if(s.startBatch(),l.data){i.data(l.data);var h=d.data;if(i.isEdge()){var p=!1,g={},w=l.data.source,E=l.data.target;null!=w&&w!=h.source&&(g.source=""+w,p=!0),null!=E&&E!=h.target&&(g.target=""+E,p=!0),p&&(i=i.move(g))}else{var T=l.data.parent;"parent"in l.data&&(null!=T||null!=h.parent)&&T!=h.parent&&(void 0===T&&(T=null),null!=T&&(T=""+T),i=i.move({parent:T}))}}l.position&&i.position(l.position);var k=function(Q,J,oe){var he=l[Q];null!=he&&he!==d[Q]&&(he?i[J]():i[oe]())};return k("removed","remove","restore"),k("selected","select","unselect"),k("selectable","selectify","unselectify"),k("locked","lock","unlock"),k("grabbable","grabify","ungrabify"),k("pannable","panify","unpanify"),null!=l.classes&&i.classes(l.classes),s.endBatch(),this}if(void 0===l){var z={data:Si(d.data),position:Si(d.position),group:d.group,removed:d.removed,selected:d.selected,selectable:d.selectable,locked:d.locked,grabbable:d.grabbable,pannable:d.pannable,classes:""},W=0;return d.classes.forEach(function(j){return z.classes+=0==W++?j:" "+j}),z}}},ui.jsons=function(){for(var l=[],i=0;i<this.length;i++){var d=this[i].json();l.push(d)}return l},ui.clone=function(){for(var l=this.cy(),i=[],s=0;s<this.length;s++){var h=this[s].json(),p=new Oe(l,h,!1);i.push(p)}return new no(l,i)},ui.copy=ui.clone,ui.restore=function(){for(var w,l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this,d=s.cy(),h=d._private,p=[],g=[],E=0,x=s.length;E<x;E++){var T=s[E];i&&!T.removed()||(T.isNode()?p.push(T):g.push(T))}w=p.concat(g);var k,z=function(){w.splice(k,1),k--};for(k=0;k<w.length;k++){var W=w[k],j=W._private,Q=j.data;if(W.clearTraversalCache(),i||j.removed)if(void 0===Q.id)Q.id=Ld();else if(Xe(Q.id))Q.id=""+Q.id;else{if(Pt(Q.id)||!Be(Q.id)){$r("Can not create element with invalid string ID `"+Q.id+"`"),z();continue}if(d.hasElementWithId(Q.id)){$r("Can not create second element with ID `"+Q.id+"`"),z();continue}}var J=Q.id;if(W.isNode()){var oe=j.position;null==oe.x&&(oe.x=0),null==oe.y&&(oe.y=0)}if(W.isEdge()){for(var he=W,pe=["source","target"],be=pe.length,Ae=!1,Ne=0;Ne<be;Ne++){var we=pe[Ne],Ie=Q[we];Xe(Ie)&&(Ie=Q[we]=""+Q[we]),null==Ie||""===Ie?($r("Can not create edge `"+J+"` with unspecified "+we),Ae=!0):d.hasElementWithId(Ie)||($r("Can not create edge `"+J+"` with nonexistant "+we+" `"+Ie+"`"),Ae=!0)}if(Ae){z();continue}var Ce=d.getElementById(Q.source),ke=d.getElementById(Q.target);Ce.same(ke)?Ce._private.edges.push(he):(Ce._private.edges.push(he),ke._private.edges.push(he)),he._private.source=Ce,he._private.target=ke}j.map=new _t,j.map.set(J,{ele:W,index:0}),j.removed=!1,i&&d.addToPool(W)}for(var Pe=0;Pe<p.length;Pe++){var De=p[Pe],He=De._private.data;Xe(He.parent)&&(He.parent=""+He.parent);var Re=He.parent;if(null!=Re||De._private.parent){var ze=De._private.parent?d.collection().merge(De._private.parent):d.getElementById(Re);if(ze.empty())He.parent=void 0;else if(ze[0].removed())br("Node added with missing parent, reference to parent removed"),He.parent=void 0,De._private.parent=null;else{for(var je=!1,tt=ze;!tt.empty();){if(De.same(tt)){je=!0,He.parent=void 0;break}tt=tt.parent()}je||(ze[0]._private.children.push(De),De._private.parent=ze[0],h.hasCompoundNodes=!0)}}}if(w.length>0){for(var at=w.length===s.length?s:new no(d,w),vt=0;vt<at.length;vt++){var rt=at[vt];rt.isNode()||(rt.parallelEdges().clearTraversalCache(),rt.source().clearTraversalCache(),rt.target().clearTraversalCache())}(h.hasCompoundNodes?d.collection().merge(at).merge(at.connectedNodes()).merge(at.parent()):at).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(l),l?at.emitAndNotify("add"):i&&at.emit("add")}return s},ui.removed=function(){var l=this[0];return l&&l._private.removed},ui.inside=function(){var l=this[0];return l&&!l._private.removed},ui.remove=function(){var l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this,d=[],h={},p=s._private.cy;function E(Re){var Ze=h[Re.id()];i&&Re.removed()||Ze||(h[Re.id()]=!0,Re.isNode()?(d.push(Re),function g(Re){for(var Ze=Re._private.edges,ze=0;ze<Ze.length;ze++)E(Ze[ze])}(Re),function w(Re){for(var Ze=Re._private.children,ze=0;ze<Ze.length;ze++)E(Ze[ze])}(Re)):d.unshift(Re))}for(var x=0,T=s.length;x<T;x++)E(s[x]);function z(Re,Ze){Pa(Re._private.edges,Ze),Re.clearTraversalCache()}var j=[];function Q(Re,Ze){Ze=Ze[0];var ze=(Re=Re[0])._private.children,je=Re.id();Pa(ze,Ze),Ze._private.parent=null,j.ids[je]||(j.ids[je]=!0,j.push(Re))}j.ids={},s.dirtyCompoundBoundsCache(),i&&p.removeFromPool(d);for(var J=0;J<d.length;J++){var oe=d[J];if(oe.isEdge()){var he=oe.source()[0],pe=oe.target()[0];z(he,oe),z(pe,oe);for(var be=oe.parallelEdges(),Ae=0;Ae<be.length;Ae++){var Ne=be[Ae];Ne.clearTraversalCache(),Ne.isBundledBezier()&&Ne.dirtyBoundingBoxCache()}}else{var we=oe.parent();0!==we.length&&Q(we,oe)}i&&(oe._private.removed=!0)}var Ie=p._private.elements;p._private.hasCompoundNodes=!1;for(var Ce=0;Ce<Ie.length;Ce++)if(Ie[Ce].isParent()){p._private.hasCompoundNodes=!0;break}var Pe=new no(this.cy(),d);Pe.size()>0&&(l?Pe.emitAndNotify("remove"):i&&Pe.emit("remove"));for(var De=0;De<j.length;De++){var He=j[De];(!i||!He.removed())&&He.updateStyle()}return Pe},ui.move=function(l){var i=this._private.cy,s=this,d=!1,h=!1,p=function(j){return null==j?j:""+j};if(void 0!==l.source||void 0!==l.target){var g=p(l.source),w=p(l.target),E=null!=g&&i.hasElementWithId(g),x=null!=w&&i.hasElementWithId(w);(E||x)&&(i.batch(function(){s.remove(d,h),s.emitAndNotify("moveout");for(var W=0;W<s.length;W++){var j=s[W],Q=j._private.data;j.isEdge()&&(E&&(Q.source=g),x&&(Q.target=w))}s.restore(d,h)}),s.emitAndNotify("move"))}else if(void 0!==l.parent){var T=p(l.parent);if(null===T||i.hasElementWithId(T)){var z=null===T?void 0:T;i.batch(function(){var W=s.remove(d,h);W.emitAndNotify("moveout");for(var j=0;j<s.length;j++){var Q=s[j],J=Q._private.data;Q.isNode()&&(J.parent=z)}W.restore(d,h)}),s.emitAndNotify("move")}}return this},[ho,Fc,Ua,Ml,Vc,Zd,Yf,qf,Zc,Hs,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var i=this[0];if(i)return i._private.group}},qu,Nn,No,Ol,nr].forEach(function(l){Sn(ui,l)});var um={add:function(i){var s,d=this;if(Ft(i)){var h=i;if(h._private.cy===d)s=h.restore();else{for(var p=[],g=0;g<h.length;g++)p.push(h[g].json());s=new no(d,p)}}else if(lt(i))s=new no(d,i);else if(Ke(i)&&(lt(i.nodes)||lt(i.edges))){for(var x=i,T=[],k=["nodes","edges"],z=0,W=k.length;z<W;z++){var j=k[z],Q=x[j];if(lt(Q))for(var J=0,oe=Q.length;J<oe;J++){var he=Sn({group:j},Q[J]);T.push(he)}}s=new no(d,T)}else s=new Oe(d,i).collection();return s},remove:function(i){return Ft(i)||Be(i)&&(i=this.$(i)),i.remove()}};function rp(l,i,s,d){var x=.1,T=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var k=0;k<4;++k)if("number"!=typeof arguments[k]||isNaN(arguments[k])||!isFinite(arguments[k]))return!1;l=Math.min(l,1),s=Math.min(s,1),l=Math.max(l,0),s=Math.max(s,0);var z=T?new Float32Array(11):new Array(11);function W(ke,Pe){return 1-3*Pe+3*ke}function j(ke,Pe){return 3*Pe-6*ke}function Q(ke){return 3*ke}function J(ke,Pe,De){return((W(Pe,De)*ke+j(Pe,De))*ke+Q(Pe))*ke}function oe(ke,Pe,De){return 3*W(Pe,De)*ke*ke+2*j(Pe,De)*ke+Q(Pe)}var Ne=!1;var Ie=function(Pe){return Ne||function we(){Ne=!0,(l!==i||s!==d)&&function pe(){for(var ke=0;ke<11;++ke)z[ke]=J(ke*x,l,s)}()}(),l===i&&s===d?Pe:0===Pe?0:1===Pe?1:J(function Ae(ke){for(var Pe=0,De=1;10!==De&&z[De]<=ke;++De)Pe+=x;--De;var Ze=Pe+(ke-z[De])/(z[De+1]-z[De])*x,ze=oe(Ze,l,s);return ze>=.001?function he(ke,Pe){for(var De=0;De<4;++De){var He=oe(Pe,l,s);if(0===He)return Pe;Pe-=(J(Pe,l,s)-ke)/He}return Pe}(ke,Ze):0===ze?Ze:function be(ke,Pe,De){var He,Re,Ze=0;do{(He=J(Re=Pe+(De-Pe)/2,l,s)-ke)>0?De=Re:Pe=Re}while(Math.abs(He)>1e-7&&++Ze<10);return Re}(ke,Pe,Pe+x)}(Pe),i,d)};Ie.getControlPoints=function(){return[{x:l,y:i},{x:s,y:d}]};var Ce="generateBezier("+[l,i,s,d]+")";return Ie.toString=function(){return Ce},Ie}var Fi=function(){function l(d){return-d.tension*d.x-d.friction*d.v}function i(d,h,p){var g={x:d.x+p.dx*h,v:d.v+p.dv*h,tension:d.tension,friction:d.friction};return{dx:g.v,dv:l(g)}}function s(d,h){var p={dx:d.v,dv:l(d)},g=i(d,.5*h,p),w=i(d,.5*h,g),E=i(d,h,w),T=1/6*(p.dv+2*(g.dv+w.dv)+E.dv);return d.x=d.x+1/6*(p.dx+2*(g.dx+w.dx)+E.dx)*h,d.v=d.v+T*h,d}return function d(h,p,g){var z,W,j,w={x:-1,v:0,tension:null,friction:null},E=[0],x=0,T=1e-4;for(h=parseFloat(h)||500,p=parseFloat(p)||20,g=g||null,w.tension=h,w.friction=p,W=(z=null!==g)?(x=d(h,p))/g*.016:.016;j=s(j||w,W),E.push(1+j.x),x+=16,Math.abs(j.x)>T&&Math.abs(j.v)>T;);return z?function(Q){return E[Q*(E.length-1)|0]}:x}}(),vr=function(i,s,d,h){var p=rp(i,s,d,h);return function(g,w,E){return g+(w-g)*p(E)}},Rl={linear:function(i,s,d){return i+(s-i)*d},ease:vr(.25,.1,.25,1),"ease-in":vr(.42,0,1,1),"ease-out":vr(0,0,.58,1),"ease-in-out":vr(.42,0,.58,1),"ease-in-sine":vr(.47,0,.745,.715),"ease-out-sine":vr(.39,.575,.565,1),"ease-in-out-sine":vr(.445,.05,.55,.95),"ease-in-quad":vr(.55,.085,.68,.53),"ease-out-quad":vr(.25,.46,.45,.94),"ease-in-out-quad":vr(.455,.03,.515,.955),"ease-in-cubic":vr(.55,.055,.675,.19),"ease-out-cubic":vr(.215,.61,.355,1),"ease-in-out-cubic":vr(.645,.045,.355,1),"ease-in-quart":vr(.895,.03,.685,.22),"ease-out-quart":vr(.165,.84,.44,1),"ease-in-out-quart":vr(.77,0,.175,1),"ease-in-quint":vr(.755,.05,.855,.06),"ease-out-quint":vr(.23,1,.32,1),"ease-in-out-quint":vr(.86,0,.07,1),"ease-in-expo":vr(.95,.05,.795,.035),"ease-out-expo":vr(.19,1,.22,1),"ease-in-out-expo":vr(1,0,0,1),"ease-in-circ":vr(.6,.04,.98,.335),"ease-out-circ":vr(.075,.82,.165,1),"ease-in-out-circ":vr(.785,.135,.15,.86),spring:function(i,s,d){if(0===d)return Rl.linear;var h=Fi(i,s,d);return function(p,g,w){return p+(g-p)*h(w)}},"cubic-bezier":vr};function Ds(l,i,s,d,h){if(1===d||i===s)return s;var p=h(i,s,d);return null==l||((l.roundValue||l.color)&&(p=Math.round(p)),void 0!==l.min&&(p=Math.max(p,l.min)),void 0!==l.max&&(p=Math.min(p,l.max))),p}function Lo(l,i){return null!=l.pfValue||null!=l.value?null==l.pfValue||null!=i&&"%"===i.type.units?l.value:l.pfValue:l}function ec(l,i,s,d,h){var p=null!=h?h.type:null;s<0?s=0:s>1&&(s=1);var g=Lo(l,h),w=Lo(i,h);if(Xe(g)&&Xe(w))return Ds(p,g,w,s,d);if(lt(g)&&lt(w)){for(var E=[],x=0;x<w.length;x++){var T=g[x],k=w[x];if(null!=T&&null!=k){var z=Ds(p,T,k,s,d);E.push(z)}else E.push(k)}return E}}function ip(l,i,s,d){var h=!d,p=l._private,g=i._private,w=g.easing,E=g.startTime,T=(d?l:l.cy()).style();if(!g.easingImpl)if(null==w)g.easingImpl=Rl.linear;else{var k,W,j;k=Be(w)?T.parse("transition-timing-function",w).value:w,Be(k)?(W=k,j=[]):(W=k[1],j=k.slice(2).map(function(at){return+at})),j.length>0?("spring"===W&&j.push(g.duration),g.easingImpl=Rl[W].apply(null,j)):g.easingImpl=Rl[W]}var J,Q=g.easingImpl;if(J=0===g.duration?1:(s-E)/g.duration,g.applying&&(J=g.progress),J<0?J=0:J>1&&(J=1),null==g.delay){var oe=g.startPosition,he=g.position;if(he&&h&&!l.locked()){var pe={};Us(oe.x,he.x)&&(pe.x=ec(oe.x,he.x,J,Q)),Us(oe.y,he.y)&&(pe.y=ec(oe.y,he.y,J,Q)),l.position(pe)}var be=g.startPan,Ae=g.pan,Ne=p.pan,we=null!=Ae&&d;we&&(Us(be.x,Ae.x)&&(Ne.x=ec(be.x,Ae.x,J,Q)),Us(be.y,Ae.y)&&(Ne.y=ec(be.y,Ae.y,J,Q)),l.emit("pan"));var Ie=g.startZoom,Ce=g.zoom,ke=null!=Ce&&d;ke&&(Us(Ie,Ce)&&(p.zoom=Ps(p.minZoom,ec(Ie,Ce,J,Q),p.maxZoom)),l.emit("zoom")),(we||ke)&&l.emit("viewport");var Pe=g.style;if(Pe&&Pe.length>0&&h){for(var De=0;De<Pe.length;De++){var He=Pe[De],Re=He.name,ze=g.startStyle[Re],tt=ec(ze,He,J,Q,T.properties[ze.name]);T.overrideBypass(l,Re,tt)}l.emit("style")}}return g.progress=J,J}function Us(l,i){return!!(null!=l&&null!=i&&(Xe(l)&&Xe(i)||l&&i))}function op(l,i,s,d){var h=i._private;h.started=!0,h.startTime=s-h.progress*h.duration}function ed(l,i){var s=i._private.aniEles,d=[];function h(T,k){var z=T._private,W=z.animation.current,j=z.animation.queue,Q=!1;if(0===W.length){var J=j.shift();J&&W.push(J)}for(var oe=function(Ne){for(var we=Ne.length-1;we>=0;we--)(0,Ne[we])();Ne.splice(0,Ne.length)},he=W.length-1;he>=0;he--){var pe=W[he],be=pe._private;be.stopped?(W.splice(he,1),be.hooked=!1,be.playing=!1,be.started=!1,oe(be.frames)):!be.playing&&!be.applying||(be.playing&&be.applying&&(be.applying=!1),be.started||op(0,pe,l),ip(T,pe,l,k),be.applying&&(be.applying=!1),oe(be.frames),null!=be.step&&be.step(l),pe.completed()&&(W.splice(he,1),be.hooked=!1,be.playing=!1,be.started=!1,oe(be.completes)),Q=!0)}return!k&&0===W.length&&0===j.length&&d.push(T),Q}for(var p=!1,g=0;g<s.length;g++){var E=h(s[g]);p=p||E}var x=h(i,!0);(p||x)&&(s.length>0?i.notify("draw",s):i.notify("draw")),s.unmerge(d),i.emit("step")}var ef={animate:tr.animate(),animation:tr.animation(),animated:tr.animated(),clearQueue:tr.clearQueue(),delay:tr.delay(),delayAnimation:tr.delayAnimation(),stop:tr.stop(),addToAnimationPool:function(i){this.styleEnabled()&&this._private.aniEles.merge(i)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var i=this;if(i._private.animationsRunning=!0,i.styleEnabled()){var d=i.renderer();d&&d.beforeRender?d.beforeRender(function(p,g){ed(g,i)},d.beforeRenderPriorities.animations):function s(){i._private.animationsRunning&&Wl(function(p){ed(p,i),s()})}()}}},td={qualifierCompare:function(i,s){return null==i||null==s?null==i&&null==s:i.sameText(s)},eventMatches:function(i,s,d){var h=s.qualifier;return null==h||i!==d.target&&gn(d.target)&&h.matches(d.target)},addEventFields:function(i,s){s.cy=i,s.target=i},callbackContext:function(i,s,d){return null!=s.qualifier?d.target:i}},Ss=function(i){return Be(i)?new nu(i):i},tf={createEmitter:function(){var i=this._private;return i.emitter||(i.emitter=new Pi(td,this)),this},emitter:function(){return this._private.emitter},on:function(i,s,d){return this.emitter().on(i,Ss(s),d),this},removeListener:function(i,s,d){return this.emitter().removeListener(i,Ss(s),d),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(i,s,d){return this.emitter().one(i,Ss(s),d),this},once:function(i,s,d){return this.emitter().one(i,Ss(s),d),this},emit:function(i,s){return this.emitter().emit(i,s),this},emitAndNotify:function(i,s){return this.emit(i),this.notify(i,s),this}};tr.eventAliasesOn(tf);var tc={png:function(i){return this._private.renderer.png(i=i||{})},jpg:function(i){var s=this._private.renderer;return(i=i||{}).bg=i.bg||"#fff",s.jpg(i)}};tc.jpeg=tc.jpg;var Ll={layout:function(i){var s=this;if(null!=i)if(null!=i.name){var p,d=i.name,h=s.extension("layout",d);if(null!=h)return p=Be(i.eles)?s.$(i.eles):null!=i.eles?i.eles:s.$(),new h(Sn({},i,{cy:s,eles:p}));$r("No such layout `"+d+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else $r("A `name` must be specified to make a layout");else $r("Layout options must be specified to make a layout")}};Ll.createLayout=Ll.makeLayout=Ll.layout;var ap={notify:function(i,s){var d=this._private;if(this.batching()){d.batchNotifications=d.batchNotifications||{};var h=d.batchNotifications[i]=d.batchNotifications[i]||this.collection();null!=s&&h.merge(s)}else if(d.notificationsEnabled){var p=this.renderer();this.destroyed()||!p||p.notify(i,s)}},notifications:function(i){var s=this._private;return void 0===i?s.notificationsEnabled:(s.notificationsEnabled=!!i,this)},noNotifications:function(i){this.notifications(!1),i(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var i=this._private;return null==i.batchCount&&(i.batchCount=0),0===i.batchCount&&(i.batchStyleEles=this.collection(),i.batchNotifications={}),i.batchCount++,this},endBatch:function(){var i=this._private;if(0===i.batchCount)return this;if(i.batchCount--,0===i.batchCount){i.batchStyleEles.updateStyle();var s=this.renderer();Object.keys(i.batchNotifications).forEach(function(d){var h=i.batchNotifications[d];h.empty()?s.notify(d):s.notify(d,h)})}return this},batch:function(i){return this.startBatch(),i(),this.endBatch(),this},batchData:function(i){var s=this;return this.batch(function(){for(var d=Object.keys(i),h=0;h<d.length;h++){var p=d[h],g=i[p];s.getElementById(p).data(g)}})}},nc=qr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),nd={renderTo:function(i,s,d,h){return this._private.renderer.renderTo(i,s,d,h),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(i){var s=this,d=s.extension("renderer",i.name);if(null!=d){void 0!==i.wheelSensitivity&&br("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var h=nc(i);h.cy=s,s._private.renderer=new d(h),this.notify("init")}else $r("Can not initialise: No such renderer `".concat(i.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var i=this;i.notify("destroy");var s=i.container();if(s)for(s._cyreg=null;s.childNodes.length>0;)s.removeChild(s.childNodes[0]);i._private.renderer=null,i.mutableElements().forEach(function(d){var h=d._private;h.rscratch={},h.rstyle={},h.animation.current=[],h.animation.queue=[]})},onRender:function(i){return this.on("render",i)},offRender:function(i){return this.off("render",i)}};nd.invalidateDimensions=nd.resize;var rd={collection:function(i,s){return Be(i)?this.$(i):Ft(i)?i.collection():lt(i)?(s||(s={}),new no(this,i,s.unique,s.removed)):new no(this)},nodes:function(i){var s=this.$(function(d){return d.isNode()});return i?s.filter(i):s},edges:function(i){var s=this.$(function(d){return d.isEdge()});return i?s.filter(i):s},$:function(i){var s=this._private.elements;return i?s.filter(i):s.spawnSelf()},mutableElements:function(){return this._private.elements}};rd.elements=rd.filter=rd.$;var vo={apply:function(l){for(var i=this,h=i._private.cy.collection(),p=0;p<l.length;p++){var g=l[p],w=i.getContextMeta(g);if(!w.empty){var E=i.getContextStyle(w),x=i.applyContextStyle(w,E,g);g._private.appliedInitStyle?i.updateTransitions(g,x.diffProps):g._private.appliedInitStyle=!0,i.updateStyleHints(g)&&h.push(g)}}return h},getPropertiesDiff:function(l,i){var s=this,d=s._private.propDiffs=s._private.propDiffs||{},h=l+"-"+i,p=d[h];if(p)return p;for(var g=[],w={},E=0;E<s.length;E++){var x=s[E],k="t"===i[E],z="t"===l[E]!==k,W=x.mappedProperties.length>0;if(z||k&&W){var j=void 0;z&&W||z?j=x.properties:W&&(j=x.mappedProperties);for(var Q=0;Q<j.length;Q++){for(var J=j[Q],oe=J.name,he=!1,pe=E+1;pe<s.length&&("t"!==i[pe]||!(he=null!=s[pe].properties[J.name]));pe++);!w[oe]&&!he&&(w[oe]=!0,g.push(oe))}}}return d[h]=g,g},getContextMeta:function(l){for(var d,i=this,s="",h=l._private.styleCxtKey||"",p=0;p<i.length;p++){var g=i[p];s+=g.selector&&g.selector.matches(l)?"t":"f"}return d=i.getPropertiesDiff(h,s),l._private.styleCxtKey=s,{key:s,diffPropNames:d,empty:0===d.length}},getContextStyle:function(l){var i=l.key,d=this._private.contextStyles=this._private.contextStyles||{};if(d[i])return d[i];for(var h={_private:{key:i}},p=0;p<this.length;p++){var g=this[p];if("t"===i[p])for(var E=0;E<g.properties.length;E++){var x=g.properties[E];h[x.name]=x}}return d[i]=h,h},applyContextStyle:function(l,i,s){for(var h=l.diffPropNames,p={},g=this.types,w=0;w<h.length;w++){var E=h[w],x=i[E],T=s.pstyle(E);if(!x){if(!T)continue;x=T.bypass?{name:E,deleteBypassed:!0}:{name:E,delete:!0}}if(T!==x){if(x.mapped===g.fn&&null!=T&&null!=T.mapping&&T.mapping.value===x.value){var k=T.mapping;if((k.fnValue=x.value(s))===k.prevFnValue)continue}var W=p[E]={prev:T};this.applyParsedProperty(s,x),W.next=s.pstyle(E),W.next&&W.next.bypass&&(W.next=W.next.bypassed)}}return{diffProps:p}},updateStyleHints:function(l){var d,i=l._private,s=this,h=s.propertyGroupKeys,p=function($t,nn,Hn){return s.getPropertiesHash($t,nn,Hn)},g=i.styleKey;if(l.removed())return!1;var $t,w="nodes"===i.group,E=l._private.style;d=Object.keys(E);for(var x=0;x<h.length;x++)i.styleKeys[h[x]]=[ba,Rs];for(var k=function($t,nn){return i.styleKeys[nn][0]=ka($t,i.styleKeys[nn][0])},z=function($t,nn){return i.styleKeys[nn][1]=Ls($t,i.styleKeys[nn][1])},W=function($t,nn){k($t,nn),z($t,nn)},j=function($t,nn){for(var Hn=0;Hn<$t.length;Hn++){var Jn=$t.charCodeAt(Hn);k(Jn,nn),z(Jn,nn)}},oe=0;oe<d.length;oe++){var he=d[oe],pe=E[he];if(null!=pe){var be=this.properties[he],Ae=be.type,Ne=be.groupKey,we=void 0;null!=be.hashOverride?we=be.hashOverride(l,pe):null!=pe.pfValue&&(we=pe.pfValue);var Ie=null==be.enums?pe.value:null,Ce=null!=we,De=pe.units;!Ae.number||!Ce&&null==Ie||Ae.multiple?j(pe.strValue,Ne):(W(-128<($t=Ce?we:Ie)&&$t<128&&Math.floor($t)!==$t?2e9-(1024*$t|0):$t,Ne),!Ce&&null!=De&&j(De,Ne))}}for(var Re=[ba,Rs],Ze=0;Ze<h.length;Ze++){var je=i.styleKeys[h[Ze]];Re[0]=ka(je[0],Re[0]),Re[1]=Ls(je[1],Re[1])}i.styleKey=function(i,s){return 2097152*i+s}(Re[0],Re[1]);var tt=i.styleKeys;i.labelDimsKey=Ka(tt.labelDimensions);var at=p(l,["label"],tt.labelDimensions);if(i.labelKey=Ka(at),i.labelStyleKey=Ka(wa(tt.commonLabel,at)),!w){var vt=p(l,["source-label"],tt.labelDimensions);i.sourceLabelKey=Ka(vt),i.sourceLabelStyleKey=Ka(wa(tt.commonLabel,vt));var rt=p(l,["target-label"],tt.labelDimensions);i.targetLabelKey=Ka(rt),i.targetLabelStyleKey=Ka(wa(tt.commonLabel,rt))}if(w){var gt=i.styleKeys,Qe=gt.pie,Tt=[gt.nodeBody,gt.nodeBorder,gt.backgroundImage,gt.compound,Qe].filter(function(Nt){return null!=Nt}).reduce(wa,[ba,Rs]);i.nodeKey=Ka(Tt),i.hasPie=null!=Qe&&Qe[0]!==ba&&Qe[1]!==Rs}return g!==i.styleKey},clearStyleHints:function(l){var i=l._private;i.styleCxtKey="",i.styleKeys={},i.styleKey=null,i.labelKey=null,i.labelStyleKey=null,i.sourceLabelKey=null,i.sourceLabelStyleKey=null,i.targetLabelKey=null,i.targetLabelStyleKey=null,i.nodeKey=null,i.hasPie=null},applyParsedProperty:function(l,i){var p,s=this,d=i,h=l._private.style,g=s.types,w=s.properties[d.name].type,E=d.bypass,x=h[d.name],T=x&&x.bypass,k=l._private,z="mapping",W=function(It){return null==It?null:null!=It.pfValue?It.pfValue:It.value},j=function(){var It=W(x),At=W(d);s.checkTriggers(l,d.name,It,At)};if(d&&"pie"===d.name.substr(0,3)&&br("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===i.name&&l.isEdge()&&("bezier"!==i.value&&l.isLoop()||"haystack"===i.value&&(l.source().isParent()||l.target().isParent()))&&(d=i=this.parse(i.name,"bezier",E)),d.delete)return h[d.name]=void 0,j(),!0;if(d.deleteBypassed)return x?!!x.bypass&&(x.bypassed=void 0,j(),!0):(j(),!0);if(d.deleteBypass)return x?!!x.bypass&&(h[d.name]=x.bypassed,j(),!0):(j(),!0);var Q=function(){br("Do not assign mappings to elements without corresponding data (i.e. ele `"+l.id()+"` has no mapping for property `"+d.name+"` with data field `"+d.field+"`); try a `["+d.field+"]` selector to limit scope to elements with `"+d.field+"` defined")};switch(d.mapped){case g.mapData:for(var J=d.field.split("."),oe=k.data,he=0;he<J.length&&oe;he++)oe=oe[J[he]];if(null==oe)return Q(),!1;var be;if(!Xe(oe))return br("Do not use continuous mappers without specifying numeric data (i.e. `"+d.field+": "+oe+"` for `"+l.id()+"` is non-numeric)"),!1;var Ae=d.fieldMax-d.fieldMin;if((be=0===Ae?0:(oe-d.fieldMin)/Ae)<0?be=0:be>1&&(be=1),w.color){var Ne=d.valueMin[0],Ie=d.valueMin[1],Ce=d.valueMax[1],ke=d.valueMin[2],Pe=d.valueMax[2],De=null==d.valueMin[3]?1:d.valueMin[3],He=null==d.valueMax[3]?1:d.valueMax[3],Re=[Math.round(Ne+(d.valueMax[0]-Ne)*be),Math.round(Ie+(Ce-Ie)*be),Math.round(ke+(Pe-ke)*be),Math.round(De+(He-De)*be)];p={bypass:d.bypass,name:d.name,value:Re,strValue:"rgb("+Re[0]+", "+Re[1]+", "+Re[2]+")"}}else{if(!w.number)return!1;p=this.parse(d.name,d.valueMin+(d.valueMax-d.valueMin)*be,d.bypass,z)}if(!p)return Q(),!1;p.mapping=d,d=p;break;case g.data:for(var ze=d.field.split("."),je=k.data,tt=0;tt<ze.length&&je;tt++)je=je[ze[tt]];if(null!=je&&(p=this.parse(d.name,je,d.bypass,z)),!p)return Q(),!1;p.mapping=d,d=p;break;case g.fn:var rt=null!=d.fnValue?d.fnValue:(0,d.value)(l);if(d.prevFnValue=rt,null==rt)return br("Custom function mappers may not return null (i.e. `"+d.name+"` for ele `"+l.id()+"` is null)"),!1;if(!(p=this.parse(d.name,rt,d.bypass,z)))return br("Custom function mappers may not return invalid values for the property type (i.e. `"+d.name+"` for ele `"+l.id()+"` is invalid)"),!1;p.mapping=Si(d),d=p;break;case void 0:break;default:return!1}return E?(d.bypassed=T?x.bypassed:x,h[d.name]=d):T?x.bypassed=d:h[d.name]=d,j(),!0},cleanElements:function(l,i){for(var s=0;s<l.length;s++){var d=l[s];if(this.clearStyleHints(d),d.dirtyCompoundBoundsCache(),d.dirtyBoundingBoxCache(),i)for(var h=d._private.style,p=Object.keys(h),g=0;g<p.length;g++){var w=p[g],E=h[w];null!=E&&(E.bypass?E.bypassed=null:h[w]=null)}else d._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(l,i){var s=this,d=l._private,h=l.pstyle("transition-property").value,p=l.pstyle("transition-duration").pfValue,g=l.pstyle("transition-delay").pfValue;if(h.length>0&&p>0){for(var w={},E=!1,x=0;x<h.length;x++){var T=h[x],k=l.pstyle(T),z=i[T];if(z){var j=z.prev,Q=null!=z.next?z.next:k,J=!1,oe=void 0;j&&(Xe(j.pfValue)&&Xe(Q.pfValue)?oe=j.pfValue+1e-6*(J=Q.pfValue-j.pfValue):Xe(j.value)&&Xe(Q.value)?oe=j.value+1e-6*(J=Q.value-j.value):lt(j.value)&&lt(Q.value)&&(J=j.value[0]!==Q.value[0]||j.value[1]!==Q.value[1]||j.value[2]!==Q.value[2],oe=j.strValue),J&&(w[T]=Q.strValue,this.applyBypass(l,T,oe),E=!0))}}if(!E)return;d.transitioning=!0,new ts(function(pe){g>0?l.delayAnimation(g).play().promise().then(pe):pe()}).then(function(){return l.animation({style:w,duration:p,easing:l.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){s.removeBypasses(l,h),l.emitAndNotify("style"),d.transitioning=!1})}else d.transitioning&&(this.removeBypasses(l,h),l.emitAndNotify("style"),d.transitioning=!1)},checkTrigger:function(l,i,s,d,h,p){var g=this.properties[i],w=h(g);null!=w&&w(s,d)&&p(g)},checkZOrderTrigger:function(l,i,s,d){var h=this;this.checkTrigger(l,i,s,d,function(p){return p.triggersZOrder},function(){h._private.cy.notify("zorder",l)})},checkBoundsTrigger:function(l,i,s,d){this.checkTrigger(l,i,s,d,function(h){return h.triggersBounds},function(h){l.dirtyCompoundBoundsCache(),l.dirtyBoundingBoxCache(),h.triggersBoundsOfParallelBeziers&&("curve-style"===i&&("bezier"===s||"bezier"===d)||"display"===i&&("none"===s||"none"===d))&&l.parallelEdges().forEach(function(p){p.isBundledBezier()&&p.dirtyBoundingBoxCache()})})},checkTriggers:function(l,i,s,d){l.dirtyStyleCache(),this.checkZOrderTrigger(l,i,s,d),this.checkBoundsTrigger(l,i,s,d)}},mo={applyBypass:function(l,i,s,d){var p=[];if("*"===i||"**"===i){if(void 0!==s)for(var w=0;w<this.properties.length;w++){var T=this.parse(this.properties[w].name,s,!0);T&&p.push(T)}}else if(Be(i)){var k=this.parse(i,s,!0);k&&p.push(k)}else{if(!Ke(i))return!1;var z=i;d=s;for(var W=Object.keys(z),j=0;j<W.length;j++){var Q=W[j],J=z[Q];if(void 0===J&&(J=z[yn(Q)]),void 0!==J){var oe=this.parse(Q,J,!0);oe&&p.push(oe)}}}if(0===p.length)return!1;for(var he=!1,pe=0;pe<l.length;pe++){for(var be=l[pe],Ae={},Ne=void 0,we=0;we<p.length;we++){var Ie=p[we];if(d){var Ce=be.pstyle(Ie.name);Ne=Ae[Ie.name]={prev:Ce}}he=this.applyParsedProperty(be,Si(Ie))||he,d&&(Ne.next=be.pstyle(Ie.name))}he&&this.updateStyleHints(be),d&&this.updateTransitions(be,Ae,!0)}return he},overrideBypass:function(l,i,s){i=pr(i);for(var d=0;d<l.length;d++){var h=l[d],p=h._private.style[i],g=this.properties[i].type,w=g.color,E=g.mutiple,x=p?null!=p.pfValue?p.pfValue:p.value:null;p&&p.bypass?(p.value=s,null!=p.pfValue&&(p.pfValue=s),p.strValue=w?"rgb("+s.join(",")+")":E?s.join(" "):""+s,this.updateStyleHints(h)):this.applyBypass(h,i,s),this.checkTriggers(h,i,x,s)}},removeAllBypasses:function(l,i){return this.removeBypasses(l,this.propertyNames,i)},removeBypasses:function(l,i,s){for(var h=0;h<l.length;h++){for(var p=l[h],g={},w=0;w<i.length;w++){var E=i[w],x=this.properties[E],T=p.pstyle(x.name);if(T&&T.bypass){var z=this.parse(E,"",!0),W=g[x.name]={prev:T};this.applyParsedProperty(p,z),W.next=p.pstyle(x.name)}}this.updateStyleHints(p),s&&this.updateTransitions(p,g,!0)}}},Wa={getEmSizeInPixels:function(){var l=this.containerCss("font-size");return null!=l?parseFloat(l):1},containerCss:function(l){var s=this._private.cy.container();if(se&&s&&se.getComputedStyle)return se.getComputedStyle(s).getPropertyValue(l)}},Lr={getRenderedStyle:function(l,i){return i?this.getStylePropertyValue(l,i,!0):this.getRawStyle(l,!0)},getRawStyle:function(l,i){var s=this;if(l=l[0]){for(var d={},h=0;h<s.properties.length;h++){var p=s.properties[h],g=s.getStylePropertyValue(l,p.name,i);null!=g&&(d[p.name]=g,d[yn(p.name)]=g)}return d}},getIndexedStyle:function(l,i,s,d){return l.pstyle(i)[s][d]??l.cy().style().getDefaultProperty(i)[s][0]},getStylePropertyValue:function(l,i,s){if(l=l[0]){var h=this.properties[i];h.alias&&(h=h.pointsTo);var p=h.type,g=l.pstyle(h.name);if(g){var w=g.value,E=g.units,x=g.strValue;if(s&&p.number&&null!=w&&Xe(w)){var T=l.cy().zoom(),k=function(J){return J*T},z=function(J,oe){return k(J)+oe},W=lt(w);return(W?E.every(function(Q){return null!=Q}):null!=E)?W?w.map(function(Q,J){return z(Q,E[J])}).join(" "):z(w,E):W?w.map(function(Q){return Be(Q)?Q:""+k(Q)}).join(" "):""+k(w)}if(null!=x)return x}return null}},getAnimationStartStyle:function(l,i){for(var s={},d=0;d<i.length;d++){var p=i[d].name,g=l.pstyle(p);void 0!==g&&(g=Ke(g)?this.parse(p,g.strValue):this.parse(p,g)),g&&(s[p]=g)}return s},getPropsList:function(l){var s=[],d=l,h=this.properties;if(d)for(var p=Object.keys(d),g=0;g<p.length;g++){var w=p[g],E=d[w],x=h[w]||h[pr(w)],T=this.parse(x.name,E);T&&s.push(T)}return s},getNonDefaultPropertiesHash:function(l,i,s){var p,g,w,E,x,d=s.slice();for(E=0;E<i.length;E++)if(null!=(p=l.pstyle(i[E],!1)))if(null!=p.pfValue)d[0]=ka(w,d[0]),d[1]=Ls(w,d[1]);else for(g=p.strValue,x=0;x<g.length;x++)w=g.charCodeAt(x),d[0]=ka(w,d[0]),d[1]=Ls(w,d[1]);return d}};Lr.getPropertiesHash=Lr.getNonDefaultPropertiesHash;var id={appendFromJson:function(l){for(var i=this,s=0;s<l.length;s++){var d=l[s],h=d.selector,p=d.style||d.css,g=Object.keys(p);i.selector(h);for(var w=0;w<g.length;w++){var E=g[w];i.css(E,p[E])}}return i},fromJson:function(l){var i=this;return i.resetToDefault(),i.appendFromJson(l),i},json:function(){for(var l=[],i=this.defaultLength;i<this.length;i++){for(var s=this[i],d=s.selector,h=s.properties,p={},g=0;g<h.length;g++){var w=h[g];p[w.name]=w.strValue}l.push({selector:d?d.toString():"core",style:p})}return l}},nh={appendFromString:function(l){var h,p,g,s=this,d=""+l;function w(){d=d.length>h.length?d.substr(h.length):""}function E(){p=p.length>g.length?p.substr(g.length):""}for(d=d.replace(/[/][*](\s|.)+?[*][/]/g,"");!d.match(/^\s*$/);){var T=d.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!T){br("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+d);break}h=T[0];var k=T[1];if("core"!==k&&new nu(k).invalid)br("Skipping parsing of block: Invalid selector found in string stylesheet: "+k),w();else{var W=T[2],j=!1;p=W;for(var Q=[];!p.match(/^\s*$/);){var oe=p.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!oe){br("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+W),j=!0;break}g=oe[0];var he=oe[1],pe=oe[2];this.properties[he]?s.parse(he,pe)?(Q.push({name:he,val:pe}),E()):(br("Skipping property: Invalid property definition in: "+g),E()):(br("Skipping property: Invalid property name in: "+g),E())}if(j){w();break}s.selector(k);for(var Ne=0;Ne<Q.length;Ne++){var we=Q[Ne];s.css(we.name,we.val)}w()}}return s},fromString:function(l){var i=this;return i.resetToDefault(),i.appendFromString(l),i}},yo={};(function(){var l=cn,i=Yi,s=Ai,p=function(Tt){return"^"+Tt+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},g=function(Tt){var Nt=l+"|\\w+|"+i+"|"+s+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Tt+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+l+")\\s*\\,\\s*("+l+")\\s*,\\s*("+Nt+")\\s*\\,\\s*("+Nt+")\\)$"},w=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];yo.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:p("data")},layoutData:{mapping:!0,regex:p("layoutData")},scratch:{mapping:!0,regex:p("scratch")},mapData:{mapping:!0,regex:g("mapData")},mapLayoutData:{mapping:!0,regex:g("mapLayoutData")},mapScratch:{mapping:!0,regex:g("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:w,singleRegexMatchValue:!0},urls:{regexes:w,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Tt,Nt){switch(Tt.length){case 2:return"deg"!==Nt[0]&&"rad"!==Nt[0]&&"deg"!==Nt[1]&&"rad"!==Nt[1];case 1:return Be(Tt[0])||"deg"===Nt[0]||"rad"===Nt[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+l+")\\s*,\\s*("+l+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+l+")\\s*,\\s*("+l+")\\s*,\\s*("+l+")\\s*,\\s*("+l+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Tt){var Nt=Tt.length;return 1===Nt||2===Nt||4===Nt}}};var E={zeroNonZero:function(Tt,Nt){return(null==Tt||null==Nt)&&Tt!==Nt||0==Tt&&0!=Nt||0!=Tt&&0==Nt},any:function(Tt,Nt){return Tt!=Nt},emptyNonEmpty:function(Tt,Nt){var $t=Pt(Tt),nn=Pt(Nt);return $t&&!nn||!$t&&nn}},x=yo.types,T=[{name:"label",type:x.text,triggersBounds:E.any,triggersZOrder:E.emptyNonEmpty},{name:"text-rotation",type:x.textRotation,triggersBounds:E.any},{name:"text-margin-x",type:x.bidirectionalSize,triggersBounds:E.any},{name:"text-margin-y",type:x.bidirectionalSize,triggersBounds:E.any}],k=[{name:"source-label",type:x.text,triggersBounds:E.any},{name:"source-text-rotation",type:x.textRotation,triggersBounds:E.any},{name:"source-text-margin-x",type:x.bidirectionalSize,triggersBounds:E.any},{name:"source-text-margin-y",type:x.bidirectionalSize,triggersBounds:E.any},{name:"source-text-offset",type:x.size,triggersBounds:E.any}],z=[{name:"target-label",type:x.text,triggersBounds:E.any},{name:"target-text-rotation",type:x.textRotation,triggersBounds:E.any},{name:"target-text-margin-x",type:x.bidirectionalSize,triggersBounds:E.any},{name:"target-text-margin-y",type:x.bidirectionalSize,triggersBounds:E.any},{name:"target-text-offset",type:x.size,triggersBounds:E.any}],W=[{name:"font-family",type:x.fontFamily,triggersBounds:E.any},{name:"font-style",type:x.fontStyle,triggersBounds:E.any},{name:"font-weight",type:x.fontWeight,triggersBounds:E.any},{name:"font-size",type:x.size,triggersBounds:E.any},{name:"text-transform",type:x.textTransform,triggersBounds:E.any},{name:"text-wrap",type:x.textWrap,triggersBounds:E.any},{name:"text-overflow-wrap",type:x.textOverflowWrap,triggersBounds:E.any},{name:"text-max-width",type:x.size,triggersBounds:E.any},{name:"text-outline-width",type:x.size,triggersBounds:E.any},{name:"line-height",type:x.positiveNumber,triggersBounds:E.any}],j=[{name:"text-valign",type:x.valign,triggersBounds:E.any},{name:"text-halign",type:x.halign,triggersBounds:E.any},{name:"color",type:x.color},{name:"text-outline-color",type:x.color},{name:"text-outline-opacity",type:x.zeroOneNumber},{name:"text-background-color",type:x.color},{name:"text-background-opacity",type:x.zeroOneNumber},{name:"text-background-padding",type:x.size,triggersBounds:E.any},{name:"text-border-opacity",type:x.zeroOneNumber},{name:"text-border-color",type:x.color},{name:"text-border-width",type:x.size,triggersBounds:E.any},{name:"text-border-style",type:x.borderStyle,triggersBounds:E.any},{name:"text-background-shape",type:x.textBackgroundShape,triggersBounds:E.any},{name:"text-justification",type:x.justification}],Q=[{name:"events",type:x.bool},{name:"text-events",type:x.bool}],J=[{name:"display",type:x.display,triggersZOrder:E.any,triggersBounds:E.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:x.visibility,triggersZOrder:E.any},{name:"opacity",type:x.zeroOneNumber,triggersZOrder:E.zeroNonZero},{name:"text-opacity",type:x.zeroOneNumber},{name:"min-zoomed-font-size",type:x.size},{name:"z-compound-depth",type:x.zCompoundDepth,triggersZOrder:E.any},{name:"z-index-compare",type:x.zIndexCompare,triggersZOrder:E.any},{name:"z-index",type:x.nonNegativeInt,triggersZOrder:E.any}],oe=[{name:"overlay-padding",type:x.size,triggersBounds:E.any},{name:"overlay-color",type:x.color},{name:"overlay-opacity",type:x.zeroOneNumber,triggersBounds:E.zeroNonZero},{name:"overlay-shape",type:x.overlayShape,triggersBounds:E.any}],he=[{name:"underlay-padding",type:x.size,triggersBounds:E.any},{name:"underlay-color",type:x.color},{name:"underlay-opacity",type:x.zeroOneNumber,triggersBounds:E.zeroNonZero},{name:"underlay-shape",type:x.overlayShape,triggersBounds:E.any}],pe=[{name:"transition-property",type:x.propList},{name:"transition-duration",type:x.time},{name:"transition-delay",type:x.time},{name:"transition-timing-function",type:x.easing}],be=function(Tt,Nt){return"label"===Nt.value?-Tt.poolIndex():Nt.pfValue},Ae=[{name:"height",type:x.nodeSize,triggersBounds:E.any,hashOverride:be},{name:"width",type:x.nodeSize,triggersBounds:E.any,hashOverride:be},{name:"shape",type:x.nodeShape,triggersBounds:E.any},{name:"shape-polygon-points",type:x.polygonPointList,triggersBounds:E.any},{name:"background-color",type:x.color},{name:"background-fill",type:x.fill},{name:"background-opacity",type:x.zeroOneNumber},{name:"background-blacken",type:x.nOneOneNumber},{name:"background-gradient-stop-colors",type:x.colors},{name:"background-gradient-stop-positions",type:x.percentages},{name:"background-gradient-direction",type:x.gradientDirection},{name:"padding",type:x.sizeMaybePercent,triggersBounds:E.any},{name:"padding-relative-to",type:x.paddingRelativeTo,triggersBounds:E.any},{name:"bounds-expansion",type:x.boundsExpansion,triggersBounds:E.any}],Ne=[{name:"border-color",type:x.color},{name:"border-opacity",type:x.zeroOneNumber},{name:"border-width",type:x.size,triggersBounds:E.any},{name:"border-style",type:x.borderStyle}],we=[{name:"background-image",type:x.urls},{name:"background-image-crossorigin",type:x.bgCrossOrigin},{name:"background-image-opacity",type:x.zeroOneNumbers},{name:"background-image-containment",type:x.bgContainment},{name:"background-image-smoothing",type:x.bools},{name:"background-position-x",type:x.bgPos},{name:"background-position-y",type:x.bgPos},{name:"background-width-relative-to",type:x.bgRelativeTo},{name:"background-height-relative-to",type:x.bgRelativeTo},{name:"background-repeat",type:x.bgRepeat},{name:"background-fit",type:x.bgFit},{name:"background-clip",type:x.bgClip},{name:"background-width",type:x.bgWH},{name:"background-height",type:x.bgWH},{name:"background-offset-x",type:x.bgPos},{name:"background-offset-y",type:x.bgPos}],Ie=[{name:"position",type:x.position,triggersBounds:E.any},{name:"compound-sizing-wrt-labels",type:x.compoundIncludeLabels,triggersBounds:E.any},{name:"min-width",type:x.size,triggersBounds:E.any},{name:"min-width-bias-left",type:x.sizeMaybePercent,triggersBounds:E.any},{name:"min-width-bias-right",type:x.sizeMaybePercent,triggersBounds:E.any},{name:"min-height",type:x.size,triggersBounds:E.any},{name:"min-height-bias-top",type:x.sizeMaybePercent,triggersBounds:E.any},{name:"min-height-bias-bottom",type:x.sizeMaybePercent,triggersBounds:E.any}],Ce=[{name:"line-style",type:x.lineStyle},{name:"line-color",type:x.color},{name:"line-fill",type:x.fill},{name:"line-cap",type:x.lineCap},{name:"line-opacity",type:x.zeroOneNumber},{name:"line-dash-pattern",type:x.numbers},{name:"line-dash-offset",type:x.number},{name:"line-gradient-stop-colors",type:x.colors},{name:"line-gradient-stop-positions",type:x.percentages},{name:"curve-style",type:x.curveStyle,triggersBounds:E.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:x.zeroOneNumber,triggersBounds:E.any},{name:"source-endpoint",type:x.edgeEndpoint,triggersBounds:E.any},{name:"target-endpoint",type:x.edgeEndpoint,triggersBounds:E.any},{name:"control-point-step-size",type:x.size,triggersBounds:E.any},{name:"control-point-distances",type:x.bidirectionalSizes,triggersBounds:E.any},{name:"control-point-weights",type:x.numbers,triggersBounds:E.any},{name:"segment-distances",type:x.bidirectionalSizes,triggersBounds:E.any},{name:"segment-weights",type:x.numbers,triggersBounds:E.any},{name:"taxi-turn",type:x.bidirectionalSizeMaybePercent,triggersBounds:E.any},{name:"taxi-turn-min-distance",type:x.size,triggersBounds:E.any},{name:"taxi-direction",type:x.axisDirection,triggersBounds:E.any},{name:"edge-distances",type:x.edgeDistances,triggersBounds:E.any},{name:"arrow-scale",type:x.positiveNumber,triggersBounds:E.any},{name:"loop-direction",type:x.angle,triggersBounds:E.any},{name:"loop-sweep",type:x.angle,triggersBounds:E.any},{name:"source-distance-from-node",type:x.size,triggersBounds:E.any},{name:"target-distance-from-node",type:x.size,triggersBounds:E.any}],ke=[{name:"ghost",type:x.bool,triggersBounds:E.any},{name:"ghost-offset-x",type:x.bidirectionalSize,triggersBounds:E.any},{name:"ghost-offset-y",type:x.bidirectionalSize,triggersBounds:E.any},{name:"ghost-opacity",type:x.zeroOneNumber}],Pe=[{name:"selection-box-color",type:x.color},{name:"selection-box-opacity",type:x.zeroOneNumber},{name:"selection-box-border-color",type:x.color},{name:"selection-box-border-width",type:x.size},{name:"active-bg-color",type:x.color},{name:"active-bg-opacity",type:x.zeroOneNumber},{name:"active-bg-size",type:x.size},{name:"outside-texture-bg-color",type:x.color},{name:"outside-texture-bg-opacity",type:x.zeroOneNumber}],De=[];yo.pieBackgroundN=16,De.push({name:"pie-size",type:x.sizeMaybePercent});for(var He=1;He<=yo.pieBackgroundN;He++)De.push({name:"pie-"+He+"-background-color",type:x.color}),De.push({name:"pie-"+He+"-background-size",type:x.percent}),De.push({name:"pie-"+He+"-background-opacity",type:x.zeroOneNumber});var Re=[],Ze=yo.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:x.arrowShape,triggersBounds:E.any},{name:"arrow-color",type:x.color},{name:"arrow-fill",type:x.arrowFill}].forEach(function(Qe){Ze.forEach(function(Tt){Re.push({name:Tt+"-"+Qe.name,type:Qe.type,triggersBounds:Qe.triggersBounds})})},{});var ze=yo.properties=[].concat(Q,pe,J,oe,he,ke,j,W,T,k,z,Ae,Ne,we,De,Ie,Ce,Re,Pe),je=yo.propertyGroups={behavior:Q,transition:pe,visibility:J,overlay:oe,underlay:he,ghost:ke,commonLabel:j,labelDimensions:W,mainLabel:T,sourceLabel:k,targetLabel:z,nodeBody:Ae,nodeBorder:Ne,backgroundImage:we,pie:De,compound:Ie,edgeLine:Ce,edgeArrow:Re,core:Pe},tt=yo.propertyGroupNames={};(yo.propertyGroupKeys=Object.keys(je)).forEach(function(Qe){tt[Qe]=je[Qe].map(function(Tt){return Tt.name}),je[Qe].forEach(function(Tt){return Tt.groupKey=Qe})});var vt=yo.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];yo.propertyNames=ze.map(function(Qe){return Qe.name});for(var rt=0;rt<ze.length;rt++){var gt=ze[rt];ze[gt.name]=gt}for(var It=0;It<vt.length;It++){var At=vt[It],wt={name:At.name,alias:!0,pointsTo:ze[At.pointsTo]};ze.push(wt),ze[At.name]=wt}})(),yo.getDefaultProperty=function(l){return this.getDefaultProperties()[l]},yo.getDefaultProperties=function(){var l=this._private;if(null!=l.defaultProperties)return l.defaultProperties;for(var i=Sn({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(E,x){for(var T=1;T<=yo.pieBackgroundN;T++)E[x.name.replace("{{i}}",T)]=x.value;return E},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(E,x){return yo.arrowPrefixes.forEach(function(T){E[T+"-"+x.name]=x.value}),E},{})),s={},d=0;d<this.properties.length;d++){var h=this.properties[d];if(!h.pointsTo){var p=h.name,w=this.parse(p,i[p]);s[p]=w}}return l.defaultProperties=s,l.defaultProperties},yo.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var od={parse:function(l,i,s,d){var h=this;if(nt(i))return h.parseImplWarn(l,i,s,d);var T,E=Sc(l,""+i,s?"t":"f","mapping"===d||!0===d||!1===d||null==d?"dontcare":d),x=h.propCache=h.propCache||[];return(T=x[E])||(T=x[E]=h.parseImplWarn(l,i,s,d)),(s||"mapping"===d)&&(T=Si(T))&&(T.value=Si(T.value)),T},parseImplWarn:function(l,i,s,d){var h=this.parseImpl(l,i,s,d);return!h&&null!=i&&br("The style property `".concat(l,": ").concat(i,"` is invalid")),h&&("width"===h.name||"height"===h.name)&&"label"===i&&br("The style value of `label` is deprecated for `"+h.name+"`"),h}};od.parseImpl=function(l,i,s,d){var h=this;l=pr(l);var p=h.properties[l],g=i,w=h.types;if(!p||void 0===i)return null;p.alias&&(l=(p=p.pointsTo).name);var E=Be(i);E&&(i=i.trim());var T,k,x=p.type;if(!x)return null;if(s&&(""===i||null===i))return{name:l,value:i,bypass:!0,deleteBypass:!0};if(nt(i))return{name:l,value:i,strValue:"fn",mapped:w.fn,bypass:s};if(!(!E||d||i.length<7||"a"!==i[1])){if(i.length>=7&&"d"===i[0]&&(T=new RegExp(w.data.regex).exec(i)))return!s&&{name:l,value:T,strValue:""+i,mapped:w.data,field:T[1],bypass:s};if(i.length>=10&&"m"===i[0]&&(k=new RegExp(w.mapData.regex).exec(i))){if(s||x.multiple)return!1;var W=w.mapData;if(!x.color&&!x.number)return!1;var j=this.parse(l,k[4]);if(!j||j.mapped)return!1;var Q=this.parse(l,k[5]);if(!Q||Q.mapped)return!1;if(j.pfValue===Q.pfValue||j.strValue===Q.strValue)return br("`"+l+": "+i+"` is not a valid mapper because the output range is zero; converting to `"+l+": "+j.strValue+"`"),this.parse(l,j.strValue);if(x.color){var J=j.value,oe=Q.value;if(!(J[0]!==oe[0]||J[1]!==oe[1]||J[2]!==oe[2]||J[3]!==oe[3]&&(null!=J[3]&&1!==J[3]||null!=oe[3]&&1!==oe[3])))return!1}return{name:l,value:k,strValue:""+i,mapped:W,field:k[1],fieldMin:parseFloat(k[2]),fieldMax:parseFloat(k[3]),valueMin:j.value,valueMax:Q.value,bypass:s}}}if(x.multiple&&"multiple"!==d){var pe;if(pe=E?i.split(/\s+/):lt(i)?i:[i],x.evenMultiple&&pe.length%2!=0)return null;for(var be=[],Ae=[],Ne=[],we="",Ie=!1,Ce=0;Ce<pe.length;Ce++){var ke=h.parse(l,pe[Ce],s,"multiple");Ie=Ie||Be(ke.value),be.push(ke.value),Ne.push(null!=ke.pfValue?ke.pfValue:ke.value),Ae.push(ke.units),we+=(Ce>0?" ":"")+ke.strValue}return x.validate&&!x.validate(be,Ae)?null:x.singleEnum&&Ie?1===be.length&&Be(be[0])?{name:l,value:be[0],strValue:be[0],bypass:s}:null:{name:l,value:be,pfValue:Ne,strValue:we,bypass:s,units:Ae}}var Pe=function(){for(var Nt=0;Nt<x.enums.length;Nt++)if(x.enums[Nt]===i)return{name:l,value:i,strValue:""+i,bypass:s};return null};if(x.number){var De,He="px";if(x.units&&(De=x.units),x.implicitUnits&&(He=x.implicitUnits),!x.unitless)if(E){var Re="px|em"+(x.allowPercent?"|\\%":"");De&&(Re=De);var Ze=i.match("^("+cn+")("+Re+")?$");Ze&&(i=Ze[1],De=Ze[2]||He)}else(!De||x.implicitUnits)&&(De=He);if(i=parseFloat(i),isNaN(i)&&void 0===x.enums)return null;if(isNaN(i)&&void 0!==x.enums)return i=g,Pe();if(x.integer&&!function(i){return Xe(i)&&Math.floor(i)===i}(i)||void 0!==x.min&&(i<x.min||x.strictMin&&i===x.min)||void 0!==x.max&&(i>x.max||x.strictMax&&i===x.max))return null;var ze={name:l,value:i,strValue:""+i+(De||""),units:De,bypass:s};return ze.pfValue=x.unitless||"px"!==De&&"em"!==De?i:"px"!==De&&De?this.getEmSizeInPixels()*i:i,("ms"===De||"s"===De)&&(ze.pfValue="ms"===De?i:1e3*i),("deg"===De||"rad"===De)&&(ze.pfValue="rad"===De?i:function(i){return Math.PI*i/180}(i)),"%"===De&&(ze.pfValue=i/100),ze}if(x.propList){var je=[],tt=""+i;if("none"!==tt){for(var at=tt.split(/\s*,\s*|\s+/),vt=0;vt<at.length;vt++){var rt=at[vt].trim();h.properties[rt]?je.push(rt):br("`"+rt+"` is not a valid property name")}if(0===je.length)return null}return{name:l,value:je,strValue:0===je.length?"none":je.join(" "),bypass:s}}if(x.color){var gt=function(i){return(lt(i)?i:null)||function(i){return gs[i.toLowerCase()]}(i)||function(i){if((4===i.length||7===i.length)&&"#"===i[0]){var d,h,p,g=16;return 4===i.length?(d=parseInt(i[1]+i[1],g),h=parseInt(i[2]+i[2],g),p=parseInt(i[3]+i[3],g)):(d=parseInt(i[1]+i[2],g),h=parseInt(i[3]+i[4],g),p=parseInt(i[5]+i[6],g)),[d,h,p]}}(i)||function(i){var s,d=new RegExp("^"+Di+"$").exec(i);if(d){s=[];for(var h=[],p=1;p<=3;p++){var g=d[p];if("%"===g[g.length-1]&&(h[p]=!0),g=parseFloat(g),h[p]&&(g=g/100*255),g<0||g>255)return;s.push(Math.floor(g))}if((h[1]||h[2]||h[3])&&!(h[1]&&h[2]&&h[3]))return;var x=d[4];if(void 0!==x){if((x=parseFloat(x))<0||x>1)return;s.push(x)}}return s}(i)||function(i){var s,d,h,p,g,w,E,x;function T(j,Q,J){return J<0&&(J+=1),J>1&&(J-=1),J<1/6?j+6*(Q-j)*J:J<.5?Q:J<2/3?j+(Q-j)*(2/3-J)*6:j}var k=new RegExp("^"+Ii+"$").exec(i);if(k){if((d=parseInt(k[1]))<0?d=(360- -1*d%360)%360:d>360&&(d%=360),d/=360,(h=parseFloat(k[2]))<0||h>100||(h/=100,(p=parseFloat(k[3]))<0||p>100)||(p/=100,void 0!==(g=k[4])&&((g=parseFloat(g))<0||g>1)))return;if(0===h)w=E=x=Math.round(255*p);else{var z=p<.5?p*(1+h):p+h-p*h,W=2*p-z;w=Math.round(255*T(W,z,d+1/3)),E=Math.round(255*T(W,z,d)),x=Math.round(255*T(W,z,d-1/3))}s=[w,E,x,g]}return s}(i)}(i);return gt?{name:l,value:gt,pfValue:gt,strValue:"rgb("+gt[0]+","+gt[1]+","+gt[2]+")",bypass:s}:null}if(x.regex||x.regexes){if(x.enums){var It=Pe();if(It)return It}for(var At=x.regexes?x.regexes:[x.regex],St=0;St<At.length;St++){var Qe=new RegExp(At[St]).exec(i);if(Qe)return{name:l,value:x.singleRegexMatchValue?Qe[1]:Qe,strValue:""+i,bypass:s}}return null}return x.string?{name:l,value:""+i,strValue:""+i,bypass:s}:x.enums?Pe():null};var Go=function l(i){if(!(this instanceof l))return new l(i);it(i)?(this._private={cy:i,coreStyle:{}},this.length=0,this.resetToDefault()):$r("A style must have a core reference")},ko=Go.prototype;ko.instanceString=function(){return"style"},ko.clear=function(){for(var l=this._private,s=l.cy.elements(),d=0;d<this.length;d++)this[d]=void 0;return this.length=0,l.contextStyles={},l.propDiffs={},this.cleanElements(s,!0),s.forEach(function(h){var p=h[0]._private;p.styleDirty=!0,p.appliedInitStyle=!1}),this},ko.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},ko.core=function(l){return this._private.coreStyle[l]||this.getDefaultProperty(l)},ko.selector=function(l){var i="core"===l?null:new nu(l),s=this.length++;return this[s]={selector:i,properties:[],mappedProperties:[],index:s},this},ko.css=function(){var i=arguments;if(1===i.length)for(var s=i[0],d=0;d<this.properties.length;d++){var h=this.properties[d],p=s[h.name];void 0===p&&(p=s[yn(h.name)]),void 0!==p&&this.cssRule(h.name,p)}else 2===i.length&&this.cssRule(i[0],i[1]);return this},ko.style=ko.css,ko.cssRule=function(l,i){var s=this.parse(l,i);if(s){var d=this.length-1;this[d].properties.push(s),this[d].properties[s.name]=s,s.name.match(/pie-(\d+)-background-size/)&&s.value&&(this._private.hasPie=!0),s.mapped&&this[d].mappedProperties.push(s),!this[d].selector&&(this._private.coreStyle[s.name]=s)}return this},ko.append=function(l){return Je(l)?l.appendToStyle(this):lt(l)?this.appendFromJson(l):Be(l)&&this.appendFromString(l),this},Go.fromJson=function(l,i){var s=new Go(l);return s.fromJson(i),s},Go.fromString=function(l,i){return new Go(l).fromString(i)},[vo,mo,Wa,Lr,id,nh,yo,od].forEach(function(l){Sn(ko,l)}),Go.types=ko.types,Go.properties=ko.properties,Go.propertyGroups=ko.propertyGroups,Go.propertyGroupNames=ko.propertyGroupNames,Go.propertyGroupKeys=ko.propertyGroupKeys;var ad={style:function(i){return i&&this.setStyle(i).update(),this._private.style},setStyle:function(i){var s=this._private;return s.style=Je(i)?i.generateStyle(this):lt(i)?Go.fromJson(this,i):Be(i)?Go.fromString(this,i):Go(this),s.style},updateStyle:function(){this.mutableElements().updateStyle()}},al={autolock:function(i){return void 0===i?this._private.autolock:(this._private.autolock=!!i,this)},autoungrabify:function(i){return void 0===i?this._private.autoungrabify:(this._private.autoungrabify=!!i,this)},autounselectify:function(i){return void 0===i?this._private.autounselectify:(this._private.autounselectify=!!i,this)},selectionType:function(i){var s=this._private;return null==s.selectionType&&(s.selectionType="single"),void 0===i?s.selectionType:(("additive"===i||"single"===i)&&(s.selectionType=i),this)},panningEnabled:function(i){return void 0===i?this._private.panningEnabled:(this._private.panningEnabled=!!i,this)},userPanningEnabled:function(i){return void 0===i?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!i,this)},zoomingEnabled:function(i){return void 0===i?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!i,this)},userZoomingEnabled:function(i){return void 0===i?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!i,this)},boxSelectionEnabled:function(i){return void 0===i?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!i,this)},pan:function(){var d,h,p,g,w,i=arguments,s=this._private.pan;switch(i.length){case 0:return s;case 1:if(Be(i[0]))return s[d=i[0]];if(Ke(i[0])){if(!this._private.panningEnabled)return this;w=(p=i[0]).y,Xe(g=p.x)&&(s.x=g),Xe(w)&&(s.y=w),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;h=i[1],("x"===(d=i[0])||"y"===d)&&Xe(h)&&(s[d]=h),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(i,s){var p,g,w,E,x,d=arguments,h=this._private.pan;if(!this._private.panningEnabled)return this;switch(d.length){case 1:Ke(i)&&(x=(w=d[0]).y,Xe(E=w.x)&&(h.x+=E),Xe(x)&&(h.y+=x),this.emit("pan viewport"));break;case 2:g=s,("x"===(p=i)||"y"===p)&&Xe(g)&&(h[p]+=g),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(i,s){var d=this.getFitViewport(i,s);if(d){var h=this._private;h.zoom=d.zoom,h.pan=d.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(i,s){var d;if((Xe(i)&&void 0===s&&(s=i,i=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(Be(i)?i=this.$(i):!function(i){return Ke(i)&&Xe(i.x1)&&Xe(i.x2)&&Xe(i.y1)&&Xe(i.y2)}(i)?Ft(i)||(i=this.mutableElements()):((d={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}).w=d.x2-d.x1,d.h=d.y2-d.y1),!Ft(i)||!i.empty())){d=d||i.boundingBox();var E,g=this.width(),w=this.height();if(s=Xe(s)?s:0,!isNaN(g)&&!isNaN(w)&&g>0&&w>0&&!isNaN(d.w)&&!isNaN(d.h)&&d.w>0&&d.h>0)return{zoom:E=(E=(E=Math.min((g-2*s)/d.w,(w-2*s)/d.h))>this._private.maxZoom?this._private.maxZoom:E)<this._private.minZoom?this._private.minZoom:E,pan:{x:(g-E*(d.x1+d.x2))/2,y:(w-E*(d.y1+d.y2))/2}}}},zoomRange:function(i,s){var d=this._private;if(null==s){var h=i;i=h.min,s=h.max}return Xe(i)&&Xe(s)&&i<=s?(d.minZoom=i,d.maxZoom=s):Xe(i)&&void 0===s&&i<=d.maxZoom?d.minZoom=i:Xe(s)&&void 0===i&&s>=d.minZoom&&(d.maxZoom=s),this},minZoom:function(i){return void 0===i?this._private.minZoom:this.zoomRange({min:i})},maxZoom:function(i){return void 0===i?this._private.maxZoom:this.zoomRange({max:i})},getZoomedViewport:function(i){var p,g,s=this._private,d=s.pan,h=s.zoom,w=!1;return s.zoomingEnabled||(w=!0),Xe(i)?g=i:Ke(i)&&(g=i.level,null!=i.position?p=Ar(i.position,h,d):null!=i.renderedPosition&&(p=i.renderedPosition),null!=p&&!s.panningEnabled&&(w=!0)),g=(g=g>s.maxZoom?s.maxZoom:g)<s.minZoom?s.minZoom:g,!w&&Xe(g)&&g!==h&&(null==p||Xe(p.x)&&Xe(p.y))?null!=p?{zoomed:!0,panned:!0,zoom:g,pan:{x:-g/h*(p.x-d.x)+p.x,y:-g/h*(p.y-d.y)+p.y}}:{zoomed:!0,panned:!1,zoom:g,pan:d}:null},zoom:function(i){if(void 0===i)return this._private.zoom;var s=this.getZoomedViewport(i),d=this._private;return null!=s&&s.zoomed?(d.zoom=s.zoom,s.panned&&(d.pan.x=s.pan.x,d.pan.y=s.pan.y),this.emit("zoom"+(s.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(i){var s=this._private,d=!0,h=!0,p=[],g=!1,w=!1;if(!i)return this;if(Xe(i.zoom)||(d=!1),Ke(i.pan)||(h=!1),!d&&!h)return this;if(d){var E=i.zoom;E<s.minZoom||E>s.maxZoom||!s.zoomingEnabled?g=!0:(s.zoom=E,p.push("zoom"))}if(h&&(!g||!i.cancelOnFailedZoom)&&s.panningEnabled){var x=i.pan;Xe(x.x)&&(s.pan.x=x.x,w=!1),Xe(x.y)&&(s.pan.y=x.y,w=!1),w||p.push("pan")}return p.length>0&&(p.push("viewport"),this.emit(p.join(" ")),this.notify("viewport")),this},center:function(i){var s=this.getCenterPan(i);return s&&(this._private.pan=s,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(i,s){if(this._private.panningEnabled){if(Be(i)){var d=i;i=this.mutableElements().filter(d)}else Ft(i)||(i=this.mutableElements());if(0!==i.length){var h=i.boundingBox(),p=this.width(),g=this.height();return{x:(p-(s=void 0===s?this._private.zoom:s)*(h.x1+h.x2))/2,y:(g-s*(h.y1+h.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var d,h,i=this._private,s=i.container;return i.sizeCache=i.sizeCache||(s?(d=se.getComputedStyle(s),{width:s.clientWidth-(h=function(g){return parseFloat(d.getPropertyValue(g))})("padding-left")-h("padding-right"),height:s.clientHeight-h("padding-top")-h("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var i=this._private.pan,s=this._private.zoom,d=this.renderedExtent(),h={x1:(d.x1-i.x)/s,x2:(d.x2-i.x)/s,y1:(d.y1-i.y)/s,y2:(d.y2-i.y)/s};return h.w=h.x2-h.x1,h.h=h.y2-h.y1,h},renderedExtent:function(){var i=this.width(),s=this.height();return{x1:0,y1:0,x2:i,y2:s,w:i,h:s}},multiClickDebounceTime:function(i){return i?(this._private.multiClickDebounceTime=i,this):this._private.multiClickDebounceTime}};al.centre=al.center,al.autolockNodes=al.autolock,al.autoungrabifyNodes=al.autoungrabify;var as={data:tr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:tr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:tr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:tr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};as.attr=as.data,as.removeAttr=as.removeData;var ss=function(i){var s=this,d=(i=Sn({},i)).container;d&&!Vt(d)&&Vt(d[0])&&(d=d[0]);var h=d?d._cyreg:null;(h=h||{})&&h.cy&&(h.cy.destroy(),h={});var p=h.readies=h.readies||[];d&&(d._cyreg=h),h.cy=s;var g=void 0!==se&&void 0!==d&&!i.headless,w=i;w.layout=Sn({name:g?"grid":"null"},w.layout),w.renderer=Sn({name:g?"canvas":"null"},w.renderer);var E=function(j,Q,J){return void 0!==Q?Q:void 0!==J?J:j},x=this._private={container:d,ready:!1,options:w,elements:new no(this),listeners:[],aniEles:new no(this),data:w.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:E(!0,w.zoomingEnabled),userZoomingEnabled:E(!0,w.userZoomingEnabled),panningEnabled:E(!0,w.panningEnabled),userPanningEnabled:E(!0,w.userPanningEnabled),boxSelectionEnabled:E(!0,w.boxSelectionEnabled),autolock:E(!1,w.autolock,w.autolockNodes),autoungrabify:E(!1,w.autoungrabify,w.autoungrabifyNodes),autounselectify:E(!1,w.autounselectify),styleEnabled:void 0===w.styleEnabled?g:w.styleEnabled,zoom:Xe(w.zoom)?w.zoom:1,pan:{x:Ke(w.pan)&&Xe(w.pan.x)?w.pan.x:0,y:Ke(w.pan)&&Xe(w.pan.y)?w.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:E(250,w.multiClickDebounceTime)};this.createEmitter(),this.selectionType(w.selectionType),this.zoomRange({min:w.minZoom,max:w.maxZoom}),x.styleEnabled&&s.setStyle([]);var k=Sn({},w,w.renderer);s.initRenderer(k),function(j,Q){if(j.some(jn))return ts.all(j).then(Q);Q(j)}([w.style,w.elements],function(W){var j=W[0],Q=W[1];x.styleEnabled&&s.style().append(j),function(j,Q,J){s.notifications(!1);var oe=s.mutableElements();oe.length>0&&oe.remove(),null!=j&&(Ke(j)||lt(j))&&s.add(j),s.one("layoutready",function(pe){s.notifications(!0),s.emit(pe),s.one("load",Q),s.emitAndNotify("load")}).one("layoutstop",function(){s.one("done",J),s.emit("done")});var he=Sn({},s._private.options.layout);he.eles=s.elements(),s.layout(he).run()}(Q,function(){s.startAnimationLoop(),x.ready=!0,nt(w.ready)&&s.on("ready",w.ready);for(var J=0;J<p.length;J++)s.on("ready",p[J]);h&&(h.readies=[]),s.emit("ready")},w.done)})},au=ss.prototype;Sn(au,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(i){return this.isReady()?this.emitter().emit("ready",[],i):this.on("ready",i),this},destroy:function(){var i=this;if(!i.destroyed())return i.stopAnimationLoop(),i.destroyRenderer(),this.emit("destroy"),i._private.destroyed=!0,i},hasElementWithId:function(i){return this._private.elements.hasElementWithId(i)},getElementById:function(i){return this._private.elements.getElementById(i)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(i){return this._private.elements.merge(i),this},removeFromPool:function(i){return this._private.elements.unmerge(i),this},container:function(){return this._private.container||null},mount:function(i){if(null!=i){var s=this,d=s._private,h=d.options;return!Vt(i)&&Vt(i[0])&&(i=i[0]),s.stopAnimationLoop(),s.destroyRenderer(),d.container=i,d.styleEnabled=!0,s.invalidateSize(),s.initRenderer(Sn({},h,h.renderer,{name:"null"===h.renderer.name?"canvas":h.renderer.name})),s.startAnimationLoop(),s.style(h.style),s.emit("mount"),s}},unmount:function(){var i=this;return i.stopAnimationLoop(),i.destroyRenderer(),i.initRenderer({name:"null"}),i.emit("unmount"),i},options:function(){return Si(this._private.options)},json:function(i){var s=this,d=s._private,h=s.mutableElements();if(Ke(i)){if(s.startBatch(),i.elements){var g={},w=function(be,Ae){for(var Ne=[],we=[],Ie=0;Ie<be.length;Ie++){var Ce=be[Ie];if(Ce.data.id){var ke=""+Ce.data.id,Pe=s.getElementById(ke);g[ke]=!0,0!==Pe.length?we.push({ele:Pe,json:Ce}):(Ae&&(Ce.group=Ae),Ne.push(Ce))}else br("cy.json() cannot handle elements without an ID attribute")}s.add(Ne);for(var De=0;De<we.length;De++){var He=we[De];He.ele.json(He.json)}};if(lt(i.elements))w(i.elements);else for(var E=["nodes","edges"],x=0;x<E.length;x++){var T=E[x],k=i.elements[T];lt(k)&&w(k,T)}var z=s.collection();h.filter(function(pe){return!g[pe.id()]}).forEach(function(pe){pe.isParent()?z.merge(pe):pe.remove()}),z.forEach(function(pe){return pe.children().move({parent:null})}),z.forEach(function(pe){return(be=pe,s.getElementById(be.id())).remove();var be})}i.style&&s.style(i.style),null!=i.zoom&&i.zoom!==d.zoom&&s.zoom(i.zoom),i.pan&&(i.pan.x!==d.pan.x||i.pan.y!==d.pan.y)&&s.pan(i.pan),i.data&&s.data(i.data);for(var W=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],j=0;j<W.length;j++){var Q=W[j];null!=i[Q]&&s[Q](i[Q])}return s.endBatch(),this}var oe={};i?oe.elements=this.elements().map(function(pe){return pe.json()}):(oe.elements={},h.forEach(function(pe){var be=pe.group();oe.elements[be]||(oe.elements[be]=[]),oe.elements[be].push(pe.json())})),this._private.styleEnabled&&(oe.style=s.style().json()),oe.data=Si(s.data());var he=d.options;return oe.zoomingEnabled=d.zoomingEnabled,oe.userZoomingEnabled=d.userZoomingEnabled,oe.zoom=d.zoom,oe.minZoom=d.minZoom,oe.maxZoom=d.maxZoom,oe.panningEnabled=d.panningEnabled,oe.userPanningEnabled=d.userPanningEnabled,oe.pan=Si(d.pan),oe.boxSelectionEnabled=d.boxSelectionEnabled,oe.renderer=Si(he.renderer),oe.hideEdgesOnViewport=he.hideEdgesOnViewport,oe.textureOnViewport=he.textureOnViewport,oe.wheelSensitivity=he.wheelSensitivity,oe.motionBlur=he.motionBlur,oe.multiClickDebounceTime=he.multiClickDebounceTime,oe}}),au.$id=au.getElementById,[um,ef,tf,tc,Ll,ap,nd,rd,ad,al,as].forEach(function(l){Sn(au,l)});var nf={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}},sp={maximal:!1,acyclic:!1},su=function(i){return i.scratch("breadthfirst")},lp=function(i,s){return i.scratch("breadthfirst",s)};function lu(l){this.options=Sn({},nf,sp,l)}lu.prototype.run=function(){var x,l=this.options,i=l,s=l.cy,d=i.eles,h=d.nodes().filter(function(an){return!an.isParent()}),p=d,g=i.directed,w=i.acyclic||i.maximal||i.maximalAdjustments>0,E=bi(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()});if(Ft(i.roots))x=i.roots;else if(lt(i.roots)){for(var T=[],k=0;k<i.roots.length;k++){var W=s.getElementById(i.roots[k]);T.push(W)}x=s.collection(T)}else if(Be(i.roots))x=s.$(i.roots);else if(g)x=h.roots();else{var j=d.components();x=s.collection();for(var Q=function(Jt){var In=j[Jt],En=In.maxDegree(!1),sn=In.filter(function(Mn){return Mn.degree(!1)===En});x=x.add(sn)},J=0;J<j.length;J++)Q(J)}var oe=[],he={},pe=function(Jt,In){null==oe[In]&&(oe[In]=[]);var En=oe[In].length;oe[In].push(Jt),lp(Jt,{index:En,depth:In})};p.bfs({roots:x,directed:i.directed,visit:function(Jt,In,En,sn,Mn){var Er=Jt[0],ar=Er.id();pe(Er,Mn),he[ar]=!0}});for(var Ae=[],Ne=0;Ne<h.length;Ne++){var we=h[Ne];he[we.id()]||Ae.push(we)}var Ie=function(Jt){for(var In=oe[Jt],En=0;En<In.length;En++){var sn=In[En];null!=sn?lp(sn,{depth:Jt,index:En}):(In.splice(En,1),En--)}},Ce=function(){for(var Jt=0;Jt<oe.length;Jt++)Ie(Jt)},ke=function(Jt,In){for(var En=su(Jt),sn=Jt.incomers().filter(function(st){return st.isNode()&&d.has(st)}),Mn=-1,Er=Jt.id(),ar=0;ar<sn.length;ar++){var Ut=su(sn[ar]);Mn=Math.max(Mn,Ut.depth)}if(En.depth<=Mn){if(!i.acyclic&&In[Er])return null;var Ee=Mn+1;return function(Jt,In){var En=su(Jt);oe[En.depth][En.index]=null,pe(Jt,In)}(Jt,Ee),In[Er]=Ee,!0}return!1};if(g&&w){var Pe=[],De={},He=function(Jt){return Pe.push(Jt)};for(h.forEach(function(an){return Pe.push(an)});Pe.length>0;){var Ze=Pe.shift(),ze=ke(Ze,De);if(ze)Ze.outgoers().filter(function(an){return an.isNode()&&d.has(an)}).forEach(He);else if(null===ze){br("Detected double maximal shift for node `"+Ze.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}Ce();var je=0;if(i.avoidOverlap)for(var tt=0;tt<h.length;tt++){var vt=h[tt].layoutDimensions(i);je=Math.max(je,vt.w,vt.h)}var It={},At=function(Jt){if(It[Jt.id()])return It[Jt.id()];for(var In=su(Jt).depth,En=Jt.neighborhood(),sn=0,Mn=0,Er=0;Er<En.length;Er++){var ar=En[Er];if(!ar.isEdge()&&!ar.isParent()&&h.has(ar)){var Fn=su(ar);if(null!=Fn){var Ut=Fn.index,Ee=Fn.depth;null!=Ut&&null!=Ee&&Ee<In&&(sn+=Ut/oe[Ee].length,Mn++)}}}return sn/=Mn=Math.max(1,Mn),0===Mn&&(sn=0),It[Jt.id()]=sn,sn},St=function(Jt,In){var Mn=At(Jt)-At(In);return 0===Mn?Ra(Jt.id(),In.id()):Mn};void 0!==i.depthSort&&(St=i.depthSort);for(var wt=0;wt<oe.length;wt++)oe[wt].sort(St),Ie(wt);for(var Qe=[],Tt=0;Tt<Ae.length;Tt++)Qe.push(Ae[Tt]);oe.unshift(Qe),Ce();for(var Nt=0,$t=0;$t<oe.length;$t++)Nt=Math.max(oe[$t].length,Nt);var nn_x=E.x1+E.w/2,nn_y=E.x1+E.h/2,Hn=oe.reduce(function(an,Jt){return Math.max(an,Jt.length)},0);return d.nodes().layoutPositions(this,i,function(Jt){var In=su(Jt),En=In.depth,sn=In.index,Mn=oe[En].length,Er=Math.max(E.w/((i.grid?Hn:Mn)+1),je),ar=Math.max(E.h/(oe.length+1),je),Fn=Math.min(E.w/2/oe.length,E.h/2/oe.length);if(Fn=Math.max(Fn,je),i.circle){var Ee=Fn*En+Fn-(oe.length>0&&oe[0].length<=3?Fn/2:0),st=2*Math.PI/oe[En].length*sn;return 0===En&&1===oe[0].length&&(Ee=1),{x:nn_x+Ee*Math.cos(st),y:nn_y+Ee*Math.sin(st)}}return{x:nn_x+(sn+1-(Mn+1)/2)*Er,y:(En+1)*ar}}),this};var rc={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function up(l){this.options=Sn({},rc,l)}up.prototype.run=function(){var l=this.options,i=l,s=l.cy,d=i.eles,h=void 0!==i.counterclockwise?!i.counterclockwise:i.clockwise,p=d.nodes().not(":parent");i.sort&&(p=p.sort(i.sort));for(var T,g=bi(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()}),w={x:g.x1+g.w/2,y:g.y1+g.h/2},x=(void 0===i.sweep?2*Math.PI-2*Math.PI/p.length:i.sweep)/Math.max(1,p.length-1),k=0,z=0;z<p.length;z++){var j=p[z].layoutDimensions(i);k=Math.max(k,j.w,j.h)}if(T=Xe(i.radius)?i.radius:p.length<=1?0:Math.min(g.h,g.w)/2-k,p.length>1&&i.avoidOverlap){k*=1.75;var oe=Math.cos(x)-Math.cos(0),he=Math.sin(x)-Math.sin(0),pe=Math.sqrt(k*k/(oe*oe+he*he));T=Math.max(pe,T)}return d.nodes().layoutPositions(this,i,function(Ne,we){var Ie=i.startAngle+we*x*(h?1:-1),Ce=T*Math.cos(Ie),ke=T*Math.sin(Ie);return{x:w.x+Ce,y:w.y+ke}}),this};var cm={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(i){return i.degree()},levelWidth:function(i){return i.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function sd(l){this.options=Sn({},cm,l)}sd.prototype.run=function(){for(var l=this.options,i=l,s=void 0!==i.counterclockwise?!i.counterclockwise:i.clockwise,d=l.cy,h=i.eles,p=h.nodes().not(":parent"),g=bi(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()}),w={x:g.x1+g.w/2,y:g.y1+g.h/2},E=[],x=0,T=0;T<p.length;T++){var z,k=p[T];z=i.concentric(k),E.push({value:z,node:k}),k._private.scratch.concentric=z}p.updateStyle();for(var W=0;W<p.length;W++){var Q=p[W].layoutDimensions(i);x=Math.max(x,Q.w,Q.h)}E.sort(function(an,Jt){return Jt.value-an.value});for(var J=i.levelWidth(p),oe=[[]],he=oe[0],pe=0;pe<E.length;pe++){var be=E[pe];he.length>0&&Math.abs(he[0].value-be.value)>=J&&oe.push(he=[]),he.push(be)}var Ne=x+i.minNodeSpacing;if(!i.avoidOverlap){var we=oe.length>0&&oe[0].length>1,Ie=Math.min(g.w,g.h)/2-Ne;Ne=Math.min(Ne,Ie/(oe.length+we?1:0))}for(var ke=0,Pe=0;Pe<oe.length;Pe++){var De=oe[Pe],He=void 0===i.sweep?2*Math.PI-2*Math.PI/De.length:i.sweep,Re=De.dTheta=He/Math.max(1,De.length-1);if(De.length>1&&i.avoidOverlap){var Ze=Math.cos(Re)-Math.cos(0),ze=Math.sin(Re)-Math.sin(0),je=Math.sqrt(Ne*Ne/(Ze*Ze+ze*ze));ke=Math.max(je,ke)}De.r=ke,ke+=Ne}if(i.equidistant){for(var tt=0,at=0,vt=0;vt<oe.length;vt++)tt=Math.max(tt,oe[vt].r-at);at=0;for(var It=0;It<oe.length;It++){var At=oe[It];0===It&&(at=At.r),At.r=at,at+=tt}}for(var St={},wt=0;wt<oe.length;wt++)for(var Qe=oe[wt],Tt=Qe.dTheta,Nt=Qe.r,$t=0;$t<Qe.length;$t++){var nn=Qe[$t],Hn=i.startAngle+(s?1:-1)*Tt*$t,Jn={x:w.x+Nt*Math.cos(Hn),y:w.y+Nt*Math.sin(Hn)};St[nn.node.id()]=Jn}return h.nodes().layoutPositions(this,i,function(an){var Jt=an.id();return St[Jt]}),this};var rf,cp={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(i,s){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(i){return 2048},nodeOverlap:4,idealEdgeLength:function(i){return 32},edgeElasticity:function(i){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function af(l){this.options=Sn({},cp,l),this.options.layout=this}af.prototype.run=function(){var l=this.options,i=l.cy,s=this;s.stopped=!1,(!0===l.animate||!1===l.animate)&&s.emit({type:"layoutstart",layout:s}),rf=!0===l.debug;var d=_g(i,s,l);rf&&(void 0)(d),l.randomize&&Mg(d);var h=yi(),p=function(){ih(d,i,l),!0===l.fit&&i.fit(l.padding)},g=function(z){return!(s.stopped||z>=l.numIter||(Kr(d,l),d.temperature=d.temperature*l.coolingFactor,d.temperature<l.minTemp))},w=function(){if(!0===l.animate||!1===l.animate)p(),s.one("layoutstop",l.stop),s.emit({type:"layoutstop",layout:s});else{var z=l.eles.nodes(),W=ud(d,l,z);z.layoutPositions(s,l,W)}},E=0,x=!0;if(!0===l.animate)!function k(){for(var z=0;x&&z<l.refresh;)x=g(E),E++,z++;x?(yi()-h>=l.animationThreshold&&p(),Wl(k)):(dp(d,l),w())}();else{for(;x;)x=g(E),E++;dp(d,l),w()}return this},af.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},af.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var _g=function(i,s,d){for(var h=d.eles.edges(),p=d.eles.nodes(),g=bi(d.boundingBox?d.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),w={isCompound:i.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:p.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:h.size(),temperature:d.initialTemp,clientWidth:g.w,clientHeight:g.h,boundingBox:g},E=d.eles.components(),x={},T=0;T<E.length;T++)for(var k=E[T],z=0;z<k.length;z++)x[k[z].id()]=T;for(T=0;T<w.nodeSize;T++){var Q=(j=p[T]).layoutDimensions(d);(J={}).isLocked=j.locked(),J.id=j.data("id"),J.parentId=j.data("parent"),J.cmptId=x[j.id()],J.children=[],J.positionX=j.position("x"),J.positionY=j.position("y"),J.offsetX=0,J.offsetY=0,J.height=Q.w,J.width=Q.h,J.maxX=J.positionX+J.width/2,J.minX=J.positionX-J.width/2,J.maxY=J.positionY+J.height/2,J.minY=J.positionY-J.height/2,J.padLeft=parseFloat(j.style("padding")),J.padRight=parseFloat(j.style("padding")),J.padTop=parseFloat(j.style("padding")),J.padBottom=parseFloat(j.style("padding")),J.nodeRepulsion=nt(d.nodeRepulsion)?d.nodeRepulsion(j):d.nodeRepulsion,w.layoutNodes.push(J),w.idToIndex[J.id]=T}var oe=[],he=0,pe=-1,be=[];for(T=0;T<w.nodeSize;T++){var j,Ae=(j=w.layoutNodes[T]).parentId;null!=Ae?w.layoutNodes[w.idToIndex[Ae]].children.push(j.id):(oe[++pe]=j.id,be.push(j.id))}for(w.graphSet.push(be);he<=pe;){var Ne=oe[he++],Ie=w.layoutNodes[w.idToIndex[Ne]].children;if(Ie.length>0)for(w.graphSet.push(Ie),T=0;T<Ie.length;T++)oe[++pe]=Ie[T]}for(T=0;T<w.graphSet.length;T++){var Ce=w.graphSet[T];for(z=0;z<Ce.length;z++)w.indexToGraph[w.idToIndex[Ce[z]]]=T}for(T=0;T<w.edgeSize;T++){var Pe=h[T],De={};De.id=Pe.data("id"),De.sourceId=Pe.data("source"),De.targetId=Pe.data("target");var He=nt(d.idealEdgeLength)?d.idealEdgeLength(Pe):d.idealEdgeLength,Re=nt(d.edgeElasticity)?d.edgeElasticity(Pe):d.edgeElasticity,Ze=w.idToIndex[De.sourceId],ze=w.idToIndex[De.targetId];if(w.indexToGraph[Ze]!=w.indexToGraph[ze]){for(var at=ld(De.sourceId,De.targetId,w),vt=w.graphSet[at],rt=0,J=w.layoutNodes[Ze];-1===vt.indexOf(J.id);)J=w.layoutNodes[w.idToIndex[J.parentId]],rt++;for(J=w.layoutNodes[ze];-1===vt.indexOf(J.id);)J=w.layoutNodes[w.idToIndex[J.parentId]],rt++;He*=rt*d.nestingFactor}De.idealLength=He,De.elasticity=Re,w.layoutEdges.push(De)}return w},ld=function(i,s,d){var h=rh(i,s,0,d);return 2>h.count?0:h.graph},rh=function l(i,s,d,h){var p=h.graphSet[d];if(-1<p.indexOf(i)&&-1<p.indexOf(s))return{count:2,graph:d};for(var g=0,w=0;w<p.length;w++){var T=h.layoutNodes[h.idToIndex[p[w]]].children;if(0!==T.length){var z=l(i,s,h.indexToGraph[h.idToIndex[T[0]]],h);if(0!==z.count){if(1!==z.count)return z;if(2==++g)break}}}return{count:g,graph:d}},Mg=function(i,s){for(var d=i.clientWidth,h=i.clientHeight,p=0;p<i.nodeSize;p++){var g=i.layoutNodes[p];0===g.children.length&&!g.isLocked&&(g.positionX=Math.random()*d,g.positionY=Math.random()*h)}},ud=function(i,s,d){var h=i.boundingBox,p={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return s.boundingBox&&(d.forEach(function(g){var w=i.layoutNodes[i.idToIndex[g.data("id")]];p.x1=Math.min(p.x1,w.positionX),p.x2=Math.max(p.x2,w.positionX),p.y1=Math.min(p.y1,w.positionY),p.y2=Math.max(p.y2,w.positionY)}),p.w=p.x2-p.x1,p.h=p.y2-p.y1),function(g,w){var E=i.layoutNodes[i.idToIndex[g.data("id")]];return s.boundingBox?{x:h.x1+(E.positionX-p.x1)/p.w*h.w,y:h.y1+(E.positionY-p.y1)/p.h*h.h}:{x:E.positionX,y:E.positionY}}},ih=function(i,s,d){var h=d.layout,p=d.eles.nodes(),g=ud(i,d,p);p.positions(g),!0!==i.ready&&(i.ready=!0,h.one("layoutready",d.ready),h.emit({type:"layoutready",layout:this}))},Kr=function(i,s,d){dm(i,s),oh(i),dd(i,s),sf(i),ah(i)},dm=function(i,s){for(var d=0;d<i.graphSet.length;d++)for(var h=i.graphSet[d],p=h.length,g=0;g<p;g++)for(var w=i.layoutNodes[i.idToIndex[h[g]]],E=g+1;E<p;E++)ic(w,i.layoutNodes[i.idToIndex[h[E]]],i,s)},cd=function(i){return-i+2*i*Math.random()},ic=function(i,s,d,h){if(i.cmptId===s.cmptId||d.isCompound){var w=s.positionX-i.positionX,E=s.positionY-i.positionY;0===w&&0===E&&(w=cd(1),E=cd(1));var T=_s(i,s,w,E);if(T>0)var W=(k=h.nodeOverlap*T)*w/(z=Math.sqrt(w*w+E*E)),j=k*E/z;else{var k,Q=ra(i,w,E),J=ra(s,-1*w,-1*E),oe=J.x-Q.x,he=J.y-Q.y,pe=oe*oe+he*he,z=Math.sqrt(pe);W=(k=(i.nodeRepulsion+s.nodeRepulsion)/pe)*oe/z,j=k*he/z}i.isLocked||(i.offsetX-=W,i.offsetY-=j),s.isLocked||(s.offsetX+=W,s.offsetY+=j)}},_s=function(i,s,d,h){if(d>0)var p=i.maxX-s.minX;else p=s.maxX-i.minX;if(h>0)var g=i.maxY-s.minY;else g=s.maxY-i.minY;return p>=0&&g>=0?Math.sqrt(p*p+g*g):0},ra=function(i,s,d){var h=i.positionX,p=i.positionY,g=i.height||1,w=i.width||1,E=d/s,x=g/w,T={};return 0===s&&0<d||0===s&&0>d?(T.x=h,T.y=p+g/2,T):0<s&&-1*x<=E&&E<=x?(T.x=h+w/2,T.y=p+w*d/2/s,T):0>s&&-1*x<=E&&E<=x?(T.x=h-w/2,T.y=p-w*d/2/s,T):0<d&&(E<=-1*x||E>=x)?(T.x=h+g*s/2/d,T.y=p+g/2,T):(0>d&&(E<=-1*x||E>=x)&&(T.x=h-g*s/2/d,T.y=p-g/2),T)},oh=function(i,s){for(var d=0;d<i.edgeSize;d++){var h=i.layoutEdges[d],g=i.layoutNodes[i.idToIndex[h.sourceId]],E=i.layoutNodes[i.idToIndex[h.targetId]],x=E.positionX-g.positionX,T=E.positionY-g.positionY;if(0!==x||0!==T){var k=ra(g,x,T),z=ra(E,-1*x,-1*T),W=z.x-k.x,j=z.y-k.y,Q=Math.sqrt(W*W+j*j),J=Math.pow(h.idealLength-Q,2)/h.elasticity;if(0!==Q)var oe=J*W/Q,he=J*j/Q;else oe=0,he=0;g.isLocked||(g.offsetX+=oe,g.offsetY+=he),E.isLocked||(E.offsetX-=oe,E.offsetY-=he)}}},dd=function(i,s){if(0!==s.gravity)for(var h=0;h<i.graphSet.length;h++){var p=i.graphSet[h],g=p.length;if(0===h)var w=i.clientHeight/2,E=i.clientWidth/2;else{var T=i.layoutNodes[i.idToIndex[i.layoutNodes[i.idToIndex[p[0]]].parentId]];w=T.positionX,E=T.positionY}for(var k=0;k<g;k++){var z=i.layoutNodes[i.idToIndex[p[k]]];if(!z.isLocked){var W=w-z.positionX,j=E-z.positionY,Q=Math.sqrt(W*W+j*j);if(Q>1){var oe=s.gravity*j/Q;z.offsetX+=s.gravity*W/Q,z.offsetY+=oe}}}}},sf=function(i,s){var d=[],h=0,p=-1;for(d.push.apply(d,i.graphSet[0]),p+=i.graphSet[0].length;h<=p;){var g=d[h++],E=i.layoutNodes[i.idToIndex[g]],x=E.children;if(0<x.length&&!E.isLocked){for(var T=E.offsetX,k=E.offsetY,z=0;z<x.length;z++){var W=i.layoutNodes[i.idToIndex[x[z]]];W.offsetX+=T,W.offsetY+=k,d[++p]=x[z]}E.offsetX=0,E.offsetY=0}}},ah=function(i,s){for(var d=0;d<i.nodeSize;d++)0<(h=i.layoutNodes[d]).children.length&&(h.maxX=void 0,h.minX=void 0,h.maxY=void 0,h.minY=void 0);for(d=0;d<i.nodeSize;d++)if(!(0<(h=i.layoutNodes[d]).children.length||h.isLocked)){var p=fd(h.offsetX,h.offsetY,i.temperature);h.positionX+=p.x,h.positionY+=p.y,h.offsetX=0,h.offsetY=0,h.minX=h.positionX-h.width,h.maxX=h.positionX+h.width,h.minY=h.positionY-h.height,h.maxY=h.positionY+h.height,lf(h,i)}for(d=0;d<i.nodeSize;d++){var h;0<(h=i.layoutNodes[d]).children.length&&!h.isLocked&&(h.positionX=(h.maxX+h.minX)/2,h.positionY=(h.maxY+h.minY)/2,h.width=h.maxX-h.minX,h.height=h.maxY-h.minY)}},fd=function(i,s,d){var h=Math.sqrt(i*i+s*s);if(h>d)var p={x:d*i/h,y:d*s/h};else p={x:i,y:s};return p},lf=function l(i,s){var d=i.parentId;if(null!=d){var h=s.layoutNodes[s.idToIndex[d]],p=!1;if((null==h.maxX||i.maxX+h.padRight>h.maxX)&&(h.maxX=i.maxX+h.padRight,p=!0),(null==h.minX||i.minX-h.padLeft<h.minX)&&(h.minX=i.minX-h.padLeft,p=!0),(null==h.maxY||i.maxY+h.padBottom>h.maxY)&&(h.maxY=i.maxY+h.padBottom,p=!0),(null==h.minY||i.minY-h.padTop<h.minY)&&(h.minY=i.minY-h.padTop,p=!0),p)return l(h,s)}},dp=function(i,s){for(var d=i.layoutNodes,h=[],p=0;p<d.length;p++){var g=d[p],w=g.cmptId;(h[w]=h[w]||[]).push(g)}var x=0;for(p=0;p<h.length;p++)if(T=h[p]){T.x1=1/0,T.x2=-1/0,T.y1=1/0,T.y2=-1/0;for(var k=0;k<T.length;k++){var z=T[k];T.x1=Math.min(T.x1,z.positionX-z.width/2),T.x2=Math.max(T.x2,z.positionX+z.width/2),T.y1=Math.min(T.y1,z.positionY-z.height/2),T.y2=Math.max(T.y2,z.positionY+z.height/2)}T.w=T.x2-T.x1,T.h=T.y2-T.y1,x+=T.w*T.h}h.sort(function(he,pe){return pe.w*pe.h-he.w*he.h});var W=0,j=0,Q=0,J=0,oe=Math.sqrt(x)*i.clientWidth/i.clientHeight;for(p=0;p<h.length;p++){var T;if(T=h[p]){for(k=0;k<T.length;k++)(z=T[k]).isLocked||(z.positionX+=W-T.x1,z.positionY+=j-T.y1);W+=T.w+s.componentSpacing,Q+=T.w+s.componentSpacing,J=Math.max(J,T.h),Q>oe&&(j+=J+s.componentSpacing,W=0,Q=0,J=0)}}},uf={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(i){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function cf(l){this.options=Sn({},uf,l)}cf.prototype.run=function(){var l=this.options,i=l,s=l.cy,d=i.eles,h=d.nodes().not(":parent");i.sort&&(h=h.sort(i.sort));var p=bi(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()});if(0===p.h||0===p.w)d.nodes().layoutPositions(this,i,function(It){return{x:p.x1,y:p.y1}});else{var g=h.size(),w=Math.sqrt(g*p.h/p.w),E=Math.round(w),x=Math.round(p.w/p.h*w),T=function(At){if(null==At)return Math.min(E,x);Math.min(E,x)==E?E=At:x=At},k=function(At){if(null==At)return Math.max(E,x);Math.max(E,x)==E?E=At:x=At},z=i.rows,W=null!=i.cols?i.cols:i.columns;if(null!=z&&null!=W)E=z,x=W;else if(null!=z&&null==W)E=z,x=Math.ceil(g/E);else if(null==z&&null!=W)x=W,E=Math.ceil(g/x);else if(x*E>g){var j=T(),Q=k();(j-1)*Q>=g?T(j-1):(Q-1)*j>=g&&k(Q-1)}else for(;x*E<g;){var J=T(),oe=k();(oe+1)*J>=g?k(oe+1):T(J+1)}var he=p.w/x,pe=p.h/E;if(i.condense&&(he=0,pe=0),i.avoidOverlap)for(var be=0;be<h.length;be++){var Ae=h[be],Ne=Ae._private.position;(null==Ne.x||null==Ne.y)&&(Ne.x=0,Ne.y=0);var we=Ae.layoutDimensions(i),Ie=i.avoidOverlapPadding,ke=we.h+Ie;he=Math.max(he,we.w+Ie),pe=Math.max(pe,ke)}for(var Pe={},De=function(At,St){return!!Pe["c-"+At+"-"+St]},He=function(At,St){Pe["c-"+At+"-"+St]=!0},Re=0,Ze=0,ze=function(){++Ze>=x&&(Ze=0,Re++)},je={},tt=0;tt<h.length;tt++){var at=h[tt],vt=i.position(at);if(vt&&(void 0!==vt.row||void 0!==vt.col)){var rt={row:vt.row,col:vt.col};if(void 0===rt.col)for(rt.col=0;De(rt.row,rt.col);)rt.col++;else if(void 0===rt.row)for(rt.row=0;De(rt.row,rt.col);)rt.row++;je[at.id()]=rt,He(rt.row,rt.col)}}h.layoutPositions(this,i,function(At,St){var wt,Qe;if(At.locked()||At.isParent())return!1;var Tt=je[At.id()];if(Tt)wt=Tt.col*he+he/2+p.x1,Qe=Tt.row*pe+pe/2+p.y1;else{for(;De(Re,Ze);)ze();wt=Ze*he+he/2+p.x1,Qe=Re*pe+pe/2+p.y1,He(Re,Ze),ze()}return{x:wt,y:Qe}})}return this};var zr={ready:function(){},stop:function(){}};function hd(l){this.options=Sn({},zr,l)}hd.prototype.run=function(){var l=this.options,i=l.eles,s=this;return s.emit("layoutstart"),i.nodes().positions(function(){return{x:0,y:0}}),s.one("layoutready",l.ready),s.emit("layoutready"),s.one("layoutstop",l.stop),s.emit("layoutstop"),this},hd.prototype.stop=function(){return this};var Tg={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function zs(l){this.options=Sn({},Tg,l)}zs.prototype.run=function(){var l=this.options,s=l.eles.nodes(),d=nt(l.positions);return s.layoutPositions(this,l,function(p,g){var w=function h(p){return null==l.positions?function(i){return{x:i.x,y:i.y}}(p.position()):d?l.positions(p):l.positions[p._private.data.id]??null}(p);return!p.locked()&&null!=w&&w}),this};var cu={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,s){return!0},ready:void 0,stop:void 0,transform:function(i,s){return s}};function pd(l){this.options=Sn({},cu,l)}pd.prototype.run=function(){var l=this.options,i=l.cy,s=l.eles,d=bi(l.boundingBox?l.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});return s.nodes().layoutPositions(this,l,function(g,w){return{x:d.x1+Math.round(Math.random()*d.w),y:d.y1+Math.round(Math.random()*d.h)}}),this};var fp=[{name:"breadthfirst",impl:lu},{name:"circle",impl:up},{name:"concentric",impl:sd},{name:"cose",impl:af},{name:"grid",impl:cf},{name:"null",impl:hd},{name:"preset",impl:zs},{name:"random",impl:pd}];function wi(l){this.options=l,this.notifications=0}var du=function(){},hp=function(){throw new Error("A headless instance can not render images")};wi.prototype={recalculateRenderedStyle:du,notify:function(){this.notifications++},init:du,isHeadless:function(){return!0},png:hp,jpg:hp};var Ti={arrowShapeWidth:.3,registerArrowShapes:function(){var l=this.arrowShapes={},i=this,s=function(x,T,k,z,W,j,Q){return W.x-k/2-Q<=x&&x<=W.x+k/2+Q&&W.y-k/2-Q<=T&&T<=W.y+k/2+Q},d=function(x,T,k,z,W){var j=x*Math.cos(z)-T*Math.sin(z),Q=x*Math.sin(z)+T*Math.cos(z);return{x:j*k+W.x,y:Q*k+W.y}},h=function(x,T,k,z){for(var W=[],j=0;j<x.length;j+=2)W.push(d(x[j],x[j+1],T,k,z));return W},p=function(x){for(var T=[],k=0;k<x.length;k++){var z=x[k];T.push(z.x,z.y)}return T},g=function(x){return x.pstyle("width").pfValue*x.pstyle("arrow-scale").pfValue*2},w=function(x,T){Be(T)&&(T=l[T]),l[x]=Sn({name:x,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(z,W,j,Q,J,oe){var he=p(h(this.points,j+2*oe,Q,J));return Uo(z,W,he)},roughCollide:s,draw:function(z,W,j,Q){var J=h(this.points,W,j,Q);i.arrowShapeImpl("polygon")(z,J)},spacing:function(z){return 0},gap:g},T)};w("none",{collide:vs,roughCollide:vs,draw:Mc,spacing:Nu,gap:Nu}),w("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),w("arrow","triangle"),w("triangle-backcurve",{points:l.triangle.points,controlPoint:[0,-.15],roughCollide:s,draw:function(x,T,k,z,W){var j=h(this.points,T,k,z),Q=this.controlPoint,J=d(Q[0],Q[1],T,k,z);i.arrowShapeImpl(this.name)(x,j,J)},gap:function(x){return.8*g(x)}}),w("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(x,T,k,z,W,j,Q){var J=p(h(this.points,k+2*Q,z,W)),oe=p(h(this.pointsTee,k+2*Q,z,W));return Uo(x,T,J)||Uo(x,T,oe)},draw:function(x,T,k,z,W){var j=h(this.points,T,k,z),Q=h(this.pointsTee,T,k,z);i.arrowShapeImpl(this.name)(x,j,Q)}}),w("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(x,T,k,z,W,j,Q){var J=W,oe=Math.pow(J.x-x,2)+Math.pow(J.y-T,2)<=Math.pow((k+2*Q)*this.radius,2),he=p(h(this.points,k+2*Q,z,W));return Uo(x,T,he)||oe},draw:function(x,T,k,z,W){var j=h(this.pointsTr,T,k,z);i.arrowShapeImpl(this.name)(x,j,z.x,z.y,this.radius*T)},spacing:function(x){return i.getArrowWidth(x.pstyle("width").pfValue,x.pstyle("arrow-scale").value)*this.radius}}),w("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(x,T){var k=this.baseCrossLinePts.slice(),z=T/x;return k[3]=k[3]-z,k[5]=k[5]-z,k},collide:function(x,T,k,z,W,j,Q){var J=p(h(this.points,k+2*Q,z,W)),oe=p(h(this.crossLinePts(k,j),k+2*Q,z,W));return Uo(x,T,J)||Uo(x,T,oe)},draw:function(x,T,k,z,W){var j=h(this.points,T,k,z),Q=h(this.crossLinePts(T,W),T,k,z);i.arrowShapeImpl(this.name)(x,j,Q)}}),w("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(x){return.525*g(x)}}),w("circle",{radius:.15,collide:function(x,T,k,z,W,j,Q){var J=W;return Math.pow(J.x-x,2)+Math.pow(J.y-T,2)<=Math.pow((k+2*Q)*this.radius,2)},draw:function(x,T,k,z,W){i.arrowShapeImpl(this.name)(x,z.x,z.y,this.radius*T)},spacing:function(x){return i.getArrowWidth(x.pstyle("width").pfValue,x.pstyle("arrow-scale").value)*this.radius}}),w("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(x){return 1},gap:function(x){return 1}}),w("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),w("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(x){return x.pstyle("width").pfValue*x.pstyle("arrow-scale").value}}),w("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(x){return.95*x.pstyle("width").pfValue*x.pstyle("arrow-scale").value}})}},ls={projectIntoViewport:function(l,i){var s=this.cy,d=this.findContainerClientCoords(),h=d[0],p=d[1],g=d[4],w=s.pan(),E=s.zoom();return[((l-h)/g-w.x)/E,((i-p)/g-w.y)/E]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var l=this.container,i=l.getBoundingClientRect(),s=se.getComputedStyle(l),d=function(oe){return parseFloat(s.getPropertyValue(oe))},h_left=d("padding-left"),h_right=d("padding-right"),h_top=d("padding-top"),h_bottom=d("padding-bottom"),p_left=d("border-left-width"),p_right=d("border-right-width"),p_top=d("border-top-width"),g=(d("border-bottom-width"),l.clientWidth);return this.containerBB=[i.left+h_left+p_left,i.top+h_top+p_top,g-(h_left+h_right),l.clientHeight-(h_top+h_bottom),i.width/(g+(p_left+p_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(l,i,s,d){return this.findNearestElements(l,i,s,d)[0]},findNearestElements:function(l,i,s,d){var j,Q,h=this,p=this,g=p.getCachedZSortedEles(),w=[],E=p.cy.zoom(),x=p.cy.hasCompoundNodes(),T=(d?24:8)/E,k=(d?8:2)/E,z=(d?8:2)/E,W=1/0;function J(we,Ie){if(we.isNode()){if(Q)return;Q=we,w.push(we)}if(we.isEdge()&&(null==Ie||Ie<W))if(j){if(j.pstyle("z-compound-depth").value===we.pstyle("z-compound-depth").value&&j.pstyle("z-compound-depth").value===we.pstyle("z-compound-depth").value)for(var Ce=0;Ce<w.length;Ce++)if(w[Ce].isEdge()){w[Ce]=we,j=we,W=Ie??W;break}}else w.push(we),j=we,W=Ie??W}function oe(we){var Ie=we.outerWidth()+2*k,Ce=we.outerHeight()+2*k,ke=Ie/2,Pe=Ce/2,De=we.position();if(De.x-ke<=l&&l<=De.x+ke&&De.y-Pe<=i&&i<=De.y+Pe&&p.nodeShapes[h.getNodeShape(we)].checkPoint(l,i,0,Ie,Ce,De.x,De.y))return J(we,0),!0}function he(we){var Ze,Ie=we._private,Ce=Ie.rscratch,ke=we.pstyle("width").pfValue,Pe=we.pstyle("arrow-scale").value,De=ke/2+T,He=De*De,Re=2*De,tt=Ie.source,at=Ie.target;if("segments"===Ce.edgeType||"straight"===Ce.edgeType||"haystack"===Ce.edgeType){for(var ze=Ce.allpts,je=0;je+3<ze.length;je+=2)if(Xs(l,i,ze[je],ze[je+1],ze[je+2],ze[je+3],Re)&&He>(Ze=Ks(l,i,ze[je],ze[je+1],ze[je+2],ze[je+3])))return J(we,Ze),!0}else if("bezier"===Ce.edgeType||"multibezier"===Ce.edgeType||"self"===Ce.edgeType||"compound"===Ce.edgeType)for(ze=Ce.allpts,je=0;je+5<Ce.allpts.length;je+=4)if(di(l,i,ze[je],ze[je+1],ze[je+2],ze[je+3],ze[je+4],ze[je+5],Re)&&He>(Ze=Yl(l,i,ze[je],ze[je+1],ze[je+2],ze[je+3],ze[je+4],ze[je+5])))return J(we,Ze),!0;tt=tt||Ie.source,at=at||Ie.target;var vt=h.getArrowWidth(ke,Pe),rt=[{name:"source",x:Ce.arrowStartX,y:Ce.arrowStartY,angle:Ce.srcArrowAngle},{name:"target",x:Ce.arrowEndX,y:Ce.arrowEndY,angle:Ce.tgtArrowAngle},{name:"mid-source",x:Ce.midX,y:Ce.midY,angle:Ce.midsrcArrowAngle},{name:"mid-target",x:Ce.midX,y:Ce.midY,angle:Ce.midtgtArrowAngle}];for(je=0;je<rt.length;je++){var gt=rt[je],It=p.arrowShapes[we.pstyle(gt.name+"-arrow-shape").value],At=we.pstyle("width").pfValue;if(It.roughCollide(l,i,vt,gt.angle,{x:gt.x,y:gt.y},At,T)&&It.collide(l,i,vt,gt.angle,{x:gt.x,y:gt.y},At,T))return J(we),!0}x&&w.length>0&&(oe(tt),oe(at))}function pe(we,Ie,Ce){return zi(we,Ie,Ce)}function be(we,Ie){var Pe,Ce=we._private,ke=z;Pe=Ie?Ie+"-":"",we.boundingBox();var De=Ce.labelBounds[Ie||"main"],He=we.pstyle(Pe+"label").value;if("yes"===we.pstyle("text-events").strValue&&He){var Ze=pe(Ce.rscratch,"labelX",Ie),ze=pe(Ce.rscratch,"labelY",Ie),je=pe(Ce.rscratch,"labelAngle",Ie),tt=we.pstyle(Pe+"text-margin-x").pfValue,at=we.pstyle(Pe+"text-margin-y").pfValue,vt=De.x1-ke-tt,rt=De.x2+ke-tt,gt=De.y1-ke-at,It=De.y2+ke-at;if(je){var At=Math.cos(je),St=Math.sin(je),wt=function(Jn,an){return{x:(Jn-=Ze)*At-(an-=ze)*St+Ze,y:Jn*St+an*At+ze}},Qe=wt(vt,gt),Tt=wt(vt,It),Nt=wt(rt,gt),$t=wt(rt,It);if(Uo(l,i,[Qe.x+tt,Qe.y+at,Nt.x+tt,Nt.y+at,$t.x+tt,$t.y+at,Tt.x+tt,Tt.y+at]))return J(we),!0}else if(Fa(De,l,i))return J(we),!0}}s&&(g=g.interactive);for(var Ae=g.length-1;Ae>=0;Ae--){var Ne=g[Ae];Ne.isNode()?oe(Ne)||be(Ne):he(Ne)||be(Ne)||be(Ne,"source")||be(Ne,"target")}return w},getAllInBox:function(l,i,s,d){for(var h=this.getCachedZSortedEles().interactive,p=[],g=Math.min(l,s),w=Math.max(l,s),E=Math.min(i,d),x=Math.max(i,d),T=bi({x1:l=g,y1:i=E,x2:s=w,y2:d=x}),k=0;k<h.length;k++){var z=h[k];if(z.isNode()){var W=z,j=W.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});$n(T,j)&&!Ac(j,T)&&p.push(W)}else{var Q=z,J=Q._private,oe=J.rscratch;if(null!=oe.startX&&null!=oe.startY&&!Fa(T,oe.startX,oe.startY)||null!=oe.endX&&null!=oe.endY&&!Fa(T,oe.endX,oe.endY))continue;if("bezier"===oe.edgeType||"multibezier"===oe.edgeType||"self"===oe.edgeType||"compound"===oe.edgeType||"segments"===oe.edgeType||"haystack"===oe.edgeType){for(var he=J.rstyle.bezierPts||J.rstyle.linePts||J.rstyle.haystackPts,pe=!0,be=0;be<he.length;be++)if(!kd(T,he[be])){pe=!1;break}pe&&p.push(Q)}else("haystack"===oe.edgeType||"straight"===oe.edgeType)&&p.push(Q)}}return p}},a={calculateArrowAngles:function(l){var E,x,T,k,z,W,i=l._private.rscratch,s="haystack"===i.edgeType,d="bezier"===i.edgeType,h="multibezier"===i.edgeType,p="segments"===i.edgeType,g="compound"===i.edgeType,w="self"===i.edgeType;s?(T=i.haystackPts[0],k=i.haystackPts[1],z=i.haystackPts[2],W=i.haystackPts[3]):(T=i.arrowStartX,k=i.arrowStartY,z=i.arrowEndX,W=i.arrowEndY),oe=i.midX,he=i.midY,p?(E=T-i.segpts[0],x=k-i.segpts[1]):h||g||w||d?(E=T-ei((j=i.allpts)[0],j[2],j[4],.1),x=k-ei(j[1],j[3],j[5],.1)):(E=T-oe,x=k-he),i.srcArrowAngle=Jr(E,x);var oe=i.midX,he=i.midY;if(s&&(oe=(T+z)/2,he=(k+W)/2),E=z-T,x=W-k,p)if((j=i.allpts).length/2%2==0)E=j[pe=j.length/2]-j[be=pe-2],x=j[pe+1]-j[be+1];else{var pe,be,Ae=2+(pe=j.length/2-1);E=j[pe]-j[be=pe-2],x=j[pe+1]-j[be+1]}else if(h||g||w){var we,Ie,Ce,ke,De,Pe,He,j=i.allpts;i.ctrlpts.length/2%2==0?(we=ei(j[Pe=j.length/2-1],j[De=Pe+2],j[He=De+2],0),Ie=ei(j[Pe+1],j[De+1],j[He+1],0),Ce=ei(j[Pe],j[De],j[He],1e-4),ke=ei(j[Pe+1],j[De+1],j[He+1],1e-4)):(we=ei(j[Pe=(De=j.length/2-1)-2],j[De],j[He=De+2],.4999),Ie=ei(j[Pe+1],j[De+1],j[He+1],.4999),Ce=ei(j[Pe],j[De],j[He],.5),ke=ei(j[Pe+1],j[De+1],j[He+1],.5)),E=Ce-we,x=ke-Ie}if(i.midtgtArrowAngle=Jr(E,x),i.midDispX=E,i.midDispY=x,E*=-1,x*=-1,p&&(j=i.allpts).length/2%2!=0&&(E=-(j[Ae=2+(pe=j.length/2-1)]-j[pe]),x=-(j[Ae+1]-j[pe+1])),i.midsrcArrowAngle=Jr(E,x),p)E=z-i.segpts[i.segpts.length-2],x=W-i.segpts[i.segpts.length-1];else if(h||g||w||d){var Re=(j=i.allpts).length;E=z-ei(j[Re-6],j[Re-4],j[Re-2],.9),x=W-ei(j[Re-5],j[Re-3],j[Re-1],.9)}else E=z-oe,x=W-he;i.tgtArrowAngle=Jr(E,x)}};a.getArrowWidth=a.getArrowHeight=function(l,i){var s=this.arrowWidthCache=this.arrowWidthCache||{},d=s[l+", "+i];return d||(d=Math.max(Math.pow(13.37*l,.9),29)*i,s[l+", "+i]=d,d)};var c={};function m(l){var i=[];if(null!=l){for(var s=0;s<l.length;s+=2)i.push({x:l[s],y:l[s+1]});return i}}c.findHaystackPoints=function(l){for(var i=0;i<l.length;i++){var s=l[i],d=s._private,h=d.rscratch;if(!h.haystack){var p=2*Math.random()*Math.PI;h.source={x:Math.cos(p),y:Math.sin(p)},p=2*Math.random()*Math.PI,h.target={x:Math.cos(p),y:Math.sin(p)}}var g=d.source,w=d.target,E=g.position(),x=w.position(),T=g.width(),k=w.width(),z=g.height(),W=w.height(),Q=s.pstyle("haystack-radius").value/2;h.haystackPts=h.allpts=[h.source.x*T*Q+E.x,h.source.y*z*Q+E.y,h.target.x*k*Q+x.x,h.target.y*W*Q+x.y],h.midX=(h.allpts[0]+h.allpts[2])/2,h.midY=(h.allpts[1]+h.allpts[3])/2,h.edgeType="haystack",h.haystack=!0,this.storeEdgeProjections(s),this.calculateArrowAngles(s),this.recalculateEdgeLabelProjections(s),this.calculateLabelAngles(s)}},c.findSegmentsPoints=function(l,i){var s=l._private.rscratch,d=i.posPts,h=i.intersectionPts,p=i.vectorNormInverse,g=l.pstyle("edge-distances").value,w=l.pstyle("segment-weights"),E=l.pstyle("segment-distances"),x=Math.min(w.pfValue.length,E.pfValue.length);s.edgeType="segments",s.segpts=[];for(var T=0;T<x;T++){var k=w.pfValue[T],z=E.pfValue[T],W=1-k,Q="node-position"===g?d:h,J={x:Q.x1*W+Q.x2*k,y:Q.y1*W+Q.y2*k};s.segpts.push(J.x+p.x*z,J.y+p.y*z)}},c.findLoopPoints=function(l,i,s,d){var h=l._private.rscratch,p=i.dirCounts,g=i.srcPos,w=l.pstyle("control-point-distances"),E=w?w.pfValue[0]:void 0,x=l.pstyle("loop-direction").pfValue,T=l.pstyle("loop-sweep").pfValue,k=l.pstyle("control-point-step-size").pfValue;h.edgeType="self";var z=s,W=k;d&&(z=0,W=E);var j=x-Math.PI/2,Q=j-T/2,J=j+T/2,oe=x+"_"+T;z=void 0===p[oe]?p[oe]=0:++p[oe],h.ctrlpts=[g.x+1.4*Math.cos(Q)*W*(z/3+1),g.y+1.4*Math.sin(Q)*W*(z/3+1),g.x+1.4*Math.cos(J)*W*(z/3+1),g.y+1.4*Math.sin(J)*W*(z/3+1)]},c.findCompoundLoopPoints=function(l,i,s,d){var h=l._private.rscratch;h.edgeType="compound";var p=i.srcPos,g=i.tgtPos,w=i.srcW,E=i.srcH,x=i.tgtW,T=i.tgtH,k=l.pstyle("control-point-step-size").pfValue,z=l.pstyle("control-point-distances"),j=s,Q=k;d&&(j=0,Q=z?z.pfValue[0]:void 0);var oe={x:p.x-w/2,y:p.y-E/2},he={x:g.x-x/2,y:g.y-T/2},pe={x:Math.min(oe.x,he.x),y:Math.min(oe.y,he.y)},Ae=Math.max(.5,Math.log(.01*w)),Ne=Math.max(.5,Math.log(.01*x));h.ctrlpts=[pe.x,pe.y-(1+Math.pow(50,1.12)/100)*Q*(j/3+1)*Ae,pe.x-(1+Math.pow(50,1.12)/100)*Q*(j/3+1)*Ne,pe.y]},c.findStraightEdgePoints=function(l){l._private.rscratch.edgeType="straight"},c.findBezierPoints=function(l,i,s,d,h){var p=l._private.rscratch,g=i.vectorNormInverse,w=i.posPts,E=i.intersectionPts,x=l.pstyle("edge-distances").value,T=l.pstyle("control-point-step-size").pfValue,k=l.pstyle("control-point-distances"),z=l.pstyle("control-point-weights"),W=k&&z?Math.min(k.value.length,z.value.length):1,j=k?k.pfValue[0]:void 0,Q=z.value[0],J=d;p.edgeType=J?"multibezier":"bezier",p.ctrlpts=[];for(var oe=0;oe<W;oe++){var pe,he=(.5-i.eles.length/2+s)*T*(h?-1:1),be=so(he);J&&(j=k?k.pfValue[oe]:T,Q=z.value[oe]);var Ae=void 0!==(pe=d?j:void 0!==j?be*j:void 0)?pe:he,Ne=1-Q,Ie="node-position"===x?w:E,Ce={x:Ie.x1*Ne+Ie.x2*Q,y:Ie.y1*Ne+Ie.y2*Q};p.ctrlpts.push(Ce.x+g.x*Ae,Ce.y+g.y*Ae)}},c.findTaxiPoints=function(l,i){var s=l._private.rscratch;s.edgeType="segments";var d="vertical",h="horizontal",p="leftward",g="rightward",w="downward",E="upward",T=i.posPts,k=i.srcW,z=i.srcH,W=i.tgtW,j=i.tgtH,J="node-position"!==l.pstyle("edge-distances").value,oe=l.pstyle("taxi-direction").value,he=oe,pe=l.pstyle("taxi-turn"),be="%"===pe.units,Ae=pe.pfValue,Ne=Ae<0,we=l.pstyle("taxi-turn-min-distance").pfValue,Ce=J?(z+j)/2:0,ke=T.x2-T.x1,Pe=T.y2-T.y1,De=function(Dn,Pr){return Dn>0?Math.max(Dn-Pr,0):Math.min(Dn+Pr,0)},He=De(ke,J?(k+W)/2:0),Re=De(Pe,Ce),Ze=!1;"auto"===he?oe=Math.abs(He)>Math.abs(Re)?h:d:he===E||he===w?(oe=d,Ze=!0):(he===p||he===g)&&(oe=h,Ze=!0);var rt,ze=oe===d,je=ze?Re:He,tt=ze?Pe:ke,at=so(tt),vt=!1;(!Ze||!be&&!Ne)&&(he===w&&tt<0||he===E&&tt>0||he===p&&tt>0||he===g&&tt<0)&&(je=(at*=-1)*Math.abs(je),vt=!0);var At=function(Dn){return Math.abs(Dn)<we||Math.abs(Dn)>=Math.abs(je)},St=At(rt=be?(Ae<0?1+Ae:Ae)*je:(Ae<0?je:0)+Ae*at),wt=At(Math.abs(je)-Math.abs(rt));if(!St&&!wt||vt)if(ze){var Ee=T.y1+rt+(J?z/2*at:0);s.segpts=[T.x1,Ee,T.x2,Ee]}else{var xt=T.x1+rt+(J?k/2*at:0);s.segpts=[xt,T.y1,xt,T.y2]}else if(ze){var Tt=Math.abs(tt)<=z/2,Nt=Math.abs(ke)<=W/2;if(Tt){var $t=(T.x1+T.x2)/2;s.segpts=[$t,T.y1,$t,T.y2]}else if(Nt){var Jn=(T.y1+T.y2)/2;s.segpts=[T.x1,Jn,T.x2,Jn]}else s.segpts=[T.x1,T.y2]}else{var In=Math.abs(tt)<=k/2,En=Math.abs(Pe)<=j/2;if(In){var sn=(T.y1+T.y2)/2;s.segpts=[T.x1,sn,T.x2,sn]}else if(En){var ar=(T.x1+T.x2)/2;s.segpts=[ar,T.y1,ar,T.y2]}else s.segpts=[T.x2,T.y1]}},c.tryToCorrectInvalidPoints=function(l,i){var s=l._private.rscratch;if("bezier"===s.edgeType){var d=i.srcPos,h=i.tgtPos,p=i.srcW,g=i.srcH,w=i.tgtW,E=i.tgtH,x=i.srcShape,T=i.tgtShape,k=!Xe(s.startX)||!Xe(s.startY),z=!Xe(s.arrowStartX)||!Xe(s.arrowStartY),W=!Xe(s.endX)||!Xe(s.endY),j=!Xe(s.arrowEndX)||!Xe(s.arrowEndY),oe=this.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,he=Ri({x:s.ctrlpts[0],y:s.ctrlpts[1]},{x:s.startX,y:s.startY}),pe=he<oe,be=Ri({x:s.ctrlpts[0],y:s.ctrlpts[1]},{x:s.endX,y:s.endY}),Ae=be<oe,Ne=!1;if(k||z||pe){Ne=!0;var we={x:s.ctrlpts[0]-d.x,y:s.ctrlpts[1]-d.y},Ie=Math.sqrt(we.x*we.x+we.y*we.y),Ce={x:we.x/Ie,y:we.y/Ie},ke=Math.max(p,g),Pe={x:s.ctrlpts[0]+2*Ce.x*ke,y:s.ctrlpts[1]+2*Ce.y*ke},De=x.intersectLine(d.x,d.y,p,g,Pe.x,Pe.y,0);pe?(s.ctrlpts[0]=s.ctrlpts[0]+Ce.x*(oe-he),s.ctrlpts[1]=s.ctrlpts[1]+Ce.y*(oe-he)):(s.ctrlpts[0]=De[0]+Ce.x*oe,s.ctrlpts[1]=De[1]+Ce.y*oe)}if(W||j||Ae){Ne=!0;var He={x:s.ctrlpts[0]-h.x,y:s.ctrlpts[1]-h.y},Re=Math.sqrt(He.x*He.x+He.y*He.y),Ze={x:He.x/Re,y:He.y/Re},ze=Math.max(p,g),je={x:s.ctrlpts[0]+2*Ze.x*ze,y:s.ctrlpts[1]+2*Ze.y*ze},tt=T.intersectLine(h.x,h.y,w,E,je.x,je.y,0);Ae?(s.ctrlpts[0]=s.ctrlpts[0]+Ze.x*(oe-be),s.ctrlpts[1]=s.ctrlpts[1]+Ze.y*(oe-be)):(s.ctrlpts[0]=tt[0]+Ze.x*oe,s.ctrlpts[1]=tt[1]+Ze.y*oe)}Ne&&this.findEndpoints(l)}},c.storeAllpts=function(l){var i=l._private.rscratch;if("multibezier"===i.edgeType||"bezier"===i.edgeType||"self"===i.edgeType||"compound"===i.edgeType){i.allpts=[],i.allpts.push(i.startX,i.startY);for(var s=0;s+1<i.ctrlpts.length;s+=2)i.allpts.push(i.ctrlpts[s],i.ctrlpts[s+1]),s+3<i.ctrlpts.length&&i.allpts.push((i.ctrlpts[s]+i.ctrlpts[s+2])/2,(i.ctrlpts[s+1]+i.ctrlpts[s+3])/2);var d;i.allpts.push(i.endX,i.endY),i.ctrlpts.length/2%2==0?(i.midX=i.allpts[d=i.allpts.length/2-1],i.midY=i.allpts[d+1]):(i.midX=ei(i.allpts[d=i.allpts.length/2-3],i.allpts[d+2],i.allpts[d+4],.5),i.midY=ei(i.allpts[d+1],i.allpts[d+3],i.allpts[d+5],.5))}else if("straight"===i.edgeType)i.allpts=[i.startX,i.startY,i.endX,i.endY],i.midX=(i.startX+i.endX+i.arrowStartX+i.arrowEndX)/4,i.midY=(i.startY+i.endY+i.arrowStartY+i.arrowEndY)/4;else if("segments"===i.edgeType)if(i.allpts=[],i.allpts.push(i.startX,i.startY),i.allpts.push.apply(i.allpts,i.segpts),i.allpts.push(i.endX,i.endY),i.segpts.length%4==0){var p=i.segpts.length/2,g=p-2;i.midX=(i.segpts[g]+i.segpts[p])/2,i.midY=(i.segpts[g+1]+i.segpts[p+1])/2}else{var w=i.segpts.length/2-1;i.midX=i.segpts[w],i.midY=i.segpts[w+1]}},c.checkForInvalidEdgeWarning=function(l){var i=l[0]._private.rscratch;i.nodesOverlap||Xe(i.startX)&&Xe(i.startY)&&Xe(i.endX)&&Xe(i.endY)?i.loggedErr=!1:i.loggedErr||(i.loggedErr=!0,br("Edge `"+l.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},c.findEdgeControlPoints=function(l){var i=this;if(l&&0!==l.length){for(var s=this,h=s.cy.hasCompoundNodes(),p={map:new _t,get:function(we){var Ie=this.map.get(we[0]);return null!=Ie?Ie.get(we[1]):null},set:function(we,Ie){var Ce=this.map.get(we[0]);null==Ce&&(Ce=new _t,this.map.set(we[0],Ce)),Ce.set(we[1],Ie)}},g=[],w=[],E=0;E<l.length;E++){var x=l[E],T=x._private,k=x.pstyle("curve-style").value;if(!x.removed()&&x.takesUpSpace()){if("haystack"===k){w.push(x);continue}var z="unbundled-bezier"===k||"segments"===k||"straight"===k||"straight-triangle"===k||"taxi"===k,W="unbundled-bezier"===k||"bezier"===k,Q=T.target,he=[T.source.poolIndex(),Q.poolIndex()].sort(),pe=p.get(he);null==pe&&(p.set(he,pe={eles:[]}),g.push(he)),pe.eles.push(x),z&&(pe.hasUnbundled=!0),W&&(pe.hasBezier=!0)}}for(var be=function(we){var Ce=p.get(g[we]),ke=void 0;if(!Ce.hasUnbundled){var Pe=Ce.eles[0].parallelEdges().filter(function(Ut){return Ut.isBundledBezier()});So(Ce.eles),Pe.forEach(function(Ut){return Ce.eles.push(Ut)}),Ce.eles.sort(function(Ut,Ee){return Ut.poolIndex()-Ee.poolIndex()})}var De=Ce.eles[0],He=De.source(),Re=De.target();if(He.poolIndex()>Re.poolIndex()){var Ze=He;He=Re,Re=Ze}var ze=Ce.srcPos=He.position(),je=Ce.tgtPos=Re.position(),tt=Ce.srcW=He.outerWidth(),at=Ce.srcH=He.outerHeight(),vt=Ce.tgtW=Re.outerWidth(),rt=Ce.tgtH=Re.outerHeight(),gt=Ce.srcShape=s.nodeShapes[i.getNodeShape(He)],It=Ce.tgtShape=s.nodeShapes[i.getNodeShape(Re)];Ce.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var At=0;At<Ce.eles.length;At++){var St=Ce.eles[At],wt=St[0]._private.rscratch,Qe=St.pstyle("curve-style").value,Tt="unbundled-bezier"===Qe||"segments"===Qe||"taxi"===Qe,Nt=!He.same(St.source());if(!Ce.calculatedIntersection&&He!==Re&&(Ce.hasBezier||Ce.hasUnbundled)){Ce.calculatedIntersection=!0;var $t=gt.intersectLine(ze.x,ze.y,tt,at,je.x,je.y,0),nn=Ce.srcIntn=$t,Hn=It.intersectLine(je.x,je.y,vt,rt,ze.x,ze.y,0),Jn=Ce.tgtIntn=Hn,an=Ce.intersectionPts={x1:$t[0],x2:Hn[0],y1:$t[1],y2:Hn[1]},Jt=Ce.posPts={x1:ze.x,x2:je.x,y1:ze.y,y2:je.y},In=Hn[1]-$t[1],En=Hn[0]-$t[0],sn=Math.sqrt(En*En+In*In),Mn=Ce.vector={x:En,y:In},Er=Ce.vectorNorm={x:Mn.x/sn,y:Mn.y/sn},ar={x:-Er.y,y:Er.x};Ce.nodesOverlap=!Xe(sn)||It.checkPoint($t[0],$t[1],0,vt,rt,je.x,je.y)||gt.checkPoint(Hn[0],Hn[1],0,tt,at,ze.x,ze.y),Ce.vectorNormInverse=ar,ke={nodesOverlap:Ce.nodesOverlap,dirCounts:Ce.dirCounts,calculatedIntersection:!0,hasBezier:Ce.hasBezier,hasUnbundled:Ce.hasUnbundled,eles:Ce.eles,srcPos:je,tgtPos:ze,srcW:vt,srcH:rt,tgtW:tt,tgtH:at,srcIntn:Jn,tgtIntn:nn,srcShape:It,tgtShape:gt,posPts:{x1:Jt.x2,y1:Jt.y2,x2:Jt.x1,y2:Jt.y1},intersectionPts:{x1:an.x2,y1:an.y2,x2:an.x1,y2:an.y1},vector:{x:-Mn.x,y:-Mn.y},vectorNorm:{x:-Er.x,y:-Er.y},vectorNormInverse:{x:-ar.x,y:-ar.y}}}var Fn=Nt?ke:Ce;wt.nodesOverlap=Fn.nodesOverlap,wt.srcIntn=Fn.srcIntn,wt.tgtIntn=Fn.tgtIntn,h&&(He.isParent()||He.isChild()||Re.isParent()||Re.isChild())&&(He.parents().anySame(Re)||Re.parents().anySame(He)||He.same(Re)&&He.isParent())?i.findCompoundLoopPoints(St,Fn,At,Tt):He===Re?i.findLoopPoints(St,Fn,At,Tt):"segments"===Qe?i.findSegmentsPoints(St,Fn):"taxi"===Qe?i.findTaxiPoints(St,Fn):"straight"===Qe||!Tt&&Ce.eles.length%2==1&&At===Math.floor(Ce.eles.length/2)?i.findStraightEdgePoints(St):i.findBezierPoints(St,Fn,At,Tt,Nt),i.findEndpoints(St),i.tryToCorrectInvalidPoints(St,Fn),i.checkForInvalidEdgeWarning(St),i.storeAllpts(St),i.storeEdgeProjections(St),i.calculateArrowAngles(St),i.recalculateEdgeLabelProjections(St),i.calculateLabelAngles(St)}},Ae=0;Ae<g.length;Ae++)be(Ae);this.findHaystackPoints(w)}},c.getSegmentPoints=function(l){var i=l[0]._private.rscratch;if("segments"===i.edgeType)return this.recalculateRenderedStyle(l),m(i.segpts)},c.getControlPoints=function(l){var i=l[0]._private.rscratch,s=i.edgeType;if("bezier"===s||"multibezier"===s||"self"===s||"compound"===s)return this.recalculateRenderedStyle(l),m(i.ctrlpts)},c.getEdgeMidpoint=function(l){var i=l[0]._private.rscratch;return this.recalculateRenderedStyle(l),{x:i.midX,y:i.midY}};var v={manualEndptToPx:function(l,i){var d=l.position(),h=l.outerWidth(),p=l.outerHeight();if(2===i.value.length){var g=[i.pfValue[0],i.pfValue[1]];return"%"===i.units[0]&&(g[0]=g[0]*h),"%"===i.units[1]&&(g[1]=g[1]*p),g[0]+=d.x,g[1]+=d.y,g}var w=i.pfValue[0];w=-Math.PI/2+w;var E=2*Math.max(h,p),x=[d.x+Math.cos(w)*E,d.y+Math.sin(w)*E];return this.nodeShapes[this.getNodeShape(l)].intersectLine(d.x,d.y,h,p,x[0],x[1],0)},findEndpoints:function(l){var s,ke,Pe,De,He,i=this,d=l.source()[0],h=l.target()[0],p=d.position(),g=h.position(),w=l.pstyle("target-arrow-shape").value,E=l.pstyle("source-arrow-shape").value,x=l.pstyle("target-distance-from-node").pfValue,T=l.pstyle("source-distance-from-node").pfValue,k=l.pstyle("curve-style").value,z=l._private.rscratch,W=z.edgeType,Q="self"===W||"compound"===W,J="bezier"===W||"multibezier"===W||Q,oe="bezier"!==W,he="straight"===W||"segments"===W,pe="segments"===W,be=J||oe||he,Ae=Q||"taxi"===k,Ne=l.pstyle("source-endpoint"),we=Ae?"outside-to-node":Ne.value,Ie=l.pstyle("target-endpoint"),Ce=Ae?"outside-to-node":Ie.value;if(z.srcManEndpt=Ne,z.tgtManEndpt=Ie,J){var Re=[z.ctrlpts[0],z.ctrlpts[1]];ke=oe?[z.ctrlpts[z.ctrlpts.length-2],z.ctrlpts[z.ctrlpts.length-1]]:Re,Pe=Re}else if(he){var ze=pe?z.segpts.slice(0,2):[g.x,g.y];ke=pe?z.segpts.slice(z.segpts.length-2):[p.x,p.y],Pe=ze}if("inside-to-node"===Ce)s=[g.x,g.y];else if(Ie.units)s=this.manualEndptToPx(h,Ie);else if("outside-to-line"===Ce)s=z.tgtIntn;else if("outside-to-node"===Ce||"outside-to-node-or-label"===Ce?De=ke:("outside-to-line"===Ce||"outside-to-line-or-label"===Ce)&&(De=[p.x,p.y]),s=i.nodeShapes[this.getNodeShape(h)].intersectLine(g.x,g.y,h.outerWidth(),h.outerHeight(),De[0],De[1],0),"outside-to-node-or-label"===Ce||"outside-to-line-or-label"===Ce){var tt=h._private.rscratch,rt=tt.labelX,gt=tt.labelY,It=tt.labelWidth/2,At=tt.labelHeight/2,St=h.pstyle("text-valign").value;"top"===St?gt-=At:"bottom"===St&&(gt+=At);var wt=h.pstyle("text-halign").value;"left"===wt?rt-=It:"right"===wt&&(rt+=It);var Qe=Cl(De[0],De[1],[rt-It,gt-At,rt+It,gt-At,rt+It,gt+At,rt-It,gt+At],g.x,g.y);if(Qe.length>0){var Tt=p,Nt=_r(Tt,Qr(s)),$t=_r(Tt,Qr(Qe)),nn=Nt;$t<Nt&&(s=Qe,nn=$t),Qe.length>2&&_r(Tt,{x:Qe[2],y:Qe[3]})<nn&&(s=[Qe[2],Qe[3]])}}var Jn=Pd(s,ke,i.arrowShapes[w].spacing(l)+x),an=Pd(s,ke,i.arrowShapes[w].gap(l)+x);if(z.endX=an[0],z.endY=an[1],z.arrowEndX=Jn[0],z.arrowEndY=Jn[1],"inside-to-node"===we)s=[p.x,p.y];else if(Ne.units)s=this.manualEndptToPx(d,Ne);else if("outside-to-line"===we)s=z.srcIntn;else if("outside-to-node"===we||"outside-to-node-or-label"===we?He=Pe:("outside-to-line"===we||"outside-to-line-or-label"===we)&&(He=[g.x,g.y]),s=i.nodeShapes[this.getNodeShape(d)].intersectLine(p.x,p.y,d.outerWidth(),d.outerHeight(),He[0],He[1],0),"outside-to-node-or-label"===we||"outside-to-line-or-label"===we){var Jt=d._private.rscratch,sn=Jt.labelX,Mn=Jt.labelY,Er=Jt.labelWidth/2,ar=Jt.labelHeight/2,Fn=d.pstyle("text-valign").value;"top"===Fn?Mn-=ar:"bottom"===Fn&&(Mn+=ar);var Ut=d.pstyle("text-halign").value;"left"===Ut?sn-=Er:"right"===Ut&&(sn+=Er);var Ee=Cl(He[0],He[1],[sn-Er,Mn-ar,sn+Er,Mn-ar,sn+Er,Mn+ar,sn-Er,Mn+ar],p.x,p.y);if(Ee.length>0){var st=g,Rt=_r(st,Qr(s)),xt=_r(st,Qr(Ee)),Et=Rt;xt<Rt&&(s=[Ee[0],Ee[1]],Et=xt),Ee.length>2&&_r(st,{x:Ee[2],y:Ee[3]})<Et&&(s=[Ee[2],Ee[3]])}}var Gt=Pd(s,Pe,i.arrowShapes[E].spacing(l)+T),Dn=Pd(s,Pe,i.arrowShapes[E].gap(l)+T);z.startX=Dn[0],z.startY=Dn[1],z.arrowStartX=Gt[0],z.arrowStartY=Gt[1],be&&(z.badLine=!(Xe(z.startX)&&Xe(z.startY)&&Xe(z.endX)&&Xe(z.endY)))},getSourceEndpoint:function(l){var i=l[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(l),i.edgeType)?{x:i.haystackPts[0],y:i.haystackPts[1]}:{x:i.arrowStartX,y:i.arrowStartY}},getTargetEndpoint:function(l){var i=l[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(l),i.edgeType)?{x:i.haystackPts[2],y:i.haystackPts[3]}:{x:i.arrowEndX,y:i.arrowEndY}}},b={};function F(l,i,s){for(var d=function(x,T,k,z){return ei(x,T,k,z)},p=i._private.rstyle.bezierPts,g=0;g<l.bezierProjPcts.length;g++){var w=l.bezierProjPcts[g];p.push({x:d(s[0],s[2],s[4],w),y:d(s[1],s[3],s[5],w)})}}b.storeEdgeProjections=function(l){var i=l._private,s=i.rscratch,d=s.edgeType;if(i.rstyle.bezierPts=null,i.rstyle.linePts=null,i.rstyle.haystackPts=null,"multibezier"===d||"bezier"===d||"self"===d||"compound"===d){i.rstyle.bezierPts=[];for(var h=0;h+5<s.allpts.length;h+=4)F(this,l,s.allpts.slice(h,h+6))}else if("segments"===d){var p=i.rstyle.linePts=[];for(h=0;h+1<s.allpts.length;h+=2)p.push({x:s.allpts[h],y:s.allpts[h+1]})}else if("haystack"===d){var g=s.haystackPts;i.rstyle.haystackPts=[{x:g[0],y:g[1]},{x:g[2],y:g[3]}]}i.rstyle.arrowWidth=this.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.arrowShapeWidth},b.recalculateEdgeProjections=function(l){this.findEdgeControlPoints(l)};var G={recalculateNodeLabelProjection:function(l){var i=l.pstyle("label").strValue;if(!Pt(i)){var s,d,h=l._private,p=l.width(),g=l.height(),w=l.padding(),E=l.position(),x=l.pstyle("text-halign").strValue,T=l.pstyle("text-valign").strValue,k=h.rscratch,z=h.rstyle;switch(x){case"left":s=E.x-p/2-w;break;case"right":s=E.x+p/2+w;break;default:s=E.x}switch(T){case"top":d=E.y-g/2-w;break;case"bottom":d=E.y+g/2+w;break;default:d=E.y}k.labelX=s,k.labelY=d,z.labelX=s,z.labelY=d,this.calculateLabelAngles(l),this.applyLabelDimensions(l)}}},K=function(i,s){var d=Math.atan(s/i);return 0===i&&d<0&&(d*=-1),d},ee=function(i,s){return K(s.x-i.x,s.y-i.y)};G.recalculateEdgeLabelProjections=function(l){var i,s=l._private,d=s.rscratch,h=this,p={mid:l.pstyle("label").strValue,source:l.pstyle("source-label").strValue,target:l.pstyle("target-label").strValue};if(p.mid||p.source||p.target){var g=function(k,z,W){_o(s.rscratch,k,z,W),_o(s.rstyle,k,z,W)};g("labelX",null,(i={x:d.midX,y:d.midY}).x),g("labelY",null,i.y);var w=K(d.midDispX,d.midDispY);g("labelAutoAngle",null,w);var E=function T(){if(T.cache)return T.cache;for(var k=[],z=0;z+5<d.allpts.length;z+=4)k.push({p0:{x:d.allpts[z],y:d.allpts[z+1]},p1:{x:d.allpts[z+2],y:d.allpts[z+3]},p2:{x:d.allpts[z+4],y:d.allpts[z+5]},startDist:0,length:0,segments:[]});var J=s.rstyle.bezierPts,oe=h.bezierProjPcts.length;function he(we,Ie,Ce,ke,Pe){var De=Ri(Ie,Ce),He=we.segments[we.segments.length-1];we.segments.push({p0:Ie,p1:Ce,t0:ke,t1:Pe,startDist:He?He.startDist+He.length:0,length:De}),we.length+=De}for(var pe=0;pe<k.length;pe++){var be=k[pe],Ae=k[pe-1];Ae&&(be.startDist=Ae.startDist+Ae.length),he(be,be.p0,J[pe*oe],0,h.bezierProjPcts[0]);for(var Ne=0;Ne<oe-1;Ne++)he(be,J[pe*oe+Ne],J[pe*oe+Ne+1],h.bezierProjPcts[Ne],h.bezierProjPcts[Ne+1]);he(be,J[pe*oe+oe-1],be.p2,h.bezierProjPcts[oe-1],1)}return T.cache=k},x=function(k){var z,W="source"===k;if(p[k]){var j=l.pstyle(k+"-text-offset").pfValue;switch(d.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var J,Q=E(),oe=0,he=0,pe=0;pe<Q.length;pe++){for(var be=Q[W?pe:Q.length-1-pe],Ae=0;Ae<be.segments.length;Ae++){var Ne=be.segments[W?Ae:be.segments.length-1-Ae];if(oe=he,(he+=Ne.length)>=j||pe===Q.length-1&&Ae===be.segments.length-1){J={cp:be,segment:Ne};break}}if(J)break}var Ie=J.cp,Ce=J.segment,ke=(j-oe)/Ce.length,Pe=Ce.t1-Ce.t0,De=W?Ce.t0+Pe*ke:Ce.t1-Pe*ke;De=Ps(0,De,1),i=lo(Ie.p0,Ie.p1,Ie.p2,De),z=function(i,s,d,h){var p=Ps(0,h-.001,1),g=Ps(0,h+.001,1),w=lo(i,s,d,p),E=lo(i,s,d,g);return ee(w,E)}(Ie.p0,Ie.p1,Ie.p2,De);break;case"straight":case"segments":case"haystack":for(var Re,Ze,ze,je,He=0,tt=d.allpts.length,at=0;at+3<tt&&(W?(ze={x:d.allpts[at],y:d.allpts[at+1]},je={x:d.allpts[at+2],y:d.allpts[at+3]}):(ze={x:d.allpts[tt-2-at],y:d.allpts[tt-1-at]},je={x:d.allpts[tt-4-at],y:d.allpts[tt-3-at]}),Ze=He,!((He+=Re=Ri(ze,je))>=j));at+=2);var rt=(j-Ze)/Re;rt=Ps(0,rt,1),i=function(i,s,d,h){var p_x=s.x-i.x,p_y=s.y-i.y,g=Ri(i,s);return d=d??0,{x:i.x+p_x/g*(h=h??d*g),y:i.y+p_y/g*h}}(ze,je,rt),z=ee(ze,je)}g("labelX",k,i.x),g("labelY",k,i.y),g("labelAutoAngle",k,z)}};x("source"),x("target"),this.applyLabelDimensions(l)}},G.applyLabelDimensions=function(l){this.applyPrefixedLabelDimensions(l),l.isEdge()&&(this.applyPrefixedLabelDimensions(l,"source"),this.applyPrefixedLabelDimensions(l,"target"))},G.applyPrefixedLabelDimensions=function(l,i){var s=l._private,d=this.getLabelText(l,i),h=this.calculateLabelDimensions(l,d),p=l.pstyle("line-height").pfValue,g=l.pstyle("text-wrap").strValue,w=zi(s.rscratch,"labelWrapCachedLines",i)||[],E="wrap"!==g?1:Math.max(w.length,1),x=h.height/E,T=x*p,k=h.width,z=h.height+(E-1)*(p-1)*x;_o(s.rstyle,"labelWidth",i,k),_o(s.rscratch,"labelWidth",i,k),_o(s.rstyle,"labelHeight",i,z),_o(s.rscratch,"labelHeight",i,z),_o(s.rscratch,"labelLineHeight",i,T)},G.getLabelText=function(l,i){var s=l._private,h=l.pstyle((i?i+"-":"")+"label").strValue,p=l.pstyle("text-transform").value,g=function(vt,rt){return rt?(_o(s.rscratch,vt,i,rt),rt):zi(s.rscratch,vt,i)};if(!h)return"";"none"==p||("uppercase"==p?h=h.toUpperCase():"lowercase"==p&&(h=h.toLowerCase()));var w=l.pstyle("text-wrap").value;if("wrap"===w){var E=g("labelKey");if(null!=E&&g("labelWrapKey")===E)return g("labelWrapCachedText");for(var T=h.split("\n"),k=l.pstyle("text-max-width").pfValue,W="anywhere"===l.pstyle("text-overflow-wrap").value,j=[],Q=/[\s\u200b]+/,J=W?"":" ",oe=0;oe<T.length;oe++){var he=T[oe],be=this.calculateLabelDimensions(l,he).width;if(W){var Ae=he.split("").join("\u200b");he=Ae}if(be>k){for(var Ne=he.split(Q),we="",Ie=0;Ie<Ne.length;Ie++){var Ce=Ne[Ie];this.calculateLabelDimensions(l,0===we.length?Ce:we+J+Ce).width<=k?we+=Ce+J:(we&&j.push(we),we=Ce+J)}we.match(/^[\s\u200b]+$/)||j.push(we)}else j.push(he)}g("labelWrapCachedLines",j),h=g("labelWrapCachedText",j.join("\n")),g("labelWrapKey",E)}else if("ellipsis"===w){var He=l.pstyle("text-max-width").pfValue,Re="",ze=!1;if(this.calculateLabelDimensions(l,h).width<He)return h;for(var je=0;je<h.length&&!(this.calculateLabelDimensions(l,Re+h[je]+"\u2026").width>He);je++)Re+=h[je],je===h.length-1&&(ze=!0);return ze||(Re+="\u2026"),Re}return h},G.getLabelJustification=function(l){var i=l.pstyle("text-justification").strValue,s=l.pstyle("text-halign").strValue;if("auto"!==i)return i;if(!l.isNode())return"center";switch(s){case"left":return"right";case"right":return"left";default:return"center"}},G.calculateLabelDimensions=function(l,i){var d=Za(i,l._private.labelDimsKey),h=this.labelDimCache||(this.labelDimCache=[]),p=h[d];if(null!=p)return p;var w=l.pstyle("font-style").strValue,E=l.pstyle("font-size").pfValue,x=l.pstyle("font-family").strValue,T=l.pstyle("font-weight").strValue,k=this.labelCalcCanvas,z=this.labelCalcCanvasContext;if(!k){k=this.labelCalcCanvas=document.createElement("canvas"),z=this.labelCalcCanvasContext=k.getContext("2d");var W=k.style;W.position="absolute",W.left="-9999px",W.top="-9999px",W.zIndex="-1",W.visibility="hidden",W.pointerEvents="none"}z.font="".concat(w," ").concat(T," ").concat(E,"px ").concat(x);for(var j=0,Q=0,J=i.split("\n"),oe=0;oe<J.length;oe++){var pe=z.measureText(J[oe]),be=Math.ceil(pe.width),Ae=E;j=Math.max(be,j),Q+=Ae}return h[d]={width:j+=0,height:Q+=0}},G.calculateLabelAngle=function(l,i){var d=l._private.rscratch,h=l.isEdge(),g=l.pstyle((i?i+"-":"")+"text-rotation"),w=g.strValue;return"none"===w?0:h&&"autorotate"===w?d.labelAutoAngle:"autorotate"===w?0:g.pfValue},G.calculateLabelAngles=function(l){var i=this,s=l.isEdge(),h=l._private.rscratch;h.labelAngle=i.calculateLabelAngle(l),s&&(h.sourceLabelAngle=i.calculateLabelAngle(l,"source"),h.targetLabelAngle=i.calculateLabelAngle(l,"target"))};var Se={},Ye=!1;Se.getNodeShape=function(l){var s=l.pstyle("shape").value;if("cutrectangle"===s&&(l.width()<28||l.height()<28))return Ye||(br("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Ye=!0),"rectangle";if(l.isParent())return"rectangle"===s||"roundrectangle"===s||"round-rectangle"===s||"cutrectangle"===s||"cut-rectangle"===s||"barrel"===s?s:"rectangle";if("polygon"===s){var d=l.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(d).name}return s};var ct={updateCachedGrabbedEles:function(){var l=this.cachedZSortedEles;if(l){l.drag=[],l.nondrag=[];for(var i=[],s=0;s<l.length;s++){var h=(d=l[s])._private.rscratch;d.grabbed()&&!d.isParent()?i.push(d):h.inDragLayer?l.drag.push(d):l.nondrag.push(d)}for(s=0;s<i.length;s++){var d;l.drag.push(d=i[s])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(l){if(l||!this.cachedZSortedEles){var i=this.cy.mutableElements().toArray();i.sort(Al),i.interactive=i.filter(function(s){return s.interactive()}),this.cachedZSortedEles=i,this.updateCachedGrabbedEles()}else i=this.cachedZSortedEles;return i}},bt={};[ls,a,c,v,b,G,Se,{registerCalculationListeners:function(){var l=this.cy,i=l.collection(),s=this,d=function(g){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(i.merge(g),w)for(var E=0;E<g.length;E++){var k=g[E]._private.rstyle;k.clean=!1,k.cleanConnected=!1}};s.binder(l).on("bounds.* dirty.*",function(g){d(g.target)}).on("style.* background.*",function(g){d(g.target,!1)});var h=function(g){if(g){var w=s.onUpdateEleCalcsFns;i.cleanStyle();for(var E=0;E<i.length;E++){var x=i[E],T=x._private.rstyle;x.isNode()&&!T.cleanConnected&&(d(x.connectedEdges()),T.cleanConnected=!0)}if(w)for(var k=0;k<w.length;k++)(0,w[k])(g,i);s.recalculateRenderedStyle(i),i=l.collection()}};s.flushRenderedStyleQueue=function(){h(!0)},s.beforeRender(h,s.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(l){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(l)},recalculateRenderedStyle:function(l,i){var s=function(be){return be._private.rstyle.cleanConnected},d=[],h=[];if(!this.destroyed){void 0===i&&(i=!0);for(var p=0;p<l.length;p++){var g=l[p],w=g._private,E=w.rstyle;g.isEdge()&&(!s(g.source())||!s(g.target()))&&(E.clean=!1),!(i&&E.clean||g.removed())&&"none"!==g.pstyle("display").value&&("nodes"===w.group?h.push(g):d.push(g),E.clean=!0)}for(var x=0;x<h.length;x++){var T=h[x],z=T._private.rstyle,W=T.position();this.recalculateNodeLabelProjection(T),z.nodeX=W.x,z.nodeY=W.y,z.nodeW=T.pstyle("width").pfValue,z.nodeH=T.pstyle("height").pfValue}this.recalculateEdgeProjections(d);for(var j=0;j<d.length;j++){var J=d[j]._private,oe=J.rstyle,he=J.rscratch;oe.srcX=he.arrowStartX,oe.srcY=he.arrowStartY,oe.tgtX=he.arrowEndX,oe.tgtY=he.arrowEndY,oe.midX=he.midX,oe.midY=he.midY,oe.labelAngle=he.labelAngle,oe.sourceLabelAngle=he.sourceLabelAngle,oe.targetLabelAngle=he.targetLabelAngle}}}},ct].forEach(function(l){Sn(bt,l)});var zt={getCachedImage:function(l,i,s){var h=this.imageCache=this.imageCache||{},p=h[l];if(p)return p.image.complete||p.image.addEventListener("load",s),p.image;var g=(p=h[l]=h[l]||{}).image=new Image;g.addEventListener("load",s),g.addEventListener("error",function(){g.error=!0});return"data:"===l.substring(0,5).toLowerCase()||(g.crossOrigin=i="null"===i?null:i),g.src=l,g}},Wt={registerBinding:function(l,i,s,d){var h=Array.prototype.slice.apply(arguments,[1]),p=this.binder(l);return p.on.apply(p,h)},binder:function(l){var i=this,s=l===window||l===document||l===document.body||function(i){return!(typeof HTMLElement>"u")&&i instanceof HTMLElement}(l);if(null==i.supportsPassiveEvents){var d=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return d=!0,!0}});window.addEventListener("test",null,h)}catch{}i.supportsPassiveEvents=d}var p=function(w,E,x){var T=Array.prototype.slice.call(arguments);return s&&i.supportsPassiveEvents&&(T[2]={capture:x??!1,passive:!1,once:!1}),i.bindings.push({target:l,args:T}),(l.addEventListener||l.on).apply(l,T),this};return{on:p,addEventListener:p,addListener:p,bind:p}},nodeIsDraggable:function(l){return l&&l.isNode()&&!l.locked()&&l.grabbable()},nodeIsGrabbable:function(l){return this.nodeIsDraggable(l)&&l.interactive()}};Wt.load=function(){var l=this,i=function(Ee){return Ee.selected()},s=function(Ee,st,Rt,xt){null==Ee&&(Ee=l.cy);for(var Et=0;Et<st.length;Et++)Ee.emit({originalEvent:Rt,type:st[Et],position:xt})},d=function(Ee){return Ee.shiftKey||Ee.metaKey||Ee.ctrlKey},h=function(Ee,st){var Rt=!0;if(l.cy.hasCompoundNodes()&&Ee&&Ee.pannable()){for(var xt=0;st&&xt<st.length;xt++)if((Ee=st[xt]).isNode()&&Ee.isParent()&&!Ee.pannable()){Rt=!1;break}}else Rt=!0;return Rt},w=function(Ee){Ee[0]._private.rscratch.inDragLayer=!0},x=function(Ee){Ee[0]._private.rscratch.isGrabTarget=!0},k=function(Ee,st){var Rt=st.addToList;!Rt.has(Ee)&&Ee.grabbable()&&!Ee.locked()&&(Rt.merge(Ee),function(Ee){Ee[0]._private.grabbed=!0}(Ee))},W=function(Ee,st){st=st||{};var Rt=Ee.cy().hasCompoundNodes();st.inDragLayer&&(Ee.forEach(w),Ee.neighborhood().stdFilter(function(xt){return!Rt||xt.isEdge()}).forEach(w)),st.addToList&&Ee.forEach(function(xt){k(xt,st)}),function(Ee,st){if(Ee.cy().hasCompoundNodes()&&(null!=st.inDragLayer||null!=st.addToList)){var Rt=Ee.descendants();st.inDragLayer&&(Rt.forEach(w),Rt.connectedEdges().forEach(w)),st.addToList&&k(Rt,st)}}(Ee,st),J(Ee,{inDragLayer:st.inDragLayer}),l.updateCachedGrabbedEles()},j=W,Q=function(Ee){Ee&&(l.getCachedZSortedEles().forEach(function(st){(function(Ee){Ee[0]._private.grabbed=!1})(st),function(Ee){Ee[0]._private.rscratch.inDragLayer=!1}(st),function(Ee){Ee[0]._private.rscratch.isGrabTarget=!1}(st)}),l.updateCachedGrabbedEles())},J=function(Ee,st){if((null!=st.inDragLayer||null!=st.addToList)&&Ee.cy().hasCompoundNodes()){var Rt=Ee.ancestors().orphans();if(!Rt.same(Ee)){var xt=Rt.descendants().spawnSelf().merge(Rt).unmerge(Ee).unmerge(Ee.descendants()),Et=xt.connectedEdges();st.inDragLayer&&(Et.forEach(w),xt.forEach(w)),st.addToList&&xt.forEach(function(cr){k(cr,st)})}}},oe=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},he=typeof MutationObserver<"u",pe=typeof ResizeObserver<"u";he?(l.removeObserver=new MutationObserver(function(Ut){for(var Ee=0;Ee<Ut.length;Ee++){var Rt=Ut[Ee].removedNodes;if(Rt)for(var xt=0;xt<Rt.length;xt++)if(Rt[xt]===l.container){l.destroy();break}}}),l.container.parentNode&&l.removeObserver.observe(l.container.parentNode,{childList:!0})):l.registerBinding(l.container,"DOMNodeRemoved",function(Ut){l.destroy()});var be=R.default(function(){l.cy.resize()},100);he&&(l.styleObserver=new MutationObserver(be),l.styleObserver.observe(l.container,{attributes:!0})),l.registerBinding(window,"resize",be),pe&&(l.resizeObserver=new ResizeObserver(be),l.resizeObserver.observe(l.container));var Ne=function(){l.invalidateContainerClientCoordsCache()};(function(Ee,st){for(;null!=Ee;)l.registerBinding(Ut=Ee,"transitionend",Ne),l.registerBinding(Ut,"animationend",Ne),l.registerBinding(Ut,"scroll",Ne),Ee=Ee.parentNode;var Ut})(l.container),l.registerBinding(l.container,"contextmenu",function(Ut){Ut.preventDefault()});var Ce,ke,Pe,Ie=function(Ee){for(var st=l.findContainerClientCoords(),Rt=st[0],xt=st[1],Et=st[2],cr=st[3],Gt=Ee.touches?Ee.touches:[Ee],Dn=!1,Pr=0;Pr<Gt.length;Pr++){var Gr=Gt[Pr];if(Rt<=Gr.clientX&&Gr.clientX<=Rt+Et&&xt<=Gr.clientY&&Gr.clientY<=xt+cr){Dn=!0;break}}if(!Dn)return!1;for(var sr=l.container,rr=Ee.target.parentNode,hr=!1;rr;){if(rr===sr){hr=!0;break}rr=rr.parentNode}return!!hr};l.registerBinding(l.container,"mousedown",function(Ee){if(Ie(Ee)){Ee.preventDefault(),oe(),l.hoverData.capture=!0,l.hoverData.which=Ee.which;var st=l.cy,Rt=[Ee.clientX,Ee.clientY],xt=l.projectIntoViewport(Rt[0],Rt[1]),Et=l.selection,cr=l.findNearestElements(xt[0],xt[1],!0,!1),Gt=cr[0],Dn=l.dragData.possibleDragElements;if(l.hoverData.mdownPos=xt,l.hoverData.mdownGPos=Rt,3==Ee.which){l.hoverData.cxtStarted=!0;var Gr={originalEvent:Ee,type:"cxttapstart",position:{x:xt[0],y:xt[1]}};Gt?(Gt.activate(),Gt.emit(Gr),l.hoverData.down=Gt):st.emit(Gr),l.hoverData.downTime=(new Date).getTime(),l.hoverData.cxtDragged=!1}else if(1==Ee.which){if(Gt&&Gt.activate(),null!=Gt&&l.nodeIsGrabbable(Gt)){var sr=function(Wi){return{originalEvent:Ee,type:Wi,position:{x:xt[0],y:xt[1]}}};if(x(Gt),Gt.selected()){Dn=l.dragData.possibleDragElements=st.collection();var rr=st.$(function(hr){return hr.isNode()&&hr.selected()&&l.nodeIsGrabbable(hr)});W(rr,{addToList:Dn}),Gt.emit(sr("grabon")),rr.forEach(function(Wi){Wi.emit(sr("grab"))})}else Dn=l.dragData.possibleDragElements=st.collection(),j(Gt,{addToList:Dn}),Gt.emit(sr("grabon")).emit(sr("grab"));l.redrawHint("eles",!0),l.redrawHint("drag",!0)}l.hoverData.down=Gt,l.hoverData.downs=cr,l.hoverData.downTime=(new Date).getTime(),s(Gt,["mousedown","tapstart","vmousedown"],Ee,{x:xt[0],y:xt[1]}),null==Gt?(Et[4]=1,l.data.bgActivePosistion={x:xt[0],y:xt[1]},l.redrawHint("select",!0),l.redraw()):Gt.pannable()&&(Et[4]=1),l.hoverData.tapholdCancelled=!1,clearTimeout(l.hoverData.tapholdTimeout),l.hoverData.tapholdTimeout=setTimeout(function(){if(!l.hoverData.tapholdCancelled){var Wi=l.hoverData.down;Wi?Wi.emit({originalEvent:Ee,type:"taphold",position:{x:xt[0],y:xt[1]}}):st.emit({originalEvent:Ee,type:"taphold",position:{x:xt[0],y:xt[1]}})}},l.tapholdDuration)}Et[0]=Et[2]=xt[0],Et[1]=Et[3]=xt[1]}},!1),l.registerBinding(window,"mousemove",function(Ee){var Bl;if(l.hoverData.capture||Ie(Ee)){var Rt=!1,xt=l.cy,Et=xt.zoom(),cr=[Ee.clientX,Ee.clientY],Gt=l.projectIntoViewport(cr[0],cr[1]),Dn=l.hoverData.mdownPos,Pr=l.hoverData.mdownGPos,Gr=l.selection,sr=null;!l.hoverData.draggingEles&&!l.hoverData.dragging&&!l.hoverData.selecting&&(sr=l.findNearestElement(Gt[0],Gt[1],!0,!1));var $i,jr=l.hoverData.last,rr=l.hoverData.down,hr=[Gt[0]-Gr[2],Gt[1]-Gr[3]],Wi=l.dragData.possibleDragElements;if(Pr){var cl=cr[0]-Pr[0],ha=cr[1]-Pr[1];l.hoverData.isOverThresholdDrag=$i=cl*cl+ha*ha>=l.desktopTapThreshold2}var Co=d(Ee);$i&&(l.hoverData.tapholdCancelled=!0),Rt=!0,s(sr,["mousemove","vmousemove","tapdrag"],Ee,{x:Gt[0],y:Gt[1]});var pf=function(){l.data.bgActivePosistion=void 0,l.hoverData.selecting||xt.emit({originalEvent:Ee,type:"boxstart",position:{x:Gt[0],y:Gt[1]}}),Gr[4]=1,l.hoverData.selecting=!0,l.redrawHint("select",!0),l.redraw()};if(3===l.hoverData.which){if($i){var bd={originalEvent:Ee,type:"cxtdrag",position:{x:Gt[0],y:Gt[1]}};rr?rr.emit(bd):xt.emit(bd),l.hoverData.cxtDragged=!0,(!l.hoverData.cxtOver||sr!==l.hoverData.cxtOver)&&(l.hoverData.cxtOver&&l.hoverData.cxtOver.emit({originalEvent:Ee,type:"cxtdragout",position:{x:Gt[0],y:Gt[1]}}),l.hoverData.cxtOver=sr,sr&&sr.emit({originalEvent:Ee,type:"cxtdragover",position:{x:Gt[0],y:Gt[1]}}))}}else if(l.hoverData.dragging){if(Rt=!0,xt.panningEnabled()&&xt.userPanningEnabled()){var gf;if(l.hoverData.justStartedPan){var Cp=l.hoverData.mdownPos;gf={x:(Gt[0]-Cp[0])*Et,y:(Gt[1]-Cp[1])*Et},l.hoverData.justStartedPan=!1}else gf={x:hr[0]*Et,y:hr[1]*Et};xt.panBy(gf),xt.emit("dragpan"),l.hoverData.dragged=!0}Gt=l.projectIntoViewport(Ee.clientX,Ee.clientY)}else if(1!=Gr[4]||null!=rr&&!rr.pannable()){if(rr&&rr.pannable()&&rr.active()&&rr.unactivate(),(!rr||!rr.grabbed())&&sr!=jr&&(jr&&s(jr,["mouseout","tapdragout"],Ee,{x:Gt[0],y:Gt[1]}),sr&&s(sr,["mouseover","tapdragover"],Ee,{x:Gt[0],y:Gt[1]}),l.hoverData.last=sr),rr)if($i){if(xt.boxSelectionEnabled()&&Co)rr&&rr.grabbed()&&(Q(Wi),rr.emit("freeon"),Wi.emit("free"),l.dragData.didDrag&&(rr.emit("dragfreeon"),Wi.emit("dragfree"))),pf();else if(rr&&rr.grabbed()&&l.nodeIsDraggable(rr)){var cs=!l.dragData.didDrag;cs&&l.redrawHint("eles",!0),l.dragData.didDrag=!0,l.hoverData.draggingEles||W(Wi,{inDragLayer:!0});var ga={x:0,y:0};if(Xe(hr[0])&&Xe(hr[1])&&(ga.x+=hr[0],ga.y+=hr[1],cs)){var ds=l.hoverData.dragDelta;ds&&Xe(ds[0])&&Xe(ds[1])&&(ga.x+=ds[0],ga.y+=ds[1])}l.hoverData.draggingEles=!0,Wi.silentShift(ga).emit("position drag"),l.redrawHint("drag",!0),l.redraw()}}else 0===(Bl=l.hoverData.dragDelta=l.hoverData.dragDelta||[]).length?(Bl.push(hr[0]),Bl.push(hr[1])):(Bl[0]+=hr[0],Bl[1]+=hr[1]);Rt=!0}else $i&&(l.hoverData.dragging||!xt.boxSelectionEnabled()||!Co&&xt.panningEnabled()&&xt.userPanningEnabled()?!l.hoverData.selecting&&xt.panningEnabled()&&xt.userPanningEnabled()&&h(rr,l.hoverData.downs)&&(l.hoverData.dragging=!0,l.hoverData.justStartedPan=!0,Gr[4]=0,l.data.bgActivePosistion=Qr(Dn),l.redrawHint("select",!0),l.redraw()):pf(),rr&&rr.pannable()&&rr.active()&&rr.unactivate());if(Gr[2]=Gt[0],Gr[3]=Gt[1],Rt)return Ee.stopPropagation&&Ee.stopPropagation(),Ee.preventDefault&&Ee.preventDefault(),!1}},!1),l.registerBinding(window,"mouseup",function(Ee){if(l.hoverData.capture){l.hoverData.capture=!1;var Rt=l.cy,xt=l.projectIntoViewport(Ee.clientX,Ee.clientY),Et=l.selection,cr=l.findNearestElement(xt[0],xt[1],!0,!1),Gt=l.dragData.possibleDragElements,Dn=l.hoverData.down,Pr=d(Ee);if(l.data.bgActivePosistion&&(l.redrawHint("select",!0),l.redraw()),l.hoverData.tapholdCancelled=!0,l.data.bgActivePosistion=void 0,Dn&&Dn.unactivate(),3===l.hoverData.which){var Gr={originalEvent:Ee,type:"cxttapend",position:{x:xt[0],y:xt[1]}};if(Dn?Dn.emit(Gr):Rt.emit(Gr),!l.hoverData.cxtDragged){var sr={originalEvent:Ee,type:"cxttap",position:{x:xt[0],y:xt[1]}};Dn?Dn.emit(sr):Rt.emit(sr)}l.hoverData.cxtDragged=!1,l.hoverData.which=null}else if(1===l.hoverData.which){if(s(cr,["mouseup","tapend","vmouseup"],Ee,{x:xt[0],y:xt[1]}),!l.dragData.didDrag&&!l.hoverData.dragged&&!l.hoverData.selecting&&!l.hoverData.isOverThresholdDrag&&(s(Dn,["click","tap","vclick"],Ee,{x:xt[0],y:xt[1]}),ke=!1,Ee.timeStamp-Pe<=Rt.multiClickDebounceTime()?(Ce&&clearTimeout(Ce),ke=!0,Pe=null,s(Dn,["dblclick","dbltap","vdblclick"],Ee,{x:xt[0],y:xt[1]})):(Ce=setTimeout(function(){ke||s(Dn,["oneclick","onetap","voneclick"],Ee,{x:xt[0],y:xt[1]})},Rt.multiClickDebounceTime()),Pe=Ee.timeStamp)),null==Dn&&!l.dragData.didDrag&&!l.hoverData.selecting&&!l.hoverData.dragged&&!d(Ee)&&(Rt.$(i).unselect(["tapunselect"]),Gt.length>0&&l.redrawHint("eles",!0),l.dragData.possibleDragElements=Gt=Rt.collection()),cr==Dn&&!l.dragData.didDrag&&!l.hoverData.selecting&&null!=cr&&cr._private.selectable&&(l.hoverData.dragging||("additive"===Rt.selectionType()||Pr?cr.selected()?cr.unselect(["tapunselect"]):cr.select(["tapselect"]):Pr||(Rt.$(i).unmerge(cr).unselect(["tapunselect"]),cr.select(["tapselect"]))),l.redrawHint("eles",!0)),l.hoverData.selecting){var jr=Rt.collection(l.getAllInBox(Et[0],Et[1],Et[2],Et[3]));l.redrawHint("select",!0),jr.length>0&&l.redrawHint("eles",!0),Rt.emit({type:"boxend",originalEvent:Ee,position:{x:xt[0],y:xt[1]}}),"additive"===Rt.selectionType()||Pr||Rt.$(i).unmerge(jr).unselect(),jr.emit("box").stdFilter(function($i){return $i.selectable()&&!$i.selected()}).select().emit("boxselect"),l.redraw()}if(l.hoverData.dragging&&(l.hoverData.dragging=!1,l.redrawHint("select",!0),l.redrawHint("eles",!0),l.redraw()),!Et[4]){l.redrawHint("drag",!0),l.redrawHint("eles",!0);var hr=Dn&&Dn.grabbed();Q(Gt),hr&&(Dn.emit("freeon"),Gt.emit("free"),l.dragData.didDrag&&(Dn.emit("dragfreeon"),Gt.emit("dragfree")))}}Et[4]=0,l.hoverData.down=null,l.hoverData.cxtStarted=!1,l.hoverData.draggingEles=!1,l.hoverData.selecting=!1,l.hoverData.isOverThresholdDrag=!1,l.dragData.didDrag=!1,l.hoverData.dragged=!1,l.hoverData.dragDelta=[],l.hoverData.mdownPos=null,l.hoverData.mdownGPos=null}},!1);var De=function(Ee){if(!l.scrollingPage){var st=l.cy,Rt=st.zoom(),xt=st.pan(),Et=l.projectIntoViewport(Ee.clientX,Ee.clientY),cr=[Et[0]*Rt+xt.x,Et[1]*Rt+xt.y];if(l.hoverData.draggingEles||l.hoverData.dragging||l.hoverData.cxtStarted||0!==l.selection[4])return void Ee.preventDefault();if(st.panningEnabled()&&st.userPanningEnabled()&&st.zoomingEnabled()&&st.userZoomingEnabled()){var Gt;Ee.preventDefault(),l.data.wheelZooming=!0,clearTimeout(l.data.wheelTimeout),l.data.wheelTimeout=setTimeout(function(){l.data.wheelZooming=!1,l.redrawHint("eles",!0),l.redraw()},150),Gt=null!=Ee.deltaY?Ee.deltaY/-250:null!=Ee.wheelDeltaY?Ee.wheelDeltaY/1e3:Ee.wheelDelta/1e3,Gt*=l.wheelSensitivity,1===Ee.deltaMode&&(Gt*=33);var Pr=st.zoom()*Math.pow(10,Gt);"gesturechange"===Ee.type&&(Pr=l.gestureStartZoom*Ee.scale),st.zoom({level:Pr,renderedPosition:{x:cr[0],y:cr[1]}}),st.emit("gesturechange"===Ee.type?"pinchzoom":"scrollzoom")}}};l.registerBinding(l.container,"wheel",De,!0),l.registerBinding(window,"scroll",function(Ee){l.scrollingPage=!0,clearTimeout(l.scrollingPageTimeout),l.scrollingPageTimeout=setTimeout(function(){l.scrollingPage=!1},250)},!0),l.registerBinding(l.container,"gesturestart",function(Ee){l.gestureStartZoom=l.cy.zoom(),l.hasTouchStarted||Ee.preventDefault()},!0),l.registerBinding(l.container,"gesturechange",function(Ut){l.hasTouchStarted||De(Ut)},!0),l.registerBinding(l.container,"mouseout",function(Ee){var st=l.projectIntoViewport(Ee.clientX,Ee.clientY);l.cy.emit({originalEvent:Ee,type:"mouseout",position:{x:st[0],y:st[1]}})},!1),l.registerBinding(l.container,"mouseover",function(Ee){var st=l.projectIntoViewport(Ee.clientX,Ee.clientY);l.cy.emit({originalEvent:Ee,type:"mouseover",position:{x:st[0],y:st[1]}})},!1);var He,Re,Ze,ze,je,tt,at,vt,rt,gt,It,At,St,Tt,Nt,$t,nn,Hn,Jn,an,wt=function(Ee,st,Rt,xt){return Math.sqrt((Rt-Ee)*(Rt-Ee)+(xt-st)*(xt-st))},Qe=function(Ee,st,Rt,xt){return(Rt-Ee)*(Rt-Ee)+(xt-st)*(xt-st)};if(l.registerBinding(l.container,"touchstart",Tt=function(Ee){if(l.hasTouchStarted=!0,Ie(Ee)){oe(),l.touchData.capture=!0,l.data.bgActivePosistion=void 0;var st=l.cy,Rt=l.touchData.now,xt=l.touchData.earlier;if(Ee.touches[0]){var Et=l.projectIntoViewport(Ee.touches[0].clientX,Ee.touches[0].clientY);Rt[0]=Et[0],Rt[1]=Et[1]}if(Ee.touches[1]&&(Et=l.projectIntoViewport(Ee.touches[1].clientX,Ee.touches[1].clientY),Rt[2]=Et[0],Rt[3]=Et[1]),Ee.touches[2]&&(Et=l.projectIntoViewport(Ee.touches[2].clientX,Ee.touches[2].clientY),Rt[4]=Et[0],Rt[5]=Et[1]),Ee.touches[1]){l.touchData.singleTouchMoved=!0,Q(l.dragData.touchDragEles);var cr=l.findContainerClientCoords();It=cr[2],At=cr[3],Re=Ee.touches[0].clientY-(gt=cr[1]),Ze=Ee.touches[1].clientX-(rt=cr[0]),ze=Ee.touches[1].clientY-gt,St=0<=(He=Ee.touches[0].clientX-rt)&&He<=It&&0<=Ze&&Ze<=It&&0<=Re&&Re<=At&&0<=ze&&ze<=At;var Gt=st.pan(),Dn=st.zoom();if(je=wt(He,Re,Ze,ze),tt=Qe(He,Re,Ze,ze),vt=[((at=[(He+Ze)/2,(Re+ze)/2])[0]-Gt.x)/Dn,(at[1]-Gt.y)/Dn],tt<4e4&&!Ee.touches[2]){var sr=l.findNearestElement(Rt[0],Rt[1],!0,!0),jr=l.findNearestElement(Rt[2],Rt[3],!0,!0);return sr&&sr.isNode()?(sr.activate().emit({originalEvent:Ee,type:"cxttapstart",position:{x:Rt[0],y:Rt[1]}}),l.touchData.start=sr):jr&&jr.isNode()?(jr.activate().emit({originalEvent:Ee,type:"cxttapstart",position:{x:Rt[0],y:Rt[1]}}),l.touchData.start=jr):st.emit({originalEvent:Ee,type:"cxttapstart",position:{x:Rt[0],y:Rt[1]}}),l.touchData.start&&(l.touchData.start._private.grabbed=!1),l.touchData.cxt=!0,l.touchData.cxtDragged=!1,l.data.bgActivePosistion=void 0,void l.redraw()}}if(Ee.touches[2])st.boxSelectionEnabled()&&Ee.preventDefault();else if(!Ee.touches[1]&&Ee.touches[0]){var rr=l.findNearestElements(Rt[0],Rt[1],!0,!0),hr=rr[0];if(null!=hr&&(hr.activate(),l.touchData.start=hr,l.touchData.starts=rr,l.nodeIsGrabbable(hr))){var Wi=l.dragData.touchDragEles=st.collection(),$i=null;l.redrawHint("eles",!0),l.redrawHint("drag",!0),hr.selected()?($i=st.$(function(Xa){return Xa.selected()&&l.nodeIsGrabbable(Xa)}),W($i,{addToList:Wi})):j(hr,{addToList:Wi}),x(hr);var cl=function(Co){return{originalEvent:Ee,type:Co,position:{x:Rt[0],y:Rt[1]}}};hr.emit(cl("grabon")),$i?$i.forEach(function(Xa){Xa.emit(cl("grab"))}):hr.emit(cl("grab"))}s(hr,["touchstart","tapstart","vmousedown"],Ee,{x:Rt[0],y:Rt[1]}),null==hr&&(l.data.bgActivePosistion={x:Et[0],y:Et[1]},l.redrawHint("select",!0),l.redraw()),l.touchData.singleTouchMoved=!1,l.touchData.singleTouchStartTime=+new Date,clearTimeout(l.touchData.tapholdTimeout),l.touchData.tapholdTimeout=setTimeout(function(){!1===l.touchData.singleTouchMoved&&!l.pinching&&!l.touchData.selecting&&s(l.touchData.start,["taphold"],Ee,{x:Rt[0],y:Rt[1]})},l.tapholdDuration)}if(Ee.touches.length>=1){for(var dl=l.touchData.startPosition=[],ha=0;ha<Rt.length;ha++)dl[ha]=xt[ha]=Rt[ha];var js=Ee.touches[0];l.touchData.startGPosition=[js.clientX,js.clientY]}}},!1),l.registerBinding(window,"touchmove",Nt=function(Ee){var st=l.touchData.capture;if(st||Ie(Ee)){var Rt=l.selection,xt=l.cy,Et=l.touchData.now,cr=l.touchData.earlier,Gt=xt.zoom();if(Ee.touches[0]){var Dn=l.projectIntoViewport(Ee.touches[0].clientX,Ee.touches[0].clientY);Et[0]=Dn[0],Et[1]=Dn[1]}Ee.touches[1]&&(Dn=l.projectIntoViewport(Ee.touches[1].clientX,Ee.touches[1].clientY),Et[2]=Dn[0],Et[3]=Dn[1]),Ee.touches[2]&&(Dn=l.projectIntoViewport(Ee.touches[2].clientX,Ee.touches[2].clientY),Et[4]=Dn[0],Et[5]=Dn[1]);var Gr,Pr=l.touchData.startGPosition;if(st&&Ee.touches[0]&&Pr){for(var sr=[],jr=0;jr<Et.length;jr++)sr[jr]=Et[jr]-cr[jr];var rr=Ee.touches[0].clientX-Pr[0],Wi=Ee.touches[0].clientY-Pr[1];Gr=rr*rr+Wi*Wi>=l.touchTapThreshold2}if(st&&l.touchData.cxt){Ee.preventDefault();var Co=Qe(dl=Ee.touches[0].clientX-rt,ha=Ee.touches[0].clientY-gt,js=Ee.touches[1].clientX-rt,Xa=Ee.touches[1].clientY-gt);if(Co/tt>=2.25||Co>=22500){l.touchData.cxt=!1,l.data.bgActivePosistion=void 0,l.redrawHint("select",!0);var wd={originalEvent:Ee,type:"cxttapend",position:{x:Et[0],y:Et[1]}};l.touchData.start?(l.touchData.start.unactivate().emit(wd),l.touchData.start=null):xt.emit(wd)}}if(st&&l.touchData.cxt){wd={originalEvent:Ee,type:"cxtdrag",position:{x:Et[0],y:Et[1]}},l.data.bgActivePosistion=void 0,l.redrawHint("select",!0),l.touchData.start?l.touchData.start.emit(wd):xt.emit(wd),l.touchData.start&&(l.touchData.start._private.grabbed=!1),l.touchData.cxtDragged=!0;var cs=l.findNearestElement(Et[0],Et[1],!0,!0);(!l.touchData.cxtOver||cs!==l.touchData.cxtOver)&&(l.touchData.cxtOver&&l.touchData.cxtOver.emit({originalEvent:Ee,type:"cxtdragout",position:{x:Et[0],y:Et[1]}}),l.touchData.cxtOver=cs,cs&&cs.emit({originalEvent:Ee,type:"cxtdragover",position:{x:Et[0],y:Et[1]}}))}else if(st&&Ee.touches[2]&&xt.boxSelectionEnabled())Ee.preventDefault(),l.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,l.touchData.selecting||xt.emit({originalEvent:Ee,type:"boxstart",position:{x:Et[0],y:Et[1]}}),l.touchData.selecting=!0,l.touchData.didSelect=!0,Rt[4]=1,Rt&&0!==Rt.length&&void 0!==Rt[0]?(Rt[2]=(Et[0]+Et[2]+Et[4])/3,Rt[3]=(Et[1]+Et[3]+Et[5])/3):(Rt[0]=(Et[0]+Et[2]+Et[4])/3,Rt[1]=(Et[1]+Et[3]+Et[5])/3,Rt[2]=(Et[0]+Et[2]+Et[4])/3+1,Rt[3]=(Et[1]+Et[3]+Et[5])/3+1),l.redrawHint("select",!0),l.redraw();else if(st&&Ee.touches[1]&&!l.touchData.didSelect&&xt.zoomingEnabled()&&xt.panningEnabled()&&xt.userZoomingEnabled()&&xt.userPanningEnabled()){if(Ee.preventDefault(),l.data.bgActivePosistion=void 0,l.redrawHint("select",!0),ga=l.dragData.touchDragEles){l.redrawHint("drag",!0);for(var ds=0;ds<ga.length;ds++){var xp=ga[ds]._private;xp.grabbed=!1,xp.rscratch.inDragLayer=!1}}var dl,ha,js,Xa,Bl=l.touchData.start,Dm=wt(dl=Ee.touches[0].clientX-rt,ha=Ee.touches[0].clientY-gt,js=Ee.touches[1].clientX-rt,Xa=Ee.touches[1].clientY-gt),Ep=Dm/je;if(St){var Mm=(dl-He+(js-Ze))/2,eE=(ha-Re+(Xa-ze))/2,Dp=xt.zoom(),Tm=Dp*Ep,vf=xt.pan(),Sp=vt[0]*Dp+vf.x,ab=vt[1]*Dp+vf.y,tE={x:-Tm/Dp*(Sp-vf.x-Mm)+Sp,y:-Tm/Dp*(ab-vf.y-eE)+ab};Bl&&Bl.active()&&(Q(ga=l.dragData.touchDragEles),l.redrawHint("drag",!0),l.redrawHint("eles",!0),Bl.unactivate().emit("freeon"),ga.emit("free"),l.dragData.didDrag&&(Bl.emit("dragfreeon"),ga.emit("dragfree"))),xt.viewport({zoom:Tm,pan:tE,cancelOnFailedZoom:!0}),xt.emit("pinchzoom"),je=Dm,He=dl,Re=ha,Ze=js,ze=Xa,l.pinching=!0}Ee.touches[0]&&(Dn=l.projectIntoViewport(Ee.touches[0].clientX,Ee.touches[0].clientY),Et[0]=Dn[0],Et[1]=Dn[1]),Ee.touches[1]&&(Dn=l.projectIntoViewport(Ee.touches[1].clientX,Ee.touches[1].clientY),Et[2]=Dn[0],Et[3]=Dn[1]),Ee.touches[2]&&(Dn=l.projectIntoViewport(Ee.touches[2].clientX,Ee.touches[2].clientY),Et[4]=Dn[0],Et[5]=Dn[1])}else if(Ee.touches[0]&&!l.touchData.didSelect){var Ws=l.touchData.start,Fg=l.touchData.last;if(!l.hoverData.draggingEles&&!l.swipePanning&&(cs=l.findNearestElement(Et[0],Et[1],!0,!0)),st&&null!=Ws&&Ee.preventDefault(),st&&null!=Ws&&l.nodeIsDraggable(Ws))if(Gr){var ga=l.dragData.touchDragEles,Im=!l.dragData.didDrag;Im&&W(ga,{inDragLayer:!0}),l.dragData.didDrag=!0;var mh={x:0,y:0};Xe(sr[0])&&Xe(sr[1])&&(mh.x+=sr[0],mh.y+=sr[1],Im)&&(l.redrawHint("eles",!0),(fl=l.touchData.dragDelta)&&Xe(fl[0])&&Xe(fl[1])&&(mh.x+=fl[0],mh.y+=fl[1])),l.hoverData.draggingEles=!0,ga.silentShift(mh).emit("position drag"),l.redrawHint("drag",!0),l.touchData.startPosition[0]==cr[0]&&l.touchData.startPosition[1]==cr[1]&&l.redrawHint("eles",!0),l.redraw()}else{var fl;0===(fl=l.touchData.dragDelta=l.touchData.dragDelta||[]).length?(fl.push(sr[0]),fl.push(sr[1])):(fl[0]+=sr[0],fl[1]+=sr[1])}if(s(Ws||cs,["touchmove","tapdrag","vmousemove"],Ee,{x:Et[0],y:Et[1]}),(!Ws||!Ws.grabbed())&&cs!=Fg&&(Fg&&Fg.emit({originalEvent:Ee,type:"tapdragout",position:{x:Et[0],y:Et[1]}}),cs&&cs.emit({originalEvent:Ee,type:"tapdragover",position:{x:Et[0],y:Et[1]}})),l.touchData.last=cs,st)for(ds=0;ds<Et.length;ds++)Et[ds]&&l.touchData.startPosition[ds]&&Gr&&(l.touchData.singleTouchMoved=!0);st&&(null==Ws||Ws.pannable())&&xt.panningEnabled()&&xt.userPanningEnabled()&&(h(Ws,l.touchData.starts)&&(Ee.preventDefault(),l.data.bgActivePosistion||(l.data.bgActivePosistion=Qr(l.touchData.startPosition)),l.swipePanning?(xt.panBy({x:sr[0]*Gt,y:sr[1]*Gt}),xt.emit("dragpan")):Gr&&(l.swipePanning=!0,xt.panBy({x:rr*Gt,y:Wi*Gt}),xt.emit("dragpan"),Ws&&(Ws.unactivate(),l.redrawHint("select",!0),l.touchData.start=null))),Dn=l.projectIntoViewport(Ee.touches[0].clientX,Ee.touches[0].clientY),Et[0]=Dn[0],Et[1]=Dn[1])}for(jr=0;jr<Et.length;jr++)cr[jr]=Et[jr];st&&Ee.touches.length>0&&!l.hoverData.draggingEles&&!l.swipePanning&&null!=l.data.bgActivePosistion&&(l.data.bgActivePosistion=void 0,l.redrawHint("select",!0),l.redraw())}},!1),l.registerBinding(window,"touchcancel",$t=function(Ee){var st=l.touchData.start;l.touchData.capture=!1,st&&st.unactivate()}),l.registerBinding(window,"touchend",nn=function(Ee){var st=l.touchData.start;if(l.touchData.capture){0===Ee.touches.length&&(l.touchData.capture=!1),Ee.preventDefault();var xt=l.selection;l.swipePanning=!1,l.hoverData.draggingEles=!1;var Gr,Et=l.cy,cr=Et.zoom(),Gt=l.touchData.now,Dn=l.touchData.earlier;if(Ee.touches[0]){var Pr=l.projectIntoViewport(Ee.touches[0].clientX,Ee.touches[0].clientY);Gt[0]=Pr[0],Gt[1]=Pr[1]}if(Ee.touches[1]&&(Pr=l.projectIntoViewport(Ee.touches[1].clientX,Ee.touches[1].clientY),Gt[2]=Pr[0],Gt[3]=Pr[1]),Ee.touches[2]&&(Pr=l.projectIntoViewport(Ee.touches[2].clientX,Ee.touches[2].clientY),Gt[4]=Pr[0],Gt[5]=Pr[1]),st&&st.unactivate(),l.touchData.cxt){if(Gr={originalEvent:Ee,type:"cxttapend",position:{x:Gt[0],y:Gt[1]}},st?st.emit(Gr):Et.emit(Gr),!l.touchData.cxtDragged){var sr={originalEvent:Ee,type:"cxttap",position:{x:Gt[0],y:Gt[1]}};st?st.emit(sr):Et.emit(sr)}return l.touchData.start&&(l.touchData.start._private.grabbed=!1),l.touchData.cxt=!1,l.touchData.start=null,void l.redraw()}if(!Ee.touches[2]&&Et.boxSelectionEnabled()&&l.touchData.selecting){l.touchData.selecting=!1;var jr=Et.collection(l.getAllInBox(xt[0],xt[1],xt[2],xt[3]));xt[0]=void 0,xt[1]=void 0,xt[2]=void 0,xt[3]=void 0,xt[4]=0,l.redrawHint("select",!0),Et.emit({type:"boxend",originalEvent:Ee,position:{x:Gt[0],y:Gt[1]}}),jr.emit("box").stdFilter(function(bd){return bd.selectable()&&!bd.selected()}).select().emit("boxselect"),jr.nonempty()&&l.redrawHint("eles",!0),l.redraw()}if(st?.unactivate(),Ee.touches[2])l.data.bgActivePosistion=void 0,l.redrawHint("select",!0);else if(!Ee.touches[1]&&!Ee.touches[0]&&!Ee.touches[0]){l.data.bgActivePosistion=void 0,l.redrawHint("select",!0);var hr=l.dragData.touchDragEles;if(null!=st){var Wi=st._private.grabbed;Q(hr),l.redrawHint("drag",!0),l.redrawHint("eles",!0),Wi&&(st.emit("freeon"),hr.emit("free"),l.dragData.didDrag&&(st.emit("dragfreeon"),hr.emit("dragfree"))),s(st,["touchend","tapend","vmouseup","tapdragout"],Ee,{x:Gt[0],y:Gt[1]}),st.unactivate(),l.touchData.start=null}else{var $i=l.findNearestElement(Gt[0],Gt[1],!0,!0);s($i,["touchend","tapend","vmouseup","tapdragout"],Ee,{x:Gt[0],y:Gt[1]})}var cl=l.touchData.startPosition[0]-Gt[0],ha=l.touchData.startPosition[1]-Gt[1],Co=(cl*cl+ha*ha)*cr*cr;l.touchData.singleTouchMoved||(st||Et.$(":selected").unselect(["tapunselect"]),s(st,["tap","vclick"],Ee,{x:Gt[0],y:Gt[1]}),Hn=!1,Ee.timeStamp-an<=Et.multiClickDebounceTime()?(Jn&&clearTimeout(Jn),Hn=!0,an=null,s(st,["dbltap","vdblclick"],Ee,{x:Gt[0],y:Gt[1]})):(Jn=setTimeout(function(){Hn||s(st,["onetap","voneclick"],Ee,{x:Gt[0],y:Gt[1]})},Et.multiClickDebounceTime()),an=Ee.timeStamp)),null!=st&&!l.dragData.didDrag&&st._private.selectable&&Co<l.touchTapThreshold2&&!l.pinching&&("single"===Et.selectionType()?(Et.$(i).unmerge(st).unselect(["tapunselect"]),st.select(["tapselect"])):st.selected()?st.unselect(["tapunselect"]):st.select(["tapselect"]),l.redrawHint("eles",!0)),l.touchData.singleTouchMoved=!0}for(var pa=0;pa<Gt.length;pa++)Dn[pa]=Gt[pa];l.dragData.didDrag=!1,0===Ee.touches.length&&(l.touchData.dragDelta=[],l.touchData.startPosition=null,l.touchData.startGPosition=null,l.touchData.didSelect=!1),Ee.touches.length<2&&(1===Ee.touches.length&&(l.touchData.startGPosition=[Ee.touches[0].clientX,Ee.touches[0].clientY]),l.pinching=!1,l.redrawHint("eles",!0),l.redraw())}},!1),typeof TouchEvent>"u"){var Jt=[],In=function(Ee){return{clientX:Ee.clientX,clientY:Ee.clientY,force:1,identifier:Ee.pointerId,pageX:Ee.pageX,pageY:Ee.pageY,radiusX:Ee.width/2,radiusY:Ee.height/2,screenX:Ee.screenX,screenY:Ee.screenY,target:Ee.target}},Mn=function(Ee){for(var st=0;st<Jt.length;st++)if(Jt[st].event.pointerId===Ee.pointerId)return void Jt.splice(st,1)},ar=function(Ee){Ee.touches=Jt.map(function(st){return st.touch})},Fn=function(Ee){return"mouse"===Ee.pointerType||4===Ee.pointerType};l.registerBinding(l.container,"pointerdown",function(Ut){Fn(Ut)||(Ut.preventDefault(),Jt.push(function(Ee){return{event:Ee,touch:In(Ee)}}(Ut)),ar(Ut),Tt(Ut))}),l.registerBinding(l.container,"pointerup",function(Ut){Fn(Ut)||(Mn(Ut),ar(Ut),nn(Ut))}),l.registerBinding(l.container,"pointercancel",function(Ut){Fn(Ut)||(Mn(Ut),ar(Ut),$t())}),l.registerBinding(l.container,"pointermove",function(Ut){var Ee,st;Fn(Ut)||(Ut.preventDefault(),Ee=Ut,(st=Jt.filter(function(Rt){return Rt.event.pointerId===Ee.pointerId})[0]).event=Ee,st.touch=In(Ee),ar(Ut),Nt(Ut))})}};var Qt={generatePolygon:function(l,i){return this.nodeShapes[l]={renderer:this,name:l,points:i,draw:function(d,h,p,g,w){this.renderer.nodeShapeImpl("polygon",d,h,p,g,w,this.points)},intersectLine:function(d,h,p,g,w,E,x){return Cl(w,E,this.points,d,h,p/2,g/2,x)},checkPoint:function(d,h,p,g,w,E,x){return Sa(d,h,this.points,E,x,g,w,[0,-1],p)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(i,s,d,h,p){this.renderer.nodeShapeImpl(this.name,i,s,d,h,p)},intersectLine:function(i,s,d,h,p,g,w){return function(i,s,d,h,p,g){var w=d-i,E=h-s;w/=p,E/=g;var x=Math.sqrt(w*w+E*E),T=x-1;if(T<0)return[];var k=T/x;return[(d-i)*k+i,(h-s)*k+s]}(p,g,i,s,d/2+w,h/2+w)},checkPoint:function(i,s,d,h,p,g,w){return Ba(i,s,h,p,g,w,d)}}},generateRoundPolygon:function(l,i){for(var s=new Array(2*i.length),d=0;d<i.length/2;d++){var p,h=2*d;p=d<i.length/2-1?2*(d+1):0,s[4*d]=i[h],s[4*d+1]=i[h+1];var g=i[p]-i[h],w=i[p+1]-i[h+1],E=Math.sqrt(g*g+w*w);s[4*d+2]=g/E,s[4*d+3]=w/E}return this.nodeShapes[l]={renderer:this,name:l,points:s,draw:function(T,k,z,W,j){this.renderer.nodeShapeImpl("round-polygon",T,k,z,W,j,this.points)},intersectLine:function(T,k,z,W,j,Q,J){return function(i,s,d,h,p,g,w,E){for(var T,x=[],k=new Array(d.length),z=g/2,W=w/2,j=Fu(g,w),Q=0;Q<d.length/4;Q++){var oe,J;J=0===Q?d.length-2:4*Q-2,oe=4*Q+2;var he=h+z*d[4*Q],pe=p+W*d[4*Q+1],Ae=j/Math.tan(Math.acos(-d[J]*d[oe]-d[J+1]*d[oe+1])/2),Ne=he-Ae*d[J],we=pe-Ae*d[J+1],Ie=he+Ae*d[oe],Ce=pe+Ae*d[oe+1];0===Q?(k[d.length-2]=Ne,k[d.length-1]=we):(k[4*Q-2]=Ne,k[4*Q-1]=we),k[4*Q]=Ie,k[4*Q+1]=Ce;var ke=d[J+1],Pe=-d[J];ke*d[oe]+Pe*d[oe+1]<0&&(ke*=-1,Pe*=-1),0!==(T=Zs(i,s,h,p,Ne+ke*j,we+Pe*j,j)).length&&x.push(T[0],T[1])}for(var Ze=0;Ze<k.length/4;Ze++)0!==(T=qa(i,s,h,p,k[4*Ze],k[4*Ze+1],k[4*Ze+2],k[4*Ze+3],!1)).length&&x.push(T[0],T[1]);if(x.length>2){for(var ze=[x[0],x[1]],je=Math.pow(ze[0]-i,2)+Math.pow(ze[1]-s,2),tt=1;tt<x.length/2;tt++){var at=Math.pow(x[2*tt]-i,2)+Math.pow(x[2*tt+1]-s,2);at<=je&&(ze[0]=x[2*tt],ze[1]=x[2*tt+1],je=at)}return ze}return x}(j,Q,this.points,T,k,z,W)},checkPoint:function(T,k,z,W,j,Q,J){return function(i,s,d,h,p,g,w){for(var E=new Array(d.length),x=g/2,T=w/2,k=Fu(g,w),z=k*k,W=0;W<d.length/4;W++){var Q,j;j=0===W?d.length-2:4*W-2,Q=4*W+2;var J=h+x*d[4*W],oe=p+T*d[4*W+1],pe=k/Math.tan(Math.acos(-d[j]*d[Q]-d[j+1]*d[Q+1])/2),be=J-pe*d[j],Ae=oe-pe*d[j+1],Ne=J+pe*d[Q],we=oe+pe*d[Q+1];E[4*W]=be,E[4*W+1]=Ae,E[4*W+2]=Ne,E[4*W+3]=we;var Ie=d[j+1],Ce=-d[j];Ie*d[Q]+Ce*d[Q+1]<0&&(Ie*=-1,Ce*=-1);var De=Ae+Ce*k;if(Math.pow(be+Ie*k-i,2)+Math.pow(De-s,2)<=z)return!0}return Uo(i,s,E)}(T,k,this.points,Q,J,W,j)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:zo(4,0),draw:function(i,s,d,h,p){this.renderer.nodeShapeImpl(this.name,i,s,d,h,p)},intersectLine:function(i,s,d,h,p,g,w){return un(p,g,i,s,d,h,w)},checkPoint:function(i,s,d,h,p,g,w){var E=Kl(h,p),x=2*E;return!!(Sa(i,s,this.points,g,w,h,p-x,[0,-1],d)||Sa(i,s,this.points,g,w,h-x,p,[0,-1],d)||Ba(i,s,x,x,g-h/2+E,w-p/2+E,d)||Ba(i,s,x,x,g+h/2-E,w-p/2+E,d)||Ba(i,s,x,x,g+h/2-E,w+p/2-E,d)||Ba(i,s,x,x,g-h/2+E,w+p/2-E,d))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:zo(4,0),draw:function(i,s,d,h,p){this.renderer.nodeShapeImpl(this.name,i,s,d,h,p)},generateCutTrianglePts:function(i,s,d,h){var p=this.cornerLength,g=s/2,w=i/2,E=d-w,x=d+w,T=h-g,k=h+g;return{topLeft:[E,T+p,E+p,T,E+p,T+p],topRight:[x-p,T,x,T+p,x-p,T+p],bottomRight:[x,k-p,x-p,k,x-p,k-p],bottomLeft:[E+p,k,E,k-p,E+p,k-p]}},intersectLine:function(i,s,d,h,p,g,w){var E=this.generateCutTrianglePts(d+2*w,h+2*w,i,s),x=[].concat.apply([],[E.topLeft.splice(0,4),E.topRight.splice(0,4),E.bottomRight.splice(0,4),E.bottomLeft.splice(0,4)]);return Cl(p,g,x,i,s)},checkPoint:function(i,s,d,h,p,g,w){if(Sa(i,s,this.points,g,w,h,p-2*this.cornerLength,[0,-1],d)||Sa(i,s,this.points,g,w,h-2*this.cornerLength,p,[0,-1],d))return!0;var E=this.generateCutTrianglePts(h,p,g,w);return Uo(i,s,E.topLeft)||Uo(i,s,E.topRight)||Uo(i,s,E.bottomRight)||Uo(i,s,E.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:zo(4,0),draw:function(i,s,d,h,p){this.renderer.nodeShapeImpl(this.name,i,s,d,h,p)},intersectLine:function(i,s,d,h,p,g,w){var k=this.generateBarrelBezierPts(d+2*w,h+2*w,i,s),z=function(Q){var J=lo({x:Q[0],y:Q[1]},{x:Q[2],y:Q[3]},{x:Q[4],y:Q[5]},.15),oe=lo({x:Q[0],y:Q[1]},{x:Q[2],y:Q[3]},{x:Q[4],y:Q[5]},.5),he=lo({x:Q[0],y:Q[1]},{x:Q[2],y:Q[3]},{x:Q[4],y:Q[5]},.85);return[Q[0],Q[1],J.x,J.y,oe.x,oe.y,he.x,he.y,Q[4],Q[5]]},W=[].concat(z(k.topLeft),z(k.topRight),z(k.bottomRight),z(k.bottomLeft));return Cl(p,g,W,i,s)},generateBarrelBezierPts:function(i,s,d,h){var p=s/2,g=i/2,w=d-g,E=d+g,x=h-p,T=h+p,k=kf(i,s),z=k.heightOffset,W=k.widthOffset,j=k.ctrlPtOffsetPct*i,Q={topLeft:[w,x+z,w+j,x,w+W,x],topRight:[E-W,x,E-j,x,E,x+z],bottomRight:[E,T-z,E-j,T,E-W,T],bottomLeft:[w+W,T,w+j,T,w,T-z]};return Q.topLeft.isTop=!0,Q.topRight.isTop=!0,Q.bottomLeft.isBottom=!0,Q.bottomRight.isBottom=!0,Q},checkPoint:function(i,s,d,h,p,g,w){var E=kf(h,p),T=E.widthOffset;if(Sa(i,s,this.points,g,w,h,p-2*E.heightOffset,[0,-1],d)||Sa(i,s,this.points,g,w,h-2*T,p,[0,-1],d))return!0;for(var k=this.generateBarrelBezierPts(h,p,g,w),z=function(we,Ie,Ce){var ke=Ce[4],Pe=Ce[2],De=Ce[0],He=Ce[5],Re=Ce[1],Ze=Math.min(ke,De),ze=Math.max(ke,De),je=Math.min(He,Re),tt=Math.max(He,Re);if(Ze<=we&&we<=ze&&je<=Ie&&Ie<=tt){var at=function(i,s,d){return[i-2*s+d,2*(s-i),i]}(ke,Pe,De),vt=function(i,s,d,h){var p=s*s-4*i*(d-=h);if(p<0)return[];var g=Math.sqrt(p),w=2*i;return[(-s+g)/w,(-s-g)/w]}(at[0],at[1],at[2],we),rt=vt.filter(function(gt){return 0<=gt&&gt<=1});if(rt.length>0)return rt[0]}return null},W=Object.keys(k),j=0;j<W.length;j++){var J=k[W[j]],oe=z(i,s,J);if(null!=oe){var Ae=ei(J[5],J[3],J[1],oe);if(J.isTop&&Ae<=s||J.isBottom&&s<=Ae)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:zo(4,0),draw:function(i,s,d,h,p){this.renderer.nodeShapeImpl(this.name,i,s,d,h,p)},intersectLine:function(i,s,d,h,p,g,w){var x=s-(h/2+w),z=qa(p,g,i,s,i-(d/2+w),x,i+(d/2+w),x,!1);return z.length>0?z:un(p,g,i,s,d,h,w)},checkPoint:function(i,s,d,h,p,g,w){var E=Kl(h,p),x=2*E;if(Sa(i,s,this.points,g,w,h,p-x,[0,-1],d)||Sa(i,s,this.points,g,w,h-x,p,[0,-1],d))return!0;var T=h/2+2*d,k=p/2+2*d;return!!(Uo(i,s,[g-T,w-k,g-T,w,g+T,w,g+T,w-k])||Ba(i,s,x,x,g+h/2-E,w+p/2-E,d)||Ba(i,s,x,x,g-h/2+E,w+p/2-E,d))}}},registerNodeShapes:function(){var l=this.nodeShapes={},i=this;this.generateEllipse(),this.generatePolygon("triangle",zo(3,0)),this.generateRoundPolygon("round-triangle",zo(3,0)),this.generatePolygon("rectangle",zo(4,0)),l.square=l.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var s=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",s),this.generateRoundPolygon("round-diamond",s),this.generatePolygon("pentagon",zo(5,0)),this.generateRoundPolygon("round-pentagon",zo(5,0)),this.generatePolygon("hexagon",zo(6,0)),this.generateRoundPolygon("round-hexagon",zo(6,0)),this.generatePolygon("heptagon",zo(7,0)),this.generateRoundPolygon("round-heptagon",zo(7,0)),this.generatePolygon("octagon",zo(8,0)),this.generateRoundPolygon("round-octagon",zo(8,0));var d=new Array(20),h=Xl(5,0),p=Xl(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var w=0;w<p.length/2;w++)p[2*w]*=g,p[2*w+1]*=g;for(w=0;w<5;w++)d[4*w]=h[2*w],d[4*w+1]=h[2*w+1],d[4*w+2]=p[2*w],d[4*w+3]=p[2*w+1];d=Pu(d),this.generatePolygon("star",d),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var E=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",E),this.generateRoundPolygon("round-tag",E),l.makePolygon=function(x){var z,k="polygon-"+x.join("$");return(z=this[k])?z:i.generatePolygon(k,x)}}},Kt={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(l){l=l||Cn();var i=this;void 0===i.averageRedrawTime&&(i.averageRedrawTime=0),void 0===i.lastRedrawTime&&(i.lastRedrawTime=0),void 0===i.lastDrawTime&&(i.lastDrawTime=0),i.requestedFrame=!0,i.renderOptions=l},beforeRender:function(l,i){if(!this.destroyed){null==i&&$r("Priority is not optional for beforeRender");var s=this.beforeRenderCallbacks;s.push({fn:l,priority:i}),s.sort(function(d,h){return h.priority-d.priority})}}},Xt=function(i,s,d){for(var h=i.beforeRenderCallbacks,p=0;p<h.length;p++)h[p].fn(s,d)};Kt.startRenderLoop=function(){var l=this,i=l.cy;l.renderLoopStarted||(l.renderLoopStarted=!0,Wl(function d(h){if(!l.destroyed){if(!i.batching())if(l.requestedFrame&&!l.skipFrame){Xt(l,!0,h);var p=yi();l.render(l.renderOptions);var g=l.lastDrawTime=yi();void 0===l.averageRedrawTime&&(l.averageRedrawTime=g-p),void 0===l.redrawCount&&(l.redrawCount=0),l.redrawCount++,void 0===l.redrawTotalTime&&(l.redrawTotalTime=0);var w=g-p;l.redrawTotalTime+=w,l.lastRedrawTime=w,l.averageRedrawTime=l.averageRedrawTime/2+w/2,l.requestedFrame=!1}else Xt(l,!1,h);l.skipFrame=!1,Wl(d)}}))};var wn=function(i){this.init(i)},Yn=wn.prototype;Yn.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Yn.init=function(l){var i=this;i.options=l,i.cy=l.cy;var s=i.container=l.cy.container();if(se){var d=se.document,h=d.head,p="__________cytoscape_stylesheet",g="__________cytoscape_container",w=null!=d.getElementById(p);if(s.className.indexOf(g)<0&&(s.className=(s.className||"")+" "+g),!w){var E=d.createElement("style");E.id=p,E.textContent="."+g+" { position: relative; }",h.insertBefore(E,h.children[0])}"static"===se.getComputedStyle(s).getPropertyValue("position")&&br("A Cytoscape container has style position:static and so can not use UI extensions properly")}i.selection=[void 0,void 0,void 0,void 0,0],i.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],i.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},i.dragData={possibleDragElements:[]},i.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},i.redraws=0,i.showFps=l.showFps,i.debug=l.debug,i.hideEdgesOnViewport=l.hideEdgesOnViewport,i.textureOnViewport=l.textureOnViewport,i.wheelSensitivity=l.wheelSensitivity,i.motionBlurEnabled=l.motionBlur,i.forcedPixelRatio=Xe(l.pixelRatio)?l.pixelRatio:null,i.motionBlur=l.motionBlur,i.motionBlurOpacity=l.motionBlurOpacity,i.motionBlurTransparency=1-i.motionBlurOpacity,i.motionBlurPxRatio=1,i.mbPxRBlurry=1,i.minMbLowQualFrames=4,i.fullQualityMb=!1,i.clearedForMotionBlur=[],i.desktopTapThreshold=l.desktopTapThreshold,i.desktopTapThreshold2=l.desktopTapThreshold*l.desktopTapThreshold,i.touchTapThreshold=l.touchTapThreshold,i.touchTapThreshold2=l.touchTapThreshold*l.touchTapThreshold,i.tapholdDuration=500,i.bindings=[],i.beforeRenderCallbacks=[],i.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},i.registerNodeShapes(),i.registerArrowShapes(),i.registerCalculationListeners()},Yn.notify=function(l,i){var s=this,d=s.cy;if(!this.destroyed){if("init"===l)return void s.load();if("destroy"===l)return void s.destroy();("add"===l||"remove"===l||"move"===l&&d.hasCompoundNodes()||"load"===l||"zorder"===l||"mount"===l)&&s.invalidateCachedZSortedEles(),"viewport"===l&&s.redrawHint("select",!0),("load"===l||"resize"===l||"mount"===l)&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container)),s.redrawHint("eles",!0),s.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Yn.destroy=function(){var l=this;l.destroyed=!0,l.cy.stopAnimationLoop();for(var i=0;i<l.bindings.length;i++){var s=l.bindings[i],h=s.target;(h.off||h.removeEventListener).apply(h,s.args)}if(l.bindings=[],l.beforeRenderCallbacks=[],l.onUpdateEleCalcsFns=[],l.removeObserver&&l.removeObserver.disconnect(),l.styleObserver&&l.styleObserver.disconnect(),l.resizeObserver&&l.resizeObserver.disconnect(),l.labelCalcDiv)try{document.body.removeChild(l.labelCalcDiv)}catch{}},Yn.isHeadless=function(){return!1},[Ti,bt,zt,Wt,Qt,Kt].forEach(function(l){Sn(Yn,l)});var or=1e3/60,Ci_setupDequeueing=function(i){return function(){var d=this,h=this.renderer;if(!d.dequeueingSetup){d.dequeueingSetup=!0;var p=R.default(function(){h.redrawHint("eles",!0),h.redrawHint("drag",!0),h.redraw()},i.deqRedrawThreshold);h.beforeRender(function(x,T){var k=yi(),z=h.averageRedrawTime,W=h.lastRedrawTime,j=[],Q=h.cy.extent(),J=h.getPixelRatio();for(x||h.flushRenderedStyleQueue();;){var oe=yi(),he=oe-k,pe=oe-T;if(W<or){if(pe>=i.deqFastCost*(or-(x?z:0)))break}else if(x){if(he>=i.deqCost*W||he>=i.deqAvgCost*z)break}else if(pe>=i.deqNoDrawCost*or)break;var Ae=i.deq(d,J,Q);if(!(Ae.length>0))break;for(var Ne=0;Ne<Ae.length;Ne++)j.push(Ae[Ne])}j.length>0&&(i.onDeqd(d,j),!x&&i.shouldRedraw(d,j,J,Q)&&p())},(i.priority||Mc)(d))}}},pi=function(){function l(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vs;X(this,l),this.idsByKey=new _t,this.keyForId=new _t,this.cachesByLvl=new _t,this.lvls=[],this.getKey=i,this.doesEleInvalidateKey=s}return fe(l,[{key:"getIdsFor",value:function(s){null==s&&$r("Can not get id list for null key");var d=this.idsByKey,h=this.idsByKey.get(s);return h||(h=new ms,d.set(s,h)),h}},{key:"addIdForKey",value:function(s,d){null!=s&&this.getIdsFor(s).add(d)}},{key:"deleteIdForKey",value:function(s,d){null!=s&&this.getIdsFor(s).delete(d)}},{key:"getNumberOfIdsForKey",value:function(s){return null==s?0:this.getIdsFor(s).size}},{key:"updateKeyMappingFor",value:function(s){var d=s.id(),h=this.keyForId.get(d),p=this.getKey(s);this.deleteIdForKey(h,d),this.addIdForKey(p,d),this.keyForId.set(d,p)}},{key:"deleteKeyMappingFor",value:function(s){var d=s.id(),h=this.keyForId.get(d);this.deleteIdForKey(h,d),this.keyForId.delete(d)}},{key:"keyHasChangedFor",value:function(s){var d=s.id();return this.keyForId.get(d)!==this.getKey(s)}},{key:"isInvalid",value:function(s){return this.keyHasChangedFor(s)||this.doesEleInvalidateKey(s)}},{key:"getCachesAt",value:function(s){var d=this.cachesByLvl,h=this.lvls,p=d.get(s);return p||(p=new _t,d.set(s,p),h.push(s)),p}},{key:"getCache",value:function(s,d){return this.getCachesAt(d).get(s)}},{key:"get",value:function(s,d){var h=this.getKey(s),p=this.getCache(h,d);return null!=p&&this.updateKeyMappingFor(s),p}},{key:"getForCachedKey",value:function(s,d){var h=this.keyForId.get(s.id());return this.getCache(h,d)}},{key:"hasCache",value:function(s,d){return this.getCachesAt(d).has(s)}},{key:"has",value:function(s,d){var h=this.getKey(s);return this.hasCache(h,d)}},{key:"setCache",value:function(s,d,h){h.key=s,this.getCachesAt(d).set(s,h)}},{key:"set",value:function(s,d,h){var p=this.getKey(s);this.setCache(p,d,h),this.updateKeyMappingFor(s)}},{key:"deleteCache",value:function(s,d){this.getCachesAt(d).delete(s)}},{key:"delete",value:function(s,d){var h=this.getKey(s);this.deleteCache(h,d)}},{key:"invalidateKey",value:function(s){var d=this;this.lvls.forEach(function(h){return d.deleteCache(s,h)})}},{key:"invalidate",value:function(s){var d=s.id(),h=this.keyForId.get(d);this.deleteKeyMappingFor(s);var p=this.doesEleInvalidateKey(s);return p&&this.invalidateKey(h),p||0===this.getNumberOfIdsForKey(h)}}]),l}(),Ei={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},oc=qr({getKey:null,doesEleInvalidateKey:vs,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Au,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),$a=function(i,s){var d=this;d.renderer=i,d.onDequeues=[];var h=oc(s);Sn(d,h),d.lookup=new pi(h.getKey,h.doesEleInvalidateKey),d.setupDequeueing()},Wo=$a.prototype;Wo.reasons=Ei,Wo.getTextureQueue=function(l){var i=this;return i.eleImgCaches=i.eleImgCaches||{},i.eleImgCaches[l]=i.eleImgCaches[l]||[]},Wo.getRetiredTextureQueue=function(l){var s=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return s[l]=s[l]||[]},Wo.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new N.default(function(s,d){return d.reqs-s.reqs})},Wo.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Wo.getElement=function(l,i,s,d,h){var p=this,g=this.renderer,w=g.cy.zoom(),E=this.lookup;if(!i||0===i.w||0===i.h||isNaN(i.w)||isNaN(i.h)||!l.visible()||l.removed()||!p.allowEdgeTxrCaching&&l.isEdge()||!p.allowParentTxrCaching&&l.isParent())return null;if(null==d&&(d=Math.ceil(Oi(w*s))),d<-4)d=-4;else if(w>=7.99||d>3)return null;var x=Math.pow(2,d),T=i.h*x,k=i.w*x,z=g.eleTextBiggerThanMin(l,x);if(!this.isVisible(l,z))return null;var j,W=E.get(l,d);if(W&&W.invalidated&&(W.invalidated=!1,W.texture.invalidatedWidth-=W.width),W)return W;if(j=T<=25?25:T<=50?50:50*Math.ceil(T/50),T>1024||k>1024)return null;var Q=p.getTextureQueue(j),J=Q[Q.length-2],oe=function(){return p.recycleTexture(j,k)||p.addTexture(j,k)};J||(J=Q[Q.length-1]),J||(J=oe()),J.width-J.usedWidth<k&&(J=oe());for(var Ne,he=function(ze){return ze&&ze.scaledLabelShown===z},pe=h&&h===Ei.dequeue,be=h&&h===Ei.highQuality,Ae=h&&h===Ei.downscale,we=d+1;we<=3;we++){var Ie=E.get(l,we);if(Ie){Ne=Ie;break}}var Ce=Ne&&Ne.level===d+1?Ne:null,ke=function(){J.context.drawImage(Ce.texture.canvas,Ce.x,0,Ce.width,Ce.height,J.usedWidth,0,k,T)};if(J.context.setTransform(1,0,0,1,0,0),J.context.clearRect(J.usedWidth,0,k,j),he(Ce))ke();else if(he(Ne)){if(!be)return p.queueElement(l,Ne.level-1),Ne;for(var Pe=Ne.level;Pe>d;Pe--)Ce=p.getElement(l,i,s,Pe,Ei.downscale);ke()}else{var De;if(!pe&&!be&&!Ae)for(var He=d-1;He>=-4;He--){var Re=E.get(l,He);if(Re){De=Re;break}}if(he(De))return p.queueElement(l,d),De;J.context.translate(J.usedWidth,0),J.context.scale(x,x),this.drawElement(J.context,l,i,z,!1),J.context.scale(1/x,1/x),J.context.translate(-J.usedWidth,0)}return W={x:J.usedWidth,texture:J,level:d,scale:x,width:k,height:T,scaledLabelShown:z},J.usedWidth+=Math.ceil(k+8),J.eleCaches.push(W),E.set(l,d,W),p.checkTextureFullness(J),W},Wo.invalidateElements=function(l){for(var i=0;i<l.length;i++)this.invalidateElement(l[i])},Wo.invalidateElement=function(l){var i=this,s=i.lookup,d=[];if(s.isInvalid(l)){for(var p=-4;p<=3;p++){var g=s.getForCachedKey(l,p);g&&d.push(g)}if(s.invalidate(l))for(var E=0;E<d.length;E++){var x=d[E],T=x.texture;T.invalidatedWidth+=x.width,x.invalidated=!0,i.checkTextureUtility(T)}i.removeFromQueue(l)}},Wo.checkTextureUtility=function(l){l.invalidatedWidth>=.2*l.width&&this.retireTexture(l)},Wo.checkTextureFullness=function(l){var s=this.getTextureQueue(l.height);l.usedWidth/l.width>.8&&l.fullnessChecks>=10?Pa(s,l):l.fullnessChecks++},Wo.retireTexture=function(l){var s=l.height,d=this.getTextureQueue(s),h=this.lookup;Pa(d,l),l.retired=!0;for(var p=l.eleCaches,g=0;g<p.length;g++){var w=p[g];h.deleteCache(w.key,w.level)}So(p),this.getRetiredTextureQueue(s).push(l)},Wo.addTexture=function(l,i){var h={};return this.getTextureQueue(l).push(h),h.eleCaches=[],h.height=l,h.width=Math.max(1024,i),h.usedWidth=0,h.invalidatedWidth=0,h.fullnessChecks=0,h.canvas=this.renderer.makeOffscreenCanvas(h.width,h.height),h.context=h.canvas.getContext("2d"),h},Wo.recycleTexture=function(l,i){for(var d=this.getTextureQueue(l),h=this.getRetiredTextureQueue(l),p=0;p<h.length;p++){var g=h[p];if(g.width>=i)return g.retired=!1,g.usedWidth=0,g.invalidatedWidth=0,g.fullnessChecks=0,So(g.eleCaches),g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(0,0,g.width,g.height),Pa(h,g),d.push(g),g}},Wo.queueElement=function(l,i){var d=this.getElementQueue(),h=this.getElementKeyToQueue(),p=this.getKey(l),g=h[p];if(g)g.level=Math.max(g.level,i),g.eles.merge(l),g.reqs++,d.updateItem(g);else{var w={eles:l.spawn().merge(l),level:i,reqs:1,key:p};d.push(w),h[p]=w}},Wo.dequeue=function(l){for(var i=this,s=i.getElementQueue(),d=i.getElementKeyToQueue(),h=[],p=i.lookup,g=0;g<1&&s.size()>0;g++){var w=s.pop(),E=w.key,x=w.eles[0],T=p.hasCache(x,w.level);if(d[E]=null,!T){h.push(w);var k=i.getBoundingBox(x);i.getElement(x,k,l,w.level,Ei.dequeue)}}return h},Wo.removeFromQueue=function(l){var s=this.getElementQueue(),d=this.getElementKeyToQueue(),h=this.getKey(l),p=d[h];null!=p&&(1===p.eles.length?(p.reqs=Iu,s.updateItem(p),s.pop(),d[h]=null):p.eles.unmerge(l))},Wo.onDequeue=function(l){this.onDequeues.push(l)},Wo.offDequeue=function(l){Pa(this.onDequeues,l)},Wo.setupDequeueing=Ci_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(i,s,d){return i.dequeue(s,d)},onDeqd:function(i,s){for(var d=0;d<i.onDequeues.length;d++)(0,i.onDequeues[d])(s)},shouldRedraw:function(i,s,d,h){for(var p=0;p<s.length;p++)for(var g=s[p].eles,w=0;w<g.length;w++){var E=g[w].boundingBox();if($n(E,h))return!0}return!1},priority:function(i){return i.renderer.beforeRenderPriorities.eleTxrDeq}});var K0=function(i){var s=this,d=s.renderer=i,h=d.cy;s.layersByLevel={},s.firstGet=!0,s.lastInvalidationTime=yi()-500,s.skipping=!1,s.eleTxrDeqs=h.collection(),s.scheduleElementRefinement=R.default(function(){s.refineElementTextures(s.eleTxrDeqs),s.eleTxrDeqs.unmerge(s.eleTxrDeqs)},50),d.beforeRender(function(g,w){s.skipping=w-s.lastInvalidationTime<=250},d.beforeRenderPriorities.lyrTxrSkip),s.layersQueue=new N.default(function(w,E){return E.reqs-w.reqs}),s.setupDequeueing()},fa=K0.prototype,pm=0,Z0=Math.pow(2,53)-1;fa.makeLayer=function(l,i){var s=Math.pow(2,i),d=Math.ceil(l.w*s),h=Math.ceil(l.h*s),p=this.renderer.makeOffscreenCanvas(d,h),g={id:pm=++pm%Z0,bb:l,level:i,width:d,height:h,canvas:p,context:p.getContext("2d"),eles:[],elesQueue:[],reqs:0},w=g.context,E=-g.bb.x1,x=-g.bb.y1;return w.scale(s,s),w.translate(E,x),g},fa.getLayers=function(l,i,s){var d=this,g=d.renderer.cy.zoom(),w=d.firstGet;if(d.firstGet=!1,null==s)if((s=Math.ceil(Oi(g*i)))<-4)s=-4;else if(g>=3.99||s>2)return null;d.validateLayersElesOrdering(s,l);var k,W,E=d.layersByLevel,x=Math.pow(2,s),T=E[s]=E[s]||[];if(d.levelIsComplete(s,l))return T;!function(){var ke=function(Ze){if(d.validateLayersElesOrdering(Ze,l),d.levelIsComplete(Ze,l))return W=E[Ze],!0},Pe=function(Ze){if(!W)for(var ze=s+Ze;-4<=ze&&ze<=2&&!ke(ze);ze+=Ze);};Pe(1),Pe(-1);for(var De=T.length-1;De>=0;De--){var He=T[De];He.invalid&&Pa(T,He)}}();var J=function(ke){var Pe=(ke=ke||{}).after;if(function(){if(!k){k=bi();for(var ke=0;ke<l.length;ke++)bl(k,l[ke].boundingBox())}}(),k.w*x*(k.h*x)>16e6)return null;var He=d.makeLayer(k,s);if(null!=Pe){var Re=T.indexOf(Pe)+1;T.splice(Re,0,He)}else(void 0===ke.insert||ke.insert)&&T.unshift(He);return He};if(d.skipping&&!w)return null;for(var oe=null,he=l.length/1,pe=!w,be=0;be<l.length;be++){var Ae=l[be],Ne=Ae._private.rscratch,we=Ne.imgLayerCaches=Ne.imgLayerCaches||{},Ie=we[s];if(Ie)oe=Ie;else{if((!oe||oe.eles.length>=he||!Ac(oe.bb,Ae.boundingBox()))&&!(oe=J({insert:!0,after:oe})))return null;W||pe?d.queueLayer(oe,Ae):d.drawEleInLayer(oe,Ae,s,i),oe.eles.push(Ae),we[s]=oe}}return W||(pe?null:T)},fa.getEleLevelForLayerLevel=function(l,i){return l},fa.drawEleInLayer=function(l,i,s,d){var p=this.renderer,g=l.context,w=i.boundingBox();0===w.w||0===w.h||!i.visible()||(s=this.getEleLevelForLayerLevel(s,d),p.setImgSmoothing(g,!1),p.drawCachedElement(g,i,null,null,s,!0),p.setImgSmoothing(g,!0))},fa.levelIsComplete=function(l,i){var d=this.layersByLevel[l];if(!d||0===d.length)return!1;for(var h=0,p=0;p<d.length;p++){var g=d[p];if(g.reqs>0||g.invalid)return!1;h+=g.eles.length}return h===i.length},fa.validateLayersElesOrdering=function(l,i){var s=this.layersByLevel[l];if(s)for(var d=0;d<s.length;d++){for(var h=s[d],p=-1,g=0;g<i.length;g++)if(h.eles[0]===i[g]){p=g;break}if(p<0)this.invalidateLayer(h);else{var w=p;for(g=0;g<h.eles.length;g++)if(h.eles[g]!==i[w+g]){this.invalidateLayer(h);break}}}},fa.updateElementsInLayers=function(l,i){for(var d=gn(l[0]),h=0;h<l.length;h++)for(var p=d?null:l[h],g=d?l[h]:l[h].ele,w=g._private.rscratch,E=w.imgLayerCaches=w.imgLayerCaches||{},x=-4;x<=2;x++){var T=E[x];T&&(p&&this.getEleLevelForLayerLevel(T.level)!==p.level||i(T,g,p))}},fa.haveLayers=function(){for(var i=!1,s=-4;s<=2;s++){var d=this.layersByLevel[s];if(d&&d.length>0){i=!0;break}}return i},fa.invalidateElements=function(l){var i=this;0!==l.length&&(i.lastInvalidationTime=yi(),0!==l.length&&i.haveLayers()&&i.updateElementsInLayers(l,function(d,h,p){i.invalidateLayer(d)}))},fa.invalidateLayer=function(l){if(this.lastInvalidationTime=yi(),!l.invalid){var i=l.level,s=l.eles;Pa(this.layersByLevel[i],l),l.elesQueue=[],l.invalid=!0,l.replacement&&(l.replacement.invalid=!0);for(var h=0;h<s.length;h++){var p=s[h]._private.rscratch.imgLayerCaches;p&&(p[i]=null)}}},fa.refineElementTextures=function(l){var i=this;i.updateElementsInLayers(l,function(d,h,p){var g=d.replacement;if(g||((g=d.replacement=i.makeLayer(d.bb,d.level)).replaces=d,g.eles=d.eles),!g.reqs)for(var w=0;w<g.eles.length;w++)i.queueLayer(g,g.eles[w])})},fa.enqueueElementRefinement=function(l){this.eleTxrDeqs.merge(l),this.scheduleElementRefinement()},fa.queueLayer=function(l,i){var d=this.layersQueue,h=l.elesQueue,p=h.hasId=h.hasId||{};if(!l.replacement){if(i){if(p[i.id()])return;h.push(i),p[i.id()]=!0}l.reqs?(l.reqs++,d.updateItem(l)):(l.reqs=1,d.push(l))}},fa.dequeue=function(l){for(var i=this,s=i.layersQueue,d=[],h=0;h<1&&0!==s.size();){var p=s.peek();if(p.replacement)s.pop();else if(p.replaces&&p!==p.replaces.replacement)s.pop();else if(p.invalid)s.pop();else{var g=p.elesQueue.shift();g&&(i.drawEleInLayer(p,g,p.level,l),h++),0===d.length&&d.push(!0),0===p.elesQueue.length&&(s.pop(),p.reqs=0,p.replaces&&i.applyLayerReplacement(p),i.requestRedraw())}}return d},fa.applyLayerReplacement=function(l){var s=this.layersByLevel[l.level],d=l.replaces,h=s.indexOf(d);if(!(h<0||d.invalid)){s[h]=l;for(var p=0;p<l.eles.length;p++){var g=l.eles[p]._private,w=g.imgLayerCaches=g.imgLayerCaches||{};w&&(w[l.level]=l)}this.requestRedraw()}},fa.requestRedraw=R.default(function(){var l=this.renderer;l.redrawHint("eles",!0),l.redrawHint("drag",!0),l.redraw()},100),fa.setupDequeueing=Ci_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(i,s){return i.dequeue(s)},onDeqd:Mc,shouldRedraw:Au,priority:function(i){return i.renderer.beforeRenderPriorities.lyrTxrDeq}});var Ag,fh={};function q0(l,i){for(var s=0;s<i.length;s++){var d=i[s];l.lineTo(d.x,d.y)}}function gm(l,i,s){for(var d,h=0;h<i.length;h++){var p=i[h];0===h&&(d=p),l.lineTo(p.x,p.y)}l.quadraticCurveTo(s.x,s.y,d.x,d.y)}function Q0(l,i,s){l.beginPath&&l.beginPath();for(var d=i,h=0;h<d.length;h++)l.lineTo((p=d[h]).x,p.y);var g=s,w=s[0];for(l.moveTo(w.x,w.y),h=1;h<g.length;h++){var p;l.lineTo((p=g[h]).x,p.y)}l.closePath&&l.closePath()}function vm(l,i,s,d,h){l.beginPath&&l.beginPath(),l.arc(s,d,h,0,2*Math.PI,!1);var p=i,g=p[0];l.moveTo(g.x,g.y);for(var w=0;w<p.length;w++){var E=p[w];l.lineTo(E.x,E.y)}l.closePath&&l.closePath()}function qx(l,i,s,d){l.arc(i,s,d,0,2*Math.PI,!1)}fh.arrowShapeImpl=function(l){return(Ag||(Ag={polygon:q0,"triangle-backcurve":gm,"triangle-tee":Q0,"circle-triangle":vm,"triangle-cross":Q0,circle:qx}))[l]};var Fl={drawElement:function(l,i,s,d,h,p){i.isNode()?this.drawNode(l,i,s,d,h,p):this.drawEdge(l,i,s,d,h,p)},drawElementOverlay:function(l,i){i.isNode()?this.drawNodeOverlay(l,i):this.drawEdgeOverlay(l,i)},drawElementUnderlay:function(l,i){i.isNode()?this.drawNodeUnderlay(l,i):this.drawEdgeUnderlay(l,i)},drawCachedElementPortion:function(l,i,s,d,h,p,g,w){var E=this,x=s.getBoundingBox(i);if(0!==x.w&&0!==x.h){var T=s.getElement(i,x,d,h,p);if(null!=T){var k=w(E,i);if(0===k)return;var oe,he,pe,be,Ae,Ie,z=g(E,i),W=x.x1,j=x.y1,Q=x.w,J=x.h;if(0!==z){var Ne=s.getRotationPoint(i);l.translate(pe=Ne.x,be=Ne.y),l.rotate(z),(Ae=E.getImgSmoothing(l))||E.setImgSmoothing(l,!0);var we=s.getRotationOffset(i);oe=we.x,he=we.y}else oe=W,he=j;1!==k&&(l.globalAlpha=(Ie=l.globalAlpha)*k),l.drawImage(T.texture.canvas,T.x,0,T.width,T.height,oe,he,Q,J),1!==k&&(l.globalAlpha=Ie),0!==z&&(l.rotate(-z),l.translate(-pe,-be),Ae||E.setImgSmoothing(l,!1))}else s.drawElement(l,i)}}},J0=function(){return 0},Ng=function(i,s){return i.getTextAngle(s,null)},Qx=function(i,s){return i.getTextAngle(s,"source")},Jx=function(i,s){return i.getTextAngle(s,"target")},Og=function(i,s){return s.effectiveOpacity()},mm=function(i,s){return s.pstyle("text-opacity").pfValue*s.effectiveOpacity()};Fl.drawCachedElement=function(l,i,s,d,h,p){var g=this,w=g.data,E=w.eleTxrCache,x=w.lblTxrCache,T=w.slbTxrCache,k=w.tlbTxrCache,z=i.boundingBox(),W=!0===p?E.reasons.highQuality:null;if(0!==z.w&&0!==z.h&&i.visible()&&(!d||$n(z,d))){var j=i.isEdge(),Q=i.element()._private.rscratch.badLine;g.drawElementUnderlay(l,i),g.drawCachedElementPortion(l,i,E,s,h,W,J0,Og),(!j||!Q)&&g.drawCachedElementPortion(l,i,x,s,h,W,Ng,mm),j&&!Q&&(g.drawCachedElementPortion(l,i,T,s,h,W,Qx,mm),g.drawCachedElementPortion(l,i,k,s,h,W,Jx,mm)),g.drawElementOverlay(l,i)}},Fl.drawElements=function(l,i){for(var d=0;d<i.length;d++)this.drawElement(l,i[d])},Fl.drawCachedElements=function(l,i,s,d){for(var p=0;p<i.length;p++)this.drawCachedElement(l,i[p],s,d)},Fl.drawCachedNodes=function(l,i,s,d){for(var p=0;p<i.length;p++){var g=i[p];g.isNode()&&this.drawCachedElement(l,g,s,d)}},Fl.drawLayeredElements=function(l,i,s,d){var p=this.data.lyrTxrCache.getLayers(i,s);if(p)for(var g=0;g<p.length;g++){var w=p[g],E=w.bb;0===E.w||0===E.h||l.drawImage(w.canvas,E.x1,E.y1,E.w,E.h)}else this.drawCachedElements(l,i,s,d)};var ac={drawEdge:function(l,i,s){var d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,w=i._private.rscratch;if((!p||i.visible())&&!w.badLine&&null!=w.allpts&&!isNaN(w.allpts[0])){var E;s&&l.translate(-(E=s).x1,-E.y1);var x=p?i.pstyle("opacity").value:1,T=p?i.pstyle("line-opacity").value:1,k=i.pstyle("curve-style").value,z=i.pstyle("line-style").value,W=i.pstyle("width").pfValue,j=i.pstyle("line-cap").value,Q=x*T,J=x*T,oe=function(){var De=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;"straight-triangle"===k?(g.eleStrokeStyle(l,i,De),g.drawEdgeTrianglePath(i,l,w.allpts)):(l.lineWidth=W,l.lineCap=j,g.eleStrokeStyle(l,i,De),g.drawEdgePath(i,l,w.allpts,z),l.lineCap="butt")},be=function(){g.drawArrowheads(l,i,arguments.length>0&&void 0!==arguments[0]?arguments[0]:J)};if(l.lineJoin="round","yes"===i.pstyle("ghost").value){var we=i.pstyle("ghost-offset-x").pfValue,Ie=i.pstyle("ghost-offset-y").pfValue,Ce=i.pstyle("ghost-opacity").value,ke=Q*Ce;l.translate(we,Ie),oe(ke),be(ke),l.translate(-we,-Ie)}h&&g.drawEdgeUnderlay(l,i),oe(),be(),h&&g.drawEdgeOverlay(l,i),g.drawElementText(l,i,null,d),s&&l.translate(E.x1,E.y1)}}},eb=function(i){if(!["overlay","underlay"].includes(i))throw new Error("Invalid state");return function(s,d){if(d.visible()){var h=d.pstyle("".concat(i,"-opacity")).value;if(0!==h){var p=this,g=p.usePaths(),w=d._private.rscratch,x=2*d.pstyle("".concat(i,"-padding")).pfValue,T=d.pstyle("".concat(i,"-color")).value;s.lineWidth=x,s.lineCap="self"!==w.edgeType||g?"round":"butt",p.colorStrokeStyle(s,T[0],T[1],T[2],h),p.drawEdgePath(d,s,w.allpts,"solid")}}}};ac.drawEdgeOverlay=eb("overlay"),ac.drawEdgeUnderlay=eb("underlay"),ac.drawEdgePath=function(l,i,s,d){var g,h=l._private.rscratch,p=i,w=!1,E=this.usePaths(),x=l.pstyle("line-dash-pattern").pfValue,T=l.pstyle("line-dash-offset").pfValue;if(E){var k=s.join("$");h.pathCacheKey&&h.pathCacheKey===k?(g=i=h.pathCache,w=!0):(g=i=new Path2D,h.pathCacheKey=k,h.pathCache=g)}if(p.setLineDash)switch(d){case"dotted":p.setLineDash([1,1]);break;case"dashed":p.setLineDash(x),p.lineDashOffset=T;break;case"solid":p.setLineDash([])}if(!w&&!h.badLine)switch(i.beginPath&&i.beginPath(),i.moveTo(s[0],s[1]),h.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var W=2;W+3<s.length;W+=4)i.quadraticCurveTo(s[W],s[W+1],s[W+2],s[W+3]);break;case"straight":case"segments":case"haystack":for(var j=2;j+1<s.length;j+=2)i.lineTo(s[j],s[j+1])}i=p,E?i.stroke(g):i.stroke(),i.setLineDash&&i.setLineDash([])},ac.drawEdgeTrianglePath=function(l,i,s){i.fillStyle=i.strokeStyle;for(var d=l.pstyle("width").pfValue,h=0;h+1<s.length;h+=2){var p=[s[h+2]-s[h],s[h+3]-s[h+1]],g=Math.sqrt(p[0]*p[0]+p[1]*p[1]),w=[p[1]/g,-p[0]/g],E=[w[0]*d/2,w[1]*d/2];i.beginPath(),i.moveTo(s[h]-E[0],s[h+1]-E[1]),i.lineTo(s[h]+E[0],s[h+1]+E[1]),i.lineTo(s[h+2],s[h+3]),i.closePath(),i.fill()}},ac.drawArrowheads=function(l,i,s){var d=i._private.rscratch,h="haystack"===d.edgeType;h||this.drawArrowhead(l,i,"source",d.arrowStartX,d.arrowStartY,d.srcArrowAngle,s),this.drawArrowhead(l,i,"mid-target",d.midX,d.midY,d.midtgtArrowAngle,s),this.drawArrowhead(l,i,"mid-source",d.midX,d.midY,d.midsrcArrowAngle,s),h||this.drawArrowhead(l,i,"target",d.arrowEndX,d.arrowEndY,d.tgtArrowAngle,s)},ac.drawArrowhead=function(l,i,s,d,h,p,g){if(!(isNaN(d)||null==d||isNaN(h)||null==h||isNaN(p)||null==p)){var w=this,E=i.pstyle(s+"-arrow-shape").value;if("none"!==E){var x="hollow"===i.pstyle(s+"-arrow-fill").value?"both":"filled",T=i.pstyle(s+"-arrow-fill").value,k=i.pstyle("width").pfValue,z=i.pstyle("opacity").value;void 0===g&&(g=z);var W=l.globalCompositeOperation;(1!==g||"hollow"===T)&&(l.globalCompositeOperation="destination-out",w.colorFillStyle(l,255,255,255,1),w.colorStrokeStyle(l,255,255,255,1),w.drawArrowShape(i,l,x,k,E,d,h,p),l.globalCompositeOperation=W);var j=i.pstyle(s+"-arrow-color").value;w.colorFillStyle(l,j[0],j[1],j[2],g),w.colorStrokeStyle(l,j[0],j[1],j[2],g),w.drawArrowShape(i,l,T,k,E,d,h,p)}}},ac.drawArrowShape=function(l,i,s,d,h,p,g,w){var k,E=this,x=this.usePaths()&&"triangle-cross"!==h,T=!1,z=i,W={x:p,y:g},j=l.pstyle("arrow-scale").value,Q=this.getArrowWidth(d,j),J=E.arrowShapes[h];if(x){var oe=E.arrowPathCache=E.arrowPathCache||[],he=Za(h),pe=oe[he];null!=pe?(k=i=pe,T=!0):(k=i=new Path2D,oe[he]=k)}T||(i.beginPath&&i.beginPath(),x?J.draw(i,1,0,{x:0,y:0},1):J.draw(i,Q,w,W,d),i.closePath&&i.closePath()),i=z,x&&(i.translate(p,g),i.rotate(w),i.scale(Q,Q)),("filled"===s||"both"===s)&&(x?i.fill(k):i.fill()),("hollow"===s||"both"===s)&&(i.lineWidth=(J.matchEdgeWidth?d:1)/(x?Q:1),i.lineJoin="miter",x?i.stroke(k):i.stroke()),x&&(i.scale(1/Q,1/Q),i.rotate(-w),i.translate(-p,-g))};var ym={safeDrawImage:function(l,i,s,d,h,p,g,w,E,x){if(!(h<=0||p<=0||E<=0||x<=0))try{l.drawImage(i,s,d,h,p,g,w,E,x)}catch(T){br(T)}},drawInscribedImage:function(l,i,s,d,h){var p=this,g=s.position(),w=g.x,E=g.y,x=s.cy().style(),T=x.getIndexedStyle.bind(x),k=T(s,"background-fit","value",d),z=T(s,"background-repeat","value",d),W=s.width(),j=s.height(),Q=2*s.padding(),J=W+("inner"===T(s,"background-width-relative-to","value",d)?0:Q),oe=j+("inner"===T(s,"background-height-relative-to","value",d)?0:Q),he=s._private.rscratch,be="node"===T(s,"background-clip","value",d),Ae=T(s,"background-image-opacity","value",d)*h,Ne=T(s,"background-image-smoothing","value",d),we=i.width||i.cachedW,Ie=i.height||i.cachedH;(null==we||null==Ie)&&(document.body.appendChild(i),we=i.cachedW=i.width||i.offsetWidth,Ie=i.cachedH=i.height||i.offsetHeight,document.body.removeChild(i));var Ce=we,ke=Ie;if("auto"!==T(s,"background-width","value",d)&&(Ce="%"===T(s,"background-width","units",d)?T(s,"background-width","pfValue",d)*J:T(s,"background-width","pfValue",d)),"auto"!==T(s,"background-height","value",d)&&(ke="%"===T(s,"background-height","units",d)?T(s,"background-height","pfValue",d)*oe:T(s,"background-height","pfValue",d)),0!==Ce&&0!==ke){if("contain"===k)Ce*=Pe=Math.min(J/Ce,oe/ke),ke*=Pe;else if("cover"===k){var Pe;Ce*=Pe=Math.max(J/Ce,oe/ke),ke*=Pe}var De=w-J/2,He=T(s,"background-position-x","units",d),Re=T(s,"background-position-x","pfValue",d);De+="%"===He?(J-Ce)*Re:Re;var Ze=T(s,"background-offset-x","units",d),ze=T(s,"background-offset-x","pfValue",d);De+="%"===Ze?(J-Ce)*ze:ze;var je=E-oe/2,tt=T(s,"background-position-y","units",d),at=T(s,"background-position-y","pfValue",d);je+="%"===tt?(oe-ke)*at:at;var vt=T(s,"background-offset-y","units",d),rt=T(s,"background-offset-y","pfValue",d);je+="%"===vt?(oe-ke)*rt:rt,he.pathCache&&(De-=w,je-=E,w=0,E=0);var gt=l.globalAlpha;l.globalAlpha=Ae;var It=p.getImgSmoothing(l),At=!1;if("no"===Ne&&It?(p.setImgSmoothing(l,!1),At=!0):"yes"===Ne&&!It&&(p.setImgSmoothing(l,!0),At=!0),"no-repeat"===z)be&&(l.save(),he.pathCache?l.clip(he.pathCache):(p.nodeShapes[p.getNodeShape(s)].draw(l,w,E,J,oe),l.clip())),p.safeDrawImage(l,i,0,0,we,Ie,De,je,Ce,ke),be&&l.restore();else{var St=l.createPattern(i,z);l.fillStyle=St,p.nodeShapes[p.getNodeShape(s)].draw(l,w,E,J,oe),l.translate(De,je),l.fill(),l.translate(-De,-je)}l.globalAlpha=gt,At&&p.setImgSmoothing(l,It)}}},ff={eleTextBiggerThanMin:function(l,i){if(!i){var s=l.cy().zoom(),d=this.getPixelRatio(),h=Math.ceil(Oi(s*d));i=Math.pow(2,h)}return!(l.pstyle("font-size").pfValue*i<l.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(l,i,s,d,h){var p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this;if(null==d){if(p&&!g.eleTextBiggerThanMin(i))return}else if(!1===d)return;if(i.isNode()){var w=i.pstyle("label");if(!w||!w.value)return;var E=g.getLabelJustification(i);l.textAlign=E,l.textBaseline="bottom"}else{var x=i.element()._private.rscratch.badLine,T=i.pstyle("label"),k=i.pstyle("source-label"),z=i.pstyle("target-label");if(x||(!T||!T.value)&&(!k||!k.value)&&(!z||!z.value))return;l.textAlign="center",l.textBaseline="bottom"}var j,W=!s;s&&l.translate(-(j=s).x1,-j.y1),null==h?(g.drawText(l,i,null,W,p),i.isEdge()&&(g.drawText(l,i,"source",W,p),g.drawText(l,i,"target",W,p))):g.drawText(l,i,h,W,p),s&&l.translate(j.x1,j.y1)},getFontCache:function(l){var i;this.fontCaches=this.fontCaches||[];for(var s=0;s<this.fontCaches.length;s++)if((i=this.fontCaches[s]).context===l)return i;return this.fontCaches.push(i={context:l}),i},setupTextStyle:function(l,i){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=i.pstyle("font-style").strValue,h=i.pstyle("font-size").pfValue+"px",p=i.pstyle("font-family").strValue,g=i.pstyle("font-weight").strValue,w=s?i.effectiveOpacity()*i.pstyle("text-opacity").value:1,E=i.pstyle("text-outline-opacity").value*w,x=i.pstyle("color").value,T=i.pstyle("text-outline-color").value;l.font=d+" "+g+" "+h+" "+p,l.lineJoin="round",this.colorFillStyle(l,x[0],x[1],x[2],w),this.colorStrokeStyle(l,T[0],T[1],T[2],E)},getTextAngle:function(l,i){var h=l._private.rscratch,g=l.pstyle((i?i+"-":"")+"text-rotation"),w=zi(h,"labelAngle",i);return"autorotate"===g.strValue?l.isEdge()?w:0:"none"===g.strValue?0:g.pfValue},drawText:function(l,i,s){var d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=i._private.rscratch,w=h?i.effectiveOpacity():1;if(!h||0!==w&&0!==i.pstyle("text-opacity").value){"main"===s&&(s=null);var T,k,E=zi(g,"labelX",s),x=zi(g,"labelY",s),z=this.getLabelText(i,s);if(null!=z&&""!==z&&!isNaN(E)&&!isNaN(x)){this.setupTextStyle(l,i,h);var Ae,W=s?s+"-":"",j=zi(g,"labelWidth",s),Q=zi(g,"labelHeight",s),J=i.pstyle(W+"text-margin-x").pfValue,oe=i.pstyle(W+"text-margin-y").pfValue,he=i.isEdge(),pe=i.pstyle("text-halign").value,be=i.pstyle("text-valign").value;switch(he&&(pe="center",be="center"),E+=J,x+=oe,0!==(Ae=d?this.getTextAngle(i,s):0)&&(l.translate(T=E,k=x),l.rotate(Ae),E=0,x=0),be){case"top":break;case"center":x+=Q/2;break;case"bottom":x+=Q}var Ne=i.pstyle("text-background-opacity").value,we=i.pstyle("text-border-opacity").value,Ie=i.pstyle("text-border-width").pfValue,Ce=i.pstyle("text-background-padding").pfValue;if(Ne>0||Ie>0&&we>0){var ke=E-Ce;switch(pe){case"left":ke-=j;break;case"center":ke-=j/2}var Pe=x-Q-Ce,De=j+2*Ce,He=Q+2*Ce;if(Ne>0){var Re=l.fillStyle,Ze=i.pstyle("text-background-color").value;l.fillStyle="rgba("+Ze[0]+","+Ze[1]+","+Ze[2]+","+Ne*w+")",0===i.pstyle("text-background-shape").strValue.indexOf("round")?function tb(l,i,s,d,h){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;l.beginPath(),l.moveTo(i+p,s),l.lineTo(i+d-p,s),l.quadraticCurveTo(i+d,s,i+d,s+p),l.lineTo(i+d,s+h-p),l.quadraticCurveTo(i+d,s+h,i+d-p,s+h),l.lineTo(i+p,s+h),l.quadraticCurveTo(i,s+h,i,s+h-p),l.lineTo(i,s+p),l.quadraticCurveTo(i,s,i+p,s),l.closePath(),l.fill()}(l,ke,Pe,De,He,2):l.fillRect(ke,Pe,De,He),l.fillStyle=Re}if(Ie>0&&we>0){var je=l.strokeStyle,tt=l.lineWidth,at=i.pstyle("text-border-color").value,vt=i.pstyle("text-border-style").value;if(l.strokeStyle="rgba("+at[0]+","+at[1]+","+at[2]+","+we*w+")",l.lineWidth=Ie,l.setLineDash)switch(vt){case"dotted":l.setLineDash([1,1]);break;case"dashed":l.setLineDash([4,2]);break;case"double":l.lineWidth=Ie/4,l.setLineDash([]);break;case"solid":l.setLineDash([])}if(l.strokeRect(ke,Pe,De,He),"double"===vt){var rt=Ie/2;l.strokeRect(ke+rt,Pe+rt,De-2*rt,He-2*rt)}l.setLineDash&&l.setLineDash([]),l.lineWidth=tt,l.strokeStyle=je}}var gt=2*i.pstyle("text-outline-width").pfValue;if(gt>0&&(l.lineWidth=gt),"wrap"===i.pstyle("text-wrap").value){var It=zi(g,"labelWrapCachedLines",s),At=zi(g,"labelLineHeight",s),St=j/2,wt=this.getLabelJustification(i);switch("auto"===wt||("left"===pe?"left"===wt?E+=-j:"center"===wt&&(E+=-St):"center"===pe?"left"===wt?E+=-St:"right"===wt&&(E+=St):"right"===pe&&("center"===wt?E+=St:"right"===wt&&(E+=j))),be){case"top":case"center":case"bottom":x-=(It.length-1)*At}for(var Qe=0;Qe<It.length;Qe++)gt>0&&l.strokeText(It[Qe],E,x),l.fillText(It[Qe],E,x),x+=At}else gt>0&&l.strokeText(z,E,x),l.fillText(z,E,x);0!==Ae&&(l.rotate(-Ae),l.translate(-T,-k))}}}},hu={drawNode:function(l,i,s){var w,E,d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,x=i._private,T=x.rscratch,k=i.position();if(Xe(k.x)&&Xe(k.y)&&(!p||i.visible())){var j,oe,z=p?i.effectiveOpacity():1,W=g.usePaths(),Q=!1,J=i.padding();w=i.width()+2*J,E=i.height()+2*J,s&&l.translate(-(oe=s).x1,-oe.y1);for(var pe=i.pstyle("background-image").value,be=new Array(pe.length),Ae=new Array(pe.length),Ne=0,we=0;we<pe.length;we++){var Ie=pe[we];if(be[we]=null!=Ie&&"none"!==Ie){var ke=i.cy().style().getIndexedStyle(i,"background-image-crossorigin","value",we);Ne++,Ae[we]=g.getCachedImage(Ie,ke,function(){x.backgroundTimestamp=Date.now(),i.emitAndNotify("background")})}}var Pe=i.pstyle("background-blacken").value,De=i.pstyle("border-width").pfValue,He=i.pstyle("background-opacity").value*z,Re=i.pstyle("border-color").value,Ze=i.pstyle("border-style").value,ze=i.pstyle("border-opacity").value*z;l.lineJoin="miter";var je=function(){g.eleFillStyle(l,i,arguments.length>0&&void 0!==arguments[0]?arguments[0]:He)},tt=function(){g.colorStrokeStyle(l,Re[0],Re[1],Re[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze)},at=i.pstyle("shape").strValue,vt=i.pstyle("shape-polygon-points").pfValue;if(W){l.translate(k.x,k.y);var rt=g.nodePathCache=g.nodePathCache||[],gt=Sc("polygon"===at?at+","+vt.join(","):at,""+E,""+w),It=rt[gt];null!=It?(Q=!0,T.pathCache=j=It):(j=new Path2D,rt[gt]=T.pathCache=j)}var At=function(){if(!Q){var sn=k;W&&(sn={x:0,y:0}),g.nodeShapes[g.getNodeShape(i)].draw(j||l,sn.x,sn.y,w,E)}W?l.fill(j):l.fill()},St=function(){for(var sn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,Mn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Er=x.backgrounding,ar=0,Fn=0;Fn<Ae.length;Fn++){var Ut=i.cy().style().getIndexedStyle(i,"background-image-containment","value",Fn);Mn&&"over"===Ut||!Mn&&"inside"===Ut?ar++:be[Fn]&&Ae[Fn].complete&&!Ae[Fn].error&&(ar++,g.drawInscribedImage(l,Ae[Fn],i,Fn,sn))}x.backgrounding=ar!==Ne,Er!==x.backgrounding&&i.updateStyle(!1)},wt=function(){var sn=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Mn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;g.hasPie(i)&&(g.drawPie(l,i,Mn),sn&&(W||g.nodeShapes[g.getNodeShape(i)].draw(l,k.x,k.y,w,E)))},Qe=function(){var Er=Pe>0?0:255;0!==Pe&&(g.colorFillStyle(l,Er,Er,Er,(Pe>0?Pe:-Pe)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:z)),W?l.fill(j):l.fill())},Tt=function(){if(De>0){if(l.lineWidth=De,l.lineCap="butt",l.setLineDash)switch(Ze){case"dotted":l.setLineDash([1,1]);break;case"dashed":l.setLineDash([4,2]);break;case"solid":case"double":l.setLineDash([])}if(W?l.stroke(j):l.stroke(),"double"===Ze){l.lineWidth=De/3;var sn=l.globalCompositeOperation;l.globalCompositeOperation="destination-out",W?l.stroke(j):l.stroke(),l.globalCompositeOperation=sn}l.setLineDash&&l.setLineDash([])}};if("yes"===i.pstyle("ghost").value){var Jn=i.pstyle("ghost-offset-x").pfValue,an=i.pstyle("ghost-offset-y").pfValue,Jt=i.pstyle("ghost-opacity").value,In=Jt*z;l.translate(Jn,an),je(Jt*He),At(),St(In,!0),tt(Jt*ze),Tt(),wt(0!==Pe||0!==De),St(In,!1),Qe(In),l.translate(-Jn,-an)}W&&l.translate(-k.x,-k.y),h&&g.drawNodeUnderlay(l,i,k,w,E),W&&l.translate(k.x,k.y),je(),At(),St(z,!0),tt(),Tt(),wt(0!==Pe||0!==De),St(z,!1),Qe(),W&&l.translate(-k.x,-k.y),g.drawElementText(l,i,null,d),h&&g.drawNodeOverlay(l,i,k,w,E),s&&l.translate(oe.x1,oe.y1)}}},gp=function(i){if(!["overlay","underlay"].includes(i))throw new Error("Invalid state");return function(s,d,h,p,g){if(d.visible()){var E=d.pstyle("".concat(i,"-padding")).pfValue,x=d.pstyle("".concat(i,"-opacity")).value,T=d.pstyle("".concat(i,"-color")).value,k=d.pstyle("".concat(i,"-shape")).value;if(x>0){if(h=h||d.position(),null==p||null==g){var z=d.padding();p=d.width()+2*z,g=d.height()+2*z}this.colorFillStyle(s,T[0],T[1],T[2],x),this.nodeShapes[k].draw(s,h.x,h.y,p+2*E,g+2*E),s.fill()}}}};hu.drawNodeOverlay=gp("overlay"),hu.drawNodeUnderlay=gp("underlay"),hu.hasPie=function(l){return(l=l[0])._private.hasPie},hu.drawPie=function(l,i,s,d){i=i[0],d=d||i.position();var h=i.cy().style(),p=i.pstyle("pie-size"),g=d.x,w=d.y,E=i.width(),x=i.height(),T=Math.min(E,x)/2,k=0;this.usePaths()&&(g=0,w=0),"%"===p.units?T*=p.pfValue:void 0!==p.pfValue&&(T=p.pfValue/2);for(var W=1;W<=h.pieBackgroundN;W++){var j=i.pstyle("pie-"+W+"-background-size").value,Q=i.pstyle("pie-"+W+"-background-color").value,J=i.pstyle("pie-"+W+"-background-opacity").value*s,oe=j/100;oe+k>1&&(oe=1-k);var he=1.5*Math.PI+2*Math.PI*k,be=he+2*Math.PI*oe;0===j||k>=1||k+oe>1||(l.beginPath(),l.moveTo(g,w),l.arc(g,w,T,he,be),l.closePath(),this.colorFillStyle(l,Q[0],Q[1],Q[2],J),l.fill(),k+=oe)}};for(var us={getPixelRatio:function(){var l=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(l.backingStorePixelRatio||l.webkitBackingStorePixelRatio||l.mozBackingStorePixelRatio||l.msBackingStorePixelRatio||l.oBackingStorePixelRatio||l.backingStorePixelRatio||1)},paintCache:function(l){for(var d,i=this.paintCaches=this.paintCaches||[],s=!0,h=0;h<i.length;h++)if((d=i[h]).context===l){s=!1;break}return s&&i.push(d={context:l}),d},createGradientStyleFor:function(l,i,s,d,h){var p,g=this.usePaths(),w=s.pstyle(i+"-gradient-stop-colors").value,E=s.pstyle(i+"-gradient-stop-positions").pfValue;if("radial-gradient"===d)if(s.isEdge()){var x=s.sourceEndpoint(),T=s.targetEndpoint(),k=s.midpoint(),z=Ri(x,k),W=Ri(T,k);p=l.createRadialGradient(k.x,k.y,0,k.x,k.y,Math.max(z,W))}else{var j=g?{x:0,y:0}:s.position(),Q=s.paddedWidth(),J=s.paddedHeight();p=l.createRadialGradient(j.x,j.y,0,j.x,j.y,Math.max(Q,J))}else if(s.isEdge()){var oe=s.sourceEndpoint(),he=s.targetEndpoint();p=l.createLinearGradient(oe.x,oe.y,he.x,he.y)}else{var pe=g?{x:0,y:0}:s.position(),Ne=s.paddedWidth()/2,we=s.paddedHeight()/2;switch(s.pstyle("background-gradient-direction").value){case"to-bottom":p=l.createLinearGradient(pe.x,pe.y-we,pe.x,pe.y+we);break;case"to-top":p=l.createLinearGradient(pe.x,pe.y+we,pe.x,pe.y-we);break;case"to-left":p=l.createLinearGradient(pe.x+Ne,pe.y,pe.x-Ne,pe.y);break;case"to-right":p=l.createLinearGradient(pe.x-Ne,pe.y,pe.x+Ne,pe.y);break;case"to-bottom-right":case"to-right-bottom":p=l.createLinearGradient(pe.x-Ne,pe.y-we,pe.x+Ne,pe.y+we);break;case"to-top-right":case"to-right-top":p=l.createLinearGradient(pe.x-Ne,pe.y+we,pe.x+Ne,pe.y-we);break;case"to-bottom-left":case"to-left-bottom":p=l.createLinearGradient(pe.x+Ne,pe.y-we,pe.x-Ne,pe.y+we);break;case"to-top-left":case"to-left-top":p=l.createLinearGradient(pe.x+Ne,pe.y+we,pe.x-Ne,pe.y-we)}}if(!p)return null;for(var Ce=E.length===w.length,ke=w.length,Pe=0;Pe<ke;Pe++)p.addColorStop(Ce?E[Pe]:Pe/(ke-1),"rgba("+w[Pe][0]+","+w[Pe][1]+","+w[Pe][2]+","+h+")");return p},gradientFillStyle:function(l,i,s,d){var h=this.createGradientStyleFor(l,"background",i,s,d);if(!h)return null;l.fillStyle=h},colorFillStyle:function(l,i,s,d,h){l.fillStyle="rgba("+i+","+s+","+d+","+h+")"},eleFillStyle:function(l,i,s){var d=i.pstyle("background-fill").value;if("linear-gradient"===d||"radial-gradient"===d)this.gradientFillStyle(l,i,d,s);else{var h=i.pstyle("background-color").value;this.colorFillStyle(l,h[0],h[1],h[2],s)}},gradientStrokeStyle:function(l,i,s,d){var h=this.createGradientStyleFor(l,"line",i,s,d);if(!h)return null;l.strokeStyle=h},colorStrokeStyle:function(l,i,s,d,h){l.strokeStyle="rgba("+i+","+s+","+d+","+h+")"},eleStrokeStyle:function(l,i,s){var d=i.pstyle("line-fill").value;if("linear-gradient"===d||"radial-gradient"===d)this.gradientStrokeStyle(l,i,d,s);else{var h=i.pstyle("line-color").value;this.colorStrokeStyle(l,h[0],h[1],h[2],s)}},matchCanvasSize:function(l){var i=this,s=i.data,d=i.findContainerClientCoords(),h=d[2],p=d[3],g=i.getPixelRatio();(l===i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_NODE]||l===i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_DRAG])&&(g=i.motionBlurPxRatio);var T,E=h*g,x=p*g;if(E!==i.canvasWidth||x!==i.canvasHeight){i.fontCaches=null;var k=s.canvasContainer;k.style.width=h+"px",k.style.height=p+"px";for(var z=0;z<i.CANVAS_LAYERS;z++)(T=s.canvases[z]).width=E,T.height=x,T.style.width=h+"px",T.style.height=p+"px";for(z=0;z<i.BUFFER_COUNT;z++)(T=s.bufferCanvases[z]).width=E,T.height=x,T.style.width=h+"px",T.style.height=p+"px";i.textureMult=1,g<=1&&(T=s.bufferCanvases[i.TEXTURE_BUFFER],i.textureMult=2,T.width=E*i.textureMult,T.height=x*i.textureMult),i.canvasWidth=E,i.canvasHeight=x}},renderTo:function(l,i,s,d){this.render({forcedContext:l,forcedZoom:i,forcedPan:s,drawAllLayers:!0,forcedPxRatio:d})},render:function(l){var i=(l=l||Cn()).forcedContext,s=l.drawAllLayers,d=l.drawOnlyNodeLayer,h=l.forcedZoom,p=l.forcedPan,g=this,w=void 0===l.forcedPxRatio?this.getPixelRatio():l.forcedPxRatio,E=g.cy,x=g.data,T=x.canvasNeedsRedraw,k=g.textureOnViewport&&!i&&(g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming),z=void 0!==l.motionBlur?l.motionBlur:g.motionBlur,W=g.motionBlurPxRatio,j=E.hasCompoundNodes(),Q=g.hoverData.draggingEles,oe=z=z&&!i&&g.motionBlurEnabled&&!(g.hoverData.selecting||g.touchData.selecting);i||(g.prevPxRatio!==w&&(g.invalidateContainerClientCoordsCache(),g.matchCanvasSize(g.container),g.redrawHint("eles",!0),g.redrawHint("drag",!0)),g.prevPxRatio=w),!i&&g.motionBlurTimeout&&clearTimeout(g.motionBlurTimeout),z&&(null==g.mbFrames&&(g.mbFrames=0),g.mbFrames++,g.mbFrames<3&&(oe=!1),g.mbFrames>g.minMbLowQualFrames&&(g.motionBlurPxRatio=g.mbPxRBlurry)),g.clearingMotionBlur&&(g.motionBlurPxRatio=1),g.textureDrawLastFrame&&!k&&(T[g.NODE]=!0,T[g.SELECT_BOX]=!0);var he=E.style(),pe=E.zoom(),be=void 0!==h?h:pe,Ae=E.pan(),Ne={x:Ae.x,y:Ae.y},we={zoom:pe,pan:{x:Ae.x,y:Ae.y}},Ie=g.prevViewport;!(void 0===Ie||we.zoom!==Ie.zoom||we.pan.x!==Ie.pan.x||we.pan.y!==Ie.pan.y)&&!(Q&&!j)&&(g.motionBlurPxRatio=1),p&&(Ne=p),be*=w,Ne.x*=w,Ne.y*=w;var ke=g.getCachedZSortedEles();function Pe(an,Jt,In,En,sn){var Mn=an.globalCompositeOperation;an.globalCompositeOperation="destination-out",g.colorFillStyle(an,255,255,255,g.motionBlurTransparency),an.fillRect(Jt,In,En,sn),an.globalCompositeOperation=Mn}function De(an,Jt){var In,En,sn,Mn;g.clearingMotionBlur||an!==x.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]&&an!==x.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]?(In=Ne,En=be,sn=g.canvasWidth,Mn=g.canvasHeight):(In={x:Ae.x*W,y:Ae.y*W},En=pe*W,sn=g.canvasWidth*W,Mn=g.canvasHeight*W),an.setTransform(1,0,0,1,0,0),"motionBlur"===Jt?Pe(an,0,0,sn,Mn):!i&&(void 0===Jt||Jt)&&an.clearRect(0,0,sn,Mn),s||(an.translate(In.x,In.y),an.scale(En,En)),p&&an.translate(p.x,p.y),h&&an.scale(h,h)}if(k||(g.textureDrawLastFrame=!1),k){if(g.textureDrawLastFrame=!0,!g.textureCache){g.textureCache={},g.textureCache.bb=E.mutableElements().boundingBox(),g.textureCache.texture=g.data.bufferCanvases[g.TEXTURE_BUFFER];var He=g.data.bufferContexts[g.TEXTURE_BUFFER];He.setTransform(1,0,0,1,0,0),He.clearRect(0,0,g.canvasWidth*g.textureMult,g.canvasHeight*g.textureMult),g.render({forcedContext:He,drawOnlyNodeLayer:!0,forcedPxRatio:w*g.textureMult}),(we=g.textureCache.viewport={zoom:E.zoom(),pan:E.pan(),width:g.canvasWidth,height:g.canvasHeight}).mpan={x:(0-we.pan.x)/we.zoom,y:(0-we.pan.y)/we.zoom}}T[g.DRAG]=!1,T[g.NODE]=!1;var Ze=g.textureCache.texture;we=g.textureCache.viewport,(Re=x.contexts[g.NODE]).setTransform(1,0,0,1,0,0),z?Pe(Re,0,0,we.width,we.height):Re.clearRect(0,0,we.width,we.height);var ze=he.core("outside-texture-bg-color").value,je=he.core("outside-texture-bg-opacity").value;g.colorFillStyle(Re,ze[0],ze[1],ze[2],je),Re.fillRect(0,0,we.width,we.height),pe=E.zoom(),De(Re,!1),Re.clearRect(we.mpan.x,we.mpan.y,we.width/we.zoom/w,we.height/we.zoom/w),Re.drawImage(Ze,we.mpan.x,we.mpan.y,we.width/we.zoom/w,we.height/we.zoom/w)}else g.textureOnViewport&&!i&&(g.textureCache=null);var tt=E.extent(),at=g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming||g.hoverData.draggingEles||g.cy.animated(),vt=g.hideEdgesOnViewport&&at,rt=[];if(rt[g.NODE]=!T[g.NODE]&&z&&!g.clearedForMotionBlur[g.NODE]||g.clearingMotionBlur,rt[g.NODE]&&(g.clearedForMotionBlur[g.NODE]=!0),rt[g.DRAG]=!T[g.DRAG]&&z&&!g.clearedForMotionBlur[g.DRAG]||g.clearingMotionBlur,rt[g.DRAG]&&(g.clearedForMotionBlur[g.DRAG]=!0),T[g.NODE]||s||d||rt[g.NODE]){var gt=z&&!rt[g.NODE]&&1!==W;De(Re=i||(gt?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]:x.contexts[g.NODE]),z&&!gt?"motionBlur":void 0),vt?g.drawCachedNodes(Re,ke.nondrag,w,tt):g.drawLayeredElements(Re,ke.nondrag,w,tt),g.debug&&g.drawDebugPoints(Re,ke.nondrag),!s&&!z&&(T[g.NODE]=!1)}if(!d&&(T[g.DRAG]||s||rt[g.DRAG])&&(gt=z&&!rt[g.DRAG]&&1!==W,De(Re=i||(gt?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]:x.contexts[g.DRAG]),z&&!gt?"motionBlur":void 0),vt?g.drawCachedNodes(Re,ke.drag,w,tt):g.drawCachedElements(Re,ke.drag,w,tt),g.debug&&g.drawDebugPoints(Re,ke.drag),!s&&!z&&(T[g.DRAG]=!1)),g.showFps||!d&&T[g.SELECT_BOX]&&!s){var Re;if(De(Re=i||x.contexts[g.SELECT_BOX]),1==g.selection[4]&&(g.hoverData.selecting||g.touchData.selecting)){pe=g.cy.zoom();var At=he.core("selection-box-border-width").value/pe;Re.lineWidth=At,Re.fillStyle="rgba("+he.core("selection-box-color").value[0]+","+he.core("selection-box-color").value[1]+","+he.core("selection-box-color").value[2]+","+he.core("selection-box-opacity").value+")",Re.fillRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]),At>0&&(Re.strokeStyle="rgba("+he.core("selection-box-border-color").value[0]+","+he.core("selection-box-border-color").value[1]+","+he.core("selection-box-border-color").value[2]+","+he.core("selection-box-opacity").value+")",Re.strokeRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]))}if(x.bgActivePosistion&&!g.hoverData.selecting){pe=g.cy.zoom();var St=x.bgActivePosistion;Re.fillStyle="rgba("+he.core("active-bg-color").value[0]+","+he.core("active-bg-color").value[1]+","+he.core("active-bg-color").value[2]+","+he.core("active-bg-opacity").value+")",Re.beginPath(),Re.arc(St.x,St.y,he.core("active-bg-size").pfValue/pe,0,2*Math.PI),Re.fill()}var wt=g.lastRedrawTime;if(g.showFps&&wt){wt=Math.round(wt);var Qe=Math.round(1e3/wt);Re.setTransform(1,0,0,1,0,0),Re.fillStyle="rgba(255, 0, 0, 0.75)",Re.strokeStyle="rgba(255, 0, 0, 0.75)",Re.lineWidth=1,Re.fillText("1 frame = "+wt+" ms = "+Qe+" fps",0,20),Re.strokeRect(0,30,250,20),Re.fillRect(0,30,250*Math.min(Qe/60,1),20)}s||(T[g.SELECT_BOX]=!1)}if(z&&1!==W){var nn=x.contexts[g.DRAG],Hn=g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_DRAG],Jn=function(Jt,In,En){Jt.setTransform(1,0,0,1,0,0),En||!oe?Jt.clearRect(0,0,g.canvasWidth,g.canvasHeight):Pe(Jt,0,0,g.canvasWidth,g.canvasHeight),Jt.drawImage(In,0,0,g.canvasWidth*W,g.canvasHeight*W,0,0,g.canvasWidth,g.canvasHeight)};(T[g.NODE]||rt[g.NODE])&&(Jn(x.contexts[g.NODE],g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_NODE],rt[g.NODE]),T[g.NODE]=!1),(T[g.DRAG]||rt[g.DRAG])&&(Jn(nn,Hn,rt[g.DRAG]),T[g.DRAG]=!1)}g.prevViewport=we,g.clearingMotionBlur&&(g.clearingMotionBlur=!1,g.motionBlurCleared=!0,g.motionBlur=!0),z&&(g.motionBlurTimeout=setTimeout(function(){g.motionBlurTimeout=null,g.clearedForMotionBlur[g.NODE]=!1,g.clearedForMotionBlur[g.DRAG]=!1,g.motionBlur=!1,g.clearingMotionBlur=!k,g.mbFrames=0,T[g.NODE]=!0,T[g.DRAG]=!0,g.redraw()},100)),i||E.emit("render")}},pu={drawPolygonPath:function(l,i,s,d,h,p){var g=d/2,w=h/2;l.beginPath&&l.beginPath(),l.moveTo(i+g*p[0],s+w*p[1]);for(var E=1;E<p.length/2;E++)l.lineTo(i+g*p[2*E],s+w*p[2*E+1]);l.closePath()},drawRoundPolygonPath:function(l,i,s,d,h,p){var g=d/2,w=h/2,E=Fu(d,h);l.beginPath&&l.beginPath();for(var x=0;x<p.length/4;x++){var k,T;T=0===x?p.length-2:4*x-2,k=4*x+2;var z=i+g*p[4*x],W=s+w*p[4*x+1],Q=E/Math.tan(Math.acos(-p[T]*p[k]-p[T+1]*p[k+1])/2),J=z-Q*p[T],oe=W-Q*p[T+1],he=z+Q*p[k],pe=W+Q*p[k+1];0===x?l.moveTo(J,oe):l.lineTo(J,oe),l.arcTo(z,W,he,pe,E)}l.closePath()},drawRoundRectanglePath:function(l,i,s,d,h){var p=d/2,g=h/2,w=Kl(d,h);l.beginPath&&l.beginPath(),l.moveTo(i,s-g),l.arcTo(i+p,s-g,i+p,s,w),l.arcTo(i+p,s+g,i,s+g,w),l.arcTo(i-p,s+g,i-p,s,w),l.arcTo(i-p,s-g,i,s-g,w),l.lineTo(i,s-g),l.closePath()},drawBottomRoundRectanglePath:function(l,i,s,d,h){var p=d/2,g=h/2,w=Kl(d,h);l.beginPath&&l.beginPath(),l.moveTo(i,s-g),l.lineTo(i+p,s-g),l.lineTo(i+p,s),l.arcTo(i+p,s+g,i,s+g,w),l.arcTo(i-p,s+g,i-p,s,w),l.lineTo(i-p,s-g),l.lineTo(i,s-g),l.closePath()},drawCutRectanglePath:function(l,i,s,d,h){var p=d/2,g=h/2;l.beginPath&&l.beginPath(),l.moveTo(i-p+8,s-g),l.lineTo(i+p-8,s-g),l.lineTo(i+p,s-g+8),l.lineTo(i+p,s+g-8),l.lineTo(i+p-8,s+g),l.lineTo(i-p+8,s+g),l.lineTo(i-p,s+g-8),l.lineTo(i-p,s-g+8),l.closePath()},drawBarrelPath:function(l,i,s,d,h){var p=d/2,g=h/2,w=i-p,E=i+p,x=s-g,T=s+g,k=kf(d,h),z=k.widthOffset,W=k.heightOffset,j=k.ctrlPtOffsetPct*z;l.beginPath&&l.beginPath(),l.moveTo(w,x+W),l.lineTo(w,T-W),l.quadraticCurveTo(w+j,T,w+z,T),l.lineTo(E-z,T),l.quadraticCurveTo(E-j,T,E,T-W),l.lineTo(E,x+W),l.quadraticCurveTo(E-j,x,E-z,x),l.lineTo(w+z,x),l.quadraticCurveTo(w+j,x,w,x+W),l.closePath()}},vd=Math.sin(0),Rg=Math.cos(0),vp={},hf={},hh=Math.PI/40,$o=0*Math.PI;$o<2*Math.PI;$o+=hh)vp[$o]=Math.sin($o),hf[$o]=Math.cos($o);pu.drawEllipsePath=function(l,i,s,d,h){if(l.beginPath&&l.beginPath(),l.ellipse)l.ellipse(i,s,d/2,h/2,0,0,2*Math.PI);else for(var p,g,w=d/2,E=h/2,x=0*Math.PI;x<2*Math.PI;x+=hh)p=i-w*vp[x]*vd+w*hf[x]*Rg,g=s+E*hf[x]*vd+E*vp[x]*Rg,0===x?l.moveTo(p,g):l.lineTo(p,g);l.closePath()};var ph={};function wm(l){var i=l.indexOf(",");return l.substr(i+1)}function Lg(l,i,s){var d=function(){return i.toDataURL(s,l.quality)};switch(l.output){case"blob-promise":return new ts(function(h,p){try{i.toBlob(function(g){null!=g?h(g):p(new Error("`canvas.toBlob()` sent a null value in its callback"))},s,l.quality)}catch(g){p(g)}});case"blob":return function nb(l,i){for(var s=atob(l),d=new ArrayBuffer(s.length),h=new Uint8Array(d),p=0;p<s.length;p++)h[p]=s.charCodeAt(p);return new Blob([d],{type:i})}(wm(d()),s);case"base64":return wm(d());default:return d()}}ph.createBuffer=function(l,i){var s=document.createElement("canvas");return s.width=l,s.height=i,[s,s.getContext("2d")]},ph.bufferCanvasImage=function(l){var i=this.cy,d=i.mutableElements().boundingBox(),h=this.findContainerClientCoords(),p=l.full?Math.ceil(d.w):h[2],g=l.full?Math.ceil(d.h):h[3],w=Xe(l.maxWidth)||Xe(l.maxHeight),E=this.getPixelRatio(),x=1;if(void 0!==l.scale)p*=l.scale,g*=l.scale,x=l.scale;else if(w){var T=1/0,k=1/0;Xe(l.maxWidth)&&(T=x*l.maxWidth/p),Xe(l.maxHeight)&&(k=x*l.maxHeight/g),p*=x=Math.min(T,k),g*=x}w||(p*=E,g*=E,x*=E);var z=document.createElement("canvas");z.width=p,z.height=g,z.style.width=p+"px",z.style.height=g+"px";var W=z.getContext("2d");if(p>0&&g>0){W.clearRect(0,0,p,g),W.globalCompositeOperation="source-over";var j=this.getCachedZSortedEles();if(l.full)W.translate(-d.x1*x,-d.y1*x),W.scale(x,x),this.drawElements(W,j),W.scale(1/x,1/x),W.translate(d.x1*x,d.y1*x);else{var Q=i.pan(),J={x:Q.x*x,y:Q.y*x};x*=i.zoom(),W.translate(J.x,J.y),W.scale(x,x),this.drawElements(W,j),W.scale(1/x,1/x),W.translate(-J.x,-J.y)}l.bg&&(W.globalCompositeOperation="destination-over",W.fillStyle=l.bg,W.rect(0,0,p,g),W.fill())}return z},ph.png=function(l){return Lg(l,this.bufferCanvasImage(l),"image/png")},ph.jpg=function(l){return Lg(l,this.bufferCanvasImage(l),"image/jpeg")};var rb=Cm,Wr=Cm.prototype;function Cm(l){var i=this;i.data={canvases:new Array(Wr.CANVAS_LAYERS),contexts:new Array(Wr.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Wr.CANVAS_LAYERS),bufferCanvases:new Array(Wr.BUFFER_COUNT),bufferContexts:new Array(Wr.CANVAS_LAYERS)};var s="-webkit-tap-highlight-color",d="rgba(0,0,0,0)";i.data.canvasContainer=document.createElement("div");var h=i.data.canvasContainer.style;i.data.canvasContainer.style[s]=d,h.position="relative",h.zIndex="0",h.overflow="hidden";var p=l.cy.container();p.appendChild(i.data.canvasContainer),p.style[s]=d;var g={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};ae&&ae.userAgent.match(/msie|trident|edge/i)&&(g["-ms-touch-action"]="none",g["touch-action"]="none");for(var w=0;w<Wr.CANVAS_LAYERS;w++){var E=i.data.canvases[w]=document.createElement("canvas");i.data.contexts[w]=E.getContext("2d"),Object.keys(g).forEach(function(wt){E.style[wt]=g[wt]}),E.style.position="absolute",E.setAttribute("data-id","layer"+w),E.style.zIndex=String(Wr.CANVAS_LAYERS-w),i.data.canvasContainer.appendChild(E),i.data.canvasNeedsRedraw[w]=!1}for(i.data.topCanvas=i.data.canvases[0],i.data.canvases[Wr.NODE].setAttribute("data-id","layer"+Wr.NODE+"-node"),i.data.canvases[Wr.SELECT_BOX].setAttribute("data-id","layer"+Wr.SELECT_BOX+"-selectbox"),i.data.canvases[Wr.DRAG].setAttribute("data-id","layer"+Wr.DRAG+"-drag"),w=0;w<Wr.BUFFER_COUNT;w++)i.data.bufferCanvases[w]=document.createElement("canvas"),i.data.bufferContexts[w]=i.data.bufferCanvases[w].getContext("2d"),i.data.bufferCanvases[w].style.position="absolute",i.data.bufferCanvases[w].setAttribute("data-id","buffer"+w),i.data.bufferCanvases[w].style.zIndex=String(-w-1),i.data.bufferCanvases[w].style.visibility="hidden";i.pathsEnabled=!0;var x=bi(),k=function(Qe){return{x:-Qe.w/2,y:-Qe.h/2}},Ae=function(Qe){return Qe.boundingBox(),Qe[0]._private.bodyBounds},Ne=function(Qe){return Qe.boundingBox(),Qe[0]._private.labelBounds.main||x},we=function(Qe){return Qe.boundingBox(),Qe[0]._private.labelBounds.source||x},Ie=function(Qe){return Qe.boundingBox(),Qe[0]._private.labelBounds.target||x},Ce=function(Qe,Tt){return Tt},Pe=function(Qe,Tt,Nt){var $t=Qe?Qe+"-":"";return{x:Tt.x+Nt.pstyle($t+"text-margin-x").pfValue,y:Tt.y+Nt.pstyle($t+"text-margin-y").pfValue}},De=function(Qe,Tt,Nt){var $t=Qe[0]._private.rscratch;return{x:$t[Tt],y:$t[Nt]}},vt=i.data.eleTxrCache=new $a(i,{getKey:function(Qe){return Qe[0]._private.nodeKey},doesEleInvalidateKey:function(Qe){var Tt=Qe[0]._private;return!(Tt.oldBackgroundTimestamp===Tt.backgroundTimestamp)},drawElement:function(Qe,Tt,Nt,$t,nn){return i.drawElement(Qe,Tt,Nt,!1,!1,nn)},getBoundingBox:Ae,getRotationPoint:function(Qe){return function(Qe){return{x:(Qe.x1+Qe.x2)/2,y:(Qe.y1+Qe.y2)/2}}(Ae(Qe))},getRotationOffset:function(Qe){return k(Ae(Qe))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),rt=i.data.lblTxrCache=new $a(i,{getKey:function(Qe){return Qe[0]._private.labelStyleKey},drawElement:function(Qe,Tt,Nt,$t,nn){return i.drawElementText(Qe,Tt,Nt,$t,"main",nn)},getBoundingBox:Ne,getRotationPoint:function(Qe){return Pe("",De(Qe,"labelX","labelY"),Qe)},getRotationOffset:function(Qe){var Tt=Ne(Qe),Nt=k(Ne(Qe));if(Qe.isNode()){switch(Qe.pstyle("text-halign").value){case"left":Nt.x=-Tt.w;break;case"right":Nt.x=0}switch(Qe.pstyle("text-valign").value){case"top":Nt.y=-Tt.h;break;case"bottom":Nt.y=0}}return Nt},isVisible:Ce}),gt=i.data.slbTxrCache=new $a(i,{getKey:function(Qe){return Qe[0]._private.sourceLabelStyleKey},drawElement:function(Qe,Tt,Nt,$t,nn){return i.drawElementText(Qe,Tt,Nt,$t,"source",nn)},getBoundingBox:we,getRotationPoint:function(Qe){return Pe("source",De(Qe,"sourceLabelX","sourceLabelY"),Qe)},getRotationOffset:function(Qe){return k(we(Qe))},isVisible:Ce}),It=i.data.tlbTxrCache=new $a(i,{getKey:function(Qe){return Qe[0]._private.targetLabelStyleKey},drawElement:function(Qe,Tt,Nt,$t,nn){return i.drawElementText(Qe,Tt,Nt,$t,"target",nn)},getBoundingBox:Ie,getRotationPoint:function(Qe){return Pe("target",De(Qe,"targetLabelX","targetLabelY"),Qe)},getRotationOffset:function(Qe){return k(Ie(Qe))},isVisible:Ce}),At=i.data.lyrTxrCache=new K0(i);i.onUpdateEleCalcs(function(Qe,Tt){vt.invalidateElements(Tt),rt.invalidateElements(Tt),gt.invalidateElements(Tt),It.invalidateElements(Tt),At.invalidateElements(Tt);for(var Nt=0;Nt<Tt.length;Nt++){var $t=Tt[Nt]._private;$t.oldBackgroundTimestamp=$t.backgroundTimestamp}});var St=function(Qe){for(var Tt=0;Tt<Qe.length;Tt++)At.enqueueElementRefinement(Qe[Tt].ele)};vt.onDequeue(St),rt.onDequeue(St),gt.onDequeue(St),It.onDequeue(St)}Wr.CANVAS_LAYERS=3,Wr.SELECT_BOX=0,Wr.DRAG=1,Wr.NODE=2,Wr.BUFFER_COUNT=3,Wr.TEXTURE_BUFFER=0,Wr.MOTIONBLUR_BUFFER_NODE=1,Wr.MOTIONBLUR_BUFFER_DRAG=2,Wr.redrawHint=function(l,i){var s=this;switch(l){case"eles":s.data.canvasNeedsRedraw[Wr.NODE]=i;break;case"drag":s.data.canvasNeedsRedraw[Wr.DRAG]=i;break;case"select":s.data.canvasNeedsRedraw[Wr.SELECT_BOX]=i}};var xm=typeof Path2D<"u";Wr.path2dEnabled=function(l){if(void 0===l)return this.pathsEnabled;this.pathsEnabled=!!l},Wr.usePaths=function(){return xm&&this.pathsEnabled},Wr.setImgSmoothing=function(l,i){null!=l.imageSmoothingEnabled?l.imageSmoothingEnabled=i:(l.webkitImageSmoothingEnabled=i,l.mozImageSmoothingEnabled=i,l.msImageSmoothingEnabled=i)},Wr.getImgSmoothing=function(l){return null!=l.imageSmoothingEnabled?l.imageSmoothingEnabled:l.webkitImageSmoothingEnabled||l.mozImageSmoothingEnabled||l.msImageSmoothingEnabled},Wr.makeOffscreenCanvas=function(l,i){var s;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":U(OffscreenCanvas))?s=new OffscreenCanvas(l,i):((s=document.createElement("canvas")).width=l,s.height=i),s},[fh,Fl,ac,ym,ff,hu,us,pu,ph,{nodeShapeImpl:function(l,i,s,d,h,p,g){switch(l){case"ellipse":return this.drawEllipsePath(i,s,d,h,p);case"polygon":return this.drawPolygonPath(i,s,d,h,p,g);case"round-polygon":return this.drawRoundPolygonPath(i,s,d,h,p,g);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(i,s,d,h,p);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(i,s,d,h,p);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(i,s,d,h,p);case"barrel":return this.drawBarrelPath(i,s,d,h,p)}}}].forEach(function(l){Sn(Wr,l)});var ob=[{type:"layout",extensions:fp},{type:"renderer",extensions:[{name:"null",impl:wi},{name:"base",impl:wn},{name:"canvas",impl:rb}]}],Ya={},yp={};function kg(l,i,s){var d=s,h=function(Ie){br("Can not register `"+i+"` for `"+l+"` since `"+Ie+"` already exists in the prototype and can not be overridden")};if("core"===l){if(ss.prototype[i])return h(i);ss.prototype[i]=s}else if("collection"===l){if(no.prototype[i])return h(i);no.prototype[i]=s}else if("layout"===l){for(var p=function(Ie){this.options=Ie,s.call(this,Ie),Ke(this._private)||(this._private={}),this._private.cy=Ie.cy,this._private.listeners=[],this.createEmitter()},g=p.prototype=Object.create(s.prototype),w=[],E=0;E<w.length;E++){var x=w[E];g[x]=g[x]||function(){return this}}g.start&&!g.run?g.run=function(){return this.start(),this}:!g.start&&g.run&&(g.start=function(){return this.run(),this});var T=s.prototype.stop;g.stop=function(){var we=this.options;if(we&&we.animate){var Ie=this.animations;if(Ie)for(var Ce=0;Ce<Ie.length;Ce++)Ie[Ce].stop()}return T?T.call(this):this.emit("layoutstop"),this},g.destroy||(g.destroy=function(){return this}),g.cy=function(){return this._private.cy};var k=function(Ie){return Ie._private.cy},z={addEventFields:function(Ie,Ce){Ce.layout=Ie,Ce.cy=k(Ie),Ce.target=Ie},bubble:function(){return!0},parent:function(Ie){return k(Ie)}};Sn(g,{createEmitter:function(){return this._private.emitter=new Pi(z,this),this},emitter:function(){return this._private.emitter},on:function(Ie,Ce){return this.emitter().on(Ie,Ce),this},one:function(Ie,Ce){return this.emitter().one(Ie,Ce),this},once:function(Ie,Ce){return this.emitter().one(Ie,Ce),this},removeListener:function(Ie,Ce){return this.emitter().removeListener(Ie,Ce),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(Ie,Ce){return this.emitter().emit(Ie,Ce),this}}),tr.eventAliasesOn(g),d=p}else if("renderer"===l&&"null"!==i&&"base"!==i){var W=bp("renderer","base"),j=W.prototype,Q=s,J=s.prototype,oe=function(){W.apply(this,arguments),Q.apply(this,arguments)},he=oe.prototype;for(var pe in j){var be=j[pe];if(null!=J[pe])return h(pe);he[pe]=be}for(var Ne in J)he[Ne]=J[Ne];j.clientFunctions.forEach(function(we){he[we]=he[we]||function(){$r("Renderer does not implement `renderer."+we+"()` on its prototype")}}),d=oe}else if("__proto__"===l||"constructor"===l||"prototype"===l)return $r(l+" is an illegal type to be registered, possibly lead to prototype pollutions");return bn({map:Ya,keys:[l,i],value:d})}function bp(l,i){return la({map:Ya,keys:[l,i]})}function Oa(l,i,s,d,h){return bn({map:yp,keys:[l,i,s,d],value:h})}function gh(l,i,s,d){return la({map:yp,keys:[l,i,s,d]})}var wp=function(){return 2===arguments.length?bp.apply(null,arguments):3===arguments.length?kg.apply(null,arguments):4===arguments.length?gh.apply(null,arguments):5===arguments.length?Oa.apply(null,arguments):void $r("Invalid extension access syntax")};ss.prototype.extension=wp,ob.forEach(function(l){l.extensions.forEach(function(i){kg(l.type,i.name,i.impl)})});var Pg=function l(){if(!(this instanceof l))return new l;this.length=0},md=Pg.prototype;md.instanceString=function(){return"stylesheet"},md.selector=function(l){return this[this.length++]={selector:l,properties:[]},this},md.css=function(l,i){var s=this.length-1;if(Be(l))this[s].properties.push({name:l,value:i});else if(Ke(l))for(var d=l,h=Object.keys(d),p=0;p<h.length;p++){var g=h[p],w=d[g];if(null!=w){var E=Go.properties[g]||Go.properties[yn(g)];null!=E&&this[s].properties.push({name:E.name,value:w})}}return this},md.style=md.css,md.generateStyle=function(l){var i=new Go(l);return this.appendToStyle(i)},md.appendToStyle=function(l){for(var i=0;i<this.length;i++){var s=this[i],h=s.properties;l.selector(s.selector);for(var p=0;p<h.length;p++){var g=h[p];l.css(g.name,g.value)}}return l};var yd=function(i){return void 0===i&&(i={}),Ke(i)?new ss(i):Be(i)?wp.apply(wp,arguments):void 0};yd.use=function(l){var i=Array.prototype.slice.call(arguments,1);return i.unshift(yd),l.apply(null,i),this},yd.warnings=function(l){return Ca(l)},yd.version="3.25.0",yd.stylesheet=yd.Stylesheet=Pg,Y.exports=yd},8767:(Y,le,D)=>{Y.exports={graphlib:D(5849),layout:D(4395),debug:D(4232),util:{time:D(9505).time,notime:D(9505).notime},version:D(2187)}},1791:(Y,le,D)=>{"use strict";var _=D(3990),L=D(5123);Y.exports={run:function O(S){var R="greedy"===S.graph().acyclicer?L(S,function N(V){return function(P){return V.edge(P).weight}}(S)):function I(S){var R=[],N={},V={};return _.forEach(S.nodes(),function P(B){_.has(V,B)||(V[B]=!0,N[B]=!0,_.forEach(S.outEdges(B),function(U){_.has(N,U.w)?R.push(U):P(U.w)}),delete N[B])}),R}(S);_.forEach(R,function(V){var P=S.edge(V);S.removeEdge(V),P.forwardName=V.name,P.reversed=!0,S.setEdge(V.w,V.v,P,_.uniqueId("rev"))})},undo:function C(S){_.forEach(S.edges(),function(R){var N=S.edge(R);if(N.reversed){S.removeEdge(R);var V=N.forwardName;delete N.reversed,delete N.forwardName,S.setEdge(R.w,R.v,N,V)}})}}},7130:(Y,le,D)=>{var _=D(3990),L=D(9505);function I(C,S,R,N,V,P){var U=V[S][P-1],X=L.addDummyNode(C,"border",{width:0,height:0,rank:P,borderType:S},R);V[S][P]=X,C.setParent(X,N),U&&C.setEdge(U,X,{weight:1})}Y.exports=function O(C){_.forEach(C.children(),function S(R){var N=C.children(R),V=C.node(R);if(N.length&&_.forEach(N,S),_.has(V,"minRank")){V.borderLeft=[],V.borderRight=[];for(var P=V.minRank,B=V.maxRank+1;P<B;++P)I(C,"borderLeft","_bl",R,V,P),I(C,"borderRight","_br",R,V,P)}})}},1048:(Y,le,D)=>{"use strict";var _=D(3990);function I(P){_.forEach(P.nodes(),function(B){C(P.node(B))}),_.forEach(P.edges(),function(B){C(P.edge(B))})}function C(P){var B=P.width;P.width=P.height,P.height=B}function R(P){P.y=-P.y}function V(P){var B=P.x;P.x=P.y,P.y=B}Y.exports={adjust:function L(P){var B=P.graph().rankdir.toLowerCase();("lr"===B||"rl"===B)&&I(P)},undo:function O(P){var B=P.graph().rankdir.toLowerCase();("bt"===B||"rl"===B)&&function S(P){_.forEach(P.nodes(),function(B){R(P.node(B))}),_.forEach(P.edges(),function(B){var U=P.edge(B);_.forEach(U.points,R),_.has(U,"y")&&R(U)})}(P),("lr"===B||"rl"===B)&&(function N(P){_.forEach(P.nodes(),function(B){V(P.node(B))}),_.forEach(P.edges(),function(B){var U=P.edge(B);_.forEach(U.points,V),_.has(U,"x")&&V(U)})}(P),I(P))}}},4312:Y=>{function le(){var L={};L._next=L._prev=L,this._sentinel=L}function D(L){L._prev._next=L._next,L._next._prev=L._prev,delete L._next,delete L._prev}function _(L,O){if("_next"!==L&&"_prev"!==L)return O}Y.exports=le,le.prototype.dequeue=function(){var L=this._sentinel,O=L._prev;if(O!==L)return D(O),O},le.prototype.enqueue=function(L){var O=this._sentinel;L._prev&&L._next&&D(L),L._next=O._next,O._next._prev=L,O._next=L,L._prev=O},le.prototype.toString=function(){for(var L=[],O=this._sentinel,I=O._prev;I!==O;)L.push(JSON.stringify(I,_)),I=I._prev;return"["+L.join(", ")+"]"}},4232:(Y,le,D)=>{var _=D(3990),L=D(9505),O=D(5849).Graph;Y.exports={debugOrdering:function I(C){var S=L.buildLayerMatrix(C),R=new O({compound:!0,multigraph:!0}).setGraph({});return _.forEach(C.nodes(),function(N){R.setNode(N,{label:N}),R.setParent(N,"layer"+C.node(N).rank)}),_.forEach(C.edges(),function(N){R.setEdge(N.v,N.w,{},N.name)}),_.forEach(S,function(N,V){R.setNode("layer"+V,{rank:"same"}),_.reduce(N,function(B,U){return R.setEdge(B,U,{style:"invis"}),U})}),R}}},5849:(Y,le,D)=>{var _;try{_=D(9034)}catch{}_||(_=window.graphlib),Y.exports=_},5123:(Y,le,D)=>{var _=D(3990),L=D(5849).Graph,O=D(4312);Y.exports=function C(P,B){if(P.nodeCount()<=1)return[];var U=function N(P,B){var U=new L,X=0,te=0;_.forEach(P.nodes(),function(ce){U.setNode(ce,{v:ce,in:0,out:0})}),_.forEach(P.edges(),function(ce){var ue=U.edge(ce.v,ce.w)||0,ge=B(ce);U.setEdge(ce.v,ce.w,ue+ge),te=Math.max(te,U.node(ce.v).out+=ge),X=Math.max(X,U.node(ce.w).in+=ge)});var fe=_.range(te+X+3).map(function(){return new O}),ie=X+1;return _.forEach(U.nodes(),function(ce){V(fe,ie,U.node(ce))}),{graph:U,buckets:fe,zeroIdx:ie}}(P,B||I),X=function S(P,B,U){for(var ie,X=[],te=B[B.length-1],fe=B[0];P.nodeCount();){for(;ie=fe.dequeue();)R(P,B,U,ie);for(;ie=te.dequeue();)R(P,B,U,ie);if(P.nodeCount())for(var ce=B.length-2;ce>0;--ce)if(ie=B[ce].dequeue()){X=X.concat(R(P,B,U,ie,!0));break}}return X}(U.graph,U.buckets,U.zeroIdx);return _.flatten(_.map(X,function(te){return P.outEdges(te.v,te.w)}),!0)};var I=_.constant(1);function R(P,B,U,X,te){var fe=te?[]:void 0;return _.forEach(P.inEdges(X.v),function(ie){var ce=P.edge(ie),ue=P.node(ie.v);te&&fe.push({v:ie.v,w:ie.w}),ue.out-=ce,V(B,U,ue)}),_.forEach(P.outEdges(X.v),function(ie){var ce=P.edge(ie),ge=P.node(ie.w);ge.in-=ce,V(B,U,ge)}),P.removeNode(X.v),fe}function V(P,B,U){U.out?U.in?P[U.out-U.in+B].enqueue(U):P[P.length-1].enqueue(U):P[0].enqueue(U)}},4395:(Y,le,D)=>{"use strict";var _=D(3990),L=D(1791),O=D(1684),I=D(3752),C=D(9505).normalizeRanks,S=D(1250),R=D(9505).removeEmptyRanks,N=D(4525),V=D(7130),P=D(1048),B=D(1574),U=D(6403),X=D(9505),te=D(5849).Graph;Y.exports=function fe(it,Je){var ut=Je&&Je.debugTiming?X.time:X.notime;ut("layout",function(){var Pt=ut("  buildLayoutGraph",function(){return function xe(it){var Je=new te({multigraph:!0,compound:!0}),ut=ln(it.graph());return Je.setGraph(_.merge({},ge,gn(ut,ue),_.pick(ut,ne))),_.forEach(it.nodes(),function(Pt){var Mt=ln(it.node(Pt));Je.setNode(Pt,_.defaults(gn(Mt,ve),q)),Je.setParent(Pt,it.parent(Pt))}),_.forEach(it.edges(),function(Pt){var Mt=ln(it.edge(Pt));Je.setEdge(Pt,_.merge({},ae,gn(Mt,se),_.pick(Mt,me)))}),Je}(it)});ut("  runLayout",function(){!function ie(it,Je){Je("    makeSpaceForEdgeLabels",function(){!function Me(it){var Je=it.graph();Je.ranksep/=2,_.forEach(it.edges(),function(ut){var Pt=it.edge(ut);Pt.minlen*=2,"c"!==Pt.labelpos.toLowerCase()&&("TB"===Je.rankdir||"BT"===Je.rankdir?Pt.width+=Pt.labeloffset:Pt.height+=Pt.labeloffset)})}(it)}),Je("    removeSelfEdges",function(){!function Zt(it){_.forEach(it.edges(),function(Je){if(Je.v===Je.w){var ut=it.node(Je.v);ut.selfEdges||(ut.selfEdges=[]),ut.selfEdges.push({e:Je,label:it.edge(Je)}),it.removeEdge(Je)}})}(it)}),Je("    acyclic",function(){L.run(it)}),Je("    nestingGraph.run",function(){N.run(it)}),Je("    rank",function(){I(X.asNonCompoundGraph(it))}),Je("    injectEdgeLabelProxies",function(){!function _e(it){_.forEach(it.edges(),function(Je){var ut=it.edge(Je);if(ut.width&&ut.height){var Pt=it.node(Je.v),Mt=it.node(Je.w);X.addDummyNode(it,"edge-proxy",{rank:(Mt.rank-Pt.rank)/2+Pt.rank,e:Je},"_ep")}})}(it)}),Je("    removeEmptyRanks",function(){R(it)}),Je("    nestingGraph.cleanup",function(){N.cleanup(it)}),Je("    normalizeRanks",function(){C(it)}),Je("    assignRankMinMax",function(){!function Ue(it){var Je=0;_.forEach(it.nodes(),function(ut){var Pt=it.node(ut);Pt.borderTop&&(Pt.minRank=it.node(Pt.borderTop).rank,Pt.maxRank=it.node(Pt.borderBottom).rank,Je=_.max(Je,Pt.maxRank))}),it.graph().maxRank=Je}(it)}),Je("    removeEdgeLabelProxies",function(){!function Be(it){_.forEach(it.nodes(),function(Je){var ut=it.node(Je);"edge-proxy"===ut.dummy&&(it.edge(ut.e).labelRank=ut.rank,it.removeNode(Je))})}(it)}),Je("    normalize.run",function(){O.run(it)}),Je("    parentDummyChains",function(){S(it)}),Je("    addBorderSegments",function(){V(it)}),Je("    order",function(){B(it)}),Je("    insertSelfEdges",function(){!function Vt(it){var Je=X.buildLayerMatrix(it);_.forEach(Je,function(ut){var Pt=0;_.forEach(ut,function(Mt,zn){var jn=it.node(Mt);jn.order=zn+Pt,_.forEach(jn.selfEdges,function(yr){X.addDummyNode(it,"selfedge",{width:yr.label.width,height:yr.label.height,rank:jn.rank,order:zn+ ++Pt,e:yr.e,label:yr.label},"_se")}),delete jn.selfEdges})})}(it)}),Je("    adjustCoordinateSystem",function(){P.adjust(it)}),Je("    position",function(){U(it)}),Je("    positionSelfEdges",function(){!function Ft(it){_.forEach(it.nodes(),function(Je){var ut=it.node(Je);if("selfedge"===ut.dummy){var Pt=it.node(ut.e.v),Mt=Pt.x+Pt.width/2,zn=Pt.y,jn=ut.x-Mt,yr=Pt.height/2;it.setEdge(ut.e,ut.label),it.removeNode(Je),ut.label.points=[{x:Mt+2*jn/3,y:zn-yr},{x:Mt+5*jn/6,y:zn-yr},{x:Mt+jn,y:zn},{x:Mt+5*jn/6,y:zn+yr},{x:Mt+2*jn/3,y:zn+yr}],ut.label.x=ut.x,ut.label.y=ut.y}})}(it)}),Je("    removeBorderNodes",function(){!function Xe(it){_.forEach(it.nodes(),function(Je){if(it.children(Je).length){var ut=it.node(Je),Pt=it.node(ut.borderTop),Mt=it.node(ut.borderBottom),zn=it.node(_.last(ut.borderLeft)),jn=it.node(_.last(ut.borderRight));ut.width=Math.abs(jn.x-zn.x),ut.height=Math.abs(Mt.y-Pt.y),ut.x=zn.x+ut.width/2,ut.y=Pt.y+ut.height/2}}),_.forEach(it.nodes(),function(Je){"border"===it.node(Je).dummy&&it.removeNode(Je)})}(it)}),Je("    normalize.undo",function(){O.undo(it)}),Je("    fixupEdgeLabelCoords",function(){!function Ke(it){_.forEach(it.edges(),function(Je){var ut=it.edge(Je);if(_.has(ut,"x"))switch(("l"===ut.labelpos||"r"===ut.labelpos)&&(ut.width-=ut.labeloffset),ut.labelpos){case"l":ut.x-=ut.width/2+ut.labeloffset;break;case"r":ut.x+=ut.width/2+ut.labeloffset}})}(it)}),Je("    undoCoordinateSystem",function(){P.undo(it)}),Je("    translateGraph",function(){!function nt(it){var Je=Number.POSITIVE_INFINITY,ut=0,Pt=Number.POSITIVE_INFINITY,Mt=0,zn=it.graph(),jn=zn.marginx||0,yr=zn.marginy||0;function Tr(pr){var yn=pr.x,On=pr.y,Ur=pr.width,cn=pr.height;Je=Math.min(Je,yn-Ur/2),ut=Math.max(ut,yn+Ur/2),Pt=Math.min(Pt,On-cn/2),Mt=Math.max(Mt,On+cn/2)}_.forEach(it.nodes(),function(pr){Tr(it.node(pr))}),_.forEach(it.edges(),function(pr){var yn=it.edge(pr);_.has(yn,"x")&&Tr(yn)}),Je-=jn,Pt-=yr,_.forEach(it.nodes(),function(pr){var yn=it.node(pr);yn.x-=Je,yn.y-=Pt}),_.forEach(it.edges(),function(pr){var yn=it.edge(pr);_.forEach(yn.points,function(On){On.x-=Je,On.y-=Pt}),_.has(yn,"x")&&(yn.x-=Je),_.has(yn,"y")&&(yn.y-=Pt)}),zn.width=ut-Je+jn,zn.height=Mt-Pt+yr}(it)}),Je("    assignNodeIntersects",function(){!function lt(it){_.forEach(it.edges(),function(Je){var zn,jn,ut=it.edge(Je),Pt=it.node(Je.v),Mt=it.node(Je.w);ut.points?(zn=ut.points[0],jn=ut.points[ut.points.length-1]):(ut.points=[],zn=Mt,jn=Pt),ut.points.unshift(X.intersectRect(Pt,zn)),ut.points.push(X.intersectRect(Mt,jn))})}(it)}),Je("    reversePoints",function(){!function Ct(it){_.forEach(it.edges(),function(Je){var ut=it.edge(Je);ut.reversed&&ut.points.reverse()})}(it)}),Je("    acyclic.undo",function(){L.undo(it)})}(Pt,ut)}),ut("  updateInputGraph",function(){!function ce(it,Je){_.forEach(it.nodes(),function(ut){var Pt=it.node(ut),Mt=Je.node(ut);Pt&&(Pt.x=Mt.x,Pt.y=Mt.y,Je.children(ut).length&&(Pt.width=Mt.width,Pt.height=Mt.height))}),_.forEach(it.edges(),function(ut){var Pt=it.edge(ut),Mt=Je.edge(ut);Pt.points=Mt.points,_.has(Mt,"x")&&(Pt.x=Mt.x,Pt.y=Mt.y)}),it.graph().width=Je.graph().width,it.graph().height=Je.graph().height}(it,Pt)})})};var ue=["nodesep","edgesep","ranksep","marginx","marginy"],ge={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ne=["acyclicer","ranker","rankdir","align"],ve=["width","height"],q={width:0,height:0},se=["minlen","weight","width","height","labeloffset"],ae={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},me=["labelpos"];function gn(it,Je){return _.mapValues(_.pick(it,Je),Number)}function ln(it){var Je={};return _.forEach(it,function(ut,Pt){Je[Pt.toLowerCase()]=ut}),Je}},3990:(Y,le,D)=>{var _;try{_={cloneDeep:D(4451),constant:D(1075),defaults:D(5433),each:D(6488),filter:D(7661),find:D(6177),flatten:D(9336),forEach:D(7170),forIn:D(1658),has:D(8669),isUndefined:D(8152),last:D(2819),map:D(8921),mapValues:D(6054),max:D(5664),merge:D(2213),min:D(1007),minBy:D(50),now:D(5533),pick:D(7607),range:D(5953),reduce:D(5909),sortBy:D(7184),uniqueId:D(4538),values:D(8808),zipObject:D(4606)}}catch{}_||(_=window._),Y.exports=_},4525:(Y,le,D)=>{var _=D(3990),L=D(9505);function I(N,V,P,B,U,X,te){var fe=N.children(te);if(fe.length){var ie=L.addBorderNode(N,"_bt"),ce=L.addBorderNode(N,"_bb"),ue=N.node(te);N.setParent(ie,te),ue.borderTop=ie,N.setParent(ce,te),ue.borderBottom=ce,_.forEach(fe,function(ge){I(N,V,P,B,U,X,ge);var ne=N.node(ge),ve=ne.borderTop?ne.borderTop:ge,q=ne.borderBottom?ne.borderBottom:ge,se=ne.borderTop?B:2*B,ae=ve!==q?1:U-X[te]+1;N.setEdge(ie,ve,{weight:se,minlen:ae,nestingEdge:!0}),N.setEdge(q,ce,{weight:se,minlen:ae,nestingEdge:!0})}),N.parent(te)||N.setEdge(V,ie,{weight:0,minlen:U+X[te]})}else te!==V&&N.setEdge(V,te,{weight:0,minlen:P})}Y.exports={run:function O(N){var V=L.addDummyNode(N,"root",{},"_root"),P=function C(N){var V={};function P(B,U){var X=N.children(B);X&&X.length&&_.forEach(X,function(te){P(te,U+1)}),V[B]=U}return _.forEach(N.children(),function(B){P(B,1)}),V}(N),B=_.max(_.values(P))-1,U=2*B+1;N.graph().nestingRoot=V,_.forEach(N.edges(),function(te){N.edge(te).minlen*=U});var X=function S(N){return _.reduce(N.edges(),function(V,P){return V+N.edge(P).weight},0)}(N)+1;_.forEach(N.children(),function(te){I(N,V,U,X,B,P,te)}),N.graph().nodeRankFactor=U},cleanup:function R(N){var V=N.graph();N.removeNode(V.nestingRoot),delete V.nestingRoot,_.forEach(N.edges(),function(P){N.edge(P).nestingEdge&&N.removeEdge(P)})}}},1684:(Y,le,D)=>{"use strict";var _=D(3990),L=D(9505);Y.exports={run:function O(S){S.graph().dummyChains=[],_.forEach(S.edges(),function(R){!function I(S,R){var N=R.v,V=S.node(N).rank,P=R.w,B=S.node(P).rank,U=R.name,X=S.edge(R),te=X.labelRank;if(B!==V+1){var fe,ie,ce;for(S.removeEdge(R),ce=0,++V;V<B;++ce,++V)X.points=[],fe=L.addDummyNode(S,"edge",ie={width:0,height:0,edgeLabel:X,edgeObj:R,rank:V},"_d"),V===te&&(ie.width=X.width,ie.height=X.height,ie.dummy="edge-label",ie.labelpos=X.labelpos),S.setEdge(N,fe,{weight:X.weight},U),0===ce&&S.graph().dummyChains.push(fe),N=fe;S.setEdge(N,P,{weight:X.weight},U)}}(S,R)})},undo:function C(S){_.forEach(S.graph().dummyChains,function(R){var P,N=S.node(R),V=N.edgeLabel;for(S.setEdge(N.edgeObj,V);N.dummy;)P=S.successors(R)[0],S.removeNode(R),V.points.push({x:N.x,y:N.y}),"edge-label"===N.dummy&&(V.x=N.x,V.y=N.y,V.width=N.width,V.height=N.height),N=S.node(R=P)})}}},9821:(Y,le,D)=>{var _=D(3990);Y.exports=function L(O,I,C){var R,S={};_.forEach(C,function(N){for(var P,B,V=O.parent(N);V;){if((P=O.parent(V))?(B=S[P],S[P]=V):(B=R,R=V),B&&B!==V)return void I.setEdge(B,V);V=P}})}},7995:(Y,le,D)=>{var _=D(3990);Y.exports=function L(O,I){return _.map(I,function(C){var S=O.inEdges(C);if(S.length){var R=_.reduce(S,function(N,V){var P=O.edge(V),B=O.node(V.v);return{sum:N.sum+P.weight*B.order,weight:N.weight+P.weight}},{sum:0,weight:0});return{v:C,barycenter:R.sum/R.weight,weight:R.weight}}return{v:C}})}},9384:(Y,le,D)=>{var _=D(3990),L=D(5849).Graph;Y.exports=function O(C,S,R){var N=function I(C){for(var S;C.hasNode(S=_.uniqueId("_root")););return S}(C),V=new L({compound:!0}).setGraph({root:N}).setDefaultNodeLabel(function(P){return C.node(P)});return _.forEach(C.nodes(),function(P){var B=C.node(P),U=C.parent(P);(B.rank===S||B.minRank<=S&&S<=B.maxRank)&&(V.setNode(P),V.setParent(P,U||N),_.forEach(C[R](P),function(X){var te=X.v===P?X.w:X.v,fe=V.edge(te,P),ie=_.isUndefined(fe)?0:fe.weight;V.setEdge(te,P,{weight:C.edge(X).weight+ie})}),_.has(B,"minRank")&&V.setNode(P,{borderLeft:B.borderLeft[S],borderRight:B.borderRight[S]}))}),V}},444:(Y,le,D)=>{"use strict";var _=D(3990);function O(I,C,S){for(var R=_.zipObject(S,_.map(S,function(X,te){return te})),N=_.flatten(_.map(C,function(X){return _.sortBy(_.map(I.outEdges(X),function(te){return{pos:R[te.w],weight:I.edge(te).weight}}),"pos")}),!0),V=1;V<S.length;)V<<=1;var P=2*V-1;V-=1;var B=_.map(new Array(P),function(){return 0}),U=0;return _.forEach(N.forEach(function(X){var te=X.pos+V;B[te]+=X.weight;for(var fe=0;te>0;)te%2&&(fe+=B[te+1]),B[te=te-1>>1]+=X.weight;U+=X.weight*fe})),U}Y.exports=function L(I,C){for(var S=0,R=1;R<C.length;++R)S+=O(I,C[R-1],C[R]);return S}},1574:(Y,le,D)=>{"use strict";var _=D(3990),L=D(320),O=D(444),I=D(8005),C=D(9384),S=D(9821),R=D(5849).Graph,N=D(9505);function P(X,te,fe){return _.map(te,function(ie){return C(X,ie,fe)})}function B(X,te){var fe=new R;_.forEach(X,function(ie){var ce=ie.graph().root,ue=I(ie,ce,fe,te);_.forEach(ue.vs,function(ge,ne){ie.node(ge).order=ne}),S(ie,fe,ue.vs)})}function U(X,te){_.forEach(te,function(fe){_.forEach(fe,function(ie,ce){X.node(ie).order=ce})})}Y.exports=function V(X){var te=N.maxRank(X),fe=P(X,_.range(1,te+1),"inEdges"),ie=P(X,_.range(te-1,-1,-1),"outEdges"),ce=L(X);U(X,ce);for(var ge,ue=Number.POSITIVE_INFINITY,ne=0,ve=0;ve<4;++ne,++ve){B(ne%2?fe:ie,ne%4>=2),ce=N.buildLayerMatrix(X);var q=O(X,ce);q<ue&&(ve=0,ge=_.cloneDeep(ce),ue=q)}U(X,ge)}},320:(Y,le,D)=>{"use strict";var _=D(3990);Y.exports=function L(O){var I={},C=_.filter(O.nodes(),function(P){return!O.children(P).length}),S=_.max(_.map(C,function(P){return O.node(P).rank})),R=_.map(_.range(S+1),function(){return[]}),V=_.sortBy(C,function(P){return O.node(P).rank});return _.forEach(V,function N(P){if(!_.has(I,P)){I[P]=!0;var B=O.node(P);R[B.rank].push(P),_.forEach(O.successors(P),N)}}),R}},6686:(Y,le,D)=>{"use strict";var _=D(3990);Y.exports=function L(C,S){var R={};return _.forEach(C,function(V,P){var B=R[V.v]={indegree:0,in:[],out:[],vs:[V.v],i:P};_.isUndefined(V.barycenter)||(B.barycenter=V.barycenter,B.weight=V.weight)}),_.forEach(S.edges(),function(V){var P=R[V.v],B=R[V.w];!_.isUndefined(P)&&!_.isUndefined(B)&&(B.indegree++,P.out.push(R[V.w]))}),function O(C){var S=[];function R(P){return function(B){B.merged||(_.isUndefined(B.barycenter)||_.isUndefined(P.barycenter)||B.barycenter>=P.barycenter)&&function I(C,S){var R=0,N=0;C.weight&&(R+=C.barycenter*C.weight,N+=C.weight),S.weight&&(R+=S.barycenter*S.weight,N+=S.weight),C.vs=S.vs.concat(C.vs),C.barycenter=R/N,C.weight=N,C.i=Math.min(S.i,C.i),S.merged=!0}(P,B)}}function N(P){return function(B){B.in.push(P),0==--B.indegree&&C.push(B)}}for(;C.length;){var V=C.pop();S.push(V),_.forEach(V.in.reverse(),R(V)),_.forEach(V.out,N(V))}return _.map(_.filter(S,function(P){return!P.merged}),function(P){return _.pick(P,["vs","i","barycenter","weight"])})}(_.filter(R,function(V){return!V.indegree}))}},8005:(Y,le,D)=>{var _=D(3990),L=D(7995),O=D(6686),I=D(8380);Y.exports=function C(N,V,P,B){var U=N.children(V),X=N.node(V),te=X?X.borderLeft:void 0,fe=X?X.borderRight:void 0,ie={};te&&(U=_.filter(U,function(q){return q!==te&&q!==fe}));var ce=L(N,U);_.forEach(ce,function(q){if(N.children(q.v).length){var se=C(N,q.v,P,B);ie[q.v]=se,_.has(se,"barycenter")&&function R(N,V){_.isUndefined(N.barycenter)?(N.barycenter=V.barycenter,N.weight=V.weight):(N.barycenter=(N.barycenter*N.weight+V.barycenter*V.weight)/(N.weight+V.weight),N.weight+=V.weight)}(q,se)}});var ue=O(ce,P);!function S(N,V){_.forEach(N,function(P){P.vs=_.flatten(P.vs.map(function(B){return V[B]?V[B].vs:B}),!0)})}(ue,ie);var ge=I(ue,B);if(te&&(ge.vs=_.flatten([te,ge.vs,fe],!0),N.predecessors(te).length)){var ne=N.node(N.predecessors(te)[0]),ve=N.node(N.predecessors(fe)[0]);_.has(ge,"barycenter")||(ge.barycenter=0,ge.weight=0),ge.barycenter=(ge.barycenter*ge.weight+ne.order+ve.order)/(ge.weight+2),ge.weight+=2}return ge}},8380:(Y,le,D)=>{var _=D(3990),L=D(9505);function I(S,R,N){for(var V;R.length&&(V=_.last(R)).i<=N;)R.pop(),S.push(V.vs),N++;return N}Y.exports=function O(S,R){var N=L.partition(S,function(ie){return _.has(ie,"barycenter")}),V=N.lhs,P=_.sortBy(N.rhs,function(ie){return-ie.i}),B=[],U=0,X=0,te=0;V.sort(function C(S){return function(R,N){return R.barycenter<N.barycenter?-1:R.barycenter>N.barycenter?1:S?N.i-R.i:R.i-N.i}}(!!R)),te=I(B,P,te),_.forEach(V,function(ie){te+=ie.vs.length,B.push(ie.vs),U+=ie.barycenter*ie.weight,X+=ie.weight,te=I(B,P,te)});var fe={vs:_.flatten(B,!0)};return X&&(fe.barycenter=U/X,fe.weight=X),fe}},1250:(Y,le,D)=>{var _=D(3990);Y.exports=function L(C){var S=function I(C){var S={},R=0;return _.forEach(C.children(),function N(V){var P=R;_.forEach(C.children(V),N),S[V]={low:P,lim:R++}}),S}(C);_.forEach(C.graph().dummyChains,function(R){for(var N=C.node(R),V=N.edgeObj,P=function O(C,S,R,N){var X,te,V=[],P=[],B=Math.min(S[R].low,S[N].low),U=Math.max(S[R].lim,S[N].lim);X=R;do{X=C.parent(X),V.push(X)}while(X&&(S[X].low>B||U>S[X].lim));for(te=X,X=N;(X=C.parent(X))!==te;)P.push(X);return{path:V.concat(P.reverse()),lca:te}}(C,S,V.v,V.w),B=P.path,U=P.lca,X=0,te=B[X],fe=!0;R!==V.w;){if(N=C.node(R),fe){for(;(te=B[X])!==U&&C.node(te).maxRank<N.rank;)X++;te===U&&(fe=!1)}if(!fe){for(;X<B.length-1&&C.node(te=B[X+1]).minRank<=N.rank;)X++;te=B[X]}C.setParent(R,te),R=C.successors(R)[0]}})}},8851:(Y,le,D)=>{"use strict";var _=D(3990),L=D(5849).Graph,O=D(9505);function I(ue,ge){var ne={};return _.reduce(ge,function ve(q,se){var ae=0,me=0,xe=q.length,Me=_.last(se);return _.forEach(se,function(_e,Ue){var Be=function S(ue,ge){if(ue.node(ge).dummy)return _.find(ue.predecessors(ge),function(ne){return ue.node(ne).dummy})}(ue,_e),nt=Be?ue.node(Be).order:xe;(Be||_e===Me)&&(_.forEach(se.slice(me,Ue+1),function(lt){_.forEach(ue.predecessors(lt),function(Ke){var Ct=ue.node(Ke),Xe=Ct.order;(Xe<ae||nt<Xe)&&(!Ct.dummy||!ue.node(lt).dummy)&&R(ne,Ke,lt)})}),me=Ue+1,ae=nt)}),se}),ne}function C(ue,ge){var ne={};function ve(se,ae,me,xe,Me){var _e;_.forEach(_.range(ae,me),function(Ue){ue.node(_e=se[Ue]).dummy&&_.forEach(ue.predecessors(_e),function(Be){var nt=ue.node(Be);nt.dummy&&(nt.order<xe||nt.order>Me)&&R(ne,Be,_e)})})}return _.reduce(ge,function q(se,ae){var xe,me=-1,Me=0;return _.forEach(ae,function(_e,Ue){if("border"===ue.node(_e).dummy){var Be=ue.predecessors(_e);Be.length&&(xe=ue.node(Be[0]).order,ve(ae,Me,Ue,me,xe),Me=Ue,me=xe)}ve(ae,Me,ae.length,xe,se.length)}),ae}),ne}function R(ue,ge,ne){if(ge>ne){var ve=ge;ge=ne,ne=ve}var q=ue[ge];q||(ue[ge]=q={}),q[ne]=!0}function N(ue,ge,ne){if(ge>ne){var ve=ge;ge=ne,ne=ve}return _.has(ue[ge],ne)}function V(ue,ge,ne,ve){var q={},se={},ae={};return _.forEach(ge,function(me){_.forEach(me,function(xe,Me){q[xe]=xe,se[xe]=xe,ae[xe]=Me})}),_.forEach(ge,function(me){var xe=-1;_.forEach(me,function(Me){var _e=ve(Me);if(_e.length)for(var Ue=((_e=_.sortBy(_e,function(Ke){return ae[Ke]})).length-1)/2,Be=Math.floor(Ue),nt=Math.ceil(Ue);Be<=nt;++Be){var lt=_e[Be];se[Me]===Me&&xe<ae[lt]&&!N(ne,Me,lt)&&(se[lt]=Me,se[Me]=q[Me]=q[lt],xe=ae[lt])}})}),{root:q,align:se}}function P(ue,ge,ne,ve,q){var se={},ae=function B(ue,ge,ne,ve){var q=new L,se=ue.graph(),ae=function ie(ue,ge,ne){return function(ve,q,se){var Me,ae=ve.node(q),me=ve.node(se),xe=0;if(xe+=ae.width/2,_.has(ae,"labelpos"))switch(ae.labelpos.toLowerCase()){case"l":Me=-ae.width/2;break;case"r":Me=ae.width/2}if(Me&&(xe+=ne?Me:-Me),Me=0,xe+=(ae.dummy?ge:ue)/2,xe+=(me.dummy?ge:ue)/2,xe+=me.width/2,_.has(me,"labelpos"))switch(me.labelpos.toLowerCase()){case"l":Me=me.width/2;break;case"r":Me=-me.width/2}return Me&&(xe+=ne?Me:-Me),Me=0,xe}}(se.nodesep,se.edgesep,ve);return _.forEach(ge,function(me){var xe;_.forEach(me,function(Me){var _e=ne[Me];if(q.setNode(_e),xe){var Ue=ne[xe],Be=q.edge(Ue,_e);q.setEdge(Ue,_e,Math.max(ae(ue,Me,xe),Be||0))}xe=Me})}),q}(ue,ge,ne,q),me=q?"borderLeft":"borderRight";function xe(Ue,Be){for(var nt=ae.nodes(),lt=nt.pop(),Ke={};lt;)Ke[lt]?Ue(lt):(Ke[lt]=!0,nt.push(lt),nt=nt.concat(Be(lt))),lt=nt.pop()}return xe(function Me(Ue){se[Ue]=ae.inEdges(Ue).reduce(function(Be,nt){return Math.max(Be,se[nt.v]+ae.edge(nt))},0)},ae.predecessors.bind(ae)),xe(function _e(Ue){var Be=ae.outEdges(Ue).reduce(function(lt,Ke){return Math.min(lt,se[Ke.w]-ae.edge(Ke))},Number.POSITIVE_INFINITY),nt=ue.node(Ue);Be!==Number.POSITIVE_INFINITY&&nt.borderType!==me&&(se[Ue]=Math.max(se[Ue],Be))},ae.successors.bind(ae)),_.forEach(ve,function(Ue){se[Ue]=se[ne[Ue]]}),se}function U(ue,ge){return _.minBy(_.values(ge),function(ne){var ve=Number.NEGATIVE_INFINITY,q=Number.POSITIVE_INFINITY;return _.forIn(ne,function(se,ae){var me=function ce(ue,ge){return ue.node(ge).width}(ue,ae)/2;ve=Math.max(se+me,ve),q=Math.min(se-me,q)}),ve-q})}function X(ue,ge){var ne=_.values(ge),ve=_.min(ne),q=_.max(ne);_.forEach(["u","d"],function(se){_.forEach(["l","r"],function(ae){var Me,me=se+ae,xe=ue[me];if(xe!==ge){var _e=_.values(xe);(Me="l"===ae?ve-_.min(_e):q-_.max(_e))&&(ue[me]=_.mapValues(xe,function(Ue){return Ue+Me}))}})})}function te(ue,ge){return _.mapValues(ue.ul,function(ne,ve){if(ge)return ue[ge.toLowerCase()][ve];var q=_.sortBy(_.map(ue,ve));return(q[1]+q[2])/2})}Y.exports={positionX:function fe(ue){var q,ge=O.buildLayerMatrix(ue),ne=_.merge(I(ue,ge),C(ue,ge)),ve={};_.forEach(["u","d"],function(ae){q="u"===ae?ge:_.values(ge).reverse(),_.forEach(["l","r"],function(me){"r"===me&&(q=_.map(q,function(Ue){return _.values(Ue).reverse()}));var xe=("u"===ae?ue.predecessors:ue.successors).bind(ue),Me=V(0,q,ne,xe),_e=P(ue,q,Me.root,Me.align,"r"===me);"r"===me&&(_e=_.mapValues(_e,function(Ue){return-Ue})),ve[ae+me]=_e})});var se=U(ue,ve);return X(ve,se),te(ve,ue.graph().align)},findType1Conflicts:I,findType2Conflicts:C,addConflict:R,hasConflict:N,verticalAlignment:V,horizontalCompaction:P,alignCoordinates:X,findSmallestWidthAlignment:U,balance:te}},6403:(Y,le,D)=>{"use strict";var _=D(3990),L=D(9505),O=D(8851).positionX;Y.exports=function I(S){(function C(S){var R=L.buildLayerMatrix(S),N=S.graph().ranksep,V=0;_.forEach(R,function(P){var B=_.max(_.map(P,function(U){return S.node(U).height}));_.forEach(P,function(U){S.node(U).y=V+B/2}),V+=B+N})})(S=L.asNonCompoundGraph(S)),_.forEach(O(S),function(R,N){S.node(N).x=R})}},8214:(Y,le,D)=>{"use strict";var _=D(3990),L=D(5849).Graph,O=D(4216).slack;function C(N,V){return _.forEach(N.nodes(),function P(B){_.forEach(V.nodeEdges(B),function(U){var X=U.v,te=B===X?U.w:X;!N.hasNode(te)&&!O(V,U)&&(N.setNode(te,{}),N.setEdge(B,te,{}),P(te))})}),N.nodeCount()}function S(N,V){return _.minBy(V.edges(),function(P){if(N.hasNode(P.v)!==N.hasNode(P.w))return O(V,P)})}function R(N,V,P){_.forEach(N.nodes(),function(B){V.node(B).rank+=P})}Y.exports=function I(N){var U,X,V=new L({directed:!1}),P=N.nodes()[0],B=N.nodeCount();for(V.setNode(P,{});C(V,N)<B;)U=S(V,N),X=V.hasNode(U.v)?O(N,U):-O(N,U),R(V,N,X);return V}},3752:(Y,le,D)=>{"use strict";var L=D(4216).longestPath,O=D(8214),I=D(4857);Y.exports=function C(V){switch(V.graph().ranker){case"network-simplex":default:!function N(V){I(V)}(V);break;case"tight-tree":!function R(V){L(V),O(V)}(V);break;case"longest-path":S(V)}};var S=L},4857:(Y,le,D)=>{"use strict";var _=D(3990),L=D(8214),O=D(4216).slack,I=D(4216).longestPath,C=D(5849).alg.preorder,S=D(5849).alg.postorder,R=D(9505).simplify;function N(ne){ne=R(ne),I(ne);var q,ve=L(ne);for(U(ve),V(ve,ne);q=te(ve);)ie(ve,ne,q,fe(ve,ne,q))}function V(ne,ve){var q=S(ne,ne.nodes());q=q.slice(0,q.length-1),_.forEach(q,function(se){!function P(ne,ve,q){var se=ne.node(q);ne.edge(q,se.parent).cutvalue=B(ne,ve,q)}(ne,ve,se)})}function B(ne,ve,q){var ae=ne.node(q).parent,me=!0,xe=ve.edge(q,ae),Me=0;return xe||(me=!1,xe=ve.edge(ae,q)),Me=xe.weight,_.forEach(ve.nodeEdges(q),function(_e){var Ue=_e.v===q,Be=Ue?_e.w:_e.v;if(Be!==ae){var nt=Ue===me,lt=ve.edge(_e).weight;if(Me+=nt?lt:-lt,function ue(ne,ve,q){return ne.hasEdge(ve,q)}(ne,q,Be)){var Ke=ne.edge(q,Be).cutvalue;Me+=nt?-Ke:Ke}}}),Me}function U(ne,ve){arguments.length<2&&(ve=ne.nodes()[0]),X(ne,{},1,ve)}function X(ne,ve,q,se,ae){var me=q,xe=ne.node(se);return ve[se]=!0,_.forEach(ne.neighbors(se),function(Me){_.has(ve,Me)||(q=X(ne,ve,q,Me,se))}),xe.low=me,xe.lim=q++,ae?xe.parent=ae:delete xe.parent,q}function te(ne){return _.find(ne.edges(),function(ve){return ne.edge(ve).cutvalue<0})}function fe(ne,ve,q){var se=q.v,ae=q.w;ve.hasEdge(se,ae)||(se=q.w,ae=q.v);var me=ne.node(se),xe=ne.node(ae),Me=me,_e=!1;me.lim>xe.lim&&(Me=xe,_e=!0);var Ue=_.filter(ve.edges(),function(Be){return _e===ge(0,ne.node(Be.v),Me)&&_e!==ge(0,ne.node(Be.w),Me)});return _.minBy(Ue,function(Be){return O(ve,Be)})}function ie(ne,ve,q,se){ne.removeEdge(q.v,q.w),ne.setEdge(se.v,se.w,{}),U(ne),V(ne,ve),function ce(ne,ve){var q=_.find(ne.nodes(),function(ae){return!ve.node(ae).parent}),se=C(ne,q);se=se.slice(1),_.forEach(se,function(ae){var me=ne.node(ae).parent,xe=ve.edge(ae,me),Me=!1;xe||(xe=ve.edge(me,ae),Me=!0),ve.node(ae).rank=ve.node(me).rank+(Me?xe.minlen:-xe.minlen)})}(ne,ve)}function ge(ne,ve,q){return q.low<=ve.lim&&ve.lim<=q.lim}Y.exports=N,N.initLowLimValues=U,N.initCutValues=V,N.calcCutValue=B,N.leaveEdge=te,N.enterEdge=fe,N.exchangeEdges=ie},4216:(Y,le,D)=>{"use strict";var _=D(3990);Y.exports={longestPath:function L(I){var C={};_.forEach(I.sources(),function S(R){var N=I.node(R);if(_.has(C,R))return N.rank;C[R]=!0;var V=_.min(_.map(I.outEdges(R),function(P){return S(P.w)-I.edge(P).minlen}));return(V===Number.POSITIVE_INFINITY||null==V)&&(V=0),N.rank=V})},slack:function O(I,C){return I.node(C.w).rank-I.node(C.v).rank-I.edge(C).minlen}}},9505:(Y,le,D)=>{"use strict";var _=D(3990),L=D(5849).Graph;function O(ce,ue,ge,ne){var ve;do{ve=_.uniqueId(ne)}while(ce.hasNode(ve));return ge.dummy=ue,ce.setNode(ve,ge),ve}function X(ce){return _.max(_.map(ce.nodes(),function(ue){var ge=ce.node(ue).rank;if(!_.isUndefined(ge))return ge}))}Y.exports={addDummyNode:O,simplify:function I(ce){var ue=(new L).setGraph(ce.graph());return _.forEach(ce.nodes(),function(ge){ue.setNode(ge,ce.node(ge))}),_.forEach(ce.edges(),function(ge){var ne=ue.edge(ge.v,ge.w)||{weight:0,minlen:1},ve=ce.edge(ge);ue.setEdge(ge.v,ge.w,{weight:ne.weight+ve.weight,minlen:Math.max(ne.minlen,ve.minlen)})}),ue},asNonCompoundGraph:function C(ce){var ue=new L({multigraph:ce.isMultigraph()}).setGraph(ce.graph());return _.forEach(ce.nodes(),function(ge){ce.children(ge).length||ue.setNode(ge,ce.node(ge))}),_.forEach(ce.edges(),function(ge){ue.setEdge(ge,ce.edge(ge))}),ue},successorWeights:function S(ce){var ue=_.map(ce.nodes(),function(ge){var ne={};return _.forEach(ce.outEdges(ge),function(ve){ne[ve.w]=(ne[ve.w]||0)+ce.edge(ve).weight}),ne});return _.zipObject(ce.nodes(),ue)},predecessorWeights:function R(ce){var ue=_.map(ce.nodes(),function(ge){var ne={};return _.forEach(ce.inEdges(ge),function(ve){ne[ve.v]=(ne[ve.v]||0)+ce.edge(ve).weight}),ne});return _.zipObject(ce.nodes(),ue)},intersectRect:function N(ce,ue){var me,xe,ge=ce.x,ne=ce.y,ve=ue.x-ge,q=ue.y-ne,se=ce.width/2,ae=ce.height/2;if(!ve&&!q)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(q)*se>Math.abs(ve)*ae?(q<0&&(ae=-ae),me=ae*ve/q,xe=ae):(ve<0&&(se=-se),me=se,xe=se*q/ve),{x:ge+me,y:ne+xe}},buildLayerMatrix:function V(ce){var ue=_.map(_.range(X(ce)+1),function(){return[]});return _.forEach(ce.nodes(),function(ge){var ne=ce.node(ge),ve=ne.rank;_.isUndefined(ve)||(ue[ve][ne.order]=ge)}),ue},normalizeRanks:function P(ce){var ue=_.min(_.map(ce.nodes(),function(ge){return ce.node(ge).rank}));_.forEach(ce.nodes(),function(ge){var ne=ce.node(ge);_.has(ne,"rank")&&(ne.rank-=ue)})},removeEmptyRanks:function B(ce){var ue=_.min(_.map(ce.nodes(),function(q){return ce.node(q).rank})),ge=[];_.forEach(ce.nodes(),function(q){var se=ce.node(q).rank-ue;ge[se]||(ge[se]=[]),ge[se].push(q)});var ne=0,ve=ce.graph().nodeRankFactor;_.forEach(ge,function(q,se){_.isUndefined(q)&&se%ve!=0?--ne:ne&&_.forEach(q,function(ae){ce.node(ae).rank+=ne})})},addBorderNode:function U(ce,ue,ge,ne){var ve={width:0,height:0};return arguments.length>=4&&(ve.rank=ge,ve.order=ne),O(ce,"border",ve,ue)},maxRank:X,partition:function te(ce,ue){var ge={lhs:[],rhs:[]};return _.forEach(ce,function(ne){ue(ne)?ge.lhs.push(ne):ge.rhs.push(ne)}),ge},time:function fe(ce,ue){var ge=_.now();try{return ue()}finally{console.log(ce+" time: "+(_.now()-ge)+"ms")}},notime:function ie(ce,ue){return ue()}}},2187:Y=>{Y.exports="0.8.5"},9034:(Y,le,D)=>{var _=D(3934);Y.exports={Graph:_.Graph,json:D(2440),alg:D(3955),version:_.version}},1986:(Y,le,D)=>{var _=D(9368);Y.exports=function L(O){var S,I={},C=[];function R(N){_.has(I,N)||(I[N]=!0,S.push(N),_.each(O.successors(N),R),_.each(O.predecessors(N),R))}return _.each(O.nodes(),function(N){S=[],R(N),S.length&&C.push(S)}),C}},1428:(Y,le,D)=>{var _=D(9368);function O(I,C,S,R,N,V){_.has(R,C)||(R[C]=!0,S||V.push(C),_.each(N(C),function(P){O(I,P,S,R,N,V)}),S&&V.push(C))}Y.exports=function L(I,C,S){_.isArray(C)||(C=[C]);var R=(I.isDirected()?I.successors:I.neighbors).bind(I),N=[],V={};return _.each(C,function(P){if(!I.hasNode(P))throw new Error("Graph does not have node: "+P);O(I,P,"post"===S,V,R,N)}),N}},5583:(Y,le,D)=>{var _=D(2644),L=D(9368);Y.exports=function O(I,C,S){return L.transform(I.nodes(),function(R,N){R[N]=_(I,N,C,S)},{})}},2644:(Y,le,D)=>{var _=D(9368),L=D(1321);Y.exports=function I(S,R,N,V){return function C(S,R,N,V){var U,X,P={},B=new L,te=function(fe){var ie=fe.v!==U?fe.v:fe.w,ce=P[ie],ue=N(fe),ge=X.distance+ue;if(ue<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+fe+" Weight: "+ue);ge<ce.distance&&(ce.distance=ge,ce.predecessor=U,B.decrease(ie,ge))};for(S.nodes().forEach(function(fe){var ie=fe===R?0:Number.POSITIVE_INFINITY;P[fe]={distance:ie},B.add(fe,ie)});B.size()>0&&(U=B.removeMin(),(X=P[U]).distance!==Number.POSITIVE_INFINITY);)V(U).forEach(te);return P}(S,String(R),N||O,V||function(P){return S.outEdges(P)})};var O=_.constant(1)},7651:(Y,le,D)=>{var _=D(9368),L=D(3628);Y.exports=function O(I){return _.filter(L(I),function(C){return C.length>1||1===C.length&&I.hasEdge(C[0],C[0])})}},5160:(Y,le,D)=>{var _=D(9368);Y.exports=function O(C,S,R){return function I(C,S,R){var N={},V=C.nodes();return V.forEach(function(P){N[P]={},N[P][P]={distance:0},V.forEach(function(B){P!==B&&(N[P][B]={distance:Number.POSITIVE_INFINITY})}),R(P).forEach(function(B){var U=B.v===P?B.w:B.v,X=S(B);N[P][U]={distance:X,predecessor:P}})}),V.forEach(function(P){var B=N[P];V.forEach(function(U){var X=N[U];V.forEach(function(te){var ie=B[te],ce=X[te],ue=X[P].distance+ie.distance;ue<ce.distance&&(ce.distance=ue,ce.predecessor=ie.predecessor)})})}),N}(C,S||L,R||function(N){return C.outEdges(N)})};var L=_.constant(1)},3955:(Y,le,D)=>{Y.exports={components:D(1986),dijkstra:D(2644),dijkstraAll:D(5583),findCycles:D(7651),floydWarshall:D(5160),isAcyclic:D(6993),postorder:D(703),preorder:D(6544),prim:D(4338),tarjan:D(3628),topsort:D(5344)}},6993:(Y,le,D)=>{var _=D(5344);Y.exports=function L(O){try{_(O)}catch(I){if(I instanceof _.CycleException)return!1;throw I}return!0}},703:(Y,le,D)=>{var _=D(1428);Y.exports=function L(O,I){return _(O,I,"post")}},6544:(Y,le,D)=>{var _=D(1428);Y.exports=function L(O,I){return _(O,I,"pre")}},4338:(Y,le,D)=>{var _=D(9368),L=D(427),O=D(1321);Y.exports=function I(C,S){var P,R=new L,N={},V=new O;function B(X){var te=X.v===P?X.w:X.v,fe=V.priority(te);if(void 0!==fe){var ie=S(X);ie<fe&&(N[te]=P,V.decrease(te,ie))}}if(0===C.nodeCount())return R;_.each(C.nodes(),function(X){V.add(X,Number.POSITIVE_INFINITY),R.setNode(X)}),V.decrease(C.nodes()[0],0);for(var U=!1;V.size()>0;){if(P=V.removeMin(),_.has(N,P))R.setEdge(P,N[P]);else{if(U)throw new Error("Input graph is not connected: "+C);U=!0}C.nodeEdges(P).forEach(B)}return R}},3628:(Y,le,D)=>{var _=D(9368);Y.exports=function L(O){var I=0,C=[],S={},R=[];function N(V){var P=S[V]={onStack:!0,lowlink:I,index:I++};if(C.push(V),O.successors(V).forEach(function(X){_.has(S,X)?S[X].onStack&&(P.lowlink=Math.min(P.lowlink,S[X].index)):(N(X),P.lowlink=Math.min(P.lowlink,S[X].lowlink))}),P.lowlink===P.index){var U,B=[];do{U=C.pop(),S[U].onStack=!1,B.push(U)}while(V!==U);R.push(B)}}return O.nodes().forEach(function(V){_.has(S,V)||N(V)}),R}},5344:(Y,le,D)=>{var _=D(9368);function L(I){var C={},S={},R=[];if(_.each(I.sinks(),function N(V){if(_.has(S,V))throw new O;_.has(C,V)||(S[V]=!0,C[V]=!0,_.each(I.predecessors(V),N),delete S[V],R.push(V))}),_.size(C)!==I.nodeCount())throw new O;return R}function O(){}Y.exports=L,L.CycleException=O,O.prototype=new Error},1321:(Y,le,D)=>{var _=D(9368);function L(){this._arr=[],this._keyIndices={}}Y.exports=L,L.prototype.size=function(){return this._arr.length},L.prototype.keys=function(){return this._arr.map(function(O){return O.key})},L.prototype.has=function(O){return _.has(this._keyIndices,O)},L.prototype.priority=function(O){var I=this._keyIndices[O];if(void 0!==I)return this._arr[I].priority},L.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},L.prototype.add=function(O,I){var C=this._keyIndices;if(O=String(O),!_.has(C,O)){var S=this._arr,R=S.length;return C[O]=R,S.push({key:O,priority:I}),this._decrease(R),!0}return!1},L.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var O=this._arr.pop();return delete this._keyIndices[O.key],this._heapify(0),O.key},L.prototype.decrease=function(O,I){var C=this._keyIndices[O];if(I>this._arr[C].priority)throw new Error("New priority is greater than current priority. Key: "+O+" Old: "+this._arr[C].priority+" New: "+I);this._arr[C].priority=I,this._decrease(C)},L.prototype._heapify=function(O){var I=this._arr,C=2*O,S=C+1,R=O;C<I.length&&(R=I[C].priority<I[R].priority?C:R,S<I.length&&(R=I[S].priority<I[R].priority?S:R),R!==O&&(this._swap(O,R),this._heapify(R)))},L.prototype._decrease=function(O){for(var S,I=this._arr,C=I[O].priority;0!==O&&!(I[S=O>>1].priority<C);)this._swap(O,S),O=S},L.prototype._swap=function(O,I){var C=this._arr,S=this._keyIndices,R=C[O],N=C[I];C[O]=N,C[I]=R,S[N.key]=O,S[R.key]=I}},427:(Y,le,D)=>{"use strict";var _=D(9368);Y.exports=C;var L="\0",O="\0",I="\x01";function C(B){this._isDirected=!_.has(B,"directed")||B.directed,this._isMultigraph=!!_.has(B,"multigraph")&&B.multigraph,this._isCompound=!!_.has(B,"compound")&&B.compound,this._label=void 0,this._defaultNodeLabelFn=_.constant(void 0),this._defaultEdgeLabelFn=_.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[O]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function S(B,U){B[U]?B[U]++:B[U]=1}function R(B,U){--B[U]||delete B[U]}function N(B,U,X,te){var fe=""+U,ie=""+X;if(!B&&fe>ie){var ce=fe;fe=ie,ie=ce}return fe+I+ie+I+(_.isUndefined(te)?L:te)}function P(B,U){return N(B,U.v,U.w,U.name)}C.prototype._nodeCount=0,C.prototype._edgeCount=0,C.prototype.isDirected=function(){return this._isDirected},C.prototype.isMultigraph=function(){return this._isMultigraph},C.prototype.isCompound=function(){return this._isCompound},C.prototype.setGraph=function(B){return this._label=B,this},C.prototype.graph=function(){return this._label},C.prototype.setDefaultNodeLabel=function(B){return _.isFunction(B)||(B=_.constant(B)),this._defaultNodeLabelFn=B,this},C.prototype.nodeCount=function(){return this._nodeCount},C.prototype.nodes=function(){return _.keys(this._nodes)},C.prototype.sources=function(){var B=this;return _.filter(this.nodes(),function(U){return _.isEmpty(B._in[U])})},C.prototype.sinks=function(){var B=this;return _.filter(this.nodes(),function(U){return _.isEmpty(B._out[U])})},C.prototype.setNodes=function(B,U){var X=arguments,te=this;return _.each(B,function(fe){X.length>1?te.setNode(fe,U):te.setNode(fe)}),this},C.prototype.setNode=function(B,U){return _.has(this._nodes,B)?(arguments.length>1&&(this._nodes[B]=U),this):(this._nodes[B]=arguments.length>1?U:this._defaultNodeLabelFn(B),this._isCompound&&(this._parent[B]=O,this._children[B]={},this._children[O][B]=!0),this._in[B]={},this._preds[B]={},this._out[B]={},this._sucs[B]={},++this._nodeCount,this)},C.prototype.node=function(B){return this._nodes[B]},C.prototype.hasNode=function(B){return _.has(this._nodes,B)},C.prototype.removeNode=function(B){var U=this;if(_.has(this._nodes,B)){var X=function(te){U.removeEdge(U._edgeObjs[te])};delete this._nodes[B],this._isCompound&&(this._removeFromParentsChildList(B),delete this._parent[B],_.each(this.children(B),function(te){U.setParent(te)}),delete this._children[B]),_.each(_.keys(this._in[B]),X),delete this._in[B],delete this._preds[B],_.each(_.keys(this._out[B]),X),delete this._out[B],delete this._sucs[B],--this._nodeCount}return this},C.prototype.setParent=function(B,U){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(_.isUndefined(U))U=O;else{for(var X=U+="";!_.isUndefined(X);X=this.parent(X))if(X===B)throw new Error("Setting "+U+" as parent of "+B+" would create a cycle");this.setNode(U)}return this.setNode(B),this._removeFromParentsChildList(B),this._parent[B]=U,this._children[U][B]=!0,this},C.prototype._removeFromParentsChildList=function(B){delete this._children[this._parent[B]][B]},C.prototype.parent=function(B){if(this._isCompound){var U=this._parent[B];if(U!==O)return U}},C.prototype.children=function(B){if(_.isUndefined(B)&&(B=O),this._isCompound){var U=this._children[B];if(U)return _.keys(U)}else{if(B===O)return this.nodes();if(this.hasNode(B))return[]}},C.prototype.predecessors=function(B){var U=this._preds[B];if(U)return _.keys(U)},C.prototype.successors=function(B){var U=this._sucs[B];if(U)return _.keys(U)},C.prototype.neighbors=function(B){var U=this.predecessors(B);if(U)return _.union(U,this.successors(B))},C.prototype.isLeaf=function(B){return 0===(this.isDirected()?this.successors(B):this.neighbors(B)).length},C.prototype.filterNodes=function(B){var U=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});U.setGraph(this.graph());var X=this;_.each(this._nodes,function(ie,ce){B(ce)&&U.setNode(ce,ie)}),_.each(this._edgeObjs,function(ie){U.hasNode(ie.v)&&U.hasNode(ie.w)&&U.setEdge(ie,X.edge(ie))});var te={};function fe(ie){var ce=X.parent(ie);return void 0===ce||U.hasNode(ce)?(te[ie]=ce,ce):ce in te?te[ce]:fe(ce)}return this._isCompound&&_.each(U.nodes(),function(ie){U.setParent(ie,fe(ie))}),U},C.prototype.setDefaultEdgeLabel=function(B){return _.isFunction(B)||(B=_.constant(B)),this._defaultEdgeLabelFn=B,this},C.prototype.edgeCount=function(){return this._edgeCount},C.prototype.edges=function(){return _.values(this._edgeObjs)},C.prototype.setPath=function(B,U){var X=this,te=arguments;return _.reduce(B,function(fe,ie){return te.length>1?X.setEdge(fe,ie,U):X.setEdge(fe,ie),ie}),this},C.prototype.setEdge=function(){var B,U,X,te,fe=!1,ie=arguments[0];"object"==typeof ie&&null!==ie&&"v"in ie?(B=ie.v,U=ie.w,X=ie.name,2===arguments.length&&(te=arguments[1],fe=!0)):(B=ie,U=arguments[1],X=arguments[3],arguments.length>2&&(te=arguments[2],fe=!0)),B=""+B,U=""+U,_.isUndefined(X)||(X=""+X);var ce=N(this._isDirected,B,U,X);if(_.has(this._edgeLabels,ce))return fe&&(this._edgeLabels[ce]=te),this;if(!_.isUndefined(X)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(B),this.setNode(U),this._edgeLabels[ce]=fe?te:this._defaultEdgeLabelFn(B,U,X);var ue=function V(B,U,X,te){var fe=""+U,ie=""+X;if(!B&&fe>ie){var ce=fe;fe=ie,ie=ce}var ue={v:fe,w:ie};return te&&(ue.name=te),ue}(this._isDirected,B,U,X);return B=ue.v,U=ue.w,Object.freeze(ue),this._edgeObjs[ce]=ue,S(this._preds[U],B),S(this._sucs[B],U),this._in[U][ce]=ue,this._out[B][ce]=ue,this._edgeCount++,this},C.prototype.edge=function(B,U,X){var te=1===arguments.length?P(this._isDirected,arguments[0]):N(this._isDirected,B,U,X);return this._edgeLabels[te]},C.prototype.hasEdge=function(B,U,X){var te=1===arguments.length?P(this._isDirected,arguments[0]):N(this._isDirected,B,U,X);return _.has(this._edgeLabels,te)},C.prototype.removeEdge=function(B,U,X){var te=1===arguments.length?P(this._isDirected,arguments[0]):N(this._isDirected,B,U,X),fe=this._edgeObjs[te];return fe&&(B=fe.v,U=fe.w,delete this._edgeLabels[te],delete this._edgeObjs[te],R(this._preds[U],B),R(this._sucs[B],U),delete this._in[U][te],delete this._out[B][te],this._edgeCount--),this},C.prototype.inEdges=function(B,U){var X=this._in[B];if(X){var te=_.values(X);return U?_.filter(te,function(fe){return fe.v===U}):te}},C.prototype.outEdges=function(B,U){var X=this._out[B];if(X){var te=_.values(X);return U?_.filter(te,function(fe){return fe.w===U}):te}},C.prototype.nodeEdges=function(B,U){var X=this.inEdges(B,U);if(X)return X.concat(this.outEdges(B,U))}},3934:(Y,le,D)=>{Y.exports={Graph:D(427),version:D(7747)}},2440:(Y,le,D)=>{var _=D(9368),L=D(427);function I(R){return _.map(R.nodes(),function(N){var V=R.node(N),P=R.parent(N),B={v:N};return _.isUndefined(V)||(B.value=V),_.isUndefined(P)||(B.parent=P),B})}function C(R){return _.map(R.edges(),function(N){var V=R.edge(N),P={v:N.v,w:N.w};return _.isUndefined(N.name)||(P.name=N.name),_.isUndefined(V)||(P.value=V),P})}Y.exports={write:function O(R){var N={options:{directed:R.isDirected(),multigraph:R.isMultigraph(),compound:R.isCompound()},nodes:I(R),edges:C(R)};return _.isUndefined(R.graph())||(N.value=_.clone(R.graph())),N},read:function S(R){var N=new L(R.options).setGraph(R.value);return _.each(R.nodes,function(V){N.setNode(V.v,V.value),V.parent&&N.setParent(V.v,V.parent)}),_.each(R.edges,function(V){N.setEdge({v:V.v,w:V.w,name:V.name},V.value)}),N}}},9368:(Y,le,D)=>{var _;try{_={clone:D(8734),constant:D(1075),each:D(6488),filter:D(7661),has:D(8669),isArray:D(2261),isEmpty:D(5350),isFunction:D(6861),isUndefined:D(8152),keys:D(4614),map:D(8921),reduce:D(5909),size:D(5741),transform:D(6893),union:D(2480),values:D(8808)}}catch{}_||(_=window._),Y.exports=_},7747:Y=>{Y.exports="2.1.8"},7444:(Y,le,D)=>{Y.exports=D(7253)},7253:function(Y,le){var D,_,L;(function(){var O,I,C,S,R,N,V,P,B,U,X,te,fe,ie,ce;C=Math.floor,U=Math.min,I=function(ue,ge){return ue<ge?-1:ue>ge?1:0},B=function(ue,ge,ne,ve,q){var se;if(null==ne&&(ne=0),null==q&&(q=I),ne<0)throw new Error("lo must be non-negative");for(null==ve&&(ve=ue.length);ne<ve;)q(ge,ue[se=C((ne+ve)/2)])<0?ve=se:ne=se+1;return[].splice.apply(ue,[ne,ne-ne].concat(ge)),ge},N=function(ue,ge,ne){return null==ne&&(ne=I),ue.push(ge),ie(ue,0,ue.length-1,ne)},R=function(ue,ge){var ne,ve;return null==ge&&(ge=I),ne=ue.pop(),ue.length?(ve=ue[0],ue[0]=ne,ce(ue,0,ge)):ve=ne,ve},P=function(ue,ge,ne){var ve;return null==ne&&(ne=I),ve=ue[0],ue[0]=ge,ce(ue,0,ne),ve},V=function(ue,ge,ne){var ve;return null==ne&&(ne=I),ue.length&&ne(ue[0],ge)<0&&(ge=(ve=[ue[0],ge])[0],ue[0]=ve[1],ce(ue,0,ne)),ge},S=function(ue,ge){var ve,se,me,xe,Me;for(null==ge&&(ge=I),xe=[],ve=0,se=(me=function(){Me=[];for(var _e=0,Ue=C(ue.length/2);0<=Ue?_e<Ue:_e>Ue;0<=Ue?_e++:_e--)Me.push(_e);return Me}.apply(this).reverse()).length;ve<se;ve++)xe.push(ce(ue,me[ve],ge));return xe},fe=function(ue,ge,ne){var ve;if(null==ne&&(ne=I),-1!==(ve=ue.indexOf(ge)))return ie(ue,0,ve,ne),ce(ue,ve,ne)},X=function(ue,ge,ne){var q,se,ae,me;if(null==ne&&(ne=I),!(q=ue.slice(0,ge)).length)return q;for(S(q,ne),se=0,ae=(me=ue.slice(ge)).length;se<ae;se++)V(q,me[se],ne);return q.sort(ne).reverse()},te=function(ue,ge,ne){var ve,se,ae,me,xe,Me,_e,Ue,Be;if(null==ne&&(ne=I),10*ge<=ue.length){if(!(ae=ue.slice(0,ge).sort(ne)).length)return ae;for(se=ae[ae.length-1],me=0,Me=(_e=ue.slice(ge)).length;me<Me;me++)ne(ve=_e[me],se)<0&&(B(ae,ve,0,null,ne),ae.pop(),se=ae[ae.length-1]);return ae}for(S(ue,ne),Be=[],xe=0,Ue=U(ge,ue.length);0<=Ue?xe<Ue:xe>Ue;0<=Ue?++xe:--xe)Be.push(R(ue,ne));return Be},ie=function(ue,ge,ne,ve){var q,se,ae;for(null==ve&&(ve=I),q=ue[ne];ne>ge&&ve(q,se=ue[ae=ne-1>>1])<0;)ue[ne]=se,ne=ae;return ue[ne]=q},ce=function(ue,ge,ne){var ve,q,se,ae,me;for(null==ne&&(ne=I),q=ue.length,me=ge,se=ue[ge],ve=2*ge+1;ve<q;)(ae=ve+1)<q&&!(ne(ue[ve],ue[ae])<0)&&(ve=ae),ue[ge]=ue[ve],ve=2*(ge=ve)+1;return ue[ge]=se,ie(ue,me,ge,ne)},O=function(){function ue(ge){this.cmp=ge??I,this.nodes=[]}return ue.push=N,ue.pop=R,ue.replace=P,ue.pushpop=V,ue.heapify=S,ue.updateItem=fe,ue.nlargest=X,ue.nsmallest=te,ue.prototype.push=function(ge){return N(this.nodes,ge,this.cmp)},ue.prototype.pop=function(){return R(this.nodes,this.cmp)},ue.prototype.peek=function(){return this.nodes[0]},ue.prototype.contains=function(ge){return-1!==this.nodes.indexOf(ge)},ue.prototype.replace=function(ge){return P(this.nodes,ge,this.cmp)},ue.prototype.pushpop=function(ge){return V(this.nodes,ge,this.cmp)},ue.prototype.heapify=function(){return S(this.nodes,this.cmp)},ue.prototype.updateItem=function(ge){return fe(this.nodes,ge,this.cmp)},ue.prototype.clear=function(){return this.nodes=[]},ue.prototype.empty=function(){return 0===this.nodes.length},ue.prototype.size=function(){return this.nodes.length},ue.prototype.clone=function(){var ge;return(ge=new ue).nodes=this.nodes.slice(0),ge},ue.prototype.toArray=function(){return this.nodes.slice(0)},ue.prototype.insert=ue.prototype.push,ue.prototype.top=ue.prototype.peek,ue.prototype.front=ue.prototype.peek,ue.prototype.has=ue.prototype.contains,ue.prototype.copy=ue.prototype.clone,ue}(),_=[],void 0===(L="function"==typeof(D=function(){return O})?D.apply(le,_):D)||(Y.exports=L)}).call(this)},4465:function(Y){Y.exports=function(le){var D={};function _(L){if(D[L])return D[L].exports;var O=D[L]={i:L,l:!1,exports:{}};return le[L].call(O.exports,O,O.exports,_),O.l=!0,O.exports}return _.m=le,_.c=D,_.i=function(L){return L},_.d=function(L,O,I){_.o(L,O)||Object.defineProperty(L,O,{configurable:!1,enumerable:!0,get:I})},_.n=function(L){var O=L&&L.__esModule?function(){return L.default}:function(){return L};return _.d(O,"a",O),O},_.o=function(L,O){return Object.prototype.hasOwnProperty.call(L,O)},_.p="",_(_.s=26)}([function(le,D,_){"use strict";function L(){}L.QUALITY=1,L.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,L.DEFAULT_INCREMENTAL=!1,L.DEFAULT_ANIMATION_ON_LAYOUT=!0,L.DEFAULT_ANIMATION_DURING_LAYOUT=!1,L.DEFAULT_ANIMATION_PERIOD=50,L.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,L.DEFAULT_GRAPH_MARGIN=15,L.NODE_DIMENSIONS_INCLUDE_LABELS=!1,L.SIMPLE_NODE_HALF_SIZE=(L.SIMPLE_NODE_SIZE=40)/2,L.EMPTY_COMPOUND_NODE_SIZE=40,L.MIN_EDGE_LENGTH=1,L.INITIAL_WORLD_BOUNDARY=(L.WORLD_BOUNDARY=1e6)/1e3,L.WORLD_CENTER_X=1200,L.WORLD_CENTER_Y=900,le.exports=L},function(le,D,_){"use strict";var L=_(2),O=_(8),I=_(9);function C(R,N,V){L.call(this,V),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=V,this.bendpoints=[],this.source=R,this.target=N}for(var S in C.prototype=Object.create(L.prototype),L)C[S]=L[S];C.prototype.getSource=function(){return this.source},C.prototype.getTarget=function(){return this.target},C.prototype.isInterGraph=function(){return this.isInterGraph},C.prototype.getLength=function(){return this.length},C.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},C.prototype.getBendpoints=function(){return this.bendpoints},C.prototype.getLca=function(){return this.lca},C.prototype.getSourceInLca=function(){return this.sourceInLca},C.prototype.getTargetInLca=function(){return this.targetInLca},C.prototype.getOtherEnd=function(R){if(this.source===R)return this.target;if(this.target===R)return this.source;throw"Node is not incident with this edge"},C.prototype.getOtherEndInGraph=function(R,N){for(var V=this.getOtherEnd(R),P=N.getGraphManager().getRoot();;){if(V.getOwner()==N)return V;if(V.getOwner()==P)break;V=V.getOwner().getParent()}return null},C.prototype.updateLength=function(){var R=new Array(4);this.isOverlapingSourceAndTarget=O.getIntersection(this.target.getRect(),this.source.getRect(),R),this.isOverlapingSourceAndTarget||(this.lengthX=R[0]-R[2],this.lengthY=R[1]-R[3],Math.abs(this.lengthX)<1&&(this.lengthX=I.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=I.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},C.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=I.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=I.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},le.exports=C},function(le,D,_){"use strict";le.exports=function L(O){this.vGraphObject=O}},function(le,D,_){"use strict";var L=_(2),O=_(10),I=_(13),C=_(0),S=_(16),R=_(4);function N(P,B,U,X){null==U&&null==X&&(X=B),L.call(this,X),null!=P.graphManager&&(P=P.graphManager),this.estimatedSize=O.MIN_VALUE,this.inclusionTreeDepth=O.MAX_VALUE,this.vGraphObject=X,this.edges=[],this.graphManager=P,this.rect=null!=U&&null!=B?new I(B.x,B.y,U.width,U.height):new I}for(var V in N.prototype=Object.create(L.prototype),L)N[V]=L[V];N.prototype.getEdges=function(){return this.edges},N.prototype.getChild=function(){return this.child},N.prototype.getOwner=function(){return this.owner},N.prototype.getWidth=function(){return this.rect.width},N.prototype.setWidth=function(P){this.rect.width=P},N.prototype.getHeight=function(){return this.rect.height},N.prototype.setHeight=function(P){this.rect.height=P},N.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},N.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},N.prototype.getCenter=function(){return new R(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},N.prototype.getLocation=function(){return new R(this.rect.x,this.rect.y)},N.prototype.getRect=function(){return this.rect},N.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},N.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},N.prototype.setRect=function(P,B){this.rect.x=P.x,this.rect.y=P.y,this.rect.width=B.width,this.rect.height=B.height},N.prototype.setCenter=function(P,B){this.rect.x=P-this.rect.width/2,this.rect.y=B-this.rect.height/2},N.prototype.setLocation=function(P,B){this.rect.x=P,this.rect.y=B},N.prototype.moveBy=function(P,B){this.rect.x+=P,this.rect.y+=B},N.prototype.getEdgeListToNode=function(P){var B=[],X=this;return X.edges.forEach(function(te){if(te.target==P){if(te.source!=X)throw"Incorrect edge source!";B.push(te)}}),B},N.prototype.getEdgesBetween=function(P){var B=[],X=this;return X.edges.forEach(function(te){if(te.source!=X&&te.target!=X)throw"Incorrect edge source and/or target";(te.target==P||te.source==P)&&B.push(te)}),B},N.prototype.getNeighborsList=function(){var P=new Set,B=this;return B.edges.forEach(function(U){if(U.source==B)P.add(U.target);else{if(U.target!=B)throw"Incorrect incidency!";P.add(U.source)}}),P},N.prototype.withChildren=function(){var P=new Set;if(P.add(this),null!=this.child)for(var X=this.child.getNodes(),te=0;te<X.length;te++)X[te].withChildren().forEach(function(fe){P.add(fe)});return P},N.prototype.getNoOfChildren=function(){var P=0;if(null==this.child)P=1;else for(var U=this.child.getNodes(),X=0;X<U.length;X++)P+=U[X].getNoOfChildren();return 0==P&&(P=1),P},N.prototype.getEstimatedSize=function(){if(this.estimatedSize==O.MIN_VALUE)throw"assert failed";return this.estimatedSize},N.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},N.prototype.scatter=function(){var P,B,U=-C.INITIAL_WORLD_BOUNDARY,X=C.INITIAL_WORLD_BOUNDARY;P=C.WORLD_CENTER_X+S.nextDouble()*(X-U)+U;var te=-C.INITIAL_WORLD_BOUNDARY,fe=C.INITIAL_WORLD_BOUNDARY;B=C.WORLD_CENTER_Y+S.nextDouble()*(fe-te)+te,this.rect.x=P,this.rect.y=B},N.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var P=this.getChild();if(P.updateBounds(!0),this.rect.x=P.getLeft(),this.rect.y=P.getTop(),this.setWidth(P.getRight()-P.getLeft()),this.setHeight(P.getBottom()-P.getTop()),C.NODE_DIMENSIONS_INCLUDE_LABELS){var B=P.getRight()-P.getLeft(),U=P.getBottom()-P.getTop();this.labelWidth>B&&(this.rect.x-=(this.labelWidth-B)/2,this.setWidth(this.labelWidth)),this.labelHeight>U&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-U)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-U),this.setHeight(this.labelHeight))}}},N.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==O.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},N.prototype.transform=function(P){var B=this.rect.x;B>C.WORLD_BOUNDARY?B=C.WORLD_BOUNDARY:B<-C.WORLD_BOUNDARY&&(B=-C.WORLD_BOUNDARY);var U=this.rect.y;U>C.WORLD_BOUNDARY?U=C.WORLD_BOUNDARY:U<-C.WORLD_BOUNDARY&&(U=-C.WORLD_BOUNDARY);var X=new R(B,U),te=P.inverseTransformPoint(X);this.setLocation(te.x,te.y)},N.prototype.getLeft=function(){return this.rect.x},N.prototype.getRight=function(){return this.rect.x+this.rect.width},N.prototype.getTop=function(){return this.rect.y},N.prototype.getBottom=function(){return this.rect.y+this.rect.height},N.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},le.exports=N},function(le,D,_){"use strict";function L(O,I){null==O&&null==I?(this.x=0,this.y=0):(this.x=O,this.y=I)}L.prototype.getX=function(){return this.x},L.prototype.getY=function(){return this.y},L.prototype.setX=function(O){this.x=O},L.prototype.setY=function(O){this.y=O},L.prototype.getDifference=function(O){return new DimensionD(this.x-O.x,this.y-O.y)},L.prototype.getCopy=function(){return new L(this.x,this.y)},L.prototype.translate=function(O){return this.x+=O.width,this.y+=O.height,this},le.exports=L},function(le,D,_){"use strict";var L=_(2),O=_(10),I=_(0),C=_(6),S=_(3),R=_(1),N=_(13),V=_(12),P=_(11);function B(X,te,fe){L.call(this,fe),this.estimatedSize=O.MIN_VALUE,this.margin=I.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=X,null!=te&&te instanceof C?this.graphManager=te:null!=te&&te instanceof Layout&&(this.graphManager=te.graphManager)}for(var U in B.prototype=Object.create(L.prototype),L)B[U]=L[U];B.prototype.getNodes=function(){return this.nodes},B.prototype.getEdges=function(){return this.edges},B.prototype.getGraphManager=function(){return this.graphManager},B.prototype.getParent=function(){return this.parent},B.prototype.getLeft=function(){return this.left},B.prototype.getRight=function(){return this.right},B.prototype.getTop=function(){return this.top},B.prototype.getBottom=function(){return this.bottom},B.prototype.isConnected=function(){return this.isConnected},B.prototype.add=function(X,te,fe){if(null==te&&null==fe){var ie=X;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(ie)>-1)throw"Node already in graph!";return ie.owner=this,this.getNodes().push(ie),ie}var ce=X;if(!(this.getNodes().indexOf(te)>-1&&this.getNodes().indexOf(fe)>-1))throw"Source or target not in graph!";if(te.owner!=fe.owner||te.owner!=this)throw"Both owners must be this graph!";return te.owner!=fe.owner?null:(ce.source=te,ce.target=fe,ce.isInterGraph=!1,this.getEdges().push(ce),te.edges.push(ce),fe!=te&&fe.edges.push(ce),ce)},B.prototype.remove=function(X){var te=X;if(X instanceof S){if(null==te)throw"Node is null!";if(null==te.owner||te.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var fe=te.edges.slice(),ce=fe.length,ue=0;ue<ce;ue++)(ie=fe[ue]).isInterGraph?this.graphManager.remove(ie):ie.source.owner.remove(ie);if(-1==(ge=this.nodes.indexOf(te)))throw"Node not in owner node list!";this.nodes.splice(ge,1)}else if(X instanceof R){var ie;if(null==(ie=X))throw"Edge is null!";if(null==ie.source||null==ie.target)throw"Source and/or target is null!";if(null==ie.source.owner||null==ie.target.owner||ie.source.owner!=this||ie.target.owner!=this)throw"Source and/or target owner is invalid!";var ge,ne=ie.source.edges.indexOf(ie),ve=ie.target.edges.indexOf(ie);if(!(ne>-1&&ve>-1))throw"Source and/or target doesn't know this edge!";if(ie.source.edges.splice(ne,1),ie.target!=ie.source&&ie.target.edges.splice(ve,1),-1==(ge=ie.source.owner.getEdges().indexOf(ie)))throw"Not in owner's edge list!";ie.source.owner.getEdges().splice(ge,1)}},B.prototype.updateLeftTop=function(){for(var fe,ie,ce,X=O.MAX_VALUE,te=O.MAX_VALUE,ue=this.getNodes(),ge=ue.length,ne=0;ne<ge;ne++){var ve=ue[ne];X>(fe=ve.getTop())&&(X=fe),te>(ie=ve.getLeft())&&(te=ie)}return X==O.MAX_VALUE?null:(ce=null!=ue[0].getParent().paddingLeft?ue[0].getParent().paddingLeft:this.margin,this.left=te-ce,this.top=X-ce,new V(this.left,this.top))},B.prototype.updateBounds=function(X){for(var ue,ge,ne,ve,q,te=O.MAX_VALUE,fe=-O.MAX_VALUE,ie=O.MAX_VALUE,ce=-O.MAX_VALUE,se=this.nodes,ae=se.length,me=0;me<ae;me++){var xe=se[me];X&&null!=xe.child&&xe.updateBounds(),te>(ue=xe.getLeft())&&(te=ue),fe<(ge=xe.getRight())&&(fe=ge),ie>(ne=xe.getTop())&&(ie=ne),ce<(ve=xe.getBottom())&&(ce=ve)}var Me=new N(te,ie,fe-te,ce-ie);te==O.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),q=null!=se[0].getParent().paddingLeft?se[0].getParent().paddingLeft:this.margin,this.left=Me.x-q,this.right=Me.x+Me.width+q,this.top=Me.y-q,this.bottom=Me.y+Me.height+q},B.calculateBounds=function(X){for(var ue,ge,ne,ve,te=O.MAX_VALUE,fe=-O.MAX_VALUE,ie=O.MAX_VALUE,ce=-O.MAX_VALUE,q=X.length,se=0;se<q;se++){var ae=X[se];te>(ue=ae.getLeft())&&(te=ue),fe<(ge=ae.getRight())&&(fe=ge),ie>(ne=ae.getTop())&&(ie=ne),ce<(ve=ae.getBottom())&&(ce=ve)}return new N(te,ie,fe-te,ce-ie)},B.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},B.prototype.getEstimatedSize=function(){if(this.estimatedSize==O.MIN_VALUE)throw"assert failed";return this.estimatedSize},B.prototype.calcEstimatedSize=function(){for(var X=0,te=this.nodes,fe=te.length,ie=0;ie<fe;ie++)X+=te[ie].calcEstimatedSize();return this.estimatedSize=0==X?I.EMPTY_COMPOUND_NODE_SIZE:X/Math.sqrt(this.nodes.length),this.estimatedSize},B.prototype.updateConnected=function(){var X=this;if(0!=this.nodes.length){var ce,ue,te=new P,fe=new Set,ie=this.nodes[0];for(ie.withChildren().forEach(function(me){te.push(me),fe.add(me)});0!==te.length;)for(var ne=(ce=(ie=te.shift()).getEdges()).length,ve=0;ve<ne;ve++)null==(ue=ce[ve].getOtherEndInGraph(ie,this))||fe.has(ue)||ue.withChildren().forEach(function(me){te.push(me),fe.add(me)});if(this.isConnected=!1,fe.size>=this.nodes.length){var ae=0;fe.forEach(function(me){me.owner==X&&ae++}),ae==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},le.exports=B},function(le,D,_){"use strict";var L,O=_(1);function I(C){L=_(5),this.layout=C,this.graphs=[],this.edges=[]}I.prototype.addRoot=function(){var C=this.layout.newGraph(),S=this.layout.newNode(null),R=this.add(C,S);return this.setRootGraph(R),this.rootGraph},I.prototype.add=function(C,S,R,N,V){if(null==R&&null==N&&null==V){if(null==C)throw"Graph is null!";if(null==S)throw"Parent node is null!";if(this.graphs.indexOf(C)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(C),null!=C.parent)throw"Already has a parent!";if(null!=S.child)throw"Already has a child!";return C.parent=S,S.child=C,C}V=R,R=C;var P=(N=S).getOwner(),B=V.getOwner();if(null==P||P.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==B||B.getGraphManager()!=this)throw"Target not in this graph mgr!";if(P==B)return R.isInterGraph=!1,P.add(R,N,V);if(R.isInterGraph=!0,R.source=N,R.target=V,this.edges.indexOf(R)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(R),null==R.source||null==R.target)throw"Edge source and/or target is null!";if(-1!=R.source.edges.indexOf(R)||-1!=R.target.edges.indexOf(R))throw"Edge already in source and/or target incidency list!";return R.source.edges.push(R),R.target.edges.push(R),R},I.prototype.remove=function(C){if(C instanceof L){var S=C;if(S.getGraphManager()!=this)throw"Graph not in this graph mgr";if(S!=this.rootGraph&&(null==S.parent||S.parent.graphManager!=this))throw"Invalid parent node!";for(var N,R=[],V=(R=R.concat(S.getEdges())).length,P=0;P<V;P++)S.remove(N=R[P]);var B=[];for(V=(B=B.concat(S.getNodes())).length,P=0;P<V;P++)S.remove(B[P]);S==this.rootGraph&&this.setRootGraph(null);var X=this.graphs.indexOf(S);this.graphs.splice(X,1),S.parent=null}else if(C instanceof O){if(null==(N=C))throw"Edge is null!";if(!N.isInterGraph)throw"Not an inter-graph edge!";if(null==N.source||null==N.target)throw"Source and/or target is null!";if(-1==N.source.edges.indexOf(N)||-1==N.target.edges.indexOf(N))throw"Source and/or target doesn't know this edge!";if(X=N.source.edges.indexOf(N),N.source.edges.splice(X,1),X=N.target.edges.indexOf(N),N.target.edges.splice(X,1),null==N.source.owner||null==N.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==N.source.owner.getGraphManager().edges.indexOf(N))throw"Not in owner graph manager's edge list!";X=N.source.owner.getGraphManager().edges.indexOf(N),N.source.owner.getGraphManager().edges.splice(X,1)}},I.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},I.prototype.getGraphs=function(){return this.graphs},I.prototype.getAllNodes=function(){if(null==this.allNodes){for(var C=[],S=this.getGraphs(),R=S.length,N=0;N<R;N++)C=C.concat(S[N].getNodes());this.allNodes=C}return this.allNodes},I.prototype.resetAllNodes=function(){this.allNodes=null},I.prototype.resetAllEdges=function(){this.allEdges=null},I.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},I.prototype.getAllEdges=function(){if(null==this.allEdges){for(var C=[],S=this.getGraphs(),N=0;N<S.length;N++)C=C.concat(S[N].getEdges());C=C.concat(this.edges),this.allEdges=C}return this.allEdges},I.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},I.prototype.setAllNodesToApplyGravitation=function(C){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=C},I.prototype.getRoot=function(){return this.rootGraph},I.prototype.setRootGraph=function(C){if(C.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=C,null==C.parent&&(C.parent=this.layout.newNode("Root node"))},I.prototype.getLayout=function(){return this.layout},I.prototype.isOneAncestorOfOther=function(C,S){if(null==C||null==S)throw"assert failed";if(C==S)return!0;for(var N,R=C.getOwner();null!=(N=R.getParent());){if(N==S)return!0;if(null==(R=N.getOwner()))break}for(R=S.getOwner();null!=(N=R.getParent());){if(N==C)return!0;if(null==(R=N.getOwner()))break}return!1},I.prototype.calcLowestCommonAncestors=function(){for(var C,S,R,N,V,P=this.getAllEdges(),B=P.length,U=0;U<B;U++)if(S=(C=P[U]).source,R=C.target,C.lca=null,C.sourceInLca=S,C.targetInLca=R,S!=R){for(N=S.getOwner();null==C.lca;){for(C.targetInLca=R,V=R.getOwner();null==C.lca;){if(V==N){C.lca=V;break}if(V==this.rootGraph)break;if(null!=C.lca)throw"assert failed";C.targetInLca=V.getParent(),V=C.targetInLca.getOwner()}if(N==this.rootGraph)break;null==C.lca&&(C.sourceInLca=N.getParent(),N=C.sourceInLca.getOwner())}if(null==C.lca)throw"assert failed"}else C.lca=S.getOwner()},I.prototype.calcLowestCommonAncestor=function(C,S){if(C==S)return C.getOwner();for(var R=C.getOwner();null!=R;){for(var N=S.getOwner();null!=N;){if(N==R)return N;N=N.getParent().getOwner()}R=R.getParent().getOwner()}return R},I.prototype.calcInclusionTreeDepths=function(C,S){null==C&&null==S&&(C=this.rootGraph,S=1);for(var R,N=C.getNodes(),V=N.length,P=0;P<V;P++)(R=N[P]).inclusionTreeDepth=S,null!=R.child&&this.calcInclusionTreeDepths(R.child,S+1)},I.prototype.includesInvalidEdge=function(){for(var C,S=this.edges.length,R=0;R<S;R++)if(this.isOneAncestorOfOther((C=this.edges[R]).source,C.target))return!0;return!1},le.exports=I},function(le,D,_){"use strict";var L=_(0);function O(){}for(var I in L)O[I]=L[I];O.MAX_ITERATIONS=2500,O.DEFAULT_EDGE_LENGTH=50,O.DEFAULT_SPRING_STRENGTH=.45,O.DEFAULT_REPULSION_STRENGTH=4500,O.DEFAULT_GRAVITY_STRENGTH=.4,O.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,O.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,O.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,O.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,O.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,O.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,O.COOLING_ADAPTATION_FACTOR=.33,O.ADAPTATION_LOWER_NODE_LIMIT=1e3,O.ADAPTATION_UPPER_NODE_LIMIT=5e3,O.MAX_NODE_DISPLACEMENT=3*(O.MAX_NODE_DISPLACEMENT_INCREMENTAL=100),O.MIN_REPULSION_DIST=O.DEFAULT_EDGE_LENGTH/10,O.CONVERGENCE_CHECK_PERIOD=100,O.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,O.MIN_EDGE_LENGTH=1,O.GRID_CALCULATION_CHECK_PERIOD=10,le.exports=O},function(le,D,_){"use strict";var L=_(12);function O(){}O.calcSeparationAmount=function(I,C,S,R){if(!I.intersects(C))throw"assert failed";var N=new Array(2);this.decideDirectionsForOverlappingNodes(I,C,N),S[0]=Math.min(I.getRight(),C.getRight())-Math.max(I.x,C.x),S[1]=Math.min(I.getBottom(),C.getBottom())-Math.max(I.y,C.y),I.getX()<=C.getX()&&I.getRight()>=C.getRight()?S[0]+=Math.min(C.getX()-I.getX(),I.getRight()-C.getRight()):C.getX()<=I.getX()&&C.getRight()>=I.getRight()&&(S[0]+=Math.min(I.getX()-C.getX(),C.getRight()-I.getRight())),I.getY()<=C.getY()&&I.getBottom()>=C.getBottom()?S[1]+=Math.min(C.getY()-I.getY(),I.getBottom()-C.getBottom()):C.getY()<=I.getY()&&C.getBottom()>=I.getBottom()&&(S[1]+=Math.min(I.getY()-C.getY(),C.getBottom()-I.getBottom()));var V=Math.abs((C.getCenterY()-I.getCenterY())/(C.getCenterX()-I.getCenterX()));C.getCenterY()===I.getCenterY()&&C.getCenterX()===I.getCenterX()&&(V=1);var P=V*S[0],B=S[1]/V;S[0]<B?B=S[0]:P=S[1],S[0]=-1*N[0]*(B/2+R),S[1]=-1*N[1]*(P/2+R)},O.decideDirectionsForOverlappingNodes=function(I,C,S){S[0]=I.getCenterX()<C.getCenterX()?-1:1,S[1]=I.getCenterY()<C.getCenterY()?-1:1},O.getIntersection2=function(I,C,S){var R=I.getCenterX(),N=I.getCenterY(),V=C.getCenterX(),P=C.getCenterY();if(I.intersects(C))return S[0]=R,S[1]=N,S[2]=V,S[3]=P,!0;var B=I.getX(),U=I.getY(),X=I.getRight(),te=I.getX(),fe=I.getBottom(),ie=I.getRight(),ce=I.getWidthHalf(),ue=I.getHeightHalf(),ge=C.getX(),ne=C.getY(),ve=C.getRight(),q=C.getX(),se=C.getBottom(),ae=C.getRight(),me=C.getWidthHalf(),xe=C.getHeightHalf(),Me=!1,_e=!1;if(R===V){if(N>P)return S[0]=R,S[1]=U,S[2]=V,S[3]=se,!1;if(N<P)return S[0]=R,S[1]=fe,S[2]=V,S[3]=ne,!1}else if(N===P){if(R>V)return S[0]=B,S[1]=N,S[2]=ve,S[3]=P,!1;if(R<V)return S[0]=X,S[1]=N,S[2]=ge,S[3]=P,!1}else{var Ue=I.height/I.width,Be=C.height/C.width,nt=(P-N)/(V-R),lt=void 0,Ke=void 0,Xe=void 0,Vt=void 0;if(-Ue===nt?R>V?(S[0]=te,S[1]=fe,Me=!0):(S[0]=X,S[1]=U,Me=!0):Ue===nt&&(R>V?(S[0]=B,S[1]=U,Me=!0):(S[0]=ie,S[1]=fe,Me=!0)),-Be===nt?V>R?(S[2]=q,S[3]=se,_e=!0):(S[2]=ve,S[3]=ne,_e=!0):Be===nt&&(V>R?(S[2]=ge,S[3]=ne,_e=!0):(S[2]=ae,S[3]=se,_e=!0)),Me&&_e)return!1;if(R>V?N>P?(lt=this.getCardinalDirection(Ue,nt,4),Ke=this.getCardinalDirection(Be,nt,2)):(lt=this.getCardinalDirection(-Ue,nt,3),Ke=this.getCardinalDirection(-Be,nt,1)):N>P?(lt=this.getCardinalDirection(-Ue,nt,1),Ke=this.getCardinalDirection(-Be,nt,3)):(lt=this.getCardinalDirection(Ue,nt,2),Ke=this.getCardinalDirection(Be,nt,4)),!Me)switch(lt){case 1:Xe=U,S[0]=R+-ue/nt,S[1]=Xe;break;case 2:Xe=N+ce*nt,S[0]=ie,S[1]=Xe;break;case 3:Xe=fe,S[0]=R+ue/nt,S[1]=Xe;break;case 4:Xe=N+-ce*nt,S[0]=te,S[1]=Xe}if(!_e)switch(Ke){case 1:Vt=ne,S[2]=V+-xe/nt,S[3]=Vt;break;case 2:Vt=P+me*nt,S[2]=ae,S[3]=Vt;break;case 3:Vt=se,S[2]=V+xe/nt,S[3]=Vt;break;case 4:Vt=P+-me*nt,S[2]=q,S[3]=Vt}}return!1},O.getCardinalDirection=function(I,C,S){return I>C?S:1+S%4},O.getIntersection=function(I,C,S,R){if(null==R)return this.getIntersection2(I,C,S);var ue,ge,ne,ve,q,se,ae,N=I.x,V=I.y,P=C.x,B=C.y,U=S.x,X=S.y,te=R.x,fe=R.y;return q=P*V-N*B,se=te*X-U*fe,0==(ae=(ue=B-V)*(ve=U-te)-(ge=fe-X)*(ne=N-P))?null:new L((ne*se-ve*q)/ae,(ge*q-ue*se)/ae)},O.angleOfVector=function(I,C,S,R){var N=void 0;return I!==S?(N=Math.atan((R-C)/(S-I)),S<I?N+=Math.PI:R<C&&(N+=this.TWO_PI)):N=R<C?this.ONE_AND_HALF_PI:this.HALF_PI,N},O.doIntersect=function(I,C,S,R){var N=I.x,V=I.y,P=C.x,B=C.y,U=S.x,X=S.y,te=R.x,fe=R.y,ie=(P-N)*(fe-X)-(te-U)*(B-V);if(0===ie)return!1;var ce=((fe-X)*(te-N)+(U-te)*(fe-V))/ie,ue=((V-B)*(te-N)+(P-N)*(fe-V))/ie;return 0<ce&&ce<1&&0<ue&&ue<1},O.HALF_PI=.5*Math.PI,O.ONE_AND_HALF_PI=1.5*Math.PI,O.TWO_PI=2*Math.PI,O.THREE_PI=3*Math.PI,le.exports=O},function(le,D,_){"use strict";function L(){}L.sign=function(O){return O>0?1:O<0?-1:0},L.floor=function(O){return O<0?Math.ceil(O):Math.floor(O)},L.ceil=function(O){return O<0?Math.floor(O):Math.ceil(O)},le.exports=L},function(le,D,_){"use strict";function L(){}L.MAX_VALUE=2147483647,L.MIN_VALUE=-2147483648,le.exports=L},function(le,D,_){"use strict";var L=function(){function N(V,P){for(var B=0;B<P.length;B++){var U=P[B];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(V,U.key,U)}}return function(V,P,B){return P&&N(V.prototype,P),B&&N(V,B),V}}();var I=function(V){return{value:V,next:null,prev:null}},C=function(V,P,B,U){return null!==V?V.next=P:U.head=P,null!==B?B.prev=P:U.tail=P,P.prev=V,P.next=B,U.length++,P},S=function(V,P){var B=V.prev,U=V.next;return null!==B?B.next=U:P.head=U,null!==U?U.prev=B:P.tail=B,V.prev=V.next=null,P.length--,V},R=function(){function N(V){var P=this;(function O(N,V){if(!(N instanceof V))throw new TypeError("Cannot call a class as a function")})(this,N),this.length=0,this.head=null,this.tail=null,V?.forEach(function(B){return P.push(B)})}return L(N,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(P,B){return C(B.prev,I(P),B,this)}},{key:"insertAfter",value:function(P,B){return C(B,I(P),B.next,this)}},{key:"insertNodeBefore",value:function(P,B){return C(B.prev,P,B,this)}},{key:"insertNodeAfter",value:function(P,B){return C(B,P,B.next,this)}},{key:"push",value:function(P){return C(this.tail,I(P),null,this)}},{key:"unshift",value:function(P){return C(null,I(P),this.head,this)}},{key:"remove",value:function(P){return S(P,this)}},{key:"pop",value:function(){return S(this.tail,this).value}},{key:"popNode",value:function(){return S(this.tail,this)}},{key:"shift",value:function(){return S(this.head,this).value}},{key:"shiftNode",value:function(){return S(this.head,this)}},{key:"get_object_at",value:function(P){if(P<=this.length()){for(var B=1,U=this.head;B<P;)U=U.next,B++;return U.value}}},{key:"set_object_at",value:function(P,B){if(P<=this.length()){for(var U=1,X=this.head;U<P;)X=X.next,U++;X.value=B}}}]),N}();le.exports=R},function(le,D,_){"use strict";function L(O,I,C){this.x=null,this.y=null,null==O&&null==I&&null==C?(this.x=0,this.y=0):"number"==typeof O&&"number"==typeof I&&null==C?(this.x=O,this.y=I):"Point"==O.constructor.name&&null==I&&null==C&&(this.x=(C=O).x,this.y=C.y)}L.prototype.getX=function(){return this.x},L.prototype.getY=function(){return this.y},L.prototype.getLocation=function(){return new L(this.x,this.y)},L.prototype.setLocation=function(O,I,C){"Point"==O.constructor.name&&null==I&&null==C?this.setLocation((C=O).x,C.y):"number"==typeof O&&"number"==typeof I&&null==C&&(parseInt(O)==O&&parseInt(I)==I?this.move(O,I):(this.x=Math.floor(O+.5),this.y=Math.floor(I+.5)))},L.prototype.move=function(O,I){this.x=O,this.y=I},L.prototype.translate=function(O,I){this.x+=O,this.y+=I},L.prototype.equals=function(O){return"Point"==O.constructor.name?this.x==O.x&&this.y==O.y:this==O},L.prototype.toString=function(){return(new L).constructor.name+"[x="+this.x+",y="+this.y+"]"},le.exports=L},function(le,D,_){"use strict";function L(O,I,C,S){this.x=0,this.y=0,this.width=0,this.height=0,null!=O&&null!=I&&null!=C&&null!=S&&(this.x=O,this.y=I,this.width=C,this.height=S)}L.prototype.getX=function(){return this.x},L.prototype.setX=function(O){this.x=O},L.prototype.getY=function(){return this.y},L.prototype.setY=function(O){this.y=O},L.prototype.getWidth=function(){return this.width},L.prototype.setWidth=function(O){this.width=O},L.prototype.getHeight=function(){return this.height},L.prototype.setHeight=function(O){this.height=O},L.prototype.getRight=function(){return this.x+this.width},L.prototype.getBottom=function(){return this.y+this.height},L.prototype.intersects=function(O){return!(this.getRight()<O.x||this.getBottom()<O.y||O.getRight()<this.x||O.getBottom()<this.y)},L.prototype.getCenterX=function(){return this.x+this.width/2},L.prototype.getMinX=function(){return this.getX()},L.prototype.getMaxX=function(){return this.getX()+this.width},L.prototype.getCenterY=function(){return this.y+this.height/2},L.prototype.getMinY=function(){return this.getY()},L.prototype.getMaxY=function(){return this.getY()+this.height},L.prototype.getWidthHalf=function(){return this.width/2},L.prototype.getHeightHalf=function(){return this.height/2},le.exports=L},function(le,D,_){"use strict";var L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};function O(){}O.lastID=0,O.createID=function(I){return O.isPrimitive(I)?I:(null!=I.uniqueID||(I.uniqueID=O.getString(),O.lastID++),I.uniqueID)},O.getString=function(I){return null==I&&(I=O.lastID),"Object#"+I},O.isPrimitive=function(I){var C=typeof I>"u"?"undefined":L(I);return null==I||"object"!=C&&"function"!=C},le.exports=O},function(le,D,_){"use strict";function L(U){if(Array.isArray(U)){for(var X=0,te=Array(U.length);X<U.length;X++)te[X]=U[X];return te}return Array.from(U)}var O=_(0),I=_(6),C=_(3),S=_(1),R=_(5),N=_(4),V=_(17),P=_(27);function B(U){P.call(this),this.layoutQuality=O.QUALITY,this.createBendsAsNeeded=O.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=O.DEFAULT_INCREMENTAL,this.animationOnLayout=O.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=O.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=O.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=O.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new I(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=U&&(this.isRemoteUse=U)}B.RANDOM_SEED=1,(B.prototype=Object.create(P.prototype)).getGraphManager=function(){return this.graphManager},B.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},B.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},B.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},B.prototype.newGraphManager=function(){var U=new I(this);return this.graphManager=U,U},B.prototype.newGraph=function(U){return new R(null,this.graphManager,U)},B.prototype.newNode=function(U){return new C(this.graphManager,U)},B.prototype.newEdge=function(U){return new S(null,null,U)},B.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},B.prototype.runLayout=function(){var U;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),U=!this.checkLayoutSuccess()&&this.layout(),"during"!==O.ANIMATE&&(U&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,U)},B.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},B.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var X=this.graphManager.getAllEdges(),te=0;te<X.length;te++);var ie=this.graphManager.getRoot().getNodes();for(te=0;te<ie.length;te++);this.update(this.graphManager.getRoot())}},B.prototype.update=function(U){if(null==U)this.update2();else if(U instanceof C){var X=U;if(null!=X.getChild())for(var te=X.getChild().getNodes(),fe=0;fe<te.length;fe++)update(te[fe]);null!=X.vGraphObject&&X.vGraphObject.update(X)}else U instanceof S?null!=U.vGraphObject&&U.vGraphObject.update(U):U instanceof R&&null!=U.vGraphObject&&U.vGraphObject.update(U)},B.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=O.QUALITY,this.animationDuringLayout=O.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=O.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=O.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=O.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=O.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=O.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},B.prototype.transform=function(U){if(null==U)this.transform(new N(0,0));else{var X=new V,te=this.graphManager.getRoot().updateLeftTop();if(null!=te){X.setWorldOrgX(U.x),X.setWorldOrgY(U.y),X.setDeviceOrgX(te.x),X.setDeviceOrgY(te.y);for(var fe=this.getAllNodes(),ce=0;ce<fe.length;ce++)fe[ce].transform(X)}}},B.prototype.positionNodesRandomly=function(U){if(null==U)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var X,te,fe=U.getNodes(),ie=0;ie<fe.length;ie++)null==(te=(X=fe[ie]).getChild())||0==te.getNodes().length?X.scatter():(this.positionNodesRandomly(te),X.updateBounds())},B.prototype.getFlatForest=function(){for(var U=[],X=!0,te=this.graphManager.getRoot().getNodes(),fe=!0,ie=0;ie<te.length;ie++)null!=te[ie].getChild()&&(fe=!1);if(!fe)return U;var ce=new Set,ue=[],ge=new Map,ne=[];for(ne=ne.concat(te);ne.length>0&&X;){for(ue.push(ne[0]);ue.length>0&&X;){var ve=ue[0];ue.splice(0,1),ce.add(ve);var q=ve.getEdges();for(ie=0;ie<q.length;ie++){var se=q[ie].getOtherEnd(ve);if(ge.get(ve)!=se){if(ce.has(se)){X=!1;break}ue.push(se),ge.set(se,ve)}}}if(X){var ae=[].concat(L(ce));for(U.push(ae),ie=0;ie<ae.length;ie++){var xe=ne.indexOf(ae[ie]);xe>-1&&ne.splice(xe,1)}ce=new Set,ge=new Map}else U=[]}return U},B.prototype.createDummyNodesForBendpoints=function(U){for(var X=[],te=U.source,fe=this.graphManager.calcLowestCommonAncestor(U.source,U.target),ie=0;ie<U.bendpoints.length;ie++){var ce=this.newNode(null);ce.setRect(new Point(0,0),new Dimension(1,1)),fe.add(ce);var ue=this.newEdge(null);this.graphManager.add(ue,te,ce),X.add(ce),te=ce}return ue=this.newEdge(null),this.graphManager.add(ue,te,U.target),this.edgeToDummyNodes.set(U,X),U.isInterGraph()?this.graphManager.remove(U):fe.remove(U),X},B.prototype.createBendpointsFromDummyNodes=function(){var U=[];U=U.concat(this.graphManager.getAllEdges()),U=[].concat(L(this.edgeToDummyNodes.keys())).concat(U);for(var X=0;X<U.length;X++){var te=U[X];if(te.bendpoints.length>0){for(var fe=this.edgeToDummyNodes.get(te),ie=0;ie<fe.length;ie++){var ce=fe[ie],ue=new N(ce.getCenterX(),ce.getCenterY()),ge=te.bendpoints.get(ie);ge.x=ue.x,ge.y=ue.y,ce.getOwner().remove(ce)}this.graphManager.add(te,te.source,te.target)}}},B.transform=function(U,X,te,fe){if(null!=te&&null!=fe){var ie=X;return U<=50?ie-=(X-X/te)/50*(50-U):ie+=(X*fe-X)/50*(U-50),ie}var ge,ne;return U<=50?(ge=9*X/500,ne=X/10):(ge=9*X/50,ne=-8*X),ge*U+ne},B.findCenterOfTree=function(U){var X=[];X=X.concat(U);var te=[],fe=new Map,ie=!1,ce=null;(1==X.length||2==X.length)&&(ie=!0,ce=X[0]);for(var ue=0;ue<X.length;ue++){var ne=(ge=X[ue]).getNeighborsList().size;fe.set(ge,ge.getNeighborsList().size),1==ne&&te.push(ge)}var ve=[];for(ve=ve.concat(te);!ie;){var q=[];for(q=q.concat(ve),ve=[],ue=0;ue<X.length;ue++){var ge,se=X.indexOf(ge=X[ue]);se>=0&&X.splice(se,1),ge.getNeighborsList().forEach(function(Me){if(te.indexOf(Me)<0){var Ue=fe.get(Me)-1;1==Ue&&ve.push(Me),fe.set(Me,Ue)}})}te=te.concat(ve),(1==X.length||2==X.length)&&(ie=!0,ce=X[0])}return ce},B.prototype.setGraphManager=function(U){this.graphManager=U},le.exports=B},function(le,D,_){"use strict";function L(){}L.seed=1,L.x=0,L.nextDouble=function(){return(L.x=1e4*Math.sin(L.seed++))-Math.floor(L.x)},le.exports=L},function(le,D,_){"use strict";var L=_(4);function O(I,C){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}O.prototype.getWorldOrgX=function(){return this.lworldOrgX},O.prototype.setWorldOrgX=function(I){this.lworldOrgX=I},O.prototype.getWorldOrgY=function(){return this.lworldOrgY},O.prototype.setWorldOrgY=function(I){this.lworldOrgY=I},O.prototype.getWorldExtX=function(){return this.lworldExtX},O.prototype.setWorldExtX=function(I){this.lworldExtX=I},O.prototype.getWorldExtY=function(){return this.lworldExtY},O.prototype.setWorldExtY=function(I){this.lworldExtY=I},O.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},O.prototype.setDeviceOrgX=function(I){this.ldeviceOrgX=I},O.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},O.prototype.setDeviceOrgY=function(I){this.ldeviceOrgY=I},O.prototype.getDeviceExtX=function(){return this.ldeviceExtX},O.prototype.setDeviceExtX=function(I){this.ldeviceExtX=I},O.prototype.getDeviceExtY=function(){return this.ldeviceExtY},O.prototype.setDeviceExtY=function(I){this.ldeviceExtY=I},O.prototype.transformX=function(I){var C=0,S=this.lworldExtX;return 0!=S&&(C=this.ldeviceOrgX+(I-this.lworldOrgX)*this.ldeviceExtX/S),C},O.prototype.transformY=function(I){var C=0,S=this.lworldExtY;return 0!=S&&(C=this.ldeviceOrgY+(I-this.lworldOrgY)*this.ldeviceExtY/S),C},O.prototype.inverseTransformX=function(I){var C=0,S=this.ldeviceExtX;return 0!=S&&(C=this.lworldOrgX+(I-this.ldeviceOrgX)*this.lworldExtX/S),C},O.prototype.inverseTransformY=function(I){var C=0,S=this.ldeviceExtY;return 0!=S&&(C=this.lworldOrgY+(I-this.ldeviceOrgY)*this.lworldExtY/S),C},O.prototype.inverseTransformPoint=function(I){return new L(this.inverseTransformX(I.x),this.inverseTransformY(I.y))},le.exports=O},function(le,D,_){"use strict";var O=_(15),I=_(7),C=_(0),S=_(8),R=_(9);function N(){O.call(this),this.useSmartIdealEdgeLengthCalculation=I.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=I.DEFAULT_EDGE_LENGTH,this.springConstant=I.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=I.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=I.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=I.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=I.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=I.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*I.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=I.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=I.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=I.MAX_ITERATIONS}for(var V in N.prototype=Object.create(O.prototype),O)N[V]=O[V];N.prototype.initParameters=function(){O.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=I.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},N.prototype.calcIdealEdgeLengths=function(){for(var P,B,U,X,te,fe,ie=this.getGraphManager().getAllEdges(),ce=0;ce<ie.length;ce++)(P=ie[ce]).idealLength=this.idealEdgeLength,P.isInterGraph&&(U=P.getSource(),X=P.getTarget(),te=P.getSourceInLca().getEstimatedSize(),fe=P.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(P.idealLength+=te+fe-2*C.SIMPLE_NODE_SIZE),B=P.getLca().getInclusionTreeDepth(),P.idealLength+=I.DEFAULT_EDGE_LENGTH*I.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(U.getInclusionTreeDepth()+X.getInclusionTreeDepth()-2*B))},N.prototype.initSpringEmbedder=function(){var P=this.getAllNodes().length;this.incremental?(P>I.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*I.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(P-I.ADAPTATION_LOWER_NODE_LIMIT)/(I.ADAPTATION_UPPER_NODE_LIMIT-I.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-I.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=I.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.coolingFactor=P>I.ADAPTATION_LOWER_NODE_LIMIT?Math.max(I.COOLING_ADAPTATION_FACTOR,1-(P-I.ADAPTATION_LOWER_NODE_LIMIT)/(I.ADAPTATION_UPPER_NODE_LIMIT-I.ADAPTATION_LOWER_NODE_LIMIT)*(1-I.COOLING_ADAPTATION_FACTOR)):1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=I.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},N.prototype.calcSpringForces=function(){for(var B,P=this.getAllEdges(),U=0;U<P.length;U++)this.calcSpringForce(B=P[U],B.idealLength)},N.prototype.calcRepulsionForces=function(){var U,X,te,fe,ce,P=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],B=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ie=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%I.GRID_CALCULATION_CHECK_PERIOD==1&&P&&this.updateGrid(),ce=new Set,U=0;U<ie.length;U++)this.calculateRepulsionForceOfANode(te=ie[U],ce,P,B),ce.add(te);else for(U=0;U<ie.length;U++)for(te=ie[U],X=U+1;X<ie.length;X++)fe=ie[X],te.getOwner()==fe.getOwner()&&this.calcRepulsionForce(te,fe)},N.prototype.calcGravitationalForces=function(){for(var B=this.getAllNodesToApplyGravitation(),U=0;U<B.length;U++)this.calcGravitationalForce(B[U])},N.prototype.moveNodes=function(){for(var P=this.getAllNodes(),U=0;U<P.length;U++)P[U].move()},N.prototype.calcSpringForce=function(P,B){var te,fe,ie,ce,U=P.getSource(),X=P.getTarget();if(this.uniformLeafNodeSizes&&null==U.getChild()&&null==X.getChild())P.updateLengthSimple();else if(P.updateLength(),P.isOverlapingSourceAndTarget)return;0!=(te=P.getLength())&&(ce=(fe=this.springConstant*(te-B))*(P.lengthY/te),U.springForceX+=ie=fe*(P.lengthX/te),U.springForceY+=ce,X.springForceX-=ie,X.springForceY-=ce)},N.prototype.calcRepulsionForce=function(P,B){var ie,ce,ue,ge,ne,ve,q,U=P.getRect(),X=B.getRect(),te=new Array(2),fe=new Array(4);if(U.intersects(X)){S.calcSeparationAmount(U,X,te,I.DEFAULT_EDGE_LENGTH/2),q=2*te[1];var se=P.noOfChildren*B.noOfChildren/(P.noOfChildren+B.noOfChildren);P.repulsionForceX-=se*(ve=2*te[0]),P.repulsionForceY-=se*q,B.repulsionForceX+=se*ve,B.repulsionForceY+=se*q}else this.uniformLeafNodeSizes&&null==P.getChild()&&null==B.getChild()?(ie=X.getCenterX()-U.getCenterX(),ce=X.getCenterY()-U.getCenterY()):(S.getIntersection(U,X,fe),ie=fe[2]-fe[0],ce=fe[3]-fe[1]),Math.abs(ie)<I.MIN_REPULSION_DIST&&(ie=R.sign(ie)*I.MIN_REPULSION_DIST),Math.abs(ce)<I.MIN_REPULSION_DIST&&(ce=R.sign(ce)*I.MIN_REPULSION_DIST),ue=ie*ie+ce*ce,ge=Math.sqrt(ue),q=(ne=this.repulsionConstant*P.noOfChildren*B.noOfChildren/ue)*ce/ge,P.repulsionForceX-=ve=ne*ie/ge,P.repulsionForceY-=q,B.repulsionForceX+=ve,B.repulsionForceY+=q},N.prototype.calcGravitationalForce=function(P){var B,U,X,te,fe,ie,ce,ue;U=((B=P.getOwner()).getRight()+B.getLeft())/2,X=(B.getTop()+B.getBottom())/2,te=P.getCenterX()-U,fe=P.getCenterY()-X,ie=Math.abs(te)+P.getWidth()/2,ce=Math.abs(fe)+P.getHeight()/2,P.getOwner()==this.graphManager.getRoot()?(ie>(ue=B.getEstimatedSize()*this.gravityRangeFactor)||ce>ue)&&(P.gravitationForceX=-this.gravityConstant*te,P.gravitationForceY=-this.gravityConstant*fe):(ie>(ue=B.getEstimatedSize()*this.compoundGravityRangeFactor)||ce>ue)&&(P.gravitationForceX=-this.gravityConstant*te*this.compoundGravityConstant,P.gravitationForceY=-this.gravityConstant*fe*this.compoundGravityConstant)},N.prototype.isConverged=function(){var P,B=!1;return this.totalIterations>this.maxIterations/3&&(B=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),P=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,P||B},N.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},N.prototype.calcNoOfChildrenForAllNodes=function(){for(var P,B=this.graphManager.getAllNodes(),U=0;U<B.length;U++)(P=B[U]).noOfChildren=P.getNoOfChildren()},N.prototype.calcGrid=function(P){var B,U;B=parseInt(Math.ceil((P.getRight()-P.getLeft())/this.repulsionRange)),U=parseInt(Math.ceil((P.getBottom()-P.getTop())/this.repulsionRange));for(var X=new Array(B),te=0;te<B;te++)X[te]=new Array(U);for(te=0;te<B;te++)for(var fe=0;fe<U;fe++)X[te][fe]=new Array;return X},N.prototype.addNodeToGrid=function(P,B,U){var X,te,fe,ie;X=parseInt(Math.floor((P.getRect().x-B)/this.repulsionRange)),te=parseInt(Math.floor((P.getRect().width+P.getRect().x-B)/this.repulsionRange)),fe=parseInt(Math.floor((P.getRect().y-U)/this.repulsionRange)),ie=parseInt(Math.floor((P.getRect().height+P.getRect().y-U)/this.repulsionRange));for(var ce=X;ce<=te;ce++)for(var ue=fe;ue<=ie;ue++)this.grid[ce][ue].push(P),P.setGridCoordinates(X,te,fe,ie)},N.prototype.updateGrid=function(){var P,U=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),P=0;P<U.length;P++)this.addNodeToGrid(U[P],this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},N.prototype.calculateRepulsionForceOfANode=function(P,B,U,X){if(this.totalIterations%I.GRID_CALCULATION_CHECK_PERIOD==1&&U||X){var te=new Set;P.surrounding=new Array;for(var fe,ie=this.grid,ce=P.startX-1;ce<P.finishX+2;ce++)for(var ue=P.startY-1;ue<P.finishY+2;ue++)if(!(ce<0||ue<0||ce>=ie.length||ue>=ie[0].length))for(var ge=0;ge<ie[ce][ue].length;ge++)if(fe=ie[ce][ue][ge],P.getOwner()==fe.getOwner()&&P!=fe&&!B.has(fe)&&!te.has(fe)){var ne=Math.abs(P.getCenterX()-fe.getCenterX())-(P.getWidth()/2+fe.getWidth()/2),ve=Math.abs(P.getCenterY()-fe.getCenterY())-(P.getHeight()/2+fe.getHeight()/2);ne<=this.repulsionRange&&ve<=this.repulsionRange&&te.add(fe)}P.surrounding=[].concat(function L(P){if(Array.isArray(P)){for(var B=0,U=Array(P.length);B<P.length;B++)U[B]=P[B];return U}return Array.from(P)}(te))}for(ce=0;ce<P.surrounding.length;ce++)this.calcRepulsionForce(P,P.surrounding[ce])},N.prototype.calcRepulsionRange=function(){return 0},le.exports=N},function(le,D,_){"use strict";var L=_(1),O=_(7);function I(S,R,N){L.call(this,S,R,N),this.idealLength=O.DEFAULT_EDGE_LENGTH}for(var C in I.prototype=Object.create(L.prototype),L)I[C]=L[C];le.exports=I},function(le,D,_){"use strict";var L=_(3);function O(C,S,R,N){L.call(this,C,S,R,N),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var I in O.prototype=Object.create(L.prototype),L)O[I]=L[I];O.prototype.setGridCoordinates=function(C,S,R,N){this.startX=C,this.finishX=S,this.startY=R,this.finishY=N},le.exports=O},function(le,D,_){"use strict";function L(O,I){this.width=0,this.height=0,null!==O&&null!==I&&(this.height=I,this.width=O)}L.prototype.getWidth=function(){return this.width},L.prototype.setWidth=function(O){this.width=O},L.prototype.getHeight=function(){return this.height},L.prototype.setHeight=function(O){this.height=O},le.exports=L},function(le,D,_){"use strict";var L=_(14);function O(){this.map={},this.keys=[]}O.prototype.put=function(I,C){var S=L.createID(I);this.contains(S)||(this.map[S]=C,this.keys.push(I))},O.prototype.contains=function(I){return L.createID(I),null!=this.map[I]},O.prototype.get=function(I){var C=L.createID(I);return this.map[C]},O.prototype.keySet=function(){return this.keys},le.exports=O},function(le,D,_){"use strict";var L=_(14);function O(){this.set={}}O.prototype.add=function(I){var C=L.createID(I);this.contains(C)||(this.set[C]=I)},O.prototype.remove=function(I){delete this.set[L.createID(I)]},O.prototype.clear=function(){this.set={}},O.prototype.contains=function(I){return this.set[L.createID(I)]==I},O.prototype.isEmpty=function(){return 0===this.size()},O.prototype.size=function(){return Object.keys(this.set).length},O.prototype.addAllTo=function(I){for(var C=Object.keys(this.set),S=C.length,R=0;R<S;R++)I.push(this.set[C[R]])},O.prototype.size=function(){return Object.keys(this.set).length},O.prototype.addAll=function(I){for(var C=I.length,S=0;S<C;S++)this.add(I[S])},le.exports=O},function(le,D,_){"use strict";var L=function(){function S(R,N){for(var V=0;V<N.length;V++){var P=N[V];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}return function(R,N,V){return N&&S(R.prototype,N),V&&S(R,V),R}}();var I=_(11),C=function(){function S(R,N){(function O(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")})(this,S),(null!==N||void 0!==N)&&(this.compareFunction=this._defaultCompareFunction);var V;V=R instanceof I?R.size():R.length,this._quicksort(R,0,V-1)}return L(S,[{key:"_quicksort",value:function(N,V,P){if(V<P){var B=this._partition(N,V,P);this._quicksort(N,V,B),this._quicksort(N,B+1,P)}}},{key:"_partition",value:function(N,V,P){for(var B=this._get(N,V),U=V,X=P;;){for(;this.compareFunction(B,this._get(N,X));)X--;for(;this.compareFunction(this._get(N,U),B);)U++;if(!(U<X))return X;this._swap(N,U,X),U++,X--}}},{key:"_get",value:function(N,V){return N instanceof I?N.get_object_at(V):N[V]}},{key:"_set",value:function(N,V,P){N instanceof I?N.set_object_at(V,P):N[V]=P}},{key:"_swap",value:function(N,V,P){var B=this._get(N,V);this._set(N,V,this._get(N,P)),this._set(N,P,B)}},{key:"_defaultCompareFunction",value:function(N,V){return V>N}}]),S}();le.exports=C},function(le,D,_){"use strict";var L=function(){function C(S,R){for(var N=0;N<R.length;N++){var V=R[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,V.key,V)}}return function(S,R,N){return R&&C(S.prototype,R),N&&C(S,N),S}}();var I=function(){function C(S,R){var N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;(function O(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")})(this,C),this.sequence1=S,this.sequence2=R,this.match_score=N,this.mismatch_penalty=V,this.gap_penalty=P,this.iMax=S.length+1,this.jMax=R.length+1,this.grid=new Array(this.iMax);for(var B=0;B<this.iMax;B++){this.grid[B]=new Array(this.jMax);for(var U=0;U<this.jMax;U++)this.grid[B][U]=0}this.tracebackGrid=new Array(this.iMax);for(var X=0;X<this.iMax;X++){this.tracebackGrid[X]=new Array(this.jMax);for(var te=0;te<this.jMax;te++)this.tracebackGrid[X][te]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return L(C,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var R=1;R<this.jMax;R++)this.grid[0][R]=this.grid[0][R-1]+this.gap_penalty,this.tracebackGrid[0][R]=[!1,!1,!0];for(var N=1;N<this.iMax;N++)this.grid[N][0]=this.grid[N-1][0]+this.gap_penalty,this.tracebackGrid[N][0]=[!1,!0,!1];for(var V=1;V<this.iMax;V++)for(var P=1;P<this.jMax;P++){var te=[this.sequence1[V-1]===this.sequence2[P-1]?this.grid[V-1][P-1]+this.match_score:this.grid[V-1][P-1]+this.mismatch_penalty,this.grid[V-1][P]+this.gap_penalty,this.grid[V][P-1]+this.gap_penalty],fe=this.arrayAllMaxIndexes(te);this.grid[V][P]=te[fe[0]],this.tracebackGrid[V][P]=[fe.includes(0),fe.includes(1),fe.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var R=[];for(R.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});R[0];){var N=R[0],V=this.tracebackGrid[N.pos[0]][N.pos[1]];V[0]&&R.push({pos:[N.pos[0]-1,N.pos[1]-1],seq1:this.sequence1[N.pos[0]-1]+N.seq1,seq2:this.sequence2[N.pos[1]-1]+N.seq2}),V[1]&&R.push({pos:[N.pos[0]-1,N.pos[1]],seq1:this.sequence1[N.pos[0]-1]+N.seq1,seq2:"-"+N.seq2}),V[2]&&R.push({pos:[N.pos[0],N.pos[1]-1],seq1:"-"+N.seq1,seq2:this.sequence2[N.pos[1]-1]+N.seq2}),0===N.pos[0]&&0===N.pos[1]&&this.alignments.push({sequence1:N.seq1,sequence2:N.seq2}),R.shift()}return this.alignments}},{key:"getAllIndexes",value:function(R,N){for(var V=[],P=-1;-1!==(P=R.indexOf(N,P+1));)V.push(P);return V}},{key:"arrayAllMaxIndexes",value:function(R){return this.getAllIndexes(R,Math.max.apply(null,R))}}]),C}();le.exports=I},function(le,D,_){"use strict";var L=function(){};L.FDLayout=_(18),L.FDLayoutConstants=_(7),L.FDLayoutEdge=_(19),L.FDLayoutNode=_(20),L.DimensionD=_(21),L.HashMap=_(22),L.HashSet=_(23),L.IGeometry=_(8),L.IMath=_(9),L.Integer=_(10),L.Point=_(12),L.PointD=_(4),L.RandomSeed=_(16),L.RectangleD=_(13),L.Transform=_(17),L.UniqueIDGeneretor=_(14),L.Quicksort=_(24),L.LinkedList=_(11),L.LGraphObject=_(2),L.LGraph=_(5),L.LEdge=_(1),L.LGraphManager=_(6),L.LNode=_(3),L.Layout=_(15),L.LayoutConstants=_(0),L.NeedlemanWunsch=_(25),le.exports=L},function(le,D,_){"use strict";function L(){this.listeners=[]}var O=L.prototype;O.addListener=function(I,C){this.listeners.push({event:I,callback:C})},O.removeListener=function(I,C){for(var S=this.listeners.length;S>=0;S--){var R=this.listeners[S];R.event===I&&R.callback===C&&this.listeners.splice(S,1)}},O.emit=function(I,C){for(var S=0;S<this.listeners.length;S++){var R=this.listeners[S];I===R.event&&R.callback(C)}},le.exports=L}])},6506:(Y,le,D)=>{var O=D(8745)(D(8492),"DataView");Y.exports=O},9618:(Y,le,D)=>{var _=D(5602),L=D(1499),O=D(2990),I=D(480),C=D(4469);function S(R){var N=-1,V=null==R?0:R.length;for(this.clear();++N<V;){var P=R[N];this.set(P[0],P[1])}}S.prototype.clear=_,S.prototype.delete=L,S.prototype.get=O,S.prototype.has=I,S.prototype.set=C,Y.exports=S},3597:(Y,le,D)=>{var _=D(9365),L=D(9343),O=D(4779),I=D(1509),C=D(7137);function S(R){var N=-1,V=null==R?0:R.length;for(this.clear();++N<V;){var P=R[N];this.set(P[0],P[1])}}S.prototype.clear=_,S.prototype.delete=L,S.prototype.get=O,S.prototype.has=I,S.prototype.set=C,Y.exports=S},1136:(Y,le,D)=>{var O=D(8745)(D(8492),"Map");Y.exports=O},1811:(Y,le,D)=>{var _=D(3413),L=D(5419),O=D(7336),I=D(1115),C=D(6648);function S(R){var N=-1,V=null==R?0:R.length;for(this.clear();++N<V;){var P=R[N];this.set(P[0],P[1])}}S.prototype.clear=_,S.prototype.delete=L,S.prototype.get=O,S.prototype.has=I,S.prototype.set=C,Y.exports=S},641:(Y,le,D)=>{var O=D(8745)(D(8492),"Promise");Y.exports=O},1732:(Y,le,D)=>{var O=D(8745)(D(8492),"Set");Y.exports=O},5960:(Y,le,D)=>{var _=D(1811),L=D(6151),O=D(2154);function I(C){var S=-1,R=null==C?0:C.length;for(this.__data__=new _;++S<R;)this.add(C[S])}I.prototype.add=I.prototype.push=L,I.prototype.has=O,Y.exports=I},1339:(Y,le,D)=>{var _=D(3597),L=D(9488),O=D(5943),I=D(5456),C=D(4793),S=D(8689);function R(N){var V=this.__data__=new _(N);this.size=V.size}R.prototype.clear=L,R.prototype.delete=O,R.prototype.get=I,R.prototype.has=C,R.prototype.set=S,Y.exports=R},1763:(Y,le,D)=>{var _=D(8492);Y.exports=_.Symbol},2760:(Y,le,D)=>{var _=D(8492);Y.exports=_.Uint8Array},6413:(Y,le,D)=>{var O=D(8745)(D(8492),"WeakMap");Y.exports=O},7910:Y=>{Y.exports=function le(D,_,L){switch(L.length){case 0:return D.call(_);case 1:return D.call(_,L[0]);case 2:return D.call(_,L[0],L[1]);case 3:return D.call(_,L[0],L[1],L[2])}return D.apply(_,L)}},7772:Y=>{Y.exports=function le(D,_){for(var L=-1,O=null==D?0:D.length;++L<O&&!1!==_(D[L],L,D););return D}},2134:Y=>{Y.exports=function le(D,_){for(var L=-1,O=null==D?0:D.length,I=0,C=[];++L<O;){var S=D[L];_(S,L,D)&&(C[I++]=S)}return C}},8750:(Y,le,D)=>{var _=D(9568);Y.exports=function L(O,I){return!(null==O||!O.length)&&_(O,I,0)>-1}},6736:Y=>{Y.exports=function le(D,_,L){for(var O=-1,I=null==D?0:D.length;++O<I;)if(L(_,D[O]))return!0;return!1}},1384:(Y,le,D)=>{var _=D(5025),L=D(1955),O=D(2261),I=D(7525),C=D(5188),S=D(4868),N=Object.prototype.hasOwnProperty;Y.exports=function V(P,B){var U=O(P),X=!U&&L(P),te=!U&&!X&&I(P),fe=!U&&!X&&!te&&S(P),ie=U||X||te||fe,ce=ie?_(P.length,String):[],ue=ce.length;for(var ge in P)(B||N.call(P,ge))&&(!ie||!("length"==ge||te&&("offset"==ge||"parent"==ge)||fe&&("buffer"==ge||"byteLength"==ge||"byteOffset"==ge)||C(ge,ue)))&&ce.push(ge);return ce}},3880:Y=>{Y.exports=function le(D,_){for(var L=-1,O=null==D?0:D.length,I=Array(O);++L<O;)I[L]=_(D[L],L,D);return I}},7853:Y=>{Y.exports=function le(D,_){for(var L=-1,O=_.length,I=D.length;++L<O;)D[I+L]=_[L];return D}},9850:Y=>{Y.exports=function le(D,_,L,O){var I=-1,C=null==D?0:D.length;for(O&&C&&(L=D[++I]);++I<C;)L=_(L,D[I],I,D);return L}},5916:Y=>{Y.exports=function le(D,_){for(var L=-1,O=null==D?0:D.length;++L<O;)if(_(D[L],L,D))return!0;return!1}},6181:(Y,le,D)=>{var L=D(3400)("length");Y.exports=L},6697:(Y,le,D)=>{var _=D(1741),L=D(7826);Y.exports=function O(I,C,S){(void 0!==S&&!L(I[C],S)||void 0===S&&!(C in I))&&_(I,C,S)}},9553:(Y,le,D)=>{var _=D(1741),L=D(7826),I=Object.prototype.hasOwnProperty;Y.exports=function C(S,R,N){var V=S[R];(!I.call(S,R)||!L(V,N)||void 0===N&&!(R in S))&&_(S,R,N)}},4056:(Y,le,D)=>{var _=D(7826);Y.exports=function L(O,I){for(var C=O.length;C--;)if(_(O[C][0],I))return C;return-1}},6234:(Y,le,D)=>{var _=D(5931),L=D(4614);Y.exports=function O(I,C){return I&&_(C,L(C),I)}},4431:(Y,le,D)=>{var _=D(5931),L=D(6402);Y.exports=function O(I,C){return I&&_(C,L(C),I)}},1741:(Y,le,D)=>{var _=D(9383);Y.exports=function L(O,I,C){"__proto__"==I&&_?_(O,I,{configurable:!0,enumerable:!0,value:C,writable:!0}):O[I]=C}},1320:(Y,le,D)=>{var _=D(1339),L=D(7772),O=D(9553),I=D(6234),C=D(4431),S=D(6002),R=D(4231),N=D(9385),V=D(4354),P=D(6131),B=D(2442),U=D(2472),X=D(9431),te=D(514),fe=D(9225),ie=D(2261),ce=D(7525),ue=D(990),ge=D(9794),ne=D(8611),ve=D(4614),q=D(6402),xe="[object Arguments]",nt="[object Function]",Xe="[object Object]",On={};On[xe]=On["[object Array]"]=On["[object ArrayBuffer]"]=On["[object DataView]"]=On["[object Boolean]"]=On["[object Date]"]=On["[object Float32Array]"]=On["[object Float64Array]"]=On["[object Int8Array]"]=On["[object Int16Array]"]=On["[object Int32Array]"]=On["[object Map]"]=On["[object Number]"]=On[Xe]=On["[object RegExp]"]=On["[object Set]"]=On["[object String]"]=On["[object Symbol]"]=On["[object Uint8Array]"]=On["[object Uint8ClampedArray]"]=On["[object Uint16Array]"]=On["[object Uint32Array]"]=!0,On["[object Error]"]=On[nt]=On["[object WeakMap]"]=!1,Y.exports=function Ur(cn,Di,Yi,Ii,Ai,Vr){var Hi,Ra=1&Di,ps=2&Di,Sn=4&Di;if(Yi&&(Hi=Ai?Yi(cn,Ii,Ai,Vr):Yi(cn)),void 0!==Hi)return Hi;if(!ge(cn))return cn;var ml=ie(cn);if(ml){if(Hi=X(cn),!Ra)return R(cn,Hi)}else{var Vo=U(cn),Ho=Vo==nt||"[object GeneratorFunction]"==Vo;if(ce(cn))return S(cn,Ra);if(Vo==Xe||Vo==xe||Ho&&!Ai){if(Hi=ps||Ho?{}:fe(cn),!Ra)return ps?V(cn,C(Hi,cn)):N(cn,I(Hi,cn))}else{if(!On[Vo])return Ai?cn:{};Hi=te(cn,Vo,Ra)}}Vr||(Vr=new _);var Ys=Vr.get(cn);if(Ys)return Ys;Vr.set(cn,Hi),ne(cn)?cn.forEach(function(bn){Hi.add(Ur(bn,Di,Yi,bn,cn,Vr))}):ue(cn)&&cn.forEach(function(bn,la){Hi.set(la,Ur(bn,Di,Yi,la,cn,Vr))});var gs=ml?void 0:(Sn?ps?B:P:ps?q:ve)(cn);return L(gs||cn,function(bn,la){gs&&(bn=cn[la=bn]),O(Hi,la,Ur(bn,Di,Yi,la,cn,Vr))}),Hi}},1391:(Y,le,D)=>{var _=D(9794),L=Object.create,O=function(){function I(){}return function(C){if(!_(C))return{};if(L)return L(C);I.prototype=C;var S=new I;return I.prototype=void 0,S}}();Y.exports=O},5103:(Y,le,D)=>{var _=D(7794),O=D(9386)(_);Y.exports=O},4530:(Y,le,D)=>{var _=D(3423);Y.exports=function L(O,I,C){for(var S=-1,R=O.length;++S<R;){var N=O[S],V=I(N);if(null!=V&&(void 0===P?V==V&&!_(V):C(V,P)))var P=V,B=N}return B}},1892:(Y,le,D)=>{var _=D(5103);Y.exports=function L(O,I){var C=[];return _(O,function(S,R,N){I(S,R,N)&&C.push(S)}),C}},4051:Y=>{Y.exports=function le(D,_,L,O){for(var I=D.length,C=L+(O?1:-1);O?C--:++C<I;)if(_(D[C],C,D))return C;return-1}},1883:(Y,le,D)=>{var _=D(7853),L=D(2241);Y.exports=function O(I,C,S,R,N){var V=-1,P=I.length;for(S||(S=L),N||(N=[]);++V<P;){var B=I[V];C>0&&S(B)?C>1?O(B,C-1,S,R,N):_(N,B):R||(N[N.length]=B)}return N}},6483:(Y,le,D)=>{var L=D(2086)();Y.exports=L},7794:(Y,le,D)=>{var _=D(6483),L=D(4614);Y.exports=function O(I,C){return I&&_(I,C,L)}},2202:(Y,le,D)=>{var _=D(4826),L=D(8916);Y.exports=function O(I,C){for(var S=0,R=(C=_(C,I)).length;null!=I&&S<R;)I=I[L(C[S++])];return S&&S==R?I:void 0}},7427:(Y,le,D)=>{var _=D(7853),L=D(2261);Y.exports=function O(I,C,S){var R=C(I);return L(I)?R:_(R,S(I))}},4590:(Y,le,D)=>{var _=D(1763),L=D(5933),O=D(9243),S=_?_.toStringTag:void 0;Y.exports=function R(N){return null==N?void 0===N?"[object Undefined]":"[object Null]":S&&S in Object(N)?L(N):O(N)}},8444:Y=>{Y.exports=function le(D,_){return D>_}},4493:Y=>{var D=Object.prototype.hasOwnProperty;Y.exports=function _(L,O){return null!=L&&D.call(L,O)}},3274:Y=>{Y.exports=function le(D,_){return null!=D&&_ in Object(D)}},9568:(Y,le,D)=>{var _=D(4051),L=D(1817),O=D(2528);Y.exports=function I(C,S,R){return S==S?O(C,S,R):_(C,L,R)}},3022:(Y,le,D)=>{var _=D(4590),L=D(3714);Y.exports=function I(C){return L(C)&&"[object Arguments]"==_(C)}},7108:(Y,le,D)=>{var _=D(7946),L=D(3714);Y.exports=function O(I,C,S,R,N){return I===C||(null==I||null==C||!L(I)&&!L(C)?I!=I&&C!=C:_(I,C,S,R,O,N))}},7946:(Y,le,D)=>{var _=D(1339),L=D(7469),O=D(1642),I=D(9462),C=D(2472),S=D(2261),R=D(7525),N=D(4868),P="[object Arguments]",B="[object Array]",U="[object Object]",te=Object.prototype.hasOwnProperty;Y.exports=function fe(ie,ce,ue,ge,ne,ve){var q=S(ie),se=S(ce),ae=q?B:C(ie),me=se?B:C(ce),xe=(ae=ae==P?U:ae)==U,Me=(me=me==P?U:me)==U,_e=ae==me;if(_e&&R(ie)){if(!R(ce))return!1;q=!0,xe=!1}if(_e&&!xe)return ve||(ve=new _),q||N(ie)?L(ie,ce,ue,ge,ne,ve):O(ie,ce,ae,ue,ge,ne,ve);if(!(1&ue)){var Ue=xe&&te.call(ie,"__wrapped__"),Be=Me&&te.call(ce,"__wrapped__");if(Ue||Be){var nt=Ue?ie.value():ie,lt=Be?ce.value():ce;return ve||(ve=new _),ne(nt,lt,ue,ge,ve)}}return!!_e&&(ve||(ve=new _),I(ie,ce,ue,ge,ne,ve))}},8562:(Y,le,D)=>{var _=D(2472),L=D(3714);Y.exports=function I(C){return L(C)&&"[object Map]"==_(C)}},2527:(Y,le,D)=>{var _=D(1339),L=D(7108);Y.exports=function C(S,R,N,V){var P=N.length,B=P,U=!V;if(null==S)return!B;for(S=Object(S);P--;){var X=N[P];if(U&&X[2]?X[1]!==S[X[0]]:!(X[0]in S))return!1}for(;++P<B;){var te=(X=N[P])[0],fe=S[te],ie=X[1];if(U&&X[2]){if(void 0===fe&&!(te in S))return!1}else{var ce=new _;if(V)var ue=V(fe,ie,te,S,R,ce);if(!(void 0===ue?L(ie,fe,3,V,ce):ue))return!1}}return!0}},1817:Y=>{Y.exports=function le(D){return D!=D}},1082:(Y,le,D)=>{var _=D(6861),L=D(9950),O=D(9794),I=D(7075),S=/^\[object .+?Constructor\]$/,B=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");Y.exports=function U(X){return!(!O(X)||L(X))&&(_(X)?B:S).test(I(X))}},1202:(Y,le,D)=>{var _=D(2472),L=D(3714);Y.exports=function I(C){return L(C)&&"[object Set]"==_(C)}},8902:(Y,le,D)=>{var _=D(4590),L=D(7765),O=D(3714),_e={};_e["[object Float32Array]"]=_e["[object Float64Array]"]=_e["[object Int8Array]"]=_e["[object Int16Array]"]=_e["[object Int32Array]"]=_e["[object Uint8Array]"]=_e["[object Uint8ClampedArray]"]=_e["[object Uint16Array]"]=_e["[object Uint32Array]"]=!0,_e["[object Arguments]"]=_e["[object Array]"]=_e["[object ArrayBuffer]"]=_e["[object Boolean]"]=_e["[object DataView]"]=_e["[object Date]"]=_e["[object Error]"]=_e["[object Function]"]=_e["[object Map]"]=_e["[object Number]"]=_e["[object Object]"]=_e["[object RegExp]"]=_e["[object Set]"]=_e["[object String]"]=_e["[object WeakMap]"]=!1,Y.exports=function Ue(Be){return O(Be)&&L(Be.length)&&!!_e[_(Be)]}},1627:(Y,le,D)=>{var _=D(2924),L=D(8526),O=D(5657),I=D(2261),C=D(2692);Y.exports=function S(R){return"function"==typeof R?R:null==R?O:"object"==typeof R?I(R)?L(R[0],R[1]):_(R):C(R)}},190:(Y,le,D)=>{var _=D(6587),L=D(366),I=Object.prototype.hasOwnProperty;Y.exports=function C(S){if(!_(S))return L(S);var R=[];for(var N in Object(S))I.call(S,N)&&"constructor"!=N&&R.push(N);return R}},7673:(Y,le,D)=>{var _=D(9794),L=D(6587),O=D(8981),C=Object.prototype.hasOwnProperty;Y.exports=function S(R){if(!_(R))return O(R);var N=L(R),V=[];for(var P in R)"constructor"==P&&(N||!C.call(R,P))||V.push(P);return V}},8898:Y=>{Y.exports=function le(D,_){return D<_}},2839:(Y,le,D)=>{var _=D(5103),L=D(2447);Y.exports=function O(I,C){var S=-1,R=L(I)?Array(I.length):[];return _(I,function(N,V,P){R[++S]=C(N,V,P)}),R}},2924:(Y,le,D)=>{var _=D(2527),L=D(7895),O=D(2265);Y.exports=function I(C){var S=L(C);return 1==S.length&&S[0][2]?O(S[0][0],S[0][1]):function(R){return R===C||_(R,C,S)}}},8526:(Y,le,D)=>{var _=D(7108),L=D(5440),O=D(2494),I=D(6300),C=D(3921),S=D(2265),R=D(8916);Y.exports=function P(B,U){return I(B)&&C(U)?S(R(B),U):function(X){var te=L(X,B);return void 0===te&&te===U?O(X,B):_(U,te,3)}}},3294:(Y,le,D)=>{var _=D(1339),L=D(6697),O=D(6483),I=D(9218),C=D(9794),S=D(6402),R=D(7524);Y.exports=function N(V,P,B,U,X){V!==P&&O(P,function(te,fe){if(X||(X=new _),C(te))I(V,P,fe,B,N,U,X);else{var ie=U?U(R(V,fe),te,fe+"",V,P,X):void 0;void 0===ie&&(ie=te),L(V,fe,ie)}},S)}},9218:(Y,le,D)=>{var _=D(6697),L=D(6002),O=D(2501),I=D(4231),C=D(9225),S=D(1955),R=D(2261),N=D(3471),V=D(7525),P=D(6861),B=D(9794),U=D(8168),X=D(4868),te=D(7524),fe=D(4210);Y.exports=function ie(ce,ue,ge,ne,ve,q,se){var ae=te(ce,ge),me=te(ue,ge),xe=se.get(me);if(xe)_(ce,ge,xe);else{var Me=q?q(ae,me,ge+"",ce,ue,se):void 0,_e=void 0===Me;if(_e){var Ue=R(me),Be=!Ue&&V(me),nt=!Ue&&!Be&&X(me);Me=me,Ue||Be||nt?R(ae)?Me=ae:N(ae)?Me=I(ae):Be?(_e=!1,Me=L(me,!0)):nt?(_e=!1,Me=O(me,!0)):Me=[]:U(me)||S(me)?(Me=ae,S(ae)?Me=fe(ae):(!B(ae)||P(ae))&&(Me=C(me))):_e=!1}_e&&(se.set(me,Me),ve(Me,me,ne,q,se),se.delete(me)),_(ce,ge,Me)}}},252:(Y,le,D)=>{var _=D(3880),L=D(2202),O=D(1627),I=D(2839),C=D(6389),S=D(5249),R=D(9664),N=D(5657),V=D(2261);Y.exports=function P(B,U,X){U=U.length?_(U,function(ie){return V(ie)?function(ce){return L(ce,1===ie.length?ie[0]:ie)}:ie}):[N];var te=-1;U=_(U,S(O));var fe=I(B,function(ie,ce,ue){return{criteria:_(U,function(ne){return ne(ie)}),index:++te,value:ie}});return C(fe,function(ie,ce){return R(ie,ce,X)})}},2784:(Y,le,D)=>{var _=D(2772),L=D(2494);Y.exports=function O(I,C){return _(I,C,function(S,R){return L(I,R)})}},2772:(Y,le,D)=>{var _=D(2202),L=D(9478),O=D(4826);Y.exports=function I(C,S,R){for(var N=-1,V=S.length,P={};++N<V;){var B=S[N],U=_(C,B);R(U,B)&&L(P,O(B,C),U)}return P}},3400:Y=>{Y.exports=function le(D){return function(_){return _?.[D]}}},6443:(Y,le,D)=>{var _=D(2202);Y.exports=function L(O){return function(I){return _(I,O)}}},9948:Y=>{var le=Math.ceil,D=Math.max;Y.exports=function _(L,O,I,C){for(var S=-1,R=D(le((O-L)/(I||1)),0),N=Array(R);R--;)N[C?R:++S]=L,L+=I;return N}},8978:Y=>{Y.exports=function le(D,_,L,O,I){return I(D,function(C,S,R){L=O?(O=!1,C):_(L,C,S,R)}),L}},8951:(Y,le,D)=>{var _=D(5657),L=D(2394),O=D(6814);Y.exports=function I(C,S){return O(L(C,S,_),C+"")}},9478:(Y,le,D)=>{var _=D(9553),L=D(4826),O=D(5188),I=D(9794),C=D(8916);Y.exports=function S(R,N,V,P){if(!I(R))return R;for(var B=-1,U=(N=L(N,R)).length,X=U-1,te=R;null!=te&&++B<U;){var fe=C(N[B]),ie=V;if("__proto__"===fe||"constructor"===fe||"prototype"===fe)return R;if(B!=X){var ce=te[fe];void 0===(ie=P?P(ce,fe,te):void 0)&&(ie=I(ce)?ce:O(N[B+1])?[]:{})}_(te,fe,ie),te=te[fe]}return R}},8235:(Y,le,D)=>{var _=D(1075),L=D(9383),O=D(5657);Y.exports=L?function(C,S){return L(C,"toString",{configurable:!0,enumerable:!1,value:_(S),writable:!0})}:O},6389:Y=>{Y.exports=function le(D,_){var L=D.length;for(D.sort(_);L--;)D[L]=D[L].value;return D}},5025:Y=>{Y.exports=function le(D,_){for(var L=-1,O=Array(D);++L<D;)O[L]=_(L);return O}},7002:(Y,le,D)=>{var _=D(1763),L=D(3880),O=D(2261),I=D(3423),S=_?_.prototype:void 0,R=S?S.toString:void 0;Y.exports=function N(V){if("string"==typeof V)return V;if(O(V))return L(V,N)+"";if(I(V))return R?R.call(V):"";var P=V+"";return"0"==P&&1/V==-1/0?"-0":P}},9484:(Y,le,D)=>{var _=D(1781),L=/^\s+/;Y.exports=function O(I){return I&&I.slice(0,_(I)+1).replace(L,"")}},5249:Y=>{Y.exports=function le(D){return function(_){return D(_)}}},9154:(Y,le,D)=>{var _=D(5960),L=D(8750),O=D(6736),I=D(4795),C=D(8433),S=D(8e3);Y.exports=function N(V,P,B){var U=-1,X=L,te=V.length,fe=!0,ie=[],ce=ie;if(B)fe=!1,X=O;else if(te>=200){var ue=P?null:C(V);if(ue)return S(ue);fe=!1,X=I,ce=new _}else ce=P?[]:ie;e:for(;++U<te;){var ge=V[U],ne=P?P(ge):ge;if(ge=B||0!==ge?ge:0,fe&&ne==ne){for(var ve=ce.length;ve--;)if(ce[ve]===ne)continue e;P&&ce.push(ne),ie.push(ge)}else X(ce,ne,B)||(ce!==ie&&ce.push(ne),ie.push(ge))}return ie}},6680:(Y,le,D)=>{var _=D(3880);Y.exports=function L(O,I){return _(I,function(C){return O[C]})}},2255:Y=>{Y.exports=function le(D,_,L){for(var O=-1,I=D.length,C=_.length,S={};++O<I;)L(S,D[O],O<C?_[O]:void 0);return S}},4795:Y=>{Y.exports=function le(D,_){return D.has(_)}},4655:(Y,le,D)=>{var _=D(5657);Y.exports=function L(O){return"function"==typeof O?O:_}},4826:(Y,le,D)=>{var _=D(2261),L=D(6300),O=D(163),I=D(2674);Y.exports=function C(S,R){return _(S)?S:L(S,R)?[S]:O(I(S))}},2355:(Y,le,D)=>{var _=D(2760);Y.exports=function L(O){var I=new O.constructor(O.byteLength);return new _(I).set(new _(O)),I}},6002:(Y,le,D)=>{Y=D.nmd(Y);var _=D(8492),L=le&&!le.nodeType&&le,O=L&&Y&&!Y.nodeType&&Y,C=O&&O.exports===L?_.Buffer:void 0,S=C?C.allocUnsafe:void 0;Y.exports=function R(N,V){if(V)return N.slice();var P=N.length,B=S?S(P):new N.constructor(P);return N.copy(B),B}},6693:(Y,le,D)=>{var _=D(2355);Y.exports=function L(O,I){var C=I?_(O.buffer):O.buffer;return new O.constructor(C,O.byteOffset,O.byteLength)}},497:Y=>{var le=/\w*$/;Y.exports=function D(_){var L=new _.constructor(_.source,le.exec(_));return L.lastIndex=_.lastIndex,L}},3330:(Y,le,D)=>{var _=D(1763),L=_?_.prototype:void 0,O=L?L.valueOf:void 0;Y.exports=function I(C){return O?Object(O.call(C)):{}}},2501:(Y,le,D)=>{var _=D(2355);Y.exports=function L(O,I){var C=I?_(O.buffer):O.buffer;return new O.constructor(C,O.byteOffset,O.length)}},5400:(Y,le,D)=>{var _=D(3423);Y.exports=function L(O,I){if(O!==I){var C=void 0!==O,S=null===O,R=O==O,N=_(O),V=void 0!==I,P=null===I,B=I==I,U=_(I);if(!P&&!U&&!N&&O>I||N&&V&&B&&!P&&!U||S&&V&&B||!C&&B||!R)return 1;if(!S&&!N&&!U&&O<I||U&&C&&R&&!S&&!N||P&&C&&R||!V&&R||!B)return-1}return 0}},9664:(Y,le,D)=>{var _=D(5400);Y.exports=function L(O,I,C){for(var S=-1,R=O.criteria,N=I.criteria,V=R.length,P=C.length;++S<V;){var B=_(R[S],N[S]);if(B)return S>=P?B:B*("desc"==C[S]?-1:1)}return O.index-I.index}},4231:Y=>{Y.exports=function le(D,_){var L=-1,O=D.length;for(_||(_=Array(O));++L<O;)_[L]=D[L];return _}},5931:(Y,le,D)=>{var _=D(9553),L=D(1741);Y.exports=function O(I,C,S,R){var N=!S;S||(S={});for(var V=-1,P=C.length;++V<P;){var B=C[V],U=R?R(S[B],I[B],B,S,I):void 0;void 0===U&&(U=I[B]),N?L(S,B,U):_(S,B,U)}return S}},9385:(Y,le,D)=>{var _=D(5931),L=D(771);Y.exports=function O(I,C){return _(I,L(I),C)}},4354:(Y,le,D)=>{var _=D(5931),L=D(708);Y.exports=function O(I,C){return _(I,L(I),C)}},6189:(Y,le,D)=>{var _=D(8492);Y.exports=_["__core-js_shared__"]},1300:(Y,le,D)=>{var _=D(8951),L=D(3817);Y.exports=function O(I){return _(function(C,S){var R=-1,N=S.length,V=N>1?S[N-1]:void 0,P=N>2?S[2]:void 0;for(V=I.length>3&&"function"==typeof V?(N--,V):void 0,P&&L(S[0],S[1],P)&&(V=N<3?void 0:V,N=1),C=Object(C);++R<N;){var B=S[R];B&&I(C,B,R,V)}return C})}},9386:(Y,le,D)=>{var _=D(2447);Y.exports=function L(O,I){return function(C,S){if(null==C)return C;if(!_(C))return O(C,S);for(var R=C.length,N=I?R:-1,V=Object(C);(I?N--:++N<R)&&!1!==S(V[N],N,V););return C}}},2086:Y=>{Y.exports=function le(D){return function(_,L,O){for(var I=-1,C=Object(_),S=O(_),R=S.length;R--;){var N=S[D?R:++I];if(!1===L(C[N],N,C))break}return _}}},6738:(Y,le,D)=>{var _=D(1627),L=D(2447),O=D(4614);Y.exports=function I(C){return function(S,R,N){var V=Object(S);if(!L(S)){var P=_(R,3);S=O(S),R=function(U){return P(V[U],U,V)}}var B=C(S,R,N);return B>-1?V[P?S[B]:B]:void 0}}},4222:(Y,le,D)=>{var _=D(9948),L=D(3817),O=D(9292);Y.exports=function I(C){return function(S,R,N){return N&&"number"!=typeof N&&L(S,R,N)&&(R=N=void 0),S=O(S),void 0===R?(R=S,S=0):R=O(R),N=void 0===N?S<R?1:-1:O(N),_(S,R,N,C)}}},8433:(Y,le,D)=>{var _=D(1732),L=D(4249),O=D(8e3),C=_&&1/O(new _([,-0]))[1]==1/0?function(S){return new _(S)}:L;Y.exports=C},9383:(Y,le,D)=>{var _=D(8745),L=function(){try{var O=_(Object,"defineProperty");return O({},"",{}),O}catch{}}();Y.exports=L},7469:(Y,le,D)=>{var _=D(5960),L=D(5916),O=D(4795);Y.exports=function S(R,N,V,P,B,U){var X=1&V,te=R.length,fe=N.length;if(te!=fe&&!(X&&fe>te))return!1;var ie=U.get(R),ce=U.get(N);if(ie&&ce)return ie==N&&ce==R;var ue=-1,ge=!0,ne=2&V?new _:void 0;for(U.set(R,N),U.set(N,R);++ue<te;){var ve=R[ue],q=N[ue];if(P)var se=X?P(q,ve,ue,N,R,U):P(ve,q,ue,R,N,U);if(void 0!==se){if(se)continue;ge=!1;break}if(ne){if(!L(N,function(ae,me){if(!O(ne,me)&&(ve===ae||B(ve,ae,V,P,U)))return ne.push(me)})){ge=!1;break}}else if(ve!==q&&!B(ve,q,V,P,U)){ge=!1;break}}return U.delete(R),U.delete(N),ge}},1642:(Y,le,D)=>{var _=D(1763),L=D(2760),O=D(7826),I=D(7469),C=D(1575),S=D(8e3),ne=_?_.prototype:void 0,ve=ne?ne.valueOf:void 0;Y.exports=function q(se,ae,me,xe,Me,_e,Ue){switch(me){case"[object DataView]":if(se.byteLength!=ae.byteLength||se.byteOffset!=ae.byteOffset)return!1;se=se.buffer,ae=ae.buffer;case"[object ArrayBuffer]":return!(se.byteLength!=ae.byteLength||!_e(new L(se),new L(ae)));case"[object Boolean]":case"[object Date]":case"[object Number]":return O(+se,+ae);case"[object Error]":return se.name==ae.name&&se.message==ae.message;case"[object RegExp]":case"[object String]":return se==ae+"";case"[object Map]":var Be=C;case"[object Set]":if(Be||(Be=S),se.size!=ae.size&&!(1&xe))return!1;var lt=Ue.get(se);if(lt)return lt==ae;xe|=2,Ue.set(se,ae);var Ke=I(Be(se),Be(ae),xe,Me,_e,Ue);return Ue.delete(se),Ke;case"[object Symbol]":if(ve)return ve.call(se)==ve.call(ae)}return!1}},9462:(Y,le,D)=>{var _=D(6131),I=Object.prototype.hasOwnProperty;Y.exports=function C(S,R,N,V,P,B){var U=1&N,X=_(S),te=X.length;if(te!=_(R).length&&!U)return!1;for(var ce=te;ce--;){var ue=X[ce];if(!(U?ue in R:I.call(R,ue)))return!1}var ge=B.get(S),ne=B.get(R);if(ge&&ne)return ge==R&&ne==S;var ve=!0;B.set(S,R),B.set(R,S);for(var q=U;++ce<te;){var se=S[ue=X[ce]],ae=R[ue];if(V)var me=U?V(ae,se,ue,R,S,B):V(se,ae,ue,S,R,B);if(!(void 0===me?se===ae||P(se,ae,N,V,B):me)){ve=!1;break}q||(q="constructor"==ue)}if(ve&&!q){var xe=S.constructor,Me=R.constructor;xe!=Me&&"constructor"in S&&"constructor"in R&&!("function"==typeof xe&&xe instanceof xe&&"function"==typeof Me&&Me instanceof Me)&&(ve=!1)}return B.delete(S),B.delete(R),ve}},6801:(Y,le,D)=>{var _=D(9336),L=D(2394),O=D(6814);Y.exports=function I(C){return O(L(C,void 0,_),C+"")}},248:Y=>{var le="object"==typeof global&&global&&global.Object===Object&&global;Y.exports=le},6131:(Y,le,D)=>{var _=D(7427),L=D(771),O=D(4614);Y.exports=function I(C){return _(C,O,L)}},2442:(Y,le,D)=>{var _=D(7427),L=D(708),O=D(6402);Y.exports=function I(C){return _(C,O,L)}},4113:(Y,le,D)=>{var _=D(29);Y.exports=function L(O,I){var C=O.__data__;return _(I)?C["string"==typeof I?"string":"hash"]:C.map}},7895:(Y,le,D)=>{var _=D(3921),L=D(4614);Y.exports=function O(I){for(var C=L(I),S=C.length;S--;){var R=C[S],N=I[R];C[S]=[R,N,_(N)]}return C}},8745:(Y,le,D)=>{var _=D(1082),L=D(1015);Y.exports=function O(I,C){var S=L(I,C);return _(S)?S:void 0}},6186:(Y,le,D)=>{var L=D(3106)(Object.getPrototypeOf,Object);Y.exports=L},5933:(Y,le,D)=>{var _=D(1763),L=Object.prototype,O=L.hasOwnProperty,I=L.toString,C=_?_.toStringTag:void 0;Y.exports=function S(R){var N=O.call(R,C),V=R[C];try{R[C]=void 0;var P=!0}catch{}var B=I.call(R);return P&&(N?R[C]=V:delete R[C]),B}},771:(Y,le,D)=>{var _=D(2134),L=D(1315),I=Object.prototype.propertyIsEnumerable,C=Object.getOwnPropertySymbols;Y.exports=C?function(R){return null==R?[]:(R=Object(R),_(C(R),function(N){return I.call(R,N)}))}:L},708:(Y,le,D)=>{var _=D(7853),L=D(6186),O=D(771),I=D(1315);Y.exports=Object.getOwnPropertySymbols?function(R){for(var N=[];R;)_(N,O(R)),R=L(R);return N}:I},2472:(Y,le,D)=>{var _=D(6506),L=D(1136),O=D(641),I=D(1732),C=D(6413),S=D(4590),R=D(7075),N="[object Map]",P="[object Promise]",B="[object Set]",U="[object WeakMap]",X="[object DataView]",te=R(_),fe=R(L),ie=R(O),ce=R(I),ue=R(C),ge=S;(_&&ge(new _(new ArrayBuffer(1)))!=X||L&&ge(new L)!=N||O&&ge(O.resolve())!=P||I&&ge(new I)!=B||C&&ge(new C)!=U)&&(ge=function(ne){var ve=S(ne),q="[object Object]"==ve?ne.constructor:void 0,se=q?R(q):"";if(se)switch(se){case te:return X;case fe:return N;case ie:return P;case ce:return B;case ue:return U}return ve}),Y.exports=ge},1015:Y=>{Y.exports=function le(D,_){return D?.[_]}},4583:(Y,le,D)=>{var _=D(4826),L=D(1955),O=D(2261),I=D(5188),C=D(7765),S=D(8916);Y.exports=function R(N,V,P){for(var B=-1,U=(V=_(V,N)).length,X=!1;++B<U;){var te=S(V[B]);if(!(X=null!=N&&P(N,te)))break;N=N[te]}return X||++B!=U?X:!!(U=null==N?0:N.length)&&C(U)&&I(te,U)&&(O(N)||L(N))}},3687:Y=>{var S=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");Y.exports=function R(N){return S.test(N)}},5602:(Y,le,D)=>{var _=D(893);Y.exports=function L(){this.__data__=_?_(null):{},this.size=0}},1499:Y=>{Y.exports=function le(D){var _=this.has(D)&&delete this.__data__[D];return this.size-=_?1:0,_}},2990:(Y,le,D)=>{var _=D(893),I=Object.prototype.hasOwnProperty;Y.exports=function C(S){var R=this.__data__;if(_){var N=R[S];return"__lodash_hash_undefined__"===N?void 0:N}return I.call(R,S)?R[S]:void 0}},480:(Y,le,D)=>{var _=D(893),O=Object.prototype.hasOwnProperty;Y.exports=function I(C){var S=this.__data__;return _?void 0!==S[C]:O.call(S,C)}},4469:(Y,le,D)=>{var _=D(893);Y.exports=function O(I,C){var S=this.__data__;return this.size+=this.has(I)?0:1,S[I]=_&&void 0===C?"__lodash_hash_undefined__":C,this}},9431:Y=>{var D=Object.prototype.hasOwnProperty;Y.exports=function _(L){var O=L.length,I=new L.constructor(O);return O&&"string"==typeof L[0]&&D.call(L,"index")&&(I.index=L.index,I.input=L.input),I}},514:(Y,le,D)=>{var _=D(2355),L=D(6693),O=D(497),I=D(3330),C=D(2501);Y.exports=function me(xe,Me,_e){var Ue=xe.constructor;switch(Me){case"[object ArrayBuffer]":return _(xe);case"[object Boolean]":case"[object Date]":return new Ue(+xe);case"[object DataView]":return L(xe,_e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return C(xe,_e);case"[object Map]":case"[object Set]":return new Ue;case"[object Number]":case"[object String]":return new Ue(xe);case"[object RegExp]":return O(xe);case"[object Symbol]":return I(xe)}}},9225:(Y,le,D)=>{var _=D(1391),L=D(6186),O=D(6587);Y.exports=function I(C){return"function"!=typeof C.constructor||O(C)?{}:_(L(C))}},2241:(Y,le,D)=>{var _=D(1763),L=D(1955),O=D(2261),I=_?_.isConcatSpreadable:void 0;Y.exports=function C(S){return O(S)||L(S)||!!(I&&S&&S[I])}},5188:Y=>{var D=/^(?:0|[1-9]\d*)$/;Y.exports=function _(L,O){var I=typeof L;return!!(O=O??9007199254740991)&&("number"==I||"symbol"!=I&&D.test(L))&&L>-1&&L%1==0&&L<O}},3817:(Y,le,D)=>{var _=D(7826),L=D(2447),O=D(5188),I=D(9794);Y.exports=function C(S,R,N){if(!I(N))return!1;var V=typeof R;return!!("number"==V?L(N)&&O(R,N.length):"string"==V&&R in N)&&_(N[R],S)}},6300:(Y,le,D)=>{var _=D(2261),L=D(3423),O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I=/^\w*$/;Y.exports=function C(S,R){if(_(S))return!1;var N=typeof S;return!("number"!=N&&"symbol"!=N&&"boolean"!=N&&null!=S&&!L(S))||I.test(S)||!O.test(S)||null!=R&&S in Object(R)}},29:Y=>{Y.exports=function le(D){var _=typeof D;return"string"==_||"number"==_||"symbol"==_||"boolean"==_?"__proto__"!==D:null===D}},9950:(Y,le,D)=>{var I,_=D(6189),L=(I=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"";Y.exports=function O(I){return!!L&&L in I}},6587:Y=>{var le=Object.prototype;Y.exports=function D(_){var L=_&&_.constructor;return _===("function"==typeof L&&L.prototype||le)}},3921:(Y,le,D)=>{var _=D(9794);Y.exports=function L(O){return O==O&&!_(O)}},9365:Y=>{Y.exports=function le(){this.__data__=[],this.size=0}},9343:(Y,le,D)=>{var _=D(4056),O=Array.prototype.splice;Y.exports=function I(C){var S=this.__data__,R=_(S,C);return!(R<0||(R==S.length-1?S.pop():O.call(S,R,1),--this.size,0))}},4779:(Y,le,D)=>{var _=D(4056);Y.exports=function L(O){var I=this.__data__,C=_(I,O);return C<0?void 0:I[C][1]}},1509:(Y,le,D)=>{var _=D(4056);Y.exports=function L(O){return _(this.__data__,O)>-1}},7137:(Y,le,D)=>{var _=D(4056);Y.exports=function L(O,I){var C=this.__data__,S=_(C,O);return S<0?(++this.size,C.push([O,I])):C[S][1]=I,this}},3413:(Y,le,D)=>{var _=D(9618),L=D(3597),O=D(1136);Y.exports=function I(){this.size=0,this.__data__={hash:new _,map:new(O||L),string:new _}}},5419:(Y,le,D)=>{var _=D(4113);Y.exports=function L(O){var I=_(this,O).delete(O);return this.size-=I?1:0,I}},7336:(Y,le,D)=>{var _=D(4113);Y.exports=function L(O){return _(this,O).get(O)}},1115:(Y,le,D)=>{var _=D(4113);Y.exports=function L(O){return _(this,O).has(O)}},6648:(Y,le,D)=>{var _=D(4113);Y.exports=function L(O,I){var C=_(this,O),S=C.size;return C.set(O,I),this.size+=C.size==S?0:1,this}},1575:Y=>{Y.exports=function le(D){var _=-1,L=Array(D.size);return D.forEach(function(O,I){L[++_]=[I,O]}),L}},2265:Y=>{Y.exports=function le(D,_){return function(L){return null!=L&&L[D]===_&&(void 0!==_||D in Object(L))}}},7371:(Y,le,D)=>{var _=D(7659);Y.exports=function O(I){var C=_(I,function(R){return 500===S.size&&S.clear(),R}),S=C.cache;return C}},893:(Y,le,D)=>{var L=D(8745)(Object,"create");Y.exports=L},366:(Y,le,D)=>{var L=D(3106)(Object.keys,Object);Y.exports=L},8981:Y=>{Y.exports=function le(D){var _=[];if(null!=D)for(var L in Object(D))_.push(L);return _}},8849:(Y,le,D)=>{Y=D.nmd(Y);var _=D(248),L=le&&!le.nodeType&&le,O=L&&Y&&!Y.nodeType&&Y,C=O&&O.exports===L&&_.process,S=function(){try{return O&&O.require&&O.require("util").types||C&&C.binding&&C.binding("util")}catch{}}();Y.exports=S},9243:Y=>{var D=Object.prototype.toString;Y.exports=function _(L){return D.call(L)}},3106:Y=>{Y.exports=function le(D,_){return function(L){return D(_(L))}}},2394:(Y,le,D)=>{var _=D(7910),L=Math.max;Y.exports=function O(I,C,S){return C=L(void 0===C?I.length-1:C,0),function(){for(var R=arguments,N=-1,V=L(R.length-C,0),P=Array(V);++N<V;)P[N]=R[C+N];N=-1;for(var B=Array(C+1);++N<C;)B[N]=R[N];return B[C]=S(P),_(I,this,B)}}},8492:(Y,le,D)=>{var _=D(248),L="object"==typeof self&&self&&self.Object===Object&&self,O=_||L||Function("return this")();Y.exports=O},7524:Y=>{Y.exports=function le(D,_){if(("constructor"!==_||"function"!=typeof D[_])&&"__proto__"!=_)return D[_]}},6151:Y=>{Y.exports=function D(_){return this.__data__.set(_,"__lodash_hash_undefined__"),this}},2154:Y=>{Y.exports=function le(D){return this.__data__.has(D)}},8e3:Y=>{Y.exports=function le(D){var _=-1,L=Array(D.size);return D.forEach(function(O){L[++_]=O}),L}},6814:(Y,le,D)=>{var _=D(8235),O=D(9531)(_);Y.exports=O},9531:Y=>{var _=Date.now;Y.exports=function L(O){var I=0,C=0;return function(){var S=_(),R=16-(S-C);if(C=S,R>0){if(++I>=800)return arguments[0]}else I=0;return O.apply(void 0,arguments)}}},9488:(Y,le,D)=>{var _=D(3597);Y.exports=function L(){this.__data__=new _,this.size=0}},5943:Y=>{Y.exports=function le(D){var _=this.__data__,L=_.delete(D);return this.size=_.size,L}},5456:Y=>{Y.exports=function le(D){return this.__data__.get(D)}},4793:Y=>{Y.exports=function le(D){return this.__data__.has(D)}},8689:(Y,le,D)=>{var _=D(3597),L=D(1136),O=D(1811);Y.exports=function C(S,R){var N=this.__data__;if(N instanceof _){var V=N.__data__;if(!L||V.length<199)return V.push([S,R]),this.size=++N.size,this;N=this.__data__=new O(V)}return N.set(S,R),this.size=N.size,this}},2528:Y=>{Y.exports=function le(D,_,L){for(var O=L-1,I=D.length;++O<I;)if(D[O]===_)return O;return-1}},7339:(Y,le,D)=>{var _=D(6181),L=D(3687),O=D(9164);Y.exports=function I(C){return L(C)?O(C):_(C)}},163:(Y,le,D)=>{var _=D(7371),L=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,O=/\\(\\)?/g,I=_(function(C){var S=[];return 46===C.charCodeAt(0)&&S.push(""),C.replace(L,function(R,N,V,P){S.push(V?P.replace(O,"$1"):N||R)}),S});Y.exports=I},8916:(Y,le,D)=>{var _=D(3423);Y.exports=function O(I){if("string"==typeof I||_(I))return I;var C=I+"";return"0"==C&&1/I==-1/0?"-0":C}},7075:Y=>{var D=Function.prototype.toString;Y.exports=function _(L){if(null!=L){try{return D.call(L)}catch{}try{return L+""}catch{}}return""}},1781:Y=>{var le=/\s/;Y.exports=function D(_){for(var L=_.length;L--&&le.test(_.charAt(L)););return L}},9164:Y=>{var le="\\ud800-\\udfff",C="["+le+"]",S="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",R="\\ud83c[\\udffb-\\udfff]",V="[^"+le+"]",P="(?:\\ud83c[\\udde6-\\uddff]){2}",B="[\\ud800-\\udbff][\\udc00-\\udfff]",X="(?:"+S+"|"+R+")?",te="[\\ufe0e\\ufe0f]?",ie=te+X+"(?:\\u200d(?:"+[V,P,B].join("|")+")"+te+X+")*",ce="(?:"+[V+S+"?",S,P,B,C].join("|")+")",ue=RegExp(R+"(?="+R+")|"+ce+ie,"g");Y.exports=function ge(ne){for(var ve=ue.lastIndex=0;ue.test(ne);)++ve;return ve}},8734:(Y,le,D)=>{var _=D(1320);Y.exports=function O(I){return _(I,4)}},4451:(Y,le,D)=>{var _=D(1320);Y.exports=function I(C){return _(C,5)}},1075:Y=>{Y.exports=function le(D){return function(){return D}}},4430:(Y,le,D)=>{var _=D(9794),L=D(5533),O=D(4282),C=Math.max,S=Math.min;Y.exports=function R(N,V,P){var B,U,X,te,fe,ie,ce=0,ue=!1,ge=!1,ne=!0;if("function"!=typeof N)throw new TypeError("Expected a function");function ve(Be){var nt=B,lt=U;return B=U=void 0,ce=Be,te=N.apply(lt,nt)}function ae(Be){var nt=Be-ie;return void 0===ie||nt>=V||nt<0||ge&&Be-ce>=X}function me(){var Be=L();if(ae(Be))return xe(Be);fe=setTimeout(me,function se(Be){var Ke=V-(Be-ie);return ge?S(Ke,X-(Be-ce)):Ke}(Be))}function xe(Be){return fe=void 0,ne&&B?ve(Be):(B=U=void 0,te)}function Ue(){var Be=L(),nt=ae(Be);if(B=arguments,U=this,ie=Be,nt){if(void 0===fe)return function q(Be){return ce=Be,fe=setTimeout(me,V),ue?ve(Be):te}(ie);if(ge)return clearTimeout(fe),fe=setTimeout(me,V),ve(ie)}return void 0===fe&&(fe=setTimeout(me,V)),te}return V=O(V)||0,_(P)&&(ue=!!P.leading,X=(ge="maxWait"in P)?C(O(P.maxWait)||0,V):X,ne="trailing"in P?!!P.trailing:ne),Ue.cancel=function Me(){void 0!==fe&&clearTimeout(fe),ce=0,B=ie=U=fe=void 0},Ue.flush=function _e(){return void 0===fe?te:xe(L())},Ue}},5433:(Y,le,D)=>{var _=D(8951),L=D(7826),O=D(3817),I=D(6402),C=Object.prototype,S=C.hasOwnProperty,R=_(function(N,V){N=Object(N);var P=-1,B=V.length,U=B>2?V[2]:void 0;for(U&&O(V[0],V[1],U)&&(B=1);++P<B;)for(var X=V[P],te=I(X),fe=-1,ie=te.length;++fe<ie;){var ce=te[fe],ue=N[ce];(void 0===ue||L(ue,C[ce])&&!S.call(N,ce))&&(N[ce]=X[ce])}return N});Y.exports=R},6488:(Y,le,D)=>{Y.exports=D(7170)},7826:Y=>{Y.exports=function le(D,_){return D===_||D!=D&&_!=_}},7661:(Y,le,D)=>{var _=D(2134),L=D(1892),O=D(1627),I=D(2261);Y.exports=function C(S,R){return(I(S)?_:L)(S,O(R,3))}},6177:(Y,le,D)=>{var O=D(6738)(D(1904));Y.exports=O},1904:(Y,le,D)=>{var _=D(4051),L=D(1627),O=D(481),I=Math.max;Y.exports=function C(S,R,N){var V=null==S?0:S.length;if(!V)return-1;var P=null==N?0:O(N);return P<0&&(P=I(V+P,0)),_(S,L(R,3),P)}},9336:(Y,le,D)=>{var _=D(1883);Y.exports=function L(O){return null!=O&&O.length?_(O,1):[]}},7170:(Y,le,D)=>{var _=D(7772),L=D(5103),O=D(4655),I=D(2261);Y.exports=function C(S,R){return(I(S)?_:L)(S,O(R))}},1658:(Y,le,D)=>{var _=D(6483),L=D(4655),O=D(6402);Y.exports=function I(C,S){return null==C?C:_(C,L(S),O)}},5440:(Y,le,D)=>{var _=D(2202);Y.exports=function L(O,I,C){var S=null==O?void 0:_(O,I);return void 0===S?C:S}},8669:(Y,le,D)=>{var _=D(4493),L=D(4583);Y.exports=function O(I,C){return null!=I&&L(I,C,_)}},2494:(Y,le,D)=>{var _=D(3274),L=D(4583);Y.exports=function O(I,C){return null!=I&&L(I,C,_)}},5657:Y=>{Y.exports=function le(D){return D}},1955:(Y,le,D)=>{var _=D(3022),L=D(3714),O=Object.prototype,I=O.hasOwnProperty,C=O.propertyIsEnumerable,S=_(function(){return arguments}())?_:function(R){return L(R)&&I.call(R,"callee")&&!C.call(R,"callee")};Y.exports=S},2261:Y=>{Y.exports=Array.isArray},2447:(Y,le,D)=>{var _=D(6861),L=D(7765);Y.exports=function O(I){return null!=I&&L(I.length)&&!_(I)}},3471:(Y,le,D)=>{var _=D(2447),L=D(3714);Y.exports=function O(I){return L(I)&&_(I)}},7525:(Y,le,D)=>{Y=D.nmd(Y);var _=D(8492),L=D(5706),O=le&&!le.nodeType&&le,I=O&&Y&&!Y.nodeType&&Y,S=I&&I.exports===O?_.Buffer:void 0;Y.exports=(S?S.isBuffer:void 0)||L},5350:(Y,le,D)=>{var _=D(190),L=D(2472),O=D(1955),I=D(2261),C=D(2447),S=D(7525),R=D(6587),N=D(4868),U=Object.prototype.hasOwnProperty;Y.exports=function X(te){if(null==te)return!0;if(C(te)&&(I(te)||"string"==typeof te||"function"==typeof te.splice||S(te)||N(te)||O(te)))return!te.length;var fe=L(te);if("[object Map]"==fe||"[object Set]"==fe)return!te.size;if(R(te))return!_(te).length;for(var ie in te)if(U.call(te,ie))return!1;return!0}},6861:(Y,le,D)=>{var _=D(4590),L=D(9794);Y.exports=function R(N){if(!L(N))return!1;var V=_(N);return"[object Function]"==V||"[object GeneratorFunction]"==V||"[object AsyncFunction]"==V||"[object Proxy]"==V}},7765:Y=>{Y.exports=function D(_){return"number"==typeof _&&_>-1&&_%1==0&&_<=9007199254740991}},990:(Y,le,D)=>{var _=D(8562),L=D(5249),O=D(8849),I=O&&O.isMap,C=I?L(I):_;Y.exports=C},9794:Y=>{Y.exports=function le(D){var _=typeof D;return null!=D&&("object"==_||"function"==_)}},3714:Y=>{Y.exports=function le(D){return null!=D&&"object"==typeof D}},8168:(Y,le,D)=>{var _=D(4590),L=D(6186),O=D(3714),R=Function.prototype.toString,N=Object.prototype.hasOwnProperty,V=R.call(Object);Y.exports=function P(B){if(!O(B)||"[object Object]"!=_(B))return!1;var U=L(B);if(null===U)return!0;var X=N.call(U,"constructor")&&U.constructor;return"function"==typeof X&&X instanceof X&&R.call(X)==V}},8611:(Y,le,D)=>{var _=D(1202),L=D(5249),O=D(8849),I=O&&O.isSet,C=I?L(I):_;Y.exports=C},2164:(Y,le,D)=>{var _=D(4590),L=D(2261),O=D(3714);Y.exports=function C(S){return"string"==typeof S||!L(S)&&O(S)&&"[object String]"==_(S)}},3423:(Y,le,D)=>{var _=D(4590),L=D(3714);Y.exports=function I(C){return"symbol"==typeof C||L(C)&&"[object Symbol]"==_(C)}},4868:(Y,le,D)=>{var _=D(8902),L=D(5249),O=D(8849),I=O&&O.isTypedArray,C=I?L(I):_;Y.exports=C},8152:Y=>{Y.exports=function le(D){return void 0===D}},4614:(Y,le,D)=>{var _=D(1384),L=D(190),O=D(2447);Y.exports=function I(C){return O(C)?_(C):L(C)}},6402:(Y,le,D)=>{var _=D(1384),L=D(7673),O=D(2447);Y.exports=function I(C){return O(C)?_(C,!0):L(C)}},2819:Y=>{Y.exports=function le(D){var _=null==D?0:D.length;return _?D[_-1]:void 0}},8921:(Y,le,D)=>{var _=D(3880),L=D(1627),O=D(2839),I=D(2261);Y.exports=function C(S,R){return(I(S)?_:O)(S,L(R,3))}},6054:(Y,le,D)=>{var _=D(1741),L=D(7794),O=D(1627);Y.exports=function I(C,S){var R={};return S=O(S,3),L(C,function(N,V,P){_(R,V,S(N,V,P))}),R}},5664:(Y,le,D)=>{var _=D(4530),L=D(8444),O=D(5657);Y.exports=function I(C){return C&&C.length?_(C,O,L):void 0}},7659:(Y,le,D)=>{var _=D(1811);function O(I,C){if("function"!=typeof I||null!=C&&"function"!=typeof C)throw new TypeError("Expected a function");var S=function(){var R=arguments,N=C?C.apply(this,R):R[0],V=S.cache;if(V.has(N))return V.get(N);var P=I.apply(this,R);return S.cache=V.set(N,P)||V,P};return S.cache=new(O.Cache||_),S}O.Cache=_,Y.exports=O},2213:(Y,le,D)=>{var _=D(3294),O=D(1300)(function(I,C,S){_(I,C,S)});Y.exports=O},1007:(Y,le,D)=>{var _=D(4530),L=D(8898),O=D(5657);Y.exports=function I(C){return C&&C.length?_(C,O,L):void 0}},50:(Y,le,D)=>{var _=D(4530),L=D(1627),O=D(8898);Y.exports=function I(C,S){return C&&C.length?_(C,L(S,2),O):void 0}},4249:Y=>{Y.exports=function le(){}},5533:(Y,le,D)=>{var _=D(8492);Y.exports=function(){return _.Date.now()}},7607:(Y,le,D)=>{var _=D(2784),O=D(6801)(function(I,C){return null==I?{}:_(I,C)});Y.exports=O},2692:(Y,le,D)=>{var _=D(3400),L=D(6443),O=D(6300),I=D(8916);Y.exports=function C(S){return O(S)?_(I(S)):L(S)}},5953:(Y,le,D)=>{var L=D(4222)();Y.exports=L},5909:(Y,le,D)=>{var _=D(9850),L=D(5103),O=D(1627),I=D(8978),C=D(2261);Y.exports=function S(R,N,V){var P=C(R)?_:I,B=arguments.length<3;return P(R,O(N,4),V,B,L)}},7939:(Y,le,D)=>{var _=D(9478);Y.exports=function L(O,I,C){return null==O?O:_(O,I,C)}},5741:(Y,le,D)=>{var _=D(190),L=D(2472),O=D(2447),I=D(2164),C=D(7339);Y.exports=function N(V){if(null==V)return 0;if(O(V))return I(V)?C(V):V.length;var P=L(V);return"[object Map]"==P||"[object Set]"==P?V.size:_(V).length}},7184:(Y,le,D)=>{var _=D(1883),L=D(252),O=D(8951),I=D(3817),C=O(function(S,R){if(null==S)return[];var N=R.length;return N>1&&I(S,R[0],R[1])?R=[]:N>2&&I(R[0],R[1],R[2])&&(R=[R[0]]),L(S,_(R,1),[])});Y.exports=C},1315:Y=>{Y.exports=function le(){return[]}},5706:Y=>{Y.exports=function le(){return!1}},9292:(Y,le,D)=>{var _=D(4282),L=1/0;Y.exports=function I(C){return C?(C=_(C))===L||C===-L?17976931348623157e292*(C<0?-1:1):C==C?C:0:0===C?C:0}},481:(Y,le,D)=>{var _=D(9292);Y.exports=function L(O){var I=_(O),C=I%1;return I==I?C?I-C:I:0}},4282:(Y,le,D)=>{var _=D(9484),L=D(9794),O=D(3423),C=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,R=/^0o[0-7]+$/i,N=parseInt;Y.exports=function V(P){if("number"==typeof P)return P;if(O(P))return NaN;if(L(P)){var B="function"==typeof P.valueOf?P.valueOf():P;P=L(B)?B+"":B}if("string"!=typeof P)return 0===P?P:+P;P=_(P);var U=S.test(P);return U||R.test(P)?N(P.slice(2),U?2:8):C.test(P)?NaN:+P}},9078:(Y,le,D)=>{var _=D(3880),L=D(4231),O=D(2261),I=D(3423),C=D(163),S=D(8916),R=D(2674);Y.exports=function N(V){return O(V)?_(V,S):I(V)?[V]:L(C(R(V)))}},4210:(Y,le,D)=>{var _=D(5931),L=D(6402);Y.exports=function O(I){return _(I,L(I))}},2674:(Y,le,D)=>{var _=D(7002);Y.exports=function L(O){return null==O?"":_(O)}},6893:(Y,le,D)=>{var _=D(7772),L=D(1391),O=D(7794),I=D(1627),C=D(6186),S=D(2261),R=D(7525),N=D(6861),V=D(9794),P=D(4868);Y.exports=function B(U,X,te){var fe=S(U),ie=fe||R(U)||P(U);if(X=I(X,4),null==te){var ce=U&&U.constructor;te=ie?fe?new ce:[]:V(U)&&N(ce)?L(C(U)):{}}return(ie?_:O)(U,function(ue,ge,ne){return X(te,ue,ge,ne)}),te}},2480:(Y,le,D)=>{var _=D(1883),L=D(8951),O=D(9154),I=D(3471),C=L(function(S){return O(_(S,1,I,!0))});Y.exports=C},4538:(Y,le,D)=>{var _=D(2674),L=0;Y.exports=function O(I){var C=++L;return _(I)+C}},8808:(Y,le,D)=>{var _=D(6680),L=D(4614);Y.exports=function O(I){return null==I?[]:_(I,L(I))}},4606:(Y,le,D)=>{var _=D(9553),L=D(2255);Y.exports=function O(I,C){return L(I||[],C||[],_)}}},Y=>{Y(Y.s=680)}]);